(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const o of f)if(o.type==="childList")for(const g of o.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function a(f){const o={};return f.integrity&&(o.integrity=f.integrity),f.referrerPolicy&&(o.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?o.credentials="include":f.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(f){if(f.ep)return;f.ep=!0;const o=a(f);fetch(f.href,o)}})();var ax={exports:{}},$i={};var Nd;function mh(){if(Nd)return $i;Nd=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,f,o){var g=null;if(o!==void 0&&(g=""+o),f.key!==void 0&&(g=""+f.key),"key"in f){o={};for(var _ in f)_!=="key"&&(o[_]=f[_])}else o=f;return f=o.ref,{$$typeof:u,type:i,key:g,ref:f!==void 0?f:null,props:o}}return $i.Fragment=r,$i.jsx=a,$i.jsxs=a,$i}var Ad;function bh(){return Ad||(Ad=1,ax.exports=mh()),ax.exports}var x=bh(),ix={exports:{}},Ne={};var Td;function gh(){if(Td)return Ne;Td=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function C(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function T(j,B,O){this.props=j,this.context=B,this.refs=v,this.updater=O||D}T.prototype.isReactComponent={},T.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function q(){}q.prototype=T.prototype;function E(j,B,O){this.props=j,this.context=B,this.refs=v,this.updater=O||D}var R=E.prototype=new q;R.constructor=E,b(R,T.prototype),R.isPureReactComponent=!0;var Y=Array.isArray;function U(){}var Z={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function P(j,B,O){var K=O.ref;return{$$typeof:u,type:j,key:B,ref:K!==void 0?K:null,props:O}}function Q(j,B){return P(j.type,B,j.props)}function X(j){return typeof j=="object"&&j!==null&&j.$$typeof===u}function I(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(O){return B[O]})}var H=/\/+/g;function w(j,B){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):B.toString(36)}function m(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(U,U):(j.status="pending",j.then(function(B){j.status==="pending"&&(j.status="fulfilled",j.value=B)},function(B){j.status==="pending"&&(j.status="rejected",j.reason=B)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function z(j,B,O,K,F){var te=typeof j;(te==="undefined"||te==="boolean")&&(j=null);var se=!1;if(j===null)se=!0;else switch(te){case"bigint":case"string":case"number":se=!0;break;case"object":switch(j.$$typeof){case u:case r:se=!0;break;case p:return se=j._init,z(se(j._payload),B,O,K,F)}}if(se)return F=F(j),se=K===""?"."+w(j,0):K,Y(F)?(O="",se!=null&&(O=se.replace(H,"$&/")+"/"),z(F,B,O,"",function(ge){return ge})):F!=null&&(X(F)&&(F=Q(F,O+(F.key==null||j&&j.key===F.key?"":(""+F.key).replace(H,"$&/")+"/")+se)),B.push(F)),1;se=0;var fe=K===""?".":K+":";if(Y(j))for(var he=0;he<j.length;he++)K=j[he],te=fe+w(K,he),se+=z(K,B,O,te,F);else if(he=C(j),typeof he=="function")for(j=he.call(j),he=0;!(K=j.next()).done;)K=K.value,te=fe+w(K,he++),se+=z(K,B,O,te,F);else if(te==="object"){if(typeof j.then=="function")return z(m(j),B,O,K,F);throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return se}function N(j,B,O){if(j==null)return j;var K=[],F=0;return z(j,K,"","",function(te){return B.call(O,te,F++)}),K}function A(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(O){(j._status===0||j._status===-1)&&(j._status=1,j._result=O)},function(O){(j._status===0||j._status===-1)&&(j._status=2,j._result=O)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var G=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},k={map:N,forEach:function(j,B,O){N(j,function(){B.apply(this,arguments)},O)},count:function(j){var B=0;return N(j,function(){B++}),B},toArray:function(j){return N(j,function(B){return B})||[]},only:function(j){if(!X(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ne.Activity=y,Ne.Children=k,Ne.Component=T,Ne.Fragment=a,Ne.Profiler=f,Ne.PureComponent=E,Ne.StrictMode=i,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Z.H.useMemoCache(j)}},Ne.cache=function(j){return function(){return j.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(j,B,O){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var K=b({},j.props),F=j.key;if(B!=null)for(te in B.key!==void 0&&(F=""+B.key),B)!J.call(B,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&B.ref===void 0||(K[te]=B[te]);var te=arguments.length-2;if(te===1)K.children=O;else if(1<te){for(var se=Array(te),fe=0;fe<te;fe++)se[fe]=arguments[fe+2];K.children=se}return P(j.type,F,K)},Ne.createContext=function(j){return j={$$typeof:g,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Ne.createElement=function(j,B,O){var K,F={},te=null;if(B!=null)for(K in B.key!==void 0&&(te=""+B.key),B)J.call(B,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(F[K]=B[K]);var se=arguments.length-2;if(se===1)F.children=O;else if(1<se){for(var fe=Array(se),he=0;he<se;he++)fe[he]=arguments[he+2];F.children=fe}if(j&&j.defaultProps)for(K in se=j.defaultProps,se)F[K]===void 0&&(F[K]=se[K]);return P(j,te,F)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(j){return{$$typeof:_,render:j}},Ne.isValidElement=X,Ne.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:A}},Ne.memo=function(j,B){return{$$typeof:h,type:j,compare:B===void 0?null:B}},Ne.startTransition=function(j){var B=Z.T,O={};Z.T=O;try{var K=j(),F=Z.S;F!==null&&F(O,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(U,G)}catch(te){G(te)}finally{B!==null&&O.types!==null&&(B.types=O.types),Z.T=B}},Ne.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ne.use=function(j){return Z.H.use(j)},Ne.useActionState=function(j,B,O){return Z.H.useActionState(j,B,O)},Ne.useCallback=function(j,B){return Z.H.useCallback(j,B)},Ne.useContext=function(j){return Z.H.useContext(j)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(j,B){return Z.H.useDeferredValue(j,B)},Ne.useEffect=function(j,B){return Z.H.useEffect(j,B)},Ne.useEffectEvent=function(j){return Z.H.useEffectEvent(j)},Ne.useId=function(){return Z.H.useId()},Ne.useImperativeHandle=function(j,B,O){return Z.H.useImperativeHandle(j,B,O)},Ne.useInsertionEffect=function(j,B){return Z.H.useInsertionEffect(j,B)},Ne.useLayoutEffect=function(j,B){return Z.H.useLayoutEffect(j,B)},Ne.useMemo=function(j,B){return Z.H.useMemo(j,B)},Ne.useOptimistic=function(j,B){return Z.H.useOptimistic(j,B)},Ne.useReducer=function(j,B,O){return Z.H.useReducer(j,B,O)},Ne.useRef=function(j){return Z.H.useRef(j)},Ne.useState=function(j){return Z.H.useState(j)},Ne.useSyncExternalStore=function(j,B,O){return Z.H.useSyncExternalStore(j,B,O)},Ne.useTransition=function(){return Z.H.useTransition()},Ne.version="19.2.3",Ne}var Ed;function Gx(){return Ed||(Ed=1,ix.exports=gh()),ix.exports}var ee=Gx(),rx={exports:{}},er={},ux={exports:{}},cx={};var Ld;function vh(){return Ld||(Ld=1,(function(u){function r(z,N){var A=z.length;z.push(N);e:for(;0<A;){var G=A-1>>>1,k=z[G];if(0<f(k,N))z[G]=N,z[A]=k,A=G;else break e}}function a(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var N=z[0],A=z.pop();if(A!==N){z[0]=A;e:for(var G=0,k=z.length,j=k>>>1;G<j;){var B=2*(G+1)-1,O=z[B],K=B+1,F=z[K];if(0>f(O,A))K<k&&0>f(F,O)?(z[G]=F,z[K]=A,G=K):(z[G]=O,z[B]=A,G=B);else if(K<k&&0>f(F,A))z[G]=F,z[K]=A,G=K;else break e}}return N}function f(z,N){var A=z.sortIndex-N.sortIndex;return A!==0?A:z.id-N.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var g=Date,_=g.now();u.unstable_now=function(){return g.now()-_}}var d=[],h=[],p=1,y=null,S=3,C=!1,D=!1,b=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function R(z){for(var N=a(h);N!==null;){if(N.callback===null)i(h);else if(N.startTime<=z)i(h),N.sortIndex=N.expirationTime,r(d,N);else break;N=a(h)}}function Y(z){if(b=!1,R(z),!D)if(a(d)!==null)D=!0,U||(U=!0,I());else{var N=a(h);N!==null&&m(Y,N.startTime-z)}}var U=!1,Z=-1,J=5,P=-1;function Q(){return v?!0:!(u.unstable_now()-P<J)}function X(){if(v=!1,U){var z=u.unstable_now();P=z;var N=!0;try{e:{D=!1,b&&(b=!1,q(Z),Z=-1),C=!0;var A=S;try{t:{for(R(z),y=a(d);y!==null&&!(y.expirationTime>z&&Q());){var G=y.callback;if(typeof G=="function"){y.callback=null,S=y.priorityLevel;var k=G(y.expirationTime<=z);if(z=u.unstable_now(),typeof k=="function"){y.callback=k,R(z),N=!0;break t}y===a(d)&&i(d),R(z)}else i(d);y=a(d)}if(y!==null)N=!0;else{var j=a(h);j!==null&&m(Y,j.startTime-z),N=!1}}break e}finally{y=null,S=A,C=!1}N=void 0}}finally{N?I():U=!1}}}var I;if(typeof E=="function")I=function(){E(X)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,w=H.port2;H.port1.onmessage=X,I=function(){w.postMessage(null)}}else I=function(){T(X,0)};function m(z,N){Z=T(function(){z(u.unstable_now())},N)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(z){z.callback=null},u.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<z?Math.floor(1e3/z):5},u.unstable_getCurrentPriorityLevel=function(){return S},u.unstable_next=function(z){switch(S){case 1:case 2:case 3:var N=3;break;default:N=S}var A=S;S=N;try{return z()}finally{S=A}},u.unstable_requestPaint=function(){v=!0},u.unstable_runWithPriority=function(z,N){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var A=S;S=z;try{return N()}finally{S=A}},u.unstable_scheduleCallback=function(z,N,A){var G=u.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?G+A:G):A=G,z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=A+k,z={id:p++,callback:N,priorityLevel:z,startTime:A,expirationTime:k,sortIndex:-1},A>G?(z.sortIndex=A,r(h,z),a(d)===null&&z===a(h)&&(b?(q(Z),Z=-1):b=!0,m(Y,A-G))):(z.sortIndex=k,r(d,z),D||C||(D=!0,U||(U=!0,I()))),z},u.unstable_shouldYield=Q,u.unstable_wrapCallback=function(z){var N=S;return function(){var A=S;S=N;try{return z.apply(this,arguments)}finally{S=A}}}})(cx)),cx}var Bd;function ph(){return Bd||(Bd=1,ux.exports=vh()),ux.exports}var xx={exports:{}},Zt={};var kd;function yh(){if(kd)return Zt;kd=1;var u=Gx();function r(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function o(d,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:y==null?null:""+y,children:d,containerInfo:h,implementation:p}}var g=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zt.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(r(299));return o(d,h,null,p)},Zt.flushSync=function(d){var h=g.T,p=i.p;try{if(g.T=null,i.p=2,d)return d()}finally{g.T=h,i.p=p,i.d.f()}},Zt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Zt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Zt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,y=_(p,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:C}):p==="script"&&i.d.X(d,{crossOrigin:y,integrity:S,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Zt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=_(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Zt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,y=_(p,h.crossOrigin);i.d.L(d,p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Zt.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=_(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Zt.requestFormReset=function(d){i.d.r(d)},Zt.unstable_batchedUpdates=function(d,h){return d(h)},Zt.useFormState=function(d,h,p){return g.H.useFormState(d,h,p)},Zt.useFormStatus=function(){return g.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var qd;function _h(){if(qd)return xx.exports;qd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),xx.exports=yh(),xx.exports}var Id;function Sh(){if(Id)return er;Id=1;var u=ph(),r=Gx(),a=_h();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(i(188))}function h(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var s=c.alternate;if(s===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===s.child){for(s=c.child;s;){if(s===n)return d(c),e;if(s===l)return d(c),t;s=s.sibling}throw Error(i(188))}if(n.return!==l.return)n=c,l=s;else{for(var M=!1,L=c.child;L;){if(L===n){M=!0,n=c,l=s;break}if(L===l){M=!0,l=c,n=s;break}L=L.sibling}if(!M){for(L=s.child;L;){if(L===n){M=!0,n=s,l=c;break}if(L===l){M=!0,l=s,n=c;break}L=L.sibling}if(!M)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),E=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var H=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===H?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case T:return"Profiler";case v:return"StrictMode";case Y:return"Suspense";case U:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case E:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case R:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:w(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return w(e(t))}catch{}}return null}var m=Array.isArray,z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A={pending:!1,data:null,method:null,action:null},G=[],k=-1;function j(e){return{current:e}}function B(e){0>k||(e.current=G[k],G[k]=null,k--)}function O(e,t){k++,G[k]=e.current,e.current=t}var K=j(null),F=j(null),te=j(null),se=j(null);function fe(e,t){switch(O(te,t),O(F,e),O(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ff(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ff(t),e=$f(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(K),O(K,e)}function he(){B(K),B(F),B(te)}function ge(e){e.memoizedState!==null&&O(se,e);var t=K.current,n=$f(t,e.type);t!==n&&(O(F,e),O(K,n))}function de(e){F.current===e&&(B(K),B(F)),se.current===e&&(B(se),Vi._currentValue=A)}var pe,Ie;function Oe(e){if(pe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pe=t&&t[1]||"",Ie=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+Ie}var at=!1;function nt(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ie){var ae=ie}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ie){ae=ie}e.call(ce.prototype)}}else{try{throw Error()}catch(ie){ae=ie}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ie){if(ie&&ae&&typeof ie.stack=="string")return[ie.stack,ae.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),M=s[0],L=s[1];if(M&&L){var W=M.split(`
`),le=L.split(`
`);for(c=l=0;l<W.length&&!W[l].includes("DetermineComponentFrameRoot");)l++;for(;c<le.length&&!le[c].includes("DetermineComponentFrameRoot");)c++;if(l===W.length||c===le.length)for(l=W.length-1,c=le.length-1;1<=l&&0<=c&&W[l]!==le[c];)c--;for(;1<=l&&0<=c;l--,c--)if(W[l]!==le[c]){if(l!==1||c!==1)do if(l--,c--,0>c||W[l]!==le[c]){var re=`
`+W[l].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=l&&0<=c);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Oe(n):""}function At(e,t){switch(e.tag){case 26:case 27:case 5:return Oe(e.type);case 16:return Oe("Lazy");case 13:return e.child!==t&&t!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return nt(e.type,!1);case 11:return nt(e.type.render,!1);case 1:return nt(e.type,!0);case 31:return Oe("Activity");default:return""}}function bt(e){try{var t="",n=null;do t+=At(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,Lt=u.unstable_scheduleCallback,Xt=u.unstable_cancelCallback,sn=u.unstable_shouldYield,on=u.unstable_requestPaint,Ze=u.unstable_now,Jt=u.unstable_getCurrentPriorityLevel,Wt=u.unstable_ImmediatePriority,Un=u.unstable_UserBlockingPriority,Zn=u.unstable_NormalPriority,Fn=u.unstable_LowPriority,$n=u.unstable_IdlePriority,wn=u.log,aa=u.unstable_setDisableYieldValue,fn=null,Gt=null;function Mn(e){if(typeof wn=="function"&&aa(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(fn,e)}catch{}}var Ye=Math.clz32?Math.clz32:ke,oe=Math.log,Be=Math.LN2;function ke(e){return e>>>=0,e===0?32:31-(oe(e)/Be|0)|0}var Ce=256,_e=262144,Ae=4194304;function ze(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,s=e.suspendedLanes,M=e.pingedLanes;e=e.warmLanes;var L=l&134217727;return L!==0?(l=L&~s,l!==0?c=ze(l):(M&=L,M!==0?c=ze(M):n||(n=L&~e,n!==0&&(c=ze(n))))):(L=l&~s,L!==0?c=ze(L):M!==0?c=ze(M):n||(n=l&~e,n!==0&&(c=ze(n)))),c===0?0:t!==0&&t!==c&&(t&s)===0&&(s=c&-c,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:c}function Fe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function We(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function Ve(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rt(e,t,n,l,c,s){var M=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var L=e.entanglements,W=e.expirationTimes,le=e.hiddenUpdates;for(n=M&~n;0<n;){var re=31-Ye(n),ce=1<<re;L[re]=0,W[re]=-1;var ae=le[re];if(ae!==null)for(le[re]=null,re=0;re<ae.length;re++){var ie=ae[re];ie!==null&&(ie.lane&=-536870913)}n&=~ce}l!==0&&et(e,l,0),s!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=s&~(M&~t))}function et(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ye(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Tt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Ye(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function ut(e,t){var n=t&-t;return n=(n&42)!==0?1:lt(n),(n&(e.suspendedLanes|t))!==0?0:n}function lt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jn(){var e=N.p;return e!==0?e:(e=window.event,e===void 0?32:Sd(e.type))}function wa(e,t){var n=N.p;try{return N.p=e,t()}finally{N.p=n}}var Ft=Math.random().toString(36).slice(2),De="__reactFiber$"+Ft,Ot="__reactProps$"+Ft,Al="__reactContainer$"+Ft,zn="__reactEvents$"+Ft,V0="__reactListeners$"+Ft,Q0="__reactHandles$"+Ft,or="__reactResources$"+Ft,ia="__reactMarker$"+Ft;function oi(e){delete e[De],delete e[Ot],delete e[zn],delete e[V0],delete e[Q0]}function Tl(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Al]||n[De]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rd(e);e!==null;){if(n=e[De])return n;e=rd(e)}return t}e=n,n=e.parentNode}return null}function me(e){if(e=e[De]||e[Al]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Se(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function qe(e){var t=e[or];return t||(t=e[or]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[ia]=!0}var Ct=new Set,el={};function sl(e,t){Ma(e,t),Ma(e+"Capture",t)}function Ma(e,t){for(el[e]=t,e=0;e<t.length;e++)Ct.add(t[e])}var r1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ox={},Yx={};function u1(e){return ft.call(Yx,e)?!0:ft.call(Ox,e)?!1:r1.test(e)?Yx[e]=!0:(Ox[e]=!0,!1)}function fr(e,t,n){if(u1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function dr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ol(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(M){n=""+M,s.call(this,M)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(M){n=""+M},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P0(e){if(!e._valueTracker){var t=Hx(e)?"checked":"value";e._valueTracker=c1(e,t,""+e[t])}}function Kx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Hx(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function hr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var x1=/[\n"\\]/g;function Nn(e){return e.replace(x1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function F0(e,t,n,l,c,s,M,L){e.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.type=M:e.removeAttribute("type"),t!=null?M==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dn(t)):e.value!==""+Dn(t)&&(e.value=""+Dn(t)):M!=="submit"&&M!=="reset"||e.removeAttribute("value"),t!=null?$0(e,M,Dn(t)):n!=null?$0(e,M,Dn(n)):l!=null&&e.removeAttribute("value"),c==null&&s!=null&&(e.defaultChecked=!!s),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+Dn(L):e.removeAttribute("name")}function Ux(e,t,n,l,c,s,M,L){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){P0(e);return}n=n!=null?""+Dn(n):"",t=t!=null?""+Dn(t):n,L||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=L?e.checked:!!l,e.defaultChecked=!!l,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(e.name=M),P0(e)}function $0(e,t,n){t==="number"&&hr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ja(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Dn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Zx(e,t,n){if(t!=null&&(t=""+Dn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Dn(n):""}function Xx(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(m(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Dn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),P0(e)}function za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var s1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jx(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||s1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Wx(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Jx(e,c,l)}else for(var s in t)t.hasOwnProperty(s)&&Jx(e,s,t[s])}function eu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(e){return f1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fl(){}var tu=null;function nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Na=null;function Vx(e){var t=me(e);if(t&&(e=t.stateNode)){var n=e[Ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(F0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Ot]||null;if(!c)throw Error(i(90));F0(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Kx(l)}break e;case"textarea":Zx(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ja(e,!!n.multiple,t,!1)}}}var lu=!1;function Qx(e,t,n){if(lu)return e(t,n);lu=!0;try{var l=e(t);return l}finally{if(lu=!1,(Da!==null||Na!==null)&&(n0(),Da&&(t=Da,e=Na,Na=Da=null,Vx(t),e)))for(t=0;t<e.length;t++)Vx(e[t])}}function fi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ot]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var dl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),au=!1;if(dl)try{var di={};Object.defineProperty(di,"passive",{get:function(){au=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{au=!1}var El=null,iu=null,br=null;function Px(){if(br)return br;var e,t=iu,n=t.length,l,c="value"in El?El.value:El.textContent,s=c.length;for(e=0;e<n&&t[e]===c[e];e++);var M=n-e;for(l=1;l<=M&&t[n-l]===c[s-l];l++);return br=c.slice(e,1<l?1-l:void 0)}function gr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vr(){return!0}function Fx(){return!1}function $t(e){function t(n,l,c,s,M){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=s,this.target=M,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(n=e[L],this[L]=n?n(s):s[L]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vr:Fx,this.isPropagationStopped=Fx,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=$t(ra),hi=y({},ra,{view:0,detail:0}),d1=$t(hi),ru,uu,mi,yr=y({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(ru=e.screenX-mi.screenX,uu=e.screenY-mi.screenY):uu=ru=0,mi=e),ru)},movementY:function(e){return"movementY"in e?e.movementY:uu}}),$x=$t(yr),h1=y({},yr,{dataTransfer:0}),m1=$t(h1),b1=y({},hi,{relatedTarget:0}),cu=$t(b1),g1=y({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),v1=$t(g1),p1=y({},ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y1=$t(p1),_1=y({},ra,{data:0}),es=$t(_1),S1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w1[e])?!!t[e]:!1}function xu(){return M1}var j1=y({},hi,{key:function(e){if(e.key){var t=S1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z1=$t(j1),D1=y({},yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=$t(D1),N1=y({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),A1=$t(N1),T1=y({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),E1=$t(T1),L1=y({},yr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B1=$t(L1),k1=y({},ra,{newState:0,oldState:0}),q1=$t(k1),I1=[9,13,27,32],su=dl&&"CompositionEvent"in window,bi=null;dl&&"documentMode"in document&&(bi=document.documentMode);var G1=dl&&"TextEvent"in window&&!bi,ns=dl&&(!su||bi&&8<bi&&11>=bi),ls=" ",as=!1;function is(e,t){switch(e){case"keyup":return I1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function R1(e,t){switch(e){case"compositionend":return rs(t);case"keypress":return t.which!==32?null:(as=!0,ls);case"textInput":return e=t.data,e===ls&&as?null:e;default:return null}}function O1(e,t){if(Aa)return e==="compositionend"||!su&&is(e,t)?(e=Px(),br=iu=El=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ns&&t.locale!=="ko"?null:t.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Y1[e.type]:t==="textarea"}function cs(e,t,n,l){Da?Na?Na.push(l):Na=[l]:Da=l,t=x0(t,"onChange"),0<t.length&&(n=new pr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var gi=null,vi=null;function H1(e){Xf(e,0)}function _r(e){var t=Se(e);if(Kx(t))return e}function xs(e,t){if(e==="change")return t}var ss=!1;if(dl){var ou;if(dl){var fu="oninput"in document;if(!fu){var os=document.createElement("div");os.setAttribute("oninput","return;"),fu=typeof os.oninput=="function"}ou=fu}else ou=!1;ss=ou&&(!document.documentMode||9<document.documentMode)}function fs(){gi&&(gi.detachEvent("onpropertychange",ds),vi=gi=null)}function ds(e){if(e.propertyName==="value"&&_r(vi)){var t=[];cs(t,vi,e,nu(e)),Qx(H1,t)}}function K1(e,t,n){e==="focusin"?(fs(),gi=t,vi=n,gi.attachEvent("onpropertychange",ds)):e==="focusout"&&fs()}function U1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _r(vi)}function Z1(e,t){if(e==="click")return _r(t)}function X1(e,t){if(e==="input"||e==="change")return _r(t)}function J1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:J1;function pi(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!ft.call(t,c)||!dn(e[c],t[c]))return!1}return!0}function hs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ms(e,t){var n=hs(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hs(n)}}function bs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=hr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hr(e.document)}return t}function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var W1=dl&&"documentMode"in document&&11>=document.documentMode,Ta=null,hu=null,yi=null,mu=!1;function vs(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mu||Ta==null||Ta!==hr(l)||(l=Ta,"selectionStart"in l&&du(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yi&&pi(yi,l)||(yi=l,l=x0(hu,"onSelect"),0<l.length&&(t=new pr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Ta)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ea={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},bu={},ps={};dl&&(ps=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function ca(e){if(bu[e])return bu[e];if(!Ea[e])return e;var t=Ea[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ps)return bu[e]=t[n];return e}var ys=ca("animationend"),_s=ca("animationiteration"),Ss=ca("animationstart"),V1=ca("transitionrun"),Q1=ca("transitionstart"),P1=ca("transitioncancel"),Cs=ca("transitionend"),ws=new Map,gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gu.push("scrollEnd");function Xn(e,t){ws.set(e,t),sl(t,[e])}var Sr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},An=[],La=0,vu=0;function Cr(){for(var e=La,t=vu=La=0;t<e;){var n=An[t];An[t++]=null;var l=An[t];An[t++]=null;var c=An[t];An[t++]=null;var s=An[t];if(An[t++]=null,l!==null&&c!==null){var M=l.pending;M===null?c.next=c:(c.next=M.next,M.next=c),l.pending=c}s!==0&&Ms(n,c,s)}}function wr(e,t,n,l){An[La++]=e,An[La++]=t,An[La++]=n,An[La++]=l,vu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function pu(e,t,n,l){return wr(e,t,n,l),Mr(e)}function xa(e,t){return wr(e,null,null,t),Mr(e)}function Ms(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(c=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,c&&t!==null&&(c=31-Ye(n),e=s.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),s):null}function Mr(e){if(50<Hi)throw Hi=0,Dc=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ba={};function F1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,t,n,l){return new F1(e,t,n,l)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hl(e,t){var n=e.alternate;return n===null?(n=hn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function js(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jr(e,t,n,l,c,s){var M=0;if(l=e,typeof e=="function")yu(e)&&(M=1);else if(typeof e=="string")M=lh(e,n,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=hn(31,n,t,c),e.elementType=P,e.lanes=s,e;case b:return sa(n.children,c,s,t);case v:M=8,c|=24;break;case T:return e=hn(12,n,t,c|2),e.elementType=T,e.lanes=s,e;case Y:return e=hn(13,n,t,c),e.elementType=Y,e.lanes=s,e;case U:return e=hn(19,n,t,c),e.elementType=U,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:M=10;break e;case q:M=9;break e;case R:M=11;break e;case Z:M=14;break e;case J:M=16,l=null;break e}M=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=hn(M,n,t,c),t.elementType=e,t.type=l,t.lanes=s,t}function sa(e,t,n,l){return e=hn(7,e,l,t),e.lanes=n,e}function _u(e,t,n){return e=hn(6,e,null,t),e.lanes=n,e}function zs(e){var t=hn(18,null,null,0);return t.stateNode=e,t}function Su(e,t,n){return t=hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ds=new WeakMap;function Tn(e,t){if(typeof e=="object"&&e!==null){var n=Ds.get(e);return n!==void 0?n:(t={value:e,source:t,stack:bt(t)},Ds.set(e,t),t)}return{value:e,source:t,stack:bt(t)}}var ka=[],qa=0,zr=null,_i=0,En=[],Ln=0,Ll=null,tl=1,nl="";function ml(e,t){ka[qa++]=_i,ka[qa++]=zr,zr=e,_i=t}function Ns(e,t,n){En[Ln++]=tl,En[Ln++]=nl,En[Ln++]=Ll,Ll=e;var l=tl;e=nl;var c=32-Ye(l)-1;l&=~(1<<c),n+=1;var s=32-Ye(t)+c;if(30<s){var M=c-c%5;s=(l&(1<<M)-1).toString(32),l>>=M,c-=M,tl=1<<32-Ye(t)+c|n<<c|l,nl=s+e}else tl=1<<s|n<<c|l,nl=e}function Cu(e){e.return!==null&&(ml(e,1),Ns(e,1,0))}function wu(e){for(;e===zr;)zr=ka[--qa],ka[qa]=null,_i=ka[--qa],ka[qa]=null;for(;e===Ll;)Ll=En[--Ln],En[Ln]=null,nl=En[--Ln],En[Ln]=null,tl=En[--Ln],En[Ln]=null}function As(e,t){En[Ln++]=tl,En[Ln++]=nl,En[Ln++]=Ll,tl=t.id,nl=t.overflow,Ll=e}var Yt=null,dt=null,Ue=!1,Bl=null,Bn=!1,Mu=Error(i(519));function kl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Si(Tn(t,e)),Mu}function Ts(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[De]=e,t[Ot]=l,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<Ui.length;n++)Re(Ui[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Ux(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Xx(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Qf(t.textContent,n)?(l.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),l.onScroll!=null&&Re("scroll",t),l.onScrollEnd!=null&&Re("scrollend",t),l.onClick!=null&&(t.onclick=fl),t=!0):t=!1,t||kl(e,!0)}function Es(e){for(Yt=e.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Yt=Yt.return}}function Ia(e){if(e!==Yt)return!1;if(!Ue)return Es(e),Ue=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Kc(e.type,e.memoizedProps)),n=!n),n&&dt&&kl(e),Es(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));dt=id(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));dt=id(e)}else t===27?(t=dt,Vl(e.type)?(e=Wc,Wc=null,dt=e):dt=t):dt=Yt?qn(e.stateNode.nextSibling):null;return!0}function oa(){dt=Yt=null,Ue=!1}function ju(){var e=Bl;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),Bl=null),e}function Si(e){Bl===null?Bl=[e]:Bl.push(e)}var zu=j(null),fa=null,bl=null;function ql(e,t,n){O(zu,t._currentValue),t._currentValue=n}function gl(e){e._currentValue=zu.current,B(zu)}function Du(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Nu(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var s=c.dependencies;if(s!==null){var M=c.child;s=s.firstContext;e:for(;s!==null;){var L=s;s=c;for(var W=0;W<t.length;W++)if(L.context===t[W]){s.lanes|=n,L=s.alternate,L!==null&&(L.lanes|=n),Du(s.return,n,e),l||(M=null);break e}s=L.next}}else if(c.tag===18){if(M=c.return,M===null)throw Error(i(341));M.lanes|=n,s=M.alternate,s!==null&&(s.lanes|=n),Du(M,n,e),M=null}else M=c.child;if(M!==null)M.return=c;else for(M=c;M!==null;){if(M===e){M=null;break}if(c=M.sibling,c!==null){c.return=M.return,M=c;break}M=M.return}c=M}}function Ga(e,t,n,l){e=null;for(var c=t,s=!1;c!==null;){if(!s){if((c.flags&524288)!==0)s=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var M=c.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var L=c.type;dn(c.pendingProps.value,M.value)||(e!==null?e.push(L):e=[L])}}else if(c===se.current){if(M=c.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Vi):e=[Vi])}c=c.return}e!==null&&Nu(t,e,n,l),t.flags|=262144}function Dr(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function da(e){fa=e,bl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return Ls(fa,e)}function Nr(e,t){return fa===null&&da(e),Ls(e,t)}function Ls(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},bl===null){if(e===null)throw Error(i(308));bl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bl=bl.next=t;return n}var $1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},e2=u.unstable_scheduleCallback,t2=u.unstable_NormalPriority,wt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new $1,data:new Map,refCount:0}}function Ci(e){e.refCount--,e.refCount===0&&e2(t2,function(){e.controller.abort()})}var wi=null,Tu=0,Ra=0,Oa=null;function n2(e,t){if(wi===null){var n=wi=[];Tu=0,Ra=Bc(),Oa={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Tu++,t.then(Bs,Bs),t}function Bs(){if(--Tu===0&&wi!==null){Oa!==null&&(Oa.status="fulfilled");var e=wi;wi=null,Ra=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function l2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var ks=z.S;z.S=function(e,t){yf=Ze(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&n2(e,t),ks!==null&&ks(e,t)};var ha=j(null);function Eu(){var e=ha.current;return e!==null?e:ot.pooledCache}function Ar(e,t){t===null?O(ha,ha.current):O(ha,t.pool)}function qs(){var e=Eu();return e===null?null:{parent:wt._currentValue,pool:e}}var Ya=Error(i(460)),Lu=Error(i(474)),Tr=Error(i(542)),Er={then:function(){}};function Is(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(fl,fl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Os(e),e;default:if(typeof t.status=="string")t.then(fl,fl);else{if(e=ot,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Os(e),e}throw ba=t,Ya}}function ma(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ba=n,Ya):n}}var ba=null;function Rs(){if(ba===null)throw Error(i(459));var e=ba;return ba=null,e}function Os(e){if(e===Ya||e===Tr)throw Error(i(483))}var Ha=null,Mi=0;function Lr(e){var t=Mi;return Mi+=1,Ha===null&&(Ha=[]),Gs(Ha,e,t)}function ji(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Br(e,t){throw t.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ys(e){function t($,V){if(e){var ne=$.deletions;ne===null?($.deletions=[V],$.flags|=16):ne.push(V)}}function n($,V){if(!e)return null;for(;V!==null;)t($,V),V=V.sibling;return null}function l($){for(var V=new Map;$!==null;)$.key!==null?V.set($.key,$):V.set($.index,$),$=$.sibling;return V}function c($,V){return $=hl($,V),$.index=0,$.sibling=null,$}function s($,V,ne){return $.index=ne,e?(ne=$.alternate,ne!==null?(ne=ne.index,ne<V?($.flags|=67108866,V):ne):($.flags|=67108866,V)):($.flags|=1048576,V)}function M($){return e&&$.alternate===null&&($.flags|=67108866),$}function L($,V,ne,ue){return V===null||V.tag!==6?(V=_u(ne,$.mode,ue),V.return=$,V):(V=c(V,ne),V.return=$,V)}function W($,V,ne,ue){var Me=ne.type;return Me===b?re($,V,ne.props.children,ue,ne.key):V!==null&&(V.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===J&&ma(Me)===V.type)?(V=c(V,ne.props),ji(V,ne),V.return=$,V):(V=jr(ne.type,ne.key,ne.props,null,$.mode,ue),ji(V,ne),V.return=$,V)}function le($,V,ne,ue){return V===null||V.tag!==4||V.stateNode.containerInfo!==ne.containerInfo||V.stateNode.implementation!==ne.implementation?(V=Su(ne,$.mode,ue),V.return=$,V):(V=c(V,ne.children||[]),V.return=$,V)}function re($,V,ne,ue,Me){return V===null||V.tag!==7?(V=sa(ne,$.mode,ue,Me),V.return=$,V):(V=c(V,ne),V.return=$,V)}function ce($,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=_u(""+V,$.mode,ne),V.return=$,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return ne=jr(V.type,V.key,V.props,null,$.mode,ne),ji(ne,V),ne.return=$,ne;case D:return V=Su(V,$.mode,ne),V.return=$,V;case J:return V=ma(V),ce($,V,ne)}if(m(V)||I(V))return V=sa(V,$.mode,ne,null),V.return=$,V;if(typeof V.then=="function")return ce($,Lr(V),ne);if(V.$$typeof===E)return ce($,Nr($,V),ne);Br($,V)}return null}function ae($,V,ne,ue){var Me=V!==null?V.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Me!==null?null:L($,V,""+ne,ue);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:return ne.key===Me?W($,V,ne,ue):null;case D:return ne.key===Me?le($,V,ne,ue):null;case J:return ne=ma(ne),ae($,V,ne,ue)}if(m(ne)||I(ne))return Me!==null?null:re($,V,ne,ue,null);if(typeof ne.then=="function")return ae($,V,Lr(ne),ue);if(ne.$$typeof===E)return ae($,V,Nr($,ne),ue);Br($,ne)}return null}function ie($,V,ne,ue,Me){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return $=$.get(ne)||null,L(V,$,""+ue,Me);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case C:return $=$.get(ue.key===null?ne:ue.key)||null,W(V,$,ue,Me);case D:return $=$.get(ue.key===null?ne:ue.key)||null,le(V,$,ue,Me);case J:return ue=ma(ue),ie($,V,ne,ue,Me)}if(m(ue)||I(ue))return $=$.get(ne)||null,re(V,$,ue,Me,null);if(typeof ue.then=="function")return ie($,V,ne,Lr(ue),Me);if(ue.$$typeof===E)return ie($,V,ne,Nr(V,ue),Me);Br(V,ue)}return null}function be($,V,ne,ue){for(var Me=null,Qe=null,ve=V,Le=V=0,Ke=null;ve!==null&&Le<ne.length;Le++){ve.index>Le?(Ke=ve,ve=null):Ke=ve.sibling;var Pe=ae($,ve,ne[Le],ue);if(Pe===null){ve===null&&(ve=Ke);break}e&&ve&&Pe.alternate===null&&t($,ve),V=s(Pe,V,Le),Qe===null?Me=Pe:Qe.sibling=Pe,Qe=Pe,ve=Ke}if(Le===ne.length)return n($,ve),Ue&&ml($,Le),Me;if(ve===null){for(;Le<ne.length;Le++)ve=ce($,ne[Le],ue),ve!==null&&(V=s(ve,V,Le),Qe===null?Me=ve:Qe.sibling=ve,Qe=ve);return Ue&&ml($,Le),Me}for(ve=l(ve);Le<ne.length;Le++)Ke=ie(ve,$,Le,ne[Le],ue),Ke!==null&&(e&&Ke.alternate!==null&&ve.delete(Ke.key===null?Le:Ke.key),V=s(Ke,V,Le),Qe===null?Me=Ke:Qe.sibling=Ke,Qe=Ke);return e&&ve.forEach(function(ea){return t($,ea)}),Ue&&ml($,Le),Me}function je($,V,ne,ue){if(ne==null)throw Error(i(151));for(var Me=null,Qe=null,ve=V,Le=V=0,Ke=null,Pe=ne.next();ve!==null&&!Pe.done;Le++,Pe=ne.next()){ve.index>Le?(Ke=ve,ve=null):Ke=ve.sibling;var ea=ae($,ve,Pe.value,ue);if(ea===null){ve===null&&(ve=Ke);break}e&&ve&&ea.alternate===null&&t($,ve),V=s(ea,V,Le),Qe===null?Me=ea:Qe.sibling=ea,Qe=ea,ve=Ke}if(Pe.done)return n($,ve),Ue&&ml($,Le),Me;if(ve===null){for(;!Pe.done;Le++,Pe=ne.next())Pe=ce($,Pe.value,ue),Pe!==null&&(V=s(Pe,V,Le),Qe===null?Me=Pe:Qe.sibling=Pe,Qe=Pe);return Ue&&ml($,Le),Me}for(ve=l(ve);!Pe.done;Le++,Pe=ne.next())Pe=ie(ve,$,Le,Pe.value,ue),Pe!==null&&(e&&Pe.alternate!==null&&ve.delete(Pe.key===null?Le:Pe.key),V=s(Pe,V,Le),Qe===null?Me=Pe:Qe.sibling=Pe,Qe=Pe);return e&&ve.forEach(function(hh){return t($,hh)}),Ue&&ml($,Le),Me}function st($,V,ne,ue){if(typeof ne=="object"&&ne!==null&&ne.type===b&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:e:{for(var Me=ne.key;V!==null;){if(V.key===Me){if(Me=ne.type,Me===b){if(V.tag===7){n($,V.sibling),ue=c(V,ne.props.children),ue.return=$,$=ue;break e}}else if(V.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===J&&ma(Me)===V.type){n($,V.sibling),ue=c(V,ne.props),ji(ue,ne),ue.return=$,$=ue;break e}n($,V);break}else t($,V);V=V.sibling}ne.type===b?(ue=sa(ne.props.children,$.mode,ue,ne.key),ue.return=$,$=ue):(ue=jr(ne.type,ne.key,ne.props,null,$.mode,ue),ji(ue,ne),ue.return=$,$=ue)}return M($);case D:e:{for(Me=ne.key;V!==null;){if(V.key===Me)if(V.tag===4&&V.stateNode.containerInfo===ne.containerInfo&&V.stateNode.implementation===ne.implementation){n($,V.sibling),ue=c(V,ne.children||[]),ue.return=$,$=ue;break e}else{n($,V);break}else t($,V);V=V.sibling}ue=Su(ne,$.mode,ue),ue.return=$,$=ue}return M($);case J:return ne=ma(ne),st($,V,ne,ue)}if(m(ne))return be($,V,ne,ue);if(I(ne)){if(Me=I(ne),typeof Me!="function")throw Error(i(150));return ne=Me.call(ne),je($,V,ne,ue)}if(typeof ne.then=="function")return st($,V,Lr(ne),ue);if(ne.$$typeof===E)return st($,V,Nr($,ne),ue);Br($,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,V!==null&&V.tag===6?(n($,V.sibling),ue=c(V,ne),ue.return=$,$=ue):(n($,V),ue=_u(ne,$.mode,ue),ue.return=$,$=ue),M($)):n($,V)}return function($,V,ne,ue){try{Mi=0;var Me=st($,V,ne,ue);return Ha=null,Me}catch(ve){if(ve===Ya||ve===Tr)throw ve;var Qe=hn(29,ve,null,$.mode);return Qe.lanes=ue,Qe.return=$,Qe}}}var ga=Ys(!0),Hs=Ys(!1),Il=!1;function Bu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Mr(e),Ms(e,null,n),t}return wr(e,l,t,n),Mr(e)}function zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Tt(e,n)}}function qu(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var M={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?c=s=M:s=s.next=M,n=n.next}while(n!==null);s===null?c=s=t:s=s.next=t}else c=s=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Iu=!1;function Di(){if(Iu){var e=Oa;if(e!==null)throw e}}function Ni(e,t,n,l){Iu=!1;var c=e.updateQueue;Il=!1;var s=c.firstBaseUpdate,M=c.lastBaseUpdate,L=c.shared.pending;if(L!==null){c.shared.pending=null;var W=L,le=W.next;W.next=null,M===null?s=le:M.next=le,M=W;var re=e.alternate;re!==null&&(re=re.updateQueue,L=re.lastBaseUpdate,L!==M&&(L===null?re.firstBaseUpdate=le:L.next=le,re.lastBaseUpdate=W))}if(s!==null){var ce=c.baseState;M=0,re=le=W=null,L=s;do{var ae=L.lane&-536870913,ie=ae!==L.lane;if(ie?(He&ae)===ae:(l&ae)===ae){ae!==0&&ae===Ra&&(Iu=!0),re!==null&&(re=re.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var be=e,je=L;ae=t;var st=n;switch(je.tag){case 1:if(be=je.payload,typeof be=="function"){ce=be.call(st,ce,ae);break e}ce=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=je.payload,ae=typeof be=="function"?be.call(st,ce,ae):be,ae==null)break e;ce=y({},ce,ae);break e;case 2:Il=!0}}ae=L.callback,ae!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=c.callbacks,ie===null?c.callbacks=[ae]:ie.push(ae))}else ie={lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},re===null?(le=re=ie,W=ce):re=re.next=ie,M|=ae;if(L=L.next,L===null){if(L=c.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,c.lastBaseUpdate=ie,c.shared.pending=null}}while(!0);re===null&&(W=ce),c.baseState=W,c.firstBaseUpdate=le,c.lastBaseUpdate=re,s===null&&(c.shared.lanes=0),Ul|=M,e.lanes=M,e.memoizedState=ce}}function Ks(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Us(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ks(n[e],t)}var Ka=j(null),kr=j(0);function Zs(e,t){e=jl,O(kr,e),O(Ka,t),jl=e|t.baseLanes}function Gu(){O(kr,jl),O(Ka,Ka.current)}function Ru(){jl=kr.current,B(Ka),B(kr)}var mn=j(null),kn=null;function Ol(e){var t=e.alternate;O(_t,_t.current&1),O(mn,e),kn===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(kn=e)}function Ou(e){O(_t,_t.current),O(mn,e),kn===null&&(kn=e)}function Xs(e){e.tag===22?(O(_t,_t.current),O(mn,e),kn===null&&(kn=e)):Yl()}function Yl(){O(_t,_t.current),O(mn,mn.current)}function bn(e){B(mn),kn===e&&(kn=null),B(_t)}var _t=j(0);function qr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xc(n)||Jc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vl=0,Ee=null,ct=null,Mt=null,Ir=!1,Ua=!1,va=!1,Gr=0,Ai=0,Za=null,a2=0;function vt(){throw Error(i(321))}function Yu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function Hu(e,t,n,l,c,s){return vl=s,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Ao:lc,va=!1,s=n(l,c),va=!1,Ua&&(s=Ws(t,n,l,c)),Js(e),s}function Js(e){z.H=Li;var t=ct!==null&&ct.next!==null;if(vl=0,Mt=ct=Ee=null,Ir=!1,Ai=0,Za=null,t)throw Error(i(300));e===null||jt||(e=e.dependencies,e!==null&&Dr(e)&&(jt=!0))}function Ws(e,t,n,l){Ee=e;var c=0;do{if(Ua&&(Za=null),Ai=0,Ua=!1,25<=c)throw Error(i(301));if(c+=1,Mt=ct=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}z.H=To,s=t(n,l)}while(Ua);return s}function i2(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Ti(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Ee.flags|=1024),t}function Ku(){var e=Gr!==0;return Gr=0,e}function Uu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Zu(e){if(Ir){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ir=!1}vl=0,Mt=ct=Ee=null,Ua=!1,Ai=Gr=0,Za=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ee.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function St(){if(ct===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=Mt===null?Ee.memoizedState:Mt.next;if(t!==null)Mt=t,ct=e;else{if(e===null)throw Ee.alternate===null?Error(i(467)):Error(i(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Mt===null?Ee.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Rr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ti(e){var t=Ai;return Ai+=1,Za===null&&(Za=[]),e=Gs(Za,e,t),t=Ee,(Mt===null?t.memoizedState:Mt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Ao:lc),e}function Or(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ti(e);if(e.$$typeof===E)return Ht(e)}throw Error(i(438,String(e)))}function Xu(e){var t=null,n=Ee.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Ee.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Rr(),Ee.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Q;return t.index++,n}function pl(e,t){return typeof t=="function"?t(e):t}function Yr(e){var t=St();return Ju(t,ct,e)}function Ju(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=e.baseQueue,s=l.pending;if(s!==null){if(c!==null){var M=c.next;c.next=s.next,s.next=M}t.baseQueue=c=s,l.pending=null}if(s=e.baseState,c===null)e.memoizedState=s;else{t=c.next;var L=M=null,W=null,le=t,re=!1;do{var ce=le.lane&-536870913;if(ce!==le.lane?(He&ce)===ce:(vl&ce)===ce){var ae=le.revertLane;if(ae===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),ce===Ra&&(re=!0);else if((vl&ae)===ae){le=le.next,ae===Ra&&(re=!0);continue}else ce={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(L=W=ce,M=s):W=W.next=ce,Ee.lanes|=ae,Ul|=ae;ce=le.action,va&&n(s,ce),s=le.hasEagerState?le.eagerState:n(s,ce)}else ae={lane:ce,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(L=W=ae,M=s):W=W.next=ae,Ee.lanes|=ce,Ul|=ce;le=le.next}while(le!==null&&le!==t);if(W===null?M=s:W.next=L,!dn(s,e.memoizedState)&&(jt=!0,re&&(n=Oa,n!==null)))throw n;e.memoizedState=s,e.baseState=M,e.baseQueue=W,l.lastRenderedState=s}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Wu(e){var t=St(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,s=t.memoizedState;if(c!==null){n.pending=null;var M=c=c.next;do s=e(s,M.action),M=M.next;while(M!==c);dn(s,t.memoizedState)||(jt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Vs(e,t,n){var l=Ee,c=St(),s=Ue;if(s){if(n===void 0)throw Error(i(407));n=n()}else n=t();var M=!dn((ct||c).memoizedState,n);if(M&&(c.memoizedState=n,jt=!0),c=c.queue,Pu(Fs.bind(null,l,c,e),[e]),c.getSnapshot!==t||M||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},Ps.bind(null,l,c,n,t),null),ot===null)throw Error(i(349));s||(vl&127)!==0||Qs(l,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t=Rr(),Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ps(e,t,n,l){t.value=n,t.getSnapshot=l,$s(t)&&eo(e)}function Fs(e,t,n){return n(function(){$s(t)&&eo(e)})}function $s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dn(e,n)}catch{return!0}}function eo(e){var t=xa(e,2);t!==null&&an(t,e,2)}function Vu(e){var t=Vt();if(typeof e=="function"){var n=e;if(e=n(),va){Mn(!0);try{n()}finally{Mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:e},t}function to(e,t,n,l){return e.baseState=n,Ju(e,ct,typeof l=="function"?l:pl)}function r2(e,t,n,l,c){if(Ur(e))throw Error(i(485));if(e=t.action,e!==null){var s={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){s.listeners.push(M)}};z.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,no(t,s)):(s.next=n.next,t.pending=n.next=s)}}function no(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var s=z.T,M={};z.T=M;try{var L=n(c,l),W=z.S;W!==null&&W(M,L),lo(e,t,L)}catch(le){Qu(e,t,le)}finally{s!==null&&M.types!==null&&(s.types=M.types),z.T=s}}else try{s=n(c,l),lo(e,t,s)}catch(le){Qu(e,t,le)}}function lo(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){ao(e,t,l)},function(l){return Qu(e,t,l)}):ao(e,t,n)}function ao(e,t,n){t.status="fulfilled",t.value=n,io(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function Qu(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,io(t),t=t.next;while(t!==l)}e.action=null}function io(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ro(e,t){return t}function uo(e,t){if(Ue){var n=ot.formState;if(n!==null){e:{var l=Ee;if(Ue){if(dt){t:{for(var c=dt,s=Bn;c.nodeType!==8;){if(!s){c=null;break t}if(c=qn(c.nextSibling),c===null){c=null;break t}}s=c.data,c=s==="F!"||s==="F"?c:null}if(c){dt=qn(c.nextSibling),l=c.data==="F!";break e}}kl(l)}l=!1}l&&(t=n[0])}}return n=Vt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:t},n.queue=l,n=zo.bind(null,Ee,l),l.dispatch=n,l=Vu(!1),s=nc.bind(null,Ee,!1,l.queue),l=Vt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=r2.bind(null,Ee,c,s,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function co(e){var t=St();return xo(t,ct,e)}function xo(e,t,n){if(t=Ju(e,t,ro)[0],e=Yr(pl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ti(t)}catch(M){throw M===Ya?Tr:M}else l=t;t=St();var c=t.queue,s=c.dispatch;return n!==t.memoizedState&&(Ee.flags|=2048,Xa(9,{destroy:void 0},u2.bind(null,c,n),null)),[l,s,e]}function u2(e,t){e.action=t}function so(e){var t=St(),n=ct;if(n!==null)return xo(t,n,e);St(),t=t.memoizedState,n=St();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Xa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=Rr(),Ee.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function oo(){return St().memoizedState}function Hr(e,t,n,l){var c=Vt();Ee.flags|=e,c.memoizedState=Xa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Kr(e,t,n,l){var c=St();l=l===void 0?null:l;var s=c.memoizedState.inst;ct!==null&&l!==null&&Yu(l,ct.memoizedState.deps)?c.memoizedState=Xa(t,s,n,l):(Ee.flags|=e,c.memoizedState=Xa(1|t,s,n,l))}function fo(e,t){Hr(8390656,8,e,t)}function Pu(e,t){Kr(2048,8,e,t)}function c2(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=Rr(),Ee.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ho(e){var t=St().memoizedState;return c2({ref:t,nextImpl:e}),function(){if((tt&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function mo(e,t){return Kr(4,2,e,t)}function bo(e,t){return Kr(4,4,e,t)}function go(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vo(e,t,n){n=n!=null?n.concat([e]):null,Kr(4,4,go.bind(null,t,e),n)}function Fu(){}function po(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Yu(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function yo(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Yu(t,l[1]))return l[0];if(l=e(),va){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[l,t],l}function $u(e,t,n){return n===void 0||(vl&1073741824)!==0&&(He&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Sf(),Ee.lanes|=e,Ul|=e,n)}function _o(e,t,n,l){return dn(n,t)?n:Ka.current!==null?(e=$u(e,n,l),dn(e,t)||(jt=!0),e):(vl&42)===0||(vl&1073741824)!==0&&(He&261930)===0?(jt=!0,e.memoizedState=n):(e=Sf(),Ee.lanes|=e,Ul|=e,t)}function So(e,t,n,l,c){var s=N.p;N.p=s!==0&&8>s?s:8;var M=z.T,L={};z.T=L,nc(e,!1,t,n);try{var W=c(),le=z.S;if(le!==null&&le(L,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var re=l2(W,l);Ei(e,t,re,pn(e))}else Ei(e,t,l,pn(e))}catch(ce){Ei(e,t,{then:function(){},status:"rejected",reason:ce},pn())}finally{N.p=s,M!==null&&L.types!==null&&(M.types=L.types),z.T=M}}function x2(){}function ec(e,t,n,l){if(e.tag!==5)throw Error(i(476));var c=Co(e).queue;So(e,c,t,A,n===null?x2:function(){return wo(e),n(l)})}function Co(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:A},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wo(e){var t=Co(e);t.next===null&&(t=e.alternate.memoizedState),Ei(e,t.next.queue,{},pn())}function tc(){return Ht(Vi)}function Mo(){return St().memoizedState}function jo(){return St().memoizedState}function s2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=pn();e=Gl(n);var l=Rl(t,e,n);l!==null&&(an(l,t,n),zi(l,t,n)),t={cache:Au()},e.payload=t;return}t=t.return}}function o2(e,t,n){var l=pn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ur(e)?Do(t,n):(n=pu(e,t,n,l),n!==null&&(an(n,e,l),No(n,t,l)))}function zo(e,t,n){var l=pn();Ei(e,t,n,l)}function Ei(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ur(e))Do(t,c);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var M=t.lastRenderedState,L=s(M,n);if(c.hasEagerState=!0,c.eagerState=L,dn(L,M))return wr(e,t,c,0),ot===null&&Cr(),!1}catch{}if(n=pu(e,t,c,l),n!==null)return an(n,e,l),No(n,t,l),!0}return!1}function nc(e,t,n,l){if(l={lane:2,revertLane:Bc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ur(e)){if(t)throw Error(i(479))}else t=pu(e,n,l,2),t!==null&&an(t,e,2)}function Ur(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Do(e,t){Ua=Ir=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function No(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Tt(e,n)}}var Li={readContext:Ht,use:Or,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Li.useEffectEvent=vt;var Ao={readContext:Ht,use:Or,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:fo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Hr(4194308,4,go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hr(4194308,4,e,t)},useInsertionEffect:function(e,t){Hr(4,2,e,t)},useMemo:function(e,t){var n=Vt();t=t===void 0?null:t;var l=e();if(va){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Vt();if(n!==void 0){var c=n(t);if(va){Mn(!0);try{n(t)}finally{Mn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=o2.bind(null,Ee,e),[l.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Vu(e);var t=e.queue,n=zo.bind(null,Ee,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Fu,useDeferredValue:function(e,t){var n=Vt();return $u(n,e,t)},useTransition:function(){var e=Vu(!1);return e=So.bind(null,Ee,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Ee,c=Vt();if(Ue){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ot===null)throw Error(i(349));(He&127)!==0||Qs(l,t,n)}c.memoizedState=n;var s={value:n,getSnapshot:t};return c.queue=s,fo(Fs.bind(null,l,s,e),[e]),l.flags|=2048,Xa(9,{destroy:void 0},Ps.bind(null,l,s,n,t),null),n},useId:function(){var e=Vt(),t=ot.identifierPrefix;if(Ue){var n=nl,l=tl;n=(l&~(1<<32-Ye(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=a2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tc,useFormState:uo,useActionState:uo,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nc.bind(null,Ee,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xu,useCacheRefresh:function(){return Vt().memoizedState=s2.bind(null,Ee)},useEffectEvent:function(e){var t=Vt(),n={impl:e};return t.memoizedState=n,function(){if((tt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},lc={readContext:Ht,use:Or,useCallback:po,useContext:Ht,useEffect:Pu,useImperativeHandle:vo,useInsertionEffect:mo,useLayoutEffect:bo,useMemo:yo,useReducer:Yr,useRef:oo,useState:function(){return Yr(pl)},useDebugValue:Fu,useDeferredValue:function(e,t){var n=St();return _o(n,ct.memoizedState,e,t)},useTransition:function(){var e=Yr(pl)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Vs,useId:Mo,useHostTransitionStatus:tc,useFormState:co,useActionState:co,useOptimistic:function(e,t){var n=St();return to(n,ct,e,t)},useMemoCache:Xu,useCacheRefresh:jo};lc.useEffectEvent=ho;var To={readContext:Ht,use:Or,useCallback:po,useContext:Ht,useEffect:Pu,useImperativeHandle:vo,useInsertionEffect:mo,useLayoutEffect:bo,useMemo:yo,useReducer:Wu,useRef:oo,useState:function(){return Wu(pl)},useDebugValue:Fu,useDeferredValue:function(e,t){var n=St();return ct===null?$u(n,e,t):_o(n,ct.memoizedState,e,t)},useTransition:function(){var e=Wu(pl)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Vs,useId:Mo,useHostTransitionStatus:tc,useFormState:so,useActionState:so,useOptimistic:function(e,t){var n=St();return ct!==null?to(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xu,useCacheRefresh:jo};To.useEffectEvent=ho;function ac(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ic={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=pn(),c=Gl(l);c.payload=t,n!=null&&(c.callback=n),t=Rl(e,c,l),t!==null&&(an(t,e,l),zi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=pn(),c=Gl(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Rl(e,c,l),t!==null&&(an(t,e,l),zi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pn(),l=Gl(n);l.tag=2,t!=null&&(l.callback=t),t=Rl(e,l,n),t!==null&&(an(t,e,n),zi(t,e,n))}};function Eo(e,t,n,l,c,s,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,M):t.prototype&&t.prototype.isPureReactComponent?!pi(n,l)||!pi(c,s):!0}function Lo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function pa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Bo(e){Sr(e)}function ko(e){console.error(e)}function qo(e){Sr(e)}function Zr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Io(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function rc(e,t,n){return n=Gl(n),n.tag=3,n.payload={element:null},n.callback=function(){Zr(e,t)},n}function Go(e){return e=Gl(e),e.tag=3,e}function Ro(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var s=l.value;e.payload=function(){return c(s)},e.callback=function(){Io(t,n,l)}}var M=n.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(e.callback=function(){Io(t,n,l),typeof c!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function f2(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ga(t,n,c,!0),n=mn.current,n!==null){switch(n.tag){case 31:case 13:return kn===null?l0():n.alternate===null&&pt===0&&(pt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Tc(e,l,c)),!1;case 22:return n.flags|=65536,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Tc(e,l,c)),!1}throw Error(i(435,n.tag))}return Tc(e,l,c),l0(),!1}if(Ue)return t=mn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Mu&&(e=Error(i(422),{cause:l}),Si(Tn(e,n)))):(l!==Mu&&(t=Error(i(423),{cause:l}),Si(Tn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Tn(l,n),c=rc(e.stateNode,l,c),qu(e,c),pt!==4&&(pt=2)),!1;var s=Error(i(520),{cause:l});if(s=Tn(s,n),Yi===null?Yi=[s]:Yi.push(s),pt!==4&&(pt=2),t===null)return!0;l=Tn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=rc(n.stateNode,l,e),qu(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Zl===null||!Zl.has(s))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Go(c),Ro(c,e,n,l),qu(n,c),!1}n=n.return}while(n!==null);return!1}var uc=Error(i(461)),jt=!1;function Kt(e,t,n,l){t.child=e===null?Hs(t,null,n,l):ga(t,e.child,n,l)}function Oo(e,t,n,l,c){n=n.render;var s=t.ref;if("ref"in l){var M={};for(var L in l)L!=="ref"&&(M[L]=l[L])}else M=l;return da(t),l=Hu(e,t,n,M,s,c),L=Ku(),e!==null&&!jt?(Uu(e,t,c),yl(e,t,c)):(Ue&&L&&Cu(t),t.flags|=1,Kt(e,t,l,c),t.child)}function Yo(e,t,n,l,c){if(e===null){var s=n.type;return typeof s=="function"&&!yu(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Ho(e,t,s,l,c)):(e=jr(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!mc(e,c)){var M=s.memoizedProps;if(n=n.compare,n=n!==null?n:pi,n(M,l)&&e.ref===t.ref)return yl(e,t,c)}return t.flags|=1,e=hl(s,l),e.ref=t.ref,e.return=t,t.child=e}function Ho(e,t,n,l,c){if(e!==null){var s=e.memoizedProps;if(pi(s,l)&&e.ref===t.ref)if(jt=!1,t.pendingProps=l=s,mc(e,c))(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,yl(e,t,c)}return cc(e,t,n,l,c)}function Ko(e,t,n,l){var c=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~s}else l=0,t.child=null;return Uo(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ar(t,s!==null?s.cachePool:null),s!==null?Zs(t,s):Gu(),Xs(t);else return l=t.lanes=536870912,Uo(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(Ar(t,s.cachePool),Zs(t,s),Yl(),t.memoizedState=null):(e!==null&&Ar(t,null),Gu(),Yl());return Kt(e,t,c,n),t.child}function Bi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uo(e,t,n,l,c){var s=Eu();return s=s===null?null:{parent:wt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Ar(t,null),Gu(),Xs(t),e!==null&&Ga(e,t,l,!0),t.childLanes=c,null}function Xr(e,t){return t=Wr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zo(e,t,n){return ga(t,e.child,null,n),e=Xr(t,t.pendingProps),e.flags|=2,bn(t),t.memoizedState=null,e}function d2(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ue){if(l.mode==="hidden")return e=Xr(t,l),t.lanes=536870912,Bi(null,e);if(Ou(t),(e=dt)?(e=ad(e,Bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ll!==null?{id:tl,overflow:nl}:null,retryLane:536870912,hydrationErrors:null},n=zs(e),n.return=t,t.child=n,Yt=t,dt=null)):e=null,e===null)throw kl(t);return t.lanes=536870912,null}return Xr(t,l)}var s=e.memoizedState;if(s!==null){var M=s.dehydrated;if(Ou(t),c)if(t.flags&256)t.flags&=-257,t=Zo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(jt||Ga(e,t,n,!1),c=(n&e.childLanes)!==0,jt||c){if(l=ot,l!==null&&(M=ut(l,n),M!==0&&M!==s.retryLane))throw s.retryLane=M,xa(e,M),an(l,e,M),uc;l0(),t=Zo(e,t,n)}else e=s.treeContext,dt=qn(M.nextSibling),Yt=t,Ue=!0,Bl=null,Bn=!1,e!==null&&As(t,e),t=Xr(t,l),t.flags|=4096;return t}return e=hl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Jr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function cc(e,t,n,l,c){return da(t),n=Hu(e,t,n,l,void 0,c),l=Ku(),e!==null&&!jt?(Uu(e,t,c),yl(e,t,c)):(Ue&&l&&Cu(t),t.flags|=1,Kt(e,t,n,c),t.child)}function Xo(e,t,n,l,c,s){return da(t),t.updateQueue=null,n=Ws(t,l,n,c),Js(e),l=Ku(),e!==null&&!jt?(Uu(e,t,s),yl(e,t,s)):(Ue&&l&&Cu(t),t.flags|=1,Kt(e,t,n,s),t.child)}function Jo(e,t,n,l,c){if(da(t),t.stateNode===null){var s=Ba,M=n.contextType;typeof M=="object"&&M!==null&&(s=Ht(M)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ic,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Bu(t),M=n.contextType,s.context=typeof M=="object"&&M!==null?Ht(M):Ba,s.state=t.memoizedState,M=n.getDerivedStateFromProps,typeof M=="function"&&(ac(t,n,M,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(M=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),M!==s.state&&ic.enqueueReplaceState(s,s.state,null),Ni(t,l,s,c),Di(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var L=t.memoizedProps,W=pa(n,L);s.props=W;var le=s.context,re=n.contextType;M=Ba,typeof re=="object"&&re!==null&&(M=Ht(re));var ce=n.getDerivedStateFromProps;re=typeof ce=="function"||typeof s.getSnapshotBeforeUpdate=="function",L=t.pendingProps!==L,re||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(L||le!==M)&&Lo(t,s,l,M),Il=!1;var ae=t.memoizedState;s.state=ae,Ni(t,l,s,c),Di(),le=t.memoizedState,L||ae!==le||Il?(typeof ce=="function"&&(ac(t,n,ce,l),le=t.memoizedState),(W=Il||Eo(t,n,W,l,ae,le,M))?(re||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=le),s.props=l,s.state=le,s.context=M,l=W):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,ku(e,t),M=t.memoizedProps,re=pa(n,M),s.props=re,ce=t.pendingProps,ae=s.context,le=n.contextType,W=Ba,typeof le=="object"&&le!==null&&(W=Ht(le)),L=n.getDerivedStateFromProps,(le=typeof L=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(M!==ce||ae!==W)&&Lo(t,s,l,W),Il=!1,ae=t.memoizedState,s.state=ae,Ni(t,l,s,c),Di();var ie=t.memoizedState;M!==ce||ae!==ie||Il||e!==null&&e.dependencies!==null&&Dr(e.dependencies)?(typeof L=="function"&&(ac(t,n,L,l),ie=t.memoizedState),(re=Il||Eo(t,n,re,l,ae,ie,W)||e!==null&&e.dependencies!==null&&Dr(e.dependencies))?(le||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,ie,W),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,ie,W)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||M===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),s.props=l,s.state=ie,s.context=W,l=re):(typeof s.componentDidUpdate!="function"||M===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Jr(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ga(t,e.child,null,c),t.child=ga(t,null,n,c)):Kt(e,t,n,c),t.memoizedState=s.state,e=t.child):e=yl(e,t,c),e}function Wo(e,t,n,l){return oa(),t.flags|=256,Kt(e,t,n,l),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sc(e){return{baseLanes:e,cachePool:qs()}}function oc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=vn),e}function Vo(e,t,n){var l=t.pendingProps,c=!1,s=(t.flags&128)!==0,M;if((M=s)||(M=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),M&&(c=!0,t.flags&=-129),M=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(c?Ol(t):Yl(),(e=dt)?(e=ad(e,Bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ll!==null?{id:tl,overflow:nl}:null,retryLane:536870912,hydrationErrors:null},n=zs(e),n.return=t,t.child=n,Yt=t,dt=null)):e=null,e===null)throw kl(t);return Jc(e)?t.lanes=32:t.lanes=536870912,null}var L=l.children;return l=l.fallback,c?(Yl(),c=t.mode,L=Wr({mode:"hidden",children:L},c),l=sa(l,c,n,null),L.return=t,l.return=t,L.sibling=l,t.child=L,l=t.child,l.memoizedState=sc(n),l.childLanes=oc(e,M,n),t.memoizedState=xc,Bi(null,l)):(Ol(t),fc(t,L))}var W=e.memoizedState;if(W!==null&&(L=W.dehydrated,L!==null)){if(s)t.flags&256?(Ol(t),t.flags&=-257,t=dc(e,t,n)):t.memoizedState!==null?(Yl(),t.child=e.child,t.flags|=128,t=null):(Yl(),L=l.fallback,c=t.mode,l=Wr({mode:"visible",children:l.children},c),L=sa(L,c,n,null),L.flags|=2,l.return=t,L.return=t,l.sibling=L,t.child=l,ga(t,e.child,null,n),l=t.child,l.memoizedState=sc(n),l.childLanes=oc(e,M,n),t.memoizedState=xc,t=Bi(null,l));else if(Ol(t),Jc(L)){if(M=L.nextSibling&&L.nextSibling.dataset,M)var le=M.dgst;M=le,l=Error(i(419)),l.stack="",l.digest=M,Si({value:l,source:null,stack:null}),t=dc(e,t,n)}else if(jt||Ga(e,t,n,!1),M=(n&e.childLanes)!==0,jt||M){if(M=ot,M!==null&&(l=ut(M,n),l!==0&&l!==W.retryLane))throw W.retryLane=l,xa(e,l),an(M,e,l),uc;Xc(L)||l0(),t=dc(e,t,n)}else Xc(L)?(t.flags|=192,t.child=e.child,t=null):(e=W.treeContext,dt=qn(L.nextSibling),Yt=t,Ue=!0,Bl=null,Bn=!1,e!==null&&As(t,e),t=fc(t,l.children),t.flags|=4096);return t}return c?(Yl(),L=l.fallback,c=t.mode,W=e.child,le=W.sibling,l=hl(W,{mode:"hidden",children:l.children}),l.subtreeFlags=W.subtreeFlags&65011712,le!==null?L=hl(le,L):(L=sa(L,c,n,null),L.flags|=2),L.return=t,l.return=t,l.sibling=L,t.child=l,Bi(null,l),l=t.child,L=e.child.memoizedState,L===null?L=sc(n):(c=L.cachePool,c!==null?(W=wt._currentValue,c=c.parent!==W?{parent:W,pool:W}:c):c=qs(),L={baseLanes:L.baseLanes|n,cachePool:c}),l.memoizedState=L,l.childLanes=oc(e,M,n),t.memoizedState=xc,Bi(e.child,l)):(Ol(t),n=e.child,e=n.sibling,n=hl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(M=t.deletions,M===null?(t.deletions=[e],t.flags|=16):M.push(e)),t.child=n,t.memoizedState=null,n)}function fc(e,t){return t=Wr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wr(e,t){return e=hn(22,e,null,t),e.lanes=0,e}function dc(e,t,n){return ga(t,e.child,null,n),e=fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Du(e.return,t,n)}function hc(e,t,n,l,c,s){var M=e.memoizedState;M===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:s}:(M.isBackwards=t,M.rendering=null,M.renderingStartTime=0,M.last=l,M.tail=n,M.tailMode=c,M.treeForkCount=s)}function Po(e,t,n){var l=t.pendingProps,c=l.revealOrder,s=l.tail;l=l.children;var M=_t.current,L=(M&2)!==0;if(L?(M=M&1|2,t.flags|=128):M&=1,O(_t,M),Kt(e,t,l,n),l=Ue?_i:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qo(e,n,t);else if(e.tag===19)Qo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&qr(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),hc(t,!1,c,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&qr(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}hc(t,!0,n,null,s,l);break;case"together":hc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function yl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ul|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ga(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=hl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Dr(e)))}function h2(e,t,n){switch(t.tag){case 3:fe(t,t.stateNode.containerInfo),ql(t,wt,e.memoizedState.cache),oa();break;case 27:case 5:ge(t);break;case 4:fe(t,t.stateNode.containerInfo);break;case 10:ql(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ou(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ol(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Vo(e,t,n):(Ol(t),e=yl(e,t,n),e!==null?e.sibling:null);Ol(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ga(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Po(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),O(_t,_t.current),l)break;return null;case 22:return t.lanes=0,Ko(e,t,n,t.pendingProps);case 24:ql(t,wt,e.memoizedState.cache)}return yl(e,t,n)}function Fo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!mc(e,n)&&(t.flags&128)===0)return jt=!1,h2(e,t,n);jt=(e.flags&131072)!==0}else jt=!1,Ue&&(t.flags&1048576)!==0&&Ns(t,_i,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ma(t.elementType),t.type=e,typeof e=="function")yu(e)?(l=pa(e,l),t.tag=1,t=Jo(null,t,e,l,n)):(t.tag=0,t=cc(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===R){t.tag=11,t=Oo(null,t,e,l,n);break e}else if(c===Z){t.tag=14,t=Yo(null,t,e,l,n);break e}}throw t=w(e)||e,Error(i(306,t,""))}}return t;case 0:return cc(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=pa(l,t.pendingProps),Jo(e,t,l,c,n);case 3:e:{if(fe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var s=t.memoizedState;c=s.element,ku(e,t),Ni(t,l,null,n);var M=t.memoizedState;if(l=M.cache,ql(t,wt,l),l!==s.cache&&Nu(t,[wt],n,!0),Di(),l=M.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:M.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Wo(e,t,l,n);break e}else if(l!==c){c=Tn(Error(i(424)),t),Si(c),t=Wo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,dt=qn(e.firstChild),Yt=t,Ue=!0,Bl=null,Bn=!0,n=Hs(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oa(),l===c){t=yl(e,t,n);break e}Kt(e,t,l,n)}t=t.child}return t;case 26:return Jr(e,t),e===null?(n=sd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ue||(n=t.type,e=t.pendingProps,l=s0(te.current).createElement(n),l[De]=t,l[Ot]=e,Ut(l,n,e),Je(l),t.stateNode=l):t.memoizedState=sd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ge(t),e===null&&Ue&&(l=t.stateNode=ud(t.type,t.pendingProps,te.current),Yt=t,Bn=!0,c=dt,Vl(t.type)?(Wc=c,dt=qn(l.firstChild)):dt=c),Kt(e,t,t.pendingProps.children,n),Jr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ue&&((c=l=dt)&&(l=U2(l,t.type,t.pendingProps,Bn),l!==null?(t.stateNode=l,Yt=t,dt=qn(l.firstChild),Bn=!1,c=!0):c=!1),c||kl(t)),ge(t),c=t.type,s=t.pendingProps,M=e!==null?e.memoizedProps:null,l=s.children,Kc(c,s)?l=null:M!==null&&Kc(c,M)&&(t.flags|=32),t.memoizedState!==null&&(c=Hu(e,t,i2,null,null,n),Vi._currentValue=c),Jr(e,t),Kt(e,t,l,n),t.child;case 6:return e===null&&Ue&&((e=n=dt)&&(n=Z2(n,t.pendingProps,Bn),n!==null?(t.stateNode=n,Yt=t,dt=null,e=!0):e=!1),e||kl(t)),null;case 13:return Vo(e,t,n);case 4:return fe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ga(t,null,l,n):Kt(e,t,l,n),t.child;case 11:return Oo(e,t,t.type,t.pendingProps,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,ql(t,t.type,l.value),Kt(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,da(t),c=Ht(c),l=l(c),t.flags|=1,Kt(e,t,l,n),t.child;case 14:return Yo(e,t,t.type,t.pendingProps,n);case 15:return Ho(e,t,t.type,t.pendingProps,n);case 19:return Po(e,t,n);case 31:return d2(e,t,n);case 22:return Ko(e,t,n,t.pendingProps);case 24:return da(t),l=Ht(wt),e===null?(c=Eu(),c===null&&(c=ot,s=Au(),c.pooledCache=s,s.refCount++,s!==null&&(c.pooledCacheLanes|=n),c=s),t.memoizedState={parent:l,cache:c},Bu(t),ql(t,wt,c)):((e.lanes&n)!==0&&(ku(e,t),Ni(t,null,null,n),Di()),c=e.memoizedState,s=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ql(t,wt,l)):(l=s.cache,ql(t,wt,l),l!==c.cache&&Nu(t,[wt],n,!0))),Kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function _l(e){e.flags|=4}function bc(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(jf())e.flags|=8192;else throw ba=Er,Lu}else e.flags&=-16777217}function $o(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!md(t))if(jf())e.flags|=8192;else throw ba=Er,Lu}function Vr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?We():536870912,e.lanes|=t,Qa|=t)}function ki(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function m2(e,t,n){var l=t.pendingProps;switch(wu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return ht(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),gl(wt),he(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?_l(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ju())),ht(t),null;case 26:var c=t.type,s=t.memoizedState;return e===null?(_l(t),s!==null?(ht(t),$o(t,s)):(ht(t),bc(t,c,null,l,n))):s?s!==e.memoizedState?(_l(t),ht(t),$o(t,s)):(ht(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&_l(t),ht(t),bc(t,c,e,l,n)),null;case 27:if(de(t),n=te.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&_l(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ht(t),null}e=K.current,Ia(t)?Ts(t):(e=ud(c,l,n),t.stateNode=e,_l(t))}return ht(t),null;case 5:if(de(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&_l(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ht(t),null}if(s=K.current,Ia(t))Ts(t);else{var M=s0(te.current);switch(s){case 1:s=M.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=M.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=M.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=M.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=M.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?M.createElement("select",{is:l.is}):M.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?M.createElement(c,{is:l.is}):M.createElement(c)}}s[De]=t,s[Ot]=l;e:for(M=t.child;M!==null;){if(M.tag===5||M.tag===6)s.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===t)break e;for(;M.sibling===null;){if(M.return===null||M.return===t)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}t.stateNode=s;e:switch(Ut(s,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_l(t)}}return ht(t),bc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&_l(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=te.current,Ia(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=Yt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[De]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Qf(e.nodeValue,n)),e||kl(t,!0)}else e=s0(e).createTextNode(l),e[De]=t,t.stateNode=e}return ht(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[De]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),e=!1}else n=ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(bn(t),t):(bn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return ht(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ia(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[De]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),c=!1}else c=ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(bn(t),t):(bn(t),null)}return bn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Vr(t,t.updateQueue),ht(t),null);case 4:return he(),e===null&&Gc(t.stateNode.containerInfo),ht(t),null;case 10:return gl(t.type),ht(t),null;case 19:if(B(_t),l=t.memoizedState,l===null)return ht(t),null;if(c=(t.flags&128)!==0,s=l.rendering,s===null)if(c)ki(l,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=qr(e),s!==null){for(t.flags|=128,ki(l,!1),e=s.updateQueue,t.updateQueue=e,Vr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)js(n,e),n=n.sibling;return O(_t,_t.current&1|2),Ue&&ml(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ze()>e0&&(t.flags|=128,c=!0,ki(l,!1),t.lanes=4194304)}else{if(!c)if(e=qr(s),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Vr(t,e),ki(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Ue)return ht(t),null}else 2*Ze()-l.renderingStartTime>e0&&n!==536870912&&(t.flags|=128,c=!0,ki(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ze(),e.sibling=null,n=_t.current,O(_t,c?n&1|2:n&1),Ue&&ml(t,l.treeForkCount),e):(ht(t),null);case 22:case 23:return bn(t),Ru(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),n=t.updateQueue,n!==null&&Vr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&B(ha),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),gl(wt),ht(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function b2(e,t){switch(wu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gl(wt),he(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(bn(t),t.alternate===null)throw Error(i(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(bn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(_t),null;case 4:return he(),null;case 10:return gl(t.type),null;case 22:case 23:return bn(t),Ru(),e!==null&&B(ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return gl(wt),null;case 25:return null;default:return null}}function ef(e,t){switch(wu(t),t.tag){case 3:gl(wt),he();break;case 26:case 27:case 5:de(t);break;case 4:he();break;case 31:t.memoizedState!==null&&bn(t);break;case 13:bn(t);break;case 19:B(_t);break;case 10:gl(t.type);break;case 22:case 23:bn(t),Ru(),e!==null&&B(ha);break;case 24:gl(wt)}}function qi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var s=n.create,M=n.inst;l=s(),M.destroy=l}n=n.next}while(n!==c)}}catch(L){rt(t,t.return,L)}}function Hl(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var s=c.next;l=s;do{if((l.tag&e)===e){var M=l.inst,L=M.destroy;if(L!==void 0){M.destroy=void 0,c=t;var W=n,le=L;try{le()}catch(re){rt(c,W,re)}}}l=l.next}while(l!==s)}}catch(re){rt(t,t.return,re)}}function tf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Us(t,n)}catch(l){rt(e,e.return,l)}}}function nf(e,t,n){n.props=pa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){rt(e,t,l)}}function Ii(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){rt(e,t,c)}}function ll(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){rt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){rt(e,t,c)}else n.current=null}function lf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){rt(e,e.return,c)}}function gc(e,t,n){try{var l=e.stateNode;G2(l,e.type,n,t),l[Ot]=t}catch(c){rt(e,e.return,c)}}function af(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vl(e.type)||e.tag===4}function vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(l!==4&&(l===27&&Vl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(pc(e,t,n),e=e.sibling;e!==null;)pc(e,t,n),e=e.sibling}function Qr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Vl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qr(e,t,n),e=e.sibling;e!==null;)Qr(e,t,n),e=e.sibling}function rf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Ut(t,l,n),t[De]=e,t[Ot]=n}catch(s){rt(e,e.return,s)}}var Sl=!1,zt=!1,yc=!1,uf=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function g2(e,t){if(e=e.containerInfo,Yc=g0,e=gs(e),du(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var M=0,L=-1,W=-1,le=0,re=0,ce=e,ae=null;t:for(;;){for(var ie;ce!==n||c!==0&&ce.nodeType!==3||(L=M+c),ce!==s||l!==0&&ce.nodeType!==3||(W=M+l),ce.nodeType===3&&(M+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)ae=ce,ce=ie;for(;;){if(ce===e)break t;if(ae===n&&++le===c&&(L=M),ae===s&&++re===l&&(W=M),(ie=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=ie}n=L===-1||W===-1?null:{start:L,end:W}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hc={focusedElem:e,selectionRange:n},g0=!1,Bt=t;Bt!==null;)if(t=Bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Bt=e;else for(;Bt!==null;){switch(t=Bt,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,c=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var be=pa(n.type,c);e=l.getSnapshotBeforeUpdate(be,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(je){rt(n,n.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Zc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Bt=e;break}Bt=t.return}}function cf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:wl(e,n),l&4&&qi(5,n);break;case 1:if(wl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(M){rt(n,n.return,M)}else{var c=pa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(M){rt(n,n.return,M)}}l&64&&tf(n),l&512&&Ii(n,n.return);break;case 3:if(wl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Us(e,t)}catch(M){rt(n,n.return,M)}}break;case 27:t===null&&l&4&&rf(n);case 26:case 5:wl(e,n),t===null&&l&4&&lf(n),l&512&&Ii(n,n.return);break;case 12:wl(e,n);break;case 31:wl(e,n),l&4&&of(e,n);break;case 13:wl(e,n),l&4&&ff(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=j2.bind(null,n),X2(e,n))));break;case 22:if(l=n.memoizedState!==null||Sl,!l){t=t!==null&&t.memoizedState!==null||zt,c=Sl;var s=zt;Sl=l,(zt=t)&&!s?Ml(e,n,(n.subtreeFlags&8772)!==0):wl(e,n),Sl=c,zt=s}break;case 30:break;default:wl(e,n)}}function xf(e){var t=e.alternate;t!==null&&(e.alternate=null,xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&oi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,en=!1;function Cl(e,t,n){for(n=n.child;n!==null;)sf(e,t,n),n=n.sibling}function sf(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(fn,n)}catch{}switch(n.tag){case 26:zt||ll(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||ll(n,t);var l=mt,c=en;Vl(n.type)&&(mt=n.stateNode,en=!1),Cl(e,t,n),Xi(n.stateNode),mt=l,en=c;break;case 5:zt||ll(n,t);case 6:if(l=mt,c=en,mt=null,Cl(e,t,n),mt=l,en=c,mt!==null)if(en)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(n.stateNode)}catch(s){rt(n,t,s)}else try{mt.removeChild(n.stateNode)}catch(s){rt(n,t,s)}break;case 18:mt!==null&&(en?(e=mt,nd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ai(e)):nd(mt,n.stateNode));break;case 4:l=mt,c=en,mt=n.stateNode.containerInfo,en=!0,Cl(e,t,n),mt=l,en=c;break;case 0:case 11:case 14:case 15:Hl(2,n,t),zt||Hl(4,n,t),Cl(e,t,n);break;case 1:zt||(ll(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&nf(n,t,l)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:zt=(l=zt)||n.memoizedState!==null,Cl(e,t,n),zt=l;break;default:Cl(e,t,n)}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ai(e)}catch(n){rt(t,t.return,n)}}}function ff(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ai(e)}catch(n){rt(t,t.return,n)}}function v2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new uf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new uf),t;default:throw Error(i(435,e.tag))}}function Pr(e,t){var n=v2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=z2.bind(null,e,l);l.then(c,c)}})}function tn(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],s=e,M=t,L=M;e:for(;L!==null;){switch(L.tag){case 27:if(Vl(L.type)){mt=L.stateNode,en=!1;break e}break;case 5:mt=L.stateNode,en=!1;break e;case 3:case 4:mt=L.stateNode.containerInfo,en=!0;break e}L=L.return}if(mt===null)throw Error(i(160));sf(s,M,c),mt=null,en=!1,s=c.alternate,s!==null&&(s.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)df(t,e),t=t.sibling}var Jn=null;function df(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tn(t,e),nn(e),l&4&&(Hl(3,e,e.return),qi(3,e),Hl(5,e,e.return));break;case 1:tn(t,e),nn(e),l&512&&(zt||n===null||ll(n,n.return)),l&64&&Sl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Jn;if(tn(t,e),nn(e),l&512&&(zt||n===null||ll(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":s=c.getElementsByTagName("title")[0],(!s||s[ia]||s[De]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=c.createElement(l),c.head.insertBefore(s,c.querySelector("head > title"))),Ut(s,l,n),s[De]=e,Je(s),l=s;break e;case"link":var M=dd("link","href",c).get(l+(n.href||""));if(M){for(var L=0;L<M.length;L++)if(s=M[L],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){M.splice(L,1);break t}}s=c.createElement(l),Ut(s,l,n),c.head.appendChild(s);break;case"meta":if(M=dd("meta","content",c).get(l+(n.content||""))){for(L=0;L<M.length;L++)if(s=M[L],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){M.splice(L,1);break t}}s=c.createElement(l),Ut(s,l,n),c.head.appendChild(s);break;default:throw Error(i(468,l))}s[De]=e,Je(s),l=s}e.stateNode=l}else hd(c,e.type,e.stateNode);else e.stateNode=fd(c,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?hd(c,e.type,e.stateNode):fd(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&gc(e,e.memoizedProps,n.memoizedProps)}break;case 27:tn(t,e),nn(e),l&512&&(zt||n===null||ll(n,n.return)),n!==null&&l&4&&gc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(tn(t,e),nn(e),l&512&&(zt||n===null||ll(n,n.return)),e.flags&32){c=e.stateNode;try{za(c,"")}catch(be){rt(e,e.return,be)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,gc(e,c,n!==null?n.memoizedProps:c)),l&1024&&(yc=!0);break;case 6:if(tn(t,e),nn(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(be){rt(e,e.return,be)}}break;case 3:if(d0=null,c=Jn,Jn=o0(t.containerInfo),tn(t,e),Jn=c,nn(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(be){rt(e,e.return,be)}yc&&(yc=!1,hf(e));break;case 4:l=Jn,Jn=o0(e.stateNode.containerInfo),tn(t,e),nn(e),Jn=l;break;case 12:tn(t,e),nn(e);break;case 31:tn(t,e),nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Pr(e,l)));break;case 13:tn(t,e),nn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($r=Ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Pr(e,l)));break;case 22:c=e.memoizedState!==null;var W=n!==null&&n.memoizedState!==null,le=Sl,re=zt;if(Sl=le||c,zt=re||W,tn(t,e),zt=re,Sl=le,nn(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||W||Sl||zt||ya(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){W=n=t;try{if(s=W.stateNode,c)M=s.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{L=W.stateNode;var ce=W.memoizedProps.style,ae=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;L.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(be){rt(W,W.return,be)}}}else if(t.tag===6){if(n===null){W=t;try{W.stateNode.nodeValue=c?"":W.memoizedProps}catch(be){rt(W,W.return,be)}}}else if(t.tag===18){if(n===null){W=t;try{var ie=W.stateNode;c?ld(ie,!0):ld(W.stateNode,!1)}catch(be){rt(W,W.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Pr(e,n))));break;case 19:tn(t,e),nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Pr(e,l)));break;case 30:break;case 21:break;default:tn(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(af(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var c=n.stateNode,s=vc(e);Qr(e,s,c);break;case 5:var M=n.stateNode;n.flags&32&&(za(M,""),n.flags&=-33);var L=vc(e);Qr(e,L,M);break;case 3:case 4:var W=n.stateNode.containerInfo,le=vc(e);pc(e,le,W);break;default:throw Error(i(161))}}catch(re){rt(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)cf(e,t.alternate,t),t=t.sibling}function ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hl(4,t,t.return),ya(t);break;case 1:ll(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&nf(t,t.return,n),ya(t);break;case 27:Xi(t.stateNode);case 26:case 5:ll(t,t.return),ya(t);break;case 22:t.memoizedState===null&&ya(t);break;case 30:ya(t);break;default:ya(t)}e=e.sibling}}function Ml(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,s=t,M=s.flags;switch(s.tag){case 0:case 11:case 15:Ml(c,s,n),qi(4,s);break;case 1:if(Ml(c,s,n),l=s,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(le){rt(l,l.return,le)}if(l=s,c=l.updateQueue,c!==null){var L=l.stateNode;try{var W=c.shared.hiddenCallbacks;if(W!==null)for(c.shared.hiddenCallbacks=null,c=0;c<W.length;c++)Ks(W[c],L)}catch(le){rt(l,l.return,le)}}n&&M&64&&tf(s),Ii(s,s.return);break;case 27:rf(s);case 26:case 5:Ml(c,s,n),n&&l===null&&M&4&&lf(s),Ii(s,s.return);break;case 12:Ml(c,s,n);break;case 31:Ml(c,s,n),n&&M&4&&of(c,s);break;case 13:Ml(c,s,n),n&&M&4&&ff(c,s);break;case 22:s.memoizedState===null&&Ml(c,s,n),Ii(s,s.return);break;case 30:break;default:Ml(c,s,n)}t=t.sibling}}function _c(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ci(n))}function Sc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e))}function Wn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mf(e,t,n,l),t=t.sibling}function mf(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Wn(e,t,n,l),c&2048&&qi(9,t);break;case 1:Wn(e,t,n,l);break;case 3:Wn(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e)));break;case 12:if(c&2048){Wn(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,M=s.id,L=s.onPostCommit;typeof L=="function"&&L(M,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(W){rt(t,t.return,W)}}else Wn(e,t,n,l);break;case 31:Wn(e,t,n,l);break;case 13:Wn(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,M=t.alternate,t.memoizedState!==null?s._visibility&2?Wn(e,t,n,l):Gi(e,t):s._visibility&2?Wn(e,t,n,l):(s._visibility|=2,Ja(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&_c(M,t);break;case 24:Wn(e,t,n,l),c&2048&&Sc(t.alternate,t);break;default:Wn(e,t,n,l)}}function Ja(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,M=t,L=n,W=l,le=M.flags;switch(M.tag){case 0:case 11:case 15:Ja(s,M,L,W,c),qi(8,M);break;case 23:break;case 22:var re=M.stateNode;M.memoizedState!==null?re._visibility&2?Ja(s,M,L,W,c):Gi(s,M):(re._visibility|=2,Ja(s,M,L,W,c)),c&&le&2048&&_c(M.alternate,M);break;case 24:Ja(s,M,L,W,c),c&&le&2048&&Sc(M.alternate,M);break;default:Ja(s,M,L,W,c)}t=t.sibling}}function Gi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Gi(n,l),c&2048&&_c(l.alternate,l);break;case 24:Gi(n,l),c&2048&&Sc(l.alternate,l);break;default:Gi(n,l)}t=t.sibling}}var Ri=8192;function Wa(e,t,n){if(e.subtreeFlags&Ri)for(e=e.child;e!==null;)bf(e,t,n),e=e.sibling}function bf(e,t,n){switch(e.tag){case 26:Wa(e,t,n),e.flags&Ri&&e.memoizedState!==null&&ah(n,Jn,e.memoizedState,e.memoizedProps);break;case 5:Wa(e,t,n);break;case 3:case 4:var l=Jn;Jn=o0(e.stateNode.containerInfo),Wa(e,t,n),Jn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ri,Ri=16777216,Wa(e,t,n),Ri=l):Wa(e,t,n));break;default:Wa(e,t,n)}}function gf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Bt=l,pf(l,e)}gf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vf(e),e=e.sibling}function vf(e){switch(e.tag){case 0:case 11:case 15:Oi(e),e.flags&2048&&Hl(9,e,e.return);break;case 3:Oi(e);break;case 12:Oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Fr(e)):Oi(e);break;default:Oi(e)}}function Fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Bt=l,pf(l,e)}gf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hl(8,t,t.return),Fr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Fr(t));break;default:Fr(t)}e=e.sibling}}function pf(e,t){for(;Bt!==null;){var n=Bt;switch(n.tag){case 0:case 11:case 15:Hl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ci(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Bt=l;else e:for(n=e;Bt!==null;){l=Bt;var c=l.sibling,s=l.return;if(xf(l),l===n){Bt=null;break e}if(c!==null){c.return=s,Bt=c;break e}Bt=s}}}var p2={getCacheForType:function(e){var t=Ht(wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ht(wt).controller.signal}},y2=typeof WeakMap=="function"?WeakMap:Map,tt=0,ot=null,Ge=null,He=0,it=0,gn=null,Kl=!1,Va=!1,Cc=!1,jl=0,pt=0,Ul=0,_a=0,wc=0,vn=0,Qa=0,Yi=null,ln=null,Mc=!1,$r=0,yf=0,e0=1/0,t0=null,Zl=null,Et=0,Xl=null,Pa=null,zl=0,jc=0,zc=null,_f=null,Hi=0,Dc=null;function pn(){return(tt&2)!==0&&He!==0?He&-He:z.T!==null?Bc():jn()}function Sf(){if(vn===0)if((He&536870912)===0||Ue){var e=_e;_e<<=1,(_e&3932160)===0&&(_e=262144),vn=e}else vn=536870912;return e=mn.current,e!==null&&(e.flags|=32),vn}function an(e,t,n){(e===ot&&(it===2||it===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),Jl(e,He,vn,!1)),Te(e,n),((tt&2)===0||e!==ot)&&(e===ot&&((tt&2)===0&&(_a|=n),pt===4&&Jl(e,He,vn,!1)),al(e))}function Cf(e,t,n){if((tt&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Fe(e,t),c=l?C2(e,t):Ac(e,t,!0),s=l;do{if(c===0){Va&&!l&&Jl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!_2(n)){c=Ac(e,t,!1),s=!1;continue}if(c===2){if(s=t,e.errorRecoveryDisabledLanes&s)var M=0;else M=e.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){t=M;e:{var L=e;c=Yi;var W=L.current.memoizedState.isDehydrated;if(W&&(Fa(L,M).flags|=256),M=Ac(L,M,!1),M!==2){if(Cc&&!W){L.errorRecoveryDisabledLanes|=s,_a|=s,c=4;break e}s=ln,ln=c,s!==null&&(ln===null?ln=s:ln.push.apply(ln,s))}c=M}if(s=!1,c!==2)continue}}if(c===1){Fa(e,0),Jl(e,t,0,!0);break}e:{switch(l=e,s=c,s){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Jl(l,t,vn,!Kl);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(c=$r+300-Ze(),10<c)){if(Jl(l,t,vn,!Kl),we(l,0,!0)!==0)break e;zl=t,l.timeoutHandle=ed(wf.bind(null,l,n,ln,t0,Mc,t,vn,_a,Qa,Kl,s,"Throttled",-0,0),c);break e}wf(l,n,ln,t0,Mc,t,vn,_a,Qa,Kl,s,null,-0,0)}}break}while(!0);al(e)}function wf(e,t,n,l,c,s,M,L,W,le,re,ce,ae,ie){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fl},bf(t,s,ce);var be=(s&62914560)===s?$r-Ze():(s&4194048)===s?yf-Ze():0;if(be=ih(ce,be),be!==null){zl=s,e.cancelPendingCommit=be(Ef.bind(null,e,t,s,n,l,c,M,L,W,re,ce,null,ae,ie)),Jl(e,s,M,!le);return}}Ef(e,t,s,n,l,c,M,L,W)}function _2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],s=c.getSnapshot;c=c.value;try{if(!dn(s(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jl(e,t,n,l){t&=~wc,t&=~_a,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var s=31-Ye(c),M=1<<s;l[s]=-1,c&=~M}n!==0&&et(e,n,t)}function n0(){return(tt&6)===0?(Ki(0),!1):!0}function Nc(){if(Ge!==null){if(it===0)var e=Ge.return;else e=Ge,bl=fa=null,Zu(e),Ha=null,Mi=0,e=Ge;for(;e!==null;)ef(e.alternate,e),e=e.return;Ge=null}}function Fa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Y2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),zl=0,Nc(),ot=e,Ge=n=hl(e.current,null),He=t,it=0,gn=null,Kl=!1,Va=Fe(e,t),Cc=!1,Qa=vn=wc=_a=Ul=pt=0,ln=Yi=null,Mc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Ye(l),s=1<<c;t|=e[c],l&=~s}return jl=t,Cr(),n}function Mf(e,t){Ee=null,z.H=Li,t===Ya||t===Tr?(t=Rs(),it=3):t===Lu?(t=Rs(),it=4):it=t===uc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gn=t,Ge===null&&(pt=1,Zr(e,Tn(t,e.current)))}function jf(){var e=mn.current;return e===null?!0:(He&4194048)===He?kn===null:(He&62914560)===He||(He&536870912)!==0?e===kn:!1}function zf(){var e=z.H;return z.H=Li,e===null?Li:e}function Df(){var e=z.A;return z.A=p2,e}function l0(){pt=4,Kl||(He&4194048)!==He&&mn.current!==null||(Va=!0),(Ul&134217727)===0&&(_a&134217727)===0||ot===null||Jl(ot,He,vn,!1)}function Ac(e,t,n){var l=tt;tt|=2;var c=zf(),s=Df();(ot!==e||He!==t)&&(t0=null,Fa(e,t)),t=!1;var M=pt;e:do try{if(it!==0&&Ge!==null){var L=Ge,W=gn;switch(it){case 8:Nc(),M=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(t=!0);var le=it;if(it=0,gn=null,$a(e,L,W,le),n&&Va){M=0;break e}break;default:le=it,it=0,gn=null,$a(e,L,W,le)}}S2(),M=pt;break}catch(re){Mf(e,re)}while(!0);return t&&e.shellSuspendCounter++,bl=fa=null,tt=l,z.H=c,z.A=s,Ge===null&&(ot=null,He=0,Cr()),M}function S2(){for(;Ge!==null;)Nf(Ge)}function C2(e,t){var n=tt;tt|=2;var l=zf(),c=Df();ot!==e||He!==t?(t0=null,e0=Ze()+500,Fa(e,t)):Va=Fe(e,t);e:do try{if(it!==0&&Ge!==null){t=Ge;var s=gn;t:switch(it){case 1:it=0,gn=null,$a(e,t,s,1);break;case 2:case 9:if(Is(s)){it=0,gn=null,Af(t);break}t=function(){it!==2&&it!==9||ot!==e||(it=7),al(e)},s.then(t,t);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Is(s)?(it=0,gn=null,Af(t)):(it=0,gn=null,$a(e,t,s,7));break;case 5:var M=null;switch(Ge.tag){case 26:M=Ge.memoizedState;case 5:case 27:var L=Ge;if(M?md(M):L.stateNode.complete){it=0,gn=null;var W=L.sibling;if(W!==null)Ge=W;else{var le=L.return;le!==null?(Ge=le,a0(le)):Ge=null}break t}}it=0,gn=null,$a(e,t,s,5);break;case 6:it=0,gn=null,$a(e,t,s,6);break;case 8:Nc(),pt=6;break e;default:throw Error(i(462))}}w2();break}catch(re){Mf(e,re)}while(!0);return bl=fa=null,z.H=l,z.A=c,tt=n,Ge!==null?0:(ot=null,He=0,Cr(),pt)}function w2(){for(;Ge!==null&&!sn();)Nf(Ge)}function Nf(e){var t=Fo(e.alternate,e,jl);e.memoizedProps=e.pendingProps,t===null?a0(e):Ge=t}function Af(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xo(n,t,t.pendingProps,t.type,void 0,He);break;case 11:t=Xo(n,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:Zu(t);default:ef(n,t),t=Ge=js(t,jl),t=Fo(n,t,jl)}e.memoizedProps=e.pendingProps,t===null?a0(e):Ge=t}function $a(e,t,n,l){bl=fa=null,Zu(t),Ha=null,Mi=0;var c=t.return;try{if(f2(e,c,t,n,He)){pt=1,Zr(e,Tn(n,e.current)),Ge=null;return}}catch(s){if(c!==null)throw Ge=c,s;pt=1,Zr(e,Tn(n,e.current)),Ge=null;return}t.flags&32768?(Ue||l===1?e=!0:Va||(He&536870912)!==0?e=!1:(Kl=e=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tf(t,e)):a0(t)}function a0(e){var t=e;do{if((t.flags&32768)!==0){Tf(t,Kl);return}e=t.return;var n=m2(t.alternate,t,jl);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);pt===0&&(pt=5)}function Tf(e,t){do{var n=b2(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);pt=6,Ge=null}function Ef(e,t,n,l,c,s,M,L,W){e.cancelPendingCommit=null;do i0();while(Et!==0);if((tt&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,s|=vu,Rt(e,n,s,M,L,W),e===ot&&(Ge=ot=null,He=0),Pa=t,Xl=e,zl=n,jc=s,zc=c,_f=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D2(Zn,function(){return If(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=N.p,N.p=2,M=tt,tt|=4;try{g2(e,t,n)}finally{tt=M,N.p=c,z.T=l}}Et=1,Lf(),Bf(),kf()}}function Lf(){if(Et===1){Et=0;var e=Xl,t=Pa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var l=N.p;N.p=2;var c=tt;tt|=4;try{df(t,e);var s=Hc,M=gs(e.containerInfo),L=s.focusedElem,W=s.selectionRange;if(M!==L&&L&&L.ownerDocument&&bs(L.ownerDocument.documentElement,L)){if(W!==null&&du(L)){var le=W.start,re=W.end;if(re===void 0&&(re=le),"selectionStart"in L)L.selectionStart=le,L.selectionEnd=Math.min(re,L.value.length);else{var ce=L.ownerDocument||document,ae=ce&&ce.defaultView||window;if(ae.getSelection){var ie=ae.getSelection(),be=L.textContent.length,je=Math.min(W.start,be),st=W.end===void 0?je:Math.min(W.end,be);!ie.extend&&je>st&&(M=st,st=je,je=M);var $=ms(L,je),V=ms(L,st);if($&&V&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==V.node||ie.focusOffset!==V.offset)){var ne=ce.createRange();ne.setStart($.node,$.offset),ie.removeAllRanges(),je>st?(ie.addRange(ne),ie.extend(V.node,V.offset)):(ne.setEnd(V.node,V.offset),ie.addRange(ne))}}}}for(ce=[],ie=L;ie=ie.parentNode;)ie.nodeType===1&&ce.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ce.length;L++){var ue=ce[L];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}g0=!!Yc,Hc=Yc=null}finally{tt=c,N.p=l,z.T=n}}e.current=t,Et=2}}function Bf(){if(Et===2){Et=0;var e=Xl,t=Pa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var l=N.p;N.p=2;var c=tt;tt|=4;try{cf(e,t.alternate,t)}finally{tt=c,N.p=l,z.T=n}}Et=3}}function kf(){if(Et===4||Et===3){Et=0,on();var e=Xl,t=Pa,n=zl,l=_f;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Et=5:(Et=0,Pa=Xl=null,qf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Zl=null),gt(n),t=t.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(fn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,c=N.p,N.p=2,z.T=null;try{for(var s=e.onRecoverableError,M=0;M<l.length;M++){var L=l[M];s(L.value,{componentStack:L.stack})}}finally{z.T=t,N.p=c}}(zl&3)!==0&&i0(),al(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Dc?Hi++:(Hi=0,Dc=e):Hi=0,Ki(0)}}function qf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ci(t)))}function i0(){return Lf(),Bf(),kf(),If()}function If(){if(Et!==5)return!1;var e=Xl,t=jc;jc=0;var n=gt(zl),l=z.T,c=N.p;try{N.p=32>n?32:n,z.T=null,n=zc,zc=null;var s=Xl,M=zl;if(Et=0,Pa=Xl=null,zl=0,(tt&6)!==0)throw Error(i(331));var L=tt;if(tt|=4,vf(s.current),mf(s,s.current,M,n),tt=L,Ki(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(fn,s)}catch{}return!0}finally{N.p=c,z.T=l,qf(e,t)}}function Gf(e,t,n){t=Tn(n,t),t=rc(e.stateNode,t,2),e=Rl(e,t,2),e!==null&&(Te(e,2),al(e))}function rt(e,t,n){if(e.tag===3)Gf(e,e,n);else for(;t!==null;){if(t.tag===3){Gf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zl===null||!Zl.has(l))){e=Tn(n,e),n=Go(2),l=Rl(t,n,2),l!==null&&(Ro(n,l,t,e),Te(l,2),al(l));break}}t=t.return}}function Tc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new y2;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(Cc=!0,c.add(n),e=M2.bind(null,e,t,n),t.then(e,e))}function M2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ot===e&&(He&n)===n&&(pt===4||pt===3&&(He&62914560)===He&&300>Ze()-$r?(tt&2)===0&&Fa(e,0):wc|=n,Qa===He&&(Qa=0)),al(e)}function Rf(e,t){t===0&&(t=We()),e=xa(e,t),e!==null&&(Te(e,t),al(e))}function j2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rf(e,n)}function z2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Rf(e,n)}function D2(e,t){return Lt(e,t)}var r0=null,ei=null,Ec=!1,u0=!1,Lc=!1,Wl=0;function al(e){e!==ei&&e.next===null&&(ei===null?r0=ei=e:ei=ei.next=e),u0=!0,Ec||(Ec=!0,A2())}function Ki(e,t){if(!Lc&&u0){Lc=!0;do for(var n=!1,l=r0;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var s=0;else{var M=l.suspendedLanes,L=l.pingedLanes;s=(1<<31-Ye(42|e)+1)-1,s&=c&~(M&~L),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Kf(l,s))}else s=He,s=we(l,l===ot?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||Fe(l,s)||(n=!0,Kf(l,s));l=l.next}while(n);Lc=!1}}function N2(){Of()}function Of(){u0=Ec=!1;var e=0;Wl!==0&&O2()&&(e=Wl);for(var t=Ze(),n=null,l=r0;l!==null;){var c=l.next,s=Yf(l,t);s===0?(l.next=null,n===null?r0=c:n.next=c,c===null&&(ei=n)):(n=l,(e!==0||(s&3)!==0)&&(u0=!0)),l=c}Et!==0&&Et!==5||Ki(e),Wl!==0&&(Wl=0)}function Yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var M=31-Ye(s),L=1<<M,W=c[M];W===-1?((L&n)===0||(L&l)!==0)&&(c[M]=$e(L,t)):W<=t&&(e.expiredLanes|=L),s&=~L}if(t=ot,n=He,n=we(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(it===2||it===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Xt(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Fe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Xt(l),gt(n)){case 2:case 8:n=Un;break;case 32:n=Zn;break;case 268435456:n=$n;break;default:n=Zn}return l=Hf.bind(null,e),n=Lt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Xt(l),e.callbackPriority=2,e.callbackNode=null,2}function Hf(e,t){if(Et!==0&&Et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(i0()&&e.callbackNode!==n)return null;var l=He;return l=we(e,e===ot?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Cf(e,l,t),Yf(e,Ze()),e.callbackNode!=null&&e.callbackNode===n?Hf.bind(null,e):null)}function Kf(e,t){if(i0())return null;Cf(e,t,!0)}function A2(){H2(function(){(tt&6)!==0?Lt(Wt,N2):Of()})}function Bc(){if(Wl===0){var e=Ra;e===0&&(e=Ce,Ce<<=1,(Ce&261888)===0&&(Ce=256)),Wl=e}return Wl}function Uf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mr(""+e)}function Zf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function T2(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var s=Uf((c[Ot]||null).action),M=l.submitter;M&&(t=(t=M[Ot]||null)?Uf(t.formAction):M.getAttribute("formAction"),t!==null&&(s=t,M=null));var L=new pr("action","action",null,l,c);e.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wl!==0){var W=M?Zf(c,M):new FormData(c);ec(n,{pending:!0,data:W,method:c.method,action:s},null,W)}}else typeof s=="function"&&(L.preventDefault(),W=M?Zf(c,M):new FormData(c),ec(n,{pending:!0,data:W,method:c.method,action:s},s,W))},currentTarget:c}]})}}for(var kc=0;kc<gu.length;kc++){var qc=gu[kc],E2=qc.toLowerCase(),L2=qc[0].toUpperCase()+qc.slice(1);Xn(E2,"on"+L2)}Xn(ys,"onAnimationEnd"),Xn(_s,"onAnimationIteration"),Xn(Ss,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(V1,"onTransitionRun"),Xn(Q1,"onTransitionStart"),Xn(P1,"onTransitionCancel"),Xn(Cs,"onTransitionEnd"),Ma("onMouseEnter",["mouseout","mouseover"]),Ma("onMouseLeave",["mouseout","mouseover"]),Ma("onPointerEnter",["pointerout","pointerover"]),Ma("onPointerLeave",["pointerout","pointerover"]),sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sl("onBeforeInput",["compositionend","keypress","textInput","paste"]),sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ui));function Xf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var M=l.length-1;0<=M;M--){var L=l[M],W=L.instance,le=L.currentTarget;if(L=L.listener,W!==s&&c.isPropagationStopped())break e;s=L,c.currentTarget=le;try{s(c)}catch(re){Sr(re)}c.currentTarget=null,s=W}else for(M=0;M<l.length;M++){if(L=l[M],W=L.instance,le=L.currentTarget,L=L.listener,W!==s&&c.isPropagationStopped())break e;s=L,c.currentTarget=le;try{s(c)}catch(re){Sr(re)}c.currentTarget=null,s=W}}}}function Re(e,t){var n=t[zn];n===void 0&&(n=t[zn]=new Set);var l=e+"__bubble";n.has(l)||(Jf(t,e,2,!1),n.add(l))}function Ic(e,t,n){var l=0;t&&(l|=4),Jf(n,e,l,t)}var c0="_reactListening"+Math.random().toString(36).slice(2);function Gc(e){if(!e[c0]){e[c0]=!0,Ct.forEach(function(n){n!=="selectionchange"&&(B2.has(n)||Ic(n,!1,e),Ic(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[c0]||(t[c0]=!0,Ic("selectionchange",!1,t))}}function Jf(e,t,n,l){switch(Sd(t)){case 2:var c=ch;break;case 8:c=xh;break;default:c=$c}n=c.bind(null,t,n,e),c=void 0,!au||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Rc(e,t,n,l,c){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var M=l.tag;if(M===3||M===4){var L=l.stateNode.containerInfo;if(L===c)break;if(M===4)for(M=l.return;M!==null;){var W=M.tag;if((W===3||W===4)&&M.stateNode.containerInfo===c)return;M=M.return}for(;L!==null;){if(M=Tl(L),M===null)return;if(W=M.tag,W===5||W===6||W===26||W===27){l=s=M;continue e}L=L.parentNode}}l=l.return}Qx(function(){var le=s,re=nu(n),ce=[];e:{var ae=ws.get(e);if(ae!==void 0){var ie=pr,be=e;switch(e){case"keypress":if(gr(n)===0)break e;case"keydown":case"keyup":ie=z1;break;case"focusin":be="focus",ie=cu;break;case"focusout":be="blur",ie=cu;break;case"beforeblur":case"afterblur":ie=cu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=$x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=m1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=A1;break;case ys:case _s:case Ss:ie=v1;break;case Cs:ie=E1;break;case"scroll":case"scrollend":ie=d1;break;case"wheel":ie=B1;break;case"copy":case"cut":case"paste":ie=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ts;break;case"toggle":case"beforetoggle":ie=q1}var je=(t&4)!==0,st=!je&&(e==="scroll"||e==="scrollend"),$=je?ae!==null?ae+"Capture":null:ae;je=[];for(var V=le,ne;V!==null;){var ue=V;if(ne=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ne===null||$===null||(ue=fi(V,$),ue!=null&&je.push(Zi(V,ue,ne))),st)break;V=V.return}0<je.length&&(ae=new ie(ae,be,null,n,re),ce.push({event:ae,listeners:je}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",ae&&n!==tu&&(be=n.relatedTarget||n.fromElement)&&(Tl(be)||be[Al]))break e;if((ie||ae)&&(ae=re.window===re?re:(ae=re.ownerDocument)?ae.defaultView||ae.parentWindow:window,ie?(be=n.relatedTarget||n.toElement,ie=le,be=be?Tl(be):null,be!==null&&(st=o(be),je=be.tag,be!==st||je!==5&&je!==27&&je!==6)&&(be=null)):(ie=null,be=le),ie!==be)){if(je=$x,ue="onMouseLeave",$="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(je=ts,ue="onPointerLeave",$="onPointerEnter",V="pointer"),st=ie==null?ae:Se(ie),ne=be==null?ae:Se(be),ae=new je(ue,V+"leave",ie,n,re),ae.target=st,ae.relatedTarget=ne,ue=null,Tl(re)===le&&(je=new je($,V+"enter",be,n,re),je.target=ne,je.relatedTarget=st,ue=je),st=ue,ie&&be)t:{for(je=k2,$=ie,V=be,ne=0,ue=$;ue;ue=je(ue))ne++;ue=0;for(var Me=V;Me;Me=je(Me))ue++;for(;0<ne-ue;)$=je($),ne--;for(;0<ue-ne;)V=je(V),ue--;for(;ne--;){if($===V||V!==null&&$===V.alternate){je=$;break t}$=je($),V=je(V)}je=null}else je=null;ie!==null&&Wf(ce,ae,ie,je,!1),be!==null&&st!==null&&Wf(ce,st,be,je,!0)}}e:{if(ae=le?Se(le):window,ie=ae.nodeName&&ae.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ae.type==="file")var Qe=xs;else if(us(ae))if(ss)Qe=X1;else{Qe=U1;var ve=K1}else ie=ae.nodeName,!ie||ie.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?le&&eu(le.elementType)&&(Qe=xs):Qe=Z1;if(Qe&&(Qe=Qe(e,le))){cs(ce,Qe,n,re);break e}ve&&ve(e,ae,le),e==="focusout"&&le&&ae.type==="number"&&le.memoizedProps.value!=null&&$0(ae,"number",ae.value)}switch(ve=le?Se(le):window,e){case"focusin":(us(ve)||ve.contentEditable==="true")&&(Ta=ve,hu=le,yi=null);break;case"focusout":yi=hu=Ta=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,vs(ce,n,re);break;case"selectionchange":if(W1)break;case"keydown":case"keyup":vs(ce,n,re)}var Le;if(su)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Aa?is(e,n)&&(Ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ke="onCompositionStart");Ke&&(ns&&n.locale!=="ko"&&(Aa||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Aa&&(Le=Px()):(El=re,iu="value"in El?El.value:El.textContent,Aa=!0)),ve=x0(le,Ke),0<ve.length&&(Ke=new es(Ke,e,null,n,re),ce.push({event:Ke,listeners:ve}),Le?Ke.data=Le:(Le=rs(n),Le!==null&&(Ke.data=Le)))),(Le=G1?R1(e,n):O1(e,n))&&(Ke=x0(le,"onBeforeInput"),0<Ke.length&&(ve=new es("onBeforeInput","beforeinput",null,n,re),ce.push({event:ve,listeners:Ke}),ve.data=Le)),T2(ce,e,le,n,re)}Xf(ce,t)})}function Zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function x0(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,s=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||s===null||(c=fi(e,n),c!=null&&l.unshift(Zi(e,c,s)),c=fi(e,t),c!=null&&l.push(Zi(e,c,s))),e.tag===3)return l;e=e.return}return[]}function k2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wf(e,t,n,l,c){for(var s=t._reactName,M=[];n!==null&&n!==l;){var L=n,W=L.alternate,le=L.stateNode;if(L=L.tag,W!==null&&W===l)break;L!==5&&L!==26&&L!==27||le===null||(W=le,c?(le=fi(n,s),le!=null&&M.unshift(Zi(n,le,W))):c||(le=fi(n,s),le!=null&&M.push(Zi(n,le,W)))),n=n.return}M.length!==0&&e.push({event:t,listeners:M})}var q2=/\r\n?/g,I2=/\u0000|\uFFFD/g;function Vf(e){return(typeof e=="string"?e:""+e).replace(q2,`
`).replace(I2,"")}function Qf(e,t){return t=Vf(t),Vf(e)===t}function xt(e,t,n,l,c,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||za(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&za(e,""+l);break;case"className":dr(e,"class",l);break;case"tabIndex":dr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(e,n,l);break;case"style":Wx(e,l,s);break;case"data":if(t!=="object"){dr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=mr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&xt(e,t,"name",c.name,c,null),xt(e,t,"formEncType",c.formEncType,c,null),xt(e,t,"formMethod",c.formMethod,c,null),xt(e,t,"formTarget",c.formTarget,c,null)):(xt(e,t,"encType",c.encType,c,null),xt(e,t,"method",c.method,c,null),xt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=mr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=fl);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=mr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),fr(e,"popover",l);break;case"xlinkActuate":ol(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ol(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ol(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ol(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ol(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ol(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ol(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ol(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ol(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=o1.get(n)||n,fr(e,n,l))}}function Oc(e,t,n,l,c,s){switch(n){case"style":Wx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?za(e,l):(typeof l=="number"||typeof l=="bigint")&&za(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=fl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),s=e[Ot]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,c),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):fr(e,n,l)}}}function Ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,c=!1,s;for(s in n)if(n.hasOwnProperty(s)){var M=n[s];if(M!=null)switch(s){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:xt(e,t,s,M,n,null)}}c&&xt(e,t,"srcSet",n.srcSet,n,null),l&&xt(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var L=s=M=c=null,W=null,le=null;for(l in n)if(n.hasOwnProperty(l)){var re=n[l];if(re!=null)switch(l){case"name":c=re;break;case"type":M=re;break;case"checked":W=re;break;case"defaultChecked":le=re;break;case"value":s=re;break;case"defaultValue":L=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,t));break;default:xt(e,t,l,re,n,null)}}Ux(e,s,L,W,le,M,c,!1);return;case"select":Re("invalid",e),l=M=s=null;for(c in n)if(n.hasOwnProperty(c)&&(L=n[c],L!=null))switch(c){case"value":s=L;break;case"defaultValue":M=L;break;case"multiple":l=L;default:xt(e,t,c,L,n,null)}t=s,n=M,e.multiple=!!l,t!=null?ja(e,!!l,t,!1):n!=null&&ja(e,!!l,n,!0);return;case"textarea":Re("invalid",e),s=c=l=null;for(M in n)if(n.hasOwnProperty(M)&&(L=n[M],L!=null))switch(M){case"value":l=L;break;case"defaultValue":c=L;break;case"children":s=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:xt(e,t,M,L,n,null)}Xx(e,l,c,s);return;case"option":for(W in n)n.hasOwnProperty(W)&&(l=n[W],l!=null)&&(W==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":xt(e,t,W,l,n,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<Ui.length;l++)Re(Ui[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in n)if(n.hasOwnProperty(le)&&(l=n[le],l!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:xt(e,t,le,l,n,null)}return;default:if(eu(t)){for(re in n)n.hasOwnProperty(re)&&(l=n[re],l!==void 0&&Oc(e,t,re,l,n,void 0));return}}for(L in n)n.hasOwnProperty(L)&&(l=n[L],l!=null&&xt(e,t,L,l,n,null))}function G2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,s=null,M=null,L=null,W=null,le=null,re=null;for(ie in n){var ce=n[ie];if(n.hasOwnProperty(ie)&&ce!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":W=ce;default:l.hasOwnProperty(ie)||xt(e,t,ie,null,l,ce)}}for(var ae in l){var ie=l[ae];if(ce=n[ae],l.hasOwnProperty(ae)&&(ie!=null||ce!=null))switch(ae){case"type":s=ie;break;case"name":c=ie;break;case"checked":le=ie;break;case"defaultChecked":re=ie;break;case"value":M=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:ie!==ce&&xt(e,t,ae,ie,l,ce)}}F0(e,M,L,W,le,re,s,c);return;case"select":ie=M=L=ae=null;for(s in n)if(W=n[s],n.hasOwnProperty(s)&&W!=null)switch(s){case"value":break;case"multiple":ie=W;default:l.hasOwnProperty(s)||xt(e,t,s,null,l,W)}for(c in l)if(s=l[c],W=n[c],l.hasOwnProperty(c)&&(s!=null||W!=null))switch(c){case"value":ae=s;break;case"defaultValue":L=s;break;case"multiple":M=s;default:s!==W&&xt(e,t,c,s,l,W)}t=L,n=M,l=ie,ae!=null?ja(e,!!n,ae,!1):!!l!=!!n&&(t!=null?ja(e,!!n,t,!0):ja(e,!!n,n?[]:"",!1));return;case"textarea":ie=ae=null;for(L in n)if(c=n[L],n.hasOwnProperty(L)&&c!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:xt(e,t,L,null,l,c)}for(M in l)if(c=l[M],s=n[M],l.hasOwnProperty(M)&&(c!=null||s!=null))switch(M){case"value":ae=c;break;case"defaultValue":ie=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==s&&xt(e,t,M,c,l,s)}Zx(e,ae,ie);return;case"option":for(var be in n)ae=n[be],n.hasOwnProperty(be)&&ae!=null&&!l.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:xt(e,t,be,null,l,ae));for(W in l)ae=l[W],ie=n[W],l.hasOwnProperty(W)&&ae!==ie&&(ae!=null||ie!=null)&&(W==="selected"?e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":xt(e,t,W,ae,l,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in n)ae=n[je],n.hasOwnProperty(je)&&ae!=null&&!l.hasOwnProperty(je)&&xt(e,t,je,null,l,ae);for(le in l)if(ae=l[le],ie=n[le],l.hasOwnProperty(le)&&ae!==ie&&(ae!=null||ie!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:xt(e,t,le,ae,l,ie)}return;default:if(eu(t)){for(var st in n)ae=n[st],n.hasOwnProperty(st)&&ae!==void 0&&!l.hasOwnProperty(st)&&Oc(e,t,st,void 0,l,ae);for(re in l)ae=l[re],ie=n[re],!l.hasOwnProperty(re)||ae===ie||ae===void 0&&ie===void 0||Oc(e,t,re,ae,l,ie);return}}for(var $ in n)ae=n[$],n.hasOwnProperty($)&&ae!=null&&!l.hasOwnProperty($)&&xt(e,t,$,null,l,ae);for(ce in l)ae=l[ce],ie=n[ce],!l.hasOwnProperty(ce)||ae===ie||ae==null&&ie==null||xt(e,t,ce,ae,l,ie)}function Pf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],s=c.transferSize,M=c.initiatorType,L=c.duration;if(s&&L&&Pf(M)){for(M=0,L=c.responseEnd,l+=1;l<n.length;l++){var W=n[l],le=W.startTime;if(le>L)break;var re=W.transferSize,ce=W.initiatorType;re&&Pf(ce)&&(W=W.responseEnd,M+=re*(W<L?1:(L-le)/(W-le)))}if(--l,t+=8*(s+M)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yc=null,Hc=null;function s0(e){return e.nodeType===9?e:e.ownerDocument}function Ff(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $f(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Kc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uc=null;function O2(){var e=window.event;return e&&e.type==="popstate"?e===Uc?!1:(Uc=e,!0):(Uc=null,!1)}var ed=typeof setTimeout=="function"?setTimeout:void 0,Y2=typeof clearTimeout=="function"?clearTimeout:void 0,td=typeof Promise=="function"?Promise:void 0,H2=typeof queueMicrotask=="function"?queueMicrotask:typeof td<"u"?function(e){return td.resolve(null).then(e).catch(K2)}:ed;function K2(e){setTimeout(function(){throw e})}function Vl(e){return e==="head"}function nd(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),ai(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Xi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Xi(n);for(var s=n.firstChild;s;){var M=s.nextSibling,L=s.nodeName;s[ia]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=M}}else n==="body"&&Xi(e.ownerDocument.body);n=c}while(n);ai(t)}function ld(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Zc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Zc(n),oi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function U2(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ia])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function Z2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qn(e.nextSibling),e===null))return null;return e}function ad(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=qn(e.nextSibling),e===null))return null;return e}function Xc(e){return e.data==="$?"||e.data==="$~"}function Jc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Wc=null;function id(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return qn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function rd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ud(e,t,n){switch(t=s0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Xi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);oi(e)}var In=new Map,cd=new Set;function o0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dl=N.d;N.d={f:J2,r:W2,D:V2,C:Q2,L:P2,m:F2,X:eh,S:$2,M:th};function J2(){var e=Dl.f(),t=n0();return e||t}function W2(e){var t=me(e);t!==null&&t.tag===5&&t.type==="form"?wo(t):Dl.r(e)}var ti=typeof document>"u"?null:document;function xd(e,t,n){var l=ti;if(l&&typeof t=="string"&&t){var c=Nn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),cd.has(c)||(cd.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Ut(t,"link",e),Je(t),l.head.appendChild(t)))}}function V2(e){Dl.D(e),xd("dns-prefetch",e,null)}function Q2(e,t){Dl.C(e,t),xd("preconnect",e,t)}function P2(e,t,n){Dl.L(e,t,n);var l=ti;if(l&&e&&t){var c='link[rel="preload"][as="'+Nn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Nn(n.imageSizes)+'"]')):c+='[href="'+Nn(e)+'"]';var s=c;switch(t){case"style":s=ni(e);break;case"script":s=li(e)}In.has(s)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),In.set(s,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Ji(s))||t==="script"&&l.querySelector(Wi(s))||(t=l.createElement("link"),Ut(t,"link",e),Je(t),l.head.appendChild(t)))}}function F2(e,t){Dl.m(e,t);var n=ti;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Nn(l)+'"][href="'+Nn(e)+'"]',s=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=li(e)}if(!In.has(s)&&(e=y({rel:"modulepreload",href:e},t),In.set(s,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wi(s)))return}l=n.createElement("link"),Ut(l,"link",e),Je(l),n.head.appendChild(l)}}}function $2(e,t,n){Dl.S(e,t,n);var l=ti;if(l&&e){var c=qe(l).hoistableStyles,s=ni(e);t=t||"default";var M=c.get(s);if(!M){var L={loading:0,preload:null};if(M=l.querySelector(Ji(s)))L.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=In.get(s))&&Vc(e,n);var W=M=l.createElement("link");Je(W),Ut(W,"link",e),W._p=new Promise(function(le,re){W.onload=le,W.onerror=re}),W.addEventListener("load",function(){L.loading|=1}),W.addEventListener("error",function(){L.loading|=2}),L.loading|=4,f0(M,t,l)}M={type:"stylesheet",instance:M,count:1,state:L},c.set(s,M)}}}function eh(e,t){Dl.X(e,t);var n=ti;if(n&&e){var l=qe(n).hoistableScripts,c=li(e),s=l.get(c);s||(s=n.querySelector(Wi(c)),s||(e=y({src:e,async:!0},t),(t=In.get(c))&&Qc(e,t),s=n.createElement("script"),Je(s),Ut(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function th(e,t){Dl.M(e,t);var n=ti;if(n&&e){var l=qe(n).hoistableScripts,c=li(e),s=l.get(c);s||(s=n.querySelector(Wi(c)),s||(e=y({src:e,async:!0,type:"module"},t),(t=In.get(c))&&Qc(e,t),s=n.createElement("script"),Je(s),Ut(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function sd(e,t,n,l){var c=(c=te.current)?o0(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ni(n.href),n=qe(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ni(n.href);var s=qe(c).hoistableStyles,M=s.get(e);if(M||(c=c.ownerDocument||c,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,M),(s=c.querySelector(Ji(e)))&&!s._p&&(M.instance=s,M.state.loading=5),In.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},In.set(e,n),s||nh(c,e,n,M.state))),t&&l===null)throw Error(i(528,""));return M}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=li(n),n=qe(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ni(e){return'href="'+Nn(e)+'"'}function Ji(e){return'link[rel="stylesheet"]['+e+"]"}function od(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function nh(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ut(t,"link",n),Je(t),e.head.appendChild(t))}function li(e){return'[src="'+Nn(e)+'"]'}function Wi(e){return"script[async]"+e}function fd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Nn(n.href)+'"]');if(l)return t.instance=l,Je(l),l;var c=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Je(l),Ut(l,"style",c),f0(l,n.precedence,e),t.instance=l;case"stylesheet":c=ni(n.href);var s=e.querySelector(Ji(c));if(s)return t.state.loading|=4,t.instance=s,Je(s),s;l=od(n),(c=In.get(c))&&Vc(l,c),s=(e.ownerDocument||e).createElement("link"),Je(s);var M=s;return M._p=new Promise(function(L,W){M.onload=L,M.onerror=W}),Ut(s,"link",l),t.state.loading|=4,f0(s,n.precedence,e),t.instance=s;case"script":return s=li(n.src),(c=e.querySelector(Wi(s)))?(t.instance=c,Je(c),c):(l=n,(c=In.get(s))&&(l=y({},n),Qc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Je(c),Ut(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,f0(l,n.precedence,e));return t.instance}function f0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,s=c,M=0;M<l.length;M++){var L=l[M];if(L.dataset.precedence===t)s=L;else if(s!==c)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var d0=null;function dd(e,t,n){if(d0===null){var l=new Map,c=d0=new Map;c.set(n,l)}else c=d0,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var s=n[c];if(!(s[ia]||s[De]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var M=s.getAttribute(t)||"";M=e+M;var L=l.get(M);L?L.push(s):l.set(M,[s])}}return l}function hd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function lh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function md(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ah(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ni(l.href),s=t.querySelector(Ji(c));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=h0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Je(s);return}s=t.ownerDocument||t,l=od(l),(c=In.get(c))&&Vc(l,c),s=s.createElement("link"),Je(s);var M=s;M._p=new Promise(function(L,W){M.onload=L,M.onerror=W}),Ut(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=h0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Pc=0;function ih(e,t){return e.stylesheets&&e.count===0&&b0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&b0(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Pc===0&&(Pc=62500*R2());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&b0(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Pc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function h0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)b0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var m0=null;function b0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,m0=new Map,t.forEach(rh,e),m0=null,h0.call(e))}function rh(e,t){if(!(t.state.loading&4)){var n=m0.get(e);if(n)var l=n.get(null);else{n=new Map,m0.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<c.length;s++){var M=c[s];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(n.set(M.dataset.precedence,M),l=M)}l&&n.set(null,l)}c=t.instance,M=c.getAttribute("data-precedence"),s=n.get(M)||l,s===l&&n.set(null,c),n.set(M,c),this.count++,l=h0.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),s?s.parentNode.insertBefore(c,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Vi={$$typeof:E,Provider:null,Consumer:null,_currentValue:A,_currentValue2:A,_threadCount:0};function uh(e,t,n,l,c,s,M,L,W){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ve(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.hiddenUpdates=Ve(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=s,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function bd(e,t,n,l,c,s,M,L,W,le,re,ce){return e=new uh(e,t,n,M,W,le,re,ce,L),t=1,s===!0&&(t|=24),s=hn(3,null,null,t),e.current=s,s.stateNode=e,t=Au(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Bu(s),e}function gd(e){return e?(e=Ba,e):Ba}function vd(e,t,n,l,c,s){c=gd(c),l.context===null?l.context=c:l.pendingContext=c,l=Gl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=Rl(e,l,t),n!==null&&(an(n,e,t),zi(n,e,t))}function pd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fc(e,t){pd(e,t),(e=e.alternate)&&pd(e,t)}function yd(e){if(e.tag===13||e.tag===31){var t=xa(e,67108864);t!==null&&an(t,e,67108864),Fc(e,67108864)}}function _d(e){if(e.tag===13||e.tag===31){var t=pn();t=lt(t);var n=xa(e,t);n!==null&&an(n,e,t),Fc(e,t)}}var g0=!0;function ch(e,t,n,l){var c=z.T;z.T=null;var s=N.p;try{N.p=2,$c(e,t,n,l)}finally{N.p=s,z.T=c}}function xh(e,t,n,l){var c=z.T;z.T=null;var s=N.p;try{N.p=8,$c(e,t,n,l)}finally{N.p=s,z.T=c}}function $c(e,t,n,l){if(g0){var c=ex(l);if(c===null)Rc(e,t,l,v0,n),Cd(e,l);else if(oh(c,e,t,n,l))l.stopPropagation();else if(Cd(e,l),t&4&&-1<sh.indexOf(e)){for(;c!==null;){var s=me(c);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var M=ze(s.pendingLanes);if(M!==0){var L=s;for(L.pendingLanes|=2,L.entangledLanes|=2;M;){var W=1<<31-Ye(M);L.entanglements[1]|=W,M&=~W}al(s),(tt&6)===0&&(e0=Ze()+500,Ki(0))}}break;case 31:case 13:L=xa(s,2),L!==null&&an(L,s,2),n0(),Fc(s,2)}if(s=ex(l),s===null&&Rc(e,t,l,v0,n),s===c)break;c=s}c!==null&&l.stopPropagation()}else Rc(e,t,l,null,n)}}function ex(e){return e=nu(e),tx(e)}var v0=null;function tx(e){if(v0=null,e=Tl(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=g(t),e!==null)return e;e=null}else if(n===31){if(e=_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return v0=e,null}function Sd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case Wt:return 2;case Un:return 8;case Zn:case Fn:return 32;case $n:return 268435456;default:return 32}default:return 32}}var nx=!1,Ql=null,Pl=null,Fl=null,Qi=new Map,Pi=new Map,$l=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cd(e,t){switch(e){case"focusin":case"focusout":Ql=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":Qi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(t.pointerId)}}function Fi(e,t,n,l,c,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[c]},t!==null&&(t=me(t),t!==null&&yd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function oh(e,t,n,l,c){switch(t){case"focusin":return Ql=Fi(Ql,e,t,n,l,c),!0;case"dragenter":return Pl=Fi(Pl,e,t,n,l,c),!0;case"mouseover":return Fl=Fi(Fl,e,t,n,l,c),!0;case"pointerover":var s=c.pointerId;return Qi.set(s,Fi(Qi.get(s)||null,e,t,n,l,c)),!0;case"gotpointercapture":return s=c.pointerId,Pi.set(s,Fi(Pi.get(s)||null,e,t,n,l,c)),!0}return!1}function wd(e){var t=Tl(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=g(n),t!==null){e.blockedOn=t,wa(e.priority,function(){_d(n)});return}}else if(t===31){if(t=_(n),t!==null){e.blockedOn=t,wa(e.priority,function(){_d(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function p0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ex(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);tu=l,n.target.dispatchEvent(l),tu=null}else return t=me(n),t!==null&&yd(t),e.blockedOn=n,!1;t.shift()}return!0}function Md(e,t,n){p0(e)&&n.delete(t)}function fh(){nx=!1,Ql!==null&&p0(Ql)&&(Ql=null),Pl!==null&&p0(Pl)&&(Pl=null),Fl!==null&&p0(Fl)&&(Fl=null),Qi.forEach(Md),Pi.forEach(Md)}function y0(e,t){e.blockedOn===t&&(e.blockedOn=null,nx||(nx=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,fh)))}var _0=null;function jd(e){_0!==e&&(_0=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){_0===e&&(_0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(tx(l||n)===null)continue;break}var s=me(n);s!==null&&(e.splice(t,3),t-=3,ec(s,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function ai(e){function t(W){return y0(W,e)}Ql!==null&&y0(Ql,e),Pl!==null&&y0(Pl,e),Fl!==null&&y0(Fl,e),Qi.forEach(t),Pi.forEach(t);for(var n=0;n<$l.length;n++){var l=$l[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$l.length&&(n=$l[0],n.blockedOn===null);)wd(n),n.blockedOn===null&&$l.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],s=n[l+1],M=c[Ot]||null;if(typeof s=="function")M||jd(n);else if(M){var L=null;if(s&&s.hasAttribute("formAction")){if(c=s,M=s[Ot]||null)L=M.formAction;else if(tx(c)!==null)continue}else L=M.action;typeof L=="function"?n[l+1]=L:(n.splice(l,3),l-=3),jd(n)}}}function zd(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(M){return c=M})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function lx(e){this._internalRoot=e}S0.prototype.render=lx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=pn();vd(n,l,e,t,null,null)},S0.prototype.unmount=lx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vd(e.current,2,null,e,null,null),n0(),t[Al]=null}};function S0(e){this._internalRoot=e}S0.prototype.unstable_scheduleHydration=function(e){if(e){var t=jn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$l.length&&t!==0&&t<$l[n].priority;n++);$l.splice(n,0,e),n===0&&wd(e)}};var Dd=r.version;if(Dd!=="19.2.3")throw Error(i(527,Dd,"19.2.3"));N.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=h(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var dh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var C0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!C0.isDisabled&&C0.supportsFiber)try{fn=C0.inject(dh),Gt=C0}catch{}}return er.createRoot=function(e,t){if(!f(e))throw Error(i(299));var n=!1,l="",c=Bo,s=ko,M=qo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(M=t.onRecoverableError)),t=bd(e,1,!1,null,null,n,l,null,c,s,M,zd),e[Al]=t.current,Gc(e),new lx(t)},er.hydrateRoot=function(e,t,n){if(!f(e))throw Error(i(299));var l=!1,c="",s=Bo,M=ko,L=qo,W=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(M=n.onCaughtError),n.onRecoverableError!==void 0&&(L=n.onRecoverableError),n.formState!==void 0&&(W=n.formState)),t=bd(e,1,!0,t,n??null,l,c,W,s,M,L,zd),t.context=gd(null),n=t.current,l=pn(),l=lt(l),c=Gl(l),c.callback=null,Rl(n,c,l),n=l,t.current.lanes=n,Te(t,n),al(t),e[Al]=t.current,Gc(e),new S0(t)},er.version="19.2.3",er}var Gd;function Ch(){if(Gd)return rx.exports;Gd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),rx.exports=Sh(),rx.exports}var wh=Ch();const cl=yn;(function(u,r){const a=yn,i=u();for(;;)try{if(parseInt(a(271))/1*(parseInt(a(279))/2)+parseInt(a(291))/3+parseInt(a(263))/4+-parseInt(a(266))/5+-parseInt(a(293))/6*(-parseInt(a(267))/7)+-parseInt(a(258))/8*(parseInt(a(259))/9)+-parseInt(a(283))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(j0,209809);const Mh=(function(){const u=yn,r={lMdmP:u(268),rfaYY:function(i,f){return i===f},BCiyY:u(273)};let a=!0;return function(i,f){const o=u,g={DyZmS:function(_,d){return _===d},dGIbo:function(_,d){return _/d}};if(r.BCiyY!=="HyugM"){const _=a?function(){const d=yn;if(f)if(r.lMdmP==="pzQWl"){const h=f[d(292)](i,arguments);return f=null,h}else{const h=(_0x29ae70[d(262)]??[]).find(C=>C.id===_0x1ae0a3);if(!h)return{x:0,y:0};const p=[];for(const C of h.flowerIds){const D=_0x27d172.flowers.find(b=>b.id===C);D&&p.push(D.position)}for(const C of h[d(290)]){const D=(_0x3a52f0[d(295)]??[]).find(b=>b.id===C);D&&p[d(280)](D[d(289)])}if(g.DyZmS(p[d(276)],0))return{x:0,y:0};const y=p.reduce((C,D)=>C+D.x,0),S=p.reduce((C,D)=>C+D.y,0);return{x:y/p.length,y:g.dGIbo(S,p[d(276)])}}}:function(){};return a=!1,_}else return r.rfaYY(_0x92e690,void 0)||r[o(272)](_0x3062f5,null)?_0x3c41b7:_0x123e58[o(270)](_0x3afc2d[o(260)](_0x1f4be0))}})(),fx=Mh(void 0,function(){const u=yn;return fx[u(269)]()[u(285)](u(296)).toString()[u(264)](fx).search(u(296))});function j0(){const u=["BgvHDMvZ","kcGOlISPkYKRksSK","ofHcCu52qW","mtm3mZmXvhjgyKPi","C3rYAw5NAwz5","zMXVB3i","z3jVDxbZ","mtuWnZy5mNvvvg9QEG","y29UC3rYDwn0B3i","C2XPy2u","nda2mJCWBg5YqM5I","mtiYndKZCurnuNbA","ChPrv2W","Dg9tDhjPBMC","CgfYC2u","mvv4wfLuzG","CMzHwvK","tLjezwy","zMLUza","CMvKDwnL","BgvUz3rO","v3PIsLe","zMXVD2vYCW","mJmWnJm4yKzcANr1","ChvZAa","tKzxwMG","Dg9ju09tDhjPBMC","mZqXodyWmgXAsM9wzq","zMXVD2vYswrZ","C2vHCMnO","CMfUzg9T","Aw5JBhvKzxm","Bwf4","Cg9ZAxrPB24","BgvHzKLKCW","ndC4ndrnywfbDfq","yxbWBhK","ndHhyxLRv1e","B1nPExy"];return j0=function(){return u},j0()}fx();const z0=()=>new Date()[cl(282)]();function yn(u,r){u=u-258;const a=j0();let i=a[u];if(yn.tpnLjh===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};yn.iyxYiv=f,yn.BtDsjR={},yn.tpnLjh=!0}const o=a[0],g=u+o,_=yn.BtDsjR[g];if(_)i=_;else{const d=function(h){this.ijorZI=h,this.GkWFUf=[1,0,0],this.zEUhim=function(){return"newState"},this.BIEXPh="\\w+ *\\(\\) *{\\w+ *",this.pNuLwZ=`['|"].+['|"];? *}`};d.prototype.cIFuxs=function(){const h=new RegExp(this.BIEXPh+this.pNuLwZ),p=h.test(this.zEUhim.toString())?--this.GkWFUf[1]:--this.GkWFUf[0];return this.NFVSnk(p)},d.prototype.NFVSnk=function(h){return~h?this.OcPHmF(this.ijorZI):h},d.prototype.OcPHmF=function(h){for(let p=0,y=this.GkWFUf.length;p<y;p++)this.GkWFUf.push(Math.round(Math.random())),y=this.GkWFUf.length;return h(this.GkWFUf[0])},new d(yn).cIFuxs(),i=yn.iyxYiv(i),yn.BtDsjR[g]=i}return i}const qt=u=>u+"_"+Math[cl(286)]().toString(36)[cl(265)](2,10),ye=(u,r,a)=>Math[cl(288)](r,Math.min(a,u)),ta=u=>{const r=cl,a={WzbJQ:function(i,f){return i===f},RYBDh:function(i,f){return i===f}};return a[r(277)](u,void 0)||a.RYBDh(u,null)?u:JSON.parse(JSON[r(260)](u))},nr=u=>Math[cl(261)](u*.7/5)*5;function ul(u,r){const a=cl;return u.groups?u.groups[a(274)](i=>i[a(284)].includes(r))??null:null}function jh(u,r){const a=ul(u,r);return a?a.flowerIds:[r]}function Nl(u,r){const a=cl;return u[a(262)]?u.groups[a(274)](i=>i[a(290)][a(287)](r))??null:null}function zh(u,r){const a=cl,i={paSQE:"NFWZh",OZzYO:function(d,h){return d/h}},f=(u[a(262)]??[])[a(274)](d=>d.id===r);if(!f)return{x:0,y:0};const o=[];for(const d of f.flowerIds)if(a(281)!==i.paSQE){const h=_0x41a3d9(_0x3a4a74,_0x2233da);return h?h[a(284)]:[_0x34438d]}else{const h=u[a(278)].find(p=>p.id===d);h&&o[a(280)](h[a(289)])}for(const d of f.leafIds){const h=(u[a(295)]??[])[a(274)](p=>p.id===d);h&&o[a(280)](h[a(289)])}if(o.length===0)return{x:0,y:0};const g=o[a(275)]((d,h)=>d+h.x,0),_=o[a(275)]((d,h)=>d+h.y,0);return{x:i.OZzYO(g,o.length),y:_/o.length}}function Rd(u,r){const a=cl,i={oSiyv:function(o,g,_){return o(g,_)}},f=i[a(294)](Nl,u,r);return f?f[a(290)]:[r]}(function(u,r){const a=kt,i=u();for(;;)try{if(-parseInt(a(184))/1+parseInt(a(138))/2*(-parseInt(a(140))/3)+parseInt(a(152))/4*(parseInt(a(133))/5)+parseInt(a(171))/6*(-parseInt(a(157))/7)+parseInt(a(142))/8+-parseInt(a(174))/9+parseInt(a(167))/10*(parseInt(a(134))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(D0,322276);const Dh=(function(){const u={XBUMi:function(a,i){return a<=i}};let r=!0;return function(a,i){const f=kt,o={dYVYF:function(_,d){return u.XBUMi(_,d)},rxiEr:f(158)},g=r?function(){const _=f,d={zZOCr:function(h,p){return o[kt(183)](h,p)},ftsks:function(h,p){return o[kt(183)](h,p)},cEcEO:function(h,p){return h*p},RRJkK:function(h,p){return h/p},ZdHgV:function(h,p){return h*p}};if(i)if(o.rxiEr!==_(162)){const h=i.apply(a,arguments);return i=null,h}else{if(d[_(170)](_0x3897aa,0)||d[_(181)](_0x200b78,0))return 0;const h=[];for(let y=0;y<_0x290dc6;y++){const S=_0x24b65c===_(188)?_0x2c78ca+d[_(160)](y,_0x3e2732):_0x1da1e9;h[_(187)](S*_0x5efe4d[_(145)]/2)}let p=h[0];for(let y=1;y<_0x1dffe8;y++)p+=d[_(148)](h[y],3);return _0x13bcbc.round(d[_(161)](p,2))}}:function(){};return r=!1,g}})(),dx=Dh(void 0,function(){const u=kt,r={yNmKX:"(((.+)+)+)+$"};return dx.toString().search(r[u(137)]).toString()[u(149)](dx).search(r[u(137)])});dx();const xi=2/3,Od=.6,Nh=.25,Ah=.75;function la(u,r,a){const i=kt,f={iBaeF:function(E,R){return E/R},iaYrA:function(E,R){return E*R},hWWBT:function(E,R){return E<=R},qPjEL:function(E,R){return E*R},mJEve:function(E,R){return E-R},VdeTS:"gradual",lCmrw:function(E,R){return E===R},aFlfb:function(E,R){return E*R},efSJv:function(E,R){return E-R},uopfa:function(E,R){return E+R}},o=u/2,g=f[i(143)](f[i(135)](r,Math.SQRT2),2);if(f.hWWBT(g,0)||f.hWWBT(o,0))return{diameter:u,layerCount:1};const _=a?.[i(155)]??"uniform",d=a?.[i(172)]??0,h=f[i(139)](g,f[i(179)](1,xi)),p=f[i(143)](Math.PI*o,2),y=a?.layerCount??Math.max(1,Math.round(f[i(143)](p,h))),S=_===f.VdeTS?r+(y-1)*d:r,C=f[i(143)](S*Math[i(145)],2),D=f[i(135)](g,Nh)+f[i(139)](C,Ah);if(f.lCmrw(y,1)){const E=Math[i(185)](Math.PI/2,f.iBaeF(C*xi,o)),R=f[i(139)](o,Math.sin(E)),Y=f.qPjEL(C,Od)*Math[i(169)](E);return{diameter:Math.round(Math.max(u,f[i(135)](2,R+Y))),layerCount:y}}let b=f[i(141)](g,xi)/o;for(let E=1;E<y;E++){const R=_===f.VdeTS?r+f[i(139)](E,d):r,Y=R*Math.SQRT2/2;b+=f[i(141)](Y,f.efSJv(1,xi))/o}b=Math[i(185)](b,Math.PI/2);const v=f[i(141)](f[i(189)](o,D*Od),Math.sin(b)),T=Math[i(136)](0,v-o);return{diameter:Math[i(163)](u+2*T),layerCount:y}}function ir(u,r,a="uniform",i=0){const f=kt,o={grCMk:function(d,h){return d<=h},zQEzO:function(d,h){return d/h},ADkWu:function(d,h){return d===h},zWJdW:f(190),iGCkI:function(d,h){return d/h},nCjgX:function(d,h){return d*h},ASXzK:function(d,h){return d*h},jptPO:function(d,h){return d-h},lkYPM:function(d,h){return d<=h},pSUzI:f(188),IGALZ:function(d,h){return d*h},kBnAV:function(d,h){return d<h},SYErJ:function(d,h){return d/h}};if(o[f(173)](r,0)||u<=0)return 0;const g=[];for(let d=0;d<r;d++){const h=a===o.pSUzI?u+d*i:u;g.push(o.zQEzO(o.IGALZ(h,Math[f(145)]),2))}let _=g[0];for(let d=1;o[f(144)](d,r);d++)_+=o[f(164)](g[d],3);return Math.round(_*2)}function Th(u,r,a="uniform",i=0){const f=kt,o={nAuan:function(y,S){return y<=S},gamPC:function(y,S){return y<=S},afTzB:function(y,S){return y/S},hxSCV:function(y,S){return y===S},qrtsl:function(y,S){return y+S},MZDXY:function(y,S){return y*S},IVnVu:function(y,S){return y*S},CBZYg:function(y,S){return y/S}};if(o.nAuan(r,0)||o[f(147)](u,0))return 0;const g=o.afTzB(u,2),_=Math[f(145)]/2,d=r;if(o[f(156)](a,"uniform")||i===0){const y=_*o[f(175)](d,2)/3;return Math.max(1,Math.round(g/y))}const h=o.MZDXY(i,d-1)*d/6,p=o[f(166)](o[f(182)](g,_)-h,3)/o.qrtsl(d,2);return Math.max(1,Math.round(p))}function Eh(u,r,a){const i=kt,f={ANjSG:function(_,d){return _<=d},FBQIp:function(_,d){return _/d},Zplcf:function(_,d){return _<d},AKiuP:function(_,d){return _+d}};if(f[i(178)](u,r))return 1;let o=1,g=80;for(let _=0;_<30;_++){const d=f[i(168)](o+g,2),{diameter:h}=la(r,d,a);f[i(154)](h,u)?o=d:g=d}return Math[i(136)](1,Math[i(163)](f.AKiuP(o,g)/2))}function kt(u,r){u=u-131;const a=D0();let i=a[u];if(kt.FEFoaR===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};kt.xIImgN=f,kt.vyDvFq={},kt.FEFoaR=!0}const o=a[0],g=u+o,_=kt.vyDvFq[g];if(_)i=_;else{const d=function(h){this.ehkXTC=h,this.zTPNnA=[1,0,0],this.EVwXWT=function(){return"newState"},this.EppCCH="\\w+ *\\(\\) *{\\w+ *",this.qYjNeg=`['|"].+['|"];? *}`};d.prototype.mySaNj=function(){const h=new RegExp(this.EppCCH+this.qYjNeg),p=h.test(this.EVwXWT.toString())?--this.zTPNnA[1]:--this.zTPNnA[0];return this.mUwmVX(p)},d.prototype.mUwmVX=function(h){return~h?this.mKaTaB(this.ehkXTC):h},d.prototype.mKaTaB=function(h){for(let p=0,y=this.zTPNnA.length;p<y;p++)this.zTPNnA.push(Math.round(Math.random())),y=this.zTPNnA.length;return h(this.zTPNnA[0])},new d(kt).mySaNj(),i=kt.xIImgN(i),kt.vyDvFq[g]=i}return i}function D0(){const u=["sePnBfq","z2fTuem","uLjkA0S","y29UC3rYDwn0B3i","vfj4tuS","C2DWDMO","mJbkD1LwsvC","DwfUA0K","wNbSy2y","C2L6zu1Vzgu","AhHtq1y","mtC1ndiWwvr6DK16","Dxjytxe","sfb5ve8","y0vJru8","wMriz1y","ywr6Efq","CM91BMq","u1LfCKO","ELffEK8","svzUvNu","mJb6DLrZswe","rKjrsxa","C2LU","ELPpq3i","ndj6shDuwxy","C2L6zvn0zxbnBq","BgTzue0","nZqYmZm4ALnPsLnR","Cxj0C2W","wuDHwfi","EMTkDhO","qu5Qu0C","BuPfDMu","AgjPC3q","zNrZA3m","q0jAwwC","zfLwwuy","ndGZmZa2AMTNCfLe","BwLU","EKD5q2O","ChvZAa","z3jHzhvHBa","Dw9WzMe","Dw5PzM9YBq","AuDdA0K","BKnQz1G","mJa4nZiWt3f2CLzd","mJq1mZq3m3biq2XOtG","AwfzCKe","Bwf4","Eu5Ts1G","mLj0vw9xqG","CvbQruW","ndK3odmYAfrizND4","yuzSzMi","ndu5nJK3nMrxufH1AW","AujHzuy","A0jUqvy","u1fsvdi"];return D0=function(){return u},D0()}function Lh(u,r,a){const i=kt,f={zGyCj:function(S,C){return S===C},zkJtz:i(188),sgpvj:function(S,C){return S+C},hbist:function(S,C){return S*C},uankI:"uniform",YGaXR:function(S,C){return S/C},TRxMK:function(S,C){return S*C},SLUZQ:i(146),HPyTO:function(S,C){return S-C}},o=u/2,g=r*Math[i(145)]/2;if(g<=0||o<=0)return 1;const _=a?.[i(155)]??f[i(153)],d=a?.[i(172)]??0,h=f[i(176)](Math.PI,2);if(_==="uniform"||f.zGyCj(d,0)){const S=g/3,C=Math.PI*o/2;return Math[i(136)](1,Math[i(163)](C/S))}let p=f.TRxMK(g,xi)/o;if(p>=h)return 1;let y=1;for(let S=1;S<100;S++)if(f.zGyCj(f.SLUZQ,"vNcrB")){const C=fNuErx[i(186)](_0x4a3c43,fNuErx[i(177)])?fNuErx.sgpvj(_0x4910c4,fNuErx.hbist(_0x4debb0,_0x2ee4fe)):_0x1f3a67,D=C*_0x49eca1[i(145)]/2;_0x2ba6fb+=fNuErx[i(180)](D,1-_0x532570)/_0x55abef}else{const C=r+S*d,D=f.YGaXR(f[i(150)](C,Math[i(145)]),2),b=D*f[i(159)](1,xi)/o;if(p+=b,p>f[i(151)](h,b/2))break;y=S+1}return Math[i(136)](1,y)}(function(u,r){const a=Dt,i=u();for(;;)try{if(parseInt(a(254))/1*(-parseInt(a(216))/2)+-parseInt(a(238))/3+-parseInt(a(233))/4+parseInt(a(249))/5*(parseInt(a(281))/6)+-parseInt(a(231))/7*(parseInt(a(256))/8)+-parseInt(a(208))/9*(parseInt(a(239))/10)+parseInt(a(187))/11*(parseInt(a(268))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(N0,231970);const Bh=(function(){let u=!0;return function(r,a){const i=u?function(){const f=Dt;if(a){const o=a[f(261)](r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),hx=Bh(void 0,function(){const u=Dt,r={zWbMh:"(((.+)+)+)+$"};return hx.toString().search(u(213)).toString().constructor(hx).search(r.zWbMh)});hx();const xr=.28,Yd={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function rr(u){const r=Dt,a={bDhIu:r(197)};return u===r(229)?Yd.:Yd[a.bDhIu]}function na(u){return u*Math.PI/180}const xn=2.7;function It(u){const r=u*Math.SQRT2/2,a=r*xn,i=a/2;return{length:a,width:i}}function kh(u){const r=Dt,a={nDekX:function(i,f){return i/f},WUJPh:function(i,f){return i*f}};return a[r(218)](a.WUJPh(u,xn),2)}function lr(u,r,a){const i=Dt,f={UiIJV:function(h,p){return h(p)},oGuKx:function(h,p){return h*p},rVpjM:function(h,p){return h-p},QJYPH:function(h,p){return h+p}},{length:o}=f.UiIJV(It,a),g=f[i(259)](o,r),_=Math[i(269)](0,f[i(262)](u,g*xr));return f[i(275)](_,g)*2/xn}function qh(u,r,a){const i=Dt,f={trsMN:function(d,h){return d(h)},vDZan:function(d,h){return d/h},NgcpI:function(d,h){return d*h},sRSnf:function(d,h){return d-h}},{length:o}=f.trsMN(It,a),g=o*r,_=f[i(214)](f[i(253)](u,xn),2);return Math[i(269)](2,f.sRSnf(_,g*(1-xr)))}function rl(u,r,a){const i=Dt,f={kXhfC:function(p,y){return p<=y},vjHWp:function(p,y){return p*y},AqDDg:function(p,y){return p*y},yKEDa:function(p,y){return p*y},WVvsO:function(p,y){return p+y},lzEbU:function(p,y){return p*y},oKIHn:function(p,y){return p===y},oSCVy:function(p,y){return p(y)},MUJTX:function(p,y){return p/y},BJtSY:function(p,y){return p*y},PWlmi:function(p,y){return p*y},miHqd:function(p,y){return p-y},AQDzt:function(p,y){return p<y},GEYbz:function(p,y){return p%y},HsKcY:function(p,y){return p+y},Wshtl:function(p,y){return p/y},lYqCE:function(p,y){return p+y},syHTi:function(p,y){return p!==y},IQVAO:i(251),opJXC:function(p,y){return p>y},ByAmK:function(p,y){return p>y},qUrGx:i(234)};if(!u||f[i(237)](u,0)||!a||a<=0)return r??0;const o=360/u,g=360/a,_=[];for(let p=0;f.AQDzt(p,u);p++)_.push(f.GEYbz((r+f[i(205)](p,o))%360+360,360));let d=f[i(202)](r,f[i(191)](o,2)),h=-1;for(let p=0;p<u;p++){const y=f[i(273)](r+p*o,o/2);let S=1/0;for(let C=0;f.AQDzt(C,a);C++){const D=((y+C*g)%360+360)%360;for(const b of _)if(f[i(201)](f.IQVAO,f[i(242)])){if(!_0x55ad68||_0x44d3a2<=0||huYYKK[i(237)](_0x184cfa,0))return"";const v=[];for(let T=0;T<_0x2ccfe0;T++){const q=huYYKK.vjHWp(huYYKK[i(228)](T/_0x3f8d7e,2),_0x164a82.PI),E=huYYKK.yKEDa((T+.5)/_0x1f2158,2)*_0x540f1b.PI,R=huYYKK[i(228)](huYYKK.WVvsO(T,1)/_0x293c0e,2)*_0x1b2fff.PI,Y=_0x439b25[i(280)](q)*_0x2d66d1,U=huYYKK.vjHWp(_0x40a08[i(221)](q),_0x41b6a4),Z=_0x48ed33[i(280)](E)*_0x4ec01f,J=huYYKK.lzEbU(_0x4c58ed[i(221)](E),_0x3bc6ab),P=_0x532d98[i(280)](R)*_0xea6e89,Q=huYYKK[i(226)](_0x2fb5ab.sin(R),_0x288e08);huYYKK.oKIHn(T,0)&&v[i(211)]("M "+Y.toFixed(2)+" "+U[i(247)](2)),v[i(211)]("Q "+Z[i(247)](2)+" "+J.toFixed(2)+" "+P.toFixed(2)+" "+Q.toFixed(2))}return v.push("Z"),v[i(274)](" ")}else{let v=Math[i(215)](D-b);f[i(241)](v,180)&&(v=f[i(225)](360,v)),v<S&&(S=v)}}if(f[i(194)](S,h))if(f[i(257)]==="OaHkM")h=S,d=y;else{const{length:C}=huYYKK[i(204)](_0x4a6981,_0x3bd86d),D=C*_0x524a61,b=huYYKK[i(272)](huYYKK[i(255)](_0x446002,_0x3916b1),2);return _0x2c3176[i(269)](2,b-huYYKK.PWlmi(D,huYYKK.miHqd(1,_0x13be72)))}}return Math[i(260)](d*10)/10}function J0(u,r,a){const i=Dt,f={NjkqB:function(C,D){return C-D},fbKGZ:function(C,D){return C-D},qnyOv:function(C,D){return C<D},fPKAO:function(C,D){return C===D},wDkGh:function(C,D){return C(D)},YCIuI:function(C,D){return C+D},nJVAW:function(C,D){return C<=D},coQpO:function(C,D){return C/D},NpPia:i(223),ETOHY:function(C,D){return C/D},dHiXZ:function(C,D){return C/D},lXAGr:function(C,D){return C*D},yqbPV:function(C,D,b){return C(D,b)}};if(f[i(192)](u[i(265)],0))return;const{length:o}=f[i(277)](It,r),g=u[0],_=g[i(196)]??1,d=o*_,h=Math[i(269)](0,g[i(263)]-d*xr),p=f[i(203)](h,d);if(f[i(232)](p,0))return;const y=a*xn/2,S=f.coQpO(y,p);for(const C of u)if(f[i(271)]!==f.NpPia){let D=_0x48986f[i(215)](ZlrSFJ[i(224)](_0x3db3f9,_0x312460));D>180&&(D=ZlrSFJ[i(219)](360,D)),ZlrSFJ.qnyOv(D,_0x494cf)&&(_0x37ebee=D)}else C.radius=Math[i(269)](2,f.ETOHY(Math[i(260)](C[i(263)]*S*10),10)),C.scale=f.dHiXZ(Math[i(260)](f[i(245)]((C.scale??1)*S,100)),100);f[i(217)](mx,u,r)}function mx(u,r){const a=Dt,i={AOyFE:function(d,h){return d===h},bahZT:function(d,h){return d(h)},rQpwj:function(d,h){return d*h},iauHl:function(d,h){return d>h}};if(i[a(212)](u.length,0))return;const f=u[u[a(265)]-1],{length:o}=i.bahZT(It,r),g=o*(f.scale??1),_=Math[a(279)](i[a(246)](g,xr)*10)/10;i[a(250)](f.radius,_)&&(f.radius=_)}function Dt(u,r){u=u-187;const a=N0();let i=a[u];if(Dt.dNSWPM===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Dt.zgxMFF=f,Dt.fXkRfj={},Dt.dNSWPM=!0}const o=a[0],g=u+o,_=Dt.fXkRfj[g];if(_)i=_;else{const d=function(h){this.UkpgPV=h,this.dpEoBn=[1,0,0],this.YUVHlt=function(){return"newState"},this.MUwEiS="\\w+ *\\(\\) *{\\w+ *",this.fGpEmj=`['|"].+['|"];? *}`};d.prototype.TVrFkl=function(){const h=new RegExp(this.MUwEiS+this.fGpEmj),p=h.test(this.YUVHlt.toString())?--this.dpEoBn[1]:--this.dpEoBn[0];return this.fKaNZw(p)},d.prototype.fKaNZw=function(h){return~h?this.LoZkaK(this.UkpgPV):h},d.prototype.LoZkaK=function(h){for(let p=0,y=this.dpEoBn.length;p<y;p++)this.dpEoBn.push(Math.round(Math.random())),y=this.dpEoBn.length;return h(this.dpEoBn[0])},new d(Dt).TVrFkl(),i=Dt.zgxMFF(i),Dt.fXkRfj[g]=i}return i}function Ih(u,r,a,i){const f=Dt,o={FYYhr:function(S,C){return S-C},grEKi:function(S,C){return S/C},sMMCz:function(S,C){return S*C},SwrcE:function(S,C){return S-C},ylpwu:function(S,C){return S/C},nnDHD:function(S,C){return S/C},kaUFn:function(S,C){return S*C},IjGkV:function(S,C){return S+C},JHvyL:function(S,C){return S===C},KKOdG:function(S,C){return S(C)},Jmbkj:function(S,C){return S*C},tLXJF:function(S,C){return S+C},WLdQM:function(S,C){return S/C},xSyaf:function(S,C){return S*C},MCTuI:function(S,C){return S*C},kOFmc:function(S,C){return S*C},LAHtG:function(S,C){return S*C},QmevJ:function(S,C){return S/C},OWhdr:function(S,C){return S*C},ZcPFN:"ZkTjd",qPXlN:f(206),pvgaP:function(S,C){return S*C},fGrop:function(S,C){return S/C},dJpnd:function(S,C){return S-C},vGOop:function(S,C){return S*C},KkosT:function(S,C){return S*C},HqmcG:"GpCoy"};if(o[f(227)](u.length,0))return;const g=[...u][f(243)]((S,C)=>C.order-S.order),{length:_}=It(r),d=g[f(265)],h=g[0][f(196)]??1,p=o[f(248)](_,h);g[0][f(263)]=o[f(195)](Math.floor(o.OWhdr(p,xr)*10),10);for(let S=1;S<d;S++){const C=g[S-1],D=_*(C.scale??1);let b;if(a===f(210))if(o.JHvyL(o[f(188)],o[f(235)])){const v=_0xa18cb0[o.FYYhr(_0x47a93e,1)],T=_0x402679*(v.scale??1);let q;if(_0xd2945===""){const R=o[f(264)](o[f(222)](70,_0x4ca2cd.PI),180),Y=_0x547d53>1?_0x5a09fd/o.SwrcE(_0x4b44e8,1)*R:0;q=o[f(222)](T,o[f(200)](30,100))*_0x300af8[f(280)](Y)}else q=o.nnDHD(T,3);_0x3c4727[_0x1af32a][f(263)]=o.ylpwu(_0x3951f1.round(o[f(193)](o[f(209)](v[f(263)],q),10)),10)}else{const T=70*Math.PI/180,q=d>1?o[f(230)](o[f(189)](S,o[f(270)](d,1)),T):0;b=o.vGOop(o.sMMCz(D,30/100),Math[f(280)](q))}else b=D/3;g[S][f(263)]=Math[f(260)](o.KkosT(o[f(220)](C.radius,b),10))/10}const y=[...u].sort((S,C)=>S[f(240)]-C[f(240)]);J0(y,r,i);for(const S of y)if(o[f(227)]("GpCoy",o[f(276)])){const C=u.find(D=>D.id===S.id);C&&(C.radius=S.radius,C[f(196)]=S[f(196)])}else{if(nOEZTe.JHvyL(_0x111aac.length,0))return;const{length:C}=nOEZTe[f(207)](_0x5a7e03,_0x5b5dc7),D=_0x1475ef[0],b=D.scale??1,v=nOEZTe[f(222)](C,b),T=_0x3493df.max(0,D.radius-nOEZTe.Jmbkj(v,_0x327ae5)),q=nOEZTe.tLXJF(T,v);if(q<=0)return;const E=nOEZTe[f(236)](nOEZTe.xSyaf(_0x4abe42,_0x5a354e),2),R=E/q;for(const Y of _0x3f3442)Y.radius=_0x2d820c[f(269)](2,_0x317d48.round(nOEZTe.MCTuI(Y[f(263)],R)*10)/10),Y[f(196)]=_0x128474.round(nOEZTe.kOFmc(nOEZTe[f(193)](Y.scale??1,R),100))/100;_0x44ad11(_0x1d3b00,_0x3afbe7)}}function N0(){const u=["ExfIufy","BKrLA1G","zMjlr1O","DeXysKy","C2LU","C01nq3O","zeDfthm","tMPRCui","BwLiCwq","DMPiv3a","sKH2EuW","qxfergC","5yMJ44gK44g+44g/","ChzNyva","mtiXoti2C0nxuvzt","BKPwqvC","mJyZnZKYtKLlCxfp","t2fiA00","CvbyBe4","v0XKuu0","A1HOzKm","mZu4ntKWBLjTDuDQ","nJbADMzRBxe","B3jKzxi","B3bkwem","svfwqu8","C29YDa","quf4vLG","BfHbr3i","CLfWD2O","Dg9gAxHLza","tefiDeC","mtu1ndvtsu9KD2u","Awf1sgW","C01eD3C","z21UshO","tMDJCeK","ntm3muLKChLoDa","qKP0u1K","mtm2sMTPvNj0","CvvYr3G","BwLU","B0D1s3G","CM91BMq","yxbWBhK","CLzWAK0","CMfKAxvZ","z3jfs2K","BgvUz3rO","tg5rteW","thzVve4","ndm3odHzDeT4Au0","Bwf4","zePWBMq","tNbqAwe","tvvkvfG","BfLXq0u","AM9PBG","uuPzueG","shfTy0C","D0rRr2G","DNnWtMC","zMXVB3i","y29Z","mJq2A1ztvhnT","mZq5ogrSzwTPuG","wMnqrK4","zKDYB3a","ru5Pq2m","v3nODgW","zLblqu8","A2fvrM4","qNLbBuS","uw1LDKO","C2nHBgu","5lI444gK44g+44g/","DK9SEe0","BMLuzfm","EwXWD3u","C3LivgK","shnly1K","wunjDuK","B1ndvNK","BhPfyLu","DgD1wK4","s0TpzeC","nde4mZm4zgLMCKPx","swPhA1y","5y2k44gp44gz","ChvZAa","qu95rKu","kcGOlISPkYKRksSK","DKrAyw4","ywjZ","mteWDxjHEeLU"];return N0=function(){return u},N0()}function si(u){const r=Dt,a={JsqHT:function(d,h){return d/h},gmnHz:function(d,h){return d(h)},vOlxM:function(d,h){return d/h},MIOBY:function(d,h){return d*h}},i=a.JsqHT(360,u),f=Math.sin(a[r(252)](na,i/2))*2,o=.96,g=1.2,_=a[r(198)](f*g,o);return a.JsqHT(Math[r(260)](a.MIOBY(Math.max(.3,Math[r(258)](3,_)),100)),100)}function _n(u,r){u=u-273;const a=A0();let i=a[u];if(_n.IVTtBs===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};_n.LqgRGp=f,_n.ryWTNn={},_n.IVTtBs=!0}const o=a[0],g=u+o,_=_n.ryWTNn[g];if(_)i=_;else{const d=function(h){this.aKcDZK=h,this.TtpwDC=[1,0,0],this.UJjObq=function(){return"newState"},this.mvOeSE="\\w+ *\\(\\) *{\\w+ *",this.anFpNX=`['|"].+['|"];? *}`};d.prototype.FPNbad=function(){const h=new RegExp(this.mvOeSE+this.anFpNX),p=h.test(this.UJjObq.toString())?--this.TtpwDC[1]:--this.TtpwDC[0];return this.GleNWY(p)},d.prototype.GleNWY=function(h){return~h?this.EsXPkb(this.aKcDZK):h},d.prototype.EsXPkb=function(h){for(let p=0,y=this.TtpwDC.length;p<y;p++)this.TtpwDC.push(Math.round(Math.random())),y=this.TtpwDC.length;return h(this.TtpwDC[0])},new d(_n).FPNbad(),i=_n.LqgRGp(i),_n.ryWTNn[g]=i}return i}function A0(){const u=["mZqZEu5nuePu","EgvkA0e","y29Sx2DYzwvU","EeHysge","iZDfqZHfmW","kcGOlISPkYKRksSK","ogzVAND6qW","C0TUzwW","i0yYrda0qG","zMLUza","wfDiDuS","yMvrrwq","BMfTzq","mtj2B2Dcwfu","qMneweS","nJiZntrZzeTprwi","B3jKzxi","y29Sx3LLBgXVDW","y29Sx2HVDhbPBMS","t3v0zxi","sgHwwgi","zfDnA2u","Bgf5","i0zerJvdoq","z2jptum","ChjQ","wM5tsgW","q2vUDgvY","Bgf5zxjZ","v09vAgK","y29Sx3jLza","CMfKAxvZ","nteYodrowNDoveW","mtiYmZe5mtjQz3D6zwi","sw5Uzxi","BwfW","mtu0otzTugr6veu","B1P1z1i","y29Sx3DOAxrL","v3vkENG","Cgv0ywXdB3vUDa","ven1r2u","B2zMC2v0qw5NBgu","ENnsq1e","svDVwNe","y29Sx2XPz2H0EwvSBg93","v01pvg8","y29Sx2jSywnR","q0H4A2S","5lI444gK44g+44g/","mteZmJCZnZzxzwHJDNe","Cgv0ywXpDMvYCMLKzxm","q09oCgO","mtHSrNPnBuS","nti2odCWA3rJBgLI","Ee5JquS","Cgvfvwm","C2vHCMnO","mte3yK1isMHw","D0XXB1y","C2nHBgu","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","wxnjwKK","BMXWvve","y29Sx2jYB3DU","sKTIvxO","rgTtwxa","ALHoqM8","iZncn0reoa","mty3nZqXnxzVvKjozq","i0yWoda4ma","i0yWoeeZqG","Dg9tDhjPBMC","rMXVD2vYide","swDjBgu","zMX3","ienVChK","sMDIvgO","iZmZmZmZmW","uKHQD2i","uhDouNy","5yMJ44gK44g+44g/","rLjssem","Cg9ZAxrPB24","u0jqtuS","vNDcsvC","DMH2wvi","y29Sx29Yyw5Nzq","iZLcntLcnG"];return A0=function(){return u},A0()}(function(u,r){const a=_n,i=u();for(;;)try{if(parseInt(a(287))/1*(parseInt(a(296))/2)+-parseInt(a(294))/3*(-parseInt(a(313))/4)+parseInt(a(350))/5*(-parseInt(a(334))/6)+parseInt(a(281))/7*(-parseInt(a(317))/8)+-parseInt(a(339))/9*(parseInt(a(335))/10)+parseInt(a(314))/11+parseInt(a(331))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,570347);const Gh=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),bx=Gh(void 0,function(){const u=_n,r={xeJkA:u(286)};return bx.toString()[u(338)]("(((.+)+)+)+$")[u(353)]().constructor(bx).search(r[u(282)])});bx();function Vd(){const u=_n,r={dWMke:"#F5F5F5",oZugR:"#E34850",ZnSHl:"#E0457B",UPgvI:u(279),kiNdd:u(352),Wmate:u(289),beQEd:u(304),IWoZq:"col_lightblue",oOyQD:u(285),gaPhK:"col_purple",SBPMK:u(280),wLqoV:"#C8A2D4",BDkCu:"#C0C0C0",zsRCQ:"col_cream",auQob:"#8B5E3C",TCuGe:u(359),xNcAK:u(351)};return[{id:u(319),name:"",hex:r[u(302)]},{id:u(311),name:"",hex:r[u(318)]},{id:"col_pink",name:"",hex:"#F08CB6"},{id:u(299),name:"",hex:r[u(307)]},{id:r.UPgvI,name:"",hex:r.kiNdd},{id:u(298),name:"",hex:r.Wmate},{id:u(326),name:"",hex:r[u(292)]},{id:"col_green",name:"",hex:"#2FBF4A"},{id:"col_darkgreen",name:"",hex:"#1A7A3A"},{id:r[u(325)],name:"",hex:r.oOyQD},{id:"col_blue",name:"",hex:u(349)},{id:"col_navy",name:"",hex:"#2C3E6B"},{id:r.gaPhK,name:"",hex:r[u(276)]},{id:"col_lavender",name:"",hex:r[u(340)]},{id:"col_gold",name:"",hex:"#D4A843"},{id:"col_silver",name:"",hex:r.BDkCu},{id:r[u(324)],name:"",hex:"#F5E6CC"},{id:u(345),name:"",hex:r.auQob},{id:u(328),name:"",hex:r[u(322)]},{id:"col_coral",name:"",hex:r[u(336)]}]}function Rh({title:u,fabricSquareSize:r,baseDiameter:a}={}){const i=_n,f={IgIle:function(_){return _()},GlCNU:i(342)},o=f[i(355)](z0),g=f.IgIle(Vd);return Ca({id:qt(i(306)),title:u??f.GlCNU,unit:"mm",fabricSquareSize:r??20,baseDiameter:a??30,notes:"",createdAt:o,updatedAt:o,palette:g,flowers:[]})}function Oh(u,r){const a=_n,i={CHxkk:function(_,d){return _(d)},MWFSk:function(_,d){return _+d}},f=i[a(329)](ta,u);f.id=qt(a(356)),f[a(293)]=u.name+a(357);const o=r?.x??12,g=r?.y??12;return f.position={x:i.MWFSk(u.position?.x??0,o),y:i.MWFSk(u[a(275)]?.y??0,g)},f[a(309)]=(f[a(309)]||[])[a(316)](_=>({..._,id:qt("lay"),petalOverrides:_.petalOverrides?_[a(332)][a(316)](d=>({...d})):void 0})),f}function rn(u,r){u=u-415;const a=T0();let i=a[u];if(rn.mDhUUz===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};rn.KeXrMJ=f,rn.NrzGmQ={},rn.mDhUUz=!0}const o=a[0],g=u+o,_=rn.NrzGmQ[g];if(_)i=_;else{const d=function(h){this.rOXCzf=h,this.uYXOFf=[1,0,0],this.JoOxKa=function(){return"newState"},this.eYpuaD="\\w+ *\\(\\) *{\\w+ *",this.AqZYHb=`['|"].+['|"];? *}`};d.prototype.XOVdaT=function(){const h=new RegExp(this.eYpuaD+this.AqZYHb),p=h.test(this.JoOxKa.toString())?--this.uYXOFf[1]:--this.uYXOFf[0];return this.KVhfxP(p)},d.prototype.KVhfxP=function(h){return~h?this.kGVmNl(this.rOXCzf):h},d.prototype.kGVmNl=function(h){for(let p=0,y=this.uYXOFf.length;p<y;p++)this.uYXOFf.push(Math.round(Math.random())),y=this.uYXOFf.length;return h(this.uYXOFf[0])},new d(rn).XOVdaT(),i=rn.KeXrMJ(i),rn.NrzGmQ[g]=i}return i}function T0(){const u=["B2jQzwn0","y29Sx2DYzwvU","DMHbENa","DMvYC2LVBG","y3jLyxrLzef0","z3jVDxbZ","y2HPBgq","AxnbCNjHEq","zMLSDgvY","yKXQCwC","DhLWzq","kcGOlISPkYKRksSK","mta5mZG4me5yuhzwCW","44oA44od44ox","BgvHDMvZ","Dw5PDa","Cgv0ywXdB3vUDa","Aw5Uzxjty2fSzq","EuTnDei","zMLUza","AxjWEfC","ENfOyuy","CgfSzxr0zq","C2L6zq","ywr1Bhq","sur5z0O","Bgf5zxjZ","Bg9JA2vK","BMfNzvO","BwfYDq","y2vUDgvY","AuvxD2W","AeDoAha","wg1fzhu","y29UC3rYDwn0B3i","Avjgr1m","BMfTzq","5lI444gK44g+44g/","mty4m0TIqwrQwG","zg91yMXLugv0ywW","BgvHzKLKCW","BgvUz3rO","C3rLBMnPBhm","CgvWq291BNq","v3P5z0y","DMLZAwjSzq","CM90yxrPB24","C2nHBgu","zMXVD2vYswrZ","BgvHzG","yLHywe0","uxD2EKq","y29SB3i","AvPzug0","A094y0O","CMfKAxvZ","Bgf5","yMLut1G","5y2k44gp44gz","BgvHzKDYB3vWCW","Bu5NvwK","yMfZzurPyw1LDgvY","v2v5AvK","x2rVDwjSzvbLDgfSq2fJAgu","ndG4nda4n1vYwvjwuW","ChvZAa","CM91BMq","zMfICMLJu3f1yxjLu2L6zq","vKPVEKq","Aw5UzxjqzxrHBfr5Cgu","nZKXnvjby2P0yG","Bxnrv3C","A2vU","mJfuDgz3uuW","zLnyrMC","D2HbELC","ChjVAG","uuLdq3K","CgXHy2vTzw50tw9Kzq","z3rzu24","DezhEgG","44or44o844oR77Yl5BQN6yEr","otmXotbJtNvWyLq","rvHutwC","rfDOCgq","tgr5z0K","suj0zuy","Ce9rEvi","r0PuzvG","C2vHCMnO","r0HPAKC","DMfYAwfUDa","y29SB3iY","mJi2oeLyvvH5uW","C3rYAw5N","Aw5UzxjdB2XVCKLK","BwfW","mJK1oti4rezuDgnW","44or44o844oR","Aw5UzxjtAxPLuMvKDwn0Aw9U","DxbKyxrLzef0","t1rSEKO","zMXVD2vYrgLHBwv0zxi","BM90zxm","BML6zKe","quH5EeW","CMLNAhq","odK4nta4ngzABK5lBW","Cg9ZAxrPB24","qK1qB2q","D2LKDgHty2fSzq","Aw5JBhvKzxm","sg5pu0e","sMXTC08","ww5wCLu","zvfZENO","BgLUA2vKrMXVD2vYr3jVDxbjza","qu1nqxC","ntuXodq4thbIy2HY","5yMJ44gK44g+44g/","s2fztei","B2zMC2v0qw5NBgu","r1nxvKm","v1HMs0e","Cgv0ywXuExbL","De9QBhO","zMXVD2vYCW","y29SB3jjza","Dg9tDhjPBMC","zMX3","y29Sx3DOAxrL","AxngAw5PDgu","rMXVD2vY","v2Husva","vurYyNe","zfHWAfa"];return T0=function(){return u},T0()}(function(u,r){const a=rn,i=u();for(;;)try{if(parseInt(a(453))/1+-parseInt(a(483))/2+-parseInt(a(535))/3+-parseInt(a(428))/4*(parseInt(a(541))/5)+parseInt(a(442))/6+parseInt(a(544))/7*(parseInt(a(432))/8)+parseInt(a(509))/9*(parseInt(a(417))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,830458);const Yh=(function(){const u=rn,r={pxGxa:"",lQUyR:"col_white",GSWVC:"",UDrbq:function(i,f){return i!==f},bLjqg:"nktfW",fSXFg:function(i,f){return i===f},ytwHr:u(440),DWhpd:"KvYVW"};let a=!0;return function(i,f){const o=a?function(){const g=rn,_={dXphP:r.pxGxa,whAzW:g(433),ecCzw:r.lQUyR,VylBS:r[g(457)]};if(r[g(469)](r.bLjqg,r[g(480)]))_0x34da89.center.type===_[g(470)]&&(_0x22406e[g(501)][g(481)]=""),[_.whAzW,"",g(484)][g(446)](_0x1c9908[g(501)][g(481)])||(_0x1cf8a8.center[g(481)]=_[g(546)]),_0x1219da.isFinite(_0x2e2130[g(501)].size)||(_0xc84311.center.size=6),_0x4431ba.center.size=_0x22fe64(_0x2e1680[g(501)][g(494)],1,30),(typeof _0xd1f916[g(501)][g(523)]!==g(429)||!_0x97d719[g(501)].color)&&(_0x54bf5d.center.color=_0x1f39a5[g(493)]?.[0]?.id??_.ecCzw),_0x2a343e.center.type===""&&(_0x2de7b1.isFinite(_0x53d445[g(501)][g(514)])||(_0x408427[g(501)][g(514)]=12),_0x2fde08.center.pepCount=_0x33d776(_0xf7141.center.pepCount,4,30)),_0x52c71[g(501)][g(481)]!==""&&delete _0x20b7c1.center[g(427)];else if(f)if(r[g(545)](r.ytwHr,r[g(419)]))_0x1e200f[g(549)]=_.VylBS;else{const d=f.apply(i,arguments);return f=null,d}}:function(){};return a=!1,o}})(),gx=Yh(void 0,function(){const u=rn,r={mNgUi:u(482)};return gx.toString()[u(424)](r[u(531)])[u(463)]()[u(505)](gx).search(r[u(531)])});gx();function sx(u){const r=rn,a={xZjiK:function(i,f){return i===f},ylIRe:r(508)};return a.xZjiK(u,r(500))?r(508):u==="ken"?r(454):u===""||u===""?u:a.ylIRe}function Ca(u){const r=rn,a={vhAzp:r(477),JlmsO:"back",iRFGS:function(o,g,_,d){return o(g,_,d)},tIife:function(o,g){return o!=g},CYlft:function(o,g){return o!==g},BMPod:"string",UovqG:function(o,g){return o!=g},iZYPm:function(o,g){return o===g},WzygF:"",XmEdu:function(o,g){return o(g)},uKPnp:r(464),JDhLW:r(527),OTlzJ:function(o,g){return o!==g},iTIYL:function(o,g){return o(g)},EXTMg:"IqaeI",WhTIP:"object",iEWwl:function(o,g){return o!=g},pnjuz:function(o,g){return o*g},kgkJd:function(o,g){return o-g},kIyuo:function(o,g){return o!=g},IVPaV:function(o,g){return o!=g},bXXXM:function(o,g){return o!==g},WeyiY:function(o,g){return o!=g},WXfKA:"apmWM",iccNS:function(o,g){return o<=g},pOQyR:r(416),IBteF:r(433),paFzc:"",hGNhp:"col_white",HtQeO:r(460),tOSFU:function(o,g,_,d){return o(g,_,d)},tFGxh:function(o,g){return o!==g},sMrei:"",IDygJ:function(o,g){return o!==g},VJozD:function(o,g){return o===g},gtYSn:"UxfAk",vheHW:function(o,g){return o===g},cWUxS:r(499),IoeJd:function(o){return o()},HnOSA:function(o,g){return o!==g},GHijG:"grp",yKMtB:"",GJTeX:r(520),QPkKx:function(o,g){return o!==g},KaYLB:"col_green",gfDHG:"boolean",Fpnrf:r(420),YnVrU:r(542),rHhsl:function(o,g){return o>g},irpxW:r(548),DrCmH:"adult",haKtf:r(441),biTOX:"left"},i=a[r(504)](ta,u||{});Array[r(478)](i[r(461)])||(i.flowers=[]);for(const o of i[r(461)]){o.id||(o.id=qt(a.uKPnp)),(a.CYlft(typeof o.name,r(429))||!o.name)&&(o.name=r(467)),(!o.position||!Number.isFinite(o[r(443)].x)||!Number.isFinite(o[r(443)].y))&&(o.position={x:260,y:260}),Array[r(478)](o.layers)||(o.layers=[]);for(const g of o[r(497)]){if(g.id||(g.id=qt(a.JDhLW)),(a[r(436)](typeof g[r(462)],"string")||!g.colorId)&&(g[r(462)]=i[r(493)]?.[0]?.id??r(465)),g[r(459)]=a.iTIYL(sx,g.petalType),g.petalCount=ye(Number(g[r(487)]||0),5,24),Number[r(466)](g.scale)||(g[r(518)]=1),Number.isFinite(g.widthScale)||(g[r(445)]=1),Number.isFinite(g[r(526)])||(g.radius=28),Number[r(466)](g[r(456)])||(g[r(456)]=0),delete g[r(534)],g.doublePetal)if(a[r(524)](a[r(418)],r(452)))_0x4fefe2.position={x:260,y:260};else if(a.CYlft(typeof g.doublePetal,a[r(468)])||g[r(510)]===null)delete g[r(510)];else{if(a[r(502)](g[r(510)][r(488)],null)&&g.doublePetal.innerSizeReduction==null){const _=o.fabricSquareSize??i[r(538)]??20;g[r(510)][r(434)]=Math[r(537)](a.pnjuz(_,a.kgkJd(1,g.doublePetal[r(488)])))}delete g[r(510)][r(488)],Number.isFinite(g[r(510)][r(434)])||(g.doublePetal.innerSizeReduction=2),g[r(510)].innerSizeReduction=ye(g.doublePetal[r(434)],1,30),delete g.doublePetal[r(540)],a.kIyuo(g[r(510)][r(430)],null)&&typeof g[r(510)].innerColorId!="string"&&delete g.doublePetal.innerColorId}if(Array.isArray(g.petalOverrides))for(const _ of g.petalOverrides)_&&_.petalType!=null&&(_[r(459)]=sx(_[r(459)])),_&&delete _.innerPetalType,_&&a.IVPaV(_.innerColorId,null)&&a.bXXXM(typeof _.innerColorId,"string")&&delete _[r(430)],_&&a[r(533)](_.innerSizeReduction,null)&&(Number[r(466)](_.innerSizeReduction)?_.innerSizeReduction=ye(_.innerSizeReduction,1,30):a[r(436)]("apmWM",a[r(458)])?delete _0x266b10[r(510)]:delete _[r(434)])}if((!Number.isFinite(o.flowerDiameter)||a.iccNS(o.flowerDiameter,0))&&(o[r(437)]=60),o.center&&(r(492)===r(492)?(o.center.type===a[r(422)]&&(o.center.type=""),[a[r(421)],"",a.paFzc][r(446)](o.center.type)||(o.center[r(481)]=a.IBteF),Number.isFinite(o.center[r(494)])||(o[r(501)].size=6),o.center.size=ye(o[r(501)].size,1,30),(typeof o.center[r(523)]!==r(429)||!o[r(501)].color)&&(o[r(501)].color=i[r(493)]?.[0]?.id??a[r(503)]),a.iZYPm(o[r(501)].type,"")&&(a[r(436)](r(460),a.HtQeO)?delete _0x9f1832.center[r(427)]:(Number.isFinite(o.center.pepCount)||(o.center[r(514)]=12),o[r(501)].pepCount=a.tOSFU(ye,o[r(501)].pepCount,4,30))),a.tFGxh(o[r(501)].type,"")&&delete o[r(501)].color2):(!_0x4b7f97.isFinite(_0x158fd4.baseDiameter)||_0x33fc34.baseDiameter<=0)&&delete _0x4ccd15[r(532)]),a[r(521)](o.placementMode,r(529))&&a[r(436)](o.placementMode,"")&&(o[r(549)]=a.sMrei),a[r(496)](o[r(532)],void 0))if(a[r(539)]("UxfAk",a[r(550)]))(!Number.isFinite(o[r(532)])||o.baseDiameter<=0)&&(r(525)!=="aOqQu"?delete o.baseDiameter:delete _0x1ecad6[r(510)]);else{const g=[r(495),a[r(473)]],_=[r(441),"left",a[r(448)]];_0x23da14.stencils=_0x1a6833.stencils[r(479)](d=>d&&typeof d.id=="string"&&g.includes(d[r(426)])&&_.includes(d.pose)&&d[r(443)]&&_0x34e0cd.isFinite(d.position.x)&&_0x25e149[r(466)](d.position.y))}}Array[r(478)](i.palette)||(i.palette=[]);const f=new Set(i[r(493)].map(o=>o.id));for(const o of Vd())a.vheHW(a.cWUxS,r(522))?_0x3dc7f1[r(434)]=a[r(506)](_0x561193,_0x38787e[r(434)],1,30):f.has(o.id)||i[r(493)][r(536)](o);i[r(475)]||(i.createdAt=a.IoeJd(z0)),i[r(435)]||(i[r(435)]=i.createdAt),i.id||(i.id=qt(r(547))),i.title||(i.title=""),i[r(486)]="mm",Number[r(466)](i[r(538)])||(i.fabricSquareSize=20),(!Number[r(466)](i.baseDiameter)||i.baseDiameter<=0)&&(i[r(532)]=30),a[r(447)](typeof i.notes,a[r(444)])&&(i[r(438)]=""),Array.isArray(i[r(476)])||(i.groups=[]);{const o=new Set(i.flowers[r(431)](_=>_.id)),g=new Set((i[r(485)]??[])[r(431)](_=>_.id));for(const _ of i.groups)Array[r(478)](_[r(519)])||(_.flowerIds=[]),Array[r(478)](_.leafIds)||(_.leafIds=[]),_.flowerIds=_[r(519)].filter(d=>o.has(d)),_.leafIds=_[r(511)].filter(d=>g.has(d)),Number.isFinite(_.rotation)||(_.rotation=0),_.id||(_.id=a.XmEdu(qt,a.GHijG)),(typeof _.name!==r(429)||!_.name)&&(_.name=a[r(489)]);i.groups=i[r(476)].filter(_=>_[r(519)].length+_.leafIds.length>0)}Array[r(478)](i[r(485)])||(i.leaves=[]);for(const o of i[r(485)])o.id||(o.id=qt(a[r(423)])),(a.QPkKx(typeof o[r(507)],a[r(444)])||!o[r(507)])&&(o.name="Leaf"),(!o.position||!Number[r(466)](o.position.x)||!Number.isFinite(o.position.y))&&(o[r(443)]={x:675,y:675}),Number[r(466)](o[r(517)])||(o[r(517)]=0),o.petalType=sx(o[r(459)]),(typeof o[r(462)]!==r(429)||!o.colorId)&&(o[r(462)]=i.palette?.[0]?.id??a[r(455)]),Number[r(466)](o[r(518)])||(o[r(518)]=1),Number[r(466)](o[r(445)])||(o.widthScale=1),typeof o.visible!==a.gfDHG&&(o[r(516)]=!0),typeof o.locked!="boolean"&&(o[r(498)]=!1),delete o._doublePetalCache,o.doublePetal&&(typeof o.doublePetal!="object"||o[r(510)]===null?a.Fpnrf!==a.Fpnrf?(_0x1fb82e.isFinite(_0x1c9e4e[r(510)][r(434)])||(_0x39a9d0.doublePetal.innerSizeReduction=2),_0xc22905.doublePetal.innerSizeReduction=_0x433de1(_0x33f85a.doublePetal.innerSizeReduction,1,30),a.tIife(_0x1d2f58[r(510)].innerColorId,null)&&a.CYlft(typeof _0x188ef8[r(510)][r(430)],a.BMPod)&&delete _0x346c03.doublePetal[r(430)]):delete o.doublePetal:a[r(449)]===r(542)?(Number[r(466)](o[r(510)].innerSizeReduction)||(o.doublePetal.innerSizeReduction=2),o[r(510)][r(434)]=ye(o[r(510)].innerSizeReduction,1,30),a[r(533)](o[r(510)][r(430)],null)&&typeof o[r(510)].innerColorId!==a.BMPod&&delete o.doublePetal[r(430)]):typeof _0x4161ab.doublePetal!==r(471)||_0x29991e.doublePetal===null?delete _0x50c8ad[r(510)]:(_0xf4fabe.isFinite(_0x164fb8[r(510)].innerSizeReduction)||(_0x2501d1[r(510)][r(434)]=2),_0x28af66[r(510)][r(434)]=a.iRFGS(_0x5b80e0,_0xffdcb2[r(510)][r(434)],1,30),a.UovqG(_0x5ad36b.doublePetal[r(430)],null)&&a.CYlft(typeof _0x4719a3[r(510)].innerColorId,"string")&&delete _0x2ba735[r(510)].innerColorId));if(Array[r(478)](i.leafGroups)&&a.rHhsl(i[r(530)][r(512)],0)){const o=new Set((i[r(485)]??[]).map(g=>g.id));for(const g of i.leafGroups)if(a[r(415)]("iTRJO","jbhtI")){if(!Array.isArray(g[r(511)]))continue;const _=g[r(511)].filter(d=>o.has(d));if(a.iZYPm(_.length,0))continue;if(g[r(451)])if(r(439)!==r(450)){const d=i[r(476)][r(490)](h=>h.id===g.linkedFlowerGroupId);if(d){for(const h of _)if(a[r(491)]!=="QNkVx")d.leafIds[r(446)](h)||d[r(511)].push(h);else return _0x54f047===r(500)?"":DGFJps.iZYPm(_0xb6d824,r(543))?r(454):_0x4a0536===""||_0x4bc1dd===DGFJps[r(515)]?_0x3c88b0:r(508);continue}}else _0x56041e.has(_0x54a5db.id)||_0x5aca06[r(493)][r(536)](_0xbf28ba);i[r(476)].push({id:g.id||a.XmEdu(qt,a[r(425)]),name:g[r(507)]||a[r(489)],flowerIds:[],leafIds:_,rotation:Number[r(466)](g.rotation)?g[r(517)]:0})}else _0xc53649.colorId=_0xa385bd[r(493)]?.[0]?.id??r(472)}if(delete i.leafGroups,Array.isArray(i.stencils)){const o=[a.DrCmH,r(477)],g=[a.haKtf,a[r(528)],a[r(448)]];i[r(513)]=i.stencils.filter(_=>_&&typeof _.id=="string"&&o.includes(_.variant)&&g.includes(_.pose)&&_.position&&Number[r(466)](_[r(443)].x)&&Number[r(466)](_.position.y))}return Number.isFinite(i[r(474)])||(i[r(474)]=1),i}const vx=Gn;(function(u,r){const a=Gn,i=u();for(;;)try{if(parseInt(a(228))/1*(parseInt(a(235))/2)+parseInt(a(232))/3+-parseInt(a(233))/4+-parseInt(a(226))/5*(parseInt(a(236))/6)+-parseInt(a(227))/7*(parseInt(a(221))/8)+-parseInt(a(239))/9*(parseInt(a(230))/10)+parseInt(a(223))/11*(parseInt(a(231))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,557329);function Gn(u,r){u=u-220;const a=E0();let i=a[u];if(Gn.loBLds===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Gn.FbxIeC=f,Gn.HWtilw={},Gn.loBLds=!0}const o=a[0],g=u+o,_=Gn.HWtilw[g];if(_)i=_;else{const d=function(h){this.oDGIRU=h,this.RVqmRh=[1,0,0],this.rtATpR=function(){return"newState"},this.YqkVxJ="\\w+ *\\(\\) *{\\w+ *",this.EoOWdr=`['|"].+['|"];? *}`};d.prototype.HGotRw=function(){const h=new RegExp(this.YqkVxJ+this.EoOWdr),p=h.test(this.rtATpR.toString())?--this.RVqmRh[1]:--this.RVqmRh[0];return this.OJQTyZ(p)},d.prototype.OJQTyZ=function(h){return~h?this.clkEWT(this.oDGIRU):h},d.prototype.clkEWT=function(h){for(let p=0,y=this.RVqmRh.length;p<y;p++)this.RVqmRh.push(Math.round(Math.random())),y=this.RVqmRh.length;return h(this.RVqmRh[0])},new d(Gn).HGotRw(),i=Gn.FbxIeC(i),Gn.HWtilw[g]=i}return i}function E0(){const u=["mtq0nti4qMrSDNvL","nNjYqvLIEq","Dhn1BwfTAv9WCM9Qzwn0C192mq","Dg9tDhjPBMC","mtm1ovvpBg9tDa","AwXmENq","odu1otC2ohP0BKzHuq","yxbWBhK","nZGXCgXntNb0","5yMJ44gK44g+44g/","C2vHCMnO","odi2mtqWEg5hsMTZ","n3fgu0jQqW","mtbVv1rSB24","kcGOlISPkYKRksSK","nZq3mfzoqwvvEq","mty1ntuYEg12C09p","mJeYnZy4muDcDfrIvq","mJaYndiZmLvPqvPvAa","5lI444gK44g+44g/"];return E0=function(){return u},E0()}const Hh=(function(){let u=!0;return function(r,a){const i=u?function(){const f=Gn;if(a){const o=a[f(222)](r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),px=Hh(void 0,function(){const u=Gn,r={ilLzt:"(((.+)+)+)+$"};return px.toString()[u(225)](u(229))[u(238)]().constructor(px).search(r[u(220)])});px();const Qd=vx(237),xl=[vx(234),vx(224)],Kh=["","",""],Pd=["",""];(function(u,r){const a=Qt,i=u();for(;;)try{if(-parseInt(a(256))/1+parseInt(a(244))/2*(parseInt(a(263))/3)+-parseInt(a(250))/4*(-parseInt(a(241))/5)+-parseInt(a(242))/6+-parseInt(a(254))/7+-parseInt(a(257))/8+-parseInt(a(262))/9*(-parseInt(a(246))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,801983);const Uh=(function(){let u=!0;return function(r,a){const i=u?function(){const f=Qt;if(a){const o=a[f(249)](r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),yx=Uh(void 0,function(){const u=Qt,r={ksEwI:"(((.+)+)+)+$"};return yx.toString().search("(((.+)+)+)+$").toString()[u(240)](yx)[u(255)](r.ksEwI)});yx();function L0(){const u=["sxv1Afq","ntb4Bevvz20","zMLSDgvY","ode1ndC2menVDu1ysG","qLL5vuO","ChjVAMvJDa","yxbWBhK","mZC5odHSEgfgzM8","C2HOBxy","q3PcEgW","C2XPy2u","nZC2mdm4mLDUC29LBW","C2vHCMnO","nJGZndeYzgLVrLDY","otq4ndu2mfjSwfDbtG","vhv2vfO","whr4yxu","DxbKyxrLzef0","C3rYAw5NAwz5","mZztqNzct20","mty5odm5zLL3txbH","CgfYC2u","C2v0sxrLBq","DgL0Bgu","CuvgvMm","y29UC3rYDwn0B3i","mZa1Cen1DNPU","odG2mtCZme1puhfxwG"];return L0=function(){return u},L0()}function ar(){const u=Qt,r={IuuhT:"HnTdS",Xtxau:"TuvTZ"};try{const a=localStorage.getItem(Qd);if(!a)return[];const i=JSON[u(264)](a);return Array.isArray(i)?i.map(f=>{const o=u;if(r[o(243)]==="HnTdS")try{if(r[o(259)]===o(258)){const g=f?.[o(248)]?Ca(f.project):null;return g?{id:f.id??g.id,title:f.title??g[o(266)],updatedAt:f[o(260)]??g[o(260)],project:g}:null}else return!1}catch{return null}else return null}).filter(f=>f!=null):[]}catch{return[]}}function Fd(u){const r=Qt;try{return localStorage[r(265)](Qd,JSON[r(261)](u)),!0}catch{return!1}}function Qt(u,r){u=u-239;const a=L0();let i=a[u];if(Qt.ccWnVd===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Qt.pISlZu=f,Qt.LRibmM={},Qt.ccWnVd=!0}const o=a[0],g=u+o,_=Qt.LRibmM[g];if(_)i=_;else{const d=function(h){this.kIvLrg=h,this.MCgOPF=[1,0,0],this.CJTFrW=function(){return"newState"},this.PaJxlw="\\w+ *\\(\\) *{\\w+ *",this.SWbwiN=`['|"].+['|"];? *}`};d.prototype.iTUjno=function(){const h=new RegExp(this.PaJxlw+this.SWbwiN),p=h.test(this.CJTFrW.toString())?--this.MCgOPF[1]:--this.MCgOPF[0];return this.RbCJzW(p)},d.prototype.RbCJzW=function(h){return~h?this.OACybb(this.kIvLrg):h},d.prototype.OACybb=function(h){for(let p=0,y=this.MCgOPF.length;p<y;p++)this.MCgOPF.push(Math.round(Math.random())),y=this.MCgOPF.length;return h(this.MCgOPF[0])},new d(Qt).iTUjno(),i=Qt.pISlZu(i),Qt.LRibmM[g]=i}return i}function Zh(u){const r=Qt,a={CzBxl:function(_){return _()},shhmv:function(_,d){return _>=d},BYyUJ:function(_,d){return _(d)}},i=a[r(252)](ar),f=i.findIndex(_=>_.id===u.id),o={id:u.id,title:u.title,updatedAt:u.updatedAt,project:u},g=a[r(251)](f,0)?[...i.slice(0,f),o,...i[r(253)](f+1)]:[o,...i];return g.sort((_,d)=>_[r(260)]<d[r(260)]?1:-1),a[r(247)](Fd,g)}function Xh(u){const r=Qt,a={qEFVc:function(f){return f()},vxCKC:function(f,o){return f(o)}},i=a[r(239)](ar)[r(245)](f=>f.id!==u);return a.vxCKC(Fd,i)}(function(u,r){const a=Rn,i=u();for(;;)try{if(parseInt(a(525))/1*(-parseInt(a(508))/2)+parseInt(a(551))/3+-parseInt(a(552))/4+-parseInt(a(530))/5*(parseInt(a(533))/6)+-parseInt(a(529))/7*(parseInt(a(532))/8)+-parseInt(a(546))/9+parseInt(a(550))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,757664);function Rn(u,r){u=u-498;const a=B0();let i=a[u];if(Rn.oDurUW===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Rn.sFAnGa=f,Rn.TDatnc={},Rn.oDurUW=!0}const o=a[0],g=u+o,_=Rn.TDatnc[g];if(_)i=_;else{const d=function(h){this.SWxRzv=h,this.nQpMFI=[1,0,0],this.aMfeyj=function(){return"newState"},this.hXgtKr="\\w+ *\\(\\) *{\\w+ *",this.bXbYfl=`['|"].+['|"];? *}`};d.prototype.LeDIgJ=function(){const h=new RegExp(this.hXgtKr+this.bXbYfl),p=h.test(this.aMfeyj.toString())?--this.nQpMFI[1]:--this.nQpMFI[0];return this.XdmbVO(p)},d.prototype.XdmbVO=function(h){return~h?this.SwYlQQ(this.SWxRzv):h},d.prototype.SwYlQQ=function(h){for(let p=0,y=this.nQpMFI.length;p<y;p++)this.nQpMFI.push(Math.round(Math.random())),y=this.nQpMFI.length;return h(this.nQpMFI[0])},new d(Rn).LeDIgJ(),i=Rn.sFAnGa(i),Rn.TDatnc[g]=i}return i}const Jh=(function(){let u=!0;return function(r,a){const i=u?function(){const f=Rn;if(a){const o=a[f(506)](r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),_x=Jh(void 0,function(){const u=Rn,r={gQmhx:u(511)};return _x[u(501)]()[u(509)](r[u(514)])[u(501)]()[u(520)](_x)[u(509)](r[u(514)])});_x();function Wh(u){const r=Rn,a={WuVHb:function(p,y){return p/y},FqRxG:function(p,y){return p+y},bhiVx:function(p,y){return p*y},NMZSC:function(p,y){return p-y},vMrwu:function(p,y){return p-y},KnGTb:function(p,y){return p*y},HagQr:r(517),nBeob:"erGMf",SGfGl:function(p,y){return p/y},gQCHA:function(p,y){return p*y},NLutA:"#999999",hrXDI:"snrqx",QqwpG:function(p,y){return p*y},deWUe:"qOxUc",OKWlj:"boFQH",LhjiU:function(p,y,S){return p(y,S)},hweoj:function(p,y){return p-y},osGRr:r(516),suIFl:function(p,y){return p(y)},NbCPG:r(536),XJMUG:function(p,y){return p===y},wWNgE:function(p,y){return p===y},wnlEK:r(528)},i=new Map((u.palette||[]).map(p=>[p.id,p])),f=new Map,o=(p,y)=>p?.petalOverrides?.find(S=>S.index===y)??null,g=new Map;for(const p of u.flowers||[]){const y=p[r(548)]??u.fabricSquareSize;for(const v of p[r(519)]||[])if(a[r(542)]!=="zswRi"){if(!v.visible)continue;const T=Math.round(a.QqwpG(y,v.scale??1));for(let q=0;q<v.petalCount;q++)if(a[r(547)]===a.OKWlj){const E=a[r(515)](_0x2911bd[r(518)],10);return a.FqRxG(_0x5327cd,a[r(522)](_0x69a07d.count*E,E))}else{const E=a.LhjiU(o,v,q),R=E?.[r(526)]??v.colorId,Y=R+"|"+T,U=f[r(543)](Y);if(U?U[r(521)]+=1:f[r(540)](Y,{colorId:R,fabricSizeMm:T,count:1}),v[r(523)]){const Z=v[r(523)],J=E?.[r(534)]??Z.innerColorId??R,P=E?.innerSizeReduction??Z[r(502)]??2,Q=Math.max(3,Math[r(499)](a.hweoj(T,P))),X=J+"|"+Q,I=f.get(X);if(I)if(a.osGRr===a.osGRr)I.count+=1;else{const H=_0x3d1b02.doublePetal,w=H[r(534)]??_0x596587,m=_0x3d78f1.max(3,_0x5e1c03[r(499)](a[r(505)](_0x55e643,H.innerSizeReduction??2))),z=w+"|"+m,N=_0x209a53[r(543)](z);N?N.count+=1:_0x142240[r(540)](z,{colorId:w,fabricSizeMm:m,count:1})}else f.set(X,{colorId:J,fabricSizeMm:Q,count:1})}}}else{const T=_0x3af1ee[r(523)],q=_0x4c12ba?.[r(534)]??T[r(534)]??_0x5bcb64,E=_0x3e3809?.innerSizeReduction??T[r(502)]??2,R=_0x147771.max(3,_0x2fd974.round(a[r(512)](_0x35ca02,E))),Y=q+"|"+R,U=_0x242f32[r(543)](Y);U?U[r(521)]+=1:_0x554cc3[r(540)](Y,{colorId:q,fabricSizeMm:R,count:1})}const S=p[r(527)]??"",C=S===""?a[r(507)](nr,p[r(549)]):p[r(553)]??u.baseDiameter,D=S+"|"+C,b=g.get(D);if(b)if(a.NbCPG===a.NbCPG)b.count+=1;else{const v=_0x4bc4cd.get(_0x21ac24);v?v.entries.push({fabricSizeMm:_0x1683e6,count:_0xa1103d}):_0x558557[r(540)](_0x1e665f,{colorId:_0x10c39a,entries:[{fabricSizeMm:_0x2e8f27,count:_0x252188}]})}else g[r(540)](D,{mode:S,baseDiameterMm:C,count:1})}for(const p of u.leaves??[]){if(!p[r(503)])continue;const y=p[r(548)]??u[r(548)],S=Math[r(499)](y*(p.scale??1)),C=p.colorId,D=C+"|"+S,b=f[r(543)](D);if(b?a[r(545)]("CgLCg",r(541))?_0xfcef94[r(540)](_0x46d031,{colorId:_0x1891d7,fabricSizeMm:_0x7349e5,count:1}):b.count+=1:f[r(540)](D,{colorId:C,fabricSizeMm:S,count:1}),p.doublePetal){const v=p.doublePetal,T=v[r(534)]??C,q=Math.max(3,Math.round(a[r(505)](S,v[r(502)]??2))),E=T+"|"+q,R=f.get(E);R?R[r(521)]+=1:f.set(E,{colorId:T,fabricSizeMm:q,count:1})}}const _=new Map;for(const{colorId:p,fabricSizeMm:y,count:S}of f.values()){const C=_[r(543)](p);C?C.entries[r(538)]({fabricSizeMm:y,count:S}):a[r(504)]("JNBNg",a.wnlEK)?_0x5ea4ca.set(_0x1fc1c4,{colorId:_0x234907,fabricSizeMm:_0x5b02c5,count:1}):_.set(p,{colorId:p,entries:[{fabricSizeMm:y,count:S}]})}const d=Array.from(_.values())[r(537)](({colorId:p,entries:y})=>{const S=r;if(a.HagQr===a[S(513)]){const C={jPqsp:function(E,R){return a.WuVHb(E,R)},onYyu:function(E,R){return a.bhiVx(E,R)}},D=_0x56b8e4.get(_0x562324),b=_0x1f382d.sort((E,R)=>R[S(518)]-E.fabricSizeMm),v=b.reduce((E,R)=>E+R[S(521)],0),T=_0x71056c.round(a.KnGTb(b.reduce((E,R)=>{const Y=S,U=C.jPqsp(R[Y(518)],10);return E+C.onYyu(C.onYyu(R[Y(521)],U),U)},0),100))/100,q=_0x186c4c.round(_0x415e66[S(539)](T)*10)/10;return{colorId:_0x1d2da8,colorName:D?.[S(500)]??_0x286a85,hex:D?.hex??S(555),sizes:b,totalCount:v,totalAreaCm2:T,squareSideCm:q}}else{const C=i.get(p),D=y.sort((q,E)=>E[S(518)]-q[S(518)]),b=D[S(524)]((q,E)=>q+E[S(521)],0),v=a.SGfGl(Math[S(499)](a[S(510)](D[S(524)]((q,E)=>{const R=S,Y=E.fabricSizeMm/10;return q+a.bhiVx(E[R(521)]*Y,Y)},0),100)),100),T=Math.round(Math[S(539)](v)*10)/10;return{colorId:p,colorName:C?.[S(500)]??p,hex:C?.hex??a.NLutA,sizes:D,totalCount:b,totalAreaCm2:v,squareSideCm:T}}})[r(554)]((p,y)=>y.totalCount-p.totalCount),h=Array[r(498)](g[r(531)]()).sort((p,y)=>{const S=r;return p.mode!==y[S(535)]?p.mode===S(544)?-1:1:a[S(505)](y.baseDiameterMm,p.baseDiameterMm)});return{colors:d,bases:h}}function B0(){const u=["C2v0","z3zsBhy","AhjyreK","z2v0","5y2k44gp44gz","wePnvuC","nZKZmJi5ngfzELL1BG","zgvxvwu","zMfICMLJu3f1yxjLu2L6zq","zMXVD2vYrgLHBwv0zxi","mtK4ody0ndb6qw5xyw4","ndi2nte0mLHcAu5Pqq","mtqZmdyZmM5gwunYEa","yMfZzurPyw1LDgvY","C29YDa","iZK5otK5oq","zNjVBq","CM91BMq","BMfTzq","Dg9tDhjPBMC","Aw5UzxjtAxPLuMvKDwn0Aw9U","DMLZAwjSzq","D1Doz0u","tK1Au0m","yxbWBhK","C3vjrMW","mNHKrLPXqq","C2vHCMnO","z1fdsee","kcGOlISPkYKRksSK","DK1YD3u","BKjLB2i","z1fTAhG","v3vwsgi","s0Dqtgy","veXVu3q","zMfICMLJu2L6zu1T","Bgf5zxjZ","y29UC3rYDwn0B3i","y291BNq","yMHPvNG","zg91yMXLugv0ywW","CMvKDwnL","mJyWmZyZuhPltKvO","y29SB3jjza","CgXHy2vTzw50tw9Kzq","tLjgyKm","n1nTsffhDa","nda3mtqWyK5KCeTl","DMfSDwvZ","ntmXnZKXmMjNug9VCG","mZzdALv1DeK","Aw5UzxjdB2XVCKLK","Bw9Kzq","z3Hzq1O","BwfW","ChvZAa","C3fYDa"];return B0=function(){return u},B0()}(function(u,r){const a=Pt,i=u();for(;;)try{if(-parseInt(a(462))/1*(parseInt(a(468))/2)+parseInt(a(483))/3*(-parseInt(a(447))/4)+parseInt(a(471))/5*(parseInt(a(440))/6)+parseInt(a(437))/7+parseInt(a(446))/8*(parseInt(a(436))/9)+parseInt(a(475))/10*(parseInt(a(491))/11)+parseInt(a(449))/12*(-parseInt(a(435))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,519031);const Vh=(function(){let u=!0;return function(r,a){const i=u?function(){const f=Pt;if(a){const o=a[f(441)](r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),Sx=Vh(void 0,function(){const u=Pt;return Sx[u(492)]()[u(498)](u(438)).toString()[u(479)](Sx).search("(((.+)+)+)+$")});Sx();function Pt(u,r){u=u-435;const a=k0();let i=a[u];if(Pt.MubTEZ===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Pt.cvxwcX=f,Pt.kPoaHS={},Pt.MubTEZ=!0}const o=a[0],g=u+o,_=Pt.kPoaHS[g];if(_)i=_;else{const d=function(h){this.JnHYUn=h,this.smTEfC=[1,0,0],this.WcLDYX=function(){return"newState"},this.xvgpft="\\w+ *\\(\\) *{\\w+ *",this.HLHRhS=`['|"].+['|"];? *}`};d.prototype.bqwPDv=function(){const h=new RegExp(this.xvgpft+this.HLHRhS),p=h.test(this.WcLDYX.toString())?--this.smTEfC[1]:--this.smTEfC[0];return this.hXKvUx(p)},d.prototype.hXKvUx=function(h){return~h?this.iJraOI(this.JnHYUn):h},d.prototype.iJraOI=function(h){for(let p=0,y=this.smTEfC.length;p<y;p++)this.smTEfC.push(Math.round(Math.random())),y=this.smTEfC.length;return h(this.smTEfC[0])},new d(Pt).bqwPDv(),i=Pt.cvxwcX(i),Pt.kPoaHS[g]=i}return i}function Qh(u,r){const a=Pt,i={XQXVF:"[data-testid]",hVKKe:"style",JlTeB:"0 0 200 200",yxHeU:a(464),XrgJK:a(445),dAnoc:a(456),dWXOk:a(439),uJhCF:a(457),NucNH:"white",kqGWJ:"[data-grid]",NoLcw:".tsumami-group-dash",QdcMT:a(454),fblIY:a(466)},f=u.cloneNode(!0);f.querySelectorAll(i.XQXVF)[a(442)](C=>C[a(499)]("data-testid")),f[a(499)](i.hVKKe);const o=u.getAttribute(a(493));o&&f[a(489)]("viewBox",o);const g=(o??i.JlTeB).split(/[\s,]+/).map(Number),_=g[2]??200,d=g[3]??200;f[a(489)](i[a(487)],String(_)),f[a(489)](a(453),String(d)),f.setAttribute(i.XrgJK,i[a(482)]);const h=document.createElementNS(a(456),a(459));h.setAttribute(a(464),a(439)),h.setAttribute(a(453),i.dWXOk),h[a(489)](i.uJhCF,i.NucNH),f.insertBefore(h,f[a(444)]),f.querySelectorAll(i.kqGWJ).forEach(C=>C.remove()),f.querySelectorAll(a(485))[a(442)](C=>C[a(481)]()),f[a(455)](i.NoLcw).forEach(C=>C.remove()),f[a(455)](i[a(480)])[a(442)](C=>C[a(481)]());const p=new XMLSerializer,y=a(497)+p[a(478)](f),S=new Blob([y],{type:i[a(461)]});$d(S,r[a(460)](".svg")?r:r+a(451))}function Ph(u,r,a=2){const i=Pt,f={SHhwR:function(b,v,T){return b(v,T)},uLsvP:function(b,v){return b===v},KBCDS:"xvHtP",dBGMr:i(476),OGPlw:i(463),QSDNx:i(494),LHIwt:".tsumami-sel-dash",lDYoP:".tsumami-group-dash",yKkYd:i(493),flmuC:function(b,v){return b??v},WdFlp:i(474),NdmTn:"xmlns",eWwle:i(466)},o=u.cloneNode(!0);o[i(455)](f[i(472)]).forEach(b=>b[i(499)](i(486))),o.removeAttribute(f.QSDNx),o.querySelectorAll("[data-grid]").forEach(b=>b.remove()),o.querySelectorAll(f.LHIwt)[i(442)](b=>b[i(481)]()),o.querySelectorAll(f.lDYoP).forEach(b=>b[i(481)]()),o.querySelectorAll(i(454))[i(442)](b=>b[i(481)]());const g=u[i(450)](f.yKkYd),_=f.flmuC(g,f[i(443)]).split(/[\s,]+/)[i(452)](Number),d=_[2]??200,h=_[3]??200;o.setAttribute(i(493),g??"0 0 200 200"),o[i(489)](i(464),String(d)),o.setAttribute(i(453),String(h)),o.setAttribute(f.NdmTn,"http://www.w3.org/2000/svg");const p=new XMLSerializer,y=p.serializeToString(o),S=new Blob([y],{type:f[i(465)]}),C=URL[i(495)](S),D=new Image;D[i(484)]=()=>{const b=i,v={USqzQ:function(T,q,E){return f[Pt(488)](T,q,E)},ndeXB:".png",PiixQ:b(438)};if(f.uLsvP(f.KBCDS,f.KBCDS)){const T=document.createElement(f.dBGMr);T[b(464)]=d*a,T[b(453)]=h*a;const q=T[b(470)]("2d");if(!q){URL[b(467)](C);return}q[b(490)]="white",q.fillRect(0,0,T.width,T[b(453)]),q[b(477)](D,0,0,T[b(464)],T[b(453)]),T.toBlob(E=>{const R=b;E&&v[R(458)]($d,E,r[R(460)](v.ndeXB)?r:r+R(496)),URL.revokeObjectURL(C)},"image/png")}else return _0x85bb48[b(492)]()[b(498)](LQpUHz.PiixQ).toString()[b(479)](_0x2079ce)[b(498)](b(438))},D[i(448)]=()=>{URL[i(467)](C)},D.src=C}function $d(u,r){const a=Pt,i=URL[a(495)](u),f=document.createElement("a");f.href=i,f.download=r,document[a(473)].appendChild(f),f[a(469)](),document.body.removeChild(f),URL.revokeObjectURL(i)}function k0(){const u=["ExHizvu","u0HOD1i","C2v0qxr0CMLIDxrL","zMLSBfn0EwXL","nJzmuwjfyMi","Dg9tDhjPBMC","DMLLD0jVEa","C3r5Bgu","y3jLyxrLt2jQzwn0vvjm","lNbUzW","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","C2vHCMnO","CMvTB3zLqxr0CMLIDxrL","mtnmD3LOruq","mtu3nJa2mNPcywD5DG","mtuWnZiWnvfUv25XuG","kcGOlISPkYKRksSK","mtaWjq","nJGWnZK2wuvNBwjy","yxbWBhK","zM9YrwfJAa","v2rgBha","zMLYC3rdAgLSza","Eg1SBNm","og5SswDPsq","mti1mKTpD3fOAG","B25LCNjVCG","nJmYmdG4shnmuxDj","z2v0qxr0CMLIDxrL","lNn2zW","BwfW","AgvPz2H0","w2rHDgeTBwfYCxvLzv0","CxvLCNLtzwXLy3rVCKfSBa","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","zMLSBa","vvnXELe","CMvJDa","zw5KC1DPDgG","zMjSsvK","muv0rxrbBa","w2rHDgeTDgvZDgLKxq","D2LKDgG","zvD3Bgu","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","CMv2B2TLt2jQzwn0vvjm","mtq3nZu0ngvzqwTmyq","y2XPy2S","z2v0q29UDgv4Da","mZv1wg1Ptwi","t0DqBhC","yM9KEq","mcaWidiWmcaYmda","otm5otCWz0j3Bfrn","y2fUDMfZ","zhjHD0LTywDL","C2vYAwfSAxPLvg9tDhjPBMC","y29UC3rYDwn0B3i","uwrJtvq","CMvTB3zL","zefUB2m","ndiWmfviEfrdCa","B25SB2fK","lNrZDw1HBwKTC2vSlwrHC2G","zgf0ys10zxn0Awq"];return k0=function(){return u},k0()}function w0({active:u,disabled:r,onClick:a,children:i,...f}){return x.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...f,children:i})}const Fh="v0.1.0-dev";function $h(u){const{view:r,onNavigate:a,project:i}=u;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Fh})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(w0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(w0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(w0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),x.jsx(w0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function em(u){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(r=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:r.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function Cx({children:u}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function tm(u){const[r,a]=ee.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(Cx,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(u,r){const a=Sn,i=u();for(;;)try{if(parseInt(a(208))/1+-parseInt(a(218))/2*(-parseInt(a(143))/3)+-parseInt(a(220))/4*(-parseInt(a(192))/5)+parseInt(a(230))/6*(-parseInt(a(152))/7)+-parseInt(a(142))/8*(-parseInt(a(195))/9)+parseInt(a(168))/10*(-parseInt(a(228))/11)+parseInt(a(170))/12*(-parseInt(a(232))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,633995);const nm=(function(){const u={AcBkb:function(a,i){return a===i},BctEa:function(a,i){return a===i}};let r=!0;return function(a,i){const f=Sn;if(u[f(190)](f(216),"FPLOo")){const o=r?function(){const g=f;if(i){const _=i[g(203)](a,arguments);return i=null,_}}:function(){};return r=!1,o}else{const o=_0x3ec46b.flowers.find(g=>g.id===_0x32f1a1.flowerId);if(!o)return;if(u.AcBkb(_0x311a02[f(226)],"layer")&&_0x4fd161[f(229)]){const g=o[f(224)][f(154)](_=>_.id===_0x3b2813.layerId);g&&(g[f(217)]=_0x32e2bf)}else o.rotation=_0x130b0a}}})(),wx=nm(void 0,function(){const u=Sn,r={LSVUb:"(((.+)+)+)+$"};return wx.toString().search(r.LSVUb)[u(164)]().constructor(wx).search(r[u(148)])});wx();function q0(){const u=["zMXVD2vYCW","Bgf5zxjZ","uuTnt2S","Bw9Kzq","zMXVD2vYrgLHBwv0zxi","mZyZmJK0ogTYCeDjsW","Bgf5zxjjza","mtC5nZqYvfPizKzX","D1HWEfy","mtnus1bPrvG","C3rHCNrty2fSzxm","BxHXtva","C2LU","y3vYCMvUDa","ChjLDMvUDerLzMf1Bhq","v2Pfu0u","CM90yxrPB24","C2nHBgu","Egr6uNq","ohPTyvP3tG","mJGZmJztDuvODNm","Cg9PBNrLCKLK","r3rnv1e","CMfKAxvZ","Afj1DwS","tfnwvwi","sNDivNu","C1HLu3m","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","n2Tyq05sCW","vhrAC1u","zMLUza","CLHcrfe","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","q0rLseG","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","y29Z","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","EgfurvG","C3rHCNreAxn0","y3vYC29Y","Dg9tDhjPBMC","ywjZ","qM9PsuO","zwTWAuq","mtbzBu1OsNm","C3rHCNrbBMDSzq","ody1mdqYofjizxnzCa","D2LKDgHty2fSzq","DgfhyMO","swPvCKC","C2v0ug9PBNrLCKnHChr1CMu","EK9Uzem","Cgv0ywXbBMDSzq","BKz3qNm","Cgv0ywXjBMrLEa","rxfouK4","BwfW","Cgv0ywXdB3vUDa","CfHzA2q","DxjSkci","y3vYCMvUDfrHCMDLDa","rfrQrNG","C3r5Bgu","CwLQreG","C1HoCwW","zMXVD2vYswq","qMn0rwe","wKfKyKK","mZi1nJq0mePzAM5RAG","Bgf5zxi","DeTms1G","mZy0nZGXn2f4rxzfBG","yxrHBJi","Ag1sAwC","s012DNq","txjltMy","q1bctK0","y0rjqui","C2v5sgW","yxbWBhK","rwvIBMS","wKLmwvG","BKLXEwi","Cg9ZAxrPB24","mtC2otq2zhDtrLz2","zKf2v1i","C3rHCNreAwfT","l3rZDw1HBwKV","whfUzgi","ENrct1u","AhLWB3q","sgzHr0i","rLbmt28","B2zMC2v0qw5NBgu","mtaYuMTuv2PX","y3feq0C","ngDADMvrqW","EKH2ENK","C3rHCNrsB3rHDgLVBG"];return q0=function(){return u},q0()}function Sn(u,r){u=u-133;const a=q0();let i=a[u];if(Sn.XELrvO===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Sn.HhYKNm=f,Sn.aGGPQn={},Sn.XELrvO=!0}const o=a[0],g=u+o,_=Sn.aGGPQn[g];if(_)i=_;else{const d=function(h){this.CPCJMU=h,this.AssDmk=[1,0,0],this.xCsjxW=function(){return"newState"},this.aufWgl="\\w+ *\\(\\) *{\\w+ *",this.nOycFM=`['|"].+['|"];? *}`};d.prototype.Iyyaaq=function(){const h=new RegExp(this.aufWgl+this.nOycFM),p=h.test(this.xCsjxW.toString())?--this.AssDmk[1]:--this.AssDmk[0];return this.WanSSk(p)},d.prototype.WanSSk=function(h){return~h?this.FiUWDd(this.CPCJMU):h},d.prototype.FiUWDd=function(h){for(let p=0,y=this.AssDmk.length;p<y;p++)this.AssDmk.push(Math.round(Math.random())),y=this.AssDmk.length;return h(this.AssDmk[0])},new d(Sn).Iyyaaq(),i=Sn.HhYKNm(i),Sn.aGGPQn[g]=i}return i}function lm(u){const r=Sn,a={sXeSs:function(Z,J){return Z(J)},AscDQ:function(Z,J){return Z-J},GtMWQ:function(Z,J){return Z*J},rAVqL:function(Z,J){return Z===J},zOndC:"flower",ztBOU:function(Z,J,P,Q){return Z(J,P,Q)},taGbj:function(Z,J){return Z-J},jyocl:function(Z,J){return Z/J},CDeHH:function(Z,J,P){return Z(J,P)},QKMOk:function(Z,J,P){return Z(J,P)},mxqMP:function(Z,J){return Z+J},tKLKX:function(Z,J){return Z!==J},nIqyb:"qtTWX",uQoUz:function(Z,J){return Z!==J},sXNql:"hRuuk",ZAdbI:function(Z,J){return Z(J)},EqNRN:function(Z,J){return Z-J},AqPDU:function(Z,J){return Z/J},umbOj:function(Z,J){return Z===J},hpYej:r(193),gtGGQ:function(Z,J){return Z(J)},kHVWQ:function(Z,J){return Z/J},xdzRt:function(Z,J){return Z>J},ZILYX:r(138),CPBNM:function(Z,J){return Z===J},KMvvt:r(187),hmRig:function(Z,J){return Z/J},rXBDQ:function(Z,J){return Z*J},YeGPx:function(Z,J){return Z!==J},COyDZ:"/tsumami/",GpkhN:function(Z,J){return Z(J)},MrKNf:function(Z,J){return Z*J},DTjFx:function(Z,J){return Z-J},aUdhM:function(Z,J){return Z+J},GhTob:r(177),YzHVF:function(Z,J){return Z+J},xaTEX:"KJEPP",EgLGa:function(Z,J){return Z(J)},lIylc:function(Z,J){return Z-J},ekpiD:function(Z,J,P){return Z(J,P)}},{project:i,applyUpdate:f,stageRef:o,clientToSvgPoint:g}=u,_=a.EgLGa(ee.useRef,null),d=(Z,J,P,Q)=>{const X=r;P.preventDefault(),P[X(184)]?.[X(174)]?.(P[X(144)]),o[X(136)]&&(o[X(136)].style.cursor=X(183)+"/tsumami/"+X(151));const I=i[X(223)][X(154)](A=>A.id===J);if(!I)return;const H=Z===X(193)&&Q?.[X(229)]?I[X(224)].filter(A=>A.id===Q[X(229)])[X(180)](A=>({layerId:A.id,scale:A[X(140)]??1,radius:A[X(146)]??10})):I.layers[X(180)](A=>({layerId:A.id,scale:A.scale??1,radius:A.radius??10})),w=a[X(150)](g,P),m=I[X(207)].x,z=I.position.y,N=Math.hypot(w.x-m,a.AscDQ(w.y,z));_.current={mode:Z,flowerId:J,layerId:Q?.[X(229)],startScales:H,startDiam:I[X(227)]||60,startDist:N}},h=Z=>{const J=r,P={nNwKm:function(z,N){return a.GtMWQ(z,N)},wOJKA:function(z,N){return a.rAVqL(z,N)},Eebnk:a[J(175)],cqDCG:function(z,N,A,G){return a.ztBOU(z,N,A,G)},LAyOl:function(z,N){return z*N}},Q=_[J(136)];if(!Q)return;const X=i.flowers.find(z=>z.id===Q.flowerId);if(!X)return;const I=a.sXeSs(g,Z),H=Math[J(214)](a.taGbj(I.x,X[J(207)].x),a.AscDQ(I.y,X.position.y)),w=Math.max(1,Q.startDist??1),m=a[J(213)](ye,a.jyocl(H,w),.3,3);a[J(157)](f,z=>{const N=J,A=z[N(223)][N(154)](G=>G.id===Q[N(189)]);if(A){for(const G of Q[N(133)]){const k=A[N(224)].find(j=>j.id===G.layerId);k&&(k[N(140)]=ye(P.nNwKm(G[N(140)],m),.3,3),P.wOJKA(Q.mode,P[N(204)])&&(k[N(146)]=P[N(219)](ye,P.nNwKm(G.radius,m),2,120)))}P.wOJKA(Q[N(226)],P[N(204)])&&(A.flowerDiameter=ye(P.LAyOl(Q.startDiam,m),10,200))}},!1)},p=()=>{_.current&&(f(()=>{},!0),o.current&&(o.current.style.cursor=""),_.current=null)},y=ee.useRef(null),S=(Z,J,P,Q)=>{const X=r,I={UmGmh:function(H,w){return H===w},BoiIJ:function(H,w){return H-w},yjBol:function(H,w){return a.jyocl(H,w)},wXpxV:function(H,w){return H>w},IjUrG:function(H,w){return H<w},HfaGB:function(H,w){return a[Sn(134)](H,w)},qwafi:function(H,w,m){return a.QKMOk(H,w,m)}};if(a[X(194)]("xOMcc",a[X(206)])){if(P[X(137)](),P[X(184)]?.[X(174)]?.(P[X(144)]),o.current)if(a.uQoUz(X(147),a[X(188)])){const N=_0x40cf2a[X(136)];if(!N)return;const A=_0x4fc70b.flowers[X(154)](O=>O.id===N.flowerId);if(!A)return;const G=_0x397bc0(_0x210ab8),k=_0x26431e.atan2(I.BoiIJ(G.y,A[X(207)].y),I.BoiIJ(G.x,A[X(207)].x))*I.yjBol(180,_0x32bc07.PI);let j=I[X(166)](k,N.startAngle);for(;I[X(231)](j,180);)j-=360;for(;I[X(173)](j,-180);)j+=360;const B=I[X(215)](N[X(222)],j);I.qwafi(_0x486e74,O=>{const K=X,F=O[K(223)][K(154)](te=>te.id===N.flowerId);if(F)if(I.UmGmh(N.mode,"layer")&&N[K(229)]){const te=F[K(224)].find(se=>se.id===N[K(229)]);te&&(te[K(217)]=B)}else F.rotation=B},!1)}else o.current[X(186)].cursor=X(183)+X(211)+'rotate_cursor_active_32.png") 16 16, grabbing';const H=i[X(223)].find(N=>N.id===J);if(!H)return;const w=a[X(191)](g,P),m=Math[X(196)](a.EqNRN(w.y,H[X(207)].y),a[X(172)](w.x,H.position.x))*a.AqPDU(180,Math.PI),z=a.umbOj(Z,a.hpYej)&&Q?.layerId?H[X(224)][X(154)](N=>N.id===Q[X(229)])?.[X(217)]??0:H[X(139)]??0;y[X(136)]={mode:Z,flowerId:J,layerId:Q?.layerId,startAngle:m,startRotation:z}}else{if(!_0x201fc2.current)return;a[X(225)](_0x19936e,()=>{},!0),_0x490b21[X(136)]&&(_0x573699.current.style.cursor=""),_0x781b4c[X(136)]=null}},C=Z=>{const J=r,P=y[J(136)];if(!P)return;const Q=i.flowers.find(m=>m.id===P.flowerId);if(!Q)return;const X=a.gtGGQ(g,Z);let H=Math[J(196)](a.AscDQ(X.y,Q.position.y),a.AscDQ(X.x,Q.position.x))*a.kHVWQ(180,Math.PI)-P[J(169)];for(;a[J(141)](H,180);)H-=360;for(;H<-180;)H+=360;const w=a.mxqMP(P.startRotation,H);a.CDeHH(f,m=>{const z=J,N=m[z(223)][z(154)](A=>A.id===P.flowerId);if(N)if(P[z(226)]==="layer"&&P.layerId){const A=N.layers[z(154)](G=>G.id===P.layerId);A&&(A.offsetAngle=w)}else N[z(139)]=w},!1)},D=()=>{const Z=r;if(a[Z(205)]==="btwgz")_0x4b5de4.current.style[Z(163)]=Z(183)+Z(211)+Z(158);else{if(!y[Z(136)])return;f(()=>{},!0),o.current&&(o[Z(136)][Z(186)].cursor=""),y.current=null}},b=a.ZAdbI(ee.useRef,null),v=(Z,J,P,Q)=>{const X=r;if(a[X(200)](a[X(198)],X(209)))_0x2d354a[X(227)]=hSLTEf[X(201)](_0x3208b9,_0x51675e[X(210)]*_0xf4fa71,10,200);else{P.preventDefault(),P.currentTarget?.[X(174)]?.(P.pointerId),o[X(136)]&&(o[X(136)][X(186)].cursor='url("/tsumami/width_cursor_32.png?v=16") 16 16, ew-resize');const I=i[X(223)].find(F=>F.id===J);if(!I)return;const H=Q?.[X(229)]?I.layers.find(F=>F.id===Q[X(229)]):null;if(!H)return;const w=g(P),m=I.position.x,z=I[X(207)].y,N=Q?.[X(178)]??0,A=360/Math.max(1,H[X(181)]),G=(H[X(217)]+a[X(145)](N,A)+I.rotation)*a[X(197)](Math.PI,180),k=a[X(179)](w.x,m),j=w.y-z,B=-Math.sin(G),O=Math.cos(G),K=Math.abs(a[X(155)](k,B)+j*O);b.current={mode:Z,flowerId:J,layerId:Q?.layerId,petalAngle:G,startDist:Math.max(1,K),startWidthScale:H[X(171)]??1}}},T=Z=>{const J=r;if(a.COyDZ,a.CPBNM("INfWl",a.GhTob))_0x5be61d.rotation=_0xdb43c7;else{const P=b[J(136)];if(!P)return;const Q=i[J(223)].find(G=>G.id===P.flowerId);if(!Q)return;const X=g(Z),I=a.AscDQ(X.x,Q.position.x),H=a.AscDQ(X.y,Q.position.y),w=-Math[J(135)](P[J(176)]),m=Math[J(159)](P[J(176)]),z=Math[J(165)](a.YzHVF(I*w,H*m)),N=ye(z/P.startDist,.3,3),A=ye(P.startWidthScale*N,.3,3);a.CDeHH(f,G=>{const k=J;if(a.YeGPx(k(212),"rsdDT")){const j=G.flowers.find(O=>O.id===P.flowerId);if(!j)return;const B=j.layers[k(154)](O=>O.id===P[k(229)]);B&&(B.widthScale=A)}else{_0x3321b9[k(137)](),_0x191270.currentTarget?.setPointerCapture?.(_0x248cd8.pointerId),_0x17bd68[k(136)]&&(_0x159a26.current.style.cursor=k(183)+nDWTwz.xobUS+k(156));const j=_0x286305.flowers.find(Oe=>Oe.id===_0xc9454c);if(!j)return;const B=_0x1101dd?.layerId?j.layers[k(154)](Oe=>Oe.id===_0x1e64cb.layerId):null;if(!B)return;const O=nDWTwz[k(182)](_0x33e39c,_0x10f210),K=j.position.x,F=j[k(207)].y,te=_0x11920d?.petalIndex??0,se=nDWTwz[k(202)](360,_0x33daf1.max(1,B.petalCount)),fe=nDWTwz[k(153)](B.offsetAngle+te*se+j.rotation,_0x5e9c29.PI/180),he=O.x-K,ge=nDWTwz.meLBP(O.y,F),de=-_0x23ab1d.sin(fe),pe=_0x11e2aa[k(159)](fe),Ie=_0x439c27.abs(nDWTwz[k(221)](nDWTwz.BmLSM(he,de),ge*pe));_0xc64f51[k(136)]={mode:_0x3ea676,flowerId:_0x2494ba,layerId:_0x173a02?.[k(229)],petalAngle:fe,startDist:_0x4f0f72.max(1,Ie),startWidthScale:B[k(171)]??1}}},!1)}},q=()=>{const Z=r;b.current&&(a.CDeHH(f,()=>{},!0),o.current&&(o[Z(136)].style.cursor=""),b.current=null)},E=ee.useRef(null);return{scaleDragRef:_,beginScaleDrag:d,updateScaleDrag:h,endScaleDrag:p,rotationDragRef:y,beginRotationDrag:S,updateRotationDrag:C,endRotationDrag:D,widthScaleDragRef:b,beginWidthScaleDrag:v,updateWidthScaleDrag:T,endWidthScaleDrag:q,radiusDragRef:E,beginRadiusDrag:(Z,J,P,Q)=>{const X=r;P.preventDefault(),P[X(184)]?.setPointerCapture?.(P[X(144)]),o.current&&(o[X(136)][X(186)][X(163)]='url("'+X(211)+X(160));const I=i.flowers[X(154)](z=>z.id===J);if(!I)return;const H=Q?.[X(229)]?I.layers[X(154)](z=>z.id===Q.layerId):null;if(!H)return;const w=a.sXeSs(g,P),m=Math.hypot(w.x-I.position.x,w.y-I.position.y);E[X(136)]={mode:Z,flowerId:J,layerId:Q?.layerId,startDist:Math.max(1,m),startRadius:H[X(146)]??28}},updateRadiusDrag:Z=>{const J=r;if(J(149)!==a[J(161)]){const P=E.current;if(!P)return;const Q=i[J(223)][J(154)](m=>m.id===P[J(189)]);if(!Q)return;const X=a.EgLGa(g,Z),I=Math.hypot(a.lIylc(X.x,Q[J(207)].x),X.y-Q.position.y),H=I-P[J(162)],w=a.ztBOU(ye,a.YzHVF(P.startRadius,H),5,100);a[J(167)](f,m=>{const z=J,N=m[z(223)].find(G=>G.id===P[z(189)]);if(!N)return;const A=N.layers[z(154)](G=>G.id===P.layerId);A&&(A[z(146)]=w)},!1)}else{if(!_0x5077d0[J(136)])return;_0x1518ee(()=>{},!0),_0xbb2104.current&&(_0x1fbc17[J(136)].style.cursor=""),_0x12c605[J(136)]=null}},endRadiusDrag:()=>{const Z=r;E.current&&(f(()=>{},!0),o[Z(136)]&&(o[Z(136)].style.cursor=""),E[Z(136)]=null)}}}(function(u,r){const a=Nt,i=u();for(;;)try{if(parseInt(a(407))/1+-parseInt(a(456))/2+parseInt(a(424))/3*(-parseInt(a(414))/4)+-parseInt(a(417))/5+parseInt(a(435))/6*(-parseInt(a(437))/7)+-parseInt(a(447))/8+parseInt(a(448))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,958841);const am=(function(){const u=Nt,r={xAlSd:u(433),oBTlj:u(455),HOMRA:function(i,f){return i(f)},uiVLh:u(411)};let a=!0;return function(i,f){const o=a?function(){const g=Nt,_={hPYGn:"center",sgJKM:g(427),HWzSa:r[g(418)],WgQqQ:"width",WMAiz:r.oBTlj,lWbTK:function(d,h){return r.HOMRA(d,h)},xCgHh:g(472)};if(f)if(g(411)===r.uiVLh){const d=f.apply(i,arguments);return f=null,d}else switch(_0x2f66b4){case _[g(471)]:return _[g(402)];case _[g(429)]:return'url("'+_0x2b2493+g(462);case"scale":return g(442)+_0xbc61b6+'scale_cursor_32.png?v=16") 16 16, ns-resize';case _.WgQqQ:return'url("'+_0x39e970+g(453);case _.WMAiz:return g(442)+_0x72dbbd+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case g(413):return _.lWbTK(_0x3067f6,_0x23dd65);default:return _[g(445)]}}:function(){};return a=!1,o}})(),Mx=am(void 0,function(){const u=Nt,r={zeJQc:u(441)};return Mx.toString().search(r[u(452)]).toString()[u(463)](Mx)[u(465)](u(441))});function Nt(u,r){u=u-400;const a=I0();let i=a[u];if(Nt.qGrApQ===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Nt.kmoLcN=f,Nt.MYGyfv={},Nt.qGrApQ=!0}const o=a[0],g=u+o,_=Nt.MYGyfv[g];if(_)i=_;else{const d=function(h){this.oYOOkE=h,this.yXybmF=[1,0,0],this.ruHzUW=function(){return"newState"},this.YhgBhS="\\w+ *\\(\\) *{\\w+ *",this.fcOXhD=`['|"].+['|"];? *}`};d.prototype.GzdpJa=function(){const h=new RegExp(this.YhgBhS+this.fcOXhD),p=h.test(this.ruHzUW.toString())?--this.yXybmF[1]:--this.yXybmF[0];return this.BBenYm(p)},d.prototype.BBenYm=function(h){return~h?this.MlHYzp(this.oYOOkE):h},d.prototype.MlHYzp=function(h){for(let p=0,y=this.yXybmF.length;p<y;p++)this.yXybmF.push(Math.round(Math.random())),y=this.yXybmF.length;return h(this.yXybmF[0])},new d(Nt).GzdpJa(),i=Nt.kmoLcN(i),Nt.MYGyfv[g]=i}return i}Mx();function ci(u,r,a,i,f){const o=Nt,g={bQOju:function(Y,U){return Y-U},nnmVE:function(Y,U){return Y<=U},irgRy:o(455),RKEvw:function(Y,U){return Y(U)},FWvAs:function(Y,U){return Y<=U},JvFHc:function(Y,U){return Y*U},Kuauo:function(Y,U){return Y*U},qJhgV:function(Y,U){return Y>U},mmXFT:function(Y,U){return Y(U)},VLPwg:function(Y,U){return Y/U},koAsR:function(Y,U){return Y-U},OSlzJ:function(Y,U){return Y===U},cZPhX:"ovSjb",moQIA:function(Y,U){return Y(U)},WSAKN:function(Y,U){return Y-U},oepAV:function(Y,U){return Y*U},NkgzB:function(Y,U){return Y>U},dJZBp:function(Y,U){return Y>=U},oyxes:function(Y,U){return Y>U},dmWiL:o(474),IsmyF:o(432),OmwlB:function(Y,U){return Y*U},ciPOl:function(Y,U){return Y<=U}},{length:_}=g.RKEvw(It,a.fabricSquareSize??i[o(470)]),d=u-a.position.x,h=r-a[o(420)].y,p=Math[o(405)](d,h);let y=1/0;for(const Y of a.layers){if(!Y.visible)continue;const U=Y.scale??1,Z=_*U,J=.28,P=Math[o(451)](0,Y[o(455)]-Z*J);P<y&&(y=P)}isFinite(y)||(y=0);const S=Math[o(451)](y*.9,8);if(g[o(459)](p,S))return{zone:o(473)};if(f[o(476)]===o(436)){const Y=a[o(419)][o(446)](U=>U.id===f[o(431)]&&U.visible);if(Y){const U=Y[o(474)]??1,Z=g.JvFHc(_,U),J=.28,P=Math[o(451)](0,Y[o(455)]-g[o(454)](Z,J));if(g.qJhgV(P,0)){const X=Math[o(466)](p-P);if(g[o(430)](X,6))return{zone:"radius",layerId:Y.id}}}}const C=g.mmXFT(na,-(a[o(475)]??0)),D=d*Math.cos(C)-g[o(454)](h,Math[o(467)](C)),b=d*Math.sin(C)+h*Math[o(450)](C),v=f[o(476)]==="layer"?a[o(419)].filter(Y=>Y.id===f.layerId&&Y.visible):a[o(419)].filter(Y=>Y[o(438)]);let T=o(439),q,E,R=1/0;for(const Y of v){const U=Y.scale??1,Z=_*U,J=Y.widthScale??1,P=g.VLPwg(_,2)*J*U,Q=.28,X=Math.max(0,g.koAsR(Y.radius,g.JvFHc(Z,Q))),I=360/Math.max(1,Y.petalCount);for(let H=0;H<Y.petalCount;H++)if(g[o(403)](g.cZPhX,o(449))){const w=Y.offsetAngle+g.JvFHc(H,I),m=g[o(440)](na,w),z=g[o(426)](Math[o(450)](m),X),N=Math[o(467)](m)*X,A=g.koAsR(D,z),G=g.koAsR(b,N),k=Math[o(450)](-m),j=Math.sin(-m),B=g.WSAKN(A*k,G*j),O=A*j+g.oepAV(G,k),K=g[o(423)](B,Z),F=g.VLPwg(O,P);if(K<-.05||g.qJhgV(K,1.08)||g[o(443)](Math[o(466)](F),.75))continue;const te=Math[o(405)](K-.5,F);if(g.dJZBp(te,R))continue;R=te,q=Y.id,E=H,Math[o(466)](F)>.45?T="width":g.oyxes(K,.75)?T="rotate":T=g[o(404)]}else{const w=_0x45c2cc.scale??1,m=_0x2e0715*w,z=.28,N=_0x192def.max(0,g[o(434)](_0x573b71[o(455)],m*z));if(N>0){const G=_0x30fa99.abs(_0x4c00a7-N);if(g.nnmVE(G,6))return{zone:g.irgRy,layerId:_0x426ce8.id}}}}if(g[o(403)](T,o(439)))if(g[o(444)]!=="tXdrK"){let Y=12;for(const J of a[o(419)]){if(!J.visible)continue;const P=J.scale??1,Q=g.OmwlB(_,P),X=.28,I=Math[o(451)](0,J[o(455)]-Q*X);Y=Math.max(Y,I+Q)}const U=8,Z=Math.abs(p-Y);if(g.ciPOl(Z,U))return{zone:g.dmWiL}}else return o(442)+_0xc1826e+'move_object_cursor_32.png") 16 16, move';return{zone:T,layerId:q,petalIndex:E}}function M0(u,r,a){const i=Nt,f={uWCtz:function(o,g){return o===g},Nqrxy:"center",qiQut:function(o,g){return o!=g},Tlszi:function(o,g){return o-g},OSLnG:function(o,g){return o*g},ZZkmD:i(474)};if(f[i(460)](u,f[i(468)]))return f.Nqrxy;if(u==="none")return"none";switch(r){case"flower":{if(f[i(460)](u,"scale"))return"scale";if(u==="rotate"&&a?.[i(461)]&&a[i(422)]&&f.qiQut(a[i(401)],null)){let o,g=-1/0;for(const _ of a.flower.layers){if(!_[i(438)])continue;const d=_[i(474)]??1,h=a[i(401)]*d,p=.28,y=Math.max(0,f.Tlszi(_[i(455)],f[i(428)](h,p))),S=y+h;S>g&&(g=S,o=_.id)}return a.hitLayerId===o?i(433):i(474)}return f[i(425)]}case"layer":return u;case i(408):case i(464):return f[i(425)];default:return f[i(425)]}}function im(u,r,a,i){const f=Nt,o={FulyR:function(E,R){return E*R},bixKd:function(E,R){return E-R},PFsEK:function(E,R){return E-R},Trxqb:function(E,R){return E/R},csbLR:"none",cDQmu:function(E,R){return E>R},gLEID:f(433),cjpYY:f(474)},g=a.fabricSquareSize??i.fabricSquareSize,{length:_,width:d}=It(g),h=a[f(474)]??1,p=_*h,y=o[f(457)](d*(a.widthScale??1),h),S=o.bixKd(u,a[f(420)].x),C=o[f(421)](r,a[f(420)].y),D=na(-(a.rotation??0)),b=o[f(457)](S,Math.cos(D))-C*Math[f(467)](D),v=S*Math.sin(D)+C*Math[f(450)](D),T=o.Trxqb(b,p),q=v/y;return T<-.05||T>1.08?"none":Math[f(466)](q)>.75?o.csbLR:Math[f(466)](q)>.45?f(410):o[f(416)](T,.75)?o.gLEID:T>.3?o.cjpYY:f(413)}function tr(u,r){const a=Nt,i={JRMXT:a(472)};switch(u){case"rotate":return a(442)+r+a(462);case"scale":return a(442)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case a(410):return'url("'+r+a(453);case a(413):return ur(r);case a(439):default:return i[a(412)]}}function Hd(u,r){const a=Nt,i={QggGl:"center",NqLps:"rotate",pOfaw:"radius",ZuoOb:function(f,o){return f(o)},hhvMP:a(439),zbpbB:a(472)};switch(u){case i[a(400)]:return a(427);case i[a(409)]:return a(442)+r+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return'url("'+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return'url("'+r+a(453);case i[a(406)]:return a(442)+r+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case"move":return i.ZuoOb(ur,r);case i.hhvMP:default:return i[a(469)]}}function I0(){const u=["D2LKDgG","zK53CKO","sLjnwfq","Bw92zq","mtu3nZu4mfvNtNDpAG","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","y0rrBxu","mJa5nJKWnwfZu3z5rq","EefSu2q","Bgf5zxjZ","Cg9ZAxrPB24","uezZruS","zMXVD2vY","vKXqD2C","owHXvKHwqG","wLPRBuq","sNzgsgm","Cg9PBNrLCG","t1nmBKC","sfD6u2e","BM5TvKu","Bgf5zxjjza","txPWwNm","CM90yxrL","yLfpANu","mZm2ntm0zwjcAg1M","Bgf5zxi","mte5vwnRA25x","DMLZAwjSzq","BM9Uzq","Bw9rsue","kcGOlISPkYKRksSK","DxjSkci","tMTNEKi","sxnTEuy","EenNsgG","zMLUza","mZyXmJy0uvL4zLzR","mZG1odq0ndbNywjpAwW","B3ztAMi","y29Z","Bwf4","EMvkuwm","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","s3vHDw8","CMfKAxvZ","mZi1odG4nfvrs1DMzG","rNvSEvi","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","rLD2qxm","DvDdDhO","AgL0tgf5zxjjza","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","y29UC3rYDwn0B3i","Cgv0ywXZ","C2vHCMnO","ywjZ","C2LU","tNfYEhK","EMjWyKi","zMfICMLJu3f1yxjLu2L6zq","Afbzr24","z3jHyG","y2vUDgvY","C2nHBgu","CM90yxrPB24","A2LUza","uwDNr2W","BgvUz3rO","C2Dks00","t1nSEKO","zg1xAuW","AhLWB3q","Ce9MyxC","otaYmZyWuhfju3ni","Cgv0ywW","tNfmChm"];return I0=function(){return u},I0()}function ur(u){return'url("'+u+'move_object_cursor_32.png") 16 16, move'}function Kn(u){return Nt(442)+u+'move_object_active_32.png") 16 16, grabbing'}function rm(u){return Nt(442)+u+'move_stencil_cursor_32.png") 16 16, move'}function um(u){const r=Nt;return'url("'+u+r(458)}(function(u,r){const a=Vn,i=u();for(;;)try{if(-parseInt(a(325))/1+-parseInt(a(256))/2*(parseInt(a(276))/3)+parseInt(a(270))/4*(parseInt(a(250))/5)+-parseInt(a(243))/6+parseInt(a(237))/7*(-parseInt(a(280))/8)+-parseInt(a(282))/9+parseInt(a(300))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,589155);const cm=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),jx=cm(void 0,function(){const u=Vn;return jx[u(333)]()[u(257)](u(287)).toString()[u(324)](jx).search(u(287))});jx();function G0(){const u=["s0jgqMG","ywjZ","A2LUza","zwPbAwG","DxbKyxrLv2LKDgHty2fSzurYywC","nZK4oxPdsMDkwq","y3vYCMvUDfn2zW","tMnit2q","Bgf5zxi","mJu3nKjKBgjqtq","DxbKyxrLuM90yxrPB25eCMfN","nZG2mJeXmKnMEgvqCG","zejfA3i","Cwj0zNG","ELD5wwG","tfn0q0S","kcGOlISPkYKRksSK","Bgf5zxjjza","BxvSDgLtDgfYDfbVC2L0Aw9UCW","Cg9PBNrLCKLK","C3rHCNrtDMC","rMnNueu","ruHAswS","ChjVAMvJDa","Bw92zwq","C2vqz1K","C2v0ug9PBNrLCKnHChr1CMu","zMLUza","C3rHCNrAB29T","mJK2nJa2mJbsAgX3C3u","zMXVD2vYCW","BenQvge","zMXVD2vYswrZ","C3rHCNrqB3m","zMXVD2vY","C3P5vMe","AhftCeG","u1vzDKO","EfDZu3q","Dg9vz0G","uhj3CNm","BNHOseC","Cg9ZAxrPB24","BwLHC3e","zMjwque","AhLWB3q","BwfW","y2XPzw50wa","DfbtC2m","y3vYCMvUDa","vwTZyMK","BgvHDMvZ","wg1AtgK","y29UC3rYDwn0B3i","mJC2mtKYEuv2Bw5S","Eg5SA0S","B0TeyuW","EKHTD1K","yMvyB0u","v2HWDNu","qvnrrKy","C3rHCNrdBgLLBNq","Dg9tDhjPBMC","vxDZwNm","q0rbuKO","DwvwtgO","ChvZAa","mtKYndniv3LTvvK","BgvUz3rO","y2XPy2TqzxrHBa","C3rHCNq","CM90yxrPB25eCMfNuMvM","BgvHzKLKCW","mta1nJGWngfjDef1ra","yNryB2u","qvj4zeu","zw5KuMfKAxvZrhjHzW","DxbKyxrLuMfKAxvZrhjHzW","zhzjtw0","y3vYCMvUDfrHCMDLDa","ndu2mdeWDxzLBLrU","rwrdsvO","Cgv0ywW","rgPjENq","yMvNAw5xAwr0AfnJywXLrhjHzW","DxbKyxrLu2nHBgveCMfN","odC4CxfcvKH0","C2vHCMnO","AurzuNq","y2XPzw50wq","BwL4zwq","BwLU","zMXVD2vYswq","sNDXBLC","BhHLBfC","EuTXtvG","AfrgsKC","EunLshG","Aw5KzxG","EKj6sfG","ndrKvvz4yKG"];return G0=function(){return u},G0()}function Vn(u,r){u=u-234;const a=G0();let i=a[u];if(Vn.giNoBv===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Vn.vbzRcP=f,Vn.HTEBrw={},Vn.giNoBv=!0}const o=a[0],g=u+o,_=Vn.HTEBrw[g];if(_)i=_;else{const d=function(h){this.YoXOYc=h,this.LchRrk=[1,0,0],this.VmjSXu=function(){return"newState"},this.iRorfa="\\w+ *\\(\\) *{\\w+ *",this.FlGMRF=`['|"].+['|"];? *}`};d.prototype.pdKwAK=function(){const h=new RegExp(this.iRorfa+this.FlGMRF),p=h.test(this.VmjSXu.toString())?--this.LchRrk[1]:--this.LchRrk[0];return this.WlbBdD(p)},d.prototype.WlbBdD=function(h){return~h?this.NQvUEk(this.YoXOYc):h},d.prototype.NQvUEk=function(h){for(let p=0,y=this.LchRrk.length;p<y;p++)this.LchRrk.push(Math.round(Math.random())),y=this.LchRrk.length;return h(this.LchRrk[0])},new d(Vn).pdKwAK(),i=Vn.vbzRcP(i),Vn.HTEBrw[g]=i}return i}const ii=500*xn;function xm(u){const r=Vn,a={Uksbi:function(I,H){return I-H},ueVLj:function(I,H){return I-H},zBzHX:function(I,H){return I(H)},Uobhe:function(I,H){return I+H},lCjTa:function(I,H){return I!==H},lxelW:r(286),cDBtn:function(I,H){return I(H)},edhGP:function(I,H){return I(H)},AeXCL:function(I,H){return I===H},tPSsc:function(I,H){return I(H)},NcHOd:r(305),EHZIk:function(I,H){return I===H},DjIzt:"JfcxI",zWyYh:r(309),ASQFF:function(I,H){return I===H},mUnrX:r(326),ttJXo:function(I,H){return I(H)},RvcFy:r(294),iDYRt:function(I,H){return I>=H},XmZLi:function(I,H){return I+H},JwqnW:function(I,H){return I<=H},sePgY:function(I,H){return I>H},zfeQI:"yQAIn",nxhHG:r(248),hTFJG:function(I,H){return I(H)},Whpvu:r(260),fbVAA:function(I,H){return I===H},miasq:function(I,H){return I(H)},GfKoR:function(I,H){return I(H)},zHmwY:r(322),yKqMX:"bkxce",CDARJ:function(I,H){return I(H)},coJcH:function(I,H){return I(H)},JkdEC:r(267),hqSpH:"QARYb",UwsZs:function(I,H){return I??H},RYavy:function(I,H){return I+H},wpFTZ:function(I,H,w,m){return I(H,w,m)},aJvMf:function(I,H){return I+H},BrtuI:function(I,H){return I/H},zhGmg:function(I,H){return I-H},szyVa:function(I,H){return I+H},ARxdE:r(283),btXoe:function(I,H,w,m,z){return I(H,w,m,z)},AFErn:function(I,H){return I===H},tYBZr:"petal",CxnuC:function(I,H){return I(H)}},{project:i,selection:f,setSelection:o,applyUpdate:g,dragRef:_,zoom:d,pan:h,setPan:p,stageRef:y,clientToSvgPoint:S,togglePetalSelection:C}=u,D=lm({project:i,applyUpdate:g,stageRef:y,clientToSvgPoint:S}),b=a.CxnuC(ee.useRef,null),v=I=>{const H=r;I.preventDefault(),I.currentTarget?.setPointerCapture?.(I[H(290)]),b[H(320)]={start:{x:I.clientX,y:I[H(259)]},pan0:{...h}}},T=I=>{const H=r;if(!b[H(320)])return;const w=a.Uksbi(I.clientX,b.current[H(240)].x),m=a[H(235)](I.clientY,b[H(320)].start.y);a[H(269)](p,{x:a.Uobhe(b[H(320)].pan0.x,w),y:b[H(320)].pan0.y+m})},q=()=>{const I=r;a[I(302)]("rmkbZ",a[I(264)])?b[I(320)]=null:_0x321db9=_0x52a543.map(H=>{const w=I,m=_0x1e7ae4[w(301)].find(z=>z.id===H);return{id:H,x:m?.[w(313)].x??0,y:m?.[w(313)].y??0}})},E=ee.useRef(null),[R,Y]=ee.useState(null);return{beginPan:v,updatePan:T,endPan:q,marqueeRef:E,marqueeRect:R,beginMarquee:I=>{const H=r;I.preventDefault(),I[H(249)]?.[H(297)]?.(I[H(290)]);const w=a.cDBtn(S,I);E.current={startSvg:w,currentSvg:w},Y(null)},updateMarquee:I=>{const H=r;if(!E.current)return;const w=a.edhGP(S,I);E[H(320)][H(277)]=w;const m=E[H(320)][H(291)],z=Math.min(m.x,w.x),N=Math[H(261)](m.y,w.y),A=Math.abs(a[H(235)](w.x,m.x)),G=Math.abs(a.Uksbi(w.y,m.y));Y({x:z,y:N,w:A,h:G})},endMarquee:()=>{const I=r,H={nFXsS:a.NcHOd,KBFBh:function(w,m){return w===m},beXoE:function(w,m){return w===m},ffLWe:function(w,m){return w!==m},oKDaL:function(w,m){return w(m)}};if(a[I(293)](a[I(253)],a[I(285)]))_0x56c192({kind:H.nFXsS,flowerId:_0x4e1633.flowerId});else{const w=E.current;if(E[I(320)]=null,!w)if(a.ASQFF("NCWls",a.mUnrX))_0x178256.push(_0x288911.id);else{Y(null);return}const m=w.startSvg,z=w.currentSvg;if(Math[I(316)](z.x-m.x,a[I(321)](z.y,m.y))<3){a.ttJXo(o,{kind:a.RvcFy}),Y(null);return}const A=Math.min(m.x,z.x),G=Math.min(m.y,z.y),k=Math[I(272)](z.x-m.x),j=Math[I(272)](z.y-m.y),B=[];for(const K of i[I(301)])K.position.x>=A&&K.position.x<=a.Uobhe(A,k)&&a[I(258)](K[I(313)].y,G)&&K.position.y<=a[I(323)](G,j)&&(I(308)!==I(274)?B[I(236)](K.id):a.AeXCL(_0x5be136[I(238)],1)?a.tPSsc(_0x2ed7c8,{kind:a[I(278)],flowerId:_0x4541bb[0]}):a.zBzHX(_0x364768,{kind:"flowers",flowerIds:_0x375858}));const O=[];for(const K of i[I(322)]??[])K[I(313)].x>=A&&a[I(263)](K.position.x,A+k)&&K[I(313)].y>=G&&a[I(263)](K.position.y,G+j)&&O.push(K.id);B[I(238)]>0&&a[I(296)](O[I(238)],0)?a.ASQFF(a.zfeQI,a[I(312)])?((H[I(271)](_0x5547b9.kind,I(294))||H[I(271)](_0x505490[I(273)],H.nFXsS)&&_0x27838d[I(262)]!==_0x410d7c.flowerId||H.KBFBh(_0x469015[I(273)],I(279))&&_0x5512b9[I(262)]!==_0x8e06aa[I(262)]||H[I(329)](_0x2f1aa4.kind,"petal")&&H.ffLWe(_0x373096[I(262)],_0x4d5000[I(262)]))&&H[I(327)](_0x17e642,{kind:"flower",flowerId:_0x2ea602.flowerId}),_0x2b4e9c(()=>{},!0)):a[I(266)](o,{kind:a[I(330)],flowerIds:B,leafIds:O}):B[I(238)]>0?a[I(315)](B.length,1)?o({kind:a.NcHOd,flowerId:B[0]}):a[I(314)](o,{kind:"flowers",flowerIds:B}):O.length>0?a[I(315)](O.length,1)?a.GfKoR(o,{kind:"leaf",leafId:O[0]}):a[I(319)](o,{kind:a[I(328)],leafIds:O}):a.ttJXo(o,{kind:"project"}),Y(null)}},beginFlowerDrag:(I,H,w)=>{const m=r,z={RLkWe:function(j,B){return j>B},HgVIN:function(j,B){return j!==B}};H.preventDefault(),H.currentTarget?.[m(297)]?.(H.pointerId);const N=i[m(301)][m(298)](j=>j.id===I);if(!N)return;let A=null,G=null;if(f.kind===m(301)&&f[m(303)].includes(I))A=f[m(303)][m(317)](j=>{const B=m;if(a[B(302)]("SXksd",a[B(265)])){const O=i[B(301)].find(K=>K.id===j);return{id:j,x:O?.position.x??0,y:O?.[B(313)].y??0}}else{const O=_0x15bd36(_0x4145ce,_0x5dde97);z.RLkWe(O[B(238)],1)&&(_0x2e33b2=O.map(K=>{const F=B,te=_0x1a9e3c[F(301)][F(298)](se=>se.id===K);return{id:K,x:te?.position.x??0,y:te?.position.y??0}}))}});else{const j=jh(i,I);a.sePgY(j.length,1)&&(a.JkdEC===a.JkdEC?A=j[m(317)](B=>{const O=m,K=i.flowers[O(298)](F=>F.id===B);return{id:B,x:K?.position.x??0,y:K?.position.y??0}}):a[m(234)](_0x592d17,{kind:"leaves",leafIds:_0xa9500e}))}const k=ul(i,I);k&&a.sePgY(k.leafIds.length,0)&&(m(310)!==a[m(307)]?G=k[m(242)][m(317)](j=>{const B=m;if(z.HgVIN(B(311),B(311)))_0x3a497a=_0x4ceda4[B(303)].map(O=>{const K=_0x201866.flowers.find(F=>F.id===O);return{id:O,x:K?.position.x??0,y:K?.position.y??0}});else{const O=(i.leaves??[])[B(298)](K=>K.id===j);return{id:j,x:O?.[B(313)].x??0,y:O?.[B(313)].y??0}}}):a.coJcH(_0x7e7dbd,{kind:a.Whpvu,flowerIds:_0x16193e,leafIds:_0x5935bc})),_[m(320)]={flowerId:I,startClient:{x:H.clientX,y:H[m(259)]},startPos:{...N.position},moved:!1,clickPetal:a[m(334)](w,null),isShiftPressed:H.shiftKey||!1,multiStartPositions:A,leafStartPositions:G,startZoom:d}},updateFlowerDrag:I=>{const H=r,w={FcgPE:function(k,j,B,O){return k(j,B,O)},EdCIZ:function(k,j){return a.RYavy(k,j)},TPwXd:function(k,j,B,O){return a.wpFTZ(k,j,B,O)},qbtfx:function(k,j){return a.aJvMf(k,j)},KtBmz:function(k,j){return k+j}},m=_.current;if(!m)return;const z=a.Uksbi(I[H(318)],m.startClient.x)/m[H(299)],N=a.BrtuI(a.Uksbi(I[H(259)],m.startClient.y),m.startZoom),A=a.zhGmg(I[H(318)],m[H(332)].x),G=I.clientY-m.startClient.y;a[H(306)](Math[H(272)](A),Math.abs(G))>4&&(m[H(295)]=!0),g(k=>{const j=H;if(m.multiStartPositions)for(const B of m[j(289)]){const O=k[j(301)].find(K=>K.id===B.id);O&&(O.position.x=w[j(292)](ye,w[j(251)](B.x,z),0,ii),O[j(313)].y=ye(w.EdCIZ(B.y,N),0,ii))}else{const B=k[j(301)].find(O=>O.id===m[j(262)]);if(!B)return;B.position.x=w.TPwXd(ye,w[j(284)](m.startPos.x,z),0,ii),B[j(313)].y=ye(w.EdCIZ(m[j(304)].y,N),0,ii)}if(m.leafStartPositions)for(const B of m.leafStartPositions){const O=(k[j(322)]??[])[j(298)](K=>K.id===B.id);O&&(O.position.x=ye(B.x+z,0,ii),O[j(313)].y=w.TPwXd(ye,w.KtBmz(B.y,N),0,ii))}},!1)},endFlowerDrag:()=>{const I=r;if(a.AeXCL("dBEkr",a[I(245)])){const H=_.current;if(!H)return;!H[I(295)]&&H.clickPetal?H.isShiftPressed?a[I(244)](C,H.flowerId,H.clickPetal[I(288)],H[I(239)][I(268)],!0):o({kind:I(252),flowerId:H.flowerId,layerId:H.clickPetal[I(288)],index:H[I(239)][I(268)]}):H[I(295)]&&((a.fbVAA(f[I(273)],a.RvcFy)||a[I(331)](f[I(273)],I(305))&&a[I(302)](f[I(262)],H[I(262)])||f[I(273)]==="layer"&&f[I(262)]!==H.flowerId||a.AFErn(f[I(273)],a.tYBZr)&&f.flowerId!==H[I(262)])&&o({kind:a.NcHOd,flowerId:H[I(262)]}),g(()=>{},!0)),_.current=null}else _0xac56d6=_0x336775.leafIds.map(H=>{const w=I,m=(_0x1c0c79.leaves??[]).find(z=>z.id===H);return{id:H,x:m?.[w(313)].x??0,y:m?.[w(313)].y??0}})},scaleDragRef:D.scaleDragRef,beginScaleDrag:D.beginScaleDrag,updateScaleDrag:D[r(255)],endScaleDrag:D.endScaleDrag,rotationDragRef:D[r(241)],beginRotationDrag:D.beginRotationDrag,updateRotationDrag:D[r(281)],endRotationDrag:D.endRotationDrag,widthScaleDragRef:D.widthScaleDragRef,beginWidthScaleDrag:D[r(254)],updateWidthScaleDrag:D[r(275)],endWidthScaleDrag:D.endWidthScaleDrag,radiusDragRef:D.radiusDragRef,beginRadiusDrag:D.beginRadiusDrag,updateRadiusDrag:D[r(247)],endRadiusDrag:D[r(246)]}}function sm({className:u}){return x.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function ri(u){const r=!!u.selected,a=!!u.muted,i=4+(u.level||0)*12+(u.leftOffset||0),f=Math.max(0,i),o=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",g="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:_=>{u.onDoubleClick&&(_.stopPropagation(),u.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${o}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?x.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:u.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?x.jsx("button",{type:"button",className:`${g} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:_=>{_.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(sm,{className:"h-4 w-4"})}):x.jsx("div",{className:`${g} shrink-0`,"aria-hidden":!0})]})]})}function om(u){const{project:r,selection:a,setSelection:i,isExpanded:f,toggleExpanded:o,scheduleFlowerRowClick:g,handleFlowerRowDoubleClick:_,addFlower:d,deleteSelected:h,addOuterLayer:p,deleteOuterLayer:y,deleteFlowerById:S,deleteLayerById:C,treeScrollRef:D,setExpandedFlowers:b}=u,v=(U,Z)=>{const J=a.kind==="flower"&&a.flowerId===U.id,P=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(U.id),Q=J||P,X="",I=f(U.id),H=U.layers&&U.layers.length>0,w=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:m=>{m.stopPropagation(),p(U.id)},"aria-label":"Add outer layer",children:"+"}),H&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:m=>{m.stopPropagation(),y(U.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":U.id,"data-testid":`tree-flower-${U.id}`,style:{paddingLeft:Z},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${I?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:I?"Collapse layers":"Expand layers",onClick:m=>{m.stopPropagation(),o(U.id)},"aria-label":I?"collapse":"expand","data-tree-toggle":!0,children:I?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ri,{label:U.name,marker:X,selected:Q,showTrash:J,onTrash:()=>S(U.id),rightActions:w,onClick:()=>g(U.id),onDoubleClick:()=>_(U.id),level:0,leftOffset:-18})})]}),I&&U.layers.slice().sort((m,z)=>z.order-m.order).map(m=>{const z=(a.kind==="layer"||a.kind==="petal")&&a.layerId===m.id;return x.jsx(ri,{label:`${m.order}. ${m.name}`,marker:"",selected:z,showTrash:z,onTrash:()=>C(U.id,m.id),onClick:()=>{i({kind:"layer",flowerId:U.id,layerId:m.id}),b(N=>({...N,[U.id]:!0}))},level:0,leftOffset:10,muted:!m.visible},m.id)})]},U.id)},T=u.groups,q=new Set(T.flatMap(U=>U.flowerIds)),E=r.flowers.filter(U=>!q.has(U.id)),R=new Set(T.flatMap(U=>U.leafIds)),Y=u.leaves.filter(U=>!R.has(U.id));return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex gap-1 flex-wrap",children:[x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:h,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),x.jsxs("div",{className:"mt-1.5",ref:D,"data-testid":"layer-tree",children:[x.jsx(ri,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),T.length>0&&x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsx("div",{className:"flex items-center px-0.5",children:x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),x.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...T].reverse().map(U=>{const Z=a.kind==="group"&&a.groupId===U.id,J="",P=u.isGroupExpanded(U.id);return x.jsxs("div",{"data-group-id":U.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${P?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:P?"":"",onClick:Q=>{Q.stopPropagation(),u.toggleGroupExpanded(U.id)},"aria-label":P?"collapse group":"expand group",children:P?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ri,{label:U.name,marker:J,selected:Z,onClick:()=>u.onSelectGroup(U.id),level:0,leftOffset:-18})})]}),P&&U.flowerIds.map(Q=>{const X=r.flowers.find(I=>I.id===Q);return X?v(X,12):null}),P&&U.leafIds.map(Q=>{const X=u.leaves.find(H=>H.id===Q);if(!X)return null;const I=a.kind==="leaf"&&a.leafId===X.id||a.kind==="leaves"&&a.leafIds.includes(X.id)||a.kind==="mixed"&&a.leafIds.includes(X.id);return x.jsx(ri,{label:` ${X.name}`,selected:I,showTrash:I,onTrash:()=>u.onDeleteLeaf(X.id),onClick:()=>u.onSelectLeaf(X.id),level:0,leftOffset:12,muted:!X.visible},X.id)})]},U.id)})})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:d,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...E].reverse().map(U=>v(U,0)),E.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[[...Y].reverse().map(U=>{const Z=a.kind==="leaf"&&a.leafId===U.id||a.kind==="leaves"&&a.leafIds.includes(U.id)||a.kind==="mixed"&&a.leafIds.includes(U.id);return x.jsx(ri,{label:U.name,selected:Z,showTrash:Z,onTrash:()=>u.onDeleteLeaf(U.id),onClick:()=>u.onSelectLeaf(U.id),level:0,leftOffset:0,muted:!U.visible},U.id)}),u.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const xe=Qn;(function(u,r){const a=Qn,i=u();for(;;)try{if(-parseInt(a(475))/1+parseInt(a(427))/2*(parseInt(a(481))/3)+-parseInt(a(478))/4+parseInt(a(459))/5+-parseInt(a(405))/6*(parseInt(a(413))/7)+-parseInt(a(457))/8+parseInt(a(422))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,480118);const fm=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),zx=fm(void 0,function(){const u=Qn,r={HPuMA:"(((.+)+)+)+$"};return zx.toString().search(r.HPuMA)[u(414)]().constructor(zx)[u(492)](r.HPuMA)});zx();function R0(){const u=["qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","qYaTnJyGodySic02nca3ocWGlty0idy4","qYaTmZaGntqSic00oca0ocWGltyYidq0","qYa2ocaZmcWGnZyGndqSidGWidyY","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYaTntyGmZySic01mcaYnIWGltqYide4","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","mtHwuvfzALy","qYa0mIa2mIWGndaGntaSidqYidm4","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","qYaYmcaXndGSideWide1mcWGmcaXnta","tcaTndaGmtqY","CMLNAhq","tsaTndaGmtm0","mJiYoteXnw5dD1DuEa","Dg9tDhjPBMC","q29Jwfe","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","l3rZDw1HBwKV","AgvPz2H0","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYa0nca1ncWGmtyGndGSic0Xmca0nG","mtm1nZGYmJHSEMLmEg8","qYa4mIa3ncWGodmGodySidGYidK4","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYa2nsa4mcWGnJGGoduSidC0idKW","otCZntqWEw92CLH0","DLzkAMS","tsaWida","qYa2nca3ocWGnJyGodySidy2idK0","qvvvuxu","tcaTmti1idi4ma","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYaTmJGGndySic00mca0ncWGltuWidq0","qYa3oca0mcWGnZGGntqSidCYidyY","qYaZmcaXntiSidmYide2nIWGntuGmJaY","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYaTndmGmZiSic00ncaYocWGltq2idi2","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","tcaTmZaGmJqW","C3rLBMnPBhmVy2HPBgrFBgvMDc5WBMC","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYaXocaXlca0mcaXmcWGntiGmJy","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYaXnsaTmIWGmZGGltuSidu1idu","qYaYmcaWlca0nca2lca1ocaYma","tsaTndaGmtqY","qYaXncaTncWGmZyGltqSidq4idq","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","tsaTndyGmJy","BgvMDa","tcaTotiGmJGW","mZG2odmYmhfoCNndAW","v0jxveS","ndCYndaYmhHnAhPTAG","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","qYa2nca0ncWGnJqGntaSidyZidu2","qYa3oca5mYWGodiGotySidGZidK5","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYaTnZGGndaSic03oca1ncWGltCYidyY","C2LKzq","qYaYocaXotGSidm0idiXmIWGndGGmJi4","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","tcaTmZyGmJGW","r0fyvgi","qYaTnJqGntiSic02mcaZocWGltuYidi2","mtq0nZGWvNzgCfPd","qYa3mIa2osWGnJKGnZiSidy2idC2","qYa3mcaXmdySidCWideWocWGnZmGmteW","mZuWntK3mLzitvbNqq","qYa2nsaXmIWGnZiGmJySidC2idqY","qYaTndyGodySic00mIaXmdySic00mcaXmJy","m2zvD1jjCG","tsa0nIaYnG","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYa3oca1mIWGnZCGnJaSidC0idy2","tcaTndaGmtm0","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","qYaTodmGodySic04mIa3ncWGltGWidyY","C2vHCMnO","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYaTmJiGnIWGlteWideSidaGma","qYaTnJGGotySic03mca4ncWGlty2idC0","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","tsaWidCW","ywr1Bhq","AM9PBG","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYa2nIa2ocWGntyGnZaSidq4idy2","qYa2mcaZocWGnJqGntiSidy0idy4","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","qYaTndqGnIWGltiWidaSidaGma","qYaTndaGmtaSic0XocaXlcaWida","ChLIv3C","t3ruuvy"];return R0=function(){return u},R0()}const e1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},t1={adult:"",child:""},n1={right:"",left:"",back:""},dm=[xe(429),xe(448),xe(479),xe(486),xe(476),xe(426),xe(465),xe(461),xe(477),"C 75 112, 74 115, 72 118",xe(404),xe(407),xe(434),xe(463),xe(471),"C -17 249, -25 259, -33 269",xe(472),xe(432),"C -112 260, -96 242, -82 226",xe(408),"C -42 182, -38 174, -36 166","C -34 158, -36 150, -40 142",xe(483),"C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44",xe(402),xe(467),"C -4 -1, -1 -1, 0 0","Z"][xe(388)](" "),hm=[xe(429),"C 20 0, 44 6, 58 20",xe(400),xe(423),"C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134","C 72 142, 60 152, 48 162","C 38 172, 32 180, 30 188",xe(470),"C 58 240, 74 258, 92 280",xe(456),"C -74 258, -58 240, -48 228",xe(490),"C -32 180, -38 172, -48 162",xe(484),"C -82 128, -84 122, -84 116",xe(397),xe(491),"C -76 44, -68 30, -58 20",xe(393),"Z","M 0 70","C 16 66, 34 70, 42 82",xe(489),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82",xe(417),"Z"][xe(388)](" "),mm=[xe(429),"C 14 -4, 36 -4, 48 4",xe(444),xe(464),"C 62 60, 59 64, 57 68","C 57 71, 59 75, 63 79","C 65 81, 66 83, 66 85","C 66 86, 62 88, 58 90","C 57 91, 57 93, 59 95","C 60 97, 58 101, 54 106",xe(403),"C 32 125, 28 131, 26 139","C 22 151, 14 167, -2 183",xe(452),xe(441),"L -100 240",xe(392),"C -48 176, -42 168, -38 158","C -35 150, -36 142, -40 134",xe(488),xe(495),"C -62 64, -56 54, -50 44","C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z"].join(" "),bm=["M 0 0",xe(445),xe(391),"C 64 78, 66 86, 66 94",xe(453),"C 54 120, 44 130, 38 140",xe(437),"C 60 214, 66 228, 70 240","L -70 240",xe(460),"C -32 166, -30 152, -38 140",xe(462),"C -64 106, -66 100, -66 94",xe(398),xe(474),xe(394),"Z","M 46 26","C 54 20, 66 22, 72 32",xe(436),xe(390),xe(406),xe(416),"Z",xe(454),xe(493),xe(468),"C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38",xe(439),"Z"][xe(388)](" "),gm=["M 0 0",xe(448),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76","C 48 74, 20 64, -8 58",xe(399),xe(402),"C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z",xe(450),"C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56",xe(485),"C -58 50, -54 58, -50 70",xe(480),xe(410),"Z"][xe(388)](" "),vm=["M 0 0",xe(449),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134",xe(438),"C 8 160, -8 160, -20 158",xe(424),xe(496),xe(397),xe(491),"C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",xe(386),"C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116",xe(447),xe(409),"C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116",xe(389),xe(417),"Z"][xe(388)](" "),pm=["M 0 0",xe(451),xe(444),"C 64 44, 64 50, 63 56",xe(421),xe(435),xe(401),xe(494),"Z",xe(412),xe(488),"C -68 96, -70 84, -66 74",xe(420),xe(425),"C -38 94, -36 112, -38 126",xe(487),"Z"].join(" "),ym=["M 0 0","C 18 1, 40 10, 52 26",xe(391),xe(430),"C 66 100, 64 106, 60 112",xe(466),"C 0 127, -12 126, -26 124","C -46 118, -60 112, -60 112",xe(443),"C -66 86, -64 78, -64 68",xe(474),"C -40 10, -18 1, 0 0","Z",xe(482),"C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62",xe(390),xe(406),"C 43 32, 44 28, 46 26","Z",xe(454),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66",xe(433),xe(439),"Z"].join(" ");function _m(u,r){const a=xe,i={uyABX:function(o,g){return o===g},TTLbk:a(387)},f=i.uyABX(r,"right")||r==="left";return u===i.TTLbk?f?dm:hm:f?mm:bm}function Sm(u,r){const a=xe,i={mvhQn:a(411),CocXQ:function(o,g){return o===g},PKkfD:"left",TGJXQ:"side",SZXOo:"back",pybWw:function(o,g){return o===g},Ihwgd:function(o,g){return o===g},nTXGn:"adult",vVJjk:"mFPgX"},f=i[a(395)](r,a(411))||i[a(395)](r,"left");if(i.Ihwgd(u,i.nTXGn)){if(i[a(428)]!=="RvzMF")return f?gm:vm;{const o=_0x53c13b===i.mvhQn||i[a(415)](_0x44c093,i.PKkfD)?i.TGJXQ:i.SZXOo,g=_0x2857b8[_0x2cfbf5][o];return{width:g.width*_0x71a343,height:g.height*_0x40e0db}}}return f?pm:ym}const Cm={right:"/tsumami/stencils/adult_right.png",left:"/tsumami/stencils/adult_left.png",back:xe(418)+"stencils/adult_back.png"},wm={right:xe(418)+xe(446),left:"/tsumami/"+xe(442),back:"/tsumami/"+xe(440)},Mm={adult:Cm,child:wm};function Qn(u,r){u=u-386;const a=R0();let i=a[u];if(Qn.zZopuU===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Qn.NahViI=f,Qn.GEpppb={},Qn.zZopuU=!0}const o=a[0],g=u+o,_=Qn.GEpppb[g];if(_)i=_;else{const d=function(h){this.qArZeR=h,this.gMmzwH=[1,0,0],this.xQoXNo=function(){return"newState"},this.maBVEL="\\w+ *\\(\\) *{\\w+ *",this.DsHtIa=`['|"].+['|"];? *}`};d.prototype.iZrRFB=function(){const h=new RegExp(this.maBVEL+this.DsHtIa),p=h.test(this.xQoXNo.toString())?--this.gMmzwH[1]:--this.gMmzwH[0];return this.aYaDyT(p)},d.prototype.aYaDyT=function(h){return~h?this.tkmNrg(this.qArZeR):h},d.prototype.tkmNrg=function(h){for(let p=0,y=this.gMmzwH.length;p<y;p++)this.gMmzwH.push(Math.round(Math.random())),y=this.gMmzwH.length;return h(this.gMmzwH[0])},new d(Qn).iZrRFB(),i=Qn.NahViI(i),Qn.GEpppb[g]=i}return i}function jm(u,r){const a=xe,i={OtTQV:function(_,d){return _===d},EcdVM:a(469),AUUQu:"back",WBWTK:function(_,d,h){return _(d,h)},HOBWU:function(_,d){return _===d}},f=r===a(411)||i[a(396)](r,a(455))?i.EcdVM:i[a(431)],o=e1[u][f],g=Mm[u]?.[r]??null;return{path:_m(u,r),hairPath:i[a(458)](Sm,u,r),scaleX:i.HOBWU(r,"left")?-1:1,imageUrl:g,imageWidthMm:o.width,imageHeightMm:o[a(419)]}}(function(u,r){const a=On,i=u();for(;;)try{if(parseInt(a(549))/1+parseInt(a(510))/2*(parseInt(a(540))/3)+-parseInt(a(493))/4*(-parseInt(a(547))/5)+parseInt(a(524))/6+parseInt(a(556))/7*(-parseInt(a(507))/8)+parseInt(a(530))/9+parseInt(a(492))/10*(-parseInt(a(565))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,406169);const zm=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),Dx=zm(void 0,function(){const u=On;return Dx[u(521)]().search("(((.+)+)+)+$").toString().constructor(Dx)[u(494)]("(((.+)+)+)+$")});Dx();function O0(){const u=["Dg91y2HLCW","wuDut3u","Aw5PDgLHBerPC3q","ndG2nZaZuvfPAhbJ","Dg9W","CwH0Cve","AhLADfe","A29QDg0","Aw5PDgLHBfPVB20","ywjZ","BfzPugq","BgvUz3rO","nZy2n0TfuMrVCG","tu9uuNC","DhrfzwC","Aw5PDgLHBfbHBG","zgrht2q","mteYnJbJser3Euy","nZaXmMLAvuf0CG","C2vHCMnO","ywrKrxzLBNrmAxn0zw5LCG","z2v0qM91BMrPBMDdBgLLBNrszwn0","A0ziCgi","EM9VBuXLDMvS","y1DuqwC","y2XPzw50wa","txfPuuK","yuHsD2G","rgvpEu0","DKTrCMG","vgv4B3m","tuXnBwu","mZj5ELL1C2O","y3vYCMvUDa","zw5VB3C","mty4ogjNrKTyvG","CgfU","qwPeC2i","wfjzC3m","Dg91y2HTB3zL","vKP3EMC","qLbLzKS","AhLWB3q","yuzlD2q","sKPRDxu","AgvPz2H0","Dg9tDhjPBMC","Dg9gAxHLza","qvbTze8","nZe4mJa2vM5Hq0jZ","mxWYFdb8nhWZ","rNLyEK8","uKXbv0O","Dg91y2HLBMq","wezeA3e","ntq5mtiXnvbNzMvQra","B1fqvLq","sMLIrvO","rfbzBe8","BfbyvfG","BgvMDa","C0L1u3G","EM9VBq","CMvTB3zLrxzLBNrmAxn0zw5LCG","rfzzuKK","nduZBwjSD2LY","D2LKDgG","D2HLzwW","Aw5PDgLHBenLBNrLCG","y2XPzw50wq","BwnYq04","ELnzExC","mty1nvrzwePHqq","ChjLDMvUDerLzMf1Bhq","mZe1odrZsvziu0e","rffQDMK","tMnLBMi","C3bSAxq"];return O0=function(){return u},O0()}function On(u,r){u=u-488;const a=O0();let i=a[u];if(On.LsMJeQ===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};On.zhACrn=f,On.aDCIwN={},On.LsMJeQ=!0}const o=a[0],g=u+o,_=On.aDCIwN[g];if(_)i=_;else{const d=function(h){this.gIOOMy=h,this.GOVwfN=[1,0,0],this.BRvBUz=function(){return"newState"},this.ezESSh="\\w+ *\\(\\) *{\\w+ *",this.GImdvD=`['|"].+['|"];? *}`};d.prototype.ukKRzH=function(){const h=new RegExp(this.ezESSh+this.GImdvD),p=h.test(this.BRvBUz.toString())?--this.GOVwfN[1]:--this.GOVwfN[0];return this.mZldJr(p)},d.prototype.mZldJr=function(h){return~h?this.ogramV(this.gIOOMy):h},d.prototype.ogramV=function(h){for(let p=0,y=this.GOVwfN.length;p<y;p++)this.GOVwfN.push(Math.round(Math.random())),y=this.GOVwfN.length;return h(this.GOVwfN[0])},new d(On).ukKRzH(),i=On.zhACrn(i),On.aDCIwN[g]=i}return i}const ox=520;function Kd(u,r,a,i,f,o,g){const _=On,d={JJkuu:function(p,y){return p-y},MOTRw:function(p,y){return p/y},fsrTP:function(p,y){return p*y},FyXzO:function(p,y){return p-y},myrlQ:function(p,y){return p*y},RLAWJ:function(p,y){return p+y},MBBHl:function(p,y){return p*y}},h=d[_(519)](d[_(488)](i,a),1);return{x:g.x-d.fsrTP(h,-g.x+u*f),y:d[_(526)](g.y,d.myrlQ(h,d[_(527)](-g.y,d.MBBHl(r,o))))}}function Dm(u){const r=On,a={aFKwd:function(w,m){return w===m},lViPd:function(w){return w()},UcSco:function(w){return w()},NojGS:function(w){return w()},ttEeg:function(w){return w()},VmFVh:function(w,m){return w+m},enoow:function(w,m){return w/m},DPYlO:function(w,m){return w-m},mghzK:function(w,m){return w/m},znCFK:function(w,m){return w-m},qhtqQ:function(w,m){return w/m},oQPVT:function(w,m,z,N){return w(m,z,N)},mcrCN:function(w,m){return w(m)},XFDkq:function(w,m){return w*m},DQjvi:function(w,m){return w-m},kojtm:function(w,m){return w-m},JibEZ:function(w,m){return w*m},MLMme:function(w,m){return w-m},hyZtQ:function(w,m){return w/m},XRYss:function(w,m){return w+m},BPefK:function(w,m){return w*m},NFdIb:function(w,m){return w(m)},MBoob:function(w,m){return w===m},Texos:function(w,m){return w-m},ddGOd:function(w,m){return w-m},APmdO:function(w,m){return w+m},DeOyM:r(501),zSYyw:function(w,m){return w/m},sIuSx:function(w,m){return w/m},VJwzg:function(w,m){return w*m},wsUNY:function(w,m){return w-m},DVYRI:function(w,m){return w<m},wsjAd:function(w,m){return w*m},DTVAC:function(w,m,z,N){return w(m,z,N)},AjDsb:function(w,m){return w*m},MZZCq:function(w,m,z,N,A,G,k,j){return w(m,z,N,A,G,k,j)},ovJgJ:"touchstart",lPXTX:r(528),Ncenb:function(w,m,z,N,A,G,k,j){return w(m,z,N,A,G,k,j)},LGIjO:function(w,m){return w(m)},SMDFI:function(w){return w()},PXRHm:function(w,m){return w/m},tMpsd:function(w,m){return w(m)},cWTAg:function(w,m,z){return w(m,z)},YGTOu:function(w,m,z){return w(m,z)}},{setZoom:i,setPan:f,setZoomLevel:o,ZOOM_LEVELS:g,stageRef:_,endPan:d,endFlowerDrag:h,endMarquee:p,endRotationDrag:y,endScaleDrag:S,endWidthScaleDrag:C,endRadiusDrag:D}=u,b=a[r(545)](ee.useRef,null),v=ee.useRef(u[r(511)]),T=a.tMpsd(ee.useRef,u[r(537)]);ee.useEffect(()=>{const w=r;v[w(508)]=u.pan},[u.pan]),ee.useEffect(()=>{const w=r;T.current=u[w(537)]},[u.zoom]);const q=ee.useRef(u.zoomLevel);a[r(499)](ee.useEffect,()=>{const w=r;q[w(508)]=u[w(498)]},[u.zoomLevel]);const E=ee.useRef(null),R=ee.useRef(null),Y=a.cWTAg(ee.useCallback,w=>{const m=r;if(a[m(518)](w.touches.length,2)){w.preventDefault(),a.lViPd(d),a.lViPd(h),p(),y(),a.UcSco(S),a.NojGS(C),a[m(489)](D),E.current=null,R.current=null;const z=w[m(553)][0],N=w.touches[1],A=a.VmFVh(z.clientX,N[m(500)])/2,G=a[m(509)](z.clientY+N.clientY,2),k=Math[m(517)](a[m(533)](N.clientX,z[m(500)]),N[m(544)]-z.clientY);b[m(508)]={initialCenter:{x:A,y:G},initialDist:k,initialPan:{...v[m(508)]},initialZoom:T.current}}},[d,h,p,y,S,C,D]),U=a.cWTAg(ee.useCallback,w=>{const m=r;if(a.MBoob(w[m(553)][m(564)],2)&&b[m(508)]){w.preventDefault();const z=w.touches[0],N=w[m(553)][1],A=a.enoow(z.clientX+N[m(500)],2),G=a[m(558)](z.clientY+N.clientY,2),k=Math[m(517)](a.Texos(N[m(500)],z[m(500)]),a[m(491)](N.clientY,z.clientY)),j=b.current,B=a.hyZtQ(k,Math.max(1,j[m(555)])),O=a[m(531)](ye,Number((j.initialZoom*B).toFixed(3)),g[0],g[a[m(560)](g.length,1)]),K=j[m(561)],F=a[m(505)](A,j[m(543)].x),te=G-j.initialCenter.y;let se=a[m(523)](j.initialPan.x,F),fe=j[m(490)].y+te;const he=_[m(508)];if(he&&K!==O)if(a[m(503)]!==m(502)){const de=he.getBoundingClientRect(),pe=a.zSYyw(j.initialCenter.x-de.left,de[m(541)]),Ie=a[m(546)](j[m(543)].y-de[m(557)],de[m(520)]),Oe=a[m(536)](de.width,de.height),at=ox,nt=a[m(515)](at,Oe),At=a.JibEZ(a.wsUNY(a[m(509)](O,K),1),-j[m(490)].x+pe*nt),bt=a[m(550)](a[m(536)](O,K),1)*a.VmFVh(-j.initialPan.y,Ie*at);se-=At,fe-=bt}else{_0x36d296.preventDefault();const de=_0x49bbc4[m(553)][0],pe=_0x440c0c[m(553)][1],Ie=(de[m(500)]+pe.clientX)/2,Oe=a.mghzK(de[m(544)]+pe[m(544)],2),at=_0x42c304[m(517)](a.znCFK(pe[m(500)],de[m(500)]),pe[m(544)]-de[m(544)]),nt=_0x19afc5.current,At=a[m(558)](at,_0x28d76a.max(1,nt[m(555)])),bt=a.oQPVT(_0x486471,a.mcrCN(_0x256d7a,a[m(529)](nt.initialZoom,At)[m(522)](3)),_0x312519[0],_0x42efa0[_0xa3bdf2.length-1]),ft=nt[m(561)],Lt=Ie-nt[m(543)].x,Xt=a.znCFK(Oe,nt.initialCenter.y);let sn=a.VmFVh(nt[m(490)].x,Lt),on=nt.initialPan.y+Xt;const Ze=_0x13e98f[m(508)];if(Ze&&ft!==bt){const Wt=Ze[m(496)](),Un=a.DQjvi(nt[m(543)].x,Wt[m(535)])/Wt[m(541)],Zn=a[m(560)](nt.initialCenter.y,Wt[m(557)])/Wt.height,Fn=Wt.width/Wt[m(520)],$n=_0x5b171d,wn=a.XFDkq($n,Fn),aa=a.JibEZ(a.MLMme(a[m(559)](bt,ft),1),a.XRYss(-nt[m(490)].x,a[m(532)](Un,wn))),fn=a[m(532)](a.DQjvi(bt/ft,1),a.XRYss(-nt[m(490)].y,a[m(516)](Zn,$n)));sn-=aa,on-=fn}const Jt={x:sn,y:on};_0x38566c.current=bt,_0x19d13b.current=Jt,a.NFdIb(_0x2618d8,Jt),_0xfbfcb6(bt)}const ge={x:se,y:fe};T.current=O,v.current=ge,a.mcrCN(f,ge),i(O)}},[f,i,_,g]),Z=ee.useCallback(w=>{const m=r;a[m(539)](w[m(553)][m(564)],2)&&(b.current=null)},[]),J=.003,P=ee.useCallback(w=>{const m=r;w.preventDefault();const z=_.current;if(!z)return;const N=T[m(508)],A=N*Math.exp(a.wsjAd(-w.deltaY,J)),G=a.DTVAC(ye,A,g[0],g[a[m(560)](g[m(564)],1)]);if(Math[m(562)](G-N)<1e-6)return;const k=z[m(496)](),j=a.mghzK(a[m(506)](w.clientX,k.left),k.width),B=(w.clientY-k[m(557)])/k[m(520)],O=k[m(541)]/k.height,K=ox,F=a[m(512)](K,O),te=a.MZZCq(Kd,j,B,N,G,F,K,v.current);T.current=G,v.current=te,a.NFdIb(i,G),f(te)},[i,f,_,g]);ee.useEffect(()=>{const w=r,m={lKwqg:"touchstart",vKQrh:w(514)},z=_.current;if(z)return z[w(495)](a.ovJgJ,Y,{passive:!1}),z[w(495)](w(514),U,{passive:!1}),z.addEventListener(a[w(534)],Z),z.addEventListener(w(542),P,{passive:!1}),()=>{const N=w;z[N(538)](m.lKwqg,Y),z[N(538)](m[N(504)],U),z[N(538)](N(528),Z),z.removeEventListener(N(542),P)}},[_,Y,U,Z,P]);const Q=a[r(554)](ee.useCallback,w=>{const m=r,z=q.current,N=ye(z+w,0,g.length-1);if(a.MBoob(N,z))return;const A=T[m(508)],G=g[N],k=_[m(508)];if(!k){a.NFdIb(o,N);return}const j=k.getBoundingClientRect(),B=a.enoow(j.width,j.height),O=ox,K=a[m(512)](O,B),F=a[m(551)](Kd,.5,.5,A,G,K,O,v[m(508)]);T[m(508)]=G,q.current=N,v[m(508)]=F,o(N),a.LGIjO(f,F)},[o,f,_,g]),X=a.cWTAg(ee.useCallback,(w,m)=>{const z=r;if(a.MBoob("AHOcT",z(497))){_0xfd2da1[z(548)](),_0x44e89d(),_0x49cfd3(),a.lViPd(_0x3fe943),a.SMDFI(_0x1e769e),_0x2e2c35(),a[z(563)](_0x33ce2b),_0x30f701(),_0x1527b8[z(508)]=null,_0x147972[z(508)]=null;const N=_0x39bc45[z(553)][0],A=_0x262047[z(553)][1],G=a.PXRHm(a[z(513)](N.clientX,A.clientX),2),k=(N[z(544)]+A.clientY)/2,j=_0x54bbab[z(517)](a.DPYlO(A.clientX,N[z(500)]),A.clientY-N[z(544)]);_0x50cdb7[z(508)]={initialCenter:{x:G,y:k},initialDist:j,initialPan:{..._0x397f97.current},initialZoom:_0x556bbe[z(508)]}}else{const N=z(525)[z(552)]("|");let A=0;for(;;){switch(N[A++]){case"0":v.current={x:0,y:0};continue;case"1":q.current=w;continue;case"2":T.current=m;continue;case"3":f({x:0,y:0});continue;case"4":a.NFdIb(o,w);continue}break}}},[o,f]),I=ee.useCallback(w=>{const m=r;E[m(508)]=w},[]),H=ee.useCallback(w=>{const m=r;R[m(508)]=w},[]);return{multiTouchRef:b,touchBgStartRef:E,mouseBgStartRef:R,zoomAtCenter:Q,resetView:X,setTouchBgStart:I,setMouseBgStart:H}}function ui(u,r){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),i=parseInt(u.slice(3,5),16),f=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(f))return u;const o=1-r;return`#${Math.round(a*o).toString(16).padStart(2,"0")}${Math.round(i*o).toString(16).padStart(2,"0")}${Math.round(f*o).toString(16).padStart(2,"0")}`}function Nm(u){const{flower:r,project:a,paletteMap:i}=u,f=ee.useRef(null),o=ee.useRef(!1),g=ee.useRef(null);ee.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const _=ee.useMemo(()=>[...r.layers||[]].sort((q,E)=>q.order-E.order),[r.layers]),d=r.fabricSquareSize??a.fabricSquareSize,{length:h,width:p}=It(d),{flowerOuterR:y,centerHitR:S}=ee.useMemo(()=>{let q=12,E=1/0;for(const Y of _){if(!Y.visible)continue;const U=Y.scale??1,Z=h*U,P=Math.max(0,Y.radius-Z*.28),Q=P+Z;q=Math.max(q,Q),P<E&&(E=P)}isFinite(E)||(E=0);const R=Math.max(E*.9,8);return{flowerOuterR:q,centerHitR:R}},[_,h]),C=(q,E)=>q?.petalOverrides?.find(R=>R.index===E)??null,D="pointer",b=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,v=u.zoneCursorValue??"grab",T=q=>{if(q.stopPropagation(),q.button===0){if(q.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(q)}};return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:q=>{q.stopPropagation(),u.onDoubleClick?.()},style:{cursor:b?v:ur("/tsumami/")},"data-testid":`flower-${r.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,y),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),_.map(q=>{if(!q.visible)return null;const R=i.get(q.colorId)?.hex??"#999",Y=360/Math.max(1,q.petalCount),U=q.scale??1,Z=h*U,P=p*(q.widthScale??1)*U,X=Math.max(0,q.radius-Z*.28),I=rr(""),H=rr(""),w=X+Z,m=u.isSelected&&u.selectedLayerId===q.id,z=u.isSelected&&(u.selectedPetal?.layerId===q.id||(u.selectedPetals?.some(N=>N.layerId===q.id)??!1));return x.jsxs("g",{children:[Array.from({length:q.petalCount}).map((N,A)=>{const G=C(q,A),j=(G?.petalType??q.petalType)===""?I:H,B=i.get(G?.colorId??q.colorId)?.hex??R,O=q.offsetAngle+A*Y,K=na(O),F=Math.cos(K)*X,te=Math.sin(K)*X,se=u.isSelected&&u.selectedPetal?.layerId===q.id&&u.selectedPetal?.index===A,fe=u.isSelected&&(u.selectedPetals?.some(de=>de.layerId===q.id&&de.index===A)??!1),he=se||fe,ge=b?v:ur("/tsumami/");return x.jsxs("g",{transform:`translate(${F} ${te}) rotate(${O})`,children:[x.jsx("path",{d:j,transform:`scale(${Z} ${P})`,fill:B,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:q.locked?.55:.95,style:{cursor:ge},onPointerDown:de=>{if(de.stopPropagation(),de.button!==0)return;const pe=de.shiftKey,Ie=de.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),o.current=!1,pe&&u.onTogglePetalSelection){de.preventDefault(),de.stopPropagation(),u.onTogglePetalSelection(q.id,A,!0);return}if(Ie&&u.onTogglePetalSelection){g.current={x:de.clientX,y:de.clientY};const At=q.id,bt=A;f.current=window.setTimeout(()=>{o.current=!0,f.current=null,u.onTogglePetalSelection?.(At,bt,!0),navigator.vibrate?.(30)},500)}const Oe=u.isSelected&&u.selectedLayerId!=null,at=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||Oe||at){u.onBeginDragFromLayerPetal(q.id,A,de);return}u.onBeginDragFromLayerPetal(q.id,A,de)},onPointerMove:de=>{if(f.current&&g.current){const pe=de.clientX-g.current.x,Ie=de.clientY-g.current.y;Math.hypot(pe,Ie)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:de=>{de.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(q.id)}}),q.doublePetal&&(()=>{const de=q.doublePetal,pe=G?.innerSizeReduction??de.innerSizeReduction??2,Ie=d*(U||1);if(Ie<=0)return null;const at=Math.max(Ie*.3,Ie-pe)/Ie,nt=j,At=G?.innerColorId??de.innerColorId??G?.colorId??q.colorId,bt=i.get(At)?.hex??B,ft=Z*at,Lt=P*at;return x.jsx("path",{d:nt,transform:`scale(${ft} ${Lt})`,fill:bt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:q.locked?.55:.95,pointerEvents:"none"})})(),(he||m||u.isFlowerSelected)&&x.jsx("path",{d:j,transform:`scale(${Z} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${q.id}-${A}`)]},A)}),m&&!z&&x.jsx("circle",{r:w,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},q.id)}),u.isFlowerSelected&&x.jsx("circle",{r:y,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const q=r.center,E=kh(q.size),R=i.get(q.color)?.hex??"#D4A843",Y=q.color2?i.get(q.color2)?.hex??"#C0C0C0":"#D4A843",U=Math.max(E,S);switch(q.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:E,fill:R,stroke:ui(R,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:U,fill:"transparent",style:{cursor:D},onPointerDown:T})]});case"":{const J=E*.42,P=E,Q=E*.12,X=E*.13,I=E*.45,H=Y,w=R;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((m,z)=>{const N=z/10*360,A=na(N),G=Math.cos(A)*P,k=Math.sin(A)*P,j=-Math.sin(A)*Q,B=Math.cos(A)*Q,O=Math.cos(A)*J,K=Math.sin(A)*J;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(O+j).toFixed(2)} ${(K+B).toFixed(2)} L ${G.toFixed(2)} ${k.toFixed(2)} L ${(O-j).toFixed(2)} ${(K-B).toFixed(2)} Z`,fill:H,stroke:ui(H,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:G,cy:k,r:X,fill:H,stroke:ui(H,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},z)}),x.jsx("circle",{r:J,fill:H,stroke:ui(H,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:I,fill:w,stroke:ui(w,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:U,fill:"transparent",style:{cursor:D},onPointerDown:T})]})}case"":{const Z=q.pepCount??12,J=E*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:Z}).map((P,Q)=>{const X=Q/Z*360,I=na(X),H=Math.cos(I)*E,w=Math.sin(I)*E;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:H,y2:w,stroke:R,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:H,cy:w,r:Math.max(J,1),fill:R,stroke:ui(R,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},Q)})}),x.jsx("circle",{r:U,fill:"transparent",style:{cursor:D},onPointerDown:T})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:S,fill:"transparent",style:{cursor:D},onPointerDown:T})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:S,fill:"transparent",style:{cursor:D},onPointerDown:T})]}),(()=>{if(!u.isSelected||!u.selectedLayerId)return null;const q=_.find(J=>J.id===u.selectedLayerId);if(!q||!q.visible||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0)return null;const R=q.scale??1,Y=h*R,Z=Math.max(0,q.radius-Y*.28);return Z<=0?null:x.jsx("circle",{r:Z,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),u.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,y+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function Am(u){const{leaf:r,project:a,paletteMap:i}=u,f=r.fabricSquareSize??a.fabricSquareSize,{length:o,width:g}=It(f),_=r.scale??1,d=o*_,h=g*(r.widthScale??1)*_,p=rr(r.petalType),y=i.get(r.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":u.cursor??ur("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:S=>{if(S.stopPropagation(),S.button===0&&!r.locked){if(S.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(S)}},children:[x.jsx("path",{d:p,transform:`scale(${d} ${h})`,fill:y,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const S=r.doublePetal,C=S.innerSizeReduction??2,D=f*(_||1);if(D<=0)return null;const v=Math.max(D*.3,D-C)/D,T=S.innerColorId??r.colorId,q=i.get(T)?.hex??y,E=d*v,R=h*v;return x.jsx("path",{d:p,transform:`scale(${E} ${R})`,fill:q,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),u.isLeafGroupHighlighted&&!u.isSelected&&x.jsx("path",{d:p,transform:`scale(${d*1.06} ${h*1.06})`,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`grp-${u.dashSyncToken??0}-${r.id}`),u.isSelected&&(()=>{const C=-.08*d,D=-.62*h,b=(1.02+.08*2)*d,v=(.54+.08)*2*h;return x.jsxs(x.Fragment,{children:[x.jsx("rect",{x:C,y:D,width:b,height:v,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`sel-rect-${u.dashSyncToken??0}-${r.id}`),x.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})})()]})}const il=1350;function Tm(u){const{stencils:r,selectedStencilId:a,selection:i,stageRef:f,applyUpdateRef:o,clientToSvgPointRef:g,stencilDraggingRef:_,onSelectStencil:d}=u,h=ee.useRef(null);ee.useEffect(()=>()=>{h.current?.()},[]);const p=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return x.jsx(x.Fragment,{children:r.map(y=>{const S=jm(y.variant,y.pose),C=a===y.id,D=xn,b=S.imageUrl?1:S.scaleX,v=p||!!y.locked;return x.jsx("g",{transform:`translate(${y.position.x} ${y.position.y}) scale(${D*b} ${D})`,style:{cursor:p?"default":y.locked?"pointer":rm("/tsumami/"),pointerEvents:p?"none":"auto"},"data-testid":`stencil-${y.id}`,onPointerDown:T=>{if(T.button!==0)return;if(v){d(y.id);return}if(T.stopPropagation(),d(y.id),!f.current)return;_.current=!0,f.current&&(f.current.style.cursor=um("/tsumami/"));const E=g.current(T),R={...y.position},Y=y.id;let U=R.x,Z=R.y;const J=Q=>{const X=g.current(Q),I=X.x-E.x,H=X.y-E.y;U=ye(R.x+I,0,il),Z=ye(R.y+H,0,il),o.current(w=>{const m=(w.stencils??[]).find(z=>z.id===Y);m&&(m.position.x=U,m.position.y=Z)},!1)},P=()=>{_.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",P),h.current=null,o.current(Q=>{const X=(Q.stencils??[]).find(I=>I.id===Y);X&&(X.position.x=U,X.position.y=Z)},!0)};document.addEventListener("pointermove",J),document.addEventListener("pointerup",P),h.current=()=>{_.current=!1,document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",P)}},children:S.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:S.imageUrl,x:-S.imageWidthMm/2,y:0,width:S.imageWidthMm,height:S.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-S.imageWidthMm/2,y:0,width:S.imageWidthMm,height:S.imageHeightMm,fill:"transparent",stroke:C?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:S.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:S.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),C&&x.jsx("path",{d:S.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},y.id)})})}function Em(u){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:g,dashSyncToken:_,stageRef:d,multiTouchRef:h,clientToSvgPoint:p,togglePetalSelection:y,handleShiftFlowerSelect:S,groupHighlightedFlowerIds:C,beginFlowerDrag:D,beginScaleDrag:b,beginRotationDrag:v,beginWidthScaleDrag:T,beginRadiusDrag:q,clickOriginRef:E,zoneActivatedRef:R,setZoneCursorValue:Y,setTouchZoneIndicator:U,hoverZoneRef:Z,hoverHitLayerIdRef:J,hoverHitPetalIndexRef:P}=u;return x.jsx(x.Fragment,{children:r.flowers.map(Q=>x.jsx(Nm,{flower:Q,project:r,paletteMap:f,isSelected:a.kind!=="project"&&o===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id)||a.kind==="mixed"&&a.flowerIds.includes(Q.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id)||a.kind==="mixed"&&a.flowerIds.includes(Q.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===Q.id?a.petals:null,onSelect:()=>{const X=ul(r,Q.id);if(X&&!(a.kind==="group"&&a.groupId===X.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&X.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:X.id});return}i({kind:"flower",flowerId:Q.id})},onSelectLayer:X=>i({kind:"layer",flowerId:Q.id,layerId:X}),onSelectPetal:(X,I)=>i({kind:"petal",flowerId:Q.id,layerId:X,index:I}),onTogglePetalSelection:(X,I,H)=>y(Q.id,X,I,H),onShiftSelect:()=>S(Q.id),isGroupHighlighted:C.has(Q.id),zoneCursorValue:g,onBeginDragFromLayerPetal:(X,I,H)=>{if(h.current)return;const w=ul(r,Q.id);if(w&&!(a.kind==="group"&&a.groupId===w.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&w.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:w.id}),D(Q.id,H);return}const m=p(H),z=H.pointerType==="touch",N=a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="petal"&&a.flowerId===Q.id||a.kind==="petals"&&a.flowerId===Q.id;if(z&&N){const{zone:k,layerId:j,petalIndex:B}=ci(m.x,m.y,Q,r,a),{length:O}=It(Q.fabricSquareSize??r.fabricSquareSize),K=M0(k,a.kind,{hitLayerId:j,flower:Q,length:O});if(K!=="none"&&K!=="center"&&K!=="move"){U({x:m.x,y:m.y,zone:K});const F=a.kind==="layer"?"layer":"flower",te=a.kind==="layer"?a.layerId:X;switch(K){case"rotate":v(F,Q.id,H,{layerId:te});return;case"scale":b(F,Q.id,H,{layerId:te});return;case"width":T(F,Q.id,H,{layerId:te,petalIndex:B});return;case"radius":q(F,Q.id,H,{layerId:te});return}}D(Q.id,H,{layerId:X,index:I});return}const A=R.current;E.current={x:m.x,y:m.y},R.current=!1;const G=Z.current;if(N&&(A||G!=="none"&&G!=="center")){const k=G,j=J.current,B=P.current,O=a.kind==="layer"?"layer":"flower",K=a.kind==="layer"?a.layerId:j??X;switch(k){case"rotate":v(O,Q.id,H,{layerId:K});return;case"scale":b(O,Q.id,H,{layerId:K});return;case"width":T(O,Q.id,H,{layerId:K,petalIndex:B});return;case"radius":q(O,Q.id,H,{layerId:K});return;default:Y(Kn("/tsumami/")),d.current&&(d.current.style.cursor=Kn("/tsumami/")),D(Q.id,H,{layerId:X,index:I});return}}Y(Kn("/tsumami/")),d.current&&(d.current.style.cursor=Kn("/tsumami/")),D(Q.id,H,{layerId:X,index:I})},onDoubleClick:()=>i({kind:"flower",flowerId:Q.id}),onPointerDown:X=>{if(h.current||X.button!==0)return;if(X.shiftKey){X.stopPropagation(),S(Q.id);return}const I=ul(r,Q.id);if(I&&!(a.kind==="group"&&a.groupId===I.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&I.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:I.id}),D(Q.id,X);return}a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id)||i({kind:"flower",flowerId:Q.id});const w=p(X);E.current={x:w.x,y:w.y},R.current=!1,Y(Kn("/tsumami/")),d.current&&(d.current.style.cursor=Kn("/tsumami/")),D(Q.id,X)},dashSyncToken:_},Q.id))})}function Lm(u){const{leaves:r,project:a,selection:i,paletteMap:f,dashSyncToken:o,groupHighlightedLeafIds:g,zoneCursorValue:_,stageRef:d,applyUpdateRef:h,clientToSvgPointRef:p,leafDraggingRef:y,clickOriginRef:S,zoneActivatedRef:C,setZoneCursorValue:D,onSelectLeaf:b,onSelectGroup:v,onShiftSelectLeaf:T,hoverLeafZoneRef:q}=u,E=ee.useRef(null);return ee.useEffect(()=>()=>{E.current?.()},[]),x.jsx(x.Fragment,{children:r.map(R=>{if(!R.visible)return null;const Y=i.kind==="leaf"&&i.leafId===R.id,U=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(R.id),Z=g.has(R.id),J=Nl(a,R.id),P=J?.rotation??0;let Q=R;if(J&&P!==0){const X=zh(a,J.id),I=P*Math.PI/180,H=R.position.x-X.x,w=R.position.y-X.y;Q={...R,position:{x:X.x+H*Math.cos(I)-w*Math.sin(I),y:X.y+H*Math.sin(I)+w*Math.cos(I)},rotation:R.rotation+P}}return x.jsx(Am,{leaf:Q,project:a,paletteMap:f,isSelected:Y||U,isLeafGroupHighlighted:Z,dashSyncToken:o,cursor:Y?_:void 0,onPointerDown:X=>{if(R.locked)return;X.stopPropagation();const I=p.current(X);if(J&&!(i.kind==="group"&&i.groupId===J.id||i.kind==="leaf"&&J.leafIds.includes(i.leafId))){v(J.id),y.current=!0,S.current={x:I.x,y:I.y},C.current=!1,D(Kn("/tsumami/")),d.current&&(d.current.style.cursor=Kn("/tsumami/"));const N=I,A=Rd(a,R.id),G=new Map;for(const K of A){const F=r.find(te=>te.id===K);F&&G.set(K,{...F.position})}const k=new Map;if(J)for(const K of J.flowerIds){const F=a.flowers.find(te=>te.id===K);F&&k.set(K,{...F.position})}let j=!1;const B=K=>{const F=p.current(K),te=F.x-N.x,se=F.y-N.y;Math.abs(te)+Math.abs(se)>1&&(j=!0),h.current(fe=>{for(const[he,ge]of G){const de=(fe.leaves??[]).find(pe=>pe.id===he);de&&(de.position.x=ye(ge.x+te,0,il),de.position.y=ye(ge.y+se,0,il))}for(const[he,ge]of k){const de=fe.flowers.find(pe=>pe.id===he);de&&(de.position.x=ye(ge.x+te,0,il),de.position.y=ye(ge.y+se,0,il))}},!1)},O=()=>{E.current=null,y.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",O),j&&h.current(()=>{},!0)};document.addEventListener("pointermove",B),document.addEventListener("pointerup",O),E.current=()=>{y.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",O)};return}const H=Y&&C.current;b(R.id),S.current={x:I.x,y:I.y},C.current=!1,D(Kn("/tsumami/")),d.current&&(d.current.style.cursor=Kn("/tsumami/"));const w=q.current,m=Y&&(H||w!=="none")?w:"move";if(m!=="move"){const z=tr(m,"/tsumami/");D(z),d.current&&(d.current.style.cursor=z)}if(y.current=!0,m==="rotate"){const z=Q.position,N=R.rotation,A=Math.atan2(I.y-z.y,I.x-z.x)*180/Math.PI;let G=!1;const k=B=>{const O=p.current(B),F=Math.atan2(O.y-z.y,O.x-z.x)*180/Math.PI-A;Math.abs(F)>.5&&(G=!0),h.current(te=>{const se=(te.leaves??[]).find(fe=>fe.id===R.id);se&&(se.rotation=((N+F)%360+360)%360)},!1)},j=()=>{E.current=null,y.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",j),G&&h.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",j),E.current=()=>{y.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",j)}}else if(m==="scale"){const z=Q.position,N=R.scale??1,A=Math.max(1,Math.hypot(I.x-z.x,I.y-z.y));let G=!1;const k=B=>{const O=p.current(B),F=Math.hypot(O.x-z.x,O.y-z.y)/A;Math.abs(F-1)>.01&&(G=!0),h.current(te=>{const se=(te.leaves??[]).find(fe=>fe.id===R.id);se&&(se.scale=ye(N*F,.3,3))},!1)},j=()=>{E.current=null,y.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",j),G&&h.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",j),E.current=()=>{y.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",j)}}else if(m==="width"){const z=Q.position,N=R.rotation*Math.PI/180,A=-Math.sin(N),G=Math.cos(N),k=R.widthScale??1,j=Math.abs((I.x-z.x)*A+(I.y-z.y)*G),B=Math.max(1,j);let O=!1;const K=te=>{const se=p.current(te),he=Math.abs((se.x-z.x)*A+(se.y-z.y)*G)/B;Math.abs(he-1)>.01&&(O=!0),h.current(ge=>{const de=(ge.leaves??[]).find(pe=>pe.id===R.id);de&&(de.widthScale=ye(k*he,.3,3))},!1)},F=()=>{E.current=null,y.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",F),O&&h.current(()=>{},!0)};document.addEventListener("pointermove",K),document.addEventListener("pointerup",F),E.current=()=>{y.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",F)}}else{const z=I,N=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(R.id)?i.leafIds:Rd(a,R.id),A=new Map;for(const K of N){const F=r.find(te=>te.id===K);F&&A.set(K,{...F.position})}const G=new Map,k=Nl(a,R.id);if(k)for(const K of k.flowerIds){const F=a.flowers.find(te=>te.id===K);F&&G.set(K,{...F.position})}let j=!1;const B=K=>{const F=p.current(K),te=F.x-z.x,se=F.y-z.y;Math.abs(te)+Math.abs(se)>1&&(j=!0),h.current(fe=>{for(const[he,ge]of A){const de=(fe.leaves??[]).find(pe=>pe.id===he);de&&(de.position.x=ye(ge.x+te,0,il),de.position.y=ye(ge.y+se,0,il))}for(const[he,ge]of G){const de=fe.flowers.find(pe=>pe.id===he);de&&(de.position.x=ye(ge.x+te,0,il),de.position.y=ye(ge.y+se,0,il))}},!1)},O=()=>{E.current=null,y.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",O),j&&h.current(()=>{},!0)};document.addEventListener("pointermove",B),document.addEventListener("pointerup",O),E.current=()=>{y.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",O)}}},onShiftSelect:()=>T(R.id)},R.id)})})}function Bm({rect:u}){return u?x.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function km({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?x.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}function qm(u){const{project:r,selection:a,selectedFlowerId:i,dashSyncToken:f}=u,o=ee.useMemo(()=>i?r.flowers.find(S=>S.id===i)??null:null,[r.flowers,i]),g=ee.useMemo(()=>{if(a.kind==="flowers")return r.flowers.filter(S=>a.flowerIds.includes(S.id));if(a.kind==="mixed")return r.flowers.filter(S=>a.flowerIds.includes(S.id));if(a.kind==="group"){const S=(r.groups??[]).find(C=>C.id===a.groupId);if(S)return r.flowers.filter(C=>S.flowerIds.includes(C.id))}return[]},[r.flowers,r.groups,a]);if(!o&&g.length===0)return null;const _=a.kind==="flower"&&o?.id===i,d=a.kind==="layer"?a.layerId:null,h=a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,p=a.kind==="petals"&&o?a.petals:null,y=o&&(_||d!=null||h!=null||p&&p.length>0);return x.jsxs("g",{pointerEvents:"none",children:[g.map(S=>x.jsx(Ud,{flower:S,project:r,isFlowerSelected:!0,selectedLayerId:null,selectedPetal:null,selectedPetals:null,dashSyncToken:f},`overlay-multi-${S.id}`)),y&&o&&x.jsx(Ud,{flower:o,project:r,isFlowerSelected:_,selectedLayerId:d,selectedPetal:h,selectedPetals:p,dashSyncToken:f},`overlay-single-${o.id}`)]})}function Ud(u){const{flower:r,project:a,isFlowerSelected:i,selectedLayerId:f,selectedPetal:o,selectedPetals:g,dashSyncToken:_}=u,d=ee.useMemo(()=>[...r.layers||[]].sort((T,q)=>T.order-q.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:p,width:y}=It(h),S=ee.useMemo(()=>{let T=12;for(const q of d){if(!q.visible)continue;const E=q.scale??1,R=p*E,Z=Math.max(0,q.radius-R*.28)+R;T=Math.max(T,Z)}return T},[d,p]),C=i||f!=null||o!=null||g&&g.length>0,D=rr(""),b=rr(""),v=(T,q)=>T?.petalOverrides?.find(E=>E.index===q)??null;return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,children:[C&&o==null&&!g?.length&&x.jsx("circle",{r:Math.max(12,S),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke"}),d.map(T=>{if(!T.visible)return null;const q=360/Math.max(1,T.petalCount),E=T.scale??1,R=p*E,U=y*(T.widthScale??1)*E,J=Math.max(0,T.radius-R*.28),P=J+R,Q=f===T.id,X=o?.layerId===T.id||(g?.some(I=>I.layerId===T.id)??!1);return x.jsxs("g",{children:[Array.from({length:T.petalCount}).map((I,H)=>{const z=(v(T,H)?.petalType??T.petalType)===""?D:b,N=T.offsetAngle+H*q,A=na(N),G=Math.cos(A)*J,k=Math.sin(A)*J,j=o?.layerId===T.id&&o?.index===H,B=g?.some(K=>K.layerId===T.id&&K.index===H)??!1;return j||B||Q||i?x.jsx("g",{transform:`translate(${G} ${k}) rotate(${N})`,children:x.jsx("path",{d:z,transform:`scale(${R} ${U})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95},`dash-overlay-${_}-${T.id}-${H}`)},H):null}),Q&&!X&&x.jsx("circle",{r:P,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})]},T.id)}),i&&x.jsx("circle",{r:S,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke"}),(()=>{if(!f)return null;const T=d.find(Z=>Z.id===f);if(!T||!T.visible||o!=null||(g?.length??0)>0)return null;const E=T.scale??1,R=p*E,U=Math.max(0,T.radius-R*.28);return U<=0?null:x.jsx("circle",{r:U,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})})()]})}const Sa=1350;function Im(u){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,setZoom:g,zoomLevel:_,setZoomLevel:d,ZOOM_LEVELS:h,setPan:p,showGrid:y,setShowGrid:S,setShowHelp:C,stageRef:D,viewBox:b,dashDelay:v,dashSyncToken:T,beginPan:q,updatePan:E,endPan:R,beginMarquee:Y,updateMarquee:U,endMarquee:Z,marqueeRef:J,marqueeRect:P,beginFlowerDrag:Q,updateFlowerDrag:X,endFlowerDrag:I,scaleDragRef:H,updateScaleDrag:w,endScaleDrag:m,rotationDragRef:z,updateRotationDrag:N,endRotationDrag:A,widthScaleDragRef:G,updateWidthScaleDrag:k,endWidthScaleDrag:j,radiusDragRef:B,updateRadiusDrag:O,endRadiusDrag:K,beginScaleDrag:F,beginRotationDrag:te,beginWidthScaleDrag:se,beginRadiusDrag:fe,togglePetalSelection:he,clientToSvgPoint:ge}=u,de=ee.useRef(!1),pe=ee.useRef(!1),Ie=ee.useRef(u.applyUpdate),Oe=ee.useRef(ge);ee.useEffect(()=>{Ie.current=u.applyUpdate},[u.applyUpdate]),ee.useEffect(()=>{Oe.current=ge},[ge]);const[at,nt]=ee.useState(!1),At=ee.useRef(null);ee.useEffect(()=>{if(!at)return;const oe=Be=>{At.current&&!At.current.contains(Be.target)&&nt(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[at]);const[bt,ft]=ee.useState("grab"),Lt=ee.useRef("none"),Xt=ee.useRef("none"),sn=ee.useRef(void 0),on=ee.useRef(void 0),Ze=ee.useRef(null),Jt=ee.useRef(!0),Wt=5,Un=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,Zn=ee.useRef(Un);ee.useEffect(()=>{Un!==Zn.current&&(Zn.current=Un,Jt.current=!1,Ze.current=null,Lt.current="none",Xt.current="none",sn.current=void 0,on.current=void 0)},[Un]);const[Fn,$n]=ee.useState(!1),wn=ee.useRef(!1),[aa,fn]=ee.useState(null),Gt=5,Mn=10,Ye=Dm({zoom:u.zoom,pan:u.pan,setZoom:g,setPan:p,zoomLevel:_,setZoomLevel:d,ZOOM_LEVELS:h,stageRef:D,endPan:R,endFlowerDrag:I,endMarquee:Z,endRotationDrag:A,endScaleDrag:m,endWidthScaleDrag:j,endRadiusDrag:K});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${_>=h.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ye.zoomAtCenter(1),disabled:_>=h.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${_<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ye.zoomAtCenter(-1),disabled:_<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>S(oe=>!oe),title:"","aria-label":"","aria-pressed":y,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Ye.resetView(5,h[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:At,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${at?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>nt(oe=>!oe),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),at&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(oe=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:t1[oe]}),["right","left","back"].map(Be=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(oe,Be),nt(!1)},"data-testid":`stencil-add-${oe}-${Be}`,children:n1[Be]},`${oe}-${Be}`))]},oe)),u.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),nt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>C(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:y?"24px 1fr":"1fr",gridTemplateRows:y?"20px 1fr":"1fr"},children:[y&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),y&&(()=>{const[oe,,Be,ke]=b.split(/\s+/).map(Number),Ce=xn,_e=Math.max(Be,ke)/Ce,ze=[10,20,50,100,200,500,1e3].find(Te=>_e/Te<=15)??1e3,we=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Fe=ze<=10?5:ze/2,$e=Math.floor(oe/Ce/we)*we-we,We=Math.ceil((oe+Be)/Ce/we)*we+we,Ve=[];for(let Te=$e;Te<=We;Te+=we){const et=(Te*Ce-oe)/Be*100;if(et<-2||et>102)continue;const Tt=Math.abs(Te),ut=Tt%ze===0,lt=Tt%Fe===0,gt=ut?10:lt?6:3;Ve.push(x.jsx("line",{x1:`${et}%`,y1:20-gt,x2:`${et}%`,y2:20,stroke:"#999",strokeWidth:ut?.8:.4},Te)),ut&&Ve.push(x.jsx("text",{x:`${et}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Te},`t${Te}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Ve})})(),y&&(()=>{const[,oe,Be,ke]=b.split(/\s+/).map(Number),Ce=xn,_e=Math.max(Be,ke)/Ce,ze=[10,20,50,100,200,500,1e3].find(Te=>_e/Te<=15)??1e3,we=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Fe=ze<=10?5:ze/2,$e=Math.floor(oe/Ce/we)*we-we,We=Math.ceil((oe+ke)/Ce/we)*we+we,Ve=[];for(let Te=$e;Te<=We;Te+=we){const et=(Te*Ce-oe)/ke*100;if(et<-2||et>102)continue;const Tt=Math.abs(Te),ut=Tt%ze===0,lt=Tt%Fe===0,gt=ut?10:lt?6:3;Ve.push(x.jsx("line",{x1:24-gt,y1:`${et}%`,x2:24,y2:`${et}%`,stroke:"#999",strokeWidth:ut?.8:.4},Te)),ut&&Ve.push(x.jsx("text",{x:12,y:`${et}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Te},`t${Te}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Ve})})(),x.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:b,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":v,cursor:Fn?"crosshair":"grab"},onDoubleClick:oe=>{oe.target===oe.currentTarget&&($n(Be=>!Be),i({kind:"project"}))},onPointerDown:oe=>{if(Ye.multiTouchRef.current)return;if(oe.button===1){wn.current=!0,D.current&&(D.current.style.cursor="grabbing"),q(oe);return}if(oe.button!==0)return;const Be=oe.pointerType==="touch";if(Be&&oe.target===oe.currentTarget&&o){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Ce=r.flowers.find(_e=>_e.id===o);if(Ce){const _e=ge(oe),{zone:Ae,layerId:ze,petalIndex:we}=ci(_e.x,_e.y,Ce,r,a),{length:Fe}=It(Ce.fabricSquareSize??r.fabricSquareSize),$e=M0(Ae,a.kind,{hitLayerId:ze,flower:Ce,length:Fe});if($e!=="none"&&$e!=="center"){fn({x:_e.x,y:_e.y,zone:$e});const We=a.kind==="layer"?"layer":"flower",Ve=a.kind==="layer"?a.layerId:ze;switch($e){case"rotate":te(We,o,oe,{layerId:Ve});return;case"scale":F(We,o,oe,{layerId:Ve});return;case"width":se(We,o,oe,{layerId:Ve,petalIndex:we});return;case"radius":fe(We,o,oe,{layerId:Ve});return;case"move":Q(o,oe);return}}}}Ye.setTouchBgStart({x:oe.clientX,y:oe.clientY}),q(oe);return}if(oe.target===oe.currentTarget&&o&&bt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Ce=Lt.current;if(Ce!=="none"&&Ce!=="center"){const _e=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:sn.current;switch(Ce){case"rotate":te(_e,o,oe,{layerId:Ae});return;case"scale":F(_e,o,oe,{layerId:Ae});return;case"width":se(_e,o,oe,{layerId:Ae,petalIndex:on.current});return;case"radius":fe(_e,o,oe,{layerId:Ae});return;case"move":Q(o,oe);return}}}if(oe.target===oe.currentTarget&&a.kind==="leaf"&&u.selectedLeafId&&bt!=="grab"){const ke=Xt.current;if(ke!=="none"){const Ce=u.leaves.find(_e=>_e.id===u.selectedLeafId);if(Ce){oe.preventDefault();const _e=ge(oe);if(pe.current=!0,ke==="rotate"){const Ae=Ce.position,ze=Ce.rotation,we=Math.atan2(_e.y-Ae.y,_e.x-Ae.x)*180/Math.PI,Fe=Ce.id,$e=tr(ke,"/tsumami/");ft($e),D.current&&(D.current.style.cursor=$e);let We=!1;const Ve=Rt=>{const et=ge(Rt),ut=Math.atan2(et.y-Ae.y,et.x-Ae.x)*180/Math.PI-we;Math.abs(ut)>.5&&(We=!0),u.applyUpdate(lt=>{const gt=(lt.leaves??[]).find(jn=>jn.id===Fe);gt&&(gt.rotation=((ze+ut)%360+360)%360)},!1)},Te=()=>{pe.current=!1,document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Te),We&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Te);return}else if(ke==="scale"){const Ae=Ce.position,ze=Ce.scale??1,we=Math.max(1,Math.hypot(_e.x-Ae.x,_e.y-Ae.y)),Fe=Ce.id,$e=tr(ke,"/tsumami/");ft($e),D.current&&(D.current.style.cursor=$e);let We=!1;const Ve=Rt=>{const et=ge(Rt),ut=Math.hypot(et.x-Ae.x,et.y-Ae.y)/we;Math.abs(ut-1)>.01&&(We=!0),u.applyUpdate(lt=>{const gt=(lt.leaves??[]).find(jn=>jn.id===Fe);gt&&(gt.scale=Math.max(.3,Math.min(3,ze*ut)))},!1)},Te=()=>{pe.current=!1,document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Te),We&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Te);return}else if(ke==="width"){const Ae=Ce.position,ze=Ce.rotation*Math.PI/180,we=-Math.sin(ze),Fe=Math.cos(ze),$e=Ce.widthScale??1,We=Math.max(1,Math.abs((_e.x-Ae.x)*we+(_e.y-Ae.y)*Fe)),Ve=Ce.id,Te=tr(ke,"/tsumami/");ft(Te),D.current&&(D.current.style.cursor=Te);let Rt=!1;const et=ut=>{const lt=ge(ut),jn=Math.abs((lt.x-Ae.x)*we+(lt.y-Ae.y)*Fe)/We;Math.abs(jn-1)>.01&&(Rt=!0),u.applyUpdate(wa=>{const Ft=(wa.leaves??[]).find(De=>De.id===Ve);Ft&&(Ft.widthScale=Math.max(.3,Math.min(3,$e*jn)))},!1)},Tt=()=>{pe.current=!1,document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",Tt),Rt&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",et),document.addEventListener("pointerup",Tt);return}else{const Ae=_e,ze={...Ce.position},we=Ce.id;ft(Kn("/tsumami/")),D.current&&(D.current.style.cursor=Kn("/tsumami/"));let Fe=!1;const $e=Ve=>{const Te=ge(Ve),Rt=Te.x-Ae.x,et=Te.y-Ae.y;Math.abs(Rt)+Math.abs(et)>1&&(Fe=!0),u.applyUpdate(Tt=>{const ut=(Tt.leaves??[]).find(lt=>lt.id===we);ut&&(ut.position.x=Math.max(0,Math.min(Sa,ze.x+Rt)),ut.position.y=Math.max(0,Math.min(Sa,ze.y+et)))},!1)},We=()=>{pe.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",We),Fe&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",We);return}}}}if(oe.target===oe.currentTarget){Be?(Ye.setTouchBgStart({x:oe.clientX,y:oe.clientY}),q(oe)):Fn?Y(oe):(Ye.setMouseBgStart({x:oe.clientX,y:oe.clientY}),wn.current=!0,D.current&&(D.current.style.cursor="grabbing"),q(oe));return}},onPointerMove:oe=>{if(de.current||pe.current)return;if(J.current){U(oe);return}if(z.current){N(oe);return}if(H.current){w(oe);return}if(G.current){k(oe);return}if(B.current){O(oe);return}X(oe),E(oe);const Be=!!u.dragRef?.current||!!J.current||!!z.current||!!H.current||!!G.current||!!B.current||wn.current,ke=o&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Be&&ke){const Ce=r.flowers.find(_e=>_e.id===o);if(Ce){const _e=ge(oe);if(Ze.current&&!Jt.current){if(Math.hypot(_e.x-Ze.current.x,_e.y-Ze.current.y)<Wt){const{zone:Te}=ci(_e.x,_e.y,Ce,r,a);Te==="center"&&(ft("pointer"),D.current&&(D.current.style.cursor="pointer"));return}Jt.current=!0,Ze.current=null}const{zone:Ae,layerId:ze,petalIndex:we}=ci(_e.x,_e.y,Ce,r,a),{length:Fe}=It(Ce.fabricSquareSize??r.fabricSquareSize),$e=M0(Ae,a.kind,{hitLayerId:ze,flower:Ce,length:Fe});$e!=="none"&&(Lt.current=$e,sn.current=ze,on.current=we);const We=Hd($e,"/tsumami/");ft(We),D.current&&(D.current.style.cursor=We)}}if(!Be&&a.kind==="leaf"&&u.selectedLeafId){const Ce=u.leaves.find(_e=>_e.id===u.selectedLeafId);if(Ce){const _e=ge(oe);if(Ze.current&&!Jt.current){if(Math.hypot(_e.x-Ze.current.x,_e.y-Ze.current.y)<Wt)return;Jt.current=!0,Ze.current=null}const Ae=im(_e.x,_e.y,Ce,r);Ae!=="none"&&(Xt.current=Ae);const ze=tr(Ae,"/tsumami/");ft(ze),D.current&&(D.current.style.cursor=ze)}}},onPointerUp:oe=>{if(!de.current&&!pe.current){if(fn(null),J.current&&Fn&&$n(!1),Z(),A(),m(),j(),K(),I(),R(),wn.current&&(wn.current=!1,D.current&&(D.current.style.cursor=Fn?"crosshair":"grab")),Ye.touchBgStartRef.current&&oe.pointerType==="touch"){const Be=oe.clientX-Ye.touchBgStartRef.current.x,ke=oe.clientY-Ye.touchBgStartRef.current.y;Math.hypot(Be,ke)<Mn&&i({kind:"project"}),Ye.setTouchBgStart(null);return}if(Ye.setTouchBgStart(null),Ye.mouseBgStartRef.current&&oe.pointerType==="mouse"){const Be=oe.clientX-Ye.mouseBgStartRef.current.x,ke=oe.clientY-Ye.mouseBgStartRef.current.y;if(Ye.setMouseBgStart(null),Math.hypot(Be,ke)<Gt){i({kind:"project"});return}}if(Ye.setMouseBgStart(null),o){const Be=r.flowers.find(ke=>ke.id===o);if(Be){const ke=ge(oe);if(Ze.current&&Math.hypot(ke.x-Ze.current.x,ke.y-Ze.current.y)<Wt){const{zone:We}=ci(ke.x,ke.y,Be,r,a);We==="center"&&(ft("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:Ce,layerId:_e,petalIndex:Ae}=ci(ke.x,ke.y,Be,r,a),{length:ze}=It(Be.fabricSquareSize??r.fabricSquareSize),we=M0(Ce,a.kind,{hitLayerId:_e,flower:Be,length:ze});we!=="none"&&(Lt.current=we,sn.current=_e,on.current=Ae);const Fe=Hd(we,"/tsumami/");ft(Fe),D.current&&(D.current.style.cursor=Fe)}}}},onPointerLeave:()=>{Z(),A(),m(),j(),K(),I(),R(),wn.current=!1,Ye.setTouchBgStart(null),Ye.setMouseBgStart(null),ft("grab"),Ze.current=null,Jt.current=!0,Lt.current="none",Xt.current="none",sn.current=void 0,on.current=void 0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[oe,Be,ke,Ce]=b.split(/\s+/).map(Number),_e=Sa;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:oe,y:Be,width:ke,height:Ce,fill:"white"}),x.jsx("rect",{x:0,y:0,width:_e,height:_e,fill:"black"})]})}),x.jsx("rect",{x:oe,y:Be,width:ke,height:Ce,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:Sa,height:Sa,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:Sa,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:Sa,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),y&&(()=>{const oe=xn,[Be,ke,Ce,_e]=b.split(/\s+/).map(Number),Ae=Math.max(Ce,_e)/oe,we=[10,20,50,100,200,500,1e3].find(lt=>Ae/lt<=15)??1e3,Fe=Math.floor(Be/oe/we)*we-we,$e=Math.ceil((Be+Ce)/oe/we)*we+we,We=Math.floor(ke/oe/we)*we-we,Ve=Math.ceil((ke+_e)/oe/we)*we+we,Te=We*oe,Rt=Ve*oe,et=Fe*oe,Tt=$e*oe,ut=[];for(let lt=Fe;lt<=$e;lt+=we){const gt=lt*oe;ut.push(x.jsx("line",{x1:gt,y1:Te,x2:gt,y2:Rt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=We;lt<=Ve;lt+=we){const gt=lt*oe;ut.push(x.jsx("line",{x1:et,y1:gt,x2:Tt,y2:gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return x.jsx("g",{children:ut})})(),x.jsx(Tm,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:Ie,clientToSvgPointRef:Oe,stencilDraggingRef:de,onSelectStencil:u.onSelectStencil}),x.jsx(Em,{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:bt,dashSyncToken:T,stageRef:D,multiTouchRef:Ye.multiTouchRef,clientToSvgPoint:ge,togglePetalSelection:he,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:Q,beginScaleDrag:F,beginRotationDrag:te,beginWidthScaleDrag:se,beginRadiusDrag:fe,clickOriginRef:Ze,zoneActivatedRef:Jt,setZoneCursorValue:ft,setTouchZoneIndicator:fn,hoverZoneRef:Lt,hoverHitLayerIdRef:sn,hoverHitPetalIndexRef:on}),x.jsx(Lm,{leaves:u.leaves,project:r,selection:a,paletteMap:f,dashSyncToken:T,selectedLeafId:u.selectedLeafId,groupHighlightedLeafIds:u.groupHighlightedLeafIds,zoneCursorValue:bt,stageRef:D,applyUpdateRef:Ie,clientToSvgPointRef:Oe,leafDraggingRef:pe,clickOriginRef:Ze,zoneActivatedRef:Jt,setZoneCursorValue:ft,onSelectLeaf:u.onSelectLeaf,onSelectGroup:u.onSelectGroup,onShiftSelectLeaf:u.onShiftSelectLeaf,hoverLeafZoneRef:Xt}),x.jsx(qm,{project:r,selection:a,selectedFlowerId:o,dashSyncToken:T}),x.jsx(Bm,{rect:P}),x.jsx(km,{indicator:aa})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Zd(u,r,a){return Math.min(a,Math.max(r,u))}function Xe({value:u,onChange:r,min:a=-1/0,max:i=1/0,step:f,className:o,...g}){const[_,d]=ee.useState(null),h=ee.useRef(null),p=ee.useCallback(C=>{const D=Number(C);isNaN(D)||r(Zd(D,a,i)),d(null)},[r,a,i]),y=ee.useCallback(()=>{d(null)},[]),S=ee.useCallback(C=>{const D=f??1,v=(Number(_??u)||0)+D*C,T=Zd(v,a,i),q=String(D).includes(".")?String(D).split(".")[1].length:0,E=Number(T.toFixed(q));d(String(E)),r(E)},[_,u,f,a,i,r]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:h,type:"text",inputMode:"decimal",className:o??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:_??String(u),onChange:C=>d(C.target.value),onFocus:C=>{d(String(u)),requestAnimationFrame(()=>C.target.select())},onBlur:()=>{_!==null&&p(_)},onKeyDown:C=>{C.key==="Enter"?(C.preventDefault(),_!==null&&p(_),h.current?.blur()):C.key==="Escape"?(C.preventDefault(),y(),h.current?.blur()):(C.key==="ArrowUp"||C.key==="ArrowDown")&&(C.preventDefault(),S(C.key==="ArrowUp"?1:-1))},...g}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:C=>{C.preventDefault(),S(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:C=>{C.preventDefault(),S(-1)},children:""})]})]})}function sr({title:u,compact:r,children:a}){return x.jsxs("div",{className:r?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),x.jsx("div",{className:"space-y-3",children:a})]})}function Gm({flower:u,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const o=ee.useMemo(()=>{const v=[...u.layers||[]].sort((P,Q)=>P.order-Q.order);if(v.length<2)return{mode:"uniform",step:2};const T=v.map(P=>P.scale??1);if(T.every(P=>Math.abs(P-T[0])<.001))return{mode:"uniform",step:2};const E=v[0],R=v[v.length-1],Y=(R.order??1)-(E.order??1);if(Y<=0)return{mode:"gradual",step:2};const Z=((E.scale??1)-(R.scale??1))/Y,J=Math.round(Z*r*2)/2;return{mode:"gradual",step:ye(J,0,10)}},[u.id]),[g,_]=ee.useState(o.mode),[d,h]=ee.useState(o.step),[p,y]=ee.useState(0);ee.useEffect(()=>{_(o.mode),h(o.step),y(0)},[o]);const S=ee.useMemo(()=>[...u.layers||[]].sort((v,T)=>v.order-T.order),[u.layers]),C=S[0],D=C?C.order:0,b=ee.useMemo(()=>{if(!C)return[];const v=C.scale??1,T=C.radius,q=new Map;for(const P of S){const Q=P.order-D;if(Q===0)q.set(P.id,v);else if(g==="uniform")q.set(P.id,v);else{const X=d/r;q.set(P.id,ye(v-Q*X,.3,3))}}const{length:E}=It(r),R=S.length,Y=70*Math.PI/180,U=new Map;let Z=T;U.set(C.id,T);for(let P=1;P<R;P++){const Q=S[P-1],X=q.get(Q.id)??1,I=E*X;let H;if(a===""){const w=R-1-P,m=R>1?w/(R-1)*Y:0;H=I*(30/100)*Math.cos(m)}else H=I/3;Z=Z-H,U.set(S[P].id,Math.max(2,Z))}const J=S.map(P=>{const Q=q.get(P.id)??1,X=Math.round((U.get(P.id)??T)*10)/10,I=Math.round(r*Q*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:Q,effFabricSize:I,effRadius:X}});if(J.length>0){const P=J[J.length-1],Q=E*P.effScale,X=Math.floor(Q*.28*10)/10;P.effRadius>X&&(P.effRadius=X)}return J},[S,C,D,g,d,30,r,a]);return ee.useEffect(()=>{p!==0&&(!C||b.length===0||i(v=>{const T=v.flowers.find(E=>E.id===u.id);if(!T)return;for(const E of b){const R=T.layers.find(Y=>Y.id===E.id);R&&(R.scale=ye(E.effScale,.3,3),R.radius=ye(E.effRadius,2,120))}const q=[...T.layers].sort((E,R)=>R.order-E.order);for(let E=1;E<q.length;E++){const R=q[E-1],Y=q[E];Y.offsetAngle=rl(R.petalCount,R.offsetAngle,Y.petalCount)}}))},[p]),S.length<2?null:x.jsxs(sr,{title:"",children:[x.jsxs(Cx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:g,onChange:v=>{_(v.target.value),y(T=>T+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),g==="gradual"&&x.jsxs(Cx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,min:0,max:10,step:.5,onChange:v=>{h(v),y(T=>T+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),b.map(v=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:v.name}),x.jsxs("span",{children:[" ",v.effFabricSize,"mm /  ",Math.round(lr(v.effRadius,v.effScale,r)),"mm"]})]},v.id))]})]})}const l1="tsumami_recent_colors_v1",Rx=10;function Rm(u){const r=new Set;for(const a of u.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const f of i.petalOverrides)f.colorId&&r.add(f.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Nx(){try{const u=localStorage.getItem(l1);if(u){const r=JSON.parse(u);if(Array.isArray(r))return r.slice(0,Rx)}}catch{}return[]}function Om(u){try{localStorage.setItem(l1,JSON.stringify(u.slice(0,Rx)))}catch{}}function Ym(u){const r=Nx(),a=[u,...r.filter(i=>i!==u)].slice(0,Rx);Om(a)}function Pn({palette:u,project:r,selectedColorId:a,onChange:i,size:f="md"}){const[o,g]=ee.useState(!1),_=ee.useRef(null),[d,h]=ee.useState(Nx);ee.useEffect(()=>{if(!o)return;const b=v=>{_.current&&!_.current.contains(v.target)&&g(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[o]);const p=ee.useMemo(()=>Rm(r),[r]),y=ee.useMemo(()=>{const b=new Set;b.add(a);for(const v of p)b.add(v);for(const v of d)b.add(v);return u.filter(v=>b.has(v.id))},[u,a,p,d]),S=ee.useCallback(b=>{Ym(b),h(Nx()),i(b)},[i]),C=f==="sm"?"h-4 w-4":"h-5 w-5",D=o?u:y;return x.jsx("div",{ref:_,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(b=>x.jsx("button",{className:`${C} rounded border-2 ${a===b.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:b.hex},title:b.name,"aria-label":`: ${b.name}`,onClick:()=>S(b.id)},b.id)),u.length>y.length&&x.jsx("button",{className:`${C} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>g(b=>!b),title:o?"":"","aria-label":o?"":"",children:x.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:o?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Hm({project:u,applyUpdate:r,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(f=>{const o=f.flowers.find(g=>g.id===a.id);o&&(o.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:xl.map(i=>{const f=a.layers.every(o=>o.petalType===i);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const g=o.flowers.find(_=>_.id===a.id);if(g)for(const _ of g.layers)_.petalType=i}),children:i},i)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Pd.map(i=>{const f=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==i&&r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;g.placementMode=i;const _=g.fabricSquareSize??o.fabricSquareSize;i===""?g.baseDiameter=nr(g.flowerDiameter):g.baseDiameter||(g.baseDiameter=o.baseDiameter),Ih(g.layers,_,i,g.flowerDiameter)},!0)},children:i},i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(Xe,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:i=>r(f=>{const o=f.flowers.find(g=>g.id===a.id);o&&(o.baseDiameter=i)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[nr(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(f=>{const o=f.flowers.find(d=>d.id===a.id);if(!o)return;const g=si(i);for(const d of o.layers)d.petalCount=i,d.widthScale=g;const _=[...o.layers].sort((d,h)=>h.order-d.order);for(let d=1;d<_.length;d++)_[d].offsetAngle=rl(_[d-1].petalCount,_[d-1].offsetAngle,_[d].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Xe,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(f=>{const o=f.flowers.find(_=>_.id===a.id);if(!o)return;o.flowerDiameter=i,o.placementMode===""&&(o.baseDiameter=nr(i));const g=[...o.layers].sort((_,d)=>_.order-d.order);J0(g,o.fabricSquareSize??f.fabricSquareSize,i);for(const _ of g){const d=o.layers.find(h=>h.id===_.id);d&&(d.radius=_.radius,d.scale=_.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(f=>{const o=f.flowers.find(g=>g.id===a.id);if(o)for(const g of o.layers)g.widthScale=i})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(f=>{const o=f.flowers.find(g=>g.id===a.id);o&&(o.rotation=i)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:u.palette,project:u,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(f=>{const o=f.flowers.find(g=>g.id===a.id);if(o)for(const g of o.layers)g.colorId=i})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(f=>{const o=f.flowers.find(g=>g.id===a.id);if(o)for(const g of o.layers)if(i.target.checked){if(!g.doublePetal){const _=g._doublePetalCache;g.doublePetal=_??{innerSizeReduction:2},delete g._doublePetalCache}}else g.doublePetal&&(g._doublePetalCache={...g.doublePetal}),delete g.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(_=>_.doublePetal.innerSizeReduction))],f=i.length===1?i[0]:null,o=[...new Set(a.layers.map(_=>_.doublePetal.innerColorId??_.colorId))],g=o.length===1?o[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:_=>r(d=>{const h=d.flowers.find(p=>p.id===a.id);if(h)for(const p of h.layers)p.doublePetal&&(p.doublePetal.innerSizeReduction=ye(_,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:u.palette,project:u,selectedColorId:g??"",onChange:_=>r(d=>{const h=d.flowers.find(p=>p.id===a.id);if(h)for(const p of h.layers)p.doublePetal&&(_===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=_)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Kh.map(i=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const o=f.flowers.find(g=>g.id===a.id);o?.center&&(o.center.type=i,i===""&&!o.center.pepCount&&(o.center.pepCount=12),i===""&&!o.center.color2&&(o.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:i},i))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(f=>{const o=f.flowers.find(g=>g.id===a.id);o?.center&&(o.center.size=i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Pn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(g=>g.id===a.id);o?.center&&(o.center.color=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Pn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(g=>g.id===a.id);o?.center&&(o.center.color2=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(f=>{const o=f.flowers.find(g=>g.id===a.id);o?.center&&(o.center.pepCount=i)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&delete f.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&(f.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Gm,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Km({project:u,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:f,onAddToGroup:o,onMergeGroups:g}){const _=a,d=[...new Set(_.flatMap(y=>y.layers.map(S=>S.petalType)))],h=d.length===1?d[0]:null,p=y=>{r(S=>{for(const C of _){const D=S.flowers.find(b=>b.id===C.id);D&&y(D)}},!0)};return x.jsxs(sr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[_.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(y=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:y.hex},title:y.name,onClick:()=>p(S=>{for(const C of S.layers)C.colorId=y.id})},y.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:xl.map(y=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(S=>{for(const C of S.layers)C.petalType=y}),children:y},y))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Xe,{min:5,max:24,value:_[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:y=>{const S=si(y);p(C=>{for(const b of C.layers)b.petalCount=y,b.widthScale=S;const D=[...C.layers].sort((b,v)=>v.order-b.order);for(let b=1;b<D.length;b++)D[b].offsetAngle=rl(D[b-1].petalCount,D[b-1].offsetAngle,D[b].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:_.map(y=>x.jsxs("div",{children:[y.name," (",y.layers.length,")"]},y.id))}),(()=>{const y=_.map(v=>ul(u,v.id)),S=_.filter(v=>!ul(u,v.id)).map(v=>v.id),C=[...new Set(y.filter(Boolean).map(v=>v.id))],D=S.length===_.length,b=C.length===1&&y.every(v=>v!=null);return x.jsxs(x.Fragment,{children:[D&&_.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(_.map(v=>v.id)),children:""}),b&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(C[0]),children:""}),C.length===1&&S.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(C[0],S),children:[" (+",S.length,")"]}),C.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>g(C,S),children:[" (",C.length,"",S.length>0?` +${S.length}`:"",")"]})]})})()]})}function Um({project:u,applyUpdate:r,selectedFlowers:a,groups:i,groupId:f,onUngroupFlowers:o,onUngroupAll:g}){const _=i.find(C=>C.id===f);if(!_)return null;const d=a,h=(u.leaves??[]).filter(C=>_.leafIds.includes(C.id)),p=[...new Set(d.flatMap(C=>C.layers.map(D=>D.petalType)))],y=p.length===1?p[0]:null,S=C=>{r(D=>{for(const b of d){const v=D.flowers.find(T=>T.id===b.id);v&&C(v)}},!0)};return x.jsxs(sr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:_.name,onChange:C=>r(D=>{const b=(D.groups??[]).find(v=>v.id===_.id);b&&(b.name=C.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[d.length>0&&x.jsxs("span",{children:[d.length,""]}),d.length>0&&h.length>0&&x.jsx("span",{children:" + "}),h.length>0&&x.jsxs("span",{children:[h.length,""]})]}),d.length>0&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(C=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:C.hex},title:C.name,onClick:()=>S(D=>{for(const b of D.layers)b.colorId=C.id})},C.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:xl.map(C=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===C?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>S(D=>{for(const b of D.layers)b.petalType=C}),children:C},C))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Xe,{min:5,max:24,value:d[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:C=>{const D=si(C);S(b=>{for(const T of b.layers)T.petalCount=C,T.widthScale=D;const v=[...b.layers].sort((T,q)=>q.order-T.order);for(let T=1;T<v.length;T++)v[T].offsetAngle=rl(v[T-1].petalCount,v[T-1].offsetAngle,v[T].petalCount)})}})]}),x.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[d.map(C=>x.jsxs("div",{children:[C.name," (",C.layers.length,")"]},C.id)),h.map(C=>x.jsx("div",{children:C.name},C.id))]}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(_.id),children:""}),x.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>g(_.id),children:""})]})}function Zm({project:u,flowerIds:r,leafIds:a,onGroupMixed:i,onUngroupFlowers:f,onAddToGroup:o,onAddLeavesToGroup:g,onMergeGroups:_}){const d=u.flowers.filter(q=>r.includes(q.id)),h=(u.leaves??[]).filter(q=>a.includes(q.id)),p=r.map(q=>ul(u,q)),y=a.map(q=>Nl(u,q)),S=[...p,...y],C=r.filter(q=>!ul(u,q)),D=a.filter(q=>!Nl(u,q)),b=[...new Set(S.filter(Boolean).map(q=>q.id))],v=C.length+D.length===r.length+a.length,T=b.length===1&&S.every(q=>q!=null);return x.jsxs(sr,{title:"",children:[x.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",d.length," +  ",h.length,""]}),x.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[d.map(q=>x.jsxs("div",{children:[" ",q.name]},q.id)),h.map(q=>x.jsxs("div",{children:[" ",q.name||""]},q.id))]}),x.jsxs(x.Fragment,{children:[v&&d.length+h.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(r,a),children:""}),T&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(b[0]),children:""}),b.length===1&&(C.length>0||D.length>0)&&!v&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{C.length>0&&o(b[0],C),D.length>0&&g(b[0],D)},children:[" (+",C.length+D.length,")"]}),b.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>_(b,C),children:[" (",b.length,")"]})]})]})}function Xm({project:u,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:f=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);_&&(_.name=f.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:xl.map(f=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);_&&(_.petalType=f)}),children:f},f))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:5,max:24,value:i.petalCount,onChange:f=>{r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);if(_){_.petalCount=f,_.widthScale=si(f);const d=[...g.layers].sort((h,p)=>p.order-h.order);for(let h=1;h<d.length;h++)d[h].offsetAngle=rl(d[h-1].petalCount,d[h-1].offsetAngle,d[h].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Xe,{min:1,max:200,step:.5,value:Math.round(lr(i.radius,i.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:f=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);_&&(_.radius=ye(qh(f,_.scale??1,g.fabricSquareSize??o.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Xe,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(i.scale??1)*10)/10,onChange:f=>r(o=>{const g=o.flowers.find(y=>y.id===a.id);if(!g)return;const _=g.layers.find(y=>y.id===i.id);if(!_)return;const d=g.fabricSquareSize??o.fabricSquareSize;_.scale=ye(Math.round(f/d*100)/100,.3,3);const h=[...g.layers].sort((y,S)=>y.order-S.order),p=h.findIndex(y=>y.id===_.id);if(p>=0)for(let y=p-1;y>=0;y--){const S=h[y],C=h[y+1],b=It(d).length*(C.scale??1)/3;S.radius=Math.round((C.radius+b)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:f=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);_&&(_.scale=f)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:f=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);_&&(_.widthScale=f)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{value:Number(i.offsetAngle??0).toFixed(1),onChange:f=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);_&&(_.offsetAngle=f)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:u.palette,project:u,selectedColorId:i.colorId,onChange:f=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);_&&(_.colorId=f)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:f=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);if(_)if(f.target.checked){const d=_._doublePetalCache;_.doublePetal=d??{innerSizeReduction:2},delete _._doublePetalCache}else _.doublePetal&&(_._doublePetalCache={..._.doublePetal}),delete _.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:f=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);_?.doublePetal&&(_.doublePetal.innerSizeReduction=ye(f,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:u.palette,project:u,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:f=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);_?.doublePetal&&(f===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=f)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:f=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);_&&(_.visible=f.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:f=>r(o=>{const g=o.flowers.find(d=>d.id===a.id);if(!g)return;const _=g.layers.find(d=>d.id===i.id);_&&(_.locked=f.target.checked)})}),""]})]})]})]})}function Jm({project:u,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const f=i,o=f.map(v=>{const T=a.layers.find(q=>q.id===v.layerId);return{...v,layer:T}}).filter(v=>v.layer!=null),g=(v,T)=>{const q=a.layers.find(R=>R.id===v);return q?(q?.petalOverrides?.find(R=>R.index===T)??null)?.colorId??q.colorId:null},_=(v,T)=>{const q=a.layers.find(R=>R.id===v);return q?(q?.petalOverrides?.find(R=>R.index===T)??null)?.petalType??q.petalType:null},d=o.map(v=>g(v.layerId,v.index)),h=o.map(v=>_(v.layerId,v.index)),p=d.length>0&&d.every(v=>v===d[0]),S=h.length>0&&h.every(v=>v===h[0])?h[0]:null,C=v=>{r(T=>{const q=T.flowers.find(E=>E.id===a.id);if(q)for(const E of f){const R=q.layers.find(U=>U.id===E.layerId);if(!R)continue;R.petalOverrides||(R.petalOverrides=[]);const Y=R.petalOverrides.find(U=>U.index===E.index);if(Y)v.colorId!==void 0&&(v.colorId===R.colorId?delete Y.colorId:Y.colorId=v.colorId),v.petalType!==void 0&&(v.petalType===R.petalType?delete Y.petalType:Y.petalType=v.petalType),!Y.colorId&&!Y.petalType&&(R.petalOverrides=R.petalOverrides.filter(U=>U.index!==E.index),R.petalOverrides.length===0&&(R.petalOverrides=void 0));else{const U={index:E.index};v.colorId!==void 0&&v.colorId!==R.colorId&&(U.colorId=v.colorId),v.petalType!==void 0&&v.petalType!==R.petalType&&(U.petalType=v.petalType),(U.colorId!==void 0||U.petalType!==void 0)&&R.petalOverrides.push(U)}}},!0)},D=()=>{r(v=>{const T=v.flowers.find(q=>q.id===a.id);if(T)for(const q of f){const E=T.layers.find(R=>R.id===q.layerId);!E||!E.petalOverrides||(E.petalOverrides=E.petalOverrides.filter(R=>R.index!==q.index),E.petalOverrides.length===0&&(E.petalOverrides=void 0))}},!0)},b=o.some(v=>v.layer?.petalOverrides?.find(T=>T.index===v.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",b&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(v=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${p&&d[0]===v.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:v.hex},title:v.name,"aria-label":`: ${v.name}`,onClick:()=>C({colorId:v.id})},v.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:xl.map(v=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>C({petalType:v}),children:v},v))})]}),b&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function Wm({project:u,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:f}){const o=i?.petalOverrides?.find(y=>y.index===f)??null,g=o?.colorId??i.colorId,_=o?.petalType??i.petalType,d=o!=null,h=y=>{r(S=>{const C=S.flowers.find(v=>v.id===a.id);if(!C)return;const D=C.layers.find(v=>v.id===i.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const b=D.petalOverrides.find(v=>v.index===f);if(b)y.colorId!==void 0&&(b.colorId=y.colorId),y.petalType!==void 0&&(b.petalType=y.petalType),y.innerColorId!==void 0&&(b.innerColorId=y.innerColorId),y.innerSizeReduction!==void 0&&(b.innerSizeReduction=y.innerSizeReduction),b.colorId!==void 0||b.petalType!==void 0||b.innerColorId!==void 0||b.innerSizeReduction!==void 0?(b.colorId===void 0&&delete b.colorId,b.petalType===void 0&&delete b.petalType,b.innerColorId===void 0&&delete b.innerColorId,b.innerSizeReduction===void 0&&delete b.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(T=>T.index!==f),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const v={index:f};y.colorId!==void 0&&(v.colorId=y.colorId),y.petalType!==void 0&&(v.petalType=y.petalType),y.innerColorId!==void 0&&(v.innerColorId=y.innerColorId),y.innerSizeReduction!==void 0&&(v.innerSizeReduction=y.innerSizeReduction),(v.colorId!==void 0||v.petalType!==void 0||v.innerColorId!==void 0||v.innerSizeReduction!==void 0)&&D.petalOverrides.push(v)}},!0)},p=()=>{r(y=>{const S=y.flowers.find(D=>D.id===a.id);if(!S)return;const C=S.layers.find(D=>D.id===i.id);!C||!C.petalOverrides||(C.petalOverrides=C.petalOverrides.filter(D=>D.index!==f),C.petalOverrides.length===0&&(C.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",f+1,d&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:u.palette,project:u,selectedColorId:g,onChange:y=>{y===i.colorId?h({colorId:void 0}):h({colorId:y})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:xl.map(y=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${_===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{y===i.petalType?h({petalType:void 0}):h({petalType:y})},children:y},y))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:y=>r(S=>{const C=S.flowers.find(b=>b.id===a.id);if(!C)return;const D=C.layers.find(b=>b.id===i.id);if(D)if(y.target.checked){const b=D._doublePetalCache;D.doublePetal=b??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const y=i.doublePetal,S=o?.innerSizeReduction??y.innerSizeReduction,C=o?.innerColorId??y.innerColorId??g;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",o?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(Xe,{min:1,max:30,step:1,value:S,onChange:D=>{const b=ye(D,1,30);b===y.innerSizeReduction?h({innerSizeReduction:void 0}):h({innerSizeReduction:b})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:u.palette,project:u,selectedColorId:C,size:"sm",onChange:D=>{const b=y.innerColorId??i.colorId;h(D===b?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),d&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:p,children:""})]})]})}function Vm({project:u,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const f=a,o=g=>{r(_=>{const d=(_.stencils??[]).find(h=>h.id===f.id);d&&Object.assign(d,g)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:g=>o({variant:g.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(g=>x.jsx("option",{value:g,children:t1[g]},g))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:g=>o({pose:g.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(g=>x.jsx("option",{value:g,children:n1[g]},g))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:g=>o({locked:g.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Qm({project:u,applyUpdate:r,selectedLeaf:a,groups:i,onDeleteLeaf:f,onAddLeafToGroup:o,onRemoveLeafFromGroup:g}){const _=a,d=p=>{r(y=>{const S=(y.leaves??[]).find(C=>C.id===_.id);S&&p(S)},!0)},h=Nl(u,_.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:_.name,onChange:p=>d(y=>{y.name=p.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:xl.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${_.petalType===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>d(y=>{y.petalType=p}),children:p},p))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:u.palette,project:u,selectedColorId:_.colorId,onChange:p=>d(y=>{y.colorId=p})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Xe,{min:3,max:80,step:.5,value:Math.round((_.fabricSquareSize??u.fabricSquareSize)*(_.scale??1)*10)/10,onChange:p=>d(y=>{const S=y.fabricSquareSize??u.fabricSquareSize;y.scale=ye(Math.round(p/S*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:.4,max:2.5,step:.05,value:Number(_.scale??1).toFixed(2),onChange:p=>d(y=>{y.scale=p})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:.5,max:1.8,step:.05,value:Number(_.widthScale??1).toFixed(2),onChange:p=>d(y=>{y.widthScale=p})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Xe,{value:Number(_.rotation).toFixed(1),onChange:p=>d(y=>{y.rotation=p})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!_.doublePetal,onChange:p=>d(y=>{if(p.target.checked){const S=y._doublePetalCache;y.doublePetal=S??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),_.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{min:1,max:30,step:1,value:_.doublePetal.innerSizeReduction,onChange:p=>d(y=>{y.doublePetal&&(y.doublePetal.innerSizeReduction=ye(p,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:u.palette,project:u,selectedColorId:_.doublePetal.innerColorId??_.colorId,onChange:p=>d(y=>{y.doublePetal&&(p===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=p)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!_.visible,onChange:p=>d(y=>{y.visible=p.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!_.locked,onChange:p=>d(y=>{y.locked=p.target.checked})}),""]})]}),h?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",h.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>g(_.id),children:""})]}):i.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:p=>{p.target.value&&o(_.id,p.target.value)},children:[x.jsx("option",{value:"",children:"..."}),i.map(p=>x.jsx("option",{value:p.id,children:p.name},p.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(_.id),children:""})]})]})}function Pm({project:u,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:f,onAddLeavesToGroup:o,onMergeLeafGroups:g}){const _=(u.leaves??[]).filter(d=>a.includes(d.id));return _.length===0?null:x.jsxs(sr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[_.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Pn,{palette:u.palette,project:u,selectedColorId:"",onChange:d=>r(h=>{for(const p of a){const y=(h.leaves??[]).find(S=>S.id===p);y&&(y.colorId=d)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:xl.map(d=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(h=>{for(const p of a){const y=(h.leaves??[]).find(S=>S.id===p);y&&(y.petalType=d)}},!0),children:d},d))}),(()=>{const d=_.map(C=>Nl(u,C.id)),h=_.filter(C=>!Nl(u,C.id)).map(C=>C.id),p=[...new Set(d.filter(Boolean).map(C=>C.id))],y=h.length===_.length,S=p.length===1&&d.every(C=>C!=null);return x.jsxs(x.Fragment,{children:[y&&_.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),S&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(p[0]),children:""}),p.length===1&&h.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(p[0],h),children:[" (+",h.length,")"]}),p.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>g(p,h),children:[" (",p.length,"",h.length>0?` +${h.length}`:"",")"]})]})})()]})}function Fm(u){const{project:r,selection:a,applyUpdate:i,selectedFlower:f,selectedFlowers:o,selectedLayer:g,selectedPetalIndex:_,selectedPetals:d}=u;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:h=>i(p=>p.title=h.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{value:r.fabricSquareSize,min:5,max:60,onChange:h=>i(p=>p.fabricSquareSize=h),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{value:r.baseDiameter,min:10,max:100,onChange:h=>i(p=>p.baseDiameter=h),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",la(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",la(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:h=>i(p=>p.notes=h.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(h=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:h.hex},title:h.name},h.id))})]})]})]}),a.kind==="flower"&&f&&x.jsx(Hm,{project:r,applyUpdate:i,selectedFlower:f}),a.kind==="flowers"&&o.length>0&&x.jsx(Km,{project:r,applyUpdate:i,selectedFlowers:o,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&x.jsx(Um,{project:r,applyUpdate:i,selectedFlowers:o,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers,onUngroupAll:u.onUngroupAll}),a.kind==="layer"&&f&&g&&x.jsx(Xm,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:g}),a.kind==="petals"&&f&&d.length>0&&x.jsx(Jm,{project:r,applyUpdate:i,selectedFlower:f,selectedPetals:d}),a.kind==="petal"&&f&&g&&_!==null&&x.jsx(Wm,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:g,selectedPetalIndex:_}),a.kind==="stencil"&&u.selectedStencil&&x.jsx(Vm,{project:r,applyUpdate:i,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&x.jsx(Qm,{project:r,applyUpdate:i,selectedLeaf:u.selectedLeaf,groups:u.groups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Pm,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves,onUngroupLeaves:u.onUngroupLeaves,onAddLeavesToGroup:u.onAddLeavesToGroup,onMergeLeafGroups:u.onMergeLeafGroups}),a.kind==="mixed"&&x.jsx(Zm,{project:r,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:u.onGroupMixed,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onAddLeavesToGroup:u.onAddLeavesToGroup,onMergeGroups:u.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!f?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function $m(u){const r={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?la(u.baseDiameter,u.fabricSquareSize,r).diameter:ir(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function eb(u){const r={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Eh(u.flowerDiameter,u.baseDiameter,r):Th(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function tb({palette:u,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:f}){const o=d=>{a(h=>{const p={...h,...d};return d.placementMode&&d.placementMode!==h.placementMode&&(d.placementMode===""?(p.baseDiameter=30,p.fabricSquareSize=20,p.layerCount=4,p.petalCount=12):(p.fabricSquareSize=20,p.layerCount=1,p.petalCount=6)),p.flowerDiameter=$m(p),p})},g=d=>{a(h=>{const p={...h,flowerDiameter:d};return p.fabricSquareSize=eb(p),p})},_=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&_.push("");const d=Lh(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>d&&_.push(`${d}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:d=>d.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Pd.map(d=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>o({placementMode:d}),children:d},d))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:d=>o({fabricSquareSize:d})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:d=>o({layerCount:d})})]})]}),r.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:d=>o({baseDiameter:d})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:d=>a(h=>({...h,petalCount:d}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:g})]})]}),_.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:_.map((d,h)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:d},h))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(d=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||u[0]?.id)===d.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>a(h=>({...h,colorId:d.id}))},d.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:xl.map(d=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:d})),children:d},d))})]}),r.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:d=>o({sizeStepMm:d})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function nb(u){return Math.round(u*Math.SQRT2/2*10)/10}function lb(u){return Math.round(u*Math.SQRT2*10)/10}function ab({palette:u,addLeafOpts:r,setAddLeafOpts:a,onConfirm:i,onCancel:f}){const o=_=>{a(d=>({...d,fabricSquareSize:_,leafSizeMm:nb(_)}))},g=_=>{a(d=>({...d,leafSizeMm:_,fabricSquareSize:lb(_)}))};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:_=>_.stopPropagation(),"data-testid":"dialog-add-leaf",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:o})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:r.leafSizeMm,onChange:g})]})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(_=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||u[0]?.id)===_.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:_.hex},title:_.name,"aria-label":`: ${_.name}`,onClick:()=>a(d=>({...d,colorId:_.id}))},_.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:xl.map(_=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:_})),children:_},_))})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-leaf",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}const W0=Cn;(function(u,r){const a=Cn,i=u();for(;;)try{if(parseInt(a(216))/1+-parseInt(a(190))/2+-parseInt(a(201))/3+-parseInt(a(202))/4*(parseInt(a(230))/5)+-parseInt(a(207))/6*(-parseInt(a(182))/7)+-parseInt(a(192))/8+-parseInt(a(195))/9*(-parseInt(a(191))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,211066);const ib=(function(){const u={QrSSv:"PJbps"};let r=!0;return function(a,i){const f=r?function(){const o=Cn;if(i)if(u[o(229)]==="dmwkf")_0x2cbfca(_0x58cc38);else{const g=i.apply(a,arguments);return i=null,g}}:function(){};return r=!1,f}})(),Ax=ib(void 0,function(){const u=Cn,r={JxFVQ:"(((.+)+)+)+$"};return Ax[u(174)]().search(u(223)).toString()[u(211)](Ax).search(r[u(171)])});Ax();function Cn(u,r){u=u-164;const a=Y0();let i=a[u];if(Cn.eYDHSU===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Cn.BeiOyV=f,Cn.gUdHVY={},Cn.eYDHSU=!0}const o=a[0],g=u+o,_=Cn.gUdHVY[g];if(_)i=_;else{const d=function(h){this.kXwLnM=h,this.AieddO=[1,0,0],this.vXikAG=function(){return"newState"},this.FsMVsY="\\w+ *\\(\\) *{\\w+ *",this.qnXLFi=`['|"].+['|"];? *}`};d.prototype.NlWhWy=function(){const h=new RegExp(this.FsMVsY+this.qnXLFi),p=h.test(this.vXikAG.toString())?--this.AieddO[1]:--this.AieddO[0];return this.ZJMiCo(p)},d.prototype.ZJMiCo=function(h){return~h?this.YObzZV(this.kXwLnM):h},d.prototype.YObzZV=function(h){for(let p=0,y=this.AieddO.length;p<y;p++)this.AieddO.push(Math.round(Math.random())),y=this.AieddO.length;return h(this.AieddO[0])},new d(Cn).NlWhWy(),i=Cn.BeiOyV(i),Cn.gUdHVY[g]=i}return i}const a1=W0(173),i1={left:25,right:25},Tx=15,Ex=15,cr=30;function rb(){const u=W0,r={hsJPZ:function(a,i){return a+i},PKOpL:function(a,i){return a(i)},fLTzY:function(a,i){return a!==i},trolh:function(a,i){return a===i},IIgGL:function(a,i){return a>=i},aoumK:function(a,i){return a-i},LwqEH:u(188)};try{if(r.fLTzY(u(210),u(205))){const a=localStorage.getItem(a1);if(a){const i=JSON[u(221)](a);if(typeof i.left===u(167)&&r[u(189)](typeof i.right,u(167))&&i.left>=Tx&&r.IIgGL(i[u(227)],Ex)&&r.IIgGL(r.aoumK(100-i[u(215)],i.right),cr)){if(r[u(209)]!=="CdnKD")return i;{const f=r.hsJPZ(_0x25aaea[u(181)][u(215)],_0x372818),o=100-_0x3b55fa.startWidths.right-_0x405589;r[u(183)](_0x2ec7f1,_0x15e5f3(_0x262052.min(f,o),_0x49eead[u(181)][u(227)]))}}}}else return _0x3a5df2}catch{}return i1}function Xd(u,r){const a=W0,i={wJyGp:function(_,d){return _===d},zeiGC:a(167),zvJGm:function(_,d){return _>=d},qSQKo:function(_,d){return _-d},DzEqI:function(_,d){return _<d},bLStE:"feHIr",hQomX:function(_,d){return _/d},pfHeY:function(_,d){return _*d}};let f=Math.max(Tx,u),o=Math[a(178)](Ex,r);const g=i.qSQKo(100-f,o);if(i[a(232)](g,cr))if(a(222)===i.bLStE){const _=_0x197079.parse(_0x5f250f);if(CGpEYK[a(218)](typeof _.left,"number")&&CGpEYK.wJyGp(typeof _[a(227)],CGpEYK.zeiGC)&&CGpEYK.zvJGm(_[a(215)],_0x4cf6ab)&&_[a(227)]>=_0x153c51&&CGpEYK[a(200)](CGpEYK[a(180)](100,_[a(215)])-_[a(227)],_0x4fd024))return _}else{const _=i[a(180)](cr,g);f-=i.hQomX(_,2),o-=_/2,f=Math[a(178)](Tx,f),o=Math[a(178)](Ex,o)}return{left:i.hQomX(Math.round(i.pfHeY(f,100)),100),right:Math.round(i[a(225)](o,100))/100}}function Y0(){const u=["Dw5KzwzPBMvK","sNHgvLe","BwLU","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","Dg9tDhjPBMC","AxLRq3K","Bu9ishm","Bwf0y2HLCW","Bwf4","Cg9PBNrLCM1VDMu","Cvnrs28","C3rHCNrxAwr0Ahm","ndq4otHlsKPfwMW","ueTpCeW","z2f0uKS","y3vYC29Y","y3vYCMvUDa","v0zJCge","EevPzfe","DhjVBgG","ntC4mJGWq3zAshbg","ndi0mer5tKH2sa","mJC0mdi0ohzJBuzwEG","Bg94rMO","CM91BMq","mtGXntnOuurtDw4","C3rYAw5NAwz5","ywrKrxzLBNrmAxn0zw5LCG","wgLpz2m","kg1PBI13Awr0AdOGnZy4ChGP","ENzkr20","odCZnJaZsuX0AM14","nZjXAgTyq0W","C2v0sxrLBq","rLvdvvO","CKvnChm","z2v0qM91BMrPBMDdBgLLBNrszwn0","mti2quDxq05w","Au1jz0m","thDXruG","BLjWENa","y29UC3rYDwn0B3i","C2LKzq","CufNDxq","s0fesvO","BgvMDa","mJyYnJaYrg9KAhLP","C3r5Bgu","D0P5r3a","A3fnwMq","v0LlrLy","CgfYC2u","wu1qq0K","kcGOlISPkYKRksSK","DxnLCLnLBgvJDa","CgzizvK","wwjJEhu","CMLNAhq","y2HHBMDL","uxjtu3y","mZi5mZviugfKshK","DLz1DNi","rhPfCuK","DvDZz1m","AMHhzfO","y2XPzw50wa","uu90EKe","y2PzAwe","BNvTyMvY","CMvTB3zLrxzLBNrmAxn0zw5LCG","yM9KEq"];return Y0=function(){return u},Y0()}function ub(){const u=W0,r={Ybcxu:u(199),mOHHs:u(228),gatRK:function(D,b){return D-b},HNAup:function(D,b){return D/b},kqMZd:function(D,b){return D===b},qAgut:"pointerup",yuceX:function(D,b){return D(b)},DtkjO:function(D,b){return D-b},WIKFV:function(D,b){return D(b)},avSQB:function(D,b,v){return D(b,v)},DSMEI:"efGDH",zJTIJ:"lUhZI",QOtzA:function(D,b){return D(b)},jhGdZ:function(D,b){return D(b)},DvSRh:function(D,b,v){return D(b,v)}},[a,i]=ee.useState(rb),f=ee.useRef(null),o=ee.useRef(null),[g,_]=r[u(165)](ee.useState,!1),[d,h]=r[u(220)](ee.useState,()=>typeof window!==u(170)?window.matchMedia(u(199))[u(177)]:!0);ee.useEffect(()=>{const D=u,b=window.matchMedia(r[D(226)]),v=T=>h(T[D(177)]);return b[D(197)](r.mOHHs,v),()=>b.removeEventListener(D(228),v)},[]),ee.useEffect(()=>{localStorage.setItem(a1,JSON.stringify(a))},[a]);const p=r[u(234)](ee.useRef,a);r.avSQB(ee.useEffect,()=>{const D=u;if(r[D(219)]("blTrZ",D(193))){let b=_0x427497[D(178)](_0x4a53bf,_0x2350f1),v=_0x1a5ed5.max(_0x4ce797,_0x309efc);const T=qojxVI[D(184)](100,b)-v;if(T<_0x5d395c){const q=_0x389d4e-T;b-=q/2,v-=q/2,b=_0x3409b3[D(178)](_0x196a85,b),v=_0x225434.max(_0x19449,v)}return{left:qojxVI.HNAup(_0x495027[D(194)](b*100),100),right:_0x474dac.round(v*100)/100}}else p[D(186)]=a},[a]);const y=r.avSQB(ee.useCallback,(D,b)=>{const v=u,T={FUCUZ:function(Y,U){return r.DtkjO(Y,U)},cIUvL:function(Y,U){return Y/U},XiOgc:function(Y,U){return Y+U},JDGnf:function(Y,U){return Y(U)},XlVvr:function(Y,U){return r.WIKFV(Y,U)},hwWnc:function(Y,U,Z){return r.avSQB(Y,U,Z)},uWsgS:"(min-width: 768px)",YcSlW:r[v(176)],Hrhhv:function(Y,U){return Y!==U},iykCy:r.DSMEI,cjYia:"pointermove"};b.preventDefault();const q=f[v(186)];if(!q)return;o[v(186)]={side:D,startX:b[v(164)],startWidths:{...p[v(186)]}},r[v(220)](_,!0),document[v(169)][v(217)][v(185)]="col-resize",document.body[v(217)].userSelect="none";const E=Y=>{const U=v,Z={KADIZ:function(J,P){return J(P)},WFcpa:U(179)};if(U(208)!==U(208))_0x241388.current=null,Z[U(214)](_0x4def5c,!1),_0x411173[U(169)][U(217)][U(185)]="",_0x49df73[U(169)].style.userSelect="",_0x5de892[U(168)](Z[U(187)],_0x1b106c),_0x3fd410[U(168)]("pointerup",_0x204b51);else{const J=o[U(186)];if(!J)return;const P=q[U(206)]().width;if(P===0)return;const Q=T[U(204)](Y[U(164)],J.startX),X=T.cIUvL(Q,P)*100;if(J[U(212)]==="left"){const I=T[U(198)](J[U(181)][U(215)],X),H=100-J[U(181)].right-cr;T.JDGnf(i,Xd(Math[U(172)](I,H),J.startWidths.right))}else{const I=J.startWidths.right-X,H=100-J[U(181)][U(215)]-cr;T.XlVvr(i,T.hwWnc(Xd,J.startWidths.left,Math.min(I,H)))}}},R=()=>{const Y=v;if(T[Y(233)],T.YcSlW,T.Hrhhv(T[Y(175)],T.iykCy)){const U=_0x556d9b.matchMedia(LpTtye[Y(231)]),Z=J=>_0xa8ad12(J.matches);return U.addEventListener(LpTtye.WJOzv,Z),()=>U[Y(168)](Y(228),Z)}else{const U="3|0|1|4|5|2".split("|");let Z=0;for(;;){switch(U[Z++]){case"0":_(!1);continue;case"1":document.body[Y(217)].cursor="";continue;case"2":window[Y(168)]("pointerup",R);continue;case"3":o.current=null;continue;case"4":document.body[Y(217)][Y(224)]="";continue;case"5":window[Y(168)](T[Y(166)],E);continue}break}}};window.addEventListener(v(179),E),window[v(197)](r[v(213)],R),S.current=()=>{const Y=v;window.removeEventListener(Y(179),E),window.removeEventListener(r[Y(213)],R),o.current=null,r.yuceX(_,!1),document.body[Y(217)].cursor="",document[Y(169)][Y(217)].userSelect=""}},[]),S=r[u(234)](ee.useRef,null);r.DvSRh(ee.useEffect,()=>()=>{const D=Cn;r[D(219)](r.zJTIJ,r.zJTIJ)?S.current?.():_0x1a7eef[D(203)](_0x1a91bd,_0x231d06[D(196)](_0x4c86d6))},[]);const C=ee.useCallback(()=>{i(i1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:y,onDividerDoubleClick:C,isDragging:g,isDesktop:d}}function Jd({side:u,onPointerDown:r,onDoubleClick:a,isDragging:i}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>r(u,f),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}function H0(){const u=["CMv2zxjZzq","C3rLBMnPBa","EhL2DK0","vuvczwC","rgXPwKi","C3rLBMnPBhm","yxbWBhK","CvjTwhy","wKjnuMO","Cgv0ywXdB3vUDa","Aw5JBhvKzxm","wwDJwM0","DMfitwi","tgf2Cwy","qLPYree","sLjTAK8","ANjfvfy","mtmXmtu0Be9rD2zw","BgvHDMvZ","zhbADK0","r0jyALm","BMfTzq","s2TXu1G","vuXvtwW","Aw5KzxG","C2vHCMnO","ze5wsgK","Dw5ZAgLMDa","Dwnotuy","Bgf5zxjjza","z3jVDxbZ","u1zVvfq","uvrjAMG","ueLIuvq","v1nAqvK","ChvZAa","A2LUza","zgjMENK","qNDhBKy","uevZAhe","B2zMC2v0qw5NBgu","zMXVD2vY","zxb6Aeu","zuDMtw4","Bgf5zxi","yMfZzurPyw1LDgvY","t0nbtxO","v3DqyNi","ufDzu1G","BfbbALm","svvjBu0","zM9YrwfJAa","tvz4thi","CM91BMq","zMXVD2vYrgLHBwv0zxi","44kW44oR44o844oxia","BwjNBeO","C29Tzq","otu1mJuWneHHEg1fDq","y29UC3rYDwn0B3i","q2zguNa","tMTJBwi","Bgf5zxjZ","zMLUza","t1rqB3m","zMXVD2vYswrZ","Cg1Nve4","u2jOsfq","zMLSDgvY","AM9PEMK","BgvUz3rO","nZe5otmYvuTJDxHt","CM90yxrPB24","tM1bs0K","A3z4qw0","DvHtyKq","BfDjywm","u2XVzfu","uevHAgi","C29YDa","z3jVDxbjza","zMXVD2vYCW","odaZndz6uK1OzNK","C2nHBgu","ChjVAMvJDa","B3jKzxi","Ae9eBM0","BuLosKq","EgTvBvq","Dw5PzM9YBq","CMfKAxvZ","DfHXtLu","mLPpz0LUEq","mtm2ntC2mdHqqvH2EfC","q3fNshO","revht28","renAswK","uvDNuMq","A3zwwKS","nZmYmJa4nhbts3vbtq","t1zHuxC","CgfSzxr0zq","z0zzq2W","C2XPy2u","rgn3uvG","Cgv0ywXZ","BxDWBem","uhbjD3u","rw1ftgu","C3rS","rgrks3a","vLjYtve","z3jVDxa","rhDXsMW","vvjwvKS","DLn3yLy","svLxBuu","BwfW","mtaWmtG3oe5Oq2n2wG","C0vbDLu","wgPIChO","DuvXt3a","EfnLrve","rLrSv0S","AgvPz2H0","zMXVD2vYswq","A09iAgW","wvjKCM8","tLLNshG","sKvnzfy","tMLNzfe","Cgv0ywW","uhfSqMi","vLzNswW","Dhfnzue","txzKBgO","AwvcDMO","zgLHBwv0zxi","A2HSwKC","tuPVtwW","C3rLBMnPBeLK","BgvHzKLK","rLfZy0C","C3vhr0G","B3vAEem","mZeWtu1UrhPL","Bwf4","DLPqsvi","AMfsuLy","uMfeueS","q2DIB2i","ChjLDMLVDxnhCM91Chm","y29Sx2DYzwvU","zMfICMLJu3f1yxjLu2L6zq","DfnitKW","rgz4vui","BgvHzKLKCW","whLRwei","BgvHzG","AwjQtuS","BwL4zwq","DwTPsNG"];return H0=function(){return u},H0()}function yt(u,r){u=u-107;const a=H0();let i=a[u];if(yt.poxaLY===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};yt.EtqBPE=f,yt.PUubMZ={},yt.poxaLY=!0}const o=a[0],g=u+o,_=yt.PUubMZ[g];if(_)i=_;else{const d=function(h){this.XgDqIr=h,this.JqgSBb=[1,0,0],this.xoefNo=function(){return"newState"},this.gVaqJu="\\w+ *\\(\\) *{\\w+ *",this.uqQgKQ=`['|"].+['|"];? *}`};d.prototype.hVOKfy=function(){const h=new RegExp(this.gVaqJu+this.uqQgKQ),p=h.test(this.xoefNo.toString())?--this.JqgSBb[1]:--this.JqgSBb[0];return this.boHfIK(p)},d.prototype.boHfIK=function(h){return~h?this.syPPsQ(this.XgDqIr):h},d.prototype.syPPsQ=function(h){for(let p=0,y=this.JqgSBb.length;p<y;p++)this.JqgSBb.push(Math.round(Math.random())),y=this.JqgSBb.length;return h(this.JqgSBb[0])},new d(yt).hVOKfy(),i=yt.EtqBPE(i),yt.PUubMZ[g]=i}return i}(function(u,r){const a=yt,i=u();for(;;)try{if(parseInt(a(111))/1*(parseInt(a(137))/2)+-parseInt(a(198))/3+parseInt(a(252))/4+parseInt(a(164))/5*(parseInt(a(263))/6)+-parseInt(a(118))/7+parseInt(a(239))/8+-parseInt(a(112))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,598924);const cb=(function(){let u=!0;return function(r,a){const i=u?function(){const f=yt;if(a){const o=a[f(187)](r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),Lx=cb(void 0,function(){const u=yt,r={xBykA:"(((.+)+)+)+$"};return Lx.toString()[u(206)](r.xBykA).toString()[u(240)](Lx).search("(((.+)+)+)+$")});Lx();function xb({project:u,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:f,setExpandedGroups:o,zoom:g,pan:_,stageSize:d,CANVAS_MAX_SVG:h,deleteLeafById:p}){const y=yt,S={khlZG:function(w,m){return w(m)},PqlBb:function(w,m){return w/m},DcwQX:y(125),vZPIR:function(w,m){return w/m},BZrDA:function(w,m){return w>m},nOfaS:function(w,m){return w*m},Cgbob:function(w,m){return w/m},XugqR:y(224),NmAKI:"sOStB",prukC:"hgTkJ",ouZxC:"vvPsM",xscim:y(212),kOHhl:"lptVB",GdfCq:function(w,m){return w||m},YRdro:function(w,m){return w-m},ukiJx:"project",MSfWZ:function(w,m,z,N){return w(m,z,N)},SbhHT:function(w,m){return w+m},lWIac:function(w,m){return w===m},xSeEQ:function(w,m){return w<=m},pmgTN:function(w,m){return w(m)},MJoMl:function(w,m,z){return w(m,z)},RaDPK:function(w,m){return w(m)},ieBvj:"flower",YmLAd:y(108),XykXB:function(w,m,z,N){return w(m,z,N)},BXIWw:function(w,m){return w<m},tSHNL:function(w,m){return w>=m},QmXAQ:function(w,m){return w/m},CqgHz:function(w,m){return w-m},vSwbV:"lay",mINJD:"",NigdQ:function(w,m){return w(m)},MVxLr:y(225),PIbQT:y(179),vfSXx:function(w,m){return w-m},Uzhky:function(w,m){return w<=m},dNVHi:y(150),WSZAY:"ojVkT",JEMdV:function(w,m){return w(m)},QTIjh:function(w,m,z,N){return w(m,z,N)},DCZIi:function(w,m){return w===m},CfFRp:function(w,m){return w===m},mOvEq:y(199),ULUMl:function(w,m){return w===m},BwGnF:"flowers",DdJKp:function(w,m){return w!==m},DwqJl:y(167),NNFCl:"group",xORph:y(182),VRrMQ:function(w,m,z){return w(m,z)},OTPos:function(w,m){return w===m},joizi:function(w,m){return w(m)},tXjvd:function(w,m){return w===m},Xjbpz:function(w,m,z){return w(m,z)},cWjdD:y(127),QWgRd:function(w,m){return w>m},qRmXv:function(w,m){return w+m},urmbv:function(w,m){return w(m)},ZONea:"grp",ntAmX:function(w,m){return w(m)},mQSce:function(w,m){return w(m)},KnLVF:function(w,m,z){return w(m,z)},NYgHx:function(w,m){return w(m)},jrETV:function(w,m){return w(m)},NZHny:function(w,m){return w*m},Mvdlj:function(w,m){return w===m},hvXAy:"back",dbfzy:function(w,m){return w-m},DEGOo:y(128),VVgIl:function(w,m){return w!==m},FTlWK:y(124),tqMeA:function(w,m){return w===m},SlodU:function(w,m){return w===m},GBXjS:function(w,m){return w===m},KkqSX:function(w,m){return w(m)},sfmCI:function(w,m){return w(m)},kLsiV:y(256),DfxUB:function(w,m){return w===m},MTfdt:function(w,m){return w===m},kvVZK:"leaf",sEAvU:function(w,m){return w===m},CcmfC:function(w,m){return w===m},HmXnh:function(w,m){return w(m)},fkJfb:function(w,m){return w(m)},Lavqf:function(w,m){return w!==m},SXEIh:y(119),Nkcmb:function(w,m){return w===m},CkkhU:function(w,m){return w(m)},ZSpxP:y(227),kvxAm:function(w,m){return w(m)},EqOUd:function(w,m){return w===m},rPYof:function(w,m){return w(m)},jaFPL:y(162),sssCn:function(w,m,z){return w(m,z)},xkUmT:function(w,m,z){return w(m,z)},mbglJ:function(w,m,z){return w(m,z)}},C=w=>{const m=y,z=[...w.layers][m(260)]((B,O)=>B[m(266)]-O.order),N=z[0];if(!N)return 28;const A=w.fabricSquareSize??u.fabricSquareSize,{length:G}=S[m(157)](It,A),k=G*(N.scale??1);let j;if(w.placementMode==="")j=S[m(151)](k,3);else if(S[m(123)]==="dXbaH"){const B={..._0x82928b||{}};return delete B[_0x46ff1c],B}else{const O=S[m(166)](70*Math.PI,180),K=z.length+1,F=K-1,te=S.BZrDA(K,1)?F/(K-1)*O:0;j=S.nOfaS(k,S[m(166)](30,100))*Math.cos(te)}return S[m(169)](Math[m(234)](((N[m(109)]??28)+j)*10),10)},D=w=>{const m=y,z={Dlasf:function(N,A){return S[yt(146)](N,A)}};r(N=>{const A=yt;if(S.XugqR!==S[A(254)]){if(N.flowers=(N.flowers||[])[A(249)](G=>G.id!==w),N.groups)if(S.prukC===S[A(163)]){if(_0x2884de.flowerId===_0x1925ba)return;_0xa463bc({kind:"flowers",flowerIds:[_0x4bcb7a.flowerId,_0x2e1763]})}else{for(const G of N[A(211)])S.xscim===S[A(145)]?_0x3a93aa[A(246)]=_0x5e163c[A(246)][A(249)](k=>!_0x4c9716[A(191)](k)):G.flowerIds=G.flowerIds.filter(k=>k!==w);N.groups=N.groups[A(249)](G=>G[A(246)][A(251)]+G[A(175)].length>0)}}else{const G=_0x4cbe34[z.Dlasf(_0x4922b7,1)],k=_0x160a14[_0x363bfa];k[A(221)]=_0x32c73b(G[A(190)],G.offsetAngle,k.petalCount)}},!0),S.khlZG(i,{kind:S[m(180)]}),f(N=>{const A={...S.GdfCq(N,{})};return delete A[w],A})},b=(w,m)=>{const z=y,N={GBCQi:function(G,k){return G-k},IYWmE:function(G,k,j,B){return S.MSfWZ(G,k,j,B)},dqUMM:function(G,k){return S[yt(248)](G,k)},UEBeg:function(G,k){return S.lWIac(G,k)},cDBhu:z(267)},A=u[z(262)][z(244)](G=>G.id===w);if(A&&S[z(141)]((A.layers||[])[z(251)],1)){S.pmgTN(D,w);return}S.MJoMl(r,G=>{const k=z,j={zcfGp:function(B,O){return N.GBCQi(B,O)},opXFn:function(B,O){return B-O},xLLyP:function(B,O){return B/O},kGgyk:function(B,O,K,F){return N[yt(135)](B,O,K,F)},YgcZm:function(B,O){return N.dqUMM(B,O)}};if(N[k(184)]("vRGPq",N.cDBhu)){const B=_0x2ed9c4[j.zcfGp(_0xbb3643[k(251)],1)],O=j.opXFn(B[k(266)]??1,_0x4a6e31[k(266)]??1);if(O>0){const K=j.xLLyP((_0x43b525.scale??1)-(B[k(264)]??1),O);_0x32829e=j.kGgyk(_0x2c7c5d,j[k(192)](_0x3682e9.scale??1,K),.3,3)}}else{const B=(G[k(262)]||[])[k(244)](O=>O.id===w);if(!B)return;B.layers=(B[k(243)]||[])[k(249)](O=>O.id!==m),B.layers[k(122)]()[k(260)]((O,K)=>O.order-K[k(266)])[k(232)]((O,K)=>O.order=K+1)}},!0),S.RaDPK(i,{kind:S[z(155)],flowerId:w})},v=w=>{const m=y,z=u[m(262)].find(F=>F.id===w);if(!z)return;const N=[...z.layers].sort((F,te)=>F[m(266)]-te.order),A=N[0],G=ye(A?.[m(190)]??6,5,24),k=N[m(136)](F=>F.scale??1),j=k[m(251)]<2||k.every(F=>Math.abs(F-k[0])<.001);let B=A?.scale??1;if(!j&&S[m(173)](N[m(251)],2)){const F=N[N[m(251)]-1],te=(F.order??1)-(A[m(266)]??1);if(te>0){const se=S.QmXAQ(S[m(113)](A.scale??1,F.scale??1),te);B=ye((A[m(264)]??1)+se,.3,3)}}const O=C(z),K={id:S[m(168)](qt,S[m(134)]),name:"Outer+",order:1,petalType:A?.petalType??S[m(268)],petalCount:G,radius:O,scale:B,widthScale:si(G),offsetAngle:A?.[m(221)]??0,colorId:A?.colorId??u[m(120)]?.[0]?.id??m(171),visible:!0,locked:!1};A&&(m(133)==="EbjUw"?(_0x43ab0d.flowerIds=_0x3b632b[m(246)].filter(F=>!_0x3298c3.includes(F)),_0xea45e8[m(175)]=_0x2ded10[m(175)][m(249)](F=>!_0x29e1d0[m(191)](F))):K[m(221)]=rl(A[m(190)],A.offsetAngle??0,G)),r(F=>{const te=m,se=F[te(262)].find(Ie=>Ie.id===w);if(!se)return;se[te(243)][te(232)](Ie=>Ie.order+=1),se[te(243)][te(208)](K);const fe=Math[te(234)](lr(K.radius,K[te(264)],se.fabricSquareSize??F[te(172)])),he=se.fabricSquareSize??F[te(172)],ge=S.lWIac(se.placementMode,"")?ir(he,se[te(243)].length,S.YmLAd,0):S[te(176)](la,se.baseDiameter??F[te(226)],he,{layerCount:se.layers[te(251)]})[te(156)];se[te(235)]=Math[te(165)](se.flowerDiameter||ge,fe);const de=[...se[te(243)]][te(260)]((Ie,Oe)=>Ie.order-Oe[te(266)]),pe=de[te(181)]();for(let Ie=1;S.BXIWw(Ie,pe.length);Ie++){const Oe=pe[Ie-1],at=pe[Ie];at.offsetAngle=S.MSfWZ(rl,Oe.petalCount,Oe[te(221)],at[te(190)])}},!0),S[m(149)](i,{kind:S[m(233)],flowerId:w,layerId:K.id}),S.NigdQ(f,F=>({...F,[w]:!0}))},T=w=>{const m=y,z={erOEr:function(k,j){return k(j)},XjFmo:S.PIbQT,tDQRi:"WwPbr",pFiDK:function(k,j,B){return k(j,B)},PEshq:function(k,j){return S.vfSXx(k,j)}},N=u.flowers.find(k=>k.id===w);if(!N||!N.layers||N[m(243)][m(251)]===0)return;if(S.Uzhky(N[m(243)][m(251)],1)){D(w);return}const A=[...N[m(243)]].sort((k,j)=>k.order-j[m(266)]),G=A[0];G&&(r(k=>{const j=m,B={ibjMK:function(te,se){return z.erOEr(te,se)},ZhODu:z.XjFmo},O=k.flowers.find(te=>te.id===w);if(!O)return;O.layers=O[j(243)].filter(te=>te.id!==G.id),O[j(243)].slice()[j(260)]((te,se)=>te.order-se.order)[j(232)]((te,se)=>te[j(266)]=se+1);const K=[...O[j(243)]][j(260)]((te,se)=>te[j(266)]-se.order),F=O.fabricSquareSize??k[j(172)];if(K.length>0)if(j(228)!==z.tDQRi)B[j(178)](_0x5765d9,{kind:B.ZhODu,flowerIds:[_0x27f91e],leafIds:[_0x56c21f[j(160)]]});else{z.pFiDK(mx,K,F);for(const fe of K){const he=O.layers.find(ge=>ge.id===fe.id);he&&(he[j(109)]=fe[j(109)])}const te=K[0];O.flowerDiameter=Math.round(lr(te.radius,te.scale??1,F));const se=[...K].reverse();for(let fe=1;fe<se[j(251)];fe++){const he=se[z[j(220)](fe,1)],ge=se[fe];ge[j(221)]=rl(he[j(190)],he[j(221)],ge[j(190)])}}},!0),a.kind==="layer"&&S.lWIac(a.layerId,G.id)?i({kind:m(222),flowerId:w}):S.lWIac(a.kind,S[m(207)])&&a.layerId===G.id&&S[m(168)](i,{kind:S[m(155)],flowerId:w}))},q=()=>{const w=y,m={hrpaD:function(z,N,A){return z(N,A)},gtynv:function(z,N){return S[yt(148)](z,N)},JRmjO:S[w(180)],Ylkii:"flower",rZVSe:"hVfcu",Tikfg:"uniform",lPAjS:function(z,N,A,G){return S[w(213)](z,N,A,G)},vBbeD:function(z,N,A,G){return z(N,A,G)}};if(!S.DCZIi(a.kind,S[w(180)])){if(S[w(257)](a.kind,w(177))){p(a[w(160)]);return}if(S.CfFRp(a[w(217)],S.mOvEq)){const z=a.leafIds;r(N=>{const A=w;if(S[A(215)]!=="UwuZW"){if(N[A(199)]=(N.leaves??[]).filter(G=>!z.includes(G.id)),N.groups){for(const G of N[A(211)])G.leafIds=G[A(175)][A(249)](k=>!z[A(191)](k));N[A(211)]=N.groups[A(249)](G=>G[A(246)].length+G.leafIds[A(251)]>0)}}else{const{flowerIds:G,leafIds:k}=_0x30a3aa;m.hrpaD(_0x524432,j=>{const B=A;if(j[B(262)]=j[B(262)].filter(O=>!G.includes(O.id)),j.leaves=(j.leaves??[])[B(249)](O=>!k[B(191)](O.id)),j[B(211)]){for(const O of j[B(211)])O[B(246)]=O.flowerIds.filter(K=>!G[B(191)](K)),O.leafIds=O.leafIds.filter(K=>!k.includes(K));j.groups=j[B(211)][B(249)](O=>O[B(246)][B(251)]+O.leafIds.length>0)}},!0),m.gtynv(_0x5dbf42,{kind:m[A(196)]});return}},!0),i({kind:S.ukiJx});return}if(S[w(257)](a[w(217)],"mixed")){const{flowerIds:z,leafIds:N}=a;r(A=>{const G=w;if(A[G(262)]=A[G(262)].filter(k=>!z[G(191)](k.id)),A.leaves=(A[G(199)]??[])[G(249)](k=>!N[G(191)](k.id)),A[G(211)]){for(const k of A[G(211)])k.flowerIds=k.flowerIds[G(249)](j=>!z[G(191)](j)),k.leafIds=k[G(175)].filter(j=>!N[G(191)](j));A[G(211)]=A.groups.filter(k=>k[G(246)].length+k[G(175)][G(251)]>0)}},!0),S.khlZG(i,{kind:S[w(180)]});return}if(S[w(204)](a[w(217)],S[w(219)]))if(S[w(129)]("qlvWD",S[w(132)])){const z=a.flowerIds;r(N=>{const A=w;if(N.flowers=N.flowers[A(249)](G=>!z[A(191)](G.id)),N.groups){for(const G of N[A(211)])G.flowerIds=G[A(246)][A(249)](k=>!z[A(191)](k));N[A(211)]=N[A(211)].filter(G=>G.flowerIds.length+G.leafIds[A(251)]>0)}},!0),S.JEMdV(i,{kind:S[w(180)]});return}else _0x4419d0({kind:m.Ylkii,flowerId:_0x496510[0]});if(S.ULUMl(a.kind,S.NNFCl)){S[w(158)](r,z=>{const N=w;z.groups&&(z.groups=z.groups.filter(A=>A.id!==a[N(261)]))},!0),i({kind:S.ukiJx});return}if(S[w(115)](a.kind,S.xORph)){S[w(130)](r,z=>{const N=w;z[N(186)]=(z[N(186)]??[]).filter(A=>A.id!==a.stencilId)},!0),S[w(149)](i,{kind:S[w(180)]});return}if(S[w(245)](a[w(217)],"petals")){S.joizi(i,{kind:S.ieBvj,flowerId:a.flowerId});return}if(a[w(217)]===S.ieBvj)if(S.tXjvd("ptlJM","ptlJM")){r(z=>{const N=w;if(z.flowers=z[N(262)][N(249)](A=>A.id!==a.flowerId),z.groups){for(const A of z.groups)A[N(246)]=A.flowerIds.filter(G=>G!==a[N(144)]);z.groups=z.groups.filter(A=>A.flowerIds[N(251)]+A.leafIds[N(251)]>0)}},!0),i({kind:S.ukiJx});return}else{const z=_0x1dfdac[S[w(146)](_0x34e9e3,1)],N=_0x100139[_0x570084];N[w(221)]=_0xc0c6e0(z.petalCount,z[w(221)],N.petalCount)}if(S[w(241)](a[w(217)],S[w(233)])||S[w(241)](a[w(217)],"petal")){const z=u.flowers[w(244)](A=>A.id===a[w(144)]),N=z?[...z.layers].sort((A,G)=>A[w(266)]-G.order)[0]?.id===a.layerId:!1;S[w(139)](r,A=>{const G=w,k=A.flowers[G(244)](j=>j.id===a[G(144)]);if(k&&(k[G(243)]=k.layers[G(249)](j=>j.id!==a[G(210)]),k.layers[G(122)]().sort((j,B)=>j[G(266)]-B.order)[G(232)]((j,B)=>j.order=B+1),k.layers.length>0))if(m.rZVSe==="xvIXa")_0x5f07be[G(246)][G(191)](_0x44c880)||_0x1cf92d[G(246)][G(216)](_0x1bad9e);else{const j=[...k[G(243)]][G(260)]((K,F)=>K[G(266)]-F[G(266)]),B=k.fabricSquareSize??A.fabricSquareSize;mx(j,B);for(const K of j){const F=k.layers[G(244)](te=>te.id===K.id);F&&(F[G(109)]=K[G(109)])}if(N){const K=j[0];k.flowerDiameter=Math.round(lr(K[G(109)],K[G(264)]??1,B))}else{const K=k.placementMode===""?ir(B,k.layers[G(251)],m.Tikfg,0):m.lPAjS(la,k[G(226)]??A[G(226)],B,{layerCount:k[G(243)][G(251)]})[G(156)];m[G(230)](J0,j,B,k[G(235)]||K);for(const F of j){const te=k.layers[G(244)](se=>se.id===F.id);te&&(te.radius=F.radius,te[G(264)]=F[G(264)])}}const O=[...j].reverse();for(let K=1;K<O.length;K++){const F=O[K-1],te=O[K];te[G(221)]=m.vBbeD(rl,F.petalCount,F[G(221)],te.petalCount)}}},!0),i({kind:S.ieBvj,flowerId:a[w(144)]})}}},E=w=>({id:w.id,name:w[y(202)],flowerIds:[...w[y(246)]],leafIds:[...w[y(175)]],rotation:w[y(253)]}),R=ee.useCallback(w=>{const m=S.RaDPK(qt,"grp");r(z=>{const N=yt,A={zoeiN:function(j,B){return j>B},XcDcB:S.cWjdD};z[N(211)]||(z[N(211)]=[]);const G=z.groups.map(j=>{const B=N;if(A.XcDcB!=="EmELe"){if(!_0x5eccd2.groups)return;const O=_0x40d41a.groups.find(K=>K.id===_0x164fdb);if(!O)return;if(O[B(170)]&&A.zoeiN(O.previousGroups.length,0)){_0x7cf808.groups=_0x538816.groups.filter(K=>K.id!==_0x4d149f);for(const K of O[B(170)])_0x27c52b[B(211)].push({id:K.id,name:K.name,flowerIds:[...K.flowerIds],leafIds:[...K[B(175)]],rotation:K.rotation})}else _0x4ff5b3[B(211)]=_0x2b295f[B(211)].filter(K=>K.id!==_0x28eccb)}else{const O=j[B(202)].match(/^ (\d+)$/);return O?parseInt(O[1],10):0}}),k=S[N(116)](G.length,0)?S[N(188)](Math[N(165)](...G),1):1;z.groups.push({id:m,name:N(236)+k,flowerIds:[...w],leafIds:[],rotation:0})},!0),i({kind:S.NNFCl,groupId:m}),S.urmbv(o,z=>({...z,[m]:!0}))},[r,i,o]),Y=ee.useCallback((w,m)=>{const z=y,N={gFYCl:function(A,G){return A!==G},SVyCe:"mixed",vaHMb:function(A,G){return S[yt(195)](A,G)}};if(z(259)!=="nRqTk"){const A=qt(S.ZONea);S[z(158)](r,G=>{const k=z;if(k(209)===k(209)){G.groups||(G.groups=[]);const j=G[k(211)].map(O=>{const K=k;if(N[K(121)](K(231),K(200))){const F=O[K(202)].match(/^ (\d+)$/);return F?parseInt(F[1],10):0}else bUDwPX.kcoqh(_0x116208,{kind:K(222),flowerId:_0x14278d})}),B=N[k(193)](j.length,0)?Math.max(...j)+1:1;G[k(211)][k(216)]({id:A,name:" "+B,flowerIds:[...w],leafIds:[...m],rotation:0})}else _0x443317({kind:N.SVyCe,flowerIds:[_0x533ae9],leafIds:_0x2b862b.leafIds})},!0),S.ntAmX(i,{kind:"group",groupId:A}),o(G=>({...G,[A]:!0}))}else{_0x9c55eb(A=>{const G=z;A[G(211)]&&(A.groups=A[G(211)].filter(k=>k.id!==_0x9e9959[G(261)]))},!0),S[z(148)](_0xd0349f,{kind:z(265)});return}},[r,i,o]),U=S.sssCn(ee.useCallback,w=>{const m=y;S[m(130)](r,z=>{const N=m;if(!z[N(211)])return;const A=z[N(211)].find(G=>G.id===w);if(A)if(A[N(170)]&&S.BZrDA(A[N(170)].length,0)){z.groups=z[N(211)].filter(G=>G.id!==w);for(const G of A[N(170)])z.groups[N(216)]({id:G.id,name:G.name,flowerIds:[...G.flowerIds],leafIds:[...G.leafIds],rotation:G.rotation})}else z[N(211)]=z.groups[N(249)](G=>G.id!==w)},!0),S.mQSce(i,{kind:S[m(180)]})},[r,i]),Z=S[y(107)](ee.useCallback,w=>{r(m=>{const z=yt;m.groups&&(m[z(211)]=m.groups[z(249)](N=>N.id!==w))},!0),i({kind:"project"})},[r,i]),J=ee.useCallback((w,m)=>{S.KnLVF(r,z=>{const N=yt,A=(z[N(211)]??[]).find(G=>G.id===w);if(A){A[N(170)]=[E(A)];for(const G of m)A[N(246)].includes(G)||A.flowerIds.push(G)}},!0),S.JEMdV(i,{kind:"group",groupId:w})},[r,i]),P=S[y(237)](ee.useCallback,(w,m)=>{const z=y,N={uEqOp:function(k,j){return S[yt(147)](k,j)}},A=w[0],G=w[z(122)](1);S[z(158)](r,k=>{const j=z;if(!k[j(211)])return;const B=k[j(211)].find(K=>K.id===A);if(!B)return;const O=[];for(const K of w){const F=k[j(211)][j(244)](te=>te.id===K);F&&O.push(N[j(140)](E,F))}B.previousGroups=O;for(const K of G){const F=k.groups.find(te=>te.id===K);if(F){for(const te of F.flowerIds)B.flowerIds.includes(te)||B.flowerIds[j(216)](te);for(const te of F[j(175)])B[j(175)][j(191)](te)||B[j(175)].push(te)}}for(const K of m)B.flowerIds[j(191)](K)||B[j(246)].push(K);k.groups=k.groups.filter(K=>!G.includes(K.id))},!0),S[z(197)](i,{kind:S.NNFCl,groupId:A}),o(k=>({...k,[A]:!0}))},[r,i,o]),Q=(w,m)=>{const z=y,N=d.w/d.h,A=520/g,G=S.NZHny(A,N),k=-_.x/g,j=-_.y/g,B=k+G/2,O=S[z(188)](j,A/2),K=S[z(154)](m,S.hvXAy)?"back":"side",F=e1[w][K][z(143)]*xn,te=ye(B,0,h),se=ye(S[z(218)](O,F/2),0,h),fe={id:S.ntAmX(qt,S[z(114)]),variant:w,pose:m,position:{x:te,y:se}};r(he=>{he[z(186)]||(he.stencils=[]),he.stencils.push(fe)},!0),i({kind:"stencil",stencilId:fe.id})},X=w=>{const m=y,z={PpIwu:function(N,A){return N!==A},RHJsN:m(189)};if(r(N=>{const A=m;z[A(126)](z.RHJsN,"EmlUl")?N[A(186)]=(N.stencils??[])[A(249)](G=>G.id!==w):_0x5df060[A(246)][A(191)](_0x2abf79)||_0x27dd99.flowerIds.push(_0x207f9d)},!0),S[m(257)](a.kind,m(182))&&a.stencilId===w)if(S[m(152)]("GMkfy","mJFSe"))i({kind:S.ukiJx});else{_0x148e6f(N=>{const A=m;N.stencils=(N.stencils??[]).filter(G=>G.id!==_0x102e1c[A(159)])},!0),_0x26a6b3({kind:m(265)});return}},I=ee.useCallback(w=>{const m=y;if(S[m(152)]("FQscG",m(161))){const z=_0x2dccbe[m(246)];_0x1e6f71(N=>{const A=m;if(N[A(262)]=N.flowers.filter(G=>!z[A(191)](G.id)),N.groups){for(const G of N[A(211)])G[A(246)]=G.flowerIds[A(249)](k=>!z[A(191)](k));N.groups=N[A(211)][A(249)](G=>G.flowerIds.length+G[A(175)].length>0)}},!0),_0x459024({kind:oeatlP[m(183)]});return}else if(S[m(153)](a[m(217)],m(262))){const z=a.flowerIds;if(z[m(191)](w)){const N=z[m(249)](A=>A!==w);S[m(258)](N.length,0)?S.pmgTN(i,{kind:"project"}):S[m(201)](N[m(251)],1)?S[m(203)](i,{kind:S[m(155)],flowerId:N[0]}):S.sfmCI(i,{kind:"flowers",flowerIds:N})}else if(S.kLsiV!=="hOpjs")S.jrETV(i,{kind:S[m(219)],flowerIds:[...z,w]});else{for(const N of _0x40ef0d.groups)N[m(175)]=N.leafIds.filter(A=>!_0x50398e[m(191)](A));_0x5222e2.groups=_0x2c0db6.groups.filter(N=>N.flowerIds[m(251)]+N.leafIds.length>0)}}else if(S[m(174)](a[m(217)],"flower")){if(S[m(257)](a[m(144)],w))return;S[m(250)](i,{kind:m(262),flowerIds:[a.flowerId,w]})}else if(S.MTfdt(a[m(217)],m(131)))if(S.DdJKp(m(223),"wpiBA")){const z=(u.groups??[])[m(244)](A=>A.id===a[m(261)]),N=z?z.flowerIds:[];if(N.includes(w)){if(m(229)!=="DoVGq")return;_0x23b2ed(A=>{const G=m;A[G(211)]&&(A[G(211)]=A[G(211)].filter(k=>k.id!==_0x371e22))},!0),oeatlP[m(185)](_0x581039,{kind:m(265)})}S.urmbv(i,{kind:S[m(219)],flowerIds:[...N,w]})}else _0x167932({kind:S.FTlWK,flowerId:_0x320f95,petals:[..._0x55c642,{layerId:_0x18563a,index:_0x405c45}]});else if(a.kind===S[m(117)])S.NYgHx(i,{kind:S[m(214)],flowerIds:[w],leafIds:[a.leafId]});else if(a.kind==="leaves")i({kind:m(179),flowerIds:[w],leafIds:a[m(175)]});else if(S.tqMeA(a.kind,m(179))){const z=a.flowerIds,N=a[m(175)];if(z[m(191)](w)){const A=z.filter(G=>G!==w);S[m(138)](A.length,0)&&N.length===0?i({kind:"project"}):A[m(251)]===0&&S.ULUMl(N[m(251)],1)?S[m(149)](i,{kind:m(177),leafId:N[0]}):A.length===0?i({kind:m(199),leafIds:N}):S.CcmfC(N.length,0)&&A[m(251)]===1?S[m(157)](i,{kind:S.ieBvj,flowerId:A[0]}):N.length===0?i({kind:"flowers",flowerIds:A}):S.HmXnh(i,{kind:"mixed",flowerIds:A,leafIds:N})}else S.fkJfb(i,{kind:S.PIbQT,flowerIds:[...z,w],leafIds:N})}else i({kind:S[m(219)],flowerIds:[w]})},[a,i,u.groups]);return{deleteFlowerById:D,deleteLayerById:b,computeNewOuterRadius:C,addOuterLayer:v,deleteOuterLayer:T,deleteSelected:q,groupSelectedFlowers:R,groupSelectedMixed:Y,ungroupFlowers:U,ungroupAll:Z,addToGroup:J,mergeGroups:P,addStencil:Q,deleteStencil:X,handleShiftFlowerSelect:I,togglePetalSelection:(w,m,z,N)=>{const A=y;if(!N)if(S[A(194)](A(110),S.SXEIh)){S[A(157)](i,{kind:S.dNVHi,flowerId:w,layerId:m,index:z});return}else{const k=_0x4501ca[0];_0x1360a5.flowerDiameter=_0x5d7bb2.round(S[A(176)](_0x22c505,k.radius,k[A(264)]??1,_0x1a77ca))}const G=m+":"+z;if(S.CcmfC(a[A(217)],A(124))&&S[A(242)](a.flowerId,w)){const k=a[A(124)]||[];if(k[A(238)](B=>B.layerId+":"+B.index===G)){const B=k.filter(O=>O.layerId+":"+O[A(205)]!==G);if(B[A(251)]===0)S.CkkhU(i,{kind:S.ieBvj,flowerId:w});else if(S[A(154)](B[A(251)],1))if(S.ZSpxP!=="mzXiB")S[A(255)](i,{kind:A(150),flowerId:w,layerId:B[0].layerId,index:B[0].index});else{const O=_0x40990e.leafIds;_0x5e4764(K=>{const F=A;if(K.leaves=(K.leaves??[])[F(249)](te=>!O.includes(te.id)),K.groups){for(const te of K.groups)te[F(175)]=te.leafIds[F(249)](se=>!O.includes(se));K.groups=K[F(211)].filter(te=>te.flowerIds[F(251)]+te.leafIds.length>0)}},!0),S.HmXnh(_0x494318,{kind:"project"});return}else S.fkJfb(i,{kind:S[A(142)],flowerId:w,petals:B})}else i({kind:S[A(142)],flowerId:w,petals:[...k,{layerId:m,index:z}]})}else if(S.EqOUd(a[A(217)],S[A(207)])&&a.flowerId===w){const k={layerId:a[A(210)],index:a[A(205)]},j={layerId:m,index:z};if(k[A(210)]+":"+k[A(205)]===G)return;S.rPYof(i,{kind:A(124),flowerId:w,petals:[k,j]})}else if(A(162)!==S.jaFPL){const k=_0x5a6c83.layers[A(244)](j=>j.id===_0x9ee7b1.id);k&&(k[A(109)]=_0x2d0775.radius)}else i({kind:S.FTlWK,flowerId:w,petals:[{layerId:m,index:z}]})}}}(function(u,r){const a=un,i=u();for(;;)try{if(parseInt(a(151))/1+parseInt(a(120))/2+-parseInt(a(108))/3*(-parseInt(a(126))/4)+-parseInt(a(146))/5+parseInt(a(159))/6*(parseInt(a(129))/7)+-parseInt(a(135))/8*(-parseInt(a(114))/9)+-parseInt(a(152))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,504626);const sb=(function(){let u=!0;return function(r,a){const i=u?function(){const f=un;if(a){const o=a[f(170)](r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),Bx=sb(void 0,function(){const u=un,r={FRVFv:"(((.+)+)+)+$"};return Bx.toString().search(r[u(124)])[u(140)]()[u(121)](Bx)[u(104)]("(((.+)+)+)+$")});function K0(){const u=["y29UC3rYDwn0B3i","zMXVD2vYCW","t2vvCNO","rLjwrNy","BwL4zwq","nZq4ufjYD1Pk","BgvHDMvZ","Ahrovwq","mZvhEuD0Ehe","suTuAxu","zMLUza","ChvZAa","ChjVAMvJDa","Bw1Oqve","ndu5nZGXnLndzvDsyG","uM15D1O","zu5fqMi","CM90yxrPB24","BgvUz3rO","Dg9tDhjPBMC","ve9gvu8","tNfUqwq","A2LUza","r2DpD1C","suLYExy","oduXnZaWBNHXC3PJ","qMTRtfK","CKz1u3K","Exv3Ceq","Aw5JBhvKzxm","ntm3mtCXCK9OyMXl","mJmZntKZmdbJD1bMuvO","BgvHzG","C2XPy2u","AwrJs1i","yuzVuMu","twDqrM0","zMLSDgvY","nJm1ntC0vMf4yuPU","C0jYs1m","y1zXu3q","te5YANm","zMXVD2vYswrZ","BwfW","zMXVD2vYswq","ugnHv1C","44kW44oR44o844oxia","zwvty2C","wer5qwy","yxbWBhK","qKjivMS","AgnTB2W","uMnRyuO","C2vHCMnO","DgfnD3O","Bfzrr2e","zxzLwe8","nJKYner0wKTWzG","BgvHzKLKCW","r3Pdv0S","u093uvC","z3jW","z3jVDxbZ","ouPKD1Dpza","t1vmBuK","z3jVDxbjza","ChjLDMLVDxnhCM91Chm","zNDesKC","z3jVDxa","mtG3ntuXneTKyvPVBa"];return K0=function(){return u},K0()}function un(u,r){u=u-101;const a=K0();let i=a[u];if(un.TWUCBt===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};un.NWQWKP=f,un.LfCPZk={},un.TWUCBt=!0}const o=a[0],g=u+o,_=un.LfCPZk[g];if(_)i=_;else{const d=function(h){this.jvKiOp=h,this.mAsSMl=[1,0,0],this.jBRCNL=function(){return"newState"},this.LVbAPe="\\w+ *\\(\\) *{\\w+ *",this.bjletx=`['|"].+['|"];? *}`};d.prototype.AAxgfd=function(){const h=new RegExp(this.LVbAPe+this.bjletx),p=h.test(this.jBRCNL.toString())?--this.mAsSMl[1]:--this.mAsSMl[0];return this.mzlPEA(p)},d.prototype.mzlPEA=function(h){return~h?this.hSIMoe(this.jvKiOp):h},d.prototype.hSIMoe=function(h){for(let p=0,y=this.mAsSMl.length;p<y;p++)this.mAsSMl.push(Math.round(Math.random())),y=this.mAsSMl.length;return h(this.mAsSMl[0])},new d(un).AAxgfd(),i=un.NWQWKP(i),un.LfCPZk[g]=i}return i}Bx();function ob({project:u,applyUpdate:r,selection:a,setSelection:i}){const f=un,o={aFoRe:function(b,v){return b(v)},TOFUO:function(b,v){return b(v)},eNEBb:function(b,v){return b===v},yuwpD:"project",BkkLY:function(b,v){return b===v},htNUd:function(b,v){return b(v)},DxRBG:function(b,v){return b(v)},RmywZ:"leaves",jGBBO:function(b,v){return b!==v},fwDJG:function(b,v){return b(v)},RWdJZ:function(b,v){return b===v},BBHVk:f(119),mFJFT:function(b,v){return b(v)},YwJEW:"flower",lVQGa:f(122),GgOwW:"mixed",IKTiu:function(b,v){return b===v},qiwIQ:function(b,v){return b===v},HPkxm:function(b,v){return b(v)},uVfqm:function(b,v){return b(v)},AoIYV:f(153),mmhAQ:function(b,v){return b(v)},RckaJ:function(b,v){return b(v)},BWxRV:function(b,v){return b(v)},OULmI:function(b,v,T){return b(v,T)},IIryv:function(b,v){return b+v},eeScg:f(162),TiRnD:"lFTWe",lmNon:function(b,v){return b===v},DvljB:f(155),MgPFm:function(b,v,T){return b(v,T)}},g=b=>{const v=f;v(142)==="wdQbE"?o[v(156)](_0x1561b0,{kind:v(125),flowerIds:_0x3b7020.flowerIds,leafIds:[_0x4b4772]}):(r(T=>{const q=v;if(T.leaves=(T[q(127)]??[])[q(158)](E=>E.id!==b),T.groups){for(const E of T.groups)E.leafIds=E[q(109)][q(158)](R=>R!==b);T[q(113)]=T[q(113)][q(158)](E=>E.flowerIds[q(139)]+E[q(109)].length>0)}},!0),o.TOFUO(i,{kind:"project"}))},_=ee.useCallback(b=>{const v=f,T={cVqSt:function(q,E){return q(E)}};if(a.kind==="leaves")if(v(111)!=="SOwQW"){const q=(_0x2b9fb3.groups??[])[v(131)](E=>E.id===_0x1c905c);if(!q)return;q.previousGroups=[T[v(161)](_0x2e5375,q)];for(const E of _0x3a5c28)q.leafIds.includes(E)||q.leafIds.push(E)}else{const q=a.leafIds;if(q[v(150)](b)){const E=q[v(158)](R=>R!==b);o[v(137)](E[v(139)],0)?i({kind:o.yuwpD}):o[v(147)](E[v(139)],1)?o[v(128)](i,{kind:v(153),leafId:E[0]}):o.DxRBG(i,{kind:o[v(136)],leafIds:E})}else o.jGBBO("qGPub","geEPB")?o[v(118)](i,{kind:v(127),leafIds:[...q,b]}):_0x1d3a98.groups=_0x2d220b[v(113)].filter(E=>E.id!==_0x4af8d7)}else if(o.BkkLY(a.kind,"leaf")){if(o.RWdJZ(a.leafId,b))return;i({kind:"leaves",leafIds:[a.leafId,b]})}else if(o[v(137)](a[v(143)],o[v(101)])){const q=(u[v(113)]??[])[v(131)](R=>R.id===a[v(116)]),E=q?q[v(109)]:[];if(E.includes(b))return;o.mFJFT(i,{kind:o[v(136)],leafIds:[...E,b]})}else if(o[v(137)](a.kind,o.YwJEW))i({kind:v(125),flowerIds:[a[v(165)]],leafIds:[b]});else if(a[v(143)]===o[v(106)])i({kind:o.GgOwW,flowerIds:a[v(163)],leafIds:[b]});else if(o.RWdJZ(a[v(143)],o[v(144)])){const q=a.flowerIds,E=a[v(109)];if(E.includes(b)){const R=E[v(158)](Y=>Y!==b);R.length===0&&o[v(147)](q.length,0)?i({kind:o.yuwpD}):o[v(130)](R[v(139)],0)&&o.qiwIQ(q.length,1)?o.HPkxm(i,{kind:o.YwJEW,flowerId:q[0]}):R.length===0?i({kind:"flowers",flowerIds:q}):q[v(139)]===0&&R[v(139)]===1?o.uVfqm(i,{kind:o.AoIYV,leafId:R[0]}):o.eNEBb(q[v(139)],0)?o[v(134)](i,{kind:v(127),leafIds:R}):o[v(103)](i,{kind:o.GgOwW,flowerIds:q,leafIds:R})}else i({kind:v(125),flowerIds:q,leafIds:[...E,b]})}else o.BWxRV(i,{kind:"leaves",leafIds:[b]})},[a,i,u[f(113)]]),d=b=>({id:b.id,name:b.name,flowerIds:[...b.flowerIds],leafIds:[...b[f(109)]],rotation:b[f(138)]}),h=o.OULmI(ee.useCallback,b=>{const v=f,T=qt(v(112)),q=(u.groups??[])[v(164)](R=>{const Y=v,U=R.name.match(/^ (\d+)$/);return U?o[Y(115)](parseInt,U[1],10):0}),E=q.length>0?o[v(145)](Math.max(...q),1):1;r(R=>{const Y=v;R[Y(113)]||(R[Y(113)]=[]),R[Y(113)].push({id:T,name:Y(167)+E,flowerIds:[],leafIds:[...b],rotation:0})},!0),i({kind:v(119),groupId:T})},[u[f(113)],r,i]),p=o[f(157)](ee.useCallback,(b,v)=>{const T={zWURW:function(q,E){return q(E)},rNRXw:function(q,E){return q(E)}};o.OULmI(r,q=>{const E=un;if(E(133),E(123)!==E(166)){const R=(q[E(113)]??[]).find(Y=>Y.id===b);if(!R)return;R.previousGroups=[T.rNRXw(d,R)];for(const Y of v)R[E(109)][E(150)](Y)||R.leafIds.push(Y)}else{const R=_0x183342[E(158)](Y=>Y!==_0x54bfad);R[E(139)]===0?XQgkRm[E(105)](_0x2ac516,{kind:XQgkRm[E(169)]}):XQgkRm.GiJAS(R[E(139)],1)?_0x189dfe({kind:"leaf",leafId:R[0]}):_0x4af0c4({kind:"leaves",leafIds:R})}},!0),i({kind:o.BBHVk,groupId:b})},[r,i]),y=ee.useCallback((b,v)=>{const T=f,q=b[0],E=b[T(154)](1);r(R=>{const Y=T;if(o.yuwpD,!R.groups)return;const U=R.groups.find(J=>J.id===q);if(!U)return;const Z=[];for(const J of b){const P=R.groups.find(Q=>Q.id===J);P&&Z[Y(132)](o[Y(141)](d,P))}U[Y(117)]=Z;for(const J of E){const P=R.groups.find(Q=>Q.id===J);if(P){for(const Q of P.leafIds)U.leafIds.includes(Q)||U.leafIds.push(Q);for(const Q of P.flowerIds)U[Y(163)].includes(Q)||U.flowerIds[Y(132)](Q)}}for(const J of v)o[Y(168)]!=="LNrjs"?(HHFiPx.mKALX(_0xa5a98b,P=>{const Q=Y;if(P.leaves=(P[Q(127)]??[])[Q(158)](X=>X.id!==_0x5e1825),P[Q(113)]){for(const X of P.groups)X[Q(109)]=X.leafIds[Q(158)](I=>I!==_0x197205);P.groups=P[Q(113)][Q(158)](X=>X.flowerIds.length+X[Q(109)].length>0)}},!0),HHFiPx[Y(107)](_0x1c757f,{kind:HHFiPx.AHZiF})):U.leafIds.includes(J)||U[Y(109)][Y(132)](J);R.groups=R.groups.filter(J=>!E.includes(J.id))},!0),i({kind:T(119),groupId:q})},[r,i]),S=ee.useCallback(b=>{const v=f,T={GzCWK:v(148),hcmol:"IcJid",gDkoK:o.TiRnD};r(q=>{const E=v;if(T[E(110)]===T[E(102)]){if(_0x21011d[E(127)]=(_0x472975[E(127)]??[])[E(158)](R=>R.id!==_0x2491a1),_0x4e294e.groups){for(const R of _0x2e0e59[E(113)])R[E(109)]=R[E(109)][E(158)](Y=>Y!==_0x3b8e60);_0x5267ec.groups=_0x29fe56.groups[E(158)](R=>R.flowerIds.length+R.leafIds[E(139)]>0)}}else{if(!q[E(113)])return;const R=q[E(113)][E(131)](Y=>Y.id===b);if(!R)return;if(R[E(117)]&&R[E(117)].length>0){q[E(113)]=q.groups[E(158)](Y=>Y.id!==b);for(const Y of R[E(117)])if(T.gDkoK!=="xjwQF")q[E(113)][E(132)]({id:Y.id,name:Y.name,flowerIds:[...Y[E(163)]],leafIds:[...Y.leafIds],rotation:Y[E(138)]});else{if(!_0x3a58d3[E(113)])return;for(const U of _0x3a892a[E(113)])U[E(109)]=U.leafIds[E(158)](Z=>Z!==_0x5d2635);_0x20adfb.groups=_0xcee583[E(113)].filter(U=>U.flowerIds.length+U.leafIds[E(139)]>0)}}else q[E(113)]=q[E(113)][E(158)](Y=>Y.id!==b)}},!0),o.DxRBG(i,{kind:o[v(149)]})},[r,i]),C=ee.useCallback((b,v)=>{const T=f;o[T(115)](r,q=>{const E=T,R=(q.groups??[])[E(131)](Y=>Y.id===v);R&&!R.leafIds[E(150)](b)&&R[E(109)][E(132)](b)},!0)},[r]),D=ee.useCallback(b=>{const v={Atkky:function(T,q,E){return T(q,E)},ktCox:function(T,q){return o.lmNon(T,q)},sBrKS:o.DvljB};r(T=>{const q=un;if(v.ktCox(v[q(160)],q(155))){if(!T[q(113)])return;for(const E of T.groups)E.leafIds=E[q(109)].filter(R=>R!==b);T[q(113)]=T[q(113)].filter(E=>E.flowerIds[q(139)]+E.leafIds.length>0)}else v.Atkky(_0x2b95c4,E=>{const R=q;if(E[R(113)]){for(const Y of E[R(113)])Y[R(109)]=Y[R(109)][R(158)](U=>U!==_0x231335);E.groups=E[R(113)][R(158)](Y=>Y[R(163)][R(139)]+Y.leafIds[R(139)]>0)}},!0)},!0)},[r]);return{deleteLeafById:g,handleShiftLeafSelect:_,groupSelectedLeaves:h,ungroupLeaves:S,addLeafToGroup:C,removeLeafFromGroup:D,addLeavesToGroup:p,mergeLeafGroups:y}}(function(u,r){const a=cn,i=u();for(;;)try{if(parseInt(a(556))/1*(-parseInt(a(532))/2)+-parseInt(a(497))/3+-parseInt(a(559))/4+-parseInt(a(541))/5+parseInt(a(573))/6+-parseInt(a(507))/7*(-parseInt(a(513))/8)+parseInt(a(548))/9*(parseInt(a(524))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,907825);const fb=(function(){const u={tMlvr:function(a,i){return a===i},GTeyJ:"YXafh",aUcgY:"lBlmq",sHjjU:"xkATo"};let r=!0;return function(a,i){const f=cn,o={BRLiR:function(_,d){return u[cn(551)](_,d)},bUKkh:u[f(536)],nmQWf:u.aUcgY,RnRcp:u[f(503)]},g=r?function(){const _=f,d={kIsvH:function(h,p){return o[cn(504)](h,p)}};if(o.bUKkh===o[_(505)]){const h=d.kIsvH(_0x279bd3,2)?[0,3]:_0x29a046===3?[0,1,3]:_0x3e35d5===4?[0,1,2,3]:[0,1,2,3,4];_0xa31411=_0x2bd972[h[_0x2cdaa3]]??_(540)+(_0x5f1bc8+1)}else if(i)if(o[_(565)]!==o[_(565)])_0x527da6[_(499)]=_0xd95824[_(499)],_0x393546[_(539)]=_0x2f740d.scale;else{const h=i[_(521)](a,arguments);return i=null,h}}:function(){};return r=!1,g}})(),kx=fb(void 0,function(){const u=cn,r={eCZet:"(((.+)+)+)+$"};return kx.toString().search(u(547)).toString()[u(543)](kx).search(r[u(561)])});kx();function U0(){const u=["ENLSA0u","uM5sy3a","ve9wv3K","zu10uxy","C2vHCMnO","zMXVD2vYCW","Cg9ZAxrPB24","Bxrmqvu","AeD0y1q","mJK4ody5meThwefNwq","C29YDa","5lI444gK44g+44g/","Bgf5zxjdB3vUDa","BLjTyxe","wLfPr08","ndmYmZeWoe9hBw1Ptq","C3bACK8","CMfKAxvZ","ywjZ","Ewvev0q","vevIAgO","C0HQALu","qLjmAvi","BM1rv2y","CgXHy2vTzw50tw9Kzq","oda4nvDHwg5wzG","zgLtsMO","ChvZAa","C29Tzq","rMXVD2vYia","CMv2zxjZzq","ndq4ruzwELHJ","z3jHzhvHBa","DxjWufG","44or44o844oR","A2jAvLy","t3v0zxi","q2f1EMm","D2LRu1i","yxbWBhK","Dg9tDhjPBMC","qKPpELC","ndCXoti0ndbVvLrIDhy","t09xBee","yMfZzurPyw1LDgvY","B1biDfC","se1QtuC","v0v5sNy","y29Sx3DOAxrL","whLXrui","odi2nJyYAejxvwPy","zMfICMLJu3f1yxjLu2L6zq","C2L6zu1Vzgu","zMX3","r1rLEuO","CM91BMq","rMrzqK8","C2nHBgu","tgf5zxiG","mtm4nJG4mhzmwfvRta","sNviuhi","y29UC3rYDwn0B3i","wKrdDxC","EuD5reK","zgLHBwv0zxi","kcGOlISPkYKRksSK","owLXCLHSCG","BgvUz3rO","AMT1t3G","De1SDNi","zMXVD2vYrgLHBwv0zxi","vM5fv1i","v2HLwuy","zMXVD2vY","m0D5swrgtG","ANjWDeK","whLPy3u","nty2mZiZnNzdD1rpyq","z1vMALq","zunAzxq","sNnRvxC","5y2k44gp44gz"];return U0=function(){return u},U0()}function cn(u,r){u=u-497;const a=U0();let i=a[u];if(cn.BXKgSu===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};cn.jMRLLB=f,cn.XEJltr={},cn.BXKgSu=!0}const o=a[0],g=u+o,_=cn.XEJltr[g];if(_)i=_;else{const d=function(h){this.dqmZug=h,this.mZmXtO=[1,0,0],this.enppNk=function(){return"newState"},this.mhYlrp="\\w+ *\\(\\) *{\\w+ *",this.fQnnMY=`['|"].+['|"];? *}`};d.prototype.KtrJfo=function(){const h=new RegExp(this.mhYlrp+this.fQnnMY),p=h.test(this.enppNk.toString())?--this.mZmXtO[1]:--this.mZmXtO[0];return this.tJJWSt(p)},d.prototype.tJJWSt=function(h){return~h?this.qLiqXv(this.dqmZug):h},d.prototype.qLiqXv=function(h){for(let p=0,y=this.mZmXtO.length;p<y;p++)this.mZmXtO.push(Math.round(Math.random())),y=this.mZmXtO.length;return h(this.mZmXtO[0])},new d(cn).KtrJfo(),i=cn.jMRLLB(i),cn.XEJltr[g]=i}return i}function db({project:u,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:f,pan:o,stageSize:g,CANVAS_MAX_SVG:_}){const d=cn,h={WEyJv:"Layer",XyqEB:"Cauzc",oPHtW:function(v,T,q,E,R){return v(T,q,E,R)},jrptI:function(v,T){return v(T)},MHnPE:"(((.+)+)+)+$",eMtQv:function(v,T){return v(T)},FdYBO:function(v,T){return v*T},yeDWD:"Middle",CoyGC:d(518),VnEWR:function(v,T){return v<T},gUfjT:function(v,T){return v===T},ZDCuw:"uniform",GjDPl:function(v,T){return v+T},PwPbe:function(v,T){return v===T},zylkE:d(514),MZCip:function(v,T,q,E){return v(T,q,E)},nRmaq:function(v,T){return v/T},qcmUj:function(v,T){return v*T},hGtcT:function(v,T){return v-T},kbZVV:function(v,T){return v===T},fRgKf:"itOYt",ZRqyZ:function(v,T){return v>T},AKqTw:function(v,T){return v*T},spZrO:function(v,T){return v/T},ILScU:function(v,T){return v+T},WheYF:function(v,T){return v===T},yGyDI:function(v,T){return v===T},OOWlA:function(v,T,q,E){return v(T,q,E)},kEOAT:function(v,T){return v/T},VhkWQ:function(v,T){return v+T},qCQKF:function(v,T){return v/T},urpPX:function(v,T){return v<T},aehnD:d(520),jDzFz:d(528),jkuOx:d(516),SWANe:d(530),Xyicu:function(v,T){return v===T},mOomi:d(563)},[p,y]=ee.useState(!1),[S,C]=h.eMtQv(ee.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:u.baseDiameter,layerCount:1,petalCount:6,petalType:d(575),sizeMode:h.ZDCuw,sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:p,setShowAddFlowerDialog:y,addFlowerOpts:S,setAddFlowerOpts:C,addFlower:()=>{const v=d,T={layju:h[v(529)],JuHPr:h[v(531)],TOVWy:function(R,Y){return R===Y},diSJj:"ZQiGO",KTkCX:function(R,Y,U,Z,J){return h.oPHtW(R,Y,U,Z,J)}},q=u.fabricSquareSize,E=u.baseDiameter;C(R=>{const Y=v,U={RFlgh:T.layju};if(T[Y(542)]===Y(519)){const Z={...R,fabricSquareSize:q,baseDiameter:E};return T[Y(566)](Z.placementMode,Y(563))?T.TOVWy(Y(578),T[Y(508)])?Z[Y(552)]=la(E,q,{layerCount:Z[Y(576)],sizeMode:Z.sizeMode,sizeStepMm:Z.sizeStepMm}).diameter:_0x36fa93=U.RFlgh:Z[Y(552)]=T.KTkCX(ir,q,Z[Y(576)],Z[Y(534)],Z.sizeStepMm),Z}else _0x4fbafb=_0x868ed6}),h[v(557)](y,!0)},confirmAddFlower:()=>{const v=d,{placementMode:T,layerCount:q,petalCount:E,petalType:R,sizeMode:Y,sizeStepMm:U}=S,Z=S[v(533)],{length:J}=h[v(567)](It,Z),P=.28,Q=Math.round(h.FdYBO(J,P)*10)/10,X=[],I=["Center","Inner",h[v(501)],h.CoyGC,"Outer+"];let H=Q,w=0;for(let fe=0;h[v(553)](fe,q);fe++){const he=fe,ge=1;let de;if(h[v(560)](Y,h[v(544)]))de=ge;else{const at=U/Z;de=ye(h.GjDPl(ge,h[v(538)](he,at)),.3,3)}let pe;if(h.PwPbe(fe,0))pe=Q;else{const at=Y===h[v(564)]?h.MZCip(ye,1+h.nRmaq(h.qcmUj(h[v(572)](fe,1),U),Z),.3,3):1,nt=h[v(538)](J,at);let At;if(h.kbZVV(T,"")){if(h.kbZVV(h.fRgKf,v(571)))return _0x2b7164[v(522)]().search("(((.+)+)+)+$")[v(522)]()[v(543)](_0x3efe6e)[v(568)](bFHjTx.MHnPE);{const ft=70*Math.PI/180,Lt=h.ZRqyZ(q,1)?h.AKqTw(h[v(498)](fe,h[v(572)](q,1)),ft):0,Xt=Math.cos(Lt);At=h.qcmUj(nt*h.spZrO(30,100),Xt)}}else At=h.nRmaq(nt,3);H=h.ILScU(H,At),pe=Math[v(537)](H*10)/10}const Ie=fe===0?0:rl(E,w,E);w=Ie;let Oe;if(h[v(554)](q,1))Oe=h[v(529)];else if(q<=5){const at=q===2?[0,3]:q===3?[0,1,3]:h[v(545)](q,4)?[0,1,2,3]:[0,1,2,3,4];Oe=I[at[fe]]??v(540)+h.GjDPl(fe,1)}else Oe=v(540)+(fe+1);X.push({id:qt("lay"),name:Oe,order:h.hGtcT(q,fe),petalType:R,petalCount:E,radius:pe,scale:de,widthScale:si(E),offsetAngle:Ie,colorId:S.colorId||(u.palette?.[0]?.id??"col_white"),visible:!0,locked:!1})}X[v(512)]();const m=[...X][v(574)]((fe,he)=>fe.order-he.order),z=h[v(517)](T,v(563))?la(S.baseDiameter,Z,{layerCount:q,sizeMode:Y,sizeStepMm:U}).diameter:h[v(527)](ir,Z,q,Y,U);h[v(525)](J0,m,Z,S.flowerDiameter||z);for(const fe of m){const he=X.find(ge=>ge.id===fe.id);he&&(he.radius=fe[v(499)],he.scale=fe[v(539)])}const N=h[v(577)](g.w,g.h),A=h.kEOAT(520,f),G=h.FdYBO(A,N),k=h.nRmaq(-o.x,f),j=-o.y/f;let B=h.VhkWQ(k,h.qCQKF(G,2)),O=j+A/2;const K=25;let F=0;for(;h[v(515)](F,50)&&u.flowers[v(510)](fe=>Math[v(500)](fe[v(570)].x-B)<5&&Math.abs(fe.position.y-O)<5);)if(h.aehnD===h.jDzFz){const fe=_0x57884b[v(533)],he=_0x12fd1b[v(526)];_0x53ea4a(ge=>{const de=v,pe={...ge,fabricSquareSize:fe,baseDiameter:he};return IaegzR[de(523)](pe[de(506)],IaegzR.IuUJm)?pe[de(552)]=_0x86a8ac(he,fe,{layerCount:pe[de(576)],sizeMode:pe.sizeMode,sizeStepMm:pe.sizeStepMm})[de(546)]:pe[de(552)]=IaegzR[de(502)](_0x1e403e,fe,pe[de(576)],pe[de(534)],pe.sizeStepMm),pe}),IaegzR[v(562)](_0x236e4c,!0)}else B+=K,O+=K,B=ye(B,0,_),O=h.OOWlA(ye,O,0,_),F++;const te=S.flowerDiameter||z,se={id:h[v(567)](qt,v(535)),name:v(511)+(u[v(569)][v(549)]+1),position:{x:B,y:O},flowerDiameter:te,rotation:0,layers:X,center:{type:h[v(550)],size:6,color:h.SWANe},fabricSquareSize:Z,placementMode:T,baseDiameter:h[v(558)](T,h.mOomi)?S.baseDiameter:nr(te)};r(fe=>{const he=v;fe[he(569)][he(509)](se)},!0),h[v(567)](a,{kind:v(555),flowerId:se.id}),i(fe=>({...fe,[se.id]:!0})),y(!1)}}}(function(u,r){const a=Yn,i=u();for(;;)try{if(parseInt(a(428))/1+parseInt(a(423))/2+parseInt(a(439))/3*(-parseInt(a(433))/4)+-parseInt(a(415))/5+parseInt(a(437))/6+-parseInt(a(417))/7+-parseInt(a(414))/8*(parseInt(a(432))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,459573);const hb=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),qx=hb(void 0,function(){const u=Yn,r={mfceC:u(420)};return qx.toString().search(r[u(438)]).toString().constructor(qx)[u(441)](u(420))});function Yn(u,r){u=u-411;const a=Z0();let i=a[u];if(Yn.phjJmA===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Yn.xZkoWm=f,Yn.CWUtYZ={},Yn.phjJmA=!0}const o=a[0],g=u+o,_=Yn.CWUtYZ[g];if(_)i=_;else{const d=function(h){this.gYxvgW=h,this.LblKpl=[1,0,0],this.kURfmn=function(){return"newState"},this.MHMGwN="\\w+ *\\(\\) *{\\w+ *",this.NbHGdi=`['|"].+['|"];? *}`};d.prototype.ylonVO=function(){const h=new RegExp(this.MHMGwN+this.NbHGdi),p=h.test(this.kURfmn.toString())?--this.LblKpl[1]:--this.LblKpl[0];return this.BabGvU(p)},d.prototype.BabGvU=function(h){return~h?this.PaGFne(this.gYxvgW):h},d.prototype.PaGFne=function(h){for(let p=0,y=this.LblKpl.length;p<y;p++)this.LblKpl.push(Math.round(Math.random())),y=this.LblKpl.length;return h(this.LblKpl[0])},new d(Yn).ylonVO(),i=Yn.xZkoWm(i),Yn.CWUtYZ[g]=i}return i}function Z0(){const u=["C29Tzq","CgfSzxr0zq","wKH5EMC","nJG4otqYsNbZq2Ly","y29SB3jjza","A0Lsv20","CM91BMq","mJKXntGYzxDABwDt","mtiXmNjuBfj4uq","D3fhzuq","v3bSt3C","qxPezMu","ndq1nZm2nhHtEw9ItW","BwzJzum","ndG2oxHzB3rKEq","r3LnquC","C2vHCMnO","y29Sx2rHCMTNCMvLBG","rMr2AvO","ywjZ","BgvHzG","u1fsvdi","wLPWDhe","EMDmzMK","zMfICMLJu3f1yxjLu2L6zq","y29Sx2DYzwvU","Cg9ZAxrPB24","mtiWzMT1EMjn","mJqZmJi1A2HkwuHZ","seDLEM0","mJy1mdu5ou5HEeLZua","vLzbDhm","BgvHDMvZ","kcGOlISPkYKRksSK","yunWBuS","tgvHzIa","ody1ntu2uKP3DMHT","zMLUza"];return Z0=function(){return u},Z0()}qx();function Wd(u){const r=Yn,a={ptffB:function(i,f){return i/f},wqGeD:function(i,f){return i/f},ZmDSW:function(i,f){return i*f}};return a.ptffB(Math[r(431)](a[r(434)](a.ZmDSW(u,Math[r(446)]),2)*10),10)}function mb({project:u,applyUpdate:r,setSelection:a,zoom:i,pan:f,stageSize:o,CANVAS_MAX_SVG:g}){const _=Yn,d={ZsdPf:function(b,v){return b(v)},DpbFr:function(b,v){return b===v},ZZptq:function(b,v){return b(v)},kaZDj:function(b,v){return b*v},GyMAG:function(b,v){return b/v},ZHyzg:function(b,v){return b+v},wjAEw:function(b,v){return b/v},AzDfe:function(b,v,T,q){return b(v,T,q)},kIRWm:_(412),aCpmK:function(b,v,T){return b(v,T)},oIBrJ:_(445),wXQXo:function(b,v){return b(v)}},[h,p]=d[_(447)](ee.useState,!1),[y,S]=ee.useState({fabricSquareSize:20,leafSizeMm:d.wXQXo(Wd,20),petalType:"",colorId:""});return{showAddLeafDialog:h,setShowAddLeafDialog:p,addLeafOpts:y,setAddLeafOpts:S,addLeaf:()=>{const b=_,v={VVAts:"col_green",WplOw:function(T,q){return T(q)},aFqpj:function(T,q){return d.ZsdPf(T,q)}};if(d.DpbFr(b(416),b(448))){const T=_0x1bfa74[b(411)],q=_0x5a57b0.palette?.find(E=>E.id===b(412)||E.id==="col_darkgreen")?.id??_0x5f1949.palette?.[0]?.id??v[b(418)];v[b(435)](_0xcbb0be,E=>({...E,fabricSquareSize:T,leafSizeMm:_0x518388(T),colorId:E[b(429)]||q})),v.aFqpj(_0x5cab4c,!0)}else{const T=u[b(411)],q=u.palette?.[b(424)](E=>E.id==="col_green"||E.id===b(442))?.id??u[b(426)]?.[0]?.id??"col_green";d[b(447)](S,E=>({...E,fabricSquareSize:T,leafSizeMm:Wd(T),colorId:E.colorId||q})),p(!0)}},confirmAddLeaf:()=>{const b=_,{petalType:v,colorId:T,fabricSquareSize:q}=y,E=o.w/o.h,R=520/i,Y=d.kaZDj(R,E),U=-f.x/i,Z=d[b(440)](-f.y,i);let J=d[b(427)](U,d.GyMAG(Y,2)),P=Z+d.wjAEw(R,2),Q=0;for(;Q<50&&(u.leaves??[])[b(425)](I=>Math[b(444)](I.position.x-J)<5&&Math.abs(I[b(413)].y-P)<5);)J+=25,P+=25,J=d[b(436)](ye,J,0,g),P=ye(P,0,g),Q++;const X={id:qt("leaf"),name:b(422)+((u.leaves??[]).length+1),position:{x:J,y:P},rotation:135,petalType:v,colorId:T||u.palette?.[0]?.id||d[b(430)],fabricSquareSize:q,scale:1,widthScale:1,visible:!0,locked:!1};d[b(421)](r,I=>{const H=b;H(443)==="FdviZ"?(I[H(419)]||(I[H(419)]=[]),I[H(419)].push(X)):(_0x202610.leaves||(_0x15fcce[H(419)]=[]),_0x2c60a1[H(419)].push(_0x4dacc2))},!0),a({kind:d.oIBrJ,leafId:X.id}),d.ZZptq(p,!1)}}}(function(u,r){const a=Hn,i=u();for(;;)try{if(parseInt(a(266))/1+-parseInt(a(262))/2+parseInt(a(261))/3+parseInt(a(263))/4+parseInt(a(236))/5+-parseInt(a(272))/6+-parseInt(a(265))/7*(parseInt(a(233))/8)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(X0,644106);const bb=(function(){const u=Hn,r={zHhft:u(253)};let a=!0;return function(i,f){const o=u,g={DuAky:r[o(235)]},_=a?function(){const d=o;if(f){if(d(274)!=="tRkOv")return _0x4c0eec&&(_0x1bb25c[d(282)]==="layer"||_0x202b60[d(282)]===g.DuAky)?_0x33c08a.layers[d(277)](h=>h.id===_0x348eb8[d(270)])??null:null;{const h=f.apply(i,arguments);return f=null,h}}}:function(){};return a=!1,_}})(),Ix=bb(void 0,function(){const u=Hn,r={KXARN:"(((.+)+)+)+$"};return Ix[u(245)]().search("(((.+)+)+)+$").toString()[u(280)](Ix)[u(243)](r[u(249)])});Ix();function Hn(u,r){u=u-228;const a=X0();let i=a[u];if(Hn.KHGYUN===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",S=p+f;for(let C=0,D,b,v=0;b=d.charAt(v++);~b&&(D=C%4?D*64+b:b,C++%4)?p+=S.charCodeAt(v+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=h.indexOf(b);for(let C=0,D=p.length;C<D;C++)y+="%"+("00"+p.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Hn.EztzFR=f,Hn.lAflMd={},Hn.KHGYUN=!0}const o=a[0],g=u+o,_=Hn.lAflMd[g];if(_)i=_;else{const d=function(h){this.ZLPQdT=h,this.sYhJvb=[1,0,0],this.wnXERg=function(){return"newState"},this.ESXFEm="\\w+ *\\(\\) *{\\w+ *",this.bnKqkn=`['|"].+['|"];? *}`};d.prototype.UFGDil=function(){const h=new RegExp(this.ESXFEm+this.bnKqkn),p=h.test(this.wnXERg.toString())?--this.sYhJvb[1]:--this.sYhJvb[0];return this.MwXphm(p)},d.prototype.MwXphm=function(h){return~h?this.tYDDnd(this.ZLPQdT):h},d.prototype.tYDDnd=function(h){for(let p=0,y=this.sYhJvb.length;p<y;p++)this.sYhJvb.push(Math.round(Math.random())),y=this.sYhJvb.length;return h(this.sYhJvb[0])},new d(Hn).UFGDil(),i=Hn.EztzFR(i),Hn.lAflMd[g]=i}return i}function X0(){const u=["ndqXotmZmvDIBK1YBa","nde2otKYwMfot09Z","C3rLBMnPBa","zMXVD2vYswq","wgrUz00","Bgf5zxjjza","rfj4z0i","nty1oty4mfHVtuXhzG","ANnRs04","DfjRt3y","Aw5JBhvKzxm","D2rKDxm","zMLUza","Axjhthm","A0PTBM4","y29UC3rYDwn0B3i","Bgf5zxi","A2LUza","BgvHzKLK","CM1uqu8","Cgv0ywXZ","zLHLtuK","zMXVD2vYswrZ","uvztAK8","mtzuEM90rLC","zMLSDgvY","EKHOzNq","ntKXotm2mffOz05vuW","BgvHzG","zMXVD2vYCW","BgvHzKLKCW","BM5VBeC","EefrCgS","z3jVDxbZ","C2vHCMnO","vNvIz2C","Dg9tDhjPBMC","BgvHDMvZ","z3jVDxbjza","zKLhB0W","s1HbuK4","uMHdDwW","vKXprhG","r05izLu","Cgv0ywW","zMXVD2vY","z3jVDxa","EvbRueq","C3rLBMnPBeLK","zw5lqNa","yvnOq0K","zhDoswK","mty0nJa1ohrqyNHRyW","mta4ntyZnePKzLvHta","ndK3mZi3nNrSBeXHuW","s21Ks3e"];return X0=function(){return u},X0()}function gb(u,r){const a=Hn,i={jskKN:function(b,v){return b===v},RhCul:"layer",yPkPD:"petals",GNHfU:function(b,v){return b===v},OUHWC:function(b,v){return b===v},fXeMI:"mixed",RWleN:function(b,v){return b===v},BzDet:"iRJwT",irGLs:"xAQpk",THjuj:"leaf",wddus:function(b,v){return b===v},KmdKq:function(b,v){return b===v},RXMlU:"petal",Vubgg:"group",KwJJU:function(b,v){return b===v},nnolG:a(269),kJmnn:function(b,v){return b===v},FxxTt:a(251),bWGNF:a(254),rmTAO:"leaves",enKBp:function(b,v,T){return b(v,T)},QVSjO:function(b,v){return b===v},dwNIi:function(b,v){return b===v},fIGoL:function(b,v){return b===v}},f=ee.useMemo(()=>{const b=a;return i.jskKN(r.kind,b(254))||i.jskKN(r[b(282)],i[b(250)])||i[b(273)](r[b(282)],"petal")||r.kind===i[b(256)]?u.flowers[b(277)](v=>v.id===r[b(268)])??null:null},[u.flowers,r]),o=i.enKBp(ee.useMemo,()=>{const b=a;if(i[b(252)](r.kind,b(238)))return u[b(238)][b(234)](v=>r[b(231)][b(275)](v.id));if(i.OUHWC(r.kind,i[b(230)]))return u[b(238)].filter(v=>r[b(231)].includes(v.id));if(r[b(282)]==="group")if(i.RWleN(i.BzDet,i.BzDet)){const v=(u.groups??[])[b(277)](T=>T.id===r[b(247)]);if(v)return u.flowers[b(234)](T=>v[b(231)][b(275)](T.id))}else return(_0x396e3b[b(246)]??[])[b(277)](v=>v.id===_0x1b2422[b(283)])??null;return[]},[u[a(238)],u[a(242)],r]),g=ee.useMemo(()=>{const b=a,v={aShCI:function(T,q){return T===q}};return i[b(278)]===b(241)?r[b(282)]===i.THjuj?(u[b(246)]??[])[b(277)](T=>T.id===r.leafId)??null:null:v[b(259)](_0x4431ed.kind,b(237))?(_0x2776a2.leaves??[]).find(T=>T.id===_0x34beb7.leafId)??null:null},[u[a(246)],r]),_=i[a(258)](ee.useMemo,()=>{const b=a;return r.kind===b(255)?(u[b(242)]??[]).find(v=>v.id===r.groupId)??null:null},[u[a(242)],r]),d=ee.useMemo(()=>{const b=a;return f&&(i[b(276)](r.kind,i.RhCul)||i[b(264)](r.kind,i.RXMlU))?f.layers.find(v=>v.id===r[b(270)])??null:null},[f,r]),h=i[a(232)](r[a(282)],a(253))?r.index:null,p=i.KmdKq(r[a(282)],i[a(256)])?r.petals:[],y=r[a(282)]===a(267)?(u.stencils??[]).find(b=>b.id===r[a(257)])??null:null,S=i.RWleN(r.kind,a(254))||r.kind===a(281)||i[a(260)](r.kind,a(253))||i[a(248)](r[a(282)],a(229))?r[a(268)]:null,C=ee.useMemo(()=>{const b=a,v={nbrjs:function(T,q,E){return T(q,E)},RtYXN:function(T,q){return i.wddus(T,q)},McBie:"flower"};if(i.jskKN(r.kind,i[b(244)])){const T=(u.groups??[]).find(q=>q.id===r.groupId);if(T)return new Set(T.flowerIds)}if(i.KwJJU(r.kind,b(238)))return new Set(r.flowerIds);if(i.OUHWC(r.kind,i[b(230)]))if(i[b(240)]===b(271)){const T=v.nbrjs(_0x2f8130,_0xe41a46,_0x491dfd[b(268)]);if(T)return v.RtYXN(_0x295ac9[b(282)],v.McBie)?new _0x52f522(T.flowerIds.filter(q=>q!==_0x1a6e08[b(268)])):new _0x774102(T.flowerIds)}else return new Set(r.flowerIds);if(r.kind===b(254)||i[b(264)](r.kind,i.RhCul)||r.kind===i.RXMlU||r[b(282)]==="petals"){const T=ul(u,r[b(268)]);if(T)return i[b(279)](i.FxxTt,"aYSgp")?new _0x85fdb3(_0xad1306[b(239)]):r[b(282)]===i.bWGNF?new Set(T.flowerIds.filter(q=>q!==r[b(268)])):new Set(T[b(231)])}return new Set},[r,u]),D=i[a(258)](ee.useMemo,()=>{const b=a;if(r[b(282)]==="group"){const v=(u.groups??[]).find(T=>T.id===r.groupId);if(v)return new Set(v[b(239)])}if(r[b(282)]===i[b(228)])return new Set(r.leafIds);if(i[b(273)](r.kind,i[b(230)]))return new Set(r.leafIds);if(i[b(279)](r[b(282)],i.THjuj)){const v=Nl(u,r[b(283)]);if(v)return new Set(v.leafIds.filter(T=>T!==r[b(283)]))}return new Set},[r,u]);return{selectedFlower:f,selectedFlowers:o,selectedLeaf:g,selectedGroup:_,selectedLayer:d,selectedPetalIndex:h,selectedPetals:p,selectedStencil:y,selectedFlowerId:S,groupHighlightedFlowerIds:C,groupHighlightedLeafIds:D}}function vb(u){const{project:r,selection:a,setSelection:i,applyUpdate:f}=u,o=ee.useMemo(()=>new Map((r.palette||[]).map(me=>[me.id,me])),[r.palette]),{widths:g,containerRef:_,onDividerPointerDown:d,onDividerDoubleClick:h,isDragging:p,isDesktop:y}=ub(),S=ee.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[C,D]=ee.useState({});ee.useEffect(()=>{try{const Se=localStorage.getItem(S);if(Se){const qe=JSON.parse(Se);if(qe&&typeof qe=="object"){D(qe);return}}}catch{}const me=r.flowers?.[0];me&&D({[me.id]:!0})},[S]),ee.useEffect(()=>{try{localStorage.setItem(S,JSON.stringify(C))}catch{}},[S,C]),ee.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const me=a.flowerId;D(Se=>Se?.[me]?Se:{...Se,[me]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const me=a.flowerIds;D(Se=>{const qe={...Se};for(const Je of me)qe[Je]=!0;return qe})}},[a]);const b=me=>C?.[me]??!1,v=me=>D(Se=>({...Se,[me]:!(Se?.[me]??!1)})),T=ee.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[q,E]=ee.useState({});ee.useEffect(()=>{try{const Se=localStorage.getItem(T);if(Se){const qe=JSON.parse(Se);if(qe&&typeof qe=="object"){E(qe);return}}}catch{}const me=r.groups??[];if(me.length>0){const Se={};for(const qe of me)Se[qe.id]=!0;E(Se)}},[T]),ee.useEffect(()=>{try{localStorage.setItem(T,JSON.stringify(q))}catch{}},[T,q]);const R=me=>q?.[me]??!0,Y=me=>E(Se=>({...Se,[me]:!(Se?.[me]??!0)})),U=ee.useRef({flowerId:null,timer:null}),Z=me=>{const Se=U.current.timer;Se&&window.clearTimeout(Se),U.current.flowerId=me,U.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:me}),D(qe=>({...qe,[me]:!0})),U.current.timer=null,U.current.flowerId=null},200)},J=me=>{const Se=U.current.timer;Se&&U.current.flowerId===me&&window.clearTimeout(Se),U.current.timer=null,U.current.flowerId=null,i({kind:"flower",flowerId:me}),v(me)},P=ee.useRef(null),[Q,X]=ee.useState({w:520,h:520});ee.useEffect(()=>{const me=P.current;if(!me)return;const Se=new ResizeObserver(qe=>{for(const Je of qe){const{width:Ct,height:el}=Je.contentRect;Ct>0&&el>0&&X({w:Ct,h:el})}});return Se.observe(me),()=>Se.disconnect()},[]);const I=me=>{const Se=P.current;if(!Se)return{x:0,y:0};const qe=Se.createSVGPoint();qe.x=me.clientX,qe.y=me.clientY;const Je=Se.getScreenCTM();if(!Je)return{x:0,y:0};const Ct=qe.matrixTransform(Je.inverse());return{x:Ct.x,y:Ct.y}},H=500*xn,w=-300*xn,m=800*xn,z=ee.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[N,A]=ee.useState(6),[G,k]=ee.useState(z[6]),j=ee.useCallback(me=>{A(Se=>{const qe=typeof me=="function"?me(Se):me;return k(z[qe]),qe})},[z]),B=ee.useCallback(me=>{const Se=ye(me,z[0],z[z.length-1]);k(Se);let qe=0,Je=Math.abs(z[0]-Se);for(let Ct=1;Ct<z.length;Ct++){const el=Math.abs(z[Ct]-Se);el<Je&&(qe=Ct,Je=el)}A(qe)},[z]),[O,K]=ee.useState({x:0,y:0}),[F,te]=ee.useState(!0),[se,fe]=ee.useState(!1),he=ee.useRef(null),ge=ee.useMemo(()=>{const me=Q.w/Q.h,Se=520,qe=Se*me;return(Je,Ct=G)=>{const el=ye(Je.x,-(m*Ct-qe),-w*Ct),sl=ye(Je.y,-(m*Ct-Se),-w*Ct);return{x:el,y:sl}}},[Q,G,w,m]),de=ee.useMemo(()=>ge(O),[O,ge]),pe=ee.useCallback(me=>K(me),[]),Ie=ee.useMemo(()=>{const me=Q.w/Q.h,Se=520,qe=Se*me,Je=-de.x/G,Ct=-de.y/G;return`${Je} ${Ct} ${qe/G} ${Se/G}`},[G,de,Q]),{deleteLeafById:Oe,handleShiftLeafSelect:at,groupSelectedLeaves:nt,ungroupLeaves:At,addLeafToGroup:bt,removeLeafFromGroup:ft,addLeavesToGroup:Lt,mergeLeafGroups:Xt}=ob({project:r,applyUpdate:f,selection:a,setSelection:i}),{showAddFlowerDialog:sn,setShowAddFlowerDialog:on,addFlowerOpts:Ze,setAddFlowerOpts:Jt,addFlower:Wt,confirmAddFlower:Un}=db({project:r,applyUpdate:f,setSelection:i,setExpandedFlowers:D,zoom:G,pan:de,stageSize:Q,CANVAS_MAX_SVG:H}),{showAddLeafDialog:Zn,setShowAddLeafDialog:Fn,addLeafOpts:$n,setAddLeafOpts:wn,addLeaf:aa,confirmAddLeaf:fn}=mb({project:r,applyUpdate:f,setSelection:i,zoom:G,pan:de,stageSize:Q,CANVAS_MAX_SVG:H}),{selectedFlower:Gt,selectedFlowers:Mn,selectedLeaf:Ye,selectedLayer:oe,selectedPetalIndex:Be,selectedPetals:ke,selectedStencil:Ce,selectedFlowerId:_e,groupHighlightedFlowerIds:Ae,groupHighlightedLeafIds:ze}=gb(r,a),{deleteFlowerById:we,deleteLayerById:Fe,addOuterLayer:$e,deleteOuterLayer:We,deleteSelected:Ve,groupSelectedFlowers:Te,groupSelectedMixed:Rt,ungroupFlowers:et,ungroupAll:Tt,addToGroup:ut,mergeGroups:lt,addStencil:gt,deleteStencil:jn,handleShiftFlowerSelect:wa,togglePetalSelection:Ft}=xb({project:r,applyUpdate:f,selection:a,setSelection:i,setExpandedFlowers:D,setExpandedGroups:E,zoom:G,pan:de,stageSize:Q,CANVAS_MAX_SVG:H,deleteLeafById:Oe}),De=xm({project:r,selection:a,setSelection:i,applyUpdate:f,dragRef:u.dragRef,zoom:G,pan:de,setPan:pe,stageRef:P,clientToSvgPoint:I,togglePetalSelection:Ft}),[Ot,Al]=ee.useState(0),zn=a.kind,V0=zn==="flower"?a.flowerId:null,Q0=zn==="flowers"?a.flowerIds?.join(","):null,or=zn==="layer"||zn==="petal"?a.layerId:null,ia=zn==="petal"?a.index:null,oi=zn==="petals"?a.petals?.length:null;ee.useEffect(()=>{zn!=="project"&&Al(Date.now())},[zn,V0,Q0,or,ia,oi]),ee.useEffect(()=>{if(!he.current)return;const me=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!me)return;const Se=he.current.querySelector(`[data-flower-id="${me}"]`);Se&&Se.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Tl=ee.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[Ot]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:_,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:y?{width:`${g.left}%`}:void 0,children:x.jsx(om,{project:r,selection:a,setSelection:i,expandedFlowers:C,setExpandedFlowers:D,isExpanded:b,toggleExpanded:v,scheduleFlowerRowClick:Z,handleFlowerRowDoubleClick:J,addFlower:Wt,deleteSelected:Ve,addOuterLayer:$e,deleteOuterLayer:We,deleteFlowerById:we,deleteLayerById:Fe,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:he,groups:r.groups??[],expandedGroups:q,isGroupExpanded:R,toggleGroupExpanded:Y,onSelectGroup:me=>i({kind:"group",groupId:me}),onUngroupFlowers:et,leaves:r.leaves??[],onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onAddLeaf:aa,onDeleteLeaf:Oe})}),x.jsx(Jd,{side:"left",onPointerDown:d,onDoubleClick:h,isDragging:p}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Im,{project:r,selection:a,setSelection:i,applyUpdate:f,paletteMap:o,selectedFlowerId:_e,zoom:G,setZoom:B,zoomLevel:N,setZoomLevel:j,ZOOM_LEVELS:z,pan:de,panRaw:O,setPan:pe,showGrid:F,setShowGrid:te,showHelp:se,setShowHelp:fe,stageRef:P,viewBox:Ie,dashSyncToken:Ot,dashDelay:Tl,beginPan:De.beginPan,updatePan:De.updatePan,endPan:De.endPan,beginMarquee:De.beginMarquee,updateMarquee:De.updateMarquee,endMarquee:De.endMarquee,marqueeRef:De.marqueeRef,marqueeRect:De.marqueeRect,beginFlowerDrag:De.beginFlowerDrag,updateFlowerDrag:De.updateFlowerDrag,endFlowerDrag:De.endFlowerDrag,scaleDragRef:De.scaleDragRef,beginScaleDrag:De.beginScaleDrag,updateScaleDrag:De.updateScaleDrag,endScaleDrag:De.endScaleDrag,rotationDragRef:De.rotationDragRef,beginRotationDrag:De.beginRotationDrag,updateRotationDrag:De.updateRotationDrag,endRotationDrag:De.endRotationDrag,widthScaleDragRef:De.widthScaleDragRef,beginWidthScaleDrag:De.beginWidthScaleDrag,updateWidthScaleDrag:De.updateWidthScaleDrag,endWidthScaleDrag:De.endWidthScaleDrag,radiusDragRef:De.radiusDragRef,beginRadiusDrag:De.beginRadiusDrag,updateRadiusDrag:De.updateRadiusDrag,endRadiusDrag:De.endRadiusDrag,togglePetalSelection:Ft,clientToSvgPoint:I,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:gt,onDeleteStencil:jn,onSelectStencil:me=>i({kind:"stencil",stencilId:me}),handleShiftFlowerSelect:wa,groupHighlightedFlowerIds:Ae,leaves:r.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:ze,onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onSelectGroup:me=>i({kind:"group",groupId:me}),onShiftSelectLeaf:at})}),x.jsx(Jd,{side:"right",onPointerDown:d,onDoubleClick:h,isDragging:p}),x.jsx("div",{className:"min-w-0 shrink-0",style:y?{width:`${g.right}%`}:void 0,children:x.jsx(Fm,{project:r,selection:a,applyUpdate:f,selectedFlower:Gt,selectedFlowers:Mn,selectedLayer:oe,selectedPetalIndex:Be,selectedPetals:ke,selectedStencil:Ce,onDeleteStencil:jn,groups:r.groups??[],onGroupFlowers:Te,onUngroupFlowers:et,onUngroupAll:Tt,onAddToGroup:ut,onMergeGroups:lt,selectedLeaf:Ye,onDeleteLeaf:Oe,onGroupLeaves:nt,onUngroupLeaves:At,onAddLeafToGroup:bt,onRemoveLeafFromGroup:ft,onAddLeavesToGroup:Lt,onMergeLeafGroups:Xt,onGroupMixed:Rt})})]}),sn&&x.jsx(tb,{palette:r.palette,addFlowerOpts:Ze,setAddFlowerOpts:Jt,onConfirm:Un,onCancel:()=>on(!1)}),Zn&&x.jsx(ab,{palette:r.palette,addLeafOpts:$n,setAddLeafOpts:wn,onConfirm:fn,onCancel:()=>Fn(!1)}),se&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>fe(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:me=>me.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>fe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([me,Se])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:me}),x.jsx("td",{className:"py-2 text-neutral-700",children:Se})]},me))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function pb({cg:u}){const[r,a]=ee.useState("w"),[i,f]=ee.useState(""),o=u.totalAreaCm2,g=parseFloat(i),d=i!==""&&Number.isFinite(g)&&g>0?Math.round(o/g*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(h=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[h.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[h.count," "]})]},h.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",o,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>f(h.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>f(h.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function yb(u){const{recipe:r}=u;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[r.colors.map(a=>x.jsx(pb,{cg:a},a.colorId)),r.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function _b(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function Sb(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Cb(u){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function wb(){const[u,r]=ee.useState("home"),[a,i]=ee.useState([]),[f,o]=ee.useState(null),[g,_]=ee.useState({kind:"project"}),[d,h]=ee.useState([]),[p,y]=ee.useState(0),S=ee.useRef(f),C=ee.useRef(d),D=ee.useRef(p);ee.useEffect(()=>{S.current=f},[f]),ee.useEffect(()=>{C.current=d},[d]),ee.useEffect(()=>{D.current=p},[p]);const b=ee.useRef(null),v=ee.useRef(null),T=ee.useRef(null),q=ee.useRef(null),[E,R]=ee.useState(null);ee.useEffect(()=>{const k=E?window.setTimeout(()=>R(null),2200):null;return()=>{k&&window.clearTimeout(k)}},[E]),ee.useEffect(()=>{i(ar())},[]);function Y(k){const j=JSON.stringify(k);h([j]),y(0)}function U(k,j=!0){if(!j){o(ge=>{if(!ge)return ge;const de=ta(ge);return k(de),de.updatedAt=z0(),de});return}const B=S.current;if(!B)return;const O=ta(B);k(O),O.updatedAt=z0(),o(O);const K=C.current,F=D.current;if(K.length===0){Y(O);return}const te=JSON.stringify(O);let fe=[...K.slice(0,F+1),te];const he=50;fe.length>he&&(fe=fe.slice(fe.length-he)),h(fe),y(fe.length-1)}function Z(){y(k=>{if(k<=0)return k;const j=k-1,B=C.current[j];return B&&o(Ca(JSON.parse(B))),R("Undo"),j})}function J(){y(k=>{if(k>=C.current.length-1)return k;const j=k+1,B=C.current[j];return B&&o(Ca(JSON.parse(B))),R("Redo"),j})}function P(){if(!f)return;const k=Zh(f);i(ar()),R(k?"Saved":" ")}function Q(){if(!f)return;const k=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),j=URL.createObjectURL(k),B=document.createElement("a");B.href=j,B.download=`${f.title||"tsumami"}.json`,B.click(),URL.revokeObjectURL(j),R("JSON exported")}function X(k){const j=new FileReader;j.onload=()=>{try{const B=JSON.parse(String(j.result??""));if(!B||typeof B!="object"||!Array.isArray(B.flowers))throw new Error("Invalid JSON");const O=Ca(B);o(O),_({kind:"project"}),Y(O),r("editor"),R("Imported")}catch{R("Import failed")}},j.readAsText(k)}function I(k){const j=Ca(k);o(j),_({kind:"project"}),Y(j),r("editor")}function H(k){return k&&(k.kind==="flower"||k.kind==="layer"||k.kind==="petal")?k.flowerId:null}function w(){if(!f)return;const k=H(g);if(!k)return;const j=f.flowers.find(B=>B.id===k);j&&(v.current=ta(j),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:j},null,2)).catch(()=>{}),R("Flower copied"))}function m(){if(!f||g.kind!=="leaf")return;const k=(f.leaves??[]).find(j=>j.id===g.leafId);k&&(T.current=ta(k),R("Leaf copied"))}function z(){if(!f)return;const k=v.current;if(!k){R("Nothing to paste");return}const j=Oh(k,{x:12+Math.random()*10,y:12+Math.random()*10});U(B=>{B.flowers.push(j)},!0),_({kind:"flower",flowerId:j.id}),R("Flower pasted")}function N(){if(!f)return;const k=T.current;if(!k)return;const j=qt("leaf"),B={...ta(k),id:j,name:k.name+" (copy)",position:{x:k.position.x+30,y:k.position.y+30}};U(O=>{O.leaves||(O.leaves=[]),O.leaves.push(B)},!0),_({kind:"leaf",leafId:B.id}),R("Leaf pasted")}function A(k){if(!f)return;const j=H(g);j&&(U(B=>{const O=B.flowers.findIndex(se=>se.id===j);if(O<0)return;const K=B.flowers,F=K[O];if(!F)return;if(K.splice(O,1),k==="front"){K.push(F);return}if(k==="back"){K.unshift(F);return}if(k==="forward"){if(O>=K.length){K.push(F);return}K.splice(O+1,0,F);return}const te=ye(O-1,0,K.length);K.splice(te,0,F)},!0),R(k==="front"?"Brought to front":k==="back"?"Sent to back":k==="forward"?"Moved forward":"Moved backward"))}ee.useEffect(()=>{function k(B){const O=B;if(!O)return!1;const K=String(O.tagName||"").toLowerCase();return K==="input"||K==="textarea"||K==="select"||!!O.isContentEditable}function j(B){if(!(k(B.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?B.metaKey:B.ctrlKey))){if(u==="editor"){if(B.key.toLowerCase()==="c"){B.preventDefault(),g.kind==="leaf"?m():w();return}if(B.key.toLowerCase()==="v"){B.preventDefault(),T.current&&(g.kind==="leaf"||g.kind==="leaves"||g.kind==="mixed"||!v.current)?N():z();return}}B.key.toLowerCase()==="z"&&(B.preventDefault(),B.shiftKey?J():Z()),B.key.toLowerCase()==="s"&&(B.preventDefault(),P())}}return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[f,d,p,g,u]);const G=ee.useMemo(()=>f?Wh(f):null,[f]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx($h,{view:u,onNavigate:r,project:f,onSave:P,onLoad:()=>r("home"),onImportJson:()=>q.current?.click(),onExportJson:Q,onExportSvg:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&f&&Qh(k,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&f&&Ph(k,`${f.title||"tsumami"}.png`)}}),x.jsx("input",{ref:q,type:"file",accept:"application/json",className:"hidden",onChange:k=>{const j=k.target.files?.[0];j&&X(j),k.currentTarget.value=""}}),E&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:E}),x.jsxs("main",{className:"flex-1",children:[u==="home"&&x.jsx(em,{saved:a,onNew:()=>r("new"),onOpen:k=>{const j=Ca(ta(k));o(j),_({kind:"project"}),Y(j),r("editor")},onDelete:k=>{Xh(k),i(ar()),R("Deleted")}}),u==="new"&&x.jsx(tm,{onBack:()=>r("home"),onCreate:k=>{const j=Rh({title:k});I(j)}}),u==="editor"&&f&&x.jsx(vb,{project:f,selection:g,setSelection:_,applyUpdate:U,onGoRecipe:()=>r("recipe"),onImport:X,dragRef:b,onCopyFlower:w,onPasteFlower:z,onArrangeFlower:A,canPasteFlower:!!v.current,onUndo:Z,onRedo:J,canUndo:p>0,canRedo:p<d.length-1}),u==="recipe"&&f&&G&&x.jsx(yb,{project:f,recipe:G,onBack:()=>r("editor"),onExportJson:Q}),u==="terms"&&x.jsx(_b,{onBack:()=>r("home")}),u==="privacy"&&x.jsx(Sb,{onBack:()=>r("home")}),(u==="editor"||u==="recipe")&&!f&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&x.jsx(Cb,{onNavigate:r})]})}class Mb extends ee.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}wh.createRoot(document.getElementById("root")).render(x.jsx(ee.StrictMode,{children:x.jsx(Mb,{children:x.jsx(wb,{})})}));

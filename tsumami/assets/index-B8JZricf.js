(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var Qu={exports:{}},Wi={};var Sd;function uh(){if(Sd)return Wi;Sd=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var p in o)p!=="key"&&(f[p]=o[p])}else f=o;return o=f.ref,{$$typeof:u,type:r,key:m,ref:o!==void 0?o:null,props:f}}return Wi.Fragment=i,Wi.jsx=a,Wi.jsxs=a,Wi}var wd;function xh(){return wd||(wd=1,Qu.exports=uh()),Qu.exports}var x=xh(),Pu={exports:{}},ze={};var Cd;function sh(){if(Cd)return ze;Cd=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),D=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=D&&N[D]||N["@@iterator"],typeof N=="function"?N:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function B(N,q,Z){this.props=N,this.context=q,this.refs=C,this.updater=Z||z}B.prototype.isReactComponent={},B.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function R(){}R.prototype=B.prototype;function k(N,q,Z){this.props=N,this.context=q,this.refs=C,this.updater=Z||z}var G=k.prototype=new R;G.constructor=k,S(G,B.prototype),G.isPureReactComponent=!0;var H=Array.isArray;function I(){}var E={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function P(N,q,Z){var V=Z.ref;return{$$typeof:u,type:N,key:q,ref:V!==void 0?V:null,props:Z}}function ne(N,q){return P(N.type,q,N.props)}function J(N){return typeof N=="object"&&N!==null&&N.$$typeof===u}function _(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Z){return q[Z]})}var w=/\/+/g;function L(N,q){return typeof N=="object"&&N!==null&&N.key!=null?_(""+N.key):q.toString(36)}function M(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(q){N.status==="pending"&&(N.status="fulfilled",N.value=q)},function(q){N.status==="pending"&&(N.status="rejected",N.reason=q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function j(N,q,Z,V,le){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var de=!1;if(N===null)de=!0;else switch(xe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(N.$$typeof){case u:case i:de=!0;break;case g:return de=N._init,j(de(N._payload),q,Z,V,le)}}if(de)return le=le(N),de=V===""?"."+L(N,0):V,H(le)?(Z="",de!=null&&(Z=de.replace(w,"$&/")+"/"),j(le,q,Z,"",function(Ae){return Ae})):le!=null&&(J(le)&&(le=ne(le,Z+(le.key==null||N&&N.key===le.key?"":(""+le.key).replace(w,"$&/")+"/")+de)),q.push(le)),1;de=0;var oe=V===""?".":V+":";if(H(N))for(var pe=0;pe<N.length;pe++)V=N[pe],xe=oe+L(V,pe),de+=j(V,q,Z,xe,le);else if(pe=b(N),typeof pe=="function")for(N=pe.call(N),pe=0;!(V=N.next()).done;)V=V.value,xe=oe+L(V,pe++),de+=j(V,q,Z,xe,le);else if(xe==="object"){if(typeof N.then=="function")return j(M(N),q,Z,V,le);throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return de}function T(N,q,Z){if(N==null)return N;var V=[],le=0;return j(N,V,"","",function(xe){return q.call(Z,xe,le++)}),V}function O(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(Z){(N._status===0||N._status===-1)&&(N._status=1,N._result=Z)},function(Z){(N._status===0||N._status===-1)&&(N._status=2,N._result=Z)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var W=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Y={map:T,forEach:function(N,q,Z){T(N,function(){q.apply(this,arguments)},Z)},count:function(N){var q=0;return T(N,function(){q++}),q},toArray:function(N){return T(N,function(q){return q})||[]},only:function(N){if(!J(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ze.Activity=v,ze.Children=Y,ze.Component=B,ze.Fragment=a,ze.Profiler=o,ze.PureComponent=k,ze.StrictMode=r,ze.Suspense=h,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,ze.__COMPILER_RUNTIME={__proto__:null,c:function(N){return E.H.useMemoCache(N)}},ze.cache=function(N){return function(){return N.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(N,q,Z){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var V=S({},N.props),le=N.key;if(q!=null)for(xe in q.key!==void 0&&(le=""+q.key),q)!U.call(q,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&q.ref===void 0||(V[xe]=q[xe]);var xe=arguments.length-2;if(xe===1)V.children=Z;else if(1<xe){for(var de=Array(xe),oe=0;oe<xe;oe++)de[oe]=arguments[oe+2];V.children=de}return P(N.type,le,V)},ze.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},ze.createElement=function(N,q,Z){var V,le={},xe=null;if(q!=null)for(V in q.key!==void 0&&(xe=""+q.key),q)U.call(q,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(le[V]=q[V]);var de=arguments.length-2;if(de===1)le.children=Z;else if(1<de){for(var oe=Array(de),pe=0;pe<de;pe++)oe[pe]=arguments[pe+2];le.children=oe}if(N&&N.defaultProps)for(V in de=N.defaultProps,de)le[V]===void 0&&(le[V]=de[V]);return P(N,xe,le)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(N){return{$$typeof:p,render:N}},ze.isValidElement=J,ze.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:O}},ze.memo=function(N,q){return{$$typeof:d,type:N,compare:q===void 0?null:q}},ze.startTransition=function(N){var q=E.T,Z={};E.T=Z;try{var V=N(),le=E.S;le!==null&&le(Z,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(I,W)}catch(xe){W(xe)}finally{q!==null&&Z.types!==null&&(q.types=Z.types),E.T=q}},ze.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},ze.use=function(N){return E.H.use(N)},ze.useActionState=function(N,q,Z){return E.H.useActionState(N,q,Z)},ze.useCallback=function(N,q){return E.H.useCallback(N,q)},ze.useContext=function(N){return E.H.useContext(N)},ze.useDebugValue=function(){},ze.useDeferredValue=function(N,q){return E.H.useDeferredValue(N,q)},ze.useEffect=function(N,q){return E.H.useEffect(N,q)},ze.useEffectEvent=function(N){return E.H.useEffectEvent(N)},ze.useId=function(){return E.H.useId()},ze.useImperativeHandle=function(N,q,Z){return E.H.useImperativeHandle(N,q,Z)},ze.useInsertionEffect=function(N,q){return E.H.useInsertionEffect(N,q)},ze.useLayoutEffect=function(N,q){return E.H.useLayoutEffect(N,q)},ze.useMemo=function(N,q){return E.H.useMemo(N,q)},ze.useOptimistic=function(N,q){return E.H.useOptimistic(N,q)},ze.useReducer=function(N,q,Z){return E.H.useReducer(N,q,Z)},ze.useRef=function(N){return E.H.useRef(N)},ze.useState=function(N){return E.H.useState(N)},ze.useSyncExternalStore=function(N,q,Z){return E.H.useSyncExternalStore(N,q,Z)},ze.useTransition=function(){return E.H.useTransition()},ze.version="19.2.3",ze}var jd;function Nx(){return jd||(jd=1,Pu.exports=sh()),Pu.exports}var F=Nx(),Fu={exports:{}},Ji={},$u={exports:{}},ex={};var Md;function oh(){return Md||(Md=1,(function(u){function i(j,T){var O=j.length;j.push(T);e:for(;0<O;){var W=O-1>>>1,Y=j[W];if(0<o(Y,T))j[W]=T,j[O]=Y,O=W;else break e}}function a(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var T=j[0],O=j.pop();if(O!==T){j[0]=O;e:for(var W=0,Y=j.length,N=Y>>>1;W<N;){var q=2*(W+1)-1,Z=j[q],V=q+1,le=j[V];if(0>o(Z,O))V<Y&&0>o(le,Z)?(j[W]=le,j[V]=O,W=V):(j[W]=Z,j[q]=O,W=q);else if(V<Y&&0>o(le,O))j[W]=le,j[V]=O,W=V;else break e}}return T}function o(j,T){var O=j.sortIndex-T.sortIndex;return O!==0?O:j.id-T.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var m=Date,p=m.now();u.unstable_now=function(){return m.now()-p}}var h=[],d=[],g=1,v=null,D=3,b=!1,z=!1,S=!1,C=!1,B=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function G(j){for(var T=a(d);T!==null;){if(T.callback===null)r(d);else if(T.startTime<=j)r(d),T.sortIndex=T.expirationTime,i(h,T);else break;T=a(d)}}function H(j){if(S=!1,G(j),!z)if(a(h)!==null)z=!0,I||(I=!0,_());else{var T=a(d);T!==null&&M(H,T.startTime-j)}}var I=!1,E=-1,U=5,P=-1;function ne(){return C?!0:!(u.unstable_now()-P<U)}function J(){if(C=!1,I){var j=u.unstable_now();P=j;var T=!0;try{e:{z=!1,S&&(S=!1,R(E),E=-1),b=!0;var O=D;try{t:{for(G(j),v=a(h);v!==null&&!(v.expirationTime>j&&ne());){var W=v.callback;if(typeof W=="function"){v.callback=null,D=v.priorityLevel;var Y=W(v.expirationTime<=j);if(j=u.unstable_now(),typeof Y=="function"){v.callback=Y,G(j),T=!0;break t}v===a(h)&&r(h),G(j)}else r(h);v=a(h)}if(v!==null)T=!0;else{var N=a(d);N!==null&&M(H,N.startTime-j),T=!1}}break e}finally{v=null,D=O,b=!1}T=void 0}}finally{T?_():I=!1}}}var _;if(typeof k=="function")_=function(){k(J)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,L=w.port2;w.port1.onmessage=J,_=function(){L.postMessage(null)}}else _=function(){B(J,0)};function M(j,T){E=B(function(){j(u.unstable_now())},T)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(j){j.callback=null},u.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},u.unstable_getCurrentPriorityLevel=function(){return D},u.unstable_next=function(j){switch(D){case 1:case 2:case 3:var T=3;break;default:T=D}var O=D;D=T;try{return j()}finally{D=O}},u.unstable_requestPaint=function(){C=!0},u.unstable_runWithPriority=function(j,T){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var O=D;D=j;try{return T()}finally{D=O}},u.unstable_scheduleCallback=function(j,T,O){var W=u.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?W+O:W):O=W,j){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=O+Y,j={id:g++,callback:T,priorityLevel:j,startTime:O,expirationTime:Y,sortIndex:-1},O>W?(j.sortIndex=O,i(d,j),a(h)===null&&j===a(d)&&(S?(R(E),E=-1):S=!0,M(H,O-W))):(j.sortIndex=Y,i(h,j),z||b||(z=!0,I||(I=!0,_()))),j},u.unstable_shouldYield=ne,u.unstable_wrapCallback=function(j){var T=D;return function(){var O=D;D=T;try{return j.apply(this,arguments)}finally{D=O}}}})(ex)),ex}var zd;function fh(){return zd||(zd=1,$u.exports=oh()),$u.exports}var tx={exports:{}},Ht={};var Dd;function dh(){if(Dd)return Ht;Dd=1;var u=Nx();function i(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(h,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:h,containerInfo:d,implementation:g}}var m=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ht.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(i(299));return f(h,d,null,g)},Ht.flushSync=function(h){var d=m.T,g=r.p;try{if(m.T=null,r.p=2,h)return h()}finally{m.T=d,r.p=g,r.d.f()}},Ht.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Ht.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Ht.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,v=p(g,d.crossOrigin),D=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:D,fetchPriority:b}):g==="script"&&r.d.X(h,{crossOrigin:v,integrity:D,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ht.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=p(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Ht.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=p(g,d.crossOrigin);r.d.L(h,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ht.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=p(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Ht.requestFormReset=function(h){r.d.r(h)},Ht.unstable_batchedUpdates=function(h,d){return h(d)},Ht.useFormState=function(h,d,g){return m.H.useFormState(h,d,g)},Ht.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ht.version="19.2.3",Ht}var Nd;function hh(){if(Nd)return tx.exports;Nd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),tx.exports=dh(),tx.exports}var Ad;function mh(){if(Ad)return Ji;Ad=1;var u=fh(),i=Nx(),a=hh();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(r(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var s=c.alternate;if(s===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===s.child){for(s=c.child;s;){if(s===n)return h(c),e;if(s===l)return h(c),t;s=s.sibling}throw Error(r(188))}if(n.return!==l.return)n=c,l=s;else{for(var y=!1,A=c.child;A;){if(A===n){y=!0,n=c,l=s;break}if(A===l){y=!0,l=c,n=s;break}A=A.sibling}if(!y){for(A=s.child;A;){if(A===n){y=!0,n=s,l=c;break}if(A===l){y=!0,l=s,n=c;break}A=A.sibling}if(!y)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,D=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),k=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function _(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function L(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case B:return"Profiler";case C:return"StrictMode";case H:return"Suspense";case I:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case k:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E:return t=e.displayName||null,t!==null?t:L(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return L(e(t))}catch{}}return null}var M=Array.isArray,j=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},W=[],Y=-1;function N(e){return{current:e}}function q(e){0>Y||(e.current=W[Y],W[Y]=null,Y--)}function Z(e,t){Y++,W[Y]=e.current,e.current=t}var V=N(null),le=N(null),xe=N(null),de=N(null);function oe(e,t){switch(Z(xe,t),Z(le,e),Z(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zf(t),e=Xf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(V),Z(V,e)}function pe(){q(V),q(le),q(xe)}function Ae(e){e.memoizedState!==null&&Z(de,e);var t=V.current,n=Xf(t,e.type);t!==n&&(Z(le,e),Z(V,n))}function me(e){le.current===e&&(q(V),q(le)),de.current===e&&(q(de),Ii._currentValue=O)}var Le,Xe;function Qe(e){if(Le===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Le=t&&t[1]||"",Xe=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+e+Xe}var Ue=!1;function ot(e,t){if(!e||Ue)return"";Ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var te=ae}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ae){te=ae}e.call(ue.prototype)}}else{try{throw Error()}catch(ae){te=ae}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),y=s[0],A=s[1];if(y&&A){var K=y.split(`
`),ee=A.split(`
`);for(c=l=0;l<K.length&&!K[l].includes("DetermineComponentFrameRoot");)l++;for(;c<ee.length&&!ee[c].includes("DetermineComponentFrameRoot");)c++;if(l===K.length||c===ee.length)for(l=K.length-1,c=ee.length-1;1<=l&&0<=c&&K[l]!==ee[c];)c--;for(;1<=l&&0<=c;l--,c--)if(K[l]!==ee[c]){if(l!==1||c!==1)do if(l--,c--,0>c||K[l]!==ee[c]){var ie=`
`+K[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=c);break}}}finally{Ue=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Qe(n):""}function St(e,t){switch(e.tag){case 26:case 27:case 5:return Qe(e.type);case 16:return Qe("Lazy");case 13:return e.child!==t&&t!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return Qe("Activity");default:return""}}function Nt(e){try{var t="",n=null;do t+=St(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ht=Object.prototype.hasOwnProperty,nt=u.unstable_scheduleCallback,At=u.unstable_cancelCallback,Kl=u.unstable_shouldYield,sa=u.unstable_requestPaint,mt=u.unstable_now,oa=u.unstable_getCurrentPriorityLevel,Gn=u.unstable_ImmediatePriority,fa=u.unstable_UserBlockingPriority,In=u.unstable_NormalPriority,ti=u.unstable_LowPriority,da=u.unstable_IdlePriority,it=u.log,se=u.unstable_setDisableYieldValue,Ce=null,je=null;function we(e){if(typeof it=="function"&&se(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ce,e)}catch{}}var ve=Math.clz32?Math.clz32:Me,Lt=Math.log,ke=Math.LN2;function Me(e){return e>>>=0,e===0?32:31-(Lt(e)/ke|0)|0}var bt=256,tt=262144,rt=4194304;function Oe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function We(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,s=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~s,l!==0?c=Oe(l):(y&=A,y!==0?c=Oe(y):n||(n=A&~e,n!==0&&(c=Oe(n))))):(A=l&~s,A!==0?c=Oe(A):y!==0?c=Oe(y):n||(n=l&~e,n!==0&&(c=Oe(n)))),c===0?0:t!==0&&t!==c&&(t&s)===0&&(s=c&-c,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:c}function kn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Tt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yn(){var e=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),e}function Mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ut(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wt(e,t,n,l,c,s){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var A=e.entanglements,K=e.expirationTimes,ee=e.hiddenUpdates;for(n=y&~n;0<n;){var ie=31-ve(n),ue=1<<ie;A[ie]=0,K[ie]=-1;var te=ee[ie];if(te!==null)for(ee[ie]=null,ie=0;ie<te.length;ie++){var ae=te[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ue}l!==0&&Ze(e,l,0),s!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=s&~(y&~t))}function Ze(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ve(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function ni(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-ve(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function lr(e,t){var n=t&-t;return n=(n&42)!==0?1:pn(n),(n&(e.suspendedLanes|t))!==0?0:n}function pn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ar(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:md(e.type))}function ir(e,t){var n=T.p;try{return T.p=e,t()}finally{T.p=n}}var Un=Math.random().toString(36).slice(2),wt="__reactFiber$"+Un,Ot="__reactProps$"+Un,fe="__reactContainer$"+Un,ge="__reactEvents$"+Un,He="__reactListeners$"+Un,Jt="__reactHandles$"+Un,gt="__reactResources$"+Un,rn="__reactMarker$"+Un;function ai(e){delete e[wt],delete e[Ot],delete e[ge],delete e[He],delete e[Jt]}function ha(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fe]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$f(e);e!==null;){if(n=e[wt])return n;e=$f(e)}return t}e=n,n=e.parentNode}return null}function ma(e){if(e=e[wt]||e[fe]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ii(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ba(e){var t=e[gt];return t||(t=e[gt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function zt(e){e[rn]=!0}var Lx=new Set,Tx={};function Il(e,t){ga(e,t),ga(e+"Capture",t)}function ga(e,t){for(Tx[e]=t,e=0;e<t.length;e++)Lx.add(t[e])}var $d=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bx={},Ex={};function e1(e){return ht.call(Ex,e)?!0:ht.call(Bx,e)?!1:$d.test(e)?Ex[e]=!0:(Bx[e]=!0,!1)}function rr(e,t,n){if(e1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function cr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Qn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function t1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){n=""+y,s.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function I0(e){if(!e._valueTracker){var t=qx(e)?"checked":"value";e._valueTracker=t1(e,t,""+e[t])}}function Gx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=qx(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function ur(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var n1=/[\n"\\]/g;function Sn(e){return e.replace(n1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function U0(e,t,n,l,c,s,y,A){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_n(t)):e.value!==""+_n(t)&&(e.value=""+_n(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Z0(e,y,_n(t)):n!=null?Z0(e,y,_n(n)):l!=null&&e.removeAttribute("value"),c==null&&s!=null&&(e.defaultChecked=!!s),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+_n(A):e.removeAttribute("name")}function kx(e,t,n,l,c,s,y,A){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){I0(e);return}n=n!=null?""+_n(n):"",t=t!=null?""+_n(t):n,A||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),I0(e)}function Z0(e,t,n){t==="number"&&ur(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function va(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Rx(e,t,n){if(t!=null&&(t=""+_n(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+_n(n):""}function Ox(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(M(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=_n(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),I0(e)}function ya(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var l1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hx(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||l1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yx(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Hx(e,c,l)}else for(var s in t)t.hasOwnProperty(s)&&Hx(e,s,t[s])}function X0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(e){return i1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var W0=null;function J0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pa=null,_a=null;function Kx(e){var t=ma(e);if(t&&(e=t.stateNode)){var n=e[Ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(U0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Sn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Ot]||null;if(!c)throw Error(r(90));U0(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Gx(l)}break e;case"textarea":Rx(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&va(e,!!n.multiple,t,!1)}}}var V0=!1;function Ix(e,t,n){if(V0)return e(t,n);V0=!0;try{var l=e(t);return l}finally{if(V0=!1,(pa!==null||_a!==null)&&(Qr(),pa&&(t=pa,e=_a,_a=pa=null,Kx(t),e)))for(t=0;t<e.length;t++)Kx(e[t])}}function ri(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ot]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q0=!1;if(Fn)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Q0=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Q0=!1}var ml=null,P0=null,sr=null;function Ux(){if(sr)return sr;var e,t=P0,n=t.length,l,c="value"in ml?ml.value:ml.textContent,s=c.length;for(e=0;e<n&&t[e]===c[e];e++);var y=n-e;for(l=1;l<=y&&t[n-l]===c[s-l];l++);return sr=c.slice(e,1<l?1-l:void 0)}function or(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fr(){return!0}function Zx(){return!1}function Vt(e){function t(n,l,c,s,y){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=s,this.target=y,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(n=e[A],this[A]=n?n(s):s[A]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fr:Zx,this.isPropagationStopped=Zx,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),t}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=Vt(Ul),ui=v({},Ul,{view:0,detail:0}),r1=Vt(ui),F0,$0,xi,hr=v({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(F0=e.screenX-xi.screenX,$0=e.screenY-xi.screenY):$0=F0=0,xi=e),F0)},movementY:function(e){return"movementY"in e?e.movementY:$0}}),Xx=Vt(hr),c1=v({},hr,{dataTransfer:0}),u1=Vt(c1),x1=v({},ui,{relatedTarget:0}),ec=Vt(x1),s1=v({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),o1=Vt(s1),f1=v({},Ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d1=Vt(f1),h1=v({},Ul,{data:0}),Wx=Vt(h1),m1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g1[e])?!!t[e]:!1}function tc(){return v1}var y1=v({},ui,{key:function(e){if(e.key){var t=m1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(e){return e.type==="keypress"?or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p1=Vt(y1),_1=v({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jx=Vt(_1),S1=v({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),w1=Vt(S1),C1=v({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),j1=Vt(C1),M1=v({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z1=Vt(M1),D1=v({},Ul,{newState:0,oldState:0}),N1=Vt(D1),A1=[9,13,27,32],nc=Fn&&"CompositionEvent"in window,si=null;Fn&&"documentMode"in document&&(si=document.documentMode);var L1=Fn&&"TextEvent"in window&&!si,Vx=Fn&&(!nc||si&&8<si&&11>=si),Qx=" ",Px=!1;function Fx(e,t){switch(e){case"keyup":return A1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $x(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function T1(e,t){switch(e){case"compositionend":return $x(t);case"keypress":return t.which!==32?null:(Px=!0,Qx);case"textInput":return e=t.data,e===Qx&&Px?null:e;default:return null}}function B1(e,t){if(Sa)return e==="compositionend"||!nc&&Fx(e,t)?(e=Ux(),sr=P0=ml=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vx&&t.locale!=="ko"?null:t.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function es(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E1[e.type]:t==="textarea"}function ts(e,t,n,l){pa?_a?_a.push(l):_a=[l]:pa=l,t=l0(t,"onChange"),0<t.length&&(n=new dr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var oi=null,fi=null;function q1(e){Of(e,0)}function mr(e){var t=ii(e);if(Gx(t))return e}function ns(e,t){if(e==="change")return t}var ls=!1;if(Fn){var lc;if(Fn){var ac="oninput"in document;if(!ac){var as=document.createElement("div");as.setAttribute("oninput","return;"),ac=typeof as.oninput=="function"}lc=ac}else lc=!1;ls=lc&&(!document.documentMode||9<document.documentMode)}function is(){oi&&(oi.detachEvent("onpropertychange",rs),fi=oi=null)}function rs(e){if(e.propertyName==="value"&&mr(fi)){var t=[];ts(t,fi,e,J0(e)),Ix(q1,t)}}function G1(e,t,n){e==="focusin"?(is(),oi=t,fi=n,oi.attachEvent("onpropertychange",rs)):e==="focusout"&&is()}function k1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mr(fi)}function R1(e,t){if(e==="click")return mr(t)}function O1(e,t){if(e==="input"||e==="change")return mr(t)}function H1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:H1;function di(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!ht.call(t,c)||!cn(e[c],t[c]))return!1}return!0}function cs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function us(e,t){var n=cs(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cs(n)}}function xs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ss(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ur(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ur(e.document)}return t}function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Y1=Fn&&"documentMode"in document&&11>=document.documentMode,wa=null,rc=null,hi=null,cc=!1;function os(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cc||wa==null||wa!==ur(l)||(l=wa,"selectionStart"in l&&ic(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hi&&di(hi,l)||(hi=l,l=l0(rc,"onSelect"),0<l.length&&(t=new dr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=wa)))}function Zl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ca={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionrun:Zl("Transition","TransitionRun"),transitionstart:Zl("Transition","TransitionStart"),transitioncancel:Zl("Transition","TransitionCancel"),transitionend:Zl("Transition","TransitionEnd")},uc={},fs={};Fn&&(fs=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Xl(e){if(uc[e])return uc[e];if(!Ca[e])return e;var t=Ca[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fs)return uc[e]=t[n];return e}var ds=Xl("animationend"),hs=Xl("animationiteration"),ms=Xl("animationstart"),K1=Xl("transitionrun"),I1=Xl("transitionstart"),U1=Xl("transitioncancel"),bs=Xl("transitionend"),gs=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function Rn(e,t){gs.set(e,t),Il(t,[e])}var br=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],ja=0,sc=0;function gr(){for(var e=ja,t=sc=ja=0;t<e;){var n=wn[t];wn[t++]=null;var l=wn[t];wn[t++]=null;var c=wn[t];wn[t++]=null;var s=wn[t];if(wn[t++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}s!==0&&vs(n,c,s)}}function vr(e,t,n,l){wn[ja++]=e,wn[ja++]=t,wn[ja++]=n,wn[ja++]=l,sc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function oc(e,t,n,l){return vr(e,t,n,l),yr(e)}function Wl(e,t){return vr(e,null,null,t),yr(e)}function vs(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(c=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,c&&t!==null&&(c=31-ve(n),e=s.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),s):null}function yr(e){if(50<Gi)throw Gi=0,pu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ma={};function Z1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,l){return new Z1(e,t,n,l)}function fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $n(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ys(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function pr(e,t,n,l,c,s){var y=0;if(l=e,typeof e=="function")fc(e)&&(y=1);else if(typeof e=="string")y=Q2(e,n,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=un(31,n,t,c),e.elementType=P,e.lanes=s,e;case S:return Jl(n.children,c,s,t);case C:y=8,c|=24;break;case B:return e=un(12,n,t,c|2),e.elementType=B,e.lanes=s,e;case H:return e=un(13,n,t,c),e.elementType=H,e.lanes=s,e;case I:return e=un(19,n,t,c),e.elementType=I,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:y=10;break e;case R:y=9;break e;case G:y=11;break e;case E:y=14;break e;case U:y=16,l=null;break e}y=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=un(y,n,t,c),t.elementType=e,t.type=l,t.lanes=s,t}function Jl(e,t,n,l){return e=un(7,e,l,t),e.lanes=n,e}function dc(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function ps(e){var t=un(18,null,null,0);return t.stateNode=e,t}function hc(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _s=new WeakMap;function Cn(e,t){if(typeof e=="object"&&e!==null){var n=_s.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Nt(t)},_s.set(e,t),t)}return{value:e,source:t,stack:Nt(t)}}var za=[],Da=0,_r=null,mi=0,jn=[],Mn=0,bl=null,Zn=1,Xn="";function el(e,t){za[Da++]=mi,za[Da++]=_r,_r=e,mi=t}function Ss(e,t,n){jn[Mn++]=Zn,jn[Mn++]=Xn,jn[Mn++]=bl,bl=e;var l=Zn;e=Xn;var c=32-ve(l)-1;l&=~(1<<c),n+=1;var s=32-ve(t)+c;if(30<s){var y=c-c%5;s=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Zn=1<<32-ve(t)+c|n<<c|l,Xn=s+e}else Zn=1<<s|n<<c|l,Xn=e}function mc(e){e.return!==null&&(el(e,1),Ss(e,1,0))}function bc(e){for(;e===_r;)_r=za[--Da],za[Da]=null,mi=za[--Da],za[Da]=null;for(;e===bl;)bl=jn[--Mn],jn[Mn]=null,Xn=jn[--Mn],jn[Mn]=null,Zn=jn[--Mn],jn[Mn]=null}function ws(e,t){jn[Mn++]=Zn,jn[Mn++]=Xn,jn[Mn++]=bl,Zn=t.id,Xn=t.overflow,bl=e}var Bt=null,lt=null,Ge=!1,gl=null,zn=!1,gc=Error(r(519));function vl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bi(Cn(t,e)),gc}function Cs(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[wt]=e,t[Ot]=l,n){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(n=0;n<Ri.length;n++)Be(Ri[n],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),kx(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),Ox(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||If(t.textContent,n)?(l.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),l.onScroll!=null&&Be("scroll",t),l.onScrollEnd!=null&&Be("scrollend",t),l.onClick!=null&&(t.onclick=Pn),t=!0):t=!1,t||vl(e,!0)}function js(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Bt=Bt.return}}function Na(e){if(e!==Bt)return!1;if(!Ge)return js(e),Ge=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||qu(e.type,e.memoizedProps)),n=!n),n&&lt&&vl(e),js(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));lt=Ff(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));lt=Ff(e)}else t===27?(t=lt,Tl(e.type)?(e=Hu,Hu=null,lt=e):lt=t):lt=Bt?Nn(e.stateNode.nextSibling):null;return!0}function Vl(){lt=Bt=null,Ge=!1}function vc(){var e=gl;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),gl=null),e}function bi(e){gl===null?gl=[e]:gl.push(e)}var yc=N(null),Ql=null,tl=null;function yl(e,t,n){Z(yc,t._currentValue),t._currentValue=n}function nl(e){e._currentValue=yc.current,q(yc)}function pc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function _c(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var s=c.dependencies;if(s!==null){var y=c.child;s=s.firstContext;e:for(;s!==null;){var A=s;s=c;for(var K=0;K<t.length;K++)if(A.context===t[K]){s.lanes|=n,A=s.alternate,A!==null&&(A.lanes|=n),pc(s.return,n,e),l||(y=null);break e}s=A.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=n,s=y.alternate,s!==null&&(s.lanes|=n),pc(y,n,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Aa(e,t,n,l){e=null;for(var c=t,s=!1;c!==null;){if(!s){if((c.flags&524288)!==0)s=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var A=c.type;cn(c.pendingProps.value,y.value)||(e!==null?e.push(A):e=[A])}}else if(c===de.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ii):e=[Ii])}c=c.return}e!==null&&_c(t,e,n,l),t.flags|=262144}function Sr(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pl(e){Ql=e,tl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return Ms(Ql,e)}function wr(e,t){return Ql===null&&Pl(e),Ms(e,t)}function Ms(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},tl===null){if(e===null)throw Error(r(308));tl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tl=tl.next=t;return n}var X1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},W1=u.unstable_scheduleCallback,J1=u.unstable_NormalPriority,vt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new X1,data:new Map,refCount:0}}function gi(e){e.refCount--,e.refCount===0&&W1(J1,function(){e.controller.abort()})}var vi=null,wc=0,La=0,Ta=null;function V1(e,t){if(vi===null){var n=vi=[];wc=0,La=Mu(),Ta={status:"pending",value:void 0,then:function(l){n.push(l)}}}return wc++,t.then(zs,zs),t}function zs(){if(--wc===0&&vi!==null){Ta!==null&&(Ta.status="fulfilled");var e=vi;vi=null,La=0,Ta=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Q1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Ds=j.S;j.S=function(e,t){df=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&V1(e,t),Ds!==null&&Ds(e,t)};var Fl=N(null);function Cc(){var e=Fl.current;return e!==null?e:et.pooledCache}function Cr(e,t){t===null?Z(Fl,Fl.current):Z(Fl,t.pool)}function Ns(){var e=Cc();return e===null?null:{parent:vt._currentValue,pool:e}}var Ba=Error(r(460)),jc=Error(r(474)),jr=Error(r(542)),Mr={then:function(){}};function As(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ls(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Pn,Pn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bs(e),e;default:if(typeof t.status=="string")t.then(Pn,Pn);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bs(e),e}throw ea=t,Ba}}function $l(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ea=n,Ba):n}}var ea=null;function Ts(){if(ea===null)throw Error(r(459));var e=ea;return ea=null,e}function Bs(e){if(e===Ba||e===jr)throw Error(r(483))}var Ea=null,yi=0;function zr(e){var t=yi;return yi+=1,Ea===null&&(Ea=[]),Ls(Ea,e,t)}function pi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Dr(e,t){throw t.$$typeof===D?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Es(e){function t(Q,X){if(e){var $=Q.deletions;$===null?(Q.deletions=[X],Q.flags|=16):$.push(X)}}function n(Q,X){if(!e)return null;for(;X!==null;)t(Q,X),X=X.sibling;return null}function l(Q){for(var X=new Map;Q!==null;)Q.key!==null?X.set(Q.key,Q):X.set(Q.index,Q),Q=Q.sibling;return X}function c(Q,X){return Q=$n(Q,X),Q.index=0,Q.sibling=null,Q}function s(Q,X,$){return Q.index=$,e?($=Q.alternate,$!==null?($=$.index,$<X?(Q.flags|=67108866,X):$):(Q.flags|=67108866,X)):(Q.flags|=1048576,X)}function y(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function A(Q,X,$,re){return X===null||X.tag!==6?(X=dc($,Q.mode,re),X.return=Q,X):(X=c(X,$),X.return=Q,X)}function K(Q,X,$,re){var ye=$.type;return ye===S?ie(Q,X,$.props.children,re,$.key):X!==null&&(X.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===U&&$l(ye)===X.type)?(X=c(X,$.props),pi(X,$),X.return=Q,X):(X=pr($.type,$.key,$.props,null,Q.mode,re),pi(X,$),X.return=Q,X)}function ee(Q,X,$,re){return X===null||X.tag!==4||X.stateNode.containerInfo!==$.containerInfo||X.stateNode.implementation!==$.implementation?(X=hc($,Q.mode,re),X.return=Q,X):(X=c(X,$.children||[]),X.return=Q,X)}function ie(Q,X,$,re,ye){return X===null||X.tag!==7?(X=Jl($,Q.mode,re,ye),X.return=Q,X):(X=c(X,$),X.return=Q,X)}function ue(Q,X,$){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=dc(""+X,Q.mode,$),X.return=Q,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return $=pr(X.type,X.key,X.props,null,Q.mode,$),pi($,X),$.return=Q,$;case z:return X=hc(X,Q.mode,$),X.return=Q,X;case U:return X=$l(X),ue(Q,X,$)}if(M(X)||_(X))return X=Jl(X,Q.mode,$,null),X.return=Q,X;if(typeof X.then=="function")return ue(Q,zr(X),$);if(X.$$typeof===k)return ue(Q,wr(Q,X),$);Dr(Q,X)}return null}function te(Q,X,$,re){var ye=X!==null?X.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ye!==null?null:A(Q,X,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===ye?K(Q,X,$,re):null;case z:return $.key===ye?ee(Q,X,$,re):null;case U:return $=$l($),te(Q,X,$,re)}if(M($)||_($))return ye!==null?null:ie(Q,X,$,re,null);if(typeof $.then=="function")return te(Q,X,zr($),re);if($.$$typeof===k)return te(Q,X,wr(Q,$),re);Dr(Q,$)}return null}function ae(Q,X,$,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Q=Q.get($)||null,A(X,Q,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return Q=Q.get(re.key===null?$:re.key)||null,K(X,Q,re,ye);case z:return Q=Q.get(re.key===null?$:re.key)||null,ee(X,Q,re,ye);case U:return re=$l(re),ae(Q,X,$,re,ye)}if(M(re)||_(re))return Q=Q.get($)||null,ie(X,Q,re,ye,null);if(typeof re.then=="function")return ae(Q,X,$,zr(re),ye);if(re.$$typeof===k)return ae(Q,X,$,wr(X,re),ye);Dr(X,re)}return null}function he(Q,X,$,re){for(var ye=null,Ye=null,be=X,Ne=X=0,qe=null;be!==null&&Ne<$.length;Ne++){be.index>Ne?(qe=be,be=null):qe=be.sibling;var Ke=te(Q,be,$[Ne],re);if(Ke===null){be===null&&(be=qe);break}e&&be&&Ke.alternate===null&&t(Q,be),X=s(Ke,X,Ne),Ye===null?ye=Ke:Ye.sibling=Ke,Ye=Ke,be=qe}if(Ne===$.length)return n(Q,be),Ge&&el(Q,Ne),ye;if(be===null){for(;Ne<$.length;Ne++)be=ue(Q,$[Ne],re),be!==null&&(X=s(be,X,Ne),Ye===null?ye=be:Ye.sibling=be,Ye=be);return Ge&&el(Q,Ne),ye}for(be=l(be);Ne<$.length;Ne++)qe=ae(be,Q,Ne,$[Ne],re),qe!==null&&(e&&qe.alternate!==null&&be.delete(qe.key===null?Ne:qe.key),X=s(qe,X,Ne),Ye===null?ye=qe:Ye.sibling=qe,Ye=qe);return e&&be.forEach(function(kl){return t(Q,kl)}),Ge&&el(Q,Ne),ye}function _e(Q,X,$,re){if($==null)throw Error(r(151));for(var ye=null,Ye=null,be=X,Ne=X=0,qe=null,Ke=$.next();be!==null&&!Ke.done;Ne++,Ke=$.next()){be.index>Ne?(qe=be,be=null):qe=be.sibling;var kl=te(Q,be,Ke.value,re);if(kl===null){be===null&&(be=qe);break}e&&be&&kl.alternate===null&&t(Q,be),X=s(kl,X,Ne),Ye===null?ye=kl:Ye.sibling=kl,Ye=kl,be=qe}if(Ke.done)return n(Q,be),Ge&&el(Q,Ne),ye;if(be===null){for(;!Ke.done;Ne++,Ke=$.next())Ke=ue(Q,Ke.value,re),Ke!==null&&(X=s(Ke,X,Ne),Ye===null?ye=Ke:Ye.sibling=Ke,Ye=Ke);return Ge&&el(Q,Ne),ye}for(be=l(be);!Ke.done;Ne++,Ke=$.next())Ke=ae(be,Q,Ne,Ke.value,re),Ke!==null&&(e&&Ke.alternate!==null&&be.delete(Ke.key===null?Ne:Ke.key),X=s(Ke,X,Ne),Ye===null?ye=Ke:Ye.sibling=Ke,Ye=Ke);return e&&be.forEach(function(ch){return t(Q,ch)}),Ge&&el(Q,Ne),ye}function $e(Q,X,$,re){if(typeof $=="object"&&$!==null&&$.type===S&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var ye=$.key;X!==null;){if(X.key===ye){if(ye=$.type,ye===S){if(X.tag===7){n(Q,X.sibling),re=c(X,$.props.children),re.return=Q,Q=re;break e}}else if(X.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===U&&$l(ye)===X.type){n(Q,X.sibling),re=c(X,$.props),pi(re,$),re.return=Q,Q=re;break e}n(Q,X);break}else t(Q,X);X=X.sibling}$.type===S?(re=Jl($.props.children,Q.mode,re,$.key),re.return=Q,Q=re):(re=pr($.type,$.key,$.props,null,Q.mode,re),pi(re,$),re.return=Q,Q=re)}return y(Q);case z:e:{for(ye=$.key;X!==null;){if(X.key===ye)if(X.tag===4&&X.stateNode.containerInfo===$.containerInfo&&X.stateNode.implementation===$.implementation){n(Q,X.sibling),re=c(X,$.children||[]),re.return=Q,Q=re;break e}else{n(Q,X);break}else t(Q,X);X=X.sibling}re=hc($,Q.mode,re),re.return=Q,Q=re}return y(Q);case U:return $=$l($),$e(Q,X,$,re)}if(M($))return he(Q,X,$,re);if(_($)){if(ye=_($),typeof ye!="function")throw Error(r(150));return $=ye.call($),_e(Q,X,$,re)}if(typeof $.then=="function")return $e(Q,X,zr($),re);if($.$$typeof===k)return $e(Q,X,wr(Q,$),re);Dr(Q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,X!==null&&X.tag===6?(n(Q,X.sibling),re=c(X,$),re.return=Q,Q=re):(n(Q,X),re=dc($,Q.mode,re),re.return=Q,Q=re),y(Q)):n(Q,X)}return function(Q,X,$,re){try{yi=0;var ye=$e(Q,X,$,re);return Ea=null,ye}catch(be){if(be===Ba||be===jr)throw be;var Ye=un(29,be,null,Q.mode);return Ye.lanes=re,Ye.return=Q,Ye}}}var ta=Es(!0),qs=Es(!1),pl=!1;function Mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _l(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=yr(e),vs(e,null,n),t}return vr(e,l,t,n),yr(e)}function _i(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ni(e,n)}}function Dc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?c=s=y:s=s.next=y,n=n.next}while(n!==null);s===null?c=s=t:s=s.next=t}else c=s=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Nc=!1;function Si(){if(Nc){var e=Ta;if(e!==null)throw e}}function wi(e,t,n,l){Nc=!1;var c=e.updateQueue;pl=!1;var s=c.firstBaseUpdate,y=c.lastBaseUpdate,A=c.shared.pending;if(A!==null){c.shared.pending=null;var K=A,ee=K.next;K.next=null,y===null?s=ee:y.next=ee,y=K;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==y&&(A===null?ie.firstBaseUpdate=ee:A.next=ee,ie.lastBaseUpdate=K))}if(s!==null){var ue=c.baseState;y=0,ie=ee=K=null,A=s;do{var te=A.lane&-536870913,ae=te!==A.lane;if(ae?(Ee&te)===te:(l&te)===te){te!==0&&te===La&&(Nc=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var he=e,_e=A;te=t;var $e=n;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){ue=he.call($e,ue,te);break e}ue=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,te=typeof he=="function"?he.call($e,ue,te):he,te==null)break e;ue=v({},ue,te);break e;case 2:pl=!0}}te=A.callback,te!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=c.callbacks,ae===null?c.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(ee=ie=ae,K=ue):ie=ie.next=ae,y|=te;if(A=A.next,A===null){if(A=c.shared.pending,A===null)break;ae=A,A=ae.next,ae.next=null,c.lastBaseUpdate=ae,c.shared.pending=null}}while(!0);ie===null&&(K=ue),c.baseState=K,c.firstBaseUpdate=ee,c.lastBaseUpdate=ie,s===null&&(c.shared.lanes=0),zl|=y,e.lanes=y,e.memoizedState=ue}}function Gs(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function ks(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Gs(n[e],t)}var qa=N(null),Nr=N(0);function Rs(e,t){e=ol,Z(Nr,e),Z(qa,t),ol=e|t.baseLanes}function Ac(){Z(Nr,ol),Z(qa,qa.current)}function Lc(){ol=Nr.current,q(qa),q(Nr)}var xn=N(null),Dn=null;function wl(e){var t=e.alternate;Z(ft,ft.current&1),Z(xn,e),Dn===null&&(t===null||qa.current!==null||t.memoizedState!==null)&&(Dn=e)}function Tc(e){Z(ft,ft.current),Z(xn,e),Dn===null&&(Dn=e)}function Os(e){e.tag===22?(Z(ft,ft.current),Z(xn,e),Dn===null&&(Dn=e)):Cl()}function Cl(){Z(ft,ft.current),Z(xn,xn.current)}function sn(e){q(xn),Dn===e&&(Dn=null),q(ft)}var ft=N(0);function Ar(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ru(n)||Ou(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=0,De=null,Pe=null,yt=null,Lr=!1,Ga=!1,na=!1,Tr=0,Ci=0,ka=null,P1=0;function xt(){throw Error(r(321))}function Bc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function Ec(e,t,n,l,c,s){return ll=s,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?wo:Vc,na=!1,s=n(l,c),na=!1,Ga&&(s=Ys(t,n,l,c)),Hs(e),s}function Hs(e){j.H=zi;var t=Pe!==null&&Pe.next!==null;if(ll=0,yt=Pe=De=null,Lr=!1,Ci=0,ka=null,t)throw Error(r(300));e===null||pt||(e=e.dependencies,e!==null&&Sr(e)&&(pt=!0))}function Ys(e,t,n,l){De=e;var c=0;do{if(Ga&&(ka=null),Ci=0,Ga=!1,25<=c)throw Error(r(301));if(c+=1,yt=Pe=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}j.H=Co,s=t(n,l)}while(Ga);return s}function F1(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?ji(t):t,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(De.flags|=1024),t}function qc(){var e=Tr!==0;return Tr=0,e}function Gc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function kc(e){if(Lr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Lr=!1}ll=0,yt=Pe=De=null,Ga=!1,Ci=Tr=0,ka=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?De.memoizedState=yt=e:yt=yt.next=e,yt}function dt(){if(Pe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=yt===null?De.memoizedState:yt.next;if(t!==null)yt=t,Pe=e;else{if(e===null)throw De.alternate===null?Error(r(467)):Error(r(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},yt===null?De.memoizedState=yt=e:yt=yt.next=e}return yt}function Br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ji(e){var t=Ci;return Ci+=1,ka===null&&(ka=[]),e=Ls(ka,e,t),t=De,(yt===null?t.memoizedState:yt.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?wo:Vc),e}function Er(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ji(e);if(e.$$typeof===k)return Et(e)}throw Error(r(438,String(e)))}function Rc(e){var t=null,n=De.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Br(),De.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=ne;return t.index++,n}function al(e,t){return typeof t=="function"?t(e):t}function qr(e){var t=dt();return Oc(t,Pe,e)}function Oc(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=e.baseQueue,s=l.pending;if(s!==null){if(c!==null){var y=c.next;c.next=s.next,s.next=y}t.baseQueue=c=s,l.pending=null}if(s=e.baseState,c===null)e.memoizedState=s;else{t=c.next;var A=y=null,K=null,ee=t,ie=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(Ee&ue)===ue:(ll&ue)===ue){var te=ee.revertLane;if(te===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===La&&(ie=!0);else if((ll&te)===te){ee=ee.next,te===La&&(ie=!0);continue}else ue={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},K===null?(A=K=ue,y=s):K=K.next=ue,De.lanes|=te,zl|=te;ue=ee.action,na&&n(s,ue),s=ee.hasEagerState?ee.eagerState:n(s,ue)}else te={lane:ue,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},K===null?(A=K=te,y=s):K=K.next=te,De.lanes|=ue,zl|=ue;ee=ee.next}while(ee!==null&&ee!==t);if(K===null?y=s:K.next=A,!cn(s,e.memoizedState)&&(pt=!0,ie&&(n=Ta,n!==null)))throw n;e.memoizedState=s,e.baseState=y,e.baseQueue=K,l.lastRenderedState=s}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Hc(e){var t=dt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,s=t.memoizedState;if(c!==null){n.pending=null;var y=c=c.next;do s=e(s,y.action),y=y.next;while(y!==c);cn(s,t.memoizedState)||(pt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Ks(e,t,n){var l=De,c=dt(),s=Ge;if(s){if(n===void 0)throw Error(r(407));n=n()}else n=t();var y=!cn((Pe||c).memoizedState,n);if(y&&(c.memoizedState=n,pt=!0),c=c.queue,Ic(Zs.bind(null,l,c,e),[e]),c.getSnapshot!==t||y||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Ra(9,{destroy:void 0},Us.bind(null,l,c,n,t),null),et===null)throw Error(r(349));s||(ll&127)!==0||Is(l,t,n)}return n}function Is(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t=Br(),De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Us(e,t,n,l){t.value=n,t.getSnapshot=l,Xs(t)&&Ws(e)}function Zs(e,t,n){return n(function(){Xs(t)&&Ws(e)})}function Xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function Ws(e){var t=Wl(e,2);t!==null&&en(t,e,2)}function Yc(e){var t=Ut();if(typeof e=="function"){var n=e;if(e=n(),na){we(!0);try{n()}finally{we(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:e},t}function Js(e,t,n,l){return e.baseState=n,Oc(e,Pe,typeof l=="function"?l:al)}function $1(e,t,n,l,c){if(Rr(e))throw Error(r(485));if(e=t.action,e!==null){var s={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){s.listeners.push(y)}};j.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,Vs(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Vs(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var s=j.T,y={};j.T=y;try{var A=n(c,l),K=j.S;K!==null&&K(y,A),Qs(e,t,A)}catch(ee){Kc(e,t,ee)}finally{s!==null&&y.types!==null&&(s.types=y.types),j.T=s}}else try{s=n(c,l),Qs(e,t,s)}catch(ee){Kc(e,t,ee)}}function Qs(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Ps(e,t,l)},function(l){return Kc(e,t,l)}):Ps(e,t,n)}function Ps(e,t,n){t.status="fulfilled",t.value=n,Fs(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Vs(e,n)))}function Kc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Fs(t),t=t.next;while(t!==l)}e.action=null}function Fs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $s(e,t){return t}function eo(e,t){if(Ge){var n=et.formState;if(n!==null){e:{var l=De;if(Ge){if(lt){t:{for(var c=lt,s=zn;c.nodeType!==8;){if(!s){c=null;break t}if(c=Nn(c.nextSibling),c===null){c=null;break t}}s=c.data,c=s==="F!"||s==="F"?c:null}if(c){lt=Nn(c.nextSibling),l=c.data==="F!";break e}}vl(l)}l=!1}l&&(t=n[0])}}return n=Ut(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:t},n.queue=l,n=po.bind(null,De,l),l.dispatch=n,l=Yc(!1),s=Jc.bind(null,De,!1,l.queue),l=Ut(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=$1.bind(null,De,c,s,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function to(e){var t=dt();return no(t,Pe,e)}function no(e,t,n){if(t=Oc(e,t,$s)[0],e=qr(al)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ji(t)}catch(y){throw y===Ba?jr:y}else l=t;t=dt();var c=t.queue,s=c.dispatch;return n!==t.memoizedState&&(De.flags|=2048,Ra(9,{destroy:void 0},e2.bind(null,c,n),null)),[l,s,e]}function e2(e,t){e.action=t}function lo(e){var t=dt(),n=Pe;if(n!==null)return no(t,n,e);dt(),t=t.memoizedState,n=dt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ra(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=De.updateQueue,t===null&&(t=Br(),De.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function ao(){return dt().memoizedState}function Gr(e,t,n,l){var c=Ut();De.flags|=e,c.memoizedState=Ra(1|t,{destroy:void 0},n,l===void 0?null:l)}function kr(e,t,n,l){var c=dt();l=l===void 0?null:l;var s=c.memoizedState.inst;Pe!==null&&l!==null&&Bc(l,Pe.memoizedState.deps)?c.memoizedState=Ra(t,s,n,l):(De.flags|=e,c.memoizedState=Ra(1|t,s,n,l))}function io(e,t){Gr(8390656,8,e,t)}function Ic(e,t){kr(2048,8,e,t)}function t2(e){De.flags|=4;var t=De.updateQueue;if(t===null)t=Br(),De.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ro(e){var t=dt().memoizedState;return t2({ref:t,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function co(e,t){return kr(4,2,e,t)}function uo(e,t){return kr(4,4,e,t)}function xo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function so(e,t,n){n=n!=null?n.concat([e]):null,kr(4,4,xo.bind(null,t,e),n)}function Uc(){}function oo(e,t){var n=dt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Bc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function fo(e,t){var n=dt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Bc(t,l[1]))return l[0];if(l=e(),na){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[l,t],l}function Zc(e,t,n){return n===void 0||(ll&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=mf(),De.lanes|=e,zl|=e,n)}function ho(e,t,n,l){return cn(n,t)?n:qa.current!==null?(e=Zc(e,n,l),cn(e,t)||(pt=!0),e):(ll&42)===0||(ll&1073741824)!==0&&(Ee&261930)===0?(pt=!0,e.memoizedState=n):(e=mf(),De.lanes|=e,zl|=e,t)}function mo(e,t,n,l,c){var s=T.p;T.p=s!==0&&8>s?s:8;var y=j.T,A={};j.T=A,Jc(e,!1,t,n);try{var K=c(),ee=j.S;if(ee!==null&&ee(A,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ie=Q1(K,l);Mi(e,t,ie,dn(e))}else Mi(e,t,l,dn(e))}catch(ue){Mi(e,t,{then:function(){},status:"rejected",reason:ue},dn())}finally{T.p=s,y!==null&&A.types!==null&&(y.types=A.types),j.T=y}}function n2(){}function Xc(e,t,n,l){if(e.tag!==5)throw Error(r(476));var c=bo(e).queue;mo(e,c,t,O,n===null?n2:function(){return go(e),n(l)})}function bo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:O},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function go(e){var t=bo(e);t.next===null&&(t=e.alternate.memoizedState),Mi(e,t.next.queue,{},dn())}function Wc(){return Et(Ii)}function vo(){return dt().memoizedState}function yo(){return dt().memoizedState}function l2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=dn();e=_l(n);var l=Sl(t,e,n);l!==null&&(en(l,t,n),_i(l,t,n)),t={cache:Sc()},e.payload=t;return}t=t.return}}function a2(e,t,n){var l=dn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Rr(e)?_o(t,n):(n=oc(e,t,n,l),n!==null&&(en(n,e,l),So(n,t,l)))}function po(e,t,n){var l=dn();Mi(e,t,n,l)}function Mi(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rr(e))_o(t,c);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var y=t.lastRenderedState,A=s(y,n);if(c.hasEagerState=!0,c.eagerState=A,cn(A,y))return vr(e,t,c,0),et===null&&gr(),!1}catch{}if(n=oc(e,t,c,l),n!==null)return en(n,e,l),So(n,t,l),!0}return!1}function Jc(e,t,n,l){if(l={lane:2,revertLane:Mu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rr(e)){if(t)throw Error(r(479))}else t=oc(e,n,l,2),t!==null&&en(t,e,2)}function Rr(e){var t=e.alternate;return e===De||t!==null&&t===De}function _o(e,t){Ga=Lr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function So(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ni(e,n)}}var zi={readContext:Et,use:Er,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};zi.useEffectEvent=xt;var wo={readContext:Et,use:Er,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:io,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Gr(4194308,4,xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gr(4194308,4,e,t)},useInsertionEffect:function(e,t){Gr(4,2,e,t)},useMemo:function(e,t){var n=Ut();t=t===void 0?null:t;var l=e();if(na){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Ut();if(n!==void 0){var c=n(t);if(na){we(!0);try{n(t)}finally{we(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=a2.bind(null,De,e),[l.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=Yc(e);var t=e.queue,n=po.bind(null,De,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Uc,useDeferredValue:function(e,t){var n=Ut();return Zc(n,e,t)},useTransition:function(){var e=Yc(!1);return e=mo.bind(null,De,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=De,c=Ut();if(Ge){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),et===null)throw Error(r(349));(Ee&127)!==0||Is(l,t,n)}c.memoizedState=n;var s={value:n,getSnapshot:t};return c.queue=s,io(Zs.bind(null,l,s,e),[e]),l.flags|=2048,Ra(9,{destroy:void 0},Us.bind(null,l,s,n,t),null),n},useId:function(){var e=Ut(),t=et.identifierPrefix;if(Ge){var n=Xn,l=Zn;n=(l&~(1<<32-ve(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Tr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=P1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Wc,useFormState:eo,useActionState:eo,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Jc.bind(null,De,!0,n),n.dispatch=t,[e,t]},useMemoCache:Rc,useCacheRefresh:function(){return Ut().memoizedState=l2.bind(null,De)},useEffectEvent:function(e){var t=Ut(),n={impl:e};return t.memoizedState=n,function(){if((Ie&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Vc={readContext:Et,use:Er,useCallback:oo,useContext:Et,useEffect:Ic,useImperativeHandle:so,useInsertionEffect:co,useLayoutEffect:uo,useMemo:fo,useReducer:qr,useRef:ao,useState:function(){return qr(al)},useDebugValue:Uc,useDeferredValue:function(e,t){var n=dt();return ho(n,Pe.memoizedState,e,t)},useTransition:function(){var e=qr(al)[0],t=dt().memoizedState;return[typeof e=="boolean"?e:ji(e),t]},useSyncExternalStore:Ks,useId:vo,useHostTransitionStatus:Wc,useFormState:to,useActionState:to,useOptimistic:function(e,t){var n=dt();return Js(n,Pe,e,t)},useMemoCache:Rc,useCacheRefresh:yo};Vc.useEffectEvent=ro;var Co={readContext:Et,use:Er,useCallback:oo,useContext:Et,useEffect:Ic,useImperativeHandle:so,useInsertionEffect:co,useLayoutEffect:uo,useMemo:fo,useReducer:Hc,useRef:ao,useState:function(){return Hc(al)},useDebugValue:Uc,useDeferredValue:function(e,t){var n=dt();return Pe===null?Zc(n,e,t):ho(n,Pe.memoizedState,e,t)},useTransition:function(){var e=Hc(al)[0],t=dt().memoizedState;return[typeof e=="boolean"?e:ji(e),t]},useSyncExternalStore:Ks,useId:vo,useHostTransitionStatus:Wc,useFormState:lo,useActionState:lo,useOptimistic:function(e,t){var n=dt();return Pe!==null?Js(n,Pe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Rc,useCacheRefresh:yo};Co.useEffectEvent=ro;function Qc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pc={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=dn(),c=_l(l);c.payload=t,n!=null&&(c.callback=n),t=Sl(e,c,l),t!==null&&(en(t,e,l),_i(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=dn(),c=_l(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Sl(e,c,l),t!==null&&(en(t,e,l),_i(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dn(),l=_l(n);l.tag=2,t!=null&&(l.callback=t),t=Sl(e,l,n),t!==null&&(en(t,e,n),_i(t,e,n))}};function jo(e,t,n,l,c,s,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,y):t.prototype&&t.prototype.isPureReactComponent?!di(n,l)||!di(c,s):!0}function Mo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Pc.enqueueReplaceState(t,t.state,null)}function la(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function zo(e){br(e)}function Do(e){console.error(e)}function No(e){br(e)}function Or(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Ao(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Fc(e,t,n){return n=_l(n),n.tag=3,n.payload={element:null},n.callback=function(){Or(e,t)},n}function Lo(e){return e=_l(e),e.tag=3,e}function To(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var s=l.value;e.payload=function(){return c(s)},e.callback=function(){Ao(t,n,l)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Ao(t,n,l),typeof c!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function i2(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Aa(t,n,c,!0),n=xn.current,n!==null){switch(n.tag){case 31:case 13:return Dn===null?Pr():n.alternate===null&&st===0&&(st=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Mr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),wu(e,l,c)),!1;case 22:return n.flags|=65536,l===Mr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),wu(e,l,c)),!1}throw Error(r(435,n.tag))}return wu(e,l,c),Pr(),!1}if(Ge)return t=xn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==gc&&(e=Error(r(422),{cause:l}),bi(Cn(e,n)))):(l!==gc&&(t=Error(r(423),{cause:l}),bi(Cn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Cn(l,n),c=Fc(e.stateNode,l,c),Dc(e,c),st!==4&&(st=2)),!1;var s=Error(r(520),{cause:l});if(s=Cn(s,n),qi===null?qi=[s]:qi.push(s),st!==4&&(st=2),t===null)return!0;l=Cn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Fc(n.stateNode,l,e),Dc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Dl===null||!Dl.has(s))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Lo(c),To(c,e,n,l),Dc(n,c),!1}n=n.return}while(n!==null);return!1}var $c=Error(r(461)),pt=!1;function qt(e,t,n,l){t.child=e===null?qs(t,null,n,l):ta(t,e.child,n,l)}function Bo(e,t,n,l,c){n=n.render;var s=t.ref;if("ref"in l){var y={};for(var A in l)A!=="ref"&&(y[A]=l[A])}else y=l;return Pl(t),l=Ec(e,t,n,y,s,c),A=qc(),e!==null&&!pt?(Gc(e,t,c),il(e,t,c)):(Ge&&A&&mc(t),t.flags|=1,qt(e,t,l,c),t.child)}function Eo(e,t,n,l,c){if(e===null){var s=n.type;return typeof s=="function"&&!fc(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,qo(e,t,s,l,c)):(e=pr(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!cu(e,c)){var y=s.memoizedProps;if(n=n.compare,n=n!==null?n:di,n(y,l)&&e.ref===t.ref)return il(e,t,c)}return t.flags|=1,e=$n(s,l),e.ref=t.ref,e.return=t,t.child=e}function qo(e,t,n,l,c){if(e!==null){var s=e.memoizedProps;if(di(s,l)&&e.ref===t.ref)if(pt=!1,t.pendingProps=l=s,cu(e,c))(e.flags&131072)!==0&&(pt=!0);else return t.lanes=e.lanes,il(e,t,c)}return eu(e,t,n,l,c)}function Go(e,t,n,l){var c=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~s}else l=0,t.child=null;return ko(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cr(t,s!==null?s.cachePool:null),s!==null?Rs(t,s):Ac(),Os(t);else return l=t.lanes=536870912,ko(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(Cr(t,s.cachePool),Rs(t,s),Cl(),t.memoizedState=null):(e!==null&&Cr(t,null),Ac(),Cl());return qt(e,t,c,n),t.child}function Di(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ko(e,t,n,l,c){var s=Cc();return s=s===null?null:{parent:vt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Cr(t,null),Ac(),Os(t),e!==null&&Aa(e,t,l,!0),t.childLanes=c,null}function Hr(e,t){return t=Kr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ro(e,t,n){return ta(t,e.child,null,n),e=Hr(t,t.pendingProps),e.flags|=2,sn(t),t.memoizedState=null,e}function r2(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ge){if(l.mode==="hidden")return e=Hr(t,l),t.lanes=536870912,Di(null,e);if(Tc(t),(e=lt)?(e=Pf(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bl!==null?{id:Zn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=ps(e),n.return=t,t.child=n,Bt=t,lt=null)):e=null,e===null)throw vl(t);return t.lanes=536870912,null}return Hr(t,l)}var s=e.memoizedState;if(s!==null){var y=s.dehydrated;if(Tc(t),c)if(t.flags&256)t.flags&=-257,t=Ro(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(pt||Aa(e,t,n,!1),c=(n&e.childLanes)!==0,pt||c){if(l=et,l!==null&&(y=lr(l,n),y!==0&&y!==s.retryLane))throw s.retryLane=y,Wl(e,y),en(l,e,y),$c;Pr(),t=Ro(e,t,n)}else e=s.treeContext,lt=Nn(y.nextSibling),Bt=t,Ge=!0,gl=null,zn=!1,e!==null&&ws(t,e),t=Hr(t,l),t.flags|=4096;return t}return e=$n(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Yr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function eu(e,t,n,l,c){return Pl(t),n=Ec(e,t,n,l,void 0,c),l=qc(),e!==null&&!pt?(Gc(e,t,c),il(e,t,c)):(Ge&&l&&mc(t),t.flags|=1,qt(e,t,n,c),t.child)}function Oo(e,t,n,l,c,s){return Pl(t),t.updateQueue=null,n=Ys(t,l,n,c),Hs(e),l=qc(),e!==null&&!pt?(Gc(e,t,s),il(e,t,s)):(Ge&&l&&mc(t),t.flags|=1,qt(e,t,n,s),t.child)}function Ho(e,t,n,l,c){if(Pl(t),t.stateNode===null){var s=Ma,y=n.contextType;typeof y=="object"&&y!==null&&(s=Et(y)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Pc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Mc(t),y=n.contextType,s.context=typeof y=="object"&&y!==null?Et(y):Ma,s.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(Qc(t,n,y,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(y=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),y!==s.state&&Pc.enqueueReplaceState(s,s.state,null),wi(t,l,s,c),Si(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var A=t.memoizedProps,K=la(n,A);s.props=K;var ee=s.context,ie=n.contextType;y=Ma,typeof ie=="object"&&ie!==null&&(y=Et(ie));var ue=n.getDerivedStateFromProps;ie=typeof ue=="function"||typeof s.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,ie||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(A||ee!==y)&&Mo(t,s,l,y),pl=!1;var te=t.memoizedState;s.state=te,wi(t,l,s,c),Si(),ee=t.memoizedState,A||te!==ee||pl?(typeof ue=="function"&&(Qc(t,n,ue,l),ee=t.memoizedState),(K=pl||jo(t,n,K,l,te,ee,y))?(ie||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ee),s.props=l,s.state=ee,s.context=y,l=K):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,zc(e,t),y=t.memoizedProps,ie=la(n,y),s.props=ie,ue=t.pendingProps,te=s.context,ee=n.contextType,K=Ma,typeof ee=="object"&&ee!==null&&(K=Et(ee)),A=n.getDerivedStateFromProps,(ee=typeof A=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(y!==ue||te!==K)&&Mo(t,s,l,K),pl=!1,te=t.memoizedState,s.state=te,wi(t,l,s,c),Si();var ae=t.memoizedState;y!==ue||te!==ae||pl||e!==null&&e.dependencies!==null&&Sr(e.dependencies)?(typeof A=="function"&&(Qc(t,n,A,l),ae=t.memoizedState),(ie=pl||jo(t,n,ie,l,te,ae,K)||e!==null&&e.dependencies!==null&&Sr(e.dependencies))?(ee||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,ae,K),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,ae,K)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||y===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),s.props=l,s.state=ae,s.context=K,l=ie):(typeof s.componentDidUpdate!="function"||y===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Yr(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ta(t,e.child,null,c),t.child=ta(t,null,n,c)):qt(e,t,n,c),t.memoizedState=s.state,e=t.child):e=il(e,t,c),e}function Yo(e,t,n,l){return Vl(),t.flags|=256,qt(e,t,n,l),t.child}var tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nu(e){return{baseLanes:e,cachePool:Ns()}}function lu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=fn),e}function Ko(e,t,n){var l=t.pendingProps,c=!1,s=(t.flags&128)!==0,y;if((y=s)||(y=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ge){if(c?wl(t):Cl(),(e=lt)?(e=Pf(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bl!==null?{id:Zn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=ps(e),n.return=t,t.child=n,Bt=t,lt=null)):e=null,e===null)throw vl(t);return Ou(e)?t.lanes=32:t.lanes=536870912,null}var A=l.children;return l=l.fallback,c?(Cl(),c=t.mode,A=Kr({mode:"hidden",children:A},c),l=Jl(l,c,n,null),A.return=t,l.return=t,A.sibling=l,t.child=A,l=t.child,l.memoizedState=nu(n),l.childLanes=lu(e,y,n),t.memoizedState=tu,Di(null,l)):(wl(t),au(t,A))}var K=e.memoizedState;if(K!==null&&(A=K.dehydrated,A!==null)){if(s)t.flags&256?(wl(t),t.flags&=-257,t=iu(e,t,n)):t.memoizedState!==null?(Cl(),t.child=e.child,t.flags|=128,t=null):(Cl(),A=l.fallback,c=t.mode,l=Kr({mode:"visible",children:l.children},c),A=Jl(A,c,n,null),A.flags|=2,l.return=t,A.return=t,l.sibling=A,t.child=l,ta(t,e.child,null,n),l=t.child,l.memoizedState=nu(n),l.childLanes=lu(e,y,n),t.memoizedState=tu,t=Di(null,l));else if(wl(t),Ou(A)){if(y=A.nextSibling&&A.nextSibling.dataset,y)var ee=y.dgst;y=ee,l=Error(r(419)),l.stack="",l.digest=y,bi({value:l,source:null,stack:null}),t=iu(e,t,n)}else if(pt||Aa(e,t,n,!1),y=(n&e.childLanes)!==0,pt||y){if(y=et,y!==null&&(l=lr(y,n),l!==0&&l!==K.retryLane))throw K.retryLane=l,Wl(e,l),en(y,e,l),$c;Ru(A)||Pr(),t=iu(e,t,n)}else Ru(A)?(t.flags|=192,t.child=e.child,t=null):(e=K.treeContext,lt=Nn(A.nextSibling),Bt=t,Ge=!0,gl=null,zn=!1,e!==null&&ws(t,e),t=au(t,l.children),t.flags|=4096);return t}return c?(Cl(),A=l.fallback,c=t.mode,K=e.child,ee=K.sibling,l=$n(K,{mode:"hidden",children:l.children}),l.subtreeFlags=K.subtreeFlags&65011712,ee!==null?A=$n(ee,A):(A=Jl(A,c,n,null),A.flags|=2),A.return=t,l.return=t,l.sibling=A,t.child=l,Di(null,l),l=t.child,A=e.child.memoizedState,A===null?A=nu(n):(c=A.cachePool,c!==null?(K=vt._currentValue,c=c.parent!==K?{parent:K,pool:K}:c):c=Ns(),A={baseLanes:A.baseLanes|n,cachePool:c}),l.memoizedState=A,l.childLanes=lu(e,y,n),t.memoizedState=tu,Di(e.child,l)):(wl(t),n=e.child,e=n.sibling,n=$n(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function au(e,t){return t=Kr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Kr(e,t){return e=un(22,e,null,t),e.lanes=0,e}function iu(e,t,n){return ta(t,e.child,null,n),e=au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Io(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),pc(e.return,t,n)}function ru(e,t,n,l,c,s){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:s}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=c,y.treeForkCount=s)}function Uo(e,t,n){var l=t.pendingProps,c=l.revealOrder,s=l.tail;l=l.children;var y=ft.current,A=(y&2)!==0;if(A?(y=y&1|2,t.flags|=128):y&=1,Z(ft,y),qt(e,t,l,n),l=Ge?mi:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Io(e,n,t);else if(e.tag===19)Io(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Ar(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),ru(t,!1,c,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ar(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}ru(t,!0,n,null,s,l);break;case"together":ru(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Aa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=$n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Sr(e)))}function c2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),yl(t,vt,e.memoizedState.cache),Vl();break;case 27:case 5:Ae(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:yl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Tc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(wl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Ko(e,t,n):(wl(t),e=il(e,t,n),e!==null?e.sibling:null);wl(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Aa(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Uo(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(ft,ft.current),l)break;return null;case 22:return t.lanes=0,Go(e,t,n,t.pendingProps);case 24:yl(t,vt,e.memoizedState.cache)}return il(e,t,n)}function Zo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)pt=!0;else{if(!cu(e,n)&&(t.flags&128)===0)return pt=!1,c2(e,t,n);pt=(e.flags&131072)!==0}else pt=!1,Ge&&(t.flags&1048576)!==0&&Ss(t,mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=$l(t.elementType),t.type=e,typeof e=="function")fc(e)?(l=la(e,l),t.tag=1,t=Ho(null,t,e,l,n)):(t.tag=0,t=eu(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===G){t.tag=11,t=Bo(null,t,e,l,n);break e}else if(c===E){t.tag=14,t=Eo(null,t,e,l,n);break e}}throw t=L(e)||e,Error(r(306,t,""))}}return t;case 0:return eu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=la(l,t.pendingProps),Ho(e,t,l,c,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var s=t.memoizedState;c=s.element,zc(e,t),wi(t,l,null,n);var y=t.memoizedState;if(l=y.cache,yl(t,vt,l),l!==s.cache&&_c(t,[vt],n,!0),Si(),l=y.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Yo(e,t,l,n);break e}else if(l!==c){c=Cn(Error(r(424)),t),bi(c),t=Yo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,lt=Nn(e.firstChild),Bt=t,Ge=!0,gl=null,zn=!0,n=qs(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vl(),l===c){t=il(e,t,n);break e}qt(e,t,l,n)}t=t.child}return t;case 26:return Yr(e,t),e===null?(n=ld(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ge||(n=t.type,e=t.pendingProps,l=a0(xe.current).createElement(n),l[wt]=t,l[Ot]=e,Gt(l,n,e),zt(l),t.stateNode=l):t.memoizedState=ld(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ae(t),e===null&&Ge&&(l=t.stateNode=ed(t.type,t.pendingProps,xe.current),Bt=t,zn=!0,c=lt,Tl(t.type)?(Hu=c,lt=Nn(l.firstChild)):lt=c),qt(e,t,t.pendingProps.children,n),Yr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ge&&((c=l=lt)&&(l=k2(l,t.type,t.pendingProps,zn),l!==null?(t.stateNode=l,Bt=t,lt=Nn(l.firstChild),zn=!1,c=!0):c=!1),c||vl(t)),Ae(t),c=t.type,s=t.pendingProps,y=e!==null?e.memoizedProps:null,l=s.children,qu(c,s)?l=null:y!==null&&qu(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=Ec(e,t,F1,null,null,n),Ii._currentValue=c),Yr(e,t),qt(e,t,l,n),t.child;case 6:return e===null&&Ge&&((e=n=lt)&&(n=R2(n,t.pendingProps,zn),n!==null?(t.stateNode=n,Bt=t,lt=null,e=!0):e=!1),e||vl(t)),null;case 13:return Ko(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ta(t,null,l,n):qt(e,t,l,n),t.child;case 11:return Bo(e,t,t.type,t.pendingProps,n);case 7:return qt(e,t,t.pendingProps,n),t.child;case 8:return qt(e,t,t.pendingProps.children,n),t.child;case 12:return qt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,yl(t,t.type,l.value),qt(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Pl(t),c=Et(c),l=l(c),t.flags|=1,qt(e,t,l,n),t.child;case 14:return Eo(e,t,t.type,t.pendingProps,n);case 15:return qo(e,t,t.type,t.pendingProps,n);case 19:return Uo(e,t,n);case 31:return r2(e,t,n);case 22:return Go(e,t,n,t.pendingProps);case 24:return Pl(t),l=Et(vt),e===null?(c=Cc(),c===null&&(c=et,s=Sc(),c.pooledCache=s,s.refCount++,s!==null&&(c.pooledCacheLanes|=n),c=s),t.memoizedState={parent:l,cache:c},Mc(t),yl(t,vt,c)):((e.lanes&n)!==0&&(zc(e,t),wi(t,null,null,n),Si()),c=e.memoizedState,s=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),yl(t,vt,l)):(l=s.cache,yl(t,vt,l),l!==c.cache&&_c(t,[vt],n,!0))),qt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function rl(e){e.flags|=4}function uu(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(yf())e.flags|=8192;else throw ea=Mr,jc}else e.flags&=-16777217}function Xo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ud(t))if(yf())e.flags|=8192;else throw ea=Mr,jc}function Ir(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?yn():536870912,e.lanes|=t,Ka|=t)}function Ni(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function u2(e,t,n){var l=t.pendingProps;switch(bc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return at(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),nl(vt),pe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Na(t)?rl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,vc())),at(t),null;case 26:var c=t.type,s=t.memoizedState;return e===null?(rl(t),s!==null?(at(t),Xo(t,s)):(at(t),uu(t,c,null,l,n))):s?s!==e.memoizedState?(rl(t),at(t),Xo(t,s)):(at(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&rl(t),at(t),uu(t,c,e,l,n)),null;case 27:if(me(t),n=xe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&rl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return at(t),null}e=V.current,Na(t)?Cs(t):(e=ed(c,l,n),t.stateNode=e,rl(t))}return at(t),null;case 5:if(me(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&rl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return at(t),null}if(s=V.current,Na(t))Cs(t);else{var y=a0(xe.current);switch(s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}s[wt]=t,s[Ot]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=s;e:switch(Gt(s,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rl(t)}}return at(t),uu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&rl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=xe.current,Na(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=Bt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[wt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||If(e.nodeValue,n)),e||vl(t,!0)}else e=a0(e).createTextNode(l),e[wt]=t,t.stateNode=e}return at(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Na(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[wt]=t}else Vl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),e=!1}else n=vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(sn(t),t):(sn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return at(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Na(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[wt]=t}else Vl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),c=!1}else c=vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(sn(t),t):(sn(t),null)}return sn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ir(t,t.updateQueue),at(t),null);case 4:return pe(),e===null&&Au(t.stateNode.containerInfo),at(t),null;case 10:return nl(t.type),at(t),null;case 19:if(q(ft),l=t.memoizedState,l===null)return at(t),null;if(c=(t.flags&128)!==0,s=l.rendering,s===null)if(c)Ni(l,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Ar(e),s!==null){for(t.flags|=128,Ni(l,!1),e=s.updateQueue,t.updateQueue=e,Ir(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ys(n,e),n=n.sibling;return Z(ft,ft.current&1|2),Ge&&el(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&mt()>Jr&&(t.flags|=128,c=!0,Ni(l,!1),t.lanes=4194304)}else{if(!c)if(e=Ar(s),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Ir(t,e),Ni(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Ge)return at(t),null}else 2*mt()-l.renderingStartTime>Jr&&n!==536870912&&(t.flags|=128,c=!0,Ni(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=mt(),e.sibling=null,n=ft.current,Z(ft,c?n&1|2:n&1),Ge&&el(t,l.treeForkCount),e):(at(t),null);case 22:case 23:return sn(t),Lc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),n=t.updateQueue,n!==null&&Ir(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&q(Fl),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),nl(vt),at(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function x2(e,t){switch(bc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nl(vt),pe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 31:if(t.memoizedState!==null){if(sn(t),t.alternate===null)throw Error(r(340));Vl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Vl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(ft),null;case 4:return pe(),null;case 10:return nl(t.type),null;case 22:case 23:return sn(t),Lc(),e!==null&&q(Fl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nl(vt),null;case 25:return null;default:return null}}function Wo(e,t){switch(bc(t),t.tag){case 3:nl(vt),pe();break;case 26:case 27:case 5:me(t);break;case 4:pe();break;case 31:t.memoizedState!==null&&sn(t);break;case 13:sn(t);break;case 19:q(ft);break;case 10:nl(t.type);break;case 22:case 23:sn(t),Lc(),e!==null&&q(Fl);break;case 24:nl(vt)}}function Ai(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var s=n.create,y=n.inst;l=s(),y.destroy=l}n=n.next}while(n!==c)}}catch(A){Ve(t,t.return,A)}}function jl(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var s=c.next;l=s;do{if((l.tag&e)===e){var y=l.inst,A=y.destroy;if(A!==void 0){y.destroy=void 0,c=t;var K=n,ee=A;try{ee()}catch(ie){Ve(c,K,ie)}}}l=l.next}while(l!==s)}}catch(ie){Ve(t,t.return,ie)}}function Jo(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ks(t,n)}catch(l){Ve(e,e.return,l)}}}function Vo(e,t,n){n.props=la(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Ve(e,t,l)}}function Li(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){Ve(e,t,c)}}function Wn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){Ve(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Ve(e,t,c)}else n.current=null}function Qo(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){Ve(e,e.return,c)}}function xu(e,t,n){try{var l=e.stateNode;L2(l,e.type,n,t),l[Ot]=t}catch(c){Ve(e,e.return,c)}}function Po(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Tl(e.type)||e.tag===4}function su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Po(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Tl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ou(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pn));else if(l!==4&&(l===27&&Tl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ou(e,t,n),e=e.sibling;e!==null;)ou(e,t,n),e=e.sibling}function Ur(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Tl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ur(e,t,n),e=e.sibling;e!==null;)Ur(e,t,n),e=e.sibling}function Fo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Gt(t,l,n),t[wt]=e,t[Ot]=n}catch(s){Ve(e,e.return,s)}}var cl=!1,_t=!1,fu=!1,$o=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function s2(e,t){if(e=e.containerInfo,Bu=o0,e=ss(e),ic(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var y=0,A=-1,K=-1,ee=0,ie=0,ue=e,te=null;t:for(;;){for(var ae;ue!==n||c!==0&&ue.nodeType!==3||(A=y+c),ue!==s||l!==0&&ue.nodeType!==3||(K=y+l),ue.nodeType===3&&(y+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)te=ue,ue=ae;for(;;){if(ue===e)break t;if(te===n&&++ee===c&&(A=y),te===s&&++ie===l&&(K=y),(ae=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ae}n=A===-1||K===-1?null:{start:A,end:K}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eu={focusedElem:e,selectionRange:n},o0=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){switch(t=Dt,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,c=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var he=la(n.type,c);e=l.getSnapshotBeforeUpdate(he,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(_e){Ve(n,n.return,_e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ku(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ku(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}}function ef(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:xl(e,n),l&4&&Ai(5,n);break;case 1:if(xl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){Ve(n,n.return,y)}else{var c=la(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ve(n,n.return,y)}}l&64&&Jo(n),l&512&&Li(n,n.return);break;case 3:if(xl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ks(e,t)}catch(y){Ve(n,n.return,y)}}break;case 27:t===null&&l&4&&Fo(n);case 26:case 5:xl(e,n),t===null&&l&4&&Qo(n),l&512&&Li(n,n.return);break;case 12:xl(e,n);break;case 31:xl(e,n),l&4&&lf(e,n);break;case 13:xl(e,n),l&4&&af(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=y2.bind(null,n),O2(e,n))));break;case 22:if(l=n.memoizedState!==null||cl,!l){t=t!==null&&t.memoizedState!==null||_t,c=cl;var s=_t;cl=l,(_t=t)&&!s?sl(e,n,(n.subtreeFlags&8772)!==0):xl(e,n),cl=c,_t=s}break;case 30:break;default:xl(e,n)}}function tf(e){var t=e.alternate;t!==null&&(e.alternate=null,tf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ai(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ct=null,Qt=!1;function ul(e,t,n){for(n=n.child;n!==null;)nf(e,t,n),n=n.sibling}function nf(e,t,n){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ce,n)}catch{}switch(n.tag){case 26:_t||Wn(n,t),ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_t||Wn(n,t);var l=ct,c=Qt;Tl(n.type)&&(ct=n.stateNode,Qt=!1),ul(e,t,n),Hi(n.stateNode),ct=l,Qt=c;break;case 5:_t||Wn(n,t);case 6:if(l=ct,c=Qt,ct=null,ul(e,t,n),ct=l,Qt=c,ct!==null)if(Qt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(n.stateNode)}catch(s){Ve(n,t,s)}else try{ct.removeChild(n.stateNode)}catch(s){Ve(n,t,s)}break;case 18:ct!==null&&(Qt?(e=ct,Vf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Qa(e)):Vf(ct,n.stateNode));break;case 4:l=ct,c=Qt,ct=n.stateNode.containerInfo,Qt=!0,ul(e,t,n),ct=l,Qt=c;break;case 0:case 11:case 14:case 15:jl(2,n,t),_t||jl(4,n,t),ul(e,t,n);break;case 1:_t||(Wn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Vo(n,t,l)),ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:_t=(l=_t)||n.memoizedState!==null,ul(e,t,n),_t=l;break;default:ul(e,t,n)}}function lf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(n){Ve(t,t.return,n)}}}function af(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(n){Ve(t,t.return,n)}}function o2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new $o),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new $o),t;default:throw Error(r(435,e.tag))}}function Zr(e,t){var n=o2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=p2.bind(null,e,l);l.then(c,c)}})}function Pt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],s=e,y=t,A=y;e:for(;A!==null;){switch(A.tag){case 27:if(Tl(A.type)){ct=A.stateNode,Qt=!1;break e}break;case 5:ct=A.stateNode,Qt=!1;break e;case 3:case 4:ct=A.stateNode.containerInfo,Qt=!0;break e}A=A.return}if(ct===null)throw Error(r(160));nf(s,y,c),ct=null,Qt=!1,s=c.alternate,s!==null&&(s.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)rf(t,e),t=t.sibling}var On=null;function rf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(t,e),Ft(e),l&4&&(jl(3,e,e.return),Ai(3,e),jl(5,e,e.return));break;case 1:Pt(t,e),Ft(e),l&512&&(_t||n===null||Wn(n,n.return)),l&64&&cl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=On;if(Pt(t,e),Ft(e),l&512&&(_t||n===null||Wn(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":s=c.getElementsByTagName("title")[0],(!s||s[rn]||s[wt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=c.createElement(l),c.head.insertBefore(s,c.querySelector("head > title"))),Gt(s,l,n),s[wt]=e,zt(s),l=s;break e;case"link":var y=rd("link","href",c).get(l+(n.href||""));if(y){for(var A=0;A<y.length;A++)if(s=y[A],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(A,1);break t}}s=c.createElement(l),Gt(s,l,n),c.head.appendChild(s);break;case"meta":if(y=rd("meta","content",c).get(l+(n.content||""))){for(A=0;A<y.length;A++)if(s=y[A],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(A,1);break t}}s=c.createElement(l),Gt(s,l,n),c.head.appendChild(s);break;default:throw Error(r(468,l))}s[wt]=e,zt(s),l=s}e.stateNode=l}else cd(c,e.type,e.stateNode);else e.stateNode=id(c,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?cd(c,e.type,e.stateNode):id(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&xu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pt(t,e),Ft(e),l&512&&(_t||n===null||Wn(n,n.return)),n!==null&&l&4&&xu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pt(t,e),Ft(e),l&512&&(_t||n===null||Wn(n,n.return)),e.flags&32){c=e.stateNode;try{ya(c,"")}catch(he){Ve(e,e.return,he)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,xu(e,c,n!==null?n.memoizedProps:c)),l&1024&&(fu=!0);break;case 6:if(Pt(t,e),Ft(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(he){Ve(e,e.return,he)}}break;case 3:if(c0=null,c=On,On=i0(t.containerInfo),Pt(t,e),On=c,Ft(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Qa(t.containerInfo)}catch(he){Ve(e,e.return,he)}fu&&(fu=!1,cf(e));break;case 4:l=On,On=i0(e.stateNode.containerInfo),Pt(t,e),Ft(e),On=l;break;case 12:Pt(t,e),Ft(e);break;case 31:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zr(e,l)));break;case 13:Pt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Wr=mt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zr(e,l)));break;case 22:c=e.memoizedState!==null;var K=n!==null&&n.memoizedState!==null,ee=cl,ie=_t;if(cl=ee||c,_t=ie||K,Pt(t,e),_t=ie,cl=ee,Ft(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||K||cl||_t||aa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){K=n=t;try{if(s=K.stateNode,c)y=s.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=K.stateNode;var ue=K.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(he){Ve(K,K.return,he)}}}else if(t.tag===6){if(n===null){K=t;try{K.stateNode.nodeValue=c?"":K.memoizedProps}catch(he){Ve(K,K.return,he)}}}else if(t.tag===18){if(n===null){K=t;try{var ae=K.stateNode;c?Qf(ae,!0):Qf(K.stateNode,!1)}catch(he){Ve(K,K.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Zr(e,n))));break;case 19:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zr(e,l)));break;case 30:break;case 21:break;default:Pt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Po(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var c=n.stateNode,s=su(e);Ur(e,s,c);break;case 5:var y=n.stateNode;n.flags&32&&(ya(y,""),n.flags&=-33);var A=su(e);Ur(e,A,y);break;case 3:case 4:var K=n.stateNode.containerInfo,ee=su(e);ou(e,ee,K);break;default:throw Error(r(161))}}catch(ie){Ve(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;cf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ef(e,t.alternate,t),t=t.sibling}function aa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jl(4,t,t.return),aa(t);break;case 1:Wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Vo(t,t.return,n),aa(t);break;case 27:Hi(t.stateNode);case 26:case 5:Wn(t,t.return),aa(t);break;case 22:t.memoizedState===null&&aa(t);break;case 30:aa(t);break;default:aa(t)}e=e.sibling}}function sl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,s=t,y=s.flags;switch(s.tag){case 0:case 11:case 15:sl(c,s,n),Ai(4,s);break;case 1:if(sl(c,s,n),l=s,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(ee){Ve(l,l.return,ee)}if(l=s,c=l.updateQueue,c!==null){var A=l.stateNode;try{var K=c.shared.hiddenCallbacks;if(K!==null)for(c.shared.hiddenCallbacks=null,c=0;c<K.length;c++)Gs(K[c],A)}catch(ee){Ve(l,l.return,ee)}}n&&y&64&&Jo(s),Li(s,s.return);break;case 27:Fo(s);case 26:case 5:sl(c,s,n),n&&l===null&&y&4&&Qo(s),Li(s,s.return);break;case 12:sl(c,s,n);break;case 31:sl(c,s,n),n&&y&4&&lf(c,s);break;case 13:sl(c,s,n),n&&y&4&&af(c,s);break;case 22:s.memoizedState===null&&sl(c,s,n),Li(s,s.return);break;case 30:break;default:sl(c,s,n)}t=t.sibling}}function du(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&gi(n))}function hu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gi(e))}function Hn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uf(e,t,n,l),t=t.sibling}function uf(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Hn(e,t,n,l),c&2048&&Ai(9,t);break;case 1:Hn(e,t,n,l);break;case 3:Hn(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gi(e)));break;case 12:if(c&2048){Hn(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,y=s.id,A=s.onPostCommit;typeof A=="function"&&A(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(K){Ve(t,t.return,K)}}else Hn(e,t,n,l);break;case 31:Hn(e,t,n,l);break;case 13:Hn(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,y=t.alternate,t.memoizedState!==null?s._visibility&2?Hn(e,t,n,l):Ti(e,t):s._visibility&2?Hn(e,t,n,l):(s._visibility|=2,Oa(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&du(y,t);break;case 24:Hn(e,t,n,l),c&2048&&hu(t.alternate,t);break;default:Hn(e,t,n,l)}}function Oa(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,y=t,A=n,K=l,ee=y.flags;switch(y.tag){case 0:case 11:case 15:Oa(s,y,A,K,c),Ai(8,y);break;case 23:break;case 22:var ie=y.stateNode;y.memoizedState!==null?ie._visibility&2?Oa(s,y,A,K,c):Ti(s,y):(ie._visibility|=2,Oa(s,y,A,K,c)),c&&ee&2048&&du(y.alternate,y);break;case 24:Oa(s,y,A,K,c),c&&ee&2048&&hu(y.alternate,y);break;default:Oa(s,y,A,K,c)}t=t.sibling}}function Ti(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Ti(n,l),c&2048&&du(l.alternate,l);break;case 24:Ti(n,l),c&2048&&hu(l.alternate,l);break;default:Ti(n,l)}t=t.sibling}}var Bi=8192;function Ha(e,t,n){if(e.subtreeFlags&Bi)for(e=e.child;e!==null;)xf(e,t,n),e=e.sibling}function xf(e,t,n){switch(e.tag){case 26:Ha(e,t,n),e.flags&Bi&&e.memoizedState!==null&&P2(n,On,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,t,n);break;case 3:case 4:var l=On;On=i0(e.stateNode.containerInfo),Ha(e,t,n),On=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Bi,Bi=16777216,Ha(e,t,n),Bi=l):Ha(e,t,n));break;default:Ha(e,t,n)}}function sf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ei(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Dt=l,ff(l,e)}sf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)of(e),e=e.sibling}function of(e){switch(e.tag){case 0:case 11:case 15:Ei(e),e.flags&2048&&jl(9,e,e.return);break;case 3:Ei(e);break;case 12:Ei(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xr(e)):Ei(e);break;default:Ei(e)}}function Xr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Dt=l,ff(l,e)}sf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:jl(8,t,t.return),Xr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Xr(t));break;default:Xr(t)}e=e.sibling}}function ff(e,t){for(;Dt!==null;){var n=Dt;switch(n.tag){case 0:case 11:case 15:jl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Dt=l;else e:for(n=e;Dt!==null;){l=Dt;var c=l.sibling,s=l.return;if(tf(l),l===n){Dt=null;break e}if(c!==null){c.return=s,Dt=c;break e}Dt=s}}}var f2={getCacheForType:function(e){var t=Et(vt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Et(vt).controller.signal}},d2=typeof WeakMap=="function"?WeakMap:Map,Ie=0,et=null,Te=null,Ee=0,Je=0,on=null,Ml=!1,Ya=!1,mu=!1,ol=0,st=0,zl=0,ia=0,bu=0,fn=0,Ka=0,qi=null,$t=null,gu=!1,Wr=0,df=0,Jr=1/0,Vr=null,Dl=null,Ct=0,Nl=null,Ia=null,fl=0,vu=0,yu=null,hf=null,Gi=0,pu=null;function dn(){return(Ie&2)!==0&&Ee!==0?Ee&-Ee:j.T!==null?Mu():ar()}function mf(){if(fn===0)if((Ee&536870912)===0||Ge){var e=tt;tt<<=1,(tt&3932160)===0&&(tt=262144),fn=e}else fn=536870912;return e=xn.current,e!==null&&(e.flags|=32),fn}function en(e,t,n){(e===et&&(Je===2||Je===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),Al(e,Ee,fn,!1)),ut(e,n),((Ie&2)===0||e!==et)&&(e===et&&((Ie&2)===0&&(ia|=n),st===4&&Al(e,Ee,fn,!1)),Jn(e))}function bf(e,t,n){if((Ie&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||kn(e,t),c=l?b2(e,t):Su(e,t,!0),s=l;do{if(c===0){Ya&&!l&&Al(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!h2(n)){c=Su(e,t,!1),s=!1;continue}if(c===2){if(s=t,e.errorRecoveryDisabledLanes&s)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var A=e;c=qi;var K=A.current.memoizedState.isDehydrated;if(K&&(Ua(A,y).flags|=256),y=Su(A,y,!1),y!==2){if(mu&&!K){A.errorRecoveryDisabledLanes|=s,ia|=s,c=4;break e}s=$t,$t=c,s!==null&&($t===null?$t=s:$t.push.apply($t,s))}c=y}if(s=!1,c!==2)continue}}if(c===1){Ua(e,0),Al(e,t,0,!0);break}e:{switch(l=e,s=c,s){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Al(l,t,fn,!Ml);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=Wr+300-mt(),10<c)){if(Al(l,t,fn,!Ml),We(l,0,!0)!==0)break e;fl=t,l.timeoutHandle=Wf(gf.bind(null,l,n,$t,Vr,gu,t,fn,ia,Ka,Ml,s,"Throttled",-0,0),c);break e}gf(l,n,$t,Vr,gu,t,fn,ia,Ka,Ml,s,null,-0,0)}}break}while(!0);Jn(e)}function gf(e,t,n,l,c,s,y,A,K,ee,ie,ue,te,ae){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},xf(t,s,ue);var he=(s&62914560)===s?Wr-mt():(s&4194048)===s?df-mt():0;if(he=F2(ue,he),he!==null){fl=s,e.cancelPendingCommit=he(jf.bind(null,e,t,s,n,l,c,y,A,K,ie,ue,null,te,ae)),Al(e,s,y,!ee);return}}jf(e,t,s,n,l,c,y,A,K)}function h2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],s=c.getSnapshot;c=c.value;try{if(!cn(s(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Al(e,t,n,l){t&=~bu,t&=~ia,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var s=31-ve(c),y=1<<s;l[s]=-1,c&=~y}n!==0&&Ze(e,n,t)}function Qr(){return(Ie&6)===0?(ki(0),!1):!0}function _u(){if(Te!==null){if(Je===0)var e=Te.return;else e=Te,tl=Ql=null,kc(e),Ea=null,yi=0,e=Te;for(;e!==null;)Wo(e.alternate,e),e=e.return;Te=null}}function Ua(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,E2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),fl=0,_u(),et=e,Te=n=$n(e.current,null),Ee=t,Je=0,on=null,Ml=!1,Ya=kn(e,t),mu=!1,Ka=fn=bu=ia=zl=st=0,$t=qi=null,gu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-ve(l),s=1<<c;t|=e[c],l&=~s}return ol=t,gr(),n}function vf(e,t){De=null,j.H=zi,t===Ba||t===jr?(t=Ts(),Je=3):t===jc?(t=Ts(),Je=4):Je=t===$c?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,on=t,Te===null&&(st=1,Or(e,Cn(t,e.current)))}function yf(){var e=xn.current;return e===null?!0:(Ee&4194048)===Ee?Dn===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Dn:!1}function pf(){var e=j.H;return j.H=zi,e===null?zi:e}function _f(){var e=j.A;return j.A=f2,e}function Pr(){st=4,Ml||(Ee&4194048)!==Ee&&xn.current!==null||(Ya=!0),(zl&134217727)===0&&(ia&134217727)===0||et===null||Al(et,Ee,fn,!1)}function Su(e,t,n){var l=Ie;Ie|=2;var c=pf(),s=_f();(et!==e||Ee!==t)&&(Vr=null,Ua(e,t)),t=!1;var y=st;e:do try{if(Je!==0&&Te!==null){var A=Te,K=on;switch(Je){case 8:_u(),y=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(t=!0);var ee=Je;if(Je=0,on=null,Za(e,A,K,ee),n&&Ya){y=0;break e}break;default:ee=Je,Je=0,on=null,Za(e,A,K,ee)}}m2(),y=st;break}catch(ie){vf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,tl=Ql=null,Ie=l,j.H=c,j.A=s,Te===null&&(et=null,Ee=0,gr()),y}function m2(){for(;Te!==null;)Sf(Te)}function b2(e,t){var n=Ie;Ie|=2;var l=pf(),c=_f();et!==e||Ee!==t?(Vr=null,Jr=mt()+500,Ua(e,t)):Ya=kn(e,t);e:do try{if(Je!==0&&Te!==null){t=Te;var s=on;t:switch(Je){case 1:Je=0,on=null,Za(e,t,s,1);break;case 2:case 9:if(As(s)){Je=0,on=null,wf(t);break}t=function(){Je!==2&&Je!==9||et!==e||(Je=7),Jn(e)},s.then(t,t);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:As(s)?(Je=0,on=null,wf(t)):(Je=0,on=null,Za(e,t,s,7));break;case 5:var y=null;switch(Te.tag){case 26:y=Te.memoizedState;case 5:case 27:var A=Te;if(y?ud(y):A.stateNode.complete){Je=0,on=null;var K=A.sibling;if(K!==null)Te=K;else{var ee=A.return;ee!==null?(Te=ee,Fr(ee)):Te=null}break t}}Je=0,on=null,Za(e,t,s,5);break;case 6:Je=0,on=null,Za(e,t,s,6);break;case 8:_u(),st=6;break e;default:throw Error(r(462))}}g2();break}catch(ie){vf(e,ie)}while(!0);return tl=Ql=null,j.H=l,j.A=c,Ie=n,Te!==null?0:(et=null,Ee=0,gr(),st)}function g2(){for(;Te!==null&&!Kl();)Sf(Te)}function Sf(e){var t=Zo(e.alternate,e,ol);e.memoizedProps=e.pendingProps,t===null?Fr(e):Te=t}function wf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Oo(n,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Oo(n,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:kc(t);default:Wo(n,t),t=Te=ys(t,ol),t=Zo(n,t,ol)}e.memoizedProps=e.pendingProps,t===null?Fr(e):Te=t}function Za(e,t,n,l){tl=Ql=null,kc(t),Ea=null,yi=0;var c=t.return;try{if(i2(e,c,t,n,Ee)){st=1,Or(e,Cn(n,e.current)),Te=null;return}}catch(s){if(c!==null)throw Te=c,s;st=1,Or(e,Cn(n,e.current)),Te=null;return}t.flags&32768?(Ge||l===1?e=!0:Ya||(Ee&536870912)!==0?e=!1:(Ml=e=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cf(t,e)):Fr(t)}function Fr(e){var t=e;do{if((t.flags&32768)!==0){Cf(t,Ml);return}e=t.return;var n=u2(t.alternate,t,ol);if(n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);st===0&&(st=5)}function Cf(e,t){do{var n=x2(e.alternate,e);if(n!==null){n.flags&=32767,Te=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=n}while(e!==null);st=6,Te=null}function jf(e,t,n,l,c,s,y,A,K){e.cancelPendingCommit=null;do $r();while(Ct!==0);if((Ie&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,s|=sc,Wt(e,n,s,y,A,K),e===et&&(Te=et=null,Ee=0),Ia=t,Nl=e,fl=n,vu=s,yu=c,hf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_2(In,function(){return Af(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=T.p,T.p=2,y=Ie,Ie|=4;try{s2(e,t,n)}finally{Ie=y,T.p=c,j.T=l}}Ct=1,Mf(),zf(),Df()}}function Mf(){if(Ct===1){Ct=0;var e=Nl,t=Ia,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null;var l=T.p;T.p=2;var c=Ie;Ie|=4;try{rf(t,e);var s=Eu,y=ss(e.containerInfo),A=s.focusedElem,K=s.selectionRange;if(y!==A&&A&&A.ownerDocument&&xs(A.ownerDocument.documentElement,A)){if(K!==null&&ic(A)){var ee=K.start,ie=K.end;if(ie===void 0&&(ie=ee),"selectionStart"in A)A.selectionStart=ee,A.selectionEnd=Math.min(ie,A.value.length);else{var ue=A.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ae=te.getSelection(),he=A.textContent.length,_e=Math.min(K.start,he),$e=K.end===void 0?_e:Math.min(K.end,he);!ae.extend&&_e>$e&&(y=$e,$e=_e,_e=y);var Q=us(A,_e),X=us(A,$e);if(Q&&X&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==X.node||ae.focusOffset!==X.offset)){var $=ue.createRange();$.setStart(Q.node,Q.offset),ae.removeAllRanges(),_e>$e?(ae.addRange($),ae.extend(X.node,X.offset)):($.setEnd(X.node,X.offset),ae.addRange($))}}}}for(ue=[],ae=A;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var re=ue[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}o0=!!Bu,Eu=Bu=null}finally{Ie=c,T.p=l,j.T=n}}e.current=t,Ct=2}}function zf(){if(Ct===2){Ct=0;var e=Nl,t=Ia,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=j.T,j.T=null;var l=T.p;T.p=2;var c=Ie;Ie|=4;try{ef(e,t.alternate,t)}finally{Ie=c,T.p=l,j.T=n}}Ct=3}}function Df(){if(Ct===4||Ct===3){Ct=0,sa();var e=Nl,t=Ia,n=fl,l=hf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ct=5:(Ct=0,Ia=Nl=null,Nf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Dl=null),li(n),t=t.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ce,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=j.T,c=T.p,T.p=2,j.T=null;try{for(var s=e.onRecoverableError,y=0;y<l.length;y++){var A=l[y];s(A.value,{componentStack:A.stack})}}finally{j.T=t,T.p=c}}(fl&3)!==0&&$r(),Jn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===pu?Gi++:(Gi=0,pu=e):Gi=0,ki(0)}}function Nf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,gi(t)))}function $r(){return Mf(),zf(),Df(),Af()}function Af(){if(Ct!==5)return!1;var e=Nl,t=vu;vu=0;var n=li(fl),l=j.T,c=T.p;try{T.p=32>n?32:n,j.T=null,n=yu,yu=null;var s=Nl,y=fl;if(Ct=0,Ia=Nl=null,fl=0,(Ie&6)!==0)throw Error(r(331));var A=Ie;if(Ie|=4,of(s.current),uf(s,s.current,y,n),Ie=A,ki(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ce,s)}catch{}return!0}finally{T.p=c,j.T=l,Nf(e,t)}}function Lf(e,t,n){t=Cn(n,t),t=Fc(e.stateNode,t,2),e=Sl(e,t,2),e!==null&&(ut(e,2),Jn(e))}function Ve(e,t,n){if(e.tag===3)Lf(e,e,n);else for(;t!==null;){if(t.tag===3){Lf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Dl===null||!Dl.has(l))){e=Cn(n,e),n=Lo(2),l=Sl(t,n,2),l!==null&&(To(n,l,t,e),ut(l,2),Jn(l));break}}t=t.return}}function wu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new d2;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(mu=!0,c.add(n),e=v2.bind(null,e,t,n),t.then(e,e))}function v2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,et===e&&(Ee&n)===n&&(st===4||st===3&&(Ee&62914560)===Ee&&300>mt()-Wr?(Ie&2)===0&&Ua(e,0):bu|=n,Ka===Ee&&(Ka=0)),Jn(e)}function Tf(e,t){t===0&&(t=yn()),e=Wl(e,t),e!==null&&(ut(e,t),Jn(e))}function y2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tf(e,n)}function p2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Tf(e,n)}function _2(e,t){return nt(e,t)}var e0=null,Xa=null,Cu=!1,t0=!1,ju=!1,Ll=0;function Jn(e){e!==Xa&&e.next===null&&(Xa===null?e0=Xa=e:Xa=Xa.next=e),t0=!0,Cu||(Cu=!0,w2())}function ki(e,t){if(!ju&&t0){ju=!0;do for(var n=!1,l=e0;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var s=0;else{var y=l.suspendedLanes,A=l.pingedLanes;s=(1<<31-ve(42|e)+1)-1,s&=c&~(y&~A),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Gf(l,s))}else s=Ee,s=We(l,l===et?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||kn(l,s)||(n=!0,Gf(l,s));l=l.next}while(n);ju=!1}}function S2(){Bf()}function Bf(){t0=Cu=!1;var e=0;Ll!==0&&B2()&&(e=Ll);for(var t=mt(),n=null,l=e0;l!==null;){var c=l.next,s=Ef(l,t);s===0?(l.next=null,n===null?e0=c:n.next=c,c===null&&(Xa=n)):(n=l,(e!==0||(s&3)!==0)&&(t0=!0)),l=c}Ct!==0&&Ct!==5||ki(e),Ll!==0&&(Ll=0)}function Ef(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var y=31-ve(s),A=1<<y,K=c[y];K===-1?((A&n)===0||(A&l)!==0)&&(c[y]=Tt(A,t)):K<=t&&(e.expiredLanes|=A),s&=~A}if(t=et,n=Ee,n=We(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Je===2||Je===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&At(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||kn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&At(l),li(n)){case 2:case 8:n=fa;break;case 32:n=In;break;case 268435456:n=da;break;default:n=In}return l=qf.bind(null,e),n=nt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&At(l),e.callbackPriority=2,e.callbackNode=null,2}function qf(e,t){if(Ct!==0&&Ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if($r()&&e.callbackNode!==n)return null;var l=Ee;return l=We(e,e===et?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(bf(e,l,t),Ef(e,mt()),e.callbackNode!=null&&e.callbackNode===n?qf.bind(null,e):null)}function Gf(e,t){if($r())return null;bf(e,t,!0)}function w2(){q2(function(){(Ie&6)!==0?nt(Gn,S2):Bf()})}function Mu(){if(Ll===0){var e=La;e===0&&(e=bt,bt<<=1,(bt&261888)===0&&(bt=256)),Ll=e}return Ll}function kf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xr(""+e)}function Rf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function C2(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var s=kf((c[Ot]||null).action),y=l.submitter;y&&(t=(t=y[Ot]||null)?kf(t.formAction):y.getAttribute("formAction"),t!==null&&(s=t,y=null));var A=new dr("action","action",null,l,c);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ll!==0){var K=y?Rf(c,y):new FormData(c);Xc(n,{pending:!0,data:K,method:c.method,action:s},null,K)}}else typeof s=="function"&&(A.preventDefault(),K=y?Rf(c,y):new FormData(c),Xc(n,{pending:!0,data:K,method:c.method,action:s},s,K))},currentTarget:c}]})}}for(var zu=0;zu<xc.length;zu++){var Du=xc[zu],j2=Du.toLowerCase(),M2=Du[0].toUpperCase()+Du.slice(1);Rn(j2,"on"+M2)}Rn(ds,"onAnimationEnd"),Rn(hs,"onAnimationIteration"),Rn(ms,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(K1,"onTransitionRun"),Rn(I1,"onTransitionStart"),Rn(U1,"onTransitionCancel"),Rn(bs,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Il("onBeforeInput",["compositionend","keypress","textInput","paste"]),Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ri));function Of(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var y=l.length-1;0<=y;y--){var A=l[y],K=A.instance,ee=A.currentTarget;if(A=A.listener,K!==s&&c.isPropagationStopped())break e;s=A,c.currentTarget=ee;try{s(c)}catch(ie){br(ie)}c.currentTarget=null,s=K}else for(y=0;y<l.length;y++){if(A=l[y],K=A.instance,ee=A.currentTarget,A=A.listener,K!==s&&c.isPropagationStopped())break e;s=A,c.currentTarget=ee;try{s(c)}catch(ie){br(ie)}c.currentTarget=null,s=K}}}}function Be(e,t){var n=t[ge];n===void 0&&(n=t[ge]=new Set);var l=e+"__bubble";n.has(l)||(Hf(t,e,2,!1),n.add(l))}function Nu(e,t,n){var l=0;t&&(l|=4),Hf(n,e,l,t)}var n0="_reactListening"+Math.random().toString(36).slice(2);function Au(e){if(!e[n0]){e[n0]=!0,Lx.forEach(function(n){n!=="selectionchange"&&(z2.has(n)||Nu(n,!1,e),Nu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[n0]||(t[n0]=!0,Nu("selectionchange",!1,t))}}function Hf(e,t,n,l){switch(md(t)){case 2:var c=th;break;case 8:c=nh;break;default:c=Zu}n=c.bind(null,t,n,e),c=void 0,!Q0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Lu(e,t,n,l,c){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var A=l.stateNode.containerInfo;if(A===c)break;if(y===4)for(y=l.return;y!==null;){var K=y.tag;if((K===3||K===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;A!==null;){if(y=ha(A),y===null)return;if(K=y.tag,K===5||K===6||K===26||K===27){l=s=y;continue e}A=A.parentNode}}l=l.return}Ix(function(){var ee=s,ie=J0(n),ue=[];e:{var te=gs.get(e);if(te!==void 0){var ae=dr,he=e;switch(e){case"keypress":if(or(n)===0)break e;case"keydown":case"keyup":ae=p1;break;case"focusin":he="focus",ae=ec;break;case"focusout":he="blur",ae=ec;break;case"beforeblur":case"afterblur":ae=ec;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Xx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=u1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=w1;break;case ds:case hs:case ms:ae=o1;break;case bs:ae=j1;break;case"scroll":case"scrollend":ae=r1;break;case"wheel":ae=z1;break;case"copy":case"cut":case"paste":ae=d1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Jx;break;case"toggle":case"beforetoggle":ae=N1}var _e=(t&4)!==0,$e=!_e&&(e==="scroll"||e==="scrollend"),Q=_e?te!==null?te+"Capture":null:te;_e=[];for(var X=ee,$;X!==null;){var re=X;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||Q===null||(re=ri(X,Q),re!=null&&_e.push(Oi(X,re,$))),$e)break;X=X.return}0<_e.length&&(te=new ae(te,he,null,n,ie),ue.push({event:te,listeners:_e}))}}if((t&7)===0){e:{if(te=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",te&&n!==W0&&(he=n.relatedTarget||n.fromElement)&&(ha(he)||he[fe]))break e;if((ae||te)&&(te=ie.window===ie?ie:(te=ie.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(he=n.relatedTarget||n.toElement,ae=ee,he=he?ha(he):null,he!==null&&($e=f(he),_e=he.tag,he!==$e||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(ae=null,he=ee),ae!==he)){if(_e=Xx,re="onMouseLeave",Q="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Jx,re="onPointerLeave",Q="onPointerEnter",X="pointer"),$e=ae==null?te:ii(ae),$=he==null?te:ii(he),te=new _e(re,X+"leave",ae,n,ie),te.target=$e,te.relatedTarget=$,re=null,ha(ie)===ee&&(_e=new _e(Q,X+"enter",he,n,ie),_e.target=$,_e.relatedTarget=$e,re=_e),$e=re,ae&&he)t:{for(_e=D2,Q=ae,X=he,$=0,re=Q;re;re=_e(re))$++;re=0;for(var ye=X;ye;ye=_e(ye))re++;for(;0<$-re;)Q=_e(Q),$--;for(;0<re-$;)X=_e(X),re--;for(;$--;){if(Q===X||X!==null&&Q===X.alternate){_e=Q;break t}Q=_e(Q),X=_e(X)}_e=null}else _e=null;ae!==null&&Yf(ue,te,ae,_e,!1),he!==null&&$e!==null&&Yf(ue,$e,he,_e,!0)}}e:{if(te=ee?ii(ee):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var Ye=ns;else if(es(te))if(ls)Ye=O1;else{Ye=k1;var be=G1}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&X0(ee.elementType)&&(Ye=ns):Ye=R1;if(Ye&&(Ye=Ye(e,ee))){ts(ue,Ye,n,ie);break e}be&&be(e,te,ee),e==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Z0(te,"number",te.value)}switch(be=ee?ii(ee):window,e){case"focusin":(es(be)||be.contentEditable==="true")&&(wa=be,rc=ee,hi=null);break;case"focusout":hi=rc=wa=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,os(ue,n,ie);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":os(ue,n,ie)}var Ne;if(nc)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Sa?Fx(e,n)&&(qe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(qe="onCompositionStart");qe&&(Vx&&n.locale!=="ko"&&(Sa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Sa&&(Ne=Ux()):(ml=ie,P0="value"in ml?ml.value:ml.textContent,Sa=!0)),be=l0(ee,qe),0<be.length&&(qe=new Wx(qe,e,null,n,ie),ue.push({event:qe,listeners:be}),Ne?qe.data=Ne:(Ne=$x(n),Ne!==null&&(qe.data=Ne)))),(Ne=L1?T1(e,n):B1(e,n))&&(qe=l0(ee,"onBeforeInput"),0<qe.length&&(be=new Wx("onBeforeInput","beforeinput",null,n,ie),ue.push({event:be,listeners:qe}),be.data=Ne)),C2(ue,e,ee,n,ie)}Of(ue,t)})}function Oi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function l0(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,s=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||s===null||(c=ri(e,n),c!=null&&l.unshift(Oi(e,c,s)),c=ri(e,t),c!=null&&l.push(Oi(e,c,s))),e.tag===3)return l;e=e.return}return[]}function D2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yf(e,t,n,l,c){for(var s=t._reactName,y=[];n!==null&&n!==l;){var A=n,K=A.alternate,ee=A.stateNode;if(A=A.tag,K!==null&&K===l)break;A!==5&&A!==26&&A!==27||ee===null||(K=ee,c?(ee=ri(n,s),ee!=null&&y.unshift(Oi(n,ee,K))):c||(ee=ri(n,s),ee!=null&&y.push(Oi(n,ee,K)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var N2=/\r\n?/g,A2=/\u0000|\uFFFD/g;function Kf(e){return(typeof e=="string"?e:""+e).replace(N2,`
`).replace(A2,"")}function If(e,t){return t=Kf(t),Kf(e)===t}function Fe(e,t,n,l,c,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ya(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ya(e,""+l);break;case"className":cr(e,"class",l);break;case"tabIndex":cr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(e,n,l);break;case"style":Yx(e,l,s);break;case"data":if(t!=="object"){cr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=xr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Fe(e,t,"name",c.name,c,null),Fe(e,t,"formEncType",c.formEncType,c,null),Fe(e,t,"formMethod",c.formMethod,c,null),Fe(e,t,"formTarget",c.formTarget,c,null)):(Fe(e,t,"encType",c.encType,c,null),Fe(e,t,"method",c.method,c,null),Fe(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=xr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Pn);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=xr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Be("beforetoggle",e),Be("toggle",e),rr(e,"popover",l);break;case"xlinkActuate":Qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":rr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=a1.get(n)||n,rr(e,n,l))}}function Tu(e,t,n,l,c,s){switch(n){case"style":Yx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?ya(e,l):(typeof l=="number"||typeof l=="bigint")&&ya(e,""+l);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),s=e[Ot]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,c),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):rr(e,n,l)}}}function Gt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var l=!1,c=!1,s;for(s in n)if(n.hasOwnProperty(s)){var y=n[s];if(y!=null)switch(s){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Fe(e,t,s,y,n,null)}}c&&Fe(e,t,"srcSet",n.srcSet,n,null),l&&Fe(e,t,"src",n.src,n,null);return;case"input":Be("invalid",e);var A=s=y=c=null,K=null,ee=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":c=ie;break;case"type":y=ie;break;case"checked":K=ie;break;case"defaultChecked":ee=ie;break;case"value":s=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,t));break;default:Fe(e,t,l,ie,n,null)}}kx(e,s,A,K,ee,y,c,!1);return;case"select":Be("invalid",e),l=y=s=null;for(c in n)if(n.hasOwnProperty(c)&&(A=n[c],A!=null))switch(c){case"value":s=A;break;case"defaultValue":y=A;break;case"multiple":l=A;default:Fe(e,t,c,A,n,null)}t=s,n=y,e.multiple=!!l,t!=null?va(e,!!l,t,!1):n!=null&&va(e,!!l,n,!0);return;case"textarea":Be("invalid",e),s=c=l=null;for(y in n)if(n.hasOwnProperty(y)&&(A=n[y],A!=null))switch(y){case"value":l=A;break;case"defaultValue":c=A;break;case"children":s=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Fe(e,t,y,A,n,null)}Ox(e,l,c,s);return;case"option":for(K in n)n.hasOwnProperty(K)&&(l=n[K],l!=null)&&(K==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Fe(e,t,K,l,n,null));return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(l=0;l<Ri.length;l++)Be(Ri[l],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in n)if(n.hasOwnProperty(ee)&&(l=n[ee],l!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Fe(e,t,ee,l,n,null)}return;default:if(X0(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Tu(e,t,ie,l,n,void 0));return}}for(A in n)n.hasOwnProperty(A)&&(l=n[A],l!=null&&Fe(e,t,A,l,n,null))}function L2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,s=null,y=null,A=null,K=null,ee=null,ie=null;for(ae in n){var ue=n[ae];if(n.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":K=ue;default:l.hasOwnProperty(ae)||Fe(e,t,ae,null,l,ue)}}for(var te in l){var ae=l[te];if(ue=n[te],l.hasOwnProperty(te)&&(ae!=null||ue!=null))switch(te){case"type":s=ae;break;case"name":c=ae;break;case"checked":ee=ae;break;case"defaultChecked":ie=ae;break;case"value":y=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,t));break;default:ae!==ue&&Fe(e,t,te,ae,l,ue)}}U0(e,y,A,K,ee,ie,s,c);return;case"select":ae=y=A=te=null;for(s in n)if(K=n[s],n.hasOwnProperty(s)&&K!=null)switch(s){case"value":break;case"multiple":ae=K;default:l.hasOwnProperty(s)||Fe(e,t,s,null,l,K)}for(c in l)if(s=l[c],K=n[c],l.hasOwnProperty(c)&&(s!=null||K!=null))switch(c){case"value":te=s;break;case"defaultValue":A=s;break;case"multiple":y=s;default:s!==K&&Fe(e,t,c,s,l,K)}t=A,n=y,l=ae,te!=null?va(e,!!n,te,!1):!!l!=!!n&&(t!=null?va(e,!!n,t,!0):va(e,!!n,n?[]:"",!1));return;case"textarea":ae=te=null;for(A in n)if(c=n[A],n.hasOwnProperty(A)&&c!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Fe(e,t,A,null,l,c)}for(y in l)if(c=l[y],s=n[y],l.hasOwnProperty(y)&&(c!=null||s!=null))switch(y){case"value":te=c;break;case"defaultValue":ae=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==s&&Fe(e,t,y,c,l,s)}Rx(e,te,ae);return;case"option":for(var he in n)te=n[he],n.hasOwnProperty(he)&&te!=null&&!l.hasOwnProperty(he)&&(he==="selected"?e.selected=!1:Fe(e,t,he,null,l,te));for(K in l)te=l[K],ae=n[K],l.hasOwnProperty(K)&&te!==ae&&(te!=null||ae!=null)&&(K==="selected"?e.selected=te&&typeof te!="function"&&typeof te!="symbol":Fe(e,t,K,te,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in n)te=n[_e],n.hasOwnProperty(_e)&&te!=null&&!l.hasOwnProperty(_e)&&Fe(e,t,_e,null,l,te);for(ee in l)if(te=l[ee],ae=n[ee],l.hasOwnProperty(ee)&&te!==ae&&(te!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,t));break;default:Fe(e,t,ee,te,l,ae)}return;default:if(X0(t)){for(var $e in n)te=n[$e],n.hasOwnProperty($e)&&te!==void 0&&!l.hasOwnProperty($e)&&Tu(e,t,$e,void 0,l,te);for(ie in l)te=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||te===ae||te===void 0&&ae===void 0||Tu(e,t,ie,te,l,ae);return}}for(var Q in n)te=n[Q],n.hasOwnProperty(Q)&&te!=null&&!l.hasOwnProperty(Q)&&Fe(e,t,Q,null,l,te);for(ue in l)te=l[ue],ae=n[ue],!l.hasOwnProperty(ue)||te===ae||te==null&&ae==null||Fe(e,t,ue,te,l,ae)}function Uf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],s=c.transferSize,y=c.initiatorType,A=c.duration;if(s&&A&&Uf(y)){for(y=0,A=c.responseEnd,l+=1;l<n.length;l++){var K=n[l],ee=K.startTime;if(ee>A)break;var ie=K.transferSize,ue=K.initiatorType;ie&&Uf(ue)&&(K=K.responseEnd,y+=ie*(K<A?1:(A-ee)/(K-ee)))}if(--l,t+=8*(s+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bu=null,Eu=null;function a0(e){return e.nodeType===9?e:e.ownerDocument}function Zf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=null;function B2(){var e=window.event;return e&&e.type==="popstate"?e===Gu?!1:(Gu=e,!0):(Gu=null,!1)}var Wf=typeof setTimeout=="function"?setTimeout:void 0,E2=typeof clearTimeout=="function"?clearTimeout:void 0,Jf=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof Jf<"u"?function(e){return Jf.resolve(null).then(e).catch(G2)}:Wf;function G2(e){setTimeout(function(){throw e})}function Tl(e){return e==="head"}function Vf(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),Qa(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Hi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Hi(n);for(var s=n.firstChild;s;){var y=s.nextSibling,A=s.nodeName;s[rn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=y}}else n==="body"&&Hi(e.ownerDocument.body);n=c}while(n);Qa(t)}function Qf(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function ku(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ku(n),ai(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function k2(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[rn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function R2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function Pf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nn(e.nextSibling),e===null))return null;return e}function Ru(e){return e.data==="$?"||e.data==="$~"}function Ou(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function O2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Hu=null;function Ff(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Nn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function $f(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ed(e,t,n){switch(t=a0(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Hi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ai(e)}var An=new Map,td=new Set;function i0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var dl=T.d;T.d={f:H2,r:Y2,D:K2,C:I2,L:U2,m:Z2,X:W2,S:X2,M:J2};function H2(){var e=dl.f(),t=Qr();return e||t}function Y2(e){var t=ma(e);t!==null&&t.tag===5&&t.type==="form"?go(t):dl.r(e)}var Wa=typeof document>"u"?null:document;function nd(e,t,n){var l=Wa;if(l&&typeof t=="string"&&t){var c=Sn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),td.has(c)||(td.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Gt(t,"link",e),zt(t),l.head.appendChild(t)))}}function K2(e){dl.D(e),nd("dns-prefetch",e,null)}function I2(e,t){dl.C(e,t),nd("preconnect",e,t)}function U2(e,t,n){dl.L(e,t,n);var l=Wa;if(l&&e&&t){var c='link[rel="preload"][as="'+Sn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Sn(n.imageSizes)+'"]')):c+='[href="'+Sn(e)+'"]';var s=c;switch(t){case"style":s=Ja(e);break;case"script":s=Va(e)}An.has(s)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(s,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Yi(s))||t==="script"&&l.querySelector(Ki(s))||(t=l.createElement("link"),Gt(t,"link",e),zt(t),l.head.appendChild(t)))}}function Z2(e,t){dl.m(e,t);var n=Wa;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(e)+'"]',s=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Va(e)}if(!An.has(s)&&(e=v({rel:"modulepreload",href:e},t),An.set(s,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ki(s)))return}l=n.createElement("link"),Gt(l,"link",e),zt(l),n.head.appendChild(l)}}}function X2(e,t,n){dl.S(e,t,n);var l=Wa;if(l&&e){var c=ba(l).hoistableStyles,s=Ja(e);t=t||"default";var y=c.get(s);if(!y){var A={loading:0,preload:null};if(y=l.querySelector(Yi(s)))A.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(s))&&Yu(e,n);var K=y=l.createElement("link");zt(K),Gt(K,"link",e),K._p=new Promise(function(ee,ie){K.onload=ee,K.onerror=ie}),K.addEventListener("load",function(){A.loading|=1}),K.addEventListener("error",function(){A.loading|=2}),A.loading|=4,r0(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:A},c.set(s,y)}}}function W2(e,t){dl.X(e,t);var n=Wa;if(n&&e){var l=ba(n).hoistableScripts,c=Va(e),s=l.get(c);s||(s=n.querySelector(Ki(c)),s||(e=v({src:e,async:!0},t),(t=An.get(c))&&Ku(e,t),s=n.createElement("script"),zt(s),Gt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function J2(e,t){dl.M(e,t);var n=Wa;if(n&&e){var l=ba(n).hoistableScripts,c=Va(e),s=l.get(c);s||(s=n.querySelector(Ki(c)),s||(e=v({src:e,async:!0,type:"module"},t),(t=An.get(c))&&Ku(e,t),s=n.createElement("script"),zt(s),Gt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function ld(e,t,n,l){var c=(c=xe.current)?i0(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ja(n.href),n=ba(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ja(n.href);var s=ba(c).hoistableStyles,y=s.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,y),(s=c.querySelector(Yi(e)))&&!s._p&&(y.instance=s,y.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),s||V2(c,e,n,y.state))),t&&l===null)throw Error(r(528,""));return y}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Va(n),n=ba(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ja(e){return'href="'+Sn(e)+'"'}function Yi(e){return'link[rel="stylesheet"]['+e+"]"}function ad(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function V2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Gt(t,"link",n),zt(t),e.head.appendChild(t))}function Va(e){return'[src="'+Sn(e)+'"]'}function Ki(e){return"script[async]"+e}function id(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Sn(n.href)+'"]');if(l)return t.instance=l,zt(l),l;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),zt(l),Gt(l,"style",c),r0(l,n.precedence,e),t.instance=l;case"stylesheet":c=Ja(n.href);var s=e.querySelector(Yi(c));if(s)return t.state.loading|=4,t.instance=s,zt(s),s;l=ad(n),(c=An.get(c))&&Yu(l,c),s=(e.ownerDocument||e).createElement("link"),zt(s);var y=s;return y._p=new Promise(function(A,K){y.onload=A,y.onerror=K}),Gt(s,"link",l),t.state.loading|=4,r0(s,n.precedence,e),t.instance=s;case"script":return s=Va(n.src),(c=e.querySelector(Ki(s)))?(t.instance=c,zt(c),c):(l=n,(c=An.get(s))&&(l=v({},n),Ku(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),zt(c),Gt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,r0(l,n.precedence,e));return t.instance}function r0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,s=c,y=0;y<l.length;y++){var A=l[y];if(A.dataset.precedence===t)s=A;else if(s!==c)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var c0=null;function rd(e,t,n){if(c0===null){var l=new Map,c=c0=new Map;c.set(n,l)}else c=c0,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var s=n[c];if(!(s[rn]||s[wt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var y=s.getAttribute(t)||"";y=e+y;var A=l.get(y);A?A.push(s):l.set(y,[s])}}return l}function cd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Q2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ud(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function P2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ja(l.href),s=t.querySelector(Yi(c));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=u0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,zt(s);return}s=t.ownerDocument||t,l=ad(l),(c=An.get(c))&&Yu(l,c),s=s.createElement("link"),zt(s);var y=s;y._p=new Promise(function(A,K){y.onload=A,y.onerror=K}),Gt(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=u0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Iu=0;function F2(e,t){return e.stylesheets&&e.count===0&&s0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&s0(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Iu===0&&(Iu=62500*T2());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&s0(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Iu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function u0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)s0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var x0=null;function s0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,x0=new Map,t.forEach($2,e),x0=null,u0.call(e))}function $2(e,t){if(!(t.state.loading&4)){var n=x0.get(e);if(n)var l=n.get(null);else{n=new Map,x0.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<c.length;s++){var y=c[s];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),l=y)}l&&n.set(null,l)}c=t.instance,y=c.getAttribute("data-precedence"),s=n.get(y)||l,s===l&&n.set(null,c),n.set(y,c),this.count++,l=u0.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),s?s.parentNode.insertBefore(c,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ii={$$typeof:k,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function eh(e,t,n,l,c,s,y,A,K){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=s,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function xd(e,t,n,l,c,s,y,A,K,ee,ie,ue){return e=new eh(e,t,n,y,K,ee,ie,ue,A),t=1,s===!0&&(t|=24),s=un(3,null,null,t),e.current=s,s.stateNode=e,t=Sc(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Mc(s),e}function sd(e){return e?(e=Ma,e):Ma}function od(e,t,n,l,c,s){c=sd(c),l.context===null?l.context=c:l.pendingContext=c,l=_l(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=Sl(e,l,t),n!==null&&(en(n,e,t),_i(n,e,t))}function fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Uu(e,t){fd(e,t),(e=e.alternate)&&fd(e,t)}function dd(e){if(e.tag===13||e.tag===31){var t=Wl(e,67108864);t!==null&&en(t,e,67108864),Uu(e,67108864)}}function hd(e){if(e.tag===13||e.tag===31){var t=dn();t=pn(t);var n=Wl(e,t);n!==null&&en(n,e,t),Uu(e,t)}}var o0=!0;function th(e,t,n,l){var c=j.T;j.T=null;var s=T.p;try{T.p=2,Zu(e,t,n,l)}finally{T.p=s,j.T=c}}function nh(e,t,n,l){var c=j.T;j.T=null;var s=T.p;try{T.p=8,Zu(e,t,n,l)}finally{T.p=s,j.T=c}}function Zu(e,t,n,l){if(o0){var c=Xu(l);if(c===null)Lu(e,t,l,f0,n),bd(e,l);else if(ah(c,e,t,n,l))l.stopPropagation();else if(bd(e,l),t&4&&-1<lh.indexOf(e)){for(;c!==null;){var s=ma(c);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var y=Oe(s.pendingLanes);if(y!==0){var A=s;for(A.pendingLanes|=2,A.entangledLanes|=2;y;){var K=1<<31-ve(y);A.entanglements[1]|=K,y&=~K}Jn(s),(Ie&6)===0&&(Jr=mt()+500,ki(0))}}break;case 31:case 13:A=Wl(s,2),A!==null&&en(A,s,2),Qr(),Uu(s,2)}if(s=Xu(l),s===null&&Lu(e,t,l,f0,n),s===c)break;c=s}c!==null&&l.stopPropagation()}else Lu(e,t,l,null,n)}}function Xu(e){return e=J0(e),Wu(e)}var f0=null;function Wu(e){if(f0=null,e=ha(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return f0=e,null}function md(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case Gn:return 2;case fa:return 8;case In:case ti:return 32;case da:return 268435456;default:return 32}default:return 32}}var Ju=!1,Bl=null,El=null,ql=null,Ui=new Map,Zi=new Map,Gl=[],lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bd(e,t){switch(e){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":ql=null;break;case"pointerover":case"pointerout":Ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zi.delete(t.pointerId)}}function Xi(e,t,n,l,c,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[c]},t!==null&&(t=ma(t),t!==null&&dd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function ah(e,t,n,l,c){switch(t){case"focusin":return Bl=Xi(Bl,e,t,n,l,c),!0;case"dragenter":return El=Xi(El,e,t,n,l,c),!0;case"mouseover":return ql=Xi(ql,e,t,n,l,c),!0;case"pointerover":var s=c.pointerId;return Ui.set(s,Xi(Ui.get(s)||null,e,t,n,l,c)),!0;case"gotpointercapture":return s=c.pointerId,Zi.set(s,Xi(Zi.get(s)||null,e,t,n,l,c)),!0}return!1}function gd(e){var t=ha(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,ir(e.priority,function(){hd(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,ir(e.priority,function(){hd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function d0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xu(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);W0=l,n.target.dispatchEvent(l),W0=null}else return t=ma(n),t!==null&&dd(t),e.blockedOn=n,!1;t.shift()}return!0}function vd(e,t,n){d0(e)&&n.delete(t)}function ih(){Ju=!1,Bl!==null&&d0(Bl)&&(Bl=null),El!==null&&d0(El)&&(El=null),ql!==null&&d0(ql)&&(ql=null),Ui.forEach(vd),Zi.forEach(vd)}function h0(e,t){e.blockedOn===t&&(e.blockedOn=null,Ju||(Ju=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,ih)))}var m0=null;function yd(e){m0!==e&&(m0=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){m0===e&&(m0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Wu(l||n)===null)continue;break}var s=ma(n);s!==null&&(e.splice(t,3),t-=3,Xc(s,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function Qa(e){function t(K){return h0(K,e)}Bl!==null&&h0(Bl,e),El!==null&&h0(El,e),ql!==null&&h0(ql,e),Ui.forEach(t),Zi.forEach(t);for(var n=0;n<Gl.length;n++){var l=Gl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Gl.length&&(n=Gl[0],n.blockedOn===null);)gd(n),n.blockedOn===null&&Gl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],s=n[l+1],y=c[Ot]||null;if(typeof s=="function")y||yd(n);else if(y){var A=null;if(s&&s.hasAttribute("formAction")){if(c=s,y=s[Ot]||null)A=y.formAction;else if(Wu(c)!==null)continue}else A=y.action;typeof A=="function"?n[l+1]=A:(n.splice(l,3),l-=3),yd(n)}}}function pd(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Vu(e){this._internalRoot=e}b0.prototype.render=Vu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=dn();od(n,l,e,t,null,null)},b0.prototype.unmount=Vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;od(e.current,2,null,e,null,null),Qr(),t[fe]=null}};function b0(e){this._internalRoot=e}b0.prototype.unstable_scheduleHydration=function(e){if(e){var t=ar();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gl.length&&t!==0&&t<Gl[n].priority;n++);Gl.splice(n,0,e),n===0&&gd(e)}};var _d=i.version;if(_d!=="19.2.3")throw Error(r(527,_d,"19.2.3"));T.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var rh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g0.isDisabled&&g0.supportsFiber)try{Ce=g0.inject(rh),je=g0}catch{}}return Ji.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,l="",c=zo,s=Do,y=No;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=xd(e,1,!1,null,null,n,l,null,c,s,y,pd),e[fe]=t.current,Au(e),new Vu(t)},Ji.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var l=!1,c="",s=zo,y=Do,A=No,K=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.formState!==void 0&&(K=n.formState)),t=xd(e,1,!0,t,n??null,l,c,K,s,y,A,pd),t.context=sd(null),n=t.current,l=dn(),l=pn(l),c=_l(l),c.callback=null,Sl(n,c,l),n=l,t.current.lanes=n,ut(t,n),Jn(t),e[fe]=t.current,Au(e),new b0(t)},Ji.version="19.2.3",Ji}var Ld;function bh(){if(Ld)return Fu.exports;Ld=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),Fu.exports=mh(),Fu.exports}var gh=bh();const Hl=Ln;(function(u,i){const a=Ln,r=u();for(;;)try{if(-parseInt(a(282))/1+parseInt(a(284))/2*(parseInt(a(275))/3)+-parseInt(a(271))/4*(-parseInt(a(273))/5)+-parseInt(a(281))/6+parseInt(a(288))/7+parseInt(a(274))/8+-parseInt(a(279))/9*(parseInt(a(257))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(_0,476940);const vh=(function(){let u=!0;return function(i,a){const r={QCBmm:"ZfNeM"},o=u?function(){const f=Ln;if(a)if(r[f(270)]===f(268)){const m=a[f(278)](i,arguments);return a=null,m}else return _0x2b8981.toString().search("(((.+)+)+)+$")[f(259)]()[f(289)](_0x14b172)[f(263)](f(267))}:function(){};return u=!1,o}})(),ax=vh(void 0,function(){const u=Ln,i={AZRxB:u(267)};return ax.toString()[u(263)](i[u(276)])[u(259)]()[u(289)](ax)[u(263)](u(267))});ax();function Ln(u,i){u=u-256;const a=_0();let r=a[u];if(Ln.lOiKHU===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Ln.GwIjnd=o,Ln.rZdgBF={},Ln.lOiKHU=!0}const f=a[0],m=u+f,p=Ln.rZdgBF[m];if(p)r=p;else{const h=function(d){this.FLkewP=d,this.tWwSmw=[1,0,0],this.ZKhSzr=function(){return"newState"},this.XHRdSu="\\w+ *\\(\\) *{\\w+ *",this.XXFBVV=`['|"].+['|"];? *}`};h.prototype.KoUJCw=function(){const d=new RegExp(this.XHRdSu+this.XXFBVV),g=d.test(this.ZKhSzr.toString())?--this.tWwSmw[1]:--this.tWwSmw[0];return this.HogOBU(g)},h.prototype.HogOBU=function(d){return~d?this.ElEKxH(this.FLkewP):d},h.prototype.ElEKxH=function(d){for(let g=0,v=this.tWwSmw.length;g<v;g++)this.tWwSmw.push(Math.round(Math.random())),v=this.tWwSmw.length;return d(this.tWwSmw[0])},new h(Ln).KoUJCw(),r=Ln.GwIjnd(r),Ln.rZdgBF[m]=r}return r}const p0=()=>new Date()[Hl(265)](),Rt=u=>u+"_"+Math.random()[Hl(259)](36).slice(2,10),Se=(u,i,a)=>Math[Hl(286)](i,Math[Hl(269)](a,u));function _0(){const u=["Bwf4","rfDQAwq","mZeXntG1ngjwsu96BG","y29UC3rYDwn0B3i","z3jVDxbZ","mJbuwhPZswe","BgvHzKDYB3vWCW","Dg9tDhjPBMC","BwfW","EKH6D2u","zMXVD2vYswrZ","C2vHCMnO","zMLUza","Dg9ju09tDhjPBMC","Cg9ZAxrPB24","kcGOlISPkYKRksSK","wMzozu0","BwLU","uuncBw0","ndGXnZa4tezts1jW","CMvKDwnL","mtbMr3vcr3a","nZq3mdC2oenQwMrQvq","m1ndELHkDG","qvPsEei","BgvHzKLKCW","yxbWBhK","mJi2ndu3mxjlAerSEa","BgvUz3rO","mZu4ndqYnfPnwNPYtG","mtK0nZC1BLvAs3L5","tuzArg0","mZa1mdCWz0PKtxrZ","Aw5JBhvKzxm"];return _0=function(){return u},_0()}const Rl=u=>u===void 0||{zHzwe:function(r,o){return r===o}}[Hl(261)](u,null)?u:JSON.parse(JSON.stringify(u)),Qi=u=>Math.floor(u*.7/5)*5;function ua(u,i){const a=Hl;return u.groups?u[a(256)][a(264)](r=>r[a(262)].includes(i))??null:null}function yh(u,i){const a={wSvzO:function(o,f,m){return o(f,m)}},r=a.wSvzO(ua,u,i);return r?r.flowerIds:[i]}function Y0(u,i){const a=Hl;return u.leafGroups?u[a(258)][a(264)](r=>r[a(277)][a(285)](i))??null:null}function ph(u,i){const a=Hl,r={DWjid:function(h,d){return h===d},MFZDm:function(h,d){return h/d}},o=(u[a(258)]??[]).find(h=>h.id===i);if(!o||r[a(287)](o[a(277)].length,0))return{x:0,y:0};const f=o.leafIds[a(260)](h=>(u.leaves??[])[a(264)](d=>d.id===h)).filter(h=>!!h);if(f.length===0)return{x:0,y:0};const m=f[a(272)]((h,d)=>h+d[a(266)].x,0),p=f.reduce((h,d)=>h+d.position.y,0);return{x:m/f.length,y:r[a(283)](p,f[a(280)])}}function _h(u,i){const a=Y0(u,i);return a?a.leafIds:[i]}(function(u,i){const a=Yt,r=u();for(;;)try{if(parseInt(a(195))/1*(-parseInt(a(159))/2)+parseInt(a(188))/3*(parseInt(a(190))/4)+-parseInt(a(163))/5*(parseInt(a(171))/6)+parseInt(a(186))/7+-parseInt(a(158))/8*(-parseInt(a(203))/9)+-parseInt(a(199))/10*(parseInt(a(202))/11)+parseInt(a(174))/12===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(S0,369884);const Sh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Yt;if(a){const f=a[o(197)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),ix=Sh(void 0,function(){const u=Yt,i={uqoot:u(200)};return ix[u(181)]()[u(183)](i.uqoot).toString()[u(194)](ix)[u(183)](u(200))});ix();const Fa=2/3,Td=.6,wh=.25,Ch=.75;function Yl(u,i,a){const r=Yt,o={NVRUy:function(k,G){return k<=G},ANBjr:function(k,G){return k*G},glHEH:"gradual",HfBwL:function(k,G){return k+G},jlVSP:function(k,G){return k-G},RnZOR:function(k,G){return k*G},gIVOC:function(k,G){return k+G},evDzD:function(k,G){return k*G},gXjCT:function(k,G){return k+G},PgjXJ:function(k,G){return k===G},qbWEj:function(k,G){return k*G},QmeRs:function(k,G){return k*G},HvPOe:function(k,G){return k/G},JIsgA:function(k,G){return k*G},mVcjJ:function(k,G){return k*G}},f=u/2,m=i*Math[r(205)]/2;if(m<=0||o.NVRUy(f,0))return{diameter:u,layerCount:1};const p=a?.sizeMode??r(178),h=a?.[r(172)]??0,d=o.ANBjr(m,1-Fa),g=Math.PI*f/2,v=a?.layerCount??Math.max(1,Math[r(166)](g/d)),D=p===o.glHEH?o.HfBwL(i,o[r(179)](v,1)*h):i,b=o.RnZOR(D,Math.SQRT2)/2,z=o[r(177)](m*wh,b*Ch);if(v===1){const k=Math[r(208)](Math.PI/2,b*Fa/f),G=o[r(204)](f,Math.sin(k)),H=b*Td*Math.sin(k);return{diameter:Math.round(Math[r(206)](u,2*o[r(201)](G,H))),layerCount:v}}let S=o.evDzD(m,Fa)/f;for(let k=1;k<v;k++){const G=o[r(191)](p,o[r(192)])?i+o.qbWEj(k,h):i,H=o.QmeRs(G,Math[r(205)])/2;S+=H*(1-Fa)/f}S=Math[r(208)](S,o[r(209)](Math.PI,2));const C=o.JIsgA(o.HfBwL(f,z*Td),Math[r(187)](S)),B=Math[r(206)](0,o.jlVSP(C,f));return{diameter:Math[r(166)](u+o[r(189)](2,B)),layerCount:v}}function $i(u,i,a="uniform",r=0){const o=Yt,f={xGGYt:function(h,d){return h===d},UhbcT:o(167),NlZHm:function(h,d){return h*d},MJWOJ:function(h,d){return h-d},prumF:function(h,d){return h<=d},PUxKL:function(h,d){return h===d},JtMCV:function(h,d){return h+d},XAarL:function(h,d){return h/d},LLesA:"BjhOY",DODIW:o(175),VhJyS:function(h,d){return h/d}};if(f.prumF(i,0)||f.prumF(u,0))return 0;const m=[];for(let h=0;h<i;h++){const d=f.PUxKL(a,"gradual")?f[o(160)](u,h*r):u;m[o(173)](f.XAarL(d*Math[o(205)],2))}let p=m[0];for(let h=1;h<i;h++)if(f[o(169)]!==f.DODIW)p+=f[o(211)](m[h],3);else{const d=wnGAoI[o(161)](_0x116ea2,wnGAoI.UhbcT)?_0x147f02+wnGAoI.NlZHm(_0x233be7,_0x4066e3):_0x4257d9,g=d*_0x48eb5d.SQRT2/2;_0x516f13+=wnGAoI.NlZHm(g,wnGAoI[o(193)](1,_0xa853ac))/_0x1d2b36}return Math[o(166)](p*2)}function jh(u,i,a="uniform",r=0){const o=Yt,f={IAXxk:function(v,D){return v<=D},zNCnz:function(v,D){return v/D},BzJxr:function(v,D){return v===D},tHmFy:function(v,D){return v*D},ZLSoW:function(v,D){return v*D},mExTV:function(v,D){return v-D}};if(i<=0||f[o(196)](u,0))return 0;const m=f[o(162)](u,2),p=Math.SQRT2/2,h=i;if(a==="uniform"||f[o(157)](r,0)){const v=f[o(165)](p,h+2)/3;return Math[o(206)](1,Math.round(f[o(162)](m,v)))}const d=f.ZLSoW(f.tHmFy(r,f.mExTV(h,1)),h)/6,g=(m/p-d)*3/(h+2);return Math.max(1,Math[o(166)](g))}function Mh(u,i,a){const r=Yt,o={oWbeb:function(p,h){return p<=h},NiEXY:"GNJMt",hwmYc:function(p,h){return p/h}};if(o.oWbeb(u,i))return 1;let f=1,m=80;for(let p=0;p<30;p++){const h=(f+m)/2,{diameter:d}=Yl(i,h,a);d<u?o[r(198)]!==r(210)?_0x1d2859=_0x3e99b9:f=h:m=h}return Math[r(206)](1,Math.round(o.hwmYc(f+m,2)))}function Yt(u,i){u=u-157;const a=S0();let r=a[u];if(Yt.yjWVpN===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Yt.BCfGuo=o,Yt.sROMTd={},Yt.yjWVpN=!0}const f=a[0],m=u+f,p=Yt.sROMTd[m];if(p)r=p;else{const h=function(d){this.uYLwnP=d,this.CBMGLd=[1,0,0],this.qghFAa=function(){return"newState"},this.ZtcZtK="\\w+ *\\(\\) *{\\w+ *",this.suAJSr=`['|"].+['|"];? *}`};h.prototype.hPRseh=function(){const d=new RegExp(this.ZtcZtK+this.suAJSr),g=d.test(this.qghFAa.toString())?--this.CBMGLd[1]:--this.CBMGLd[0];return this.DARxPz(g)},h.prototype.DARxPz=function(d){return~d?this.TMghkg(this.uYLwnP):d},h.prototype.TMghkg=function(d){for(let g=0,v=this.CBMGLd.length;g<v;g++)this.CBMGLd.push(Math.round(Math.random())),v=this.CBMGLd.length;return d(this.CBMGLd[0])},new h(Yt).hPRseh(),r=Yt.BCfGuo(r),Yt.sROMTd[m]=r}return r}function S0(){const u=["qNPkEhi","ntzrAK91Ahe","mJzizeziDuS","sNrnq1y","EeDhwxq","EK5dBNO","mtbYy3PeAei","D25hBue","DeHTrNK","CM91BMq","z3jHzhvHBa","t25etKe","teXLC0e","CfLxwLa","mtKZmZGZnLHbrgHOuW","C2L6zvn0zxbnBq","ChvZAa","ode3mZe0mgTNr1zJBa","y0rtvwu","s3zeEwe","z0Lwt0m","Dw5PzM9YBq","AMXwu1a","vuHZt28","Dg9tDhjPBMC","y2H1A2S","C2vHCMnO","C2L6zu1Vzgu","u2fZz0q","mJa1otK3ngfYAuj1Dq","C2LU","otbvCgvkufy","BvzJAKO","nduWndHSsefbr0C","ugDQweO","z2XiruG","tuPxt0O","y29UC3rYDwn0B3i","ntaWodf6shfPzve","sufyEgS","yxbWBhK","tMLfwfK","ntbfserSvuK","kcGOlISPkYKRksSK","z1HQq1q","nJa0mtuZy25QtxzL","oda2mdq5A0LczwPN","zxzeEKq","u1fsvdi","Bwf4","BwzzDhm","BwLU","shzqt2u","r05ktxq","vMHkEvm"];return S0=function(){return u},S0()}function zh(u,i,a){const r=Yt,o={mfYts:function(D,b){return D/b},OnDNA:function(D,b){return D*b},wzsxD:function(D,b){return D/b},pYWZP:function(D,b){return D*b},chukk:function(D,b){return D<b},UHsOo:function(D,b){return D+b},KvDya:function(D,b){return D*b},YeDFu:function(D,b){return D*b},IkGGd:function(D,b){return D/b},SasgD:function(D,b){return D+b},dTtrC:function(D,b){return D/b},wnGmA:function(D,b){return D+b}},f=o.mfYts(u,2),m=o[r(207)](o.OnDNA(i,Math.SQRT2),2);if(m<=0||f<=0)return 1;const p=a?.[r(184)]??r(178),h=a?.sizeStepMm??0,d=Math.PI/2;if(p==="uniform"||h===0){const D=o.mfYts(m,3),b=o.wzsxD(o[r(168)](Math.PI,f),2);return Math[r(206)](1,Math[r(166)](b/D))}let g=o[r(170)](m,Fa)/f;if(g>=d)return 1;let v=1;for(let D=1;o[r(182)](D,100);D++){const b=o[r(180)](i,o[r(176)](D,h)),z=o[r(207)](o.YeDFu(b,Math.SQRT2),2),S=o.IkGGd(z*(1-Fa),f);if(g+=S,g>o[r(185)](d,o.dTtrC(S,2)))break;v=o[r(164)](D,1)}return Math.max(1,v)}const Kn=hn;(function(u,i){const a=hn,r=u();for(;;)try{if(parseInt(a(220))/1+parseInt(a(206))/2*(parseInt(a(214))/3)+-parseInt(a(189))/4*(-parseInt(a(251))/5)+parseInt(a(233))/6+parseInt(a(219))/7+parseInt(a(213))/8+-parseInt(a(191))/9*(parseInt(a(256))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(w0,709959);const Dh=(function(){const u=hn,i={jiDMA:function(r,o){return r-o},YfxwV:function(r,o){return r*o},iNkIE:function(r,o){return r/o},RxUKi:function(r,o){return r===o},MlJvD:u(210)};let a=!0;return function(r,o){const f=a?function(){const m=hn,p={fwEzA:function(h,d){return i.jiDMA(h,d)},NJZCZ:function(h,d){return i.YfxwV(h,d)},KoSQk:function(h,d){return i.iNkIE(h,d)},eMWuN:function(h,d){return h*d}};if(i[m(193)]("vxMJN",i.MlJvD)){if(_0xf6480a[m(196)]===0)return;const h=_0x124464[p[m(242)](_0x249512.length,1)],{length:d}=_0x2fecbc(_0x48dbe0),g=p[m(201)](d,h[m(235)]??1),v=p[m(248)](_0xecd494[m(198)](p.eMWuN(g,_0x424b49)*10),10);h.radius>v&&(h.radius=v)}else if(o){const h=o.apply(r,arguments);return o=null,h}}:function(){};return a=!1,f}})(),rx=Dh(void 0,function(){const u=hn,i={SUnlA:"(((.+)+)+)+$"};return rx.toString()[u(195)](i.SUnlA)[u(247)]().constructor(rx).search(u(255))});function hn(u,i){u=u-187;const a=w0();let r=a[u];if(hn.Dfzjsy===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};hn.NJopGN=o,hn.kiIeUR={},hn.Dfzjsy=!0}const f=a[0],m=u+f,p=hn.kiIeUR[m];if(p)r=p;else{const h=function(d){this.JMIDmv=d,this.gObjXu=[1,0,0],this.dhvWNe=function(){return"newState"},this.DEajHB="\\w+ *\\(\\) *{\\w+ *",this.crMHSg=`['|"].+['|"];? *}`};h.prototype.YfzOhK=function(){const d=new RegExp(this.DEajHB+this.crMHSg),g=d.test(this.dhvWNe.toString())?--this.gObjXu[1]:--this.gObjXu[0];return this.OBURhB(g)},h.prototype.OBURhB=function(d){return~d?this.HWJqqk(this.JMIDmv):d},h.prototype.HWJqqk=function(d){for(let g=0,v=this.gObjXu.length;g<v;g++)this.gObjXu.push(Math.round(Math.random())),v=this.gObjXu.length;return d(this.gObjXu[0])},new h(hn).YfzOhK(),r=hn.NJopGN(r),hn.kiIeUR[m]=r}return r}rx();const tr=.28,Bd={:Kn(205),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function cx(u){const i=Kn,a={SrACT:i(254)};return u===a[i(224)]?Bd[a[i(224)]]:Bd.}function w0(){const u=["s29tuwS","qvrVqNe","v2rYC2m","mJuZoti1A1vKrgXn","EeXLB00","CM91BMq","5yMJ44gK44g+44g/","kcGOlISPkYKRksSK","ndbgzNr3s1C","rMvSuMW","BLjNt3a","mJbzvK5oBLi","s29hDLG","ntu2ntC2mNDZDKr3yW","qNDot2m","uNHvs2K","ChvZAa","C2vHCMnO","BgvUz3rO","y29Z","zMXVB3i","BejIExK","vxHxu00","tKPAq1O","EuzvCKm","Dg9gAxHLza","CKvjrMO","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","mta0mtHHqLPXDw4","C29YDa","CMfKAxvZ","wfPjrK4","ueLrzKi","y1PYvxq","C2LU","nJGXodmWnffmyKzruW","mJC2svPYCxze","BwLU","AM9PBG","wK9brgq","vwnAt2m","mtm5mte1ouvLuuPMyG","nJC4mdC2sxDjt2Ls","wMzdDwS","sePKqK8","v0vxy3m","u3jbq1q","yMzbCw0","zgnqDuW","BhfRshe","DxzvCeq","5y2k44gp44gz","rLDvshq","z2n2D1y","Bg5dvNu","ndmYodi2mM13A29cuW","v21VEwe","C2nHBgu","D1HJywm","B3jKzxi","z0TytgW","z0HhALG","Bwf4","zMLUza","zNDfEKe","sMLkEwm","BKXSr1e","tvDese8","thr4tvK","Dg9tDhjPBMC"];return w0=function(){return u},w0()}function xa(u){return{cZrUt:function(r,o){return r/o}}[Kn(211)](u*Math.PI,180)}const an=2.7;function jt(u){const i=u*Math.SQRT2/2,a=i*an,r=a/2;return{length:a,width:r}}function Nh(u){const i=Kn,a={PvCuD:function(r,o){return r/o},xLeoM:function(r,o){return r*o}};return a.PvCuD(a[i(252)](u,an),2)}function Pi(u,i,a){const r=Kn,o={iwync:function(d,g){return d+g},lBbyy:function(d,g){return d*g}},{length:f}=jt(a),m=f*i,p=Math[r(240)](0,u-m*tr),h=o.iwync(p,m);return o[r(199)](h,2)/an}function Ah(u,i,a){const r=Kn,o={KoGvX:function(h,d){return h-d}},{length:f}=jt(a),m=f*i,p=u*an/2;return Math.max(2,p-m*o[r(190)](1,tr))}function Vn(u,i,a){const r=Kn,o={lqkHq:function(g,v){return g*v},ZfCuk:function(g,v){return g/v},FelRl:function(g,v){return g<v},kHsaa:function(g,v){return g+v},ZOADd:function(g,v){return g>v},UldXg:function(g,v){return g<=v},LGQOS:function(g,v){return g??v},aTZHO:function(g,v){return g/v},YpwUg:function(g,v){return g+v},JiJyc:r(225),nLlGQ:function(g,v){return g%v},TYNGB:function(g,v){return g+v},nRgOp:function(g,v){return g*v},yFUrC:function(g,v){return g-v},gHGjX:function(g,v){return g<v},AToBq:function(g,v){return g*v}};if(!u||u<=0||!a||o.UldXg(a,0))return o.LGQOS(i,0);const f=o.aTZHO(360,u),m=o[r(221)](360,a),p=[];for(let g=0;g<u;g++)p[r(194)](((i+g*f)%360+360)%360);let h=i+o.ZfCuk(f,2),d=-1;for(let g=0;g<u;g++){const v=o.YpwUg(i,o[r(227)](g,f))+f/2;let D=1/0;for(let b=0;o[r(187)](b,a);b++)if(o.JiJyc===o[r(243)]){const z=o[r(244)](o.TYNGB((v+o[r(188)](b,m))%360,360),360);for(const S of p){let C=Math.abs(o[r(202)](z,S));o[r(217)](C,180)&&(C=o[r(202)](360,C)),o[r(239)](C,D)&&(D=C)}}else{const z=_0x2baa37+o[r(227)](_0x51331,_0x1ee55b)+o.ZfCuk(_0x285ab1,2);let S=_0x471e29;for(let C=0;o.FelRl(C,_0x41a825);C++){const B=(o.kHsaa(z,C*_0x259a23)%360+360)%360;for(const R of _0x449109){let k=_0x426ca4.abs(B-R);k>180&&(k=360-k),o.FelRl(k,S)&&(S=k)}}o.ZOADd(S,_0xefe39e)&&(_0x2e0a9d=S,_0x120fb5=z)}o.ZOADd(D,d)&&(d=D,h=v)}return Math.round(o[r(249)](h,10))/10}function K0(u,i,a){const r=Kn,o={oqmBW:function(b,z){return b/z},lnCVu:function(b,z){return b/z},bMegN:function(b,z){return b*z},Wdrsc:function(b,z){return b*z},XIOfT:function(b,z){return b-z},WEWcs:function(b,z){return b+z},gKXLl:function(b,z){return b<=z},WaMAy:r(218),Wmoya:function(b,z){return b*z},rEIFj:function(b,z){return b*z},FWUHt:function(b,z,S){return b(z,S)}};if(u.length===0)return;const{length:f}=jt(i),m=u[0],p=m[r(235)]??1,h=o.Wdrsc(f,p),d=Math[r(240)](0,o.XIOfT(m.radius,h*tr)),g=o[r(223)](d,h);if(o[r(238)](g,0))return;const v=o[r(232)](o[r(250)](a,an),2),D=v/g;for(const b of u)o.WaMAy===o.WaMAy?(b[r(208)]=Math[r(240)](2,Math.round(o[r(234)](b[r(208)]*D,10))/10),b[r(235)]=Math.round(o[r(204)](b.scale??1,D)*100)/100):(_0x42c4f0.radius=_0x24e77c[r(240)](2,o.oqmBW(_0x17436c.round(_0x5b4eb2[r(208)]*_0x10a819*10),10)),_0x55c1d5.scale=o[r(232)](_0x1e2721[r(253)](o.bMegN(_0x187cfd.scale??1,_0x489c7e)*100),100));o[r(230)](ux,u,i)}function ux(u,i){const a=Kn,r={akfVu:function(h,d){return h===d},MWDHO:function(h,d){return h(d)},XZIFN:function(h,d){return h*d},xayFs:function(h,d){return h/d},wXcac:function(h,d){return h*d}};if(r.akfVu(u.length,0))return;const o=u[u[a(196)]-1],{length:f}=r[a(245)](jt,i),m=r[a(209)](f,o.scale??1),p=r.xayFs(Math[a(198)](r[a(236)](m,tr)*10),10);o[a(208)]>p&&(o.radius=p)}function Lh(u,i,a,r){const o=Kn,f={fWeuH:function(D,b){return D===b},iyKfC:function(D,b){return D(b)},fZjIC:function(D,b){return D*b},dcPuL:function(D,b){return D/b},UxWSM:function(D,b){return D<b},nZuZp:function(D,b){return D-b},BwNOc:o(229),serJE:function(D,b){return D>b},LtxMY:function(D,b){return D-b},ERexS:function(D,b,z,S){return D(b,z,S)}};if(f.fWeuH(u.length,0))return;const m=[...u][o(207)]((D,b)=>b[o(237)]-D.order),{length:p}=f.iyKfC(jt,i),h=m.length,d=m[0][o(235)]??1,g=f.fZjIC(p,d);m[0][o(208)]=f.dcPuL(Math.floor(g*tr*10),10);for(let D=1;f[o(200)](D,h);D++){const b=m[f.nZuZp(D,1)],z=p*(b[o(235)]??1);let S;if(a===f[o(192)]){const B=f[o(226)](70*Math.PI,180),R=f.serJE(h,1)?D/f[o(246)](h,1)*B:0;S=f.fZjIC(z*(30/100),Math[o(197)](R))}else S=z/3;m[D][o(208)]=f.dcPuL(Math[o(253)]((b[o(208)]+S)*10),10)}const v=[...u][o(207)]((D,b)=>D[o(237)]-b.order);f.ERexS(K0,v,i,r);for(const D of v){const b=u[o(241)](z=>z.id===D.id);b&&(b.radius=D[o(208)],b.scale=D.scale)}}function ei(u){const i=Kn,a={vabHv:function(h,d){return h/d},QslWI:function(h,d){return h/d},gcvwV:function(h,d){return h/d}},r=360/u,o=Math.sin(xa(a.vabHv(r,2)))*2,f=.96,m=1.2,p=a.QslWI(o*m,f);return a[i(231)](Math[i(253)](Math.max(.3,Math[i(215)](3,p))*100),100)}(function(u,i){const a=tn,r=u();for(;;)try{if(-parseInt(a(245))/1+-parseInt(a(339))/2+parseInt(a(315))/3+parseInt(a(350))/4*(-parseInt(a(341))/5)+-parseInt(a(271))/6*(-parseInt(a(296))/7)+-parseInt(a(304))/8*(parseInt(a(322))/9)+-parseInt(a(261))/10*(-parseInt(a(282))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(C0,698621);const Th=(function(){const u={biAqV:"(((.+)+)+)+$"};let i=!0;return function(a,r){const o=i?function(){const f=tn,m={sZysz:u.biAqV};if(f(235)!=="qUswo"){if(r){const p=r.apply(a,arguments);return r=null,p}}else return _0x2c4596[f(268)]()[f(301)](f(279)).toString()[f(349)](_0x312f0e).search(m.sZysz)}:function(){};return i=!1,o}})(),xx=Th(void 0,function(){const u=tn,i={jCirJ:"(((.+)+)+)+$"};return xx.toString().search("(((.+)+)+)+$").toString()[u(349)](xx)[u(301)](i[u(258)])});xx();function C0(){const u=["z3f6r3m","svjeu04","i0y1rtzdqW","Cgv0ywXdB3vUDa","C29YDa","5lI444gK44g+44g/","i0yWoencnG","y29Sx3DOAxrL","iZLcntLcnG","iZDfqZHfmW","mteXndy2nhzHB2H3ua","y2PuzMi","D3DQuMG","y29Sx2XPz2H0yMX1zq","Bgf5zxjZ","rw9jvNG","Cg9ZAxrPB24","y29Sx2DYzwvU","y29Sx2XHDMvUzgvY","wvzmD2O","i0y1rJvgnq","zwPKv2O","s0ntrxy","AKnPCKO","zhDkBNm","y29Sx3bPBMS","mZy1ntyZmtbRsvvrzgS","CMfKAxvZ","DvzIsw4","tLn5sK8","i0yWoda4ma","vNfPu3m","BMfTzq","Dg9tDhjPBMC","CLvSBhy","iZncn0reoa","nKnJC3zLwG","i0mWqZbdma","DvbHtgG","Bgf5","uLbKwuO","y29Sx2DVBgq","i0q0qtG0mW","B3jKzxi","kcGOlISPkYKRksSK","z3ztA0K","y29Sx2jSywnR","mtfys01ODKS","tKrVq04","iZmZmZmZmW","tgjxAwi","i0yWoeeZqG","y29Sx3jLza","qNf6u1i","ChjQ","ienVChK","zMLUza","tfzTEeq","i0yYrda0qG","i0uZndG1ma","Cgjnq3y","ode0otyXEK9AuM1i","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","iZfbn0eZqq","y29Sx2nVCMfS","svDms3K","C2vHCMnO","sMnpvu8","q1jQAgm","mZjIrNDICLe","vgDwzfq","y29Sx29Yyw5Nzq","vhrYDw0","tLDLyMe","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","y29Sx3nPBhzLCG","ExLHC1q","EgXcsxC","C2nHBgu","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","mZC4ody1ogLKz2nVBW","zMX3","qwzfq28","zhHvrxm","r3vIsvi","y29Sx2jYB3DU","ruHHs2W","mJK4mdm3n2TuDK9KBG","BeftzfK","y29Sx2jSDwu","sw5Uzxi","t3v0zxi","y29Sx2rHCMTNCMvLBG","qwfjvum","y29Sx2nYzwfT","y29Sx25HDNK","CuLPq2C","iZjgqKy0qq","BhfMDfa","5y2k44gp44gz","u2fPBwO","Ag9kzfO","Afr5Cw8","zfzsEhi","mtaZmJa2nhL2rfbTyG","yNnuv2G","nJKWnta1nwr4s2vyDW","uxr5CeK","tefAwgW","wKrezfm","y29Sx2HVDhbPBMS","wgXgu2y","q2vUDgvY","5yMJ44gK44g+44g/","y29UC3rYDwn0B3i","neLjBxDduW","y29Sx3LLBgXVDW","zeTUzwK","B2zMC2v0qw5NBgu","BKLYs2O","i0zerJvdoq"];return C0=function(){return u},C0()}function Od(){const u=tn,i={QvGhl:u(287),dKnei:u(294),uVbIn:"col_pink",caHZG:"#F08CB6",XlFSf:"#E0457B",IWLKy:"col_lightyellow",FFScg:u(332),JcOUO:"col_darkgreen",GqfOH:u(248),hoJdZ:u(244),BqzSR:"col_blue",qIiCg:"#2C3E6B",NWeba:u(243),ekjst:u(253),OZnib:"#C8A2D4",bsTWh:u(237),RaVEI:"#8B5E3C",EoIVx:u(281),zryqw:u(284),GKiHc:u(299),HwRFa:u(265)};return[{id:"col_white",name:"",hex:"#F5F5F5"},{id:i.QvGhl,name:"",hex:i[u(352)]},{id:i[u(263)],name:"",hex:i.caHZG},{id:u(345),name:"",hex:i[u(346)]},{id:u(306),name:"",hex:u(286)},{id:"col_yellow",name:"",hex:"#F2D04B"},{id:i[u(300)],name:"",hex:u(234)},{id:"col_green",name:"",hex:i.FFScg},{id:i[u(302)],name:"",hex:"#1A7A3A"},{id:i.GqfOH,name:"",hex:i[u(336)]},{id:i[u(288)],name:"",hex:u(270)},{id:"col_navy",name:"",hex:i[u(331)]},{id:"col_purple",name:"",hex:i[u(308)]},{id:i.ekjst,name:"",hex:i.OZnib},{id:u(276),name:"",hex:"#D4A843"},{id:u(310),name:"",hex:u(272)},{id:"col_cream",name:"",hex:i[u(340)]},{id:u(320),name:"",hex:i.RaVEI},{id:i[u(250)],name:"",hex:i.zryqw},{id:i.GKiHc,name:"",hex:i.HwRFa}]}function Bh({title:u,fabricSquareSize:i,baseDiameter:a}={}){const r=tn,o={uPaLh:function(p){return p()},JPfxh:r(289),NUyRp:function(p,h){return p??h}},f=o[r(273)](p0),m=o[r(273)](Od);return ca({id:Rt(o.JPfxh),title:u??r(309),unit:"mm",fabricSquareSize:o.NUyRp(i,20),baseDiameter:o.NUyRp(a,30),notes:"",createdAt:f,updatedAt:f,palette:m,flowers:[]})}function tn(u,i){u=u-232;const a=C0();let r=a[u];if(tn.bzolSS===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};tn.IFADZd=o,tn.adlzFT={},tn.bzolSS=!0}const f=a[0],m=u+f,p=tn.adlzFT[m];if(p)r=p;else{const h=function(d){this.FhmYDC=d,this.PCeYah=[1,0,0],this.KUpUey=function(){return"newState"},this.xduEhr="\\w+ *\\(\\) *{\\w+ *",this.diyZCQ=`['|"].+['|"];? *}`};h.prototype.kDOOSu=function(){const d=new RegExp(this.xduEhr+this.diyZCQ),g=d.test(this.KUpUey.toString())?--this.PCeYah[1]:--this.PCeYah[0];return this.zfxJJT(g)},h.prototype.zfxJJT=function(d){return~d?this.nksAuR(this.FhmYDC):d},h.prototype.nksAuR=function(d){for(let g=0,v=this.PCeYah.length;g<v;g++)this.PCeYah.push(Math.round(Math.random())),v=this.PCeYah.length;return d(this.PCeYah[0])},new h(tn).kDOOSu(),r=tn.IFADZd(r),tn.adlzFT[m]=r}return r}function Eh(u,i){const a=tn,r={dxUEs:function(p,h){return p(h)},Iofzk:function(p,h){return p(h)},lwtog:a(316),kANiM:function(p,h){return p+h}},o=r[a(318)](Rl,u);o.id=r.Iofzk(Rt,r.lwtog),o[a(267)]=u[a(267)]+a(290);const f=i?.x??12,m=i?.y??12;return o.position={x:(u[a(251)]?.x??0)+f,y:r.kANiM(u.position?.y??0,m)},o.layers=(o[a(249)]||[]).map(p=>({...p,id:Rt(a(274)),petalOverrides:p.petalOverrides?p.petalOverrides.map(h=>({...h})):void 0})),o}(function(u,i){const a=mn,r=u();for(;;)try{if(parseInt(a(315))/1+-parseInt(a(249))/2+-parseInt(a(261))/3+parseInt(a(304))/4*(-parseInt(a(313))/5)+-parseInt(a(265))/6*(-parseInt(a(257))/7)+-parseInt(a(271))/8+-parseInt(a(263))/9*(-parseInt(a(256))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(j0,749018);const qh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=mn;if(a){const f=a[o(254)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),sx=qh(void 0,function(){const u=mn,i={seUgF:u(233)};return sx[u(311)]()[u(236)](i[u(298)]).toString().constructor(sx).search(i[u(298)])});sx();function mn(u,i){u=u-214;const a=j0();let r=a[u];if(mn.pxJCiA===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};mn.JyHavF=o,mn.xgYhUQ={},mn.pxJCiA=!0}const f=a[0],m=u+f,p=mn.xgYhUQ[m];if(p)r=p;else{const h=function(d){this.NsdnCh=d,this.ZrnQzV=[1,0,0],this.ZwWnDY=function(){return"newState"},this.XlNpqX="\\w+ *\\(\\) *{\\w+ *",this.Uysopp=`['|"].+['|"];? *}`};h.prototype.uEYjpY=function(){const d=new RegExp(this.XlNpqX+this.Uysopp),g=d.test(this.ZwWnDY.toString())?--this.ZrnQzV[1]:--this.ZrnQzV[0];return this.fdAwNi(g)},h.prototype.fdAwNi=function(d){return~d?this.vUoAvB(this.NsdnCh):d},h.prototype.vUoAvB=function(d){for(let g=0,v=this.ZrnQzV.length;g<v;g++)this.ZrnQzV.push(Math.round(Math.random())),v=this.ZrnQzV.length;return d(this.ZrnQzV[0])},new h(mn).uEYjpY(),r=mn.JyHavF(r),mn.xgYhUQ[m]=r}return r}function j0(){const u=["DMfYAwfUDa","yMfZzurPyw1LDgvY","q2z6wfi","zg91yMXLugv0ywW","vvbhEwm","BgvUz3rO","DK1su0u","C2vvz0y","zhzTwwO","D2LKDgHty2fSzq","BgvHDMvZ","B2jQzwn0","zMXVD2vYCW","ndi0CuP6uLrs","CM91BMq","BgLUA2vKrMXVD2vYr3jVDxbjza","ufjmrxK","BKTlrgO","tLryr3C","z3jVDxbZ","Dg9tDhjPBMC","y1DUshK","mJi4otv5qvjdwLO","44or44o844oR","mtmXmdq0muXMBMHlsq","AxngAw5PDgu","Cg9ZAxrPB24","vMXhDeS","C3rLBMnPBhm","v2rPyxC","rurWB0K","DhLWzq","AxnbCNjHEq","6jgj44kW44oR44o844ox","rKzXDLe","Aw5UzxjqzxrHBfr5Cgu","BwTvBMC","C2nHBgu","44or44o844oR77Yl5BQN6yEr","EejOy1a","Aw5JBhvKzxm","r0XkquK","y2vUDgvY","BMfTzq","y29SB3i","kcGOlISPkYKRksSK","tgvHzG","44oA44od44ox","C2vHCMnO","yM9VBgvHBG","Aw5UzxjdB2XVCKLK","Ce1fq0q","y29Sx3DOAxrL","y29SB3iY","C29Tzq","BgvHzKDYB3vWCW","wML1BgW","BM90zxm","Cgv0ywXdB3vUDa","B2zMC2v0qw5NBgu","CM90yxrPB24","mJyZoti4v1rnq1Hp","DMvYC2LVBG","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","v3fJwhu","y29SB3jjza","yxbWBhK","vfr1yLC","mZeZmePrwvjqDq","n1HPAuPorW","rvDUzwC","r3Dkvem","BgvHzKLKCW","nZi0nJGWDLnlre15","BwfW","mJyXmJDUtKfsEw8","Cgv0ywXuExbL","mJqWoduZohLXExrrCa","BgvHzG","CgvWq291BNq","DxbKyxrLzef0","wxjesve","Aw5UzxjtAxPLuMvKDwn0Aw9U","odeWmdy5nMXkBMTeua","CgfSzxr0zq","Dw5PDa","zMLSDgvY","zMfICMLJu3f1yxjLu2L6zq","Bg9JA2vK","D3fUEhC","CMfKAxvZ","zevXtvC","zMXVD2vYswrZ","wujjDwq","AgfZ","tvnZzgW","Bgf5zxjZ","C3rYAw5N","sKLbB2q","y3jLyxrLzef0","x2rVDwjSzvbLDgfSq2fJAgu","ve9Qt2u","C2L6zq"];return j0=function(){return u},j0()}function nx(u){const i=mn,a={CfzXR:function(r,o){return r===o},cwudi:"",Wdiaw:function(r,o){return r===o},VlGtK:""};return u==="maru"?"":a[i(293)](u,"ken")?a.cwudi:a[i(293)](u,"")||a[i(217)](u,"")?u:a[i(215)]}function ca(u){const i=mn,a={vMRSE:function(f,m){return f!=m},mkUng:function(f,m){return f!==m},dvmYj:function(f,m){return f(m)},mZsRn:function(f,m){return f||m},VpccZ:"flw",FFqvQ:function(f,m){return f!==m},YBIud:"string",NTXGw:"lay",rgBkx:function(f,m){return f===m},cWnHy:function(f,m){return f===m},WqcXu:i(286),xBhcP:function(f,m){return f!=m},Ziull:function(f,m,p,h){return f(m,p,h)},zlWxJ:function(f,m){return f!=m},TTubW:"nAyOi",QUhvo:function(f,m,p,h){return f(m,p,h)},vVYPs:function(f,m){return f<=m},YOzON:i(226),dEqMW:function(f,m,p,h){return f(m,p,h)},ASQFC:function(f,m){return f<=m},MSsdl:function(f){return f()},ANwgR:function(f){return f()},paKKF:i(251),UPGyc:"",DrGWA:function(f,m){return f(m)},PRLEy:function(f,m){return f!==m},wqnxw:"col_green",nKKDj:i(237),YrDIQ:i(258),TOjOe:function(f,m){return f(m)},EDpoI:function(f,m){return f!==m},pMECD:"gSYvc",UueTm:"child",GLJAI:"right"},r=a.dvmYj(Rl,a.mZsRn(u,{}));Array.isArray(r[i(303)])||(r.flowers=[]);for(const f of r.flowers){f.id||(f.id=Rt(a.VpccZ)),(a.FFqvQ(typeof f.name,a[i(281)])||!f.name)&&(f.name="Flower"),(!f.position||!Number.isFinite(f[i(214)].x)||!Number[i(316)](f.position.y))&&(f.position={x:260,y:260}),Array.isArray(f[i(284)])||(f.layers=[]);for(const m of f[i(284)])if(i(259)==="ZHeuI")(_0x36e1b5.groups??[]).some(h=>h.id===_0x20721b[i(306)])||delete _0x4ff818[i(306)];else{if(m.id||(m.id=a[i(299)](Rt,a[i(309)])),(typeof m[i(253)]!="string"||!m.colorId)&&(m[i(253)]=r[i(272)]?.[0]?.id??i(240)),m[i(264)]=a.dvmYj(nx,m[i(264)]),m[i(246)]=Se(a.dvmYj(Number,m[i(246)]||0),5,24),Number[i(316)](m.scale)||(m.scale=1),Number.isFinite(m[i(300)])||(m[i(300)]=1),Number[i(316)](m[i(278)])||(m.radius=28),Number[i(316)](m[i(247)])||(m[i(247)]=0),delete m[i(288)],m[i(294)])if(typeof m[i(294)]!="object"||a.rgBkx(m[i(294)],null))a[i(312)](i(286),a[i(252)])?delete m.doublePetal:(_0x3dfbf3&&_0x47fc7d.petalType!=null&&(_0x546c89[i(264)]=_0x15b700(_0x5a52e7.petalType)),_0x3a40d1&&delete _0x364826[i(223)],_0x463244&&_0xd0abcc[i(238)]!=null&&typeof _0x78b99e[i(238)]!="string"&&delete _0x925d68.innerColorId,_0xf78d52&&a.vMRSE(_0x901856.innerSizeReduction,null)&&(_0x34e5b0.isFinite(_0x4053e5.innerSizeReduction)?_0x2a428c.innerSizeReduction=_0x6d2d6c(_0x1428c4.innerSizeReduction,1,30):delete _0x5d8d71.innerSizeReduction));else{if(a[i(227)](m[i(294)].innerScale,null)&&m.doublePetal[i(270)]==null){const p=f[i(275)]??r[i(275)]??20;m.doublePetal[i(270)]=Math[i(305)](p*(1-m[i(294)].innerScale))}delete m[i(294)].innerScale,Number[i(316)](m.doublePetal[i(270)])||(m[i(294)].innerSizeReduction=2),m.doublePetal[i(270)]=a.Ziull(Se,m[i(294)][i(270)],1,30),delete m[i(294)].innerPetalType,a.zlWxJ(m.doublePetal[i(238)],null)&&a[i(222)](typeof m.doublePetal[i(238)],a[i(281)])&&delete m[i(294)][i(238)]}if(Array[i(220)](m.petalOverrides))for(const p of m.petalOverrides)a.TTubW===a[i(255)]?(p&&p[i(264)]!=null&&(p[i(264)]=nx(p.petalType)),p&&delete p.innerPetalType,p&&a[i(227)](p[i(238)],null)&&typeof p[i(238)]!==a[i(281)]&&delete p.innerColorId,p&&p.innerSizeReduction!=null&&(Number.isFinite(p[i(270)])?p.innerSizeReduction=a.QUhvo(Se,p.innerSizeReduction,1,30):delete p.innerSizeReduction)):delete _0x25a769[i(294)]}(!Number[i(316)](f.flowerDiameter)||a.vVYPs(f.flowerDiameter,0))&&(f.flowerDiameter=60),f[i(230)]&&(f[i(230)][i(219)]===a.YOzON&&(f[i(230)].type=""),["","",i(235)][i(228)](f.center[i(219)])||(f.center.type=i(314)),Number.isFinite(f[i(230)][i(290)])||(f[i(230)][i(290)]=6),f[i(230)][i(290)]=a[i(244)](Se,f[i(230)][i(290)],1,30),(typeof f[i(230)][i(232)]!==i(285)||!f.center[i(232)])&&(f.center[i(232)]=r.palette?.[0]?.id??i(240)),f.center.type===""&&(Number.isFinite(f.center.pepCount)||(f.center[i(267)]=12),f[i(230)][i(267)]=a[i(279)](Se,f[i(230)][i(267)],4,30)),f.center.type!==""&&delete f.center[i(241)]),f.placementMode!==""&&f.placementMode!==""&&(f.placementMode=""),a.mkUng(f.baseDiameter,void 0)&&(!Number.isFinite(f[i(292)])||a.ASQFC(f.baseDiameter,0))&&delete f.baseDiameter}Array.isArray(r[i(272)])||(r.palette=[]);const o=new Set(r[i(272)][i(262)](f=>f.id));for(const f of a[i(283)](Od))o[i(282)](f.id)||r[i(272)].push(f);r.createdAt||(r[i(287)]=a.ANwgR(p0)),r.updatedAt||(r[i(268)]=r.createdAt),r.id||(r.id=a.dvmYj(Rt,"proj")),r.title||(r.title=a.paKKF),r[i(273)]="mm",Number[i(316)](r[i(275)])||(r.fabricSquareSize=20),(!Number[i(316)](r[i(292)])||r.baseDiameter<=0)&&(r.baseDiameter=30),typeof r[i(245)]!==i(285)&&(r.notes=""),Array[i(220)](r.groups)||(r.groups=[]);{const f=new Set(r[i(303)].map(m=>m.id));for(const m of r.groups)Array[i(220)](m[i(280)])||(m[i(280)]=[]),m.flowerIds=m.flowerIds.filter(p=>f[i(282)](p)),m.id||(m.id=Rt("grp")),(a.mkUng(typeof m.name,a.YBIud)||!m[i(231)])&&(m[i(231)]=a[i(295)]);r[i(310)]=r[i(310)].filter(m=>m.flowerIds&&m.flowerIds.length>0)}Array.isArray(r.leaves)||(r[i(301)]=[]);for(const f of r.leaves)f.id||(f.id=a[i(299)](Rt,i(266))),(typeof f[i(231)]!==i(285)||!f[i(231)])&&(f[i(231)]=i(234)),(!f.position||!Number.isFinite(f[i(214)].x)||!Number[i(316)](f[i(214)].y))&&(f[i(214)]={x:675,y:675}),Number.isFinite(f.rotation)||(f[i(248)]=0),f[i(264)]=a.DrGWA(nx,f.petalType),(a[i(307)](typeof f[i(253)],"string")||!f[i(253)])&&(f.colorId=r.palette?.[0]?.id??a[i(277)]),Number[i(316)](f[i(225)])||(f.scale=1),Number.isFinite(f[i(300)])||(f[i(300)]=1),a.mkUng(typeof f.visible,a[i(308)])&&(f.visible=!0),typeof f[i(276)]!==a[i(308)]&&(f[i(276)]=!1),delete f._doublePetalCache,f.doublePetal&&(a[i(307)](typeof f[i(294)],i(302))||f.doublePetal===null?delete f.doublePetal:(Number[i(316)](f[i(294)].innerSizeReduction)||(f[i(294)].innerSizeReduction=2),f.doublePetal.innerSizeReduction=Se(f[i(294)][i(270)],1,30),a[i(297)](f[i(294)][i(238)],null)&&a[i(307)](typeof f[i(294)][i(238)],i(285))&&(a[i(269)]!=="EWneg"?(_0x1c4ffe.id||(_0x493b32.id=_0x1bb65a("lg")),(a[i(224)](typeof _0x404a9a[i(231)],i(285))||!_0x1246d7[i(231)])&&(_0x2d94e7.name=i(221)),_0x20d8bd[i(220)](_0x5f0304[i(260)])||(_0x5f2864[i(260)]=[]),_0x50fdc4[i(260)]=_0x2dd8a3.leafIds[i(274)](m=>_0x223dc0[i(282)](m)),_0x5f2c2b.isFinite(_0x5960ab.rotation)||(_0x41276b.rotation=0),_0x111bf6.linkedFlowerGroupId!=null&&((_0x4cf295[i(310)]??[]).some(p=>p.id===_0x464672.linkedFlowerGroupId)||delete _0x5c33e7[i(306)])):delete f.doublePetal.innerColorId)));Array[i(220)](r.leafGroups)||(r.leafGroups=[]);{const f=new Set(r.leaves[i(262)](m=>m.id));for(const m of r[i(243)])m.id||(m.id=a[i(289)](Rt,"lg")),(a[i(222)](typeof m[i(231)],a[i(281)])||!m[i(231)])&&(m[i(231)]=""),Array[i(220)](m[i(260)])||(m[i(260)]=[]),m[i(260)]=m.leafIds.filter(p=>f[i(282)](p)),Number[i(316)](m[i(248)])||(m.rotation=0),m.linkedFlowerGroupId!=null&&(a[i(218)](a.pMECD,a[i(239)])?_0x311853.isFinite(_0x29ec56[i(270)])?_0x25a0d3[i(270)]=_0x1b9365(_0x448273.innerSizeReduction,1,30):delete _0x1bc6f3.innerSizeReduction:(r[i(310)]??[])[i(242)](h=>h.id===m[i(306)])||delete m[i(306)]);r[i(243)]=r[i(243)].filter(m=>m[i(260)]&&m.leafIds[i(296)]>0)}if(Array[i(220)](r[i(216)])){const f=["adult",a.UueTm],m=[a[i(229)],"left","back"];r.stencils=r[i(216)].filter(p=>p&&typeof p.id=="string"&&f.includes(p[i(291)])&&m[i(228)](p.pose)&&p[i(214)]&&Number.isFinite(p[i(214)].x)&&Number.isFinite(p.position.y))}return Number.isFinite(r[i(250)])||(r[i(250)]=1),r}const Hd=Tn;function Tn(u,i){u=u-409;const a=M0();let r=a[u];if(Tn.cjYyUV===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Tn.vVjVto=o,Tn.oRAobS={},Tn.cjYyUV=!0}const f=a[0],m=u+f,p=Tn.oRAobS[m];if(p)r=p;else{const h=function(d){this.NIbKgB=d,this.VFNZiQ=[1,0,0],this.ElSmoN=function(){return"newState"},this.vpaVpT="\\w+ *\\(\\) *{\\w+ *",this.SWCGjT=`['|"].+['|"];? *}`};h.prototype.ZUoGoe=function(){const d=new RegExp(this.vpaVpT+this.SWCGjT),g=d.test(this.ElSmoN.toString())?--this.VFNZiQ[1]:--this.VFNZiQ[0];return this.BDdTbK(g)},h.prototype.BDdTbK=function(d){return~d?this.bEiUfk(this.NIbKgB):d},h.prototype.bEiUfk=function(d){for(let g=0,v=this.VFNZiQ.length;g<v;g++)this.VFNZiQ.push(Math.round(Math.random())),v=this.VFNZiQ.length;return d(this.VFNZiQ[0])},new h(Tn).ZUoGoe(),r=Tn.vVjVto(r),Tn.oRAobS[m]=r}return r}(function(u,i){const a=Tn,r=u();for(;;)try{if(parseInt(a(418))/1+parseInt(a(413))/2+-parseInt(a(423))/3+parseInt(a(420))/4*(parseInt(a(411))/5)+parseInt(a(421))/6*(-parseInt(a(419))/7)+-parseInt(a(424))/8*(-parseInt(a(412))/9)+-parseInt(a(414))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(M0,231600);const Gh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Tn;if(a){const f=a[o(422)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),ox=Gh(void 0,function(){const u=Tn,i={dNXgU:u(417)};return ox.toString().search(u(417))[u(416)]().constructor(ox)[u(415)](i.dNXgU)});ox();const Yd=Hd(409),hl=["",Hd(410)],kh=["","",""];function M0(){const u=["mtuWEwfOCeHM","yxbWBhK","mJeXndCZtgzir2TQ","oefoD0jmuq","Dhn1BwfTAv9WCM9Qzwn0C192mq","5yMJ44gK44g+44g/","mty0mdKWrLPiz1Px","mtu1otyZn29jwgXWwq","mZe1nZi2q3LTDujP","ndKYmda4mhbvq1fewG","C2vHCMnO","Dg9tDhjPBMC","kcGOlISPkYKRksSK","mJqXmtCWu3rhswjM","mZG5odnbvNvMu1G","ndrcu21XDgS"];return M0=function(){return u},M0()}const Kd=["",""];function Zt(u,i){u=u-314;const a=z0();let r=a[u];if(Zt.tcfieo===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Zt.IEveJG=o,Zt.CMXkjV={},Zt.tcfieo=!0}const f=a[0],m=u+f,p=Zt.CMXkjV[m];if(p)r=p;else{const h=function(d){this.NSflwB=d,this.RFXbkg=[1,0,0],this.rlNPpd=function(){return"newState"},this.WAiLzq="\\w+ *\\(\\) *{\\w+ *",this.sSjfQa=`['|"].+['|"];? *}`};h.prototype.wCMmQN=function(){const d=new RegExp(this.WAiLzq+this.sSjfQa),g=d.test(this.rlNPpd.toString())?--this.RFXbkg[1]:--this.RFXbkg[0];return this.Mwranx(g)},h.prototype.Mwranx=function(d){return~d?this.dvtKOp(this.NSflwB):d},h.prototype.dvtKOp=function(d){for(let g=0,v=this.RFXbkg.length;g<v;g++)this.RFXbkg.push(Math.round(Math.random())),v=this.RFXbkg.length;return d(this.RFXbkg[0])},new h(Zt).wCMmQN(),r=Zt.IEveJG(r),Zt.CMXkjV[m]=r}return r}(function(u,i){const a=Zt,r=u();for(;;)try{if(-parseInt(a(339))/1+-parseInt(a(318))/2*(-parseInt(a(334))/3)+parseInt(a(329))/4*(parseInt(a(335))/5)+parseInt(a(340))/6+-parseInt(a(343))/7*(parseInt(a(331))/8)+parseInt(a(317))/9+-parseInt(a(314))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(z0,198852);const Rh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Zt;if(a){const f=a[o(323)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),fx=Rh(void 0,function(){const u=Zt,i={LMNtK:u(327)};return fx[u(338)]()[u(342)]("(((.+)+)+)+$")[u(338)]()[u(322)](fx).search(i[u(333)])});fx();function Fi(){const u=Zt,i={eZvkV:u(332),ioHdK:u(319)};try{const a=localStorage.getItem(Yd);if(!a)return[];const r=JSON.parse(a);return Array.isArray(r)?r[u(328)](o=>{const f=u,m={McdvA:function(p,h){return p(h)}};if(i[f(337)]===i.eZvkV)try{const p=o?.[f(324)]?ca(o[f(324)]):null;return p?{id:o.id??p.id,title:o.title??p.title,updatedAt:o[f(341)]??p[f(341)],project:p}:null}catch{return null}else{const p=_0x3a96e1[f(315)](_0x4d59fb);if(!p)return[];const h=_0x1a3aa7.parse(p);return _0x48eae9.isArray(h)?h.map(d=>{const g=f;try{const v=d?.[g(324)]?m.McdvA(_0x47cfb2,d[g(324)]):null;return v?{id:d.id??v.id,title:d[g(321)]??v[g(321)],updatedAt:d[g(341)]??v[g(341)],project:v}:null}catch{return null}}).filter(d=>d!=null):[]}}).filter(o=>o!=null):[]}catch{return i.ioHdK!==u(320)?[]:null}}function Id(u){const i=Zt;try{return localStorage[i(325)](Yd,JSON.stringify(u)),!0}catch{return!1}}function Oh(u){const i=Zt,a={DfWYx:function(p,h){return p(h)}},r=Fi(),o=r.findIndex(p=>p.id===u.id),f={id:u.id,title:u[i(321)],updatedAt:u.updatedAt,project:u},m=o>=0?[...r.slice(0,o),f,...r[i(330)](o+1)]:[f,...r];return m[i(316)]((p,h)=>p[i(341)]<h[i(341)]?1:-1),a.DfWYx(Id,m)}function z0(){const u=["z2v0sxrLBq","C29YDa","mJeXmZy0mvHzzu9AEa","mMvHBK1LCq","v3vXsfu","u25dzfq","DgL0Bgu","y29UC3rYDwn0B3i","yxbWBhK","ChjVAMvJDa","C2v0sxrLBq","zMLSDgvY","kcGOlISPkYKRksSK","BwfW","nty0q3zsrxLw","C2XPy2u","otG1otq0rNbUvuTw","CeXvt2C","te1oDeS","odi5nJGWBwXwweLs","nJC1CKzKsKDy","AMTVzKO","zvP2A1y","Dg9tDhjPBMC","mJaZmtiYvgr6zKDT","mtC0mJuXnfbLzhLQEa","DxbKyxrLzef0","C2vHCMnO","n0H0zNzzDq","mJK1nJq2mg5VBgTwsW"];return z0=function(){return u},z0()}function Hh(u){const i=Zt,a={jkofJ:function(o,f){return o(f)}},r=Fi()[i(326)](o=>o.id!==u);return a[i(336)](Id,r)}(function(u,i){const a=Bn,r=u();for(;;)try{if(parseInt(a(203))/1+parseInt(a(224))/2+-parseInt(a(217))/3+parseInt(a(194))/4*(parseInt(a(211))/5)+parseInt(a(216))/6+-parseInt(a(173))/7+-parseInt(a(221))/8===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(D0,716538);const Yh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Bn;if(a){const f=a[o(180)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),dx=Yh(void 0,function(){const u=Bn,i={zhpiq:"(((.+)+)+)+$"};return dx.toString().search(i.zhpiq)[u(184)]()[u(195)](dx).search(i[u(178)])});function Bn(u,i){u=u-169;const a=D0();let r=a[u];if(Bn.xiUdyX===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Bn.dyCLHp=o,Bn.IPxAYY={},Bn.xiUdyX=!0}const f=a[0],m=u+f,p=Bn.IPxAYY[m];if(p)r=p;else{const h=function(d){this.cTIaMQ=d,this.drhGdX=[1,0,0],this.UculQN=function(){return"newState"},this.pvKWWH="\\w+ *\\(\\) *{\\w+ *",this.ifQgkh=`['|"].+['|"];? *}`};h.prototype.edbNqn=function(){const d=new RegExp(this.pvKWWH+this.ifQgkh),g=d.test(this.UculQN.toString())?--this.drhGdX[1]:--this.drhGdX[0];return this.HZafWC(g)},h.prototype.HZafWC=function(d){return~d?this.QdVjCU(this.cTIaMQ):d},h.prototype.QdVjCU=function(d){for(let g=0,v=this.drhGdX.length;g<v;g++)this.drhGdX.push(Math.round(Math.random())),v=this.drhGdX.length;return d(this.drhGdX[0])},new h(Bn).edbNqn(),r=Bn.dyCLHp(r),Bn.IPxAYY[m]=r}return r}function D0(){const u=["A2nWs08","wwfZD2C","C29YDa","C1bjEwW","nty3mZi4mNDbrwLwvG","nJmXmJK2DuzcENb1","zMXVD2vYCW","Be95wMu","iZK5otK5oq","mty4mJKWmJrKyMLPrvG","C2nHBgu","zg91yMXLugv0ywW","mtm4mZeYnNDTCNbLyW","Bw9Kzq","Bwf4","Aw5KzxG","swjrAKG","qxrYyKy","zMfICMLJu2L6zu1T","wxLKDMK","vgXysvG","tKPPtxi","C2v0","rKH6vLK","mtaZnZi2y1zbAgPl","BwfW","vNnyuNu","CM91BMq","DMfSDwvZ","EMHWAxe","B2TwBwu","yxbWBhK","C0DcAfu","zw50CMLLCW","z2v0","Dg9tDhjPBMC","CfDsDfK","Aw5UzxjdB2XVCKLK","zNjVBq","AKjRAuO","q05kAwS","yMfZzurPyw1LDgvYtw0","zMfICMLJu3f1yxjLu2L6zq","y291BNq","DgPmrwC","mJq5ndaXmK13Ce5iCa","y29UC3rYDwn0B3i","Bgf5zxjZ","Aw5UzxjtAxPLuMvKDwn0Aw9U","AeTtyvC","CMvKDwnL","ChvZAa","CxnsvMK","y29SB3jjza","nZG0odaZuhrRzfD3","yMfZzurPyw1LDgvY","ENv5z0O","Dg90ywXdB3vUDa","CgfSzxr0zq","5y2k44gp44gz","BMfTzq","sKvVD0C","nuLIrKXOEq"];return D0=function(){return u},D0()}dx();function Kh(u){const i=Bn,a={AtrbF:function(g,v){return g!==v},IPkwr:i(208),qHhEe:function(g,v){return g+v},IbQjH:function(g,v){return g*v},wKAuU:function(g,v){return g/v},JljeW:function(g,v){return g/v},kywWB:i(220),VsXRu:function(g,v){return g*v},FHzVY:"hKSaW",hjbhJ:function(g,v){return g!==v},tjLEg:function(g,v){return g===v},kcpKO:function(g,v){return g-v},zuygJ:i(181),CNJik:function(g,v){return g*v},RmoSw:"wfkVV",qXjiK:i(185),FBcWY:"Yydvi",TlXIX:i(170),qsRVi:function(g,v){return g===v},nnfsk:function(g,v){return g(v)},sPIyl:function(g,v){return g-v},urwDq:i(179)},r=new Map((u[i(207)]||[])[i(174)](g=>[g.id,g])),o=new Map,f=(g,v)=>g?.petalOverrides?.find(D=>D[i(227)]===v)??null,m=new Map;for(const g of u[i(218)]||[])if(a.hjbhJ(a[i(205)],a[i(205)]))_0x12f77d[i(192)]+=1;else{const v=g.fabricSquareSize??u[i(191)];for(const C of g[i(196)]||[]){if(!C.visible)continue;const B=Math.round(a[i(189)](v,C[i(222)]??1));for(let R=0;R<C.petalCount;R++)if(a.RmoSw!=="wfkVV")_0x40760c.count+=1;else{const k=f(C,R),G=k?.[i(202)]??C[i(202)],H=G+"|"+B,I=o.get(H);if(I)i(185)!==a.qXjiK?_0x5f4bf7[i(171)](_0x518edb,{mode:_0x122fe6,baseDiameterMm:_0x36ad5f,count:1}):I[i(192)]+=1;else{if(i(231)!==a.FBcWY)return a[i(229)](_0x4c8a1a[i(225)],_0x22783b[i(225)])?_0x4ed051.mode===a.IPkwr?-1:1:_0x4dca4b[i(190)]-_0x48a2ed[i(190)];o.set(H,{colorId:G,fabricSizeMm:B,count:1})}if(C.doublePetal)if(i(219)===a[i(169)]){const E=_0x45849b[i(183)](_0x17e0f8);E?E.entries[i(200)]({fabricSizeMm:_0xc1ae60,count:_0x3789c8}):_0x3786a3.set(_0x5d18b2,{colorId:_0x1b0e1b,entries:[{fabricSizeMm:_0x4155c5,count:_0x298947}]})}else{const E=C[i(223)],U=k?.innerColorId??E.innerColorId??G,P=k?.[i(197)]??E[i(197)]??2,ne=Math[i(226)](3,Math.round(B-P)),J=U+"|"+ne,_=o[i(183)](J);if(_)_[i(192)]+=1;else if(a[i(201)]("efduH","geVaa")){const w=_0x20b0b5.fabricSizeMm/10;return a.qHhEe(_0x473a83,a[i(228)](_0x5a1920.count,w)*w)}else o.set(J,{colorId:U,fabricSizeMm:ne,count:1})}}}const D=g.placementMode??a.IPkwr,b=D===""?a.nnfsk(Qi,g.flowerDiameter):g.baseDiameter??u[i(204)],z=D+"|"+b,S=m[i(183)](z);S?S.count+=1:m.set(z,{mode:D,baseDiameterMm:b,count:1})}for(const g of u.leaves??[]){if(!g.visible)continue;const v=g[i(191)]??u[i(191)],D=Math[i(176)](v*(g.scale??1)),b=g.colorId,z=b+"|"+D,S=o.get(z);if(S?S[i(192)]+=1:o[i(171)](z,{colorId:b,fabricSizeMm:D,count:1}),g.doublePetal){const C=g[i(223)],B=C[i(186)]??b,R=Math.max(3,Math.round(a[i(215)](D,C[i(197)]??2))),k=B+"|"+R,G=o.get(k);G?a[i(229)](i(188),a.urwDq)?G[i(192)]+=1:_0x1e7a35[i(192)]+=1:o[i(171)](k,{colorId:B,fabricSizeMm:R,count:1})}}const p=new Map;for(const{colorId:g,fabricSizeMm:v,count:D}of o[i(177)]()){const b=p.get(g);b?i(213)!=="BoRYw"?b[i(182)].push({fabricSizeMm:v,count:D}):_0xdd6ce7[i(171)](_0x82f051,{colorId:_0x197a58,fabricSizeMm:_0x33cf06,count:1}):p[i(171)](g,{colorId:g,entries:[{fabricSizeMm:v,count:D}]})}const h=Array.from(p.values())[i(174)](({colorId:g,entries:v})=>{const D=i,b=r.get(g),z=v[D(214)]((R,k)=>k[D(230)]-R.fabricSizeMm),S=z.reduce((R,k)=>R+k[D(192)],0),C=Math.round(z[D(199)]((R,k)=>{const G=D,H=a.wKAuU(k[G(230)],10);return R+a[G(228)](k.count*H,H)},0)*100)/100,B=a.JljeW(Math[D(176)](Math.sqrt(C)*10),10);return{colorId:g,colorName:b?.name??g,hex:b?.hex??a.kywWB,sizes:z,totalCount:S,totalAreaCm2:C,squareSideCm:B}}).sort((g,v)=>v.totalCount-g[i(206)]),d=Array[i(187)](m.values()).sort((g,v)=>{const D=i;if(a[D(172)]!==D(198)){const b=_0x154b62.get(_0x180cba),z=_0x4c3c75[D(214)]((R,k)=>k[D(230)]-R.fabricSizeMm),S=z.reduce((R,k)=>R+k.count,0),C=_0x548e51.round(a[D(175)](z[D(199)]((R,k)=>{const G=D,H=k[G(230)]/10;return R+CogsRt[G(210)](CogsRt.JEowG(k[G(192)],H),H)},0),100))/100,B=_0x5cb9c6.round(_0x1f2ac9.sqrt(C)*10)/10;return{colorId:_0x3cf9fc,colorName:b?.[D(209)]??_0x31641e,hex:b?.hex??D(220),sizes:z,totalCount:S,totalAreaCm2:C,squareSideCm:B}}else return a.hjbhJ(g[D(225)],v.mode)?a[D(193)](g[D(225)],D(208))?-1:1:a[D(212)](v.baseDiameterMm,g[D(190)])});return{colors:h,bases:d}}function nn(u,i){u=u-175;const a=N0();let r=a[u];if(nn.LLghHk===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};nn.StUxAU=o,nn.vqpvuI={},nn.LLghHk=!0}const f=a[0],m=u+f,p=nn.vqpvuI[m];if(p)r=p;else{const h=function(d){this.xBgRmH=d,this.WUuRcK=[1,0,0],this.swUgtr=function(){return"newState"},this.TAJHkI="\\w+ *\\(\\) *{\\w+ *",this.PCHqLl=`['|"].+['|"];? *}`};h.prototype.ciXdGB=function(){const d=new RegExp(this.TAJHkI+this.PCHqLl),g=d.test(this.swUgtr.toString())?--this.WUuRcK[1]:--this.WUuRcK[0];return this.YsNKpi(g)},h.prototype.YsNKpi=function(d){return~d?this.ArmjMZ(this.xBgRmH):d},h.prototype.ArmjMZ=function(d){for(let g=0,v=this.WUuRcK.length;g<v;g++)this.WUuRcK.push(Math.round(Math.random())),v=this.WUuRcK.length;return d(this.WUuRcK[0])},new h(nn).ciXdGB(),r=nn.StUxAU(r),nn.vqpvuI[m]=r}return r}(function(u,i){const a=nn,r=u();for(;;)try{if(parseInt(a(216))/1*(-parseInt(a(185))/2)+parseInt(a(199))/3*(-parseInt(a(196))/4)+-parseInt(a(212))/5*(parseInt(a(238))/6)+parseInt(a(181))/7*(-parseInt(a(228))/8)+parseInt(a(193))/9+parseInt(a(241))/10*(-parseInt(a(192))/11)+parseInt(a(205))/12===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(N0,498764);const Ih=(function(){const u=nn,i={jcUgS:u(210),QXSiq:"image/png",KCkmB:u(201)};let a=!0;return function(r,o){const f=u;if(f(201)===i.KCkmB){const m=a?function(){if(o){const p=o.apply(r,arguments);return o=null,p}}:function(){};return a=!1,m}else{const m=_0x3014c5[f(217)](i.jcUgS);m.width=_0x4f9e9e*_0x431971,m[f(251)]=_0x5a636f*_0x26c223;const p=m[f(247)]("2d");if(!p){_0x5f06c0[f(249)](_0x4ec4c0);return}p[f(218)]="white",p.fillRect(0,0,m[f(227)],m[f(251)]),p[f(206)](_0x2637f8,0,0,m.width,m[f(251)]),m[f(176)](h=>{const d=f;h&&_0x52cb2f(h,_0x42e29f[d(175)](d(208))?_0x4108c8:_0xbb9304+d(208)),_0x5a3909.revokeObjectURL(_0x275873)},i[f(197)])}}})(),hx=Ih(void 0,function(){const u=nn,i={esjJZ:"(((.+)+)+)+$"};return hx[u(191)]().search(i[u(207)])[u(191)]()[u(214)](hx).search(u(248))});hx();function N0(){const u=["vvfKCfm","qLvqAhu","Dg9tDhjPBMC","nZaZnJDtEwjKAM0","odK1nZG4mgvfDNzbAW","Aw5Zzxj0qMvMB3jL","tgrbDfK","ohDKCffmqq","uvHtAxe","w2rHDgeTz3jPzf0","nteZmZG0CuXptwHv","CMvTB3zLq2HPBgq","s1jSB1m","D2HPDgu","C2v0qxr0CMLIDxrL","Avz2rgq","mty2nta1mdrXuunQsKO","zhjHD0LTywDL","zxnQsLO","lNbUzW","whrlv2K","y2fUDMfZ","vMj4uNO","mZvMDMHMq2W","EfvHwMK","y29UC3rYDwn0B3i","y2XVBMvoB2rL","mZKXotHNsvjJsxG","y3jLyxrLrwXLBwvUDa","zMLSBfn0EwXL","lNn2zW","C3jJ","C2vYAwfSAxPLvg9tDhjPBMC","BeHtEgC","C3r5Bgu","s3LOtuS","yM9KEq","w2rHDgeTBwfYCxvLzv0","D2LKDgG","mti4CNv1zw9r","sw5mEvu","CxvLCNLtzwXLy3rVCKfSBa","mcaWidiWmcaYmda","CKDxDMW","y3jLyxrLt2jQzwn0vvjm","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","y3jLyxrLrwXLBwvUDe5t","BwfW","mtGYoduWDhH1r2nP","BK5Rt0O","y2XPy2S","mtmXmfPzAM5pBG","zgf0ys10zxn0Awq","CMvTB3zLqxr0CMLIDxrL","zMLSBfjLy3q","w2rHDgeTDgvZDgLKxq","Ahv0t0u","z2v0q29UDgv4Da","kcGOlISPkYKRksSK","CMv2B2TLt2jQzwn0vvjm","B25SB2fK","AgvPz2H0","zw5KC1DPDgG","Dg9cBg9I","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","zM9YrwfJAa","BfzQrMy","C3bSAxq","mtK3ndq5AwvUA3zO","lNrZDw1HBwKTz3jVDxaTzgfZAa","z2v0qxr0CMLIDxrL","zMLYC3rdAgLSza","mKXwAvLSBq","mtaWjq","zNrlBhK","CMvTB3zL"];return N0=function(){return u},N0()}function Uh(u,i){const a=nn,r={ZqUgI:a(245),VbxRz:"viewBox",utuHS:function(b,z){return b??z},lVjFf:a(231),rGWvl:"height",KbGJn:"xmlns",NaHwJ:"width",LdAtY:a(186),VyYEI:a(202),ctwsG:".tsumami-sel-dash",UFaqi:"[data-marquee]",WOUIN:function(b,z){return b+z},XtKWi:"image/svg+xml;charset=utf-8",xUaZi:function(b,z,S){return b(z,S)}},o=u.cloneNode(!0);o.querySelectorAll(r.ZqUgI)[a(178)](b=>b.removeAttribute("data-testid")),o[a(243)]("style");const f=u.getAttribute(r[a(211)]);f&&o.setAttribute(r[a(211)],f);const m=r.utuHS(f,r[a(179)])[a(180)](/[\s,]+/).map(Number),p=m[2]??200,h=m[3]??200;o[a(203)]("width",String(p)),o[a(203)](r[a(232)],String(h)),o.setAttribute(r.KbGJn,a(235));const d=document[a(236)](a(235),"rect");d.setAttribute(r.NaHwJ,r[a(195)]),d.setAttribute(a(251),a(186)),d.setAttribute("fill",r.VyYEI),o[a(194)](d,o[a(184)]),o.querySelectorAll(a(198))[a(178)](b=>b.remove()),o.querySelectorAll(r.ctwsG)[a(178)](b=>b.remove()),o[a(230)](a(182)).forEach(b=>b[a(188)]()),o.querySelectorAll(r.UFaqi)[a(178)](b=>b[a(188)]());const g=new XMLSerializer,v=r.WOUIN(a(234),g[a(221)](o)),D=new Blob([v],{type:r[a(209)]});r[a(213)](Ud,D,i[a(175)](a(219))?i:i+".svg")}function Zh(u,i,a=2){const r=nn,o={InLyU:function(S,C,B){return S(C,B)},sfTSb:function(S,C){return S*C},cDdtq:"image/png",CtyfC:r(245),RKvEL:r(223),hutOE:r(198),nNkOJ:".tsumami-sel-dash",iVvDd:".tsumami-group-dash",kHHWG:r(226),lHSxg:"viewBox",NyatV:function(S,C){return S??C},BUPhu:"width",KyhMK:function(S,C){return S(C)},QtYyE:"xmlns",ftKly:"http://www.w3.org/2000/svg"},f=u[r(215)](!0);f.querySelectorAll(o.CtyfC).forEach(S=>S.removeAttribute(r(242))),f.removeAttribute(o.RKvEL),f.querySelectorAll(o[r(246)]).forEach(S=>S[r(188)]()),f[r(230)](o[r(239)]).forEach(S=>S.remove()),f[r(230)](o[r(204)]).forEach(S=>S.remove()),f.querySelectorAll(o.kHHWG)[r(178)](S=>S[r(188)]());const m=u[r(183)](o[r(222)]),p=(m??"0 0 200 200").split(/[\s,]+/)[r(237)](Number),h=p[2]??200,d=p[3]??200;f.setAttribute(o.lHSxg,o.NyatV(m,"0 0 200 200")),f.setAttribute(o[r(190)],String(h)),f.setAttribute("height",o[r(224)](String,d)),f.setAttribute(o.QtYyE,o[r(187)]);const g=new XMLSerializer,v=g.serializeToString(f),D=new Blob([v],{type:r(177)}),b=URL.createObjectURL(D),z=new Image;z[r(250)]=()=>{const S=r,C=document[S(217)](S(210));C[S(227)]=o.sfTSb(h,a),C[S(251)]=d*a;const B=C.getContext("2d");if(!B)if(S(189)===S(189)){URL[S(249)](b);return}else{_0x2410c2.revokeObjectURL(_0x1ac316);return}B[S(218)]="white",B[S(244)](0,0,C.width,C.height),B[S(206)](z,0,0,C.width,C[S(251)]),C[S(176)](R=>{const k=S;R&&o[k(229)](Ud,R,i.endsWith(k(208))?i:i+k(208)),URL[k(249)](b)},o.cDdtq)},z.onerror=()=>{URL.revokeObjectURL(b)},z[r(220)]=b}function Ud(u,i){const a=nn,r=URL[a(233)](u),o=document[a(217)]("a");o.href=r,o.download=i,document[a(225)].appendChild(o),o[a(240)](),document.body[a(200)](o),URL.revokeObjectURL(r)}function v0({active:u,disabled:i,onClick:a,children:r,...o}){return x.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...o,children:r})}const Xh="v0.1.0-dev";function Wh(u){const{view:i,onNavigate:a,project:r}=u;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Xh})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(v0,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(v0,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(v0,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),x.jsx(v0,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Jh(u){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(i=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:i.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function mx({children:u}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function Vh(u){const[i,a]=F.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(mx,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}(function(u,i){const a=bn,r=u();for(;;)try{if(parseInt(a(325))/1+parseInt(a(342))/2+parseInt(a(321))/3+-parseInt(a(311))/4+parseInt(a(298))/5*(-parseInt(a(313))/6)+parseInt(a(315))/7+parseInt(a(285))/8===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(A0,489814);const Qh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=bn;if(a){const f=a[o(333)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),bx=Qh(void 0,function(){const u=bn,i={FGzRN:"(((.+)+)+)+$"};return bx.toString().search("(((.+)+)+)+$")[u(300)]()[u(328)](bx).search(i[u(340)])});bx();function A0(){const u=["zMLUza","C3rHCNrbBMDSzq","AhLWB3q","DxjSkci","qw1YtNy","Bw9Kzq","ywjZ","EKnMueO","l3rZDw1HBwKV","t3ngDxq","mZe2mZa0oeP1qNrRBa","C3rHCNrxAwr0AfnJywXL","nZiWodiYu3jTAMfk","y3vYCMvUDa","mZGYntu0ouTKqLLPyG","zw1izwK","BhfID0S","Bxj3ALO","u0jdz0K","C2nHBgu","ndG4mtaZyNbzr2PO","B2zMC2v0qw5NBgu","t2zUD3i","z1bqyK0","mZG5mtu0AKvkvw91","CMfKAxvZ","C3rHCNrsywrPDxm","y29UC3rYDwn0B3i","C3r5Bgu","wg52AwS","Cg9PBNrLCKLK","Cg9ZAxrPB24","yxbWBhK","sKvutNy","whbPA2u","C3rHCNrsB3rHDgLVBG","Aevcz1q","CM90yxrPB24","C2v0ug9PBNrLCKnHChr1CMu","rKD6uK4","C3rHCNreAxn0","mtm4ota5nNHHuK1PtG","y3vYCMvUDfrHCMDLDa","y3vYC29Y","vvDJDMW","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","y29Z","zMXVD2vYswq","twXNwwS","zMXVD2vY","v1nTrxa","Bgf5zxjZ","yxrHBJi","r2z2v3m","DMjoqve","Een5wLq","nZa2oda4tLztq3Df","D2LKDgHty2fSzq","Dw5bC2G","rwjRvhK","ChjLDMvUDerLzMf1Bhq","BwfW","tLnQwM0","wLDPBxu","zMXVD2vYCW","Bwf4","C3rHCNreAwfT","sfDnD2O","Bgf5zxjjza","mJv1v0XTvwe","BwLPuMu","Dg9tDhjPBMC"];return A0=function(){return u},A0()}function bn(u,i){u=u-276;const a=A0();let r=a[u];if(bn.WsmJoF===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};bn.zpiYyS=o,bn.PyORCm={},bn.WsmJoF=!0}const f=a[0],m=u+f,p=bn.PyORCm[m];if(p)r=p;else{const h=function(d){this.bHfqRO=d,this.SUttkU=[1,0,0],this.dTvfxz=function(){return"newState"},this.ROJYWI="\\w+ *\\(\\) *{\\w+ *",this.otjgHH=`['|"].+['|"];? *}`};h.prototype.uXGgUV=function(){const d=new RegExp(this.ROJYWI+this.otjgHH),g=d.test(this.dTvfxz.toString())?--this.SUttkU[1]:--this.SUttkU[0];return this.GPWMkX(g)},h.prototype.GPWMkX=function(d){return~d?this.LuRDjs(this.bHfqRO):d},h.prototype.LuRDjs=function(d){for(let g=0,v=this.SUttkU.length;g<v;g++)this.SUttkU.push(Math.round(Math.random())),v=this.SUttkU.length;return d(this.SUttkU[0])},new h(bn).uXGgUV(),r=bn.zpiYyS(r),bn.PyORCm[m]=r}return r}function Ph(u){const i=bn,a={mrwjZ:i(309),sOnLn:function(E,U){return E!==U},RTszW:"zSCRk",zCfPJ:"layer",lqbwK:function(E,U){return E-U},hEBgT:function(E,U){return E-U},UWcvl:function(E,U){return E===U},unAsh:"flower",GfvWs:function(E,U,P,ne){return E(U,P,ne)},NgJIF:function(E,U){return E*U},aLerv:function(E,U){return E(U)},miiRe:function(E,U,P,ne){return E(U,P,ne)},Ofnwr:function(E,U){return E*U},WSmEp:function(E,U){return E===U},vbNAQ:function(E,U){return E*U},dPvKT:function(E,U){return E/U},OsFut:function(E,U){return E+U},MlgYk:function(E,U,P){return E(U,P)},AmrNv:function(E,U,P){return E(U,P)},fdpYq:function(E,U){return E/U},gPPbM:function(E,U){return E/U},QuvyI:function(E,U){return E-U},SBCgI:function(E,U){return E-U},GbKHy:function(E,U){return E+U},ZWimu:function(E,U){return E-U},Avvtv:function(E,U){return E+U},EbkTy:function(E,U){return E*U},qUdte:function(E,U){return E/U},rpsig:function(E,U,P,ne){return E(U,P,ne)},oPjip:function(E,U,P){return E(U,P)},Xpike:"VYwUd",rXGaJ:function(E,U){return E(U)},HWMwj:function(E,U){return E(U)}},{project:r,applyUpdate:o,stageRef:f,clientToSvgPoint:m}=u,p=F.useRef(null),h=(E,U,P,ne)=>{const J=i;if(a.sOnLn(a.RTszW,"loicp")){P[J(289)](),P.currentTarget?.setPointerCapture?.(P[J(331)]),f[J(314)]&&(f[J(314)][J(329)].cursor='url("/tsumami/scale_cursor_32.png?v=16") 16 16, ns-resize');const _=r.flowers[J(301)](O=>O.id===U);if(!_)return;const w=E===a[J(308)]&&ne?.layerId?_[J(280)].filter(O=>O.id===ne[J(297)])[J(290)](O=>({layerId:O.id,scale:O.scale??1,radius:O[J(326)]??10})):_[J(280)][J(290)](O=>({layerId:O.id,scale:O.scale??1,radius:O.radius??10})),L=m(P),M=_[J(332)].x,j=_.position.y,T=Math[J(303)](a[J(317)](L.x,M),a.hEBgT(L.y,j));p[J(314)]={mode:E,flowerId:U,layerId:ne?.[J(297)],startScales:w,startDiam:_.flowerDiameter||60,startDist:T}}else _0xde4b9a.current.style[J(344)]='url("'+a[J(318)]+J(346)},d=E=>{const U=i,P={xCyZT:function(j,T){return a[bn(345)](j,T)},NSjZm:function(j,T){return j===T},sTdmx:a[U(287)],kVgBK:function(j,T,O,W){return a[U(282)](j,T,O,W)},Xnvik:function(j,T){return a.NgJIF(j,T)}},ne=p[U(314)];if(!ne)return;const J=r.flowers.find(j=>j.id===ne.flowerId);if(!J)return;const _=a.aLerv(m,E),w=Math[U(303)](_.x-J[U(332)].x,a.lqbwK(_.y,J[U(332)].y)),L=Math.max(1,ne.startDist??1),M=a.miiRe(Se,w/L,.3,3);o(j=>{const T=U,O=j[T(293)].find(W=>W.id===ne.flowerId);if(O){for(const W of ne.startScales)if(P[T(284)](T(334),T(334))){const Y=O[T(280)].find(N=>N.id===W[T(297)]);if(!Y)continue;Y[T(320)]=Se(W[T(320)]*M,.3,3),P.NSjZm(ne[T(306)],T(278))&&(Y.radius=Se(W[T(326)]*M,2,120))}else{const Y=_0x3e4492.flowers[T(301)](q=>q.id===_0x439865[T(276)]);if(!Y)return;const N=Y[T(280)][T(301)](q=>q.id===_0x492f92.layerId);N&&(N[T(326)]=_0x1f6f33)}P[T(291)](ne.mode,P.sTdmx)&&(O.flowerDiameter=P.kVgBK(Se,P[T(330)](ne[T(295)],M),10,200))}},!1)},g=()=>{const E=i;p[E(314)]&&(o(()=>{},!0),f[E(314)]&&(f.current[E(329)][E(344)]=""),p[E(314)]=null)},v=a.HWMwj(F.useRef,null),D=(E,U,P,ne)=>{const J=i;P.preventDefault(),P.currentTarget?.[J(339)]?.(P[J(331)]),f[J(314)]&&(f.current[J(329)][J(344)]=J(304)+a.mrwjZ+J(346));const _=r.flowers[J(301)](j=>j.id===U);if(!_)return;const w=m(P),L=a.Ofnwr(Math[J(281)](w.y-_[J(332)].y,a[J(317)](w.x,_[J(332)].x)),180/Math.PI),M=a[J(345)](E,a.zCfPJ)&&ne?.layerId?_.layers[J(301)](j=>j.id===ne[J(297)])?.[J(322)]??0:_.rotation??0;v[J(314)]={mode:E,flowerId:U,layerId:ne?.layerId,startAngle:L,startRotation:M}},b=E=>{const U=i,P=v.current;if(!P)return;const ne=r[U(293)][U(301)](M=>M.id===P.flowerId);if(!ne)return;const J=m(E);let w=a.vbNAQ(Math.atan2(J.y-ne.position.y,J.x-ne.position.x),a.dPvKT(180,Math.PI))-P[U(302)];for(;w>180;)w-=360;for(;w<-180;)w+=360;const L=a[U(310)](P[U(336)],w);a[U(277)](o,M=>{const j=U,T=M.flowers[j(301)](O=>O.id===P[j(276)]);if(T)if(a[j(279)](P[j(306)],a.zCfPJ)&&P[j(297)]){const O=T[j(280)].find(W=>W.id===P.layerId);O&&(O.offsetAngle=L)}else T[j(338)]=L},!1)},z=()=>{const E=i;v.current&&(a[E(305)](o,()=>{},!0),f.current&&(f.current.style[E(344)]=""),v[E(314)]=null)},S=a.aLerv(F.useRef,null),C=(E,U,P,ne)=>{const J=i;P.preventDefault(),P.currentTarget?.[J(339)]?.(P[J(331)]),f[J(314)]&&(f[J(314)][J(329)].cursor='url("'+J(309)+'width_cursor_32.png?v=16") 16 16, ew-resize');const _=r.flowers.find(le=>le.id===U);if(!_)return;const w=ne?.layerId?_[J(280)].find(le=>le.id===ne[J(297)]):null;if(!w)return;const L=m(P),M=_.position.x,j=_.position.y,T=ne?.petalIndex??0,O=a.fdpYq(360,Math[J(294)](1,w.petalCount)),W=(a[J(310)](w[J(322)],T*O)+_[J(338)])*a[J(324)](Math.PI,180),Y=a.QuvyI(L.x,M),N=a.SBCgI(L.y,j),q=-Math.sin(W),Z=Math.cos(W),V=Math.abs(a.GbKHy(a[J(283)](Y,q),a[J(323)](N,Z)));S[J(314)]={mode:E,flowerId:U,layerId:ne?.layerId,petalAngle:W,startDist:Math[J(294)](1,V),startWidthScale:w.widthScale??1}},B=E=>{const U=i,P=S[U(314)];if(!P)return;const ne=r[U(293)][U(301)](W=>W.id===P.flowerId);if(!ne)return;const J=a.aLerv(m,E),_=a[U(292)](J.x,ne.position.x),w=a.lqbwK(J.y,ne[U(332)].y),L=-Math.sin(P.petalAngle),M=Math[U(347)](P.petalAngle),j=Math[U(307)](a.Avvtv(a[U(288)](_,L),a.Ofnwr(w,M))),T=Se(a.qUdte(j,P.startDist),.3,3),O=a.rpsig(Se,P[U(312)]*T,.3,3);a.AmrNv(o,W=>{const Y=U,N=W[Y(293)][Y(301)](Z=>Z.id===P[Y(276)]);if(!N)return;const q=N[Y(280)][Y(301)](Z=>Z.id===P[Y(297)]);q&&(q[Y(286)]=O)},!1)},R=()=>{const E=i,U={emHei:function(P,ne,J){return a.oPjip(P,ne,J)}};if(a[E(335)]==="VYwUd"){if(!S.current)return;o(()=>{},!0),f[E(314)]&&(f.current.style[E(344)]=""),S.current=null}else{if(!_0x324d2e.current)return;U[E(316)](_0x5ae23c,()=>{},!0),_0x5b3d62.current&&(_0x47fceb[E(314)].style.cursor=""),_0x649e8d[E(314)]=null}},k=F.useRef(null);return{scaleDragRef:p,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:g,rotationDragRef:v,beginRotationDrag:D,updateRotationDrag:b,endRotationDrag:z,widthScaleDragRef:S,beginWidthScaleDrag:C,updateWidthScaleDrag:B,endWidthScaleDrag:R,radiusDragRef:k,beginRadiusDrag:(E,U,P,ne)=>{const J=i;P[J(289)](),P[J(343)]?.[J(339)]?.(P[J(331)]),f[J(314)]&&(f.current.style[J(344)]='url("/tsumami/radius_cursor_32.png?v=16") 16 16, nwse-resize');const _=r[J(293)].find(j=>j.id===U);if(!_)return;const w=ne?.[J(297)]?_.layers.find(j=>j.id===ne.layerId):null;if(!w)return;const L=a.rXGaJ(m,P),M=Math[J(303)](L.x-_.position.x,L.y-_[J(332)].y);k[J(314)]={mode:E,flowerId:U,layerId:ne?.[J(297)],startDist:Math[J(294)](1,M),startRadius:w.radius??28}},updateRadiusDrag:E=>{const U=i,P=k.current;if(!P)return;const ne=r.flowers.find(M=>M.id===P[U(276)]);if(!ne)return;const J=a[U(296)](m,E),_=Math.hypot(J.x-ne.position.x,a[U(337)](J.y,ne[U(332)].y)),w=a[U(319)](_,P[U(341)]),L=a[U(299)](Se,P[U(327)]+w,5,100);a.oPjip(o,M=>{const j=U,T=M[j(293)].find(W=>W.id===P.flowerId);if(!T)return;const O=T[j(280)][j(301)](W=>W.id===P[j(297)]);O&&(O.radius=L)},!1)},endRadiusDrag:()=>{const E=i;k.current&&(a.oPjip(o,()=>{},!0),f[E(314)]&&(f.current[E(329)][E(344)]=""),k.current=null)}}}(function(u,i){const a=Kt,r=u();for(;;)try{if(parseInt(a(557))/1+parseInt(a(563))/2*(-parseInt(a(531))/3)+parseInt(a(526))/4+parseInt(a(507))/5*(-parseInt(a(550))/6)+-parseInt(a(564))/7*(parseInt(a(522))/8)+-parseInt(a(524))/9+-parseInt(a(498))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(L0,751140);const Fh=(function(){let u=!0;return function(i,a){const r=Kt,o={zLukp:function(f,m){return f===m}};if(r(493)!=="zsDjH")_0xab9f40="radius";else{const f=u?function(){const m=r;if(o.zLukp(m(556),"vRSBn"))_0x5bd081="rotate";else if(a)if(m(539)===m(539)){const p=a.apply(i,arguments);return a=null,p}else _0x5b902a="scale"}:function(){};return u=!1,f}}})(),gx=Fh(void 0,function(){const u=Kt,i={FovLs:"(((.+)+)+)+$"};return gx[u(552)]().search(i.FovLs)[u(552)]().constructor(gx).search(i[u(513)])});gx();function Ol(u,i,a,r,o){const f=Kt,m={IZNXl:"center",isGGu:"scale",HoLXH:function(H,I){return H-I},OOgLf:function(H,I){return H<I},KkIvr:function(H,I){return H===I},dsqBJ:f(551),HqvjI:function(H,I){return H(I)},VJajt:function(H,I){return H*I},cpfEU:function(H,I){return H+I},BclHO:function(H,I){return H*I},sCJMh:function(H,I){return H/I},JblPQ:function(H,I){return H/I},IsfDy:function(H,I){return H*I},SiyJF:function(H,I){return H-I},OeyYp:function(H,I){return H*I},vUxoL:function(H,I){return H+I},psTyv:function(H,I){return H/I},Orwiz:function(H,I){return H>I},pvwgg:function(H,I){return H>=I},EBEPc:function(H,I){return H!==I},GcOkv:"rotate",oAqzP:f(548),cVJzs:function(H,I){return H===I},IaKGL:function(H,I){return H!==I},DwwRP:"ziPQD",wLVqm:function(H,I){return H<=I}},{length:p}=jt(a.fabricSquareSize??r[f(532)]),h=u-a.position.x,d=i-a.position.y,g=Math[f(547)](h,d);let v=1/0;for(const H of a.layers){if(!H[f(508)])continue;const I=H.scale??1,E=p*I,U=.28,P=Math.max(0,m.HoLXH(H[f(548)],E*U));m.OOgLf(P,v)&&(v=P)}isFinite(v)||(v=0);const D=Math.max(v*.9,8);if(g<=D)return m.KkIvr(m.dsqBJ,f(568))?{zone:m.IZNXl}:{zone:"center"};const b=m.HqvjI(xa,-(a.rotation??0)),z=h*Math[f(530)](b)-m.VJajt(d,Math[f(535)](b)),S=m.cpfEU(m[f(499)](h,Math[f(535)](b)),d*Math.cos(b)),C=m.KkIvr(o.kind,"layer")?a[f(500)].filter(H=>H.id===o[f(553)]&&H.visible):a[f(500)].filter(H=>H[f(508)]);let B=f(538),R,k,G=1/0;for(const H of C){const I=H[f(512)]??1,E=m.VJajt(p,I),U=H[f(506)]??1,P=m[f(499)](m.BclHO(m.sCJMh(p,2),U),I),ne=.28,J=Math.max(0,H[f(548)]-E*ne),_=m[f(560)](360,Math[f(549)](1,H.petalCount));for(let w=0;w<H[f(546)];w++){const L=H[f(561)]+m[f(499)](w,_),M=xa(L),j=m[f(502)](Math.cos(M),J),T=m[f(502)](Math.sin(M),J),O=m[f(544)](z,j),W=m[f(544)](S,T),Y=Math.cos(-M),N=Math[f(535)](-M),q=O*Y-m.OeyYp(W,N),Z=m[f(555)](m[f(529)](O,N),m.IsfDy(W,Y)),V=m.JblPQ(q,E),le=m.psTyv(Z,P);if(V<-.05||V>1.08||m.Orwiz(Math[f(554)](le),.75))continue;const xe=Math.hypot(m[f(501)](V,.5),le);m[f(492)](xe,G)||(G=xe,R=H.id,k=w,Math[f(554)](le)>.45?m.EBEPc("yliDy",f(528))?(_0x4808d1=_0x20b9f7,_0x17d731=_0x192295.id):B=f(543):m[f(503)](V,.75)?B=m[f(497)]:m[f(503)](V,.3)?B=m.oAqzP:B="scale")}}if(m.cVJzs(B,"none"))if(m.IaKGL(f(523),m.DwwRP))switch(_0x556d02){case"center":return"pointer";case"rotate":return'url("'+_0x52292e+f(542);case m.isGGu:return'url("'+_0x3005+f(509);case f(543):return'url("'+_0x5a1694+f(559);case f(548):return f(565)+_0x6f67fe+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case"move":return"move";case f(538):default:return"grab"}else{let H=12;for(const U of a[f(500)]){if(!U.visible)continue;const P=U[f(512)]??1,ne=p*P,J=.28,_=Math[f(549)](0,U.radius-ne*J);H=Math.max(H,_+ne)}const I=8,E=Math[f(554)](g-H);if(m.wLVqm(E,I))return{zone:m[f(494)]}}return{zone:B,layerId:R,petalIndex:k}}function Kt(u,i){u=u-492;const a=L0();let r=a[u];if(Kt.AIYQai===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Kt.AcLUEY=o,Kt.wKxkVX={},Kt.AIYQai=!0}const f=a[0],m=u+f,p=Kt.wKxkVX[m];if(p)r=p;else{const h=function(d){this.mFpQBz=d,this.GefwcD=[1,0,0],this.ywzLck=function(){return"newState"},this.bzoSUw="\\w+ *\\(\\) *{\\w+ *",this.GQgjAz=`['|"].+['|"];? *}`};h.prototype.qgJDUn=function(){const d=new RegExp(this.bzoSUw+this.GQgjAz),g=d.test(this.ywzLck.toString())?--this.GefwcD[1]:--this.GefwcD[0];return this.jHSLSr(g)},h.prototype.jHSLSr=function(d){return~d?this.yFAHQi(this.mFpQBz):d},h.prototype.yFAHQi=function(d){for(let g=0,v=this.GefwcD.length;g<v;g++)this.GefwcD.push(Math.round(Math.random())),v=this.GefwcD.length;return d(this.GefwcD[0])},new h(Kt).qgJDUn(),r=Kt.AcLUEY(r),Kt.wKxkVX[m]=r}return r}function $a(u,i,a){const r=Kt,o={cYJQa:r(543),WyBoV:function(f,m){return f===m},CTzrG:"none",PVxeb:function(f,m){return f===m},EHwHb:r(516),NVTcT:function(f,m){return f===m},HYSKT:"scale",Mjsca:r(545),KeIFE:function(f,m){return f!=m},FAlqF:function(f,m){return f-m},dxVwy:function(f,m){return f*m},eiMgY:function(f,m){return f+m},ELCjQ:function(f,m){return f>m},kaijM:function(f,m){return f!==m},tZsGQ:r(514),EejfN:"petals"};if(o[r(510)](u,"center"))return r(541);if(o[r(510)](u,o.CTzrG))return r(538);switch(i){case"flower":{if(o[r(533)](u,o.EHwHb))return"move";if(o.NVTcT(u,o.HYSKT))return"scale";if(u===o[r(521)]&&a?.[r(517)]&&a.flower&&o.KeIFE(a.length,null)){let f,m=-1/0;for(const p of a[r(496)][r(500)]){if(!p[r(508)])continue;const h=p[r(512)]??1,d=a[r(520)]*h,g=.28,v=Math[r(549)](0,o[r(537)](p.radius,o[r(567)](d,g))),D=o.eiMgY(v,d);o.ELCjQ(D,m)&&(o[r(558)](o[r(534)],o[r(534)])?_0x2b00ca=gNFChl.cYJQa:(m=D,f=p.id))}return a.hitLayerId===f?o.Mjsca:r(516)}return r(516)}case r(536):return u;case r(505):case o.EejfN:return"move";default:return o.EHwHb}}function Zd(u,i,a,r){const o=Kt,f={gvmab:function(k,G){return k(G)},FGQqn:function(k,G){return k*G},MYEzR:function(k,G){return k*G},gazkX:function(k,G){return k-G},kYHcV:function(k,G){return k+G},nnWMk:function(k,G){return k/G},MnZtV:function(k,G){return k<G},LRCjh:function(k,G){return k>G},PzGBU:function(k,G){return k>G},ocSua:"none",tfvaE:function(k,G){return k>G},ercwN:"scale"},m=a[o(532)]??r.fabricSquareSize,{length:p,width:h}=f.gvmab(jt,m),d=a.scale??1,g=f[o(527)](p,d),v=f.FGQqn(f[o(504)](h,a[o(506)]??1),d),D=f[o(525)](u,a[o(515)].x),b=f.gazkX(i,a[o(515)].y),z=f[o(518)](xa,-(a.rotation??0)),S=f[o(525)](f[o(504)](D,Math.cos(z)),f[o(527)](b,Math[o(535)](z))),C=f.kYHcV(D*Math.sin(z),b*Math.cos(z)),B=f.nnWMk(S,g),R=f.nnWMk(C,v);return f.MnZtV(B,-.05)||f[o(519)](B,1.08)?o(538):f.PzGBU(Math.abs(R),.75)?f.ocSua:Math.abs(R)>.45?"width":f[o(495)](B,.75)?o(545):f.ercwN}function Xd(u,i){const a=Kt,r={SyhfK:a(543),GEDoH:a(538)};switch(u){case"rotate":return'url("'+i+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return a(565)+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case r[a(511)]:return a(565)+i+a(559);case a(516):return a(516);case r.GEDoH:default:return"grab"}}function Ed(u,i){const a=Kt,r={XJIDC:"width",MPbMk:a(548),hJQGg:"move",iwsvN:a(538)};switch(u){case a(541):return a(566);case a(545):return'url("'+i+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return a(565)+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case r.XJIDC:return a(565)+i+a(559);case r.MPbMk:return a(565)+i+a(540);case a(516):return r[a(562)];case r.iwsvN:default:return"grab"}}function L0(){const u=["Bw92zq","AgL0tgf5zxjjza","z3zTywi","tfjdAMG","BgvUz3rO","twPZy2e","oty4ntm2s2L4v0HX","EMLquuq","mZmXotu5nKflEfLlCW","z2f6A1G","ntGZndu0ogT5C3vRuq","rKDrCw4","EwXPrhK","qMnSse8","y29Z","mJGYmJi1D1jduvjA","zMfICMLJu3f1yxjLu2L6zq","ufz4zwi","DfPZr1e","C2LU","Bgf5zxi","rKfSCuy","BM9Uzq","zvv6Bhu","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","y2vUDgvY","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","D2LKDgG","u2L5sKy","CM90yxrL","Cgv0ywXdB3vUDa","AhLWB3q","CMfKAxvZ","Bwf4","nKfUrLfpqW","s3bYweW","Dg9tDhjPBMC","Bgf5zxjjza","ywjZ","DLv4B0W","wuLOz1C","mte5nJmYnuPoDuPeqG","A2fPAK0","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","sMjSufe","B2zMC2v0qw5NBgu","AePrr2C","mtzSzenqtMy","n2rgrM5KDW","DxjSkci","Cg9PBNrLCG","zhHwD3K","DuLKq2e","Chz3z2C","ENneAKG","Axnhr3u","Dgz2yuu","zMXVD2vY","r2npA3y","ndKYmJCYmhrOsw5wBG","vKPHANq","Bgf5zxjZ","sg9mweG","sxnMrhK","t3j3AxO","tvLfELi","Cgv0ywW","D2LKDgHty2fSzq","odq1mtK1zfP0C2jf","DMLZAwjSzq","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","v3LcB1y","u3LOzKS","C2nHBgu","rM92thm","CLPRwK0","Cg9ZAxrPB24"];return L0=function(){return u},L0()}function It(u,i){u=u-182;const a=T0();let r=a[u];if(It.kdtyMl===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};It.IKYrBW=o,It.gorDGD={},It.kdtyMl=!0}const f=a[0],m=u+f,p=It.gorDGD[m];if(p)r=p;else{const h=function(d){this.DNmrFc=d,this.zxKrOE=[1,0,0],this.BzWXdh=function(){return"newState"},this.SSxitC="\\w+ *\\(\\) *{\\w+ *",this.HQBNbf=`['|"].+['|"];? *}`};h.prototype.HLjRRh=function(){const d=new RegExp(this.SSxitC+this.HQBNbf),g=d.test(this.BzWXdh.toString())?--this.zxKrOE[1]:--this.zxKrOE[0];return this.iPLTfx(g)},h.prototype.iPLTfx=function(d){return~d?this.lIbKGN(this.DNmrFc):d},h.prototype.lIbKGN=function(d){for(let g=0,v=this.zxKrOE.length;g<v;g++)this.zxKrOE.push(Math.round(Math.random())),v=this.zxKrOE.length;return d(this.zxKrOE[0])},new h(It).HLjRRh(),r=It.IKYrBW(r),It.gorDGD[m]=r}return r}(function(u,i){const a=It,r=u();for(;;)try{if(-parseInt(a(226))/1*(parseInt(a(206))/2)+parseInt(a(281))/3*(parseInt(a(194))/4)+-parseInt(a(235))/5*(-parseInt(a(197))/6)+parseInt(a(249))/7*(parseInt(a(258))/8)+parseInt(a(187))/9+-parseInt(a(240))/10+-parseInt(a(278))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(T0,307898);const $h=(function(){const u=It,i={vuhhR:function(r,o){return r===o},CtgIb:function(r,o){return r!==o},wPnHv:u(273)};let a=!0;return function(r,o){const f=u,m={JOFqH:function(h,d){return i.vuhhR(h,d)},FKJla:"project",StZZc:function(h,d){return i[It(251)](h,d)},SPJpR:function(h,d){return h!==d},JeBJk:i[f(232)],Alfun:function(h,d){return h!==d}},p=a?function(){const h=f;if(m[h(225)]("OyTIy",h(215)))(m[h(231)](_0x209680.kind,m.FKJla)||m[h(231)](_0xcfe4e7.kind,h(273))&&m.StZZc(_0x5f3d23[h(199)],_0x25873f[h(199)])||m.JOFqH(_0x4d03f7[h(264)],"layer")&&m.SPJpR(_0x224cbd[h(199)],_0x186981[h(199)])||m[h(231)](_0x1669ef[h(264)],"petal")&&_0x2c4bd7.flowerId!==_0x520ffb.flowerId)&&_0x5f1960({kind:m[h(193)],flowerId:_0x3b80ec[h(199)]}),_0x118dc1(()=>{},!0);else if(o){const d=o[h(209)](r,arguments);return o=null,d}}:function(){};return a=!1,p}})(),vx=$h(void 0,function(){const u=It;return vx[u(184)]()[u(217)]("(((.+)+)+)+$")[u(184)]().constructor(vx).search("(((.+)+)+)+$")});vx();function T0(){const u=["yMvNAw5ty2fSzurYywC","BxvptLu","EvL1vfm","CLfKqxe","CgfUma","sMvcsMS","mtmXndm2y2rJEMrm","ywjZ","vKTvAve","nNb3txP6qG","DxbKyxrLu2nHBgveCMfN","zMXVD2vYswq","yMvNAw5xAwr0AfnJywXLrhjHzW","DNf4wg8","C3rHCNrtDMC","AxntAgLMDfbYzxnZzwq","Bw92zwq","y3vYCMvUDfrHCMDLDa","nfHVDKrLyW","DxbKyxrLuM90yxrPB25eCMfN","AMLJsgi","yxbWBhK","wMLJyMW","wu94B2C","BwLU","BxvSDgLtDgfYDfbVC2L0Aw9UCW","De1jyvm","t3LusxK","wgTNsLa","C2vHCMnO","Cgv0ywW","tLPwA1e","vLfpt3G","Cwnbtvy","Bgf5zxi","rxHtDNq","y3vYCMvUDfn2zW","qwXMDw4","mJeWmZmYs2jOz2jP","y2XPzw50wq","C3rHCNrdBgLLBNq","yMvNAw5sB3rHDgLVBKrYywC","BwfW","sK9gCuG","D1bUshy","wgHRDNq","C2v0ug9PBNrLCKnHChr1CMu","mJm3mta1nwvdvvroEq","z3bVAgq","ywfYq0q","zw5Ku2nHBgveCMfN","Cg9PBNrLCKLK","mZKWnJm3mgDNAfD0CW","s3n3txe","Cg9ZAxrPB24","BgncDey","zw5KuMfKAxvZrhjHzW","C3rHCNrAB29T","y2XPy2TqzxrHBa","zxzPsKq","DxbKyxrLuMfKAxvZrhjHzW","mJaYm2XeDLvgyG","qNPsuw8","q3rNswi","BgvHDMvZ","rvP1sfK","C2nHBgveCMfNuMvM","DxbKyxrLv2LKDgHty2fSzurYywC","zMLUza","yMvNAw5sywrPDxneCMfN","mtmXnJHqCMvmtxe","BgvUz3rO","CNLRvw4","EhLnueK","ruvUsMC","CKj3Dvm","A2LUza","C3rHCNq","zMXVD2vYCW","AhLWB3q","D2LKDgHty2fSzurYywDszwy","wvzjuge","y2XPzw50wa","y3vYCMvUDa","thL5yMK","zMXVD2vY","D1PuB0i","AKTVt3G","sKjwwvi","uNzsqKO","nJm0ote0nxvUqurtqW","ALbZtg0","D05krvm","ndv2yKjRsKm","sMrKrhO","ChvZAa","rwXduw0","Dg9tDhjPBMC","C2HPzNrlzxK","C3rHCNrqB3m","mJi4mJqZnKDqyMTPAW"];return T0=function(){return u},T0()}const y0=500*an;function em(u){const i=It,a={jKoOx:function(_,w){return _(w)},wNJES:function(_,w){return _+w},OluUx:function(_,w){return _-w},LFitH:function(_,w){return _!==w},ZzFXa:i(210),rBwuS:function(_,w){return _-w},xyMPI:"project",wZToB:function(_,w){return _-w},VQOOx:function(_,w){return _>=w},jPsLm:function(_,w){return _+w},rykUn:function(_,w){return _<=w},VLBfO:function(_,w){return _>w},JddDz:"flower",VKUiQ:function(_,w){return _===w},yYuTS:"GSWzp",FJHYq:i(266),ExSvt:function(_,w){return _===w},JBVYR:"YXtCE",ElCQm:function(_,w){return _(w)},MLRlb:function(_,w){return _(w)},XkgJP:function(_,w){return _(w)},EEnJg:function(_,w,L){return _(w,L)},rQdAq:function(_,w){return _??w},RvRBJ:function(_,w){return _>=w},uVBfB:function(_,w){return _!==w},jicHb:function(_,w,L,M){return _(w,L,M)},omslv:function(_,w){return _===w},NZVkQ:i(250),lNgnm:"UCgEN",aCmno:function(_,w){return _/w},Lyybi:function(_,w){return _/w},tMIaS:function(_,w,L){return _(w,L)},YOxog:"gCYzz",DQBDg:function(_,w,L,M,j){return _(w,L,M,j)},uvswJ:function(_,w){return _!==w},qcAMV:i(222),lcBtF:function(_,w){return _!==w},ejGzs:function(_,w){return _===w},KswMq:i(218),gpohd:function(_,w){return _(w)},Xhkvt:function(_,w){return _(w)},IGfTG:function(_,w){return _(w)}},{project:r,selection:o,setSelection:f,applyUpdate:m,dragRef:p,zoom:h,pan:d,setPan:g,stageRef:v,clientToSvgPoint:D,togglePetalSelection:b}=u,z=Ph({project:r,applyUpdate:m,stageRef:v,clientToSvgPoint:D}),S=a[i(236)](F.useRef,null),C=_=>{const w=i;_.preventDefault(),_[w(205)]?.setPointerCapture?.(_.pointerId),S[w(271)]={start:{x:_.clientX,y:_[w(227)]},pan0:{...d}}},B=_=>{const w=i;if(!S.current)return;const L=_.clientX-S[w(271)].start.x,M=_[w(227)]-S.current[w(265)].y;a[w(275)](g,{x:S.current[w(192)].x+L,y:a[w(280)](S[w(271)][w(192)].y,M)})},R=()=>{const _=i;S[_(271)]=null},k=a[i(233)](F.useRef,null),[G,H]=a.IGfTG(F.useState,null);return{beginPan:C,updatePan:B,endPan:R,marqueeRef:k,marqueeRect:G,beginMarquee:_=>{const w=i;_.preventDefault(),_[w(205)]?.[w(234)]?.(_.pointerId);const L=D(_);k[w(271)]={startSvg:L,currentSvg:L},H(null)},updateMarquee:_=>{const w=i;if(!k[w(271)])return;const L=D(_);k[w(271)][w(224)]=L;const M=k[w(271)].startSvg,j=Math[w(212)](M.x,L.x),T=Math.min(M.y,L.y),O=Math[w(195)](a.OluUx(L.x,M.x)),W=Math[w(195)](a.OluUx(L.y,M.y));H({x:j,y:T,w:O,h:W})},endMarquee:()=>{const _=i;if(a.LFitH(a.ZzFXa,_(237))){const w=k.current;if(k.current=null,!w){H(null);return}const L=w[_(202)],M=w[_(224)];if(Math[_(267)](a[_(263)](M.x,L.x),a.rBwuS(M.y,L.y))<3){a[_(275)](f,{kind:a[_(261)]}),a[_(275)](H,null);return}const T=Math[_(212)](L.x,M.x),O=Math.min(L.y,M.y),W=Math[_(195)](a.wZToB(M.x,L.x)),Y=Math.abs(M.y-L.y),N=[];for(const Z of r.flowers)Z[_(242)].x>=T&&Z.position.x<=T+W&&a[_(220)](Z[_(242)].y,O)&&Z.position.y<=a[_(279)](O,Y)&&N[_(182)](Z.id);const q=[];for(const Z of r[_(252)]??[])Z.position.x>=T&&a[_(260)](Z[_(242)].x,T+W)&&Z[_(242)].y>=O&&Z[_(242)].y<=O+Y&&q[_(182)](Z.id);if(a.VLBfO(N.length,0))if(N[_(259)]===1)f({kind:a[_(282)],flowerId:N[0]});else if(a[_(196)](a.yYuTS,a[_(190)]))a.jKoOx(f,{kind:a.FJHYq,flowerIds:N});else{_0x5c4092(null);return}else q[_(259)]>0?a[_(223)](q.length,1)?a.LFitH(a[_(276)],"FuaNR")?a[_(183)](f,{kind:"leaf",leafId:q[0]}):_0x3f2407({kind:_(266),flowerIds:_0x1dd739}):a.MLRlb(f,{kind:_(252),leafIds:q}):a.jKoOx(f,{kind:"project"});a[_(216)](H,null)}else _0x290dec[_(182)](_0x454722.id)},beginFlowerDrag:(_,w,L)=>{const M=i;w.preventDefault(),w.currentTarget?.setPointerCapture?.(w[M(239)]);const j=r[M(266)][M(256)](O=>O.id===_);if(!j)return;let T=null;if(a[M(223)](o[M(264)],a.FJHYq)&&o.flowerIds.includes(_))T=o.flowerIds[M(230)](O=>{const W=M,Y=r.flowers.find(N=>N.id===O);return{id:O,x:Y?.[W(242)].x??0,y:Y?.position.y??0}});else{const O=a[M(262)](yh,r,_);O.length>1&&(T=O.map(W=>{const Y=M,N=r[Y(266)].find(q=>q.id===W);return{id:W,x:N?.position.x??0,y:N?.[Y(242)].y??0}}))}p.current={flowerId:_,startClient:{x:w[M(270)],y:w[M(227)]},startPos:{...j.position},moved:!1,clickPetal:a[M(191)](L,null),isShiftPressed:w[M(185)]||!1,multiStartPositions:T,startZoom:h}},updateFlowerDrag:_=>{const w=i,L={dVMHk:function(M,j){return M+j},vqxXo:function(M,j){return a[It(277)](M,j)},MGBWU:function(M,j){return M<=j},muONU:function(M,j){return a[It(279)](M,j)},eviJD:function(M,j){return a.uVBfB(M,j)},CEAYz:"oxOue",EZuHY:function(M,j,T,O){return a[It(208)](M,j,T,O)},gcwPH:function(M,j){return a.jPsLm(M,j)},YVIPa:function(M,j,T,O){return a.jicHb(M,j,T,O)}};if(a.omslv(a[w(219)],a.lNgnm)){const M=_0x16df66[w(266)][w(256)](j=>j.id===_0x28f886);return{id:_0x255541,x:M?.position.x??0,y:M?.[w(242)].y??0}}else{const M=p.current;if(!M)return;const j=a.aCmno(_[w(270)]-M.startClient.x,M.startZoom),T=a[w(272)](a[w(274)](_.clientY,M[w(228)].y),M[w(245)]),O=a[w(263)](_.clientX,M.startClient.x),W=_.clientY-M[w(228)].y;Math.abs(O)+Math[w(195)](W)>4&&(M[w(204)]=!0),a.tMIaS(m,Y=>{const N=w;if(M[N(213)])for(const q of M.multiStartPositions)if(L[N(247)]("EIwMW",L.CEAYz)){const Z=Y.flowers[N(256)](V=>V.id===q.id);if(!Z)continue;Z[N(242)].x=L[N(253)](Se,q.x+j,0,y0),Z[N(242)].y=Se(L.gcwPH(q.y,T),0,y0)}else _0x46c41f[N(242)].x>=_0x1f9ad9&&_0x1e3bb1[N(242)].x<=UOwLuy.dVMHk(_0x130442,_0x192924)&&UOwLuy[N(201)](_0x360a88.position.y,_0x21e6fb)&&UOwLuy.MGBWU(_0x44dd7f.position.y,UOwLuy[N(189)](_0x52e655,_0x42ad22))&&_0x4f8a1d[N(182)](_0x227b3f.id);else{const q=Y.flowers[N(256)](Z=>Z.id===M.flowerId);if(!q)return;q.position.x=L[N(269)](Se,L.muONU(M[N(186)].x,j),0,y0),q.position.y=Se(M.startPos.y+T,0,y0)}},!1)}},endFlowerDrag:()=>{const _=i,w=p.current;if(w){if(!w.moved&&w[_(246)])if(a[_(211)]==="UWNmf"){const L=_0x34a3bf[_(266)].find(M=>M.id===_0x5d9d99);return{id:_0x54f487,x:L?.position.x??0,y:L?.position.y??0}}else w[_(203)]?a.DQBDg(b,w.flowerId,w.clickPetal.layerId,w.clickPetal.index,!0):f({kind:"petal",flowerId:w.flowerId,layerId:w[_(246)].layerId,index:w[_(246)].index});else w.moved&&((a.ExSvt(o.kind,a.xyMPI)||o.kind==="flower"&&a.uvswJ(o[_(199)],w[_(199)])||o[_(264)]===a[_(221)]&&a[_(243)](o.flowerId,w.flowerId)||a.ejGzs(o.kind,a[_(241)])&&a.uvswJ(o[_(199)],w.flowerId))&&f({kind:a[_(282)],flowerId:w.flowerId}),a[_(214)](m,()=>{},!0));p[_(271)]=null}},scaleDragRef:z[i(254)],beginScaleDrag:z[i(188)],updateScaleDrag:z[i(198)],endScaleDrag:z[i(238)],rotationDragRef:z.rotationDragRef,beginRotationDrag:z[i(229)],updateRotationDrag:z[i(207)],endRotationDrag:z.endRotationDrag,widthScaleDragRef:z[i(268)],beginWidthScaleDrag:z[i(200)],updateWidthScaleDrag:z[i(255)],endWidthScaleDrag:z.endWidthScaleDrag,radiusDragRef:z.radiusDragRef,beginRadiusDrag:z[i(257)],updateRadiusDrag:z[i(248)],endRadiusDrag:z[i(244)]}}function tm({className:u}){return x.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function ra(u){const i=!!u.selected,a=!!u.muted,r=4+(u.level||0)*12+(u.leftOffset||0),o=Math.max(0,r),f=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:p=>{u.onDoubleClick&&(p.stopPropagation(),u.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?x.jsx("span",{className:`${i?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:u.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?x.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:p=>{p.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(tm,{className:"h-4 w-4"})}):x.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function nm(u){const{project:i,selection:a,setSelection:r,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:p,addFlower:h,deleteSelected:d,addOuterLayer:g,deleteOuterLayer:v,deleteFlowerById:D,deleteLayerById:b,treeScrollRef:z,setExpandedFlowers:S}=u;return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsx("div",{className:"text-sm font-semibold px-0.5",children:""}),x.jsxs("div",{className:"mt-1.5 flex gap-1 flex-wrap",children:[x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:x.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M12 3c1.2 2 .5 4-1 5.5C9.5 10 9 11.5 12 12c3 .5 2.5-1.5 1-3S10.8 5 12 3z"}),x.jsx("path",{d:"M12 3c-1.2 2-.5 4 1 5.5 1.5 1.5 2 3-1 3.5-3 .5-2.5-1.5-1-3S13.2 5 12 3z"}),x.jsx("path",{d:"M12 12c-2 1.5-4 1.2-5 0s0-3 2-3.5"}),x.jsx("path",{d:"M12 12c2 1.5 4 1.2 5 0s0-3-2-3.5"}),x.jsx("path",{d:"M12 12v5M10 15h4"}),x.jsx("circle",{cx:"12",cy:"11",r:"1.2",fill:"currentColor",stroke:"none"}),x.jsx("line",{x1:"20",y1:"2",x2:"20",y2:"7",stroke:"currentColor",strokeWidth:"2"}),x.jsx("line",{x1:"17.5",y1:"4.5",x2:"22.5",y2:"4.5",stroke:"currentColor",strokeWidth:"2"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]}),x.jsxs("div",{className:"mt-1.5 max-h-[420px] overflow-y-auto overflow-x-auto",ref:z,"data-testid":"layer-tree",children:[x.jsx(ra,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),(()=>{const C=u.groups,B=new Set(C.flatMap(G=>G.flowerIds)),R=i.flowers.filter(G=>!B.has(G.id)),k=(G,H)=>{const I=a.kind==="flower"&&a.flowerId===G.id,E=a.kind==="flowers"&&a.flowerIds.includes(G.id),U=I||E,P="",ne=o(G.id),J=G.layers&&G.layers.length>0,_=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),g(G.id)},"aria-label":"Add outer layer",children:"+"}),J&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),v(G.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":G.id,"data-testid":`tree-flower-${G.id}`,style:{paddingLeft:H},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${ne?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:ne?"Collapse layers":"Expand layers",onClick:w=>{w.stopPropagation(),f(G.id)},"aria-label":ne?"collapse":"expand","data-tree-toggle":!0,children:ne?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ra,{label:G.name,marker:P,selected:U,showTrash:I,onTrash:()=>D(G.id),rightActions:_,onClick:()=>m(G.id),onDoubleClick:()=>p(G.id),level:0,leftOffset:-18})})]}),ne&&G.layers.slice().sort((w,L)=>L.order-w.order).map(w=>{const L=(a.kind==="layer"||a.kind==="petal")&&a.layerId===w.id;return x.jsx(ra,{label:`${w.order}. ${w.name}`,marker:"",selected:L,showTrash:L,onTrash:()=>b(G.id,w.id),onClick:()=>{r({kind:"layer",flowerId:G.id,layerId:w.id}),S(M=>({...M,[G.id]:!0}))},level:0,leftOffset:10,muted:!w.visible},w.id)})]},G.id)};return x.jsxs(x.Fragment,{children:[[...C].reverse().map(G=>{const H=a.kind==="group"&&a.groupId===G.id,I="",E=u.isGroupExpanded(G.id);return x.jsxs("div",{"data-group-id":G.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${E?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:E?"":"",onClick:U=>{U.stopPropagation(),u.toggleGroupExpanded(G.id)},"aria-label":E?"collapse group":"expand group",children:E?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ra,{label:` ${G.name}`,marker:I,selected:H,onClick:()=>u.onSelectGroup(G.id),level:0,leftOffset:-18})})]}),E&&G.flowerIds.map(U=>{const P=i.flowers.find(ne=>ne.id===U);return P?k(P,12):null})]},G.id)}),[...R].reverse().map(G=>k(G,0))]})})()]}),x.jsxs("div",{className:"mt-2 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsx("div",{className:"mt-1 max-h-[200px] overflow-y-auto",children:(()=>{const C=u.leafGroups,B=new Set(C.flatMap(k=>k.leafIds)),R=u.leaves.filter(k=>!B.has(k.id));return x.jsxs(x.Fragment,{children:[C.map(k=>{const G=a.kind==="leafGroup"&&a.leafGroupId===k.id;return x.jsxs("div",{children:[x.jsx(ra,{label:` ${k.name}`,selected:G,onClick:()=>u.onSelectLeafGroup(k.id),level:0,leftOffset:0}),k.leafIds.map(H=>{const I=u.leaves.find(U=>U.id===H);if(!I)return null;const E=a.kind==="leaf"&&a.leafId===I.id;return x.jsx(ra,{label:I.name,selected:E,showTrash:E,onTrash:()=>u.onDeleteLeaf(I.id),onClick:()=>u.onSelectLeaf(I.id),level:0,leftOffset:12,muted:!I.visible},I.id)})]},k.id)}),[...R].reverse().map(k=>{const G=a.kind==="leaf"&&a.leafId===k.id;return x.jsx(ra,{label:k.name,selected:G,showTrash:G,onTrash:()=>u.onDeleteLeaf(k.id),onClick:()=>u.onSelectLeaf(k.id),level:0,leftOffset:0,muted:!k.visible},k.id)}),u.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})})()})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const ce=ln;(function(u,i){const a=ln,r=u();for(;;)try{if(parseInt(a(372))/1*(-parseInt(a(411))/2)+-parseInt(a(402))/3+-parseInt(a(390))/4+-parseInt(a(315))/5*(parseInt(a(343))/6)+parseInt(a(355))/7*(-parseInt(a(383))/8)+parseInt(a(346))/9*(-parseInt(a(349))/10)+parseInt(a(368))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(B0,988912);const lm=(function(){const u=ln,i={kuHBJ:function(r,o){return r!==o},irFja:u(360),sQbMC:"right",KUmKL:function(r,o){return r===o},ADtQG:function(r,o,f){return r(o,f)}};let a=!0;return function(r,o){const f={GqTgP:i.sQbMC,kPpOt:function(p,h){return i.KUmKL(p,h)},cXoDa:"side",XfOCa:function(p,h,d){return i[ln(395)](p,h,d)}},m=a?function(){const p=ln;if(o)if(i.kuHBJ(i.irFja,"qfuOl")){const h=_0x1163b4===f.GqTgP||f[p(380)](_0x5964a7,p(384))?f[p(311)]:p(387),d=_0xe58ff6[_0x2b3dfc][h],g=_0x53563e[_0x280e7b]?.[_0x218a46]??null;return{path:_0x13e08f(_0x338339,_0x1a86d1),hairPath:f[p(403)](_0x9c32bf,_0x5dbfa9,_0x48d2ac),scaleX:f[p(380)](_0x467cfa,p(384))?-1:1,imageUrl:g,imageWidthMm:d[p(392)],imageHeightMm:d[p(407)]}}else{const h=o.apply(r,arguments);return o=null,h}}:function(){};return a=!1,m}})(),yx=lm(void 0,function(){const u=ln,i={ArmVM:"(((.+)+)+)+$"};return yx.toString()[u(334)](u(386)).toString().constructor(yx)[u(334)](i.ArmVM)});yx();function B0(){const u=["qYaYmIaXnteSide0ide2nYWGltiGmtGZ","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYaXocaXlca0mcaXmcWGntiGmJy","tcaTotiGmJGW","qYa2nca0ncWGnJqGntaSidyZidu2","DeDWBvy","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","qYa2nsa4msWGnJyGodmSidy2idG1","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","CMLNAhq","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","wMj4vuu","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYa4mIa3ncWGodmGodySidGYidK4","C2vHCMnO","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYaTndqGnIWGltiWidaSidaGma","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaTnJyGodySic02nca3ocWGlty0idy4","tsaWida","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","nZqYnJK2ohrXswD2wG","qYaTndiGnJiSic00mca1mcWGltqYidm4","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","mta0mJaXmtLltuD2v0y","qYa2ocaZmcWGnZyGndqSidGWidyY","qYaTnZyGndqSic02ocaZmcWGltu4idiW","mtbsALfSqMK","BxPquuW","qYa2nca3ocWGnJyGodySidy2idK0","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYaTnJqGntiSic02mcaZocWGltuYidi2","mJHsCu9VrLu","qYaTodGGnZiSic04nca2mIWGltC2idu2","5B6m44kn5zcr44gn","qYaTodmGodySic04mIa3ncWGltGWidyY","qYaTntqGmJaSic02nIaYmIWGltCYidmY","Cwz1t2W","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYaTndaGmtaSic0XocaXlcaWida","tcaTndaGmtm0","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","qYaTmJiGnIWGlteWideSidaGma","tsaTndaGmtqY","nJa0ntKYmtj5vNvftNa","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","tcaTmti1idi4ma","C2LKzq","nu92s01qzq","qYaYocaXotGSidm0idiXmIWGndGGmJi4","qYaTnJGGotySic03mca4ncWGlty2idC0","qYaXncaTncWGmZyGltqSidq4idq","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","DNzduw8","qYa2mcaZocWGnJqGntiSidy0idy4","qYa3oca0mcWGnZGGntqSidCYidyY","A1bWt3q","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYa3oca1mIWGnZCGnJaSidC0idy2","mJeZodCYrxPOAwvb","BgvMDa","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","kcGOlISPkYKRksSK","yMfJAW","tsaTndyGmJy","tcaTndaGmtqY","ndu1nZGXnMXjqujdtW","qYaTndmGmZiSic00ncaYocWGltq2idi2","D2LKDgG","qYa3mcaXmdySidCWideWocWGnZmGmteW","l3rZDw1HBwKV","qur0uuC","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","qYaYmcaWlca0nca2lca1ocaYma","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","odi5nJK4DwfAq2rP","wgzpq2e","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","AM9PBG","AgvPz2H0","qYa2nIa2ocWGntyGnZaSidq4idy2","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYa2nsaXmIWGnZiGmJySidC2idqY","mJm1ntiYA0n6qvvZ","qYa3mIa2osWGnJKGnZiSidy2idC2","qYa0nca1ncWGmtyGndGSic0Xmca0nG","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYaXnsaTmIWGmZGGltuSidu1idu","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYaYmcaXndGSideWide1mcWGmcaXnta","tsaWidCW","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYa1nYa3msWGntKGnZuSidyZidC5","tLL6sKS","EeXpsfK","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","qYaTnZGGndaSic03oca1ncWGltCYidyY","wwfprfe","y1HVrge","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","nxrLre1Wva","qYaTntyGmZySic01mcaYnIWGltqYide4"];return B0=function(){return u},B0()}const Wd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Jd={adult:"",child:""},Vd={right:"",left:"",back:ce(357)},am=["M 0 0","C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42",ce(382),ce(412),"C 65 80, 68 85, 74 90","C 78 93, 82 96, 83 99",ce(335),ce(393),ce(352),ce(329),ce(414),ce(338),"C 23 171, 21 181, 19 191","C 15 206, 5 221, -9 239",ce(305),"L -36 280",ce(370),ce(400),"C -68 212, -56 200, -48 190","C -42 182, -38 174, -36 166",ce(308),"C -48 134, -58 126, -68 118",ce(339),ce(356),"C -70 52, -66 48, -62 44",ce(316),"C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"].join(" "),im=[ce(341),"C 20 0, 44 6, 58 20",ce(347),"C 82 74, 83 86, 82 98",ce(313),ce(369),"C 72 142, 60 152, 48 162",ce(417),ce(373),"C 58 240, 74 258, 92 280",ce(322),ce(385),ce(307),ce(398),"C -60 152, -72 142, -78 134","C -82 128, -84 122, -84 116",ce(418),ce(358),ce(348),"C -44 6, -20 0, 0 0","Z",ce(421),"C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116",ce(327),ce(420),ce(306),ce(415),"C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"].join(" "),rm=[ce(341),"C 14 -4, 36 -4, 48 4",ce(319),"C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68",ce(423),ce(326),"C 66 86, 62 88, 58 90","C 57 91, 57 93, 59 95","C 60 97, 58 101, 54 106",ce(404),"C 32 125, 28 131, 26 139",ce(317),ce(312),"L -30 240","L -100 240",ce(331),ce(364),"C -35 150, -36 142, -40 134","C -48 126, -56 116, -62 106",ce(374),ce(409),ce(396),ce(366),"Z"].join(" "),cm=[ce(341),ce(321),ce(378),ce(351),"C 66 100, 64 106, 60 112",ce(332),"C 30 152, 32 166, 55 202",ce(314),"L -70 240","C -66 228, -60 214, -55 202","C -32 166, -30 152, -38 140","C -44 130, -54 120, -60 112","C -64 106, -66 100, -66 94",ce(340),ce(354),ce(362),"Z","M 46 26",ce(320),"C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z",ce(388),"C -54 20, -66 22, -72 32",ce(309),ce(401),"C -42 62, -40 50, -42 38",ce(391),"Z"][ce(406)](" "),um=["M 0 0",ce(416),ce(410),ce(382),"C 72 69, 69 72, 66 76","C 48 74, 20 64, -8 58","C -30 54, -48 48, -62 44","C -56 36, -50 26, -42 18",ce(381),"C -4 -1, -1 -1, 0 0","Z",ce(367),"C -48 134, -58 126, -68 118",ce(339),"C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44","C -58 50, -54 58, -50 70",ce(397),ce(389),"Z"].join(" "),xm=["M 0 0",ce(399),ce(347),ce(333),ce(313),"C 84 122, 82 128, 78 134",ce(342),"C 8 160, -8 160, -20 158",ce(405),"C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98",ce(358),ce(348),ce(337),"Z","M 0 70","C 16 66, 34 70, 42 82",ce(419),ce(327),ce(420),ce(306),"C -40 136, -46 126, -48 116",ce(318),"C -34 70, -16 66, 0 70","Z"].join(" "),sm=[ce(341),ce(375),ce(319),ce(323),ce(413),"C -28 46, -40 44, -50 44",ce(396),"C -22 6, -10 1, 0 0","Z","M -40 134",ce(353),"C -68 96, -70 84, -66 74",ce(409),"C -46 52, -42 64, -40 78","C -38 94, -36 112, -38 126",ce(363),"Z"].join(" "),om=["M 0 0",ce(321),ce(378),"C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112",ce(361),ce(422),ce(365),"C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68",ce(354),ce(362),"Z","M 46 26",ce(320),ce(379),ce(408),"C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z",ce(388),ce(359),ce(309),ce(401),ce(344),"C -43 32, -44 28, -46 26","Z"].join(" ");function fm(u,i){const a=ce,r={mzPQL:function(f,m){return f===m}},o=r[a(350)](i,a(328))||i==="left";return u==="adult"?o?am:im:o?rm:cm}function dm(u,i){const a=ce,r={ZbxUE:function(f,m){return f===m},xLOHY:a(328)},o=r[a(330)](i,r[a(425)])||r[a(330)](i,"left");return u==="adult"?o?um:xm:o?sm:om}function ln(u,i){u=u-305;const a=B0();let r=a[u];if(ln.eQewFz===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};ln.WdGXDp=o,ln.dGcvul={},ln.eQewFz=!0}const f=a[0],m=u+f,p=ln.dGcvul[m];if(p)r=p;else{const h=function(d){this.hAEhEm=d,this.BcBrPd=[1,0,0],this.mRRNIb=function(){return"newState"},this.wAnmMP="\\w+ *\\(\\) *{\\w+ *",this.MDmMJI=`['|"].+['|"];? *}`};h.prototype.gCQLIP=function(){const d=new RegExp(this.wAnmMP+this.MDmMJI),g=d.test(this.mRRNIb.toString())?--this.BcBrPd[1]:--this.BcBrPd[0];return this.kOTLjR(g)},h.prototype.kOTLjR=function(d){return~d?this.MuvIER(this.hAEhEm):d},h.prototype.MuvIER=function(d){for(let g=0,v=this.BcBrPd.length;g<v;g++)this.BcBrPd.push(Math.round(Math.random())),v=this.BcBrPd.length;return d(this.BcBrPd[0])},new h(ln).gCQLIP(),r=ln.WdGXDp(r),ln.dGcvul[m]=r}return r}const hm={right:"/tsumami/stencils/adult_right.png",left:"/tsumami/"+ce(336),back:ce(394)+ce(376)},mm={right:ce(394)+ce(325),left:ce(394)+"stencils/child_left.png",back:ce(394)+ce(345)},bm={adult:hm,child:mm};function gm(u,i){const a=ce,r={trnhx:"left",vvCQo:a(371),NYzJK:"back"},o=i===a(328)||i===r.trnhx?r[a(377)]:r[a(424)],f=Wd[u][o],m=bm[u]?.[i]??null;return{path:fm(u,i),hairPath:dm(u,i),scaleX:i===a(384)?-1:1,imageUrl:m,imageWidthMm:f[a(392)],imageHeightMm:f[a(407)]}}(function(u,i){const a=kt,r=u();for(;;)try{if(parseInt(a(195))/1+-parseInt(a(145))/2*(parseInt(a(144))/3)+parseInt(a(169))/4*(-parseInt(a(204))/5)+-parseInt(a(173))/6+-parseInt(a(140))/7*(parseInt(a(159))/8)+parseInt(a(162))/9*(parseInt(a(194))/10)+parseInt(a(158))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(E0,735677);const vm=(function(){const u=kt,i={XSSzP:function(r,o){return r-o},MxeIS:function(r,o){return r===o},IsCvv:function(r){return r()},FmwGL:function(r,o){return r+o},AwtAq:function(r,o){return r/o},BuhCk:function(r,o){return r===o},dQnjl:u(128),KtcJZ:function(r,o){return r===o},MkgnP:u(160)};let a=!0;return function(r,o){const f=a?function(){const m=kt,p={CkyBp:function(h,d){return h*d},JWDHt:function(h,d){return i.XSSzP(h,d)},ZLGKl:function(h,d){return h*d},VERDk:function(h,d,g,v,D,b,z,S){return h(d,g,v,D,b,z,S)},EjCRR:function(h,d){return i[kt(142)](h,d)},sfKaV:function(h){return i[kt(178)](h)},aileM:function(h){return i.IsCvv(h)},YiSqQ:function(h,d){return h/d},FMBst:function(h,d){return i[kt(188)](h,d)},ujHAE:function(h,d){return i.AwtAq(h,d)},JlMcT:function(h,d){return h+d}};if(i[m(119)](m(128),i.dQnjl)){if(o)if(i.KtcJZ(i.MkgnP,i.MkgnP)){const h=o[m(149)](r,arguments);return o=null,h}else{_0x5adade[m(208)]();const h=_0x57c43e[m(205)];if(!h)return;const d=_0x1b4d91[m(205)],g=p[m(185)](d,_0x190157.exp(-_0x213cfc.deltaY*_0xc42937)),v=_0x371726(g,_0x3eb211[0],_0x63a2a5[p[m(118)](_0x4e47a1.length,1)]);if(_0xdda4f2[m(147)](p[m(118)](v,d))<1e-6)return;const D=h.getBoundingClientRect(),b=p[m(118)](_0x5d9515.clientX,D[m(166)])/D[m(148)],z=(_0x5ebb64[m(189)]-D[m(174)])/D.height,S=D[m(148)]/D.height,C=_0x199b79,B=p.ZLGKl(C,S),R=p[m(191)](_0x22dcc6,b,z,d,v,B,C,_0x2ca181[m(205)]);_0x42ee16.current=v,_0x401b88[m(205)]=R,_0x5be77b(v),_0x231165(R)}}else if(p.EjCRR(_0x2e8d37[m(146)].length,2)){_0x7b8747.preventDefault(),p[m(154)](_0x1fde22),_0x5b61d3(),p[m(207)](_0x294570),_0x5b733b(),p.aileM(_0x6c4421),_0x3254b5(),p.sfKaV(_0x51a673),_0x209be0.current=null,_0x427bfb[m(205)]=null;const h=_0x12c8d2[m(146)][0],d=_0x2fd3f7.touches[1],g=p[m(132)](p[m(206)](h[m(121)],d.clientX),2),v=p.ujHAE(p[m(164)](h[m(189)],d[m(189)]),2),D=_0x4dd5be.hypot(d[m(121)]-h[m(121)],d.clientY-h[m(189)]);_0x23decf[m(205)]={initialCenter:{x:g,y:v},initialDist:D,initialPan:{..._0x476f97.current},initialZoom:_0x4f6776.current}}}:function(){};return a=!1,f}})(),px=vm(void 0,function(){const u=kt,i={uURJN:"(((.+)+)+)+$"};return px.toString().search(u(201)).toString().constructor(px)[u(202)](i[u(172)])});px();function E0(){const u=["Dg9W","EM9VBq","AhLWB3q","sujRBNO","sxndDNy","De9irKO","BfvSqNa","BxvxtNC","AfnAANm","zw9WCfa","Dg91y2HZDgfYDa","q2T5qNa","wenkzu8","D2Horfm","rM13r0W","y2XPzw50wq","EM9VBuXLDMvS","vKvsrgS","Aw5PDgLHBfPVB20","uLHxBuy","mZGXndm3mhnqz3D4Cq","mti4mJGWngzIwgDqta","zxHW","AgvPz2H0","ywrKrxzLBNrmAxn0zw5LCG","Dg91y2HLBMq","uKfOq1G","kcGOlISPkYKRksSK","C2vHCMnO","Bwf4","ndu1nJeZnxrzsMLcEa","y3vYCMvUDa","rK1cC3q","ywLSzu0","ChjLDMvUDerLzMf1Bhq","r2zgz2C","sefPyu4","sLDeshq","qNvOq2S","u0PPs1C","y2XPzw50wa","twnLr3m","yMP0Bfi","Dg91y2HTB3zL","CgfU","vwXTtw0","BKXouvC","wgLSBNO","CMvTB3zLrxzLBNrmAxn0zw5LCG","C3bSAxq","shryBNG","wwLtCve","vhDRCfe","qLLfreW","wunUzg8","DLzAu0i","vhruDui","wufPyw4","zgvSDgfz","n0j6vwj0zq","Aw5PDgLHBerPC3q","txHLsvm","ywnfAe0","m050zNjiEa","mtq1mteZnerhy2TiDW","Dg91y2HLCW","ywjZ","D2LKDgG","yxbWBhK","rvfuBxy","DMnPvu8","A3vVtgK","BgvUz3rO","C2zlyvy","BuH3DvG","ugTyvKu","vMrWEuy","mZq3nJi1ndfiA2Tdu24","mteWmta0ndbUDuHmtuW","CgPJvfa","D2HLzwW","mtHQv25kz2e","zhDmCNG","sMXny1q","Aw5PDgLHBfbHBG","BgvMDa","CNjttKK","Aw5PDgLHBenLBNrLCG","nfrAr2z1rq","z2v0qM91BMrPBMDdBgLLBNrszwn0","zxrLA3e","DvvssK4","odC0mJC5og1QzKzQBG"];return E0=function(){return u},E0()}function kt(u,i){u=u-118;const a=E0();let r=a[u];if(kt.nnJAuF===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};kt.BAnBxB=o,kt.GSUXXt={},kt.nnJAuF=!0}const f=a[0],m=u+f,p=kt.GSUXXt[m];if(p)r=p;else{const h=function(d){this.qqgbey=d,this.CHWerl=[1,0,0],this.pFXoaB=function(){return"newState"},this.aQewQi="\\w+ *\\(\\) *{\\w+ *",this.HPNbAy=`['|"].+['|"];? *}`};h.prototype.PkXNFX=function(){const d=new RegExp(this.aQewQi+this.HPNbAy),g=d.test(this.pFXoaB.toString())?--this.CHWerl[1]:--this.CHWerl[0];return this.tFgeNK(g)},h.prototype.tFgeNK=function(d){return~d?this.cSNEVf(this.qqgbey):d},h.prototype.cSNEVf=function(d){for(let g=0,v=this.CHWerl.length;g<v;g++)this.CHWerl.push(Math.round(Math.random())),v=this.CHWerl.length;return d(this.CHWerl[0])},new h(kt).PkXNFX(),r=kt.BAnBxB(r),kt.GSUXXt[m]=r}return r}const lx=520;function qd(u,i,a,r,o,f,m){const p=kt,h={MceGs:function(g,v){return g-v},SLWlc:function(g,v){return g*v},kuoLi:function(g,v){return g+v}},d=r/a-1;return{x:h[p(122)](m.x,h.SLWlc(d,h[p(152)](-m.x,u*o))),y:h.MceGs(m.y,h.SLWlc(d,-m.y+i*f))}}function ym(u){const i=kt,a={TwkpQ:function(L){return L()},larJx:function(L){return L()},XCJeO:function(L,M){return L/M},YAian:function(L,M){return L-M},acEhM:function(L,M){return L-M},HAiaN:function(L,M){return L+M},HtXnx:function(L,M){return L*M},tOHFJ:function(L,M){return L-M},YCndo:function(L,M){return L+M},VdpyF:function(L,M){return L!==M},bjtlR:function(L,M){return L-M},YOkSo:function(L,M){return L-M},tNROT:function(L,M){return L/M},RAhCX:function(L,M){return L+M},GfFgg:function(L,M){return L(M)},uTiHR:function(L,M){return L<M},nrfIK:i(180),etekq:function(L,M,j,T){return L(M,j,T)},IBknz:function(L,M){return L<M},RXWmF:function(L,M){return L/M},vciUO:function(L,M){return L/M},vVZSB:function(L,M){return L*M},mHwuX:function(L,M){return L(M)},dTKFX:i(187),kwkNj:function(L,M){return L===M},PtLfM:function(L,M,j,T){return L(M,j,T)},Swhwn:"touchmove",eFcDk:i(199),yLBtY:i(161),BYEDL:function(L,M){return L*M},SJiKW:i(150),UlmMm:function(L,M,j){return L(M,j)},PkXVE:function(L,M,j){return L(M,j)}},{setZoom:r,setPan:o,setZoomLevel:f,ZOOM_LEVELS:m,stageRef:p,endPan:h,endFlowerDrag:d,endMarquee:g,endRotationDrag:v,endScaleDrag:D,endWidthScaleDrag:b,endRadiusDrag:z}=u,S=F.useRef(null),C=F.useRef(u[i(125)]),B=F.useRef(u[i(175)]);F.useEffect(()=>{const L=i;C[L(205)]=u.pan},[u.pan]),a[i(126)](F.useEffect,()=>{const L=i;B[L(205)]=u.zoom},[u[i(175)]]);const R=a[i(155)](F.useRef,u[i(190)]);F.useEffect(()=>{R.current=u.zoomLevel},[u[i(190)]]);const k=F.useRef(null),G=a.GfFgg(F.useRef,null),H=F.useCallback(L=>{const M=i;if(L.touches.length===2){L.preventDefault(),h(),a[M(133)](d),a.larJx(g),a.TwkpQ(v),D(),a[M(133)](b),z(),k[M(205)]=null,G.current=null;const j=L[M(146)][0],T=L[M(146)][1],O=(j[M(121)]+T[M(121)])/2,W=a[M(186)](j.clientY+T[M(189)],2),Y=Math[M(176)](T.clientX-j.clientX,T.clientY-j.clientY);S.current={initialCenter:{x:O,y:W},initialDist:Y,initialPan:{...C.current},initialZoom:B.current}}},[h,d,g,v,D,b,z]),I=F.useCallback(L=>{const M=i;if(L.touches.length===2&&S[M(205)]){L[M(208)]();const j=L.touches[0],T=L.touches[1],O=(j[M(121)]+T[M(121)])/2,W=a[M(135)](j[M(189)],T.clientY)/2,Y=Math.hypot(T[M(121)]-j[M(121)],T[M(189)]-j[M(189)]),N=S[M(205)],q=Y/Math[M(203)](1,N[M(141)]),Z=Se(Number(a[M(131)](N.initialZoom,q).toFixed(3)),m[0],m[m.length-1]),V=N[M(192)],le=O-N.initialCenter.x,xe=a.tOHFJ(W,N[M(168)].y);let de=N.initialPan.x+le,oe=N.initialPan.y+xe;const pe=p.current;if(pe&&a[M(157)](V,Z)){const me=pe.getBoundingClientRect(),Le=a.XCJeO(a[M(123)](N[M(168)].x,me.left),me.width),Xe=a.bjtlR(N.initialCenter.y,me.top)/me.height,Qe=me.width/me.height,Ue=lx,ot=a[M(131)](Ue,Qe),St=a.YOkSo(a.tNROT(Z,V),1)*(-N.initialPan.x+Le*ot),Nt=(Z/V-1)*a[M(200)](-N[M(165)].y,Xe*Ue);de-=St,oe-=Nt}const Ae={x:de,y:oe};B[M(205)]=Z,C.current=Ae,a[M(209)](o,Ae),r(Z)}},[o,r,p,m]),E=F.useCallback(L=>{const M=i;a.uTiHR(L.touches[M(153)],2)&&(S.current=null)},[]),U=.003,P=F.useCallback(L=>{const M=i;if(a.nrfIK!=="lXgqR"){L[M(208)]();const j=p.current;if(!j)return;const T=B.current,O=T*Math[M(196)](-L[M(139)]*U),W=a[M(171)](Se,O,m[0],m[m.length-1]);if(a[M(177)](Math.abs(W-T),1e-6))return;const Y=j[M(170)](),N=a.RXWmF(L[M(121)]-Y.left,Y.width),q=a[M(151)](a.tOHFJ(L[M(189)],Y[M(174)]),Y[M(197)]),Z=Y.width/Y.height,V=lx,le=a.vVZSB(V,Z),xe=qd(N,q,T,W,le,V,C[M(205)]);B.current=W,C[M(205)]=xe,a[M(155)](r,W),a[M(155)](o,xe)}else _0x345260[M(205)]=_0x47d105},[r,o,p,m]);F.useEffect(()=>{const L=i,M=p[L(205)];if(M)return M.addEventListener("touchstart",H,{passive:!1}),M[L(198)](a.Swhwn,I,{passive:!1}),M[L(198)](a.eFcDk,E),M[L(198)](a.yLBtY,P,{passive:!1}),()=>{const j=L;if(a.dTKFX!==j(187)){if(ZaQxiQ.mjCjZ(_0x104a6d[j(146)].length,2)&&_0x2cd2a6[j(205)]){_0x1c4c3.preventDefault();const T=_0x106de7[j(146)][0],O=_0x86bc3c[j(146)][1],W=(T.clientX+O.clientX)/2,Y=ZaQxiQ.TtTuB(ZaQxiQ.fQJaw(T[j(189)],O.clientY),2),N=_0x57dfa2.hypot(ZaQxiQ.nLNQW(O[j(121)],T.clientX),ZaQxiQ[j(127)](O[j(189)],T[j(189)])),q=_0x3fc661[j(205)],Z=N/_0xa948d4.max(1,q.initialDist),V=ZaQxiQ.SUPgl(_0x46db28,_0x664478(ZaQxiQ.eagst(q[j(192)],Z).toFixed(3)),_0x578617[0],_0x3b0ea8[_0x483951.length-1]),le=q[j(192)],xe=ZaQxiQ.nLNQW(W,q.initialCenter.x),de=ZaQxiQ.RveZG(Y,q[j(168)].y);let oe=ZaQxiQ[j(163)](q[j(165)].x,xe),pe=ZaQxiQ[j(167)](q.initialPan.y,de);const Ae=_0x3c4a77.current;if(Ae&&ZaQxiQ.stYlU(le,V)){const Le=Ae[j(170)](),Xe=ZaQxiQ.TtTuB(q.initialCenter.x-Le.left,Le.width),Qe=ZaQxiQ.RveZG(q.initialCenter.y,Le[j(174)])/Le[j(197)],Ue=ZaQxiQ[j(137)](Le.width,Le[j(197)]),ot=_0x4bf547,St=ZaQxiQ.tBuIf(ot,Ue),Nt=ZaQxiQ.tBuIf(V/le-1,-q.initialPan.x+Xe*St),ht=ZaQxiQ[j(181)](ZaQxiQ[j(183)](ZaQxiQ.HjPhX(V,le),1),ZaQxiQ[j(182)](-q[j(165)].y,Qe*ot));oe-=Nt,pe-=ht}const me={x:oe,y:pe};_0xc57642.current=V,_0x296339.current=me,_0xaf6d75(me),ZaQxiQ.BPiKQ(_0x10af5,V)}}else M[j(129)](j(184),H),M.removeEventListener(j(124),I),M[j(129)](j(199),E),M[j(129)]("wheel",P)}},[p,H,I,E,P]);const ne=F.useCallback(L=>{const M=i,j=R.current,T=Se(j+L,0,m[M(153)]-1);if(T===j)return;const O=B[M(205)],W=m[T],Y=p.current;if(!Y){f(T);return}const N=Y.getBoundingClientRect(),q=a[M(193)](N.width,N[M(197)]),Z=lx,V=a[M(134)](Z,q),le=qd(.5,.5,O,W,V,Z,C.current);B[M(205)]=W,R.current=T,C[M(205)]=le,f(T),a[M(209)](o,le)},[f,o,p,m]),J=a.UlmMm(F.useCallback,(L,M)=>{const j=i,T="4|1|3|0|2"[j(130)]("|");let O=0;for(;;){switch(T[O++]){case"0":f(L);continue;case"1":B.current=M;continue;case"2":o({x:0,y:0});continue;case"3":C[j(205)]={x:0,y:0};continue;case"4":R.current=L;continue}break}},[f,o]),_=a.UlmMm(F.useCallback,L=>{const M=i;a[M(120)]===a.SJiKW?k[M(205)]=L:_0x4c7fe8.current=_0x2b086b.zoom},[]),w=a[i(156)](F.useCallback,L=>{const M=i;G[M(205)]=L},[]);return{multiTouchRef:S,touchBgStartRef:k,mouseBgStartRef:G,zoomAtCenter:ne,resetView:J,setTouchBgStart:_,setMouseBgStart:w}}function Pa(u,i){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),r=parseInt(u.slice(3,5),16),o=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(o))return u;const f=1-i;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(r*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function pm(u){const{flower:i,project:a,paletteMap:r}=u,o=F.useRef(null),f=F.useRef(!1),m=F.useRef(null);F.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const p=F.useMemo(()=>[...i.layers||[]].sort((R,k)=>R.order-k.order),[i.layers]),h=i.fabricSquareSize??a.fabricSquareSize,{length:d,width:g}=jt(h),{flowerOuterR:v,centerHitR:D}=F.useMemo(()=>{let R=12,k=1/0;for(const H of p){if(!H.visible)continue;const I=H.scale??1,E=d*I,P=Math.max(0,H.radius-E*.28),ne=P+E;R=Math.max(R,ne),P<k&&(k=P)}isFinite(k)||(k=0);const G=Math.max(k*.9,8);return{flowerOuterR:R,centerHitR:G}},[p,d]),b=(R,k)=>R?.petalOverrides?.find(G=>G.index===k)??null,z="pointer",S=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,C=u.zoneCursorValue??"grab",B=R=>{if(R.stopPropagation(),R.button===0){if(R.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(R)}};return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:R=>{R.stopPropagation(),u.onDoubleClick?.()},style:{cursor:S?C:"move"},"data-testid":`flower-${i.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,v),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),p.map(R=>{if(!R.visible)return null;const G=r.get(R.colorId)?.hex??"#999",H=360/Math.max(1,R.petalCount),I=R.scale??1,E=d*I,P=g*(R.widthScale??1)*I,J=Math.max(0,R.radius-E*.28),_=cx(""),w=cx(""),L=J+E,M=u.isSelected&&u.selectedLayerId===R.id,j=u.isSelected&&(u.selectedPetal?.layerId===R.id||(u.selectedPetals?.some(T=>T.layerId===R.id)??!1));return x.jsxs("g",{children:[Array.from({length:R.petalCount}).map((T,O)=>{const W=b(R,O),N=(W?.petalType??R.petalType)===""?_:w,q=r.get(W?.colorId??R.colorId)?.hex??G,Z=R.offsetAngle+O*H,V=xa(Z),le=Math.cos(V)*J,xe=Math.sin(V)*J,de=u.isSelected&&u.selectedPetal?.layerId===R.id&&u.selectedPetal?.index===O,oe=u.isSelected&&(u.selectedPetals?.some(me=>me.layerId===R.id&&me.index===O)??!1),pe=de||oe,Ae=S?C:"grab";return x.jsxs("g",{transform:`translate(${le} ${xe}) rotate(${Z})`,children:[x.jsx("path",{d:N,transform:`scale(${E} ${P})`,fill:q,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,style:{cursor:Ae},onPointerDown:me=>{if(me.stopPropagation(),me.button!==0)return;const Le=me.shiftKey,Xe=me.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,Le&&u.onTogglePetalSelection){me.preventDefault(),me.stopPropagation(),u.onTogglePetalSelection(R.id,O,!0);return}if(Xe&&u.onTogglePetalSelection){m.current={x:me.clientX,y:me.clientY};const St=R.id,Nt=O;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,u.onTogglePetalSelection?.(St,Nt,!0),navigator.vibrate?.(30)},500)}const Qe=u.isSelected&&u.selectedLayerId!=null,Ue=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||Qe||Ue){u.onBeginDragFromLayerPetal(R.id,O,me);return}u.onBeginDragFromLayerPetal(R.id,O,me)},onPointerMove:me=>{if(o.current&&m.current){const Le=me.clientX-m.current.x,Xe=me.clientY-m.current.y;Math.hypot(Le,Xe)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:me=>{me.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(R.id)}}),R.doublePetal&&(()=>{const me=R.doublePetal,Le=W?.innerSizeReduction??me.innerSizeReduction??2,Xe=h*(I||1);if(Xe<=0)return null;const Ue=Math.max(Xe*.3,Xe-Le)/Xe,ot=N,St=W?.innerColorId??me.innerColorId??W?.colorId??R.colorId,Nt=r.get(St)?.hex??q,ht=E*Ue,nt=P*Ue;return x.jsx("path",{d:ot,transform:`scale(${ht} ${nt})`,fill:Nt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,pointerEvents:"none"})})(),(pe||M||u.isFlowerSelected)&&x.jsx("path",{d:N,transform:`scale(${E} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${R.id}-${O}`)]},O)}),M&&!j&&x.jsx("circle",{r:L,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},R.id)}),u.isFlowerSelected&&x.jsx("circle",{r:v,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const R=i.center,k=Nh(R.size),G=r.get(R.color)?.hex??"#D4A843",H=R.color2?r.get(R.color2)?.hex??"#C0C0C0":"#D4A843",I=Math.max(k,D);switch(R.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:k,fill:G,stroke:Pa(G,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:I,fill:"transparent",style:{cursor:z},onPointerDown:B})]});case"":{const U=k*.42,P=k,ne=k*.12,J=k*.13,_=k*.45,w=H,L=G;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((M,j)=>{const T=j/10*360,O=xa(T),W=Math.cos(O)*P,Y=Math.sin(O)*P,N=-Math.sin(O)*ne,q=Math.cos(O)*ne,Z=Math.cos(O)*U,V=Math.sin(O)*U;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(Z+N).toFixed(2)} ${(V+q).toFixed(2)} L ${W.toFixed(2)} ${Y.toFixed(2)} L ${(Z-N).toFixed(2)} ${(V-q).toFixed(2)} Z`,fill:w,stroke:Pa(w,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:W,cy:Y,r:J,fill:w,stroke:Pa(w,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},j)}),x.jsx("circle",{r:U,fill:w,stroke:Pa(w,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:_,fill:L,stroke:Pa(L,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:I,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}case"":{const E=R.pepCount??12,U=k*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:E}).map((P,ne)=>{const J=ne/E*360,_=xa(J),w=Math.cos(_)*k,L=Math.sin(_)*k;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:w,y2:L,stroke:G,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:w,cy:L,r:Math.max(U,1),fill:G,stroke:Pa(G,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},ne)})}),x.jsx("circle",{r:I,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:D,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:D,fill:"transparent",style:{cursor:z},onPointerDown:B})]}),u.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,v+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function _m(u){const{leaf:i,project:a,paletteMap:r}=u,o=i.fabricSquareSize??a.fabricSquareSize,{length:f,width:m}=jt(o),p=i.scale??1,h=f*p,d=m*(i.widthScale??1)*p,g=cx(i.petalType),v=r.get(i.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":u.cursor??"grab"},"data-testid":`leaf-${i.id}`,onPointerDown:D=>{if(D.stopPropagation(),D.button===0&&!i.locked){if(D.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(D)}},children:[x.jsx("path",{d:g,transform:`scale(${h} ${d})`,fill:v,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const D=i.doublePetal,b=D.innerSizeReduction??2,z=o*(p||1);if(z<=0)return null;const C=Math.max(z*.3,z-b)/z,B=D.innerColorId??i.colorId,R=r.get(B)?.hex??v,k=h*C,G=d*C;return x.jsx("path",{d:g,transform:`scale(${k} ${G})`,fill:R,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),(u.isSelected||u.isLeafGroupHighlighted)&&x.jsx("path",{d:g,transform:`scale(${h} ${d})`,fill:"none",stroke:u.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:u.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${i.id}`)]})}const q0=1350;function Sm(u){const{stencils:i,selectedStencilId:a,selection:r,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:m,stencilDraggingRef:p,onSelectStencil:h}=u,d=F.useRef(null);F.useEffect(()=>()=>{d.current?.()},[]);const g=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return x.jsx(x.Fragment,{children:i.map(v=>{const D=gm(v.variant,v.pose),b=a===v.id,z=an,S=D.imageUrl?1:D.scaleX,C=g||!!v.locked;return x.jsx("g",{transform:`translate(${v.position.x} ${v.position.y}) scale(${z*S} ${z})`,style:{cursor:g?"default":v.locked?"pointer":"move",pointerEvents:g?"none":"auto"},"data-testid":`stencil-${v.id}`,onPointerDown:B=>{if(B.button!==0)return;if(C){h(v.id);return}if(B.stopPropagation(),h(v.id),!o.current)return;p.current=!0;const k=m.current(B),G={...v.position},H=v.id;let I=G.x,E=G.y;const U=ne=>{const J=m.current(ne),_=J.x-k.x,w=J.y-k.y;I=Se(G.x+_,0,q0),E=Se(G.y+w,0,q0),f.current(L=>{const M=(L.stencils??[]).find(j=>j.id===H);M&&(M.position.x=I,M.position.y=E)},!1)},P=()=>{p.current=!1,document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",P),d.current=null,f.current(ne=>{const J=(ne.stencils??[]).find(_=>_.id===H);J&&(J.position.x=I,J.position.y=E)},!0)};document.addEventListener("pointermove",U),document.addEventListener("pointerup",P),d.current=()=>{p.current=!1,document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",P)}},children:D.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:D.imageUrl,x:-D.imageWidthMm/2,y:0,width:D.imageWidthMm,height:D.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-D.imageWidthMm/2,y:0,width:D.imageWidthMm,height:D.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:D.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:D.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&x.jsx("path",{d:D.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},v.id)})})}function wm(u){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:m,dashSyncToken:p,stageRef:h,multiTouchRef:d,clientToSvgPoint:g,togglePetalSelection:v,handleShiftFlowerSelect:D,groupHighlightedFlowerIds:b,beginFlowerDrag:z,beginScaleDrag:S,beginRotationDrag:C,beginWidthScaleDrag:B,beginRadiusDrag:R,clickOriginRef:k,zoneActivatedRef:G,setZoneCursorValue:H,setTouchZoneIndicator:I}=u;return x.jsx(x.Fragment,{children:i.flowers.map(E=>x.jsx(pm,{flower:E,project:i,paletteMap:o,isSelected:a.kind!=="project"&&f===E.id||a.kind==="flowers"&&a.flowerIds.includes(E.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===E.id||a.kind==="flowers"&&a.flowerIds.includes(E.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===E.id?a.petals:null,onSelect:()=>{const U=ua(i,E.id);if(U&&!(a.kind==="group"&&a.groupId===U.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&U.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:U.id});return}r({kind:"flower",flowerId:E.id})},onSelectLayer:U=>r({kind:"layer",flowerId:E.id,layerId:U}),onSelectPetal:(U,P)=>r({kind:"petal",flowerId:E.id,layerId:U,index:P}),onTogglePetalSelection:(U,P,ne)=>v(E.id,U,P,ne),onShiftSelect:()=>D(E.id),isGroupHighlighted:b.has(E.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(U,P,ne)=>{if(d.current)return;const J=ua(i,E.id);if(J&&!(a.kind==="group"&&a.groupId===J.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&J.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:J.id}),z(E.id,ne);return}const _=g(ne),w=ne.pointerType==="touch",L=a.kind==="flower"&&a.flowerId===E.id||a.kind==="layer"&&a.flowerId===E.id||a.kind==="petal"&&a.flowerId===E.id||a.kind==="petals"&&a.flowerId===E.id;if(w&&L){const{zone:j,layerId:T,petalIndex:O}=Ol(_.x,_.y,E,i,a),{length:W}=jt(E.fabricSquareSize??i.fabricSquareSize),Y=$a(j,a.kind,{hitLayerId:T,flower:E,length:W});if(Y!=="none"&&Y!=="center"&&Y!=="move"){I({x:_.x,y:_.y,zone:Y});const N=a.kind==="layer"?"layer":"flower",q=a.kind==="layer"?a.layerId:U;switch(Y){case"rotate":C(N,E.id,ne,{layerId:q});return;case"scale":S(N,E.id,ne,{layerId:q});return;case"width":B(N,E.id,ne,{layerId:q,petalIndex:O});return;case"radius":R(N,E.id,ne,{layerId:q});return}}z(E.id,ne,{layerId:U,index:P});return}const M=G.current;if(k.current={x:_.x,y:_.y},G.current=!1,L&&M){const{zone:j,layerId:T,petalIndex:O}=Ol(_.x,_.y,E,i,a),{length:W}=jt(E.fabricSquareSize??i.fabricSquareSize),Y=$a(j,a.kind,{hitLayerId:T,flower:E,length:W}),N=a.kind==="layer"?"layer":"flower",q=a.kind==="layer"?a.layerId:U;switch(Y){case"rotate":C(N,E.id,ne,{layerId:q});return;case"scale":S(N,E.id,ne,{layerId:q});return;case"width":B(N,E.id,ne,{layerId:q,petalIndex:O});return;case"radius":R(N,E.id,ne,{layerId:q});return;default:H("grabbing"),h.current&&(h.current.style.cursor="grabbing"),z(E.id,ne,{layerId:U,index:P});return}}H("grabbing"),h.current&&(h.current.style.cursor="grabbing"),z(E.id,ne,{layerId:U,index:P})},onDoubleClick:()=>r({kind:"flower",flowerId:E.id}),onPointerDown:U=>{if(d.current||U.button!==0)return;if(U.shiftKey){U.stopPropagation(),D(E.id);return}const P=ua(i,E.id);if(P&&!(a.kind==="group"&&a.groupId===P.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&P.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:P.id}),z(E.id,U);return}a.kind==="flower"&&a.flowerId===E.id||a.kind==="layer"&&a.flowerId===E.id||a.kind==="flowers"&&a.flowerIds.includes(E.id)||r({kind:"flower",flowerId:E.id});const J=g(U);k.current={x:J.x,y:J.y},G.current=!1,H("grabbing"),h.current&&(h.current.style.cursor="grabbing"),z(E.id,U)},dashSyncToken:p},E.id))})}function Cm(u){const{leaves:i,leafGroups:a,project:r,selection:o,paletteMap:f,dashSyncToken:m,leafGroupHighlightedLeafIds:p,zoneCursorValue:h,stageRef:d,applyUpdateRef:g,clientToSvgPointRef:v,leafDraggingRef:D,clickOriginRef:b,zoneActivatedRef:z,setZoneCursorValue:S,onSelectLeaf:C,onShiftSelectLeaf:B}=u,R=F.useRef(null);F.useEffect(()=>()=>{R.current?.()},[]);const k=o.kind==="flower"||o.kind==="layer"||o.kind==="petal"||o.kind==="petals";return x.jsx(x.Fragment,{children:i.map(G=>{if(!G.visible)return null;const H=o.kind==="leaf"&&o.leafId===G.id,I=o.kind==="leaves"&&o.leafIds?.includes(G.id),E=p.has(G.id),U=Y0({leaves:i,leafGroups:a},G.id),P=U?.rotation??0;let ne=G;if(U&&P!==0){const J=ph({leaves:i,leafGroups:a},U.id),_=P*Math.PI/180,w=G.position.x-J.x,L=G.position.y-J.y;ne={...G,position:{x:J.x+w*Math.cos(_)-L*Math.sin(_),y:J.y+w*Math.sin(_)+L*Math.cos(_)},rotation:G.rotation+P}}return x.jsx(_m,{leaf:ne,project:r,paletteMap:f,isSelected:H||I,isLeafGroupHighlighted:E,dashSyncToken:m,cursor:H?h:void 0,onPointerDown:J=>{if(G.locked||k)return;J.stopPropagation();const _=v.current(J),w=H&&z.current;C(G.id),b.current={x:_.x,y:_.y},z.current=!1,S("grabbing"),d.current&&(d.current.style.cursor="grabbing");const L=w?Zd(_.x,_.y,G,r):"move";if(L!=="move"){const M=Xd(L,"/tsumami/");S(M),d.current&&(d.current.style.cursor=M)}if(D.current=!0,L==="rotate"){const M=ne.position,j=G.rotation,T=Math.atan2(_.y-M.y,_.x-M.x)*180/Math.PI;let O=!1;const W=N=>{const q=v.current(N),V=Math.atan2(q.y-M.y,q.x-M.x)*180/Math.PI-T;Math.abs(V)>.5&&(O=!0),g.current(le=>{const xe=(le.leaves??[]).find(de=>de.id===G.id);xe&&(xe.rotation=((j+V)%360+360)%360)},!1)},Y=()=>{R.current=null,D.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Y),O&&g.current(()=>{},!0)};document.addEventListener("pointermove",W),document.addEventListener("pointerup",Y),R.current=()=>{D.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Y)}}else if(L==="scale"){const M=ne.position,j=G.scale??1,T=Math.max(1,Math.hypot(_.x-M.x,_.y-M.y));let O=!1;const W=N=>{const q=v.current(N),V=Math.hypot(q.x-M.x,q.y-M.y)/T;Math.abs(V-1)>.01&&(O=!0),g.current(le=>{const xe=(le.leaves??[]).find(de=>de.id===G.id);xe&&(xe.scale=Se(j*V,.3,3))},!1)},Y=()=>{R.current=null,D.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Y),O&&g.current(()=>{},!0)};document.addEventListener("pointermove",W),document.addEventListener("pointerup",Y),R.current=()=>{D.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Y)}}else if(L==="width"){const M=ne.position,j=G.rotation*Math.PI/180,T=-Math.sin(j),O=Math.cos(j),W=G.widthScale??1,Y=Math.abs((_.x-M.x)*T+(_.y-M.y)*O),N=Math.max(1,Y);let q=!1;const Z=le=>{const xe=v.current(le),oe=Math.abs((xe.x-M.x)*T+(xe.y-M.y)*O)/N;Math.abs(oe-1)>.01&&(q=!0),g.current(pe=>{const Ae=(pe.leaves??[]).find(me=>me.id===G.id);Ae&&(Ae.widthScale=Se(W*oe,.3,3))},!1)},V=()=>{R.current=null,D.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",V),q&&g.current(()=>{},!0)};document.addEventListener("pointermove",Z),document.addEventListener("pointerup",V),R.current=()=>{D.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",V)}}else{const M=_,j=_h({leaves:i,leafGroups:a},G.id),T=new Map;for(const N of j){const q=i.find(Z=>Z.id===N);q&&T.set(N,{...q.position})}let O=!1;const W=N=>{const q=v.current(N),Z=q.x-M.x,V=q.y-M.y;Math.abs(Z)+Math.abs(V)>1&&(O=!0),g.current(le=>{for(const[xe,de]of T){const oe=(le.leaves??[]).find(pe=>pe.id===xe);oe&&(oe.position.x=Se(de.x+Z,0,q0),oe.position.y=Se(de.y+V,0,q0))}},!1)},Y=()=>{R.current=null,D.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Y),O&&g.current(()=>{},!0)};document.addEventListener("pointermove",W),document.addEventListener("pointerup",Y),R.current=()=>{D.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Y)}}},onShiftSelect:()=>B(G.id)},G.id)})})}function jm({rect:u}){return u?x.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Mm({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?x.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const Vi=1350;function zm(u){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,setZoom:m,zoomLevel:p,setZoomLevel:h,ZOOM_LEVELS:d,setPan:g,showGrid:v,setShowGrid:D,setShowHelp:b,stageRef:z,viewBox:S,dashDelay:C,dashSyncToken:B,beginPan:R,updatePan:k,endPan:G,beginMarquee:H,updateMarquee:I,endMarquee:E,marqueeRef:U,marqueeRect:P,beginFlowerDrag:ne,updateFlowerDrag:J,endFlowerDrag:_,scaleDragRef:w,updateScaleDrag:L,endScaleDrag:M,rotationDragRef:j,updateRotationDrag:T,endRotationDrag:O,widthScaleDragRef:W,updateWidthScaleDrag:Y,endWidthScaleDrag:N,radiusDragRef:q,updateRadiusDrag:Z,endRadiusDrag:V,beginScaleDrag:le,beginRotationDrag:xe,beginWidthScaleDrag:de,beginRadiusDrag:oe,togglePetalSelection:pe,clientToSvgPoint:Ae}=u,me=F.useRef(!1),Le=F.useRef(!1),Xe=F.useRef(u.applyUpdate),Qe=F.useRef(Ae);F.useEffect(()=>{Xe.current=u.applyUpdate},[u.applyUpdate]),F.useEffect(()=>{Qe.current=Ae},[Ae]);const[Ue,ot]=F.useState(!1),St=F.useRef(null);F.useEffect(()=>{if(!Ue)return;const se=Ce=>{St.current&&!St.current.contains(Ce.target)&&ot(!1)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[Ue]);const[Nt,ht]=F.useState("grab"),nt=F.useRef(null),At=F.useRef(!0),Kl=5,sa=F.useRef(a.kind);F.useEffect(()=>{a.kind!==sa.current&&(sa.current=a.kind,At.current=!1,nt.current=null)},[a.kind]);const[mt,oa]=F.useState(!1),Gn=F.useRef(!1),[fa,In]=F.useState(null),ti=5,da=10,it=ym({zoom:u.zoom,pan:u.pan,setZoom:m,setPan:g,zoomLevel:p,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:z,endPan:G,endFlowerDrag:_,endMarquee:E,endRotationDrag:O,endScaleDrag:M,endWidthScaleDrag:N,endRadiusDrag:V});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>it.zoomAtCenter(1),disabled:p>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>it.zoomAtCenter(-1),disabled:p<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>D(se=>!se),title:"","aria-label":"","aria-pressed":v,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>it.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:St,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Ue?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>ot(se=>!se),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Ue&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(se=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Jd[se]}),["right","left","back"].map(Ce=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(se,Ce),ot(!1)},"data-testid":`stencil-add-${se}-${Ce}`,children:Vd[Ce]},`${se}-${Ce}`))]},se)),u.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),ot(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:v?"24px 1fr":"1fr",gridTemplateRows:v?"20px 1fr":"1fr"},children:[v&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),v&&(()=>{const[se,,Ce,je]=S.split(/\s+/).map(Number),we=an,ve=Math.max(Ce,je)/we,ke=[10,20,50,100,200,500,1e3].find(We=>ve/We<=15)??1e3,Me=ke<=10?1:ke<=50?5:ke<=100?10:ke<=500?50:100,bt=ke<=10?5:ke/2,tt=Math.floor(se/we/Me)*Me-Me,rt=Math.ceil((se+Ce)/we/Me)*Me+Me,Oe=[];for(let We=tt;We<=rt;We+=Me){const Tt=(We*we-se)/Ce*100;if(Tt<-2||Tt>102)continue;const yn=Math.abs(We),Mt=yn%ke===0,ut=yn%bt===0,Wt=Mt?10:ut?6:3;Oe.push(x.jsx("line",{x1:`${Tt}%`,y1:20-Wt,x2:`${Tt}%`,y2:20,stroke:"#999",strokeWidth:Mt?.8:.4},We)),Mt&&Oe.push(x.jsx("text",{x:`${Tt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:We},`t${We}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Oe})})(),v&&(()=>{const[,se,Ce,je]=S.split(/\s+/).map(Number),we=an,ve=Math.max(Ce,je)/we,ke=[10,20,50,100,200,500,1e3].find(We=>ve/We<=15)??1e3,Me=ke<=10?1:ke<=50?5:ke<=100?10:ke<=500?50:100,bt=ke<=10?5:ke/2,tt=Math.floor(se/we/Me)*Me-Me,rt=Math.ceil((se+je)/we/Me)*Me+Me,Oe=[];for(let We=tt;We<=rt;We+=Me){const Tt=(We*we-se)/je*100;if(Tt<-2||Tt>102)continue;const yn=Math.abs(We),Mt=yn%ke===0,ut=yn%bt===0,Wt=Mt?10:ut?6:3;Oe.push(x.jsx("line",{x1:24-Wt,y1:`${Tt}%`,x2:24,y2:`${Tt}%`,stroke:"#999",strokeWidth:Mt?.8:.4},We)),Mt&&Oe.push(x.jsx("text",{x:12,y:`${Tt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:We},`t${We}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Oe})})(),x.jsxs("svg",{ref:z,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:S,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":C,cursor:mt?"crosshair":"grab"},onDoubleClick:se=>{se.target===se.currentTarget&&(oa(Ce=>!Ce),r({kind:"project"}))},onPointerDown:se=>{if(it.multiTouchRef.current)return;if(se.button===1){Gn.current=!0,z.current&&(z.current.style.cursor="grabbing"),R(se);return}if(se.button!==0)return;const Ce=se.pointerType==="touch";if(Ce&&se.target===se.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const we=i.flowers.find(ve=>ve.id===f);if(we){const ve=Ae(se),{zone:Lt,layerId:ke,petalIndex:Me}=Ol(ve.x,ve.y,we,i,a),{length:bt}=jt(we.fabricSquareSize??i.fabricSquareSize),tt=$a(Lt,a.kind,{hitLayerId:ke,flower:we,length:bt});if(tt!=="none"&&tt!=="center"){In({x:ve.x,y:ve.y,zone:tt});const rt=a.kind==="layer"?"layer":"flower",Oe=a.kind==="layer"?a.layerId:ke;switch(tt){case"rotate":xe(rt,f,se,{layerId:Oe});return;case"scale":le(rt,f,se,{layerId:Oe});return;case"width":de(rt,f,se,{layerId:Oe,petalIndex:Me});return;case"radius":oe(rt,f,se,{layerId:Oe});return;case"move":ne(f,se);return}}}}it.setTouchBgStart({x:se.clientX,y:se.clientY}),R(se);return}if(se.target===se.currentTarget&&f&&At.current&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const we=i.flowers.find(ve=>ve.id===f);if(we){const ve=Ae(se),{zone:Lt,layerId:ke,petalIndex:Me}=Ol(ve.x,ve.y,we,i,a),{length:bt}=jt(we.fabricSquareSize??i.fabricSquareSize),tt=$a(Lt,a.kind,{hitLayerId:ke,flower:we,length:bt});if(tt!=="none"){const rt=a.kind==="layer"?"layer":"flower",Oe=a.kind==="layer"?a.layerId:ke;switch(tt){case"rotate":xe(rt,f,se,{layerId:Oe});return;case"scale":le(rt,f,se,{layerId:Oe});return;case"width":de(rt,f,se,{layerId:Oe,petalIndex:Me});return;case"radius":oe(rt,f,se,{layerId:Oe});return;case"move":ne(f,se);return}}}}if(se.target===se.currentTarget){Ce?(it.setTouchBgStart({x:se.clientX,y:se.clientY}),R(se)):mt?H(se):(it.setMouseBgStart({x:se.clientX,y:se.clientY}),Gn.current=!0,z.current&&(z.current.style.cursor="grabbing"),R(se));return}},onPointerMove:se=>{if(me.current||Le.current)return;if(U.current){I(se);return}if(j.current){T(se);return}if(w.current){L(se);return}if(W.current){Y(se);return}if(q.current){Z(se);return}J(se),k(se);const Ce=!!u.dragRef?.current||!!U.current||!!j.current||!!w.current||!!W.current||!!q.current||Gn.current,je=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Ce&&je){const we=i.flowers.find(ve=>ve.id===f);if(we){const ve=Ae(se);if(nt.current&&!At.current){if(Math.hypot(ve.x-nt.current.x,ve.y-nt.current.y)<Kl){const{zone:Oe}=Ol(ve.x,ve.y,we,i,a);Oe==="center"&&(ht("pointer"),z.current&&(z.current.style.cursor="pointer"));return}At.current=!0,nt.current=null}const{zone:Lt,layerId:ke}=Ol(ve.x,ve.y,we,i,a),{length:Me}=jt(we.fabricSquareSize??i.fabricSquareSize),bt=$a(Lt,a.kind,{hitLayerId:ke,flower:we,length:Me}),tt=Ed(bt,"/tsumami/");ht(tt),z.current&&(z.current.style.cursor=tt)}}if(!Ce&&a.kind==="leaf"&&u.selectedLeafId){const we=u.leaves.find(ve=>ve.id===u.selectedLeafId);if(we){const ve=Ae(se);if(nt.current&&!At.current){if(Math.hypot(ve.x-nt.current.x,ve.y-nt.current.y)<Kl)return;At.current=!0,nt.current=null}const Lt=Zd(ve.x,ve.y,we,i),ke=Xd(Lt,"/tsumami/");ht(ke),z.current&&(z.current.style.cursor=ke)}}},onPointerUp:se=>{if(!me.current&&!Le.current){if(In(null),U.current&&mt&&oa(!1),E(),O(),M(),N(),V(),_(),G(),Gn.current&&(Gn.current=!1,z.current&&(z.current.style.cursor=mt?"crosshair":"grab")),it.touchBgStartRef.current&&se.pointerType==="touch"){const Ce=se.clientX-it.touchBgStartRef.current.x,je=se.clientY-it.touchBgStartRef.current.y;Math.hypot(Ce,je)<da&&r({kind:"project"}),it.setTouchBgStart(null);return}if(it.setTouchBgStart(null),it.mouseBgStartRef.current&&se.pointerType==="mouse"){const Ce=se.clientX-it.mouseBgStartRef.current.x,je=se.clientY-it.mouseBgStartRef.current.y;if(it.setMouseBgStart(null),Math.hypot(Ce,je)<ti){r({kind:"project"});return}}if(it.setMouseBgStart(null),f){const Ce=i.flowers.find(je=>je.id===f);if(Ce){const je=Ae(se);if(nt.current&&Math.hypot(je.x-nt.current.x,je.y-nt.current.y)<Kl){const{zone:tt}=Ol(je.x,je.y,Ce,i,a);tt==="center"&&(ht("pointer"),z.current&&(z.current.style.cursor="pointer"));return}const{zone:we,layerId:ve}=Ol(je.x,je.y,Ce,i,a),{length:Lt}=jt(Ce.fabricSquareSize??i.fabricSquareSize),ke=$a(we,a.kind,{hitLayerId:ve,flower:Ce,length:Lt}),Me=Ed(ke,"/tsumami/");ht(Me),z.current&&(z.current.style.cursor=Me)}}}},onPointerLeave:()=>{E(),O(),M(),N(),V(),_(),G(),Gn.current=!1,it.setTouchBgStart(null),it.setMouseBgStart(null),ht("move"),nt.current=null,At.current=!0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[se,Ce,je,we]=S.split(/\s+/).map(Number),ve=Vi;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:se,y:Ce,width:je,height:we,fill:"white"}),x.jsx("rect",{x:0,y:0,width:ve,height:ve,fill:"black"})]})}),x.jsx("rect",{x:se,y:Ce,width:je,height:we,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:Vi,height:Vi,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:Vi,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:Vi,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),v&&(()=>{const se=an,[Ce,je,we,ve]=S.split(/\s+/).map(Number),Lt=Math.max(we,ve)/se,Me=[10,20,50,100,200,500,1e3].find(ut=>Lt/ut<=15)??1e3,bt=Math.floor(Ce/se/Me)*Me-Me,tt=Math.ceil((Ce+we)/se/Me)*Me+Me,rt=Math.floor(je/se/Me)*Me-Me,Oe=Math.ceil((je+ve)/se/Me)*Me+Me,We=rt*se,kn=Oe*se,Tt=bt*se,yn=tt*se,Mt=[];for(let ut=bt;ut<=tt;ut+=Me){const Wt=ut*se;Mt.push(x.jsx("line",{x1:Wt,y1:We,x2:Wt,y2:kn,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${ut}`))}for(let ut=rt;ut<=Oe;ut+=Me){const Wt=ut*se;Mt.push(x.jsx("line",{x1:Tt,y1:Wt,x2:yn,y2:Wt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${ut}`))}return x.jsx("g",{children:Mt})})(),x.jsx(Sm,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:z,applyUpdateRef:Xe,clientToSvgPointRef:Qe,stencilDraggingRef:me,onSelectStencil:u.onSelectStencil}),x.jsx(wm,{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:Nt,dashSyncToken:B,stageRef:z,multiTouchRef:it.multiTouchRef,clientToSvgPoint:Ae,togglePetalSelection:pe,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:ne,beginScaleDrag:le,beginRotationDrag:xe,beginWidthScaleDrag:de,beginRadiusDrag:oe,clickOriginRef:nt,zoneActivatedRef:At,setZoneCursorValue:ht,setTouchZoneIndicator:In}),x.jsx(Cm,{leaves:u.leaves,leafGroups:u.leafGroups,project:i,selection:a,paletteMap:o,dashSyncToken:B,selectedLeafId:u.selectedLeafId,leafGroupHighlightedLeafIds:u.leafGroupHighlightedLeafIds,zoneCursorValue:Nt,stageRef:z,applyUpdateRef:Xe,clientToSvgPointRef:Qe,leafDraggingRef:Le,clickOriginRef:nt,zoneActivatedRef:At,setZoneCursorValue:ht,onSelectLeaf:u.onSelectLeaf,onShiftSelectLeaf:u.onShiftSelectLeaf}),x.jsx(jm,{rect:P}),x.jsx(Mm,{indicator:fa})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Gd(u,i,a){return Math.min(a,Math.max(i,u))}function Re({value:u,onChange:i,min:a=-1/0,max:r=1/0,step:o,className:f,...m}){const[p,h]=F.useState(null),d=F.useRef(null),g=F.useCallback(b=>{const z=Number(b);isNaN(z)||i(Gd(z,a,r)),h(null)},[i,a,r]),v=F.useCallback(()=>{h(null)},[]),D=F.useCallback(b=>{const z=o??1,C=(Number(p??u)||0)+z*b,B=Gd(C,a,r),R=String(z).includes(".")?String(z).split(".")[1].length:0,k=Number(B.toFixed(R));h(String(k)),i(k)},[p,u,o,a,r,i]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:p??String(u),onChange:b=>h(b.target.value),onFocus:b=>{h(String(u)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{p!==null&&g(p)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),p!==null&&g(p),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),v(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),D(b.key==="ArrowUp"?1:-1))},...m}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),D(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),D(-1)},children:""})]})]})}function nr({title:u,compact:i,children:a}){return x.jsxs("div",{className:i?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),x.jsx("div",{className:"space-y-3",children:a})]})}function Dm({flower:u,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const f=F.useMemo(()=>{const C=[...u.layers||[]].sort((P,ne)=>P.order-ne.order);if(C.length<2)return{mode:"uniform",step:2};const B=C.map(P=>P.scale??1);if(B.every(P=>Math.abs(P-B[0])<.001))return{mode:"uniform",step:2};const k=C[0],G=C[C.length-1],H=(G.order??1)-(k.order??1);if(H<=0)return{mode:"gradual",step:2};const E=((k.scale??1)-(G.scale??1))/H,U=Math.round(E*i*2)/2;return{mode:"gradual",step:Se(U,0,10)}},[u.id]),[m,p]=F.useState(f.mode),[h,d]=F.useState(f.step),[g,v]=F.useState(0);F.useEffect(()=>{p(f.mode),d(f.step),v(0)},[f]);const D=F.useMemo(()=>[...u.layers||[]].sort((C,B)=>C.order-B.order),[u.layers]),b=D[0],z=b?b.order:0,S=F.useMemo(()=>{if(!b)return[];const C=b.scale??1,B=b.radius,R=new Map;for(const P of D){const ne=P.order-z;if(ne===0)R.set(P.id,C);else if(m==="uniform")R.set(P.id,C);else{const J=h/i;R.set(P.id,Se(C-ne*J,.3,3))}}const{length:k}=jt(i),G=D.length,H=70*Math.PI/180,I=new Map;let E=B;I.set(b.id,B);for(let P=1;P<G;P++){const ne=D[P-1],J=R.get(ne.id)??1,_=k*J;let w;if(a===""){const L=G-1-P,M=G>1?L/(G-1)*H:0;w=_*(30/100)*Math.cos(M)}else w=_/3;E=E-w,I.set(D[P].id,Math.max(2,E))}const U=D.map(P=>{const ne=R.get(P.id)??1,J=Math.round((I.get(P.id)??B)*10)/10,_=Math.round(i*ne*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:ne,effFabricSize:_,effRadius:J}});if(U.length>0){const P=U[U.length-1],ne=k*P.effScale,J=Math.floor(ne*.28*10)/10;P.effRadius>J&&(P.effRadius=J)}return U},[D,b,z,m,h,30,i,a]);return F.useEffect(()=>{g!==0&&(!b||S.length===0||r(C=>{const B=C.flowers.find(k=>k.id===u.id);if(!B)return;for(const k of S){const G=B.layers.find(H=>H.id===k.id);G&&(G.scale=Se(k.effScale,.3,3),G.radius=Se(k.effRadius,2,120))}const R=[...B.layers].sort((k,G)=>G.order-k.order);for(let k=1;k<R.length;k++){const G=R[k-1],H=R[k];H.offsetAngle=Vn(G.petalCount,G.offsetAngle,H.petalCount)}}))},[g]),D.length<2?null:x.jsxs(nr,{title:"",children:[x.jsxs(mx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:C=>{p(C.target.value),v(B=>B+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&x.jsxs(mx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(Re,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:C=>{d(C),v(B=>B+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),S.map(C=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:C.name}),x.jsxs("span",{children:[" ",C.effFabricSize,"mm /  ",Math.round(Pi(C.effRadius,C.effScale,i)),"mm"]})]},C.id))]})]})}const Qd="tsumami_recent_colors_v1",Ax=10;function Nm(u){const i=new Set;for(const a of u.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const o of r.petalOverrides)o.colorId&&i.add(o.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function _x(){try{const u=localStorage.getItem(Qd);if(u){const i=JSON.parse(u);if(Array.isArray(i))return i.slice(0,Ax)}}catch{}return[]}function Am(u){try{localStorage.setItem(Qd,JSON.stringify(u.slice(0,Ax)))}catch{}}function Lm(u){const i=_x(),a=[u,...i.filter(r=>r!==u)].slice(0,Ax);Am(a)}function Yn({palette:u,project:i,selectedColorId:a,onChange:r,size:o="md"}){const[f,m]=F.useState(!1),p=F.useRef(null),[h,d]=F.useState(_x);F.useEffect(()=>{if(!f)return;const S=C=>{p.current&&!p.current.contains(C.target)&&m(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[f]);const g=F.useMemo(()=>Nm(i),[i]),v=F.useMemo(()=>{const S=new Set;S.add(a);for(const C of g)S.add(C);for(const C of h)S.add(C);return u.filter(C=>S.has(C.id))},[u,a,g,h]),D=F.useCallback(S=>{Lm(S),d(_x()),r(S)},[r]),b=o==="sm"?"h-4 w-4":"h-5 w-5",z=f?u:v;return x.jsx("div",{ref:p,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[z.map(S=>x.jsx("button",{className:`${b} rounded border-2 ${a===S.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>D(S.id)},S.id)),u.length>v.length&&x.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(S=>!S),title:f?"":"","aria-label":f?"":"",children:x.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Tm({project:u,applyUpdate:i,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(r=>{const o=a.layers.every(f=>f.petalType===r);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const m=f.flowers.find(p=>p.id===a.id);if(m)for(const p of m.layers)p.petalType=r}),children:r},r)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Kd.map(r=>{const o=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==r&&i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;m.placementMode=r;const p=m.fabricSquareSize??f.fabricSquareSize;r===""?m.baseDiameter=Qi(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=f.baseDiameter),Lh(m.layers,p,r,m.flowerDiameter)},!0)},children:r},r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(Re,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.baseDiameter=r)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[Qi(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(o=>{const f=o.flowers.find(h=>h.id===a.id);if(!f)return;const m=ei(r);for(const h of f.layers)h.petalCount=r,h.widthScale=m;const p=[...f.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<p.length;h++)p[h].offsetAngle=Vn(p[h-1].petalCount,p[h-1].offsetAngle,p[h].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Re,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(o=>{const f=o.flowers.find(p=>p.id===a.id);if(!f)return;f.flowerDiameter=r,f.placementMode===""&&(f.baseDiameter=Qi(r));const m=[...f.layers].sort((p,h)=>p.order-h.order);K0(m,f.fabricSquareSize??o.fabricSquareSize,r);for(const p of m){const h=f.layers.find(d=>d.id===p.id);h&&(h.radius=p.radius,h.scale=p.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.widthScale=r})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.rotation=r)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.colorId=r})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)if(r.target.checked){if(!m.doublePetal){const p=m._doublePetalCache;m.doublePetal=p??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(p=>p.doublePetal.innerSizeReduction))],o=r.length===1?r[0]:null,f=[...new Set(a.layers.map(p=>p.doublePetal.innerColorId??p.colorId))],m=f.length===1?f[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:p=>i(h=>{const d=h.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(g.doublePetal.innerSizeReduction=Se(p,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:m??"",onChange:p=>i(h=>{const d=h.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(p===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=p)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:kh.map(r=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.type=r,r===""&&!f.center.pepCount&&(f.center.pepCount=12),r===""&&!f.center.color2&&(f.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:r},r))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.size=r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color2=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.pepCount=r)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Dm,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function Bm({project:u,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:m}){const p=a,h=[...new Set(p.flatMap(v=>v.layers.map(D=>D.petalType)))],d=h.length===1?h[0]:null,g=v=>{i(D=>{for(const b of p){const z=D.flowers.find(S=>S.id===b.id);z&&v(z)}},!0)};return x.jsxs(nr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[p.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(v=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:v.hex},title:v.name,onClick:()=>g(D=>{for(const b of D.layers)b.colorId=v.id})},v.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:hl.map(v=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(D=>{for(const b of D.layers)b.petalType=v}),children:v},v))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Re,{min:5,max:24,value:p[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:v=>{const D=ei(v);g(b=>{for(const S of b.layers)S.petalCount=v,S.widthScale=D;const z=[...b.layers].sort((S,C)=>C.order-S.order);for(let S=1;S<z.length;S++)z[S].offsetAngle=Vn(z[S-1].petalCount,z[S-1].offsetAngle,z[S].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:p.map(v=>x.jsxs("div",{children:[v.name," (",v.layers.length,")"]},v.id))}),(()=>{const v=p.map(C=>ua(u,C.id)),D=p.filter(C=>!ua(u,C.id)).map(C=>C.id),b=[...new Set(v.filter(Boolean).map(C=>C.id))],z=D.length===p.length,S=b.length===1&&v.every(C=>C!=null);return x.jsxs(x.Fragment,{children:[z&&p.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(p.map(C=>C.id)),children:""}),S&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&D.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],D),children:[" (+",D.length,")"]}),b.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(b,D),children:[" (",b.length,"",D.length>0?` +${D.length}`:"",")"]})]})})()]})}function Em({project:u,applyUpdate:i,selectedFlowers:a,groups:r,groupId:o,onUngroupFlowers:f}){const m=r.find(v=>v.id===o);if(!m)return null;const p=a,h=[...new Set(p.flatMap(v=>v.layers.map(D=>D.petalType)))],d=h.length===1?h[0]:null,g=v=>{i(D=>{for(const b of p){const z=D.flowers.find(S=>S.id===b.id);z&&v(z)}},!0)};return x.jsxs(nr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:m.name,onChange:v=>i(D=>{const b=(D.groups??[]).find(z=>z.id===m.id);b&&(b.name=v.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[p.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(v=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:v.hex},title:v.name,onClick:()=>g(D=>{for(const b of D.layers)b.colorId=v.id})},v.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:hl.map(v=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(D=>{for(const b of D.layers)b.petalType=v}),children:v},v))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Re,{min:5,max:24,value:p[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:v=>{const D=ei(v);g(b=>{for(const S of b.layers)S.petalCount=v,S.widthScale=D;const z=[...b.layers].sort((S,C)=>C.order-S.order);for(let S=1;S<z.length;S++)z[S].offsetAngle=Vn(z[S-1].petalCount,z[S-1].offsetAngle,z[S].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:p.map(v=>x.jsxs("div",{children:[v.name," (",v.layers.length,")"]},v.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(m.id),children:""})]})}function qm({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);p&&(p.name=o.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(o=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);p&&(p.petalType=o)}),children:o},o))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:5,max:24,value:r.petalCount,onChange:o=>{i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);if(p){p.petalCount=o,p.widthScale=ei(o);const h=[...m.layers].sort((d,g)=>g.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=Vn(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Re,{min:1,max:200,step:.5,value:Math.round(Pi(r.radius,r.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);p&&(p.radius=Se(Ah(o,p.scale??1,m.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Re,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(r.scale??1)*10)/10,onChange:o=>i(f=>{const m=f.flowers.find(v=>v.id===a.id);if(!m)return;const p=m.layers.find(v=>v.id===r.id);if(!p)return;const h=m.fabricSquareSize??f.fabricSquareSize;p.scale=Se(Math.round(o/h*100)/100,.3,3);const d=[...m.layers].sort((v,D)=>v.order-D.order),g=d.findIndex(v=>v.id===p.id);if(g>=0)for(let v=g-1;v>=0;v--){const D=d[v],b=d[v+1],S=jt(h).length*(b.scale??1)/3;D.radius=Math.round((b.radius+S)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);p&&(p.scale=o)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);p&&(p.widthScale=o)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{value:Number(r.offsetAngle??0).toFixed(1),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);p&&(p.offsetAngle=o)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:r.colorId,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);p&&(p.colorId=o)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);if(p)if(o.target.checked){const h=p._doublePetalCache;p.doublePetal=h??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);p?.doublePetal&&(p.doublePetal.innerSizeReduction=Se(o,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);p?.doublePetal&&(o===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=o)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);p&&(p.visible=o.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===r.id);p&&(p.locked=o.target.checked)})}),""]})]})]})]})}function Gm({project:u,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const o=r,f=o.map(C=>{const B=a.layers.find(R=>R.id===C.layerId);return{...C,layer:B}}).filter(C=>C.layer!=null),m=(C,B)=>{const R=a.layers.find(G=>G.id===C);return R?(R?.petalOverrides?.find(G=>G.index===B)??null)?.colorId??R.colorId:null},p=(C,B)=>{const R=a.layers.find(G=>G.id===C);return R?(R?.petalOverrides?.find(G=>G.index===B)??null)?.petalType??R.petalType:null},h=f.map(C=>m(C.layerId,C.index)),d=f.map(C=>p(C.layerId,C.index)),g=h.length>0&&h.every(C=>C===h[0]),D=d.length>0&&d.every(C=>C===d[0])?d[0]:null,b=C=>{i(B=>{const R=B.flowers.find(k=>k.id===a.id);if(R)for(const k of o){const G=R.layers.find(I=>I.id===k.layerId);if(!G)continue;G.petalOverrides||(G.petalOverrides=[]);const H=G.petalOverrides.find(I=>I.index===k.index);if(H)C.colorId!==void 0&&(C.colorId===G.colorId?delete H.colorId:H.colorId=C.colorId),C.petalType!==void 0&&(C.petalType===G.petalType?delete H.petalType:H.petalType=C.petalType),!H.colorId&&!H.petalType&&(G.petalOverrides=G.petalOverrides.filter(I=>I.index!==k.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0));else{const I={index:k.index};C.colorId!==void 0&&C.colorId!==G.colorId&&(I.colorId=C.colorId),C.petalType!==void 0&&C.petalType!==G.petalType&&(I.petalType=C.petalType),(I.colorId!==void 0||I.petalType!==void 0)&&G.petalOverrides.push(I)}}},!0)},z=()=>{i(C=>{const B=C.flowers.find(R=>R.id===a.id);if(B)for(const R of o){const k=B.layers.find(G=>G.id===R.layerId);!k||!k.petalOverrides||(k.petalOverrides=k.petalOverrides.filter(G=>G.index!==R.index),k.petalOverrides.length===0&&(k.petalOverrides=void 0))}},!0)},S=f.some(C=>C.layer?.petalOverrides?.find(B=>B.index===C.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",S&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(C=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${g&&h[0]===C.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:C.hex},title:C.name,"aria-label":`: ${C.name}`,onClick:()=>b({colorId:C.id})},C.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(C=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${D===C?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:C}),children:C},C))})]}),S&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:z,children:""})]})]})}function km({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:o}){const f=r?.petalOverrides?.find(v=>v.index===o)??null,m=f?.colorId??r.colorId,p=f?.petalType??r.petalType,h=f!=null,d=v=>{i(D=>{const b=D.flowers.find(C=>C.id===a.id);if(!b)return;const z=b.layers.find(C=>C.id===r.id);if(!z)return;z.petalOverrides||(z.petalOverrides=[]);const S=z.petalOverrides.find(C=>C.index===o);if(S)v.colorId!==void 0&&(S.colorId=v.colorId),v.petalType!==void 0&&(S.petalType=v.petalType),v.innerColorId!==void 0&&(S.innerColorId=v.innerColorId),v.innerSizeReduction!==void 0&&(S.innerSizeReduction=v.innerSizeReduction),S.colorId!==void 0||S.petalType!==void 0||S.innerColorId!==void 0||S.innerSizeReduction!==void 0?(S.colorId===void 0&&delete S.colorId,S.petalType===void 0&&delete S.petalType,S.innerColorId===void 0&&delete S.innerColorId,S.innerSizeReduction===void 0&&delete S.innerSizeReduction):(z.petalOverrides=z.petalOverrides.filter(B=>B.index!==o),z.petalOverrides.length===0&&(z.petalOverrides=void 0));else{const C={index:o};v.colorId!==void 0&&(C.colorId=v.colorId),v.petalType!==void 0&&(C.petalType=v.petalType),v.innerColorId!==void 0&&(C.innerColorId=v.innerColorId),v.innerSizeReduction!==void 0&&(C.innerSizeReduction=v.innerSizeReduction),(C.colorId!==void 0||C.petalType!==void 0||C.innerColorId!==void 0||C.innerSizeReduction!==void 0)&&z.petalOverrides.push(C)}},!0)},g=()=>{i(v=>{const D=v.flowers.find(z=>z.id===a.id);if(!D)return;const b=D.layers.find(z=>z.id===r.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(z=>z.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",o+1,h&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:m,onChange:v=>{v===r.colorId?d({colorId:void 0}):d({colorId:v})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(v=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{v===r.petalType?d({petalType:void 0}):d({petalType:v})},children:v},v))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:v=>i(D=>{const b=D.flowers.find(S=>S.id===a.id);if(!b)return;const z=b.layers.find(S=>S.id===r.id);if(z)if(v.target.checked){const S=z._doublePetalCache;z.doublePetal=S??{innerSizeReduction:2},delete z._doublePetalCache}else z.doublePetal&&(z._doublePetalCache={...z.doublePetal}),delete z.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const v=r.doublePetal,D=f?.innerSizeReduction??v.innerSizeReduction,b=f?.innerColorId??v.innerColorId??m;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(Re,{min:1,max:30,step:1,value:D,onChange:z=>{const S=Se(z,1,30);S===v.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:S})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:b,size:"sm",onChange:z=>{const S=v.innerColorId??r.colorId;d(z===S?{innerColorId:void 0}:{innerColorId:z})}})]})]})})(),h&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:g,children:""})]})]})}function Rm({project:u,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const o=a,f=m=>{i(p=>{const h=(p.stencils??[]).find(d=>d.id===o.id);h&&Object.assign(h,m)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:m=>f({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>x.jsx("option",{value:m,children:Jd[m]},m))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:m=>f({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>x.jsx("option",{value:m,children:Vd[m]},m))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:m=>f({locked:m.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Om({project:u,applyUpdate:i,selectedLeaf:a,leafGroups:r,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:m}){const p=a,h=g=>{i(v=>{const D=(v.leaves??[]).find(b=>b.id===p.id);D&&g(D)},!0)},d=Y0(u,p.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:p.name,onChange:g=>h(v=>{v.name=g.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(g=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p.petalType===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(v=>{v.petalType=g}),children:g},g))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:p.colorId,onChange:g=>h(v=>{v.colorId=g})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Re,{min:3,max:80,step:.5,value:Math.round((p.fabricSquareSize??u.fabricSquareSize)*(p.scale??1)*10)/10,onChange:g=>h(v=>{const D=v.fabricSquareSize??u.fabricSquareSize;v.scale=Se(Math.round(g/D*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:.4,max:2.5,step:.05,value:Number(p.scale??1).toFixed(2),onChange:g=>h(v=>{v.scale=g})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:.5,max:1.8,step:.05,value:Number(p.widthScale??1).toFixed(2),onChange:g=>h(v=>{v.widthScale=g})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Re,{value:Number(p.rotation).toFixed(1),onChange:g=>h(v=>{v.rotation=g})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.doublePetal,onChange:g=>h(v=>{if(g.target.checked){const D=v._doublePetalCache;v.doublePetal=D??{innerSizeReduction:2},delete v._doublePetalCache}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),p.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{min:1,max:30,step:1,value:p.doublePetal.innerSizeReduction,onChange:g=>h(v=>{v.doublePetal&&(v.doublePetal.innerSizeReduction=Se(g,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:p.doublePetal.innerColorId??p.colorId,onChange:g=>h(v=>{v.doublePetal&&(g===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=g)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.visible,onChange:g=>h(v=>{v.visible=g.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.locked,onChange:g=>h(v=>{v.locked=g.target.checked})}),""]})]}),d?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(p.id),children:""})]}):r.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:g=>{g.target.value&&f(p.id,g.target.value)},children:[x.jsx("option",{value:"",children:"..."}),r.map(g=>x.jsx("option",{value:g.id,children:g.name},g.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(p.id),children:""})]})]})}function Hm({project:u,applyUpdate:i,leafIds:a,onGroupLeaves:r}){const o=(u.leaves??[]).filter(f=>a.includes(f.id));return o.length===0?null:x.jsxs(nr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[o.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:"",onChange:f=>i(m=>{for(const p of a){const h=(m.leaves??[]).find(d=>d.id===p);h&&(h.colorId=f)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(f=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(m=>{for(const p of a){const h=(m.leaves??[]).find(d=>d.id===p);h&&(h.petalType=f)}},!0),children:f},f))}),a.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""})]})}function Ym({project:u,applyUpdate:i,selectedLeafGroup:a,onUngroupLeaves:r}){const o=a,f=(u.leaves??[]).filter(m=>o.leafIds.includes(m.id));return x.jsxs(nr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:m=>i(p=>{const h=(p.leafGroups??[]).find(d=>d.id===o.id);h&&(h.name=m.target.value)})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Re,{value:Number(o.rotation).toFixed(1),onChange:m=>i(p=>{const h=(p.leafGroups??[]).find(d=>d.id===o.id);h&&(h.rotation=m)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:m=>i(p=>{const h=(p.leafGroups??[]).find(d=>d.id===o.id);h&&(m.target.value?h.linkedFlowerGroupId=m.target.value:delete h.linkedFlowerGroupId)},!0),children:[x.jsx("option",{value:"",children:""}),(u.groups??[]).map(m=>x.jsx("option",{value:m.id,children:m.name},m.id))]})]}),x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),x.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(m=>x.jsx("div",{children:m.name},m.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>r(o.id),children:""})]})}function Km(u){const{project:i,selection:a,applyUpdate:r,selectedFlower:o,selectedFlowers:f,selectedLayer:m,selectedPetalIndex:p,selectedPetals:h}=u;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:d=>r(g=>g.title=d.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{value:i.fabricSquareSize,min:5,max:60,onChange:d=>r(g=>g.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{value:i.baseDiameter,min:10,max:100,onChange:d=>r(g=>g.baseDiameter=d),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Yl(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",Yl(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:d=>r(g=>g.notes=d.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(d=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&o&&x.jsx(Tm,{project:i,applyUpdate:r,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&x.jsx(Bm,{project:i,applyUpdate:r,selectedFlowers:f,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&f.length>0&&x.jsx(Em,{project:i,applyUpdate:r,selectedFlowers:f,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers}),a.kind==="layer"&&o&&m&&x.jsx(qm,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:m}),a.kind==="petals"&&o&&h.length>0&&x.jsx(Gm,{project:i,applyUpdate:r,selectedFlower:o,selectedPetals:h}),a.kind==="petal"&&o&&m&&p!==null&&x.jsx(km,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:m,selectedPetalIndex:p}),a.kind==="stencil"&&u.selectedStencil&&x.jsx(Rm,{project:i,applyUpdate:r,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&x.jsx(Om,{project:i,applyUpdate:r,selectedLeaf:u.selectedLeaf,leafGroups:u.leafGroups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Hm,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves}),a.kind==="leafGroup"&&u.selectedLeafGroup&&x.jsx(Ym,{project:i,applyUpdate:r,selectedLeafGroup:u.selectedLeafGroup,onUngroupLeaves:u.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Im(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Yl(u.baseDiameter,u.fabricSquareSize,i).diameter:$i(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function Um(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Mh(u.flowerDiameter,u.baseDiameter,i):jh(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function Zm({palette:u,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:o}){const f=h=>{a(d=>{const g={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(g.baseDiameter=30,g.fabricSquareSize=20,g.layerCount=4,g.petalCount=12):(g.fabricSquareSize=20,g.layerCount=1,g.petalCount=6)),g.flowerDiameter=Im(g),g})},m=h=>{a(d=>{const g={...d,flowerDiameter:h};return g.fabricSquareSize=Um(g),g})},p=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&p.push("");const h=zh(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>h&&p.push(`${h}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Kd.map(h=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:h}),children:h},h))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:h=>f({fabricSquareSize:h})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:h=>f({layerCount:h})})]})]}),i.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:h=>f({baseDiameter:h})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:m})]})]}),p.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:p.map((h,d)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(h=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||u[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:hl.map(h=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),i.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:h=>f({sizeStepMm:h})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}(function(u,i){const a=gn,r=u();for(;;)try{if(-parseInt(a(189))/1+-parseInt(a(191))/2*(parseInt(a(131))/3)+-parseInt(a(190))/4*(-parseInt(a(129))/5)+-parseInt(a(160))/6+parseInt(a(162))/7+parseInt(a(169))/8+parseInt(a(133))/9*(-parseInt(a(143))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(G0,217398);const Xm=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),Sx=Xm(void 0,function(){const u=gn,i={vOovD:u(195)};return Sx[u(193)]().search(i.vOovD).toString().constructor(Sx).search("(((.+)+)+)+$")});Sx();const Pd="tsumami-panel-widths",Fd={left:25,right:25},wx=15,Cx=15,er=30;function G0(){const u=["ywrKrxzLBNrmAxn0zw5LCG","Cg9PBNrLCNvW","y2HHBMDL","CxnhvNi","wKDSENi","BMH3Bfa","wg9zBgy","uKvIuNe","s3j4CLe","EvLYqxy","Cg9PBNrLCM1VDMu","yM9KEq","BNvTyMvY","mJiYotq3CNr3sfDj","ne9XturerG","mte2C0nsAgLk","D3vlyvK","Dg9tDhjPBMC","Bwf0y2HnzwrPyq","kcGOlISPkYKRksSK","z2v0qM91BMrPBMDdBgLLBNrszwn0","CMvTB3zLrxzLBNrmAxn0zw5LCG","CMLNAhq","Bwf4","mtqXmtqXnxvhCwr4sG","sfvZsgy","nJyWmhn0Bgvvvq","uK9mr2K","mtqWotrgCgLmBg0","y3vYC29Y","su1jqwq","C2vHCMnO","DxnLCLnLBgvJDa","z2Xythe","y29SlxjLC2L6zq","D2LKDgG","BwLU","tfzKs3O","odGWvM9zwMjY","Dw5KzwzPBMvK","BLzAwNO","BgvMDa","y3vYCMvUDa","z1joy2C","CgfYC2u","ChjLDMvUDerLzMf1Bhq","shHdtfO","DwTdqKq","EenpEK4","CM1uvuu","ELftAwm","q2fZuey","qK9or08","C3rHCNrxAwr0Ahm","Ag9gueG","odu0ndbWtwT5wgq","CM91BMq","mtaYodK3ovj1A1HYza","DNLPshG","C3rHCNry","kg1PBI13Awr0AdOGnZy4ChGP","z2v0sxrLBq","txjpvgK","nhWZFdj8nxWWFde","mJmYntCWnevzyKv0Ca","C2v0sxrLBq","y29UC3rYDwn0B3i","tKfyA0G","C3r5Bgu","u0fdtfm","qvbJrgi"];return G0=function(){return u},G0()}function Wm(){const u=gn,i={zQSic:function(a,r){return a>=r},glXLq:function(a,r){return a>=r},ZGlzr:function(a,r){return a-r},RSbKJ:"xpQOj",ROLGi:function(a,r){return a===r},WVSfY:u(188),BqxWo:function(a,r){return a>=r},jrClB:function(a,r){return a-r}};try{const a=localStorage[u(166)](Pd);if(a)if(i.RSbKJ!=="xpQOj"){const r=_0x5ed11c.getItem(_0x2ae4dc);if(r){const o=_0x4a1f26[u(149)](r);if(typeof o.left===u(188)&&typeof o.right=="number"&&i[u(155)](o.left,_0x281a98)&&o[u(198)]>=_0x2333b5&&i.glXLq(i.ZGlzr(i.ZGlzr(100,o[u(146)]),o.right),_0x5a6d03))return o}}else{const r=JSON.parse(a);if(typeof r[u(146)]===u(188)&&i[u(132)](typeof r[u(198)],i.WVSfY)&&i[u(138)](r.left,wx)&&i.BqxWo(r.right,Cx)&&i[u(155)](i[u(180)](i.jrClB(100,r[u(146)]),r.right),er))return r}}catch{}return Fd}function gn(u,i){u=u-129;const a=G0();let r=a[u];if(gn.bEWzRu===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};gn.PinzQm=o,gn.sbBNue={},gn.bEWzRu=!0}const f=a[0],m=u+f,p=gn.sbBNue[m];if(p)r=p;else{const h=function(d){this.BTKXmk=d,this.fUCdho=[1,0,0],this.fdAFWb=function(){return"newState"},this.VvvEmb="\\w+ *\\(\\) *{\\w+ *",this.bISLBG=`['|"].+['|"];? *}`};h.prototype.TAZElF=function(){const d=new RegExp(this.VvvEmb+this.bISLBG),g=d.test(this.fdAFWb.toString())?--this.fUCdho[1]:--this.fUCdho[0];return this.OISVsL(g)},h.prototype.OISVsL=function(d){return~d?this.EkpSsN(this.BTKXmk):d},h.prototype.EkpSsN=function(d){for(let g=0,v=this.fUCdho.length;g<v;g++)this.fUCdho.push(Math.round(Math.random())),v=this.fUCdho.length;return d(this.fUCdho[0])},new h(gn).TAZElF(),r=gn.PinzQm(r),gn.sbBNue[m]=r}return r}function kd(u,i){const a=gn,r={QOEDJ:function(p,h){return p-h},qsGVr:function(p,h){return p-h},mgKSc:function(p,h){return p<h},sKwVF:function(p,h){return p-h},jIQqt:function(p,h){return p/h},SACLS:function(p,h){return p*h}};let o=Math[a(199)](wx,u),f=Math[a(199)](Cx,i);const m=r.QOEDJ(r[a(179)](100,o),f);if(r.mgKSc(m,er)){const p=r.sKwVF(er,m);o-=p/2,f-=r.jIQqt(p,2),o=Math.max(wx,o),f=Math.max(Cx,f)}return{left:r.jIQqt(Math.round(r[a(174)](o,100)),100),right:Math[a(161)](f*100)/100}}function Jm(){const u=gn,i={iyNkT:function(z,S){return z+S},KrxrQ:function(z,S){return z-S},dJYbm:function(z,S,C){return z(S,C)},RdCIt:function(z,S){return z===S},IMIAd:"cqKIP",yYrAv:u(186),uHePQ:u(188),xCOzN:u(152),CasPF:function(z,S){return z(S)},lkYfo:u(139),rmTUE:"none",nhwlP:"pointerup",cqfSf:u(195),NAXkH:"BWKnQ",gRNcg:"tdkzS",BONGO:function(z,S){return z(S)},NtMyh:function(z,S){return z(S)},ZJNou:function(z,S,C){return z(S,C)},VtIFz:function(z,S){return z(S)},DoZWG:function(z,S,C){return z(S,C)},MrOTi:function(z,S,C){return z(S,C)}},[a,r]=i[u(157)](F.useState,Wm),o=i.CasPF(F.useRef,null),f=i[u(157)](F.useRef,null),[m,p]=i.NtMyh(F.useState,!1),[h,d]=F.useState(()=>typeof window!==u(144)?window.matchMedia("(min-width: 768px)").matches:!0);F.useEffect(()=>{const z=u,S=window[z(194)](z(165)),C=B=>d(B.matches);return S.addEventListener(z(178),C),()=>S.removeEventListener("change",C)},[]),i.ZJNou(F.useEffect,()=>{const z=u;localStorage[z(170)](Pd,JSON.stringify(a))},[a]);const g=i.VtIFz(F.useRef,a);i.DoZWG(F.useEffect,()=>{const z=u;if(i.RdCIt("cqKIP",i[z(135)]))g[z(147)]=a;else{const S=i.iyNkT(_0x50c52a.startWidths.left,_0x594113),C=i.KrxrQ(i[z(184)](100,_0x451e9e.startWidths[z(198)]),_0x15aff3);_0x534cdd(i.dJYbm(_0x54d93b,_0x172005[z(141)](S,C),_0x476d44[z(158)][z(198)]))}},[a]);const v=F.useCallback((z,S)=>{const C=u,B={wuKaY:function(H,I){return H===I},vyiHx:i.uHePQ,XoYlf:function(H,I){return H>=I},REbRq:function(H,I){return H*I},XeTNe:function(H,I){return H===I},GQNzE:"left",nVZZz:i[C(153)],LVdKz:function(H,I){return H-I},APcDb:function(H,I){return H(I)},hoFPH:"pointerup"};S[C(150)]();const R=o[C(147)];if(!R)return;f[C(147)]={side:z,startX:S.clientX,startWidths:{...g.current}},i[C(156)](p,!0),document[C(187)].style[C(134)]=i.lkYfo,document[C(187)][C(173)][C(137)]=i[C(154)];const k=H=>{const I=C,E=f[I(147)];if(!E)return;const U=R[I(196)]()[I(140)];if(U===0)return;const P=H.clientX-E[I(164)],ne=B[I(183)](P/U,100);if(B.XeTNe(E.side,B.GQNzE)){const J=E.startWidths[I(146)]+ne,_=100-E[I(158)].right-er;r(kd(Math[I(141)](J,_),E[I(158)].right))}else if(B[I(145)]===I(130)){const J=_0x243247[I(149)](_0x2a836a);if(typeof J.left=="number"&&eYMdLG[I(192)](typeof J.right,eYMdLG[I(163)])&&J.left>=_0x12db04&&eYMdLG[I(182)](J[I(198)],_0x5370cc)&&100-J[I(146)]-J.right>=_0x5f021a)return J}else{const J=B.LVdKz(E.startWidths.right,ne),_=B[I(142)](B.LVdKz(100,E.startWidths[I(146)]),er);r(kd(E.startWidths.left,Math.min(J,_)))}},G=()=>{const H=C,I="1|0|2|4|5|3".split("|");let E=0;for(;;){switch(I[E++]){case"0":B[H(175)](p,!1);continue;case"1":f.current=null;continue;case"2":document[H(187)][H(173)][H(134)]="";continue;case"3":window[H(197)](B[H(159)],G);continue;case"4":document[H(187)].style.userSelect="";continue;case"5":window[H(197)]("pointermove",k);continue}break}};window.addEventListener("pointermove",k),window[C(176)](i[C(181)],G),D.current=()=>{const H=C,I=H(168).split("|");let E=0;for(;;){switch(I[E++]){case"0":document.body.style.cursor="";continue;case"1":document[H(187)].style.userSelect="";continue;case"2":f.current=null;continue;case"3":window[H(197)](H(177),G);continue;case"4":window.removeEventListener(i[H(185)],k);continue;case"5":p(!1);continue}break}}},[]),D=F.useRef(null);F.useEffect(()=>{const z=u;return i.cqfSf,i[z(172)]===i[z(148)]?_0x4461a2.toString()[z(136)](MonDXa.HxCLZ)[z(193)]()[z(171)](_0x56694e).search(MonDXa[z(151)]):()=>{D.current?.()}},[]);const b=i[u(167)](F.useCallback,()=>{i.BONGO(r,Fd)},[]);return{widths:a,containerRef:o,onDividerPointerDown:v,onDividerDoubleClick:b,isDragging:m,isDesktop:h}}function Rd({side:u,onPointerDown:i,onDoubleClick:a,isDragging:r}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>i(u,o),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(u,i){const a=vn,r=u();for(;;)try{if(parseInt(a(553))/1*(parseInt(a(580))/2)+parseInt(a(529))/3*(parseInt(a(524))/4)+-parseInt(a(453))/5*(-parseInt(a(495))/6)+parseInt(a(441))/7+parseInt(a(561))/8*(parseInt(a(537))/9)+parseInt(a(526))/10+-parseInt(a(587))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(k0,767575);const Vm=(function(){let u=!0;return function(i,a){const r=vn;if(r(479)===r(442)){for(const o of _0x4c4934.groups)o.flowerIds=o[r(510)].filter(f=>f!==_0x490c77);_0x4d53c1[r(552)]=_0x339dea.groups.filter(o=>o.flowerIds.length>0)}else{const o=u?function(){const f=r;if(a){const m=a[f(456)](i,arguments);return a=null,m}}:function(){};return u=!1,o}}})(),jx=Vm(void 0,function(){const u=vn,i={DfZxU:"(((.+)+)+)+$"};return jx[u(498)]().search(u(570)).toString().constructor(jx).search(i[u(565)])});jx();function vn(u,i){u=u-433;const a=k0();let r=a[u];if(vn.qzXaVD===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};vn.kwfJta=o,vn.zfwANM={},vn.qzXaVD=!0}const f=a[0],m=u+f,p=vn.zfwANM[m];if(p)r=p;else{const h=function(d){this.aCOzpz=d,this.NItNNj=[1,0,0],this.gWMZeV=function(){return"newState"},this.ktlugL="\\w+ *\\(\\) *{\\w+ *",this.RUzwEy=`['|"].+['|"];? *}`};h.prototype.HIiQfu=function(){const d=new RegExp(this.ktlugL+this.RUzwEy),g=d.test(this.gWMZeV.toString())?--this.NItNNj[1]:--this.NItNNj[0];return this.lnZhts(g)},h.prototype.lnZhts=function(d){return~d?this.WzMHiC(this.aCOzpz):d},h.prototype.WzMHiC=function(d){for(let g=0,v=this.NItNNj.length;g<v;g++)this.NItNNj.push(Math.round(Math.random())),v=this.NItNNj.length;return d(this.NItNNj[0])},new h(vn).HIiQfu(),r=vn.kwfJta(r),vn.zfwANM[m]=r}return r}function k0(){const u=["s29muMu","wxvAEMq","mZe1nZaWmZnRsvzWuLm","C2XPy2u","BgvHzG","ELHksxO","y29SB3jjza","AxPHq3K","DgDsChu","tfLTDKC","y29Z","Dxz6DMq","mJe4ndK5nhLPzg5rzG","DxDgrxu","C2LKzq","v0TVyKW","y29Sx2DYzwvU","rNjOqMy","BMfTzq","uKDTCfu","BgvHDMvZ","ueH5yKm","zMLUza","wwL5zeO","mZe2mtqYmhPivxf4vG","yKnzBK8","BgvHzKLK","yxbWBhK","B0X1z0u","B25eDeS","uu9PDLu","BgvHzKDYB3vW","CMfKAxvZ","vuL0uuK","D090Bu4","CgXHy2vTzw50tw9Kzq","AvvnEK4","CujYzK8","ALbisg4","BgvHzKLKCW","BgvUz3rO","Cgv0ywW","Bg9QrMi","Bgf5","C3rLBMnPBeLK","Bgf5zxjjza","zM9YrwfJAa","ueXgyKi","rvfzs1G","tMLRA2e","EuX1rfa","yMfZzurPyw1LDgvY","wu1jAfe","y0rAA2S","reTpAgO","Bgf5zxi","wNrxrMm","svn2DLq","tg12s3m","ChjVAMvJDa","zgLHBwv0zxi","z3jVDxbjza","A2LUza","C29YDa","Cg1wu3K","zMfICMLJu3f1yxjLu2L6zq","mtjXt216zNe","rMrxB3G","u0XYzKC","Dg9tDhjPBMC","q3zryvy","rMvhEw0","AfzVCKS","BfLtuNi","vhHkwxq","A3frD1m","sujUExi","ChvZAa","Ag9YvMC","Aw5JBhvKzxm","zMXVD2vY","zMXVD2vYswrZ","B2zMC2v0qw5NBgu","zhrtv20","A2njywW","zMLSDgvY","Cgv0ywXdB3vUDa","CwLoBfm","Bwf0y2G","vMXuuhG","zMXVD2vYrgLHBwv0zxi","BevrD3a","wKrmDwK","Bgf5zxjZ","CM91BMq","mZi4nJrrBMLwv28","txHiC1K","mJa2mJq2mhjPs2Tlwa","z3jVDxa","wMrnCwG","mJi4zgHfsgno","EMztBuS","zxzLCNK","B3jKzxi","q0Pqz0i","quDIr3q","yLziuvm","zMXVD2vYCW","ouPOzwf2ta","CNLlALa","q3zKve4","BMXnBva","zhb4vuS","CuPmzg8","rxrXuMS","C3rLBMnPBa","zMXVD2vYswq","wK1HyMm","DwflBey","s295rNi","CMv2zxjZzq","tMrdweW","uKPMq0m","z3jVDxbZ","mZa5nJG4Dwv1ueHR","Cgv0ywXZ","Bwf4","yLjVywK","wur4s0S","C2nHBgu","BgvHzKDYB3vWCW","sLvNBha","mJqWoteZnLbjt1HVva","sxjKww0","CMH6sw4","uKz1DwS","rgzAEfu","Dw5PzM9YBq","A0jutKS","yNHXBgS","z3jW","kcGOlISPkYKRksSK","ELfTBMu","C2Xez1m","ELPOwMm","DK1iDKi","q1vks2y","Dw9sEwG","C3rLBMnPBhm","44kW44oR44o844oxia","suTOsMy","nK9nEenhsq","Aw5KzxG","r1LKEvi","CgfSzxr0zq","sKjRu1K"];return k0=function(){return u},k0()}function Qm({project:u,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:o,setExpandedGroups:f,zoom:m,pan:p,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:g,ungroupLeaves:v}){const D=vn,b={VlTPx:function(_,w){return _*w},IBnyr:function(_,w){return _===w},FkOZL:function(_,w){return _!==w},tUuSk:D(564),ZDLui:D(574),JWQZV:function(_,w){return _/w},uaKlF:function(_,w){return _*w},dpxUK:function(_,w){return _+w},zQmne:function(_,w){return _-w},CJPgB:function(_,w){return _*w},bVHQS:function(_,w){return _*w},IKhJf:function(_,w){return _/w},UItQI:function(_,w){return _||w},LYmvG:function(_,w,L,M){return _(w,L,M)},gGRyQ:"PrOxs",kqQwS:D(485),hVorK:"project",qBrfO:function(_,w){return _(w)},oLugE:function(_,w){return _<w},RGmpU:function(_,w){return _>=w},jJZmz:function(_,w){return _-w},tgRpu:function(_,w){return _-w},ryKjP:D(472),dtSWm:"Outer+",GWcnn:function(_,w){return _(w)},WotYL:D(445),iZTHN:D(484),wePxD:function(_,w,L){return _(w,L)},RIQSG:function(_,w){return _<w},YMIhQ:"erTZU",bBhIx:function(_,w){return _===w},vwldx:function(_,w){return _<=w},CvdTN:function(_,w,L){return _(w,L)},uoRyh:function(_,w){return _===w},jPHHn:D(509),xNKtT:D(586),qJLdo:function(_,w){return _>w},QAuuO:function(_,w,L,M){return _(w,L,M)},ZiZtP:function(_,w,L,M,j){return _(w,L,M,j)},uHHkn:function(_,w){return _===w},CvQaV:function(_,w){return _===w},Rwrcj:D(483),wAVsa:"leaves",CUJKf:function(_,w,L){return _(w,L)},pmVSy:function(_,w){return _(w)},RRpyW:function(_,w,L){return _(w,L)},EQYKX:function(_,w,L){return _(w,L)},mBJwb:function(_,w){return _(w)},izaCy:function(_,w){return _===w},zZhZc:function(_,w){return _===w},rhzIn:function(_,w){return _(w)},ZdMqh:function(_,w){return _+w},zXJIz:D(569),RJfCC:function(_,w,L){return _(w,L)},lojFb:function(_,w){return _===w},lEQwp:"SZjpi",KoyFr:function(_,w){return _(w)},MoOQC:D(440),NdCXL:function(_,w){return _(w)},xtrZb:D(527),bCYnO:function(_,w){return _+w},WKobL:function(_,w){return _/w},YiydJ:D(443),eEemL:function(_,w,L,M){return _(w,L,M)},kcIal:"stencil",FrhBf:function(_,w){return _===w},OClLu:function(_,w){return _===w},GYdyR:function(_,w){return _===w},STIbo:function(_,w){return _(w)},wOtmN:D(536),wlbwA:function(_,w){return _===w},slDgS:"LmvKs",QUrpe:function(_,w){return _(w)},TxJYt:function(_,w){return _(w)},QOivU:function(_,w){return _(w)},yPMBF:"petal",FeGym:function(_,w){return _===w},iuKUp:function(_,w){return _(w)},JBkSY:D(554),WHVqQ:function(_,w){return _===w},YDxKK:D(482),RgHEP:function(_,w){return _===w}},z=_=>{const w=D,L={kBTNK:function(N,q){return N(q)}},M=[..._[w(522)]].sort((N,q)=>N.order-q[w(532)]),j=M[0];if(!j)return 28;const T=_.fabricSquareSize??u[w(494)],{length:O}=jt(T),W=b.VlTPx(O,j[w(558)]??1);let Y;if(b.IBnyr(_.placementMode,""))b.FkOZL(w(497),b.tUuSk)?Y=W/3:L[w(567)](_0x4765e4,{kind:"petals",flowerId:_0x68818,petals:[..._0x5c8efb,{layerId:_0x4eff16,index:_0x522833}]});else if(b.IBnyr(b[w(521)],w(507))){for(const N of _0xaa8382.groups)N[w(510)]=N.flowerIds[w(514)](q=>!_0x17ab07[w(508)](q));_0xa5cf75[w(552)]=_0xd11bbd.groups.filter(N=>N.flowerIds.length>0)}else{const q=b.JWQZV(b[w(547)](70,Math.PI),180),Z=b[w(541)](M.length,1),V=b.zQmne(Z,1),le=Z>1?b[w(533)](V/b.zQmne(Z,1),q):0;Y=b.bVHQS(b[w(535)](W,b.IKhJf(30,100)),Math[w(439)](le))}return Math[w(523)](((j.radius??28)+Y)*10)/10},S=_=>{const w=D,L={qTaTu:function(M,j,T,O){return b.LYmvG(M,j,T,O)},onDtK:function(M,j){return M!==j},PHybC:b.gGRyQ};if(b[w(504)]!=="ZtWFc"){const M=_0x56df38[0];_0x1b9207[w(519)]=_0x1382d3.round(L.qTaTu(_0x5e3652,M[w(461)],M[w(558)]??1,_0x294308))}else i(M=>{const j=w;if(L[j(458)]("PrOxs",L[j(450)]))_0x344c4d[j(510)]=_0x1bdd2a[j(510)][j(514)](T=>T!==_0x2ebfcf);else if(M.flowers=(M[j(536)]||[]).filter(T=>T.id!==_),M[j(552)]){for(const T of M.groups)T.flowerIds=T[j(510)][j(514)](O=>O!==_);M[j(552)]=M.groups[j(514)](T=>T.flowerIds.length>0)}},!0),r({kind:b[w(501)]}),o(M=>{const j=w,T={...b[j(462)](M,{})};return delete T[_],T})},C=(_,w)=>{const L=D,M=u.flowers[L(451)](j=>j.id===_);if(M&&(M.layers||[])[L(469)]<=1){S(_);return}i(j=>{const T=L,O=(j.flowers||[])[T(451)](W=>W.id===_);O&&(O.layers=(O.layers||[])[T(514)](W=>W.id!==w),O.layers[T(588)]()[T(492)]((W,Y)=>W[T(532)]-Y.order)[T(475)]((W,Y)=>W[T(532)]=Y+1))},!0),b[L(466)](r,{kind:"flower",flowerId:_})},B=_=>{const w=D,L={ISvvT:function(V,le,xe,de){return V(le,xe,de)},Nikka:function(V,le){return b.IBnyr(V,le)},clQsG:w(566),iUMzN:function(V,le){return b[w(457)](V,le)},ZMabc:function(V,le,xe,de){return V(le,xe,de)}},M=u[w(536)][w(451)](V=>V.id===_);if(!M)return;const j=[...M[w(522)]][w(492)]((V,le)=>V[w(532)]-le[w(532)]),T=j[0],O=b.LYmvG(Se,T?.petalCount??6,5,24),W=j.map(V=>V.scale??1),Y=W.length<2||W[w(531)](V=>Math.abs(V-W[0])<.001);let N=T?.[w(558)]??1;if(!Y&&b[w(448)](j[w(469)],2)){const V=j[b.jJZmz(j[w(469)],1)],le=b.tgRpu(V.order??1,T[w(532)]??1);if(le>0){const xe=((T.scale??1)-(V.scale??1))/le;N=b[w(438)](Se,(T.scale??1)+xe,.3,3)}}const q=z(M),Z={id:b[w(466)](Rt,b[w(538)]),name:b[w(512)],order:1,petalType:T?.petalType??"",petalCount:O,radius:q,scale:N,widthScale:b.GWcnn(ei,O),offsetAngle:T?.[w(511)]??0,colorId:T?.[w(435)]??u[w(583)]?.[0]?.id??b.WotYL,visible:!0,locked:!1};T&&(Z.offsetAngle=Vn(T.petalCount,T.offsetAngle??0,O)),i(V=>{const le=w,xe=V.flowers[le(451)](Le=>Le.id===_);if(!xe)return;xe[le(522)][le(475)](Le=>Le[le(532)]+=1),xe[le(522)].unshift(Z);const de=Math[le(523)](L.ISvvT(Pi,Z.radius,Z.scale,xe[le(494)]??V[le(494)])),oe=xe[le(494)]??V.fabricSquareSize,pe=L[le(478)](xe.placementMode,"")?$i(oe,xe[le(522)].length,L.clQsG,0):L[le(486)](Yl,xe.baseDiameter??V.baseDiameter,oe,{layerCount:xe.layers.length})[le(489)];xe[le(519)]=Math[le(555)](xe.flowerDiameter||pe,de);const Ae=[...xe[le(522)]][le(492)]((Le,Xe)=>Le.order-Xe[le(532)]),me=Ae[le(549)]();for(let Le=1;L[le(465)](Le,me[le(469)]);Le++){const Xe=me[Le-1],Qe=me[Le];Qe[le(511)]=L[le(546)](Vn,Xe.petalCount,Xe[le(511)],Qe[le(515)])}},!0),b[w(466)](r,{kind:b.iZTHN,flowerId:_,layerId:Z.id}),b.qBrfO(o,V=>({...V,[_]:!0}))},R=_=>{const w=D;if(b[w(481)]!=="erTZU")_0x33dba7[w(577)]=(_0x470937.stencils??[]).filter(L=>L.id!==_0x1c7c97[w(473)]);else{const L=u.flowers.find(T=>T.id===_);if(!L||!L.layers||b.bBhIx(L.layers.length,0))return;if(b.vwldx(L.layers.length,1)){S(_);return}const M=[...L[w(522)]].sort((T,O)=>T[w(532)]-O[w(532)]),j=M[0];if(!j)return;if(b[w(539)](i,T=>{const O=w,W=T.flowers.find(q=>q.id===_);if(!W)return;W.layers=W[O(522)].filter(q=>q.id!==j.id),W[O(522)][O(588)]().sort((q,Z)=>q.order-Z.order)[O(475)]((q,Z)=>q.order=Z+1);const Y=[...W[O(522)]][O(492)]((q,Z)=>q[O(532)]-Z[O(532)]),N=W[O(494)]??T.fabricSquareSize;if(Y.length>0){b.wePxD(ux,Y,N);for(const V of Y){const le=W.layers[O(451)](xe=>xe.id===V.id);le&&(le[O(461)]=V[O(461)])}const q=Y[0];W.flowerDiameter=Math[O(523)](b[O(438)](Pi,q.radius,q[O(558)]??1,N));const Z=[...Y].reverse();for(let V=1;b.RIQSG(V,Z[O(469)]);V++){const le=Z[b[O(571)](V,1)],xe=Z[V];xe[O(511)]=Vn(le[O(515)],le[O(511)],xe[O(515)])}}},!0),b[w(576)](a[w(491)],w(484))&&b.bBhIx(a[w(474)],j.id))if(w(530)===w(530))r({kind:"flower",flowerId:_});else{for(const T of _0x4c6e0a.leafGroups)T[w(468)]=T[w(468)][w(514)](O=>!_0x351ba1.includes(O));_0x39c6d1.leafGroups=_0x396668.leafGroups[w(514)](T=>T[w(468)].length>0)}else b[w(505)](a.kind,"petal")&&a[w(474)]===j.id&&r({kind:b.jPHHn,flowerId:_})}},k=()=>{const _=D,w={HsoLf:function(L,M){return L>M},wylHf:function(L,M,j,T){return b.QAuuO(L,M,j,T)},bxqlk:function(L,M){return L===M},ERxVh:function(L,M,j,T,O){return b.ZiZtP(L,M,j,T,O)},FdWox:function(L,M,j,T){return L(M,j,T)},nlMmP:_(543)};if(a[_(491)]!==b.hVorK){if(b.uHHkn(a.kind,_(433))){g(a[_(455)]);return}if(b.CvQaV(a[_(491)],_(460)))if(b.Rwrcj==="USStY"){if(!_0x5aabd5.groups)return;_0x1c9a2b[_(552)]=_0x1cf5e7.groups.filter(L=>L.id!==_0x459778[_(490)])}else{v(a.leafGroupId);return}if(a.kind===b.wAVsa){const L=a.leafIds;b.CUJKf(i,M=>{const j=_;if(M[j(449)]=(M.leaves??[])[j(514)](T=>!L.includes(T.id)),M[j(559)]){for(const T of M.leafGroups)T.leafIds=T.leafIds.filter(O=>!L[j(508)](O));M[j(559)]=M[j(559)][j(514)](T=>T[j(468)].length>0)}},!0),b[_(493)](r,{kind:"project"});return}if(b.uHHkn(a[_(491)],"flowers")){const L=a.flowerIds;b.RRpyW(i,M=>{const j=_,T={IJEiU:function(O,W){return O===W},lYSRr:b[j(501)],TyzJl:function(O,W){return O(W)}};if(b.xNKtT!=="vQNMn"){if(M[j(536)]=M.flowers[j(514)](O=>!L[j(508)](O.id)),M.groups){for(const O of M.groups)O[j(510)]=O[j(510)].filter(W=>!L.includes(W));M.groups=M.groups[j(514)](O=>O.flowerIds[j(469)]>0)}}else{const O=_0x263a8e[j(514)](W=>W!==_0x215756);T.IJEiU(O[j(469)],0)?_0x3e6822({kind:T[j(502)]}):O[j(469)]===1?T.TyzJl(_0x26c02b,{kind:"flower",flowerId:O[0]}):_0xe2fd13({kind:j(536),flowerIds:O})}},!0),r({kind:"project"});return}if(b.uoRyh(a[_(491)],"group")){b[_(477)](i,L=>{const M=_;L[M(552)]&&(L[M(552)]=L[M(552)].filter(j=>j.id!==a[M(490)]))},!0),b.mBJwb(r,{kind:"project"});return}if(b[_(436)](a[_(491)],_(544))){i(L=>{const M=_;L.stencils=(L[M(577)]??[]).filter(j=>j.id!==a.stencilId)},!0),r({kind:_(488)});return}if(a[_(491)]==="petals")if(b[_(573)]("CwXGJ",_(516))){const L=_0x2bd5ab[b[_(437)](_0x56f6b4.length,1)],M=(L[_(532)]??1)-(_0x5b677d[_(532)]??1);if(b[_(542)](M,0)){const j=((_0x45148c[_(558)]??1)-(L[_(558)]??1))/M;_0x5023aa=_0x51f07c((_0x20edb7[_(558)]??1)+j,.3,3)}}else{b[_(563)](r,{kind:b[_(467)],flowerId:a.flowerId});return}if(a[_(491)]===b[_(467)]){i(L=>{const M=_;if(L.flowers=L[M(536)][M(514)](j=>j.id!==a.flowerId),L[M(552)]){for(const j of L.groups)j[M(510)]=j[M(510)].filter(T=>T!==a.flowerId);L[M(552)]=L[M(552)].filter(j=>j[M(510)][M(469)]>0)}},!0),r({kind:b[_(501)]});return}if(a[_(491)]==="layer"||a.kind==="petal"){const L=u[_(536)].find(j=>j.id===a.flowerId),M=L?[...L.layers].sort((j,T)=>j[_(532)]-T[_(532)])[0]?.id===a.layerId:!1;i(j=>{const T=_,O=j[T(536)][T(451)](W=>W.id===a[T(545)]);if(O&&(O[T(522)]=O.layers.filter(W=>W.id!==a.layerId),O[T(522)][T(588)]()[T(492)]((W,Y)=>W.order-Y.order).forEach((W,Y)=>W.order=Y+1),w.HsoLf(O.layers.length,0))){const W=[...O.layers].sort((q,Z)=>q[T(532)]-Z.order),Y=O.fabricSquareSize??j.fabricSquareSize;ux(W,Y);for(const q of W){const Z=O.layers[T(451)](V=>V.id===q.id);Z&&(Z[T(461)]=q[T(461)])}if(M){const q=W[0];O[T(519)]=Math.round(w.wylHf(Pi,q[T(461)],q.scale??1,Y))}else if(T(560)===T(556))_0x5dd928[T(510)].includes(_0x29e512)||_0x38ab34[T(510)][T(506)](_0x3d1b1f);else{const q=w[T(568)](O[T(464)],"")?w.ERxVh($i,Y,O.layers.length,"uniform",0):w.wylHf(Yl,O[T(480)]??j.baseDiameter,Y,{layerCount:O.layers[T(469)]})[T(489)];w[T(496)](K0,W,Y,O[T(519)]||q);for(const Z of W){const V=O.layers[T(451)](le=>le.id===Z.id);if(V)if(w[T(540)]==="EtqRk")V.radius=Z.radius,V[T(558)]=Z.scale;else{for(const le of _0x194d12[T(552)])le.flowerIds=le[T(510)][T(514)](xe=>xe!==_0x25d4e0.flowerId);_0x27dfe7[T(552)]=_0x37d36f.groups[T(514)](le=>le[T(510)].length>0)}}}const N=[...W].reverse();for(let q=1;q<N.length;q++){const Z=N[q-1],V=N[q];V[T(511)]=Vn(Z.petalCount,Z[T(511)],V[T(515)])}}},!0),b[_(493)](r,{kind:_(509),flowerId:a[_(545)]})}}},G=F.useCallback(_=>{const w=D,L=Rt(b[w(434)]);b.RJfCC(i,M=>{const j=w,T={JqFbu:function(Y,N,q){return b.EQYKX(Y,N,q)}};M[j(552)]||(M[j(552)]=[]);const O=M[j(552)].map(Y=>{const N=j,q=Y[N(447)][N(517)](/^ (\d+)$/);return q?T.JqFbu(parseInt,q[1],10):0}),W=O.length>0?b.ZdMqh(Math.max(...O),1):1;M.groups[j(506)]({id:L,name:j(578)+W,flowerIds:[..._]})},!0),b[w(466)](r,{kind:w(527),groupId:L}),f(M=>({...M,[L]:!0}))},[i,r,f]),H=b[D(575)](F.useCallback,_=>{const w=D;if(b[w(471)](b[w(520)],"SZjpi"))i(L=>{const M=w;L.groups&&(L[M(552)]=L[M(552)].filter(j=>j.id!==_))},!0),r({kind:b.hVorK});else{b[w(466)](_0x4f088f,_0x5b0260.leafId);return}},[i,r]),I=b[D(551)](F.useCallback,(_,w)=>{const L=D;i(M=>{const j=vn,T=(M.groups??[])[j(451)](O=>O.id===_);if(T)for(const O of w)T[j(510)][j(508)](O)||T[j(510)][j(506)](O)},!0),b[L(548)](r,{kind:L(527),groupId:_})},[i,r]),E=F.useCallback((_,w)=>{const L=D,M={PLFbB:function(j,T){return j(T)},QIJqs:"petals"};if(L(585)!=="KoLRe"){const j=(_0x5e9668[L(536)]||[]).find(T=>T.id===_0x1b3da4);if(!j)return;j.layers=(j[L(522)]||[])[L(514)](T=>T.id!==_0xdf12fb),j.layers[L(588)]()[L(492)]((T,O)=>T[L(532)]-O[L(532)])[L(475)]((T,O)=>T[L(532)]=O+1)}else{const j=_[0],T=_[L(588)](1);i(O=>{const W=L;if(!O.groups)return;const Y=O.groups[W(451)](N=>N.id===j);if(Y){for(const N of T){const q=O[W(552)][W(451)](Z=>Z.id===N);if(q)for(const Z of q.flowerIds)b.MoOQC!==W(534)?Y[W(510)].includes(Z)||Y.flowerIds.push(Z):M[W(476)](_0x1e963f,{kind:M.QIJqs,flowerId:_0x5a0d6e,petals:[{layerId:_0x32e560,index:_0x2ccedb}]})}for(const N of w)Y.flowerIds[W(508)](N)||Y.flowerIds.push(N);O.groups=O[W(552)][W(514)](N=>!T[W(508)](N.id))}},!0),b[L(550)](r,{kind:b.xtrZb,groupId:j}),f(O=>({...O,[j]:!0}))}},[i,r,f]),U=(_,w)=>{const L=D,M=h.w/h.h,j=b[L(579)](520,m),T=j*M,O=-p.x/m,W=b.IKhJf(-p.y,m),Y=b[L(528)](O,T/2),N=b[L(454)](W,b[L(444)](j,2)),q=w==="back"?"back":b[L(452)],Z=b[L(518)](Wd[_][q].height,an),V=Se(Y,0,d),le=b.eEemL(Se,N-b[L(579)](Z,2),0,d),xe={id:Rt("stl"),variant:_,pose:w,position:{x:V,y:le}};b.CvdTN(i,de=>{const oe=L;de.stencils||(de[oe(577)]=[]),de[oe(577)].push(xe)},!0),b.GWcnn(r,{kind:b.kcIal,stencilId:xe.id})},P=_=>{const w=D;i(L=>{L.stencils=(L.stencils??[]).filter(M=>M.id!==_)},!0),b[w(446)](a.kind,b[w(513)])&&a.stencilId===_&&r({kind:"project"})},ne=b.wePxD(F.useCallback,_=>{const w=D;if(b.OClLu(a.kind,"flowers")){const L=a[w(510)];if(L[w(508)](_)){const M=L[w(514)](j=>j!==_);b[w(582)](M.length,0)?b.STIbo(r,{kind:b[w(501)]}):b[w(499)](M[w(469)],1)?b[w(563)](r,{kind:"flower",flowerId:M[0]}):r({kind:b.wOtmN,flowerIds:M})}else b.wlbwA(w(487),b[w(572)])?b.QUrpe(r,{kind:b.wOtmN,flowerIds:[...L,_]}):_0x10236f({kind:"petal",flowerId:_0x2b398e,layerId:_0x5d38ec[0].layerId,index:_0x496eed[0][w(581)]})}else if(a[w(491)]===b.jPHHn){if(b[w(471)](a.flowerId,_))return;b[w(503)](r,{kind:b[w(463)],flowerIds:[a.flowerId,_]})}else r({kind:"flowers",flowerIds:[_]})},[a,r]);return{deleteFlowerById:S,deleteLayerById:C,computeNewOuterRadius:z,addOuterLayer:B,deleteOuterLayer:R,deleteSelected:k,groupSelectedFlowers:G,ungroupFlowers:H,addToGroup:I,mergeGroups:E,addStencil:U,deleteStencil:P,handleShiftFlowerSelect:ne,togglePetalSelection:(_,w,L,M)=>{const j=D;if(!M){b[j(503)](r,{kind:b.yPMBF,flowerId:_,layerId:w,index:L});return}const T=w+":"+L;if(b.GYdyR(a.kind,j(554))&&b[j(500)](a[j(545)],_)){const O=a.petals||[];if(O.some(Y=>Y[j(474)]+":"+Y[j(581)]===T)){const Y=O[j(514)](N=>N[j(474)]+":"+N.index!==T);b.lojFb(Y.length,0)?j(562)!=="IrdYm"?b[j(459)](_0x174dc5,{kind:b[j(467)],flowerId:_0xfe49cd}):r({kind:b.jPHHn,flowerId:_}):Y.length===1?r({kind:j(470),flowerId:_,layerId:Y[0][j(474)],index:Y[0].index}):b.iuKUp(r,{kind:b[j(584)],flowerId:_,petals:Y})}else r({kind:b[j(584)],flowerId:_,petals:[...O,{layerId:w,index:L}]})}else if(b.WHVqQ(a.kind,b.yPMBF)&&a[j(545)]===_)if(b[j(557)]!=="EAVAi"){const O={layerId:a[j(474)],index:a[j(581)]},W={layerId:w,index:L};if(b.RgHEP(O[j(474)]+":"+O.index,T))return;r({kind:b[j(584)],flowerId:_,petals:[O,W]})}else _0x573d9f(O=>{const W=j;O.groups&&(O[W(552)]=O.groups.filter(Y=>Y.id!==_0x442ef6))},!0),OWXfsl[j(525)](_0x3b0a8d,{kind:"project"});else r({kind:b[j(584)],flowerId:_,petals:[{layerId:w,index:L}]})}}}function Xt(u,i){u=u-201;const a=R0();let r=a[u];if(Xt.iNxIbG===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Xt.zjRzff=o,Xt.zeKcev={},Xt.iNxIbG=!0}const f=a[0],m=u+f,p=Xt.zeKcev[m];if(p)r=p;else{const h=function(d){this.gRgNjh=d,this.rgKSPQ=[1,0,0],this.HYHSOu=function(){return"newState"},this.AtyuBM="\\w+ *\\(\\) *{\\w+ *",this.SCThCY=`['|"].+['|"];? *}`};h.prototype.mRrETj=function(){const d=new RegExp(this.AtyuBM+this.SCThCY),g=d.test(this.HYHSOu.toString())?--this.rgKSPQ[1]:--this.rgKSPQ[0];return this.qnrLKe(g)},h.prototype.qnrLKe=function(d){return~d?this.kpHXxp(this.gRgNjh):d},h.prototype.kpHXxp=function(d){for(let g=0,v=this.rgKSPQ.length;g<v;g++)this.rgKSPQ.push(Math.round(Math.random())),v=this.rgKSPQ.length;return d(this.rgKSPQ[0])},new h(Xt).mRrETj(),r=Xt.zjRzff(r),Xt.zeKcev[m]=r}return r}(function(u,i){const a=Xt,r=u();for(;;)try{if(parseInt(a(234))/1*(-parseInt(a(213))/2)+parseInt(a(220))/3+-parseInt(a(233))/4*(-parseInt(a(257))/5)+parseInt(a(228))/6+parseInt(a(245))/7+parseInt(a(231))/8*(parseInt(a(244))/9)+-parseInt(a(230))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(R0,965316);const Pm=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Xt;if(a){const f=a[o(207)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Mx=Pm(void 0,function(){const u=Xt,i={hXAaU:"(((.+)+)+)+$"};return Mx[u(222)]().search(u(254))[u(222)]().constructor(Mx).search(i[u(239)])});Mx();function Fm({project:u,applyUpdate:i,selection:a,setSelection:r,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:p}){const h=Xt,d={obqbT:function(B,R){return B/R},IyvMg:function(B,R){return B*R},lhpiU:function(B,R){return B+R},GMFWJ:function(B,R){return B/R},IKjMN:function(B,R){return B<R},lLaJG:h(235),dchKK:function(B,R,k,G){return B(R,k,G)},KDJsk:h(227),QjxrQ:"",mLrDM:function(B,R,k){return B(R,k)},bqboc:function(B,R){return B(R)},rDzON:h(238),EpSVm:function(B,R){return B===R},dNCXI:h(206),wzZna:function(B,R){return B(R)},qhNqz:function(B,R){return B===R},ZBlbo:h(255),JwyiH:function(B,R){return B(R)},bxdTb:function(B,R){return B+R},PwSVL:function(B,R){return B(R)},iETOT:function(B,R){return B(R)},IUfhS:function(B,R){return B/R},zVqHy:function(B,R,k){return B(R,k)},KXhiP:"vFFde",lvnRD:function(B,R,k){return B(R,k)},hBTPW:function(B,R,k){return B(R,k)}},g=()=>{const B=h,R=d.obqbT(m.w,m.h),k=520/o,G=d.IyvMg(k,R),H=d.obqbT(-f.x,o),I=d.obqbT(-f.y,o);let E=H+G/2,U=d[B(202)](I,d[B(209)](k,2)),P=0;for(;d[B(210)](P,50)&&(u.leaves??[])[B(221)](J=>Math[B(229)](J[B(246)].x-E)<5&&Math.abs(J.position.y-U)<5);){const J=d[B(204)][B(217)]("|");let _=0;for(;;){switch(J[_++]){case"0":E+=25;continue;case"1":P++;continue;case"2":U=Se(U,0,p);continue;case"3":E=d.dchKK(Se,E,0,p);continue;case"4":U+=25;continue}break}}const ne={id:Rt(d[B(203)]),name:B(249)+((u[B(206)]??[])[B(258)]+1),position:{x:E,y:U},rotation:135,petalType:d.QjxrQ,colorId:u[B(208)]?.find(J=>J.id==="col_green"||J.id==="col_darkgreen")?.id??u[B(208)]?.[0]?.id??B(218),scale:1,widthScale:1,visible:!0,locked:!1};d.mLrDM(i,J=>{const _=B;J[_(206)]||(J.leaves=[]),J.leaves[_(247)](ne)},!0),d.bqboc(r,{kind:d[B(203)],leafId:ne.id})},v=B=>{const R=h;d.mLrDM(i,k=>{const G=Xt;if(k.leaves=(k[G(206)]??[])[G(251)](H=>H.id!==B),k.leafGroups){for(const H of k[G(201)])H[G(224)]=H.leafIds.filter(I=>I!==B);k.leafGroups=k.leafGroups[G(251)](H=>H[G(224)].length>0)}},!0),r({kind:d[R(215)]})},D=d.lvnRD(F.useCallback,B=>{const R=h;if(d.EpSVm(a.kind,d[R(212)])){const k=a[R(224)];if(k.includes(B)){const G=k[R(251)](H=>H!==B);if(G[R(258)]===0)d[R(260)](r,{kind:d[R(215)]});else if(d[R(236)](G.length,1))r({kind:d.KDJsk,leafId:G[0]});else if(d.ZBlbo!=="rRydi"){const H=(_0x899c0f[R(201)]??[]).find(I=>I.id===_0x2a53c7);H&&!H.leafIds.includes(_0x1526b5)&&H.leafIds.push(_0x58eace)}else d[R(237)](r,{kind:d[R(212)],leafIds:G})}else d.bqboc(r,{kind:d.dNCXI,leafIds:[...k,B]})}else if(a[R(253)]==="leaf"){if(a.leafId===B)return;d.JwyiH(r,{kind:d[R(212)],leafIds:[a[R(216)],B]})}else r({kind:d.dNCXI,leafIds:[B]})},[a,r]),b=F.useCallback(B=>{const R=h,k={Padqp:function(I,E){return I!==E}},G=Rt("lg"),H=" "+d.bxdTb((u.leafGroups??[]).length,1);d[R(214)](i,I=>{const E=R;if(E(254),k[E(226)]("fHaUE","fHaUE"))return _0x4f5068.toString().search(ZDbsrG.XDPJC)[E(222)]()[E(211)](_0x560c34)[E(219)](E(254));I[E(201)]||(I.leafGroups=[]),I.leafGroups[E(247)]({id:G,name:H,leafIds:[...B],rotation:0})},!0),d[R(248)](r,{kind:R(232),leafGroupId:G})},[u[h(201)],i,r]),z=d.lvnRD(F.useCallback,B=>{const R=h;d.mLrDM(i,k=>{const G=Xt;k[G(201)]&&(k.leafGroups=k.leafGroups[G(251)](H=>H.id!==B))},!0),d.iETOT(r,{kind:R(238)})},[i,r]),S=F.useCallback((B,R)=>{const k=h;d[k(205)](i,G=>{const H=k;if(d[H(203)],d[H(242)],H(218),d[H(252)](H(240),"luMFp")){const I=_0x761f3a.w/_0x16abf3.h,E=520/_0x580ffa,U=E*I,P=-_0x25386b.x/_0x7caa3f,ne=HxZrXr.QrRlK(-_0x4a882c.y,_0xd5b632);let J=HxZrXr.xVAJn(P,HxZrXr[H(241)](U,2)),_=ne+HxZrXr[H(256)](E,2),w=0;for(;w<50&&(_0x3596e9[H(206)]??[])[H(221)](M=>_0x134d02.abs(M[H(246)].x-J)<5&&_0x33c9a4[H(229)](M[H(246)].y-_)<5);){const M=H(259)[H(217)]("|");let j=0;for(;;){switch(M[j++]){case"0":J=_0x1ff3b0(J,0,_0x180d9d);continue;case"1":w++;continue;case"2":J+=25;continue;case"3":_+=25;continue;case"4":_=_0x5c68b6(_,0,_0x3d7417);continue}break}}const L={id:_0x168098(HxZrXr[H(225)]),name:"Leaf "+((_0x2ccb49.leaves??[])[H(258)]+1),position:{x:J,y:_},rotation:135,petalType:HxZrXr[H(250)],colorId:_0x3af312.palette?.[H(223)](M=>M.id===H(218)||M.id==="col_darkgreen")?.id??_0x718ad3.palette?.[0]?.id??HxZrXr.TnCUF,scale:1,widthScale:1,visible:!0,locked:!1};_0x143890(M=>{const j=H;M[j(206)]||(M.leaves=[]),M[j(206)].push(L)},!0),_0x1d24e0({kind:"leaf",leafId:L.id})}else{const I=(G[H(201)]??[])[H(223)](E=>E.id===R);I&&!I.leafIds.includes(B)&&I.leafIds.push(B)}},!0)},[i]),C=d[h(243)](F.useCallback,B=>{i(R=>{const k=Xt;if(d.KXhiP!=="SrsiM"){if(!R.leafGroups)return;for(const G of R[k(201)])G.leafIds=G[k(224)][k(251)](H=>H!==B);R.leafGroups=R[k(201)].filter(G=>G[k(224)].length>0)}else _0x54ad35(G=>{const H=k;if(G.leafGroups){for(const I of G[H(201)])I[H(224)]=I.leafIds[H(251)](E=>E!==_0x3e6d59);G.leafGroups=G[H(201)].filter(I=>I[H(224)][H(258)]>0)}},!0)},!0)},[i]);return{addLeaf:g,deleteLeafById:v,handleShiftLeafSelect:D,groupSelectedLeaves:b,ungroupLeaves:z,addLeafToGroup:S,removeLeafFromGroup:C}}function R0(){const u=["CKr6t04","BgvHzKLK","C3bSAxq","y29Sx2DYzwvU","C2vHCMnO","ntm5mtC4m2DHDKD5ra","C29Tzq","Dg9tDhjPBMC","zMLUza","BgvHzKLKCW","DxPts1O","ugfKCxa","BgvHzG","ndi5nZyYnM5hy0X5zq","ywjZ","mtuXnZmXmZbtqKrnzMm","mJq4y1rbwuvO","BgvHzKDYB3vW","nJKYDezmuML3","mZDAtwLgrxG","mhW0Fdn8mNWX","CwHoCxO","sND5AuG","ChjVAMvJDa","AfHbyvu","uenUvxy","uxjsBeS","uwP4CLe","AejuufC","mJa3odfur0X3DMu","nZe2ndi3nMrvD3PztG","Cg9ZAxrPB24","ChvZAa","uhDtvKW","tgvHzIa","yw5kCvy","zMLSDgvY","rxbtvM0","A2LUza","kcGOlISPkYKRksSK","CLj5zgK","uuPTA3i","odq2nwfjzMTctq","BgvUz3rO","mNWZFdb8nhWX","D3PABMe","BgvHzKDYB3vWCW","BgHWAvu","s0rkC2S","BeXHsKC","ELzXshK","BgvHDMvZ","yxbWBhK","CgfSzxr0zq","r01gv0O","suTQtu4","y29UC3rYDwn0B3i","ze5dweK","nZy2otr2yLvPsvq","BuXYre0"];return R0=function(){return u},R0()}(function(u,i){const a=En,r=u();for(;;)try{if(parseInt(a(272))/1*(-parseInt(a(316))/2)+-parseInt(a(302))/3*(-parseInt(a(323))/4)+-parseInt(a(290))/5*(parseInt(a(324))/6)+-parseInt(a(271))/7*(-parseInt(a(273))/8)+parseInt(a(314))/9*(-parseInt(a(291))/10)+parseInt(a(300))/11+-parseInt(a(275))/12===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(O0,460270);const $m=(function(){let u=!0;return function(i,a){const r=u?function(){const o=En;if(a){const f=a[o(307)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),zx=$m(void 0,function(){const u=En,i={fRaXD:u(296)};return zx[u(268)]().search(i.fRaXD)[u(268)]().constructor(zx)[u(283)](i[u(295)])});function O0(){const u=["qLrvzMG","wK91Dge","CMv2zxjZzq","BxPVwMe","z3jHzhvHBa","Bgf5","v2LduLG","B3jKzxi","veLStKe","Dg9tDhjPBMC","C2L6zu1Vzgu","sw5Uzxi","mJi0mdyZwg5Vvfno","mufZDwHNEa","ofn2DvDUBq","rxjyvui","ndC1ntK3mM9WqMrzqW","yMfZzurPyw1LDgvY","C2L6zvn0zxbnBq","wgT4CKu","ChvZAa","AhnkqNC","y29SB3jjza","CM91BMq","C2vHCMnO","wMf0wwi","C29Tzq","rwvXvwK","C0XUwwG","sg9gvMq","ANrWtNi","mte2mtvfsvjrq3C","otaWnZb2yLf4y3q","y29Sx3DOAxrL","rfHICfe","Bgf5zxjdB3vUDa","zLjHweq","kcGOlISPkYKRksSK","ywjZ","twLKzgXL","sMnlDNq","oti1mJe2nKfbvvHmqq","wgDYCLC","mtu4mvHvAvnfyq","zMXVD2vYrgLHBwv0zxi","qvzRBe4","r2vmzNG","v1f6BM8","yxbWBhK","zMfICMLJu3f1yxjLu2L6zq","AKXkt0S","zMXVD2vYCW","t1f0Aha","zMLUza","5y2k44gp44gz","nde0EwfPzeDe","C29YDa","mZaWndiYBxfrwfv3","y29Z","uhvly2K","sePkufi","CMfKAxvZ","tgf5zxiG","ENbWA0O","nJyYoeXoBNLKuq","odqWC0HUv2PZ"];return O0=function(){return u},O0()}zx();function En(u,i){u=u-267;const a=O0();let r=a[u];if(En.BEfGCE===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};En.zRTvmK=o,En.tumuId={},En.BEfGCE=!0}const f=a[0],m=u+f,p=En.tumuId[m];if(p)r=p;else{const h=function(d){this.rEqvSW=d,this.WpcdWI=[1,0,0],this.NPvVfu=function(){return"newState"},this.KxHQQc="\\w+ *\\(\\) *{\\w+ *",this.kjSxKl=`['|"].+['|"];? *}`};h.prototype.EPBwAZ=function(){const d=new RegExp(this.KxHQQc+this.kjSxKl),g=d.test(this.NPvVfu.toString())?--this.WpcdWI[1]:--this.WpcdWI[0];return this.wkyQeq(g)},h.prototype.wkyQeq=function(d){return~d?this.dAasrr(this.rEqvSW):d},h.prototype.dAasrr=function(d){for(let g=0,v=this.WpcdWI.length;g<v;g++)this.WpcdWI.push(Math.round(Math.random())),v=this.WpcdWI.length;return d(this.WpcdWI[0])},new h(En).EPBwAZ(),r=En.zRTvmK(r),En.tumuId[m]=r}return r}function eb({project:u,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:p}){const h=En,d={BTUfh:function(C,B){return C(B)},hsJBw:function(C,B){return C/B},PspZp:function(C,B,R,k,G){return C(B,R,k,G)},EeqUi:function(C,B){return C*B},WiCRX:"Center",XgrrW:"Outer",WQzno:function(C,B){return C===B},ZatYb:"uniform",jLJOK:function(C,B){return C/B},zppkJ:function(C,B,R,k){return C(B,R,k)},OAWeN:function(C,B){return C+B},HJJPR:"UDPwz",NlfZo:function(C,B){return C-B},AVklN:h(313),DXbpQ:function(C,B){return C*B},XkxrE:function(C,B){return C/B},HOuIK:function(C,B){return C*B},JcKvt:function(C,B){return C/B},dGtNy:function(C,B){return C+B},bhLBq:function(C,B){return C*B},OQthp:function(C,B){return C===B},jksmD:function(C,B){return C!==B},zbBlb:function(C,B){return C(B)},sLnYh:h(330),HoFVd:function(C,B){return C(B)},xdmbx:function(C,B){return C===B},MnmqS:function(C,B){return C/B},dDJSl:function(C,B){return C/B},zSTdo:function(C,B){return C<B},QCpzw:"INlwB",PuKci:function(C,B,R,k){return C(B,R,k)},fcxjX:function(C,B){return C+B},TIlNA:"",GLgIK:h(292),TdkcP:function(C,B){return C(B)},ZOuta:"flower"},[g,v]=d.TdkcP(F.useState,!1),[D,b]=F.useState({placementMode:"",fabricSquareSize:20,baseDiameter:u.baseDiameter,layerCount:1,petalCount:6,petalType:"",sizeMode:d[h(284)],sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:g,setShowAddFlowerDialog:v,addFlowerOpts:D,setAddFlowerOpts:b,addFlower:()=>{const C=h,B={mzoZa:C(313),GeLfx:function(G,H,I,E){return G(H,I,E)}},R=u[C(308)],k=u[C(276)];b(G=>{const H=C,I={...G,fabricSquareSize:R,baseDiameter:k};return I.placementMode===B[H(328)]?I[H(303)]=B[H(305)](Yl,k,R,{layerCount:I[H(294)],sizeMode:I.sizeMode,sizeStepMm:I.sizeStepMm}).diameter:I.flowerDiameter=$i(R,I.layerCount,I.sizeMode,I[H(277)]),I}),d[C(325)](v,!0)},confirmAddFlower:()=>{const C=h,{placementMode:B,layerCount:R,petalCount:k,petalType:G,sizeMode:H,sizeStepMm:I}=D,E=D.fabricSquareSize,{length:U}=jt(E),P=.28,ne=Math[C(282)](d.EeqUi(U*P,10))/10,J=[],_=[d[C(331)],C(270),C(298),d[C(301)],"Outer+"];let w=ne,L=0;for(let oe=0;oe<R;oe++){const pe=oe,Ae=1;let me;if(d[C(306)](H,d[C(284)]))me=Ae;else{const Ue=d[C(309)](I,E);me=d[C(322)](Se,d.OAWeN(Ae,d[C(286)](pe,Ue)),.3,3)}let Le;if(oe===0)d[C(319)]!==d.HJJPR?_0x54d2e7.flowerDiameter=yeRZVO[C(274)](_0x1889d8,_0x37409e,_0x1238d6[C(294)],_0x2e8e65[C(269)],_0x53a1fd[C(277)]):Le=ne;else{const Ue=d[C(306)](H,C(329))?d.zppkJ(Se,1+d.NlfZo(oe,1)*I/E,.3,3):1,ot=U*Ue;let St;if(B===d[C(304)]){const ht=d[C(309)](d[C(293)](70,Math.PI),180),nt=R>1?d.EeqUi(d[C(278)](oe,R-1),ht):0,At=Math[C(317)](nt);St=d.HOuIK(ot,d[C(299)](30,100))*At}else St=ot/3;w=d.dGtNy(w,St),Le=Math[C(282)](d.bhLBq(w,10))/10}const Xe=d[C(311)](oe,0)?0:Vn(k,L,k);L=Xe;let Qe;if(R===1)if(d.jksmD("fHYFk",C(289)))Qe="Layer";else{const Ue=d[C(280)](_0x56e25b,_0x3705b8);_0x4d08c7=_0x543a01(_0x502e1f+_0x39e024*Ue,.3,3)}else if(R<=5){const Ue=d.WQzno(R,2)?[0,3]:R===3?[0,1,3]:d.WQzno(R,4)?[0,1,2,3]:[0,1,2,3,4];Qe=_[Ue[oe]]??C(321)+d.dGtNy(oe,1)}else Qe="Layer "+(oe+1);J[C(279)]({id:d.zbBlb(Rt,d[C(287)]),name:Qe,order:R-oe,petalType:G,petalCount:k,radius:Le,scale:me,widthScale:d[C(288)](ei,k),offsetAngle:Xe,colorId:D[C(281)]||(u.palette?.[0]?.id??"col_white"),visible:!0,locked:!1})}J[C(327)]();const M=[...J][C(315)]((oe,pe)=>oe[C(332)]-pe.order),j=d.xdmbx(B,"")?d[C(322)](Yl,D.baseDiameter,E,{layerCount:R,sizeMode:H,sizeStepMm:I}).diameter:$i(E,R,H,I);K0(M,E,D.flowerDiameter||j);for(const oe of M){const pe=J[C(312)](Ae=>Ae.id===oe.id);pe&&(pe[C(320)]=oe.radius,pe.scale=oe.scale)}const T=d.MnmqS(m.w,m.h),O=d[C(278)](520,o),W=O*T,Y=-f.x/o,N=d[C(299)](-f.y,o);let q=Y+W/2,Z=d.dGtNy(N,d.dDJSl(O,2));const V=25;let le=0;for(;d.zSTdo(le,50)&&u[C(310)][C(285)](oe=>Math[C(297)](oe.position.x-q)<5&&Math[C(297)](oe.position.y-Z)<5);)d[C(311)]("BwErp",d.QCpzw)?_0x128433=_0x4b5665:(q+=V,Z+=V,q=d[C(318)](Se,q,0,p),Z=Se(Z,0,p),le++);const xe=D[C(303)]||j,de={id:d[C(325)](Rt,"flw"),name:"Flower "+d.fcxjX(u[C(310)].length,1),position:{x:q,y:Z},flowerDiameter:xe,rotation:0,layers:J,center:{type:d[C(267)],size:6,color:d.GLgIK},fabricSquareSize:E,placementMode:B,baseDiameter:d.OQthp(B,C(313))?D.baseDiameter:d.BTUfh(Qi,xe)};i(oe=>{oe.flowers.push(de)},!0),d.TdkcP(a,{kind:d[C(326)],flowerId:de.id}),r(oe=>({...oe,[de.id]:!0})),v(!1)}}}(function(u,i){const a=qn,r=u();for(;;)try{if(parseInt(a(427))/1*(-parseInt(a(419))/2)+-parseInt(a(430))/3*(-parseInt(a(410))/4)+parseInt(a(378))/5+parseInt(a(423))/6*(parseInt(a(396))/7)+-parseInt(a(406))/8*(-parseInt(a(425))/9)+-parseInt(a(391))/10*(parseInt(a(387))/11)+parseInt(a(386))/12===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(H0,607687);const tb=(function(){const u=qn,i={zlILg:u(424)};let a=!0;return function(r,o){const f=u,m={NQeEj:i[f(412)]},p=a?function(){const h=f;if(m[h(397)]!=="kSqnV"){if(o){const d=o.apply(r,arguments);return o=null,d}}else return(_0x1ed9bd[h(420)]??[])[h(421)](d=>d.id===_0x2aa7ae.leafId)??null}:function(){};return a=!1,p}})(),Dx=tb(void 0,function(){const u=qn;return Dx.toString().search(u(388))[u(429)]()[u(408)](Dx).search(u(388))});function qn(u,i){u=u-377;const a=H0();let r=a[u];if(qn.xsNLpv===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",D=g+o;for(let b=0,z,S,C=0;S=h.charAt(C++);~S&&(z=b%4?z*64+S:S,b++%4)?g+=D.charCodeAt(C+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,z=g.length;b<z;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};qn.npMDKI=o,qn.iajsfN={},qn.xsNLpv=!0}const f=a[0],m=u+f,p=qn.iajsfN[m];if(p)r=p;else{const h=function(d){this.owsgUX=d,this.GAWfWv=[1,0,0],this.LMketF=function(){return"newState"},this.RniVGj="\\w+ *\\(\\) *{\\w+ *",this.EzpgMT=`['|"].+['|"];? *}`};h.prototype.hVAVXZ=function(){const d=new RegExp(this.RniVGj+this.EzpgMT),g=d.test(this.LMketF.toString())?--this.GAWfWv[1]:--this.GAWfWv[0];return this.DopBMN(g)},h.prototype.DopBMN=function(d){return~d?this.skBodl(this.owsgUX):d},h.prototype.skBodl=function(d){for(let g=0,v=this.GAWfWv.length;g<v;g++)this.GAWfWv.push(Math.round(Math.random())),v=this.GAWfWv.length;return d(this.GAWfWv[0])},new h(qn).hVAVXZ(),r=qn.npMDKI(r),qn.iajsfN[m]=r}return r}function H0(){const u=["q3nmruC","mtH1r0TPBu0","A2PPz0q","ntmYm0juBfbtAG","Aw5JBhvKzxm","Dg9tDhjPBMC","m2vPqwfwyG","qxPbANK","mtu2odm0merHDKzWvW","A2LUza","zMXVD2vYCW","z3jVDxbZ","CMzrsNO","BgvHzKDYB3vWCW","zMXVD2vY","C3rLBMnPBhm","ntu2mZu2mhj5rfn2rW","mtm2mdKYuwfNBNfn","kcGOlISPkYKRksSK","D1vpz2C","Cgv0ywXZ","odGWt0PYtxjl","BgvHzKLKCW","z3jVDxbjza","zK9Ouvi","s0L0twy","n3rtq1zhvq","tLfLrwO","CMndtxm","ve5AteG","BuPZBge","Bgf5zxjjza","wxDttMG","BfLctgS","B1Let2q","yvnRr28","mtKWmZC2zhjlCLrJ","zMLSDgvY","y29UC3rYDwn0B3i","BgvHzKLK","mZuWotCYnePlzuTLuq","zMXVD2vYswrZ","EMXjtgC","Bgf5zxi","vLDfr3a","Cgv0ywW","zMXVD2vYswq","z3jVDxa","rKTcswO","mZHYweftAwy","BgvHDMvZ","zMLUza","C3rLBMnPBeLK","ntCXndiYvhDvA09u"];return H0=function(){return u},H0()}Dx();function nb(u,i){const a=qn,r={VWEGp:function(S,C){return S===C},goFsV:a(413),kjigD:"flowers",rfQJz:a(405),YwSNh:"leafGroup",mJsla:function(S,C){return S!==C},AzAjy:"Vdprv",TNZLH:function(S,C){return S===C},FZERD:a(417),iEVeh:function(S,C){return S===C},rcCMs:"flower",QjMug:function(S,C){return S===C},CQZFv:a(390),QyHOn:"leaf",oYDOd:function(S,C,B){return S(C,B)},lYBLk:"stencil",YBIaE:function(S,C){return S===C},fOhQR:function(S,C,B){return S(C,B)}},o=F.useMemo(()=>{const S=a;return r[S(414)](i[S(379)],"flower")||r.VWEGp(i.kind,r.goFsV)||r.VWEGp(i.kind,S(415))||r.VWEGp(i.kind,"petals")?u.flowers[S(421)](C=>C.id===i[S(416)])??null:null},[u.flowers,i]),f=r[a(404)](F.useMemo,()=>{const S=a;if(i[S(379)]===r[S(426)])return r[S(382)]==="dYkTq"?_0x3e769f[S(380)][S(421)](C=>C.id===_0x58ee73.flowerId)??null:u[S(380)].filter(C=>i[S(411)][S(428)](C.id));if(r[S(414)](i.kind,"group")){const C=(u.groups??[])[S(421)](B=>B.id===i[S(393)]);if(C)return u.flowers[S(407)](B=>C.flowerIds.includes(B.id))}return[]},[u.flowers,u.groups,i]),m=F.useMemo(()=>{const S=a,C={wUOgg:function(B,R){return r.VWEGp(B,R)},kxHIf:r[S(402)]};return i.kind==="leaf"?r[S(400)](r.AzAjy,r[S(377)])?C[S(389)](_0x20915e.kind,C.kxHIf)?(_0x2c826b.leafGroups??[])[S(421)](B=>B.id===_0x2f9700.leafGroupId)??null:null:(u.leaves??[]).find(B=>B.id===i.leafId)??null:null},[u[a(420)],i]),p=r[a(404)](F.useMemo,()=>{const S=a;return r[S(414)](i.kind,r[S(402)])?(u.leafGroups??[])[S(421)](C=>C.id===i.leafGroupId)??null:null},[u[a(383)],i]),h=r[a(404)](F.useMemo,()=>{const S=a;return o&&(r[S(399)](i[S(379)],"layer")||i[S(379)]===S(415))?o.layers[S(421)](C=>C.id===i[S(401)])??null:null},[o,i]),d=i[a(379)]===a(415)?i.index:null,g=i.kind==="petals"?i.petals:[],v=r[a(414)](i[a(379)],r[a(403)])?(u[a(385)]??[]).find(S=>S.id===i[a(422)])??null:null,D=i[a(379)]===r[a(398)]||r.YBIaE(i[a(379)],a(413))||r.VWEGp(i.kind,a(415))||i.kind==="petals"?i[a(416)]:null,b=r[a(394)](F.useMemo,()=>{const S=a,C={KItMf:function(B,R){return B===R}};if(r.VWEGp(i.kind,r.FZERD)){const B=(u[S(381)]??[])[S(421)](R=>R.id===i[S(393)]);if(B)return new Set(B[S(411)])}if(r.VWEGp(i[S(379)],S(380)))return new Set(i.flowerIds);if(r.iEVeh(i.kind,r.rcCMs)||r.QjMug(i.kind,S(413))||i.kind==="petal"||i[S(379)]===r.CQZFv){const B=ua(u,i.flowerId);if(B)return i[S(379)]===r.rcCMs?S(418)==="FKBIj"?new Set(B[S(411)][S(407)](R=>R!==i.flowerId)):C[S(395)](_0x181115[S(379)],S(384))?new _0x23ab55(_0x3e40fe.flowerIds[S(407)](R=>R!==_0x21e83c[S(416)])):new _0x2c786d(_0x354b45.flowerIds):new Set(B.flowerIds)}return new Set},[i,u]),z=F.useMemo(()=>{const S=a;if(i[S(379)]===r.YwSNh){const C=(u[S(383)]??[]).find(B=>B.id===i.leafGroupId);if(C)return new Set(C[S(392)])}if(r.QjMug(i.kind,r.QyHOn)){const C=Y0(u,i[S(409)]);if(C)return new Set(C.leafIds[S(407)](B=>B!==i[S(409)]))}return new Set},[i,u]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:m,selectedLeafGroup:p,selectedLayer:h,selectedPetalIndex:d,selectedPetals:g,selectedStencil:v,selectedFlowerId:D,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:z}}function lb(u){const{project:i,selection:a,setSelection:r,applyUpdate:o}=u,f=F.useMemo(()=>new Map((i.palette||[]).map(fe=>[fe.id,fe])),[i.palette]),{widths:m,containerRef:p,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:g,isDesktop:v}=Jm(),D=F.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[b,z]=F.useState({});F.useEffect(()=>{try{const ge=localStorage.getItem(D);if(ge){const He=JSON.parse(ge);if(He&&typeof He=="object"){z(He);return}}}catch{}const fe=i.flowers?.[0];fe&&z({[fe.id]:!0})},[D]),F.useEffect(()=>{try{localStorage.setItem(D,JSON.stringify(b))}catch{}},[D,b]),F.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const fe=a.flowerId;z(ge=>ge?.[fe]?ge:{...ge,[fe]:!0})}a.kind==="flowers"&&z(fe=>{const ge={...fe};for(const He of a.flowerIds)ge[He]=!0;return ge})},[a]);const S=fe=>b?.[fe]??!1,C=fe=>z(ge=>({...ge,[fe]:!(ge?.[fe]??!1)})),B=F.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[R,k]=F.useState({});F.useEffect(()=>{try{const ge=localStorage.getItem(B);if(ge){const He=JSON.parse(ge);if(He&&typeof He=="object"){k(He);return}}}catch{}const fe=i.groups??[];if(fe.length>0){const ge={};for(const He of fe)ge[He.id]=!0;k(ge)}},[B]),F.useEffect(()=>{try{localStorage.setItem(B,JSON.stringify(R))}catch{}},[B,R]);const G=fe=>R?.[fe]??!0,H=fe=>k(ge=>({...ge,[fe]:!(ge?.[fe]??!0)})),I=F.useRef({flowerId:null,timer:null}),E=fe=>{const ge=I.current.timer;ge&&window.clearTimeout(ge),I.current.flowerId=fe,I.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:fe}),z(He=>({...He,[fe]:!0})),I.current.timer=null,I.current.flowerId=null},200)},U=fe=>{const ge=I.current.timer;ge&&I.current.flowerId===fe&&window.clearTimeout(ge),I.current.timer=null,I.current.flowerId=null,r({kind:"flower",flowerId:fe}),C(fe)},P=F.useRef(null),[ne,J]=F.useState({w:520,h:520});F.useEffect(()=>{const fe=P.current;if(!fe)return;const ge=new ResizeObserver(He=>{for(const Jt of He){const{width:gt,height:rn}=Jt.contentRect;gt>0&&rn>0&&J({w:gt,h:rn})}});return ge.observe(fe),()=>ge.disconnect()},[]);const _=fe=>{const ge=P.current;if(!ge)return{x:0,y:0};const He=ge.createSVGPoint();He.x=fe.clientX,He.y=fe.clientY;const Jt=ge.getScreenCTM();if(!Jt)return{x:0,y:0};const gt=He.matrixTransform(Jt.inverse());return{x:gt.x,y:gt.y}},w=500*an,L=-300*an,M=800*an,j=F.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[T,O]=F.useState(6),[W,Y]=F.useState(j[6]),N=F.useCallback(fe=>{O(ge=>{const He=typeof fe=="function"?fe(ge):fe;return Y(j[He]),He})},[j]),q=F.useCallback(fe=>{const ge=Se(fe,j[0],j[j.length-1]);Y(ge);let He=0,Jt=Math.abs(j[0]-ge);for(let gt=1;gt<j.length;gt++){const rn=Math.abs(j[gt]-ge);rn<Jt&&(He=gt,Jt=rn)}O(He)},[j]),[Z,V]=F.useState({x:0,y:0}),[le,xe]=F.useState(!0),[de,oe]=F.useState(!1),pe=F.useRef(null),Ae=F.useMemo(()=>{const fe=ne.w/ne.h,ge=520,He=ge*fe;return(Jt,gt=W)=>{const rn=Se(Jt.x,-(M*gt-He),-L*gt),ai=Se(Jt.y,-(M*gt-ge),-L*gt);return{x:rn,y:ai}}},[ne,W,L,M]),me=F.useMemo(()=>Ae(Z),[Z,Ae]),Le=F.useCallback(fe=>V(fe),[]),Xe=F.useMemo(()=>{const fe=ne.w/ne.h,ge=520,He=ge*fe,Jt=-me.x/W,gt=-me.y/W;return`${Jt} ${gt} ${He/W} ${ge/W}`},[W,me,ne]),{addLeaf:Qe,deleteLeafById:Ue,handleShiftLeafSelect:ot,groupSelectedLeaves:St,ungroupLeaves:Nt,addLeafToGroup:ht,removeLeafFromGroup:nt}=Fm({project:i,applyUpdate:o,selection:a,setSelection:r,zoom:W,pan:me,stageSize:ne,CANVAS_MAX_SVG:w}),{showAddFlowerDialog:At,setShowAddFlowerDialog:Kl,addFlowerOpts:sa,setAddFlowerOpts:mt,addFlower:oa,confirmAddFlower:Gn}=eb({project:i,applyUpdate:o,setSelection:r,setExpandedFlowers:z,zoom:W,pan:me,stageSize:ne,CANVAS_MAX_SVG:w}),{selectedFlower:fa,selectedFlowers:In,selectedLeaf:ti,selectedLeafGroup:da,selectedLayer:it,selectedPetalIndex:se,selectedPetals:Ce,selectedStencil:je,selectedFlowerId:we,groupHighlightedFlowerIds:ve,leafGroupHighlightedLeafIds:Lt}=nb(i,a),{deleteFlowerById:ke,deleteLayerById:Me,addOuterLayer:bt,deleteOuterLayer:tt,deleteSelected:rt,groupSelectedFlowers:Oe,ungroupFlowers:We,addToGroup:kn,mergeGroups:Tt,addStencil:yn,deleteStencil:Mt,handleShiftFlowerSelect:ut,togglePetalSelection:Wt}=Qm({project:i,applyUpdate:o,selection:a,setSelection:r,setExpandedFlowers:z,setExpandedGroups:k,zoom:W,pan:me,stageSize:ne,CANVAS_MAX_SVG:w,deleteLeafById:Ue,ungroupLeaves:Nt}),Ze=em({project:i,selection:a,setSelection:r,applyUpdate:o,dragRef:u.dragRef,zoom:W,pan:me,setPan:Le,stageRef:P,clientToSvgPoint:_,togglePetalSelection:Wt}),[ni,lr]=F.useState(0),pn=a.kind,li=pn==="flower"?a.flowerId:null,ar=pn==="flowers"?a.flowerIds?.join(","):null,ir=pn==="layer"||pn==="petal"?a.layerId:null,Un=pn==="petal"?a.index:null,wt=pn==="petals"?a.petals?.length:null;F.useEffect(()=>{pn!=="project"&&lr(Date.now())},[pn,li,ar,ir,Un,wt]),F.useEffect(()=>{if(!pe.current)return;const fe=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!fe)return;const ge=pe.current.querySelector(`[data-flower-id="${fe}"]`);ge&&ge.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ot=F.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[ni]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:p,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:v?{width:`${m.left}%`}:void 0,children:x.jsx(nm,{project:i,selection:a,setSelection:r,expandedFlowers:b,setExpandedFlowers:z,isExpanded:S,toggleExpanded:C,scheduleFlowerRowClick:E,handleFlowerRowDoubleClick:U,addFlower:oa,deleteSelected:rt,addOuterLayer:bt,deleteOuterLayer:tt,deleteFlowerById:ke,deleteLayerById:Me,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:pe,groups:i.groups??[],expandedGroups:R,isGroupExpanded:G,toggleGroupExpanded:H,onSelectGroup:fe=>r({kind:"group",groupId:fe}),onUngroupFlowers:We,leaves:i.leaves??[],leafGroups:i.leafGroups??[],onSelectLeaf:fe=>r({kind:"leaf",leafId:fe}),onSelectLeafGroup:fe=>r({kind:"leafGroup",leafGroupId:fe}),onAddLeaf:Qe,onDeleteLeaf:Ue})}),x.jsx(Rd,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:g}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(zm,{project:i,selection:a,setSelection:r,applyUpdate:o,paletteMap:f,selectedFlowerId:we,zoom:W,setZoom:q,zoomLevel:T,setZoomLevel:N,ZOOM_LEVELS:j,pan:me,panRaw:Z,setPan:Le,showGrid:le,setShowGrid:xe,showHelp:de,setShowHelp:oe,stageRef:P,viewBox:Xe,dashSyncToken:ni,dashDelay:Ot,beginPan:Ze.beginPan,updatePan:Ze.updatePan,endPan:Ze.endPan,beginMarquee:Ze.beginMarquee,updateMarquee:Ze.updateMarquee,endMarquee:Ze.endMarquee,marqueeRef:Ze.marqueeRef,marqueeRect:Ze.marqueeRect,beginFlowerDrag:Ze.beginFlowerDrag,updateFlowerDrag:Ze.updateFlowerDrag,endFlowerDrag:Ze.endFlowerDrag,scaleDragRef:Ze.scaleDragRef,beginScaleDrag:Ze.beginScaleDrag,updateScaleDrag:Ze.updateScaleDrag,endScaleDrag:Ze.endScaleDrag,rotationDragRef:Ze.rotationDragRef,beginRotationDrag:Ze.beginRotationDrag,updateRotationDrag:Ze.updateRotationDrag,endRotationDrag:Ze.endRotationDrag,widthScaleDragRef:Ze.widthScaleDragRef,beginWidthScaleDrag:Ze.beginWidthScaleDrag,updateWidthScaleDrag:Ze.updateWidthScaleDrag,endWidthScaleDrag:Ze.endWidthScaleDrag,radiusDragRef:Ze.radiusDragRef,beginRadiusDrag:Ze.beginRadiusDrag,updateRadiusDrag:Ze.updateRadiusDrag,endRadiusDrag:Ze.endRadiusDrag,togglePetalSelection:Wt,clientToSvgPoint:_,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:yn,onDeleteStencil:Mt,onSelectStencil:fe=>r({kind:"stencil",stencilId:fe}),handleShiftFlowerSelect:ut,groupHighlightedFlowerIds:ve,leaves:i.leaves??[],leafGroups:i.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Lt,onSelectLeaf:fe=>r({kind:"leaf",leafId:fe}),onShiftSelectLeaf:ot})}),x.jsx(Rd,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:g}),x.jsx("div",{className:"min-w-0 shrink-0",style:v?{width:`${m.right}%`}:void 0,children:x.jsx(Km,{project:i,selection:a,applyUpdate:o,selectedFlower:fa,selectedFlowers:In,selectedLayer:it,selectedPetalIndex:se,selectedPetals:Ce,selectedStencil:je,onDeleteStencil:Mt,groups:i.groups??[],onGroupFlowers:Oe,onUngroupFlowers:We,onAddToGroup:kn,onMergeGroups:Tt,selectedLeaf:ti,selectedLeafGroup:da,leafGroups:i.leafGroups??[],onDeleteLeaf:Ue,onGroupLeaves:St,onUngroupLeaves:Nt,onAddLeafToGroup:ht,onRemoveLeafFromGroup:nt})})]}),At&&x.jsx(Zm,{palette:i.palette,addFlowerOpts:sa,setAddFlowerOpts:mt,onConfirm:Gn,onCancel:()=>Kl(!1)}),de&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:fe=>fe.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([fe,ge])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:fe}),x.jsx("td",{className:"py-2 text-neutral-700",children:ge})]},fe))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function ab({cg:u}){const[i,a]=F.useState("w"),[r,o]=F.useState(""),f=u.totalAreaCm2,m=parseFloat(r),h=r!==""&&Number.isFinite(m)&&m>0?Math.round(f/m*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(d=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function ib(u){const{recipe:i}=u;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[i.colors.map(a=>x.jsx(ab,{cg:a},a.colorId)),i.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function rb(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function cb(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function ub(u){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function xb(){const[u,i]=F.useState("home"),[a,r]=F.useState([]),[o,f]=F.useState(null),[m,p]=F.useState({kind:"project"}),[h,d]=F.useState([]),[g,v]=F.useState(0),D=F.useRef(o),b=F.useRef(h),z=F.useRef(g);F.useEffect(()=>{D.current=o},[o]),F.useEffect(()=>{b.current=h},[h]),F.useEffect(()=>{z.current=g},[g]);const S=F.useRef(null),C=F.useRef(null),B=F.useRef(null),R=F.useRef(null),[k,G]=F.useState(null);F.useEffect(()=>{const Y=k?window.setTimeout(()=>G(null),2200):null;return()=>{Y&&window.clearTimeout(Y)}},[k]),F.useEffect(()=>{r(Fi())},[]);function H(Y){const N=JSON.stringify(Y);d([N]),v(0)}function I(Y,N=!0){if(!N){f(Ae=>{if(!Ae)return Ae;const me=Rl(Ae);return Y(me),me.updatedAt=p0(),me});return}const q=D.current;if(!q)return;const Z=Rl(q);Y(Z),Z.updatedAt=p0(),f(Z);const V=b.current,le=z.current;if(V.length===0){H(Z);return}const xe=JSON.stringify(Z);let oe=[...V.slice(0,le+1),xe];const pe=50;oe.length>pe&&(oe=oe.slice(oe.length-pe)),d(oe),v(oe.length-1)}function E(){v(Y=>{if(Y<=0)return Y;const N=Y-1,q=b.current[N];return q&&f(ca(JSON.parse(q))),G("Undo"),N})}function U(){v(Y=>{if(Y>=b.current.length-1)return Y;const N=Y+1,q=b.current[N];return q&&f(ca(JSON.parse(q))),G("Redo"),N})}function P(){if(!o)return;const Y=Oh(o);r(Fi()),G(Y?"Saved":" ")}function ne(){if(!o)return;const Y=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),N=URL.createObjectURL(Y),q=document.createElement("a");q.href=N,q.download=`${o.title||"tsumami"}.json`,q.click(),URL.revokeObjectURL(N),G("JSON exported")}function J(Y){const N=new FileReader;N.onload=()=>{try{const q=JSON.parse(String(N.result??""));if(!q||typeof q!="object"||!Array.isArray(q.flowers))throw new Error("Invalid JSON");const Z=ca(q);f(Z),p({kind:"project"}),H(Z),i("editor"),G("Imported")}catch{G("Import failed")}},N.readAsText(Y)}function _(Y){const N=ca(Y);f(N),p({kind:"project"}),H(N),i("editor")}function w(Y){return Y&&(Y.kind==="flower"||Y.kind==="layer"||Y.kind==="petal")?Y.flowerId:null}function L(){if(!o)return;const Y=w(m);if(!Y)return;const N=o.flowers.find(q=>q.id===Y);N&&(C.current=Rl(N),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:N},null,2)).catch(()=>{}),G("Flower copied"))}function M(){if(!o||m.kind!=="leaf")return;const Y=(o.leaves??[]).find(N=>N.id===m.leafId);Y&&(B.current=Rl(Y),G("Leaf copied"))}function j(){if(!o)return;const Y=C.current;if(!Y){G("Nothing to paste");return}const N=Eh(Y,{x:12+Math.random()*10,y:12+Math.random()*10});I(q=>{q.flowers.push(N)},!0),p({kind:"flower",flowerId:N.id}),G("Flower pasted")}function T(){if(!o)return;const Y=B.current;if(!Y)return;const N=Rt("leaf"),q={...Rl(Y),id:N,name:Y.name+" (copy)",position:{x:Y.position.x+30,y:Y.position.y+30}};I(Z=>{Z.leaves||(Z.leaves=[]),Z.leaves.push(q)},!0),p({kind:"leaf",leafId:q.id}),G("Leaf pasted")}function O(Y){if(!o)return;const N=w(m);N&&(I(q=>{const Z=q.flowers.findIndex(de=>de.id===N);if(Z<0)return;const V=q.flowers,le=V[Z];if(!le)return;if(V.splice(Z,1),Y==="front"){V.push(le);return}if(Y==="back"){V.unshift(le);return}if(Y==="forward"){if(Z>=V.length){V.push(le);return}V.splice(Z+1,0,le);return}const xe=Se(Z-1,0,V.length);V.splice(xe,0,le)},!0),G(Y==="front"?"Brought to front":Y==="back"?"Sent to back":Y==="forward"?"Moved forward":"Moved backward"))}F.useEffect(()=>{function Y(q){const Z=q;if(!Z)return!1;const V=String(Z.tagName||"").toLowerCase();return V==="input"||V==="textarea"||V==="select"||!!Z.isContentEditable}function N(q){if(!(Y(q.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?q.metaKey:q.ctrlKey))){if(u==="editor"){if(q.key.toLowerCase()==="c"){q.preventDefault(),m.kind==="leaf"?M():L();return}if(q.key.toLowerCase()==="v"){q.preventDefault(),B.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="leafGroup"||!C.current)?T():j();return}}q.key.toLowerCase()==="z"&&(q.preventDefault(),q.shiftKey?U():E()),q.key.toLowerCase()==="s"&&(q.preventDefault(),P())}}return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[o,h,g,m,u]);const W=F.useMemo(()=>o?Kh(o):null,[o]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx(Wh,{view:u,onNavigate:i,project:o,onSave:P,onLoad:()=>i("home"),onImportJson:()=>R.current?.click(),onExportJson:ne,onExportSvg:()=>{const Y=document.querySelector('[data-testid="canvas-svg"]');Y&&o&&Uh(Y,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const Y=document.querySelector('[data-testid="canvas-svg"]');Y&&o&&Zh(Y,`${o.title||"tsumami"}.png`)}}),x.jsx("input",{ref:R,type:"file",accept:"application/json",className:"hidden",onChange:Y=>{const N=Y.target.files?.[0];N&&J(N),Y.currentTarget.value=""}}),k&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:k}),x.jsxs("main",{className:"flex-1",children:[u==="home"&&x.jsx(Jh,{saved:a,onNew:()=>i("new"),onOpen:Y=>{const N=ca(Rl(Y));f(N),p({kind:"project"}),H(N),i("editor")},onDelete:Y=>{Hh(Y),r(Fi()),G("Deleted")}}),u==="new"&&x.jsx(Vh,{onBack:()=>i("home"),onCreate:Y=>{const N=Bh({title:Y});_(N)}}),u==="editor"&&o&&x.jsx(lb,{project:o,selection:m,setSelection:p,applyUpdate:I,onGoRecipe:()=>i("recipe"),onImport:J,dragRef:S,onCopyFlower:L,onPasteFlower:j,onArrangeFlower:O,canPasteFlower:!!C.current,onUndo:E,onRedo:U,canUndo:g>0,canRedo:g<h.length-1}),u==="recipe"&&o&&W&&x.jsx(ib,{project:o,recipe:W,onBack:()=>i("editor"),onExportJson:ne}),u==="terms"&&x.jsx(rb,{onBack:()=>i("home")}),u==="privacy"&&x.jsx(cb,{onBack:()=>i("home")}),(u==="editor"||u==="recipe")&&!o&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&x.jsx(ub,{onNavigate:i})]})}class sb extends F.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}gh.createRoot(document.getElementById("root")).render(x.jsx(F.StrictMode,{children:x.jsx(sb,{children:x.jsx(xb,{})})}));

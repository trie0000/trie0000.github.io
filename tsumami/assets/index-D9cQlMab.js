(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const o of f)if(o.type==="childList")for(const v of o.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function a(f){const o={};return f.integrity&&(o.integrity=f.integrity),f.referrerPolicy&&(o.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?o.credentials="include":f.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(f){if(f.ep)return;f.ep=!0;const o=a(f);fetch(f.href,o)}})();var ax={exports:{}},er={};var Dd;function mh(){if(Dd)return er;Dd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,f,o){var v=null;if(o!==void 0&&(v=""+o),f.key!==void 0&&(v=""+f.key),"key"in f){o={};for(var p in f)p!=="key"&&(o[p]=f[p])}else o=f;return f=o.ref,{$$typeof:c,type:i,key:v,ref:f!==void 0?f:null,props:o}}return er.Fragment=r,er.jsx=a,er.jsxs=a,er}var Nd;function bh(){return Nd||(Nd=1,ax.exports=mh()),ax.exports}var x=bh(),ix={exports:{}},Ae={};var Ad;function gh(){if(Ad)return Ae;Ad=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),v=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),y=Symbol.iterator;function M(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,d={};function k(w,L,O){this.props=w,this.context=L,this.refs=d,this.updater=O||D}k.prototype.isReactComponent={},k.prototype.setState=function(w,L){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,L,"setState")},k.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function G(){}G.prototype=k.prototype;function R(w,L,O){this.props=w,this.context=L,this.refs=d,this.updater=O||D}var q=R.prototype=new G;q.constructor=R,g(q,k.prototype),q.isPureReactComponent=!0;var K=Array.isArray;function U(){}var X={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function F(w,L,O){var Y=O.ref;return{$$typeof:c,type:w,key:L,ref:Y!==void 0?Y:null,props:O}}function J(w,L){return F(w.type,L,w.props)}function W(w){return typeof w=="object"&&w!==null&&w.$$typeof===c}function I(w){var L={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(O){return L[O]})}var Z=/\/+/g;function j(w,L){return typeof w=="object"&&w!==null&&w.key!=null?I(""+w.key):L.toString(36)}function h(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(U,U):(w.status="pending",w.then(function(L){w.status==="pending"&&(w.status="fulfilled",w.value=L)},function(L){w.status==="pending"&&(w.status="rejected",w.reason=L)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function z(w,L,O,Y,P){var te=typeof w;(te==="undefined"||te==="boolean")&&(w=null);var xe=!1;if(w===null)xe=!0;else switch(te){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(w.$$typeof){case c:case r:xe=!0;break;case S:return xe=w._init,z(xe(w._payload),L,O,Y,P)}}if(xe)return P=P(w),xe=Y===""?"."+j(w,0):Y,K(P)?(O="",xe!=null&&(O=xe.replace(Z,"$&/")+"/"),z(P,L,O,"",function(be){return be})):P!=null&&(W(P)&&(P=J(P,O+(P.key==null||w&&w.key===P.key?"":(""+P.key).replace(Z,"$&/")+"/")+xe)),L.push(P)),1;xe=0;var oe=Y===""?".":Y+":";if(K(w))for(var fe=0;fe<w.length;fe++)Y=w[fe],te=oe+j(Y,fe),xe+=z(Y,L,O,te,P);else if(fe=M(w),typeof fe=="function")for(w=fe.call(w),fe=0;!(Y=w.next()).done;)Y=Y.value,te=oe+j(Y,fe++),xe+=z(Y,L,O,te,P);else if(te==="object"){if(typeof w.then=="function")return z(h(w),L,O,Y,P);throw L=String(w),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return xe}function A(w,L,O){if(w==null)return w;var Y=[],P=0;return z(w,Y,"","",function(te){return L.call(O,te,P++)}),Y}function N(w){if(w._status===-1){var L=w._result;L=L(),L.then(function(O){(w._status===0||w._status===-1)&&(w._status=1,w._result=O)},function(O){(w._status===0||w._status===-1)&&(w._status=2,w._result=O)}),w._status===-1&&(w._status=0,w._result=L)}if(w._status===1)return w._result.default;throw w._result}var B=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},E={map:A,forEach:function(w,L,O){A(w,function(){L.apply(this,arguments)},O)},count:function(w){var L=0;return A(w,function(){L++}),L},toArray:function(w){return A(w,function(L){return L})||[]},only:function(w){if(!W(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Ae.Activity=_,Ae.Children=E,Ae.Component=k,Ae.Fragment=a,Ae.Profiler=f,Ae.PureComponent=R,Ae.StrictMode=i,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(w){return X.H.useMemoCache(w)}},Ae.cache=function(w){return function(){return w.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(w,L,O){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Y=g({},w.props),P=w.key;if(L!=null)for(te in L.key!==void 0&&(P=""+L.key),L)!H.call(L,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&L.ref===void 0||(Y[te]=L[te]);var te=arguments.length-2;if(te===1)Y.children=O;else if(1<te){for(var xe=Array(te),oe=0;oe<te;oe++)xe[oe]=arguments[oe+2];Y.children=xe}return F(w.type,P,Y)},Ae.createContext=function(w){return w={$$typeof:v,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},Ae.createElement=function(w,L,O){var Y,P={},te=null;if(L!=null)for(Y in L.key!==void 0&&(te=""+L.key),L)H.call(L,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(P[Y]=L[Y]);var xe=arguments.length-2;if(xe===1)P.children=O;else if(1<xe){for(var oe=Array(xe),fe=0;fe<xe;fe++)oe[fe]=arguments[fe+2];P.children=oe}if(w&&w.defaultProps)for(Y in xe=w.defaultProps,xe)P[Y]===void 0&&(P[Y]=xe[Y]);return F(w,te,P)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(w){return{$$typeof:p,render:w}},Ae.isValidElement=W,Ae.lazy=function(w){return{$$typeof:S,_payload:{_status:-1,_result:w},_init:N}},Ae.memo=function(w,L){return{$$typeof:b,type:w,compare:L===void 0?null:L}},Ae.startTransition=function(w){var L=X.T,O={};X.T=O;try{var Y=w(),P=X.S;P!==null&&P(O,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(U,B)}catch(te){B(te)}finally{L!==null&&O.types!==null&&(L.types=O.types),X.T=L}},Ae.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Ae.use=function(w){return X.H.use(w)},Ae.useActionState=function(w,L,O){return X.H.useActionState(w,L,O)},Ae.useCallback=function(w,L){return X.H.useCallback(w,L)},Ae.useContext=function(w){return X.H.useContext(w)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(w,L){return X.H.useDeferredValue(w,L)},Ae.useEffect=function(w,L){return X.H.useEffect(w,L)},Ae.useEffectEvent=function(w){return X.H.useEffectEvent(w)},Ae.useId=function(){return X.H.useId()},Ae.useImperativeHandle=function(w,L,O){return X.H.useImperativeHandle(w,L,O)},Ae.useInsertionEffect=function(w,L){return X.H.useInsertionEffect(w,L)},Ae.useLayoutEffect=function(w,L){return X.H.useLayoutEffect(w,L)},Ae.useMemo=function(w,L){return X.H.useMemo(w,L)},Ae.useOptimistic=function(w,L){return X.H.useOptimistic(w,L)},Ae.useReducer=function(w,L,O){return X.H.useReducer(w,L,O)},Ae.useRef=function(w){return X.H.useRef(w)},Ae.useState=function(w){return X.H.useState(w)},Ae.useSyncExternalStore=function(w,L,O){return X.H.useSyncExternalStore(w,L,O)},Ae.useTransition=function(){return X.H.useTransition()},Ae.version="19.2.3",Ae}var Ld;function Ix(){return Ld||(Ld=1,ix.exports=gh()),ix.exports}var ee=Ix(),rx={exports:{}},tr={},cx={exports:{}},ux={};var Td;function vh(){return Td||(Td=1,(function(c){function r(z,A){var N=z.length;z.push(A);e:for(;0<N;){var B=N-1>>>1,E=z[B];if(0<f(E,A))z[B]=A,z[N]=E,N=B;else break e}}function a(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var A=z[0],N=z.pop();if(N!==A){z[0]=N;e:for(var B=0,E=z.length,w=E>>>1;B<w;){var L=2*(B+1)-1,O=z[L],Y=L+1,P=z[Y];if(0>f(O,N))Y<E&&0>f(P,O)?(z[B]=P,z[Y]=N,B=Y):(z[B]=O,z[L]=N,B=L);else if(Y<E&&0>f(P,N))z[B]=P,z[Y]=N,B=Y;else break e}}return A}function f(z,A){var N=z.sortIndex-A.sortIndex;return N!==0?N:z.id-A.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var v=Date,p=v.now();c.unstable_now=function(){return v.now()-p}}var m=[],b=[],S=1,_=null,y=3,M=!1,D=!1,g=!1,d=!1,k=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function q(z){for(var A=a(b);A!==null;){if(A.callback===null)i(b);else if(A.startTime<=z)i(b),A.sortIndex=A.expirationTime,r(m,A);else break;A=a(b)}}function K(z){if(g=!1,q(z),!D)if(a(m)!==null)D=!0,U||(U=!0,I());else{var A=a(b);A!==null&&h(K,A.startTime-z)}}var U=!1,X=-1,H=5,F=-1;function J(){return d?!0:!(c.unstable_now()-F<H)}function W(){if(d=!1,U){var z=c.unstable_now();F=z;var A=!0;try{e:{D=!1,g&&(g=!1,G(X),X=-1),M=!0;var N=y;try{t:{for(q(z),_=a(m);_!==null&&!(_.expirationTime>z&&J());){var B=_.callback;if(typeof B=="function"){_.callback=null,y=_.priorityLevel;var E=B(_.expirationTime<=z);if(z=c.unstable_now(),typeof E=="function"){_.callback=E,q(z),A=!0;break t}_===a(m)&&i(m),q(z)}else i(m);_=a(m)}if(_!==null)A=!0;else{var w=a(b);w!==null&&h(K,w.startTime-z),A=!1}}break e}finally{_=null,y=N,M=!1}A=void 0}}finally{A?I():U=!1}}}var I;if(typeof R=="function")I=function(){R(W)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,j=Z.port2;Z.port1.onmessage=W,I=function(){j.postMessage(null)}}else I=function(){k(W,0)};function h(z,A){X=k(function(){z(c.unstable_now())},A)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(z){z.callback=null},c.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<z?Math.floor(1e3/z):5},c.unstable_getCurrentPriorityLevel=function(){return y},c.unstable_next=function(z){switch(y){case 1:case 2:case 3:var A=3;break;default:A=y}var N=y;y=A;try{return z()}finally{y=N}},c.unstable_requestPaint=function(){d=!0},c.unstable_runWithPriority=function(z,A){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var N=y;y=z;try{return A()}finally{y=N}},c.unstable_scheduleCallback=function(z,A,N){var B=c.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?B+N:B):N=B,z){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=N+E,z={id:S++,callback:A,priorityLevel:z,startTime:N,expirationTime:E,sortIndex:-1},N>B?(z.sortIndex=N,r(b,z),a(m)===null&&z===a(b)&&(g?(G(X),X=-1):g=!0,h(K,N-B))):(z.sortIndex=E,r(m,z),D||M||(D=!0,U||(U=!0,I()))),z},c.unstable_shouldYield=J,c.unstable_wrapCallback=function(z){var A=y;return function(){var N=y;y=A;try{return z.apply(this,arguments)}finally{y=N}}}})(ux)),ux}var Ed;function yh(){return Ed||(Ed=1,cx.exports=vh()),cx.exports}var xx={exports:{}},Xt={};var Bd;function ph(){if(Bd)return Xt;Bd=1;var c=Ix();function r(m){var b="https://react.dev/errors/"+m;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+m+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function o(m,b,S){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:_==null?null:""+_,children:m,containerInfo:b,implementation:S}}var v=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,b){if(m==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xt.createPortal=function(m,b){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(r(299));return o(m,b,null,S)},Xt.flushSync=function(m){var b=v.T,S=i.p;try{if(v.T=null,i.p=2,m)return m()}finally{v.T=b,i.p=S,i.d.f()}},Xt.preconnect=function(m,b){typeof m=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,i.d.C(m,b))},Xt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Xt.preinit=function(m,b){if(typeof m=="string"&&b&&typeof b.as=="string"){var S=b.as,_=p(S,b.crossOrigin),y=typeof b.integrity=="string"?b.integrity:void 0,M=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;S==="style"?i.d.S(m,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:M}):S==="script"&&i.d.X(m,{crossOrigin:_,integrity:y,fetchPriority:M,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Xt.preinitModule=function(m,b){if(typeof m=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var S=p(b.as,b.crossOrigin);i.d.M(m,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&i.d.M(m)},Xt.preload=function(m,b){if(typeof m=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var S=b.as,_=p(S,b.crossOrigin);i.d.L(m,S,{crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Xt.preloadModule=function(m,b){if(typeof m=="string")if(b){var S=p(b.as,b.crossOrigin);i.d.m(m,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else i.d.m(m)},Xt.requestFormReset=function(m){i.d.r(m)},Xt.unstable_batchedUpdates=function(m,b){return m(b)},Xt.useFormState=function(m,b,S){return v.H.useFormState(m,b,S)},Xt.useFormStatus=function(){return v.H.useHostTransitionStatus()},Xt.version="19.2.3",Xt}var kd;function _h(){if(kd)return xx.exports;kd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),xx.exports=ph(),xx.exports}var qd;function Sh(){if(qd)return tr;qd=1;var c=yh(),r=Ix(),a=_h();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(o(e)!==e)throw Error(i(188))}function b(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var s=u.alternate;if(s===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===s.child){for(s=u.child;s;){if(s===n)return m(u),e;if(s===l)return m(u),t;s=s.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=s;else{for(var C=!1,T=u.child;T;){if(T===n){C=!0,n=u,l=s;break}if(T===l){C=!0,l=u,n=s;break}T=T.sibling}if(!C){for(T=s.child;T;){if(T===n){C=!0,n=s,l=u;break}if(T===l){C=!0,l=s,n=u;break}T=T.sibling}if(!C)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),R=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Symbol.for("react.client.reference");function j(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case k:return"Profiler";case d:return"StrictMode";case K:return"Suspense";case U:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case R:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:j(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return j(e(t))}catch{}}return null}var h=Array.isArray,z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},B=[],E=-1;function w(e){return{current:e}}function L(e){0>E||(e.current=B[E],B[E]=null,E--)}function O(e,t){E++,B[E]=e.current,e.current=t}var Y=w(null),P=w(null),te=w(null),xe=w(null);function oe(e,t){switch(O(te,t),O(P,e),O(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Pf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Pf(t),e=Ff(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(Y),O(Y,e)}function fe(){L(Y),L(P),L(te)}function be(e){e.memoizedState!==null&&O(xe,e);var t=Y.current,n=Ff(t,e.type);t!==n&&(O(P,e),O(Y,n))}function he(e){P.current===e&&(L(Y),L(P)),xe.current===e&&(L(xe),Qi._currentValue=N)}var ve,Ne;function Ie(e){if(ve===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ve=t&&t[1]||"",Ne=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+e+Ne}var nt=!1;function mt(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var ae=ie}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ie){ae=ie}e.call(ue.prototype)}}else{try{throw Error()}catch(ie){ae=ie}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&ae&&typeof ie.stack=="string")return[ie.stack,ae.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),C=s[0],T=s[1];if(C&&T){var V=C.split(`
`),le=T.split(`
`);for(u=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;u<le.length&&!le[u].includes("DetermineComponentFrameRoot");)u++;if(l===V.length||u===le.length)for(l=V.length-1,u=le.length-1;1<=l&&0<=u&&V[l]!==le[u];)u--;for(;1<=l&&0<=u;l--,u--)if(V[l]!==le[u]){if(l!==1||u!==1)do if(l--,u--,0>u||V[l]!==le[u]){var re=`
`+V[l].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=l&&0<=u);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ie(n):""}function it(e,t){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==t&&t!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return mt(e.type,!1);case 11:return mt(e.type.render,!1);case 1:return mt(e.type,!0);case 31:return Ie("Activity");default:return""}}function Tt(e){try{var t="",n=null;do t+=it(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var lt=Object.prototype.hasOwnProperty,wt=c.unstable_scheduleCallback,Jt=c.unstable_cancelCallback,jn=c.unstable_shouldYield,on=c.unstable_requestPaint,Ze=c.unstable_now,Wt=c.unstable_getCurrentPriorityLevel,Yn=c.unstable_ImmediatePriority,Zt=c.unstable_UserBlockingPriority,Un=c.unstable_NormalPriority,Fn=c.unstable_LowPriority,xl=c.unstable_IdlePriority,fn=c.log,aa=c.unstable_setDisableYieldValue,dn=null,Nt=null;function Mn(e){if(typeof fn=="function"&&aa(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(dn,e)}catch{}}var He=Math.clz32?Math.clz32:qe,de=Math.log,ke=Math.LN2;function qe(e){return e>>>=0,e===0?32:31-(de(e)/ke|0)|0}var we=256,_e=262144,Le=4194304;function ze(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,s=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~s,l!==0?u=ze(l):(C&=T,C!==0?u=ze(C):n||(n=T&~e,n!==0&&(u=ze(n))))):(T=l&~s,T!==0?u=ze(T):C!==0?u=ze(C):n||(n=l&~e,n!==0&&(u=ze(n)))),u===0?0:t!==0&&t!==u&&(t&s)===0&&(s=u&-u,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:u}function Fe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Je(){var e=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),e}function We(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gt(e,t,n,l,u,s){var C=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,V=e.expirationTimes,le=e.hiddenUpdates;for(n=C&~n;0<n;){var re=31-He(n),ue=1<<re;T[re]=0,V[re]=-1;var ae=le[re];if(ae!==null)for(le[re]=null,re=0;re<ae.length;re++){var ie=ae[re];ie!==null&&(ie.lane&=-536870913)}n&=~ue}l!==0&&et(e,l,0),s!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=s&~(C&~t))}function et(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-He(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function At(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-He(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function ut(e,t){var n=t&-t;return n=(n&42)!==0?1:at(n),(n&(e.suspendedLanes|t))!==0?0:n}function at(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zn(){var e=A.p;return e!==0?e:(e=window.event,e===void 0?32:_d(e.type))}function Ca(e,t){var n=A.p;try{return A.p=e,t()}finally{A.p=n}}var Ft=Math.random().toString(36).slice(2),De="__reactFiber$"+Ft,Ot="__reactProps$"+Ft,Al="__reactContainer$"+Ft,Dn="__reactEvents$"+Ft,W0="__reactListeners$"+Ft,Q0="__reactHandles$"+Ft,fr="__reactResources$"+Ft,ia="__reactMarker$"+Ft;function fi(e){delete e[De],delete e[Ot],delete e[Dn],delete e[W0],delete e[Q0]}function Ll(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Al]||n[De]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=id(e);e!==null;){if(n=e[De])return n;e=id(e)}return t}e=n,n=e.parentNode}return null}function me(e){if(e=e[De]||e[Al]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Se(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Re(e){var t=e[fr];return t||(t=e[fr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[ia]=!0}var Ct=new Set,$n={};function sl(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for($n[e]=t,e=0;e<t.length;e++)Ct.add(t[e])}var r1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gx={},Ox={};function c1(e){return lt.call(Ox,e)?!0:lt.call(Gx,e)?!1:r1.test(e)?Ox[e]=!0:(Gx[e]=!0,!1)}function dr(e,t,n){if(c1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ol(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(C){n=""+C,s.call(this,C)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(C){n=""+C},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P0(e){if(!e._valueTracker){var t=Hx(e)?"checked":"value";e._valueTracker=u1(e,t,""+e[t])}}function Yx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Hx(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function mr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var x1=/[\n"\\]/g;function An(e){return e.replace(x1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function F0(e,t,n,l,u,s,C,T){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),t!=null?C==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nn(t)):e.value!==""+Nn(t)&&(e.value=""+Nn(t)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),t!=null?$0(e,C,Nn(t)):n!=null?$0(e,C,Nn(n)):l!=null&&e.removeAttribute("value"),u==null&&s!=null&&(e.defaultChecked=!!s),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Nn(T):e.removeAttribute("name")}function Ux(e,t,n,l,u,s,C,T){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){P0(e);return}n=n!=null?""+Nn(n):"",t=t!=null?""+Nn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),P0(e)}function $0(e,t,n){t==="number"&&mr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Kx(e,t,n){if(t!=null&&(t=""+Nn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Nn(n):""}function Zx(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(h(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Nn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),P0(e)}function za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var s1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xx(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||s1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vx(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Xx(e,u,l)}else for(var s in t)t.hasOwnProperty(s)&&Xx(e,s,t[s])}function ec(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(e){return f1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fl(){}var tc=null;function nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Na=null;function Jx(e){var t=me(e);if(t&&(e=t.stateNode)){var n=e[Ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(F0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+An(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Ot]||null;if(!u)throw Error(i(90));F0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Yx(l)}break e;case"textarea":Kx(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var lc=!1;function Wx(e,t,n){if(lc)return e(t,n);lc=!0;try{var l=e(t);return l}finally{if(lc=!1,(Da!==null||Na!==null)&&(l0(),Da&&(t=Da,e=Na,Na=Da=null,Jx(t),e)))for(t=0;t<e.length;t++)Jx(e[t])}}function di(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ot]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var dl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=!1;if(dl)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){ac=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{ac=!1}var Tl=null,ic=null,gr=null;function Qx(){if(gr)return gr;var e,t=ic,n=t.length,l,u="value"in Tl?Tl.value:Tl.textContent,s=u.length;for(e=0;e<n&&t[e]===u[e];e++);var C=n-e;for(l=1;l<=C&&t[n-l]===u[s-l];l++);return gr=u.slice(e,1<l?1-l:void 0)}function vr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yr(){return!0}function Px(){return!1}function $t(e){function t(n,l,u,s,C){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=s,this.target=C,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(s):s[T]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yr:Px,this.isPropagationStopped=Px,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=$t(ra),mi=_({},ra,{view:0,detail:0}),d1=$t(mi),rc,cc,bi,_r=_({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(rc=e.screenX-bi.screenX,cc=e.screenY-bi.screenY):cc=rc=0,bi=e),rc)},movementY:function(e){return"movementY"in e?e.movementY:cc}}),Fx=$t(_r),h1=_({},_r,{dataTransfer:0}),m1=$t(h1),b1=_({},mi,{relatedTarget:0}),uc=$t(b1),g1=_({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),v1=$t(g1),y1=_({},ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p1=$t(y1),_1=_({},ra,{data:0}),$x=$t(_1),S1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C1[e])?!!t[e]:!1}function xc(){return j1}var M1=_({},mi,{key:function(e){if(e.key){var t=S1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z1=$t(M1),D1=_({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=$t(D1),N1=_({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),A1=$t(N1),L1=_({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),T1=$t(L1),E1=_({},_r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B1=$t(E1),k1=_({},ra,{newState:0,oldState:0}),q1=$t(k1),I1=[9,13,27,32],sc=dl&&"CompositionEvent"in window,gi=null;dl&&"documentMode"in document&&(gi=document.documentMode);var R1=dl&&"TextEvent"in window&&!gi,ts=dl&&(!sc||gi&&8<gi&&11>=gi),ns=" ",ls=!1;function as(e,t){switch(e){case"keyup":return I1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function is(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function G1(e,t){switch(e){case"compositionend":return is(t);case"keypress":return t.which!==32?null:(ls=!0,ns);case"textInput":return e=t.data,e===ns&&ls?null:e;default:return null}}function O1(e,t){if(Aa)return e==="compositionend"||!sc&&as(e,t)?(e=Qx(),gr=ic=Tl=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ts&&t.locale!=="ko"?null:t.data;default:return null}}var H1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H1[e.type]:t==="textarea"}function cs(e,t,n,l){Da?Na?Na.push(l):Na=[l]:Da=l,t=s0(t,"onChange"),0<t.length&&(n=new pr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var vi=null,yi=null;function Y1(e){Zf(e,0)}function Sr(e){var t=Se(e);if(Yx(t))return e}function us(e,t){if(e==="change")return t}var xs=!1;if(dl){var oc;if(dl){var fc="oninput"in document;if(!fc){var ss=document.createElement("div");ss.setAttribute("oninput","return;"),fc=typeof ss.oninput=="function"}oc=fc}else oc=!1;xs=oc&&(!document.documentMode||9<document.documentMode)}function os(){vi&&(vi.detachEvent("onpropertychange",fs),yi=vi=null)}function fs(e){if(e.propertyName==="value"&&Sr(yi)){var t=[];cs(t,yi,e,nc(e)),Wx(Y1,t)}}function U1(e,t,n){e==="focusin"?(os(),vi=t,yi=n,vi.attachEvent("onpropertychange",fs)):e==="focusout"&&os()}function K1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sr(yi)}function Z1(e,t){if(e==="click")return Sr(t)}function X1(e,t){if(e==="input"||e==="change")return Sr(t)}function V1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:V1;function pi(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!lt.call(t,u)||!hn(e[u],t[u]))return!1}return!0}function ds(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hs(e,t){var n=ds(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ds(n)}}function ms(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ms(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mr(e.document)}return t}function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var J1=dl&&"documentMode"in document&&11>=document.documentMode,La=null,hc=null,_i=null,mc=!1;function gs(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mc||La==null||La!==mr(l)||(l=La,"selectionStart"in l&&dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_i&&pi(_i,l)||(_i=l,l=s0(hc,"onSelect"),0<l.length&&(t=new pr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=La)))}function ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ta={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},bc={},vs={};dl&&(vs=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function ua(e){if(bc[e])return bc[e];if(!Ta[e])return e;var t=Ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vs)return bc[e]=t[n];return e}var ys=ua("animationend"),ps=ua("animationiteration"),_s=ua("animationstart"),W1=ua("transitionrun"),Q1=ua("transitionstart"),P1=ua("transitioncancel"),Ss=ua("transitionend"),ws=new Map,gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gc.push("scrollEnd");function Kn(e,t){ws.set(e,t),sl(t,[e])}var wr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],Ea=0,vc=0;function Cr(){for(var e=Ea,t=vc=Ea=0;t<e;){var n=Ln[t];Ln[t++]=null;var l=Ln[t];Ln[t++]=null;var u=Ln[t];Ln[t++]=null;var s=Ln[t];if(Ln[t++]=null,l!==null&&u!==null){var C=l.pending;C===null?u.next=u:(u.next=C.next,C.next=u),l.pending=u}s!==0&&Cs(n,u,s)}}function jr(e,t,n,l){Ln[Ea++]=e,Ln[Ea++]=t,Ln[Ea++]=n,Ln[Ea++]=l,vc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yc(e,t,n,l){return jr(e,t,n,l),Mr(e)}function xa(e,t){return jr(e,null,null,t),Mr(e)}function Cs(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(u=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,u&&t!==null&&(u=31-He(n),e=s.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),s):null}function Mr(e){if(50<Ui)throw Ui=0,Du=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ba={};function F1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,t,n,l){return new F1(e,t,n,l)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hl(e,t){var n=e.alternate;return n===null?(n=mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function js(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,l,u,s){var C=0;if(l=e,typeof e=="function")pc(e)&&(C=1);else if(typeof e=="string")C=lh(e,n,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=mn(31,n,t,u),e.elementType=F,e.lanes=s,e;case g:return sa(n.children,u,s,t);case d:C=8,u|=24;break;case k:return e=mn(12,n,t,u|2),e.elementType=k,e.lanes=s,e;case K:return e=mn(13,n,t,u),e.elementType=K,e.lanes=s,e;case U:return e=mn(19,n,t,u),e.elementType=U,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:C=10;break e;case G:C=9;break e;case q:C=11;break e;case X:C=14;break e;case H:C=16,l=null;break e}C=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=mn(C,n,t,u),t.elementType=e,t.type=l,t.lanes=s,t}function sa(e,t,n,l){return e=mn(7,e,l,t),e.lanes=n,e}function _c(e,t,n){return e=mn(6,e,null,t),e.lanes=n,e}function Ms(e){var t=mn(18,null,null,0);return t.stateNode=e,t}function Sc(e,t,n){return t=mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zs=new WeakMap;function Tn(e,t){if(typeof e=="object"&&e!==null){var n=zs.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Tt(t)},zs.set(e,t),t)}return{value:e,source:t,stack:Tt(t)}}var ka=[],qa=0,Dr=null,Si=0,En=[],Bn=0,El=null,el=1,tl="";function ml(e,t){ka[qa++]=Si,ka[qa++]=Dr,Dr=e,Si=t}function Ds(e,t,n){En[Bn++]=el,En[Bn++]=tl,En[Bn++]=El,El=e;var l=el;e=tl;var u=32-He(l)-1;l&=~(1<<u),n+=1;var s=32-He(t)+u;if(30<s){var C=u-u%5;s=(l&(1<<C)-1).toString(32),l>>=C,u-=C,el=1<<32-He(t)+u|n<<u|l,tl=s+e}else el=1<<s|n<<u|l,tl=e}function wc(e){e.return!==null&&(ml(e,1),Ds(e,1,0))}function Cc(e){for(;e===Dr;)Dr=ka[--qa],ka[qa]=null,Si=ka[--qa],ka[qa]=null;for(;e===El;)El=En[--Bn],En[Bn]=null,tl=En[--Bn],En[Bn]=null,el=En[--Bn],En[Bn]=null}function Ns(e,t){En[Bn++]=el,En[Bn++]=tl,En[Bn++]=El,el=t.id,tl=t.overflow,El=e}var Ht=null,dt=null,Ke=!1,Bl=null,kn=!1,jc=Error(i(519));function kl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wi(Tn(t,e)),jc}function As(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[De]=e,t[Ot]=l,n){case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":case"embed":Oe("load",t);break;case"video":case"audio":for(n=0;n<Zi.length;n++)Oe(Zi[n],t);break;case"source":Oe("error",t);break;case"img":case"image":case"link":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"input":Oe("invalid",t),Ux(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",t);break;case"textarea":Oe("invalid",t),Zx(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Wf(t.textContent,n)?(l.popover!=null&&(Oe("beforetoggle",t),Oe("toggle",t)),l.onScroll!=null&&Oe("scroll",t),l.onScrollEnd!=null&&Oe("scrollend",t),l.onClick!=null&&(t.onclick=fl),t=!0):t=!1,t||kl(e,!0)}function Ls(e){for(Ht=e.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ht=Ht.return}}function Ia(e){if(e!==Ht)return!1;if(!Ke)return Ls(e),Ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Uu(e.type,e.memoizedProps)),n=!n),n&&dt&&kl(e),Ls(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));dt=ad(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));dt=ad(e)}else t===27?(t=dt,Wl(e.type)?(e=Ju,Ju=null,dt=e):dt=t):dt=Ht?In(e.stateNode.nextSibling):null;return!0}function oa(){dt=Ht=null,Ke=!1}function Mc(){var e=Bl;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),Bl=null),e}function wi(e){Bl===null?Bl=[e]:Bl.push(e)}var zc=w(null),fa=null,bl=null;function ql(e,t,n){O(zc,t._currentValue),t._currentValue=n}function gl(e){e._currentValue=zc.current,L(zc)}function Dc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Nc(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var s=u.dependencies;if(s!==null){var C=u.child;s=s.firstContext;e:for(;s!==null;){var T=s;s=u;for(var V=0;V<t.length;V++)if(T.context===t[V]){s.lanes|=n,T=s.alternate,T!==null&&(T.lanes|=n),Dc(s.return,n,e),l||(C=null);break e}s=T.next}}else if(u.tag===18){if(C=u.return,C===null)throw Error(i(341));C.lanes|=n,s=C.alternate,s!==null&&(s.lanes|=n),Dc(C,n,e),C=null}else C=u.child;if(C!==null)C.return=u;else for(C=u;C!==null;){if(C===e){C=null;break}if(u=C.sibling,u!==null){u.return=C.return,C=u;break}C=C.return}u=C}}function Ra(e,t,n,l){e=null;for(var u=t,s=!1;u!==null;){if(!s){if((u.flags&524288)!==0)s=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var C=u.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var T=u.type;hn(u.pendingProps.value,C.value)||(e!==null?e.push(T):e=[T])}}else if(u===xe.current){if(C=u.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Qi):e=[Qi])}u=u.return}e!==null&&Nc(t,e,n,l),t.flags|=262144}function Nr(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function da(e){fa=e,bl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yt(e){return Ts(fa,e)}function Ar(e,t){return fa===null&&da(e),Ts(e,t)}function Ts(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},bl===null){if(e===null)throw Error(i(308));bl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bl=bl.next=t;return n}var $1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},e2=c.unstable_scheduleCallback,t2=c.unstable_NormalPriority,jt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new $1,data:new Map,refCount:0}}function Ci(e){e.refCount--,e.refCount===0&&e2(t2,function(){e.controller.abort()})}var ji=null,Lc=0,Ga=0,Oa=null;function n2(e,t){if(ji===null){var n=ji=[];Lc=0,Ga=Bu(),Oa={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Lc++,t.then(Es,Es),t}function Es(){if(--Lc===0&&ji!==null){Oa!==null&&(Oa.status="fulfilled");var e=ji;ji=null,Ga=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function l2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Bs=z.S;z.S=function(e,t){yf=Ze(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&n2(e,t),Bs!==null&&Bs(e,t)};var ha=w(null);function Tc(){var e=ha.current;return e!==null?e:ft.pooledCache}function Lr(e,t){t===null?O(ha,ha.current):O(ha,t.pool)}function ks(){var e=Tc();return e===null?null:{parent:jt._currentValue,pool:e}}var Ha=Error(i(460)),Ec=Error(i(474)),Tr=Error(i(542)),Er={then:function(){}};function qs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Is(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(fl,fl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gs(e),e;default:if(typeof t.status=="string")t.then(fl,fl);else{if(e=ft,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gs(e),e}throw ba=t,Ha}}function ma(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ba=n,Ha):n}}var ba=null;function Rs(){if(ba===null)throw Error(i(459));var e=ba;return ba=null,e}function Gs(e){if(e===Ha||e===Tr)throw Error(i(483))}var Ya=null,Mi=0;function Br(e){var t=Mi;return Mi+=1,Ya===null&&(Ya=[]),Is(Ya,e,t)}function zi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function kr(e,t){throw t.$$typeof===y?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Os(e){function t($,Q){if(e){var ne=$.deletions;ne===null?($.deletions=[Q],$.flags|=16):ne.push(Q)}}function n($,Q){if(!e)return null;for(;Q!==null;)t($,Q),Q=Q.sibling;return null}function l($){for(var Q=new Map;$!==null;)$.key!==null?Q.set($.key,$):Q.set($.index,$),$=$.sibling;return Q}function u($,Q){return $=hl($,Q),$.index=0,$.sibling=null,$}function s($,Q,ne){return $.index=ne,e?(ne=$.alternate,ne!==null?(ne=ne.index,ne<Q?($.flags|=67108866,Q):ne):($.flags|=67108866,Q)):($.flags|=1048576,Q)}function C($){return e&&$.alternate===null&&($.flags|=67108866),$}function T($,Q,ne,ce){return Q===null||Q.tag!==6?(Q=_c(ne,$.mode,ce),Q.return=$,Q):(Q=u(Q,ne),Q.return=$,Q)}function V($,Q,ne,ce){var je=ne.type;return je===g?re($,Q,ne.props.children,ce,ne.key):Q!==null&&(Q.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===H&&ma(je)===Q.type)?(Q=u(Q,ne.props),zi(Q,ne),Q.return=$,Q):(Q=zr(ne.type,ne.key,ne.props,null,$.mode,ce),zi(Q,ne),Q.return=$,Q)}function le($,Q,ne,ce){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ne.containerInfo||Q.stateNode.implementation!==ne.implementation?(Q=Sc(ne,$.mode,ce),Q.return=$,Q):(Q=u(Q,ne.children||[]),Q.return=$,Q)}function re($,Q,ne,ce,je){return Q===null||Q.tag!==7?(Q=sa(ne,$.mode,ce,je),Q.return=$,Q):(Q=u(Q,ne),Q.return=$,Q)}function ue($,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=_c(""+Q,$.mode,ne),Q.return=$,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:return ne=zr(Q.type,Q.key,Q.props,null,$.mode,ne),zi(ne,Q),ne.return=$,ne;case D:return Q=Sc(Q,$.mode,ne),Q.return=$,Q;case H:return Q=ma(Q),ue($,Q,ne)}if(h(Q)||I(Q))return Q=sa(Q,$.mode,ne,null),Q.return=$,Q;if(typeof Q.then=="function")return ue($,Br(Q),ne);if(Q.$$typeof===R)return ue($,Ar($,Q),ne);kr($,Q)}return null}function ae($,Q,ne,ce){var je=Q!==null?Q.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return je!==null?null:T($,Q,""+ne,ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:return ne.key===je?V($,Q,ne,ce):null;case D:return ne.key===je?le($,Q,ne,ce):null;case H:return ne=ma(ne),ae($,Q,ne,ce)}if(h(ne)||I(ne))return je!==null?null:re($,Q,ne,ce,null);if(typeof ne.then=="function")return ae($,Q,Br(ne),ce);if(ne.$$typeof===R)return ae($,Q,Ar($,ne),ce);kr($,ne)}return null}function ie($,Q,ne,ce,je){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return $=$.get(ne)||null,T(Q,$,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case M:return $=$.get(ce.key===null?ne:ce.key)||null,V(Q,$,ce,je);case D:return $=$.get(ce.key===null?ne:ce.key)||null,le(Q,$,ce,je);case H:return ce=ma(ce),ie($,Q,ne,ce,je)}if(h(ce)||I(ce))return $=$.get(ne)||null,re(Q,$,ce,je,null);if(typeof ce.then=="function")return ie($,Q,ne,Br(ce),je);if(ce.$$typeof===R)return ie($,Q,ne,Ar(Q,ce),je);kr(Q,ce)}return null}function ge($,Q,ne,ce){for(var je=null,Qe=null,ye=Q,Be=Q=0,Ue=null;ye!==null&&Be<ne.length;Be++){ye.index>Be?(Ue=ye,ye=null):Ue=ye.sibling;var Pe=ae($,ye,ne[Be],ce);if(Pe===null){ye===null&&(ye=Ue);break}e&&ye&&Pe.alternate===null&&t($,ye),Q=s(Pe,Q,Be),Qe===null?je=Pe:Qe.sibling=Pe,Qe=Pe,ye=Ue}if(Be===ne.length)return n($,ye),Ke&&ml($,Be),je;if(ye===null){for(;Be<ne.length;Be++)ye=ue($,ne[Be],ce),ye!==null&&(Q=s(ye,Q,Be),Qe===null?je=ye:Qe.sibling=ye,Qe=ye);return Ke&&ml($,Be),je}for(ye=l(ye);Be<ne.length;Be++)Ue=ie(ye,$,Be,ne[Be],ce),Ue!==null&&(e&&Ue.alternate!==null&&ye.delete(Ue.key===null?Be:Ue.key),Q=s(Ue,Q,Be),Qe===null?je=Ue:Qe.sibling=Ue,Qe=Ue);return e&&ye.forEach(function(ea){return t($,ea)}),Ke&&ml($,Be),je}function Me($,Q,ne,ce){if(ne==null)throw Error(i(151));for(var je=null,Qe=null,ye=Q,Be=Q=0,Ue=null,Pe=ne.next();ye!==null&&!Pe.done;Be++,Pe=ne.next()){ye.index>Be?(Ue=ye,ye=null):Ue=ye.sibling;var ea=ae($,ye,Pe.value,ce);if(ea===null){ye===null&&(ye=Ue);break}e&&ye&&ea.alternate===null&&t($,ye),Q=s(ea,Q,Be),Qe===null?je=ea:Qe.sibling=ea,Qe=ea,ye=Ue}if(Pe.done)return n($,ye),Ke&&ml($,Be),je;if(ye===null){for(;!Pe.done;Be++,Pe=ne.next())Pe=ue($,Pe.value,ce),Pe!==null&&(Q=s(Pe,Q,Be),Qe===null?je=Pe:Qe.sibling=Pe,Qe=Pe);return Ke&&ml($,Be),je}for(ye=l(ye);!Pe.done;Be++,Pe=ne.next())Pe=ie(ye,$,Be,Pe.value,ce),Pe!==null&&(e&&Pe.alternate!==null&&ye.delete(Pe.key===null?Be:Pe.key),Q=s(Pe,Q,Be),Qe===null?je=Pe:Qe.sibling=Pe,Qe=Pe);return e&&ye.forEach(function(hh){return t($,hh)}),Ke&&ml($,Be),je}function ot($,Q,ne,ce){if(typeof ne=="object"&&ne!==null&&ne.type===g&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:e:{for(var je=ne.key;Q!==null;){if(Q.key===je){if(je=ne.type,je===g){if(Q.tag===7){n($,Q.sibling),ce=u(Q,ne.props.children),ce.return=$,$=ce;break e}}else if(Q.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===H&&ma(je)===Q.type){n($,Q.sibling),ce=u(Q,ne.props),zi(ce,ne),ce.return=$,$=ce;break e}n($,Q);break}else t($,Q);Q=Q.sibling}ne.type===g?(ce=sa(ne.props.children,$.mode,ce,ne.key),ce.return=$,$=ce):(ce=zr(ne.type,ne.key,ne.props,null,$.mode,ce),zi(ce,ne),ce.return=$,$=ce)}return C($);case D:e:{for(je=ne.key;Q!==null;){if(Q.key===je)if(Q.tag===4&&Q.stateNode.containerInfo===ne.containerInfo&&Q.stateNode.implementation===ne.implementation){n($,Q.sibling),ce=u(Q,ne.children||[]),ce.return=$,$=ce;break e}else{n($,Q);break}else t($,Q);Q=Q.sibling}ce=Sc(ne,$.mode,ce),ce.return=$,$=ce}return C($);case H:return ne=ma(ne),ot($,Q,ne,ce)}if(h(ne))return ge($,Q,ne,ce);if(I(ne)){if(je=I(ne),typeof je!="function")throw Error(i(150));return ne=je.call(ne),Me($,Q,ne,ce)}if(typeof ne.then=="function")return ot($,Q,Br(ne),ce);if(ne.$$typeof===R)return ot($,Q,Ar($,ne),ce);kr($,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,Q!==null&&Q.tag===6?(n($,Q.sibling),ce=u(Q,ne),ce.return=$,$=ce):(n($,Q),ce=_c(ne,$.mode,ce),ce.return=$,$=ce),C($)):n($,Q)}return function($,Q,ne,ce){try{Mi=0;var je=ot($,Q,ne,ce);return Ya=null,je}catch(ye){if(ye===Ha||ye===Tr)throw ye;var Qe=mn(29,ye,null,$.mode);return Qe.lanes=ce,Qe.return=$,Qe}}}var ga=Os(!0),Hs=Os(!1),Il=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Mr(e),Cs(e,null,n),t}return jr(e,l,t,n),Mr(e)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,At(e,n)}}function qc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var C={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?u=s=C:s=s.next=C,n=n.next}while(n!==null);s===null?u=s=t:s=s.next=t}else u=s=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ic=!1;function Ni(){if(Ic){var e=Oa;if(e!==null)throw e}}function Ai(e,t,n,l){Ic=!1;var u=e.updateQueue;Il=!1;var s=u.firstBaseUpdate,C=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var V=T,le=V.next;V.next=null,C===null?s=le:C.next=le,C=V;var re=e.alternate;re!==null&&(re=re.updateQueue,T=re.lastBaseUpdate,T!==C&&(T===null?re.firstBaseUpdate=le:T.next=le,re.lastBaseUpdate=V))}if(s!==null){var ue=u.baseState;C=0,re=le=V=null,T=s;do{var ae=T.lane&-536870913,ie=ae!==T.lane;if(ie?(Ye&ae)===ae:(l&ae)===ae){ae!==0&&ae===Ga&&(Ic=!0),re!==null&&(re=re.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ge=e,Me=T;ae=t;var ot=n;switch(Me.tag){case 1:if(ge=Me.payload,typeof ge=="function"){ue=ge.call(ot,ue,ae);break e}ue=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Me.payload,ae=typeof ge=="function"?ge.call(ot,ue,ae):ge,ae==null)break e;ue=_({},ue,ae);break e;case 2:Il=!0}}ae=T.callback,ae!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[ae]:ie.push(ae))}else ie={lane:ae,tag:T.tag,payload:T.payload,callback:T.callback,next:null},re===null?(le=re=ie,V=ue):re=re.next=ie,C|=ae;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;ie=T,T=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);re===null&&(V=ue),u.baseState=V,u.firstBaseUpdate=le,u.lastBaseUpdate=re,s===null&&(u.shared.lanes=0),Kl|=C,e.lanes=C,e.memoizedState=ue}}function Ys(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Us(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ys(n[e],t)}var Ua=w(null),qr=w(0);function Ks(e,t){e=Ml,O(qr,e),O(Ua,t),Ml=e|t.baseLanes}function Rc(){O(qr,Ml),O(Ua,Ua.current)}function Gc(){Ml=qr.current,L(Ua),L(qr)}var bn=w(null),qn=null;function Ol(e){var t=e.alternate;O(pt,pt.current&1),O(bn,e),qn===null&&(t===null||Ua.current!==null||t.memoizedState!==null)&&(qn=e)}function Oc(e){O(pt,pt.current),O(bn,e),qn===null&&(qn=e)}function Zs(e){e.tag===22?(O(pt,pt.current),O(bn,e),qn===null&&(qn=e)):Hl()}function Hl(){O(pt,pt.current),O(bn,bn.current)}function gn(e){L(bn),qn===e&&(qn=null),L(pt)}var pt=w(0);function Ir(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xu(n)||Vu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vl=0,Ee=null,xt=null,Mt=null,Rr=!1,Ka=!1,va=!1,Gr=0,Li=0,Za=null,a2=0;function vt(){throw Error(i(321))}function Hc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hn(e[n],t[n]))return!1;return!0}function Yc(e,t,n,l,u,s){return vl=s,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?No:lu,va=!1,s=n(l,u),va=!1,Ka&&(s=Vs(t,n,l,u)),Xs(e),s}function Xs(e){z.H=Bi;var t=xt!==null&&xt.next!==null;if(vl=0,Mt=xt=Ee=null,Rr=!1,Li=0,Za=null,t)throw Error(i(300));e===null||zt||(e=e.dependencies,e!==null&&Nr(e)&&(zt=!0))}function Vs(e,t,n,l){Ee=e;var u=0;do{if(Ka&&(Za=null),Li=0,Ka=!1,25<=u)throw Error(i(301));if(u+=1,Mt=xt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}z.H=Ao,s=t(n,l)}while(Ka);return s}function i2(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Ti(t):t,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&(Ee.flags|=1024),t}function Uc(){var e=Gr!==0;return Gr=0,e}function Kc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Zc(e){if(Rr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rr=!1}vl=0,Mt=xt=Ee=null,Ka=!1,Li=Gr=0,Za=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ee.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function _t(){if(xt===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Mt===null?Ee.memoizedState:Mt.next;if(t!==null)Mt=t,xt=e;else{if(e===null)throw Ee.alternate===null?Error(i(467)):Error(i(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Mt===null?Ee.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ti(e){var t=Li;return Li+=1,Za===null&&(Za=[]),e=Is(Za,e,t),t=Ee,(Mt===null?t.memoizedState:Mt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?No:lu),e}function Hr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ti(e);if(e.$$typeof===R)return Yt(e)}throw Error(i(438,String(e)))}function Xc(e){var t=null,n=Ee.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Ee.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Or(),Ee.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=J;return t.index++,n}function yl(e,t){return typeof t=="function"?t(e):t}function Yr(e){var t=_t();return Vc(t,xt,e)}function Vc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,s=l.pending;if(s!==null){if(u!==null){var C=u.next;u.next=s.next,s.next=C}t.baseQueue=u=s,l.pending=null}if(s=e.baseState,u===null)e.memoizedState=s;else{t=u.next;var T=C=null,V=null,le=t,re=!1;do{var ue=le.lane&-536870913;if(ue!==le.lane?(Ye&ue)===ue:(vl&ue)===ue){var ae=le.revertLane;if(ae===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),ue===Ga&&(re=!0);else if((vl&ae)===ae){le=le.next,ae===Ga&&(re=!0);continue}else ue={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},V===null?(T=V=ue,C=s):V=V.next=ue,Ee.lanes|=ae,Kl|=ae;ue=le.action,va&&n(s,ue),s=le.hasEagerState?le.eagerState:n(s,ue)}else ae={lane:ue,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},V===null?(T=V=ae,C=s):V=V.next=ae,Ee.lanes|=ue,Kl|=ue;le=le.next}while(le!==null&&le!==t);if(V===null?C=s:V.next=T,!hn(s,e.memoizedState)&&(zt=!0,re&&(n=Oa,n!==null)))throw n;e.memoizedState=s,e.baseState=C,e.baseQueue=V,l.lastRenderedState=s}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Jc(e){var t=_t(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,s=t.memoizedState;if(u!==null){n.pending=null;var C=u=u.next;do s=e(s,C.action),C=C.next;while(C!==u);hn(s,t.memoizedState)||(zt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Js(e,t,n){var l=Ee,u=_t(),s=Ke;if(s){if(n===void 0)throw Error(i(407));n=n()}else n=t();var C=!hn((xt||u).memoizedState,n);if(C&&(u.memoizedState=n,zt=!0),u=u.queue,Pc(Ps.bind(null,l,u,e),[e]),u.getSnapshot!==t||C||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},Qs.bind(null,l,u,n,t),null),ft===null)throw Error(i(349));s||(vl&127)!==0||Ws(l,t,n)}return n}function Ws(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t=Or(),Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qs(e,t,n,l){t.value=n,t.getSnapshot=l,Fs(t)&&$s(e)}function Ps(e,t,n){return n(function(){Fs(t)&&$s(e)})}function Fs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hn(e,n)}catch{return!0}}function $s(e){var t=xa(e,2);t!==null&&an(t,e,2)}function Wc(e){var t=Qt();if(typeof e=="function"){var n=e;if(e=n(),va){Mn(!0);try{n()}finally{Mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t}function eo(e,t,n,l){return e.baseState=n,Vc(e,xt,typeof l=="function"?l:yl)}function r2(e,t,n,l,u){if(Zr(e))throw Error(i(485));if(e=t.action,e!==null){var s={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){s.listeners.push(C)}};z.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,to(t,s)):(s.next=n.next,t.pending=n.next=s)}}function to(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var s=z.T,C={};z.T=C;try{var T=n(u,l),V=z.S;V!==null&&V(C,T),no(e,t,T)}catch(le){Qc(e,t,le)}finally{s!==null&&C.types!==null&&(s.types=C.types),z.T=s}}else try{s=n(u,l),no(e,t,s)}catch(le){Qc(e,t,le)}}function no(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){lo(e,t,l)},function(l){return Qc(e,t,l)}):lo(e,t,n)}function lo(e,t,n){t.status="fulfilled",t.value=n,ao(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,to(e,n)))}function Qc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ao(t),t=t.next;while(t!==l)}e.action=null}function ao(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function io(e,t){return t}function ro(e,t){if(Ke){var n=ft.formState;if(n!==null){e:{var l=Ee;if(Ke){if(dt){t:{for(var u=dt,s=kn;u.nodeType!==8;){if(!s){u=null;break t}if(u=In(u.nextSibling),u===null){u=null;break t}}s=u.data,u=s==="F!"||s==="F"?u:null}if(u){dt=In(u.nextSibling),l=u.data==="F!";break e}}kl(l)}l=!1}l&&(t=n[0])}}return n=Qt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:t},n.queue=l,n=Mo.bind(null,Ee,l),l.dispatch=n,l=Wc(!1),s=nu.bind(null,Ee,!1,l.queue),l=Qt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=r2.bind(null,Ee,u,s,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function co(e){var t=_t();return uo(t,xt,e)}function uo(e,t,n){if(t=Vc(e,t,io)[0],e=Yr(yl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ti(t)}catch(C){throw C===Ha?Tr:C}else l=t;t=_t();var u=t.queue,s=u.dispatch;return n!==t.memoizedState&&(Ee.flags|=2048,Xa(9,{destroy:void 0},c2.bind(null,u,n),null)),[l,s,e]}function c2(e,t){e.action=t}function xo(e){var t=_t(),n=xt;if(n!==null)return uo(t,n,e);_t(),t=t.memoizedState,n=_t();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Xa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=Or(),Ee.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function so(){return _t().memoizedState}function Ur(e,t,n,l){var u=Qt();Ee.flags|=e,u.memoizedState=Xa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Kr(e,t,n,l){var u=_t();l=l===void 0?null:l;var s=u.memoizedState.inst;xt!==null&&l!==null&&Hc(l,xt.memoizedState.deps)?u.memoizedState=Xa(t,s,n,l):(Ee.flags|=e,u.memoizedState=Xa(1|t,s,n,l))}function oo(e,t){Ur(8390656,8,e,t)}function Pc(e,t){Kr(2048,8,e,t)}function u2(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=Or(),Ee.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fo(e){var t=_t().memoizedState;return u2({ref:t,nextImpl:e}),function(){if((tt&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ho(e,t){return Kr(4,2,e,t)}function mo(e,t){return Kr(4,4,e,t)}function bo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function go(e,t,n){n=n!=null?n.concat([e]):null,Kr(4,4,bo.bind(null,t,e),n)}function Fc(){}function vo(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Hc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function yo(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Hc(t,l[1]))return l[0];if(l=e(),va){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[l,t],l}function $c(e,t,n){return n===void 0||(vl&1073741824)!==0&&(Ye&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=_f(),Ee.lanes|=e,Kl|=e,n)}function po(e,t,n,l){return hn(n,t)?n:Ua.current!==null?(e=$c(e,n,l),hn(e,t)||(zt=!0),e):(vl&42)===0||(vl&1073741824)!==0&&(Ye&261930)===0?(zt=!0,e.memoizedState=n):(e=_f(),Ee.lanes|=e,Kl|=e,t)}function _o(e,t,n,l,u){var s=A.p;A.p=s!==0&&8>s?s:8;var C=z.T,T={};z.T=T,nu(e,!1,t,n);try{var V=u(),le=z.S;if(le!==null&&le(T,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var re=l2(V,l);Ei(e,t,re,pn(e))}else Ei(e,t,l,pn(e))}catch(ue){Ei(e,t,{then:function(){},status:"rejected",reason:ue},pn())}finally{A.p=s,C!==null&&T.types!==null&&(C.types=T.types),z.T=C}}function x2(){}function eu(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=So(e).queue;_o(e,u,t,N,n===null?x2:function(){return wo(e),n(l)})}function So(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:N},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wo(e){var t=So(e);t.next===null&&(t=e.alternate.memoizedState),Ei(e,t.next.queue,{},pn())}function tu(){return Yt(Qi)}function Co(){return _t().memoizedState}function jo(){return _t().memoizedState}function s2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=pn();e=Rl(n);var l=Gl(t,e,n);l!==null&&(an(l,t,n),Di(l,t,n)),t={cache:Ac()},e.payload=t;return}t=t.return}}function o2(e,t,n){var l=pn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Zr(e)?zo(t,n):(n=yc(e,t,n,l),n!==null&&(an(n,e,l),Do(n,t,l)))}function Mo(e,t,n){var l=pn();Ei(e,t,n,l)}function Ei(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zr(e))zo(t,u);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var C=t.lastRenderedState,T=s(C,n);if(u.hasEagerState=!0,u.eagerState=T,hn(T,C))return jr(e,t,u,0),ft===null&&Cr(),!1}catch{}if(n=yc(e,t,u,l),n!==null)return an(n,e,l),Do(n,t,l),!0}return!1}function nu(e,t,n,l){if(l={lane:2,revertLane:Bu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zr(e)){if(t)throw Error(i(479))}else t=yc(e,n,l,2),t!==null&&an(t,e,2)}function Zr(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function zo(e,t){Ka=Rr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Do(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,At(e,n)}}var Bi={readContext:Yt,use:Hr,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Bi.useEffectEvent=vt;var No={readContext:Yt,use:Hr,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:oo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ur(4194308,4,bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ur(4194308,4,e,t)},useInsertionEffect:function(e,t){Ur(4,2,e,t)},useMemo:function(e,t){var n=Qt();t=t===void 0?null:t;var l=e();if(va){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Qt();if(n!==void 0){var u=n(t);if(va){Mn(!0);try{n(t)}finally{Mn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=o2.bind(null,Ee,e),[l.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:function(e){e=Wc(e);var t=e.queue,n=Mo.bind(null,Ee,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Fc,useDeferredValue:function(e,t){var n=Qt();return $c(n,e,t)},useTransition:function(){var e=Wc(!1);return e=_o.bind(null,Ee,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Ee,u=Qt();if(Ke){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ft===null)throw Error(i(349));(Ye&127)!==0||Ws(l,t,n)}u.memoizedState=n;var s={value:n,getSnapshot:t};return u.queue=s,oo(Ps.bind(null,l,s,e),[e]),l.flags|=2048,Xa(9,{destroy:void 0},Qs.bind(null,l,s,n,t),null),n},useId:function(){var e=Qt(),t=ft.identifierPrefix;if(Ke){var n=tl,l=el;n=(l&~(1<<32-He(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=a2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tu,useFormState:ro,useActionState:ro,useOptimistic:function(e){var t=Qt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nu.bind(null,Ee,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xc,useCacheRefresh:function(){return Qt().memoizedState=s2.bind(null,Ee)},useEffectEvent:function(e){var t=Qt(),n={impl:e};return t.memoizedState=n,function(){if((tt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},lu={readContext:Yt,use:Hr,useCallback:vo,useContext:Yt,useEffect:Pc,useImperativeHandle:go,useInsertionEffect:ho,useLayoutEffect:mo,useMemo:yo,useReducer:Yr,useRef:so,useState:function(){return Yr(yl)},useDebugValue:Fc,useDeferredValue:function(e,t){var n=_t();return po(n,xt.memoizedState,e,t)},useTransition:function(){var e=Yr(yl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Js,useId:Co,useHostTransitionStatus:tu,useFormState:co,useActionState:co,useOptimistic:function(e,t){var n=_t();return eo(n,xt,e,t)},useMemoCache:Xc,useCacheRefresh:jo};lu.useEffectEvent=fo;var Ao={readContext:Yt,use:Hr,useCallback:vo,useContext:Yt,useEffect:Pc,useImperativeHandle:go,useInsertionEffect:ho,useLayoutEffect:mo,useMemo:yo,useReducer:Jc,useRef:so,useState:function(){return Jc(yl)},useDebugValue:Fc,useDeferredValue:function(e,t){var n=_t();return xt===null?$c(n,e,t):po(n,xt.memoizedState,e,t)},useTransition:function(){var e=Jc(yl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Js,useId:Co,useHostTransitionStatus:tu,useFormState:xo,useActionState:xo,useOptimistic:function(e,t){var n=_t();return xt!==null?eo(n,xt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:jo};Ao.useEffectEvent=fo;function au(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var iu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=pn(),u=Rl(l);u.payload=t,n!=null&&(u.callback=n),t=Gl(e,u,l),t!==null&&(an(t,e,l),Di(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=pn(),u=Rl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Gl(e,u,l),t!==null&&(an(t,e,l),Di(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pn(),l=Rl(n);l.tag=2,t!=null&&(l.callback=t),t=Gl(e,l,n),t!==null&&(an(t,e,n),Di(t,e,n))}};function Lo(e,t,n,l,u,s,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,C):t.prototype&&t.prototype.isPureReactComponent?!pi(n,l)||!pi(u,s):!0}function To(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&iu.enqueueReplaceState(t,t.state,null)}function ya(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Eo(e){wr(e)}function Bo(e){console.error(e)}function ko(e){wr(e)}function Xr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function qo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ru(e,t,n){return n=Rl(n),n.tag=3,n.payload={element:null},n.callback=function(){Xr(e,t)},n}function Io(e){return e=Rl(e),e.tag=3,e}function Ro(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var s=l.value;e.payload=function(){return u(s)},e.callback=function(){qo(t,n,l)}}var C=n.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){qo(t,n,l),typeof u!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function f2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ra(t,n,u,!0),n=bn.current,n!==null){switch(n.tag){case 31:case 13:return qn===null?a0():n.alternate===null&&yt===0&&(yt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Lu(e,l,u)),!1;case 22:return n.flags|=65536,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Lu(e,l,u)),!1}throw Error(i(435,n.tag))}return Lu(e,l,u),a0(),!1}if(Ke)return t=bn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==jc&&(e=Error(i(422),{cause:l}),wi(Tn(e,n)))):(l!==jc&&(t=Error(i(423),{cause:l}),wi(Tn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Tn(l,n),u=ru(e.stateNode,l,u),qc(e,u),yt!==4&&(yt=2)),!1;var s=Error(i(520),{cause:l});if(s=Tn(s,n),Yi===null?Yi=[s]:Yi.push(s),yt!==4&&(yt=2),t===null)return!0;l=Tn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=ru(n.stateNode,l,e),qc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Zl===null||!Zl.has(s))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Io(u),Ro(u,e,n,l),qc(n,u),!1}n=n.return}while(n!==null);return!1}var cu=Error(i(461)),zt=!1;function Ut(e,t,n,l){t.child=e===null?Hs(t,null,n,l):ga(t,e.child,n,l)}function Go(e,t,n,l,u){n=n.render;var s=t.ref;if("ref"in l){var C={};for(var T in l)T!=="ref"&&(C[T]=l[T])}else C=l;return da(t),l=Yc(e,t,n,C,s,u),T=Uc(),e!==null&&!zt?(Kc(e,t,u),pl(e,t,u)):(Ke&&T&&wc(t),t.flags|=1,Ut(e,t,l,u),t.child)}function Oo(e,t,n,l,u){if(e===null){var s=n.type;return typeof s=="function"&&!pc(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Ho(e,t,s,l,u)):(e=zr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!mu(e,u)){var C=s.memoizedProps;if(n=n.compare,n=n!==null?n:pi,n(C,l)&&e.ref===t.ref)return pl(e,t,u)}return t.flags|=1,e=hl(s,l),e.ref=t.ref,e.return=t,t.child=e}function Ho(e,t,n,l,u){if(e!==null){var s=e.memoizedProps;if(pi(s,l)&&e.ref===t.ref)if(zt=!1,t.pendingProps=l=s,mu(e,u))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,pl(e,t,u)}return uu(e,t,n,l,u)}function Yo(e,t,n,l){var u=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~s}else l=0,t.child=null;return Uo(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lr(t,s!==null?s.cachePool:null),s!==null?Ks(t,s):Rc(),Zs(t);else return l=t.lanes=536870912,Uo(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(Lr(t,s.cachePool),Ks(t,s),Hl(),t.memoizedState=null):(e!==null&&Lr(t,null),Rc(),Hl());return Ut(e,t,u,n),t.child}function ki(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uo(e,t,n,l,u){var s=Tc();return s=s===null?null:{parent:jt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Lr(t,null),Rc(),Zs(t),e!==null&&Ra(e,t,l,!0),t.childLanes=u,null}function Vr(e,t){return t=Wr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ko(e,t,n){return ga(t,e.child,null,n),e=Vr(t,t.pendingProps),e.flags|=2,gn(t),t.memoizedState=null,e}function d2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ke){if(l.mode==="hidden")return e=Vr(t,l),t.lanes=536870912,ki(null,e);if(Oc(t),(e=dt)?(e=ld(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:El!==null?{id:el,overflow:tl}:null,retryLane:536870912,hydrationErrors:null},n=Ms(e),n.return=t,t.child=n,Ht=t,dt=null)):e=null,e===null)throw kl(t);return t.lanes=536870912,null}return Vr(t,l)}var s=e.memoizedState;if(s!==null){var C=s.dehydrated;if(Oc(t),u)if(t.flags&256)t.flags&=-257,t=Ko(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(zt||Ra(e,t,n,!1),u=(n&e.childLanes)!==0,zt||u){if(l=ft,l!==null&&(C=ut(l,n),C!==0&&C!==s.retryLane))throw s.retryLane=C,xa(e,C),an(l,e,C),cu;a0(),t=Ko(e,t,n)}else e=s.treeContext,dt=In(C.nextSibling),Ht=t,Ke=!0,Bl=null,kn=!1,e!==null&&Ns(t,e),t=Vr(t,l),t.flags|=4096;return t}return e=hl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Jr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function uu(e,t,n,l,u){return da(t),n=Yc(e,t,n,l,void 0,u),l=Uc(),e!==null&&!zt?(Kc(e,t,u),pl(e,t,u)):(Ke&&l&&wc(t),t.flags|=1,Ut(e,t,n,u),t.child)}function Zo(e,t,n,l,u,s){return da(t),t.updateQueue=null,n=Vs(t,l,n,u),Xs(e),l=Uc(),e!==null&&!zt?(Kc(e,t,s),pl(e,t,s)):(Ke&&l&&wc(t),t.flags|=1,Ut(e,t,n,s),t.child)}function Xo(e,t,n,l,u){if(da(t),t.stateNode===null){var s=Ba,C=n.contextType;typeof C=="object"&&C!==null&&(s=Yt(C)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=iu,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Bc(t),C=n.contextType,s.context=typeof C=="object"&&C!==null?Yt(C):Ba,s.state=t.memoizedState,C=n.getDerivedStateFromProps,typeof C=="function"&&(au(t,n,C,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(C=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),C!==s.state&&iu.enqueueReplaceState(s,s.state,null),Ai(t,l,s,u),Ni(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var T=t.memoizedProps,V=ya(n,T);s.props=V;var le=s.context,re=n.contextType;C=Ba,typeof re=="object"&&re!==null&&(C=Yt(re));var ue=n.getDerivedStateFromProps;re=typeof ue=="function"||typeof s.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,re||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(T||le!==C)&&To(t,s,l,C),Il=!1;var ae=t.memoizedState;s.state=ae,Ai(t,l,s,u),Ni(),le=t.memoizedState,T||ae!==le||Il?(typeof ue=="function"&&(au(t,n,ue,l),le=t.memoizedState),(V=Il||Lo(t,n,V,l,ae,le,C))?(re||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=le),s.props=l,s.state=le,s.context=C,l=V):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,kc(e,t),C=t.memoizedProps,re=ya(n,C),s.props=re,ue=t.pendingProps,ae=s.context,le=n.contextType,V=Ba,typeof le=="object"&&le!==null&&(V=Yt(le)),T=n.getDerivedStateFromProps,(le=typeof T=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(C!==ue||ae!==V)&&To(t,s,l,V),Il=!1,ae=t.memoizedState,s.state=ae,Ai(t,l,s,u),Ni();var ie=t.memoizedState;C!==ue||ae!==ie||Il||e!==null&&e.dependencies!==null&&Nr(e.dependencies)?(typeof T=="function"&&(au(t,n,T,l),ie=t.memoizedState),(re=Il||Lo(t,n,re,l,ae,ie,V)||e!==null&&e.dependencies!==null&&Nr(e.dependencies))?(le||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,ie,V),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,ie,V)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),s.props=l,s.state=ie,s.context=V,l=re):(typeof s.componentDidUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Jr(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ga(t,e.child,null,u),t.child=ga(t,null,n,u)):Ut(e,t,n,u),t.memoizedState=s.state,e=t.child):e=pl(e,t,u),e}function Vo(e,t,n,l){return oa(),t.flags|=256,Ut(e,t,n,l),t.child}var xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function su(e){return{baseLanes:e,cachePool:ks()}}function ou(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=yn),e}function Jo(e,t,n){var l=t.pendingProps,u=!1,s=(t.flags&128)!==0,C;if((C=s)||(C=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),C&&(u=!0,t.flags&=-129),C=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ke){if(u?Ol(t):Hl(),(e=dt)?(e=ld(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:El!==null?{id:el,overflow:tl}:null,retryLane:536870912,hydrationErrors:null},n=Ms(e),n.return=t,t.child=n,Ht=t,dt=null)):e=null,e===null)throw kl(t);return Vu(e)?t.lanes=32:t.lanes=536870912,null}var T=l.children;return l=l.fallback,u?(Hl(),u=t.mode,T=Wr({mode:"hidden",children:T},u),l=sa(l,u,n,null),T.return=t,l.return=t,T.sibling=l,t.child=T,l=t.child,l.memoizedState=su(n),l.childLanes=ou(e,C,n),t.memoizedState=xu,ki(null,l)):(Ol(t),fu(t,T))}var V=e.memoizedState;if(V!==null&&(T=V.dehydrated,T!==null)){if(s)t.flags&256?(Ol(t),t.flags&=-257,t=du(e,t,n)):t.memoizedState!==null?(Hl(),t.child=e.child,t.flags|=128,t=null):(Hl(),T=l.fallback,u=t.mode,l=Wr({mode:"visible",children:l.children},u),T=sa(T,u,n,null),T.flags|=2,l.return=t,T.return=t,l.sibling=T,t.child=l,ga(t,e.child,null,n),l=t.child,l.memoizedState=su(n),l.childLanes=ou(e,C,n),t.memoizedState=xu,t=ki(null,l));else if(Ol(t),Vu(T)){if(C=T.nextSibling&&T.nextSibling.dataset,C)var le=C.dgst;C=le,l=Error(i(419)),l.stack="",l.digest=C,wi({value:l,source:null,stack:null}),t=du(e,t,n)}else if(zt||Ra(e,t,n,!1),C=(n&e.childLanes)!==0,zt||C){if(C=ft,C!==null&&(l=ut(C,n),l!==0&&l!==V.retryLane))throw V.retryLane=l,xa(e,l),an(C,e,l),cu;Xu(T)||a0(),t=du(e,t,n)}else Xu(T)?(t.flags|=192,t.child=e.child,t=null):(e=V.treeContext,dt=In(T.nextSibling),Ht=t,Ke=!0,Bl=null,kn=!1,e!==null&&Ns(t,e),t=fu(t,l.children),t.flags|=4096);return t}return u?(Hl(),T=l.fallback,u=t.mode,V=e.child,le=V.sibling,l=hl(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,le!==null?T=hl(le,T):(T=sa(T,u,n,null),T.flags|=2),T.return=t,l.return=t,l.sibling=T,t.child=l,ki(null,l),l=t.child,T=e.child.memoizedState,T===null?T=su(n):(u=T.cachePool,u!==null?(V=jt._currentValue,u=u.parent!==V?{parent:V,pool:V}:u):u=ks(),T={baseLanes:T.baseLanes|n,cachePool:u}),l.memoizedState=T,l.childLanes=ou(e,C,n),t.memoizedState=xu,ki(e.child,l)):(Ol(t),n=e.child,e=n.sibling,n=hl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(C=t.deletions,C===null?(t.deletions=[e],t.flags|=16):C.push(e)),t.child=n,t.memoizedState=null,n)}function fu(e,t){return t=Wr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wr(e,t){return e=mn(22,e,null,t),e.lanes=0,e}function du(e,t,n){return ga(t,e.child,null,n),e=fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Dc(e.return,t,n)}function hu(e,t,n,l,u,s){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:s}:(C.isBackwards=t,C.rendering=null,C.renderingStartTime=0,C.last=l,C.tail=n,C.tailMode=u,C.treeForkCount=s)}function Qo(e,t,n){var l=t.pendingProps,u=l.revealOrder,s=l.tail;l=l.children;var C=pt.current,T=(C&2)!==0;if(T?(C=C&1|2,t.flags|=128):C&=1,O(pt,C),Ut(e,t,l,n),l=Ke?Si:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wo(e,n,t);else if(e.tag===19)Wo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Ir(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),hu(t,!1,u,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ir(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}hu(t,!0,n,null,s,l);break;case"together":hu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function pl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=hl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Nr(e)))}function h2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),ql(t,jt,e.memoizedState.cache),oa();break;case 27:case 5:be(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:ql(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Oc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ol(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jo(e,t,n):(Ol(t),e=pl(e,t,n),e!==null?e.sibling:null);Ol(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ra(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Qo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),O(pt,pt.current),l)break;return null;case 22:return t.lanes=0,Yo(e,t,n,t.pendingProps);case 24:ql(t,jt,e.memoizedState.cache)}return pl(e,t,n)}function Po(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!mu(e,n)&&(t.flags&128)===0)return zt=!1,h2(e,t,n);zt=(e.flags&131072)!==0}else zt=!1,Ke&&(t.flags&1048576)!==0&&Ds(t,Si,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ma(t.elementType),t.type=e,typeof e=="function")pc(e)?(l=ya(e,l),t.tag=1,t=Xo(null,t,e,l,n)):(t.tag=0,t=uu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===q){t.tag=11,t=Go(null,t,e,l,n);break e}else if(u===X){t.tag=14,t=Oo(null,t,e,l,n);break e}}throw t=j(e)||e,Error(i(306,t,""))}}return t;case 0:return uu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=ya(l,t.pendingProps),Xo(e,t,l,u,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var s=t.memoizedState;u=s.element,kc(e,t),Ai(t,l,null,n);var C=t.memoizedState;if(l=C.cache,ql(t,jt,l),l!==s.cache&&Nc(t,[jt],n,!0),Ni(),l=C.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:C.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Vo(e,t,l,n);break e}else if(l!==u){u=Tn(Error(i(424)),t),wi(u),t=Vo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,dt=In(e.firstChild),Ht=t,Ke=!0,Bl=null,kn=!0,n=Hs(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oa(),l===u){t=pl(e,t,n);break e}Ut(e,t,l,n)}t=t.child}return t;case 26:return Jr(e,t),e===null?(n=xd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ke||(n=t.type,e=t.pendingProps,l=o0(te.current).createElement(n),l[De]=t,l[Ot]=e,Kt(l,n,e),Ve(l),t.stateNode=l):t.memoizedState=xd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return be(t),e===null&&Ke&&(l=t.stateNode=rd(t.type,t.pendingProps,te.current),Ht=t,kn=!0,u=dt,Wl(t.type)?(Ju=u,dt=In(l.firstChild)):dt=u),Ut(e,t,t.pendingProps.children,n),Jr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ke&&((u=l=dt)&&(l=K2(l,t.type,t.pendingProps,kn),l!==null?(t.stateNode=l,Ht=t,dt=In(l.firstChild),kn=!1,u=!0):u=!1),u||kl(t)),be(t),u=t.type,s=t.pendingProps,C=e!==null?e.memoizedProps:null,l=s.children,Uu(u,s)?l=null:C!==null&&Uu(u,C)&&(t.flags|=32),t.memoizedState!==null&&(u=Yc(e,t,i2,null,null,n),Qi._currentValue=u),Jr(e,t),Ut(e,t,l,n),t.child;case 6:return e===null&&Ke&&((e=n=dt)&&(n=Z2(n,t.pendingProps,kn),n!==null?(t.stateNode=n,Ht=t,dt=null,e=!0):e=!1),e||kl(t)),null;case 13:return Jo(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ga(t,null,l,n):Ut(e,t,l,n),t.child;case 11:return Go(e,t,t.type,t.pendingProps,n);case 7:return Ut(e,t,t.pendingProps,n),t.child;case 8:return Ut(e,t,t.pendingProps.children,n),t.child;case 12:return Ut(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,ql(t,t.type,l.value),Ut(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,da(t),u=Yt(u),l=l(u),t.flags|=1,Ut(e,t,l,n),t.child;case 14:return Oo(e,t,t.type,t.pendingProps,n);case 15:return Ho(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return d2(e,t,n);case 22:return Yo(e,t,n,t.pendingProps);case 24:return da(t),l=Yt(jt),e===null?(u=Tc(),u===null&&(u=ft,s=Ac(),u.pooledCache=s,s.refCount++,s!==null&&(u.pooledCacheLanes|=n),u=s),t.memoizedState={parent:l,cache:u},Bc(t),ql(t,jt,u)):((e.lanes&n)!==0&&(kc(e,t),Ai(t,null,null,n),Ni()),u=e.memoizedState,s=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),ql(t,jt,l)):(l=s.cache,ql(t,jt,l),l!==u.cache&&Nc(t,[jt],n,!0))),Ut(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function _l(e){e.flags|=4}function bu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(jf())e.flags|=8192;else throw ba=Er,Ec}else e.flags&=-16777217}function Fo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hd(t))if(jf())e.flags|=8192;else throw ba=Er,Ec}function Qr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Je():536870912,e.lanes|=t,Qa|=t)}function qi(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function m2(e,t,n){var l=t.pendingProps;switch(Cc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return ht(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),gl(jt),fe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?_l(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Mc())),ht(t),null;case 26:var u=t.type,s=t.memoizedState;return e===null?(_l(t),s!==null?(ht(t),Fo(t,s)):(ht(t),bu(t,u,null,l,n))):s?s!==e.memoizedState?(_l(t),ht(t),Fo(t,s)):(ht(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&_l(t),ht(t),bu(t,u,e,l,n)),null;case 27:if(he(t),n=te.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&_l(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ht(t),null}e=Y.current,Ia(t)?As(t):(e=rd(u,l,n),t.stateNode=e,_l(t))}return ht(t),null;case 5:if(he(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&_l(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ht(t),null}if(s=Y.current,Ia(t))As(t);else{var C=o0(te.current);switch(s){case 1:s=C.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=C.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=C.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=C.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?C.createElement("select",{is:l.is}):C.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?C.createElement(u,{is:l.is}):C.createElement(u)}}s[De]=t,s[Ot]=l;e:for(C=t.child;C!==null;){if(C.tag===5||C.tag===6)s.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}t.stateNode=s;e:switch(Kt(s,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_l(t)}}return ht(t),bu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&_l(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=te.current,Ia(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Ht,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[De]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Wf(e.nodeValue,n)),e||kl(t,!0)}else e=o0(e).createTextNode(l),e[De]=t,t.stateNode=e}return ht(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[De]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),e=!1}else n=Mc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(gn(t),t):(gn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return ht(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ia(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[De]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),u=!1}else u=Mc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(gn(t),t):(gn(t),null)}return gn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Qr(t,t.updateQueue),ht(t),null);case 4:return fe(),e===null&&Ru(t.stateNode.containerInfo),ht(t),null;case 10:return gl(t.type),ht(t),null;case 19:if(L(pt),l=t.memoizedState,l===null)return ht(t),null;if(u=(t.flags&128)!==0,s=l.rendering,s===null)if(u)qi(l,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Ir(e),s!==null){for(t.flags|=128,qi(l,!1),e=s.updateQueue,t.updateQueue=e,Qr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)js(n,e),n=n.sibling;return O(pt,pt.current&1|2),Ke&&ml(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ze()>t0&&(t.flags|=128,u=!0,qi(l,!1),t.lanes=4194304)}else{if(!u)if(e=Ir(s),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Qr(t,e),qi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Ke)return ht(t),null}else 2*Ze()-l.renderingStartTime>t0&&n!==536870912&&(t.flags|=128,u=!0,qi(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ze(),e.sibling=null,n=pt.current,O(pt,u?n&1|2:n&1),Ke&&ml(t,l.treeForkCount),e):(ht(t),null);case 22:case 23:return gn(t),Gc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),n=t.updateQueue,n!==null&&Qr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&L(ha),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),gl(jt),ht(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function b2(e,t){switch(Cc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gl(jt),fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(gn(t),t.alternate===null)throw Error(i(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(gn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(pt),null;case 4:return fe(),null;case 10:return gl(t.type),null;case 22:case 23:return gn(t),Gc(),e!==null&&L(ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return gl(jt),null;case 25:return null;default:return null}}function $o(e,t){switch(Cc(t),t.tag){case 3:gl(jt),fe();break;case 26:case 27:case 5:he(t);break;case 4:fe();break;case 31:t.memoizedState!==null&&gn(t);break;case 13:gn(t);break;case 19:L(pt);break;case 10:gl(t.type);break;case 22:case 23:gn(t),Gc(),e!==null&&L(ha);break;case 24:gl(jt)}}function Ii(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var s=n.create,C=n.inst;l=s(),C.destroy=l}n=n.next}while(n!==u)}}catch(T){ct(t,t.return,T)}}function Yl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var s=u.next;l=s;do{if((l.tag&e)===e){var C=l.inst,T=C.destroy;if(T!==void 0){C.destroy=void 0,u=t;var V=n,le=T;try{le()}catch(re){ct(u,V,re)}}}l=l.next}while(l!==s)}}catch(re){ct(t,t.return,re)}}function ef(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Us(t,n)}catch(l){ct(e,e.return,l)}}}function tf(e,t,n){n.props=ya(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){ct(e,t,l)}}function Ri(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){ct(e,t,u)}}function nl(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){ct(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){ct(e,t,u)}else n.current=null}function nf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){ct(e,e.return,u)}}function gu(e,t,n){try{var l=e.stateNode;R2(l,e.type,n,t),l[Ot]=t}catch(u){ct(e,e.return,u)}}function lf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wl(e.type)||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(l!==4&&(l===27&&Wl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yu(e,t,n),e=e.sibling;e!==null;)yu(e,t,n),e=e.sibling}function Pr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Wl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Pr(e,t,n),e=e.sibling;e!==null;)Pr(e,t,n),e=e.sibling}function af(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Kt(t,l,n),t[De]=e,t[Ot]=n}catch(s){ct(e,e.return,s)}}var Sl=!1,Dt=!1,pu=!1,rf=typeof WeakSet=="function"?WeakSet:Set,Et=null;function g2(e,t){if(e=e.containerInfo,Hu=v0,e=bs(e),dc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var C=0,T=-1,V=-1,le=0,re=0,ue=e,ae=null;t:for(;;){for(var ie;ue!==n||u!==0&&ue.nodeType!==3||(T=C+u),ue!==s||l!==0&&ue.nodeType!==3||(V=C+l),ue.nodeType===3&&(C+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)ae=ue,ue=ie;for(;;){if(ue===e)break t;if(ae===n&&++le===u&&(T=C),ae===s&&++re===l&&(V=C),(ie=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=ie}n=T===-1||V===-1?null:{start:T,end:V}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},v0=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,u=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var ge=ya(n.type,u);e=l.getSnapshotBeforeUpdate(ge,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(Me){ct(n,n.return,Me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Zu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function cf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Cl(e,n),l&4&&Ii(5,n);break;case 1:if(Cl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(C){ct(n,n.return,C)}else{var u=ya(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(C){ct(n,n.return,C)}}l&64&&ef(n),l&512&&Ri(n,n.return);break;case 3:if(Cl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Us(e,t)}catch(C){ct(n,n.return,C)}}break;case 27:t===null&&l&4&&af(n);case 26:case 5:Cl(e,n),t===null&&l&4&&nf(n),l&512&&Ri(n,n.return);break;case 12:Cl(e,n);break;case 31:Cl(e,n),l&4&&sf(e,n);break;case 13:Cl(e,n),l&4&&of(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=M2.bind(null,n),X2(e,n))));break;case 22:if(l=n.memoizedState!==null||Sl,!l){t=t!==null&&t.memoizedState!==null||Dt,u=Sl;var s=Dt;Sl=l,(Dt=t)&&!s?jl(e,n,(n.subtreeFlags&8772)!==0):Cl(e,n),Sl=u,Dt=s}break;case 30:break;default:Cl(e,n)}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,en=!1;function wl(e,t,n){for(n=n.child;n!==null;)xf(e,t,n),n=n.sibling}function xf(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(dn,n)}catch{}switch(n.tag){case 26:Dt||nl(n,t),wl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Dt||nl(n,t);var l=bt,u=en;Wl(n.type)&&(bt=n.stateNode,en=!1),wl(e,t,n),Vi(n.stateNode),bt=l,en=u;break;case 5:Dt||nl(n,t);case 6:if(l=bt,u=en,bt=null,wl(e,t,n),bt=l,en=u,bt!==null)if(en)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(n.stateNode)}catch(s){ct(n,t,s)}else try{bt.removeChild(n.stateNode)}catch(s){ct(n,t,s)}break;case 18:bt!==null&&(en?(e=bt,td(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ai(e)):td(bt,n.stateNode));break;case 4:l=bt,u=en,bt=n.stateNode.containerInfo,en=!0,wl(e,t,n),bt=l,en=u;break;case 0:case 11:case 14:case 15:Yl(2,n,t),Dt||Yl(4,n,t),wl(e,t,n);break;case 1:Dt||(nl(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&tf(n,t,l)),wl(e,t,n);break;case 21:wl(e,t,n);break;case 22:Dt=(l=Dt)||n.memoizedState!==null,wl(e,t,n),Dt=l;break;default:wl(e,t,n)}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ai(e)}catch(n){ct(t,t.return,n)}}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ai(e)}catch(n){ct(t,t.return,n)}}function v2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rf),t;default:throw Error(i(435,e.tag))}}function Fr(e,t){var n=v2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=z2.bind(null,e,l);l.then(u,u)}})}function tn(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],s=e,C=t,T=C;e:for(;T!==null;){switch(T.tag){case 27:if(Wl(T.type)){bt=T.stateNode,en=!1;break e}break;case 5:bt=T.stateNode,en=!1;break e;case 3:case 4:bt=T.stateNode.containerInfo,en=!0;break e}T=T.return}if(bt===null)throw Error(i(160));xf(s,C,u),bt=null,en=!1,s=u.alternate,s!==null&&(s.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ff(t,e),t=t.sibling}var Zn=null;function ff(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tn(t,e),nn(e),l&4&&(Yl(3,e,e.return),Ii(3,e),Yl(5,e,e.return));break;case 1:tn(t,e),nn(e),l&512&&(Dt||n===null||nl(n,n.return)),l&64&&Sl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Zn;if(tn(t,e),nn(e),l&512&&(Dt||n===null||nl(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":s=u.getElementsByTagName("title")[0],(!s||s[ia]||s[De]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=u.createElement(l),u.head.insertBefore(s,u.querySelector("head > title"))),Kt(s,l,n),s[De]=e,Ve(s),l=s;break e;case"link":var C=fd("link","href",u).get(l+(n.href||""));if(C){for(var T=0;T<C.length;T++)if(s=C[T],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){C.splice(T,1);break t}}s=u.createElement(l),Kt(s,l,n),u.head.appendChild(s);break;case"meta":if(C=fd("meta","content",u).get(l+(n.content||""))){for(T=0;T<C.length;T++)if(s=C[T],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){C.splice(T,1);break t}}s=u.createElement(l),Kt(s,l,n),u.head.appendChild(s);break;default:throw Error(i(468,l))}s[De]=e,Ve(s),l=s}e.stateNode=l}else dd(u,e.type,e.stateNode);else e.stateNode=od(u,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?dd(u,e.type,e.stateNode):od(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&gu(e,e.memoizedProps,n.memoizedProps)}break;case 27:tn(t,e),nn(e),l&512&&(Dt||n===null||nl(n,n.return)),n!==null&&l&4&&gu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(tn(t,e),nn(e),l&512&&(Dt||n===null||nl(n,n.return)),e.flags&32){u=e.stateNode;try{za(u,"")}catch(ge){ct(e,e.return,ge)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,gu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(pu=!0);break;case 6:if(tn(t,e),nn(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ge){ct(e,e.return,ge)}}break;case 3:if(h0=null,u=Zn,Zn=f0(t.containerInfo),tn(t,e),Zn=u,nn(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(ge){ct(e,e.return,ge)}pu&&(pu=!1,df(e));break;case 4:l=Zn,Zn=f0(e.stateNode.containerInfo),tn(t,e),nn(e),Zn=l;break;case 12:tn(t,e),nn(e);break;case 31:tn(t,e),nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 13:tn(t,e),nn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(e0=Ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 22:u=e.memoizedState!==null;var V=n!==null&&n.memoizedState!==null,le=Sl,re=Dt;if(Sl=le||u,Dt=re||V,tn(t,e),Dt=re,Sl=le,nn(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||V||Sl||Dt||pa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){V=n=t;try{if(s=V.stateNode,u)C=s.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{T=V.stateNode;var ue=V.memoizedProps.style,ae=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;T.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ge){ct(V,V.return,ge)}}}else if(t.tag===6){if(n===null){V=t;try{V.stateNode.nodeValue=u?"":V.memoizedProps}catch(ge){ct(V,V.return,ge)}}}else if(t.tag===18){if(n===null){V=t;try{var ie=V.stateNode;u?nd(ie,!0):nd(V.stateNode,!1)}catch(ge){ct(V,V.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Fr(e,n))));break;case 19:tn(t,e),nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 30:break;case 21:break;default:tn(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(lf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,s=vu(e);Pr(e,s,u);break;case 5:var C=n.stateNode;n.flags&32&&(za(C,""),n.flags&=-33);var T=vu(e);Pr(e,T,C);break;case 3:case 4:var V=n.stateNode.containerInfo,le=vu(e);yu(e,le,V);break;default:throw Error(i(161))}}catch(re){ct(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;df(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Cl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)cf(e,t.alternate,t),t=t.sibling}function pa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yl(4,t,t.return),pa(t);break;case 1:nl(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&tf(t,t.return,n),pa(t);break;case 27:Vi(t.stateNode);case 26:case 5:nl(t,t.return),pa(t);break;case 22:t.memoizedState===null&&pa(t);break;case 30:pa(t);break;default:pa(t)}e=e.sibling}}function jl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,s=t,C=s.flags;switch(s.tag){case 0:case 11:case 15:jl(u,s,n),Ii(4,s);break;case 1:if(jl(u,s,n),l=s,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(le){ct(l,l.return,le)}if(l=s,u=l.updateQueue,u!==null){var T=l.stateNode;try{var V=u.shared.hiddenCallbacks;if(V!==null)for(u.shared.hiddenCallbacks=null,u=0;u<V.length;u++)Ys(V[u],T)}catch(le){ct(l,l.return,le)}}n&&C&64&&ef(s),Ri(s,s.return);break;case 27:af(s);case 26:case 5:jl(u,s,n),n&&l===null&&C&4&&nf(s),Ri(s,s.return);break;case 12:jl(u,s,n);break;case 31:jl(u,s,n),n&&C&4&&sf(u,s);break;case 13:jl(u,s,n),n&&C&4&&of(u,s);break;case 22:s.memoizedState===null&&jl(u,s,n),Ri(s,s.return);break;case 30:break;default:jl(u,s,n)}t=t.sibling}}function _u(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ci(n))}function Su(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e))}function Xn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hf(e,t,n,l),t=t.sibling}function hf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Xn(e,t,n,l),u&2048&&Ii(9,t);break;case 1:Xn(e,t,n,l);break;case 3:Xn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e)));break;case 12:if(u&2048){Xn(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,C=s.id,T=s.onPostCommit;typeof T=="function"&&T(C,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){ct(t,t.return,V)}}else Xn(e,t,n,l);break;case 31:Xn(e,t,n,l);break;case 13:Xn(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,C=t.alternate,t.memoizedState!==null?s._visibility&2?Xn(e,t,n,l):Gi(e,t):s._visibility&2?Xn(e,t,n,l):(s._visibility|=2,Va(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&_u(C,t);break;case 24:Xn(e,t,n,l),u&2048&&Su(t.alternate,t);break;default:Xn(e,t,n,l)}}function Va(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,C=t,T=n,V=l,le=C.flags;switch(C.tag){case 0:case 11:case 15:Va(s,C,T,V,u),Ii(8,C);break;case 23:break;case 22:var re=C.stateNode;C.memoizedState!==null?re._visibility&2?Va(s,C,T,V,u):Gi(s,C):(re._visibility|=2,Va(s,C,T,V,u)),u&&le&2048&&_u(C.alternate,C);break;case 24:Va(s,C,T,V,u),u&&le&2048&&Su(C.alternate,C);break;default:Va(s,C,T,V,u)}t=t.sibling}}function Gi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Gi(n,l),u&2048&&_u(l.alternate,l);break;case 24:Gi(n,l),u&2048&&Su(l.alternate,l);break;default:Gi(n,l)}t=t.sibling}}var Oi=8192;function Ja(e,t,n){if(e.subtreeFlags&Oi)for(e=e.child;e!==null;)mf(e,t,n),e=e.sibling}function mf(e,t,n){switch(e.tag){case 26:Ja(e,t,n),e.flags&Oi&&e.memoizedState!==null&&ah(n,Zn,e.memoizedState,e.memoizedProps);break;case 5:Ja(e,t,n);break;case 3:case 4:var l=Zn;Zn=f0(e.stateNode.containerInfo),Ja(e,t,n),Zn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Oi,Oi=16777216,Ja(e,t,n),Oi=l):Ja(e,t,n));break;default:Ja(e,t,n)}}function bf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,vf(l,e)}bf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gf(e),e=e.sibling}function gf(e){switch(e.tag){case 0:case 11:case 15:Hi(e),e.flags&2048&&Yl(9,e,e.return);break;case 3:Hi(e);break;case 12:Hi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$r(e)):Hi(e);break;default:Hi(e)}}function $r(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,vf(l,e)}bf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Yl(8,t,t.return),$r(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$r(t));break;default:$r(t)}e=e.sibling}}function vf(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:Yl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ci(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var u=l.sibling,s=l.return;if(uf(l),l===n){Et=null;break e}if(u!==null){u.return=s,Et=u;break e}Et=s}}}var y2={getCacheForType:function(e){var t=Yt(jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Yt(jt).controller.signal}},p2=typeof WeakMap=="function"?WeakMap:Map,tt=0,ft=null,Ge=null,Ye=0,rt=0,vn=null,Ul=!1,Wa=!1,wu=!1,Ml=0,yt=0,Kl=0,_a=0,Cu=0,yn=0,Qa=0,Yi=null,ln=null,ju=!1,e0=0,yf=0,t0=1/0,n0=null,Zl=null,Lt=0,Xl=null,Pa=null,zl=0,Mu=0,zu=null,pf=null,Ui=0,Du=null;function pn(){return(tt&2)!==0&&Ye!==0?Ye&-Ye:z.T!==null?Bu():zn()}function _f(){if(yn===0)if((Ye&536870912)===0||Ke){var e=_e;_e<<=1,(_e&3932160)===0&&(_e=262144),yn=e}else yn=536870912;return e=bn.current,e!==null&&(e.flags|=32),yn}function an(e,t,n){(e===ft&&(rt===2||rt===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),Vl(e,Ye,yn,!1)),Te(e,n),((tt&2)===0||e!==ft)&&(e===ft&&((tt&2)===0&&(_a|=n),yt===4&&Vl(e,Ye,yn,!1)),ll(e))}function Sf(e,t,n){if((tt&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Fe(e,t),u=l?w2(e,t):Au(e,t,!0),s=l;do{if(u===0){Wa&&!l&&Vl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!_2(n)){u=Au(e,t,!1),s=!1;continue}if(u===2){if(s=t,e.errorRecoveryDisabledLanes&s)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){t=C;e:{var T=e;u=Yi;var V=T.current.memoizedState.isDehydrated;if(V&&(Fa(T,C).flags|=256),C=Au(T,C,!1),C!==2){if(wu&&!V){T.errorRecoveryDisabledLanes|=s,_a|=s,u=4;break e}s=ln,ln=u,s!==null&&(ln===null?ln=s:ln.push.apply(ln,s))}u=C}if(s=!1,u!==2)continue}}if(u===1){Fa(e,0),Vl(e,t,0,!0);break}e:{switch(l=e,s=u,s){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Vl(l,t,yn,!Ul);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=e0+300-Ze(),10<u)){if(Vl(l,t,yn,!Ul),Ce(l,0,!0)!==0)break e;zl=t,l.timeoutHandle=$f(wf.bind(null,l,n,ln,n0,ju,t,yn,_a,Qa,Ul,s,"Throttled",-0,0),u);break e}wf(l,n,ln,n0,ju,t,yn,_a,Qa,Ul,s,null,-0,0)}}break}while(!0);ll(e)}function wf(e,t,n,l,u,s,C,T,V,le,re,ue,ae,ie){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fl},mf(t,s,ue);var ge=(s&62914560)===s?e0-Ze():(s&4194048)===s?yf-Ze():0;if(ge=ih(ue,ge),ge!==null){zl=s,e.cancelPendingCommit=ge(Lf.bind(null,e,t,s,n,l,u,C,T,V,re,ue,null,ae,ie)),Vl(e,s,C,!le);return}}Lf(e,t,s,n,l,u,C,T,V)}function _2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],s=u.getSnapshot;u=u.value;try{if(!hn(s(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vl(e,t,n,l){t&=~Cu,t&=~_a,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var s=31-He(u),C=1<<s;l[s]=-1,u&=~C}n!==0&&et(e,n,t)}function l0(){return(tt&6)===0?(Ki(0),!1):!0}function Nu(){if(Ge!==null){if(rt===0)var e=Ge.return;else e=Ge,bl=fa=null,Zc(e),Ya=null,Mi=0,e=Ge;for(;e!==null;)$o(e.alternate,e),e=e.return;Ge=null}}function Fa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,H2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),zl=0,Nu(),ft=e,Ge=n=hl(e.current,null),Ye=t,rt=0,vn=null,Ul=!1,Wa=Fe(e,t),wu=!1,Qa=yn=Cu=_a=Kl=yt=0,ln=Yi=null,ju=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-He(l),s=1<<u;t|=e[u],l&=~s}return Ml=t,Cr(),n}function Cf(e,t){Ee=null,z.H=Bi,t===Ha||t===Tr?(t=Rs(),rt=3):t===Ec?(t=Rs(),rt=4):rt=t===cu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,vn=t,Ge===null&&(yt=1,Xr(e,Tn(t,e.current)))}function jf(){var e=bn.current;return e===null?!0:(Ye&4194048)===Ye?qn===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?e===qn:!1}function Mf(){var e=z.H;return z.H=Bi,e===null?Bi:e}function zf(){var e=z.A;return z.A=y2,e}function a0(){yt=4,Ul||(Ye&4194048)!==Ye&&bn.current!==null||(Wa=!0),(Kl&134217727)===0&&(_a&134217727)===0||ft===null||Vl(ft,Ye,yn,!1)}function Au(e,t,n){var l=tt;tt|=2;var u=Mf(),s=zf();(ft!==e||Ye!==t)&&(n0=null,Fa(e,t)),t=!1;var C=yt;e:do try{if(rt!==0&&Ge!==null){var T=Ge,V=vn;switch(rt){case 8:Nu(),C=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(t=!0);var le=rt;if(rt=0,vn=null,$a(e,T,V,le),n&&Wa){C=0;break e}break;default:le=rt,rt=0,vn=null,$a(e,T,V,le)}}S2(),C=yt;break}catch(re){Cf(e,re)}while(!0);return t&&e.shellSuspendCounter++,bl=fa=null,tt=l,z.H=u,z.A=s,Ge===null&&(ft=null,Ye=0,Cr()),C}function S2(){for(;Ge!==null;)Df(Ge)}function w2(e,t){var n=tt;tt|=2;var l=Mf(),u=zf();ft!==e||Ye!==t?(n0=null,t0=Ze()+500,Fa(e,t)):Wa=Fe(e,t);e:do try{if(rt!==0&&Ge!==null){t=Ge;var s=vn;t:switch(rt){case 1:rt=0,vn=null,$a(e,t,s,1);break;case 2:case 9:if(qs(s)){rt=0,vn=null,Nf(t);break}t=function(){rt!==2&&rt!==9||ft!==e||(rt=7),ll(e)},s.then(t,t);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:qs(s)?(rt=0,vn=null,Nf(t)):(rt=0,vn=null,$a(e,t,s,7));break;case 5:var C=null;switch(Ge.tag){case 26:C=Ge.memoizedState;case 5:case 27:var T=Ge;if(C?hd(C):T.stateNode.complete){rt=0,vn=null;var V=T.sibling;if(V!==null)Ge=V;else{var le=T.return;le!==null?(Ge=le,i0(le)):Ge=null}break t}}rt=0,vn=null,$a(e,t,s,5);break;case 6:rt=0,vn=null,$a(e,t,s,6);break;case 8:Nu(),yt=6;break e;default:throw Error(i(462))}}C2();break}catch(re){Cf(e,re)}while(!0);return bl=fa=null,z.H=l,z.A=u,tt=n,Ge!==null?0:(ft=null,Ye=0,Cr(),yt)}function C2(){for(;Ge!==null&&!jn();)Df(Ge)}function Df(e){var t=Po(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,t===null?i0(e):Ge=t}function Nf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zo(n,t,t.pendingProps,t.type,void 0,Ye);break;case 11:t=Zo(n,t,t.pendingProps,t.type.render,t.ref,Ye);break;case 5:Zc(t);default:$o(n,t),t=Ge=js(t,Ml),t=Po(n,t,Ml)}e.memoizedProps=e.pendingProps,t===null?i0(e):Ge=t}function $a(e,t,n,l){bl=fa=null,Zc(t),Ya=null,Mi=0;var u=t.return;try{if(f2(e,u,t,n,Ye)){yt=1,Xr(e,Tn(n,e.current)),Ge=null;return}}catch(s){if(u!==null)throw Ge=u,s;yt=1,Xr(e,Tn(n,e.current)),Ge=null;return}t.flags&32768?(Ke||l===1?e=!0:Wa||(Ye&536870912)!==0?e=!1:(Ul=e=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Af(t,e)):i0(t)}function i0(e){var t=e;do{if((t.flags&32768)!==0){Af(t,Ul);return}e=t.return;var n=m2(t.alternate,t,Ml);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);yt===0&&(yt=5)}function Af(e,t){do{var n=b2(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);yt=6,Ge=null}function Lf(e,t,n,l,u,s,C,T,V){e.cancelPendingCommit=null;do r0();while(Lt!==0);if((tt&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,s|=vc,Gt(e,n,s,C,T,V),e===ft&&(Ge=ft=null,Ye=0),Pa=t,Xl=e,zl=n,Mu=s,zu=u,pf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D2(Un,function(){return qf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,u=A.p,A.p=2,C=tt,tt|=4;try{g2(e,t,n)}finally{tt=C,A.p=u,z.T=l}}Lt=1,Tf(),Ef(),Bf()}}function Tf(){if(Lt===1){Lt=0;var e=Xl,t=Pa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var l=A.p;A.p=2;var u=tt;tt|=4;try{ff(t,e);var s=Yu,C=bs(e.containerInfo),T=s.focusedElem,V=s.selectionRange;if(C!==T&&T&&T.ownerDocument&&ms(T.ownerDocument.documentElement,T)){if(V!==null&&dc(T)){var le=V.start,re=V.end;if(re===void 0&&(re=le),"selectionStart"in T)T.selectionStart=le,T.selectionEnd=Math.min(re,T.value.length);else{var ue=T.ownerDocument||document,ae=ue&&ue.defaultView||window;if(ae.getSelection){var ie=ae.getSelection(),ge=T.textContent.length,Me=Math.min(V.start,ge),ot=V.end===void 0?Me:Math.min(V.end,ge);!ie.extend&&Me>ot&&(C=ot,ot=Me,Me=C);var $=hs(T,Me),Q=hs(T,ot);if($&&Q&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==Q.node||ie.focusOffset!==Q.offset)){var ne=ue.createRange();ne.setStart($.node,$.offset),ie.removeAllRanges(),Me>ot?(ie.addRange(ne),ie.extend(Q.node,Q.offset)):(ne.setEnd(Q.node,Q.offset),ie.addRange(ne))}}}}for(ue=[],ie=T;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ue.length;T++){var ce=ue[T];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}v0=!!Hu,Yu=Hu=null}finally{tt=u,A.p=l,z.T=n}}e.current=t,Lt=2}}function Ef(){if(Lt===2){Lt=0;var e=Xl,t=Pa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var l=A.p;A.p=2;var u=tt;tt|=4;try{cf(e,t.alternate,t)}finally{tt=u,A.p=l,z.T=n}}Lt=3}}function Bf(){if(Lt===4||Lt===3){Lt=0,on();var e=Xl,t=Pa,n=zl,l=pf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Lt=5:(Lt=0,Pa=Xl=null,kf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Zl=null),gt(n),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(dn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,u=A.p,A.p=2,z.T=null;try{for(var s=e.onRecoverableError,C=0;C<l.length;C++){var T=l[C];s(T.value,{componentStack:T.stack})}}finally{z.T=t,A.p=u}}(zl&3)!==0&&r0(),ll(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Du?Ui++:(Ui=0,Du=e):Ui=0,Ki(0)}}function kf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ci(t)))}function r0(){return Tf(),Ef(),Bf(),qf()}function qf(){if(Lt!==5)return!1;var e=Xl,t=Mu;Mu=0;var n=gt(zl),l=z.T,u=A.p;try{A.p=32>n?32:n,z.T=null,n=zu,zu=null;var s=Xl,C=zl;if(Lt=0,Pa=Xl=null,zl=0,(tt&6)!==0)throw Error(i(331));var T=tt;if(tt|=4,gf(s.current),hf(s,s.current,C,n),tt=T,Ki(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(dn,s)}catch{}return!0}finally{A.p=u,z.T=l,kf(e,t)}}function If(e,t,n){t=Tn(n,t),t=ru(e.stateNode,t,2),e=Gl(e,t,2),e!==null&&(Te(e,2),ll(e))}function ct(e,t,n){if(e.tag===3)If(e,e,n);else for(;t!==null;){if(t.tag===3){If(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zl===null||!Zl.has(l))){e=Tn(n,e),n=Io(2),l=Gl(t,n,2),l!==null&&(Ro(n,l,t,e),Te(l,2),ll(l));break}}t=t.return}}function Lu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new p2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(wu=!0,u.add(n),e=j2.bind(null,e,t,n),t.then(e,e))}function j2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ft===e&&(Ye&n)===n&&(yt===4||yt===3&&(Ye&62914560)===Ye&&300>Ze()-e0?(tt&2)===0&&Fa(e,0):Cu|=n,Qa===Ye&&(Qa=0)),ll(e)}function Rf(e,t){t===0&&(t=Je()),e=xa(e,t),e!==null&&(Te(e,t),ll(e))}function M2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rf(e,n)}function z2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Rf(e,n)}function D2(e,t){return wt(e,t)}var c0=null,ei=null,Tu=!1,u0=!1,Eu=!1,Jl=0;function ll(e){e!==ei&&e.next===null&&(ei===null?c0=ei=e:ei=ei.next=e),u0=!0,Tu||(Tu=!0,A2())}function Ki(e,t){if(!Eu&&u0){Eu=!0;do for(var n=!1,l=c0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var s=0;else{var C=l.suspendedLanes,T=l.pingedLanes;s=(1<<31-He(42|e)+1)-1,s&=u&~(C&~T),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Yf(l,s))}else s=Ye,s=Ce(l,l===ft?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||Fe(l,s)||(n=!0,Yf(l,s));l=l.next}while(n);Eu=!1}}function N2(){Gf()}function Gf(){u0=Tu=!1;var e=0;Jl!==0&&O2()&&(e=Jl);for(var t=Ze(),n=null,l=c0;l!==null;){var u=l.next,s=Of(l,t);s===0?(l.next=null,n===null?c0=u:n.next=u,u===null&&(ei=n)):(n=l,(e!==0||(s&3)!==0)&&(u0=!0)),l=u}Lt!==0&&Lt!==5||Ki(e),Jl!==0&&(Jl=0)}function Of(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var C=31-He(s),T=1<<C,V=u[C];V===-1?((T&n)===0||(T&l)!==0)&&(u[C]=$e(T,t)):V<=t&&(e.expiredLanes|=T),s&=~T}if(t=ft,n=Ye,n=Ce(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(rt===2||rt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Jt(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Fe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Jt(l),gt(n)){case 2:case 8:n=Zt;break;case 32:n=Un;break;case 268435456:n=xl;break;default:n=Un}return l=Hf.bind(null,e),n=wt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Jt(l),e.callbackPriority=2,e.callbackNode=null,2}function Hf(e,t){if(Lt!==0&&Lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(r0()&&e.callbackNode!==n)return null;var l=Ye;return l=Ce(e,e===ft?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sf(e,l,t),Of(e,Ze()),e.callbackNode!=null&&e.callbackNode===n?Hf.bind(null,e):null)}function Yf(e,t){if(r0())return null;Sf(e,t,!0)}function A2(){Y2(function(){(tt&6)!==0?wt(Yn,N2):Gf()})}function Bu(){if(Jl===0){var e=Ga;e===0&&(e=we,we<<=1,(we&261888)===0&&(we=256)),Jl=e}return Jl}function Uf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:br(""+e)}function Kf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function L2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var s=Uf((u[Ot]||null).action),C=l.submitter;C&&(t=(t=C[Ot]||null)?Uf(t.formAction):C.getAttribute("formAction"),t!==null&&(s=t,C=null));var T=new pr("action","action",null,l,u);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jl!==0){var V=C?Kf(u,C):new FormData(u);eu(n,{pending:!0,data:V,method:u.method,action:s},null,V)}}else typeof s=="function"&&(T.preventDefault(),V=C?Kf(u,C):new FormData(u),eu(n,{pending:!0,data:V,method:u.method,action:s},s,V))},currentTarget:u}]})}}for(var ku=0;ku<gc.length;ku++){var qu=gc[ku],T2=qu.toLowerCase(),E2=qu[0].toUpperCase()+qu.slice(1);Kn(T2,"on"+E2)}Kn(ys,"onAnimationEnd"),Kn(ps,"onAnimationIteration"),Kn(_s,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(W1,"onTransitionRun"),Kn(Q1,"onTransitionStart"),Kn(P1,"onTransitionCancel"),Kn(Ss,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sl("onBeforeInput",["compositionend","keypress","textInput","paste"]),sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zi));function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var C=l.length-1;0<=C;C--){var T=l[C],V=T.instance,le=T.currentTarget;if(T=T.listener,V!==s&&u.isPropagationStopped())break e;s=T,u.currentTarget=le;try{s(u)}catch(re){wr(re)}u.currentTarget=null,s=V}else for(C=0;C<l.length;C++){if(T=l[C],V=T.instance,le=T.currentTarget,T=T.listener,V!==s&&u.isPropagationStopped())break e;s=T,u.currentTarget=le;try{s(u)}catch(re){wr(re)}u.currentTarget=null,s=V}}}}function Oe(e,t){var n=t[Dn];n===void 0&&(n=t[Dn]=new Set);var l=e+"__bubble";n.has(l)||(Xf(t,e,2,!1),n.add(l))}function Iu(e,t,n){var l=0;t&&(l|=4),Xf(n,e,l,t)}var x0="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[x0]){e[x0]=!0,Ct.forEach(function(n){n!=="selectionchange"&&(B2.has(n)||Iu(n,!1,e),Iu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[x0]||(t[x0]=!0,Iu("selectionchange",!1,t))}}function Xf(e,t,n,l){switch(_d(t)){case 2:var u=uh;break;case 8:u=xh;break;default:u=$u}n=u.bind(null,t,n,e),u=void 0,!ac||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Gu(e,t,n,l,u){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var C=l.tag;if(C===3||C===4){var T=l.stateNode.containerInfo;if(T===u)break;if(C===4)for(C=l.return;C!==null;){var V=C.tag;if((V===3||V===4)&&C.stateNode.containerInfo===u)return;C=C.return}for(;T!==null;){if(C=Ll(T),C===null)return;if(V=C.tag,V===5||V===6||V===26||V===27){l=s=C;continue e}T=T.parentNode}}l=l.return}Wx(function(){var le=s,re=nc(n),ue=[];e:{var ae=ws.get(e);if(ae!==void 0){var ie=pr,ge=e;switch(e){case"keypress":if(vr(n)===0)break e;case"keydown":case"keyup":ie=z1;break;case"focusin":ge="focus",ie=uc;break;case"focusout":ge="blur",ie=uc;break;case"beforeblur":case"afterblur":ie=uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=m1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=A1;break;case ys:case ps:case _s:ie=v1;break;case Ss:ie=T1;break;case"scroll":case"scrollend":ie=d1;break;case"wheel":ie=B1;break;case"copy":case"cut":case"paste":ie=p1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=es;break;case"toggle":case"beforetoggle":ie=q1}var Me=(t&4)!==0,ot=!Me&&(e==="scroll"||e==="scrollend"),$=Me?ae!==null?ae+"Capture":null:ae;Me=[];for(var Q=le,ne;Q!==null;){var ce=Q;if(ne=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ne===null||$===null||(ce=di(Q,$),ce!=null&&Me.push(Xi(Q,ce,ne))),ot)break;Q=Q.return}0<Me.length&&(ae=new ie(ae,ge,null,n,re),ue.push({event:ae,listeners:Me}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",ae&&n!==tc&&(ge=n.relatedTarget||n.fromElement)&&(Ll(ge)||ge[Al]))break e;if((ie||ae)&&(ae=re.window===re?re:(ae=re.ownerDocument)?ae.defaultView||ae.parentWindow:window,ie?(ge=n.relatedTarget||n.toElement,ie=le,ge=ge?Ll(ge):null,ge!==null&&(ot=o(ge),Me=ge.tag,ge!==ot||Me!==5&&Me!==27&&Me!==6)&&(ge=null)):(ie=null,ge=le),ie!==ge)){if(Me=Fx,ce="onMouseLeave",$="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(Me=es,ce="onPointerLeave",$="onPointerEnter",Q="pointer"),ot=ie==null?ae:Se(ie),ne=ge==null?ae:Se(ge),ae=new Me(ce,Q+"leave",ie,n,re),ae.target=ot,ae.relatedTarget=ne,ce=null,Ll(re)===le&&(Me=new Me($,Q+"enter",ge,n,re),Me.target=ne,Me.relatedTarget=ot,ce=Me),ot=ce,ie&&ge)t:{for(Me=k2,$=ie,Q=ge,ne=0,ce=$;ce;ce=Me(ce))ne++;ce=0;for(var je=Q;je;je=Me(je))ce++;for(;0<ne-ce;)$=Me($),ne--;for(;0<ce-ne;)Q=Me(Q),ce--;for(;ne--;){if($===Q||Q!==null&&$===Q.alternate){Me=$;break t}$=Me($),Q=Me(Q)}Me=null}else Me=null;ie!==null&&Vf(ue,ae,ie,Me,!1),ge!==null&&ot!==null&&Vf(ue,ot,ge,Me,!0)}}e:{if(ae=le?Se(le):window,ie=ae.nodeName&&ae.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ae.type==="file")var Qe=us;else if(rs(ae))if(xs)Qe=X1;else{Qe=K1;var ye=U1}else ie=ae.nodeName,!ie||ie.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?le&&ec(le.elementType)&&(Qe=us):Qe=Z1;if(Qe&&(Qe=Qe(e,le))){cs(ue,Qe,n,re);break e}ye&&ye(e,ae,le),e==="focusout"&&le&&ae.type==="number"&&le.memoizedProps.value!=null&&$0(ae,"number",ae.value)}switch(ye=le?Se(le):window,e){case"focusin":(rs(ye)||ye.contentEditable==="true")&&(La=ye,hc=le,_i=null);break;case"focusout":_i=hc=La=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,gs(ue,n,re);break;case"selectionchange":if(J1)break;case"keydown":case"keyup":gs(ue,n,re)}var Be;if(sc)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Aa?as(e,n)&&(Ue="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ue="onCompositionStart");Ue&&(ts&&n.locale!=="ko"&&(Aa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Aa&&(Be=Qx()):(Tl=re,ic="value"in Tl?Tl.value:Tl.textContent,Aa=!0)),ye=s0(le,Ue),0<ye.length&&(Ue=new $x(Ue,e,null,n,re),ue.push({event:Ue,listeners:ye}),Be?Ue.data=Be:(Be=is(n),Be!==null&&(Ue.data=Be)))),(Be=R1?G1(e,n):O1(e,n))&&(Ue=s0(le,"onBeforeInput"),0<Ue.length&&(ye=new $x("onBeforeInput","beforeinput",null,n,re),ue.push({event:ye,listeners:Ue}),ye.data=Be)),L2(ue,e,le,n,re)}Zf(ue,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function s0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,s=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||s===null||(u=di(e,n),u!=null&&l.unshift(Xi(e,u,s)),u=di(e,t),u!=null&&l.push(Xi(e,u,s))),e.tag===3)return l;e=e.return}return[]}function k2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vf(e,t,n,l,u){for(var s=t._reactName,C=[];n!==null&&n!==l;){var T=n,V=T.alternate,le=T.stateNode;if(T=T.tag,V!==null&&V===l)break;T!==5&&T!==26&&T!==27||le===null||(V=le,u?(le=di(n,s),le!=null&&C.unshift(Xi(n,le,V))):u||(le=di(n,s),le!=null&&C.push(Xi(n,le,V)))),n=n.return}C.length!==0&&e.push({event:t,listeners:C})}var q2=/\r\n?/g,I2=/\u0000|\uFFFD/g;function Jf(e){return(typeof e=="string"?e:""+e).replace(q2,`
`).replace(I2,"")}function Wf(e,t){return t=Jf(t),Jf(e)===t}function st(e,t,n,l,u,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||za(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&za(e,""+l);break;case"className":hr(e,"class",l);break;case"tabIndex":hr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(e,n,l);break;case"style":Vx(e,l,s);break;case"data":if(t!=="object"){hr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&st(e,t,"name",u.name,u,null),st(e,t,"formEncType",u.formEncType,u,null),st(e,t,"formMethod",u.formMethod,u,null),st(e,t,"formTarget",u.formTarget,u,null)):(st(e,t,"encType",u.encType,u,null),st(e,t,"method",u.method,u,null),st(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=fl);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=br(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),dr(e,"popover",l);break;case"xlinkActuate":ol(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ol(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ol(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ol(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ol(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ol(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ol(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ol(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ol(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=o1.get(n)||n,dr(e,n,l))}}function Ou(e,t,n,l,u,s){switch(n){case"style":Vx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?za(e,l):(typeof l=="number"||typeof l=="bigint")&&za(e,""+l);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=fl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$n.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),s=e[Ot]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,u),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):dr(e,n,l)}}}function Kt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var l=!1,u=!1,s;for(s in n)if(n.hasOwnProperty(s)){var C=n[s];if(C!=null)switch(s){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:st(e,t,s,C,n,null)}}u&&st(e,t,"srcSet",n.srcSet,n,null),l&&st(e,t,"src",n.src,n,null);return;case"input":Oe("invalid",e);var T=s=C=u=null,V=null,le=null;for(l in n)if(n.hasOwnProperty(l)){var re=n[l];if(re!=null)switch(l){case"name":u=re;break;case"type":C=re;break;case"checked":V=re;break;case"defaultChecked":le=re;break;case"value":s=re;break;case"defaultValue":T=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,t));break;default:st(e,t,l,re,n,null)}}Ux(e,s,T,V,le,C,u,!1);return;case"select":Oe("invalid",e),l=C=s=null;for(u in n)if(n.hasOwnProperty(u)&&(T=n[u],T!=null))switch(u){case"value":s=T;break;case"defaultValue":C=T;break;case"multiple":l=T;default:st(e,t,u,T,n,null)}t=s,n=C,e.multiple=!!l,t!=null?Ma(e,!!l,t,!1):n!=null&&Ma(e,!!l,n,!0);return;case"textarea":Oe("invalid",e),s=u=l=null;for(C in n)if(n.hasOwnProperty(C)&&(T=n[C],T!=null))switch(C){case"value":l=T;break;case"defaultValue":u=T;break;case"children":s=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:st(e,t,C,T,n,null)}Zx(e,l,u,s);return;case"option":for(V in n)n.hasOwnProperty(V)&&(l=n[V],l!=null)&&(V==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":st(e,t,V,l,n,null));return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(l=0;l<Zi.length;l++)Oe(Zi[l],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in n)if(n.hasOwnProperty(le)&&(l=n[le],l!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:st(e,t,le,l,n,null)}return;default:if(ec(t)){for(re in n)n.hasOwnProperty(re)&&(l=n[re],l!==void 0&&Ou(e,t,re,l,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(l=n[T],l!=null&&st(e,t,T,l,n,null))}function R2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,s=null,C=null,T=null,V=null,le=null,re=null;for(ie in n){var ue=n[ie];if(n.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":V=ue;default:l.hasOwnProperty(ie)||st(e,t,ie,null,l,ue)}}for(var ae in l){var ie=l[ae];if(ue=n[ae],l.hasOwnProperty(ae)&&(ie!=null||ue!=null))switch(ae){case"type":s=ie;break;case"name":u=ie;break;case"checked":le=ie;break;case"defaultChecked":re=ie;break;case"value":C=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:ie!==ue&&st(e,t,ae,ie,l,ue)}}F0(e,C,T,V,le,re,s,u);return;case"select":ie=C=T=ae=null;for(s in n)if(V=n[s],n.hasOwnProperty(s)&&V!=null)switch(s){case"value":break;case"multiple":ie=V;default:l.hasOwnProperty(s)||st(e,t,s,null,l,V)}for(u in l)if(s=l[u],V=n[u],l.hasOwnProperty(u)&&(s!=null||V!=null))switch(u){case"value":ae=s;break;case"defaultValue":T=s;break;case"multiple":C=s;default:s!==V&&st(e,t,u,s,l,V)}t=T,n=C,l=ie,ae!=null?Ma(e,!!n,ae,!1):!!l!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":ie=ae=null;for(T in n)if(u=n[T],n.hasOwnProperty(T)&&u!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:st(e,t,T,null,l,u)}for(C in l)if(u=l[C],s=n[C],l.hasOwnProperty(C)&&(u!=null||s!=null))switch(C){case"value":ae=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==s&&st(e,t,C,u,l,s)}Kx(e,ae,ie);return;case"option":for(var ge in n)ae=n[ge],n.hasOwnProperty(ge)&&ae!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?e.selected=!1:st(e,t,ge,null,l,ae));for(V in l)ae=l[V],ie=n[V],l.hasOwnProperty(V)&&ae!==ie&&(ae!=null||ie!=null)&&(V==="selected"?e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":st(e,t,V,ae,l,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in n)ae=n[Me],n.hasOwnProperty(Me)&&ae!=null&&!l.hasOwnProperty(Me)&&st(e,t,Me,null,l,ae);for(le in l)if(ae=l[le],ie=n[le],l.hasOwnProperty(le)&&ae!==ie&&(ae!=null||ie!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:st(e,t,le,ae,l,ie)}return;default:if(ec(t)){for(var ot in n)ae=n[ot],n.hasOwnProperty(ot)&&ae!==void 0&&!l.hasOwnProperty(ot)&&Ou(e,t,ot,void 0,l,ae);for(re in l)ae=l[re],ie=n[re],!l.hasOwnProperty(re)||ae===ie||ae===void 0&&ie===void 0||Ou(e,t,re,ae,l,ie);return}}for(var $ in n)ae=n[$],n.hasOwnProperty($)&&ae!=null&&!l.hasOwnProperty($)&&st(e,t,$,null,l,ae);for(ue in l)ae=l[ue],ie=n[ue],!l.hasOwnProperty(ue)||ae===ie||ae==null&&ie==null||st(e,t,ue,ae,l,ie)}function Qf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],s=u.transferSize,C=u.initiatorType,T=u.duration;if(s&&T&&Qf(C)){for(C=0,T=u.responseEnd,l+=1;l<n.length;l++){var V=n[l],le=V.startTime;if(le>T)break;var re=V.transferSize,ue=V.initiatorType;re&&Qf(ue)&&(V=V.responseEnd,C+=re*(V<T?1:(T-le)/(V-le)))}if(--l,t+=8*(s+C)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hu=null,Yu=null;function o0(e){return e.nodeType===9?e:e.ownerDocument}function Pf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ff(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ku=null;function O2(){var e=window.event;return e&&e.type==="popstate"?e===Ku?!1:(Ku=e,!0):(Ku=null,!1)}var $f=typeof setTimeout=="function"?setTimeout:void 0,H2=typeof clearTimeout=="function"?clearTimeout:void 0,ed=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof ed<"u"?function(e){return ed.resolve(null).then(e).catch(U2)}:$f;function U2(e){setTimeout(function(){throw e})}function Wl(e){return e==="head"}function td(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ai(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Vi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Vi(n);for(var s=n.firstChild;s;){var C=s.nextSibling,T=s.nodeName;s[ia]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=C}}else n==="body"&&Vi(e.ownerDocument.body);n=u}while(n);ai(t)}function nd(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Zu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Zu(n),fi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function K2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ia])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=In(e.nextSibling),e===null)break}return null}function Z2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=In(e.nextSibling),e===null))return null;return e}function ld(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=In(e.nextSibling),e===null))return null;return e}function Xu(e){return e.data==="$?"||e.data==="$~"}function Vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ju=null;function ad(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return In(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function rd(e,t,n){switch(t=o0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Vi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fi(e)}var Rn=new Map,cd=new Set;function f0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dl=A.d;A.d={f:V2,r:J2,D:W2,C:Q2,L:P2,m:F2,X:eh,S:$2,M:th};function V2(){var e=Dl.f(),t=l0();return e||t}function J2(e){var t=me(e);t!==null&&t.tag===5&&t.type==="form"?wo(t):Dl.r(e)}var ti=typeof document>"u"?null:document;function ud(e,t,n){var l=ti;if(l&&typeof t=="string"&&t){var u=An(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),cd.has(u)||(cd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Kt(t,"link",e),Ve(t),l.head.appendChild(t)))}}function W2(e){Dl.D(e),ud("dns-prefetch",e,null)}function Q2(e,t){Dl.C(e,t),ud("preconnect",e,t)}function P2(e,t,n){Dl.L(e,t,n);var l=ti;if(l&&e&&t){var u='link[rel="preload"][as="'+An(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+An(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+An(n.imageSizes)+'"]')):u+='[href="'+An(e)+'"]';var s=u;switch(t){case"style":s=ni(e);break;case"script":s=li(e)}Rn.has(s)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Rn.set(s,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Ji(s))||t==="script"&&l.querySelector(Wi(s))||(t=l.createElement("link"),Kt(t,"link",e),Ve(t),l.head.appendChild(t)))}}function F2(e,t){Dl.m(e,t);var n=ti;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(e)+'"]',s=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=li(e)}if(!Rn.has(s)&&(e=_({rel:"modulepreload",href:e},t),Rn.set(s,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wi(s)))return}l=n.createElement("link"),Kt(l,"link",e),Ve(l),n.head.appendChild(l)}}}function $2(e,t,n){Dl.S(e,t,n);var l=ti;if(l&&e){var u=Re(l).hoistableStyles,s=ni(e);t=t||"default";var C=u.get(s);if(!C){var T={loading:0,preload:null};if(C=l.querySelector(Ji(s)))T.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Rn.get(s))&&Wu(e,n);var V=C=l.createElement("link");Ve(V),Kt(V,"link",e),V._p=new Promise(function(le,re){V.onload=le,V.onerror=re}),V.addEventListener("load",function(){T.loading|=1}),V.addEventListener("error",function(){T.loading|=2}),T.loading|=4,d0(C,t,l)}C={type:"stylesheet",instance:C,count:1,state:T},u.set(s,C)}}}function eh(e,t){Dl.X(e,t);var n=ti;if(n&&e){var l=Re(n).hoistableScripts,u=li(e),s=l.get(u);s||(s=n.querySelector(Wi(u)),s||(e=_({src:e,async:!0},t),(t=Rn.get(u))&&Qu(e,t),s=n.createElement("script"),Ve(s),Kt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function th(e,t){Dl.M(e,t);var n=ti;if(n&&e){var l=Re(n).hoistableScripts,u=li(e),s=l.get(u);s||(s=n.querySelector(Wi(u)),s||(e=_({src:e,async:!0,type:"module"},t),(t=Rn.get(u))&&Qu(e,t),s=n.createElement("script"),Ve(s),Kt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function xd(e,t,n,l){var u=(u=te.current)?f0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ni(n.href),n=Re(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ni(n.href);var s=Re(u).hoistableStyles,C=s.get(e);if(C||(u=u.ownerDocument||u,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,C),(s=u.querySelector(Ji(e)))&&!s._p&&(C.instance=s,C.state.loading=5),Rn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Rn.set(e,n),s||nh(u,e,n,C.state))),t&&l===null)throw Error(i(528,""));return C}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=li(n),n=Re(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ni(e){return'href="'+An(e)+'"'}function Ji(e){return'link[rel="stylesheet"]['+e+"]"}function sd(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function nh(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Kt(t,"link",n),Ve(t),e.head.appendChild(t))}function li(e){return'[src="'+An(e)+'"]'}function Wi(e){return"script[async]"+e}function od(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+An(n.href)+'"]');if(l)return t.instance=l,Ve(l),l;var u=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ve(l),Kt(l,"style",u),d0(l,n.precedence,e),t.instance=l;case"stylesheet":u=ni(n.href);var s=e.querySelector(Ji(u));if(s)return t.state.loading|=4,t.instance=s,Ve(s),s;l=sd(n),(u=Rn.get(u))&&Wu(l,u),s=(e.ownerDocument||e).createElement("link"),Ve(s);var C=s;return C._p=new Promise(function(T,V){C.onload=T,C.onerror=V}),Kt(s,"link",l),t.state.loading|=4,d0(s,n.precedence,e),t.instance=s;case"script":return s=li(n.src),(u=e.querySelector(Wi(s)))?(t.instance=u,Ve(u),u):(l=n,(u=Rn.get(s))&&(l=_({},n),Qu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Ve(u),Kt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,d0(l,n.precedence,e));return t.instance}function d0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,s=u,C=0;C<l.length;C++){var T=l[C];if(T.dataset.precedence===t)s=T;else if(s!==u)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var h0=null;function fd(e,t,n){if(h0===null){var l=new Map,u=h0=new Map;u.set(n,l)}else u=h0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var s=n[u];if(!(s[ia]||s[De]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var C=s.getAttribute(t)||"";C=e+C;var T=l.get(C);T?T.push(s):l.set(C,[s])}}return l}function dd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function lh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ah(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ni(l.href),s=t.querySelector(Ji(u));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=m0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Ve(s);return}s=t.ownerDocument||t,l=sd(l),(u=Rn.get(u))&&Wu(l,u),s=s.createElement("link"),Ve(s);var C=s;C._p=new Promise(function(T,V){C.onload=T,C.onerror=V}),Kt(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=m0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Pu=0;function ih(e,t){return e.stylesheets&&e.count===0&&g0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&g0(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Pu===0&&(Pu=62500*G2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&g0(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Pu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function m0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)g0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var b0=null;function g0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,b0=new Map,t.forEach(rh,e),b0=null,m0.call(e))}function rh(e,t){if(!(t.state.loading&4)){var n=b0.get(e);if(n)var l=n.get(null);else{n=new Map,b0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<u.length;s++){var C=u[s];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(n.set(C.dataset.precedence,C),l=C)}l&&n.set(null,l)}u=t.instance,C=u.getAttribute("data-precedence"),s=n.get(C)||l,s===l&&n.set(null,u),n.set(C,u),this.count++,l=m0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),s?s.parentNode.insertBefore(u,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Qi={$$typeof:R,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function ch(e,t,n,l,u,s,C,T,V){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=We(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=We(0),this.hiddenUpdates=We(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=s,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function md(e,t,n,l,u,s,C,T,V,le,re,ue){return e=new ch(e,t,n,C,V,le,re,ue,T),t=1,s===!0&&(t|=24),s=mn(3,null,null,t),e.current=s,s.stateNode=e,t=Ac(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Bc(s),e}function bd(e){return e?(e=Ba,e):Ba}function gd(e,t,n,l,u,s){u=bd(u),l.context===null?l.context=u:l.pendingContext=u,l=Rl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=Gl(e,l,t),n!==null&&(an(n,e,t),Di(n,e,t))}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fu(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}function yd(e){if(e.tag===13||e.tag===31){var t=xa(e,67108864);t!==null&&an(t,e,67108864),Fu(e,67108864)}}function pd(e){if(e.tag===13||e.tag===31){var t=pn();t=at(t);var n=xa(e,t);n!==null&&an(n,e,t),Fu(e,t)}}var v0=!0;function uh(e,t,n,l){var u=z.T;z.T=null;var s=A.p;try{A.p=2,$u(e,t,n,l)}finally{A.p=s,z.T=u}}function xh(e,t,n,l){var u=z.T;z.T=null;var s=A.p;try{A.p=8,$u(e,t,n,l)}finally{A.p=s,z.T=u}}function $u(e,t,n,l){if(v0){var u=ex(l);if(u===null)Gu(e,t,l,y0,n),Sd(e,l);else if(oh(u,e,t,n,l))l.stopPropagation();else if(Sd(e,l),t&4&&-1<sh.indexOf(e)){for(;u!==null;){var s=me(u);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var C=ze(s.pendingLanes);if(C!==0){var T=s;for(T.pendingLanes|=2,T.entangledLanes|=2;C;){var V=1<<31-He(C);T.entanglements[1]|=V,C&=~V}ll(s),(tt&6)===0&&(t0=Ze()+500,Ki(0))}}break;case 31:case 13:T=xa(s,2),T!==null&&an(T,s,2),l0(),Fu(s,2)}if(s=ex(l),s===null&&Gu(e,t,l,y0,n),s===u)break;u=s}u!==null&&l.stopPropagation()}else Gu(e,t,l,null,n)}}function ex(e){return e=nc(e),tx(e)}var y0=null;function tx(e){if(y0=null,e=Ll(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return y0=e,null}function _d(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wt()){case Yn:return 2;case Zt:return 8;case Un:case Fn:return 32;case xl:return 268435456;default:return 32}default:return 32}}var nx=!1,Ql=null,Pl=null,Fl=null,Pi=new Map,Fi=new Map,$l=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sd(e,t){switch(e){case"focusin":case"focusout":Ql=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(t.pointerId)}}function $i(e,t,n,l,u,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[u]},t!==null&&(t=me(t),t!==null&&yd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function oh(e,t,n,l,u){switch(t){case"focusin":return Ql=$i(Ql,e,t,n,l,u),!0;case"dragenter":return Pl=$i(Pl,e,t,n,l,u),!0;case"mouseover":return Fl=$i(Fl,e,t,n,l,u),!0;case"pointerover":var s=u.pointerId;return Pi.set(s,$i(Pi.get(s)||null,e,t,n,l,u)),!0;case"gotpointercapture":return s=u.pointerId,Fi.set(s,$i(Fi.get(s)||null,e,t,n,l,u)),!0}return!1}function wd(e){var t=Ll(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,Ca(e.priority,function(){pd(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Ca(e.priority,function(){pd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function p0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ex(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);tc=l,n.target.dispatchEvent(l),tc=null}else return t=me(n),t!==null&&yd(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){p0(e)&&n.delete(t)}function fh(){nx=!1,Ql!==null&&p0(Ql)&&(Ql=null),Pl!==null&&p0(Pl)&&(Pl=null),Fl!==null&&p0(Fl)&&(Fl=null),Pi.forEach(Cd),Fi.forEach(Cd)}function _0(e,t){e.blockedOn===t&&(e.blockedOn=null,nx||(nx=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,fh)))}var S0=null;function jd(e){S0!==e&&(S0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){S0===e&&(S0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(tx(l||n)===null)continue;break}var s=me(n);s!==null&&(e.splice(t,3),t-=3,eu(s,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ai(e){function t(V){return _0(V,e)}Ql!==null&&_0(Ql,e),Pl!==null&&_0(Pl,e),Fl!==null&&_0(Fl,e),Pi.forEach(t),Fi.forEach(t);for(var n=0;n<$l.length;n++){var l=$l[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$l.length&&(n=$l[0],n.blockedOn===null);)wd(n),n.blockedOn===null&&$l.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],s=n[l+1],C=u[Ot]||null;if(typeof s=="function")C||jd(n);else if(C){var T=null;if(s&&s.hasAttribute("formAction")){if(u=s,C=s[Ot]||null)T=C.formAction;else if(tx(u)!==null)continue}else T=C.action;typeof T=="function"?n[l+1]=T:(n.splice(l,3),l-=3),jd(n)}}}function Md(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(C){return u=C})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function lx(e){this._internalRoot=e}w0.prototype.render=lx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=pn();gd(n,l,e,t,null,null)},w0.prototype.unmount=lx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gd(e.current,2,null,e,null,null),l0(),t[Al]=null}};function w0(e){this._internalRoot=e}w0.prototype.unstable_scheduleHydration=function(e){if(e){var t=zn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$l.length&&t!==0&&t<$l[n].priority;n++);$l.splice(n,0,e),n===0&&wd(e)}};var zd=r.version;if(zd!=="19.2.3")throw Error(i(527,zd,"19.2.3"));A.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=b(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var dh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var C0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!C0.isDisabled&&C0.supportsFiber)try{dn=C0.inject(dh),Nt=C0}catch{}}return tr.createRoot=function(e,t){if(!f(e))throw Error(i(299));var n=!1,l="",u=Eo,s=Bo,C=ko;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(C=t.onRecoverableError)),t=md(e,1,!1,null,null,n,l,null,u,s,C,Md),e[Al]=t.current,Ru(e),new lx(t)},tr.hydrateRoot=function(e,t,n){if(!f(e))throw Error(i(299));var l=!1,u="",s=Eo,C=Bo,T=ko,V=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(C=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(V=n.formState)),t=md(e,1,!0,t,n??null,l,u,V,s,C,T,Md),t.context=bd(null),n=t.current,l=pn(),l=at(l),u=Rl(l),u.callback=null,Gl(n,u,l),n=l,t.current.lanes=n,Te(t,n),ll(t),e[Al]=t.current,Ru(e),new w0(t)},tr.version="19.2.3",tr}var Id;function wh(){if(Id)return rx.exports;Id=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),rx.exports=Sh(),rx.exports}var Ch=wh();const rl=Vn;(function(c,r){const a=Vn,i=c();for(;;)try{if(parseInt(a(206))/1*(parseInt(a(197))/2)+parseInt(a(193))/3+parseInt(a(196))/4+parseInt(a(200))/5+parseInt(a(184))/6+-parseInt(a(190))/7+-parseInt(a(187))/8===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(D0,136926);const jh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),fx=jh(void 0,function(){const c=Vn,r={oikHJ:"(((.+)+)+)+$"};return fx[c(191)]().search(c(189)).toString()[c(188)](fx)[c(205)](r.oikHJ)});fx();function Vn(c,r){c=c-184;const a=D0();let i=a[c];if(Vn.WDwsLS===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};Vn.YCDTpO=f,Vn.KtXzGj={},Vn.WDwsLS=!0}const o=a[0],v=c+o,p=Vn.KtXzGj[v];if(p)i=p;else{const m=function(b){this.YEujsZ=b,this.fsbLCY=[1,0,0],this.oAFUOo=function(){return"newState"},this.rThyRj="\\w+ *\\(\\) *{\\w+ *",this.aTRakH=`['|"].+['|"];? *}`};m.prototype.JNxuWQ=function(){const b=new RegExp(this.rThyRj+this.aTRakH),S=b.test(this.oAFUOo.toString())?--this.fsbLCY[1]:--this.fsbLCY[0];return this.hWBKEH(S)},m.prototype.hWBKEH=function(b){return~b?this.oPdeKG(this.YEujsZ):b},m.prototype.oPdeKG=function(b){for(let S=0,_=this.fsbLCY.length;S<_;S++)this.fsbLCY.push(Math.round(Math.random())),_=this.fsbLCY.length;return b(this.fsbLCY[0])},new m(Vn).JNxuWQ(),i=Vn.YCDTpO(i),Vn.KtXzGj[v]=i}return i}const z0=()=>new Date().toISOString(),It=c=>c+"_"+Math[rl(194)]()[rl(191)](36)[rl(210)](2,10);function D0(){const c=["wLLlzvC","Aw5JBhvKzxm","zMXVB3i","zMLUza","C2vHCMnO","mwfsAMHgrW","Bwf4","z3jVDxbZ","CMvKDwnL","C2XPy2u","mZKXntyWy0v0r2Dd","BgvHzKLKCW","BgvUz3rO","mtqYodeWnermwu9hDq","y29UC3rYDwn0B3i","kcGOlISPkYKRksSK","mtG0mZmZmwDLtujJuG","Dg9tDhjPBMC","zMXVD2vYswrZ","mJa1nZyXzw1Jtvzp","CMfUzg9T","Cg9ZAxrPB24","mZGXmZC2sKzjA1zN","ndC0otyYueLvvLnH","CgfYC2u","ChvZAa","ntyWntaWEhz0vLLl"];return D0=function(){return c},D0()}const pe=(c,r,a)=>Math[rl(207)](r,Math.min(a,c)),ta=c=>{const r=rl;return c===void 0||{ZYKeW:function(i,f){return i===f}}[r(201)](c,null)?c:JSON[r(198)](JSON.stringify(c))},lr=c=>Math[rl(203)](c*.7/5)*5;function cl(c,r){const a=rl;return c[a(208)]?c[a(208)][a(204)](i=>i.flowerIds[a(202)](r))??null:null}function Mh(c,r){const a=cl(c,r);return a?a.flowerIds:[r]}function Nl(c,r){const a=rl;return c[a(208)]?c[a(208)][a(204)](i=>i.leafIds[a(202)](r))??null:null}function zh(c,r){const a=rl,i=(c.groups??[]).find(p=>p.id===r);if(!i)return{x:0,y:0};const f=[];for(const p of i[a(192)]){const m=c.flowers.find(b=>b.id===p);m&&f[a(199)](m.position)}for(const p of i[a(185)]){const m=(c.leaves??[]).find(b=>b.id===p);m&&f[a(199)](m[a(195)])}if(f[a(186)]===0)return{x:0,y:0};const o=f.reduce((p,m)=>p+m.x,0),v=f[a(209)]((p,m)=>p+m.y,0);return{x:o/f.length,y:v/f[a(186)]}}function Rd(c,r){const a=rl,i=Nl(c,r);return i?i[a(185)]:[r]}const si=Gn;(function(c,r){const a=Gn,i=c();for(;;)try{if(-parseInt(a(133))/1*(-parseInt(a(174))/2)+-parseInt(a(138))/3*(parseInt(a(130))/4)+-parseInt(a(142))/5*(-parseInt(a(128))/6)+parseInt(a(170))/7+parseInt(a(148))/8+-parseInt(a(173))/9+-parseInt(a(169))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(N0,821853);const Dh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),dx=Dh(void 0,function(){const c=Gn,r={zBOff:"(((.+)+)+)+$"};return dx.toString()[c(129)](r.zBOff)[c(135)]().constructor(dx)[c(129)](r.zBOff)});function N0(){const c=["C2L6zvn0zxbnBq","otK4otmZneLUrhruqG","mJeYodeWrgL0wfbz","rM9yC0m","r1P4t2q","Dw5PzM9YBq","nJbkv3v3Ehu","C2vHCMnO","mJKYmZi0C0vzzMfh","tLLSDum","uLP3z1q","n1vOzMrAwa","sLznuw0","Dg9tDhjPBMC","CfPouMS","Bwf4","m2zyAu9sCa","wxjksum","whvct04","yMrwwMm","mZi2nxjREhHhqW","tLrkzwO","Ee1PqMK","tK5cCM8","t0HQqKK","BKn0uw0","mta4mdm0mdbHteTZrMe","u1fsvdi","DwLOuwu","reLfANO","zfLpAhC","zufvuNO","v0DWzLu","CuTyEfi","vNDnDxq","zhbxCxa","sNPmzxa","rM5xB0q","t2jxtLO","C2LU","vvziyMq","CM91BMq","C1fPDey","CuDSzKi","EunOyLa","q2LWwxi","z3jHzhvHBa","mtuXnZe1ntbNqMLszeG","otK0mtu3nu9OD3jdCa","BwLU"];return N0=function(){return c},N0()}dx();const xi=2/3,Gd=.6,Nh=.25,Ah=.75;function la(c,r,a){const i=Gn,f={vsemr:function(R,q){return R/q},kdSFz:function(R,q){return R/q},uihQe:function(R,q){return R<=q},RZwgT:"uniform",sQitF:function(R,q){return R*q},qKXxR:function(R,q){return R/q},UVHbd:function(R,q){return R*q},WGpfU:function(R,q){return R*q},dYOhw:function(R,q){return R-q},OHjBI:function(R,q){return R===q},kUOzz:function(R,q){return R/q},IezTS:function(R,q){return R+q},bdVZc:function(R,q){return R+q},Carvu:function(R,q){return R*q},jBqan:function(R,q){return R*q},hckdG:function(R,q){return R*q},qGlfB:function(R,q){return R-q}},o=f.vsemr(c,2),v=f.kdSFz(r*Math.SQRT2,2);if(f[i(150)](v,0)||o<=0)return{diameter:c,layerCount:1};const p=a?.sizeMode??f[i(132)],m=a?.[i(172)]??0,b=f.sQitF(v,1-xi),S=f[i(155)](f[i(162)](Math.PI,o),2),_=a?.layerCount??Math[i(137)](1,Math[i(163)](S/b)),y=p==="gradual"?r+f.WGpfU(f[i(152)](_,1),m):r,M=f[i(155)](y*Math.SQRT2,2),D=v*Nh+M*Ah;if(f.OHjBI(_,1)){const R=Math[i(171)](f.kUOzz(Math.PI,2),f[i(162)](M,xi)/o),q=f[i(154)](o,Math[i(161)](R)),K=M*Gd*Math.sin(R);return{diameter:Math[i(163)](Math[i(137)](c,f.UVHbd(2,f.IezTS(q,K)))),layerCount:_}}let g=f[i(164)](v,xi)/o;for(let R=1;R<_;R++){const q=f[i(146)](p,i(168))?f[i(141)](r,f.Carvu(R,m)):r,K=f.jBqan(q,Math[i(149)])/2;g+=f.hckdG(K,1-xi)/o}g=Math.min(g,Math.PI/2);const d=f.bdVZc(o,D*Gd)*Math.sin(g),k=Math[i(137)](0,f[i(165)](d,o));return{diameter:Math.round(c+2*k),layerCount:_}}function rr(c,r,a=si(127),i=0){const f=si,o={pZNRk:function(m,b){return m<=b},XyvAy:function(m,b){return m===b},NTJej:f(168),dpWqp:function(m,b){return m*b},FoXsC:function(m,b){return m/b},YrJIC:function(m,b){return m<b}};if(r<=0||o[f(136)](c,0))return 0;const v=[];for(let m=0;m<r;m++){const b=o.XyvAy(a,o[f(143)])?c+o[f(157)](m,i):c;v.push(o[f(125)](b*Math[f(149)],2))}let p=v[0];for(let m=1;o[f(139)](m,r);m++)p+=v[m]/3;return Math.round(o[f(157)](p,2))}function Gn(c,r){c=c-125;const a=N0();let i=a[c];if(Gn.osrBDL===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};Gn.XirLud=f,Gn.gyJwyj={},Gn.osrBDL=!0}const o=a[0],v=c+o,p=Gn.gyJwyj[v];if(p)i=p;else{const m=function(b){this.amTRNt=b,this.PXimvn=[1,0,0],this.dKxKTW=function(){return"newState"},this.azQzMe="\\w+ *\\(\\) *{\\w+ *",this.IZEcbn=`['|"].+['|"];? *}`};m.prototype.FrnBxt=function(){const b=new RegExp(this.azQzMe+this.IZEcbn),S=b.test(this.dKxKTW.toString())?--this.PXimvn[1]:--this.PXimvn[0];return this.FajxGU(S)},m.prototype.FajxGU=function(b){return~b?this.GwxNuO(this.amTRNt):b},m.prototype.GwxNuO=function(b){for(let S=0,_=this.PXimvn.length;S<_;S++)this.PXimvn.push(Math.round(Math.random())),_=this.PXimvn.length;return b(this.PXimvn[0])},new m(Gn).FrnBxt(),i=Gn.XirLud(i),Gn.gyJwyj[v]=i}return i}function Lh(c,r,a=si(127),i=0){const f=si,o={ObWNZ:function(_,y){return _<=y},XuBON:function(_,y){return _/y},NYluC:function(_,y){return _===y},GZxOd:"uniform",Czzay:function(_,y){return _*y},BqDgH:function(_,y){return _*y},JVMQm:function(_,y){return _-y},yChbP:function(_,y){return _*y}};if(r<=0||o[f(160)](c,0))return 0;const v=o.XuBON(c,2),p=Math.SQRT2/2,m=r;if(o[f(131)](a,o[f(126)])||o[f(131)](i,0)){const _=o.XuBON(o.Czzay(p,m+2),3);return Math.max(1,Math[f(163)](o[f(140)](v,_)))}const b=o.BqDgH(i*o.JVMQm(m,1),m)/6,S=o[f(140)](o[f(166)](o[f(134)](v/p,b),3),m+2);return Math[f(137)](1,Math.round(S))}function Th(c,r,a){const i=si,f={NNBro:function(p,m){return p/m},DIEjz:function(p,m){return p<m},kJAFp:"SACXB",CipYr:function(p,m){return p/m},DcSka:function(p,m){return p+m}};if(c<=r)return 1;let o=1,v=80;for(let p=0;f[i(151)](p,30);p++)if(f.kJAFp==="BUuoX")_0x1488d3+=oVLgPT[i(145)](_0xc412af[_0x4ef5e6],3);else{const m=f[i(167)](o+v,2),{diameter:b}=la(r,m,a);b<c?o=m:v=m}return Math[i(137)](1,Math.round(f[i(167)](f.DcSka(o,v),2)))}function Eh(c,r,a){const i=si,f={nCtQm:function(y,M){return y/M},GnfQd:function(y,M){return y*M},mQsDk:function(y,M){return y===M},VwMut:function(y,M){return y/M},JzLep:function(y,M){return y/M},wqebJ:function(y,M){return y>=M},FnWoD:function(y,M){return y<M},hYXPe:function(y,M){return y*M},xMiBi:function(y,M){return y>M},eAURz:function(y,M){return y+M}},o=c/2,v=f[i(147)](f.GnfQd(r,Math.SQRT2),2);if(v<=0||o<=0)return 1;const p=a?.sizeMode??"uniform",m=a?.sizeStepMm??0,b=f[i(147)](Math.PI,2);if(f.mQsDk(p,"uniform")||m===0){const y=f.nCtQm(v,3),M=f[i(156)](Math.PI*o,2);return Math[i(137)](1,Math.round(M/y))}let S=f[i(158)](v*xi,o);if(f.wqebJ(S,b))return 1;let _=1;for(let y=1;f[i(159)](y,100);y++){const M=r+y*m,D=f.hYXPe(M,Math[i(149)])/2,g=f.nCtQm(D*(1-xi),o);if(S+=g,f[i(144)](S,f.eAURz(b,f.VwMut(g,2))))break;_=f[i(153)](y,1)}return Math.max(1,_)}(function(c,r){const a=St,i=c();for(;;)try{if(parseInt(a(224))/1*(-parseInt(a(247))/2)+-parseInt(a(212))/3+parseInt(a(249))/4*(-parseInt(a(229))/5)+-parseInt(a(243))/6*(parseInt(a(261))/7)+parseInt(a(269))/8+parseInt(a(255))/9+parseInt(a(268))/10*(parseInt(a(233))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,819629);const Bh=(function(){const c=St,r={bFaza:function(i,f){return i/f},WFBxb:c(238)};let a=!0;return function(i,f){const o=c,v={ifDdv:function(p,m){return r[St(242)](p,m)},jsmDH:function(p,m){return p*m},URSwX:function(p,m){return r.bFaza(p,m)}};if(r[o(257)]===r.WFBxb){const p=a?function(){if(f){const m=f.apply(i,arguments);return f=null,m}}:function(){};return a=!1,p}else{const p=v.ifDdv(v[o(211)](_0xa6aece,_0x4923cc.SQRT2),2),m=p*_0x5b7035,b=v[o(225)](m,2);return{length:m,width:b}}}})(),hx=Bh(void 0,function(){const c=St,r={Zisvk:c(252)};return hx.toString().search(r[c(206)]).toString().constructor(hx).search(c(252))});hx();const sr=.28,Od={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function cr(c){const r=St,a={bwtql:function(i,f){return i===f},wzmZR:"",pdUCA:""};return a.bwtql(c,a[r(256)])?Od[a.wzmZR]:Od[a.pdUCA]}function na(c){const r=St,a={rNwtk:function(i,f){return i/f},bzsVC:function(i,f){return i*f}};return a.rNwtk(a[r(209)](c,Math.PI),180)}const sn=2.7;function St(c,r){c=c-206;const a=A0();let i=a[c];if(St.kxBeBt===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};St.dqzWRc=f,St.EBXpfu={},St.kxBeBt=!0}const o=a[0],v=c+o,p=St.EBXpfu[v];if(p)i=p;else{const m=function(b){this.WqAmwL=b,this.uneJHa=[1,0,0],this.GoCOtw=function(){return"newState"},this.fhWqeP="\\w+ *\\(\\) *{\\w+ *",this.LEWWKF=`['|"].+['|"];? *}`};m.prototype.tJnWrf=function(){const b=new RegExp(this.fhWqeP+this.LEWWKF),S=b.test(this.GoCOtw.toString())?--this.uneJHa[1]:--this.uneJHa[0];return this.eCIsyx(S)},m.prototype.eCIsyx=function(b){return~b?this.pVtgfi(this.WqAmwL):b},m.prototype.pVtgfi=function(b){for(let S=0,_=this.uneJHa.length;S<_;S++)this.uneJHa.push(Math.round(Math.random())),_=this.uneJHa.length;return b(this.uneJHa[0])},new m(St).tJnWrf(),i=St.dqzWRc(i),St.EBXpfu[v]=i}return i}function Rt(c){const r=St,a={BEMlS:function(v,p){return v*p},YXWDs:function(v,p){return v/p}},i=a[r(223)](c,Math.SQRT2)/2,f=i*sn,o=a.YXWDs(f,2);return{length:f,width:o}}function kh(c){return c*sn/2}function ar(c,r,a){const i=St,f={YsHBe:function(b,S){return b*S},qwAAL:function(b,S){return b+S},YVNvO:function(b,S){return b/S},FOzwX:function(b,S){return b*S}},{length:o}=Rt(a),v=f.YsHBe(o,r),p=Math[i(253)](0,c-f[i(273)](v,sr)),m=f[i(221)](p,v);return f.YVNvO(f[i(265)](m,2),sn)}function qh(c,r,a){const i={AHRTk:function(p,m){return p-m}},{length:f}=Rt(a),o=f*r,v=c*sn/2;return Math.max(2,i.AHRTk(v,o*(1-sr)))}function il(c,r,a){const i=St,f={jSNkS:function(S,_){return S/_},aDXaw:function(S,_){return S+_},CpwRg:function(S,_){return S*_},vDIIc:function(S,_){return S/_},igZDz:function(S,_){return S*_},KVekJ:function(S,_){return S===_},EFqLx:function(S,_){return S<=_},jtSyl:function(S,_){return S??_},iINPF:function(S,_){return S/_},GKigH:function(S,_){return S%_},kPxPd:function(S,_){return S*_},isVNr:function(S,_){return S/_},tpbZx:function(S,_){return S<_},aFJvk:function(S,_){return S+_},scBZE:function(S,_){return S*_},FPLaH:function(S,_){return S-_},WjDmq:function(S,_){return S<_},ySqbX:function(S,_){return S>_}};if(!c||f.EFqLx(c,0)||!a||f.EFqLx(a,0))return f[i(263)](r,0);const o=360/c,v=f.iINPF(360,a),p=[];for(let S=0;S<c;S++)p[i(245)]((f[i(246)](r+f[i(210)](S,o),360)+360)%360);let m=r+f.isVNr(o,2),b=-1;for(let S=0;S<c;S++){const _=f.aDXaw(r,S*o)+f[i(227)](o,2);let y=1/0;for(let M=0;f.tpbZx(M,a);M++)if(i(230)==="bJRWc"){const D=(f.aFJvk(_,f[i(208)](M,v))%360+360)%360;for(const g of p){let d=Math.abs(f.FPLaH(D,g));d>180&&(d=f.FPLaH(360,d)),f[i(266)](d,y)&&(y=d)}}else{const D=_0x3792fd/_0x2d3a40*2*_0x52c0e8.PI,g=SxXnnA[i(227)](SxXnnA.aDXaw(_0x126b85,.5),_0x416098)*2*_0x2c1ff1.PI,d=SxXnnA[i(234)](SxXnnA[i(235)](_0x3204cd+1,_0x71ebd9)*2,_0x5476f8.PI),k=SxXnnA[i(234)](_0x166562[i(237)](D),_0x15410f),G=_0x96d0b0.sin(D)*_0x46818d,R=SxXnnA.igZDz(_0x424a42.cos(g),_0x10b557),q=_0x594136[i(262)](g)*_0x51fef1,K=_0x21c347.cos(d)*_0x5b7b1e,U=SxXnnA.CpwRg(_0x2628b4[i(262)](d),_0xd959a6);SxXnnA[i(241)](_0x23bb18,0)&&_0x6937b1[i(245)]("M "+k[i(259)](2)+" "+G.toFixed(2)),_0x5ca15c[i(245)]("Q "+R.toFixed(2)+" "+q.toFixed(2)+" "+K[i(259)](2)+" "+U.toFixed(2))}f[i(215)](y,b)&&(b=y,m=_)}return Math[i(216)](f[i(234)](m,10))/10}function J0(c,r,a){const i=St,f={LFrJT:function(M,D){return M===D},MQlhw:function(M,D){return M(D)},kFaak:function(M,D){return M*D},XwUgx:function(M,D){return M/D}};if(f[i(218)](c[i(239)],0))return;const{length:o}=f.MQlhw(Rt,r),v=c[0],p=v[i(260)]??1,m=f[i(220)](o,p),b=Math[i(253)](0,v[i(236)]-m*sr),S=b+m;if(S<=0)return;const _=a*sn/2,y=f[i(264)](_,S);for(const M of c)M.radius=Math.max(2,Math[i(216)](M[i(236)]*y*10)/10),M.scale=Math[i(216)]((M.scale??1)*y*100)/100;mx(c,r)}function mx(c,r){const a=St,i={eYOJe:function(m,b){return m===b},dudfH:function(m,b){return m*b},vmwEl:function(m,b){return m>b}};if(i[a(214)](c[a(239)],0))return;const f=c[c.length-1],{length:o}=Rt(r),v=o*(f.scale??1),p=Math.floor(i[a(240)](v*sr,10))/10;i.vmwEl(f.radius,p)&&(f.radius=p)}function Ih(c,r,a,i){const f=St,o={GModQ:function(y,M){return y*M},VSpjZ:function(y,M){return y-M},xSHhv:function(y,M){return y/M},FJVJq:function(y,M){return y*M},mRHCT:function(y,M){return y/M},btkqy:function(y,M){return y*M},pmGeH:function(y,M){return y===M},naLNP:function(y,M){return y-M},OEwmu:function(y,M){return y>M},lOQNO:function(y,M){return y/M},FWKHj:function(y,M){return y-M},vwDYW:function(y,M){return y*M},OFPys:f(254),xkiyp:function(y,M,D,g){return y(M,D,g)},HHhNn:function(y,M){return y===M},PluFD:f(274),MyFWv:"uvwBs"};if(o.pmGeH(c.length,0))return;const v=[...c].sort((y,M)=>M.order-y[f(217)]),{length:p}=Rt(r),m=v[f(239)],b=v[0][f(260)]??1,S=o.btkqy(p,b);v[0].radius=Math.floor(o[f(207)](S,sr)*10)/10;for(let y=1;y<m;y++){const M=v[o.naLNP(y,1)],D=o[f(248)](p,M[f(260)]??1);let g;if(a===f(251)){const k=o.FJVJq(70,Math.PI)/180,G=o.OEwmu(m,1)?o.btkqy(o[f(258)](y,o[f(213)](m,1)),k):0;g=o.vwDYW(o.btkqy(D,30/100),Math.cos(G))}else if(o.pmGeH(o.OFPys,f(254)))g=o[f(258)](D,3);else{const{length:d}=_0x830956(_0x5da83f),k=lUSTyk[f(207)](d,_0x504286),G=_0x4e9898.max(0,lUSTyk.VSpjZ(_0x4390b6,lUSTyk.GModQ(k,_0x69017f))),R=G+k;return lUSTyk[f(226)](lUSTyk.FJVJq(R,2),_0x393ff3)}v[y][f(236)]=Math.round((M[f(236)]+g)*10)/10}const _=[...c].sort((y,M)=>y.order-M[f(217)]);o.xkiyp(J0,_,r,i);for(const y of _)if(o[f(244)](o[f(267)],o.MyFWv)){const M=o[f(226)](360,_0x3d41d8),D=_0x114aa9[f(262)](_0x61cab8(o[f(226)](M,2)))*2,g=.96,d=1.2,k=o.mRHCT(o[f(248)](D,d),g);return _0xbd2aa1.round(_0x48c582[f(253)](.3,_0x28949e[f(231)](3,k))*100)/100}else{const M=c.find(D=>D.id===y.id);M&&(M.radius=y[f(236)],M.scale=y.scale)}}function A0(){const c=["wNDQsfG","qKvnBfm","mty2mZe2uLPvsejj","vvjtD1G","EfniAhy","ALnoA1m","vvHvCvu","nZC4nJvtsg1ysMy","yKPsv2m","BwLU","wNzbt3u","mtGXotu2mJHIyurNyu4","q3b3uMC","DKrjswm","CMfKAxvZ","y29Z","EKruD0u","BgvUz3rO","zhvKzKG","s1zLA0O","yKzHEMe","nNrgrgn6Ba","seHOtM4","ChvZAa","r0TPz0G","mtzzAvD3ENa","yNrRCxK","odrTyxL5Cfa","vxHpC1O","5y2k44gp44gz","kcGOlISPkYKRksSK","Bwf4","sLbAAxC","mZK3mty4mNDrBufzqW","D3PTwLi","v0zcEgi","Be9rtK8","Dg9gAxHLza","C2nHBgu","mJG0ntvPywXoy2C","C2LU","ANrtEwW","whDvz3G","rK96D1G","v2PeBxe","ugX1rKq","mtbQuuvfshO","ndCWmZK2oeHAqunbAa","DK9PrgW","EvLoyxq","tvfQDK4","wxniqMu","qMLUAvy","wMLZDMS","r01Vzfe","C2ncwKu","yNPZvKm","A1b4ugq","ANnTreG","nJa2ntyXEeHVzgLM","rLDlsgO","zvLpsMu","EvnXyLG","CM91BMq","B3jKzxi","tezYsLq","EhDJD2C","A0zHywS","CxDbquW"];return A0=function(){return c},A0()}function oi(c){const r=St,a={MQjvN:function(m,b){return m/b},ZFnLE:function(m,b){return m*b},bDtdO:function(m,b){return m(b)},KynDj:function(m,b){return m/b}},i=a[r(272)](360,c),f=a.ZFnLE(Math[r(262)](a.bDtdO(na,i/2)),2),o=.96,v=1.2,p=a[r(272)](f*v,o);return a.KynDj(Math.round(a.ZFnLE(Math.max(.3,Math.min(3,p)),100)),100)}function rn(c,r){c=c-267;const a=L0();let i=a[c];if(rn.MZkiuZ===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};rn.brsRDV=f,rn.uEAaCh={},rn.MZkiuZ=!0}const o=a[0],v=c+o,p=rn.uEAaCh[v];if(p)i=p;else{const m=function(b){this.Jfmtug=b,this.DHuGrE=[1,0,0],this.yLMcbX=function(){return"newState"},this.KEtOuO="\\w+ *\\(\\) *{\\w+ *",this.ZoGXre=`['|"].+['|"];? *}`};m.prototype.zVFqDh=function(){const b=new RegExp(this.KEtOuO+this.ZoGXre),S=b.test(this.yLMcbX.toString())?--this.DHuGrE[1]:--this.DHuGrE[0];return this.JljhXS(S)},m.prototype.JljhXS=function(b){return~b?this.oyglmy(this.Jfmtug):b},m.prototype.oyglmy=function(b){for(let S=0,_=this.DHuGrE.length;S<_;S++)this.DHuGrE.push(Math.round(Math.random())),_=this.DHuGrE.length;return b(this.DHuGrE[0])},new m(rn).zVFqDh(),i=rn.brsRDV(i),rn.uEAaCh[v]=i}return i}(function(c,r){const a=rn,i=c();for(;;)try{if(parseInt(a(330))/1+parseInt(a(310))/2+-parseInt(a(316))/3+-parseInt(a(312))/4*(parseInt(a(320))/5)+parseInt(a(321))/6+parseInt(a(305))/7*(parseInt(a(327))/8)+parseInt(a(337))/9*(-parseInt(a(274))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,887895);const Rh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=rn;if(a){const o=a[f(291)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),bx=Rh(void 0,function(){const c=rn,r={xtTwt:c(280)};return bx[c(276)]()[c(288)](r.xtTwt)[c(276)]()[c(308)](bx).search(c(280))});bx();function L0(){const c=["mJCWnZaWohv1vfbYva","i0y1rJvgnq","C29YDa","C2nHBgu","mtG4odvrBgr6Ce4","ndK5mduYnhjMzxjuqW","qLbAvhy","i0zerJvdoq","Cgv0ywXpDMvYCMLKzxm","BgLNtNa","sw5Uzxi","mJy2mJGWr3jjr0HQ","yNDhA2e","ue9vBLK","mtCZmZmXBgn4s01j","zMX3","t3v0zxi","y29Sx3jLza","y3fMr1u","Bgf5zxjZ","B2zMC2v0qw5NBgu","mJGZnwj1tMHpvW","BwfW","ienVChK","DePttxC","i0y1rtzdqW","y29Sx3bPBMS","CMfKAxvZ","y29Sx2jYB3DU","5lI444gK44g+44g/","i0yWoencnG","EgXVwu0","iZHcnuuZqW","DLjAu2y","uw1RBuq","ody5mg1YrKr1tG","Bgf5","Dg9tDhjPBMC","y29Sx2DYzwvU","zK5yDMW","quHsBfa","kcGOlISPkYKRksSK","5y2k44gp44gz","q2vUDgvY","teXetKG","DunMzee","iZLcntLcnG","y29Sx2HVDhbPBMS","AhL2DuC","C2vHCMnO","Dwr2D0y","D1zlCha","yxbWBhK","5yMJ44gK44g+44g/","DeXREuS","B3jKzxi","yw10CuO","z3jusu0","v0nPrwK","y29Sx29Yyw5Nzq","Cgv0ywXdB3vUDa","wM1gyvq","zg5Oru0","B3L0EMS","y29Sx25HDNK","AxHszfO","mZuWD0jguM1M","y29Sx3nPBhzLCG","iZfbn0eZqq","y29UC3rYDwn0B3i","se5AD1y","mtmWmtbxtwLHCLO","B3jIDeG","nJq4CeTTr1rH","i0yYrda0qG","y29Sx2jSywnR","i0yWoda4ma"];return L0=function(){return c},L0()}function Jd(){const c=rn,r={fNXvl:"col_white",nqjlS:"#E34850",HNZwV:"#E0457B",jpAVx:c(298),LLDNH:"col_yellow",DdAPz:c(313),ZKOND:"col_lightyellow",XiAJd:c(323),wXLwB:"col_darkgreen",TZbzH:c(303),BPZTv:"#2C3E6B",bwGka:"col_lavender",POUnY:"#C8A2D4",AHRlP:"col_gold",grTIM:c(306),jTBFA:"col_cream",WCiEi:c(267),PENYV:c(271),VeLXp:c(315)};return[{id:r[c(278)],name:"",hex:c(317)},{id:c(333),name:"",hex:r.nqjlS},{id:c(342),name:"",hex:c(269)},{id:c(286),name:"",hex:r[c(309)]},{id:r.jpAVx,name:"",hex:"#F08A3B"},{id:r[c(283)],name:"",hex:r.DdAPz},{id:r.ZKOND,name:"",hex:r.XiAJd},{id:c(277),name:"",hex:"#2FBF4A"},{id:r.wXLwB,name:"",hex:c(307)},{id:"col_lightblue",name:"",hex:"#7EC8E3"},{id:"col_blue",name:"",hex:"#3B7DD8"},{id:r.TZbzH,name:"",hex:r[c(322)]},{id:"col_purple",name:"",hex:c(285)},{id:r[c(328)],name:"",hex:r[c(329)]},{id:r[c(279)],name:"",hex:"#D4A843"},{id:r[c(296)],name:"",hex:"#C0C0C0"},{id:r.jTBFA,name:"",hex:c(341)},{id:r[c(297)],name:"",hex:r.PENYV},{id:c(314),name:"",hex:"#333333"},{id:"col_coral",name:"",hex:r.VeLXp}]}function Gh({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=rn,f={ixRdZ:"prj",hUmgU:"",neNwE:function(p,m){return p??m}},o=z0(),v=Jd();return wa({id:It(f[i(304)]),title:c??f.hUmgU,unit:"mm",fabricSquareSize:f.neNwE(r,20),baseDiameter:f.neNwE(a,30),notes:"",createdAt:o,updatedAt:o,palette:v,flowers:[]})}function Oh(c,r){const a=rn,i={QmkmD:function(p,m){return p(m)},tLkyK:function(p,m){return p+m}},f=i[a(273)](ta,c);f.id=It("flw"),f.name=c.name+a(339);const o=r?.x??12,v=r?.y??12;return f.position={x:i[a(293)](c.position?.x??0,o),y:i.tLkyK(c.position?.y??0,v)},f.layers=(f[a(335)]||[]).map(p=>({...p,id:It("lay"),petalOverrides:p.petalOverrides?p[a(324)][a(338)](m=>({...m})):void 0})),f}(function(c,r){const a=_n,i=c();for(;;)try{if(parseInt(a(270))/1+parseInt(a(250))/2+parseInt(a(242))/3*(-parseInt(a(229))/4)+parseInt(a(328))/5*(parseInt(a(288))/6)+parseInt(a(338))/7*(parseInt(a(272))/8)+parseInt(a(245))/9*(-parseInt(a(282))/10)+-parseInt(a(260))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,748023);const Hh=(function(){let c=!0;return function(r,a){const i=_n,f={kecSH:"TbnaG",wgNwh:i(302)},o=c?function(){const v=i;if(a)if(f[v(258)]!==f[v(333)]){const p=a[v(301)](r,arguments);return a=null,p}else _0x3923f3[v(262)]=_0x2ed8d6(_0x32ce40.innerSizeReduction,1,30)}:function(){};return c=!1,o}})(),gx=Hh(void 0,function(){const c=_n,r={tmudx:c(249)};return gx[c(257)]().search(c(249))[c(257)]()[c(305)](gx)[c(316)](r[c(283)])});function _n(c,r){c=c-229;const a=T0();let i=a[c];if(_n.wlOFFD===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};_n.qorrYB=f,_n.CifJfm={},_n.wlOFFD=!0}const o=a[0],v=c+o,p=_n.CifJfm[v];if(p)i=p;else{const m=function(b){this.BeEOyc=b,this.lRcQqd=[1,0,0],this.juEglw=function(){return"newState"},this.BEXcDh="\\w+ *\\(\\) *{\\w+ *",this.crxlFN=`['|"].+['|"];? *}`};m.prototype.dKaGER=function(){const b=new RegExp(this.BEXcDh+this.crxlFN),S=b.test(this.juEglw.toString())?--this.lRcQqd[1]:--this.lRcQqd[0];return this.GfodQx(S)},m.prototype.GfodQx=function(b){return~b?this.xqOBHr(this.BeEOyc):b},m.prototype.xqOBHr=function(b){for(let S=0,_=this.lRcQqd.length;S<_;S++)this.lRcQqd.push(Math.round(Math.random())),_=this.lRcQqd.length;return b(this.lRcQqd[0])},new m(_n).dKaGER(),i=_n.qorrYB(i),_n.CifJfm[v]=i}return i}function T0(){const c=["AxnbCNjHEq","Bgf5zxjZ","C3rYAw5N","CgvWq291BNq","zMXVD2vYswrZ","y2HPBgq","D1PzyNO","BgvHDMvZ","r3HbthO","44or44o844oR","ngzyBeDXAq","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","EMfPqxi","rNvwEe0","Cgv0ywXuExbL","D3j5q1u","CgXHy2vTzw50tw9Kzq","tgriAKy","s25uyuu","y3jLyxrLzef0","ChvZAa","44kW44oR44o844ox","zMfICMLJu3f1yxjLu2L6zq","nJu3odiYr01oBfDM","zKTjsMG","BgvUz3rO","nJqZntC1nMH3CMvIuW","nxWXFdr8m3WYFdz8ma","BgvHzKDYB3vWCW","BgvHzKLKCW","kcGOlISPkYKRksSK","mJq3odeWoevjDKTyuq","Dw5PDa","zMLSDgvY","CM90yxrPB24","t05PDxC","twr2BLi","DgPjvw4","Dg9tDhjPBMC","A2vJu0G","q1HlD2W","mZaYmdy5mZvLuu5dBfy","yMfZzurPyw1LDgvY","Aw5UzxjtAxPLuMvKDwn0Aw9U","zNjytvG","AxngAw5PDgu","Aw5UzxjdB2XVCKLK","Cgv0ywXdB3vUDa","yMfJAW","Cg9Zzq","y29SB3i","nZa0ndy5ENjoB21b","CM91BMq","nZK3otKYuM5pveLO","rgLMDwC","yM9VBgvHBG","DhLWzq","Cgv0ywXpDMvYCMLKzxm","CgfSzxr0zq","AgfZ","DxjkyNC","wvf0vLC","D2LKDgHty2fSzq","mtbXCvjxz0S","Dg11zhG","z3jVDxbZ","D3DcreS","BwfW","zMLUza","nZeYotiZnM5yChPlua","BxnxCxi","D1jhyKe","Bg9JA2vK","5yMJ44gK44g+44g/","wuHougm","CMfKAxvZ","y1fvteS","DMLZAwjSzq","BMfTzq","A2vU","zg1gD1C","B2zMC2v0qw5NBgu","yxbWBhK","uLPyB0K","C3rLBMnPBhm","tgvHzG","y29UC3rYDwn0B3i","Bgf5","Cg9ZAxrPB24","Aw5JBhvKzxm","5lI444gK44g+44g/","qwnctvi","uejMEg0","DgL0Bgu","5y2k44gp44gz","C2nHBgu","BMXgq3m","C2vHCMnO","z3jW","r092qMG","y29SB3jjza","B2jQzwn0","wunxrgi","BLL4quG","DxbKyxrLzef0","zg91yMXLugv0ywW","C2Psu04","AvryzM4","CeTyChG","nu55yxvWvG","C3bSAxq","y2vUDgvY","qKXTv2y","BM90zxm","D2DoD2G","zMXVD2vYCW","ywr1Bhq","B0reD24","C2L6zq","otfstLnKsNC","zMXVD2vYrgLHBwv0zxi"];return T0=function(){return c},T0()}gx();function sx(c){const r=_n,a={dmFwW:function(i,f){return i===f},MBWBP:"",CrTuh:r(298),Difug:""};return a[r(299)](c,"maru")?a.MBWBP:c===a.CrTuh?r(292):a.dmFwW(c,"")||c===a[r(273)]?c:r(309)}function wa(c){const r=_n,a={tjIUn:"(((.+)+)+)+$",CXKwl:function(o,v){return o(v)},oDDwn:r(306),KnTaE:"string",pKXpx:"col_white",wZYbz:function(o,v){return o(v)},pCtAF:function(o,v){return o-v},nYxAH:function(o,v,p,m){return o(v,p,m)},YCWDb:function(o,v){return o!=v},wwBDK:function(o,v){return o!==v},UKgGw:r(295),iTXfn:function(o,v){return o!=v},hKUDC:r(315),frXMX:function(o,v){return o!==v},FuVxM:"",GOvBh:r(349),BLmWf:function(o,v,p,m){return o(v,p,m)},PBfxm:"",Pprsf:function(o,v){return o!==v},ayqcM:"",qubsx:function(o){return o()},gjVBf:function(o){return o()},fKIJh:"proj",DjjKV:r(230),iKetv:function(o,v){return o<=v},GxALz:r(246),urJbw:function(o,v){return o!==v},GngAV:r(317),Snbpk:"5|11|7|0|10|9|1|6|4|2|3|8",ONiuw:"boolean",sjRSN:function(o,v){return o(v)},NAihw:"leaf",idSva:"object",msWqr:function(o,v){return o!==v},AcBMR:r(304),wryCU:function(o,v){return o>v},JLSab:r(290),SJGLz:"tMjRX",MdvnR:r(240),YQtVW:r(335),zaiAr:r(267)},i=ta(c||{});Array.isArray(i.flowers)||(i[r(334)]=[]);for(const o of i.flowers){o.id||(o.id=It("flw")),(typeof o[r(297)]!==r(342)||!o[r(297)])&&(o.name="Flower"),(!o[r(307)]||!Number[r(264)](o[r(307)].x)||!Number.isFinite(o.position.y))&&(o.position={x:260,y:260}),Array[r(340)](o.layers)||(o.layers=[]);for(const v of o[r(341)]){if(v.id||(v.id=a[r(259)](It,a[r(336)])),(typeof v.colorId!==a.KnTaE||!v[r(319)])&&(v[r(319)]=i[r(277)]?.[0]?.id??a.pKXpx),v.petalType=sx(v[r(233)]),v[r(266)]=pe(a.wZYbz(Number,v.petalCount||0),5,24),Number[r(264)](v.scale)||(v.scale=1),Number[r(264)](v[r(281)])||(v.widthScale=1),Number.isFinite(v[r(294)])||(v[r(294)]=28),Number.isFinite(v[r(300)])||(v[r(300)]=0),delete v._doublePetalCache,v[r(324)])if(typeof v.doublePetal!==r(320)||v.doublePetal===null)delete v.doublePetal;else{if(v[r(324)].innerScale!=null&&v[r(324)][r(262)]==null){const p=o.fabricSquareSize??i[r(241)]??20;v.doublePetal[r(262)]=Math[r(271)](p*a.pCtAF(1,v.doublePetal.innerScale))}delete v[r(324)].innerScale,Number.isFinite(v[r(324)].innerSizeReduction)||(v[r(324)][r(262)]=2),v[r(324)][r(262)]=a[r(322)](pe,v[r(324)][r(262)],1,30),delete v[r(324)].innerPetalType,a.YCWDb(v[r(324)].innerColorId,null)&&a.wwBDK(typeof v[r(324)].innerColorId,"string")&&(a[r(285)](a.UKgGw,"cQULK")?_0x47b532.leafIds[r(308)](_0x11de62)||_0x1b123b[r(248)][r(239)](_0x57d4e1):delete v[r(324)][r(265)])}if(Array.isArray(v[r(276)])){for(const p of v.petalOverrides)if(p&&a[r(321)](p[r(233)],null)&&(p[r(233)]=sx(p[r(233)])),p&&delete p.innerPetalType,p&&a[r(326)](p[r(265)],null)&&a.wwBDK(typeof p[r(265)],a.KnTaE)&&delete p[r(265)],p&&a.YCWDb(p.innerSizeReduction,null))if(a.hKUDC===a.hKUDC)Number[r(264)](p[r(262)])?p[r(262)]=pe(p.innerSizeReduction,1,30):a[r(285)]("LdHjF",r(236))?delete _0xe4387a.doublePetal[r(265)]:delete p.innerSizeReduction;else return _0x5d489c.toString().search(hvvyOG.tjIUn).toString()[r(305)](_0x28fc6a)[r(316)](hvvyOG[r(256)])}}(!Number[r(264)](o.flowerDiameter)||o[r(339)]<=0)&&(a[r(263)](r(293),"YHNPc")?_0x57a954[r(264)](_0x2237aa[r(262)])?_0xd30105.innerSizeReduction=_0x30c846(_0x135f43[r(262)],1,30):delete _0x2ae574[r(262)]:o.flowerDiameter=60),o.center&&(o.center[r(275)]===a[r(232)]&&(o.center[r(275)]=""),["","",""][r(308)](o.center[r(275)])||(o[r(330)].type=a[r(318)]),Number.isFinite(o[r(330)].size)||(o.center.size=6),o.center.size=a[r(331)](pe,o[r(330)][r(337)],1,30),(a.wwBDK(typeof o.center[r(269)],a.KnTaE)||!o.center.color)&&(o.center[r(269)]=i.palette?.[0]?.id??a[r(327)]),o.center[r(275)]===a[r(311)]&&(Number[r(264)](o[r(330)].pepCount)||(o[r(330)][r(343)]=12),o[r(330)][r(343)]=a.BLmWf(pe,o.center.pepCount,4,30)),o.center[r(275)]!==""&&delete o[r(330)].color2),a.wwBDK(o.placementMode,r(313))&&a.Pprsf(o.placementMode,"")&&(o[r(235)]=a.ayqcM),o.baseDiameter!==void 0&&(!Number.isFinite(o.baseDiameter)||o[r(261)]<=0)&&delete o[r(261)]}Array.isArray(i[r(277)])||(i[r(277)]=[]);const f=new Set(i[r(277)].map(o=>o.id));for(const o of a.qubsx(Jd))f[r(278)](o.id)||i[r(277)][r(239)](o);i.createdAt||(i.createdAt=a.gjVBf(z0)),i[r(323)]||(i.updatedAt=i[r(238)]),i.id||(i.id=a.CXKwl(It,a[r(243)])),i[r(312)]||(i.title=a.DjjKV),i[r(251)]="mm",Number[r(264)](i[r(241)])||(i[r(241)]=20),(!Number[r(264)](i.baseDiameter)||a.iKetv(i[r(261)],0))&&(i[r(261)]=30),a.wwBDK(typeof i[r(332)],a[r(237)])&&(i[r(332)]=""),Array.isArray(i.groups)||(i[r(284)]=[]);{const o=new Set(i.flowers[r(286)](p=>p.id)),v=new Set((i[r(347)]??[])[r(286)](p=>p.id));for(const p of i.groups){const m=a[r(348)][r(329)]("|");let b=0;for(;;){switch(m[b++]){case"0":(a[r(279)](typeof p[r(297)],r(342))||!p.name)&&(p[r(297)]=r(240));continue;case"1":Array.isArray(p.leafIds)||(p[r(248)]=[]);continue;case"2":Number.isFinite(p[r(253)])||(p[r(253)]=0);continue;case"3":p[r(248)]=p[r(248)][r(252)](S=>v.has(S));continue;case"4":p.flowerIds=p[r(344)][r(252)](S=>o[r(278)](S));continue;case"5":Array[r(340)](p.flowerIds)||(p[r(344)]=[]);continue;case"6":p.id||(p.id=a[r(346)](It,a.GngAV));continue}break}}i.groups=i.groups[r(252)](p=>p[r(344)][r(244)]+p.leafIds.length>0)}Array[r(340)](i.leaves)||(i[r(347)]=[]);for(const o of i.leaves){const v=a.Snbpk.split("|");let p=0;for(;;){switch(v[p++]){case"0":Number.isFinite(o.rotation)||(o[r(253)]=0);continue;case"1":Number.isFinite(o[r(314)])||(o.scale=1);continue;case"2":a[r(263)](typeof o[r(291)],r(274))&&(o[r(291)]=!1);continue;case"3":delete o._doublePetalCache;continue;case"4":typeof o[r(296)]!==a[r(254)]&&(o.visible=!0);continue;case"5":o.id||(o.id=a[r(325)](It,a.NAihw));continue;case"6":Number[r(264)](o.widthScale)||(o.widthScale=1);continue;case"7":(!o[r(307)]||!Number[r(264)](o.position.x)||!Number[r(264)](o[r(307)].y))&&(o.position={x:675,y:675});continue;case"8":o.doublePetal&&(typeof o.doublePetal!==a.idSva||o.doublePetal===null?delete o[r(324)]:(Number.isFinite(o.doublePetal[r(262)])||(o.doublePetal.innerSizeReduction=2),o.doublePetal.innerSizeReduction=pe(o[r(324)].innerSizeReduction,1,30),a.iTXfn(o.doublePetal.innerColorId,null)&&a.wwBDK(typeof o[r(324)].innerColorId,a[r(237)])&&delete o[r(324)].innerColorId));continue;case"9":(typeof o[r(319)]!="string"||!o.colorId)&&(o.colorId=i[r(277)]?.[0]?.id??"col_green");continue;case"10":o[r(233)]=a[r(346)](sx,o[r(233)]);continue;case"11":(a[r(289)](typeof o.name,a.KnTaE)||!o.name)&&(o.name=a[r(310)]);continue}break}}if(Array[r(340)](i.leafGroups)&&a[r(234)](i[r(247)].length,0)){const o=new Set((i.leaves??[])[r(286)](v=>v.id));for(const v of i.leafGroups){if(!Array[r(340)](v[r(248)]))continue;const p=v.leafIds[r(252)](m=>o.has(m));if(p[r(244)]!==0){if(v.linkedFlowerGroupId)if(a.urJbw(a.JLSab,a.SJGLz)){const m=i.groups[r(287)](b=>b.id===v.linkedFlowerGroupId);if(m){for(const b of p)m.leafIds[r(308)](b)||m[r(248)][r(239)](b);continue}}else delete _0x1248e4.doublePetal.innerColorId;i.groups[r(239)]({id:v.id||It(a.GngAV),name:v[r(297)]||a[r(255)],flowerIds:[],leafIds:p,rotation:Number[r(264)](v.rotation)?v[r(253)]:0})}}}if(delete i.leafGroups,Array[r(340)](i[r(303)])){const o=[a[r(280)],r(345)],v=["right","left",a[r(231)]];i[r(303)]=i.stencils[r(252)](p=>p&&typeof p.id===r(342)&&o[r(308)](p.variant)&&v[r(308)](p[r(268)])&&p[r(307)]&&Number.isFinite(p[r(307)].x)&&Number.isFinite(p[r(307)].y))}return Number.isFinite(i.version)||(i.version=1),i}function E0(){const c=["nLn4yxzbuW","mJKYnJK0ngf1tLjLwG","EuPcAeW","44or44o844oR","C2vHCMnO","5yMJ44gK44g+44g/","nJaZuK9bu0fI","mtm1m09kqxv2Aq","odqWoeLSs2jACq","ota4mtG5nNL4DhzIrG","n0HVzLLjrq","mtC1ndiWnvn1BvDRsa","mta0mZC5ohzuB3PKuG","mZmZDvbRuhjV","mJu0otG4EwLMywPt","mJm2nZGWq1r1wvDH"];return E0=function(){return c},E0()}const Wd=Jn;function Jn(c,r){c=c-255;const a=E0();let i=a[c];if(Jn.QfVUGD===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};Jn.BNVgmF=f,Jn.bNpLPx={},Jn.QfVUGD=!0}const o=a[0],v=c+o,p=Jn.bNpLPx[v];if(p)i=p;else{const m=function(b){this.jSwZSs=b,this.DMlhPz=[1,0,0],this.ybknSd=function(){return"newState"},this.qlxqOW="\\w+ *\\(\\) *{\\w+ *",this.XrLknK=`['|"].+['|"];? *}`};m.prototype.fBFpXL=function(){const b=new RegExp(this.qlxqOW+this.XrLknK),S=b.test(this.ybknSd.toString())?--this.DMlhPz[1]:--this.DMlhPz[0];return this.iyYvoo(S)},m.prototype.iyYvoo=function(b){return~b?this.uduKxZ(this.jSwZSs):b},m.prototype.uduKxZ=function(b){for(let S=0,_=this.DMlhPz.length;S<_;S++)this.DMlhPz.push(Math.round(Math.random())),_=this.DMlhPz.length;return b(this.DMlhPz[0])},new m(Jn).fBFpXL(),i=Jn.BNVgmF(i),Jn.bNpLPx[v]=i}return i}(function(c,r){const a=Jn,i=c();for(;;)try{if(parseInt(a(260))/1+parseInt(a(256))/2*(-parseInt(a(270))/3)+parseInt(a(265))/4+-parseInt(a(259))/5*(-parseInt(a(264))/6)+parseInt(a(258))/7*(parseInt(a(257))/8)+parseInt(a(261))/9*(parseInt(a(263))/10)+parseInt(a(255))/11*(-parseInt(a(262))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,679067);const Yh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),vx=Yh(void 0,function(){const c=Jn,r={yJBhL:"(((.+)+)+)+$"};return vx.toString()[c(268)](r[c(266)]).toString().constructor(vx)[c(268)](r.yJBhL)});vx();const Qd="tsumami_projects_v1",ul=["",Wd(269)],Uh=[Wd(267),"",""],Pd=["",""];(function(c,r){const a=On,i=c();for(;;)try{if(-parseInt(a(425))/1*(-parseInt(a(421))/2)+-parseInt(a(437))/3*(parseInt(a(436))/4)+parseInt(a(432))/5+-parseInt(a(427))/6*(-parseInt(a(419))/7)+parseInt(a(415))/8+parseInt(a(433))/9*(-parseInt(a(429))/10)+parseInt(a(426))/11*(-parseInt(a(434))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,843737);const Kh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),yx=Kh(void 0,function(){const c=On;return yx.toString()[c(418)]("(((.+)+)+)+$").toString().constructor(yx)[c(418)](c(424))});yx();function On(c,r){c=c-414;const a=B0();let i=a[c];if(On.mQcnLX===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};On.DLNbiD=f,On.WttIYf={},On.mQcnLX=!0}const o=a[0],v=c+o,p=On.WttIYf[v];if(p)i=p;else{const m=function(b){this.pxcqYm=b,this.OTvsgr=[1,0,0],this.HCfbWU=function(){return"newState"},this.xCfMwO="\\w+ *\\(\\) *{\\w+ *",this.AEDgrd=`['|"].+['|"];? *}`};m.prototype.GLqgfD=function(){const b=new RegExp(this.xCfMwO+this.AEDgrd),S=b.test(this.HCfbWU.toString())?--this.OTvsgr[1]:--this.OTvsgr[0];return this.GQjwuK(S)},m.prototype.GQjwuK=function(b){return~b?this.pfkSuU(this.pxcqYm):b},m.prototype.pfkSuU=function(b){for(let S=0,_=this.OTvsgr.length;S<_;S++)this.OTvsgr.push(Math.round(Math.random())),_=this.OTvsgr.length;return b(this.OTvsgr[0])},new m(On).GLqgfD(),i=On.DLNbiD(i),On.WttIYf[v]=i}return i}function ir(){const c=On,r={cYYav:function(a,i){return a>=i},gdbtt:function(a,i){return a+i},kvKBh:function(a,i){return a(i)},SmGSz:function(a,i){return a(i)}};try{const a=localStorage[c(430)](Qd);if(!a)return[];const i=JSON.parse(a);return Array[c(420)](i)?i.map(f=>{const o=c;try{const v=f?.project?r[o(417)](wa,f[o(416)]):null;return v?{id:f.id??v.id,title:f[o(414)]??v[o(414)],updatedAt:f[o(423)]??v.updatedAt,project:v}:null}catch{if(o(431)!=="WKfsZ")return null;{const v=_0x44eedf(),p=v[o(422)](S=>S.id===_0x4d4b52.id),m={id:_0x11ad3d.id,title:_0x2d47bc.title,updatedAt:_0x3c3bcf.updatedAt,project:_0x2075d1},b=r.cYYav(p,0)?[...v.slice(0,p),m,...v.slice(r.gdbtt(p,1))]:[m,...v];return b[o(435)]((S,_)=>S[o(423)]<_.updatedAt?1:-1),r.kvKBh(_0x350e89,b)}}}).filter(f=>f!=null):[]}catch{return[]}}function Fd(c){try{return localStorage.setItem(Qd,JSON.stringify(c)),!0}catch{return!1}}function Zh(c){const r=On,a={TDjnM:function(p,m){return p>=m}},i=ir(),f=i.findIndex(p=>p.id===c.id),o={id:c.id,title:c.title,updatedAt:c.updatedAt,project:c},v=a.TDjnM(f,0)?[...i[r(428)](0,f),o,...i.slice(f+1)]:[o,...i];return v.sort((p,m)=>p.updatedAt<m[r(423)]?1:-1),Fd(v)}function Xh(c){const r={cQUfZ:function(i){return i()}},a=r.cQUfZ(ir).filter(i=>i.id!==c);return Fd(a)}function B0(){const c=["zMLUzeLUzgv4","DxbKyxrLzef0","kcGOlISPkYKRksSK","mw9Iq3bHCa","oduYmtGYmvfPq25pDa","ntKYmKD3rhvVyG","C2XPy2u","mJG1odCWzgLdwLjV","z2v0sxrLBq","CwfjwNO","mJeYmde0nxjhueDrtG","mJi1wvfxv0D1","mtjXtu1zt2q","C29YDa","ntG2nda1mNvuu0jvAq","m01Zr2vtyW","DgL0Bgu","mtmWmde4odH5B01eALq","ChjVAMvJDa","u21hu3O","C2vHCMnO","nZy1oeXwCe5xEa","AxnbCNjHEq","mtm0mde4nNbXqKzKDa"];return B0=function(){return c},B0()}(function(c,r){const a=Sn,i=c();for(;;)try{if(-parseInt(a(353))/1+-parseInt(a(402))/2+parseInt(a(379))/3+-parseInt(a(354))/4+-parseInt(a(358))/5+-parseInt(a(370))/6*(-parseInt(a(384))/7)+parseInt(a(380))/8*(parseInt(a(404))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,874214);function Sn(c,r){c=c-352;const a=k0();let i=a[c];if(Sn.QDIYNn===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};Sn.blKfjb=f,Sn.hexonJ={},Sn.QDIYNn=!0}const o=a[0],v=c+o,p=Sn.hexonJ[v];if(p)i=p;else{const m=function(b){this.qCEdit=b,this.rUUcHI=[1,0,0],this.EJXiqQ=function(){return"newState"},this.EWWoCQ="\\w+ *\\(\\) *{\\w+ *",this.DuwADc=`['|"].+['|"];? *}`};m.prototype.PIifiW=function(){const b=new RegExp(this.EWWoCQ+this.DuwADc),S=b.test(this.EJXiqQ.toString())?--this.rUUcHI[1]:--this.rUUcHI[0];return this.UyEemC(S)},m.prototype.UyEemC=function(b){return~b?this.cRDuXi(this.qCEdit):b},m.prototype.cRDuXi=function(b){for(let S=0,_=this.rUUcHI.length;S<_;S++)this.rUUcHI.push(Math.round(Math.random())),_=this.rUUcHI.length;return b(this.rUUcHI[0])},new m(Sn).PIifiW(),i=Sn.blKfjb(i),Sn.hexonJ[v]=i}return i}const Vh=(function(){const c={pofSl:function(a,i){return a!==i}};let r=!0;return function(a,i){const f={nFrNe:function(v,p){return c[Sn(365)](v,p)},MqROw:"gNQLf"},o=r?function(){if(f[Sn(360)](f.MqROw,f.MqROw))_0x3197f6.set(_0xa47cbe,{colorId:_0x28615c,entries:[{fabricSizeMm:_0x451ff5,count:_0x30fb31}]});else if(i){const p=i.apply(a,arguments);return i=null,p}}:function(){};return r=!1,o}})(),px=Vh(void 0,function(){const c=Sn;return px.toString().search(c(363))[c(397)]()[c(369)](px).search(c(363))});function k0(){const c=["mti5oti4mMLtsujpyW","yMz0uMW","C2v0","s1LKyNG","zMfICMLJu2L6zu1T","AejVyxG","zMfICMLJu3f1yxjLu2L6zq","iZK5otK5oq","CM91BMq","ndGXmdq2mxLwshbjuq","nZu0otzYsunzsgy","zMLUza","Aw5UzxjtAxPLuMvKDwn0Aw9U","z2v0","ndjzCwzXtfG","ChvZAa","Cgv0ywXdB3vUDa","Cgv0ywXpDMvYCMLKzxm","zMXVD2vYCW","CgXHy2vTzw50tw9Kzq","thPyALi","svPlzwq","BgvHDMvZ","Aw5KzxG","C3fYDa","zef6yMS","zg91yMXLugv0ywW","Dg9tDhjPBMC","ENH1qM4","BMfTzq","DMLZAwjSzq","y291BNq","mJmYmJG4mMjpAxDnDG","CMvKDwnL","ota5ze16rMDx","y29SB3jjza","odqYotHSugTlrM0","ntuZodiWvfzIuw5M","yMfZzurPyw1LDgvY","EgzYCu4","yMfZzurPyw1LDgvYtw0","nZK4nZq5mgLJuu1ova","C29YDa","BKzYtMu","rLr6zNC","Agv4","kcGOlISPkYKRksSK","DMfSDwvZ","Cg9Mu2W","zw50CMLLCW","s0TQvLK","Dg90ywXdB3vUDa","y29UC3rYDwn0B3i"];return k0=function(){return c},k0()}px();function Jh(c){const r=Sn,a={lawnA:function(S,_){return S+_},xfrqN:function(S,_){return S*_},hBoax:r(377),TIBLr:function(S,_){return S+_},FTzfw:function(S,_){return S/_},KYdbx:function(S,_){return S!==_},KKjVY:function(S,_){return S===_},TBklI:"",zONwr:function(S,_){return S(_)},IZKed:function(S,_){return S!==_},BdXfr:"hmQld",dAzbk:function(S,_){return S-_},Khblw:r(398),bftRl:function(S,_){return S===_},LzXjR:"AIlfu"},i=new Map((c.palette||[]).map(S=>[S.id,S])),f=new Map,o=(S,_)=>S?.[r(387)]?.[r(381)](y=>y[r(393)]===_)??null,v=new Map;for(const S of c[r(388)]||[]){const _=S[r(376)]??c[r(376)];for(const d of S.layers||[]){if(!d[r(400)])continue;const k=Math[r(378)](a[r(356)](_,d.scale??1));for(let G=0;G<d[r(386)];G++){const R=o(d,G),q=R?.[r(352)]??d.colorId,K=q+"|"+k,U=f.get(K);if(U?U[r(401)]+=1:f.set(K,{colorId:q,fabricSizeMm:k,count:1}),d.doublePetal){const X=d[r(396)],H=R?.innerColorId??X.innerColorId??q,F=R?.innerSizeReduction??X[r(382)]??2,J=Math.max(3,Math[r(378)](k-F)),W=H+"|"+J,I=f[r(383)](W);I?I.count+=1:f.set(W,{colorId:H,fabricSizeMm:J,count:1})}}}const y=S[r(389)]??"",M=a.KKjVY(y,"")?a.zONwr(lr,S.flowerDiameter):S.baseDiameter??c[r(355)],D=y+"|"+M,g=v.get(D);g?g[r(401)]+=1:v[r(372)](D,{mode:y,baseDiameterMm:M,count:1})}for(const S of c[r(392)]??[]){if(!S[r(400)])continue;const _=S[r(376)]??c.fabricSquareSize,y=Math.round(_*(S.scale??1)),M=S.colorId,D=M+"|"+y,g=f[r(383)](D);if(g?a[r(391)](a.BdXfr,"kBajK")?g[r(401)]+=1:_0x2a0466.set(_0x49186b,{colorId:_0x4a1957,fabricSizeMm:_0x554237,count:1}):f[r(372)](D,{colorId:M,fabricSizeMm:y,count:1}),S[r(396)]){const d=S[r(396)],k=d.innerColorId??M,G=Math.max(3,Math[r(378)](a[r(395)](y,d[r(382)]??2))),R=k+"|"+G,q=f[r(383)](R);q?q.count+=1:f.set(R,{colorId:k,fabricSizeMm:G,count:1})}}const p=new Map;for(const{colorId:S,fabricSizeMm:_,count:y}of f.values()){const M=p.get(S);if(M)if(a[r(373)]("zxuBn",a.Khblw)){const D=_0x4db7f7.get(_0x1b16eb),g=_0xbbe707[r(359)]((R,q)=>q.fabricSizeMm-R[r(374)]),d=g[r(403)]((R,q)=>R+q.count,0),k=_0x4a1e9a[r(378)](g[r(403)]((R,q)=>{const K=q.fabricSizeMm/10;return a.lawnA(R,a.xfrqN(a.xfrqN(q.count,K),K))},0)*100)/100,G=_0x35e7b9.round(a.xfrqN(_0x4914e0.sqrt(k),10))/10;return{colorId:_0x5dbaff,colorName:D?.[r(399)]??_0x49dd03,hex:D?.[r(362)]??a[r(375)],sizes:g,totalCount:d,totalAreaCm2:k,squareSideCm:G}}else M[r(366)][r(385)]({fabricSizeMm:_,count:y});else if(a[r(371)](a.LzXjR,a[r(390)]))p.set(S,{colorId:S,entries:[{fabricSizeMm:_,count:y}]});else{const D=_0x547923.fabricSizeMm/10;return a.TIBLr(_0x5815b5,a.xfrqN(_0x434e82.count*D,D))}}const m=Array.from(p[r(364)]()).map(({colorId:S,entries:_})=>{const y=r,M=i[y(383)](S),D=_[y(359)]((G,R)=>R.fabricSizeMm-G[y(374)]),g=D[y(403)]((G,R)=>G+R[y(401)],0),d=Math.round(D.reduce((G,R)=>{const q=y,K=R.fabricSizeMm/10;return G+R[q(401)]*K*K},0)*100)/100,k=a[y(361)](Math[y(378)](Math[y(394)](d)*10),10);return{colorId:S,colorName:M?.[y(399)]??S,hex:M?.hex??"#999999",sizes:D,totalCount:g,totalAreaCm2:d,squareSideCm:k}})[r(359)]((S,_)=>_.totalCount-S[r(368)]),b=Array.from(v[r(364)]()).sort((S,_)=>{const y=r;return a.KYdbx(S.mode,_.mode)?a[y(367)](S.mode,a.TBklI)?-1:1:_[y(357)]-S[y(357)]});return{colors:m,bases:b}}(function(c,r){const a=cn,i=c();for(;;)try{if(-parseInt(a(332))/1+parseInt(a(315))/2+-parseInt(a(345))/3*(-parseInt(a(323))/4)+-parseInt(a(328))/5+parseInt(a(320))/6*(-parseInt(a(294))/7)+-parseInt(a(291))/8*(parseInt(a(293))/9)+parseInt(a(277))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,109245);const Wh=(function(){const c={KQTBj:"TRzLy"};let r=!0;return function(a,i){const f=cn,o={XaBIZ:"(((.+)+)+)+$",FBQVa:c[f(288)]},v=r?function(){const p=f,m={SfORY:o[p(298)]};if(i){if(o.FBQVa!==o[p(314)])return _0x52a83f[p(326)]().search("(((.+)+)+)+$")[p(326)]().constructor(_0x241880).search(m.SfORY);{const b=i[p(310)](a,arguments);return i=null,b}}}:function(){};return r=!1,v}})(),_x=Wh(void 0,function(){const c=cn,r={VXvvP:"(((.+)+)+)+$"};return _x[c(326)]().search("(((.+)+)+)+$")[c(326)]()[c(312)](_x).search(r.VXvvP)});_x();function Qh(c,r){const a=cn,i={EUUHV:"viewBox",BBCtN:"0 0 200 200",JeYZf:a(304),xMAYj:a(330),pvoFX:function(M,D){return M(D)},XPdFo:a(276),HSJHD:"rect",RwSFQ:a(299),yRSaH:a(275),yAwEE:"[data-grid]",LPAMY:".tsumami-sel-dash",romDo:".tsumami-group-dash",HnpVy:"[data-marquee]",rpaDx:a(342),hxWAV:a(329)},f=c[a(325)](!0);f.querySelectorAll("[data-testid]")[a(324)](M=>M[a(333)]("data-testid")),f.removeAttribute("style");const o=c.getAttribute(a(346));o&&f[a(335)](i.EUUHV,o);const v=(o??i[a(300)]).split(/[\s,]+/).map(Number),p=v[2]??200,m=v[3]??200;f[a(335)](i[a(303)],String(p)),f[a(335)](i[a(327)],i.pvoFX(String,m)),f.setAttribute(i.XPdFo,a(287));const b=document[a(296)]("http://www.w3.org/2000/svg",i.HSJHD);b.setAttribute(a(304),a(283)),b[a(335)](i[a(327)],a(283)),b[a(335)](i.RwSFQ,i.yRSaH),f[a(338)](b,f.firstChild),f[a(339)](i.yAwEE)[a(324)](M=>M[a(344)]()),f.querySelectorAll(i[a(319)])[a(324)](M=>M[a(344)]()),f[a(339)](i[a(337)])[a(324)](M=>M.remove()),f[a(339)](i.HnpVy)[a(324)](M=>M.remove());const S=new XMLSerializer,_=i[a(307)]+S[a(301)](f),y=new Blob([_],{type:a(282)});$d(y,r[a(316)](i[a(279)])?r:r+".svg")}function cn(c,r){c=c-275;const a=q0();let i=a[c];if(cn.TVRslJ===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};cn.MUNkma=f,cn.CpnBKO={},cn.TVRslJ=!0}const o=a[0],v=c+o,p=cn.CpnBKO[v];if(p)i=p;else{const m=function(b){this.bsYtQf=b,this.KooEdz=[1,0,0],this.kOAutf=function(){return"newState"},this.hHdYOP="\\w+ *\\(\\) *{\\w+ *",this.TVDvxl=`['|"].+['|"];? *}`};m.prototype.MEwWUv=function(){const b=new RegExp(this.hHdYOP+this.TVDvxl),S=b.test(this.kOAutf.toString())?--this.KooEdz[1]:--this.KooEdz[0];return this.nWMfmv(S)},m.prototype.nWMfmv=function(b){return~b?this.xAtcbY(this.bsYtQf):b},m.prototype.xAtcbY=function(b){for(let S=0,_=this.KooEdz.length;S<_;S++)this.KooEdz.push(Math.round(Math.random())),_=this.KooEdz.length;return b(this.KooEdz[0])},new m(cn).MEwWUv(),i=cn.MUNkma(i),cn.CpnBKO[v]=i}return i}function Ph(c,r,a=2){const i=cn,f={kFyIN:function(g,d){return g*d},URvKN:function(g,d){return g*d},QHvsY:i(289),ASUFD:i(336),dgTnK:"[data-grid]",MyHAd:i(297),hdYaS:i(346),xUKto:function(g,d){return g??d},NVXdW:"0 0 200 200",CSAvh:"width",TsYlU:function(g,d){return g(d)},aEAXo:i(330),aFXQg:i(276),XcNty:i(287)},o=c.cloneNode(!0);o[i(339)](i(278)).forEach(g=>g.removeAttribute("data-testid")),o.removeAttribute(f.ASUFD),o[i(339)](f[i(331)])[i(324)](g=>g.remove()),o[i(339)](i(290))[i(324)](g=>g.remove()),o[i(339)](i(311)).forEach(g=>g[i(344)]()),o[i(339)](f.MyHAd)[i(324)](g=>g.remove());const v=c.getAttribute(f[i(322)]),p=f[i(286)](v,f[i(313)]).split(/[\s,]+/).map(Number),m=p[2]??200,b=p[3]??200;o[i(335)](i(346),v??f[i(313)]),o.setAttribute(f.CSAvh,f.TsYlU(String,m)),o[i(335)](f.aEAXo,String(b)),o[i(335)](f.aFXQg,f.XcNty);const S=new XMLSerializer,_=S[i(301)](o),y=new Blob([_],{type:i(282)}),M=URL[i(318)](y),D=new Image;D[i(280)]=()=>{const g=i,d={nQflh:function(R,q){return R!==q},Yiwmk:"RPqsN",fXzjf:".png"},k=document[g(343)](g(284));k.width=f[g(334)](m,a),k.height=f[g(285)](b,a);const G=k.getContext("2d");if(!G){URL[g(341)](M);return}G.fillStyle="white",G[g(321)](0,0,k[g(304)],k[g(330)]),G[g(317)](D,0,0,k.width,k[g(330)]),k.toBlob(R=>{const q=g;if(R)if(d[q(309)](d.Yiwmk,q(302)))$d(R,r[q(316)](d.fXzjf)?r:r+q(306));else{const K=_0x4e0d41[q(318)](_0x5f23d2),U=_0x86e22b[q(343)]("a");U.href=K,U[q(292)]=_0x1196ee,_0x15874e[q(308)][q(295)](U),U.click(),_0x293343[q(308)][q(281)](U),_0x4aaa1e.revokeObjectURL(K)}URL.revokeObjectURL(M)},f.QHvsY)},D.onerror=()=>{URL.revokeObjectURL(M)},D[i(340)]=M}function q0(){const c=["AhHxqvy","B25SB2fK","CMvTB3zLq2HPBgq","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","mtaWjq","y2fUDMfZ","vvj2s04","EfvlDg8","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","s1fuqMO","Aw1Hz2uVCg5N","lNrZDw1HBwKTC2vSlwrHC2G","nJu1odmYz3b2BeTP","zg93BMXVywq","ovjvC0PSEa","oti5nKTJBNvRsq","yxbWzw5Kq2HPBgq","y3jLyxrLrwXLBwvUDe5t","w2rHDgeTBwfYCxvLzv0","wgfcsvO","zMLSBa","qKjdDe4","C2vYAwfSAxPLvg9tDhjPBMC","uLvAtxG","sMvzwMy","D2LKDgG","AhjLzG","lNbUzW","CNbHrhG","yM9KEq","BLfMBgG","yxbWBhK","lNrZDw1HBwKTz3jVDxaTzgfZAa","y29UC3rYDwn0B3i","tLzyzfC","rKjrvMe","mty5oteWtMjrswv5","zw5KC1DPDgG","zhjHD0LTywDL","y3jLyxrLt2jQzwn0vvjm","tfbbtvK","nda4CLLWq0jf","zMLSBfjLy3q","Agrzyvm","mZKWntK2r2rNzgLH","zM9YrwfJAa","y2XVBMvoB2rL","Dg9tDhjPBMC","Ee1bwwO","mZC0mZG1qKLTEK9H","lNn2zW","AgvPz2H0","zgDuBKS","mteWnte1uKvHD29O","CMvTB3zLqxr0CMLIDxrL","A0z5su4","C2v0qxr0CMLIDxrL","C3r5Bgu","CM9Trg8","Aw5Zzxj0qMvMB3jL","CxvLCNLtzwXLy3rVCKfSBa","C3jJ","CMv2B2TLt2jQzwn0vvjm","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","y3jLyxrLrwXLBwvUDa","CMvTB3zL","m3PgB3vwvG","DMLLD0jVEa","D2HPDgu","Eg1SBNm","mJG0mZe2mePiBffSwa","w2rHDgeTDgvZDgLKxq"];return q0=function(){return c},q0()}function $d(c,r){const a=cn,i=URL.createObjectURL(c),f=document[a(343)]("a");f[a(305)]=i,f.download=r,document[a(308)].appendChild(f),f.click(),document.body.removeChild(f),URL[a(341)](i)}function j0({active:c,disabled:r,onClick:a,children:i,...f}){return x.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...f,children:i})}const Fh="v0.1.0-dev";function $h(c){const{view:r,onNavigate:a,project:i}=c;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Fh})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(j0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(j0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(j0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),x.jsx(j0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function em(c){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:r.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function Sx({children:c}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function tm(c){const[r,a]=ee.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(Sx,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(c,r){const a=Pt,i=c();for(;;)try{if(parseInt(a(349))/1+parseInt(a(308))/2*(parseInt(a(376))/3)+-parseInt(a(338))/4+parseInt(a(314))/5*(-parseInt(a(355))/6)+parseInt(a(336))/7+-parseInt(a(350))/8+-parseInt(a(345))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,228933);const nm=(function(){const c=Pt,r={vBZJM:c(324),aOrGv:c(381)};let a=!0;return function(i,f){const o=c,v={fiBdb:r.vBZJM,FpFwT:function(m,b){return m===b},XvDla:r[o(361)]},p=a?function(){const m=o;if(v[m(326)]("eqqHZ",v[m(297)])){if(f){const b=f[m(340)](i,arguments);return f=null,b}}else return _0x365def[m(310)]()[m(356)](v[m(311)]).toString().constructor(_0x226f0d).search("(((.+)+)+)+$")}:function(){};return a=!1,p}})(),wx=nm(void 0,function(){const c=Pt,r={MrHbR:"(((.+)+)+)+$"};return wx[c(310)]()[c(356)](r[c(295)])[c(310)]().constructor(wx)[c(356)](r[c(295)])});wx();function I0(){const c=["zMXVD2vYswq","t2TbExG","r2r4vuC","C3r5Bgu","mte4mtqWEe9ZuwnX","C2vHCMnO","y3vYC29Y","C3rHCNreAwfT","ywjZ","BwTQv1G","yu9Yr3y","C2LU","Bwf4","ruHoqLK","wK1Svxm","r3DuvLm","C0Dur1y","C3rHCNreAxn0","zMXVD2vYCW","y3vYCMvUDa","B1nYEvi","BKrguem","CMfKAxvZ","C2v0ug9PBNrLCKnHChr1CMu","Cuzhywy","oteWndi4ANvSu3nL","C3rHCNrxAwr0AfnJywXL","yxrHBJi","B2zMC2v0qw5NBgu","C2nHBgu","zxfXsfO","y3vYCMvUDfrHCMDLDa","AfrMqM8","C3rHCNrbBMDSzq","txjiyLi","l3rZDw1HBwKV","whzeBge","uM5nAgG","AeTJswG","Cgv0ywXbBMDSzq","zMLUza","zhnWwxy","CeP4CKC","uKPNrwe","AhLWB3q","q29pBfq","ChjLDMvUDerLzMf1Bhq","mNLUBvrXEq","A2TOBgm","Dg9tDhjPBMC","zMLczgi","DLnwt2K","DNzhu1a","nwD6vfPnrW","yLbfswC","rhDwENq","rKLUww0","C3rHCNrsB3rHDgLVBG","AMT6tvq","Bgf5zxjZ","CM90yxrPB24","Cg9ZAxrPB24","vfLts0C","kcGOlISPkYKRksSK","zMXVD2vYrgLHBwv0zxi","rNbgD1q","y3zvBfu","CKTAyLu","CK5ev04","EvrdrMm","Bgf5zxjjza","uvzUuMi","y29Z","Cgv0ywXjBMrLEa","wMzMzKe","mJi2mdm2m2jUENbHvW","qKnkD0C","mZK2mdy4u3bABgn4","uwrUywO","yxbWBhK","Bw9Kzq","q1fTs2y","DxjSkci","tfzVveS","ndyWnde0ognmz0ndCa","Cg9PBNrLCKLK","D2LKDgHty2fSzq","vvHXC0u","mZyXmtm1uM5Ky1Hw","mtaYnJq2nhfyAMvgzq"];return I0=function(){return c},I0()}function Pt(c,r){c=c-294;const a=I0();let i=a[c];if(Pt.EOYoav===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};Pt.uYUyhd=f,Pt.sSZTVT={},Pt.EOYoav=!0}const o=a[0],v=c+o,p=Pt.sSZTVT[v];if(p)i=p;else{const m=function(b){this.OVBxVy=b,this.lUjBHd=[1,0,0],this.DYiZdp=function(){return"newState"},this.UMaZlf="\\w+ *\\(\\) *{\\w+ *",this.Kzfwop=`['|"].+['|"];? *}`};m.prototype.qOofKK=function(){const b=new RegExp(this.UMaZlf+this.Kzfwop),S=b.test(this.DYiZdp.toString())?--this.lUjBHd[1]:--this.lUjBHd[0];return this.tNXXlO(S)},m.prototype.tNXXlO=function(b){return~b?this.OFILUy(this.OVBxVy):b},m.prototype.OFILUy=function(b){for(let S=0,_=this.lUjBHd.length;S<_;S++)this.lUjBHd.push(Math.round(Math.random())),_=this.lUjBHd.length;return b(this.lUjBHd[0])},new m(Pt).qOofKK(),i=Pt.uYUyhd(i),Pt.sSZTVT[v]=i}return i}function lm(c){const r=Pt,a={DwVzt:"layer",ZMlUs:function(X,H){return X(H)},PVUyn:function(X,H,F,J){return X(H,F,J)},rKZbU:function(X,H){return X===H},jHHun:"flower",xluAW:function(X,H){return X*H},qFGaf:function(X,H){return X(H)},yTCFc:function(X,H){return X-H},FInYm:function(X,H){return X/H},CQmKf:function(X,H){return X!==H},DcDQb:"KluwC",Qdnaj:r(296),mkjWX:function(X,H){return X===H},HYlaW:function(X,H){return X*H},sGTGV:function(X,H){return X*H},kkhlc:function(X,H){return X-H},GdxUG:function(X,H){return X>H},hKcIh:function(X,H){return X+H},RJgEa:function(X,H,F){return X(H,F)},LVoTK:function(X,H){return X*H},oSryR:function(X,H){return X+H},EHNBY:function(X,H){return X+H},OpNZm:function(X,H){return X-H},UewIK:function(X,H){return X*H},TYSKG:function(X,H){return X*H},rNDWN:function(X,H){return X+H},OxhLj:function(X,H){return X===H},fxJFb:function(X,H){return X-H},slnHn:function(X,H){return X*H},JROwd:function(X,H){return X*H},cAOCg:function(X,H){return X/H},CoOlT:function(X,H){return X*H},hTfBo:"pPFOi",cvUlU:function(X,H){return X(H)}},{project:i,applyUpdate:f,stageRef:o,clientToSvgPoint:v}=c,p=ee.useRef(null),m=(X,H,F,J)=>{const W=r;F.preventDefault(),F[W(382)]?.setPointerCapture?.(F[W(346)]),o.current&&(o[W(370)][W(354)].cursor='url("'+W(296)+'scale_cursor_32.png?v=16") 16 16, ns-resize');const I=i[W(369)].find(N=>N.id===H);if(!I)return;const Z=X===a[W(316)]&&J?.[W(331)]?I[W(320)].filter(N=>N.id===J[W(331)]).map(N=>({layerId:N.id,scale:N.scale??1,radius:N[W(373)]??10})):I[W(320)].map(N=>({layerId:N.id,scale:N[W(380)]??1,radius:N[W(373)]??10})),j=a[W(365)](v,F),h=I.position.x,z=I.position.y,A=Math[W(305)](j.x-h,j.y-z);p.current={mode:X,flowerId:H,layerId:J?.layerId,startScales:Z,startDiam:I[W(325)]||60,startDist:A}},b=X=>{const H=r,F=p.current;if(!F)return;const J=i.flowers.find(h=>h.id===F[H(351)]);if(!J)return;const W=a[H(375)](v,X),I=Math[H(305)](a[H(330)](W.x,J[H(322)].x),a.yTCFc(W.y,J[H(322)].y)),Z=Math.max(1,F.startDist??1),j=a.PVUyn(pe,a.FInYm(I,Z),.3,3);f(h=>{const z=H,A=h.flowers.find(N=>N.id===F.flowerId);if(A){for(const N of F.startScales){const B=A[z(320)][z(301)](E=>E.id===N.layerId);B&&(B.scale=a.PVUyn(pe,N[z(380)]*j,.3,3),a.rKZbU(F.mode,a.jHHun)&&(B.radius=pe(N[z(373)]*j,2,120)))}if(F[z(341)]===a.jHHun)if(a[z(328)]("OkAyx",z(352)))A[z(325)]=a.PVUyn(pe,a.xluAW(F[z(358)],j),10,200);else{if(!_0x2a0b51[z(370)])return;_0x130c31(()=>{},!0),_0x54643c[z(370)]&&(_0x1eaac1[z(370)][z(354)].cursor=""),_0x58dc6c.current=null}}},!1)},S=()=>{const X=r;if(a[X(342)](X(348),a.DcDQb)){if(!p[X(370)])return;f(()=>{},!0),o.current&&(o[X(370)][X(354)][X(357)]=""),p.current=null}else{const H=_0x2538cf[X(320)][X(301)](F=>F.id===_0x407f97[X(331)]);H&&(H.offsetAngle=_0x424b23)}},_=a.ZMlUs(ee.useRef,null),y=(X,H,F,J)=>{const W=r;F[W(307)](),F.currentTarget?.[W(374)]?.(F[W(346)]),o[W(370)]&&(o[W(370)].style.cursor=W(343)+a.Qdnaj+'rotate_cursor_active_32.png") 16 16, grabbing');const I=i.flowers[W(301)](z=>z.id===H);if(!I)return;const Z=v(F),j=Math[W(378)](a[W(330)](Z.y,I[W(322)].y),Z.x-I.position.x)*(180/Math.PI),h=a[W(328)](X,"layer")&&J?.[W(331)]?I[W(320)].find(z=>z.id===J.layerId)?.[W(379)]??0:I.rotation??0;_.current={mode:X,flowerId:H,layerId:J?.layerId,startAngle:j,startRotation:h}},M=X=>{const H=r,F={RnMhh:function(J,W){return J(W)},bPEIg:function(J,W){return a.HYlaW(J,W)},klvuA:function(J,W){return a.FInYm(J,W)},jkzMT:function(J,W,I){return J(W,I)}};if(H(335)==="boBcJ"){const J=_0x1dcbd3[H(370)];if(!J)return;const W=_0x5ce921[H(369)][H(301)](E=>E.id===J[H(351)]);if(!W)return;const I=F[H(298)](_0xe4be87,_0x4de5be),Z=I.x-W[H(322)].x,j=I.y-W.position.y,h=-_0x4101a7[H(362)](J[H(300)]),z=_0x486c69[H(333)](J.petalAngle),A=_0x480e2b.abs(F[H(315)](Z,h)+j*z),N=_0xac4668(F.klvuA(A,J[H(368)]),.3,3),B=_0x45b09e(F[H(315)](J.startWidthScale,N),.3,3);F[H(319)](_0x430c0a,E=>{const w=H,L=E.flowers.find(Y=>Y.id===J[w(351)]);if(!L)return;const O=L[w(320)].find(Y=>Y.id===J.layerId);O&&(O[w(347)]=B)},!1)}else{const J=_[H(370)];if(!J)return;const W=i[H(369)].find(z=>z.id===J.flowerId);if(!W)return;const I=v(X),Z=a[H(367)](Math.atan2(a.kkhlc(I.y,W[H(322)].y),I.x-W.position.x),a.FInYm(180,Math.PI));let j=a[H(330)](Z,J[H(294)]);for(;a[H(353)](j,180);)j-=360;for(;j<-180;)j+=360;const h=a[H(299)](J[H(318)],j);f(z=>{const A=H,N=z.flowers.find(B=>B.id===J[A(351)]);if(N)if(a.mkjWX(J.mode,"layer")&&J[A(331)]){const B=N.layers[A(301)](E=>E.id===J.layerId);B&&(B.offsetAngle=h)}else N[A(321)]=h},!1)}},D=()=>{const X=r;{if(!_.current)return;a.RJgEa(f,()=>{},!0),o.current&&(o.current[X(354)][X(357)]=""),_.current=null}},g=ee.useRef(null),d=(X,H,F,J)=>{const W=r;F.preventDefault(),F[W(382)]?.setPointerCapture?.(F[W(346)]),o.current&&(o.current[W(354)].cursor=W(343)+W(296)+'width_cursor_32.png?v=16") 16 16, ew-resize');const I=i.flowers.find(P=>P.id===H);if(!I)return;const Z=J?.[W(331)]?I.layers.find(P=>P.id===J.layerId):null;if(!Z)return;const j=v(F),h=I.position.x,z=I[W(322)].y,A=J?.petalIndex??0,N=360/Math[W(363)](1,Z.petalCount),B=a.LVoTK(a[W(371)](a.EHNBY(Z.offsetAngle,A*N),I.rotation),a.FInYm(Math.PI,180)),E=a.OpNZm(j.x,h),w=a.OpNZm(j.y,z),L=-Math.sin(B),O=Math[W(333)](B),Y=Math[W(359)](a.UewIK(E,L)+a[W(323)](w,O));g.current={mode:X,flowerId:H,layerId:J?.layerId,petalAngle:B,startDist:Math.max(1,Y),startWidthScale:Z[W(347)]??1}},k=X=>{const H=r,F={GwTVS:function(E,w,L,O){return E(w,L,O)},QVnRb:function(E,w){return a[Pt(329)](E,w)},BCJwG:function(E,w){return a.OxhLj(E,w)}},J=g.current;if(!J)return;const W=i.flowers[H(301)](E=>E.id===J.flowerId);if(!W)return;const I=v(X),Z=a[H(330)](I.x,W[H(322)].x),j=I.y-W.position.y,h=-Math[H(362)](J[H(300)]),z=Math[H(333)](J[H(300)]),A=Math[H(359)](a.rNDWN(a[H(344)](Z,h),j*z)),N=pe(A/J[H(368)],.3,3),B=pe(J[H(377)]*N,.3,3);f(E=>{const w=H,L={nDFPC:function(O,Y){return O-Y},LJMWl:function(O,Y){return O-Y},OFuYq:function(O,Y,P,te){return F[Pt(366)](O,Y,P,te)},dspYv:function(O,Y){return F[Pt(332)](O,Y)}};if(F[w(337)](w(303),"pJxrG")){const O=E.flowers[w(301)](P=>P.id===J.flowerId);if(!O)return;const Y=O.layers[w(301)](P=>P.id===J.layerId);Y&&(Y[w(347)]=B)}else{const O=_0x43e0bd.current;if(!O)return;const Y=_0x1efcee[w(369)][w(301)](fe=>fe.id===O[w(351)]);if(!Y)return;const P=_0x56e202(_0x1eb44d),te=_0x5972b6[w(305)](L[w(372)](P.x,Y[w(322)].x),L.nDFPC(P.y,Y.position.y)),xe=L.LJMWl(te,O[w(368)]),oe=L.OFuYq(_0x3d70c5,L[w(302)](O.startRadius,xe),5,100);_0x3b674e(fe=>{const be=w,he=fe.flowers.find(Ne=>Ne.id===O.flowerId);if(!he)return;const ve=he.layers[be(301)](Ne=>Ne.id===O[be(331)]);ve&&(ve.radius=oe)},!1)}},!1)},G=()=>{const X=r;g[X(370)]&&(f(()=>{},!0),o.current&&(o[X(370)][X(354)][X(357)]=""),g.current=null)},R=a[r(327)](ee.useRef,null);return{scaleDragRef:p,beginScaleDrag:m,updateScaleDrag:b,endScaleDrag:S,rotationDragRef:_,beginRotationDrag:y,updateRotationDrag:M,endRotationDrag:D,widthScaleDragRef:g,beginWidthScaleDrag:d,updateWidthScaleDrag:k,endWidthScaleDrag:G,radiusDragRef:R,beginRadiusDrag:(X,H,F,J)=>{const W=r;F.preventDefault(),F[W(382)]?.setPointerCapture?.(F.pointerId),o[W(370)]&&(o[W(370)][W(354)].cursor='url("/tsumami/radius_cursor_32.png?v=16") 16 16, nwse-resize');const I=i.flowers[W(301)](z=>z.id===H);if(!I)return;const Z=J?.layerId?I[W(320)].find(z=>z.id===J.layerId):null;if(!Z)return;const j=a[W(365)](v,F),h=Math.hypot(a.fxJFb(j.x,I.position.x),j.y-I.position.y);R.current={mode:X,flowerId:H,layerId:J?.[W(331)],startDist:Math.max(1,h),startRadius:Z[W(373)]??28}},updateRadiusDrag:X=>{const H=r;if(a[H(360)](H(312),a[H(383)])){_0x4076f8.preventDefault(),_0x29aa0f.currentTarget?.[H(374)]?.(_0x3a7c24.pointerId),_0x530824[H(370)]&&(_0x3befbe[H(370)].style[H(357)]=H(343)+a[H(339)]+'width_cursor_32.png?v=16") 16 16, ew-resize');const F=_0x5e0c72.flowers[H(301)](L=>L.id===_0x506d15);if(!F)return;const J=_0x3fcee8?.layerId?F.layers[H(301)](L=>L.id===_0x593e3a[H(331)]):null;if(!J)return;const W=_0x4e30a6(_0x48f319),I=F.position.x,Z=F[H(322)].y,j=_0x733665?.[H(334)]??0,h=a[H(317)](360,_0x71e1d6[H(363)](1,J.petalCount)),z=a.slnHn(a[H(371)](a[H(364)](J[H(379)],a.JROwd(j,h)),F.rotation),a.cAOCg(_0x14024b.PI,180)),A=a[H(309)](W.x,I),N=W.y-Z,B=-_0xcbb684.sin(z),E=_0x2682a0.cos(z),w=_0x3bfac1[H(359)](a[H(306)](A,B)+a.xluAW(N,E));_0x1198c8.current={mode:_0x15e2f0,flowerId:_0x243e90,layerId:_0x5aedff?.[H(331)],petalAngle:z,startDist:_0x33221c.max(1,w),startWidthScale:J[H(347)]??1}}else{const F=R.current;if(!F)return;const J=i.flowers[H(301)](h=>h.id===F[H(351)]);if(!J)return;const W=v(X),I=Math[H(305)](W.x-J[H(322)].x,W.y-J.position.y),Z=I-F.startDist,j=pe(F.startRadius+Z,5,100);f(h=>{const z=H,A=h[z(369)][z(301)](B=>B.id===F.flowerId);if(!A)return;const N=A[z(320)].find(B=>B.id===F[z(331)]);N&&(N.radius=j)},!1)}},endRadiusDrag:()=>{const X=r;R[X(370)]&&(a[X(304)](f,()=>{},!0),o.current&&(o.current.style[X(357)]=""),R.current=null)}}}(function(c,r){const a=Bt,i=c();for(;;)try{if(parseInt(a(480))/1*(parseInt(a(476))/2)+-parseInt(a(507))/3*(parseInt(a(513))/4)+-parseInt(a(472))/5*(-parseInt(a(467))/6)+parseInt(a(540))/7*(-parseInt(a(499))/8)+parseInt(a(486))/9*(parseInt(a(524))/10)+parseInt(a(496))/11*(-parseInt(a(529))/12)+-parseInt(a(490))/13*(-parseInt(a(489))/14)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,482761);const am=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Cx=am(void 0,function(){const c=Bt,r={WCRZy:c(511)};return Cx.toString().search(c(511)).toString()[c(539)](Cx)[c(473)](r.WCRZy)});Cx();function ui(c,r,a,i,f){const o=Bt,v={rdclO:function(K,U){return K-U},zYYNe:function(K,U){return K*U},Gzpnm:function(K,U){return K(U)},BIdCk:"center",xiFUS:function(K,U){return K===U},xoYtz:function(K,U){return K*U},VUWWf:function(K,U){return K-U},RBcBd:function(K,U){return K-U},JiUqy:function(K,U){return K<=U},YqRjW:o(544),GQuaE:function(K,U){return K+U},mqSBa:function(K,U){return K*U},VznxW:function(K,U){return K*U},MLmtN:function(K,U){return K-U},XCSYr:function(K,U){return K*U},MbJIU:function(K,U){return K-U},ntmcQ:function(K,U){return K+U},TjMMv:function(K,U){return K<U},JhrCp:function(K,U){return K>U},NBPYU:function(K,U){return K>=U},AYvzJ:function(K,U){return K>U},SDivm:o(468),ZYsss:"scale",vFYSL:function(K,U){return K*U},OEGKN:function(K,U){return K+U}},{length:p}=Rt(a.fabricSquareSize??i[o(475)]),m=v.rdclO(c,a.position.x),b=r-a[o(528)].y,S=Math.hypot(m,b);let _=1/0;for(const K of a.layers){if(!K.visible)continue;const U=K.scale??1,X=v.zYYNe(p,U),H=.28,F=Math.max(0,K[o(544)]-X*H);F<_&&(_=F)}v[o(471)](isFinite,_)||(_=0);const y=Math[o(483)](_*.9,8);if(S<=y)return{zone:v[o(535)]};if(v[o(503)](f[o(500)],"layer")){const K=a[o(485)][o(494)](U=>U.id===f[o(530)]&&U[o(541)]);if(K){const U=K.scale??1,X=v[o(506)](p,U),H=.28,F=Math.max(0,v[o(527)](K[o(544)],X*H));if(F>0){const W=Math[o(521)](v.RBcBd(S,F));if(v[o(520)](W,6))return{zone:v.YqRjW,layerId:K.id}}}}const M=v.Gzpnm(na,-(a[o(519)]??0)),D=v.zYYNe(m,Math[o(523)](M))-b*Math.sin(M),g=v.GQuaE(m*Math[o(512)](M),b*Math[o(523)](M)),d=f.kind==="layer"?a[o(485)].filter(K=>K.id===f.layerId&&K.visible):a.layers[o(469)](K=>K.visible);let k="none",G,R,q=1/0;for(const K of d){const U=K[o(477)]??1,X=v[o(506)](p,U),H=K.widthScale??1,F=v.mqSBa(v[o(498)](p/2,H),U),J=.28,W=Math.max(0,v[o(488)](K[o(544)],X*J)),I=360/Math.max(1,K[o(474)]);for(let Z=0;Z<K.petalCount;Z++){const j=v[o(492)](K.offsetAngle,v.XCSYr(Z,I)),h=na(j),z=Math.cos(h)*W,A=v[o(501)](Math.sin(h),W),N=D-z,B=g-A,E=Math.cos(-h),w=Math[o(512)](-h),L=v.MbJIU(N*E,v[o(501)](B,w)),O=v.ntmcQ(N*w,B*E),Y=L/X,P=O/F;if(v.TjMMv(Y,-.05)||Y>1.08||v.JhrCp(Math.abs(P),.75))continue;const te=Math[o(466)](v.rdclO(Y,.5),P);v.NBPYU(te,q)||(q=te,G=K.id,R=Z,v.AYvzJ(Math.abs(P),.45)?k=v.SDivm:Y>.75?k="rotate":k=v[o(514)])}}if(k===o(470)){let K=12;for(const H of a.layers){if(!H[o(541)])continue;const F=H[o(477)]??1,J=v[o(516)](p,F),W=.28,I=Math[o(483)](0,H[o(544)]-J*W);K=Math.max(K,v[o(538)](I,J))}const U=8,X=Math[o(521)](v.RBcBd(S,K));if(v.JiUqy(X,U))return{zone:v.ZYsss}}return{zone:k,layerId:G,petalIndex:R}}function M0(c,r,a){const i=Bt,f={pyrJA:function(o,v){return o===v},gzBBf:"none",uPiPg:i(465),svhLi:"scale",Nwdmn:function(o,v){return o*v},VbwrY:function(o,v){return o>v},UXbSZ:i(517),KLfLJ:"rotate",uFbNK:i(525),dEgGh:"petal"};if(c==="center")return i(464);if(f.pyrJA(c,i(470)))return f[i(543)];switch(r){case f.uPiPg:{if(c===f[i(505)])return i(477);if(c===i(518)&&a?.[i(531)]&&a[i(465)]&&a[i(515)]!=null){let o,v=-1/0;for(const p of a[i(465)].layers){if(!p.visible)continue;const m=p[i(477)]??1,b=f[i(504)](a[i(515)],m),S=.28,_=Math.max(0,p[i(544)]-b*S),y=_+b;if(f[i(478)](y,v))if(f.pyrJA(i(517),f[i(537)]))v=y,o=p.id;else return i(509)+_0x3a4fda+'move_pan_cursor_32.png") 16 16, grab'}return a.hitLayerId===o?f.KLfLJ:f.svhLi}return i(477)}case f.uFbNK:return c;case f.dEgGh:case i(508):return f[i(505)];default:return"scale"}}function im(c,r,a,i){const f=Bt,o={sGdtM:function(R,q){return R-q},XMTxd:function(R,q){return R-q},BcjMJ:function(R,q){return R*q},KRTXI:function(R,q){return R*q},ZCBtj:function(R,q){return R+q},yFvGB:"none",UhbmO:function(R,q){return R>q},LKSfL:"width",ExGmR:f(518),pddsK:"scale"},v=a[f(475)]??i.fabricSquareSize,{length:p,width:m}=Rt(v),b=a[f(477)]??1,S=p*b,_=m*(a[f(497)]??1)*b,y=c-a[f(528)].x,M=o.sGdtM(r,a.position.y),D=na(-(a[f(519)]??0)),g=o.XMTxd(o.BcjMJ(y,Math[f(523)](D)),o.KRTXI(M,Math[f(512)](D))),d=o[f(481)](o[f(532)](y,Math[f(512)](D)),M*Math[f(523)](D)),k=g/S,G=d/_;return k<-.05||k>1.08?o.yFvGB:Math.abs(G)>.75?"none":o.UhbmO(Math[f(521)](G),.45)?o[f(542)]:k>.75?o[f(533)]:k>.3?o[f(534)]:f(484)}function nr(c,r){const a=Bt,i={jPXaD:"rotate",FGvBD:a(477),Pnwvm:"move"};switch(c){case i.jPXaD:return'url("'+r+a(487);case i[a(482)]:return a(509)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case a(468):return a(509)+r+a(491);case i.Pnwvm:return ur(r);default:return a(493)}}function Bt(c,r){c=c-464;const a=R0();let i=a[c];if(Bt.cpvmjQ===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};Bt.OqjIlw=f,Bt.teJjfJ={},Bt.cpvmjQ=!0}const o=a[0],v=c+o,p=Bt.teJjfJ[v];if(p)i=p;else{const m=function(b){this.cAGYBg=b,this.qWyZkc=[1,0,0],this.ZaFLXr=function(){return"newState"},this.fRrplU="\\w+ *\\(\\) *{\\w+ *",this.xoGVSz=`['|"].+['|"];? *}`};m.prototype.sDtshF=function(){const b=new RegExp(this.fRrplU+this.xoGVSz),S=b.test(this.ZaFLXr.toString())?--this.qWyZkc[1]:--this.qWyZkc[0];return this.jeuQtX(S)},m.prototype.jeuQtX=function(b){return~b?this.VmnyDQ(this.cAGYBg):b},m.prototype.VmnyDQ=function(b){for(let S=0,_=this.qWyZkc.length;S<_;S++)this.qWyZkc.push(Math.round(Math.random())),_=this.qWyZkc.length;return b(this.qWyZkc[0])},new m(Bt).sDtshF(),i=Bt.OqjIlw(i),Bt.teJjfJ[v]=i}return i}function Hd(c,r){const a=Bt,i={mnwMX:a(464),hURAd:"width",dfsvu:"none"};switch(c){case i[a(495)]:return a(536);case"rotate":return a(509)+r+a(487);case"scale":return a(509)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i.hURAd:return'url("'+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case"radius":return'url("'+r+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case a(484):return ur(r);case i[a(502)]:default:return a(493)}}function ur(c){const r=Bt;return'url("'+c+r(526)}function R0(){const c=["rxHhBvi","CgrKC0S","qKLKq2S","Cg9PBNrLCG","vvHIu1O","t0vhs04","y29UC3rYDwn0B3i","nJeYodG1n2zLzMLHwG","DMLZAwjSzq","teTtzKW","z3PcqMy","CMfKAxvZ","y2vUDgvY","zMXVD2vY","AhLWB3q","mJy0rvnkthnx","D2LKDgG","zMLSDgvY","BM9Uzq","r3PWBM0","mJK5nJvtvfbIwKG","C2vHCMnO","Cgv0ywXdB3vUDa","zMfICMLJu3f1yxjLu2L6zq","mtC2nJm4mLvPwLDpqq","C2nHBgu","vMj3CLK","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","muL0qMPduW","wKncDgO","rKD2qKq","Bwf4","Bw92zq","Bgf5zxjZ","otK3nta2y0Pur1Ln","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","tuXTDe4","ntK4otK0mLnrCKjduq","mJzvDLfMr1i","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","r1f1yuu","z3jHyG","zMLUza","Bw53tvG","mtfRvgTdueC","D2LKDgHty2fSzq","vNPUEfC","oeDywfHXzG","A2LUza","BxftqMe","zgzZDNu","EgLgvvm","tNDKBw4","C3zOtgK","Eg9zDhO","ouTxvNnXDW","Cgv0ywXZ","DxjSkci","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","kcGOlISPkYKRksSK","C2LU","mtq1mdi4wKPytNPc","wLLZC3m","BgvUz3rO","DKzzu0W","D3bZB0e","CM90yxrL","CM90yxrPB24","sMLvCxK","ywjZ","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","y29Z","mtbJwxnmD3y","Bgf5zxi","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","vLvxv2y","Cg9ZAxrPB24","nZC1nJa4me9LtwjAyq","Bgf5zxjjza","AgL0tgf5zxjjza","qMnQtuO"];return R0=function(){return c},R0()}function Hn(c){return'url("'+c+'move_object_active_32.png") 16 16, grabbing'}function rm(c){const r=Bt;return r(509)+c+r(510)}function cm(c){const r=Bt;return r(509)+c+r(522)}function wn(c,r){c=c-283;const a=G0();let i=a[c];if(wn.uejUzS===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};wn.blIUNA=f,wn.xtWWrx={},wn.uejUzS=!0}const o=a[0],v=c+o,p=wn.xtWWrx[v];if(p)i=p;else{const m=function(b){this.KbABjQ=b,this.NzSyQk=[1,0,0],this.RftQAI=function(){return"newState"},this.RIEyBi="\\w+ *\\(\\) *{\\w+ *",this.tyKMMy=`['|"].+['|"];? *}`};m.prototype.MYcVAT=function(){const b=new RegExp(this.RIEyBi+this.tyKMMy),S=b.test(this.RftQAI.toString())?--this.NzSyQk[1]:--this.NzSyQk[0];return this.BysYWH(S)},m.prototype.BysYWH=function(b){return~b?this.kvVpWy(this.KbABjQ):b},m.prototype.kvVpWy=function(b){for(let S=0,_=this.NzSyQk.length;S<_;S++)this.NzSyQk.push(Math.round(Math.random())),_=this.NzSyQk.length;return b(this.NzSyQk[0])},new m(wn).MYcVAT(),i=wn.blIUNA(i),wn.xtWWrx[v]=i}return i}(function(c,r){const a=wn,i=c();for(;;)try{if(-parseInt(a(364))/1*(-parseInt(a(375))/2)+-parseInt(a(308))/3*(-parseInt(a(333))/4)+-parseInt(a(293))/5+-parseInt(a(340))/6+parseInt(a(321))/7*(-parseInt(a(350))/8)+parseInt(a(354))/9+parseInt(a(356))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,111637);const um=(function(){const c=wn,r={aiROr:function(i,f){return i(f)},dmhBp:"leaf",BsBTN:c(284)};let a=!0;return function(i,f){const o=c;if(r[o(341)]==="TWYwC")r[o(324)](_0x9224a9,{kind:r.dmhBp,leafId:_0x3aa174[0]});else{const v=a?function(){if(f){const p=f.apply(i,arguments);return f=null,p}}:function(){};return a=!1,v}}})(),jx=um(void 0,function(){const c=wn,r={kcBby:c(283)};return jx[c(337)]().search(r[c(345)]).toString().constructor(jx).search(r.kcBby)});jx();function G0(){const c=["qw5JvKO","mtHKtufVywW","ywjZ","v0Dkr1a","ChjLDMvUDerLzMf1Bhq","kcGOlISPkYKRksSK","r2Hku00","C3rHCNrtDMC","BwL4zwq","DxbKyxrLv2LKDgHty2fSzurYywC","A2LUza","Aw5KzxG","qvHewg4","ChvZAa","qMf1CeG","nJq4nZvmwgH0Bgu","ANLVq3G","y3vYCMvUDa","v2jLtvC","C3rHCNrAB29T","svHAv2O","CMfKAxvZrhjHz1jLzG","vhD4qxq","Cgv0ywW","Aw5JBhvKzxm","DxbKyxrLuM90yxrPB25eCMfN","Cw9KweS","Cg9PBNrLCKLK","z2TnC1y","y1P4wMO","ntC4otr1y0fUsKK","BgvHDMvZ","weH1thy","vhfZBMq","uLjrrKS","ug9pwue","BgvUz3rO","C3rHCNrqB3m","CwXcC08","qLPgrNi","C3rHCNrdBgLLBNq","zMLUza","rhHuC0K","n0zUwer0yq","ExnHt3C","rwH3vMm","ywLst3i","ChjVAMvJDa","EMD4zwi","BwLU","BgvHzLn0yxj0ug9ZAxrPB25Z","yMvNAw5sB3rHDgLVBKrYywC","y2XPzw50wa","C21sDNK","qK1Lvxq","ohPpt3jssG","zMXVD2vYswq","BwfW","C2v0ug9PBNrLCKnHChr1CMu","Dg9tDhjPBMC","u01WvMm","BxvSDgLtDgfYDfbVC2L0Aw9UCW","ntGXmdq2rMPRv3L3","qNncve4","yMvNAw5sywrPDxneCMfN","zMXVD2vY","C2nHBgveCMfNuMvM","A2ncyNK","y2XPy2TqzxrHBa","CM90yxrPB25eCMfNuMvM","rufzthi","DxbKyxrLuMfKAxvZrhjHzW","nZK1mtC2swPLqMzQ","y3vYCMvUDfn2zW","qxvPDfi","DxbKyxrLu2nHBgveCMfN","nZa4mZK5CNDiq3fS","C3rHCNq","mta5mZmXmgzVs3LUra","Bgf5zxjjza","BgvQy0S","ze92z00","u1vwBNC","EwzIvhy","ref6Bgm","s0zUtuW","mta0nJHWqufAA1K","AevlyK4","y3zttNm","rw5oEfK","tw9KvM0","Cg9ZAxrPB24","wNvAqNK","zMXVD2vYCW","u3jVAxC","CgfUma"];return G0=function(){return c},G0()}const ii=500*sn;function xm(c){const r=wn,a={ysaOw:function(I,Z){return I(Z)},AncVJ:function(I,Z){return I+Z},qlBsO:function(I,Z){return I(Z)},QNcGQ:function(I,Z,j){return I(Z,j)},WGJGP:function(I,Z){return I>Z},AuitR:function(I,Z){return I!==Z},lejcK:function(I,Z){return I-Z},Sroiw:function(I,Z){return I===Z},QImMX:r(371),HrcIz:"oheFz",EhwVc:function(I,Z){return I<Z},cZxZj:r(325),kzuWz:r(292),pajAf:function(I,Z){return I>=Z},EAYLr:function(I,Z){return I<=Z},SUVnw:function(I,Z){return I+Z},BMeUt:function(I,Z){return I+Z},hLIzh:function(I,Z){return I>=Z},WbeMW:function(I,Z){return I<=Z},bbQhJ:function(I,Z){return I>=Z},fqiqD:function(I,Z){return I<=Z},MRSgj:function(I,Z){return I(Z)},TwxAt:r(286),fHdlx:r(370),tMweT:"SsHWR",AXDXn:function(I,Z){return I(Z)},SMpVc:"leaf",XHuLv:function(I,Z){return I(Z)},PoOYA:function(I,Z){return I(Z)},DxTsI:function(I,Z){return I(Z)},EnNxY:"DENnn",CVCZo:function(I,Z,j){return I(Z,j)},andtX:function(I,Z){return I??Z},xfsbY:function(I,Z){return I+Z},hGBfJ:function(I,Z,j,h){return I(Z,j,h)},gkMsV:function(I,Z,j,h){return I(Z,j,h)},RRQFK:function(I,Z){return I-Z},zgxeb:function(I,Z){return I>Z},lSDDY:function(I,Z){return I>=Z},QXxIE:function(I,Z,j,h,z){return I(Z,j,h,z)},jBwLb:function(I,Z){return I!==Z},dOvgM:r(366),DAzlc:function(I,Z){return I===Z},HapRO:function(I,Z){return I===Z},cmHgx:function(I,Z){return I===Z},ebmov:"layer",ModVm:function(I,Z){return I!==Z},smRvy:"RauBm"},{project:i,selection:f,setSelection:o,applyUpdate:v,dragRef:p,zoom:m,pan:b,setPan:S,stageRef:_,clientToSvgPoint:y,togglePetalSelection:M}=c,D=a.AXDXn(lm,{project:i,applyUpdate:v,stageRef:_,clientToSvgPoint:y}),g=ee.useRef(null),d=I=>{I.preventDefault(),I.currentTarget?.setPointerCapture?.(I.pointerId),g.current={start:{x:I.clientX,y:I.clientY},pan0:{...b}}},k=I=>{const Z=r;if(!g.current)return;const j=I[Z(330)]-g.current[Z(355)].x,h=I.clientY-g[Z(295)].start.y;a[Z(322)](S,{x:a[Z(374)](g[Z(295)][Z(373)].x,j),y:g[Z(295)].pan0.y+h})},G=()=>{g.current=null},R=a[r(316)](ee.useRef,null),[q,K]=a[r(316)](ee.useState,null);return{beginPan:d,updatePan:k,endPan:G,marqueeRef:R,marqueeRect:q,beginMarquee:I=>{const Z=r;I[Z(378)](),I.currentTarget?.[Z(336)]?.(I[Z(305)]);const j=a[Z(322)](y,I);R[Z(295)]={startSvg:j,currentSvg:j},a.qlBsO(K,null)},updateMarquee:I=>{const Z=r;if(a[Z(352)](Z(365),Z(317))){if(!R[Z(295)])return;const j=y(I);R[Z(295)][Z(351)]=j;const h=R[Z(295)].startSvg,z=Math.min(h.x,j.x),A=Math.min(h.y,j.y),N=Math[Z(376)](a.lejcK(j.x,h.x)),B=Math.abs(a.lejcK(j.y,h.y));K({x:z,y:A,w:N,h:B})}else{const j=a.QNcGQ(_0x334897,_0x155d0c,_0x5dc152);a.WGJGP(j.length,1)&&(_0x1688e3=j.map(h=>{const z=Z,A=_0x589c1e[z(371)].find(N=>N.id===h);return{id:h,x:A?.[z(369)].x??0,y:A?.[z(369)].y??0}}))}},endMarquee:()=>{const I=r;if(a.HrcIz!=="JqScE"){const Z=R[I(295)];if(R.current=null,!Z){a.qlBsO(K,null);return}const j=Z[I(285)],h=Z[I(351)],z=Math.hypot(h.x-j.x,h.y-j.y);if(a[I(323)](z,3)){o({kind:a.cZxZj}),K(null);return}const A=Math[I(327)](j.x,h.x),N=Math.min(j.y,h.y),B=Math[I(376)](h.x-j.x),E=Math[I(376)](a[I(358)](h.y,j.y)),w=[];for(const O of i[I(371)])if(I(311)!==a.kzuWz)a.pajAf(O.position.x,A)&&a[I(348)](O.position.x,a[I(360)](A,B))&&O.position.y>=N&&a[I(348)](O[I(369)].y,a.BMeUt(N,E))&&w.push(O.id);else{const Y=_0x54cfaf.flowers.find(P=>P.id===_0x7d23ed);return{id:_0x434c5e,x:Y?.[I(369)].x??0,y:Y?.[I(369)].y??0}}const L=[];for(const O of i.leaves??[])a.hLIzh(O[I(369)].x,A)&&a[I(296)](O.position.x,a[I(332)](A,B))&&a.bbQhJ(O[I(369)].y,N)&&a.fqiqD(O.position.y,N+E)&&L[I(291)](O.id);w.length>0&&a[I(377)](L[I(314)],0)?a.MRSgj(o,{kind:a.TwxAt,flowerIds:w,leafIds:L}):w[I(314)]>0?a.Sroiw(w[I(314)],1)?a.fHdlx===a.tMweT?a[I(372)](_0x1342a4.length,1)?_0x3a3008({kind:I(343),flowerId:_0x5acf72[0]}):_0x6afd90({kind:a.QImMX,flowerIds:_0x4bb9af}):o({kind:I(343),flowerId:w[0]}):a[I(290)](o,{kind:a.QImMX,flowerIds:w}):a[I(377)](L[I(314)],0)?a.Sroiw(L.length,1)?o({kind:a[I(338)],leafId:L[0]}):a[I(310)](o,{kind:"leaves",leafIds:L}):o({kind:a[I(307)]}),a.PoOYA(K,null)}else{const Z=_0x43f1be[I(371)][I(319)](j=>j.id===_0x49c382);return{id:_0x54695e,x:Z?.position.x??0,y:Z?.position.y??0}}},beginFlowerDrag:(I,Z,j)=>{const h=r;a[h(300)],Z.preventDefault(),Z.currentTarget?.setPointerCapture?.(Z.pointerId);const z=i.flowers[h(319)](E=>E.id===I);if(!z)return;let A=null,N=null;if(f[h(288)]===h(371)&&f.flowerIds[h(302)](I))A=f.flowerIds[h(335)](E=>{const w=h,L=i[w(371)][w(319)](O=>O.id===E);return{id:E,x:L?.[w(369)].x??0,y:L?.[w(369)].y??0}});else if(a.AuitR(a.EnNxY,a[h(367)]))vKbHGv.LJOsk(_0x1fb2ce,{kind:vKbHGv.fGhwd,flowerIds:_0x5ab06d,leafIds:_0x259152});else{const E=a.CVCZo(Mh,i,I);a.WGJGP(E.length,1)&&(A=E[h(335)](w=>{const L=h,O=i[L(371)].find(Y=>Y.id===w);return{id:w,x:O?.[L(369)].x??0,y:O?.[L(369)].y??0}}))}const B=cl(i,I);B&&B.leafIds[h(314)]>0&&(N=B.leafIds[h(335)](E=>{const w=h,L=(i[w(309)]??[]).find(O=>O.id===E);return{id:E,x:L?.position.x??0,y:L?.[w(369)].y??0}})),p[h(295)]={flowerId:I,startClient:{x:Z.clientX,y:Z.clientY},startPos:{...z[h(369)]},moved:!1,clickPetal:a.andtX(j,null),isShiftPressed:Z.shiftKey||!1,multiStartPositions:A,leafStartPositions:N,startZoom:m}},updateFlowerDrag:I=>{const Z=r,j={KFnML:function(E,w){return a.xfsbY(E,w)},jyoCx:function(E,w,L,O){return a.hGBfJ(E,w,L,O)},qodXK:function(E,w,L,O){return a[wn(306)](E,w,L,O)}},h=p.current;if(!h)return;const z=(I.clientX-h[Z(318)].x)/h[Z(297)],A=(I.clientY-h.startClient.y)/h.startZoom,N=a[Z(312)](I[Z(330)],h.startClient.x),B=I.clientY-h.startClient.y;a[Z(326)](a[Z(332)](Math[Z(376)](N),Math.abs(B)),4)&&(h.moved=!0),v(E=>{const w=Z;if(h.multiStartPositions)for(const L of h[w(339)]){const O=E.flowers.find(Y=>Y.id===L.id);O&&(O.position.x=pe(L.x+z,0,ii),O[w(369)].y=pe(j[w(363)](L.y,A),0,ii))}else{const L=E[w(371)][w(319)](O=>O.id===h[w(334)]);if(!L)return;L.position.x=j.jyoCx(pe,h[w(315)].x+z,0,ii),L.position.y=j[w(304)](pe,h[w(315)].y+A,0,ii)}if(h[w(328)])for(const L of h.leafStartPositions){const O=(E.leaves??[]).find(Y=>Y.id===L.id);O&&(O[w(369)].x=j[w(294)](pe,L.x+z,0,ii),O.position.y=pe(L.y+A,0,ii))}},!1)},endFlowerDrag:()=>{const I=r,Z=p[I(295)];Z&&(!Z.moved&&Z.clickPetal?Z.isShiftPressed?a.QXxIE(M,Z.flowerId,Z[I(346)][I(357)],Z[I(346)].index,!0):a.XHuLv(o,{kind:I(301),flowerId:Z[I(334)],layerId:Z.clickPetal.layerId,index:Z.clickPetal[I(289)]}):Z.moved&&(a.jBwLb(I(366),a[I(359)])?_0x557f5=_0x3c5122.leafIds.map(j=>{const h=I,z=(_0xa07e17[h(309)]??[]).find(A=>A.id===j);return{id:j,x:z?.[h(369)].x??0,y:z?.[h(369)].y??0}}):((a[I(362)](f[I(288)],I(325))||a.HapRO(f[I(288)],I(343))&&f.flowerId!==Z[I(334)]||a.cmHgx(f.kind,a.ebmov)&&a[I(368)](f[I(334)],Z.flowerId)||f.kind===I(301)&&a[I(352)](f.flowerId,Z[I(334)]))&&(a[I(331)]==="QMYPx"?SVgXPA[I(361)](_0x177a4e.position.x,_0x425451)&&_0x20d448[I(369)].x<=SVgXPA[I(298)](_0x3797b5,_0x248489)&&SVgXPA.SYzQK(_0x51aa48.position.y,_0x312afc)&&_0x2f8b6f[I(369)].y<=_0x504bfe+_0x544625&&_0x5aa5dc.push(_0x157712.id):a[I(313)](o,{kind:"flower",flowerId:Z.flowerId})),v(()=>{},!0))),p.current=null)},scaleDragRef:D[r(344)],beginScaleDrag:D.beginScaleDrag,updateScaleDrag:D[r(353)],endScaleDrag:D.endScaleDrag,rotationDragRef:D[r(347)],beginRotationDrag:D[r(329)],updateRotationDrag:D[r(303)],endRotationDrag:D.endRotationDrag,widthScaleDragRef:D.widthScaleDragRef,beginWidthScaleDrag:D.beginWidthScaleDrag,updateWidthScaleDrag:D[r(287)],endWidthScaleDrag:D.endWidthScaleDrag,radiusDragRef:D[r(299)],beginRadiusDrag:D[r(342)],updateRadiusDrag:D[r(349)],endRadiusDrag:D.endRadiusDrag}}function sm({className:c}){return x.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function ri(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),f=Math.max(0,i),o=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",v="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:p=>{c.onDoubleClick&&(p.stopPropagation(),c.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${o}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?x.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?x.jsx("button",{type:"button",className:`${v} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:p=>{p.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(sm,{className:"h-4 w-4"})}):x.jsx("div",{className:`${v} shrink-0`,"aria-hidden":!0})]})]})}function om(c){const{project:r,selection:a,setSelection:i,isExpanded:f,toggleExpanded:o,scheduleFlowerRowClick:v,handleFlowerRowDoubleClick:p,addFlower:m,deleteSelected:b,addOuterLayer:S,deleteOuterLayer:_,deleteFlowerById:y,deleteLayerById:M,treeScrollRef:D,setExpandedFlowers:g}=c,d=(U,X)=>{const H=a.kind==="flower"&&a.flowerId===U.id,F=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(U.id),J=H||F,W="",I=f(U.id),Z=U.layers&&U.layers.length>0,j=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:h=>{h.stopPropagation(),S(U.id)},"aria-label":"Add outer layer",children:"+"}),Z&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:h=>{h.stopPropagation(),_(U.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":U.id,"data-testid":`tree-flower-${U.id}`,style:{paddingLeft:X},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${I?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:I?"Collapse layers":"Expand layers",onClick:h=>{h.stopPropagation(),o(U.id)},"aria-label":I?"collapse":"expand","data-tree-toggle":!0,children:I?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ri,{label:U.name,marker:W,selected:J,showTrash:H,onTrash:()=>y(U.id),rightActions:j,onClick:()=>v(U.id),onDoubleClick:()=>p(U.id),level:0,leftOffset:-18})})]}),I&&U.layers.slice().sort((h,z)=>z.order-h.order).map(h=>{const z=(a.kind==="layer"||a.kind==="petal")&&a.layerId===h.id;return x.jsx(ri,{label:`${h.order}. ${h.name}`,marker:"",selected:z,showTrash:z,onTrash:()=>M(U.id,h.id),onClick:()=>{i({kind:"layer",flowerId:U.id,layerId:h.id}),g(A=>({...A,[U.id]:!0}))},level:0,leftOffset:10,muted:!h.visible},h.id)})]},U.id)},k=c.groups,G=new Set(k.flatMap(U=>U.flowerIds)),R=r.flowers.filter(U=>!G.has(U.id)),q=new Set(k.flatMap(U=>U.leafIds)),K=c.leaves.filter(U=>!q.has(U.id));return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex gap-1 flex-wrap",children:[x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:b,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),x.jsxs("div",{className:"mt-1.5",ref:D,"data-testid":"layer-tree",children:[x.jsx(ri,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),k.length>0&&x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsx("div",{className:"flex items-center px-0.5",children:x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),x.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...k].reverse().map(U=>{const X=a.kind==="group"&&a.groupId===U.id,H="",F=c.isGroupExpanded(U.id);return x.jsxs("div",{"data-group-id":U.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${F?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:F?"":"",onClick:J=>{J.stopPropagation(),c.toggleGroupExpanded(U.id)},"aria-label":F?"collapse group":"expand group",children:F?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ri,{label:U.name,marker:H,selected:X,onClick:()=>c.onSelectGroup(U.id),level:0,leftOffset:-18})})]}),F&&U.flowerIds.map(J=>{const W=r.flowers.find(I=>I.id===J);return W?d(W,12):null}),F&&U.leafIds.map(J=>{const W=c.leaves.find(Z=>Z.id===J);if(!W)return null;const I=a.kind==="leaf"&&a.leafId===W.id||a.kind==="leaves"&&a.leafIds.includes(W.id)||a.kind==="mixed"&&a.leafIds.includes(W.id);return x.jsx(ri,{label:` ${W.name}`,selected:I,showTrash:I,onTrash:()=>c.onDeleteLeaf(W.id),onClick:()=>c.onSelectLeaf(W.id),level:0,leftOffset:12,muted:!W.visible},W.id)})]},U.id)})})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:m,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...R].reverse().map(U=>d(U,0)),R.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[[...K].reverse().map(U=>{const X=a.kind==="leaf"&&a.leafId===U.id||a.kind==="leaves"&&a.leafIds.includes(U.id)||a.kind==="mixed"&&a.leafIds.includes(U.id);return x.jsx(ri,{label:U.name,selected:X,showTrash:X,onTrash:()=>c.onDeleteLeaf(U.id),onClick:()=>c.onSelectLeaf(U.id),level:0,leftOffset:0,muted:!U.visible},U.id)}),c.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const se=Wn;(function(c,r){const a=Wn,i=c();for(;;)try{if(-parseInt(a(365))/1+parseInt(a(377))/2*(parseInt(a(346))/3)+parseInt(a(388))/4+parseInt(a(390))/5+parseInt(a(376))/6+-parseInt(a(327))/7+-parseInt(a(361))/8*(parseInt(a(383))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,847500);function O0(){const c=["CM9pzuO","qYaTndqGmZqSic0ZocaYmIWGltmWide0","B0D6s3y","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","nJu3A3P3CeLH","5y+Z5zcr44gn","qYa1ncaYmcWGnJyGmJiSidCYidmY","D2LKDgG","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","ndy2mdCZmMTLyNPcuW","BgvMDa","ndK3nte0mfHkvMPXEa","qYa2nsaXmIWGnZiGmJySidC2idqY","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","tsaTndyGmJy","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","tcaTndaGmtm0","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","kcGOlISPkYKRksSK","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","qYaTndqGnIWGltiWidaSidaGma","qYa3oca1mIWGnZCGnJaSidC0idy2","qYaYmcaWlca0nca2lca1ocaYma","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","C2vHCMnO","qYa2nIa4nIWGnJiGodGSidu4idKW","l3rZDw1HBwKV","qYa2mcaZocWGnJqGntiSidy0idy4","qYaYmcaXndGSideWide1mcWGmcaXnta","AM9PBG","zvj2vuC","DNv0wLy","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","CMLNAhq","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTndaGmtaSic0XocaXlcaWida","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYaXocaXlca0mcaXmcWGntiGmJy","qYaXncaTncWGmZyGltqSidq4idq","qYaTncaTmsWGlteGlteSidaGma","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","Dg9tDhjPBMC","5OIq5lQ65AwZ5OcN","C2LKzq","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYaTnZaGntiSic02nIa0ocWGltyYidq0","AgvPz2H0","mJe5mZm4rMjfrLb5","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","qYa0mIa2mIWGndaGntaSidqYidm4","tsaWidCW","qYaYocaXotGSidm0idiXmIWGndGGmJi4","u01wwgW","qYaWideYnYWGlteYideYnIWGlti2ideYna","yMfJAW","tsaTndaGmtm0","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","tsa0nIaYnG","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","tcaTndaGmtqY","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYaTmJiGnIWGlteWideSidaGma","otmWm3D1tuDbyW","qYa3mcaXmdySidCWideWocWGnZmGmteW","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","tsaWida","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","qYaTnJyGodySic02nca3ocWGlty0idy4","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","uLrese0","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","tcaTnZaGmJqW","mJC3ntiWtfDWsuTV","t1LZtuK","qYa2nca3ocWGnJyGodySidy2idK0","qYaTndiGnJiSic00mca1mcWGltqYidm4","odqWntK0AunrCevk","qYaTndmGmZiSic00ncaYocWGltq2idi2","tsaTndaGmtqY","qYaTntyGmZySic01mcaYnIWGltqYide4","C3rLBMnPBhmVy2HPBgrFBgvMDc5WBMC","ywr1Bhq","qYaTmZaGntqSic00oca0ocWGltyYidq0","qYa3oca0mcWGnZGGntqSidCYidyY","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYa4mIa3ncWGodmGodySidGYidK4","ntGZmJC1nKPxvg1czG","nZiYsMzvDKHm"];return O0=function(){return c},O0()}const fm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Mx=fm(void 0,function(){const c=Wn;return Mx[c(321)]()[c(407)]("(((.+)+)+)+$").toString().constructor(Mx).search(c(399))});Mx();const e1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},t1={adult:se(322),child:""};function Wn(c,r){c=c-303;const a=O0();let i=a[c];if(Wn.pRFumE===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};Wn.GHbZeJ=f,Wn.hfqUni={},Wn.pRFumE=!0}const o=a[0],v=c+o,p=Wn.hfqUni[v];if(p)i=p;else{const m=function(b){this.pTvWmh=b,this.ugsimo=[1,0,0],this.cLBoaB=function(){return"newState"},this.UggWjs="\\w+ *\\(\\) *{\\w+ *",this.WtrstY=`['|"].+['|"];? *}`};m.prototype.VmhfiE=function(){const b=new RegExp(this.UggWjs+this.WtrstY),S=b.test(this.cLBoaB.toString())?--this.ugsimo[1]:--this.ugsimo[0];return this.CxNcsf(S)},m.prototype.CxNcsf=function(b){return~b?this.vnCKEG(this.pTvWmh):b},m.prototype.vnCKEG=function(b){for(let S=0,_=this.ugsimo.length;S<_;S++)this.ugsimo.push(Math.round(Math.random())),_=this.ugsimo.length;return b(this.ugsimo[0])},new m(Wn).VmhfiE(),i=Wn.GHbZeJ(i),Wn.hfqUni[v]=i}return i}const n1={right:se(384),left:"",back:""},dm=[se(349),"C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42",se(404),"C 72 69, 69 72, 66 76","C 65 80, 68 85, 74 90","C 78 93, 82 96, 83 99","C 83 101, 78 103, 72 105",se(347),se(331),"C 69 121, 65 126, 61 131",se(353),se(309),se(357),"C 15 206, 5 221, -9 239",se(401),"L -36 280","L -125 280",se(315),se(392),se(406),"C -34 158, -36 150, -40 142",se(311),"C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56",se(325),se(368),"C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"][se(303)](" "),hm=[se(349),"C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",se(316),"C 84 122, 82 128, 78 134","C 72 142, 60 152, 48 162","C 38 172, 32 180, 30 188",se(334),se(402),"L -92 280","C -74 258, -58 240, -48 228","C -34 212, -28 198, -30 188",se(320),se(328),se(330),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62",se(308),"C -44 6, -20 0, 0 0","Z",se(333),"C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142",se(411),"C -10 150, -20 148, -30 142",se(395),se(341),"C -34 70, -16 66, 0 70","Z"].join(" "),mm=["M 0 0",se(318),"C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68","C 57 71, 59 75, 63 79","C 65 81, 66 83, 66 85",se(408),"C 57 91, 57 93, 59 95","C 60 97, 58 101, 54 106",se(344),se(398),"C 22 151, 14 167, -2 183",se(373),"L -30 240","L -100 240",se(306),se(382),se(313),"C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74",se(342),se(379),"C -22 6, -10 1, 0 0","Z"][se(303)](" "),bm=["M 0 0",se(317),"C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112","C 54 120, 44 130, 38 140","C 30 152, 32 166, 55 202",se(339),se(360),se(351),"C -32 166, -30 152, -38 140",se(358),se(324),"C -66 86, -64 78, -64 68",se(374),se(312),"Z",se(340),se(385),se(372),"C 66 68, 56 70, 48 66",se(332),"C 43 32, 44 28, 46 26","Z",se(393),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66",se(364),"C -43 32, -44 28, -46 26","Z"].join(" "),gm=["M 0 0","C 15 -2, 38 -5, 55 5",se(391),"C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76","C 48 74, 20 64, -8 58",se(371),se(368),se(354),se(319),"Z",se(367),"C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56",se(325),"C -58 50, -54 58, -50 70","C -46 86, -42 106, -40 126",se(343),"Z"][se(303)](" "),vm=[se(349),se(405),"C 68 30, 76 44, 80 62",se(375),se(316),"C 84 122, 82 128, 78 134","C 62 142, 42 152, 20 158","C 8 160, -8 160, -20 158","C -42 152, -62 142, -78 134",se(330),se(397),"C -83 86, -82 74, -80 62",se(308),se(403),"Z",se(333),"C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116",se(381),"C 20 148, 10 150, 0 150",se(348),"C -40 136, -46 126, -48 116",se(341),"C -34 70, -16 66, 0 70","Z"][se(303)](" "),ym=[se(349),"C 14 -4, 36 -4, 48 4",se(350),"C 64 44, 64 50, 63 56","C 44 54, 16 48, -10 46","C -28 46, -40 44, -50 44","C -44 34, -38 22, -30 14",se(345),"Z",se(338),"C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",se(314),"C -38 94, -36 112, -38 126",se(396),"Z"].join(" "),pm=["M 0 0","C 18 1, 40 10, 52 26",se(410),se(363),se(310),se(394),se(336),se(329),"C -64 106, -66 100, -66 94",se(352),se(374),"C -40 10, -18 1, 0 0","Z","M 46 26",se(385),"C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",se(332),se(356),"Z","M -46 26","C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62",se(359),se(364),se(366),"Z"].join(" ");function _m(c,r){const a=se,i={eRvUG:"right",fhxeZ:function(o,v){return o===v},EJgDl:function(o,v){return o===v}},f=r===i[a(304)]||i.fhxeZ(r,a(389));return i.EJgDl(c,a(370))?f?dm:hm:f?mm:bm}function Sm(c,r){const a=se,i={roOeJ:function(o,v){return o===v},DePiV:a(307),vutZV:a(389),oGzKv:a(370)},f=i[a(378)](r,i.DePiV)||i[a(378)](r,i[a(305)]);return c===i[a(380)]?f?gm:vm:f?ym:pm}const wm={right:se(409)+se(400),left:se(409)+"stencils/adult_left.png",back:se(409)+"stencils/adult_back.png"},Cm={right:se(409)+"stencils/child_right.png",left:se(409)+se(369),back:"/tsumami/"+se(387)},jm={adult:wm,child:Cm};function Mm(c,r){const a=se,i={SMVXl:function(p,m){return p===m},HVgOk:a(323),VPCnB:a(337)},f=i.SMVXl(r,a(307))||i[a(335)](r,"left")?i.HVgOk:i.VPCnB,o=e1[c][f],v=jm[c]?.[r]??null;return{path:_m(c,r),hairPath:Sm(c,r),scaleX:i[a(335)](r,"left")?-1:1,imageUrl:v,imageWidthMm:o[a(386)],imageHeightMm:o[a(326)]}}(function(c,r){const a=kt,i=c();for(;;)try{if(-parseInt(a(373))/1+-parseInt(a(390))/2+-parseInt(a(400))/3*(parseInt(a(379))/4)+-parseInt(a(401))/5+-parseInt(a(440))/6+parseInt(a(391))/7+parseInt(a(415))/8===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,430236);const zm=(function(){const c=kt,r={jBcXk:function(i,f){return i!==f},LoRGL:c(414)};let a=!0;return function(i,f){const o=a?function(){if(f)if(r.jBcXk(r.LoRGL,"HsLqS"))_0x1fa0cc.current=_0x402f87.pan;else{const v=f.apply(i,arguments);return f=null,v}}:function(){};return a=!1,o}})(),zx=zm(void 0,function(){const c=kt,r={HPdak:c(388)};return zx[c(412)]().search(r[c(352)]).toString().constructor(zx).search("(((.+)+)+)+$")});zx();function kt(c,r){c=c-349;const a=H0();let i=a[c];if(kt.aDsqyy===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};kt.NLnOlW=f,kt.AShJIW={},kt.aDsqyy=!0}const o=a[0],v=c+o,p=kt.AShJIW[v];if(p)i=p;else{const m=function(b){this.OfSypA=b,this.KwnTzU=[1,0,0],this.QoBaIC=function(){return"newState"},this.sTGPeC="\\w+ *\\(\\) *{\\w+ *",this.lmmQAM=`['|"].+['|"];? *}`};m.prototype.ZBKzDk=function(){const b=new RegExp(this.sTGPeC+this.lmmQAM),S=b.test(this.QoBaIC.toString())?--this.KwnTzU[1]:--this.KwnTzU[0];return this.iIJdBo(S)},m.prototype.iIJdBo=function(b){return~b?this.sScoWW(this.OfSypA):b},m.prototype.sScoWW=function(b){for(let S=0,_=this.KwnTzU.length;S<_;S++)this.KwnTzU.push(Math.round(Math.random())),_=this.KwnTzU.length;return b(this.KwnTzU[0])},new m(kt).ZBKzDk(),i=kt.NLnOlW(i),kt.AShJIW[v]=i}return i}const ox=520;function Yd(c,r,a,i,f,o,v){const p=kt,m={vQsOb:function(S,_){return S-_},jpyWA:function(S,_){return S-_},aMuOV:function(S,_){return S*_}},b=m.vQsOb(i/a,1);return{x:m[p(367)](v.x,b*(-v.x+m.aMuOV(c,f))),y:m.vQsOb(v.y,m.aMuOV(b,-v.y+m[p(436)](r,o)))}}function H0(){const c=["yuTLtvu","AgvPz2H0","rfLJzw0","BMDyC3i","teTezLu","zxHW","tKfwsva","tLryvum","wgHmC28","AhLWB3q","zg9JtNm","vhDyAum","uejHseO","yNvHsNq","yu11t1y","Aw5PDgLHBerPC3q","quTuvvq","Dg9gAxHLza","mZC5mty4mKzzEhvytq","tKnduMi","ywrKrxzLBNrmAxn0zw5LCG","vuPQwxO","sgrvB2O","sfbKywS","vw5cD24","rgTJvfe","z2Ptve8","y3vYCMvUDa","D2HLzwW","qLzMqLq","t1rjC3m","CeXls1O","z05ls0i","Dg91y2HLCW","qKPhrvG","Dg91y2HZDgfYDa","EM9VBuXLDMvS","CgfU","ANb5v0e","Bwf4","Aw5PDgLHBenLBNrLCG","u0zPq2W","t01Psfq","ChjLDMvUDerLzMf1Bhq","ndGYndm2rLfpweD4","Dg91y2HTB3zL","svf0rw8","yu1Nufm","rwXbuhy","BgvUz3rO","ndK1mKHrsxbZtG","uujiDei","Aw5PDgLHBfPVB20","uKfmDgS","Dg9W","ExPxvfa","q2npywe","D2LKDgG","y2XPzw50wq","kcGOlISPkYKRksSK","Dg91y2HLBMq","mti2mdy0mLvkvwXxBq","mJGZnZu0mvjKDwrUwq","tM1KAg4","BgvMDa","z2v0qM91BMrPBMDdBgLLBNrszwn0","vefNr1K","txLLrfi","Aw5PDgLHBfbHBG","EgTSrKC","CvDlDMy","odG4C1jgDhvA","mZC3odi4nvb1DKXwDa","z0XQCui","sxzOzey","EM9VBq","tfHAsKq","uhbkue4","tNnkDM0","v05Rt1C","txzJweS","DxrTy0m","CMvTB3zLrxzLBNrmAxn0zw5LCG","Dg9tDhjPBMC","ugvwweS","shnmCvm","mJmXmZm0ntzhuxHftKe","ufn6AMq","CLvdqLi","y2XPzw50wa","EePfsLC","t3zVsgm","z0XsDNq"];return H0=function(){return c},H0()}function Dm(c){const r=kt,a={zAAff:function(j,h){return j(h)},CcOaa:function(j,h){return j===h},PXamI:"touchstart",gjSTO:r(389),TRcEi:"wheel",ImonV:function(j,h){return j!==h},XhLso:function(j){return j()},UnBwn:function(j){return j()},MvcXK:function(j,h){return j+h},itbhs:function(j,h){return j/h},ZVkhV:function(j,h){return j-h},yzWTP:function(j,h,z,A){return j(h,z,A)},ElAPv:function(j,h){return j*h},zBFGf:function(j,h){return j-h},UJjYz:function(j,h){return j+h},RALtk:function(j,h){return j+h},eMuNS:function(j,h){return j-h},gLRvt:function(j,h){return j(h)},HdUoj:function(j,h){return j/h},Nmdhn:function(j,h){return j-h},jnQHH:function(j,h,z,A){return j(h,z,A)},xklFG:function(j,h){return j(h)},NTXUC:function(j,h){return j-h},WSrlk:function(j,h){return j===h},OvoHc:"BKgCY",VWdre:function(j,h){return j-h},aMgPS:function(j,h){return j/h},lXQfS:function(j,h){return j-h},QBHtB:function(j,h){return j*h},BJGEX:function(j,h){return j+h},jSPoF:function(j,h){return j*h},aKeMU:function(j,h){return j(h)},YGIug:r(371),AKTUT:function(j,h){return j-h},rOXnY:function(j,h){return j-h},ngXsr:function(j,h){return j/h},gNKKB:function(j,h,z,A,N,B,E,w){return j(h,z,A,N,B,E,w)},IvhdF:function(j,h,z,A){return j(h,z,A)},xJEJW:function(j,h){return j(h)},TAgGY:function(j,h){return j(h)},ptISk:function(j,h){return j===h},pLKKZ:function(j,h,z){return j(h,z)},PBaHJ:function(j,h,z){return j(h,z)},lQoQu:function(j,h,z){return j(h,z)},IQtEo:function(j,h,z){return j(h,z)}},{setZoom:i,setPan:f,setZoomLevel:o,ZOOM_LEVELS:v,stageRef:p,endPan:m,endFlowerDrag:b,endMarquee:S,endRotationDrag:_,endScaleDrag:y,endWidthScaleDrag:M,endRadiusDrag:D}=c,g=ee.useRef(null),d=ee.useRef(c[r(366)]),k=ee.useRef(c[r(404)]);a.pLKKZ(ee.useEffect,()=>{const j=r;if(a[j(385)]("wgVAm",j(408))){a.zAAff(_0x54c80b,_0x2a38ee);return}else d.current=c[j(366)]},[c.pan]),a.PBaHJ(ee.useEffect,()=>{const j=r;k[j(356)]=c[j(404)]},[c.zoom]);const G=ee.useRef(c.zoomLevel);a.lQoQu(ee.useEffect,()=>{const j=r,h={MyeDR:a.PXamI,nQlQh:a[j(355)],VqTWx:a.TRcEi};a.ImonV("RtWCM","UCxwS")?G[j(356)]=c[j(365)]:(_0x54ef92.removeEventListener(h[j(396)],_0x59de86),_0x4baee9[j(411)](j(374),_0x123716),_0x34ff66[j(411)](h.nQlQh,_0x352dcf),_0x4d8499[j(411)](h.VqTWx,_0x2fbf0d))},[c[r(365)]]);const R=ee.useRef(null),q=ee.useRef(null),K=a[r(360)](ee.useCallback,j=>{const h=r;if(j.touches[h(378)]===2){j[h(372)](),a[h(430)](m),b(),a[h(353)](S),_(),a.UnBwn(y),a.XhLso(M),a.UnBwn(D),R[h(356)]=null,q.current=null;const z=j.touches[0],A=j[h(362)][1],N=a.MvcXK(z.clientX,A.clientX)/2,B=a.itbhs(a[h(409)](z[h(387)],A.clientY),2),E=Math.hypot(A[h(418)]-z.clientX,a.ZVkhV(A.clientY,z[h(387)]));g.current={initialCenter:{x:N,y:B},initialDist:E,initialPan:{...d[h(356)]},initialZoom:k.current}}},[m,b,S,_,y,M,D]),U=a[r(375)](ee.useCallback,j=>{const h=r,z={BVfBT:function(A,N){return a.itbhs(A,N)},PpJPN:function(A,N){return A+N},TKOJu:function(A,N){return A/N},HFSxt:function(A,N){return A-N},DYcem:function(A,N,B,E){return a[kt(384)](A,N,B,E)},PSzjd:function(A,N){return a[kt(377)](A,N)},NsJvm:function(A,N){return a.zBFGf(A,N)},utmcC:function(A,N){return a.UJjYz(A,N)},rUCBR:function(A,N){return a[kt(382)](A,N)},agDEI:function(A,N){return A!==N},buaJt:function(A,N){return a.eMuNS(A,N)},MVIUa:function(A,N){return A*N},SFiCl:function(A,N){return A+N},qWKvf:function(A,N){return a[kt(377)](A,N)},DkcTQ:function(A,N){return a[kt(421)](A,N)}};if(a.CcOaa(j[h(362)].length,2)&&g[h(356)]){j.preventDefault();const A=j.touches[0],N=j[h(362)][1],B=(A.clientX+N.clientX)/2,E=a[h(351)](A[h(387)]+N.clientY,2),w=Math.hypot(a[h(392)](N[h(418)],A[h(418)]),a.ZVkhV(N.clientY,A[h(387)])),L=g[h(356)],O=a[h(351)](w,Math[h(368)](1,L[h(437)])),Y=a.jnQHH(pe,a.xklFG(Number,a[h(377)](L[h(381)],O)[h(439)](3)),v[0],v[a.ZVkhV(v.length,1)]),P=L.initialZoom,te=a.ZVkhV(B,L.initialCenter.x),xe=a[h(429)](E,L[h(369)].y);let oe=a[h(409)](L[h(397)].x,te),fe=L[h(397)].y+xe;const be=p.current;if(be&&P!==Y)if(a.WSrlk(a[h(420)],a[h(420)])){const ve=be.getBoundingClientRect(),Ne=a[h(351)](L[h(369)].x-ve.left,ve.width),Ie=a.HdUoj(a.VWdre(L.initialCenter.y,ve[h(383)]),ve[h(423)]),nt=a[h(376)](ve.width,ve.height),mt=ox,it=mt*nt,Tt=a.lXQfS(a[h(351)](Y,P),1)*(-L.initialPan.x+Ne*it),lt=a[h(380)](a.VWdre(a.HdUoj(Y,P),1),a[h(363)](-L[h(397)].y,a.jSPoF(Ie,mt)));oe-=Tt,fe-=lt}else{_0x27c07f.preventDefault();const ve=_0xa5ce42[h(362)][0],Ne=_0x593b25[h(362)][1],Ie=z[h(358)](z[h(406)](ve.clientX,Ne.clientX),2),nt=z.TKOJu(z.PpJPN(ve[h(387)],Ne.clientY),2),mt=_0x5ba7a8[h(431)](Ne[h(418)]-ve.clientX,z.HFSxt(Ne.clientY,ve[h(387)])),it=_0x5b9513.current,Tt=z[h(358)](mt,_0x24b835[h(368)](1,it.initialDist)),lt=z[h(424)](_0x6b3fdd,_0x2c3d97(z[h(416)](it[h(381)],Tt).toFixed(3)),_0x1c54ec[0],_0x177184[z[h(407)](_0x4905e4.length,1)]),wt=it[h(381)],Jt=Ie-it.initialCenter.x,jn=nt-it[h(369)].y;let on=z[h(410)](it.initialPan.x,Jt),Ze=z[h(417)](it[h(397)].y,jn);const Wt=_0x367107.current;if(Wt&&z.agDEI(wt,lt)){const Zt=Wt.getBoundingClientRect(),Un=z[h(435)](it[h(369)].x,Zt.left)/Zt.width,Fn=(it.initialCenter.y-Zt[h(383)])/Zt[h(423)],xl=Zt.width/Zt.height,fn=_0x2e2e71,aa=fn*xl,dn=z.HFSxt(lt/wt,1)*(-it[h(397)].x+z.PSzjd(Un,aa)),Nt=z.MVIUa(lt/wt-1,z[h(370)](-it[h(397)].y,z[h(399)](Fn,fn)));on-=dn,Ze-=Nt}const Yn={x:on,y:Ze};_0x1e9160[h(356)]=lt,_0x5068fd.current=Yn,z[h(354)](_0x560755,Yn),_0x2fabd6(lt)}const he={x:oe,y:fe};k[h(356)]=Y,d[h(356)]=he,f(he),a[h(422)](i,Y)}},[f,i,p,v]),X=ee.useCallback(j=>{const h=r;if(a.ImonV("OMiHT",a.YGIug)){if(yGPdie.hORJa(_0x592c06.touches.length,2)){_0x4b2c8c[h(372)](),_0x1df0ac(),_0x15a7bd(),yGPdie[h(359)](_0x4dbd12),_0x387c67(),yGPdie[h(428)](_0x391432),_0x3bd27f(),_0x274a57(),_0x188fed.current=null,_0x4570aa.current=null;const z=_0x43be74.touches[0],A=_0x13dee5[h(362)][1],N=(z[h(418)]+A[h(418)])/2,B=yGPdie.JnsQL(yGPdie[h(432)](z.clientY,A[h(387)]),2),E=_0x13b9ef.hypot(A.clientX-z.clientX,A[h(387)]-z.clientY);_0x36a697.current={initialCenter:{x:N,y:B},initialDist:E,initialPan:{..._0x1552b4.current},initialZoom:_0x3708c1[h(356)]}}}else j.touches.length<2&&(g[h(356)]=null)},[]),H=.003,F=ee.useCallback(j=>{const h=r;j[h(372)]();const z=p.current;if(!z)return;const A=k[h(356)],N=A*Math[h(427)](-j.deltaY*H),B=pe(N,v[0],v[a[h(438)](v[h(378)],1)]);if(Math.abs(a.rOXnY(B,A))<1e-6)return;const E=z.getBoundingClientRect(),w=(j.clientX-E[h(393)])/E.width,L=a[h(425)](j[h(387)]-E[h(383)],E[h(423)]),O=E.width/E[h(423)],Y=ox,P=a.jSPoF(Y,O),te=a[h(361)](Yd,w,L,A,B,P,Y,d[h(356)]);k.current=B,d[h(356)]=te,a[h(398)](i,B),f(te)},[i,f,p,v]);ee.useEffect(()=>{const j=r,h={gLjqB:j(364),VSHwy:a.gjSTO,LKDfU:"wheel"},z=p[j(356)];if(z)return z[j(349)](j(364),K,{passive:!1}),z[j(349)]("touchmove",U,{passive:!1}),z.addEventListener(a.gjSTO,X),z.addEventListener(j(357),F,{passive:!1}),()=>{const A=j;z[A(411)](h[A(402)],K),z.removeEventListener(A(374),U),z[A(411)](h.VSHwy,X),z[A(411)](h[A(426)],F)}},[p,K,U,X,F]);const J=ee.useCallback(j=>{const h=r,z=G[h(356)],A=a[h(403)](pe,z+j,0,v[h(378)]-1);if(A===z)return;const N=k[h(356)],B=v[A],E=p.current;if(!E){a[h(419)](o,A);return}const w=E[h(394)](),L=a.ngXsr(w.width,w.height),O=ox,Y=O*L,P=Yd(.5,.5,N,B,Y,O,d.current);k.current=B,G[h(356)]=A,d[h(356)]=P,o(A),f(P)},[o,f,p,v]),W=ee.useCallback((j,h)=>{const z=r,A="2|3|4|1|0".split("|");let N=0;for(;;){switch(A[N++]){case"0":a[z(395)](f,{x:0,y:0});continue;case"1":o(j);continue;case"2":G.current=j;continue;case"3":k.current=h;continue;case"4":d[z(356)]={x:0,y:0};continue}break}},[o,f]),I=a[r(434)](ee.useCallback,j=>{const h=r;R[h(356)]=j},[]),Z=ee.useCallback(j=>{const h=r;if(a.ptISk("LXZJD",h(405)))q.current=j;else{const z=_0x31088a.current,A=_0x4cf941(HfMCZT[h(433)](z,_0x1abaab),0,_0x474d29.length-1);if(HfMCZT[h(413)](A,z))return;const N=_0xf55126[h(356)],B=_0x330a41[A],E=_0x479816.current;if(!E){HfMCZT.NCCRb(_0x5e2493,A);return}const w=E[h(394)](),L=w[h(386)]/w[h(423)],O=_0x918de3,Y=O*L,P=_0x403fad(.5,.5,N,B,Y,O,_0x3f3229[h(356)]);_0x49c1b1[h(356)]=B,_0x1213c2.current=A,_0x3513c4[h(356)]=P,_0x2812fd(A),HfMCZT[h(441)](_0x4ee17f,P)}},[]);return{multiTouchRef:g,touchBgStartRef:R,mouseBgStartRef:q,zoomAtCenter:J,resetView:W,setTouchBgStart:I,setMouseBgStart:Z}}function ci(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),f=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(f))return c;const o=1-r;return`#${Math.round(a*o).toString(16).padStart(2,"0")}${Math.round(i*o).toString(16).padStart(2,"0")}${Math.round(f*o).toString(16).padStart(2,"0")}`}function Nm(c){const{flower:r,project:a,paletteMap:i}=c,f=ee.useRef(null),o=ee.useRef(!1),v=ee.useRef(null);ee.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const p=ee.useMemo(()=>[...r.layers||[]].sort((G,R)=>G.order-R.order),[r.layers]),m=r.fabricSquareSize??a.fabricSquareSize,{length:b,width:S}=Rt(m),{flowerOuterR:_,centerHitR:y}=ee.useMemo(()=>{let G=12,R=1/0;for(const K of p){if(!K.visible)continue;const U=K.scale??1,X=b*U,F=Math.max(0,K.radius-X*.28),J=F+X;G=Math.max(G,J),F<R&&(R=F)}isFinite(R)||(R=0);const q=Math.max(R*.9,8);return{flowerOuterR:G,centerHitR:q}},[p,b]),M=(G,R)=>G?.petalOverrides?.find(q=>q.index===R)??null,D="pointer",g=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,d=c.zoneCursorValue??"grab",k=G=>{if(G.stopPropagation(),G.button===0){if(G.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(G)}};return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:G=>{G.stopPropagation(),c.onDoubleClick?.()},style:{cursor:g?d:ur("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,_),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),p.map(G=>{if(!G.visible)return null;const q=i.get(G.colorId)?.hex??"#999",K=360/Math.max(1,G.petalCount),U=G.scale??1,X=b*U,F=S*(G.widthScale??1)*U,W=Math.max(0,G.radius-X*.28),I=cr(""),Z=cr(""),j=W+X,h=c.isSelected&&c.selectedLayerId===G.id,z=c.isSelected&&(c.selectedPetal?.layerId===G.id||(c.selectedPetals?.some(A=>A.layerId===G.id)??!1));return x.jsxs("g",{children:[Array.from({length:G.petalCount}).map((A,N)=>{const B=M(G,N),w=(B?.petalType??G.petalType)===""?I:Z,L=i.get(B?.colorId??G.colorId)?.hex??q,O=G.offsetAngle+N*K,Y=na(O),P=Math.cos(Y)*W,te=Math.sin(Y)*W,xe=c.isSelected&&c.selectedPetal?.layerId===G.id&&c.selectedPetal?.index===N,oe=c.isSelected&&(c.selectedPetals?.some(he=>he.layerId===G.id&&he.index===N)??!1),fe=xe||oe,be=g?d:ur("/tsumami/");return x.jsxs("g",{transform:`translate(${P} ${te}) rotate(${O})`,children:[x.jsx("path",{d:w,transform:`scale(${X} ${F})`,fill:L,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:G.locked?.55:.95,style:{cursor:be},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const ve=he.shiftKey,Ne=he.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),o.current=!1,ve&&c.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),c.onTogglePetalSelection(G.id,N,!0);return}if(Ne&&c.onTogglePetalSelection){v.current={x:he.clientX,y:he.clientY};const it=G.id,Tt=N;f.current=window.setTimeout(()=>{o.current=!0,f.current=null,c.onTogglePetalSelection?.(it,Tt,!0),navigator.vibrate?.(30)},500)}const Ie=c.isSelected&&c.selectedLayerId!=null,nt=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||Ie||nt){c.onBeginDragFromLayerPetal(G.id,N,he);return}c.onBeginDragFromLayerPetal(G.id,N,he)},onPointerMove:he=>{if(f.current&&v.current){const ve=he.clientX-v.current.x,Ne=he.clientY-v.current.y;Math.hypot(ve,Ne)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:he=>{he.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(G.id)}}),G.doublePetal&&(()=>{const he=G.doublePetal,ve=B?.innerSizeReduction??he.innerSizeReduction??2,Ne=m*(U||1);if(Ne<=0)return null;const nt=Math.max(Ne*.3,Ne-ve)/Ne,mt=w,it=B?.innerColorId??he.innerColorId??B?.colorId??G.colorId,Tt=i.get(it)?.hex??L,lt=X*nt,wt=F*nt;return x.jsx("path",{d:mt,transform:`scale(${lt} ${wt})`,fill:Tt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:G.locked?.55:.95,pointerEvents:"none"})})(),(fe||h||c.isFlowerSelected)&&x.jsx("path",{d:w,transform:`scale(${X} ${F})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${G.id}-${N}`)]},N)}),h&&!z&&x.jsx("circle",{r:j,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},G.id)}),c.isFlowerSelected&&x.jsx("circle",{r:_,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const G=r.center,R=kh(G.size),q=i.get(G.color)?.hex??"#D4A843",K=G.color2?i.get(G.color2)?.hex??"#C0C0C0":"#D4A843",U=Math.max(R,y);switch(G.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:R,fill:q,stroke:ci(q,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:U,fill:"transparent",style:{cursor:D},onPointerDown:k})]});case"":{const H=R*.42,F=R,J=R*.12,W=R*.13,I=R*.45,Z=K,j=q;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((h,z)=>{const A=z/10*360,N=na(A),B=Math.cos(N)*F,E=Math.sin(N)*F,w=-Math.sin(N)*J,L=Math.cos(N)*J,O=Math.cos(N)*H,Y=Math.sin(N)*H;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(O+w).toFixed(2)} ${(Y+L).toFixed(2)} L ${B.toFixed(2)} ${E.toFixed(2)} L ${(O-w).toFixed(2)} ${(Y-L).toFixed(2)} Z`,fill:Z,stroke:ci(Z,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:B,cy:E,r:W,fill:Z,stroke:ci(Z,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},z)}),x.jsx("circle",{r:H,fill:Z,stroke:ci(Z,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:I,fill:j,stroke:ci(j,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:U,fill:"transparent",style:{cursor:D},onPointerDown:k})]})}case"":{const X=G.pepCount??12,H=R*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:X}).map((F,J)=>{const W=J/X*360,I=na(W),Z=Math.cos(I)*R,j=Math.sin(I)*R;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:Z,y2:j,stroke:q,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:Z,cy:j,r:Math.max(H,1),fill:q,stroke:ci(q,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},J)})}),x.jsx("circle",{r:U,fill:"transparent",style:{cursor:D},onPointerDown:k})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:y,fill:"transparent",style:{cursor:D},onPointerDown:k})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:y,fill:"transparent",style:{cursor:D},onPointerDown:k})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const G=p.find(H=>H.id===c.selectedLayerId);if(!G||!G.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const q=G.scale??1,K=b*q,X=Math.max(0,G.radius-K*.28);return X<=0?null:x.jsx("circle",{r:X,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,_+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Am(c){const{leaf:r,project:a,paletteMap:i}=c,f=r.fabricSquareSize??a.fabricSquareSize,{length:o,width:v}=Rt(f),p=r.scale??1,m=o*p,b=v*(r.widthScale??1)*p,S=cr(r.petalType),_=i.get(r.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??ur("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:y=>{if(y.stopPropagation(),y.button===0&&!r.locked){if(y.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(y)}},children:[x.jsx("path",{d:S,transform:`scale(${m} ${b})`,fill:_,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const y=r.doublePetal,M=y.innerSizeReduction??2,D=f*(p||1);if(D<=0)return null;const d=Math.max(D*.3,D-M)/D,k=y.innerColorId??r.colorId,G=i.get(k)?.hex??_,R=m*d,q=b*d;return x.jsx("path",{d:S,transform:`scale(${R} ${q})`,fill:G,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&(()=>{const M=-.06*m,D=-.6000000000000001*b,g=(1.02+.06*2)*m,d=(.54+.06)*2*b;return x.jsx("rect",{x:M,y:D,width:g,height:d,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${r.id}`)})(),c.isSelected&&(()=>{const M=-.02*m,D=-.56*b,g=(1.02+.02*2)*m,d=(.54+.02)*2*b;return x.jsxs(x.Fragment,{children:[x.jsx("rect",{x:M,y:D,width:g,height:d,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`sel-rect-${c.dashSyncToken??0}-${r.id}`),x.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})})()]})}const al=1350;function Lm(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:f,applyUpdateRef:o,clientToSvgPointRef:v,stencilDraggingRef:p,onSelectStencil:m}=c,b=ee.useRef(null);ee.useEffect(()=>()=>{b.current?.()},[]);const S=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return x.jsx(x.Fragment,{children:r.map(_=>{const y=Mm(_.variant,_.pose),M=a===_.id,D=sn,g=y.imageUrl?1:y.scaleX,d=S||!!_.locked;return x.jsx("g",{transform:`translate(${_.position.x} ${_.position.y}) scale(${D*g} ${D})`,style:{cursor:S?"default":_.locked?"pointer":rm("/tsumami/"),pointerEvents:S?"none":"auto"},"data-testid":`stencil-${_.id}`,onPointerDown:k=>{if(k.button!==0)return;if(d){m(_.id);return}if(k.stopPropagation(),m(_.id),!f.current)return;p.current=!0,f.current&&(f.current.style.cursor=cm("/tsumami/"));const R=v.current(k),q={..._.position},K=_.id;let U=q.x,X=q.y;const H=J=>{const W=v.current(J),I=W.x-R.x,Z=W.y-R.y;U=pe(q.x+I,0,al),X=pe(q.y+Z,0,al),o.current(j=>{const h=(j.stencils??[]).find(z=>z.id===K);h&&(h.position.x=U,h.position.y=X)},!1)},F=()=>{p.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",F),b.current=null,o.current(J=>{const W=(J.stencils??[]).find(I=>I.id===K);W&&(W.position.x=U,W.position.y=X)},!0)};document.addEventListener("pointermove",H),document.addEventListener("pointerup",F),b.current=()=>{p.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",F)}},children:y.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:y.imageUrl,x:-y.imageWidthMm/2,y:0,width:y.imageWidthMm,height:y.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-y.imageWidthMm/2,y:0,width:y.imageWidthMm,height:y.imageHeightMm,fill:"transparent",stroke:M?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:y.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:y.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),M&&x.jsx("path",{d:y.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},_.id)})})}function Tm(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:v,dashSyncToken:p,stageRef:m,multiTouchRef:b,clientToSvgPoint:S,togglePetalSelection:_,handleShiftFlowerSelect:y,groupHighlightedFlowerIds:M,beginFlowerDrag:D,beginScaleDrag:g,beginRotationDrag:d,beginWidthScaleDrag:k,beginRadiusDrag:G,clickOriginRef:R,zoneActivatedRef:q,setZoneCursorValue:K,setTouchZoneIndicator:U,hoverZoneRef:X,hoverHitLayerIdRef:H,hoverHitPetalIndexRef:F}=c;return x.jsx(x.Fragment,{children:r.flowers.map(J=>x.jsx(Nm,{flower:J,project:r,paletteMap:f,isSelected:a.kind!=="project"&&o===J.id||a.kind==="flowers"&&a.flowerIds.includes(J.id)||a.kind==="mixed"&&a.flowerIds.includes(J.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===J.id||a.kind==="flowers"&&a.flowerIds.includes(J.id)||a.kind==="mixed"&&a.flowerIds.includes(J.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===J.id?a.petals:null,onSelect:()=>{const W=cl(r,J.id);if(W&&!(a.kind==="group"&&a.groupId===W.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&W.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:W.id});return}i({kind:"flower",flowerId:J.id})},onSelectLayer:W=>i({kind:"layer",flowerId:J.id,layerId:W}),onSelectPetal:(W,I)=>i({kind:"petal",flowerId:J.id,layerId:W,index:I}),onTogglePetalSelection:(W,I,Z)=>_(J.id,W,I,Z),onShiftSelect:()=>y(J.id),isGroupHighlighted:M.has(J.id),zoneCursorValue:v,onBeginDragFromLayerPetal:(W,I,Z)=>{if(b.current)return;const j=cl(r,J.id);if(j&&!(a.kind==="group"&&a.groupId===j.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&j.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:j.id}),D(J.id,Z);return}const h=S(Z),z=Z.pointerType==="touch",A=a.kind==="flower"&&a.flowerId===J.id||a.kind==="layer"&&a.flowerId===J.id||a.kind==="petal"&&a.flowerId===J.id||a.kind==="petals"&&a.flowerId===J.id;if(z&&A){const{zone:E,layerId:w,petalIndex:L}=ui(h.x,h.y,J,r,a),{length:O}=Rt(J.fabricSquareSize??r.fabricSquareSize),Y=M0(E,a.kind,{hitLayerId:w,flower:J,length:O});if(Y!=="none"&&Y!=="center"&&Y!=="move"){U({x:h.x,y:h.y,zone:Y});const P=a.kind==="layer"?"layer":"flower",te=a.kind==="layer"?a.layerId:W;switch(Y){case"rotate":d(P,J.id,Z,{layerId:te});return;case"scale":g(P,J.id,Z,{layerId:te});return;case"width":k(P,J.id,Z,{layerId:te,petalIndex:L});return;case"radius":G(P,J.id,Z,{layerId:te});return}}D(J.id,Z,{layerId:W,index:I});return}const N=q.current;R.current={x:h.x,y:h.y},q.current=!1;const B=X.current;if(A&&(N||B!=="none"&&B!=="center")){const E=B,w=H.current,L=F.current,O=a.kind==="layer"?"layer":"flower",Y=a.kind==="layer"?a.layerId:w??W;switch(E){case"rotate":d(O,J.id,Z,{layerId:Y});return;case"scale":g(O,J.id,Z,{layerId:Y});return;case"width":k(O,J.id,Z,{layerId:Y,petalIndex:L});return;case"radius":G(O,J.id,Z,{layerId:Y});return;default:K(Hn("/tsumami/")),m.current&&(m.current.style.cursor=Hn("/tsumami/")),D(J.id,Z,{layerId:W,index:I});return}}K(Hn("/tsumami/")),m.current&&(m.current.style.cursor=Hn("/tsumami/")),D(J.id,Z,{layerId:W,index:I})},onDoubleClick:()=>i({kind:"flower",flowerId:J.id}),onPointerDown:W=>{if(b.current||W.button!==0)return;if(W.shiftKey){W.stopPropagation(),y(J.id);return}const I=cl(r,J.id);if(I&&!(a.kind==="group"&&a.groupId===I.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&I.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:I.id}),D(J.id,W);return}a.kind==="flower"&&a.flowerId===J.id||a.kind==="layer"&&a.flowerId===J.id||a.kind==="flowers"&&a.flowerIds.includes(J.id)||i({kind:"flower",flowerId:J.id});const j=S(W);R.current={x:j.x,y:j.y},q.current=!1,K(Hn("/tsumami/")),m.current&&(m.current.style.cursor=Hn("/tsumami/")),D(J.id,W)},dashSyncToken:p},J.id))})}function Em(c){const{leaves:r,project:a,selection:i,paletteMap:f,dashSyncToken:o,groupHighlightedLeafIds:v,zoneCursorValue:p,stageRef:m,applyUpdateRef:b,clientToSvgPointRef:S,leafDraggingRef:_,clickOriginRef:y,zoneActivatedRef:M,setZoneCursorValue:D,onSelectLeaf:g,onSelectGroup:d,onShiftSelectLeaf:k,hoverLeafZoneRef:G}=c,R=ee.useRef(null);return ee.useEffect(()=>()=>{R.current?.()},[]),x.jsx(x.Fragment,{children:r.map(q=>{if(!q.visible)return null;const K=i.kind==="leaf"&&i.leafId===q.id,U=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(q.id),X=v.has(q.id),H=Nl(a,q.id),F=H?.rotation??0;let J=q;if(H&&F!==0){const W=zh(a,H.id),I=F*Math.PI/180,Z=q.position.x-W.x,j=q.position.y-W.y;J={...q,position:{x:W.x+Z*Math.cos(I)-j*Math.sin(I),y:W.y+Z*Math.sin(I)+j*Math.cos(I)},rotation:q.rotation+F}}return x.jsx(Am,{leaf:J,project:a,paletteMap:f,isSelected:K||U,isLeafGroupHighlighted:X,dashSyncToken:o,cursor:K?p:void 0,onPointerDown:W=>{if(q.locked)return;W.stopPropagation();const I=S.current(W);if(H&&!(i.kind==="group"&&i.groupId===H.id||i.kind==="leaf"&&H.leafIds.includes(i.leafId))){d(H.id),_.current=!0,y.current={x:I.x,y:I.y},M.current=!1,D(Hn("/tsumami/")),m.current&&(m.current.style.cursor=Hn("/tsumami/"));const A=I,N=Rd(a,q.id),B=new Map;for(const Y of N){const P=r.find(te=>te.id===Y);P&&B.set(Y,{...P.position})}const E=new Map;if(H)for(const Y of H.flowerIds){const P=a.flowers.find(te=>te.id===Y);P&&E.set(Y,{...P.position})}let w=!1;const L=Y=>{const P=S.current(Y),te=P.x-A.x,xe=P.y-A.y;Math.abs(te)+Math.abs(xe)>1&&(w=!0),b.current(oe=>{for(const[fe,be]of B){const he=(oe.leaves??[]).find(ve=>ve.id===fe);he&&(he.position.x=pe(be.x+te,0,al),he.position.y=pe(be.y+xe,0,al))}for(const[fe,be]of E){const he=oe.flowers.find(ve=>ve.id===fe);he&&(he.position.x=pe(be.x+te,0,al),he.position.y=pe(be.y+xe,0,al))}},!1)},O=()=>{R.current=null,_.current=!1,document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",O),w&&b.current(()=>{},!0)};document.addEventListener("pointermove",L),document.addEventListener("pointerup",O),R.current=()=>{_.current=!1,document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",O)};return}const Z=K&&M.current;g(q.id),y.current={x:I.x,y:I.y},M.current=!1,D(Hn("/tsumami/")),m.current&&(m.current.style.cursor=Hn("/tsumami/"));const j=G.current,h=K&&(Z||j!=="none")?j:"move";if(h!=="move"){const z=nr(h,"/tsumami/");D(z),m.current&&(m.current.style.cursor=z)}if(_.current=!0,h==="rotate"){const z=J.position,A=q.rotation,N=Math.atan2(I.y-z.y,I.x-z.x)*180/Math.PI;let B=!1;const E=L=>{const O=S.current(L),P=Math.atan2(O.y-z.y,O.x-z.x)*180/Math.PI-N;Math.abs(P)>.5&&(B=!0),b.current(te=>{const xe=(te.leaves??[]).find(oe=>oe.id===q.id);xe&&(xe.rotation=((A+P)%360+360)%360)},!1)},w=()=>{R.current=null,_.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",w),B&&b.current(()=>{},!0)};document.addEventListener("pointermove",E),document.addEventListener("pointerup",w),R.current=()=>{_.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",w)}}else if(h==="scale"){const z=J.position,A=q.scale??1,N=Math.max(1,Math.hypot(I.x-z.x,I.y-z.y));let B=!1;const E=L=>{const O=S.current(L),P=Math.hypot(O.x-z.x,O.y-z.y)/N;Math.abs(P-1)>.01&&(B=!0),b.current(te=>{const xe=(te.leaves??[]).find(oe=>oe.id===q.id);xe&&(xe.scale=pe(A*P,.3,3))},!1)},w=()=>{R.current=null,_.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",w),B&&b.current(()=>{},!0)};document.addEventListener("pointermove",E),document.addEventListener("pointerup",w),R.current=()=>{_.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",w)}}else if(h==="width"){const z=J.position,A=q.rotation*Math.PI/180,N=-Math.sin(A),B=Math.cos(A),E=q.widthScale??1,w=Math.abs((I.x-z.x)*N+(I.y-z.y)*B),L=Math.max(1,w);let O=!1;const Y=te=>{const xe=S.current(te),fe=Math.abs((xe.x-z.x)*N+(xe.y-z.y)*B)/L;Math.abs(fe-1)>.01&&(O=!0),b.current(be=>{const he=(be.leaves??[]).find(ve=>ve.id===q.id);he&&(he.widthScale=pe(E*fe,.3,3))},!1)},P=()=>{R.current=null,_.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",P),O&&b.current(()=>{},!0)};document.addEventListener("pointermove",Y),document.addEventListener("pointerup",P),R.current=()=>{_.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",P)}}else{const z=I,A=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(q.id)?i.leafIds:Rd(a,q.id),N=new Map;for(const Y of A){const P=r.find(te=>te.id===Y);P&&N.set(Y,{...P.position})}const B=new Map,E=Nl(a,q.id);if(E)for(const Y of E.flowerIds){const P=a.flowers.find(te=>te.id===Y);P&&B.set(Y,{...P.position})}let w=!1;const L=Y=>{const P=S.current(Y),te=P.x-z.x,xe=P.y-z.y;Math.abs(te)+Math.abs(xe)>1&&(w=!0),b.current(oe=>{for(const[fe,be]of N){const he=(oe.leaves??[]).find(ve=>ve.id===fe);he&&(he.position.x=pe(be.x+te,0,al),he.position.y=pe(be.y+xe,0,al))}for(const[fe,be]of B){const he=oe.flowers.find(ve=>ve.id===fe);he&&(he.position.x=pe(be.x+te,0,al),he.position.y=pe(be.y+xe,0,al))}},!1)},O=()=>{R.current=null,_.current=!1,document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",O),w&&b.current(()=>{},!0)};document.addEventListener("pointermove",L),document.addEventListener("pointerup",O),R.current=()=>{_.current=!1,document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",O)}}},onShiftSelect:()=>k(q.id)},q.id)})})}function Bm({rect:c}){return c?x.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function km({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?x.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}function qm(c){const{project:r,selection:a,selectedFlowerId:i,dashSyncToken:f}=c,o=ee.useMemo(()=>i?r.flowers.find(y=>y.id===i)??null:null,[r.flowers,i]),v=ee.useMemo(()=>{if(a.kind==="flowers")return r.flowers.filter(y=>a.flowerIds.includes(y.id));if(a.kind==="mixed")return r.flowers.filter(y=>a.flowerIds.includes(y.id));if(a.kind==="group"){const y=(r.groups??[]).find(M=>M.id===a.groupId);if(y)return r.flowers.filter(M=>y.flowerIds.includes(M.id))}return[]},[r.flowers,r.groups,a]);if(!o&&v.length===0)return null;const p=a.kind==="flower"&&o?.id===i,m=a.kind==="layer"?a.layerId:null,b=a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,S=a.kind==="petals"&&o?a.petals:null,_=o&&(p||m!=null||b!=null||S&&S.length>0);return x.jsxs("g",{pointerEvents:"none",children:[v.map(y=>x.jsx(Ud,{flower:y,project:r,isFlowerSelected:!0,selectedLayerId:null,selectedPetal:null,selectedPetals:null,dashSyncToken:f},`overlay-multi-${y.id}`)),_&&o&&x.jsx(Ud,{flower:o,project:r,isFlowerSelected:p,selectedLayerId:m,selectedPetal:b,selectedPetals:S,dashSyncToken:f},`overlay-single-${o.id}`)]})}function Ud(c){const{flower:r,project:a,isFlowerSelected:i,selectedLayerId:f,selectedPetal:o,selectedPetals:v,dashSyncToken:p}=c,m=ee.useMemo(()=>[...r.layers||[]].sort((k,G)=>k.order-G.order),[r.layers]),b=r.fabricSquareSize??a.fabricSquareSize,{length:S,width:_}=Rt(b),y=ee.useMemo(()=>{let k=12;for(const G of m){if(!G.visible)continue;const R=G.scale??1,q=S*R,X=Math.max(0,G.radius-q*.28)+q;k=Math.max(k,X)}return k},[m,S]),M=i||f!=null||o!=null||v&&v.length>0,D=cr(""),g=cr(""),d=(k,G)=>k?.petalOverrides?.find(R=>R.index===G)??null;return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,children:[M&&o==null&&!v?.length&&x.jsx("circle",{r:Math.max(12,y),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke"}),m.map(k=>{if(!k.visible)return null;const G=360/Math.max(1,k.petalCount),R=k.scale??1,q=S*R,U=_*(k.widthScale??1)*R,H=Math.max(0,k.radius-q*.28),F=H+q,J=f===k.id,W=o?.layerId===k.id||(v?.some(I=>I.layerId===k.id)??!1);return x.jsxs("g",{children:[Array.from({length:k.petalCount}).map((I,Z)=>{const z=(d(k,Z)?.petalType??k.petalType)===""?D:g,A=k.offsetAngle+Z*G,N=na(A),B=Math.cos(N)*H,E=Math.sin(N)*H,w=o?.layerId===k.id&&o?.index===Z,L=v?.some(Y=>Y.layerId===k.id&&Y.index===Z)??!1;return w||L||J||i?x.jsx("g",{transform:`translate(${B} ${E}) rotate(${A})`,children:x.jsx("path",{d:z,transform:`scale(${q} ${U})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95},`dash-overlay-${p}-${k.id}-${Z}`)},Z):null}),J&&!W&&x.jsx("circle",{r:F,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})]},k.id)}),i&&x.jsx("circle",{r:y,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke"}),(()=>{if(!f)return null;const k=m.find(X=>X.id===f);if(!k||!k.visible||o!=null||(v?.length??0)>0)return null;const R=k.scale??1,q=S*R,U=Math.max(0,k.radius-q*.28);return U<=0?null:x.jsx("circle",{r:U,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})})()]})}const Sa=1350;function Im(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,setZoom:v,zoomLevel:p,setZoomLevel:m,ZOOM_LEVELS:b,setPan:S,showGrid:_,setShowGrid:y,setShowHelp:M,stageRef:D,viewBox:g,dashDelay:d,dashSyncToken:k,beginPan:G,updatePan:R,endPan:q,beginMarquee:K,updateMarquee:U,endMarquee:X,marqueeRef:H,marqueeRect:F,beginFlowerDrag:J,updateFlowerDrag:W,endFlowerDrag:I,scaleDragRef:Z,updateScaleDrag:j,endScaleDrag:h,rotationDragRef:z,updateRotationDrag:A,endRotationDrag:N,widthScaleDragRef:B,updateWidthScaleDrag:E,endWidthScaleDrag:w,radiusDragRef:L,updateRadiusDrag:O,endRadiusDrag:Y,beginScaleDrag:P,beginRotationDrag:te,beginWidthScaleDrag:xe,beginRadiusDrag:oe,togglePetalSelection:fe,clientToSvgPoint:be}=c,he=ee.useRef(!1),ve=ee.useRef(!1),Ne=ee.useRef(c.applyUpdate),Ie=ee.useRef(be);ee.useEffect(()=>{Ne.current=c.applyUpdate},[c.applyUpdate]),ee.useEffect(()=>{Ie.current=be},[be]);const[nt,mt]=ee.useState(!1),it=ee.useRef(null);ee.useEffect(()=>{if(!nt)return;const de=ke=>{it.current&&!it.current.contains(ke.target)&&mt(!1)};return document.addEventListener("mousedown",de),()=>document.removeEventListener("mousedown",de)},[nt]);const[Tt,lt]=ee.useState("grab"),wt=ee.useRef("none"),Jt=ee.useRef("none"),jn=ee.useRef(void 0),on=ee.useRef(void 0),Ze=ee.useRef(null),Wt=ee.useRef(!0),Yn=5,Zt=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,Un=ee.useRef(Zt);ee.useEffect(()=>{Zt!==Un.current&&(Un.current=Zt,Wt.current=!1,Ze.current=null,wt.current="none",Jt.current="none",jn.current=void 0,on.current=void 0)},[Zt]);const[Fn,xl]=ee.useState(!1),fn=ee.useRef(!1),[aa,dn]=ee.useState(null),Nt=5,Mn=10,He=Dm({zoom:c.zoom,pan:c.pan,setZoom:v,setPan:S,zoomLevel:p,setZoomLevel:m,ZOOM_LEVELS:b,stageRef:D,endPan:q,endFlowerDrag:I,endMarquee:X,endRotationDrag:N,endScaleDrag:h,endWidthScaleDrag:w,endRadiusDrag:Y});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p>=b.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>He.zoomAtCenter(1),disabled:p>=b.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>He.zoomAtCenter(-1),disabled:p<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${_?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>y(de=>!de),title:"","aria-label":"","aria-pressed":_,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>He.resetView(5,b[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:it,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${nt?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>mt(de=>!de),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),nt&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(de=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:t1[de]}),["right","left","back"].map(ke=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(de,ke),mt(!1)},"data-testid":`stencil-add-${de}-${ke}`,children:n1[ke]},`${de}-${ke}`))]},de)),c.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),mt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>M(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:_?"24px 1fr":"1fr",gridTemplateRows:_?"20px 1fr":"1fr"},children:[_&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),_&&(()=>{const[de,,ke,qe]=g.split(/\s+/).map(Number),we=sn,_e=Math.max(ke,qe)/we,ze=[10,20,50,100,200,500,1e3].find(Te=>_e/Te<=15)??1e3,Ce=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Fe=ze<=10?5:ze/2,$e=Math.floor(de/we/Ce)*Ce-Ce,Je=Math.ceil((de+ke)/we/Ce)*Ce+Ce,We=[];for(let Te=$e;Te<=Je;Te+=Ce){const et=(Te*we-de)/ke*100;if(et<-2||et>102)continue;const At=Math.abs(Te),ut=At%ze===0,at=At%Fe===0,gt=ut?10:at?6:3;We.push(x.jsx("line",{x1:`${et}%`,y1:20-gt,x2:`${et}%`,y2:20,stroke:"#999",strokeWidth:ut?.8:.4},Te)),ut&&We.push(x.jsx("text",{x:`${et}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Te},`t${Te}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:We})})(),_&&(()=>{const[,de,ke,qe]=g.split(/\s+/).map(Number),we=sn,_e=Math.max(ke,qe)/we,ze=[10,20,50,100,200,500,1e3].find(Te=>_e/Te<=15)??1e3,Ce=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Fe=ze<=10?5:ze/2,$e=Math.floor(de/we/Ce)*Ce-Ce,Je=Math.ceil((de+qe)/we/Ce)*Ce+Ce,We=[];for(let Te=$e;Te<=Je;Te+=Ce){const et=(Te*we-de)/qe*100;if(et<-2||et>102)continue;const At=Math.abs(Te),ut=At%ze===0,at=At%Fe===0,gt=ut?10:at?6:3;We.push(x.jsx("line",{x1:24-gt,y1:`${et}%`,x2:24,y2:`${et}%`,stroke:"#999",strokeWidth:ut?.8:.4},Te)),ut&&We.push(x.jsx("text",{x:12,y:`${et}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Te},`t${Te}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:We})})(),x.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:g,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":d,cursor:Fn?"crosshair":"grab"},onDoubleClick:de=>{de.target===de.currentTarget&&(xl(ke=>!ke),i({kind:"project"}))},onPointerDown:de=>{if(He.multiTouchRef.current)return;if(de.button===1){fn.current=!0,D.current&&(D.current.style.cursor="grabbing"),G(de);return}if(de.button!==0)return;const ke=de.pointerType==="touch";if(ke&&de.target===de.currentTarget&&o){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const we=r.flowers.find(_e=>_e.id===o);if(we){const _e=be(de),{zone:Le,layerId:ze,petalIndex:Ce}=ui(_e.x,_e.y,we,r,a),{length:Fe}=Rt(we.fabricSquareSize??r.fabricSquareSize),$e=M0(Le,a.kind,{hitLayerId:ze,flower:we,length:Fe});if($e!=="none"&&$e!=="center"){dn({x:_e.x,y:_e.y,zone:$e});const Je=a.kind==="layer"?"layer":"flower",We=a.kind==="layer"?a.layerId:ze;switch($e){case"rotate":te(Je,o,de,{layerId:We});return;case"scale":P(Je,o,de,{layerId:We});return;case"width":xe(Je,o,de,{layerId:We,petalIndex:Ce});return;case"radius":oe(Je,o,de,{layerId:We});return;case"move":J(o,de);return}}}}He.setTouchBgStart({x:de.clientX,y:de.clientY}),G(de);return}if(de.target===de.currentTarget&&o&&Tt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const we=wt.current;if(we!=="none"&&we!=="center"){const _e=a.kind==="layer"?"layer":"flower",Le=a.kind==="layer"?a.layerId:jn.current;switch(we){case"rotate":te(_e,o,de,{layerId:Le});return;case"scale":P(_e,o,de,{layerId:Le});return;case"width":xe(_e,o,de,{layerId:Le,petalIndex:on.current});return;case"radius":oe(_e,o,de,{layerId:Le});return;case"move":J(o,de);return}}}if(de.target===de.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&Tt!=="grab"){const qe=Jt.current;if(qe!=="none"){const we=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(we){de.preventDefault();const _e=be(de);if(ve.current=!0,qe==="rotate"){const Le=we.position,ze=we.rotation,Ce=Math.atan2(_e.y-Le.y,_e.x-Le.x)*180/Math.PI,Fe=we.id,$e=nr(qe,"/tsumami/");lt($e),D.current&&(D.current.style.cursor=$e);let Je=!1;const We=Gt=>{const et=be(Gt),ut=Math.atan2(et.y-Le.y,et.x-Le.x)*180/Math.PI-Ce;Math.abs(ut)>.5&&(Je=!0),c.applyUpdate(at=>{const gt=(at.leaves??[]).find(zn=>zn.id===Fe);gt&&(gt.rotation=((ze+ut)%360+360)%360)},!1)},Te=()=>{ve.current=!1,document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",Te),Je&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",We),document.addEventListener("pointerup",Te);return}else if(qe==="scale"){const Le=we.position,ze=we.scale??1,Ce=Math.max(1,Math.hypot(_e.x-Le.x,_e.y-Le.y)),Fe=we.id,$e=nr(qe,"/tsumami/");lt($e),D.current&&(D.current.style.cursor=$e);let Je=!1;const We=Gt=>{const et=be(Gt),ut=Math.hypot(et.x-Le.x,et.y-Le.y)/Ce;Math.abs(ut-1)>.01&&(Je=!0),c.applyUpdate(at=>{const gt=(at.leaves??[]).find(zn=>zn.id===Fe);gt&&(gt.scale=Math.max(.3,Math.min(3,ze*ut)))},!1)},Te=()=>{ve.current=!1,document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",Te),Je&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",We),document.addEventListener("pointerup",Te);return}else if(qe==="width"){const Le=we.position,ze=we.rotation*Math.PI/180,Ce=-Math.sin(ze),Fe=Math.cos(ze),$e=we.widthScale??1,Je=Math.max(1,Math.abs((_e.x-Le.x)*Ce+(_e.y-Le.y)*Fe)),We=we.id,Te=nr(qe,"/tsumami/");lt(Te),D.current&&(D.current.style.cursor=Te);let Gt=!1;const et=ut=>{const at=be(ut),zn=Math.abs((at.x-Le.x)*Ce+(at.y-Le.y)*Fe)/Je;Math.abs(zn-1)>.01&&(Gt=!0),c.applyUpdate(Ca=>{const Ft=(Ca.leaves??[]).find(De=>De.id===We);Ft&&(Ft.widthScale=Math.max(.3,Math.min(3,$e*zn)))},!1)},At=()=>{ve.current=!1,document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",At),Gt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",et),document.addEventListener("pointerup",At);return}else{const Le=_e,ze={...we.position},Ce=we.id;lt(Hn("/tsumami/")),D.current&&(D.current.style.cursor=Hn("/tsumami/"));let Fe=!1;const $e=We=>{const Te=be(We),Gt=Te.x-Le.x,et=Te.y-Le.y;Math.abs(Gt)+Math.abs(et)>1&&(Fe=!0),c.applyUpdate(At=>{const ut=(At.leaves??[]).find(at=>at.id===Ce);ut&&(ut.position.x=Math.max(0,Math.min(Sa,ze.x+Gt)),ut.position.y=Math.max(0,Math.min(Sa,ze.y+et)))},!1)},Je=()=>{ve.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Je),Fe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Je);return}}}}if(de.target===de.currentTarget){ke?(He.setTouchBgStart({x:de.clientX,y:de.clientY}),G(de)):Fn?K(de):(He.setMouseBgStart({x:de.clientX,y:de.clientY}),fn.current=!0,D.current&&(D.current.style.cursor="grabbing"),G(de));return}},onPointerMove:de=>{if(he.current||ve.current)return;if(H.current){U(de);return}if(z.current){A(de);return}if(Z.current){j(de);return}if(B.current){E(de);return}if(L.current){O(de);return}W(de),R(de);const ke=!!c.dragRef?.current||!!H.current||!!z.current||!!Z.current||!!B.current||!!L.current||fn.current,qe=o&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!ke&&qe){const we=r.flowers.find(_e=>_e.id===o);if(we){const _e=be(de);if(Ze.current&&!Wt.current){if(Math.hypot(_e.x-Ze.current.x,_e.y-Ze.current.y)<Yn){const{zone:Te}=ui(_e.x,_e.y,we,r,a);Te==="center"&&(lt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}Wt.current=!0,Ze.current=null}const{zone:Le,layerId:ze,petalIndex:Ce}=ui(_e.x,_e.y,we,r,a),{length:Fe}=Rt(we.fabricSquareSize??r.fabricSquareSize),$e=M0(Le,a.kind,{hitLayerId:ze,flower:we,length:Fe});$e!=="none"&&(wt.current=$e,jn.current=ze,on.current=Ce);const Je=Hd($e,"/tsumami/");lt(Je),D.current&&(D.current.style.cursor=Je)}}if(!ke&&a.kind==="leaf"&&c.selectedLeafId){const we=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(we){const _e=be(de);if(Ze.current&&!Wt.current){if(Math.hypot(_e.x-Ze.current.x,_e.y-Ze.current.y)<Yn)return;Wt.current=!0,Ze.current=null}const Le=im(_e.x,_e.y,we,r);Le!=="none"&&(Jt.current=Le);const ze=nr(Le,"/tsumami/");lt(ze),D.current&&(D.current.style.cursor=ze)}}},onPointerUp:de=>{if(!he.current&&!ve.current){if(dn(null),H.current&&Fn&&xl(!1),X(),N(),h(),w(),Y(),I(),q(),fn.current&&(fn.current=!1,D.current&&(D.current.style.cursor=Fn?"crosshair":"grab")),He.touchBgStartRef.current&&de.pointerType==="touch"){const ke=de.clientX-He.touchBgStartRef.current.x,qe=de.clientY-He.touchBgStartRef.current.y;Math.hypot(ke,qe)<Mn&&i({kind:"project"}),He.setTouchBgStart(null);return}if(He.setTouchBgStart(null),He.mouseBgStartRef.current&&de.pointerType==="mouse"){const ke=de.clientX-He.mouseBgStartRef.current.x,qe=de.clientY-He.mouseBgStartRef.current.y;if(He.setMouseBgStart(null),Math.hypot(ke,qe)<Nt){i({kind:"project"});return}}if(He.setMouseBgStart(null),o){const ke=r.flowers.find(qe=>qe.id===o);if(ke){const qe=be(de);if(Ze.current&&Math.hypot(qe.x-Ze.current.x,qe.y-Ze.current.y)<Yn){const{zone:Je}=ui(qe.x,qe.y,ke,r,a);Je==="center"&&(lt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:we,layerId:_e,petalIndex:Le}=ui(qe.x,qe.y,ke,r,a),{length:ze}=Rt(ke.fabricSquareSize??r.fabricSquareSize),Ce=M0(we,a.kind,{hitLayerId:_e,flower:ke,length:ze});Ce!=="none"&&(wt.current=Ce,jn.current=_e,on.current=Le);const Fe=Hd(Ce,"/tsumami/");lt(Fe),D.current&&(D.current.style.cursor=Fe)}}}},onPointerLeave:()=>{X(),N(),h(),w(),Y(),I(),q(),fn.current=!1,He.setTouchBgStart(null),He.setMouseBgStart(null),lt("grab"),Ze.current=null,Wt.current=!0,wt.current="none",Jt.current="none",jn.current=void 0,on.current=void 0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[de,ke,qe,we]=g.split(/\s+/).map(Number),_e=Sa;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:de,y:ke,width:qe,height:we,fill:"white"}),x.jsx("rect",{x:0,y:0,width:_e,height:_e,fill:"black"})]})}),x.jsx("rect",{x:de,y:ke,width:qe,height:we,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:Sa,height:Sa,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:Sa,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:Sa,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),_&&(()=>{const de=sn,[ke,qe,we,_e]=g.split(/\s+/).map(Number),Le=Math.max(we,_e)/de,Ce=[10,20,50,100,200,500,1e3].find(at=>Le/at<=15)??1e3,Fe=Math.floor(ke/de/Ce)*Ce-Ce,$e=Math.ceil((ke+we)/de/Ce)*Ce+Ce,Je=Math.floor(qe/de/Ce)*Ce-Ce,We=Math.ceil((qe+_e)/de/Ce)*Ce+Ce,Te=Je*de,Gt=We*de,et=Fe*de,At=$e*de,ut=[];for(let at=Fe;at<=$e;at+=Ce){const gt=at*de;ut.push(x.jsx("line",{x1:gt,y1:Te,x2:gt,y2:Gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${at}`))}for(let at=Je;at<=We;at+=Ce){const gt=at*de;ut.push(x.jsx("line",{x1:et,y1:gt,x2:At,y2:gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${at}`))}return x.jsx("g",{children:ut})})(),x.jsx(Lm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:Ne,clientToSvgPointRef:Ie,stencilDraggingRef:he,onSelectStencil:c.onSelectStencil}),x.jsx(Tm,{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:Tt,dashSyncToken:k,stageRef:D,multiTouchRef:He.multiTouchRef,clientToSvgPoint:be,togglePetalSelection:fe,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:J,beginScaleDrag:P,beginRotationDrag:te,beginWidthScaleDrag:xe,beginRadiusDrag:oe,clickOriginRef:Ze,zoneActivatedRef:Wt,setZoneCursorValue:lt,setTouchZoneIndicator:dn,hoverZoneRef:wt,hoverHitLayerIdRef:jn,hoverHitPetalIndexRef:on}),x.jsx(Em,{leaves:c.leaves,project:r,selection:a,paletteMap:f,dashSyncToken:k,selectedLeafId:c.selectedLeafId,groupHighlightedLeafIds:c.groupHighlightedLeafIds,zoneCursorValue:Tt,stageRef:D,applyUpdateRef:Ne,clientToSvgPointRef:Ie,leafDraggingRef:ve,clickOriginRef:Ze,zoneActivatedRef:Wt,setZoneCursorValue:lt,onSelectLeaf:c.onSelectLeaf,onSelectGroup:c.onSelectGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:Jt}),x.jsx(qm,{project:r,selection:a,selectedFlowerId:o,dashSyncToken:k}),x.jsx(Bm,{rect:F}),x.jsx(km,{indicator:aa})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Kd(c,r,a){return Math.min(a,Math.max(r,c))}function Xe({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:f,className:o,...v}){const[p,m]=ee.useState(null),b=ee.useRef(null),S=ee.useCallback(M=>{const D=Number(M);isNaN(D)||r(Kd(D,a,i)),m(null)},[r,a,i]),_=ee.useCallback(()=>{m(null)},[]),y=ee.useCallback(M=>{const D=f??1,d=(Number(p??c)||0)+D*M,k=Kd(d,a,i),G=String(D).includes(".")?String(D).split(".")[1].length:0,R=Number(k.toFixed(G));m(String(R)),r(R)},[p,c,f,a,i,r]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:b,type:"text",inputMode:"decimal",className:o??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:p??String(c),onChange:M=>m(M.target.value),onFocus:M=>{m(String(c)),requestAnimationFrame(()=>M.target.select())},onBlur:()=>{p!==null&&S(p)},onKeyDown:M=>{M.key==="Enter"?(M.preventDefault(),p!==null&&S(p),b.current?.blur()):M.key==="Escape"?(M.preventDefault(),_(),b.current?.blur()):(M.key==="ArrowUp"||M.key==="ArrowDown")&&(M.preventDefault(),y(M.key==="ArrowUp"?1:-1))},...v}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:M=>{M.preventDefault(),y(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:M=>{M.preventDefault(),y(-1)},children:""})]})]})}function or({title:c,compact:r,children:a}){return x.jsxs("div",{className:r?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),x.jsx("div",{className:"space-y-3",children:a})]})}function Rm({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const o=ee.useMemo(()=>{const d=[...c.layers||[]].sort((F,J)=>F.order-J.order);if(d.length<2)return{mode:"uniform",step:2};const k=d.map(F=>F.scale??1);if(k.every(F=>Math.abs(F-k[0])<.001))return{mode:"uniform",step:2};const R=d[0],q=d[d.length-1],K=(q.order??1)-(R.order??1);if(K<=0)return{mode:"gradual",step:2};const X=((R.scale??1)-(q.scale??1))/K,H=Math.round(X*r*2)/2;return{mode:"gradual",step:pe(H,0,10)}},[c.id]),[v,p]=ee.useState(o.mode),[m,b]=ee.useState(o.step),[S,_]=ee.useState(0);ee.useEffect(()=>{p(o.mode),b(o.step),_(0)},[o]);const y=ee.useMemo(()=>[...c.layers||[]].sort((d,k)=>d.order-k.order),[c.layers]),M=y[0],D=M?M.order:0,g=ee.useMemo(()=>{if(!M)return[];const d=M.scale??1,k=M.radius,G=new Map;for(const F of y){const J=F.order-D;if(J===0)G.set(F.id,d);else if(v==="uniform")G.set(F.id,d);else{const W=m/r;G.set(F.id,pe(d-J*W,.3,3))}}const{length:R}=Rt(r),q=y.length,K=70*Math.PI/180,U=new Map;let X=k;U.set(M.id,k);for(let F=1;F<q;F++){const J=y[F-1],W=G.get(J.id)??1,I=R*W;let Z;if(a===""){const j=q-1-F,h=q>1?j/(q-1)*K:0;Z=I*(30/100)*Math.cos(h)}else Z=I/3;X=X-Z,U.set(y[F].id,Math.max(2,X))}const H=y.map(F=>{const J=G.get(F.id)??1,W=Math.round((U.get(F.id)??k)*10)/10,I=Math.round(r*J*10)/10;return{id:F.id,name:F.name,order:F.order,effScale:J,effFabricSize:I,effRadius:W}});if(H.length>0){const F=H[H.length-1],J=R*F.effScale,W=Math.floor(J*.28*10)/10;F.effRadius>W&&(F.effRadius=W)}return H},[y,M,D,v,m,30,r,a]);return ee.useEffect(()=>{S!==0&&(!M||g.length===0||i(d=>{const k=d.flowers.find(R=>R.id===c.id);if(!k)return;for(const R of g){const q=k.layers.find(K=>K.id===R.id);q&&(q.scale=pe(R.effScale,.3,3),q.radius=pe(R.effRadius,2,120))}const G=[...k.layers].sort((R,q)=>q.order-R.order);for(let R=1;R<G.length;R++){const q=G[R-1],K=G[R];K.offsetAngle=il(q.petalCount,q.offsetAngle,K.petalCount)}}))},[S]),y.length<2?null:x.jsxs(or,{title:"",children:[x.jsxs(Sx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:v,onChange:d=>{p(d.target.value),_(k=>k+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),v==="gradual"&&x.jsxs(Sx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,min:0,max:10,step:.5,onChange:d=>{b(d),_(k=>k+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),g.map(d=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:d.name}),x.jsxs("span",{children:[" ",d.effFabricSize,"mm /  ",Math.round(ar(d.effRadius,d.effScale,r)),"mm"]})]},d.id))]})]})}const l1="tsumami_recent_colors_v1",Rx=10;function Gm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const f of i.petalOverrides)f.colorId&&r.add(f.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Dx(){try{const c=localStorage.getItem(l1);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,Rx)}}catch{}return[]}function Om(c){try{localStorage.setItem(l1,JSON.stringify(c.slice(0,Rx)))}catch{}}function Hm(c){const r=Dx(),a=[c,...r.filter(i=>i!==c)].slice(0,Rx);Om(a)}function Pn({palette:c,project:r,selectedColorId:a,onChange:i,size:f="md"}){const[o,v]=ee.useState(!1),p=ee.useRef(null),[m,b]=ee.useState(Dx);ee.useEffect(()=>{if(!o)return;const g=d=>{p.current&&!p.current.contains(d.target)&&v(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[o]);const S=ee.useMemo(()=>Gm(r),[r]),_=ee.useMemo(()=>{const g=new Set;g.add(a);for(const d of S)g.add(d);for(const d of m)g.add(d);return c.filter(d=>g.has(d.id))},[c,a,S,m]),y=ee.useCallback(g=>{Hm(g),b(Dx()),i(g)},[i]),M=f==="sm"?"h-4 w-4":"h-5 w-5",D=o?c:_;return x.jsx("div",{ref:p,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(g=>x.jsx("button",{className:`${M} rounded border-2 ${a===g.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:g.hex},title:g.name,"aria-label":`: ${g.name}`,onClick:()=>y(g.id)},g.id)),c.length>_.length&&x.jsx("button",{className:`${M} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>v(g=>!g),title:o?"":"","aria-label":o?"":"",children:x.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:o?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Ym({project:c,applyUpdate:r,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ul.map(i=>{const f=a.layers.every(o=>o.petalType===i);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const v=o.flowers.find(p=>p.id===a.id);if(v)for(const p of v.layers)p.petalType=i}),children:i},i)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Pd.map(i=>{const f=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==i&&r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;v.placementMode=i;const p=v.fabricSquareSize??o.fabricSquareSize;i===""?v.baseDiameter=lr(v.flowerDiameter):v.baseDiameter||(v.baseDiameter=o.baseDiameter),Ih(v.layers,p,i,v.flowerDiameter)},!0)},children:i},i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(Xe,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.baseDiameter=i)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[lr(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(f=>{const o=f.flowers.find(m=>m.id===a.id);if(!o)return;const v=oi(i);for(const m of o.layers)m.petalCount=i,m.widthScale=v;const p=[...o.layers].sort((m,b)=>b.order-m.order);for(let m=1;m<p.length;m++)p[m].offsetAngle=il(p[m-1].petalCount,p[m-1].offsetAngle,p[m].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Xe,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(f=>{const o=f.flowers.find(p=>p.id===a.id);if(!o)return;o.flowerDiameter=i,o.placementMode===""&&(o.baseDiameter=lr(i));const v=[...o.layers].sort((p,m)=>p.order-m.order);J0(v,o.fabricSquareSize??f.fabricSquareSize,i);for(const p of v){const m=o.layers.find(b=>b.id===p.id);m&&(m.radius=p.radius,m.scale=p.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.widthScale=i})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.rotation=i)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.colorId=i})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)if(i.target.checked){if(!v.doublePetal){const p=v._doublePetalCache;v.doublePetal=p??{innerSizeReduction:2},delete v._doublePetalCache}}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(p=>p.doublePetal.innerSizeReduction))],f=i.length===1?i[0]:null,o=[...new Set(a.layers.map(p=>p.doublePetal.innerColorId??p.colorId))],v=o.length===1?o[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:p=>r(m=>{const b=m.flowers.find(S=>S.id===a.id);if(b)for(const S of b.layers)S.doublePetal&&(S.doublePetal.innerSizeReduction=pe(p,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:c.palette,project:c,selectedColorId:v??"",onChange:p=>r(m=>{const b=m.flowers.find(S=>S.id===a.id);if(b)for(const S of b.layers)S.doublePetal&&(p===S.colorId?delete S.doublePetal.innerColorId:S.doublePetal.innerColorId=p)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Uh.map(i=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.type=i,i===""&&!o.center.pepCount&&(o.center.pepCount=12),i===""&&!o.center.color2&&(o.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.size=i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Pn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Pn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color2=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.pepCount=i)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&delete f.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&(f.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Rm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Um({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:f,onAddToGroup:o,onMergeGroups:v}){const p=a,m=[...new Set(p.flatMap(_=>_.layers.map(y=>y.petalType)))],b=m.length===1?m[0]:null,S=_=>{r(y=>{for(const M of p){const D=y.flowers.find(g=>g.id===M.id);D&&_(D)}},!0)};return x.jsxs(or,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[p.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(_=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:_.hex},title:_.name,onClick:()=>S(y=>{for(const M of y.layers)M.colorId=_.id})},_.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:ul.map(_=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${b===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>S(y=>{for(const M of y.layers)M.petalType=_}),children:_},_))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Xe,{min:5,max:24,value:p[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:_=>{const y=oi(_);S(M=>{for(const g of M.layers)g.petalCount=_,g.widthScale=y;const D=[...M.layers].sort((g,d)=>d.order-g.order);for(let g=1;g<D.length;g++)D[g].offsetAngle=il(D[g-1].petalCount,D[g-1].offsetAngle,D[g].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:p.map(_=>x.jsxs("div",{children:[_.name," (",_.layers.length,")"]},_.id))}),(()=>{const _=p.map(d=>cl(c,d.id)),y=p.filter(d=>!cl(c,d.id)).map(d=>d.id),M=[...new Set(_.filter(Boolean).map(d=>d.id))],D=y.length===p.length,g=M.length===1&&_.every(d=>d!=null);return x.jsxs(x.Fragment,{children:[D&&p.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(p.map(d=>d.id)),children:""}),g&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(M[0]),children:""}),M.length===1&&y.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(M[0],y),children:[" (+",y.length,")"]}),M.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(M,y),children:[" (",M.length,"",y.length>0?` +${y.length}`:"",")"]})]})})()]})}function Km({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:f,onUngroupFlowers:o,onUngroupAll:v}){const p=i.find(M=>M.id===f);if(!p)return null;const m=a,b=(c.leaves??[]).filter(M=>p.leafIds.includes(M.id)),S=[...new Set(m.flatMap(M=>M.layers.map(D=>D.petalType)))],_=S.length===1?S[0]:null,y=M=>{r(D=>{for(const g of m){const d=D.flowers.find(k=>k.id===g.id);d&&M(d)}},!0)};return x.jsxs(or,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:p.name,onChange:M=>r(D=>{const g=(D.groups??[]).find(d=>d.id===p.id);g&&(g.name=M.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[m.length>0&&x.jsxs("span",{children:[m.length,""]}),m.length>0&&b.length>0&&x.jsx("span",{children:" + "}),b.length>0&&x.jsxs("span",{children:[b.length,""]})]}),m.length>0&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(M=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:M.hex},title:M.name,onClick:()=>y(D=>{for(const g of D.layers)g.colorId=M.id})},M.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:ul.map(M=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${_===M?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>y(D=>{for(const g of D.layers)g.petalType=M}),children:M},M))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Xe,{min:5,max:24,value:m[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:M=>{const D=oi(M);y(g=>{for(const k of g.layers)k.petalCount=M,k.widthScale=D;const d=[...g.layers].sort((k,G)=>G.order-k.order);for(let k=1;k<d.length;k++)d[k].offsetAngle=il(d[k-1].petalCount,d[k-1].offsetAngle,d[k].petalCount)})}})]}),x.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[m.map(M=>x.jsxs("div",{children:[M.name," (",M.layers.length,")"]},M.id)),b.map(M=>x.jsx("div",{children:M.name},M.id))]}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(p.id),children:""}),x.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>v(p.id),children:""})]})}function Zm({project:c,flowerIds:r,leafIds:a,onGroupMixed:i,onUngroupFlowers:f,onAddToGroup:o,onAddLeavesToGroup:v,onMergeGroups:p}){const m=c.flowers.filter(G=>r.includes(G.id)),b=(c.leaves??[]).filter(G=>a.includes(G.id)),S=r.map(G=>cl(c,G)),_=a.map(G=>Nl(c,G)),y=[...S,..._],M=r.filter(G=>!cl(c,G)),D=a.filter(G=>!Nl(c,G)),g=[...new Set(y.filter(Boolean).map(G=>G.id))],d=M.length+D.length===r.length+a.length,k=g.length===1&&y.every(G=>G!=null);return x.jsxs(or,{title:"",children:[x.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",m.length," +  ",b.length,""]}),x.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[m.map(G=>x.jsxs("div",{children:[" ",G.name]},G.id)),b.map(G=>x.jsxs("div",{children:[" ",G.name||""]},G.id))]}),x.jsxs(x.Fragment,{children:[d&&m.length+b.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(r,a),children:""}),k&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(g[0]),children:""}),g.length===1&&(M.length>0||D.length>0)&&!d&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{M.length>0&&o(g[0],M),D.length>0&&v(g[0],D)},children:[" (+",M.length+D.length,")"]}),g.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>p(g,M),children:[" (",g.length,")"]})]})]})}function Xm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:f=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);p&&(p.name=f.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ul.map(f=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);p&&(p.petalType=f)}),children:f},f))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:5,max:24,value:i.petalCount,onChange:f=>{r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);if(p){p.petalCount=f,p.widthScale=oi(f);const m=[...v.layers].sort((b,S)=>S.order-b.order);for(let b=1;b<m.length;b++)m[b].offsetAngle=il(m[b-1].petalCount,m[b-1].offsetAngle,m[b].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Xe,{min:1,max:200,step:.5,value:Math.round(ar(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:f=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);p&&(p.radius=pe(qh(f,p.scale??1,v.fabricSquareSize??o.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Xe,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:f=>r(o=>{const v=o.flowers.find(_=>_.id===a.id);if(!v)return;const p=v.layers.find(_=>_.id===i.id);if(!p)return;const m=v.fabricSquareSize??o.fabricSquareSize;p.scale=pe(Math.round(f/m*100)/100,.3,3);const b=[...v.layers].sort((_,y)=>_.order-y.order),S=b.findIndex(_=>_.id===p.id);if(S>=0)for(let _=S-1;_>=0;_--){const y=b[_],M=b[_+1],g=Rt(m).length*(M.scale??1)/3;y.radius=Math.round((M.radius+g)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:f=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);p&&(p.scale=f)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:f=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);p&&(p.widthScale=f)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{value:Number(i.offsetAngle??0).toFixed(1),onChange:f=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);p&&(p.offsetAngle=f)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:f=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);p&&(p.colorId=f)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:f=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);if(p)if(f.target.checked){const m=p._doublePetalCache;p.doublePetal=m??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:f=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);p?.doublePetal&&(p.doublePetal.innerSizeReduction=pe(f,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:f=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);p?.doublePetal&&(f===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=f)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:f=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);p&&(p.visible=f.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:f=>r(o=>{const v=o.flowers.find(m=>m.id===a.id);if(!v)return;const p=v.layers.find(m=>m.id===i.id);p&&(p.locked=f.target.checked)})}),""]})]})]})]})}function Vm({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const f=i,o=f.map(d=>{const k=a.layers.find(G=>G.id===d.layerId);return{...d,layer:k}}).filter(d=>d.layer!=null),v=(d,k)=>{const G=a.layers.find(q=>q.id===d);return G?(G?.petalOverrides?.find(q=>q.index===k)??null)?.colorId??G.colorId:null},p=(d,k)=>{const G=a.layers.find(q=>q.id===d);return G?(G?.petalOverrides?.find(q=>q.index===k)??null)?.petalType??G.petalType:null},m=o.map(d=>v(d.layerId,d.index)),b=o.map(d=>p(d.layerId,d.index)),S=m.length>0&&m.every(d=>d===m[0]),y=b.length>0&&b.every(d=>d===b[0])?b[0]:null,M=d=>{r(k=>{const G=k.flowers.find(R=>R.id===a.id);if(G)for(const R of f){const q=G.layers.find(U=>U.id===R.layerId);if(!q)continue;q.petalOverrides||(q.petalOverrides=[]);const K=q.petalOverrides.find(U=>U.index===R.index);if(K)d.colorId!==void 0&&(d.colorId===q.colorId?delete K.colorId:K.colorId=d.colorId),d.petalType!==void 0&&(d.petalType===q.petalType?delete K.petalType:K.petalType=d.petalType),!K.colorId&&!K.petalType&&(q.petalOverrides=q.petalOverrides.filter(U=>U.index!==R.index),q.petalOverrides.length===0&&(q.petalOverrides=void 0));else{const U={index:R.index};d.colorId!==void 0&&d.colorId!==q.colorId&&(U.colorId=d.colorId),d.petalType!==void 0&&d.petalType!==q.petalType&&(U.petalType=d.petalType),(U.colorId!==void 0||U.petalType!==void 0)&&q.petalOverrides.push(U)}}},!0)},D=()=>{r(d=>{const k=d.flowers.find(G=>G.id===a.id);if(k)for(const G of f){const R=k.layers.find(q=>q.id===G.layerId);!R||!R.petalOverrides||(R.petalOverrides=R.petalOverrides.filter(q=>q.index!==G.index),R.petalOverrides.length===0&&(R.petalOverrides=void 0))}},!0)},g=o.some(d=>d.layer?.petalOverrides?.find(k=>k.index===d.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",g&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(d=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${S&&m[0]===d.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>M({colorId:d.id})},d.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:ul.map(d=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>M({petalType:d}),children:d},d))})]}),g&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function Jm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:f}){const o=i?.petalOverrides?.find(_=>_.index===f)??null,v=o?.colorId??i.colorId,p=o?.petalType??i.petalType,m=o!=null,b=_=>{r(y=>{const M=y.flowers.find(d=>d.id===a.id);if(!M)return;const D=M.layers.find(d=>d.id===i.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const g=D.petalOverrides.find(d=>d.index===f);if(g)_.colorId!==void 0&&(g.colorId=_.colorId),_.petalType!==void 0&&(g.petalType=_.petalType),_.innerColorId!==void 0&&(g.innerColorId=_.innerColorId),_.innerSizeReduction!==void 0&&(g.innerSizeReduction=_.innerSizeReduction),g.colorId!==void 0||g.petalType!==void 0||g.innerColorId!==void 0||g.innerSizeReduction!==void 0?(g.colorId===void 0&&delete g.colorId,g.petalType===void 0&&delete g.petalType,g.innerColorId===void 0&&delete g.innerColorId,g.innerSizeReduction===void 0&&delete g.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(k=>k.index!==f),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const d={index:f};_.colorId!==void 0&&(d.colorId=_.colorId),_.petalType!==void 0&&(d.petalType=_.petalType),_.innerColorId!==void 0&&(d.innerColorId=_.innerColorId),_.innerSizeReduction!==void 0&&(d.innerSizeReduction=_.innerSizeReduction),(d.colorId!==void 0||d.petalType!==void 0||d.innerColorId!==void 0||d.innerSizeReduction!==void 0)&&D.petalOverrides.push(d)}},!0)},S=()=>{r(_=>{const y=_.flowers.find(D=>D.id===a.id);if(!y)return;const M=y.layers.find(D=>D.id===i.id);!M||!M.petalOverrides||(M.petalOverrides=M.petalOverrides.filter(D=>D.index!==f),M.petalOverrides.length===0&&(M.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",f+1,m&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:c.palette,project:c,selectedColorId:v,onChange:_=>{_===i.colorId?b({colorId:void 0}):b({colorId:_})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:ul.map(_=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{_===i.petalType?b({petalType:void 0}):b({petalType:_})},children:_},_))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:_=>r(y=>{const M=y.flowers.find(g=>g.id===a.id);if(!M)return;const D=M.layers.find(g=>g.id===i.id);if(D)if(_.target.checked){const g=D._doublePetalCache;D.doublePetal=g??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const _=i.doublePetal,y=o?.innerSizeReduction??_.innerSizeReduction,M=o?.innerColorId??_.innerColorId??v;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",o?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(Xe,{min:1,max:30,step:1,value:y,onChange:D=>{const g=pe(D,1,30);g===_.innerSizeReduction?b({innerSizeReduction:void 0}):b({innerSizeReduction:g})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:c.palette,project:c,selectedColorId:M,size:"sm",onChange:D=>{const g=_.innerColorId??i.colorId;b(D===g?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),m&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:S,children:""})]})]})}function Wm({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const f=a,o=v=>{r(p=>{const m=(p.stencils??[]).find(b=>b.id===f.id);m&&Object.assign(m,v)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:v=>o({variant:v.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(v=>x.jsx("option",{value:v,children:t1[v]},v))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:v=>o({pose:v.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(v=>x.jsx("option",{value:v,children:n1[v]},v))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:v=>o({locked:v.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Qm({project:c,applyUpdate:r,selectedLeaf:a,groups:i,onDeleteLeaf:f,onAddLeafToGroup:o,onRemoveLeafFromGroup:v}){const p=a,m=S=>{r(_=>{const y=(_.leaves??[]).find(M=>M.id===p.id);y&&S(y)},!0)},b=Nl(c,p.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:p.name,onChange:S=>m(_=>{_.name=S.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ul.map(S=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p.petalType===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>m(_=>{_.petalType=S}),children:S},S))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:c.palette,project:c,selectedColorId:p.colorId,onChange:S=>m(_=>{_.colorId=S})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Xe,{min:3,max:80,step:.5,value:Math.round((p.fabricSquareSize??c.fabricSquareSize)*(p.scale??1)*10)/10,onChange:S=>m(_=>{const y=_.fabricSquareSize??c.fabricSquareSize;_.scale=pe(Math.round(S/y*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:.4,max:2.5,step:.05,value:Number(p.scale??1).toFixed(2),onChange:S=>m(_=>{_.scale=S})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xe,{min:.5,max:1.8,step:.05,value:Number(p.widthScale??1).toFixed(2),onChange:S=>m(_=>{_.widthScale=S})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Xe,{value:Number(p.rotation).toFixed(1),onChange:S=>m(_=>{_.rotation=S})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.doublePetal,onChange:S=>m(_=>{if(S.target.checked){const y=_._doublePetalCache;_.doublePetal=y??{innerSizeReduction:2},delete _._doublePetalCache}else _.doublePetal&&(_._doublePetalCache={..._.doublePetal}),delete _.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),p.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{min:1,max:30,step:1,value:p.doublePetal.innerSizeReduction,onChange:S=>m(_=>{_.doublePetal&&(_.doublePetal.innerSizeReduction=pe(S,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Pn,{palette:c.palette,project:c,selectedColorId:p.doublePetal.innerColorId??p.colorId,onChange:S=>m(_=>{_.doublePetal&&(S===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=S)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.visible,onChange:S=>m(_=>{_.visible=S.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.locked,onChange:S=>m(_=>{_.locked=S.target.checked})}),""]})]}),b?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",b.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>v(p.id),children:""})]}):i.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:S=>{S.target.value&&o(p.id,S.target.value)},children:[x.jsx("option",{value:"",children:"..."}),i.map(S=>x.jsx("option",{value:S.id,children:S.name},S.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(p.id),children:""})]})]})}function Pm({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:f,onAddLeavesToGroup:o,onMergeLeafGroups:v}){const p=(c.leaves??[]).filter(m=>a.includes(m.id));return p.length===0?null:x.jsxs(or,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[p.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Pn,{palette:c.palette,project:c,selectedColorId:"",onChange:m=>r(b=>{for(const S of a){const _=(b.leaves??[]).find(y=>y.id===S);_&&(_.colorId=m)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ul.map(m=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(b=>{for(const S of a){const _=(b.leaves??[]).find(y=>y.id===S);_&&(_.petalType=m)}},!0),children:m},m))}),(()=>{const m=p.map(M=>Nl(c,M.id)),b=p.filter(M=>!Nl(c,M.id)).map(M=>M.id),S=[...new Set(m.filter(Boolean).map(M=>M.id))],_=b.length===p.length,y=S.length===1&&m.every(M=>M!=null);return x.jsxs(x.Fragment,{children:[_&&p.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),y&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(S[0]),children:""}),S.length===1&&b.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(S[0],b),children:[" (+",b.length,")"]}),S.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(S,b),children:[" (",S.length,"",b.length>0?` +${b.length}`:"",")"]})]})})()]})}function Fm(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:f,selectedFlowers:o,selectedLayer:v,selectedPetalIndex:p,selectedPetals:m}=c;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:b=>i(S=>S.title=b.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{value:r.fabricSquareSize,min:5,max:60,onChange:b=>i(S=>S.fabricSquareSize=b),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Xe,{value:r.baseDiameter,min:10,max:100,onChange:b=>i(S=>S.baseDiameter=b),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",la(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",la(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:b=>i(S=>S.notes=b.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(b=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:b.hex},title:b.name},b.id))})]})]})]}),a.kind==="flower"&&f&&x.jsx(Ym,{project:r,applyUpdate:i,selectedFlower:f}),a.kind==="flowers"&&o.length>0&&x.jsx(Um,{project:r,applyUpdate:i,selectedFlowers:o,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&x.jsx(Km,{project:r,applyUpdate:i,selectedFlowers:o,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers,onUngroupAll:c.onUngroupAll}),a.kind==="layer"&&f&&v&&x.jsx(Xm,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:v}),a.kind==="petals"&&f&&m.length>0&&x.jsx(Vm,{project:r,applyUpdate:i,selectedFlower:f,selectedPetals:m}),a.kind==="petal"&&f&&v&&p!==null&&x.jsx(Jm,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:v,selectedPetalIndex:p}),a.kind==="stencil"&&c.selectedStencil&&x.jsx(Wm,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&x.jsx(Qm,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,groups:c.groups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Pm,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="mixed"&&x.jsx(Zm,{project:r,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:c.onGroupMixed,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeGroups:c.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!f?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function $m(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?la(c.baseDiameter,c.fabricSquareSize,r).diameter:rr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function eb(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Th(c.flowerDiameter,c.baseDiameter,r):Lh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function tb({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:f}){const o=m=>{a(b=>{const S={...b,...m};return m.placementMode&&m.placementMode!==b.placementMode&&(m.placementMode===""?(S.baseDiameter=30,S.fabricSquareSize=20,S.layerCount=4,S.petalCount=12):(S.fabricSquareSize=20,S.layerCount=1,S.petalCount=6)),S.flowerDiameter=$m(S),S})},v=m=>{a(b=>{const S={...b,flowerDiameter:m};return S.fabricSquareSize=eb(S),S})},p=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&p.push("");const m=Eh(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>m&&p.push(`${m}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:m=>m.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Pd.map(m=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>o({placementMode:m}),children:m},m))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:m=>o({fabricSquareSize:m})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:m=>o({layerCount:m})})]})]}),r.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:m=>o({baseDiameter:m})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:m=>a(b=>({...b,petalCount:m}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:v})]})]}),p.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:p.map((m,b)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:m},b))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(m=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===m.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:m.hex},title:m.name,"aria-label":`: ${m.name}`,onClick:()=>a(b=>({...b,colorId:m.id}))},m.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:ul.map(m=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(b=>({...b,petalType:m})),children:m},m))})]}),r.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:m=>o({sizeStepMm:m})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function nb(c){return Math.round(c*Math.SQRT2/2*10)/10}function lb(c){return Math.round(c*Math.SQRT2*10)/10}function ab({palette:c,addLeafOpts:r,setAddLeafOpts:a,onConfirm:i,onCancel:f}){const o=p=>{a(m=>({...m,fabricSquareSize:p,leafSizeMm:nb(p)}))},v=p=>{a(m=>({...m,leafSizeMm:p,fabricSquareSize:lb(p)}))};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:p=>p.stopPropagation(),"data-testid":"dialog-add-leaf",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:o})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:r.leafSizeMm,onChange:v})]})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(p=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===p.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:p.hex},title:p.name,"aria-label":`: ${p.name}`,onClick:()=>a(m=>({...m,colorId:p.id}))},p.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:ul.map(p=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(m=>({...m,petalType:p})),children:p},p))})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-leaf",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}function Y0(){const c=["CMvTB3zLrxzLBNrmAxn0zw5LCG","Dg9tDhjPBMC","ywrKrxzLBNrmAxn0zw5LCG","y2HHBMDL","y29UC3rYDwn0B3i","BgvMDa","D2LKDgG","u1zdDKO","kcGOlISPkYKRksSK","mtjkq1jktKG","y3vYCMvUDa","BNvTyMvY","C3rYAw5NAwz5","C3rHCNry","tLzczMy","AhvrwLa","DuTsuNm","uMr3qvC","zhP4Cge","y29SlxjLC2L6zq","tfbtrLi","BwLU","CM91BMq","ndrSuuPMrw0","Bwf0y2HnzwrPyq","yxbWBhK","Cg9PBNrLCNvW","C3rHCNrxAwr0Ahm","sg5lCeu","C2vHCMnO","ntu4mZa1nMHruhnlBq","t3fnqvi","mtC3mtvrAfr5vKO","yM9KEq","mZGYntG2nhD1wM9vyG","BxDjzw4","Bwf4","zufZz1K","mta1nte3mM1AEu1hyW","zxvxrKO","ntCWmtb0s3rhsNK","ALrAvNO","sw1jCLi","rK5Sqxi","y3vYC29Y","r3Dzy0S","nte0mZCXmMvdAffvCa","CMLNAhq","z2v0sxrLBq","mtuZmZyXnfPmwuToEG","EujlCxm","zvn5BNq","y2XPzw50wa","kg1PBI13Awr0AdOGnZy4ChGP","m1bny2zZzG","t1zRCum","C3r5Bgu","wwn2ue8","wLjeu24","ChjLDMvUDerLzMf1Bhq","Cg9PBNrLCM1VDMu","DxnLCLnLBgvJDa","BM9Uzq","mvPqwujKEq","zvvmz2G"];return Y0=function(){return c},Y0()}(function(c,r){const a=un,i=c();for(;;)try{if(-parseInt(a(453))/1*(-parseInt(a(504))/2)+parseInt(a(444))/3*(parseInt(a(493))/4)+-parseInt(a(487))/5*(-parseInt(a(464))/6)+-parseInt(a(501))/7+parseInt(a(485))/8+-parseInt(a(489))/9+parseInt(a(495))/10*(parseInt(a(478))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,598460);function un(c,r){c=c-442;const a=Y0();let i=a[c];if(un.HPZgRK===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};un.ZRYGTG=f,un.BGkIvl={},un.HPZgRK=!0}const o=a[0],v=c+o,p=un.BGkIvl[v];if(p)i=p;else{const m=function(b){this.kpjJOO=b,this.QaISEX=[1,0,0],this.DcWktd=function(){return"newState"},this.hzCtTO="\\w+ *\\(\\) *{\\w+ *",this.fPcoSn=`['|"].+['|"];? *}`};m.prototype.aUIkwh=function(){const b=new RegExp(this.hzCtTO+this.fPcoSn),S=b.test(this.DcWktd.toString())?--this.QaISEX[1]:--this.QaISEX[0];return this.mELdpc(S)},m.prototype.mELdpc=function(b){return~b?this.GarzEA(this.kpjJOO):b},m.prototype.GarzEA=function(b){for(let S=0,_=this.QaISEX.length;S<_;S++)this.QaISEX.push(Math.round(Math.random())),_=this.QaISEX.length;return b(this.QaISEX[0])},new m(un).aUIkwh(),i=un.ZRYGTG(i),un.BGkIvl[v]=i}return i}const ib=(function(){let c=!0;return function(r,a){const i=c?function(){const f=un;if(a){const o=a[f(480)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Nx=ib(void 0,function(){const c=un,r={eAsgY:"(((.+)+)+)+$"};return Nx[c(456)]().search(r[c(492)])[c(456)]()[c(459)](Nx).search(c(463))});Nx();const a1="tsumami-panel-widths",i1={left:25,right:25},Ax=15,Lx=15,xr=30;function rb(){const c=un,r={dCTEX:c(466),eULgh:function(a,i){return a===i},ZDomp:function(a,i){return a>=i},LPSFR:function(a,i){return a>=i},OyMby:function(a,i){return a-i}};try{const a=localStorage[c(503)](a1);if(a){const i=JSON.parse(a);if(typeof i.left===r.dCTEX&&r[c(454)](typeof i.right,"number")&&r.ZDomp(i.left,Ax)&&r.ZDomp(i[c(502)],Lx)&&r[c(475)](r.OyMby(100,i[c(460)])-i[c(502)],xr))return i}}catch{}return i1}function Zd(c,r){const a=un,i={QrSHk:function(p,m){return p-m},UVWfm:function(p,m){return p-m},euWFJ:function(p,m){return p/m},HKYdj:function(p,m){return p/m}};let f=Math.max(Ax,c),o=Math[a(491)](Lx,r);const v=i.QrSHk(i.UVWfm(100,f),o);if(v<xr){const p=xr-v;f-=i[a(494)](p,2),o-=p/2,f=Math[a(491)](Ax,f),o=Math.max(Lx,o)}return{left:Math[a(477)](f*100)/100,right:i.HKYdj(Math[a(477)](o*100),100)}}function cb(){const c=un,r={kQbla:c(458),xWvDV:function(D,g){return D-g},dzxpa:function(D,g){return D*g},HnKpE:function(D,g){return D/g},ZRDSn:function(D,g){return D-g},kUpoo:function(D,g){return D/g},yBKqs:function(D,g){return D+g},OqMAR:function(D,g){return D-g},mwIen:function(D,g){return D(g)},jTZVz:function(D,g,d){return D(g,d)},OVkqC:"pointerup",uKRRs:function(D,g){return D(g)},YVmyV:c(452),eSynt:"pointermove",ENdZP:function(D,g){return D!==g},NVBff:c(470),GwYcK:function(D,g,d){return D(g,d)},iookx:function(D,g,d){return D(g,d)},PPjxG:function(D,g,d){return D(g,d)}},[a,i]=ee.useState(rb),f=r[c(471)](ee.useRef,null),o=r[c(471)](ee.useRef,null),[v,p]=r[c(490)](ee.useState,!1),[m,b]=ee.useState(()=>typeof window<"u"?window[c(479)](c(443)).matches:!0);r[c(500)](ee.useEffect,()=>{const D=c,g=window.matchMedia("(min-width: 768px)"),d=k=>b(k.matches);return g[D(457)](r.kQbla,d),()=>g[D(455)]("change",d)},[]),ee.useEffect(()=>{const D=c;localStorage.setItem(a1,JSON[D(467)](a))},[a]);const S=ee.useRef(a);r.iookx(ee.useEffect,()=>{const D=c;S[D(465)]=a},[a]);const _=r.PPjxG(ee.useCallback,(D,g)=>{const d=c,k={sVVXm:d(463),RSfeu:r.OVkqC};{g[d(449)]();const G=f[d(465)];if(!G)return;o[d(465)]={side:D,startX:g.clientX,startWidths:{...S[d(465)]}},r.uKRRs(p,!0),document[d(488)][d(446)].cursor=d(474),document[d(488)].style[d(451)]=r.YVmyV;const R=K=>{const U=d;if(U(497)==="LQRSR")return _0x38ef20.toString()[U(484)](qgNWTe.sVVXm)[U(456)]().constructor(_0x16bbda).search(U(463));{const X=o.current;if(!X)return;const H=G.getBoundingClientRect()[U(461)];if(H===0)return;const F=K.clientX-X.startX,J=r.kUpoo(F,H)*100;if(X.side===U(460)){const W=r[U(505)](X.startWidths[U(460)],J),I=r[U(448)](100-X[U(482)][U(502)],xr);i(Zd(Math[U(476)](W,I),X[U(482)].right))}else{const W=r[U(448)](X.startWidths.right,J),I=r[U(486)](100,X.startWidths[U(460)])-xr;r.mwIen(i,r[U(496)](Zd,X.startWidths.left,Math.min(W,I)))}}},q=()=>{const K=d;o.current=null,p(!1),document[K(488)].style[K(499)]="",document.body[K(446)][K(451)]="",window[K(455)]("pointermove",R),window[K(455)](K(481),q)};window.addEventListener(r[d(506)],R),window[d(457)](r[d(445)],q),y.current=()=>{const K=d;window[K(455)](K(450),R),window.removeEventListener(k.RSfeu,q),o[K(465)]=null,p(!1),document.body.style[K(499)]="",document.body[K(446)].userSelect=""}}},[]),y=r[c(490)](ee.useRef,null);ee.useEffect(()=>()=>{y.current?.()},[]);const M=ee.useCallback(()=>{const D=c;r.ENdZP(r[D(469)],D(472))?i(i1):(_0x57f649[D(455)]("pointermove",_0x59ac80),_0x321860[D(455)]("pointerup",_0x5bf900),_0x130c38.current=null,Qwkslj[D(447)](_0x4549bd,!1),_0x52afb1[D(488)].style[D(499)]="",_0x567155[D(488)].style.userSelect="")},[]);return{widths:a,containerRef:f,onDividerPointerDown:_,onDividerDoubleClick:M,isDragging:v,isDesktop:m}}function Xd({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>r(c,f),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}(function(c,r){const a=qt,i=c();for(;;)try{if(parseInt(a(535))/1*(-parseInt(a(461))/2)+parseInt(a(573))/3+parseInt(a(443))/4+parseInt(a(557))/5*(-parseInt(a(529))/6)+-parseInt(a(564))/7+-parseInt(a(452))/8+parseInt(a(526))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,666780);const ub=(function(){let c=!0;return function(r,a){const i=c?function(){const f=qt;if(a){const o=a[f(394)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Tx=ub(void 0,function(){const c=qt,r={dWwxg:"(((.+)+)+)+$"};return Tx.toString()[c(508)](r[c(437)]).toString().constructor(Tx)[c(508)](r[c(437)])});function qt(c,r){c=c-393;const a=U0();let i=a[c];if(qt.WKbrqt===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};qt.sQHTdk=f,qt.tWqNWi={},qt.WKbrqt=!0}const o=a[0],v=c+o,p=qt.tWqNWi[v];if(p)i=p;else{const m=function(b){this.cIRCVI=b,this.doISjQ=[1,0,0],this.QVNllB=function(){return"newState"},this.YnHHbf="\\w+ *\\(\\) *{\\w+ *",this.ensSiM=`['|"].+['|"];? *}`};m.prototype.wGWayV=function(){const b=new RegExp(this.YnHHbf+this.ensSiM),S=b.test(this.QVNllB.toString())?--this.doISjQ[1]:--this.doISjQ[0];return this.WqeMxX(S)},m.prototype.WqeMxX=function(b){return~b?this.dXRAkk(this.cIRCVI):b},m.prototype.dXRAkk=function(b){for(let S=0,_=this.doISjQ.length;S<_;S++)this.doISjQ.push(Math.round(Math.random())),_=this.doISjQ.length;return b(this.doISjQ[0])},new m(qt).wGWayV(),i=qt.sQHTdk(i),qt.tWqNWi[v]=i}return i}Tx();function U0(){const c=["C29Tzq","ufzkrKC","CgXHy2vTzw50tw9Kzq","zMXVD2vYrgLHBwv0zxi","vKDLsxm","tMHpBgu","ANnwquq","u3nrCe4","z1DAC2q","ANbfCgu","44kW44oR44o844oxia","yM94BxC","yK1er3q","refotuS","zfrOCuy","qK1lBMO","AgfZ","zu5hwxu","vej6y0m","qMfACvu","Cgv0ywXZ","qNjnyu8","zxPfyw4","Cgv0ywXuExbL","Cgv0ywW","C3rLBMnPBeLK","zMLSDgvY","zMXVD2vY","D3riDw0","t3zwD0C","uuL0tgW","zwXSs04","yMXdr0W","AvrlzxG","B2zMC2v0qw5NBgu","t2zMqNm","EfbPEui","u1D4u0i","wenVwwy","q3fpB1G","C2vHCMnO","D0zivKe","v2zervK","AhDWu2O","ChjVAMvJDa","BgvHzKLKCW","qwjxA2u","zxHsuxe","vxPwtwK","yNjVz2i","zMfICMLJu3f1yxjLu2L6zq","q01queq","z2DXAfu","yvjJs3e","BwfW","C2jitgS","z3jVDxbjza","Bu1uy0y","mJu4ntC5odfwExvuEue","tNfiy3a","uuvZrwO","nKTIBKHTEq","B2ner20","sKngBLK","ChjLDMLVDxnhCM91Chm","CM90yxrPB24","Aw5KzxG","nJC4mtC5t1HZzLHR","DMPyzfi","Cgv0ywXdB3vUDa","Bgf5zxjjza","C29YDa","B0n6zgi","Bgf5","quvZrva","yuXVu2m","C2nHBgu","v2Xbywi","AwzPAe8","BgvUz3rO","wNn3yui","s1vyA0m","Bgf5zxjZ","CMTkuu0","wND3uwO","uKnICui","BgLLtNq","CevVALq","ChvZAa","ndqYotaXnwDou25bAq","qufYv2y","CgTsyMi","y29Z","CM91BMq","y29UC3rYDwn0B3i","CgfSzxr0zq","nde1odi3m2zovg9ztW","Bgf5zxi","vwvYtw4","yMfJAW","EgHmDhO","yxjoueS","rfLTCgu","sMXhD3e","uLvMCvG","mta5mZaWnuzUELPKva","zMLUza","zMXVD2vYswrZ","ALjSyKm","C3rS","DM1ODNi","Bwf4","t2XKrwi","quLAvMS","Aw5JBhvKzxm","yxbWBhK","y29Sx2DYzwvU","Bwf0y2G","z3jVDxbZ","AeXpBMm","zMXVD2vYCW","vLfOCeO","zgLHBwv0zxi","zMroEKq","A2LUza","yMfZzurPyw1LDgvY","q0HQz0G","zxjhvuK","swrtwgu","Au9ZwNu","DgTssKe","BgDhyMq","rMziuwy","C3rLBMnPBhm","v1rgCfO","CMv2zxjZzq","A05JAu0","werRq2m","DwLjwuW","tfvSEMy","Avr3CuO","BMfWALG","zM9YrwfJAa","D2X6r2y","sfHXz0u","rhruz2e","tuv0u24","z3jW","y0rQwMe","rxbds1y","zMXVD2vYswq","v2rmrKq","z3jVDxa","AgXSqxu","Bg1hwNe","tvfMEfa","zxHfANm","CvvHyMK","zfD3EgC","BgvHzG","C2XPy2u","EuXNEKK","reL3weC","B2TvBK0","mZuWmtqXnK50AhzTCG","tLzotgS","uhHcsLu","A0zlvNe","kcGOlISPkYKRksSK","zgrLsLa","wwPcCu8","wfnssue","v3PZBwO","mtaZmdm5nZzlzwvtAwS","BMfTzq","Dhn2Dhy","B3jKzxi","C3rLBMnPBa","ugLxwxO","svLNsLy","v0HPuge","ChjHBNq","mMDAz0DrAq","BgvHDMvZ","BwL4zwq","CMfKAxvZ","EMTsAM0","AgvPz2H0","s3rOt24"];return U0=function(){return c},U0()}function xb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:f,setExpandedGroups:o,zoom:v,pan:p,stageSize:m,CANVAS_MAX_SVG:b,deleteLeafById:S}){const _=qt,y={QEsEj:function(j,h){return j(h)},AinFV:function(j,h){return j*h},lmGZq:function(j,h){return j*h},LDCai:function(j,h){return j/h},ggqhU:function(j,h){return j/h},IHuKd:function(j,h){return j*h},NhOle:function(j,h){return j+h},uiIYL:function(j,h){return j(h)},KUXkC:function(j,h,z){return j(h,z)},LRxDs:"project",BaZqU:"flower",XSRIA:"uniform",wFHVA:function(j,h,z,A){return j(h,z,A)},iPiwq:"boxmw",vVBsB:"RrFfY",CMPPD:function(j,h){return j>h},GWTiM:function(j,h){return j/h},AbWke:function(j,h){return j-h},otdzr:function(j,h,z,A){return j(h,z,A)},vnYkw:_(541),FfHQf:_(395),SWxSB:"layer",TBzcC:function(j,h){return j>h},ZswaB:function(j,h){return j===h},pEojT:function(j,h){return j!==h},rkJQM:_(424),kFKVq:_(492),VGeIs:"nLsrq",xVoBe:_(559),CqOoX:_(546),iRaqh:function(j,h){return j>h},AArWf:_(463),WfDEY:"flowers",CHjgH:"wBDcq",aLoSc:function(j,h){return j===h},qjMws:"jSVUz",bMDGt:_(497),jRlbC:function(j,h){return j>h},nYasD:function(j,h){return j!==h},sRisk:"WPwJx",RzzVT:function(j,h,z,A){return j(h,z,A)},RiXYj:function(j,h){return j!==h},AEsEP:_(481),erGUI:"pQCOw",LmURi:function(j,h){return j-h},AIZVk:_(499),fqRDI:"(((.+)+)+)+$",zkRjm:function(j,h){return j<h},gxPWX:function(j,h,z){return j(h,z)},HJNHJ:function(j,h){return j===h},tsvtv:_(496),JlGwq:function(j,h){return j(h)},xhLtz:function(j,h){return j===h},brogb:"petals",PiWYz:function(j,h,z){return j(h,z)},kqPvk:function(j,h,z){return j(h,z)},PxBJU:"grp",mMTcF:function(j,h,z){return j(h,z)},oCzdb:function(j,h){return j(h)},jPPjl:"group",hwpSj:function(j,h){return j(h)},iTwqJ:_(521),XzFOZ:function(j,h){return j+h},ddeJP:function(j,h){return j+h},KJGxQ:"back",lgGbd:"side",aFwzP:function(j,h,z,A){return j(h,z,A)},arNPK:_(577),vjXdR:function(j,h,z){return j(h,z)},NVNLk:"stencil",VQhpJ:function(j,h){return j(h)},IYgJV:function(j,h){return j+h},efqOg:_(428),yoWIp:"nyfMk",hPZgo:_(420),CuRDO:_(475),NqHcp:function(j,h){return j===h},PKCaP:function(j,h){return j>h},ZtQZV:function(j,h){return j===h},CsjXs:function(j,h){return j===h},uHNiM:"jqfEs",MEtSn:function(j,h){return j===h},MeBbk:_(438),KjYIn:"PPXXd",exRQq:function(j,h){return j===h},qRIhL:function(j,h){return j===h},WHiPa:function(j,h){return j===h},JcXYJ:"LDQNe",fNbmD:_(474),DYmpe:function(j,h){return j(h)},DYuIy:function(j,h){return j===h},jpEpe:"kyxvu",UerMn:_(423),kNciM:"MQfxP",fdNzD:function(j,h){return j-h},JCFnY:function(j,h,z,A,N){return j(h,z,A,N)},uxQHZ:function(j,h,z,A){return j(h,z,A)},DIwXG:function(j,h){return j===h},AdhHi:_(462),prant:function(j,h){return j===h},tkRJA:function(j,h){return j===h},Amfeh:function(j,h){return j===h},tybJG:function(j,h){return j===h},IdSXe:function(j,h){return j(h)},ztjid:function(j,h){return j(h)},lPcnM:function(j,h){return j===h},pfgOg:function(j,h){return j!==h},VEodN:"bNQMr"},M=j=>{const h=_,z=[...j[h(550)]].sort((L,O)=>L.order-O[h(455)]),A=z[0];if(!A)return 28;const N=j.fabricSquareSize??c.fabricSquareSize,{length:B}=y[h(528)](Rt,N),E=B*(A[h(544)]??1);let w;if(j[h(470)]==="")w=E/3;else{const O=70*Math.PI/180,Y=z[h(547)]+1,P=Y-1,te=Y>1?y.AinFV(P/(Y-1),O):0;w=y[h(433)](E,y.LDCai(30,100))*Math[h(560)](te)}return y.ggqhU(Math.round(y.IHuKd(y[h(473)](A.radius??28,w),10)),10)},D=j=>{const h={RUfqX:function(z,A){return y[qt(417)](z,A)},XCoYf:"NAygv",XDkCc:function(z,A){return z||A}};y.KUXkC(r,z=>{const A=qt;if(h[A(506)]!==h.XCoYf){for(const N of _0x2191c4[A(397)])N[A(575)]=N[A(575)].filter(B=>B!==_0x520ba2);_0x143509[A(397)]=_0x5d56ab.groups.filter(N=>N.flowerIds.length+N.leafIds[A(547)]>0)}else if(z[A(399)]=(z.flowers||[]).filter(N=>N.id!==j),z.groups)if(A(516)!=="UzVMi")h[A(572)](_0x2ef90f,{kind:A(463),flowerIds:_0x4c1596,leafIds:_0x27edd6});else{for(const N of z[A(397)])N.flowerIds=N[A(575)][A(494)](B=>B!==j);z.groups=z.groups.filter(N=>N.flowerIds[A(547)]+N[A(513)][A(547)]>0)}},!0),i({kind:y.LRxDs}),y.uiIYL(f,z=>{const A=qt,N={...h[A(416)](z,{})};return delete N[j],N})},g=(j,h)=>{const z=_,A=c[z(399)][z(574)](N=>N.id===j);if(A&&(A.layers||[])[z(547)]<=1){D(j);return}r(N=>{const B=z,E=(N[B(399)]||[]).find(w=>w.id===j);E&&(E[B(550)]=(E[B(550)]||[])[B(494)](w=>w.id!==h),E[B(550)][B(439)]().sort((w,L)=>w.order-L[B(455)]).forEach((w,L)=>w[B(455)]=L+1))},!0),i({kind:y[z(487)],flowerId:j})},d=j=>{const h=_,z={cDjZa:function(A,N,B,E,w){return A(N,B,E,w)},LUlzf:y[h(450)],vmhvr:function(A,N,B,E){return y.wFHVA(A,N,B,E)},brgYA:y.iPiwq};if(y.vVBsB==="TLGwr")y[h(528)](_0x32fecf,{kind:"flower",flowerId:_0x298244[0]});else{const A=c.flowers[h(574)](te=>te.id===j);if(!A)return;const N=[...A.layers].sort((te,xe)=>te[h(455)]-xe.order),B=N[0],E=y[h(509)](pe,B?.[h(537)]??6,5,24),w=N[h(522)](te=>te.scale??1),L=w.length<2||w.every(te=>Math.abs(te-w[0])<.001);let O=B?.scale??1;if(!L&&N.length>=2){const te=N[N[h(547)]-1],xe=(te.order??1)-(B.order??1);if(y[h(519)](xe,0)){const oe=y.GWTiM(y[h(514)](B.scale??1,te.scale??1),xe);O=y.otdzr(pe,y.NhOle(B[h(544)]??1,oe),.3,3)}}const Y=M(A),P={id:It(y.vnYkw),name:"Outer+",order:1,petalType:B?.[h(491)]??"",petalCount:E,radius:Y,scale:O,widthScale:y.uiIYL(oi,E),offsetAngle:B?.[h(502)]??0,colorId:B?.colorId??c[h(563)]?.[0]?.id??y[h(411)],visible:!0,locked:!1};B&&(P.offsetAngle=il(B[h(537)],B[h(502)]??0,E)),r(te=>{const xe=h,oe=te.flowers.find(Ie=>Ie.id===j);if(!oe)return;oe.layers[xe(421)](Ie=>Ie.order+=1),oe.layers.unshift(P);const fe=Math[xe(561)](ar(P.radius,P[xe(544)],oe[xe(518)]??te.fabricSquareSize)),be=oe[xe(518)]??te[xe(518)],he=oe[xe(470)]===""?z[xe(427)](rr,be,oe.layers.length,z[xe(418)],0):z[xe(578)](la,oe.baseDiameter??te.baseDiameter,be,{layerCount:oe[xe(550)][xe(547)]})[xe(401)];oe.flowerDiameter=Math.max(oe.flowerDiameter||he,fe);const ve=[...oe.layers][xe(539)]((Ie,nt)=>Ie.order-nt[xe(455)]),Ne=ve.reverse();for(let Ie=1;Ie<Ne.length;Ie++)if(xe(479)!==z.brgYA){_0x1c206c({kind:xe(492),flowerId:_0x220f59,layerId:_0x57682a,index:_0x334140});return}else{const nt=Ne[Ie-1],mt=Ne[Ie];mt.offsetAngle=z[xe(578)](il,nt[xe(537)],nt.offsetAngle,mt[xe(537)])}},!0),i({kind:y[h(505)],flowerId:j,layerId:P.id}),f(te=>({...te,[j]:!0}))}},k=j=>{const h=_,z={iOsZu:function(E,w){return y.TBzcC(E,w)},qUabi:function(E,w){return E<w},CZUCi:h(504),ocDGm:h(432),sbHLk:h(488)},A=c[h(399)].find(E=>E.id===j);if(!A||!A[h(550)]||A[h(550)][h(547)]===0)return;if(A[h(550)].length<=1){D(j);return}const N=[...A[h(550)]][h(539)]((E,w)=>E[h(455)]-w.order),B=N[0];B&&(y.KUXkC(r,E=>{const w=h,L=E.flowers.find(P=>P.id===j);if(!L)return;L.layers=L[w(550)][w(494)](P=>P.id!==B.id),L.layers.slice().sort((P,te)=>P.order-te[w(455)]).forEach((P,te)=>P[w(455)]=te+1);const O=[...L.layers].sort((P,te)=>P[w(455)]-te.order),Y=L.fabricSquareSize??E.fabricSquareSize;if(z[w(408)](O.length,0)){mx(O,Y);for(const xe of O){const oe=L[w(550)].find(fe=>fe.id===xe.id);oe&&(oe[w(464)]=xe.radius)}const P=O[0];L[w(471)]=Math.round(ar(P.radius,P.scale??1,Y));const te=[...O].reverse();for(let xe=1;z[w(436)](xe,te.length);xe++)if(z.CZUCi!==z[w(530)]){const oe=te[xe-1],fe=te[xe];fe[w(502)]=il(oe.petalCount,oe.offsetAngle,fe.petalCount)}else _0x2c624c({kind:"flowers",flowerIds:_0x33f9fa})}},!0),y.ZswaB(a.kind,h(565))&&a[h(538)]===B.id?y.pEojT(y[h(551)],y.rkJQM)?_0x73e8ba({kind:z[h(523)],flowerId:_0x1fa63a,petals:[{layerId:_0x35a6c9,index:_0x56a746}]}):i({kind:"flower",flowerId:j}):a.kind===y.kFKVq&&a[h(538)]===B.id&&(y[h(472)]==="jgQPp"?_0x4cb069[h(575)]=_0x29d9f8.flowerIds[h(494)](E=>!_0x5ee4de[h(393)](E)):y[h(417)](i,{kind:y[h(487)],flowerId:j})))},G=()=>{const j=_,h={KthOn:y[j(581)],RCbqB:y.fqRDI,tVdUU:function(z,A){return y[j(465)](z,A)}};if(a[j(403)]!=="project"){if(a[j(403)]==="leaf"){S(a.leafId);return}if(a.kind===j(462)){const z=a[j(513)];y.gxPWX(r,A=>{const N=j;if(A[N(462)]=(A[N(462)]??[])[N(494)](B=>!z.includes(B.id)),A.groups){for(const B of A[N(397)])B[N(513)]=B[N(513)].filter(E=>!z.includes(E));A.groups=A.groups.filter(B=>B[N(575)][N(547)]+B.leafIds[N(547)]>0)}},!0),i({kind:j(512)});return}if(a[j(403)]===y[j(558)]){const{flowerIds:z,leafIds:A}=a;r(N=>{const B=j,E={xXhaP:function(w,L,O){return w(L,O)}};if(y.ZswaB(y.xVoBe,B(483))){const w=_0x302ccf[B(453)][B(396)](/^ (\d+)$/);return w?E.xXhaP(_0x1897b8,w[1],10):0}else if(N[B(399)]=N[B(399)][B(494)](w=>!z.includes(w.id)),N[B(462)]=(N[B(462)]??[])[B(494)](w=>!A[B(393)](w.id)),N.groups)if(y[B(507)]!=="KqpoE"){for(const w of N[B(397)])w[B(575)]=w[B(575)].filter(L=>!z[B(393)](L)),w[B(513)]=w[B(513)].filter(L=>!A[B(393)](L));N[B(397)]=N[B(397)].filter(w=>w.flowerIds.length+w.leafIds[B(547)]>0)}else _0x13e8f6=_0x15e847/3},!0),i({kind:j(512)});return}if(y.HJNHJ(a.kind,y.WfDEY))if(y.aLoSc(j(552),y[j(454)]))y.iRaqh(_0x4b397b[j(547)],0)?y[j(528)](_0x48968e,{kind:"mixed",flowerIds:_0x4a3d49,leafIds:_0x28e52f}):_0x2d062.length===1?_0x30b124({kind:y[j(487)],flowerId:_0x429149[0]}):y.QEsEj(_0x59465a,{kind:j(399),flowerIds:_0x4501cb});else{const z=a.flowerIds;r(A=>{const N=j;if(h[N(467)]===h[N(467)]){if(A.flowers=A[N(399)].filter(B=>!z[N(393)](B.id)),A.groups){for(const B of A[N(397)])B.flowerIds=B.flowerIds[N(494)](E=>!z.includes(E));A.groups=A.groups.filter(B=>B.flowerIds.length+B[N(513)].length>0)}}else{if(!_0x1df352[N(397)])return;_0x15ea53[N(397)]=_0x548dac.groups[N(494)](B=>B.id!==_0x6ab27.groupId)}},!0),i({kind:"project"});return}if(y.HJNHJ(a.kind,"group")){r(z=>{const A=j;z[A(397)]&&(z.groups=z.groups.filter(N=>N.id!==a[A(524)]))},!0),i({kind:"project"});return}if(a.kind===j(456)){y.gxPWX(r,z=>{const A=j;z.stencils=(z.stencils??[])[A(494)](N=>N.id!==a.stencilId)},!0),y.JlGwq(i,{kind:"project"});return}if(y[j(568)](a[j(403)],y.brogb))if(y[j(555)]("mKNQv",j(554))){y[j(528)](i,{kind:y[j(487)],flowerId:a[j(429)]});return}else{const z=_0x363b18[j(429)];if(y[j(548)](z,_0x41a08f))return;const A=(_0x4e2268.groups??[]).find(L=>L[j(575)][j(393)](z)),N=A?A.flowerIds:[z],B=A?A[j(513)]:[],E=[...new _0x243c23([...N,..._0x50d538])],w=[...new _0x4747d3([...B,..._0x202049])];w[j(547)]>0?_0x128378({kind:y.AArWf,flowerIds:E,leafIds:w}):y[j(548)](E[j(547)],1)?y.QEsEj(_0x57bf05,{kind:"flower",flowerId:E[0]}):_0x5439cc({kind:y.WfDEY,flowerIds:E})}if(a[j(403)]===y.BaZqU){y[j(457)](r,z=>{const A=j,N={CoDbj:"project"};if(z[A(399)]=z[A(399)].filter(B=>B.id!==a.flowerId),z[A(397)])if(y[A(405)]!=="wBDcq")_0x28e896(B=>{const E=A;B[E(412)]=(B.stencils??[])[E(494)](w=>w.id!==_0x55c8d6)},!0),_0x1584f6[A(403)]===A(456)&&_0x26ff9a[A(493)]===_0x2e19ef&&_0x4f20cd({kind:N.CoDbj});else{for(const B of z.groups){if(y.aLoSc(y.qjMws,y[A(480)]))return _0x354eb5.toString()[A(508)](A(447)).toString()[A(562)](_0x21ffe2)[A(508)](NNvWgN[A(553)]);B[A(575)]=B.flowerIds.filter(E=>E!==a.flowerId)}z.groups=z.groups.filter(B=>B[A(575)].length+B.leafIds.length>0)}},!0),i({kind:y.LRxDs});return}if(a[j(403)]===y.SWxSB||y[j(543)](a[j(403)],"petal")){const z=c.flowers.find(N=>N.id===a.flowerId),A=z?y[j(548)]([...z[j(550)]].sort((N,B)=>N[j(455)]-B[j(455)])[0]?.id,a.layerId):!1;r(N=>{const B=j,E=N.flowers[B(574)](w=>w.id===a.flowerId);if(E&&(E.layers=E.layers.filter(w=>w.id!==a[B(538)]),E[B(550)].slice().sort((w,L)=>w.order-L.order).forEach((w,L)=>w.order=L+1),y[B(576)](E.layers[B(547)],0))){const w=[...E[B(550)]][B(539)]((Y,P)=>Y[B(455)]-P[B(455)]),L=E.fabricSquareSize??N[B(518)];y[B(549)](mx,w,L);for(const Y of w)if(y.nYasD(y.sRisk,B(485))){const P=E.layers[B(574)](te=>te.id===Y.id);P&&(P.radius=Y[B(464)])}else if(_0x29173b[B(399)]=(_0x16b50f.flowers||[]).filter(P=>P.id!==_0x3ac8c5),_0x168f4a[B(397)]){for(const P of _0x31597e[B(397)])P[B(575)]=P.flowerIds.filter(te=>te!==_0xd43a1a);_0xc84156.groups=_0x1a4ea8[B(397)].filter(P=>P.flowerIds.length+P[B(513)].length>0)}if(A){const Y=w[0];E.flowerDiameter=Math[B(561)](ar(Y[B(464)],Y.scale??1,L))}else{const Y=E[B(470)]===""?rr(L,E[B(550)][B(547)],y.XSRIA,0):la(E[B(404)]??N[B(404)],L,{layerCount:E[B(550)].length}).diameter;y.RzzVT(J0,w,L,E[B(471)]||Y);for(const P of w)if(y.RiXYj(y[B(542)],y[B(406)])){const te=E[B(550)].find(xe=>xe.id===P.id);te&&(te[B(464)]=P[B(464)],te[B(544)]=P[B(544)])}else{const te=_0x34240e[B(399)].find(fe=>fe.id===_0x1c8323);if(!te)return;te.layers=te[B(550)][B(494)](fe=>fe.id!==_0x1ee241.id),te[B(550)].slice()[B(539)]((fe,be)=>fe[B(455)]-be.order)[B(421)]((fe,be)=>fe.order=be+1);const xe=[...te.layers].sort((fe,be)=>fe[B(455)]-be[B(455)]),oe=te.fabricSquareSize??_0x192025.fabricSquareSize;if(xe.length>0){_0x2fb59b(xe,oe);for(const he of xe){const ve=te.layers.find(Ne=>Ne.id===he.id);ve&&(ve.radius=he.radius)}const fe=xe[0];te[B(471)]=_0x4c3ab4.round(_0x228610(fe.radius,fe.scale??1,oe));const be=[...xe][B(414)]();for(let he=1;NNvWgN.tVdUU(he,be.length);he++){const ve=be[he-1],Ne=be[he];Ne.offsetAngle=_0x599b1f(ve.petalCount,ve.offsetAngle,Ne[B(537)])}}}}const O=[...w][B(414)]();for(let Y=1;Y<O[B(547)];Y++){const P=O[y.LmURi(Y,1)],te=O[Y];te.offsetAngle=il(P.petalCount,P.offsetAngle,te.petalCount)}}},!0),i({kind:j(495),flowerId:a.flowerId})}}},R=j=>({id:j.id,name:j.name,flowerIds:[...j[_(575)]],leafIds:[...j[_(513)]],rotation:j[_(533)]}),q=ee.useCallback(j=>{const h=_,z={lcSyx:function(A,N,B){return y.kqPvk(A,N,B)},iTKex:function(A,N){return A>N}};if(h(482)!=="SNZqK"){const A=It(h(426));y.kqPvk(r,N=>{const B=h;N[B(397)]||(N.groups=[]);const E=N.groups.map(L=>{const O=B,Y=L.name[O(396)](/^ (\d+)$/);return Y?z.lcSyx(parseInt,Y[1],10):0}),w=z[B(501)](E.length,0)?Math[B(579)](...E)+1:1;N[B(397)].push({id:A,name:B(478)+w,flowerIds:[...j],leafIds:[],rotation:0})},!0),y.uiIYL(i,{kind:"group",groupId:A}),o(N=>({...N,[A]:!0}))}else _0x5106bf.groups=_0x1fca59.groups[h(494)](A=>A.id!==_0x4707e3)},[r,i,o]),K=y.gxPWX(ee.useCallback,(j,h)=>{const z=_,A=y.JlGwq(It,y[z(445)]);y[z(525)](r,N=>{const B=z;N[B(397)]||(N.groups=[]);const E=N.groups[B(522)](L=>{const O=B,Y=L[O(453)].match(/^ (\d+)$/);return Y?parseInt(Y[1],10):0}),w=E.length>0?Math[B(579)](...E)+1:1;N.groups.push({id:A,name:B(478)+w,flowerIds:[...j],leafIds:[...h],rotation:0})},!0),y.JlGwq(i,{kind:"group",groupId:A}),o(N=>({...N,[A]:!0}))},[r,i,o]),U=ee.useCallback(j=>{const h=_,z={RToua:function(A,N,B){return y.PiWYz(A,N,B)},blCGL:function(A,N){return y.oCzdb(A,N)},YBrzU:y.jPPjl,MHmyA:function(A,N){return y.TBzcC(A,N)},HjjIz:function(A,N){return A!==N},wlzGf:h(503),okUnM:function(A,N){return A(N)}};y[h(555)]("rSazv",h(476))?(r(A=>{const N=h,B={OldEb:function(w,L){return w(L)}};if(!A[N(397)])return;const E=A.groups.find(w=>w.id===j);if(E)if(E[N(532)]&&z.MHmyA(E.previousGroups[N(547)],0))if(z.HjjIz(z[N(422)],z[N(422)]))z.RToua(_0x1daa3f,w=>{const L=N,O=(w.groups??[]).find(Y=>Y.id===_0x51ba22);if(O){O[L(532)]=[B[L(580)](_0x5a2523,O)];for(const Y of _0x1f8fb7)O.flowerIds[L(393)](Y)||O[L(575)].push(Y)}},!0),z[N(500)](_0xbf0348,{kind:z.YBrzU,groupId:_0x1bc4b9});else{A[N(397)]=A[N(397)][N(494)](w=>w.id!==j);for(const w of E[N(532)])A[N(397)].push({id:w.id,name:w.name,flowerIds:[...w.flowerIds],leafIds:[...w.leafIds],rotation:w[N(533)]})}else A.groups=A.groups[N(494)](w=>w.id!==j)},!0),y[h(417)](i,{kind:y.LRxDs})):z[h(442)](_0x3dc841,{kind:"mixed",flowerIds:_0x447345,leafIds:_0x581904})},[r,i]),X=y[_(536)](ee.useCallback,j=>{const h=_,z={WTFpZ:function(A,N){return A>N},WlAab:"rSLVX"};r(A=>{const N=qt;if(N(435)===z[N(545)]){_0x2ecb6b[N(397)]||(_0x3dc033.groups=[]);const B=_0x1d2ef2.groups[N(522)](w=>{const L=N,O=w.name[L(396)](/^ (\d+)$/);return O?_0x24d043(O[1],10):0}),E=tGRLjc[N(413)](B.length,0)?_0x7107b0.max(...B)+1:1;_0x241142[N(397)].push({id:_0x3aa8fd,name:N(478)+E,flowerIds:[..._0x41863a],leafIds:[..._0x10f552],rotation:0})}else{if(!A[N(397)])return;A[N(397)]=A.groups[N(494)](B=>B.id!==j)}},!0),i({kind:h(512)})},[r,i]),H=ee.useCallback((j,h)=>{const z=_;r(A=>{const N=(A.groups??[]).find(B=>B.id===j);if(N){N.previousGroups=[R(N)];for(const B of h)N.flowerIds.includes(B)||N.flowerIds.push(B)}},!0),y.uiIYL(i,{kind:z(431),groupId:j})},[r,i]),F=y.KUXkC(ee.useCallback,(j,h)=>{const z=_,A={BrMaO:function(E,w){return E(w)}},N=j[0],B=j[z(439)](1);y.PiWYz(r,E=>{const w=z;if(!E.groups)return;const L=E[w(397)][w(574)](Y=>Y.id===N);if(!L)return;const O=[];for(const Y of j){const P=E.groups.find(te=>te.id===Y);P&&O[w(556)](A[w(489)](R,P))}L[w(532)]=O;for(const Y of B){const P=E.groups[w(574)](te=>te.id===Y);if(P){for(const te of P.flowerIds)L.flowerIds.includes(te)||L[w(575)].push(te);for(const te of P.leafIds)L[w(513)].includes(te)||L[w(513)].push(te)}}for(const Y of h)L[w(575)][w(393)](Y)||L[w(575)][w(556)](Y);E.groups=E.groups[w(494)](Y=>!B[w(393)](Y.id))},!0),y.hwpSj(i,{kind:y.jPPjl,groupId:N}),o(E=>({...E,[N]:!0}))},[r,i,o]),J=(j,h)=>{const z=_,A=m.w/m.h,N=520/v,B=y.AinFV(N,A),E=y[z(520)](-p.x,v),w=-p.y/v,L=y.XzFOZ(E,B/2),O=y[z(448)](w,N/2),Y=h===y.KJGxQ?z(567):y[z(410)],P=e1[j][Y][z(466)]*sn,te=pe(L,0,b),xe=y.aFwzP(pe,O-P/2,0,b),oe={id:It(y[z(569)]),variant:j,pose:h,position:{x:te,y:xe}};y.KUXkC(r,fe=>{const be=z,he={hLOnc:function(ve,Ne){return ve(Ne)}};y[be(419)]!=="aRcKq"?he[be(398)](_0xb7e9b0,{kind:be(488),flowerId:_0x26ed99,petals:[..._0x5d4015,{layerId:_0x441edf,index:_0x25beb2}]}):(fe.stencils||(fe[be(412)]=[]),fe[be(412)][be(556)](oe))},!0),y[z(540)](i,{kind:"stencil",stencilId:oe.id})},W=j=>{const h=_;y.vjXdR(r,z=>{const A=qt;z[A(412)]=(z.stencils??[])[A(494)](N=>N.id!==j)},!0),a[h(403)]===y[h(444)]&&y.aLoSc(a[h(493)],j)&&y.VQhpJ(i,{kind:h(512)})},I=y[_(457)](ee.useCallback,j=>{const h=_,z={WdLFD:function(E,w){return E(w)},PVJFG:y.BaZqU,PhOwm:function(E,w,L){return E(w,L)},gfFZe:function(E,w){return y[qt(458)](E,w)}},A=(c.groups??[]).find(E=>E[h(575)][h(393)](j)),N=A?A[h(575)]:[j],B=A?A[h(513)]:[];if(y.aLoSc(a[h(403)],h(399))){const E=a.flowerIds;if(E[h(393)](j))if(y.efqOg!==y.yoWIp){const w=new Set(N),L=E[h(494)](O=>!w.has(O));if(y[h(568)](L.length,0))y[h(543)](h(449),y.hPZgo)?z[h(430)](_0x82de93,{kind:z.PVJFG,flowerId:_0xeed791[0]}):i({kind:y.LRxDs});else if(y.aLoSc(L.length,1))y[h(511)](i,{kind:y[h(487)],flowerId:L[0]});else if(y.nYasD(y.CuRDO,h(451)))i({kind:y[h(510)],flowerIds:L});else{const O=(_0x16b690.flowers||[]).find(Y=>Y.id===_0x3cc638);if(!O)return;O.layers=(O.layers||[]).filter(Y=>Y.id!==_0x517f70),O[h(550)][h(439)]()[h(539)]((Y,P)=>Y[h(455)]-P[h(455)]).forEach((Y,P)=>Y[h(455)]=P+1)}}else return;else{const w=[...new Set([...E,...N])];B[h(547)]>0?i({kind:h(463),flowerIds:w,leafIds:B}):y[h(528)](i,{kind:h(399),flowerIds:w})}}else if(a[h(403)]==="flower"||a.kind===h(565)||a.kind===y[h(446)]||y[h(527)](a[h(403)],"petals")){const E=a[h(429)];if(E===j)return;const w=(c.groups??[])[h(574)](te=>te[h(575)].includes(E)),L=w?w.flowerIds:[E],O=w?w[h(513)]:[],Y=[...new Set([...L,...N])],P=[...new Set([...O,...B])];y.PKCaP(P.length,0)?i({kind:"mixed",flowerIds:Y,leafIds:P}):y.ZtQZV(Y[h(547)],1)?i({kind:y.BaZqU,flowerId:Y[0]}):i({kind:y[h(510)],flowerIds:Y})}else if(y.CsjXs(a[h(403)],h(431)))if(y.uHNiM===y.uHNiM){const E=(c[h(397)]??[])[h(574)](P=>P.id===a.groupId),w=E?E.flowerIds:[],L=E?E.leafIds:[];if(w[h(393)](j))return;const O=[...new Set([...w,...N])],Y=[...new Set([...L,...B])];y[h(486)](Y[h(547)],0)?i({kind:"mixed",flowerIds:O,leafIds:Y}):y[h(571)](i,{kind:y.WfDEY,flowerIds:O})}else{_0x33382d[h(397)]||(_0x27cb15.groups=[]);const E=_0x37570c[h(397)][h(522)](L=>{const O=h,Y=L.name[O(396)](/^ (\d+)$/);return Y?gDaIIE.PhOwm(_0x339578,Y[1],10):0}),w=E[h(547)]>0?gDaIIE.gfFZe(_0x50d983.max(...E),1):1;_0x536f5d.groups.push({id:_0x2a5f6b,name:" "+w,flowerIds:[..._0x54277c],leafIds:[],rotation:0})}else if(y[h(425)](a[h(403)],y.MeBbk)){const E=(c.groups??[])[h(574)](P=>P.leafIds[h(393)](a.leafId)),w=E?E[h(575)]:[],L=E?E.leafIds:[a.leafId],O=[...new Set([...w,...N])],Y=[...new Set([...L,...B])];Y[h(547)]>0?y.QEsEj(i,{kind:y[h(558)],flowerIds:O,leafIds:Y}):y[h(400)](i,{kind:h(399),flowerIds:O})}else if(a.kind===h(462))if(y[h(568)](h(490),y.KjYIn))_0x3a5360({kind:y[h(558)],flowerIds:_0x936add,leafIds:_0x2bdb00});else{const E=[...new Set(N)],w=[...new Set([...a.leafIds,...B])];y[h(511)](i,{kind:y[h(558)],flowerIds:E,leafIds:w})}else if(a[h(403)]===y.AArWf){const E=a[h(575)],w=a.leafIds;if(E[h(393)](j)){const L=new Set(N),O=new Set(B),Y=E.filter(te=>!L[h(484)](te)),P=w[h(494)](te=>!O.has(te));y[h(515)](Y[h(547)],0)&&y.qRIhL(P[h(547)],0)?y.JlGwq(i,{kind:y.LRxDs}):Y[h(547)]===0&&y[h(459)](P.length,1)?i({kind:y.MeBbk,leafId:P[0]}):Y[h(547)]===0?i({kind:"leaves",leafIds:P}):y[h(568)](P.length,0)&&y[h(527)](Y.length,1)?y[h(511)](i,{kind:h(495),flowerId:Y[0]}):P[h(547)]===0?i({kind:y[h(510)],flowerIds:Y}):i({kind:"mixed",flowerIds:Y,leafIds:P})}else if(y.JcXYJ!==y.fNbmD){const L=[...new Set([...E,...N])],O=[...new Set([...w,...B])];i({kind:"mixed",flowerIds:L,leafIds:O})}else{const L=_0x49e4af.groups.find(O=>O.id===_0x67963d);L&&_0x458d5a[h(556)](gDaIIE.WdLFD(_0x29107f,L))}}else if(y.PKCaP(B.length,0))y[h(570)](i,{kind:"mixed",flowerIds:N,leafIds:B});else if(y.DYuIy(N[h(547)],1))y[h(477)]!==y[h(566)]?i({kind:h(495),flowerId:N[0]}):z[h(430)](_0x44643c,{kind:z[h(469)],flowerId:_0x2f5fb3});else if(h(434)!==y[h(415)]){const E=_0x214dbb[h(550)].find(w=>w.id===_0xa1c347.id);E&&(E[h(464)]=_0x7a24f3.radius)}else i({kind:h(399),flowerIds:N})},[a,i,c[_(397)]]);return{deleteFlowerById:D,deleteLayerById:g,computeNewOuterRadius:M,addOuterLayer:d,deleteOuterLayer:k,deleteSelected:G,groupSelectedFlowers:q,groupSelectedMixed:K,ungroupFlowers:U,ungroupAll:X,addToGroup:H,mergeGroups:F,addStencil:J,deleteStencil:W,handleShiftFlowerSelect:I,togglePetalSelection:(j,h,z,A)=>{const N=_;if(N(440)!=="ENczj"){if(!A){i({kind:"petal",flowerId:j,layerId:h,index:z});return}const B=h+":"+z;if(y[N(460)](a[N(403)],y[N(517)])&&y[N(527)](a[N(429)],j)){const E=a.petals||[];if(E[N(468)](L=>L.layerId+":"+L[N(534)]===B)){const L=E.filter(O=>O[N(538)]+":"+O.index!==B);if(y[N(409)](L[N(547)],0))i({kind:"flower",flowerId:j});else if(y.Amfeh(L[N(547)],1))if(y.tybJG("QItLl",N(498)))y[N(571)](i,{kind:N(492),flowerId:j,layerId:L[0][N(538)],index:L[0][N(534)]});else{const O=_0x16ccf3[y[N(402)](_0x1d8d95,1)],Y=_0x7cc15f[_0x945d49];Y[N(502)]=_0x2fee95(O.petalCount,O[N(502)],Y.petalCount)}else y[N(407)](i,{kind:N(488),flowerId:j,petals:L})}else y.ztjid(i,{kind:N(488),flowerId:j,petals:[...E,{layerId:h,index:z}]})}else if(a[N(403)]===y.kFKVq&&y.lPcnM(a[N(429)],j)){const E={layerId:a[N(538)],index:a.index},w={layerId:h,index:z};if(E.layerId+":"+E[N(534)]===B)return;y[N(511)](i,{kind:y.brogb,flowerId:j,petals:[E,w]})}else if(y.pfgOg("bNQMr",y.VEodN)){const E=_0x399b8e[N(470)]===""?y[N(531)](_0x5701f8,_0x1a5ce4,_0x368723.layers.length,"uniform",0):y.uxQHZ(_0x12bbaa,_0x43c71c.baseDiameter??_0x1b8b86.baseDiameter,_0x15601e,{layerCount:_0x3352a8[N(550)][N(547)]}).diameter;_0xf7f814(_0x397574,_0x210494,_0x273c7d[N(471)]||E);for(const w of _0x254275){const L=_0x352a1a[N(550)].find(O=>O.id===w.id);L&&(L.radius=w.radius,L[N(544)]=w[N(544)])}}else y.IdSXe(i,{kind:y[N(517)],flowerId:j,petals:[{layerId:h,index:z}]})}else{const B=new _0x487c8b(_0x57901c),E=new _0x3a97ba(_0x36f968),w=_0x8c61e7.filter(O=>!B.has(O)),L=_0x4558bc[N(494)](O=>!E[N(484)](O));w.length===0&&y.ZswaB(L.length,0)?_0x18edf3({kind:N(512)}):y[N(441)](w[N(547)],0)&&L[N(547)]===1?_0x22e340({kind:N(438),leafId:L[0]}):y.xhLtz(w.length,0)?y[N(571)](_0x493b74,{kind:y.AdhHi,leafIds:L}):L[N(547)]===0&&y.CsjXs(w[N(547)],1)?_0x27b6c8({kind:y[N(487)],flowerId:w[0]}):L.length===0?_0x2497cf({kind:N(399),flowerIds:w}):_0x3105c0({kind:y[N(558)],flowerIds:w,leafIds:L})}}}}(function(c,r){const a=xn,i=c();for(;;)try{if(parseInt(a(255))/1*(parseInt(a(314))/2)+-parseInt(a(283))/3+parseInt(a(275))/4*(-parseInt(a(285))/5)+-parseInt(a(280))/6+-parseInt(a(292))/7*(-parseInt(a(252))/8)+-parseInt(a(277))/9*(parseInt(a(258))/10)+parseInt(a(306))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,845689);const sb=(function(){let c=!0;return function(r,a){const i=c?function(){const f=xn;if(a){const o=a[f(257)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Ex=sb(void 0,function(){const c=xn,r={HFNxn:"(((.+)+)+)+$"};return Ex.toString()[c(313)](c(250)).toString().constructor(Ex)[c(313)](r[c(259)])});Ex();function K0(){const c=["ChjLDMLVDxnhCM91Chm","BwL4zwq","zgrQCMG","otmZnKvOzLDyyG","BxjRCw0","otLtvufUwe8","rMLVrxu","zMfbv2q","nJu0mte4ohvqqw1nBG","z2nIz2C","rvzrsfi","mJK5nJyZnfzitevAuW","B1Pcs0C","mtK2nuH2su1XBG","BgvHzKLK","z1LeCu0","ChjVAMvJDa","BgvHzKLKCW","BgvHDMvZ","y1rjBuO","n05zyxvAAq","BMfTzq","zMXVD2vY","D25Tv1y","z3jW","rNPPAuO","tLzTs28","EK9Ir08","BgvUz3rO","q2znwNu","vKXrBLG","y2vQseC","Aw5JBhvKzxm","u0Tjwvy","nteWotm5otL6EfP3Bhu","tfjzBuy","v0LtAgC","vKTnsgW","vxvYALi","BwfW","DNPQzLa","C2vHCMnO","otyWndzbyNfOzMW","DgrcvMW","qK5WzhK","z3jVDxbjza","zMXVD2vYswrZ","AgfZ","u3reC0O","CNHWCxK","zMLSDgvY","A2LUza","sfvut2u","BgvHzG","t1vhDfa","qu9pEuG","z3jVDxbZ","t0fdAfy","rK5JsKW","AwrgD1a","kcGOlISPkYKRksSK","vhH6vuG","nZCWotzPtgDsyui","uhngvfC","ChvZAa","mvDYtgfJtW","A1zLsNO","yxbWBhK","nZCZmJiWthDxshju","sezoEg4","Bwf0y2G","Cgv0ywW","z3jVDxa","zMLUza","tLbhENC","DwTptNu","vufjCK0","DNvvyuW","CM90yxrPB24","zMXVD2vYCW","Dg9tDhjPBMC","EKjVqNG"];return K0=function(){return c},K0()}function xn(c,r){c=c-250;const a=K0();let i=a[c];if(xn.iXRoJm===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};xn.yXkiyI=f,xn.OrQtkV={},xn.iXRoJm=!0}const o=a[0],v=c+o,p=xn.OrQtkV[v];if(p)i=p;else{const m=function(b){this.HtrjjW=b,this.fwrUxm=[1,0,0],this.nGxBiy=function(){return"newState"},this.yVkePc="\\w+ *\\(\\) *{\\w+ *",this.FTtegC=`['|"].+['|"];? *}`};m.prototype.PcRftG=function(){const b=new RegExp(this.yVkePc+this.FTtegC),S=b.test(this.nGxBiy.toString())?--this.fwrUxm[1]:--this.fwrUxm[0];return this.WWtsPi(S)},m.prototype.WWtsPi=function(b){return~b?this.RGAtdz(this.HtrjjW):b},m.prototype.RGAtdz=function(b){for(let S=0,_=this.fwrUxm.length;S<_;S++)this.fwrUxm.push(Math.round(Math.random())),_=this.fwrUxm.length;return b(this.fwrUxm[0])},new m(xn).PcRftG(),i=xn.yXkiyI(i),xn.OrQtkV[v]=i}return i}function ob({project:c,applyUpdate:r,selection:a,setSelection:i}){const f=xn,o={ddjrh:function(g,d){return g!==d},gcbgg:function(g,d,k){return g(d,k)},gYDqM:function(g,d){return g(d)},TxzUH:f(288),cTImJ:f(273),FioEu:"JiGEW",WIShg:function(g,d){return g===d},HUTOe:f(325),wnmWV:function(g,d){return g(d)},VLQnX:"leaves",cejHG:function(g,d){return g(d)},qLyDu:function(g,d){return g!==d},qCCSb:f(326),mCbdW:function(g,d){return g===d},UurjR:function(g,d){return g>d},FZNeE:function(g,d){return g(d)},ENOQl:f(262),zBoBx:function(g,d){return g>d},yQxDJ:function(g,d){return g===d},OAChV:function(g,d){return g===d},EVQHR:function(g,d){return g===d},UAIrM:"moxah",HdnvO:function(g,d){return g(d)},HvxjY:function(g,d){return g(d)},faAWd:function(g,d){return g===d},Mpvmy:f(294),kwroj:function(g,d){return g===d},NPGzw:"flowers",zObGO:function(g,d){return g!==d},VKMHl:f(276),SxFCr:function(g,d){return g(d)},idFwP:"JpTVO",rsohw:"jcjuH",FziiJ:function(g,d){return g+d},LdumF:"RPbtu",mrYHX:function(g,d){return g(d)},pDZiQ:f(305),tdBVl:function(g,d){return g(d)},FNcJL:"(((.+)+)+)+$",oZBKG:function(g,d){return g>d},TPBEf:f(312),PLOVR:function(g,d){return g===d},vuUaL:f(265),CfMZu:function(g,d,k){return g(d,k)},QOspI:function(g,d,k){return g(d,k)}},v=g=>{const d=f;o[d(281)](r,k=>{const G=d;if(k[G(290)]=(k[G(290)]??[]).filter(R=>R.id!==g),k.groups){for(const R of k[G(328)])if(o[G(274)](G(307),"LRYmF")){for(const q of _0x5eb048.groups)q[G(289)]=q[G(289)].filter(K=>K!==_0x52c454);_0x3eea0f.groups=_0x3fbb9a.groups[G(322)](q=>q[G(318)][G(300)]+q.leafIds[G(300)]>0)}else R.leafIds=R[G(289)].filter(q=>q!==g);k.groups=k.groups[G(322)](R=>R.flowerIds.length+R.leafIds[G(300)]>0)}},!0),o[d(287)](i,{kind:o[d(251)]})},p=ee.useCallback(g=>{const d=f,k={GwtZM:function(G,R){return o[xn(287)](G,R)},StDsJ:"leaves",eWsIc:o[d(291)]};if(o.FioEu===o[d(278)]){const G=(c.groups??[])[d(263)](K=>K.leafIds[d(304)](g)),R=G?G.leafIds:[g],q=G?G.flowerIds:[];if(o.WIShg(a[d(323)],d(290))){const K=a[d(289)];if(K.includes(g)){const U=new Set(R),X=K.filter(H=>!U.has(H));if(X.length===0)if(d(298)==="NVmKo")o.gYDqM(i,{kind:"project"});else{if(!_0x39c3b9[d(328)])return;for(const H of _0x3a81fd[d(328)])H.leafIds=H[d(289)][d(322)](F=>F!==_0x3f6caf);_0x5a1ff2[d(328)]=_0x43731d[d(328)].filter(H=>H[d(318)].length+H.leafIds[d(300)]>0)}else X[d(300)]===1?o.gYDqM(i,{kind:o.HUTOe,leafId:X[0]}):o[d(295)](i,{kind:o.VLQnX,leafIds:X})}else{const U=[...new Set([...K,...R])];q[d(300)]>0?o.cejHG(i,{kind:o.cTImJ,flowerIds:q,leafIds:U}):i({kind:o.VLQnX,leafIds:U})}}else if(o[d(308)](a.kind,o[d(324)]))if(o.qLyDu(o.qCCSb,"OUGtP")){const K=_0xeb97e0.groups.find(U=>U.id===_0x6d6876);K&&_0x1db175.push(k.GwtZM(_0x65330b,K))}else{if(o.mCbdW(a[d(286)],g))return;const K=(c[d(328)]??[])[d(263)](J=>J[d(289)].includes(a.leafId)),U=K?K[d(289)]:[a.leafId],X=K?K.flowerIds:[],H=[...new Set([...U,...R])],F=[...new Set([...X,...q])];o[d(310)](F[d(300)],0)?o.cejHG(i,{kind:d(273),flowerIds:F,leafIds:H}):H[d(300)]===1?o.FZNeE(i,{kind:"leaf",leafId:H[0]}):i({kind:o.VLQnX,leafIds:H})}else if(a.kind===o.ENOQl){const K=(c[d(328)]??[]).find(J=>J.id===a[d(317)]),U=K?K[d(289)]:[],X=K?K[d(318)]:[];if(U.includes(g))return;const H=[...new Set([...U,...R])],F=[...new Set([...X,...q])];o.zBoBx(F.length,0)?i({kind:"mixed",flowerIds:F,leafIds:H}):o[d(295)](i,{kind:o[d(302)],leafIds:H})}else if(o.yQxDJ(a[d(323)],d(294))||o[d(329)](a[d(323)],"layer")||o[d(308)](a[d(323)],d(261))||a.kind==="petals"){const K=a.flowerId,U=(c.groups??[]).find(W=>W.flowerIds[d(304)](K)),X=U?U[d(318)]:[K],H=U?U.leafIds:[],F=[...new Set([...X,...q])],J=[...new Set([...H,...R])];i({kind:o[d(291)],flowerIds:F,leafIds:J})}else if(o.EVQHR(a[d(323)],d(269))){const K=[...new Set([...a[d(318)],...q])],U=[...new Set(R)];o[d(303)](i,{kind:o[d(291)],flowerIds:K,leafIds:U})}else if(o.EVQHR(a.kind,o[d(291)])){const K=a[d(318)],U=a.leafIds;if(U[d(304)](g))if(o[d(274)](o[d(266)],o[d(266)]))_0x3dfdcf({kind:d(273),flowerIds:_0x2e7f8b,leafIds:_0x40399e});else{const X=new Set(R),H=new Set(q),F=U.filter(W=>!X[d(319)](W)),J=K[d(322)](W=>!H[d(319)](W));J[d(300)]===0&&F[d(300)]===0?o.HdnvO(i,{kind:"project"}):J[d(300)]===0&&F[d(300)]===1?o.HvxjY(i,{kind:"leaf",leafId:F[0]}):J.length===0?o.gYDqM(i,{kind:d(290),leafIds:F}):F[d(300)]===0&&o[d(279)](J.length,1)?i({kind:o.Mpvmy,flowerId:J[0]}):o.kwroj(F.length,0)?o[d(295)](i,{kind:o[d(264)],flowerIds:J}):i({kind:d(273),flowerIds:J,leafIds:F})}else{const X=[...new Set([...K,...q])],H=[...new Set([...U,...R])];i({kind:o[d(291)],flowerIds:X,leafIds:H})}}else if(d(316)==="BNpdy")if(q[d(300)]>0)i({kind:o[d(291)],flowerIds:q,leafIds:R});else if(o[d(308)](R[d(300)],1))i({kind:o.HUTOe,leafId:R[0]});else if(o[d(299)](d(253),o[d(309)]))i({kind:d(290),leafIds:R});else{const K=(_0x588182.groups??[]).find(U=>U.id===_0x5d0abe);K&&!K[d(289)].includes(_0x4f6a85)&&K.leafIds[d(254)](_0x14b088)}else _0x4e735d({kind:k[d(320)],leafIds:_0x27aa1a})}else _0x5bf2ee({kind:k.eWsIc,flowerIds:_0x37e4b2,leafIds:_0x52dc81})},[a,i,c.groups]),m=g=>({id:g.id,name:g.name,flowerIds:[...g[f(318)]],leafIds:[...g.leafIds],rotation:g[f(268)]}),b=o.gcbgg(ee.useCallback,g=>{const d=f;if(o[d(331)]!==o.rsohw){const k=o.gYDqM(It,d(296)),G=(c.groups??[])[d(311)](q=>{const K=d,U=q[K(293)][K(260)](/^ (\d+)$/);return U?o.gcbgg(parseInt,U[1],10):0}),R=o[d(271)](G.length,0)?o[d(297)](Math.max(...G),1):1;r(q=>{const K=d;q[K(328)]||(q.groups=[]),q[K(328)][K(254)]({id:k,name:" "+R,flowerIds:[],leafIds:[...g],rotation:0})},!0),i({kind:d(262),groupId:k})}else o.SxFCr(_0xe0e531,{kind:o.cTImJ,flowerIds:_0x2fb951,leafIds:_0x11ed6e})},[c.groups,r,i]),S=ee.useCallback((g,d)=>{const k=f;o[k(281)](r,G=>{const R=k;if(o.LdumF==="HGUbS"){_0x453196.groups=_0x460728.groups[R(322)](q=>q.id!==_0x368215);for(const q of _0x26d9bb.previousGroups)_0x21d6c0.groups[R(254)]({id:q.id,name:q.name,flowerIds:[...q.flowerIds],leafIds:[...q[R(289)]],rotation:q.rotation})}else{const q=(G.groups??[]).find(K=>K.id===g);if(!q)return;q.previousGroups=[o[R(295)](m,q)];for(const K of d)q.leafIds.includes(K)||q.leafIds.push(K)}},!0),o.HdnvO(i,{kind:"group",groupId:g})},[r,i]),_=o.QOspI(ee.useCallback,(g,d)=>{const k=f;if(o[k(282)](o.pDZiQ,"xLjrR")){const G=[...new _0xf57a62([..._0x19323c,..._0x5afc7e])],R=[...new _0x237560([..._0x3569a0,..._0xcb25bd])];YVODqy.egIkE(_0x330a3a,{kind:k(273),flowerIds:G,leafIds:R})}else{const G=g[0],R=g.slice(1);o.gcbgg(r,q=>{const K=k;if(!q.groups)return;const U=q[K(328)][K(263)](H=>H.id===G);if(!U)return;const X=[];for(const H of g){const F=q.groups.find(J=>J.id===H);F&&X[K(254)](o.mrYHX(m,F))}U.previousGroups=X;for(const H of R){const F=q.groups[K(263)](J=>J.id===H);if(F){for(const J of F[K(289)])U.leafIds[K(304)](J)||U[K(289)][K(254)](J);for(const J of F[K(318)])U.flowerIds[K(304)](J)||U.flowerIds.push(J)}}for(const H of d)U.leafIds[K(304)](H)||U.leafIds[K(254)](H);q.groups=q.groups.filter(H=>!R[K(304)](H.id))},!0),o[k(315)](i,{kind:o.ENOQl,groupId:G})}},[r,i]),y=o.QOspI(ee.useCallback,g=>{const d=f;o.PLOVR(d(256),o[d(267)])?_0x229479(k=>{const G=d,R=(k.groups??[])[G(263)](q=>q.id===_0x3cc1e6);R&&!R.leafIds.includes(_0x55a53f)&&R[G(289)][G(254)](_0x41bdcc)},!0):(r(k=>{const G=d;if(o[G(330)],!k[G(328)])return;const R=k.groups.find(q=>q.id===g);if(R)if(R.previousGroups&&o[G(284)](R[G(272)][G(300)],0)){k[G(328)]=k.groups.filter(q=>q.id!==g);for(const q of R.previousGroups)k[G(328)].push({id:q.id,name:q[G(293)],flowerIds:[...q[G(318)]],leafIds:[...q.leafIds],rotation:q.rotation})}else if(G(327)!==o.TPBEf)k.groups=k.groups[G(322)](q=>q.id!==g);else return _0x55f9b2[G(270)]().search(CuCFWB[G(321)])[G(270)]().constructor(_0x206208).search(G(250))},!0),i({kind:o[d(251)]}))},[r,i]),M=ee.useCallback((g,d)=>{r(k=>{const G=xn,R=(k[G(328)]??[])[G(263)](q=>q.id===d);R&&!R.leafIds.includes(g)&&R.leafIds.push(g)},!0)},[r]),D=o[f(301)](ee.useCallback,g=>{const d=f;o[d(301)](r,k=>{const G=d;if(k.groups){for(const R of k.groups)R.leafIds=R[G(289)].filter(q=>q!==g);k[G(328)]=k.groups.filter(R=>R[G(318)].length+R.leafIds.length>0)}},!0)},[r]);return{deleteLeafById:v,handleShiftLeafSelect:p,groupSelectedLeaves:b,ungroupLeaves:y,addLeafToGroup:M,removeLeafFromGroup:D,addLeavesToGroup:S,mergeLeafGroups:_}}function Cn(c,r){c=c-119;const a=Z0();let i=a[c];if(Cn.INLqLV===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};Cn.AlcypB=f,Cn.UyCYYC={},Cn.INLqLV=!0}const o=a[0],v=c+o,p=Cn.UyCYYC[v];if(p)i=p;else{const m=function(b){this.OlrKmW=b,this.UtifcO=[1,0,0],this.hBqPmO=function(){return"newState"},this.hvXCbP="\\w+ *\\(\\) *{\\w+ *",this.vRByuK=`['|"].+['|"];? *}`};m.prototype.ECCLPr=function(){const b=new RegExp(this.hvXCbP+this.vRByuK),S=b.test(this.hBqPmO.toString())?--this.UtifcO[1]:--this.UtifcO[0];return this.RMjDFz(S)},m.prototype.RMjDFz=function(b){return~b?this.kIUIVx(this.OlrKmW):b},m.prototype.kIUIVx=function(b){for(let S=0,_=this.UtifcO.length;S<_;S++)this.UtifcO.push(Math.round(Math.random())),_=this.UtifcO.length;return b(this.UtifcO[0])},new m(Cn).ECCLPr(),i=Cn.AlcypB(i),Cn.UyCYYC[v]=i}return i}(function(c,r){const a=Cn,i=c();for(;;)try{if(-parseInt(a(129))/1*(parseInt(a(188))/2)+parseInt(a(191))/3*(-parseInt(a(156))/4)+-parseInt(a(179))/5*(parseInt(a(164))/6)+-parseInt(a(159))/7+parseInt(a(185))/8*(parseInt(a(147))/9)+-parseInt(a(193))/10*(-parseInt(a(127))/11)+parseInt(a(120))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,685096);const fb=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Cn;if(a){const o=a[f(128)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Bx=fb(void 0,function(){const c=Cn,r={oVoYq:c(136)};return Bx[c(131)]().search(c(136)).toString().constructor(Bx).search(r.oVoYq)});Bx();function Z0(){const c=["zgLHBwv0zxi","mtHSBNj3sue","rMXVD2vYia","tePsqu4","B3jKzxi","rwLcAgu","sw5Uzxi","ywjZ","C1f2Exe","EfLpDKe","ndr6wMfpwKe","te1NEMO","zMXVD2vY","nJq2odyZmgTOvefKtq","tgf5zxi","z0TbBxy","ChvZAa","t1LRswe","nM52wvnjCG","r1PnBfy","Bgf5zxjdB3vUDa","A0DWz3G","s0fUyK0","CMfKAxvZ","zvjgvMe","CePzt2i","C2L6zvn0zxbnBq","EuXxyMS","Cg9ZAxrPB24","r2zkvxC","Dw5PzM9YBq","v1Hetuu","tgjeswG","mZy5odCYnwHJsgfYEa","yMHLr3u","tvzXvKO","D0DeDMC","uM5fvhe","A2LhDey","mtiYmta1nLjwwfDfBW","q3DrzNa","B0nYruS","mJe1mZK3nePxthHrra","C2nHBgu","Dhr0BK4","mtqWmtuXBu5gBg5h","A2n0ruu","mtbAy0PVzfe","BgvUz3rO","mZe1nteYnJrABuPrC3y","v0LlrhK","zMX3","tgf5zxiG","zMXVD2vYCW","ywjyDMe","sfDKtem","mteWntC5ntLcsNvPANu","yxbWBhK","mvDRu056vq","C3bSAxq","Dg9tDhjPBMC","t3v0zxiR","zMXVD2vYrgLHBwv0zxi","C29YDa","EK1wAxu","kcGOlISPkYKRksSK","zMLUza","C2L6zu1Vzgu","y29Sx3DOAxrL","44or44o844oR","zMfICMLJu3f1yxjLu2L6zq","v0nIALC","yMfZzurPyw1LDgvY","zM5XrKe","uhbKuNO"];return Z0=function(){return c},Z0()}function db({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:f,pan:o,stageSize:v,CANVAS_MAX_SVG:p}){const m=Cn,b={OYkIa:function(d,k){return d!==k},SrdXN:"Adygu",LbDIh:function(d,k){return d===k},MVqVJ:"",sQvyq:function(d,k,G,R){return d(k,G,R)},kGpgx:function(d,k){return d/k},GZMlV:function(d,k){return d*k},wGDvg:function(d,k){return d*k},EiBhe:function(d,k,G,R,q){return d(k,G,R,q)},KAnbM:function(d,k){return d(k)},XvkQF:function(d,k){return d*k},gKAmv:"Center",vWWEA:m(152),qSBfh:"Middle",abXva:function(d,k){return d!==k},NLQUy:m(176),oCrEK:function(d,k){return d+k},QCfgZ:"IDnlH",gfZuB:"KxLEo",LMgzj:function(d,k){return d/k},WIKDy:function(d,k){return d-k},BehyU:function(d,k){return d===k},tttnN:function(d,k){return d/k},ixkqE:function(d,k){return d/k},LJRAN:function(d,k){return d+k},LYhVW:function(d,k){return d*k},fnqFA:function(d,k){return d!==k},LhqtW:m(186),rPquF:"jbwLe",GrfwS:"lay",kctEE:function(d,k){return d===k},yLWbk:"wFBgc",eRFVa:m(177),gcmYi:function(d,k){return d/k},wMEEI:function(d,k){return d*k},pJYOb:function(d,k){return d/k},xYOvA:"2|0|3|1|4",WCbjW:function(d,k,G,R){return d(k,G,R)},bheGu:m(122),RnETq:m(140),MOtrB:m(139),kqtAC:function(d,k){return d(k)},kiGtF:function(d,k){return d(k)},HWdLC:function(d,k){return d(k)}},[S,_]=b.KAnbM(ee.useState,!1),[y,M]=ee.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c[m(143)],layerCount:1,petalCount:6,petalType:"",sizeMode:"uniform",sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:S,setShowAddFlowerDialog:_,addFlowerOpts:y,setAddFlowerOpts:M,addFlower:()=>{const d=c.fabricSquareSize,k=c.baseDiameter;M(G=>{const R=Cn;if(b[R(163)](b.SrdXN,R(145))){const q={...G,fabricSquareSize:d,baseDiameter:k};return b.LbDIh(q.placementMode,b.MVqVJ)?q[R(133)]=b.sQvyq(la,k,d,{layerCount:q[R(166)],sizeMode:q.sizeMode,sizeStepMm:q.sizeStepMm})[R(146)]:q.flowerDiameter=rr(d,q.layerCount,q[R(138)],q[R(172)]),q}else _0x2c1b64=_0x293c6a/3}),_(!0)},confirmAddFlower:()=>{const d=m;b.MVqVJ;const{placementMode:k,layerCount:G,petalCount:R,petalType:q,sizeMode:K,sizeStepMm:U}=y,X=y[d(141)],{length:H}=b[d(168)](Rt,X),F=.28,J=b[d(167)](Math.round(b.XvkQF(H,F)*10),10),W=[],I=[b[d(161)],b.vWWEA,b.qSBfh,"Outer",d(132)];let Z=J,j=0;for(let oe=0;oe<G;oe++)if(b.abXva(d(135),"ctrna")){const fe=oe,be=1;let he;if(b.LbDIh(K,b.NLQUy))he=be;else{const nt=b.kGpgx(U,X);he=b[d(154)](pe,b[d(187)](be,fe*nt),.3,3)}let ve;if(oe===0)ve=J;else if(b[d(125)](b.QCfgZ,b.gfZuB)){const nt=K==="gradual"?pe(1+b[d(157)](b[d(121)](oe,1)*U,X),.3,3):1,mt=b.XvkQF(H,nt);let it;if(b.BehyU(k,b.MVqVJ)){const lt=b[d(190)](b[d(165)](70,Math.PI),180),wt=G>1?oe/(G-1)*lt:0,Jt=Math.cos(wt);it=b[d(182)](b[d(182)](mt,b.ixkqE(30,100)),Jt)}else it=mt/3;Z=b[d(149)](Z,it),ve=b[d(190)](Math.round(b.LYhVW(Z,10)),10)}else _0x3d3100.flowerDiameter=_0x2c3006(_0x5d3def,_0x1d2d73.layerCount,_0x3fb046[d(138)],_0xa91747.sizeStepMm);const Ne=oe===0?0:b[d(154)](il,R,j,R);j=Ne;let Ie;if(b[d(178)](G,1))Ie=d(160);else if(G<=5)if(b[d(144)](b.LhqtW,b.rPquF)){const nt=b.LbDIh(G,2)?[0,3]:G===3?[0,1,3]:G===4?[0,1,2,3]:[0,1,2,3,4];Ie=I[nt[oe]]??d(123)+b[d(187)](oe,1)}else _0x20defa=_0x45c2b2;else Ie="Layer "+b.LJRAN(oe,1);W[d(162)]({id:It(b.GrfwS),name:Ie,order:G-oe,petalType:q,petalCount:R,radius:ve,scale:he,widthScale:oi(R),offsetAngle:Ne,colorId:y.colorId||(c.palette?.[0]?.id??"col_white"),visible:!0,locked:!1})}else{const fe={..._0x5bcef6,fabricSquareSize:_0x1e7f20,baseDiameter:_0x56557b};return fe.placementMode===QPvoCv.aeCfs?fe[d(133)]=QPvoCv[d(175)](_0x459172,_0x4b1e4e,_0x399633,{layerCount:fe[d(166)],sizeMode:fe[d(138)],sizeStepMm:fe[d(172)]}).diameter:fe[d(133)]=QPvoCv.QSgpg(_0x58479b,_0x14c307,fe[d(166)],fe.sizeMode,fe.sizeStepMm),fe}W.reverse();const h=[...W][d(134)]((oe,fe)=>oe.order-fe[d(150)]),z=k===b.MVqVJ?la(y[d(143)],X,{layerCount:G,sizeMode:K,sizeStepMm:U}).diameter:b.EiBhe(rr,X,G,K,U);J0(h,X,y[d(133)]||z);for(const oe of h){const fe=W[d(137)](be=>be.id===oe.id);if(fe)if(b[d(192)](b[d(173)],b[d(170)])){const he=b[d(167)](b[d(165)](70,_0x3588e0.PI),180),ve=_0x2220ba>1?b.kGpgx(_0x102a74,_0x34a6ec-1)*he:0,Ne=_0x269793.cos(ve);_0xe6b05a=b[d(165)](b[d(182)](_0x47b66c,b.kGpgx(30,100)),Ne)}else fe[d(169)]=oe[d(169)],fe.scale=oe[d(189)]}const A=v.w/v.h,N=b.gcmYi(520,f),B=b.wMEEI(N,A),E=-o.x/f,w=b[d(171)](-o.y,f);let L=b[d(187)](E,b.kGpgx(B,2)),O=b.LJRAN(w,b[d(157)](N,2));const Y=25;let P=0;for(;P<50&&c.flowers.some(oe=>Math[d(153)](oe[d(174)].x-L)<5&&Math[d(153)](oe[d(174)].y-O)<5);){const oe=b[d(155)][d(130)]("|");let fe=0;for(;;){switch(oe[fe++]){case"0":O+=Y;continue;case"1":O=pe(O,0,p);continue;case"2":L+=Y;continue;case"3":L=b[d(142)](pe,L,0,p);continue;case"4":P++;continue}break}}const te=y.flowerDiameter||z,xe={id:b.KAnbM(It,b[d(180)]),name:d(148)+(c[d(124)][d(119)]+1),position:{x:L,y:O},flowerDiameter:te,rotation:0,layers:W,center:{type:b[d(183)],size:6,color:b.MOtrB},fabricSquareSize:X,placementMode:k,baseDiameter:k===b[d(181)]?y.baseDiameter:b.kqtAC(lr,te)};r(oe=>{oe[d(124)].push(xe)},!0),b[d(184)](a,{kind:d(158),flowerId:xe.id}),b[d(126)](i,oe=>({...oe,[xe.id]:!0})),b.kqtAC(_,!1)}}}(function(c,r){const a=Vt,i=c();for(;;)try{if(parseInt(a(207))/1+-parseInt(a(198))/2*(-parseInt(a(210))/3)+parseInt(a(228))/4*(-parseInt(a(197))/5)+-parseInt(a(233))/6+parseInt(a(243))/7+parseInt(a(240))/8*(parseInt(a(242))/9)+-parseInt(a(219))/10*(parseInt(a(220))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(X0,833719);const hb=(function(){const c=Vt,r={NDhSW:function(i,f){return i!==f},RNNaQ:c(217),pbYvf:function(i,f){return i/f},eHBoM:function(i,f){return i+f},cjVHv:function(i,f){return i<f},pvzLg:"4|1|3|0|2",PnMsz:"col_green"};let a=!0;return function(i,f){const o={tVcZM:function(p,m){return r.pbYvf(p,m)},iLLXY:function(p,m){return r[Vt(241)](p,m)},AdoAT:function(p,m){return r[Vt(214)](p,m)},simUu:r.pvzLg,wjGJJ:function(p,m,b,S){return p(m,b,S)},vLbGm:r.PnMsz,XIYQC:function(p,m,b){return p(m,b)}},v=a?function(){const p=Vt;if(f)if(r[p(223)]("dQCLZ",r[p(202)])){const m=f.apply(i,arguments);return f=null,m}else{const{petalType:m,colorId:b,fabricSquareSize:S}=_0x5c7474,_=_0x16a478.w/_0x435638.h,y=o.tVcZM(520,_0x326f74),M=y*_,D=o.tVcZM(-_0x4108c7.x,_0x5544c8),g=-_0x248e5c.y/_0x260ada;let d=D+o[p(209)](M,2),k=o[p(200)](g,y/2),G=0;for(;o.AdoAT(G,50)&&(_0x214928[p(213)]??[]).some(q=>_0x18223d.abs(q.position.x-d)<5&&_0x1a7d80[p(216)](q.position.y-k)<5);){const q=o.simUu[p(225)]("|");let K=0;for(;;){switch(q[K++]){case"0":k=o[p(238)](_0x22e86a,k,0,_0x4f6329);continue;case"1":k+=25;continue;case"2":G++;continue;case"3":d=_0x37406d(d,0,_0x5ac517);continue;case"4":d+=25;continue}break}}const R={id:_0x29216e(p(232)),name:p(237)+((_0x20c934[p(213)]??[]).length+1),position:{x:d,y:k},rotation:135,petalType:m,colorId:b||_0x376bf0[p(201)]?.[0]?.id||o[p(205)],fabricSquareSize:S,scale:1,widthScale:1,visible:!0,locked:!1};o[p(224)](_0xdbf4b7,q=>{const K=p;q.leaves||(q[K(213)]=[]),q[K(213)].push(R)},!0),_0x5d1b9d({kind:"leaf",leafId:R.id}),_0x26d69a(!1)}}:function(){};return a=!1,v}})(),kx=hb(void 0,function(){const c=Vt,r={lgcvA:"(((.+)+)+)+$"};return kx[c(229)]()[c(221)](r[c(206)]).toString()[c(218)](kx)[c(221)](r.lgcvA)});kx();function Vt(c,r){c=c-197;const a=X0();let i=a[c];if(Vt.jrJawg===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};Vt.LLASLY=f,Vt.hTPkVF={},Vt.jrJawg=!0}const o=a[0],v=c+o,p=Vt.hTPkVF[v];if(p)i=p;else{const m=function(b){this.tccDRO=b,this.FtheBY=[1,0,0],this.ezQzlN=function(){return"newState"},this.pmMvMc="\\w+ *\\(\\) *{\\w+ *",this.WUdmvK=`['|"].+['|"];? *}`};m.prototype.MvBPEg=function(){const b=new RegExp(this.pmMvMc+this.WUdmvK),S=b.test(this.ezQzlN.toString())?--this.FtheBY[1]:--this.FtheBY[0];return this.UgmOmT(S)},m.prototype.UgmOmT=function(b){return~b?this.zPpYVi(this.tccDRO):b},m.prototype.zPpYVi=function(b){for(let S=0,_=this.FtheBY.length;S<_;S++)this.FtheBY.push(Math.round(Math.random())),_=this.FtheBY.length;return b(this.FtheBY[0])},new m(Vt).MvBPEg(),i=Vt.LLASLY(i),Vt.hTPkVF[v]=i}return i}function X0(){const c=["ngTfDNL6sW","C29Tzq","AuXmwfK","CgfSzxr0zq","uK5oyve","CM91BMq","Ae1QqMm","DKXIr20","BgDJDKe","nZu3nJm1AgXuExj6","rKfPCg0","DfzJwK0","mty2ndyXDMH6rKHl","BhjIDeO","BvbXDK0","BgvHDMvZ","y2Pwshy","Cg9ZAxrPB24","ywjZ","uKz3qwm","y29UC3rYDwn0B3i","mtqZmJKZmgz0qwXwqW","ndrvuvn1uMG","C2vHCMnO","ANnQwK8","tKrOu1C","weLzuum","C3bSAxq","q3b4ruS","zMLUza","nJq5nZy0uwXTr2v0","Dg9tDhjPBMC","y29Sx2DYzwvU","y3D6ENK","BgvHzG","mZyYodmZmKHxvuPIsG","DeXmB0C","qKzJAw8","u1fsvdi","tgvHzIa","D2PhsKO","5yMJ44gK44g+44g/","mtzvq2ziqKS","zuHcB00","ndK3nJCZowjUvKjerq","mta0otmYmtDKufz4ALi","rvHQywG","ndvoA1bYq08"];return X0=function(){return c},X0()}function Vd(c){const r=Vt,a={CpxEK:function(i,f){return i/f},gxesi:function(i,f){return i*f},Rvdyt:function(i,f){return i*f}};return a.CpxEK(Math[r(203)](a.gxesi(a[r(226)](a.Rvdyt(c,Math.SQRT2),2),10)),10)}function mb({project:c,applyUpdate:r,setSelection:a,zoom:i,pan:f,stageSize:o,CANVAS_MAX_SVG:v}){const p=Vt,m={tLLoG:function(g,d){return g(d)},jsjZO:function(g,d){return g/d},cwzzy:function(g,d){return g===d},mPqvM:p(244),rfKKd:function(g,d){return g/d},hMjBc:function(g,d){return g*d},buieD:function(g,d){return g+d},kuuVr:function(g,d){return g/d},TiIbi:function(g,d){return g<d},OveiG:"XZecX",EXfUw:function(g,d,k,G){return g(d,k,G)},FAipm:p(232),lrbtJ:function(g,d){return g(d)},SrYVE:function(g,d){return g(d)}},[b,S]=ee.useState(!1),[_,y]=m.SrYVE(ee.useState,{fabricSquareSize:20,leafSizeMm:Vd(20),petalType:p(239),colorId:""});return{showAddLeafDialog:b,setShowAddLeafDialog:S,addLeafOpts:_,setAddLeafOpts:y,addLeaf:()=>{const g=p,d=c.fabricSquareSize,k=c.palette?.[g(227)](G=>G.id===g(230)||G.id==="col_darkgreen")?.id??c.palette?.[0]?.id??"col_green";y(G=>({...G,fabricSquareSize:d,leafSizeMm:Vd(d),colorId:G.colorId||k})),m[g(234)](S,!0)},confirmAddLeaf:()=>{const g=p;if(m[g(231)](m[g(212)],m.mPqvM)){const{petalType:d,colorId:k,fabricSquareSize:G}=_,R=o.w/o.h,q=m.rfKKd(520,i),K=m[g(204)](q,R),U=-f.x/i,X=-f.y/i;let H=m.buieD(U,m.kuuVr(K,2)),F=m.buieD(X,q/2),J=0;for(;m.TiIbi(J,50)&&(c.leaves??[])[g(199)](I=>Math.abs(I.position.x-H)<5&&Math.abs(I[g(215)].y-F)<5);)g(235)===m.OveiG?(_0x3df7f3+=25,_0x2597ff+=25,_0x3feb7d=_0x2fd3d8(_0x121242,0,_0x24b840),_0xa36b1c=_0xab56bd(_0x2cb24d,0,_0x5d7371),_0x2bf5c2++):(H+=25,F+=25,H=pe(H,0,v),F=m.EXfUw(pe,F,0,v),J++);const W={id:It(m[g(208)]),name:"Leaf "+((c.leaves??[]).length+1),position:{x:H,y:F},rotation:135,petalType:d,colorId:k||c[g(201)]?.[0]?.id||"col_green",fabricSquareSize:G,scale:1,widthScale:1,visible:!0,locked:!1};r(I=>{const Z=g;I.leaves||(I[Z(213)]=[]),I[Z(213)].push(W)},!0),m[g(211)](a,{kind:m[g(208)],leafId:W.id}),m.lrbtJ(S,!1)}else return eTfCbw.czyrY(_0x23d24d[g(203)](_0x2db785*_0x498176[g(236)]/2*10),10)}}}(function(c,r){const a=Qn,i=c();for(;;)try{if(-parseInt(a(170))/1*(parseInt(a(149))/2)+-parseInt(a(179))/3*(parseInt(a(173))/4)+parseInt(a(154))/5+parseInt(a(171))/6+-parseInt(a(145))/7+parseInt(a(161))/8+parseInt(a(160))/9*(parseInt(a(176))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(V0,406544);const bb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),qx=bb(void 0,function(){const c=Qn,r={KcXlg:"(((.+)+)+)+$"};return qx[c(157)]()[c(185)](r[c(147)]).toString()[c(143)](qx).search("(((.+)+)+)+$")});qx();function Qn(c,r){c=c-142;const a=V0();let i=a[c];if(Qn.nHaeEo===void 0){var f=function(m){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let S="",_="",y=S+f;for(let M=0,D,g,d=0;g=m.charAt(d++);~g&&(D=M%4?D*64+g:g,M++%4)?S+=y.charCodeAt(d+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,D=S.length;M<D;M++)_+="%"+("00"+S.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(_)};Qn.iKFlem=f,Qn.SDmTCs={},Qn.nHaeEo=!0}const o=a[0],v=c+o,p=Qn.SDmTCs[v];if(p)i=p;else{const m=function(b){this.EHmBNg=b,this.GfiQGf=[1,0,0],this.NMWLGy=function(){return"newState"},this.cuWmyT="\\w+ *\\(\\) *{\\w+ *",this.HOvryA=`['|"].+['|"];? *}`};m.prototype.hahAdZ=function(){const b=new RegExp(this.cuWmyT+this.HOvryA),S=b.test(this.NMWLGy.toString())?--this.GfiQGf[1]:--this.GfiQGf[0];return this.aYqeIB(S)},m.prototype.aYqeIB=function(b){return~b?this.vzibNQ(this.EHmBNg):b},m.prototype.vzibNQ=function(b){for(let S=0,_=this.GfiQGf.length;S<_;S++)this.GfiQGf.push(Math.round(Math.random())),_=this.GfiQGf.length;return b(this.GfiQGf[0])},new m(Qn).hahAdZ(),i=Qn.iKFlem(i),Qn.SDmTCs[v]=i}return i}function V0(){const c=["mtu1ntzMrxHPuxa","C3rLBMnPBa","zfnXBwK","odbwuNPRqKy","suDVzhO","Bgf5zxjZ","mZKZs2zqC3bX","BgvHzKLK","BgvHDMvZ","BgvHzKLKCW","B0LIA1C","vNHyuuO","C2vHCMnO","z3jVDxbZ","BgvHzG","r2DPB2O","qu5kr1K","v1nbz1O","zMLSDgvY","y29UC3rYDwn0B3i","uMjJvLu","mta5mJCYmxzeEMHora","qLLkugq","s2nyBgC","A2LUza","mte1ody1ohDsvMz5sa","v3ryq3u","Bgf5zxi","Bgf5zxjjza","Cgv0ywW","mtu2mti0nvnoqvbuBq","C3rLBMnPBeLK","Cgv0ywXZ","Dg9tDhjPBMC","EK94D3u","zMXVD2vYswrZ","mZuWodjmz2Hizwu","nJi1odq4mg5dwwHkqG","zMXVD2vYswq","zMXVD2vYCW","zMXVD2vY","Aw5JBhvKzxm","zMLUza","yuzKA1O","vwv5yLC","z3jVDxbjza","mvviELLYvq","mZe1nde1mLf2qxz6Ea","AKLYzxe"];return V0=function(){return c},V0()}function gb(c,r){const a=Qn,i={jIreq:function(g,d){return g===d},oIbkW:"petal",RbcVU:a(156),HkaOh:function(g,d){return g===d},UeybW:"group",wmLWm:function(g,d){return g===d},BYJPd:a(151),prsmo:function(g,d){return g===d},hlSfl:a(163),VxXQJ:"mixed",tidYv:function(g,d){return g===d},UOTca:function(g,d){return g===d},IGodz:function(g,d){return g===d},zOxwu:a(150),ZBThr:"leaves",HPCPG:function(g,d){return g===d},dSqmi:function(g,d,k){return g(d,k)},TTsBc:function(g,d,k){return g(d,k)},Ggioj:function(g,d){return g===d},oyTSq:function(g,d){return g===d}},f=ee.useMemo(()=>{const g=a;return r.kind===g(164)||r.kind==="layer"||i[g(172)](r[g(148)],i[g(183)])||i[g(172)](r.kind,i.RbcVU)?c.flowers[g(166)](d=>d.id===r.flowerId)??null:null},[c.flowers,r]),o=ee.useMemo(()=>{const g=a;if(r.kind===g(163))return c[g(163)].filter(d=>r.flowerIds.includes(d.id));if(i.HkaOh(r.kind,"mixed"))return c.flowers.filter(d=>r[g(159)][g(165)](d.id));if(r[g(148)]===i[g(168)]){const d=(c[g(186)]??[])[g(166)](k=>k.id===r[g(169)]);if(d)return c[g(163)].filter(k=>d.flowerIds[g(165)](k.id))}return[]},[c.flowers,c[a(186)],r]),v=i[a(175)](ee.useMemo,()=>{const g=a;return i.HkaOh(g(167),"SsQSd")?new _0x3068f8(_0x55a985[g(159)].filter(d=>d!==_0x2fda74[g(162)])):r.kind===g(187)?(c.leaves??[]).find(d=>d.id===r.leafId)??null:null},[c[a(181)],r]),p=i[a(175)](ee.useMemo,()=>{const g=a;return r.kind===i.UeybW?(c.groups??[])[g(166)](d=>d.id===r.groupId)??null:null},[c[a(186)],r]),m=i.TTsBc(ee.useMemo,()=>{const g=a;return f&&(r.kind==="layer"||i.wmLWm(r[g(148)],i[g(183)]))?f.layers[g(166)](d=>d.id===r[g(152)])??null:null},[f,r]),b=i[a(188)](r[a(148)],i.oIbkW)?r.index:null,S=i[a(177)](r.kind,i.RbcVU)?r.petals:[],_=r.kind===a(174)?(c.stencils??[])[a(166)](g=>g.id===r[a(155)])??null:null,y=i.IGodz(r.kind,"flower")||r.kind===i[a(146)]||i.oyTSq(r[a(148)],a(153))||r.kind==="petals"?r[a(162)]:null,M=ee.useMemo(()=>{const g=a;if(i.BYJPd,i.wmLWm(r.kind,i.UeybW)){const d=(c.groups??[]).find(k=>k.id===r.groupId);if(d)return new Set(d[g(159)])}if(i.prsmo(r.kind,i.hlSfl))return new Set(r[g(159)]);if(i.wmLWm(r.kind,i[g(184)]))return new Set(r[g(159)]);if(i.tidYv(r.kind,g(164))||i.UOTca(r.kind,"layer")||r[g(148)]===g(153)||r[g(148)]===i[g(144)]){const d=cl(c,r[g(162)]);if(d)return i.IGodz(r.kind,"flower")?i[g(158)]!=="orgXc"?new Set(d[g(159)][g(142)](k=>k!==r.flowerId)):_0x58d96e&&(LvsglQ[g(190)](_0x84cef7.kind,LvsglQ[g(189)])||_0x38a82c.kind==="petal")?_0x767026[g(178)][g(166)](k=>k.id===_0x5795d1[g(152)])??null:null:new Set(d.flowerIds)}return new Set},[r,c]),D=i.dSqmi(ee.useMemo,()=>{const g=a;if(r[g(148)]===i.UeybW){const d=(c[g(186)]??[]).find(k=>k.id===r[g(169)]);if(d)return new Set(d.leafIds)}if(r[g(148)]===i.ZBThr)return new Set(r.leafIds);if(i[g(172)](r[g(148)],i.VxXQJ))return new Set(r.leafIds);if(i.HPCPG(r.kind,"leaf")){const d=i.dSqmi(Nl,c,r[g(180)]);if(d)return new Set(d[g(182)][g(142)](k=>k!==r[g(180)]))}return new Set},[r,c]);return{selectedFlower:f,selectedFlowers:o,selectedLeaf:v,selectedGroup:p,selectedLayer:m,selectedPetalIndex:b,selectedPetals:S,selectedStencil:_,selectedFlowerId:y,groupHighlightedFlowerIds:M,groupHighlightedLeafIds:D}}function vb(c){const{project:r,selection:a,setSelection:i,applyUpdate:f}=c,o=ee.useMemo(()=>new Map((r.palette||[]).map(me=>[me.id,me])),[r.palette]),{widths:v,containerRef:p,onDividerPointerDown:m,onDividerDoubleClick:b,isDragging:S,isDesktop:_}=cb(),y=ee.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[M,D]=ee.useState({});ee.useEffect(()=>{try{const Se=localStorage.getItem(y);if(Se){const Re=JSON.parse(Se);if(Re&&typeof Re=="object"){D(Re);return}}}catch{}const me=r.flowers?.[0];me&&D({[me.id]:!0})},[y]),ee.useEffect(()=>{try{localStorage.setItem(y,JSON.stringify(M))}catch{}},[y,M]),ee.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const me=a.flowerId;D(Se=>Se?.[me]?Se:{...Se,[me]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const me=a.flowerIds;D(Se=>{const Re={...Se};for(const Ve of me)Re[Ve]=!0;return Re})}},[a]);const g=me=>M?.[me]??!1,d=me=>D(Se=>({...Se,[me]:!(Se?.[me]??!1)})),k=ee.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[G,R]=ee.useState({});ee.useEffect(()=>{try{const Se=localStorage.getItem(k);if(Se){const Re=JSON.parse(Se);if(Re&&typeof Re=="object"){R(Re);return}}}catch{}const me=r.groups??[];if(me.length>0){const Se={};for(const Re of me)Se[Re.id]=!0;R(Se)}},[k]),ee.useEffect(()=>{try{localStorage.setItem(k,JSON.stringify(G))}catch{}},[k,G]);const q=me=>G?.[me]??!0,K=me=>R(Se=>({...Se,[me]:!(Se?.[me]??!0)})),U=ee.useRef({flowerId:null,timer:null}),X=me=>{const Se=U.current.timer;Se&&window.clearTimeout(Se),U.current.flowerId=me,U.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:me}),D(Re=>({...Re,[me]:!0})),U.current.timer=null,U.current.flowerId=null},200)},H=me=>{const Se=U.current.timer;Se&&U.current.flowerId===me&&window.clearTimeout(Se),U.current.timer=null,U.current.flowerId=null,i({kind:"flower",flowerId:me}),d(me)},F=ee.useRef(null),[J,W]=ee.useState({w:520,h:520});ee.useEffect(()=>{const me=F.current;if(!me)return;const Se=new ResizeObserver(Re=>{for(const Ve of Re){const{width:Ct,height:$n}=Ve.contentRect;Ct>0&&$n>0&&W({w:Ct,h:$n})}});return Se.observe(me),()=>Se.disconnect()},[]);const I=me=>{const Se=F.current;if(!Se)return{x:0,y:0};const Re=Se.createSVGPoint();Re.x=me.clientX,Re.y=me.clientY;const Ve=Se.getScreenCTM();if(!Ve)return{x:0,y:0};const Ct=Re.matrixTransform(Ve.inverse());return{x:Ct.x,y:Ct.y}},Z=500*sn,j=-300*sn,h=800*sn,z=ee.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[A,N]=ee.useState(6),[B,E]=ee.useState(z[6]),w=ee.useCallback(me=>{N(Se=>{const Re=typeof me=="function"?me(Se):me;return E(z[Re]),Re})},[z]),L=ee.useCallback(me=>{const Se=pe(me,z[0],z[z.length-1]);E(Se);let Re=0,Ve=Math.abs(z[0]-Se);for(let Ct=1;Ct<z.length;Ct++){const $n=Math.abs(z[Ct]-Se);$n<Ve&&(Re=Ct,Ve=$n)}N(Re)},[z]),[O,Y]=ee.useState({x:0,y:0}),[P,te]=ee.useState(!0),[xe,oe]=ee.useState(!1),fe=ee.useRef(null),be=ee.useMemo(()=>{const me=J.w/J.h,Se=520,Re=Se*me;return(Ve,Ct=B)=>{const $n=pe(Ve.x,-(h*Ct-Re),-j*Ct),sl=pe(Ve.y,-(h*Ct-Se),-j*Ct);return{x:$n,y:sl}}},[J,B,j,h]),he=ee.useMemo(()=>be(O),[O,be]),ve=ee.useCallback(me=>Y(me),[]),Ne=ee.useMemo(()=>{const me=J.w/J.h,Se=520,Re=Se*me,Ve=-he.x/B,Ct=-he.y/B;return`${Ve} ${Ct} ${Re/B} ${Se/B}`},[B,he,J]),{deleteLeafById:Ie,handleShiftLeafSelect:nt,groupSelectedLeaves:mt,ungroupLeaves:it,addLeafToGroup:Tt,removeLeafFromGroup:lt,addLeavesToGroup:wt,mergeLeafGroups:Jt}=ob({project:r,applyUpdate:f,selection:a,setSelection:i}),{showAddFlowerDialog:jn,setShowAddFlowerDialog:on,addFlowerOpts:Ze,setAddFlowerOpts:Wt,addFlower:Yn,confirmAddFlower:Zt}=db({project:r,applyUpdate:f,setSelection:i,setExpandedFlowers:D,zoom:B,pan:he,stageSize:J,CANVAS_MAX_SVG:Z}),{showAddLeafDialog:Un,setShowAddLeafDialog:Fn,addLeafOpts:xl,setAddLeafOpts:fn,addLeaf:aa,confirmAddLeaf:dn}=mb({project:r,applyUpdate:f,setSelection:i,zoom:B,pan:he,stageSize:J,CANVAS_MAX_SVG:Z}),{selectedFlower:Nt,selectedFlowers:Mn,selectedLeaf:He,selectedLayer:de,selectedPetalIndex:ke,selectedPetals:qe,selectedStencil:we,selectedFlowerId:_e,groupHighlightedFlowerIds:Le,groupHighlightedLeafIds:ze}=gb(r,a),{deleteFlowerById:Ce,deleteLayerById:Fe,addOuterLayer:$e,deleteOuterLayer:Je,deleteSelected:We,groupSelectedFlowers:Te,groupSelectedMixed:Gt,ungroupFlowers:et,ungroupAll:At,addToGroup:ut,mergeGroups:at,addStencil:gt,deleteStencil:zn,handleShiftFlowerSelect:Ca,togglePetalSelection:Ft}=xb({project:r,applyUpdate:f,selection:a,setSelection:i,setExpandedFlowers:D,setExpandedGroups:R,zoom:B,pan:he,stageSize:J,CANVAS_MAX_SVG:Z,deleteLeafById:Ie}),De=xm({project:r,selection:a,setSelection:i,applyUpdate:f,dragRef:c.dragRef,zoom:B,pan:he,setPan:ve,stageRef:F,clientToSvgPoint:I,togglePetalSelection:Ft}),[Ot,Al]=ee.useState(0),Dn=a.kind,W0=Dn==="flower"?a.flowerId:null,Q0=Dn==="flowers"?a.flowerIds?.join(","):null,fr=Dn==="layer"||Dn==="petal"?a.layerId:null,ia=Dn==="petal"?a.index:null,fi=Dn==="petals"?a.petals?.length:null;ee.useEffect(()=>{Dn!=="project"&&Al(Date.now())},[Dn,W0,Q0,fr,ia,fi]),ee.useEffect(()=>{if(!fe.current)return;const me=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!me)return;const Se=fe.current.querySelector(`[data-flower-id="${me}"]`);Se&&Se.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ll=ee.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[Ot]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:p,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:_?{width:`${v.left}%`}:void 0,children:x.jsx(om,{project:r,selection:a,setSelection:i,expandedFlowers:M,setExpandedFlowers:D,isExpanded:g,toggleExpanded:d,scheduleFlowerRowClick:X,handleFlowerRowDoubleClick:H,addFlower:Yn,deleteSelected:We,addOuterLayer:$e,deleteOuterLayer:Je,deleteFlowerById:Ce,deleteLayerById:Fe,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:fe,groups:r.groups??[],expandedGroups:G,isGroupExpanded:q,toggleGroupExpanded:K,onSelectGroup:me=>i({kind:"group",groupId:me}),onUngroupFlowers:et,leaves:r.leaves??[],onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onAddLeaf:aa,onDeleteLeaf:Ie})}),x.jsx(Xd,{side:"left",onPointerDown:m,onDoubleClick:b,isDragging:S}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Im,{project:r,selection:a,setSelection:i,applyUpdate:f,paletteMap:o,selectedFlowerId:_e,zoom:B,setZoom:L,zoomLevel:A,setZoomLevel:w,ZOOM_LEVELS:z,pan:he,panRaw:O,setPan:ve,showGrid:P,setShowGrid:te,showHelp:xe,setShowHelp:oe,stageRef:F,viewBox:Ne,dashSyncToken:Ot,dashDelay:Ll,beginPan:De.beginPan,updatePan:De.updatePan,endPan:De.endPan,beginMarquee:De.beginMarquee,updateMarquee:De.updateMarquee,endMarquee:De.endMarquee,marqueeRef:De.marqueeRef,marqueeRect:De.marqueeRect,beginFlowerDrag:De.beginFlowerDrag,updateFlowerDrag:De.updateFlowerDrag,endFlowerDrag:De.endFlowerDrag,scaleDragRef:De.scaleDragRef,beginScaleDrag:De.beginScaleDrag,updateScaleDrag:De.updateScaleDrag,endScaleDrag:De.endScaleDrag,rotationDragRef:De.rotationDragRef,beginRotationDrag:De.beginRotationDrag,updateRotationDrag:De.updateRotationDrag,endRotationDrag:De.endRotationDrag,widthScaleDragRef:De.widthScaleDragRef,beginWidthScaleDrag:De.beginWidthScaleDrag,updateWidthScaleDrag:De.updateWidthScaleDrag,endWidthScaleDrag:De.endWidthScaleDrag,radiusDragRef:De.radiusDragRef,beginRadiusDrag:De.beginRadiusDrag,updateRadiusDrag:De.updateRadiusDrag,endRadiusDrag:De.endRadiusDrag,togglePetalSelection:Ft,clientToSvgPoint:I,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:gt,onDeleteStencil:zn,onSelectStencil:me=>i({kind:"stencil",stencilId:me}),handleShiftFlowerSelect:Ca,groupHighlightedFlowerIds:Le,leaves:r.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:ze,onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onSelectGroup:me=>i({kind:"group",groupId:me}),onShiftSelectLeaf:nt})}),x.jsx(Xd,{side:"right",onPointerDown:m,onDoubleClick:b,isDragging:S}),x.jsx("div",{className:"min-w-0 shrink-0",style:_?{width:`${v.right}%`}:void 0,children:x.jsx(Fm,{project:r,selection:a,applyUpdate:f,selectedFlower:Nt,selectedFlowers:Mn,selectedLayer:de,selectedPetalIndex:ke,selectedPetals:qe,selectedStencil:we,onDeleteStencil:zn,groups:r.groups??[],onGroupFlowers:Te,onUngroupFlowers:et,onUngroupAll:At,onAddToGroup:ut,onMergeGroups:at,selectedLeaf:He,onDeleteLeaf:Ie,onGroupLeaves:mt,onUngroupLeaves:it,onAddLeafToGroup:Tt,onRemoveLeafFromGroup:lt,onAddLeavesToGroup:wt,onMergeLeafGroups:Jt,onGroupMixed:Gt})})]}),jn&&x.jsx(tb,{palette:r.palette,addFlowerOpts:Ze,setAddFlowerOpts:Wt,onConfirm:Zt,onCancel:()=>on(!1)}),Un&&x.jsx(ab,{palette:r.palette,addLeafOpts:xl,setAddLeafOpts:fn,onConfirm:dn,onCancel:()=>Fn(!1)}),xe&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:me=>me.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([me,Se])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:me}),x.jsx("td",{className:"py-2 text-neutral-700",children:Se})]},me))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function yb({cg:c}){const[r,a]=ee.useState("w"),[i,f]=ee.useState(""),o=c.totalAreaCm2,v=parseFloat(i),m=i!==""&&Number.isFinite(v)&&v>0?Math.round(o/v*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(b=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[b.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[b.count," "]})]},b.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",o,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:b=>f(b.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:b=>f(b.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function pb(c){const{recipe:r}=c;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[r.colors.map(a=>x.jsx(yb,{cg:a},a.colorId)),r.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function _b(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function Sb(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function wb(c){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function Cb(){const[c,r]=ee.useState("home"),[a,i]=ee.useState([]),[f,o]=ee.useState(null),[v,p]=ee.useState({kind:"project"}),[m,b]=ee.useState([]),[S,_]=ee.useState(0),y=ee.useRef(f),M=ee.useRef(m),D=ee.useRef(S);ee.useEffect(()=>{y.current=f},[f]),ee.useEffect(()=>{M.current=m},[m]),ee.useEffect(()=>{D.current=S},[S]);const g=ee.useRef(null),d=ee.useRef(null),k=ee.useRef(null),G=ee.useRef(null),[R,q]=ee.useState(null);ee.useEffect(()=>{const E=R?window.setTimeout(()=>q(null),2200):null;return()=>{E&&window.clearTimeout(E)}},[R]),ee.useEffect(()=>{i(ir())},[]);function K(E){const w=JSON.stringify(E);b([w]),_(0)}function U(E,w=!0){if(!w){o(be=>{if(!be)return be;const he=ta(be);return E(he),he.updatedAt=z0(),he});return}const L=y.current;if(!L)return;const O=ta(L);E(O),O.updatedAt=z0(),o(O);const Y=M.current,P=D.current;if(Y.length===0){K(O);return}const te=JSON.stringify(O);let oe=[...Y.slice(0,P+1),te];const fe=50;oe.length>fe&&(oe=oe.slice(oe.length-fe)),b(oe),_(oe.length-1)}function X(){_(E=>{if(E<=0)return E;const w=E-1,L=M.current[w];return L&&o(wa(JSON.parse(L))),q("Undo"),w})}function H(){_(E=>{if(E>=M.current.length-1)return E;const w=E+1,L=M.current[w];return L&&o(wa(JSON.parse(L))),q("Redo"),w})}function F(){if(!f)return;const E=Zh(f);i(ir()),q(E?"Saved":" ")}function J(){if(!f)return;const E=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),w=URL.createObjectURL(E),L=document.createElement("a");L.href=w,L.download=`${f.title||"tsumami"}.json`,L.click(),URL.revokeObjectURL(w),q("JSON exported")}function W(E){const w=new FileReader;w.onload=()=>{try{const L=JSON.parse(String(w.result??""));if(!L||typeof L!="object"||!Array.isArray(L.flowers))throw new Error("Invalid JSON");const O=wa(L);o(O),p({kind:"project"}),K(O),r("editor"),q("Imported")}catch{q("Import failed")}},w.readAsText(E)}function I(E){const w=wa(E);o(w),p({kind:"project"}),K(w),r("editor")}function Z(E){return E&&(E.kind==="flower"||E.kind==="layer"||E.kind==="petal")?E.flowerId:null}function j(){if(!f)return;const E=Z(v);if(!E)return;const w=f.flowers.find(L=>L.id===E);w&&(d.current=ta(w),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:w},null,2)).catch(()=>{}),q("Flower copied"))}function h(){if(!f||v.kind!=="leaf")return;const E=(f.leaves??[]).find(w=>w.id===v.leafId);E&&(k.current=ta(E),q("Leaf copied"))}function z(){if(!f)return;const E=d.current;if(!E){q("Nothing to paste");return}const w=Oh(E,{x:12+Math.random()*10,y:12+Math.random()*10});U(L=>{L.flowers.push(w)},!0),p({kind:"flower",flowerId:w.id}),q("Flower pasted")}function A(){if(!f)return;const E=k.current;if(!E)return;const w=It("leaf"),L={...ta(E),id:w,name:E.name+" (copy)",position:{x:E.position.x+30,y:E.position.y+30}};U(O=>{O.leaves||(O.leaves=[]),O.leaves.push(L)},!0),p({kind:"leaf",leafId:L.id}),q("Leaf pasted")}function N(E){if(!f)return;const w=Z(v);w&&(U(L=>{const O=L.flowers.findIndex(xe=>xe.id===w);if(O<0)return;const Y=L.flowers,P=Y[O];if(!P)return;if(Y.splice(O,1),E==="front"){Y.push(P);return}if(E==="back"){Y.unshift(P);return}if(E==="forward"){if(O>=Y.length){Y.push(P);return}Y.splice(O+1,0,P);return}const te=pe(O-1,0,Y.length);Y.splice(te,0,P)},!0),q(E==="front"?"Brought to front":E==="back"?"Sent to back":E==="forward"?"Moved forward":"Moved backward"))}ee.useEffect(()=>{function E(L){const O=L;if(!O)return!1;const Y=String(O.tagName||"").toLowerCase();return Y==="input"||Y==="textarea"||Y==="select"||!!O.isContentEditable}function w(L){if(!(E(L.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?L.metaKey:L.ctrlKey))){if(c==="editor"){if(L.key.toLowerCase()==="c"){L.preventDefault(),v.kind==="leaf"?h():j();return}if(L.key.toLowerCase()==="v"){L.preventDefault(),k.current&&(v.kind==="leaf"||v.kind==="leaves"||v.kind==="mixed"||!d.current)?A():z();return}}L.key.toLowerCase()==="z"&&(L.preventDefault(),L.shiftKey?H():X()),L.key.toLowerCase()==="s"&&(L.preventDefault(),F())}}return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[f,m,S,v,c]);const B=ee.useMemo(()=>f?Jh(f):null,[f]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx($h,{view:c,onNavigate:r,project:f,onSave:F,onLoad:()=>r("home"),onImportJson:()=>G.current?.click(),onExportJson:J,onExportSvg:()=>{const E=document.querySelector('[data-testid="canvas-svg"]');E&&f&&Qh(E,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const E=document.querySelector('[data-testid="canvas-svg"]');E&&f&&Ph(E,`${f.title||"tsumami"}.png`)}}),x.jsx("input",{ref:G,type:"file",accept:"application/json",className:"hidden",onChange:E=>{const w=E.target.files?.[0];w&&W(w),E.currentTarget.value=""}}),R&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:R}),x.jsxs("main",{className:"flex-1",children:[c==="home"&&x.jsx(em,{saved:a,onNew:()=>r("new"),onOpen:E=>{const w=wa(ta(E));o(w),p({kind:"project"}),K(w),r("editor")},onDelete:E=>{Xh(E),i(ir()),q("Deleted")}}),c==="new"&&x.jsx(tm,{onBack:()=>r("home"),onCreate:E=>{const w=Gh({title:E});I(w)}}),c==="editor"&&f&&x.jsx(vb,{project:f,selection:v,setSelection:p,applyUpdate:U,onGoRecipe:()=>r("recipe"),onImport:W,dragRef:g,onCopyFlower:j,onPasteFlower:z,onArrangeFlower:N,canPasteFlower:!!d.current,onUndo:X,onRedo:H,canUndo:S>0,canRedo:S<m.length-1}),c==="recipe"&&f&&B&&x.jsx(pb,{project:f,recipe:B,onBack:()=>r("editor"),onExportJson:J}),c==="terms"&&x.jsx(_b,{onBack:()=>r("home")}),c==="privacy"&&x.jsx(Sb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!f&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&x.jsx(wb,{onNavigate:r})]})}class jb extends ee.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}Ch.createRoot(document.getElementById("root")).render(x.jsx(ee.StrictMode,{children:x.jsx(jb,{children:x.jsx(Cb,{})})}));

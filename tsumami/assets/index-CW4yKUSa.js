(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))r(f);new MutationObserver(f=>{for(const o of f)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(f){const o={};return f.integrity&&(o.integrity=f.integrity),f.referrerPolicy&&(o.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?o.credentials="include":f.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(f){if(f.ep)return;f.ep=!0;const o=a(f);fetch(f.href,o)}})();var rs={exports:{}},nr={};var Ed;function vh(){if(Ed)return nr;Ed=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,f,o){var h=null;if(o!==void 0&&(h=""+o),f.key!==void 0&&(h=""+f.key),"key"in f){o={};for(var v in f)v!=="key"&&(o[v]=f[v])}else o=f;return f=o.ref,{$$typeof:c,type:r,key:h,ref:f!==void 0?f:null,props:o}}return nr.Fragment=i,nr.jsx=a,nr.jsxs=a,nr}var Ld;function ph(){return Ld||(Ld=1,rs.exports=vh()),rs.exports}var s=ph(),cs={exports:{}},De={};var Td;function yh(){if(Td)return De;Td=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),p=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,b={};function D(M,N,H){this.props=M,this.context=N,this.refs=b,this.updater=H||z}D.prototype.isReactComponent={},D.prototype.setState=function(M,N){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,N,"setState")},D.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function R(){}R.prototype=D.prototype;function B(M,N,H){this.props=M,this.context=N,this.refs=b,this.updater=H||z}var q=B.prototype=new R;q.constructor=B,g(q,D.prototype),q.isPureReactComponent=!0;var Y=Array.isArray;function X(){}var E={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function P(M,N,H){var Z=H.ref;return{$$typeof:c,type:M,key:N,ref:Z!==void 0?Z:null,props:H}}function V(M,N){return P(M.type,N,M.props)}function U(M){return typeof M=="object"&&M!==null&&M.$$typeof===c}function G(M){var N={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(H){return N[H]})}var K=/\/+/g;function W(M,N){return typeof M=="object"&&M!==null&&M.key!=null?G(""+M.key):N.toString(36)}function w(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(X,X):(M.status="pending",M.then(function(N){M.status==="pending"&&(M.status="fulfilled",M.value=N)},function(N){M.status==="pending"&&(M.status="rejected",M.reason=N)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function y(M,N,H,Z,F){var le=typeof M;(le==="undefined"||le==="boolean")&&(M=null);var re=!1;if(M===null)re=!0;else switch(le){case"bigint":case"string":case"number":re=!0;break;case"object":switch(M.$$typeof){case c:case i:re=!0;break;case _:return re=M._init,y(re(M._payload),N,H,Z,F)}}if(re)return F=F(M),re=Z===""?"."+W(M,0):Z,Y(F)?(H="",re!=null&&(H=re.replace(K,"$&/")+"/"),y(F,N,H,"",function(ge){return ge})):F!=null&&(U(F)&&(F=V(F,H+(F.key==null||M&&M.key===F.key?"":(""+F.key).replace(K,"$&/")+"/")+re)),N.push(F)),1;re=0;var oe=Z===""?".":Z+":";if(Y(M))for(var de=0;de<M.length;de++)Z=M[de],le=oe+W(Z,de),re+=y(Z,N,H,le,F);else if(de=C(M),typeof de=="function")for(M=de.call(M),de=0;!(Z=M.next()).done;)Z=Z.value,le=oe+W(Z,de++),re+=y(Z,N,H,le,F);else if(le==="object"){if(typeof M.then=="function")return y(w(M),N,H,Z,F);throw N=String(M),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return re}function L(M,N,H){if(M==null)return M;var Z=[],F=0;return y(M,Z,"","",function(le){return N.call(H,le,F++)}),Z}function I(M){if(M._status===-1){var N=M._result;N=N(),N.then(function(H){(M._status===0||M._status===-1)&&(M._status=1,M._result=H)},function(H){(M._status===0||M._status===-1)&&(M._status=2,M._result=H)}),M._status===-1&&(M._status=0,M._result=N)}if(M._status===1)return M._result.default;throw M._result}var T=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},k={map:L,forEach:function(M,N,H){L(M,function(){N.apply(this,arguments)},H)},count:function(M){var N=0;return L(M,function(){N++}),N},toArray:function(M){return L(M,function(N){return N})||[]},only:function(M){if(!U(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return De.Activity=S,De.Children=k,De.Component=D,De.Fragment=a,De.Profiler=f,De.PureComponent=B,De.StrictMode=r,De.Suspense=d,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,De.__COMPILER_RUNTIME={__proto__:null,c:function(M){return E.H.useMemoCache(M)}},De.cache=function(M){return function(){return M.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(M,N,H){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Z=g({},M.props),F=M.key;if(N!=null)for(le in N.key!==void 0&&(F=""+N.key),N)!O.call(N,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&N.ref===void 0||(Z[le]=N[le]);var le=arguments.length-2;if(le===1)Z.children=H;else if(1<le){for(var re=Array(le),oe=0;oe<le;oe++)re[oe]=arguments[oe+2];Z.children=re}return P(M.type,F,Z)},De.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},De.createElement=function(M,N,H){var Z,F={},le=null;if(N!=null)for(Z in N.key!==void 0&&(le=""+N.key),N)O.call(N,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(F[Z]=N[Z]);var re=arguments.length-2;if(re===1)F.children=H;else if(1<re){for(var oe=Array(re),de=0;de<re;de++)oe[de]=arguments[de+2];F.children=oe}if(M&&M.defaultProps)for(Z in re=M.defaultProps,re)F[Z]===void 0&&(F[Z]=re[Z]);return P(M,le,F)},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:v,render:M}},De.isValidElement=U,De.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:I}},De.memo=function(M,N){return{$$typeof:m,type:M,compare:N===void 0?null:N}},De.startTransition=function(M){var N=E.T,H={};E.T=H;try{var Z=M(),F=E.S;F!==null&&F(H,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(X,T)}catch(le){T(le)}finally{N!==null&&H.types!==null&&(N.types=H.types),E.T=N}},De.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},De.use=function(M){return E.H.use(M)},De.useActionState=function(M,N,H){return E.H.useActionState(M,N,H)},De.useCallback=function(M,N){return E.H.useCallback(M,N)},De.useContext=function(M){return E.H.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M,N){return E.H.useDeferredValue(M,N)},De.useEffect=function(M,N){return E.H.useEffect(M,N)},De.useEffectEvent=function(M){return E.H.useEffectEvent(M)},De.useId=function(){return E.H.useId()},De.useImperativeHandle=function(M,N,H){return E.H.useImperativeHandle(M,N,H)},De.useInsertionEffect=function(M,N){return E.H.useInsertionEffect(M,N)},De.useLayoutEffect=function(M,N){return E.H.useLayoutEffect(M,N)},De.useMemo=function(M,N){return E.H.useMemo(M,N)},De.useOptimistic=function(M,N){return E.H.useOptimistic(M,N)},De.useReducer=function(M,N,H){return E.H.useReducer(M,N,H)},De.useRef=function(M){return E.H.useRef(M)},De.useState=function(M){return E.H.useState(M)},De.useSyncExternalStore=function(M,N,H){return E.H.useSyncExternalStore(M,N,H)},De.useTransition=function(){return E.H.useTransition()},De.version="19.2.3",De}var kd;function Hs(){return kd||(kd=1,cs.exports=yh()),cs.exports}var ee=Hs(),us={exports:{}},lr={},ss={exports:{}},xs={};var qd;function _h(){return qd||(qd=1,(function(c){function i(y,L){var I=y.length;y.push(L);e:for(;0<I;){var T=I-1>>>1,k=y[T];if(0<f(k,L))y[T]=L,y[I]=k,I=T;else break e}}function a(y){return y.length===0?null:y[0]}function r(y){if(y.length===0)return null;var L=y[0],I=y.pop();if(I!==L){y[0]=I;e:for(var T=0,k=y.length,M=k>>>1;T<M;){var N=2*(T+1)-1,H=y[N],Z=N+1,F=y[Z];if(0>f(H,I))Z<k&&0>f(F,H)?(y[T]=F,y[Z]=I,T=Z):(y[T]=H,y[N]=I,T=N);else if(Z<k&&0>f(F,I))y[T]=F,y[Z]=I,T=Z;else break e}}return L}function f(y,L){var I=y.sortIndex-L.sortIndex;return I!==0?I:y.id-L.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var h=Date,v=h.now();c.unstable_now=function(){return h.now()-v}}var d=[],m=[],_=1,S=null,p=3,C=!1,z=!1,g=!1,b=!1,D=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function q(y){for(var L=a(m);L!==null;){if(L.callback===null)r(m);else if(L.startTime<=y)r(m),L.sortIndex=L.expirationTime,i(d,L);else break;L=a(m)}}function Y(y){if(g=!1,q(y),!z)if(a(d)!==null)z=!0,X||(X=!0,G());else{var L=a(m);L!==null&&w(Y,L.startTime-y)}}var X=!1,E=-1,O=5,P=-1;function V(){return b?!0:!(c.unstable_now()-P<O)}function U(){if(b=!1,X){var y=c.unstable_now();P=y;var L=!0;try{e:{z=!1,g&&(g=!1,R(E),E=-1),C=!0;var I=p;try{t:{for(q(y),S=a(d);S!==null&&!(S.expirationTime>y&&V());){var T=S.callback;if(typeof T=="function"){S.callback=null,p=S.priorityLevel;var k=T(S.expirationTime<=y);if(y=c.unstable_now(),typeof k=="function"){S.callback=k,q(y),L=!0;break t}S===a(d)&&r(d),q(y)}else r(d);S=a(d)}if(S!==null)L=!0;else{var M=a(m);M!==null&&w(Y,M.startTime-y),L=!1}}break e}finally{S=null,p=I,C=!1}L=void 0}}finally{L?G():X=!1}}}var G;if(typeof B=="function")G=function(){B(U)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,W=K.port2;K.port1.onmessage=U,G=function(){W.postMessage(null)}}else G=function(){D(U,0)};function w(y,L){E=D(function(){y(c.unstable_now())},L)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(y){y.callback=null},c.unstable_forceFrameRate=function(y){0>y||125<y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<y?Math.floor(1e3/y):5},c.unstable_getCurrentPriorityLevel=function(){return p},c.unstable_next=function(y){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var I=p;p=L;try{return y()}finally{p=I}},c.unstable_requestPaint=function(){b=!0},c.unstable_runWithPriority=function(y,L){switch(y){case 1:case 2:case 3:case 4:case 5:break;default:y=3}var I=p;p=y;try{return L()}finally{p=I}},c.unstable_scheduleCallback=function(y,L,I){var T=c.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?T+I:T):I=T,y){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=I+k,y={id:_++,callback:L,priorityLevel:y,startTime:I,expirationTime:k,sortIndex:-1},I>T?(y.sortIndex=I,i(m,y),a(d)===null&&y===a(m)&&(g?(R(E),E=-1):g=!0,w(Y,I-T))):(y.sortIndex=k,i(d,y),z||C||(z=!0,X||(X=!0,G()))),y},c.unstable_shouldYield=V,c.unstable_wrapCallback=function(y){var L=p;return function(){var I=p;p=L;try{return y.apply(this,arguments)}finally{p=I}}}})(xs)),xs}var Bd;function Sh(){return Bd||(Bd=1,ss.exports=_h()),ss.exports}var os={exports:{}},Ut={};var Id;function wh(){if(Id)return Ut;Id=1;var c=Hs();function i(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function o(d,m,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:S==null?null:""+S,children:d,containerInfo:m,implementation:_}}var h=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ut.createPortal=function(d,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(i(299));return o(d,m,null,_)},Ut.flushSync=function(d){var m=h.T,_=r.p;try{if(h.T=null,r.p=2,d)return d()}finally{h.T=m,r.p=_,r.d.f()}},Ut.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},Ut.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Ut.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var _=m.as,S=v(_,m.crossOrigin),p=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:p,fetchPriority:C}):_==="script"&&r.d.X(d,{crossOrigin:S,integrity:p,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ut.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=v(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},Ut.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,S=v(_,m.crossOrigin);r.d.L(d,_,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ut.preloadModule=function(d,m){if(typeof d=="string")if(m){var _=v(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},Ut.requestFormReset=function(d){r.d.r(d)},Ut.unstable_batchedUpdates=function(d,m){return d(m)},Ut.useFormState=function(d,m,_){return h.H.useFormState(d,m,_)},Ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ut.version="19.2.3",Ut}var Gd;function Ch(){if(Gd)return os.exports;Gd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),os.exports=wh(),os.exports}var Rd;function jh(){if(Rd)return lr;Rd=1;var c=Sh(),i=Hs(),a=Ch();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(r(188))}function m(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var x=u.alternate;if(x===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===x.child){for(x=u.child;x;){if(x===n)return d(u),e;if(x===l)return d(u),t;x=x.sibling}throw Error(r(188))}if(n.return!==l.return)n=u,l=x;else{for(var j=!1,A=u.child;A;){if(A===n){j=!0,n=u,l=x;break}if(A===l){j=!0,l=u,n=x;break}A=A.sibling}if(!j){for(A=x.child;A;){if(A===n){j=!0,n=x,l=u;break}if(A===l){j=!0,l=x,n=u;break}A=A.sibling}if(!j)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,p=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case D:return"Profiler";case b:return"StrictMode";case Y:return"Suspense";case X:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case B:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}var w=Array.isArray,y=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},T=[],k=-1;function M(e){return{current:e}}function N(e){0>k||(e.current=T[k],T[k]=null,k--)}function H(e,t){k++,T[k]=e.current,e.current=t}var Z=M(null),F=M(null),le=M(null),re=M(null);function oe(e,t){switch(H(le,t),H(F,e),H(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ed(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ed(t),e=td(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}N(Z),H(Z,e)}function de(){N(Z),N(F),N(le)}function ge(e){e.memoizedState!==null&&H(re,e);var t=Z.current,n=td(t,e.type);t!==n&&(H(F,e),H(Z,n))}function he(e){F.current===e&&(N(Z),N(F)),re.current===e&&(N(re),Fi._currentValue=I)}var Me,Pe;function He(e){if(Me===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Me=t&&t[1]||"",Pe=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+e+Pe}var Ie=!1;function nt(e,t){if(!e||Ie)return"";Ie=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(ie){var ae=ie}Reflect.construct(e,[],se)}else{try{se.call()}catch(ie){ae=ie}e.call(se.prototype)}}else{try{throw Error()}catch(ie){ae=ie}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(ie){if(ie&&ae&&typeof ie.stack=="string")return[ie.stack,ae.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),j=x[0],A=x[1];if(j&&A){var J=j.split(`
`),ne=A.split(`
`);for(u=l=0;l<J.length&&!J[l].includes("DetermineComponentFrameRoot");)l++;for(;u<ne.length&&!ne[u].includes("DetermineComponentFrameRoot");)u++;if(l===J.length||u===ne.length)for(l=J.length-1,u=ne.length-1;1<=l&&0<=u&&J[l]!==ne[u];)u--;for(;1<=l&&0<=u;l--,u--)if(J[l]!==ne[u]){if(l!==1||u!==1)do if(l--,u--,0>u||J[l]!==ne[u]){var ce=`
`+J[l].replace(" at new "," at ");return e.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",e.displayName)),ce}while(1<=l&&0<=u);break}}}finally{Ie=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?He(n):""}function bt(e,t){switch(e.tag){case 26:case 27:case 5:return He(e.type);case 16:return He("Lazy");case 13:return e.child!==t&&t!==null?He("Suspense Fallback"):He("Suspense");case 19:return He("SuspenseList");case 0:case 15:return nt(e.type,!1);case 11:return nt(e.type.render,!1);case 1:return nt(e.type,!0);case 31:return He("Activity");default:return""}}function mt(e){try{var t="",n=null;do t+=bt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Et=c.unstable_scheduleCallback,Pt=c.unstable_cancelCallback,Vn=c.unstable_shouldYield,Wn=c.unstable_requestPaint,Qe=c.unstable_now,_n=c.unstable_getCurrentPriorityLevel,Dl=c.unstable_ImmediatePriority,cl=c.unstable_UserBlockingPriority,ul=c.unstable_NormalPriority,Al=c.unstable_LowPriority,ra=c.unstable_IdlePriority,Pn=c.log,fi=c.unstable_setDisableYieldValue,Gn=null,Bt=null;function Sn(e){if(typeof Pn=="function"&&fi(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Gn,e)}catch{}}var Oe=Math.clz32?Math.clz32:Be,fe=Math.log,qe=Math.LN2;function Be(e){return e>>>=0,e===0?32:31-(fe(e)/qe|0)|0}var Se=256,_e=262144,Ae=4194304;function Ne(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,x=e.suspendedLanes,j=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~x,l!==0?u=Ne(l):(j&=A,j!==0?u=Ne(j):n||(n=A&~e,n!==0&&(u=Ne(n))))):(A=l&~x,A!==0?u=Ne(A):j!==0?u=Ne(j):n||(n=l&~e,n!==0&&(u=Ne(n)))),u===0?0:t!==0&&t!==u&&(t&x)===0&&(x=u&-u,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:u}function Fe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function Je(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function It(e,t,n,l,u,x){var j=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var A=e.entanglements,J=e.expirationTimes,ne=e.hiddenUpdates;for(n=j&~n;0<n;){var ce=31-Oe(n),se=1<<ce;A[ce]=0,J[ce]=-1;var ae=ne[ce];if(ae!==null)for(ne[ce]=null,ce=0;ce<ae.length;ce++){var ie=ae[ce];ie!==null&&(ie.lane&=-536870913)}n&=~se}l!==0&&et(e,l,0),x!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=x&~(j&~t))}function et(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Oe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Oe(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function rt(e,t){var n=t&-t;return n=(n&42)!==0?1:lt(n),(n&(e.suspendedLanes|t))!==0?0:n}function lt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rn(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:Cd(e.type))}function ca(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var un=Math.random().toString(36).slice(2),vt="__reactFiber$"+un,Le="__reactProps$"+un,sl="__reactContainer$"+un,di="__reactEvents$"+un,Qn="__reactListeners$"+un,F0="__reactHandles$"+un,mr="__reactResources$"+un,ua="__reactMarker$"+un;function hi(e){delete e[vt],delete e[Le],delete e[di],delete e[Qn],delete e[F0]}function El(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sl]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ud(e);e!==null;){if(n=e[vt])return n;e=ud(e)}return t}e=n,n=e.parentNode}return null}function Ll(e){if(e=e[vt]||e[sl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function me(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ye(e){var t=e[mr];return t||(t=e[mr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ze(e){e[ua]=!0}var Gt=new Set,wt={};function Xt(e,t){Tl(e,t),Tl(e+"Capture",t)}function Tl(e,t){for(wt[e]=t,e=0;e<t.length;e++)Gt.add(t[e])}var s1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ys={},Us={};function x1(e){return xt.call(Us,e)?!0:xt.call(Ys,e)?!1:s1.test(e)?Us[e]=!0:(Ys[e]=!0,!1)}function br(e,t,n){if(x1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function gr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function xl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function wn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ks(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(j){n=""+j,x.call(this,j)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(j){n=""+j},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $0(e){if(!e._valueTracker){var t=Ks(e)?"checked":"value";e._valueTracker=o1(e,t,""+e[t])}}function Zs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Ks(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function vr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var f1=/[\n"\\]/g;function Cn(e){return e.replace(f1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ec(e,t,n,l,u,x,j,A){e.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.type=j:e.removeAttribute("type"),t!=null?j==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wn(t)):e.value!==""+wn(t)&&(e.value=""+wn(t)):j!=="submit"&&j!=="reset"||e.removeAttribute("value"),t!=null?tc(e,j,wn(t)):n!=null?tc(e,j,wn(n)):l!=null&&e.removeAttribute("value"),u==null&&x!=null&&(e.defaultChecked=!!x),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+wn(A):e.removeAttribute("name")}function Xs(e,t,n,l,u,x,j,A){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){$0(e);return}n=n!=null?""+wn(n):"",t=t!=null?""+wn(t):n,A||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(e.name=j),$0(e)}function tc(e,t,n){t==="number"&&vr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function za(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+wn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Js(e,t,n){if(t!=null&&(t=""+wn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+wn(n):""}function Vs(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(w(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=wn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),$0(e)}function Na(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var d1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ws(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||d1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ps(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Ws(e,u,l)}else for(var x in t)t.hasOwnProperty(x)&&Ws(e,x,t[x])}function nc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),m1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pr(e){return m1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ol(){}var lc=null;function ac(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Aa=null;function Qs(e){var t=Ll(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(ec(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Le]||null;if(!u)throw Error(r(90));ec(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Zs(l)}break e;case"textarea":Js(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&za(e,!!n.multiple,t,!1)}}}var ic=!1;function Fs(e,t,n){if(ic)return e(t,n);ic=!0;try{var l=e(t);return l}finally{if(ic=!1,(Da!==null||Aa!==null)&&(r0(),Da&&(t=Da,e=Aa,Aa=Da=null,Qs(t),e)))for(t=0;t<e.length;t++)Qs(e[t])}}function mi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Le]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var fl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=!1;if(fl)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){rc=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{rc=!1}var kl=null,cc=null,yr=null;function $s(){if(yr)return yr;var e,t=cc,n=t.length,l,u="value"in kl?kl.value:kl.textContent,x=u.length;for(e=0;e<n&&t[e]===u[e];e++);var j=n-e;for(l=1;l<=j&&t[n-l]===u[x-l];l++);return yr=u.slice(e,1<l?1-l:void 0)}function _r(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sr(){return!0}function ex(){return!1}function Qt(e){function t(n,l,u,x,j){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=x,this.target=j,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(n=e[A],this[A]=n?n(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Sr:ex,this.isPropagationStopped=ex,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),t}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=Qt(sa),gi=S({},sa,{view:0,detail:0}),b1=Qt(gi),uc,sc,vi,Cr=S({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(uc=e.screenX-vi.screenX,sc=e.screenY-vi.screenY):sc=uc=0,vi=e),uc)},movementY:function(e){return"movementY"in e?e.movementY:sc}}),tx=Qt(Cr),g1=S({},Cr,{dataTransfer:0}),v1=Qt(g1),p1=S({},gi,{relatedTarget:0}),xc=Qt(p1),y1=S({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),_1=Qt(y1),S1=S({},sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w1=Qt(S1),C1=S({},sa,{data:0}),nx=Qt(C1),j1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z1[e])?!!t[e]:!1}function oc(){return N1}var D1=S({},gi,{key:function(e){if(e.key){var t=j1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A1=Qt(D1),E1=S({},Cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lx=Qt(E1),L1=S({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),T1=Qt(L1),k1=S({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),q1=Qt(k1),B1=S({},Cr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),I1=Qt(B1),G1=S({},sa,{newState:0,oldState:0}),R1=Qt(G1),H1=[9,13,27,32],fc=fl&&"CompositionEvent"in window,pi=null;fl&&"documentMode"in document&&(pi=document.documentMode);var O1=fl&&"TextEvent"in window&&!pi,ax=fl&&(!fc||pi&&8<pi&&11>=pi),ix=" ",rx=!1;function cx(e,t){switch(e){case"keyup":return H1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ux(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function Y1(e,t){switch(e){case"compositionend":return ux(t);case"keypress":return t.which!==32?null:(rx=!0,ix);case"textInput":return e=t.data,e===ix&&rx?null:e;default:return null}}function U1(e,t){if(Ea)return e==="compositionend"||!fc&&cx(e,t)?(e=$s(),yr=cc=kl=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ax&&t.locale!=="ko"?null:t.data;default:return null}}var K1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!K1[e.type]:t==="textarea"}function xx(e,t,n,l){Da?Aa?Aa.push(l):Aa=[l]:Da=l,t=d0(t,"onChange"),0<t.length&&(n=new wr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var yi=null,_i=null;function Z1(e){Vf(e,0)}function jr(e){var t=me(e);if(Zs(t))return e}function ox(e,t){if(e==="change")return t}var fx=!1;if(fl){var dc;if(fl){var hc="oninput"in document;if(!hc){var dx=document.createElement("div");dx.setAttribute("oninput","return;"),hc=typeof dx.oninput=="function"}dc=hc}else dc=!1;fx=dc&&(!document.documentMode||9<document.documentMode)}function hx(){yi&&(yi.detachEvent("onpropertychange",mx),_i=yi=null)}function mx(e){if(e.propertyName==="value"&&jr(_i)){var t=[];xx(t,_i,e,ac(e)),Fs(Z1,t)}}function X1(e,t,n){e==="focusin"?(hx(),yi=t,_i=n,yi.attachEvent("onpropertychange",mx)):e==="focusout"&&hx()}function J1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jr(_i)}function V1(e,t){if(e==="click")return jr(t)}function W1(e,t){if(e==="input"||e==="change")return jr(t)}function P1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:P1;function Si(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!xt.call(t,u)||!sn(e[u],t[u]))return!1}return!0}function bx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gx(e,t){var n=bx(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bx(n)}}function vx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function px(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vr(e.document)}return t}function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Q1=fl&&"documentMode"in document&&11>=document.documentMode,La=null,bc=null,wi=null,gc=!1;function yx(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gc||La==null||La!==vr(l)||(l=La,"selectionStart"in l&&mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wi&&Si(wi,l)||(wi=l,l=d0(bc,"onSelect"),0<l.length&&(t=new wr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=La)))}function xa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ta={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},vc={},_x={};fl&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function oa(e){if(vc[e])return vc[e];if(!Ta[e])return e;var t=Ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _x)return vc[e]=t[n];return e}var Sx=oa("animationend"),wx=oa("animationiteration"),Cx=oa("animationstart"),F1=oa("transitionrun"),$1=oa("transitionstart"),e2=oa("transitioncancel"),jx=oa("transitionend"),Mx=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function Hn(e,t){Mx.set(e,t),Xt(t,[e])}var Mr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],ka=0,yc=0;function zr(){for(var e=ka,t=yc=ka=0;t<e;){var n=jn[t];jn[t++]=null;var l=jn[t];jn[t++]=null;var u=jn[t];jn[t++]=null;var x=jn[t];if(jn[t++]=null,l!==null&&u!==null){var j=l.pending;j===null?u.next=u:(u.next=j.next,j.next=u),l.pending=u}x!==0&&zx(n,u,x)}}function Nr(e,t,n,l){jn[ka++]=e,jn[ka++]=t,jn[ka++]=n,jn[ka++]=l,yc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function _c(e,t,n,l){return Nr(e,t,n,l),Dr(e)}function fa(e,t){return Nr(e,null,null,t),Dr(e)}function zx(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(u=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,u&&t!==null&&(u=31-Oe(n),e=x.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),x):null}function Dr(e){if(50<Zi)throw Zi=0,Au=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qa={};function t2(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,l){return new t2(e,t,n,l)}function Sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dl(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Nx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ar(e,t,n,l,u,x){var j=0;if(l=e,typeof e=="function")Sc(e)&&(j=1);else if(typeof e=="string")j=rh(e,n,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=xn(31,n,t,u),e.elementType=P,e.lanes=x,e;case g:return da(n.children,u,x,t);case b:j=8,u|=24;break;case D:return e=xn(12,n,t,u|2),e.elementType=D,e.lanes=x,e;case Y:return e=xn(13,n,t,u),e.elementType=Y,e.lanes=x,e;case X:return e=xn(19,n,t,u),e.elementType=X,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:j=10;break e;case R:j=9;break e;case q:j=11;break e;case E:j=14;break e;case O:j=16,l=null;break e}j=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=xn(j,n,t,u),t.elementType=e,t.type=l,t.lanes=x,t}function da(e,t,n,l){return e=xn(7,e,l,t),e.lanes=n,e}function wc(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Dx(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function Cc(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ax=new WeakMap;function Mn(e,t){if(typeof e=="object"&&e!==null){var n=Ax.get(e);return n!==void 0?n:(t={value:e,source:t,stack:mt(t)},Ax.set(e,t),t)}return{value:e,source:t,stack:mt(t)}}var Ba=[],Ia=0,Er=null,Ci=0,zn=[],Nn=0,ql=null,Fn=1,$n="";function hl(e,t){Ba[Ia++]=Ci,Ba[Ia++]=Er,Er=e,Ci=t}function Ex(e,t,n){zn[Nn++]=Fn,zn[Nn++]=$n,zn[Nn++]=ql,ql=e;var l=Fn;e=$n;var u=32-Oe(l)-1;l&=~(1<<u),n+=1;var x=32-Oe(t)+u;if(30<x){var j=u-u%5;x=(l&(1<<j)-1).toString(32),l>>=j,u-=j,Fn=1<<32-Oe(t)+u|n<<u|l,$n=x+e}else Fn=1<<x|n<<u|l,$n=e}function jc(e){e.return!==null&&(hl(e,1),Ex(e,1,0))}function Mc(e){for(;e===Er;)Er=Ba[--Ia],Ba[Ia]=null,Ci=Ba[--Ia],Ba[Ia]=null;for(;e===ql;)ql=zn[--Nn],zn[Nn]=null,$n=zn[--Nn],zn[Nn]=null,Fn=zn[--Nn],zn[Nn]=null}function Lx(e,t){zn[Nn++]=Fn,zn[Nn++]=$n,zn[Nn++]=ql,Fn=t.id,$n=t.overflow,ql=e}var Rt=null,ft=null,Ke=!1,Bl=null,Dn=!1,zc=Error(r(519));function Il(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ji(Mn(t,e)),zc}function Tx(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[vt]=e,t[Le]=l,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<Ji.length;n++)Re(Ji[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Xs(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Vs(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Ff(t.textContent,n)?(l.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),l.onScroll!=null&&Re("scroll",t),l.onScrollEnd!=null&&Re("scrollend",t),l.onClick!=null&&(t.onclick=ol),t=!0):t=!1,t||Il(e,!0)}function kx(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Rt=Rt.return}}function Ga(e){if(e!==Rt)return!1;if(!Ke)return kx(e),Ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Zu(e.type,e.memoizedProps)),n=!n),n&&ft&&Il(e),kx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ft=cd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ft=cd(e)}else t===27?(t=ft,Ql(e.type)?(e=Pu,Pu=null,ft=e):ft=t):ft=Rt?En(e.stateNode.nextSibling):null;return!0}function ha(){ft=Rt=null,Ke=!1}function Nc(){var e=Bl;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),Bl=null),e}function ji(e){Bl===null?Bl=[e]:Bl.push(e)}var Dc=M(null),ma=null,ml=null;function Gl(e,t,n){H(Dc,t._currentValue),t._currentValue=n}function bl(e){e._currentValue=Dc.current,N(Dc)}function Ac(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Ec(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var x=u.dependencies;if(x!==null){var j=u.child;x=x.firstContext;e:for(;x!==null;){var A=x;x=u;for(var J=0;J<t.length;J++)if(A.context===t[J]){x.lanes|=n,A=x.alternate,A!==null&&(A.lanes|=n),Ac(x.return,n,e),l||(j=null);break e}x=A.next}}else if(u.tag===18){if(j=u.return,j===null)throw Error(r(341));j.lanes|=n,x=j.alternate,x!==null&&(x.lanes|=n),Ac(j,n,e),j=null}else j=u.child;if(j!==null)j.return=u;else for(j=u;j!==null;){if(j===e){j=null;break}if(u=j.sibling,u!==null){u.return=j.return,j=u;break}j=j.return}u=j}}function Ra(e,t,n,l){e=null;for(var u=t,x=!1;u!==null;){if(!x){if((u.flags&524288)!==0)x=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var j=u.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var A=u.type;sn(u.pendingProps.value,j.value)||(e!==null?e.push(A):e=[A])}}else if(u===re.current){if(j=u.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Fi):e=[Fi])}u=u.return}e!==null&&Ec(t,e,n,l),t.flags|=262144}function Lr(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ba(e){ma=e,ml=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return qx(ma,e)}function Tr(e,t){return ma===null&&ba(e),qx(e,t)}function qx(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ml===null){if(e===null)throw Error(r(308));ml=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ml=ml.next=t;return n}var n2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},l2=c.unstable_scheduleCallback,a2=c.unstable_NormalPriority,Ct={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new n2,data:new Map,refCount:0}}function Mi(e){e.refCount--,e.refCount===0&&l2(a2,function(){e.controller.abort()})}var zi=null,Tc=0,Ha=0,Oa=null;function i2(e,t){if(zi===null){var n=zi=[];Tc=0,Ha=Bu(),Oa={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Tc++,t.then(Bx,Bx),t}function Bx(){if(--Tc===0&&zi!==null){Oa!==null&&(Oa.status="fulfilled");var e=zi;zi=null,Ha=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function r2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Ix=y.S;y.S=function(e,t){Sf=Qe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&i2(e,t),Ix!==null&&Ix(e,t)};var ga=M(null);function kc(){var e=ga.current;return e!==null?e:ot.pooledCache}function kr(e,t){t===null?H(ga,ga.current):H(ga,t.pool)}function Gx(){var e=kc();return e===null?null:{parent:Ct._currentValue,pool:e}}var Ya=Error(r(460)),qc=Error(r(474)),qr=Error(r(542)),Br={then:function(){}};function Rx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hx(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ol,ol),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yx(e),e;default:if(typeof t.status=="string")t.then(ol,ol);else{if(e=ot,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yx(e),e}throw pa=t,Ya}}function va(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(pa=n,Ya):n}}var pa=null;function Ox(){if(pa===null)throw Error(r(459));var e=pa;return pa=null,e}function Yx(e){if(e===Ya||e===qr)throw Error(r(483))}var Ua=null,Ni=0;function Ir(e){var t=Ni;return Ni+=1,Ua===null&&(Ua=[]),Hx(Ua,e,t)}function Di(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Gr(e,t){throw t.$$typeof===p?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ux(e){function t($,Q){if(e){var te=$.deletions;te===null?($.deletions=[Q],$.flags|=16):te.push(Q)}}function n($,Q){if(!e)return null;for(;Q!==null;)t($,Q),Q=Q.sibling;return null}function l($){for(var Q=new Map;$!==null;)$.key!==null?Q.set($.key,$):Q.set($.index,$),$=$.sibling;return Q}function u($,Q){return $=dl($,Q),$.index=0,$.sibling=null,$}function x($,Q,te){return $.index=te,e?(te=$.alternate,te!==null?(te=te.index,te<Q?($.flags|=67108866,Q):te):($.flags|=67108866,Q)):($.flags|=1048576,Q)}function j($){return e&&$.alternate===null&&($.flags|=67108866),$}function A($,Q,te,ue){return Q===null||Q.tag!==6?(Q=wc(te,$.mode,ue),Q.return=$,Q):(Q=u(Q,te),Q.return=$,Q)}function J($,Q,te,ue){var Ce=te.type;return Ce===g?ce($,Q,te.props.children,ue,te.key):Q!==null&&(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===O&&va(Ce)===Q.type)?(Q=u(Q,te.props),Di(Q,te),Q.return=$,Q):(Q=Ar(te.type,te.key,te.props,null,$.mode,ue),Di(Q,te),Q.return=$,Q)}function ne($,Q,te,ue){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==te.containerInfo||Q.stateNode.implementation!==te.implementation?(Q=Cc(te,$.mode,ue),Q.return=$,Q):(Q=u(Q,te.children||[]),Q.return=$,Q)}function ce($,Q,te,ue,Ce){return Q===null||Q.tag!==7?(Q=da(te,$.mode,ue,Ce),Q.return=$,Q):(Q=u(Q,te),Q.return=$,Q)}function se($,Q,te){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=wc(""+Q,$.mode,te),Q.return=$,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return te=Ar(Q.type,Q.key,Q.props,null,$.mode,te),Di(te,Q),te.return=$,te;case z:return Q=Cc(Q,$.mode,te),Q.return=$,Q;case O:return Q=va(Q),se($,Q,te)}if(w(Q)||G(Q))return Q=da(Q,$.mode,te,null),Q.return=$,Q;if(typeof Q.then=="function")return se($,Ir(Q),te);if(Q.$$typeof===B)return se($,Tr($,Q),te);Gr($,Q)}return null}function ae($,Q,te,ue){var Ce=Q!==null?Q.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ce!==null?null:A($,Q,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case C:return te.key===Ce?J($,Q,te,ue):null;case z:return te.key===Ce?ne($,Q,te,ue):null;case O:return te=va(te),ae($,Q,te,ue)}if(w(te)||G(te))return Ce!==null?null:ce($,Q,te,ue,null);if(typeof te.then=="function")return ae($,Q,Ir(te),ue);if(te.$$typeof===B)return ae($,Q,Tr($,te),ue);Gr($,te)}return null}function ie($,Q,te,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return $=$.get(te)||null,A(Q,$,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case C:return $=$.get(ue.key===null?te:ue.key)||null,J(Q,$,ue,Ce);case z:return $=$.get(ue.key===null?te:ue.key)||null,ne(Q,$,ue,Ce);case O:return ue=va(ue),ie($,Q,te,ue,Ce)}if(w(ue)||G(ue))return $=$.get(te)||null,ce(Q,$,ue,Ce,null);if(typeof ue.then=="function")return ie($,Q,te,Ir(ue),Ce);if(ue.$$typeof===B)return ie($,Q,te,Tr(Q,ue),Ce);Gr(Q,ue)}return null}function be($,Q,te,ue){for(var Ce=null,Ve=null,ve=Q,ke=Q=0,Ue=null;ve!==null&&ke<te.length;ke++){ve.index>ke?(Ue=ve,ve=null):Ue=ve.sibling;var We=ae($,ve,te[ke],ue);if(We===null){ve===null&&(ve=Ue);break}e&&ve&&We.alternate===null&&t($,ve),Q=x(We,Q,ke),Ve===null?Ce=We:Ve.sibling=We,Ve=We,ve=Ue}if(ke===te.length)return n($,ve),Ke&&hl($,ke),Ce;if(ve===null){for(;ke<te.length;ke++)ve=se($,te[ke],ue),ve!==null&&(Q=x(ve,Q,ke),Ve===null?Ce=ve:Ve.sibling=ve,Ve=ve);return Ke&&hl($,ke),Ce}for(ve=l(ve);ke<te.length;ke++)Ue=ie(ve,$,ke,te[ke],ue),Ue!==null&&(e&&Ue.alternate!==null&&ve.delete(Ue.key===null?ke:Ue.key),Q=x(Ue,Q,ke),Ve===null?Ce=Ue:Ve.sibling=Ue,Ve=Ue);return e&&ve.forEach(function(na){return t($,na)}),Ke&&hl($,ke),Ce}function je($,Q,te,ue){if(te==null)throw Error(r(151));for(var Ce=null,Ve=null,ve=Q,ke=Q=0,Ue=null,We=te.next();ve!==null&&!We.done;ke++,We=te.next()){ve.index>ke?(Ue=ve,ve=null):Ue=ve.sibling;var na=ae($,ve,We.value,ue);if(na===null){ve===null&&(ve=Ue);break}e&&ve&&na.alternate===null&&t($,ve),Q=x(na,Q,ke),Ve===null?Ce=na:Ve.sibling=na,Ve=na,ve=Ue}if(We.done)return n($,ve),Ke&&hl($,ke),Ce;if(ve===null){for(;!We.done;ke++,We=te.next())We=se($,We.value,ue),We!==null&&(Q=x(We,Q,ke),Ve===null?Ce=We:Ve.sibling=We,Ve=We);return Ke&&hl($,ke),Ce}for(ve=l(ve);!We.done;ke++,We=te.next())We=ie(ve,$,ke,We.value,ue),We!==null&&(e&&We.alternate!==null&&ve.delete(We.key===null?ke:We.key),Q=x(We,Q,ke),Ve===null?Ce=We:Ve.sibling=We,Ve=We);return e&&ve.forEach(function(gh){return t($,gh)}),Ke&&hl($,ke),Ce}function st($,Q,te,ue){if(typeof te=="object"&&te!==null&&te.type===g&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case C:e:{for(var Ce=te.key;Q!==null;){if(Q.key===Ce){if(Ce=te.type,Ce===g){if(Q.tag===7){n($,Q.sibling),ue=u(Q,te.props.children),ue.return=$,$=ue;break e}}else if(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===O&&va(Ce)===Q.type){n($,Q.sibling),ue=u(Q,te.props),Di(ue,te),ue.return=$,$=ue;break e}n($,Q);break}else t($,Q);Q=Q.sibling}te.type===g?(ue=da(te.props.children,$.mode,ue,te.key),ue.return=$,$=ue):(ue=Ar(te.type,te.key,te.props,null,$.mode,ue),Di(ue,te),ue.return=$,$=ue)}return j($);case z:e:{for(Ce=te.key;Q!==null;){if(Q.key===Ce)if(Q.tag===4&&Q.stateNode.containerInfo===te.containerInfo&&Q.stateNode.implementation===te.implementation){n($,Q.sibling),ue=u(Q,te.children||[]),ue.return=$,$=ue;break e}else{n($,Q);break}else t($,Q);Q=Q.sibling}ue=Cc(te,$.mode,ue),ue.return=$,$=ue}return j($);case O:return te=va(te),st($,Q,te,ue)}if(w(te))return be($,Q,te,ue);if(G(te)){if(Ce=G(te),typeof Ce!="function")throw Error(r(150));return te=Ce.call(te),je($,Q,te,ue)}if(typeof te.then=="function")return st($,Q,Ir(te),ue);if(te.$$typeof===B)return st($,Q,Tr($,te),ue);Gr($,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Q!==null&&Q.tag===6?(n($,Q.sibling),ue=u(Q,te),ue.return=$,$=ue):(n($,Q),ue=wc(te,$.mode,ue),ue.return=$,$=ue),j($)):n($,Q)}return function($,Q,te,ue){try{Ni=0;var Ce=st($,Q,te,ue);return Ua=null,Ce}catch(ve){if(ve===Ya||ve===qr)throw ve;var Ve=xn(29,ve,null,$.mode);return Ve.lanes=ue,Ve.return=$,Ve}}}var ya=Ux(!0),Kx=Ux(!1),Rl=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ic(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ol(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Dr(e),zx(e,null,n),t}return Nr(e,l,t,n),Dr(e)}function Ai(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Dt(e,n)}}function Gc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var j={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?u=x=j:x=x.next=j,n=n.next}while(n!==null);x===null?u=x=t:x=x.next=t}else u=x=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Rc=!1;function Ei(){if(Rc){var e=Oa;if(e!==null)throw e}}function Li(e,t,n,l){Rc=!1;var u=e.updateQueue;Rl=!1;var x=u.firstBaseUpdate,j=u.lastBaseUpdate,A=u.shared.pending;if(A!==null){u.shared.pending=null;var J=A,ne=J.next;J.next=null,j===null?x=ne:j.next=ne,j=J;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,A=ce.lastBaseUpdate,A!==j&&(A===null?ce.firstBaseUpdate=ne:A.next=ne,ce.lastBaseUpdate=J))}if(x!==null){var se=u.baseState;j=0,ce=ne=J=null,A=x;do{var ae=A.lane&-536870913,ie=ae!==A.lane;if(ie?(Ye&ae)===ae:(l&ae)===ae){ae!==0&&ae===Ha&&(Rc=!0),ce!==null&&(ce=ce.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var be=e,je=A;ae=t;var st=n;switch(je.tag){case 1:if(be=je.payload,typeof be=="function"){se=be.call(st,se,ae);break e}se=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=je.payload,ae=typeof be=="function"?be.call(st,se,ae):be,ae==null)break e;se=S({},se,ae);break e;case 2:Rl=!0}}ae=A.callback,ae!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[ae]:ie.push(ae))}else ie={lane:ae,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ce===null?(ne=ce=ie,J=se):ce=ce.next=ie,j|=ae;if(A=A.next,A===null){if(A=u.shared.pending,A===null)break;ie=A,A=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);ce===null&&(J=se),u.baseState=J,u.firstBaseUpdate=ne,u.lastBaseUpdate=ce,x===null&&(u.shared.lanes=0),Xl|=j,e.lanes=j,e.memoizedState=se}}function Zx(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Xx(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Zx(n[e],t)}var Ka=M(null),Rr=M(0);function Jx(e,t){e=jl,H(Rr,e),H(Ka,t),jl=e|t.baseLanes}function Hc(){H(Rr,jl),H(Ka,Ka.current)}function Oc(){jl=Rr.current,N(Ka),N(Rr)}var on=M(null),An=null;function Yl(e){var t=e.alternate;H(_t,_t.current&1),H(on,e),An===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(An=e)}function Yc(e){H(_t,_t.current),H(on,e),An===null&&(An=e)}function Vx(e){e.tag===22?(H(_t,_t.current),H(on,e),An===null&&(An=e)):Ul()}function Ul(){H(_t,_t.current),H(on,on.current)}function fn(e){N(on),An===e&&(An=null),N(_t)}var _t=M(0);function Hr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vu(n)||Wu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gl=0,Te=null,ct=null,jt=null,Or=!1,Za=!1,_a=!1,Yr=0,Ti=0,Xa=null,c2=0;function pt(){throw Error(r(321))}function Uc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function Kc(e,t,n,l,u,x){return gl=x,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,y.H=e===null||e.memoizedState===null?Lo:iu,_a=!1,x=n(l,u),_a=!1,Za&&(x=Px(t,n,l,u)),Wx(e),x}function Wx(e){y.H=Bi;var t=ct!==null&&ct.next!==null;if(gl=0,jt=ct=Te=null,Or=!1,Ti=0,Xa=null,t)throw Error(r(300));e===null||Mt||(e=e.dependencies,e!==null&&Lr(e)&&(Mt=!0))}function Px(e,t,n,l){Te=e;var u=0;do{if(Za&&(Xa=null),Ti=0,Za=!1,25<=u)throw Error(r(301));if(u+=1,jt=ct=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}y.H=To,x=t(n,l)}while(Za);return x}function u2(){var e=y.H,t=e.useState()[0];return t=typeof t.then=="function"?ki(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Te.flags|=1024),t}function Zc(){var e=Yr!==0;return Yr=0,e}function Xc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Jc(e){if(Or){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Or=!1}gl=0,jt=ct=Te=null,Za=!1,Ti=Yr=0,Xa=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Te.memoizedState=jt=e:jt=jt.next=e,jt}function St(){if(ct===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=jt===null?Te.memoizedState:jt.next;if(t!==null)jt=t,ct=e;else{if(e===null)throw Te.alternate===null?Error(r(467)):Error(r(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},jt===null?Te.memoizedState=jt=e:jt=jt.next=e}return jt}function Ur(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ki(e){var t=Ti;return Ti+=1,Xa===null&&(Xa=[]),e=Hx(Xa,e,t),t=Te,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,y.H=t===null||t.memoizedState===null?Lo:iu),e}function Kr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ki(e);if(e.$$typeof===B)return Ht(e)}throw Error(r(438,String(e)))}function Vc(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ur(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=V;return t.index++,n}function vl(e,t){return typeof t=="function"?t(e):t}function Zr(e){var t=St();return Wc(t,ct,e)}function Wc(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=e.baseQueue,x=l.pending;if(x!==null){if(u!==null){var j=u.next;u.next=x.next,x.next=j}t.baseQueue=u=x,l.pending=null}if(x=e.baseState,u===null)e.memoizedState=x;else{t=u.next;var A=j=null,J=null,ne=t,ce=!1;do{var se=ne.lane&-536870913;if(se!==ne.lane?(Ye&se)===se:(gl&se)===se){var ae=ne.revertLane;if(ae===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),se===Ha&&(ce=!0);else if((gl&ae)===ae){ne=ne.next,ae===Ha&&(ce=!0);continue}else se={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},J===null?(A=J=se,j=x):J=J.next=se,Te.lanes|=ae,Xl|=ae;se=ne.action,_a&&n(x,se),x=ne.hasEagerState?ne.eagerState:n(x,se)}else ae={lane:se,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},J===null?(A=J=ae,j=x):J=J.next=ae,Te.lanes|=se,Xl|=se;ne=ne.next}while(ne!==null&&ne!==t);if(J===null?j=x:J.next=A,!sn(x,e.memoizedState)&&(Mt=!0,ce&&(n=Oa,n!==null)))throw n;e.memoizedState=x,e.baseState=j,e.baseQueue=J,l.lastRenderedState=x}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Pc(e){var t=St(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,x=t.memoizedState;if(u!==null){n.pending=null;var j=u=u.next;do x=e(x,j.action),j=j.next;while(j!==u);sn(x,t.memoizedState)||(Mt=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Qx(e,t,n){var l=Te,u=St(),x=Ke;if(x){if(n===void 0)throw Error(r(407));n=n()}else n=t();var j=!sn((ct||u).memoizedState,n);if(j&&(u.memoizedState=n,Mt=!0),u=u.queue,$c(eo.bind(null,l,u,e),[e]),u.getSnapshot!==t||j||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},$x.bind(null,l,u,n,t),null),ot===null)throw Error(r(349));x||(gl&127)!==0||Fx(l,t,n)}return n}function Fx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Ur(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $x(e,t,n,l){t.value=n,t.getSnapshot=l,to(t)&&no(e)}function eo(e,t,n){return n(function(){to(t)&&no(e)})}function to(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function no(e){var t=fa(e,2);t!==null&&nn(t,e,2)}function Qc(e){var t=Jt();if(typeof e=="function"){var n=e;if(e=n(),_a){Sn(!0);try{n()}finally{Sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t}function lo(e,t,n,l){return e.baseState=n,Wc(e,ct,typeof l=="function"?l:vl)}function s2(e,t,n,l,u){if(Vr(e))throw Error(r(485));if(e=t.action,e!==null){var x={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){x.listeners.push(j)}};y.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,ao(t,x)):(x.next=n.next,t.pending=n.next=x)}}function ao(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var x=y.T,j={};y.T=j;try{var A=n(u,l),J=y.S;J!==null&&J(j,A),io(e,t,A)}catch(ne){Fc(e,t,ne)}finally{x!==null&&j.types!==null&&(x.types=j.types),y.T=x}}else try{x=n(u,l),io(e,t,x)}catch(ne){Fc(e,t,ne)}}function io(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){ro(e,t,l)},function(l){return Fc(e,t,l)}):ro(e,t,n)}function ro(e,t,n){t.status="fulfilled",t.value=n,co(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ao(e,n)))}function Fc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,co(t),t=t.next;while(t!==l)}e.action=null}function co(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function uo(e,t){return t}function so(e,t){if(Ke){var n=ot.formState;if(n!==null){e:{var l=Te;if(Ke){if(ft){t:{for(var u=ft,x=Dn;u.nodeType!==8;){if(!x){u=null;break t}if(u=En(u.nextSibling),u===null){u=null;break t}}x=u.data,u=x==="F!"||x==="F"?u:null}if(u){ft=En(u.nextSibling),l=u.data==="F!";break e}}Il(l)}l=!1}l&&(t=n[0])}}return n=Jt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t},n.queue=l,n=Do.bind(null,Te,l),l.dispatch=n,l=Qc(!1),x=au.bind(null,Te,!1,l.queue),l=Jt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=s2.bind(null,Te,u,x,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function xo(e){var t=St();return oo(t,ct,e)}function oo(e,t,n){if(t=Wc(e,t,uo)[0],e=Zr(vl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ki(t)}catch(j){throw j===Ya?qr:j}else l=t;t=St();var u=t.queue,x=u.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Ja(9,{destroy:void 0},x2.bind(null,u,n),null)),[l,x,e]}function x2(e,t){e.action=t}function fo(e){var t=St(),n=ct;if(n!==null)return oo(t,n,e);St(),t=t.memoizedState,n=St();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ja(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Ur(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function ho(){return St().memoizedState}function Xr(e,t,n,l){var u=Jt();Te.flags|=e,u.memoizedState=Ja(1|t,{destroy:void 0},n,l===void 0?null:l)}function Jr(e,t,n,l){var u=St();l=l===void 0?null:l;var x=u.memoizedState.inst;ct!==null&&l!==null&&Uc(l,ct.memoizedState.deps)?u.memoizedState=Ja(t,x,n,l):(Te.flags|=e,u.memoizedState=Ja(1|t,x,n,l))}function mo(e,t){Xr(8390656,8,e,t)}function $c(e,t){Jr(2048,8,e,t)}function o2(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Ur(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function bo(e){var t=St().memoizedState;return o2({ref:t,nextImpl:e}),function(){if((tt&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function go(e,t){return Jr(4,2,e,t)}function vo(e,t){return Jr(4,4,e,t)}function po(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yo(e,t,n){n=n!=null?n.concat([e]):null,Jr(4,4,po.bind(null,t,e),n)}function eu(){}function _o(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Uc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function So(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Uc(t,l[1]))return l[0];if(l=e(),_a){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[l,t],l}function tu(e,t,n){return n===void 0||(gl&1073741824)!==0&&(Ye&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Cf(),Te.lanes|=e,Xl|=e,n)}function wo(e,t,n,l){return sn(n,t)?n:Ka.current!==null?(e=tu(e,n,l),sn(e,t)||(Mt=!0),e):(gl&42)===0||(gl&1073741824)!==0&&(Ye&261930)===0?(Mt=!0,e.memoizedState=n):(e=Cf(),Te.lanes|=e,Xl|=e,t)}function Co(e,t,n,l,u){var x=L.p;L.p=x!==0&&8>x?x:8;var j=y.T,A={};y.T=A,au(e,!1,t,n);try{var J=u(),ne=y.S;if(ne!==null&&ne(A,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=r2(J,l);qi(e,t,ce,mn(e))}else qi(e,t,l,mn(e))}catch(se){qi(e,t,{then:function(){},status:"rejected",reason:se},mn())}finally{L.p=x,j!==null&&A.types!==null&&(j.types=A.types),y.T=j}}function f2(){}function nu(e,t,n,l){if(e.tag!==5)throw Error(r(476));var u=jo(e).queue;Co(e,u,t,I,n===null?f2:function(){return Mo(e),n(l)})}function jo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:I},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Mo(e){var t=jo(e);t.next===null&&(t=e.alternate.memoizedState),qi(e,t.next.queue,{},mn())}function lu(){return Ht(Fi)}function zo(){return St().memoizedState}function No(){return St().memoizedState}function d2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mn();e=Hl(n);var l=Ol(t,e,n);l!==null&&(nn(l,t,n),Ai(l,t,n)),t={cache:Lc()},e.payload=t;return}t=t.return}}function h2(e,t,n){var l=mn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vr(e)?Ao(t,n):(n=_c(e,t,n,l),n!==null&&(nn(n,e,l),Eo(n,t,l)))}function Do(e,t,n){var l=mn();qi(e,t,n,l)}function qi(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vr(e))Ao(t,u);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var j=t.lastRenderedState,A=x(j,n);if(u.hasEagerState=!0,u.eagerState=A,sn(A,j))return Nr(e,t,u,0),ot===null&&zr(),!1}catch{}if(n=_c(e,t,u,l),n!==null)return nn(n,e,l),Eo(n,t,l),!0}return!1}function au(e,t,n,l){if(l={lane:2,revertLane:Bu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vr(e)){if(t)throw Error(r(479))}else t=_c(e,n,l,2),t!==null&&nn(t,e,2)}function Vr(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Ao(e,t){Za=Or=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Eo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Dt(e,n)}}var Bi={readContext:Ht,use:Kr,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Bi.useEffectEvent=pt;var Lo={readContext:Ht,use:Kr,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:mo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Xr(4194308,4,po.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xr(4194308,4,e,t)},useInsertionEffect:function(e,t){Xr(4,2,e,t)},useMemo:function(e,t){var n=Jt();t=t===void 0?null:t;var l=e();if(_a){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Jt();if(n!==void 0){var u=n(t);if(_a){Sn(!0);try{n(t)}finally{Sn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=h2.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qc(e);var t=e.queue,n=Do.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:eu,useDeferredValue:function(e,t){var n=Jt();return tu(n,e,t)},useTransition:function(){var e=Qc(!1);return e=Co.bind(null,Te,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,u=Jt();if(Ke){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),ot===null)throw Error(r(349));(Ye&127)!==0||Fx(l,t,n)}u.memoizedState=n;var x={value:n,getSnapshot:t};return u.queue=x,mo(eo.bind(null,l,x,e),[e]),l.flags|=2048,Ja(9,{destroy:void 0},$x.bind(null,l,x,n,t),null),n},useId:function(){var e=Jt(),t=ot.identifierPrefix;if(Ke){var n=$n,l=Fn;n=(l&~(1<<32-Oe(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Yr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=c2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:lu,useFormState:so,useActionState:so,useOptimistic:function(e){var t=Jt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=au.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vc,useCacheRefresh:function(){return Jt().memoizedState=d2.bind(null,Te)},useEffectEvent:function(e){var t=Jt(),n={impl:e};return t.memoizedState=n,function(){if((tt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},iu={readContext:Ht,use:Kr,useCallback:_o,useContext:Ht,useEffect:$c,useImperativeHandle:yo,useInsertionEffect:go,useLayoutEffect:vo,useMemo:So,useReducer:Zr,useRef:ho,useState:function(){return Zr(vl)},useDebugValue:eu,useDeferredValue:function(e,t){var n=St();return wo(n,ct.memoizedState,e,t)},useTransition:function(){var e=Zr(vl)[0],t=St().memoizedState;return[typeof e=="boolean"?e:ki(e),t]},useSyncExternalStore:Qx,useId:zo,useHostTransitionStatus:lu,useFormState:xo,useActionState:xo,useOptimistic:function(e,t){var n=St();return lo(n,ct,e,t)},useMemoCache:Vc,useCacheRefresh:No};iu.useEffectEvent=bo;var To={readContext:Ht,use:Kr,useCallback:_o,useContext:Ht,useEffect:$c,useImperativeHandle:yo,useInsertionEffect:go,useLayoutEffect:vo,useMemo:So,useReducer:Pc,useRef:ho,useState:function(){return Pc(vl)},useDebugValue:eu,useDeferredValue:function(e,t){var n=St();return ct===null?tu(n,e,t):wo(n,ct.memoizedState,e,t)},useTransition:function(){var e=Pc(vl)[0],t=St().memoizedState;return[typeof e=="boolean"?e:ki(e),t]},useSyncExternalStore:Qx,useId:zo,useHostTransitionStatus:lu,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=St();return ct!==null?lo(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vc,useCacheRefresh:No};To.useEffectEvent=bo;function ru(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=mn(),u=Hl(l);u.payload=t,n!=null&&(u.callback=n),t=Ol(e,u,l),t!==null&&(nn(t,e,l),Ai(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=mn(),u=Hl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Ol(e,u,l),t!==null&&(nn(t,e,l),Ai(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),l=Hl(n);l.tag=2,t!=null&&(l.callback=t),t=Ol(e,l,n),t!==null&&(nn(t,e,n),Ai(t,e,n))}};function ko(e,t,n,l,u,x,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,j):t.prototype&&t.prototype.isPureReactComponent?!Si(n,l)||!Si(u,x):!0}function qo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&cu.enqueueReplaceState(t,t.state,null)}function Sa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Bo(e){Mr(e)}function Io(e){console.error(e)}function Go(e){Mr(e)}function Wr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Ro(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function uu(e,t,n){return n=Hl(n),n.tag=3,n.payload={element:null},n.callback=function(){Wr(e,t)},n}function Ho(e){return e=Hl(e),e.tag=3,e}function Oo(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var x=l.value;e.payload=function(){return u(x)},e.callback=function(){Ro(t,n,l)}}var j=n.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(e.callback=function(){Ro(t,n,l),typeof u!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function m2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ra(t,n,u,!0),n=on.current,n!==null){switch(n.tag){case 31:case 13:return An===null?c0():n.alternate===null&&yt===0&&(yt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Br?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Tu(e,l,u)),!1;case 22:return n.flags|=65536,l===Br?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Tu(e,l,u)),!1}throw Error(r(435,n.tag))}return Tu(e,l,u),c0(),!1}if(Ke)return t=on.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==zc&&(e=Error(r(422),{cause:l}),ji(Mn(e,n)))):(l!==zc&&(t=Error(r(423),{cause:l}),ji(Mn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Mn(l,n),u=uu(e.stateNode,l,u),Gc(e,u),yt!==4&&(yt=2)),!1;var x=Error(r(520),{cause:l});if(x=Mn(x,n),Ki===null?Ki=[x]:Ki.push(x),yt!==4&&(yt=2),t===null)return!0;l=Mn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=uu(n.stateNode,l,e),Gc(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Jl===null||!Jl.has(x))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Ho(u),Oo(u,e,n,l),Gc(n,u),!1}n=n.return}while(n!==null);return!1}var su=Error(r(461)),Mt=!1;function Ot(e,t,n,l){t.child=e===null?Kx(t,null,n,l):ya(t,e.child,n,l)}function Yo(e,t,n,l,u){n=n.render;var x=t.ref;if("ref"in l){var j={};for(var A in l)A!=="ref"&&(j[A]=l[A])}else j=l;return ba(t),l=Kc(e,t,n,j,x,u),A=Zc(),e!==null&&!Mt?(Xc(e,t,u),pl(e,t,u)):(Ke&&A&&jc(t),t.flags|=1,Ot(e,t,l,u),t.child)}function Uo(e,t,n,l,u){if(e===null){var x=n.type;return typeof x=="function"&&!Sc(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,Ko(e,t,x,l,u)):(e=Ar(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!gu(e,u)){var j=x.memoizedProps;if(n=n.compare,n=n!==null?n:Si,n(j,l)&&e.ref===t.ref)return pl(e,t,u)}return t.flags|=1,e=dl(x,l),e.ref=t.ref,e.return=t,t.child=e}function Ko(e,t,n,l,u){if(e!==null){var x=e.memoizedProps;if(Si(x,l)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=l=x,gu(e,u))(e.flags&131072)!==0&&(Mt=!0);else return t.lanes=e.lanes,pl(e,t,u)}return xu(e,t,n,l,u)}function Zo(e,t,n,l){var u=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~x}else l=0,t.child=null;return Xo(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&kr(t,x!==null?x.cachePool:null),x!==null?Jx(t,x):Hc(),Vx(t);else return l=t.lanes=536870912,Xo(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(kr(t,x.cachePool),Jx(t,x),Ul(),t.memoizedState=null):(e!==null&&kr(t,null),Hc(),Ul());return Ot(e,t,u,n),t.child}function Ii(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xo(e,t,n,l,u){var x=kc();return x=x===null?null:{parent:Ct._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&kr(t,null),Hc(),Vx(t),e!==null&&Ra(e,t,l,!0),t.childLanes=u,null}function Pr(e,t){return t=Fr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Jo(e,t,n){return ya(t,e.child,null,n),e=Pr(t,t.pendingProps),e.flags|=2,fn(t),t.memoizedState=null,e}function b2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ke){if(l.mode==="hidden")return e=Pr(t,l),t.lanes=536870912,Ii(null,e);if(Yc(t),(e=ft)?(e=rd(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ql!==null?{id:Fn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},n=Dx(e),n.return=t,t.child=n,Rt=t,ft=null)):e=null,e===null)throw Il(t);return t.lanes=536870912,null}return Pr(t,l)}var x=e.memoizedState;if(x!==null){var j=x.dehydrated;if(Yc(t),u)if(t.flags&256)t.flags&=-257,t=Jo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Mt||Ra(e,t,n,!1),u=(n&e.childLanes)!==0,Mt||u){if(l=ot,l!==null&&(j=rt(l,n),j!==0&&j!==x.retryLane))throw x.retryLane=j,fa(e,j),nn(l,e,j),su;c0(),t=Jo(e,t,n)}else e=x.treeContext,ft=En(j.nextSibling),Rt=t,Ke=!0,Bl=null,Dn=!1,e!==null&&Lx(t,e),t=Pr(t,l),t.flags|=4096;return t}return e=dl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Qr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xu(e,t,n,l,u){return ba(t),n=Kc(e,t,n,l,void 0,u),l=Zc(),e!==null&&!Mt?(Xc(e,t,u),pl(e,t,u)):(Ke&&l&&jc(t),t.flags|=1,Ot(e,t,n,u),t.child)}function Vo(e,t,n,l,u,x){return ba(t),t.updateQueue=null,n=Px(t,l,n,u),Wx(e),l=Zc(),e!==null&&!Mt?(Xc(e,t,x),pl(e,t,x)):(Ke&&l&&jc(t),t.flags|=1,Ot(e,t,n,x),t.child)}function Wo(e,t,n,l,u){if(ba(t),t.stateNode===null){var x=qa,j=n.contextType;typeof j=="object"&&j!==null&&(x=Ht(j)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=cu,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},Bc(t),j=n.contextType,x.context=typeof j=="object"&&j!==null?Ht(j):qa,x.state=t.memoizedState,j=n.getDerivedStateFromProps,typeof j=="function"&&(ru(t,n,j,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(j=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),j!==x.state&&cu.enqueueReplaceState(x,x.state,null),Li(t,l,x,u),Ei(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var A=t.memoizedProps,J=Sa(n,A);x.props=J;var ne=x.context,ce=n.contextType;j=qa,typeof ce=="object"&&ce!==null&&(j=Ht(ce));var se=n.getDerivedStateFromProps;ce=typeof se=="function"||typeof x.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A||ne!==j)&&qo(t,x,l,j),Rl=!1;var ae=t.memoizedState;x.state=ae,Li(t,l,x,u),Ei(),ne=t.memoizedState,A||ae!==ne||Rl?(typeof se=="function"&&(ru(t,n,se,l),ne=t.memoizedState),(J=Rl||ko(t,n,J,l,ae,ne,j))?(ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ne),x.props=l,x.state=ne,x.context=j,l=J):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,Ic(e,t),j=t.memoizedProps,ce=Sa(n,j),x.props=ce,se=t.pendingProps,ae=x.context,ne=n.contextType,J=qa,typeof ne=="object"&&ne!==null&&(J=Ht(ne)),A=n.getDerivedStateFromProps,(ne=typeof A=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==se||ae!==J)&&qo(t,x,l,J),Rl=!1,ae=t.memoizedState,x.state=ae,Li(t,l,x,u),Ei();var ie=t.memoizedState;j!==se||ae!==ie||Rl||e!==null&&e.dependencies!==null&&Lr(e.dependencies)?(typeof A=="function"&&(ru(t,n,A,l),ie=t.memoizedState),(ce=Rl||ko(t,n,ce,l,ae,ie,J)||e!==null&&e.dependencies!==null&&Lr(e.dependencies))?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,ie,J),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,ie,J)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),x.props=l,x.state=ie,x.context=J,l=ce):(typeof x.componentDidUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Qr(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=ya(t,e.child,null,u),t.child=ya(t,null,n,u)):Ot(e,t,n,u),t.memoizedState=x.state,e=t.child):e=pl(e,t,u),e}function Po(e,t,n,l){return ha(),t.flags|=256,Ot(e,t,n,l),t.child}var ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fu(e){return{baseLanes:e,cachePool:Gx()}}function du(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=hn),e}function Qo(e,t,n){var l=t.pendingProps,u=!1,x=(t.flags&128)!==0,j;if((j=x)||(j=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),j&&(u=!0,t.flags&=-129),j=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ke){if(u?Yl(t):Ul(),(e=ft)?(e=rd(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ql!==null?{id:Fn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},n=Dx(e),n.return=t,t.child=n,Rt=t,ft=null)):e=null,e===null)throw Il(t);return Wu(e)?t.lanes=32:t.lanes=536870912,null}var A=l.children;return l=l.fallback,u?(Ul(),u=t.mode,A=Fr({mode:"hidden",children:A},u),l=da(l,u,n,null),A.return=t,l.return=t,A.sibling=l,t.child=A,l=t.child,l.memoizedState=fu(n),l.childLanes=du(e,j,n),t.memoizedState=ou,Ii(null,l)):(Yl(t),hu(t,A))}var J=e.memoizedState;if(J!==null&&(A=J.dehydrated,A!==null)){if(x)t.flags&256?(Yl(t),t.flags&=-257,t=mu(e,t,n)):t.memoizedState!==null?(Ul(),t.child=e.child,t.flags|=128,t=null):(Ul(),A=l.fallback,u=t.mode,l=Fr({mode:"visible",children:l.children},u),A=da(A,u,n,null),A.flags|=2,l.return=t,A.return=t,l.sibling=A,t.child=l,ya(t,e.child,null,n),l=t.child,l.memoizedState=fu(n),l.childLanes=du(e,j,n),t.memoizedState=ou,t=Ii(null,l));else if(Yl(t),Wu(A)){if(j=A.nextSibling&&A.nextSibling.dataset,j)var ne=j.dgst;j=ne,l=Error(r(419)),l.stack="",l.digest=j,ji({value:l,source:null,stack:null}),t=mu(e,t,n)}else if(Mt||Ra(e,t,n,!1),j=(n&e.childLanes)!==0,Mt||j){if(j=ot,j!==null&&(l=rt(j,n),l!==0&&l!==J.retryLane))throw J.retryLane=l,fa(e,l),nn(j,e,l),su;Vu(A)||c0(),t=mu(e,t,n)}else Vu(A)?(t.flags|=192,t.child=e.child,t=null):(e=J.treeContext,ft=En(A.nextSibling),Rt=t,Ke=!0,Bl=null,Dn=!1,e!==null&&Lx(t,e),t=hu(t,l.children),t.flags|=4096);return t}return u?(Ul(),A=l.fallback,u=t.mode,J=e.child,ne=J.sibling,l=dl(J,{mode:"hidden",children:l.children}),l.subtreeFlags=J.subtreeFlags&65011712,ne!==null?A=dl(ne,A):(A=da(A,u,n,null),A.flags|=2),A.return=t,l.return=t,l.sibling=A,t.child=l,Ii(null,l),l=t.child,A=e.child.memoizedState,A===null?A=fu(n):(u=A.cachePool,u!==null?(J=Ct._currentValue,u=u.parent!==J?{parent:J,pool:J}:u):u=Gx(),A={baseLanes:A.baseLanes|n,cachePool:u}),l.memoizedState=A,l.childLanes=du(e,j,n),t.memoizedState=ou,Ii(e.child,l)):(Yl(t),n=e.child,e=n.sibling,n=dl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(j=t.deletions,j===null?(t.deletions=[e],t.flags|=16):j.push(e)),t.child=n,t.memoizedState=null,n)}function hu(e,t){return t=Fr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fr(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function mu(e,t,n){return ya(t,e.child,null,n),e=hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ac(e.return,t,n)}function bu(e,t,n,l,u,x){var j=e.memoizedState;j===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:x}:(j.isBackwards=t,j.rendering=null,j.renderingStartTime=0,j.last=l,j.tail=n,j.tailMode=u,j.treeForkCount=x)}function $o(e,t,n){var l=t.pendingProps,u=l.revealOrder,x=l.tail;l=l.children;var j=_t.current,A=(j&2)!==0;if(A?(j=j&1|2,t.flags|=128):j&=1,H(_t,j),Ot(e,t,l,n),l=Ke?Ci:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fo(e,n,t);else if(e.tag===19)Fo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Hr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),bu(t,!1,u,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Hr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}bu(t,!0,n,null,x,l);break;case"together":bu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function pl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=dl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Lr(e)))}function g2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),Gl(t,Ct,e.memoizedState.cache),ha();break;case 27:case 5:ge(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:Gl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Yc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Yl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Qo(e,t,n):(Yl(t),e=pl(e,t,n),e!==null?e.sibling:null);Yl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ra(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return $o(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),H(_t,_t.current),l)break;return null;case 22:return t.lanes=0,Zo(e,t,n,t.pendingProps);case 24:Gl(t,Ct,e.memoizedState.cache)}return pl(e,t,n)}function ef(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Mt=!0;else{if(!gu(e,n)&&(t.flags&128)===0)return Mt=!1,g2(e,t,n);Mt=(e.flags&131072)!==0}else Mt=!1,Ke&&(t.flags&1048576)!==0&&Ex(t,Ci,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=va(t.elementType),t.type=e,typeof e=="function")Sc(e)?(l=Sa(e,l),t.tag=1,t=Wo(null,t,e,l,n)):(t.tag=0,t=xu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===q){t.tag=11,t=Yo(null,t,e,l,n);break e}else if(u===E){t.tag=14,t=Uo(null,t,e,l,n);break e}}throw t=W(e)||e,Error(r(306,t,""))}}return t;case 0:return xu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=Sa(l,t.pendingProps),Wo(e,t,l,u,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var x=t.memoizedState;u=x.element,Ic(e,t),Li(t,l,null,n);var j=t.memoizedState;if(l=j.cache,Gl(t,Ct,l),l!==x.cache&&Ec(t,[Ct],n,!0),Ei(),l=j.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:j.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Po(e,t,l,n);break e}else if(l!==u){u=Mn(Error(r(424)),t),ji(u),t=Po(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ft=En(e.firstChild),Rt=t,Ke=!0,Bl=null,Dn=!0,n=Kx(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ha(),l===u){t=pl(e,t,n);break e}Ot(e,t,l,n)}t=t.child}return t;case 26:return Qr(e,t),e===null?(n=fd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ke||(n=t.type,e=t.pendingProps,l=h0(le.current).createElement(n),l[vt]=t,l[Le]=e,Yt(l,n,e),ze(l),t.stateNode=l):t.memoizedState=fd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ge(t),e===null&&Ke&&(l=t.stateNode=sd(t.type,t.pendingProps,le.current),Rt=t,Dn=!0,u=ft,Ql(t.type)?(Pu=u,ft=En(l.firstChild)):ft=u),Ot(e,t,t.pendingProps.children,n),Qr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ke&&((u=l=ft)&&(l=J2(l,t.type,t.pendingProps,Dn),l!==null?(t.stateNode=l,Rt=t,ft=En(l.firstChild),Dn=!1,u=!0):u=!1),u||Il(t)),ge(t),u=t.type,x=t.pendingProps,j=e!==null?e.memoizedProps:null,l=x.children,Zu(u,x)?l=null:j!==null&&Zu(u,j)&&(t.flags|=32),t.memoizedState!==null&&(u=Kc(e,t,u2,null,null,n),Fi._currentValue=u),Qr(e,t),Ot(e,t,l,n),t.child;case 6:return e===null&&Ke&&((e=n=ft)&&(n=V2(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Rt=t,ft=null,e=!0):e=!1),e||Il(t)),null;case 13:return Qo(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ya(t,null,l,n):Ot(e,t,l,n),t.child;case 11:return Yo(e,t,t.type,t.pendingProps,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Gl(t,t.type,l.value),Ot(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,ba(t),u=Ht(u),l=l(u),t.flags|=1,Ot(e,t,l,n),t.child;case 14:return Uo(e,t,t.type,t.pendingProps,n);case 15:return Ko(e,t,t.type,t.pendingProps,n);case 19:return $o(e,t,n);case 31:return b2(e,t,n);case 22:return Zo(e,t,n,t.pendingProps);case 24:return ba(t),l=Ht(Ct),e===null?(u=kc(),u===null&&(u=ot,x=Lc(),u.pooledCache=x,x.refCount++,x!==null&&(u.pooledCacheLanes|=n),u=x),t.memoizedState={parent:l,cache:u},Bc(t),Gl(t,Ct,u)):((e.lanes&n)!==0&&(Ic(e,t),Li(t,null,null,n),Ei()),u=e.memoizedState,x=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Gl(t,Ct,l)):(l=x.cache,Gl(t,Ct,l),l!==u.cache&&Ec(t,[Ct],n,!0))),Ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function yl(e){e.flags|=4}function vu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Nf())e.flags|=8192;else throw pa=Br,qc}else e.flags&=-16777217}function tf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gd(t))if(Nf())e.flags|=8192;else throw pa=Br,qc}function $r(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xe():536870912,e.lanes|=t,Qa|=t)}function Gi(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function v2(e,t,n){var l=t.pendingProps;switch(Mc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),bl(Ct),de(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ga(t)?yl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nc())),dt(t),null;case 26:var u=t.type,x=t.memoizedState;return e===null?(yl(t),x!==null?(dt(t),tf(t,x)):(dt(t),vu(t,u,null,l,n))):x?x!==e.memoizedState?(yl(t),dt(t),tf(t,x)):(dt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&yl(t),dt(t),vu(t,u,e,l,n)),null;case 27:if(he(t),n=le.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&yl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return dt(t),null}e=Z.current,Ga(t)?Tx(t):(e=sd(u,l,n),t.stateNode=e,yl(t))}return dt(t),null;case 5:if(he(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&yl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return dt(t),null}if(x=Z.current,Ga(t))Tx(t);else{var j=h0(le.current);switch(x){case 1:x=j.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:x=j.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":x=j.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":x=j.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":x=j.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?j.createElement("select",{is:l.is}):j.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?j.createElement(u,{is:l.is}):j.createElement(u)}}x[vt]=t,x[Le]=l;e:for(j=t.child;j!==null;){if(j.tag===5||j.tag===6)x.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===t)break e;for(;j.sibling===null;){if(j.return===null||j.return===t)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}t.stateNode=x;e:switch(Yt(x,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&yl(t)}}return dt(t),vu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&yl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=le.current,Ga(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Rt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[vt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Ff(e.nodeValue,n)),e||Il(t,!0)}else e=h0(e).createTextNode(l),e[vt]=t,t.stateNode=e}return dt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ga(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[vt]=t}else ha(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),e=!1}else n=Nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(fn(t),t):(fn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ga(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[vt]=t}else ha(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),u=!1}else u=Nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(fn(t),t):(fn(t),null)}return fn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),$r(t,t.updateQueue),dt(t),null);case 4:return de(),e===null&&Hu(t.stateNode.containerInfo),dt(t),null;case 10:return bl(t.type),dt(t),null;case 19:if(N(_t),l=t.memoizedState,l===null)return dt(t),null;if(u=(t.flags&128)!==0,x=l.rendering,x===null)if(u)Gi(l,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Hr(e),x!==null){for(t.flags|=128,Gi(l,!1),e=x.updateQueue,t.updateQueue=e,$r(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Nx(n,e),n=n.sibling;return H(_t,_t.current&1|2),Ke&&hl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Qe()>a0&&(t.flags|=128,u=!0,Gi(l,!1),t.lanes=4194304)}else{if(!u)if(e=Hr(x),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,$r(t,e),Gi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!Ke)return dt(t),null}else 2*Qe()-l.renderingStartTime>a0&&n!==536870912&&(t.flags|=128,u=!0,Gi(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,n=_t.current,H(_t,u?n&1|2:n&1),Ke&&hl(t,l.treeForkCount),e):(dt(t),null);case 22:case 23:return fn(t),Oc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),n=t.updateQueue,n!==null&&$r(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&N(ga),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bl(Ct),dt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function p2(e,t){switch(Mc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bl(Ct),de(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(fn(t),t.alternate===null)throw Error(r(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return N(_t),null;case 4:return de(),null;case 10:return bl(t.type),null;case 22:case 23:return fn(t),Oc(),e!==null&&N(ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bl(Ct),null;case 25:return null;default:return null}}function nf(e,t){switch(Mc(t),t.tag){case 3:bl(Ct),de();break;case 26:case 27:case 5:he(t);break;case 4:de();break;case 31:t.memoizedState!==null&&fn(t);break;case 13:fn(t);break;case 19:N(_t);break;case 10:bl(t.type);break;case 22:case 23:fn(t),Oc(),e!==null&&N(ga);break;case 24:bl(Ct)}}function Ri(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var x=n.create,j=n.inst;l=x(),j.destroy=l}n=n.next}while(n!==u)}}catch(A){it(t,t.return,A)}}function Kl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var x=u.next;l=x;do{if((l.tag&e)===e){var j=l.inst,A=j.destroy;if(A!==void 0){j.destroy=void 0,u=t;var J=n,ne=A;try{ne()}catch(ce){it(u,J,ce)}}}l=l.next}while(l!==x)}}catch(ce){it(t,t.return,ce)}}function lf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Xx(t,n)}catch(l){it(e,e.return,l)}}}function af(e,t,n){n.props=Sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function Hi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){it(e,t,u)}}function el(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){it(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){it(e,t,u)}else n.current=null}function rf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){it(e,e.return,u)}}function pu(e,t,n){try{var l=e.stateNode;O2(l,e.type,n,t),l[Le]=t}catch(u){it(e,e.return,u)}}function cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ql(e.type)||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ql(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _u(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ol));else if(l!==4&&(l===27&&Ql(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(_u(e,t,n),e=e.sibling;e!==null;)_u(e,t,n),e=e.sibling}function e0(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Ql(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(e0(e,t,n),e=e.sibling;e!==null;)e0(e,t,n),e=e.sibling}function uf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Yt(t,l,n),t[vt]=e,t[Le]=n}catch(x){it(e,e.return,x)}}var _l=!1,zt=!1,Su=!1,sf=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function y2(e,t){if(e=e.containerInfo,Uu=_0,e=px(e),mc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var j=0,A=-1,J=-1,ne=0,ce=0,se=e,ae=null;t:for(;;){for(var ie;se!==n||u!==0&&se.nodeType!==3||(A=j+u),se!==x||l!==0&&se.nodeType!==3||(J=j+l),se.nodeType===3&&(j+=se.nodeValue.length),(ie=se.firstChild)!==null;)ae=se,se=ie;for(;;){if(se===e)break t;if(ae===n&&++ne===u&&(A=j),ae===x&&++ce===l&&(J=j),(ie=se.nextSibling)!==null)break;se=ae,ae=se.parentNode}se=ie}n=A===-1||J===-1?null:{start:A,end:J}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},_0=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){switch(t=Lt,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,u=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var be=Sa(n.type,u);e=l.getSnapshotBeforeUpdate(be,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(je){it(n,n.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ju(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ju(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}}function xf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:wl(e,n),l&4&&Ri(5,n);break;case 1:if(wl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(j){it(n,n.return,j)}else{var u=Sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(j){it(n,n.return,j)}}l&64&&lf(n),l&512&&Hi(n,n.return);break;case 3:if(wl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Xx(e,t)}catch(j){it(n,n.return,j)}}break;case 27:t===null&&l&4&&uf(n);case 26:case 5:wl(e,n),t===null&&l&4&&rf(n),l&512&&Hi(n,n.return);break;case 12:wl(e,n);break;case 31:wl(e,n),l&4&&df(e,n);break;case 13:wl(e,n),l&4&&hf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=D2.bind(null,n),W2(e,n))));break;case 22:if(l=n.memoizedState!==null||_l,!l){t=t!==null&&t.memoizedState!==null||zt,u=_l;var x=zt;_l=l,(zt=t)&&!x?Cl(e,n,(n.subtreeFlags&8772)!==0):wl(e,n),_l=u,zt=x}break;case 30:break;default:wl(e,n)}}function of(e){var t=e.alternate;t!==null&&(e.alternate=null,of(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,Ft=!1;function Sl(e,t,n){for(n=n.child;n!==null;)ff(e,t,n),n=n.sibling}function ff(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Gn,n)}catch{}switch(n.tag){case 26:zt||el(n,t),Sl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||el(n,t);var l=ht,u=Ft;Ql(n.type)&&(ht=n.stateNode,Ft=!1),Sl(e,t,n),Wi(n.stateNode),ht=l,Ft=u;break;case 5:zt||el(n,t);case 6:if(l=ht,u=Ft,ht=null,Sl(e,t,n),ht=l,Ft=u,ht!==null)if(Ft)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(n.stateNode)}catch(x){it(n,t,x)}else try{ht.removeChild(n.stateNode)}catch(x){it(n,t,x)}break;case 18:ht!==null&&(Ft?(e=ht,ad(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ii(e)):ad(ht,n.stateNode));break;case 4:l=ht,u=Ft,ht=n.stateNode.containerInfo,Ft=!0,Sl(e,t,n),ht=l,Ft=u;break;case 0:case 11:case 14:case 15:Kl(2,n,t),zt||Kl(4,n,t),Sl(e,t,n);break;case 1:zt||(el(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&af(n,t,l)),Sl(e,t,n);break;case 21:Sl(e,t,n);break;case 22:zt=(l=zt)||n.memoizedState!==null,Sl(e,t,n),zt=l;break;default:Sl(e,t,n)}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ii(e)}catch(n){it(t,t.return,n)}}}function hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ii(e)}catch(n){it(t,t.return,n)}}function _2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sf),t;default:throw Error(r(435,e.tag))}}function t0(e,t){var n=_2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=A2.bind(null,e,l);l.then(u,u)}})}function $t(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],x=e,j=t,A=j;e:for(;A!==null;){switch(A.tag){case 27:if(Ql(A.type)){ht=A.stateNode,Ft=!1;break e}break;case 5:ht=A.stateNode,Ft=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,Ft=!0;break e}A=A.return}if(ht===null)throw Error(r(160));ff(x,j,u),ht=null,Ft=!1,x=u.alternate,x!==null&&(x.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mf(t,e),t=t.sibling}var On=null;function mf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),en(e),l&4&&(Kl(3,e,e.return),Ri(3,e),Kl(5,e,e.return));break;case 1:$t(t,e),en(e),l&512&&(zt||n===null||el(n,n.return)),l&64&&_l&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=On;if($t(t,e),en(e),l&512&&(zt||n===null||el(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":x=u.getElementsByTagName("title")[0],(!x||x[ua]||x[vt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=u.createElement(l),u.head.insertBefore(x,u.querySelector("head > title"))),Yt(x,l,n),x[vt]=e,ze(x),l=x;break e;case"link":var j=md("link","href",u).get(l+(n.href||""));if(j){for(var A=0;A<j.length;A++)if(x=j[A],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){j.splice(A,1);break t}}x=u.createElement(l),Yt(x,l,n),u.head.appendChild(x);break;case"meta":if(j=md("meta","content",u).get(l+(n.content||""))){for(A=0;A<j.length;A++)if(x=j[A],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){j.splice(A,1);break t}}x=u.createElement(l),Yt(x,l,n),u.head.appendChild(x);break;default:throw Error(r(468,l))}x[vt]=e,ze(x),l=x}e.stateNode=l}else bd(u,e.type,e.stateNode);else e.stateNode=hd(u,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?bd(u,e.type,e.stateNode):hd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&pu(e,e.memoizedProps,n.memoizedProps)}break;case 27:$t(t,e),en(e),l&512&&(zt||n===null||el(n,n.return)),n!==null&&l&4&&pu(e,e.memoizedProps,n.memoizedProps);break;case 5:if($t(t,e),en(e),l&512&&(zt||n===null||el(n,n.return)),e.flags&32){u=e.stateNode;try{Na(u,"")}catch(be){it(e,e.return,be)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,pu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(Su=!0);break;case 6:if($t(t,e),en(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(be){it(e,e.return,be)}}break;case 3:if(g0=null,u=On,On=m0(t.containerInfo),$t(t,e),On=u,en(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(be){it(e,e.return,be)}Su&&(Su=!1,bf(e));break;case 4:l=On,On=m0(e.stateNode.containerInfo),$t(t,e),en(e),On=l;break;case 12:$t(t,e),en(e);break;case 31:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,t0(e,l)));break;case 13:$t(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(l0=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,t0(e,l)));break;case 22:u=e.memoizedState!==null;var J=n!==null&&n.memoizedState!==null,ne=_l,ce=zt;if(_l=ne||u,zt=ce||J,$t(t,e),zt=ce,_l=ne,en(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||J||_l||zt||wa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){J=n=t;try{if(x=J.stateNode,u)j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{A=J.stateNode;var se=J.memoizedProps.style,ae=se!=null&&se.hasOwnProperty("display")?se.display:null;A.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(be){it(J,J.return,be)}}}else if(t.tag===6){if(n===null){J=t;try{J.stateNode.nodeValue=u?"":J.memoizedProps}catch(be){it(J,J.return,be)}}}else if(t.tag===18){if(n===null){J=t;try{var ie=J.stateNode;u?id(ie,!0):id(J.stateNode,!1)}catch(be){it(J,J.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,t0(e,n))));break;case 19:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,t0(e,l)));break;case 30:break;case 21:break;default:$t(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(cf(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,x=yu(e);e0(e,x,u);break;case 5:var j=n.stateNode;n.flags&32&&(Na(j,""),n.flags&=-33);var A=yu(e);e0(e,A,j);break;case 3:case 4:var J=n.stateNode.containerInfo,ne=yu(e);_u(e,ne,J);break;default:throw Error(r(161))}}catch(ce){it(e,e.return,ce)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)xf(e,t.alternate,t),t=t.sibling}function wa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kl(4,t,t.return),wa(t);break;case 1:el(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&af(t,t.return,n),wa(t);break;case 27:Wi(t.stateNode);case 26:case 5:el(t,t.return),wa(t);break;case 22:t.memoizedState===null&&wa(t);break;case 30:wa(t);break;default:wa(t)}e=e.sibling}}function Cl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,x=t,j=x.flags;switch(x.tag){case 0:case 11:case 15:Cl(u,x,n),Ri(4,x);break;case 1:if(Cl(u,x,n),l=x,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ne){it(l,l.return,ne)}if(l=x,u=l.updateQueue,u!==null){var A=l.stateNode;try{var J=u.shared.hiddenCallbacks;if(J!==null)for(u.shared.hiddenCallbacks=null,u=0;u<J.length;u++)Zx(J[u],A)}catch(ne){it(l,l.return,ne)}}n&&j&64&&lf(x),Hi(x,x.return);break;case 27:uf(x);case 26:case 5:Cl(u,x,n),n&&l===null&&j&4&&rf(x),Hi(x,x.return);break;case 12:Cl(u,x,n);break;case 31:Cl(u,x,n),n&&j&4&&df(u,x);break;case 13:Cl(u,x,n),n&&j&4&&hf(u,x);break;case 22:x.memoizedState===null&&Cl(u,x,n),Hi(x,x.return);break;case 30:break;default:Cl(u,x,n)}t=t.sibling}}function wu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Mi(n))}function Cu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Mi(e))}function Yn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gf(e,t,n,l),t=t.sibling}function gf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Yn(e,t,n,l),u&2048&&Ri(9,t);break;case 1:Yn(e,t,n,l);break;case 3:Yn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Mi(e)));break;case 12:if(u&2048){Yn(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,j=x.id,A=x.onPostCommit;typeof A=="function"&&A(j,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(J){it(t,t.return,J)}}else Yn(e,t,n,l);break;case 31:Yn(e,t,n,l);break;case 13:Yn(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,j=t.alternate,t.memoizedState!==null?x._visibility&2?Yn(e,t,n,l):Oi(e,t):x._visibility&2?Yn(e,t,n,l):(x._visibility|=2,Va(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&wu(j,t);break;case 24:Yn(e,t,n,l),u&2048&&Cu(t.alternate,t);break;default:Yn(e,t,n,l)}}function Va(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,j=t,A=n,J=l,ne=j.flags;switch(j.tag){case 0:case 11:case 15:Va(x,j,A,J,u),Ri(8,j);break;case 23:break;case 22:var ce=j.stateNode;j.memoizedState!==null?ce._visibility&2?Va(x,j,A,J,u):Oi(x,j):(ce._visibility|=2,Va(x,j,A,J,u)),u&&ne&2048&&wu(j.alternate,j);break;case 24:Va(x,j,A,J,u),u&&ne&2048&&Cu(j.alternate,j);break;default:Va(x,j,A,J,u)}t=t.sibling}}function Oi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Oi(n,l),u&2048&&wu(l.alternate,l);break;case 24:Oi(n,l),u&2048&&Cu(l.alternate,l);break;default:Oi(n,l)}t=t.sibling}}var Yi=8192;function Wa(e,t,n){if(e.subtreeFlags&Yi)for(e=e.child;e!==null;)vf(e,t,n),e=e.sibling}function vf(e,t,n){switch(e.tag){case 26:Wa(e,t,n),e.flags&Yi&&e.memoizedState!==null&&ch(n,On,e.memoizedState,e.memoizedProps);break;case 5:Wa(e,t,n);break;case 3:case 4:var l=On;On=m0(e.stateNode.containerInfo),Wa(e,t,n),On=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Yi,Yi=16777216,Wa(e,t,n),Yi=l):Wa(e,t,n));break;default:Wa(e,t,n)}}function pf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,_f(l,e)}pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yf(e),e=e.sibling}function yf(e){switch(e.tag){case 0:case 11:case 15:Ui(e),e.flags&2048&&Kl(9,e,e.return);break;case 3:Ui(e);break;case 12:Ui(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,n0(e)):Ui(e);break;default:Ui(e)}}function n0(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,_f(l,e)}pf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kl(8,t,t.return),n0(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,n0(t));break;default:n0(t)}e=e.sibling}}function _f(e,t){for(;Lt!==null;){var n=Lt;switch(n.tag){case 0:case 11:case 15:Kl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Mi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Lt=l;else e:for(n=e;Lt!==null;){l=Lt;var u=l.sibling,x=l.return;if(of(l),l===n){Lt=null;break e}if(u!==null){u.return=x,Lt=u;break e}Lt=x}}}var S2={getCacheForType:function(e){var t=Ht(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ht(Ct).controller.signal}},w2=typeof WeakMap=="function"?WeakMap:Map,tt=0,ot=null,Ge=null,Ye=0,at=0,dn=null,Zl=!1,Pa=!1,ju=!1,jl=0,yt=0,Xl=0,Ca=0,Mu=0,hn=0,Qa=0,Ki=null,tn=null,zu=!1,l0=0,Sf=0,a0=1/0,i0=null,Jl=null,At=0,Vl=null,Fa=null,Ml=0,Nu=0,Du=null,wf=null,Zi=0,Au=null;function mn(){return(tt&2)!==0&&Ye!==0?Ye&-Ye:y.T!==null?Bu():Rn()}function Cf(){if(hn===0)if((Ye&536870912)===0||Ke){var e=_e;_e<<=1,(_e&3932160)===0&&(_e=262144),hn=e}else hn=536870912;return e=on.current,e!==null&&(e.flags|=32),hn}function nn(e,t,n){(e===ot&&(at===2||at===9)||e.cancelPendingCommit!==null)&&($a(e,0),Wl(e,Ye,hn,!1)),Ee(e,n),((tt&2)===0||e!==ot)&&(e===ot&&((tt&2)===0&&(Ca|=n),yt===4&&Wl(e,Ye,hn,!1)),tl(e))}function jf(e,t,n){if((tt&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Fe(e,t),u=l?M2(e,t):Lu(e,t,!0),x=l;do{if(u===0){Pa&&!l&&Wl(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!C2(n)){u=Lu(e,t,!1),x=!1;continue}if(u===2){if(x=t,e.errorRecoveryDisabledLanes&x)var j=0;else j=e.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){t=j;e:{var A=e;u=Ki;var J=A.current.memoizedState.isDehydrated;if(J&&($a(A,j).flags|=256),j=Lu(A,j,!1),j!==2){if(ju&&!J){A.errorRecoveryDisabledLanes|=x,Ca|=x,u=4;break e}x=tn,tn=u,x!==null&&(tn===null?tn=x:tn.push.apply(tn,x))}u=j}if(x=!1,u!==2)continue}}if(u===1){$a(e,0),Wl(e,t,0,!0);break}e:{switch(l=e,x=u,x){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Wl(l,t,hn,!Zl);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=l0+300-Qe(),10<u)){if(Wl(l,t,hn,!Zl),we(l,0,!0)!==0)break e;Ml=t,l.timeoutHandle=nd(Mf.bind(null,l,n,tn,i0,zu,t,hn,Ca,Qa,Zl,x,"Throttled",-0,0),u);break e}Mf(l,n,tn,i0,zu,t,hn,Ca,Qa,Zl,x,null,-0,0)}}break}while(!0);tl(e)}function Mf(e,t,n,l,u,x,j,A,J,ne,ce,se,ae,ie){if(e.timeoutHandle=-1,se=t.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ol},vf(t,x,se);var be=(x&62914560)===x?l0-Qe():(x&4194048)===x?Sf-Qe():0;if(be=uh(se,be),be!==null){Ml=x,e.cancelPendingCommit=be(kf.bind(null,e,t,x,n,l,u,j,A,J,ce,se,null,ae,ie)),Wl(e,x,j,!ne);return}}kf(e,t,x,n,l,u,j,A,J)}function C2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],x=u.getSnapshot;u=u.value;try{if(!sn(x(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wl(e,t,n,l){t&=~Mu,t&=~Ca,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var x=31-Oe(u),j=1<<x;l[x]=-1,u&=~j}n!==0&&et(e,n,t)}function r0(){return(tt&6)===0?(Xi(0),!1):!0}function Eu(){if(Ge!==null){if(at===0)var e=Ge.return;else e=Ge,ml=ma=null,Jc(e),Ua=null,Ni=0,e=Ge;for(;e!==null;)nf(e.alternate,e),e=e.return;Ge=null}}function $a(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,K2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ml=0,Eu(),ot=e,Ge=n=dl(e.current,null),Ye=t,at=0,dn=null,Zl=!1,Pa=Fe(e,t),ju=!1,Qa=hn=Mu=Ca=Xl=yt=0,tn=Ki=null,zu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Oe(l),x=1<<u;t|=e[u],l&=~x}return jl=t,zr(),n}function zf(e,t){Te=null,y.H=Bi,t===Ya||t===qr?(t=Ox(),at=3):t===qc?(t=Ox(),at=4):at=t===su?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dn=t,Ge===null&&(yt=1,Wr(e,Mn(t,e.current)))}function Nf(){var e=on.current;return e===null?!0:(Ye&4194048)===Ye?An===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?e===An:!1}function Df(){var e=y.H;return y.H=Bi,e===null?Bi:e}function Af(){var e=y.A;return y.A=S2,e}function c0(){yt=4,Zl||(Ye&4194048)!==Ye&&on.current!==null||(Pa=!0),(Xl&134217727)===0&&(Ca&134217727)===0||ot===null||Wl(ot,Ye,hn,!1)}function Lu(e,t,n){var l=tt;tt|=2;var u=Df(),x=Af();(ot!==e||Ye!==t)&&(i0=null,$a(e,t)),t=!1;var j=yt;e:do try{if(at!==0&&Ge!==null){var A=Ge,J=dn;switch(at){case 8:Eu(),j=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var ne=at;if(at=0,dn=null,ei(e,A,J,ne),n&&Pa){j=0;break e}break;default:ne=at,at=0,dn=null,ei(e,A,J,ne)}}j2(),j=yt;break}catch(ce){zf(e,ce)}while(!0);return t&&e.shellSuspendCounter++,ml=ma=null,tt=l,y.H=u,y.A=x,Ge===null&&(ot=null,Ye=0,zr()),j}function j2(){for(;Ge!==null;)Ef(Ge)}function M2(e,t){var n=tt;tt|=2;var l=Df(),u=Af();ot!==e||Ye!==t?(i0=null,a0=Qe()+500,$a(e,t)):Pa=Fe(e,t);e:do try{if(at!==0&&Ge!==null){t=Ge;var x=dn;t:switch(at){case 1:at=0,dn=null,ei(e,t,x,1);break;case 2:case 9:if(Rx(x)){at=0,dn=null,Lf(t);break}t=function(){at!==2&&at!==9||ot!==e||(at=7),tl(e)},x.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Rx(x)?(at=0,dn=null,Lf(t)):(at=0,dn=null,ei(e,t,x,7));break;case 5:var j=null;switch(Ge.tag){case 26:j=Ge.memoizedState;case 5:case 27:var A=Ge;if(j?gd(j):A.stateNode.complete){at=0,dn=null;var J=A.sibling;if(J!==null)Ge=J;else{var ne=A.return;ne!==null?(Ge=ne,u0(ne)):Ge=null}break t}}at=0,dn=null,ei(e,t,x,5);break;case 6:at=0,dn=null,ei(e,t,x,6);break;case 8:Eu(),yt=6;break e;default:throw Error(r(462))}}z2();break}catch(ce){zf(e,ce)}while(!0);return ml=ma=null,y.H=l,y.A=u,tt=n,Ge!==null?0:(ot=null,Ye=0,zr(),yt)}function z2(){for(;Ge!==null&&!Vn();)Ef(Ge)}function Ef(e){var t=ef(e.alternate,e,jl);e.memoizedProps=e.pendingProps,t===null?u0(e):Ge=t}function Lf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vo(n,t,t.pendingProps,t.type,void 0,Ye);break;case 11:t=Vo(n,t,t.pendingProps,t.type.render,t.ref,Ye);break;case 5:Jc(t);default:nf(n,t),t=Ge=Nx(t,jl),t=ef(n,t,jl)}e.memoizedProps=e.pendingProps,t===null?u0(e):Ge=t}function ei(e,t,n,l){ml=ma=null,Jc(t),Ua=null,Ni=0;var u=t.return;try{if(m2(e,u,t,n,Ye)){yt=1,Wr(e,Mn(n,e.current)),Ge=null;return}}catch(x){if(u!==null)throw Ge=u,x;yt=1,Wr(e,Mn(n,e.current)),Ge=null;return}t.flags&32768?(Ke||l===1?e=!0:Pa||(Ye&536870912)!==0?e=!1:(Zl=e=!0,(l===2||l===9||l===3||l===6)&&(l=on.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tf(t,e)):u0(t)}function u0(e){var t=e;do{if((t.flags&32768)!==0){Tf(t,Zl);return}e=t.return;var n=v2(t.alternate,t,jl);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);yt===0&&(yt=5)}function Tf(e,t){do{var n=p2(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);yt=6,Ge=null}function kf(e,t,n,l,u,x,j,A,J){e.cancelPendingCommit=null;do s0();while(At!==0);if((tt&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(x=t.lanes|t.childLanes,x|=yc,It(e,n,x,j,A,J),e===ot&&(Ge=ot=null,Ye=0),Fa=t,Vl=e,Ml=n,Nu=x,Du=u,wf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,E2(ul,function(){return Rf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=y.T,y.T=null,u=L.p,L.p=2,j=tt,tt|=4;try{y2(e,t,n)}finally{tt=j,L.p=u,y.T=l}}At=1,qf(),Bf(),If()}}function qf(){if(At===1){At=0;var e=Vl,t=Fa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=y.T,y.T=null;var l=L.p;L.p=2;var u=tt;tt|=4;try{mf(t,e);var x=Ku,j=px(e.containerInfo),A=x.focusedElem,J=x.selectionRange;if(j!==A&&A&&A.ownerDocument&&vx(A.ownerDocument.documentElement,A)){if(J!==null&&mc(A)){var ne=J.start,ce=J.end;if(ce===void 0&&(ce=ne),"selectionStart"in A)A.selectionStart=ne,A.selectionEnd=Math.min(ce,A.value.length);else{var se=A.ownerDocument||document,ae=se&&se.defaultView||window;if(ae.getSelection){var ie=ae.getSelection(),be=A.textContent.length,je=Math.min(J.start,be),st=J.end===void 0?je:Math.min(J.end,be);!ie.extend&&je>st&&(j=st,st=je,je=j);var $=gx(A,je),Q=gx(A,st);if($&&Q&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==Q.node||ie.focusOffset!==Q.offset)){var te=se.createRange();te.setStart($.node,$.offset),ie.removeAllRanges(),je>st?(ie.addRange(te),ie.extend(Q.node,Q.offset)):(te.setEnd(Q.node,Q.offset),ie.addRange(te))}}}}for(se=[],ie=A;ie=ie.parentNode;)ie.nodeType===1&&se.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<se.length;A++){var ue=se[A];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}_0=!!Uu,Ku=Uu=null}finally{tt=u,L.p=l,y.T=n}}e.current=t,At=2}}function Bf(){if(At===2){At=0;var e=Vl,t=Fa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=y.T,y.T=null;var l=L.p;L.p=2;var u=tt;tt|=4;try{xf(e,t.alternate,t)}finally{tt=u,L.p=l,y.T=n}}At=3}}function If(){if(At===4||At===3){At=0,Wn();var e=Vl,t=Fa,n=Ml,l=wf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,Fa=Vl=null,Gf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Jl=null),gt(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Gn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=y.T,u=L.p,L.p=2,y.T=null;try{for(var x=e.onRecoverableError,j=0;j<l.length;j++){var A=l[j];x(A.value,{componentStack:A.stack})}}finally{y.T=t,L.p=u}}(Ml&3)!==0&&s0(),tl(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Au?Zi++:(Zi=0,Au=e):Zi=0,Xi(0)}}function Gf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Mi(t)))}function s0(){return qf(),Bf(),If(),Rf()}function Rf(){if(At!==5)return!1;var e=Vl,t=Nu;Nu=0;var n=gt(Ml),l=y.T,u=L.p;try{L.p=32>n?32:n,y.T=null,n=Du,Du=null;var x=Vl,j=Ml;if(At=0,Fa=Vl=null,Ml=0,(tt&6)!==0)throw Error(r(331));var A=tt;if(tt|=4,yf(x.current),gf(x,x.current,j,n),tt=A,Xi(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Gn,x)}catch{}return!0}finally{L.p=u,y.T=l,Gf(e,t)}}function Hf(e,t,n){t=Mn(n,t),t=uu(e.stateNode,t,2),e=Ol(e,t,2),e!==null&&(Ee(e,2),tl(e))}function it(e,t,n){if(e.tag===3)Hf(e,e,n);else for(;t!==null;){if(t.tag===3){Hf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jl===null||!Jl.has(l))){e=Mn(n,e),n=Ho(2),l=Ol(t,n,2),l!==null&&(Oo(n,l,t,e),Ee(l,2),tl(l));break}}t=t.return}}function Tu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new w2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(ju=!0,u.add(n),e=N2.bind(null,e,t,n),t.then(e,e))}function N2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ot===e&&(Ye&n)===n&&(yt===4||yt===3&&(Ye&62914560)===Ye&&300>Qe()-l0?(tt&2)===0&&$a(e,0):Mu|=n,Qa===Ye&&(Qa=0)),tl(e)}function Of(e,t){t===0&&(t=Xe()),e=fa(e,t),e!==null&&(Ee(e,t),tl(e))}function D2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Of(e,n)}function A2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Of(e,n)}function E2(e,t){return Et(e,t)}var x0=null,ti=null,ku=!1,o0=!1,qu=!1,Pl=0;function tl(e){e!==ti&&e.next===null&&(ti===null?x0=ti=e:ti=ti.next=e),o0=!0,ku||(ku=!0,T2())}function Xi(e,t){if(!qu&&o0){qu=!0;do for(var n=!1,l=x0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var x=0;else{var j=l.suspendedLanes,A=l.pingedLanes;x=(1<<31-Oe(42|e)+1)-1,x&=u&~(j&~A),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Zf(l,x))}else x=Ye,x=we(l,l===ot?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||Fe(l,x)||(n=!0,Zf(l,x));l=l.next}while(n);qu=!1}}function L2(){Yf()}function Yf(){o0=ku=!1;var e=0;Pl!==0&&U2()&&(e=Pl);for(var t=Qe(),n=null,l=x0;l!==null;){var u=l.next,x=Uf(l,t);x===0?(l.next=null,n===null?x0=u:n.next=u,u===null&&(ti=n)):(n=l,(e!==0||(x&3)!==0)&&(o0=!0)),l=u}At!==0&&At!==5||Xi(e),Pl!==0&&(Pl=0)}function Uf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var j=31-Oe(x),A=1<<j,J=u[j];J===-1?((A&n)===0||(A&l)!==0)&&(u[j]=$e(A,t)):J<=t&&(e.expiredLanes|=A),x&=~A}if(t=ot,n=Ye,n=we(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Pt(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Fe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Pt(l),gt(n)){case 2:case 8:n=cl;break;case 32:n=ul;break;case 268435456:n=ra;break;default:n=ul}return l=Kf.bind(null,e),n=Et(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Pt(l),e.callbackPriority=2,e.callbackNode=null,2}function Kf(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(s0()&&e.callbackNode!==n)return null;var l=Ye;return l=we(e,e===ot?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(jf(e,l,t),Uf(e,Qe()),e.callbackNode!=null&&e.callbackNode===n?Kf.bind(null,e):null)}function Zf(e,t){if(s0())return null;jf(e,t,!0)}function T2(){Z2(function(){(tt&6)!==0?Et(Dl,L2):Yf()})}function Bu(){if(Pl===0){var e=Ha;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),Pl=e}return Pl}function Xf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pr(""+e)}function Jf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function k2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var x=Xf((u[Le]||null).action),j=l.submitter;j&&(t=(t=j[Le]||null)?Xf(t.formAction):j.getAttribute("formAction"),t!==null&&(x=t,j=null));var A=new wr("action","action",null,l,u);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pl!==0){var J=j?Jf(u,j):new FormData(u);nu(n,{pending:!0,data:J,method:u.method,action:x},null,J)}}else typeof x=="function"&&(A.preventDefault(),J=j?Jf(u,j):new FormData(u),nu(n,{pending:!0,data:J,method:u.method,action:x},x,J))},currentTarget:u}]})}}for(var Iu=0;Iu<pc.length;Iu++){var Gu=pc[Iu],q2=Gu.toLowerCase(),B2=Gu[0].toUpperCase()+Gu.slice(1);Hn(q2,"on"+B2)}Hn(Sx,"onAnimationEnd"),Hn(wx,"onAnimationIteration"),Hn(Cx,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(F1,"onTransitionRun"),Hn($1,"onTransitionStart"),Hn(e2,"onTransitionCancel"),Hn(jx,"onTransitionEnd"),Tl("onMouseEnter",["mouseout","mouseover"]),Tl("onMouseLeave",["mouseout","mouseover"]),Tl("onPointerEnter",["pointerout","pointerover"]),Tl("onPointerLeave",["pointerout","pointerover"]),Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ji));function Vf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var j=l.length-1;0<=j;j--){var A=l[j],J=A.instance,ne=A.currentTarget;if(A=A.listener,J!==x&&u.isPropagationStopped())break e;x=A,u.currentTarget=ne;try{x(u)}catch(ce){Mr(ce)}u.currentTarget=null,x=J}else for(j=0;j<l.length;j++){if(A=l[j],J=A.instance,ne=A.currentTarget,A=A.listener,J!==x&&u.isPropagationStopped())break e;x=A,u.currentTarget=ne;try{x(u)}catch(ce){Mr(ce)}u.currentTarget=null,x=J}}}}function Re(e,t){var n=t[di];n===void 0&&(n=t[di]=new Set);var l=e+"__bubble";n.has(l)||(Wf(t,e,2,!1),n.add(l))}function Ru(e,t,n){var l=0;t&&(l|=4),Wf(n,e,l,t)}var f0="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[f0]){e[f0]=!0,Gt.forEach(function(n){n!=="selectionchange"&&(I2.has(n)||Ru(n,!1,e),Ru(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[f0]||(t[f0]=!0,Ru("selectionchange",!1,t))}}function Wf(e,t,n,l){switch(Cd(t)){case 2:var u=oh;break;case 8:u=fh;break;default:u=ts}n=u.bind(null,t,n,e),u=void 0,!rc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Ou(e,t,n,l,u){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var j=l.tag;if(j===3||j===4){var A=l.stateNode.containerInfo;if(A===u)break;if(j===4)for(j=l.return;j!==null;){var J=j.tag;if((J===3||J===4)&&j.stateNode.containerInfo===u)return;j=j.return}for(;A!==null;){if(j=El(A),j===null)return;if(J=j.tag,J===5||J===6||J===26||J===27){l=x=j;continue e}A=A.parentNode}}l=l.return}Fs(function(){var ne=x,ce=ac(n),se=[];e:{var ae=Mx.get(e);if(ae!==void 0){var ie=wr,be=e;switch(e){case"keypress":if(_r(n)===0)break e;case"keydown":case"keyup":ie=A1;break;case"focusin":be="focus",ie=xc;break;case"focusout":be="blur",ie=xc;break;case"beforeblur":case"afterblur":ie=xc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=v1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=T1;break;case Sx:case wx:case Cx:ie=_1;break;case jx:ie=q1;break;case"scroll":case"scrollend":ie=b1;break;case"wheel":ie=I1;break;case"copy":case"cut":case"paste":ie=w1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=lx;break;case"toggle":case"beforetoggle":ie=R1}var je=(t&4)!==0,st=!je&&(e==="scroll"||e==="scrollend"),$=je?ae!==null?ae+"Capture":null:ae;je=[];for(var Q=ne,te;Q!==null;){var ue=Q;if(te=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||te===null||$===null||(ue=mi(Q,$),ue!=null&&je.push(Vi(Q,ue,te))),st)break;Q=Q.return}0<je.length&&(ae=new ie(ae,be,null,n,ce),se.push({event:ae,listeners:je}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",ae&&n!==lc&&(be=n.relatedTarget||n.fromElement)&&(El(be)||be[sl]))break e;if((ie||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,ie?(be=n.relatedTarget||n.toElement,ie=ne,be=be?El(be):null,be!==null&&(st=o(be),je=be.tag,be!==st||je!==5&&je!==27&&je!==6)&&(be=null)):(ie=null,be=ne),ie!==be)){if(je=tx,ue="onMouseLeave",$="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(je=lx,ue="onPointerLeave",$="onPointerEnter",Q="pointer"),st=ie==null?ae:me(ie),te=be==null?ae:me(be),ae=new je(ue,Q+"leave",ie,n,ce),ae.target=st,ae.relatedTarget=te,ue=null,El(ce)===ne&&(je=new je($,Q+"enter",be,n,ce),je.target=te,je.relatedTarget=st,ue=je),st=ue,ie&&be)t:{for(je=G2,$=ie,Q=be,te=0,ue=$;ue;ue=je(ue))te++;ue=0;for(var Ce=Q;Ce;Ce=je(Ce))ue++;for(;0<te-ue;)$=je($),te--;for(;0<ue-te;)Q=je(Q),ue--;for(;te--;){if($===Q||Q!==null&&$===Q.alternate){je=$;break t}$=je($),Q=je(Q)}je=null}else je=null;ie!==null&&Pf(se,ae,ie,je,!1),be!==null&&st!==null&&Pf(se,st,be,je,!0)}}e:{if(ae=ne?me(ne):window,ie=ae.nodeName&&ae.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ae.type==="file")var Ve=ox;else if(sx(ae))if(fx)Ve=W1;else{Ve=J1;var ve=X1}else ie=ae.nodeName,!ie||ie.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&nc(ne.elementType)&&(Ve=ox):Ve=V1;if(Ve&&(Ve=Ve(e,ne))){xx(se,Ve,n,ce);break e}ve&&ve(e,ae,ne),e==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&tc(ae,"number",ae.value)}switch(ve=ne?me(ne):window,e){case"focusin":(sx(ve)||ve.contentEditable==="true")&&(La=ve,bc=ne,wi=null);break;case"focusout":wi=bc=La=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,yx(se,n,ce);break;case"selectionchange":if(Q1)break;case"keydown":case"keyup":yx(se,n,ce)}var ke;if(fc)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ea?cx(e,n)&&(Ue="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ue="onCompositionStart");Ue&&(ax&&n.locale!=="ko"&&(Ea||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ea&&(ke=$s()):(kl=ce,cc="value"in kl?kl.value:kl.textContent,Ea=!0)),ve=d0(ne,Ue),0<ve.length&&(Ue=new nx(Ue,e,null,n,ce),se.push({event:Ue,listeners:ve}),ke?Ue.data=ke:(ke=ux(n),ke!==null&&(Ue.data=ke)))),(ke=O1?Y1(e,n):U1(e,n))&&(Ue=d0(ne,"onBeforeInput"),0<Ue.length&&(ve=new nx("onBeforeInput","beforeinput",null,n,ce),se.push({event:ve,listeners:Ue}),ve.data=ke)),k2(se,e,ne,n,ce)}Vf(se,t)})}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function d0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,x=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||x===null||(u=mi(e,n),u!=null&&l.unshift(Vi(e,u,x)),u=mi(e,t),u!=null&&l.push(Vi(e,u,x))),e.tag===3)return l;e=e.return}return[]}function G2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pf(e,t,n,l,u){for(var x=t._reactName,j=[];n!==null&&n!==l;){var A=n,J=A.alternate,ne=A.stateNode;if(A=A.tag,J!==null&&J===l)break;A!==5&&A!==26&&A!==27||ne===null||(J=ne,u?(ne=mi(n,x),ne!=null&&j.unshift(Vi(n,ne,J))):u||(ne=mi(n,x),ne!=null&&j.push(Vi(n,ne,J)))),n=n.return}j.length!==0&&e.push({event:t,listeners:j})}var R2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(R2,`
`).replace(H2,"")}function Ff(e,t){return t=Qf(t),Qf(e)===t}function ut(e,t,n,l,u,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Na(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Na(e,""+l);break;case"className":gr(e,"class",l);break;case"tabIndex":gr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(e,n,l);break;case"style":Ps(e,l,x);break;case"data":if(t!=="object"){gr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=pr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&ut(e,t,"name",u.name,u,null),ut(e,t,"formEncType",u.formEncType,u,null),ut(e,t,"formMethod",u.formMethod,u,null),ut(e,t,"formTarget",u.formTarget,u,null)):(ut(e,t,"encType",u.encType,u,null),ut(e,t,"method",u.method,u,null),ut(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=pr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=ol);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=pr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),br(e,"popover",l);break;case"xlinkActuate":xl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":br(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=h1.get(n)||n,br(e,n,l))}}function Yu(e,t,n,l,u,x){switch(n){case"style":Ps(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Na(e,l):(typeof l=="number"||typeof l=="bigint")&&Na(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wt.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),x=e[Le]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,u),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):br(e,n,l)}}}function Yt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,u=!1,x;for(x in n)if(n.hasOwnProperty(x)){var j=n[x];if(j!=null)switch(x){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ut(e,t,x,j,n,null)}}u&&ut(e,t,"srcSet",n.srcSet,n,null),l&&ut(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var A=x=j=u=null,J=null,ne=null;for(l in n)if(n.hasOwnProperty(l)){var ce=n[l];if(ce!=null)switch(l){case"name":u=ce;break;case"type":j=ce;break;case"checked":J=ce;break;case"defaultChecked":ne=ce;break;case"value":x=ce;break;case"defaultValue":A=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,t));break;default:ut(e,t,l,ce,n,null)}}Xs(e,x,A,J,ne,j,u,!1);return;case"select":Re("invalid",e),l=j=x=null;for(u in n)if(n.hasOwnProperty(u)&&(A=n[u],A!=null))switch(u){case"value":x=A;break;case"defaultValue":j=A;break;case"multiple":l=A;default:ut(e,t,u,A,n,null)}t=x,n=j,e.multiple=!!l,t!=null?za(e,!!l,t,!1):n!=null&&za(e,!!l,n,!0);return;case"textarea":Re("invalid",e),x=u=l=null;for(j in n)if(n.hasOwnProperty(j)&&(A=n[j],A!=null))switch(j){case"value":l=A;break;case"defaultValue":u=A;break;case"children":x=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:ut(e,t,j,A,n,null)}Vs(e,l,u,x);return;case"option":for(J in n)n.hasOwnProperty(J)&&(l=n[J],l!=null)&&(J==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(e,t,J,l,n,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<Ji.length;l++)Re(Ji[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in n)if(n.hasOwnProperty(ne)&&(l=n[ne],l!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ut(e,t,ne,l,n,null)}return;default:if(nc(t)){for(ce in n)n.hasOwnProperty(ce)&&(l=n[ce],l!==void 0&&Yu(e,t,ce,l,n,void 0));return}}for(A in n)n.hasOwnProperty(A)&&(l=n[A],l!=null&&ut(e,t,A,l,n,null))}function O2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,x=null,j=null,A=null,J=null,ne=null,ce=null;for(ie in n){var se=n[ie];if(n.hasOwnProperty(ie)&&se!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":J=se;default:l.hasOwnProperty(ie)||ut(e,t,ie,null,l,se)}}for(var ae in l){var ie=l[ae];if(se=n[ae],l.hasOwnProperty(ae)&&(ie!=null||se!=null))switch(ae){case"type":x=ie;break;case"name":u=ie;break;case"checked":ne=ie;break;case"defaultChecked":ce=ie;break;case"value":j=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,t));break;default:ie!==se&&ut(e,t,ae,ie,l,se)}}ec(e,j,A,J,ne,ce,x,u);return;case"select":ie=j=A=ae=null;for(x in n)if(J=n[x],n.hasOwnProperty(x)&&J!=null)switch(x){case"value":break;case"multiple":ie=J;default:l.hasOwnProperty(x)||ut(e,t,x,null,l,J)}for(u in l)if(x=l[u],J=n[u],l.hasOwnProperty(u)&&(x!=null||J!=null))switch(u){case"value":ae=x;break;case"defaultValue":A=x;break;case"multiple":j=x;default:x!==J&&ut(e,t,u,x,l,J)}t=A,n=j,l=ie,ae!=null?za(e,!!n,ae,!1):!!l!=!!n&&(t!=null?za(e,!!n,t,!0):za(e,!!n,n?[]:"",!1));return;case"textarea":ie=ae=null;for(A in n)if(u=n[A],n.hasOwnProperty(A)&&u!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ut(e,t,A,null,l,u)}for(j in l)if(u=l[j],x=n[j],l.hasOwnProperty(j)&&(u!=null||x!=null))switch(j){case"value":ae=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==x&&ut(e,t,j,u,l,x)}Js(e,ae,ie);return;case"option":for(var be in n)ae=n[be],n.hasOwnProperty(be)&&ae!=null&&!l.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:ut(e,t,be,null,l,ae));for(J in l)ae=l[J],ie=n[J],l.hasOwnProperty(J)&&ae!==ie&&(ae!=null||ie!=null)&&(J==="selected"?e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":ut(e,t,J,ae,l,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in n)ae=n[je],n.hasOwnProperty(je)&&ae!=null&&!l.hasOwnProperty(je)&&ut(e,t,je,null,l,ae);for(ne in l)if(ae=l[ne],ie=n[ne],l.hasOwnProperty(ne)&&ae!==ie&&(ae!=null||ie!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,t));break;default:ut(e,t,ne,ae,l,ie)}return;default:if(nc(t)){for(var st in n)ae=n[st],n.hasOwnProperty(st)&&ae!==void 0&&!l.hasOwnProperty(st)&&Yu(e,t,st,void 0,l,ae);for(ce in l)ae=l[ce],ie=n[ce],!l.hasOwnProperty(ce)||ae===ie||ae===void 0&&ie===void 0||Yu(e,t,ce,ae,l,ie);return}}for(var $ in n)ae=n[$],n.hasOwnProperty($)&&ae!=null&&!l.hasOwnProperty($)&&ut(e,t,$,null,l,ae);for(se in l)ae=l[se],ie=n[se],!l.hasOwnProperty(se)||ae===ie||ae==null&&ie==null||ut(e,t,se,ae,l,ie)}function $f(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],x=u.transferSize,j=u.initiatorType,A=u.duration;if(x&&A&&$f(j)){for(j=0,A=u.responseEnd,l+=1;l<n.length;l++){var J=n[l],ne=J.startTime;if(ne>A)break;var ce=J.transferSize,se=J.initiatorType;ce&&$f(se)&&(J=J.responseEnd,j+=ce*(J<A?1:(A-ne)/(J-ne)))}if(--l,t+=8*(x+j)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uu=null,Ku=null;function h0(e){return e.nodeType===9?e:e.ownerDocument}function ed(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function td(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xu=null;function U2(){var e=window.event;return e&&e.type==="popstate"?e===Xu?!1:(Xu=e,!0):(Xu=null,!1)}var nd=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,Z2=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(X2)}:nd;function X2(e){setTimeout(function(){throw e})}function Ql(e){return e==="head"}function ad(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ii(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Wi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Wi(n);for(var x=n.firstChild;x;){var j=x.nextSibling,A=x.nodeName;x[ua]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=j}}else n==="body"&&Wi(e.ownerDocument.body);n=u}while(n);ii(t)}function id(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Ju(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ju(n),hi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function J2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ua])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=En(e.nextSibling),e===null)break}return null}function V2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=En(e.nextSibling),e===null))return null;return e}function rd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=En(e.nextSibling),e===null))return null;return e}function Vu(e){return e.data==="$?"||e.data==="$~"}function Wu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function W2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pu=null;function cd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return En(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ud(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function sd(e,t,n){switch(t=h0(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Wi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hi(e)}var Ln=new Map,xd=new Set;function m0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zl=L.d;L.d={f:P2,r:Q2,D:F2,C:$2,L:eh,m:th,X:lh,S:nh,M:ah};function P2(){var e=zl.f(),t=r0();return e||t}function Q2(e){var t=Ll(e);t!==null&&t.tag===5&&t.type==="form"?Mo(t):zl.r(e)}var ni=typeof document>"u"?null:document;function od(e,t,n){var l=ni;if(l&&typeof t=="string"&&t){var u=Cn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),xd.has(u)||(xd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Yt(t,"link",e),ze(t),l.head.appendChild(t)))}}function F2(e){zl.D(e),od("dns-prefetch",e,null)}function $2(e,t){zl.C(e,t),od("preconnect",e,t)}function eh(e,t,n){zl.L(e,t,n);var l=ni;if(l&&e&&t){var u='link[rel="preload"][as="'+Cn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Cn(n.imageSizes)+'"]')):u+='[href="'+Cn(e)+'"]';var x=u;switch(t){case"style":x=li(e);break;case"script":x=ai(e)}Ln.has(x)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ln.set(x,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Pi(x))||t==="script"&&l.querySelector(Qi(x))||(t=l.createElement("link"),Yt(t,"link",e),ze(t),l.head.appendChild(t)))}}function th(e,t){zl.m(e,t);var n=ni;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(e)+'"]',x=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ai(e)}if(!Ln.has(x)&&(e=S({rel:"modulepreload",href:e},t),Ln.set(x,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qi(x)))return}l=n.createElement("link"),Yt(l,"link",e),ze(l),n.head.appendChild(l)}}}function nh(e,t,n){zl.S(e,t,n);var l=ni;if(l&&e){var u=ye(l).hoistableStyles,x=li(e);t=t||"default";var j=u.get(x);if(!j){var A={loading:0,preload:null};if(j=l.querySelector(Pi(x)))A.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ln.get(x))&&Qu(e,n);var J=j=l.createElement("link");ze(J),Yt(J,"link",e),J._p=new Promise(function(ne,ce){J.onload=ne,J.onerror=ce}),J.addEventListener("load",function(){A.loading|=1}),J.addEventListener("error",function(){A.loading|=2}),A.loading|=4,b0(j,t,l)}j={type:"stylesheet",instance:j,count:1,state:A},u.set(x,j)}}}function lh(e,t){zl.X(e,t);var n=ni;if(n&&e){var l=ye(n).hoistableScripts,u=ai(e),x=l.get(u);x||(x=n.querySelector(Qi(u)),x||(e=S({src:e,async:!0},t),(t=Ln.get(u))&&Fu(e,t),x=n.createElement("script"),ze(x),Yt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function ah(e,t){zl.M(e,t);var n=ni;if(n&&e){var l=ye(n).hoistableScripts,u=ai(e),x=l.get(u);x||(x=n.querySelector(Qi(u)),x||(e=S({src:e,async:!0,type:"module"},t),(t=Ln.get(u))&&Fu(e,t),x=n.createElement("script"),ze(x),Yt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function fd(e,t,n,l){var u=(u=le.current)?m0(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=li(n.href),n=ye(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=li(n.href);var x=ye(u).hoistableStyles,j=x.get(e);if(j||(u=u.ownerDocument||u,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,j),(x=u.querySelector(Pi(e)))&&!x._p&&(j.instance=x,j.state.loading=5),Ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(e,n),x||ih(u,e,n,j.state))),t&&l===null)throw Error(r(528,""));return j}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ai(n),n=ye(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function li(e){return'href="'+Cn(e)+'"'}function Pi(e){return'link[rel="stylesheet"]['+e+"]"}function dd(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ih(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Yt(t,"link",n),ze(t),e.head.appendChild(t))}function ai(e){return'[src="'+Cn(e)+'"]'}function Qi(e){return"script[async]"+e}function hd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(l)return t.instance=l,ze(l),l;var u=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ze(l),Yt(l,"style",u),b0(l,n.precedence,e),t.instance=l;case"stylesheet":u=li(n.href);var x=e.querySelector(Pi(u));if(x)return t.state.loading|=4,t.instance=x,ze(x),x;l=dd(n),(u=Ln.get(u))&&Qu(l,u),x=(e.ownerDocument||e).createElement("link"),ze(x);var j=x;return j._p=new Promise(function(A,J){j.onload=A,j.onerror=J}),Yt(x,"link",l),t.state.loading|=4,b0(x,n.precedence,e),t.instance=x;case"script":return x=ai(n.src),(u=e.querySelector(Qi(x)))?(t.instance=u,ze(u),u):(l=n,(u=Ln.get(x))&&(l=S({},n),Fu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),ze(u),Yt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,b0(l,n.precedence,e));return t.instance}function b0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,x=u,j=0;j<l.length;j++){var A=l[j];if(A.dataset.precedence===t)x=A;else if(x!==u)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var g0=null;function md(e,t,n){if(g0===null){var l=new Map,u=g0=new Map;u.set(n,l)}else u=g0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var x=n[u];if(!(x[ua]||x[vt]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var j=x.getAttribute(t)||"";j=e+j;var A=l.get(j);A?A.push(x):l.set(j,[x])}}return l}function bd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function rh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ch(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=li(l.href),x=t.querySelector(Pi(u));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=v0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,ze(x);return}x=t.ownerDocument||t,l=dd(l),(u=Ln.get(u))&&Qu(l,u),x=x.createElement("link"),ze(x);var j=x;j._p=new Promise(function(A,J){j.onload=A,j.onerror=J}),Yt(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=v0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var $u=0;function uh(e,t){return e.stylesheets&&e.count===0&&y0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&y0(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&$u===0&&($u=62500*Y2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&y0(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>$u?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function v0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)y0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var p0=null;function y0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,p0=new Map,t.forEach(sh,e),p0=null,v0.call(e))}function sh(e,t){if(!(t.state.loading&4)){var n=p0.get(e);if(n)var l=n.get(null);else{n=new Map,p0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<u.length;x++){var j=u[x];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(n.set(j.dataset.precedence,j),l=j)}l&&n.set(null,l)}u=t.instance,j=u.getAttribute("data-precedence"),x=n.get(j)||l,x===l&&n.set(null,u),n.set(j,u),this.count++,l=v0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),x?x.parentNode.insertBefore(u,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Fi={$$typeof:B,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function xh(e,t,n,l,u,x,j,A,J){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Je(0),this.hiddenUpdates=Je(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=x,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function vd(e,t,n,l,u,x,j,A,J,ne,ce,se){return e=new xh(e,t,n,j,J,ne,ce,se,A),t=1,x===!0&&(t|=24),x=xn(3,null,null,t),e.current=x,x.stateNode=e,t=Lc(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},Bc(x),e}function pd(e){return e?(e=qa,e):qa}function yd(e,t,n,l,u,x){u=pd(u),l.context===null?l.context=u:l.pendingContext=u,l=Hl(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=Ol(e,l,t),n!==null&&(nn(n,e,t),Ai(n,e,t))}function _d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function es(e,t){_d(e,t),(e=e.alternate)&&_d(e,t)}function Sd(e){if(e.tag===13||e.tag===31){var t=fa(e,67108864);t!==null&&nn(t,e,67108864),es(e,67108864)}}function wd(e){if(e.tag===13||e.tag===31){var t=mn();t=lt(t);var n=fa(e,t);n!==null&&nn(n,e,t),es(e,t)}}var _0=!0;function oh(e,t,n,l){var u=y.T;y.T=null;var x=L.p;try{L.p=2,ts(e,t,n,l)}finally{L.p=x,y.T=u}}function fh(e,t,n,l){var u=y.T;y.T=null;var x=L.p;try{L.p=8,ts(e,t,n,l)}finally{L.p=x,y.T=u}}function ts(e,t,n,l){if(_0){var u=ns(l);if(u===null)Ou(e,t,l,S0,n),jd(e,l);else if(hh(u,e,t,n,l))l.stopPropagation();else if(jd(e,l),t&4&&-1<dh.indexOf(e)){for(;u!==null;){var x=Ll(u);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var j=Ne(x.pendingLanes);if(j!==0){var A=x;for(A.pendingLanes|=2,A.entangledLanes|=2;j;){var J=1<<31-Oe(j);A.entanglements[1]|=J,j&=~J}tl(x),(tt&6)===0&&(a0=Qe()+500,Xi(0))}}break;case 31:case 13:A=fa(x,2),A!==null&&nn(A,x,2),r0(),es(x,2)}if(x=ns(l),x===null&&Ou(e,t,l,S0,n),x===u)break;u=x}u!==null&&l.stopPropagation()}else Ou(e,t,l,null,n)}}function ns(e){return e=ac(e),ls(e)}var S0=null;function ls(e){if(S0=null,e=El(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=v(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return S0=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case Dl:return 2;case cl:return 8;case ul:case Al:return 32;case ra:return 268435456;default:return 32}default:return 32}}var as=!1,Fl=null,$l=null,ea=null,$i=new Map,er=new Map,ta=[],dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jd(e,t){switch(e){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":$l=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":$i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(t.pointerId)}}function tr(e,t,n,l,u,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[u]},t!==null&&(t=Ll(t),t!==null&&Sd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function hh(e,t,n,l,u){switch(t){case"focusin":return Fl=tr(Fl,e,t,n,l,u),!0;case"dragenter":return $l=tr($l,e,t,n,l,u),!0;case"mouseover":return ea=tr(ea,e,t,n,l,u),!0;case"pointerover":var x=u.pointerId;return $i.set(x,tr($i.get(x)||null,e,t,n,l,u)),!0;case"gotpointercapture":return x=u.pointerId,er.set(x,tr(er.get(x)||null,e,t,n,l,u)),!0}return!1}function Md(e){var t=El(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,ca(e.priority,function(){wd(n)});return}}else if(t===31){if(t=v(n),t!==null){e.blockedOn=t,ca(e.priority,function(){wd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function w0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ns(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);lc=l,n.target.dispatchEvent(l),lc=null}else return t=Ll(n),t!==null&&Sd(t),e.blockedOn=n,!1;t.shift()}return!0}function zd(e,t,n){w0(e)&&n.delete(t)}function mh(){as=!1,Fl!==null&&w0(Fl)&&(Fl=null),$l!==null&&w0($l)&&($l=null),ea!==null&&w0(ea)&&(ea=null),$i.forEach(zd),er.forEach(zd)}function C0(e,t){e.blockedOn===t&&(e.blockedOn=null,as||(as=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,mh)))}var j0=null;function Nd(e){j0!==e&&(j0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){j0===e&&(j0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(ls(l||n)===null)continue;break}var x=Ll(n);x!==null&&(e.splice(t,3),t-=3,nu(x,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ii(e){function t(J){return C0(J,e)}Fl!==null&&C0(Fl,e),$l!==null&&C0($l,e),ea!==null&&C0(ea,e),$i.forEach(t),er.forEach(t);for(var n=0;n<ta.length;n++){var l=ta[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ta.length&&(n=ta[0],n.blockedOn===null);)Md(n),n.blockedOn===null&&ta.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],x=n[l+1],j=u[Le]||null;if(typeof x=="function")j||Nd(n);else if(j){var A=null;if(x&&x.hasAttribute("formAction")){if(u=x,j=x[Le]||null)A=j.formAction;else if(ls(u)!==null)continue}else A=j.action;typeof A=="function"?n[l+1]=A:(n.splice(l,3),l-=3),Nd(n)}}}function Dd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(j){return u=j})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function is(e){this._internalRoot=e}M0.prototype.render=is.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=mn();yd(n,l,e,t,null,null)},M0.prototype.unmount=is.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yd(e.current,2,null,e,null,null),r0(),t[sl]=null}};function M0(e){this._internalRoot=e}M0.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ta.length&&t!==0&&t<ta[n].priority;n++);ta.splice(n,0,e),n===0&&Md(e)}};var Ad=i.version;if(Ad!=="19.2.3")throw Error(r(527,Ad,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var bh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z0.isDisabled&&z0.supportsFiber)try{Gn=z0.inject(bh),Bt=z0}catch{}}return lr.createRoot=function(e,t){if(!f(e))throw Error(r(299));var n=!1,l="",u=Bo,x=Io,j=Go;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(j=t.onRecoverableError)),t=vd(e,1,!1,null,null,n,l,null,u,x,j,Dd),e[sl]=t.current,Hu(e),new is(t)},lr.hydrateRoot=function(e,t,n){if(!f(e))throw Error(r(299));var l=!1,u="",x=Bo,j=Io,A=Go,J=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(j=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.formState!==void 0&&(J=n.formState)),t=vd(e,1,!0,t,n??null,l,u,J,x,j,A,Dd),t.context=pd(null),n=t.current,l=mn(),l=lt(l),u=Hl(l),u.callback=null,Ol(n,u,l),n=l,t.current.lanes=n,Ee(t,n),tl(t),e[sl]=t.current,Hu(e),new M0(t)},lr.version="19.2.3",lr}var Hd;function Mh(){if(Hd)return us.exports;Hd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),us.exports=jh(),us.exports}var zh=Mh();const Xn=Tn;(function(c,i){const a=Tn,r=c();for(;;)try{if(parseInt(a(425))/1+-parseInt(a(417))/2*(parseInt(a(408))/3)+-parseInt(a(407))/4*(parseInt(a(409))/5)+-parseInt(a(426))/6*(-parseInt(a(433))/7)+parseInt(a(411))/8+parseInt(a(423))/9*(parseInt(a(419))/10)+parseInt(a(436))/11*(-parseInt(a(412))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(E0,981569);const Nh=(function(){let c=!0;return function(i,a){const r=c?function(){const f=Tn;if(a){const o=a[f(434)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),hs=Nh(void 0,function(){const c=Tn,i={DyUUE:c(414)};return hs[c(413)]().search(i[c(420)])[c(413)]().constructor(hs).search(c(414))});hs();const A0=()=>new Date().toISOString(),kt=c=>c+"_"+Math.random()[Xn(413)](36)[Xn(432)](2,10);function E0(){const c=["Bwf4","BwLU","CgfYC2u","BgvHzKLKCW","zMXVD2vYswrZ","C2XPy2u","n0DIBuDJwq","yxbWBhK","zMXVB3i","mtfUthvAr1q","Aw5JBhvKzxm","ntq4zLD5s3z0","mtHeueXUAey","mte2ntbTAMTpD1u","CMvKDwnL","mtuZotaXotjpz3PMsxG","mZGXnJu2ngnJAhfxDa","Dg9tDhjPBMC","kcGOlISPkYKRksSK","zMXVD2vYCW","AKzUzuS","nJuXnZa0DNnkshPU","zMLUza","nJy2oty5mhjnvffswq","rhLvvuu","BgvUz3rO","ChvZAa","mtHfsNvQueC","z3jVDxbZ","ody2odbtEhbrChy","mtm3nZi3nM5OA1b3Cq"];return E0=function(){return c},E0()}const pe=(c,i,a)=>Math[Xn(427)](i,Math[Xn(428)](a,c)),la=c=>{const i=Xn;return c==null?c:JSON[i(429)](JSON.stringify(c))};function Tn(c,i){c=c-407;const a=E0();let r=a[c];if(Tn.drohkK===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Tn.UlnTNH=f,Tn.cCYYZG={},Tn.drohkK=!0}const o=a[0],h=c+o,v=Tn.cCYYZG[h];if(v)r=v;else{const d=function(m){this.WRWLXT=m,this.pgWAFZ=[1,0,0],this.WgqwBx=function(){return"newState"},this.wfttzH="\\w+ *\\(\\) *{\\w+ *",this.CzFRTa=`['|"].+['|"];? *}`};d.prototype.hCBdkt=function(){const m=new RegExp(this.wfttzH+this.CzFRTa),_=m.test(this.WgqwBx.toString())?--this.pgWAFZ[1]:--this.pgWAFZ[0];return this.tiDwYm(_)},d.prototype.tiDwYm=function(m){return~m?this.bbvJbl(this.WRWLXT):m},d.prototype.bbvJbl=function(m){for(let _=0,S=this.pgWAFZ.length;_<S;_++)this.pgWAFZ.push(Math.round(Math.random())),S=this.pgWAFZ.length;return m(this.pgWAFZ[0])},new d(Tn).hCBdkt(),r=Tn.UlnTNH(r),Tn.cCYYZG[h]=r}return r}const ir=c=>Math[Xn(435)](c*.7/5)*5;function al(c,i){const a=Xn;return c.groups?c[a(424)].find(r=>r[a(431)][a(437)](i))??null:null}function Dh(c,i){const a=Xn,r={uSrFm:function(o,h,v){return o(h,v)}},f=r.uSrFm(al,c,i);return f?f[a(431)]:[i]}function Nl(c,i){const a=Xn;return c.groups?c[a(424)][a(418)](r=>r[a(430)][a(437)](i))??null:null}function Ah(c,i){const a=Xn,r={VqZyj:function(d,m){return d===m},jFneK:function(d,m){return d/m}},f=(c.groups??[]).find(d=>d.id===i);if(!f)return{x:0,y:0};const o=[];for(const d of f.flowerIds){const m=c[a(415)].find(_=>_.id===d);m&&o[a(422)](m.position)}for(const d of f[a(430)]){const m=(c.leaves??[]).find(_=>_.id===d);m&&o.push(m.position)}if(r.VqZyj(o.length,0))return{x:0,y:0};const h=o[a(410)]((d,m)=>d+m.x,0),v=o[a(410)]((d,m)=>d+m.y,0);return{x:h/o[a(421)],y:r[a(416)](v,o[a(421)])}}function Od(c,i){const a=Xn,r=Nl(c,i);return r?r[a(430)]:[i]}function bn(c,i){c=c-103;const a=L0();let r=a[c];if(bn.lHdGyG===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};bn.UMIeWL=f,bn.oucsaV={},bn.lHdGyG=!0}const o=a[0],h=c+o,v=bn.oucsaV[h];if(v)r=v;else{const d=function(m){this.mapuLa=m,this.zYpgAp=[1,0,0],this.PqnuvH=function(){return"newState"},this.HxwPpt="\\w+ *\\(\\) *{\\w+ *",this.xPnELc=`['|"].+['|"];? *}`};d.prototype.PzDhPJ=function(){const m=new RegExp(this.HxwPpt+this.xPnELc),_=m.test(this.PqnuvH.toString())?--this.zYpgAp[1]:--this.zYpgAp[0];return this.NFBhBa(_)},d.prototype.NFBhBa=function(m){return~m?this.VXYNjX(this.mapuLa):m},d.prototype.VXYNjX=function(m){for(let _=0,S=this.zYpgAp.length;_<S;_++)this.zYpgAp.push(Math.round(Math.random())),S=this.zYpgAp.length;return m(this.zYpgAp[0])},new d(bn).PzDhPJ(),r=bn.UMIeWL(r),bn.oucsaV[h]=r}return r}const ur=bn;(function(c,i){const a=bn,r=c();for(;;)try{if(parseInt(a(113))/1+parseInt(a(128))/2*(parseInt(a(124))/3)+-parseInt(a(138))/4+parseInt(a(133))/5*(-parseInt(a(105))/6)+-parseInt(a(141))/7*(-parseInt(a(123))/8)+-parseInt(a(106))/9*(parseInt(a(115))/10)+parseInt(a(131))/11*(parseInt(a(140))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(L0,841583);const Eh=(function(){const c=bn,i={BHujz:c(143),WqwBi:c(126)};let a=!0;return function(r,f){const o=c,h={eJLmA:o(134),HkDzw:i[o(120)],fyEpb:i[o(139)]},v=a?function(){const d=o;if(h.HkDzw===h.fyEpb)return _0x686bef[d(104)]().search(h[d(150)]).toString()[d(130)](_0xdb3124).search(h[d(150)]);if(f){const m=f.apply(r,arguments);return f=null,m}}:function(){};return a=!1,v}})(),ms=Eh(void 0,function(){const c=bn,i={CNhhZ:c(134)};return ms.toString().search(i.CNhhZ)[c(104)]().constructor(ms)[c(125)](i.CNhhZ)});ms();const xi=2/3,Yd=.6,Lh=.25,Th=.75;function ia(c,i,a){const r=bn,f={abZrb:function(B,q){return B/q},DJJfU:function(B,q){return B<=q},jmeNi:r(142),eWTiD:function(B,q){return B*q},xaGaQ:function(B,q){return B+q},VJxnG:function(B,q){return B-q},srjEI:function(B,q){return B/q},fQRCB:function(B,q){return B+q},LJfri:function(B,q){return B*q},GfBTK:function(B,q){return B===q},uVlGG:function(B,q){return B/q},rTprr:function(B,q){return B*q},zVwXo:function(B,q){return B+q},jjlhk:function(B,q){return B*q},aUpax:function(B,q){return B*q}},o=c/2,h=f.abZrb(i*Math[r(114)],2);if(f.DJJfU(h,0)||o<=0)return{diameter:c,layerCount:1};const v=a?.sizeMode??f[r(117)],d=a?.sizeStepMm??0,m=f[r(122)](h,1-xi),_=Math.PI*o/2,S=a?.layerCount??Math.max(1,Math.round(_/m)),p=v===r(109)?f[r(107)](i,f[r(111)](S,1)*d):i,C=f.srjEI(p*Math[r(114)],2),z=f.fQRCB(f[r(127)](h,Lh),C*Th);if(f[r(103)](S,1)){const B=Math.min(f[r(149)](Math.PI,2),C*xi/o),q=f[r(110)](o,Math.sin(B)),Y=C*Yd*Math[r(108)](B);return{diameter:Math[r(146)](Math.max(c,2*(q+Y))),layerCount:S}}let g=f.srjEI(f[r(127)](h,xi),o);for(let B=1;B<S;B++){const q=f[r(103)](v,"gradual")?f.zVwXo(i,f.jjlhk(B,d)):i,Y=q*Math[r(114)]/2;g+=f.abZrb(f[r(110)](Y,1-xi),o)}g=Math.min(g,Math.PI/2);const b=f[r(151)](o+f.eWTiD(z,Yd),Math[r(108)](g)),D=Math.max(0,b-o);return{diameter:Math[r(146)](c+2*D),layerCount:S}}function L0(){const c=["mta2oduXourQzev3wq","C2vHCMnO","AePJqxy","tePMCMK","ngzvz01YAW","D1r5Ee4","y29UC3rYDwn0B3i","mtf6BejMCfO","Bwf4","mJb5vhrcA1q","kcGOlISPkYKRksSK","CvrrsMS","zgHutMi","BMDUzLK","mtCWnZi3nKjgBhbMsG","v3f3qMK","mta0ndq0nZz5DfzuwNq","nZG4ntv4tefvsvK","Dw5PzM9YBq","CLfNEhe","sgDTEwu","wuPAq3e","CM91BMq","sKrLr1C","wgXhuLC","DvzSr0C","zuPmBue","yvvWyxG","AgnXuuG","DK5cyMu","weD3ELy","r2zcveS","Dg9tDhjPBMC","otu5mdCWDgvMywHy","mZiYnZmZn3HgEfz5wG","Egfhyve","C2LU","z3jHzhvHBa","CLrWCNi","vKP4BKC","DhjIC0u","mJqWntq3q0D5D3rx","u1fsvdi","mZblzKrys1e","BwrRvNu","AM1LtMK","C2L6zvn0zxbnBq","ChvZAa","qKH1ANO","AeHvuMS","zvDuAuq","odi0veXzqKrc"];return L0=function(){return c},L0()}function sr(c,i,a=ur(142),r=0){const f=ur,o={OJxSL:function(d,m){return d<=m},uEfaf:"gradual",qTQJk:function(d,m){return d+m},ngnfY:function(d,m){return d/m},JGMFe:function(d,m){return d*m},UDraN:function(d,m){return d<m}};if(i<=0||o.OJxSL(c,0))return 0;const h=[];for(let d=0;d<i;d++){const m=a===o.uEfaf?o[f(135)](c,d*r):c;h[f(119)](o[f(137)](o.JGMFe(m,Math.SQRT2),2))}let v=h[0];for(let d=1;o.UDraN(d,i);d++)v+=o.ngnfY(h[d],3);return Math.round(v*2)}function kh(c,i,a=ur(142),r=0){const f=ur,o={sKimW:function(S,p){return S<=p},IQoxM:function(S,p){return S<=p},mdkVu:function(S,p){return S/p},vNBbe:function(S,p){return S/p},XGwzV:function(S,p){return S===p},wTyxN:function(S,p){return S/p},XlGRW:function(S,p){return S/p},lVdCS:function(S,p){return S*p},rPdiM:function(S,p){return S*p},oLplw:function(S,p){return S-p}};if(o.sKimW(i,0)||o.IQoxM(c,0))return 0;const h=o[f(116)](c,2),v=o[f(153)](Math[f(114)],2),d=i;if(o[f(154)](a,f(142))||o[f(154)](r,0)){const S=v*(d+2)/3;return Math.max(1,Math[f(146)](o[f(129)](h,S)))}const m=o[f(148)](o.lVdCS(o.rPdiM(r,o.oLplw(d,1)),d),6),_=(h/v-m)*3/(d+2);return Math[f(132)](1,Math[f(146)](_))}function qh(c,i,a){const r={xzlqs:function(h,v){return h<=v},dSLWE:function(h,v){return h<v},VdlAd:function(h,v){return h+v},fQwSs:function(h,v,d,m){return h(v,d,m)}};if(r.xzlqs(c,i))return 1;let f=1,o=80;for(let h=0;r.dSLWE(h,30);h++){const v=r.VdlAd(f,o)/2,{diameter:d}=r.fQwSs(ia,i,v,a);d<c?f=v:o=v}return Math.max(1,Math.round((f+o)/2))}function Bh(c,i,a){const r=ur,f={dhTNb:function(p,C){return p/C},Hgmye:"uniform",KadET:function(p,C){return p/C},hHURk:function(p,C){return p===C},eDXdt:function(p,C){return p>=C},qMEPS:function(p,C){return p<C},trbsE:function(p,C){return p*C},hcqQH:function(p,C){return p-C},JDeGW:function(p,C){return p>C},WWuUF:function(p,C){return p+C},YJZCq:function(p,C){return p/C}},o=f[r(136)](c,2),h=i*Math.SQRT2/2;if(h<=0||o<=0)return 1;const v=a?.sizeMode??f[r(144)],d=a?.[r(118)]??0,m=f.KadET(Math.PI,2);if(f[r(121)](v,"uniform")||f[r(121)](d,0)){const p=f.dhTNb(h,3),C=Math.PI*o/2;return Math.max(1,Math[r(146)](f[r(136)](C,p)))}let _=f.KadET(h*xi,o);if(f.eDXdt(_,m))return 1;let S=1;for(let p=1;f.qMEPS(p,100);p++){const C=i+f[r(112)](p,d),z=C*Math.SQRT2/2,g=f[r(136)](z*f[r(152)](1,xi),o);if(_+=g,f[r(147)](_,f.WWuUF(m,f[r(145)](g,2))))break;S=p+1}return Math[r(132)](1,S)}const Jn=ln;(function(c,i){const a=ln,r=c();for(;;)try{if(parseInt(a(503))/1*(parseInt(a(465))/2)+parseInt(a(455))/3+parseInt(a(490))/4+parseInt(a(457))/5+parseInt(a(484))/6*(-parseInt(a(473))/7)+parseInt(a(468))/8+parseInt(a(453))/9*(-parseInt(a(466))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(T0,630170);const Ih=(function(){let c=!0;return function(i,a){const r={xUhWo:function(o,h){return o/h},QEBfM:function(o,h){return o*h}},f=c?function(){const o=ln,h={uFgrV:function(v,d){return r[ln(493)](v,d)},qQNDS:function(v,d){return v-d},iZEMc:function(v,d){return r[ln(487)](v,d)}};if(a)if(o(441)!=="UOQKY"){const{length:v}=_0x121fcd(_0x2e4634),d=v*_0x4b625e,m=h.uFgrV(_0x765878*_0x3902e9,2);return _0x23dd6f[o(482)](2,h[o(448)](m,h[o(470)](d,1-_0x3a9d7)))}else{const v=a[o(486)](i,arguments);return a=null,v}}:function(){};return c=!1,f}})(),bs=Ih(void 0,function(){const c=ln,i={iAEMd:c(505)};return bs[c(442)]()[c(512)](i[c(454)]).toString()[c(458)](bs).search("(((.+)+)+)+$")});bs();const dr=.28,Ud={:Jn(459),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function xr(c){const i=Jn,a={uQiyN:""};return c===i(447)?Ud[a[i(494)]]:Ud.}function T0(){const c=["C2LU","AM9PBG","zKPfufy","BLr4CvK","zuXhCvC","DfHwvue","zK1yyNO","mvfXwgPbEa","v0PVzMW","kcGOlISPkYKRksSK","zuHnwMK","sKfeA2i","C2XsAhi","sw5Qvuq","D0LezLa","BgvUz3rO","C2vHCMnO","u0DIu2K","y29Z","u3PJBwG","t1zzwui","Dg9gAxHLza","B29KEgK","AgTJze0","q3fOA0u","vu9rs1K","Dg9tDhjPBMC","sfz3ufi","ue5kD0O","BLPtzK0","sMTJCem","5yMJ44gK44g+44g/","Cvforfm","BwLU","rfrAvfu","C2nHBgu","EfH5CxK","mJe2yLDLsgrc","Aufftwq","nJa5ntm3swLyEgrp","AKjewxG","mZu1nZe0nuvpAuDOva","y29UC3rYDwn0B3i","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","D0vntfq","5lI444gK44g+44g/","CM91BMq","wezPAgy","u2zRzuS","mtK4odqXnhjquMPOuW","nZC3odaWvvj1ExDo","ugv0uxa","otq4nJq2ng5SywfeAG","r0ntrNe","AvPftwm","ChvZAa","u0f3AhO","mtmZvNbzwNzM","t3PNEgy","txDyywK","B3jKzxi","ufDVEg0","swDJtM4","uuLiteC","twvYuvC","seznAuO","Bwf4","CMfKAxvZ","mZKWndi2y0PUs0nb","u1fsvdi","yxbWBhK","uuvczK0","BhnSAg0","u3zXuxy","mJu1ndq2nhrSruDHsq","uLPpqKK","vvbzwhK","EfvOv28","DvfPEu4","zMXVB3i"];return T0=function(){return c},T0()}function aa(c){const i=Jn,a={NQTVs:function(r,f){return r/f},PNJwJ:function(r,f){return r*f}};return a.NQTVs(a[i(444)](c,Math.PI),180)}const cn=2.7;function qt(c){const i=Jn,a={IKOZI:function(h,v){return h/v}},r=c*Math[i(485)]/2,f=r*cn,o=a.IKOZI(f,2);return{length:f,width:o}}function Gh(c){return{UyUrM:function(a,r){return a*r}}.UyUrM(c,cn)/2}function rr(c,i,a){const r=Jn,f={xPmzN:function(m,_){return m(_)},XFihf:function(m,_){return m*_},FFNnS:function(m,_){return m-_},MVNMs:function(m,_){return m+_},InjUD:function(m,_){return m*_}},{length:o}=f.xPmzN(qt,a),h=f[r(463)](o,i),v=Math.max(0,f.FFNnS(c,f[r(463)](h,dr))),d=f.MVNMs(v,h);return f[r(509)](d,2)/cn}function Rh(c,i,a){const r=Jn,f={PWoxm:function(d,m){return d(m)},wEMLT:function(d,m){return d/m},fJEPV:function(d,m){return d-m}},{length:o}=f[r(477)](qt,a),h=o*i,v=f[r(460)](c*cn,2);return Math[r(482)](2,v-h*f[r(498)](1,dr))}function ll(c,i,a){const r=Jn,f={ZegGz:function(_,S){return _<=S},aajCS:function(_,S){return _??S},MFfLf:function(_,S){return _/S},mtlAH:function(_,S){return _/S},CNHEO:function(_,S){return _<S},MwXai:function(_,S){return _%S},CuPTI:function(_,S){return _+S},eHMZi:function(_,S){return _*S},wigJh:r(472),mGDLp:function(_,S){return _<S},naqHs:function(_,S){return _%S},QIHLG:r(469),VXgGN:function(_,S){return _>S},VyqVO:function(_,S){return _>S}};if(!c||f.ZegGz(c,0)||!a||a<=0)return f.aajCS(i,0);const o=f.MFfLf(360,c),h=f.mtlAH(360,a),v=[];for(let _=0;f.CNHEO(_,c);_++)v.push(f[r(475)](f.CuPTI(i,f[r(506)](_,o))%360+360,360));let d=i+o/2,m=-1;for(let _=0;_<c;_++)if(f.wigJh==="SAwhz"){const S=f.CuPTI(i,_*o)+o/2;let p=1/0;for(let C=0;f.mGDLp(C,a);C++){const z=f.naqHs(f[r(475)](S+C*h,360)+360,360);for(const g of v)if(f[r(479)]!=="TxcfS"){let b=Math.abs(z-g);f.VXgGN(b,180)&&(b=360-b),b<p&&(p=b)}else{const b=_0x527477.find(D=>D.id===_0x312802.id);b&&(b.radius=_0x4efef2.radius,b.scale=_0x2c686d.scale)}}f.VyqVO(p,m)&&(m=p,d=S)}else _0x5cbf6e=_0x4b8f67,_0x4ffb7f=_0x533169;return Math.round(f.eHMZi(d,10))/10}function ln(c,i){c=c-434;const a=T0();let r=a[c];if(ln.BotFHr===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};ln.JChKHm=f,ln.AeLzLd={},ln.BotFHr=!0}const o=a[0],h=c+o,v=ln.AeLzLd[h];if(v)r=v;else{const d=function(m){this.xbHrOh=m,this.RwFiuP=[1,0,0],this.ukTZRu=function(){return"newState"},this.CDxzoW="\\w+ *\\(\\) *{\\w+ *",this.nHVlEQ=`['|"].+['|"];? *}`};d.prototype.PHvHwS=function(){const m=new RegExp(this.CDxzoW+this.nHVlEQ),_=m.test(this.ukTZRu.toString())?--this.RwFiuP[1]:--this.RwFiuP[0];return this.GuGGsN(_)},d.prototype.GuGGsN=function(m){return~m?this.HTxZOp(this.xbHrOh):m},d.prototype.HTxZOp=function(m){for(let _=0,S=this.RwFiuP.length;_<S;_++)this.RwFiuP.push(Math.round(Math.random())),S=this.RwFiuP.length;return m(this.RwFiuP[0])},new d(ln).PHvHwS(),r=ln.JChKHm(r),ln.AeLzLd[h]=r}return r}function Q0(c,i,a){const r=Jn,f={WJofl:function(C,z){return C(z)},JkcpC:function(C,z){return C*z},DTZTU:function(C,z){return C/z},IgcNn:function(C,z,g){return C(z,g)}};if(c[r(511)]===0)return;const{length:o}=f[r(504)](qt,i),h=c[0],v=h.scale??1,d=o*v,m=Math[r(482)](0,h[r(483)]-f.JkcpC(d,dr)),_=m+d;if(_<=0)return;const S=f[r(450)](f[r(446)](a,cn),2),p=S/_;for(const C of c)C.radius=Math[r(482)](2,f.DTZTU(Math.round(C[r(483)]*p*10),10)),C.scale=Math[r(462)]((C.scale??1)*p*100)/100;f[r(478)](gs,c,i)}function gs(c,i){const a=Jn,r={jBDYx:function(d,m){return d===m},PgLyE:function(d,m){return d(m)},cjoef:function(d,m){return d*m}};if(r[a(456)](c[a(511)],0))return;const f=c[c.length-1],{length:o}=r.PgLyE(qt,i),h=o*(f[a(451)]??1),v=Math.floor(r.cjoef(r.cjoef(h,dr),10))/10;f[a(483)]>v&&(f[a(483)]=v)}function Hh(c,i,a,r){const f=Jn,o={fMXbz:function(p,C){return p(C)},HVwPR:function(p,C){return p-C},RZOBI:function(p,C){return p*C},hkcdM:function(p,C){return p===C},SvqQv:function(p,C){return p*C},nZSfM:function(p,C){return p<=C},KkBah:function(p,C){return p/C},cfakX:function(p,C){return p*C},winCh:function(p,C,z){return p(C,z)},lueqH:function(p,C){return p===C},wIDfP:"",GRJVZ:function(p,C){return p>C},UPYXy:function(p,C){return p-C},spCcm:"(((.+)+)+)+$",HFMiJ:function(p,C){return p===C},FNRuq:function(p,C){return p(C)},CqhkE:function(p,C){return p/C},bSJhn:"JADkb",HoUBC:"",WUdnB:function(p,C){return p!==C},tXVUA:"lIhXc",grfjI:function(p,C){return p/C},awtdK:function(p,C){return p*C},Ozgxf:function(p,C){return p*C},PetQp:f(438),pFkYq:function(p,C){return p+C},iskOF:function(p,C,z,g){return p(C,z,g)},SGbSi:f(452),lslhm:"vMAkY"};if(o[f(481)](c.length,0))return;const h=[...c].sort((p,C)=>C.order-p.order),{length:v}=o.FNRuq(qt,i),d=h[f(511)],m=h[0][f(451)]??1,_=o.cfakX(v,m);h[0].radius=o[f(440)](Math[f(495)](o[f(489)](o[f(491)](_,dr),10)),10);for(let p=1;p<d;p++)if(f(507)===o.bSJhn){const C=h[o[f(443)](p,1)],z=v*(C[f(451)]??1);let g;if(a===o.HoUBC)if(o.WUdnB(o[f(501)],f(508))){const D=o.grfjI(o.awtdK(70,Math.PI),180),R=o.GRJVZ(d,1)?p/(d-1)*D:0;g=o[f(474)](o.SvqQv(z,30/100),Math[f(434)](R))}else{const{length:b}=rfvPze.fMXbz(_0x260876,_0x468e87),D=b*_0x3708d0;return(_0x3c2a48[f(482)](0,rfvPze[f(443)](_0x372025,rfvPze[f(491)](D,_0x5c4f7d)))+D)*2/_0x5a83ae}else if(o[f(467)]!==o[f(467)]){if(rfvPze[f(439)](_0x4f7f73.length,0))return;const{length:b}=rfvPze[f(502)](_0x278f06,_0x4cceff),D=_0x5af0f4[0],R=D[f(451)]??1,B=b*R,q=_0x18233f[f(482)](0,D[f(483)]-rfvPze.SvqQv(B,_0x5584e3)),Y=q+B;if(rfvPze[f(445)](Y,0))return;const X=_0x5e860c*_0x3218bf/2,E=X/Y;for(const O of _0x4595f1)O[f(483)]=_0x3f88f3.max(2,rfvPze.KkBah(_0x1f92cd[f(462)](rfvPze.SvqQv(O[f(483)]*E,10)),10)),O[f(451)]=_0x2e0c97[f(462)](rfvPze.cfakX(rfvPze[f(491)](O.scale??1,E),100))/100;rfvPze.winCh(_0x17231a,_0x11a2e9,_0x39cdc3)}else g=z/3;h[p][f(483)]=o.KkBah(Math[f(462)](o.pFkYq(C[f(483)],g)*10),10)}else return rfvPze.lueqH(_0x9be2a,rfvPze[f(510)])?_0x38b2c8[f(447)]:_0xb81a8e[f(461)];const S=[...c].sort((p,C)=>p[f(476)]-C.order);o.iskOF(Q0,S,i,r);for(const p of S)if(o[f(513)]==="xXyqy"){const C=c.find(z=>z.id===p.id);if(C)if(o[f(488)]!==o[f(488)]){let z=_0x97cb6.abs(_0x3475dc-_0x580ba3);rfvPze.GRJVZ(z,180)&&(z=rfvPze[f(492)](360,z)),z<_0x20d24c&&(_0x1dbc13=z)}else C[f(483)]=p.radius,C[f(451)]=p[f(451)]}else return _0x38c5c1.toString()[f(512)](rfvPze.spCcm)[f(442)]().constructor(_0x29ccf9)[f(512)]("(((.+)+)+)+$")}function oi(c){const i=Jn,a={jMkQp:function(d,m){return d/m},BMrhK:function(d,m){return d(m)},XjgOV:function(d,m){return d/m},bestn:function(d,m){return d*m}},r=a.jMkQp(360,c),f=Math[i(496)](a.BMrhK(aa,a.jMkQp(r,2)))*2,o=.96,h=1.2,v=f*h/o;return a.XjgOV(Math[i(462)](a.bestn(Math.max(.3,Math[i(449)](3,v)),100)),100)}(function(c,i){const a=Vt,r=c();for(;;)try{if(-parseInt(a(364))/1+-parseInt(a(408))/2+parseInt(a(400))/3+parseInt(a(445))/4*(parseInt(a(428))/5)+-parseInt(a(450))/6+parseInt(a(434))/7*(-parseInt(a(393))/8)+parseInt(a(417))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(k0,375108);const Oh=(function(){const c=Vt,i={CoKYe:"col_yellow",HZQLk:"Inner",xGChm:"",IrAki:function(r,f){return r+f},HOrUI:function(r,f){return r/f},JHUUl:function(r,f,o){return r(f,o)},jvWqz:function(r,f,o,h){return r(f,o,h)},IbaEH:function(r,f){return r(f)},dzDkT:c(438),kDeoU:"",btsrK:c(360)};let a=!0;return function(r,f){const o=a?function(){const h=Vt,v={pKjFJ:function(d){return d()},ExSSO:function(d,m){return d(m)},HgXpJ:h(391),exEKq:i[h(397)],eaiiO:h(372),MjrhN:i.HZQLk,WDYlz:i.xGChm,BMhPU:function(d,m){return i[h(388)](d,m)},kwmPF:function(d,m){return i[h(425)](d,m)},GSCSC:h(430),EiKiw:function(d,m,_){return i[h(422)](d,m,_)},HzYPD:function(d,m,_,S){return i[h(380)](d,m,_,S)},oqcwM:function(d,m){return i.IbaEH(d,m)},PfIoo:h(371),TTbbW:i.dzDkT,jHkQF:i[h(431)],KHoug:function(d,m){return d(m)}};if(f)if(i[h(381)]===i.btsrK){const d=f[h(415)](r,arguments);return f=null,d}else{const d=v.pKjFJ(_0x5ad4a2),m=_0x4d2416(),_={id:v[h(396)](_0x5f2e97,"lay"),name:h(359),order:3,petalType:v.HgXpJ,petalCount:6,radius:14,scale:1,widthScale:1,offsetAngle:0,colorId:v.exEKq,visible:!0,locked:!1},S=360/_[h(398)],p={id:_0x35d1f5(v[h(414)]),name:v[h(429)],order:2,petalType:v[h(451)],petalCount:6,radius:24,scale:1,widthScale:1,offsetAngle:v.BMhPU(_.offsetAngle,v.kwmPF(S,2)),colorId:h(387),visible:!0,locked:!1},C=v.kwmPF(360,p[h(398)]),z={id:_0x2a0cc0(v[h(414)]),name:v.GSCSC,order:1,petalType:v.WDYlz,petalCount:6,radius:32,scale:1,widthScale:1,offsetAngle:p.offsetAngle+v.kwmPF(C,2),colorId:h(362),visible:!0,locked:!1},g=_0x2b6802??20,b=_0x29c523??30,{diameter:D}=v.EiKiw(_0x53f4a5,b,g),R=[z,p,_],B=[...R].sort((Y,X)=>Y.order-X[h(452)]);v[h(435)](_0x3a4fc9,B,g,D);for(const Y of B){const X=R.find(E=>E.id===Y.id);X&&(X[h(367)]=Y.radius,X.scale=Y[h(453)])}const q={id:v[h(418)](_0x2878df,v[h(378)]),name:v.TTbbW,position:{x:_0xc5f150,y:_0x453b74},flowerDiameter:D,rotation:0,layers:R,fabricSquareSize:g,placementMode:v.jHkQF,baseDiameter:b};return v.KHoug(_0x4f6de8,{version:1,id:_0x326b5c(h(363)),title:_0x57e8bf??h(406),unit:"mm",fabricSquareSize:g,baseDiameter:b,notes:"",createdAt:d,updatedAt:d,palette:m,flowers:[q]})}}:function(){};return a=!1,o}})(),vs=Oh(void 0,function(){const c=Vt;return vs[c(444)]()[c(405)](c(432)).toString().constructor(vs)[c(405)]("(((.+)+)+)+$")});vs();function k0(){const c=["s1n4z2q","mtq3mtK5mMPQzufWBq","u0H0rNq","B2zMC2v0qw5NBgu","DvzYwMm","y29Sx25HDNK","C2vHCMnO","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","A3jkqw4","ody4mJy4AMXWvLDb","y29Sx2nVCMfS","EvjUuKe","zNPOrvi","C29YDa","i0m4qtjena","zwfPAu8","yxbWBhK","y29Sx2jYB3DU","mtq1ntmYnZbbB2fnr2G","B3fJD00","y29Sx29Yyw5Nzq","CffcBfm","vM5UyvG","sKHvvwW","sw5Uzxi","zxrTuK0","se9YvuK","y29Sx2DYzwvU","5y2k44gp44gz","nte3nte1Bhjeufjo","twPYAe4","t3v0zxi","A0rLB1u","kcGOlISPkYKRksSK","r1HtzM8","ndLIBvrYsfq","shPzueq","iZHcnuuZqW","tu1OyuO","rMXVD2vYide","CeLSuMG","zKrbvhG","C1v1vfK","y29Sx2XPz2H0yMX1zq","BwfW","Dg9tDhjPBMC","mJbYBwrMzuu","iZLcntLcnG","wwL0Bhy","i0uZndG1ma","ienVChK","ndq5mJe2ngvXBxr5yq","v0rzBhO","B3jKzxi","C2nHBgu","reHUB0e","y29Sx2jSywnR","y29Sx3DOAxrL","B2fHufy","i0mWqZbdma","wfrjww4","y29Sx3LLBgXVDW","y29Sx2XPz2H0EwvSBg93","q2vUDgvY","rNjft20","iZncn0reoa","y29Sx3jLza","ChjVAG","nJa4mty0yvnODw9k","wuTlu04","BhvvBKK","CMfKAxvZ","y29Sx3nPBhzLCG","vKHgseS","zMLUza","zMX3","Bgf5","zvPLwxK","y29Sx2nYzwfT","i0yYrda0qG","qvPgBwW","Der6Cui","ugzjB28","i0yWoeeZqG","ANzxCxO","yNrZCKS","CfjRrw0","uwnnEfm","qufYqxm","Bgf5zxjZ","yK9mt1C","y29Sx3bPBMS","sxjbA2K","sLfRu2K","y29Sx2jSDwu","5lI444gK44g+44g/","Cgv0ywXpDMvYCMLKzxm","nti0nJK2qxbpseXv","BMfTzq","zen4rhC","rxHtu08","q29lwwu","Cgv0ywXdB3vUDa"];return k0=function(){return c},k0()}function Fd(){const c=Vt,i={pIlRh:c(456),LgfNV:"#F5F5F5",fDATx:c(362),JQkSi:c(448),Yitlv:c(387),jTcjP:"col_hotpink",GtAvp:"#E0457B",oaaPV:c(379),bdqXD:"col_yellow",BLfij:"#2FBF4A",AFwmb:"col_darkgreen",yRnRA:"#1A7A3A",SHtFt:c(442),dHfvR:c(361),VHFHK:c(404),etmRM:"#2C3E6B",YKKSN:"col_purple",pQBlS:c(413),GXSfo:"col_gold",ZZzvQ:c(458),uGEEs:c(374),bOLOW:"#333333",AZFml:"#F08080"};return[{id:i[c(439)],name:"",hex:i.LgfNV},{id:i[c(440)],name:"",hex:i[c(389)]},{id:i[c(447)],name:"",hex:"#F08CB6"},{id:i.jTcjP,name:"",hex:i.GtAvp},{id:c(419),name:"",hex:i[c(457)]},{id:i.bdqXD,name:"",hex:c(375)},{id:c(461),name:"",hex:"#FDF5C9"},{id:c(426),name:"",hex:i.BLfij},{id:i.AFwmb,name:"",hex:i[c(410)]},{id:i[c(401)],name:"",hex:"#7EC8E3"},{id:c(390),name:"",hex:i.dHfvR},{id:i[c(369)],name:"",hex:i[c(424)]},{id:i[c(365)],name:"",hex:c(446)},{id:"col_lavender",name:"",hex:i[c(420)]},{id:i[c(433)],name:"",hex:"#D4A843"},{id:c(368),name:"",hex:i.ZZzvQ},{id:i.uGEEs,name:"",hex:"#F5E6CC"},{id:c(416),name:"",hex:c(436)},{id:c(455),name:"",hex:i[c(386)]},{id:c(409),name:"",hex:i[c(376)]}]}function Vt(c,i){c=c-359;const a=k0();let r=a[c];if(Vt.PJfRyE===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Vt.icerCj=f,Vt.ZxbcWO={},Vt.PJfRyE=!0}const o=a[0],h=c+o,v=Vt.ZxbcWO[h];if(v)r=v;else{const d=function(m){this.byukgH=m,this.VPtpVF=[1,0,0],this.nlNstj=function(){return"newState"},this.OfHqIP="\\w+ *\\(\\) *{\\w+ *",this.eqLpzt=`['|"].+['|"];? *}`};d.prototype.dGBjzc=function(){const m=new RegExp(this.OfHqIP+this.eqLpzt),_=m.test(this.nlNstj.toString())?--this.VPtpVF[1]:--this.VPtpVF[0];return this.JjOiTH(_)},d.prototype.JjOiTH=function(m){return~m?this.ezRbZy(this.byukgH):m},d.prototype.ezRbZy=function(m){for(let _=0,S=this.VPtpVF.length;_<S;_++)this.VPtpVF.push(Math.round(Math.random())),S=this.VPtpVF.length;return m(this.VPtpVF[0])},new d(Vt).dGBjzc(),r=Vt.icerCj(r),Vt.ZxbcWO[h]=r}return r}function Yh({title:c,fabricSquareSize:i,baseDiameter:a}={}){const r=Vt,f={uVrZc:function(v,d){return v(d)},GAtZS:"",RIZcY:function(v,d){return v??d},vIniW:function(v,d){return v??d}},o=A0(),h=Fd();return f.uVrZc(Ma,{id:f[r(403)](kt,"prj"),title:c??f.GAtZS,unit:"mm",fabricSquareSize:f.RIZcY(i,20),baseDiameter:f.vIniW(a,30),notes:"",createdAt:o,updatedAt:o,palette:h,flowers:[]})}function Uh(c,i){const a=Vt,r={cjgeC:function(v,d){return v(d)},AArAs:function(v,d){return v+d}},f=r.cjgeC(la,c);f.id=kt("flw"),f[a(394)]=c.name+a(449);const o=i?.x??12,h=i?.y??12;return f.position={x:(c.position?.x??0)+o,y:r[a(384)](c.position?.y??0,h)},f[a(385)]=(f[a(385)]||[])[a(443)](v=>({...v,id:kt(a(372)),petalOverrides:v[a(392)]?v[a(392)].map(d=>({...d})):void 0})),f}(function(c,i){const a=gn,r=c();for(;;)try{if(-parseInt(a(426))/1+parseInt(a(338))/2+-parseInt(a(374))/3+parseInt(a(442))/4+-parseInt(a(427))/5+-parseInt(a(428))/6+-parseInt(a(329))/7*(-parseInt(a(380))/8)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(q0,430393);function q0(){const c=["nJaZotK2AfDpELbg","ChjVAG","Dg9tDhjPBMC","CgfSzxr0zq","shb0AK8","DhLWzq","uvvZExi","y29SB3i","mtq3ndi3me1lwLDZAW","yNPzsxi","DMfYAwfUDa","BgLUA2vKrMXVD2vYr3jVDxbjza","qMTguKy","whPwy0S","y3jLyxrLzef0","EwnsDuy","x2rVDwjSzvbLDgfSq2fJAgu","mtiXmZyYogP1AePYsa","BwfYDq","wMzuCwG","Cg9ZAxrPB24","BMfTzq","C3rLBMnPBhm","y2vUDgvY","BgvHzKDYB3vWCW","A2vU","rff6CMW","D2LKDgHty2fSzq","Cgv0ywXdB3vUDa","q1HNs0u","C3bSAxq","DgL0Bgu","r09JwKy","CgXHy2vTzw50tw9Kzq","zg96rvy","zMLUza","q29ywNO","DMvYC2LVBG","z3PZzhG","Aw5UzxjdB2XVCKLK","C2L6zq","tgzlyuq","ter4ugS","yM9VBgvHBG","5lI444gK44g+44g/","DgrxuKK","yxvezhi","v1zbv0S","y29Sx3DOAxrL","yMfZzurPyw1LDgvY","BgvHDMvZ","CLLpBfK","y29SB3jjza","mty3odCXrufKzKDA","BKj3tuS","zMXVD2vYCW","BgvHzG","Aw5UzxjtAxPLuMvKDwn0Aw9U","DxPMyLy","mJrNthvYq2u","BM90zxm","CM90yxrPB24","Bhn3ueK","yxbWBhK","zg91yMXLugv0ywW","uxnSCwq","BuLnA2O","C2vHCMnO","D2jADxm","BgvHzKLKCW","Aw5Uzxjty2fSzq","AxngAw5PDgu","z3jVDxbZ","AxnbCNjHEq","vNj4swW","tevWtuS","C2nHBgu","CgvWq291BNq","BgvUz3rO","ELHkvuC","zMXVD2vYrgLHBwv0zxi","EvnIDKq","y29SB3iY","r05ytuS","BwfW","B2zMC2v0qw5NBgu","Cgv0ywXuExbL","wgzgEw0","Bgf5zxjZ","B2jQzwn0","zMXVD2vYswrZ","DNn1u2u","ywr1Bhq","5y2k44gp44gz","CMfKAxvZ","mNW1Fdf8nhW2Fdn8ma","yLf3sfG","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","Bg9JA2vK","z3jW","AgfZ","z01XB1O","DxbKyxrLzef0","yNPwCKG","C3rYAw5N","mte5ofvhBgvZCq","mJCZnZq3nuT3whPLCW","mJeYnZyWmevcu1Pjwq","uevTAeO","Cg9Zzq","44or44o844oR","DMLZAwjSzq","44kW44oR44o844ox","thfbr0W","ugHQDKO","zMLSDgvY","zMfICMLJu3f1yxjLu2L6zq","44oA44od44ox","r0vHt0O","Aw5JBhvKzxm","ChvZAa"];return q0=function(){return c},q0()}const Kh=(function(){let c=!0;return function(i,a){const r=c?function(){const f=gn;if(a){const o=a[f(384)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),ps=Kh(void 0,function(){const c=gn,i={fNctr:"(((.+)+)+)+$"};return ps[c(444)]()[c(388)]("(((.+)+)+)+$")[c(444)]().constructor(ps)[c(388)](i.fNctr)});ps();function fs(c){const i=gn,a={ycRuF:i(365),TeIYU:"",dZbfa:function(r,f){return r===f}};return c===i(339)?a[i(336)]:c===i(346)?a.TeIYU:a.dZbfa(c,"")||c===a.TeIYU?c:a[i(336)]}function gn(c,i){c=c-329;const a=q0();let r=a[c];if(gn.yWqCtn===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};gn.TGXlwF=f,gn.dGEpHl={},gn.yWqCtn=!0}const o=a[0],h=c+o,v=gn.dGEpHl[h];if(v)r=v;else{const d=function(m){this.NKhyDC=m,this.eHtLwm=[1,0,0],this.xrwIqu=function(){return"newState"},this.UEOQEK="\\w+ *\\(\\) *{\\w+ *",this.WfgIJF=`['|"].+['|"];? *}`};d.prototype.CUuQHt=function(){const m=new RegExp(this.UEOQEK+this.WfgIJF),_=m.test(this.xrwIqu.toString())?--this.eHtLwm[1]:--this.eHtLwm[0];return this.jNXXeJ(_)},d.prototype.jNXXeJ=function(m){return~m?this.OiJVvB(this.NKhyDC):m},d.prototype.OiJVvB=function(m){for(let _=0,S=this.eHtLwm.length;_<S;_++)this.eHtLwm.push(Math.round(Math.random())),S=this.eHtLwm.length;return m(this.eHtLwm[0])},new d(gn).CUuQHt(),r=gn.TGXlwF(r),gn.dGEpHl[h]=r}return r}function Ma(c){const i=gn,a={pNBkn:function(o,h){return o*h},BkFRF:function(o,h,v,d){return o(h,v,d)},lNVuf:function(o,h){return o!==h},WVAWK:i(425),wbZus:function(o,h){return o===h},bzYIr:"",gzsdx:i(438),uzfbV:function(o,h){return o!==h},YqNuJ:i(369),VrxIl:function(o,h){return o!==h},Qslqd:function(o,h){return o(h)},hyHWk:"flw",lswPI:"Flower",xIHTx:"lay",ZfTqh:"hBJvP",MJirg:function(o,h){return o-h},bAKwQ:function(o,h,v,d){return o(h,v,d)},bQwHX:function(o,h){return o!=h},tdWRI:function(o,h){return o!==h},zXJUG:function(o,h){return o(h)},QUsyr:function(o,h){return o!=h},LDxPk:function(o,h,v,d){return o(h,v,d)},LEpMK:function(o,h){return o<=h},ZAyrF:i(362),QxnSn:function(o,h){return o!==h},PhjvJ:function(o,h){return o!==h},nBwMK:i(422),GOcZF:function(o,h,v,d){return o(h,v,d)},bzVrH:i(414),ZhEfE:function(o,h){return o!==h},rwKTB:function(o,h){return o!==h},jVtJa:i(347),nLOpB:i(446),GEaOJ:function(o){return o()},dozEV:function(o,h){return o(h)},ySbvD:i(418),klWMa:i(416),XzVcK:function(o,h){return o!==h},jgYjA:function(o,h){return o(h)},CXgKE:i(367),LjwYk:function(o,h){return o!=h},PEmhJ:"eRMwR",TvdWc:function(o,h){return o(h)},GNXMK:i(420),LqAGL:i(413),spmeQ:"child",XfFym:"right",CoXZz:"left",mIMkj:"back"},r=a[i(386)](la,c||{});Array[i(394)](r[i(376)])||(r.flowers=[]);for(const o of r.flowers){o.id||(o.id=kt(a.hyHWk)),(typeof o.name!==a[i(368)]||!o.name)&&(o.name=a[i(383)]),(!o.position||!Number.isFinite(o[i(341)].x)||!Number[i(392)](o.position.y))&&(o.position={x:260,y:260}),Array.isArray(o.layers)||(o.layers=[]);for(const h of o[i(409)]){if(h.id||(h.id=kt(a.xIHTx)),(a.uzfbV(typeof h[i(373)],a.WVAWK)||!h.colorId)&&(h[i(373)]=r[i(445)]?.[0]?.id??i(369)),h.petalType=fs(h[i(407)]),h.petalCount=pe(a.Qslqd(Number,h[i(349)]||0),5,24),Number[i(392)](h[i(397)])||(h[i(397)]=1),Number[i(392)](h[i(348)])||(h.widthScale=1),Number.isFinite(h[i(415)])||(h[i(415)]=28),Number[i(392)](h[i(406)])||(h.offsetAngle=0),delete h._doublePetalCache,h.doublePetal)if(a.uzfbV(typeof h[i(385)],i(410))||a.wbZus(h.doublePetal,null))delete h.doublePetal;else if(a[i(340)]===a.ZfTqh){if(h.doublePetal.innerScale!=null&&h[i(385)][i(378)]==null){const v=o[i(437)]??r[i(437)]??20;h[i(385)][i(378)]=Math.round(v*a.MJirg(1,h[i(385)][i(391)]))}delete h[i(385)].innerScale,Number[i(392)](h.doublePetal[i(378)])||(h[i(385)][i(378)]=2),h[i(385)].innerSizeReduction=a.bAKwQ(pe,h[i(385)].innerSizeReduction,1,30),delete h[i(385)].innerPetalType,a.bQwHX(h[i(385)][i(360)],null)&&a[i(366)](typeof h.doublePetal[i(360)],a.WVAWK)&&delete h[i(385)][i(360)]}else _0xb672d3[i(401)]=60;if(Array[i(394)](h.petalOverrides))for(const v of h.petalOverrides)v&&a[i(417)](v.petalType,null)&&(v.petalType=a[i(400)](fs,v.petalType)),v&&delete v.innerPetalType,v&&v.innerColorId!=null&&typeof v[i(360)]!==a[i(368)]&&delete v[i(360)],v&&a[i(448)](v.innerSizeReduction,null)&&(Number.isFinite(v[i(378)])?v.innerSizeReduction=a[i(363)](pe,v.innerSizeReduction,1,30):delete v[i(378)])}if((!Number.isFinite(o[i(401)])||a[i(396)](o.flowerDiameter,0))&&(i(372)!==a.ZAyrF?o.flowerDiameter=60:_0x28e00b[i(373)]=_0x3e590a.palette?.[0]?.id??"col_green"),o[i(344)]){if(a[i(389)](o.center.type,"")&&(o.center.type=""),[i(431),"",i(438)][i(440)](o[i(344)][i(447)])||(o.center.type=a.bzYIr),Number.isFinite(o.center.size)||(o[i(344)][i(361)]=6),o[i(344)][i(361)]=pe(o[i(344)].size,1,30),(a.QxnSn(typeof o[i(344)][i(449)],a.WVAWK)||!o.center.color)&&(o.center[i(449)]=r[i(445)]?.[0]?.id??a.YqNuJ),a[i(389)](o[i(344)][i(447)],a.gzsdx))if(a[i(435)](i(412),a[i(375)]))Number.isFinite(o.center.pepCount)||(o.center[i(398)]=12),o.center[i(398)]=a[i(353)](pe,o[i(344)][i(398)],4,30);else{if(_0x588eca.doublePetal.innerScale!=null&&_0x354521[i(385)].innerSizeReduction==null){const v=_0x5ece50[i(437)]??_0x3fc837.fabricSquareSize??20;_0x20c20d.doublePetal[i(378)]=_0x13dc5a.round(a.pNBkn(v,1-_0x382eb5[i(385)][i(391)]))}delete _0x5f4d07[i(385)].innerScale,_0x2ade63.isFinite(_0x5ef6b7[i(385)].innerSizeReduction)||(_0x52ec06.doublePetal[i(378)]=2),_0xd05d8d.doublePetal.innerSizeReduction=a[i(333)](_0x4c1fd5,_0x3b34aa.doublePetal.innerSizeReduction,1,30),delete _0x8bd083.doublePetal.innerPetalType,_0x350d34[i(385)][i(360)]!=null&&a.lNVuf(typeof _0x529707[i(385)].innerColorId,a.WVAWK)&&delete _0x488408[i(385)][i(360)]}o[i(344)][i(447)]!==""&&delete o.center.color2}o.placementMode!==a[i(424)]&&a.ZhEfE(o[i(354)],"")&&(o[i(354)]=i(414)),a.uzfbV(o[i(370)],void 0)&&(!Number[i(392)](o[i(370)])||o.baseDiameter<=0)&&(a.rwKTB(a.jVtJa,a.nLOpB)?delete o.baseDiameter:delete _0x1f64e5.doublePetal[i(360)])}Array[i(394)](r.palette)||(r.palette=[]);const f=new Set(r.palette[i(405)](o=>o.id));for(const o of Fd())f.has(o.id)||r[i(445)].push(o);r.createdAt||(r.createdAt=a[i(439)](A0)),r[i(423)]||(r.updatedAt=r[i(335)]),r.id||(r.id=a.dozEV(kt,i(443))),r[i(352)]||(r[i(352)]=a[i(402)]),r.unit="mm",Number[i(392)](r[i(437)])||(r.fabricSquareSize=20),(!Number.isFinite(r[i(370)])||a.LEpMK(r[i(370)],0))&&(r.baseDiameter=30),typeof r[i(381)]!="string"&&(r.notes=""),Array[i(394)](r.groups)||(r.groups=[]);{const o=new Set(r[i(376)].map(v=>v.id)),h=new Set((r[i(371)]??[]).map(v=>v.id));for(const v of r.groups){const d=a.klWMa[i(351)]("|");let m=0;for(;;){switch(d[m++]){case"0":(a[i(334)](typeof v[i(342)],a[i(368)])||!v[i(342)])&&(v[i(342)]=i(433));continue;case"1":v[i(411)]=v.flowerIds[i(436)](_=>o.has(_));continue;case"2":Array.isArray(v[i(411)])||(v[i(411)]=[]);continue;case"3":v.id||(v.id=a[i(355)](kt,i(420)));continue;case"4":v.leafIds=v[i(390)][i(436)](_=>h[i(421)](_));continue;case"5":Array[i(394)](v.leafIds)||(v[i(390)]=[]);continue;case"6":Number.isFinite(v.rotation)||(v[i(382)]=0);continue}break}}r[i(393)]=r.groups[i(436)](v=>v.flowerIds[i(399)]+v.leafIds.length>0)}Array.isArray(r[i(371)])||(r[i(371)]=[]);for(const o of r.leaves)o.id||(o.id=kt(i(377))),(a.QxnSn(typeof o.name,a[i(368)])||!o[i(342)])&&(o.name="Leaf"),(!o[i(341)]||!Number[i(392)](o[i(341)].x)||!Number.isFinite(o[i(341)].y))&&(o[i(341)]={x:675,y:675}),Number.isFinite(o.rotation)||(o.rotation=0),o[i(407)]=a.jgYjA(fs,o[i(407)]),(typeof o.colorId!==a[i(368)]||!o.colorId)&&(o.colorId=r[i(445)]?.[0]?.id??"col_green"),Number[i(392)](o[i(397)])||(o[i(397)]=1),Number[i(392)](o.widthScale)||(o[i(348)]=1),typeof o.visible!==i(364)&&(o[i(432)]=!0),a[i(435)](typeof o[i(419)],i(364))&&(o[i(419)]=!1),delete o[i(337)],o.doublePetal&&(a[i(334)](typeof o[i(385)],i(410))||o.doublePetal===null?a[i(389)](a[i(350)],i(367))?delete o.doublePetal:delete _0x3461e1[i(385)][i(360)]:(Number[i(392)](o[i(385)][i(378)])||(o[i(385)].innerSizeReduction=2),o.doublePetal[i(378)]=pe(o[i(385)].innerSizeReduction,1,30),a.LjwYk(o[i(385)][i(360)],null)&&typeof o[i(385)][i(360)]!==a[i(368)]&&(a[i(429)]===a[i(429)]?delete o[i(385)].innerColorId:(a[i(389)](_0x41bc3b.center.type,"")&&(_0x5ba2b4.center[i(447)]=""),[a[i(330)],"",a.gzsdx][i(440)](_0x1eacf4[i(344)][i(447)])||(_0x30ff6a.center[i(447)]=a.bzYIr),_0x373859[i(392)](_0x12879c[i(344)][i(361)])||(_0x41d49a.center[i(361)]=6),_0xf9c59b[i(344)][i(361)]=_0x16a583(_0xc27dac[i(344)][i(361)],1,30),(a[i(379)](typeof _0x4c613e.center[i(449)],a[i(368)])||!_0x135283.center.color)&&(_0x127b58[i(344)].color=_0x196f7f[i(445)]?.[0]?.id??a.YqNuJ),_0x575596.center[i(447)]===a[i(359)]&&(_0x366c22[i(392)](_0x2e6f37[i(344)].pepCount)||(_0x55ede7[i(344)][i(398)]=12),_0x4b6d53.center.pepCount=a[i(333)](_0x5ae85b,_0x1a3a66[i(344)].pepCount,4,30)),a[i(395)](_0x2fab4d.center.type,"")&&delete _0xaba212.center[i(403)]))));if(Array[i(394)](r.leafGroups)&&r.leafGroups[i(399)]>0){const o=new Set((r[i(371)]??[])[i(405)](h=>h.id));for(const h of r[i(345)]){if(!Array.isArray(h.leafIds))continue;const v=h.leafIds.filter(d=>o.has(d));if(!a.wbZus(v[i(399)],0)){if(h.linkedFlowerGroupId){const d=r.groups[i(356)](m=>m.id===h[i(332)]);if(d){for(const m of v)d.leafIds[i(440)](m)||d.leafIds[i(441)](m);continue}}r[i(393)].push({id:h.id||a.TvdWc(kt,a[i(404)]),name:h[i(342)]||i(433),flowerIds:[],leafIds:v,rotation:Number.isFinite(h[i(382)])?h[i(382)]:0})}}}if(delete r.leafGroups,Array[i(394)](r[i(343)])){const o=[a[i(434)],a.spmeQ],h=[a[i(408)],a[i(357)],a[i(387)]];r[i(343)]=r[i(343)].filter(v=>v&&typeof v.id=="string"&&o.includes(v[i(331)])&&h[i(440)](v[i(430)])&&v.position&&Number.isFinite(v[i(341)].x)&&Number[i(392)](v.position.y))}return Number[i(392)](r[i(358)])||(r[i(358)]=1),r}function B0(){const c=["5lI444gK44g+44g/","nhHXwLPeta","mtm2mJbvDNzttLO","otK2DeXltffP","mte0m0znBNbzqG","y29UC3rYDwn0B3i","nJK3mJa5nurcz01tCa","odbnz3LougC","Dg9tDhjPBMC","mtC4mdCZtw1iDgrH","yxbWBhK","oty4mZnqD0jHww4","nKT2v2zVrG","sgH2rg0","mtCZnvj1vMfpva","mtqZmZr6ENPxwMy","kcGOlISPkYKRksSK","5yMJ44gK44g+44g/","44or44o844oR","mZi4odaZv3jLAxHQ","mJyZntG0zxvzC0jO"];return B0=function(){return c},B0()}const ys=kn;(function(c,i){const a=kn,r=c();for(;;)try{if(parseInt(a(119))/1*(-parseInt(a(127))/2)+parseInt(a(126))/3*(parseInt(a(129))/4)+parseInt(a(121))/5*(parseInt(a(122))/6)+parseInt(a(116))/7*(parseInt(a(114))/8)+-parseInt(a(132))/9*(parseInt(a(130))/10)+parseInt(a(118))/11*(parseInt(a(131))/12)+-parseInt(a(113))/13===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(B0,423582);const Zh=(function(){let c=!0;return function(i,a){const r=c?function(){const f=kn;if(a){const o=a[f(117)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),_s=Zh(void 0,function(){const c=kn,i={HhvDm:c(123)};return _s[c(115)]().search(i[c(120)])[c(115)]()[c(133)](_s).search("(((.+)+)+)+$")});_s();const $d="tsumami_projects_v1",rl=[ys(128),ys(124)],Xh=[ys(125),"",""];function kn(c,i){c=c-113;const a=B0();let r=a[c];if(kn.xYNzgQ===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};kn.tMBHWR=f,kn.HTixms={},kn.xYNzgQ=!0}const o=a[0],h=c+o,v=kn.HTixms[h];if(v)r=v;else{const d=function(m){this.kgCSdo=m,this.fhXjON=[1,0,0],this.ciKPYQ=function(){return"newState"},this.RaDymY="\\w+ *\\(\\) *{\\w+ *",this.KnvLgz=`['|"].+['|"];? *}`};d.prototype.INCZIw=function(){const m=new RegExp(this.RaDymY+this.KnvLgz),_=m.test(this.ciKPYQ.toString())?--this.fhXjON[1]:--this.fhXjON[0];return this.VwDDts(_)},d.prototype.VwDDts=function(m){return~m?this.FtqylE(this.kgCSdo):m},d.prototype.FtqylE=function(m){for(let _=0,S=this.fhXjON.length;_<S;_++)this.fhXjON.push(Math.round(Math.random())),S=this.fhXjON.length;return m(this.fhXjON[0])},new d(kn).INCZIw(),r=kn.tMBHWR(r),kn.HTixms[h]=r}return r}const e1=["",""];(function(c,i){const a=Wt,r=c();for(;;)try{if(-parseInt(a(432))/1+-parseInt(a(452))/2*(-parseInt(a(447))/3)+-parseInt(a(450))/4+parseInt(a(436))/5+-parseInt(a(448))/6+-parseInt(a(443))/7+-parseInt(a(442))/8*(-parseInt(a(451))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(I0,523417);const Jh=(function(){let c=!0;return function(i,a){const r=c?function(){const f=Wt;if(a){const o=a[f(455)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Ss=Jh(void 0,function(){const c=Wt,i={zOXLD:c(434)};return Ss.toString().search("(((.+)+)+)+$")[c(428)]().constructor(Ss)[c(437)](i[c(433)])});Ss();function Wt(c,i){c=c-427;const a=I0();let r=a[c];if(Wt.RDfGqe===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Wt.cSXZci=f,Wt.qsFgnZ={},Wt.RDfGqe=!0}const o=a[0],h=c+o,v=Wt.qsFgnZ[h];if(v)r=v;else{const d=function(m){this.PaxUjY=m,this.SUPybr=[1,0,0],this.gUEKsi=function(){return"newState"},this.jBpffU="\\w+ *\\(\\) *{\\w+ *",this.Khshlw=`['|"].+['|"];? *}`};d.prototype.IEksOH=function(){const m=new RegExp(this.jBpffU+this.Khshlw),_=m.test(this.gUEKsi.toString())?--this.SUPybr[1]:--this.SUPybr[0];return this.FPKrYJ(_)},d.prototype.FPKrYJ=function(m){return~m?this.ewaVEM(this.PaxUjY):m},d.prototype.ewaVEM=function(m){for(let _=0,S=this.SUPybr.length;_<S;_++)this.SUPybr.push(Math.round(Math.random())),S=this.SUPybr.length;return m(this.SUPybr[0])},new d(Wt).IEksOH(),r=Wt.cSXZci(r),Wt.qsFgnZ[h]=r}return r}function I0(){const c=["zMLSDgvY","DgL0Bgu","ChjVAMvJDa","nJu0D21oruHX","mtu0nJu0mKrKq1fwzW","z2v0sxrLBq","nda0ntG3mMT6ufrIvW","mJu3nZz2BgfYsgq","nteXnNrwre1nvG","C3rYAw5NAwz5","BeP5r2y","yxbWBhK","C2XPy2u","uLnisu0","DxbKyxrLzef0","CgfYC2u","AxnbCNjHEq","Dg9tDhjPBMC","v216Chq","C29YDa","vujpsvO","nZC0ode3sfnMzhnV","EK9yteq","kcGOlISPkYKRksSK","Dfjoqwm","nZm3mdeWzurZvhDd","C2vHCMnO","BwfW","rNn2z3m","yLj5swu","zMLUzeLUzgv4","ntGXnKLxzvr6vG","mtuZodaWnuzQzNnTwa"];return I0=function(){return c},I0()}function cr(){const c=Wt,i={trdjM:c(439),UBOIZ:c(440),zbvQI:function(a,r){return a===r},tRNAc:"ipoKy",Wmzpt:"hETME"};try{const a=localStorage[c(449)]($d);if(!a)return[];const r=JSON[c(459)](a);return Array[c(427)](r)?r.map(f=>{const o=c;if(i.trdjM!==i[o(431)])try{const h=f?.[o(446)]?Ma(f.project):null;return h?{id:f.id??h.id,title:f.title??h.title,updatedAt:f.updatedAt??h[o(458)],project:h}:null}catch{return null}else{const h=_0x3b69e9[o(449)](_0x453557);if(!h)return[];const v=_0x3cb016.parse(h);return _0x15fe1b.isArray(v)?v[o(438)](d=>{const m=o;try{const _=d?.[m(446)]?_0x1ee2d3(d.project):null;return _?{id:d.id??_.id,title:d[m(445)]??_.title,updatedAt:d[m(458)]??_.updatedAt,project:_}:null}catch{return null}}).filter(d=>d!=null):[]}}).filter(f=>f!=null):[]}catch{return i.zbvQI(i[c(435)],i[c(429)])?(_0x4e40b6.setItem(_0x2a1604,_0x5f9dde[c(453)](_0x4b9b61)),!0):[]}}function t1(c){const i=Wt;try{return localStorage.setItem($d,JSON[i(453)](c)),!0}catch{return!1}}function Vh(c){const i=Wt,a={lJyGf:function(v){return v()},aipvJ:function(v,d){return v+d}},r=a[i(454)](cr),f=r[i(441)](v=>v.id===c.id),o={id:c.id,title:c.title,updatedAt:c[i(458)],project:c},h=f>=0?[...r[i(456)](0,f),o,...r.slice(a.aipvJ(f,1))]:[o,...r];return h[i(430)]((v,d)=>v.updatedAt<d.updatedAt?1:-1),t1(h)}function Wh(c){const i=Wt,a={KdGed:function(f){return f()},RSHIM:function(f,o){return f(o)}},r=a.KdGed(cr)[i(444)](f=>f.id!==c);return a[i(457)](t1,r)}function qn(c,i){c=c-281;const a=G0();let r=a[c];if(qn.ZJTJCf===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};qn.qmJsSX=f,qn.mXnTWx={},qn.ZJTJCf=!0}const o=a[0],h=c+o,v=qn.mXnTWx[h];if(v)r=v;else{const d=function(m){this.IBRCXM=m,this.hXvUqy=[1,0,0],this.JNpcXJ=function(){return"newState"},this.HOuJXq="\\w+ *\\(\\) *{\\w+ *",this.UpbVqL=`['|"].+['|"];? *}`};d.prototype.UbCzzn=function(){const m=new RegExp(this.HOuJXq+this.UpbVqL),_=m.test(this.JNpcXJ.toString())?--this.hXvUqy[1]:--this.hXvUqy[0];return this.DuEulk(_)},d.prototype.DuEulk=function(m){return~m?this.FbQebj(this.IBRCXM):m},d.prototype.FbQebj=function(m){for(let _=0,S=this.hXvUqy.length;_<S;_++)this.hXvUqy.push(Math.round(Math.random())),S=this.hXvUqy.length;return m(this.hXvUqy[0])},new d(qn).UbCzzn(),r=qn.qmJsSX(r),qn.mXnTWx[h]=r}return r}(function(c,i){const a=qn,r=c();for(;;)try{if(parseInt(a(322))/1*(-parseInt(a(285))/2)+-parseInt(a(317))/3+parseInt(a(332))/4*(-parseInt(a(336))/5)+-parseInt(a(303))/6*(parseInt(a(333))/7)+parseInt(a(328))/8+-parseInt(a(302))/9+parseInt(a(298))/10*(parseInt(a(319))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(G0,812144);const Ph=(function(){const c={oFkLg:"nvKzO"};let i=!0;return function(a,r){const f=qn;if(f(305)!==c.oFkLg)_0x2d7871[f(326)](_0x5af9dd,{colorId:_0x10f558,fabricSizeMm:_0x4c0529,count:1});else{const o=i?function(){const h=f;if(r){const v=r[h(311)](a,arguments);return r=null,v}}:function(){};return i=!1,o}}})(),ws=Ph(void 0,function(){const c=qn,i={PKNyN:"(((.+)+)+)+$"};return ws[c(286)]()[c(313)](c(327))[c(286)]().constructor(ws)[c(313)](i[c(331)])});ws();function G0(){const c=["CMvKDwnL","C2v0","kcGOlISPkYKRksSK","otiZmdGXnKzyCuftBG","iZK5otK5oq","Aw5UzxjtAxPLuMvKDwn0Aw9U","ueToEu4","mtzTEhPnzuu","ndCXmuvqCMzlzW","y29SB3jjza","z2v0","mZq1mZCWrKLWAKnd","zMfICMLJu2L6zu1T","zg91yMXLugv0ywW","rw9hANC","BgvHDMvZ","rgfhDwm","Aw5UzxjdB2XVCKLK","BMfTzq","zMfICMLJu3f1yxjLu2L6zq","mta1mdCWnKn2teDSBa","Dg9tDhjPBMC","vhvMDhy","y291BNq","Bw9Kzq","v3PYyKO","DMfSDwvZ","uuDtrwi","yMfZzurPyw1LDgvYtw0","yMfZzurPyw1LDgvY","wwvdqLm","C01xtNK","BeHUAhe","mtKWuMjvuhrz","rM1equG","Bwf4","C3rnAee","nJa0mdi2EM54AK5h","nZm5oermuLLWzW","BwfW","BNzlEK8","zMXVD2vYCW","Cgv0ywXpDMvYCMLKzxm","C2nHBgu","Bgf5zxjZ","CM91BMq","yxbWBhK","wgjlCfy","C2vHCMnO","C29YDa","zMXVD2vYrgLHBwv0zxi","sujhBva","mZaWoti1nwPzEfDTEq","C3fYDa","mty3mdqZofLKyNnQsq","yuLcCfK","qvntyMm","mMz1Bxjcra","sMXrzhi","EKj0B3m"];return G0=function(){return c},G0()}function Qh(c){const i=qn,a={DEhqa:function(_,S){return _!==S},FSUem:"sMWNy",uJQBP:function(_,S){return _+S},KNBIX:function(_,S){return _*S},DaGuc:"",JlQdr:"QGSEb",Tuftv:function(_,S){return _/S},FmDAH:function(_,S){return _*S},WzrbJ:function(_,S){return _/S},PwOQT:i(329),lHnhq:function(_,S){return _!==S},aIBpY:function(_,S){return _-S},IBGmP:function(_,S){return _(S)},XbKpV:function(_,S){return _!==S},wxaKQ:function(_,S){return _-S},ASSbc:i(339)},r=new Map((c.palette||[])[i(304)](_=>[_.id,_])),f=new Map,o=(_,S)=>_?.[i(307)]?.find(p=>p.index===S)??null,h=new Map;for(const _ of c[i(306)]||[]){const S=_[i(284)]??c[i(284)];for(const b of _[i(309)]||[]){if(!b.visible)continue;const D=Math.round(S*(b.scale??1));for(let R=0;R<b.petalCount;R++){const B=o(b,R),q=B?.colorId??b.colorId,Y=q+"|"+D,X=f.get(Y);if(X?X.count+=1:f[i(326)](Y,{colorId:q,fabricSizeMm:D,count:1}),b[i(338)]){const E=b[i(338)],O=B?.[i(282)]??E.innerColorId??q,P=B?.innerSizeReduction??E.innerSizeReduction??2,V=Math.max(3,Math.round(D-P)),U=O+"|"+V,G=f.get(U);G?G.count+=1:f.set(U,{colorId:O,fabricSizeMm:V,count:1})}}}const p=_.placementMode??a.DaGuc,C=p===""?a[i(316)](ir,_[i(315)]):_.baseDiameter??c[i(294)],z=p+"|"+C,g=h.get(z);if(g)if(a[i(312)]("rvkoO","rvkoO")){const b={aEXKG:function(X,E){return X+E},SibJO:function(X,E){return X*E}},D=_0x24ab73[i(335)](_0x4c386c),R=_0x26b593.sort((X,E)=>E[i(337)]-X.fabricSizeMm),B=R.reduce((X,E)=>X+E[i(288)],0),q=_0x5118c0.round(R[i(325)]((X,E)=>{const O=i,P=E.fabricSizeMm/10;return b.aEXKG(X,b.SibJO(E[O(288)],P)*P)},0)*100)/100,Y=_0x71de08[i(310)](_0x18f2e0.sqrt(q)*10)/10;return{colorId:_0x2ba755,colorName:D?.[i(283)]??_0x55b270,hex:D?.hex??"#999999",sizes:R,totalCount:B,totalAreaCm2:q,squareSideCm:Y}}else g[i(288)]+=1;else h[i(326)](z,{mode:p,baseDiameterMm:C,count:1})}for(const _ of c[i(340)]??[]){if(!_.visible)continue;const S=_.fabricSquareSize??c.fabricSquareSize,p=Math.round(S*(_[i(308)]??1)),C=_[i(334)],z=C+"|"+p,g=f[i(335)](z);if(g?g.count+=1:f[i(326)](z,{colorId:C,fabricSizeMm:p,count:1}),_.doublePetal){const b=_[i(338)],D=b[i(282)]??C,R=Math.max(3,Math[i(310)](a.wxaKQ(p,b[i(330)]??2))),B=D+"|"+R,q=f.get(B);q?q[i(288)]+=1:f.set(B,{colorId:D,fabricSizeMm:R,count:1})}}const v=new Map;for(const{colorId:_,fabricSizeMm:S,count:p}of f[i(291)]()){const C=v[i(335)](_);C?a[i(321)]!==i(295)?C.entries.push({fabricSizeMm:S,count:p}):_0x48ab18.count+=1:v[i(326)](_,{colorId:_,entries:[{fabricSizeMm:S,count:p}]})}const d=Array.from(v.values()).map(({colorId:_,entries:S})=>{const p=i,C={stMhA:function(z,g){return z===g},MilZK:a[p(281)]};if(p(292)!==a[p(323)]){const z=_0x6d55bc[p(338)],g=z[p(282)]??_0x4d7123,b=_0x2d8002[p(300)](3,_0x3f3a8f[p(310)](_0x268f65-(z.innerSizeReduction??2))),D=g+"|"+b,R=_0x17236a.get(D);R?R[p(288)]+=1:_0x2287c5.set(D,{colorId:g,fabricSizeMm:b,count:1})}else{const z=r[p(335)](_),g=S.sort((B,q)=>q.fabricSizeMm-B.fabricSizeMm),b=g.reduce((B,q)=>B+q[p(288)],0),D=a[p(287)](Math[p(310)](a[p(299)](g[p(325)]((B,q)=>{const Y=p;if(a.DEhqa(Y(296),a.FSUem))return _0xf607b3.mode!==_0x5cb0f4[Y(289)]?C[Y(301)](_0x107a4f.mode,C.MilZK)?-1:1:_0x50e030.baseDiameterMm-_0x44efcd[Y(293)];{const X=q.fabricSizeMm/10;return a.uJQBP(B,a.KNBIX(q[Y(288)],X)*X)}},0),100)),100),R=a[p(290)](Math[p(310)](Math[p(318)](D)*10),10);return{colorId:_,colorName:z?.[p(283)]??_,hex:z?.hex??a.PwOQT,sizes:g,totalCount:b,totalAreaCm2:D,squareSideCm:R}}}).sort((_,S)=>S.totalCount-_.totalCount),m=Array.from(h[i(291)]())[i(314)]((_,S)=>{const p=i;if(p(324)!=="zBtos")_0x2d77ec.set(_0x3dac2e,{colorId:_0x1d6c5f,entries:[{fabricSizeMm:_0x4ec7b0,count:_0x4d069a}]});else return a[p(297)](_.mode,S.mode)?_.mode===a[p(281)]?-1:1:a[p(320)](S[p(293)],_[p(293)])});return{colors:d,bases:m}}function vn(c,i){c=c-378;const a=R0();let r=a[c];if(vn.YnRrzl===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};vn.hWbXHH=f,vn.NxXNTQ={},vn.YnRrzl=!0}const o=a[0],h=c+o,v=vn.NxXNTQ[h];if(v)r=v;else{const d=function(m){this.rfTHOU=m,this.xCObFn=[1,0,0],this.EzNTJT=function(){return"newState"},this.McssGM="\\w+ *\\(\\) *{\\w+ *",this.lmdwFK=`['|"].+['|"];? *}`};d.prototype.tzUVkh=function(){const m=new RegExp(this.McssGM+this.lmdwFK),_=m.test(this.EzNTJT.toString())?--this.xCObFn[1]:--this.xCObFn[0];return this.mTFXEK(_)},d.prototype.mTFXEK=function(m){return~m?this.hGZrXI(this.rfTHOU):m},d.prototype.hGZrXI=function(m){for(let _=0,S=this.xCObFn.length;_<S;_++)this.xCObFn.push(Math.round(Math.random())),S=this.xCObFn.length;return m(this.xCObFn[0])},new d(vn).tzUVkh(),r=vn.hWbXHH(r),vn.NxXNTQ[h]=r}return r}(function(c,i){const a=vn,r=c();for(;;)try{if(-parseInt(a(409))/1*(parseInt(a(381))/2)+parseInt(a(396))/3*(-parseInt(a(400))/4)+parseInt(a(404))/5+-parseInt(a(429))/6+parseInt(a(414))/7+-parseInt(a(435))/8*(-parseInt(a(444))/9)+parseInt(a(413))/10*(-parseInt(a(382))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(R0,242945);const Fh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),Cs=Fh(void 0,function(){const c=vn,i={NlkSD:c(448)};return Cs[c(440)]().search(c(448))[c(440)]().constructor(Cs)[c(392)](i.NlkSD)});Cs();function R0(){const c=["w2rHDgeTBwfYCxvLzv0","neTrBgXztG","zMHNBMy","lNbUzW","zMLYC3rdAgLSza","mJqXoty3nxfzAgXtrW","vMrmzKu","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","Dg9cBg9I","CMv2B2TLt2jQzwn0vvjm","mte5ota5CwvJEKTI","mcaWidiWmcaYmda","Effny08","C2vYAwfSAxPLvg9tDhjPBMC","nZbfrxfHzvq","mJm5nZyXmLDmBMLgzW","zhjHD0LTywDL","mtaWjq","BwfW","C2v0qxr0CMLIDxrL","y2fUDMfZ","Eg1SBNm","zMLSBfjLy3q","B2rPBK0","D1P3q0u","Aw1Hz2uVCg5N","w2rHDgeTz3jPzf0","vur3Bgy","yM9KEq","zM9YrwfJAa","mJu0ota4mLHcvKftEq","vujjBKS","C3r5Bgu","CMvTB3zLqxr0CMLIDxrL","yuzwvLK","lNrZDw1HBwKTz3jVDxaTzgfZAa","nZKYoeDRseTiAq","y3jLyxrLrwXLBwvUDa","z2v0qxr0CMLIDxrL","C3bSAxq","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","Dg9tDhjPBMC","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","zgj2C0G","z2v0q29UDgv4Da","mta4mgH3DMzADW","y2XVBMvoB2rL","CMvTB3zLq2HPBgq","y3jLyxrLt2jQzwn0vvjm","kcGOlISPkYKRksSK","D2LKDgG","txzqufy","zhH0wxm","mK9hrerTua","otC1ntLNt1Pkq2K","vu5nreC","zgf0ys10zxn0Awq","DMLLD0jVEa","w2rHDgeTDgvZDgLKxq","s2vyqu8","CxvLCNLtzwXLy3rVCKfSBa","CMvTB3zL","D2HPDgu","zg93BMXVywq","C2vHCMnO","zMLSBfn0EwXL","uvrnvuy","ELfNDwG","mJG2nZyXtuDuBMrY","AgvPz2H0","sNHzrvq"];return R0=function(){return c},R0()}function $h(c,i){const a=vn,r={fhgnf:a(431),rFAaL:a(385),oJrzo:a(378),Nkpmr:function(C,z){return C(z)},JHqXK:a(397),KeXAO:"xmlns",UDwlf:a(406),MvPPV:a(416),MTYjZ:a(390),wZwCE:a(425),mUqAJ:".tsumami-sel-dash",vMuEU:".tsumami-group-dash",zQguh:a(439),xegKx:"image/svg+xml;charset=utf-8"},f=c[a(445)](!0);f[a(388)](a(386))[a(428)](C=>C[a(432)](a(384))),f.removeAttribute(r[a(401)]);const o=c[a(437)](a(385));o&&f[a(418)](r.rFAaL,o);const h=(o??a(410))[a(438)](/[\s,]+/)[a(417)](Number),v=h[2]??200,d=h[3]??200;f.setAttribute(r.oJrzo,r.Nkpmr(String,v)),f.setAttribute(r.JHqXK,String(d)),f.setAttribute(r[a(387)],"http://www.w3.org/2000/svg");const m=document.createElementNS(r[a(426)],"rect");m[a(418)](r.oJrzo,r[a(379)]),m.setAttribute(r.JHqXK,"100%"),m.setAttribute("fill",r.MTYjZ),f.insertBefore(m,f[a(403)]),f[a(388)](r[a(423)])[a(428)](C=>C[a(389)]()),f[a(388)](r.mUqAJ).forEach(C=>C[a(389)]()),f.querySelectorAll(r.vMuEU).forEach(C=>C[a(389)]()),f.querySelectorAll("[data-marquee]").forEach(C=>C.remove());const _=new XMLSerializer,S=r[a(395)]+_[a(412)](f),p=new Blob([S],{type:r.xegKx});n1(p,i.endsWith(".svg")?i:i+".svg")}function em(c,i,a=2){const r=vn,f={odinM:function(g,b){return g!==b},UBInK:"HNtuW",QTMUF:function(g,b){return g*b},zmAOj:".tsumami-sel-dash",IZtGu:r(434),sTBTZ:r(399),aFVVY:"0 0 200 200",QRdoi:function(g,b){return g??b},hgsJQ:r(378),JxYET:function(g,b){return g(b)},VdLfE:r(397),ybJGm:r(420),yhDBK:r(406),dbvsH:r(441)},o=c.cloneNode(!0);o.querySelectorAll(r(386))[r(428)](g=>g.removeAttribute("data-testid")),o[r(432)]("style"),o[r(388)](r(425))[r(428)](g=>g[r(389)]()),o.querySelectorAll(f.zmAOj)[r(428)](g=>g[r(389)]()),o.querySelectorAll(f.IZtGu).forEach(g=>g[r(389)]()),o[r(388)](f.sTBTZ)[r(428)](g=>g.remove());const h=c.getAttribute(r(385)),v=(h??f[r(433)]).split(/[\s,]+/)[r(417)](Number),d=v[2]??200,m=v[3]??200;o[r(418)]("viewBox",f.QRdoi(h,r(410))),o[r(418)](f.hgsJQ,f.JxYET(String,d)),o[r(418)](f[r(405)],f[r(398)](String,m)),o.setAttribute(f.ybJGm,f.yhDBK);const _=new XMLSerializer,S=_.serializeToString(o),p=new Blob([S],{type:f[r(442)]}),C=URL[r(447)](p),z=new Image;z.onload=()=>{const g=r,b=document[g(436)](g(419));b.width=f[g(394)](d,a),b[g(397)]=f[g(394)](m,a);const D=b.getContext("2d");if(!D){URL.revokeObjectURL(C);return}D[g(393)]=g(390),D.fillRect(0,0,b.width,b.height),D[g(415)](z,0,0,b[g(378)],b[g(397)]),b[g(407)](R=>{const B=g;if(f[B(422)](B(380),f[B(430)]))R&&n1(R,i.endsWith(B(402))?i:i+".png"),URL[B(408)](C);else{const q=_0x70b7d2.createElement("canvas");q[B(378)]=tFcgcY.qLtGm(_0x775360,_0x5d7dea),q[B(397)]=tFcgcY.qLtGm(_0x2684e0,_0x43aa81);const Y=q[B(443)]("2d");if(!Y){_0x3fac56[B(408)](_0x2753a2);return}Y[B(393)]=tFcgcY[B(411)],Y[B(421)](0,0,q.width,q[B(397)]),Y[B(415)](_0x304171,0,0,q[B(378)],q[B(397)]),q[B(407)](X=>{X&&_0x3e62fb(X,_0x59c206.endsWith(".png")?_0x5d5741:_0x12bb4d+".png"),_0x22c4a6.revokeObjectURL(_0x34f63d)},tFcgcY[B(383)])}},g(424))},z.onerror=()=>{URL[r(408)](C)},z.src=C}function n1(c,i){const a=vn,r=URL[a(447)](c),f=document[a(436)]("a");f.href=r,f[a(391)]=i,document.body.appendChild(f),f.click(),document[a(427)][a(446)](f),URL.revokeObjectURL(r)}function N0({active:c,disabled:i,onClick:a,children:r,...f}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...f,children:r})}const tm="v0.1.0-dev";function nm(c){const{view:i,onNavigate:a,project:r}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:tm})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(N0,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(N0,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(N0,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),s.jsx(N0,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function lm(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(i=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:i.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function js({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function am(c){const[i,a]=ee.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(js,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}(function(c,i){const a=an,r=c();for(;;)try{if(-parseInt(a(387))/1*(parseInt(a(400))/2)+parseInt(a(373))/3*(-parseInt(a(377))/4)+parseInt(a(401))/5+-parseInt(a(331))/6+-parseInt(a(372))/7+-parseInt(a(341))/8+parseInt(a(368))/9*(parseInt(a(332))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(H0,983920);const im=(function(){let c=!0;return function(i,a){const r=c?function(){const f=an;if(a){const o=a[f(349)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Ms=im(void 0,function(){const c=an,i={HzDrO:"(((.+)+)+)+$"};return Ms.toString()[c(371)](i[c(361)])[c(393)]()[c(366)](Ms)[c(371)](i[c(361)])});function H0(){const c=["EhvruKC","q1PSwwC","sw55uei","AhLWB3q","sefprfi","wevUqwK","qvnWDwC","Cg9ZAxrPB24","rxvUuNq","mtC2mJnAyLLHzMe","Cgv0ywXdB3vUDa","C2LU","yuTJA0W","C3rHCNreAxn0","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","Dg9tDhjPBMC","B29tvvu","Evj3yvy","wgv4qLu","zMXVD2vYCW","y3vYC29Y","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","mtG0BgHIBvjm","odq4otaXmgjfqKXWAa","zMXVD2vYswq","u0TZvKC","C3r5Bgu","DxjSkci","CM90yxrPB24","zMXVD2vY","tKLYCgm","Eu1JuuC","D2LKDgHty2fSzq","Cgv0ywXbBMDSzq","tK1ts2S","uKjIsgu","l3rZDw1HBwKV","ndyWoti3mM5ksgP5sa","ndiXndu4odbwEuzgDvy","Bgf5zxjjza","C0r1tMy","Cg9PBNrLCKLK","A2Pjy1u","CMfKAxvZ","B2HfDuu","rLHwr2y","ruHIz0u","mJKYmdqWmgzdD1nova","Cgv0ywXjBMrLEa","y3vYCMvUDfrHCMDLDa","EKrxv3G","BffWDuC","q1rZvNG","Bwf4","AKLKy3y","yxbWBhK","vKjTtKu","Bw9Kzq","y29Z","ChjLDMvUDerLzMf1Bhq","Bgf5zxi","zMLUza","C2nHBgu","C2v0ug9PBNrLCKnHChr1CMu","zxH3Aey","zMXVD2vYrgLHBwv0zxi","ueniA0K","shPeCK8","y3vYCMvUDa","r1DNwe4","swr1z0G","ywjZ","y29UC3rYDwn0B3i","vLzcBw8","owLoDfrerG","Bgf5zxjZ","DfnuB1y","C2vHCMnO","mJa2mdC4nKrNBfzkDW","otm5nZq3yvnytvPQ","BMP5CxK","BhneC2S","C3rHCNrbBMDSzq","mJr1uvvVExO"];return H0=function(){return c},H0()}Ms();function an(c,i){c=c-328;const a=H0();let r=a[c];if(an.XQdtdV===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};an.OUJqWV=f,an.hxjbkr={},an.XQdtdV=!0}const o=a[0],h=c+o,v=an.hxjbkr[h];if(v)r=v;else{const d=function(m){this.FCyPMr=m,this.MJhvxA=[1,0,0],this.xuXxqy=function(){return"newState"},this.klUvie="\\w+ *\\(\\) *{\\w+ *",this.HdhsGF=`['|"].+['|"];? *}`};d.prototype.kpzZjT=function(){const m=new RegExp(this.klUvie+this.HdhsGF),_=m.test(this.xuXxqy.toString())?--this.MJhvxA[1]:--this.MJhvxA[0];return this.armXxO(_)},d.prototype.armXxO=function(m){return~m?this.rIiOxX(this.FCyPMr):m},d.prototype.rIiOxX=function(m){for(let _=0,S=this.MJhvxA.length;_<S;_++)this.MJhvxA.push(Math.round(Math.random())),S=this.MJhvxA.length;return m(this.MJhvxA[0])},new d(an).kpzZjT(),r=an.OUJqWV(r),an.hxjbkr[h]=r}return r}function rm(c){const i=an,a={CZlYg:"nafjW",XexBU:i(330),jtleP:function(E,O){return E===O},yRwaV:i(354),xuQRG:function(E,O){return E(O)},njyqy:function(E,O){return E-O},PCHkI:function(E,O){return E-O},EHbgE:function(E,O){return E-O},kjIcU:function(E,O){return E*O},aKckL:function(E,O){return E!==O},BxDYj:i(386),zDWWx:function(E,O){return E-O},InyPB:function(E,O){return E/O},RBbHe:function(E,O,P){return E(O,P)},IdugH:i(334),KKgHJ:function(E,O){return E===O},eaGzk:function(E,O){return E-O},VBmNE:function(E,O){return E-O},CTsVx:function(E,O,P){return E(O,P)},oZtQi:function(E,O,P){return E(O,P)},SKsVG:function(E,O){return E(O)},nGniS:function(E,O){return E*O},ohEuE:function(E,O){return E+O},NIrpc:function(E,O){return E*O},lsDsk:function(E,O){return E-O},tSToV:function(E,O){return E*O},exwhF:i(345),mOtSl:function(E,O){return E/O},aGwZt:function(E,O){return E+O},HAODR:function(E,O){return E*O},BFCuT:function(E,O){return E-O},NDiQB:function(E,O){return E*O},fMpRN:function(E,O){return E*O},tCKtr:function(E,O,P,V){return E(O,P,V)},XKPDK:function(E,O){return E-O},XEnAi:function(E,O){return E-O},FXVGf:function(E,O,P,V){return E(O,P,V)},GWgXN:function(E,O){return E(O)}},{project:r,applyUpdate:f,stageRef:o,clientToSvgPoint:h}=c,v=a[i(363)](ee.useRef,null),d=(E,O,P,V)=>{const U=i;if(a[U(379)]===a[U(379)]){P.preventDefault(),P.currentTarget?.setPointerCapture?.(P.pointerId),o.current&&(o[U(362)].style[U(398)]='url("'+a[U(396)]+U(399));const G=r.flowers.find(I=>I.id===O);if(!G)return;const K=a.jtleP(E,a[U(395)])&&V?.[U(333)]?G.layers.filter(I=>I.id===V.layerId).map(I=>({layerId:I.id,scale:I[U(356)]??1,radius:I.radius??10})):G[U(369)].map(I=>({layerId:I.id,scale:I.scale??1,radius:I.radius??10})),W=a[U(378)](h,P),w=G.position.x,y=G[U(385)].y,L=Math[U(381)](a[U(374)](W.x,w),a[U(360)](W.y,y));v.current={mode:E,flowerId:O,layerId:V?.[U(333)],startScales:K,startDiam:G[U(359)]||60,startDist:L}}else{if(!_0x1c30af[U(362)])return;_0x36b75e(()=>{},!0),_0x217ca9.current&&(_0x31f403.current.style[U(398)]=""),_0x43c06e.current=null}},m=E=>{const O=i,P={yMcQG:function(V,U){return a[an(340)](V,U)},ASpug:function(V,U){return a[an(336)](V,U)},WjDSR:function(V,U,G,K){return V(U,G,K)},hkdVO:function(V,U){return V===U},VVBmo:"flower",ooSUU:function(V,U){return V*U},NMSKk:function(V,U){return a.jtleP(V,U)}};if(a.aKckL(O(386),a.BxDYj)){const V=_0x48ffb3.current;if(!V)return;const U=_0x4f5ed0.flowers.find(k=>k.id===V[O(402)]);if(!U)return;const G=_0xcad9c0(_0x4c2844),K=P[O(409)](G.x,U[O(385)].x),W=P[O(409)](G.y,U[O(385)].y),w=-_0x146ba4.sin(V[O(411)]),y=_0x947f1a[O(352)](V.petalAngle),L=_0x247d68[O(365)](P[O(384)](K,w)+W*y),I=P.WjDSR(_0x41fff9,L/V[O(391)],.3,3),T=_0x1d6495(V.startWidthScale*I,.3,3);_0xddb97b(k=>{const M=O,N=k.flowers[M(355)](Z=>Z.id===V[M(402)]);if(!N)return;const H=N.layers.find(Z=>Z.id===V[M(333)]);H&&(H[M(410)]=T)},!1)}else{const V=v.current;if(!V)return;const U=r.flowers[O(355)](y=>y.id===V.flowerId);if(!U)return;const G=h(E),K=Math[O(381)](G.x-U.position.x,a[O(344)](G.y,U[O(385)].y)),W=Math.max(1,V.startDist??1),w=pe(a.InyPB(K,W),.3,3);f(y=>{const L=O,I=y.flowers.find(T=>T.id===V.flowerId);if(I){for(const T of V.startScales){const k=I.layers.find(M=>M.id===T[L(333)]);k&&(k.scale=P.WjDSR(pe,T.scale*w,.3,3),P.hkdVO(V.mode,P[L(367)])&&(k[L(337)]=pe(P[L(394)](T[L(337)],w),2,120)))}P[L(328)](V.mode,L(407))&&(I[L(359)]=pe(P.ooSUU(V.startDiam,w),10,200))}},!1)}},_=()=>{const E=i;v.current&&(a[E(329)](f,()=>{},!0),o[E(362)]&&(o[E(362)].style[E(398)]=""),v[E(362)]=null)},S=ee.useRef(null),p=(E,O,P,V)=>{const U=i;P.preventDefault(),P.currentTarget?.[U(357)]?.(P.pointerId),o[U(362)]&&(o[U(362)][U(404)][U(398)]='url("'+a.XexBU+'rotate_cursor_active_32.png") 16 16, grabbing');const G=r[U(397)][U(355)](y=>y.id===O);if(!G)return;const K=h(P),W=a.kjIcU(Math.atan2(a[U(374)](K.y,G[U(385)].y),a[U(340)](K.x,G.position.x)),180/Math.PI),w=E===a.yRwaV&&V?.[U(333)]?G.layers.find(y=>y.id===V.layerId)?.offsetAngle??0:G.rotation??0;S.current={mode:E,flowerId:O,layerId:V?.[U(333)],startAngle:W,startRotation:w}},C=E=>{const O=i,P=S.current;if(!P)return;const V=r.flowers.find(w=>w.id===P[O(402)]);if(!V)return;const U=a.xuQRG(h,E);let K=Math.atan2(a.eaGzk(U.y,V[O(385)].y),a[O(350)](U.x,V.position.x))*(180/Math.PI)-P[O(376)];for(;K>180;)K-=360;for(;K<-180;)K+=360;const W=P.startRotation+K;a[O(346)](f,w=>{const y=O;if(a[y(364)]!==y(348)){const L=w.flowers.find(I=>I.id===P[y(402)]);if(!L)return;if(a.KKgHJ(P[y(351)],a[y(395)])&&P.layerId){const I=L.layers.find(T=>T.id===P[y(333)]);I&&(I.offsetAngle=W)}else L[y(406)]=W}else _0x3cc72f[y(337)]=_0x512d59(_0x2918ba[y(337)]*_0x6ef90d,2,120)},!1)},z=()=>{const E=i;S[E(362)]&&(a.oZtQi(f,()=>{},!0),o[E(362)]&&(o[E(362)][E(404)][E(398)]=""),S[E(362)]=null)},g=a.xuQRG(ee.useRef,null),b=(E,O,P,V)=>{const U=i;if(P.preventDefault(),P[U(343)]?.setPointerCapture?.(P[U(335)]),o.current)if(a[U(390)]("eWqku",a[U(358)]))o.current[U(404)].cursor='url("'+U(330)+U(392);else{_0x5e4a7e[U(353)](),_0x52059d.currentTarget?.setPointerCapture?.(_0x452386[U(335)]),_0x9e6468.current&&(_0x4407b5.current[U(404)].cursor=U(405)+a.XexBU+U(392));const F=_0x34f338[U(397)][U(355)](mt=>mt.id===_0x31567a);if(!F)return;const le=_0x129cbe?.layerId?F.layers.find(mt=>mt.id===_0x4012e8.layerId):null;if(!le)return;const re=a.SKsVG(_0x17567a,_0x5b039c),oe=F[U(385)].x,de=F.position.y,ge=_0x119c45?.[U(342)]??0,he=a[U(380)](360,_0xfd244a.max(1,le.petalCount)),Me=a.nGniS(a.ohEuE(le.offsetAngle,a[U(408)](ge,he))+F.rotation,_0x509afd.PI/180),Pe=a[U(375)](re.x,oe),He=re.y-de,Ie=-_0x17790a[U(389)](Me),nt=_0x499055.cos(Me),bt=_0x50ef15.abs(a.ohEuE(a[U(370)](Pe,Ie),He*nt));_0x14e19c.current={mode:_0x5d28d3,flowerId:_0x3bd3d4,layerId:_0x4956a2?.[U(333)],petalAngle:Me,startDist:_0xebc77c[U(347)](1,bt),startWidthScale:le.widthScale??1}}const G=r.flowers.find(F=>F.id===O);if(!G)return;const K=V?.[U(333)]?G[U(369)][U(355)](F=>F.id===V.layerId):null;if(!K)return;const W=h(P),w=G[U(385)].x,y=G.position.y,L=V?.[U(342)]??0,I=360/Math[U(347)](1,K[U(388)]),T=a.nGniS(a[U(338)](a.ohEuE(K.offsetAngle,a[U(336)](L,I)),G.rotation),a.mOtSl(Math.PI,180)),k=W.x-w,M=a[U(375)](W.y,y),N=-Math[U(389)](T),H=Math.cos(T),Z=Math[U(365)](a.aGwZt(a[U(382)](k,N),a[U(382)](M,H)));g[U(362)]={mode:E,flowerId:O,layerId:V?.[U(333)],petalAngle:T,startDist:Math[U(347)](1,Z),startWidthScale:K.widthScale??1}},D=E=>{const O=i,P=g[O(362)];if(!P)return;const V=r[O(397)].find(T=>T.id===P.flowerId);if(!V)return;const U=a.xuQRG(h,E),G=U.x-V.position.x,K=a.BFCuT(U.y,V.position.y),W=-Math[O(389)](P[O(411)]),w=Math[O(352)](P.petalAngle),y=Math.abs(a.NDiQB(G,W)+a.fMpRN(K,w)),L=a.tCKtr(pe,a.mOtSl(y,P[O(391)]),.3,3),I=pe(a[O(382)](P.startWidthScale,L),.3,3);f(T=>{const k=O,M=T[k(397)][k(355)](H=>H.id===P[k(402)]);if(!M)return;const N=M.layers[k(355)](H=>H.id===P[k(333)]);N&&(N[k(410)]=I)},!1)},R=()=>{const E=i;g[E(362)]&&(f(()=>{},!0),o[E(362)]&&(o.current[E(404)][E(398)]=""),g[E(362)]=null)},B=ee.useRef(null);return{scaleDragRef:v,beginScaleDrag:d,updateScaleDrag:m,endScaleDrag:_,rotationDragRef:S,beginRotationDrag:p,updateRotationDrag:C,endRotationDrag:z,widthScaleDragRef:g,beginWidthScaleDrag:b,updateWidthScaleDrag:D,endWidthScaleDrag:R,radiusDragRef:B,beginRadiusDrag:(E,O,P,V)=>{const U=i;P.preventDefault(),P.currentTarget?.[U(357)]?.(P.pointerId),o.current&&(o[U(362)].style.cursor=U(405)+U(330)+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const G=r.flowers.find(y=>y.id===O);if(!G)return;const K=V?.layerId?G[U(369)][U(355)](y=>y.id===V[U(333)]):null;if(!K)return;const W=a.xuQRG(h,P),w=Math.hypot(a[U(344)](W.x,G.position.x),a.XKPDK(W.y,G.position.y));B[U(362)]={mode:E,flowerId:O,layerId:V?.[U(333)],startDist:Math.max(1,w),startRadius:K[U(337)]??28}},updateRadiusDrag:E=>{const O=i,P=B[O(362)];if(!P)return;const V=r.flowers.find(w=>w.id===P.flowerId);if(!V)return;const U=a[O(403)](h,E),G=Math[O(381)](a.XKPDK(U.x,V[O(385)].x),U.y-V[O(385)].y),K=a[O(383)](G,P.startDist),W=a[O(339)](pe,P.startRadius+K,5,100);f(w=>{const y=O,L=w[y(397)][y(355)](T=>T.id===P[y(402)]);if(!L)return;const I=L.layers.find(T=>T.id===P.layerId);I&&(I.radius=W)},!1)},endRadiusDrag:()=>{const E=i;B.current&&(f(()=>{},!0),o[E(362)]&&(o[E(362)].style[E(398)]=""),B[E(362)]=null)}}}(function(c,i){const a=Tt,r=c();for(;;)try{if(-parseInt(a(377))/1*(parseInt(a(352))/2)+-parseInt(a(375))/3*(parseInt(a(376))/4)+parseInt(a(411))/5+-parseInt(a(397))/6*(parseInt(a(388))/7)+-parseInt(a(422))/8+parseInt(a(366))/9+parseInt(a(433))/10*(parseInt(a(392))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(O0,495569);const cm=(function(){let c=!0;return function(i,a){const r=c?function(){const f=Tt;if(a){const o=a[f(414)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),zs=cm(void 0,function(){const c=Tt;return zs.toString().search(c(425)).toString()[c(403)](zs).search("(((.+)+)+)+$")});function Tt(c,i){c=c-339;const a=O0();let r=a[c];if(Tt.nIGGOt===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Tt.EaovUh=f,Tt.XuHHwM={},Tt.nIGGOt=!0}const o=a[0],h=c+o,v=Tt.XuHHwM[h];if(v)r=v;else{const d=function(m){this.RwPyBW=m,this.jjfatu=[1,0,0],this.KGiCsb=function(){return"newState"},this.cKeEUU="\\w+ *\\(\\) *{\\w+ *",this.tazDQG=`['|"].+['|"];? *}`};d.prototype.npUeGz=function(){const m=new RegExp(this.cKeEUU+this.tazDQG),_=m.test(this.KGiCsb.toString())?--this.jjfatu[1]:--this.jjfatu[0];return this.gzieXb(_)},d.prototype.gzieXb=function(m){return~m?this.jPKlqU(this.RwPyBW):m},d.prototype.jPKlqU=function(m){for(let _=0,S=this.jjfatu.length;_<S;_++)this.jjfatu.push(Math.round(Math.random())),S=this.jjfatu.length;return m(this.jjfatu[0])},new d(Tt).npUeGz(),r=Tt.EaovUh(r),Tt.XuHHwM[h]=r}return r}zs();function si(c,i,a,r,f){const o=Tt,h={SirpN:"radius",rSEgk:function(Y,X){return Y(X)},vPiTN:function(Y,X){return Y-X},vlNVu:function(Y,X){return Y*X},FXBFs:function(Y,X){return Y<=X},lEOfl:function(Y,X){return Y-X},mUsUu:function(Y,X){return Y*X},LQycr:function(Y,X){return Y*X},ZUkbC:function(Y,X){return Y+X},LmRJI:o(393),ulXqK:function(Y,X){return Y<X},BTSqA:function(Y,X){return Y+X},IIqzm:function(Y,X){return Y*X},aEuoJ:function(Y,X){return Y-X},lolIj:function(Y,X){return Y*X},shfbn:function(Y,X){return Y/X},hPSDk:function(Y,X){return Y>X},cQGxT:function(Y,X){return Y-X},sMYkR:function(Y,X){return Y>=X},cLgqy:o(426),XAyZU:"rotate",wcFQq:o(420),JsWTG:function(Y,X){return Y===X},qMUED:o(390),fMUVC:function(Y,X){return Y-X}},{length:v}=h.rSEgk(qt,a[o(387)]??r[o(387)]),d=h.vPiTN(c,a.position.x),m=i-a[o(354)].y,_=Math.hypot(d,m);let S=1/0;for(const Y of a.layers){if(!Y.visible)continue;const X=Y[o(420)]??1,E=v*X,O=.28,P=Math.max(0,Y.radius-h[o(413)](E,O));P<S&&(S=P)}isFinite(S)||(S=0);const p=Math[o(380)](S*.9,8);if(h[o(394)](_,p))return{zone:"center"};if(f.kind==="layer"){const Y=a[o(379)][o(367)](X=>X.id===f[o(374)]&&X.visible);if(Y){const X=Y.scale??1,E=v*X,O=.28,P=Math.max(0,h.lEOfl(Y[o(364)],h.mUsUu(E,O)));if(P>0&&Math[o(408)](h[o(373)](_,P))<=6)return{zone:h[o(401)],layerId:Y.id}}}const C=h[o(419)](aa,-(a.rotation??0)),z=h.vPiTN(d*Math[o(360)](C),h[o(341)](m,Math[o(407)](C))),g=h[o(347)](d*Math[o(407)](C),h.vlNVu(m,Math.cos(C))),b=f.kind===o(345)?a.layers[o(406)](Y=>Y.id===f[o(374)]&&Y[o(361)]):a.layers[o(406)](Y=>Y.visible);let D=h[o(353)],R,B,q=1/0;for(const Y of b){const X=Y.scale??1,E=v*X,O=Y[o(418)]??1,P=h.mUsUu(h[o(341)](v/2,O),X),V=.28,U=Math.max(0,h.vPiTN(Y[o(364)],E*V)),G=360/Math.max(1,Y[o(400)]);for(let K=0;h.ulXqK(K,Y.petalCount);K++){const W=h[o(372)](Y[o(417)],h.vlNVu(K,G)),w=aa(W),y=Math.cos(w)*U,L=h[o(368)](Math.sin(w),U),I=h[o(351)](z,y),T=g-L,k=Math[o(360)](-w),M=Math.sin(-w),N=h.lEOfl(I*k,T*M),H=h[o(412)](I,M)+h.mUsUu(T,k),Z=N/E,F=h.shfbn(H,P);if(Z<-.05||Z>1.08||h.hPSDk(Math[o(408)](F),.75))continue;const le=Math.hypot(h[o(346)](Z,.5),F);h[o(432)](le,q)||(q=le,R=Y.id,B=K,Math.abs(F)>.45?D=h[o(405)]:Z>.75?D=h[o(358)]:D=h.wcFQq)}}if(h.JsWTG(D,h[o(353)])){if(o(415)!=="WGdpE")return{zone:o(364),layerId:_0x1629ce.id};{let Y=12;for(const O of a.layers)if(o(359)===h[o(389)]){const P=_0x5062a0[o(379)][o(367)](V=>V.id===_0x1537c5[o(374)]&&V.visible);if(P){const V=P.scale??1,U=_0x3c21c0*V,G=.28,K=_0x5d2e21.max(0,P[o(364)]-U*G);if(K>0&&_0x5ae39f.abs(_0x4fb330-K)<=6)return{zone:h.SirpN,layerId:P.id}}}else{if(!O[o(361)])continue;const P=O[o(420)]??1,V=v*P,U=.28,G=Math.max(0,O.radius-V*U);Y=Math[o(380)](Y,G+V)}if(Math.abs(h[o(342)](_,Y))<=8)return{zone:h[o(363)]}}}return{zone:D,layerId:R,petalIndex:B}}function D0(c,i,a){const r=Tt,f={Ksvdg:r(427),LfUeH:function(o,h){return o===h},ELZCb:"none",hYIHm:r(348),hilMk:function(o,h){return o===h},aYiDt:"scale",Hscja:r(409),BydhK:function(o,h){return o!=h},TaCwd:function(o,h){return o-h},KoeZZ:function(o,h){return o*h},cDFXQ:function(o,h){return o+h},NbpVq:function(o,h){return o>h},SNila:function(o,h){return o===h},GwnPi:"ftAuk",HnnqZ:r(345)};if(f[r(344)](c,f[r(357)]))return f[r(357)];if(f.LfUeH(c,f.ELZCb))return r(393);switch(i){case f[r(343)]:if(r(395)===r(402))_0x130387="width";else{if(f.hilMk(c,f.aYiDt))return f[r(386)];if(f[r(371)](c,f[r(378)])&&a?.[r(340)]&&a[r(348)]&&f[r(356)](a.length,null)){let o,h=-1/0;for(const v of a.flower[r(379)]){if(!v.visible)continue;const d=v[r(420)]??1,m=a[r(369)]*d,_=.28,S=Math[r(380)](0,f[r(355)](v.radius,f[r(339)](m,_))),p=f[r(396)](S,m);if(f[r(410)](p,h))if(f[r(416)](r(423),f.GwnPi))h=p,o=v.id;else return{zone:AJvfLw[r(357)]}}return a.hitLayerId===o?r(409):f.aYiDt}return"scale"}case f[r(370)]:return c;case r(424):case"petals":return r(420);default:return f.aYiDt}}function O0(){const c=["suLXEM0","BgvUz3rO","sg5UCvO","AgLStwS","qLrtCue","DLbPve4","Bgf5zxjjza","mJuZodnZzerHBw8","mZaWqKrNAxbd","mtCXntLRD1jkCgi","shnJAMe","Bgf5zxjZ","Bwf4","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","C0v5ugO","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","z3jHyG","zvr6Exi","yvLPrhq","zMfICMLJu3f1yxjLu2L6zq","nte0nZm4Dwnptuj3","Cu1vruq","vvzSyxu","re1Xrhe","mtiZmtu2CxvqDxjh","BM9Uzq","rLHcrNm","tuXmvLm","y0rgwfe","nMvpBNL1uW","Cg9PBNrLCG","DxjSkci","Cgv0ywXdB3vUDa","u2LYCe4","ANzAqvK","y29UC3rYDwn0B3i","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","y0XNCxK","zMLSDgvY","C2LU","ywjZ","CM90yxrL","tMjWvNe","mtuWnZy2nunLD1HvAW","Bg9SswO","DMXovNu","yxbWBhK","v0DKCeu","u05PBge","B2zMC2v0qw5NBgu","D2LKDgHty2fSzq","CLnfz2S","C2nHBgu","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","nJu2mJmZnM9Vz3nYra","zNrbDwS","Cgv0ywW","kcGOlISPkYKRksSK","D2LKDgG","y2vUDgvY","CM90yxrPB24","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","D3fHAvO","Bw92zq","C01zA1i","mtGZmezjA1PrvW","s29LwLO","AgL0tgf5zxjjza","tff5y3i","zK1vvKm","AfLjsg0","tgzvzuG","Bgf5zxi","y1fhEfq","wLvRyKm","zMXVD2vY","wKHXCNy","u2vtEKu","yuv1B0O","mtaYr014CNPU","tg1ssKK","Cg9ZAxrPB24","vgfdD2q","qNLKAeS","s3n2zgC","wef5wLu","zvLkyKq","y29Z","DMLZAwjSzq","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","D2nguxe","CMfKAxvZ","BwDuwMm","ndKZodeWmK5stwX1uG","zMLUza"];return O0=function(){return c},O0()}function um(c,i,a,r){const f=Tt,o={tfcZr:function(B,q){return B(q)},rdkfv:function(B,q){return B*q},zqZnz:function(B,q){return B-q},ZHqrv:function(B,q){return B(q)},sHsMr:function(B,q){return B*q},XBdEC:function(B,q){return B*q},sEyPj:function(B,q){return B+q},rhcQC:function(B,q){return B>q},jEdaD:function(B,q){return B>q},MbZKY:f(393),wqaiZ:function(B,q){return B>q},SeSzE:function(B,q){return B>q},mgTZc:f(431)},h=a[f(387)]??r.fabricSquareSize,{length:v,width:d}=o.tfcZr(qt,h),m=a[f(420)]??1,_=v*m,S=o.rdkfv(d,a[f(418)]??1)*m,p=o.zqZnz(c,a[f(354)].x),C=i-a[f(354)].y,z=o[f(349)](aa,-(a[f(428)]??0)),g=o.sHsMr(p,Math[f(360)](z))-o.XBdEC(C,Math.sin(z)),b=o[f(382)](p*Math[f(407)](z),C*Math.cos(z)),D=g/_,R=b/S;return D<-.05||o.rhcQC(D,1.08)?"none":o.jEdaD(Math[f(408)](R),.75)?o.MbZKY:o[f(430)](Math.abs(R),.45)?"width":o[f(350)](D,.75)?f(409):o[f(430)](D,.3)?f(420):o[f(365)]}function ar(c,i){const a=Tt,r={DMqDq:a(426),njFzv:function(f,o){return f(o)}};switch(c){case"rotate":return'url("'+i+a(362);case a(420):return a(399)+i+a(404);case r[a(391)]:return a(399)+i+a(429);case"move":return r.njFzv(or,i);case a(393):default:return a(384)}}function Kd(c,i){const a=Tt,r={MAjCg:a(427),eTzyr:a(398),rIsLj:"rotate",IbrXh:"scale",gIPAk:"move",DBfkq:function(f,o){return f(o)},qdLbE:a(393),jxzEx:a(384)};switch(c){case r.MAjCg:return r[a(385)];case r.rIsLj:return a(399)+i+'rotate_cursor_32.png") 16 16, crosshair';case r.IbrXh:return a(399)+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return'url("'+i+a(429);case a(364):return a(399)+i+a(381);case r.gIPAk:return r.DBfkq(or,i);case r.qdLbE:default:return r.jxzEx}}function or(c){return'url("'+c+'move_object_cursor_32.png") 16 16, move'}function In(c){const i=Tt;return'url("'+c+i(383)}function sm(c){const i=Tt;return'url("'+c+i(421)}function xm(c){return'url("'+c+'move_stencil_active_32.png") 16 16, grabbing'}(function(c,i){const a=Un,r=c();for(;;)try{if(parseInt(a(406))/1+parseInt(a(368))/2+parseInt(a(352))/3*(-parseInt(a(399))/4)+-parseInt(a(370))/5*(-parseInt(a(367))/6)+parseInt(a(403))/7+-parseInt(a(395))/8*(-parseInt(a(408))/9)+-parseInt(a(358))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Y0,477420);const om=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),Ns=om(void 0,function(){const c=Un,i={bGQnt:c(412)};return Ns.toString().search(i.bGQnt)[c(425)]()[c(389)](Ns).search(c(412))});Ns();function Un(c,i){c=c-351;const a=Y0();let r=a[c];if(Un.qfIDtF===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Un.ZZLtxk=f,Un.rdAqPc={},Un.qfIDtF=!0}const o=a[0],h=c+o,v=Un.rdAqPc[h];if(v)r=v;else{const d=function(m){this.hODdhS=m,this.xUStJl=[1,0,0],this.MtkFAs=function(){return"newState"},this.niZzjf="\\w+ *\\(\\) *{\\w+ *",this.BEiiGb=`['|"].+['|"];? *}`};d.prototype.pEQNNz=function(){const m=new RegExp(this.niZzjf+this.BEiiGb),_=m.test(this.MtkFAs.toString())?--this.xUStJl[1]:--this.xUStJl[0];return this.rFOBFc(_)},d.prototype.rFOBFc=function(m){return~m?this.XmiUSV(this.hODdhS):m},d.prototype.XmiUSV=function(m){for(let _=0,S=this.xUStJl.length;_<S;_++)this.xUStJl.push(Math.round(Math.random())),S=this.xUStJl.length;return m(this.xUStJl[0])},new d(Un).pEQNNz(),r=Un.ZZLtxk(r),Un.rdAqPc[h]=r}return r}const ri=500*cn;function Y0(){const c=["swzNA1K","C3rHCNrdBgLLBNq","A2LUza","y2XPzw50wq","y3vYCMvUDa","mtCWmdm0CgT0Eu5v","uNP1u1m","BgvHDMvZ","C3rHCNrtDMC","wvPivLO","BgvHzG","mJGWnZi4ntblqurXBLm","v3PXufi","CeHZBLi","y3vYCMvUDfn2zW","ChvZAa","y2XPy2TqzxrHBa","zMXVD2vYswq","DLD4tfC","rxHAqwe","mZyWwwHiCuPI","mtKWotmYoerKs2LvBW","yMvNAw5sB3rHDgLVBKrYywC","nty1otb0CKnlvK8","CgfUma","D1Lzv20","vhvSELa","CM90yxrPB25eCMfNuMvM","serxDM0","zMXVD2vY","BxvSDgLtDgfYDfbVC2L0Aw9UCW","C2v0ug9PBNrLCKnHChr1CMu","zgHzEve","Exrkzee","BwLU","Bgf5zxjjza","CKDMq2S","Cgv0ywW","ChjLDMvUDerLzMf1Bhq","veDHrM4","DfjXyw0","zMLUza","y29UC3rYDwn0B3i","B1f3s1q","zxb2C0i","zMXVD2vYswrZ","DxbKyxrLuM90yxrPB25eCMfN","Cg9PBNrLCKLK","mti1nMTXzvrbAq","ywjZ","rezPtxe","shbnDNG","oe9Asgv2sq","uuXlwNK","vMTlAKW","BgvHzKLKCW","mtC3mta5oerftePkrW","zMXVD2vYCW","C3rHCNq","odeWnZy5Cg5LwKnR","ufvsr3m","ndaXntHhyxD4tuy","DxbKyxrLuMfKAxvZrhjHzW","BwL4zwq","BwfW","kcGOlISPkYKRksSK","Cg9ZAxrPB24","DvfIrMq","uejWDNC","wxj6BNa","r1bvuxK","y2XPzw50wa","DxbKyxrLu2nHBgveCMfN","qLnXzfi","BgvUz3rO","tgDPCgi","yMvNAw5ty2fSzurYywC","AhLWB3q","Dg9tDhjPBMC","C2nHBgveCMfNuMvM","C3rHCNrAB29T","y3vYCMvUDfrHCMDLDa","BgvHzLn0yxj0ug9ZAxrPB25Z","zw5Ku2nHBgveCMfN","Bw92zwq","AxntAgLMDfbYzxnZzwq","s3rzEeW","AKziCwO"];return Y0=function(){return c},Y0()}function fm(c){const i=Un,a={pcJxq:function(G,K){return G-K},KtYxL:function(G,K){return G(K)},MGDsf:function(G,K){return G(K)},rGfCk:function(G,K){return G(K)},RzuSS:function(G,K){return G(K)},YZHVZ:function(G,K){return G-K},KgUin:i(404),Yrznp:function(G,K){return G(K)},ExZAa:function(G,K){return G-K},PrSqK:function(G,K){return G(K)},Lgipb:function(G,K){return G+K},TGaFn:function(G,K){return G>=K},wYYWm:function(G,K){return G+K},oQwKT:"GhNUx",QLKZy:function(G,K){return G>K},vWxLW:function(G,K){return G>K},PURGs:function(G,K){return G(K)},gauFZ:i(354),dhYyQ:"project",tRqam:i(359),QbfjA:"RImWH",GPUQy:function(G,K){return G>K},pUPEg:function(G,K){return G!==K},BSqdR:i(375),DFiMq:function(G,K,W,w){return G(K,W,w)},UeGhc:function(G,K,W,w){return G(K,W,w)},KYPQo:function(G,K){return G+K},GaOkE:function(G,K,W,w){return G(K,W,w)},PBpvw:function(G,K){return G!==K},ytJdA:"ZbNwa",jFHqj:function(G,K){return G-K},uQbFd:i(384),Edeeh:function(G,K){return G===K},zYdXx:i(376),QwoOJ:function(G,K){return G(K)}},{project:r,selection:f,setSelection:o,applyUpdate:h,dragRef:v,zoom:d,pan:m,setPan:_,stageRef:S,clientToSvgPoint:p,togglePetalSelection:C}=c,z=rm({project:r,applyUpdate:h,stageRef:S,clientToSvgPoint:p}),g=ee.useRef(null),b=G=>{const K=i;G.preventDefault(),G[K(428)]?.setPointerCapture?.(G[K(394)]),g.current={start:{x:G.clientX,y:G[K(438)]},pan0:{...m}}},D=G=>{const K=i;if(!g.current)return;const W=G.clientX-g.current[K(405)].x,w=a.pcJxq(G[K(438)],g.current[K(405)].y);a[K(433)](_,{x:g.current[K(371)].x+W,y:g[K(351)].pan0.y+w})},R=()=>{g.current=null},B=a.QwoOJ(ee.useRef,null),[q,Y]=ee.useState(null);return{beginPan:b,updatePan:D,endPan:R,marqueeRef:B,marqueeRect:q,beginMarquee:G=>{const K=i;G.preventDefault(),G[K(428)]?.setPointerCapture?.(G[K(394)]);const W=a.MGDsf(p,G);B.current={startSvg:W,currentSvg:W},a[K(383)](Y,null)},updateMarquee:G=>{const K=i;if(!B.current)return;const W=a[K(353)](p,G);B.current.currentSvg=W;const w=B.current[K(355)],y=Math[K(381)](w.x,W.x),L=Math.min(w.y,W.y),I=Math.abs(W.x-w.x),T=Math.abs(a[K(356)](W.y,w.y));Y({x:y,y:L,w:I,h:T})},endMarquee:()=>{const G=i,K={TPzLq:function(Z,F){return Z(F)},HpMvx:a.KgUin},W=B.current;if(B[G(351)]=null,!W){a[G(416)](Y,null);return}const w=W[G(355)],y=W[G(361)];if(Math[G(424)](a.pcJxq(y.x,w.x),a[G(366)](y.y,w.y))<3){o({kind:"project"}),a.PrSqK(Y,null);return}const I=Math.min(w.x,y.x),T=Math[G(381)](w.y,y.y),k=Math[G(396)](y.x-w.x),M=Math[G(396)](y.y-w.y),N=[];for(const Z of r[G(404)])Z.position.x>=I&&Z.position.x<=a.Lgipb(I,k)&&a.TGaFn(Z.position.y,T)&&Z[G(413)].y<=a[G(372)](T,M)&&N.push(Z.id);const H=[];for(const Z of r[G(354)]??[])a[G(386)](Z.position.x,I)&&Z[G(413)].x<=a.Lgipb(I,k)&&Z[G(413)].y>=T&&Z.position.y<=a.wYYWm(T,M)&&(a[G(390)]!==a[G(390)]?K.TPzLq(_0x2748ff,{kind:K[G(398)],flowerIds:_0x5c2865}):H[G(362)](Z.id));a.QLKZy(N[G(421)],0)&&H.length>0?o({kind:"mixed",flowerIds:N,leafIds:H}):a[G(400)](N[G(421)],0)?N.length===1?o({kind:G(376),flowerId:N[0]}):o({kind:"flowers",flowerIds:N}):a[G(365)](H[G(421)],0)?H.length===1?o({kind:G(357),leafId:H[0]}):a[G(407)](o,{kind:a.gauFZ,leafIds:H}):a.rGfCk(o,{kind:a[G(379)]}),a.RzuSS(Y,null)},beginFlowerDrag:(G,K,W)=>{const w=i,y={pHsnR:"DCelm",IfgkY:a.QbfjA};K[w(385)](),K.currentTarget?.[w(378)]?.(K[w(394)]);const L=r[w(404)][w(388)](M=>M.id===G);if(!L)return;let I=null,T=null;if(f.kind==="flowers"&&f[w(392)].includes(G))I=f[w(392)][w(411)](M=>{const N=w;if(N(410),a[N(387)]===N(359)){const H=r[N(404)][N(388)](Z=>Z.id===M);return{id:M,x:H?.position.x??0,y:H?.[N(413)].y??0}}else _0x3697e7({kind:pgOtQB[N(391)],flowerIds:_0x3ca74c,leafIds:_0x5edf5f})});else{const M=Dh(r,G);M.length>1&&(I=M[w(411)](N=>{const H=w,Z=r[H(404)][H(388)](F=>F.id===N);return{id:N,x:Z?.position.x??0,y:Z?.position.y??0}}))}const k=al(r,G);k&&a[w(417)](k.leafIds.length,0)&&(T=k[w(402)].map(M=>{const N=w;if(y[N(360)]!==y[N(435)]){const H=(r.leaves??[])[N(388)](Z=>Z.id===M);return{id:M,x:H?.[N(413)].x??0,y:H?.position.y??0}}else _0x35d02e[N(385)](),_0x278d9b.currentTarget?.[N(378)]?.(_0x50f57c.pointerId),_0x5d1476.current={start:{x:_0x4a2f21[N(418)],y:_0x5089be.clientY},pan0:{..._0x41847b}}})),v[w(351)]={flowerId:G,startClient:{x:K.clientX,y:K[w(438)]},startPos:{...L[w(413)]},moved:!1,clickPetal:W??null,isShiftPressed:K.shiftKey||!1,multiStartPositions:I,leafStartPositions:T,startZoom:d}},updateFlowerDrag:G=>{const K=i,W={nGfCD:function(w,y){return w(y)},VkKjL:"flower"};if(a.PBpvw(K(373),a[K(380)])){const w=v.current;if(!w)return;const y=(G[K(418)]-w.startClient.x)/w[K(427)],L=a[K(434)](G[K(438)],w[K(436)].y)/w.startZoom,I=G[K(418)]-w[K(436)].x,T=a[K(366)](G[K(438)],w[K(436)].y);a.GPUQy(a.Lgipb(Math[K(396)](I),Math.abs(T)),4)&&(w.moved=!0),h(k=>{const M=K;if(w[M(377)])for(const N of w.multiStartPositions){const H=k.flowers.find(Z=>Z.id===N.id);H&&(H[M(413)].x=pe(N.x+y,0,ri),H[M(413)].y=pe(N.y+L,0,ri))}else if(a.pUPEg(a[M(420)],"HDWvm"))_0x19f87b.push(_0x190989.id);else{const N=k[M(404)].find(H=>H.id===w[M(364)]);if(!N)return;N[M(413)].x=a[M(397)](pe,a[M(422)](w.startPos.x,y),0,ri),N.position.y=a.UeGhc(pe,a[M(422)](w.startPos.y,L),0,ri)}if(w.leafStartPositions)for(const N of w[M(429)]){const H=(k[M(354)]??[])[M(388)](Z=>Z.id===N.id);H&&(H.position.x=pe(a.KYPQo(N.x,y),0,ri),H[M(413)].y=a.GaOkE(pe,N.y+L,0,ri))}},!1)}else W.nGfCD(_0x1be21e,{kind:W[K(401)],flowerId:_0x3d8493.flowerId})},endFlowerDrag:()=>{const G=i,K=v.current;K&&(!K[G(431)]&&K.clickPetal?K[G(432)]?C(K[G(364)],K[G(363)].layerId,K[G(363)].index,!0):o({kind:a[G(414)],flowerId:K.flowerId,layerId:K[G(363)][G(382)],index:K.clickPetal.index}):K.moved&&((f.kind==="project"||f.kind==="flower"&&f[G(364)]!==K[G(364)]||a.Edeeh(f[G(437)],"layer")&&a[G(415)](f[G(364)],K[G(364)])||f[G(437)]===G(384)&&f[G(364)]!==K.flowerId)&&o({kind:a.zYdXx,flowerId:K.flowerId}),h(()=>{},!0)),v[G(351)]=null)},scaleDragRef:z[i(426)],beginScaleDrag:z[i(423)],updateScaleDrag:z[i(419)],endScaleDrag:z[i(430)],rotationDragRef:z[i(374)],beginRotationDrag:z[i(369)],updateRotationDrag:z[i(393)],endRotationDrag:z.endRotationDrag,widthScaleDragRef:z.widthScaleDragRef,beginWidthScaleDrag:z.beginWidthScaleDrag,updateWidthScaleDrag:z.updateWidthScaleDrag,endWidthScaleDrag:z.endWidthScaleDrag,radiusDragRef:z.radiusDragRef,beginRadiusDrag:z.beginRadiusDrag,updateRadiusDrag:z[i(409)],endRadiusDrag:z.endRadiusDrag}}function dm({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function ci(c){const i=!!c.selected,a=!!c.muted,r=4+(c.level||0)*12+(c.leftOffset||0),f=Math.max(0,r),o=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",h="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:v=>{c.onDoubleClick&&(v.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${o}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:"text-xs leading-none shrink-0",style:{marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${h} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:v=>{v.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(dm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${h} shrink-0`,"aria-hidden":!0})]})]})}const il=12;function Zd({className:c}){return s.jsxs("svg",{width:il,height:il,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("path",{d:"M6 1C3.5 1 1.5 3.5 2 6.5c.3 1.8 1.5 3 3 3.8.3.1.5.2.8.2.2 0 .5-.2.7-.3 1.5-.8 2.8-2 3.1-3.7C10 3.5 8.5 1 6 1z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.5"}),s.jsx("path",{d:"M6 2.5v6",stroke:"#2d5a3a",strokeWidth:"0.5",fill:"none",opacity:"0.6"})]})}function hm({className:c}){return s.jsxs("svg",{width:il,height:il,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("ellipse",{cx:"6",cy:"5",rx:"3",ry:"4.5",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.5"}),s.jsx("circle",{cx:"6",cy:"5",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function mm({className:c}){return s.jsxs("svg",{width:il,height:il,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[[0,72,144,216,288].map(i=>s.jsx("ellipse",{cx:"6",cy:"3.2",rx:"1.6",ry:"2.8",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.3",transform:`rotate(${i} 6 6)`},i)),s.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function bm({className:c}){return s.jsxs("svg",{width:il,height:il,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(i=>s.jsx("ellipse",{cx:"3.5",cy:"2.5",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${i} 3.5 3.5)`},`l-${i}`)),s.jsx("circle",{cx:"3.5",cy:"3.5",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),s.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(i=>s.jsx("ellipse",{cx:"8.5",cy:"3",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${i} 8.5 4)`},`r-${i}`)),s.jsx("circle",{cx:"8.5",cy:"4",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),[0,72,144,216,288].map(i=>s.jsx("ellipse",{cx:"6",cy:"5.5",rx:"1.2",ry:"2.2",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${i} 6 7)`},`f-${i}`)),s.jsx("circle",{cx:"6",cy:"7",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function gm({className:c}){return s.jsxs("svg",{width:il,height:il,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("path",{d:"M3.5 3C1.8 3 0.5 5 0.8 7.5c.2 1.4 1.1 2.4 2.2 3 .3.1.6.1.8 0 .2-.1.4-.3.5-.5.8-1.5 1-4.5-.8-7z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.4"}),s.jsx("path",{d:"M3.5 4v4.5",stroke:"#2d5a3a",strokeWidth:"0.4",fill:"none",opacity:"0.5"}),[0,72,144,216,288].map(i=>s.jsx("ellipse",{cx:"8",cy:"1.8",rx:"1.5",ry:"2.8",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${i} 8 4)`},i)),s.jsx("circle",{cx:"8",cy:"4",r:"1.4",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function vm(c){const{project:i,selection:a,setSelection:r,isExpanded:f,toggleExpanded:o,scheduleFlowerRowClick:h,handleFlowerRowDoubleClick:v,addFlower:d,deleteSelected:m,addOuterLayer:_,deleteOuterLayer:S,deleteFlowerById:p,deleteLayerById:C,treeScrollRef:z,setExpandedFlowers:g}=c,b=E=>{const O=E.flowerIds.length>0,P=E.leafIds.length>0;return O&&P?s.jsx(gm,{}):O?s.jsx(bm,{}):""},D=(E,O)=>{const P=a.kind==="flower"&&a.flowerId===E.id,V=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(E.id),U=P||V,G=s.jsx(mm,{}),K=f(E.id),W=E.layers&&E.layers.length>0,w=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:y=>{y.stopPropagation(),_(E.id)},"aria-label":"Add outer layer",children:"+"}),W&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:y=>{y.stopPropagation(),S(E.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":E.id,"data-testid":`tree-flower-${E.id}`,style:{paddingLeft:O},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${K?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:K?"Collapse layers":"Expand layers",onClick:y=>{y.stopPropagation(),o(E.id)},"aria-label":K?"collapse":"expand","data-tree-toggle":!0,children:K?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ci,{label:E.name,marker:G,selected:U,showTrash:P,onTrash:()=>p(E.id),rightActions:w,onClick:()=>h(E.id),onDoubleClick:()=>v(E.id),level:0,leftOffset:-18})})]}),K&&E.layers.slice().sort((y,L)=>L.order-y.order).map(y=>{const L=(a.kind==="layer"||a.kind==="petal")&&a.layerId===y.id;return s.jsx(ci,{label:`${y.order}. ${y.name}`,marker:s.jsx(hm,{}),selected:L,showTrash:L,onTrash:()=>C(E.id,y.id),onClick:()=>{r({kind:"layer",flowerId:E.id,layerId:y.id}),g(I=>({...I,[E.id]:!0}))},level:0,leftOffset:10,muted:!y.visible},y.id)})]},E.id)},R=c.groups,B=new Set(R.flatMap(E=>E.flowerIds)),q=i.flowers.filter(E=>!B.has(E.id)),Y=new Set(R.flatMap(E=>E.leafIds)),X=c.leaves.filter(E=>!Y.has(E.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap mt-1",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:m,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:z,"data-testid":"layer-tree",children:[s.jsx(ci,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),R.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...R].reverse().map(E=>{const O=a.kind==="group"&&a.groupId===E.id,P=b(E),V=c.isGroupExpanded(E.id);return s.jsxs("div",{"data-group-id":E.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${V?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:V?"":"",onClick:U=>{U.stopPropagation(),c.toggleGroupExpanded(E.id)},"aria-label":V?"collapse group":"expand group",children:V?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ci,{label:E.name,marker:P,selected:O,showTrash:O,onTrash:()=>c.onDeleteGroup(E.id),onClick:()=>c.onSelectGroup(E.id),level:0,leftOffset:-18})})]}),V&&E.flowerIds.map(U=>{const G=i.flowers.find(K=>K.id===U);return G?D(G,12):null}),V&&E.leafIds.map(U=>{const G=c.leaves.find(W=>W.id===U);if(!G)return null;const K=a.kind==="leaf"&&a.leafId===G.id||a.kind==="leaves"&&a.leafIds.includes(G.id)||a.kind==="mixed"&&a.leafIds.includes(G.id);return s.jsx(ci,{label:G.name,marker:s.jsx(Zd,{}),selected:K,showTrash:K,onTrash:()=>c.onDeleteLeaf(G.id),onClick:()=>c.onSelectLeaf(G.id),level:0,leftOffset:12,muted:!G.visible},G.id)})]},E.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:d,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...q].reverse().map(E=>D(E,0)),q.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[[...X].reverse().map(E=>{const O=a.kind==="leaf"&&a.leafId===E.id||a.kind==="leaves"&&a.leafIds.includes(E.id)||a.kind==="mixed"&&a.leafIds.includes(E.id);return s.jsx(ci,{label:E.name,marker:s.jsx(Zd,{}),selected:O,showTrash:O,onTrash:()=>c.onDeleteLeaf(E.id),onClick:()=>c.onSelectLeaf(E.id),level:0,leftOffset:0,muted:!E.visible},E.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const xe=Bn;(function(c,i){const a=Bn,r=c();for(;;)try{if(parseInt(a(384))/1+parseInt(a(368))/2+-parseInt(a(334))/3+-parseInt(a(361))/4*(-parseInt(a(386))/5)+parseInt(a(352))/6+parseInt(a(407))/7+-parseInt(a(423))/8*(parseInt(a(376))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(U0,666872);const pm=(function(){const c=Bn,i={jiApu:c(316),sylXG:function(r,f){return r===f},XSPCr:c(360)};let a=!0;return function(r,f){const o=c;if(i[o(341)](o(409),i.XSPCr))return _0xdaf5ab.toString().search("(((.+)+)+)+$").toString().constructor(_0xc1e99)[o(385)](i.jiApu);{const h=a?function(){if(f){const v=f.apply(r,arguments);return f=null,v}}:function(){};return a=!1,h}}})(),Ds=pm(void 0,function(){const c=Bn,i={qiggi:c(316)};return Ds.toString()[c(385)](i[c(365)]).toString()[c(318)](Ds).search(c(316))});Ds();const l1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},a1={adult:"",child:""},i1={right:xe(427),left:"",back:xe(354)},ym=[xe(315),xe(397),xe(347),xe(320),"C 72 69, 69 72, 66 76","C 65 80, 68 85, 74 90","C 78 93, 82 96, 83 99",xe(371),xe(425),xe(402),"C 69 121, 65 126, 61 131",xe(419),xe(401),xe(324),"C 15 206, 5 221, -9 239","C -17 249, -25 259, -33 269",xe(370),xe(351),xe(338),"C -68 212, -56 200, -48 190","C -42 182, -38 174, -36 166","C -34 158, -36 150, -40 142",xe(345),"C -80 108, -88 96, -88 84",xe(335),xe(411),xe(380),xe(390),xe(382),"Z"].join(" "),_m=[xe(315),"C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",xe(366),"C 84 122, 82 128, 78 134",xe(321),xe(413),"C 28 198, 34 212, 48 228",xe(387),xe(332),xe(319),xe(327),"C -32 180, -38 172, -48 162",xe(400),"C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98",xe(364),xe(349),xe(428),"Z","M 0 70","C 16 66, 34 70, 42 82",xe(398),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",xe(405),xe(350),"C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"][xe(414)](" "),Sm=["M 0 0","C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",xe(418),xe(342),xe(369),"C 65 81, 66 83, 66 85","C 66 86, 62 88, 58 90","C 57 91, 57 93, 59 95","C 60 97, 58 101, 54 106","C 50 111, 44 116, 38 120",xe(375),xe(383),"C -10 195, -18 209, -22 221","L -30 240","L -100 240",xe(340),"C -48 176, -42 168, -38 158","C -35 150, -36 142, -40 134",xe(392),"C -68 96, -70 84, -66 74",xe(421),"C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z"][xe(414)](" "),wm=[xe(315),"C 18 1, 40 10, 52 26",xe(353),xe(363),xe(391),xe(325),xe(394),xe(374),xe(322),"C -66 228, -60 214, -55 202",xe(422),"C -44 130, -54 120, -60 112","C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68",xe(348),"C -40 10, -18 1, 0 0","Z",xe(393),xe(337),xe(314),"C 66 68, 56 70, 48 66",xe(373),xe(426),"Z",xe(388),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38",xe(408),"Z"].join(" "),Cm=["M 0 0",xe(397),xe(347),xe(320),"C 72 69, 69 72, 66 76",xe(404),"C -30 54, -48 48, -62 44","C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z",xe(381),"C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84",xe(335),"C -70 52, -66 48, -62 44",xe(412),xe(331),"L -40 142","Z"][xe(414)](" "),jm=["M 0 0",xe(415),xe(356),xe(328),"C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134",xe(339),xe(424),"C -42 152, -62 142, -78 134",xe(378),"C -84 110, -81 104, -82 98",xe(364),xe(349),xe(428),"Z","M 0 70","C 16 66, 34 70, 42 82",xe(398),"C 46 126, 40 136, 30 142",xe(317),xe(405),xe(350),"C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"].join(" "),Mm=[xe(315),"C 14 -4, 36 -4, 48 4",xe(329),xe(418),xe(395),xe(396),xe(323),"C -22 6, -10 1, 0 0","Z","M -40 134","C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",xe(346),xe(379),"L -40 134","Z"][xe(414)](" "),zm=[xe(315),"C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94",xe(391),"C 46 118, 26 124, 12 126","C 0 127, -12 126, -26 124",xe(343),xe(399),xe(377),"C -64 52, -60 38, -52 26",xe(333),"Z","M 46 26",xe(337),xe(314),"C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38",xe(426),"Z",xe(388),"C -54 20, -66 22, -72 32",xe(372),xe(410),xe(326),xe(408),"Z"].join(" ");function Nm(c,i){const a=xe,r={NyPYs:"right",cmiPJ:function(o,h){return o===h},FLQRB:a(336)},f=i===r[a(357)]||r.cmiPJ(i,a(313));return c===r.FLQRB?f?ym:_m:f?Sm:wm}function Dm(c,i){const a=xe,r={JHLwN:"left",bLhBq:"adult",mAlwa:"NNoBx"},f=i===a(416)||i===r.JHLwN;return c===r.bLhBq?a(330)!==r[a(355)]?_0x1cf026?_0x31b8c7:_0x364d0c:f?Cm:jm:f?Mm:zm}function Bn(c,i){c=c-313;const a=U0();let r=a[c];if(Bn.NLbxEK===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Bn.tPMKLl=f,Bn.XbQOyW={},Bn.NLbxEK=!0}const o=a[0],h=c+o,v=Bn.XbQOyW[h];if(v)r=v;else{const d=function(m){this.KeycXm=m,this.qgjVLc=[1,0,0],this.CmTHLK=function(){return"newState"},this.TxRLqb="\\w+ *\\(\\) *{\\w+ *",this.gDXyfg=`['|"].+['|"];? *}`};d.prototype.iGtRdV=function(){const m=new RegExp(this.TxRLqb+this.gDXyfg),_=m.test(this.CmTHLK.toString())?--this.qgjVLc[1]:--this.qgjVLc[0];return this.QoIyen(_)},d.prototype.QoIyen=function(m){return~m?this.SGrroR(this.KeycXm):m},d.prototype.SGrroR=function(m){for(let _=0,S=this.qgjVLc.length;_<S;_++)this.qgjVLc.push(Math.round(Math.random())),S=this.qgjVLc.length;return m(this.qgjVLc[0])},new d(Bn).iGtRdV(),r=Bn.tPMKLl(r),Bn.XbQOyW[h]=r}return r}const Am={right:"/tsumami/stencils/adult_right.png",left:"/tsumami/stencils/adult_left.png",back:"/tsumami/stencils/adult_back.png"},Em={right:xe(420)+"stencils/child_right.png",left:"/tsumami/stencils/child_left.png",back:"/tsumami/"+xe(359)},Lm={adult:Am,child:Em};function U0(){const c=["qYaTodmGodySic04mIa3ncWGltGWidyY","CwLNz2K","qYa4msaXmdqSidG0ideXmcWGodqGmte2","tgDLvvu","ota0nhvPBw5Yuq","qYa1nYa3msWGntKGnZuSidyZidC5","tcaTmZyGmJGW","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYa0mIa2mIWGndaGntaSidqYidm4","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","mtG5ouj4sMvrBa","qYaTnJyGodySic02nca3ocWGlty0idy4","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","qYaTntyGmZySic01mcaYnIWGltqYide4","tsaTndaGmtqY","qYaTncaTmsWGlteGlteSidaGma","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","odGXnZu1quv4zMT3","C2vHCMnO","mZvUCwr2vxK","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","tsaTndyGmJy","BuXiy1C","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","tsa0nIaYnG","qYaZmcaXntiSidmYide2nIWGntuGmJaY","qYa0nca1ncWGmtyGndGSic0Xmca0nG","qYaTmJGGndySic00mca0ncWGltuWidq0","qYaXnsaTmIWGmZGGltuSidu1idu","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","D2LKDgG","qYa0oca3ncWGmJaGnJqSic04idu4","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","yMfJAW","mZy1ntiZmM9mu3nNqq","qYaTndmGmZiSic00ncaYocWGltq2idi2","rePSCwS","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaTntGGntaSic01nca1ocWGltuWidCW","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","AM9PBG","qYaYmcaWlca0nca2lca1ocaYma","CMLNAhq","rvjTD28","qYa2nca0ncWGnJqGntaSidyZidu2","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","l3rZDw1HBwKV","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","ntaXntjztujtyLi","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","qYa3mcaXmdySidCWideWocWGnZmGmteW","qYa0mYaZmIWGndqGmJGSidq2idi2","5y+Z5zcr44gn","qYaTndqGnIWGltiWidaSidaGma","y3fwBLi","BgvMDa","qYa3oca0mcWGnZGGntqSidCYidyY","tsaWida","kcGOlISPkYKRksSK","qYaYmcaXndGSideWide1mcWGmcaXnta","y29UC3rYDwn0B3i","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYa3oca1mIWGnZCGnJaSidC0idy2","qYa3mIaXndiSidyWide1mIWGndGGmtyY","tcaTnZaGmJqW","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","qYa4mIa3ncWGodmGodySidGYidK4","qYa1nsaXmcWGnJaGmJiSidyZidm2","tK5VqNG","qYaTndyGodySic00mIaXmdySic00mcaXmJy","tcaTotiGmJGW","qYaTndaGmtaSic0XocaXlcaWida","ndy2ntyZtLLysKzJ","qYaTodGGnZiSic04nca2mIWGltC2idu2","ywr1Bhq","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","C3LSweC","qYa2mIa2mcWGntKGnJqSidu3idy4","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","AgvPz2H0","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYa2nsaXmIWGnZiGmJySidC2idqY","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","tcaTmti1idi4ma","mJm3nJG1mKPsANnMwG","qYa2mcaZocWGnJqGntiSidy0idy4","5B6m44kn5zcr44gn","BufSD2e","qYa2ocaZmcWGnZyGndqSidGWidyY","tNLqwxm","C2LKzq","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","veTTtuu","mtK0nJa0yuz6q0n5","u0HZz20","qYa2nca3ocWGnJyGodySidy2idK0"];return U0=function(){return c},U0()}function Tm(c,i){const a=xe,r={SHsgm:function(v,d){return v===d},IHbaR:"left",XdBiK:a(406),YTGdI:function(v,d,m){return v(d,m)}},f=r[a(362)](i,"right")||i===r.IHbaR?a(358):r.XdBiK,o=l1[c][f],h=Lm[c]?.[i]??null;return{path:Nm(c,i),hairPath:r.YTGdI(Dm,c,i),scaleX:i===a(313)?-1:1,imageUrl:h,imageWidthMm:o[a(403)],imageHeightMm:o[a(344)]}}(function(c,i){const a=Kt,r=c();for(;;)try{if(-parseInt(a(203))/1*(-parseInt(a(195))/2)+-parseInt(a(169))/3+parseInt(a(215))/4*(parseInt(a(182))/5)+-parseInt(a(183))/6+parseInt(a(205))/7+-parseInt(a(207))/8+-parseInt(a(154))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(K0,242756);const km=(function(){const c={UCGDd:function(a,r,f,o){return a(r,f,o)},rsXiO:function(a,r){return a-r},HpXnm:function(a,r){return a/r},IAYzs:function(a,r){return a-r},HmSnw:function(a,r){return a/r},LVFKH:function(a,r){return a(r)},mHyHp:function(a,r){return a===r}};let i=!0;return function(a,r){const f={kkioi:function(h,v,d,m){return c[Kt(220)](h,v,d,m)},YlJch:function(h,v){return c[Kt(210)](h,v)},SEcNa:function(h,v){return c.HpXnm(h,v)},yEIxJ:function(h,v){return c.IAYzs(h,v)},jZpIt:function(h,v){return c.HmSnw(h,v)},nBzck:function(h,v){return h*v},AhCHf:function(h,v){return c.LVFKH(h,v)},exMJN:function(h,v){return h(v)},mYrSf:function(h,v){return c[Kt(184)](h,v)}},o=i?function(){const h=Kt;if(r)if(f[h(181)](h(152),h(143))){_0x488423.preventDefault();const v=_0x292b2e[h(213)];if(!v)return;const d=_0x933c3b[h(213)],m=d*_0x14d422[h(147)](-_0x598403.deltaY*_0x4370fe),_=f[h(172)](_0x1a4db5,m,_0x5d33dd[0],_0x1ac43a[_0x46249a.length-1]);if(_0x39a251.abs(f[h(144)](_,d))<1e-6)return;const S=v[h(190)](),p=f.YlJch(_0x41a650.clientX,S[h(185)])/S[h(164)],C=f.SEcNa(f.yEIxJ(_0x366160.clientY,S.top),S.height),z=f.jZpIt(S[h(164)],S[h(175)]),g=_0x4f4b38,b=f[h(204)](g,z),D=_0x2a276d(p,C,d,_,b,g,_0x5cf990[h(213)]);_0x44fe04.current=_,_0x4d47f3[h(213)]=D,f[h(197)](_0x26e9c5,_),f[h(153)](_0x50e19d,D)}else{const v=r.apply(a,arguments);return r=null,v}}:function(){};return i=!1,o}})(),As=km(void 0,function(){const c=Kt;return As[c(151)]().search(c(219))[c(151)]().constructor(As).search(c(219))});function Kt(c,i){c=c-142;const a=K0();let r=a[c];if(Kt.FYTptf===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Kt.hAvYIt=f,Kt.bSXsWh={},Kt.FYTptf=!0}const o=a[0],h=c+o,v=Kt.bSXsWh[h];if(v)r=v;else{const d=function(m){this.fAIgZm=m,this.BLbIFV=[1,0,0],this.qrpPrS=function(){return"newState"},this.ySWAoI="\\w+ *\\(\\) *{\\w+ *",this.nROUyU=`['|"].+['|"];? *}`};d.prototype.EakIvB=function(){const m=new RegExp(this.ySWAoI+this.nROUyU),_=m.test(this.qrpPrS.toString())?--this.BLbIFV[1]:--this.BLbIFV[0];return this.CmxySU(_)},d.prototype.CmxySU=function(m){return~m?this.MSVNKw(this.fAIgZm):m},d.prototype.MSVNKw=function(m){for(let _=0,S=this.BLbIFV.length;_<S;_++)this.BLbIFV.push(Math.round(Math.random())),S=this.BLbIFV.length;return m(this.BLbIFV[0])},new d(Kt).EakIvB(),r=Kt.hAvYIt(r),Kt.bSXsWh[h]=r}return r}As();function K0(){const c=["tejuDgu","EM9VBuXLDMvS","zvvkEM0","y2XPzw50wq","AhLWB3q","BvLYu2y","mty0nduWnxD3v2TxEq","mJq0otaYrKHSq0jl","BuH5sha","BgvMDa","D1zxy0W","wefbr2G","zeL5BhC","BgHNEw8","z2v0qM91BMrPBMDdBgLLBNrszwn0","rwziEMy","yvLqChq","Aw5PDgLHBenLBNrLCG","s1PdExa","nfLSr21XyW","CgfU","qwHdsgy","Bwf4","B011whK","wezit2O","Aw5PDgLHBfPVB20","CMvTB3zLrxzLBNrmAxn0zw5LCG","oty5ntnjEND1sLq","BKj6y2S","mJG2odCXmNHztvfKEq","wvvnEuy","mJiZmtC3nLvKuND4uq","Cvr4ufK","z095vMO","CNnyAu8","ve1prhK","Aw5PDgLHBfbHBG","y3vYCMvUDa","svDdquC","ng5sAevOEa","A3zgDvC","ANb2t3e","AfvUywq","kcGOlISPkYKRksSK","vunhrgq","tefYy1u","Dg91y2HLCW","rNr5uwe","DfrADwq","y2XPzw50wa","twrNruS","uenJr1u","wwXky2G","EM9VBq","A3r1v3m","zxHW","uvrIAfG","ywjZ","r3n6v2W","Dg9tDhjPBMC","zMnPs1a","zxHnsK4","mtq3ndu3ogTcB2vqDa","Ee5hrhO","CM9RBgS","C1vLwxO","u0n6zgm","Eerhu20","yvDkBMO","C3PJq0m","uuf4Dhe","ENrzALK","D2LKDgG","rejlwey","Dg91y2HTB3zL","uw5ztuK","m3W0Fdf8mhWY","nJe4nZa4u1HxEgr5","BgvUz3rO","zgvSDgfz","A2TPB2K","ywrKrxzLBNrmAxn0zw5LCG","ChjLDMvUDerLzMf1Bhq","AgvPz2H0"];return K0=function(){return c},K0()}const ds=520;function Xd(c,i,a,r,f,o,h){const v=Kt,d={jpvOq:function(_,S){return _-S},YUMyF:function(_,S){return _*S},szcCC:function(_,S){return _+S},LYXMT:function(_,S){return _*S}},m=r/a-1;return{x:d[v(217)](h.x,d[v(206)](m,d[v(161)](-h.x,d.LYXMT(c,f)))),y:h.y-m*(-h.y+i*o)}}function qm(c){const i=Kt,a={aWJnj:function(W,w){return W===w},kvFuW:function(W){return W()},FtyQa:function(W,w){return W/w},xjPkY:function(W,w){return W+w},EfHzf:function(W,w){return W-w},XFHOj:function(W,w){return W(w)},lYMlx:function(W,w){return W===w},tfxTn:i(187),YIIEi:function(W,w){return W+w},EWgIg:function(W,w){return W+w},IWCAG:function(W,w){return W-w},zGKka:function(W,w,y,L){return W(w,y,L)},xNGDz:function(W,w){return W(w)},RcDyu:function(W,w){return W*w},roklk:function(W,w){return W-w},QnYMI:function(W,w){return W+w},LArcU:i(188),aYPpt:function(W,w){return W-w},tTZud:function(W,w){return W/w},oMuXy:function(W,w){return W/w},ktuWs:function(W,w){return W<w},hUnad:"LRqlW",XbIbz:function(W,w){return W*w},TMODy:function(W,w){return W-w},MdgEK:function(W,w){return W-w},gEdpo:function(W,w){return W/w},eUJzm:function(W,w){return W(w)},qTxPY:"touchstart",RyFYN:"wheel",sUeYz:"touchend",lhgyo:function(W,w,y,L){return W(w,y,L)},qvOXN:function(W,w){return W+w},cTfnE:function(W,w){return W(w)},CnXmP:function(W,w){return W(w)},SCzdc:function(W,w){return W(w)},ztYjY:i(168),LBTte:function(W,w){return W(w)},SYmTK:function(W,w){return W(w)},QTbhX:function(W,w,y){return W(w,y)},GszWl:function(W,w){return W(w)},EywLY:function(W,w,y){return W(w,y)}},{setZoom:r,setPan:f,setZoomLevel:o,ZOOM_LEVELS:h,stageRef:v,endPan:d,endFlowerDrag:m,endMarquee:_,endRotationDrag:S,endScaleDrag:p,endWidthScaleDrag:C,endRadiusDrag:z}=c,g=a.XFHOj(ee.useRef,null),b=a.SYmTK(ee.useRef,c[i(196)]),D=ee.useRef(c.zoom);a[i(148)](ee.useEffect,()=>{b.current=c.pan},[c.pan]),a.QTbhX(ee.useEffect,()=>{const W=i;D[W(213)]=c.zoom},[c[i(145)]]);const R=a.SCzdc(ee.useRef,c[i(177)]);ee.useEffect(()=>{const W=i;R[W(213)]=c[W(177)]},[c[i(177)]]);const B=a[i(150)](ee.useRef,null),q=ee.useRef(null),Y=ee.useCallback(W=>{const w=i;if(a[w(160)](w(194),"ycOes"))_0x1e2655[w(213)]=_0x11c529;else if(W[w(222)][w(170)]===2){W[w(174)](),d(),m(),_(),S(),a[w(216)](p),C(),z(),B[w(213)]=null,q.current=null;const y=W.touches[0],L=W[w(222)][1],I=(y.clientX+L[w(225)])/2,T=a.FtyQa(a.xjPkY(y.clientY,L.clientY),2),k=Math[w(180)](L.clientX-y[w(225)],a[w(191)](L.clientY,y.clientY));g[w(213)]={initialCenter:{x:I,y:T},initialDist:k,initialPan:{...b[w(213)]},initialZoom:D[w(213)]}}},[d,m,_,S,p,C,z]),X=ee.useCallback(W=>{const w=i,y={DBKXF:function(L,I,T,k){return L(I,T,k)},gOyVj:function(L,I){return a.XFHOj(L,I)},yidPY:function(L,I){return L*I}};if(a[w(160)](W.touches.length,2)&&g[w(213)])if(a.lYMlx("XAAGh",a.tfxTn)){W[w(174)]();const L=W[w(222)][0],I=W[w(222)][1],T=a.FtyQa(a.YIIEi(L[w(225)],I.clientX),2),k=a[w(223)](a.EWgIg(L[w(179)],I[w(179)]),2),M=Math[w(180)](a[w(214)](I[w(225)],L[w(225)]),I.clientY-L.clientY),N=g[w(213)],H=M/Math[w(198)](1,N.initialDist),Z=a.zGKka(pe,a[w(155)](Number,a.RcDyu(N[w(201)],H).toFixed(3)),h[0],h[h[w(170)]-1]),F=N.initialZoom,le=a.IWCAG(T,N[w(193)].x),re=a[w(156)](k,N.initialCenter.y);let oe=a[w(167)](N[w(212)].x,le),de=N.initialPan.y+re;const ge=v[w(213)];if(ge&&F!==Z)if(a[w(221)]===w(186)){const Me=_0x9fcd36.current,Pe=y[w(165)](_0x2fe6bf,Me+_0x4d4c0b,0,_0x1ded63.length-1);if(Pe===Me)return;const He=_0x2420cb[w(213)],Ie=_0x2b39a2[Pe],nt=_0x3202f7.current;if(!nt){y[w(209)](_0x2fd57a,Pe);return}const bt=nt.getBoundingClientRect(),mt=bt[w(164)]/bt[w(175)],xt=_0x4d0e07,Et=y.yidPY(xt,mt),Pt=_0x1879f5(.5,.5,He,Ie,Et,xt,_0x5603dd.current);_0x22c0e5.current=Ie,_0x1eb698[w(213)]=Pe,_0x5027a9.current=Pt,_0x42e4ff(Pe),_0x335f2a(Pt)}else{const Me=ge[w(190)](),Pe=a[w(192)](N.initialCenter.x,Me[w(185)])/Me.width,He=(N[w(193)].y-Me.top)/Me[w(175)],Ie=a.tTZud(Me[w(164)],Me[w(175)]),nt=ds,bt=a.RcDyu(nt,Ie),mt=(Z/F-1)*(-N[w(212)].x+Pe*bt),xt=(a[w(199)](Z,F)-1)*a.QnYMI(-N[w(212)].y,He*nt);oe-=mt,de-=xt}const he={x:oe,y:de};D.current=Z,b[w(213)]=he,a[w(200)](f,he),r(Z)}else _0x5bfd74[w(213)]=_0x1ced48,_0x3b76ec[w(213)]=_0x15dc98,_0x425d41.current={x:0,y:0},_0x376cd8(_0x518658),_0x1f6111({x:0,y:0})},[f,r,v,h]),E=ee.useCallback(W=>{const w=i;a[w(146)](W.touches[w(170)],2)&&(g[w(213)]=null)},[]),O=.003,P=ee.useCallback(W=>{const w=i;if(w(159)!==a[w(218)]){W.preventDefault();const y=v.current;if(!y)return;const L=D[w(213)],I=L*Math[w(147)](a.XbIbz(-W[w(171)],O)),T=pe(I,h[0],h[a[w(211)](h.length,1)]);if(a[w(146)](Math[w(149)](a[w(142)](T,L)),1e-6))return;const k=y[w(190)](),M=a.gEdpo(W.clientX-k[w(185)],k.width),N=a[w(224)](W[w(179)]-k.top,k[w(175)]),H=a[w(224)](k[w(164)],k.height),Z=ds,F=Z*H,le=Xd(M,N,L,T,F,Z,b.current);D[w(213)]=T,b.current=le,r(T),a[w(178)](f,le)}else _0x18743d.current=_0x1977cc.zoomLevel},[r,f,v,h]);ee.useEffect(()=>{const W=i,w={gEuuU:a[W(208)],QAxtq:W(166),tjFBz:a.RyFYN},y=v.current;if(y)return y[W(173)](a[W(208)],Y,{passive:!1}),y[W(173)](W(166),X,{passive:!1}),y[W(173)](a[W(157)],E),y[W(173)]("wheel",P,{passive:!1}),()=>{const L=W;y[L(202)](w.gEuuU,Y),y.removeEventListener(w[L(162)],X),y.removeEventListener("touchend",E),y.removeEventListener(w.tjFBz,P)}},[v,Y,X,E,P]);const V=a[i(148)](ee.useCallback,W=>{const w=i,y=R[w(213)],L=a[w(189)](pe,a.qvOXN(y,W),0,h.length-1);if(L===y)return;const I=D[w(213)],T=h[L],k=v.current;if(!k){a.cTfnE(o,L);return}const M=k[w(190)](),N=M.width/M.height,H=ds,Z=H*N,F=Xd(.5,.5,I,T,Z,H,b[w(213)]);D.current=T,R.current=L,b.current=F,a.CnXmP(o,L),a[w(158)](f,F)},[o,f,v,h]),U=a[i(148)](ee.useCallback,(W,w)=>{const y=i,L=a[y(163)].split("|");let I=0;for(;;){switch(L[I++]){case"0":o(W);continue;case"1":b.current={x:0,y:0};continue;case"2":a[y(176)](f,{x:0,y:0});continue;case"3":R.current=W;continue;case"4":D.current=w;continue}break}},[o,f]),G=ee.useCallback(W=>{const w=i;B[w(213)]=W},[]),K=a.EywLY(ee.useCallback,W=>{q.current=W},[]);return{multiTouchRef:g,touchBgStartRef:B,mouseBgStartRef:q,zoomAtCenter:V,resetView:U,setTouchBgStart:G,setMouseBgStart:K}}function ui(c,i){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),r=parseInt(c.slice(3,5),16),f=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(f))return c;const o=1-i;return`#${Math.round(a*o).toString(16).padStart(2,"0")}${Math.round(r*o).toString(16).padStart(2,"0")}${Math.round(f*o).toString(16).padStart(2,"0")}`}function Bm(c){const{flower:i,project:a,paletteMap:r}=c,f=ee.useRef(null),o=ee.useRef(!1),h=ee.useRef(null);ee.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const v=ee.useMemo(()=>[...i.layers||[]].sort((R,B)=>R.order-B.order),[i.layers]),d=i.fabricSquareSize??a.fabricSquareSize,{length:m,width:_}=qt(d),{flowerOuterR:S,centerHitR:p}=ee.useMemo(()=>{let R=12,B=1/0;for(const Y of v){if(!Y.visible)continue;const X=Y.scale??1,E=m*X,P=Math.max(0,Y.radius-E*.28),V=P+E;R=Math.max(R,V),P<B&&(B=P)}isFinite(B)||(B=0);const q=Math.max(B*.9,8);return{flowerOuterR:R,centerHitR:q}},[v,m]),C=(R,B)=>R?.petalOverrides?.find(q=>q.index===B)??null,z="pointer",g=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,b=c.zoneCursorValue??"grab",D=R=>{if(R.stopPropagation(),R.button===0){if(R.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(R)}};return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:R=>{R.stopPropagation(),c.onDoubleClick?.()},style:{cursor:g?b:or("/tsumami/")},"data-testid":`flower-${i.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,S),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),v.map(R=>{if(!R.visible)return null;const q=r.get(R.colorId)?.hex??"#999",Y=360/Math.max(1,R.petalCount),X=R.scale??1,E=m*X,P=_*(R.widthScale??1)*X,U=Math.max(0,R.radius-E*.28),G=xr(""),K=xr(""),W=U+E,w=c.isSelected&&c.selectedLayerId===R.id,y=c.isSelected&&(c.selectedPetal?.layerId===R.id||(c.selectedPetals?.some(L=>L.layerId===R.id)??!1));return s.jsxs("g",{children:[Array.from({length:R.petalCount}).map((L,I)=>{const T=C(R,I),M=(T?.petalType??R.petalType)===""?G:K,N=r.get(T?.colorId??R.colorId)?.hex??q,H=R.offsetAngle+I*Y,Z=aa(H),F=Math.cos(Z)*U,le=Math.sin(Z)*U,re=c.isSelected&&c.selectedPetal?.layerId===R.id&&c.selectedPetal?.index===I,oe=c.isSelected&&(c.selectedPetals?.some(he=>he.layerId===R.id&&he.index===I)??!1),de=re||oe,ge=g?b:or("/tsumami/");return s.jsxs("g",{transform:`translate(${F} ${le}) rotate(${H})`,children:[s.jsx("path",{d:M,transform:`scale(${E} ${P})`,fill:N,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,style:{cursor:ge},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const Me=he.shiftKey,Pe=he.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),o.current=!1,Me&&c.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),c.onTogglePetalSelection(R.id,I,!0);return}if(Pe&&c.onTogglePetalSelection){h.current={x:he.clientX,y:he.clientY};const bt=R.id,mt=I;f.current=window.setTimeout(()=>{o.current=!0,f.current=null,c.onTogglePetalSelection?.(bt,mt,!0),navigator.vibrate?.(30)},500)}const He=c.isSelected&&c.selectedLayerId!=null,Ie=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||He||Ie){c.onBeginDragFromLayerPetal(R.id,I,he);return}c.onBeginDragFromLayerPetal(R.id,I,he)},onPointerMove:he=>{if(f.current&&h.current){const Me=he.clientX-h.current.x,Pe=he.clientY-h.current.y;Math.hypot(Me,Pe)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:he=>{he.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(R.id)}}),R.doublePetal&&(()=>{const he=R.doublePetal,Me=T?.innerSizeReduction??he.innerSizeReduction??2,Pe=d*(X||1);if(Pe<=0)return null;const Ie=Math.max(Pe*.3,Pe-Me)/Pe,nt=M,bt=T?.innerColorId??he.innerColorId??T?.colorId??R.colorId,mt=r.get(bt)?.hex??N,xt=E*Ie,Et=P*Ie;return s.jsx("path",{d:nt,transform:`scale(${xt} ${Et})`,fill:mt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,pointerEvents:"none"})})(),(de||w||c.isFlowerSelected)&&s.jsx("path",{d:M,transform:`scale(${E} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${R.id}-${I}`)]},I)}),w&&!y&&s.jsx("circle",{r:W,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},R.id)}),c.isFlowerSelected&&s.jsx("circle",{r:S,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const R=i.center,B=Gh(R.size),q=r.get(R.color)?.hex??"#D4A843",Y=R.color2?r.get(R.color2)?.hex??"#C0C0C0":"#D4A843",X=Math.max(B,p);switch(R.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:B,fill:q,stroke:ui(q,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:X,fill:"transparent",style:{cursor:z},onPointerDown:D})]});case"":{const O=B*.42,P=B,V=B*.12,U=B*.13,G=B*.45,K=Y,W=q;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((w,y)=>{const L=y/10*360,I=aa(L),T=Math.cos(I)*P,k=Math.sin(I)*P,M=-Math.sin(I)*V,N=Math.cos(I)*V,H=Math.cos(I)*O,Z=Math.sin(I)*O;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(H+M).toFixed(2)} ${(Z+N).toFixed(2)} L ${T.toFixed(2)} ${k.toFixed(2)} L ${(H-M).toFixed(2)} ${(Z-N).toFixed(2)} Z`,fill:K,stroke:ui(K,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:T,cy:k,r:U,fill:K,stroke:ui(K,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},y)}),s.jsx("circle",{r:O,fill:K,stroke:ui(K,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:G,fill:W,stroke:ui(W,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:X,fill:"transparent",style:{cursor:z},onPointerDown:D})]})}case"":{const E=R.pepCount??12,O=B*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:E}).map((P,V)=>{const U=V/E*360,G=aa(U),K=Math.cos(G)*B,W=Math.sin(G)*B;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:K,y2:W,stroke:q,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:K,cy:W,r:Math.max(O,1),fill:q,stroke:ui(q,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},V)})}),s.jsx("circle",{r:X,fill:"transparent",style:{cursor:z},onPointerDown:D})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:p,fill:"transparent",style:{cursor:z},onPointerDown:D})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:p,fill:"transparent",style:{cursor:z},onPointerDown:D})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const R=v.find(O=>O.id===c.selectedLayerId);if(!R||!R.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const q=R.scale??1,Y=m*q,E=Math.max(0,R.radius-Y*.28);return E<=0?null:s.jsx("circle",{r:E,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,S+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Im(c){const{leaf:i,project:a,paletteMap:r}=c,f=i.fabricSquareSize??a.fabricSquareSize,{length:o,width:h}=qt(f),v=i.scale??1,d=o*v,m=h*(i.widthScale??1)*v,_=xr(i.petalType),S=r.get(i.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":c.cursor??or("/tsumami/")},"data-testid":`leaf-${i.id}`,onPointerDown:p=>{if(p.stopPropagation(),p.button===0&&!i.locked){if(p.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(p)}},children:[s.jsx("path",{d:_,transform:`scale(${d} ${m})`,fill:S,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const p=i.doublePetal,C=p.innerSizeReduction??2,z=f*(v||1);if(z<=0)return null;const b=Math.max(z*.3,z-C)/z,D=p.innerColorId??i.colorId,R=r.get(D)?.hex??S,B=d*b,q=m*b;return s.jsx("path",{d:_,transform:`scale(${B} ${q})`,fill:R,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&(()=>{const C=-.04*d,z=-.5800000000000001*m,g=(1.02+.04*2)*d,b=(.54+.04)*2*m;return s.jsx("rect",{x:C,y:z,width:g,height:b,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,strokeDasharray:"4 2",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.55,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${i.id}`)})(),c.isSelected&&(()=>{const C=-.54*m,z=1.02*d,g=.54*2*m;return s.jsxs(s.Fragment,{children:[s.jsx("rect",{x:0,y:C,width:z,height:g,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`sel-rect-${c.dashSyncToken??0}-${i.id}`),s.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})})()]})}const nl=1350;function Gm(c){const{stencils:i,selectedStencilId:a,selection:r,stageRef:f,applyUpdateRef:o,clientToSvgPointRef:h,stencilDraggingRef:v,onSelectStencil:d}=c,m=ee.useRef(null);ee.useEffect(()=>()=>{m.current?.()},[]);const _=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return s.jsx(s.Fragment,{children:i.map(S=>{const p=Tm(S.variant,S.pose),C=a===S.id,z=cn,g=p.imageUrl?1:p.scaleX,b=_||!!S.locked;return s.jsx("g",{transform:`translate(${S.position.x} ${S.position.y}) scale(${z*g} ${z})`,style:{cursor:_?"default":S.locked?"pointer":sm("/tsumami/"),pointerEvents:_?"none":"auto"},"data-testid":`stencil-${S.id}`,onPointerDown:D=>{if(D.button!==0)return;if(b){d(S.id);return}if(D.stopPropagation(),d(S.id),!f.current)return;v.current=!0,f.current&&(f.current.style.cursor=xm("/tsumami/"));const B=h.current(D),q={...S.position},Y=S.id;let X=q.x,E=q.y;const O=V=>{const U=h.current(V),G=U.x-B.x,K=U.y-B.y;X=pe(q.x+G,0,nl),E=pe(q.y+K,0,nl),o.current(W=>{const w=(W.stencils??[]).find(y=>y.id===Y);w&&(w.position.x=X,w.position.y=E)},!1)},P=()=>{v.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",P),m.current=null,o.current(V=>{const U=(V.stencils??[]).find(G=>G.id===Y);U&&(U.position.x=X,U.position.y=E)},!0)};document.addEventListener("pointermove",O),document.addEventListener("pointerup",P),m.current=()=>{v.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",P)}},children:p.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:p.imageUrl,x:-p.imageWidthMm/2,y:0,width:p.imageWidthMm,height:p.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-p.imageWidthMm/2,y:0,width:p.imageWidthMm,height:p.imageHeightMm,fill:"transparent",stroke:C?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:p.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:p.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),C&&s.jsx("path",{d:p.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},S.id)})})}function Rm(c){const{project:i,selection:a,setSelection:r,paletteMap:f,selectedFlowerId:o,zoneCursorValue:h,dashSyncToken:v,stageRef:d,multiTouchRef:m,clientToSvgPoint:_,togglePetalSelection:S,handleShiftFlowerSelect:p,groupHighlightedFlowerIds:C,beginFlowerDrag:z,beginScaleDrag:g,beginRotationDrag:b,beginWidthScaleDrag:D,beginRadiusDrag:R,clickOriginRef:B,zoneActivatedRef:q,setZoneCursorValue:Y,setTouchZoneIndicator:X,hoverZoneRef:E,hoverHitLayerIdRef:O,hoverHitPetalIndexRef:P}=c;return s.jsx(s.Fragment,{children:i.flowers.map(V=>s.jsx(Bm,{flower:V,project:i,paletteMap:f,isSelected:a.kind!=="project"&&o===V.id||a.kind==="flowers"&&a.flowerIds.includes(V.id)||a.kind==="mixed"&&a.flowerIds.includes(V.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===V.id||a.kind==="flowers"&&a.flowerIds.includes(V.id)||a.kind==="mixed"&&a.flowerIds.includes(V.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===V.id?a.petals:null,onSelect:()=>{const U=al(i,V.id);if(U&&!(a.kind==="group"&&a.groupId===U.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&U.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:U.id});return}r({kind:"flower",flowerId:V.id})},onSelectLayer:U=>r({kind:"layer",flowerId:V.id,layerId:U}),onSelectPetal:(U,G)=>r({kind:"petal",flowerId:V.id,layerId:U,index:G}),onTogglePetalSelection:(U,G,K)=>S(V.id,U,G,K),onShiftSelect:()=>p(V.id),isGroupHighlighted:C.has(V.id),zoneCursorValue:h,onBeginDragFromLayerPetal:(U,G,K)=>{if(m.current)return;const W=al(i,V.id);if(W&&!(a.kind==="group"&&a.groupId===W.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&W.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:W.id}),z(V.id,K);return}const w=_(K),y=K.pointerType==="touch",L=a.kind==="flower"&&a.flowerId===V.id||a.kind==="layer"&&a.flowerId===V.id||a.kind==="petal"&&a.flowerId===V.id||a.kind==="petals"&&a.flowerId===V.id;if(y&&L){const{zone:k,layerId:M,petalIndex:N}=si(w.x,w.y,V,i,a),{length:H}=qt(V.fabricSquareSize??i.fabricSquareSize),Z=D0(k,a.kind,{hitLayerId:M,flower:V,length:H});if(Z!=="none"&&Z!=="center"&&Z!=="move"){X({x:w.x,y:w.y,zone:Z});const F=a.kind==="layer"?"layer":"flower",le=a.kind==="layer"?a.layerId:U;switch(Z){case"rotate":b(F,V.id,K,{layerId:le});return;case"scale":g(F,V.id,K,{layerId:le});return;case"width":D(F,V.id,K,{layerId:le,petalIndex:N});return;case"radius":R(F,V.id,K,{layerId:le});return}}z(V.id,K,{layerId:U,index:G});return}const I=q.current;B.current={x:w.x,y:w.y},q.current=!1;const T=E.current;if(L&&(I||T!=="none"&&T!=="center")){const k=T,M=O.current,N=P.current,H=a.kind==="layer"?"layer":"flower",Z=a.kind==="layer"?a.layerId:M??U;switch(k){case"rotate":b(H,V.id,K,{layerId:Z});return;case"scale":g(H,V.id,K,{layerId:Z});return;case"width":D(H,V.id,K,{layerId:Z,petalIndex:N});return;case"radius":R(H,V.id,K,{layerId:Z});return;default:Y(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/")),z(V.id,K,{layerId:U,index:G});return}}Y(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/")),z(V.id,K,{layerId:U,index:G})},onDoubleClick:()=>r({kind:"flower",flowerId:V.id}),onPointerDown:U=>{if(m.current||U.button!==0)return;if(U.shiftKey){U.stopPropagation(),p(V.id);return}const G=al(i,V.id);if(G&&!(a.kind==="group"&&a.groupId===G.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&G.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:G.id}),z(V.id,U);return}a.kind==="flower"&&a.flowerId===V.id||a.kind==="layer"&&a.flowerId===V.id||a.kind==="flowers"&&a.flowerIds.includes(V.id)||r({kind:"flower",flowerId:V.id});const W=_(U);B.current={x:W.x,y:W.y},q.current=!1,Y(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/")),z(V.id,U)},dashSyncToken:v},V.id))})}function Hm(c){const{leaves:i,project:a,selection:r,paletteMap:f,dashSyncToken:o,groupHighlightedLeafIds:h,zoneCursorValue:v,stageRef:d,applyUpdateRef:m,clientToSvgPointRef:_,leafDraggingRef:S,clickOriginRef:p,zoneActivatedRef:C,setZoneCursorValue:z,onSelectLeaf:g,onSelectGroup:b,onShiftSelectLeaf:D,hoverLeafZoneRef:R}=c,B=ee.useRef(null);return ee.useEffect(()=>()=>{B.current?.()},[]),s.jsx(s.Fragment,{children:i.map(q=>{if(!q.visible)return null;const Y=r.kind==="leaf"&&r.leafId===q.id,X=(r.kind==="leaves"||r.kind==="mixed")&&r.leafIds?.includes(q.id),E=h.has(q.id),O=Nl(a,q.id),P=O?.rotation??0;let V=q;if(O&&P!==0){const U=Ah(a,O.id),G=P*Math.PI/180,K=q.position.x-U.x,W=q.position.y-U.y;V={...q,position:{x:U.x+K*Math.cos(G)-W*Math.sin(G),y:U.y+K*Math.sin(G)+W*Math.cos(G)},rotation:q.rotation+P}}return s.jsx(Im,{leaf:V,project:a,paletteMap:f,isSelected:Y||X,isLeafGroupHighlighted:E,dashSyncToken:o,cursor:Y?v:void 0,onPointerDown:U=>{if(q.locked)return;U.stopPropagation();const G=_.current(U);if(O&&!(r.kind==="group"&&r.groupId===O.id||r.kind==="leaf"&&O.leafIds.includes(r.leafId))){b(O.id),S.current=!0,p.current={x:G.x,y:G.y},C.current=!1,z(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/"));const L=G,I=Od(a,q.id),T=new Map;for(const Z of I){const F=i.find(le=>le.id===Z);F&&T.set(Z,{...F.position})}const k=new Map;if(O)for(const Z of O.flowerIds){const F=a.flowers.find(le=>le.id===Z);F&&k.set(Z,{...F.position})}let M=!1;const N=Z=>{const F=_.current(Z),le=F.x-L.x,re=F.y-L.y;Math.abs(le)+Math.abs(re)>1&&(M=!0),m.current(oe=>{for(const[de,ge]of T){const he=(oe.leaves??[]).find(Me=>Me.id===de);he&&(he.position.x=pe(ge.x+le,0,nl),he.position.y=pe(ge.y+re,0,nl))}for(const[de,ge]of k){const he=oe.flowers.find(Me=>Me.id===de);he&&(he.position.x=pe(ge.x+le,0,nl),he.position.y=pe(ge.y+re,0,nl))}},!1)},H=()=>{B.current=null,S.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",H),M&&m.current(()=>{},!0)};document.addEventListener("pointermove",N),document.addEventListener("pointerup",H),B.current=()=>{S.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",H)};return}const K=Y&&C.current;g(q.id),p.current={x:G.x,y:G.y},C.current=!1,z(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/"));const W=R.current,w=Y&&(K||W!=="none")?W:"move";if(w!=="move"){const y=ar(w,"/tsumami/");z(y),d.current&&(d.current.style.cursor=y)}if(S.current=!0,w==="rotate"){const y=V.position,L=q.rotation,I=Math.atan2(G.y-y.y,G.x-y.x)*180/Math.PI;let T=!1;const k=N=>{const H=_.current(N),F=Math.atan2(H.y-y.y,H.x-y.x)*180/Math.PI-I;Math.abs(F)>.5&&(T=!0),m.current(le=>{const re=(le.leaves??[]).find(oe=>oe.id===q.id);re&&(re.rotation=((L+F)%360+360)%360)},!1)},M=()=>{B.current=null,S.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",M),T&&m.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",M),B.current=()=>{S.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",M)}}else if(w==="scale"){const y=V.position,L=q.scale??1,I=Math.max(1,Math.hypot(G.x-y.x,G.y-y.y));let T=!1;const k=N=>{const H=_.current(N),F=Math.hypot(H.x-y.x,H.y-y.y)/I;Math.abs(F-1)>.01&&(T=!0),m.current(le=>{const re=(le.leaves??[]).find(oe=>oe.id===q.id);re&&(re.scale=pe(L*F,.3,3))},!1)},M=()=>{B.current=null,S.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",M),T&&m.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",M),B.current=()=>{S.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",M)}}else if(w==="width"){const y=V.position,L=q.rotation*Math.PI/180,I=-Math.sin(L),T=Math.cos(L),k=q.widthScale??1,M=Math.abs((G.x-y.x)*I+(G.y-y.y)*T),N=Math.max(1,M);let H=!1;const Z=le=>{const re=_.current(le),de=Math.abs((re.x-y.x)*I+(re.y-y.y)*T)/N;Math.abs(de-1)>.01&&(H=!0),m.current(ge=>{const he=(ge.leaves??[]).find(Me=>Me.id===q.id);he&&(he.widthScale=pe(k*de,.3,3))},!1)},F=()=>{B.current=null,S.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",F),H&&m.current(()=>{},!0)};document.addEventListener("pointermove",Z),document.addEventListener("pointerup",F),B.current=()=>{S.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",F)}}else{const y=G,L=(r.kind==="leaves"||r.kind==="mixed")&&r.leafIds?.includes(q.id)?r.leafIds:Od(a,q.id),I=new Map;for(const Z of L){const F=i.find(le=>le.id===Z);F&&I.set(Z,{...F.position})}const T=new Map,k=Nl(a,q.id);if(k)for(const Z of k.flowerIds){const F=a.flowers.find(le=>le.id===Z);F&&T.set(Z,{...F.position})}let M=!1;const N=Z=>{const F=_.current(Z),le=F.x-y.x,re=F.y-y.y;Math.abs(le)+Math.abs(re)>1&&(M=!0),m.current(oe=>{for(const[de,ge]of I){const he=(oe.leaves??[]).find(Me=>Me.id===de);he&&(he.position.x=pe(ge.x+le,0,nl),he.position.y=pe(ge.y+re,0,nl))}for(const[de,ge]of T){const he=oe.flowers.find(Me=>Me.id===de);he&&(he.position.x=pe(ge.x+le,0,nl),he.position.y=pe(ge.y+re,0,nl))}},!1)},H=()=>{B.current=null,S.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",H),M&&m.current(()=>{},!0)};document.addEventListener("pointermove",N),document.addEventListener("pointerup",H),B.current=()=>{S.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",H)}}},onShiftSelect:()=>D(q.id)},q.id)})})}function Om({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Ym({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}function Um(c){const{project:i,selection:a,selectedFlowerId:r,dashSyncToken:f}=c,o=ee.useMemo(()=>r?i.flowers.find(p=>p.id===r)??null:null,[i.flowers,r]),h=ee.useMemo(()=>{if(a.kind==="flowers")return i.flowers.filter(p=>a.flowerIds.includes(p.id));if(a.kind==="mixed")return i.flowers.filter(p=>a.flowerIds.includes(p.id));if(a.kind==="group"){const p=(i.groups??[]).find(C=>C.id===a.groupId);if(p)return i.flowers.filter(C=>p.flowerIds.includes(C.id))}return[]},[i.flowers,i.groups,a]);if(!o&&h.length===0)return null;const v=a.kind==="flower"&&o?.id===r,d=a.kind==="layer"?a.layerId:null,m=a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,_=a.kind==="petals"&&o?a.petals:null,S=o&&(v||d!=null||m!=null||_&&_.length>0);return s.jsxs("g",{pointerEvents:"none",children:[h.map(p=>s.jsx(Jd,{flower:p,project:i,isFlowerSelected:!0,selectedLayerId:null,selectedPetal:null,selectedPetals:null,dashSyncToken:f},`overlay-multi-${p.id}`)),S&&o&&s.jsx(Jd,{flower:o,project:i,isFlowerSelected:v,selectedLayerId:d,selectedPetal:m,selectedPetals:_,dashSyncToken:f},`overlay-single-${o.id}`)]})}function Jd(c){const{flower:i,project:a,isFlowerSelected:r,selectedLayerId:f,selectedPetal:o,selectedPetals:h,dashSyncToken:v}=c,d=ee.useMemo(()=>[...i.layers||[]].sort((D,R)=>D.order-R.order),[i.layers]),m=i.fabricSquareSize??a.fabricSquareSize,{length:_,width:S}=qt(m),p=ee.useMemo(()=>{let D=12;for(const R of d){if(!R.visible)continue;const B=R.scale??1,q=_*B,E=Math.max(0,R.radius-q*.28)+q;D=Math.max(D,E)}return D},[d,_]),C=r||f!=null||o!=null||h&&h.length>0,z=xr(""),g=xr(""),b=(D,R)=>D?.petalOverrides?.find(B=>B.index===R)??null;return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,children:[C&&o==null&&!h?.length&&s.jsx("circle",{r:Math.max(12,p),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke"}),d.map(D=>{if(!D.visible)return null;const R=360/Math.max(1,D.petalCount),B=D.scale??1,q=_*B,X=S*(D.widthScale??1)*B,O=Math.max(0,D.radius-q*.28),P=O+q,V=f===D.id,U=o?.layerId===D.id||(h?.some(G=>G.layerId===D.id)??!1);return s.jsxs("g",{children:[Array.from({length:D.petalCount}).map((G,K)=>{const y=(b(D,K)?.petalType??D.petalType)===""?z:g,L=D.offsetAngle+K*R,I=aa(L),T=Math.cos(I)*O,k=Math.sin(I)*O,M=o?.layerId===D.id&&o?.index===K,N=h?.some(Z=>Z.layerId===D.id&&Z.index===K)??!1;return M||N||V||r?s.jsx("g",{transform:`translate(${T} ${k}) rotate(${L})`,children:s.jsx("path",{d:y,transform:`scale(${q} ${X})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95},`dash-overlay-${v}-${D.id}-${K}`)},K):null}),V&&!U&&s.jsx("circle",{r:P,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})]},D.id)}),r&&s.jsx("circle",{r:p,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke"}),(()=>{if(!f)return null;const D=d.find(E=>E.id===f);if(!D||!D.visible||o!=null||(h?.length??0)>0)return null;const B=D.scale??1,q=_*B,X=Math.max(0,D.radius-q*.28);return X<=0?null:s.jsx("circle",{r:X,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})})()]})}const ja=1350;function Km(c){const{project:i,selection:a,setSelection:r,paletteMap:f,selectedFlowerId:o,setZoom:h,zoomLevel:v,setZoomLevel:d,ZOOM_LEVELS:m,setPan:_,showGrid:S,setShowGrid:p,setShowHelp:C,stageRef:z,viewBox:g,dashDelay:b,dashSyncToken:D,beginPan:R,updatePan:B,endPan:q,beginMarquee:Y,updateMarquee:X,endMarquee:E,marqueeRef:O,marqueeRect:P,beginFlowerDrag:V,updateFlowerDrag:U,endFlowerDrag:G,scaleDragRef:K,updateScaleDrag:W,endScaleDrag:w,rotationDragRef:y,updateRotationDrag:L,endRotationDrag:I,widthScaleDragRef:T,updateWidthScaleDrag:k,endWidthScaleDrag:M,radiusDragRef:N,updateRadiusDrag:H,endRadiusDrag:Z,beginScaleDrag:F,beginRotationDrag:le,beginWidthScaleDrag:re,beginRadiusDrag:oe,togglePetalSelection:de,clientToSvgPoint:ge}=c,he=ee.useRef(!1),Me=ee.useRef(!1),Pe=ee.useRef(c.applyUpdate),He=ee.useRef(ge);ee.useEffect(()=>{Pe.current=c.applyUpdate},[c.applyUpdate]),ee.useEffect(()=>{He.current=ge},[ge]);const[Ie,nt]=ee.useState(!1),bt=ee.useRef(null);ee.useEffect(()=>{if(!Ie)return;const fe=qe=>{bt.current&&!bt.current.contains(qe.target)&&nt(!1)};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[Ie]);const[mt,xt]=ee.useState("grab"),Et=ee.useRef("none"),Pt=ee.useRef("none"),Vn=ee.useRef(void 0),Wn=ee.useRef(void 0),Qe=ee.useRef(null),_n=ee.useRef(!0),Dl=5,cl=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,ul=ee.useRef(cl);ee.useEffect(()=>{cl!==ul.current&&(ul.current=cl,_n.current=!1,Qe.current=null,Et.current="none",Pt.current="none",Vn.current=void 0,Wn.current=void 0)},[cl]);const[Al,ra]=ee.useState(!1),Pn=ee.useRef(!1),[fi,Gn]=ee.useState(null),Bt=5,Sn=10,Oe=qm({zoom:c.zoom,pan:c.pan,setZoom:h,setPan:_,zoomLevel:v,setZoomLevel:d,ZOOM_LEVELS:m,stageRef:z,endPan:q,endFlowerDrag:G,endMarquee:E,endRotationDrag:I,endScaleDrag:w,endWidthScaleDrag:M,endRadiusDrag:Z});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v>=m.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Oe.zoomAtCenter(1),disabled:v>=m.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Oe.zoomAtCenter(-1),disabled:v<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>p(fe=>!fe),title:"","aria-label":"","aria-pressed":S,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Oe.resetView(5,m[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:bt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Ie?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>nt(fe=>!fe),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Ie&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(fe=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:a1[fe]}),["right","left","back"].map(qe=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(fe,qe),nt(!1)},"data-testid":`stencil-add-${fe}-${qe}`,children:i1[qe]},`${fe}-${qe}`))]},fe)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),nt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>C(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:S?"24px 1fr":"1fr",gridTemplateRows:S?"20px 1fr":"1fr"},children:[S&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),S&&(()=>{const[fe,,qe,Be]=g.split(/\s+/).map(Number),Se=cn,_e=Math.max(qe,Be)/Se,Ne=[10,20,50,100,200,500,1e3].find(Ee=>_e/Ee<=15)??1e3,we=Ne<=10?1:Ne<=50?5:Ne<=100?10:Ne<=500?50:100,Fe=Ne<=10?5:Ne/2,$e=Math.floor(fe/Se/we)*we-we,Xe=Math.ceil((fe+qe)/Se/we)*we+we,Je=[];for(let Ee=$e;Ee<=Xe;Ee+=we){const et=(Ee*Se-fe)/qe*100;if(et<-2||et>102)continue;const Dt=Math.abs(Ee),rt=Dt%Ne===0,lt=Dt%Fe===0,gt=rt?10:lt?6:3;Je.push(s.jsx("line",{x1:`${et}%`,y1:20-gt,x2:`${et}%`,y2:20,stroke:"#999",strokeWidth:rt?.8:.4},Ee)),rt&&Je.push(s.jsx("text",{x:`${et}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ee},`t${Ee}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Je})})(),S&&(()=>{const[,fe,qe,Be]=g.split(/\s+/).map(Number),Se=cn,_e=Math.max(qe,Be)/Se,Ne=[10,20,50,100,200,500,1e3].find(Ee=>_e/Ee<=15)??1e3,we=Ne<=10?1:Ne<=50?5:Ne<=100?10:Ne<=500?50:100,Fe=Ne<=10?5:Ne/2,$e=Math.floor(fe/Se/we)*we-we,Xe=Math.ceil((fe+Be)/Se/we)*we+we,Je=[];for(let Ee=$e;Ee<=Xe;Ee+=we){const et=(Ee*Se-fe)/Be*100;if(et<-2||et>102)continue;const Dt=Math.abs(Ee),rt=Dt%Ne===0,lt=Dt%Fe===0,gt=rt?10:lt?6:3;Je.push(s.jsx("line",{x1:24-gt,y1:`${et}%`,x2:24,y2:`${et}%`,stroke:"#999",strokeWidth:rt?.8:.4},Ee)),rt&&Je.push(s.jsx("text",{x:12,y:`${et}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ee},`t${Ee}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Je})})(),s.jsxs("svg",{ref:z,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:g,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":b,cursor:Al?"crosshair":"grab"},onDoubleClick:fe=>{fe.target===fe.currentTarget&&(ra(qe=>!qe),r({kind:"project"}))},onPointerDown:fe=>{if(Oe.multiTouchRef.current)return;if(fe.button===1){Pn.current=!0,z.current&&(z.current.style.cursor="grabbing"),R(fe);return}if(fe.button!==0)return;const qe=fe.pointerType==="touch";if(qe&&fe.target===fe.currentTarget&&o){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=i.flowers.find(_e=>_e.id===o);if(Se){const _e=ge(fe),{zone:Ae,layerId:Ne,petalIndex:we}=si(_e.x,_e.y,Se,i,a),{length:Fe}=qt(Se.fabricSquareSize??i.fabricSquareSize),$e=D0(Ae,a.kind,{hitLayerId:Ne,flower:Se,length:Fe});if($e!=="none"&&$e!=="center"){Gn({x:_e.x,y:_e.y,zone:$e});const Xe=a.kind==="layer"?"layer":"flower",Je=a.kind==="layer"?a.layerId:Ne;switch($e){case"rotate":le(Xe,o,fe,{layerId:Je});return;case"scale":F(Xe,o,fe,{layerId:Je});return;case"width":re(Xe,o,fe,{layerId:Je,petalIndex:we});return;case"radius":oe(Xe,o,fe,{layerId:Je});return;case"move":V(o,fe);return}}}}Oe.setTouchBgStart({x:fe.clientX,y:fe.clientY}),R(fe);return}if(fe.target===fe.currentTarget&&o&&mt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Et.current;if(Se!=="none"&&Se!=="center"){const _e=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:Vn.current;switch(Se){case"rotate":le(_e,o,fe,{layerId:Ae});return;case"scale":F(_e,o,fe,{layerId:Ae});return;case"width":re(_e,o,fe,{layerId:Ae,petalIndex:Wn.current});return;case"radius":oe(_e,o,fe,{layerId:Ae});return;case"move":V(o,fe);return}}}if(fe.target===fe.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&mt!=="grab"){const Be=Pt.current;if(Be!=="none"){const Se=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(Se){fe.preventDefault();const _e=ge(fe);if(Me.current=!0,Be==="rotate"){const Ae=Se.position,Ne=Se.rotation,we=Math.atan2(_e.y-Ae.y,_e.x-Ae.x)*180/Math.PI,Fe=Se.id,$e=ar(Be,"/tsumami/");xt($e),z.current&&(z.current.style.cursor=$e);let Xe=!1;const Je=It=>{const et=ge(It),rt=Math.atan2(et.y-Ae.y,et.x-Ae.x)*180/Math.PI-we;Math.abs(rt)>.5&&(Xe=!0),c.applyUpdate(lt=>{const gt=(lt.leaves??[]).find(Rn=>Rn.id===Fe);gt&&(gt.rotation=((Ne+rt)%360+360)%360)},!1)},Ee=()=>{Me.current=!1,document.removeEventListener("pointermove",Je),document.removeEventListener("pointerup",Ee),Xe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Je),document.addEventListener("pointerup",Ee);return}else if(Be==="scale"){const Ae=Se.position,Ne=Se.scale??1,we=Math.max(1,Math.hypot(_e.x-Ae.x,_e.y-Ae.y)),Fe=Se.id,$e=ar(Be,"/tsumami/");xt($e),z.current&&(z.current.style.cursor=$e);let Xe=!1;const Je=It=>{const et=ge(It),rt=Math.hypot(et.x-Ae.x,et.y-Ae.y)/we;Math.abs(rt-1)>.01&&(Xe=!0),c.applyUpdate(lt=>{const gt=(lt.leaves??[]).find(Rn=>Rn.id===Fe);gt&&(gt.scale=Math.max(.3,Math.min(3,Ne*rt)))},!1)},Ee=()=>{Me.current=!1,document.removeEventListener("pointermove",Je),document.removeEventListener("pointerup",Ee),Xe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Je),document.addEventListener("pointerup",Ee);return}else if(Be==="width"){const Ae=Se.position,Ne=Se.rotation*Math.PI/180,we=-Math.sin(Ne),Fe=Math.cos(Ne),$e=Se.widthScale??1,Xe=Math.max(1,Math.abs((_e.x-Ae.x)*we+(_e.y-Ae.y)*Fe)),Je=Se.id,Ee=ar(Be,"/tsumami/");xt(Ee),z.current&&(z.current.style.cursor=Ee);let It=!1;const et=rt=>{const lt=ge(rt),Rn=Math.abs((lt.x-Ae.x)*we+(lt.y-Ae.y)*Fe)/Xe;Math.abs(Rn-1)>.01&&(It=!0),c.applyUpdate(ca=>{const un=(ca.leaves??[]).find(vt=>vt.id===Je);un&&(un.widthScale=Math.max(.3,Math.min(3,$e*Rn)))},!1)},Dt=()=>{Me.current=!1,document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",Dt),It&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",et),document.addEventListener("pointerup",Dt);return}else{const Ae=_e,Ne={...Se.position},we=Se.id;xt(In("/tsumami/")),z.current&&(z.current.style.cursor=In("/tsumami/"));let Fe=!1;const $e=Je=>{const Ee=ge(Je),It=Ee.x-Ae.x,et=Ee.y-Ae.y;Math.abs(It)+Math.abs(et)>1&&(Fe=!0),c.applyUpdate(Dt=>{const rt=(Dt.leaves??[]).find(lt=>lt.id===we);rt&&(rt.position.x=Math.max(0,Math.min(ja,Ne.x+It)),rt.position.y=Math.max(0,Math.min(ja,Ne.y+et)))},!1)},Xe=()=>{Me.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Xe),Fe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Xe);return}}}}if(fe.target===fe.currentTarget){qe?(Oe.setTouchBgStart({x:fe.clientX,y:fe.clientY}),R(fe)):Al?Y(fe):(Oe.setMouseBgStart({x:fe.clientX,y:fe.clientY}),Pn.current=!0,z.current&&(z.current.style.cursor="grabbing"),R(fe));return}},onPointerMove:fe=>{if(he.current||Me.current)return;if(O.current){X(fe);return}if(y.current){L(fe);return}if(K.current){W(fe);return}if(T.current){k(fe);return}if(N.current){H(fe);return}U(fe),B(fe);const qe=!!c.dragRef?.current||!!O.current||!!y.current||!!K.current||!!T.current||!!N.current||Pn.current,Be=o&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!qe&&Be){const Se=i.flowers.find(_e=>_e.id===o);if(Se){const _e=ge(fe);if(Qe.current&&!_n.current){if(Math.hypot(_e.x-Qe.current.x,_e.y-Qe.current.y)<Dl){const{zone:Ee}=si(_e.x,_e.y,Se,i,a);Ee==="center"&&(xt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}_n.current=!0,Qe.current=null}const{zone:Ae,layerId:Ne,petalIndex:we}=si(_e.x,_e.y,Se,i,a),{length:Fe}=qt(Se.fabricSquareSize??i.fabricSquareSize),$e=D0(Ae,a.kind,{hitLayerId:Ne,flower:Se,length:Fe});$e!=="none"&&(Et.current=$e,Vn.current=Ne,Wn.current=we);const Xe=Kd($e,"/tsumami/");xt(Xe),z.current&&(z.current.style.cursor=Xe)}}if(!qe&&a.kind==="leaf"&&c.selectedLeafId){const Se=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(Se){const _e=ge(fe);if(Qe.current&&!_n.current){if(Math.hypot(_e.x-Qe.current.x,_e.y-Qe.current.y)<Dl)return;_n.current=!0,Qe.current=null}const Ae=um(_e.x,_e.y,Se,i);Ae!=="none"&&(Pt.current=Ae);const Ne=ar(Ae,"/tsumami/");xt(Ne),z.current&&(z.current.style.cursor=Ne)}}},onPointerUp:fe=>{if(!he.current&&!Me.current){if(Gn(null),O.current&&Al&&ra(!1),E(),I(),w(),M(),Z(),G(),q(),Pn.current&&(Pn.current=!1,z.current&&(z.current.style.cursor=Al?"crosshair":"grab")),Oe.touchBgStartRef.current&&fe.pointerType==="touch"){const qe=fe.clientX-Oe.touchBgStartRef.current.x,Be=fe.clientY-Oe.touchBgStartRef.current.y;Math.hypot(qe,Be)<Sn&&r({kind:"project"}),Oe.setTouchBgStart(null);return}if(Oe.setTouchBgStart(null),Oe.mouseBgStartRef.current&&fe.pointerType==="mouse"){const qe=fe.clientX-Oe.mouseBgStartRef.current.x,Be=fe.clientY-Oe.mouseBgStartRef.current.y;if(Oe.setMouseBgStart(null),Math.hypot(qe,Be)<Bt){r({kind:"project"});return}}if(Oe.setMouseBgStart(null),o){const qe=i.flowers.find(Be=>Be.id===o);if(qe){const Be=ge(fe);if(Qe.current&&Math.hypot(Be.x-Qe.current.x,Be.y-Qe.current.y)<Dl){const{zone:Xe}=si(Be.x,Be.y,qe,i,a);Xe==="center"&&(xt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}const{zone:Se,layerId:_e,petalIndex:Ae}=si(Be.x,Be.y,qe,i,a),{length:Ne}=qt(qe.fabricSquareSize??i.fabricSquareSize),we=D0(Se,a.kind,{hitLayerId:_e,flower:qe,length:Ne});we!=="none"&&(Et.current=we,Vn.current=_e,Wn.current=Ae);const Fe=Kd(we,"/tsumami/");xt(Fe),z.current&&(z.current.style.cursor=Fe)}}}},onPointerLeave:()=>{E(),I(),w(),M(),Z(),G(),q(),Pn.current=!1,Oe.setTouchBgStart(null),Oe.setMouseBgStart(null),xt("grab"),Qe.current=null,_n.current=!0,Et.current="none",Pt.current="none",Vn.current=void 0,Wn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[fe,qe,Be,Se]=g.split(/\s+/).map(Number),_e=ja;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:fe,y:qe,width:Be,height:Se,fill:"white"}),s.jsx("rect",{x:0,y:0,width:_e,height:_e,fill:"black"})]})}),s.jsx("rect",{x:fe,y:qe,width:Be,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:ja,height:ja,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:ja,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:ja,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),S&&(()=>{const fe=cn,[qe,Be,Se,_e]=g.split(/\s+/).map(Number),Ae=Math.max(Se,_e)/fe,we=[10,20,50,100,200,500,1e3].find(lt=>Ae/lt<=15)??1e3,Fe=Math.floor(qe/fe/we)*we-we,$e=Math.ceil((qe+Se)/fe/we)*we+we,Xe=Math.floor(Be/fe/we)*we-we,Je=Math.ceil((Be+_e)/fe/we)*we+we,Ee=Xe*fe,It=Je*fe,et=Fe*fe,Dt=$e*fe,rt=[];for(let lt=Fe;lt<=$e;lt+=we){const gt=lt*fe;rt.push(s.jsx("line",{x1:gt,y1:Ee,x2:gt,y2:It,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=Xe;lt<=Je;lt+=we){const gt=lt*fe;rt.push(s.jsx("line",{x1:et,y1:gt,x2:Dt,y2:gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return s.jsx("g",{children:rt})})(),s.jsx(Gm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:z,applyUpdateRef:Pe,clientToSvgPointRef:He,stencilDraggingRef:he,onSelectStencil:c.onSelectStencil}),s.jsx(Rm,{project:i,selection:a,setSelection:r,paletteMap:f,selectedFlowerId:o,zoneCursorValue:mt,dashSyncToken:D,stageRef:z,multiTouchRef:Oe.multiTouchRef,clientToSvgPoint:ge,togglePetalSelection:de,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:V,beginScaleDrag:F,beginRotationDrag:le,beginWidthScaleDrag:re,beginRadiusDrag:oe,clickOriginRef:Qe,zoneActivatedRef:_n,setZoneCursorValue:xt,setTouchZoneIndicator:Gn,hoverZoneRef:Et,hoverHitLayerIdRef:Vn,hoverHitPetalIndexRef:Wn}),s.jsx(Hm,{leaves:c.leaves,project:i,selection:a,paletteMap:f,dashSyncToken:D,selectedLeafId:c.selectedLeafId,groupHighlightedLeafIds:c.groupHighlightedLeafIds,zoneCursorValue:mt,stageRef:z,applyUpdateRef:Pe,clientToSvgPointRef:He,leafDraggingRef:Me,clickOriginRef:Qe,zoneActivatedRef:_n,setZoneCursorValue:xt,onSelectLeaf:c.onSelectLeaf,onSelectGroup:c.onSelectGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:Pt}),s.jsx(Um,{project:i,selection:a,selectedFlowerId:o,dashSyncToken:D}),s.jsx(Om,{rect:P}),s.jsx(Ym,{indicator:fi})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Vd(c,i,a){return Math.min(a,Math.max(i,c))}function Ze({value:c,onChange:i,min:a=-1/0,max:r=1/0,step:f,className:o,...h}){const[v,d]=ee.useState(null),m=ee.useRef(null),_=ee.useCallback(C=>{const z=Number(C);isNaN(z)||i(Vd(z,a,r)),d(null)},[i,a,r]),S=ee.useCallback(()=>{d(null)},[]),p=ee.useCallback(C=>{const z=f??1,b=(Number(v??c)||0)+z*C,D=Vd(b,a,r),R=String(z).includes(".")?String(z).split(".")[1].length:0,B=Number(D.toFixed(R));d(String(B)),i(B)},[v,c,f,a,r,i]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:m,type:"text",inputMode:"decimal",className:o??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:v??String(c),onChange:C=>d(C.target.value),onFocus:C=>{d(String(c)),requestAnimationFrame(()=>C.target.select())},onBlur:()=>{v!==null&&_(v)},onKeyDown:C=>{C.key==="Enter"?(C.preventDefault(),v!==null&&_(v),m.current?.blur()):C.key==="Escape"?(C.preventDefault(),S(),m.current?.blur()):(C.key==="ArrowUp"||C.key==="ArrowDown")&&(C.preventDefault(),p(C.key==="ArrowUp"?1:-1))},...h}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:C=>{C.preventDefault(),p(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:C=>{C.preventDefault(),p(-1)},children:""})]})]})}function hr({title:c,compact:i,children:a}){return s.jsxs("div",{className:i?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Zm({flower:c,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const o=ee.useMemo(()=>{const b=[...c.layers||[]].sort((P,V)=>P.order-V.order);if(b.length<2)return{mode:"uniform",step:2};const D=b.map(P=>P.scale??1);if(D.every(P=>Math.abs(P-D[0])<.001))return{mode:"uniform",step:2};const B=b[0],q=b[b.length-1],Y=(q.order??1)-(B.order??1);if(Y<=0)return{mode:"gradual",step:2};const E=((B.scale??1)-(q.scale??1))/Y,O=Math.round(E*i*2)/2;return{mode:"gradual",step:pe(O,0,10)}},[c.id]),[h,v]=ee.useState(o.mode),[d,m]=ee.useState(o.step),[_,S]=ee.useState(0);ee.useEffect(()=>{v(o.mode),m(o.step),S(0)},[o]);const p=ee.useMemo(()=>[...c.layers||[]].sort((b,D)=>b.order-D.order),[c.layers]),C=p[0],z=C?C.order:0,g=ee.useMemo(()=>{if(!C)return[];const b=C.scale??1,D=C.radius,R=new Map;for(const P of p){const V=P.order-z;if(V===0)R.set(P.id,b);else if(h==="uniform")R.set(P.id,b);else{const U=d/i;R.set(P.id,pe(b-V*U,.3,3))}}const{length:B}=qt(i),q=p.length,Y=70*Math.PI/180,X=new Map;let E=D;X.set(C.id,D);for(let P=1;P<q;P++){const V=p[P-1],U=R.get(V.id)??1,G=B*U;let K;if(a===""){const W=q-1-P,w=q>1?W/(q-1)*Y:0;K=G*(30/100)*Math.cos(w)}else K=G/3;E=E-K,X.set(p[P].id,Math.max(2,E))}const O=p.map(P=>{const V=R.get(P.id)??1,U=Math.round((X.get(P.id)??D)*10)/10,G=Math.round(i*V*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:V,effFabricSize:G,effRadius:U}});if(O.length>0){const P=O[O.length-1],V=B*P.effScale,U=Math.floor(V*.28*10)/10;P.effRadius>U&&(P.effRadius=U)}return O},[p,C,z,h,d,30,i,a]);return ee.useEffect(()=>{_!==0&&(!C||g.length===0||r(b=>{const D=b.flowers.find(B=>B.id===c.id);if(!D)return;for(const B of g){const q=D.layers.find(Y=>Y.id===B.id);q&&(q.scale=pe(B.effScale,.3,3),q.radius=pe(B.effRadius,2,120))}const R=[...D.layers].sort((B,q)=>q.order-B.order);for(let B=1;B<R.length;B++){const q=R[B-1],Y=R[B];Y.offsetAngle=ll(q.petalCount,q.offsetAngle,Y.petalCount)}}))},[_]),p.length<2?null:s.jsxs(hr,{title:"",children:[s.jsxs(js,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,onChange:b=>{v(b.target.value),S(D=>D+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),h==="gradual"&&s.jsxs(js,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,min:0,max:10,step:.5,onChange:b=>{m(b),S(D=>D+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),g.map(b=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:b.name}),s.jsxs("span",{children:[" ",b.effFabricSize,"mm /  ",Math.round(rr(b.effRadius,b.effScale,i)),"mm"]})]},b.id))]})]})}const r1="tsumami_recent_colors_v1",Os=10;function Xm(c){const i=new Set;for(const a of c.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const f of r.petalOverrides)f.colorId&&i.add(f.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function Es(){try{const c=localStorage.getItem(r1);if(c){const i=JSON.parse(c);if(Array.isArray(i))return i.slice(0,Os)}}catch{}return[]}function Jm(c){try{localStorage.setItem(r1,JSON.stringify(c.slice(0,Os)))}catch{}}function Vm(c){const i=Es(),a=[c,...i.filter(r=>r!==c)].slice(0,Os);Jm(a)}function Zn({palette:c,project:i,selectedColorId:a,onChange:r,size:f="md"}){const[o,h]=ee.useState(!1),v=ee.useRef(null),[d,m]=ee.useState(Es);ee.useEffect(()=>{if(!o)return;const g=b=>{v.current&&!v.current.contains(b.target)&&h(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[o]);const _=ee.useMemo(()=>Xm(i),[i]),S=ee.useMemo(()=>{const g=new Set;g.add(a);for(const b of _)g.add(b);for(const b of d)g.add(b);return c.filter(b=>g.has(b.id))},[c,a,_,d]),p=ee.useCallback(g=>{Vm(g),m(Es()),r(g)},[r]),C=f==="sm"?"h-4 w-4":"h-5 w-5",z=o?c:S;return s.jsx("div",{ref:v,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[z.map(g=>s.jsx("button",{className:`${C} rounded border-2 ${a===g.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:g.hex},title:g.name,"aria-label":`: ${g.name}`,onClick:()=>p(g.id)},g.id)),c.length>S.length&&s.jsx("button",{className:`${C} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>h(g=>!g),title:o?"":"","aria-label":o?"":"",children:s.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:o?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Wm({project:c,applyUpdate:i,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(f=>{const o=f.flowers.find(h=>h.id===a.id);o&&(o.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:rl.map(r=>{const f=a.layers.every(o=>o.petalType===r);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const h=o.flowers.find(v=>v.id===a.id);if(h)for(const v of h.layers)v.petalType=r}),children:r},r)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:e1.map(r=>{const f=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==r&&i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;h.placementMode=r;const v=h.fabricSquareSize??o.fabricSquareSize;r===""?h.baseDiameter=ir(h.flowerDiameter):h.baseDiameter||(h.baseDiameter=o.baseDiameter),Hh(h.layers,v,r,h.flowerDiameter)},!0)},children:r},r)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ze,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:r=>i(f=>{const o=f.flowers.find(h=>h.id===a.id);o&&(o.baseDiameter=r)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[ir(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(f=>{const o=f.flowers.find(d=>d.id===a.id);if(!o)return;const h=oi(r);for(const d of o.layers)d.petalCount=r,d.widthScale=h;const v=[...o.layers].sort((d,m)=>m.order-d.order);for(let d=1;d<v.length;d++)v[d].offsetAngle=ll(v[d-1].petalCount,v[d-1].offsetAngle,v[d].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);if(!o)return;o.flowerDiameter=r,o.placementMode===""&&(o.baseDiameter=ir(r));const h=[...o.layers].sort((v,d)=>v.order-d.order);Q0(h,o.fabricSquareSize??f.fabricSquareSize,r);for(const v of h){const d=o.layers.find(m=>m.id===v.id);d&&(d.radius=v.radius,d.scale=v.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(f=>{const o=f.flowers.find(h=>h.id===a.id);if(o)for(const h of o.layers)h.widthScale=r})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(f=>{const o=f.flowers.find(h=>h.id===a.id);o&&(o.rotation=r)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(f=>{const o=f.flowers.find(h=>h.id===a.id);if(o)for(const h of o.layers)h.colorId=r})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(f=>{const o=f.flowers.find(h=>h.id===a.id);if(o)for(const h of o.layers)if(r.target.checked){if(!h.doublePetal){const v=h._doublePetalCache;h.doublePetal=v??{innerSizeReduction:2},delete h._doublePetalCache}}else h.doublePetal&&(h._doublePetalCache={...h.doublePetal}),delete h.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(v=>v.doublePetal.innerSizeReduction))],f=r.length===1?r[0]:null,o=[...new Set(a.layers.map(v=>v.doublePetal.innerColorId??v.colorId))],h=o.length===1?o[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:v=>i(d=>{const m=d.flowers.find(_=>_.id===a.id);if(m)for(const _ of m.layers)_.doublePetal&&(_.doublePetal.innerSizeReduction=pe(v,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:h??"",onChange:v=>i(d=>{const m=d.flowers.find(_=>_.id===a.id);if(m)for(const _ of m.layers)_.doublePetal&&(v===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=v)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Xh.map(r=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const o=f.flowers.find(h=>h.id===a.id);o?.center&&(o.center.type=r,r===""&&!o.center.pepCount&&(o.center.pepCount=12),r===""&&!o.center.color2&&(o.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:r},r))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(f=>{const o=f.flowers.find(h=>h.id===a.id);o?.center&&(o.center.size=r)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:r=>i(f=>{const o=f.flowers.find(h=>h.id===a.id);o?.center&&(o.center.color=r)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(f=>{const o=f.flowers.find(h=>h.id===a.id);o?.center&&(o.center.color2=r)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(f=>{const o=f.flowers.find(h=>h.id===a.id);o?.center&&(o.center.pepCount=r)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const f=r.flowers.find(o=>o.id===a.id);f&&delete f.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const f=r.flowers.find(o=>o.id===a.id);f&&(f.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Zm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function Pm({project:c,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:f,onAddToGroup:o,onMergeGroups:h}){const v=a,d=[...new Set(v.flatMap(S=>S.layers.map(p=>p.petalType)))],m=d.length===1?d[0]:null,_=S=>{i(p=>{for(const C of v){const z=p.flowers.find(g=>g.id===C.id);z&&S(z)}},!0)};return s.jsxs(hr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(S=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:S.hex},title:S.name,onClick:()=>_(p=>{for(const C of p.layers)C.colorId=S.id})},S.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:rl.map(S=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${m===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>_(p=>{for(const C of p.layers)C.petalType=S}),children:S},S))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ze,{min:5,max:24,value:v[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:S=>{const p=oi(S);_(C=>{for(const g of C.layers)g.petalCount=S,g.widthScale=p;const z=[...C.layers].sort((g,b)=>b.order-g.order);for(let g=1;g<z.length;g++)z[g].offsetAngle=ll(z[g-1].petalCount,z[g-1].offsetAngle,z[g].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:v.map(S=>s.jsxs("div",{children:[S.name," (",S.layers.length,")"]},S.id))}),(()=>{const S=v.map(b=>al(c,b.id)),p=v.filter(b=>!al(c,b.id)).map(b=>b.id),C=[...new Set(S.filter(Boolean).map(b=>b.id))],z=p.length===v.length,g=C.length===1&&S.every(b=>b!=null);return s.jsxs(s.Fragment,{children:[z&&v.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(v.map(b=>b.id)),children:""}),g&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(C[0]),children:""}),C.length===1&&p.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(C[0],p),children:[" (+",p.length,")"]}),C.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>h(C,p),children:[" (",C.length,"",p.length>0?` +${p.length}`:"",")"]})]})})()]})}function Qm({project:c,applyUpdate:i,selectedFlowers:a,groups:r,groupId:f,onUngroupFlowers:o,onUngroupAll:h}){const v=r.find(C=>C.id===f);if(!v)return null;const d=a,m=(c.leaves??[]).filter(C=>v.leafIds.includes(C.id)),_=[...new Set(d.flatMap(C=>C.layers.map(z=>z.petalType)))],S=_.length===1?_[0]:null,p=C=>{i(z=>{for(const g of d){const b=z.flowers.find(D=>D.id===g.id);b&&C(b)}},!0)};return s.jsxs(hr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:v.name,onChange:C=>i(z=>{const g=(z.groups??[]).find(b=>b.id===v.id);g&&(g.name=C.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[d.length>0&&s.jsxs("span",{children:[d.length,""]}),d.length>0&&m.length>0&&s.jsx("span",{children:" + "}),m.length>0&&s.jsxs("span",{children:[m.length,""]})]}),d.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(C=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:C.hex},title:C.name,onClick:()=>p(z=>{for(const g of z.layers)g.colorId=C.id})},C.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:rl.map(C=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S===C?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(z=>{for(const g of z.layers)g.petalType=C}),children:C},C))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ze,{min:5,max:24,value:d[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:C=>{const z=oi(C);p(g=>{for(const D of g.layers)D.petalCount=C,D.widthScale=z;const b=[...g.layers].sort((D,R)=>R.order-D.order);for(let D=1;D<b.length;D++)b[D].offsetAngle=ll(b[D-1].petalCount,b[D-1].offsetAngle,b[D].petalCount)})}})]}),s.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[d.map(C=>s.jsxs("div",{children:[C.name," (",C.layers.length,")"]},C.id)),m.map(C=>s.jsx("div",{children:C.name},C.id))]}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(v.id),children:""}),s.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>h(v.id),children:""})]})}function Fm({project:c,flowerIds:i,leafIds:a,onGroupMixed:r,onUngroupFlowers:f,onAddToGroup:o,onAddLeavesToGroup:h,onMergeGroups:v}){const d=c.flowers.filter(R=>i.includes(R.id)),m=(c.leaves??[]).filter(R=>a.includes(R.id)),_=i.map(R=>al(c,R)),S=a.map(R=>Nl(c,R)),p=[..._,...S],C=i.filter(R=>!al(c,R)),z=a.filter(R=>!Nl(c,R)),g=[...new Set(p.filter(Boolean).map(R=>R.id))],b=C.length+z.length===i.length+a.length,D=g.length===1&&p.every(R=>R!=null);return s.jsxs(hr,{title:"",children:[s.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",d.length," +  ",m.length,""]}),s.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[d.map(R=>s.jsxs("div",{children:[" ",R.name]},R.id)),m.map(R=>s.jsxs("div",{children:[" ",R.name||""]},R.id))]}),s.jsxs(s.Fragment,{children:[b&&d.length+m.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(i,a),children:""}),D&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(g[0]),children:""}),g.length===1&&(C.length>0||z.length>0)&&!b&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{C.length>0&&o(g[0],C),z.length>0&&h(g[0],z)},children:[" (+",C.length+z.length,")"]}),g.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(g,C),children:[" (",g.length,")"]})]})]})}function $m({project:c,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:f=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);v&&(v.name=f.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:rl.map(f=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);v&&(v.petalType=f)}),children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:5,max:24,value:r.petalCount,onChange:f=>{i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);if(v){v.petalCount=f,v.widthScale=oi(f);const d=[...h.layers].sort((m,_)=>_.order-m.order);for(let m=1;m<d.length;m++)d[m].offsetAngle=ll(d[m-1].petalCount,d[m-1].offsetAngle,d[m].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{min:1,max:200,step:.5,value:Math.round(rr(r.radius,r.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:f=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);v&&(v.radius=pe(Rh(f,v.scale??1,h.fabricSquareSize??o.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(r.scale??1)*10)/10,onChange:f=>i(o=>{const h=o.flowers.find(S=>S.id===a.id);if(!h)return;const v=h.layers.find(S=>S.id===r.id);if(!v)return;const d=h.fabricSquareSize??o.fabricSquareSize;v.scale=pe(Math.round(f/d*100)/100,.3,3);const m=[...h.layers].sort((S,p)=>S.order-p.order),_=m.findIndex(S=>S.id===v.id);if(_>=0)for(let S=_-1;S>=0;S--){const p=m[S],C=m[S+1],g=qt(d).length*(C.scale??1)/3;p.radius=Math.round((C.radius+g)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:f=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);v&&(v.scale=f)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:f=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);v&&(v.widthScale=f)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{value:Number(r.offsetAngle??0).toFixed(1),onChange:f=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);v&&(v.offsetAngle=f)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:r.colorId,onChange:f=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);v&&(v.colorId=f)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:f=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);if(v)if(f.target.checked){const d=v._doublePetalCache;v.doublePetal=d??{innerSizeReduction:2},delete v._doublePetalCache}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:f=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);v?.doublePetal&&(v.doublePetal.innerSizeReduction=pe(f,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:f=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);v?.doublePetal&&(f===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=f)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:f=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);v&&(v.visible=f.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:f=>i(o=>{const h=o.flowers.find(d=>d.id===a.id);if(!h)return;const v=h.layers.find(d=>d.id===r.id);v&&(v.locked=f.target.checked)})}),""]})]})]})]})}function eb({project:c,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const f=r,o=f.map(b=>{const D=a.layers.find(R=>R.id===b.layerId);return{...b,layer:D}}).filter(b=>b.layer!=null),h=(b,D)=>{const R=a.layers.find(q=>q.id===b);return R?(R?.petalOverrides?.find(q=>q.index===D)??null)?.colorId??R.colorId:null},v=(b,D)=>{const R=a.layers.find(q=>q.id===b);return R?(R?.petalOverrides?.find(q=>q.index===D)??null)?.petalType??R.petalType:null},d=o.map(b=>h(b.layerId,b.index)),m=o.map(b=>v(b.layerId,b.index)),_=d.length>0&&d.every(b=>b===d[0]),p=m.length>0&&m.every(b=>b===m[0])?m[0]:null,C=b=>{i(D=>{const R=D.flowers.find(B=>B.id===a.id);if(R)for(const B of f){const q=R.layers.find(X=>X.id===B.layerId);if(!q)continue;q.petalOverrides||(q.petalOverrides=[]);const Y=q.petalOverrides.find(X=>X.index===B.index);if(Y)b.colorId!==void 0&&(b.colorId===q.colorId?delete Y.colorId:Y.colorId=b.colorId),b.petalType!==void 0&&(b.petalType===q.petalType?delete Y.petalType:Y.petalType=b.petalType),!Y.colorId&&!Y.petalType&&(q.petalOverrides=q.petalOverrides.filter(X=>X.index!==B.index),q.petalOverrides.length===0&&(q.petalOverrides=void 0));else{const X={index:B.index};b.colorId!==void 0&&b.colorId!==q.colorId&&(X.colorId=b.colorId),b.petalType!==void 0&&b.petalType!==q.petalType&&(X.petalType=b.petalType),(X.colorId!==void 0||X.petalType!==void 0)&&q.petalOverrides.push(X)}}},!0)},z=()=>{i(b=>{const D=b.flowers.find(R=>R.id===a.id);if(D)for(const R of f){const B=D.layers.find(q=>q.id===R.layerId);!B||!B.petalOverrides||(B.petalOverrides=B.petalOverrides.filter(q=>q.index!==R.index),B.petalOverrides.length===0&&(B.petalOverrides=void 0))}},!0)},g=o.some(b=>b.layer?.petalOverrides?.find(D=>D.index===b.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",g&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(b=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${_&&d[0]===b.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:b.hex},title:b.name,"aria-label":`: ${b.name}`,onClick:()=>C({colorId:b.id})},b.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:rl.map(b=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===b?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>C({petalType:b}),children:b},b))})]}),g&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:z,children:""})]})]})}function tb({project:c,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:f}){const o=r?.petalOverrides?.find(S=>S.index===f)??null,h=o?.colorId??r.colorId,v=o?.petalType??r.petalType,d=o!=null,m=S=>{i(p=>{const C=p.flowers.find(b=>b.id===a.id);if(!C)return;const z=C.layers.find(b=>b.id===r.id);if(!z)return;z.petalOverrides||(z.petalOverrides=[]);const g=z.petalOverrides.find(b=>b.index===f);if(g)S.colorId!==void 0&&(g.colorId=S.colorId),S.petalType!==void 0&&(g.petalType=S.petalType),S.innerColorId!==void 0&&(g.innerColorId=S.innerColorId),S.innerSizeReduction!==void 0&&(g.innerSizeReduction=S.innerSizeReduction),g.colorId!==void 0||g.petalType!==void 0||g.innerColorId!==void 0||g.innerSizeReduction!==void 0?(g.colorId===void 0&&delete g.colorId,g.petalType===void 0&&delete g.petalType,g.innerColorId===void 0&&delete g.innerColorId,g.innerSizeReduction===void 0&&delete g.innerSizeReduction):(z.petalOverrides=z.petalOverrides.filter(D=>D.index!==f),z.petalOverrides.length===0&&(z.petalOverrides=void 0));else{const b={index:f};S.colorId!==void 0&&(b.colorId=S.colorId),S.petalType!==void 0&&(b.petalType=S.petalType),S.innerColorId!==void 0&&(b.innerColorId=S.innerColorId),S.innerSizeReduction!==void 0&&(b.innerSizeReduction=S.innerSizeReduction),(b.colorId!==void 0||b.petalType!==void 0||b.innerColorId!==void 0||b.innerSizeReduction!==void 0)&&z.petalOverrides.push(b)}},!0)},_=()=>{i(S=>{const p=S.flowers.find(z=>z.id===a.id);if(!p)return;const C=p.layers.find(z=>z.id===r.id);!C||!C.petalOverrides||(C.petalOverrides=C.petalOverrides.filter(z=>z.index!==f),C.petalOverrides.length===0&&(C.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",f+1,d&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:h,onChange:S=>{S===r.colorId?m({colorId:void 0}):m({colorId:S})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:rl.map(S=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{S===r.petalType?m({petalType:void 0}):m({petalType:S})},children:S},S))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:S=>i(p=>{const C=p.flowers.find(g=>g.id===a.id);if(!C)return;const z=C.layers.find(g=>g.id===r.id);if(z)if(S.target.checked){const g=z._doublePetalCache;z.doublePetal=g??{innerSizeReduction:2},delete z._doublePetalCache}else z.doublePetal&&(z._doublePetalCache={...z.doublePetal}),delete z.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const S=r.doublePetal,p=o?.innerSizeReduction??S.innerSizeReduction,C=o?.innerColorId??S.innerColorId??h;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",o?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ze,{min:1,max:30,step:1,value:p,onChange:z=>{const g=pe(z,1,30);g===S.innerSizeReduction?m({innerSizeReduction:void 0}):m({innerSizeReduction:g})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:C,size:"sm",onChange:z=>{const g=S.innerColorId??r.colorId;m(z===g?{innerColorId:void 0}:{innerColorId:z})}})]})]})})(),d&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:_,children:""})]})]})}function nb({project:c,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const f=a,o=h=>{i(v=>{const d=(v.stencils??[]).find(m=>m.id===f.id);d&&Object.assign(d,h)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:h=>o({variant:h.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(h=>s.jsx("option",{value:h,children:a1[h]},h))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:h=>o({pose:h.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(h=>s.jsx("option",{value:h,children:i1[h]},h))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:h=>o({locked:h.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function lb({project:c,applyUpdate:i,selectedLeaf:a,groups:r,onDeleteLeaf:f,onAddLeafToGroup:o,onRemoveLeafFromGroup:h}){const v=a,d=_=>{i(S=>{const p=(S.leaves??[]).find(C=>C.id===v.id);p&&_(p)},!0)},m=Nl(c,v.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:v.name,onChange:_=>d(S=>{S.name=_.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:rl.map(_=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v.petalType===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>d(S=>{S.petalType=_}),children:_},_))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:v.colorId,onChange:_=>d(S=>{S.colorId=_})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{min:3,max:80,step:.5,value:Math.round((v.fabricSquareSize??c.fabricSquareSize)*(v.scale??1)*10)/10,onChange:_=>d(S=>{const p=S.fabricSquareSize??c.fabricSquareSize;S.scale=pe(Math.round(_/p*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.4,max:2.5,step:.05,value:Number(v.scale??1).toFixed(2),onChange:_=>d(S=>{S.scale=_})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(v.widthScale??1).toFixed(2),onChange:_=>d(S=>{S.widthScale=_})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ze,{value:Number(v.rotation).toFixed(1),onChange:_=>d(S=>{S.rotation=_})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.doublePetal,onChange:_=>d(S=>{if(_.target.checked){const p=S._doublePetalCache;S.doublePetal=p??{innerSizeReduction:2},delete S._doublePetalCache}else S.doublePetal&&(S._doublePetalCache={...S.doublePetal}),delete S.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),v.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:1,value:v.doublePetal.innerSizeReduction,onChange:_=>d(S=>{S.doublePetal&&(S.doublePetal.innerSizeReduction=pe(_,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:v.doublePetal.innerColorId??v.colorId,onChange:_=>d(S=>{S.doublePetal&&(_===S.colorId?delete S.doublePetal.innerColorId:S.doublePetal.innerColorId=_)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.visible,onChange:_=>d(S=>{S.visible=_.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.locked,onChange:_=>d(S=>{S.locked=_.target.checked})}),""]})]}),m?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",m.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>h(v.id),children:""})]}):r.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:_=>{_.target.value&&o(v.id,_.target.value)},children:[s.jsx("option",{value:"",children:"..."}),r.map(_=>s.jsx("option",{value:_.id,children:_.name},_.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(v.id),children:""})]})]})}function ab({project:c,applyUpdate:i,leafIds:a,onGroupLeaves:r,onUngroupLeaves:f,onAddLeavesToGroup:o,onMergeLeafGroups:h}){const v=(c.leaves??[]).filter(d=>a.includes(d.id));return v.length===0?null:s.jsxs(hr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:"",onChange:d=>i(m=>{for(const _ of a){const S=(m.leaves??[]).find(p=>p.id===_);S&&(S.colorId=d)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:rl.map(d=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(m=>{for(const _ of a){const S=(m.leaves??[]).find(p=>p.id===_);S&&(S.petalType=d)}},!0),children:d},d))}),(()=>{const d=v.map(C=>Nl(c,C.id)),m=v.filter(C=>!Nl(c,C.id)).map(C=>C.id),_=[...new Set(d.filter(Boolean).map(C=>C.id))],S=m.length===v.length,p=_.length===1&&d.every(C=>C!=null);return s.jsxs(s.Fragment,{children:[S&&v.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""}),p&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(_[0]),children:""}),_.length===1&&m.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(_[0],m),children:[" (+",m.length,")"]}),_.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>h(_,m),children:[" (",_.length,"",m.length>0?` +${m.length}`:"",")"]})]})})()]})}function ib(c){const{project:i,selection:a,applyUpdate:r,selectedFlower:f,selectedFlowers:o,selectedLayer:h,selectedPetalIndex:v,selectedPetals:d}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:m=>r(_=>_.title=m.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{value:i.fabricSquareSize,min:5,max:60,onChange:m=>r(_=>_.fabricSquareSize=m),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{value:i.baseDiameter,min:10,max:100,onChange:m=>r(_=>_.baseDiameter=m),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",ia(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",ia(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:m=>r(_=>_.notes=m.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(m=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:m.hex},title:m.name},m.id))})]})]})]}),a.kind==="flower"&&f&&s.jsx(Wm,{project:i,applyUpdate:r,selectedFlower:f}),a.kind==="flowers"&&o.length>0&&s.jsx(Pm,{project:i,applyUpdate:r,selectedFlowers:o,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&s.jsx(Qm,{project:i,applyUpdate:r,selectedFlowers:o,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers,onUngroupAll:c.onUngroupAll}),a.kind==="layer"&&f&&h&&s.jsx($m,{project:i,applyUpdate:r,selectedFlower:f,selectedLayer:h}),a.kind==="petals"&&f&&d.length>0&&s.jsx(eb,{project:i,applyUpdate:r,selectedFlower:f,selectedPetals:d}),a.kind==="petal"&&f&&h&&v!==null&&s.jsx(tb,{project:i,applyUpdate:r,selectedFlower:f,selectedLayer:h,selectedPetalIndex:v}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(nb,{project:i,applyUpdate:r,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(lb,{project:i,applyUpdate:r,selectedLeaf:c.selectedLeaf,groups:c.groups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(ab,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="mixed"&&s.jsx(Fm,{project:i,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:c.onGroupMixed,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeGroups:c.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!f?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function rb(c){const i={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?ia(c.baseDiameter,c.fabricSquareSize,i).diameter:sr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function cb(c){const i={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?qh(c.flowerDiameter,c.baseDiameter,i):kh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function ub({palette:c,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:f}){const o=d=>{a(m=>{const _={...m,...d};return d.placementMode&&d.placementMode!==m.placementMode&&(d.placementMode===""?(_.baseDiameter=30,_.fabricSquareSize=20,_.layerCount=4,_.petalCount=12):(_.fabricSquareSize=20,_.layerCount=1,_.petalCount=6)),_.flowerDiameter=rb(_),_})},h=d=>{a(m=>{const _={...m,flowerDiameter:d};return _.fabricSquareSize=cb(_),_})},v=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&v.push("");const d=Bh(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>d&&v.push(`${d}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:d=>d.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:e1.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>o({placementMode:d}),children:d},d))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:d=>o({fabricSquareSize:d})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:d=>o({layerCount:d})})]})]}),i.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:d=>o({baseDiameter:d})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:d=>a(m=>({...m,petalCount:d}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:h})]})]}),v.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:v.map((d,m)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:d},m))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(d=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||c[0]?.id)===d.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>a(m=>({...m,colorId:d.id}))},d.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:rl.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(m=>({...m,petalType:d})),children:d},d))})]}),i.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:d=>o({sizeStepMm:d})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function sb(c){return Math.round(c*Math.SQRT2/2*10)/10}function xb(c){return Math.round(c*Math.SQRT2*10)/10}function ob({palette:c,addLeafOpts:i,setAddLeafOpts:a,onConfirm:r,onCancel:f}){const o=v=>{a(d=>({...d,fabricSquareSize:v,leafSizeMm:sb(v)}))},h=v=>{a(d=>({...d,leafSizeMm:v,fabricSquareSize:xb(v)}))};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:v=>v.stopPropagation(),"data-testid":"dialog-add-leaf",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:o})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:i.leafSizeMm,onChange:h})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(v=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||c[0]?.id)===v.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:v.hex},title:v.name,"aria-label":`: ${v.name}`,onClick:()=>a(d=>({...d,colorId:v.id}))},v.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:rl.map(v=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:v})),children:v},v))})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-leaf",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}(function(c,i){const a=rn,r=c();for(;;)try{if(parseInt(a(369))/1+-parseInt(a(326))/2*(-parseInt(a(350))/3)+parseInt(a(328))/4*(-parseInt(a(332))/5)+-parseInt(a(367))/6*(parseInt(a(364))/7)+-parseInt(a(352))/8+parseInt(a(371))/9+parseInt(a(321))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Z0,286792);function rn(c,i){c=c-299;const a=Z0();let r=a[c];if(rn.zriFDv===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};rn.ePDACv=f,rn.YXFkzJ={},rn.zriFDv=!0}const o=a[0],h=c+o,v=rn.YXFkzJ[h];if(v)r=v;else{const d=function(m){this.jOWfcH=m,this.lfEfAq=[1,0,0],this.yPLpLP=function(){return"newState"},this.ycJevd="\\w+ *\\(\\) *{\\w+ *",this.QMHIBA=`['|"].+['|"];? *}`};d.prototype.DCxxNW=function(){const m=new RegExp(this.ycJevd+this.QMHIBA),_=m.test(this.yPLpLP.toString())?--this.lfEfAq[1]:--this.lfEfAq[0];return this.WStXHR(_)},d.prototype.WStXHR=function(m){return~m?this.bpifmY(this.jOWfcH):m},d.prototype.bpifmY=function(m){for(let _=0,S=this.lfEfAq.length;_<S;_++)this.lfEfAq.push(Math.round(Math.random())),S=this.lfEfAq.length;return m(this.lfEfAq[0])},new d(rn).DCxxNW(),r=rn.ePDACv(r),rn.YXFkzJ[h]=r}return r}const fb=(function(){const c={ieVac:function(a,r){return a(r)},cnTWg:"jREMs"};let i=!0;return function(a,r){const f=rn,o={TXhFz:"5|4|3|1|2|0",xxRGN:function(h,v){return c.ieVac(h,v)},pCfUF:f(331)};if(c[f(370)]==="dplwL"){const h=o.TXhFz.split("|");let v=0;for(;;){switch(h[v++]){case"0":_0x5172a2[f(349)][f(314)].userSelect="";continue;case"1":o[f(309)](_0xa43fb,!1);continue;case"2":_0x397c19.body[f(314)][f(368)]="";continue;case"3":_0x5a31c1.current=null;continue;case"4":_0xe6ae30.removeEventListener(o[f(355)],_0x5aba49);continue;case"5":_0x37ffe9.removeEventListener(f(315),_0x2ce48d);continue}break}}else{const h=i?function(){const v=f;if(r)if(v(363)==="gnqFE"){const d=r.apply(a,arguments);return r=null,d}else _0x11dcfc[v(339)]?.()}:function(){};return i=!1,h}}})(),Ls=fb(void 0,function(){const c=rn,i={vBoQP:"(((.+)+)+)+$"};return Ls[c(327)]()[c(337)](i.vBoQP)[c(327)]()[c(333)](Ls).search("(((.+)+)+)+$")});function Z0(){const c=["y3vYC29Y","ndC5mdCXvKHvDM5T","y25uv2C","ndaYodq1ngjgB3HAtW","CgfYC2u","mNWXFdn8mhW1Fdq","C0L4DfG","wgH5wLi","DxnLCLnLBgvJDa","D095uxq","rxPdBLu","thfHvLu","y2PKyKW","BwLU","z3DrDva","EhHsr04","sLDksNq","CMvTB3zLrxzLBNrmAxn0zw5LCG","kcGOlISPkYKRksSK","vfbJzuC","C3r5Bgu","Cg9PBNrLCM1VDMu","ugzsv3u","C3rYAw5NAwz5","vKPMCMS","kg1PBI13Awr0AdOGnZy4ChGP","BNrUqMC","ntq3ndGWsgXVCLrV","BM9Uzq","D2nZrM4","CMLNAhq","Bwf4","mZu3nJjUv2nNzNK","Dg9tDhjPBMC","ndbHC0HqzwC","zM5fuu4","B0D2Dw8","Cg9PBNrLCNvW","mJu2nJu1AhLhEMzu","y29UC3rYDwn0B3i","Eg1RtMe","yxLOyvC","ufLsEvi","C2vHCMnO","DMLMENG","y3vYCMvUDa","AuDVtfC","AKzVwwK","Ewf3EuW","qKrguvK","C3rHCNrxAwr0Ahm","wLnRufa","BNvTyMvY","sgfhrvO","vgjyqvO","yM9KEq","m0zUzw12zG","ywrKrxzLBNrmAxn0zw5LCG","mtuZmdu2mhnHC3vNAW","y2HHBMDL","y2XPzw50wa","CenMvuy","BgvMDa","twfdAMC","q0ztC2y","rhLJtuC","s1rVDfi","yxPtzhO","vvfszg4","z25XrKu","ndjnsgTHtwW","uKHkEvG","Effmrvu","nZG4ngD2y3HvBG"];return Z0=function(){return c},Z0()}Ls();const c1="tsumami-panel-widths",u1={left:25,right:25},Ts=15,ks=15,fr=30;function db(){const c=rn,i={FmdOf:function(a,r){return a===r},cjdbL:function(a,r){return a>=r},zNTdm:function(a,r){return a-r}};try{const a=localStorage.getItem(c1);if(a){const r=JSON.parse(a);if(i.FmdOf(typeof r[c(356)],"number")&&typeof r.right=="number"&&i.cjdbL(r[c(356)],Ts)&&r[c(324)]>=ks&&i[c(306)](i.zNTdm(100-r.left,r[c(324)]),fr))return r}}catch{}return u1}function Wd(c,i){const a=rn,r={oGvuo:function(v,d){return v-d},FLsIc:function(v,d){return v<d},YQXSW:function(v,d){return v!==d},EzCnU:a(357),TPceG:function(v,d){return v/d},wcsFn:function(v,d){return v*d}};let f=Math[a(325)](Ts,c),o=Math.max(ks,i);const h=r[a(330)](100-f,o);if(r.FLsIc(h,fr))if(r.YQXSW(a(338),r[a(304)])){const v=r[a(330)](fr,h);f-=r[a(313)](v,2),o-=v/2,f=Math[a(325)](Ts,f),o=Math.max(ks,o)}else return _0xabcb82;return{left:Math.round(f*100)/100,right:Math.round(r[a(323)](o,100))/100}}function hb(){const c=rn,i={uEExC:c(353),BDFQY:function(z,g){return z===g},PYRyR:c(362),yNdoX:c(301),nrbqY:function(z,g){return z*g},VJfrk:function(z,g){return z/g},ZtVoC:"left",RHJyX:function(z,g){return z===g},ayfPC:"bFIhU",nBDwZ:function(z,g){return z-g},yawyL:function(z,g){return z-g},ENFJO:function(z,g){return z-g},FeGMB:function(z,g){return z(g)},tJRAd:function(z,g){return z!==g},ayhaW:"YUAlP",DycMG:"pointerup",FOBoc:c(322),ZSkPP:"pointermove",OVwnF:c(346),jFoYi:function(z,g){return z>=g},iGoLW:function(z,g){return z-g},PfRWu:function(z,g){return z!==g},TbXAZ:c(361),xmkNa:c(366),CFSsf:function(z,g){return z(g)},ntnBg:function(z,g,b){return z(g,b)},gwQuP:function(z,g){return z(g)},nvuZA:function(z,g,b){return z(g,b)}},[a,r]=i.FeGMB(ee.useState,db),f=i[c(358)](ee.useRef,null),o=ee.useRef(null),[h,v]=ee.useState(!1),[d,m]=ee.useState(()=>typeof window<"u"?window.matchMedia(c(319)).matches:!0);ee.useEffect(()=>{const z=c,g=window.matchMedia("(min-width: 768px)"),b=D=>m(D.matches);return g[z(351)](i.uEExC,b),()=>g.removeEventListener(z(353),b)},[]),i[c(320)](ee.useEffect,()=>{const z=c,g={HaGEZ:function(b,D){return b-D},KTotR:function(b,D,R){return b(D,R)}};if(i[z(343)](i[z(336)],i.yNdoX)){const b=g[z(347)](_0x3310e3.startWidths[z(324)],_0x455e5e),D=g.HaGEZ(g.HaGEZ(100,_0x480b08.startWidths[z(356)]),_0x79815f);_0x22a0d1(g[z(360)](_0x40f7c4,_0x391d9d.startWidths.left,_0x103ca2.min(b,D)))}else localStorage.setItem(c1,JSON[z(317)](a))},[a]);const _=i[c(308)](ee.useRef,a);ee.useEffect(()=>{const z=c;_[z(339)]=a},[a]);const S=i[c(320)](ee.useCallback,(z,g)=>{const b=c,D={LqaVU:b(312),wOyQt:function(Y,X){return i.tJRAd(Y,X)},JUpbX:i[b(335)],JWJJt:b(315),fnEQN:i[b(359)]};g.preventDefault();const R=f.current;if(!R)return;o.current={side:z,startX:g.clientX,startWidths:{..._.current}},v(!0),document[b(349)][b(314)][b(368)]="col-resize",document[b(349)].style.userSelect=i.FOBoc;const B=Y=>{const X=b,E=o.current;if(!E)return;const O=R.getBoundingClientRect().width;if(i.BDFQY(O,0))return;const P=Y[X(354)]-E.startX,V=i.nrbqY(i[X(318)](P,O),100);if(i.BDFQY(E.side,i.ZtVoC))if(i.RHJyX("bFIhU",i.ayfPC)){const U=E[X(344)].left+V,G=i.nBDwZ(100,E[X(344)].right)-fr;r(Wd(Math[X(307)](U,G),E[X(344)][X(324)]))}else return _0x51560e.toString()[X(337)](KRdkdW.LqaVU)[X(327)]()[X(333)](_0x4b3a6e).search(KRdkdW[X(305)]);else{const U=i[X(342)](E[X(344)].right,V),G=i.yawyL(i.ENFJO(100,E.startWidths[X(356)]),fr);i.FeGMB(r,Wd(E[X(344)][X(356)],Math.min(U,G)))}},q=()=>{const Y=b;D[Y(303)](D.JUpbX,Y(300))?(o[Y(339)]=null,v(!1),document.body[Y(314)].cursor="",document.body[Y(314)][Y(302)]="",window.removeEventListener(D[Y(310)],B),window.removeEventListener(D[Y(329)],q)):_0x7d0ab2(_0x40add5)};window[b(351)](i[b(345)],B),window[b(351)](b(331),q),p[b(339)]=()=>{const Y=b,X=Y(299).split("|");let E=0;for(;;){switch(X[E++]){case"0":v(!1);continue;case"1":window[Y(311)](D.fnEQN,q);continue;case"2":window.removeEventListener("pointermove",B);continue;case"3":o.current=null;continue;case"4":document[Y(349)][Y(314)].userSelect="";continue;case"5":document.body.style.cursor="";continue}break}}},[]),p=ee.useRef(null);i.nvuZA(ee.useEffect,()=>{const z=c;if(i[z(316)](i[z(348)],i[z(334)]))return()=>{p.current?.()};{const g=_0x52e3d6[z(372)](_0x4a7cd5);if(typeof g[z(356)]===PPYpXo.OVwnF&&PPYpXo[z(365)](typeof g[z(324)],z(346))&&PPYpXo[z(341)](g.left,_0x15cb39)&&g.right>=_0x3a347b&&PPYpXo.jFoYi(PPYpXo[z(340)](100-g.left,g.right),_0x4359e7))return g}},[]);const C=ee.useCallback(()=>{i.CFSsf(r,u1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:S,onDividerDoubleClick:C,isDragging:h,isDesktop:d}}function Pd({side:c,onPointerDown:i,onDoubleClick:a,isDragging:r}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>i(c,f),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}function Nt(c,i){c=c-440;const a=X0();let r=a[c];if(Nt.pfhrBe===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Nt.TIilcK=f,Nt.entxWB={},Nt.pfhrBe=!0}const o=a[0],h=c+o,v=Nt.entxWB[h];if(v)r=v;else{const d=function(m){this.wBINxM=m,this.MHeqJK=[1,0,0],this.xByivV=function(){return"newState"},this.hSSyyP="\\w+ *\\(\\) *{\\w+ *",this.TVFolh=`['|"].+['|"];? *}`};d.prototype.PWhmSc=function(){const m=new RegExp(this.hSSyyP+this.TVFolh),_=m.test(this.xByivV.toString())?--this.MHeqJK[1]:--this.MHeqJK[0];return this.FphRyN(_)},d.prototype.FphRyN=function(m){return~m?this.bKuIrE(this.wBINxM):m},d.prototype.bKuIrE=function(m){for(let _=0,S=this.MHeqJK.length;_<S;_++)this.MHeqJK.push(Math.round(Math.random())),S=this.MHeqJK.length;return m(this.MHeqJK[0])},new d(Nt).PWhmSc(),r=Nt.TIilcK(r),Nt.entxWB[h]=r}return r}(function(c,i){const a=Nt,r=c();for(;;)try{if(parseInt(a(459))/1+-parseInt(a(475))/2*(parseInt(a(514))/3)+-parseInt(a(589))/4*(parseInt(a(506))/5)+-parseInt(a(477))/6*(parseInt(a(557))/7)+-parseInt(a(571))/8*(parseInt(a(493))/9)+parseInt(a(487))/10*(-parseInt(a(585))/11)+-parseInt(a(525))/12*(-parseInt(a(495))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(X0,587506);const mb=(function(){const c=Nt,i={PYXqz:function(r,f){return r===f},CuCwJ:c(592)};let a=!0;return function(r,f){const o=a?function(){const h=Nt;if(i[h(446)]("GXFdU",i.CuCwJ))_0x58b153[h(484)]=(_0x1a40a8[h(484)]??[])[h(583)](v=>v.id!==_0x11da60.stencilId);else if(f){const v=f.apply(r,arguments);return f=null,v}}:function(){};return a=!1,o}})(),qs=mb(void 0,function(){const c=Nt,i={smyKe:c(528)};return qs.toString()[c(485)](i.smyKe).toString().constructor(qs)[c(485)]("(((.+)+)+)+$")});qs();function X0(){const c=["Cgv0ywW","DxDNue4","C2nHBgu","ChjVAMvJDa","wvzotM0","mtaXndq4ovbXyNrQDa","tejVswq","ndK1ndaYn0fqANvosa","z3jW","qxrntKe","uMvwu0u","yvvVBuG","BeDOqw4","Bwf4","C29Tzq","ChjLDMLVDxnhCM91Chm","rMPmwMi","C2LKzq","nvb4tKjIBa","rvbqBw8","BMTRzxK","Bwf0y2G","r3zSAe0","Aw5JBhvKzxm","yw1Sz0K","z3jVDxa","ntqZDvveC1z0","EMjhwfe","C25ewxu","rKjrqxq","swzICfK","wLbywem","Aw5KzxG","Bgf5zxjjza","Bfj6veS","B3jKzxi","D3jwB3u","mta4u1jKBwTj","vNHLB3u","AgfZ","kcGOlISPkYKRksSK","r01XseW","Dw5PzM9YBq","BKTRvwS","rvbxqM0","EfPewfK","quLSDgy","rfr4vwu","CfjJsg4","tvPJDu4","CM91BMq","wKDxAKi","Cgv0ywXZ","zePHwxq","B2zMC2v0qw5NBgu","C3rLBMnPBa","tNbJC0y","ve5hqLC","BgvHDMvZ","quHss3i","BgvHzG","y29SB3jjza","z3jkzMO","r3v0qxq","BxPKtwW","ywjZ","Bgf5zxjZ","CMfKAxvZ","BMfpsxy","mJG5mZK0CwvsDezR","su5vrLO","zMXVD2vY","zMfICMLJu3f1yxjLu2L6zq","zMXVD2vYrgLHBwv0zxi","whnZyvO","AhfVrxC","ALPnwxC","A2LUza","qwf1C2C","AwLHvwC","CgXHy2vTzw50tw9Kzq","yMfJAW","zu1LC3G","ndbnvKvtrwS","ve9PteS","z3v0rNC","sMr3tgy","t0XHsMO","qMHIrgm","z0nyA3G","zgLHBwv0zxi","C0PIsvq","AhPLthC","wLL5zeu","t05Twwm","zMLSDgvY","Cgv0ywXdB3vUDa","mtfNzvL2txi","A2rOs1q","D2zzCvK","zMXVD2vYswq","mJCYmtmWogHjtKv4Aa","yMfZzurPyw1LDgvY","C29YDa","DgXwt1G","A3LVrNC","tKjcEgi","CMv2zxjZzq","y01gzfa","CM90yxrPB24","v3rlthe","q3PNu0G","qvvfvLO","C1vfAuG","BgvHzKLK","ufLyCxO","BgvUz3rO","ChvZAa","zMfnvNu","AMThDhe","zMXVD2vYswrZ","qxfivxa","qNj6q0O","zK5Xqvi","BwL4zwq","zM9YrwfJAa","BMfTzq","z3jVDxbZ","otiXmJCYEufJCg9n","AgvPz2H0","zMLUza","vLv3z28","EKLPvg8","C2XPy2u","ELjIwhy","AvnSDe8","y09sAe8","C0rXDem","uhrfChm","zMXVD2vYCW","D3bkBNK","y01WywO","BgvHzKLKCW","BNnisfy","nJKZohnez2L0sq","vNjpwuy","mtu2BwffzwXs","sNLQyuO","BxzvwwG","ELnJzNa","qKDQB04","t0vPz08","wvbzq0e","C3rLBMnPBhm","C2vHCMnO","ueTlA04","ode2nZy0mhfxEK1pCG"];return X0=function(){return c},X0()}function bb({project:c,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:f,setExpandedGroups:o,zoom:h,pan:v,stageSize:d,CANVAS_MAX_SVG:m,deleteLeafById:_}){const S=Nt,p={LBoId:function(w,y){return w/y},cMpaj:function(w,y){return w!==y},gCXkx:function(w,y){return w/y},sJbIT:function(w,y){return w+y},YVNNm:function(w,y){return w>y},uLvzu:function(w,y){return w*y},GutAt:function(w,y){return w+y},jwNhM:function(w,y){return w||y},vBKGc:function(w,y,L){return w(y,L)},uwgPN:function(w,y){return w(y)},sUEiH:"project",jPzkZ:function(w,y){return w(y)},PKKkN:function(w,y){return w===y},TxXeS:"lGhAn",Ibwxb:function(w,y){return w<=y},EPPmo:S(559),yXDBZ:function(w,y,L,I){return w(y,L,I)},rTfed:function(w,y,L,I,T){return w(y,L,I,T)},YEyMq:function(w,y,L,I){return w(y,L,I)},wrVou:function(w,y){return w(y)},sOfKC:"",GMqHL:"col_green",hqoEw:function(w,y,L){return w(y,L)},wpJny:function(w,y){return w(y)},GvlhM:"layer",XMUcR:function(w,y,L,I){return w(y,L,I)},lRzTK:function(w,y){return w<=y},OTIyx:function(w,y){return w(y)},faMVu:function(w,y){return w===y},XOLls:"mnkJJ",AHRKr:S(467),AOjJn:"tCIpn",UUuQL:S(530),iSltO:function(w,y){return w!==y},UsYqc:"jzDdM",fKVkP:function(w,y){return w-y},ONmYc:function(w,y){return w(y)},sgqnq:function(w,y){return w===y},JdwLf:function(w,y){return w===y},mvUYh:function(w,y){return w(y)},naOIv:S(546),AqHUp:S(533),EPWBm:S(469),OLaJj:function(w,y){return w===y},grJfj:S(470),LUKDN:"TwjpZ",nsHHV:function(w,y,L){return w(y,L)},ReVSE:function(w,y,L){return w(y,L)},Aausg:function(w,y){return w(y)},nkkey:function(w,y){return w===y},QtXpw:function(w,y){return w(y)},gTJQm:function(w,y){return w===y},GUNoA:S(541),Vxeou:function(w,y,L){return w(y,L)},ZPXXC:"petal",ZOSCt:function(w,y){return w(y)},MoPuU:function(w,y){return w+y},SXSVC:function(w,y,L){return w(y,L)},JyjaJ:S(513),hzeLw:S(535),AtMNA:"TNGBW",WtKLq:function(w,y){return w===y},tEioi:"Hzmbr",IfbpY:function(w,y){return w(y)},TfgpE:function(w,y){return w(y)},XssaZ:function(w,y){return w(y)},aUomH:function(w,y){return w!==y},MNyGM:S(512),INUFZ:S(481),OEphz:function(w,y,L){return w(y,L)},TzoAq:function(w,y){return w(y)},zRbXv:"nKkUk",NnlsO:function(w,y){return w===y},fNqAR:S(569),zRnFn:S(505),xaQqk:function(w,y){return w===y},MZcuN:S(455),vfVzl:S(593),mzdMl:function(w,y){return w===y},jZMYw:S(515),BhbDc:function(w,y){return w(y)},JEwRI:"HMvpZ",zIiTo:"NkQJC",dUMSj:"ijsZq",OEigO:function(w,y){return w(y)},viirv:function(w,y){return w===y},CzgSH:function(w,y){return w===y},nRVnb:S(540),BrzCJ:function(w,y){return w(y)},jkGtq:function(w,y){return w(y)},DoEGF:function(w,y){return w>y},iiaUg:S(548),PgFMl:function(w,y){return w>y},AUEVZ:function(w,y){return w===y},VUwgo:function(w,y){return w(y)},AIltf:function(w,y){return w===y},gutFw:function(w,y){return w(y)},GmsFf:function(w,y){return w===y},DdIel:"aAMvQ",EdQNU:S(516),vlUxh:function(w,y){return w(y)},Dwneg:function(w,y,L){return w(y,L)}},C=w=>{const y=S,L=[...w[y(554)]][y(591)]((H,Z)=>H.order-Z[y(523)]),I=L[0];if(!I)return 28;const T=w.fabricSquareSize??c[y(560)],{length:k}=qt(T),M=k*(I.scale??1);let N;if(w[y(568)]==="")N=p[y(494)](M,3);else if(p.cMpaj("ZGWjB",y(539))){const H=_0x4c0bea[y(554)][y(461)](Z=>Z.id===_0x539d80.id);H&&(H.radius=_0x5c3cae.radius)}else{const Z=p[y(577)](70*Math.PI,180),F=p[y(579)](L[y(447)],1),le=F-1,re=p.YVNNm(F,1)?le/(F-1)*Z:0;N=p.uLvzu(M*(30/100),Math.cos(re))}return Math.round(p[y(551)](I[y(555)]??28,N)*10)/10},z=w=>{const y=S,L={QFyRl:function(I,T){return p.jwNhM(I,T)}};p.vBKGc(i,I=>{const T=Nt;if(I[T(470)]=(I.flowers||[]).filter(k=>k.id!==w),I[T(458)]){for(const k of I.groups)k[T(451)]=k.flowerIds[T(583)](M=>M!==w);I.groups=I[T(458)].filter(k=>k[T(451)][T(447)]+k.leafIds.length>0)}},!0),p[y(489)](r,{kind:p.sUEiH}),p.jPzkZ(f,I=>{const T={...L.QFyRl(I,{})};return delete T[w],T})},g=(w,y)=>{const L=S;if(p.PKKkN(L(500),p.TxXeS)){const I=c.flowers[L(461)](T=>T.id===w);if(I&&p.Ibwxb((I[L(554)]||[]).length,1)){z(w);return}p.vBKGc(i,T=>{const k=L,M=(T.flowers||[])[k(461)](N=>N.id===w);M&&(M[k(554)]=(M.layers||[])[k(583)](N=>N.id!==y),M[k(554)][k(464)]().sort((N,H)=>N[k(523)]-H[k(523)]).forEach((N,H)=>N[k(523)]=H+1))},!0),r({kind:p.EPPmo,flowerId:w})}else _0x303c5a[L(451)].includes(_0x4d0bc7)||_0x3c4f9d.flowerIds[L(448)](_0x53a6b6)},b=w=>{const y=S,L=c.flowers.find(re=>re.id===w);if(!L)return;const I=[...L[y(554)]][y(591)]((re,oe)=>re.order-oe[y(523)]),T=I[0],k=pe(T?.[y(584)]??6,5,24),M=I.map(re=>re[y(490)]??1),N=M[y(447)]<2||M.every(re=>Math[y(553)](re-M[0])<.001);let H=T?.scale??1;if(!N&&I.length>=2){const re=I[I[y(447)]-1],oe=(re.order??1)-(T.order??1);if(p[y(492)](oe,0)){const de=((T.scale??1)-(re.scale??1))/oe;H=pe(p[y(579)](T[y(490)]??1,de),.3,3)}}const Z=C(L),F=p.GutAt(L[y(554)][y(447)],1),le={id:p.wrVou(kt,"lay"),name:"Layer "+F,order:1,petalType:T?.petalType??p.sOfKC,petalCount:k,radius:Z,scale:H,widthScale:p[y(524)](oi,k),offsetAngle:T?.offsetAngle??0,colorId:T?.[y(549)]??c.palette?.[0]?.id??p[y(529)],visible:!0,locked:!1};T&&(le.offsetAngle=ll(T.petalCount,T.offsetAngle??0,k)),p.hqoEw(i,re=>{const oe=y,de=re.flowers[oe(461)](Ie=>Ie.id===w);if(!de)return;de.layers[oe(456)](Ie=>Ie.order+=1),de[oe(554)].unshift(le);const ge=Math[oe(538)](p.yXDBZ(rr,le[oe(555)],le.scale,de[oe(560)]??re[oe(560)])),he=de[oe(560)]??re[oe(560)],Me=de.placementMode===""?p.rTfed(sr,he,de.layers[oe(447)],oe(530),0):p.YEyMq(ia,de[oe(590)]??re[oe(590)],he,{layerCount:de.layers.length}).diameter;de.flowerDiameter=Math[oe(501)](de[oe(561)]||Me,ge);const Pe=[...de[oe(554)]][oe(591)]((Ie,nt)=>Ie[oe(523)]-nt.order),He=Pe.reverse();for(let Ie=1;Ie<He.length;Ie++){const nt=He[Ie-1],bt=He[Ie];bt[oe(542)]=ll(nt[oe(584)],nt[oe(542)],bt.petalCount)}},!0),p[y(471)](r,{kind:p[y(510)],flowerId:w,layerId:le.id}),p[y(524)](f,re=>({...re,[w]:!0}))},D=w=>{const y=S,L=c[y(470)][y(461)](k=>k.id===w);if(!L||!L[y(554)]||L[y(554)].length===0)return;if(p[y(522)](L.layers.length,1)){p.wrVou(z,w);return}const I=[...L.layers].sort((k,M)=>k.order-M[y(523)]),T=I[0];T&&(i(k=>{const M=y,N=k.flowers.find(F=>F.id===w);if(!N)return;N[M(554)]=N[M(554)].filter(F=>F.id!==T.id),N[M(554)].slice()[M(591)]((F,le)=>F[M(523)]-le[M(523)])[M(456)]((F,le)=>F[M(523)]=le+1);const H=[...N[M(554)]].sort((F,le)=>F[M(523)]-le.order),Z=N.fabricSquareSize??k[M(560)];if(p.YVNNm(H[M(447)],0)){gs(H,Z);for(const re of H){const oe=N[M(554)].find(de=>de.id===re.id);oe&&(oe.radius=re[M(555)])}const F=H[0];N.flowerDiameter=Math[M(538)](p.XMUcR(rr,F.radius,F.scale??1,Z));const le=[...H].reverse();for(let re=1;re<le[M(447)];re++){const oe=le[re-1],de=le[re];de.offsetAngle=ll(oe[M(584)],oe.offsetAngle,de[M(584)])}}},!0),a.kind===p[y(510)]&&a.layerId===T.id?p.OTIyx(r,{kind:y(559),flowerId:w}):p[y(449)](a.kind,y(488))&&a[y(521)]===T.id&&r({kind:y(559),flowerId:w}))},R=()=>{const w=S,y={FjLZb:function(L,I){return p[Nt(582)](L,I)},RKseM:function(L,I,T){return p.vBKGc(L,I,T)},kdhKT:p[w(444)]};if(!p.sgqnq(a.kind,w(491))){if(p[w(574)](a.kind,"leaf")){p.mvUYh(_,a[w(445)]);return}if(p[w(574)](a.kind,p[w(556)]))if(p[w(452)]!=="MYGhk"){const L=a[w(473)];i(I=>{const T=w;if(p.cMpaj(p.XOLls,p[T(547)])){if(I[T(546)]=(I.leaves??[])[T(583)](k=>!L[T(511)](k.id)),I.groups){for(const k of I[T(458)])k[T(473)]=k[T(473)].filter(M=>!L[T(511)](M));I[T(458)]=I.groups[T(583)](k=>k.flowerIds[T(447)]+k[T(473)].length>0)}}else{_0x3797fa.groups=_0x2fc20[T(458)].filter(k=>k.id!==_0x1dab83);for(const k of _0x3114e5.previousGroups)_0x55bf36[T(458)].push({id:k.id,name:k[T(457)],flowerIds:[...k.flowerIds],leafIds:[...k.leafIds],rotation:k.rotation})}},!0),r({kind:w(491)});return}else _0x3d439a[w(451)]=_0x22bb29.flowerIds.filter(L=>!_0x3095eb[w(511)](L)),_0x4099bc[w(473)]=_0x5e4779.leafIds[w(583)](L=>!_0x2ce527.includes(L));if(p[w(449)](a[w(565)],w(455)))if(p[w(532)]==="OKqFJ")_0x4e7f5c({kind:w(491)});else{const{flowerIds:L,leafIds:I}=a;p[w(563)](i,T=>{const k=w;if(T.flowers=T.flowers.filter(M=>!L[k(511)](M.id)),T.leaves=(T.leaves??[]).filter(M=>!I.includes(M.id)),T[k(458)]){for(const M of T[k(458)])M[k(451)]=M.flowerIds.filter(N=>!L[k(511)](N)),M.leafIds=M[k(473)].filter(N=>!I.includes(N));T[k(458)]=T.groups.filter(M=>M.flowerIds.length+M[k(473)].length>0)}},!0),r({kind:p.sUEiH});return}if(p[w(575)](a.kind,p.grJfj)){const L=a[w(451)];i(I=>{const T=w;if(I.flowers=I[T(470)].filter(k=>!L.includes(k.id)),I.groups){for(const k of I[T(458)])if(T(517)!==p.AOjJn)k[T(451)]=k.flowerIds[T(583)](M=>!L.includes(M));else{y.FjLZb(_0x1a19c9,{kind:T(559),flowerId:_0x46f075[T(588)]});return}I.groups=I.groups[T(583)](k=>k.flowerIds[T(447)]+k.leafIds.length>0)}},!0),r({kind:w(491)});return}if(a[w(565)]===w(513))if(p.LUKDN===w(468)){const L={..._0x505faa||{}};return delete L[_0x59651d],L}else{p[w(474)](i,L=>{const I=w;L[I(458)]&&(L[I(458)]=L.groups[I(583)](T=>T.id!==a.groupId))},!0),r({kind:p.sUEiH});return}if(a.kind==="stencil"){p.ReVSE(i,L=>{const I=w;L[I(484)]=(L[I(484)]??[])[I(583)](T=>T.id!==a.stencilId)},!0),p.Aausg(r,{kind:p.sUEiH});return}if(p[w(508)](a[w(565)],w(540))){p.QtXpw(r,{kind:p.EPPmo,flowerId:a[w(588)]});return}if(p.gTJQm(a[w(565)],p.EPPmo))if(p.nkkey(p.GUNoA,p.GUNoA)){p[w(526)](i,L=>{const I=w;if(L[I(470)]=L[I(470)][I(583)](T=>T.id!==a[I(588)]),L[I(458)]){for(const T of L.groups)T.flowerIds=T[I(451)][I(583)](k=>k!==a[I(588)]);L.groups=L.groups.filter(T=>T.flowerIds.length+T.leafIds[I(447)]>0)}},!0),r({kind:w(491)});return}else{const L=_0x4f20cd.groups[w(461)](I=>I.id===_0x52d9f2);L&&_0x317053.push(y.FjLZb(_0x8c2a7a,L))}if(p.sgqnq(a.kind,"layer")||p[w(449)](a.kind,p.ZPXXC)){const L=c[w(470)].find(T=>T.id===a.flowerId),I=L?[...L[w(554)]].sort((T,k)=>T[w(523)]-k.order)[0]?.id===a[w(521)]:!1;p[w(498)](i,T=>{const k=w;if(p[k(472)]("Gctfw",k(596))){const M=T[k(470)][k(461)](N=>N.id===a.flowerId);if(!M)return;if(M[k(554)]=M[k(554)][k(583)](N=>N.id!==a.layerId),M[k(554)][k(464)]().sort((N,H)=>N[k(523)]-H[k(523)])[k(456)]((N,H)=>N.order=H+1),M.layers[k(447)]>0){const N=[...M.layers].sort((F,le)=>F[k(523)]-le[k(523)]),H=M.fabricSquareSize??T.fabricSquareSize;p.vBKGc(gs,N,H);for(const F of N){const le=M[k(554)].find(re=>re.id===F.id);le&&(le.radius=F[k(555)])}if(I){const F=N[0];M.flowerDiameter=Math.round(rr(F.radius,F[k(490)]??1,H))}else{const F=M.placementMode===""?sr(H,M.layers.length,p.UUuQL,0):ia(M.baseDiameter??T.baseDiameter,H,{layerCount:M.layers.length}).diameter;Q0(N,H,M[k(561)]||F);for(const le of N){const re=M.layers.find(oe=>oe.id===le.id);if(re)if(p[k(466)]("tjXCf",p.UsYqc))re.radius=le.radius,re[k(490)]=le.scale;else{const oe=_0x3ca920.name[k(509)](/^ (\d+)$/);return oe?y.RKseM(_0x483115,oe[1],10):0}}}const Z=[...N][k(595)]();for(let F=1;F<Z.length;F++){const le=Z[p.fKVkP(F,1)],re=Z[F];re[k(542)]=ll(le.petalCount,le[k(542)],re.petalCount)}}}else y[k(504)](_0x35bb88,{kind:y[k(586)]})},!0),r({kind:p.EPPmo,flowerId:a.flowerId})}}},B=w=>({id:w.id,name:w.name,flowerIds:[...w.flowerIds],leafIds:[...w.leafIds],rotation:w[S(440)]}),q=ee.useCallback(w=>{const y=S,L=kt(y(496));i(I=>{const T=y;I.groups||(I[T(458)]=[]);const k=I.groups.map(N=>{const H=T,Z=N[H(457)].match(/^ (\d+)$/);return Z?parseInt(Z[1],10):0}),M=k[T(447)]>0?Math[T(501)](...k)+1:1;I.groups[T(448)]({id:L,name:" "+M,flowerIds:[...w],leafIds:[],rotation:0})},!0),r({kind:y(513),groupId:L}),p.ZOSCt(o,I=>({...I,[L]:!0}))},[i,r,o]),Y=ee.useCallback((w,y)=>{const L=S,I={ZYydE:function(k,M){return k>M},NzWnx:function(k,M){return p.MoPuU(k,M)}},T=kt("grp");p.SXSVC(i,k=>{const M=Nt;k.groups||(k[M(458)]=[]);const N=k.groups.map(Z=>{const F=M,le=Z.name[F(509)](/^ (\d+)$/);return le?parseInt(le[1],10):0}),H=I[M(581)](N[M(447)],0)?I.NzWnx(Math.max(...N),1):1;k[M(458)].push({id:T,name:" "+H,flowerIds:[...w],leafIds:[...y],rotation:0})},!0),r({kind:p[L(478)],groupId:T}),p[L(582)](o,k=>({...k,[T]:!0}))},[i,r,o]),X=p.nsHHV(ee.useCallback,w=>{p.hqoEw(i,y=>{const L=Nt;if(!y[L(458)])return;const I=y[L(458)][L(461)](T=>T.id===w);if(I)if(I.previousGroups&&I[L(503)][L(447)]>0){y.groups=y[L(458)].filter(T=>T.id!==w);for(const T of I[L(503)])y.groups[L(448)]({id:T.id,name:T[L(457)],flowerIds:[...T[L(451)]],leafIds:[...T.leafIds],rotation:T[L(440)]})}else p[L(508)](p[L(580)],p.hzeLw)?y[L(458)]=y.groups.filter(T=>T.id!==w):_0x444326[L(484)]=(_0x530951[L(484)]??[]).filter(T=>T.id!==_0x4cdfa5)},!0),r({kind:p.sUEiH})},[i,r]),E=p[S(498)](ee.useCallback,w=>{const y=S;i(L=>{const I=Nt;L[I(458)]&&(L.groups=L.groups[I(583)](T=>T.id!==w))},!0),r({kind:p[y(444)]})},[i,r]),O=ee.useCallback(w=>{const y=S;i(L=>{const I=Nt;if(!L.groups)return;const T=L.groups[I(461)](N=>N.id===w);if(!T)return;const k=new Set(T.flowerIds),M=new Set(T[I(473)]);L[I(470)]=L[I(470)].filter(N=>!k.has(N.id)),L[I(546)]=(L.leaves??[]).filter(N=>!M[I(527)](N.id)),L[I(458)]=L.groups[I(583)](N=>N.id!==w)},!0),r({kind:y(491)})},[i,r]),P=ee.useCallback((w,y)=>{const L=S;p[L(441)](p.tEioi,"xbFUv")?_0x570a4b.groups=_0x52b2b6.groups[L(583)](I=>I.id!==_0x74f2eb):(i(I=>{const T=L,k={cVHAs:function(M,N){return p.mvUYh(M,N)},wfYqY:"mixed"};if(T(545)===p[T(497)]){const M=(I[T(458)]??[]).find(N=>N.id===w);if(!M)return;M.previousGroups=[p[T(479)](B,M)];for(const N of y)M[T(451)][T(511)](N)||M[T(451)][T(448)](N)}else{const M=[...new _0x48dfb7([..._0xf465c,..._0x5e4dfb])],N=[...new _0x42234c([..._0x3a3ac9,..._0x445fc3])];k.cVHAs(_0x39a123,{kind:k[T(587)],flowerIds:M,leafIds:N})}},!0),r({kind:L(513),groupId:w}))},[i,r]),V=ee.useCallback((w,y)=>{const L=S;if(L(544)===L(536)){const I=new _0x14ee24(_0x17703c),T=_0x2d3bd0.filter(k=>!I[L(527)](k));T.length===0?p[L(518)](_0xda4161,{kind:p[L(444)]}):T[L(447)]===1?_0x1d6feb({kind:"flower",flowerId:T[0]}):p.TfgpE(_0x563157,{kind:p[L(550)],flowerIds:T})}else{const I=w[0],T=w[L(464)](1);i(k=>{const M=L;if(!k.groups)return;const N=k.groups[M(461)](Z=>Z.id===I);if(!N)return;const H=[];for(const Z of w){const F=k.groups[M(461)](le=>le.id===Z);F&&H[M(448)](p[M(562)](B,F))}N[M(503)]=H;for(const Z of T){const F=k.groups.find(le=>le.id===Z);if(F){for(const le of F.flowerIds)N.flowerIds[M(511)](le)||N[M(451)][M(448)](le);for(const le of F.leafIds)if(p[M(499)](p.MNyGM,p[M(558)]))N[M(473)].includes(le)||N.leafIds[M(448)](le);else{RHrPlA.DQYkf(_0x2a2805,_0x309757,_0x53ed06);for(const de of _0x106884){const ge=_0xc942a0[M(554)][M(461)](he=>he.id===de.id);ge&&(ge.radius=de.radius)}const re=_0x21d9c7[0];_0x4630ca[M(561)]=_0x13fd82.round(_0x356e52(re.radius,re[M(490)]??1,_0x4391d5));const oe=[..._0x510c9c].reverse();for(let de=1;RHrPlA.JbIsp(de,oe.length);de++){const ge=oe[de-1],he=oe[de];he.offsetAngle=RHrPlA.WLlnB(_0x5a343a,ge[M(584)],ge.offsetAngle,he[M(584)])}}}}for(const Z of y)N[M(451)].includes(Z)||N[M(451)].push(Z);k[M(458)]=k[M(458)].filter(Z=>!T.includes(Z.id))},!0),r({kind:p[L(478)],groupId:I}),p[L(471)](o,k=>({...k,[I]:!0}))}},[i,r,o]),U=(w,y)=>{const L=S;if(p[L(486)](p[L(465)],L(531))){const I=d.w/d.h,T=520/h,k=T*I,M=p.LBoId(-v.x,h),N=-v.y/h,H=p.sJbIT(M,k/2),Z=p.GutAt(N,p[L(577)](T,2)),F=p.NnlsO(y,p[L(454)])?p.fNqAR:p.zRnFn,le=l1[w][F][L(460)]*cn,re=pe(H,0,m),oe=pe(p.fKVkP(Z,le/2),0,m),de={id:p.wrVou(kt,"stl"),variant:w,pose:y,position:{x:re,y:oe}};i(ge=>{const he=L;ge[he(484)]||(ge.stencils=[]),ge.stencils[he(448)](de)},!0),p[L(562)](r,{kind:L(543),stencilId:de.id})}else{const I=_0x1f488f.flowerIds;_0x492c37(T=>{const k=L;if(T[k(470)]=T[k(470)].filter(M=>!I[k(511)](M.id)),T.groups){for(const M of T[k(458)])M.flowerIds=M.flowerIds.filter(N=>!I.includes(N));T.groups=T[k(458)][k(583)](M=>M.flowerIds.length+M[k(473)][k(447)]>0)}},!0),p.TzoAq(_0xdd2287,{kind:p[L(444)]});return}},G=w=>{const y=S;i(L=>{const I=Nt;L.stencils=(L[I(484)]??[])[I(583)](T=>T.id!==w)},!0),p.xaQqk(a.kind,y(543))&&p[y(574)](a.stencilId,w)&&p.Aausg(r,{kind:y(491)})},K=p.Dwneg(ee.useCallback,w=>{const y=S,L={TOiLK:function(I,T){return I>T},JcyJD:function(I,T){return I(T)},wVPuG:p[y(537)]};if(p.PKKkN(p.vfVzl,p.vfVzl)){const I=(c.groups??[]).find(M=>M.flowerIds[y(511)](w)),T=I?I.flowerIds:[w],k=I?I.leafIds:[];if(p[y(552)](a[y(565)],p[y(550)])){const M=a.flowerIds;if(M[y(511)](w)){const N=new Set(T),H=M[y(583)](Z=>!N.has(Z));if(p[y(486)](H.length,0))r({kind:p[y(444)]});else if(H[y(447)]===1)p[y(564)]==="zbGXQ"?p[y(576)](r,{kind:p[y(507)],flowerId:H[0]}):_0x3d9025({kind:p[y(550)],flowerIds:_0x3ece98});else if(y(476)===p.JEwRI){_0x4ab287(_0x1ebc09.leafId);return}else r({kind:"flowers",flowerIds:H})}else{if(p[y(463)]===p.dUMSj)return;{const N=[...new Set([...M,...T])];p[y(492)](k[y(447)],0)?p[y(566)](r,{kind:p[y(537)],flowerIds:N,leafIds:k}):p[y(482)](r,{kind:p.grJfj,flowerIds:N})}}}else if(p.viirv(a[y(565)],p.EPPmo)||p[y(442)](a.kind,"layer")||a[y(565)]===y(488)||a.kind===p.nRVnb){const M=a.flowerId;if(M===w)return;const N=(c[y(458)]??[])[y(461)](re=>re.flowerIds.includes(M)),H=N?N[y(451)]:[M],Z=N?N.leafIds:[],F=[...new Set([...H,...T])],le=[...new Set([...Z,...k])];p.YVNNm(le[y(447)],0)?p[y(453)](r,{kind:p[y(537)],flowerIds:F,leafIds:le}):F[y(447)]===1?r({kind:p[y(507)],flowerId:F[0]}):p[y(450)](r,{kind:p[y(550)],flowerIds:F})}else if(a.kind===p.JyjaJ){const M=(c[y(458)]??[])[y(461)](le=>le.id===a.groupId),N=M?M.flowerIds:[],H=M?M[y(473)]:[];if(N.includes(w))return;const Z=[...new Set([...N,...T])],F=[...new Set([...H,...k])];p.DoEGF(F.length,0)?p[y(566)](r,{kind:"mixed",flowerIds:Z,leafIds:F}):r({kind:"flowers",flowerIds:Z})}else if(p.OLaJj(a[y(565)],p[y(567)]))if(p[y(466)](y(480),y(483))){const M=(c.groups??[])[y(461)](le=>le[y(473)][y(511)](a.leafId)),N=M?M[y(451)]:[],H=M?M[y(473)]:[a.leafId],Z=[...new Set([...N,...T])],F=[...new Set([...H,...k])];p.PgFMl(F[y(447)],0)?r({kind:p[y(537)],flowerIds:Z,leafIds:F}):p.OTIyx(r,{kind:p[y(550)],flowerIds:Z})}else{const M=(_0x20a860.groups??[])[y(461)](le=>le[y(473)][y(511)](_0x44cdf4[y(445)])),N=M?M.flowerIds:[],H=M?M[y(473)]:[_0x448a9c[y(445)]],Z=[...new _0x4542cf([...N,..._0x57c453])],F=[...new _0x5cf713([...H,..._0x29ccb9])];L[y(572)](F.length,0)?L.JcyJD(_0x441776,{kind:L.wVPuG,flowerIds:Z,leafIds:F}):_0x36d3ad({kind:y(470),flowerIds:Z})}else if(a[y(565)]==="leaves"){const M=[...new Set(T)],N=[...new Set([...a[y(473)],...k])];r({kind:p[y(537)],flowerIds:M,leafIds:N})}else if(a.kind===p.MZcuN){const M=a[y(451)],N=a.leafIds;if(M.includes(w)){const H=new Set(T),Z=new Set(k),F=M.filter(re=>!H.has(re)),le=N[y(583)](re=>!Z.has(re));p.xaQqk(F.length,0)&&le.length===0?r({kind:"project"}):p.sgqnq(F[y(447)],0)&&p.JdwLf(le.length,1)?r({kind:"leaf",leafId:le[0]}):p[y(443)](F[y(447)],0)?r({kind:"leaves",leafIds:le}):p.WtKLq(le[y(447)],0)&&F.length===1?r({kind:"flower",flowerId:F[0]}):p[y(574)](le.length,0)?r({kind:y(470),flowerIds:F}):p[y(462)](r,{kind:y(455),flowerIds:F,leafIds:le})}else{const H=[...new Set([...M,...T])],Z=[...new Set([...N,...k])];p[y(582)](r,{kind:p[y(537)],flowerIds:H,leafIds:Z})}}else p[y(492)](k.length,0)?r({kind:p[y(537)],flowerIds:T,leafIds:k}):p[y(534)](T.length,1)?r({kind:p[y(507)],flowerId:T[0]}):r({kind:y(470),flowerIds:T})}else{const I=_0x26d769[y(568)]===""?_0x51abb0(_0xe009c6,_0x5d7ab6[y(554)].length,"uniform",0):p.YEyMq(_0x53fe31,_0x2019ef.baseDiameter??_0x6de723.baseDiameter,_0x618910,{layerCount:_0x2627a3[y(554)].length})[y(578)];_0x28a36a(_0x167bd7,_0x5d9fc4,_0xea97c6.flowerDiameter||I);for(const T of _0x5d7af8){const k=_0x1a3a26.layers[y(461)](M=>M.id===T.id);k&&(k.radius=T[y(555)],k[y(490)]=T[y(490)])}}},[a,r,c[S(458)]]);return{deleteFlowerById:z,deleteLayerById:g,computeNewOuterRadius:C,addOuterLayer:b,deleteOuterLayer:D,deleteSelected:R,groupSelectedFlowers:q,groupSelectedMixed:Y,ungroupFlowers:X,ungroupAll:E,deleteGroup:O,addToGroup:P,mergeGroups:V,addStencil:U,deleteStencil:G,handleShiftFlowerSelect:K,togglePetalSelection:(w,y,L,I)=>{const T=S;if(p[T(444)],!I){p.gutFw(r,{kind:p.ZPXXC,flowerId:w,layerId:y,index:L});return}const k=y+":"+L;if(a.kind===p.nRVnb&&p[T(575)](a[T(588)],w))if(T(570)!==T(570)){ZxvnkR.IXmkZ(_0x5c33cd,M=>{const N=T;if(M[N(470)]=M.flowers[N(583)](H=>H.id!==_0x527050.flowerId),M.groups){for(const H of M[N(458)])H[N(451)]=H.flowerIds.filter(Z=>Z!==_0xb13726[N(588)]);M.groups=M[N(458)].filter(H=>H[N(451)][N(447)]+H[N(473)][N(447)]>0)}},!0),ZxvnkR[T(594)](_0x4b8b39,{kind:ZxvnkR.ameIx});return}else{const M=a.petals||[];if(M[T(502)](H=>H[T(521)]+":"+H.index===k)){const H=M.filter(Z=>Z[T(521)]+":"+Z.index!==k);H[T(447)]===0?p[T(573)](r,{kind:T(559),flowerId:w}):p.GmsFf(H[T(447)],1)?r({kind:"petal",flowerId:w,layerId:H[0][T(521)],index:H[0][T(520)]}):p.wpJny(r,{kind:T(540),flowerId:w,petals:H})}else r({kind:"petals",flowerId:w,petals:[...M,{layerId:y,index:L}]})}else if(a[T(565)]===p[T(519)]&&a.flowerId===w){const M={layerId:a.layerId,index:a.index},N={layerId:y,index:L};if(M.layerId+":"+M[T(520)]===k)if(p.DdIel===p.EdQNU){if(_0x1b9280[T(546)]=(_0x437e23.leaves??[])[T(583)](H=>!_0x248521[T(511)](H.id)),_0x78fd7b.groups){for(const H of _0x426283.groups)H.leafIds=H.leafIds[T(583)](Z=>!_0x425604[T(511)](Z));_0x4145e6.groups=_0x121d14.groups[T(583)](H=>H[T(451)][T(447)]+H.leafIds[T(447)]>0)}}else return;r({kind:p.nRVnb,flowerId:w,petals:[M,N]})}else p.vlUxh(K,w)}}}(function(c,i){const a=Zt,r=c();for(;;)try{if(-parseInt(a(428))/1*(parseInt(a(415))/2)+-parseInt(a(429))/3+parseInt(a(440))/4*(parseInt(a(423))/5)+parseInt(a(412))/6*(parseInt(a(417))/7)+parseInt(a(397))/8*(-parseInt(a(439))/9)+parseInt(a(398))/10+parseInt(a(392))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(J0,395529);const gb=(function(){const c={YBsYa:function(a,r){return a!==r}};let i=!0;return function(a,r){const f={wCgst:function(h,v){return h(v)}},o=i?function(){const h=Zt;if(r)if(c.YBsYa(h(433),h(418))){const v=r.apply(a,arguments);return r=null,v}else{const v=_0x44d557[h(405)][h(402)](d=>d.id===_0x277637);v&&_0x313dcf.push(f[h(406)](_0x2738f1,v))}}:function(){};return i=!1,o}})(),Bs=gb(void 0,function(){const c=Zt,i={ojBvN:"(((.+)+)+)+$"};return Bs[c(427)]()[c(451)](i[c(431)])[c(427)]().constructor(Bs)[c(451)](c(391))});Bs();function J0(){const c=["BwfW","yxnNwLe","sw1vufq","mtqYoti2nMntwvbSEa","vgLvBeq","AfzeEfy","nejSs2LAzG","qvzmy2C","n3H0yujrDG","qMnTsKW","Cfnis0m","BMfTzq","qwX6zM0","BgvHzKLKCW","mJvRs0DIBwq","AfjuAgG","C2XPy2u","vMPQAg4","Dg9tDhjPBMC","mZGYmdC5CMXHt0jY","mta2odeZoeTTsfbTzG","ywj4qMO","B2PcDK4","zMLSDgvY","CfLXvNG","rhbUyNG","uKTjD04","zMXVD2vYswrZ","ChvZAa","EezIuwG","mZe1ANftDNrI","mJm4odi4ruzTu1HW","r0r4Dwi","t3L4B24","zfHLt08","Cgv0ywW","CM90yxrPB24","yu1wqKm","zMXVD2vYCW","zwLSCM4","zhjZuha","zMXVD2vY","C2vHCMnO","Bwf4","wwzYuvK","AgfZ","BgvHzG","wuT2zKK","BwL4zwq","AKryA2q","r0PPAuu","BgvHzKLK","v1bSzfK","B01iDvm","ChjLDMLVDxnhCM91Chm","Bwf0y2G","AKvSzK0","sgD1tNi","kcGOlISPkYKRksSK","nJK2mdGWmhDuzxPvwG","r093CfC","Cu1ku28","BgvHDMvZ","BgvUz3rO","otG4mJr4uKvcCMi","nZC4ntqYmfHNqMzJBG","AKf1txa","wLnxsvm","Aw5JBhvKzxm","zMLUza","zgDerhe","Bgf5zxi","z3jVDxbZ","D0nNC3q","y0frCMC","A2LUza"];return J0=function(){return c},J0()}function Zt(c,i){c=c-382;const a=J0();let r=a[c];if(Zt.TjQuHq===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Zt.ReLTNZ=f,Zt.VJkfaE={},Zt.TjQuHq=!0}const o=a[0],h=c+o,v=Zt.VJkfaE[h];if(v)r=v;else{const d=function(m){this.JwcAmU=m,this.IsWwgf=[1,0,0],this.zfsnXI=function(){return"newState"},this.OBwzHD="\\w+ *\\(\\) *{\\w+ *",this.JpkyIk=`['|"].+['|"];? *}`};d.prototype.qwbJgn=function(){const m=new RegExp(this.OBwzHD+this.JpkyIk),_=m.test(this.zfsnXI.toString())?--this.IsWwgf[1]:--this.IsWwgf[0];return this.FZwyRH(_)},d.prototype.FZwyRH=function(m){return~m?this.itsLuz(this.JwcAmU):m},d.prototype.itsLuz=function(m){for(let _=0,S=this.IsWwgf.length;_<S;_++)this.IsWwgf.push(Math.round(Math.random())),S=this.IsWwgf.length;return m(this.IsWwgf[0])},new d(Zt).qwbJgn(),r=Zt.ReLTNZ(r),Zt.VJkfaE[h]=r}return r}function vb({project:c,applyUpdate:i,selection:a,setSelection:r}){const f=Zt,o={pSHKC:function(g,b){return g(b)},asgZQ:"project",cAQrg:function(g,b){return g(b)},qMJSo:"mixed",hRThh:f(395),GJiiE:f(449),aMVBC:"leaf",abxBj:function(g,b){return g>b},ImUPT:function(g,b){return g(b)},jElfM:f(421),eilrn:function(g,b){return g===b},wsqAU:function(g,b){return g>b},cVcLb:"group",dgDDq:function(g,b){return g!==b},oMHuS:"HUqkK",HguNr:function(g,b){return g(b)},WxQBA:function(g,b){return g(b)},Dpnbx:f(404),hlVuM:function(g,b){return g===b},YfrQY:function(g,b){return g===b},GkyBx:function(g,b){return g===b},JyPQH:function(g,b){return g===b},wKklJ:"flower",YKvfI:function(g,b){return g(b)},hCNTy:function(g,b){return g(b)},GOwpW:function(g,b){return g(b)},BMmVM:function(g,b){return g===b},TiUlD:function(g,b,D){return g(b,D)},Kzjcq:f(414),zPNRh:"KncbF",kCbjj:"grp",LOlff:function(g,b){return g>b},ZSWIS:function(g,b){return g+b},jAuMp:function(g,b){return g===b},xFbQh:"dXeOO",jRQIc:function(g,b,D){return g(b,D)},zhcOh:function(g,b,D){return g(b,D)}},h=g=>{i(b=>{const D=Zt;if(b.leaves=(b[D(395)]??[]).filter(R=>R.id!==g),b[D(405)]){for(const R of b.groups)R.leafIds=R[D(422)][D(432)](B=>B!==g);b.groups=b[D(405)][D(432)](R=>R.flowerIds.length+R.leafIds.length>0)}},!0),o.pSHKC(r,{kind:o.asgZQ})},v=ee.useCallback(g=>{const b=f,D=(c.groups??[])[b(402)](q=>q.leafIds.includes(g)),R=D?D.leafIds:[g],B=D?D.flowerIds:[];if(a[b(408)]===o[b(424)]){const q=a[b(422)];if(q.includes(g)){const Y=new Set(R),X=q[b(432)](E=>!Y[b(454)](E));if(X.length===0)r({kind:o[b(410)]});else if(X[b(396)]===1)if(o[b(383)]===b(442)){if(_0x3ccb67.leaves=(_0x4e569c[b(395)]??[])[b(432)](E=>E.id!==_0x562974),_0x30a529[b(405)]){for(const E of _0x2060cd[b(405)])E[b(422)]=E.leafIds[b(432)](O=>O!==_0x15a148);_0x903631.groups=_0x1ec1b4.groups.filter(E=>E.flowerIds.length+E.leafIds.length>0)}}else o[b(419)](r,{kind:o.aMVBC,leafId:X[0]});else r({kind:o[b(424)],leafIds:X})}else{const Y=[...new Set([...q,...R])];o[b(430)](B[b(396)],0)?b(385)!==b(385)?o[b(407)](_0x48fd51,{kind:"mixed",flowerIds:_0x2cd871,leafIds:_0x2c6f80}):o[b(411)](r,{kind:o.qMJSo,flowerIds:B,leafIds:Y}):r({kind:o[b(424)],leafIds:Y})}}else if(a[b(408)]===b(455))if(o[b(389)]!==o.jElfM)_0x40bd10.leafIds.includes(_0x48df6e)||_0x5e5858[b(422)][b(437)](_0x1b4690);else{if(o[b(448)](a.leafId,g))return;const q=(c[b(405)]??[])[b(402)](P=>P.leafIds.includes(a[b(384)])),Y=q?q[b(422)]:[a.leafId],X=q?q.flowerIds:[],E=[...new Set([...Y,...R])],O=[...new Set([...X,...B])];o.wsqAU(O.length,0)?o[b(419)](r,{kind:b(457),flowerIds:O,leafIds:E}):E.length===1?o.ImUPT(r,{kind:o[b(446)],leafId:E[0]}):r({kind:o[b(424)],leafIds:E})}else if(a[b(408)]===o.cVcLb)if(o[b(403)](o[b(386)],b(382))){const q=(c.groups??[]).find(P=>P.id===a.groupId),Y=q?q[b(422)]:[],X=q?q[b(436)]:[];if(Y[b(401)](g))return;const E=[...new Set([...Y,...R])],O=[...new Set([...X,...B])];O[b(396)]>0?o[b(390)](r,{kind:b(457),flowerIds:O,leafIds:E}):o.WxQBA(r,{kind:b(395),leafIds:E})}else _0x45c47a({kind:o.qMJSo,flowerIds:_0x310586,leafIds:_0x30dfa4});else if(a[b(408)]===b(450)||a[b(408)]===o[b(434)]||o.hlVuM(a.kind,b(444))||a.kind==="petals"){const q=a.flowerId,Y=(c[b(405)]??[])[b(402)](V=>V.flowerIds[b(401)](q)),X=Y?Y[b(436)]:[q],E=Y?Y.leafIds:[],O=[...new Set([...X,...B])],P=[...new Set([...E,...R])];r({kind:o.qMJSo,flowerIds:O,leafIds:P})}else if(o[b(453)](a.kind,b(447))){const q=[...new Set([...a.flowerIds,...B])],Y=[...new Set(R)];o[b(407)](r,{kind:o[b(394)],flowerIds:q,leafIds:Y})}else if(a.kind==="mixed"){const q=a.flowerIds,Y=a.leafIds;if(Y.includes(g)){const X=new Set(R),E=new Set(B),O=Y.filter(V=>!X[b(454)](V)),P=q[b(432)](V=>!E[b(454)](V));P[b(396)]===0&&O[b(396)]===0?r({kind:o.asgZQ}):P[b(396)]===0&&o.YfrQY(O.length,1)?r({kind:o.aMVBC,leafId:O[0]}):P.length===0?r({kind:b(395),leafIds:O}):o.GkyBx(O[b(396)],0)&&o.JyPQH(P[b(396)],1)?o.HguNr(r,{kind:o.wKklJ,flowerId:P[0]}):O[b(396)]===0?o[b(456)](r,{kind:"flowers",flowerIds:P}):o.pSHKC(r,{kind:"mixed",flowerIds:P,leafIds:O})}else{const X=[...new Set([...q,...B])],E=[...new Set([...Y,...R])];o.hCNTy(r,{kind:b(457),flowerIds:X,leafIds:E})}}else if(B.length>0)if(b(426)==="zWRmI"){if(!_0x275a26.groups)return;for(const q of _0x5ae971[b(405)])q[b(422)]=q[b(422)].filter(Y=>Y!==_0xefe76a);_0x286e1d[b(405)]=_0x2c8118.groups[b(432)](q=>q.flowerIds[b(396)]+q.leafIds[b(396)]>0)}else o[b(393)](r,{kind:o[b(394)],flowerIds:B,leafIds:R});else o.BMmVM(R.length,1)?o.YKvfI(r,{kind:o[b(446)],leafId:R[0]}):r({kind:o[b(424)],leafIds:R})},[a,r,c[f(405)]]),d=g=>({id:g.id,name:g[f(420)],flowerIds:[...g[f(436)]],leafIds:[...g.leafIds],rotation:g[f(445)]}),m=o.jRQIc(ee.useCallback,g=>{const b=f,D=kt(o.kCbjj),R=(c.groups??[])[b(409)](q=>{const Y=b,X=q.name[Y(388)](/^ (\d+)$/);return X?o.TiUlD(parseInt,X[1],10):0}),B=o.LOlff(R[b(396)],0)?o[b(400)](Math[b(452)](...R),1):1;i(q=>{const Y=b;if(o.Kzjcq!==o.zPNRh)q[Y(405)]||(q[Y(405)]=[]),q.groups.push({id:D,name:" "+B,flowerIds:[],leafIds:[...g],rotation:0});else{const X=[...new _0x22ec4d([..._0x4fd107[Y(436)],..._0x43f7a0])],E=[...new _0x21de85(_0x2c0695)];_0x4f3901({kind:Y(457),flowerIds:X,leafIds:E})}},!0),o[b(393)](r,{kind:"group",groupId:D})},[c.groups,i,r]),_=o.zhcOh(ee.useCallback,(g,b)=>{const D=f;o[D(399)]("ZkVwN",D(416))?_0x32ea27.leafIds[D(401)](_0xa3fa9a)||_0x5b5401.leafIds[D(437)](_0x1e5a99):(o[D(413)](i,R=>{const B=D,q=(R.groups??[]).find(Y=>Y.id===g);if(q){q.previousGroups=[o[B(393)](d,q)];for(const Y of b)q.leafIds[B(401)](Y)||q.leafIds.push(Y)}},!0),o[D(407)](r,{kind:"group",groupId:g}))},[i,r]),S=ee.useCallback((g,b)=>{const D=f,R={RKIwN:function(B,q){return o.dgDDq(B,q)},GDxub:"geGGE"};if(D(443)===o[D(438)]){const B=g[0],q=g[D(425)](1);i(Y=>{const X=D;if(!Y[X(405)])return;const E=Y.groups[X(402)](P=>P.id===B);if(!E)return;const O=[];for(const P of g){const V=Y[X(405)].find(U=>U.id===P);V&&O[X(437)](d(V))}E.previousGroups=O;for(const P of q)if(R[X(435)]("fsahJ",R[X(441)])){const V=Y[X(405)][X(402)](U=>U.id===P);if(!V)continue;for(const U of V[X(422)])E.leafIds[X(401)](U)||E.leafIds.push(U);for(const U of V.flowerIds)E[X(436)].includes(U)||E[X(436)][X(437)](U)}else{const V=_0x2bf5a0.name[X(388)](/^ (\d+)$/);return V?MaPfmf.YPYrD(_0xea2eb7,V[1],10):0}for(const P of b)E[X(422)].includes(P)||E.leafIds[X(437)](P);Y[X(405)]=Y.groups.filter(P=>!q.includes(P.id))},!0),o[D(390)](r,{kind:o.cVcLb,groupId:B})}else _0x334a7f({kind:o.asgZQ})},[i,r]),p=ee.useCallback(g=>{o.TiUlD(i,b=>{const D=Zt;if(!b[D(405)])return;const R=b.groups[D(402)](B=>B.id===g);if(R)if(R.previousGroups&&R[D(387)][D(396)]>0){b[D(405)]=b.groups[D(432)](B=>B.id!==g);for(const B of R.previousGroups)b[D(405)].push({id:B.id,name:B[D(420)],flowerIds:[...B.flowerIds],leafIds:[...B[D(422)]],rotation:B[D(445)]})}else b.groups=b.groups.filter(B=>B.id!==g)},!0),r({kind:"project"})},[i,r]),C=ee.useCallback((g,b)=>{o.TiUlD(i,D=>{const R=Zt,B=(D.groups??[])[R(402)](q=>q.id===b);B&&!B.leafIds.includes(g)&&B.leafIds[R(437)](g)},!0)},[i]),z=ee.useCallback(g=>{o.TiUlD(i,b=>{const D=Zt;if(b.groups){for(const R of b[D(405)])R[D(422)]=R[D(422)][D(432)](B=>B!==g);b.groups=b.groups[D(432)](R=>R[D(436)][D(396)]+R[D(422)].length>0)}},!0)},[i]);return{deleteLeafById:h,handleShiftLeafSelect:v,groupSelectedLeaves:m,ungroupLeaves:p,addLeafToGroup:C,removeLeafFromGroup:z,addLeavesToGroup:_,mergeLeafGroups:S}}(function(c,i){const a=pn,r=c();for(;;)try{if(-parseInt(a(490))/1*(-parseInt(a(501))/2)+parseInt(a(503))/3*(parseInt(a(470))/4)+-parseInt(a(519))/5*(parseInt(a(476))/6)+-parseInt(a(474))/7+-parseInt(a(509))/8*(parseInt(a(505))/9)+parseInt(a(471))/10+parseInt(a(521))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(V0,519736);function V0(){const c=["vvPfEha","B3jKzxi","ufDAC0q","Bgf5","rMXVD2vYia","ndi5mZi1EuzWAxHc","kcGOlISPkYKRksSK","otCWmtu0owTpA0HTDG","wgXvvve","C2vHCMnO","tgf5zxiG","CMv2zxjZzq","Cg9ZAxrPB24","zMXVD2vYCW","Bgf5zxjdB3vUDa","zvPMExK","zvPosMW","qu5kCwu","vNLuDwW","ywjZ","zMXVD2vYrgLHBwv0zxi","y29Z","y29Sx3DOAxrL","EMXhBuu","zMLUza","mti3mJq1nK9qu2f6rq","mJe0odqWA2PdB1DL","ueDpEKe","yxbWBhK","mti2mZi1nvPOvMzkva","ChnXvLC","nNzMq2DOwq","zvrTBKO","Egfsze0","ChvZAa","C2nHBgu","EhvXteC","ALLRuvO","44or44o844oR","yMfZzurPyw1LDgvY","Dg9tDhjPBMC","5y2k44gp44gz","wMH4t04","uNDpwwO","y2vHAK0","nuH3qvnlAq","r0Tqsee","C2L6zu1Vzgu","qwzArhq","renguwW","z3L3vKi","zKvrsge","C2L6zvn0zxbnBq","vM1YAMy","y1P2s0u","CM91BMq","mti4mZa2yKDnrK5A","sxbvrxm","m2HoC2nvta","y29UC3rYDwn0B3i","mZzuvvDrt2q","CMfKAxvZ","BgvUz3rO","sLDSruW","mtuXmJuXmLvfD0DLsW","Dw5PzM9YBq","CgXHy2vTzw50tw9Kzq","sNbOuu4","r3LLsNq"];return V0=function(){return c},V0()}const pb=(function(){const c=pn,i={xaRdM:"gradual",LDxwB:function(r,f){return r*f},psqVW:c(486),NJVTy:function(r,f){return r/f},Hbwai:"GrPZX",ANJqe:"kXsVD"};let a=!0;return function(r,f){const o=a?function(){const h=pn,v={PGOzA:function(d,m){return d===m},EGjHa:i[h(478)],iUEjv:function(d,m){return d/m},GyeJt:function(d,m){return i.LDxwB(d,m)},NcPYO:function(d,m){return d===m},GKPHA:i[h(475)],sckCr:function(d,m){return d/m},lYJgj:function(d,m){return i.NJVTy(d,m)}};if(f)if(i[h(531)]!==h(522)){const d=f[h(473)](r,arguments);return f=null,d}else{const d=v[h(472)](_0x4b5a28,v.EGjHa)?_0x547f16(1+v.iUEjv((_0x24aa06-1)*_0x1642ff,_0xbefa6a),.3,3):1,m=v[h(513)](_0xda0c84,d);let _;if(v.NcPYO(_0x4d7d32,v[h(491)])){const p=70*_0x54e6ed.PI/180,C=_0x143f32>1?v.GyeJt(_0x29afa2/(_0x3404de-1),p):0,z=_0x536746.cos(C);_=v[h(513)](m*v.sckCr(30,100),z)}else _=v.lYJgj(m,3);_0x55c475=_0x520a19+_,_0x47db5a=_0x12ab5d.round(_0x422b89*10)/10}}:function(){};return a=!1,o}})(),Is=pb(void 0,function(){const c=pn,i={YKWqS:c(520)};return Is.toString()[c(523)](i.YKWqS)[c(485)]()[c(504)](Is).search("(((.+)+)+)+$")});Is();function pn(c,i){c=c-470;const a=V0();let r=a[c];if(pn.HoAOIw===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};pn.hfTEvO=f,pn.ugHOCb={},pn.HoAOIw=!0}const o=a[0],h=c+o,v=pn.ugHOCb[h];if(v)r=v;else{const d=function(m){this.tWAbCg=m,this.zmmkLe=[1,0,0],this.ZKyBle=function(){return"newState"},this.PKWVvL="\\w+ *\\(\\) *{\\w+ *",this.mybMXW=`['|"].+['|"];? *}`};d.prototype.dNSKFV=function(){const m=new RegExp(this.PKWVvL+this.mybMXW),_=m.test(this.ZKyBle.toString())?--this.zmmkLe[1]:--this.zmmkLe[0];return this.AsmEmc(_)},d.prototype.AsmEmc=function(m){return~m?this.KTPlId(this.tWAbCg):m},d.prototype.KTPlId=function(m){for(let _=0,S=this.zmmkLe.length;_<S;_++)this.zmmkLe.push(Math.round(Math.random())),S=this.zmmkLe.length;return m(this.zmmkLe[0])},new d(pn).dNSKFV(),r=pn.hfTEvO(r),pn.ugHOCb[h]=r}return r}function yb({project:c,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:f,pan:o,stageSize:h,CANVAS_MAX_SVG:v}){const d=pn,m={AfZDt:function(b,D,R,B){return b(D,R,B)},jYkQZ:"tRmnJ",ceajM:function(b,D){return b===D},zxwhd:"",zlGmE:d(512),xuqLG:function(b,D){return b(D)},gywVB:function(b,D){return b/D},DCFQl:function(b,D){return b*D},ilVcI:"uniform",JWlEL:function(b,D){return b/D},AetYq:function(b,D){return b+D},cZvKE:function(b,D){return b===D},PWZsD:function(b,D){return b===D},eTmnJ:"jOPea",Vmrjf:function(b,D){return b+D},OnAKd:function(b,D){return b-D},ZhxON:function(b,D){return b/D},WzMwi:function(b,D){return b/D},TQkRd:function(b,D){return b/D},SHxOe:function(b,D){return b/D},NxqhF:d(517),fnEzk:d(536),uDMhj:function(b,D){return b===D},veVRe:d(502),uLtRS:function(b,D){return b/D},hJlPi:function(b,D){return b/D},UZExp:function(b,D){return b+D},eZfyy:function(b,D){return b/D},Udblk:function(b,D){return b+D},VyTul:d(483),Lqspf:function(b,D,R){return b(D,R)},rywbh:"flower",AXQTH:function(b,D){return b(D)}},[_,S]=m.AXQTH(ee.useState,!1),[p,C]=ee.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:"",sizeMode:d(510),sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:_,setShowAddFlowerDialog:S,addFlowerOpts:p,setAddFlowerOpts:C,addFlower:()=>{const b=d,D={ugCFv:function(q,Y,X,E){return m.AfZDt(q,Y,X,E)},bmSgd:m[b(482)],fEQHa:function(q,Y){return m[b(489)](q,Y)},IOSjI:m.zxwhd,aliiS:function(q,Y){return m[b(489)](q,Y)},cHWVf:m[b(537)]},R=c.fabricSquareSize,B=c[b(484)];C(q=>{const Y=b,X={eZNJl:function(E,O){return E===O},RwOYj:function(E,O){return E(O)}};if(D.bmSgd!==D.bmSgd)_0x35d237[Y(534)]=D.ugCFv(_0x12f7ae,_0x42c12,_0x5dd7ca,{layerCount:_0x2fcbaf[Y(528)],sizeMode:_0x2bf78b[Y(492)],sizeStepMm:_0x4f0c47[Y(497)]}).diameter;else{const E={...q,fabricSquareSize:R,baseDiameter:B};if(D[Y(496)](E[Y(511)],D.IOSjI))E[Y(534)]=ia(B,R,{layerCount:E[Y(528)],sizeMode:E.sizeMode,sizeStepMm:E.sizeStepMm}).diameter;else if(D.aliiS("wZMpj",D.cHWVf)){const O=_0x11ec65.fabricSquareSize,P=_0x6fddf7.baseDiameter;riJuNF[Y(488)](_0x49b8e1,V=>{const U=Y,G={...V,fabricSquareSize:O,baseDiameter:P};return X[U(530)](G.placementMode,U(486))?G.flowerDiameter=_0x2187e2(P,O,{layerCount:G.layerCount,sizeMode:G[U(492)],sizeStepMm:G[U(497)]}).diameter:G[U(534)]=_0x449423(O,G[U(528)],G.sizeMode,G[U(497)]),G}),_0x56ab3b(!0)}else E[Y(534)]=sr(R,E.layerCount,E.sizeMode,E.sizeStepMm);return E}}),m[b(481)](S,!0)},confirmAddFlower:()=>{const b=d,{placementMode:D,layerCount:R,petalCount:B,petalType:q,sizeMode:Y,sizeStepMm:X}=p,E=p.fabricSquareSize,{length:O}=qt(E),P=.28,V=m[b(495)](Math.round(m[b(494)](O*P,10)),10),U=[];let G=V,K=0;for(let re=0;re<R;re++){const oe=re,de=1;let ge;if(Y===m.ilVcI)ge=de;else{const He=m[b(508)](X,E);ge=m.AfZDt(pe,m.AetYq(de,oe*He),.3,3)}let he;if(m[b(499)](re,0))he=V;else if(m[b(516)]("jOPea",m[b(477)])){const He=Y==="gradual"?pe(m[b(498)](1,m.DCFQl(m.OnAKd(re,1),X)/E),.3,3):1,Ie=O*He;let nt;if(D===b(486)){const mt=m[b(487)](70*Math.PI,180),xt=R>1?m.DCFQl(m.WzMwi(re,R-1),mt):0,Et=Math[b(535)](xt);nt=m[b(494)](Ie,30/100)*Et}else nt=m.TQkRd(Ie,3);G=G+nt,he=m.SHxOe(Math[b(500)](G*10),10)}else{const He=_0x420e37.find(Ie=>Ie.id===_0x1f6ebe.id);He&&(He[b(506)]=_0x5df6ba[b(506)],He.scale=_0x2316ef.scale)}const Me=re===0?0:m[b(493)](ll,B,K,B);K=Me;const Pe=b(524)+(re+1);U.push({id:kt(m.NxqhF),name:Pe,order:R-re,petalType:q,petalCount:B,radius:he,scale:ge,widthScale:oi(B),offsetAngle:Me,colorId:p.colorId||(c.palette?.[0]?.id??m.fnEzk),visible:!0,locked:!1})}U[b(525)]();const W=[...U].sort((re,oe)=>re[b(515)]-oe[b(515)]),w=D===m.zxwhd?m[b(493)](ia,p.baseDiameter,E,{layerCount:R,sizeMode:Y,sizeStepMm:X}).diameter:sr(E,R,Y,X);Q0(W,E,p[b(534)]||w);for(const re of W)if(m.uDMhj(m.veVRe,m.veVRe)){const oe=U[b(538)](de=>de.id===re.id);oe&&(oe[b(506)]=re[b(506)],oe[b(480)]=re[b(480)])}else _0x581f4a=_0x8b313;const y=m.ZhxON(h.w,h.h),L=m.uLtRS(520,f),I=m.DCFQl(L,y),T=m.ZhxON(-o.x,f),k=m.hJlPi(-o.y,f);let M=m[b(514)](T,m[b(529)](I,2)),N=m.Udblk(k,L/2);const H=25;let Z=0;for(;Z<50&&c.flowers.some(re=>Math.abs(re[b(526)].x-M)<5&&Math[b(533)](re[b(526)].y-N)<5);)M+=H,N+=H,M=pe(M,0,v),N=pe(N,0,v),Z++;const F=p[b(534)]||w,le={id:kt("flw"),name:b(518)+(c[b(527)][b(507)]+1),position:{x:M,y:N},flowerDiameter:F,rotation:0,layers:U,center:{type:m[b(532)],size:6,color:m.fnEzk},fabricSquareSize:E,placementMode:D,baseDiameter:D===""?p.baseDiameter:ir(F)};m.Lqspf(i,re=>{const oe=b;re.flowers[oe(479)](le)},!0),a({kind:m.rywbh,flowerId:le.id}),r(re=>({...re,[le.id]:!0})),m.xuqLG(S,!1)}}}(function(c,i){const a=yn,r=c();for(;;)try{if(-parseInt(a(370))/1+-parseInt(a(365))/2+-parseInt(a(364))/3*(-parseInt(a(355))/4)+-parseInt(a(363))/5*(parseInt(a(346))/6)+-parseInt(a(367))/7*(parseInt(a(348))/8)+parseInt(a(382))/9*(parseInt(a(369))/10)+parseInt(a(361))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(W0,905360);const _b=(function(){const c={dyBBs:function(a,r){return a===r}};let i=!0;return function(a,r){const f=yn,o={gBZkI:function(h,v,d,m){return h(v,d,m)}};if(c.dyBBs(f(378),"fjpMV")){const h=i?function(){const v=f;if(r){const d=r[v(359)](a,arguments);return r=null,d}}:function(){};return i=!1,h}else _0x4c20df+=25,_0x5dbeda+=25,_0x5ae2f3=o.gBZkI(_0x2a07da,_0x5b8657,0,_0x58cb2c),_0x3bab7b=o.gBZkI(_0x2db43e,_0x3bc828,0,_0x451ba8),_0x394042++}})(),Gs=_b(void 0,function(){const c=yn,i={WNUYI:"(((.+)+)+)+$"};return Gs.toString().search(i[c(376)])[c(375)]().constructor(Gs)[c(379)](i.WNUYI)});Gs();function yn(c,i){c=c-345;const a=W0();let r=a[c];if(yn.hNeXXk===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};yn.rigjNE=f,yn.WJMpUC={},yn.hNeXXk=!0}const o=a[0],h=c+o,v=yn.WJMpUC[h];if(v)r=v;else{const d=function(m){this.ssZZGS=m,this.JXKkzM=[1,0,0],this.ZihVFz=function(){return"newState"},this.peESmn="\\w+ *\\(\\) *{\\w+ *",this.lxopFO=`['|"].+['|"];? *}`};d.prototype.zxYLhA=function(){const m=new RegExp(this.peESmn+this.lxopFO),_=m.test(this.ZihVFz.toString())?--this.JXKkzM[1]:--this.JXKkzM[0];return this.EqjqJp(_)},d.prototype.EqjqJp=function(m){return~m?this.CdLGrf(this.ssZZGS):m},d.prototype.CdLGrf=function(m){for(let _=0,S=this.JXKkzM.length;_<S;_++)this.JXKkzM.push(Math.round(Math.random())),S=this.JXKkzM.length;return m(this.JXKkzM[0])},new d(yn).zxYLhA(),r=yn.rigjNE(r),yn.WJMpUC[h]=r}return r}function Qd(c){const i=yn,a={exWsx:function(r,f){return r/f}};return a[i(377)](Math[i(357)](a.exWsx(c*Math.SQRT2,2)*10),10)}function W0(){const c=["ody0mtv1EgrZr3m","mJK2mZm4nMvtwhf5sq","s0f2zNq","mtyZmwTeCKDoua","C29Tzq","ndeWyKn1uhv1","nZG1mJC3wLrUtgXs","Bw5AveO","Cg9ZAxrPB24","y29Sx2DYzwvU","CgfSzxr0zq","Dg9tDhjPBMC","v05vwuK","zxHxC3G","zMPWtvy","C2vHCMnO","AxjTqKq","y29Sx2rHCMTNCMvLBG","mJCWnZm4quTRr0Pc","BgvHzG","rxPyv3i","otC5mJCZmLHXDKXMBG","BgvUz3rO","mtyYmJryB1bAA2K","v0HKDuC","tgvHzIa","BgvHDMvZ","ywjZ","AwPLDNK","u1fsvdi","otjeweDnu2q","y29SB3jjza","CM91BMq","tLzkvLO","yxbWBhK","D3rHEMq","mZCXotiWodL2AwrUALK","seXuDxC","nvjvug5PBW"];return W0=function(){return c},W0()}function Sb({project:c,applyUpdate:i,setSelection:a,zoom:r,pan:f,stageSize:o,CANVAS_MAX_SVG:h}){const v=yn,d={GSsWx:v(373),WHduG:function(g,b){return g(b)},YPSUh:"HZjRH",OcxEc:function(g,b){return g*b},HLTuw:function(g,b){return g/b},EzXWr:function(g,b){return g<b},wtazd:function(g,b,D,R){return g(b,D,R)},oFlJY:function(g,b,D,R){return g(b,D,R)},irmBD:v(383),pplCw:function(g,b){return g+b},NVJVZ:function(g,b){return g(b)},ZQNGT:function(g,b){return g(b)},mnZTJ:""},[m,_]=ee.useState(!1),[S,p]=d.ZQNGT(ee.useState,{fabricSquareSize:20,leafSizeMm:Qd(20),petalType:d[v(371)],colorId:""});return{showAddLeafDialog:m,setShowAddLeafDialog:_,addLeafOpts:S,setAddLeafOpts:p,addLeaf:()=>{const g=v,b=c.fabricSquareSize,D=c.palette?.find(R=>R.id==="col_green"||R.id===g(381))?.id??c[g(374)]?.[0]?.id??d.GSsWx;p(R=>({...R,fabricSquareSize:b,leafSizeMm:Qd(b),colorId:R[g(356)]||D})),d[g(349)](_,!0)},confirmAddLeaf:()=>{const g=v,{petalType:b,colorId:D,fabricSquareSize:R}=S,B=o.w/o.h,q=520/r,Y=q*B,X=-f.x/r,E=d[g(362)](-f.y,r);let O=X+d[g(362)](Y,2),P=E+q/2,V=0;for(;d[g(345)](V,50)&&(c[g(351)]??[])[g(368)](G=>Math.abs(G[g(372)].x-O)<5&&Math[g(352)](G.position.y-P)<5);)O+=25,P+=25,O=d[g(360)](pe,O,0,h),P=d.oFlJY(pe,P,0,h),V++;const U={id:kt(d[g(380)]),name:g(350)+d.pplCw((c.leaves??[])[g(347)],1),position:{x:O,y:P},rotation:135,petalType:b,colorId:D||c[g(374)]?.[0]?.id||d.GSsWx,fabricSquareSize:R,scale:1,widthScale:1,visible:!0,locked:!1};i(G=>{const K=g;if(d.YPSUh!=="OmZWg")G.leaves||(G.leaves=[]),G[K(351)].push(U);else return HadQEQ[K(366)](_0x73879d.round(HadQEQ.KAvft(HadQEQ[K(353)](_0x20f7a3,_0x3b91[K(354)]),2)*10),10)},!0),a({kind:d.irmBD,leafId:U.id}),d[g(358)](_,!1)}}}(function(c,i){const a=Kn,r=c();for(;;)try{if(parseInt(a(125))/1*(parseInt(a(153))/2)+parseInt(a(139))/3*(-parseInt(a(119))/4)+-parseInt(a(124))/5*(-parseInt(a(115))/6)+-parseInt(a(110))/7*(-parseInt(a(130))/8)+-parseInt(a(164))/9*(parseInt(a(169))/10)+-parseInt(a(135))/11*(parseInt(a(133))/12)+parseInt(a(168))/13*(parseInt(a(171))/14)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(P0,494533);const wb=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),Rs=wb(void 0,function(){const c=Kn,i={VGZdt:c(128)};return Rs.toString().search(i.VGZdt)[c(162)]()[c(129)](Rs)[c(155)]("(((.+)+)+)+$")});function P0(){const c=["u3HIrwi","CvPjBeO","DuLVAwO","vhHWwfm","nLbzyvvuCW","z3jVDxbjza","v0fns0u","t0vTyvG","ne50u2v5Ba","Dg9Qr3G","Bgf5zxjZ","zMXVD2vYswq","z3jVDxa","mJK1odK4mgTcBLvPEG","mta0otC4Bhv1EKzI","A2LUza","C0PHCxG","kcGOlISPkYKRksSK","y29UC3rYDwn0B3i","ofLuCvruwG","Bgf5zxi","DuH2t0m","mJrKuM9fBhi","zMXVD2vYswrZ","nZaZnJu5sMXOEfnk","z0D3z1e","rvr4rNK","z3jVDxbZ","mJK2mZa1mLjiCvH6qq","uLzrrvO","yMnbre8","ExHbwMe","Cgv0ywW","Du5dr0u","zMXVD2vYCW","z2DVAvK","C2PUqvq","Cgv0ywXZ","Bgf5zxjjza","EwTtCvm","BgvHDMvZ","zMLUza","mNvWrwfpuG","C3rLBMnPBhm","C2vHCMnO","wNfVCM4","zMXVD2vY","Bxr4y3e","s0jWCLG","svbZzNe","DefSALy","Dg9tDhjPBMC","zMLSDgvY","mZzPDNLite8","Aw5JBhvKzxm","C3rLBMnPBeLK","tvb4Aeq","ntjrzuzoC24","mJaWntCWs3PHsLn6","AeTVvvu","oda4mJC2yvjzA3ng","BgvHzKLKCW","ntmZodCXmuHpwNPeyW"];return P0=function(){return c},P0()}Rs();function Kn(c,i){c=c-110;const a=P0();let r=a[c];if(Kn.LozZoV===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,z,g,b=0;g=d.charAt(b++);~g&&(z=C%4?z*64+g:g,C++%4)?_+=p.charCodeAt(b+10)-10!==0?String.fromCharCode(255&z>>(-2*C&6)):C:0)g=m.indexOf(g);for(let C=0,z=_.length;C<z;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Kn.jOeIFY=f,Kn.oXQBZU={},Kn.LozZoV=!0}const o=a[0],h=c+o,v=Kn.oXQBZU[h];if(v)r=v;else{const d=function(m){this.KrzGMi=m,this.IszBoP=[1,0,0],this.qNvPSS=function(){return"newState"},this.mQRKML="\\w+ *\\(\\) *{\\w+ *",this.HIAWBC=`['|"].+['|"];? *}`};d.prototype.HizqFo=function(){const m=new RegExp(this.mQRKML+this.HIAWBC),_=m.test(this.qNvPSS.toString())?--this.IszBoP[1]:--this.IszBoP[0];return this.dMGAUt(_)},d.prototype.dMGAUt=function(m){return~m?this.QaSSfP(this.KrzGMi):m},d.prototype.QaSSfP=function(m){for(let _=0,S=this.IszBoP.length;_<S;_++)this.IszBoP.push(Math.round(Math.random())),S=this.IszBoP.length;return m(this.IszBoP[0])},new d(Kn).HizqFo(),r=Kn.jOeIFY(r),Kn.oXQBZU[h]=r}return r}function Cb(c,i){const a=Kn,r={qRtJS:function(g,b){return g===b},RMaIf:"ucowH",Zqorn:function(g,b){return g===b},SeYkf:"flower",IPsfq:a(131),ykSqS:function(g,b){return g===b},gGwgQ:"petal",RVQEZ:a(170),sJaqx:"flowers",sjnAT:"mixed",hmRpV:a(123),uNCGE:"leaf",nMuNs:function(g,b){return g===b},OEmaX:function(g,b){return g===b},qZIlJ:function(g,b){return g===b},ggoiY:function(g,b){return g===b},KBprX:function(g,b){return g===b},uHvOC:a(114),uIoij:a(151),yxAZa:function(g,b){return g===b},ETxFy:function(g,b,D){return g(b,D)},bcADO:function(g,b,D){return g(b,D)},SxbEb:function(g,b){return g===b},tojGx:"stencil",weZNF:function(g,b){return g===b},RaDGr:a(148)},f=ee.useMemo(()=>{const g=a;return r.qRtJS("UhBqM",r.RMaIf)?new _0x5051bb(_0x3dbdc1[g(134)]):r.Zqorn(i[g(126)],r.SeYkf)||r.qRtJS(i.kind,r[g(160)])||r[g(150)](i.kind,r.gGwgQ)||i[g(126)]===g(148)?c.flowers[g(152)](b=>b.id===i.flowerId)??null:null},[c[a(145)],i]),o=r[a(137)](ee.useMemo,()=>{const g=a;if(r[g(140)]!==g(158)){if(i[g(126)]===r[g(127)])return c.flowers[g(163)](b=>i.flowerIds.includes(b.id));if(i[g(126)]===r.sjnAT)return c.flowers.filter(b=>i.flowerIds[g(165)](b.id));if(i.kind===r.hmRpV){const b=(c[g(138)]??[])[g(152)](D=>D.id===i.groupId);if(b)return c.flowers[g(163)](D=>b[g(134)].includes(D.id))}return[]}else return(_0x5f391a.groups??[])[g(152)](b=>b.id===_0x56a324.groupId)??null},[c.flowers,c[a(138)],i]),h=ee.useMemo(()=>{const g=a;return i.kind===r.uNCGE?g(117)!==g(161)?(c.leaves??[]).find(b=>b.id===i.leafId)??null:_0x2b4063.layers.find(b=>b.id===_0x53412c.layerId)??null:null},[c.leaves,i]),v=r[a(141)](ee.useMemo,()=>{const g=a;return r.ykSqS(i[g(126)],r.hmRpV)?(c[g(138)]??[]).find(b=>b.id===i[g(116)])??null:null},[c.groups,i]),d=ee.useMemo(()=>{const g=a;return f&&(i.kind===r.IPsfq||r.qRtJS(i[g(126)],g(143)))?f[g(121)][g(152)](b=>b.id===i[g(149)])??null:null},[f,i]),m=i[a(126)]===r[a(136)]?i.index:null,_=r[a(111)](i[a(126)],"petals")?i[a(148)]:[],S=r[a(111)](i.kind,r[a(120)])?(c[a(154)]??[]).find(g=>g.id===i[a(166)])??null:null,p=i[a(126)]===a(157)||r[a(111)](i[a(126)],a(131))||i.kind===r.gGwgQ||r.weZNF(i.kind,r.RaDGr)?i.flowerId:null,C=ee.useMemo(()=>{const g=a;if(r.nMuNs(i[g(126)],r.hmRpV)){const b=(c[g(138)]??[]).find(D=>D.id===i.groupId);if(b)return new Set(b[g(134)])}if(r[g(118)](i[g(126)],r.sJaqx))return new Set(i[g(134)]);if(r.qZIlJ(i[g(126)],r.sjnAT))return new Set(i[g(134)]);if(r[g(146)](i[g(126)],"flower")||r[g(156)](i.kind,g(131))||i.kind===r.gGwgQ||i.kind==="petals"){const b=al(c,i[g(122)]);if(b){if(i[g(126)]===g(157)){if(r[g(159)](r[g(132)],"TxpXS"))return new Set(b[g(134)].filter(D=>D!==i.flowerId));{const D=(_0x3167f4.groups??[])[g(152)](R=>R.id===_0x5ba32c[g(116)]);if(D)return _0x15c959[g(145)][g(163)](R=>D.flowerIds.includes(R.id))}}return new Set(b[g(134)])}}return new Set},[i,c]),z=r.bcADO(ee.useMemo,()=>{const g=a;if(i[g(126)]==="group"){const b=(c[g(138)]??[])[g(152)](D=>D.id===i.groupId);if(b)return new Set(b.leafIds)}if(i[g(126)]===r[g(113)])return new Set(i[g(172)]);if(r[g(142)](i[g(126)],r[g(147)]))return new Set(i.leafIds);if(i.kind===r[g(144)])if(r[g(112)](g(167),g(167))){const b=r.ETxFy(Nl,c,i.leafId);if(b)return new Set(b[g(172)][g(163)](D=>D!==i.leafId))}else return new _0x3aa5ba(_0x3e8460[g(134)]);return new Set},[i,c]);return{selectedFlower:f,selectedFlowers:o,selectedLeaf:h,selectedGroup:v,selectedLayer:d,selectedPetalIndex:m,selectedPetals:_,selectedStencil:S,selectedFlowerId:p,groupHighlightedFlowerIds:C,groupHighlightedLeafIds:z}}function jb(c){const{project:i,selection:a,setSelection:r,applyUpdate:f}=c,o=ee.useMemo(()=>new Map((i.palette||[]).map(me=>[me.id,me])),[i.palette]),{widths:h,containerRef:v,onDividerPointerDown:d,onDividerDoubleClick:m,isDragging:_,isDesktop:S}=hb(),p=ee.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[C,z]=ee.useState({});ee.useEffect(()=>{try{const ye=localStorage.getItem(p);if(ye){const ze=JSON.parse(ye);if(ze&&typeof ze=="object"){z(ze);return}}}catch{}const me=i.flowers?.[0];me&&z({[me.id]:!0})},[p]),ee.useEffect(()=>{try{localStorage.setItem(p,JSON.stringify(C))}catch{}},[p,C]),ee.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const me=a.flowerId;z(ye=>ye?.[me]?ye:{...ye,[me]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const me=a.flowerIds;z(ye=>{const ze={...ye};for(const Gt of me)ze[Gt]=!0;return ze})}},[a]);const g=me=>C?.[me]??!1,b=me=>z(ye=>({...ye,[me]:!(ye?.[me]??!1)})),D=ee.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[R,B]=ee.useState({});ee.useEffect(()=>{try{const ye=localStorage.getItem(D);if(ye){const ze=JSON.parse(ye);if(ze&&typeof ze=="object"){B(ze);return}}}catch{}const me=i.groups??[];if(me.length>0){const ye={};for(const ze of me)ye[ze.id]=!0;B(ye)}},[D]),ee.useEffect(()=>{try{localStorage.setItem(D,JSON.stringify(R))}catch{}},[D,R]);const q=me=>R?.[me]??!0,Y=me=>B(ye=>({...ye,[me]:!(ye?.[me]??!0)})),X=ee.useRef({flowerId:null,timer:null}),E=me=>{const ye=X.current.timer;ye&&window.clearTimeout(ye),X.current.flowerId=me,X.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:me}),z(ze=>({...ze,[me]:!0})),X.current.timer=null,X.current.flowerId=null},200)},O=me=>{const ye=X.current.timer;ye&&X.current.flowerId===me&&window.clearTimeout(ye),X.current.timer=null,X.current.flowerId=null,r({kind:"flower",flowerId:me}),b(me)},P=ee.useRef(null),[V,U]=ee.useState({w:520,h:520});ee.useEffect(()=>{const me=P.current;if(!me)return;const ye=new ResizeObserver(ze=>{for(const Gt of ze){const{width:wt,height:Xt}=Gt.contentRect;wt>0&&Xt>0&&U({w:wt,h:Xt})}});return ye.observe(me),()=>ye.disconnect()},[]);const G=me=>{const ye=P.current;if(!ye)return{x:0,y:0};const ze=ye.createSVGPoint();ze.x=me.clientX,ze.y=me.clientY;const Gt=ye.getScreenCTM();if(!Gt)return{x:0,y:0};const wt=ze.matrixTransform(Gt.inverse());return{x:wt.x,y:wt.y}},K=500*cn,W=-300*cn,w=800*cn,y=ee.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[L,I]=ee.useState(6),[T,k]=ee.useState(y[6]),M=ee.useCallback(me=>{I(ye=>{const ze=typeof me=="function"?me(ye):me;return k(y[ze]),ze})},[y]),N=ee.useCallback(me=>{const ye=pe(me,y[0],y[y.length-1]);k(ye);let ze=0,Gt=Math.abs(y[0]-ye);for(let wt=1;wt<y.length;wt++){const Xt=Math.abs(y[wt]-ye);Xt<Gt&&(ze=wt,Gt=Xt)}I(ze)},[y]),[H,Z]=ee.useState({x:0,y:0}),[F,le]=ee.useState(!0),[re,oe]=ee.useState(!1),de=ee.useRef(null),ge=ee.useMemo(()=>{const me=V.w/V.h,ye=520,ze=ye*me;return(Gt,wt=T)=>{const Xt=pe(Gt.x,-(w*wt-ze),-W*wt),Tl=pe(Gt.y,-(w*wt-ye),-W*wt);return{x:Xt,y:Tl}}},[V,T,W,w]),he=ee.useMemo(()=>ge(H),[H,ge]),Me=ee.useCallback(me=>Z(me),[]),Pe=ee.useMemo(()=>{const me=V.w/V.h,ye=520,ze=ye*me,Gt=-he.x/T,wt=-he.y/T;return`${Gt} ${wt} ${ze/T} ${ye/T}`},[T,he,V]),{deleteLeafById:He,handleShiftLeafSelect:Ie,groupSelectedLeaves:nt,ungroupLeaves:bt,addLeafToGroup:mt,removeLeafFromGroup:xt,addLeavesToGroup:Et,mergeLeafGroups:Pt}=vb({project:i,applyUpdate:f,selection:a,setSelection:r}),{showAddFlowerDialog:Vn,setShowAddFlowerDialog:Wn,addFlowerOpts:Qe,setAddFlowerOpts:_n,addFlower:Dl,confirmAddFlower:cl}=yb({project:i,applyUpdate:f,setSelection:r,setExpandedFlowers:z,zoom:T,pan:he,stageSize:V,CANVAS_MAX_SVG:K}),{showAddLeafDialog:ul,setShowAddLeafDialog:Al,addLeafOpts:ra,setAddLeafOpts:Pn,addLeaf:fi,confirmAddLeaf:Gn}=Sb({project:i,applyUpdate:f,setSelection:r,zoom:T,pan:he,stageSize:V,CANVAS_MAX_SVG:K}),{selectedFlower:Bt,selectedFlowers:Sn,selectedLeaf:Oe,selectedLayer:fe,selectedPetalIndex:qe,selectedPetals:Be,selectedStencil:Se,selectedFlowerId:_e,groupHighlightedFlowerIds:Ae,groupHighlightedLeafIds:Ne}=Cb(i,a),{deleteFlowerById:we,deleteLayerById:Fe,addOuterLayer:$e,deleteOuterLayer:Xe,deleteSelected:Je,groupSelectedFlowers:Ee,groupSelectedMixed:It,ungroupFlowers:et,ungroupAll:Dt,deleteGroup:rt,addToGroup:lt,mergeGroups:gt,addStencil:Rn,deleteStencil:ca,handleShiftFlowerSelect:un,togglePetalSelection:vt}=bb({project:i,applyUpdate:f,selection:a,setSelection:r,setExpandedFlowers:z,setExpandedGroups:B,zoom:T,pan:he,stageSize:V,CANVAS_MAX_SVG:K,deleteLeafById:He}),Le=fm({project:i,selection:a,setSelection:r,applyUpdate:f,dragRef:c.dragRef,zoom:T,pan:he,setPan:Me,stageRef:P,clientToSvgPoint:G,togglePetalSelection:vt}),[sl,di]=ee.useState(0),Qn=a.kind,F0=Qn==="flower"?a.flowerId:null,mr=Qn==="flowers"?a.flowerIds?.join(","):null,ua=Qn==="layer"||Qn==="petal"?a.layerId:null,hi=Qn==="petal"?a.index:null,El=Qn==="petals"?a.petals?.length:null;ee.useEffect(()=>{Qn!=="project"&&di(Date.now())},[Qn,F0,mr,ua,hi,El]),ee.useEffect(()=>{if(!de.current)return;const me=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!me)return;const ye=de.current.querySelector(`[data-flower-id="${me}"]`);ye&&ye.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ll=ee.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[sl]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:v,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:S?{width:`${h.left}%`}:void 0,children:s.jsx(vm,{project:i,selection:a,setSelection:r,expandedFlowers:C,setExpandedFlowers:z,isExpanded:g,toggleExpanded:b,scheduleFlowerRowClick:E,handleFlowerRowDoubleClick:O,addFlower:Dl,deleteSelected:Je,addOuterLayer:$e,deleteOuterLayer:Xe,deleteFlowerById:we,deleteLayerById:Fe,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:de,groups:i.groups??[],expandedGroups:R,isGroupExpanded:q,toggleGroupExpanded:Y,onSelectGroup:me=>r({kind:"group",groupId:me}),onUngroupFlowers:et,onDeleteGroup:rt,leaves:i.leaves??[],onSelectLeaf:me=>r({kind:"leaf",leafId:me}),onAddLeaf:fi,onDeleteLeaf:He})}),s.jsx(Pd,{side:"left",onPointerDown:d,onDoubleClick:m,isDragging:_}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Km,{project:i,selection:a,setSelection:r,applyUpdate:f,paletteMap:o,selectedFlowerId:_e,zoom:T,setZoom:N,zoomLevel:L,setZoomLevel:M,ZOOM_LEVELS:y,pan:he,panRaw:H,setPan:Me,showGrid:F,setShowGrid:le,showHelp:re,setShowHelp:oe,stageRef:P,viewBox:Pe,dashSyncToken:sl,dashDelay:Ll,beginPan:Le.beginPan,updatePan:Le.updatePan,endPan:Le.endPan,beginMarquee:Le.beginMarquee,updateMarquee:Le.updateMarquee,endMarquee:Le.endMarquee,marqueeRef:Le.marqueeRef,marqueeRect:Le.marqueeRect,beginFlowerDrag:Le.beginFlowerDrag,updateFlowerDrag:Le.updateFlowerDrag,endFlowerDrag:Le.endFlowerDrag,scaleDragRef:Le.scaleDragRef,beginScaleDrag:Le.beginScaleDrag,updateScaleDrag:Le.updateScaleDrag,endScaleDrag:Le.endScaleDrag,rotationDragRef:Le.rotationDragRef,beginRotationDrag:Le.beginRotationDrag,updateRotationDrag:Le.updateRotationDrag,endRotationDrag:Le.endRotationDrag,widthScaleDragRef:Le.widthScaleDragRef,beginWidthScaleDrag:Le.beginWidthScaleDrag,updateWidthScaleDrag:Le.updateWidthScaleDrag,endWidthScaleDrag:Le.endWidthScaleDrag,radiusDragRef:Le.radiusDragRef,beginRadiusDrag:Le.beginRadiusDrag,updateRadiusDrag:Le.updateRadiusDrag,endRadiusDrag:Le.endRadiusDrag,togglePetalSelection:vt,clientToSvgPoint:G,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:Rn,onDeleteStencil:ca,onSelectStencil:me=>r({kind:"stencil",stencilId:me}),handleShiftFlowerSelect:un,groupHighlightedFlowerIds:Ae,leaves:i.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:Ne,onSelectLeaf:me=>r({kind:"leaf",leafId:me}),onSelectGroup:me=>r({kind:"group",groupId:me}),onShiftSelectLeaf:Ie})}),s.jsx(Pd,{side:"right",onPointerDown:d,onDoubleClick:m,isDragging:_}),s.jsx("div",{className:"min-w-0 shrink-0",style:S?{width:`${h.right}%`}:void 0,children:s.jsx(ib,{project:i,selection:a,applyUpdate:f,selectedFlower:Bt,selectedFlowers:Sn,selectedLayer:fe,selectedPetalIndex:qe,selectedPetals:Be,selectedStencil:Se,onDeleteStencil:ca,groups:i.groups??[],onGroupFlowers:Ee,onUngroupFlowers:et,onUngroupAll:Dt,onAddToGroup:lt,onMergeGroups:gt,selectedLeaf:Oe,onDeleteLeaf:He,onGroupLeaves:nt,onUngroupLeaves:bt,onAddLeafToGroup:mt,onRemoveLeafFromGroup:xt,onAddLeavesToGroup:Et,onMergeLeafGroups:Pt,onGroupMixed:It})})]}),Vn&&s.jsx(ub,{palette:i.palette,addFlowerOpts:Qe,setAddFlowerOpts:_n,onConfirm:cl,onCancel:()=>Wn(!1)}),ul&&s.jsx(ob,{palette:i.palette,addLeafOpts:ra,setAddLeafOpts:Pn,onConfirm:Gn,onCancel:()=>Al(!1)}),re&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:me=>me.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([me,ye])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:me}),s.jsx("td",{className:"py-2 text-neutral-700",children:ye})]},me))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function Mb({cg:c}){const[i,a]=ee.useState("w"),[r,f]=ee.useState(""),o=c.totalAreaCm2,h=parseFloat(r),d=r!==""&&Number.isFinite(h)&&h>0?Math.round(o/h*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(m=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[m.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[m.count," "]})]},m.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",o,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:m=>f(m.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:m=>f(m.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function zb(c){const{recipe:i}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[i.colors.map(a=>s.jsx(Mb,{cg:a},a.colorId)),i.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function Nb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function Db(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Ab(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function Eb(){const[c,i]=ee.useState("home"),[a,r]=ee.useState([]),[f,o]=ee.useState(null),[h,v]=ee.useState({kind:"project"}),[d,m]=ee.useState([]),[_,S]=ee.useState(0),p=ee.useRef(f),C=ee.useRef(d),z=ee.useRef(_);ee.useEffect(()=>{p.current=f},[f]),ee.useEffect(()=>{C.current=d},[d]),ee.useEffect(()=>{z.current=_},[_]);const g=ee.useRef(null),b=ee.useRef(null),D=ee.useRef(null),R=ee.useRef(null),[B,q]=ee.useState(null);ee.useEffect(()=>{const k=B?window.setTimeout(()=>q(null),2200):null;return()=>{k&&window.clearTimeout(k)}},[B]),ee.useEffect(()=>{r(cr())},[]);function Y(k){const M=JSON.stringify(k);m([M]),S(0)}function X(k,M=!0){if(!M){o(ge=>{if(!ge)return ge;const he=la(ge);return k(he),he.updatedAt=A0(),he});return}const N=p.current;if(!N)return;const H=la(N);k(H),H.updatedAt=A0(),o(H);const Z=C.current,F=z.current;if(Z.length===0){Y(H);return}const le=JSON.stringify(H);let oe=[...Z.slice(0,F+1),le];const de=50;oe.length>de&&(oe=oe.slice(oe.length-de)),m(oe),S(oe.length-1)}function E(){S(k=>{if(k<=0)return k;const M=k-1,N=C.current[M];return N&&o(Ma(JSON.parse(N))),q("Undo"),M})}function O(){S(k=>{if(k>=C.current.length-1)return k;const M=k+1,N=C.current[M];return N&&o(Ma(JSON.parse(N))),q("Redo"),M})}function P(){if(!f)return;const k=Vh(f);r(cr()),q(k?"Saved":" ")}function V(){if(!f)return;const k=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),M=URL.createObjectURL(k),N=document.createElement("a");N.href=M,N.download=`${f.title||"tsumami"}.json`,N.click(),URL.revokeObjectURL(M),q("JSON exported")}function U(k){const M=new FileReader;M.onload=()=>{try{const N=JSON.parse(String(M.result??""));if(!N||typeof N!="object"||!Array.isArray(N.flowers))throw new Error("Invalid JSON");const H=Ma(N);o(H),v({kind:"project"}),Y(H),i("editor"),q("Imported")}catch{q("Import failed")}},M.readAsText(k)}function G(k){const M=Ma(k);o(M),v({kind:"project"}),Y(M),i("editor")}function K(k){return k&&(k.kind==="flower"||k.kind==="layer"||k.kind==="petal")?k.flowerId:null}function W(){if(!f)return;const k=K(h);if(!k)return;const M=f.flowers.find(N=>N.id===k);M&&(b.current=la(M),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:M},null,2)).catch(()=>{}),q("Flower copied"))}function w(){if(!f||h.kind!=="leaf")return;const k=(f.leaves??[]).find(M=>M.id===h.leafId);k&&(D.current=la(k),q("Leaf copied"))}function y(){if(!f)return;const k=b.current;if(!k){q("Nothing to paste");return}const M=Uh(k,{x:12+Math.random()*10,y:12+Math.random()*10});X(N=>{N.flowers.push(M)},!0),v({kind:"flower",flowerId:M.id}),q("Flower pasted")}function L(){if(!f)return;const k=D.current;if(!k)return;const M=kt("leaf"),N={...la(k),id:M,name:k.name+" (copy)",position:{x:k.position.x+30,y:k.position.y+30}};X(H=>{H.leaves||(H.leaves=[]),H.leaves.push(N)},!0),v({kind:"leaf",leafId:N.id}),q("Leaf pasted")}function I(k){if(!f)return;const M=K(h);M&&(X(N=>{const H=N.flowers.findIndex(re=>re.id===M);if(H<0)return;const Z=N.flowers,F=Z[H];if(!F)return;if(Z.splice(H,1),k==="front"){Z.push(F);return}if(k==="back"){Z.unshift(F);return}if(k==="forward"){if(H>=Z.length){Z.push(F);return}Z.splice(H+1,0,F);return}const le=pe(H-1,0,Z.length);Z.splice(le,0,F)},!0),q(k==="front"?"Brought to front":k==="back"?"Sent to back":k==="forward"?"Moved forward":"Moved backward"))}ee.useEffect(()=>{function k(N){const H=N;if(!H)return!1;const Z=String(H.tagName||"").toLowerCase();return Z==="input"||Z==="textarea"||Z==="select"||!!H.isContentEditable}function M(N){if(!(k(N.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?N.metaKey:N.ctrlKey))){if(c==="editor"){if(N.key.toLowerCase()==="c"){N.preventDefault(),h.kind==="leaf"?w():W();return}if(N.key.toLowerCase()==="v"){N.preventDefault(),D.current&&(h.kind==="leaf"||h.kind==="leaves"||h.kind==="mixed"||!b.current)?L():y();return}}N.key.toLowerCase()==="z"&&(N.preventDefault(),N.shiftKey?O():E()),N.key.toLowerCase()==="s"&&(N.preventDefault(),P())}}return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[f,d,_,h,c]);const T=ee.useMemo(()=>f?Qh(f):null,[f]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(nm,{view:c,onNavigate:i,project:f,onSave:P,onLoad:()=>i("home"),onImportJson:()=>R.current?.click(),onExportJson:V,onExportSvg:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&f&&$h(k,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&f&&em(k,`${f.title||"tsumami"}.png`)}}),s.jsx("input",{ref:R,type:"file",accept:"application/json",className:"hidden",onChange:k=>{const M=k.target.files?.[0];M&&U(M),k.currentTarget.value=""}}),B&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:B}),s.jsxs("main",{className:"flex-1",children:[c==="home"&&s.jsx(lm,{saved:a,onNew:()=>i("new"),onOpen:k=>{const M=Ma(la(k));o(M),v({kind:"project"}),Y(M),i("editor")},onDelete:k=>{Wh(k),r(cr()),q("Deleted")}}),c==="new"&&s.jsx(am,{onBack:()=>i("home"),onCreate:k=>{const M=Yh({title:k});G(M)}}),c==="editor"&&f&&s.jsx(jb,{project:f,selection:h,setSelection:v,applyUpdate:X,onGoRecipe:()=>i("recipe"),onImport:U,dragRef:g,onCopyFlower:W,onPasteFlower:y,onArrangeFlower:I,canPasteFlower:!!b.current,onUndo:E,onRedo:O,canUndo:_>0,canRedo:_<d.length-1}),c==="recipe"&&f&&T&&s.jsx(zb,{project:f,recipe:T,onBack:()=>i("editor"),onExportJson:V}),c==="terms"&&s.jsx(Nb,{onBack:()=>i("home")}),c==="privacy"&&s.jsx(Db,{onBack:()=>i("home")}),(c==="editor"||c==="recipe")&&!f&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(Ab,{onNavigate:i})]})}class Lb extends ee.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}zh.createRoot(document.getElementById("root")).render(s.jsx(ee.StrictMode,{children:s.jsx(Lb,{children:s.jsx(Eb,{})})}));

(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const b of f.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&r(b)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var is={exports:{}},Pi={};var Ad;function mh(){if(Ad)return Pi;Ad=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,o,f){var b=null;if(f!==void 0&&(b=""+f),o.key!==void 0&&(b=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:c,type:r,key:b,ref:o!==void 0?o:null,props:f}}return Pi.Fragment=i,Pi.jsx=a,Pi.jsxs=a,Pi}var Ld;function bh(){return Ld||(Ld=1,is.exports=mh()),is.exports}var s=bh(),rs={exports:{}},De={};var Td;function gh(){if(Td)return De;Td=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),b=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),N=Symbol.iterator;function m(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,p={};function E(D,B,Y){this.props=D,this.context=B,this.refs=p,this.updater=Y||j}E.prototype.isReactComponent={},E.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=E.prototype;function G(D,B,Y){this.props=D,this.context=B,this.refs=p,this.updater=Y||j}var H=G.prototype=new k;H.constructor=G,g(H,E.prototype),H.isPureReactComponent=!0;var I=Array.isArray;function K(){}var R={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function P(D,B,Y){var Z=Y.ref;return{$$typeof:c,type:D,key:B,ref:Z!==void 0?Z:null,props:Y}}function Q(D,B){return P(D.type,B,D.props)}function W(D){return typeof D=="object"&&D!==null&&D.$$typeof===c}function w(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Y){return B[Y]})}var C=/\/+/g;function L(D,B){return typeof D=="object"&&D!==null&&D.key!=null?w(""+D.key):B.toString(36)}function M(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(K,K):(D.status="pending",D.then(function(B){D.status==="pending"&&(D.status="fulfilled",D.value=B)},function(B){D.status==="pending"&&(D.status="rejected",D.reason=B)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,B,Y,Z,le){var ce=typeof D;(ce==="undefined"||ce==="boolean")&&(D=null);var fe=!1;if(D===null)fe=!0;else switch(ce){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(D.$$typeof){case c:case i:fe=!0;break;case v:return fe=D._init,z(fe(D._payload),B,Y,Z,le)}}if(fe)return le=le(D),fe=Z===""?"."+L(D,0):Z,I(le)?(Y="",fe!=null&&(Y=fe.replace(C,"$&/")+"/"),z(le,B,Y,"",function(we){return we})):le!=null&&(W(le)&&(le=Q(le,Y+(le.key==null||D&&D.key===le.key?"":(""+le.key).replace(C,"$&/")+"/")+fe)),B.push(le)),1;fe=0;var oe=Z===""?".":Z+":";if(I(D))for(var ge=0;ge<D.length;ge++)Z=D[ge],ce=oe+L(Z,ge),fe+=z(Z,B,Y,ce,le);else if(ge=m(D),typeof ge=="function")for(D=ge.call(D),ge=0;!(Z=D.next()).done;)Z=Z.value,ce=oe+L(Z,ge++),fe+=z(Z,B,Y,ce,le);else if(ce==="object"){if(typeof D.then=="function")return z(M(D),B,Y,Z,le);throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return fe}function T(D,B,Y){if(D==null)return D;var Z=[],le=0;return z(D,Z,"","",function(ce){return B.call(Y,ce,le++)}),Z}function q(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(Y){(D._status===0||D._status===-1)&&(D._status=1,D._result=Y)},function(Y){(D._status===0||D._status===-1)&&(D._status=2,D._result=Y)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var X=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},O={map:T,forEach:function(D,B,Y){T(D,function(){B.apply(this,arguments)},Y)},count:function(D){var B=0;return T(D,function(){B++}),B},toArray:function(D){return T(D,function(B){return B})||[]},only:function(D){if(!W(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return De.Activity=_,De.Children=O,De.Component=E,De.Fragment=a,De.Profiler=o,De.PureComponent=G,De.StrictMode=r,De.Suspense=h,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,De.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},De.cache=function(D){return function(){return D.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(D,B,Y){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=g({},D.props),le=D.key;if(B!=null)for(ce in B.key!==void 0&&(le=""+B.key),B)!V.call(B,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&B.ref===void 0||(Z[ce]=B[ce]);var ce=arguments.length-2;if(ce===1)Z.children=Y;else if(1<ce){for(var fe=Array(ce),oe=0;oe<ce;oe++)fe[oe]=arguments[oe+2];Z.children=fe}return P(D.type,le,Z)},De.createContext=function(D){return D={$$typeof:b,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},De.createElement=function(D,B,Y){var Z,le={},ce=null;if(B!=null)for(Z in B.key!==void 0&&(ce=""+B.key),B)V.call(B,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(le[Z]=B[Z]);var fe=arguments.length-2;if(fe===1)le.children=Y;else if(1<fe){for(var oe=Array(fe),ge=0;ge<fe;ge++)oe[ge]=arguments[ge+2];le.children=oe}if(D&&D.defaultProps)for(Z in fe=D.defaultProps,fe)le[Z]===void 0&&(le[Z]=fe[Z]);return P(D,ce,le)},De.createRef=function(){return{current:null}},De.forwardRef=function(D){return{$$typeof:y,render:D}},De.isValidElement=W,De.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:q}},De.memo=function(D,B){return{$$typeof:d,type:D,compare:B===void 0?null:B}},De.startTransition=function(D){var B=R.T,Y={};R.T=Y;try{var Z=D(),le=R.S;le!==null&&le(Y,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(K,X)}catch(ce){X(ce)}finally{B!==null&&Y.types!==null&&(B.types=Y.types),R.T=B}},De.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},De.use=function(D){return R.H.use(D)},De.useActionState=function(D,B,Y){return R.H.useActionState(D,B,Y)},De.useCallback=function(D,B){return R.H.useCallback(D,B)},De.useContext=function(D){return R.H.useContext(D)},De.useDebugValue=function(){},De.useDeferredValue=function(D,B){return R.H.useDeferredValue(D,B)},De.useEffect=function(D,B){return R.H.useEffect(D,B)},De.useEffectEvent=function(D){return R.H.useEffectEvent(D)},De.useId=function(){return R.H.useId()},De.useImperativeHandle=function(D,B,Y){return R.H.useImperativeHandle(D,B,Y)},De.useInsertionEffect=function(D,B){return R.H.useInsertionEffect(D,B)},De.useLayoutEffect=function(D,B){return R.H.useLayoutEffect(D,B)},De.useMemo=function(D,B){return R.H.useMemo(D,B)},De.useOptimistic=function(D,B){return R.H.useOptimistic(D,B)},De.useReducer=function(D,B,Y){return R.H.useReducer(D,B,Y)},De.useRef=function(D){return R.H.useRef(D)},De.useState=function(D){return R.H.useState(D)},De.useSyncExternalStore=function(D,B,Y){return R.H.useSyncExternalStore(D,B,Y)},De.useTransition=function(){return R.H.useTransition()},De.version="19.2.3",De}var Ed;function Is(){return Ed||(Ed=1,rs.exports=gh()),rs.exports}var $=Is(),cs={exports:{}},Fi={},us={exports:{}},ss={};var Bd;function vh(){return Bd||(Bd=1,(function(c){function i(z,T){var q=z.length;z.push(T);e:for(;0<q;){var X=q-1>>>1,O=z[X];if(0<o(O,T))z[X]=T,z[q]=O,q=X;else break e}}function a(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var T=z[0],q=z.pop();if(q!==T){z[0]=q;e:for(var X=0,O=z.length,D=O>>>1;X<D;){var B=2*(X+1)-1,Y=z[B],Z=B+1,le=z[Z];if(0>o(Y,q))Z<O&&0>o(le,Y)?(z[X]=le,z[Z]=q,X=Z):(z[X]=Y,z[B]=q,X=B);else if(Z<O&&0>o(le,q))z[X]=le,z[Z]=q,X=Z;else break e}}return T}function o(z,T){var q=z.sortIndex-T.sortIndex;return q!==0?q:z.id-T.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var b=Date,y=b.now();c.unstable_now=function(){return b.now()-y}}var h=[],d=[],v=1,_=null,N=3,m=!1,j=!1,g=!1,p=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function H(z){for(var T=a(d);T!==null;){if(T.callback===null)r(d);else if(T.startTime<=z)r(d),T.sortIndex=T.expirationTime,i(h,T);else break;T=a(d)}}function I(z){if(g=!1,H(z),!j)if(a(h)!==null)j=!0,K||(K=!0,w());else{var T=a(d);T!==null&&M(I,T.startTime-z)}}var K=!1,R=-1,V=5,P=-1;function Q(){return p?!0:!(c.unstable_now()-P<V)}function W(){if(p=!1,K){var z=c.unstable_now();P=z;var T=!0;try{e:{j=!1,g&&(g=!1,k(R),R=-1),m=!0;var q=N;try{t:{for(H(z),_=a(h);_!==null&&!(_.expirationTime>z&&Q());){var X=_.callback;if(typeof X=="function"){_.callback=null,N=_.priorityLevel;var O=X(_.expirationTime<=z);if(z=c.unstable_now(),typeof O=="function"){_.callback=O,H(z),T=!0;break t}_===a(h)&&r(h),H(z)}else r(h);_=a(h)}if(_!==null)T=!0;else{var D=a(d);D!==null&&M(I,D.startTime-z),T=!1}}break e}finally{_=null,N=q,m=!1}T=void 0}}finally{T?w():K=!1}}}var w;if(typeof G=="function")w=function(){G(W)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,L=C.port2;C.port1.onmessage=W,w=function(){L.postMessage(null)}}else w=function(){E(W,0)};function M(z,T){R=E(function(){z(c.unstable_now())},T)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(z){z.callback=null},c.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<z?Math.floor(1e3/z):5},c.unstable_getCurrentPriorityLevel=function(){return N},c.unstable_next=function(z){switch(N){case 1:case 2:case 3:var T=3;break;default:T=N}var q=N;N=T;try{return z()}finally{N=q}},c.unstable_requestPaint=function(){p=!0},c.unstable_runWithPriority=function(z,T){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=N;N=z;try{return T()}finally{N=q}},c.unstable_scheduleCallback=function(z,T,q){var X=c.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?X+q:X):q=X,z){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=q+O,z={id:v++,callback:T,priorityLevel:z,startTime:q,expirationTime:O,sortIndex:-1},q>X?(z.sortIndex=q,i(d,z),a(h)===null&&z===a(d)&&(g?(k(R),R=-1):g=!0,M(I,q-X))):(z.sortIndex=O,i(h,z),j||m||(j=!0,K||(K=!0,w()))),z},c.unstable_shouldYield=Q,c.unstable_wrapCallback=function(z){var T=N;return function(){var q=N;N=T;try{return z.apply(this,arguments)}finally{N=q}}}})(ss)),ss}var Gd;function ph(){return Gd||(Gd=1,us.exports=vh()),us.exports}var xs={exports:{}},Zt={};var qd;function yh(){if(qd)return Zt;qd=1;var c=Is();function i(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(h,d,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:h,containerInfo:d,implementation:v}}var b=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(h,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(i(299));return f(h,d,null,v)},Zt.flushSync=function(h){var d=b.T,v=r.p;try{if(b.T=null,r.p=2,h)return h()}finally{b.T=d,r.p=v,r.d.f()}},Zt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Zt.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Zt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var v=d.as,_=y(v,d.crossOrigin),N=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:N,fetchPriority:m}):v==="script"&&r.d.X(h,{crossOrigin:_,integrity:N,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Zt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=y(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Zt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,_=y(v,d.crossOrigin);r.d.L(h,v,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Zt.preloadModule=function(h,d){if(typeof h=="string")if(d){var v=y(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Zt.requestFormReset=function(h){r.d.r(h)},Zt.unstable_batchedUpdates=function(h,d){return h(d)},Zt.useFormState=function(h,d,v){return b.H.useFormState(h,d,v)},Zt.useFormStatus=function(){return b.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var Rd;function _h(){if(Rd)return xs.exports;Rd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),xs.exports=yh(),xs.exports}var kd;function Sh(){if(kd)return Fi;kd=1;var c=ph(),i=Is(),a=_h();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function b(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(r(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var x=u.alternate;if(x===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===x.child){for(x=u.child;x;){if(x===n)return h(u),e;if(x===l)return h(u),t;x=x.sibling}throw Error(r(188))}if(n.return!==l.return)n=u,l=x;else{for(var S=!1,A=u.child;A;){if(A===n){S=!0,n=u,l=x;break}if(A===l){S=!0,l=u,n=x;break}A=A.sibling}if(!S){for(A=x.child;A;){if(A===n){S=!0,n=x,l=u;break}if(A===l){S=!0,l=x,n=u;break}A=A.sibling}if(!S)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,N=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),G=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function w(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function L(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case E:return"Profiler";case p:return"StrictMode";case I:return"Suspense";case K:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case G:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return t=e.displayName||null,t!==null?t:L(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return L(e(t))}catch{}}return null}var M=Array.isArray,z=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},X=[],O=-1;function D(e){return{current:e}}function B(e){0>O||(e.current=X[O],X[O]=null,O--)}function Y(e,t){O++,X[O]=e.current,e.current=t}var Z=D(null),le=D(null),ce=D(null),fe=D(null);function oe(e,t){switch(Y(ce,t),Y(le,e),Y(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$f(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$f(t),e=ed(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(Z),Y(Z,e)}function ge(){B(Z),B(le),B(ce)}function we(e){e.memoizedState!==null&&Y(fe,e);var t=Z.current,n=ed(t,e.type);t!==n&&(Y(le,e),Y(Z,n))}function he(e){le.current===e&&(B(Z),B(le)),fe.current===e&&(B(fe),Ji._currentValue=q)}var ze,We;function tt(e){if(ze===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ze=t&&t[1]||"",We=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+e+We}var lt=!1;function mt(e,t){if(!e||lt)return"";lt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var ne=ae}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ae){ne=ae}e.call(ue.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),S=x[0],A=x[1];if(S&&A){var U=S.split(`
`),te=A.split(`
`);for(u=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;u<te.length&&!te[u].includes("DetermineComponentFrameRoot");)u++;if(l===U.length||u===te.length)for(l=U.length-1,u=te.length-1;1<=l&&0<=u&&U[l]!==te[u];)u--;for(;1<=l&&0<=u;l--,u--)if(U[l]!==te[u]){if(l!==1||u!==1)do if(l--,u--,0>u||U[l]!==te[u]){var ie=`
`+U[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=u);break}}}finally{lt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?tt(n):""}function St(e,t){switch(e.tag){case 26:case 27:case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return e.child!==t&&t!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return mt(e.type,!1);case 11:return mt(e.type.render,!1);case 1:return mt(e.type,!0);case 31:return tt("Activity");default:return""}}function Tt(e){try{var t="",n=null;do t+=St(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Ut=c.unstable_scheduleCallback,an=c.unstable_cancelCallback,Xn=c.unstable_shouldYield,Jn=c.unstable_requestPaint,Qe=c.unstable_now,vn=c.unstable_getCurrentPriorityLevel,Sl=c.unstable_ImmediatePriority,nl=c.unstable_UserBlockingPriority,ll=c.unstable_NormalPriority,Cl=c.unstable_LowPriority,Wl=c.unstable_IdlePriority,Vn=c.log,ci=c.unstable_setDisableYieldValue,Rn=null,Gt=null;function pn(e){if(typeof Vn=="function"&&ci(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Rn,e)}catch{}}var ke=Math.clz32?Math.clz32:Be,xe=Math.log,Ee=Math.LN2;function Be(e){return e>>>=0,e===0?32:31-(xe(e)/Ee|0)|0}var ye=256,pe=262144,Ne=4194304;function Me(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,x=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~x,l!==0?u=Me(l):(S&=A,S!==0?u=Me(S):n||(n=A&~e,n!==0&&(u=Me(n))))):(A=l&~x,A!==0?u=Me(A):S!==0?u=Me(S):n||(n=l&~e,n!==0&&(u=Me(n)))),u===0?0:t!==0&&t!==u&&(t&x)===0&&(x=u&-u,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:u}function Pe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ze(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function Xe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qt(e,t,n,l,u,x){var S=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var A=e.entanglements,U=e.expirationTimes,te=e.hiddenUpdates;for(n=S&~n;0<n;){var ie=31-ke(n),ue=1<<ie;A[ie]=0,U[ie]=-1;var ne=te[ie];if(ne!==null)for(te[ie]=null,ie=0;ie<ne.length;ie++){var ae=ne[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ue}l!==0&&$e(e,l,0),x!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=x&~(S&~t))}function $e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ke(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-ke(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function rt(e,t){var n=t&-t;return n=(n&42)!==0?1:nt(n),(n&(e.suspendedLanes|t))!==0?0:n}function nt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ht(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function kn(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:Cd(e.type))}function Ql(e,t){var n=T.p;try{return T.p=e,t()}finally{T.p=n}}var Ge=Math.random().toString(36).slice(2),gt="__reactFiber$"+Ge,Kt="__reactProps$"+Ge,Jt="__reactContainer$"+Ge,ui="__reactEvents$"+Ge,Q0="__reactListeners$"+Ge,P0="__reactHandles$"+Ge,sr="__reactResources$"+Ge,Pl="__reactMarker$"+Ge;function si(e){delete e[gt],delete e[Kt],delete e[ui],delete e[Q0],delete e[P0]}function de(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cd(e);e!==null;){if(n=e[gt])return n;e=cd(e)}return t}e=n,n=e.parentNode}return null}function ve(e){if(e=e[gt]||e[Jt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ie(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Nt(e){var t=e[sr];return t||(t=e[sr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Oe(e){e[Pl]=!0}var Wn=new Set,xr={};function Fl(e,t){_a(e,t),_a(e+"Capture",t)}function _a(e,t){for(xr[e]=t,e=0;e<t.length;e++)Wn.add(t[e])}var r1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hs={},Ys={};function c1(e){return bt.call(Ys,e)?!0:bt.call(Hs,e)?!1:r1.test(e)?Ys[e]=!0:(Hs[e]=!0,!1)}function or(e,t,n){if(c1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function fr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function al(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Us(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(S){n=""+S,x.call(this,S)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(S){n=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function F0(e){if(!e._valueTracker){var t=Us(e)?"checked":"value";e._valueTracker=u1(e,t,""+e[t])}}function Ks(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Us(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function dr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var s1=/[\n"\\]/g;function _n(e){return e.replace(s1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $0(e,t,n,l,u,x,S,A){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yn(t)):e.value!==""+yn(t)&&(e.value=""+yn(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?ec(e,S,yn(t)):n!=null?ec(e,S,yn(n)):l!=null&&e.removeAttribute("value"),u==null&&x!=null&&(e.defaultChecked=!!x),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+yn(A):e.removeAttribute("name")}function Zs(e,t,n,l,u,x,S,A){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){F0(e);return}n=n!=null?""+yn(n):"",t=t!=null?""+yn(t):n,A||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),F0(e)}function ec(e,t,n){t==="number"&&dr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Sa(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+yn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Xs(e,t,n){if(t!=null&&(t=""+yn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+yn(n):""}function Js(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(M(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=yn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),F0(e)}function Ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var x1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vs(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||x1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ws(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Vs(e,u,l)}else for(var x in t)t.hasOwnProperty(x)&&Vs(e,x,t[x])}function tc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(e){return f1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function il(){}var nc=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wa=null,ja=null;function Qs(e){var t=ve(e);if(t&&(e=t.stateNode)){var n=e[Kt]||null;e:switch(e=t.stateNode,t.type){case"input":if($0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Kt]||null;if(!u)throw Error(r(90));$0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Ks(l)}break e;case"textarea":Xs(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Sa(e,!!n.multiple,t,!1)}}}var ac=!1;function Ps(e,t,n){if(ac)return e(t,n);ac=!0;try{var l=e(t);return l}finally{if(ac=!1,(wa!==null||ja!==null)&&(t0(),wa&&(t=wa,e=ja,ja=wa=null,Qs(t),e)))for(t=0;t<e.length;t++)Qs(e[t])}}function xi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Kt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var rl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(rl)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){ic=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{ic=!1}var wl=null,rc=null,mr=null;function Fs(){if(mr)return mr;var e,t=rc,n=t.length,l,u="value"in wl?wl.value:wl.textContent,x=u.length;for(e=0;e<n&&t[e]===u[e];e++);var S=n-e;for(l=1;l<=S&&t[n-l]===u[x-l];l++);return mr=u.slice(e,1<l?1-l:void 0)}function br(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gr(){return!0}function $s(){return!1}function Pt(e){function t(n,l,u,x,S){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(n=e[A],this[A]=n?n(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?gr:$s,this.isPropagationStopped=$s,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),t}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=Pt($l),fi=_({},$l,{view:0,detail:0}),d1=Pt(fi),cc,uc,di,pr=_({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(cc=e.screenX-di.screenX,uc=e.screenY-di.screenY):uc=cc=0,di=e),cc)},movementY:function(e){return"movementY"in e?e.movementY:uc}}),ex=Pt(pr),h1=_({},pr,{dataTransfer:0}),m1=Pt(h1),b1=_({},fi,{relatedTarget:0}),sc=Pt(b1),g1=_({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),v1=Pt(g1),p1=_({},$l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y1=Pt(p1),_1=_({},$l,{data:0}),tx=Pt(_1),S1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w1[e])?!!t[e]:!1}function xc(){return j1}var M1=_({},fi,{key:function(e){if(e.key){var t=S1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z1=Pt(M1),D1=_({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nx=Pt(D1),N1=_({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),A1=Pt(N1),L1=_({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),T1=Pt(L1),E1=_({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B1=Pt(E1),G1=_({},$l,{newState:0,oldState:0}),q1=Pt(G1),R1=[9,13,27,32],oc=rl&&"CompositionEvent"in window,hi=null;rl&&"documentMode"in document&&(hi=document.documentMode);var k1=rl&&"TextEvent"in window&&!hi,lx=rl&&(!oc||hi&&8<hi&&11>=hi),ax=" ",ix=!1;function rx(e,t){switch(e){case"keyup":return R1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ma=!1;function I1(e,t){switch(e){case"compositionend":return cx(t);case"keypress":return t.which!==32?null:(ix=!0,ax);case"textInput":return e=t.data,e===ax&&ix?null:e;default:return null}}function O1(e,t){if(Ma)return e==="compositionend"||!oc&&rx(e,t)?(e=Fs(),mr=rc=wl=null,Ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lx&&t.locale!=="ko"?null:t.data;default:return null}}var H1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ux(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H1[e.type]:t==="textarea"}function sx(e,t,n,l){wa?ja?ja.push(l):ja=[l]:wa=l,t=u0(t,"onChange"),0<t.length&&(n=new vr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var mi=null,bi=null;function Y1(e){Jf(e,0)}function yr(e){var t=Ie(e);if(Ks(t))return e}function xx(e,t){if(e==="change")return t}var ox=!1;if(rl){var fc;if(rl){var dc="oninput"in document;if(!dc){var fx=document.createElement("div");fx.setAttribute("oninput","return;"),dc=typeof fx.oninput=="function"}fc=dc}else fc=!1;ox=fc&&(!document.documentMode||9<document.documentMode)}function dx(){mi&&(mi.detachEvent("onpropertychange",hx),bi=mi=null)}function hx(e){if(e.propertyName==="value"&&yr(bi)){var t=[];sx(t,bi,e,lc(e)),Ps(Y1,t)}}function U1(e,t,n){e==="focusin"?(dx(),mi=t,bi=n,mi.attachEvent("onpropertychange",hx)):e==="focusout"&&dx()}function K1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yr(bi)}function Z1(e,t){if(e==="click")return yr(t)}function X1(e,t){if(e==="input"||e==="change")return yr(t)}function J1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:J1;function gi(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!bt.call(t,u)||!rn(e[u],t[u]))return!1}return!0}function mx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bx(e,t){var n=mx(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mx(n)}}function gx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=dr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dr(e.document)}return t}function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var V1=rl&&"documentMode"in document&&11>=document.documentMode,za=null,mc=null,vi=null,bc=!1;function px(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bc||za==null||za!==dr(l)||(l=za,"selectionStart"in l&&hc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vi&&gi(vi,l)||(vi=l,l=u0(mc,"onSelect"),0<l.length&&(t=new vr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=za)))}function ea(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Da={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},gc={},yx={};rl&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function ta(e){if(gc[e])return gc[e];if(!Da[e])return e;var t=Da[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yx)return gc[e]=t[n];return e}var _x=ta("animationend"),Sx=ta("animationiteration"),Cx=ta("animationstart"),W1=ta("transitionrun"),Q1=ta("transitionstart"),P1=ta("transitioncancel"),wx=ta("transitionend"),jx=new Map,vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vc.push("scrollEnd");function In(e,t){jx.set(e,t),Fl(t,[e])}var _r=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],Na=0,pc=0;function Sr(){for(var e=Na,t=pc=Na=0;t<e;){var n=Sn[t];Sn[t++]=null;var l=Sn[t];Sn[t++]=null;var u=Sn[t];Sn[t++]=null;var x=Sn[t];if(Sn[t++]=null,l!==null&&u!==null){var S=l.pending;S===null?u.next=u:(u.next=S.next,S.next=u),l.pending=u}x!==0&&Mx(n,u,x)}}function Cr(e,t,n,l){Sn[Na++]=e,Sn[Na++]=t,Sn[Na++]=n,Sn[Na++]=l,pc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yc(e,t,n,l){return Cr(e,t,n,l),wr(e)}function na(e,t){return Cr(e,null,null,t),wr(e)}function Mx(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(u=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,u&&t!==null&&(u=31-ke(n),e=x.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),x):null}function wr(e){if(50<Oi)throw Oi=0,Nu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Aa={};function F1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,l){return new F1(e,t,n,l)}function _c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cl(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jr(e,t,n,l,u,x){var S=0;if(l=e,typeof e=="function")_c(e)&&(S=1);else if(typeof e=="string")S=lh(e,n,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=cn(31,n,t,u),e.elementType=P,e.lanes=x,e;case g:return la(n.children,u,x,t);case p:S=8,u|=24;break;case E:return e=cn(12,n,t,u|2),e.elementType=E,e.lanes=x,e;case I:return e=cn(13,n,t,u),e.elementType=I,e.lanes=x,e;case K:return e=cn(19,n,t,u),e.elementType=K,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:S=10;break e;case k:S=9;break e;case H:S=11;break e;case R:S=14;break e;case V:S=16,l=null;break e}S=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=cn(S,n,t,u),t.elementType=e,t.type=l,t.lanes=x,t}function la(e,t,n,l){return e=cn(7,e,l,t),e.lanes=n,e}function Sc(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function Dx(e){var t=cn(18,null,null,0);return t.stateNode=e,t}function Cc(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Nx=new WeakMap;function Cn(e,t){if(typeof e=="object"&&e!==null){var n=Nx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Tt(t)},Nx.set(e,t),t)}return{value:e,source:t,stack:Tt(t)}}var La=[],Ta=0,Mr=null,pi=0,wn=[],jn=0,jl=null,Qn=1,Pn="";function ul(e,t){La[Ta++]=pi,La[Ta++]=Mr,Mr=e,pi=t}function Ax(e,t,n){wn[jn++]=Qn,wn[jn++]=Pn,wn[jn++]=jl,jl=e;var l=Qn;e=Pn;var u=32-ke(l)-1;l&=~(1<<u),n+=1;var x=32-ke(t)+u;if(30<x){var S=u-u%5;x=(l&(1<<S)-1).toString(32),l>>=S,u-=S,Qn=1<<32-ke(t)+u|n<<u|l,Pn=x+e}else Qn=1<<x|n<<u|l,Pn=e}function wc(e){e.return!==null&&(ul(e,1),Ax(e,1,0))}function jc(e){for(;e===Mr;)Mr=La[--Ta],La[Ta]=null,pi=La[--Ta],La[Ta]=null;for(;e===jl;)jl=wn[--jn],wn[jn]=null,Pn=wn[--jn],wn[jn]=null,Qn=wn[--jn],wn[jn]=null}function Lx(e,t){wn[jn++]=Qn,wn[jn++]=Pn,wn[jn++]=jl,Qn=t.id,Pn=t.overflow,jl=e}var Rt=null,ot=null,Ue=!1,Ml=null,Mn=!1,Mc=Error(r(519));function zl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yi(Cn(t,e)),Mc}function Tx(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[gt]=e,t[Kt]=l,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<Yi.length;n++)Re(Yi[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Zs(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Js(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Pf(t.textContent,n)?(l.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),l.onScroll!=null&&Re("scroll",t),l.onScrollEnd!=null&&Re("scrollend",t),l.onClick!=null&&(t.onclick=il),t=!0):t=!1,t||zl(e,!0)}function Ex(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Rt=Rt.return}}function Ea(e){if(e!==Rt)return!1;if(!Ue)return Ex(e),Ue=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ku(e.type,e.memoizedProps)),n=!n),n&&ot&&zl(e),Ex(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ot=rd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ot=rd(e)}else t===27?(t=ot,Hl(e.type)?(e=Wu,Wu=null,ot=e):ot=t):ot=Rt?Dn(e.stateNode.nextSibling):null;return!0}function aa(){ot=Rt=null,Ue=!1}function zc(){var e=Ml;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),Ml=null),e}function yi(e){Ml===null?Ml=[e]:Ml.push(e)}var Dc=D(null),ia=null,sl=null;function Dl(e,t,n){Y(Dc,t._currentValue),t._currentValue=n}function xl(e){e._currentValue=Dc.current,B(Dc)}function Nc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Ac(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var x=u.dependencies;if(x!==null){var S=u.child;x=x.firstContext;e:for(;x!==null;){var A=x;x=u;for(var U=0;U<t.length;U++)if(A.context===t[U]){x.lanes|=n,A=x.alternate,A!==null&&(A.lanes|=n),Nc(x.return,n,e),l||(S=null);break e}x=A.next}}else if(u.tag===18){if(S=u.return,S===null)throw Error(r(341));S.lanes|=n,x=S.alternate,x!==null&&(x.lanes|=n),Nc(S,n,e),S=null}else S=u.child;if(S!==null)S.return=u;else for(S=u;S!==null;){if(S===e){S=null;break}if(u=S.sibling,u!==null){u.return=S.return,S=u;break}S=S.return}u=S}}function Ba(e,t,n,l){e=null;for(var u=t,x=!1;u!==null;){if(!x){if((u.flags&524288)!==0)x=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var S=u.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var A=u.type;rn(u.pendingProps.value,S.value)||(e!==null?e.push(A):e=[A])}}else if(u===fe.current){if(S=u.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ji):e=[Ji])}u=u.return}e!==null&&Ac(t,e,n,l),t.flags|=262144}function zr(e){for(e=e.firstContext;e!==null;){if(!rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ra(e){ia=e,sl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return Bx(ia,e)}function Dr(e,t){return ia===null&&ra(e),Bx(e,t)}function Bx(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},sl===null){if(e===null)throw Error(r(308));sl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sl=sl.next=t;return n}var $1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},e2=c.unstable_scheduleCallback,t2=c.unstable_NormalPriority,Ct={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new $1,data:new Map,refCount:0}}function _i(e){e.refCount--,e.refCount===0&&e2(t2,function(){e.controller.abort()})}var Si=null,Tc=0,Ga=0,qa=null;function n2(e,t){if(Si===null){var n=Si=[];Tc=0,Ga=Gu(),qa={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Tc++,t.then(Gx,Gx),t}function Gx(){if(--Tc===0&&Si!==null){qa!==null&&(qa.status="fulfilled");var e=Si;Si=null,Ga=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function l2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var qx=z.S;z.S=function(e,t){_f=Qe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&n2(e,t),qx!==null&&qx(e,t)};var ca=D(null);function Ec(){var e=ca.current;return e!==null?e:xt.pooledCache}function Nr(e,t){t===null?Y(ca,ca.current):Y(ca,t.pool)}function Rx(){var e=Ec();return e===null?null:{parent:Ct._currentValue,pool:e}}var Ra=Error(r(460)),Bc=Error(r(474)),Ar=Error(r(542)),Lr={then:function(){}};function kx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ix(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(il,il),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hx(e),e;default:if(typeof t.status=="string")t.then(il,il);else{if(e=xt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hx(e),e}throw sa=t,Ra}}function ua(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(sa=n,Ra):n}}var sa=null;function Ox(){if(sa===null)throw Error(r(459));var e=sa;return sa=null,e}function Hx(e){if(e===Ra||e===Ar)throw Error(r(483))}var ka=null,Ci=0;function Tr(e){var t=Ci;return Ci+=1,ka===null&&(ka=[]),Ix(ka,e,t)}function wi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Er(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yx(e){function t(F,J){if(e){var ee=F.deletions;ee===null?(F.deletions=[J],F.flags|=16):ee.push(J)}}function n(F,J){if(!e)return null;for(;J!==null;)t(F,J),J=J.sibling;return null}function l(F){for(var J=new Map;F!==null;)F.key!==null?J.set(F.key,F):J.set(F.index,F),F=F.sibling;return J}function u(F,J){return F=cl(F,J),F.index=0,F.sibling=null,F}function x(F,J,ee){return F.index=ee,e?(ee=F.alternate,ee!==null?(ee=ee.index,ee<J?(F.flags|=67108866,J):ee):(F.flags|=67108866,J)):(F.flags|=1048576,J)}function S(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function A(F,J,ee,re){return J===null||J.tag!==6?(J=Sc(ee,F.mode,re),J.return=F,J):(J=u(J,ee),J.return=F,J)}function U(F,J,ee,re){var Se=ee.type;return Se===g?ie(F,J,ee.props.children,re,ee.key):J!==null&&(J.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===V&&ua(Se)===J.type)?(J=u(J,ee.props),wi(J,ee),J.return=F,J):(J=jr(ee.type,ee.key,ee.props,null,F.mode,re),wi(J,ee),J.return=F,J)}function te(F,J,ee,re){return J===null||J.tag!==4||J.stateNode.containerInfo!==ee.containerInfo||J.stateNode.implementation!==ee.implementation?(J=Cc(ee,F.mode,re),J.return=F,J):(J=u(J,ee.children||[]),J.return=F,J)}function ie(F,J,ee,re,Se){return J===null||J.tag!==7?(J=la(ee,F.mode,re,Se),J.return=F,J):(J=u(J,ee),J.return=F,J)}function ue(F,J,ee){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Sc(""+J,F.mode,ee),J.return=F,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case m:return ee=jr(J.type,J.key,J.props,null,F.mode,ee),wi(ee,J),ee.return=F,ee;case j:return J=Cc(J,F.mode,ee),J.return=F,J;case V:return J=ua(J),ue(F,J,ee)}if(M(J)||w(J))return J=la(J,F.mode,ee,null),J.return=F,J;if(typeof J.then=="function")return ue(F,Tr(J),ee);if(J.$$typeof===G)return ue(F,Dr(F,J),ee);Er(F,J)}return null}function ne(F,J,ee,re){var Se=J!==null?J.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Se!==null?null:A(F,J,""+ee,re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case m:return ee.key===Se?U(F,J,ee,re):null;case j:return ee.key===Se?te(F,J,ee,re):null;case V:return ee=ua(ee),ne(F,J,ee,re)}if(M(ee)||w(ee))return Se!==null?null:ie(F,J,ee,re,null);if(typeof ee.then=="function")return ne(F,J,Tr(ee),re);if(ee.$$typeof===G)return ne(F,J,Dr(F,ee),re);Er(F,ee)}return null}function ae(F,J,ee,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(ee)||null,A(J,F,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case m:return F=F.get(re.key===null?ee:re.key)||null,U(J,F,re,Se);case j:return F=F.get(re.key===null?ee:re.key)||null,te(J,F,re,Se);case V:return re=ua(re),ae(F,J,ee,re,Se)}if(M(re)||w(re))return F=F.get(ee)||null,ie(J,F,re,Se,null);if(typeof re.then=="function")return ae(F,J,ee,Tr(re),Se);if(re.$$typeof===G)return ae(F,J,ee,Dr(J,re),Se);Er(J,re)}return null}function me(F,J,ee,re){for(var Se=null,Je=null,be=J,Te=J=0,Ye=null;be!==null&&Te<ee.length;Te++){be.index>Te?(Ye=be,be=null):Ye=be.sibling;var Ve=ne(F,be,ee[Te],re);if(Ve===null){be===null&&(be=Ye);break}e&&be&&Ve.alternate===null&&t(F,be),J=x(Ve,J,Te),Je===null?Se=Ve:Je.sibling=Ve,Je=Ve,be=Ye}if(Te===ee.length)return n(F,be),Ue&&ul(F,Te),Se;if(be===null){for(;Te<ee.length;Te++)be=ue(F,ee[Te],re),be!==null&&(J=x(be,J,Te),Je===null?Se=be:Je.sibling=be,Je=be);return Ue&&ul(F,Te),Se}for(be=l(be);Te<ee.length;Te++)Ye=ae(be,F,Te,ee[Te],re),Ye!==null&&(e&&Ye.alternate!==null&&be.delete(Ye.key===null?Te:Ye.key),J=x(Ye,J,Te),Je===null?Se=Ye:Je.sibling=Ye,Je=Ye);return e&&be.forEach(function(Xl){return t(F,Xl)}),Ue&&ul(F,Te),Se}function je(F,J,ee,re){if(ee==null)throw Error(r(151));for(var Se=null,Je=null,be=J,Te=J=0,Ye=null,Ve=ee.next();be!==null&&!Ve.done;Te++,Ve=ee.next()){be.index>Te?(Ye=be,be=null):Ye=be.sibling;var Xl=ne(F,be,Ve.value,re);if(Xl===null){be===null&&(be=Ye);break}e&&be&&Xl.alternate===null&&t(F,be),J=x(Xl,J,Te),Je===null?Se=Xl:Je.sibling=Xl,Je=Xl,be=Ye}if(Ve.done)return n(F,be),Ue&&ul(F,Te),Se;if(be===null){for(;!Ve.done;Te++,Ve=ee.next())Ve=ue(F,Ve.value,re),Ve!==null&&(J=x(Ve,J,Te),Je===null?Se=Ve:Je.sibling=Ve,Je=Ve);return Ue&&ul(F,Te),Se}for(be=l(be);!Ve.done;Te++,Ve=ee.next())Ve=ae(be,F,Te,Ve.value,re),Ve!==null&&(e&&Ve.alternate!==null&&be.delete(Ve.key===null?Te:Ve.key),J=x(Ve,J,Te),Je===null?Se=Ve:Je.sibling=Ve,Je=Ve);return e&&be.forEach(function(hh){return t(F,hh)}),Ue&&ul(F,Te),Se}function st(F,J,ee,re){if(typeof ee=="object"&&ee!==null&&ee.type===g&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case m:e:{for(var Se=ee.key;J!==null;){if(J.key===Se){if(Se=ee.type,Se===g){if(J.tag===7){n(F,J.sibling),re=u(J,ee.props.children),re.return=F,F=re;break e}}else if(J.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===V&&ua(Se)===J.type){n(F,J.sibling),re=u(J,ee.props),wi(re,ee),re.return=F,F=re;break e}n(F,J);break}else t(F,J);J=J.sibling}ee.type===g?(re=la(ee.props.children,F.mode,re,ee.key),re.return=F,F=re):(re=jr(ee.type,ee.key,ee.props,null,F.mode,re),wi(re,ee),re.return=F,F=re)}return S(F);case j:e:{for(Se=ee.key;J!==null;){if(J.key===Se)if(J.tag===4&&J.stateNode.containerInfo===ee.containerInfo&&J.stateNode.implementation===ee.implementation){n(F,J.sibling),re=u(J,ee.children||[]),re.return=F,F=re;break e}else{n(F,J);break}else t(F,J);J=J.sibling}re=Cc(ee,F.mode,re),re.return=F,F=re}return S(F);case V:return ee=ua(ee),st(F,J,ee,re)}if(M(ee))return me(F,J,ee,re);if(w(ee)){if(Se=w(ee),typeof Se!="function")throw Error(r(150));return ee=Se.call(ee),je(F,J,ee,re)}if(typeof ee.then=="function")return st(F,J,Tr(ee),re);if(ee.$$typeof===G)return st(F,J,Dr(F,ee),re);Er(F,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,J!==null&&J.tag===6?(n(F,J.sibling),re=u(J,ee),re.return=F,F=re):(n(F,J),re=Sc(ee,F.mode,re),re.return=F,F=re),S(F)):n(F,J)}return function(F,J,ee,re){try{Ci=0;var Se=st(F,J,ee,re);return ka=null,Se}catch(be){if(be===Ra||be===Ar)throw be;var Je=cn(29,be,null,F.mode);return Je.lanes=re,Je.return=F,Je}}}var xa=Yx(!0),Ux=Yx(!1),Nl=!1;function Gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Al(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ll(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=wr(e),Mx(e,null,n),t}return Cr(e,l,t,n),wr(e)}function ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Dt(e,n)}}function Rc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var S={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?u=x=S:x=x.next=S,n=n.next}while(n!==null);x===null?u=x=t:x=x.next=t}else u=x=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var kc=!1;function Mi(){if(kc){var e=qa;if(e!==null)throw e}}function zi(e,t,n,l){kc=!1;var u=e.updateQueue;Nl=!1;var x=u.firstBaseUpdate,S=u.lastBaseUpdate,A=u.shared.pending;if(A!==null){u.shared.pending=null;var U=A,te=U.next;U.next=null,S===null?x=te:S.next=te,S=U;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==S&&(A===null?ie.firstBaseUpdate=te:A.next=te,ie.lastBaseUpdate=U))}if(x!==null){var ue=u.baseState;S=0,ie=te=U=null,A=x;do{var ne=A.lane&-536870913,ae=ne!==A.lane;if(ae?(He&ne)===ne:(l&ne)===ne){ne!==0&&ne===Ga&&(kc=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var me=e,je=A;ne=t;var st=n;switch(je.tag){case 1:if(me=je.payload,typeof me=="function"){ue=me.call(st,ue,ne);break e}ue=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=je.payload,ne=typeof me=="function"?me.call(st,ue,ne):me,ne==null)break e;ue=_({},ue,ne);break e;case 2:Nl=!0}}ne=A.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=u.callbacks,ae===null?u.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(te=ie=ae,U=ue):ie=ie.next=ae,S|=ne;if(A=A.next,A===null){if(A=u.shared.pending,A===null)break;ae=A,A=ae.next,ae.next=null,u.lastBaseUpdate=ae,u.shared.pending=null}}while(!0);ie===null&&(U=ue),u.baseState=U,u.firstBaseUpdate=te,u.lastBaseUpdate=ie,x===null&&(u.shared.lanes=0),ql|=S,e.lanes=S,e.memoizedState=ue}}function Kx(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Zx(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Kx(n[e],t)}var Ia=D(null),Br=D(0);function Xx(e,t){e=pl,Y(Br,e),Y(Ia,t),pl=e|t.baseLanes}function Ic(){Y(Br,pl),Y(Ia,Ia.current)}function Oc(){pl=Br.current,B(Ia),B(Br)}var un=D(null),zn=null;function Tl(e){var t=e.alternate;Y(yt,yt.current&1),Y(un,e),zn===null&&(t===null||Ia.current!==null||t.memoizedState!==null)&&(zn=e)}function Hc(e){Y(yt,yt.current),Y(un,e),zn===null&&(zn=e)}function Jx(e){e.tag===22?(Y(yt,yt.current),Y(un,e),zn===null&&(zn=e)):El()}function El(){Y(yt,yt.current),Y(un,un.current)}function sn(e){B(un),zn===e&&(zn=null),B(yt)}var yt=D(0);function Gr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ju(n)||Vu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ol=0,Le=null,ct=null,wt=null,qr=!1,Oa=!1,oa=!1,Rr=0,Di=0,Ha=null,a2=0;function vt(){throw Error(r(321))}function Yc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rn(e[n],t[n]))return!1;return!0}function Uc(e,t,n,l,u,x){return ol=x,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Lo:au,oa=!1,x=n(l,u),oa=!1,Oa&&(x=Wx(t,n,l,u)),Vx(e),x}function Vx(e){z.H=Li;var t=ct!==null&&ct.next!==null;if(ol=0,wt=ct=Le=null,qr=!1,Di=0,Ha=null,t)throw Error(r(300));e===null||jt||(e=e.dependencies,e!==null&&zr(e)&&(jt=!0))}function Wx(e,t,n,l){Le=e;var u=0;do{if(Oa&&(Ha=null),Di=0,Oa=!1,25<=u)throw Error(r(301));if(u+=1,wt=ct=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}z.H=To,x=t(n,l)}while(Oa);return x}function i2(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Ni(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Le.flags|=1024),t}function Kc(){var e=Rr!==0;return Rr=0,e}function Zc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Xc(e){if(qr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qr=!1}ol=0,wt=ct=Le=null,Oa=!1,Di=Rr=0,Ha=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Le.memoizedState=wt=e:wt=wt.next=e,wt}function _t(){if(ct===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=wt===null?Le.memoizedState:wt.next;if(t!==null)wt=t,ct=e;else{if(e===null)throw Le.alternate===null?Error(r(467)):Error(r(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},wt===null?Le.memoizedState=wt=e:wt=wt.next=e}return wt}function kr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ni(e){var t=Di;return Di+=1,Ha===null&&(Ha=[]),e=Ix(Ha,e,t),t=Le,(wt===null?t.memoizedState:wt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Lo:au),e}function Ir(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ni(e);if(e.$$typeof===G)return kt(e)}throw Error(r(438,String(e)))}function Jc(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=kr(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Q;return t.index++,n}function fl(e,t){return typeof t=="function"?t(e):t}function Or(e){var t=_t();return Vc(t,ct,e)}function Vc(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=e.baseQueue,x=l.pending;if(x!==null){if(u!==null){var S=u.next;u.next=x.next,x.next=S}t.baseQueue=u=x,l.pending=null}if(x=e.baseState,u===null)e.memoizedState=x;else{t=u.next;var A=S=null,U=null,te=t,ie=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(He&ue)===ue:(ol&ue)===ue){var ne=te.revertLane;if(ne===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===Ga&&(ie=!0);else if((ol&ne)===ne){te=te.next,ne===Ga&&(ie=!0);continue}else ue={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(A=U=ue,S=x):U=U.next=ue,Le.lanes|=ne,ql|=ne;ue=te.action,oa&&n(x,ue),x=te.hasEagerState?te.eagerState:n(x,ue)}else ne={lane:ue,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(A=U=ne,S=x):U=U.next=ne,Le.lanes|=ue,ql|=ue;te=te.next}while(te!==null&&te!==t);if(U===null?S=x:U.next=A,!rn(x,e.memoizedState)&&(jt=!0,ie&&(n=qa,n!==null)))throw n;e.memoizedState=x,e.baseState=S,e.baseQueue=U,l.lastRenderedState=x}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Wc(e){var t=_t(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,x=t.memoizedState;if(u!==null){n.pending=null;var S=u=u.next;do x=e(x,S.action),S=S.next;while(S!==u);rn(x,t.memoizedState)||(jt=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Qx(e,t,n){var l=Le,u=_t(),x=Ue;if(x){if(n===void 0)throw Error(r(407));n=n()}else n=t();var S=!rn((ct||u).memoizedState,n);if(S&&(u.memoizedState=n,jt=!0),u=u.queue,Fc($x.bind(null,l,u,e),[e]),u.getSnapshot!==t||S||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},Fx.bind(null,l,u,n,t),null),xt===null)throw Error(r(349));x||(ol&127)!==0||Px(l,t,n)}return n}function Px(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=kr(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fx(e,t,n,l){t.value=n,t.getSnapshot=l,eo(t)&&to(e)}function $x(e,t,n){return n(function(){eo(t)&&to(e)})}function eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rn(e,n)}catch{return!0}}function to(e){var t=na(e,2);t!==null&&nn(t,e,2)}function Qc(e){var t=Vt();if(typeof e=="function"){var n=e;if(e=n(),oa){pn(!0);try{n()}finally{pn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:e},t}function no(e,t,n,l){return e.baseState=n,Vc(e,ct,typeof l=="function"?l:fl)}function r2(e,t,n,l,u){if(Ur(e))throw Error(r(485));if(e=t.action,e!==null){var x={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){x.listeners.push(S)}};z.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,lo(t,x)):(x.next=n.next,t.pending=n.next=x)}}function lo(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var x=z.T,S={};z.T=S;try{var A=n(u,l),U=z.S;U!==null&&U(S,A),ao(e,t,A)}catch(te){Pc(e,t,te)}finally{x!==null&&S.types!==null&&(x.types=S.types),z.T=x}}else try{x=n(u,l),ao(e,t,x)}catch(te){Pc(e,t,te)}}function ao(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){io(e,t,l)},function(l){return Pc(e,t,l)}):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,ro(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,lo(e,n)))}function Pc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ro(t),t=t.next;while(t!==l)}e.action=null}function ro(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function co(e,t){return t}function uo(e,t){if(Ue){var n=xt.formState;if(n!==null){e:{var l=Le;if(Ue){if(ot){t:{for(var u=ot,x=Mn;u.nodeType!==8;){if(!x){u=null;break t}if(u=Dn(u.nextSibling),u===null){u=null;break t}}x=u.data,u=x==="F!"||x==="F"?u:null}if(u){ot=Dn(u.nextSibling),l=u.data==="F!";break e}}zl(l)}l=!1}l&&(t=n[0])}}return n=Vt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},n.queue=l,n=Do.bind(null,Le,l),l.dispatch=n,l=Qc(!1),x=lu.bind(null,Le,!1,l.queue),l=Vt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=r2.bind(null,Le,u,x,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function so(e){var t=_t();return xo(t,ct,e)}function xo(e,t,n){if(t=Vc(e,t,co)[0],e=Or(fl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ni(t)}catch(S){throw S===Ra?Ar:S}else l=t;t=_t();var u=t.queue,x=u.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,Ya(9,{destroy:void 0},c2.bind(null,u,n),null)),[l,x,e]}function c2(e,t){e.action=t}function oo(e){var t=_t(),n=ct;if(n!==null)return xo(t,n,e);_t(),t=t.memoizedState,n=_t();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ya(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Le.updateQueue,t===null&&(t=kr(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function fo(){return _t().memoizedState}function Hr(e,t,n,l){var u=Vt();Le.flags|=e,u.memoizedState=Ya(1|t,{destroy:void 0},n,l===void 0?null:l)}function Yr(e,t,n,l){var u=_t();l=l===void 0?null:l;var x=u.memoizedState.inst;ct!==null&&l!==null&&Yc(l,ct.memoizedState.deps)?u.memoizedState=Ya(t,x,n,l):(Le.flags|=e,u.memoizedState=Ya(1|t,x,n,l))}function ho(e,t){Hr(8390656,8,e,t)}function Fc(e,t){Yr(2048,8,e,t)}function u2(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=kr(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function mo(e){var t=_t().memoizedState;return u2({ref:t,nextImpl:e}),function(){if((et&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function bo(e,t){return Yr(4,2,e,t)}function go(e,t){return Yr(4,4,e,t)}function vo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function po(e,t,n){n=n!=null?n.concat([e]):null,Yr(4,4,vo.bind(null,t,e),n)}function $c(){}function yo(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Yc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function _o(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Yc(t,l[1]))return l[0];if(l=e(),oa){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[l,t],l}function eu(e,t,n){return n===void 0||(ol&1073741824)!==0&&(He&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Cf(),Le.lanes|=e,ql|=e,n)}function So(e,t,n,l){return rn(n,t)?n:Ia.current!==null?(e=eu(e,n,l),rn(e,t)||(jt=!0),e):(ol&42)===0||(ol&1073741824)!==0&&(He&261930)===0?(jt=!0,e.memoizedState=n):(e=Cf(),Le.lanes|=e,ql|=e,t)}function Co(e,t,n,l,u){var x=T.p;T.p=x!==0&&8>x?x:8;var S=z.T,A={};z.T=A,lu(e,!1,t,n);try{var U=u(),te=z.S;if(te!==null&&te(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ie=l2(U,l);Ai(e,t,ie,fn(e))}else Ai(e,t,l,fn(e))}catch(ue){Ai(e,t,{then:function(){},status:"rejected",reason:ue},fn())}finally{T.p=x,S!==null&&A.types!==null&&(S.types=A.types),z.T=S}}function s2(){}function tu(e,t,n,l){if(e.tag!==5)throw Error(r(476));var u=wo(e).queue;Co(e,u,t,q,n===null?s2:function(){return jo(e),n(l)})}function wo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:q},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jo(e){var t=wo(e);t.next===null&&(t=e.alternate.memoizedState),Ai(e,t.next.queue,{},fn())}function nu(){return kt(Ji)}function Mo(){return _t().memoizedState}function zo(){return _t().memoizedState}function x2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=fn();e=Al(n);var l=Ll(t,e,n);l!==null&&(nn(l,t,n),ji(l,t,n)),t={cache:Lc()},e.payload=t;return}t=t.return}}function o2(e,t,n){var l=fn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ur(e)?No(t,n):(n=yc(e,t,n,l),n!==null&&(nn(n,e,l),Ao(n,t,l)))}function Do(e,t,n){var l=fn();Ai(e,t,n,l)}function Ai(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ur(e))No(t,u);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var S=t.lastRenderedState,A=x(S,n);if(u.hasEagerState=!0,u.eagerState=A,rn(A,S))return Cr(e,t,u,0),xt===null&&Sr(),!1}catch{}if(n=yc(e,t,u,l),n!==null)return nn(n,e,l),Ao(n,t,l),!0}return!1}function lu(e,t,n,l){if(l={lane:2,revertLane:Gu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ur(e)){if(t)throw Error(r(479))}else t=yc(e,n,l,2),t!==null&&nn(t,e,2)}function Ur(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function No(e,t){Oa=qr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ao(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Dt(e,n)}}var Li={readContext:kt,use:Ir,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Li.useEffectEvent=vt;var Lo={readContext:kt,use:Ir,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:ho,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Hr(4194308,4,vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hr(4194308,4,e,t)},useInsertionEffect:function(e,t){Hr(4,2,e,t)},useMemo:function(e,t){var n=Vt();t=t===void 0?null:t;var l=e();if(oa){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Vt();if(n!==void 0){var u=n(t);if(oa){pn(!0);try{n(t)}finally{pn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=o2.bind(null,Le,e),[l.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qc(e);var t=e.queue,n=Do.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$c,useDeferredValue:function(e,t){var n=Vt();return eu(n,e,t)},useTransition:function(){var e=Qc(!1);return e=Co.bind(null,Le,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Le,u=Vt();if(Ue){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),xt===null)throw Error(r(349));(He&127)!==0||Px(l,t,n)}u.memoizedState=n;var x={value:n,getSnapshot:t};return u.queue=x,ho($x.bind(null,l,x,e),[e]),l.flags|=2048,Ya(9,{destroy:void 0},Fx.bind(null,l,x,n,t),null),n},useId:function(){var e=Vt(),t=xt.identifierPrefix;if(Ue){var n=Pn,l=Qn;n=(l&~(1<<32-ke(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=a2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:nu,useFormState:uo,useActionState:uo,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=lu.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:Jc,useCacheRefresh:function(){return Vt().memoizedState=x2.bind(null,Le)},useEffectEvent:function(e){var t=Vt(),n={impl:e};return t.memoizedState=n,function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},au={readContext:kt,use:Ir,useCallback:yo,useContext:kt,useEffect:Fc,useImperativeHandle:po,useInsertionEffect:bo,useLayoutEffect:go,useMemo:_o,useReducer:Or,useRef:fo,useState:function(){return Or(fl)},useDebugValue:$c,useDeferredValue:function(e,t){var n=_t();return So(n,ct.memoizedState,e,t)},useTransition:function(){var e=Or(fl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Qx,useId:Mo,useHostTransitionStatus:nu,useFormState:so,useActionState:so,useOptimistic:function(e,t){var n=_t();return no(n,ct,e,t)},useMemoCache:Jc,useCacheRefresh:zo};au.useEffectEvent=mo;var To={readContext:kt,use:Ir,useCallback:yo,useContext:kt,useEffect:Fc,useImperativeHandle:po,useInsertionEffect:bo,useLayoutEffect:go,useMemo:_o,useReducer:Wc,useRef:fo,useState:function(){return Wc(fl)},useDebugValue:$c,useDeferredValue:function(e,t){var n=_t();return ct===null?eu(n,e,t):So(n,ct.memoizedState,e,t)},useTransition:function(){var e=Wc(fl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Qx,useId:Mo,useHostTransitionStatus:nu,useFormState:oo,useActionState:oo,useOptimistic:function(e,t){var n=_t();return ct!==null?no(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Jc,useCacheRefresh:zo};To.useEffectEvent=mo;function iu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ru={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=fn(),u=Al(l);u.payload=t,n!=null&&(u.callback=n),t=Ll(e,u,l),t!==null&&(nn(t,e,l),ji(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=fn(),u=Al(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Ll(e,u,l),t!==null&&(nn(t,e,l),ji(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fn(),l=Al(n);l.tag=2,t!=null&&(l.callback=t),t=Ll(e,l,n),t!==null&&(nn(t,e,n),ji(t,e,n))}};function Eo(e,t,n,l,u,x,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,S):t.prototype&&t.prototype.isPureReactComponent?!gi(n,l)||!gi(u,x):!0}function Bo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ru.enqueueReplaceState(t,t.state,null)}function fa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Go(e){_r(e)}function qo(e){console.error(e)}function Ro(e){_r(e)}function Kr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function ko(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function cu(e,t,n){return n=Al(n),n.tag=3,n.payload={element:null},n.callback=function(){Kr(e,t)},n}function Io(e){return e=Al(e),e.tag=3,e}function Oo(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var x=l.value;e.payload=function(){return u(x)},e.callback=function(){ko(t,n,l)}}var S=n.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){ko(t,n,l),typeof u!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function f2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ba(t,n,u,!0),n=un.current,n!==null){switch(n.tag){case 31:case 13:return zn===null?n0():n.alternate===null&&pt===0&&(pt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Lr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Tu(e,l,u)),!1;case 22:return n.flags|=65536,l===Lr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Tu(e,l,u)),!1}throw Error(r(435,n.tag))}return Tu(e,l,u),n0(),!1}if(Ue)return t=un.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Mc&&(e=Error(r(422),{cause:l}),yi(Cn(e,n)))):(l!==Mc&&(t=Error(r(423),{cause:l}),yi(Cn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Cn(l,n),u=cu(e.stateNode,l,u),Rc(e,u),pt!==4&&(pt=2)),!1;var x=Error(r(520),{cause:l});if(x=Cn(x,n),Ii===null?Ii=[x]:Ii.push(x),pt!==4&&(pt=2),t===null)return!0;l=Cn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=cu(n.stateNode,l,e),Rc(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Rl===null||!Rl.has(x))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Io(u),Oo(u,e,n,l),Rc(n,u),!1}n=n.return}while(n!==null);return!1}var uu=Error(r(461)),jt=!1;function It(e,t,n,l){t.child=e===null?Ux(t,null,n,l):xa(t,e.child,n,l)}function Ho(e,t,n,l,u){n=n.render;var x=t.ref;if("ref"in l){var S={};for(var A in l)A!=="ref"&&(S[A]=l[A])}else S=l;return ra(t),l=Uc(e,t,n,S,x,u),A=Kc(),e!==null&&!jt?(Zc(e,t,u),dl(e,t,u)):(Ue&&A&&wc(t),t.flags|=1,It(e,t,l,u),t.child)}function Yo(e,t,n,l,u){if(e===null){var x=n.type;return typeof x=="function"&&!_c(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,Uo(e,t,x,l,u)):(e=jr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!bu(e,u)){var S=x.memoizedProps;if(n=n.compare,n=n!==null?n:gi,n(S,l)&&e.ref===t.ref)return dl(e,t,u)}return t.flags|=1,e=cl(x,l),e.ref=t.ref,e.return=t,t.child=e}function Uo(e,t,n,l,u){if(e!==null){var x=e.memoizedProps;if(gi(x,l)&&e.ref===t.ref)if(jt=!1,t.pendingProps=l=x,bu(e,u))(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,dl(e,t,u)}return su(e,t,n,l,u)}function Ko(e,t,n,l){var u=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~x}else l=0,t.child=null;return Zo(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nr(t,x!==null?x.cachePool:null),x!==null?Xx(t,x):Ic(),Jx(t);else return l=t.lanes=536870912,Zo(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(Nr(t,x.cachePool),Xx(t,x),El(),t.memoizedState=null):(e!==null&&Nr(t,null),Ic(),El());return It(e,t,u,n),t.child}function Ti(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zo(e,t,n,l,u){var x=Ec();return x=x===null?null:{parent:Ct._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&Nr(t,null),Ic(),Jx(t),e!==null&&Ba(e,t,l,!0),t.childLanes=u,null}function Zr(e,t){return t=Jr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xo(e,t,n){return xa(t,e.child,null,n),e=Zr(t,t.pendingProps),e.flags|=2,sn(t),t.memoizedState=null,e}function d2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ue){if(l.mode==="hidden")return e=Zr(t,l),t.lanes=536870912,Ti(null,e);if(Hc(t),(e=ot)?(e=id(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jl!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Dx(e),n.return=t,t.child=n,Rt=t,ot=null)):e=null,e===null)throw zl(t);return t.lanes=536870912,null}return Zr(t,l)}var x=e.memoizedState;if(x!==null){var S=x.dehydrated;if(Hc(t),u)if(t.flags&256)t.flags&=-257,t=Xo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(jt||Ba(e,t,n,!1),u=(n&e.childLanes)!==0,jt||u){if(l=xt,l!==null&&(S=rt(l,n),S!==0&&S!==x.retryLane))throw x.retryLane=S,na(e,S),nn(l,e,S),uu;n0(),t=Xo(e,t,n)}else e=x.treeContext,ot=Dn(S.nextSibling),Rt=t,Ue=!0,Ml=null,Mn=!1,e!==null&&Lx(t,e),t=Zr(t,l),t.flags|=4096;return t}return e=cl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Xr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function su(e,t,n,l,u){return ra(t),n=Uc(e,t,n,l,void 0,u),l=Kc(),e!==null&&!jt?(Zc(e,t,u),dl(e,t,u)):(Ue&&l&&wc(t),t.flags|=1,It(e,t,n,u),t.child)}function Jo(e,t,n,l,u,x){return ra(t),t.updateQueue=null,n=Wx(t,l,n,u),Vx(e),l=Kc(),e!==null&&!jt?(Zc(e,t,x),dl(e,t,x)):(Ue&&l&&wc(t),t.flags|=1,It(e,t,n,x),t.child)}function Vo(e,t,n,l,u){if(ra(t),t.stateNode===null){var x=Aa,S=n.contextType;typeof S=="object"&&S!==null&&(x=kt(S)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=ru,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},Gc(t),S=n.contextType,x.context=typeof S=="object"&&S!==null?kt(S):Aa,x.state=t.memoizedState,S=n.getDerivedStateFromProps,typeof S=="function"&&(iu(t,n,S,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(S=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),S!==x.state&&ru.enqueueReplaceState(x,x.state,null),zi(t,l,x,u),Mi(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var A=t.memoizedProps,U=fa(n,A);x.props=U;var te=x.context,ie=n.contextType;S=Aa,typeof ie=="object"&&ie!==null&&(S=kt(ie));var ue=n.getDerivedStateFromProps;ie=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A||te!==S)&&Bo(t,x,l,S),Nl=!1;var ne=t.memoizedState;x.state=ne,zi(t,l,x,u),Mi(),te=t.memoizedState,A||ne!==te||Nl?(typeof ue=="function"&&(iu(t,n,ue,l),te=t.memoizedState),(U=Nl||Eo(t,n,U,l,ne,te,S))?(ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),x.props=l,x.state=te,x.context=S,l=U):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,qc(e,t),S=t.memoizedProps,ie=fa(n,S),x.props=ie,ue=t.pendingProps,ne=x.context,te=n.contextType,U=Aa,typeof te=="object"&&te!==null&&(U=kt(te)),A=n.getDerivedStateFromProps,(te=typeof A=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==ue||ne!==U)&&Bo(t,x,l,U),Nl=!1,ne=t.memoizedState,x.state=ne,zi(t,l,x,u),Mi();var ae=t.memoizedState;S!==ue||ne!==ae||Nl||e!==null&&e.dependencies!==null&&zr(e.dependencies)?(typeof A=="function"&&(iu(t,n,A,l),ae=t.memoizedState),(ie=Nl||Eo(t,n,ie,l,ne,ae,U)||e!==null&&e.dependencies!==null&&zr(e.dependencies))?(te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,ae,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,ae,U)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),x.props=l,x.state=ae,x.context=U,l=ie):(typeof x.componentDidUpdate!="function"||S===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Xr(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=xa(t,e.child,null,u),t.child=xa(t,null,n,u)):It(e,t,n,u),t.memoizedState=x.state,e=t.child):e=dl(e,t,u),e}function Wo(e,t,n,l){return aa(),t.flags|=256,It(e,t,n,l),t.child}var xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ou(e){return{baseLanes:e,cachePool:Rx()}}function fu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=on),e}function Qo(e,t,n){var l=t.pendingProps,u=!1,x=(t.flags&128)!==0,S;if((S=x)||(S=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),S&&(u=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(u?Tl(t):El(),(e=ot)?(e=id(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jl!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Dx(e),n.return=t,t.child=n,Rt=t,ot=null)):e=null,e===null)throw zl(t);return Vu(e)?t.lanes=32:t.lanes=536870912,null}var A=l.children;return l=l.fallback,u?(El(),u=t.mode,A=Jr({mode:"hidden",children:A},u),l=la(l,u,n,null),A.return=t,l.return=t,A.sibling=l,t.child=A,l=t.child,l.memoizedState=ou(n),l.childLanes=fu(e,S,n),t.memoizedState=xu,Ti(null,l)):(Tl(t),du(t,A))}var U=e.memoizedState;if(U!==null&&(A=U.dehydrated,A!==null)){if(x)t.flags&256?(Tl(t),t.flags&=-257,t=hu(e,t,n)):t.memoizedState!==null?(El(),t.child=e.child,t.flags|=128,t=null):(El(),A=l.fallback,u=t.mode,l=Jr({mode:"visible",children:l.children},u),A=la(A,u,n,null),A.flags|=2,l.return=t,A.return=t,l.sibling=A,t.child=l,xa(t,e.child,null,n),l=t.child,l.memoizedState=ou(n),l.childLanes=fu(e,S,n),t.memoizedState=xu,t=Ti(null,l));else if(Tl(t),Vu(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var te=S.dgst;S=te,l=Error(r(419)),l.stack="",l.digest=S,yi({value:l,source:null,stack:null}),t=hu(e,t,n)}else if(jt||Ba(e,t,n,!1),S=(n&e.childLanes)!==0,jt||S){if(S=xt,S!==null&&(l=rt(S,n),l!==0&&l!==U.retryLane))throw U.retryLane=l,na(e,l),nn(S,e,l),uu;Ju(A)||n0(),t=hu(e,t,n)}else Ju(A)?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,ot=Dn(A.nextSibling),Rt=t,Ue=!0,Ml=null,Mn=!1,e!==null&&Lx(t,e),t=du(t,l.children),t.flags|=4096);return t}return u?(El(),A=l.fallback,u=t.mode,U=e.child,te=U.sibling,l=cl(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,te!==null?A=cl(te,A):(A=la(A,u,n,null),A.flags|=2),A.return=t,l.return=t,l.sibling=A,t.child=l,Ti(null,l),l=t.child,A=e.child.memoizedState,A===null?A=ou(n):(u=A.cachePool,u!==null?(U=Ct._currentValue,u=u.parent!==U?{parent:U,pool:U}:u):u=Rx(),A={baseLanes:A.baseLanes|n,cachePool:u}),l.memoizedState=A,l.childLanes=fu(e,S,n),t.memoizedState=xu,Ti(e.child,l)):(Tl(t),n=e.child,e=n.sibling,n=cl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=n,t.memoizedState=null,n)}function du(e,t){return t=Jr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Jr(e,t){return e=cn(22,e,null,t),e.lanes=0,e}function hu(e,t,n){return xa(t,e.child,null,n),e=du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Po(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Nc(e.return,t,n)}function mu(e,t,n,l,u,x){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:x}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=l,S.tail=n,S.tailMode=u,S.treeForkCount=x)}function Fo(e,t,n){var l=t.pendingProps,u=l.revealOrder,x=l.tail;l=l.children;var S=yt.current,A=(S&2)!==0;if(A?(S=S&1|2,t.flags|=128):S&=1,Y(yt,S),It(e,t,l,n),l=Ue?pi:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Po(e,n,t);else if(e.tag===19)Po(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Gr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),mu(t,!1,u,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Gr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}mu(t,!0,n,null,x,l);break;case"together":mu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function dl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ql|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ba(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=cl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&zr(e)))}function h2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),Dl(t,Ct,e.memoizedState.cache),aa();break;case 27:case 5:we(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:Dl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Hc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Tl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Qo(e,t,n):(Tl(t),e=dl(e,t,n),e!==null?e.sibling:null);Tl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ba(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Fo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Y(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Ko(e,t,n,t.pendingProps);case 24:Dl(t,Ct,e.memoizedState.cache)}return dl(e,t,n)}function $o(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!bu(e,n)&&(t.flags&128)===0)return jt=!1,h2(e,t,n);jt=(e.flags&131072)!==0}else jt=!1,Ue&&(t.flags&1048576)!==0&&Ax(t,pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ua(t.elementType),t.type=e,typeof e=="function")_c(e)?(l=fa(e,l),t.tag=1,t=Vo(null,t,e,l,n)):(t.tag=0,t=su(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===H){t.tag=11,t=Ho(null,t,e,l,n);break e}else if(u===R){t.tag=14,t=Yo(null,t,e,l,n);break e}}throw t=L(e)||e,Error(r(306,t,""))}}return t;case 0:return su(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=fa(l,t.pendingProps),Vo(e,t,l,u,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var x=t.memoizedState;u=x.element,qc(e,t),zi(t,l,null,n);var S=t.memoizedState;if(l=S.cache,Dl(t,Ct,l),l!==x.cache&&Ac(t,[Ct],n,!0),Mi(),l=S.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Wo(e,t,l,n);break e}else if(l!==u){u=Cn(Error(r(424)),t),yi(u),t=Wo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ot=Dn(e.firstChild),Rt=t,Ue=!0,Ml=null,Mn=!0,n=Ux(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(aa(),l===u){t=dl(e,t,n);break e}It(e,t,l,n)}t=t.child}return t;case 26:return Xr(e,t),e===null?(n=od(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ue||(n=t.type,e=t.pendingProps,l=s0(ce.current).createElement(n),l[gt]=t,l[Kt]=e,Ot(l,n,e),Oe(l),t.stateNode=l):t.memoizedState=od(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&Ue&&(l=t.stateNode=ud(t.type,t.pendingProps,ce.current),Rt=t,Mn=!0,u=ot,Hl(t.type)?(Wu=u,ot=Dn(l.firstChild)):ot=u),It(e,t,t.pendingProps.children,n),Xr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ue&&((u=l=ot)&&(l=K2(l,t.type,t.pendingProps,Mn),l!==null?(t.stateNode=l,Rt=t,ot=Dn(l.firstChild),Mn=!1,u=!0):u=!1),u||zl(t)),we(t),u=t.type,x=t.pendingProps,S=e!==null?e.memoizedProps:null,l=x.children,Ku(u,x)?l=null:S!==null&&Ku(u,S)&&(t.flags|=32),t.memoizedState!==null&&(u=Uc(e,t,i2,null,null,n),Ji._currentValue=u),Xr(e,t),It(e,t,l,n),t.child;case 6:return e===null&&Ue&&((e=n=ot)&&(n=Z2(n,t.pendingProps,Mn),n!==null?(t.stateNode=n,Rt=t,ot=null,e=!0):e=!1),e||zl(t)),null;case 13:return Qo(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=xa(t,null,l,n):It(e,t,l,n),t.child;case 11:return Ho(e,t,t.type,t.pendingProps,n);case 7:return It(e,t,t.pendingProps,n),t.child;case 8:return It(e,t,t.pendingProps.children,n),t.child;case 12:return It(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Dl(t,t.type,l.value),It(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,ra(t),u=kt(u),l=l(u),t.flags|=1,It(e,t,l,n),t.child;case 14:return Yo(e,t,t.type,t.pendingProps,n);case 15:return Uo(e,t,t.type,t.pendingProps,n);case 19:return Fo(e,t,n);case 31:return d2(e,t,n);case 22:return Ko(e,t,n,t.pendingProps);case 24:return ra(t),l=kt(Ct),e===null?(u=Ec(),u===null&&(u=xt,x=Lc(),u.pooledCache=x,x.refCount++,x!==null&&(u.pooledCacheLanes|=n),u=x),t.memoizedState={parent:l,cache:u},Gc(t),Dl(t,Ct,u)):((e.lanes&n)!==0&&(qc(e,t),zi(t,null,null,n),Mi()),u=e.memoizedState,x=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Dl(t,Ct,l)):(l=x.cache,Dl(t,Ct,l),l!==u.cache&&Ac(t,[Ct],n,!0))),It(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function hl(e){e.flags|=4}function gu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(zf())e.flags|=8192;else throw sa=Lr,Bc}else e.flags&=-16777217}function ef(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bd(t))if(zf())e.flags|=8192;else throw sa=Lr,Bc}function Vr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ze():536870912,e.lanes|=t,Xa|=t)}function Ei(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function m2(e,t,n){var l=t.pendingProps;switch(jc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return ft(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),xl(Ct),ge(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ea(t)?hl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zc())),ft(t),null;case 26:var u=t.type,x=t.memoizedState;return e===null?(hl(t),x!==null?(ft(t),ef(t,x)):(ft(t),gu(t,u,null,l,n))):x?x!==e.memoizedState?(hl(t),ft(t),ef(t,x)):(ft(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&hl(t),ft(t),gu(t,u,e,l,n)),null;case 27:if(he(t),n=ce.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&hl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ft(t),null}e=Z.current,Ea(t)?Tx(t):(e=ud(u,l,n),t.stateNode=e,hl(t))}return ft(t),null;case 5:if(he(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&hl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ft(t),null}if(x=Z.current,Ea(t))Tx(t);else{var S=s0(ce.current);switch(x){case 1:x=S.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:x=S.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":x=S.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":x=S.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":x=S.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?S.createElement("select",{is:l.is}):S.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?S.createElement(u,{is:l.is}):S.createElement(u)}}x[gt]=t,x[Kt]=l;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)x.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=x;e:switch(Ot(x,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hl(t)}}return ft(t),gu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&hl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ce.current,Ea(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Rt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[gt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Pf(e.nodeValue,n)),e||zl(t,!0)}else e=s0(e).createTextNode(l),e[gt]=t,t.stateNode=e}return ft(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ea(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[gt]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),e=!1}else n=zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(sn(t),t):(sn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return ft(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ea(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[gt]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),u=!1}else u=zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(sn(t),t):(sn(t),null)}return sn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Vr(t,t.updateQueue),ft(t),null);case 4:return ge(),e===null&&Iu(t.stateNode.containerInfo),ft(t),null;case 10:return xl(t.type),ft(t),null;case 19:if(B(yt),l=t.memoizedState,l===null)return ft(t),null;if(u=(t.flags&128)!==0,x=l.rendering,x===null)if(u)Ei(l,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Gr(e),x!==null){for(t.flags|=128,Ei(l,!1),e=x.updateQueue,t.updateQueue=e,Vr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)zx(n,e),n=n.sibling;return Y(yt,yt.current&1|2),Ue&&ul(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Qe()>$r&&(t.flags|=128,u=!0,Ei(l,!1),t.lanes=4194304)}else{if(!u)if(e=Gr(x),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Vr(t,e),Ei(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!Ue)return ft(t),null}else 2*Qe()-l.renderingStartTime>$r&&n!==536870912&&(t.flags|=128,u=!0,Ei(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,n=yt.current,Y(yt,u?n&1|2:n&1),Ue&&ul(t,l.treeForkCount),e):(ft(t),null);case 22:case 23:return sn(t),Oc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),n=t.updateQueue,n!==null&&Vr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&B(ca),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xl(Ct),ft(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function b2(e,t){switch(jc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xl(Ct),ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(sn(t),t.alternate===null)throw Error(r(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(yt),null;case 4:return ge(),null;case 10:return xl(t.type),null;case 22:case 23:return sn(t),Oc(),e!==null&&B(ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xl(Ct),null;case 25:return null;default:return null}}function tf(e,t){switch(jc(t),t.tag){case 3:xl(Ct),ge();break;case 26:case 27:case 5:he(t);break;case 4:ge();break;case 31:t.memoizedState!==null&&sn(t);break;case 13:sn(t);break;case 19:B(yt);break;case 10:xl(t.type);break;case 22:case 23:sn(t),Oc(),e!==null&&B(ca);break;case 24:xl(Ct)}}function Bi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var x=n.create,S=n.inst;l=x(),S.destroy=l}n=n.next}while(n!==u)}}catch(A){it(t,t.return,A)}}function Bl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var x=u.next;l=x;do{if((l.tag&e)===e){var S=l.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,u=t;var U=n,te=A;try{te()}catch(ie){it(u,U,ie)}}}l=l.next}while(l!==x)}}catch(ie){it(t,t.return,ie)}}function nf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Zx(t,n)}catch(l){it(e,e.return,l)}}}function lf(e,t,n){n.props=fa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function Gi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){it(e,t,u)}}function Fn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){it(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){it(e,t,u)}else n.current=null}function af(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){it(e,e.return,u)}}function vu(e,t,n){try{var l=e.stateNode;k2(l,e.type,n,t),l[Kt]=t}catch(u){it(e,e.return,u)}}function rf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hl(e.type)||e.tag===4}function pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=il));else if(l!==4&&(l===27&&Hl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yu(e,t,n),e=e.sibling;e!==null;)yu(e,t,n),e=e.sibling}function Wr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Hl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Wr(e,t,n),e=e.sibling;e!==null;)Wr(e,t,n),e=e.sibling}function cf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ot(t,l,n),t[gt]=e,t[Kt]=n}catch(x){it(e,e.return,x)}}var ml=!1,Mt=!1,_u=!1,uf=typeof WeakSet=="function"?WeakSet:Set,Et=null;function g2(e,t){if(e=e.containerInfo,Yu=b0,e=vx(e),hc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var S=0,A=-1,U=-1,te=0,ie=0,ue=e,ne=null;t:for(;;){for(var ae;ue!==n||u!==0&&ue.nodeType!==3||(A=S+u),ue!==x||l!==0&&ue.nodeType!==3||(U=S+l),ue.nodeType===3&&(S+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)ne=ue,ue=ae;for(;;){if(ue===e)break t;if(ne===n&&++te===u&&(A=S),ne===x&&++ie===l&&(U=S),(ae=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=ae}n=A===-1||U===-1?null:{start:A,end:U}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uu={focusedElem:e,selectionRange:n},b0=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,u=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var me=fa(n.type,u);e=l.getSnapshotBeforeUpdate(me,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(je){it(n,n.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Xu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function sf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:gl(e,n),l&4&&Bi(5,n);break;case 1:if(gl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(S){it(n,n.return,S)}else{var u=fa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){it(n,n.return,S)}}l&64&&nf(n),l&512&&Gi(n,n.return);break;case 3:if(gl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Zx(e,t)}catch(S){it(n,n.return,S)}}break;case 27:t===null&&l&4&&cf(n);case 26:case 5:gl(e,n),t===null&&l&4&&af(n),l&512&&Gi(n,n.return);break;case 12:gl(e,n);break;case 31:gl(e,n),l&4&&ff(e,n);break;case 13:gl(e,n),l&4&&df(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=M2.bind(null,n),X2(e,n))));break;case 22:if(l=n.memoizedState!==null||ml,!l){t=t!==null&&t.memoizedState!==null||Mt,u=ml;var x=Mt;ml=l,(Mt=t)&&!x?vl(e,n,(n.subtreeFlags&8772)!==0):gl(e,n),ml=u,Mt=x}break;case 30:break;default:gl(e,n)}}function xf(e){var t=e.alternate;t!==null&&(e.alternate=null,xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&si(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,Ft=!1;function bl(e,t,n){for(n=n.child;n!==null;)of(e,t,n),n=n.sibling}function of(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Rn,n)}catch{}switch(n.tag){case 26:Mt||Fn(n,t),bl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mt||Fn(n,t);var l=dt,u=Ft;Hl(n.type)&&(dt=n.stateNode,Ft=!1),bl(e,t,n),Ki(n.stateNode),dt=l,Ft=u;break;case 5:Mt||Fn(n,t);case 6:if(l=dt,u=Ft,dt=null,bl(e,t,n),dt=l,Ft=u,dt!==null)if(Ft)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(x){it(n,t,x)}else try{dt.removeChild(n.stateNode)}catch(x){it(n,t,x)}break;case 18:dt!==null&&(Ft?(e=dt,ld(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ei(e)):ld(dt,n.stateNode));break;case 4:l=dt,u=Ft,dt=n.stateNode.containerInfo,Ft=!0,bl(e,t,n),dt=l,Ft=u;break;case 0:case 11:case 14:case 15:Bl(2,n,t),Mt||Bl(4,n,t),bl(e,t,n);break;case 1:Mt||(Fn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&lf(n,t,l)),bl(e,t,n);break;case 21:bl(e,t,n);break;case 22:Mt=(l=Mt)||n.memoizedState!==null,bl(e,t,n),Mt=l;break;default:bl(e,t,n)}}function ff(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ei(e)}catch(n){it(t,t.return,n)}}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ei(e)}catch(n){it(t,t.return,n)}}function v2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new uf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new uf),t;default:throw Error(r(435,e.tag))}}function Qr(e,t){var n=v2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=z2.bind(null,e,l);l.then(u,u)}})}function $t(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],x=e,S=t,A=S;e:for(;A!==null;){switch(A.tag){case 27:if(Hl(A.type)){dt=A.stateNode,Ft=!1;break e}break;case 5:dt=A.stateNode,Ft=!1;break e;case 3:case 4:dt=A.stateNode.containerInfo,Ft=!0;break e}A=A.return}if(dt===null)throw Error(r(160));of(x,S,u),dt=null,Ft=!1,x=u.alternate,x!==null&&(x.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hf(t,e),t=t.sibling}var On=null;function hf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),en(e),l&4&&(Bl(3,e,e.return),Bi(3,e),Bl(5,e,e.return));break;case 1:$t(t,e),en(e),l&512&&(Mt||n===null||Fn(n,n.return)),l&64&&ml&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=On;if($t(t,e),en(e),l&512&&(Mt||n===null||Fn(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":x=u.getElementsByTagName("title")[0],(!x||x[Pl]||x[gt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=u.createElement(l),u.head.insertBefore(x,u.querySelector("head > title"))),Ot(x,l,n),x[gt]=e,Oe(x),l=x;break e;case"link":var S=hd("link","href",u).get(l+(n.href||""));if(S){for(var A=0;A<S.length;A++)if(x=S[A],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){S.splice(A,1);break t}}x=u.createElement(l),Ot(x,l,n),u.head.appendChild(x);break;case"meta":if(S=hd("meta","content",u).get(l+(n.content||""))){for(A=0;A<S.length;A++)if(x=S[A],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){S.splice(A,1);break t}}x=u.createElement(l),Ot(x,l,n),u.head.appendChild(x);break;default:throw Error(r(468,l))}x[gt]=e,Oe(x),l=x}e.stateNode=l}else md(u,e.type,e.stateNode);else e.stateNode=dd(u,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?md(u,e.type,e.stateNode):dd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&vu(e,e.memoizedProps,n.memoizedProps)}break;case 27:$t(t,e),en(e),l&512&&(Mt||n===null||Fn(n,n.return)),n!==null&&l&4&&vu(e,e.memoizedProps,n.memoizedProps);break;case 5:if($t(t,e),en(e),l&512&&(Mt||n===null||Fn(n,n.return)),e.flags&32){u=e.stateNode;try{Ca(u,"")}catch(me){it(e,e.return,me)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,vu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(_u=!0);break;case 6:if($t(t,e),en(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(me){it(e,e.return,me)}}break;case 3:if(f0=null,u=On,On=x0(t.containerInfo),$t(t,e),On=u,en(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(me){it(e,e.return,me)}_u&&(_u=!1,mf(e));break;case 4:l=On,On=x0(e.stateNode.containerInfo),$t(t,e),en(e),On=l;break;case 12:$t(t,e),en(e);break;case 31:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 13:$t(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Fr=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 22:u=e.memoizedState!==null;var U=n!==null&&n.memoizedState!==null,te=ml,ie=Mt;if(ml=te||u,Mt=ie||U,$t(t,e),Mt=ie,ml=te,en(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||U||ml||Mt||da(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){U=n=t;try{if(x=U.stateNode,u)S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=U.stateNode;var ue=U.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(me){it(U,U.return,me)}}}else if(t.tag===6){if(n===null){U=t;try{U.stateNode.nodeValue=u?"":U.memoizedProps}catch(me){it(U,U.return,me)}}}else if(t.tag===18){if(n===null){U=t;try{var ae=U.stateNode;u?ad(ae,!0):ad(U.stateNode,!1)}catch(me){it(U,U.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Qr(e,n))));break;case 19:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 30:break;case 21:break;default:$t(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(rf(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,x=pu(e);Wr(e,x,u);break;case 5:var S=n.stateNode;n.flags&32&&(Ca(S,""),n.flags&=-33);var A=pu(e);Wr(e,A,S);break;case 3:case 4:var U=n.stateNode.containerInfo,te=pu(e);yu(e,te,U);break;default:throw Error(r(161))}}catch(ie){it(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sf(e,t.alternate,t),t=t.sibling}function da(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bl(4,t,t.return),da(t);break;case 1:Fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&lf(t,t.return,n),da(t);break;case 27:Ki(t.stateNode);case 26:case 5:Fn(t,t.return),da(t);break;case 22:t.memoizedState===null&&da(t);break;case 30:da(t);break;default:da(t)}e=e.sibling}}function vl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,x=t,S=x.flags;switch(x.tag){case 0:case 11:case 15:vl(u,x,n),Bi(4,x);break;case 1:if(vl(u,x,n),l=x,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(te){it(l,l.return,te)}if(l=x,u=l.updateQueue,u!==null){var A=l.stateNode;try{var U=u.shared.hiddenCallbacks;if(U!==null)for(u.shared.hiddenCallbacks=null,u=0;u<U.length;u++)Kx(U[u],A)}catch(te){it(l,l.return,te)}}n&&S&64&&nf(x),Gi(x,x.return);break;case 27:cf(x);case 26:case 5:vl(u,x,n),n&&l===null&&S&4&&af(x),Gi(x,x.return);break;case 12:vl(u,x,n);break;case 31:vl(u,x,n),n&&S&4&&ff(u,x);break;case 13:vl(u,x,n),n&&S&4&&df(u,x);break;case 22:x.memoizedState===null&&vl(u,x,n),Gi(x,x.return);break;case 30:break;default:vl(u,x,n)}t=t.sibling}}function Su(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_i(n))}function Cu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e))}function Hn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bf(e,t,n,l),t=t.sibling}function bf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Hn(e,t,n,l),u&2048&&Bi(9,t);break;case 1:Hn(e,t,n,l);break;case 3:Hn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e)));break;case 12:if(u&2048){Hn(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,S=x.id,A=x.onPostCommit;typeof A=="function"&&A(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){it(t,t.return,U)}}else Hn(e,t,n,l);break;case 31:Hn(e,t,n,l);break;case 13:Hn(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,S=t.alternate,t.memoizedState!==null?x._visibility&2?Hn(e,t,n,l):qi(e,t):x._visibility&2?Hn(e,t,n,l):(x._visibility|=2,Ua(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Su(S,t);break;case 24:Hn(e,t,n,l),u&2048&&Cu(t.alternate,t);break;default:Hn(e,t,n,l)}}function Ua(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,S=t,A=n,U=l,te=S.flags;switch(S.tag){case 0:case 11:case 15:Ua(x,S,A,U,u),Bi(8,S);break;case 23:break;case 22:var ie=S.stateNode;S.memoizedState!==null?ie._visibility&2?Ua(x,S,A,U,u):qi(x,S):(ie._visibility|=2,Ua(x,S,A,U,u)),u&&te&2048&&Su(S.alternate,S);break;case 24:Ua(x,S,A,U,u),u&&te&2048&&Cu(S.alternate,S);break;default:Ua(x,S,A,U,u)}t=t.sibling}}function qi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:qi(n,l),u&2048&&Su(l.alternate,l);break;case 24:qi(n,l),u&2048&&Cu(l.alternate,l);break;default:qi(n,l)}t=t.sibling}}var Ri=8192;function Ka(e,t,n){if(e.subtreeFlags&Ri)for(e=e.child;e!==null;)gf(e,t,n),e=e.sibling}function gf(e,t,n){switch(e.tag){case 26:Ka(e,t,n),e.flags&Ri&&e.memoizedState!==null&&ah(n,On,e.memoizedState,e.memoizedProps);break;case 5:Ka(e,t,n);break;case 3:case 4:var l=On;On=x0(e.stateNode.containerInfo),Ka(e,t,n),On=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ri,Ri=16777216,Ka(e,t,n),Ri=l):Ka(e,t,n));break;default:Ka(e,t,n)}}function vf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,yf(l,e)}vf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pf(e),e=e.sibling}function pf(e){switch(e.tag){case 0:case 11:case 15:ki(e),e.flags&2048&&Bl(9,e,e.return);break;case 3:ki(e);break;case 12:ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pr(e)):ki(e);break;default:ki(e)}}function Pr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,yf(l,e)}vf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bl(8,t,t.return),Pr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Pr(t));break;default:Pr(t)}e=e.sibling}}function yf(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:Bl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_i(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var u=l.sibling,x=l.return;if(xf(l),l===n){Et=null;break e}if(u!==null){u.return=x,Et=u;break e}Et=x}}}var p2={getCacheForType:function(e){var t=kt(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return kt(Ct).controller.signal}},y2=typeof WeakMap=="function"?WeakMap:Map,et=0,xt=null,qe=null,He=0,at=0,xn=null,Gl=!1,Za=!1,wu=!1,pl=0,pt=0,ql=0,ha=0,ju=0,on=0,Xa=0,Ii=null,tn=null,Mu=!1,Fr=0,_f=0,$r=1/0,e0=null,Rl=null,At=0,kl=null,Ja=null,yl=0,zu=0,Du=null,Sf=null,Oi=0,Nu=null;function fn(){return(et&2)!==0&&He!==0?He&-He:z.T!==null?Gu():kn()}function Cf(){if(on===0)if((He&536870912)===0||Ue){var e=pe;pe<<=1,(pe&3932160)===0&&(pe=262144),on=e}else on=536870912;return e=un.current,e!==null&&(e.flags|=32),on}function nn(e,t,n){(e===xt&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Il(e,He,on,!1)),Ae(e,n),((et&2)===0||e!==xt)&&(e===xt&&((et&2)===0&&(ha|=n),pt===4&&Il(e,He,on,!1)),$n(e))}function wf(e,t,n){if((et&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Pe(e,t),u=l?C2(e,t):Lu(e,t,!0),x=l;do{if(u===0){Za&&!l&&Il(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!_2(n)){u=Lu(e,t,!1),x=!1;continue}if(u===2){if(x=t,e.errorRecoveryDisabledLanes&x)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var A=e;u=Ii;var U=A.current.memoizedState.isDehydrated;if(U&&(Va(A,S).flags|=256),S=Lu(A,S,!1),S!==2){if(wu&&!U){A.errorRecoveryDisabledLanes|=x,ha|=x,u=4;break e}x=tn,tn=u,x!==null&&(tn===null?tn=x:tn.push.apply(tn,x))}u=S}if(x=!1,u!==2)continue}}if(u===1){Va(e,0),Il(e,t,0,!0);break}e:{switch(l=e,x=u,x){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Il(l,t,on,!Gl);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Fr+300-Qe(),10<u)){if(Il(l,t,on,!Gl),_e(l,0,!0)!==0)break e;yl=t,l.timeoutHandle=td(jf.bind(null,l,n,tn,e0,Mu,t,on,ha,Xa,Gl,x,"Throttled",-0,0),u);break e}jf(l,n,tn,e0,Mu,t,on,ha,Xa,Gl,x,null,-0,0)}}break}while(!0);$n(e)}function jf(e,t,n,l,u,x,S,A,U,te,ie,ue,ne,ae){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:il},gf(t,x,ue);var me=(x&62914560)===x?Fr-Qe():(x&4194048)===x?_f-Qe():0;if(me=ih(ue,me),me!==null){yl=x,e.cancelPendingCommit=me(Ef.bind(null,e,t,x,n,l,u,S,A,U,ie,ue,null,ne,ae)),Il(e,x,S,!te);return}}Ef(e,t,x,n,l,u,S,A,U)}function _2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],x=u.getSnapshot;u=u.value;try{if(!rn(x(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Il(e,t,n,l){t&=~ju,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var x=31-ke(u),S=1<<x;l[x]=-1,u&=~S}n!==0&&$e(e,n,t)}function t0(){return(et&6)===0?(Hi(0),!1):!0}function Au(){if(qe!==null){if(at===0)var e=qe.return;else e=qe,sl=ia=null,Xc(e),ka=null,Ci=0,e=qe;for(;e!==null;)tf(e.alternate,e),e=e.return;qe=null}}function Va(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,H2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),yl=0,Au(),xt=e,qe=n=cl(e.current,null),He=t,at=0,xn=null,Gl=!1,Za=Pe(e,t),wu=!1,Xa=on=ju=ha=ql=pt=0,tn=Ii=null,Mu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-ke(l),x=1<<u;t|=e[u],l&=~x}return pl=t,Sr(),n}function Mf(e,t){Le=null,z.H=Li,t===Ra||t===Ar?(t=Ox(),at=3):t===Bc?(t=Ox(),at=4):at=t===uu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xn=t,qe===null&&(pt=1,Kr(e,Cn(t,e.current)))}function zf(){var e=un.current;return e===null?!0:(He&4194048)===He?zn===null:(He&62914560)===He||(He&536870912)!==0?e===zn:!1}function Df(){var e=z.H;return z.H=Li,e===null?Li:e}function Nf(){var e=z.A;return z.A=p2,e}function n0(){pt=4,Gl||(He&4194048)!==He&&un.current!==null||(Za=!0),(ql&134217727)===0&&(ha&134217727)===0||xt===null||Il(xt,He,on,!1)}function Lu(e,t,n){var l=et;et|=2;var u=Df(),x=Nf();(xt!==e||He!==t)&&(e0=null,Va(e,t)),t=!1;var S=pt;e:do try{if(at!==0&&qe!==null){var A=qe,U=xn;switch(at){case 8:Au(),S=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(t=!0);var te=at;if(at=0,xn=null,Wa(e,A,U,te),n&&Za){S=0;break e}break;default:te=at,at=0,xn=null,Wa(e,A,U,te)}}S2(),S=pt;break}catch(ie){Mf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,sl=ia=null,et=l,z.H=u,z.A=x,qe===null&&(xt=null,He=0,Sr()),S}function S2(){for(;qe!==null;)Af(qe)}function C2(e,t){var n=et;et|=2;var l=Df(),u=Nf();xt!==e||He!==t?(e0=null,$r=Qe()+500,Va(e,t)):Za=Pe(e,t);e:do try{if(at!==0&&qe!==null){t=qe;var x=xn;t:switch(at){case 1:at=0,xn=null,Wa(e,t,x,1);break;case 2:case 9:if(kx(x)){at=0,xn=null,Lf(t);break}t=function(){at!==2&&at!==9||xt!==e||(at=7),$n(e)},x.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:kx(x)?(at=0,xn=null,Lf(t)):(at=0,xn=null,Wa(e,t,x,7));break;case 5:var S=null;switch(qe.tag){case 26:S=qe.memoizedState;case 5:case 27:var A=qe;if(S?bd(S):A.stateNode.complete){at=0,xn=null;var U=A.sibling;if(U!==null)qe=U;else{var te=A.return;te!==null?(qe=te,l0(te)):qe=null}break t}}at=0,xn=null,Wa(e,t,x,5);break;case 6:at=0,xn=null,Wa(e,t,x,6);break;case 8:Au(),pt=6;break e;default:throw Error(r(462))}}w2();break}catch(ie){Mf(e,ie)}while(!0);return sl=ia=null,z.H=l,z.A=u,et=n,qe!==null?0:(xt=null,He=0,Sr(),pt)}function w2(){for(;qe!==null&&!Xn();)Af(qe)}function Af(e){var t=$o(e.alternate,e,pl);e.memoizedProps=e.pendingProps,t===null?l0(e):qe=t}function Lf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jo(n,t,t.pendingProps,t.type,void 0,He);break;case 11:t=Jo(n,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:Xc(t);default:tf(n,t),t=qe=zx(t,pl),t=$o(n,t,pl)}e.memoizedProps=e.pendingProps,t===null?l0(e):qe=t}function Wa(e,t,n,l){sl=ia=null,Xc(t),ka=null,Ci=0;var u=t.return;try{if(f2(e,u,t,n,He)){pt=1,Kr(e,Cn(n,e.current)),qe=null;return}}catch(x){if(u!==null)throw qe=u,x;pt=1,Kr(e,Cn(n,e.current)),qe=null;return}t.flags&32768?(Ue||l===1?e=!0:Za||(He&536870912)!==0?e=!1:(Gl=e=!0,(l===2||l===9||l===3||l===6)&&(l=un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tf(t,e)):l0(t)}function l0(e){var t=e;do{if((t.flags&32768)!==0){Tf(t,Gl);return}e=t.return;var n=m2(t.alternate,t,pl);if(n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);pt===0&&(pt=5)}function Tf(e,t){do{var n=b2(e.alternate,e);if(n!==null){n.flags&=32767,qe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=n}while(e!==null);pt=6,qe=null}function Ef(e,t,n,l,u,x,S,A,U){e.cancelPendingCommit=null;do a0();while(At!==0);if((et&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(x=t.lanes|t.childLanes,x|=pc,qt(e,n,x,S,A,U),e===xt&&(qe=xt=null,He=0),Ja=t,kl=e,yl=n,zu=x,Du=u,Sf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D2(ll,function(){return kf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,u=T.p,T.p=2,S=et,et|=4;try{g2(e,t,n)}finally{et=S,T.p=u,z.T=l}}At=1,Bf(),Gf(),qf()}}function Bf(){if(At===1){At=0;var e=kl,t=Ja,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var l=T.p;T.p=2;var u=et;et|=4;try{hf(t,e);var x=Uu,S=vx(e.containerInfo),A=x.focusedElem,U=x.selectionRange;if(S!==A&&A&&A.ownerDocument&&gx(A.ownerDocument.documentElement,A)){if(U!==null&&hc(A)){var te=U.start,ie=U.end;if(ie===void 0&&(ie=te),"selectionStart"in A)A.selectionStart=te,A.selectionEnd=Math.min(ie,A.value.length);else{var ue=A.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),me=A.textContent.length,je=Math.min(U.start,me),st=U.end===void 0?je:Math.min(U.end,me);!ae.extend&&je>st&&(S=st,st=je,je=S);var F=bx(A,je),J=bx(A,st);if(F&&J&&(ae.rangeCount!==1||ae.anchorNode!==F.node||ae.anchorOffset!==F.offset||ae.focusNode!==J.node||ae.focusOffset!==J.offset)){var ee=ue.createRange();ee.setStart(F.node,F.offset),ae.removeAllRanges(),je>st?(ae.addRange(ee),ae.extend(J.node,J.offset)):(ee.setEnd(J.node,J.offset),ae.addRange(ee))}}}}for(ue=[],ae=A;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var re=ue[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}b0=!!Yu,Uu=Yu=null}finally{et=u,T.p=l,z.T=n}}e.current=t,At=2}}function Gf(){if(At===2){At=0;var e=kl,t=Ja,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var l=T.p;T.p=2;var u=et;et|=4;try{sf(e,t.alternate,t)}finally{et=u,T.p=l,z.T=n}}At=3}}function qf(){if(At===4||At===3){At=0,Jn();var e=kl,t=Ja,n=yl,l=Sf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,Ja=kl=null,Rf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Rl=null),ht(n),t=t.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Rn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,u=T.p,T.p=2,z.T=null;try{for(var x=e.onRecoverableError,S=0;S<l.length;S++){var A=l[S];x(A.value,{componentStack:A.stack})}}finally{z.T=t,T.p=u}}(yl&3)!==0&&a0(),$n(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Nu?Oi++:(Oi=0,Nu=e):Oi=0,Hi(0)}}function Rf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_i(t)))}function a0(){return Bf(),Gf(),qf(),kf()}function kf(){if(At!==5)return!1;var e=kl,t=zu;zu=0;var n=ht(yl),l=z.T,u=T.p;try{T.p=32>n?32:n,z.T=null,n=Du,Du=null;var x=kl,S=yl;if(At=0,Ja=kl=null,yl=0,(et&6)!==0)throw Error(r(331));var A=et;if(et|=4,pf(x.current),bf(x,x.current,S,n),et=A,Hi(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Rn,x)}catch{}return!0}finally{T.p=u,z.T=l,Rf(e,t)}}function If(e,t,n){t=Cn(n,t),t=cu(e.stateNode,t,2),e=Ll(e,t,2),e!==null&&(Ae(e,2),$n(e))}function it(e,t,n){if(e.tag===3)If(e,e,n);else for(;t!==null;){if(t.tag===3){If(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rl===null||!Rl.has(l))){e=Cn(n,e),n=Io(2),l=Ll(t,n,2),l!==null&&(Oo(n,l,t,e),Ae(l,2),$n(l));break}}t=t.return}}function Tu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new y2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(wu=!0,u.add(n),e=j2.bind(null,e,t,n),t.then(e,e))}function j2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,xt===e&&(He&n)===n&&(pt===4||pt===3&&(He&62914560)===He&&300>Qe()-Fr?(et&2)===0&&Va(e,0):ju|=n,Xa===He&&(Xa=0)),$n(e)}function Of(e,t){t===0&&(t=Ze()),e=na(e,t),e!==null&&(Ae(e,t),$n(e))}function M2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Of(e,n)}function z2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Of(e,n)}function D2(e,t){return Ut(e,t)}var i0=null,Qa=null,Eu=!1,r0=!1,Bu=!1,Ol=0;function $n(e){e!==Qa&&e.next===null&&(Qa===null?i0=Qa=e:Qa=Qa.next=e),r0=!0,Eu||(Eu=!0,A2())}function Hi(e,t){if(!Bu&&r0){Bu=!0;do for(var n=!1,l=i0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var x=0;else{var S=l.suspendedLanes,A=l.pingedLanes;x=(1<<31-ke(42|e)+1)-1,x&=u&~(S&~A),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Kf(l,x))}else x=He,x=_e(l,l===xt?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||Pe(l,x)||(n=!0,Kf(l,x));l=l.next}while(n);Bu=!1}}function N2(){Hf()}function Hf(){r0=Eu=!1;var e=0;Ol!==0&&O2()&&(e=Ol);for(var t=Qe(),n=null,l=i0;l!==null;){var u=l.next,x=Yf(l,t);x===0?(l.next=null,n===null?i0=u:n.next=u,u===null&&(Qa=n)):(n=l,(e!==0||(x&3)!==0)&&(r0=!0)),l=u}At!==0&&At!==5||Hi(e),Ol!==0&&(Ol=0)}function Yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var S=31-ke(x),A=1<<S,U=u[S];U===-1?((A&n)===0||(A&l)!==0)&&(u[S]=Fe(A,t)):U<=t&&(e.expiredLanes|=A),x&=~A}if(t=xt,n=He,n=_e(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&an(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Pe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&an(l),ht(n)){case 2:case 8:n=nl;break;case 32:n=ll;break;case 268435456:n=Wl;break;default:n=ll}return l=Uf.bind(null,e),n=Ut(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&an(l),e.callbackPriority=2,e.callbackNode=null,2}function Uf(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(a0()&&e.callbackNode!==n)return null;var l=He;return l=_e(e,e===xt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(wf(e,l,t),Yf(e,Qe()),e.callbackNode!=null&&e.callbackNode===n?Uf.bind(null,e):null)}function Kf(e,t){if(a0())return null;wf(e,t,!0)}function A2(){Y2(function(){(et&6)!==0?Ut(Sl,N2):Hf()})}function Gu(){if(Ol===0){var e=Ga;e===0&&(e=ye,ye<<=1,(ye&261888)===0&&(ye=256)),Ol=e}return Ol}function Zf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hr(""+e)}function Xf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function L2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var x=Zf((u[Kt]||null).action),S=l.submitter;S&&(t=(t=S[Kt]||null)?Zf(t.formAction):S.getAttribute("formAction"),t!==null&&(x=t,S=null));var A=new vr("action","action",null,l,u);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ol!==0){var U=S?Xf(u,S):new FormData(u);tu(n,{pending:!0,data:U,method:u.method,action:x},null,U)}}else typeof x=="function"&&(A.preventDefault(),U=S?Xf(u,S):new FormData(u),tu(n,{pending:!0,data:U,method:u.method,action:x},x,U))},currentTarget:u}]})}}for(var qu=0;qu<vc.length;qu++){var Ru=vc[qu],T2=Ru.toLowerCase(),E2=Ru[0].toUpperCase()+Ru.slice(1);In(T2,"on"+E2)}In(_x,"onAnimationEnd"),In(Sx,"onAnimationIteration"),In(Cx,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(W1,"onTransitionRun"),In(Q1,"onTransitionStart"),In(P1,"onTransitionCancel"),In(wx,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),Fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function Jf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var S=l.length-1;0<=S;S--){var A=l[S],U=A.instance,te=A.currentTarget;if(A=A.listener,U!==x&&u.isPropagationStopped())break e;x=A,u.currentTarget=te;try{x(u)}catch(ie){_r(ie)}u.currentTarget=null,x=U}else for(S=0;S<l.length;S++){if(A=l[S],U=A.instance,te=A.currentTarget,A=A.listener,U!==x&&u.isPropagationStopped())break e;x=A,u.currentTarget=te;try{x(u)}catch(ie){_r(ie)}u.currentTarget=null,x=U}}}}function Re(e,t){var n=t[ui];n===void 0&&(n=t[ui]=new Set);var l=e+"__bubble";n.has(l)||(Vf(t,e,2,!1),n.add(l))}function ku(e,t,n){var l=0;t&&(l|=4),Vf(n,e,l,t)}var c0="_reactListening"+Math.random().toString(36).slice(2);function Iu(e){if(!e[c0]){e[c0]=!0,Wn.forEach(function(n){n!=="selectionchange"&&(B2.has(n)||ku(n,!1,e),ku(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[c0]||(t[c0]=!0,ku("selectionchange",!1,t))}}function Vf(e,t,n,l){switch(Cd(t)){case 2:var u=uh;break;case 8:u=sh;break;default:u=es}n=u.bind(null,t,n,e),u=void 0,!ic||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Ou(e,t,n,l,u){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var A=l.stateNode.containerInfo;if(A===u)break;if(S===4)for(S=l.return;S!==null;){var U=S.tag;if((U===3||U===4)&&S.stateNode.containerInfo===u)return;S=S.return}for(;A!==null;){if(S=de(A),S===null)return;if(U=S.tag,U===5||U===6||U===26||U===27){l=x=S;continue e}A=A.parentNode}}l=l.return}Ps(function(){var te=x,ie=lc(n),ue=[];e:{var ne=jx.get(e);if(ne!==void 0){var ae=vr,me=e;switch(e){case"keypress":if(br(n)===0)break e;case"keydown":case"keyup":ae=z1;break;case"focusin":me="focus",ae=sc;break;case"focusout":me="blur",ae=sc;break;case"beforeblur":case"afterblur":ae=sc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=m1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=A1;break;case _x:case Sx:case Cx:ae=v1;break;case wx:ae=T1;break;case"scroll":case"scrollend":ae=d1;break;case"wheel":ae=B1;break;case"copy":case"cut":case"paste":ae=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=nx;break;case"toggle":case"beforetoggle":ae=q1}var je=(t&4)!==0,st=!je&&(e==="scroll"||e==="scrollend"),F=je?ne!==null?ne+"Capture":null:ne;je=[];for(var J=te,ee;J!==null;){var re=J;if(ee=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||ee===null||F===null||(re=xi(J,F),re!=null&&je.push(Ui(J,re,ee))),st)break;J=J.return}0<je.length&&(ne=new ae(ne,me,null,n,ie),ue.push({event:ne,listeners:je}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&n!==nc&&(me=n.relatedTarget||n.fromElement)&&(de(me)||me[Jt]))break e;if((ae||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(me=n.relatedTarget||n.toElement,ae=te,me=me?de(me):null,me!==null&&(st=f(me),je=me.tag,me!==st||je!==5&&je!==27&&je!==6)&&(me=null)):(ae=null,me=te),ae!==me)){if(je=ex,re="onMouseLeave",F="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(je=nx,re="onPointerLeave",F="onPointerEnter",J="pointer"),st=ae==null?ne:Ie(ae),ee=me==null?ne:Ie(me),ne=new je(re,J+"leave",ae,n,ie),ne.target=st,ne.relatedTarget=ee,re=null,de(ie)===te&&(je=new je(F,J+"enter",me,n,ie),je.target=ee,je.relatedTarget=st,re=je),st=re,ae&&me)t:{for(je=G2,F=ae,J=me,ee=0,re=F;re;re=je(re))ee++;re=0;for(var Se=J;Se;Se=je(Se))re++;for(;0<ee-re;)F=je(F),ee--;for(;0<re-ee;)J=je(J),re--;for(;ee--;){if(F===J||J!==null&&F===J.alternate){je=F;break t}F=je(F),J=je(J)}je=null}else je=null;ae!==null&&Wf(ue,ne,ae,je,!1),me!==null&&st!==null&&Wf(ue,st,me,je,!0)}}e:{if(ne=te?Ie(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Je=xx;else if(ux(ne))if(ox)Je=X1;else{Je=K1;var be=U1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&tc(te.elementType)&&(Je=xx):Je=Z1;if(Je&&(Je=Je(e,te))){sx(ue,Je,n,ie);break e}be&&be(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&ec(ne,"number",ne.value)}switch(be=te?Ie(te):window,e){case"focusin":(ux(be)||be.contentEditable==="true")&&(za=be,mc=te,vi=null);break;case"focusout":vi=mc=za=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,px(ue,n,ie);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":px(ue,n,ie)}var Te;if(oc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Ma?rx(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(lx&&n.locale!=="ko"&&(Ma||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Ma&&(Te=Fs()):(wl=ie,rc="value"in wl?wl.value:wl.textContent,Ma=!0)),be=u0(te,Ye),0<be.length&&(Ye=new tx(Ye,e,null,n,ie),ue.push({event:Ye,listeners:be}),Te?Ye.data=Te:(Te=cx(n),Te!==null&&(Ye.data=Te)))),(Te=k1?I1(e,n):O1(e,n))&&(Ye=u0(te,"onBeforeInput"),0<Ye.length&&(be=new tx("onBeforeInput","beforeinput",null,n,ie),ue.push({event:be,listeners:Ye}),be.data=Te)),L2(ue,e,te,n,ie)}Jf(ue,t)})}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function u0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,x=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||x===null||(u=xi(e,n),u!=null&&l.unshift(Ui(e,u,x)),u=xi(e,t),u!=null&&l.push(Ui(e,u,x))),e.tag===3)return l;e=e.return}return[]}function G2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wf(e,t,n,l,u){for(var x=t._reactName,S=[];n!==null&&n!==l;){var A=n,U=A.alternate,te=A.stateNode;if(A=A.tag,U!==null&&U===l)break;A!==5&&A!==26&&A!==27||te===null||(U=te,u?(te=xi(n,x),te!=null&&S.unshift(Ui(n,te,U))):u||(te=xi(n,x),te!=null&&S.push(Ui(n,te,U)))),n=n.return}S.length!==0&&e.push({event:t,listeners:S})}var q2=/\r\n?/g,R2=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(q2,`
`).replace(R2,"")}function Pf(e,t){return t=Qf(t),Qf(e)===t}function ut(e,t,n,l,u,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ca(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ca(e,""+l);break;case"className":fr(e,"class",l);break;case"tabIndex":fr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(e,n,l);break;case"style":Ws(e,l,x);break;case"data":if(t!=="object"){fr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=hr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&ut(e,t,"name",u.name,u,null),ut(e,t,"formEncType",u.formEncType,u,null),ut(e,t,"formMethod",u.formMethod,u,null),ut(e,t,"formTarget",u.formTarget,u,null)):(ut(e,t,"encType",u.encType,u,null),ut(e,t,"method",u.method,u,null),ut(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=hr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=il);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=hr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),or(e,"popover",l);break;case"xlinkActuate":al(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":al(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":al(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":al(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":al(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":al(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":al(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":al(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":al(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=o1.get(n)||n,or(e,n,l))}}function Hu(e,t,n,l,u,x){switch(n){case"style":Ws(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Ca(e,l):(typeof l=="number"||typeof l=="bigint")&&Ca(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=il);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xr.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),x=e[Kt]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,u),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):or(e,n,l)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,u=!1,x;for(x in n)if(n.hasOwnProperty(x)){var S=n[x];if(S!=null)switch(x){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ut(e,t,x,S,n,null)}}u&&ut(e,t,"srcSet",n.srcSet,n,null),l&&ut(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var A=x=S=u=null,U=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":u=ie;break;case"type":S=ie;break;case"checked":U=ie;break;case"defaultChecked":te=ie;break;case"value":x=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,t));break;default:ut(e,t,l,ie,n,null)}}Zs(e,x,A,U,te,S,u,!1);return;case"select":Re("invalid",e),l=S=x=null;for(u in n)if(n.hasOwnProperty(u)&&(A=n[u],A!=null))switch(u){case"value":x=A;break;case"defaultValue":S=A;break;case"multiple":l=A;default:ut(e,t,u,A,n,null)}t=x,n=S,e.multiple=!!l,t!=null?Sa(e,!!l,t,!1):n!=null&&Sa(e,!!l,n,!0);return;case"textarea":Re("invalid",e),x=u=l=null;for(S in n)if(n.hasOwnProperty(S)&&(A=n[S],A!=null))switch(S){case"value":l=A;break;case"defaultValue":u=A;break;case"children":x=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:ut(e,t,S,A,n,null)}Js(e,l,u,x);return;case"option":for(U in n)n.hasOwnProperty(U)&&(l=n[U],l!=null)&&(U==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(e,t,U,l,n,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<Yi.length;l++)Re(Yi[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ut(e,t,te,l,n,null)}return;default:if(tc(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Hu(e,t,ie,l,n,void 0));return}}for(A in n)n.hasOwnProperty(A)&&(l=n[A],l!=null&&ut(e,t,A,l,n,null))}function k2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,x=null,S=null,A=null,U=null,te=null,ie=null;for(ae in n){var ue=n[ae];if(n.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":U=ue;default:l.hasOwnProperty(ae)||ut(e,t,ae,null,l,ue)}}for(var ne in l){var ae=l[ne];if(ue=n[ne],l.hasOwnProperty(ne)&&(ae!=null||ue!=null))switch(ne){case"type":x=ae;break;case"name":u=ae;break;case"checked":te=ae;break;case"defaultChecked":ie=ae;break;case"value":S=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,t));break;default:ae!==ue&&ut(e,t,ne,ae,l,ue)}}$0(e,S,A,U,te,ie,x,u);return;case"select":ae=S=A=ne=null;for(x in n)if(U=n[x],n.hasOwnProperty(x)&&U!=null)switch(x){case"value":break;case"multiple":ae=U;default:l.hasOwnProperty(x)||ut(e,t,x,null,l,U)}for(u in l)if(x=l[u],U=n[u],l.hasOwnProperty(u)&&(x!=null||U!=null))switch(u){case"value":ne=x;break;case"defaultValue":A=x;break;case"multiple":S=x;default:x!==U&&ut(e,t,u,x,l,U)}t=A,n=S,l=ae,ne!=null?Sa(e,!!n,ne,!1):!!l!=!!n&&(t!=null?Sa(e,!!n,t,!0):Sa(e,!!n,n?[]:"",!1));return;case"textarea":ae=ne=null;for(A in n)if(u=n[A],n.hasOwnProperty(A)&&u!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ut(e,t,A,null,l,u)}for(S in l)if(u=l[S],x=n[S],l.hasOwnProperty(S)&&(u!=null||x!=null))switch(S){case"value":ne=u;break;case"defaultValue":ae=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==x&&ut(e,t,S,u,l,x)}Xs(e,ne,ae);return;case"option":for(var me in n)ne=n[me],n.hasOwnProperty(me)&&ne!=null&&!l.hasOwnProperty(me)&&(me==="selected"?e.selected=!1:ut(e,t,me,null,l,ne));for(U in l)ne=l[U],ae=n[U],l.hasOwnProperty(U)&&ne!==ae&&(ne!=null||ae!=null)&&(U==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":ut(e,t,U,ne,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in n)ne=n[je],n.hasOwnProperty(je)&&ne!=null&&!l.hasOwnProperty(je)&&ut(e,t,je,null,l,ne);for(te in l)if(ne=l[te],ae=n[te],l.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,t));break;default:ut(e,t,te,ne,l,ae)}return;default:if(tc(t)){for(var st in n)ne=n[st],n.hasOwnProperty(st)&&ne!==void 0&&!l.hasOwnProperty(st)&&Hu(e,t,st,void 0,l,ne);for(ie in l)ne=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||ne===ae||ne===void 0&&ae===void 0||Hu(e,t,ie,ne,l,ae);return}}for(var F in n)ne=n[F],n.hasOwnProperty(F)&&ne!=null&&!l.hasOwnProperty(F)&&ut(e,t,F,null,l,ne);for(ue in l)ne=l[ue],ae=n[ue],!l.hasOwnProperty(ue)||ne===ae||ne==null&&ae==null||ut(e,t,ue,ne,l,ae)}function Ff(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],x=u.transferSize,S=u.initiatorType,A=u.duration;if(x&&A&&Ff(S)){for(S=0,A=u.responseEnd,l+=1;l<n.length;l++){var U=n[l],te=U.startTime;if(te>A)break;var ie=U.transferSize,ue=U.initiatorType;ie&&Ff(ue)&&(U=U.responseEnd,S+=ie*(U<A?1:(A-te)/(U-te)))}if(--l,t+=8*(x+S)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yu=null,Uu=null;function s0(e){return e.nodeType===9?e:e.ownerDocument}function $f(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ed(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zu=null;function O2(){var e=window.event;return e&&e.type==="popstate"?e===Zu?!1:(Zu=e,!0):(Zu=null,!1)}var td=typeof setTimeout=="function"?setTimeout:void 0,H2=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(e){return nd.resolve(null).then(e).catch(U2)}:td;function U2(e){setTimeout(function(){throw e})}function Hl(e){return e==="head"}function ld(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ei(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ki(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ki(n);for(var x=n.firstChild;x;){var S=x.nextSibling,A=x.nodeName;x[Pl]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=S}}else n==="body"&&Ki(e.ownerDocument.body);n=u}while(n);ei(t)}function ad(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Xu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Xu(n),si(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function K2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Pl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function Z2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function id(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function Ju(e){return e.data==="$?"||e.data==="$~"}function Vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Wu=null;function rd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function cd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ud(e,t,n){switch(t=s0(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ki(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);si(e)}var Nn=new Map,sd=new Set;function x0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _l=T.d;T.d={f:J2,r:V2,D:W2,C:Q2,L:P2,m:F2,X:eh,S:$2,M:th};function J2(){var e=_l.f(),t=t0();return e||t}function V2(e){var t=ve(e);t!==null&&t.tag===5&&t.type==="form"?jo(t):_l.r(e)}var Pa=typeof document>"u"?null:document;function xd(e,t,n){var l=Pa;if(l&&typeof t=="string"&&t){var u=_n(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),sd.has(u)||(sd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Ot(t,"link",e),Oe(t),l.head.appendChild(t)))}}function W2(e){_l.D(e),xd("dns-prefetch",e,null)}function Q2(e,t){_l.C(e,t),xd("preconnect",e,t)}function P2(e,t,n){_l.L(e,t,n);var l=Pa;if(l&&e&&t){var u='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+_n(n.imageSizes)+'"]')):u+='[href="'+_n(e)+'"]';var x=u;switch(t){case"style":x=Fa(e);break;case"script":x=$a(e)}Nn.has(x)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Nn.set(x,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Zi(x))||t==="script"&&l.querySelector(Xi(x))||(t=l.createElement("link"),Ot(t,"link",e),Oe(t),l.head.appendChild(t)))}}function F2(e,t){_l.m(e,t);var n=Pa;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(e)+'"]',x=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=$a(e)}if(!Nn.has(x)&&(e=_({rel:"modulepreload",href:e},t),Nn.set(x,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xi(x)))return}l=n.createElement("link"),Ot(l,"link",e),Oe(l),n.head.appendChild(l)}}}function $2(e,t,n){_l.S(e,t,n);var l=Pa;if(l&&e){var u=Nt(l).hoistableStyles,x=Fa(e);t=t||"default";var S=u.get(x);if(!S){var A={loading:0,preload:null};if(S=l.querySelector(Zi(x)))A.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nn.get(x))&&Qu(e,n);var U=S=l.createElement("link");Oe(U),Ot(U,"link",e),U._p=new Promise(function(te,ie){U.onload=te,U.onerror=ie}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,o0(S,t,l)}S={type:"stylesheet",instance:S,count:1,state:A},u.set(x,S)}}}function eh(e,t){_l.X(e,t);var n=Pa;if(n&&e){var l=Nt(n).hoistableScripts,u=$a(e),x=l.get(u);x||(x=n.querySelector(Xi(u)),x||(e=_({src:e,async:!0},t),(t=Nn.get(u))&&Pu(e,t),x=n.createElement("script"),Oe(x),Ot(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function th(e,t){_l.M(e,t);var n=Pa;if(n&&e){var l=Nt(n).hoistableScripts,u=$a(e),x=l.get(u);x||(x=n.querySelector(Xi(u)),x||(e=_({src:e,async:!0,type:"module"},t),(t=Nn.get(u))&&Pu(e,t),x=n.createElement("script"),Oe(x),Ot(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function od(e,t,n,l){var u=(u=ce.current)?x0(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fa(n.href),n=Nt(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fa(n.href);var x=Nt(u).hoistableStyles,S=x.get(e);if(S||(u=u.ownerDocument||u,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,S),(x=u.querySelector(Zi(e)))&&!x._p&&(S.instance=x,S.state.loading=5),Nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nn.set(e,n),x||nh(u,e,n,S.state))),t&&l===null)throw Error(r(528,""));return S}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$a(n),n=Nt(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Fa(e){return'href="'+_n(e)+'"'}function Zi(e){return'link[rel="stylesheet"]['+e+"]"}function fd(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function nh(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ot(t,"link",n),Oe(t),e.head.appendChild(t))}function $a(e){return'[src="'+_n(e)+'"]'}function Xi(e){return"script[async]"+e}function dd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+_n(n.href)+'"]');if(l)return t.instance=l,Oe(l),l;var u=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Oe(l),Ot(l,"style",u),o0(l,n.precedence,e),t.instance=l;case"stylesheet":u=Fa(n.href);var x=e.querySelector(Zi(u));if(x)return t.state.loading|=4,t.instance=x,Oe(x),x;l=fd(n),(u=Nn.get(u))&&Qu(l,u),x=(e.ownerDocument||e).createElement("link"),Oe(x);var S=x;return S._p=new Promise(function(A,U){S.onload=A,S.onerror=U}),Ot(x,"link",l),t.state.loading|=4,o0(x,n.precedence,e),t.instance=x;case"script":return x=$a(n.src),(u=e.querySelector(Xi(x)))?(t.instance=u,Oe(u),u):(l=n,(u=Nn.get(x))&&(l=_({},n),Pu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Oe(u),Ot(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,o0(l,n.precedence,e));return t.instance}function o0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,x=u,S=0;S<l.length;S++){var A=l[S];if(A.dataset.precedence===t)x=A;else if(x!==u)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Pu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var f0=null;function hd(e,t,n){if(f0===null){var l=new Map,u=f0=new Map;u.set(n,l)}else u=f0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var x=n[u];if(!(x[Pl]||x[gt]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var S=x.getAttribute(t)||"";S=e+S;var A=l.get(S);A?A.push(x):l.set(S,[x])}}return l}function md(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function lh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ah(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Fa(l.href),x=t.querySelector(Zi(u));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=d0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,Oe(x);return}x=t.ownerDocument||t,l=fd(l),(u=Nn.get(u))&&Qu(l,u),x=x.createElement("link"),Oe(x);var S=x;S._p=new Promise(function(A,U){S.onload=A,S.onerror=U}),Ot(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=d0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Fu=0;function ih(e,t){return e.stylesheets&&e.count===0&&m0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&m0(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&Fu===0&&(Fu=62500*I2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&m0(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>Fu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function d0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)m0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var h0=null;function m0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,h0=new Map,t.forEach(rh,e),h0=null,d0.call(e))}function rh(e,t){if(!(t.state.loading&4)){var n=h0.get(e);if(n)var l=n.get(null);else{n=new Map,h0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<u.length;x++){var S=u[x];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(n.set(S.dataset.precedence,S),l=S)}l&&n.set(null,l)}u=t.instance,S=u.getAttribute("data-precedence"),x=n.get(S)||l,x===l&&n.set(null,u),n.set(S,u),this.count++,l=d0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),x?x.parentNode.insertBefore(u,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ji={$$typeof:G,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function ch(e,t,n,l,u,x,S,A,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xe(0),this.hiddenUpdates=Xe(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=x,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function gd(e,t,n,l,u,x,S,A,U,te,ie,ue){return e=new ch(e,t,n,S,U,te,ie,ue,A),t=1,x===!0&&(t|=24),x=cn(3,null,null,t),e.current=x,x.stateNode=e,t=Lc(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},Gc(x),e}function vd(e){return e?(e=Aa,e):Aa}function pd(e,t,n,l,u,x){u=vd(u),l.context===null?l.context=u:l.pendingContext=u,l=Al(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=Ll(e,l,t),n!==null&&(nn(n,e,t),ji(n,e,t))}function yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $u(e,t){yd(e,t),(e=e.alternate)&&yd(e,t)}function _d(e){if(e.tag===13||e.tag===31){var t=na(e,67108864);t!==null&&nn(t,e,67108864),$u(e,67108864)}}function Sd(e){if(e.tag===13||e.tag===31){var t=fn();t=nt(t);var n=na(e,t);n!==null&&nn(n,e,t),$u(e,t)}}var b0=!0;function uh(e,t,n,l){var u=z.T;z.T=null;var x=T.p;try{T.p=2,es(e,t,n,l)}finally{T.p=x,z.T=u}}function sh(e,t,n,l){var u=z.T;z.T=null;var x=T.p;try{T.p=8,es(e,t,n,l)}finally{T.p=x,z.T=u}}function es(e,t,n,l){if(b0){var u=ts(l);if(u===null)Ou(e,t,l,g0,n),wd(e,l);else if(oh(u,e,t,n,l))l.stopPropagation();else if(wd(e,l),t&4&&-1<xh.indexOf(e)){for(;u!==null;){var x=ve(u);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var S=Me(x.pendingLanes);if(S!==0){var A=x;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var U=1<<31-ke(S);A.entanglements[1]|=U,S&=~U}$n(x),(et&6)===0&&($r=Qe()+500,Hi(0))}}break;case 31:case 13:A=na(x,2),A!==null&&nn(A,x,2),t0(),$u(x,2)}if(x=ts(l),x===null&&Ou(e,t,l,g0,n),x===u)break;u=x}u!==null&&l.stopPropagation()}else Ou(e,t,l,null,n)}}function ts(e){return e=lc(e),ns(e)}var g0=null;function ns(e){if(g0=null,e=de(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=b(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return g0=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vn()){case Sl:return 2;case nl:return 8;case ll:case Cl:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var ls=!1,Yl=null,Ul=null,Kl=null,Vi=new Map,Wi=new Map,Zl=[],xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wd(e,t){switch(e){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":Ul=null;break;case"mouseover":case"mouseout":Kl=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(t.pointerId)}}function Qi(e,t,n,l,u,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[u]},t!==null&&(t=ve(t),t!==null&&_d(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function oh(e,t,n,l,u){switch(t){case"focusin":return Yl=Qi(Yl,e,t,n,l,u),!0;case"dragenter":return Ul=Qi(Ul,e,t,n,l,u),!0;case"mouseover":return Kl=Qi(Kl,e,t,n,l,u),!0;case"pointerover":var x=u.pointerId;return Vi.set(x,Qi(Vi.get(x)||null,e,t,n,l,u)),!0;case"gotpointercapture":return x=u.pointerId,Wi.set(x,Qi(Wi.get(x)||null,e,t,n,l,u)),!0}return!1}function jd(e){var t=de(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=b(n),t!==null){e.blockedOn=t,Ql(e.priority,function(){Sd(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,Ql(e.priority,function(){Sd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function v0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ts(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);nc=l,n.target.dispatchEvent(l),nc=null}else return t=ve(n),t!==null&&_d(t),e.blockedOn=n,!1;t.shift()}return!0}function Md(e,t,n){v0(e)&&n.delete(t)}function fh(){ls=!1,Yl!==null&&v0(Yl)&&(Yl=null),Ul!==null&&v0(Ul)&&(Ul=null),Kl!==null&&v0(Kl)&&(Kl=null),Vi.forEach(Md),Wi.forEach(Md)}function p0(e,t){e.blockedOn===t&&(e.blockedOn=null,ls||(ls=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,fh)))}var y0=null;function zd(e){y0!==e&&(y0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){y0===e&&(y0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(ns(l||n)===null)continue;break}var x=ve(n);x!==null&&(e.splice(t,3),t-=3,tu(x,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ei(e){function t(U){return p0(U,e)}Yl!==null&&p0(Yl,e),Ul!==null&&p0(Ul,e),Kl!==null&&p0(Kl,e),Vi.forEach(t),Wi.forEach(t);for(var n=0;n<Zl.length;n++){var l=Zl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Zl.length&&(n=Zl[0],n.blockedOn===null);)jd(n),n.blockedOn===null&&Zl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],x=n[l+1],S=u[Kt]||null;if(typeof x=="function")S||zd(n);else if(S){var A=null;if(x&&x.hasAttribute("formAction")){if(u=x,S=x[Kt]||null)A=S.formAction;else if(ns(u)!==null)continue}else A=S.action;typeof A=="function"?n[l+1]=A:(n.splice(l,3),l-=3),zd(n)}}}function Dd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(S){return u=S})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function as(e){this._internalRoot=e}_0.prototype.render=as.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=fn();pd(n,l,e,t,null,null)},_0.prototype.unmount=as.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pd(e.current,2,null,e,null,null),t0(),t[Jt]=null}};function _0(e){this._internalRoot=e}_0.prototype.unstable_scheduleHydration=function(e){if(e){var t=kn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zl.length&&t!==0&&t<Zl[n].priority;n++);Zl.splice(n,0,e),n===0&&jd(e)}};var Nd=i.version;if(Nd!=="19.2.3")throw Error(r(527,Nd,"19.2.3"));T.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var dh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S0.isDisabled&&S0.supportsFiber)try{Rn=S0.inject(dh),Gt=S0}catch{}}return Fi.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,l="",u=Go,x=qo,S=Ro;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError)),t=gd(e,1,!1,null,null,n,l,null,u,x,S,Dd),e[Jt]=t.current,Iu(e),new as(t)},Fi.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var l=!1,u="",x=Go,S=qo,A=Ro,U=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(S=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.formState!==void 0&&(U=n.formState)),t=gd(e,1,!0,t,n??null,l,u,U,x,S,A,Dd),t.context=vd(null),n=t.current,l=fn(),l=nt(l),u=Al(l),u.callback=null,Ll(n,u,l),n=l,t.current.lanes=n,Ae(t,n),$n(t),e[Jt]=t.current,Iu(e),new _0(t)},Fi.version="19.2.3",Fi}var Id;function Ch(){if(Id)return cs.exports;Id=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),cs.exports=Sh(),cs.exports}var wh=Ch();const ya=Yn;(function(c,i){const a=Yn,r=c();for(;;)try{if(-parseInt(a(433))/1+-parseInt(a(437))/2+-parseInt(a(417))/3+parseInt(a(426))/4*(parseInt(a(421))/5)+-parseInt(a(431))/6+-parseInt(a(429))/7*(-parseInt(a(416))/8)+parseInt(a(414))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(z0,751768);const jh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),ds=jh(void 0,function(){const c=Yn;return ds[c(419)]().search("(((.+)+)+)+$").toString().constructor(ds)[c(438)](c(436))});ds();const M0=()=>new Date().toISOString(),Ht=c=>c+"_"+Math.random().toString(36)[ya(430)](2,10),Ce=(c,i,a)=>Math[ya(422)](i,Math.min(a,c)),Jl=c=>{const i=ya;return{nRmci:function(r,o){return r===o}}[i(420)](c,void 0)||c===null?c:JSON[i(412)](JSON[i(418)](c))},er=c=>Math.floor(c*.7/5)*5;function va(c,i){const a=ya;return c[a(435)]?c[a(435)].find(r=>r.flowerIds.includes(i))??null:null}function Mh(c,i){const a=ya,r={wQqKe:function(f,b,y){return f(b,y)}},o=r.wQqKe(va,c,i);return o?o[a(427)]:[i]}function z0(){const c=["mJmYnJK4owPbs09ArG","C2XPy2u","mtqWoty3me5RrfnOvG","zMLSDgvY","mtm0nJi3me5yAwvdBa","zMLUza","z3jVDxbZ","kcGOlISPkYKRksSK","mJa1mdm5nLPmCvr5Ba","C2vHCMnO","BgvUz3rO","CgfYC2u","BgvHzKLKCW","mtm2nZq3otHWAvH6sfK","BgvHzKDYB3vWCW","mJrIEenzD0O","odmZodyYCLr0BwDu","C3rYAw5NAwz5","Dg9tDhjPBMC","BLjTy2K","mtvLr1HLuwC","Bwf4","AufNDw0","Cg9ZAxrPB24","BgvHDMvZ","mtq5mJu3nKzpuMfJDq","zMXVD2vYswrZ","CMvKDwnL"];return z0=function(){return c},z0()}function ii(c,i){const a=ya;return c[a(415)]?c[a(415)].find(r=>r[a(413)].includes(i))??null:null}function Yn(c,i){c=c-412;const a=z0();let r=a[c];if(Yn.PhvPSl===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Yn.KQpJYb=o,Yn.PPTkZV={},Yn.PhvPSl=!0}const f=a[0],b=c+f,y=Yn.PPTkZV[b];if(y)r=y;else{const h=function(d){this.ELlzIf=d,this.uLOnjP=[1,0,0],this.cPvgWn=function(){return"newState"},this.WhHArb="\\w+ *\\(\\) *{\\w+ *",this.sHPVEV=`['|"].+['|"];? *}`};h.prototype.jsghvT=function(){const d=new RegExp(this.WhHArb+this.sHPVEV),v=d.test(this.cPvgWn.toString())?--this.uLOnjP[1]:--this.uLOnjP[0];return this.mrifNx(v)},h.prototype.mrifNx=function(d){return~d?this.eAnsxJ(this.ELlzIf):d},h.prototype.eAnsxJ=function(d){for(let v=0,_=this.uLOnjP.length;v<_;v++)this.uLOnjP.push(Math.round(Math.random())),_=this.uLOnjP.length;return d(this.uLOnjP[0])},new h(Yn).jsghvT(),r=Yn.KQpJYb(r),Yn.PPTkZV[b]=r}return r}function zh(c,i){const a=ya,r={iAgum:function(h,d){return h===d},JZADp:function(h,d){return h/d}},o=(c[a(415)]??[])[a(434)](h=>h.id===i);if(!o||r[a(423)](o[a(413)][a(439)],0))return{x:0,y:0};const f=o[a(413)].map(h=>(c[a(425)]??[]).find(d=>d.id===h))[a(432)](h=>!!h);if(f.length===0)return{x:0,y:0};const b=f.reduce((h,d)=>h+d[a(424)].x,0),y=f[a(428)]((h,d)=>h+d.position.y,0);return{x:r.JZADp(b,f[a(439)]),y:y/f.length}}function Od(c,i){const a=ii(c,i);return a?a.leafIds:[i]}const lr=dn;(function(c,i){const a=dn,r=c();for(;;)try{if(-parseInt(a(163))/1+parseInt(a(171))/2+parseInt(a(153))/3*(parseInt(a(164))/4)+-parseInt(a(156))/5*(-parseInt(a(162))/6)+parseInt(a(174))/7+parseInt(a(142))/8*(-parseInt(a(150))/9)+parseInt(a(151))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(D0,719608);const Dh=(function(){const c=dn,i={LSTzV:function(r,o){return r!==o},eXMcP:c(179),RGGsg:"KBKkG"};let a=!0;return function(r,o){const f=c,b={oTwlR:function(y,h){return y*h},Fzdsr:function(y,h){return y*h}};if(i[f(141)](i.eXMcP,i[f(140)])){const y=a?function(){if(o){const h=o.apply(r,arguments);return o=null,h}}:function(){};return a=!1,y}else{const y=_0x46d355[f(172)](_0x4e5cec.PI/2,_0x16065d*_0x5e638f/_0xada21a),h=b[f(148)](_0x39a076,_0x115a47[f(137)](y)),d=b[f(148)](b.Fzdsr(_0x3a4326,_0xfabd8d),_0xe08d14[f(137)](y));return{diameter:_0x5c2c8c.round(_0x1740fa[f(165)](_0x51b557,b.oTwlR(2,h+d))),layerCount:_0x43befd}}}})(),hs=Dh(void 0,function(){const c=dn,i={gfkyt:"(((.+)+)+)+$"};return hs[c(186)]().search(i[c(169)]).toString().constructor(hs)[c(175)](i[c(169)])});hs();const li=2/3,Hd=.6,Nh=.25,Ah=.75;function D0(){const c=["z3jHzhvHBa","ANLNBM4","q1Lgvgi","EgzouMq","CMLlr2y","CM91BMq","Dg9tDhjPBMC","C2LU","BNLqtMS","uwH1BNu","uKDhC2C","tfnuELy","mtC0nhrSAg5LDG","ChvZAa","AfHbB1q","wKjksNG","r3nfAfi","wu5TCw0","B1r3Bfi","ze9UBxK","nta3nLbduhD1AG","ndq1nduWBvbHuMrJ","C2L6zvn0zxbnBq","mtqYndu4DfbYBLjW","vgLytxK","sgf2uKW","mtm4otv2s0fItfm","ExzcA1q","Dw5PzM9YBq","vNLpr3K","zNj4swu","AensBKy","mtu1ngXPwxblra","nJGYndaYDNr0D3f5","ngnuruX1Ca","Bwf4","u1fsvdi","z1DTrLC","svveA1C","z2zRExq","C2L6zu1Vzgu","odmXode0rw5gtKnb","BwLU","CMn1Ceq","mJa4mdG0mwPYChjpCq","C2vHCMnO","zLb1yNy","Awfsz0O","sNLOB1y","CNn3EKy"];return D0=function(){return c},D0()}function Vl(c,i,a){const r=dn,o={hXAoT:function(G,H){return G*H},RpGda:function(G,H){return G<=H},RJpVM:function(G,H){return G<=H},jygnn:r(158),Qhunu:function(G,H){return G-H},YMZec:function(G,H){return G/H},VnZEF:function(G,H){return G/H},rcupD:r(180),yvBkT:function(G,H){return G+H},CYFTb:function(G,H){return G*H},qLqHB:function(G,H){return G-H},gUJMw:function(G,H){return G/H},reFPd:function(G,H){return G+H},duVdt:function(G,H){return G/H},dqTjq:function(G,H){return G*H},fPubv:function(G,H){return G*H},VyOGy:function(G,H){return G*H},BqaqT:function(G,H){return G<H},zJzPe:function(G,H){return G*H},iYXIi:function(G,H){return G*H}},f=c/2,b=o[r(144)](i,Math.SQRT2)/2;if(o.RpGda(b,0)||o.RJpVM(f,0))return{diameter:c,layerCount:1};const y=a?.sizeMode??o[r(181)],h=a?.[r(152)]??0,d=b*o[r(139)](1,li),v=o.YMZec(Math.PI*f,2),_=a?.layerCount??Math[r(165)](1,Math.round(o.VnZEF(v,d))),N=y===o.rcupD?o.yvBkT(i,o[r(182)](o.qLqHB(_,1),h)):i,m=o.gUJMw(N*Math.SQRT2,2),j=o.reFPd(o.CYFTb(b,Nh),m*Ah);if(_===1){const G=Math.min(o.duVdt(Math.PI,2),o.dqTjq(m,li)/f),H=f*Math.sin(G),I=m*Hd*Math[r(137)](G);return{diameter:Math[r(185)](Math[r(165)](c,o.fPubv(2,H+I))),layerCount:_}}let g=o[r(159)](b,li)/f;for(let G=1;o.BqaqT(G,_);G++){const H=y===o[r(173)]?o[r(157)](i,o.zJzPe(G,h)):i,I=o[r(176)](H,Math[r(166)])/2;g+=o.VnZEF(I*o[r(139)](1,li),f)}g=Math[r(172)](g,o.gUJMw(Math.PI,2));const p=o.iYXIi(o.reFPd(f,j*Hd),Math[r(137)](g)),E=Math[r(165)](0,p-f);return{diameter:Math.round(c+2*E),layerCount:_}}function ar(c,i,a=lr(158),r=0){const o=lr,f={Itztv:function(h,d){return h<=d},nyPNk:function(h,d){return h<d},riKGf:function(h,d){return h+d},frxIe:function(h,d){return h/d}};if(f.Itztv(i,0)||f.Itztv(c,0))return 0;const b=[];for(let h=0;f[o(138)](h,i);h++){const d=a==="gradual"?f[o(184)](c,h*r):c;b[o(143)](f[o(160)](d*Math[o(166)],2))}let y=b[0];for(let h=1;h<i;h++)y+=f[o(160)](b[h],3);return Math[o(185)](y*2)}function dn(c,i){c=c-137;const a=D0();let r=a[c];if(dn.dFduAW===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};dn.FvSnUd=o,dn.KXpklO={},dn.dFduAW=!0}const f=a[0],b=c+f,y=dn.KXpklO[b];if(y)r=y;else{const h=function(d){this.jPkJCG=d,this.lxChkX=[1,0,0],this.iGluIu=function(){return"newState"},this.SWhFPG="\\w+ *\\(\\) *{\\w+ *",this.oTFoLj=`['|"].+['|"];? *}`};h.prototype.ofjWpG=function(){const d=new RegExp(this.SWhFPG+this.oTFoLj),v=d.test(this.iGluIu.toString())?--this.lxChkX[1]:--this.lxChkX[0];return this.ZIICRn(v)},h.prototype.ZIICRn=function(d){return~d?this.yxmGZz(this.jPkJCG):d},h.prototype.yxmGZz=function(d){for(let v=0,_=this.lxChkX.length;v<_;v++)this.lxChkX.push(Math.round(Math.random())),_=this.lxChkX.length;return d(this.lxChkX[0])},new h(dn).ofjWpG(),r=dn.FvSnUd(r),dn.KXpklO[b]=r}return r}function Lh(c,i,a="uniform",r=0){const o=lr,f={iaRgJ:function(_,N){return _/N},gWmFW:function(_,N){return _===N},GsEhR:o(158),ibkQe:function(_,N){return _/N},THiGE:function(_,N){return _*N},TiXMy:function(_,N){return _-N}};if(i<=0||c<=0)return 0;const b=f[o(177)](c,2),y=Math[o(166)]/2,h=i;if(f[o(167)](a,f[o(146)])||r===0){const _=f.ibkQe(y*(h+2),3);return Math.max(1,Math.round(b/_))}const d=f.THiGE(r,f[o(154)](h,1))*h/6,v=f.TiXMy(f.ibkQe(b,y),d)*3/(h+2);return Math[o(165)](1,Math[o(185)](v))}function Th(c,i,a){const r=lr,o={nzhni:function(y,h){return y<h},YNmqm:function(y,h){return y/h},DvVoK:function(y,h){return y===h}};if(c<=i)return 1;let f=1,b=80;for(let y=0;o.nzhni(y,30);y++){const h=o[r(147)](f+b,2),{diameter:d}=Vl(i,h,a);o.nzhni(d,c)?o.DvVoK("hCRnF",r(161))?f=h:_0x1a8a8a=_0x5323cf:b=h}return Math[r(165)](1,Math[r(185)](o[r(147)](f+b,2)))}function Eh(c,i,a){const r=lr,o={IUDkW:function(N,m){return N/m},xfNRd:"uniform",iUpLz:function(N,m){return N===m},xjhmJ:function(N,m){return N===m},Kgplo:function(N,m){return N/m},ZBJJx:function(N,m){return N*m},JyhoV:function(N,m){return N>=m},dOnmy:function(N,m){return N<m},JBrOR:function(N,m){return N*m},HavRL:function(N,m){return N*m}},f=c/2,b=o.IUDkW(i*Math[r(166)],2);if(b<=0||f<=0)return 1;const y=a?.[r(170)]??o[r(183)],h=a?.sizeStepMm??0,d=o.IUDkW(Math.PI,2);if(o.iUpLz(y,o.xfNRd)||o.xjhmJ(h,0)){const N=o.Kgplo(b,3),m=Math.PI*f/2;return Math.max(1,Math[r(185)](o[r(168)](m,N)))}let v=o[r(145)](b,li)/f;if(o[r(178)](v,d))return 1;let _=1;for(let N=1;o[r(149)](N,100);N++){const m=i+o.JBrOR(N,h),j=m*Math.SQRT2/2,g=o[r(155)](j,1-li)/f;if(v+=g,v>d+o.Kgplo(g,2))break;_=N+1}return Math[r(165)](1,_)}(function(c,i){const a=Lt,r=c();for(;;)try{if(parseInt(a(501))/1*(parseInt(a(477))/2)+parseInt(a(444))/3*(-parseInt(a(453))/4)+-parseInt(a(504))/5*(-parseInt(a(465))/6)+parseInt(a(448))/7*(-parseInt(a(445))/8)+parseInt(a(478))/9*(parseInt(a(476))/10)+-parseInt(a(452))/11*(-parseInt(a(479))/12)+parseInt(a(474))/13===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(N0,353479);const Bh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),ms=Bh(void 0,function(){const c=Lt;return ms.toString().search("(((.+)+)+)+$")[c(467)]().constructor(ms).search("(((.+)+)+)+$")});ms();const cr=.28,Yd={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function bs(c){const i=Lt,a={dxUiT:i(496)};return c===a[i(482)]?Yd[a[i(482)]]:Yd[i(480)]}function pa(c){return c*Math.PI/180}const ln=2.7;function Yt(c){const i=Lt,a={MGPab:function(b,y){return b*y},BJLFA:function(b,y){return b/y}},r=c*Math.SQRT2/2,o=a[i(446)](r,ln),f=a[i(492)](o,2);return{length:o,width:f}}function Gh(c){return{APiky:function(a,r){return a/r}}.APiky(c*ln,2)}function tr(c,i,a){const r=Lt,o={xLBuy:function(d,v){return d*v},pcNBr:function(d,v){return d*v},wpcqH:function(d,v){return d/v}},{length:f}=Yt(a),b=o[r(497)](f,i),y=Math.max(0,c-o.pcNBr(b,cr)),h=y+b;return o.wpcqH(h*2,ln)}function qh(c,i,a){const r=Lt,o={TaHNy:function(h,d){return h(d)},VTwpL:function(h,d){return h*d},cDVeS:function(h,d){return h-d},WwhZI:function(h,d){return h-d}},{length:f}=o.TaHNy(Yt,a),b=f*i,y=o[r(468)](c,ln)/2;return Math.max(2,o[r(486)](y,o[r(468)](b,o[r(463)](1,cr))))}function Lt(c,i){c=c-444;const a=N0();let r=a[c];if(Lt.gitwRY===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Lt.UfHsCt=o,Lt.OaSdcF={},Lt.gitwRY=!0}const f=a[0],b=c+f,y=Lt.OaSdcF[b];if(y)r=y;else{const h=function(d){this.IUnUCm=d,this.GQKvpf=[1,0,0],this.kKdSoC=function(){return"newState"},this.YIKlsc="\\w+ *\\(\\) *{\\w+ *",this.otqLnI=`['|"].+['|"];? *}`};h.prototype.eIeHsN=function(){const d=new RegExp(this.YIKlsc+this.otqLnI),v=d.test(this.kKdSoC.toString())?--this.GQKvpf[1]:--this.GQKvpf[0];return this.JuReCK(v)},h.prototype.JuReCK=function(d){return~d?this.JlcKoM(this.IUnUCm):d},h.prototype.JlcKoM=function(d){for(let v=0,_=this.GQKvpf.length;v<_;v++)this.GQKvpf.push(Math.round(Math.random())),_=this.GQKvpf.length;return d(this.GQKvpf[0])},new h(Lt).eIeHsN(),r=Lt.UfHsCt(r),Lt.OaSdcF[b]=r}return r}function N0(){const c=["neHlz1zUDG","Cwf5zxO","uxHkthy","nwzyr3HAEG","BgvUz3rO","t3PZqM4","mtKXmJm1m1HIwfzTAq","nZyWz0XfrMfJ","tuDqywi","tgnNsxy","ndu4mZzSsvrNDg4","EhLzwwm","DKnWt1u","u3P4qw8","mtf5r2DLr2W","nfryBgXrvW","s0XzCxu","ywjZ","B3jKzxi","ChvZAa","BNDkCNC","sfDRve8","BwLU","Bwf4","q09jtgO","v3DOwKK","B3rTvxm","nde5mdK0nM56tujNCG","Dg9gAxHLza","Dg9tDhjPBMC","vLr3CeW","y2j2rg8","C0DMs0y","C2LU","DLHPCMS","EvLWtfq","mJy4ota3nMzTqLfbCW","C29YDa","odeXmgnkzhr4sG","mtaZnZi0DvLzz2Xh","mta0neTAq1LZCG","ndG3mZq3nNLpugLXtG","5lI444gK44g+44g/","zKnnDKm","zhHvAvq","CM91BMq","C2nHBgu","ywrgzeu","y0rwzvm","DgnsAMO","y29Z","yLrPqwC","Bxvls3a","zxrfELi","qKPmrKe","Be5iwK4","CMfKAxvZ","BfLPu0q","5yMJ44gK44g+44g/","EeXcDxK","zMXVB3i","suj4C3q","uezYruC"];return N0=function(){return c},N0()}function el(c,i,a){const r=Lt,o={QxJLv:function(v,_){return v<=_},HWkTO:function(v,_){return v/_},IBxst:function(v,_){return v+_},dOHax:function(v,_){return v%_},cbvDo:function(v,_){return v*_},bTiAg:function(v,_){return v+_},qayez:function(v,_){return v<_},DCPxd:function(v,_){return v*_},rhgVp:function(v,_){return v+_},ocMYr:function(v,_){return v-_},tcRjj:function(v,_){return v>_}};if(!c||o[r(503)](c,0)||!a||a<=0)return i??0;const f=o[r(459)](360,c),b=360/a,y=[];for(let v=0;v<c;v++)y.push(o.IBxst(o.dOHax(i+o[r(469)](v,f),360),360)%360);let h=o[r(489)](i,f/2),d=-1;for(let v=0;o[r(502)](v,c);v++){const _=o[r(499)](i+o.DCPxd(v,f),f/2);let N=1/0;for(let m=0;m<a;m++){const j=(o.rhgVp(_,m*b)%360+360)%360;for(const g of y){let p=Math[r(455)](o.ocMYr(j,g));o[r(487)](p,180)&&(p=o.ocMYr(360,p)),p<N&&(N=p)}}N>d&&(d=N,h=_)}return Math.round(o.cbvDo(h,10))/10}function V0(c,i,a){const r=Lt,o={BEtfH:function(m,j){return m===j},PFrEG:function(m,j){return m(j)},vXirk:function(m,j){return m*j},etEzR:function(m,j){return m+j},WEFzS:function(m,j){return m/j},CkYCP:function(m,j){return m*j},uNLeP:function(m,j){return m*j}};if(o.BEtfH(c.length,0))return;const{length:f}=o[r(500)](Yt,i),b=c[0],y=b[r(484)]??1,h=f*y,d=Math.max(0,b[r(494)]-o[r(472)](h,cr)),v=o[r(491)](d,h);if(v<=0)return;const _=o.WEFzS(a*ln,2),N=_/v;for(const m of c)m[r(494)]=Math[r(461)](2,o.WEFzS(Math[r(483)](m.radius*N*10),10)),m.scale=o.WEFzS(Math[r(483)](o.CkYCP(o.uNLeP(m[r(484)]??1,N),100)),100);gs(c,i)}function gs(c,i){const a=Lt,r={rFZud:function(h,d){return h===d},xyYYc:function(h,d){return h(d)},Toynp:function(h,d){return h/d},KLYqu:function(h,d){return h*d},OzsBn:function(h,d){return h>d}};if(r.rFZud(c.length,0))return;const o=c[c.length-1],{length:f}=r[a(449)](Yt,i),b=f*(o.scale??1),y=r.Toynp(Math.floor(r[a(454)](b,cr)*10),10);r[a(506)](o[a(494)],y)&&(o.radius=y)}function Rh(c,i,a,r){const o=Lt,f={otmUs:function(N,m){return N/m},sGfKF:function(N,m){return N*m},muKKp:function(N,m){return N>m},ZvaOF:function(N,m){return N*m},vCpOU:function(N,m){return N*m},YxlKv:function(N,m){return N/m},yYpLT:function(N,m){return N===m},SzxAo:function(N,m){return N*m},USlfu:function(N,m){return N-m},OhzqJ:"",MsDJa:function(N,m){return N>m},mYjoZ:function(N,m){return N-m},LcgIv:function(N,m){return N!==m},COILj:o(495),adFdE:function(N,m,j,g){return N(m,j,g)},oBEsB:o(493)};if(f.yYpLT(c[o(505)],0))return;const b=[...c].sort((N,m)=>m.order-N[o(456)]),{length:y}=Yt(i),h=b.length,d=b[0].scale??1,v=f[o(451)](y,d);b[0][o(494)]=Math[o(498)](f[o(450)](v,cr)*10)/10;for(let N=1;N<h;N++){const m=b[f.USlfu(N,1)],j=y*(m[o(484)]??1);let g;if(f[o(473)](a,f.OhzqJ)){const E=70*Math.PI/180,k=f.MsDJa(h,1)?N/f.mYjoZ(h,1)*E:0;g=f.vCpOU(j*f.YxlKv(30,100),Math.cos(k))}else f[o(447)](f[o(462)],"oNItc")?g=j/3:(_0x2ca738.radius=_0xdb97af.radius,_0x104dd0.scale=_0x5588d7.scale);b[N].radius=Math[o(483)]((m.radius+g)*10)/10}const _=[...c][o(475)]((N,m)=>N[o(456)]-m[o(456)]);f[o(485)](V0,_,i,r);for(const N of _){const m=c.find(j=>j.id===N.id);if(m)if(f.yYpLT(f.oBEsB,o(493)))m.radius=N.radius,m.scale=N.scale;else{const g=f.otmUs(f[o(470)](70,_0x4b3857.PI),180),p=f[o(490)](_0x58f603,1)?f.ZvaOF(f[o(464)](_0x169178,_0x466041-1),g):0;_0x4c2527=f.vCpOU(_0x152f4e,f.YxlKv(30,100))*_0xd23872.cos(p)}}}function ri(c){const i=Lt,a={pGbqB:function(h,d){return h/d},mGfLt:function(h,d){return h*d}},r=a.pGbqB(360,c),o=Math[i(471)](pa(a.pGbqB(r,2)))*2,f=.96,b=1.2,y=a.mGfLt(o,b)/f;return Math.round(Math.max(.3,Math[i(460)](3,y))*100)/100}(function(c,i){const a=hn,r=c();for(;;)try{if(parseInt(a(299))/1+-parseInt(a(355))/2*(parseInt(a(290))/3)+parseInt(a(359))/4+parseInt(a(338))/5*(parseInt(a(351))/6)+-parseInt(a(300))/7+parseInt(a(316))/8*(-parseInt(a(282))/9)+-parseInt(a(357))/10*(-parseInt(a(304))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(A0,747276);const kh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),vs=kh(void 0,function(){const c=hn,i={FuMVp:c(348)};return vs[c(361)]()[c(367)](i.FuMVp)[c(361)]()[c(332)](vs)[c(367)](i.FuMVp)});vs();function A0(){const c=["qMH1v3O","BhjQDvm","q21Otxa","BenPqNi","y29Sx2nVCMfS","y29Sx3DOAxrL","ruLnwLC","uvDkBLq","y29Sx3LLBgXVDW","y29Sx2DVBgq","y29UC3rYDwn0B3i","y29Sx29Yyw5Nzq","ywn1t1q","uNLTzNy","r0fXANm","rLfQwMe","mtaWoti1Bwz0sKf3","Cg9ZAxrPB24","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","CMfKAxvZ","C2nHBgu","EwvQqM4","ywfeAM0","y29Sx2XHDMvUzgvY","BMfTzq","5lI444gK44g+44g/","kcGOlISPkYKRksSK","i0yWoencnG","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","mJq2sK9PtKze","A2TSu1K","BhnKu3i","B3jKzxi","mtqXmfDPyvPYEG","Cu9yrM8","mZKWzwj3wuP4","iZDfqZHfmW","mZmXmJK0mhbXDMLrvG","y29Sx2rHCMTNCMvLBG","Dg9tDhjPBMC","uhbyyK8","iZjdm0u2qG","t3v0zxi","y29Sx2jSDwu","i0mWqZbdma","C2vHCMnO","i0yWoeeZqG","BKzQzvK","C29YDa","i0uWndu3qG","y29Sx2jYB3DU","mtyZoezkD1LMza","i0yYrda0qG","iZjgqKy0qq","i0m4qtjena","CMzkuKe","BwfW","zuLUELu","BwrvvuW","nte5nKzVyNbzDG","De1evKS","B2zMC2v0qw5NBgu","ChjQ","Cgv0ywXdB3vUDa","vxvcCvG","5yMJ44gK44g+44g/","sKv5zxO","y29Sx3nPBhzLCG","nJu4mJG2vfvjvLbf","mtaYmtK1ndvMvg5AqLi","Ag9Jrfe","tNfUrhK","zuThrMu","mZq4mtGZwejzqMr3","shzptfO","y29Sx3jLza","iZfbn0eZqq","A1nYEfe","BvDluuC","zMX3","Bgf5","i0y1rtzdqW","zMLUza","rgHJCwS","ienVChK","nti4ogf5DuXIAa","y29Sx2DYzwvU","qw95Ehq","AefqC04","A2Puy1O","y29Sx3bPBMS"];return A0=function(){return c},A0()}function Wd(){const c=hn,i={eInzU:c(327),UuBqX:"#F5F5F5",iSUha:c(321),uzcnI:"col_hotpink",gRNZH:c(371),CmhMp:"col_yellow",aaDjm:c(283),hQTLw:"col_lightyellow",hAPsN:"#FDF5C9",Vybmz:c(317),JEyez:c(360),SsQov:c(307),XLwJA:"col_lightblue",Rymfv:"#9B59B6",tXOHJ:c(298),Ilryx:"col_black",GAqjs:"#333333",EIMZW:"#F08080"};return[{id:i[c(288)],name:"",hex:i[c(295)]},{id:c(306),name:"",hex:"#E34850"},{id:i.iSUha,name:"",hex:c(349)},{id:i.uzcnI,name:"",hex:i.gRNZH},{id:c(333),name:"",hex:c(368)},{id:i[c(324)],name:"",hex:i[c(344)]},{id:i.hQTLw,name:"",hex:i[c(319)]},{id:i.Vybmz,name:"",hex:c(284)},{id:i[c(297)],name:"",hex:i.SsQov},{id:i.XLwJA,name:"",hex:c(358)},{id:c(365),name:"",hex:"#3B7DD8"},{id:"col_navy",name:"",hex:c(363)},{id:"col_purple",name:"",hex:i[c(335)]},{id:c(345),name:"",hex:c(285)},{id:c(331),name:"",hex:"#D4A843"},{id:i.tXOHJ,name:"",hex:c(366)},{id:"col_cream",name:"",hex:c(312)},{id:c(372),name:"",hex:"#8B5E3C"},{id:i.Ilryx,name:"",hex:i[c(336)]},{id:c(326),name:"",hex:i[c(328)]}]}function Ih({title:c,fabricSquareSize:i,baseDiameter:a}={}){const r=hn,o={kklSY:function(y){return y()},lsdSr:function(y,h){return y(h)},WugCk:r(293),Qtacp:function(y,h){return y??h},IJbkn:"",Dhcqk:function(y,h){return y??h}},f=o.kklSY(M0),b=o[r(352)](Wd);return ga({id:o[r(353)](Ht,o.WugCk),title:o.Qtacp(c,o.IJbkn),unit:"mm",fabricSquareSize:i??20,baseDiameter:o[r(314)](a,30),notes:"",createdAt:f,updatedAt:f,palette:b,flowers:[]})}function hn(c,i){c=c-282;const a=A0();let r=a[c];if(hn.ZzDyHC===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};hn.YWtytF=o,hn.PLjwIF={},hn.ZzDyHC=!0}const f=a[0],b=c+f,y=hn.PLjwIF[b];if(y)r=y;else{const h=function(d){this.QvhUst=d,this.tWWWeQ=[1,0,0],this.YLtqkD=function(){return"newState"},this.ZfLXVv="\\w+ *\\(\\) *{\\w+ *",this.sBtbJc=`['|"].+['|"];? *}`};h.prototype.lMUGxw=function(){const d=new RegExp(this.ZfLXVv+this.sBtbJc),v=d.test(this.YLtqkD.toString())?--this.tWWWeQ[1]:--this.tWWWeQ[0];return this.GnoNFd(v)},h.prototype.GnoNFd=function(d){return~d?this.QLlXFt(this.QvhUst):d},h.prototype.QLlXFt=function(d){for(let v=0,_=this.tWWWeQ.length;v<_;v++)this.tWWWeQ.push(Math.round(Math.random())),_=this.tWWWeQ.length;return d(this.tWWWeQ[0])},new h(hn).lMUGxw(),r=hn.YWtytF(r),hn.PLjwIF[b]=r}return r}function Oh(c,i){const a=hn,r={xPTdb:function(y,h){return y(h)},jkEWX:function(y,h){return y+h}},o=r.xPTdb(Jl,c);o.id=Ht("flw"),o[a(346)]=c.name+a(315);const f=i?.x??12,b=i?.y??12;return o[a(339)]={x:r.jkEWX(c[a(339)]?.x??0,f),y:(c[a(339)]?.y??0)+b},o.layers=(o.layers||[])[a(287)](y=>({...y,id:Ht(a(311)),petalOverrides:y.petalOverrides?y.petalOverrides[a(287)](h=>({...h})):void 0})),o}(function(c,i){const a=An,r=c();for(;;)try{if(parseInt(a(340))/1+parseInt(a(316))/2+parseInt(a(314))/3*(parseInt(a(326))/4)+-parseInt(a(348))/5+parseInt(a(298))/6+-parseInt(a(296))/7*(-parseInt(a(386))/8)+-parseInt(a(350))/9*(parseInt(a(372))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(L0,946751);function L0(){const c=["BgvHzKDYB3vWCW","zwjTy3y","CMLNAhq","BgvHDMvZ","BLDnyuK","rwDeC3y","AxnbCNjHEq","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","zMXVD2vYCW","mZy0mZi4ywXswhDl","Cg9Zzq","Bg9JA2vK","BgvHzKLKCW","Awzyq0q","B2jQzwn0","BgvUz3rO","uMjXuhO","rwDnBvy","uK5vCg0","AvbJBgi","D2LKDgHty2fSzq","C2L6zq","A3DzC00","A21oruy","tuTHsMy","yMfJAW","y2HPBgq","wxHSuKS","AgfZ","zMXVD2vYrgLHBwv0zxi","Euzdzvu","nZb4vuvQrva","DvjSDK8","nJCXotiYnLDZCNnXCa","y29Sx2DYzwvU","y29SB3iY","y2vUDgvY","DMvYC2LVBG","qMnNt2S","EfbqtKC","x2rVDwjSzvbLDgfSq2fJAgu","44or44o844oR","DMfYAwfUDa","z1PVyve","DhLWzq","CM90yxrPB24","Aw5UzxjdB2XVCKLK","5yMJ44gK44g+44g/","C2nHBgu","m3LxtePTDW","CgvWq291BNq","mtu5ndq0mhHOCwLxsG","z3jVDxbZ","ufDTyxO","zMXVD2vYswrZ","AxngAw5PDgu","Ce1gCvO","yMfZzurPyw1LDgvY","s3PcC1u","BwfW","turYvhq","nZeZntKXmM95C0jusa","5lI444gK44g+44g/","BM90zxm","y29SB3jjza","BMDXz3q","zMLSDgvY","C0zlr08","Cgv0ywXuExbL","C3rYAw5N","DMLZAwjSzq","Bgf5zxjZ","Cg9ZAxrPB24","y29SB3i","tgvHzG","nZm1odu2whLADxD5","ugT1y2W","C2vHCMnO","y3jLyxrLzef0","ugfnBgm","tM1HAee","m3WXFdb8nhWXmxWXmhW3Fdv8ohW5Fdz8mG","z0jcqNC","mJKWodi1mgHnCNrSuq","BMfTzq","nJu4mtyXwuDWue9l","vwDmEw0","zMfICMLJu3f1yxjLu2L6zq","yvzxvha","CgXHy2vTzw50tw9Kzq","rhfnzum","C3rLBMnPBhm","u1jmve8","DgL0Bgu","CgfSzxr0zq","Cgv0ywXpDMvYCMLKzxm","r1LVyMi","zMX3","Cgv0ywXdB3vUDa","zg91yMXLugv0ywW","BgjPvuO","B0Tbuvu","kcGOlISPkYKRksSK","Ahj0C2y","BMjytei","Aw5Uzxjty2fSzq","BgvMDa","ndyWrgTMAvbI","wwzgD0y","Aw5UzxjtAxPLuMvKDwn0Aw9U","Aw5JBhvKzxm","44or44o844oR77Yl5BQN6yEr"];return L0=function(){return c},L0()}const Hh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),ps=Hh(void 0,function(){const c=An;return ps.toString()[c(342)](c(367)).toString().constructor(ps)[c(342)](c(367))});ps();function An(c,i){c=c-288;const a=L0();let r=a[c];if(An.ReHhHB===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};An.ixcvIP=o,An.PcksUB={},An.ReHhHB=!0}const f=a[0],b=c+f,y=An.PcksUB[b];if(y)r=y;else{const h=function(d){this.mbAceb=d,this.mNDfEC=[1,0,0],this.qCGDtb=function(){return"newState"},this.LnolPy="\\w+ *\\(\\) *{\\w+ *",this.KbYEEo=`['|"].+['|"];? *}`};h.prototype.RkMSUB=function(){const d=new RegExp(this.LnolPy+this.KbYEEo),v=d.test(this.qCGDtb.toString())?--this.mNDfEC[1]:--this.mNDfEC[0];return this.eDMfeG(v)},h.prototype.eDMfeG=function(d){return~d?this.YVUgYZ(this.mbAceb):d},h.prototype.YVUgYZ=function(d){for(let v=0,_=this.mNDfEC.length;v<_;v++)this.mNDfEC.push(Math.round(Math.random())),_=this.mNDfEC.length;return d(this.mNDfEC[0])},new h(An).RkMSUB(),r=An.ixcvIP(r),An.PcksUB[b]=r}return r}function os(c){const i=An,a={ULHPH:"maru",ebmcv:function(r,o){return r===o},oKAQU:function(r,o){return r===o},WLKCj:i(312),NTKhZ:i(327)};return c===a.ULHPH?"":c==="ken"?i(312):a[i(378)](c,"")||a[i(366)](c,a.WLKCj)?c:a.NTKhZ}function ga(c){const i=An,a={DqMeC:"grp",gBBBw:"",bOLqh:"adult",MkRoI:i(379),nbXLB:i(290),SRLTO:function(f,b){return f!=b},xPPNG:function(f,b,y,h){return f(b,y,h)},UgLym:function(f,b){return f!==b},YxlRK:"col_white",dRuMm:function(f,b){return f===b},EgDsv:"",nWMaI:function(f,b){return f(b)},PWmaz:"string",EMhcS:"lay",ifXCD:function(f,b){return f(b)},zIVGI:function(f,b){return f!==b},pMFqZ:function(f,b){return f!==b},DYSVo:i(399),KzBsU:function(f,b){return f-b},SVyej:function(f,b,y,h){return f(b,y,h)},kmNEF:function(f,b){return f!=b},hrtsf:function(f,b){return f!=b},RNUpm:function(f,b){return f!==b},MKaJf:function(f,b){return f===b},RbqPz:i(303),TSVVf:function(f,b){return f===b},slXxV:function(f,b,y,h){return f(b,y,h)},MDrTt:"",avIFV:"",OVwsT:i(332),gZoaQ:function(f,b){return f!==b},yFCeU:"",GYobb:function(f){return f()},uRlvO:function(f,b){return f<=b},ckoRP:function(f,b){return f(b)},ngqgt:i(346),PaMlc:function(f,b){return f!==b},YfFwF:function(f,b){return f!=b},lbiUJ:"leaf",CaYkd:i(299),NZPuU:function(f,b){return f(b)},JJCUU:"",EgMmV:i(345),iPclb:i(371)},r=a[i(381)](Jl,c||{});Array[i(383)](r.flowers)||(r[i(385)]=[]);for(const f of r[i(385)]){f.id||(f.id=Ht(i(362))),(typeof f[i(349)]!==a[i(318)]||!f.name)&&(f.name="Flower"),(!f[i(337)]||!Number[i(320)](f.position.x)||!Number.isFinite(f[i(337)].y))&&(f[i(337)]={x:260,y:260}),Array[i(383)](f[i(336)])||(f.layers=[]);for(const b of f[i(336)]){if(b.id||(b.id=Ht(a.EMhcS)),(typeof b.colorId!==i(334)||!b[i(329)])&&(b[i(329)]=r[i(359)]?.[0]?.id??a.YxlRK),b[i(333)]=a[i(390)](os,b.petalType),b[i(363)]=Ce(a[i(390)](Number,b.petalCount||0),5,24),Number[i(320)](b.scale)||(b.scale=1),Number.isFinite(b[i(397)])||(b.widthScale=1),Number[i(320)](b.radius)||(b.radius=28),Number.isFinite(b.offsetAngle)||(b.offsetAngle=0),delete b[i(305)],b[i(364)])if(a.zIVGI(typeof b.doublePetal,i(391))||b[i(364)]===null)delete b[i(364)];else{if(a[i(357)](b.doublePetal.innerScale,null)&&b.doublePetal[i(374)]==null)if(a[i(321)](a.DYSVo,"kwYsM"))_0x4cfbdf[i(374)]=_0x11c57c(_0x1ebf53.innerSizeReduction,1,30);else{const y=f.fabricSquareSize??r.fabricSquareSize??20;b.doublePetal.innerSizeReduction=Math.round(y*a[i(323)](1,b[i(364)].innerScale))}delete b.doublePetal[i(370)],Number[i(320)](b.doublePetal.innerSizeReduction)||(b[i(364)][i(374)]=2),b[i(364)][i(374)]=a.SVyej(Ce,b.doublePetal[i(374)],1,30),delete b[i(364)].innerPetalType,a.kmNEF(b.doublePetal[i(311)],null)&&a.pMFqZ(typeof b[i(364)][i(311)],i(334))&&delete b[i(364)][i(311)]}if(Array[i(383)](b[i(360)])){for(const y of b[i(360)])if(y&&y.petalType!=null&&(y.petalType=os(y.petalType)),y&&delete y.innerPetalType,y&&a[i(368)](y[i(311)],null)&&a[i(395)](typeof y[i(311)],i(334))&&delete y.innerColorId,y&&y[i(374)]!=null)if(a[i(289)](a[i(393)],a.RbqPz))if(Number.isFinite(y.innerSizeReduction))y[i(374)]=a.slXxV(Ce,y.innerSizeReduction,1,30);else if(a.TSVVf(i(353),"aVWTp"))delete y.innerSizeReduction;else{const h=new _0x32bd9d(_0x37b6b4.flowers.map(d=>d.id));for(const d of _0x4b8117[i(317)])_0x23dc4d[i(383)](d.flowerIds)||(d.flowerIds=[]),d[i(319)]=d.flowerIds.filter(v=>h[i(293)](v)),d.id||(d.id=_0x2dcb83(a[i(355)])),(typeof d.name!==i(334)||!d[i(349)])&&(d.name=a[i(347)]);_0x5cb49e.groups=_0x3ef520.groups.filter(d=>d[i(319)]&&d[i(319)][i(392)]>0)}else{const h=[a.bOLqh,i(291)],d=[a.MkRoI,"left",a[i(369)]];_0x22809d[i(356)]=_0x48b2d5.stencils.filter(v=>v&&typeof v.id===i(334)&&h.includes(v[i(307)])&&d.includes(v.pose)&&v.position&&_0xa8d29.isFinite(v[i(337)].x)&&_0x3e662d[i(320)](v.position.y))}}}if((!Number[i(320)](f[i(294)])||f.flowerDiameter<=0)&&(f[i(294)]=60),f.center){if(a[i(289)](f.center[i(309)],a[i(325)])&&(f.center[i(309)]=""),[a.avIFV,"",""][i(375)](f[i(301)].type)||(f[i(301)][i(309)]=a.avIFV),Number[i(320)](f[i(301)][i(398)])||(f.center.size=6),f[i(301)][i(398)]=a.slXxV(Ce,f.center.size,1,30),(typeof f.center[i(338)]!="string"||!f[i(301)].color)&&(f[i(301)][i(338)]=r.palette?.[0]?.id??"col_white"),a.MKaJf(f.center.type,a[i(382)]))if(a[i(395)](i(341),a.OVwsT))Number.isFinite(f[i(301)].pepCount)||(f[i(301)].pepCount=12),f[i(301)][i(315)]=Ce(f[i(301)].pepCount,4,30);else{if(a[i(357)](_0x58fe24[i(364)].innerScale,null)&&_0x2abfac.doublePetal.innerSizeReduction==null){const y=_0x4d2994.fabricSquareSize??_0x184643.fabricSquareSize??20;_0x2b6761[i(364)].innerSizeReduction=_0x355405.round(y*(1-_0x64f2.doublePetal[i(370)]))}delete _0x50ee7[i(364)].innerScale,_0x26a522[i(320)](_0x318848[i(364)][i(374)])||(_0x395cc8.doublePetal[i(374)]=2),_0x5be413.doublePetal.innerSizeReduction=_0x3ed2ab(_0x532308.doublePetal[i(374)],1,30),delete _0x5d815a[i(364)].innerPetalType,_0x101527.doublePetal.innerColorId!=null&&typeof _0x3916cf[i(364)][i(311)]!==i(334)&&delete _0x39c324.doublePetal.innerColorId}a[i(308)](f.center.type,"")&&delete f.center[i(300)]}f[i(354)]!==a[i(295)]&&f.placementMode!==""&&(f[i(354)]=a[i(295)]),a[i(321)](f[i(322)],void 0)&&(!Number.isFinite(f[i(322)])||f.baseDiameter<=0)&&delete f[i(322)]}Array[i(383)](r[i(359)])||(r.palette=[]);const o=new Set(r[i(359)][i(324)](f=>f.id));for(const f of Wd())o[i(293)](f.id)||r.palette.push(f);r.createdAt||(r[i(343)]=a[i(361)](M0)),r.updatedAt||(r.updatedAt=r[i(343)]),r.id||(r.id=Ht("proj")),r[i(358)]||(r[i(358)]=i(384)),r.unit="mm",Number[i(320)](r.fabricSquareSize)||(r[i(352)]=20),(!Number.isFinite(r[i(322)])||a[i(297)](r.baseDiameter,0))&&(r.baseDiameter=30),typeof r.notes!==i(334)&&(r[i(328)]=""),Array.isArray(r.groups)||(r.groups=[]);{const f=new Set(r.flowers.map(b=>b.id));for(const b of r[i(317)])Array[i(383)](b[i(319)])||(b[i(319)]=[]),b.flowerIds=b[i(319)].filter(y=>f[i(293)](y)),b.id||(b.id=a.ckoRP(Ht,a[i(355)])),(typeof b[i(349)]!==a.PWmaz||!b[i(349)])&&(b[i(349)]=a.gBBBw);r.groups=r.groups.filter(b=>b.flowerIds&&b.flowerIds.length>0)}Array.isArray(r.leaves)||(r[i(380)]=[]);for(const f of r[i(380)]){const b=a[i(330)].split("|");let y=0;for(;;){switch(b[y++]){case"0":(!f.position||!Number[i(320)](f[i(337)].x)||!Number.isFinite(f.position.y))&&(f.position={x:675,y:675});continue;case"1":(a.PaMlc(typeof f[i(349)],a[i(318)])||!f.name)&&(f[i(349)]=i(339));continue;case"2":f.doublePetal&&(a[i(321)](typeof f.doublePetal,i(391))||f.doublePetal===null?delete f.doublePetal:(Number[i(320)](f[i(364)][i(374)])||(f[i(364)][i(374)]=2),f.doublePetal.innerSizeReduction=Ce(f.doublePetal.innerSizeReduction,1,30),a[i(373)](f[i(364)].innerColorId,null)&&typeof f[i(364)].innerColorId!==a.PWmaz&&delete f.doublePetal.innerColorId));continue;case"3":f.id||(f.id=Ht(a[i(365)]));continue;case"4":Number[i(320)](f[i(310)])||(f[i(310)]=0);continue;case"5":Number.isFinite(f.widthScale)||(f.widthScale=1);continue;case"6":delete f._doublePetalCache;continue;case"7":Number[i(320)](f[i(313)])||(f.scale=1);continue;case"8":a.RNUpm(typeof f.visible,"boolean")&&(f[i(335)]=!0);continue;case"9":a[i(344)](typeof f.locked,"boolean")&&(f[i(388)]=!1);continue;case"10":(typeof f.colorId!==a[i(318)]||!f.colorId)&&(f.colorId=r[i(359)]?.[0]?.id??a.CaYkd);continue;case"11":f.petalType=a.NZPuU(os,f[i(333)]);continue}break}}Array[i(383)](r[i(377)])||(r.leafGroups=[]);{const f=new Set(r[i(380)][i(324)](b=>b.id));for(const b of r.leafGroups)b.id||(b.id=a[i(390)](Ht,"lg")),(typeof b.name!="string"||!b.name)&&(b.name=a.JJCUU),Array.isArray(b[i(389)])||(b.leafIds=[]),b.leafIds=b[i(389)][i(331)](y=>f.has(y)),Number[i(320)](b[i(310)])||(b[i(310)]=0),a[i(288)](b.linkedFlowerGroupId,null)&&((r.groups??[]).some(h=>h.id===b.linkedFlowerGroupId)||delete b.linkedFlowerGroupId);r.leafGroups=r[i(377)][i(331)](b=>b[i(389)]&&b[i(389)][i(392)]>0)}if(Array[i(383)](r[i(356)]))if(a.dRuMm("NmahA",a[i(394)])){const f=[a.bOLqh,"child"],b=[a.MkRoI,a[i(396)],i(290)];r.stencils=r[i(356)][i(331)](y=>y&&typeof y.id===i(334)&&f.includes(y[i(307)])&&b.includes(y[i(387)])&&y[i(337)]&&Number[i(320)](y.position.x)&&Number.isFinite(y[i(337)].y))}else _0x32e976[i(320)](_0x16811a.center.pepCount)||(_0x452c4d.center.pepCount=12),_0x34916c[i(301)].pepCount=a.xPPNG(_0xf5a5db,_0x6401c7[i(301)].pepCount,4,30);return Number.isFinite(r[i(302)])||(r.version=1),r}const T0=Un;(function(c,i){const a=Un,r=c();for(;;)try{if(parseInt(a(212))/1*(-parseInt(a(219))/2)+parseInt(a(213))/3*(-parseInt(a(222))/4)+parseInt(a(215))/5+-parseInt(a(220))/6*(parseInt(a(223))/7)+parseInt(a(224))/8*(-parseInt(a(210))/9)+-parseInt(a(216))/10+parseInt(a(211))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(E0,669259);const Yh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),ys=Yh(void 0,function(){const c=Un,i={YmfXi:"(((.+)+)+)+$"};return ys[c(217)]().search(i.YmfXi)[c(217)]().constructor(ys).search(i.YmfXi)});ys();const Qd="tsumami_projects_v1";function Un(c,i){c=c-210;const a=E0();let r=a[c];if(Un.MrASga===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Un.JMFIXU=o,Un.QezZSR={},Un.MrASga=!0}const f=a[0],b=c+f,y=Un.QezZSR[b];if(y)r=y;else{const h=function(d){this.SRKVYv=d,this.BmlYPK=[1,0,0],this.PcwvzO=function(){return"newState"},this.cIbFjs="\\w+ *\\(\\) *{\\w+ *",this.UIxJlx=`['|"].+['|"];? *}`};h.prototype.LMSYaD=function(){const d=new RegExp(this.cIbFjs+this.UIxJlx),v=d.test(this.PcwvzO.toString())?--this.BmlYPK[1]:--this.BmlYPK[0];return this.grXpIy(v)},h.prototype.grXpIy=function(d){return~d?this.PrfyEH(this.SRKVYv):d},h.prototype.PrfyEH=function(d){for(let v=0,_=this.BmlYPK.length;v<_;v++)this.BmlYPK.push(Math.round(Math.random())),_=this.BmlYPK.length;return d(this.BmlYPK[0])},new h(Un).LMSYaD(),r=Un.JMFIXU(r),Un.QezZSR[b]=r}return r}const tl=[T0(214),""];function E0(){const c=["nZqWnZndD3jnz3a","5lI444gK44g+44g/","nJa4mtyYmfHsDfjjqq","mte4ntmXmhHcBfnsyG","Dg9tDhjPBMC","44oA44od44ox","mtiWnJm4te9Yu0jt","mJy2odq1og5ythnIrq","44or44o844oR","mJHdturfrum","mtrgwu9tvee","mta0rKvdA3fe","5y2k44gp44gz","mti3otq0v3vssvng","mtiZmJiXmtjqvePqDhu","nuHvtLDtva"];return E0=function(){return c},E0()}const Uh=[T0(221),"",T0(218)],Pd=["",T0(225)];function B0(){const c=["kcGOlISPkYKRksSK","DxbKyxrLzef0","C3Pdwhi","ChjVAMvJDa","y29UC3rYDwn0B3i","C2XPy2u","mtfWuLbTDM4","nJm4mJb0EKjntKi","ovHrvxPVzG","BM5YD0C","BwfW","zMLUzeLUzgv4","mtzHuNbtteG","D3rNDxe","AxnbCNjHEq","mJiYmdmXmJbbs1vAANm","mZvmExjWwva","z2v0sxrLBq","n1DhD091Aq","CgfYC2u","zuXvwK0","DgL0Bgu","BuTUrNq","C3rYAw5NAwz5","ntK4mZKYy3fWDKf4","EvrIDKK","ntiZnJK0EMPZALjm","zMLSDgvY","ota2ntyZmfvUrNHkBa","otG4mdy5B1n2D09M","mte4ndi5ofHmywjJDG","yxbWBhK"];return B0=function(){return c},B0()}(function(c,i){const a=Wt,r=c();for(;;)try{if(-parseInt(a(365))/1+parseInt(a(362))/2*(parseInt(a(376))/3)+parseInt(a(375))/4*(parseInt(a(384))/5)+-parseInt(a(366))/6*(parseInt(a(386))/7)+-parseInt(a(380))/8*(parseInt(a(360))/9)+-parseInt(a(364))/10*(parseInt(a(374))/11)+parseInt(a(383))/12===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(B0,522495);const Kh=(function(){let c=!0;return function(i,a){const r=c?function(){const o=Wt;if(a){const f=a[o(367)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),_s=Kh(void 0,function(){const c=Wt;return _s.toString().search("(((.+)+)+)+$").toString()[c(372)](_s).search(c(368))});_s();function Wt(c,i){c=c-355;const a=B0();let r=a[c];if(Wt.fQpKYQ===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Wt.XFEndK=o,Wt.fxWGat={},Wt.fQpKYQ=!0}const f=a[0],b=c+f,y=Wt.fxWGat[b];if(y)r=y;else{const h=function(d){this.MadoPh=d,this.IjzZSk=[1,0,0],this.MHUlmK=function(){return"newState"},this.jclcsj="\\w+ *\\(\\) *{\\w+ *",this.WNEhNh=`['|"].+['|"];? *}`};h.prototype.rIapLB=function(){const d=new RegExp(this.jclcsj+this.WNEhNh),v=d.test(this.MHUlmK.toString())?--this.IjzZSk[1]:--this.IjzZSk[0];return this.Vduipg(v)},h.prototype.Vduipg=function(d){return~d?this.WsXyYU(this.MadoPh):d},h.prototype.WsXyYU=function(d){for(let v=0,_=this.IjzZSk.length;v<_;v++)this.IjzZSk.push(Math.round(Math.random())),_=this.IjzZSk.length;return d(this.IjzZSk[0])},new h(Wt).rIapLB(),r=Wt.XFEndK(r),Wt.fxWGat[b]=r}return r}function nr(){const c=Wt,i={mKnFt:function(a,r){return a(r)},DmAtj:function(a,r){return a!==r},WSvKx:c(361),DvLQE:c(381)};try{const a=localStorage.getItem(Qd);if(!a)return[];const r=JSON[c(355)](a);return Array[c(382)](r)?r[c(378)](o=>{const f=c;if(i.DmAtj(f(356),f(356)))return _0x5ebf11.setItem(_0x1bb1c9,_0x53aca7[f(359)](_0xe3496f)),!0;try{if(i.WSvKx!==i.WSvKx){const b={nnrwG:function(d,v){return i[f(358)](d,v)}},y=_0x1aa36f[f(385)](_0xb8921d);if(!y)return[];const h=_0x3d68c6[f(355)](y);return _0x5adaba[f(382)](h)?h.map(d=>{const v=f;try{const _=d?.project?b[v(377)](_0x3ede74,d[v(371)]):null;return _?{id:d.id??_.id,title:d.title??_.title,updatedAt:d[v(369)]??_[v(369)],project:_}:null}catch{return null}}).filter(d=>d!=null):[]}else{const b=o?.[f(371)]?ga(o[f(371)]):null;return b?{id:o.id??b.id,title:o[f(357)]??b[f(357)],updatedAt:o.updatedAt??b.updatedAt,project:b}:null}}catch{return i.DmAtj("wtguq",i.DvLQE)?[]:null}}).filter(o=>o!=null):[]}catch{return[]}}function Fd(c){const i=Wt;try{return localStorage.setItem(Qd,JSON[i(359)](c)),!0}catch{return!1}}function Zh(c){const i=Wt,a={szCXr:function(y){return y()},Gbvky:function(y,h){return y>=h},UMKVj:function(y,h){return y(h)}},r=a[i(370)](nr),o=r[i(379)](y=>y.id===c.id),f={id:c.id,title:c[i(357)],updatedAt:c[i(369)],project:c},b=a.Gbvky(o,0)?[...r[i(373)](0,o),f,...r[i(373)](o+1)]:[f,...r];return b.sort((y,h)=>y.updatedAt<h[i(369)]?1:-1),a.UMKVj(Fd,b)}function Xh(c){const i=Wt,a=nr()[i(363)](r=>r.id!==c);return Fd(a)}(function(c,i){const a=Ln,r=c();for(;;)try{if(parseInt(a(424))/1*(parseInt(a(450))/2)+parseInt(a(445))/3+-parseInt(a(414))/4*(parseInt(a(416))/5)+-parseInt(a(439))/6*(-parseInt(a(413))/7)+-parseInt(a(421))/8+-parseInt(a(420))/9+parseInt(a(456))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(G0,361931);const Jh=(function(){const c=Ln,i={ZSBWA:function(r,o){return r-o},LwmKA:function(r,o){return r===o},OpZOa:"XtaqE",WnxaK:function(r,o){return r===o},GdRLu:c(440)};let a=!0;return function(r,o){const f=c;if(i.WnxaK(f(435),i.GdRLu))return _0x3c5dad[f(423)]!==_0x13b90a.mode?_0x5617d8.mode===""?-1:1:i.ZSBWA(_0x127000[f(438)],_0x5ba667.baseDiameterMm);{const b=a?function(){const y=f;if(i[y(444)]("IIEXH",i.OpZOa))_0x299d0b[y(417)][y(441)]({fabricSizeMm:_0x5a4b20,count:_0x1dc10b});else if(o){const h=o[y(460)](r,arguments);return o=null,h}}:function(){};return a=!1,b}}})(),Ss=Jh(void 0,function(){const c=Ln,i={gxCZx:c(407)};return Ss[c(453)]()[c(434)](i.gxCZx).toString()[c(430)](Ss)[c(434)](c(407))});Ss();function Ln(c,i){c=c-406;const a=G0();let r=a[c];if(Ln.bbmgNW===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Ln.MtQNAw=o,Ln.kRccVA={},Ln.bbmgNW=!0}const f=a[0],b=c+f,y=Ln.kRccVA[b];if(y)r=y;else{const h=function(d){this.iAXafJ=d,this.vpxsgw=[1,0,0],this.MhecXb=function(){return"newState"},this.uiVsIe="\\w+ *\\(\\) *{\\w+ *",this.cPxKDO=`['|"].+['|"];? *}`};h.prototype.DTVTqr=function(){const d=new RegExp(this.uiVsIe+this.cPxKDO),v=d.test(this.MhecXb.toString())?--this.vpxsgw[1]:--this.vpxsgw[0];return this.etuaDn(v)},h.prototype.etuaDn=function(d){return~d?this.jTRfAn(this.iAXafJ):d},h.prototype.jTRfAn=function(d){for(let v=0,_=this.vpxsgw.length;v<_;v++)this.vpxsgw.push(Math.round(Math.random())),_=this.vpxsgw.length;return d(this.vpxsgw[0])},new h(Ln).DTVTqr(),r=Ln.MtQNAw(r),Ln.kRccVA[b]=r}return r}function Vh(c){const i=Ln,a={zxpSD:function(v,_){return v/_},kAmMx:function(v,_){return v*_},gXnhX:"#999999",IRScv:function(v,_){return v/_},nKidH:function(v,_){return v*_},uLCeX:function(v,_){return v!==_},iadKz:function(v,_){return v===_},MbDYw:i(408),WfNzl:function(v,_){return v-_},PHXvL:function(v,_){return v(_)},vdmjw:"HRyIT",wRGyK:function(v,_){return v-_},JELrS:function(v,_){return v===_},SECWR:i(426),eBfwq:"OnITk",fmRBC:"hCaXU"},r=new Map((c[i(432)]||[]).map(v=>[v.id,v])),o=new Map,f=(v,_)=>v?.[i(443)]?.find(N=>N[i(461)]===_)??null,b=new Map;for(const v of c.flowers||[]){const _=v[i(427)]??c.fabricSquareSize;for(const p of v.layers||[]){if(!p[i(410)])continue;const E=Math.round(_*(p.scale??1));for(let k=0;k<p.petalCount;k++){const G=f(p,k),H=G?.colorId??p[i(448)],I=H+"|"+E,K=o[i(437)](I);if(K?K[i(454)]+=1:o[i(419)](I,{colorId:H,fabricSizeMm:E,count:1}),p[i(436)]){const R=p.doublePetal,V=G?.[i(455)]??R.innerColorId??H,P=G?.innerSizeReduction??R[i(418)]??2,Q=Math[i(459)](3,Math[i(431)](a[i(411)](E,P))),W=V+"|"+Q,w=o.get(W);w?w.count+=1:o[i(419)](W,{colorId:V,fabricSizeMm:Q,count:1})}}}const N=v.placementMode??a[i(433)],m=N===""?a.PHXvL(er,v[i(442)]):v.baseDiameter??c[i(457)],j=N+"|"+m,g=b.get(j);g?g.count+=1:i(425)==="cbDFP"?b.set(j,{mode:N,baseDiameterMm:m,count:1}):_0x208c2d[i(454)]+=1}for(const v of c.leaves??[]){if(!v[i(410)])continue;const _=v[i(427)]??c[i(427)],N=Math[i(431)](_*(v[i(409)]??1)),m=v.colorId,j=m+"|"+N,g=o.get(j);if(g?g[i(454)]+=1:o[i(419)](j,{colorId:m,fabricSizeMm:N,count:1}),v.doublePetal)if(a.vdmjw===i(447)){const p=_0x5cd5ee.get(_0x4bfb97),E=_0x3775bc.sort((I,K)=>K[i(429)]-I.fabricSizeMm),k=E.reduce((I,K)=>I+K.count,0),G=a.zxpSD(_0x13b43f.round(E[i(406)]((I,K)=>{const R=i,V=a[R(463)](K.fabricSizeMm,10);return I+a.kAmMx(K[R(454)],V)*V},0)*100),100),H=a.zxpSD(_0x126ad8[i(431)](_0x444164.sqrt(G)*10),10);return{colorId:_0x5db348,colorName:p?.name??_0x3cdfc0,hex:p?.hex??a[i(452)],sizes:E,totalCount:k,totalAreaCm2:G,squareSideCm:H}}else{const p=v.doublePetal,E=p[i(455)]??m,k=Math.max(3,Math[i(431)](a.wRGyK(N,p.innerSizeReduction??2))),G=E+"|"+k,H=o[i(437)](G);if(H)if(a[i(415)](a[i(422)],i(426)))H.count+=1;else{const I=_0x3db9fe[i(436)],K=_0x501a2e?.[i(455)]??I.innerColorId??_0x2fcefe,R=_0xf77f5?.[i(418)]??I.innerSizeReduction??2,V=_0x3c8aa3[i(459)](3,_0x40b9b7[i(431)](_0x2ee5e4-R)),P=K+"|"+V,Q=_0x254f59[i(437)](P);Q?Q[i(454)]+=1:_0x1a38aa.set(P,{colorId:K,fabricSizeMm:V,count:1})}else o[i(419)](G,{colorId:E,fabricSizeMm:k,count:1})}}const y=new Map;for(const{colorId:v,fabricSizeMm:_,count:N}of o.values())if(a.iadKz(a.eBfwq,a.fmRBC))_0x2b5175[i(454)]+=1;else{const m=y[i(437)](v);m?m.entries[i(441)]({fabricSizeMm:_,count:N}):y[i(419)](v,{colorId:v,entries:[{fabricSizeMm:_,count:N}]})}const h=Array[i(446)](y[i(451)]()).map(({colorId:v,entries:_})=>{const N=i,m=r[N(437)](v),j=_[N(458)]((k,G)=>G[N(429)]-k.fabricSizeMm),g=j.reduce((k,G)=>k+G[N(454)],0),p=a[N(462)](Math[N(431)](a.nKidH(j.reduce((k,G)=>{const H=N,I=a[H(462)](G[H(429)],10);return k+a[H(428)](G.count*I,I)},0),100)),100),E=Math[N(431)](Math.sqrt(p)*10)/10;return{colorId:v,colorName:m?.name??v,hex:m?.[N(412)]??N(449),sizes:j,totalCount:g,totalAreaCm2:p,squareSideCm:E}}).sort((v,_)=>_.totalCount-v.totalCount),d=Array[i(446)](b[i(451)]())[i(458)]((v,_)=>{const N=i;return a.uLCeX(v.mode,_[N(423)])?a.iadKz(v.mode,a[N(433)])?-1:1:_[N(438)]-v.baseDiameterMm});return{colors:h,bases:d}}function G0(){const c=["ChvZAa","zMXVD2vYrgLHBwv0zxi","Cgv0ywXpDMvYCMLKzxm","thDTs0e","nti4mdy2vw52ANzQ","zNjVBq","BKTxwNi","y29SB3jjza","iZK5otK5oq","mJaYntG2rxvwqLDp","DMfSDwvZ","z1HUAfG","Dg9tDhjPBMC","y291BNq","Aw5UzxjdB2XVCKLK","otm5nZuZmfLqs0z5rq","yMfZzurPyw1LDgvY","C29YDa","Bwf4","yxbWBhK","Aw5KzxG","svjty3y","ENHWu0q","CMvKDwnL","kcGOlISPkYKRksSK","5y2k44gp44gz","C2nHBgu","DMLZAwjSzq","v2zoEMW","Agv4","mJG3mZaXq29qELL1","nhzhD29KCq","sKvmCLm","mtmWotu3nxPWzgzdBG","zw50CMLLCW","Aw5UzxjtAxPLuMvKDwn0Aw9U","C2v0","ode1mJj2rxDOwM0","ntaWmty1nKP4Ew1sCG","u0vdv1i","Bw9Kzq","mvjYBNbQAa","y2jerLa","ufrYweW","zMfICMLJu3f1yxjLu2L6zq","BKTPzeG","zMfICMLJu2L6zu1T","y29UC3rYDwn0B3i","CM91BMq","CgfSzxr0zq","twjewxC","C2vHCMnO","ywHZDKW","zg91yMXLugv0ywW","z2v0","yMfZzurPyw1LDgvYtw0","nKzbzffbDa","y0Xgy1q"];return G0=function(){return c},G0()}(function(c,i){const a=mn,r=c();for(;;)try{if(-parseInt(a(330))/1+parseInt(a(373))/2+parseInt(a(339))/3+parseInt(a(349))/4+-parseInt(a(346))/5*(-parseInt(a(360))/6)+parseInt(a(352))/7*(parseInt(a(348))/8)+-parseInt(a(382))/9*(parseInt(a(383))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(q0,359615);const Wh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Cs=Wh(void 0,function(){const c=mn,i={JOBYC:"(((.+)+)+)+$"};return Cs[c(372)]().search(i[c(392)])[c(372)]()[c(368)](Cs)[c(385)]("(((.+)+)+)+$")});function mn(c,i){c=c-329;const a=q0();let r=a[c];if(mn.WyXtTe===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};mn.dDTiqW=o,mn.Rwpkeg={},mn.WyXtTe=!0}const f=a[0],b=c+f,y=mn.Rwpkeg[b];if(y)r=y;else{const h=function(d){this.EibHMO=d,this.rSRSMZ=[1,0,0],this.RqFGOz=function(){return"newState"},this.xBBhjY="\\w+ *\\(\\) *{\\w+ *",this.yXuQHl=`['|"].+['|"];? *}`};h.prototype.kbJJBQ=function(){const d=new RegExp(this.xBBhjY+this.yXuQHl),v=d.test(this.RqFGOz.toString())?--this.rSRSMZ[1]:--this.rSRSMZ[0];return this.bGyOob(v)},h.prototype.bGyOob=function(d){return~d?this.evoGZZ(this.EibHMO):d},h.prototype.evoGZZ=function(d){for(let v=0,_=this.rSRSMZ.length;v<_;v++)this.rSRSMZ.push(Math.round(Math.random())),_=this.rSRSMZ.length;return d(this.rSRSMZ[0])},new h(mn).kbJJBQ(),r=mn.dDTiqW(r),mn.Rwpkeg[b]=r}return r}Cs();function Qh(c,i){const a=mn,r={XbSZc:"[data-testid]",CRwMc:"viewBox",YKSav:function(m,j){return m??j},hFWKI:function(m,j){return m(j)},npyjM:"rect",dHSbz:"100%",IFAuR:"white",OUPFZ:"[data-grid]",EQzFS:a(336),FUkxz:function(m,j){return m+j},mSuDu:a(329)},o=c.cloneNode(!0);o[a(344)](r.XbSZc).forEach(m=>m.removeAttribute("data-testid")),o.removeAttribute("style");const f=c[a(389)](r.CRwMc);f&&o.setAttribute("viewBox",f);const b=r.YKSav(f,"0 0 200 200").split(/[\s,]+/).map(Number),y=b[2]??200,h=b[3]??200;o.setAttribute(a(345),r.hFWKI(String,y)),o[a(390)](a(391),String(h)),o[a(390)](a(364),"http://www.w3.org/2000/svg");const d=document.createElementNS("http://www.w3.org/2000/svg",r.npyjM);d.setAttribute("width",r.dHSbz),d[a(390)]("height",a(374)),d.setAttribute("fill",r[a(375)]),o.insertBefore(d,o[a(338)]),o.querySelectorAll(r[a(337)])[a(347)](m=>m.remove()),o.querySelectorAll(a(332)).forEach(m=>m.remove()),o[a(344)](r[a(355)])[a(347)](m=>m[a(365)]()),o[a(344)]("[data-marquee]").forEach(m=>m[a(365)]());const v=new XMLSerializer,_=r[a(386)](r[a(354)],v[a(363)](o)),N=new Blob([_],{type:"image/svg+xml;charset=utf-8"});$d(N,i.endsWith(".svg")?i:i+a(357))}function q0(){const c=["AgvPz2H0","sK9cwum","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","ndm3nJC3zKzdvMD2","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","lNrZDw1HBwKTC2vSlwrHC2G","y3jLyxrLt2jQzwn0vvjm","w2rHDgeTz3jPzf0","D2HPDgu","lNrZDw1HBwKTz3jVDxaTzgfZAa","t1vqrLO","zMLYC3rdAgLSza","nZaWmJzzq2v1sge","uvjmtvu","wwT1Cfu","B25SB2fK","wLPsA3C","CxvLCNLtzwXLy3rVCKfSBa","D2LKDgG","mtGYmdu1mfjACwvkzG","zM9YrwfJAa","mZm3mJq3mMT1AwPWsq","mtCWndq1nMXssuX6BG","CMvTB3zLq2HPBgq","Afb2tNe","n3PMBwznyq","CMv2B2TLt2jQzwn0vvjm","Bvn1rhu","rvf6rLm","B25LCNjVCG","lNn2zW","y2XPy2S","zgf0ys10zxn0Awq","nMXVDejdtG","y3jLyxrLrwXLBwvUDa","lNbUzW","C2vYAwfSAxPLvg9tDhjPBMC","Eg1SBNm","CMvTB3zL","ywv3wNa","CvPJzxK","y29UC3rYDwn0B3i","kcGOlISPkYKRksSK","DMLLD0jVEa","AhjLzG","Dg9tDhjPBMC","mZqWmtuWz0HQtvPl","mtaWjq","suzbDvi","CMvTB3zLqxr0CMLIDxrL","uLjtzeK","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","Dg9cBg9I","BwfW","zw5KC1DPDgG","mtHyzxbtqxi","mZaZotu0mhrny1LYra","vhHlr3y","C2vHCMnO","rLvREhO","C3bSAxq","Derhs1e","z2v0qxr0CMLIDxrL","C2v0qxr0CMLIDxrL"];return q0=function(){return c},q0()}function Ph(c,i,a=2){const r=mn,o={eNiQR:"canvas",QRLMU:function(g,p){return g*p},TxKGv:"style",XLega:".tsumami-group-dash",ZZRkw:r(370),aewZp:function(g,p){return g??p},qZcey:"0 0 200 200",IiRga:r(345),Hvrfr:function(g,p){return g(p)}},f=c.cloneNode(!0);f.querySelectorAll("[data-testid]").forEach(g=>g[r(376)](r(359))),f.removeAttribute(o[r(384)]),f.querySelectorAll(r(334)).forEach(g=>g[r(365)]()),f[r(344)](r(332))[r(347)](g=>g.remove()),f.querySelectorAll(o.XLega).forEach(g=>g[r(365)]()),f[r(344)]("[data-marquee]").forEach(g=>g[r(365)]());const b=c.getAttribute(o[r(343)]),y=o[r(366)](b,"0 0 200 200")[r(387)](/[\s,]+/)[r(380)](Number),h=y[2]??200,d=y[3]??200;f[r(390)]("viewBox",b??o[r(367)]),f[r(390)](o.IiRga,String(h)),f[r(390)](r(391),o.Hvrfr(String,d)),f.setAttribute("xmlns",r(331));const v=new XMLSerializer,_=v[r(363)](f),N=new Blob([_],{type:r(378)}),m=URL[r(333)](N),j=new Image;j[r(342)]=()=>{const g=r,p={RRSdI:g(388)},E=document[g(361)](o.eNiQR);E[g(345)]=h*a,E.height=o[g(340)](d,a);const k=E.getContext("2d");if(!k){URL[g(353)](m);return}k.fillStyle=g(335),k.fillRect(0,0,E.width,E[g(391)]),k.drawImage(j,0,0,E[g(345)],E.height),E[g(379)](G=>{const H=g;if(H(369),G){if(p[H(377)]===H(341))return _0xb410c6[H(372)]()[H(385)](H(369)).toString()[H(368)](_0x176b96).search(PGSnPo[H(351)]);$d(G,i[H(381)](".png")?i:i+H(362))}URL.revokeObjectURL(m)},"image/png")},j[r(356)]=()=>{URL.revokeObjectURL(m)},j.src=m}function $d(c,i){const a=mn,r=URL.createObjectURL(c),o=document[a(361)]("a");o[a(371)]=r,o.download=i,document.body.appendChild(o),o[a(358)](),document.body[a(350)](o),URL.revokeObjectURL(r)}function C0({active:c,disabled:i,onClick:a,children:r,...o}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...o,children:r})}const Fh="v0.1.0-dev";function $h(c){const{view:i,onNavigate:a,project:r}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Fh})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(C0,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(C0,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(C0,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),s.jsx(C0,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function em(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(i=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:i.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function ws({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function tm(c){const[i,a]=$.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(ws,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}(function(c,i){const a=Tn,r=c();for(;;)try{if(parseInt(a(315))/1+-parseInt(a(369))/2*(parseInt(a(348))/3)+-parseInt(a(313))/4*(-parseInt(a(346))/5)+-parseInt(a(339))/6+parseInt(a(361))/7+parseInt(a(303))/8+parseInt(a(319))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(R0,835931);const nm=(function(){let c=!0;return function(i,a){const r=c?function(){const o=Tn;if(a){const f=a[o(356)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),js=nm(void 0,function(){const c=Tn,i={JpSEJ:c(364)};return js.toString()[c(343)](i[c(352)]).toString()[c(360)](js).search(i.JpSEJ)});js();function Tn(c,i){c=c-300;const a=R0();let r=a[c];if(Tn.nBBLms===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Tn.fudBaj=o,Tn.CFqBiO={},Tn.nBBLms=!0}const f=a[0],b=c+f,y=Tn.CFqBiO[b];if(y)r=y;else{const h=function(d){this.zymwTQ=d,this.qcDDij=[1,0,0],this.roHUwn=function(){return"newState"},this.TgjjYa="\\w+ *\\(\\) *{\\w+ *",this.rCogpo=`['|"].+['|"];? *}`};h.prototype.OhzUKJ=function(){const d=new RegExp(this.TgjjYa+this.rCogpo),v=d.test(this.roHUwn.toString())?--this.qcDDij[1]:--this.qcDDij[0];return this.QzsagN(v)},h.prototype.QzsagN=function(d){return~d?this.FkJjOi(this.zymwTQ):d},h.prototype.FkJjOi=function(d){for(let v=0,_=this.qcDDij.length;v<_;v++)this.qcDDij.push(Math.round(Math.random())),_=this.qcDDij.length;return d(this.qcDDij[0])},new h(Tn).OhzUKJ(),r=Tn.fudBaj(r),Tn.CFqBiO[b]=r}return r}function R0(){const c=["y3vYCMvUDa","zMXVD2vYswq","kcGOlISPkYKRksSK","u1bMC3O","ANzsBMi","DKrTrg4","C3rHCNrsB3rHDgLVBG","nfPfAePXCG","Cgv0ywXbBMDSzq","y3vYC29Y","Bwf4","mtu0mZiXnKfWs0Duua","tuDXveW","v1fHBeu","r0rxAgS","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","l3rZDw1HBwKV","ChjLDMvUDerLzMf1Bhq","u0fkvMe","AhLWB3q","zMLUza","nJbRqwTzDgG","Bw9Kzq","odyWmdC1DxD6uwHM","zMXVD2vYrgLHBwv0zxi","Ew9vAwO","C2v0ug9PBNrLCKnHChr1CMu","mtu3otG5mZnMC0THCxy","C01TDgO","seLtB1K","zvrHEuu","C2nHBgu","CM90yxrPB24","y3vYCMvUDfrHCMDLDa","CgvWCK4","BwfW","Cgv0ywXdB3vUDa","yxrHBJi","C2LU","qvDxu3u","qvbhvvq","Cg9ZAxrPB24","Bgf5zxjjza","DNjYy3C","C3rHCNreAxn0","C3r5Bgu","CMfKAxvZ","nZK3nZq3nfngt0DjBa","zMXVD2vYCW","Bgf5zxi","ELvdAw0","C2vHCMnO","B2zMC2v0qw5NBgu","zMXVD2vY","mJuYndvxrgXxuhO","DxjSkci","mtK1otaXofDKwun5rq","sLvnwgi","v1HYsKy","y29Z","sNbtruO","DKfnsee","uLHPwwu","Cg9PBNrLCKLK","yxbWBhK","t1nmzhe","Bgf5zxjZ","C3rHCNrbBMDSzq","y29UC3rYDwn0B3i","ndeXmtyXmxfIwLjfBW"];return R0=function(){return c},R0()}function lm(c){const i=Tn,a={SPfsz:"/tsumami/",WXrJF:function(R,V){return R===V},GDWhk:function(R,V){return R-V},peprN:function(R,V){return R*V},yJXdo:function(R,V,P,Q){return R(V,P,Q)},vrrcw:function(R,V){return R*V},WQalE:i(345),IEqnL:function(R,V,P,Q){return R(V,P,Q)},JUMXb:function(R,V){return R/V},Tcbpw:function(R,V,P){return R(V,P)},SAJVa:function(R,V){return R(V)},nLXbf:i(341),jvRnb:function(R,V){return R===V},eTayE:"zjMGV",TBgZO:function(R,V){return R(V)},FbpUV:function(R,V){return R*V},APGUT:function(R,V){return R-V},yYrUa:function(R,V){return R+V},AWWSu:function(R,V){return R/V},HISoY:function(R,V){return R*V},umrHx:function(R,V){return R-V},vAMHA:function(R,V){return R-V},UCBdf:function(R,V,P,Q){return R(V,P,Q)},OSLdq:function(R,V){return R/V},yoUij:"ZtjoD",JbaED:i(367),RXiYe:function(R,V){return R-V},MGqTL:function(R,V,P,Q){return R(V,P,Q)},sMmtj:function(R,V){return R(V)}},{project:r,applyUpdate:o,stageRef:f,clientToSvgPoint:b}=c,y=$.useRef(null),h=(R,V,P,Q)=>{const W=i;P[W(309)](),P[W(325)]?.setPointerCapture?.(P[W(355)]),f[W(362)]&&(f.current.style[W(301)]='url("'+a[W(365)]+'scale_cursor_32.png?v=16") 16 16, ns-resize');const w=r.flowers[W(312)](q=>q.id===V);if(!w)return;const C=a.WXrJF(R,W(341))&&Q?.layerId?w[W(358)].filter(q=>q.id===Q[W(334)]).map(q=>({layerId:q.id,scale:q[W(323)]??1,radius:q.radius??10})):w.layers[W(327)](q=>({layerId:q.id,scale:q[W(323)]??1,radius:q.radius??10})),L=b(P),M=w.position.x,z=w.position.y,T=Math.hypot(a[W(306)](L.x,M),a.GDWhk(L.y,z));y[W(362)]={mode:R,flowerId:V,layerId:Q?.[W(334)],startScales:C,startDiam:w[W(316)]||60,startDist:T}},d=R=>{const V=i,P=y.current;if(!P)return;const Q=r[V(340)].find(M=>M.id===P[V(363)]);if(!Q)return;const W=b(R),w=Math.hypot(W.x-Q[V(333)].x,W.y-Q.position.y),C=Math[V(302)](1,P[V(336)]??1),L=Ce(a[V(349)](w,C),.3,3);o(M=>{const z=V,T=M.flowers.find(q=>q.id===P.flowerId);if(T){for(const q of P.startScales){const X=T[z(358)][z(312)](O=>O.id===q.layerId);X&&(X.scale=Ce(a[z(326)](q[z(323)],L),.3,3),P[z(314)]==="flower"&&(X[z(338)]=a.yJXdo(Ce,a[z(335)](q.radius,L),2,120)))}a[z(350)](P[z(314)],a[z(305)])&&(T[z(316)]=a.IEqnL(Ce,a.peprN(P.startDiam,L),10,200))}},!1)},v=()=>{const R=i;y[R(362)]&&(a.Tcbpw(o,()=>{},!0),f[R(362)]&&(f.current.style[R(301)]=""),y.current=null)},_=a[i(320)]($.useRef,null),N=(R,V,P,Q)=>{const W=i;P.preventDefault(),P[W(325)]?.[W(318)]?.(P.pointerId),f[W(362)]&&(f.current.style[W(301)]='url("/tsumami/'+W(307));const w=r.flowers.find(z=>z.id===V);if(!w)return;const C=a[W(310)](b,P),L=a.vrrcw(Math[W(329)](C.y-w[W(333)].y,C.x-w[W(333)].x),180/Math.PI),M=R===a.nLXbf&&Q?.[W(334)]?w.layers[W(312)](z=>z.id===Q.layerId)?.[W(344)]??0:w[W(324)]??0;_.current={mode:R,flowerId:V,layerId:Q?.[W(334)],startAngle:L,startRotation:M}},m=R=>{const V=i,P=_[V(362)];if(!P)return;const Q=r.flowers.find(M=>M.id===P.flowerId);if(!Q)return;const W=a.TBgZO(b,R);let C=a.FbpUV(Math[V(329)](W.y-Q[V(333)].y,a[V(332)](W.x,Q[V(333)].x)),a[V(349)](180,Math.PI))-P[V(359)];for(;C>180;)C-=360;for(;C<-180;)C+=360;const L=a.yYrUa(P[V(368)],C);o(M=>{const z=V,T=M[z(340)][z(312)](q=>q.id===P.flowerId);if(T)if(a[z(366)](P.mode,"layer")&&P.layerId)if(a[z(322)]!==a[z(322)])_0x765f15[z(362)].style[z(301)]=z(347)+z(308)+'rotate_cursor_active_32.png") 16 16, grabbing';else{const q=T[z(358)][z(312)](X=>X.id===P.layerId);q&&(q.offsetAngle=L)}else T.rotation=L},!1)},j=()=>{const R=i;_[R(362)]&&(o(()=>{},!0),f.current&&(f[R(362)].style.cursor=""),_.current=null)},g=$.useRef(null),p=(R,V,P,Q)=>{const W=i;P.preventDefault(),P[W(325)]?.[W(318)]?.(P[W(355)]),f[W(362)]&&(f[W(362)].style[W(301)]=W(347)+W(308)+'width_cursor_32.png?v=16") 16 16, ew-resize');const w=r[W(340)][W(312)](le=>le.id===V);if(!w)return;const C=Q?.layerId?w.layers.find(le=>le.id===Q[W(334)]):null;if(!C)return;const L=b(P),M=w.position.x,z=w.position.y,T=Q?.petalIndex??0,q=a[W(331)](360,Math[W(302)](1,C[W(328)])),X=(C[W(344)]+a[W(321)](T,q)+w.rotation)*(Math.PI/180),O=a.umrHx(L.x,M),D=L.y-z,B=-Math[W(330)](X),Y=Math[W(351)](X),Z=Math.abs(O*B+D*Y);g[W(362)]={mode:R,flowerId:V,layerId:Q?.layerId,petalAngle:X,startDist:Math[W(302)](1,Z),startWidthScale:C.widthScale??1}},E=R=>{const V=i,P=g.current;if(!P)return;const Q=r[V(340)][V(312)](X=>X.id===P[V(363)]);if(!Q)return;const W=a.SAJVa(b,R),w=W.x-Q.position.x,C=a[V(353)](W.y,Q[V(333)].y),L=-Math[V(330)](P[V(300)]),M=Math.cos(P.petalAngle),z=Math.abs(a.yYrUa(w*L,C*M)),T=a.UCBdf(Ce,a[V(357)](z,P[V(336)]),.3,3),q=Ce(P.startWidthScale*T,.3,3);o(X=>{const O=V,D=X.flowers[O(312)](Y=>Y.id===P[O(363)]);if(!D)return;const B=D.layers.find(Y=>Y.id===P.layerId);B&&(B.widthScale=q)},!1)},k=()=>{const R=i;g.current&&(o(()=>{},!0),f.current&&(f.current.style[R(301)]=""),g.current=null)},G=$.useRef(null);return{scaleDragRef:y,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:v,rotationDragRef:_,beginRotationDrag:N,updateRotationDrag:m,endRotationDrag:j,widthScaleDragRef:g,beginWidthScaleDrag:p,updateWidthScaleDrag:E,endWidthScaleDrag:k,radiusDragRef:G,beginRadiusDrag:(R,V,P,Q)=>{const W=i;P[W(309)](),P.currentTarget?.[W(318)]?.(P.pointerId),f.current&&(a[W(317)]!==a.JbaED?f.current[W(337)].cursor=W(347)+a.SPfsz+'radius_cursor_32.png?v=16") 16 16, nwse-resize':_0x5db400[W(324)]=_0x315d2e);const w=r.flowers.find(z=>z.id===V);if(!w)return;const C=Q?.layerId?w.layers.find(z=>z.id===Q.layerId):null;if(!C)return;const L=a.TBgZO(b,P),M=Math[W(311)](a.umrHx(L.x,w[W(333)].x),a.APGUT(L.y,w.position.y));G[W(362)]={mode:R,flowerId:V,layerId:Q?.layerId,startDist:Math[W(302)](1,M),startRadius:C.radius??28}},updateRadiusDrag:R=>{const V=i,P=G[V(362)];if(!P)return;const Q=r.flowers[V(312)](M=>M.id===P[V(363)]);if(!Q)return;const W=b(R),w=Math.hypot(a[V(354)](W.x,Q[V(333)].x),W.y-Q.position.y),C=w-P.startDist,L=a[V(304)](Ce,P.startRadius+C,5,100);o(M=>{const z=V,T=M[z(340)].find(X=>X.id===P.flowerId);if(!T)return;const q=T.layers[z(312)](X=>X.id===P[z(334)]);q&&(q.radius=L)},!1)},endRadiusDrag:()=>{const R=i;if(R(342)==="BGcWP"){if(!_0x5414c8[R(362)])return;_0x4bd315(()=>{},!0),_0x174cc3.current&&(_0x173ae6.current.style[R(301)]=""),_0x2f7b00.current=null}else{if(!G[R(362)])return;o(()=>{},!0),f.current&&(f[R(362)][R(337)].cursor=""),G[R(362)]=null}}}}(function(c,i){const a=zt,r=c();for(;;)try{if(parseInt(a(389))/1+-parseInt(a(397))/2*(parseInt(a(403))/3)+-parseInt(a(381))/4*(-parseInt(a(405))/5)+-parseInt(a(376))/6+-parseInt(a(442))/7*(parseInt(a(373))/8)+parseInt(a(441))/9*(-parseInt(a(398))/10)+parseInt(a(449))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(k0,151461);const am=(function(){const c=zt,i={qPlOh:function(r,o){return r*o},wGSdB:function(r,o){return r<=o},inXNc:c(419)};let a=!0;return function(r,o){const f=c,b={RtNHh:function(h,d){return i.qPlOh(h,d)},rQoka:function(h,d){return h-d},DIVFA:function(h,d){return i[zt(406)](h,d)},iOIex:function(h,d){return h>d},RDlOu:function(h,d){return i[zt(420)](h,d)},ioEos:i[f(371)],FZdUQ:function(h,d){return h!==d}},y=a?function(){const h=f;if(o)if(b.FZdUQ("aSEuh",h(412))){const d=o[h(401)](r,arguments);return o=null,d}else{const d=_0x2795c3.scale??1,v=b.RtNHh(_0x5d7679,d),_=.28,N=_0x4df233.max(0,b.rQoka(_0x2102aa.radius,b.DIVFA(v,_)));if(b.iOIex(N,0)){const j=_0x595833[h(409)](_0x17cedb-N);if(b.RDlOu(j,6))return{zone:b.ioEos,layerId:_0xf495d8.id}}}}:function(){};return a=!1,y}})(),Ms=am(void 0,function(){const c=zt,i={iCxqg:c(437)};return Ms.toString()[c(387)](i.iCxqg)[c(429)]()[c(375)](Ms).search(i[c(427)])});Ms();function ni(c,i,a,r,o){const f=zt,b={dfbDT:function(I,K){return I(K)},VKnIH:function(I,K){return I*K},ilvvl:function(I,K){return I<=K},BhVSF:function(I,K){return I*K},iyySK:function(I,K){return I>K},FxDzX:"radius",dPtfG:function(I,K){return I(K)},LowHn:function(I,K){return I===K},wgFcx:f(416),ABEUP:f(417),VBxIP:function(I,K){return I+K},WrNHO:function(I,K){return I(K)},ZBxyG:function(I,K){return I-K},jHQDz:function(I,K){return I/K},CJcaN:function(I,K){return I<K},iEpxO:function(I,K){return I>K},ucWAN:f(426),PhWmT:"scale",WtFfp:function(I,K){return I-K},WMSpl:function(I,K){return I<=K}},{length:y}=Yt(a[f(386)]??r.fabricSquareSize),h=c-a[f(399)].x,d=i-a[f(399)].y,v=Math[f(404)](h,d);let _=1/0;for(const I of a[f(430)]){if(!I.visible)continue;const K=I.scale??1,R=y*K,V=.28,P=Math.max(0,I[f(419)]-R*V);P<_&&(_=P)}b.dfbDT(isFinite,_)||(_=0);const N=Math[f(451)](b[f(377)](_,.9),8);if(b.ilvvl(v,N))return{zone:f(390)};if(o[f(439)]==="layer"){const I=a[f(430)].find(K=>K.id===o.layerId&&K.visible);if(I){const K=I.scale??1,R=y*K,V=.28,P=Math[f(451)](0,I.radius-b.BhVSF(R,V));if(b[f(432)](P,0)&&Math[f(409)](v-P)<=6)return{zone:b.FxDzX,layerId:I.id}}}const m=b.dPtfG(pa,-(a.rotation??0)),j=h*Math.cos(m)-b[f(377)](d,Math.sin(m)),g=h*Math[f(424)](m)+d*Math.cos(m),p=b[f(423)](o.kind,b[f(394)])?a[f(430)][f(431)](I=>I.id===o.layerId&&I.visible):a.layers[f(431)](I=>I.visible);let E=b[f(400)],k,G,H=1/0;for(const I of p){const K=I[f(388)]??1,R=y*K,V=I[f(435)]??1,P=y/2*V*K,Q=.28,W=Math.max(0,I.radius-R*Q),w=360/Math[f(451)](1,I.petalCount);for(let C=0;C<I.petalCount;C++){const L=b[f(434)](I.offsetAngle,b.VKnIH(C,w)),M=b[f(379)](pa,L),z=Math.cos(M)*W,T=Math[f(424)](M)*W,q=b[f(448)](j,z),X=g-T,O=Math.cos(-M),D=Math[f(424)](-M),B=b[f(421)](q,O)-X*D,Y=b[f(434)](b[f(421)](q,D),X*O),Z=b.jHQDz(B,R),le=Y/P;if(b.CJcaN(Z,-.05)||Z>1.08||b.iEpxO(Math[f(409)](le),.75))continue;const ce=Math.hypot(Z-.5,le);ce>=H||(H=ce,k=I.id,G=C,b[f(433)](Math[f(409)](le),.45)?E=b.ucWAN:Z>.75?E="rotate":E=b[f(443)])}}if(E==="none"){let I=12;for(const V of a.layers){if(!V[f(438)])continue;const P=V.scale??1,Q=y*P,W=.28,w=Math.max(0,b[f(372)](V[f(419)],Q*W));I=Math[f(451)](I,b.VBxIP(w,Q))}const K=8,R=Math[f(409)](b[f(372)](v,I));if(b.WMSpl(R,K))return{zone:b[f(443)]}}return{zone:E,layerId:k,petalIndex:G}}function k0(){const c=["Bw92zq","thf2reK","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","C2vSsva","z3rrtvK","Bgf5zxi","BM9Uzq","BffAq28","CMfKAxvZ","D0Dtzei","qMHwu0y","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","tg93sg4","C2LU","zurYu0q","D2LKDgG","Aun4CwC","z3jHyG","Dg9tDhjPBMC","Bgf5zxjZ","zMLSDgvY","AxL5u0S","AuvWEe8","vKj4sva","D2LKDgHty2fSzq","qMvOBuO","kcGOlISPkYKRksSK","DMLZAwjSzq","A2LUza","Agj0suK","mJaWmJeXm3fmExbqra","mJG4oti1z3f3Dw5w","ugHxBvq","DxjSkci","rePvseK","zxbfz3O","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","wKj4EuC","nJuWntm2n2HSqxDwuq","wgXjy0C","Bwf4","y29Z","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","CM90yxrL","Aw5ytMm","v3rgzNa","mJrUzwfUqxC","ruLyEgu","y29UC3rYDwn0B3i","mtq2mdG2ohHzC2vVBa","vKTUsuG","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","v3jose8","zMXVD2vY","ne1ivuPltq","q2XvChK","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","yuHHC2K","vunxBvu","zMfICMLJu3f1yxjLu2L6zq","C2vHCMnO","C2nHBgu","oda4ndv0CMvnA1i","y2vUDgvY","CM90yxrPB24","AgL0tgf5zxjjza","BfPNEuK","D2Dgy3G","uxHhu1C","qMvqwxO","mJu3nLDisLLAsq","mtbht2Dpwha","Cg9ZAxrPB24","qujfvva","yxbWBhK","Cgv0ywW","ndm1txbYqLbP","AhLWB3q","mti3ody5nwTgCNPlAG","CvbSt2G","zLHiuLK","q29hyKy","ywjZ","svr2v20"];return k0=function(){return c},k0()}function j0(c,i,a){const r=zt,o={wSqkH:r(454),ITvWm:function(f,b){return f===b},QxGSW:r(417),hbtII:"scale",HVGkk:function(f,b){return f*b},CoGbF:function(f,b){return f-b},yDtIP:function(f,b){return f>b},YPUMP:r(445),aHasi:function(f,b){return f===b},eDrSD:r(416)};if(o.ITvWm(c,r(390)))return r(390);if(o[r(410)](c,"none"))return o[r(395)];switch(i){case"flower":{if(c===o.hbtII)return o[r(440)];if(o[r(410)](c,"rotate")&&a?.[r(392)]&&a[r(380)]&&a.length!=null){let f,b=-1/0;for(const y of a.flower[r(430)]){if(!y.visible)continue;const h=y.scale??1,d=o.HVGkk(a.length,h),v=.28,_=Math[r(451)](0,o[r(408)](y[r(419)],o.HVGkk(d,v))),N=_+d;o.yDtIP(N,b)&&(o.YPUMP!==o.YPUMP?_0x323050=AJGnAA.wSqkH:(b=N,f=y.id))}return o[r(384)](a.hitLayerId,f)?"rotate":o[r(440)]}return o[r(440)]}case o[r(425)]:return c;case r(402):case"petals":return o.hbtII;default:return o[r(440)]}}function im(c,i,a,r){const o=zt,f={UCWmU:function(G,H){return G*H},EIXxe:function(G,H){return G/H},epEgz:function(G,H){return G>H},HRZSw:o(417),OIkvH:o(426),BehmJ:o(388),asXWv:o(411)},b=a.fabricSquareSize??r[o(386)],{length:y,width:h}=Yt(b),d=a[o(388)]??1,v=y*d,_=h*(a[o(435)]??1)*d,N=c-a[o(399)].x,m=i-a[o(399)].y,j=pa(-(a[o(391)]??0)),g=f[o(385)](N,Math[o(452)](j))-f[o(385)](m,Math[o(424)](j)),p=f.UCWmU(N,Math.sin(j))+f.UCWmU(m,Math[o(452)](j)),E=f[o(374)](g,v),k=f[o(374)](p,_);return E<-.05||f[o(446)](E,1.08)?"none":f.epEgz(Math.abs(k),.75)?f.HRZSw:f[o(446)](Math[o(409)](k),.45)?f.OIkvH:E>.75?"rotate":E>.3?f[o(436)]:f.asXWv}function $i(c,i){const a=zt,r={Vszqs:"rotate",fgtoV:"scale",ZUMNb:a(426),XlIcG:a(411),fXHRY:a(417),gtQMY:"grab"};switch(c){case r.Vszqs:return'url("'+i+'rotate_cursor_32.png") 16 16, crosshair';case r.fgtoV:return a(444)+i+a(422);case r.ZUMNb:return a(444)+i+a(453);case r[a(450)]:return ir(i);case r[a(407)]:default:return r[a(415)]}}function Ud(c,i){const a=zt,r={ClUpy:"center",lZgyI:a(454),lQZCo:a(426),selIP:"move",BePYz:a(417)};switch(c){case r[a(382)]:return"pointer";case r[a(393)]:return a(444)+i+a(413);case a(388):return'url("'+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case r[a(418)]:return a(444)+i+a(453);case"radius":return a(444)+i+a(383);case r[a(414)]:return ir(i);case r[a(396)]:default:return a(428)}}function ir(c){return'url("'+c+'move_object_cursor_32.png") 16 16, move'}function zt(c,i){c=c-371;const a=k0();let r=a[c];if(zt.qBHdfg===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};zt.mHRWkT=o,zt.QcfRgV={},zt.qBHdfg=!0}const f=a[0],b=c+f,y=zt.QcfRgV[b];if(y)r=y;else{const h=function(d){this.uYZmhY=d,this.jhuGUz=[1,0,0],this.ziwogy=function(){return"newState"},this.agfFpx="\\w+ *\\(\\) *{\\w+ *",this.bfypiQ=`['|"].+['|"];? *}`};h.prototype.YhELXw=function(){const d=new RegExp(this.agfFpx+this.bfypiQ),v=d.test(this.ziwogy.toString())?--this.jhuGUz[1]:--this.jhuGUz[0];return this.sIRxnV(v)},h.prototype.sIRxnV=function(d){return~d?this.jmYBca(this.uYZmhY):d},h.prototype.jmYBca=function(d){for(let v=0,_=this.jhuGUz.length;v<_;v++)this.jhuGUz.push(Math.round(Math.random())),_=this.jhuGUz.length;return d(this.jhuGUz[0])},new h(zt).YhELXw(),r=zt.mHRWkT(r),zt.QcfRgV[b]=r}return r}function qn(c){return'url("'+c+'move_object_active_32.png") 16 16, grabbing'}function rm(c){const i=zt;return i(444)+c+i(447)}function cm(c){const i=zt;return i(444)+c+i(378)}(function(c,i){const a=Qt,r=c();for(;;)try{if(parseInt(a(284))/1*(parseInt(a(195))/2)+parseInt(a(265))/3*(parseInt(a(243))/4)+parseInt(a(247))/5*(parseInt(a(270))/6)+-parseInt(a(220))/7*(-parseInt(a(256))/8)+parseInt(a(244))/9*(-parseInt(a(276))/10)+parseInt(a(264))/11*(parseInt(a(254))/12)+-parseInt(a(277))/13*(parseInt(a(242))/14)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(I0,339254);const um=(function(){let c=!0;return function(i,a){const r=c?function(){const o=Qt;if(a){const f=a[o(229)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),zs=um(void 0,function(){const c=Qt,i={ekNYG:c(212)};return zs.toString().search(i[c(239)]).toString()[c(292)](zs).search(i.ekNYG)});zs();function Qt(c,i){c=c-192;const a=I0();let r=a[c];if(Qt.jjliZI===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Qt.aTckuq=o,Qt.OsSRef={},Qt.jjliZI=!0}const f=a[0],b=c+f,y=Qt.OsSRef[b];if(y)r=y;else{const h=function(d){this.sGMDqJ=d,this.dPwlId=[1,0,0],this.PqsYAX=function(){return"newState"},this.oJTZSW="\\w+ *\\(\\) *{\\w+ *",this.wejzzF=`['|"].+['|"];? *}`};h.prototype.inrUcD=function(){const d=new RegExp(this.oJTZSW+this.wejzzF),v=d.test(this.PqsYAX.toString())?--this.dPwlId[1]:--this.dPwlId[0];return this.KaDRBO(v)},h.prototype.KaDRBO=function(d){return~d?this.GuIKtt(this.sGMDqJ):d},h.prototype.GuIKtt=function(d){for(let v=0,_=this.dPwlId.length;v<_;v++)this.dPwlId.push(Math.round(Math.random())),_=this.dPwlId.length;return d(this.dPwlId[0])},new h(Qt).inrUcD(),r=Qt.aTckuq(r),Qt.OsSRef[b]=r}return r}const w0=500*ln;function I0(){const c=["ognKwxbKAq","Bw92zwq","s3bvCLG","DxbKyxrLuMfKAxvZrhjHzW","BvblwLe","zMXVD2vYswq","BKfLvhG","AxLkAu8","mtu0u2vkCK5o","mtiWm3HPAffozq","DxbKyxrLu2nHBgveCMfN","tKvjrwy","v2Xrte4","re9eugy","mtC3me9YzKP5ra","ug95Agi","qK5dt2S","ChjLDMvUDerLzMf1Bhq","EfHuvKy","C3rHCNrqB3m","ntbft1Hnvxi","mJG0ode3Aw1ewKPH","tNrJqvi","y3vYCMvUDfn2zW","rNzjBxO","DwLKAvu","uhjOELK","C3rHCNrtDMC","mJeYotGXugjVDuDh","ChvZAa","C3rHCNrdBgLLBNq","C2HPzNrlzxK","Bgf5zxjjza","qMPwwgi","ywjZ","v1riEuy","y29UC3rYDwn0B3i","zMLUza","sNPPqva","zMXVD2vY","DxHet24","ngzTv3r0uG","C3rHCNrAB29T","DxbKyxrLuM90yxrPB25eCMfN","BNjvCfy","y2XPzw50wq","Bg9Kte0","C3rHCNq","BwLU","A2LUza","rLrQuK0","qNf3B0i","BML4z08","zw5KuM90yxrPB25eCMfN","zwzds2S","zMXVD2vYCW","vMvVwwO","CgfUma","kcGOlISPkYKRksSK","Cg9ZAxrPB24","Cg9PBNrLCKLK","uxzUtvO","zMXVD2vYswrZ","yMvNAw5sB3rHDgLVBKrYywC","rNDnvfK","zgn5sKy","mJa3odKZmgjxrwPAuG","CeT5weq","vKnorhK","C2v0ug9PBNrLCKnHChr1CMu","C2vHCMnO","zePrvgW","BMHgDg4","D0v1zLa","u0nOvfm","yxbWBhK","y2XPy2TqzxrHBa","uKvrvgS","y3vYCMvUDfrHCMDLDa","AxntAgLMDfbYzxnZzwq","uffdDMe","D2LKDgHty2fSzurYywDszwy","DgHpuvG","BgvHDMvZ","Dg9tDhjPBMC","zwTowuC","Aw5KzxG","sxb1A3u","ntq2ugH6u2zt","mte4merHr2PJvW","oduXodG2EvDtrLf3","y2XPzw50wa","tw1wtfK","otu2mhDkDu5ctq","tu5OqLC","y3vYCMvUDa","zwjWvKC","ChjVAMvJDa","s01Awwu","AfnAAhm","mJi0mZa0u3nkwuPY","u0zSu2K"];return I0=function(){return c},I0()}function sm(c){const i=Qt,a={PQCva:function(w,C){return w(C)},iyJiO:function(w,C){return w+C},QvnMZ:function(w,C){return w(C)},Ipuku:function(w,C){return w-C},efCKk:function(w,C){return w(C)},YHOaw:function(w,C){return w(C)},NEIEf:"petal",NtcAR:function(w,C){return w<=C},JziAP:function(w,C){return w(C)},uxDOn:i(251),BqwoB:function(w,C){return w-C},VCNDy:function(w,C){return w>=C},qIfZB:function(w,C){return w!==C},BNCOk:"gnHer",thOQX:function(w,C){return w===C},dJQTl:i(289),DODPf:i(193),avHFd:function(w,C){return w(C)},pKyXD:"UisZm",hSZhs:i(237),WlQLN:function(w,C){return w+C},pkNei:i(250),dcyJF:function(w,C){return w!==C},KMZYe:"CcTUb",PrhzY:i(209),ouwTt:function(w,C){return w>C},WTHyF:function(w,C){return w??C},MmVLY:function(w,C){return w/C},Poyhb:function(w,C){return w-C},BJFFI:function(w,C){return w-C},gdgEl:function(w,C){return w>C},EdyJx:function(w,C,L){return w(C,L)},nixgO:function(w,C){return w(C)},nhFtn:"uidiU",REQTk:function(w,C){return w===C},SChTS:function(w,C){return w!==C},wlRWI:function(w,C){return w!==C},lodLM:function(w,C){return w===C},IwyYG:function(w,C){return w===C},PcRPw:function(w,C){return w(C)}},{project:r,selection:o,setSelection:f,applyUpdate:b,dragRef:y,zoom:h,pan:d,setPan:v,stageRef:_,clientToSvgPoint:N,togglePetalSelection:m}=c,j=lm({project:r,applyUpdate:b,stageRef:_,clientToSvgPoint:N}),g=$.useRef(null),p=w=>{const C=i;w[C(273)](),w.currentTarget?.setPointerCapture?.(w.pointerId),g[C(249)]={start:{x:w.clientX,y:w[C(199)]},pan0:{...d}}},E=w=>{const C=i;if(!g.current)return;const L=w.clientX-g[C(249)][C(201)].x,M=w.clientY-g.current[C(201)].y;a.PQCva(v,{x:a.iyJiO(g.current.pan0.x,L),y:a[C(263)](g.current[C(211)].y,M)})},k=()=>{g.current=null},G=a.PcRPw($.useRef,null),[H,I]=$.useState(null);return{beginPan:p,updatePan:E,endPan:k,marqueeRef:G,marqueeRect:H,beginMarquee:w=>{const C=i;w[C(273)](),w[C(232)]?.setPointerCapture?.(w.pointerId);const L=N(w);G.current={startSvg:L,currentSvg:L},a[C(215)](I,null)},updateMarquee:w=>{const C=i;if(!G[C(249)])return;const L=N(w);G[C(249)].currentSvg=L;const M=G[C(249)][C(283)],z=Math.min(M.x,L.x),T=Math.min(M.y,L.y),q=Math[C(290)](L.x-M.x),X=Math[C(290)](a[C(241)](L.y,M.y));a[C(208)](I,{x:z,y:T,w:q,h:X})},endMarquee:()=>{const w=i,C={CjxKi:function(Z,le){return a[Qt(278)](Z,le)},nJZOr:function(Z,le){return Z+le}},L=G[w(249)];if(G.current=null,!L){a[w(192)](I,null);return}const M=L[w(283)],z=L[w(279)];if(Math.hypot(a[w(241)](z.x,M.x),z.y-M.y)<3){f({kind:a[w(194)]}),a[w(215)](I,null);return}const q=Math[w(202)](M.x,z.x),X=Math.min(M.y,z.y),O=Math[w(290)](a[w(241)](z.x,M.x)),D=Math[w(290)](a[w(205)](z.y,M.y)),B=[];for(const Z of r.flowers)w(260)!==w(248)?a.VCNDy(Z.position.x,q)&&Z.position.x<=a.iyJiO(q,O)&&a.VCNDy(Z.position.y,X)&&Z.position.y<=X+D&&(a.qIfZB("FRNIq",a[w(272)])?B.push(Z.id):_0x2d3632.position.x>=_0x508dc2&&C.CjxKi(_0x43789b.position.x,_0x1f024a+_0x573033)&&_0x309d0b[w(213)].y>=_0x1856ac&&C.CjxKi(_0x54aeb8[w(213)].y,C.nJZOr(_0xd69686,_0x1689f3))&&_0x46d4e4[w(285)](_0x465e59.id)):(_0x29000b.preventDefault(),_0x454b9e.currentTarget?.setPointerCapture?.(_0x170880[w(214)]),_0x36afef[w(249)]={start:{x:_0x22f5fc.clientX,y:_0x3a89f1[w(199)]},pan0:{..._0x5ae571}});const Y=[];for(const Z of r.leaves??[])Z.position.x>=q&&a[w(278)](Z[w(213)].x,q+O)&&a[w(222)](Z.position.y,X)&&a[w(278)](Z[w(213)].y,X+D)&&Y.push(Z.id);if(B.length>0)a[w(236)](w(289),a[w(225)])?B.length===1?f({kind:a[w(269)],flowerId:B[0]}):a.avHFd(f,{kind:w(209),flowerIds:B}):_0x3f4278=_0x3f9c55.flowerIds.map(Z=>{const le=w,ce=_0x596040[le(209)].find(fe=>fe.id===Z);return{id:Z,x:ce?.[le(213)].x??0,y:ce?.position.y??0}});else if(Y.length>0)if(w(227)===a[w(221)]){_0x4e4aab.preventDefault(),_0x4dca89.currentTarget?.[w(223)]?.(_0x591d89.pointerId);const Z=a.YHOaw(_0x4988ca,_0x382943);_0x28757c[w(249)]={startSvg:Z,currentSvg:Z},_0x342daa(null)}else a[w(236)](Y.length,1)?a.PQCva(f,{kind:"leaf",leafId:Y[0]}):f({kind:a[w(253)],leafIds:Y});else f({kind:a.uxDOn});I(null)},beginFlowerDrag:(w,C,L)=>{const M=i,z={SFlSi:function(T,q){return a.WlQLN(T,q)},uUKjw:function(T,q){return T!==q},cGfEN:a.pkNei};if(a.dcyJF(M(262),a[M(252)])){C.preventDefault(),C[M(232)]?.setPointerCapture?.(C.pointerId);const T=r[M(209)][M(293)](X=>X.id===w);if(!T)return;let q=null;if(o[M(203)]===a[M(282)]&&o[M(216)].includes(w))q=o[M(216)].map(X=>{const O=M,D={GgcvM:function(B,Y,Z,le){return B(Y,Z,le)},xthsO:function(B,Y){return z[Qt(255)](B,Y)}};if(z.uUKjw(z.cGfEN,"KJiaj")){const B=r[O(209)].find(Y=>Y.id===X);return{id:X,x:B?.[O(213)].x??0,y:B?.position.y??0}}else{const B=_0x4bee13.flowers[O(293)](Y=>Y.id===_0x339980.flowerId);if(!B)return;B.position.x=D.GgcvM(_0x1a14b7,_0x7ae9e.startPos.x+_0x4dc400,0,_0x423d0e),B[O(213)].y=D.GgcvM(_0x12a1eb,D.xthsO(_0xb0cba.startPos.y,_0x31aa5c),0,_0x36b95b)}});else{const X=Mh(r,w);a.ouwTt(X.length,1)&&(q=X.map(O=>{const D=M,B=r.flowers[D(293)](Y=>Y.id===O);return{id:O,x:B?.[D(213)].x??0,y:B?.position.y??0}}))}y.current={flowerId:w,startClient:{x:C.clientX,y:C[M(199)]},startPos:{...T[M(213)]},moved:!1,clickPetal:a[M(291)](L,null),isShiftPressed:C[M(287)]||!1,multiStartPositions:q,startZoom:h}}else _0x3dfcdb.push(_0x49de2e.id)},updateFlowerDrag:w=>{const C=i,L={pPGcE:function(O,D){return a[Qt(234)](O,D)},FvImz:function(O,D){return O!==D},BAzCo:C(274),HzFNX:function(O,D){return a[C(268)](O,D)},KpUrX:function(O,D,B,Y){return O(D,B,Y)},fKusg:function(O,D){return a[C(268)](O,D)},qhYgK:function(O,D,B,Y){return O(D,B,Y)},kLAwJ:function(O,D){return a[C(268)](O,D)}},M=y[C(249)];if(!M)return;const z=a[C(246)](w.clientX-M[C(286)].x,M.startZoom),T=a[C(271)](w.clientY,M.startClient.y)/M[C(196)],q=a.BJFFI(w[C(245)],M.startClient.x),X=w[C(199)]-M.startClient.y;a.gdgEl(Math.abs(q)+Math.abs(X),4)&&(M.moved=!0),a.EdyJx(b,O=>{const D=C;if(L[D(280)](D(274),L.BAzCo))uRyFvo[D(198)](_0x31c1f8,{kind:"leaves",leafIds:_0x450c17});else if(M.multiStartPositions)for(const B of M.multiStartPositions){const Y=O.flowers.find(Z=>Z.id===B.id);Y&&(Y[D(213)].x=Ce(L.HzFNX(B.x,z),0,w0),Y.position.y=L[D(258)](Ce,L.fKusg(B.y,T),0,w0))}else{const B=O[D(209)].find(Y=>Y.id===M[D(261)]);if(!B)return;B[D(213)].x=L[D(258)](Ce,L.fKusg(M[D(275)].x,z),0,w0),B.position.y=L.qhYgK(Ce,L.kLAwJ(M.startPos.y,T),0,w0)}},!1)},endFlowerDrag:()=>{const w=i;if(a[w(226)]!==w(281))return _0xe88a2b.toString()[w(224)]("(((.+)+)+)+$")[w(238)]()[w(292)](_0x3413d0)[w(224)](rhVSFZ[w(204)]);{const C=y.current;if(!C)return;!C[w(257)]&&C.clickPetal?C[w(233)]?m(C.flowerId,C[w(230)][w(288)],C.clickPetal[w(240)],!0):f({kind:a.NEIEf,flowerId:C[w(261)],layerId:C.clickPetal.layerId,index:C.clickPetal.index}):C.moved&&((a[w(231)](o[w(203)],w(251))||o.kind===a.DODPf&&a[w(228)](o[w(261)],C.flowerId)||a.REQTk(o.kind,"layer")&&a.wlRWI(o[w(261)],C[w(261)])||a[w(200)](o.kind,"petal")&&a[w(219)](o.flowerId,C[w(261)]))&&(a.IwyYG(w(218),"FwMTY")?a.YHOaw(f,{kind:a.DODPf,flowerId:C[w(261)]}):rhVSFZ[w(210)](_0x120e7f,{kind:rhVSFZ.iHeCo})),b(()=>{},!0)),y[w(249)]=null}},scaleDragRef:j.scaleDragRef,beginScaleDrag:j.beginScaleDrag,updateScaleDrag:j[i(266)],endScaleDrag:j.endScaleDrag,rotationDragRef:j.rotationDragRef,beginRotationDrag:j[i(217)],updateRotationDrag:j[i(197)],endRotationDrag:j[i(207)],widthScaleDragRef:j[i(235)],beginWidthScaleDrag:j.beginWidthScaleDrag,updateWidthScaleDrag:j.updateWidthScaleDrag,endWidthScaleDrag:j.endWidthScaleDrag,radiusDragRef:j.radiusDragRef,beginRadiusDrag:j.beginRadiusDrag,updateRadiusDrag:j[i(259)],endRadiusDrag:j.endRadiusDrag}}function xm({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function ma(c){const i=!!c.selected,a=!!c.muted,r=4+(c.level||0)*12+(c.leftOffset||0),o=Math.max(0,r),f=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",b="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:y=>{c.onDoubleClick&&(y.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:`${i?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${b} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:y=>{y.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(xm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${b} shrink-0`,"aria-hidden":!0})]})]})}function om(c){const{project:i,selection:a,setSelection:r,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:b,handleFlowerRowDoubleClick:y,addFlower:h,deleteSelected:d,addOuterLayer:v,deleteOuterLayer:_,deleteFlowerById:N,deleteLayerById:m,treeScrollRef:j,setExpandedFlowers:g}=c,p=(R,V)=>{const P=a.kind==="flower"&&a.flowerId===R.id,Q=a.kind==="flowers"&&a.flowerIds.includes(R.id),W=P||Q,w="",C=o(R.id),L=R.layers&&R.layers.length>0,M=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:z=>{z.stopPropagation(),v(R.id)},"aria-label":"Add outer layer",children:"+"}),L&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:z=>{z.stopPropagation(),_(R.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":R.id,"data-testid":`tree-flower-${R.id}`,style:{paddingLeft:V},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${C?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:C?"Collapse layers":"Expand layers",onClick:z=>{z.stopPropagation(),f(R.id)},"aria-label":C?"collapse":"expand","data-tree-toggle":!0,children:C?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ma,{label:R.name,marker:w,selected:W,showTrash:P,onTrash:()=>N(R.id),rightActions:M,onClick:()=>b(R.id),onDoubleClick:()=>y(R.id),level:0,leftOffset:-18})})]}),C&&R.layers.slice().sort((z,T)=>T.order-z.order).map(z=>{const T=(a.kind==="layer"||a.kind==="petal")&&a.layerId===z.id;return s.jsx(ma,{label:`${z.order}. ${z.name}`,marker:"",selected:T,showTrash:T,onTrash:()=>m(R.id,z.id),onClick:()=>{r({kind:"layer",flowerId:R.id,layerId:z.id}),g(q=>({...q,[R.id]:!0}))},level:0,leftOffset:10,muted:!z.visible},z.id)})]},R.id)},E=c.groups,k=new Set(E.flatMap(R=>R.flowerIds)),G=i.flowers.filter(R=>!k.has(R.id)),H=c.leafGroups,I=new Set(H.flatMap(R=>R.leafIds)),K=c.leaves.filter(R=>!I.has(R.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:j,"data-testid":"layer-tree",children:[s.jsx(ma,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),E.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...E].reverse().map(R=>{const V=a.kind==="group"&&a.groupId===R.id,P="",Q=c.isGroupExpanded(R.id);return s.jsxs("div",{"data-group-id":R.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Q?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:Q?"":"",onClick:W=>{W.stopPropagation(),c.toggleGroupExpanded(R.id)},"aria-label":Q?"collapse group":"expand group",children:Q?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ma,{label:R.name,marker:P,selected:V,onClick:()=>c.onSelectGroup(R.id),level:0,leftOffset:-18})})]}),Q&&R.flowerIds.map(W=>{const w=i.flowers.find(C=>C.id===W);return w?p(w,12):null})]},R.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...G].reverse().map(R=>p(R,0)),G.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[H.map(R=>{const V=a.kind==="leafGroup"&&a.leafGroupId===R.id;return s.jsxs("div",{children:[s.jsx(ma,{label:` ${R.name}`,selected:V,onClick:()=>c.onSelectLeafGroup(R.id),level:0,leftOffset:0}),R.leafIds.map(P=>{const Q=c.leaves.find(w=>w.id===P);if(!Q)return null;const W=a.kind==="leaf"&&a.leafId===Q.id;return s.jsx(ma,{label:Q.name,selected:W,showTrash:W,onTrash:()=>c.onDeleteLeaf(Q.id),onClick:()=>c.onSelectLeaf(Q.id),level:0,leftOffset:12,muted:!Q.visible},Q.id)})]},R.id)}),[...K].reverse().map(R=>{const V=a.kind==="leaf"&&a.leafId===R.id;return s.jsx(ma,{label:R.name,selected:V,showTrash:V,onTrash:()=>c.onDeleteLeaf(R.id),onClick:()=>c.onSelectLeaf(R.id),level:0,leftOffset:0,muted:!R.visible},R.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const se=Kn;(function(c,i){const a=Kn,r=c();for(;;)try{if(parseInt(a(316))/1*(-parseInt(a(297))/2)+-parseInt(a(360))/3*(-parseInt(a(290))/4)+-parseInt(a(305))/5*(-parseInt(a(269))/6)+parseInt(a(306))/7*(-parseInt(a(309))/8)+parseInt(a(337))/9+-parseInt(a(277))/10+-parseInt(a(350))/11*(-parseInt(a(303))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(O0,164470);const fm=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Ds=fm(void 0,function(){const c=Kn;return Ds[c(348)]().search(c(334))[c(348)]().constructor(Ds)[c(295)](c(334))});Ds();const e1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},t1={adult:se(259),child:""},n1={right:se(302),left:se(287),back:se(307)},dm=["M 0 0",se(327),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66",se(373),se(312),"C 78 93, 82 96, 83 99","C 83 101, 78 103, 72 105","C 70 106, 70 108, 73 110","C 75 112, 74 115, 72 118","C 69 121, 65 126, 61 131","C 56 137, 49 142, 43 146",se(365),"C 23 171, 21 181, 19 191",se(344),"C -17 249, -25 259, -33 269","L -36 280","L -125 280","C -112 260, -96 242, -82 226","C -68 212, -56 200, -48 190",se(266),"C -34 158, -36 150, -40 142","C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84",se(358),"C -70 52, -66 48, -62 44","C -56 36, -50 26, -42 18",se(278),se(279),"Z"].join(" "),hm=[se(354),se(281),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116",se(325),se(345),se(293),se(353),"C 58 240, 74 258, 92 280","L -92 280",se(371),se(276),se(328),"C -60 152, -72 142, -78 134",se(262),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",se(314),"C 16 66, 34 70, 42 82",se(272),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",se(315),"C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82",se(370),"Z"][se(308)](" "),mm=[se(354),"C 14 -4, 36 -4, 48 4",se(363),"C 64 44, 64 50, 63 56",se(351),se(288),se(347),se(264),se(319),"C 60 97, 58 101, 54 106","C 50 111, 44 116, 38 120","C 32 125, 28 131, 26 139",se(285),se(260),se(274),"L -100 240",se(267),se(296),se(283),"C -48 126, -56 116, -62 106",se(359),se(332),"C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z"][se(308)](" "),bm=["M 0 0",se(261),"C 60 38, 64 52, 64 68",se(336),"C 66 100, 64 106, 60 112","C 54 120, 44 130, 38 140","C 30 152, 32 166, 55 202","C 60 214, 66 228, 70 240",se(263),"C -66 228, -60 214, -55 202",se(329),"C -44 130, -54 120, -60 112",se(270),"C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z","M 46 26","C 54 20, 66 22, 72 32",se(324),"C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38",se(346),"Z",se(368),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"].join(" "),gm=[se(354),"C 15 -2, 38 -5, 55 5",se(338),se(342),se(373),"C 48 74, 20 64, -8 58",se(258),"C -56 36, -50 26, -42 18",se(278),"C -4 -1, -1 -1, 0 0","Z",se(265),"C -48 134, -58 126, -68 118",se(304),"C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44",se(374),"C -46 86, -42 106, -40 126","L -40 142","Z"][se(308)](" "),vm=["M 0 0","C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62",se(271),se(280),"C 84 122, 82 128, 78 134","C 62 142, 42 152, 20 158",se(333),se(357),"C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98",se(320),"C -76 44, -68 30, -58 20",se(341),"Z",se(314),se(318),"C 48 90, 50 104, 48 116",se(364),"C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82",se(370),"Z"].join(" "),pm=[se(354),"C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",se(361),se(268),se(286),"C -44 34, -38 22, -30 14",se(323),"Z","M -40 134",se(322),se(359),"C -62 64, -56 54, -50 44",se(284),se(317),"L -40 134","Z"][se(308)](" "),ym=["M 0 0",se(261),"C 60 38, 64 52, 64 68",se(336),"C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126",se(299),se(313),se(270),se(356),se(372),se(294),"Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",se(273),"C 43 32, 44 28, 46 26","Z",se(368),"C -54 20, -66 22, -72 32",se(326),se(298),se(301),"C -43 32, -44 28, -46 26","Z"][se(308)](" ");function O0(){const c=["odCWotHAqNPQsLm","qYa2mIa2mcWGntKGnJqSidu3idy4","yMfJAW","qYaYocaXotGSidm0idiXmIWGndGGmJi4","tsaWida","C3rLBMnPBhmVy2HPBgrFBgvMDc5WBMC","qYaTnJyGodySic02nca3ocWGlty0idy4","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYaTnJGGotySic03mca4ncWGlty2idC0","mJKXmtC3uwXPq2nx","qYa2nca0ncWGnJqGntaSidyZidu2","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","DxzhEKC","tsaTndyGmJy","AgvPz2H0","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYa3mIa2osWGnJKGnZiSidy2idC2","qYaTntGGntaSic01nca1ocWGltuWidCW","qYaTmZaGntqSic00oca0ocWGltyYidq0","5OIq5lQ65AwZ5OcN","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","tcaTnZaGmJqW","qYa2nIa4nIWGnJiGodGSidu4idKW","tsaTndaGmtqY","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","qYa0nca1ncWGmtyGndGSic0Xmca0nG","mtuZmJm0Bff1AgHA","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYa4mIa3ncWGodmGodySidGYidK4","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYa0mIa2mIWGndaGntaSidqYidm4","tcaTmZaGmJqW","veHxrLO","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","odu5mtqWEvznsuft","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYaTncaTmsWGlteGlteSidaGma","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYaYmcaWlca0nca2lca1ocaYma","BgvMDa","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","qYaTmJGGndySic00mca0ncWGltuWidq0","5BEM5zcr44gn","qYa1nYa3msWGntKGnZuSidyZidC5","uxjowu4","ogf3A0XhCa","rendquO","vhbIBNO","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","qYaTndaGmtaSic0XocaXlcaWida","C2vHCMnO","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","nti2nLjiAhnbAG","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYaWideYnYWGlteYideYnIWGlti2ideYna","CMLNAhq","qYaTndiGnJiSic00mca1mcWGltqYidm4","5y+Z5zcr44gn","mtq0wfrwu0Hh","qYaTodaGmta4lcaTodGGotySic04oca4na","ntv2wezezee","ntzHBhrUB2S","5B6m44kn5zcr44gn","AM9PBG","mZaZndi0C0Dqz0ri","l3rZDw1HBwKV","ywr1Bhq","qYa2nsa4mcWGnJGGoduSidC0idKW","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","tsaWidCW","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","nZrczuftvMO","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYa1nYa5msWGntCGotmSidu5idK1","qYaTodmGodySic04mIa3ncWGltGWidyY","ru1ZwMu","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYaTmJiGnIWGlteWideSidaGma","qYa3oca0mcWGnZGGntqSidCYidyY","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","uMnpr0W","D2LKDgG","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","kcGOlISPkYKRksSK","A3jtzee","qYa2nca3ocWGnJyGodySidy2idK0","mtyWnZi4m29iAu1dAW","qYa2nsaXmIWGnZiGmJySidC2idqY","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","C2LKzq","qYaTndqGnIWGltiWidaSidaGma","qYa3oca1mIWGnZCGnJaSidC0idy2","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","qYa3mIaXndiSidyWide1mIWGndGGmtyY","qYa0mYaZmIWGndqGmJGSidq2idi2","qYa2nsa4msWGnJyGodmSidy2idG1","Dg9tDhjPBMC","qMvRrue"];return O0=function(){return c},O0()}function _m(c,i){const a=se,r=i==="right"||i===a(282);return c===a(311)?r?dm:hm:r?mm:bm}function Kn(c,i){c=c-258;const a=O0();let r=a[c];if(Kn.PIqNsb===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Kn.fBocfT=o,Kn.OTNXWb={},Kn.PIqNsb=!0}const f=a[0],b=c+f,y=Kn.OTNXWb[b];if(y)r=y;else{const h=function(d){this.NXheBv=d,this.cdpTHL=[1,0,0],this.dRQknN=function(){return"newState"},this.iMtHea="\\w+ *\\(\\) *{\\w+ *",this.pJRxaZ=`['|"].+['|"];? *}`};h.prototype.rweeRK=function(){const d=new RegExp(this.iMtHea+this.pJRxaZ),v=d.test(this.dRQknN.toString())?--this.cdpTHL[1]:--this.cdpTHL[0];return this.UukwCD(v)},h.prototype.UukwCD=function(d){return~d?this.OmSsNN(this.NXheBv):d},h.prototype.OmSsNN=function(d){for(let v=0,_=this.cdpTHL.length;v<_;v++)this.cdpTHL.push(Math.round(Math.random())),_=this.cdpTHL.length;return d(this.cdpTHL[0])},new h(Kn).rweeRK(),r=Kn.fBocfT(r),Kn.OTNXWb[b]=r}return r}function Sm(c,i){const a=se,r={krSdA:function(f,b){return f===b},xhXmP:function(f,b){return f===b},RcOGL:a(282)},o=r.krSdA(i,"right")||r.xhXmP(i,r[a(330)]);return r[a(335)](c,a(311))?o?gm:vm:o?pm:ym}const Cm={right:se(310)+se(343),left:se(310)+se(339),back:"/tsumami/"+se(362)},wm={right:"/tsumami/stencils/child_right.png",left:se(310)+se(355),back:se(310)+se(366)},jm={adult:Cm,child:wm};function Mm(c,i){const a=se,r={EMsZe:function(y,h){return y===h},QrNYN:a(300),krmQg:"left",uvGzG:function(y,h,d){return y(h,d)},THWFZ:function(y,h,d){return y(h,d)}},o=r[a(321)](i,r[a(289)])||i===r.krmQg?"side":"back",f=e1[c][o],b=jm[c]?.[i]??null;return{path:r[a(367)](_m,c,i),hairPath:r[a(275)](Sm,c,i),scaleX:i===a(282)?-1:1,imageUrl:b,imageWidthMm:f[a(331)],imageHeightMm:f[a(369)]}}(function(c,i){const a=En,r=c();for(;;)try{if(parseInt(a(111))/1+-parseInt(a(137))/2+-parseInt(a(112))/3*(parseInt(a(124))/4)+parseInt(a(133))/5+-parseInt(a(170))/6+parseInt(a(143))/7+parseInt(a(176))/8*(parseInt(a(157))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(H0,416848);const zm=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Ns=zm(void 0,function(){const c=En,i={HYIjp:"(((.+)+)+)+$"};return Ns.toString()[c(127)](i[c(179)]).toString()[c(167)](Ns)[c(127)](c(178))});function H0(){const c=["EM9VBq","mtqXnZy4ohbIyMT5wq","EMfcCu0","D0T5u1O","C2vHCMnO","zen2r1e","uMH6wey","y2fjr3O","y3vYCMvUDa","shfZDu4","mty4mtGWnxf2BwDhBG","wuPHEMm","zwDLCwW","CMvTB3zLrxzLBNrmAxn0zw5LCG","mtm0ndu0mgnJAvjgAq","vhfHyxO","D2LKDgG","yxjuC3m","Aw5PDgLHBfPVB20","Dg9gAxHLza","mZe0mZyWouflCMLSrW","Dg9W","wKnrtxe","vgnXC1G","D0DLsgi","z0TWAue","A2fWvKi","AxLYvxu","C3bSAxq","ChjLDMvUDerLzMf1Bhq","Dg91y2HLCW","t25kCxO","AhLWB3q","wLrjsuq","mte3r1HkDMHu","Aw5PDgLHBerPC3q","y2XPzw50wa","AvnWtwS","ywrKrxzLBNrmAxn0zw5LCG","y2XPzw50wq","zxHW","wwn2yLm","BLrQqMy","CgfU","y29UC3rYDwn0B3i","BgvUz3rO","rKnMzeu","mtGXmtuYnLnUwxPQDa","zhb0z3G","qvDgzvq","Bwf4","BgvMDa","AgvPz2H0","mJm3mJa4q0LvtNvI","rLfdCLO","kcGOlISPkYKRksSK","sfLjANa","Aw5PDgLHBfbHBG","ugHQCMy","rNbtz3y","EM9VBuXLDMvS","ntC0ntuWBMnuCKjS","m2Prv1fwyq","Aw5PDgLHBenLBNrLCG","z2v0qM91BMrPBMDdBgLLBNrszwn0","zfztqwq","zLH3Ewq","y01pExq","D2HLzwW","sKPqzwm","BLnQtMe","BwDKtvC","zevgAKm"];return H0=function(){return c},H0()}function En(c,i){c=c-111;const a=H0();let r=a[c];if(En.jnCNDb===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};En.BzJCOt=o,En.yZvohq={},En.jnCNDb=!0}const f=a[0],b=c+f,y=En.yZvohq[b];if(y)r=y;else{const h=function(d){this.IyywJA=d,this.KLsRtO=[1,0,0],this.wmewdN=function(){return"newState"},this.RvCENL="\\w+ *\\(\\) *{\\w+ *",this.RjzJUI=`['|"].+['|"];? *}`};h.prototype.fygbcd=function(){const d=new RegExp(this.RvCENL+this.RjzJUI),v=d.test(this.wmewdN.toString())?--this.KLsRtO[1]:--this.KLsRtO[0];return this.HarCNO(v)},h.prototype.HarCNO=function(d){return~d?this.FQygrG(this.IyywJA):d},h.prototype.FQygrG=function(d){for(let v=0,_=this.KLsRtO.length;v<_;v++)this.KLsRtO.push(Math.round(Math.random())),_=this.KLsRtO.length;return d(this.KLsRtO[0])},new h(En).fygbcd(),r=En.BzJCOt(r),En.yZvohq[b]=r}return r}Ns();const fs=520;function Kd(c,i,a,r,o,f,b){const y=En,h={FpSgv:function(v,_){return v-_},coiVn:function(v,_){return v*_},Tqaaz:function(v,_){return v+_}},d=r/a-1;return{x:h[y(182)](b.x,h.coiVn(d,-b.x+c*o)),y:h[y(182)](b.y,d*h[y(138)](-b.y,i*f))}}function Dm(c){const i=En,a={egeql:function(L){return L()},iyrUu:function(L){return L()},dEFjC:function(L,M){return L/M},zaBqM:function(L,M){return L+M},cMOyt:function(L,M){return L+M},YJazc:function(L,M){return L-M},wKySZ:function(L,M){return L-M},wGeHb:function(L,M){return L===M},FQCrZ:function(L,M){return L-M},TcqsX:function(L,M){return L-M},kapVB:function(L,M){return L!==M},AWFeT:function(L,M){return L-M},Phjrf:function(L,M){return L*M},nTjBf:function(L,M){return L/M},fXUpa:function(L,M){return L*M},arTss:function(L,M){return L*M},Hylrd:function(L,M){return L-M},iSpMk:function(L,M){return L/M},caIGz:function(L,M){return L*M},OnJqz:"touchstart",ZTIID:"touchmove",ZCQMq:"touchend",dCvGQ:function(L,M){return L(M)},spdgQ:i(148),TYzEt:function(L,M,z,T,q,X,O,D){return L(M,z,T,q,X,O,D)},FCfdE:function(L,M){return L(M)},fXwyd:function(L,M){return L-M},nSjNa:function(L,M){return L-M},RhzXF:function(L,M){return L-M},JmwzD:function(L,M){return L/M},YcvbS:function(L,M){return L+M},mydgi:function(L,M){return L+M},NAoUQ:i(171),dVSAd:function(L,M,z){return L(M,z)},JJPec:function(L,M,z){return L(M,z)},mgdMW:function(L,M,z){return L(M,z)},HqsuN:function(L,M,z){return L(M,z)}},{setZoom:r,setPan:o,setZoomLevel:f,ZOOM_LEVELS:b,stageRef:y,endPan:h,endFlowerDrag:d,endMarquee:v,endRotationDrag:_,endScaleDrag:N,endWidthScaleDrag:m,endRadiusDrag:j}=c,g=$.useRef(null),p=a.FCfdE($.useRef,c[i(166)]),E=$.useRef(c[i(123)]);a[i(115)]($.useEffect,()=>{const L=i;p[L(131)]=c[L(166)]},[c[i(166)]]),a[i(119)]($.useEffect,()=>{E.current=c.zoom},[c[i(123)]]);const k=$.useRef(c.zoomLevel);a[i(121)]($.useEffect,()=>{const L=i;k[L(131)]=c.zoomLevel},[c[i(183)]]);const G=$.useRef(null),H=a[i(128)]($.useRef,null),I=$.useCallback(L=>{const M=i;if(L.touches.length===2){L[M(152)](),a[M(135)](h),d(),v(),_(),a[M(150)](N),m(),j(),G.current=null,H[M(131)]=null;const z=L.touches[0],T=L[M(153)][1],q=a.dEFjC(a.zaBqM(z.clientX,T[M(159)]),2),X=a.cMOyt(z.clientY,T[M(162)])/2,O=Math[M(155)](a.YJazc(T.clientX,z[M(159)]),a[M(126)](T.clientY,z[M(162)]));g.current={initialCenter:{x:q,y:X},initialDist:O,initialPan:{...p[M(131)]},initialZoom:E[M(131)]}}},[h,d,v,_,N,m,j]),K=a[i(132)]($.useCallback,L=>{const M=i;if(a[M(147)](L.touches[M(168)],2)&&g.current){L[M(152)]();const z=L.touches[0],T=L.touches[1],q=a[M(125)](z.clientX,T[M(159)])/2,X=(z.clientY+T[M(162)])/2,O=Math.hypot(T.clientX-z.clientX,a[M(177)](T.clientY,z.clientY)),D=g.current,B=a[M(122)](O,Math.max(1,D[M(158)])),Y=Ce(Number((D[M(141)]*B).toFixed(3)),b[0],b[a[M(146)](b.length,1)]),Z=D.initialZoom,le=q-D.initialCenter.x,ce=X-D[M(113)].y;let fe=a.cMOyt(D[M(180)].x,le),oe=a[M(125)](D[M(180)].y,ce);const ge=y[M(131)];if(ge&&a[M(149)](Z,Y)){const he=ge[M(114)](),ze=(D[M(113)].x-he.left)/he.width,We=a[M(172)](D[M(113)].y,he.top)/he.height,tt=a.dEFjC(he[M(139)],he[M(175)]),lt=fs,mt=a[M(181)](lt,tt),St=(a[M(165)](Y,Z)-1)*(-D[M(180)].x+a[M(181)](ze,mt)),Tt=a[M(181)](a[M(134)](Y/Z,1),-D.initialPan.y+a.fXUpa(We,lt));fe-=St,oe-=Tt}const we={x:fe,y:oe};E[M(131)]=Y,p.current=we,o(we),r(Y)}},[o,r,y,b]),R=$.useCallback(L=>{L[i(153)].length<2&&(g.current=null)},[]),V=.003,P=$.useCallback(L=>{const M=i;L.preventDefault();const z=y.current;if(!z)return;const T=E.current,q=a.fXUpa(T,Math[M(163)](a[M(140)](-L.deltaY,V))),X=Ce(q,b[0],b[a.Hylrd(b.length,1)]);if(Math.abs(X-T)<1e-6)return;const O=z[M(114)](),D=a[M(160)](L[M(159)]-O[M(174)],O[M(139)]),B=a[M(165)](a.FQCrZ(L.clientY,O[M(144)]),O[M(175)]),Y=O[M(139)]/O[M(175)],Z=fs,le=a[M(130)](Z,Y),ce=Kd(D,B,T,X,le,Z,p[M(131)]);E[M(131)]=X,p.current=ce,r(X),o(ce)},[r,o,y,b]);$.useEffect(()=>{const L=i,M=y.current;if(M)return M[L(161)](a.OnJqz,I,{passive:!1}),M.addEventListener("touchmove",K,{passive:!1}),M[L(161)](a[L(145)],R),M[L(161)]("wheel",P,{passive:!1}),()=>{const z=L;M[z(136)](a[z(154)],I),M[z(136)](a[z(156)],K),M[z(136)](a.ZCQMq,R),M.removeEventListener(z(118),P)}},[y,I,K,R,P]);const Q=$.useCallback(L=>{const M=i,z=k.current,T=Ce(a[M(117)](z,L),0,b[M(168)]-1);if(a.wGeHb(T,z))return;const q=E.current,X=b[T],O=y[M(131)];if(!O)if(a.spdgQ!==M(148)){const ce="1|3|0|2|4"[M(151)]("|");let fe=0;for(;;){switch(ce[fe++]){case"0":_0x484fd8[M(131)]={x:0,y:0};continue;case"1":_0x3072c9[M(131)]=_0x5bef12;continue;case"2":_0x2cab73(_0x15220f);continue;case"3":_0x2050dd[M(131)]=_0x385988;continue;case"4":a.dCvGQ(_0x475516,{x:0,y:0});continue}break}}else{f(T);return}const D=O[M(114)](),B=D[M(139)]/D[M(175)],Y=fs,Z=a.fXUpa(Y,B),le=a.TYzEt(Kd,.5,.5,q,X,Z,Y,p[M(131)]);E[M(131)]=X,k[M(131)]=T,p.current=le,f(T),a.FCfdE(o,le)},[f,o,y,b]),W=$.useCallback((L,M)=>{const z="4|2|1|0|3".split("|");let T=0;for(;;){switch(z[T++]){case"0":f(L);continue;case"1":p.current={x:0,y:0};continue;case"2":E.current=M;continue;case"3":o({x:0,y:0});continue;case"4":k.current=L;continue}break}},[f,o]),w=$.useCallback(L=>{const M=i;G[M(131)]=L},[]),C=$.useCallback(L=>{const M=i;if(a.wGeHb(a.NAoUQ,a.NAoUQ))H.current=L;else{_0x667ecd.preventDefault();const z=_0x560195.touches[0],T=_0x273402.touches[1],q=(z.clientX+T.clientX)/2,X=(z[M(162)]+T.clientY)/2,O=_0x160755.hypot(a[M(116)](T[M(159)],z.clientX),a[M(120)](T.clientY,z[M(162)])),D=_0x47f8af.current,B=a.nTjBf(O,_0x43a054[M(173)](1,D[M(158)])),Y=_0x4de46a(_0x314005((D.initialZoom*B)[M(142)](3)),_0x1f63d9[0],_0x321af6[a[M(134)](_0xec6835[M(168)],1)]),Z=D[M(141)],le=a[M(129)](q,D[M(113)].x),ce=a[M(116)](X,D[M(113)].y);let fe=D[M(180)].x+le,oe=D[M(180)].y+ce;const ge=_0x2d4012[M(131)];if(ge&&Z!==Y){const he=ge.getBoundingClientRect(),ze=a.dEFjC(a[M(129)](D[M(113)].x,he[M(174)]),he[M(139)]),We=a.wKySZ(D.initialCenter.y,he[M(144)])/he.height,tt=he[M(139)]/he[M(175)],lt=_0x333dff,mt=lt*tt,St=a.FQCrZ(a.JmwzD(Y,Z),1)*a[M(164)](-D.initialPan.x,a.fXUpa(ze,mt)),Tt=(Y/Z-1)*a.mydgi(-D[M(180)].y,a.caIGz(We,lt));fe-=St,oe-=Tt}const we={x:fe,y:oe};_0x4fe2df.current=Y,_0x4978fd[M(131)]=we,_0x4f4458(we),a[M(169)](_0x35e218,Y)}},[]);return{multiTouchRef:g,touchBgStartRef:G,mouseBgStartRef:H,zoomAtCenter:Q,resetView:W,setTouchBgStart:w,setMouseBgStart:C}}function ti(c,i){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),r=parseInt(c.slice(3,5),16),o=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(o))return c;const f=1-i;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(r*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function Nm(c){const{flower:i,project:a,paletteMap:r}=c,o=$.useRef(null),f=$.useRef(!1),b=$.useRef(null);$.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const y=$.useMemo(()=>[...i.layers||[]].sort((k,G)=>k.order-G.order),[i.layers]),h=i.fabricSquareSize??a.fabricSquareSize,{length:d,width:v}=Yt(h),{flowerOuterR:_,centerHitR:N}=$.useMemo(()=>{let k=12,G=1/0;for(const I of y){if(!I.visible)continue;const K=I.scale??1,R=d*K,P=Math.max(0,I.radius-R*.28),Q=P+R;k=Math.max(k,Q),P<G&&(G=P)}isFinite(G)||(G=0);const H=Math.max(G*.9,8);return{flowerOuterR:k,centerHitR:H}},[y,d]),m=(k,G)=>k?.petalOverrides?.find(H=>H.index===G)??null,j="pointer",g=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,p=c.zoneCursorValue??"grab",E=k=>{if(k.stopPropagation(),k.button===0){if(k.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(k)}};return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:k=>{k.stopPropagation(),c.onDoubleClick?.()},style:{cursor:g?p:ir("/tsumami/")},"data-testid":`flower-${i.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,_),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),y.map(k=>{if(!k.visible)return null;const H=r.get(k.colorId)?.hex??"#999",I=360/Math.max(1,k.petalCount),K=k.scale??1,R=d*K,P=v*(k.widthScale??1)*K,W=Math.max(0,k.radius-R*.28),w=bs(""),C=bs(""),L=W+R,M=c.isSelected&&c.selectedLayerId===k.id,z=c.isSelected&&(c.selectedPetal?.layerId===k.id||(c.selectedPetals?.some(T=>T.layerId===k.id)??!1));return s.jsxs("g",{children:[Array.from({length:k.petalCount}).map((T,q)=>{const X=m(k,q),D=(X?.petalType??k.petalType)===""?w:C,B=r.get(X?.colorId??k.colorId)?.hex??H,Y=k.offsetAngle+q*I,Z=pa(Y),le=Math.cos(Z)*W,ce=Math.sin(Z)*W,fe=c.isSelected&&c.selectedPetal?.layerId===k.id&&c.selectedPetal?.index===q,oe=c.isSelected&&(c.selectedPetals?.some(he=>he.layerId===k.id&&he.index===q)??!1),ge=fe||oe,we=g?p:ir("/tsumami/");return s.jsxs("g",{transform:`translate(${le} ${ce}) rotate(${Y})`,children:[s.jsx("path",{d:D,transform:`scale(${R} ${P})`,fill:B,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:k.locked?.55:.95,style:{cursor:we},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const ze=he.shiftKey,We=he.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,ze&&c.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),c.onTogglePetalSelection(k.id,q,!0);return}if(We&&c.onTogglePetalSelection){b.current={x:he.clientX,y:he.clientY};const St=k.id,Tt=q;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,c.onTogglePetalSelection?.(St,Tt,!0),navigator.vibrate?.(30)},500)}const tt=c.isSelected&&c.selectedLayerId!=null,lt=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||tt||lt){c.onBeginDragFromLayerPetal(k.id,q,he);return}c.onBeginDragFromLayerPetal(k.id,q,he)},onPointerMove:he=>{if(o.current&&b.current){const ze=he.clientX-b.current.x,We=he.clientY-b.current.y;Math.hypot(ze,We)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:he=>{he.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(k.id)}}),k.doublePetal&&(()=>{const he=k.doublePetal,ze=X?.innerSizeReduction??he.innerSizeReduction??2,We=h*(K||1);if(We<=0)return null;const lt=Math.max(We*.3,We-ze)/We,mt=D,St=X?.innerColorId??he.innerColorId??X?.colorId??k.colorId,Tt=r.get(St)?.hex??B,bt=R*lt,Ut=P*lt;return s.jsx("path",{d:mt,transform:`scale(${bt} ${Ut})`,fill:Tt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:k.locked?.55:.95,pointerEvents:"none"})})(),(ge||M||c.isFlowerSelected)&&s.jsx("path",{d:D,transform:`scale(${R} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${k.id}-${q}`)]},q)}),M&&!z&&s.jsx("circle",{r:L,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},k.id)}),c.isFlowerSelected&&s.jsx("circle",{r:_,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const k=i.center,G=Gh(k.size),H=r.get(k.color)?.hex??"#D4A843",I=k.color2?r.get(k.color2)?.hex??"#C0C0C0":"#D4A843",K=Math.max(G,N);switch(k.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:G,fill:H,stroke:ti(H,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:K,fill:"transparent",style:{cursor:j},onPointerDown:E})]});case"":{const V=G*.42,P=G,Q=G*.12,W=G*.13,w=G*.45,C=I,L=H;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((M,z)=>{const T=z/10*360,q=pa(T),X=Math.cos(q)*P,O=Math.sin(q)*P,D=-Math.sin(q)*Q,B=Math.cos(q)*Q,Y=Math.cos(q)*V,Z=Math.sin(q)*V;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(Y+D).toFixed(2)} ${(Z+B).toFixed(2)} L ${X.toFixed(2)} ${O.toFixed(2)} L ${(Y-D).toFixed(2)} ${(Z-B).toFixed(2)} Z`,fill:C,stroke:ti(C,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:X,cy:O,r:W,fill:C,stroke:ti(C,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},z)}),s.jsx("circle",{r:V,fill:C,stroke:ti(C,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:w,fill:L,stroke:ti(L,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:K,fill:"transparent",style:{cursor:j},onPointerDown:E})]})}case"":{const R=k.pepCount??12,V=G*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:R}).map((P,Q)=>{const W=Q/R*360,w=pa(W),C=Math.cos(w)*G,L=Math.sin(w)*G;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:C,y2:L,stroke:H,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:C,cy:L,r:Math.max(V,1),fill:H,stroke:ti(H,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},Q)})}),s.jsx("circle",{r:K,fill:"transparent",style:{cursor:j},onPointerDown:E})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:j},onPointerDown:E})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:j},onPointerDown:E})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const k=y.find(V=>V.id===c.selectedLayerId);if(!k||!k.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const H=k.scale??1,I=d*H,R=Math.max(0,k.radius-I*.28);return R<=0?null:s.jsx("circle",{r:R,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,_+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Am(c){const{leaf:i,project:a,paletteMap:r}=c,o=i.fabricSquareSize??a.fabricSquareSize,{length:f,width:b}=Yt(o),y=i.scale??1,h=f*y,d=b*(i.widthScale??1)*y,v=bs(i.petalType),_=r.get(i.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":c.cursor??ir("/tsumami/")},"data-testid":`leaf-${i.id}`,onPointerDown:N=>{if(N.stopPropagation(),N.button===0&&!i.locked){if(N.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(N)}},children:[s.jsx("path",{d:v,transform:`scale(${h} ${d})`,fill:_,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const N=i.doublePetal,m=N.innerSizeReduction??2,j=o*(y||1);if(j<=0)return null;const p=Math.max(j*.3,j-m)/j,E=N.innerColorId??i.colorId,k=r.get(E)?.hex??_,G=h*p,H=d*p;return s.jsx("path",{d:v,transform:`scale(${G} ${H})`,fill:k,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&s.jsx("path",{d:v,transform:`scale(${h*1.06} ${d*1.06})`,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${i.id}`),c.isSelected&&s.jsx("path",{d:v,transform:`scale(${h} ${d})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${i.id}`)]})}const ai=1350;function Lm(c){const{stencils:i,selectedStencilId:a,selection:r,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:b,stencilDraggingRef:y,onSelectStencil:h}=c,d=$.useRef(null);$.useEffect(()=>()=>{d.current?.()},[]);const v=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return s.jsx(s.Fragment,{children:i.map(_=>{const N=Mm(_.variant,_.pose),m=a===_.id,j=ln,g=N.imageUrl?1:N.scaleX,p=v||!!_.locked;return s.jsx("g",{transform:`translate(${_.position.x} ${_.position.y}) scale(${j*g} ${j})`,style:{cursor:v?"default":_.locked?"pointer":rm("/tsumami/"),pointerEvents:v?"none":"auto"},"data-testid":`stencil-${_.id}`,onPointerDown:E=>{if(E.button!==0)return;if(p){h(_.id);return}if(E.stopPropagation(),h(_.id),!o.current)return;y.current=!0,o.current&&(o.current.style.cursor=cm("/tsumami/"));const G=b.current(E),H={..._.position},I=_.id;let K=H.x,R=H.y;const V=Q=>{const W=b.current(Q),w=W.x-G.x,C=W.y-G.y;K=Ce(H.x+w,0,ai),R=Ce(H.y+C,0,ai),f.current(L=>{const M=(L.stencils??[]).find(z=>z.id===I);M&&(M.position.x=K,M.position.y=R)},!1)},P=()=>{y.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",P),d.current=null,f.current(Q=>{const W=(Q.stencils??[]).find(w=>w.id===I);W&&(W.position.x=K,W.position.y=R)},!0)};document.addEventListener("pointermove",V),document.addEventListener("pointerup",P),d.current=()=>{y.current=!1,document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",P)}},children:N.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:N.imageUrl,x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,fill:"transparent",stroke:m?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:N.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:N.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),m&&s.jsx("path",{d:N.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},_.id)})})}function Tm(c){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:b,dashSyncToken:y,stageRef:h,multiTouchRef:d,clientToSvgPoint:v,togglePetalSelection:_,handleShiftFlowerSelect:N,groupHighlightedFlowerIds:m,beginFlowerDrag:j,beginScaleDrag:g,beginRotationDrag:p,beginWidthScaleDrag:E,beginRadiusDrag:k,clickOriginRef:G,zoneActivatedRef:H,setZoneCursorValue:I,setTouchZoneIndicator:K,hoverZoneRef:R,hoverHitLayerIdRef:V,hoverHitPetalIndexRef:P}=c;return s.jsx(s.Fragment,{children:i.flowers.map(Q=>s.jsx(Nm,{flower:Q,project:i,paletteMap:o,isSelected:a.kind!=="project"&&f===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===Q.id?a.petals:null,onSelect:()=>{const W=va(i,Q.id);if(W&&!(a.kind==="group"&&a.groupId===W.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&W.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:W.id});return}r({kind:"flower",flowerId:Q.id})},onSelectLayer:W=>r({kind:"layer",flowerId:Q.id,layerId:W}),onSelectPetal:(W,w)=>r({kind:"petal",flowerId:Q.id,layerId:W,index:w}),onTogglePetalSelection:(W,w,C)=>_(Q.id,W,w,C),onShiftSelect:()=>N(Q.id),isGroupHighlighted:m.has(Q.id),zoneCursorValue:b,onBeginDragFromLayerPetal:(W,w,C)=>{if(d.current)return;const L=va(i,Q.id);if(L&&!(a.kind==="group"&&a.groupId===L.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&L.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:L.id}),j(Q.id,C);return}const M=v(C),z=C.pointerType==="touch",T=a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="petal"&&a.flowerId===Q.id||a.kind==="petals"&&a.flowerId===Q.id;if(z&&T){const{zone:O,layerId:D,petalIndex:B}=ni(M.x,M.y,Q,i,a),{length:Y}=Yt(Q.fabricSquareSize??i.fabricSquareSize),Z=j0(O,a.kind,{hitLayerId:D,flower:Q,length:Y});if(Z!=="none"&&Z!=="center"&&Z!=="move"){K({x:M.x,y:M.y,zone:Z});const le=a.kind==="layer"?"layer":"flower",ce=a.kind==="layer"?a.layerId:W;switch(Z){case"rotate":p(le,Q.id,C,{layerId:ce});return;case"scale":g(le,Q.id,C,{layerId:ce});return;case"width":E(le,Q.id,C,{layerId:ce,petalIndex:B});return;case"radius":k(le,Q.id,C,{layerId:ce});return}}j(Q.id,C,{layerId:W,index:w});return}const q=H.current;G.current={x:M.x,y:M.y},H.current=!1;const X=R.current;if(T&&(q||X!=="none"&&X!=="center")){const O=X,D=V.current,B=P.current,Y=a.kind==="layer"?"layer":"flower",Z=a.kind==="layer"?a.layerId:D??W;switch(O){case"rotate":p(Y,Q.id,C,{layerId:Z});return;case"scale":g(Y,Q.id,C,{layerId:Z});return;case"width":E(Y,Q.id,C,{layerId:Z,petalIndex:B});return;case"radius":k(Y,Q.id,C,{layerId:Z});return;default:I(qn("/tsumami/")),h.current&&(h.current.style.cursor=qn("/tsumami/")),j(Q.id,C,{layerId:W,index:w});return}}I(qn("/tsumami/")),h.current&&(h.current.style.cursor=qn("/tsumami/")),j(Q.id,C,{layerId:W,index:w})},onDoubleClick:()=>r({kind:"flower",flowerId:Q.id}),onPointerDown:W=>{if(d.current||W.button!==0)return;if(W.shiftKey){W.stopPropagation(),N(Q.id);return}const w=va(i,Q.id);if(w&&!(a.kind==="group"&&a.groupId===w.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&w.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:w.id}),j(Q.id,W);return}a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id)||r({kind:"flower",flowerId:Q.id});const L=v(W);G.current={x:L.x,y:L.y},H.current=!1,I(qn("/tsumami/")),h.current&&(h.current.style.cursor=qn("/tsumami/")),j(Q.id,W)},dashSyncToken:y},Q.id))})}function Em(c){const{leaves:i,leafGroups:a,project:r,selection:o,paletteMap:f,dashSyncToken:b,leafGroupHighlightedLeafIds:y,zoneCursorValue:h,stageRef:d,applyUpdateRef:v,clientToSvgPointRef:_,leafDraggingRef:N,clickOriginRef:m,zoneActivatedRef:j,setZoneCursorValue:g,onSelectLeaf:p,onSelectLeafGroup:E,onShiftSelectLeaf:k,hoverLeafZoneRef:G}=c,H=$.useRef(null);return $.useEffect(()=>()=>{H.current?.()},[]),s.jsx(s.Fragment,{children:i.map(I=>{if(!I.visible)return null;const K=o.kind==="leaf"&&o.leafId===I.id,R=o.kind==="leaves"&&o.leafIds?.includes(I.id),V=y.has(I.id),P=ii({leaves:i,leafGroups:a},I.id),Q=P?.rotation??0;let W=I;if(P&&Q!==0){const w=zh({leaves:i,leafGroups:a},P.id),C=Q*Math.PI/180,L=I.position.x-w.x,M=I.position.y-w.y;W={...I,position:{x:w.x+L*Math.cos(C)-M*Math.sin(C),y:w.y+L*Math.sin(C)+M*Math.cos(C)},rotation:I.rotation+Q}}return s.jsx(Am,{leaf:W,project:r,paletteMap:f,isSelected:K||R,isLeafGroupHighlighted:V,dashSyncToken:b,cursor:K?h:void 0,onPointerDown:w=>{if(I.locked)return;w.stopPropagation();const C=_.current(w);if(P&&!(o.kind==="leafGroup"&&o.leafGroupId===P.id||o.kind==="leaf"&&P.leafIds.includes(o.leafId))){E(P.id),N.current=!0,m.current={x:C.x,y:C.y},j.current=!1,g(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/"));const q=C,X=Od({leaves:i,leafGroups:a},I.id),O=new Map;for(const Z of X){const le=i.find(ce=>ce.id===Z);le&&O.set(Z,{...le.position})}let D=!1;const B=Z=>{const le=_.current(Z),ce=le.x-q.x,fe=le.y-q.y;Math.abs(ce)+Math.abs(fe)>1&&(D=!0),v.current(oe=>{for(const[ge,we]of O){const he=(oe.leaves??[]).find(ze=>ze.id===ge);he&&(he.position.x=Ce(we.x+ce,0,ai),he.position.y=Ce(we.y+fe,0,ai))}},!1)},Y=()=>{H.current=null,N.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",Y),D&&v.current(()=>{},!0)};document.addEventListener("pointermove",B),document.addEventListener("pointerup",Y),H.current=()=>{N.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",Y)};return}const L=K&&j.current;p(I.id),m.current={x:C.x,y:C.y},j.current=!1,g(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/"));const M=G.current,z=K&&(L||M!=="none")?M:"move";if(z!=="move"){const T=$i(z,"/tsumami/");g(T),d.current&&(d.current.style.cursor=T)}if(N.current=!0,z==="rotate"){const T=W.position,q=I.rotation,X=Math.atan2(C.y-T.y,C.x-T.x)*180/Math.PI;let O=!1;const D=Y=>{const Z=_.current(Y),ce=Math.atan2(Z.y-T.y,Z.x-T.x)*180/Math.PI-X;Math.abs(ce)>.5&&(O=!0),v.current(fe=>{const oe=(fe.leaves??[]).find(ge=>ge.id===I.id);oe&&(oe.rotation=((q+ce)%360+360)%360)},!1)},B=()=>{H.current=null,N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",B),O&&v.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",B),H.current=()=>{N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",B)}}else if(z==="scale"){const T=W.position,q=I.scale??1,X=Math.max(1,Math.hypot(C.x-T.x,C.y-T.y));let O=!1;const D=Y=>{const Z=_.current(Y),ce=Math.hypot(Z.x-T.x,Z.y-T.y)/X;Math.abs(ce-1)>.01&&(O=!0),v.current(fe=>{const oe=(fe.leaves??[]).find(ge=>ge.id===I.id);oe&&(oe.scale=Ce(q*ce,.3,3))},!1)},B=()=>{H.current=null,N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",B),O&&v.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",B),H.current=()=>{N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",B)}}else if(z==="width"){const T=W.position,q=I.rotation*Math.PI/180,X=-Math.sin(q),O=Math.cos(q),D=I.widthScale??1,B=Math.abs((C.x-T.x)*X+(C.y-T.y)*O),Y=Math.max(1,B);let Z=!1;const le=fe=>{const oe=_.current(fe),we=Math.abs((oe.x-T.x)*X+(oe.y-T.y)*O)/Y;Math.abs(we-1)>.01&&(Z=!0),v.current(he=>{const ze=(he.leaves??[]).find(We=>We.id===I.id);ze&&(ze.widthScale=Ce(D*we,.3,3))},!1)},ce=()=>{H.current=null,N.current=!1,document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ce),Z&&v.current(()=>{},!0)};document.addEventListener("pointermove",le),document.addEventListener("pointerup",ce),H.current=()=>{N.current=!1,document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ce)}}else{const T=C,q=o.kind==="leaves"&&o.leafIds?.includes(I.id)?o.leafIds:Od({leaves:i,leafGroups:a},I.id),X=new Map;for(const Y of q){const Z=i.find(le=>le.id===Y);Z&&X.set(Y,{...Z.position})}let O=!1;const D=Y=>{const Z=_.current(Y),le=Z.x-T.x,ce=Z.y-T.y;Math.abs(le)+Math.abs(ce)>1&&(O=!0),v.current(fe=>{for(const[oe,ge]of X){const we=(fe.leaves??[]).find(he=>he.id===oe);we&&(we.position.x=Ce(ge.x+le,0,ai),we.position.y=Ce(ge.y+ce,0,ai))}},!1)},B=()=>{H.current=null,N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",B),O&&v.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",B),H.current=()=>{N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",B)}}},onShiftSelect:()=>k(I.id)},I.id)})})}function Bm({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Gm({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const ba=1350;function qm(c){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,setZoom:b,zoomLevel:y,setZoomLevel:h,ZOOM_LEVELS:d,setPan:v,showGrid:_,setShowGrid:N,setShowHelp:m,stageRef:j,viewBox:g,dashDelay:p,dashSyncToken:E,beginPan:k,updatePan:G,endPan:H,beginMarquee:I,updateMarquee:K,endMarquee:R,marqueeRef:V,marqueeRect:P,beginFlowerDrag:Q,updateFlowerDrag:W,endFlowerDrag:w,scaleDragRef:C,updateScaleDrag:L,endScaleDrag:M,rotationDragRef:z,updateRotationDrag:T,endRotationDrag:q,widthScaleDragRef:X,updateWidthScaleDrag:O,endWidthScaleDrag:D,radiusDragRef:B,updateRadiusDrag:Y,endRadiusDrag:Z,beginScaleDrag:le,beginRotationDrag:ce,beginWidthScaleDrag:fe,beginRadiusDrag:oe,togglePetalSelection:ge,clientToSvgPoint:we}=c,he=$.useRef(!1),ze=$.useRef(!1),We=$.useRef(c.applyUpdate),tt=$.useRef(we);$.useEffect(()=>{We.current=c.applyUpdate},[c.applyUpdate]),$.useEffect(()=>{tt.current=we},[we]);const[lt,mt]=$.useState(!1),St=$.useRef(null);$.useEffect(()=>{if(!lt)return;const xe=Ee=>{St.current&&!St.current.contains(Ee.target)&&mt(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[lt]);const[Tt,bt]=$.useState("grab"),Ut=$.useRef("none"),an=$.useRef("none"),Xn=$.useRef(void 0),Jn=$.useRef(void 0),Qe=$.useRef(null),vn=$.useRef(!0),Sl=5,nl=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="leafGroup"?`leafGroup:${a.leafGroupId}`:a.kind==="group"?`group:${a.groupId}`:a.kind,ll=$.useRef(nl);$.useEffect(()=>{nl!==ll.current&&(ll.current=nl,vn.current=!1,Qe.current=null,Ut.current="none",an.current="none",Xn.current=void 0,Jn.current=void 0)},[nl]);const[Cl,Wl]=$.useState(!1),Vn=$.useRef(!1),[ci,Rn]=$.useState(null),Gt=5,pn=10,ke=Dm({zoom:c.zoom,pan:c.pan,setZoom:b,setPan:v,zoomLevel:y,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:j,endPan:H,endFlowerDrag:w,endMarquee:R,endRotationDrag:q,endScaleDrag:M,endWidthScaleDrag:D,endRadiusDrag:Z});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>ke.zoomAtCenter(1),disabled:y>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>ke.zoomAtCenter(-1),disabled:y<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${_?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>N(xe=>!xe),title:"","aria-label":"","aria-pressed":_,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>ke.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:St,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${lt?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>mt(xe=>!xe),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),lt&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(xe=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:t1[xe]}),["right","left","back"].map(Ee=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(xe,Ee),mt(!1)},"data-testid":`stencil-add-${xe}-${Ee}`,children:n1[Ee]},`${xe}-${Ee}`))]},xe)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),mt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>m(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:_?"24px 1fr":"1fr",gridTemplateRows:_?"20px 1fr":"1fr"},children:[_&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),_&&(()=>{const[xe,,Ee,Be]=g.split(/\s+/).map(Number),ye=ln,pe=Math.max(Ee,Be)/ye,Me=[10,20,50,100,200,500,1e3].find(Ae=>pe/Ae<=15)??1e3,_e=Me<=10?1:Me<=50?5:Me<=100?10:Me<=500?50:100,Pe=Me<=10?5:Me/2,Fe=Math.floor(xe/ye/_e)*_e-_e,Ze=Math.ceil((xe+Ee)/ye/_e)*_e+_e,Xe=[];for(let Ae=Fe;Ae<=Ze;Ae+=_e){const $e=(Ae*ye-xe)/Ee*100;if($e<-2||$e>102)continue;const Dt=Math.abs(Ae),rt=Dt%Me===0,nt=Dt%Pe===0,ht=rt?10:nt?6:3;Xe.push(s.jsx("line",{x1:`${$e}%`,y1:20-ht,x2:`${$e}%`,y2:20,stroke:"#999",strokeWidth:rt?.8:.4},Ae)),rt&&Xe.push(s.jsx("text",{x:`${$e}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Xe})})(),_&&(()=>{const[,xe,Ee,Be]=g.split(/\s+/).map(Number),ye=ln,pe=Math.max(Ee,Be)/ye,Me=[10,20,50,100,200,500,1e3].find(Ae=>pe/Ae<=15)??1e3,_e=Me<=10?1:Me<=50?5:Me<=100?10:Me<=500?50:100,Pe=Me<=10?5:Me/2,Fe=Math.floor(xe/ye/_e)*_e-_e,Ze=Math.ceil((xe+Be)/ye/_e)*_e+_e,Xe=[];for(let Ae=Fe;Ae<=Ze;Ae+=_e){const $e=(Ae*ye-xe)/Be*100;if($e<-2||$e>102)continue;const Dt=Math.abs(Ae),rt=Dt%Me===0,nt=Dt%Pe===0,ht=rt?10:nt?6:3;Xe.push(s.jsx("line",{x1:24-ht,y1:`${$e}%`,x2:24,y2:`${$e}%`,stroke:"#999",strokeWidth:rt?.8:.4},Ae)),rt&&Xe.push(s.jsx("text",{x:12,y:`${$e}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Xe})})(),s.jsxs("svg",{ref:j,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:g,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":p,cursor:Cl?"crosshair":"grab"},onDoubleClick:xe=>{xe.target===xe.currentTarget&&(Wl(Ee=>!Ee),r({kind:"project"}))},onPointerDown:xe=>{if(ke.multiTouchRef.current)return;if(xe.button===1){Vn.current=!0,j.current&&(j.current.style.cursor="grabbing"),k(xe);return}if(xe.button!==0)return;const Ee=xe.pointerType==="touch";if(Ee&&xe.target===xe.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const ye=i.flowers.find(pe=>pe.id===f);if(ye){const pe=we(xe),{zone:Ne,layerId:Me,petalIndex:_e}=ni(pe.x,pe.y,ye,i,a),{length:Pe}=Yt(ye.fabricSquareSize??i.fabricSquareSize),Fe=j0(Ne,a.kind,{hitLayerId:Me,flower:ye,length:Pe});if(Fe!=="none"&&Fe!=="center"){Rn({x:pe.x,y:pe.y,zone:Fe});const Ze=a.kind==="layer"?"layer":"flower",Xe=a.kind==="layer"?a.layerId:Me;switch(Fe){case"rotate":ce(Ze,f,xe,{layerId:Xe});return;case"scale":le(Ze,f,xe,{layerId:Xe});return;case"width":fe(Ze,f,xe,{layerId:Xe,petalIndex:_e});return;case"radius":oe(Ze,f,xe,{layerId:Xe});return;case"move":Q(f,xe);return}}}}ke.setTouchBgStart({x:xe.clientX,y:xe.clientY}),k(xe);return}if(xe.target===xe.currentTarget&&f&&Tt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const ye=Ut.current;if(ye!=="none"&&ye!=="center"){const pe=a.kind==="layer"?"layer":"flower",Ne=a.kind==="layer"?a.layerId:Xn.current;switch(ye){case"rotate":ce(pe,f,xe,{layerId:Ne});return;case"scale":le(pe,f,xe,{layerId:Ne});return;case"width":fe(pe,f,xe,{layerId:Ne,petalIndex:Jn.current});return;case"radius":oe(pe,f,xe,{layerId:Ne});return;case"move":Q(f,xe);return}}}if(xe.target===xe.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&Tt!=="grab"){const Be=an.current;if(Be!=="none"){const ye=c.leaves.find(pe=>pe.id===c.selectedLeafId);if(ye){xe.preventDefault();const pe=we(xe);if(ze.current=!0,Be==="rotate"){const Ne=ye.position,Me=ye.rotation,_e=Math.atan2(pe.y-Ne.y,pe.x-Ne.x)*180/Math.PI,Pe=ye.id,Fe=$i(Be,"/tsumami/");bt(Fe),j.current&&(j.current.style.cursor=Fe);let Ze=!1;const Xe=qt=>{const $e=we(qt),rt=Math.atan2($e.y-Ne.y,$e.x-Ne.x)*180/Math.PI-_e;Math.abs(rt)>.5&&(Ze=!0),c.applyUpdate(nt=>{const ht=(nt.leaves??[]).find(kn=>kn.id===Pe);ht&&(ht.rotation=((Me+rt)%360+360)%360)},!1)},Ae=()=>{ze.current=!1,document.removeEventListener("pointermove",Xe),document.removeEventListener("pointerup",Ae),Ze&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Xe),document.addEventListener("pointerup",Ae);return}else if(Be==="scale"){const Ne=ye.position,Me=ye.scale??1,_e=Math.max(1,Math.hypot(pe.x-Ne.x,pe.y-Ne.y)),Pe=ye.id,Fe=$i(Be,"/tsumami/");bt(Fe),j.current&&(j.current.style.cursor=Fe);let Ze=!1;const Xe=qt=>{const $e=we(qt),rt=Math.hypot($e.x-Ne.x,$e.y-Ne.y)/_e;Math.abs(rt-1)>.01&&(Ze=!0),c.applyUpdate(nt=>{const ht=(nt.leaves??[]).find(kn=>kn.id===Pe);ht&&(ht.scale=Math.max(.3,Math.min(3,Me*rt)))},!1)},Ae=()=>{ze.current=!1,document.removeEventListener("pointermove",Xe),document.removeEventListener("pointerup",Ae),Ze&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Xe),document.addEventListener("pointerup",Ae);return}else if(Be==="width"){const Ne=ye.position,Me=ye.rotation*Math.PI/180,_e=-Math.sin(Me),Pe=Math.cos(Me),Fe=ye.widthScale??1,Ze=Math.max(1,Math.abs((pe.x-Ne.x)*_e+(pe.y-Ne.y)*Pe)),Xe=ye.id,Ae=$i(Be,"/tsumami/");bt(Ae),j.current&&(j.current.style.cursor=Ae);let qt=!1;const $e=rt=>{const nt=we(rt),kn=Math.abs((nt.x-Ne.x)*_e+(nt.y-Ne.y)*Pe)/Ze;Math.abs(kn-1)>.01&&(qt=!0),c.applyUpdate(Ql=>{const Ge=(Ql.leaves??[]).find(gt=>gt.id===Xe);Ge&&(Ge.widthScale=Math.max(.3,Math.min(3,Fe*kn)))},!1)},Dt=()=>{ze.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Dt),qt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Dt);return}else{const Ne=pe,Me={...ye.position},_e=ye.id;bt(qn("/tsumami/")),j.current&&(j.current.style.cursor=qn("/tsumami/"));let Pe=!1;const Fe=Xe=>{const Ae=we(Xe),qt=Ae.x-Ne.x,$e=Ae.y-Ne.y;Math.abs(qt)+Math.abs($e)>1&&(Pe=!0),c.applyUpdate(Dt=>{const rt=(Dt.leaves??[]).find(nt=>nt.id===_e);rt&&(rt.position.x=Math.max(0,Math.min(ba,Me.x+qt)),rt.position.y=Math.max(0,Math.min(ba,Me.y+$e)))},!1)},Ze=()=>{ze.current=!1,document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Ze),Pe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Ze);return}}}}if(xe.target===xe.currentTarget){Ee?(ke.setTouchBgStart({x:xe.clientX,y:xe.clientY}),k(xe)):Cl?I(xe):(ke.setMouseBgStart({x:xe.clientX,y:xe.clientY}),Vn.current=!0,j.current&&(j.current.style.cursor="grabbing"),k(xe));return}},onPointerMove:xe=>{if(he.current||ze.current)return;if(V.current){K(xe);return}if(z.current){T(xe);return}if(C.current){L(xe);return}if(X.current){O(xe);return}if(B.current){Y(xe);return}W(xe),G(xe);const Ee=!!c.dragRef?.current||!!V.current||!!z.current||!!C.current||!!X.current||!!B.current||Vn.current,Be=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Ee&&Be){const ye=i.flowers.find(pe=>pe.id===f);if(ye){const pe=we(xe);if(Qe.current&&!vn.current){if(Math.hypot(pe.x-Qe.current.x,pe.y-Qe.current.y)<Sl){const{zone:Ae}=ni(pe.x,pe.y,ye,i,a);Ae==="center"&&(bt("pointer"),j.current&&(j.current.style.cursor="pointer"));return}vn.current=!0,Qe.current=null}const{zone:Ne,layerId:Me,petalIndex:_e}=ni(pe.x,pe.y,ye,i,a),{length:Pe}=Yt(ye.fabricSquareSize??i.fabricSquareSize),Fe=j0(Ne,a.kind,{hitLayerId:Me,flower:ye,length:Pe});Fe!=="none"&&(Ut.current=Fe,Xn.current=Me,Jn.current=_e);const Ze=Ud(Fe,"/tsumami/");bt(Ze),j.current&&(j.current.style.cursor=Ze)}}if(!Ee&&a.kind==="leaf"&&c.selectedLeafId){const ye=c.leaves.find(pe=>pe.id===c.selectedLeafId);if(ye){const pe=we(xe);if(Qe.current&&!vn.current){if(Math.hypot(pe.x-Qe.current.x,pe.y-Qe.current.y)<Sl)return;vn.current=!0,Qe.current=null}const Ne=im(pe.x,pe.y,ye,i);Ne!=="none"&&(an.current=Ne);const Me=$i(Ne,"/tsumami/");bt(Me),j.current&&(j.current.style.cursor=Me)}}},onPointerUp:xe=>{if(!he.current&&!ze.current){if(Rn(null),V.current&&Cl&&Wl(!1),R(),q(),M(),D(),Z(),w(),H(),Vn.current&&(Vn.current=!1,j.current&&(j.current.style.cursor=Cl?"crosshair":"grab")),ke.touchBgStartRef.current&&xe.pointerType==="touch"){const Ee=xe.clientX-ke.touchBgStartRef.current.x,Be=xe.clientY-ke.touchBgStartRef.current.y;Math.hypot(Ee,Be)<pn&&r({kind:"project"}),ke.setTouchBgStart(null);return}if(ke.setTouchBgStart(null),ke.mouseBgStartRef.current&&xe.pointerType==="mouse"){const Ee=xe.clientX-ke.mouseBgStartRef.current.x,Be=xe.clientY-ke.mouseBgStartRef.current.y;if(ke.setMouseBgStart(null),Math.hypot(Ee,Be)<Gt){r({kind:"project"});return}}if(ke.setMouseBgStart(null),f){const Ee=i.flowers.find(Be=>Be.id===f);if(Ee){const Be=we(xe);if(Qe.current&&Math.hypot(Be.x-Qe.current.x,Be.y-Qe.current.y)<Sl){const{zone:Ze}=ni(Be.x,Be.y,Ee,i,a);Ze==="center"&&(bt("pointer"),j.current&&(j.current.style.cursor="pointer"));return}const{zone:ye,layerId:pe,petalIndex:Ne}=ni(Be.x,Be.y,Ee,i,a),{length:Me}=Yt(Ee.fabricSquareSize??i.fabricSquareSize),_e=j0(ye,a.kind,{hitLayerId:pe,flower:Ee,length:Me});_e!=="none"&&(Ut.current=_e,Xn.current=pe,Jn.current=Ne);const Pe=Ud(_e,"/tsumami/");bt(Pe),j.current&&(j.current.style.cursor=Pe)}}}},onPointerLeave:()=>{R(),q(),M(),D(),Z(),w(),H(),Vn.current=!1,ke.setTouchBgStart(null),ke.setMouseBgStart(null),bt("grab"),Qe.current=null,vn.current=!0,Ut.current="none",an.current="none",Xn.current=void 0,Jn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[xe,Ee,Be,ye]=g.split(/\s+/).map(Number),pe=ba;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:xe,y:Ee,width:Be,height:ye,fill:"white"}),s.jsx("rect",{x:0,y:0,width:pe,height:pe,fill:"black"})]})}),s.jsx("rect",{x:xe,y:Ee,width:Be,height:ye,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:ba,height:ba,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:ba,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:ba,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),_&&(()=>{const xe=ln,[Ee,Be,ye,pe]=g.split(/\s+/).map(Number),Ne=Math.max(ye,pe)/xe,_e=[10,20,50,100,200,500,1e3].find(nt=>Ne/nt<=15)??1e3,Pe=Math.floor(Ee/xe/_e)*_e-_e,Fe=Math.ceil((Ee+ye)/xe/_e)*_e+_e,Ze=Math.floor(Be/xe/_e)*_e-_e,Xe=Math.ceil((Be+pe)/xe/_e)*_e+_e,Ae=Ze*xe,qt=Xe*xe,$e=Pe*xe,Dt=Fe*xe,rt=[];for(let nt=Pe;nt<=Fe;nt+=_e){const ht=nt*xe;rt.push(s.jsx("line",{x1:ht,y1:Ae,x2:ht,y2:qt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${nt}`))}for(let nt=Ze;nt<=Xe;nt+=_e){const ht=nt*xe;rt.push(s.jsx("line",{x1:$e,y1:ht,x2:Dt,y2:ht,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${nt}`))}return s.jsx("g",{children:rt})})(),s.jsx(Lm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:j,applyUpdateRef:We,clientToSvgPointRef:tt,stencilDraggingRef:he,onSelectStencil:c.onSelectStencil}),s.jsx(Tm,{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:Tt,dashSyncToken:E,stageRef:j,multiTouchRef:ke.multiTouchRef,clientToSvgPoint:we,togglePetalSelection:ge,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:Q,beginScaleDrag:le,beginRotationDrag:ce,beginWidthScaleDrag:fe,beginRadiusDrag:oe,clickOriginRef:Qe,zoneActivatedRef:vn,setZoneCursorValue:bt,setTouchZoneIndicator:Rn,hoverZoneRef:Ut,hoverHitLayerIdRef:Xn,hoverHitPetalIndexRef:Jn}),s.jsx(Em,{leaves:c.leaves,leafGroups:c.leafGroups,project:i,selection:a,paletteMap:o,dashSyncToken:E,selectedLeafId:c.selectedLeafId,leafGroupHighlightedLeafIds:c.leafGroupHighlightedLeafIds,zoneCursorValue:Tt,stageRef:j,applyUpdateRef:We,clientToSvgPointRef:tt,leafDraggingRef:ze,clickOriginRef:Qe,zoneActivatedRef:vn,setZoneCursorValue:bt,onSelectLeaf:c.onSelectLeaf,onSelectLeafGroup:c.onSelectLeafGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:an}),s.jsx(Bm,{rect:P}),s.jsx(Gm,{indicator:ci})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Zd(c,i,a){return Math.min(a,Math.max(i,c))}function Ke({value:c,onChange:i,min:a=-1/0,max:r=1/0,step:o,className:f,...b}){const[y,h]=$.useState(null),d=$.useRef(null),v=$.useCallback(m=>{const j=Number(m);isNaN(j)||i(Zd(j,a,r)),h(null)},[i,a,r]),_=$.useCallback(()=>{h(null)},[]),N=$.useCallback(m=>{const j=o??1,p=(Number(y??c)||0)+j*m,E=Zd(p,a,r),k=String(j).includes(".")?String(j).split(".")[1].length:0,G=Number(E.toFixed(k));h(String(G)),i(G)},[y,c,o,a,r,i]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:y??String(c),onChange:m=>h(m.target.value),onFocus:m=>{h(String(c)),requestAnimationFrame(()=>m.target.select())},onBlur:()=>{y!==null&&v(y)},onKeyDown:m=>{m.key==="Enter"?(m.preventDefault(),y!==null&&v(y),d.current?.blur()):m.key==="Escape"?(m.preventDefault(),_(),d.current?.blur()):(m.key==="ArrowUp"||m.key==="ArrowDown")&&(m.preventDefault(),N(m.key==="ArrowUp"?1:-1))},...b}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:m=>{m.preventDefault(),N(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:m=>{m.preventDefault(),N(-1)},children:""})]})]})}function ur({title:c,compact:i,children:a}){return s.jsxs("div",{className:i?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Rm({flower:c,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const f=$.useMemo(()=>{const p=[...c.layers||[]].sort((P,Q)=>P.order-Q.order);if(p.length<2)return{mode:"uniform",step:2};const E=p.map(P=>P.scale??1);if(E.every(P=>Math.abs(P-E[0])<.001))return{mode:"uniform",step:2};const G=p[0],H=p[p.length-1],I=(H.order??1)-(G.order??1);if(I<=0)return{mode:"gradual",step:2};const R=((G.scale??1)-(H.scale??1))/I,V=Math.round(R*i*2)/2;return{mode:"gradual",step:Ce(V,0,10)}},[c.id]),[b,y]=$.useState(f.mode),[h,d]=$.useState(f.step),[v,_]=$.useState(0);$.useEffect(()=>{y(f.mode),d(f.step),_(0)},[f]);const N=$.useMemo(()=>[...c.layers||[]].sort((p,E)=>p.order-E.order),[c.layers]),m=N[0],j=m?m.order:0,g=$.useMemo(()=>{if(!m)return[];const p=m.scale??1,E=m.radius,k=new Map;for(const P of N){const Q=P.order-j;if(Q===0)k.set(P.id,p);else if(b==="uniform")k.set(P.id,p);else{const W=h/i;k.set(P.id,Ce(p-Q*W,.3,3))}}const{length:G}=Yt(i),H=N.length,I=70*Math.PI/180,K=new Map;let R=E;K.set(m.id,E);for(let P=1;P<H;P++){const Q=N[P-1],W=k.get(Q.id)??1,w=G*W;let C;if(a===""){const L=H-1-P,M=H>1?L/(H-1)*I:0;C=w*(30/100)*Math.cos(M)}else C=w/3;R=R-C,K.set(N[P].id,Math.max(2,R))}const V=N.map(P=>{const Q=k.get(P.id)??1,W=Math.round((K.get(P.id)??E)*10)/10,w=Math.round(i*Q*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:Q,effFabricSize:w,effRadius:W}});if(V.length>0){const P=V[V.length-1],Q=G*P.effScale,W=Math.floor(Q*.28*10)/10;P.effRadius>W&&(P.effRadius=W)}return V},[N,m,j,b,h,30,i,a]);return $.useEffect(()=>{v!==0&&(!m||g.length===0||r(p=>{const E=p.flowers.find(G=>G.id===c.id);if(!E)return;for(const G of g){const H=E.layers.find(I=>I.id===G.id);H&&(H.scale=Ce(G.effScale,.3,3),H.radius=Ce(G.effRadius,2,120))}const k=[...E.layers].sort((G,H)=>H.order-G.order);for(let G=1;G<k.length;G++){const H=k[G-1],I=k[G];I.offsetAngle=el(H.petalCount,H.offsetAngle,I.petalCount)}}))},[v]),N.length<2?null:s.jsxs(ur,{title:"",children:[s.jsxs(ws,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:b,onChange:p=>{y(p.target.value),_(E=>E+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),b==="gradual"&&s.jsxs(ws,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:p=>{d(p),_(E=>E+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),g.map(p=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:p.name}),s.jsxs("span",{children:[" ",p.effFabricSize,"mm /  ",Math.round(tr(p.effRadius,p.effScale,i)),"mm"]})]},p.id))]})]})}const l1="tsumami_recent_colors_v1",Os=10;function km(c){const i=new Set;for(const a of c.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const o of r.petalOverrides)o.colorId&&i.add(o.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function As(){try{const c=localStorage.getItem(l1);if(c){const i=JSON.parse(c);if(Array.isArray(i))return i.slice(0,Os)}}catch{}return[]}function Im(c){try{localStorage.setItem(l1,JSON.stringify(c.slice(0,Os)))}catch{}}function Om(c){const i=As(),a=[c,...i.filter(r=>r!==c)].slice(0,Os);Im(a)}function Zn({palette:c,project:i,selectedColorId:a,onChange:r,size:o="md"}){const[f,b]=$.useState(!1),y=$.useRef(null),[h,d]=$.useState(As);$.useEffect(()=>{if(!f)return;const g=p=>{y.current&&!y.current.contains(p.target)&&b(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[f]);const v=$.useMemo(()=>km(i),[i]),_=$.useMemo(()=>{const g=new Set;g.add(a);for(const p of v)g.add(p);for(const p of h)g.add(p);return c.filter(p=>g.has(p.id))},[c,a,v,h]),N=$.useCallback(g=>{Om(g),d(As()),r(g)},[r]),m=o==="sm"?"h-4 w-4":"h-5 w-5",j=f?c:_;return s.jsx("div",{ref:y,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[j.map(g=>s.jsx("button",{className:`${m} rounded border-2 ${a===g.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:g.hex},title:g.name,"aria-label":`: ${g.name}`,onClick:()=>N(g.id)},g.id)),c.length>_.length&&s.jsx("button",{className:`${m} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>b(g=>!g),title:f?"":"","aria-label":f?"":"",children:s.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Hm({project:c,applyUpdate:i,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f&&(f.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:tl.map(r=>{const o=a.layers.every(f=>f.petalType===r);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const b=f.flowers.find(y=>y.id===a.id);if(b)for(const y of b.layers)y.petalType=r}),children:r},r)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Pd.map(r=>{const o=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==r&&i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;b.placementMode=r;const y=b.fabricSquareSize??f.fabricSquareSize;r===""?b.baseDiameter=er(b.flowerDiameter):b.baseDiameter||(b.baseDiameter=f.baseDiameter),Rh(b.layers,y,r,b.flowerDiameter)},!0)},children:r},r)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ke,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f&&(f.baseDiameter=r)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[er(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(o=>{const f=o.flowers.find(h=>h.id===a.id);if(!f)return;const b=ri(r);for(const h of f.layers)h.petalCount=r,h.widthScale=b;const y=[...f.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<y.length;h++)y[h].offsetAngle=el(y[h-1].petalCount,y[h-1].offsetAngle,y[h].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(o=>{const f=o.flowers.find(y=>y.id===a.id);if(!f)return;f.flowerDiameter=r,f.placementMode===""&&(f.baseDiameter=er(r));const b=[...f.layers].sort((y,h)=>y.order-h.order);V0(b,f.fabricSquareSize??o.fabricSquareSize,r);for(const y of b){const h=f.layers.find(d=>d.id===y.id);h&&(h.radius=y.radius,h.scale=y.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);if(f)for(const b of f.layers)b.widthScale=r})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f&&(f.rotation=r)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);if(f)for(const b of f.layers)b.colorId=r})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);if(f)for(const b of f.layers)if(r.target.checked){if(!b.doublePetal){const y=b._doublePetalCache;b.doublePetal=y??{innerSizeReduction:2},delete b._doublePetalCache}}else b.doublePetal&&(b._doublePetalCache={...b.doublePetal}),delete b.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(y=>y.doublePetal.innerSizeReduction))],o=r.length===1?r[0]:null,f=[...new Set(a.layers.map(y=>y.doublePetal.innerColorId??y.colorId))],b=f.length===1?f[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:y=>i(h=>{const d=h.flowers.find(v=>v.id===a.id);if(d)for(const v of d.layers)v.doublePetal&&(v.doublePetal.innerSizeReduction=Ce(y,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:b??"",onChange:y=>i(h=>{const d=h.flowers.find(v=>v.id===a.id);if(d)for(const v of d.layers)v.doublePetal&&(y===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=y)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Uh.map(r=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f?.center&&(f.center.type=r,r===""&&!f.center.pepCount&&(f.center.pepCount=12),r===""&&!f.center.color2&&(f.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:r},r))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f?.center&&(f.center.size=r)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f?.center&&(f.center.color=r)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f?.center&&(f.center.color2=r)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f?.center&&(f.center.pepCount=r)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Rm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function Ym({project:c,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:b}){const y=a,h=[...new Set(y.flatMap(_=>_.layers.map(N=>N.petalType)))],d=h.length===1?h[0]:null,v=_=>{i(N=>{for(const m of y){const j=N.flowers.find(g=>g.id===m.id);j&&_(j)}},!0)};return s.jsxs(ur,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[y.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(_=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:_.hex},title:_.name,onClick:()=>v(N=>{for(const m of N.layers)m.colorId=_.id})},_.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:tl.map(_=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>v(N=>{for(const m of N.layers)m.petalType=_}),children:_},_))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:_=>{const N=ri(_);v(m=>{for(const g of m.layers)g.petalCount=_,g.widthScale=N;const j=[...m.layers].sort((g,p)=>p.order-g.order);for(let g=1;g<j.length;g++)j[g].offsetAngle=el(j[g-1].petalCount,j[g-1].offsetAngle,j[g].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(_=>s.jsxs("div",{children:[_.name," (",_.layers.length,")"]},_.id))}),(()=>{const _=y.map(p=>va(c,p.id)),N=y.filter(p=>!va(c,p.id)).map(p=>p.id),m=[...new Set(_.filter(Boolean).map(p=>p.id))],j=N.length===y.length,g=m.length===1&&_.every(p=>p!=null);return s.jsxs(s.Fragment,{children:[j&&y.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(y.map(p=>p.id)),children:""}),g&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(m[0]),children:""}),m.length===1&&N.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(m[0],N),children:[" (+",N.length,")"]}),m.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>b(m,N),children:[" (",m.length,"",N.length>0?` +${N.length}`:"",")"]})]})})()]})}function Um({project:c,applyUpdate:i,selectedFlowers:a,groups:r,groupId:o,onUngroupFlowers:f}){const b=r.find(_=>_.id===o);if(!b)return null;const y=a,h=[...new Set(y.flatMap(_=>_.layers.map(N=>N.petalType)))],d=h.length===1?h[0]:null,v=_=>{i(N=>{for(const m of y){const j=N.flowers.find(g=>g.id===m.id);j&&_(j)}},!0)};return s.jsxs(ur,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:b.name,onChange:_=>i(N=>{const m=(N.groups??[]).find(j=>j.id===b.id);m&&(m.name=_.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[y.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(_=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:_.hex},title:_.name,onClick:()=>v(N=>{for(const m of N.layers)m.colorId=_.id})},_.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:tl.map(_=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>v(N=>{for(const m of N.layers)m.petalType=_}),children:_},_))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:_=>{const N=ri(_);v(m=>{for(const g of m.layers)g.petalCount=_,g.widthScale=N;const j=[...m.layers].sort((g,p)=>p.order-g.order);for(let g=1;g<j.length;g++)j[g].offsetAngle=el(j[g-1].petalCount,j[g-1].offsetAngle,j[g].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(_=>s.jsxs("div",{children:[_.name," (",_.layers.length,")"]},_.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(b.id),children:""})]})}function Km({project:c,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);y&&(y.name=o.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:tl.map(o=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);y&&(y.petalType=o)}),children:o},o))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:r.petalCount,onChange:o=>{i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);if(y){y.petalCount=o,y.widthScale=ri(o);const h=[...b.layers].sort((d,v)=>v.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=el(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:1,max:200,step:.5,value:Math.round(tr(r.radius,r.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);y&&(y.radius=Ce(qh(o,y.scale??1,b.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(r.scale??1)*10)/10,onChange:o=>i(f=>{const b=f.flowers.find(_=>_.id===a.id);if(!b)return;const y=b.layers.find(_=>_.id===r.id);if(!y)return;const h=b.fabricSquareSize??f.fabricSquareSize;y.scale=Ce(Math.round(o/h*100)/100,.3,3);const d=[...b.layers].sort((_,N)=>_.order-N.order),v=d.findIndex(_=>_.id===y.id);if(v>=0)for(let _=v-1;_>=0;_--){const N=d[_],m=d[_+1],g=Yt(h).length*(m.scale??1)/3;N.radius=Math.round((m.radius+g)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);y&&(y.scale=o)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);y&&(y.widthScale=o)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:Number(r.offsetAngle??0).toFixed(1),onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);y&&(y.offsetAngle=o)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:r.colorId,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);y&&(y.colorId=o)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);if(y)if(o.target.checked){const h=y._doublePetalCache;y.doublePetal=h??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);y?.doublePetal&&(y.doublePetal.innerSizeReduction=Ce(o,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);y?.doublePetal&&(o===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=o)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);y&&(y.visible=o.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const y=b.layers.find(h=>h.id===r.id);y&&(y.locked=o.target.checked)})}),""]})]})]})]})}function Zm({project:c,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const o=r,f=o.map(p=>{const E=a.layers.find(k=>k.id===p.layerId);return{...p,layer:E}}).filter(p=>p.layer!=null),b=(p,E)=>{const k=a.layers.find(H=>H.id===p);return k?(k?.petalOverrides?.find(H=>H.index===E)??null)?.colorId??k.colorId:null},y=(p,E)=>{const k=a.layers.find(H=>H.id===p);return k?(k?.petalOverrides?.find(H=>H.index===E)??null)?.petalType??k.petalType:null},h=f.map(p=>b(p.layerId,p.index)),d=f.map(p=>y(p.layerId,p.index)),v=h.length>0&&h.every(p=>p===h[0]),N=d.length>0&&d.every(p=>p===d[0])?d[0]:null,m=p=>{i(E=>{const k=E.flowers.find(G=>G.id===a.id);if(k)for(const G of o){const H=k.layers.find(K=>K.id===G.layerId);if(!H)continue;H.petalOverrides||(H.petalOverrides=[]);const I=H.petalOverrides.find(K=>K.index===G.index);if(I)p.colorId!==void 0&&(p.colorId===H.colorId?delete I.colorId:I.colorId=p.colorId),p.petalType!==void 0&&(p.petalType===H.petalType?delete I.petalType:I.petalType=p.petalType),!I.colorId&&!I.petalType&&(H.petalOverrides=H.petalOverrides.filter(K=>K.index!==G.index),H.petalOverrides.length===0&&(H.petalOverrides=void 0));else{const K={index:G.index};p.colorId!==void 0&&p.colorId!==H.colorId&&(K.colorId=p.colorId),p.petalType!==void 0&&p.petalType!==H.petalType&&(K.petalType=p.petalType),(K.colorId!==void 0||K.petalType!==void 0)&&H.petalOverrides.push(K)}}},!0)},j=()=>{i(p=>{const E=p.flowers.find(k=>k.id===a.id);if(E)for(const k of o){const G=E.layers.find(H=>H.id===k.layerId);!G||!G.petalOverrides||(G.petalOverrides=G.petalOverrides.filter(H=>H.index!==k.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0))}},!0)},g=f.some(p=>p.layer?.petalOverrides?.find(E=>E.index===p.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",g&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(p=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${v&&h[0]===p.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:p.hex},title:p.name,"aria-label":`: ${p.name}`,onClick:()=>m({colorId:p.id})},p.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:tl.map(p=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${N===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>m({petalType:p}),children:p},p))})]}),g&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:j,children:""})]})]})}function Xm({project:c,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:o}){const f=r?.petalOverrides?.find(_=>_.index===o)??null,b=f?.colorId??r.colorId,y=f?.petalType??r.petalType,h=f!=null,d=_=>{i(N=>{const m=N.flowers.find(p=>p.id===a.id);if(!m)return;const j=m.layers.find(p=>p.id===r.id);if(!j)return;j.petalOverrides||(j.petalOverrides=[]);const g=j.petalOverrides.find(p=>p.index===o);if(g)_.colorId!==void 0&&(g.colorId=_.colorId),_.petalType!==void 0&&(g.petalType=_.petalType),_.innerColorId!==void 0&&(g.innerColorId=_.innerColorId),_.innerSizeReduction!==void 0&&(g.innerSizeReduction=_.innerSizeReduction),g.colorId!==void 0||g.petalType!==void 0||g.innerColorId!==void 0||g.innerSizeReduction!==void 0?(g.colorId===void 0&&delete g.colorId,g.petalType===void 0&&delete g.petalType,g.innerColorId===void 0&&delete g.innerColorId,g.innerSizeReduction===void 0&&delete g.innerSizeReduction):(j.petalOverrides=j.petalOverrides.filter(E=>E.index!==o),j.petalOverrides.length===0&&(j.petalOverrides=void 0));else{const p={index:o};_.colorId!==void 0&&(p.colorId=_.colorId),_.petalType!==void 0&&(p.petalType=_.petalType),_.innerColorId!==void 0&&(p.innerColorId=_.innerColorId),_.innerSizeReduction!==void 0&&(p.innerSizeReduction=_.innerSizeReduction),(p.colorId!==void 0||p.petalType!==void 0||p.innerColorId!==void 0||p.innerSizeReduction!==void 0)&&j.petalOverrides.push(p)}},!0)},v=()=>{i(_=>{const N=_.flowers.find(j=>j.id===a.id);if(!N)return;const m=N.layers.find(j=>j.id===r.id);!m||!m.petalOverrides||(m.petalOverrides=m.petalOverrides.filter(j=>j.index!==o),m.petalOverrides.length===0&&(m.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",o+1,h&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:b,onChange:_=>{_===r.colorId?d({colorId:void 0}):d({colorId:_})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:tl.map(_=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{_===r.petalType?d({petalType:void 0}):d({petalType:_})},children:_},_))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:_=>i(N=>{const m=N.flowers.find(g=>g.id===a.id);if(!m)return;const j=m.layers.find(g=>g.id===r.id);if(j)if(_.target.checked){const g=j._doublePetalCache;j.doublePetal=g??{innerSizeReduction:2},delete j._doublePetalCache}else j.doublePetal&&(j._doublePetalCache={...j.doublePetal}),delete j.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const _=r.doublePetal,N=f?.innerSizeReduction??_.innerSizeReduction,m=f?.innerColorId??_.innerColorId??b;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ke,{min:1,max:30,step:1,value:N,onChange:j=>{const g=Ce(j,1,30);g===_.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:g})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:m,size:"sm",onChange:j=>{const g=_.innerColorId??r.colorId;d(j===g?{innerColorId:void 0}:{innerColorId:j})}})]})]})})(),h&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:v,children:""})]})]})}function Jm({project:c,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const o=a,f=b=>{i(y=>{const h=(y.stencils??[]).find(d=>d.id===o.id);h&&Object.assign(h,b)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:b=>f({variant:b.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(b=>s.jsx("option",{value:b,children:t1[b]},b))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:b=>f({pose:b.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(b=>s.jsx("option",{value:b,children:n1[b]},b))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:b=>f({locked:b.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Vm({project:c,applyUpdate:i,selectedLeaf:a,leafGroups:r,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:b}){const y=a,h=v=>{i(_=>{const N=(_.leaves??[]).find(m=>m.id===y.id);N&&v(N)},!0)},d=ii(c,y.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:y.name,onChange:v=>h(_=>{_.name=v.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:tl.map(v=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y.petalType===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(_=>{_.petalType=v}),children:v},v))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:y.colorId,onChange:v=>h(_=>{_.colorId=v})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((y.fabricSquareSize??c.fabricSquareSize)*(y.scale??1)*10)/10,onChange:v=>h(_=>{const N=_.fabricSquareSize??c.fabricSquareSize;_.scale=Ce(Math.round(v/N*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(y.scale??1).toFixed(2),onChange:v=>h(_=>{_.scale=v})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(y.widthScale??1).toFixed(2),onChange:v=>h(_=>{_.widthScale=v})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ke,{value:Number(y.rotation).toFixed(1),onChange:v=>h(_=>{_.rotation=v})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.doublePetal,onChange:v=>h(_=>{if(v.target.checked){const N=_._doublePetalCache;_.doublePetal=N??{innerSizeReduction:2},delete _._doublePetalCache}else _.doublePetal&&(_._doublePetalCache={..._.doublePetal}),delete _.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),y.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:y.doublePetal.innerSizeReduction,onChange:v=>h(_=>{_.doublePetal&&(_.doublePetal.innerSizeReduction=Ce(v,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:y.doublePetal.innerColorId??y.colorId,onChange:v=>h(_=>{_.doublePetal&&(v===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=v)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.visible,onChange:v=>h(_=>{_.visible=v.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.locked,onChange:v=>h(_=>{_.locked=v.target.checked})}),""]})]}),d?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>b(y.id),children:""})]}):r.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:v=>{v.target.value&&f(y.id,v.target.value)},children:[s.jsx("option",{value:"",children:"..."}),r.map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(y.id),children:""})]})]})}function Wm({project:c,applyUpdate:i,leafIds:a,onGroupLeaves:r,onUngroupLeaves:o,onAddLeavesToGroup:f,onMergeLeafGroups:b}){const y=(c.leaves??[]).filter(h=>a.includes(h.id));return y.length===0?null:s.jsxs(ur,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[y.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:"",onChange:h=>i(d=>{for(const v of a){const _=(d.leaves??[]).find(N=>N.id===v);_&&(_.colorId=h)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:tl.map(h=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(d=>{for(const v of a){const _=(d.leaves??[]).find(N=>N.id===v);_&&(_.petalType=h)}},!0),children:h},h))}),(()=>{const h=y.map(m=>ii(c,m.id)),d=y.filter(m=>!ii(c,m.id)).map(m=>m.id),v=[...new Set(h.filter(Boolean).map(m=>m.id))],_=d.length===y.length,N=v.length===1&&h.every(m=>m!=null);return s.jsxs(s.Fragment,{children:[_&&y.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""}),N&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(v[0]),children:""}),v.length===1&&d.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(v[0],d),children:[" (+",d.length,")"]}),v.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>b(v,d),children:[" (",v.length,"",d.length>0?` +${d.length}`:"",")"]})]})})()]})}function Qm({project:c,applyUpdate:i,selectedLeafGroup:a,onUngroupLeaves:r}){const o=a,f=(c.leaves??[]).filter(b=>o.leafIds.includes(b.id));return s.jsxs(ur,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:b=>i(y=>{const h=(y.leafGroups??[]).find(d=>d.id===o.id);h&&(h.name=b.target.value)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ke,{value:Number(o.rotation).toFixed(1),onChange:b=>i(y=>{const h=(y.leafGroups??[]).find(d=>d.id===o.id);h&&(h.rotation=b)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:b=>i(y=>{const h=(y.leafGroups??[]).find(d=>d.id===o.id);h&&(b.target.value?h.linkedFlowerGroupId=b.target.value:delete h.linkedFlowerGroupId)},!0),children:[s.jsx("option",{value:"",children:""}),(c.groups??[]).map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),s.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(b=>s.jsx("div",{children:b.name},b.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>r(o.id),children:""})]})}function Pm(c){const{project:i,selection:a,applyUpdate:r,selectedFlower:o,selectedFlowers:f,selectedLayer:b,selectedPetalIndex:y,selectedPetals:h}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:d=>r(v=>v.title=d.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{value:i.fabricSquareSize,min:5,max:60,onChange:d=>r(v=>v.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{value:i.baseDiameter,min:10,max:100,onChange:d=>r(v=>v.baseDiameter=d),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Vl(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",Vl(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:d=>r(v=>v.notes=d.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(d=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&o&&s.jsx(Hm,{project:i,applyUpdate:r,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&s.jsx(Ym,{project:i,applyUpdate:r,selectedFlowers:f,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&f.length>0&&s.jsx(Um,{project:i,applyUpdate:r,selectedFlowers:f,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers}),a.kind==="layer"&&o&&b&&s.jsx(Km,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:b}),a.kind==="petals"&&o&&h.length>0&&s.jsx(Zm,{project:i,applyUpdate:r,selectedFlower:o,selectedPetals:h}),a.kind==="petal"&&o&&b&&y!==null&&s.jsx(Xm,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:b,selectedPetalIndex:y}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(Jm,{project:i,applyUpdate:r,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(Vm,{project:i,applyUpdate:r,selectedLeaf:c.selectedLeaf,leafGroups:c.leafGroups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Wm,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="leafGroup"&&c.selectedLeafGroup&&s.jsx(Qm,{project:i,applyUpdate:r,selectedLeafGroup:c.selectedLeafGroup,onUngroupLeaves:c.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Fm(c){const i={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Vl(c.baseDiameter,c.fabricSquareSize,i).diameter:ar(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function $m(c){const i={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Th(c.flowerDiameter,c.baseDiameter,i):Lh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function eb({palette:c,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:o}){const f=h=>{a(d=>{const v={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(v.baseDiameter=30,v.fabricSquareSize=20,v.layerCount=4,v.petalCount=12):(v.fabricSquareSize=20,v.layerCount=1,v.petalCount=6)),v.flowerDiameter=Fm(v),v})},b=h=>{a(d=>{const v={...d,flowerDiameter:h};return v.fabricSquareSize=$m(v),v})},y=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&y.push("");const h=Eh(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>h&&y.push(`${h}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Pd.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:h}),children:h},h))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:h=>f({fabricSquareSize:h})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:h=>f({layerCount:h})})]})]}),i.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:h=>f({baseDiameter:h})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:b})]})]}),y.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:y.map((h,d)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||c[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:tl.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),i.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:h=>f({sizeStepMm:h})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function tb(c){return Math.round(c*Math.SQRT2/2*10)/10}function nb(c){return Math.round(c*Math.SQRT2*10)/10}function lb({palette:c,addLeafOpts:i,setAddLeafOpts:a,onConfirm:r,onCancel:o}){const f=y=>{a(h=>({...h,fabricSquareSize:y,leafSizeMm:tb(y)}))},b=y=>{a(h=>({...h,leafSizeMm:y,fabricSquareSize:nb(y)}))};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:y=>y.stopPropagation(),"data-testid":"dialog-add-leaf",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:f})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:i.leafSizeMm,onChange:b})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(y=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||c[0]?.id)===y.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:y.hex},title:y.name,"aria-label":`: ${y.name}`,onClick:()=>a(h=>({...h,colorId:y.id}))},y.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:tl.map(y=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:y})),children:y},y))})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-leaf",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}const W0=Bn;function Y0(){const c=["sfrcEwG","yM9KEq","BvvjvNm","v1rkrM0","shDRCfu","ywrKrxzLBNrmAxn0zw5LCG","ChjLDMvUDerLzMf1Bhq","DxnLCLnLBgvJDa","CLj2rxG","y2XPzw50wa","Aw5pt1O","D2LKDgG","nenUs1ntsq","mZy1mte1nMvHs2L0rG","ELDYr2m","rwfqsNq","C3jKq1G","kcGOlISPkYKRksSK","CgfYC2u","y3jIBei","EMLbz3K","tKf5rMO","Dg9tDhjPBMC","BM9Uzq","C1PNCvm","BwLU","sfHoBwK","CgvIrwS","BgvMDa","Bwf4","Cg9PBNrLCNvW","C3r5Bgu","sw9dBNC","C2vHCMnO","C3rHCNrxAwr0Ahm","y3vYCMvUDa","DgXUvNe","mtbrqKDQCvK","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","sfrZyvC","nZu3odDIDeDyr3q","mtKXmJC2ntvzCvLez3i","zhn3EKK","y29UC3rYDwn0B3i","BKPgC2S","C2LKzq","CMvTB3zLrxzLBNrmAxn0zw5LCG","mtGXnJq5n2njAg1mDG","mJG3mJG1zgPmExDn","DM5PuwW","DgzcAfy","qNDmsMe","nJqYmJi0ogjLvhjOta","txbbs3C","Bwf0y2HLCW","y2HHBMDL","Dw5KzwzPBMvK","CMLNAhq","mJCZodqWn0TyA25Xza","EfjUrfG","z2j4Dxm","t1nlAwi","y0HnCg4","thfiC2e","C2v0sxrLBq","sevmsLy","DePLDg4","rMrvrgi","Bwf0y2HnzwrPyq","rK1Ls0i","vMTJAgO","y3vYC29Y"];return Y0=function(){return c},Y0()}(function(c,i){const a=Bn,r=c();for(;;)try{if(-parseInt(a(198))/1*(parseInt(a(195))/2)+-parseInt(a(205))/3*(parseInt(a(242))/4)+-parseInt(a(206))/5+parseInt(a(243))/6+-parseInt(a(216))/7+-parseInt(a(210))/8+parseInt(a(199))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Y0,497948);const ab=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Ls=ab(void 0,function(){const c=Bn;return Ls[c(252)]().search("(((.+)+)+)+$").toString()[c(201)](Ls)[c(191)](c(247))});function Bn(c,i){c=c-191;const a=Y0();let r=a[c];if(Bn.vQbYjS===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Bn.mbDgBj=o,Bn.nDbzcF={},Bn.vQbYjS=!0}const f=a[0],b=c+f,y=Bn.nDbzcF[b];if(y)r=y;else{const h=function(d){this.RDAXIP=d,this.ULlEPB=[1,0,0],this.EgRJKO=function(){return"newState"},this.yEvRTh="\\w+ *\\(\\) *{\\w+ *",this.uKAqaf=`['|"].+['|"];? *}`};h.prototype.JVZliO=function(){const d=new RegExp(this.yEvRTh+this.uKAqaf),v=d.test(this.EgRJKO.toString())?--this.ULlEPB[1]:--this.ULlEPB[0];return this.CEAYPC(v)},h.prototype.CEAYPC=function(d){return~d?this.fGMrRn(this.RDAXIP):d},h.prototype.fGMrRn=function(d){for(let v=0,_=this.ULlEPB.length;v<_;v++)this.ULlEPB.push(Math.round(Math.random())),_=this.ULlEPB.length;return d(this.ULlEPB[0])},new h(Bn).JVZliO(),r=Bn.mbDgBj(r),Bn.nDbzcF[b]=r}return r}Ls();const a1=W0(196),i1={left:25,right:25},Ts=15,Es=15,rr=30;function ib(){const c=W0,i={rRvEx:"number",WTJFm:function(a,r){return a>=r},LqHsa:function(a,r){return a>=r},tfBhV:function(a,r){return a-r}};try{const a=localStorage.getItem(a1);if(a){const r=JSON.parse(a);if(typeof r[c(258)]=="number"&&typeof r[c(215)]===i[c(238)]&&r.left>=Ts&&i[c(233)](r.right,Es)&&i[c(221)](i[c(208)](100-r.left,r.right),rr))return r}}catch{}return i1}function Xd(c,i){const a=W0,r={nJFsk:function(y,h){return y-h},Vkchj:function(y,h){return y<h},vniQl:function(y,h){return y/h},HTsaW:function(y,h){return y/h},hEMIk:function(y,h){return y*h}};let o=Math.max(Ts,c),f=Math[a(259)](Es,i);const b=r.nJFsk(r[a(202)](100,o),f);if(r[a(228)](b,rr)){const y=rr-b;o-=r[a(207)](y,2),f-=r[a(197)](y,2),o=Math[a(259)](Ts,o),f=Math[a(259)](Es,f)}return{left:Math.round(o*100)/100,right:r[a(207)](Math.round(r.hEMIk(f,100)),100)}}function rb(){const c=W0,i={FMeKB:"(min-width: 768px)",crblB:"pointermove",HwkpU:function(j,g){return j(g)},NWjrO:"number",RqnvO:"left",FWjSn:function(j,g,p){return j(g,p)},XIYiB:function(j,g){return j-g},tJetn:function(j,g){return j-g},EaPJt:c(220),pkSGR:"col-resize",inOOZ:c(253),zWrGc:"pointerup",HXNmi:function(j,g){return j(g)},tlnVq:function(j,g,p){return j(g,p)},LtdIG:function(j,g,p){return j(g,p)}},[a,r]=i[c(256)]($.useState,ib),o=i[c(234)]($.useRef,null),f=i.HXNmi($.useRef,null),[b,y]=$.useState(!1),[h,d]=$.useState(()=>typeof window!==c(214)?window[c(226)]("(min-width: 768px)")[c(212)]:!0);i[c(194)]($.useEffect,()=>{const j=c,g=window.matchMedia(i[j(227)]),p=E=>d(E.matches);return g[j(235)](j(213),p),()=>g.removeEventListener(j(213),p)},[]),i.tlnVq($.useEffect,()=>{const j=c;localStorage[j(222)](a1,JSON.stringify(a))},[a]);const v=i.HXNmi($.useRef,a);$.useEffect(()=>{const j=c;v[j(193)]=a},[a]);const _=$.useCallback((j,g)=>{const p=c,E={HyCAv:function(I,K){return I===K},NAyFj:i.NWjrO,xRnDX:function(I,K){return I-K},cIpfn:function(I,K){return I*K},VhBFu:i.RqnvO,kxkfc:function(I,K){return I!==K},rJnHo:p(262),MpAKw:function(I,K,R){return i.FWjSn(I,K,R)},HELJV:function(I,K){return I-K},OSKib:function(I,K){return i.XIYiB(I,K)},HTByh:function(I,K){return i.HwkpU(I,K)},ziAgy:function(I,K){return i[p(224)](I,K)},XRIkj:function(I,K,R){return i.FWjSn(I,K,R)},btQhz:i[p(245)]};g[p(236)]();const k=o[p(193)];if(!k)return;f.current={side:j,startX:g[p(239)],startWidths:{...v[p(193)]}},y(!0),document.body.style[p(229)]=i.pkSGR,document[p(231)].style[p(237)]=i[p(240)];const G=I=>{const K=p;E[K(251)];const R=f.current;if(!R)return;const V=k.getBoundingClientRect().width;if(V===0)return;const P=E[K(217)](I[K(239)],R.startX),Q=E.cIpfn(P/V,100);if(R[K(203)]===E.VhBFu)if(E.kxkfc(K(200),E.rJnHo)){const W=R.startWidths[K(258)]+Q,w=100-R[K(192)].right-rr;r(E[K(211)](Xd,Math.min(W,w),R[K(192)].right))}else _0x1ef4db(_0x517aaf);else if(E.kxkfc(K(246),K(218))){const W=E[K(223)](R.startWidths[K(215)],Q),w=E[K(219)](100,R.startWidths.left)-rr;E[K(230)](r,Xd(R.startWidths.left,Math[K(255)](W,w)))}else{const W=_0x24314c[K(248)](_0x2c4230);if(mFmlSy.JeiXx(typeof W[K(258)],"number")&&mFmlSy.lwNyM(typeof W.right,mFmlSy[K(232)])&&W[K(258)]>=_0x1fd0e5&&W[K(215)]>=_0x5f538a&&mFmlSy[K(225)](100,W.left)-W.right>=_0x4a61f1)return W}},H=()=>{const I=p;if(I(220)===E.btQhz)f[I(193)]=null,y(!1),document[I(231)][I(261)][I(229)]="",document.body.style[I(237)]="",window[I(204)]("pointermove",G),window[I(204)](I(260),H);else{const K=_0x989cdd.current;if(!K)return;const R=_0xa603a5.getBoundingClientRect()[I(241)];if(R===0)return;const V=mProTK.sZgqS(_0x16e9bc.clientX,K.startX),P=V/R*100;if(mProTK[I(209)](K.side,"left")){const Q=mProTK.VElzh(K.startWidths[I(258)],P),W=100-K.startWidths.right-_0x1fb280;mProTK[I(257)](_0x24cf1a,mProTK.zcUYe(_0x5cf921,_0x28b021.min(Q,W),K[I(192)].right))}else{const Q=mProTK[I(254)](K.startWidths.right,P),W=mProTK.iyPFp(mProTK.lSgca(100,K.startWidths[I(258)]),_0x42da74);_0x40d91b(mProTK.QhcIl(_0x173155,K[I(192)][I(258)],_0x2c8d28[I(255)](Q,W)))}}};window.addEventListener("pointermove",G),window.addEventListener(i[p(244)],H),N[p(193)]=()=>{const I=p;window.removeEventListener(i[I(249)],G),window[I(204)](I(260),H),f[I(193)]=null,i.HwkpU(y,!1),document.body[I(261)].cursor="",document.body.style[I(237)]=""}},[]),N=i[c(256)]($.useRef,null);$.useEffect(()=>()=>{N[Bn(193)]?.()},[]);const m=i.LtdIG($.useCallback,()=>{r(i1)},[]);return{widths:a,containerRef:o,onDividerPointerDown:_,onDividerDoubleClick:m,isDragging:b,isDesktop:h}}function Jd({side:c,onPointerDown:i,onDoubleClick:a,isDragging:r}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>i(c,o),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}function U0(){const c=["mZvwvxH2vwK","EMDyr2G","ndy0ndm2m0rAvw1isG","wLn6sxq","Cgv0ywW","vLrxA1e","Bwf0y2G","BufzDxe","rg5Iq0O","BgvHDMvZ","zMXVD2vYswq","rMHRwNy","C29Tzq","ruXZzxC","C2zWuMW","BNrzrwi","AK9HqNq","BMfTzq","wLvwA1i","zfnVCKS","ufrWA1G","Cgv0ywXZ","rvLTCxe","BffVB0y","z1zbB1i","C29YDa","B3jKzxi","Bgf5zxjjza","ChvZAa","BwDKtM4","BgvHzKLKCW","mty4BwvsA2HR","uwLywhy","wfbPtKC","Aw5KzxG","vuLhwum","zMfICMLJu3f1yxjLu2L6zq","BgvHzKLK","CgTmv0O","A2LUza","s2H0qve","wKfhr1O","mJa4ndyYmMLHqLHNAq","5lI444gK44g+44g/","Eg9mEg8","t2zHr00","BKXZDhK","mtuWnZaZnKHyqxnWtW","sMziugm","A1bOzvG","zMXVD2vY","y2riBwu","C2nHBgu","EKvUs1e","Bgf5zxjZ","sMn1q3q","zMXVD2vYrgLHBwv0zxi","EhrrzhG","y29UC3rYDwn0B3i","DgnjDKe","u0XQsNq","nta2mty5ELP3ChLr","Bgf5zxi","EgnNDMy","z3jVDxbZ","Dw5PzM9YBq","ChjVAMvJDa","t3v0zxiR","mNDuC25QtG","AfbstLi","uuDmAhC","zgLHBwv0zxi","wM9HCfC","DNvXCvi","BwfW","rfnTq3e","vNfQDuu","BMXmCLK","Cxncu2K","wwDTs3a","BvngrhC","Auj6D2y","rKLntLi","kcGOlISPkYKRksSK","Dg9tDhjPBMC","Cgv0ywXdB3vUDa","EffOseu","rxb5wvm","uKv0rgC","uhrdvuy","C3rLBMnPBa","uvvqvg4","uxjqDxC","Bwf4","mtiWA3viwgnx","zLDcveu","wgHwteC","CfbjvKC","rff1t2O","zMXVD2vYCW","CgXHy2vTzw50tw9Kzq","qNrLy3e","BKXLDMe","yxPhthK","Ahvluve","z3jVDxbjza","zM9YrwfJAa","CxnVwg0","ENviCKW","ntC3ntzYrM9UBMC","whHdAva","wur3teq","CMfKAxvZ","uNbMww8","C3rLBMnPBhm","s3H3swS","y29Z","zKLwr28","DwzNs0K","vffdshq","A1Dys2i","wffrCgC","C2vHCMnO","t3fXvMS","yMfZzurPyw1LDgvY","se5TDNe","q1zTrMu","qNvzDvG","AvHOrvC","BgvHzKDYB3vW","C3rLBMnPBeLK","B2zMC2v0qw5NBgu","zMXVD2vYswrZ","yuHKD1u","BgvHzKDYB3vWCW","BfPNwvm","Bgf5","Aw5JBhvKzxm","nJK4mtG2nuXRCKzzsa","B1Lpzgu","BgvUz3rO","txLKsMK","yKPpsfa","zMLSDgvY","qwTZtxu","u2PfCNu","zu9Rsg4","mta1DgntzKPx","rfjHr1O","zMLUza","mtyWodu2otbyEM1Aufm"];return U0=function(){return c},U0()}(function(c,i){const a=Bt,r=c();for(;;)try{if(parseInt(a(544))/1+parseInt(a(565))/2*(parseInt(a(499))/3)+-parseInt(a(455))/4*(parseInt(a(493))/5)+parseInt(a(539))/6*(parseInt(a(497))/7)+parseInt(a(528))/8*(parseInt(a(558))/9)+parseInt(a(496))/10+-parseInt(a(484))/11*(parseInt(a(440))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(U0,931603);const cb=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Bs=cb(void 0,function(){const c=Bt,i={YDwLD:c(429)};return Bs.toString()[c(468)](i.YDwLD).toString()[c(555)](Bs).search(i[c(457)])});Bs();function Bt(c,i){c=c-426;const a=U0();let r=a[c];if(Bt.InNLRh===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Bt.sMweRB=o,Bt.DBXbuh={},Bt.InNLRh=!0}const f=a[0],b=c+f,y=Bt.DBXbuh[b];if(y)r=y;else{const h=function(d){this.GRoUWT=d,this.GkvCrY=[1,0,0],this.bTBOso=function(){return"newState"},this.iusizk="\\w+ *\\(\\) *{\\w+ *",this.rJrvVa=`['|"].+['|"];? *}`};h.prototype.oYIkRW=function(){const d=new RegExp(this.iusizk+this.rJrvVa),v=d.test(this.bTBOso.toString())?--this.GkvCrY[1]:--this.GkvCrY[0];return this.hPEWhO(v)},h.prototype.hPEWhO=function(d){return~d?this.qdygLw(this.GRoUWT):d},h.prototype.qdygLw=function(d){for(let v=0,_=this.GkvCrY.length;v<_;v++)this.GkvCrY.push(Math.round(Math.random())),_=this.GkvCrY.length;return d(this.GkvCrY[0])},new h(Bt).oYIkRW(),r=Bt.sMweRB(r),Bt.DBXbuh[b]=r}return r}function ub({project:c,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:o,setExpandedGroups:f,zoom:b,pan:y,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:v,ungroupLeaves:_}){const N=Bt,m={dWecr:N(491),qsBSi:function(w,C){return w/C},zEnKQ:function(w,C){return w+C},xQhHE:function(w,C){return w-C},INtzm:function(w,C){return w*C},DnbCJ:function(w,C){return w/C},XPiNG:function(w,C){return w*C},XxCiP:function(w,C){return w/C},EpyYS:function(w,C,L){return w(C,L)},KIwOj:"QUPTn",RpfYo:"project",ZSzIt:function(w,C){return w!==C},GJLiq:N(448),ufgKI:function(w,C){return w<=C},QiXXv:function(w,C){return w(C)},PtCUF:function(w,C,L,M){return w(C,L,M)},zuHrL:function(w,C){return w===C},cruJL:function(w,C,L,M,z){return w(C,L,M,z)},ELsew:function(w,C){return w<C},QGLhw:function(w,C,L,M){return w(C,L,M)},MydJi:function(w,C){return w<C},RuDbh:function(w,C){return w>=C},USvwH:function(w,C){return w>C},rawnx:function(w,C){return w-C},lQooF:function(w,C){return w(C)},DSmCq:N(564),JcuCt:N(540),pPIVG:function(w,C){return w(C)},azGLy:function(w,C){return w(C)},QrPuw:function(w,C,L){return w(C,L)},euTpb:"layer",qsoXm:function(w,C){return w(C)},iBzwf:N(501),kPheX:"aPLhB",WvHIK:function(w,C){return w===C},VqjuE:N(512),cIzkz:function(w,C){return w>C},lZgYS:function(w,C,L){return w(C,L)},OoABO:function(w,C,L,M){return w(C,L,M)},ZAGGZ:function(w,C){return w===C},zgXGh:function(w,C,L,M,z){return w(C,L,M,z)},qLUUA:N(428),rOHbD:"snvNS",UIGYC:"yMzgv",iXhEW:"leaf",MciAk:function(w,C){return w===C},CVmFe:"flowers",aHdwU:"group",mAYuq:function(w,C,L){return w(C,L)},ZUVkR:"petals",SLjJt:function(w,C){return w(C)},YWQnA:function(w,C){return w===C},XhVLG:N(547),arMYe:"sXHzp",KhtAQ:"LQEGc",rvddI:"grp",xcgvf:function(w,C,L){return w(C,L)},bLETz:"DthTy",hhrSW:function(w,C){return w(C)},nLsty:"FaXpG",fWBTE:function(w,C){return w(C)},dSorK:function(w,C){return w/C},KGqYf:"back",OqqVk:"side",tQtVn:function(w,C){return w*C},LkDXe:function(w,C){return w(C)},JfHPc:N(436),VTWkQ:function(w,C){return w+C},HNmvq:function(w,C){return w*C},sfpRl:function(w,C){return w-C},DRaGZ:function(w,C){return w*C},KqISc:N(429),oJDTP:function(w,C){return w===C},AksMu:"bTvAt",eOkHn:function(w,C){return w===C},oBMyi:function(w,C){return w(C)},vPGFc:"pzLge",wuRCc:function(w,C){return w===C},RJkOg:"mltBq",kWXKb:function(w,C){return w===C},aOHmL:N(488),oYOde:N(517),FhkZv:N(535),UJgrR:function(w,C){return w===C},huKQQ:function(w,C){return w===C},cxPIG:function(w,C){return w(C)},rGaeK:function(w,C){return w===C},bRUYy:N(541),gVAoR:N(574),tmJjB:function(w,C){return w(C)},TQCHt:function(w,C,L){return w(C,L)}},j=w=>{const C=N,L=[...w[C(551)]][C(522)]((O,D)=>O.order-D.order),M=L[0];if(!M)return 28;const z=w[C(533)]??c[C(533)],{length:T}=Yt(z),q=T*(M.scale??1);let X;if(w.placementMode==="")X=q/3;else if(C(554)===m.dWecr){if(!_0x28a84[C(561)])return;_0x5bf30a[C(561)]=_0x3428c0[C(561)].filter(O=>O.id!==_0xb233b1)}else{const D=m.qsBSi(70*Math.PI,180),B=m[C(550)](L[C(486)],1),Y=m.xQhHE(B,1),Z=B>1?m.INtzm(m.DnbCJ(Y,B-1),D):0;X=m[C(530)](q*m.XxCiP(30,100),Math[C(462)](Z))}return Math.round(m.zEnKQ(M.radius??28,X)*10)/10},g=w=>{const C=N;m.EpyYS(i,L=>{const M=Bt,z={uIPtE:function(T,q,X){return m[Bt(433)](T,q,X)}};if(M(437)===m.KIwOj){if(L.flowers=(L.flowers||[]).filter(T=>T.id!==w),L[M(561)]){for(const T of L.groups)T[M(478)]=T[M(478)][M(489)](q=>q!==w);L.groups=L.groups[M(489)](T=>T[M(478)].length>0)}}else{const T=_0x1eb60f[M(514)].match(/^ (\d+)$/);return T?z.uIPtE(_0x3cb386,T[1],10):0}},!0),r({kind:m[C(459)]}),o(L=>{const M={...L||{}};return delete M[w],M})},p=(w,C)=>{const L=N,M={qnfad:"flower"};if(m.ZSzIt(m.GJLiq,L(448)))_0x22c8b9({kind:M.qnfad,flowerId:_0x1a825b[0]});else{const z=c[L(445)][L(495)](T=>T.id===w);if(z&&m[L(464)]((z.layers||[]).length,1)){g(w);return}m[L(433)](i,T=>{const q=L,X=(T.flowers||[])[q(495)](O=>O.id===w);X&&(X.layers=(X.layers||[])[q(489)](O=>O.id!==C),X[q(551)].slice().sort((O,D)=>O[q(523)]-D.order).forEach((O,D)=>O.order=D+1))},!0),m[L(529)](r,{kind:L(547),flowerId:w})}},E=w=>{const C=N,L={aXKbi:function(Z,le){return m.QiXXv(Z,le)},GTJEK:m.RpfYo},M=c[C(445)][C(495)](Z=>Z.id===w);if(!M)return;const z=[...M[C(551)]].sort((Z,le)=>Z[C(523)]-le.order),T=z[0],q=m[C(567)](Ce,T?.[C(431)]??6,5,24),X=z[C(571)](Z=>Z.scale??1),O=m.MydJi(X[C(486)],2)||X.every(Z=>Math.abs(Z-X[0])<.001);let D=T?.scale??1;if(!O&&m.RuDbh(z.length,2)){const Z=z[m.xQhHE(z.length,1)],le=m[C(432)](Z[C(523)]??1,T.order??1);if(m.USvwH(le,0)){const ce=m[C(456)](m.rawnx(T.scale??1,Z[C(549)]??1),le);D=m.PtCUF(Ce,m[C(550)](T.scale??1,ce),.3,3)}}const B=m.lQooF(j,M),Y={id:Ht(C(482)),name:m[C(572)],order:1,petalType:T?.petalType??m[C(552)],petalCount:q,radius:B,scale:D,widthScale:m[C(520)](ri,q),offsetAngle:T?.offsetAngle??0,colorId:T?.colorId??c.palette?.[0]?.id??"col_green",visible:!0,locked:!1};T&&(m.zuHrL(C(473),"gVuuV")?L.aXKbi(_0x94cc47,{kind:L.GTJEK}):Y[C(477)]=el(T[C(431)],T.offsetAngle??0,q)),m.EpyYS(i,Z=>{const le=C,ce=Z.flowers[le(495)](ze=>ze.id===w);if(!ce)return;ce.layers[le(452)](ze=>ze.order+=1),ce[le(551)].unshift(Y);const fe=Math.round(m[le(435)](tr,Y[le(458)],Y[le(549)],ce.fabricSquareSize??Z.fabricSquareSize)),oe=ce[le(533)]??Z.fabricSquareSize,ge=m.zuHrL(ce[le(446)],"")?m.cruJL(ar,oe,ce[le(551)].length,le(562),0):Vl(ce.baseDiameter??Z[le(470)],oe,{layerCount:ce.layers.length})[le(568)];ce[le(553)]=Math.max(ce[le(553)]||ge,fe);const we=[...ce.layers].sort((ze,We)=>ze.order-We.order),he=we.reverse();for(let ze=1;m[le(510)](ze,he[le(486)]);ze++){const We=he[ze-1],tt=he[ze];tt.offsetAngle=el(We.petalCount,We.offsetAngle,tt[le(431)])}},!0),m.lQooF(r,{kind:"layer",flowerId:w,layerId:Y.id}),o(Z=>({...Z,[w]:!0}))},k=w=>{const C=N,L={YgmKp:function(q,X,O,D){return q(X,O,D)},NTgPm:function(q,X){return m[Bt(487)](q,X)},XQQpg:function(q,X){return q-X}},M=c[C(445)].find(q=>q.id===w);if(!M||!M[C(551)]||m[C(454)](M[C(551)].length,0))return;if(m.ufgKI(M[C(551)][C(486)],1)){m[C(449)](g,w);return}const z=[...M.layers][C(522)]((q,X)=>q[C(523)]-X[C(523)]),T=z[0];T&&(m.QrPuw(i,q=>{const X=C,O=q.flowers.find(Y=>Y.id===w);if(!O)return;O.layers=O.layers[X(489)](Y=>Y.id!==T.id),O[X(551)].slice()[X(522)]((Y,Z)=>Y[X(523)]-Z.order)[X(452)]((Y,Z)=>Y.order=Z+1);const D=[...O[X(551)]].sort((Y,Z)=>Y[X(523)]-Z.order),B=O.fabricSquareSize??q[X(533)];if(D.length>0){gs(D,B);for(const le of D){const ce=O[X(551)].find(fe=>fe.id===le.id);ce&&(ce.radius=le[X(458)])}const Y=D[0];O[X(553)]=Math.round(L[X(576)](tr,Y[X(458)],Y.scale??1,B));const Z=[...D].reverse();for(let le=1;L.NTgPm(le,Z[X(486)]);le++){const ce=Z[L[X(467)](le,1)],fe=Z[le];fe.offsetAngle=el(ce[X(431)],ce[X(477)],fe[X(431)])}}},!0),a[C(536)]===m.euTpb&&m[C(454)](a[C(524)],T.id)?m[C(453)](r,{kind:C(547),flowerId:w}):a[C(536)]===m.iBzwf&&m[C(454)](a[C(524)],T.id)&&(m[C(454)]("FwyJs",m[C(546)])?m[C(443)](_0x407c2e,{kind:"petals",flowerId:_0x2fe36d,petals:[{layerId:_0x5584a3,index:_0x571995}]}):r({kind:"flower",flowerId:w})))},G=()=>{const w=N,C={mSFDw:w(501),fIVGo:function(L,M){return L!==M},EkcAs:m.qLUUA,vuqqR:m.rOHbD,hPRNR:"group"};if(m[w(532)]!=="WZJGB"){if(a[w(536)]===m.RpfYo)return;if(a[w(536)]===m[w(474)]){v(a[w(534)]);return}if(m.MciAk(a[w(536)],w(475))){m[w(520)](_,a.leafGroupId);return}if(a.kind===w(506)){const L=a.leafIds;i(M=>{const z=w,T={REtDg:C[z(426)]};if(M[z(506)]=(M[z(506)]??[]).filter(q=>!L.includes(q.id)),M.leafGroups)if(C[z(463)](C.EkcAs,C[z(570)])){for(const q of M.leafGroups)q[z(527)]=q.leafIds.filter(X=>!L[z(483)](X));M.leafGroups=M[z(480)][z(489)](q=>q[z(527)].length>0)}else _0x33e443({kind:T[z(434)],flowerId:_0x136c0c,layerId:_0x2b1c34[0][z(524)],index:_0xa66a69[0][z(531)]})},!0),r({kind:"project"});return}if(m.WvHIK(a.kind,m[w(472)])){const L=a.flowerIds;m[w(433)](i,M=>{const z=w;if(m.WvHIK("QCxLY",m[z(573)]))_0x13af8c(T=>{const q=z,X=(T[q(561)]??[])[q(495)](O=>O.id===_0x284bf7);if(X)for(const O of _0xb2a6a)X[q(478)].includes(O)||X[q(478)][q(525)](O)},!0),_0x4f08a2({kind:C[z(566)],groupId:_0x53533f});else if(M.flowers=M.flowers[z(489)](T=>!L.includes(T.id)),M.groups){for(const T of M[z(561)])T[z(478)]=T.flowerIds[z(489)](q=>!L.includes(q));M.groups=M.groups.filter(T=>T[z(478)][z(486)]>0)}},!0),m.pPIVG(r,{kind:"project"});return}if(m.ZAGGZ(a[w(536)],m[w(479)])){i(L=>{const M=w;L[M(561)]&&(L[M(561)]=L.groups.filter(z=>z.id!==a[M(451)]))},!0),r({kind:m.RpfYo});return}if(a.kind===w(436)){m.mAYuq(i,L=>{L.stencils=(L.stencils??[]).filter(M=>M.id!==a.stencilId)},!0),m.lQooF(r,{kind:w(563)});return}if(m.ZAGGZ(a.kind,m[w(515)])){r({kind:w(547),flowerId:a[w(507)]});return}if(a.kind==="flower"){m[w(433)](i,L=>{const M=w;if(L[M(445)]=L[M(445)][M(489)](z=>z.id!==a.flowerId),L.groups){for(const z of L.groups)z[M(478)]=z.flowerIds[M(489)](T=>T!==a[M(507)]);L[M(561)]=L.groups.filter(z=>z.flowerIds.length>0)}},!0),m[w(557)](r,{kind:"project"});return}if(a.kind===w(559)||m.YWQnA(a.kind,m[w(427)])){const L=c.flowers[w(495)](z=>z.id===a[w(507)]),M=L?m.zuHrL([...L[w(551)]].sort((z,T)=>z.order-T[w(523)])[0]?.id,a[w(524)]):!1;i(z=>{const T=w,q=z[T(445)].find(X=>X.id===a.flowerId);if(q&&(q[T(551)]=q[T(551)][T(489)](X=>X.id!==a.layerId),q[T(551)].slice()[T(522)]((X,O)=>X.order-O.order)[T(452)]((X,O)=>X[T(523)]=O+1),m.cIzkz(q.layers[T(486)],0))){const X=[...q[T(551)]][T(522)]((B,Y)=>B[T(523)]-Y[T(523)]),O=q.fabricSquareSize??z[T(533)];m[T(481)](gs,X,O);for(const B of X){const Y=q[T(551)][T(495)](Z=>Z.id===B.id);Y&&(Y.radius=B[T(458)])}if(M){const B=X[0];q.flowerDiameter=Math.round(m.OoABO(tr,B.radius,B.scale??1,O))}else{const B=m.ZAGGZ(q[T(446)],"")?m[T(498)](ar,O,q.layers.length,"uniform",0):m.PtCUF(Vl,q[T(470)]??z[T(470)],O,{layerCount:q.layers.length}).diameter;V0(X,O,q[T(553)]||B);for(const Y of X){const Z=q.layers.find(le=>le.id===Y.id);Z&&(Z[T(458)]=Y[T(458)],Z.scale=Y[T(549)])}}const D=[...X].reverse();for(let B=1;B<D.length;B++){const Y=D[B-1],Z=D[B];Z.offsetAngle=el(Y.petalCount,Y[T(477)],Z[T(431)])}}},!0),r({kind:m.XhVLG,flowerId:a[w(507)]})}}else _0x48418c=_0x2da3e1/3},H=$.useCallback(w=>{const C=N,L={mgdNn:function(z,T){return m[Bt(500)](z,T)},uNKYb:m.arMYe,OfaGM:m[C(537)],DBSHF:function(z,T,q){return m.lZgYS(z,T,q)},tcIvA:function(z,T){return m.zEnKQ(z,T)}},M=Ht(m.rvddI);m[C(560)](i,z=>{const T=C;z.groups||(z.groups=[]);const q=z.groups.map(O=>{const D=Bt;if(L[D(526)](L.uNKYb,L[D(542)])){const B=O.name[D(503)](/^ (\d+)$/);return B?L.DBSHF(parseInt,B[1],10):0}else _0x281e9a({kind:"flower",flowerId:_0x2442cd})}),X=q[T(486)]>0?L[T(556)](Math[T(439)](...q),1):1;z.groups[T(525)]({id:M,name:" "+X,flowerIds:[...w]})},!0),m.QiXXv(r,{kind:m.aHdwU,groupId:M}),f(z=>({...z,[M]:!0}))},[i,r,f]),I=m[N(504)]($.useCallback,w=>{const C=N;m[C(438)](i,L=>{L[C(561)]&&(L.groups=L.groups.filter(z=>z.id!==w))},!0),r({kind:m.RpfYo})},[i,r]),K=$.useCallback((w,C)=>{const L=N;if(m.bLETz==="eltdi"){const M=_0x1993df[hikdyA[L(569)](_0x2cf531,1)],z=_0x581621[_0x125935];z.offsetAngle=_0x3dd103(M.petalCount,M.offsetAngle,z.petalCount)}else m[L(433)](i,M=>{const z=L;if(m.ZSzIt("ezuKj","lxlRM")){const T=(M[z(561)]??[])[z(495)](q=>q.id===w);if(!T)return;for(const q of C)T.flowerIds[z(483)](q)||T[z(478)].push(q)}else{hikdyA.NmiHD(_0x34bcf1,_0x45908a.leafId);return}},!0),m.QiXXv(r,{kind:"group",groupId:w})},[i,r]),R=m[N(465)]($.useCallback,(w,C)=>{const L=N,M=w[0],z=w.slice(1);i(T=>{const q=Bt,X={KxwIk:function(D,B){return m.hhrSW(D,B)}};if(!T[q(561)])return;const O=T.groups.find(D=>D.id===M);if(O){for(const D of z){const B=T[q(561)][q(495)](Y=>Y.id===D);if(B)for(const Y of B[q(478)])O[q(478)][q(483)](Y)||O[q(478)].push(Y)}for(const D of C)m[q(543)]==="FaXpG"?O[q(478)][q(483)](D)||O[q(478)].push(D):X[q(461)](_0x4bb0c8,{kind:q(518),flowerId:_0x35dcf7,petals:_0x2ad1f5});T[q(561)]=T.groups[q(489)](D=>!z.includes(D.id))}},!0),m[L(441)](r,{kind:m[L(479)],groupId:M}),f(T=>({...T,[M]:!0}))},[i,r,f]),V=(w,C)=>{const L=N,M=h.w/h.h,z=520/b,T=z*M,q=m.dSorK(-y.x,b),X=-y.y/b,O=m[L(550)](q,m[L(505)](T,2)),D=X+m[L(575)](z,2),B=C===m.KGqYf?m.KGqYf:m[L(469)],Y=m.tQtVn(e1[w][B].height,ln),Z=Ce(O,0,d),le=Ce(m[L(432)](D,Y/2),0,d),ce={id:m.LkDXe(Ht,"stl"),variant:w,pose:C,position:{x:Z,y:le}};m[L(433)](i,fe=>{const oe=L;fe.stencils||(fe[oe(460)]=[]),fe[oe(460)][oe(525)](ce)},!0),r({kind:"stencil",stencilId:ce.id})},P=w=>{const C=N;i(L=>{const M=Bt;L[M(460)]=(L.stencils??[]).filter(z=>z.id!==w)},!0),a[C(536)]===m[C(545)]&&m.MciAk(a[C(476)],w)&&m.pPIVG(r,{kind:m.RpfYo})},Q=$.useCallback(w=>{const C=N;if(m.KqISc,m.oJDTP(a.kind,m[C(472)])){const L=a.flowerIds;if(L[C(483)](w))if(C(513)===m[C(490)]){if(_0x3d3cab[C(445)]=_0x1d9579[C(445)][C(489)](M=>M.id!==_0x298c32[C(507)]),_0x26cf01[C(561)]){for(const M of _0x10e5a2[C(561)])M.flowerIds=M[C(478)].filter(z=>z!==_0x4f4bde.flowerId);_0x3b85a5[C(561)]=_0x431abb.groups.filter(M=>M.flowerIds.length>0)}}else{const M=L[C(489)](z=>z!==w);m[C(492)](M[C(486)],0)?C(447)===C(519)?_0xf3cf08.flowerIds.includes(_0x1fd71a)||_0x5102d4.flowerIds[C(525)](_0x37f2f8):m[C(453)](r,{kind:m[C(459)]}):m[C(538)](M[C(486)],1)?m.oBMyi(r,{kind:m[C(442)],flowerId:M[0]}):r({kind:C(445),flowerIds:M})}else{if(m.vPGFc==="fMxun")return _0x26837d[C(430)]()[C(468)](KkIAbf.sCLnr).toString().constructor(_0x5be230)[C(468)](KkIAbf.sCLnr);m.qsoXm(r,{kind:m[C(472)],flowerIds:[...L,w]})}}else if(m.wuRCc(a.kind,m.XhVLG))if(m.wuRCc(m.RJkOg,"mltBq")){if(m[C(466)](a.flowerId,w))return;r({kind:C(445),flowerIds:[a.flowerId,w]})}else{const M=m[C(516)](m.tQtVn(70,_0x360d5b.PI),180),z=m[C(502)](_0x4942e0[C(486)],1),T=z-1,q=m.cIzkz(z,1)?m[C(471)](T/m[C(511)](z,1),M):0;_0x30c55c=m[C(494)](_0x5d943b,m[C(456)](30,100))*_0x451406.cos(q)}else if(a.kind===m[C(479)]){const L=(c[C(561)]??[])[C(495)](z=>z.id===a[C(451)]),M=L?L.flowerIds:[];if(M.includes(w)){if(m.aOHmL==="bJOHP")return;{const z=_0x557663.flowerIds;m.QrPuw(_0x68052c,T=>{const q=C;if(T.flowers=T.flowers.filter(X=>!z[q(483)](X.id)),T.groups){for(const X of T[q(561)])X[q(478)]=X.flowerIds.filter(O=>!z.includes(O));T[q(561)]=T.groups[q(489)](X=>X[q(478)][q(486)]>0)}},!0),_0x347b3c({kind:"project"});return}}m[C(449)](r,{kind:m.CVmFe,flowerIds:[...M,w]})}else r({kind:m[C(472)],flowerIds:[w]})},[a,r,c.groups]);return{deleteFlowerById:g,deleteLayerById:p,computeNewOuterRadius:j,addOuterLayer:E,deleteOuterLayer:k,deleteSelected:G,groupSelectedFlowers:H,ungroupFlowers:I,addToGroup:K,mergeGroups:R,addStencil:V,deleteStencil:P,handleShiftFlowerSelect:Q,togglePetalSelection:(w,C,L,M)=>{const z=N;if(z(547),!M)if(m[z(485)]===m[z(508)]){for(const q of _0x3b95a0[z(561)])q.flowerIds=q.flowerIds[z(489)](X=>X!==_0x46c391);_0xc8960e.groups=_0x7bb8f0.groups.filter(q=>q[z(478)].length>0)}else{m.LkDXe(r,{kind:"petal",flowerId:w,layerId:C,index:L});return}const T=C+":"+L;if(m.UJgrR(a[z(536)],z(518))&&a[z(507)]===w){const q=a[z(518)]||[];if(q[z(509)](O=>O[z(524)]+":"+O.index===T)){const O=q[z(489)](D=>D.layerId+":"+D[z(531)]!==T);O[z(486)]===0?m.QiXXv(r,{kind:m.XhVLG,flowerId:w}):m[z(450)](O.length,1)?m.cxPIG(r,{kind:m.iBzwf,flowerId:w,layerId:O[0].layerId,index:O[0].index}):m.qsoXm(r,{kind:m[z(515)],flowerId:w,petals:O})}else m.cxPIG(r,{kind:z(518),flowerId:w,petals:[...q,{layerId:C,index:L}]})}else if(m.huKQQ(a[z(536)],"petal")&&m.rGaeK(a.flowerId,w))if(m.bRUYy==="WiNDU")_0x2c9965({kind:HuzWJO[z(444)],flowerId:_0x1384d5});else{const q={layerId:a.layerId,index:a.index},X={layerId:C,index:L};if(m.WvHIK(q[z(524)]+":"+q.index,T))return;r({kind:m[z(515)],flowerId:w,petals:[q,X]})}else if(z(548)===m[z(521)]){const q=_0x14c44b[HuzWJO.USsyO(_0x5d8917,1)],X=_0x4bff1f[_0x13ada3];X.offsetAngle=HuzWJO.hXxlI(_0x19ea2b,q.petalCount,q.offsetAngle,X[z(431)])}else m.tmJjB(r,{kind:z(518),flowerId:w,petals:[{layerId:C,index:L}]})}}}function Xt(c,i){c=c-302;const a=K0();let r=a[c];if(Xt.oLVqVZ===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Xt.mqTpTX=o,Xt.udRIjQ={},Xt.oLVqVZ=!0}const f=a[0],b=c+f,y=Xt.udRIjQ[b];if(y)r=y;else{const h=function(d){this.alvXRj=d,this.dXzfOJ=[1,0,0],this.PIdEZE=function(){return"newState"},this.fnwlSl="\\w+ *\\(\\) *{\\w+ *",this.JctGRO=`['|"].+['|"];? *}`};h.prototype.DThjBA=function(){const d=new RegExp(this.fnwlSl+this.JctGRO),v=d.test(this.PIdEZE.toString())?--this.dXzfOJ[1]:--this.dXzfOJ[0];return this.YINJot(v)},h.prototype.YINJot=function(d){return~d?this.vMhlMl(this.alvXRj):d},h.prototype.vMhlMl=function(d){for(let v=0,_=this.dXzfOJ.length;v<_;v++)this.dXzfOJ.push(Math.round(Math.random())),_=this.dXzfOJ.length;return d(this.dXzfOJ[0])},new h(Xt).DThjBA(),r=Xt.mqTpTX(r),Xt.udRIjQ[b]=r}return r}function K0(){const c=["nZa1odD5wvbyvuG","tLHmugu","BgvHzKLKCW","r1f3D1K","tKzNzve","nNbXEgvSrq","mteYoduZnZzlEuTktK8","zMLUza","BwXQwfq","rxnwCKu","ChvZAa","BMfTzq","nJaXotfPs2zYr0W","mtq3mdG5n1vKr2fqyG","uxb4s1i","yNLXsM4","y29UC3rYDwn0B3i","DeDLqMu","A3rfBKy","EuH2te8","tw93sLy","DLbztNy","yunZBKK","kcGOlISPkYKRksSK","Aw5JBhvKzxm","BwHIyK8","BgvUz3rO","mtu0odq4nuLhD2f5tq","mZiYotmXmfDXD3betW","uevwu2m","nefnr2roDa","qMLbr2y","A2LUza","rNvQwNm","Bg1qzwC","mJbhwvrbqxe","s3jwCgK","zfvbBMW","zMLSDgvY","BgvHDMvZ","t2rJvNO","mti4oduXogrUsNfvwG","C2vHCMnO","wuvKEvi","t1b4tLu","nZG4nhfeAwjOsq","vMTSB28","BgvHzKDYB3vWswq","BgvHzKDYB3vW","renbvfy","BgvHzKLK","mZrosvjLt2O","ChjVAMvJDa","wvfKtK4","BgvHzKDYB3vWCW"];return K0=function(){return c},K0()}(function(c,i){const a=Xt,r=c();for(;;)try{if(parseInt(a(344))/1*(-parseInt(a(328))/2)+-parseInt(a(318))/3+-parseInt(a(307))/4*(-parseInt(a(304))/5)+parseInt(a(337))/6*(-parseInt(a(305))/7)+-parseInt(a(338))/8+parseInt(a(345))/9*(-parseInt(a(312))/10)+parseInt(a(332))/11*(parseInt(a(322))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(K0,874045);const sb=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Gs=sb(void 0,function(){const c=Xt,i={OdcVz:"(((.+)+)+)+$"};return Gs.toString()[c(319)](i[c(317)]).toString()[c(348)](Gs).search(c(355))});Gs();function xb({project:c,applyUpdate:i,selection:a,setSelection:r}){const o=Xt,f={YQdNN:function(j,g){return j(g)},lmPeg:o(329),qOEVf:function(j,g){return j!==g},dUAnl:"wKNtp",OPxNU:function(j,g){return j===g},AhbaH:"rAswh",byqJn:o(354),mhbbO:o(308),dQPxk:"leaf",YEdyR:function(j,g){return j!==g},KZxsC:o(351),IGcMj:function(j,g){return j===g},aCeml:function(j,g){return j(g)},mljXT:o(316),jDYsC:function(j,g,p){return j(g,p)},KrVpi:function(j,g,p){return j(g,p)},PEVSc:function(j,g){return j(g)},DCATV:"tywHX",vPYNv:"NFgeQ",thmFN:function(j,g){return j(g)},HEEhP:"leafGroup",FujZs:function(j,g){return j===g},QpxKR:"IQazA",MowJV:"ktEnF",egoVz:function(j,g,p){return j(g,p)},EsVrE:function(j,g,p){return j(g,p)}},b=j=>{const g=o,p={NXLPe:g(323)};i(E=>{const k=g;if(p[k(333)]==="Vkloo"){if(E.leaves=(E.leaves??[]).filter(G=>G.id!==j),E.leafGroups){for(const G of E.leafGroups)G[k(334)]=G.leafIds.filter(H=>H!==j);E[k(331)]=E[k(331)].filter(G=>G.leafIds.length>0)}}else{for(const G of _0x401d33[k(331)])G[k(334)]=G.leafIds[k(315)](H=>H!==_0x320b97);_0x5b4114[k(331)]=_0x2739d3[k(331)][k(315)](G=>G[k(334)].length>0)}},!0),f[g(330)](r,{kind:f[g(311)]})},y=$.useCallback(j=>{const g=o,p={OOSwp:function(E,k){return E(k)}};if(f.qOEVf(f[g(314)],f[g(314)]))p.OOSwp(_0x5eefe5,{kind:"leaf",leafId:_0x57f0f1[0]});else if(f[g(321)](a.kind,"leaves"))if(f.AhbaH===g(349)){const E=(_0x47c199[g(331)]??[]).find(k=>k.id===_0x38ab24);E&&!E.leafIds.includes(_0x5637c8)&&E[g(334)][g(342)](_0x58057d)}else{const E=a.leafIds;if(E[g(356)](j)){const k=E[g(315)](G=>G!==j);if(k.length===0)if(f[g(347)]!==f[g(302)])r({kind:"project"});else{const G=(_0x54622e[g(331)]??[]).find(H=>H.id===_0x5cccd7);if(!G)return;for(const H of _0xc95f89)G[g(334)].includes(H)||G.leafIds[g(342)](H)}else k[g(303)]===1?f[g(330)](r,{kind:f.dQPxk,leafId:k[0]}):f[g(330)](r,{kind:"leaves",leafIds:k})}else if(f[g(320)](g(335),f.KZxsC))r({kind:"leaves",leafIds:[...E,j]});else if(_0x46f33b[g(316)]=(_0x5a9f69[g(316)]??[]).filter(k=>k.id!==_0x2edaba),_0x4431b9[g(331)]){for(const k of _0x2a553e[g(331)])k.leafIds=k[g(334)][g(315)](G=>G!==_0x51fe29);_0x36a671.leafGroups=_0x26158e.leafGroups.filter(k=>k.leafIds[g(303)]>0)}}else if(a[g(309)]==="leaf"){if(f.OPxNU(a.leafId,j))return;f.YQdNN(r,{kind:"leaves",leafIds:[a.leafId,j]})}else if(f.IGcMj(a[g(309)],g(325))){const E=(c.leafGroups??[])[g(339)](G=>G.id===a[g(324)]),k=E?E[g(334)]:[];if(k[g(356)](j))return;f.aCeml(r,{kind:f[g(340)],leafIds:[...k,j]})}else r({kind:"leaves",leafIds:[j]})},[a,r,c.leafGroups]),h=f.egoVz($.useCallback,j=>{const g=o,p=f.YQdNN(Ht,"lg"),E=(c[g(331)]??[]).map(G=>{const H=g,I=G[H(343)].match(/^ (\d+)$/);return I?f.jDYsC(parseInt,I[1],10):0}),k=E[g(303)]>0?Math.max(...E)+1:1;i(G=>{const H=g;G.leafGroups||(G.leafGroups=[]),G[H(331)][H(342)]({id:p,name:" "+k,leafIds:[...j],rotation:0})},!0),r({kind:"leafGroup",leafGroupId:p})},[c.leafGroups,i,r]),d=f[o(313)]($.useCallback,(j,g)=>{const p=o;f.KrVpi(i,E=>{const k=Xt,G=(E[k(331)]??[]).find(H=>H.id===j);if(G)for(const H of g)G.leafIds.includes(H)||G.leafIds[k(342)](H)},!0),f[p(306)](r,{kind:p(325),leafGroupId:j})},[i,r]),v=f.KrVpi($.useCallback,(j,g)=>{const p=j[0],E=j.slice(1);i(k=>{const G=Xt;if(!k.leafGroups)return;const H=k[G(331)].find(I=>I.id===p);if(H){for(const I of E)if(f.DCATV!==f[G(326)]){const K=_0x1ad0a7[G(343)].match(/^ (\d+)$/);return K?_0x5de36c(K[1],10):0}else{const K=k.leafGroups[G(339)](R=>R.id===I);if(!K)continue;for(const R of K[G(334)])H[G(334)].includes(R)||H[G(334)][G(342)](R)}for(const I of g)f[G(353)]!==G(336)?(_0x4ac78b[G(331)]||(_0x1852ec[G(331)]=[]),_0x3e6393[G(331)][G(342)]({id:_0x4dcc37,name:" "+_0x57eb42,leafIds:[..._0x1f9e3e],rotation:0})):H[G(334)][G(356)](I)||H[G(334)].push(I);k[G(331)]=k[G(331)].filter(I=>!E.includes(I.id))}},!0),f.thmFN(r,{kind:f.HEEhP,leafGroupId:p})},[i,r]),_=f[o(341)]($.useCallback,j=>{i(g=>{const p=Xt;g.leafGroups&&(g[p(331)]=g.leafGroups[p(315)](E=>E.id!==j))},!0),f.PEVSc(r,{kind:f.lmPeg})},[i,r]),N=$.useCallback((j,g)=>{f.jDYsC(i,p=>{const E=Xt,k=(p[E(331)]??[]).find(G=>G.id===g);k&&!k[E(334)].includes(j)&&k.leafIds[E(342)](j)},!0)},[i]),m=$.useCallback(j=>{i(g=>{const p=Xt;if(f.FujZs("IQazA",f[p(346)])){if(!g.leafGroups)return;for(const E of g[p(331)])if(f.OPxNU(p(350),f[p(352)]))E.leafIds=E.leafIds.filter(k=>k!==j);else{if(!_0x313b22[p(331)])return;for(const k of _0x1e3c9d.leafGroups)k[p(334)]=k[p(334)].filter(G=>G!==_0x5d9fa3);_0x54576c[p(331)]=_0x32d2a3[p(331)].filter(k=>k[p(334)].length>0)}g.leafGroups=g[p(331)][p(315)](E=>E[p(334)][p(303)]>0)}else{if(DviTQn.DkZAj(_0x3eef4e[p(327)],_0x4c2cc3))return;_0x16a069({kind:p(316),leafIds:[_0xdb1377[p(327)],_0x57c719]})}},!0)},[i]);return{deleteLeafById:b,handleShiftLeafSelect:y,groupSelectedLeaves:h,ungroupLeaves:_,addLeafToGroup:N,removeLeafFromGroup:m,addLeavesToGroup:d,mergeLeafGroups:v}}(function(c,i){const a=bn,r=c();for(;;)try{if(-parseInt(a(493))/1*(-parseInt(a(541))/2)+-parseInt(a(536))/3*(-parseInt(a(485))/4)+parseInt(a(523))/5*(parseInt(a(550))/6)+parseInt(a(553))/7+parseInt(a(528))/8*(parseInt(a(481))/9)+-parseInt(a(537))/10+-parseInt(a(534))/11*(parseInt(a(508))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Z0,513377);const ob=(function(){const c=bn,i={kYoUz:function(r,o){return r===o},SeVyg:c(509),PzILJ:function(r,o,f,b,y){return r(o,f,b,y)},UfRHO:function(r,o){return r===o}};let a=!0;return function(r,o){const f=c;if(i[f(483)](f(535),"PABtK")){const b={..._0x15b0c7,fabricSquareSize:_0x41d2e8,baseDiameter:_0xe90525};return i.kYoUz(b[f(503)],i[f(552)])?b[f(494)]=_0x5a5b49(_0x17fb70,_0x4fbeba,{layerCount:b.layerCount,sizeMode:b[f(525)],sizeStepMm:b[f(515)]}).diameter:b[f(494)]=i[f(540)](_0xf1e717,_0x2e7dd5,b.layerCount,b.sizeMode,b[f(515)]),b}else{const b=a?function(){const y=f;if(o){const h=o[y(543)](r,arguments);return o=null,h}}:function(){};return a=!1,b}}})(),qs=ob(void 0,function(){const c=bn,i={nzOCV:"(((.+)+)+)+$"};return qs.toString().search(c(480))[c(499)]().constructor(qs).search(i[c(498)])});qs();function bn(c,i){c=c-478;const a=Z0();let r=a[c];if(bn.EbzorK===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};bn.yWHfdH=o,bn.yfAXaV={},bn.EbzorK=!0}const f=a[0],b=c+f,y=bn.yfAXaV[b];if(y)r=y;else{const h=function(d){this.lciybL=d,this.JgEBRM=[1,0,0],this.ebYrPz=function(){return"newState"},this.nOpnrn="\\w+ *\\(\\) *{\\w+ *",this.sRDelG=`['|"].+['|"];? *}`};h.prototype.VtpvUh=function(){const d=new RegExp(this.nOpnrn+this.sRDelG),v=d.test(this.ebYrPz.toString())?--this.JgEBRM[1]:--this.JgEBRM[0];return this.ObEkkn(v)},h.prototype.ObEkkn=function(d){return~d?this.YNFUtP(this.lciybL):d},h.prototype.YNFUtP=function(d){for(let v=0,_=this.JgEBRM.length;v<_;v++)this.JgEBRM.push(Math.round(Math.random())),_=this.JgEBRM.length;return d(this.JgEBRM[0])},new h(bn).VtpvUh(),r=bn.yWHfdH(r),bn.yfAXaV[b]=r}return r}function fb({project:c,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:o,pan:f,stageSize:b,CANVAS_MAX_SVG:y}){const h=bn,d={dXsRe:function(p,E){return p===E},RVpBF:"1|3|4|2|0",ewPkE:function(p,E,k,G){return p(E,k,G)},mYXJU:h(551),dFYHM:function(p,E){return p/E},aXqmX:function(p,E){return p*E},DzwpZ:function(p,E){return p*E},ftFue:"Inner",ztdNS:h(554),wQlsN:"uniform",mSeDG:function(p,E,k,G){return p(E,k,G)},mGTAo:function(p,E){return p===E},pDszZ:"gradual",mDtwH:function(p,E){return p+E},VRuaO:function(p,E){return p*E},SrBcg:function(p,E){return p===E},WclWt:function(p,E){return p>E},mhxyl:function(p,E){return p*E},RhBTt:function(p,E){return p-E},DXlqz:function(p,E){return p/E},LHucY:function(p,E){return p+E},lXgZg:function(p,E){return p/E},EBexw:function(p,E,k,G){return p(E,k,G)},wpIVl:h(500),IaGYu:function(p,E){return p<=E},jEXpc:function(p,E){return p===E},SnNyv:function(p,E){return p!==E},uKojX:h(546),njLst:function(p,E){return p(E)},JEFaD:h(519),EyXIc:h(509),jRShC:function(p,E,k,G,H){return p(E,k,G,H)},BdJvI:function(p,E,k,G){return p(E,k,G)},dUNmJ:function(p,E){return p/E},GJPge:function(p,E){return p/E},dewBD:function(p,E){return p<E},tVvJW:function(p,E){return p(E)},OiMzh:h(520),PtSOT:h(514),IOAYK:function(p,E,k){return p(E,k)},ZXuwX:"flower",xdFnF:function(p,E){return p(E)},IDyIO:function(p,E){return p(E)}},[v,_]=$.useState(!1),[N,m]=d.IDyIO($.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:"",sizeMode:h(496),sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:v,setShowAddFlowerDialog:_,addFlowerOpts:N,setAddFlowerOpts:m,addFlower:()=>{const p=h,E={JERjP:function(H,I){return d[bn(516)](H,I)},ZnQWX:p(509),RNNVi:function(H,I,K,R,V){return H(I,K,R,V)}},k=c.fabricSquareSize,G=c[p(484)];m(H=>{const I=p;if(E[I(511)]("nvbES",I(539)))_0xd859b4=_0x54748e;else{const K={...H,fabricSquareSize:k,baseDiameter:G};return K[I(503)]===E[I(487)]?K.flowerDiameter=Vl(G,k,{layerCount:K.layerCount,sizeMode:K[I(525)],sizeStepMm:K[I(515)]}).diameter:K[I(494)]=E[I(489)](ar,k,K.layerCount,K[I(525)],K[I(515)]),K}}),_(!0)},confirmAddFlower:()=>{const p=h,{placementMode:E,layerCount:k,petalCount:G,petalType:H,sizeMode:I,sizeStepMm:K}=N,R=N[p(533)],{length:V}=Yt(R),P=.28,Q=d[p(491)](Math[p(530)](d[p(510)](d.DzwpZ(V,P),10)),10),W=[],w=["Center",d[p(513)],"Middle",p(524),d.ztdNS];let C=Q,L=0;for(let oe=0;oe<k;oe++){const ge=oe,we=1;let he;if(d[p(516)](I,d[p(526)]))he=we;else{const lt=d.dFYHM(K,R);he=d.mSeDG(Ce,we+ge*lt,.3,3)}let ze;if(d[p(522)](oe,0))ze=Q;else{const lt=I===d[p(501)]?Ce(d[p(517)](1,d[p(529)](oe-1,K)/R),.3,3):1,mt=V*lt;let St;if(d[p(502)](E,"")){const bt=d[p(491)](70*Math.PI,180),Ut=d.WclWt(k,1)?d[p(532)](d[p(491)](oe,d.RhBTt(k,1)),bt):0,an=Math.cos(Ut);St=d[p(532)](mt*(30/100),an)}else St=d.DXlqz(mt,3);C=d.LHucY(C,St),ze=d[p(512)](Math.round(C*10),10)}const We=oe===0?0:d.EBexw(el,G,L,G);L=We;let tt;if(k===1)d[p(538)]!==d[p(538)]?_0x14e1ad=_0x5066d6:tt=d.mYXJU;else if(d[p(504)](k,5))if(p(482)!=="cyhdP"){const lt=d[p(521)].split("|");let mt=0;for(;;){switch(lt[mt++]){case"0":_0x1c7095++;continue;case"1":_0x343720+=_0x2e9498;continue;case"2":_0x430783=d.ewPkE(_0x2a0fd5,_0x526033,0,_0x1649fb);continue;case"3":_0x53e834+=_0x21d578;continue;case"4":_0x584555=_0x4b0435(_0x1a05e9,0,_0x1837c4);continue}break}}else{const lt=d.SrBcg(k,2)?[0,3]:d.jEXpc(k,3)?[0,1,3]:k===4?[0,1,2,3]:[0,1,2,3,4];tt=w[lt[oe]]??"Layer "+(oe+1)}else d.SnNyv("nAwBJ",d[p(506)])?_0x5930df=d[p(497)]:tt=p(549)+(oe+1);W[p(488)]({id:Ht(p(544)),name:tt,order:k-oe,petalType:H,petalCount:G,radius:ze,scale:he,widthScale:d[p(527)](ri,G),offsetAngle:We,colorId:N[p(486)]||(c[p(548)]?.[0]?.id??d.JEFaD),visible:!0,locked:!1})}W[p(478)]();const M=[...W].sort((oe,ge)=>oe[p(479)]-ge[p(479)]),z=d[p(502)](E,d[p(531)])?d[p(545)](Vl,N[p(484)],R,{layerCount:k,sizeMode:I,sizeStepMm:K}).diameter:d[p(492)](ar,R,k,I,K);d.BdJvI(V0,M,R,N[p(494)]||z);for(const oe of M){const ge=W.find(we=>we.id===oe.id);ge&&(ge.radius=oe.radius,ge.scale=oe[p(505)])}const T=b.w/b.h,q=d.DXlqz(520,o),X=q*T,O=d.dUNmJ(-f.x,o),D=d.GJPge(-f.y,o);let B=O+X/2,Y=D+q/2;const Z=25;let le=0;for(;d.dewBD(le,50)&&c[p(518)].some(oe=>Math[p(490)](oe[p(547)].x-B)<5&&Math[p(490)](oe[p(547)].y-Y)<5);){const oe="2|1|4|0|3".split("|");let ge=0;for(;;){switch(oe[ge++]){case"0":Y=Ce(Y,0,y);continue;case"1":Y+=Z;continue;case"2":B+=Z;continue;case"3":le++;continue;case"4":B=Ce(B,0,y);continue}break}}const ce=N[p(494)]||z,fe={id:d.tVvJW(Ht,d[p(507)]),name:"Flower "+d.LHucY(c[p(518)][p(542)],1),position:{x:B,y:Y},flowerDiameter:ce,rotation:0,layers:W,center:{type:d.PtSOT,size:6,color:d.JEFaD},fabricSquareSize:R,placementMode:E,baseDiameter:E===""?N.baseDiameter:d.njLst(er,ce)};d.IOAYK(i,oe=>{oe.flowers.push(fe)},!0),d[p(527)](a,{kind:d[p(495)],flowerId:fe.id}),d.xdFnF(r,oe=>({...oe,[fe.id]:!0})),_(!1)}}}function Z0(){const c=["y3LOzfa","vwzsse8","yMfZzurPyw1LDgvY","ntjfBuzSqKK","y29SB3jjza","wM5rv1G","ChvZAa","uK5ovMK","ywjZ","zezzse0","ALjtAem","mtC4mZLHzK1AzwW","zMXVD2vYrgLHBwv0zxi","wLH1D1G","Dw5PzM9YBq","BvLysLu","BNPpq1y","Dg9tDhjPBMC","ruDxwKO","CerZELO","u3jcy2C","CgXHy2vTzw50tw9Kzq","swfhwxu","C2nHBgu","DuTVALG","t2LnEMG","mJq2mtyZntzbELz5D3m","5y2k44gp44gz","yvHXBvG","sKvsALa","BfHNwMC","zNrgDwu","44or44o844oR","C2L6zvn0zxbnBq","zfHZuMu","Bur0D0G","zMXVD2vYCW","y29Sx3DOAxrL","zMX3","uLzWqKy","BuDuqw8","mtq1vevitvn4","t3v0zxi","C2L6zu1Vzgu","D1fSC04","BMPmC3q","nduXodK0nhjeyuvoAq","vLj1yu8","CM91BMq","rxLyswm","BwH4EwW","zMfICMLJu3f1yxjLu2L6zq","mtfwAvH1Cxi","tLftB3q","mtGWmJaXCg15Dffs","mZGZodC0meDLt2L6tq","D3bjvMW","tujkAM8","uhPjteO","mtr1DNDMuNi","BgvUz3rO","yxbWBhK","Bgf5","BvnLreC","BKf3qKO","Cg9ZAxrPB24","CgfSzxr0zq","tgf5zxiG","mtu1mdGYwwXbAM9Z","tgf5zxi","u2vwEwC","nta5ota3m3jZr0zVvW","t3v0zxiR","CMv2zxjZzq","B3jKzxi","kcGOlISPkYKRksSK","owzhCwrgvW"];return Z0=function(){return c},Z0()}(function(c,i){const a=gn,r=c();for(;;)try{if(parseInt(a(194))/1+parseInt(a(213))/2*(parseInt(a(216))/3)+parseInt(a(200))/4+-parseInt(a(199))/5+parseInt(a(219))/6+-parseInt(a(207))/7*(parseInt(a(205))/8)+-parseInt(a(206))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(X0,379580);const db=(function(){const c={mWWUB:"ojgTu"};let i=!0;return function(a,r){const o=gn;if(c[o(214)]!=="ojgTu")return _0xdd1bb7[o(198)](_0x25d9c9*_0x120765.SQRT2/2*10)/10;{const f=i?function(){if(r){const b=r.apply(a,arguments);return r=null,b}}:function(){};return i=!1,f}}})(),Rs=db(void 0,function(){const c=gn,i={pATCF:"(((.+)+)+)+$"};return Rs[c(208)]()[c(195)]("(((.+)+)+)+$").toString().constructor(Rs).search(i.pATCF)});Rs();function Vd(c){const i=gn;return{aWzlA:function(r,o){return r/o}}[i(196)](Math[i(198)](c*Math[i(211)]/2*10),10)}function hb({project:c,applyUpdate:i,setSelection:a,zoom:r,pan:o,stageSize:f,CANVAS_MAX_SVG:b}){const y=gn,h={HGoqK:function(g,p){return g/p},OSmWH:function(g,p){return g/p},qzzSV:function(g,p){return g+p},jLsJg:function(g,p){return g<p},uTqWG:function(g,p,E,k){return g(p,E,k)},lyehI:"leaf",BZeGP:function(g,p){return g+p},XyfFQ:y(201),AOdMs:function(g,p){return g===p},JNBXD:function(g,p){return g/p},TXzHa:function(g,p){return g/p},GQqqF:function(g,p){return g+p},adRPy:function(g,p){return g(p)},GhNtX:function(g,p){return g+p},ozWSB:function(g,p,E){return g(p,E)},isSKs:function(g,p){return g(p)}},[d,v]=$.useState(!1),[_,N]=$.useState({fabricSquareSize:20,leafSizeMm:Vd(20),petalType:"",colorId:""});return{showAddLeafDialog:d,setShowAddLeafDialog:v,addLeafOpts:_,setAddLeafOpts:N,addLeaf:()=>{const g=y;if(h[g(193)]("vaWaW","Fferk")){const{petalType:p,colorId:E,fabricSquareSize:k}=_0x5a1ce5,G=_0xd980c7.w/_0xbb22ec.h,H=520/_0x346e4d,I=H*G,K=-_0x3a8b1e.x/_0x14967f,R=h.HGoqK(-_0x29f44b.y,_0x2e7b24);let V=K+h.OSmWH(I,2),P=h.qzzSV(R,h.OSmWH(H,2)),Q=0;for(;h[g(197)](Q,50)&&(_0x165c5.leaves??[]).some(w=>_0x64898f.abs(w.position.x-V)<5&&_0x1b4728[g(218)](w.position.y-P)<5);)V+=25,P+=25,V=h.uTqWG(_0x46be75,V,0,_0x5e74a3),P=_0x257e43(P,0,_0x5c04d8),Q++;const W={id:_0x4e7e60(h[g(204)]),name:g(220)+h[g(210)]((_0xaefd01[g(215)]??[]).length,1),position:{x:V,y:P},rotation:135,petalType:p,colorId:E||_0x16f790.palette?.[0]?.id||h.XyfFQ,fabricSquareSize:k,scale:1,widthScale:1,visible:!0,locked:!1};_0x12d5a3(w=>{const C=g;w[C(215)]||(w[C(215)]=[]),w[C(215)].push(W)},!0),_0x5058b4({kind:g(221),leafId:W.id}),_0x3567f6(!1)}else{const p=c.fabricSquareSize,E=c.palette?.[g(202)](k=>k.id===g(201)||k.id==="col_darkgreen")?.id??c[g(209)]?.[0]?.id??h.XyfFQ;N(k=>({...k,fabricSquareSize:p,leafSizeMm:Vd(p),colorId:k[g(217)]||E})),v(!0)}},confirmAddLeaf:()=>{const g=y,{petalType:p,colorId:E,fabricSquareSize:k}=_,G=f.w/f.h,H=h.JNBXD(520,r),I=H*G,K=h.TXzHa(-o.x,r),R=-o.y/r;let V=K+h.TXzHa(I,2),P=h.GQqqF(R,h[g(203)](H,2)),Q=0;for(;Q<50&&(c[g(215)]??[]).some(w=>Math[g(218)](w.position.x-V)<5&&Math.abs(w.position.y-P)<5);){const w="4|3|2|0|1".split("|");let C=0;for(;;){switch(w[C++]){case"0":P=Ce(P,0,b);continue;case"1":Q++;continue;case"2":V=h.uTqWG(Ce,V,0,b);continue;case"3":P+=25;continue;case"4":V+=25;continue}break}}const W={id:h.adRPy(Ht,g(221)),name:g(220)+h.GhNtX((c.leaves??[])[g(212)],1),position:{x:V,y:P},rotation:135,petalType:p,colorId:E||c.palette?.[0]?.id||"col_green",fabricSquareSize:k,scale:1,widthScale:1,visible:!0,locked:!1};h.ozWSB(i,w=>{const C=g;w[C(215)]||(w[C(215)]=[]),w.leaves.push(W)},!0),h.adRPy(a,{kind:g(221),leafId:W.id}),h.isSKs(v,!1)}}}function gn(c,i){c=c-193;const a=X0();let r=a[c];if(gn.ibGSQU===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};gn.yeyaCT=o,gn.LiBkXL={},gn.ibGSQU=!0}const f=a[0],b=c+f,y=gn.LiBkXL[b];if(y)r=y;else{const h=function(d){this.blUxrs=d,this.UQderq=[1,0,0],this.HatZhc=function(){return"newState"},this.ndFypL="\\w+ *\\(\\) *{\\w+ *",this.YebddU=`['|"].+['|"];? *}`};h.prototype.nkPmVy=function(){const d=new RegExp(this.ndFypL+this.YebddU),v=d.test(this.HatZhc.toString())?--this.UQderq[1]:--this.UQderq[0];return this.CxMGMt(v)},h.prototype.CxMGMt=function(d){return~d?this.NwZrCY(this.blUxrs):d},h.prototype.NwZrCY=function(d){for(let v=0,_=this.UQderq.length;v<_;v++)this.UQderq.push(Math.round(Math.random())),_=this.UQderq.length;return d(this.UQderq[0])},new h(gn).nkPmVy(),r=gn.yeyaCT(r),gn.LiBkXL[b]=r}return r}function X0(){const c=["mJa1nta2mgHAzKzfEG","tgvHzIa","BgvHzG","qu9Ktxm","nJe4mJGXyMXIuMr4","C2vHCMnO","yvD6Bee","AKXZsMC","CM91BMq","mtC5nJe2mgTvshDpva","mtCZntuXmMvXthnwBG","y29Sx2DYzwvU","zMLUza","t1nTv0G","BhLLAeK","ntC3nLnfzNL2tW","nJq3nZi4mKXiwKnICG","ntK0m2LJuvvmzW","Dg9tDhjPBMC","CgfSzxr0zq","qLPLr1a","u1fsvdi","BgvUz3rO","otq2nK1oC1jKqq","BvDxvui","BgvHDMvZ","ndi5EePIt0nI","y29SB3jjza","ywjZ"];return X0=function(){return c},X0()}function Gn(c,i){c=c-242;const a=J0();let r=a[c];if(Gn.xaUcin===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",_="",N=v+o;for(let m=0,j,g,p=0;g=h.charAt(p++);~g&&(j=m%4?j*64+g:g,m++%4)?v+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&j>>(-2*m&6)):m:0)g=d.indexOf(g);for(let m=0,j=v.length;m<j;m++)_+="%"+("00"+v.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(_)};Gn.bKehod=o,Gn.BOpvrn={},Gn.xaUcin=!0}const f=a[0],b=c+f,y=Gn.BOpvrn[b];if(y)r=y;else{const h=function(d){this.TxGDGq=d,this.sRyeNm=[1,0,0],this.UZGzrX=function(){return"newState"},this.Jflatb="\\w+ *\\(\\) *{\\w+ *",this.IGxEMF=`['|"].+['|"];? *}`};h.prototype.DmPWbR=function(){const d=new RegExp(this.Jflatb+this.IGxEMF),v=d.test(this.UZGzrX.toString())?--this.sRyeNm[1]:--this.sRyeNm[0];return this.oDSkuJ(v)},h.prototype.oDSkuJ=function(d){return~d?this.fiFONq(this.TxGDGq):d},h.prototype.fiFONq=function(d){for(let v=0,_=this.sRyeNm.length;v<_;v++)this.sRyeNm.push(Math.round(Math.random())),_=this.sRyeNm.length;return d(this.sRyeNm[0])},new h(Gn).DmPWbR(),r=Gn.bKehod(r),Gn.BOpvrn[b]=r}return r}(function(c,i){const a=Gn,r=c();for(;;)try{if(parseInt(a(243))/1+parseInt(a(288))/2*(-parseInt(a(252))/3)+-parseInt(a(251))/4*(-parseInt(a(261))/5)+-parseInt(a(257))/6+parseInt(a(277))/7*(-parseInt(a(266))/8)+parseInt(a(272))/9+parseInt(a(293))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(J0,279779);const mb=(function(){const c=Gn,i={qjZtf:function(r,o){return r!==o},GocmY:"akKuo",YWpHE:c(255)};let a=!0;return function(r,o){const f=c;if(i.qjZtf(i.GocmY,i[f(291)])){const b=a?function(){if(o){const y=o.apply(r,arguments);return o=null,y}}:function(){};return a=!1,b}else{const b=_0x39c4a9(_0x5bb089,_0x4b3368.leafId);if(b)return new _0x3adb4c(b[f(247)][f(280)](y=>y!==_0x50909f[f(283)]))}}})(),ks=mb(void 0,function(){const c=Gn,i={gTEdA:c(282)};return ks[c(259)]()[c(262)](i[c(260)]).toString()[c(245)](ks).search(c(282))});ks();function J0(){const c=["qM9tq20","mZy5odi0D1bwswX2","Ce1nq1a","y29UC3rYDwn0B3i","zMXVD2vYCW","BgvHzKLKCW","Aw5JBhvKzxm","rLzmDuy","Aw5KzxG","ndq0t3z2Ehrj","mtqWodHAzLvTtgm","CvnKBvi","rg9fr04","EfDnsKu","Cgv0ywW","mte4ntq1mhDHrfPPvG","z3jVDxa","Dg9tDhjPBMC","z1rfzee","mta3nJv3vwDSt1u","C2vHCMnO","BgvHzKDYB3vW","uxvSr0u","DvDoDuG","mZKYzMLTA1rV","Cgv0ywXZ","BgvHzG","z3jVDxbZ","BgvHzKDYB3vWswq","zMXVD2vYswrZ","nda3ndK1n3jjtgDcwq","A3bQrvu","Bgf5zxjjza","zMLUza","zePgvxC","nZu0nJD1svnOuNG","qK53s1i","BgvHDMvZ","zMLSDgvY","A2LUza","kcGOlISPkYKRksSK","BgvHzKLK","Bgf5zxi","rejuEe0","qwzUy1a","Bgf5zxjZ","mJa4EMfmwNf5","r2nHvMW","zMXVD2vYswq","wvDWseu","zMXVD2vY","ndmYndi3mefkCuD5yq"];return J0=function(){return c},J0()}function bb(c,i){const a=Gn,r={JcNky:a(282),DBTxM:function(g,p){return g===p},DoEGN:a(284),hoBrn:function(g,p){return g===p},IHczD:a(276),SHtRi:a(258),FATrp:function(g,p){return g===p},VHQVQ:"petal",QulGE:function(g,p){return g===p},PVxqR:"flower",qSdmR:function(g,p,E){return g(p,E)},SuDmK:a(265),AfncP:a(263),pMMCP:a(268),FVLuF:function(g,p,E){return g(p,E)},kpjEU:function(g,p,E){return g(p,E)},HksQw:function(g,p,E){return g(p,E)},BoSCm:function(g,p,E){return g(p,E)},BNwKR:function(g,p){return g===p},nafyV:"stencil",GcaVl:function(g,p,E){return g(p,E)}},o=r[a(249)]($.useMemo,()=>{const g=a;return r.JcNky,r[g(285)](i[g(281)],"flower")||i[g(281)]===r.DoEGN||r.hoBrn(i[g(281)],g(256))||i.kind===g(267)?r.IHczD!==g(276)?_0x384dfa.toString().search(oPHuot.OJpmD).toString().constructor(_0x2fc8f2)[g(262)](g(282)):c[g(246)][g(275)](p=>p.id===i[g(290)])??null:null},[c.flowers,i]),f=r[a(273)]($.useMemo,()=>{const g=a;if(i.kind===g(246))return c[g(246)][g(280)](p=>i.flowerIds[g(248)](p.id));if(r[g(285)](i.kind,r.SHtRi)){const p=(c[g(269)]??[]).find(E=>E.id===i.groupId);if(p)return c[g(246)][g(280)](E=>p[g(271)][g(248)](E.id))}return[]},[c[a(246)],c.groups,i]),b=$.useMemo(()=>{const g=a;return r.FATrp(i[g(281)],"leaf")?(c[g(279)]??[]).find(p=>p.id===i[g(283)])??null:null},[c.leaves,i]),y=r.HksQw($.useMemo,()=>{const g=a;return i.kind==="leafGroup"?(c.leafGroups??[])[g(275)](p=>p.id===i[g(270)])??null:null},[c.leafGroups,i]),h=r[a(242)]($.useMemo,()=>{const g=a;return o&&(r[g(285)](i.kind,r.DoEGN)||i[g(281)]==="petal")?o.layers.find(p=>p.id===i[g(274)])??null:null},[o,i]),d=i[a(281)]===a(256)?i[a(250)]:null,v=r[a(278)](i.kind,a(267))?i[a(267)]:[],_=r[a(285)](i.kind,r.nafyV)?(c.stencils??[])[a(275)](g=>g.id===i.stencilId)??null:null,N=i.kind===a(292)||i[a(281)]==="layer"||i.kind===r.VHQVQ||i[a(281)]==="petals"?i.flowerId:null,m=r[a(289)]($.useMemo,()=>{const g=a;if(i.kind==="group"){const p=(c[g(269)]??[])[g(275)](E=>E.id===i.groupId);if(p)return new Set(p.flowerIds)}if(r.QulGE(i[g(281)],g(246)))return new Set(i[g(271)]);if(i[g(281)]===r.PVxqR||i[g(281)]===r[g(254)]||r[g(264)](i.kind,r.VHQVQ)||i[g(281)]===g(267)){const p=r[g(253)](va,c,i[g(290)]);if(p)return r.SuDmK==="oqXVg"?_0x121ca4&&(r[g(285)](_0x503099.kind,r.DoEGN)||_0x181584[g(281)]===r.VHQVQ)?_0x174d1a[g(287)].find(E=>E.id===_0x15ccfc[g(274)])??null:null:i.kind===g(292)?new Set(p[g(271)][g(280)](E=>E!==i[g(290)])):new Set(p[g(271)])}return new Set},[i,c]),j=$.useMemo(()=>{const g=a;if(i[g(281)]===r[g(286)]){const p=(c.leafGroups??[]).find(E=>E.id===i[g(270)]);if(p)return new Set(p.leafIds)}if(i[g(281)]===r[g(244)]){const p=ii(c,i.leafId);if(p)return new Set(p[g(247)][g(280)](E=>E!==i.leafId))}return new Set},[i,c]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:b,selectedLeafGroup:y,selectedLayer:h,selectedPetalIndex:d,selectedPetals:v,selectedStencil:_,selectedFlowerId:N,groupHighlightedFlowerIds:m,leafGroupHighlightedLeafIds:j}}function gb(c){const{project:i,selection:a,setSelection:r,applyUpdate:o}=c,f=$.useMemo(()=>new Map((i.palette||[]).map(de=>[de.id,de])),[i.palette]),{widths:b,containerRef:y,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:v,isDesktop:_}=rb(),N=$.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[m,j]=$.useState({});$.useEffect(()=>{try{const ve=localStorage.getItem(N);if(ve){const Ie=JSON.parse(ve);if(Ie&&typeof Ie=="object"){j(Ie);return}}}catch{}const de=i.flowers?.[0];de&&j({[de.id]:!0})},[N]),$.useEffect(()=>{try{localStorage.setItem(N,JSON.stringify(m))}catch{}},[N,m]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const de=a.flowerId;j(ve=>ve?.[de]?ve:{...ve,[de]:!0})}a.kind==="flowers"&&j(de=>{const ve={...de};for(const Ie of a.flowerIds)ve[Ie]=!0;return ve})},[a]);const g=de=>m?.[de]??!1,p=de=>j(ve=>({...ve,[de]:!(ve?.[de]??!1)})),E=$.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[k,G]=$.useState({});$.useEffect(()=>{try{const ve=localStorage.getItem(E);if(ve){const Ie=JSON.parse(ve);if(Ie&&typeof Ie=="object"){G(Ie);return}}}catch{}const de=i.groups??[];if(de.length>0){const ve={};for(const Ie of de)ve[Ie.id]=!0;G(ve)}},[E]),$.useEffect(()=>{try{localStorage.setItem(E,JSON.stringify(k))}catch{}},[E,k]);const H=de=>k?.[de]??!0,I=de=>G(ve=>({...ve,[de]:!(ve?.[de]??!0)})),K=$.useRef({flowerId:null,timer:null}),R=de=>{const ve=K.current.timer;ve&&window.clearTimeout(ve),K.current.flowerId=de,K.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:de}),j(Ie=>({...Ie,[de]:!0})),K.current.timer=null,K.current.flowerId=null},200)},V=de=>{const ve=K.current.timer;ve&&K.current.flowerId===de&&window.clearTimeout(ve),K.current.timer=null,K.current.flowerId=null,r({kind:"flower",flowerId:de}),p(de)},P=$.useRef(null),[Q,W]=$.useState({w:520,h:520});$.useEffect(()=>{const de=P.current;if(!de)return;const ve=new ResizeObserver(Ie=>{for(const Nt of Ie){const{width:Oe,height:Wn}=Nt.contentRect;Oe>0&&Wn>0&&W({w:Oe,h:Wn})}});return ve.observe(de),()=>ve.disconnect()},[]);const w=de=>{const ve=P.current;if(!ve)return{x:0,y:0};const Ie=ve.createSVGPoint();Ie.x=de.clientX,Ie.y=de.clientY;const Nt=ve.getScreenCTM();if(!Nt)return{x:0,y:0};const Oe=Ie.matrixTransform(Nt.inverse());return{x:Oe.x,y:Oe.y}},C=500*ln,L=-300*ln,M=800*ln,z=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[T,q]=$.useState(6),[X,O]=$.useState(z[6]),D=$.useCallback(de=>{q(ve=>{const Ie=typeof de=="function"?de(ve):de;return O(z[Ie]),Ie})},[z]),B=$.useCallback(de=>{const ve=Ce(de,z[0],z[z.length-1]);O(ve);let Ie=0,Nt=Math.abs(z[0]-ve);for(let Oe=1;Oe<z.length;Oe++){const Wn=Math.abs(z[Oe]-ve);Wn<Nt&&(Ie=Oe,Nt=Wn)}q(Ie)},[z]),[Y,Z]=$.useState({x:0,y:0}),[le,ce]=$.useState(!0),[fe,oe]=$.useState(!1),ge=$.useRef(null),we=$.useMemo(()=>{const de=Q.w/Q.h,ve=520,Ie=ve*de;return(Nt,Oe=X)=>{const Wn=Ce(Nt.x,-(M*Oe-Ie),-L*Oe),xr=Ce(Nt.y,-(M*Oe-ve),-L*Oe);return{x:Wn,y:xr}}},[Q,X,L,M]),he=$.useMemo(()=>we(Y),[Y,we]),ze=$.useCallback(de=>Z(de),[]),We=$.useMemo(()=>{const de=Q.w/Q.h,ve=520,Ie=ve*de,Nt=-he.x/X,Oe=-he.y/X;return`${Nt} ${Oe} ${Ie/X} ${ve/X}`},[X,he,Q]),{deleteLeafById:tt,handleShiftLeafSelect:lt,groupSelectedLeaves:mt,ungroupLeaves:St,addLeafToGroup:Tt,removeLeafFromGroup:bt,addLeavesToGroup:Ut,mergeLeafGroups:an}=xb({project:i,applyUpdate:o,selection:a,setSelection:r}),{showAddFlowerDialog:Xn,setShowAddFlowerDialog:Jn,addFlowerOpts:Qe,setAddFlowerOpts:vn,addFlower:Sl,confirmAddFlower:nl}=fb({project:i,applyUpdate:o,setSelection:r,setExpandedFlowers:j,zoom:X,pan:he,stageSize:Q,CANVAS_MAX_SVG:C}),{showAddLeafDialog:ll,setShowAddLeafDialog:Cl,addLeafOpts:Wl,setAddLeafOpts:Vn,addLeaf:ci,confirmAddLeaf:Rn}=hb({project:i,applyUpdate:o,setSelection:r,zoom:X,pan:he,stageSize:Q,CANVAS_MAX_SVG:C}),{selectedFlower:Gt,selectedFlowers:pn,selectedLeaf:ke,selectedLeafGroup:xe,selectedLayer:Ee,selectedPetalIndex:Be,selectedPetals:ye,selectedStencil:pe,selectedFlowerId:Ne,groupHighlightedFlowerIds:Me,leafGroupHighlightedLeafIds:_e}=bb(i,a),{deleteFlowerById:Pe,deleteLayerById:Fe,addOuterLayer:Ze,deleteOuterLayer:Xe,deleteSelected:Ae,groupSelectedFlowers:qt,ungroupFlowers:$e,addToGroup:Dt,mergeGroups:rt,addStencil:nt,deleteStencil:ht,handleShiftFlowerSelect:kn,togglePetalSelection:Ql}=ub({project:i,applyUpdate:o,selection:a,setSelection:r,setExpandedFlowers:j,setExpandedGroups:G,zoom:X,pan:he,stageSize:Q,CANVAS_MAX_SVG:C,deleteLeafById:tt,ungroupLeaves:St}),Ge=sm({project:i,selection:a,setSelection:r,applyUpdate:o,dragRef:c.dragRef,zoom:X,pan:he,setPan:ze,stageRef:P,clientToSvgPoint:w,togglePetalSelection:Ql}),[gt,Kt]=$.useState(0),Jt=a.kind,ui=Jt==="flower"?a.flowerId:null,Q0=Jt==="flowers"?a.flowerIds?.join(","):null,P0=Jt==="layer"||Jt==="petal"?a.layerId:null,sr=Jt==="petal"?a.index:null,Pl=Jt==="petals"?a.petals?.length:null;$.useEffect(()=>{Jt!=="project"&&Kt(Date.now())},[Jt,ui,Q0,P0,sr,Pl]),$.useEffect(()=>{if(!ge.current)return;const de=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!de)return;const ve=ge.current.querySelector(`[data-flower-id="${de}"]`);ve&&ve.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const si=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[gt]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:y,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:_?{width:`${b.left}%`}:void 0,children:s.jsx(om,{project:i,selection:a,setSelection:r,expandedFlowers:m,setExpandedFlowers:j,isExpanded:g,toggleExpanded:p,scheduleFlowerRowClick:R,handleFlowerRowDoubleClick:V,addFlower:Sl,deleteSelected:Ae,addOuterLayer:Ze,deleteOuterLayer:Xe,deleteFlowerById:Pe,deleteLayerById:Fe,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:ge,groups:i.groups??[],expandedGroups:k,isGroupExpanded:H,toggleGroupExpanded:I,onSelectGroup:de=>r({kind:"group",groupId:de}),onUngroupFlowers:$e,leaves:i.leaves??[],leafGroups:i.leafGroups??[],onSelectLeaf:de=>r({kind:"leaf",leafId:de}),onSelectLeafGroup:de=>r({kind:"leafGroup",leafGroupId:de}),onAddLeaf:ci,onDeleteLeaf:tt})}),s.jsx(Jd,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:v}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(qm,{project:i,selection:a,setSelection:r,applyUpdate:o,paletteMap:f,selectedFlowerId:Ne,zoom:X,setZoom:B,zoomLevel:T,setZoomLevel:D,ZOOM_LEVELS:z,pan:he,panRaw:Y,setPan:ze,showGrid:le,setShowGrid:ce,showHelp:fe,setShowHelp:oe,stageRef:P,viewBox:We,dashSyncToken:gt,dashDelay:si,beginPan:Ge.beginPan,updatePan:Ge.updatePan,endPan:Ge.endPan,beginMarquee:Ge.beginMarquee,updateMarquee:Ge.updateMarquee,endMarquee:Ge.endMarquee,marqueeRef:Ge.marqueeRef,marqueeRect:Ge.marqueeRect,beginFlowerDrag:Ge.beginFlowerDrag,updateFlowerDrag:Ge.updateFlowerDrag,endFlowerDrag:Ge.endFlowerDrag,scaleDragRef:Ge.scaleDragRef,beginScaleDrag:Ge.beginScaleDrag,updateScaleDrag:Ge.updateScaleDrag,endScaleDrag:Ge.endScaleDrag,rotationDragRef:Ge.rotationDragRef,beginRotationDrag:Ge.beginRotationDrag,updateRotationDrag:Ge.updateRotationDrag,endRotationDrag:Ge.endRotationDrag,widthScaleDragRef:Ge.widthScaleDragRef,beginWidthScaleDrag:Ge.beginWidthScaleDrag,updateWidthScaleDrag:Ge.updateWidthScaleDrag,endWidthScaleDrag:Ge.endWidthScaleDrag,radiusDragRef:Ge.radiusDragRef,beginRadiusDrag:Ge.beginRadiusDrag,updateRadiusDrag:Ge.updateRadiusDrag,endRadiusDrag:Ge.endRadiusDrag,togglePetalSelection:Ql,clientToSvgPoint:w,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:nt,onDeleteStencil:ht,onSelectStencil:de=>r({kind:"stencil",stencilId:de}),handleShiftFlowerSelect:kn,groupHighlightedFlowerIds:Me,leaves:i.leaves??[],leafGroups:i.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:_e,onSelectLeaf:de=>r({kind:"leaf",leafId:de}),onSelectLeafGroup:de=>r({kind:"leafGroup",leafGroupId:de}),onShiftSelectLeaf:lt})}),s.jsx(Jd,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:v}),s.jsx("div",{className:"min-w-0 shrink-0",style:_?{width:`${b.right}%`}:void 0,children:s.jsx(Pm,{project:i,selection:a,applyUpdate:o,selectedFlower:Gt,selectedFlowers:pn,selectedLayer:Ee,selectedPetalIndex:Be,selectedPetals:ye,selectedStencil:pe,onDeleteStencil:ht,groups:i.groups??[],onGroupFlowers:qt,onUngroupFlowers:$e,onAddToGroup:Dt,onMergeGroups:rt,selectedLeaf:ke,selectedLeafGroup:xe,leafGroups:i.leafGroups??[],onDeleteLeaf:tt,onGroupLeaves:mt,onUngroupLeaves:St,onAddLeafToGroup:Tt,onRemoveLeafFromGroup:bt,onAddLeavesToGroup:Ut,onMergeLeafGroups:an})})]}),Xn&&s.jsx(eb,{palette:i.palette,addFlowerOpts:Qe,setAddFlowerOpts:vn,onConfirm:nl,onCancel:()=>Jn(!1)}),ll&&s.jsx(lb,{palette:i.palette,addLeafOpts:Wl,setAddLeafOpts:Vn,onConfirm:Rn,onCancel:()=>Cl(!1)}),fe&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:de=>de.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([de,ve])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:de}),s.jsx("td",{className:"py-2 text-neutral-700",children:ve})]},de))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function vb({cg:c}){const[i,a]=$.useState("w"),[r,o]=$.useState(""),f=c.totalAreaCm2,b=parseFloat(r),h=r!==""&&Number.isFinite(b)&&b>0?Math.round(f/b*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(d=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function pb(c){const{recipe:i}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[i.colors.map(a=>s.jsx(vb,{cg:a},a.colorId)),i.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function yb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function _b(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Sb(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function Cb(){const[c,i]=$.useState("home"),[a,r]=$.useState([]),[o,f]=$.useState(null),[b,y]=$.useState({kind:"project"}),[h,d]=$.useState([]),[v,_]=$.useState(0),N=$.useRef(o),m=$.useRef(h),j=$.useRef(v);$.useEffect(()=>{N.current=o},[o]),$.useEffect(()=>{m.current=h},[h]),$.useEffect(()=>{j.current=v},[v]);const g=$.useRef(null),p=$.useRef(null),E=$.useRef(null),k=$.useRef(null),[G,H]=$.useState(null);$.useEffect(()=>{const O=G?window.setTimeout(()=>H(null),2200):null;return()=>{O&&window.clearTimeout(O)}},[G]),$.useEffect(()=>{r(nr())},[]);function I(O){const D=JSON.stringify(O);d([D]),_(0)}function K(O,D=!0){if(!D){f(we=>{if(!we)return we;const he=Jl(we);return O(he),he.updatedAt=M0(),he});return}const B=N.current;if(!B)return;const Y=Jl(B);O(Y),Y.updatedAt=M0(),f(Y);const Z=m.current,le=j.current;if(Z.length===0){I(Y);return}const ce=JSON.stringify(Y);let oe=[...Z.slice(0,le+1),ce];const ge=50;oe.length>ge&&(oe=oe.slice(oe.length-ge)),d(oe),_(oe.length-1)}function R(){_(O=>{if(O<=0)return O;const D=O-1,B=m.current[D];return B&&f(ga(JSON.parse(B))),H("Undo"),D})}function V(){_(O=>{if(O>=m.current.length-1)return O;const D=O+1,B=m.current[D];return B&&f(ga(JSON.parse(B))),H("Redo"),D})}function P(){if(!o)return;const O=Zh(o);r(nr()),H(O?"Saved":" ")}function Q(){if(!o)return;const O=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),D=URL.createObjectURL(O),B=document.createElement("a");B.href=D,B.download=`${o.title||"tsumami"}.json`,B.click(),URL.revokeObjectURL(D),H("JSON exported")}function W(O){const D=new FileReader;D.onload=()=>{try{const B=JSON.parse(String(D.result??""));if(!B||typeof B!="object"||!Array.isArray(B.flowers))throw new Error("Invalid JSON");const Y=ga(B);f(Y),y({kind:"project"}),I(Y),i("editor"),H("Imported")}catch{H("Import failed")}},D.readAsText(O)}function w(O){const D=ga(O);f(D),y({kind:"project"}),I(D),i("editor")}function C(O){return O&&(O.kind==="flower"||O.kind==="layer"||O.kind==="petal")?O.flowerId:null}function L(){if(!o)return;const O=C(b);if(!O)return;const D=o.flowers.find(B=>B.id===O);D&&(p.current=Jl(D),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:D},null,2)).catch(()=>{}),H("Flower copied"))}function M(){if(!o||b.kind!=="leaf")return;const O=(o.leaves??[]).find(D=>D.id===b.leafId);O&&(E.current=Jl(O),H("Leaf copied"))}function z(){if(!o)return;const O=p.current;if(!O){H("Nothing to paste");return}const D=Oh(O,{x:12+Math.random()*10,y:12+Math.random()*10});K(B=>{B.flowers.push(D)},!0),y({kind:"flower",flowerId:D.id}),H("Flower pasted")}function T(){if(!o)return;const O=E.current;if(!O)return;const D=Ht("leaf"),B={...Jl(O),id:D,name:O.name+" (copy)",position:{x:O.position.x+30,y:O.position.y+30}};K(Y=>{Y.leaves||(Y.leaves=[]),Y.leaves.push(B)},!0),y({kind:"leaf",leafId:B.id}),H("Leaf pasted")}function q(O){if(!o)return;const D=C(b);D&&(K(B=>{const Y=B.flowers.findIndex(fe=>fe.id===D);if(Y<0)return;const Z=B.flowers,le=Z[Y];if(!le)return;if(Z.splice(Y,1),O==="front"){Z.push(le);return}if(O==="back"){Z.unshift(le);return}if(O==="forward"){if(Y>=Z.length){Z.push(le);return}Z.splice(Y+1,0,le);return}const ce=Ce(Y-1,0,Z.length);Z.splice(ce,0,le)},!0),H(O==="front"?"Brought to front":O==="back"?"Sent to back":O==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function O(B){const Y=B;if(!Y)return!1;const Z=String(Y.tagName||"").toLowerCase();return Z==="input"||Z==="textarea"||Z==="select"||!!Y.isContentEditable}function D(B){if(!(O(B.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?B.metaKey:B.ctrlKey))){if(c==="editor"){if(B.key.toLowerCase()==="c"){B.preventDefault(),b.kind==="leaf"?M():L();return}if(B.key.toLowerCase()==="v"){B.preventDefault(),E.current&&(b.kind==="leaf"||b.kind==="leaves"||b.kind==="leafGroup"||!p.current)?T():z();return}}B.key.toLowerCase()==="z"&&(B.preventDefault(),B.shiftKey?V():R()),B.key.toLowerCase()==="s"&&(B.preventDefault(),P())}}return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[o,h,v,b,c]);const X=$.useMemo(()=>o?Vh(o):null,[o]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx($h,{view:c,onNavigate:i,project:o,onSave:P,onLoad:()=>i("home"),onImportJson:()=>k.current?.click(),onExportJson:Q,onExportSvg:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&o&&Qh(O,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&o&&Ph(O,`${o.title||"tsumami"}.png`)}}),s.jsx("input",{ref:k,type:"file",accept:"application/json",className:"hidden",onChange:O=>{const D=O.target.files?.[0];D&&W(D),O.currentTarget.value=""}}),G&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:G}),s.jsxs("main",{className:"flex-1",children:[c==="home"&&s.jsx(em,{saved:a,onNew:()=>i("new"),onOpen:O=>{const D=ga(Jl(O));f(D),y({kind:"project"}),I(D),i("editor")},onDelete:O=>{Xh(O),r(nr()),H("Deleted")}}),c==="new"&&s.jsx(tm,{onBack:()=>i("home"),onCreate:O=>{const D=Ih({title:O});w(D)}}),c==="editor"&&o&&s.jsx(gb,{project:o,selection:b,setSelection:y,applyUpdate:K,onGoRecipe:()=>i("recipe"),onImport:W,dragRef:g,onCopyFlower:L,onPasteFlower:z,onArrangeFlower:q,canPasteFlower:!!p.current,onUndo:R,onRedo:V,canUndo:v>0,canRedo:v<h.length-1}),c==="recipe"&&o&&X&&s.jsx(pb,{project:o,recipe:X,onBack:()=>i("editor"),onExportJson:Q}),c==="terms"&&s.jsx(yb,{onBack:()=>i("home")}),c==="privacy"&&s.jsx(_b,{onBack:()=>i("home")}),(c==="editor"||c==="recipe")&&!o&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(Sb,{onNavigate:i})]})}class wb extends $.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}wh.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(wb,{children:s.jsx(Cb,{})})}));

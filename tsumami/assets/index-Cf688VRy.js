(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const y of h.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function i(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(f){if(f.ep)return;f.ep=!0;const h=i(f);fetch(f.href,h)}})();var Hs={exports:{}},Pi={};var $x;function O1(){if($x)return Pi;$x=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function i(c,f,h){var y=null;if(h!==void 0&&(y=""+h),f.key!==void 0&&(y=""+f.key),"key"in f){h={};for(var M in f)M!=="key"&&(h[M]=f[M])}else h=f;return f=h.ref,{$$typeof:o,type:c,key:y,ref:f!==void 0?f:null,props:h}}return Pi.Fragment=s,Pi.jsx=i,Pi.jsxs=i,Pi}var ed;function B1(){return ed||(ed=1,Hs.exports=O1()),Hs.exports}var u=B1(),Us={exports:{}},Ke={};var td;function L1(){if(td)return Ke;td=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),y=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),p=Symbol.iterator;function m(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function J(z,K,xe){this.props=z,this.context=K,this.refs=A,this.updater=xe||S}J.prototype.isReactComponent={},J.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},J.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function q(){}q.prototype=J.prototype;function B(z,K,xe){this.props=z,this.context=K,this.refs=A,this.updater=xe||S}var O=B.prototype=new q;O.constructor=B,j(O,J.prototype),O.isPureReactComponent=!0;var L=Array.isArray;function P(){}var ae={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function ue(z,K,xe){var he=xe.ref;return{$$typeof:o,type:z,key:K,ref:he!==void 0?he:null,props:xe}}function me(z,K){return ue(z.type,K,z.props)}function qe(z){return typeof z=="object"&&z!==null&&z.$$typeof===o}function He(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(xe){return K[xe]})}var Te=/\/+/g;function Ve(z,K){return typeof z=="object"&&z!==null&&z.key!=null?He(""+z.key):K.toString(36)}function We(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(P,P):(z.status="pending",z.then(function(K){z.status==="pending"&&(z.status="fulfilled",z.value=K)},function(K){z.status==="pending"&&(z.status="rejected",z.reason=K)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function U(z,K,xe,he,we){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var w=!1;if(z===null)w=!0;else switch(Re){case"bigint":case"string":case"number":w=!0;break;case"object":switch(z.$$typeof){case o:case s:w=!0;break;case g:return w=z._init,U(w(z._payload),K,xe,he,we)}}if(w)return we=we(z),w=he===""?"."+Ve(z,0):he,L(we)?(xe="",w!=null&&(xe=w.replace(Te,"$&/")+"/"),U(we,K,xe,"",function(le){return le})):we!=null&&(qe(we)&&(we=me(we,xe+(we.key==null||z&&z.key===we.key?"":(""+we.key).replace(Te,"$&/")+"/")+w)),K.push(we)),1;w=0;var C=he===""?".":he+":";if(L(z))for(var V=0;V<z.length;V++)he=z[V],Re=C+Ve(he,V),w+=U(he,K,xe,Re,we);else if(V=m(z),typeof V=="function")for(z=V.call(z),V=0;!(he=z.next()).done;)he=he.value,Re=C+Ve(he,V++),w+=U(he,K,xe,Re,we);else if(Re==="object"){if(typeof z.then=="function")return U(We(z),K,xe,he,we);throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return w}function Z(z,K,xe){if(z==null)return z;var he=[],we=0;return U(z,he,"","",function(Re){return K.call(xe,Re,we++)}),he}function ee(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(xe){(z._status===0||z._status===-1)&&(z._status=1,z._result=xe)},function(xe){(z._status===0||z._status===-1)&&(z._status=2,z._result=xe)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var fe=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Me={map:Z,forEach:function(z,K,xe){Z(z,function(){K.apply(this,arguments)},xe)},count:function(z){var K=0;return Z(z,function(){K++}),K},toArray:function(z){return Z(z,function(K){return K})||[]},only:function(z){if(!qe(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ke.Activity=b,Ke.Children=Me,Ke.Component=J,Ke.Fragment=i,Ke.Profiler=f,Ke.PureComponent=B,Ke.StrictMode=c,Ke.Suspense=v,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(z){return ae.H.useMemoCache(z)}},Ke.cache=function(z){return function(){return z.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(z,K,xe){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var he=j({},z.props),we=z.key;if(K!=null)for(Re in K.key!==void 0&&(we=""+K.key),K)!ie.call(K,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&K.ref===void 0||(he[Re]=K[Re]);var Re=arguments.length-2;if(Re===1)he.children=xe;else if(1<Re){for(var w=Array(Re),C=0;C<Re;C++)w[C]=arguments[C+2];he.children=w}return ue(z.type,we,he)},Ke.createContext=function(z){return z={$$typeof:y,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:h,_context:z},z},Ke.createElement=function(z,K,xe){var he,we={},Re=null;if(K!=null)for(he in K.key!==void 0&&(Re=""+K.key),K)ie.call(K,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(we[he]=K[he]);var w=arguments.length-2;if(w===1)we.children=xe;else if(1<w){for(var C=Array(w),V=0;V<w;V++)C[V]=arguments[V+2];we.children=C}if(z&&z.defaultProps)for(he in w=z.defaultProps,w)we[he]===void 0&&(we[he]=w[he]);return ue(z,Re,we)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(z){return{$$typeof:M,render:z}},Ke.isValidElement=qe,Ke.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ee}},Ke.memo=function(z,K){return{$$typeof:d,type:z,compare:K===void 0?null:K}},Ke.startTransition=function(z){var K=ae.T,xe={};ae.T=xe;try{var he=z(),we=ae.S;we!==null&&we(xe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(P,fe)}catch(Re){fe(Re)}finally{K!==null&&xe.types!==null&&(K.types=xe.types),ae.T=K}},Ke.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ke.use=function(z){return ae.H.use(z)},Ke.useActionState=function(z,K,xe){return ae.H.useActionState(z,K,xe)},Ke.useCallback=function(z,K){return ae.H.useCallback(z,K)},Ke.useContext=function(z){return ae.H.useContext(z)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(z,K){return ae.H.useDeferredValue(z,K)},Ke.useEffect=function(z,K){return ae.H.useEffect(z,K)},Ke.useEffectEvent=function(z){return ae.H.useEffectEvent(z)},Ke.useId=function(){return ae.H.useId()},Ke.useImperativeHandle=function(z,K,xe){return ae.H.useImperativeHandle(z,K,xe)},Ke.useInsertionEffect=function(z,K){return ae.H.useInsertionEffect(z,K)},Ke.useLayoutEffect=function(z,K){return ae.H.useLayoutEffect(z,K)},Ke.useMemo=function(z,K){return ae.H.useMemo(z,K)},Ke.useOptimistic=function(z,K){return ae.H.useOptimistic(z,K)},Ke.useReducer=function(z,K,xe){return ae.H.useReducer(z,K,xe)},Ke.useRef=function(z){return ae.H.useRef(z)},Ke.useState=function(z){return ae.H.useState(z)},Ke.useSyncExternalStore=function(z,K,xe){return ae.H.useSyncExternalStore(z,K,xe)},Ke.useTransition=function(){return ae.H.useTransition()},Ke.version="19.2.3",Ke}var nd;function f0(){return nd||(nd=1,Us.exports=L1()),Us.exports}var W=f0(),Zs={exports:{}},$i={},Xs={exports:{}},Is={};var ld;function R1(){return ld||(ld=1,(function(o){function s(U,Z){var ee=U.length;U.push(Z);e:for(;0<ee;){var fe=ee-1>>>1,Me=U[fe];if(0<f(Me,Z))U[fe]=Z,U[ee]=Me,ee=fe;else break e}}function i(U){return U.length===0?null:U[0]}function c(U){if(U.length===0)return null;var Z=U[0],ee=U.pop();if(ee!==Z){U[0]=ee;e:for(var fe=0,Me=U.length,z=Me>>>1;fe<z;){var K=2*(fe+1)-1,xe=U[K],he=K+1,we=U[he];if(0>f(xe,ee))he<Me&&0>f(we,xe)?(U[fe]=we,U[he]=ee,fe=he):(U[fe]=xe,U[K]=ee,fe=K);else if(he<Me&&0>f(we,ee))U[fe]=we,U[he]=ee,fe=he;else break e}}return Z}function f(U,Z){var ee=U.sortIndex-Z.sortIndex;return ee!==0?ee:U.id-Z.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;o.unstable_now=function(){return h.now()}}else{var y=Date,M=y.now();o.unstable_now=function(){return y.now()-M}}var v=[],d=[],g=1,b=null,p=3,m=!1,S=!1,j=!1,A=!1,J=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function O(U){for(var Z=i(d);Z!==null;){if(Z.callback===null)c(d);else if(Z.startTime<=U)c(d),Z.sortIndex=Z.expirationTime,s(v,Z);else break;Z=i(d)}}function L(U){if(j=!1,O(U),!S)if(i(v)!==null)S=!0,P||(P=!0,He());else{var Z=i(d);Z!==null&&We(L,Z.startTime-U)}}var P=!1,ae=-1,ie=5,ue=-1;function me(){return A?!0:!(o.unstable_now()-ue<ie)}function qe(){if(A=!1,P){var U=o.unstable_now();ue=U;var Z=!0;try{e:{S=!1,j&&(j=!1,q(ae),ae=-1),m=!0;var ee=p;try{t:{for(O(U),b=i(v);b!==null&&!(b.expirationTime>U&&me());){var fe=b.callback;if(typeof fe=="function"){b.callback=null,p=b.priorityLevel;var Me=fe(b.expirationTime<=U);if(U=o.unstable_now(),typeof Me=="function"){b.callback=Me,O(U),Z=!0;break t}b===i(v)&&c(v),O(U)}else c(v);b=i(v)}if(b!==null)Z=!0;else{var z=i(d);z!==null&&We(L,z.startTime-U),Z=!1}}break e}finally{b=null,p=ee,m=!1}Z=void 0}}finally{Z?He():P=!1}}}var He;if(typeof B=="function")He=function(){B(qe)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Ve=Te.port2;Te.port1.onmessage=qe,He=function(){Ve.postMessage(null)}}else He=function(){J(qe,0)};function We(U,Z){ae=J(function(){U(o.unstable_now())},Z)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(U){U.callback=null},o.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<U?Math.floor(1e3/U):5},o.unstable_getCurrentPriorityLevel=function(){return p},o.unstable_next=function(U){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ee=p;p=Z;try{return U()}finally{p=ee}},o.unstable_requestPaint=function(){A=!0},o.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=p;p=U;try{return Z()}finally{p=ee}},o.unstable_scheduleCallback=function(U,Z,ee){var fe=o.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?fe+ee:fe):ee=fe,U){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ee+Me,U={id:g++,callback:Z,priorityLevel:U,startTime:ee,expirationTime:Me,sortIndex:-1},ee>fe?(U.sortIndex=ee,s(d,U),i(v)===null&&U===i(d)&&(j?(q(ae),ae=-1):j=!0,We(L,ee-fe))):(U.sortIndex=Me,s(v,U),S||m||(S=!0,P||(P=!0,He()))),U},o.unstable_shouldYield=me,o.unstable_wrapCallback=function(U){var Z=p;return function(){var ee=p;p=Z;try{return U.apply(this,arguments)}finally{p=ee}}}})(Is)),Is}var ad;function k1(){return ad||(ad=1,Xs.exports=R1()),Xs.exports}var Ks={exports:{}},$t={};var id;function G1(){if(id)return $t;id=1;var o=f0();function s(v){var d="https://react.dev/errors/"+v;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+v+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var c={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},f=Symbol.for("react.portal");function h(v,d,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:b==null?null:""+b,children:v,containerInfo:d,implementation:g}}var y=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function M(v,d){if(v==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,$t.createPortal=function(v,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(s(299));return h(v,d,null,g)},$t.flushSync=function(v){var d=y.T,g=c.p;try{if(y.T=null,c.p=2,v)return v()}finally{y.T=d,c.p=g,c.d.f()}},$t.preconnect=function(v,d){typeof v=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,c.d.C(v,d))},$t.prefetchDNS=function(v){typeof v=="string"&&c.d.D(v)},$t.preinit=function(v,d){if(typeof v=="string"&&d&&typeof d.as=="string"){var g=d.as,b=M(g,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?c.d.S(v,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:b,integrity:p,fetchPriority:m}):g==="script"&&c.d.X(v,{crossOrigin:b,integrity:p,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},$t.preinitModule=function(v,d){if(typeof v=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=M(d.as,d.crossOrigin);c.d.M(v,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&c.d.M(v)},$t.preload=function(v,d){if(typeof v=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,b=M(g,d.crossOrigin);c.d.L(v,g,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},$t.preloadModule=function(v,d){if(typeof v=="string")if(d){var g=M(d.as,d.crossOrigin);c.d.m(v,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else c.d.m(v)},$t.requestFormReset=function(v){c.d.r(v)},$t.unstable_batchedUpdates=function(v,d){return v(d)},$t.useFormState=function(v,d,g){return y.H.useFormState(v,d,g)},$t.useFormStatus=function(){return y.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var rd;function Y1(){if(rd)return Ks.exports;rd=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),Ks.exports=G1(),Ks.exports}var ud;function H1(){if(ud)return $i;ud=1;var o=k1(),s=f0(),i=Y1();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function M(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(c(188))}function d(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,l=t;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(l=a.return,l!==null){n=l;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return v(a),e;if(r===l)return v(a),t;r=r.sibling}throw Error(c(188))}if(n.return!==l.return)n=a,l=r;else{for(var x=!1,_=a.child;_;){if(_===n){x=!0,n=a,l=r;break}if(_===l){x=!0,l=a,n=r;break}_=_.sibling}if(!x){for(_=r.child;_;){if(_===n){x=!0,n=r,l=a;break}if(_===l){x=!0,l=r,n=a;break}_=_.sibling}if(!x)throw Error(c(189))}}if(n.alternate!==l)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),qe=Symbol.iterator;function He(e){return e===null||typeof e!="object"?null:(e=qe&&e[qe]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case J:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case B:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return t=e.displayName||null,t!==null?t:Ve(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return Ve(e(t))}catch{}}return null}var We=Array.isArray,U=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},fe=[],Me=-1;function z(e){return{current:e}}function K(e){0>Me||(e.current=fe[Me],fe[Me]=null,Me--)}function xe(e,t){Me++,fe[Me]=e.current,e.current=t}var he=z(null),we=z(null),Re=z(null),w=z(null);function C(e,t){switch(xe(Re,t),xe(we,e),xe(he,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sx(t),e=jx(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(he),xe(he,e)}function V(){K(he),K(we),K(Re)}function le(e){e.memoizedState!==null&&xe(w,e);var t=he.current,n=jx(t,e.type);t!==n&&(xe(we,e),xe(he,n))}function X(e){we.current===e&&(K(he),K(we)),w.current===e&&(K(w),Vi._currentValue=ee)}var Ae,ke;function ge(e){if(Ae===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ae=t&&t[1]||"",ke=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ae+e+ke}var ye=!1;function ve(e,t){if(!e||ye)return"";ye=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(I){var H=I}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(I){H=I}e.call(ne.prototype)}}else{try{throw Error()}catch(I){H=I}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(I){if(I&&H&&typeof I.stack=="string")return[I.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=l.DetermineComponentFrameRoot(),x=r[0],_=r[1];if(x&&_){var N=x.split(`
`),G=_.split(`
`);for(a=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;a<G.length&&!G[a].includes("DetermineComponentFrameRoot");)a++;if(l===N.length||a===G.length)for(l=N.length-1,a=G.length-1;1<=l&&0<=a&&N[l]!==G[a];)a--;for(;1<=l&&0<=a;l--,a--)if(N[l]!==G[a]){if(l!==1||a!==1)do if(l--,a--,0>a||N[l]!==G[a]){var F=`
`+N[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=a);break}}}finally{ye=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ge(n):""}function Ee(e,t){switch(e.tag){case 26:case 27:case 5:return ge(e.type);case 16:return ge("Lazy");case 13:return e.child!==t&&t!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return ve(e.type,!1);case 11:return ve(e.type.render,!1);case 1:return ve(e.type,!0);case 31:return ge("Activity");default:return""}}function ce(e){try{var t="",n=null;do t+=Ee(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,Be=o.unstable_scheduleCallback,ft=o.unstable_cancelCallback,dt=o.unstable_shouldYield,_t=o.unstable_requestPaint,rt=o.unstable_now,jt=o.unstable_getCurrentPriorityLevel,$e=o.unstable_ImmediatePriority,Ft=o.unstable_UserBlockingPriority,Xt=o.unstable_NormalPriority,bn=o.unstable_LowPriority,Jn=o.unstable_IdlePriority,Nt=o.log,gn=o.unstable_setDisableYieldValue,kn=null,Yt=null;function nn(e){if(typeof Nt=="function"&&gn(e),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(kn,e)}catch{}}var qt=Math.clz32?Math.clz32:_a,si=Math.log,Ql=Math.LN2;function _a(e){return e>>>=0,e===0?32:31-(si(e)/Ql|0)|0}var E=256,oe=262144,be=4194304;function pe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ze(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var a=0,r=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~r,l!==0?a=pe(l):(x&=_,x!==0?a=pe(x):n||(n=_&~e,n!==0&&(a=pe(n))))):(_=l&~r,_!==0?a=pe(_):x!==0?a=pe(x):n||(n=l&~e,n!==0&&(a=pe(n)))),a===0?0:t!==0&&t!==a&&(t&r)===0&&(r=a&-a,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:a}function Ue(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ge(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oe(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function ut(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function et(e,t,n,l,a,r){var x=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var _=e.entanglements,N=e.expirationTimes,G=e.hiddenUpdates;for(n=x&~n;0<n;){var F=31-qt(n),ne=1<<F;_[F]=0,N[F]=-1;var H=G[F];if(H!==null)for(G[F]=null,F=0;F<H.length;F++){var I=H[F];I!==null&&(I.lane&=-536870913)}n&=~ne}l!==0&&Pe(e,l,0),r!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=r&~(x&~t))}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-qt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function T(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-qt(n),a=1<<l;a&t|e[l]&t&&(e[l]|=t),n&=~a}}function Y(e,t){var n=t&-t;return n=(n&42)!==0?1:Q(n),(n&(e.suspendedLanes|t))!==0?0:n}function Q(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function te(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function se(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Kx(e.type))}function de(e,t){var n=Z.p;try{return Z.p=e,t()}finally{Z.p=n}}var _e=Math.random().toString(36).slice(2),Ce="__reactFiber$"+_e,Ne="__reactProps$"+_e,Ze="__reactContainer$"+_e,Xe="__reactEvents$"+_e,ct="__reactListeners$"+_e,Pt="__reactHandles$"+_e,Gn="__reactResources$"+_e,ln="__reactMarker$"+_e;function Fl(e){delete e[Ce],delete e[Ne],delete e[Xe],delete e[ct],delete e[Pt]}function Cn(e){var t=e[Ce];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ze]||n[Ce]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ax(e);e!==null;){if(n=e[Ce])return n;e=Ax(e)}return t}e=n,n=e.parentNode}return null}function Ot(e){if(e=e[Ce]||e[Ze]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Mn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Yn(e){var t=e[Gn];return t||(t=e[Gn]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Bt(e){e[ln]=!0}var pl=new Set,_l={};function Vn(e,t){nl(e,t),nl(e+"Capture",t)}function nl(e,t){for(_l[e]=t,e=0;e<t.length;e++)pl.add(t[e])}var oi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vt={},Wn={};function Sa(e){return Se.call(Wn,e)?!0:Se.call(vt,e)?!1:oi.test(e)?Wn[e]=!0:(vt[e]=!0,!1)}function Sl(e,t,n){if(Sa(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function jl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function zn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ur(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var a=l.get,r=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(x){n=""+x,r.call(this,x)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(x){n=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $l(e){if(!e._valueTracker){var t=Pl(e)?"checked":"value";e._valueTracker=ur(e,t,""+e[t])}}function qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Pl(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function ja(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ou=/[\n"\\]/g;function an(e){return e.replace(Ou,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Bu(e,t,n,l,a,r,x,_){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Lu(e,x,It(t)):n!=null?Lu(e,x,It(n)):l!=null&&e.removeAttribute("value"),a==null&&r!=null&&(e.defaultChecked=!!r),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+It(_):e.removeAttribute("name")}function h0(e,t,n,l,a,r,x,_){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){$l(e);return}n=n!=null?""+It(n):"",t=t!=null?""+It(t):n,_||t===e.value||(e.value=t),e.defaultValue=t}l=l??a,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),$l(e)}function Lu(e,t,n){t==="number"&&ja(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wa(e,t,n,l){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&l&&(e[n].defaultSelected=!0)}else{for(n=""+It(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function m0(e,t,n){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+It(n):""}function b0(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(c(92));if(We(l)){if(1<l.length)throw Error(c(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=It(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),$l(e)}function Ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Dd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function g0(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||Dd.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function y0(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var a in t)l=t[a],t.hasOwnProperty(a)&&n[a]!==l&&g0(e,a,l)}else for(var r in t)t.hasOwnProperty(r)&&g0(e,r,t[r])}function Ru(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ad=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Td=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(e){return Td.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ll(){}var ku=null;function Gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,za=null;function v0(e){var t=Ot(e);if(t&&(e=t.stateNode)){var n=e[Ne]||null;e:switch(e=t.stateNode,t.type){case"input":if(Bu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+an(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var a=l[Ne]||null;if(!a)throw Error(c(90));Bu(l,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&qu(l)}break e;case"textarea":m0(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wa(e,!!n.multiple,t,!1)}}}var Yu=!1;function p0(e,t,n){if(Yu)return e(t,n);Yu=!0;try{var l=e(t);return l}finally{if(Yu=!1,(Ma!==null||za!==null)&&(Wr(),Ma&&(t=Ma,e=za,za=Ma=null,v0(t),e)))for(t=0;t<e.length;t++)v0(e[t])}}function fi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ne]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hu=!1;if(al)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){Hu=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Hu=!1}var wl=null,Uu=null,sr=null;function _0(){if(sr)return sr;var e,t=Uu,n=t.length,l,a="value"in wl?wl.value:wl.textContent,r=a.length;for(e=0;e<n&&t[e]===a[e];e++);var x=n-e;for(l=1;l<=x&&t[n-l]===a[r-l];l++);return sr=a.slice(e,1<l?1-l:void 0)}function or(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fr(){return!0}function S0(){return!1}function rn(e){function t(n,l,a,r,x){this._reactName=n,this._targetInst=a,this.type=l,this.nativeEvent=r,this.target=x,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(n=e[_],this[_]=n?n(r):r[_]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?fr:S0,this.isPropagationStopped=S0,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),t}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=rn(ea),di=b({},ea,{view:0,detail:0}),Ed=rn(di),Zu,Xu,hi,dr=b({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ku,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(Zu=e.screenX-hi.screenX,Xu=e.screenY-hi.screenY):Xu=Zu=0,hi=e),Zu)},movementY:function(e){return"movementY"in e?e.movementY:Xu}}),j0=rn(dr),qd=b({},dr,{dataTransfer:0}),Od=rn(qd),Bd=b({},di,{relatedTarget:0}),Iu=rn(Bd),Ld=b({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),Rd=rn(Ld),kd=b({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gd=rn(kd),Yd=b({},ea,{data:0}),w0=rn(Yd),Hd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zd[e])?!!t[e]:!1}function Ku(){return Xd}var Id=b({},di,{key:function(e){if(e.key){var t=Hd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ud[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ku,charCode:function(e){return e.type==="keypress"?or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kd=rn(Id),Jd=b({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C0=rn(Jd),Vd=b({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ku}),Wd=rn(Vd),Qd=b({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fd=rn(Qd),Pd=b({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$d=rn(Pd),e2=b({},ea,{newState:0,oldState:0}),t2=rn(e2),n2=[9,13,27,32],Ju=al&&"CompositionEvent"in window,mi=null;al&&"documentMode"in document&&(mi=document.documentMode);var l2=al&&"TextEvent"in window&&!mi,M0=al&&(!Ju||mi&&8<mi&&11>=mi),z0=" ",N0=!1;function D0(e,t){switch(e){case"keyup":return n2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function a2(e,t){switch(e){case"compositionend":return A0(t);case"keypress":return t.which!==32?null:(N0=!0,z0);case"textInput":return e=t.data,e===z0&&N0?null:e;default:return null}}function i2(e,t){if(Na)return e==="compositionend"||!Ju&&D0(e,t)?(e=_0(),sr=Uu=wl=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M0&&t.locale!=="ko"?null:t.data;default:return null}}var r2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!r2[e.type]:t==="textarea"}function E0(e,t,n,l){Ma?za?za.push(l):za=[l]:Ma=l,t=nu(t,"onChange"),0<t.length&&(n=new xr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var bi=null,gi=null;function u2(e){bx(e,0)}function hr(e){var t=Mn(e);if(qu(t))return e}function q0(e,t){if(e==="change")return t}var O0=!1;if(al){var Vu;if(al){var Wu="oninput"in document;if(!Wu){var B0=document.createElement("div");B0.setAttribute("oninput","return;"),Wu=typeof B0.oninput=="function"}Vu=Wu}else Vu=!1;O0=Vu&&(!document.documentMode||9<document.documentMode)}function L0(){bi&&(bi.detachEvent("onpropertychange",R0),gi=bi=null)}function R0(e){if(e.propertyName==="value"&&hr(gi)){var t=[];E0(t,gi,e,Gu(e)),p0(u2,t)}}function c2(e,t,n){e==="focusin"?(L0(),bi=t,gi=n,bi.attachEvent("onpropertychange",R0)):e==="focusout"&&L0()}function s2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hr(gi)}function o2(e,t){if(e==="click")return hr(t)}function f2(e,t){if(e==="input"||e==="change")return hr(t)}function x2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:x2;function yi(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var a=n[l];if(!Se.call(t,a)||!yn(e[a],t[a]))return!1}return!0}function k0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function G0(e,t){var n=k0(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k0(n)}}function Y0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Y0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function H0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ja(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ja(e.document)}return t}function Qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var d2=al&&"documentMode"in document&&11>=document.documentMode,Da=null,Fu=null,vi=null,Pu=!1;function U0(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pu||Da==null||Da!==ja(l)||(l=Da,"selectionStart"in l&&Qu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vi&&yi(vi,l)||(vi=l,l=nu(Fu,"onSelect"),0<l.length&&(t=new xr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Da)))}function ta(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aa={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},$u={},Z0={};al&&(Z0=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function na(e){if($u[e])return $u[e];if(!Aa[e])return e;var t=Aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Z0)return $u[e]=t[n];return e}var X0=na("animationend"),I0=na("animationiteration"),K0=na("animationstart"),h2=na("transitionrun"),m2=na("transitionstart"),b2=na("transitioncancel"),J0=na("transitionend"),V0=new Map,ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ec.push("scrollEnd");function Hn(e,t){V0.set(e,t),Vn(t,[e])}var mr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],Ta=0,tc=0;function br(){for(var e=Ta,t=tc=Ta=0;t<e;){var n=Nn[t];Nn[t++]=null;var l=Nn[t];Nn[t++]=null;var a=Nn[t];Nn[t++]=null;var r=Nn[t];if(Nn[t++]=null,l!==null&&a!==null){var x=l.pending;x===null?a.next=a:(a.next=x.next,x.next=a),l.pending=a}r!==0&&W0(n,a,r)}}function gr(e,t,n,l){Nn[Ta++]=e,Nn[Ta++]=t,Nn[Ta++]=n,Nn[Ta++]=l,tc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function nc(e,t,n,l){return gr(e,t,n,l),yr(e)}function la(e,t){return gr(e,null,null,t),yr(e)}function W0(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var a=!1,r=e.return;r!==null;)r.childLanes|=n,l=r.alternate,l!==null&&(l.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(a=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,a&&t!==null&&(a=31-qt(n),e=r.hiddenUpdates,l=e[a],l===null?e[a]=[t]:l.push(t),t.lane=n|536870912),r):null}function yr(e){if(50<Hi)throw Hi=0,fs=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ea={};function g2(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,n,l){return new g2(e,t,n,l)}function lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function il(e,t){var n=e.alternate;return n===null?(n=vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Q0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vr(e,t,n,l,a,r){var x=0;if(l=e,typeof e=="function")lc(e)&&(x=1);else if(typeof e=="string")x=S1(e,n,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=vn(31,n,t,a),e.elementType=ue,e.lanes=r,e;case j:return aa(n.children,a,r,t);case A:x=8,a|=24;break;case J:return e=vn(12,n,t,a|2),e.elementType=J,e.lanes=r,e;case L:return e=vn(13,n,t,a),e.elementType=L,e.lanes=r,e;case P:return e=vn(19,n,t,a),e.elementType=P,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:x=10;break e;case q:x=9;break e;case O:x=11;break e;case ae:x=14;break e;case ie:x=16,l=null;break e}x=29,n=Error(c(130,e===null?"null":typeof e,"")),l=null}return t=vn(x,n,t,a),t.elementType=e,t.type=l,t.lanes=r,t}function aa(e,t,n,l){return e=vn(7,e,l,t),e.lanes=n,e}function ac(e,t,n){return e=vn(6,e,null,t),e.lanes=n,e}function F0(e){var t=vn(18,null,null,0);return t.stateNode=e,t}function ic(e,t,n){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var P0=new WeakMap;function Dn(e,t){if(typeof e=="object"&&e!==null){var n=P0.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ce(t)},P0.set(e,t),t)}return{value:e,source:t,stack:ce(t)}}var qa=[],Oa=0,pr=null,pi=0,An=[],Tn=0,Cl=null,Qn=1,Fn="";function rl(e,t){qa[Oa++]=pi,qa[Oa++]=pr,pr=e,pi=t}function $0(e,t,n){An[Tn++]=Qn,An[Tn++]=Fn,An[Tn++]=Cl,Cl=e;var l=Qn;e=Fn;var a=32-qt(l)-1;l&=~(1<<a),n+=1;var r=32-qt(t)+a;if(30<r){var x=a-a%5;r=(l&(1<<x)-1).toString(32),l>>=x,a-=x,Qn=1<<32-qt(t)+a|n<<a|l,Fn=r+e}else Qn=1<<r|n<<a|l,Fn=e}function rc(e){e.return!==null&&(rl(e,1),$0(e,1,0))}function uc(e){for(;e===pr;)pr=qa[--Oa],qa[Oa]=null,pi=qa[--Oa],qa[Oa]=null;for(;e===Cl;)Cl=An[--Tn],An[Tn]=null,Fn=An[--Tn],An[Tn]=null,Qn=An[--Tn],An[Tn]=null}function eo(e,t){An[Tn++]=Qn,An[Tn++]=Fn,An[Tn++]=Cl,Qn=t.id,Fn=t.overflow,Cl=e}var Kt=null,wt=null,it=!1,Ml=null,En=!1,cc=Error(c(519));function zl(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _i(Dn(t,e)),cc}function to(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Ce]=e,t[Ne]=l,n){case"dialog":nt("cancel",t),nt("close",t);break;case"iframe":case"object":case"embed":nt("load",t);break;case"video":case"audio":for(n=0;n<Zi.length;n++)nt(Zi[n],t);break;case"source":nt("error",t);break;case"img":case"image":case"link":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"input":nt("invalid",t),h0(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":nt("invalid",t);break;case"textarea":nt("invalid",t),b0(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||px(t.textContent,n)?(l.popover!=null&&(nt("beforetoggle",t),nt("toggle",t)),l.onScroll!=null&&nt("scroll",t),l.onScrollEnd!=null&&nt("scrollend",t),l.onClick!=null&&(t.onclick=ll),t=!0):t=!1,t||zl(e,!0)}function no(e){for(Kt=e.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:En=!1;return;case 27:case 3:En=!0;return;default:Kt=Kt.return}}function Ba(e){if(e!==Kt)return!1;if(!it)return no(e),it=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ms(e.type,e.memoizedProps)),n=!n),n&&wt&&zl(e),no(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));wt=Dx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));wt=Dx(e)}else t===27?(t=wt,Hl(e.type)?(e=Ts,Ts=null,wt=e):wt=t):wt=Kt?On(e.stateNode.nextSibling):null;return!0}function ia(){wt=Kt=null,it=!1}function sc(){var e=Ml;return e!==null&&(on===null?on=e:on.push.apply(on,e),Ml=null),e}function _i(e){Ml===null?Ml=[e]:Ml.push(e)}var oc=z(null),ra=null,ul=null;function Nl(e,t,n){xe(oc,t._currentValue),t._currentValue=n}function cl(e){e._currentValue=oc.current,K(oc)}function fc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function xc(e,t,n,l){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var r=a.dependencies;if(r!==null){var x=a.child;r=r.firstContext;e:for(;r!==null;){var _=r;r=a;for(var N=0;N<t.length;N++)if(_.context===t[N]){r.lanes|=n,_=r.alternate,_!==null&&(_.lanes|=n),fc(r.return,n,e),l||(x=null);break e}r=_.next}}else if(a.tag===18){if(x=a.return,x===null)throw Error(c(341));x.lanes|=n,r=x.alternate,r!==null&&(r.lanes|=n),fc(x,n,e),x=null}else x=a.child;if(x!==null)x.return=a;else for(x=a;x!==null;){if(x===e){x=null;break}if(a=x.sibling,a!==null){a.return=x.return,x=a;break}x=x.return}a=x}}function La(e,t,n,l){e=null;for(var a=t,r=!1;a!==null;){if(!r){if((a.flags&524288)!==0)r=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var x=a.alternate;if(x===null)throw Error(c(387));if(x=x.memoizedProps,x!==null){var _=a.type;yn(a.pendingProps.value,x.value)||(e!==null?e.push(_):e=[_])}}else if(a===w.current){if(x=a.alternate,x===null)throw Error(c(387));x.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Vi):e=[Vi])}a=a.return}e!==null&&xc(t,e,n,l),t.flags|=262144}function _r(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ua(e){ra=e,ul=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Jt(e){return lo(ra,e)}function Sr(e,t){return ra===null&&ua(e),lo(e,t)}function lo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ul===null){if(e===null)throw Error(c(308));ul=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ul=ul.next=t;return n}var y2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},v2=o.unstable_scheduleCallback,p2=o.unstable_NormalPriority,Lt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dc(){return{controller:new y2,data:new Map,refCount:0}}function Si(e){e.refCount--,e.refCount===0&&v2(p2,function(){e.controller.abort()})}var ji=null,hc=0,Ra=0,ka=null;function _2(e,t){if(ji===null){var n=ji=[];hc=0,Ra=gs(),ka={status:"pending",value:void 0,then:function(l){n.push(l)}}}return hc++,t.then(ao,ao),t}function ao(){if(--hc===0&&ji!==null){ka!==null&&(ka.status="fulfilled");var e=ji;ji=null,Ra=0,ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function S2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(l.status="rejected",l.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),l}var io=U.S;U.S=function(e,t){Xf=rt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&_2(e,t),io!==null&&io(e,t)};var ca=z(null);function mc(){var e=ca.current;return e!==null?e:pt.pooledCache}function jr(e,t){t===null?xe(ca,ca.current):xe(ca,t.pool)}function ro(){var e=mc();return e===null?null:{parent:Lt._currentValue,pool:e}}var Ga=Error(c(460)),bc=Error(c(474)),wr=Error(c(542)),Cr={then:function(){}};function uo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function co(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ll,ll),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,oo(e),e;default:if(typeof t.status=="string")t.then(ll,ll);else{if(e=pt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=l}},function(l){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,oo(e),e}throw oa=t,Ga}}function sa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(oa=n,Ga):n}}var oa=null;function so(){if(oa===null)throw Error(c(459));var e=oa;return oa=null,e}function oo(e){if(e===Ga||e===wr)throw Error(c(483))}var Ya=null,wi=0;function Mr(e){var t=wi;return wi+=1,Ya===null&&(Ya=[]),co(Ya,e,t)}function Ci(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function zr(e,t){throw t.$$typeof===p?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fo(e){function t(R,D){if(e){var k=R.deletions;k===null?(R.deletions=[D],R.flags|=16):k.push(D)}}function n(R,D){if(!e)return null;for(;D!==null;)t(R,D),D=D.sibling;return null}function l(R){for(var D=new Map;R!==null;)R.key!==null?D.set(R.key,R):D.set(R.index,R),R=R.sibling;return D}function a(R,D){return R=il(R,D),R.index=0,R.sibling=null,R}function r(R,D,k){return R.index=k,e?(k=R.alternate,k!==null?(k=k.index,k<D?(R.flags|=67108866,D):k):(R.flags|=67108866,D)):(R.flags|=1048576,D)}function x(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,D,k,$){return D===null||D.tag!==6?(D=ac(k,R.mode,$),D.return=R,D):(D=a(D,k),D.return=R,D)}function N(R,D,k,$){var Le=k.type;return Le===j?F(R,D,k.props.children,$,k.key):D!==null&&(D.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===ie&&sa(Le)===D.type)?(D=a(D,k.props),Ci(D,k),D.return=R,D):(D=vr(k.type,k.key,k.props,null,R.mode,$),Ci(D,k),D.return=R,D)}function G(R,D,k,$){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=ic(k,R.mode,$),D.return=R,D):(D=a(D,k.children||[]),D.return=R,D)}function F(R,D,k,$,Le){return D===null||D.tag!==7?(D=aa(k,R.mode,$,Le),D.return=R,D):(D=a(D,k),D.return=R,D)}function ne(R,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ac(""+D,R.mode,k),D.return=R,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case m:return k=vr(D.type,D.key,D.props,null,R.mode,k),Ci(k,D),k.return=R,k;case S:return D=ic(D,R.mode,k),D.return=R,D;case ie:return D=sa(D),ne(R,D,k)}if(We(D)||He(D))return D=aa(D,R.mode,k,null),D.return=R,D;if(typeof D.then=="function")return ne(R,Mr(D),k);if(D.$$typeof===B)return ne(R,Sr(R,D),k);zr(R,D)}return null}function H(R,D,k,$){var Le=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return Le!==null?null:_(R,D,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case m:return k.key===Le?N(R,D,k,$):null;case S:return k.key===Le?G(R,D,k,$):null;case ie:return k=sa(k),H(R,D,k,$)}if(We(k)||He(k))return Le!==null?null:F(R,D,k,$,null);if(typeof k.then=="function")return H(R,D,Mr(k),$);if(k.$$typeof===B)return H(R,D,Sr(R,k),$);zr(R,k)}return null}function I(R,D,k,$,Le){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return R=R.get(k)||null,_(D,R,""+$,Le);if(typeof $=="object"&&$!==null){switch($.$$typeof){case m:return R=R.get($.key===null?k:$.key)||null,N(D,R,$,Le);case S:return R=R.get($.key===null?k:$.key)||null,G(D,R,$,Le);case ie:return $=sa($),I(R,D,k,$,Le)}if(We($)||He($))return R=R.get(k)||null,F(D,R,$,Le,null);if(typeof $.then=="function")return I(R,D,k,Mr($),Le);if($.$$typeof===B)return I(R,D,k,Sr(D,$),Le);zr(D,$)}return null}function je(R,D,k,$){for(var Le=null,st=null,De=D,Qe=D=0,at=null;De!==null&&Qe<k.length;Qe++){De.index>Qe?(at=De,De=null):at=De.sibling;var ot=H(R,De,k[Qe],$);if(ot===null){De===null&&(De=at);break}e&&De&&ot.alternate===null&&t(R,De),D=r(ot,D,Qe),st===null?Le=ot:st.sibling=ot,st=ot,De=at}if(Qe===k.length)return n(R,De),it&&rl(R,Qe),Le;if(De===null){for(;Qe<k.length;Qe++)De=ne(R,k[Qe],$),De!==null&&(D=r(De,D,Qe),st===null?Le=De:st.sibling=De,st=De);return it&&rl(R,Qe),Le}for(De=l(De);Qe<k.length;Qe++)at=I(De,R,Qe,k[Qe],$),at!==null&&(e&&at.alternate!==null&&De.delete(at.key===null?Qe:at.key),D=r(at,D,Qe),st===null?Le=at:st.sibling=at,st=at);return e&&De.forEach(function(Kl){return t(R,Kl)}),it&&rl(R,Qe),Le}function Ye(R,D,k,$){if(k==null)throw Error(c(151));for(var Le=null,st=null,De=D,Qe=D=0,at=null,ot=k.next();De!==null&&!ot.done;Qe++,ot=k.next()){De.index>Qe?(at=De,De=null):at=De.sibling;var Kl=H(R,De,ot.value,$);if(Kl===null){De===null&&(De=at);break}e&&De&&Kl.alternate===null&&t(R,De),D=r(Kl,D,Qe),st===null?Le=Kl:st.sibling=Kl,st=Kl,De=at}if(ot.done)return n(R,De),it&&rl(R,Qe),Le;if(De===null){for(;!ot.done;Qe++,ot=k.next())ot=ne(R,ot.value,$),ot!==null&&(D=r(ot,D,Qe),st===null?Le=ot:st.sibling=ot,st=ot);return it&&rl(R,Qe),Le}for(De=l(De);!ot.done;Qe++,ot=k.next())ot=I(De,R,Qe,ot.value,$),ot!==null&&(e&&ot.alternate!==null&&De.delete(ot.key===null?Qe:ot.key),D=r(ot,D,Qe),st===null?Le=ot:st.sibling=ot,st=ot);return e&&De.forEach(function(q1){return t(R,q1)}),it&&rl(R,Qe),Le}function yt(R,D,k,$){if(typeof k=="object"&&k!==null&&k.type===j&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case m:e:{for(var Le=k.key;D!==null;){if(D.key===Le){if(Le=k.type,Le===j){if(D.tag===7){n(R,D.sibling),$=a(D,k.props.children),$.return=R,R=$;break e}}else if(D.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===ie&&sa(Le)===D.type){n(R,D.sibling),$=a(D,k.props),Ci($,k),$.return=R,R=$;break e}n(R,D);break}else t(R,D);D=D.sibling}k.type===j?($=aa(k.props.children,R.mode,$,k.key),$.return=R,R=$):($=vr(k.type,k.key,k.props,null,R.mode,$),Ci($,k),$.return=R,R=$)}return x(R);case S:e:{for(Le=k.key;D!==null;){if(D.key===Le)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){n(R,D.sibling),$=a(D,k.children||[]),$.return=R,R=$;break e}else{n(R,D);break}else t(R,D);D=D.sibling}$=ic(k,R.mode,$),$.return=R,R=$}return x(R);case ie:return k=sa(k),yt(R,D,k,$)}if(We(k))return je(R,D,k,$);if(He(k)){if(Le=He(k),typeof Le!="function")throw Error(c(150));return k=Le.call(k),Ye(R,D,k,$)}if(typeof k.then=="function")return yt(R,D,Mr(k),$);if(k.$$typeof===B)return yt(R,D,Sr(R,k),$);zr(R,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(n(R,D.sibling),$=a(D,k),$.return=R,R=$):(n(R,D),$=ac(k,R.mode,$),$.return=R,R=$),x(R)):n(R,D)}return function(R,D,k,$){try{wi=0;var Le=yt(R,D,k,$);return Ya=null,Le}catch(De){if(De===Ga||De===wr)throw De;var st=vn(29,De,null,R.mode);return st.lanes=$,st.return=R,st}}}var fa=fo(!0),xo=fo(!1),Dl=!1;function gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Al(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(xt&2)!==0){var a=l.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),l.pending=t,t=yr(e),W0(e,null,n),t}return gr(e,l,t,n),yr(e)}function Mi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,T(e,n)}}function vc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var x={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?a=r=x:r=r.next=x,n=n.next}while(n!==null);r===null?a=r=t:r=r.next=t}else a=r=t;n={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var pc=!1;function zi(){if(pc){var e=ka;if(e!==null)throw e}}function Ni(e,t,n,l){pc=!1;var a=e.updateQueue;Dl=!1;var r=a.firstBaseUpdate,x=a.lastBaseUpdate,_=a.shared.pending;if(_!==null){a.shared.pending=null;var N=_,G=N.next;N.next=null,x===null?r=G:x.next=G,x=N;var F=e.alternate;F!==null&&(F=F.updateQueue,_=F.lastBaseUpdate,_!==x&&(_===null?F.firstBaseUpdate=G:_.next=G,F.lastBaseUpdate=N))}if(r!==null){var ne=a.baseState;x=0,F=G=N=null,_=r;do{var H=_.lane&-536870913,I=H!==_.lane;if(I?(lt&H)===H:(l&H)===H){H!==0&&H===Ra&&(pc=!0),F!==null&&(F=F.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var je=e,Ye=_;H=t;var yt=n;switch(Ye.tag){case 1:if(je=Ye.payload,typeof je=="function"){ne=je.call(yt,ne,H);break e}ne=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ye.payload,H=typeof je=="function"?je.call(yt,ne,H):je,H==null)break e;ne=b({},ne,H);break e;case 2:Dl=!0}}H=_.callback,H!==null&&(e.flags|=64,I&&(e.flags|=8192),I=a.callbacks,I===null?a.callbacks=[H]:I.push(H))}else I={lane:H,tag:_.tag,payload:_.payload,callback:_.callback,next:null},F===null?(G=F=I,N=ne):F=F.next=I,x|=H;if(_=_.next,_===null){if(_=a.shared.pending,_===null)break;I=_,_=I.next,I.next=null,a.lastBaseUpdate=I,a.shared.pending=null}}while(!0);F===null&&(N=ne),a.baseState=N,a.firstBaseUpdate=G,a.lastBaseUpdate=F,r===null&&(a.shared.lanes=0),Ll|=x,e.lanes=x,e.memoizedState=ne}}function ho(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function mo(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var Ha=z(null),Nr=z(0);function bo(e,t){e=gl,xe(Nr,e),xe(Ha,t),gl=e|t.baseLanes}function _c(){xe(Nr,gl),xe(Ha,Ha.current)}function Sc(){gl=Nr.current,K(Ha),K(Nr)}var pn=z(null),qn=null;function El(e){var t=e.alternate;xe(Tt,Tt.current&1),xe(pn,e),qn===null&&(t===null||Ha.current!==null||t.memoizedState!==null)&&(qn=e)}function jc(e){xe(Tt,Tt.current),xe(pn,e),qn===null&&(qn=e)}function go(e){e.tag===22?(xe(Tt,Tt.current),xe(pn,e),qn===null&&(qn=e)):ql()}function ql(){xe(Tt,Tt.current),xe(pn,pn.current)}function _n(e){K(pn),qn===e&&(qn=null),K(Tt)}var Tt=z(0);function Dr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ds(n)||As(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sl=0,Je=null,bt=null,Rt=null,Ar=!1,Ua=!1,xa=!1,Tr=0,Di=0,Za=null,j2=0;function Dt(){throw Error(c(321))}function wc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yn(e[n],t[n]))return!1;return!0}function Cc(e,t,n,l,a,r){return sl=r,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?ef:Yc,xa=!1,r=n(l,a),xa=!1,Ua&&(r=vo(t,n,l,a)),yo(e),r}function yo(e){U.H=Ei;var t=bt!==null&&bt.next!==null;if(sl=0,Rt=bt=Je=null,Ar=!1,Di=0,Za=null,t)throw Error(c(300));e===null||kt||(e=e.dependencies,e!==null&&_r(e)&&(kt=!0))}function vo(e,t,n,l){Je=e;var a=0;do{if(Ua&&(Za=null),Di=0,Ua=!1,25<=a)throw Error(c(301));if(a+=1,Rt=bt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}U.H=tf,r=t(n,l)}while(Ua);return r}function w2(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?Ai(t):t,e=e.useState()[0],(bt!==null?bt.memoizedState:null)!==e&&(Je.flags|=1024),t}function Mc(){var e=Tr!==0;return Tr=0,e}function zc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Nc(e){if(Ar){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ar=!1}sl=0,Rt=bt=Je=null,Ua=!1,Di=Tr=0,Za=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Je.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Et(){if(bt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=Rt===null?Je.memoizedState:Rt.next;if(t!==null)Rt=t,bt=e;else{if(e===null)throw Je.alternate===null?Error(c(467)):Error(c(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Rt===null?Je.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function Er(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ai(e){var t=Di;return Di+=1,Za===null&&(Za=[]),e=co(Za,e,t),t=Je,(Rt===null?t.memoizedState:Rt.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?ef:Yc),e}function qr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ai(e);if(e.$$typeof===B)return Jt(e)}throw Error(c(438,String(e)))}function Dc(e){var t=null,n=Je.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Er(),Je.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=me;return t.index++,n}function ol(e,t){return typeof t=="function"?t(e):t}function Or(e){var t=Et();return Ac(t,bt,e)}function Ac(e,t,n){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=n;var a=e.baseQueue,r=l.pending;if(r!==null){if(a!==null){var x=a.next;a.next=r.next,r.next=x}t.baseQueue=a=r,l.pending=null}if(r=e.baseState,a===null)e.memoizedState=r;else{t=a.next;var _=x=null,N=null,G=t,F=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(lt&ne)===ne:(sl&ne)===ne){var H=G.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===Ra&&(F=!0);else if((sl&H)===H){G=G.next,H===Ra&&(F=!0);continue}else ne={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(_=N=ne,x=r):N=N.next=ne,Je.lanes|=H,Ll|=H;ne=G.action,xa&&n(r,ne),r=G.hasEagerState?G.eagerState:n(r,ne)}else H={lane:ne,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(_=N=H,x=r):N=N.next=H,Je.lanes|=ne,Ll|=ne;G=G.next}while(G!==null&&G!==t);if(N===null?x=r:N.next=_,!yn(r,e.memoizedState)&&(kt=!0,F&&(n=ka,n!==null)))throw n;e.memoizedState=r,e.baseState=x,e.baseQueue=N,l.lastRenderedState=r}return a===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Tc(e){var t=Et(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var l=n.dispatch,a=n.pending,r=t.memoizedState;if(a!==null){n.pending=null;var x=a=a.next;do r=e(r,x.action),x=x.next;while(x!==a);yn(r,t.memoizedState)||(kt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,l]}function po(e,t,n){var l=Je,a=Et(),r=it;if(r){if(n===void 0)throw Error(c(407));n=n()}else n=t();var x=!yn((bt||a).memoizedState,n);if(x&&(a.memoizedState=n,kt=!0),a=a.queue,Oc(jo.bind(null,l,a,e),[e]),a.getSnapshot!==t||x||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},So.bind(null,l,a,n,t),null),pt===null)throw Error(c(349));r||(sl&127)!==0||_o(l,t,n)}return n}function _o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Je.updateQueue,t===null?(t=Er(),Je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function So(e,t,n,l){t.value=n,t.getSnapshot=l,wo(t)&&Co(e)}function jo(e,t,n){return n(function(){wo(t)&&Co(e)})}function wo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yn(e,n)}catch{return!0}}function Co(e){var t=la(e,2);t!==null&&fn(t,e,2)}function Ec(e){var t=tn();if(typeof e=="function"){var n=e;if(e=n(),xa){nn(!0);try{n()}finally{nn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:e},t}function Mo(e,t,n,l){return e.baseState=n,Ac(e,bt,typeof l=="function"?l:ol)}function C2(e,t,n,l,a){if(Rr(e))throw Error(c(485));if(e=t.action,e!==null){var r={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){r.listeners.push(x)}};U.T!==null?n(!0):r.isTransition=!1,l(r),n=t.pending,n===null?(r.next=t.pending=r,zo(t,r)):(r.next=n.next,t.pending=n.next=r)}}function zo(e,t){var n=t.action,l=t.payload,a=e.state;if(t.isTransition){var r=U.T,x={};U.T=x;try{var _=n(a,l),N=U.S;N!==null&&N(x,_),No(e,t,_)}catch(G){qc(e,t,G)}finally{r!==null&&x.types!==null&&(r.types=x.types),U.T=r}}else try{r=n(a,l),No(e,t,r)}catch(G){qc(e,t,G)}}function No(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Do(e,t,l)},function(l){return qc(e,t,l)}):Do(e,t,n)}function Do(e,t,n){t.status="fulfilled",t.value=n,Ao(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,zo(e,n)))}function qc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Ao(t),t=t.next;while(t!==l)}e.action=null}function Ao(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function To(e,t){return t}function Eo(e,t){if(it){var n=pt.formState;if(n!==null){e:{var l=Je;if(it){if(wt){t:{for(var a=wt,r=En;a.nodeType!==8;){if(!r){a=null;break t}if(a=On(a.nextSibling),a===null){a=null;break t}}r=a.data,a=r==="F!"||r==="F"?a:null}if(a){wt=On(a.nextSibling),l=a.data==="F!";break e}}zl(l)}l=!1}l&&(t=n[0])}}return n=tn(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:t},n.queue=l,n=Fo.bind(null,Je,l),l.dispatch=n,l=Ec(!1),r=Gc.bind(null,Je,!1,l.queue),l=tn(),a={state:t,dispatch:null,action:e,pending:null},l.queue=a,n=C2.bind(null,Je,a,r,n),a.dispatch=n,l.memoizedState=e,[t,n,!1]}function qo(e){var t=Et();return Oo(t,bt,e)}function Oo(e,t,n){if(t=Ac(e,t,To)[0],e=Or(ol)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ai(t)}catch(x){throw x===Ga?wr:x}else l=t;t=Et();var a=t.queue,r=a.dispatch;return n!==t.memoizedState&&(Je.flags|=2048,Xa(9,{destroy:void 0},M2.bind(null,a,n),null)),[l,r,e]}function M2(e,t){e.action=t}function Bo(e){var t=Et(),n=bt;if(n!==null)return Oo(t,n,e);Et(),t=t.memoizedState,n=Et();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Xa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Je.updateQueue,t===null&&(t=Er(),Je.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Lo(){return Et().memoizedState}function Br(e,t,n,l){var a=tn();Je.flags|=e,a.memoizedState=Xa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Lr(e,t,n,l){var a=Et();l=l===void 0?null:l;var r=a.memoizedState.inst;bt!==null&&l!==null&&wc(l,bt.memoizedState.deps)?a.memoizedState=Xa(t,r,n,l):(Je.flags|=e,a.memoizedState=Xa(1|t,r,n,l))}function Ro(e,t){Br(8390656,8,e,t)}function Oc(e,t){Lr(2048,8,e,t)}function z2(e){Je.flags|=4;var t=Je.updateQueue;if(t===null)t=Er(),Je.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ko(e){var t=Et().memoizedState;return z2({ref:t,nextImpl:e}),function(){if((xt&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Go(e,t){return Lr(4,2,e,t)}function Yo(e,t){return Lr(4,4,e,t)}function Ho(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uo(e,t,n){n=n!=null?n.concat([e]):null,Lr(4,4,Ho.bind(null,t,e),n)}function Bc(){}function Zo(e,t){var n=Et();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&wc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Et();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&wc(t,l[1]))return l[0];if(l=e(),xa){nn(!0);try{e()}finally{nn(!1)}}return n.memoizedState=[l,t],l}function Lc(e,t,n){return n===void 0||(sl&1073741824)!==0&&(lt&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Kf(),Je.lanes|=e,Ll|=e,n)}function Io(e,t,n,l){return yn(n,t)?n:Ha.current!==null?(e=Lc(e,n,l),yn(e,t)||(kt=!0),e):(sl&42)===0||(sl&1073741824)!==0&&(lt&261930)===0?(kt=!0,e.memoizedState=n):(e=Kf(),Je.lanes|=e,Ll|=e,t)}function Ko(e,t,n,l,a){var r=Z.p;Z.p=r!==0&&8>r?r:8;var x=U.T,_={};U.T=_,Gc(e,!1,t,n);try{var N=a(),G=U.S;if(G!==null&&G(_,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=S2(N,l);Ti(e,t,F,wn(e))}else Ti(e,t,l,wn(e))}catch(ne){Ti(e,t,{then:function(){},status:"rejected",reason:ne},wn())}finally{Z.p=r,x!==null&&_.types!==null&&(x.types=_.types),U.T=x}}function N2(){}function Rc(e,t,n,l){if(e.tag!==5)throw Error(c(476));var a=Jo(e).queue;Ko(e,a,t,ee,n===null?N2:function(){return Vo(e),n(l)})}function Jo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:ee},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vo(e){var t=Jo(e);t.next===null&&(t=e.alternate.memoizedState),Ti(e,t.next.queue,{},wn())}function kc(){return Jt(Vi)}function Wo(){return Et().memoizedState}function Qo(){return Et().memoizedState}function D2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=wn();e=Al(n);var l=Tl(t,e,n);l!==null&&(fn(l,t,n),Mi(l,t,n)),t={cache:dc()},e.payload=t;return}t=t.return}}function A2(e,t,n){var l=wn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Rr(e)?Po(t,n):(n=nc(e,t,n,l),n!==null&&(fn(n,e,l),$o(n,t,l)))}function Fo(e,t,n){var l=wn();Ti(e,t,n,l)}function Ti(e,t,n,l){var a={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rr(e))Po(t,a);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var x=t.lastRenderedState,_=r(x,n);if(a.hasEagerState=!0,a.eagerState=_,yn(_,x))return gr(e,t,a,0),pt===null&&br(),!1}catch{}if(n=nc(e,t,a,l),n!==null)return fn(n,e,l),$o(n,t,l),!0}return!1}function Gc(e,t,n,l){if(l={lane:2,revertLane:gs(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rr(e)){if(t)throw Error(c(479))}else t=nc(e,n,l,2),t!==null&&fn(t,e,2)}function Rr(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function Po(e,t){Ua=Ar=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,T(e,n)}}var Ei={readContext:Jt,use:qr,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Ei.useEffectEvent=Dt;var ef={readContext:Jt,use:qr,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:Ro,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Br(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Br(4194308,4,e,t)},useInsertionEffect:function(e,t){Br(4,2,e,t)},useMemo:function(e,t){var n=tn();t=t===void 0?null:t;var l=e();if(xa){nn(!0);try{e()}finally{nn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=tn();if(n!==void 0){var a=n(t);if(xa){nn(!0);try{n(t)}finally{nn(!1)}}}else a=t;return l.memoizedState=l.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},l.queue=e,e=e.dispatch=A2.bind(null,Je,e),[l.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:function(e){e=Ec(e);var t=e.queue,n=Fo.bind(null,Je,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Bc,useDeferredValue:function(e,t){var n=tn();return Lc(n,e,t)},useTransition:function(){var e=Ec(!1);return e=Ko.bind(null,Je,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Je,a=tn();if(it){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),pt===null)throw Error(c(349));(lt&127)!==0||_o(l,t,n)}a.memoizedState=n;var r={value:n,getSnapshot:t};return a.queue=r,Ro(jo.bind(null,l,r,e),[e]),l.flags|=2048,Xa(9,{destroy:void 0},So.bind(null,l,r,n,t),null),n},useId:function(){var e=tn(),t=pt.identifierPrefix;if(it){var n=Fn,l=Qn;n=(l&~(1<<32-qt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Tr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=j2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:kc,useFormState:Eo,useActionState:Eo,useOptimistic:function(e){var t=tn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Gc.bind(null,Je,!0,n),n.dispatch=t,[e,t]},useMemoCache:Dc,useCacheRefresh:function(){return tn().memoizedState=D2.bind(null,Je)},useEffectEvent:function(e){var t=tn(),n={impl:e};return t.memoizedState=n,function(){if((xt&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},Yc={readContext:Jt,use:qr,useCallback:Zo,useContext:Jt,useEffect:Oc,useImperativeHandle:Uo,useInsertionEffect:Go,useLayoutEffect:Yo,useMemo:Xo,useReducer:Or,useRef:Lo,useState:function(){return Or(ol)},useDebugValue:Bc,useDeferredValue:function(e,t){var n=Et();return Io(n,bt.memoizedState,e,t)},useTransition:function(){var e=Or(ol)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:po,useId:Wo,useHostTransitionStatus:kc,useFormState:qo,useActionState:qo,useOptimistic:function(e,t){var n=Et();return Mo(n,bt,e,t)},useMemoCache:Dc,useCacheRefresh:Qo};Yc.useEffectEvent=ko;var tf={readContext:Jt,use:qr,useCallback:Zo,useContext:Jt,useEffect:Oc,useImperativeHandle:Uo,useInsertionEffect:Go,useLayoutEffect:Yo,useMemo:Xo,useReducer:Tc,useRef:Lo,useState:function(){return Tc(ol)},useDebugValue:Bc,useDeferredValue:function(e,t){var n=Et();return bt===null?Lc(n,e,t):Io(n,bt.memoizedState,e,t)},useTransition:function(){var e=Tc(ol)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:po,useId:Wo,useHostTransitionStatus:kc,useFormState:Bo,useActionState:Bo,useOptimistic:function(e,t){var n=Et();return bt!==null?Mo(n,bt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Dc,useCacheRefresh:Qo};tf.useEffectEvent=ko;function Hc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Uc={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=wn(),a=Al(l);a.payload=t,n!=null&&(a.callback=n),t=Tl(e,a,l),t!==null&&(fn(t,e,l),Mi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=wn(),a=Al(l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Tl(e,a,l),t!==null&&(fn(t,e,l),Mi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wn(),l=Al(n);l.tag=2,t!=null&&(l.callback=t),t=Tl(e,l,n),t!==null&&(fn(t,e,n),Mi(t,e,n))}};function nf(e,t,n,l,a,r,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,r,x):t.prototype&&t.prototype.isPureReactComponent?!yi(n,l)||!yi(a,r):!0}function lf(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Uc.enqueueReplaceState(t,t.state,null)}function da(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function af(e){mr(e)}function rf(e){console.error(e)}function uf(e){mr(e)}function kr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function cf(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Zc(e,t,n){return n=Al(n),n.tag=3,n.payload={element:null},n.callback=function(){kr(e,t)},n}function sf(e){return e=Al(e),e.tag=3,e}function of(e,t,n,l){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var r=l.value;e.payload=function(){return a(r)},e.callback=function(){cf(t,n,l)}}var x=n.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){cf(t,n,l),typeof a!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function T2(e,t,n,l,a){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&La(t,n,a,!0),n=pn.current,n!==null){switch(n.tag){case 31:case 13:return qn===null?Qr():n.alternate===null&&At===0&&(At=3),n.flags&=-257,n.flags|=65536,n.lanes=a,l===Cr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),hs(e,l,a)),!1;case 22:return n.flags|=65536,l===Cr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),hs(e,l,a)),!1}throw Error(c(435,n.tag))}return hs(e,l,a),Qr(),!1}if(it)return t=pn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=a,l!==cc&&(e=Error(c(422),{cause:l}),_i(Dn(e,n)))):(l!==cc&&(t=Error(c(423),{cause:l}),_i(Dn(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,l=Dn(l,n),a=Zc(e.stateNode,l,a),vc(e,a),At!==4&&(At=2)),!1;var r=Error(c(520),{cause:l});if(r=Dn(r,n),Yi===null?Yi=[r]:Yi.push(r),At!==4&&(At=2),t===null)return!0;l=Dn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Zc(n.stateNode,l,e),vc(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Rl===null||!Rl.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,a=sf(a),of(a,e,n,l),vc(n,a),!1}n=n.return}while(n!==null);return!1}var Xc=Error(c(461)),kt=!1;function Vt(e,t,n,l){t.child=e===null?xo(t,null,n,l):fa(t,e.child,n,l)}function ff(e,t,n,l,a){n=n.render;var r=t.ref;if("ref"in l){var x={};for(var _ in l)_!=="ref"&&(x[_]=l[_])}else x=l;return ua(t),l=Cc(e,t,n,x,r,a),_=Mc(),e!==null&&!kt?(zc(e,t,a),fl(e,t,a)):(it&&_&&rc(t),t.flags|=1,Vt(e,t,l,a),t.child)}function xf(e,t,n,l,a){if(e===null){var r=n.type;return typeof r=="function"&&!lc(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,df(e,t,r,l,a)):(e=vr(n.type,null,l,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Pc(e,a)){var x=r.memoizedProps;if(n=n.compare,n=n!==null?n:yi,n(x,l)&&e.ref===t.ref)return fl(e,t,a)}return t.flags|=1,e=il(r,l),e.ref=t.ref,e.return=t,t.child=e}function df(e,t,n,l,a){if(e!==null){var r=e.memoizedProps;if(yi(r,l)&&e.ref===t.ref)if(kt=!1,t.pendingProps=l=r,Pc(e,a))(e.flags&131072)!==0&&(kt=!0);else return t.lanes=e.lanes,fl(e,t,a)}return Ic(e,t,n,l,a)}function hf(e,t,n,l){var a=l.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(l=t.child=e.child,a=0;l!==null;)a=a|l.lanes|l.childLanes,l=l.sibling;l=a&~r}else l=0,t.child=null;return mf(e,t,r,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&jr(t,r!==null?r.cachePool:null),r!==null?bo(t,r):_c(),go(t);else return l=t.lanes=536870912,mf(e,t,r!==null?r.baseLanes|n:n,n,l)}else r!==null?(jr(t,r.cachePool),bo(t,r),ql(),t.memoizedState=null):(e!==null&&jr(t,null),_c(),ql());return Vt(e,t,a,n),t.child}function qi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function mf(e,t,n,l,a){var r=mc();return r=r===null?null:{parent:Lt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&jr(t,null),_c(),go(t),e!==null&&La(e,t,l,!0),t.childLanes=a,null}function Gr(e,t){return t=Hr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bf(e,t,n){return fa(t,e.child,null,n),e=Gr(t,t.pendingProps),e.flags|=2,_n(t),t.memoizedState=null,e}function E2(e,t,n){var l=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(it){if(l.mode==="hidden")return e=Gr(t,l),t.lanes=536870912,qi(null,e);if(jc(t),(e=wt)?(e=Nx(e,En),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cl!==null?{id:Qn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},n=F0(e),n.return=t,t.child=n,Kt=t,wt=null)):e=null,e===null)throw zl(t);return t.lanes=536870912,null}return Gr(t,l)}var r=e.memoizedState;if(r!==null){var x=r.dehydrated;if(jc(t),a)if(t.flags&256)t.flags&=-257,t=bf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(kt||La(e,t,n,!1),a=(n&e.childLanes)!==0,kt||a){if(l=pt,l!==null&&(x=Y(l,n),x!==0&&x!==r.retryLane))throw r.retryLane=x,la(e,x),fn(l,e,x),Xc;Qr(),t=bf(e,t,n)}else e=r.treeContext,wt=On(x.nextSibling),Kt=t,it=!0,Ml=null,En=!1,e!==null&&eo(t,e),t=Gr(t,l),t.flags|=4096;return t}return e=il(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Yr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ic(e,t,n,l,a){return ua(t),n=Cc(e,t,n,l,void 0,a),l=Mc(),e!==null&&!kt?(zc(e,t,a),fl(e,t,a)):(it&&l&&rc(t),t.flags|=1,Vt(e,t,n,a),t.child)}function gf(e,t,n,l,a,r){return ua(t),t.updateQueue=null,n=vo(t,l,n,a),yo(e),l=Mc(),e!==null&&!kt?(zc(e,t,r),fl(e,t,r)):(it&&l&&rc(t),t.flags|=1,Vt(e,t,n,r),t.child)}function yf(e,t,n,l,a){if(ua(t),t.stateNode===null){var r=Ea,x=n.contextType;typeof x=="object"&&x!==null&&(r=Jt(x)),r=new n(l,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Uc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=l,r.state=t.memoizedState,r.refs={},gc(t),x=n.contextType,r.context=typeof x=="object"&&x!==null?Jt(x):Ea,r.state=t.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(Hc(t,n,x,l),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(x=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),x!==r.state&&Uc.enqueueReplaceState(r,r.state,null),Ni(t,l,r,a),zi(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){r=t.stateNode;var _=t.memoizedProps,N=da(n,_);r.props=N;var G=r.context,F=n.contextType;x=Ea,typeof F=="object"&&F!==null&&(x=Jt(F));var ne=n.getDerivedStateFromProps;F=typeof ne=="function"||typeof r.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,F||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(_||G!==x)&&lf(t,r,l,x),Dl=!1;var H=t.memoizedState;r.state=H,Ni(t,l,r,a),zi(),G=t.memoizedState,_||H!==G||Dl?(typeof ne=="function"&&(Hc(t,n,ne,l),G=t.memoizedState),(N=Dl||nf(t,n,N,l,H,G,x))?(F||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=G),r.props=l,r.state=G,r.context=x,l=N):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{r=t.stateNode,yc(e,t),x=t.memoizedProps,F=da(n,x),r.props=F,ne=t.pendingProps,H=r.context,G=n.contextType,N=Ea,typeof G=="object"&&G!==null&&(N=Jt(G)),_=n.getDerivedStateFromProps,(G=typeof _=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(x!==ne||H!==N)&&lf(t,r,l,N),Dl=!1,H=t.memoizedState,r.state=H,Ni(t,l,r,a),zi();var I=t.memoizedState;x!==ne||H!==I||Dl||e!==null&&e.dependencies!==null&&_r(e.dependencies)?(typeof _=="function"&&(Hc(t,n,_,l),I=t.memoizedState),(F=Dl||nf(t,n,F,l,H,I,N)||e!==null&&e.dependencies!==null&&_r(e.dependencies))?(G||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(l,I,N),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(l,I,N)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||x===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=I),r.props=l,r.state=I,r.context=N,l=F):(typeof r.componentDidUpdate!="function"||x===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),l=!1)}return r=l,Yr(e,t),l=(t.flags&128)!==0,r||l?(r=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&l?(t.child=fa(t,e.child,null,a),t.child=fa(t,null,n,a)):Vt(e,t,n,a),t.memoizedState=r.state,e=t.child):e=fl(e,t,a),e}function vf(e,t,n,l){return ia(),t.flags|=256,Vt(e,t,n,l),t.child}var Kc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jc(e){return{baseLanes:e,cachePool:ro()}}function Vc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=jn),e}function pf(e,t,n){var l=t.pendingProps,a=!1,r=(t.flags&128)!==0,x;if((x=r)||(x=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),x&&(a=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(it){if(a?El(t):ql(),(e=wt)?(e=Nx(e,En),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cl!==null?{id:Qn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},n=F0(e),n.return=t,t.child=n,Kt=t,wt=null)):e=null,e===null)throw zl(t);return As(e)?t.lanes=32:t.lanes=536870912,null}var _=l.children;return l=l.fallback,a?(ql(),a=t.mode,_=Hr({mode:"hidden",children:_},a),l=aa(l,a,n,null),_.return=t,l.return=t,_.sibling=l,t.child=_,l=t.child,l.memoizedState=Jc(n),l.childLanes=Vc(e,x,n),t.memoizedState=Kc,qi(null,l)):(El(t),Wc(t,_))}var N=e.memoizedState;if(N!==null&&(_=N.dehydrated,_!==null)){if(r)t.flags&256?(El(t),t.flags&=-257,t=Qc(e,t,n)):t.memoizedState!==null?(ql(),t.child=e.child,t.flags|=128,t=null):(ql(),_=l.fallback,a=t.mode,l=Hr({mode:"visible",children:l.children},a),_=aa(_,a,n,null),_.flags|=2,l.return=t,_.return=t,l.sibling=_,t.child=l,fa(t,e.child,null,n),l=t.child,l.memoizedState=Jc(n),l.childLanes=Vc(e,x,n),t.memoizedState=Kc,t=qi(null,l));else if(El(t),As(_)){if(x=_.nextSibling&&_.nextSibling.dataset,x)var G=x.dgst;x=G,l=Error(c(419)),l.stack="",l.digest=x,_i({value:l,source:null,stack:null}),t=Qc(e,t,n)}else if(kt||La(e,t,n,!1),x=(n&e.childLanes)!==0,kt||x){if(x=pt,x!==null&&(l=Y(x,n),l!==0&&l!==N.retryLane))throw N.retryLane=l,la(e,l),fn(x,e,l),Xc;Ds(_)||Qr(),t=Qc(e,t,n)}else Ds(_)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,wt=On(_.nextSibling),Kt=t,it=!0,Ml=null,En=!1,e!==null&&eo(t,e),t=Wc(t,l.children),t.flags|=4096);return t}return a?(ql(),_=l.fallback,a=t.mode,N=e.child,G=N.sibling,l=il(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?_=il(G,_):(_=aa(_,a,n,null),_.flags|=2),_.return=t,l.return=t,l.sibling=_,t.child=l,qi(null,l),l=t.child,_=e.child.memoizedState,_===null?_=Jc(n):(a=_.cachePool,a!==null?(N=Lt._currentValue,a=a.parent!==N?{parent:N,pool:N}:a):a=ro(),_={baseLanes:_.baseLanes|n,cachePool:a}),l.memoizedState=_,l.childLanes=Vc(e,x,n),t.memoizedState=Kc,qi(e.child,l)):(El(t),n=e.child,e=n.sibling,n=il(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=n,t.memoizedState=null,n)}function Wc(e,t){return t=Hr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Hr(e,t){return e=vn(22,e,null,t),e.lanes=0,e}function Qc(e,t,n){return fa(t,e.child,null,n),e=Wc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _f(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),fc(e.return,t,n)}function Fc(e,t,n,l,a,r){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:a,treeForkCount:r}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=n,x.tailMode=a,x.treeForkCount=r)}function Sf(e,t,n){var l=t.pendingProps,a=l.revealOrder,r=l.tail;l=l.children;var x=Tt.current,_=(x&2)!==0;if(_?(x=x&1|2,t.flags|=128):x&=1,xe(Tt,x),Vt(e,t,l,n),l=it?pi:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_f(e,n,t);else if(e.tag===19)_f(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Dr(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Fc(t,!1,a,n,r,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Dr(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Fc(t,!0,n,null,r,l);break;case"together":Fc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function fl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ll|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(La(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=il(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=il(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_r(e)))}function q2(e,t,n){switch(t.tag){case 3:C(t,t.stateNode.containerInfo),Nl(t,Lt,e.memoizedState.cache),ia();break;case 27:case 5:le(t);break;case 4:C(t,t.stateNode.containerInfo);break;case 10:Nl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,jc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(El(t),t.flags|=128,null):(n&t.child.childLanes)!==0?pf(e,t,n):(El(t),e=fl(e,t,n),e!==null?e.sibling:null);El(t);break;case 19:var a=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(La(e,t,n,!1),l=(n&t.childLanes)!==0),a){if(l)return Sf(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xe(Tt,Tt.current),l)break;return null;case 22:return t.lanes=0,hf(e,t,n,t.pendingProps);case 24:Nl(t,Lt,e.memoizedState.cache)}return fl(e,t,n)}function jf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)kt=!0;else{if(!Pc(e,n)&&(t.flags&128)===0)return kt=!1,q2(e,t,n);kt=(e.flags&131072)!==0}else kt=!1,it&&(t.flags&1048576)!==0&&$0(t,pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=sa(t.elementType),t.type=e,typeof e=="function")lc(e)?(l=da(e,l),t.tag=1,t=yf(null,t,e,l,n)):(t.tag=0,t=Ic(null,t,e,l,n));else{if(e!=null){var a=e.$$typeof;if(a===O){t.tag=11,t=ff(null,t,e,l,n);break e}else if(a===ae){t.tag=14,t=xf(null,t,e,l,n);break e}}throw t=Ve(e)||e,Error(c(306,t,""))}}return t;case 0:return Ic(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,a=da(l,t.pendingProps),yf(e,t,l,a,n);case 3:e:{if(C(t,t.stateNode.containerInfo),e===null)throw Error(c(387));l=t.pendingProps;var r=t.memoizedState;a=r.element,yc(e,t),Ni(t,l,null,n);var x=t.memoizedState;if(l=x.cache,Nl(t,Lt,l),l!==r.cache&&xc(t,[Lt],n,!0),zi(),l=x.element,r.isDehydrated)if(r={element:l,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=vf(e,t,l,n);break e}else if(l!==a){a=Dn(Error(c(424)),t),_i(a),t=vf(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,wt=On(e.firstChild),Kt=t,it=!0,Ml=null,En=!0,n=xo(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ia(),l===a){t=fl(e,t,n);break e}Vt(e,t,l,n)}t=t.child}return t;case 26:return Yr(e,t),e===null?(n=Ox(t.type,null,t.pendingProps,null))?t.memoizedState=n:it||(n=t.type,e=t.pendingProps,l=lu(Re.current).createElement(n),l[Ce]=t,l[Ne]=e,Wt(l,n,e),Bt(l),t.stateNode=l):t.memoizedState=Ox(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return le(t),e===null&&it&&(l=t.stateNode=Tx(t.type,t.pendingProps,Re.current),Kt=t,En=!0,a=wt,Hl(t.type)?(Ts=a,wt=On(l.firstChild)):wt=a),Vt(e,t,t.pendingProps.children,n),Yr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&it&&((a=l=wt)&&(l=s1(l,t.type,t.pendingProps,En),l!==null?(t.stateNode=l,Kt=t,wt=On(l.firstChild),En=!1,a=!0):a=!1),a||zl(t)),le(t),a=t.type,r=t.pendingProps,x=e!==null?e.memoizedProps:null,l=r.children,Ms(a,r)?l=null:x!==null&&Ms(a,x)&&(t.flags|=32),t.memoizedState!==null&&(a=Cc(e,t,w2,null,null,n),Vi._currentValue=a),Yr(e,t),Vt(e,t,l,n),t.child;case 6:return e===null&&it&&((e=n=wt)&&(n=o1(n,t.pendingProps,En),n!==null?(t.stateNode=n,Kt=t,wt=null,e=!0):e=!1),e||zl(t)),null;case 13:return pf(e,t,n);case 4:return C(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=fa(t,null,l,n):Vt(e,t,l,n),t.child;case 11:return ff(e,t,t.type,t.pendingProps,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Nl(t,t.type,l.value),Vt(e,t,l.children,n),t.child;case 9:return a=t.type._context,l=t.pendingProps.children,ua(t),a=Jt(a),l=l(a),t.flags|=1,Vt(e,t,l,n),t.child;case 14:return xf(e,t,t.type,t.pendingProps,n);case 15:return df(e,t,t.type,t.pendingProps,n);case 19:return Sf(e,t,n);case 31:return E2(e,t,n);case 22:return hf(e,t,n,t.pendingProps);case 24:return ua(t),l=Jt(Lt),e===null?(a=mc(),a===null&&(a=pt,r=dc(),a.pooledCache=r,r.refCount++,r!==null&&(a.pooledCacheLanes|=n),a=r),t.memoizedState={parent:l,cache:a},gc(t),Nl(t,Lt,a)):((e.lanes&n)!==0&&(yc(e,t),Ni(t,null,null,n),zi()),a=e.memoizedState,r=t.memoizedState,a.parent!==l?(a={parent:l,cache:l},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Nl(t,Lt,l)):(l=r.cache,Nl(t,Lt,l),l!==a.cache&&xc(t,[Lt],n,!0))),Vt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function xl(e){e.flags|=4}function $c(e,t,n,l,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(Qf())e.flags|=8192;else throw oa=Cr,bc}else e.flags&=-16777217}function wf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gx(t))if(Qf())e.flags|=8192;else throw oa=Cr,bc}function Ur(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Oe():536870912,e.lanes|=t,Va|=t)}function Oi(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags&65011712,l|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function O2(e,t,n){var l=t.pendingProps;switch(uc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Ct(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),cl(Lt),V(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ba(t)?xl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,sc())),Ct(t),null;case 26:var a=t.type,r=t.memoizedState;return e===null?(xl(t),r!==null?(Ct(t),wf(t,r)):(Ct(t),$c(t,a,null,l,n))):r?r!==e.memoizedState?(xl(t),Ct(t),wf(t,r)):(Ct(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&xl(t),Ct(t),$c(t,a,e,l,n)),null;case 27:if(X(t),n=Re.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Ct(t),null}e=he.current,Ba(t)?to(t):(e=Tx(a,l,n),t.stateNode=e,xl(t))}return Ct(t),null;case 5:if(X(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Ct(t),null}if(r=he.current,Ba(t))to(t);else{var x=lu(Re.current);switch(r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?x.createElement("select",{is:l.is}):x.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?x.createElement(a,{is:l.is}):x.createElement(a)}}r[Ce]=t,r[Ne]=l;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=r;e:switch(Wt(r,a,l),a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&xl(t)}}return Ct(t),$c(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(c(166));if(e=Re.current,Ba(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,a=Kt,a!==null)switch(a.tag){case 27:case 5:l=a.memoizedProps}e[Ce]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||px(e.nodeValue,n)),e||zl(t,!0)}else e=lu(e).createTextNode(l),e[Ce]=t,t.stateNode=e}return Ct(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ba(t),n!==null){if(e===null){if(!l)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[Ce]=t}else ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ct(t),e=!1}else n=sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(_n(t),t):(_n(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Ct(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ba(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(c(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(c(317));a[Ce]=t}else ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ct(t),a=!1}else a=sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(_n(t),t):(_n(t),null)}return _n(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,a=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(a=l.alternate.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==a&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ur(t,t.updateQueue),Ct(t),null);case 4:return V(),e===null&&_s(t.stateNode.containerInfo),Ct(t),null;case 10:return cl(t.type),Ct(t),null;case 19:if(K(Tt),l=t.memoizedState,l===null)return Ct(t),null;if(a=(t.flags&128)!==0,r=l.rendering,r===null)if(a)Oi(l,!1);else{if(At!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=Dr(e),r!==null){for(t.flags|=128,Oi(l,!1),e=r.updateQueue,t.updateQueue=e,Ur(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Q0(n,e),n=n.sibling;return xe(Tt,Tt.current&1|2),it&&rl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&rt()>Jr&&(t.flags|=128,a=!0,Oi(l,!1),t.lanes=4194304)}else{if(!a)if(e=Dr(r),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ur(t,e),Oi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!r.alternate&&!it)return Ct(t),null}else 2*rt()-l.renderingStartTime>Jr&&n!==536870912&&(t.flags|=128,a=!0,Oi(l,!1),t.lanes=4194304);l.isBackwards?(r.sibling=t.child,t.child=r):(e=l.last,e!==null?e.sibling=r:t.child=r,l.last=r)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rt(),e.sibling=null,n=Tt.current,xe(Tt,a?n&1|2:n&1),it&&rl(t,l.treeForkCount),e):(Ct(t),null);case 22:case 23:return _n(t),Sc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),n=t.updateQueue,n!==null&&Ur(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&K(ca),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cl(Lt),Ct(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function B2(e,t){switch(uc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cl(Lt),V(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(t.memoizedState!==null){if(_n(t),t.alternate===null)throw Error(c(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_n(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Tt),null;case 4:return V(),null;case 10:return cl(t.type),null;case 22:case 23:return _n(t),Sc(),e!==null&&K(ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cl(Lt),null;case 25:return null;default:return null}}function Cf(e,t){switch(uc(t),t.tag){case 3:cl(Lt),V();break;case 26:case 27:case 5:X(t);break;case 4:V();break;case 31:t.memoizedState!==null&&_n(t);break;case 13:_n(t);break;case 19:K(Tt);break;case 10:cl(t.type);break;case 22:case 23:_n(t),Sc(),e!==null&&K(ca);break;case 24:cl(Lt)}}function Bi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var a=l.next;n=a;do{if((n.tag&e)===e){l=void 0;var r=n.create,x=n.inst;l=r(),x.destroy=l}n=n.next}while(n!==a)}}catch(_){mt(t,t.return,_)}}function Ol(e,t,n){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var r=a.next;l=r;do{if((l.tag&e)===e){var x=l.inst,_=x.destroy;if(_!==void 0){x.destroy=void 0,a=t;var N=n,G=_;try{G()}catch(F){mt(a,N,F)}}}l=l.next}while(l!==r)}}catch(F){mt(t,t.return,F)}}function Mf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{mo(t,n)}catch(l){mt(e,e.return,l)}}}function zf(e,t,n){n.props=da(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){mt(e,t,l)}}function Li(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(a){mt(e,t,a)}}function Pn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(a){mt(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){mt(e,t,a)}else n.current=null}function Nf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(a){mt(e,e.return,a)}}function es(e,t,n){try{var l=e.stateNode;l1(l,e.type,n,t),l[Ne]=t}catch(a){mt(e,e.return,a)}}function Df(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hl(e.type)||e.tag===4}function ts(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ns(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ll));else if(l!==4&&(l===27&&Hl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ns(e,t,n),e=e.sibling;e!==null;)ns(e,t,n),e=e.sibling}function Zr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Hl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Zr(e,t,n),e=e.sibling;e!==null;)Zr(e,t,n),e=e.sibling}function Af(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Wt(t,l,n),t[Ce]=e,t[Ne]=n}catch(r){mt(e,e.return,r)}}var dl=!1,Gt=!1,ls=!1,Tf=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function L2(e,t){if(e=e.containerInfo,ws=ou,e=H0(e),Qu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var a=l.anchorOffset,r=l.focusNode;l=l.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var x=0,_=-1,N=-1,G=0,F=0,ne=e,H=null;t:for(;;){for(var I;ne!==n||a!==0&&ne.nodeType!==3||(_=x+a),ne!==r||l!==0&&ne.nodeType!==3||(N=x+l),ne.nodeType===3&&(x+=ne.nodeValue.length),(I=ne.firstChild)!==null;)H=ne,ne=I;for(;;){if(ne===e)break t;if(H===n&&++G===a&&(_=x),H===r&&++F===l&&(N=x),(I=ne.nextSibling)!==null)break;ne=H,H=ne.parentNode}ne=I}n=_===-1||N===-1?null:{start:_,end:N}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cs={focusedElem:e,selectionRange:n},ou=!1,Zt=t;Zt!==null;)if(t=Zt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Zt=e;else for(;Zt!==null;){switch(t=Zt,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,a=r.memoizedProps,r=r.memoizedState,l=n.stateNode;try{var je=da(n.type,a);e=l.getSnapshotBeforeUpdate(je,r),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ye){mt(n,n.return,Ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ns(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ns(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Zt=e;break}Zt=t.return}}function Ef(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:ml(e,n),l&4&&Bi(5,n);break;case 1:if(ml(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(x){mt(n,n.return,x)}else{var a=da(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){mt(n,n.return,x)}}l&64&&Mf(n),l&512&&Li(n,n.return);break;case 3:if(ml(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{mo(e,t)}catch(x){mt(n,n.return,x)}}break;case 27:t===null&&l&4&&Af(n);case 26:case 5:ml(e,n),t===null&&l&4&&Nf(n),l&512&&Li(n,n.return);break;case 12:ml(e,n);break;case 31:ml(e,n),l&4&&Bf(e,n);break;case 13:ml(e,n),l&4&&Lf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=I2.bind(null,n),f1(e,n))));break;case 22:if(l=n.memoizedState!==null||dl,!l){t=t!==null&&t.memoizedState!==null||Gt,a=dl;var r=Gt;dl=l,(Gt=t)&&!r?bl(e,n,(n.subtreeFlags&8772)!==0):ml(e,n),dl=a,Gt=r}break;case 30:break;default:ml(e,n)}}function qf(e){var t=e.alternate;t!==null&&(e.alternate=null,qf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,un=!1;function hl(e,t,n){for(n=n.child;n!==null;)Of(e,t,n),n=n.sibling}function Of(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(kn,n)}catch{}switch(n.tag){case 26:Gt||Pn(n,t),hl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Gt||Pn(n,t);var l=Mt,a=un;Hl(n.type)&&(Mt=n.stateNode,un=!1),hl(e,t,n),Ii(n.stateNode),Mt=l,un=a;break;case 5:Gt||Pn(n,t);case 6:if(l=Mt,a=un,Mt=null,hl(e,t,n),Mt=l,un=a,Mt!==null)if(un)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(r){mt(n,t,r)}else try{Mt.removeChild(n.stateNode)}catch(r){mt(n,t,r)}break;case 18:Mt!==null&&(un?(e=Mt,Mx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):Mx(Mt,n.stateNode));break;case 4:l=Mt,a=un,Mt=n.stateNode.containerInfo,un=!0,hl(e,t,n),Mt=l,un=a;break;case 0:case 11:case 14:case 15:Ol(2,n,t),Gt||Ol(4,n,t),hl(e,t,n);break;case 1:Gt||(Pn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&zf(n,t,l)),hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:Gt=(l=Gt)||n.memoizedState!==null,hl(e,t,n),Gt=l;break;default:hl(e,t,n)}}function Bf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){mt(t,t.return,n)}}}function Lf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){mt(t,t.return,n)}}function R2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Tf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Tf),t;default:throw Error(c(435,e.tag))}}function Xr(e,t){var n=R2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var a=K2.bind(null,e,l);l.then(a,a)}})}function cn(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var a=n[l],r=e,x=t,_=x;e:for(;_!==null;){switch(_.tag){case 27:if(Hl(_.type)){Mt=_.stateNode,un=!1;break e}break;case 5:Mt=_.stateNode,un=!1;break e;case 3:case 4:Mt=_.stateNode.containerInfo,un=!0;break e}_=_.return}if(Mt===null)throw Error(c(160));Of(r,x,a),Mt=null,un=!1,r=a.alternate,r!==null&&(r.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rf(t,e),t=t.sibling}var Un=null;function Rf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(t,e),sn(e),l&4&&(Ol(3,e,e.return),Bi(3,e),Ol(5,e,e.return));break;case 1:cn(t,e),sn(e),l&512&&(Gt||n===null||Pn(n,n.return)),l&64&&dl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var a=Un;if(cn(t,e),sn(e),l&512&&(Gt||n===null||Pn(n,n.return)),l&4){var r=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(l){case"title":r=a.getElementsByTagName("title")[0],(!r||r[ln]||r[Ce]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=a.createElement(l),a.head.insertBefore(r,a.querySelector("head > title"))),Wt(r,l,n),r[Ce]=e,Bt(r),l=r;break e;case"link":var x=Rx("link","href",a).get(l+(n.href||""));if(x){for(var _=0;_<x.length;_++)if(r=x[_],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){x.splice(_,1);break t}}r=a.createElement(l),Wt(r,l,n),a.head.appendChild(r);break;case"meta":if(x=Rx("meta","content",a).get(l+(n.content||""))){for(_=0;_<x.length;_++)if(r=x[_],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){x.splice(_,1);break t}}r=a.createElement(l),Wt(r,l,n),a.head.appendChild(r);break;default:throw Error(c(468,l))}r[Ce]=e,Bt(r),l=r}e.stateNode=l}else kx(a,e.type,e.stateNode);else e.stateNode=Lx(a,l,e.memoizedProps);else r!==l?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,l===null?kx(a,e.type,e.stateNode):Lx(a,l,e.memoizedProps)):l===null&&e.stateNode!==null&&es(e,e.memoizedProps,n.memoizedProps)}break;case 27:cn(t,e),sn(e),l&512&&(Gt||n===null||Pn(n,n.return)),n!==null&&l&4&&es(e,e.memoizedProps,n.memoizedProps);break;case 5:if(cn(t,e),sn(e),l&512&&(Gt||n===null||Pn(n,n.return)),e.flags&32){a=e.stateNode;try{Ca(a,"")}catch(je){mt(e,e.return,je)}}l&4&&e.stateNode!=null&&(a=e.memoizedProps,es(e,a,n!==null?n.memoizedProps:a)),l&1024&&(ls=!0);break;case 6:if(cn(t,e),sn(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(je){mt(e,e.return,je)}}break;case 3:if(ru=null,a=Un,Un=au(t.containerInfo),cn(t,e),Un=a,sn(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(je){mt(e,e.return,je)}ls&&(ls=!1,kf(e));break;case 4:l=Un,Un=au(e.stateNode.containerInfo),cn(t,e),sn(e),Un=l;break;case 12:cn(t,e),sn(e);break;case 31:cn(t,e),sn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xr(e,l)));break;case 13:cn(t,e),sn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Kr=rt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xr(e,l)));break;case 22:a=e.memoizedState!==null;var N=n!==null&&n.memoizedState!==null,G=dl,F=Gt;if(dl=G||a,Gt=F||N,cn(t,e),Gt=F,dl=G,sn(e),l&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||N||dl||Gt||ha(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){N=n=t;try{if(r=N.stateNode,a)x=r.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{_=N.stateNode;var ne=N.memoizedProps.style,H=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;_.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(je){mt(N,N.return,je)}}}else if(t.tag===6){if(n===null){N=t;try{N.stateNode.nodeValue=a?"":N.memoizedProps}catch(je){mt(N,N.return,je)}}}else if(t.tag===18){if(n===null){N=t;try{var I=N.stateNode;a?zx(I,!0):zx(N.stateNode,!1)}catch(je){mt(N,N.return,je)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Xr(e,n))));break;case 19:cn(t,e),sn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xr(e,l)));break;case 30:break;case 21:break;default:cn(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(Df(l)){n=l;break}l=l.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var a=n.stateNode,r=ts(e);Zr(e,r,a);break;case 5:var x=n.stateNode;n.flags&32&&(Ca(x,""),n.flags&=-33);var _=ts(e);Zr(e,_,x);break;case 3:case 4:var N=n.stateNode.containerInfo,G=ts(e);ns(e,G,N);break;default:throw Error(c(161))}}catch(F){mt(e,e.return,F)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ml(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ef(e,t.alternate,t),t=t.sibling}function ha(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ol(4,t,t.return),ha(t);break;case 1:Pn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&zf(t,t.return,n),ha(t);break;case 27:Ii(t.stateNode);case 26:case 5:Pn(t,t.return),ha(t);break;case 22:t.memoizedState===null&&ha(t);break;case 30:ha(t);break;default:ha(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,a=e,r=t,x=r.flags;switch(r.tag){case 0:case 11:case 15:bl(a,r,n),Bi(4,r);break;case 1:if(bl(a,r,n),l=r,a=l.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(G){mt(l,l.return,G)}if(l=r,a=l.updateQueue,a!==null){var _=l.stateNode;try{var N=a.shared.hiddenCallbacks;if(N!==null)for(a.shared.hiddenCallbacks=null,a=0;a<N.length;a++)ho(N[a],_)}catch(G){mt(l,l.return,G)}}n&&x&64&&Mf(r),Li(r,r.return);break;case 27:Af(r);case 26:case 5:bl(a,r,n),n&&l===null&&x&4&&Nf(r),Li(r,r.return);break;case 12:bl(a,r,n);break;case 31:bl(a,r,n),n&&x&4&&Bf(a,r);break;case 13:bl(a,r,n),n&&x&4&&Lf(a,r);break;case 22:r.memoizedState===null&&bl(a,r,n),Li(r,r.return);break;case 30:break;default:bl(a,r,n)}t=t.sibling}}function as(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Si(n))}function is(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e))}function Zn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gf(e,t,n,l),t=t.sibling}function Gf(e,t,n,l){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Zn(e,t,n,l),a&2048&&Bi(9,t);break;case 1:Zn(e,t,n,l);break;case 3:Zn(e,t,n,l),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e)));break;case 12:if(a&2048){Zn(e,t,n,l),e=t.stateNode;try{var r=t.memoizedProps,x=r.id,_=r.onPostCommit;typeof _=="function"&&_(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){mt(t,t.return,N)}}else Zn(e,t,n,l);break;case 31:Zn(e,t,n,l);break;case 13:Zn(e,t,n,l);break;case 23:break;case 22:r=t.stateNode,x=t.alternate,t.memoizedState!==null?r._visibility&2?Zn(e,t,n,l):Ri(e,t):r._visibility&2?Zn(e,t,n,l):(r._visibility|=2,Ia(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),a&2048&&as(x,t);break;case 24:Zn(e,t,n,l),a&2048&&is(t.alternate,t);break;default:Zn(e,t,n,l)}}function Ia(e,t,n,l,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,x=t,_=n,N=l,G=x.flags;switch(x.tag){case 0:case 11:case 15:Ia(r,x,_,N,a),Bi(8,x);break;case 23:break;case 22:var F=x.stateNode;x.memoizedState!==null?F._visibility&2?Ia(r,x,_,N,a):Ri(r,x):(F._visibility|=2,Ia(r,x,_,N,a)),a&&G&2048&&as(x.alternate,x);break;case 24:Ia(r,x,_,N,a),a&&G&2048&&is(x.alternate,x);break;default:Ia(r,x,_,N,a)}t=t.sibling}}function Ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,a=l.flags;switch(l.tag){case 22:Ri(n,l),a&2048&&as(l.alternate,l);break;case 24:Ri(n,l),a&2048&&is(l.alternate,l);break;default:Ri(n,l)}t=t.sibling}}var ki=8192;function Ka(e,t,n){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)Yf(e,t,n),e=e.sibling}function Yf(e,t,n){switch(e.tag){case 26:Ka(e,t,n),e.flags&ki&&e.memoizedState!==null&&j1(n,Un,e.memoizedState,e.memoizedProps);break;case 5:Ka(e,t,n);break;case 3:case 4:var l=Un;Un=au(e.stateNode.containerInfo),Ka(e,t,n),Un=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ki,ki=16777216,Ka(e,t,n),ki=l):Ka(e,t,n));break;default:Ka(e,t,n)}}function Hf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Zt=l,Zf(l,e)}Hf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uf(e),e=e.sibling}function Uf(e){switch(e.tag){case 0:case 11:case 15:Gi(e),e.flags&2048&&Ol(9,e,e.return);break;case 3:Gi(e);break;case 12:Gi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ir(e)):Gi(e);break;default:Gi(e)}}function Ir(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Zt=l,Zf(l,e)}Hf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ol(8,t,t.return),Ir(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ir(t));break;default:Ir(t)}e=e.sibling}}function Zf(e,t){for(;Zt!==null;){var n=Zt;switch(n.tag){case 0:case 11:case 15:Ol(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Si(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Zt=l;else e:for(n=e;Zt!==null;){l=Zt;var a=l.sibling,r=l.return;if(qf(l),l===n){Zt=null;break e}if(a!==null){a.return=r,Zt=a;break e}Zt=r}}}var k2={getCacheForType:function(e){var t=Jt(Lt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Jt(Lt).controller.signal}},G2=typeof WeakMap=="function"?WeakMap:Map,xt=0,pt=null,tt=null,lt=0,ht=0,Sn=null,Bl=!1,Ja=!1,rs=!1,gl=0,At=0,Ll=0,ma=0,us=0,jn=0,Va=0,Yi=null,on=null,cs=!1,Kr=0,Xf=0,Jr=1/0,Vr=null,Rl=null,Ht=0,kl=null,Wa=null,yl=0,ss=0,os=null,If=null,Hi=0,fs=null;function wn(){return(xt&2)!==0&&lt!==0?lt&-lt:U.T!==null?gs():se()}function Kf(){if(jn===0)if((lt&536870912)===0||it){var e=oe;oe<<=1,(oe&3932160)===0&&(oe=262144),jn=e}else jn=536870912;return e=pn.current,e!==null&&(e.flags|=32),jn}function fn(e,t,n){(e===pt&&(ht===2||ht===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Gl(e,lt,jn,!1)),Ie(e,n),((xt&2)===0||e!==pt)&&(e===pt&&((xt&2)===0&&(ma|=n),At===4&&Gl(e,lt,jn,!1)),$n(e))}function Jf(e,t,n){if((xt&6)!==0)throw Error(c(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ue(e,t),a=l?U2(e,t):ds(e,t,!0),r=l;do{if(a===0){Ja&&!l&&Gl(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!Y2(n)){a=ds(e,t,!1),r=!1;continue}if(a===2){if(r=t,e.errorRecoveryDisabledLanes&r)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var _=e;a=Yi;var N=_.current.memoizedState.isDehydrated;if(N&&(Qa(_,x).flags|=256),x=ds(_,x,!1),x!==2){if(rs&&!N){_.errorRecoveryDisabledLanes|=r,ma|=r,a=4;break e}r=on,on=a,r!==null&&(on===null?on=r:on.push.apply(on,r))}a=x}if(r=!1,a!==2)continue}}if(a===1){Qa(e,0),Gl(e,t,0,!0);break}e:{switch(l=e,r=a,r){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Gl(l,t,jn,!Bl);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(a=Kr+300-rt(),10<a)){if(Gl(l,t,jn,!Bl),ze(l,0,!0)!==0)break e;yl=t,l.timeoutHandle=wx(Vf.bind(null,l,n,on,Vr,cs,t,jn,ma,Va,Bl,r,"Throttled",-0,0),a);break e}Vf(l,n,on,Vr,cs,t,jn,ma,Va,Bl,r,null,-0,0)}}break}while(!0);$n(e)}function Vf(e,t,n,l,a,r,x,_,N,G,F,ne,H,I){if(e.timeoutHandle=-1,ne=t.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ll},Yf(t,r,ne);var je=(r&62914560)===r?Kr-rt():(r&4194048)===r?Xf-rt():0;if(je=w1(ne,je),je!==null){yl=r,e.cancelPendingCommit=je(nx.bind(null,e,t,r,n,l,a,x,_,N,F,ne,null,H,I)),Gl(e,r,x,!G);return}}nx(e,t,r,n,l,a,x,_,N)}function Y2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var a=n[l],r=a.getSnapshot;a=a.value;try{if(!yn(r(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gl(e,t,n,l){t&=~us,t&=~ma,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var a=t;0<a;){var r=31-qt(a),x=1<<r;l[r]=-1,a&=~x}n!==0&&Pe(e,n,t)}function Wr(){return(xt&6)===0?(Ui(0),!1):!0}function xs(){if(tt!==null){if(ht===0)var e=tt.return;else e=tt,ul=ra=null,Nc(e),Ya=null,wi=0,e=tt;for(;e!==null;)Cf(e.alternate,e),e=e.return;tt=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,r1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),yl=0,xs(),pt=e,tt=n=il(e.current,null),lt=t,ht=0,Sn=null,Bl=!1,Ja=Ue(e,t),rs=!1,Va=jn=us=ma=Ll=At=0,on=Yi=null,cs=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var a=31-qt(l),r=1<<a;t|=e[a],l&=~r}return gl=t,br(),n}function Wf(e,t){Je=null,U.H=Ei,t===Ga||t===wr?(t=so(),ht=3):t===bc?(t=so(),ht=4):ht=t===Xc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Sn=t,tt===null&&(At=1,kr(e,Dn(t,e.current)))}function Qf(){var e=pn.current;return e===null?!0:(lt&4194048)===lt?qn===null:(lt&62914560)===lt||(lt&536870912)!==0?e===qn:!1}function Ff(){var e=U.H;return U.H=Ei,e===null?Ei:e}function Pf(){var e=U.A;return U.A=k2,e}function Qr(){At=4,Bl||(lt&4194048)!==lt&&pn.current!==null||(Ja=!0),(Ll&134217727)===0&&(ma&134217727)===0||pt===null||Gl(pt,lt,jn,!1)}function ds(e,t,n){var l=xt;xt|=2;var a=Ff(),r=Pf();(pt!==e||lt!==t)&&(Vr=null,Qa(e,t)),t=!1;var x=At;e:do try{if(ht!==0&&tt!==null){var _=tt,N=Sn;switch(ht){case 8:xs(),x=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(t=!0);var G=ht;if(ht=0,Sn=null,Fa(e,_,N,G),n&&Ja){x=0;break e}break;default:G=ht,ht=0,Sn=null,Fa(e,_,N,G)}}H2(),x=At;break}catch(F){Wf(e,F)}while(!0);return t&&e.shellSuspendCounter++,ul=ra=null,xt=l,U.H=a,U.A=r,tt===null&&(pt=null,lt=0,br()),x}function H2(){for(;tt!==null;)$f(tt)}function U2(e,t){var n=xt;xt|=2;var l=Ff(),a=Pf();pt!==e||lt!==t?(Vr=null,Jr=rt()+500,Qa(e,t)):Ja=Ue(e,t);e:do try{if(ht!==0&&tt!==null){t=tt;var r=Sn;t:switch(ht){case 1:ht=0,Sn=null,Fa(e,t,r,1);break;case 2:case 9:if(uo(r)){ht=0,Sn=null,ex(t);break}t=function(){ht!==2&&ht!==9||pt!==e||(ht=7),$n(e)},r.then(t,t);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:uo(r)?(ht=0,Sn=null,ex(t)):(ht=0,Sn=null,Fa(e,t,r,7));break;case 5:var x=null;switch(tt.tag){case 26:x=tt.memoizedState;case 5:case 27:var _=tt;if(x?Gx(x):_.stateNode.complete){ht=0,Sn=null;var N=_.sibling;if(N!==null)tt=N;else{var G=_.return;G!==null?(tt=G,Fr(G)):tt=null}break t}}ht=0,Sn=null,Fa(e,t,r,5);break;case 6:ht=0,Sn=null,Fa(e,t,r,6);break;case 8:xs(),At=6;break e;default:throw Error(c(462))}}Z2();break}catch(F){Wf(e,F)}while(!0);return ul=ra=null,U.H=l,U.A=a,xt=n,tt!==null?0:(pt=null,lt=0,br(),At)}function Z2(){for(;tt!==null&&!dt();)$f(tt)}function $f(e){var t=jf(e.alternate,e,gl);e.memoizedProps=e.pendingProps,t===null?Fr(e):tt=t}function ex(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=gf(n,t,t.pendingProps,t.type,void 0,lt);break;case 11:t=gf(n,t,t.pendingProps,t.type.render,t.ref,lt);break;case 5:Nc(t);default:Cf(n,t),t=tt=Q0(t,gl),t=jf(n,t,gl)}e.memoizedProps=e.pendingProps,t===null?Fr(e):tt=t}function Fa(e,t,n,l){ul=ra=null,Nc(t),Ya=null,wi=0;var a=t.return;try{if(T2(e,a,t,n,lt)){At=1,kr(e,Dn(n,e.current)),tt=null;return}}catch(r){if(a!==null)throw tt=a,r;At=1,kr(e,Dn(n,e.current)),tt=null;return}t.flags&32768?(it||l===1?e=!0:Ja||(lt&536870912)!==0?e=!1:(Bl=e=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),tx(t,e)):Fr(t)}function Fr(e){var t=e;do{if((t.flags&32768)!==0){tx(t,Bl);return}e=t.return;var n=O2(t.alternate,t,gl);if(n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);At===0&&(At=5)}function tx(e,t){do{var n=B2(e.alternate,e);if(n!==null){n.flags&=32767,tt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){tt=e;return}tt=e=n}while(e!==null);At=6,tt=null}function nx(e,t,n,l,a,r,x,_,N){e.cancelPendingCommit=null;do Pr();while(Ht!==0);if((xt&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(r=t.lanes|t.childLanes,r|=tc,et(e,n,r,x,_,N),e===pt&&(tt=pt=null,lt=0),Wa=t,kl=e,yl=n,ss=r,os=a,If=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,J2(Xt,function(){return ux(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,a=Z.p,Z.p=2,x=xt,xt|=4;try{L2(e,t,n)}finally{xt=x,Z.p=a,U.T=l}}Ht=1,lx(),ax(),ix()}}function lx(){if(Ht===1){Ht=0;var e=kl,t=Wa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=U.T,U.T=null;var l=Z.p;Z.p=2;var a=xt;xt|=4;try{Rf(t,e);var r=Cs,x=H0(e.containerInfo),_=r.focusedElem,N=r.selectionRange;if(x!==_&&_&&_.ownerDocument&&Y0(_.ownerDocument.documentElement,_)){if(N!==null&&Qu(_)){var G=N.start,F=N.end;if(F===void 0&&(F=G),"selectionStart"in _)_.selectionStart=G,_.selectionEnd=Math.min(F,_.value.length);else{var ne=_.ownerDocument||document,H=ne&&ne.defaultView||window;if(H.getSelection){var I=H.getSelection(),je=_.textContent.length,Ye=Math.min(N.start,je),yt=N.end===void 0?Ye:Math.min(N.end,je);!I.extend&&Ye>yt&&(x=yt,yt=Ye,Ye=x);var R=G0(_,Ye),D=G0(_,yt);if(R&&D&&(I.rangeCount!==1||I.anchorNode!==R.node||I.anchorOffset!==R.offset||I.focusNode!==D.node||I.focusOffset!==D.offset)){var k=ne.createRange();k.setStart(R.node,R.offset),I.removeAllRanges(),Ye>yt?(I.addRange(k),I.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),I.addRange(k))}}}}for(ne=[],I=_;I=I.parentNode;)I.nodeType===1&&ne.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ne.length;_++){var $=ne[_];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}ou=!!ws,Cs=ws=null}finally{xt=a,Z.p=l,U.T=n}}e.current=t,Ht=2}}function ax(){if(Ht===2){Ht=0;var e=kl,t=Wa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=U.T,U.T=null;var l=Z.p;Z.p=2;var a=xt;xt|=4;try{Ef(e,t.alternate,t)}finally{xt=a,Z.p=l,U.T=n}}Ht=3}}function ix(){if(Ht===4||Ht===3){Ht=0,_t();var e=kl,t=Wa,n=yl,l=If;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ht=5:(Ht=0,Wa=kl=null,rx(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Rl=null),te(n),t=t.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(kn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=U.T,a=Z.p,Z.p=2,U.T=null;try{for(var r=e.onRecoverableError,x=0;x<l.length;x++){var _=l[x];r(_.value,{componentStack:_.stack})}}finally{U.T=t,Z.p=a}}(yl&3)!==0&&Pr(),$n(e),a=e.pendingLanes,(n&261930)!==0&&(a&42)!==0?e===fs?Hi++:(Hi=0,fs=e):Hi=0,Ui(0)}}function rx(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Si(t)))}function Pr(){return lx(),ax(),ix(),ux()}function ux(){if(Ht!==5)return!1;var e=kl,t=ss;ss=0;var n=te(yl),l=U.T,a=Z.p;try{Z.p=32>n?32:n,U.T=null,n=os,os=null;var r=kl,x=yl;if(Ht=0,Wa=kl=null,yl=0,(xt&6)!==0)throw Error(c(331));var _=xt;if(xt|=4,Uf(r.current),Gf(r,r.current,x,n),xt=_,Ui(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(kn,r)}catch{}return!0}finally{Z.p=a,U.T=l,rx(e,t)}}function cx(e,t,n){t=Dn(n,t),t=Zc(e.stateNode,t,2),e=Tl(e,t,2),e!==null&&(Ie(e,2),$n(e))}function mt(e,t,n){if(e.tag===3)cx(e,e,n);else for(;t!==null;){if(t.tag===3){cx(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rl===null||!Rl.has(l))){e=Dn(n,e),n=sf(2),l=Tl(t,n,2),l!==null&&(of(n,l,t,e),Ie(l,2),$n(l));break}}t=t.return}}function hs(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new G2;var a=new Set;l.set(t,a)}else a=l.get(t),a===void 0&&(a=new Set,l.set(t,a));a.has(n)||(rs=!0,a.add(n),e=X2.bind(null,e,t,n),t.then(e,e))}function X2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pt===e&&(lt&n)===n&&(At===4||At===3&&(lt&62914560)===lt&&300>rt()-Kr?(xt&2)===0&&Qa(e,0):us|=n,Va===lt&&(Va=0)),$n(e)}function sx(e,t){t===0&&(t=Oe()),e=la(e,t),e!==null&&(Ie(e,t),$n(e))}function I2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sx(e,n)}function K2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(t),sx(e,n)}function J2(e,t){return Be(e,t)}var $r=null,Pa=null,ms=!1,eu=!1,bs=!1,Yl=0;function $n(e){e!==Pa&&e.next===null&&(Pa===null?$r=Pa=e:Pa=Pa.next=e),eu=!0,ms||(ms=!0,W2())}function Ui(e,t){if(!bs&&eu){bs=!0;do for(var n=!1,l=$r;l!==null;){if(e!==0){var a=l.pendingLanes;if(a===0)var r=0;else{var x=l.suspendedLanes,_=l.pingedLanes;r=(1<<31-qt(42|e)+1)-1,r&=a&~(x&~_),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,dx(l,r))}else r=lt,r=ze(l,l===pt?r:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(r&3)===0||Ue(l,r)||(n=!0,dx(l,r));l=l.next}while(n);bs=!1}}function V2(){ox()}function ox(){eu=ms=!1;var e=0;Yl!==0&&i1()&&(e=Yl);for(var t=rt(),n=null,l=$r;l!==null;){var a=l.next,r=fx(l,t);r===0?(l.next=null,n===null?$r=a:n.next=a,a===null&&(Pa=n)):(n=l,(e!==0||(r&3)!==0)&&(eu=!0)),l=a}Ht!==0&&Ht!==5||Ui(e),Yl!==0&&(Yl=0)}function fx(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var x=31-qt(r),_=1<<x,N=a[x];N===-1?((_&n)===0||(_&l)!==0)&&(a[x]=Ge(_,t)):N<=t&&(e.expiredLanes|=_),r&=~_}if(t=pt,n=lt,n=ze(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(ht===2||ht===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ft(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ue(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&ft(l),te(n)){case 2:case 8:n=Ft;break;case 32:n=Xt;break;case 268435456:n=Jn;break;default:n=Xt}return l=xx.bind(null,e),n=Be(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&ft(l),e.callbackPriority=2,e.callbackNode=null,2}function xx(e,t){if(Ht!==0&&Ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var l=lt;return l=ze(e,e===pt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Jf(e,l,t),fx(e,rt()),e.callbackNode!=null&&e.callbackNode===n?xx.bind(null,e):null)}function dx(e,t){if(Pr())return null;Jf(e,t,!0)}function W2(){u1(function(){(xt&6)!==0?Be($e,V2):ox()})}function gs(){if(Yl===0){var e=Ra;e===0&&(e=E,E<<=1,(E&261888)===0&&(E=256)),Yl=e}return Yl}function hx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cr(""+e)}function mx(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Q2(e,t,n,l,a){if(t==="submit"&&n&&n.stateNode===a){var r=hx((a[Ne]||null).action),x=l.submitter;x&&(t=(t=x[Ne]||null)?hx(t.formAction):x.getAttribute("formAction"),t!==null&&(r=t,x=null));var _=new xr("action","action",null,l,a);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yl!==0){var N=x?mx(a,x):new FormData(a);Rc(n,{pending:!0,data:N,method:a.method,action:r},null,N)}}else typeof r=="function"&&(_.preventDefault(),N=x?mx(a,x):new FormData(a),Rc(n,{pending:!0,data:N,method:a.method,action:r},r,N))},currentTarget:a}]})}}for(var ys=0;ys<ec.length;ys++){var vs=ec[ys],F2=vs.toLowerCase(),P2=vs[0].toUpperCase()+vs.slice(1);Hn(F2,"on"+P2)}Hn(X0,"onAnimationEnd"),Hn(I0,"onAnimationIteration"),Hn(K0,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(h2,"onTransitionRun"),Hn(m2,"onTransitionStart"),Hn(b2,"onTransitionCancel"),Hn(J0,"onTransitionEnd"),nl("onMouseEnter",["mouseout","mouseover"]),nl("onMouseLeave",["mouseout","mouseover"]),nl("onPointerEnter",["pointerout","pointerover"]),nl("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zi));function bx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],a=l.event;l=l.listeners;e:{var r=void 0;if(t)for(var x=l.length-1;0<=x;x--){var _=l[x],N=_.instance,G=_.currentTarget;if(_=_.listener,N!==r&&a.isPropagationStopped())break e;r=_,a.currentTarget=G;try{r(a)}catch(F){mr(F)}a.currentTarget=null,r=N}else for(x=0;x<l.length;x++){if(_=l[x],N=_.instance,G=_.currentTarget,_=_.listener,N!==r&&a.isPropagationStopped())break e;r=_,a.currentTarget=G;try{r(a)}catch(F){mr(F)}a.currentTarget=null,r=N}}}}function nt(e,t){var n=t[Xe];n===void 0&&(n=t[Xe]=new Set);var l=e+"__bubble";n.has(l)||(gx(t,e,2,!1),n.add(l))}function ps(e,t,n){var l=0;t&&(l|=4),gx(n,e,l,t)}var tu="_reactListening"+Math.random().toString(36).slice(2);function _s(e){if(!e[tu]){e[tu]=!0,pl.forEach(function(n){n!=="selectionchange"&&($2.has(n)||ps(n,!1,e),ps(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tu]||(t[tu]=!0,ps("selectionchange",!1,t))}}function gx(e,t,n,l){switch(Kx(t)){case 2:var a=z1;break;case 8:a=N1;break;default:a=Ls}n=a.bind(null,t,n,e),a=void 0,!Hu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ss(e,t,n,l,a){var r=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var _=l.stateNode.containerInfo;if(_===a)break;if(x===4)for(x=l.return;x!==null;){var N=x.tag;if((N===3||N===4)&&x.stateNode.containerInfo===a)return;x=x.return}for(;_!==null;){if(x=Cn(_),x===null)return;if(N=x.tag,N===5||N===6||N===26||N===27){l=r=x;continue e}_=_.parentNode}}l=l.return}p0(function(){var G=r,F=Gu(n),ne=[];e:{var H=V0.get(e);if(H!==void 0){var I=xr,je=e;switch(e){case"keypress":if(or(n)===0)break e;case"keydown":case"keyup":I=Kd;break;case"focusin":je="focus",I=Iu;break;case"focusout":je="blur",I=Iu;break;case"beforeblur":case"afterblur":I=Iu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=j0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Wd;break;case X0:case I0:case K0:I=Rd;break;case J0:I=Fd;break;case"scroll":case"scrollend":I=Ed;break;case"wheel":I=$d;break;case"copy":case"cut":case"paste":I=Gd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=C0;break;case"toggle":case"beforetoggle":I=t2}var Ye=(t&4)!==0,yt=!Ye&&(e==="scroll"||e==="scrollend"),R=Ye?H!==null?H+"Capture":null:H;Ye=[];for(var D=G,k;D!==null;){var $=D;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||R===null||($=fi(D,R),$!=null&&Ye.push(Xi(D,$,k))),yt)break;D=D.return}0<Ye.length&&(H=new I(H,je,null,n,F),ne.push({event:H,listeners:Ye}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",H&&n!==ku&&(je=n.relatedTarget||n.fromElement)&&(Cn(je)||je[Ze]))break e;if((I||H)&&(H=F.window===F?F:(H=F.ownerDocument)?H.defaultView||H.parentWindow:window,I?(je=n.relatedTarget||n.toElement,I=G,je=je?Cn(je):null,je!==null&&(yt=h(je),Ye=je.tag,je!==yt||Ye!==5&&Ye!==27&&Ye!==6)&&(je=null)):(I=null,je=G),I!==je)){if(Ye=j0,$="onMouseLeave",R="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(Ye=C0,$="onPointerLeave",R="onPointerEnter",D="pointer"),yt=I==null?H:Mn(I),k=je==null?H:Mn(je),H=new Ye($,D+"leave",I,n,F),H.target=yt,H.relatedTarget=k,$=null,Cn(F)===G&&(Ye=new Ye(R,D+"enter",je,n,F),Ye.target=k,Ye.relatedTarget=yt,$=Ye),yt=$,I&&je)t:{for(Ye=e1,R=I,D=je,k=0,$=R;$;$=Ye($))k++;$=0;for(var Le=D;Le;Le=Ye(Le))$++;for(;0<k-$;)R=Ye(R),k--;for(;0<$-k;)D=Ye(D),$--;for(;k--;){if(R===D||D!==null&&R===D.alternate){Ye=R;break t}R=Ye(R),D=Ye(D)}Ye=null}else Ye=null;I!==null&&yx(ne,H,I,Ye,!1),je!==null&&yt!==null&&yx(ne,yt,je,Ye,!0)}}e:{if(H=G?Mn(G):window,I=H.nodeName&&H.nodeName.toLowerCase(),I==="select"||I==="input"&&H.type==="file")var st=q0;else if(T0(H))if(O0)st=f2;else{st=s2;var De=c2}else I=H.nodeName,!I||I.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?G&&Ru(G.elementType)&&(st=q0):st=o2;if(st&&(st=st(e,G))){E0(ne,st,n,F);break e}De&&De(e,H,G),e==="focusout"&&G&&H.type==="number"&&G.memoizedProps.value!=null&&Lu(H,"number",H.value)}switch(De=G?Mn(G):window,e){case"focusin":(T0(De)||De.contentEditable==="true")&&(Da=De,Fu=G,vi=null);break;case"focusout":vi=Fu=Da=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,U0(ne,n,F);break;case"selectionchange":if(d2)break;case"keydown":case"keyup":U0(ne,n,F)}var Qe;if(Ju)e:{switch(e){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Na?D0(e,n)&&(at="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(at="onCompositionStart");at&&(M0&&n.locale!=="ko"&&(Na||at!=="onCompositionStart"?at==="onCompositionEnd"&&Na&&(Qe=_0()):(wl=F,Uu="value"in wl?wl.value:wl.textContent,Na=!0)),De=nu(G,at),0<De.length&&(at=new w0(at,e,null,n,F),ne.push({event:at,listeners:De}),Qe?at.data=Qe:(Qe=A0(n),Qe!==null&&(at.data=Qe)))),(Qe=l2?a2(e,n):i2(e,n))&&(at=nu(G,"onBeforeInput"),0<at.length&&(De=new w0("onBeforeInput","beforeinput",null,n,F),ne.push({event:De,listeners:at}),De.data=Qe)),Q2(ne,e,G,n,F)}bx(ne,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nu(e,t){for(var n=t+"Capture",l=[];e!==null;){var a=e,r=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||r===null||(a=fi(e,n),a!=null&&l.unshift(Xi(e,a,r)),a=fi(e,t),a!=null&&l.push(Xi(e,a,r))),e.tag===3)return l;e=e.return}return[]}function e1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yx(e,t,n,l,a){for(var r=t._reactName,x=[];n!==null&&n!==l;){var _=n,N=_.alternate,G=_.stateNode;if(_=_.tag,N!==null&&N===l)break;_!==5&&_!==26&&_!==27||G===null||(N=G,a?(G=fi(n,r),G!=null&&x.unshift(Xi(n,G,N))):a||(G=fi(n,r),G!=null&&x.push(Xi(n,G,N)))),n=n.return}x.length!==0&&e.push({event:t,listeners:x})}var t1=/\r\n?/g,n1=/\u0000|\uFFFD/g;function vx(e){return(typeof e=="string"?e:""+e).replace(t1,`
`).replace(n1,"")}function px(e,t){return t=vx(t),vx(e)===t}function gt(e,t,n,l,a,r){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ca(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ca(e,""+l);break;case"className":jl(e,"class",l);break;case"tabIndex":jl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jl(e,n,l);break;case"style":y0(e,l,r);break;case"data":if(t!=="object"){jl(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=cr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&gt(e,t,"name",a.name,a,null),gt(e,t,"formEncType",a.formEncType,a,null),gt(e,t,"formMethod",a.formMethod,a,null),gt(e,t,"formTarget",a.formTarget,a,null)):(gt(e,t,"encType",a.encType,a,null),gt(e,t,"method",a.method,a,null),gt(e,t,"target",a.target,a,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=cr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=ll);break;case"onScroll":l!=null&&nt("scroll",e);break;case"onScrollEnd":l!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=cr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":nt("beforetoggle",e),nt("toggle",e),Sl(e,"popover",l);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ad.get(n)||n,Sl(e,n,l))}}function js(e,t,n,l,a,r){switch(n){case"style":y0(e,l,r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Ca(e,l):(typeof l=="number"||typeof l=="bigint")&&Ca(e,""+l);break;case"onScroll":l!=null&&nt("scroll",e);break;case"onScrollEnd":l!=null&&nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),r=e[Ne]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,a),typeof l=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,a);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Sl(e,n,l)}}}function Wt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var l=!1,a=!1,r;for(r in n)if(n.hasOwnProperty(r)){var x=n[r];if(x!=null)switch(r){case"src":l=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:gt(e,t,r,x,n,null)}}a&&gt(e,t,"srcSet",n.srcSet,n,null),l&&gt(e,t,"src",n.src,n,null);return;case"input":nt("invalid",e);var _=r=x=a=null,N=null,G=null;for(l in n)if(n.hasOwnProperty(l)){var F=n[l];if(F!=null)switch(l){case"name":a=F;break;case"type":x=F;break;case"checked":N=F;break;case"defaultChecked":G=F;break;case"value":r=F;break;case"defaultValue":_=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(c(137,t));break;default:gt(e,t,l,F,n,null)}}h0(e,r,_,N,G,x,a,!1);return;case"select":nt("invalid",e),l=x=r=null;for(a in n)if(n.hasOwnProperty(a)&&(_=n[a],_!=null))switch(a){case"value":r=_;break;case"defaultValue":x=_;break;case"multiple":l=_;default:gt(e,t,a,_,n,null)}t=r,n=x,e.multiple=!!l,t!=null?wa(e,!!l,t,!1):n!=null&&wa(e,!!l,n,!0);return;case"textarea":nt("invalid",e),r=a=l=null;for(x in n)if(n.hasOwnProperty(x)&&(_=n[x],_!=null))switch(x){case"value":l=_;break;case"defaultValue":a=_;break;case"children":r=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(c(91));break;default:gt(e,t,x,_,n,null)}b0(e,l,a,r);return;case"option":for(N in n)n.hasOwnProperty(N)&&(l=n[N],l!=null)&&(N==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":gt(e,t,N,l,n,null));return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(l=0;l<Zi.length;l++)nt(Zi[l],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in n)if(n.hasOwnProperty(G)&&(l=n[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:gt(e,t,G,l,n,null)}return;default:if(Ru(t)){for(F in n)n.hasOwnProperty(F)&&(l=n[F],l!==void 0&&js(e,t,F,l,n,void 0));return}}for(_ in n)n.hasOwnProperty(_)&&(l=n[_],l!=null&&gt(e,t,_,l,n,null))}function l1(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,x=null,_=null,N=null,G=null,F=null;for(I in n){var ne=n[I];if(n.hasOwnProperty(I)&&ne!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":N=ne;default:l.hasOwnProperty(I)||gt(e,t,I,null,l,ne)}}for(var H in l){var I=l[H];if(ne=n[H],l.hasOwnProperty(H)&&(I!=null||ne!=null))switch(H){case"type":r=I;break;case"name":a=I;break;case"checked":G=I;break;case"defaultChecked":F=I;break;case"value":x=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(c(137,t));break;default:I!==ne&&gt(e,t,H,I,l,ne)}}Bu(e,x,_,N,G,F,r,a);return;case"select":I=x=_=H=null;for(r in n)if(N=n[r],n.hasOwnProperty(r)&&N!=null)switch(r){case"value":break;case"multiple":I=N;default:l.hasOwnProperty(r)||gt(e,t,r,null,l,N)}for(a in l)if(r=l[a],N=n[a],l.hasOwnProperty(a)&&(r!=null||N!=null))switch(a){case"value":H=r;break;case"defaultValue":_=r;break;case"multiple":x=r;default:r!==N&&gt(e,t,a,r,l,N)}t=_,n=x,l=I,H!=null?wa(e,!!n,H,!1):!!l!=!!n&&(t!=null?wa(e,!!n,t,!0):wa(e,!!n,n?[]:"",!1));return;case"textarea":I=H=null;for(_ in n)if(a=n[_],n.hasOwnProperty(_)&&a!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:gt(e,t,_,null,l,a)}for(x in l)if(a=l[x],r=n[x],l.hasOwnProperty(x)&&(a!=null||r!=null))switch(x){case"value":H=a;break;case"defaultValue":I=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(c(91));break;default:a!==r&&gt(e,t,x,a,l,r)}m0(e,H,I);return;case"option":for(var je in n)H=n[je],n.hasOwnProperty(je)&&H!=null&&!l.hasOwnProperty(je)&&(je==="selected"?e.selected=!1:gt(e,t,je,null,l,H));for(N in l)H=l[N],I=n[N],l.hasOwnProperty(N)&&H!==I&&(H!=null||I!=null)&&(N==="selected"?e.selected=H&&typeof H!="function"&&typeof H!="symbol":gt(e,t,N,H,l,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in n)H=n[Ye],n.hasOwnProperty(Ye)&&H!=null&&!l.hasOwnProperty(Ye)&&gt(e,t,Ye,null,l,H);for(G in l)if(H=l[G],I=n[G],l.hasOwnProperty(G)&&H!==I&&(H!=null||I!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(c(137,t));break;default:gt(e,t,G,H,l,I)}return;default:if(Ru(t)){for(var yt in n)H=n[yt],n.hasOwnProperty(yt)&&H!==void 0&&!l.hasOwnProperty(yt)&&js(e,t,yt,void 0,l,H);for(F in l)H=l[F],I=n[F],!l.hasOwnProperty(F)||H===I||H===void 0&&I===void 0||js(e,t,F,H,l,I);return}}for(var R in n)H=n[R],n.hasOwnProperty(R)&&H!=null&&!l.hasOwnProperty(R)&&gt(e,t,R,null,l,H);for(ne in l)H=l[ne],I=n[ne],!l.hasOwnProperty(ne)||H===I||H==null&&I==null||gt(e,t,ne,H,l,I)}function _x(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var a=n[l],r=a.transferSize,x=a.initiatorType,_=a.duration;if(r&&_&&_x(x)){for(x=0,_=a.responseEnd,l+=1;l<n.length;l++){var N=n[l],G=N.startTime;if(G>_)break;var F=N.transferSize,ne=N.initiatorType;F&&_x(ne)&&(N=N.responseEnd,x+=F*(N<_?1:(_-G)/(N-G)))}if(--l,t+=8*(r+x)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ws=null,Cs=null;function lu(e){return e.nodeType===9?e:e.ownerDocument}function Sx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jx(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ms(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zs=null;function i1(){var e=window.event;return e&&e.type==="popstate"?e===zs?!1:(zs=e,!0):(zs=null,!1)}var wx=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,Cx=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cx<"u"?function(e){return Cx.resolve(null).then(e).catch(c1)}:wx;function c1(e){setTimeout(function(){throw e})}function Hl(e){return e==="head"}function Mx(e,t){var n=t,l=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(a),ni(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ii(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ii(n);for(var r=n.firstChild;r;){var x=r.nextSibling,_=r.nodeName;r[ln]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=x}}else n==="body"&&Ii(e.ownerDocument.body);n=a}while(n);ni(t)}function zx(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Ns(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ns(n),Fl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function s1(e,t,n,l){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ln])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function o1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function Nx(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=On(e.nextSibling),e===null))return null;return e}function Ds(e){return e.data==="$?"||e.data==="$~"}function As(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function f1(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ts=null;function Dx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return On(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Ax(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Tx(e,t,n){switch(t=lu(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Ii(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fl(e)}var Bn=new Map,Ex=new Set;function au(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vl=Z.d;Z.d={f:x1,r:d1,D:h1,C:m1,L:b1,m:g1,X:v1,S:y1,M:p1};function x1(){var e=vl.f(),t=Wr();return e||t}function d1(e){var t=Ot(e);t!==null&&t.tag===5&&t.type==="form"?Vo(t):vl.r(e)}var $a=typeof document>"u"?null:document;function qx(e,t,n){var l=$a;if(l&&typeof t=="string"&&t){var a=an(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Ex.has(a)||(Ex.add(a),e={rel:e,crossOrigin:n,href:t},l.querySelector(a)===null&&(t=l.createElement("link"),Wt(t,"link",e),Bt(t),l.head.appendChild(t)))}}function h1(e){vl.D(e),qx("dns-prefetch",e,null)}function m1(e,t){vl.C(e,t),qx("preconnect",e,t)}function b1(e,t,n){vl.L(e,t,n);var l=$a;if(l&&e&&t){var a='link[rel="preload"][as="'+an(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+an(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+an(n.imageSizes)+'"]')):a+='[href="'+an(e)+'"]';var r=a;switch(t){case"style":r=ei(e);break;case"script":r=ti(e)}Bn.has(r)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Bn.set(r,e),l.querySelector(a)!==null||t==="style"&&l.querySelector(Ki(r))||t==="script"&&l.querySelector(Ji(r))||(t=l.createElement("link"),Wt(t,"link",e),Bt(t),l.head.appendChild(t)))}}function g1(e,t){vl.m(e,t);var n=$a;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(e)+'"]',r=a;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=ti(e)}if(!Bn.has(r)&&(e=b({rel:"modulepreload",href:e},t),Bn.set(r,e),n.querySelector(a)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ji(r)))return}l=n.createElement("link"),Wt(l,"link",e),Bt(l),n.head.appendChild(l)}}}function y1(e,t,n){vl.S(e,t,n);var l=$a;if(l&&e){var a=Yn(l).hoistableStyles,r=ei(e);t=t||"default";var x=a.get(r);if(!x){var _={loading:0,preload:null};if(x=l.querySelector(Ki(r)))_.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Bn.get(r))&&Es(e,n);var N=x=l.createElement("link");Bt(N),Wt(N,"link",e),N._p=new Promise(function(G,F){N.onload=G,N.onerror=F}),N.addEventListener("load",function(){_.loading|=1}),N.addEventListener("error",function(){_.loading|=2}),_.loading|=4,iu(x,t,l)}x={type:"stylesheet",instance:x,count:1,state:_},a.set(r,x)}}}function v1(e,t){vl.X(e,t);var n=$a;if(n&&e){var l=Yn(n).hoistableScripts,a=ti(e),r=l.get(a);r||(r=n.querySelector(Ji(a)),r||(e=b({src:e,async:!0},t),(t=Bn.get(a))&&qs(e,t),r=n.createElement("script"),Bt(r),Wt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(a,r))}}function p1(e,t){vl.M(e,t);var n=$a;if(n&&e){var l=Yn(n).hoistableScripts,a=ti(e),r=l.get(a);r||(r=n.querySelector(Ji(a)),r||(e=b({src:e,async:!0,type:"module"},t),(t=Bn.get(a))&&qs(e,t),r=n.createElement("script"),Bt(r),Wt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(a,r))}}function Ox(e,t,n,l){var a=(a=Re.current)?au(a):null;if(!a)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=Yn(a).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var r=Yn(a).hoistableStyles,x=r.get(e);if(x||(a=a.ownerDocument||a,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,x),(r=a.querySelector(Ki(e)))&&!r._p&&(x.instance=r,x.state.loading=5),Bn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bn.set(e,n),r||_1(a,e,n,x.state))),t&&l===null)throw Error(c(528,""));return x}if(t&&l!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=Yn(a).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function ei(e){return'href="'+an(e)+'"'}function Ki(e){return'link[rel="stylesheet"]['+e+"]"}function Bx(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function _1(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Wt(t,"link",n),Bt(t),e.head.appendChild(t))}function ti(e){return'[src="'+an(e)+'"]'}function Ji(e){return"script[async]"+e}function Lx(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+an(n.href)+'"]');if(l)return t.instance=l,Bt(l),l;var a=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Bt(l),Wt(l,"style",a),iu(l,n.precedence,e),t.instance=l;case"stylesheet":a=ei(n.href);var r=e.querySelector(Ki(a));if(r)return t.state.loading|=4,t.instance=r,Bt(r),r;l=Bx(n),(a=Bn.get(a))&&Es(l,a),r=(e.ownerDocument||e).createElement("link"),Bt(r);var x=r;return x._p=new Promise(function(_,N){x.onload=_,x.onerror=N}),Wt(r,"link",l),t.state.loading|=4,iu(r,n.precedence,e),t.instance=r;case"script":return r=ti(n.src),(a=e.querySelector(Ji(r)))?(t.instance=a,Bt(a),a):(l=n,(a=Bn.get(r))&&(l=b({},n),qs(l,a)),e=e.ownerDocument||e,a=e.createElement("script"),Bt(a),Wt(a,"link",l),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,iu(l,n.precedence,e));return t.instance}function iu(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=l.length?l[l.length-1]:null,r=a,x=0;x<l.length;x++){var _=l[x];if(_.dataset.precedence===t)r=_;else if(r!==a)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Es(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qs(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ru=null;function Rx(e,t,n){if(ru===null){var l=new Map,a=ru=new Map;a.set(n,l)}else a=ru,l=a.get(n),l||(l=new Map,a.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var r=n[a];if(!(r[ln]||r[Ce]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var x=r.getAttribute(t)||"";x=e+x;var _=l.get(x);_?_.push(r):l.set(x,[r])}}return l}function kx(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function S1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Gx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function j1(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var a=ei(l.href),r=t.querySelector(Ki(a));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=uu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Bt(r);return}r=t.ownerDocument||t,l=Bx(l),(a=Bn.get(a))&&Es(l,a),r=r.createElement("link"),Bt(r);var x=r;x._p=new Promise(function(_,N){x.onload=_,x.onerror=N}),Wt(r,"link",l),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=uu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Os=0;function w1(e,t){return e.stylesheets&&e.count===0&&su(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&su(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Os===0&&(Os=62500*a1());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&su(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Os?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(a)}}:null}function uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)su(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cu=null;function su(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cu=new Map,t.forEach(C1,e),cu=null,uu.call(e))}function C1(e,t){if(!(t.state.loading&4)){var n=cu.get(e);if(n)var l=n.get(null);else{n=new Map,cu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var x=a[r];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(n.set(x.dataset.precedence,x),l=x)}l&&n.set(null,l)}a=t.instance,x=a.getAttribute("data-precedence"),r=n.get(x)||l,r===l&&n.set(null,a),n.set(x,a),this.count++,l=uu.bind(this),a.addEventListener("load",l),a.addEventListener("error",l),r?r.parentNode.insertBefore(a,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Vi={$$typeof:B,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function M1(e,t,n,l,a,r,x,_,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=l,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Yx(e,t,n,l,a,r,x,_,N,G,F,ne){return e=new M1(e,t,n,x,N,G,F,ne,_),t=1,r===!0&&(t|=24),r=vn(3,null,null,t),e.current=r,r.stateNode=e,t=dc(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:l,isDehydrated:n,cache:t},gc(r),e}function Hx(e){return e?(e=Ea,e):Ea}function Ux(e,t,n,l,a,r){a=Hx(a),l.context===null?l.context=a:l.pendingContext=a,l=Al(t),l.payload={element:n},r=r===void 0?null:r,r!==null&&(l.callback=r),n=Tl(e,l,t),n!==null&&(fn(n,e,t),Mi(n,e,t))}function Zx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bs(e,t){Zx(e,t),(e=e.alternate)&&Zx(e,t)}function Xx(e){if(e.tag===13||e.tag===31){var t=la(e,67108864);t!==null&&fn(t,e,67108864),Bs(e,67108864)}}function Ix(e){if(e.tag===13||e.tag===31){var t=wn();t=Q(t);var n=la(e,t);n!==null&&fn(n,e,t),Bs(e,t)}}var ou=!0;function z1(e,t,n,l){var a=U.T;U.T=null;var r=Z.p;try{Z.p=2,Ls(e,t,n,l)}finally{Z.p=r,U.T=a}}function N1(e,t,n,l){var a=U.T;U.T=null;var r=Z.p;try{Z.p=8,Ls(e,t,n,l)}finally{Z.p=r,U.T=a}}function Ls(e,t,n,l){if(ou){var a=Rs(l);if(a===null)Ss(e,t,l,fu,n),Jx(e,l);else if(A1(a,e,t,n,l))l.stopPropagation();else if(Jx(e,l),t&4&&-1<D1.indexOf(e)){for(;a!==null;){var r=Ot(a);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var x=pe(r.pendingLanes);if(x!==0){var _=r;for(_.pendingLanes|=2,_.entangledLanes|=2;x;){var N=1<<31-qt(x);_.entanglements[1]|=N,x&=~N}$n(r),(xt&6)===0&&(Jr=rt()+500,Ui(0))}}break;case 31:case 13:_=la(r,2),_!==null&&fn(_,r,2),Wr(),Bs(r,2)}if(r=Rs(l),r===null&&Ss(e,t,l,fu,n),r===a)break;a=r}a!==null&&l.stopPropagation()}else Ss(e,t,l,null,n)}}function Rs(e){return e=Gu(e),ks(e)}var fu=null;function ks(e){if(fu=null,e=Cn(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=y(t),e!==null)return e;e=null}else if(n===31){if(e=M(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fu=e,null}function Kx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case $e:return 2;case Ft:return 8;case Xt:case bn:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var Gs=!1,Ul=null,Zl=null,Xl=null,Wi=new Map,Qi=new Map,Il=[],D1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jx(e,t){switch(e){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":Zl=null;break;case"mouseover":case"mouseout":Xl=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function Fi(e,t,n,l,a,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:r,targetContainers:[a]},t!==null&&(t=Ot(t),t!==null&&Xx(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function A1(e,t,n,l,a){switch(t){case"focusin":return Ul=Fi(Ul,e,t,n,l,a),!0;case"dragenter":return Zl=Fi(Zl,e,t,n,l,a),!0;case"mouseover":return Xl=Fi(Xl,e,t,n,l,a),!0;case"pointerover":var r=a.pointerId;return Wi.set(r,Fi(Wi.get(r)||null,e,t,n,l,a)),!0;case"gotpointercapture":return r=a.pointerId,Qi.set(r,Fi(Qi.get(r)||null,e,t,n,l,a)),!0}return!1}function Vx(e){var t=Cn(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=y(n),t!==null){e.blockedOn=t,de(e.priority,function(){Ix(n)});return}}else if(t===31){if(t=M(n),t!==null){e.blockedOn=t,de(e.priority,function(){Ix(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rs(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);ku=l,n.target.dispatchEvent(l),ku=null}else return t=Ot(n),t!==null&&Xx(t),e.blockedOn=n,!1;t.shift()}return!0}function Wx(e,t,n){xu(e)&&n.delete(t)}function T1(){Gs=!1,Ul!==null&&xu(Ul)&&(Ul=null),Zl!==null&&xu(Zl)&&(Zl=null),Xl!==null&&xu(Xl)&&(Xl=null),Wi.forEach(Wx),Qi.forEach(Wx)}function du(e,t){e.blockedOn===t&&(e.blockedOn=null,Gs||(Gs=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,T1)))}var hu=null;function Qx(e){hu!==e&&(hu=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){hu===e&&(hu=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],a=e[t+2];if(typeof l!="function"){if(ks(l||n)===null)continue;break}var r=Ot(n);r!==null&&(e.splice(t,3),t-=3,Rc(r,{pending:!0,data:a,method:n.method,action:l},l,a))}}))}function ni(e){function t(N){return du(N,e)}Ul!==null&&du(Ul,e),Zl!==null&&du(Zl,e),Xl!==null&&du(Xl,e),Wi.forEach(t),Qi.forEach(t);for(var n=0;n<Il.length;n++){var l=Il[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Il.length&&(n=Il[0],n.blockedOn===null);)Vx(n),n.blockedOn===null&&Il.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var a=n[l],r=n[l+1],x=a[Ne]||null;if(typeof r=="function")x||Qx(n);else if(x){var _=null;if(r&&r.hasAttribute("formAction")){if(a=r,x=r[Ne]||null)_=x.formAction;else if(ks(a)!==null)continue}else _=x.action;typeof _=="function"?n[l+1]=_:(n.splice(l,3),l-=3),Qx(n)}}}function Fx(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(x){return a=x})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Ys(e){this._internalRoot=e}mu.prototype.render=Ys.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,l=wn();Ux(n,l,e,t,null,null)},mu.prototype.unmount=Ys.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ux(e.current,2,null,e,null,null),Wr(),t[Ze]=null}};function mu(e){this._internalRoot=e}mu.prototype.unstable_scheduleHydration=function(e){if(e){var t=se();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Il.length&&t!==0&&t<Il[n].priority;n++);Il.splice(n,0,e),n===0&&Vx(e)}};var Px=s.version;if(Px!=="19.2.3")throw Error(c(527,Px,"19.2.3"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=d(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var E1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{kn=bu.inject(E1),Yt=bu}catch{}}return $i.createRoot=function(e,t){if(!f(e))throw Error(c(299));var n=!1,l="",a=af,r=rf,x=uf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=Yx(e,1,!1,null,null,n,l,null,a,r,x,Fx),e[Ze]=t.current,_s(e),new Ys(t)},$i.hydrateRoot=function(e,t,n){if(!f(e))throw Error(c(299));var l=!1,a="",r=af,x=rf,_=uf,N=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(x=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.formState!==void 0&&(N=n.formState)),t=Yx(e,1,!0,t,n??null,l,a,N,r,x,_,Fx),t.context=Hx(null),n=t.current,l=wn(),l=Q(l),a=Al(l),a.callback=null,Tl(n,a,l),n=l,t.current.lanes=n,Ie(t,n),$n(t),e[Ze]=t.current,_s(e),new mu(t)},$i.version="19.2.3",$i}var cd;function U1(){if(cd)return Zs.exports;cd=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),Zs.exports=H1(),Zs.exports}var Z1=U1();const ar=Xn;function pu(){const o=["Bwf4","mJrsAhvdBg8","nfrYq3vNBa","kcGOlISPkYKRksSK","mZqXntmXmfbfv3r5Ca","mJeWmdqYmhvmz0L5sa","C2XPy2u","mJa3nZq1nwjqwM1qsa","C2vHCMnO","mJi0ndy1n2PABevHAa","ndrAweH3vgO","mZC2nurNDxzbzG","CgfYC2u","Dg9tDhjPBMC","odaYmJm3mxHStuTeuq","mJHHtK9vBNy","z3jVDxbZ","mZi4mdi5m2TZtuzOsW"];return pu=function(){return o},pu()}function Xn(o,s){o=o-344;const i=pu();let c=i[o];if(Xn.kldSiS===void 0){var f=function(v){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",b="",p=g+f;for(let m=0,S,j,A=0;j=v.charAt(A++);~j&&(S=m%4?S*64+j:j,m++%4)?g+=p.charCodeAt(A+10)-10!==0?String.fromCharCode(255&S>>(-2*m&6)):m:0)j=d.indexOf(j);for(let m=0,S=g.length;m<S;m++)b+="%"+("00"+g.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(b)};Xn.dXgwFf=f,Xn.NJliSY={},Xn.kldSiS=!0}const h=i[0],y=o+h,M=Xn.NJliSY[y];if(M)c=M;else{const v=function(d){this.HmOCdX=d,this.eVvqyK=[1,0,0],this.bXieRF=function(){return"newState"},this.tTloHj="\\w+ *\\(\\) *{\\w+ *",this.WVuAra=`['|"].+['|"];? *}`};v.prototype.emjVzz=function(){const d=new RegExp(this.tTloHj+this.WVuAra),g=d.test(this.bXieRF.toString())?--this.eVvqyK[1]:--this.eVvqyK[0];return this.jNzNyh(g)},v.prototype.jNzNyh=function(d){return~d?this.gsRWDW(this.HmOCdX):d},v.prototype.gsRWDW=function(d){for(let g=0,b=this.eVvqyK.length;g<b;g++)this.eVvqyK.push(Math.round(Math.random())),b=this.eVvqyK.length;return d(this.eVvqyK[0])},new v(Xn).emjVzz(),c=Xn.dXgwFf(c),Xn.NJliSY[y]=c}return c}(function(o,s){const i=Xn,c=o();for(;;)try{if(-parseInt(i(353))/1*(-parseInt(i(357))/2)+-parseInt(i(351))/3*(parseInt(i(344))/4)+-parseInt(i(349))/5+parseInt(i(347))/6+parseInt(i(356))/7+-parseInt(i(361))/8*(parseInt(i(359))/9)+parseInt(i(346))/10*(parseInt(i(352))/11)===s)break;c.push(c.shift())}catch{c.push(c.shift())}})(pu,657816);const X1=(function(){let o=!0;return function(s,i){const c=o?function(){if(i){const f=i.apply(s,arguments);return i=null,f}}:function(){};return o=!1,c}})(),Vs=X1(void 0,function(){const o=Xn,s={CeNWY:o(345)};return Vs.toString()[o(350)](s.CeNWY).toString().constructor(Vs)[o(350)]("(((.+)+)+)+$")});Vs();const _u=()=>new Date().toISOString(),el=o=>o+"_"+Math.random()[ar(355)](36)[ar(348)](2,10),Fe=(o,s,i)=>Math[ar(360)](s,Math.min(i,o)),ii=o=>JSON[ar(354)](JSON.stringify(o)),tr=o=>Math.floor(o*.7/5)*5;function va(o,s){return o[ar(358)]?o.groups.find(c=>c.flowerIds.includes(s))??null:null}function I1(o,s){const i=va(o,s);return i?i.flowerIds:[s]}const pa=zt;(function(o,s){const i=zt,c=o();for(;;)try{if(-parseInt(i(264))/1+-parseInt(i(293))/2*(-parseInt(i(224))/3)+-parseInt(i(289))/4*(-parseInt(i(250))/5)+-parseInt(i(299))/6+parseInt(i(240))/7*(-parseInt(i(294))/8)+-parseInt(i(311))/9*(parseInt(i(303))/10)+parseInt(i(242))/11===s)break;c.push(c.shift())}catch{c.push(c.shift())}})(Su,255749);const K1=(function(){const o={tPstM:function(i,c){return i-c},RnmUk:function(i,c){return i*c},SDDGU:function(i,c){return i/c},DspfE:function(i,c){return i+c},vuKxz:function(i,c){return i!==c},esqKU:"tGUKq",yoLPd:"Lbrep",RyXnN:function(i,c){return i!==c}};let s=!0;return function(i,c){const f=zt,h={lRQcl:function(M,v){return o[zt(312)](M,v)},tuttt:function(M,v){return o[zt(257)](M,v)},MGITH:function(M,v){return M===v},sOoDw:function(M,v){return o.RnmUk(M,v)},zeoVL:function(M,v){return M/v},Fxcaz:function(M,v){return o.SDDGU(M,v)},wBTey:function(M,v){return o.DspfE(M,v)},AbzNV:function(M,v){return o.vuKxz(M,v)},ITzmJ:o.esqKU,EswBO:o[f(318)],rMGVg:function(M,v){return o[f(280)](M,v)},YavQP:f(328)},y=s?function(){const M=f;if(h[M(234)](h[M(306)],h[M(307)])){if(c)if(h.rMGVg(h.YavQP,"mfeLG")){const v=_0x3c41d0[h[M(298)](_0x431099,1)],d=h.tuttt(_0x5c173d,v.scale??1);let g;if(h[M(216)](_0x19561c,"")){const p=70*_0x545ac3.PI/180,m=_0x7e4c5d>1?h[M(314)](_0x48f68f/(_0x259d89-1),p):0;g=d*h.zeoVL(30,100)*_0x56dd58.cos(m)}else g=d/3;_0x187f76[_0x2bf5e4].radius=h[M(310)](_0x127f7b.round(h[M(314)](v.radius+g,10)),10)}else{const v=c[M(263)](i,arguments);return c=null,v}}else{const v=h.Fxcaz(h.wBTey(_0x5d057b,_0x30dde5),2),{diameter:d}=_0x3ced8f(_0x42add3,v,_0x2453c6);d<_0x271beb?_0x274d0b=v:_0x142468=v}}:function(){};return s=!1,y}})(),Ws=K1(void 0,function(){const o=zt,s={zdDnM:"(((.+)+)+)+$"};return Ws.toString()[o(320)]("(((.+)+)+)+$").toString()[o(278)](Ws)[o(320)](s[o(281)])});Ws();const rr=.28,ri=2/3,sd=.6,J1=.25,V1=.75,od={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function fd(o){const s=zt,i={edTff:function(c,f){return c===f},kMDsP:s(268)};return i[s(313)](o,i.kMDsP)?od.:od[s(321)]}function ci(o){const s=zt,i={eSTwJ:function(c,f){return c/f},MmRSA:function(c,f){return c*f}};return i[s(215)](i.MmRSA(o,Math.PI),180)}function Su(){const o=["CMfKAxvZ","rvjMEhu","mJu5mJb4q2j4y0S","r1zuzLa","CvfMENy","svr6BuO","rxn3qK8","Dg9tDhjPBMC","BwPMDfm","rNHJyxO","mta2mKXyEMXVwa","DfbZDe0","zwruzMy","C09VrhC","vhDswvy","C2nHBgu","sfLAt1i","Ew9mugq","EeXiyK4","C2vHCMnO","5lI444gK44g+44g/","zLPIzhO","ANDVBuu","Dg9gAxHLza","C2LU","kcGOlISPkYKRksSK","DwDxEu0","BwzLteC","twPyAhi","zvnuD0O","tuDjveG","BgvUz3rO","BMrczvC","rMv1zLq","Dw5PzM9YBq","tvnmugC","CM9dCfC","u1fsvdi","m1fmsLbHtW","C29YDa","DerTDuu","Eu91y1C","zvPWsum","qufSB3K","wvj6sge","BwLU","uhLXEK0","Bxzps0i","qwj6tLy","uejbrKi","C2L6zu1Vzgu","DhPdA00","Bwf4","CvbuBvO","n25dwfvvqq","wfvxC3C","mteWotm4nJnqy2z3vxO","t3Lpzg4","B2P2wfy","y29Z","B3jKzxi","y2jhtxq","wfLmvhe","yu5NEuu","mtiWnZG1nuDzBMTkAa","BfPfvu4","z3jHzhvHBa","qNLgB08","wxvet1K","Dfv5qNK","wNHtA3C","uM5TvwS","DLDAtwi","zwrzsuO","r2jUBfm","rNLouxG","ufzTqwK","yxbWBhK","mJa4ndHXBhjNzwe","t0HZD1q","AxHpuhC","Axvhv2G","5yMJ44gK44g+44g/","BxbivMG","wvjmrNe","CM91BMq","se9XAfa","u2HMEhC","rNDiB2u","sNPdr0K","s0PPsLG","ywDsy1q","y29UC3rYDwn0B3i","t3H4y3y","uNLyBK4","EMreBK0","ywjZ","vgHLB2K","r3nIAKi","Bgf5zxjdB3vUDa","ChvZAa","zunbveG","wgjnBhC","nfvtswDkCW","yK5Hvei","A2rlsgC","ANfZANy","mJC3mduYrhroseTj","mZq1mZq0ofD0whHisG","t1niBKe","uKfKwhO","C2L6zvn0zxbnBq","Bfjry2W","mJi0nJK3nLnAtLzdAa","ExvvtNO"];return Su=function(){return o},Su()}const mn=2.7;function Qt(o){const s=zt,i={XbMlw:function(y,M){return y/M},WrLPT:function(y,M){return y*M}},c=i[s(288)](o*Math.SQRT2,2),f=i.WrLPT(c,mn),h=f/2;return{length:f,width:h}}function W1(o){return{OYsPW:function(i,c){return i*c}}.OYsPW(o,mn)/2}function nr(o,s,i){const c=zt,f={nbwpn:function(d,g){return d*g},iwsjB:function(d,g){return d/g}},{length:h}=Qt(i),y=h*s,M=Math[c(238)](0,o-f.nbwpn(y,rr)),v=M+y;return f.iwsjB(v*2,mn)}function Q1(o,s,i){const c=zt,f={eZpIC:function(v,d){return v(d)},qPTmZ:function(v,d){return v*d}},{length:h}=f[c(228)](Qt,i),y=f[c(239)](h,s),M=o*mn/2;return Math[c(238)](2,M-f[c(239)](y,1-rr))}function tl(o,s,i){const c=zt,f={tzCkM:function(g,b){return g/b},kdKHg:function(g,b){return g*b},zvLUX:function(g,b){return g/b},lDXHA:c(326),WHQUW:function(g,b){return g/b},UeTOE:function(g,b){return g/b},Theoi:function(g,b){return g<b},iffLA:function(g,b){return g+b},XYLTq:function(g,b){return g*b},agRcT:function(g,b){return g+b},tNbpt:c(275),jqsjv:function(g,b){return g+b},xQQfx:function(g,b){return g%b},zRisy:"tUMLl",AAloy:function(g,b){return g-b}},h=f.WHQUW(360,o),y=f.UeTOE(360,i),M=[];for(let g=0;f.Theoi(g,o);g++)M[c(286)](f.iffLA((s+f[c(248)](g,h))%360,360)%360);let v=f.iffLA(s,f[c(237)](h,2)),d=-1;for(let g=0;g<o;g++){const b=f[c(277)](s+g*h,h/2);let p=1/0;for(let m=0;m<i;m++)if(c(275)!==f.tNbpt){const S=LzhaaZ.tzCkM(LzhaaZ.kdKHg(_0x173f36,_0x46b548[c(223)]),2),j=LzhaaZ[c(291)](S,_0x9deb89),A=LzhaaZ.zvLUX(j,2);return{length:j,width:A}}else{const S=f[c(292)](f.xQQfx(f[c(292)](b,m*y),360),360)%360;for(const j of M)if(f.zRisy!==c(243)){let A=Math.abs(S-j);A>180&&(A=f[c(229)](360,A)),f[c(283)](A,p)&&(p=A)}else return _0x335f9c[c(308)]()[c(320)](c(326)).toString()[c(278)](_0x140ad3)[c(320)](LzhaaZ.lDXHA)}p>d&&(d=p,v=b)}return Math.round(v*10)/10}function ju(o,s,i){const c=zt,f={ojvXV:function(m,S){return m(S)},cREtP:function(m,S){return m*S},YuDOY:function(m,S){return m-S},SuWLM:function(m,S){return m+S},ioirU:function(m,S){return m<=S},XUWsw:function(m,S){return m/S},HOqhP:function(m,S,j){return m(S,j)}};if(o[c(217)]===0)return;const{length:h}=f[c(244)](Qt,s),y=o[0],M=y.scale??1,v=f.cREtP(h,M),d=Math[c(238)](0,f[c(254)](y[c(301)],v*rr)),g=f.SuWLM(d,v);if(f.ioirU(g,0))return;const b=i*mn/2,p=b/g;for(const m of o)m[c(301)]=Math[c(238)](2,Math[c(271)](m.radius*p*10)/10),m[c(316)]=f[c(241)](Math.round(f.cREtP(m[c(316)]??1,p)*100),100);f[c(272)](Qs,o,s)}function Qs(o,s){const i=zt,c={PBAFB:function(v,d){return v===d},heTED:function(v,d){return v*d},cbGMt:function(v,d){return v/d},ziGFq:function(v,d){return v>d},tDmuE:function(v,d){return v!==d}};if(c[i(235)](o[i(217)],0))return;const f=o[o[i(217)]-1],{length:h}=Qt(s),y=c.heTED(h,f[i(316)]??1),M=c[i(247)](Math.floor(y*rr*10),10);if(c.ziGFq(f.radius,M))if(c[i(226)]("rMSiJ","rMSiJ")){let v=_0xefb216[i(282)](_0x48353f-_0x2a01c0);v>180&&(v=360-v),v<_0x14d1c3&&(_0x23f4c0=v)}else f[i(301)]=M}function F1(o,s,i,c){const f=zt,h={eCATH:function(p,m){return p/m},ixOPw:function(p,m){return p*m},HYZOR:function(p,m){return p<=m},rkXQb:function(p,m){return p/m},rgfPg:function(p,m){return p*m},ZBfak:function(p,m){return p===m},YRzHa:function(p,m){return p/m},ndBeW:function(p,m){return p*m},WQqVQ:function(p,m){return p*m},edYIJ:function(p,m){return p+m},fZbdz:function(p,m){return p===m},Shfxw:function(p,m){return p*m},PyqzM:function(p,m){return p*m},GbnlS:function(p,m){return p-m},GVTfP:function(p,m){return p*m},yBjTl:function(p,m){return p<m},rHNEs:"",lZEUN:function(p,m){return p>m},ZxSkw:function(p,m){return p-m},OHswT:function(p,m){return p*m},tUyBy:function(p,m){return p/m},xvhxT:"yuUNz"};if(o[f(217)]===0)return;const y=[...o].sort((p,m)=>m[f(246)]-p.order),{length:M}=Qt(s),v=y.length,d=y[0][f(316)]??1,g=h.rgfPg(M,d);y[0][f(301)]=h.YRzHa(Math.floor(h[f(304)](h[f(218)](g,rr),10)),10);for(let p=1;h.yBjTl(p,v);p++){const m=y[h[f(260)](p,1)],S=M*(m[f(316)]??1);let j;if(i===h.rHNEs){const J=70*Math.PI/180,q=h[f(251)](v,1)?p/h[f(256)](v,1)*J:0;j=h[f(265)](S*(30/100),Math[f(245)](q))}else j=h[f(255)](S,3);y[p].radius=h.tUyBy(Math.round((m.radius+j)*10),10)}const b=[...o][f(225)]((p,m)=>p[f(246)]-m.order);ju(b,s,c);for(const p of b){const m=o.find(S=>S.id===p.id);if(m)if(h.xvhxT!==f(300)){const S=h.eCATH(_0x2936d9,2),j=h[f(287)](h[f(266)](_0xac93b1,_0xcb242c[f(223)]),2);if(h[f(317)](j,0)||h.HYZOR(S,0))return{diameter:_0x1a08c5,layerCount:1};const A=_0x2cce3b?.sizeMode??"uniform",J=_0x2eb8f1?.[f(297)]??0,q=h[f(266)](j,1-_0xdeab9b),B=_0x33e9f3.PI*S/2,O=_0x189b5a?.[f(285)]??_0x283000.max(1,_0x28c0e9[f(271)](h[f(287)](B,q))),L=A===f(252)?_0x1bfac4+(O-1)*J:_0x3d5d60,P=h.rkXQb(h.ixOPw(L,_0x3838b0[f(223)]),2),ae=j*_0x5c0406+h.rgfPg(P,_0x1d74d8);if(h.ZBfak(O,1)){const He=_0x27765f[f(231)](h[f(230)](_0x5ded79.PI,2),h.rkXQb(h.ndBeW(P,_0x3a33dc),S)),Te=S*_0x4d16e3.sin(He),Ve=P*_0x645cd2*_0x52b86e[f(325)](He);return{diameter:_0x2f1739[f(271)](_0xe15552.max(_0x572977,h.WQqVQ(2,h.edYIJ(Te,Ve)))),layerCount:O}}let ie=j*_0x3ca2c6/S;for(let He=1;He<O;He++){const Te=h[f(322)](A,f(252))?_0x133a11+h.Shfxw(He,J):_0x5df60c,Ve=Te*_0x112ee0[f(223)]/2;ie+=Ve*(1-_0x69092b)/S}ie=_0xfc38bf[f(231)](ie,_0x16d8aa.PI/2);const ue=h[f(232)](h[f(259)](S,ae*_0x17342b),_0x67a293[f(325)](ie)),me=_0x22ad4d.max(0,h.GbnlS(ue,S));return{diameter:_0x5dc1af.round(_0x589994+h[f(273)](2,me)),layerCount:O}}else m.radius=p.radius,m[f(316)]=p.scale}}function Wl(o,s,i){const c=zt,f={GxnIZ:function(B,O){return B/O},ByFoO:function(B,O){return B<=O},gjGtL:function(B,O){return B-O},FwHoe:function(B,O){return B/O},KJiJX:function(B,O){return B===O},bNaTB:function(B,O){return B*O},BBuEb:function(B,O){return B+O},jaNus:function(B,O){return B/O},mvOKB:function(B,O){return B*O},YHTwb:function(B,O){return B/O},roCpW:function(B,O){return B*O},dszad:function(B,O){return B/O},GsbjB:function(B,O){return B-O},qQfzv:function(B,O){return B+O}},h=f.GxnIZ(o,2),y=s*Math[c(223)]/2;if(f.ByFoO(y,0)||f[c(253)](h,0))return{diameter:o,layerCount:1};const M=i?.sizeMode??c(220),v=i?.[c(297)]??0,d=y*f.gjGtL(1,ri),g=Math.PI*h/2,b=i?.[c(285)]??Math.max(1,Math[c(271)](f[c(274)](g,d))),p=f[c(276)](M,c(252))?s+(b-1)*v:s,m=f.bNaTB(p,Math.SQRT2)/2,S=f.BBuEb(f.bNaTB(y,J1),m*V1);if(b===1){const B=Math[c(231)](f.jaNus(Math.PI,2),m*ri/h),O=h*Math[c(325)](B),L=f.bNaTB(m,sd)*Math.sin(B);return{diameter:Math.round(Math[c(238)](o,f.mvOKB(2,O+L))),layerCount:b}}let j=f[c(290)](y,ri)/h;for(let B=1;B<b;B++){const O=f[c(276)](M,c(252))?s+B*v:s,L=f.YHTwb(f[c(222)](O,Math.SQRT2),2);j+=f.dszad(f[c(233)](L,f.GsbjB(1,ri)),h)}j=Math.min(j,f.GxnIZ(Math.PI,2));const A=f[c(290)](f.BBuEb(h,S*sd),Math[c(325)](j)),J=Math[c(238)](0,f[c(284)](A,h));return{diameter:Math[c(271)](f[c(305)](o,f.roCpW(2,J))),layerCount:b}}function er(o,s,i=pa(220),c=0){const f=pa,h={TEwyJ:function(v,d){return v<=d},FeufT:function(v,d){return v===d},DuKzZ:f(252),Oxxcv:function(v,d){return v+d},NtOrf:function(v,d){return v/d},cBOYZ:function(v,d){return v<d},xLHbN:"ddaib",vHFhB:function(v,d){return v/d}};if(h.TEwyJ(s,0)||o<=0)return 0;const y=[];for(let v=0;v<s;v++){const d=h[f(219)](i,h.DuKzZ)?h[f(279)](o,v*c):o;y[f(286)](h.NtOrf(d*Math[f(223)],2))}let M=y[0];for(let v=1;h.cBOYZ(v,s);v++)h[f(319)]===h.xLHbN?M+=h.vHFhB(y[v],3):(_0x3b47d2=_0x1c0ffb,_0x131cb5=_0x5239ab);return Math.round(M*2)}function P1(o,s,i=pa(220),c=0){const f=pa,h={RAdXz:function(b,p){return b/p},XtQbl:function(b,p){return b===p},wDTWz:function(b,p){return b/p},YRLFq:function(b,p){return b+p},aNgyE:function(b,p){return b*p},UyYgM:function(b,p){return b-p}};if(s<=0||o<=0)return 0;const y=h[f(296)](o,2),M=Math.SQRT2/2,v=s;if(h.XtQbl(i,"uniform")||c===0){const b=h.wDTWz(M*h[f(270)](v,2),3);return Math.max(1,Math[f(271)](y/b))}const d=h[f(249)](c,h.UyYgM(v,1))*v/6,g=h[f(296)](h.UyYgM(y/M,d)*3,v+2);return Math.max(1,Math[f(271)](g))}function $1(o,s,i){const c=pa,f={OSHnA:function(M,v){return M/v},ugWyM:function(M,v,d,g){return M(v,d,g)},XJrzn:function(M,v){return M<v}};if(o<=s)return 1;let h=1,y=80;for(let M=0;M<30;M++){const v=f.OSHnA(h+y,2),{diameter:d}=f[c(327)](Wl,s,v,i);f.XJrzn(d,o)?h=v:y=v}return Math.max(1,Math[c(271)](f[c(295)](h+y,2)))}function zt(o,s){o=o-215;const i=Su();let c=i[o];if(zt.dqtmQY===void 0){var f=function(v){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",b="",p=g+f;for(let m=0,S,j,A=0;j=v.charAt(A++);~j&&(S=m%4?S*64+j:j,m++%4)?g+=p.charCodeAt(A+10)-10!==0?String.fromCharCode(255&S>>(-2*m&6)):m:0)j=d.indexOf(j);for(let m=0,S=g.length;m<S;m++)b+="%"+("00"+g.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(b)};zt.fteSCR=f,zt.WLSJfu={},zt.dqtmQY=!0}const h=i[0],y=o+h,M=zt.WLSJfu[y];if(M)c=M;else{const v=function(d){this.owNuTa=d,this.euItNZ=[1,0,0],this.uGFffD=function(){return"newState"},this.xLtjJd="\\w+ *\\(\\) *{\\w+ *",this.LZtIcX=`['|"].+['|"];? *}`};v.prototype.HIFruy=function(){const d=new RegExp(this.xLtjJd+this.LZtIcX),g=d.test(this.uGFffD.toString())?--this.euItNZ[1]:--this.euItNZ[0];return this.ONuHOT(g)},v.prototype.ONuHOT=function(d){return~d?this.XWOXFW(this.owNuTa):d},v.prototype.XWOXFW=function(d){for(let g=0,b=this.euItNZ.length;g<b;g++)this.euItNZ.push(Math.round(Math.random())),b=this.euItNZ.length;return d(this.euItNZ[0])},new v(zt).HIFruy(),c=zt.fteSCR(c),zt.WLSJfu[y]=c}return c}function eh(o,s,i){const c=pa,f={Wyfwh:function(p,m){return p<=m},aLeCF:function(p,m){return p<=m},TSpSC:function(p,m){return p===m},jwomE:function(p,m){return p===m},gpyKm:function(p,m){return p/m},mjftS:function(p,m){return p/m},wKOjw:function(p,m){return p*m},AHPpz:function(p,m){return p<m},vWZMb:function(p,m){return p+m},MSLPg:function(p,m){return p*m},MjXhr:function(p,m){return p-m}},h=o/2,y=s*Math[c(223)]/2;if(f.Wyfwh(y,0)||f.aLeCF(h,0))return 1;const M=i?.[c(236)]??c(220),v=i?.sizeStepMm??0,d=Math.PI/2;if(f.TSpSC(M,"uniform")||f[c(323)](v,0)){const p=f.gpyKm(y,3),m=f[c(309)](Math.PI*h,2);return Math[c(238)](1,Math.round(m/p))}let g=f.gpyKm(f.wKOjw(y,ri),h);if(g>=d)return 1;let b=1;for(let p=1;f.AHPpz(p,100);p++){const m=f[c(258)](s,f[c(221)](p,v)),S=m*Math[c(223)]/2,j=f.MSLPg(S,f[c(329)](1,ri))/h;if(g+=j,g>f[c(258)](d,j/2))break;b=p+1}return Math.max(1,b)}function ui(o){const s=pa,i={TwRYV:function(v,d){return v/d}},c=i[s(315)](360,o),f=Math.sin(ci(c/2))*2,h=.96,y=1.2,M=i.TwRYV(f*y,h);return i[s(315)](Math[s(271)](Math.max(.3,Math.min(3,M))*100),100)}(function(o,s){const i=xn,c=o();for(;;)try{if(-parseInt(i(543))/1+-parseInt(i(550))/2+-parseInt(i(517))/3+-parseInt(i(546))/4+parseInt(i(597))/5+parseInt(i(525))/6*(-parseInt(i(590))/7)+parseInt(i(541))/8===s)break;c.push(c.shift())}catch{c.push(c.shift())}})(wu,601388);function wu(){const o=["thvZuu4","i0yYrda0qG","5yMJ44gK44g+44g/","wM5psLK","y29Sx3bPBMS","whndyw4","A2XlAgC","iZDfqZHfmW","y29Sx3b1CNbSzq","y29Sx2DYzwvU","zgrNtu4","s1Dbtvi","A1rtA2K","i0m4qtjena","B3jKzxi","q2vUDgvY","i0y1rtzdqW","zMX3","vfHyA04","yxbWBhK","EgzLufC","DenNANu","qKn3qvm","y29Sx2nYzwfT","AMDKANu","y29Sx3LLBgXVDW","i0q0qtG0mW","Cgv0ywXpDMvYCMLKzxm","t3v0zxi","y29Sx3jLza","EuDMvLy","CMrszuC","shb3zLi","iZjgqKy0qq","mJqWnJeXn3jzD2juua","y29Sx2nVCMfS","zNnQBxq","y29Sx2jSDwu","rKXZvNi","zLL1r3K","vfDbwuu","mZy2ndKWnw14zKz1Da","BhvkEKe","BwDPuvy","i0uWndu3qG","Cgv0ywXdB3vUDa","uLH5Awu","vwXcwNK","y29Sx2HVDhbPBMS","Bgf5","BMfTzq","wMrxrxC","yKTyAxC","Dg9tDhjPBMC","ELfAswy","C29YDa","DwTgrLu","i0mWqZbdma","y29Sx2DVBgq","Cg9gvvm","CMfKAxvZ","y29Sx2XHDMvUzgvY","sw5Uzxi","zMLUza","iZjdm0u2qG","y29Sx2jSywnR","5lI444gK44g+44g/","uKnICfG","C2vHCMnO","wK9xDK4","iZLcntLcnG","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","ChjVAG","B2zMC2v0qw5NBgu","B3bPwwu","y29Sx3DOAxrL","iZmZmZmZmW","qwLrDxe","yu5nwgC","r3LfyvK","DeDVsMu","BhrlBw8","mJiWmZe2mvnRA21XBG","CuXYq3C","i0yWoda4ma","B3jOt0q","seDVsKq","u0HRu3i","t3Pxz00","vxPZtuK","mtHdEgHfyKG","y29Sx2XPz2H0EwvSBg93","y29Sx2rHCMTNCMvLBG","AgnkDgK","BNbjD20","EePdv0K","y29Sx25HDNK","uefJsvO","zNzxEhi","i0zerJvdoq","Bgf5zxjZ","tuHbsg8","Cg9ZAxrPB24","ugzAqNO","iZfbn0eZqq","BNvnwLy","mJiWotK2ndHds3bMwge","iZncn0reoa","otqXoduZq05Ps0T0","sgDODK0","vfnNyue","mtGYnZGWDNvWCMHL","qMPVDwG","i0y1rJvgnq","zw1MyNO","mJGXodqYs25Xwfbj","BwPhDMS","AKLssuK","zNPVwhe","ELrvu3O","EeDcrLe"];return wu=function(){return o},wu()}const th=(function(){const o=xn,s={ltKmo:o(585),UlBZy:o(600),MkOdG:"#F08A3B",pWVbn:o(565),PfZBz:o(589),rLbOQ:"col_lightblue",fvWxr:o(542),SHkSr:"#C0C0C0",cBlcL:"#8B5E3C",npIwm:"col_black",GyEaY:"#333333"};let i=!0;return function(c,f){const h=o,y={HGoJD:"col_white",opiYe:s[h(516)],zQZIf:"#E34850",fzoXq:s[h(603)],UneRQ:"col_orange",FLsVr:s.MkOdG,LusQN:h(581),hcJti:s.pWVbn,NEwUE:s[h(538)],luJzA:s.rLbOQ,ljirt:h(563),NrHnD:s[h(533)],EtfAr:h(531),KWAMR:h(499),AiQuq:s[h(522)],lBaYx:h(572),BnlaU:s.cBlcL,SrPQm:s[h(529)],UzsMI:s[h(514)],hpQWa:"col_coral",AyAYh:function(v,d){return v===d},rdReG:"LpvcC",xGBFQ:h(615)},M=i?function(){const v=h;if(f){if(y.AyAYh(y[v(587)],y[v(555)]))return[{id:y[v(521)],name:"",hex:v(548)},{id:y[v(509)],name:"",hex:y[v(610)]},{id:"col_pink",name:"",hex:"#F08CB6"},{id:"col_hotpink",name:"",hex:y[v(553)]},{id:y.UneRQ,name:"",hex:y[v(594)]},{id:y[v(556)],name:"",hex:v(557)},{id:v(526),name:"",hex:"#FDF5C9"},{id:y[v(528)],name:"",hex:y.NEwUE},{id:v(527),name:"",hex:"#1A7A3A"},{id:y[v(598)],name:"",hex:y.ljirt},{id:v(593),name:"",hex:y.NrHnD},{id:y.EtfAr,name:"",hex:y[v(567)]},{id:"col_purple",name:"",hex:v(505)},{id:v(617),name:"",hex:"#C8A2D4"},{id:"col_gold",name:"",hex:v(582)},{id:"col_silver",name:"",hex:y[v(512)]},{id:v(579),name:"",hex:y.lBaYx},{id:"col_brown",name:"",hex:y.BnlaU},{id:y.SrPQm,name:"",hex:y[v(524)]},{id:y.hpQWa,name:"",hex:v(519)}];{const d=f[v(575)](c,arguments);return f=null,d}}}:function(){};return i=!1,M}})(),Fs=th(void 0,function(){const o=xn,s={Bjouh:"(((.+)+)+)+$"};return Fs.toString().search(s.Bjouh)[o(609)]().constructor(Fs)[o(503)](s[o(547)])});Fs();function yd(){const o=xn,s={fYuGy:"col_white",PoOEI:o(585),ncscr:o(604),jaIXy:o(581),YvuLa:o(557),TXXkN:"col_lightyellow",XsCan:o(565),nuMZV:o(589),LvrqW:"col_lightblue",fsjmt:o(593),PAcIZ:o(564),aNMXg:o(505),ddgMN:"col_lavender",emfbz:o(569),jgdju:"#D4A843",ErbDO:"col_silver",mFcJM:o(613),CCigI:"col_cream",suoGF:"#F5E6CC",xJCWI:o(511),ABJMi:o(519)};return[{id:s[o(595)],name:"",hex:o(548)},{id:s.PoOEI,name:"",hex:"#E34850"},{id:"col_pink",name:"",hex:"#F08CB6"},{id:s.ncscr,name:"",hex:"#E0457B"},{id:"col_orange",name:"",hex:"#F08A3B"},{id:s.jaIXy,name:"",hex:s.YvuLa},{id:s[o(574)],name:"",hex:o(534)},{id:s[o(561)],name:"",hex:s[o(540)]},{id:o(527),name:"",hex:o(539)},{id:s.LvrqW,name:"",hex:o(563)},{id:s[o(592)],name:"",hex:"#3B7DD8"},{id:"col_navy",name:"",hex:"#2C3E6B"},{id:s[o(532)],name:"",hex:s[o(513)]},{id:s[o(566)],name:"",hex:s[o(549)]},{id:o(614),name:"",hex:s[o(580)]},{id:s.ErbDO,name:"",hex:s.mFcJM},{id:s.CCigI,name:"",hex:s.suoGF},{id:"col_brown",name:"",hex:"#8B5E3C"},{id:o(500),name:"",hex:s[o(530)]},{id:o(591),name:"",hex:s.ABJMi}]}function nh({title:o,fabricSquareSize:s,baseDiameter:i}={}){const c=xn,f={ftBnF:function(M){return M()},UMyOk:function(M,v){return M(v)},jIRII:function(M,v){return M??v}},h=_u(),y=f.ftBnF(yd);return f.UMyOk(ya,{id:f.UMyOk(el,"prj"),title:f[c(552)](o,""),unit:"mm",fabricSquareSize:s??20,baseDiameter:i??30,notes:"",createdAt:h,updatedAt:h,palette:y,flowers:[]})}function xn(o,s){o=o-498;const i=wu();let c=i[o];if(xn.kfHYgG===void 0){var f=function(v){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",b="",p=g+f;for(let m=0,S,j,A=0;j=v.charAt(A++);~j&&(S=m%4?S*64+j:j,m++%4)?g+=p.charCodeAt(A+10)-10!==0?String.fromCharCode(255&S>>(-2*m&6)):m:0)j=d.indexOf(j);for(let m=0,S=g.length;m<S;m++)b+="%"+("00"+g.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(b)};xn.KJrHdB=f,xn.Uzhpuq={},xn.kfHYgG=!0}const h=i[0],y=o+h,M=xn.Uzhpuq[y];if(M)c=M;else{const v=function(d){this.vWZQZJ=d,this.EywTAB=[1,0,0],this.jFqsTU=function(){return"newState"},this.TxqQYv="\\w+ *\\(\\) *{\\w+ *",this.GGzGMR=`['|"].+['|"];? *}`};v.prototype.jmgbDz=function(){const d=new RegExp(this.TxqQYv+this.GGzGMR),g=d.test(this.jFqsTU.toString())?--this.EywTAB[1]:--this.EywTAB[0];return this.GEphsd(g)},v.prototype.GEphsd=function(d){return~d?this.ihGnQW(this.vWZQZJ):d},v.prototype.ihGnQW=function(d){for(let g=0,b=this.EywTAB.length;g<b;g++)this.EywTAB.push(Math.round(Math.random())),b=this.EywTAB.length;return d(this.EywTAB[0])},new v(xn).jmgbDz(),c=xn.KJrHdB(c),xn.Uzhpuq[y]=c}return c}function lh(o,s){const i=xn,c={orhOD:function(M,v){return M(v)},ZOWvN:i(573)},f=ii(o);f.id=c[i(520)](el,c[i(504)]),f[i(606)]=o[i(606)]+" Copy";const h=s?.x,y=s?.y;return f[i(537)]={x:(o[i(537)]?.x??0)+h,y:(o[i(537)]?.y??0)+y},f.layers=(f[i(535)]||[]).map(M=>({...M,id:el("lay"),petalOverrides:M[i(583)]?M.petalOverrides.map(v=>({...v})):void 0})),f}function Ln(o,s){o=o-498;const i=Cu();let c=i[o];if(Ln.xATAnT===void 0){var f=function(v){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",b="",p=g+f;for(let m=0,S,j,A=0;j=v.charAt(A++);~j&&(S=m%4?S*64+j:j,m++%4)?g+=p.charCodeAt(A+10)-10!==0?String.fromCharCode(255&S>>(-2*m&6)):m:0)j=d.indexOf(j);for(let m=0,S=g.length;m<S;m++)b+="%"+("00"+g.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(b)};Ln.hPTUan=f,Ln.jpEpNI={},Ln.xATAnT=!0}const h=i[0],y=o+h,M=Ln.jpEpNI[y];if(M)c=M;else{const v=function(d){this.ziZxpO=d,this.gVdPcG=[1,0,0],this.ANoxJE=function(){return"newState"},this.qDApYC="\\w+ *\\(\\) *{\\w+ *",this.AoICny=`['|"].+['|"];? *}`};v.prototype.pmphlM=function(){const d=new RegExp(this.qDApYC+this.AoICny),g=d.test(this.ANoxJE.toString())?--this.gVdPcG[1]:--this.gVdPcG[0];return this.tYWRAG(g)},v.prototype.tYWRAG=function(d){return~d?this.kCNHOX(this.ziZxpO):d},v.prototype.kCNHOX=function(d){for(let g=0,b=this.gVdPcG.length;g<b;g++)this.gVdPcG.push(Math.round(Math.random())),b=this.gVdPcG.length;return d(this.gVdPcG[0])},new v(Ln).pmphlM(),c=Ln.hPTUan(c),Ln.jpEpNI[y]=c}return c}(function(o,s){const i=Ln,c=o();for(;;)try{if(parseInt(i(530))/1*(parseInt(i(569))/2)+parseInt(i(504))/3+parseInt(i(576))/4+-parseInt(i(563))/5+parseInt(i(583))/6+-parseInt(i(500))/7+parseInt(i(517))/8*(-parseInt(i(512))/9)===s)break;c.push(c.shift())}catch{c.push(c.shift())}})(Cu,968858);const ah=(function(){let o=!0;return function(s,i){const c=o?function(){if(i){const f=i.apply(s,arguments);return i=null,f}}:function(){};return o=!1,c}})(),Ps=ah(void 0,function(){const o=Ln;return Ps.toString()[o(516)]("(((.+)+)+)+$").toString()[o(557)](Ps)[o(516)]("(((.+)+)+)+$")});Ps();function Cu(){const o=["DvbjuNe","sw9bB24","DhLWzq","y2HPBgq","zMnXAwW","Aw5UzxjdB2XVCKLK","nJG2odKZnLngs3jtAq","y2vUDgvY","zMLSDgvY","D2LKDgHty2fSzq","zMXVD2vYswrZ","rhLhEhu","Cg9ZAxrPB24","odu2oda4nhH3C2nTuW","BeHluNa","AM5WwK0","mte4ndCWnZnAsMjXEMK","y29SB3iY","CMLNAhq","q0z1quq","mti4mZuXn05uAeDgCq","BMfTzq","Cg9Zzq","C2L6zq","Aw5UzxjtAxPLuMvKDwn0Aw9U","EKvjy2C","yMfZzurPyw1LDgvY","s1HHvfK","nZuYotK0oxHJDe1Tsq","5lI444gK44g+44g/","CgXHy2vTzw50tw9Kzq","B3bTr2m","C2vHCMnO","ogn3ALP4Da","CgfSzxr0zq","A3zNB3i","Aw5JBhvKzxm","u09VBe4","C3rYAw5N","Cgv0ywXdB3vUDa","DMznteK","44oA44od44ox","AxnbCNjHEq","AxngAw5PDgu","Bgf5zxjZ","rwvpuhm","mJe5nwvyDffcCG","44or44o844oR","EeXir2e","BgvMDa","CKHfAvi","DgL0Bgu","zMXVD2vYCW","zg91yMXLugv0ywW","r1nZCvq","ChPfvKG","DxbKyxrLzef0","BwfYDq","B2zMC2v0qw5NBgu","Aw5Uzxjty2fSzq","B2jQzwn0","z3jVDxbZ","BKHjANu","CMfKAxvZ","Cgv0ywXpDMvYCMLKzxm","y3jLyxrLzef0","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","zMfICMLJu3f1yxjLu2L6zq","Aw5UzxjqzxrHBfr5Cgu","EvL4q3a","Cgv0ywXuExbL","wu53ruG","y29SB3i","y29UC3rYDwn0B3i","wMvMtuy","yM9OBfa","wg5wuge","CgvWq291BNq","v3rOCxC","ntC4nJmYmhvIsK95ra","uffRBvy","CM91BMq","C3rLBMnPBhm","DKPVCNO","BM90zxm","otG2zvjLuNbN"];return Cu=function(){return o},Cu()}function xd(o){const s=Ln,i={xLHGa:function(c,f){return c===f},zEIcg:"",uPIRq:function(c,f){return c===f},yYxCp:s(513)};return o===s(541)?"":i.xLHGa(o,"ken")?i[s(509)]:i[s(532)](o,s(513))||i[s(570)](o,i.zEIcg)?o:i[s(553)]}function ya(o){const s=Ln,i={GSsqT:function(h,y){return h!=y},pzEVH:s(522),rHEiR:function(h,y){return h||y},SOolN:function(h,y){return h!==y},Wthqw:function(h,y){return h(y)},PQkmV:function(h,y){return h===y},PZPPY:s(574),qWRzD:"optnt",Lgkgr:function(h,y){return h!=y},fdwex:function(h,y){return h==y},XnVPa:function(h,y){return h*y},CFuAD:function(h,y){return h-y},lZuuT:function(h,y,M,v){return h(y,M,v)},KXaTY:function(h,y){return h!==y},BIwSt:function(h,y){return h!=y},jnpZM:function(h,y){return h!==y},DyGxu:s(567),rZOcd:function(h,y){return h===y},nHIju:s(531),ZefMF:s(498),yoTkc:"HuAYa",YNwEH:"",raWuS:s(524),bohlP:function(h,y){return h(y)},HXtFU:function(h,y){return h<=y},QqjpG:"grp",gvJra:"adult",OXuIY:s(573),EeOPs:s(502)},c=ii(i[s(534)](o,{}));Array[s(526)](c[s(536)])||(c.flowers=[]);for(const h of c.flowers)if(i.SOolN(s(571),s(571)))delete _0x331352.doublePetal[s(575)];else{Array[s(526)](h[s(528)])||(h[s(528)]=[]);for(const y of h.layers){if(y[s(554)]=i[s(562)](xd,y.petalType),y.petalCount=Fe(i.Wthqw(Number,y[s(523)]||0),5,24),Number[s(527)](y.scale)||(y.scale=1),Number[s(527)](y.widthScale)||(y[s(579)]=1),Number[s(527)](y[s(547)])||(y.radius=28),Number.isFinite(y.offsetAngle)||(y[s(542)]=0),y.doublePetal)if(typeof y.doublePetal!==s(544)||i[s(564)](y.doublePetal,null))i.PZPPY!==i.qWRzD?delete y[s(537)]:delete _0x229b01.baseDiameter;else{if(i.Lgkgr(y.doublePetal[s(543)],null)&&i.fdwex(y.doublePetal.innerSizeReduction,null)){const M=h.fabricSquareSize??c[s(551)]??20;y[s(537)][s(508)]=Math[s(565)](i[s(560)](M,i[s(503)](1,y[s(537)][s(543)])))}delete y[s(537)][s(543)],Number[s(527)](y[s(537)].innerSizeReduction)||(y.doublePetal.innerSizeReduction=2),y.doublePetal[s(508)]=i.lZuuT(Fe,y.doublePetal[s(508)],1,30),delete y.doublePetal.innerPetalType,i.GSsqT(y[s(537)][s(575)],null)&&i[s(511)](typeof y.doublePetal.innerColorId,"string")&&delete y[s(537)][s(575)]}if(Array[s(526)](y.petalOverrides))for(const M of y[s(548)])M&&i.BIwSt(M.petalType,null)&&(M.petalType=i[s(562)](xd,M[s(554)])),M&&delete M[s(552)],M&&i[s(538)](M[s(575)],null)&&i[s(499)](typeof M[s(575)],"string")&&delete M.innerColorId}if(h[s(577)])if(i[s(581)]!==s(515))i.rZOcd(h[s(577)][s(572)],"")&&(h[s(577)][s(572)]=""),[s(531),"",s(525)][s(520)](h[s(577)].type)||(h[s(577)].type=i[s(546)]),Number.isFinite(h[s(577)].size)||(h.center.size=6),h[s(577)].size=Fe(h[s(577)][s(507)],1,30),(i[s(521)](typeof h[s(577)].color,s(522))||!h.center[s(556)])&&(h[s(577)].color=c[s(518)]?.[0]?.id??"col_white"),h[s(577)].type===s(525)&&(Number.isFinite(h.center.pepCount)||(h[s(577)].pepCount=12),h.center[s(561)]=Fe(h.center[s(561)],4,30)),h[s(577)][s(572)]!==""&&delete h.center[s(501)];else for(const y of _0x37f63a[s(548)])y&&y.petalType!=null&&(y.petalType=_0x462b88(y.petalType)),y&&delete y[s(552)],y&&i[s(538)](y.innerColorId,null)&&typeof y.innerColorId!==i[s(539)]&&delete y[s(575)];if(h[s(514)]!==""&&i[s(499)](h[s(514)],""))if(i[s(558)]===i.yoTkc){const y=_0x2ce699[s(551)]??_0x3a570f[s(551)]??20;_0x206033.doublePetal.innerSizeReduction=_0x3d197b.round(y*(1-_0x44a0d0[s(537)][s(543)]))}else h.placementMode=i[s(555)];h.baseDiameter!==void 0&&(!Number[s(527)](h.baseDiameter)||h[s(510)]<=0)&&delete h.baseDiameter}Array.isArray(c[s(518)])||(c[s(518)]=[]);const f=new Set(c.palette.map(h=>h.id));for(const h of yd())i.raWuS===s(519)?delete _0x30b785[s(577)].color2:f.has(h.id)||c[s(518)].push(h);c[s(549)]||(c.createdAt=_u()),c.updatedAt||(c[s(540)]=c.createdAt),c.id||(c.id=i.bohlP(el,"proj")),c[s(535)]||(c.title=s(550)),c.unit="mm",Number.isFinite(c[s(551)])||(c[s(551)]=20),(!Number[s(527)](c.baseDiameter)||i.HXtFU(c.baseDiameter,0))&&(c[s(510)]=30),typeof c[s(568)]!="string"&&(c.notes=""),Array[s(526)](c[s(545)])||(c.groups=[]);{const h=new Set(c[s(536)].map(y=>y.id));for(const y of c[s(545)])Array.isArray(y.flowerIds)||(y.flowerIds=[]),y.flowerIds=y[s(580)][s(578)](M=>h.has(M)),y.id||(y.id=i[s(559)](el,i.QqjpG)),(typeof y[s(505)]!==s(522)||!y.name)&&(y.name="");c[s(545)]=c[s(545)].filter(y=>y[s(580)]&&y.flowerIds.length>0)}if(Array.isArray(c.stencils)){const h=[i.gvJra,i.OXuIY],y=[i[s(529)],s(533),"back"];c[s(566)]=c[s(566)][s(578)](M=>M&&typeof M.id===s(522)&&h.includes(M.variant)&&y.includes(M[s(506)])&&M[s(582)]&&Number[s(527)](M[s(582)].x)&&Number[s(527)](M.position.y))}return c}const x0=In;(function(o,s){const i=In,c=o();for(;;)try{if(parseInt(i(464))/1*(parseInt(i(463))/2)+-parseInt(i(468))/3+-parseInt(i(465))/4+-parseInt(i(469))/5*(parseInt(i(462))/6)+parseInt(i(466))/7+parseInt(i(472))/8*(parseInt(i(473))/9)+parseInt(i(474))/10===s)break;c.push(c.shift())}catch{c.push(c.shift())}})(Mu,114588);const ih=(function(){let o=!0;return function(s,i){const c=o?function(){if(i){const f=i.apply(s,arguments);return i=null,f}}:function(){};return o=!1,c}})(),$s=ih(void 0,function(){const o=In,s={QjklA:o(471)};return $s[o(467)]().search(s[o(460)])[o(467)]().constructor($s).search("(((.+)+)+)+$")});function Mu(){const o=["mZi0sfrRrfj3","mJG1otmWmgPzCvbNqq","44oA44od44ox","uwPRBee","5lI444gK44g+44g/","mtjou3HzCfy","mJGWmtu2ruzisvnO","mxfQr0rjsW","nJm0ndrAyLPMsK8","ndm4nZi1vfnuwhfn","Dg9tDhjPBMC","nJqXndCYA1zlywDq","ndu5otm1wgHZEfDb","5y2k44gp44gz","kcGOlISPkYKRksSK","odC5mMjNsu9uAq"];return Mu=function(){return o},Mu()}$s();const vd="tsumami_projects_v1",ga=[x0(461),""],rh=["","",x0(459)];function In(o,s){o=o-459;const i=Mu();let c=i[o];if(In.sxsvMj===void 0){var f=function(v){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",b="",p=g+f;for(let m=0,S,j,A=0;j=v.charAt(A++);~j&&(S=m%4?S*64+j:j,m++%4)?g+=p.charCodeAt(A+10)-10!==0?String.fromCharCode(255&S>>(-2*m&6)):m:0)j=d.indexOf(j);for(let m=0,S=g.length;m<S;m++)b+="%"+("00"+g.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(b)};In.CIOVQz=f,In.KhlJEZ={},In.sxsvMj=!0}const h=i[0],y=o+h,M=In.KhlJEZ[y];if(M)c=M;else{const v=function(d){this.xYbEgW=d,this.WFNEhm=[1,0,0],this.GjDZLN=function(){return"newState"},this.JgQaqY="\\w+ *\\(\\) *{\\w+ *",this.kiKbQj=`['|"].+['|"];? *}`};v.prototype.OCcHXT=function(){const d=new RegExp(this.JgQaqY+this.kiKbQj),g=d.test(this.GjDZLN.toString())?--this.WFNEhm[1]:--this.WFNEhm[0];return this.UzALeZ(g)},v.prototype.UzALeZ=function(d){return~d?this.RINPxA(this.xYbEgW):d},v.prototype.RINPxA=function(d){for(let g=0,b=this.WFNEhm.length;g<b;g++)this.WFNEhm.push(Math.round(Math.random())),b=this.WFNEhm.length;return d(this.WFNEhm[0])},new v(In).OCcHXT(),c=In.CIOVQz(c),In.KhlJEZ[y]=c}return c}const pd=["",x0(470)];(function(o,s){const i=en,c=o();for(;;)try{if(-parseInt(i(439))/1*(-parseInt(i(436))/2)+-parseInt(i(418))/3+parseInt(i(430))/4*(-parseInt(i(420))/5)+-parseInt(i(431))/6*(-parseInt(i(429))/7)+-parseInt(i(419))/8+parseInt(i(426))/9*(parseInt(i(438))/10)+parseInt(i(422))/11===s)break;c.push(c.shift())}catch{c.push(c.shift())}})(zu,316473);const uh=(function(){let o=!0;return function(s,i){const c=o?function(){const f=en;if(i){const h=i[f(434)](s,arguments);return i=null,h}}:function(){};return o=!1,c}})(),e0=uh(void 0,function(){const o=en,s={KnyKX:o(432)};return e0[o(424)]().search(s[o(427)])[o(424)]().constructor(e0)[o(433)](s[o(427)])});e0();function zu(){const o=["mJCWmeTjsLPWwq","DgL0Bgu","odK2mtiXnK1RsKvuCG","B25wt0u","Dg9tDhjPBMC","C2XPy2u","mtq0Dw1ZALLn","s255s1G","zMLSDgvY","mteZmZa5AfffvM1T","ndy2ofrVu1HyEq","mte0yxnyveTo","kcGOlISPkYKRksSK","C2vHCMnO","yxbWBhK","DxbKyxrLzef0","mZq2C0nNy1fA","C2v0sxrLBq","mJyWodbHA21vzNm","mJy0mNDqqvDtva","tejeBKy","mJiYmZK5r2DwB01j","ndGWmtCZnMLXsvDosq"];return zu=function(){return o},zu()}function lr(){const o=en;try{const s=localStorage.getItem(vd);if(!s)return[];const i=JSON.parse(s);return Array.isArray(i)?i.map(c=>{const f=en,h=c?.project?ya(c.project):null;return h?{id:c.id??h.id,title:c[f(421)]??h.title,updatedAt:c.updatedAt??h.updatedAt,project:h}:null})[o(428)](c=>c!=null):[]}catch{return[]}}function en(o,s){o=o-417;const i=zu();let c=i[o];if(en.NedzMc===void 0){var f=function(v){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",b="",p=g+f;for(let m=0,S,j,A=0;j=v.charAt(A++);~j&&(S=m%4?S*64+j:j,m++%4)?g+=p.charCodeAt(A+10)-10!==0?String.fromCharCode(255&S>>(-2*m&6)):m:0)j=d.indexOf(j);for(let m=0,S=g.length;m<S;m++)b+="%"+("00"+g.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(b)};en.VkIKVq=f,en.QZSryZ={},en.NedzMc=!0}const h=i[0],y=o+h,M=en.QZSryZ[y];if(M)c=M;else{const v=function(d){this.Rdnlod=d,this.nqiFuY=[1,0,0],this.pCFGDP=function(){return"newState"},this.hcutNh="\\w+ *\\(\\) *{\\w+ *",this.ivzxVB=`['|"].+['|"];? *}`};v.prototype.eqHXdO=function(){const d=new RegExp(this.hcutNh+this.ivzxVB),g=d.test(this.pCFGDP.toString())?--this.nqiFuY[1]:--this.nqiFuY[0];return this.SauAzb(g)},v.prototype.SauAzb=function(d){return~d?this.kzMBPr(this.Rdnlod):d},v.prototype.kzMBPr=function(d){for(let g=0,b=this.nqiFuY.length;g<b;g++)this.nqiFuY.push(Math.round(Math.random())),b=this.nqiFuY.length;return d(this.nqiFuY[0])},new v(en).eqHXdO(),c=en.VkIKVq(c),en.QZSryZ[y]=c}return c}function _d(o){const s=en;try{return localStorage[s(437)](vd,JSON.stringify(o)),!0}catch{return!1}}function ch(o){const s=en,i={IzekU:function(M){return M()},LBDnF:function(M,v){return M(v)}},c=i.IzekU(lr),f=c.findIndex(M=>M.id===o.id),h={id:o.id,title:o.title,updatedAt:o.updatedAt,project:o},y=f>=0?[...c[s(425)](0,f),h,...c[s(425)](f+1)]:[h,...c];return y.sort((M,v)=>M[s(435)]<v[s(435)]?1:-1),i[s(417)](_d,y)}function sh(o){const s=en,i={onVOE:function(f){return f()}},c=i[s(423)](lr)[s(428)](f=>f.id!==o);return _d(c)}(function(o,s){const i=Kn,c=o();for(;;)try{if(-parseInt(i(460))/1*(-parseInt(i(432))/2)+-parseInt(i(453))/3+-parseInt(i(444))/4+parseInt(i(462))/5+parseInt(i(434))/6+-parseInt(i(443))/7+-parseInt(i(449))/8*(parseInt(i(427))/9)===s)break;c.push(c.shift())}catch{c.push(c.shift())}})(Nu,361933);const oh=(function(){let o=!0;return function(s,i){const c=o?function(){if(i){const f=i.apply(s,arguments);return i=null,f}}:function(){};return o=!1,c}})(),t0=oh(void 0,function(){const o=Kn,s={Ccnpo:"(((.+)+)+)+$"};return t0.toString()[o(441)]("(((.+)+)+)+$").toString().constructor(t0).search(s.Ccnpo)});t0();function Kn(o,s){o=o-426;const i=Nu();let c=i[o];if(Kn.JYvIvr===void 0){var f=function(v){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",b="",p=g+f;for(let m=0,S,j,A=0;j=v.charAt(A++);~j&&(S=m%4?S*64+j:j,m++%4)?g+=p.charCodeAt(A+10)-10!==0?String.fromCharCode(255&S>>(-2*m&6)):m:0)j=d.indexOf(j);for(let m=0,S=g.length;m<S;m++)b+="%"+("00"+g.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(b)};Kn.TulhFJ=f,Kn.QrArqL={},Kn.JYvIvr=!0}const h=i[0],y=o+h,M=Kn.QrArqL[y];if(M)c=M;else{const v=function(d){this.EPUdVc=d,this.OwUWqI=[1,0,0],this.RwyIVW=function(){return"newState"},this.nctSYO="\\w+ *\\(\\) *{\\w+ *",this.zpKSTO=`['|"].+['|"];? *}`};v.prototype.QzRABR=function(){const d=new RegExp(this.nctSYO+this.zpKSTO),g=d.test(this.RwyIVW.toString())?--this.OwUWqI[1]:--this.OwUWqI[0];return this.OcCijm(g)},v.prototype.OcCijm=function(d){return~d?this.KwcCgg(this.EPUdVc):d},v.prototype.KwcCgg=function(d){for(let g=0,b=this.OwUWqI.length;g<b;g++)this.OwUWqI.push(Math.round(Math.random())),b=this.OwUWqI.length;return d(this.OwUWqI[0])},new v(Kn).QzRABR(),c=Kn.TulhFJ(c),Kn.QrArqL[y]=c}return c}function fh(o){const s=Kn,i={arlCB:function(g,b){return g*b},HtzPG:function(g,b){return g/b},wZXit:s(440),djfsa:function(g,b){return g!==b},RKbIn:function(g,b){return g===b},LNhal:s(457),pTwDF:function(g,b){return g-b},ocaet:function(g,b){return g<b},XfKVy:function(g,b,p){return g(b,p)},HxWNl:function(g,b){return g(b)},UpmQn:"kCqMR",IYWYP:function(g,b){return g===b},NncIi:s(448),GGvOY:"abAmA"},c=new Map((o.palette||[]).map(g=>[g.id,g])),f=new Map,h=(g,b)=>g?.petalOverrides?.find(p=>p.index===b)??null,y=new Map;for(const g of o[s(442)]||[]){const b=g.fabricSquareSize??o.fabricSquareSize;for(const A of g[s(445)]||[]){if(!A.visible)continue;const J=Math[s(447)](i.arlCB(b,A[s(452)]??1));for(let q=0;i[s(439)](q,A[s(451)]);q++){const B=i[s(430)](h,A,q),O=B?.[s(454)]??A[s(454)],L=O+"|"+J,P=f.get(L);if(P?P[s(459)]+=1:f[s(429)](L,{colorId:O,fabricSizeMm:J,count:1}),A.doublePetal){const ae=A.doublePetal,ie=B?.[s(438)]??ae.innerColorId??O,ue=Math.max(3,Math[s(447)](i[s(446)](J,ae.innerSizeReduction??2))),me=ie+"|"+ue,qe=f[s(436)](me);qe?qe[s(459)]+=1:f.set(me,{colorId:ie,fabricSizeMm:ue,count:1})}}}const p=g.placementMode??s(457),m=i[s(469)](p,"")?i[s(466)](tr,g[s(458)]):g.baseDiameter??o.baseDiameter,S=p+"|"+m,j=y[s(436)](S);j?j.count+=1:i.djfsa(s(464),i.UpmQn)?_0xbe72c2[s(429)](_0x4dd581,{colorId:_0x3eee86,fabricSizeMm:_0xaa619f,count:1}):y.set(S,{mode:p,baseDiameterMm:m,count:1})}const M=new Map;for(const{colorId:g,fabricSizeMm:b,count:p}of f.values()){const m=M.get(g);m?i.IYWYP(i.NncIi,i[s(456)])?_0x2b21a4[s(459)]+=1:m.entries[s(468)]({fabricSizeMm:b,count:p}):M[s(429)](g,{colorId:g,entries:[{fabricSizeMm:b,count:p}]})}const v=Array.from(M[s(450)]())[s(433)](({colorId:g,entries:b})=>{const p=s,m=c[p(436)](g),S=b[p(455)]((q,B)=>B.fabricSizeMm-q[p(435)]),j=S[p(467)]((q,B)=>q+B.count,0),A=i[p(461)](Math.round(S.reduce((q,B)=>{const O=p,L=B[O(435)]/10;return q+i.arlCB(i[O(431)](B[O(459)],L),L)},0)*100),100),J=Math.round(Math[p(428)](A)*10)/10;return{colorId:g,colorName:m?.name??g,hex:m?.hex??i.wZXit,sizes:S,totalCount:j,totalAreaCm2:A,squareSideCm:J}}).sort((g,b)=>b.totalCount-g.totalCount),d=Array[s(426)](y[s(450)]())[s(455)]((g,b)=>{const p=s;return i[p(437)](g.mode,b[p(463)])?i.RKbIn(g[p(463)],i.LNhal)?-1:1:i[p(446)](b.baseDiameterMm,g[p(465)])});return{colors:v,bases:d}}function Nu(){const o=["yMfZzurPyw1LDgvYtw0","shHxtMW","CMvKDwnL","ChvZAa","uKTIsw4","zNjVBq","otLJDvj5zLG","C3fYDa","C2v0","wgzlvNK","yxjSq0i","ntC1odzcvvfTvK0","BwfW","nda0mJC0nLfwBhzPAW","zMfICMLJu2L6zu1T","z2v0","zgPMC2e","Aw5UzxjdB2XVCKLK","B2nHzxq","iZK5otK5oq","C2vHCMnO","zMXVD2vYCW","ndC4odi5nhnOu3DTDW","nta0mdb2ELv0D0O","Bgf5zxjZ","Cfr3rey","CM91BMq","ANzyENq","mZuXoti4r1DXELDc","DMfSDwvZ","Cgv0ywXdB3vUDa","C2nHBgu","otyWndiZDMLWqNbi","y29SB3jjza","C29YDa","r0D2t1K","5y2k44gp44gz","zMXVD2vYrgLHBwv0zxi","y291BNq","mJvsBuHvCKm","shr6ueC","mJm0ntaWnvDMrwPtsW","Bw9Kzq","A0nXtvi"];return Nu=function(){return o},Nu()}(function(o,s){const i=dn,c=o();for(;;)try{if(-parseInt(i(278))/1+-parseInt(i(290))/2*(parseInt(i(280))/3)+-parseInt(i(299))/4*(-parseInt(i(273))/5)+-parseInt(i(316))/6*(-parseInt(i(313))/7)+-parseInt(i(262))/8*(parseInt(i(287))/9)+parseInt(i(306))/10*(parseInt(i(303))/11)+parseInt(i(292))/12*(parseInt(i(321))/13)===s)break;c.push(c.shift())}catch{c.push(c.shift())}})(Du,464068);const xh=(function(){let o=!0;return function(s,i){const c=o?function(){const f=dn;if(i){const h=i[f(296)](s,arguments);return i=null,h}}:function(){};return o=!1,c}})(),n0=xh(void 0,function(){const o=dn,s={kmEWD:o(263)};return n0[o(268)]()[o(291)](s.kmEWD).toString().constructor(n0).search(o(263))});n0();function dn(o,s){o=o-254;const i=Du();let c=i[o];if(dn.EJSABp===void 0){var f=function(v){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",b="",p=g+f;for(let m=0,S,j,A=0;j=v.charAt(A++);~j&&(S=m%4?S*64+j:j,m++%4)?g+=p.charCodeAt(A+10)-10!==0?String.fromCharCode(255&S>>(-2*m&6)):m:0)j=d.indexOf(j);for(let m=0,S=g.length;m<S;m++)b+="%"+("00"+g.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(b)};dn.SnHuCR=f,dn.WYLKOW={},dn.EJSABp=!0}const h=i[0],y=o+h,M=dn.WYLKOW[y];if(M)c=M;else{const v=function(d){this.ytGXkx=d,this.DmhAlJ=[1,0,0],this.AckrCI=function(){return"newState"},this.mthlAW="\\w+ *\\(\\) *{\\w+ *",this.BmfmUJ=`['|"].+['|"];? *}`};v.prototype.vQIXsL=function(){const d=new RegExp(this.mthlAW+this.BmfmUJ),g=d.test(this.AckrCI.toString())?--this.DmhAlJ[1]:--this.DmhAlJ[0];return this.wINDkv(g)},v.prototype.wINDkv=function(d){return~d?this.ObYydC(this.ytGXkx):d},v.prototype.ObYydC=function(d){for(let g=0,b=this.DmhAlJ.length;g<b;g++)this.DmhAlJ.push(Math.round(Math.random())),b=this.DmhAlJ.length;return d(this.DmhAlJ[0])},new v(dn).vQIXsL(),c=dn.SnHuCR(c),dn.WYLKOW[y]=c}return c}function Du(){const o=["C2vHCMnO","mtjsyxfsC2S","uxf2CfO","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","A1Lwvfm","yxbWBhK","zM9YrwfJAa","lNn2zW","ntK0meDUzvPSuq","lNrZDw1HBwKTz3jVDxaTzgfZAa","CMv2B2TLt2jQzwn0vvjm","B25LCNjVCG","otLkzNnSDwG","CMvJDa","zg93BMXVywq","nZy1mtbdBgD1wgm","CxvLCNLtzwXLy3rVCKfSBa","D2HPDgu","mtaWjq","z2v0q29UDgv4Da","Eg1SBNm","lNrZDw1HBwKTC2vSlwrHC2G","mJfqDNjnuu4","y2fUDMfZ","CMvTB3zLq2HPBgq","nti4mte0DgTwtejl","tezStwm","qNb4vfu","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","DMLLD0jVEa","otu1mdaYmxz2AKzVqW","D2LKDgG","mcaWidiWmcaYmda","zw5KC1DPDgG","v0zQDhO","AK9OweG","w2rHDgeTz3jPzf0","Dg9cBg9I","CMvTB3zL","yM9KEq","ofzerwnPvW","kcGOlISPkYKRksSK","Du9VCKW","y3jLyxrLrwXLBwvUDa","uwDRtxi","C2XAAwe","Dg9tDhjPBMC","rNjLu2S","Cxfir1C","ufjiuvC","BwfW","mtGWzMf1A2jq","w2rHDgeTDgvZDgLKxq","z2v0qxr0CMLIDxrL","lNbUzW","zwX5uMq","mtiXndq1veHiCKXu","AgvPz2H0","otGXouDhD3rLBW","Aw5Zzxj0qMvMB3jL","Aw1Hz2uVCg5N","zMLSBfn0EwXL","zgf0ys10zxn0Awq","C2v0qxr0CMLIDxrL","DLvjDhu","mJqZmZmWm0D2CufmuW","y3jLyxrLt2jQzwn0vvjm","B2DfwLO","mtyYEM9MsLfo"];return Du=function(){return o},Du()}function dh(o,s){const i=dn,c={uOorL:i(320),NIrmx:function(m,S){return m(S)},osutL:i(294),rQApo:i(304),kYVTS:i(322),vUItu:i(279),jOhXH:"fill",IyoYo:"white",lzpvk:i(258),vNzqo:i(312),BpxTU:"[data-marquee]",mnGmC:function(m,S){return m+S},KWYez:"image/svg+xml;charset=utf-8",oPYym:function(m,S,j){return m(S,j)}},f=o.cloneNode(!0);f[i(307)](i(274))[i(297)](m=>m.removeAttribute(i(284))),f.removeAttribute("style");const h=o[i(275)](i(320));h&&f[i(285)](c[i(264)],h);const y=(h??"0 0 200 200").split(" ")[i(272)](Number),M=y[2]??200,v=y[3]??200;f[i(285)]("width",String(M)),f[i(285)](i(279),c.NIrmx(String,v)),f[i(285)](i(311),c.osutL);const d=document.createElementNS(i(294),c.rQApo);d.setAttribute(c[i(295)],"100%"),d[i(285)](c[i(286)],i(309)),d.setAttribute(c[i(257)],c.IyoYo),f[i(281)](d,f.firstChild),f[i(307)](c.lzpvk).forEach(m=>m[i(260)]()),f.querySelectorAll(c.vNzqo).forEach(m=>m.remove()),f[i(307)](i(300))[i(297)](m=>m[i(260)]()),f[i(307)](c[i(318)])[i(297)](m=>m[i(260)]());const g=new XMLSerializer,b=c.mnGmC(`<?xml version="1.0" encoding="UTF-8"?>
`,g.serializeToString(f)),p=new Blob([b],{type:c.KWYez});c.oPYym(Sd,p,s.endsWith(".svg")?s:s+i(298))}function hh(o,s,i=2){const c=dn,f={WFjtz:function(j,A,J){return j(A,J)},QgkMr:".png",qqHGW:c(314),FreSk:c(308),ijVvP:function(j,A){return j*A},PRHQW:c(289),WWDfP:"[data-marquee]",elyRd:c(320),slZia:c(254),QmkST:function(j,A){return j??A},QqvpZ:"height",LFlMc:c(319)},h=o.cloneNode(!0);h[c(307)](c(274)).forEach(j=>j.removeAttribute("data-testid")),h.removeAttribute("style"),h[c(307)]("[data-grid]").forEach(j=>j[c(260)]()),h[c(307)](c(312))[c(297)](j=>j.remove()),h.querySelectorAll(".tsumami-group-dash").forEach(j=>j.remove()),h[c(307)](f.WWDfP)[c(297)](j=>j.remove());const y=o[c(275)](f[c(277)]),M=(y??f[c(267)]).split(" ")[c(272)](Number),v=M[2]??200,d=M[3]??200;h[c(285)]("viewBox",f.QmkST(y,f[c(267)])),h[c(285)]("width",String(v)),h.setAttribute(f[c(293)],String(d)),h[c(285)](c(311),"http://www.w3.org/2000/svg");const g=new XMLSerializer,b=g.serializeToString(h),p=new Blob([b],{type:f[c(317)]}),m=URL.createObjectURL(p),S=new Image;S.onload=()=>{const j=c,A=document.createElement(f.qqHGW);A.width=v*i,A.height=d*i;const J=A.getContext("2d");if(!J){URL[j(301)](m);return}J[j(283)]=f.FreSk,J.fillRect(0,0,A.width,A[j(279)]),J.drawImage(S,0,0,A.width,A[j(279)]),A[j(259)](q=>{const B=j;q&&f[B(256)](Sd,q,s[B(255)](f[B(266)])?s:s+B(276)),URL.revokeObjectURL(m)},j(282))},S[c(302)]=()=>{const j=c;if(f[j(271)]==="ogEZZ")URL[j(301)](m);else{const A={CBMFe:".png"},J=_0x44aedf[j(265)](f[j(270)]);J[j(322)]=f.ijVvP(_0x24413a,_0x58cddf),J[j(279)]=_0x17c25c*_0x2ecfde;const q=J[j(310)]("2d");if(!q){_0x552fc3[j(301)](_0x42d355);return}q.fillStyle=f[j(269)],q.fillRect(0,0,J.width,J[j(279)]),q.drawImage(_0xc34e01,0,0,J[j(322)],J.height),J.toBlob(B=>{const O=j;B&&_0x3f34b9(B,_0xf2247a.endsWith(A.CBMFe)?_0x3b1f3a:_0x28d0bb+O(276)),_0x114041.revokeObjectURL(_0x21713a)},"image/png")}},S.src=m}function Sd(o,s){const i=dn,c=URL[i(288)](o),f=document[i(265)]("a");f.href=c,f[i(305)]=s,document.body.appendChild(f),f.click(),document[i(261)][i(315)](f),URL.revokeObjectURL(c)}function gu({active:o,disabled:s,onClick:i,children:c,...f}){return u.jsx("button",{role:"tab","aria-selected":!!o,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${o?"bg-neutral-900 text-white border-neutral-900":s?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:s,onClick:i,...f,children:c})}const mh="v0.1.0-dev";function bh(o){const{view:s,onNavigate:i,project:c}=o;return u.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:u.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[u.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),u.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),u.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),u.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:mh})]}),u.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[u.jsx(gu,{active:s==="home",onClick:()=>i("home"),"data-testid":"nav-home",children:"Home"}),u.jsx(gu,{active:s==="new",onClick:()=>i("new"),"data-testid":"nav-new",children:"New"}),u.jsx(gu,{active:s==="editor",onClick:()=>i("editor"),disabled:!c,"data-testid":"nav-editor",children:"Editor"}),u.jsx(gu,{active:s==="recipe",onClick:()=>i("recipe"),disabled:!c,"data-testid":"nav-recipe",children:"Recipe"})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:o.onSave,disabled:!c,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),u.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:o.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),u.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:o.onImportJson,disabled:!c,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),u.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:o.onExportJson,disabled:!c,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),u.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:o.onExportSvg,disabled:!c,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),u.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:o.onExportPng,disabled:!c,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function gh(o){return u.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[u.jsxs("div",{className:"flex items-end justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),u.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),u.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:o.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),u.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[o.saved.length===0&&u.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),o.saved.map(s=>u.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${s.id}`,children:[u.jsx("div",{className:"text-lg font-semibold",children:s.title}),u.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",s.updatedAt]}),u.jsxs("div",{className:"mt-4 flex gap-2",children:[u.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>o.onOpen(s.project),"data-testid":"btn-open-project",children:"Open"}),u.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>o.onDelete(s.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},s.id))]}),u.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function l0({children:o}){return u.jsx("div",{className:"grid grid-cols-1 gap-1",children:o})}function yh(o){const[s,i]=W.useState("");return u.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:u.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsx("div",{className:"text-2xl font-semibold",children:""}),u.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o.onBack,"data-testid":"btn-back",children:"Back"})]}),u.jsxs("div",{className:"mt-6 space-y-3",children:[u.jsxs(l0,{children:[u.jsx("span",{children:""}),u.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:s,onChange:c=>i(c.target.value),"data-testid":"input-title"})]}),u.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>o.onCreate(s),"data-testid":"btn-create",children:""})]})]})})}const re=Rn;(function(o,s){const i=Rn,c=o();for(;;)try{if(-parseInt(i(245))/1+-parseInt(i(315))/2*(-parseInt(i(307))/3)+parseInt(i(285))/4*(parseInt(i(208))/5)+-parseInt(i(207))/6*(-parseInt(i(272))/7)+-parseInt(i(269))/8+-parseInt(i(308))/9+parseInt(i(286))/10*(parseInt(i(321))/11)===s)break;c.push(c.shift())}catch{c.push(c.shift())}})(Au,618213);const vh=(function(){const o={HEczZ:function(i,c){return i===c}};let s=!0;return function(i,c){const f=s?function(){const h=Rn,y={Imlom:h(276)};if(c){if(o[h(227)](h(275),"dlekR"))return _0x257a4b.toString()[h(254)](y.Imlom).toString()[h(313)](_0x1baf9e).search("(((.+)+)+)+$");{const M=c[h(239)](i,arguments);return c=null,M}}}:function(){};return s=!1,f}})(),a0=vh(void 0,function(){const o=Rn,s={yJJZn:o(276)};return a0.toString().search(s[o(316)]).toString()[o(313)](a0).search(o(276))});a0();const jd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},wd={adult:"",child:""};function Au(){const o=["qYa1nsaXmcWGnJaGmJiSidyZidm2","qYaXncaTncWGmZyGltqSidq4idq","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYa3oca0mcWGnZGGntqSidCYidyY","tcaTotiGmJGW","5y+Z5zcr44gn","tsaWida","sevJELO","uw9WzM8","qYaTntyGmZySic01mcaYnIWGltqYide4","tcaTmti1idi4ma","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","zgTMvw8","sg5fCu0","t1Hvrfu","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","ywr1Bhq","qYaTntGGntaSic01nca1ocWGltuWidCW","yxbWBhK","qYaTndqGmZqSic0ZocaYmIWGltmWide0","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYaXnIa2nIWGmZqGnZaSidqYidGY","mte0nJm3mMvvr05cuG","tsaWidCW","C3rLBMnPBhmVy2HPBgrFBgvMDc5WBMC","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","qYa0oca3ncWGmJaGnJqSic04idu4","yKHzA1O","tcaTmZaGmJqW","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","C2vHCMnO","tsa0nIaYnG","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","qYaTodGGnZiSic04nca2mIWGltC2idu2","qvPJzLy","qYa2nsa4mcWGnJGGoduSidC0idKW","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","qYaTndqGnIWGltiWidaSidaGma","qYaTnJGGotySic03mca4ncWGlty2idC0","l3rZDw1HBwKV","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","nZu0mJaWmeL0EuXqyW","qYaTodmGodySic04mIa3ncWGltGWidyY","qYa3oca1mIWGnZCGnJaSidC0idy2","n0TeALDTBa","qYaTndmGmZiSic00ncaYocWGltq2idi2","AM9PBG","thjprg8","kcGOlISPkYKRksSK","tsaTndaGmtqY","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYa2ocaZmcWGnZyGndqSidGWidyY","tcaTmtaWidi0ma","C2LKzq","qYaYocaXotGSidm0idiXmIWGndGGmJi4","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTntqGmJaSic02nIaYmIWGltCYidmY","og5Rwe5xCG","odGWmdCWzMXsB3zV","wujWs2O","qYaTmJGGndySic00mca0ncWGltuWidq0","qYaTncaTmsWGlteGlteSidaGma","tsaTndyGmJy","5BEM5zcr44gn","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYa0mIa2mIWGndaGntaSidqYidm4","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","BgvMDa","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYaYmcaWlca0nca2lca1ocaYma","qYa2mcaZocWGnJqGntiSidy0idy4","qYaTndaGmtaSic0XocaXlcaWida","tgPWuMW","yMfJAW","qYa2nsa4msWGnJyGodmSidy2idG1","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYaYmcaXndGSideWide1mcWGmcaXnta","mJK3odDQB3vnu1G","nZGXmdK4m09kr21JCG","qYaTodaGmta4lcaTodGGotySic04oca4na","qYa3mIa2osWGnJKGnZiSidy2idC2","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYa1nYa3msWGntKGnZuSidyZidC5","y29UC3rYDwn0B3i","qYaTmJiGnIWGlteWideSidaGma","mZbwu3jfAuC","EuPkwM4","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYa4mIa3ncWGodmGodySidGYidK4","D2LKDgG","qYa2nca3ocWGnJyGodySidy2idK0","mJy0s2X6vgzL","qYaXocaXlca0mcaXmcWGntiGmJy","CMLNAhq","nJq1mZK0mMTqz3vWva","ntK2mtu1yNvlzM13","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","AgvPz2H0","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","tcaTndaGmtm0","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYa2nca0ncWGnJqGntaSidyZidu2","qYaTndiGnJiSic00mca1mcWGltqYidm4"];return Au=function(){return o},Au()}const Cd={right:re(225),left:re(291),back:""},ph=["M 0 0","C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42",re(271),re(310),re(262),"C 78 93, 82 96, 83 99","C 83 101, 78 103, 72 105","C 70 106, 70 108, 73 110","C 75 112, 74 115, 72 118",re(264),re(258),re(305),re(263),re(236),re(253),"L -36 280",re(230),"C -112 260, -96 242, -82 226","C -68 212, -56 200, -48 190","C -42 182, -38 174, -36 166","C -34 158, -36 150, -40 142","C -48 134, -58 126, -68 118",re(309),"C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44",re(229),re(298),"C -4 -1, -1 -1, 0 0","Z"][re(274)](" "),_h=[re(226),re(299),"C 68 30, 76 44, 80 62",re(318),re(296),"C 84 122, 82 128, 78 134","C 72 142, 60 152, 48 162","C 38 172, 32 180, 30 188",re(282),"C 58 240, 74 258, 92 280",re(224),re(311),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162","C -60 152, -72 142, -78 134",re(257),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20",re(265),"Z","M 0 70",re(244),re(252),re(242),re(306),"C -10 150, -20 148, -30 142",re(292),re(210),re(243),"Z"][re(274)](" "),Sh=["M 0 0",re(220),"C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68",re(312),re(304),"C 66 86, 62 88, 58 90","C 57 91, 57 93, 59 95","C 60 97, 58 101, 54 106","C 50 111, 44 116, 38 120","C 32 125, 28 131, 26 139",re(231),re(268),re(251),re(280),"C -86 218, -72 200, -58 186","C -48 176, -42 168, -38 158","C -35 150, -36 142, -40 134","C -48 126, -56 116, -62 106",re(266),re(294),re(240),re(314),"Z"][re(274)](" "),jh=[re(226),"C 18 1, 40 10, 52 26",re(300),re(320),"C 66 100, 64 106, 60 112","C 54 120, 44 130, 38 140","C 30 152, 32 166, 55 202","C 60 214, 66 228, 70 240","L -70 240",re(248),"C -32 166, -30 152, -38 140","C -44 130, -54 120, -60 112","C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26",re(301),"Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z","M -46 26","C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62",re(209),re(218),re(273),"Z"][re(274)](" "),wh=["M 0 0",re(283),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76",re(249),"C -30 54, -48 48, -62 44",re(229),"C -34 10, -22 3, -10 0",re(289),"Z",re(277),re(297),"C -80 108, -88 96, -88 84",re(260),re(216),re(238),re(317),"L -40 142","Z"].join(" "),Ch=[re(226),"C 20 0, 44 6, 58 20",re(279),"C 82 74, 83 86, 82 98",re(296),re(278),"C 62 142, 42 152, 20 158","C 8 160, -8 160, -20 158",re(259),re(257),"C -84 110, -81 104, -82 98",re(270),"C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",re(246),re(244),"C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116",re(210),re(243),"Z"].join(" "),Mh=["M 0 0","C 14 -4, 36 -4, 48 4",re(219),re(217),"C 44 54, 16 48, -10 46",re(288),re(240),"C -22 6, -10 1, 0 0","Z","M -40 134","C -48 126, -56 116, -62 106",re(266),re(294),"C -46 52, -42 64, -40 78",re(256),re(215),"Z"].join(" "),zh=[re(226),re(205),"C 60 38, 64 52, 64 68",re(320),"C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126","C 0 127, -12 126, -26 124",re(212),re(235),"C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26",re(301),"Z",re(255),re(222),re(223),"C 66 68, 56 70, 48 66",re(293),"C 43 32, 44 28, 46 26","Z",re(290),re(284),"C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66",re(218),"C -43 32, -44 28, -46 26","Z"].join(" ");function Nh(o,s){const i=re,c={dkfUo:function(h,y){return h===y},bHYkZ:"left",RneBL:"adult"},f=s===i(206)||c[i(232)](s,c[i(250)]);return o===c.RneBL?f?ph:_h:f?Sh:jh}function Dh(o,s){const i=re,c={YBpKj:function(h,y){return h===y},OXUDU:i(295),iJKoY:i(237)},f=s===i(206)||c[i(287)](s,c[i(234)]);return o===c.iJKoY?f?wh:Ch:f?Mh:zh}function Rn(o,s){o=o-205;const i=Au();let c=i[o];if(Rn.ryaOlI===void 0){var f=function(v){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",b="",p=g+f;for(let m=0,S,j,A=0;j=v.charAt(A++);~j&&(S=m%4?S*64+j:j,m++%4)?g+=p.charCodeAt(A+10)-10!==0?String.fromCharCode(255&S>>(-2*m&6)):m:0)j=d.indexOf(j);for(let m=0,S=g.length;m<S;m++)b+="%"+("00"+g.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(b)};Rn.SuvuPh=f,Rn.XloaXT={},Rn.ryaOlI=!0}const h=i[0],y=o+h,M=Rn.XloaXT[y];if(M)c=M;else{const v=function(d){this.VwPjRs=d,this.kWIfae=[1,0,0],this.amGhqa=function(){return"newState"},this.qpwqOR="\\w+ *\\(\\) *{\\w+ *",this.oAUjDF=`['|"].+['|"];? *}`};v.prototype.nhpuXL=function(){const d=new RegExp(this.qpwqOR+this.oAUjDF),g=d.test(this.amGhqa.toString())?--this.kWIfae[1]:--this.kWIfae[0];return this.NLsrit(g)},v.prototype.NLsrit=function(d){return~d?this.wxdiaP(this.VwPjRs):d},v.prototype.wxdiaP=function(d){for(let g=0,b=this.kWIfae.length;g<b;g++)this.kWIfae.push(Math.round(Math.random())),b=this.kWIfae.length;return d(this.kWIfae[0])},new v(Rn).nhpuXL(),c=Rn.SuvuPh(c),Rn.XloaXT[y]=c}return c}const Ah={right:"/tsumami/"+re(211),left:"/tsumami/"+re(241),back:re(267)+re(221)},Th={right:"/tsumami/stencils/child_right.png",left:re(267)+re(247),back:"/tsumami/"+re(214)},Eh={adult:Ah,child:Th};function qh(o,s){const i=re,c={LjpRl:function(M,v){return M===v},HnEqM:i(295)},f=s===i(206)||c[i(302)](s,c[i(233)])?"side":i(303),h=jd[o][f],y=Eh[o]?.[s]??null;return{path:Nh(o,s),hairPath:Dh(o,s),scaleX:s===c.HnEqM?-1:1,imageUrl:y,imageWidthMm:h[i(319)],imageHeightMm:h.height}}(function(o,s){const i=Ut,c=o();for(;;)try{if(-parseInt(i(536))/1*(-parseInt(i(546))/2)+-parseInt(i(468))/3*(-parseInt(i(600))/4)+parseInt(i(460))/5+parseInt(i(482))/6+parseInt(i(575))/7+-parseInt(i(562))/8*(-parseInt(i(520))/9)+-parseInt(i(605))/10===s)break;c.push(c.shift())}catch{c.push(c.shift())}})(Tu,155089);const Oh=(function(){let o=!0;return function(s,i){const c=o?function(){const f=Ut;if(i){const h=i[f(529)](s,arguments);return i=null,h}}:function(){};return o=!1,c}})(),i0=Oh(void 0,function(){const o=Ut,s={WxRZt:"(((.+)+)+)+$"};return i0[o(518)]().search(s.WxRZt)[o(518)]()[o(530)](i0)[o(526)](o(579))});i0();function Ut(o,s){o=o-456;const i=Tu();let c=i[o];if(Ut.cWRaCX===void 0){var f=function(v){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",b="",p=g+f;for(let m=0,S,j,A=0;j=v.charAt(A++);~j&&(S=m%4?S*64+j:j,m++%4)?g+=p.charCodeAt(A+10)-10!==0?String.fromCharCode(255&S>>(-2*m&6)):m:0)j=d.indexOf(j);for(let m=0,S=g.length;m<S;m++)b+="%"+("00"+g.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(b)};Ut.ygFsqO=f,Ut.VOouvX={},Ut.cWRaCX=!0}const h=i[0],y=o+h,M=Ut.VOouvX[y];if(M)c=M;else{const v=function(d){this.juwiza=d,this.hOMCGe=[1,0,0],this.WjWcii=function(){return"newState"},this.FjVvRL="\\w+ *\\(\\) *{\\w+ *",this.DBLOXx=`['|"].+['|"];? *}`};v.prototype.XZPJNa=function(){const d=new RegExp(this.FjVvRL+this.DBLOXx),g=d.test(this.WjWcii.toString())?--this.hOMCGe[1]:--this.hOMCGe[0];return this.Qfpxis(g)},v.prototype.Qfpxis=function(d){return~d?this.KtEcUs(this.juwiza):d},v.prototype.KtEcUs=function(d){for(let g=0,b=this.hOMCGe.length;g<b;g++)this.hOMCGe.push(Math.round(Math.random())),b=this.hOMCGe.length;return d(this.hOMCGe[0])},new v(Ut).XZPJNa(),c=Ut.ygFsqO(c),Ut.VOouvX[y]=c}return c}const yu=500*mn;function Jl(o,s,i,c,f){const h=Ut,y={GajEo:function(L,P){return L*P},tApCs:function(L,P){return L<P},czQSL:function(L,P){return L<=P},QUrNf:function(L,P){return L!==P},rPiGC:h(488),MtIQC:function(L,P){return L*P},ZXtGb:function(L,P){return L+P},jKujk:h(490),VNjpF:function(L,P){return L*P},FLwTp:function(L,P){return L*P},QfwVY:function(L,P){return L/P},MplfL:function(L,P){return L<P},mDmCK:function(L,P){return L+P},XOkyx:function(L,P){return L(P)},FOFpz:function(L,P){return L*P},oLOwZ:function(L,P){return L-P},hkljS:function(L,P){return L*P},OPhgA:function(L,P){return L-P},KeHvY:function(L,P){return L>=P},CzILw:"width",YVXNa:h(535),ZGhXO:function(L,P){return L>P},zJwaY:function(L,P){return L===P},nsjuj:function(L,P){return L-P},DCjFQ:h(458),TklSP:"scale"},{length:M}=Qt(i[h(517)]??c.fabricSquareSize),v=o-i[h(594)].x,d=s-i[h(594)].y,g=Math[h(502)](v,d);let b=1/0;for(const L of i[h(584)]){if(!L.visible)continue;const P=L.scale??1,ae=M*P,ie=.28,ue=Math.max(0,L[h(512)]-y[h(621)](ae,ie));y[h(581)](ue,b)&&(b=ue)}isFinite(b)||(b=0);const p=Math[h(480)](b*.9,8);if(y[h(542)](g,p)){if(y[h(554)](y[h(616)],h(582)))return{zone:h(580)};{const L=_0x516436[h(566)][h(570)](ae=>ae.id===_0x2ad72c[h(523)]);if(!L)return;const P=L[h(584)][h(570)](ae=>ae.id===_0x22fe65.layerId);P&&(P.radius=_0x58da58)}}const m=ci(-(i[h(489)]??0)),S=y[h(619)](v,Math.cos(m))-y[h(619)](d,Math[h(544)](m)),j=y.ZXtGb(v*Math[h(544)](m),d*Math[h(504)](m)),A=f[h(471)]===h(541)?i.layers[h(559)](L=>L.id===f[h(456)]&&L[h(513)]):i.layers[h(559)](L=>L[h(513)]);let J=y.jKujk,q,B,O=1/0;for(const L of A){const P=L.scale??1,ae=y.MtIQC(M,P),ie=L.widthScale??1,ue=y.VNjpF(y.FLwTp(M/2,ie),P),me=.28,qe=Math[h(480)](0,L.radius-ae*me),He=y[h(519)](360,Math[h(480)](1,L[h(538)]));for(let Te=0;y[h(527)](Te,L[h(538)]);Te++){const Ve=y.mDmCK(L[h(578)],Te*He),We=y[h(585)](ci,Ve),U=y.FOFpz(Math.cos(We),qe),Z=y[h(604)](Math.sin(We),qe),ee=y[h(592)](S,U),fe=y.oLOwZ(j,Z),Me=Math[h(504)](-We),z=Math.sin(-We),K=y.oLOwZ(y.hkljS(ee,Me),fe*z),xe=y[h(593)](ee,z)+fe*Me,he=y[h(519)](K,ae),we=xe/ue;if(he<-.05||he>1.08||Math[h(571)](we)>.75)continue;const Re=Math[h(502)](y[h(479)](he,.5),we);y[h(472)](Re,O)||(O=Re,q=L.id,B=Te,Math.abs(we)>.45?J=y.CzILw:he>.75?J=y[h(505)]:y.ZGhXO(he,.3)?J="radius":J="scale")}}if(y.zJwaY(J,y.jKujk)){let L=12;for(const ie of i[h(584)]){if(!ie[h(513)])continue;const ue=ie.scale??1,me=y[h(552)](M,ue),qe=.28,He=Math.max(0,y.nsjuj(ie.radius,me*qe));L=Math.max(L,He+me)}if(Math[h(571)](g-L)<=8){if(h(458)===y[h(465)])return{zone:y[h(587)]};{const ie=_0x26d8d9[h(566)][h(570)](ue=>ue.id===_0x53a4ae.flowerId);if(!ie)return;if(_0x25044d.mode===h(541)&&_0x48e622.layerId){const ue=ie.layers.find(me=>me.id===_0x30d70d.layerId);ue&&(ue[h(578)]=_0x475f4e)}else ie[h(489)]=_0x4b9102}}}return{zone:J,layerId:q,petalIndex:B}}function li(o,s,i){const c=Ut,f={owELd:c(580),MkQHZ:"flower",RxebW:c(608),JqwtN:"scale",LyGuL:function(h,y){return h===y},INhtS:function(h,y){return h!=y},TdLZP:function(h,y){return h*y},GiRfw:function(h,y){return h===y},WOUuu:"layer",vjvyF:c(500)};if(o==="center")return f[c(617)];if(o===c(490))return c(490);switch(s){case f.MkQHZ:{if(o==="move")return f.RxebW;if(o===f[c(596)])return c(507);if(f[c(495)](o,"rotate")&&i?.hitLayerId&&i.flower&&f[c(551)](i.length,null)){let h,y=-1/0;for(const M of i.flower.layers){if(!M.visible)continue;const v=M.scale??1,d=f.TdLZP(i.length,v),g=.28,b=Math[c(480)](0,M.radius-d*g),p=b+d;p>y&&(f[c(481)](c(515),"lzVAb")?_0x5cfada(_0x303741[c(523)],_0xed6178.clickPetal.layerId,_0x74a65a.clickPetal.index,!0):(y=p,h=M.id))}return f[c(495)](i.hitLayerId,h)?c(535):"move"}return f.RxebW}case f.WOUuu:return o;case f.vjvyF:case c(577):return c(608);default:return f.RxebW}}function dd(o,s){const i=Ut,c={GSJhr:"center",qoXsm:"rotate",sZcko:i(507),MISiN:i(512),RmfTs:i(608),dZprQ:i(490)};switch(o){case c.GSJhr:return"pointer";case c[i(553)]:return'url("'+s+i(478);case c.sZcko:return'url("'+s+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i(477):return i(550)+s+i(467);case c.MISiN:return i(550)+s+i(573);case"move":return c[i(556)];case c.dZprQ:default:return"grab"}}function Tu(){const o=["zMLUza","ywjZ","AvDrELe","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","BNLnyLq","nti4mdq1DwrMEKDn","AMHrBwy","Cgv0ywXZ","B2zMC2v0qw5NBgu","kcGOlISPkYKRksSK","y2vUDgvY","DefWq3m","DNvqwKi","Bw92zwq","Bgf5zxjZ","we9RExG","zNrLrLe","vgTSu1a","BwfW","u1PwwhG","y3vYCMvUDfrHCMDLDa","rMXyrLG","B0XpD1O","AgTSALm","Cg9ZAxrPB24","D2ror3y","sNf3De4","weHoswi","y3vYCMvUDfn2zW","D2PYq3u","mZCWohHcww5uqG","C3rHCNrxAwr0AfnJywXL","wNHjvLO","t2LIsKi","rK9gChO","nda3mJaXmhzdtK1WvW","ChjLDMvUDerLzMf1Bhq","CxDovNO","Bw92zq","y2XPzw50wa","tu1JB0G","sKLmuxy","zMXVD2vYswrZ","yM5hD0G","v1Pfr3a","y2XPzw50wq","CLbPr0m","B3Dftgq","wM9YEMy","txrjuum","C3rHCNrdBgLLBNq","r2fQrw8","C3r5Bgu","Bw9Kzq","AhzhrKK","y2XPy2TqzxrHBa","Bgf5zxjjza","y3vYC29Y","AMLIDuu","C2v0ug9PBNrLCKnHChr1CMu","nZaXmJK1u2Xfrert","s2TyD2y","C3rHCNreAxn0","AwX3uva","Cgv0ywXjBMrLEa","renQrLe","vwrbuu4","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","ndm1wxLkCvrf","Cgv0ywXbBMDSzq","shLoz3G","A2LUza","s2viDLK","q2XzBhu","txvjExG","Ce9qsxu","zLfeuw0","D2LKDgG","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","t1bOz0e","Bwf4","r2LszNC","mZiZoda4tNDsAMrN","yxrHBJi","CeDbC3e","C3rHCNrsywrPDxm","vwDlC04","BgvUz3rO","yKfouNG","CM90yxrPB24","BM9Uzq","tuPsEum","r1vbq1y","D2LKDgHty2fSzq","CgfUma","thLhDuW","A2PSBvK","zMXVD2vYrgLHBwv0zxi","z0rOqKq","AxntAgLMDfbYzxnZzwq","Cgv0ywW","Aw5KzxG","AhLWB3q","BM5pue8","y29Z","wvzytMe","CKnms1e","C2nHBgu","uxPPvMK","r1jpEvG","D09Xsgm","wKj2CLG","CMfKAxvZ","DMLZAwjSzq","vKz0DKG","BNbVDgG","v05wy0C","zMfICMLJu3f1yxjLu2L6zq","Dg9tDhjPBMC","uwz3vLK","ovnmCfzcAq","ChjVAMvJDa","C3rHCNrsB3rHDgLVBG","zMXVD2vYswq","BxvSDgLtDgfYDfbVC2L0Aw9UCW","y3vYCMvUDa","C2vHCMnO","txbSzKW","AwzIENu","yxbWBhK","y29UC3rYDwn0B3i","qKPSEKm","CNnevNm","A0LzEK4","C3rHCNq","CM90yxrL","muHsA0TADq","BNfztKy","Cgv0ywXdB3vUDa","tujdteC","Cg9PBNrLCKLK","Bgf5zxi","y3Pru0W","D2nbC24","C2LU","sfPHz0u","mJq2odu0teDzquri","C3fYDa","r1Lusfq","BKjqsKy","DxjSkci","su5ODfm","rKX3vha","Cw9yC20","uvvYtMy","yKzMBM0","uM1Mvhm","EKX4DKC","AhbctvG","zMLSDgvY","CvDkrva","thH0tue","mJC4mJG4wfLMq0nc","sg1VAfO","l3rZDw1HBwKV","wuPPD1q","zMXVD2vYCW","zMXVD2vY","BwLU","vNb0wuu"];return Tu=function(){return o},Tu()}function Bh(o){const s=Ut,i={xqjcc:s(507),nyMbT:function(w,C){return w===C},YRNRg:s(610),JILQv:function(w,C){return w(C)},IEbXo:function(w,C){return w(C)},OibJB:function(w,C){return w+C},ZBvrX:function(w,C){return w*C},WvsiV:function(w,C){return w!==C},cRQFF:s(586),VptYE:function(w,C){return w-C},HZagE:function(w,C){return w<C},uXFTa:function(w,C){return w(C)},IYqVR:function(w,C){return w(C)},EDGjP:function(w,C){return w<=C},pCrWd:function(w,C){return w>=C},xfTBA:function(w,C){return w<=C},rsDVs:function(w,C){return w(C)},UdAQN:s(521),swXYh:function(w,C){return w(C)},qWJEP:function(w,C){return w(C)},bFfnm:function(w,C){return w*C},XmCKi:s(566),pOPIu:function(w,C,V){return w(C,V)},ClYlu:function(w,C){return w??C},BJlzC:function(w,C){return w-C},nZGuA:function(w,C){return w-C},gDhBD:function(w,C,V,le){return w(C,V,le)},hvGFI:"GtdLH",AQGEX:"MhZkX",GUACV:function(w,C,V,le,X){return w(C,V,le,X)},nqYNF:function(w,C){return w(C)},HyNgx:function(w,C){return w!==C},qooof:s(503),VsnoA:"WujJZ",ifbzu:"flower",mGWjm:function(w,C){return w!==C},Wdkxb:s(541),UgKsN:function(w,C){return w!==C},jhQmf:function(w,C){return w(C)},eJHmH:function(w,C,V){return w(C,V)},Zorzf:"/tsumami/",pGAsq:function(w,C){return w-C},vuyiW:s(491),dBJYX:function(w,C,V,le){return w(C,V,le)},wcAsn:function(w,C){return w===C},VFtvH:function(w,C,V,le){return w(C,V,le)},kIYzN:function(w,C){return w*C},rCLKQ:function(w,C){return w-C},MBCLG:function(w,C){return w/C},vJluf:function(w,C,V){return w(C,V)},uXpdz:function(w,C){return w===C},wOqHc:function(w,C){return w/C},GEwBd:function(w,C){return w===C},iWQzQ:function(w,C){return w*C},WNVcG:function(w,C){return w<C},JFZFI:function(w,C,V){return w(C,V)},SYMWm:function(w,C){return w*C},kjlmY:function(w,C){return w*C},wjrCu:function(w,C){return w/C},KZZRB:function(w,C){return w+C},vWIFj:function(w,C){return w*C},qwNVz:function(w,C){return w-C},HmohZ:function(w,C){return w+C},ZxIVZ:function(w,C){return w(C)},zLxvG:function(w,C){return w-C},LxtMA:function(w,C){return w*C},QQcYH:function(w,C){return w-C},fQRDG:function(w,C){return w+C},Siupi:function(w,C){return w-C},FlXFX:function(w,C,V){return w(C,V)},ZEHQd:function(w,C,V){return w(C,V)},VcMvr:"WnkYn",JqkAb:s(548),BzNOf:function(w,C){return w(C)}},{project:c,selection:f,setSelection:h,applyUpdate:y,dragRef:M,zoom:v,pan:d,setPan:g,stageRef:b,clientToSvgPoint:p,togglePetalSelection:m}=o,S=W.useRef(null),j=w=>{const C=s;if(i.nyMbT(C(463),i.YRNRg))return{zone:fcAIRs.xqjcc};w.preventDefault(),w.currentTarget?.setPointerCapture?.(w.pointerId),S[C(525)]={start:{x:w.clientX,y:w[C(615)]},pan0:{...d}}},A=w=>{const C=s;if(!S.current)return;const V=w.clientX-S[C(525)][C(534)].x,le=w[C(615)]-S[C(525)].start.y;i.JILQv(g,{x:S.current[C(494)].x+V,y:S.current[C(494)].y+le})},J=()=>{S.current=null},q=i.jhQmf(W.useRef,null),[B,O]=i.BzNOf(W.useState,null),L=w=>{const C=p(w);q.current={startSvg:C,currentSvg:C},O(null)},P=w=>{const C=s;if(!q[C(525)])return;const V=p(w);q[C(525)].currentSvg=V;const le=q[C(525)].startSvg,X=Math.min(le.x,V.x),Ae=Math[C(568)](le.y,V.y),ke=Math.abs(V.x-le.x),ge=Math.abs(V.y-le.y);i[C(611)](O,{x:X,y:Ae,w:ke,h:ge})},ae=()=>{const w=s,C={KkXwf:function(ce,Se){return i.IEbXo(ce,Se)},GROyX:function(ce,Se){return ce*Se},MuIyx:function(ce,Se){return i[Ut(603)](ce,Se)},yRvXm:function(ce,Se){return ce*Se},TBIfZ:function(ce,Se){return ce/Se},wdNGv:function(ce,Se){return i[Ut(511)](ce,Se)}},V=q.current;if(q[w(525)]=null,!V)if(i.WvsiV(i.cRQFF,w(586))){_0x3328b1.preventDefault(),_0x203eaa[w(590)]?.[w(459)]?.(_0x531dfe.pointerId),_0x3ded00[w(525)]&&(_0x528337[w(525)].style.cursor=w(550)+'/tsumami/width_cursor_32.png?v=16") 16 16, ew-resize');const ce=_0x428397.flowers[w(570)](Nt=>Nt.id===_0x38fcba);if(!ce)return;const Se=_0x2ed6c6?.layerId?ce[w(584)].find(Nt=>Nt.id===_0x49eaca[w(456)]):null;if(!Se)return;const Be=C[w(461)](_0x47b1fa,_0x13365a),ft=ce[w(594)].x,dt=ce[w(594)].y,_t=_0x4c8eaa?.[w(464)]??0,rt=360/_0x51bb90.max(1,Se.petalCount),jt=C[w(509)](C[w(474)](Se.offsetAngle+C.yRvXm(_t,rt),ce[w(489)]),C.TBIfZ(_0xcd59d6.PI,180)),$e=Be.x-ft,Ft=Be.y-dt,Xt=-_0x460b0b[w(544)](jt),bn=_0x25c8e3[w(504)](jt),Jn=_0x235e3f[w(571)](C[w(595)]($e,Xt)+Ft*bn);_0x4633b2[w(525)]={mode:_0x11d188,flowerId:_0x5de017,layerId:_0x3dd128?.layerId,petalAngle:jt,startDist:_0x2ce18e.max(1,Jn),startWidthScale:Se[w(493)]??1}}else{i[w(611)](O,null);return}const le=V.startSvg,X=V[w(598)],Ae=Math[w(502)](X.x-le.x,i[w(569)](X.y,le.y));if(i[w(545)](Ae,3)){i.uXFTa(h,{kind:"project"}),i.IYqVR(O,null);return}const ke=Math[w(568)](le.x,X.x),ge=Math.min(le.y,X.y),ye=Math.abs(i[w(569)](X.x,le.x)),ve=Math[w(571)](X.y-le.y),Ee=[];for(const ce of c[w(566)]){const Se=ce.position.x,Be=ce.position.y;Se>=ke&&i.EDGjP(Se,ke+ye)&&i.pCrWd(Be,ge)&&i.xfTBA(Be,ge+ve)&&Ee.push(ce.id)}i.nyMbT(Ee[w(487)],0)?i[w(532)](h,{kind:i[w(466)]}):Ee.length===1?i.swXYh(h,{kind:"flower",flowerId:Ee[0]}):i.qWJEP(h,{kind:w(566),flowerIds:Ee}),O(null)},ie=(w,C,V)=>{const le=s,X={hpBMX:function(ge,ye){return ge===ye},XHNIb:le(541),bnGwH:function(ge,ye){return i[le(555)](ge,ye)},KLxGW:function(ge,ye){return ge-ye},wHFyf:function(ge,ye){return ge-ye},xlCOF:function(ge,ye){return ge<ye}};C[le(606)](),C.currentTarget?.setPointerCapture?.(C[le(540)]);const Ae=c[le(566)].find(ge=>ge.id===w);if(!Ae)return;let ke=null;if(i[le(574)](f.kind,i.XmCKi)&&f.flowerIds.includes(w))if(i[le(574)]("cBDDa","cBDDa"))ke=f[le(612)][le(588)](ge=>{const ye=le,ve=c[ye(566)].find(Ee=>Ee.id===ge);return{id:ge,x:ve?.[ye(594)].x??0,y:ve?.position.y??0}});else{const ge=_0xc77c52.current;if(!ge)return;const ye=_0x496117.flowers.find(dt=>dt.id===ge.flowerId);if(!ye)return;const ve=_0x201c70(_0x208d66),Ee=ye.position.x,ce=ye.position.y,Se=X[le(613)](_0x1c8785.atan2(ve.y-ce,X.KLxGW(ve.x,Ee)),180/_0x582834.PI);let Be=X.wHFyf(Se,ge.startAngle);for(;Be>180;)Be-=360;for(;X.xlCOF(Be,-180);)Be+=360;const ft=ge[le(522)]+Be;_0x2f6eaf(dt=>{const _t=le,rt=dt.flowers[_t(570)](jt=>jt.id===ge[_t(523)]);if(rt)if(X[_t(558)](ge[_t(623)],X[_t(597)])&&ge.layerId){const jt=rt.layers.find($e=>$e.id===ge[_t(456)]);jt&&(jt[_t(578)]=ft)}else rt[_t(489)]=ft},!1)}else{const ge=i[le(475)](I1,c,w);ge[le(487)]>1&&(ke=ge.map(ye=>{const ve=le,Ee=c[ve(566)][ve(570)](ce=>ce.id===ye);return{id:ye,x:Ee?.position.x??0,y:Ee?.position.y??0}}))}M.current={flowerId:w,startClient:{x:C[le(609)],y:C.clientY},startPos:{...Ae[le(594)]},moved:!1,clickPetal:i[le(473)](V,null),isShiftPressed:C.shiftKey||!1,multiStartPositions:ke}},ue=w=>{const C=s,V={nBPJF:function(ye,ve){return i[Ut(531)](ye,ve)},UjUaG:function(ye,ve){return i.nZGuA(ye,ve)},cqrYO:function(ye,ve){return i.IYqVR(ye,ve)},QziVi:function(ye,ve){return i.OibJB(ye,ve)},mYfmp:function(ye,ve,Ee,ce){return i[Ut(498)](ye,ve,Ee,ce)},SZVXx:function(ye,ve){return ye+ve},SQGYV:function(ye,ve){return ye===ve},fQDQm:i[C(624)]},le=M.current;if(!le)return;const X=i.VptYE(w[C(609)],le[C(620)].x)/v,Ae=i.VptYE(w.clientY,le.startClient.y)/v,ke=i.VptYE(w[C(609)],le[C(620)].x),ge=i.BJlzC(w.clientY,le[C(620)].y);Math[C(571)](ke)+Math[C(571)](ge)>4&&(le.moved=!0),y(ye=>{const ve=C;if(le[ve(524)])for(const Ee of le.multiStartPositions){const ce=ye[ve(566)].find(Se=>Se.id===Ee.id);ce&&(ce.position.x=V.mYfmp(Fe,V[ve(589)](Ee.x,X),0,yu),ce[ve(594)].y=Fe(Ee.y+Ae,0,yu))}else if(V.SQGYV("GtdLH",V[ve(476)])){const Ee=ye.flowers.find(ce=>ce.id===le[ve(523)]);if(!Ee)return;Ee.position.x=Fe(V[ve(508)](le.startPos.x,X),0,yu),Ee.position.y=Fe(le.startPos.y+Ae,0,yu)}else{if(!_0x49b511.current)return;const Ee=OuzgZS[ve(549)](_0x9e06a6.clientX,_0x54fe31[ve(525)].start.x),ce=OuzgZS.UjUaG(_0xc8963a[ve(615)],_0x4151e6.current.start.y);OuzgZS.cqrYO(_0x11e4cc,{x:_0x492f2a.current.pan0.x+Ee,y:OuzgZS.QziVi(_0x4ddde4[ve(525)][ve(494)].y,ce)})}},!1)},me=()=>{const w=s;if(i.AQGEX==="MhZkX"){const C=M.current;if(!C)return;!C.moved&&C[w(625)]?C[w(499)]?i[w(492)](m,C[w(523)],C[w(625)].layerId,C[w(625)][w(501)],!0):i[w(537)](h,{kind:w(500),flowerId:C.flowerId,layerId:C.clickPetal.layerId,index:C[w(625)].index}):C[w(583)]?i[w(470)](i.qooof,i.VsnoA)?((i[w(574)](f[w(471)],i.UdAQN)||i.nyMbT(f.kind,i[w(528)])&&i.mGWjm(f[w(523)],C.flowerId)||f.kind===i.Wdkxb&&f.flowerId!==C.flowerId||f.kind==="petal"&&i[w(486)](f[w(523)],C.flowerId))&&i[w(576)](h,{kind:w(567),flowerId:C.flowerId}),i.eJHmH(y,()=>{},!0)):(_0x320674[w(606)](),_0x1453dd.currentTarget?.setPointerCapture?.(_0x13b750[w(540)]),_0x3da7fa.current={start:{x:_0x48a85e.clientX,y:_0x587dea.clientY},pan0:{..._0x3351bb}}):i.pOPIu(y,()=>{},!0),M.current=null}else{const C=_0x3c9f92.flowers[w(570)](le=>le.id===_0x4352c1.flowerId);if(!C)return;const V=C[w(584)].find(le=>le.id===_0x472fc3.layerId);V&&(V.widthScale=_0x3c8694)}},qe=W.useRef(null),He=(w,C,V,le)=>{const X=s;V.preventDefault(),V[X(590)]?.setPointerCapture?.(V.pointerId),b[X(525)]&&(b.current[X(622)][X(457)]=X(550)+i.Zorzf+'scale_cursor_32.png?v=16") 16 16, ns-resize');const Ae=c.flowers[X(570)](ce=>ce.id===C);if(!Ae)return;const ke=w===i.Wdkxb&&le?.layerId?Ae[X(584)].filter(ce=>ce.id===le.layerId).map(ce=>({layerId:ce.id,scale:ce[X(507)]??1,radius:ce[X(512)]??10})):Ae[X(584)][X(588)](ce=>({layerId:ce.id,scale:ce[X(507)]??1,radius:ce[X(512)]??10})),ge=p(V),ye=Ae[X(594)].x,ve=Ae.position.y,Ee=Math.hypot(i.pGAsq(ge.x,ye),ge.y-ve);qe.current={mode:w,flowerId:C,layerId:le?.layerId,startScales:ke,startDiam:Ae[X(497)]||60,startDist:Ee}},Te=w=>{const C=s,V=qe[C(525)];if(!V)return;const le=c[C(566)][C(570)](Ee=>Ee.id===V[C(523)]);if(!le)return;const X=p(w),Ae=le[C(594)].x,ke=le[C(594)].y,ge=Math.hypot(i.nZGuA(X.x,Ae),i[C(506)](X.y,ke)),ye=Math.max(1,V[C(462)]??1),ve=i.dBJYX(Fe,i[C(539)](ge,ye),.3,3);y(Ee=>{const ce=C,Se=Ee.flowers[ce(570)](Be=>Be.id===V[ce(523)]);if(Se){for(const Be of V.startScales)if(i.vuyiW===i.vuyiW){const ft=Se.layers.find(dt=>dt.id===Be.layerId);if(!ft)continue;ft[ce(507)]=i.dBJYX(Fe,Be.scale*ve,.3,3),i[ce(543)](V[ce(623)],i[ce(528)])&&(ft.radius=i.VFtvH(Fe,i[ce(533)](Be[ce(512)],ve),2,120))}else _0xe78394[ce(525)][ce(622)][ce(457)]='url("'+ce(564)+'scale_cursor_32.png?v=16") 16 16, ns-resize';V.mode==="flower"&&(Se.flowerDiameter=i[ce(514)](Fe,V.startDiam*ve,10,200))}},!1)},Ve=()=>{const w=s;qe.current&&(i.vJluf(y,()=>{},!0),b[w(525)]&&(i.uXpdz("YHOvW","uPybp")?i[w(560)](_0x4cac72,{kind:"petal",flowerId:_0x1744ef.flowerId,layerId:_0x10a9c4[w(625)].layerId,index:_0x1d96b9.clickPetal[w(501)]}):b.current[w(622)][w(457)]=""),qe.current=null)},We=W.useRef(null),U=(w,C,V,le)=>{const X=s;V[X(606)](),V.currentTarget?.[X(459)]?.(V[X(540)]),b[X(525)]&&(b.current.style[X(457)]='url("/tsumami/rotate_cursor_active_32.png") 16 16, grabbing');const Ae=c.flowers.find(ce=>ce.id===C);if(!Ae)return;const ke=p(V),ge=Ae.position.x,ye=Ae.position.y,ve=Math[X(483)](i[X(531)](ke.y,ye),i[X(484)](ke.x,ge))*i[X(510)](180,Math.PI),Ee=i.GEwBd(w,i.Wdkxb)&&le?.[X(456)]?Ae[X(584)][X(570)](ce=>ce.id===le.layerId)?.[X(578)]??0:Ae.rotation??0;We.current={mode:w,flowerId:C,layerId:le?.layerId,startAngle:ve,startRotation:Ee}},Z=w=>{const C=s,V=We.current;if(!V)return;const le=c[C(566)][C(570)](Ee=>Ee.id===V[C(523)]);if(!le)return;const X=p(w),Ae=le.position.x,ke=le[C(594)].y,ge=i[C(572)](Math[C(483)](X.y-ke,X.x-Ae),i[C(539)](180,Math.PI));let ye=i.VptYE(ge,V.startAngle);for(;ye>180;)ye-=360;for(;i[C(516)](ye,-180);)ye+=360;const ve=i.OibJB(V.startRotation,ye);y(Ee=>{const ce=C,Se=Ee[ce(566)].find(Be=>Be.id===V.flowerId);if(Se)if(V[ce(623)]===i.Wdkxb&&V[ce(456)]){const Be=Se[ce(584)][ce(570)](ft=>ft.id===V.layerId);Be&&(Be.offsetAngle=ve)}else Se.rotation=ve},!1)},ee=()=>{const w=s;We[w(525)]&&(i.JFZFI(y,()=>{},!0),b[w(525)]&&(b.current[w(622)].cursor=""),We.current=null)},fe=W.useRef(null),Me=(w,C,V,le)=>{const X=s;V[X(606)](),V[X(590)]?.setPointerCapture?.(V.pointerId),b.current&&(b[X(525)].style.cursor=X(550)+i[X(618)]+X(467));const Ae=c[X(566)][X(570)](jt=>jt.id===C);if(!Ae)return;const ke=le?.layerId?Ae[X(584)][X(570)](jt=>jt.id===le[X(456)]):null;if(!ke)return;const ge=p(V),ye=Ae[X(594)].x,ve=Ae[X(594)].y,Ee=le?.[X(464)]??0,ce=i.MBCLG(360,Math.max(1,ke.petalCount)),Se=i.SYMWm(ke[X(578)]+i[X(496)](Ee,ce)+Ae[X(489)],i[X(599)](Math.PI,180)),Be=ge.x-ye,ft=i[X(484)](ge.y,ve),dt=-Math.sin(Se),_t=Math[X(504)](Se),rt=Math[X(571)](i.KZZRB(i[X(533)](Be,dt),i.vWIFj(ft,_t)));fe.current={mode:w,flowerId:C,layerId:le?.layerId,petalAngle:Se,startDist:Math[X(480)](1,rt),startWidthScale:ke.widthScale??1}},z=w=>{const C=s,V=fe[C(525)];if(!V)return;const le=c[C(566)][C(570)](ft=>ft.id===V.flowerId);if(!le)return;const X=p(w),Ae=le[C(594)].x,ke=le.position.y,ge=i[C(607)](X.x,Ae),ye=X.y-ke,ve=-Math[C(544)](V.petalAngle),Ee=Math[C(504)](V[C(469)]),ce=Math.abs(i[C(563)](ge*ve,ye*Ee)),Se=Fe(ce/V[C(462)],.3,3),Be=i.gDhBD(Fe,i.kIYzN(V[C(601)],Se),.3,3);y(ft=>{const dt=C,_t=ft[dt(566)].find(jt=>jt.id===V.flowerId);if(!_t)return;const rt=_t.layers.find(jt=>jt.id===V.layerId);rt&&(rt[dt(493)]=Be)},!1)},K=()=>{const w=s;fe[w(525)]&&(y(()=>{},!0),b[w(525)]&&(b[w(525)].style[w(457)]=""),fe[w(525)]=null)},xe=W.useRef(null);return{beginPan:j,updatePan:A,endPan:J,marqueeRef:q,marqueeRect:B,beginMarquee:L,updateMarquee:P,endMarquee:ae,beginFlowerDrag:ie,updateFlowerDrag:ue,endFlowerDrag:me,scaleDragRef:qe,beginScaleDrag:He,updateScaleDrag:Te,endScaleDrag:Ve,rotationDragRef:We,beginRotationDrag:U,updateRotationDrag:Z,endRotationDrag:ee,widthScaleDragRef:fe,beginWidthScaleDrag:Me,updateWidthScaleDrag:z,endWidthScaleDrag:K,radiusDragRef:xe,beginRadiusDrag:(w,C,V,le)=>{const X=s;V.preventDefault(),V[X(590)]?.setPointerCapture?.(V.pointerId),b.current&&(b.current.style[X(457)]='url("'+i.Zorzf+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const Ae=c.flowers.find(Be=>Be.id===C);if(!Ae)return;const ke=le?.[X(456)]?Ae[X(584)].find(Be=>Be.id===le[X(456)]):null;if(!ke)return;const ge=i[X(602)](p,V),ye=Ae[X(594)].x,ve=Ae[X(594)].y,Ee=ge.x-ye,ce=i[X(557)](ge.y,ve),Se=Math.sqrt(Ee*Ee+i[X(561)](ce,ce));xe.current={mode:w,flowerId:C,layerId:le?.[X(456)],startDist:Math[X(480)](1,Se),startRadius:ke.radius??28}},updateRadiusDrag:w=>{const C=s,V=xe[C(525)];if(!V)return;const le=c[C(566)].find(Se=>Se.id===V.flowerId);if(!le)return;const X=p(w),Ae=le.position.x,ke=le[C(594)].y,ge=i.zLxvG(X.x,Ae),ye=i.QQcYH(X.y,ke),ve=Math[C(547)](i.fQRDG(ge*ge,ye*ye)),Ee=ve-V.startDist,ce=Fe(i[C(563)](V[C(485)],Ee),5,100);y(Se=>{const Be=C,ft=Se[Be(566)].find(_t=>_t.id===V[Be(523)]);if(!ft)return;const dt=ft[Be(584)].find(_t=>_t.id===V.layerId);dt&&(dt.radius=ce)},!1)},endRadiusDrag:()=>{const w=s;if(i.mGWjm(w(614),w(614)))kzFLcU[w(565)](_0x15a818,()=>{},!0);else{if(!xe.current)return;if(y(()=>{},!0),b[w(525)])if(i.VcMvr===i.JqkAb){const C=_0x417ca0.current;if(!C)return;const V=_0x5326ab[w(566)][w(570)](ce=>ce.id===C.flowerId);if(!V)return;const le=_0x3e4bfb(_0x431af4),X=V[w(594)].x,Ae=V[w(594)].y,ke=le.x-X,ge=i.Siupi(le.y,Ae),ye=_0x3490cd[w(547)](ke*ke+i[w(555)](ge,ge)),ve=ye-C[w(462)],Ee=_0x473b16(C[w(485)]+ve,5,100);i[w(591)](_0x228aec,ce=>{const Se=w,Be=ce.flowers.find(dt=>dt.id===C[Se(523)]);if(!Be)return;const ft=Be.layers.find(dt=>dt.id===C[Se(456)]);ft&&(ft.radius=Ee)},!1)}else b.current[w(622)][w(457)]="";xe[w(525)]=null}}}}function Lh({className:o}){return u.jsxs("svg",{className:o,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[u.jsx("path",{d:"M3 6h18"}),u.jsx("path",{d:"M8 6V4h8v2"}),u.jsx("path",{d:"M6 6l1 16h10l1-16"}),u.jsx("path",{d:"M10 11v6"}),u.jsx("path",{d:"M14 11v6"})]})}function vu(o){const s=!!o.selected,i=!!o.muted,c=4+(o.level||0)*12+(o.leftOffset||0),f=Math.max(0,c),h=s?"bg-neutral-50 border-neutral-200 text-neutral-900":i?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",y="h-7 w-7";return u.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:M=>{o.onDoubleClick&&(M.stopPropagation(),o.onDoubleClick())},children:[u.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${h}`,onClick:o.onClick,style:{textAlign:"left"},children:[o.marker?u.jsx("span",{className:`${s?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:o.marker}):u.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),u.jsx("span",{className:"truncate text-left whitespace-nowrap",children:o.label})]}),u.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[o.rightActions&&u.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:o.rightActions}),o.showTrash?u.jsx("button",{type:"button",className:`${y} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:M=>{M.stopPropagation(),o.onTrash?.()},title:"Delete","aria-label":"Delete",children:u.jsx(Lh,{className:"h-4 w-4"})}):u.jsx("div",{className:`${y} shrink-0`,"aria-hidden":!0})]})]})}function Rh(o){const{project:s,selection:i,setSelection:c,isExpanded:f,toggleExpanded:h,scheduleFlowerRowClick:y,handleFlowerRowDoubleClick:M,addFlower:v,deleteSelected:d,addOuterLayer:g,deleteOuterLayer:b,deleteFlowerById:p,deleteLayerById:m,treeScrollRef:S,setExpandedFlowers:j}=o;return u.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[u.jsx("div",{className:"text-sm font-semibold px-0.5",children:""}),u.jsxs("div",{className:"mt-1.5 flex gap-1 flex-wrap",children:[u.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:v,title:"","aria-label":"","data-testid":"btn-add-flower",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{cx:"11",cy:"7",r:"3",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("circle",{cx:"7",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("circle",{cx:"15",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("circle",{cx:"9",cy:"17",r:"3",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("circle",{cx:"13",cy:"17",r:"3",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("circle",{cx:"11",cy:"12",r:"1.5",fill:"currentColor"}),u.jsx("line",{x1:"20",y1:"2",x2:"20",y2:"8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"17",y1:"5",x2:"23",y2:"5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),u.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${i.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:i.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("polyline",{points:"3 6 5 6 21 6"}),u.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),u.jsx("path",{d:"M10 11v6"}),u.jsx("path",{d:"M14 11v6"}),u.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),u.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),u.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:o.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:u.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[u.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),u.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),u.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${o.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:o.onPasteFlower,disabled:!o.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:u.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[u.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),u.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),u.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),u.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),u.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>o.onArrangeFlower("forward"),title:"","aria-label":"",children:u.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[u.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),u.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),u.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),u.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>o.onArrangeFlower("backward"),title:"","aria-label":"",children:u.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[u.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),u.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),u.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),u.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>o.onArrangeFlower("front"),title:"","aria-label":"",children:u.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[u.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),u.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),u.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),u.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>o.onArrangeFlower("back"),title:"","aria-label":"",children:u.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[u.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),u.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),u.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]}),u.jsxs("div",{className:"mt-1.5 max-h-[420px] overflow-y-auto overflow-x-auto",ref:S,"data-testid":"layer-tree",children:[u.jsx(vu,{label:s.title,selected:i.kind==="project",onClick:()=>c({kind:"project"}),level:0}),(()=>{const A=o.groups,J=new Set(A.flatMap(O=>O.flowerIds)),q=s.flowers.filter(O=>!J.has(O.id)),B=(O,L)=>{const P=i.kind==="flower"&&i.flowerId===O.id,ae=i.kind==="flowers"&&i.flowerIds.includes(O.id);(i.kind==="layer"||i.kind==="petal")&&(i.flowerId,O.id);const ie=P||ae,ue="",me=f(O.id),qe=O.layers&&O.layers.length>0,He=u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:Te=>{Te.stopPropagation(),g(O.id)},"aria-label":"Add outer layer",children:"+"}),qe&&u.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:Te=>{Te.stopPropagation(),b(O.id)},"aria-label":"Delete outer layer",children:""})]});return u.jsxs("div",{"data-flower-id":O.id,"data-testid":`tree-flower-${O.id}`,style:{paddingLeft:L},children:[u.jsxs("div",{className:"flex items-center gap-0",children:[u.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${me?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:me?"Collapse layers":"Expand layers",onClick:Te=>{Te.stopPropagation(),h(O.id)},"aria-label":me?"collapse":"expand","data-tree-toggle":!0,children:me?"":""}),u.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:u.jsx(vu,{label:O.name,marker:ue,selected:ie,showTrash:P,onTrash:()=>p(O.id),rightActions:He,onClick:()=>y(O.id),onDoubleClick:()=>M(O.id),level:0,leftOffset:-18})})]}),me&&O.layers.slice().sort((Te,Ve)=>Ve.order-Te.order).map(Te=>{const Ve=(i.kind==="layer"||i.kind==="petal")&&i.layerId===Te.id;return u.jsx(vu,{label:`${Te.order}. ${Te.name}`,marker:"",selected:Ve,showTrash:Ve,onTrash:()=>m(O.id,Te.id),onClick:()=>{c({kind:"layer",flowerId:O.id,layerId:Te.id}),j(We=>({...We,[O.id]:!0}))},level:0,leftOffset:10,muted:!Te.visible},Te.id)})]},O.id)};return u.jsxs(u.Fragment,{children:[[...A].reverse().map(O=>{const L=i.kind==="group"&&i.groupId===O.id;O.flowerIds.some(ie=>i.kind==="flower"&&i.flowerId===ie||i.kind==="layer"&&i.flowerId===ie||i.kind==="petal"&&i.flowerId===ie||i.kind==="flowers"&&i.flowerIds.includes(ie));const P="",ae=o.isGroupExpanded(O.id);return u.jsxs("div",{"data-group-id":O.id,children:[u.jsxs("div",{className:"flex items-center gap-0",children:[u.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${ae?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:ae?"":"",onClick:ie=>{ie.stopPropagation(),o.toggleGroupExpanded(O.id)},"aria-label":ae?"collapse group":"expand group",children:ae?"":""}),u.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:u.jsx(vu,{label:` ${O.name}`,marker:P,selected:L,onClick:()=>o.onSelectGroup(O.id),level:0,leftOffset:-18})})]}),ae&&O.flowerIds.map(ie=>{const ue=s.flowers.find(me=>me.id===ie);return ue?B(ue,12):null})]},O.id)}),[...q].reverse().map(O=>B(O,0))]})})()]}),u.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[u.jsx("div",{className:"font-semibold text-neutral-700",children:""}),u.jsx("div",{children:"Z:  / Z: "}),u.jsx("div",{children:"S:  / C,V: ,"})]})]})}function ai(o,s){const i=parseInt(o.slice(1,3),16),c=parseInt(o.slice(3,5),16),f=parseInt(o.slice(5,7),16),h=1-s;return`#${Math.round(i*h).toString(16).padStart(2,"0")}${Math.round(c*h).toString(16).padStart(2,"0")}${Math.round(f*h).toString(16).padStart(2,"0")}`}function kh(o){const{flower:s,project:i,paletteMap:c}=o,f=W.useRef(null),h=W.useRef(!1),y=W.useRef(null),M=W.useMemo(()=>[...s.layers||[]].sort((q,B)=>q.order-B.order),[s.layers]),v=s.fabricSquareSize??i.fabricSquareSize,{length:d,width:g}=Qt(v),{flowerOuterR:b,centerHitR:p}=W.useMemo(()=>{let q=12,B=1/0;for(const L of M){if(!L.visible)continue;const P=L.scale??1,ae=d*P,ue=Math.max(0,L.radius-ae*.28),me=ue+ae;q=Math.max(q,me),ue<B&&(B=ue)}isFinite(B)||(B=0);const O=Math.max(B*.9,8);return{flowerOuterR:q,centerHitR:O}},[M,d]),m=(q,B)=>q?.petalOverrides?.find(O=>O.index===B)??null,S="pointer",j=o.isFlowerSelected||o.selectedLayerId!=null||o.selectedPetal!=null||(o.selectedPetals?.length??0)>0,A=o.zoneCursorValue??"grab",J=q=>{if(q.stopPropagation(),q.button===0){if(q.shiftKey&&o.onShiftSelect){o.onShiftSelect();return}o.onSelect?.(),o.onPointerDown?.(q)}};return u.jsxs("g",{transform:`translate(${s.position.x} ${s.position.y}) rotate(${s.rotation})`,onPointerDown:o.onPointerDown,onDoubleClick:q=>{q.stopPropagation(),o.onDoubleClick?.()},style:{cursor:j?A:"move"},"data-testid":`flower-${s.id}`,children:[o.isSelected&&o.selectedPetal==null&&!o.selectedPetals?.length&&u.jsx("circle",{r:Math.max(12,b),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),M.map(q=>{if(!q.visible)return null;const O=c.get(q.colorId)?.hex??"#999",L=360/Math.max(1,q.petalCount),P=q.scale??1,ae=d*P,ue=g*(q.widthScale??1)*P,qe=Math.max(0,q.radius-ae*.28),He=fd(""),Te=fd(""),Ve=qe+ae,We=o.isSelected&&o.selectedLayerId===q.id,U=o.isSelected&&(o.selectedPetal?.layerId===q.id||(o.selectedPetals?.some(Z=>Z.layerId===q.id)??!1));return u.jsxs("g",{children:[Array.from({length:q.petalCount}).map((Z,ee)=>{const fe=m(q,ee),z=(fe?.petalType??q.petalType)===""?He:Te,K=c.get(fe?.colorId??q.colorId)?.hex??O,xe=q.offsetAngle+ee*L,he=ci(xe),we=Math.cos(he)*qe,Re=Math.sin(he)*qe,w=o.isSelected&&o.selectedPetal?.layerId===q.id&&o.selectedPetal?.index===ee,C=o.isSelected&&(o.selectedPetals?.some(X=>X.layerId===q.id&&X.index===ee)??!1),V=w||C,le=j?A:"grab";return u.jsxs("g",{transform:`translate(${we} ${Re}) rotate(${xe})`,children:[u.jsx("path",{d:z,transform:`scale(${ae} ${ue})`,fill:K,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:q.locked?.55:.95,style:{cursor:le},onPointerDown:X=>{if(X.stopPropagation(),X.button!==0)return;const Ae=X.shiftKey,ke=X.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),h.current=!1,Ae&&o.onTogglePetalSelection){X.preventDefault(),X.stopPropagation(),o.onTogglePetalSelection(q.id,ee,!0);return}if(ke&&o.onTogglePetalSelection){y.current={x:X.clientX,y:X.clientY};const Ee=q.id,ce=ee;f.current=window.setTimeout(()=>{h.current=!0,f.current=null,o.onTogglePetalSelection?.(Ee,ce,!0),navigator.vibrate?.(30)},500)}const ge=o.isSelected&&o.selectedLayerId!=null,ye=o.selectedPetal!=null||(o.selectedPetals?.length??0)>0;if(o.isFlowerSelected||ge||ye){o.onBeginDragFromLayerPetal(q.id,ee,X);return}o.onBeginDragFromLayerPetal(q.id,ee,X)},onPointerMove:X=>{if(f.current&&y.current){const Ae=X.clientX-y.current.x,ke=X.clientY-y.current.y;Math.hypot(Ae,ke)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:X=>{X.stopPropagation(),o.onSelect?.(),o.onSelectLayer?.(q.id)}}),q.doublePetal&&(()=>{const X=q.doublePetal,Ae=X.innerSizeReduction??2,ke=v*P,ye=Math.max(ke*.3,ke-Ae)/ke,ve=z,Ee=fe?.innerColorId??X.innerColorId??fe?.colorId??q.colorId,ce=c.get(Ee)?.hex??K,Se=ae*ye,Be=ue*ye;return u.jsx("path",{d:ve,transform:`scale(${Se} ${Be})`,fill:ce,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:q.locked?.55:.95,pointerEvents:"none"})})(),(V||We||o.isFlowerSelected)&&u.jsx("path",{d:z,transform:`scale(${ae} ${ue})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${o.dashSyncToken??0}-${q.id}-${ee}`)]},ee)}),We&&!U&&u.jsx("circle",{r:Ve,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},q.id)}),o.isFlowerSelected&&u.jsx("circle",{r:b,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.center?(()=>{const q=s.center,B=W1(q.size),O=c.get(q.color)?.hex??"#D4A843",L=q.color2?c.get(q.color2)?.hex??"#C0C0C0":"#D4A843",P=Math.max(B,p);switch(q.type){case"":return u.jsxs("g",{children:[u.jsx("circle",{r:B,fill:O,stroke:ai(O,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),u.jsx("circle",{r:P,fill:"transparent",style:{cursor:S},onPointerDown:J})]});case"":{const ie=B*.42,ue=B,me=B*.12,qe=B*.13,He=B*.45,Te=L,Ve=O;return u.jsxs("g",{children:[u.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((We,U)=>{const Z=U/10*360,ee=ci(Z),fe=Math.cos(ee)*ue,Me=Math.sin(ee)*ue,z=-Math.sin(ee)*me,K=Math.cos(ee)*me,xe=Math.cos(ee)*ie,he=Math.sin(ee)*ie;return u.jsxs("g",{children:[u.jsx("path",{d:`M ${(xe+z).toFixed(2)} ${(he+K).toFixed(2)} L ${fe.toFixed(2)} ${Me.toFixed(2)} L ${(xe-z).toFixed(2)} ${(he-K).toFixed(2)} Z`,fill:Te,stroke:ai(Te,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),u.jsx("circle",{cx:fe,cy:Me,r:qe,fill:Te,stroke:ai(Te,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},U)}),u.jsx("circle",{r:ie,fill:Te,stroke:ai(Te,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),u.jsx("circle",{r:He,fill:Ve,stroke:ai(Ve,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),u.jsx("circle",{r:P,fill:"transparent",style:{cursor:S},onPointerDown:J})]})}case"":{const ae=q.pepCount??12,ie=B*.12;return u.jsxs("g",{children:[u.jsx("g",{pointerEvents:"none",children:Array.from({length:ae}).map((ue,me)=>{const qe=me/ae*360,He=ci(qe),Te=Math.cos(He)*B,Ve=Math.sin(He)*B;return u.jsxs("g",{children:[u.jsx("line",{x1:0,y1:0,x2:Te,y2:Ve,stroke:O,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),u.jsx("circle",{cx:Te,cy:Ve,r:Math.max(ie,1),fill:O,stroke:ai(O,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},me)})}),u.jsx("circle",{r:P,fill:"transparent",style:{cursor:S},onPointerDown:J})]})}default:return u.jsxs("g",{children:[u.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),u.jsx("circle",{r:p,fill:"transparent",style:{cursor:S},onPointerDown:J})]})}})():u.jsxs("g",{children:[u.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),u.jsx("circle",{r:p,fill:"transparent",style:{cursor:S},onPointerDown:J})]}),o.isGroupHighlighted&&u.jsx("circle",{r:Math.max(14,b+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${o.dashSyncToken??0}`)]})}const Js=520,ba=1350;function hd(o,s,i,c,f,h,y){const M=c/i-1;return{x:y.x-M*(-y.x+o*f),y:y.y-M*(-y.y+s*h)}}function Gh(o){const{project:s,selection:i,setSelection:c,paletteMap:f,selectedFlowerId:h,setZoom:y,zoomLevel:M,setZoomLevel:v,ZOOM_LEVELS:d,setPan:g,showGrid:b,setShowGrid:p,setShowHelp:m,stageRef:S,viewBox:j,dashDelay:A,dashSyncToken:J,beginPan:q,updatePan:B,endPan:O,beginMarquee:L,updateMarquee:P,endMarquee:ae,marqueeRef:ie,marqueeRect:ue,beginFlowerDrag:me,updateFlowerDrag:qe,endFlowerDrag:He,scaleDragRef:Te,updateScaleDrag:Ve,endScaleDrag:We,rotationDragRef:U,updateRotationDrag:Z,endRotationDrag:ee,widthScaleDragRef:fe,updateWidthScaleDrag:Me,endWidthScaleDrag:z,radiusDragRef:K,updateRadiusDrag:xe,endRadiusDrag:he,beginScaleDrag:we,beginRotationDrag:Re,beginWidthScaleDrag:w,beginRadiusDrag:C,togglePetalSelection:V,clientToSvgPoint:le}=o,X=W.useRef(!1),Ae=W.useRef(o.applyUpdate);Ae.current=o.applyUpdate;const ke=W.useRef(le);ke.current=le;const[ge,ye]=W.useState(!1),ve=W.useRef(null);W.useEffect(()=>{if(!ge)return;const E=oe=>{ve.current&&!ve.current.contains(oe.target)&&ye(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[ge]);const[Ee,ce]=W.useState("grab"),Se=W.useRef(null),Be=W.useRef(!0),ft=5,[dt,_t]=W.useState(!1),rt=W.useRef(!1),[jt,$e]=W.useState(null),Ft=W.useRef(null),Xt=W.useRef(null),bn=W.useRef(null),Jn=5,Nt=W.useRef(o.pan),gn=W.useRef(o.zoom);W.useEffect(()=>{Nt.current=o.pan},[o.pan]),W.useEffect(()=>{gn.current=o.zoom},[o.zoom]);const kn=W.useCallback(E=>{if(E.touches.length===2){E.preventDefault(),O(),He(),ae(),ee(),We(),z(),he(),Xt.current=null,bn.current=null;const oe=E.touches[0],be=E.touches[1],pe=(oe.clientX+be.clientX)/2,ze=(oe.clientY+be.clientY)/2,Ue=Math.hypot(be.clientX-oe.clientX,be.clientY-oe.clientY);Ft.current={initialCenter:{x:pe,y:ze},initialDist:Ue,initialPan:{...Nt.current},initialZoom:gn.current}}},[O,He,ae,ee,We,z,he]),Yt=W.useCallback(E=>{if(E.touches.length===2&&Ft.current){E.preventDefault();const oe=E.touches[0],be=E.touches[1],pe=(oe.clientX+be.clientX)/2,ze=(oe.clientY+be.clientY)/2,Ue=Math.hypot(be.clientX-oe.clientX,be.clientY-oe.clientY),Ge=Ft.current,Oe=Ue/Math.max(1,Ge.initialDist),ut=Fe(Number((Ge.initialZoom*Oe).toFixed(3)),d[0],d[d.length-1]),Ie=Ge.initialZoom,et=pe-Ge.initialCenter.x,Pe=ze-Ge.initialCenter.y;let T=Ge.initialPan.x+et,Y=Ge.initialPan.y+Pe;const Q=S.current;if(Q&&Ie!==ut){const se=Q.getBoundingClientRect(),de=(Ge.initialCenter.x-se.left)/se.width,_e=(Ge.initialCenter.y-se.top)/se.height,Ce=se.width/se.height,Ne=Js,Ze=Ne*Ce,Xe=(ut/Ie-1)*(-Ge.initialPan.x+de*Ze),ct=(ut/Ie-1)*(-Ge.initialPan.y+_e*Ne);T-=Xe,Y-=ct}const te={x:T,y:Y};gn.current=ut,Nt.current=te,g(te),y(ut)}},[g,y,S,d]),nn=W.useCallback(E=>{E.touches.length<2&&(Ft.current=null)},[]),qt=W.useRef(M);W.useEffect(()=>{qt.current=M},[M]);const si=.003,Ql=W.useCallback(E=>{E.preventDefault();const oe=S.current;if(!oe)return;const be=gn.current,pe=be*Math.exp(-E.deltaY*si),ze=Fe(pe,d[0],d[d.length-1]);if(Math.abs(ze-be)<1e-6)return;const Ue=oe.getBoundingClientRect(),Ge=(E.clientX-Ue.left)/Ue.width,Oe=(E.clientY-Ue.top)/Ue.height,ut=Ue.width/Ue.height,Ie=Js,et=Ie*ut,Pe=hd(Ge,Oe,be,ze,et,Ie,Nt.current);gn.current=ze,Nt.current=Pe,y(ze),g(Pe)},[y,g,S,d]);W.useEffect(()=>{const E=S.current;if(E)return E.addEventListener("touchstart",kn,{passive:!1}),E.addEventListener("touchmove",Yt,{passive:!1}),E.addEventListener("touchend",nn),E.addEventListener("wheel",Ql,{passive:!1}),()=>{E.removeEventListener("touchstart",kn),E.removeEventListener("touchmove",Yt),E.removeEventListener("touchend",nn),E.removeEventListener("wheel",Ql)}},[S,kn,Yt,nn,Ql]);const _a=W.useCallback(E=>{const oe=qt.current,be=Fe(oe+E,0,d.length-1);if(be===oe)return;const pe=gn.current,ze=d[be],Ue=S.current;if(!Ue){v(be);return}const Ge=Ue.getBoundingClientRect(),Oe=Ge.width/Ge.height,ut=Js,Ie=ut*Oe,et=hd(.5,.5,pe,ze,Ie,ut,Nt.current);gn.current=ze,qt.current=be,Nt.current=et,v(be),g(et)},[v,g,S,d]);return u.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsx("div",{className:"text-sm font-semibold",children:""}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${o.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:o.onUndo,disabled:!o.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),u.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),u.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${o.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:o.onRedo,disabled:!o.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),u.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),u.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),u.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${M>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>_a(1),disabled:M>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:u.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"10",cy:"10",r:"7"}),u.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),u.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),u.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),u.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${M<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>_a(-1),disabled:M<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:u.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"10",cy:"10",r:"7"}),u.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),u.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),u.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),u.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${b?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>p(E=>!E),title:"","aria-label":"","aria-pressed":b,"data-testid":"btn-grid",children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[u.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),u.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),u.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),u.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),u.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),u.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),u.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),u.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),u.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>{qt.current=5,gn.current=d[5],Nt.current={x:0,y:0},v(5),g({x:0,y:0})},title:"","aria-label":"","data-testid":"btn-reset-view",children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),u.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),u.jsxs("div",{className:"relative",ref:ve,children:[u.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${ge?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>ye(E=>!E),title:"","aria-label":"","data-testid":"btn-stencil",children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M12 2a5 5 0 015 5v1a2 2 0 01-2 2h-6a2 2 0 01-2-2V7a5 5 0 015-5z"}),u.jsx("path",{d:"M8 10v2a4 4 0 008 0v-2"}),u.jsx("path",{d:"M6 18c0-2 2-4 6-4s6 2 6 4v2H6v-2z"})]})}),ge&&u.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(E=>u.jsxs("div",{children:[u.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:wd[E]}),["right","left","back"].map(oe=>u.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{o.onAddStencil(E,oe),ye(!1)},"data-testid":`stencil-add-${E}-${oe}`,children:Cd[oe]},`${E}-${oe}`))]},E)),o.selectedStencilId&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"my-1 border-t border-neutral-200"}),u.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{o.selectedStencilId&&o.onDeleteStencil(o.selectedStencilId),ye(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),u.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>m(!0),title:"","aria-label":"","data-testid":"btn-help",children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),u.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),u.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:b?"24px 1fr":"1fr",gridTemplateRows:b?"20px 1fr":"1fr"},children:[b&&u.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),b&&(()=>{const[E,,oe,be]=j.split(" ").map(Number),pe=mn,ze=Math.max(oe,be)/pe,Ge=[10,20,50,100,200,500,1e3].find(T=>ze/T<=15)??1e3,Oe=Ge<=10?1:Ge<=50?5:Ge<=100?10:Ge<=500?50:100,ut=Ge<=10?5:Ge/2,Ie=Math.floor(E/pe/Oe)*Oe-Oe,et=Math.ceil((E+oe)/pe/Oe)*Oe+Oe,Pe=[];for(let T=Ie;T<=et;T+=Oe){const Q=(T*pe-E)/oe*100;if(Q<-2||Q>102)continue;const te=Math.abs(T),se=te%Ge===0,de=te%ut===0,_e=se?10:de?6:3;Pe.push(u.jsx("line",{x1:`${Q}%`,y1:20-_e,x2:`${Q}%`,y2:20,stroke:"#999",strokeWidth:se?.8:.4},T)),se&&Pe.push(u.jsx("text",{x:`${Q}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:T},`t${T}`))}return u.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Pe})})(),b&&(()=>{const[,E,oe,be]=j.split(" ").map(Number),pe=mn,ze=Math.max(oe,be)/pe,Ge=[10,20,50,100,200,500,1e3].find(T=>ze/T<=15)??1e3,Oe=Ge<=10?1:Ge<=50?5:Ge<=100?10:Ge<=500?50:100,ut=Ge<=10?5:Ge/2,Ie=Math.floor(E/pe/Oe)*Oe-Oe,et=Math.ceil((E+be)/pe/Oe)*Oe+Oe,Pe=[];for(let T=Ie;T<=et;T+=Oe){const Q=(T*pe-E)/be*100;if(Q<-2||Q>102)continue;const te=Math.abs(T),se=te%Ge===0,de=te%ut===0,_e=se?10:de?6:3;Pe.push(u.jsx("line",{x1:24-_e,y1:`${Q}%`,x2:24,y2:`${Q}%`,stroke:"#999",strokeWidth:se?.8:.4},T)),se&&Pe.push(u.jsx("text",{x:12,y:`${Q}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:T},`t${T}`))}return u.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Pe})})(),u.jsxs("svg",{ref:S,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:j,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":A,cursor:dt?"crosshair":"grab"},onDoubleClick:E=>{E.target===E.currentTarget&&(_t(oe=>!oe),c({kind:"project"}))},onPointerDown:E=>{if(Ft.current)return;if(E.button===1){rt.current=!0,S.current&&(S.current.style.cursor="grabbing"),q(E);return}if(E.button!==0)return;const oe=E.pointerType==="touch";if(oe&&E.target===E.currentTarget&&h){if(i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals"){const pe=s.flowers.find(ze=>ze.id===h);if(pe){const ze=le(E),{zone:Ue,layerId:Ge,petalIndex:Oe}=Jl(ze.x,ze.y,pe,s,i),{length:ut}=Qt(pe.fabricSquareSize??s.fabricSquareSize),Ie=li(Ue,i.kind,{hitLayerId:Ge,flower:pe,length:ut});if(Ie!=="none"&&Ie!=="center"){$e({x:ze.x,y:ze.y,zone:Ie});const et=i.kind==="layer"?"layer":"flower",Pe=i.kind==="layer"?i.layerId:Ge;switch(Ie){case"rotate":Re(et,h,E,{layerId:Pe});return;case"scale":we(et,h,E,{layerId:Pe});return;case"width":w(et,h,E,{layerId:Pe,petalIndex:Oe});return;case"radius":C(et,h,E,{layerId:Pe});return;case"move":me(h,E);return}}}}Xt.current={x:E.clientX,y:E.clientY},q(E);return}if(E.target===E.currentTarget&&h&&Be.current&&(i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals")){const pe=s.flowers.find(ze=>ze.id===h);if(pe){const ze=le(E),{zone:Ue,layerId:Ge,petalIndex:Oe}=Jl(ze.x,ze.y,pe,s,i),{length:ut}=Qt(pe.fabricSquareSize??s.fabricSquareSize),Ie=li(Ue,i.kind,{hitLayerId:Ge,flower:pe,length:ut});if(Ie!=="none"){const et=i.kind==="layer"?"layer":"flower",Pe=i.kind==="layer"?i.layerId:Ge;switch(Ie){case"rotate":Re(et,h,E,{layerId:Pe});return;case"scale":we(et,h,E,{layerId:Pe});return;case"width":w(et,h,E,{layerId:Pe,petalIndex:Oe});return;case"radius":C(et,h,E,{layerId:Pe});return;case"move":me(h,E);return}}}}if(E.target===E.currentTarget){oe?(Xt.current={x:E.clientX,y:E.clientY},q(E)):dt?L(E):(bn.current={x:E.clientX,y:E.clientY},rt.current=!0,S.current&&(S.current.style.cursor="grabbing"),q(E));return}},onPointerMove:E=>{if(X.current)return;if(ie.current){P(E);return}if(U.current){Z(E);return}if(Te.current){Ve(E);return}if(fe.current){Me(E);return}if(K.current){xe(E);return}qe(E),B(E);const oe=!!o.dragRef?.current||!!ie.current||!!U.current||!!Te.current||!!fe.current||!!K.current||rt.current,be=h&&(i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals");if(!oe&&be){const pe=s.flowers.find(ze=>ze.id===h);if(pe){const ze=le(E);if(Se.current&&!Be.current){if(Math.hypot(ze.x-Se.current.x,ze.y-Se.current.y)<ft){const{zone:Pe}=Jl(ze.x,ze.y,pe,s,i);Pe==="center"&&(ce("pointer"),S.current&&(S.current.style.cursor="pointer"));return}Be.current=!0,Se.current=null}const{zone:Ue,layerId:Ge}=Jl(ze.x,ze.y,pe,s,i),{length:Oe}=Qt(pe.fabricSquareSize??s.fabricSquareSize),ut=li(Ue,i.kind,{hitLayerId:Ge,flower:pe,length:Oe}),Ie=dd(ut,"/tsumami/");ce(Ie),S.current&&(S.current.style.cursor=Ie)}}},onPointerUp:E=>{if(!X.current){if($e(null),ie.current&&dt&&_t(!1),ae(),ee(),We(),z(),he(),He(),O(),rt.current&&(rt.current=!1,S.current&&(S.current.style.cursor=dt?"crosshair":"grab")),Xt.current&&E.pointerType==="touch"){const oe=E.clientX-Xt.current.x,be=E.clientY-Xt.current.y;Math.hypot(oe,be)<TOUCH_TAP_THRESHOLD&&c({kind:"project"}),Xt.current=null;return}if(Xt.current=null,bn.current&&E.pointerType==="mouse"){const oe=E.clientX-bn.current.x,be=E.clientY-bn.current.y;if(bn.current=null,Math.hypot(oe,be)<Jn){c({kind:"project"});return}}if(bn.current=null,h){const oe=s.flowers.find(be=>be.id===h);if(oe){const be=le(E);if(Se.current&&Math.hypot(be.x-Se.current.x,be.y-Se.current.y)<ft){const{zone:Ie}=Jl(be.x,be.y,oe,s,i);Ie==="center"&&(ce("pointer"),S.current&&(S.current.style.cursor="pointer"));return}const{zone:pe,layerId:ze}=Jl(be.x,be.y,oe,s,i),{length:Ue}=Qt(oe.fabricSquareSize??s.fabricSquareSize),Ge=li(pe,i.kind,{hitLayerId:ze,flower:oe,length:Ue}),Oe=dd(Ge,"/tsumami/");ce(Oe),S.current&&(S.current.style.cursor=Oe)}}}},onPointerLeave:()=>{ae(),ee(),We(),z(),he(),He(),O(),rt.current=!1,ce("move"),Se.current=null,Be.current=!0},children:[u.jsx("title",{children:""}),u.jsx("defs",{children:u.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[E,oe,be,pe]=j.split(" ").map(Number),ze=ba;return u.jsxs("g",{pointerEvents:"none",children:[u.jsx("defs",{children:u.jsxs("mask",{id:"canvas-mask",children:[u.jsx("rect",{x:E,y:oe,width:be,height:pe,fill:"white"}),u.jsx("rect",{x:0,y:0,width:ze,height:ze,fill:"black"})]})}),u.jsx("rect",{x:E,y:oe,width:be,height:pe,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),u.jsx("rect",{x:0,y:0,width:ba,height:ba,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),u.jsx("line",{x1:0,y1:0,x2:ba,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),u.jsx("line",{x1:0,y1:0,x2:0,y2:ba,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),b&&(()=>{const E=mn,[oe,be,pe,ze]=j.split(" ").map(Number),Ue=Math.max(pe,ze)/E,Oe=[10,20,50,100,200,500,1e3].find(de=>Ue/de<=15)??1e3,ut=Math.floor(oe/E/Oe)*Oe-Oe,Ie=Math.ceil((oe+pe)/E/Oe)*Oe+Oe,et=Math.floor(be/E/Oe)*Oe-Oe,Pe=Math.ceil((be+ze)/E/Oe)*Oe+Oe,T=et*E,Y=Pe*E,Q=ut*E,te=Ie*E,se=[];for(let de=ut;de<=Ie;de+=Oe){const _e=de*E;se.push(u.jsx("line",{x1:_e,y1:T,x2:_e,y2:Y,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${de}`))}for(let de=et;de<=Pe;de+=Oe){const _e=de*E;se.push(u.jsx("line",{x1:Q,y1:_e,x2:te,y2:_e,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${de}`))}return u.jsx("g",{children:se})})(),o.stencils.map(E=>{const oe=qh(E.variant,E.pose),be=o.selectedStencilId===E.id,pe=mn,ze=oe.imageUrl?1:oe.scaleX,Ue=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals",Ge=Ue||!!E.locked;return u.jsx("g",{transform:`translate(${E.position.x} ${E.position.y}) scale(${pe*ze} ${pe})`,style:{cursor:Ue?"default":E.locked?"pointer":"move",pointerEvents:Ue?"none":"auto"},"data-testid":`stencil-${E.id}`,onPointerDown:Oe=>{if(Oe.button!==0)return;if(Ge){o.onSelectStencil(E.id);return}if(Oe.stopPropagation(),o.onSelectStencil(E.id),!S.current)return;X.current=!0;const Ie=ke.current(Oe),et={...E.position},Pe=E.id;let T=et.x,Y=et.y;const Q=se=>{const de=ke.current(se),_e=de.x-Ie.x,Ce=de.y-Ie.y;T=Fe(et.x+_e,0,ba),Y=Fe(et.y+Ce,0,ba),Ae.current(Ne=>{const Ze=(Ne.stencils??[]).find(Xe=>Xe.id===Pe);Ze&&(Ze.position.x=T,Ze.position.y=Y)},!1)},te=()=>{X.current=!1,document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",te),Ae.current(se=>{const de=(se.stencils??[]).find(_e=>_e.id===Pe);de&&(de.position.x=T,de.position.y=Y)},!0)};document.addEventListener("pointermove",Q),document.addEventListener("pointerup",te)},children:oe.imageUrl?u.jsxs(u.Fragment,{children:[u.jsx("image",{href:oe.imageUrl,x:-oe.imageWidthMm/2,y:0,width:oe.imageWidthMm,height:oe.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),u.jsx("rect",{x:-oe.imageWidthMm/2,y:0,width:oe.imageWidthMm,height:oe.imageHeightMm,fill:"transparent",stroke:be?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):u.jsxs(u.Fragment,{children:[u.jsx("path",{d:oe.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),u.jsx("path",{d:oe.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),be&&u.jsx("path",{d:oe.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},E.id)}),s.flowers.map(E=>u.jsx(kh,{flower:E,project:s,paletteMap:f,isSelected:i.kind!=="project"&&h===E.id||i.kind==="flowers"&&i.flowerIds.includes(E.id),isFlowerSelected:i.kind==="flower"&&i.flowerId===E.id||i.kind==="flowers"&&i.flowerIds.includes(E.id),selectedLayerId:i.kind==="layer"?i.layerId:null,selectedPetal:i.kind==="petal"?{layerId:i.layerId,index:i.index}:null,selectedPetals:i.kind==="petals"&&i.flowerId===E.id?i.petals:null,onSelect:()=>{const oe=va(s,E.id);if(oe&&!(i.kind==="group"&&i.groupId===oe.id||(i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals")&&oe.flowerIds.includes(i.flowerId))){c({kind:"group",groupId:oe.id});return}c({kind:"flower",flowerId:E.id})},onSelectLayer:oe=>c({kind:"layer",flowerId:E.id,layerId:oe}),onSelectPetal:(oe,be)=>c({kind:"petal",flowerId:E.id,layerId:oe,index:be}),onTogglePetalSelection:(oe,be,pe)=>V(E.id,oe,be,pe),onShiftSelect:()=>o.handleShiftFlowerSelect(E.id),isGroupHighlighted:o.groupHighlightedFlowerIds.has(E.id),zoneCursorValue:Ee,onBeginDragFromLayerPetal:(oe,be,pe)=>{if(Ft.current)return;const ze=va(s,E.id);if(ze&&!(i.kind==="group"&&i.groupId===ze.id||(i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals")&&ze.flowerIds.includes(i.flowerId))){c({kind:"group",groupId:ze.id}),me(E.id,pe);return}const Ue=le(pe),Ge=pe.pointerType==="touch",Oe=i.kind==="flower"&&i.flowerId===E.id||i.kind==="layer"&&i.flowerId===E.id||i.kind==="petal"&&i.flowerId===E.id||i.kind==="petals"&&i.flowerId===E.id;if(Ge&&Oe){const{zone:Ie,layerId:et,petalIndex:Pe}=Jl(Ue.x,Ue.y,E,s,i),{length:T}=Qt(E.fabricSquareSize??s.fabricSquareSize),Y=li(Ie,i.kind,{hitLayerId:et,flower:E,length:T});if(Y!=="none"&&Y!=="center"&&Y!=="move"){$e({x:Ue.x,y:Ue.y,zone:Y});const Q=i.kind==="layer"?"layer":"flower",te=i.kind==="layer"?i.layerId:oe;switch(Y){case"rotate":Re(Q,E.id,pe,{layerId:te});return;case"scale":we(Q,E.id,pe,{layerId:te});return;case"width":w(Q,E.id,pe,{layerId:te,petalIndex:Pe});return;case"radius":C(Q,E.id,pe,{layerId:te});return}}me(E.id,pe,{layerId:oe,index:be});return}const ut=Be.current;if(Se.current={x:Ue.x,y:Ue.y},Be.current=!1,Oe&&ut){const{zone:Ie,layerId:et,petalIndex:Pe}=Jl(Ue.x,Ue.y,E,s,i),{length:T}=Qt(E.fabricSquareSize??s.fabricSquareSize),Y=li(Ie,i.kind,{hitLayerId:et,flower:E,length:T}),Q=i.kind==="layer"?"layer":"flower",te=i.kind==="layer"?i.layerId:oe;switch(Y){case"rotate":Re(Q,E.id,pe,{layerId:te});return;case"scale":we(Q,E.id,pe,{layerId:te});return;case"width":w(Q,E.id,pe,{layerId:te,petalIndex:Pe});return;case"radius":C(Q,E.id,pe,{layerId:te});return;default:ce("grabbing"),S.current&&(S.current.style.cursor="grabbing"),me(E.id,pe,{layerId:oe,index:be});return}}ce("grabbing"),S.current&&(S.current.style.cursor="grabbing"),me(E.id,pe,{layerId:oe,index:be})},onDoubleClick:()=>c({kind:"flower",flowerId:E.id}),onPointerDown:oe=>{if(Ft.current||oe.button!==0)return;if(oe.shiftKey){oe.stopPropagation(),o.handleShiftFlowerSelect(E.id);return}const be=va(s,E.id);if(be&&!(i.kind==="group"&&i.groupId===be.id||(i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals")&&be.flowerIds.includes(i.flowerId))){c({kind:"group",groupId:be.id}),me(E.id,oe);return}i.kind==="flower"&&i.flowerId===E.id||i.kind==="layer"&&i.flowerId===E.id||i.kind==="flowers"&&i.flowerIds.includes(E.id)||c({kind:"flower",flowerId:E.id});const ze=le(oe);Se.current={x:ze.x,y:ze.y},Be.current=!1,ce("grabbing"),S.current&&(S.current.style.cursor="grabbing"),me(E.id,oe)},dashSyncToken:J},E.id)),ue&&u.jsx("rect",{x:ue.x,y:ue.y,width:ue.w,height:ue.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}),jt&&(()=>{const oe={rotate:"",scale:"",width:"",radius:"",move:""}[jt.zone]??"";return oe?u.jsxs("g",{transform:`translate(${jt.x} ${jt.y-12})`,pointerEvents:"none",children:[u.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),u.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:oe})]}):null})()]})]}),u.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function md(o,s,i){return Math.min(i,Math.max(s,o))}function St({value:o,onChange:s,min:i=-1/0,max:c=1/0,step:f,className:h,...y}){const[M,v]=W.useState(null),d=W.useRef(null),g=W.useCallback(m=>{const S=Number(m);isNaN(S)||s(md(S,i,c)),v(null)},[s,i,c]),b=W.useCallback(()=>{v(null)},[]),p=W.useCallback(m=>{const S=f??1,A=(Number(M??o)||0)+S*m,J=md(A,i,c),q=String(S).includes(".")?String(S).split(".")[1].length:0,B=Number(J.toFixed(q));v(String(B)),s(B)},[M,o,f,i,c,s]);return u.jsxs("div",{className:"relative flex",children:[u.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:h??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:M??String(o),onChange:m=>v(m.target.value),onFocus:m=>{v(String(o)),requestAnimationFrame(()=>m.target.select())},onBlur:()=>{M!==null&&g(M)},onKeyDown:m=>{m.key==="Enter"?(m.preventDefault(),M!==null&&g(M),d.current?.blur()):m.key==="Escape"?(m.preventDefault(),b(),d.current?.blur()):(m.key==="ArrowUp"||m.key==="ArrowDown")&&(m.preventDefault(),p(m.key==="ArrowUp"?1:-1))},...y}),u.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[u.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:m=>{m.preventDefault(),p(1)},children:""}),u.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:m=>{m.preventDefault(),p(-1)},children:""})]})]})}function r0({title:o,compact:s,children:i}){return u.jsxs("div",{className:s?"mt-3":"mt-4",children:[u.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:o}),u.jsx("div",{className:"space-y-3",children:i})]})}function Yh({flower:o,fabricSquareSize:s,applyUpdate:i}){const f=W.useMemo(()=>{const j=[...o.layers||[]].sort((ie,ue)=>ie.order-ue.order);if(j.length<2)return{mode:"uniform",step:2};const A=j.map(ie=>ie.scale??1);if(A.every(ie=>Math.abs(ie-A[0])<.001))return{mode:"uniform",step:2};const q=j[0],B=j[j.length-1],O=(B.order??1)-(q.order??1);if(O<=0)return{mode:"gradual",step:2};const P=((q.scale??1)-(B.scale??1))/O,ae=Math.round(P*s*2)/2;return{mode:"gradual",step:Fe(ae,0,10)}},[o.id]),[h,y]=W.useState(f.mode),[M,v]=W.useState(f.step),[d,g]=W.useState(0);W.useEffect(()=>{y(f.mode),v(f.step),g(0)},[f]);const b=W.useMemo(()=>[...o.layers||[]].sort((j,A)=>j.order-A.order),[o.layers]),p=b[0],m=p?p.order:0,S=W.useMemo(()=>{if(!p)return[];const j=p.scale??1,A=p.radius,J=new Map;for(const ie of b){const ue=ie.order-m;if(ue===0)J.set(ie.id,j);else if(h==="uniform")J.set(ie.id,j);else{const me=M/s;J.set(ie.id,Fe(j-ue*me,.3,3))}}const{length:q}=Qt(s),B=b.length,O=70*Math.PI/180,L=new Map;let P=A;L.set(p.id,A);for(let ie=1;ie<B;ie++){const ue=b[ie],me=B-1-ie,qe=B>1?me/(B-1)*O:0,He=Math.cos(qe),Te=b[ie-1],Ve=J.get(Te.id)??1,U=q*Ve*(30/100)*He;P=P-U,L.set(ue.id,Math.max(2,P))}const ae=b.map(ie=>{const ue=J.get(ie.id)??1,me=Math.round((L.get(ie.id)??A)*10)/10,qe=Math.round(s*ue*10)/10;return{id:ie.id,name:ie.name,order:ie.order,effScale:ue,effFabricSize:qe,effRadius:me}});if(ae.length>0){const ie=ae[ae.length-1],ue=q*ie.effScale,me=Math.floor(ue*.28*10)/10;ie.effRadius>me&&(ie.effRadius=me)}return ae},[b,p,m,h,M,30,s]);return W.useEffect(()=>{d!==0&&(!p||S.length===0||i(j=>{const A=j.flowers.find(q=>q.id===o.id);if(!A)return;for(const q of S){const B=A.layers.find(O=>O.id===q.id);B&&(B.scale=Fe(q.effScale,.3,3),B.radius=Fe(q.effRadius,2,120))}const J=[...A.layers].sort((q,B)=>B.order-q.order);for(let q=1;q<J.length;q++){const B=J[q-1],O=J[q];O.offsetAngle=tl(B.petalCount,B.offsetAngle,O.petalCount)}}))},[d]),b.length<2?null:u.jsxs(r0,{title:"",children:[u.jsxs(l0,{children:[u.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),u.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,onChange:j=>{y(j.target.value),g(A=>A+1)},children:[u.jsx("option",{value:"uniform",children:""}),u.jsx("option",{value:"gradual",children:""})]})]}),h==="gradual"&&u.jsxs(l0,{children:[u.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),u.jsx(St,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:M,min:0,max:10,step:.5,onChange:j=>{v(j),g(A=>A+1)}}),u.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),u.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[u.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),S.map(j=>u.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[u.jsx("span",{children:j.name}),u.jsxs("span",{children:[" ",j.effFabricSize,"mm /  ",Math.round(nr(j.effRadius,j.effScale,s)),"mm"]})]},j.id))]})]})}const Md="tsumami_recent_colors_v1",d0=10;function Hh(o){const s=new Set;for(const i of o.flowers){for(const c of i.layers)if(s.add(c.colorId),c.petalOverrides)for(const f of c.petalOverrides)f.colorId&&s.add(f.colorId);i.center&&(s.add(i.center.color),i.center.color2&&s.add(i.center.color2))}return s}function u0(){try{const o=localStorage.getItem(Md);if(o){const s=JSON.parse(o);if(Array.isArray(s))return s.slice(0,d0)}}catch{}return[]}function Uh(o){try{localStorage.setItem(Md,JSON.stringify(o.slice(0,d0)))}catch{}}function Zh(o){const s=u0(),i=[o,...s.filter(c=>c!==o)].slice(0,d0);Uh(i)}function Vl({palette:o,project:s,selectedColorId:i,onChange:c,size:f="md"}){const[h,y]=W.useState(!1),M=W.useRef(null),[v,d]=W.useState(u0);W.useEffect(()=>{if(!h)return;const j=A=>{M.current&&!M.current.contains(A.target)&&y(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[h]);const g=W.useMemo(()=>Hh(s),[s]),b=W.useMemo(()=>{const j=new Set;j.add(i);for(const A of g)j.add(A);for(const A of v)j.add(A);return o.filter(A=>j.has(A.id))},[o,i,g,v]),p=W.useCallback(j=>{Zh(j),d(u0()),c(j)},[c]),m=f==="sm"?"h-4 w-4":"h-5 w-5",S=h?o:b;return u.jsx("div",{ref:M,children:u.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[S.map(j=>u.jsx("button",{className:`${m} rounded border-2 ${i===j.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:j.hex},title:j.name,"aria-label":`: ${j.name}`,onClick:()=>p(j.id)},j.id)),o.length>b.length&&u.jsx("button",{className:`${m} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>y(j=>!j),title:h?"":"","aria-label":h?"":"",children:u.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:h?u.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):u.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Xh(o){const{project:s,selection:i,applyUpdate:c,selectedFlower:f,selectedFlowers:h,selectedLayer:y,selectedPetalIndex:M,selectedPetals:v}=o;return u.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 py-1 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[u.jsx("div",{className:"text-xs font-semibold",children:""}),i.kind==="project"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),u.jsxs("div",{className:"mt-1 space-y-1.5",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:s.title,onChange:d=>c(g=>g.title=d.target.value),"data-testid":"prop-project-title"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),u.jsx(St,{value:s.fabricSquareSize,min:5,max:60,onChange:d=>c(g=>g.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),u.jsx(St,{value:s.baseDiameter,min:10,max:100,onChange:d=>c(g=>g.baseDiameter=d),"data-testid":"prop-base-diameter"}),u.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Wl(s.baseDiameter,s.fabricSquareSize).diameter,"mm / : ",Wl(s.baseDiameter,s.fabricSquareSize).layerCount,""]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:s.notes,onChange:d=>c(g=>g.notes=d.target.value)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),u.jsx("div",{className:"flex flex-wrap gap-1",children:s.palette.map(d=>u.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),i.kind==="flower"&&f&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),u.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:f.name,onChange:d=>c(g=>{const b=g.flowers.find(p=>p.id===f.id);b&&(b.name=d.target.value)}),"data-testid":"prop-flower-name"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx("div",{className:"flex gap-1",children:ga.map(d=>{const g=f.layers.every(b=>b.petalType===d);return u.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>c(b=>{const p=b.flowers.find(m=>m.id===f.id);if(p)for(const m of p.layers)m.petalType=d}),children:d},d)})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx("div",{className:"flex gap-1",children:pd.map(d=>{const g=f.placementMode??"";return u.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${g===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{g!==d&&c(b=>{const p=b.flowers.find(S=>S.id===f.id);if(!p)return;p.placementMode=d;const m=p.fabricSquareSize??b.fabricSquareSize;d===""?p.baseDiameter=tr(p.flowerDiameter):p.baseDiameter||(p.baseDiameter=b.baseDiameter),F1(p.layers,m,d,p.flowerDiameter)},!0)},children:d},d)})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(f.placementMode??"")===""?u.jsx(St,{value:f.baseDiameter??s.baseDiameter,min:10,max:200,onChange:d=>c(g=>{const b=g.flowers.find(p=>p.id===f.id);b&&(b.baseDiameter=d)})}):u.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[tr(f.flowerDiameter),"mm"]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx(St,{value:f.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:d=>{c(g=>{const b=g.flowers.find(S=>S.id===f.id);if(!b)return;const p=ui(d);for(const S of b.layers)S.petalCount=d,S.widthScale=p;const m=[...b.layers].sort((S,j)=>j.order-S.order);for(let S=1;S<m.length;S++)m[S].offsetAngle=tl(m[S-1].petalCount,m[S-1].offsetAngle,m[S].petalCount)})}})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),u.jsx(St,{value:Math.round(f.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;b.flowerDiameter=d,b.placementMode===""&&(b.baseDiameter=tr(d));const p=[...b.layers].sort((m,S)=>m.order-S.order);ju(p,b.fabricSquareSize??g.fabricSquareSize,d);for(const m of p){const S=b.layers.find(j=>j.id===m.id);S&&(S.radius=m.radius,S.scale=m.scale)}})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx(St,{min:.5,max:1.8,step:.05,value:Number(f.layers[0]?.widthScale??1).toFixed(2),onChange:d=>c(g=>{const b=g.flowers.find(p=>p.id===f.id);if(b)for(const p of b.layers)p.widthScale=d})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx(St,{value:Number(f.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:d=>c(g=>{const b=g.flowers.find(p=>p.id===f.id);b&&(b.rotation=d)})})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),u.jsx(Vl,{palette:s.palette,project:s,selectedColorId:f.layers.every(d=>d.colorId===f.layers[0]?.colorId)?f.layers[0]?.colorId??"":"",onChange:d=>c(g=>{const b=g.flowers.find(p=>p.id===f.id);if(b)for(const p of b.layers)p.colorId=d})})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"rounded",checked:f.layers.every(d=>!!d.doublePetal),onChange:d=>c(g=>{const b=g.flowers.find(p=>p.id===f.id);if(b)for(const p of b.layers)if(d.target.checked){if(!p.doublePetal){const m=p._doublePetalCache;p.doublePetal=m??{innerSizeReduction:2},delete p._doublePetalCache}}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal},!0)}),u.jsx("span",{className:"text-xs",children:""})]})}),f.layers.every(d=>!!d.doublePetal)&&(()=>{const d=[...new Set(f.layers.map(m=>m.doublePetal.innerSizeReduction))],g=d.length===1?d[0]:null,b=[...new Set(f.layers.map(m=>m.doublePetal.innerColorId??m.colorId))],p=b.length===1?b[0]:null;return u.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[u.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),u.jsx(St,{min:1,max:30,step:1,value:g??"",placeholder:"",onChange:m=>c(S=>{const j=S.flowers.find(A=>A.id===f.id);if(j)for(const A of j.layers)A.doublePetal&&(A.doublePetal.innerSizeReduction=Fe(m,1,30))})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),u.jsx(Vl,{palette:s.palette,project:s,selectedColorId:p??"",onChange:m=>c(S=>{const j=S.flowers.find(A=>A.id===f.id);if(j)for(const A of j.layers)A.doublePetal&&(m===A.colorId?delete A.doublePetal.innerColorId:A.doublePetal.innerColorId=m)})})]})]})})(),u.jsxs("div",{className:"text-[11px] text-neutral-400",children:[f.layers.length," "]})]}),u.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[u.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),f.center?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx("div",{className:"grid grid-cols-2 gap-1",children:rh.map(d=>u.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${f.center.type===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>c(g=>{const b=g.flowers.find(p=>p.id===f.id);b?.center&&(b.center.type=d,d===""&&!b.center.pepCount&&(b.center.pepCount=12),d===""&&!b.center.color2&&(b.center.color2=s.palette[1]?.id??s.palette[0]?.id))}),children:d},d))})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),u.jsx(St,{min:1,max:30,step:.5,value:f.center.size,onChange:d=>c(g=>{const b=g.flowers.find(p=>p.id===f.id);b?.center&&(b.center.size=d)})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx(Vl,{palette:s.palette,project:s,selectedColorId:f.center.color,size:"sm",onChange:d=>c(g=>{const b=g.flowers.find(p=>p.id===f.id);b?.center&&(b.center.color=d)})})]}),f.center.type===""&&u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx(Vl,{palette:s.palette,project:s,selectedColorId:f.center.color2??"",size:"sm",onChange:d=>c(g=>{const b=g.flowers.find(p=>p.id===f.id);b?.center&&(b.center.color2=d)})})]}),f.center.type===""&&u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx(St,{min:4,max:30,value:f.center.pepCount??12,onChange:d=>c(g=>{const b=g.flowers.find(p=>p.id===f.id);b?.center&&(b.center.pepCount=d)})})]}),u.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>c(d=>{const g=d.flowers.find(b=>b.id===f.id);g&&delete g.center}),children:""})]}):u.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>c(d=>{const g=d.flowers.find(b=>b.id===f.id);g&&(g.center={type:"",size:6,color:s.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),(f.placementMode??"")===""&&u.jsx(Yh,{flower:f,fabricSquareSize:f.fabricSquareSize??s.fabricSquareSize,applyUpdate:c})]}),i.kind==="flowers"&&h.length>0&&(()=>{const d=h,g=[...new Set(d.flatMap(m=>m.layers.map(S=>S.petalType)))],b=g.length===1?g[0]:null,p=m=>{c(S=>{for(const j of d){const A=S.flowers.find(J=>J.id===j.id);A&&m(A)}},!0)};return u.jsxs(r0,{title:" ",children:[u.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[d.length,""]}),u.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),u.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.palette.map(m=>u.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:m.hex},title:m.name,onClick:()=>p(S=>{for(const j of S.layers)j.colorId=m.id})},m.id))}),u.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),u.jsx("div",{className:"flex gap-2",children:ga.map(m=>u.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${b===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(S=>{for(const j of S.layers)j.petalType=m}),children:m},m))}),u.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),u.jsx(St,{min:5,max:24,value:d[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:m=>{const S=ui(m);p(j=>{for(const J of j.layers)J.petalCount=m,J.widthScale=S;const A=[...j.layers].sort((J,q)=>q.order-J.order);for(let J=1;J<A.length;J++)A[J].offsetAngle=tl(A[J-1].petalCount,A[J-1].offsetAngle,A[J].petalCount)})}}),u.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:d.map(m=>u.jsxs("div",{children:[m.name," (",m.layers.length,")"]},m.id))}),(()=>{const m=d.map(q=>va(s,q.id)),S=d.filter(q=>!va(s,q.id)).map(q=>q.id),j=[...new Set(m.filter(Boolean).map(q=>q.id))],A=S.length===d.length,J=j.length===1&&m.every(q=>q!=null);return u.jsxs(u.Fragment,{children:[A&&d.length>=2&&u.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>o.onGroupFlowers(d.map(q=>q.id)),children:""}),J&&u.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o.onUngroupFlowers(j[0]),children:""}),j.length===1&&S.length>0&&u.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o.onAddToGroup(j[0],S),children:[" (+",S.length,")"]}),j.length>=2&&u.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o.onMergeGroups(j,S),children:[" (",j.length,"",S.length>0?` +${S.length}`:"",")"]})]})})()]})})(),i.kind==="group"&&h.length>0&&(()=>{const d=o.groups.find(S=>S.id===i.groupId);if(!d)return null;const g=h,b=[...new Set(g.flatMap(S=>S.layers.map(j=>j.petalType)))],p=b.length===1?b[0]:null,m=S=>{c(j=>{for(const A of g){const J=j.flowers.find(q=>q.id===A.id);J&&S(J)}},!0)};return u.jsxs(r0,{title:"",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:d.name,onChange:S=>c(j=>{const A=(j.groups??[]).find(J=>J.id===d.id);A&&(A.name=S.target.value)})})]}),u.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[g.length,""]}),u.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),u.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.palette.map(S=>u.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:S.hex},title:S.name,onClick:()=>m(j=>{for(const A of j.layers)A.colorId=S.id})},S.id))}),u.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),u.jsx("div",{className:"flex gap-2",children:ga.map(S=>u.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>m(j=>{for(const A of j.layers)A.petalType=S}),children:S},S))}),u.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),u.jsx(St,{min:5,max:24,value:g[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:S=>{const j=ui(S);m(A=>{for(const q of A.layers)q.petalCount=S,q.widthScale=j;const J=[...A.layers].sort((q,B)=>B.order-q.order);for(let q=1;q<J.length;q++)J[q].offsetAngle=tl(J[q-1].petalCount,J[q-1].offsetAngle,J[q].petalCount)})}}),u.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:g.map(S=>u.jsxs("div",{children:[S.name," (",S.layers.length,")"]},S.id))}),u.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o.onUngroupFlowers(d.id),children:""})]})})(),i.kind==="layer"&&f&&y&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),u.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",u.jsxs("span",{className:"text-neutral-300",children:["#",y.order]})]}),u.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:y.name,"data-testid":"prop-layer-name",onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);p&&(p.name=d.target.value)})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx("div",{className:"flex gap-1",children:ga.map(d=>u.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);p&&(p.petalType=d)}),children:d},d))})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx(St,{min:5,max:24,value:y.petalCount,onChange:d=>{c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);if(p){p.petalCount=d,p.widthScale=ui(d);const m=[...b.layers].sort((S,j)=>j.order-S.order);for(let S=1;S<m.length;S++)m[S].offsetAngle=tl(m[S-1].petalCount,m[S-1].offsetAngle,m[S].petalCount)}})}})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),u.jsx(St,{min:1,max:200,step:.5,value:Math.round(nr(y.radius,y.scale??1,f.fabricSquareSize??s.fabricSquareSize)),onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);p&&(p.radius=Fe(Q1(d,p.scale??1,b.fabricSquareSize??g.fabricSquareSize),2,200))})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),u.jsx(St,{min:3,max:80,step:.5,value:Math.round((f.fabricSquareSize??s.fabricSquareSize)*(y.scale??1)*10)/10,onChange:d=>c(g=>{const b=g.flowers.find(A=>A.id===f.id);if(!b)return;const p=b.layers.find(A=>A.id===y.id);if(!p)return;const m=b.fabricSquareSize??g.fabricSquareSize;p.scale=Fe(Math.round(d/m*100)/100,.3,3);const S=[...b.layers].sort((A,J)=>A.order-J.order),j=S.findIndex(A=>A.id===p.id);if(j>=0)for(let A=j-1;A>=0;A--){const J=S[A],q=S[A+1],O=Qt(m).length*(q.scale??1)/3;J.radius=Math.round((q.radius+O)*10)/10}})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx(St,{min:.4,max:2.5,step:.05,value:Number(y.scale??1).toFixed(2),onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);p&&(p.scale=d)})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx(St,{min:.5,max:1.8,step:.05,value:Number(y.widthScale??1).toFixed(2),onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);p&&(p.widthScale=d)})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),u.jsx(St,{value:Number(y.offsetAngle??0).toFixed(1),onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);p&&(p.offsetAngle=d)})})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),u.jsx(Vl,{palette:s.palette,project:s,selectedColorId:y.colorId,onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);p&&(p.colorId=d)})})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.doublePetal,onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);if(p)if(d.target.checked){const m=p._doublePetalCache;p.doublePetal=m??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal},!0)}),u.jsx("span",{className:"text-xs",children:""})]})}),y.doublePetal&&u.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[u.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),u.jsx(St,{min:1,max:30,step:1,value:y.doublePetal.innerSizeReduction,onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);p?.doublePetal&&(p.doublePetal.innerSizeReduction=Fe(d,1,30))})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),u.jsx(Vl,{palette:s.palette,project:s,selectedColorId:y.doublePetal.innerColorId??y.colorId,onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);p?.doublePetal&&(d===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=d)})})]})]}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.visible,onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);p&&(p.visible=d.target.checked)})}),""]}),u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.locked,onChange:d=>c(g=>{const b=g.flowers.find(m=>m.id===f.id);if(!b)return;const p=b.layers.find(m=>m.id===y.id);p&&(p.locked=d.target.checked)})}),""]})]})]})]}),i.kind==="petals"&&f&&v.length>0&&(()=>{const d=v,g=d.map(L=>{const P=f.layers.find(ae=>ae.id===L.layerId);return{...L,layer:P}}).filter(L=>L.layer!=null),b=(L,P)=>{const ae=f.layers.find(ue=>ue.id===L);return ae?(ae?.petalOverrides?.find(ue=>ue.index===P)??null)?.colorId??ae.colorId:null},p=(L,P)=>{const ae=f.layers.find(ue=>ue.id===L);return ae?(ae?.petalOverrides?.find(ue=>ue.index===P)??null)?.petalType??ae.petalType:null},m=g.map(L=>b(L.layerId,L.index)),S=g.map(L=>p(L.layerId,L.index)),j=m.length>0&&m.every(L=>L===m[0]),J=S.length>0&&S.every(L=>L===S[0])?S[0]:null,q=L=>{c(P=>{const ae=P.flowers.find(ie=>ie.id===f.id);if(ae)for(const ie of d){const ue=ae.layers.find(qe=>qe.id===ie.layerId);if(!ue)continue;ue.petalOverrides||(ue.petalOverrides=[]);const me=ue.petalOverrides.find(qe=>qe.index===ie.index);if(me)L.colorId!==void 0&&(L.colorId===ue.colorId?delete me.colorId:me.colorId=L.colorId),L.petalType!==void 0&&(L.petalType===ue.petalType?delete me.petalType:me.petalType=L.petalType),!me.colorId&&!me.petalType&&(ue.petalOverrides=ue.petalOverrides.filter(qe=>qe.index!==ie.index),ue.petalOverrides.length===0&&(ue.petalOverrides=void 0));else{const qe={index:ie.index};L.colorId!==void 0&&L.colorId!==ue.colorId&&(qe.colorId=L.colorId),L.petalType!==void 0&&L.petalType!==ue.petalType&&(qe.petalType=L.petalType),(qe.colorId!==void 0||qe.petalType!==void 0)&&ue.petalOverrides.push(qe)}}},!0)},B=()=>{c(L=>{const P=L.flowers.find(ae=>ae.id===f.id);if(P)for(const ae of d){const ie=P.layers.find(ue=>ue.id===ae.layerId);!ie||!ie.petalOverrides||(ie.petalOverrides=ie.petalOverrides.filter(ue=>ue.index!==ae.index),ie.petalOverrides.length===0&&(ie.petalOverrides=void 0))}},!0)},O=g.some(L=>L.layer?.petalOverrides?.find(P=>P.index===L.index)!=null);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",d.length,")"]}),u.jsxs("div",{className:"mt-1 space-y-1.5",children:[u.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[d.length,"",O&&" ()"]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),u.jsx("div",{className:"flex flex-wrap gap-1",children:s.palette.map(L=>u.jsx("button",{className:`h-5 w-5 rounded border-2 ${j&&m[0]===L.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:L.hex},title:L.name,"aria-label":`: ${L.name}`,onClick:()=>q({colorId:L.id})},L.id))})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),u.jsx("div",{className:"flex gap-1",children:ga.map(L=>u.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${J===L?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>q({petalType:L}),children:L},L))})]}),O&&u.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:B,children:""})]})]})})(),i.kind==="petal"&&f&&y&&M!==null&&(()=>{const d=y?.petalOverrides?.find(j=>j.index===M)??null,g=d?.colorId??y.colorId,b=d?.petalType??y.petalType,p=d!=null,m=j=>{c(A=>{const J=A.flowers.find(O=>O.id===f.id);if(!J)return;const q=J.layers.find(O=>O.id===y.id);if(!q)return;q.petalOverrides||(q.petalOverrides=[]);const B=q.petalOverrides.find(O=>O.index===M);if(B)j.colorId!==void 0&&(B.colorId=j.colorId),j.petalType!==void 0&&(B.petalType=j.petalType),j.innerColorId!==void 0&&(B.innerColorId=j.innerColorId),B.colorId!==void 0||B.petalType!==void 0||B.innerColorId!==void 0?(B.colorId===void 0&&delete B.colorId,B.petalType===void 0&&delete B.petalType,B.innerColorId===void 0&&delete B.innerColorId):(q.petalOverrides=q.petalOverrides.filter(L=>L.index!==M),q.petalOverrides.length===0&&(q.petalOverrides=void 0));else{const O={index:M};j.colorId!==void 0&&(O.colorId=j.colorId),j.petalType!==void 0&&(O.petalType=j.petalType),j.innerColorId!==void 0&&(O.innerColorId=j.innerColorId),(O.colorId!==void 0||O.petalType!==void 0||O.innerColorId!==void 0)&&q.petalOverrides.push(O)}},!0)},S=()=>{c(j=>{const A=j.flowers.find(q=>q.id===f.id);if(!A)return;const J=A.layers.find(q=>q.id===y.id);!J||!J.petalOverrides||(J.petalOverrides=J.petalOverrides.filter(q=>q.index!==M),J.petalOverrides.length===0&&(J.petalOverrides=void 0))},!0)};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),u.jsxs("div",{className:"mt-1 space-y-1.5",children:[u.jsxs("div",{className:"text-[11px] text-neutral-500",children:[y.name," / #",M+1,p&&u.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),u.jsx(Vl,{palette:s.palette,project:s,selectedColorId:g,onChange:j=>{j===y.colorId?m({colorId:void 0}):m({colorId:j})}})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),u.jsx("div",{className:"flex gap-1",children:ga.map(j=>u.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${b===j?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{j===y.petalType?m({petalType:void 0}):m({petalType:j})},children:j},j))})]}),y.doublePetal&&(()=>{const j=y.doublePetal,A=d?.innerColorId??j.innerColorId??g;return u.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[u.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),u.jsx(Vl,{palette:s.palette,project:s,selectedColorId:A,size:"sm",onChange:J=>{const q=j.innerColorId??y.colorId;m(J===q?{innerColorId:void 0}:{innerColorId:J})}})]})]})})(),p&&u.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:S,children:""})]})]})})(),i.kind==="stencil"&&o.selectedStencil&&(()=>{const d=o.selectedStencil,g=b=>{o.applyUpdate(p=>{const m=(p.stencils??[]).find(S=>S.id===d.id);m&&Object.assign(m,b)},!0)};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),u.jsxs("div",{className:"mt-1 space-y-1.5",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),u.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:d.variant,onChange:b=>g({variant:b.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(b=>u.jsx("option",{value:b,children:wd[b]},b))})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),u.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:d.pose,onChange:b=>g({pose:b.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(b=>u.jsx("option",{value:b,children:Cd[b]},b))})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[u.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!d.locked,onChange:b=>g({locked:b.target.checked})}),u.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),u.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(d.position.x/2.7),"mm, ",Math.round(d.position.y/2.7),"mm)"]}),u.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o.onDeleteStencil(d.id),"data-testid":"btn-delete-stencil",children:""})]})]})})(),!i||i.kind!=="project"&&i.kind!=="stencil"&&!f?u.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Ih(o){const s={layerCount:o.layerCount,sizeMode:o.sizeMode,sizeStepMm:o.sizeStepMm};return o.placementMode===""?Wl(o.baseDiameter,o.fabricSquareSize,s).diameter:er(o.fabricSquareSize,o.layerCount,o.sizeMode,o.sizeStepMm)}function Kh(o){const s={layerCount:o.layerCount,sizeMode:o.sizeMode,sizeStepMm:o.sizeStepMm};return o.placementMode===""?$1(o.flowerDiameter,o.baseDiameter,s):P1(o.flowerDiameter,o.layerCount,o.sizeMode,o.sizeStepMm)}function Jh({palette:o,addFlowerOpts:s,setAddFlowerOpts:i,onConfirm:c,onCancel:f}){const h=v=>{i(d=>{const g={...d,...v};return v.placementMode&&v.placementMode!==d.placementMode&&(v.placementMode===""?(g.baseDiameter=30,g.fabricSquareSize=20,g.layerCount=4,g.petalCount=12):(g.fabricSquareSize=20,g.layerCount=1,g.petalCount=6)),g.flowerDiameter=Ih(g),g})},y=v=>{i(d=>{const g={...d,flowerDiameter:v};return g.fabricSquareSize=Kh(g),g})},M=[];if(s.placementMode===""){s.flowerDiameter<=s.baseDiameter&&M.push("");const v=eh(s.baseDiameter,s.fabricSquareSize,{sizeMode:s.sizeMode,sizeStepMm:s.sizeStepMm});s.layerCount>v&&M.push(`${v}`)}return u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:u.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:v=>v.stopPropagation(),"data-testid":"dialog-add-flower",children:[u.jsx("div",{className:"text-sm font-bold mb-4",children:""}),u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),u.jsx("div",{className:"flex gap-2",children:pd.map(v=>u.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${s.placementMode===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h({placementMode:v}),children:v},v))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),u.jsx(St,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:s.fabricSquareSize,onChange:v=>h({fabricSquareSize:v})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),u.jsx(St,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:s.layerCount,onChange:v=>h({layerCount:v})})]})]}),s.placementMode===""&&u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),u.jsx(St,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:s.baseDiameter,onChange:v=>h({baseDiameter:v})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),u.jsx(St,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:s.petalCount,onChange:v=>i(d=>({...d,petalCount:v}))})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),u.jsx(St,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:s.flowerDiameter,onChange:y})]})]}),M.length>0&&u.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:M.map((v,d)=>u.jsx("div",{className:"text-[11px] text-amber-700",children:v},d))}),u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),u.jsx("div",{className:"flex flex-wrap gap-1",children:o.map(v=>u.jsx("button",{className:`h-5 w-5 rounded border-2 ${(s.colorId||o[0]?.id)===v.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:v.hex},title:v.name,"aria-label":`: ${v.name}`,onClick:()=>i(d=>({...d,colorId:v.id}))},v.id))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),u.jsx("div",{className:"flex gap-2",children:ga.map(v=>u.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${s.petalType===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(d=>({...d,petalType:v})),children:v},v))})]}),s.layerCount>1&&u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${s.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>h({sizeMode:"uniform"}),children:""}),u.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${s.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>h({sizeMode:"gradual"}),children:""})]}),s.sizeMode==="gradual"&&u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),u.jsx(St,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:s.sizeStepMm,onChange:v=>h({sizeStepMm:v})})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),u.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:c,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}(function(o,s){const i=hn,c=o();for(;;)try{if(-parseInt(i(428))/1+-parseInt(i(425))/2*(-parseInt(i(419))/3)+parseInt(i(430))/4+parseInt(i(440))/5+parseInt(i(418))/6*(parseInt(i(443))/7)+-parseInt(i(424))/8*(parseInt(i(456))/9)+-parseInt(i(441))/10===s)break;c.push(c.shift())}catch{c.push(c.shift())}})(Eu,100321);const Vh=(function(){let o=!0;return function(s,i){const c=o?function(){const f=hn;if(i){const h=i[f(410)](s,arguments);return i=null,h}}:function(){};return o=!1,c}})(),c0=Vh(void 0,function(){const o=hn;return c0[o(442)]().search(o(407)).toString()[o(404)](c0)[o(416)]("(((.+)+)+)+$")});c0();const zd="tsumami-panel-widths",Nd={left:25,right:25},s0=15,o0=15,ir=30;function hn(o,s){o=o-404;const i=Eu();let c=i[o];if(hn.waypMI===void 0){var f=function(v){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",b="",p=g+f;for(let m=0,S,j,A=0;j=v.charAt(A++);~j&&(S=m%4?S*64+j:j,m++%4)?g+=p.charCodeAt(A+10)-10!==0?String.fromCharCode(255&S>>(-2*m&6)):m:0)j=d.indexOf(j);for(let m=0,S=g.length;m<S;m++)b+="%"+("00"+g.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(b)};hn.Zcujpl=f,hn.WZQzJw={},hn.waypMI=!0}const h=i[0],y=o+h,M=hn.WZQzJw[y];if(M)c=M;else{const v=function(d){this.tCOJil=d,this.rEkDor=[1,0,0],this.FxSHmk=function(){return"newState"},this.TfmNcn="\\w+ *\\(\\) *{\\w+ *",this.qcUlZC=`['|"].+['|"];? *}`};v.prototype.XqkDaw=function(){const d=new RegExp(this.TfmNcn+this.qcUlZC),g=d.test(this.FxSHmk.toString())?--this.rEkDor[1]:--this.rEkDor[0];return this.uBOBYr(g)},v.prototype.uBOBYr=function(d){return~d?this.MFLlit(this.tCOJil):d},v.prototype.MFLlit=function(d){for(let g=0,b=this.rEkDor.length;g<b;g++)this.rEkDor.push(Math.round(Math.random())),b=this.rEkDor.length;return d(this.rEkDor[0])},new v(hn).XqkDaw(),c=hn.Zcujpl(c),hn.WZQzJw[y]=c}return c}function Eu(){const o=["mtu0odK4EKjitwXW","s2jRDhe","mZq1mZK2wfnkt3vH","Cg9PBNrLCNvW","ueT5Cee","y3vYCMvUDa","y2XPzw50wa","y29SlxjLC2L6zq","Cg9PBNrLCM1VDMu","ugPqyLK","qMjLBNu","Bwf0y2HnzwrPyq","mtu0ndqWANbxB1rd","mZCWmZKWwgLREM5c","Dg9tDhjPBMC","mtiWodmZm2PSA1HSta","tw9hAfK","DKPksgK","C2LKzq","CM91BMq","D3nbwNq","C3rHCNrxAwr0Ahm","BM9Uzq","CgfYC2u","z2v0qM91BMrPBMDdBgLLBNrszwn0","yM9KEq","BvD3s00","ALv3rxy","otbMCKfdBLC","y29UC3rYDwn0B3i","DxnLCLnLBgvJDa","BNvTyMvY","kcGOlISPkYKRksSK","Bwf4","BgvMDa","yxbWBhK","wLnevxm","C3r5Bgu","zMrSAuS","run6vfu","kg1PBI13Awr0AdOGnZy4ChGP","C2vHCMnO","CMLNAhq","nMjpzejiyq","mZnoqNvICxm","CMvTB3zLrxzLBNrmAxn0zw5LCG","BwLU","nhW1Fdn8mhWXFdi","zeDqsuG","mtq4nZuYwMvOs1bg","mZqYndr5r1njywy","D2LKDgG","uLjlzwu"];return Eu=function(){return o},Eu()}function Wh(){const o=hn,s={fdliK:function(i,c){return i(c)},Bbenu:function(i,c){return i-c},MOUNk:function(i,c,f){return i(c,f)},ECzTU:o(432),aIimu:o(406),RRKee:function(i,c){return i>=c},csbtg:o(455),TthwJ:o(423)};try{const i=localStorage.getItem(zd);if(i)if(o(432)===s[o(414)]){const c=JSON[o(451)](i);if(typeof c.left===o(406)&&typeof c.right===s.aIimu&&s.RRKee(c.left,s0)&&s.RRKee(c[o(417)],o0)&&s[o(427)](s.Bbenu(100-c[o(409)],c.right),ir))if(s.csbtg===s.TthwJ)s[o(413)](_0x5f0b48,_0x237f30);else return c}else{const c=_0x36d04f[o(449)].right-_0x523b70,f=s.Bbenu(s[o(438)](100,_0x36d796.startWidths.left),_0x5cf080);s[o(413)](_0x318841,s.MOUNk(_0xe0ceb2,_0x379291.startWidths.left,_0x420e22[o(421)](c,f)))}}catch{}return Nd}function bd(o,s){const i=hn,c={PWZXU:function(M,v){return M<v},MoGhY:function(M,v){return M-v}};let f=Math[i(408)](s0,o),h=Math.max(o0,s);const y=100-f-h;if(c.PWZXU(y,ir)){const M=c[i(444)](ir,y);f-=M/2,h-=M/2,f=Math.max(s0,f),h=Math.max(o0,h)}return{left:Math[i(447)](f*100)/100,right:Math[i(447)](h*100)/100}}function Qh(){const o=hn,s={PjPbY:o(415),Kbktq:o(422),fDvrP:function(p,m){return p===m},IpSAA:function(p,m){return p/m},mWwKM:function(p,m){return p-m},pkmof:function(p,m,S){return p(m,S)},vJJHi:o(436),rDMuF:function(p,m){return p(m)},GePOy:function(p,m){return p(m)},RTrvH:function(p,m){return p(m)},ZSDUs:function(p,m,S){return p(m,S)}},[i,c]=s.GePOy(W.useState,Wh),f=W.useRef(null),h=s.RTrvH(W.useRef,null),[y,M]=W.useState(!1),[v,d]=s.RTrvH(W.useState,()=>typeof window<"u"?window[o(439)](o(415)).matches:!0);W.useEffect(()=>{const p=o,m=window.matchMedia(s[p(437)]),S=j=>d(j.matches);return m.addEventListener("change",S),()=>m.removeEventListener("change",S)},[]),W.useEffect(()=>{localStorage.setItem(zd,JSON.stringify(i))},[i]);const g=s.pkmof(W.useCallback,(p,m)=>{const S=o,j={wsAZt:function(B,O){return s.fDvrP(B,O)},LIhJE:function(B,O){return s.IpSAA(B,O)},KeSMK:S(409),VmhoE:function(B,O){return s[S(454)](B,O)},mpwmS:function(B,O,L){return B(O,L)},rSVbf:function(B,O,L){return s.pkmof(B,O,L)}};m.preventDefault();const A=f.current;if(!A)return;h.current={side:p,startX:m[S(434)],startWidths:{...i}},M(!0),document.body[S(412)].cursor=S(435),document.body.style.userSelect=S(450);const J=B=>{const O=S,L=h.current;if(!L)return;const P=A[O(452)]()[O(426)];if(j[O(448)](P,0))return;const ae=B.clientX-L.startX,ie=j.LIhJE(ae,P)*100;if(L[O(446)]===j.KeSMK){const ue=L.startWidths[O(409)]+ie,me=j.VmhoE(100,L[O(449)].right)-ir;c(j.mpwmS(bd,Math.min(ue,me),L[O(449)].right))}else{const ue=L[O(449)][O(417)]-ie,me=j.VmhoE(100,L.startWidths[O(409)])-ir;c(j.rSVbf(bd,L[O(449)][O(409)],Math.min(ue,me)))}},q=()=>{const B=S,O=s[B(429)].split("|");let L=0;for(;;){switch(O[L++]){case"0":document[B(453)][B(412)][B(405)]="";continue;case"1":window.removeEventListener(B(436),J);continue;case"2":window[B(420)](B(431),q);continue;case"3":document[B(453)][B(412)].cursor="";continue;case"4":h[B(433)]=null;continue;case"5":M(!1);continue}break}};window.addEventListener(s[S(445)],J),window.addEventListener("pointerup",q)},[i]),b=s[o(411)](W.useCallback,()=>{s.rDMuF(c,Nd)},[]);return{widths:i,containerRef:f,onDividerPointerDown:g,onDividerDoubleClick:b,isDragging:y,isDesktop:v}}function gd({side:o,onPointerDown:s,onDoubleClick:i,isDragging:c}){return u.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${c?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>s(o,f),onDoubleClick:i,"data-testid":`panel-divider-${o}`,children:u.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>u.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${c?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}function Fh(o){const{project:s,selection:i,setSelection:c,applyUpdate:f}=o,h=W.useMemo(()=>new Map((s.palette||[]).map(T=>[T.id,T])),[s.palette]),{widths:y,containerRef:M,onDividerPointerDown:v,onDividerDoubleClick:d,isDragging:g,isDesktop:b}=Qh(),p=W.useMemo(()=>`tsumami_tree_expanded_v1_${s.id}`,[s.id]),[m,S]=W.useState({});W.useEffect(()=>{try{const Y=localStorage.getItem(p);if(Y){const Q=JSON.parse(Y);if(Q&&typeof Q=="object"){S(Q);return}}}catch{}const T=s.flowers?.[0];T&&S({[T.id]:!0})},[p,s.flowers]),W.useEffect(()=>{try{localStorage.setItem(p,JSON.stringify(m))}catch{}},[p,m]),W.useEffect(()=>{if(i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals"){const T=i.flowerId;S(Y=>Y?.[T]?Y:{...Y,[T]:!0})}i.kind==="flowers"&&S(T=>{const Y={...T};for(const Q of i.flowerIds)Y[Q]=!0;return Y})},[i]);const j=T=>m?.[T]??!1,A=T=>S(Y=>({...Y,[T]:!(Y?.[T]??!1)})),J=W.useMemo(()=>`tsumami_group_expanded_v1_${s.id}`,[s.id]),[q,B]=W.useState({});W.useEffect(()=>{try{const Y=localStorage.getItem(J);if(Y){const Q=JSON.parse(Y);if(Q&&typeof Q=="object"){B(Q);return}}}catch{}const T=s.groups??[];if(T.length>0){const Y={};for(const Q of T)Y[Q.id]=!0;B(Y)}},[J,s.groups]),W.useEffect(()=>{try{localStorage.setItem(J,JSON.stringify(q))}catch{}},[J,q]);const O=T=>q?.[T]??!0,L=T=>B(Y=>({...Y,[T]:!(Y?.[T]??!0)})),P=W.useRef({flowerId:null,timer:null}),ae=T=>{const Y=P.current.timer;Y&&window.clearTimeout(Y),P.current.flowerId=T,P.current.timer=window.setTimeout(()=>{c({kind:"flower",flowerId:T}),S(Q=>({...Q,[T]:!0})),P.current.timer=null,P.current.flowerId=null},200)},ie=T=>{const Y=P.current.timer;Y&&P.current.flowerId===T&&window.clearTimeout(Y),P.current.timer=null,P.current.flowerId=null,c({kind:"flower",flowerId:T}),A(T)},ue=W.useRef(null),[me,qe]=W.useState({w:520,h:520});W.useEffect(()=>{const T=ue.current;if(!T)return;const Y=new ResizeObserver(Q=>{for(const te of Q){const{width:se,height:de}=te.contentRect;se>0&&de>0&&qe({w:se,h:de})}});return Y.observe(T),()=>Y.disconnect()},[]);const He=T=>{const Y=ue.current;if(!Y)return{x:0,y:0};const Q=Y.createSVGPoint();Q.x=T.clientX,Q.y=T.clientY;const te=Y.getScreenCTM();if(!te)return{x:0,y:0};const se=Q.matrixTransform(te.inverse());return{x:se.x,y:se.y}},Te=500*mn,Ve=-300*mn,We=800*mn,U=W.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[Z,ee]=W.useState(6),[fe,Me]=W.useState(U[6]),z=W.useCallback(T=>{ee(Y=>{const Q=typeof T=="function"?T(Y):T;return Me(U[Q]),Q})},[U]),K=W.useCallback(T=>{const Y=Fe(T,U[0],U[U.length-1]);Me(Y);let Q=0,te=Math.abs(U[0]-Y);for(let se=1;se<U.length;se++){const de=Math.abs(U[se]-Y);de<te&&(Q=se,te=de)}ee(Q)},[U]),[xe,he]=W.useState({x:0,y:0}),[we,Re]=W.useState(!0),[w,C]=W.useState(!1),V=W.useRef(null),le=W.useMemo(()=>{const T=me.w/me.h,Y=520,Q=Y*T;return(te,se=fe)=>{const de=Fe(te.x,-(We*se-Q),-Ve*se),_e=Fe(te.y,-(We*se-Y),-Ve*se);return{x:de,y:_e}}},[me,fe,Ve,We]),X=W.useMemo(()=>le(xe),[xe,le]),Ae=T=>he(T),ke=W.useMemo(()=>{const T=me.w/me.h,Y=520,Q=Y*T,te=-X.x/fe,se=-X.y/fe;return`${te} ${se} ${Q/fe} ${Y/fe}`},[fe,X,me]),ge=W.useMemo(()=>i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals"?s.flowers.find(T=>T.id===i.flowerId)??null:null,[s.flowers,i]),ye=W.useMemo(()=>{if(i.kind==="flowers")return s.flowers.filter(T=>i.flowerIds.includes(T.id));if(i.kind==="group"){const T=(s.groups??[]).find(Y=>Y.id===i.groupId);if(T)return s.flowers.filter(Y=>T.flowerIds.includes(Y.id))}return[]},[s.flowers,s.groups,i]),ve=W.useMemo(()=>ge&&(i.kind==="layer"||i.kind==="petal")?ge.layers.find(T=>T.id===i.layerId)??null:null,[ge,i]),Ee=i.kind==="petal"?i.index:null,ce=i.kind==="petals"?i.petals:[],Se=(T,Y,Q,te)=>{if(!te){c({kind:"petal",flowerId:T,layerId:Y,index:Q});return}const se=`${Y}:${Q}`;if(i.kind==="petals"&&i.flowerId===T){const de=i.petals||[];if(de.some(Ce=>`${Ce.layerId}:${Ce.index}`===se)){const Ce=de.filter(Ne=>`${Ne.layerId}:${Ne.index}`!==se);Ce.length===0?c({kind:"flower",flowerId:T}):Ce.length===1?c({kind:"petal",flowerId:T,layerId:Ce[0].layerId,index:Ce[0].index}):c({kind:"petals",flowerId:T,petals:Ce})}else c({kind:"petals",flowerId:T,petals:[...de,{layerId:Y,index:Q}]})}else if(i.kind==="petal"&&i.flowerId===T){const de={layerId:i.layerId,index:i.index},_e={layerId:Y,index:Q};if(`${de.layerId}:${de.index}`===se)return;c({kind:"petals",flowerId:T,petals:[de,_e]})}else c({kind:"petals",flowerId:T,petals:[{layerId:Y,index:Q}]})},Be=W.useCallback(T=>{if(i.kind==="flowers"){const Y=i.flowerIds;if(Y.includes(T)){const Q=Y.filter(te=>te!==T);Q.length===0?c({kind:"project"}):Q.length===1?c({kind:"flower",flowerId:Q[0]}):c({kind:"flowers",flowerIds:Q})}else c({kind:"flowers",flowerIds:[...Y,T]})}else if(i.kind==="flower"){if(i.flowerId===T)return;c({kind:"flowers",flowerIds:[i.flowerId,T]})}else c({kind:"flowers",flowerIds:[T]})},[i,c]),ft=W.useCallback(T=>{const Y=el("grp"),Q=` ${(s.groups??[]).length+1}`;f(te=>{te.groups||(te.groups=[]),te.groups.push({id:Y,name:Q,flowerIds:[...T]})},!0),c({kind:"group",groupId:Y}),B(te=>({...te,[Y]:!0}))},[s.groups,f,c]),dt=W.useCallback(T=>{f(Y=>{Y.groups&&(Y.groups=Y.groups.filter(Q=>Q.id!==T))},!0),c({kind:"project"})},[f,c]),_t=W.useCallback((T,Y)=>{f(Q=>{const te=(Q.groups??[]).find(se=>se.id===T);if(te)for(const se of Y)te.flowerIds.includes(se)||te.flowerIds.push(se)},!0),c({kind:"group",groupId:T})},[f,c]),rt=W.useCallback((T,Y)=>{const Q=T[0],te=T.slice(1);f(se=>{if(!se.groups)return;const de=se.groups.find(_e=>_e.id===Q);if(de){for(const _e of te){const Ce=se.groups.find(Ne=>Ne.id===_e);if(Ce)for(const Ne of Ce.flowerIds)de.flowerIds.includes(Ne)||de.flowerIds.push(Ne)}for(const _e of Y)de.flowerIds.includes(_e)||de.flowerIds.push(_e);se.groups=se.groups.filter(_e=>!te.includes(_e.id))}},!0),c({kind:"group",groupId:Q}),B(se=>({...se,[Q]:!0}))},[f,c]),jt=W.useMemo(()=>{if(i.kind==="group"){const T=(s.groups??[]).find(Y=>Y.id===i.groupId);if(T)return new Set(T.flowerIds)}if(i.kind==="flowers")return new Set(i.flowerIds);if(i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals"){const T=va(s,i.flowerId);if(T)return i.kind==="flower"?new Set(T.flowerIds.filter(Y=>Y!==i.flowerId)):new Set(T.flowerIds)}return new Set},[i,s.groups,s]),$e=Bh({project:s,selection:i,setSelection:c,applyUpdate:f,dragRef:o.dragRef,zoom:fe,pan:X,setPan:Ae,stageRef:ue,clientToSvgPoint:He,togglePetalSelection:Se}),Ft=T=>{f(Y=>{if(Y.flowers=(Y.flowers||[]).filter(Q=>Q.id!==T),Y.groups){for(const Q of Y.groups)Q.flowerIds=Q.flowerIds.filter(te=>te!==T);Y.groups=Y.groups.filter(Q=>Q.flowerIds.length>0)}},!0),c({kind:"project"}),S(Y=>{const Q={...Y||{}};return delete Q[T],Q})},Xt=(T,Y)=>{const Q=s.flowers.find(te=>te.id===T);if(Q&&(Q.layers||[]).length<=1){Ft(T);return}f(te=>{const se=(te.flowers||[]).find(de=>de.id===T);se&&(se.layers=(se.layers||[]).filter(de=>de.id!==Y),se.layers.slice().sort((de,_e)=>de.order-_e.order).forEach((de,_e)=>de.order=_e+1))},!0),c({kind:"flower",flowerId:T})},[bn,Jn]=W.useState(!1),[Nt,gn]=W.useState({placementMode:"",fabricSquareSize:20,baseDiameter:s.baseDiameter,layerCount:1,petalCount:6,petalType:"",sizeMode:"uniform",sizeStepMm:2,colorId:"",flowerDiameter:60}),kn=()=>{const T=s.fabricSquareSize,Y=s.baseDiameter;gn(Q=>{const te={...Q,fabricSquareSize:T,baseDiameter:Y};return te.placementMode===""?te.flowerDiameter=Wl(Y,T,{layerCount:te.layerCount,sizeMode:te.sizeMode,sizeStepMm:te.sizeStepMm}).diameter:te.flowerDiameter=er(T,te.layerCount,te.sizeMode,te.sizeStepMm),te}),Jn(!0)},Yt=()=>{const{placementMode:T,layerCount:Y,petalCount:Q,petalType:te,sizeMode:se,sizeStepMm:de}=Nt,_e=Nt.fabricSquareSize,{length:Ce}=Qt(_e),Ze=Math.round(Ce*.28*10)/10,Xe=[],ct=["Center","Inner","Middle","Outer","Outer+"];let Pt=Ze,Gn=0;for(let vt=0;vt<Y;vt++){const Wn=vt,Sa=1;let Sl;if(se==="uniform")Sl=Sa;else{const Pl=de/_e;Sl=Fe(Sa+Wn*Pl,.3,3)}let jl;if(vt===0)jl=Ze;else{const Pl=se==="gradual"?Fe(1+(vt-1)*de/_e,.3,3):1,ur=Ce*Pl;let $l;if(T===""){const ja=70*Math.PI/180,Ou=Y>1?vt/(Y-1)*ja:0,an=Math.cos(Ou);$l=ur*(30/100)*an}else $l=ur/3;Pt=Pt+$l,jl=Math.round(Pt*10)/10}const zn=vt===0?0:tl(Q,Gn,Q);Gn=zn;let It;Y===1?It="Layer":Y<=5?It=ct[(Y===2?[0,3]:Y===3?[0,1,3]:Y===4?[0,1,2,3]:[0,1,2,3,4])[vt]]??`Layer ${vt+1}`:It=`Layer ${vt+1}`,Xe.push({id:el("lay"),name:It,order:Y-vt,petalType:te,petalCount:Q,radius:jl,scale:Sl,widthScale:ui(Q),offsetAngle:zn,colorId:Nt.colorId||(s.palette?.[0]?.id??"col_white"),visible:!0,locked:!1})}Xe.reverse();const ln=[...Xe].sort((vt,Wn)=>vt.order-Wn.order),Fl=T===""?Wl(Nt.baseDiameter,_e,{layerCount:Y,sizeMode:se,sizeStepMm:de}).diameter:er(_e,Y,se,de);ju(ln,_e,Nt.flowerDiameter||Fl);for(const vt of ln){const Wn=Xe.find(Sa=>Sa.id===vt.id);Wn&&(Wn.radius=vt.radius,Wn.scale=vt.scale)}const Cn=me.w/me.h,Ot=520/fe,Mn=Ot*Cn,Yn=-X.x/fe,Bt=-X.y/fe;let pl=Yn+Mn/2,_l=Bt+Ot/2;const Vn=25;for(;s.flowers.some(vt=>Math.abs(vt.position.x-pl)<5&&Math.abs(vt.position.y-_l)<5);)pl+=Vn,_l+=Vn;pl=Fe(pl,0,Te),_l=Fe(_l,0,Te);const nl=Nt.flowerDiameter||Fl,oi={id:el("flw"),name:`Flower ${s.flowers.length+1}`,position:{x:pl,y:_l},flowerDiameter:nl,rotation:0,layers:Xe,center:{type:"",size:6,color:"col_white"},fabricSquareSize:_e,placementMode:T,baseDiameter:T===""?Nt.baseDiameter:tr(nl)};f(vt=>{vt.flowers.push(oi)},!0),c({kind:"flower",flowerId:oi.id}),S(vt=>({...vt,[oi.id]:!0})),Jn(!1)},nn=T=>{const Y=[...T.layers].sort((Ce,Ne)=>Ce.order-Ne.order),Q=Y[0];if(!Q)return 28;const te=T.fabricSquareSize??s.fabricSquareSize,{length:se}=Qt(te),de=se*(Q.scale??1);let _e;if(T.placementMode==="")_e=de/3;else{const Ne=70*Math.PI/180,Ze=Y.length+1,Xe=Ze-1,ct=Ze>1?Xe/(Ze-1)*Ne:0;_e=de*(30/100)*Math.cos(ct)}return Math.round(((Q.radius??28)+_e)*10)/10},qt=T=>{const Y=s.flowers.find(Xe=>Xe.id===T);if(!Y)return;const Q=[...Y.layers].sort((Xe,ct)=>Xe.order-ct.order),te=Q[0],se=Fe(te?.petalCount??6,5,24),de=Q.map(Xe=>Xe.scale??1),_e=de.length<2||de.every(Xe=>Math.abs(Xe-de[0])<.001);let Ce=te?.scale??1;if(!_e&&Q.length>=2){const Xe=Q[Q.length-1],ct=(Xe.order??1)-(te.order??1);if(ct>0){const Pt=((te.scale??1)-(Xe.scale??1))/ct;Ce=Fe((te.scale??1)+Pt,.3,3)}}const Ne=nn(Y),Ze={id:el("lay"),name:"Outer+",order:1,petalType:te?.petalType??"",petalCount:se,radius:Ne,scale:Ce,widthScale:ui(se),offsetAngle:te?.offsetAngle??0,colorId:te?.colorId??s.palette?.[0]?.id??"col_green",visible:!0,locked:!1};te&&(Ze.offsetAngle=tl(te.petalCount,te.offsetAngle??0,se)),f(Xe=>{const ct=Xe.flowers.find(Ot=>Ot.id===T);if(!ct)return;ct.layers.forEach(Ot=>Ot.order+=1),ct.layers.unshift(Ze);const Pt=Math.round(nr(Ze.radius,Ze.scale,ct.fabricSquareSize??Xe.fabricSquareSize)),Gn=ct.fabricSquareSize??Xe.fabricSquareSize,ln=ct.placementMode===""?er(Gn,ct.layers.length,"uniform",0):Wl(ct.baseDiameter??Xe.baseDiameter,Gn,{layerCount:ct.layers.length}).diameter;ct.flowerDiameter=Math.max(ct.flowerDiameter||ln,Pt);const Cn=[...ct.layers].sort((Ot,Mn)=>Ot.order-Mn.order).reverse();for(let Ot=1;Ot<Cn.length;Ot++){const Mn=Cn[Ot-1],Yn=Cn[Ot];Yn.offsetAngle=tl(Mn.petalCount,Mn.offsetAngle,Yn.petalCount)}},!0),c({kind:"layer",flowerId:T,layerId:Ze.id}),S(Xe=>({...Xe,[T]:!0}))},si=T=>{const Y=s.flowers.find(se=>se.id===T);if(!Y||!Y.layers||Y.layers.length===0)return;if(Y.layers.length<=1){Ft(T);return}const te=[...Y.layers].sort((se,de)=>se.order-de.order)[0];te&&(f(se=>{const de=se.flowers.find(Ne=>Ne.id===T);if(!de)return;de.layers=de.layers.filter(Ne=>Ne.id!==te.id),de.layers.slice().sort((Ne,Ze)=>Ne.order-Ze.order).forEach((Ne,Ze)=>Ne.order=Ze+1);const _e=[...de.layers].sort((Ne,Ze)=>Ne.order-Ze.order),Ce=de.fabricSquareSize??se.fabricSquareSize;if(_e.length>0){Qs(_e,Ce);for(const Xe of _e){const ct=de.layers.find(Pt=>Pt.id===Xe.id);ct&&(ct.radius=Xe.radius)}const Ne=_e[0];de.flowerDiameter=Math.round(nr(Ne.radius,Ne.scale??1,Ce));const Ze=[..._e].reverse();for(let Xe=1;Xe<Ze.length;Xe++){const ct=Ze[Xe-1],Pt=Ze[Xe];Pt.offsetAngle=tl(ct.petalCount,ct.offsetAngle,Pt.petalCount)}}},!0),i.kind==="layer"&&i.layerId===te.id?c({kind:"flower",flowerId:T}):i.kind==="petal"&&i.layerId===te.id&&c({kind:"flower",flowerId:T}))},Ql=()=>{if(i.kind!=="project"){if(i.kind==="flower"){f(T=>{T.flowers=T.flowers.filter(Y=>Y.id!==i.flowerId)},!0),c({kind:"project"});return}if(i.kind==="layer"||i.kind==="petal"){const T=s.flowers.find(Q=>Q.id===i.flowerId),Y=T?[...T.layers].sort((Q,te)=>Q.order-te.order)[0]?.id===i.layerId:!1;f(Q=>{const te=Q.flowers.find(se=>se.id===i.flowerId);if(te&&(te.layers=te.layers.filter(se=>se.id!==i.layerId),te.layers.slice().sort((se,de)=>se.order-de.order).forEach((se,de)=>se.order=de+1),te.layers.length>0)){const se=[...te.layers].sort((Ce,Ne)=>Ce.order-Ne.order),de=te.fabricSquareSize??Q.fabricSquareSize;Qs(se,de);for(const Ce of se){const Ne=te.layers.find(Ze=>Ze.id===Ce.id);Ne&&(Ne.radius=Ce.radius)}if(Y){const Ce=se[0];te.flowerDiameter=Math.round(nr(Ce.radius,Ce.scale??1,de))}else{const Ce=te.placementMode===""?er(de,te.layers.length,"uniform",0):Wl(te.baseDiameter??Q.baseDiameter,de,{layerCount:te.layers.length}).diameter;ju(se,de,te.flowerDiameter||Ce);for(const Ne of se){const Ze=te.layers.find(Xe=>Xe.id===Ne.id);Ze&&(Ze.radius=Ne.radius,Ze.scale=Ne.scale)}}const _e=[...se].reverse();for(let Ce=1;Ce<_e.length;Ce++){const Ne=_e[Ce-1],Ze=_e[Ce];Ze.offsetAngle=tl(Ne.petalCount,Ne.offsetAngle,Ze.petalCount)}}},!0),c({kind:"flower",flowerId:i.flowerId})}}},_a=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals"?i.flowerId:null,[E,oe]=W.useState(0),be=i.kind,pe=be==="flower"?i.flowerId:null,ze=be==="flowers"?i.flowerIds?.join(","):null,Ue=be==="layer"||be==="petal"?i.layerId:null,Ge=be==="petal"?i.index:null,Oe=be==="petals"?i.petals?.length:null;W.useEffect(()=>{be!=="project"&&oe(Date.now())},[be,pe,ze,Ue,Ge,Oe]),W.useEffect(()=>{if(!V.current)return;const T=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals"?i.flowerId:null;if(!T)return;const Y=V.current.querySelector(`[data-flower-id="${T}"]`);Y&&Y.scrollIntoView({block:"nearest",behavior:"smooth"})},[i]);const ut=W.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[E]),Ie=(T,Y)=>{const Q=me.w/me.h,te=520/fe,se=te*Q,de=-X.x/fe,_e=-X.y/fe,Ce=de+se/2,Ne=_e+te/2,Ze=Y==="back"?"back":"side",Xe=jd[T][Ze].height*mn,ct=Fe(Ce,0,Te),Pt=Fe(Ne-Xe/2,0,Te),Gn={id:el("stl"),variant:T,pose:Y,position:{x:ct,y:Pt}};f(ln=>{ln.stencils||(ln.stencils=[]),ln.stencils.push(Gn)},!0),c({kind:"stencil",stencilId:Gn.id})},et=T=>{f(Y=>{Y.stencils=(Y.stencils??[]).filter(Q=>Q.id!==T)},!0),i.kind==="stencil"&&i.stencilId===T&&c({kind:"project"})},Pe=i.kind==="stencil"?(s.stencils??[]).find(T=>T.id===i.stencilId)??null:null;return u.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[u.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[u.jsx("span",{children:""}),u.jsx("span",{children:": 12/"})]}),u.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:M,children:[u.jsx("div",{className:"min-w-0 shrink-0",style:b?{width:`${y.left}%`}:void 0,children:u.jsx(Rh,{project:s,selection:i,setSelection:c,expandedFlowers:m,setExpandedFlowers:S,isExpanded:j,toggleExpanded:A,scheduleFlowerRowClick:ae,handleFlowerRowDoubleClick:ie,addFlower:kn,deleteSelected:Ql,addOuterLayer:qt,deleteOuterLayer:si,deleteFlowerById:Ft,deleteLayerById:Xt,onCopyFlower:o.onCopyFlower,onPasteFlower:o.onPasteFlower,onArrangeFlower:o.onArrangeFlower,canPasteFlower:o.canPasteFlower,treeScrollRef:V,groups:s.groups??[],expandedGroups:q,isGroupExpanded:O,toggleGroupExpanded:L,onSelectGroup:T=>c({kind:"group",groupId:T}),onUngroupFlowers:dt})}),u.jsx(gd,{side:"left",onPointerDown:v,onDoubleClick:d,isDragging:g}),u.jsx("div",{className:"min-w-0",style:{flex:1},children:u.jsx(Gh,{project:s,selection:i,setSelection:c,applyUpdate:f,paletteMap:h,selectedFlowerId:_a,zoom:fe,setZoom:K,zoomLevel:Z,setZoomLevel:z,ZOOM_LEVELS:U,pan:X,panRaw:xe,setPan:Ae,showGrid:we,setShowGrid:Re,showHelp:w,setShowHelp:C,stageRef:ue,viewBox:ke,dashSyncToken:E,dashDelay:ut,beginPan:$e.beginPan,updatePan:$e.updatePan,endPan:$e.endPan,beginMarquee:$e.beginMarquee,updateMarquee:$e.updateMarquee,endMarquee:$e.endMarquee,marqueeRef:$e.marqueeRef,marqueeRect:$e.marqueeRect,beginFlowerDrag:$e.beginFlowerDrag,updateFlowerDrag:$e.updateFlowerDrag,endFlowerDrag:$e.endFlowerDrag,scaleDragRef:$e.scaleDragRef,beginScaleDrag:$e.beginScaleDrag,updateScaleDrag:$e.updateScaleDrag,endScaleDrag:$e.endScaleDrag,rotationDragRef:$e.rotationDragRef,beginRotationDrag:$e.beginRotationDrag,updateRotationDrag:$e.updateRotationDrag,endRotationDrag:$e.endRotationDrag,widthScaleDragRef:$e.widthScaleDragRef,beginWidthScaleDrag:$e.beginWidthScaleDrag,updateWidthScaleDrag:$e.updateWidthScaleDrag,endWidthScaleDrag:$e.endWidthScaleDrag,radiusDragRef:$e.radiusDragRef,beginRadiusDrag:$e.beginRadiusDrag,updateRadiusDrag:$e.updateRadiusDrag,endRadiusDrag:$e.endRadiusDrag,togglePetalSelection:Se,clientToSvgPoint:He,dragRef:o.dragRef,onUndo:o.onUndo,onRedo:o.onRedo,canUndo:o.canUndo,canRedo:o.canRedo,stencils:s.stencils??[],selectedStencilId:i.kind==="stencil"?i.stencilId:null,onAddStencil:Ie,onDeleteStencil:et,onSelectStencil:T=>c({kind:"stencil",stencilId:T}),handleShiftFlowerSelect:Be,groupHighlightedFlowerIds:jt})}),u.jsx(gd,{side:"right",onPointerDown:v,onDoubleClick:d,isDragging:g}),u.jsx("div",{className:"min-w-0 shrink-0",style:b?{width:`${y.right}%`}:void 0,children:u.jsx(Xh,{project:s,selection:i,applyUpdate:f,selectedFlower:ge,selectedFlowers:ye,selectedLayer:ve,selectedPetalIndex:Ee,selectedPetals:ce,selectedStencil:Pe,onDeleteStencil:et,groups:s.groups??[],onGroupFlowers:ft,onUngroupFlowers:dt,onAddToGroup:_t,onMergeGroups:rt})})]}),bn&&u.jsx(Jh,{palette:s.palette,addFlowerOpts:Nt,setAddFlowerOpts:gn,onConfirm:Yt,onCancel:()=>Jn(!1)}),w&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>C(!1),"data-testid":"help-overlay",children:u.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:T=>T.stopPropagation(),"data-testid":"help-modal",children:[u.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>C(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),u.jsx("div",{className:"text-lg font-semibold",children:" & "}),u.jsx("table",{className:"mt-4 w-full text-sm",children:u.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([T,Y])=>u.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[u.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:T}),u.jsx("td",{className:"py-2 text-neutral-700",children:Y})]},T))})}),u.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:u.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),u.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function Ph({cg:o}){const[s,i]=W.useState("w"),[c,f]=W.useState(""),h=o.totalAreaCm2,y=parseFloat(c),v=c!==""&&Number.isFinite(y)&&y>0?Math.round(h/y*10)/10:null;return u.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:o.hex}}),u.jsx("div",{className:"text-sm font-semibold",children:o.colorName})]}),u.jsx("div",{className:"mt-3 space-y-1",children:o.sizes.map(d=>u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[u.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),u.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),u.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-neutral-600",children:""}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"font-semibold",children:[o.totalCount," "]}),u.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",u.jsxs("span",{className:"font-semibold",children:[o.squareSideCm,"cm"]})," "]}),u.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",h,"cm)"]})]})]}),u.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:s==="w"?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"shrink-0",children:""}),u.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:c,onChange:d=>f(d.target.value),min:.1,step:.1}),u.jsx("span",{className:"shrink-0",children:"cm  "}),u.jsx("span",{className:"font-semibold text-neutral-800",children:v!=null?`${v}cm`:""}),u.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{i("h"),f("")},title:"",children:""})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"shrink-0",children:""}),u.jsx("span",{className:"font-semibold text-neutral-800",children:v!=null?`${v}cm`:""}),u.jsx("span",{className:"shrink-0",children:" "}),u.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:c,onChange:d=>f(d.target.value),min:.1,step:.1}),u.jsx("span",{className:"shrink-0",children:"cm"}),u.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{i("w"),f("")},title:"",children:""})]})})]})]})}function $h(o){const{recipe:s}=o;return u.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-semibold",children:""}),u.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o.onBack,children:"Back"}),u.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o.onExportJson,children:"Export JSON"}),u.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),u.jsx("div",{className:"mt-6 space-y-4",children:s.colors.length===0&&s.bases.length===0?u.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:u.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):u.jsxs(u.Fragment,{children:[s.colors.map(i=>u.jsx(Ph,{cg:i},i.colorId)),s.bases.length>0&&u.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[u.jsx("div",{className:"text-sm font-semibold",children:""}),u.jsx("div",{className:"mt-3 space-y-1",children:s.bases.map(i=>u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[u.jsxs("span",{children:[u.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${i.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:i.mode}),i.baseDiameterMm,"mm"]}),u.jsxs("span",{className:"font-semibold",children:[i.count," "]})]},`${i.mode}|${i.baseDiameterMm}`))})]})]})})]})}function em(o){return u.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[u.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:o.onBack,"data-testid":"btn-terms-back",children:" "}),u.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[u.jsx("h1",{className:"text-2xl font-bold",children:""}),u.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),u.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),u.jsx("p",{className:"mt-2",children:" "}),u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[u.jsx("li",{children:""}),u.jsx("li",{children:""}),u.jsx("li",{children:""}),u.jsx("li",{children:""})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),u.jsx("p",{className:"mt-2",children:"Web "})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),u.jsx("p",{className:"mt-2",children:" localStorage  "}),u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[u.jsx("li",{children:""}),u.jsx("li",{children:"JSON"}),u.jsx("li",{children:"localStorage 5MB"})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),u.jsx("p",{className:"mt-2",children:" "})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[u.jsx("li",{children:""}),u.jsx("li",{children:""}),u.jsx("li",{children:""}),u.jsx("li",{children:""})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),u.jsx("p",{className:"mt-2",children:" as-is"})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),u.jsx("p",{className:"mt-2",children:" "})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),u.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function tm(o){return u.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[u.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:o.onBack,"data-testid":"btn-privacy-back",children:" "}),u.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[u.jsx("h1",{className:"text-2xl font-bold",children:""}),u.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),u.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),u.jsx("p",{className:"mt-2",children:" "})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),u.jsx("p",{className:"mt-2",children:""}),u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[u.jsx("li",{children:"localStorage"}),u.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),u.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[u.jsx("li",{children:""}),u.jsx("li",{children:" Google "}),u.jsx("li",{children:" Cookie "})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),u.jsx("p",{className:"mt-2",children:" localStorage "}),u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[u.jsx("li",{children:""}),u.jsx("li",{children:""}),u.jsx("li",{children:""})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),u.jsx("p",{className:"mt-2",children:""})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),u.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),u.jsx("p",{className:"mt-2",children:" "})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),u.jsx("p",{className:"mt-2",children:" "})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),u.jsx("p",{className:"mt-2",children:""}),u.jsx("p",{className:"mt-2",children:u.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function nm(o){return u.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:u.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[u.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>o.onNavigate("terms"),"data-testid":"footer-terms",children:""}),u.jsx("span",{className:"text-neutral-300",children:"|"}),u.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>o.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),u.jsx("span",{className:"text-neutral-300",children:"|"}),u.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),u.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function lm(){const[o,s]=W.useState("home"),[i,c]=W.useState([]),[f,h]=W.useState(null),[y,M]=W.useState({kind:"project"}),[v,d]=W.useState([]),[g,b]=W.useState(0),p=W.useRef(f);p.current=f;const m=W.useRef(v);m.current=v;const S=W.useRef(g);S.current=g;const j=W.useRef(null),A=W.useRef(null),J=W.useRef(null),[q,B]=W.useState(null);W.useEffect(()=>{const Z=q?window.setTimeout(()=>B(null),2200):null;return()=>{Z&&window.clearTimeout(Z)}},[q]),W.useEffect(()=>{c(lr())},[]);function O(Z){const ee=JSON.stringify(Z);d([ee]),b(0)}function L(Z,ee=!0){if(!ee){h(w=>{if(!w)return w;const C=ii(w);return Z(C),C.updatedAt=_u(),C});return}const fe=p.current;if(!fe)return;const Me=ii(fe);Z(Me),Me.updatedAt=_u(),h(Me);const z=m.current,K=S.current;if(z.length===0){O(Me);return}const xe=JSON.stringify(Me);let we=[...z.slice(0,K+1),xe];const Re=50;we.length>Re&&(we=we.slice(we.length-Re)),d(we),b(we.length-1)}function P(){if(g<=0)return;const Z=g-1,ee=v[Z];b(Z),h(ya(JSON.parse(ee))),B("Undo")}function ae(){if(g>=v.length-1)return;const Z=g+1,ee=v[Z];b(Z),h(ya(JSON.parse(ee))),B("Redo")}function ie(){if(!f)return;const Z=ch(f);c(lr()),B(Z?"Saved":" ")}function ue(){if(!f)return;const Z=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),ee=URL.createObjectURL(Z),fe=document.createElement("a");fe.href=ee,fe.download=`${f.title||"tsumami"}.json`,fe.click(),URL.revokeObjectURL(ee),B("JSON exported")}function me(Z){const ee=new FileReader;ee.onload=()=>{try{const fe=JSON.parse(String(ee.result??""));if(!fe||typeof fe!="object"||!fe.flowers)throw new Error("Invalid JSON");const Me=ya(fe);h(Me),M({kind:"project"}),O(Me),s("editor"),B("Imported")}catch{B("Import failed")}},ee.readAsText(Z)}function qe(Z){const ee=ya(Z);h(ee),M({kind:"project"}),O(ee),s("editor")}function He(Z){return Z&&(Z.kind==="flower"||Z.kind==="layer"||Z.kind==="petal")?Z.flowerId:null}function Te(){if(!f)return;const Z=He(y);if(!Z)return;const ee=f.flowers.find(fe=>fe.id===Z);if(ee){A.current=ii(ee);try{navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:ee},null,2))}catch{}B("Flower copied")}}function Ve(){if(!f)return;const Z=A.current;if(!Z){B("Nothing to paste");return}const ee=lh(Z,{x:12,y:12});L(fe=>{fe.flowers.push(ee)},!0),M({kind:"flower",flowerId:ee.id}),B("Flower pasted")}function We(Z){if(!f)return;const ee=He(y);ee&&(L(fe=>{const Me=fe.flowers.findIndex(he=>he.id===ee);if(Me<0)return;const z=fe.flowers,K=z[Me];if(!K)return;if(z.splice(Me,1),Z==="front"){z.push(K);return}if(Z==="back"){z.unshift(K);return}if(Z==="forward"){const he=Fe(Me+1,0,z.length);z.splice(he,0,K);return}const xe=Fe(Me-1,0,z.length);z.splice(xe,0,K)},!0),B(Z==="front"?"Brought to front":Z==="back"?"Sent to back":Z==="forward"?"Moved forward":"Moved backward"))}W.useEffect(()=>{function Z(fe){const Me=fe;if(!Me)return!1;const z=String(Me.tagName||"").toLowerCase();return z==="input"||z==="textarea"||z==="select"||!!Me.isContentEditable}function ee(fe){if(!(Z(fe.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?fe.metaKey:fe.ctrlKey))){if(o==="editor"){if(fe.key.toLowerCase()==="c"){fe.preventDefault(),Te();return}if(fe.key.toLowerCase()==="v"){fe.preventDefault(),Ve();return}}fe.key.toLowerCase()==="z"&&(fe.preventDefault(),fe.shiftKey?ae():P()),fe.key.toLowerCase()==="s"&&(fe.preventDefault(),ie())}}return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[f,v,g,y,o]);const U=W.useMemo(()=>f?fh(f):null,[f]);return u.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[u.jsx(bh,{view:o,onNavigate:s,project:f,onSave:ie,onLoad:()=>s("home"),onImportJson:()=>J.current?.click(),onExportJson:ue,onExportSvg:()=>{const Z=document.querySelector('[data-testid="canvas-svg"]');Z&&f&&dh(Z,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const Z=document.querySelector('[data-testid="canvas-svg"]');Z&&f&&hh(Z,`${f.title||"tsumami"}.png`)}}),u.jsx("input",{ref:J,type:"file",accept:"application/json",className:"hidden",onChange:Z=>{const ee=Z.target.files?.[0];ee&&me(ee),Z.currentTarget.value=""}}),q&&u.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:q}),u.jsxs("main",{className:"flex-1",children:[o==="home"&&u.jsx(gh,{saved:i,onNew:()=>s("new"),onOpen:Z=>{const ee=ya(ii(Z));h(ee),M({kind:"project"}),O(ee),s("editor")},onDelete:Z=>{sh(Z),c(lr()),B("Deleted")}}),o==="new"&&u.jsx(yh,{onBack:()=>s("home"),onCreate:Z=>{const ee=nh({title:Z});qe(ee)}}),o==="editor"&&f&&u.jsx(Fh,{project:f,selection:y,setSelection:M,applyUpdate:L,onGoRecipe:()=>s("recipe"),onImport:me,dragRef:j,onCopyFlower:Te,onPasteFlower:Ve,onArrangeFlower:We,canPasteFlower:!!A.current,onUndo:P,onRedo:ae,canUndo:g>0,canRedo:g<v.length-1}),o==="recipe"&&f&&U&&u.jsx($h,{project:f,recipe:U,onBack:()=>s("editor"),onExportJson:ue}),o==="terms"&&u.jsx(em,{onBack:()=>s("home")}),o==="privacy"&&u.jsx(tm,{onBack:()=>s("home")}),(o==="editor"||o==="recipe")&&!f&&u.jsx("div",{className:"mx-auto max-w-3xl p-6",children:u.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[u.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),u.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(o==="home"||o==="new"||o==="terms"||o==="privacy")&&u.jsx(nm,{onNavigate:s})]})}class am extends W.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,i){console.error("[ErrorBoundary]",s,i.componentStack)}render(){return this.state.hasError?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:u.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[u.jsx("div",{className:"text-4xl mb-4",children:""}),u.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),u.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),u.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),u.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}Z1.createRoot(document.getElementById("root")).render(u.jsx(W.StrictMode,{children:u.jsx(am,{children:u.jsx(lm,{})})}));

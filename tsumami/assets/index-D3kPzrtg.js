(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const o of f)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function a(f){const o={};return f.integrity&&(o.integrity=f.integrity),f.referrerPolicy&&(o.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?o.credentials="include":f.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(f){if(f.ep)return;f.ep=!0;const o=a(f);fetch(f.href,o)}})();var $0={exports:{}},Pi={};var jd;function sh(){if(jd)return Pi;jd=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,f,o){var m=null;if(o!==void 0&&(m=""+o),f.key!==void 0&&(m=""+f.key),"key"in f){o={};for(var p in f)p!=="key"&&(o[p]=f[p])}else o=f;return f=o.ref,{$$typeof:u,type:i,key:m,ref:f!==void 0?f:null,props:o}}return Pi.Fragment=r,Pi.jsx=a,Pi.jsxs=a,Pi}var Md;function xh(){return Md||(Md=1,$0.exports=sh()),$0.exports}var s=xh(),es={exports:{}},De={};var zd;function oh(){if(zd)return De;zd=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),D=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=D&&z[D]||z["@@iterator"],typeof z=="function"?z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,j={};function L(z,q,I){this.props=z,this.context=q,this.refs=j,this.updater=I||N}L.prototype.isReactComponent={},L.prototype.setState=function(z,q){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,q,"setState")},L.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=L.prototype;function R(z,q,I){this.props=z,this.context=q,this.refs=j,this.updater=I||N}var G=R.prototype=new k;G.constructor=R,C(G,L.prototype),G.isPureReactComponent=!0;var U=Array.isArray;function W(){}var E={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function F(z,q,I){var Z=I.ref;return{$$typeof:u,type:z,key:q,ref:Z!==void 0?Z:null,props:I}}function Q(z,q){return F(z.type,q,z.props)}function X(z){return typeof z=="object"&&z!==null&&z.$$typeof===u}function _(z){var q={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(I){return q[I]})}var S=/\/+/g;function A(z,q){return typeof z=="object"&&z!==null&&z.key!=null?_(""+z.key):q.toString(36)}function M(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(W,W):(z.status="pending",z.then(function(q){z.status==="pending"&&(z.status="fulfilled",z.value=q)},function(q){z.status==="pending"&&(z.status="rejected",z.reason=q)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function w(z,q,I,Z,le){var xe=typeof z;(xe==="undefined"||xe==="boolean")&&(z=null);var de=!1;if(z===null)de=!0;else switch(xe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(z.$$typeof){case u:case r:de=!0;break;case y:return de=z._init,w(de(z._payload),q,I,Z,le)}}if(de)return le=le(z),de=Z===""?"."+A(z,0):Z,U(le)?(I="",de!=null&&(I=de.replace(S,"$&/")+"/"),w(le,q,I,"",function(Me){return Me})):le!=null&&(X(le)&&(le=Q(le,I+(le.key==null||z&&z.key===le.key?"":(""+le.key).replace(S,"$&/")+"/")+de)),q.push(le)),1;de=0;var oe=Z===""?".":Z+":";if(U(z))for(var pe=0;pe<z.length;pe++)Z=z[pe],xe=oe+A(Z,pe),de+=w(Z,q,I,xe,le);else if(pe=b(z),typeof pe=="function")for(z=pe.call(z),pe=0;!(Z=z.next()).done;)Z=Z.value,xe=oe+A(Z,pe++),de+=w(Z,q,I,xe,le);else if(xe==="object"){if(typeof z.then=="function")return w(M(z),q,I,Z,le);throw q=String(z),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return de}function B(z,q,I){if(z==null)return z;var Z=[],le=0;return w(z,Z,"","",function(xe){return q.call(I,xe,le++)}),Z}function H(z){if(z._status===-1){var q=z._result;q=q(),q.then(function(I){(z._status===0||z._status===-1)&&(z._status=1,z._result=I)},function(I){(z._status===0||z._status===-1)&&(z._status=2,z._result=I)}),z._status===-1&&(z._status=0,z._result=q)}if(z._status===1)return z._result.default;throw z._result}var Y=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},O={map:B,forEach:function(z,q,I){B(z,function(){q.apply(this,arguments)},I)},count:function(z){var q=0;return B(z,function(){q++}),q},toArray:function(z){return B(z,function(q){return q})||[]},only:function(z){if(!X(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return De.Activity=g,De.Children=O,De.Component=L,De.Fragment=a,De.Profiler=f,De.PureComponent=R,De.StrictMode=i,De.Suspense=h,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,De.__COMPILER_RUNTIME={__proto__:null,c:function(z){return E.H.useMemoCache(z)}},De.cache=function(z){return function(){return z.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(z,q,I){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Z=C({},z.props),le=z.key;if(q!=null)for(xe in q.key!==void 0&&(le=""+q.key),q)!V.call(q,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&q.ref===void 0||(Z[xe]=q[xe]);var xe=arguments.length-2;if(xe===1)Z.children=I;else if(1<xe){for(var de=Array(xe),oe=0;oe<xe;oe++)de[oe]=arguments[oe+2];Z.children=de}return F(z.type,le,Z)},De.createContext=function(z){return z={$$typeof:m,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},De.createElement=function(z,q,I){var Z,le={},xe=null;if(q!=null)for(Z in q.key!==void 0&&(xe=""+q.key),q)V.call(q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(le[Z]=q[Z]);var de=arguments.length-2;if(de===1)le.children=I;else if(1<de){for(var oe=Array(de),pe=0;pe<de;pe++)oe[pe]=arguments[pe+2];le.children=oe}if(z&&z.defaultProps)for(Z in de=z.defaultProps,de)le[Z]===void 0&&(le[Z]=de[Z]);return F(z,xe,le)},De.createRef=function(){return{current:null}},De.forwardRef=function(z){return{$$typeof:p,render:z}},De.isValidElement=X,De.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:H}},De.memo=function(z,q){return{$$typeof:d,type:z,compare:q===void 0?null:q}},De.startTransition=function(z){var q=E.T,I={};E.T=I;try{var Z=z(),le=E.S;le!==null&&le(I,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(W,Y)}catch(xe){Y(xe)}finally{q!==null&&I.types!==null&&(q.types=I.types),E.T=q}},De.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},De.use=function(z){return E.H.use(z)},De.useActionState=function(z,q,I){return E.H.useActionState(z,q,I)},De.useCallback=function(z,q){return E.H.useCallback(z,q)},De.useContext=function(z){return E.H.useContext(z)},De.useDebugValue=function(){},De.useDeferredValue=function(z,q){return E.H.useDeferredValue(z,q)},De.useEffect=function(z,q){return E.H.useEffect(z,q)},De.useEffectEvent=function(z){return E.H.useEffectEvent(z)},De.useId=function(){return E.H.useId()},De.useImperativeHandle=function(z,q,I){return E.H.useImperativeHandle(z,q,I)},De.useInsertionEffect=function(z,q){return E.H.useInsertionEffect(z,q)},De.useLayoutEffect=function(z,q){return E.H.useLayoutEffect(z,q)},De.useMemo=function(z,q){return E.H.useMemo(z,q)},De.useOptimistic=function(z,q){return E.H.useOptimistic(z,q)},De.useReducer=function(z,q,I){return E.H.useReducer(z,q,I)},De.useRef=function(z){return E.H.useRef(z)},De.useState=function(z){return E.H.useState(z)},De.useSyncExternalStore=function(z,q,I){return E.H.useSyncExternalStore(z,q,I)},De.useTransition=function(){return E.H.useTransition()},De.version="19.2.3",De}var Dd;function Ls(){return Dd||(Dd=1,es.exports=oh()),es.exports}var $=Ls(),ts={exports:{}},Fi={},ns={exports:{}},ls={};var Nd;function fh(){return Nd||(Nd=1,(function(u){function r(w,B){var H=w.length;w.push(B);e:for(;0<H;){var Y=H-1>>>1,O=w[Y];if(0<f(O,B))w[Y]=B,w[H]=O,H=Y;else break e}}function a(w){return w.length===0?null:w[0]}function i(w){if(w.length===0)return null;var B=w[0],H=w.pop();if(H!==B){w[0]=H;e:for(var Y=0,O=w.length,z=O>>>1;Y<z;){var q=2*(Y+1)-1,I=w[q],Z=q+1,le=w[Z];if(0>f(I,H))Z<O&&0>f(le,I)?(w[Y]=le,w[Z]=H,Y=Z):(w[Y]=I,w[q]=H,Y=q);else if(Z<O&&0>f(le,H))w[Y]=le,w[Z]=H,Y=Z;else break e}}return B}function f(w,B){var H=w.sortIndex-B.sortIndex;return H!==0?H:w.id-B.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var m=Date,p=m.now();u.unstable_now=function(){return m.now()-p}}var h=[],d=[],y=1,g=null,D=3,b=!1,N=!1,C=!1,j=!1,L=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function G(w){for(var B=a(d);B!==null;){if(B.callback===null)i(d);else if(B.startTime<=w)i(d),B.sortIndex=B.expirationTime,r(h,B);else break;B=a(d)}}function U(w){if(C=!1,G(w),!N)if(a(h)!==null)N=!0,W||(W=!0,_());else{var B=a(d);B!==null&&M(U,B.startTime-w)}}var W=!1,E=-1,V=5,F=-1;function Q(){return j?!0:!(u.unstable_now()-F<V)}function X(){if(j=!1,W){var w=u.unstable_now();F=w;var B=!0;try{e:{N=!1,C&&(C=!1,k(E),E=-1),b=!0;var H=D;try{t:{for(G(w),g=a(h);g!==null&&!(g.expirationTime>w&&Q());){var Y=g.callback;if(typeof Y=="function"){g.callback=null,D=g.priorityLevel;var O=Y(g.expirationTime<=w);if(w=u.unstable_now(),typeof O=="function"){g.callback=O,G(w),B=!0;break t}g===a(h)&&i(h),G(w)}else i(h);g=a(h)}if(g!==null)B=!0;else{var z=a(d);z!==null&&M(U,z.startTime-w),B=!1}}break e}finally{g=null,D=H,b=!1}B=void 0}}finally{B?_():W=!1}}}var _;if(typeof R=="function")_=function(){R(X)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,A=S.port2;S.port1.onmessage=X,_=function(){A.postMessage(null)}}else _=function(){L(X,0)};function M(w,B){E=L(function(){w(u.unstable_now())},B)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(w){w.callback=null},u.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<w?Math.floor(1e3/w):5},u.unstable_getCurrentPriorityLevel=function(){return D},u.unstable_next=function(w){switch(D){case 1:case 2:case 3:var B=3;break;default:B=D}var H=D;D=B;try{return w()}finally{D=H}},u.unstable_requestPaint=function(){j=!0},u.unstable_runWithPriority=function(w,B){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var H=D;D=w;try{return B()}finally{D=H}},u.unstable_scheduleCallback=function(w,B,H){var Y=u.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,w){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=H+O,w={id:y++,callback:B,priorityLevel:w,startTime:H,expirationTime:O,sortIndex:-1},H>Y?(w.sortIndex=H,r(d,w),a(h)===null&&w===a(d)&&(C?(k(E),E=-1):C=!0,M(U,H-Y))):(w.sortIndex=O,r(h,w),N||b||(N=!0,W||(W=!0,_()))),w},u.unstable_shouldYield=Q,u.unstable_wrapCallback=function(w){var B=D;return function(){var H=D;D=B;try{return w.apply(this,arguments)}finally{D=H}}}})(ls)),ls}var Ad;function dh(){return Ad||(Ad=1,ns.exports=fh()),ns.exports}var as={exports:{}},Ut={};var Td;function hh(){if(Td)return Ut;Td=1;var u=Ls();function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function o(h,d,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:g==null?null:""+g,children:h,containerInfo:d,implementation:y}}var m=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ut.createPortal=function(h,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return o(h,d,null,y)},Ut.flushSync=function(h){var d=m.T,y=i.p;try{if(m.T=null,i.p=2,h)return h()}finally{m.T=d,i.p=y,i.d.f()}},Ut.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Ut.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Ut.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var y=d.as,g=p(y,d.crossOrigin),D=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:D,fetchPriority:b}):y==="script"&&i.d.X(h,{crossOrigin:g,integrity:D,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ut.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=p(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Ut.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,g=p(y,d.crossOrigin);i.d.L(h,y,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ut.preloadModule=function(h,d){if(typeof h=="string")if(d){var y=p(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Ut.requestFormReset=function(h){i.d.r(h)},Ut.unstable_batchedUpdates=function(h,d){return h(d)},Ut.useFormState=function(h,d,y){return m.H.useFormState(h,d,y)},Ut.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ut.version="19.2.3",Ut}var Ld;function mh(){if(Ld)return as.exports;Ld=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),as.exports=hh(),as.exports}var Ed;function bh(){if(Ed)return Fi;Ed=1;var u=dh(),r=Ls(),a=mh();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var x=c.alternate;if(x===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===x.child){for(x=c.child;x;){if(x===n)return h(c),e;if(x===l)return h(c),t;x=x.sibling}throw Error(i(188))}if(n.return!==l.return)n=c,l=x;else{for(var v=!1,T=c.child;T;){if(T===n){v=!0,n=c,l=x;break}if(T===l){v=!0,l=c,n=x;break}T=T.sibling}if(!v){for(T=x.child;T;){if(T===n){v=!0,n=x,l=c;break}if(T===l){v=!0,l=x,n=c;break}T=T.sibling}if(!v)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,D=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function _(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function A(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case L:return"Profiler";case j:return"StrictMode";case U:return"Suspense";case W:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case R:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E:return t=e.displayName||null,t!==null?t:A(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return A(e(t))}catch{}}return null}var M=Array.isArray,w=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},Y=[],O=-1;function z(e){return{current:e}}function q(e){0>O||(e.current=Y[O],Y[O]=null,O--)}function I(e,t){O++,Y[O]=e.current,e.current=t}var Z=z(null),le=z(null),xe=z(null),de=z(null);function oe(e,t){switch(I(xe,t),I(le,e),I(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Jf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Jf(t),e=Wf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(Z),I(Z,e)}function pe(){q(Z),q(le),q(xe)}function Me(e){e.memoizedState!==null&&I(de,e);var t=Z.current,n=Wf(t,e.type);t!==n&&(I(le,e),I(Z,n))}function he(e){le.current===e&&(q(Z),q(le)),de.current===e&&(q(de),Vi._currentValue=H)}var Ie,ct;function dt(e){if(Ie===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ie=t&&t[1]||"",ct=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ie+e+ct}var st=!1;function Nt(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var ne=ae}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ae){ne=ae}e.call(ue.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),v=x[0],T=x[1];if(v&&T){var K=v.split(`
`),te=T.split(`
`);for(c=l=0;l<K.length&&!K[l].includes("DetermineComponentFrameRoot");)l++;for(;c<te.length&&!te[c].includes("DetermineComponentFrameRoot");)c++;if(l===K.length||c===te.length)for(l=K.length-1,c=te.length-1;1<=l&&0<=c&&K[l]!==te[c];)c--;for(;1<=l&&0<=c;l--,c--)if(K[l]!==te[c]){if(l!==1||c!==1)do if(l--,c--,0>c||K[l]!==te[c]){var ie=`
`+K[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=c);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?dt(n):""}function Lt(e,t){switch(e.tag){case 26:case 27:case 5:return dt(e.type);case 16:return dt("Lazy");case 13:return e.child!==t&&t!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return Nt(e.type,!1);case 11:return Nt(e.type.render,!1);case 1:return Nt(e.type,!0);case 31:return dt("Activity");default:return""}}function Et(e){try{var t="",n=null;do t+=Lt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ht=Object.prototype.hasOwnProperty,It=u.unstable_scheduleCallback,un=u.unstable_cancelCallback,Kn=u.unstable_shouldYield,Xn=u.unstable_requestPaint,Xe=u.unstable_now,pn=u.unstable_getCurrentPriorityLevel,yl=u.unstable_ImmediatePriority,Kl=u.unstable_UserBlockingPriority,Gn=u.unstable_NormalPriority,ba=u.unstable_LowPriority,kn=u.unstable_IdlePriority,ui=u.log,Xl=u.unstable_setDisableYieldValue,$n=null,Bt=null;function Ve(e){if(typeof ui=="function"&&Xl(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode($n,e)}catch{}}var ce=Math.clz32?Math.clz32:Se,Ee=Math.log,Be=Math.LN2;function Se(e){return e>>>=0,e===0?32:31-(Ee(e)/Be|0)|0}var ge=256,Ne=262144,ze=4194304;function ve(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Je(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,x=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~x,l!==0?c=ve(l):(v&=T,v!==0?c=ve(v):n||(n=T&~e,n!==0&&(c=ve(n))))):(T=l&~x,T!==0?c=ve(T):v!==0?c=ve(v):n||(n=l&~e,n!==0&&(c=ve(n)))),c===0?0:t!==0&&t!==c&&(t&x)===0&&(x=c&-c,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:c}function Oe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function We(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qe(){var e=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n,l,c,x){var v=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,K=e.expirationTimes,te=e.hiddenUpdates;for(n=v&~n;0<n;){var ie=31-ce(n),ue=1<<ie;T[ie]=0,K[ie]=-1;var ne=te[ie];if(ne!==null)for(te[ie]=null,ie=0;ie<ne.length;ie++){var ae=ne[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ue}l!==0&&je(e,l,0),x!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=x&~(v&~t))}function je(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ce(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function $e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-ce(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function et(e,t){var n=t&-t;return n=(n&42)!==0?1:tt(n),(n&(e.suspendedLanes|t))!==0?0:n}function tt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _n(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function va(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:gd(e.type))}function Vl(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}var Sn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Sn,Yt="__reactProps$"+Sn,fe="__reactContainer$"+Sn,ye="__reactEvents$"+Sn,Ue="__reactListeners$"+Sn,Vt="__reactHandles$"+Sn,pt="__reactResources$"+Sn,cn="__reactMarker$"+Sn;function ci(e){delete e[Mt],delete e[Yt],delete e[ye],delete e[Ue],delete e[Vt]}function ga(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fe]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nd(e);e!==null;){if(n=e[Mt])return n;e=nd(e)}return t}e=n,n=e.parentNode}return null}function ya(e){if(e=e[Mt]||e[fe]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function si(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function pa(e){var t=e[pt];return t||(t=e[pt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function At(e){e[cn]=!0}var Bs=new Set,qs={};function Jl(e,t){_a(e,t),_a(e+"Capture",t)}function _a(e,t){for(qs[e]=t,e=0;e<t.length;e++)Bs.add(t[e])}var e1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rs={},Gs={};function t1(e){return ht.call(Gs,e)?!0:ht.call(Rs,e)?!1:e1.test(e)?Gs[e]=!0:(Rs[e]=!0,!1)}function cr(e,t,n){if(t1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function sr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function el(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ks(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(v){n=""+v,x.call(this,v)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xu(e){if(!e._valueTracker){var t=ks(e)?"checked":"value";e._valueTracker=n1(e,t,""+e[t])}}function Os(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=ks(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var l1=/[\n"\\]/g;function wn(e){return e.replace(l1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vu(e,t,n,l,c,x,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Cn(t)):e.value!==""+Cn(t)&&(e.value=""+Cn(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Ju(e,v,Cn(t)):n!=null?Ju(e,v,Cn(n)):l!=null&&e.removeAttribute("value"),c==null&&x!=null&&(e.defaultChecked=!!x),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Cn(T):e.removeAttribute("name")}function Hs(e,t,n,l,c,x,v,T){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){Xu(e);return}n=n!=null?""+Cn(n):"",t=t!=null?""+Cn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Xu(e)}function Ju(e,t,n){t==="number"&&xr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Sa(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Is(e,t,n){if(t!=null&&(t=""+Cn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Cn(n):""}function Ys(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(M(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Cn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Xu(e)}function Ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var a1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Us(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||a1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Zs(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Us(e,c,l)}else for(var x in t)t.hasOwnProperty(x)&&Us(e,x,t[x])}function Wu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(e){return r1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function tl(){}var Qu=null;function Pu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wa=null,ja=null;function Ks(e){var t=ya(e);if(t&&(e=t.stateNode)){var n=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Yt]||null;if(!c)throw Error(i(90));Vu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Os(l)}break e;case"textarea":Is(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Sa(e,!!n.multiple,t,!1)}}}var Fu=!1;function Xs(e,t,n){if(Fu)return e(t,n);Fu=!0;try{var l=e(t);return l}finally{if(Fu=!1,(wa!==null||ja!==null)&&(Fr(),wa&&(t=wa,e=ja,ja=wa=null,Ks(t),e)))for(t=0;t<e.length;t++)Ks(e[t])}}function xi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$u=!1;if(nl)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){$u=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{$u=!1}var pl=null,ec=null,fr=null;function Vs(){if(fr)return fr;var e,t=ec,n=t.length,l,c="value"in pl?pl.value:pl.textContent,x=c.length;for(e=0;e<n&&t[e]===c[e];e++);var v=n-e;for(l=1;l<=v&&t[n-l]===c[x-l];l++);return fr=c.slice(e,1<l?1-l:void 0)}function dr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function Js(){return!1}function Jt(e){function t(n,l,c,x,v){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=x,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?hr:Js,this.isPropagationStopped=Js,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),t}var Wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=Jt(Wl),fi=g({},Wl,{view:0,detail:0}),u1=Jt(fi),tc,nc,di,br=g({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(tc=e.screenX-di.screenX,nc=e.screenY-di.screenY):nc=tc=0,di=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:nc}}),Ws=Jt(br),c1=g({},br,{dataTransfer:0}),s1=Jt(c1),x1=g({},fi,{relatedTarget:0}),lc=Jt(x1),o1=g({},Wl,{animationName:0,elapsedTime:0,pseudoElement:0}),f1=Jt(o1),d1=g({},Wl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h1=Jt(d1),m1=g({},Wl,{data:0}),Qs=Jt(m1),b1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g1[e])?!!t[e]:!1}function ac(){return y1}var p1=g({},fi,{key:function(e){if(e.key){var t=b1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_1=Jt(p1),S1=g({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ps=Jt(S1),C1=g({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),w1=Jt(C1),j1=g({},Wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),M1=Jt(j1),z1=g({},br,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D1=Jt(z1),N1=g({},Wl,{newState:0,oldState:0}),A1=Jt(N1),T1=[9,13,27,32],ic=nl&&"CompositionEvent"in window,hi=null;nl&&"documentMode"in document&&(hi=document.documentMode);var L1=nl&&"TextEvent"in window&&!hi,Fs=nl&&(!ic||hi&&8<hi&&11>=hi),$s=" ",ex=!1;function tx(e,t){switch(e){case"keyup":return T1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ma=!1;function E1(e,t){switch(e){case"compositionend":return nx(t);case"keypress":return t.which!==32?null:(ex=!0,$s);case"textInput":return e=t.data,e===$s&&ex?null:e;default:return null}}function B1(e,t){if(Ma)return e==="compositionend"||!ic&&tx(e,t)?(e=Vs(),fr=ec=pl=null,Ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fs&&t.locale!=="ko"?null:t.data;default:return null}}var q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!q1[e.type]:t==="textarea"}function ax(e,t,n,l){wa?ja?ja.push(l):ja=[l]:wa=l,t=iu(t,"onChange"),0<t.length&&(n=new mr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var mi=null,bi=null;function R1(e){Yf(e,0)}function vr(e){var t=si(e);if(Os(t))return e}function ix(e,t){if(e==="change")return t}var rx=!1;if(nl){var rc;if(nl){var uc="oninput"in document;if(!uc){var ux=document.createElement("div");ux.setAttribute("oninput","return;"),uc=typeof ux.oninput=="function"}rc=uc}else rc=!1;rx=rc&&(!document.documentMode||9<document.documentMode)}function cx(){mi&&(mi.detachEvent("onpropertychange",sx),bi=mi=null)}function sx(e){if(e.propertyName==="value"&&vr(bi)){var t=[];ax(t,bi,e,Pu(e)),Xs(R1,t)}}function G1(e,t,n){e==="focusin"?(cx(),mi=t,bi=n,mi.attachEvent("onpropertychange",sx)):e==="focusout"&&cx()}function k1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vr(bi)}function O1(e,t){if(e==="click")return vr(t)}function H1(e,t){if(e==="input"||e==="change")return vr(t)}function I1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:I1;function vi(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!ht.call(t,c)||!sn(e[c],t[c]))return!1}return!0}function xx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ox(e,t){var n=xx(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xx(n)}}function fx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xr(e.document)}return t}function cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Y1=nl&&"documentMode"in document&&11>=document.documentMode,za=null,sc=null,gi=null,xc=!1;function hx(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xc||za==null||za!==xr(l)||(l=za,"selectionStart"in l&&cc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gi&&vi(gi,l)||(gi=l,l=iu(sc,"onSelect"),0<l.length&&(t=new mr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=za)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Da={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionrun:Ql("Transition","TransitionRun"),transitionstart:Ql("Transition","TransitionStart"),transitioncancel:Ql("Transition","TransitionCancel"),transitionend:Ql("Transition","TransitionEnd")},oc={},mx={};nl&&(mx=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Pl(e){if(oc[e])return oc[e];if(!Da[e])return e;var t=Da[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mx)return oc[e]=t[n];return e}var bx=Pl("animationend"),vx=Pl("animationiteration"),gx=Pl("animationstart"),U1=Pl("transitionrun"),Z1=Pl("transitionstart"),K1=Pl("transitioncancel"),yx=Pl("transitionend"),px=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function On(e,t){px.set(e,t),Jl(t,[e])}var gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],Na=0,dc=0;function yr(){for(var e=Na,t=dc=Na=0;t<e;){var n=jn[t];jn[t++]=null;var l=jn[t];jn[t++]=null;var c=jn[t];jn[t++]=null;var x=jn[t];if(jn[t++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}x!==0&&_x(n,c,x)}}function pr(e,t,n,l){jn[Na++]=e,jn[Na++]=t,jn[Na++]=n,jn[Na++]=l,dc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function hc(e,t,n,l){return pr(e,t,n,l),_r(e)}function Fl(e,t){return pr(e,null,null,t),_r(e)}function _x(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(c=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,c&&t!==null&&(c=31-ce(n),e=x.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),x):null}function _r(e){if(50<Hi)throw Hi=0,C0=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Aa={};function X1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,l){return new X1(e,t,n,l)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ll(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Sx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sr(e,t,n,l,c,x){var v=0;if(l=e,typeof e=="function")mc(e)&&(v=1);else if(typeof e=="string")v=P2(e,n,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=xn(31,n,t,c),e.elementType=F,e.lanes=x,e;case C:return $l(n.children,c,x,t);case j:v=8,c|=24;break;case L:return e=xn(12,n,t,c|2),e.elementType=L,e.lanes=x,e;case U:return e=xn(13,n,t,c),e.elementType=U,e.lanes=x,e;case W:return e=xn(19,n,t,c),e.elementType=W,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:v=10;break e;case k:v=9;break e;case G:v=11;break e;case E:v=14;break e;case V:v=16,l=null;break e}v=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=xn(v,n,t,c),t.elementType=e,t.type=l,t.lanes=x,t}function $l(e,t,n,l){return e=xn(7,e,l,t),e.lanes=n,e}function bc(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Cx(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function vc(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var wx=new WeakMap;function Mn(e,t){if(typeof e=="object"&&e!==null){var n=wx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Et(t)},wx.set(e,t),t)}return{value:e,source:t,stack:Et(t)}}var Ta=[],La=0,Cr=null,yi=0,zn=[],Dn=0,_l=null,Vn=1,Jn="";function al(e,t){Ta[La++]=yi,Ta[La++]=Cr,Cr=e,yi=t}function jx(e,t,n){zn[Dn++]=Vn,zn[Dn++]=Jn,zn[Dn++]=_l,_l=e;var l=Vn;e=Jn;var c=32-ce(l)-1;l&=~(1<<c),n+=1;var x=32-ce(t)+c;if(30<x){var v=c-c%5;x=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Vn=1<<32-ce(t)+c|n<<c|l,Jn=x+e}else Vn=1<<x|n<<c|l,Jn=e}function gc(e){e.return!==null&&(al(e,1),jx(e,1,0))}function yc(e){for(;e===Cr;)Cr=Ta[--La],Ta[La]=null,yi=Ta[--La],Ta[La]=null;for(;e===_l;)_l=zn[--Dn],zn[Dn]=null,Jn=zn[--Dn],zn[Dn]=null,Vn=zn[--Dn],zn[Dn]=null}function Mx(e,t){zn[Dn++]=Vn,zn[Dn++]=Jn,zn[Dn++]=_l,Vn=t.id,Jn=t.overflow,_l=e}var qt=null,xt=null,He=!1,Sl=null,Nn=!1,pc=Error(i(519));function Cl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pi(Mn(t,e)),pc}function zx(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Mt]=e,t[Yt]=l,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<Yi.length;n++)Re(Yi[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Hs(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Ys(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Xf(t.textContent,n)?(l.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),l.onScroll!=null&&Re("scroll",t),l.onScrollEnd!=null&&Re("scrollend",t),l.onClick!=null&&(t.onclick=tl),t=!0):t=!1,t||Cl(e,!0)}function Dx(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:qt=qt.return}}function Ea(e){if(e!==qt)return!1;if(!He)return Dx(e),He=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||k0(e.type,e.memoizedProps)),n=!n),n&&xt&&Cl(e),Dx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));xt=td(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));xt=td(e)}else t===27?(t=xt,Gl(e.type)?(e=U0,U0=null,xt=e):xt=t):xt=qt?Tn(e.stateNode.nextSibling):null;return!0}function ea(){xt=qt=null,He=!1}function _c(){var e=Sl;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),Sl=null),e}function pi(e){Sl===null?Sl=[e]:Sl.push(e)}var Sc=z(null),ta=null,il=null;function wl(e,t,n){I(Sc,t._currentValue),t._currentValue=n}function rl(e){e._currentValue=Sc.current,q(Sc)}function Cc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function wc(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var x=c.dependencies;if(x!==null){var v=c.child;x=x.firstContext;e:for(;x!==null;){var T=x;x=c;for(var K=0;K<t.length;K++)if(T.context===t[K]){x.lanes|=n,T=x.alternate,T!==null&&(T.lanes|=n),Cc(x.return,n,e),l||(v=null);break e}x=T.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(i(341));v.lanes|=n,x=v.alternate,x!==null&&(x.lanes|=n),Cc(v,n,e),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===e){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Ba(e,t,n,l){e=null;for(var c=t,x=!1;c!==null;){if(!x){if((c.flags&524288)!==0)x=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var T=c.type;sn(c.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(c===de.current){if(v=c.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Vi):e=[Vi])}c=c.return}e!==null&&wc(t,e,n,l),t.flags|=262144}function wr(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){ta=e,il=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rt(e){return Nx(ta,e)}function jr(e,t){return ta===null&&na(e),Nx(e,t)}function Nx(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},il===null){if(e===null)throw Error(i(308));il=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else il=il.next=t;return n}var V1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},J1=u.unstable_scheduleCallback,W1=u.unstable_NormalPriority,_t={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new V1,data:new Map,refCount:0}}function _i(e){e.refCount--,e.refCount===0&&J1(W1,function(){e.controller.abort()})}var Si=null,Mc=0,qa=0,Ra=null;function Q1(e,t){if(Si===null){var n=Si=[];Mc=0,qa=N0(),Ra={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Mc++,t.then(Ax,Ax),t}function Ax(){if(--Mc===0&&Si!==null){Ra!==null&&(Ra.status="fulfilled");var e=Si;Si=null,qa=0,Ra=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function P1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Tx=w.S;w.S=function(e,t){bf=Xe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Q1(e,t),Tx!==null&&Tx(e,t)};var la=z(null);function zc(){var e=la.current;return e!==null?e:ut.pooledCache}function Mr(e,t){t===null?I(la,la.current):I(la,t.pool)}function Lx(){var e=zc();return e===null?null:{parent:_t._currentValue,pool:e}}var Ga=Error(i(460)),Dc=Error(i(474)),zr=Error(i(542)),Dr={then:function(){}};function Ex(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bx(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(tl,tl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rx(e),e;default:if(typeof t.status=="string")t.then(tl,tl);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rx(e),e}throw ia=t,Ga}}function aa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ia=n,Ga):n}}var ia=null;function qx(){if(ia===null)throw Error(i(459));var e=ia;return ia=null,e}function Rx(e){if(e===Ga||e===zr)throw Error(i(483))}var ka=null,Ci=0;function Nr(e){var t=Ci;return Ci+=1,ka===null&&(ka=[]),Bx(ka,e,t)}function wi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ar(e,t){throw t.$$typeof===D?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gx(e){function t(P,J){if(e){var ee=P.deletions;ee===null?(P.deletions=[J],P.flags|=16):ee.push(J)}}function n(P,J){if(!e)return null;for(;J!==null;)t(P,J),J=J.sibling;return null}function l(P){for(var J=new Map;P!==null;)P.key!==null?J.set(P.key,P):J.set(P.index,P),P=P.sibling;return J}function c(P,J){return P=ll(P,J),P.index=0,P.sibling=null,P}function x(P,J,ee){return P.index=ee,e?(ee=P.alternate,ee!==null?(ee=ee.index,ee<J?(P.flags|=67108866,J):ee):(P.flags|=67108866,J)):(P.flags|=1048576,J)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,J,ee,re){return J===null||J.tag!==6?(J=bc(ee,P.mode,re),J.return=P,J):(J=c(J,ee),J.return=P,J)}function K(P,J,ee,re){var _e=ee.type;return _e===C?ie(P,J,ee.props.children,re,ee.key):J!==null&&(J.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===V&&aa(_e)===J.type)?(J=c(J,ee.props),wi(J,ee),J.return=P,J):(J=Sr(ee.type,ee.key,ee.props,null,P.mode,re),wi(J,ee),J.return=P,J)}function te(P,J,ee,re){return J===null||J.tag!==4||J.stateNode.containerInfo!==ee.containerInfo||J.stateNode.implementation!==ee.implementation?(J=vc(ee,P.mode,re),J.return=P,J):(J=c(J,ee.children||[]),J.return=P,J)}function ie(P,J,ee,re,_e){return J===null||J.tag!==7?(J=$l(ee,P.mode,re,_e),J.return=P,J):(J=c(J,ee),J.return=P,J)}function ue(P,J,ee){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=bc(""+J,P.mode,ee),J.return=P,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return ee=Sr(J.type,J.key,J.props,null,P.mode,ee),wi(ee,J),ee.return=P,ee;case N:return J=vc(J,P.mode,ee),J.return=P,J;case V:return J=aa(J),ue(P,J,ee)}if(M(J)||_(J))return J=$l(J,P.mode,ee,null),J.return=P,J;if(typeof J.then=="function")return ue(P,Nr(J),ee);if(J.$$typeof===R)return ue(P,jr(P,J),ee);Ar(P,J)}return null}function ne(P,J,ee,re){var _e=J!==null?J.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return _e!==null?null:T(P,J,""+ee,re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===_e?K(P,J,ee,re):null;case N:return ee.key===_e?te(P,J,ee,re):null;case V:return ee=aa(ee),ne(P,J,ee,re)}if(M(ee)||_(ee))return _e!==null?null:ie(P,J,ee,re,null);if(typeof ee.then=="function")return ne(P,J,Nr(ee),re);if(ee.$$typeof===R)return ne(P,J,jr(P,ee),re);Ar(P,ee)}return null}function ae(P,J,ee,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return P=P.get(ee)||null,T(J,P,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return P=P.get(re.key===null?ee:re.key)||null,K(J,P,re,_e);case N:return P=P.get(re.key===null?ee:re.key)||null,te(J,P,re,_e);case V:return re=aa(re),ae(P,J,ee,re,_e)}if(M(re)||_(re))return P=P.get(ee)||null,ie(J,P,re,_e,null);if(typeof re.then=="function")return ae(P,J,ee,Nr(re),_e);if(re.$$typeof===R)return ae(P,J,ee,jr(J,re),_e);Ar(J,re)}return null}function me(P,J,ee,re){for(var _e=null,Ze=null,be=J,Le=J=0,ke=null;be!==null&&Le<ee.length;Le++){be.index>Le?(ke=be,be=null):ke=be.sibling;var Ke=ne(P,be,ee[Le],re);if(Ke===null){be===null&&(be=ke);break}e&&be&&Ke.alternate===null&&t(P,be),J=x(Ke,J,Le),Ze===null?_e=Ke:Ze.sibling=Ke,Ze=Ke,be=ke}if(Le===ee.length)return n(P,be),He&&al(P,Le),_e;if(be===null){for(;Le<ee.length;Le++)be=ue(P,ee[Le],re),be!==null&&(J=x(be,J,Le),Ze===null?_e=be:Ze.sibling=be,Ze=be);return He&&al(P,Le),_e}for(be=l(be);Le<ee.length;Le++)ke=ae(be,P,Le,ee[Le],re),ke!==null&&(e&&ke.alternate!==null&&be.delete(ke.key===null?Le:ke.key),J=x(ke,J,Le),Ze===null?_e=ke:Ze.sibling=ke,Ze=ke);return e&&be.forEach(function(Yl){return t(P,Yl)}),He&&al(P,Le),_e}function Ce(P,J,ee,re){if(ee==null)throw Error(i(151));for(var _e=null,Ze=null,be=J,Le=J=0,ke=null,Ke=ee.next();be!==null&&!Ke.done;Le++,Ke=ee.next()){be.index>Le?(ke=be,be=null):ke=be.sibling;var Yl=ne(P,be,Ke.value,re);if(Yl===null){be===null&&(be=ke);break}e&&be&&Yl.alternate===null&&t(P,be),J=x(Yl,J,Le),Ze===null?_e=Yl:Ze.sibling=Yl,Ze=Yl,be=ke}if(Ke.done)return n(P,be),He&&al(P,Le),_e;if(be===null){for(;!Ke.done;Le++,Ke=ee.next())Ke=ue(P,Ke.value,re),Ke!==null&&(J=x(Ke,J,Le),Ze===null?_e=Ke:Ze.sibling=Ke,Ze=Ke);return He&&al(P,Le),_e}for(be=l(be);!Ke.done;Le++,Ke=ee.next())Ke=ae(be,P,Le,Ke.value,re),Ke!==null&&(e&&Ke.alternate!==null&&be.delete(Ke.key===null?Le:Ke.key),J=x(Ke,J,Le),Ze===null?_e=Ke:Ze.sibling=Ke,Ze=Ke);return e&&be.forEach(function(ch){return t(P,ch)}),He&&al(P,Le),_e}function rt(P,J,ee,re){if(typeof ee=="object"&&ee!==null&&ee.type===C&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var _e=ee.key;J!==null;){if(J.key===_e){if(_e=ee.type,_e===C){if(J.tag===7){n(P,J.sibling),re=c(J,ee.props.children),re.return=P,P=re;break e}}else if(J.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===V&&aa(_e)===J.type){n(P,J.sibling),re=c(J,ee.props),wi(re,ee),re.return=P,P=re;break e}n(P,J);break}else t(P,J);J=J.sibling}ee.type===C?(re=$l(ee.props.children,P.mode,re,ee.key),re.return=P,P=re):(re=Sr(ee.type,ee.key,ee.props,null,P.mode,re),wi(re,ee),re.return=P,P=re)}return v(P);case N:e:{for(_e=ee.key;J!==null;){if(J.key===_e)if(J.tag===4&&J.stateNode.containerInfo===ee.containerInfo&&J.stateNode.implementation===ee.implementation){n(P,J.sibling),re=c(J,ee.children||[]),re.return=P,P=re;break e}else{n(P,J);break}else t(P,J);J=J.sibling}re=vc(ee,P.mode,re),re.return=P,P=re}return v(P);case V:return ee=aa(ee),rt(P,J,ee,re)}if(M(ee))return me(P,J,ee,re);if(_(ee)){if(_e=_(ee),typeof _e!="function")throw Error(i(150));return ee=_e.call(ee),Ce(P,J,ee,re)}if(typeof ee.then=="function")return rt(P,J,Nr(ee),re);if(ee.$$typeof===R)return rt(P,J,jr(P,ee),re);Ar(P,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,J!==null&&J.tag===6?(n(P,J.sibling),re=c(J,ee),re.return=P,P=re):(n(P,J),re=bc(ee,P.mode,re),re.return=P,P=re),v(P)):n(P,J)}return function(P,J,ee,re){try{Ci=0;var _e=rt(P,J,ee,re);return ka=null,_e}catch(be){if(be===Ga||be===zr)throw be;var Ze=xn(29,be,null,P.mode);return Ze.lanes=re,Ze.return=P,Ze}}}var ra=Gx(!0),kx=Gx(!1),jl=!1;function Nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ml(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Pe&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=_r(e),_x(e,null,n),t}return pr(e,l,t,n),_r(e)}function ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,$e(e,n)}}function Tc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?c=x=v:x=x.next=v,n=n.next}while(n!==null);x===null?c=x=t:x=x.next=t}else c=x=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lc=!1;function Mi(){if(Lc){var e=Ra;if(e!==null)throw e}}function zi(e,t,n,l){Lc=!1;var c=e.updateQueue;jl=!1;var x=c.firstBaseUpdate,v=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var K=T,te=K.next;K.next=null,v===null?x=te:v.next=te,v=K;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==v&&(T===null?ie.firstBaseUpdate=te:T.next=te,ie.lastBaseUpdate=K))}if(x!==null){var ue=c.baseState;v=0,ie=te=K=null,T=x;do{var ne=T.lane&-536870913,ae=ne!==T.lane;if(ae?(Ge&ne)===ne:(l&ne)===ne){ne!==0&&ne===qa&&(Lc=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=e,Ce=T;ne=t;var rt=n;switch(Ce.tag){case 1:if(me=Ce.payload,typeof me=="function"){ue=me.call(rt,ue,ne);break e}ue=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ce.payload,ne=typeof me=="function"?me.call(rt,ue,ne):me,ne==null)break e;ue=g({},ue,ne);break e;case 2:jl=!0}}ne=T.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=c.callbacks,ae===null?c.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(te=ie=ae,K=ue):ie=ie.next=ae,v|=ne;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;ae=T,T=ae.next,ae.next=null,c.lastBaseUpdate=ae,c.shared.pending=null}}while(!0);ie===null&&(K=ue),c.baseState=K,c.firstBaseUpdate=te,c.lastBaseUpdate=ie,x===null&&(c.shared.lanes=0),Ll|=v,e.lanes=v,e.memoizedState=ue}}function Ox(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Hx(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ox(n[e],t)}var Oa=z(null),Tr=z(0);function Ix(e,t){e=ml,I(Tr,e),I(Oa,t),ml=e|t.baseLanes}function Ec(){I(Tr,ml),I(Oa,Oa.current)}function Bc(){ml=Tr.current,q(Oa),q(Tr)}var on=z(null),An=null;function Dl(e){var t=e.alternate;I(gt,gt.current&1),I(on,e),An===null&&(t===null||Oa.current!==null||t.memoizedState!==null)&&(An=e)}function qc(e){I(gt,gt.current),I(on,e),An===null&&(An=e)}function Yx(e){e.tag===22?(I(gt,gt.current),I(on,e),An===null&&(An=e)):Nl()}function Nl(){I(gt,gt.current),I(on,on.current)}function fn(e){q(on),An===e&&(An=null),q(gt)}var gt=z(0);function Lr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||I0(n)||Y0(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=0,Te=null,at=null,St=null,Er=!1,Ha=!1,ua=!1,Br=0,Di=0,Ia=null,F1=0;function mt(){throw Error(i(321))}function Rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function Gc(e,t,n,l,c,x){return ul=x,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?Mo:Fc,ua=!1,x=n(l,c),ua=!1,Ha&&(x=Zx(t,n,l,c)),Ux(e),x}function Ux(e){w.H=Ti;var t=at!==null&&at.next!==null;if(ul=0,St=at=Te=null,Er=!1,Di=0,Ia=null,t)throw Error(i(300));e===null||Ct||(e=e.dependencies,e!==null&&wr(e)&&(Ct=!0))}function Zx(e,t,n,l){Te=e;var c=0;do{if(Ha&&(Ia=null),Di=0,Ha=!1,25<=c)throw Error(i(301));if(c+=1,St=at=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}w.H=zo,x=t(n,l)}while(Ha);return x}function $1(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?Ni(t):t,e=e.useState()[0],(at!==null?at.memoizedState:null)!==e&&(Te.flags|=1024),t}function kc(){var e=Br!==0;return Br=0,e}function Oc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hc(e){if(Er){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Er=!1}ul=0,St=at=Te=null,Ha=!1,Di=Br=0,Ia=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Te.memoizedState=St=e:St=St.next=e,St}function yt(){if(at===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=St===null?Te.memoizedState:St.next;if(t!==null)St=t,at=e;else{if(e===null)throw Te.alternate===null?Error(i(467)):Error(i(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},St===null?Te.memoizedState=St=e:St=St.next=e}return St}function qr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ni(e){var t=Di;return Di+=1,Ia===null&&(Ia=[]),e=Bx(Ia,e,t),t=Te,(St===null?t.memoizedState:St.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?Mo:Fc),e}function Rr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ni(e);if(e.$$typeof===R)return Rt(e)}throw Error(i(438,String(e)))}function Ic(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qr(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Q;return t.index++,n}function cl(e,t){return typeof t=="function"?t(e):t}function Gr(e){var t=yt();return Yc(t,at,e)}function Yc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=e.baseQueue,x=l.pending;if(x!==null){if(c!==null){var v=c.next;c.next=x.next,x.next=v}t.baseQueue=c=x,l.pending=null}if(x=e.baseState,c===null)e.memoizedState=x;else{t=c.next;var T=v=null,K=null,te=t,ie=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(Ge&ue)===ue:(ul&ue)===ue){var ne=te.revertLane;if(ne===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===qa&&(ie=!0);else if((ul&ne)===ne){te=te.next,ne===qa&&(ie=!0);continue}else ue={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(T=K=ue,v=x):K=K.next=ue,Te.lanes|=ne,Ll|=ne;ue=te.action,ua&&n(x,ue),x=te.hasEagerState?te.eagerState:n(x,ue)}else ne={lane:ue,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(T=K=ne,v=x):K=K.next=ne,Te.lanes|=ue,Ll|=ue;te=te.next}while(te!==null&&te!==t);if(K===null?v=x:K.next=T,!sn(x,e.memoizedState)&&(Ct=!0,ie&&(n=Ra,n!==null)))throw n;e.memoizedState=x,e.baseState=v,e.baseQueue=K,l.lastRenderedState=x}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Uc(e){var t=yt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,x=t.memoizedState;if(c!==null){n.pending=null;var v=c=c.next;do x=e(x,v.action),v=v.next;while(v!==c);sn(x,t.memoizedState)||(Ct=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Kx(e,t,n){var l=Te,c=yt(),x=He;if(x){if(n===void 0)throw Error(i(407));n=n()}else n=t();var v=!sn((at||c).memoizedState,n);if(v&&(c.memoizedState=n,Ct=!0),c=c.queue,Xc(Jx.bind(null,l,c,e),[e]),c.getSnapshot!==t||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},Vx.bind(null,l,c,n,t),null),ut===null)throw Error(i(349));x||(ul&127)!==0||Xx(l,t,n)}return n}function Xx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=qr(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vx(e,t,n,l){t.value=n,t.getSnapshot=l,Wx(t)&&Qx(e)}function Jx(e,t,n){return n(function(){Wx(t)&&Qx(e)})}function Wx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function Qx(e){var t=Fl(e,2);t!==null&&$t(t,e,2)}function Zc(e){var t=Xt();if(typeof e=="function"){var n=e;if(e=n(),ua){Ve(!0);try{n()}finally{Ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:e},t}function Px(e,t,n,l){return e.baseState=n,Yc(e,at,typeof l=="function"?l:cl)}function e2(e,t,n,l,c){if(Hr(e))throw Error(i(485));if(e=t.action,e!==null){var x={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){x.listeners.push(v)}};w.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,Fx(t,x)):(x.next=n.next,t.pending=n.next=x)}}function Fx(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var x=w.T,v={};w.T=v;try{var T=n(c,l),K=w.S;K!==null&&K(v,T),$x(e,t,T)}catch(te){Kc(e,t,te)}finally{x!==null&&v.types!==null&&(x.types=v.types),w.T=x}}else try{x=n(c,l),$x(e,t,x)}catch(te){Kc(e,t,te)}}function $x(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){eo(e,t,l)},function(l){return Kc(e,t,l)}):eo(e,t,n)}function eo(e,t,n){t.status="fulfilled",t.value=n,to(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Fx(e,n)))}function Kc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,to(t),t=t.next;while(t!==l)}e.action=null}function to(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function no(e,t){return t}function lo(e,t){if(He){var n=ut.formState;if(n!==null){e:{var l=Te;if(He){if(xt){t:{for(var c=xt,x=Nn;c.nodeType!==8;){if(!x){c=null;break t}if(c=Tn(c.nextSibling),c===null){c=null;break t}}x=c.data,c=x==="F!"||x==="F"?c:null}if(c){xt=Tn(c.nextSibling),l=c.data==="F!";break e}}Cl(l)}l=!1}l&&(t=n[0])}}return n=Xt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:t},n.queue=l,n=Co.bind(null,Te,l),l.dispatch=n,l=Zc(!1),x=Pc.bind(null,Te,!1,l.queue),l=Xt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=e2.bind(null,Te,c,x,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function ao(e){var t=yt();return io(t,at,e)}function io(e,t,n){if(t=Yc(e,t,no)[0],e=Gr(cl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ni(t)}catch(v){throw v===Ga?zr:v}else l=t;t=yt();var c=t.queue,x=c.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Ya(9,{destroy:void 0},t2.bind(null,c,n),null)),[l,x,e]}function t2(e,t){e.action=t}function ro(e){var t=yt(),n=at;if(n!==null)return io(t,n,e);yt(),t=t.memoizedState,n=yt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ya(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=qr(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function uo(){return yt().memoizedState}function kr(e,t,n,l){var c=Xt();Te.flags|=e,c.memoizedState=Ya(1|t,{destroy:void 0},n,l===void 0?null:l)}function Or(e,t,n,l){var c=yt();l=l===void 0?null:l;var x=c.memoizedState.inst;at!==null&&l!==null&&Rc(l,at.memoizedState.deps)?c.memoizedState=Ya(t,x,n,l):(Te.flags|=e,c.memoizedState=Ya(1|t,x,n,l))}function co(e,t){kr(8390656,8,e,t)}function Xc(e,t){Or(2048,8,e,t)}function n2(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=qr(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function so(e){var t=yt().memoizedState;return n2({ref:t,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function xo(e,t){return Or(4,2,e,t)}function oo(e,t){return Or(4,4,e,t)}function fo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ho(e,t,n){n=n!=null?n.concat([e]):null,Or(4,4,fo.bind(null,t,e),n)}function Vc(){}function mo(e,t){var n=yt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Rc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function bo(e,t){var n=yt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Rc(t,l[1]))return l[0];if(l=e(),ua){Ve(!0);try{e()}finally{Ve(!1)}}return n.memoizedState=[l,t],l}function Jc(e,t,n){return n===void 0||(ul&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=gf(),Te.lanes|=e,Ll|=e,n)}function vo(e,t,n,l){return sn(n,t)?n:Oa.current!==null?(e=Jc(e,n,l),sn(e,t)||(Ct=!0),e):(ul&42)===0||(ul&1073741824)!==0&&(Ge&261930)===0?(Ct=!0,e.memoizedState=n):(e=gf(),Te.lanes|=e,Ll|=e,t)}function go(e,t,n,l,c){var x=B.p;B.p=x!==0&&8>x?x:8;var v=w.T,T={};w.T=T,Pc(e,!1,t,n);try{var K=c(),te=w.S;if(te!==null&&te(T,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ie=P1(K,l);Ai(e,t,ie,mn(e))}else Ai(e,t,l,mn(e))}catch(ue){Ai(e,t,{then:function(){},status:"rejected",reason:ue},mn())}finally{B.p=x,v!==null&&T.types!==null&&(v.types=T.types),w.T=v}}function l2(){}function Wc(e,t,n,l){if(e.tag!==5)throw Error(i(476));var c=yo(e).queue;go(e,c,t,H,n===null?l2:function(){return po(e),n(l)})}function yo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:H},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function po(e){var t=yo(e);t.next===null&&(t=e.alternate.memoizedState),Ai(e,t.next.queue,{},mn())}function Qc(){return Rt(Vi)}function _o(){return yt().memoizedState}function So(){return yt().memoizedState}function a2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mn();e=Ml(n);var l=zl(t,e,n);l!==null&&($t(l,t,n),ji(l,t,n)),t={cache:jc()},e.payload=t;return}t=t.return}}function i2(e,t,n){var l=mn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Hr(e)?wo(t,n):(n=hc(e,t,n,l),n!==null&&($t(n,e,l),jo(n,t,l)))}function Co(e,t,n){var l=mn();Ai(e,t,n,l)}function Ai(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hr(e))wo(t,c);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var v=t.lastRenderedState,T=x(v,n);if(c.hasEagerState=!0,c.eagerState=T,sn(T,v))return pr(e,t,c,0),ut===null&&yr(),!1}catch{}if(n=hc(e,t,c,l),n!==null)return $t(n,e,l),jo(n,t,l),!0}return!1}function Pc(e,t,n,l){if(l={lane:2,revertLane:N0(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hr(e)){if(t)throw Error(i(479))}else t=hc(e,n,l,2),t!==null&&$t(t,e,2)}function Hr(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function wo(e,t){Ha=Er=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,$e(e,n)}}var Ti={readContext:Rt,use:Rr,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Ti.useEffectEvent=mt;var Mo={readContext:Rt,use:Rr,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:co,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,kr(4194308,4,fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kr(4194308,4,e,t)},useInsertionEffect:function(e,t){kr(4,2,e,t)},useMemo:function(e,t){var n=Xt();t=t===void 0?null:t;var l=e();if(ua){Ve(!0);try{e()}finally{Ve(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Xt();if(n!==void 0){var c=n(t);if(ua){Ve(!0);try{n(t)}finally{Ve(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=i2.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Zc(e);var t=e.queue,n=Co.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Vc,useDeferredValue:function(e,t){var n=Xt();return Jc(n,e,t)},useTransition:function(){var e=Zc(!1);return e=go.bind(null,Te,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,c=Xt();if(He){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ut===null)throw Error(i(349));(Ge&127)!==0||Xx(l,t,n)}c.memoizedState=n;var x={value:n,getSnapshot:t};return c.queue=x,co(Jx.bind(null,l,x,e),[e]),l.flags|=2048,Ya(9,{destroy:void 0},Vx.bind(null,l,x,n,t),null),n},useId:function(){var e=Xt(),t=ut.identifierPrefix;if(He){var n=Jn,l=Vn;n=(l&~(1<<32-ce(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=F1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Qc,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Pc.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ic,useCacheRefresh:function(){return Xt().memoizedState=a2.bind(null,Te)},useEffectEvent:function(e){var t=Xt(),n={impl:e};return t.memoizedState=n,function(){if((Pe&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Fc={readContext:Rt,use:Rr,useCallback:mo,useContext:Rt,useEffect:Xc,useImperativeHandle:ho,useInsertionEffect:xo,useLayoutEffect:oo,useMemo:bo,useReducer:Gr,useRef:uo,useState:function(){return Gr(cl)},useDebugValue:Vc,useDeferredValue:function(e,t){var n=yt();return vo(n,at.memoizedState,e,t)},useTransition:function(){var e=Gr(cl)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Kx,useId:_o,useHostTransitionStatus:Qc,useFormState:ao,useActionState:ao,useOptimistic:function(e,t){var n=yt();return Px(n,at,e,t)},useMemoCache:Ic,useCacheRefresh:So};Fc.useEffectEvent=so;var zo={readContext:Rt,use:Rr,useCallback:mo,useContext:Rt,useEffect:Xc,useImperativeHandle:ho,useInsertionEffect:xo,useLayoutEffect:oo,useMemo:bo,useReducer:Uc,useRef:uo,useState:function(){return Uc(cl)},useDebugValue:Vc,useDeferredValue:function(e,t){var n=yt();return at===null?Jc(n,e,t):vo(n,at.memoizedState,e,t)},useTransition:function(){var e=Uc(cl)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Kx,useId:_o,useHostTransitionStatus:Qc,useFormState:ro,useActionState:ro,useOptimistic:function(e,t){var n=yt();return at!==null?Px(n,at,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ic,useCacheRefresh:So};zo.useEffectEvent=so;function $c(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var e0={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=mn(),c=Ml(l);c.payload=t,n!=null&&(c.callback=n),t=zl(e,c,l),t!==null&&($t(t,e,l),ji(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=mn(),c=Ml(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=zl(e,c,l),t!==null&&($t(t,e,l),ji(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),l=Ml(n);l.tag=2,t!=null&&(l.callback=t),t=zl(e,l,n),t!==null&&($t(t,e,n),ji(t,e,n))}};function Do(e,t,n,l,c,x,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,v):t.prototype&&t.prototype.isPureReactComponent?!vi(n,l)||!vi(c,x):!0}function No(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&e0.enqueueReplaceState(t,t.state,null)}function ca(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=g({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Ao(e){gr(e)}function To(e){console.error(e)}function Lo(e){gr(e)}function Ir(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Eo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function t0(e,t,n){return n=Ml(n),n.tag=3,n.payload={element:null},n.callback=function(){Ir(e,t)},n}function Bo(e){return e=Ml(e),e.tag=3,e}function qo(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var x=l.value;e.payload=function(){return c(x)},e.callback=function(){Eo(t,n,l)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Eo(t,n,l),typeof c!="function"&&(El===null?El=new Set([this]):El.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function r2(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ba(t,n,c,!0),n=on.current,n!==null){switch(n.tag){case 31:case 13:return An===null?$r():n.alternate===null&&bt===0&&(bt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),M0(e,l,c)),!1;case 22:return n.flags|=65536,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),M0(e,l,c)),!1}throw Error(i(435,n.tag))}return M0(e,l,c),$r(),!1}if(He)return t=on.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==pc&&(e=Error(i(422),{cause:l}),pi(Mn(e,n)))):(l!==pc&&(t=Error(i(423),{cause:l}),pi(Mn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Mn(l,n),c=t0(e.stateNode,l,c),Tc(e,c),bt!==4&&(bt=2)),!1;var x=Error(i(520),{cause:l});if(x=Mn(x,n),Oi===null?Oi=[x]:Oi.push(x),bt!==4&&(bt=2),t===null)return!0;l=Mn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=t0(n.stateNode,l,e),Tc(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(El===null||!El.has(x))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Bo(c),qo(c,e,n,l),Tc(n,c),!1}n=n.return}while(n!==null);return!1}var n0=Error(i(461)),Ct=!1;function Gt(e,t,n,l){t.child=e===null?kx(t,null,n,l):ra(t,e.child,n,l)}function Ro(e,t,n,l,c){n=n.render;var x=t.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return na(t),l=Gc(e,t,n,v,x,c),T=kc(),e!==null&&!Ct?(Oc(e,t,c),sl(e,t,c)):(He&&T&&gc(t),t.flags|=1,Gt(e,t,l,c),t.child)}function Go(e,t,n,l,c){if(e===null){var x=n.type;return typeof x=="function"&&!mc(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,ko(e,t,x,l,c)):(e=Sr(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!x0(e,c)){var v=x.memoizedProps;if(n=n.compare,n=n!==null?n:vi,n(v,l)&&e.ref===t.ref)return sl(e,t,c)}return t.flags|=1,e=ll(x,l),e.ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,l,c){if(e!==null){var x=e.memoizedProps;if(vi(x,l)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=l=x,x0(e,c))(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,sl(e,t,c)}return l0(e,t,n,l,c)}function Oo(e,t,n,l){var c=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~x}else l=0,t.child=null;return Ho(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mr(t,x!==null?x.cachePool:null),x!==null?Ix(t,x):Ec(),Yx(t);else return l=t.lanes=536870912,Ho(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(Mr(t,x.cachePool),Ix(t,x),Nl(),t.memoizedState=null):(e!==null&&Mr(t,null),Ec(),Nl());return Gt(e,t,c,n),t.child}function Li(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ho(e,t,n,l,c){var x=zc();return x=x===null?null:{parent:_t._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&Mr(t,null),Ec(),Yx(t),e!==null&&Ba(e,t,l,!0),t.childLanes=c,null}function Yr(e,t){return t=Zr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Io(e,t,n){return ra(t,e.child,null,n),e=Yr(t,t.pendingProps),e.flags|=2,fn(t),t.memoizedState=null,e}function u2(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(l.mode==="hidden")return e=Yr(t,l),t.lanes=536870912,Li(null,e);if(qc(t),(e=xt)?(e=ed(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_l!==null?{id:Vn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},n=Cx(e),n.return=t,t.child=n,qt=t,xt=null)):e=null,e===null)throw Cl(t);return t.lanes=536870912,null}return Yr(t,l)}var x=e.memoizedState;if(x!==null){var v=x.dehydrated;if(qc(t),c)if(t.flags&256)t.flags&=-257,t=Io(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Ct||Ba(e,t,n,!1),c=(n&e.childLanes)!==0,Ct||c){if(l=ut,l!==null&&(v=et(l,n),v!==0&&v!==x.retryLane))throw x.retryLane=v,Fl(e,v),$t(l,e,v),n0;$r(),t=Io(e,t,n)}else e=x.treeContext,xt=Tn(v.nextSibling),qt=t,He=!0,Sl=null,Nn=!1,e!==null&&Mx(t,e),t=Yr(t,l),t.flags|=4096;return t}return e=ll(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ur(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function l0(e,t,n,l,c){return na(t),n=Gc(e,t,n,l,void 0,c),l=kc(),e!==null&&!Ct?(Oc(e,t,c),sl(e,t,c)):(He&&l&&gc(t),t.flags|=1,Gt(e,t,n,c),t.child)}function Yo(e,t,n,l,c,x){return na(t),t.updateQueue=null,n=Zx(t,l,n,c),Ux(e),l=kc(),e!==null&&!Ct?(Oc(e,t,x),sl(e,t,x)):(He&&l&&gc(t),t.flags|=1,Gt(e,t,n,x),t.child)}function Uo(e,t,n,l,c){if(na(t),t.stateNode===null){var x=Aa,v=n.contextType;typeof v=="object"&&v!==null&&(x=Rt(v)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=e0,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},Nc(t),v=n.contextType,x.context=typeof v=="object"&&v!==null?Rt(v):Aa,x.state=t.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&($c(t,n,v,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(v=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),v!==x.state&&e0.enqueueReplaceState(x,x.state,null),zi(t,l,x,c),Mi(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var T=t.memoizedProps,K=ca(n,T);x.props=K;var te=x.context,ie=n.contextType;v=Aa,typeof ie=="object"&&ie!==null&&(v=Rt(ie));var ue=n.getDerivedStateFromProps;ie=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T||te!==v)&&No(t,x,l,v),jl=!1;var ne=t.memoizedState;x.state=ne,zi(t,l,x,c),Mi(),te=t.memoizedState,T||ne!==te||jl?(typeof ue=="function"&&($c(t,n,ue,l),te=t.memoizedState),(K=jl||Do(t,n,K,l,ne,te,v))?(ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),x.props=l,x.state=te,x.context=v,l=K):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,Ac(e,t),v=t.memoizedProps,ie=ca(n,v),x.props=ie,ue=t.pendingProps,ne=x.context,te=n.contextType,K=Aa,typeof te=="object"&&te!==null&&(K=Rt(te)),T=n.getDerivedStateFromProps,(te=typeof T=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(v!==ue||ne!==K)&&No(t,x,l,K),jl=!1,ne=t.memoizedState,x.state=ne,zi(t,l,x,c),Mi();var ae=t.memoizedState;v!==ue||ne!==ae||jl||e!==null&&e.dependencies!==null&&wr(e.dependencies)?(typeof T=="function"&&($c(t,n,T,l),ae=t.memoizedState),(ie=jl||Do(t,n,ie,l,ne,ae,K)||e!==null&&e.dependencies!==null&&wr(e.dependencies))?(te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,ae,K),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,ae,K)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),x.props=l,x.state=ae,x.context=K,l=ie):(typeof x.componentDidUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Ur(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=ra(t,e.child,null,c),t.child=ra(t,null,n,c)):Gt(e,t,n,c),t.memoizedState=x.state,e=t.child):e=sl(e,t,c),e}function Zo(e,t,n,l){return ea(),t.flags|=256,Gt(e,t,n,l),t.child}var a0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function i0(e){return{baseLanes:e,cachePool:Lx()}}function r0(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=hn),e}function Ko(e,t,n){var l=t.pendingProps,c=!1,x=(t.flags&128)!==0,v;if((v=x)||(v=e!==null&&e.memoizedState===null?!1:(gt.current&2)!==0),v&&(c=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(c?Dl(t):Nl(),(e=xt)?(e=ed(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_l!==null?{id:Vn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},n=Cx(e),n.return=t,t.child=n,qt=t,xt=null)):e=null,e===null)throw Cl(t);return Y0(e)?t.lanes=32:t.lanes=536870912,null}var T=l.children;return l=l.fallback,c?(Nl(),c=t.mode,T=Zr({mode:"hidden",children:T},c),l=$l(l,c,n,null),T.return=t,l.return=t,T.sibling=l,t.child=T,l=t.child,l.memoizedState=i0(n),l.childLanes=r0(e,v,n),t.memoizedState=a0,Li(null,l)):(Dl(t),u0(t,T))}var K=e.memoizedState;if(K!==null&&(T=K.dehydrated,T!==null)){if(x)t.flags&256?(Dl(t),t.flags&=-257,t=c0(e,t,n)):t.memoizedState!==null?(Nl(),t.child=e.child,t.flags|=128,t=null):(Nl(),T=l.fallback,c=t.mode,l=Zr({mode:"visible",children:l.children},c),T=$l(T,c,n,null),T.flags|=2,l.return=t,T.return=t,l.sibling=T,t.child=l,ra(t,e.child,null,n),l=t.child,l.memoizedState=i0(n),l.childLanes=r0(e,v,n),t.memoizedState=a0,t=Li(null,l));else if(Dl(t),Y0(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var te=v.dgst;v=te,l=Error(i(419)),l.stack="",l.digest=v,pi({value:l,source:null,stack:null}),t=c0(e,t,n)}else if(Ct||Ba(e,t,n,!1),v=(n&e.childLanes)!==0,Ct||v){if(v=ut,v!==null&&(l=et(v,n),l!==0&&l!==K.retryLane))throw K.retryLane=l,Fl(e,l),$t(v,e,l),n0;I0(T)||$r(),t=c0(e,t,n)}else I0(T)?(t.flags|=192,t.child=e.child,t=null):(e=K.treeContext,xt=Tn(T.nextSibling),qt=t,He=!0,Sl=null,Nn=!1,e!==null&&Mx(t,e),t=u0(t,l.children),t.flags|=4096);return t}return c?(Nl(),T=l.fallback,c=t.mode,K=e.child,te=K.sibling,l=ll(K,{mode:"hidden",children:l.children}),l.subtreeFlags=K.subtreeFlags&65011712,te!==null?T=ll(te,T):(T=$l(T,c,n,null),T.flags|=2),T.return=t,l.return=t,l.sibling=T,t.child=l,Li(null,l),l=t.child,T=e.child.memoizedState,T===null?T=i0(n):(c=T.cachePool,c!==null?(K=_t._currentValue,c=c.parent!==K?{parent:K,pool:K}:c):c=Lx(),T={baseLanes:T.baseLanes|n,cachePool:c}),l.memoizedState=T,l.childLanes=r0(e,v,n),t.memoizedState=a0,Li(e.child,l)):(Dl(t),n=e.child,e=n.sibling,n=ll(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=n,t.memoizedState=null,n)}function u0(e,t){return t=Zr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zr(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function c0(e,t,n){return ra(t,e.child,null,n),e=u0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Cc(e.return,t,n)}function s0(e,t,n,l,c,x){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:x}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=n,v.tailMode=c,v.treeForkCount=x)}function Vo(e,t,n){var l=t.pendingProps,c=l.revealOrder,x=l.tail;l=l.children;var v=gt.current,T=(v&2)!==0;if(T?(v=v&1|2,t.flags|=128):v&=1,I(gt,v),Gt(e,t,l,n),l=He?yi:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xo(e,n,t);else if(e.tag===19)Xo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Lr(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),s0(t,!1,c,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Lr(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}s0(t,!0,n,null,x,l);break;case"together":s0(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ll|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ba(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ll(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ll(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function x0(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wr(e)))}function c2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),wl(t,_t,e.memoizedState.cache),ea();break;case 27:case 5:Me(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:wl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Dl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Ko(e,t,n):(Dl(t),e=sl(e,t,n),e!==null?e.sibling:null);Dl(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ba(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Vo(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),I(gt,gt.current),l)break;return null;case 22:return t.lanes=0,Oo(e,t,n,t.pendingProps);case 24:wl(t,_t,e.memoizedState.cache)}return sl(e,t,n)}function Jo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ct=!0;else{if(!x0(e,n)&&(t.flags&128)===0)return Ct=!1,c2(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,He&&(t.flags&1048576)!==0&&jx(t,yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=aa(t.elementType),t.type=e,typeof e=="function")mc(e)?(l=ca(e,l),t.tag=1,t=Uo(null,t,e,l,n)):(t.tag=0,t=l0(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===G){t.tag=11,t=Ro(null,t,e,l,n);break e}else if(c===E){t.tag=14,t=Go(null,t,e,l,n);break e}}throw t=A(e)||e,Error(i(306,t,""))}}return t;case 0:return l0(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=ca(l,t.pendingProps),Uo(e,t,l,c,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var x=t.memoizedState;c=x.element,Ac(e,t),zi(t,l,null,n);var v=t.memoizedState;if(l=v.cache,wl(t,_t,l),l!==x.cache&&wc(t,[_t],n,!0),Mi(),l=v.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Zo(e,t,l,n);break e}else if(l!==c){c=Mn(Error(i(424)),t),pi(c),t=Zo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xt=Tn(e.firstChild),qt=t,He=!0,Sl=null,Nn=!0,n=kx(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ea(),l===c){t=sl(e,t,n);break e}Gt(e,t,l,n)}t=t.child}return t;case 26:return Ur(e,t),e===null?(n=rd(t.type,null,t.pendingProps,null))?t.memoizedState=n:He||(n=t.type,e=t.pendingProps,l=ru(xe.current).createElement(n),l[Mt]=t,l[Yt]=e,kt(l,n,e),At(l),t.stateNode=l):t.memoizedState=rd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Me(t),e===null&&He&&(l=t.stateNode=ld(t.type,t.pendingProps,xe.current),qt=t,Nn=!0,c=xt,Gl(t.type)?(U0=c,xt=Tn(l.firstChild)):xt=c),Gt(e,t,t.pendingProps.children,n),Ur(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((c=l=xt)&&(l=k2(l,t.type,t.pendingProps,Nn),l!==null?(t.stateNode=l,qt=t,xt=Tn(l.firstChild),Nn=!1,c=!0):c=!1),c||Cl(t)),Me(t),c=t.type,x=t.pendingProps,v=e!==null?e.memoizedProps:null,l=x.children,k0(c,x)?l=null:v!==null&&k0(c,v)&&(t.flags|=32),t.memoizedState!==null&&(c=Gc(e,t,$1,null,null,n),Vi._currentValue=c),Ur(e,t),Gt(e,t,l,n),t.child;case 6:return e===null&&He&&((e=n=xt)&&(n=O2(n,t.pendingProps,Nn),n!==null?(t.stateNode=n,qt=t,xt=null,e=!0):e=!1),e||Cl(t)),null;case 13:return Ko(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ra(t,null,l,n):Gt(e,t,l,n),t.child;case 11:return Ro(e,t,t.type,t.pendingProps,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,wl(t,t.type,l.value),Gt(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,na(t),c=Rt(c),l=l(c),t.flags|=1,Gt(e,t,l,n),t.child;case 14:return Go(e,t,t.type,t.pendingProps,n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 19:return Vo(e,t,n);case 31:return u2(e,t,n);case 22:return Oo(e,t,n,t.pendingProps);case 24:return na(t),l=Rt(_t),e===null?(c=zc(),c===null&&(c=ut,x=jc(),c.pooledCache=x,x.refCount++,x!==null&&(c.pooledCacheLanes|=n),c=x),t.memoizedState={parent:l,cache:c},Nc(t),wl(t,_t,c)):((e.lanes&n)!==0&&(Ac(e,t),zi(t,null,null,n),Mi()),c=e.memoizedState,x=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),wl(t,_t,l)):(l=x.cache,wl(t,_t,l),l!==c.cache&&wc(t,[_t],n,!0))),Gt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function xl(e){e.flags|=4}function o0(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Sf())e.flags|=8192;else throw ia=Dr,Dc}else e.flags&=-16777217}function Wo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!od(t))if(Sf())e.flags|=8192;else throw ia=Dr,Dc}function Kr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qe():536870912,e.lanes|=t,Xa|=t)}function Ei(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function s2(e,t,n){var l=t.pendingProps;switch(yc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return ot(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),rl(_t),pe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ea(t)?xl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_c())),ot(t),null;case 26:var c=t.type,x=t.memoizedState;return e===null?(xl(t),x!==null?(ot(t),Wo(t,x)):(ot(t),o0(t,c,null,l,n))):x?x!==e.memoizedState?(xl(t),ot(t),Wo(t,x)):(ot(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&xl(t),ot(t),o0(t,c,e,l,n)),null;case 27:if(he(t),n=xe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ot(t),null}e=Z.current,Ea(t)?zx(t):(e=ld(c,l,n),t.stateNode=e,xl(t))}return ot(t),null;case 5:if(he(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ot(t),null}if(x=Z.current,Ea(t))zx(t);else{var v=ru(xe.current);switch(x){case 1:x=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:x=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":x=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":x=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":x=v.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?v.createElement(c,{is:l.is}):v.createElement(c)}}x[Mt]=t,x[Yt]=l;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)x.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=x;e:switch(kt(x,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&xl(t)}}return ot(t),o0(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=xe.current,Ea(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=qt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Mt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Xf(e.nodeValue,n)),e||Cl(t,!0)}else e=ru(e).createTextNode(l),e[Mt]=t,t.stateNode=e}return ot(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ea(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Mt]=t}else ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),e=!1}else n=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(fn(t),t):(fn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return ot(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ea(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[Mt]=t}else ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),c=!1}else c=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(fn(t),t):(fn(t),null)}return fn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kr(t,t.updateQueue),ot(t),null);case 4:return pe(),e===null&&E0(t.stateNode.containerInfo),ot(t),null;case 10:return rl(t.type),ot(t),null;case 19:if(q(gt),l=t.memoizedState,l===null)return ot(t),null;if(c=(t.flags&128)!==0,x=l.rendering,x===null)if(c)Ei(l,!1);else{if(bt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Lr(e),x!==null){for(t.flags|=128,Ei(l,!1),e=x.updateQueue,t.updateQueue=e,Kr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Sx(n,e),n=n.sibling;return I(gt,gt.current&1|2),He&&al(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Xe()>Qr&&(t.flags|=128,c=!0,Ei(l,!1),t.lanes=4194304)}else{if(!c)if(e=Lr(x),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Kr(t,e),Ei(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!He)return ot(t),null}else 2*Xe()-l.renderingStartTime>Qr&&n!==536870912&&(t.flags|=128,c=!0,Ei(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Xe(),e.sibling=null,n=gt.current,I(gt,c?n&1|2:n&1),He&&al(t,l.treeForkCount),e):(ot(t),null);case 22:case 23:return fn(t),Bc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),n=t.updateQueue,n!==null&&Kr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&q(la),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),rl(_t),ot(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function x2(e,t){switch(yc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rl(_t),pe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(fn(t),t.alternate===null)throw Error(i(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(gt),null;case 4:return pe(),null;case 10:return rl(t.type),null;case 22:case 23:return fn(t),Bc(),e!==null&&q(la),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return rl(_t),null;case 25:return null;default:return null}}function Qo(e,t){switch(yc(t),t.tag){case 3:rl(_t),pe();break;case 26:case 27:case 5:he(t);break;case 4:pe();break;case 31:t.memoizedState!==null&&fn(t);break;case 13:fn(t);break;case 19:q(gt);break;case 10:rl(t.type);break;case 22:case 23:fn(t),Bc(),e!==null&&q(la);break;case 24:rl(_t)}}function Bi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var x=n.create,v=n.inst;l=x(),v.destroy=l}n=n.next}while(n!==c)}}catch(T){lt(t,t.return,T)}}function Al(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var x=c.next;l=x;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,c=t;var K=n,te=T;try{te()}catch(ie){lt(c,K,ie)}}}l=l.next}while(l!==x)}}catch(ie){lt(t,t.return,ie)}}function Po(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Hx(t,n)}catch(l){lt(e,e.return,l)}}}function Fo(e,t,n){n.props=ca(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){lt(e,t,l)}}function qi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){lt(e,t,c)}}function Wn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){lt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){lt(e,t,c)}else n.current=null}function $o(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){lt(e,e.return,c)}}function f0(e,t,n){try{var l=e.stateNode;L2(l,e.type,n,t),l[Yt]=t}catch(c){lt(e,e.return,c)}}function ef(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gl(e.type)||e.tag===4}function d0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function h0(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tl));else if(l!==4&&(l===27&&Gl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(h0(e,t,n),e=e.sibling;e!==null;)h0(e,t,n),e=e.sibling}function Xr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Gl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Xr(e,t,n),e=e.sibling;e!==null;)Xr(e,t,n),e=e.sibling}function tf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);kt(t,l,n),t[Mt]=e,t[Yt]=n}catch(x){lt(e,e.return,x)}}var ol=!1,wt=!1,m0=!1,nf=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function o2(e,t){if(e=e.containerInfo,R0=du,e=dx(e),cc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var v=0,T=-1,K=-1,te=0,ie=0,ue=e,ne=null;t:for(;;){for(var ae;ue!==n||c!==0&&ue.nodeType!==3||(T=v+c),ue!==x||l!==0&&ue.nodeType!==3||(K=v+l),ue.nodeType===3&&(v+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)ne=ue,ue=ae;for(;;){if(ue===e)break t;if(ne===n&&++te===c&&(T=v),ne===x&&++ie===l&&(K=v),(ae=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=ae}n=T===-1||K===-1?null:{start:T,end:K}}else n=null}n=n||{start:0,end:0}}else n=null;for(G0={focusedElem:e,selectionRange:n},du=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){switch(t=Tt,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,c=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var me=ca(n.type,c);e=l.getSnapshotBeforeUpdate(me,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ce){lt(n,n.return,Ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)H0(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":H0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}}function lf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:dl(e,n),l&4&&Bi(5,n);break;case 1:if(dl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(v){lt(n,n.return,v)}else{var c=ca(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){lt(n,n.return,v)}}l&64&&Po(n),l&512&&qi(n,n.return);break;case 3:if(dl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Hx(e,t)}catch(v){lt(n,n.return,v)}}break;case 27:t===null&&l&4&&tf(n);case 26:case 5:dl(e,n),t===null&&l&4&&$o(n),l&512&&qi(n,n.return);break;case 12:dl(e,n);break;case 31:dl(e,n),l&4&&uf(e,n);break;case 13:dl(e,n),l&4&&cf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=p2.bind(null,n),H2(e,n))));break;case 22:if(l=n.memoizedState!==null||ol,!l){t=t!==null&&t.memoizedState!==null||wt,c=ol;var x=wt;ol=l,(wt=t)&&!x?hl(e,n,(n.subtreeFlags&8772)!==0):dl(e,n),ol=c,wt=x}break;case 30:break;default:dl(e,n)}}function af(e){var t=e.alternate;t!==null&&(e.alternate=null,af(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ci(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,Wt=!1;function fl(e,t,n){for(n=n.child;n!==null;)rf(e,t,n),n=n.sibling}function rf(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount($n,n)}catch{}switch(n.tag){case 26:wt||Wn(n,t),fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wt||Wn(n,t);var l=ft,c=Wt;Gl(n.type)&&(ft=n.stateNode,Wt=!1),fl(e,t,n),Zi(n.stateNode),ft=l,Wt=c;break;case 5:wt||Wn(n,t);case 6:if(l=ft,c=Wt,ft=null,fl(e,t,n),ft=l,Wt=c,ft!==null)if(Wt)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(n.stateNode)}catch(x){lt(n,t,x)}else try{ft.removeChild(n.stateNode)}catch(x){lt(n,t,x)}break;case 18:ft!==null&&(Wt?(e=ft,Ff(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ei(e)):Ff(ft,n.stateNode));break;case 4:l=ft,c=Wt,ft=n.stateNode.containerInfo,Wt=!0,fl(e,t,n),ft=l,Wt=c;break;case 0:case 11:case 14:case 15:Al(2,n,t),wt||Al(4,n,t),fl(e,t,n);break;case 1:wt||(Wn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Fo(n,t,l)),fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:wt=(l=wt)||n.memoizedState!==null,fl(e,t,n),wt=l;break;default:fl(e,t,n)}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ei(e)}catch(n){lt(t,t.return,n)}}}function cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ei(e)}catch(n){lt(t,t.return,n)}}function f2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nf),t;default:throw Error(i(435,e.tag))}}function Vr(e,t){var n=f2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=_2.bind(null,e,l);l.then(c,c)}})}function Qt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],x=e,v=t,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Gl(T.type)){ft=T.stateNode,Wt=!1;break e}break;case 5:ft=T.stateNode,Wt=!1;break e;case 3:case 4:ft=T.stateNode.containerInfo,Wt=!0;break e}T=T.return}if(ft===null)throw Error(i(160));rf(x,v,c),ft=null,Wt=!1,x=c.alternate,x!==null&&(x.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sf(t,e),t=t.sibling}var Hn=null;function sf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qt(t,e),Pt(e),l&4&&(Al(3,e,e.return),Bi(3,e),Al(5,e,e.return));break;case 1:Qt(t,e),Pt(e),l&512&&(wt||n===null||Wn(n,n.return)),l&64&&ol&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Hn;if(Qt(t,e),Pt(e),l&512&&(wt||n===null||Wn(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":x=c.getElementsByTagName("title")[0],(!x||x[cn]||x[Mt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=c.createElement(l),c.head.insertBefore(x,c.querySelector("head > title"))),kt(x,l,n),x[Mt]=e,At(x),l=x;break e;case"link":var v=sd("link","href",c).get(l+(n.href||""));if(v){for(var T=0;T<v.length;T++)if(x=v[T],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(T,1);break t}}x=c.createElement(l),kt(x,l,n),c.head.appendChild(x);break;case"meta":if(v=sd("meta","content",c).get(l+(n.content||""))){for(T=0;T<v.length;T++)if(x=v[T],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(T,1);break t}}x=c.createElement(l),kt(x,l,n),c.head.appendChild(x);break;default:throw Error(i(468,l))}x[Mt]=e,At(x),l=x}e.stateNode=l}else xd(c,e.type,e.stateNode);else e.stateNode=cd(c,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?xd(c,e.type,e.stateNode):cd(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&f0(e,e.memoizedProps,n.memoizedProps)}break;case 27:Qt(t,e),Pt(e),l&512&&(wt||n===null||Wn(n,n.return)),n!==null&&l&4&&f0(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Qt(t,e),Pt(e),l&512&&(wt||n===null||Wn(n,n.return)),e.flags&32){c=e.stateNode;try{Ca(c,"")}catch(me){lt(e,e.return,me)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,f0(e,c,n!==null?n.memoizedProps:c)),l&1024&&(m0=!0);break;case 6:if(Qt(t,e),Pt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(me){lt(e,e.return,me)}}break;case 3:if(su=null,c=Hn,Hn=uu(t.containerInfo),Qt(t,e),Hn=c,Pt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(me){lt(e,e.return,me)}m0&&(m0=!1,xf(e));break;case 4:l=Hn,Hn=uu(e.stateNode.containerInfo),Qt(t,e),Pt(e),Hn=l;break;case 12:Qt(t,e),Pt(e);break;case 31:Qt(t,e),Pt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 13:Qt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Wr=Xe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 22:c=e.memoizedState!==null;var K=n!==null&&n.memoizedState!==null,te=ol,ie=wt;if(ol=te||c,wt=ie||K,Qt(t,e),wt=ie,ol=te,Pt(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||K||ol||wt||sa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){K=n=t;try{if(x=K.stateNode,c)v=x.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=K.stateNode;var ue=K.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;T.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(me){lt(K,K.return,me)}}}else if(t.tag===6){if(n===null){K=t;try{K.stateNode.nodeValue=c?"":K.memoizedProps}catch(me){lt(K,K.return,me)}}}else if(t.tag===18){if(n===null){K=t;try{var ae=K.stateNode;c?$f(ae,!0):$f(K.stateNode,!1)}catch(me){lt(K,K.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Vr(e,n))));break;case 19:Qt(t,e),Pt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 30:break;case 21:break;default:Qt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(ef(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var c=n.stateNode,x=d0(e);Xr(e,x,c);break;case 5:var v=n.stateNode;n.flags&32&&(Ca(v,""),n.flags&=-33);var T=d0(e);Xr(e,T,v);break;case 3:case 4:var K=n.stateNode.containerInfo,te=d0(e);h0(e,te,K);break;default:throw Error(i(161))}}catch(ie){lt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function dl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lf(e,t.alternate,t),t=t.sibling}function sa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Al(4,t,t.return),sa(t);break;case 1:Wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Fo(t,t.return,n),sa(t);break;case 27:Zi(t.stateNode);case 26:case 5:Wn(t,t.return),sa(t);break;case 22:t.memoizedState===null&&sa(t);break;case 30:sa(t);break;default:sa(t)}e=e.sibling}}function hl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,x=t,v=x.flags;switch(x.tag){case 0:case 11:case 15:hl(c,x,n),Bi(4,x);break;case 1:if(hl(c,x,n),l=x,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(te){lt(l,l.return,te)}if(l=x,c=l.updateQueue,c!==null){var T=l.stateNode;try{var K=c.shared.hiddenCallbacks;if(K!==null)for(c.shared.hiddenCallbacks=null,c=0;c<K.length;c++)Ox(K[c],T)}catch(te){lt(l,l.return,te)}}n&&v&64&&Po(x),qi(x,x.return);break;case 27:tf(x);case 26:case 5:hl(c,x,n),n&&l===null&&v&4&&$o(x),qi(x,x.return);break;case 12:hl(c,x,n);break;case 31:hl(c,x,n),n&&v&4&&uf(c,x);break;case 13:hl(c,x,n),n&&v&4&&cf(c,x);break;case 22:x.memoizedState===null&&hl(c,x,n),qi(x,x.return);break;case 30:break;default:hl(c,x,n)}t=t.sibling}}function b0(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_i(n))}function v0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e))}function In(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)of(e,t,n,l),t=t.sibling}function of(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:In(e,t,n,l),c&2048&&Bi(9,t);break;case 1:In(e,t,n,l);break;case 3:In(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e)));break;case 12:if(c&2048){In(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,v=x.id,T=x.onPostCommit;typeof T=="function"&&T(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(K){lt(t,t.return,K)}}else In(e,t,n,l);break;case 31:In(e,t,n,l);break;case 13:In(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,v=t.alternate,t.memoizedState!==null?x._visibility&2?In(e,t,n,l):Ri(e,t):x._visibility&2?In(e,t,n,l):(x._visibility|=2,Ua(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&b0(v,t);break;case 24:In(e,t,n,l),c&2048&&v0(t.alternate,t);break;default:In(e,t,n,l)}}function Ua(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,v=t,T=n,K=l,te=v.flags;switch(v.tag){case 0:case 11:case 15:Ua(x,v,T,K,c),Bi(8,v);break;case 23:break;case 22:var ie=v.stateNode;v.memoizedState!==null?ie._visibility&2?Ua(x,v,T,K,c):Ri(x,v):(ie._visibility|=2,Ua(x,v,T,K,c)),c&&te&2048&&b0(v.alternate,v);break;case 24:Ua(x,v,T,K,c),c&&te&2048&&v0(v.alternate,v);break;default:Ua(x,v,T,K,c)}t=t.sibling}}function Ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Ri(n,l),c&2048&&b0(l.alternate,l);break;case 24:Ri(n,l),c&2048&&v0(l.alternate,l);break;default:Ri(n,l)}t=t.sibling}}var Gi=8192;function Za(e,t,n){if(e.subtreeFlags&Gi)for(e=e.child;e!==null;)ff(e,t,n),e=e.sibling}function ff(e,t,n){switch(e.tag){case 26:Za(e,t,n),e.flags&Gi&&e.memoizedState!==null&&F2(n,Hn,e.memoizedState,e.memoizedProps);break;case 5:Za(e,t,n);break;case 3:case 4:var l=Hn;Hn=uu(e.stateNode.containerInfo),Za(e,t,n),Hn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Gi,Gi=16777216,Za(e,t,n),Gi=l):Za(e,t,n));break;default:Za(e,t,n)}}function df(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,mf(l,e)}df(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hf(e),e=e.sibling}function hf(e){switch(e.tag){case 0:case 11:case 15:ki(e),e.flags&2048&&Al(9,e,e.return);break;case 3:ki(e);break;case 12:ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Jr(e)):ki(e);break;default:ki(e)}}function Jr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,mf(l,e)}df(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Al(8,t,t.return),Jr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Jr(t));break;default:Jr(t)}e=e.sibling}}function mf(e,t){for(;Tt!==null;){var n=Tt;switch(n.tag){case 0:case 11:case 15:Al(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_i(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Tt=l;else e:for(n=e;Tt!==null;){l=Tt;var c=l.sibling,x=l.return;if(af(l),l===n){Tt=null;break e}if(c!==null){c.return=x,Tt=c;break e}Tt=x}}}var d2={getCacheForType:function(e){var t=Rt(_t),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Rt(_t).controller.signal}},h2=typeof WeakMap=="function"?WeakMap:Map,Pe=0,ut=null,qe=null,Ge=0,nt=0,dn=null,Tl=!1,Ka=!1,g0=!1,ml=0,bt=0,Ll=0,xa=0,y0=0,hn=0,Xa=0,Oi=null,Ft=null,p0=!1,Wr=0,bf=0,Qr=1/0,Pr=null,El=null,zt=0,Bl=null,Va=null,bl=0,_0=0,S0=null,vf=null,Hi=0,C0=null;function mn(){return(Pe&2)!==0&&Ge!==0?Ge&-Ge:w.T!==null?N0():va()}function gf(){if(hn===0)if((Ge&536870912)===0||He){var e=Ne;Ne<<=1,(Ne&3932160)===0&&(Ne=262144),hn=e}else hn=536870912;return e=on.current,e!==null&&(e.flags|=32),hn}function $t(e,t,n){(e===ut&&(nt===2||nt===9)||e.cancelPendingCommit!==null)&&(Ja(e,0),ql(e,Ge,hn,!1)),vt(e,n),((Pe&2)===0||e!==ut)&&(e===ut&&((Pe&2)===0&&(xa|=n),bt===4&&ql(e,Ge,hn,!1)),Qn(e))}function yf(e,t,n){if((Pe&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Oe(e,t),c=l?v2(e,t):j0(e,t,!0),x=l;do{if(c===0){Ka&&!l&&ql(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!m2(n)){c=j0(e,t,!1),x=!1;continue}if(c===2){if(x=t,e.errorRecoveryDisabledLanes&x)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var T=e;c=Oi;var K=T.current.memoizedState.isDehydrated;if(K&&(Ja(T,v).flags|=256),v=j0(T,v,!1),v!==2){if(g0&&!K){T.errorRecoveryDisabledLanes|=x,xa|=x,c=4;break e}x=Ft,Ft=c,x!==null&&(Ft===null?Ft=x:Ft.push.apply(Ft,x))}c=v}if(x=!1,c!==2)continue}}if(c===1){Ja(e,0),ql(e,t,0,!0);break}e:{switch(l=e,x=c,x){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ql(l,t,hn,!Tl);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(c=Wr+300-Xe(),10<c)){if(ql(l,t,hn,!Tl),Je(l,0,!0)!==0)break e;bl=t,l.timeoutHandle=Qf(pf.bind(null,l,n,Ft,Pr,p0,t,hn,xa,Xa,Tl,x,"Throttled",-0,0),c);break e}pf(l,n,Ft,Pr,p0,t,hn,xa,Xa,Tl,x,null,-0,0)}}break}while(!0);Qn(e)}function pf(e,t,n,l,c,x,v,T,K,te,ie,ue,ne,ae){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tl},ff(t,x,ue);var me=(x&62914560)===x?Wr-Xe():(x&4194048)===x?bf-Xe():0;if(me=$2(ue,me),me!==null){bl=x,e.cancelPendingCommit=me(Df.bind(null,e,t,x,n,l,c,v,T,K,ie,ue,null,ne,ae)),ql(e,x,v,!te);return}}Df(e,t,x,n,l,c,v,T,K)}function m2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],x=c.getSnapshot;c=c.value;try{if(!sn(x(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ql(e,t,n,l){t&=~y0,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var x=31-ce(c),v=1<<x;l[x]=-1,c&=~v}n!==0&&je(e,n,t)}function Fr(){return(Pe&6)===0?(Ii(0),!1):!0}function w0(){if(qe!==null){if(nt===0)var e=qe.return;else e=qe,il=ta=null,Hc(e),ka=null,Ci=0,e=qe;for(;e!==null;)Qo(e.alternate,e),e=e.return;qe=null}}function Ja(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,q2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bl=0,w0(),ut=e,qe=n=ll(e.current,null),Ge=t,nt=0,dn=null,Tl=!1,Ka=Oe(e,t),g0=!1,Xa=hn=y0=xa=Ll=bt=0,Ft=Oi=null,p0=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-ce(l),x=1<<c;t|=e[c],l&=~x}return ml=t,yr(),n}function _f(e,t){Te=null,w.H=Ti,t===Ga||t===zr?(t=qx(),nt=3):t===Dc?(t=qx(),nt=4):nt=t===n0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dn=t,qe===null&&(bt=1,Ir(e,Mn(t,e.current)))}function Sf(){var e=on.current;return e===null?!0:(Ge&4194048)===Ge?An===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===An:!1}function Cf(){var e=w.H;return w.H=Ti,e===null?Ti:e}function wf(){var e=w.A;return w.A=d2,e}function $r(){bt=4,Tl||(Ge&4194048)!==Ge&&on.current!==null||(Ka=!0),(Ll&134217727)===0&&(xa&134217727)===0||ut===null||ql(ut,Ge,hn,!1)}function j0(e,t,n){var l=Pe;Pe|=2;var c=Cf(),x=wf();(ut!==e||Ge!==t)&&(Pr=null,Ja(e,t)),t=!1;var v=bt;e:do try{if(nt!==0&&qe!==null){var T=qe,K=dn;switch(nt){case 8:w0(),v=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var te=nt;if(nt=0,dn=null,Wa(e,T,K,te),n&&Ka){v=0;break e}break;default:te=nt,nt=0,dn=null,Wa(e,T,K,te)}}b2(),v=bt;break}catch(ie){_f(e,ie)}while(!0);return t&&e.shellSuspendCounter++,il=ta=null,Pe=l,w.H=c,w.A=x,qe===null&&(ut=null,Ge=0,yr()),v}function b2(){for(;qe!==null;)jf(qe)}function v2(e,t){var n=Pe;Pe|=2;var l=Cf(),c=wf();ut!==e||Ge!==t?(Pr=null,Qr=Xe()+500,Ja(e,t)):Ka=Oe(e,t);e:do try{if(nt!==0&&qe!==null){t=qe;var x=dn;t:switch(nt){case 1:nt=0,dn=null,Wa(e,t,x,1);break;case 2:case 9:if(Ex(x)){nt=0,dn=null,Mf(t);break}t=function(){nt!==2&&nt!==9||ut!==e||(nt=7),Qn(e)},x.then(t,t);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Ex(x)?(nt=0,dn=null,Mf(t)):(nt=0,dn=null,Wa(e,t,x,7));break;case 5:var v=null;switch(qe.tag){case 26:v=qe.memoizedState;case 5:case 27:var T=qe;if(v?od(v):T.stateNode.complete){nt=0,dn=null;var K=T.sibling;if(K!==null)qe=K;else{var te=T.return;te!==null?(qe=te,eu(te)):qe=null}break t}}nt=0,dn=null,Wa(e,t,x,5);break;case 6:nt=0,dn=null,Wa(e,t,x,6);break;case 8:w0(),bt=6;break e;default:throw Error(i(462))}}g2();break}catch(ie){_f(e,ie)}while(!0);return il=ta=null,w.H=l,w.A=c,Pe=n,qe!==null?0:(ut=null,Ge=0,yr(),bt)}function g2(){for(;qe!==null&&!Kn();)jf(qe)}function jf(e){var t=Jo(e.alternate,e,ml);e.memoizedProps=e.pendingProps,t===null?eu(e):qe=t}function Mf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Yo(n,t,t.pendingProps,t.type,void 0,Ge);break;case 11:t=Yo(n,t,t.pendingProps,t.type.render,t.ref,Ge);break;case 5:Hc(t);default:Qo(n,t),t=qe=Sx(t,ml),t=Jo(n,t,ml)}e.memoizedProps=e.pendingProps,t===null?eu(e):qe=t}function Wa(e,t,n,l){il=ta=null,Hc(t),ka=null,Ci=0;var c=t.return;try{if(r2(e,c,t,n,Ge)){bt=1,Ir(e,Mn(n,e.current)),qe=null;return}}catch(x){if(c!==null)throw qe=c,x;bt=1,Ir(e,Mn(n,e.current)),qe=null;return}t.flags&32768?(He||l===1?e=!0:Ka||(Ge&536870912)!==0?e=!1:(Tl=e=!0,(l===2||l===9||l===3||l===6)&&(l=on.current,l!==null&&l.tag===13&&(l.flags|=16384))),zf(t,e)):eu(t)}function eu(e){var t=e;do{if((t.flags&32768)!==0){zf(t,Tl);return}e=t.return;var n=s2(t.alternate,t,ml);if(n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);bt===0&&(bt=5)}function zf(e,t){do{var n=x2(e.alternate,e);if(n!==null){n.flags&=32767,qe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=n}while(e!==null);bt=6,qe=null}function Df(e,t,n,l,c,x,v,T,K){e.cancelPendingCommit=null;do tu();while(zt!==0);if((Pe&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(x=t.lanes|t.childLanes,x|=dc,Fe(e,n,x,v,T,K),e===ut&&(qe=ut=null,Ge=0),Va=t,Bl=e,bl=n,_0=x,S0=c,vf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S2(Gn,function(){return Ef(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=w.T,w.T=null,c=B.p,B.p=2,v=Pe,Pe|=4;try{o2(e,t,n)}finally{Pe=v,B.p=c,w.T=l}}zt=1,Nf(),Af(),Tf()}}function Nf(){if(zt===1){zt=0;var e=Bl,t=Va,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=w.T,w.T=null;var l=B.p;B.p=2;var c=Pe;Pe|=4;try{sf(t,e);var x=G0,v=dx(e.containerInfo),T=x.focusedElem,K=x.selectionRange;if(v!==T&&T&&T.ownerDocument&&fx(T.ownerDocument.documentElement,T)){if(K!==null&&cc(T)){var te=K.start,ie=K.end;if(ie===void 0&&(ie=te),"selectionStart"in T)T.selectionStart=te,T.selectionEnd=Math.min(ie,T.value.length);else{var ue=T.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),me=T.textContent.length,Ce=Math.min(K.start,me),rt=K.end===void 0?Ce:Math.min(K.end,me);!ae.extend&&Ce>rt&&(v=rt,rt=Ce,Ce=v);var P=ox(T,Ce),J=ox(T,rt);if(P&&J&&(ae.rangeCount!==1||ae.anchorNode!==P.node||ae.anchorOffset!==P.offset||ae.focusNode!==J.node||ae.focusOffset!==J.offset)){var ee=ue.createRange();ee.setStart(P.node,P.offset),ae.removeAllRanges(),Ce>rt?(ae.addRange(ee),ae.extend(J.node,J.offset)):(ee.setEnd(J.node,J.offset),ae.addRange(ee))}}}}for(ue=[],ae=T;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ue.length;T++){var re=ue[T];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}du=!!R0,G0=R0=null}finally{Pe=c,B.p=l,w.T=n}}e.current=t,zt=2}}function Af(){if(zt===2){zt=0;var e=Bl,t=Va,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=w.T,w.T=null;var l=B.p;B.p=2;var c=Pe;Pe|=4;try{lf(e,t.alternate,t)}finally{Pe=c,B.p=l,w.T=n}}zt=3}}function Tf(){if(zt===4||zt===3){zt=0,Xn();var e=Bl,t=Va,n=bl,l=vf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?zt=5:(zt=0,Va=Bl=null,Lf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(El=null),_n(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot($n,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=w.T,c=B.p,B.p=2,w.T=null;try{for(var x=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];x(T.value,{componentStack:T.stack})}}finally{w.T=t,B.p=c}}(bl&3)!==0&&tu(),Qn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===C0?Hi++:(Hi=0,C0=e):Hi=0,Ii(0)}}function Lf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_i(t)))}function tu(){return Nf(),Af(),Tf(),Ef()}function Ef(){if(zt!==5)return!1;var e=Bl,t=_0;_0=0;var n=_n(bl),l=w.T,c=B.p;try{B.p=32>n?32:n,w.T=null,n=S0,S0=null;var x=Bl,v=bl;if(zt=0,Va=Bl=null,bl=0,(Pe&6)!==0)throw Error(i(331));var T=Pe;if(Pe|=4,hf(x.current),of(x,x.current,v,n),Pe=T,Ii(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot($n,x)}catch{}return!0}finally{B.p=c,w.T=l,Lf(e,t)}}function Bf(e,t,n){t=Mn(n,t),t=t0(e.stateNode,t,2),e=zl(e,t,2),e!==null&&(vt(e,2),Qn(e))}function lt(e,t,n){if(e.tag===3)Bf(e,e,n);else for(;t!==null;){if(t.tag===3){Bf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(El===null||!El.has(l))){e=Mn(n,e),n=Bo(2),l=zl(t,n,2),l!==null&&(qo(n,l,t,e),vt(l,2),Qn(l));break}}t=t.return}}function M0(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new h2;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(g0=!0,c.add(n),e=y2.bind(null,e,t,n),t.then(e,e))}function y2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ut===e&&(Ge&n)===n&&(bt===4||bt===3&&(Ge&62914560)===Ge&&300>Xe()-Wr?(Pe&2)===0&&Ja(e,0):y0|=n,Xa===Ge&&(Xa=0)),Qn(e)}function qf(e,t){t===0&&(t=Qe()),e=Fl(e,t),e!==null&&(vt(e,t),Qn(e))}function p2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qf(e,n)}function _2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),qf(e,n)}function S2(e,t){return It(e,t)}var nu=null,Qa=null,z0=!1,lu=!1,D0=!1,Rl=0;function Qn(e){e!==Qa&&e.next===null&&(Qa===null?nu=Qa=e:Qa=Qa.next=e),lu=!0,z0||(z0=!0,w2())}function Ii(e,t){if(!D0&&lu){D0=!0;do for(var n=!1,l=nu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var x=0;else{var v=l.suspendedLanes,T=l.pingedLanes;x=(1<<31-ce(42|e)+1)-1,x&=c&~(v&~T),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Of(l,x))}else x=Ge,x=Je(l,l===ut?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||Oe(l,x)||(n=!0,Of(l,x));l=l.next}while(n);D0=!1}}function C2(){Rf()}function Rf(){lu=z0=!1;var e=0;Rl!==0&&B2()&&(e=Rl);for(var t=Xe(),n=null,l=nu;l!==null;){var c=l.next,x=Gf(l,t);x===0?(l.next=null,n===null?nu=c:n.next=c,c===null&&(Qa=n)):(n=l,(e!==0||(x&3)!==0)&&(lu=!0)),l=c}zt!==0&&zt!==5||Ii(e),Rl!==0&&(Rl=0)}function Gf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var v=31-ce(x),T=1<<v,K=c[v];K===-1?((T&n)===0||(T&l)!==0)&&(c[v]=We(T,t)):K<=t&&(e.expiredLanes|=T),x&=~T}if(t=ut,n=Ge,n=Je(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(nt===2||nt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&un(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Oe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&un(l),_n(n)){case 2:case 8:n=Kl;break;case 32:n=Gn;break;case 268435456:n=kn;break;default:n=Gn}return l=kf.bind(null,e),n=It(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&un(l),e.callbackPriority=2,e.callbackNode=null,2}function kf(e,t){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var l=Ge;return l=Je(e,e===ut?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yf(e,l,t),Gf(e,Xe()),e.callbackNode!=null&&e.callbackNode===n?kf.bind(null,e):null)}function Of(e,t){if(tu())return null;yf(e,t,!0)}function w2(){R2(function(){(Pe&6)!==0?It(yl,C2):Rf()})}function N0(){if(Rl===0){var e=qa;e===0&&(e=ge,ge<<=1,(ge&261888)===0&&(ge=256)),Rl=e}return Rl}function Hf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:or(""+e)}function If(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function j2(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var x=Hf((c[Yt]||null).action),v=l.submitter;v&&(t=(t=v[Yt]||null)?Hf(t.formAction):v.getAttribute("formAction"),t!==null&&(x=t,v=null));var T=new mr("action","action",null,l,c);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rl!==0){var K=v?If(c,v):new FormData(c);Wc(n,{pending:!0,data:K,method:c.method,action:x},null,K)}}else typeof x=="function"&&(T.preventDefault(),K=v?If(c,v):new FormData(c),Wc(n,{pending:!0,data:K,method:c.method,action:x},x,K))},currentTarget:c}]})}}for(var A0=0;A0<fc.length;A0++){var T0=fc[A0],M2=T0.toLowerCase(),z2=T0[0].toUpperCase()+T0.slice(1);On(M2,"on"+z2)}On(bx,"onAnimationEnd"),On(vx,"onAnimationIteration"),On(gx,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(U1,"onTransitionRun"),On(Z1,"onTransitionStart"),On(K1,"onTransitionCancel"),On(yx,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),Jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function Yf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var v=l.length-1;0<=v;v--){var T=l[v],K=T.instance,te=T.currentTarget;if(T=T.listener,K!==x&&c.isPropagationStopped())break e;x=T,c.currentTarget=te;try{x(c)}catch(ie){gr(ie)}c.currentTarget=null,x=K}else for(v=0;v<l.length;v++){if(T=l[v],K=T.instance,te=T.currentTarget,T=T.listener,K!==x&&c.isPropagationStopped())break e;x=T,c.currentTarget=te;try{x(c)}catch(ie){gr(ie)}c.currentTarget=null,x=K}}}}function Re(e,t){var n=t[ye];n===void 0&&(n=t[ye]=new Set);var l=e+"__bubble";n.has(l)||(Uf(t,e,2,!1),n.add(l))}function L0(e,t,n){var l=0;t&&(l|=4),Uf(n,e,l,t)}var au="_reactListening"+Math.random().toString(36).slice(2);function E0(e){if(!e[au]){e[au]=!0,Bs.forEach(function(n){n!=="selectionchange"&&(D2.has(n)||L0(n,!1,e),L0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[au]||(t[au]=!0,L0("selectionchange",!1,t))}}function Uf(e,t,n,l){switch(gd(t)){case 2:var c=nh;break;case 8:c=lh;break;default:c=J0}n=c.bind(null,t,n,e),c=void 0,!$u||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function B0(e,t,n,l,c){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===c)break;if(v===4)for(v=l.return;v!==null;){var K=v.tag;if((K===3||K===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;T!==null;){if(v=ga(T),v===null)return;if(K=v.tag,K===5||K===6||K===26||K===27){l=x=v;continue e}T=T.parentNode}}l=l.return}Xs(function(){var te=x,ie=Pu(n),ue=[];e:{var ne=px.get(e);if(ne!==void 0){var ae=mr,me=e;switch(e){case"keypress":if(dr(n)===0)break e;case"keydown":case"keyup":ae=_1;break;case"focusin":me="focus",ae=lc;break;case"focusout":me="blur",ae=lc;break;case"beforeblur":case"afterblur":ae=lc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=s1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=w1;break;case bx:case vx:case gx:ae=f1;break;case yx:ae=M1;break;case"scroll":case"scrollend":ae=u1;break;case"wheel":ae=D1;break;case"copy":case"cut":case"paste":ae=h1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ps;break;case"toggle":case"beforetoggle":ae=A1}var Ce=(t&4)!==0,rt=!Ce&&(e==="scroll"||e==="scrollend"),P=Ce?ne!==null?ne+"Capture":null:ne;Ce=[];for(var J=te,ee;J!==null;){var re=J;if(ee=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||ee===null||P===null||(re=xi(J,P),re!=null&&Ce.push(Ui(J,re,ee))),rt)break;J=J.return}0<Ce.length&&(ne=new ae(ne,me,null,n,ie),ue.push({event:ne,listeners:Ce}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&n!==Qu&&(me=n.relatedTarget||n.fromElement)&&(ga(me)||me[fe]))break e;if((ae||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(me=n.relatedTarget||n.toElement,ae=te,me=me?ga(me):null,me!==null&&(rt=o(me),Ce=me.tag,me!==rt||Ce!==5&&Ce!==27&&Ce!==6)&&(me=null)):(ae=null,me=te),ae!==me)){if(Ce=Ws,re="onMouseLeave",P="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(Ce=Ps,re="onPointerLeave",P="onPointerEnter",J="pointer"),rt=ae==null?ne:si(ae),ee=me==null?ne:si(me),ne=new Ce(re,J+"leave",ae,n,ie),ne.target=rt,ne.relatedTarget=ee,re=null,ga(ie)===te&&(Ce=new Ce(P,J+"enter",me,n,ie),Ce.target=ee,Ce.relatedTarget=rt,re=Ce),rt=re,ae&&me)t:{for(Ce=N2,P=ae,J=me,ee=0,re=P;re;re=Ce(re))ee++;re=0;for(var _e=J;_e;_e=Ce(_e))re++;for(;0<ee-re;)P=Ce(P),ee--;for(;0<re-ee;)J=Ce(J),re--;for(;ee--;){if(P===J||J!==null&&P===J.alternate){Ce=P;break t}P=Ce(P),J=Ce(J)}Ce=null}else Ce=null;ae!==null&&Zf(ue,ne,ae,Ce,!1),me!==null&&rt!==null&&Zf(ue,rt,me,Ce,!0)}}e:{if(ne=te?si(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Ze=ix;else if(lx(ne))if(rx)Ze=H1;else{Ze=k1;var be=G1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Wu(te.elementType)&&(Ze=ix):Ze=O1;if(Ze&&(Ze=Ze(e,te))){ax(ue,Ze,n,ie);break e}be&&be(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Ju(ne,"number",ne.value)}switch(be=te?si(te):window,e){case"focusin":(lx(be)||be.contentEditable==="true")&&(za=be,sc=te,gi=null);break;case"focusout":gi=sc=za=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,hx(ue,n,ie);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":hx(ue,n,ie)}var Le;if(ic)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ma?tx(e,n)&&(ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ke="onCompositionStart");ke&&(Fs&&n.locale!=="ko"&&(Ma||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ma&&(Le=Vs()):(pl=ie,ec="value"in pl?pl.value:pl.textContent,Ma=!0)),be=iu(te,ke),0<be.length&&(ke=new Qs(ke,e,null,n,ie),ue.push({event:ke,listeners:be}),Le?ke.data=Le:(Le=nx(n),Le!==null&&(ke.data=Le)))),(Le=L1?E1(e,n):B1(e,n))&&(ke=iu(te,"onBeforeInput"),0<ke.length&&(be=new Qs("onBeforeInput","beforeinput",null,n,ie),ue.push({event:be,listeners:ke}),be.data=Le)),j2(ue,e,te,n,ie)}Yf(ue,t)})}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function iu(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,x=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||x===null||(c=xi(e,n),c!=null&&l.unshift(Ui(e,c,x)),c=xi(e,t),c!=null&&l.push(Ui(e,c,x))),e.tag===3)return l;e=e.return}return[]}function N2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zf(e,t,n,l,c){for(var x=t._reactName,v=[];n!==null&&n!==l;){var T=n,K=T.alternate,te=T.stateNode;if(T=T.tag,K!==null&&K===l)break;T!==5&&T!==26&&T!==27||te===null||(K=te,c?(te=xi(n,x),te!=null&&v.unshift(Ui(n,te,K))):c||(te=xi(n,x),te!=null&&v.push(Ui(n,te,K)))),n=n.return}v.length!==0&&e.push({event:t,listeners:v})}var A2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function Kf(e){return(typeof e=="string"?e:""+e).replace(A2,`
`).replace(T2,"")}function Xf(e,t){return t=Kf(t),Kf(e)===t}function it(e,t,n,l,c,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ca(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ca(e,""+l);break;case"className":sr(e,"class",l);break;case"tabIndex":sr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(e,n,l);break;case"style":Zs(e,l,x);break;case"data":if(t!=="object"){sr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&it(e,t,"name",c.name,c,null),it(e,t,"formEncType",c.formEncType,c,null),it(e,t,"formMethod",c.formMethod,c,null),it(e,t,"formTarget",c.formTarget,c,null)):(it(e,t,"encType",c.encType,c,null),it(e,t,"method",c.method,c,null),it(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=tl);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=or(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),cr(e,"popover",l);break;case"xlinkActuate":el(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":el(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":el(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":el(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":el(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":el(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":el(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":el(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":el(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=i1.get(n)||n,cr(e,n,l))}}function q0(e,t,n,l,c,x){switch(n){case"style":Zs(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Ca(e,l):(typeof l=="number"||typeof l=="bigint")&&Ca(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=tl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),x=e[Yt]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,c),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):cr(e,n,l)}}}function kt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,c=!1,x;for(x in n)if(n.hasOwnProperty(x)){var v=n[x];if(v!=null)switch(x){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:it(e,t,x,v,n,null)}}c&&it(e,t,"srcSet",n.srcSet,n,null),l&&it(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var T=x=v=c=null,K=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":c=ie;break;case"type":v=ie;break;case"checked":K=ie;break;case"defaultChecked":te=ie;break;case"value":x=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:it(e,t,l,ie,n,null)}}Hs(e,x,T,K,te,v,c,!1);return;case"select":Re("invalid",e),l=v=x=null;for(c in n)if(n.hasOwnProperty(c)&&(T=n[c],T!=null))switch(c){case"value":x=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:it(e,t,c,T,n,null)}t=x,n=v,e.multiple=!!l,t!=null?Sa(e,!!l,t,!1):n!=null&&Sa(e,!!l,n,!0);return;case"textarea":Re("invalid",e),x=c=l=null;for(v in n)if(n.hasOwnProperty(v)&&(T=n[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":c=T;break;case"children":x=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:it(e,t,v,T,n,null)}Ys(e,l,c,x);return;case"option":for(K in n)n.hasOwnProperty(K)&&(l=n[K],l!=null)&&(K==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":it(e,t,K,l,n,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<Yi.length;l++)Re(Yi[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:it(e,t,te,l,n,null)}return;default:if(Wu(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&q0(e,t,ie,l,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(l=n[T],l!=null&&it(e,t,T,l,n,null))}function L2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,x=null,v=null,T=null,K=null,te=null,ie=null;for(ae in n){var ue=n[ae];if(n.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":K=ue;default:l.hasOwnProperty(ae)||it(e,t,ae,null,l,ue)}}for(var ne in l){var ae=l[ne];if(ue=n[ne],l.hasOwnProperty(ne)&&(ae!=null||ue!=null))switch(ne){case"type":x=ae;break;case"name":c=ae;break;case"checked":te=ae;break;case"defaultChecked":ie=ae;break;case"value":v=ae;break;case"defaultValue":T=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ae!==ue&&it(e,t,ne,ae,l,ue)}}Vu(e,v,T,K,te,ie,x,c);return;case"select":ae=v=T=ne=null;for(x in n)if(K=n[x],n.hasOwnProperty(x)&&K!=null)switch(x){case"value":break;case"multiple":ae=K;default:l.hasOwnProperty(x)||it(e,t,x,null,l,K)}for(c in l)if(x=l[c],K=n[c],l.hasOwnProperty(c)&&(x!=null||K!=null))switch(c){case"value":ne=x;break;case"defaultValue":T=x;break;case"multiple":v=x;default:x!==K&&it(e,t,c,x,l,K)}t=T,n=v,l=ae,ne!=null?Sa(e,!!n,ne,!1):!!l!=!!n&&(t!=null?Sa(e,!!n,t,!0):Sa(e,!!n,n?[]:"",!1));return;case"textarea":ae=ne=null;for(T in n)if(c=n[T],n.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:it(e,t,T,null,l,c)}for(v in l)if(c=l[v],x=n[v],l.hasOwnProperty(v)&&(c!=null||x!=null))switch(v){case"value":ne=c;break;case"defaultValue":ae=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==x&&it(e,t,v,c,l,x)}Is(e,ne,ae);return;case"option":for(var me in n)ne=n[me],n.hasOwnProperty(me)&&ne!=null&&!l.hasOwnProperty(me)&&(me==="selected"?e.selected=!1:it(e,t,me,null,l,ne));for(K in l)ne=l[K],ae=n[K],l.hasOwnProperty(K)&&ne!==ae&&(ne!=null||ae!=null)&&(K==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":it(e,t,K,ne,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in n)ne=n[Ce],n.hasOwnProperty(Ce)&&ne!=null&&!l.hasOwnProperty(Ce)&&it(e,t,Ce,null,l,ne);for(te in l)if(ne=l[te],ae=n[te],l.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,t));break;default:it(e,t,te,ne,l,ae)}return;default:if(Wu(t)){for(var rt in n)ne=n[rt],n.hasOwnProperty(rt)&&ne!==void 0&&!l.hasOwnProperty(rt)&&q0(e,t,rt,void 0,l,ne);for(ie in l)ne=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||ne===ae||ne===void 0&&ae===void 0||q0(e,t,ie,ne,l,ae);return}}for(var P in n)ne=n[P],n.hasOwnProperty(P)&&ne!=null&&!l.hasOwnProperty(P)&&it(e,t,P,null,l,ne);for(ue in l)ne=l[ue],ae=n[ue],!l.hasOwnProperty(ue)||ne===ae||ne==null&&ae==null||it(e,t,ue,ne,l,ae)}function Vf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],x=c.transferSize,v=c.initiatorType,T=c.duration;if(x&&T&&Vf(v)){for(v=0,T=c.responseEnd,l+=1;l<n.length;l++){var K=n[l],te=K.startTime;if(te>T)break;var ie=K.transferSize,ue=K.initiatorType;ie&&Vf(ue)&&(K=K.responseEnd,v+=ie*(K<T?1:(T-te)/(K-te)))}if(--l,t+=8*(x+v)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var R0=null,G0=null;function ru(e){return e.nodeType===9?e:e.ownerDocument}function Jf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function k0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var O0=null;function B2(){var e=window.event;return e&&e.type==="popstate"?e===O0?!1:(O0=e,!0):(O0=null,!1)}var Qf=typeof setTimeout=="function"?setTimeout:void 0,q2=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,R2=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(e){return Pf.resolve(null).then(e).catch(G2)}:Qf;function G2(e){setTimeout(function(){throw e})}function Gl(e){return e==="head"}function Ff(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),ei(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Zi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Zi(n);for(var x=n.firstChild;x;){var v=x.nextSibling,T=x.nodeName;x[cn]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=v}}else n==="body"&&Zi(e.ownerDocument.body);n=c}while(n);ei(t)}function $f(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function H0(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":H0(n),ci(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function k2(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[cn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function O2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Tn(e.nextSibling),e===null))return null;return e}function ed(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Tn(e.nextSibling),e===null))return null;return e}function I0(e){return e.data==="$?"||e.data==="$~"}function Y0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var U0=null;function td(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Tn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function nd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ld(e,t,n){switch(t=ru(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Zi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ci(e)}var Ln=new Map,ad=new Set;function uu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vl=B.d;B.d={f:I2,r:Y2,D:U2,C:Z2,L:K2,m:X2,X:J2,S:V2,M:W2};function I2(){var e=vl.f(),t=Fr();return e||t}function Y2(e){var t=ya(e);t!==null&&t.tag===5&&t.type==="form"?po(t):vl.r(e)}var Pa=typeof document>"u"?null:document;function id(e,t,n){var l=Pa;if(l&&typeof t=="string"&&t){var c=wn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),ad.has(c)||(ad.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),kt(t,"link",e),At(t),l.head.appendChild(t)))}}function U2(e){vl.D(e),id("dns-prefetch",e,null)}function Z2(e,t){vl.C(e,t),id("preconnect",e,t)}function K2(e,t,n){vl.L(e,t,n);var l=Pa;if(l&&e&&t){var c='link[rel="preload"][as="'+wn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+wn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+wn(n.imageSizes)+'"]')):c+='[href="'+wn(e)+'"]';var x=c;switch(t){case"style":x=Fa(e);break;case"script":x=$a(e)}Ln.has(x)||(e=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ln.set(x,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Ki(x))||t==="script"&&l.querySelector(Xi(x))||(t=l.createElement("link"),kt(t,"link",e),At(t),l.head.appendChild(t)))}}function X2(e,t){vl.m(e,t);var n=Pa;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(e)+'"]',x=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=$a(e)}if(!Ln.has(x)&&(e=g({rel:"modulepreload",href:e},t),Ln.set(x,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xi(x)))return}l=n.createElement("link"),kt(l,"link",e),At(l),n.head.appendChild(l)}}}function V2(e,t,n){vl.S(e,t,n);var l=Pa;if(l&&e){var c=pa(l).hoistableStyles,x=Fa(e);t=t||"default";var v=c.get(x);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ki(x)))T.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ln.get(x))&&Z0(e,n);var K=v=l.createElement("link");At(K),kt(K,"link",e),K._p=new Promise(function(te,ie){K.onload=te,K.onerror=ie}),K.addEventListener("load",function(){T.loading|=1}),K.addEventListener("error",function(){T.loading|=2}),T.loading|=4,cu(v,t,l)}v={type:"stylesheet",instance:v,count:1,state:T},c.set(x,v)}}}function J2(e,t){vl.X(e,t);var n=Pa;if(n&&e){var l=pa(n).hoistableScripts,c=$a(e),x=l.get(c);x||(x=n.querySelector(Xi(c)),x||(e=g({src:e,async:!0},t),(t=Ln.get(c))&&K0(e,t),x=n.createElement("script"),At(x),kt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(c,x))}}function W2(e,t){vl.M(e,t);var n=Pa;if(n&&e){var l=pa(n).hoistableScripts,c=$a(e),x=l.get(c);x||(x=n.querySelector(Xi(c)),x||(e=g({src:e,async:!0,type:"module"},t),(t=Ln.get(c))&&K0(e,t),x=n.createElement("script"),At(x),kt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(c,x))}}function rd(e,t,n,l){var c=(c=xe.current)?uu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fa(n.href),n=pa(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fa(n.href);var x=pa(c).hoistableStyles,v=x.get(e);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,v),(x=c.querySelector(Ki(e)))&&!x._p&&(v.instance=x,v.state.loading=5),Ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(e,n),x||Q2(c,e,n,v.state))),t&&l===null)throw Error(i(528,""));return v}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$a(n),n=pa(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Fa(e){return'href="'+wn(e)+'"'}function Ki(e){return'link[rel="stylesheet"]['+e+"]"}function ud(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function Q2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),kt(t,"link",n),At(t),e.head.appendChild(t))}function $a(e){return'[src="'+wn(e)+'"]'}function Xi(e){return"script[async]"+e}function cd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+wn(n.href)+'"]');if(l)return t.instance=l,At(l),l;var c=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),At(l),kt(l,"style",c),cu(l,n.precedence,e),t.instance=l;case"stylesheet":c=Fa(n.href);var x=e.querySelector(Ki(c));if(x)return t.state.loading|=4,t.instance=x,At(x),x;l=ud(n),(c=Ln.get(c))&&Z0(l,c),x=(e.ownerDocument||e).createElement("link"),At(x);var v=x;return v._p=new Promise(function(T,K){v.onload=T,v.onerror=K}),kt(x,"link",l),t.state.loading|=4,cu(x,n.precedence,e),t.instance=x;case"script":return x=$a(n.src),(c=e.querySelector(Xi(x)))?(t.instance=c,At(c),c):(l=n,(c=Ln.get(x))&&(l=g({},n),K0(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),At(c),kt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,cu(l,n.precedence,e));return t.instance}function cu(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,x=c,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===t)x=T;else if(x!==c)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Z0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function K0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var su=null;function sd(e,t,n){if(su===null){var l=new Map,c=su=new Map;c.set(n,l)}else c=su,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var x=n[c];if(!(x[cn]||x[Mt]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var v=x.getAttribute(t)||"";v=e+v;var T=l.get(v);T?T.push(x):l.set(v,[x])}}return l}function xd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function P2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function od(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function F2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Fa(l.href),x=t.querySelector(Ki(c));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=xu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,At(x);return}x=t.ownerDocument||t,l=ud(l),(c=Ln.get(c))&&Z0(l,c),x=x.createElement("link"),At(x);var v=x;v._p=new Promise(function(T,K){v.onload=T,v.onerror=K}),kt(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=xu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var X0=0;function $2(e,t){return e.stylesheets&&e.count===0&&fu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&fu(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&X0===0&&(X0=62500*E2());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fu(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>X0?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function xu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ou=null;function fu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ou=new Map,t.forEach(eh,e),ou=null,xu.call(e))}function eh(e,t){if(!(t.state.loading&4)){var n=ou.get(e);if(n)var l=n.get(null);else{n=new Map,ou.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<c.length;x++){var v=c[x];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),l=v)}l&&n.set(null,l)}c=t.instance,v=c.getAttribute("data-precedence"),x=n.get(v)||l,x===l&&n.set(null,c),n.set(v,c),this.count++,l=xu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),x?x.parentNode.insertBefore(c,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Vi={$$typeof:R,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function th(e,t,n,l,c,x,v,T,K){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=x,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function fd(e,t,n,l,c,x,v,T,K,te,ie,ue){return e=new th(e,t,n,v,K,te,ie,ue,T),t=1,x===!0&&(t|=24),x=xn(3,null,null,t),e.current=x,x.stateNode=e,t=jc(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},Nc(x),e}function dd(e){return e?(e=Aa,e):Aa}function hd(e,t,n,l,c,x){c=dd(c),l.context===null?l.context=c:l.pendingContext=c,l=Ml(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=zl(e,l,t),n!==null&&($t(n,e,t),ji(n,e,t))}function md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function V0(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function bd(e){if(e.tag===13||e.tag===31){var t=Fl(e,67108864);t!==null&&$t(t,e,67108864),V0(e,67108864)}}function vd(e){if(e.tag===13||e.tag===31){var t=mn();t=tt(t);var n=Fl(e,t);n!==null&&$t(n,e,t),V0(e,t)}}var du=!0;function nh(e,t,n,l){var c=w.T;w.T=null;var x=B.p;try{B.p=2,J0(e,t,n,l)}finally{B.p=x,w.T=c}}function lh(e,t,n,l){var c=w.T;w.T=null;var x=B.p;try{B.p=8,J0(e,t,n,l)}finally{B.p=x,w.T=c}}function J0(e,t,n,l){if(du){var c=W0(l);if(c===null)B0(e,t,l,hu,n),yd(e,l);else if(ih(c,e,t,n,l))l.stopPropagation();else if(yd(e,l),t&4&&-1<ah.indexOf(e)){for(;c!==null;){var x=ya(c);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var v=ve(x.pendingLanes);if(v!==0){var T=x;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var K=1<<31-ce(v);T.entanglements[1]|=K,v&=~K}Qn(x),(Pe&6)===0&&(Qr=Xe()+500,Ii(0))}}break;case 31:case 13:T=Fl(x,2),T!==null&&$t(T,x,2),Fr(),V0(x,2)}if(x=W0(l),x===null&&B0(e,t,l,hu,n),x===c)break;c=x}c!==null&&l.stopPropagation()}else B0(e,t,l,null,n)}}function W0(e){return e=Pu(e),Q0(e)}var hu=null;function Q0(e){if(hu=null,e=ga(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hu=e,null}function gd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case yl:return 2;case Kl:return 8;case Gn:case ba:return 32;case kn:return 268435456;default:return 32}default:return 32}}var P0=!1,kl=null,Ol=null,Hl=null,Ji=new Map,Wi=new Map,Il=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":Ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(t.pointerId)}}function Qi(e,t,n,l,c,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[c]},t!==null&&(t=ya(t),t!==null&&bd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function ih(e,t,n,l,c){switch(t){case"focusin":return kl=Qi(kl,e,t,n,l,c),!0;case"dragenter":return Ol=Qi(Ol,e,t,n,l,c),!0;case"mouseover":return Hl=Qi(Hl,e,t,n,l,c),!0;case"pointerover":var x=c.pointerId;return Ji.set(x,Qi(Ji.get(x)||null,e,t,n,l,c)),!0;case"gotpointercapture":return x=c.pointerId,Wi.set(x,Qi(Wi.get(x)||null,e,t,n,l,c)),!0}return!1}function pd(e){var t=ga(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){vd(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){vd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=W0(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Qu=l,n.target.dispatchEvent(l),Qu=null}else return t=ya(n),t!==null&&bd(t),e.blockedOn=n,!1;t.shift()}return!0}function _d(e,t,n){mu(e)&&n.delete(t)}function rh(){P0=!1,kl!==null&&mu(kl)&&(kl=null),Ol!==null&&mu(Ol)&&(Ol=null),Hl!==null&&mu(Hl)&&(Hl=null),Ji.forEach(_d),Wi.forEach(_d)}function bu(e,t){e.blockedOn===t&&(e.blockedOn=null,P0||(P0=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,rh)))}var vu=null;function Sd(e){vu!==e&&(vu=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){vu===e&&(vu=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Q0(l||n)===null)continue;break}var x=ya(n);x!==null&&(e.splice(t,3),t-=3,Wc(x,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function ei(e){function t(K){return bu(K,e)}kl!==null&&bu(kl,e),Ol!==null&&bu(Ol,e),Hl!==null&&bu(Hl,e),Ji.forEach(t),Wi.forEach(t);for(var n=0;n<Il.length;n++){var l=Il[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Il.length&&(n=Il[0],n.blockedOn===null);)pd(n),n.blockedOn===null&&Il.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],x=n[l+1],v=c[Yt]||null;if(typeof x=="function")v||Sd(n);else if(v){var T=null;if(x&&x.hasAttribute("formAction")){if(c=x,v=x[Yt]||null)T=v.formAction;else if(Q0(c)!==null)continue}else T=v.action;typeof T=="function"?n[l+1]=T:(n.splice(l,3),l-=3),Sd(n)}}}function Cd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(v){return c=v})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function F0(e){this._internalRoot=e}gu.prototype.render=F0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=mn();hd(n,l,e,t,null,null)},gu.prototype.unmount=F0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hd(e.current,2,null,e,null,null),Fr(),t[fe]=null}};function gu(e){this._internalRoot=e}gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=va();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Il.length&&t!==0&&t<Il[n].priority;n++);Il.splice(n,0,e),n===0&&pd(e)}};var wd=r.version;if(wd!=="19.2.3")throw Error(i(527,wd,"19.2.3"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=d(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var uh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{$n=yu.inject(uh),Bt=yu}catch{}}return Fi.createRoot=function(e,t){if(!f(e))throw Error(i(299));var n=!1,l="",c=Ao,x=To,v=Lo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=fd(e,1,!1,null,null,n,l,null,c,x,v,Cd),e[fe]=t.current,E0(e),new F0(t)},Fi.hydrateRoot=function(e,t,n){if(!f(e))throw Error(i(299));var l=!1,c="",x=Ao,v=To,T=Lo,K=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(K=n.formState)),t=fd(e,1,!0,t,n??null,l,c,K,x,v,T,Cd),t.context=dd(null),n=t.current,l=mn(),l=tt(l),c=Ml(l),c.callback=null,zl(n,c,l),n=l,t.current.lanes=n,vt(t,n),Qn(t),e[fe]=t.current,E0(e),new gu(t)},Fi.version="19.2.3",Fi}var Bd;function vh(){if(Bd)return ts.exports;Bd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),ts.exports=bh(),ts.exports}var gh=vh();function Cu(){const u=["mtG1mZC0nfneAw9LCq","BgvUz3rO","BgvHzKLKCW","ndCWnte5CNLlshbg","Aw5JBhvKzxm","ntaWnteZm2ntqNDKDa","C2vHCMnO","DKX0zfG","mJi2ndu0mJbnwMTmz08","zMXVD2vYswrZ","Dg9ju09tDhjPBMC","zMLSDgvY","C3rYAw5NAwz5","zMLUza","mtHxqu9grhO","nw1zDNfnyW","BgvHzKDYB3vWCW","z3jVDxbZ","Cg9ZAxrPB24","mZi0ntaYvuzesujM","BgvHDMvZ","mtuXnJeXme9crgn4AW","Be1NvKu","m3HKD2LVzq","mti0mZiYofv0shjlCG","y29UC3rYDwn0B3i"];return Cu=function(){return u},Cu()}const ii=Yn;(function(u,r){const a=Yn,i=u();for(;;)try{if(-parseInt(a(320))/1+parseInt(a(336))/2*(-parseInt(a(314))/3)+parseInt(a(315))/4*(parseInt(a(332))/5)+-parseInt(a(312))/6+-parseInt(a(322))/7+-parseInt(a(317))/8*(parseInt(a(331))/9)+parseInt(a(325))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Cu,511439);const yh=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),us=yh(void 0,function(){const u=Yn,r={lMgVE:"(((.+)+)+)+$"};return us.toString().search(r[u(313)]).toString()[u(316)](us)[u(323)]("(((.+)+)+)+$")});us();const wu=()=>new Date()[ii(327)](),Ot=u=>u+"_"+Math.random().toString(36).slice(2,10),we=(u,r,a)=>Math.max(r,Math.min(a,u));function Yn(u,r){u=u-311;const a=Cu();let i=a[u];if(Yn.QamVsr===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Yn.KpOlyX=f,Yn.lRvBHh={},Yn.QamVsr=!0}const o=a[0],m=u+o,p=Yn.lRvBHh[m];if(p)i=p;else{const h=function(d){this.zHKoBv=d,this.jIxYfE=[1,0,0],this.zkKPOJ=function(){return"newState"},this.oewYmA="\\w+ *\\(\\) *{\\w+ *",this.QcMdaJ=`['|"].+['|"];? *}`};h.prototype.FLqdYD=function(){const d=new RegExp(this.oewYmA+this.QcMdaJ),y=d.test(this.zkKPOJ.toString())?--this.jIxYfE[1]:--this.jIxYfE[0];return this.GBWrrb(y)},h.prototype.GBWrrb=function(d){return~d?this.kqZnux(this.zHKoBv):d},h.prototype.kqZnux=function(d){for(let y=0,g=this.jIxYfE.length;y<g;y++)this.jIxYfE.push(Math.round(Math.random())),g=this.jIxYfE.length;return d(this.jIxYfE[0])},new h(Yn).FLqdYD(),i=Yn.KpOlyX(i),Yn.lRvBHh[m]=i}return i}const Ul=u=>{const r=ii;return u===void 0||{ZTVbq:function(i,f){return i===f}}.ZTVbq(u,null)?u:JSON.parse(JSON[r(329)](u))},er=u=>Math.floor(u*.7/5)*5;function ha(u,r){const a=ii;return u[a(334)]?u[a(334)][a(330)](i=>i[a(326)][a(321)](r))??null:null}function ph(u,r){const a=ii,i=ha(u,r);return i?i[a(326)]:[r]}function Zu(u,r){const a=ii;return u.leafGroups?u[a(333)][a(330)](i=>i[a(319)].includes(r))??null:null}function _h(u,r){const a=ii,i={vLtdX:function(h,d){return h===d},LwCfD:function(h,d){return h/d}},f=(u.leafGroups??[])[a(330)](h=>h.id===r);if(!f||i[a(324)](f[a(319)][a(318)],0))return{x:0,y:0};const o=f.leafIds.map(h=>(u[a(311)]??[])[a(330)](d=>d.id===h))[a(328)](h=>!!h);if(i[a(324)](o.length,0))return{x:0,y:0};const m=o.reduce((h,d)=>h+d[a(335)].x,0),p=o.reduce((h,d)=>h+d[a(335)].y,0);return{x:i.LwCfD(m,o.length),y:p/o.length}}function Sh(u,r){const a=Zu(u,r);return a?a.leafIds:[r]}const ai=En;(function(u,r){const a=En,i=u();for(;;)try{if(parseInt(a(448))/1*(-parseInt(a(437))/2)+-parseInt(a(428))/3+-parseInt(a(476))/4*(parseInt(a(464))/5)+-parseInt(a(460))/6*(-parseInt(a(465))/7)+-parseInt(a(468))/8*(parseInt(a(473))/9)+parseInt(a(455))/10+parseInt(a(450))/11*(parseInt(a(459))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(ju,737001);const Ch=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),cs=Ch(void 0,function(){const u=En,r={qHXyv:"(((.+)+)+)+$"};return cs[u(452)]().search(r.qHXyv).toString()[u(471)](cs).search("(((.+)+)+)+$")});function En(u,r){u=u-428;const a=ju();let i=a[u];if(En.FKXdOo===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};En.TYTGDc=f,En.IoLXAE={},En.FKXdOo=!0}const o=a[0],m=u+o,p=En.IoLXAE[m];if(p)i=p;else{const h=function(d){this.IAZbSk=d,this.AVNuPc=[1,0,0],this.UZqeBf=function(){return"newState"},this.eWpQso="\\w+ *\\(\\) *{\\w+ *",this.OEIapp=`['|"].+['|"];? *}`};h.prototype.srthqm=function(){const d=new RegExp(this.eWpQso+this.OEIapp),y=d.test(this.UZqeBf.toString())?--this.AVNuPc[1]:--this.AVNuPc[0];return this.Xyhihc(y)},h.prototype.Xyhihc=function(d){return~d?this.uyDqdI(this.IAZbSk):d},h.prototype.uyDqdI=function(d){for(let y=0,g=this.AVNuPc.length;y<g;y++)this.AVNuPc.push(Math.round(Math.random())),g=this.AVNuPc.length;return d(this.AVNuPc[0])},new h(En).srthqm(),i=En.TYTGDc(i),En.IoLXAE[m]=i}return i}cs();const li=2/3,qd=.6,wh=.25,jh=.75;function Zl(u,r,a){const i=En,f={kGJAg:function(R,G){return R/G},yPrXE:function(R,G){return R*G},IYosq:function(R,G){return R*G},iWrRk:function(R,G){return R===G},mMGTa:function(R,G){return R+G},mzCsb:function(R,G){return R-G},WfWnr:function(R,G){return R/G},kNkcs:function(R,G){return R*G},rzUJa:function(R,G){return R*G},PtHMP:function(R,G){return R*G},chiAx:"gradual",TIneH:function(R,G){return R/G},eEdLx:function(R,G){return R/G},KKrnt:function(R,G){return R-G},PXuUA:function(R,G){return R+G}},o=f[i(431)](u,2),m=f.yPrXE(r,Math[i(453)])/2;if(m<=0||o<=0)return{diameter:u,layerCount:1};const p=a?.[i(444)]??i(446),h=a?.sizeStepMm??0,d=m*(1-li),y=f[i(431)](f[i(442)](Math.PI,o),2),g=a?.layerCount??Math.max(1,Math.round(y/d)),D=f[i(467)](p,"gradual")?f.mMGTa(r,f[i(458)](f[i(469)](g,1),h)):r,b=D*Math.SQRT2/2,N=m*wh+b*jh;if(g===1){const R=Math.min(f.kGJAg(Math.PI,2),f.WfWnr(b*li,o)),G=f.kNkcs(o,Math.sin(R)),U=f[i(462)](b*qd,Math[i(433)](R));return{diameter:Math[i(466)](Math.max(u,f.yPrXE(2,f.mMGTa(G,U)))),layerCount:g}}let C=f[i(429)](m,li)/o;for(let R=1;R<g;R++){const G=p===f[i(439)]?r+R*h:r,U=f[i(431)](G*Math.SQRT2,2);C+=f.TIneH(U*f[i(469)](1,li),o)}C=Math.min(C,f.eEdLx(Math.PI,2));const j=(o+N*qd)*Math.sin(C),L=Math[i(441)](0,f[i(456)](j,o));return{diameter:Math[i(466)](f.PXuUA(u,2*L)),layerCount:g}}function lr(u,r,a=ai(446),i=0){const f=ai,o={ggpgN:function(h,d){return h<=d},vbmEu:function(h,d){return h<d},kQrPf:function(h,d){return h+d},sFKOj:function(h,d){return h/d},IWIGH:function(h,d){return h*d},vTBnZ:function(h,d){return h<d},eePUo:function(h,d){return h/d}};if(o.ggpgN(r,0)||o[f(475)](u,0))return 0;const m=[];for(let h=0;o.vbmEu(h,r);h++){const d=a===f(440)?o[f(449)](u,h*i):u;m.push(o.sFKOj(o.IWIGH(d,Math.SQRT2),2))}let p=m[0];for(let h=1;o[f(454)](h,r);h++)p+=o[f(443)](m[h],3);return Math.round(p*2)}function Mh(u,r,a=ai(446),i=0){const f=ai,o={KJfuk:function(g,D){return g<=D},HigRG:function(g,D){return g/D},iJzVn:"uniform",eWrVh:function(g,D){return g/D},EKQQx:function(g,D){return g*D},aiDIG:function(g,D){return g-D},SzdqP:function(g,D){return g+D}};if(r<=0||o.KJfuk(u,0))return 0;const m=o.HigRG(u,2),p=Math[f(453)]/2,h=r;if(a===o.iJzVn||i===0){const g=o.eWrVh(o[f(457)](p,h+2),3);return Math.max(1,Math[f(466)](m/g))}const d=o.EKQQx(i*o[f(434)](h,1),h)/6,y=o.EKQQx(m/p-d,3)/o[f(432)](h,2);return Math[f(441)](1,Math[f(466)](y))}function ju(){const u=["sgLLr08","mKnYt0HTra","uhP1vKK","y2HPqxG","z3jHzhvHBa","Bwf4","svLVC3e","zwvqvw8","C2L6zu1Vzgu","CNveCuq","Dw5PzM9YBq","C2L6zvn0zxbnBq","mtG4nZyZuKDTv0Tb","A1fYugy","mtfSufrqrKO","C0X1tuW","Dg9tDhjPBMC","u1fsvdi","DLrcBLO","mJmWnJqWmfvnwvfuzG","s0TYBNq","ruTruxG","EvbYweu","mtyYmZKXotjmr3DXwgS","ntCWnZu2BxDzvLvf","DgHAzxu","CNPvsMe","BgDdtLi","mJCWtMDJq294","nZbYDgfZsva","CM91BMq","AvDYuMS","offdCLLtta","BxPdC2i","vfnuC1m","y29UC3rYDwn0B3i","AMXSy1m","mtuWmZe0nerVAureAW","vMnSq0y","z2DWz04","ndu5nJbYrgLly08","mJq2ntC3ohH2yKz3sW","uhritva","rhH4ue4","A0DkqwC","u3PKCva","C2LU","ywLesuC","vu1prxu"];return ju=function(){return u},ju()}function zh(u,r,a){const i=ai,f={eNYUy:function(p,h){return p<=h},DxxPN:function(p,h){return p/h},udKLX:function(p,h,d,y){return p(h,d,y)},UMOEu:function(p,h){return p<h}};if(f.eNYUy(u,r))return 1;let o=1,m=80;for(let p=0;p<30;p++){const h=f[i(430)](o+m,2),{diameter:d}=f.udKLX(Zl,r,h,a);f[i(435)](d,u)?o=h:m=h}return Math.max(1,Math[i(466)]((o+m)/2))}function Dh(u,r,a){const i=ai,f={TSTsS:function(D,b){return D/b},sLuML:function(D,b){return D/b},ZFTcM:function(D,b){return D/b},RPUoU:"uniform",jllcS:function(D,b){return D===b},kuNDB:i(445),thZeu:function(D,b){return D*b},lgCNR:function(D,b){return D/b},vkncI:function(D,b){return D/b},HieGO:function(D,b){return D>=b},VclCF:function(D,b){return D+b}},o=u/2,m=f.ZFTcM(r*Math.SQRT2,2);if(m<=0||o<=0)return 1;const p=a?.sizeMode??f.RPUoU,h=a?.[i(447)]??0,d=Math.PI/2;if(p==="uniform"||h===0)if(f[i(472)](i(438),f.kuNDB)){const D=f[i(470)](_0x31f0db,3),b=_0x57c1d9.PI*_0x3ed8ca/2;return _0x5d6e90[i(441)](1,_0x274191[i(466)](f[i(451)](b,D)))}else{const D=m/3,b=f.TSTsS(f.thZeu(Math.PI,o),2);return Math[i(441)](1,Math.round(f[i(463)](b,D)))}let y=f.vkncI(m*li,o);if(f[i(436)](y,d))return 1;let g=1;for(let D=1;D<100;D++){const b=f[i(474)](r,f[i(461)](D,h)),N=b*Math.SQRT2/2,C=f[i(461)](N,1-li)/o;if(y+=C,y>d+C/2)break;g=D+1}return Math.max(1,g)}(function(u,r){const a=jt,i=u();for(;;)try{if(parseInt(a(205))/1*(parseInt(a(199))/2)+-parseInt(a(207))/3+-parseInt(a(186))/4*(parseInt(a(211))/5)+-parseInt(a(214))/6+parseInt(a(215))/7*(-parseInt(a(219))/8)+-parseInt(a(204))/9+parseInt(a(180))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Mu,504778);const Nh=(function(){const u={vPXLD:function(a,i){return a*i},vVLms:function(a,i){return a/i},fhfml:function(a,i){return a===i},IzKyz:"TlEMH"};let r=!0;return function(a,i){const f=r?function(){const o=jt,m={CGnQt:function(p,h){return p-h},SWRYD:function(p,h){return u[jt(166)](p,h)},NQUyN:function(p,h){return u[jt(192)](p,h)},RkoNQ:function(p,h){return p>h}};if(i)if(u[o(201)](u.IzKyz,u.IzKyz)){const p=i.apply(a,arguments);return i=null,p}else{if(_0x1394dd.length===0)return;const p=_0x24a897[m[o(182)](_0x4cb78d.length,1)],{length:h}=_0x5b1c76(_0x288342),d=m.SWRYD(h,p.scale??1),y=m.NQUyN(_0x35113c[o(176)](d*_0x4b4a34*10),10);m.RkoNQ(p.radius,y)&&(p.radius=y)}}:function(){};return r=!1,f}})(),ss=Nh(void 0,function(){const u=jt;return ss.toString().search(u(210)).toString().constructor(ss).search(u(210))});ss();const rr=.28,Rd={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function jt(u,r){u=u-161;const a=Mu();let i=a[u];if(jt.nOwVeS===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};jt.jAzTTA=f,jt.WVWzMs={},jt.nOwVeS=!0}const o=a[0],m=u+o,p=jt.WVWzMs[m];if(p)i=p;else{const h=function(d){this.zfHbmt=d,this.FXPrKF=[1,0,0],this.iAlhKK=function(){return"newState"},this.DnoVAP="\\w+ *\\(\\) *{\\w+ *",this.vzjDym=`['|"].+['|"];? *}`};h.prototype.caSMxN=function(){const d=new RegExp(this.DnoVAP+this.vzjDym),y=d.test(this.iAlhKK.toString())?--this.FXPrKF[1]:--this.FXPrKF[0];return this.FckMQY(y)},h.prototype.FckMQY=function(d){return~d?this.izViyq(this.zfHbmt):d},h.prototype.izViyq=function(d){for(let y=0,g=this.FXPrKF.length;y<g;y++)this.FXPrKF.push(Math.round(Math.random())),g=this.FXPrKF.length;return d(this.FXPrKF[0])},new h(jt).caSMxN(),i=jt.jAzTTA(i),jt.WVWzMs[m]=i}return i}function xs(u){const r=jt,a={bsypC:r(218),iEaDD:""};return u===a[r(181)]?Rd[r(218)]:Rd[a[r(174)]]}function ma(u){return u*Math.PI/180}const rn=2.7;function Ht(u){const r=u*Math.SQRT2/2,a=r*rn,i=a/2;return{length:a,width:i}}function Mu(){const u=["mtC2mZq3mfzPA1nPuW","sK9iDva","BKj5EvG","mtG3nJG1ngTrrw1RuG","ndi2mdLesMnYEu4","B3jKzxi","B0vbwve","5yMJ44gK44g+44g/","nZyWzgP3wef4","vfzOB2C","wwjeqxq","Bwf4","Cvnrtgu","vfzytgG","DLbyteq","v3HcthG","DK9yvNa","tuDVzNi","CMfKAxvZ","r2Hjs04","Dg9gAxHLza","qxLRDvC","AuvHreq","vMXmvMq","zMXVB3i","yM90z2m","y29Z","sLLXv0K","mJa1mdq5ntbzuhvlCvu","yNn5Cem","q0DUuxq","C2nHBgu","u295Cgm","DxLfzgS","nenxqu1iAq","CwHXu3e","s0HNrMO","A1LNCum","AKvUtuG","Eu1twMG","DLzmBxm","ChvZAa","r2DlDxe","C2LU","AwrxD3u","wwPNyu0","CK10BLa","ndC2ntmWAMr6DNLL","uKvhEhK","zMHMBwW","CM91BMq","BwLU","mtG5ndq3m2zRtKzoBG","mKn2BvLyyW","uNzuBgC","mtCWmZK0nMzptNL6yW","zvjJwK0","C29YDa","kcGOlISPkYKRksSK"];return Mu=function(){return u},Mu()}function Ah(u){return{Jnpyf:function(a,i){return a*i}}.Jnpyf(u,rn)/2}function tr(u,r,a){const i={AjUaf:function(h,d){return h*d},nkjCY:function(h,d){return h+d},vQmPT:function(h,d){return h*d}},{length:f}=Ht(a),o=f*r,m=Math.max(0,u-i.AjUaf(o,rr)),p=i.nkjCY(m,o);return i.vQmPT(p,2)/rn}function Th(u,r,a){const i=jt,f={KHgFj:function(h,d){return h(d)},idWwu:function(h,d){return h*d},TVXLh:function(h,d){return h-d}},{length:o}=f[i(188)](Ht,a),m=f[i(196)](o,r),p=u*rn/2;return Math[i(163)](2,f[i(165)](p,m*(1-rr)))}function Fn(u,r,a){const i=jt,f={kYgqC:function(y,g){return y??g},YbDAt:function(y,g){return y/g},Frsbg:function(y,g){return y%g},oEAYQ:function(y,g){return y*g},qSQLe:function(y,g){return y+g},YjgaM:function(y,g){return y*g},iOETP:function(y,g){return y<g},EpUlv:function(y,g){return y%g},botgc:function(y,g){return y/g}};if(!u||u<=0||!a||a<=0)return f[i(189)](r,0);const o=360/u,m=f[i(162)](360,a),p=[];for(let y=0;y<u;y++)p[i(193)](f.Frsbg((r+f[i(217)](y,o))%360+360,360));let h=f[i(164)](r,o/2),d=-1;for(let y=0;y<u;y++){const g=f[i(164)](r,f[i(197)](y,o))+o/2;let D=1/0;for(let b=0;f.iOETP(b,a);b++){const N=(f.EpUlv(f[i(164)](g,f.oEAYQ(b,m)),360)+360)%360;for(const C of p){let j=Math.abs(N-C);j>180&&(j=360-j),j<D&&(D=j)}}D>d&&(d=D,h=g)}return f[i(177)](Math.round(h*10),10)}function Ku(u,r,a){const i=jt,f={qhqSq:function(b,N){return b*N},MGofr:function(b,N){return b+N},yMSZh:function(b,N){return b*N},eRcZM:function(b,N){return b/N},vbpXS:function(b,N){return b*N},nrtvH:function(b,N,C){return b(N,C)}};if(u.length===0)return;const{length:o}=Ht(r),m=u[0],p=m.scale??1,h=o*p,d=Math[i(163)](0,m[i(170)]-f[i(187)](h,rr)),y=f[i(169)](d,h);if(y<=0)return;const g=f.yMSZh(a,rn)/2,D=f[i(208)](g,y);for(const b of u)b.radius=Math.max(2,f.eRcZM(Math[i(202)](f[i(191)](f.vbpXS(b[i(170)],D),10)),10)),b.scale=Math[i(202)](f.qhqSq((b.scale??1)*D,100))/100;f.nrtvH(os,u,r)}function os(u,r){const a=jt,i={Aoxef:function(h,d){return h(d)},LXRXF:function(h,d){return h/d},YuIaH:function(h,d){return h>d}};if(u.length===0)return;const f=u[u.length-1],{length:o}=i.Aoxef(Ht,r),m=o*(f.scale??1),p=i.LXRXF(Math[a(176)](m*rr*10),10);i.YuIaH(f.radius,p)&&(f[a(170)]=p)}function Lh(u,r,a,i){const f=jt,o={rMtnP:function(D,b){return D/b},RvTlg:function(D,b){return D*b},jEnMH:function(D,b){return D-b},OeKJo:"",TVhog:function(D,b){return D/b},PQUte:function(D,b){return D>b},Soypc:function(D,b){return D/b},ZkJOI:function(D,b){return D*b},vOXVp:function(D,b){return D+b},REGxy:function(D,b,N,C){return D(b,N,C)},GgKuq:function(D,b){return D===b},JinHW:f(175),uyEdk:"vLGHW",AykuW:function(D,b){return D===b}};if(u.length===0)return;const m=[...u].sort((D,b)=>b.order-D[f(216)]),{length:p}=Ht(r),h=m.length,d=m[0][f(183)]??1,y=p*d;m[0].radius=Math.floor(o.RvTlg(o.RvTlg(y,rr),10))/10;for(let D=1;D<h;D++){const b=m[o[f(190)](D,1)],N=p*(b[f(183)]??1);let C;if(a===o.OeKJo){const L=o[f(161)](o.RvTlg(70,Math.PI),180),k=o.PQUte(h,1)?D/o[f(190)](h,1)*L:0;C=o[f(206)](N,o[f(184)](30,100))*Math.cos(k)}else C=N/3;m[D].radius=o.TVhog(Math.round(o.ZkJOI(o[f(168)](b.radius,C),10)),10)}const g=[...u][f(209)]((D,b)=>D[f(216)]-b.order);o[f(200)](Ku,g,r,i);for(const D of g){if(o[f(194)](o.JinHW,o[f(185)]))return SdSlSm[f(198)](_0x112d98*_0x5a085b.PI,180);{const b=u.find(N=>N.id===D.id);b&&(o[f(173)](f(171),"voBQY")?(_0x1a3926=_0x464364,_0x12f894=_0x3ee237):(b.radius=D[f(170)],b.scale=D[f(183)]))}}}function ri(u){const r=jt,a={JOHuP:function(h,d){return h(d)},WxBLx:function(h,d){return h/d}},i=360/u,f=Math[r(195)](a[r(212)](ma,i/2))*2,o=.96,m=1.2,p=a[r(167)](f*m,o);return Math[r(202)](Math[r(163)](.3,Math[r(203)](3,p))*100)/100}function en(u,r){u=u-271;const a=zu();let i=a[u];if(en.DOyoGX===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};en.XdFZPF=f,en.OaVtCx={},en.DOyoGX=!0}const o=a[0],m=u+o,p=en.OaVtCx[m];if(p)i=p;else{const h=function(d){this.jxTbUc=d,this.tWeoAD=[1,0,0],this.IffnFL=function(){return"newState"},this.ppYDkK="\\w+ *\\(\\) *{\\w+ *",this.SbvkZd=`['|"].+['|"];? *}`};h.prototype.ZVRtXl=function(){const d=new RegExp(this.ppYDkK+this.SbvkZd),y=d.test(this.IffnFL.toString())?--this.tWeoAD[1]:--this.tWeoAD[0];return this.WfDkGU(y)},h.prototype.WfDkGU=function(d){return~d?this.dzpHbW(this.jxTbUc):d},h.prototype.dzpHbW=function(d){for(let y=0,g=this.tWeoAD.length;y<g;y++)this.tWeoAD.push(Math.round(Math.random())),g=this.tWeoAD.length;return d(this.tWeoAD[0])},new h(en).ZVRtXl(),i=en.XdFZPF(i),en.OaVtCx[m]=i}return i}(function(u,r){const a=en,i=u();for(;;)try{if(parseInt(a(339))/1*(parseInt(a(337))/2)+-parseInt(a(280))/3*(parseInt(a(313))/4)+parseInt(a(332))/5+-parseInt(a(275))/6*(-parseInt(a(306))/7)+parseInt(a(328))/8*(-parseInt(a(287))/9)+parseInt(a(301))/10*(parseInt(a(315))/11)+-parseInt(a(338))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(zu,390698);const Eh=(function(){const u=en,r={gVzSa:u(327)};let a=!0;return function(i,f){const o=u;if(r[o(288)]===r[o(288)]){const m=a?function(){if(f){const p=f.apply(i,arguments);return f=null,p}}:function(){};return a=!1,m}else{const m=_0x2673b8.find(p=>p.id===_0x474073.id);m&&(m[o(291)]=_0x297f00.radius,m.scale=_0x4162f0.scale)}}})(),fs=Eh(void 0,function(){const u=en,r={TeeHE:"(((.+)+)+)+$"};return fs[u(351)]().search(r[u(285)])[u(351)]().constructor(fs)[u(330)](u(304))});fs();function Ud(){const u=en,r={HSvCw:"#F5F5F5",yytah:"col_red",hfXxe:u(272),cfWmZ:"col_orange",TKlgl:"#2FBF4A",FHPks:u(299),rjIZP:"#1A7A3A",EoSVE:"col_navy",FBCrK:"col_lavender",JnDPE:"#C8A2D4",FtSnF:"#D4A843",cCTVO:"col_silver",KpxhU:u(347),uzlIQ:u(309),sFGiT:"#8B5E3C",sibSJ:u(344)};return[{id:u(312),name:"",hex:r.HSvCw},{id:r[u(318)],name:"",hex:"#E34850"},{id:"col_pink",name:"",hex:"#F08CB6"},{id:u(355),name:"",hex:r.hfXxe},{id:r.cfWmZ,name:"",hex:u(345)},{id:"col_yellow",name:"",hex:u(342)},{id:"col_lightyellow",name:"",hex:"#FDF5C9"},{id:u(354),name:"",hex:r.TKlgl},{id:r[u(296)],name:"",hex:r[u(276)]},{id:u(303),name:"",hex:u(289)},{id:u(341),name:"",hex:u(274)},{id:r[u(292)],name:"",hex:"#2C3E6B"},{id:"col_purple",name:"",hex:u(335)},{id:r.FBCrK,name:"",hex:r.JnDPE},{id:u(311),name:"",hex:r.FtSnF},{id:r.cCTVO,name:"",hex:r.KpxhU},{id:r[u(281)],name:"",hex:u(300)},{id:u(284),name:"",hex:r[u(319)]},{id:"col_black",name:"",hex:"#333333"},{id:r[u(353)],name:"",hex:"#F08080"}]}function Bh({title:u,fabricSquareSize:r,baseDiameter:a}={}){const i=en,f={UUJTN:function(p){return p()},KLQWP:i(321)},o=f[i(333)](wu),m=f.UUJTN(Ud);return da({id:Ot(i(278)),title:u??f[i(290)],unit:"mm",fabricSquareSize:r??20,baseDiameter:a??30,notes:"",createdAt:o,updatedAt:o,palette:m,flowers:[]})}function zu(){const u=["tvjwBwC","C3PQAuC","sw5Uzxi","BuPlBMm","odi1mdrVBwvLuuO","qw12ywq","C2vHCMnO","vvjvvvu","mJiZoti3nwrHzxfABG","vvvkve4","wKv4z1C","iZLcntLcnG","ChjVAG","mta4q0jJzgfM","mtq2oduWmendAgLbqW","mti3ndHWtMXTvvq","zxH5sKi","y29Sx2jSDwu","i0yYrda0qG","5y2k44gp44gz","y29Sx2nVCMfS","i0yWoeeZqG","EwXoBwO","i0mWqZbdma","Bgf5","q2vUDgvY","yvfxrfu","Dg9tDhjPBMC","y1bkDgG","C2LIu0O","y29Sx2DYzwvU","y29Sx2HVDhbPBMS","DM5ZwKK","i0uWndu3qG","Cgv0ywXdB3vUDa","iZncn0reoa","nKHmBfPOwG","CMPjwLa","AM1LrhO","ChjQ","BMfTzq","m1LxrhPXDq","DxPSsve","zMX3","y29Sx3bPBMS","y29Sx2jYB3DU","vgvLseu","qw9Nqvm","ndvvEfzTwwC","z1z6u2e","iZDfqZHfmW","s0Xrv1a","CMfKAxvZ","rw9tvKu","sLv4zuK","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","B3jKzxi","rKHqA3m","BwfW","t3v0zxi","y29Sx2rHCMTNCMvLBG","i0y1rtzdqW","mtbpu2PlwuC","B2zMC2v0qw5NBgu","y29Sx2XPz2H0yMX1zq","kcGOlISPkYKRksSK","Cgv0ywXpDMvYCMLKzxm","nty4ote4t21xsKzZ","C29YDa","C2nHBgu","y29Sx2nYzwfT","y29Sx3jLza","y29Sx2DVBgq","y29Sx3DOAxrL","mZa0mJiWogLosg1nDG","5lI444gK44g+44g/","mte4ndm1oxLgug9tCW","Bgf5zxjZ","ienVChK","ExL0ywG","C0zhAvq","rLDuAfG","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","Cg9ZAxrPB24","r3HhDw8"];return zu=function(){return u},zu()}function qh(u,r){const a=en,i={WdLTd:function(p,h){return p(h)},nczbh:function(p,h){return p+h}},f=i.WdLTd(Ul,u);f.id=Ot(a(282)),f[a(279)]=u.name+a(317);const o=r?.x??12,m=r?.y??12;return f.position={x:i.nczbh(u.position?.x??0,o),y:(u[a(322)]?.y??0)+m},f.layers=(f[a(316)]||[])[a(297)](p=>({...p,id:Ot("lay"),petalOverrides:p[a(305)]?p.petalOverrides[a(297)](h=>({...h})):void 0})),f}(function(u,r){const a=bn,i=u();for(;;)try{if(-parseInt(a(458))/1+parseInt(a(408))/2*(-parseInt(a(471))/3)+parseInt(a(487))/4*(parseInt(a(457))/5)+parseInt(a(466))/6+parseInt(a(489))/7*(-parseInt(a(402))/8)+-parseInt(a(488))/9*(parseInt(a(465))/10)+parseInt(a(496))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Du,324299);const Rh=(function(){let u=!0;return function(r,a){const i=u?function(){const f=bn;if(a){const o=a[f(421)](r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),ds=Rh(void 0,function(){const u=bn;return ds.toString()[u(498)]("(((.+)+)+)+$").toString().constructor(ds).search("(((.+)+)+)+$")});function bn(u,r){u=u-395;const a=Du();let i=a[u];if(bn.gorzzw===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};bn.MJOfQh=f,bn.emSkcu={},bn.gorzzw=!0}const o=a[0],m=u+o,p=bn.emSkcu[m];if(p)i=p;else{const h=function(d){this.QrMUPM=d,this.CjGghe=[1,0,0],this.HKKboR=function(){return"newState"},this.nPLNqx="\\w+ *\\(\\) *{\\w+ *",this.zLthxV=`['|"].+['|"];? *}`};h.prototype.vhthrH=function(){const d=new RegExp(this.nPLNqx+this.zLthxV),y=d.test(this.HKKboR.toString())?--this.CjGghe[1]:--this.CjGghe[0];return this.CxVIBI(y)},h.prototype.CxVIBI=function(d){return~d?this.FjOqpK(this.QrMUPM):d},h.prototype.FjOqpK=function(d){for(let y=0,g=this.CjGghe.length;y<g;y++)this.CjGghe.push(Math.round(Math.random())),g=this.CjGghe.length;return d(this.CjGghe[0])},new h(bn).vhthrH(),i=bn.MJOfQh(i),bn.emSkcu[m]=i}return i}ds();function Du(){const u=["ANb6D2W","zMXVD2vYswrZ","twjntwm","ENPbue0","5yMJ44gK44g+44g/","C3rLBMnPBhm","DMLZAwjSzq","AxngAw5PDgu","CMfKAxvZ","veD3Cuq","Aw5JBhvKzxm","AxnbCNjHEq","BMfTzq","zKHTEgi","EerMDe0","ywflvfe","BunvBhK","44kW44oR44o844ox","zxrLEeC","y29SB3iY","yMfJAW","AgfZ","Bgf5zxjZ","CM91BMq","BgvHzG","u1jrDNe","CgfSzxr0zq","B2zMC2v0qw5NBgu","y29Sx2DYzwvU","DKTyBfu","mtb3we5JDeW","mJaXmtC3yw5duvji","Aw5UzxjtAxPLuMvKDwn0Aw9U","CgXHy2vTzw50tw9Kzq","BgvHzKDYB3vWCW","CM90yxrPB24","BgvHDMvZ","zg91yMXLugv0ywW","mtbmzMH2Cu0","mJK2nty1nLjWEhbnyq","zMX3","yMfZzurPyw1LDgvY","DxbKyxrLzef0","zMfICMLJu3f1yxjLu2L6zq","ndyWmtrHBufvDey","BeHiDNq","Cg9ZAxrPB24","rgvqr0S","tfDsvLC","wvzxvuG","y3jLyxrLzef0","5lI444gK44g+44g/","whzyqKO","DhLWzq","yM9VBgvHBG","6jgj44kW44oR44o844ox","y29Sx3DOAxrL","Awzuq20","BNzsuw0","CMLNAhq","nZeWmdq4q2fsDwTb","mJu4mJy5nhLhCNH1tW","ndiWnti5ouXhBevNDW","DMvYC2LVBG","C29Tzq","zMLSDgvY","v0XgtMO","BNP5yMy","Bg9JA2vK","nZu1mJyZm1v1CM9yCa","y29SB3jjza","C2vHCMnO","D2LKDgHty2fSzq","qNDPrfa","BgLUA2vKrMXVD2vYr3jVDxbjza","Aw5UzxjdB2XVCKLK","s0r3zuK","BgvUz3rO","D1LItw4","rMXVD2vY","y1nOrKq","zuDAtu4","uND0yLq","DKPWqMC","Cgv0ywXuExbL","44or44o844oR77Yl5BQN6yEr","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","44oA44od44ox","oeDwAvfPCG","C2L6zq","ELLmCvO","yvjWwLG","zMXVD2vYrgLHBwv0zxi","z3jW","mtz5Aezhvva","zMXVD2vYCW","z3jVDxbZ","y2vUDgvY","CgvWq291BNq","tKr5sMW","sergu1C","BgvHzKLKCW","C3rYAw5N","Cu9MtKO","5y2k44gp44gz","44or44o844oR","y29SB3i","yxbWBhK","BwfW","DxvfCfe","y2HPBgq","EM5dCLO","Cgv0ywXpDMvYCMLKzxm"];return Du=function(){return u},Du()}function is(u){const r=bn,a={NDyJl:"maru",PoKKd:function(i,f){return i===f},QmrqJ:function(i,f){return i===f}};return u===a[r(413)]?"":a.PoKKd(u,"ken")?"":a.QmrqJ(u,r(478))||u===r(431)?u:r(478)}function da(u){const r=bn,a={MbMMc:r(399),nvRQm:r(419),jpzwl:r(416),qUDFC:"",SzduH:function(o,m,p,h){return o(m,p,h)},FCnQq:function(o,m){return o*m},WiOhu:function(o,m){return o-m},zYLqZ:function(o,m){return o!==m},wYbMn:r(444),TGwqD:function(o,m){return o||m},Gwbbi:"VSwtz",nRpUM:r(467),cKWnK:function(o,m){return o!==m},eMEEy:r(506),FPdEu:"lay",DuPjq:"col_white",SRQvq:function(o,m){return o(m)},CEJCT:function(o,m,p,h){return o(m,p,h)},znCrZ:r(479),eBRcL:"object",vJpBg:function(o,m){return o===m},QFtwv:function(o,m){return o==m},SCglw:function(o,m){return o-m},ifTCm:function(o,m){return o!==m},WLFNj:r(414),EGVHE:function(o,m,p,h){return o(m,p,h)},aRpZX:function(o,m){return o!==m},LWRVW:r(417),KDweI:function(o,m){return o!==m},YVWUH:function(o,m){return o!==m},aaKTQ:function(o,m){return o<=m},jXkef:function(o){return o()},nzybf:r(441),vKXlU:r(400),RwtbT:function(o,m){return o===m},DePGK:r(395),dSOyn:"Leaf",etexG:function(o,m){return o!==m},zzAPM:r(481),XLqSB:function(o,m){return o!==m},lHHvt:function(o,m){return o!=m},nnUKN:function(o,m){return o!==m},EzpeH:function(o,m){return o!=m},QeNCC:function(o,m){return o===m},uuEpQ:"cShFD",WwiaO:r(424),BwiDP:"left"},i=Ul(a[r(436)](u,{}));Array.isArray(i.flowers)||(i.flowers=[]);for(const o of i.flowers)if(a.zYLqZ(r(440),a.Gwbbi)){o.id||(o.id=Ot(a.nRpUM)),(a.cKWnK(typeof o[r(439)],a.jpzwl)||!o.name)&&(o.name=a.eMEEy),(!o[r(473)]||!Number.isFinite(o[r(473)].x)||!Number[r(434)](o.position.y))&&(o[r(473)]={x:260,y:260}),Array.isArray(o.layers)||(o.layers=[]);for(const m of o[r(449)]){if(m.id||(m.id=Ot(a.FPdEu)),(typeof m.colorId!==a[r(427)]||!m[r(497)])&&(m.colorId=i[r(453)]?.[0]?.id??a.DuPjq),m.petalType=a.SRQvq(is,m.petalType),m.petalCount=a.CEJCT(we,a[r(452)](Number,m.petalCount||0),5,24),Number[r(434)](m.scale)||(m.scale=1),Number[r(434)](m[r(499)])||(m.widthScale=1),Number[r(434)](m[r(435)])||(m.radius=28),Number[r(434)](m.offsetAngle)||(m[r(454)]=0),delete m._doublePetalCache,m[r(464)])if(a[r(425)]!=="CfAIj")if(typeof m[r(464)]!==a.eBRcL||a[r(397)](m.doublePetal,null))delete m.doublePetal;else{if(m[r(464)].innerScale!=null&&a.QFtwv(m[r(464)].innerSizeReduction,null)){const p=o.fabricSquareSize??i[r(470)]??20;m.doublePetal.innerSizeReduction=Math[r(450)](p*a.SCglw(1,m.doublePetal.innerScale))}delete m[r(464)].innerScale,Number.isFinite(m.doublePetal[r(459)])||(m[r(464)][r(459)]=2),m[r(464)].innerSizeReduction=we(m.doublePetal.innerSizeReduction,1,30),delete m.doublePetal.innerPetalType,m[r(464)].innerColorId!=null&&a.ifTCm(typeof m[r(464)].innerColorId,a.jpzwl)&&delete m[r(464)].innerColorId}else(!_0x4b5ad7.isFinite(_0x47b63[r(468)])||_0x14dbc2.baseDiameter<=0)&&delete _0x1c404f.baseDiameter;if(Array[r(438)](m.petalOverrides))for(const p of m[r(426)])a[r(493)]!=="Ooqxt"?(p&&p.petalType!=null&&(p[r(398)]=is(p.petalType)),p&&delete p.innerPetalType,p&&p[r(502)]!=null&&typeof p[r(502)]!="string"&&delete p[r(502)],p&&p.innerSizeReduction!=null&&(Number[r(434)](p.innerSizeReduction)?p.innerSizeReduction=a.EGVHE(we,p[r(459)],1,30):delete p[r(459)])):delete _0x12c2b8[r(464)][r(502)]}(!Number[r(434)](o[r(406)])||o[r(406)]<=0)&&(o.flowerDiameter=60),o[r(411)]&&(a[r(397)](o[r(411)][r(480)],"")&&(o.center.type=""),[a[r(485)],"",""][r(437)](o[r(411)][r(480)])||(o.center[r(480)]=a.nvRQm),Number.isFinite(o.center.size)||(o.center.size=6),o.center[r(403)]=we(o[r(411)][r(403)],1,30),(typeof o.center[r(420)]!==r(416)||!o[r(411)].color)&&(o[r(411)].color=i.palette?.[0]?.id??a.DuPjq),a[r(397)](o[r(411)][r(480)],a.qUDFC)&&(a[r(405)](a[r(475)],"qOfNJ")?_0x1efdaa[r(473)]={x:260,y:260}:(Number[r(434)](o[r(411)][r(412)])||(o[r(411)][r(412)]=12),o[r(411)][r(412)]=we(o[r(411)].pepCount,4,30))),o.center[r(480)]!==""&&delete o.center.color2),a.KDweI(o.placementMode,r(418))&&a.YVWUH(o.placementMode,"")&&(o[r(460)]=""),a[r(476)](o.baseDiameter,void 0)&&(!Number.isFinite(o[r(468)])||a[r(442)](o[r(468)],0))&&delete o.baseDiameter}else _0x552940[r(411)][r(480)]===a[r(429)]&&(_0x4f169c.center.type=""),[a[r(485)],"",r(401)][r(437)](_0x1a30d3.center.type)||(_0x4b004d[r(411)].type=r(419)),_0x4e9865.isFinite(_0xf6e5e2[r(411)].size)||(_0x27dc4f[r(411)].size=6),_0x42a24a[r(411)][r(403)]=_0x29c954(_0x44619c.center[r(403)],1,30),(typeof _0x2dc89b.center.color!==a.jpzwl||!_0x2d66e3.center.color)&&(_0x504b72[r(411)].color=_0x26f761.palette?.[0]?.id??r(483)),_0x23be59[r(411)].type===a.qUDFC&&(_0x20e5a2.isFinite(_0x16da98[r(411)][r(412)])||(_0x138d09[r(411)][r(412)]=12),_0x546749[r(411)].pepCount=a.SzduH(_0x4acc42,_0x3ae7a0[r(411)].pepCount,4,30)),_0x124e0c[r(411)][r(480)]!==""&&delete _0x220497[r(411)][r(446)];Array.isArray(i[r(453)])||(i[r(453)]=[]);const f=new Set(i.palette.map(o=>o.id));for(const o of a.jXkef(Ud))if(a[r(494)]===r(443)){const m=_0x4e98e5[r(470)]??_0x52b4cd.fabricSquareSize??20;_0x32f0bd.doublePetal.innerSizeReduction=_0x5283a0.round(a.FCnQq(m,a.WiOhu(1,_0x1d255c[r(464)].innerScale)))}else f.has(o.id)||i.palette.push(o);i.createdAt||(i[r(477)]=wu()),i[r(469)]||(i[r(469)]=i[r(477)]),i.id||(i.id=Ot("proj")),i.title||(i.title=a[r(456)]),i.unit="mm",Number[r(434)](i.fabricSquareSize)||(i.fabricSquareSize=20),(!Number[r(434)](i[r(468)])||a.aaKTQ(i.baseDiameter,0))&&(i[r(468)]=30),a[r(484)](typeof i.notes,a[r(427)])&&(i.notes=""),Array[r(438)](i[r(410)])||(i[r(410)]=[]);{const o=new Set(i[r(409)][r(422)](m=>m.id));for(const m of i[r(410)])Array.isArray(m[r(428)])||(m.flowerIds=[]),m.flowerIds=m[r(428)][r(492)](p=>o[r(448)](p)),m.id||(m.id=a[r(452)](Ot,r(407))),(a[r(476)](typeof m[r(439)],a.jpzwl)||!m.name)&&(m.name=a[r(505)]);i.groups=i.groups.filter(m=>m.flowerIds&&m.flowerIds[r(504)]>0)}Array[r(438)](i.leaves)||(i[r(463)]=[]);for(const o of i.leaves)a[r(396)](a[r(474)],r(395))?(o.id||(o.id=a[r(452)](Ot,r(451))),(typeof o.name!="string"||!o[r(439)])&&(o.name=a.dSOyn),(!o[r(473)]||!Number[r(434)](o.position.x)||!Number.isFinite(o.position.y))&&(o[r(473)]={x:675,y:675}),Number.isFinite(o.rotation)||(o[r(462)]=0),o[r(398)]=is(o[r(398)]),(typeof o[r(497)]!==a.jpzwl||!o.colorId)&&(o[r(497)]=i[r(453)]?.[0]?.id??r(455)),Number[r(434)](o.scale)||(o.scale=1),Number[r(434)](o.widthScale)||(o.widthScale=1),a[r(445)](typeof o[r(433)],a[r(430)])&&(o[r(433)]=!0),a.KDweI(typeof o[r(495)],a.zzAPM)&&(o[r(495)]=!1),delete o._doublePetalCache,o[r(464)]&&(a.XLqSB(typeof o[r(464)],"object")||o[r(464)]===null?delete o[r(464)]:(Number[r(434)](o[r(464)][r(459)])||(o.doublePetal[r(459)]=2),o[r(464)].innerSizeReduction=we(o.doublePetal.innerSizeReduction,1,30),a[r(472)](o.doublePetal[r(502)],null)&&a[r(503)](typeof o[r(464)].innerColorId,"string")&&delete o.doublePetal[r(502)]))):_0x155635.flowerDiameter=60;Array[r(438)](i[r(461)])||(i.leafGroups=[]);{const o=new Set(i.leaves[r(422)](m=>m.id));for(const m of i[r(461)])m.id||(m.id=Ot("lg")),(a.nnUKN(typeof m.name,a[r(427)])||!m.name)&&(m.name=r(482)),Array.isArray(m[r(415)])||(m[r(415)]=[]),m[r(415)]=m[r(415)][r(492)](p=>o[r(448)](p)),Number.isFinite(m[r(462)])||(m.rotation=0),a.EzpeH(m.linkedFlowerGroupId,null)&&(a.QeNCC(a[r(423)],r(507))?(i.groups??[])[r(491)](h=>h.id===m[r(501)])||delete m[r(501)]:(_0x501632[r(438)](_0x484a95.flowerIds)||(_0x58034a.flowerIds=[]),_0x481e18.flowerIds=_0x189a85[r(428)][r(492)](p=>_0x5d90a1.has(p)),_0x330367.id||(_0x37ca94.id=_0x36ad0f("grp")),(a[r(404)](typeof _0x1f80ad.name,"string")||!_0x22647f.name)&&(_0x137176.name=a[r(505)])));i[r(461)]=i.leafGroups[r(492)](m=>m[r(415)]&&m.leafIds[r(504)]>0)}if(Array.isArray(i.stencils)){const o=["adult",a.WwiaO],m=[r(486),a[r(500)],r(447)];i[r(432)]=i[r(432)].filter(p=>p&&typeof p.id=="string"&&o.includes(p.variant)&&m[r(437)](p.pose)&&p[r(473)]&&Number[r(434)](p[r(473)].x)&&Number.isFinite(p.position.y))}return Number.isFinite(i[r(490)])||(i.version=1),i}const Gd=Un;(function(u,r){const a=Un,i=u();for(;;)try{if(parseInt(a(424))/1+-parseInt(a(420))/2*(-parseInt(a(421))/3)+-parseInt(a(423))/4*(parseInt(a(416))/5)+parseInt(a(417))/6+-parseInt(a(422))/7*(parseInt(a(415))/8)+parseInt(a(419))/9+-parseInt(a(425))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Nu,630491);const Gh=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),hs=Gh(void 0,function(){const u=Un;return hs.toString().search("(((.+)+)+)+$").toString()[u(426)](hs).search("(((.+)+)+)+$")});function Nu(){const u=["oti2ngf1rMfiDG","mtm3nJa2nxLNsvr2CW","nZi4otCZmgjbqKnmuq","44or44o844oR","mJy4odGYmNDIwe12qq","mZK0mZC4qMDxywnK","mtvcC3LIvwK","nZq5mfLpDxfeyW","off3A1f4sW","mZiWmtC3DvLMsgjj","mZK5odu4mffhsNPYua","y29UC3rYDwn0B3i","44oA44od44ox"];return Nu=function(){return u},Nu()}function Un(u,r){u=u-415;const a=Nu();let i=a[u];if(Un.FtyBUM===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Un.CMunzw=f,Un.VBHjaH={},Un.FtyBUM=!0}const o=a[0],m=u+o,p=Un.VBHjaH[m];if(p)i=p;else{const h=function(d){this.WaCiRa=d,this.mdbsbB=[1,0,0],this.JafTRy=function(){return"newState"},this.bdcUub="\\w+ *\\(\\) *{\\w+ *",this.rZUclJ=`['|"].+['|"];? *}`};h.prototype.JDDwNh=function(){const d=new RegExp(this.bdcUub+this.rZUclJ),y=d.test(this.JafTRy.toString())?--this.mdbsbB[1]:--this.mdbsbB[0];return this.Jyumdy(y)},h.prototype.Jyumdy=function(d){return~d?this.xHNSIp(this.WaCiRa):d},h.prototype.xHNSIp=function(d){for(let y=0,g=this.mdbsbB.length;y<g;y++)this.mdbsbB.push(Math.round(Math.random())),g=this.mdbsbB.length;return d(this.mdbsbB[0])},new h(Un).JDDwNh(),i=Un.CMunzw(i),Un.VBHjaH[m]=i}return i}hs();const Zd="tsumami_projects_v1",gl=["",""],kh=[Gd(418),"",Gd(427)],Kd=["",""];(function(u,r){const a=tn,i=u();for(;;)try{if(-parseInt(a(461))/1+parseInt(a(464))/2+-parseInt(a(478))/3*(-parseInt(a(457))/4)+parseInt(a(479))/5+-parseInt(a(470))/6*(-parseInt(a(474))/7)+parseInt(a(462))/8*(-parseInt(a(455))/9)+parseInt(a(452))/10*(parseInt(a(465))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Au,112572);const Oh=(function(){const u=tn,r={DKdfU:function(i,f){return i(f)},IcvRR:u(477),jFcDx:u(466),pTsGm:function(i,f){return i===f},wvvTz:"AnJLc"};let a=!0;return function(i,f){const o=u,m={VdlDz:r.jFcDx};if(r[o(454)]("QEIYO",r.wvvTz)){const p=_0x23f566?.project?r[o(476)](_0x2bc6b5,_0x3a6a2c.project):null;return p?{id:_0x1a900b.id??p.id,title:_0x9c5913[o(460)]??p[o(460)],updatedAt:_0x5dd8a8.updatedAt??p.updatedAt,project:p}:null}else{const p=a?function(){const h=o;if(r.IcvRR==="UNQAr"){if(f){const d=f.apply(i,arguments);return f=null,d}}else return _0x428e39.toString()[h(463)](m[h(472)])[h(467)]().constructor(_0xe79270)[h(463)](m.VdlDz)}:function(){};return a=!1,p}}})(),ms=Oh(void 0,function(){const u=tn,r={AldNn:u(466)};return ms[u(467)]()[u(463)]("(((.+)+)+)+$").toString()[u(468)](ms)[u(463)](r[u(475)])});ms();function Au(){const u=["C29YDa","vMrSrhO","z2v0sxrLBq","mte5u1byq2Df","qwXKtM4","reTKzLu","vu5rqxi","ntiWnvbywNzpuW","nZG4mZKWwM9NrxzY","DxbKyxrLzef0","mtyXmhn2u0L2AW","DMTHqLu","CfrZr20","mtuWmtjAr2rZsgK","C3rYAw5NAwz5","mJeYEgrYuLnN","y2jWs0K","C2v0sxrLBq","DgL0Bgu","mJa2mtu5vKX3B2XZ","ota0q2jvtMjl","C2vHCMnO","mZmWnZjirfP0veW","otG0nxzKC2Lvva","kcGOlISPkYKRksSK","Dg9tDhjPBMC","y29UC3rYDwn0B3i","C2XPy2u","mZqYmtHstLHKDeG"];return Au=function(){return u},Au()}function nr(){const u=tn,r={rrmmT:function(a,i){return a(i)}};try{const a=localStorage[u(473)](Zd);if(!a)return[];const i=JSON.parse(a);return Array.isArray(i)?i.map(f=>{const o=u;try{const m=f?.project?r.rrmmT(da,f.project):null;return m?{id:f.id??m.id,title:f[o(460)]??m.title,updatedAt:f.updatedAt??m[o(480)],project:m}:null}catch{return null}}).filter(f=>f!=null):[]}catch{return[]}}function Xd(u){const r=tn;try{return localStorage[r(459)](Zd,JSON[r(456)](u)),!0}catch{return!1}}function Hh(u){const r=tn,a={vkaBU:function(p,h){return p+h},cbpKI:function(p,h){return p(h)}},i=nr(),f=i.findIndex(p=>p.id===u.id),o={id:u.id,title:u.title,updatedAt:u[r(480)],project:u},m=f>=0?[...i[r(469)](0,f),o,...i[r(469)](a[r(453)](f,1))]:[o,...i];return m[r(471)]((p,h)=>p.updatedAt<h[r(480)]?1:-1),a[r(458)](Xd,m)}function tn(u,r){u=u-452;const a=Au();let i=a[u];if(tn.TXdcNK===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};tn.JHPdvB=f,tn.Mcyenu={},tn.TXdcNK=!0}const o=a[0],m=u+o,p=tn.Mcyenu[m];if(p)i=p;else{const h=function(d){this.ctxcEa=d,this.YxeTTJ=[1,0,0],this.kVcTtr=function(){return"newState"},this.HhOgMF="\\w+ *\\(\\) *{\\w+ *",this.bZQEaj=`['|"].+['|"];? *}`};h.prototype.xfgZML=function(){const d=new RegExp(this.HhOgMF+this.bZQEaj),y=d.test(this.kVcTtr.toString())?--this.YxeTTJ[1]:--this.YxeTTJ[0];return this.wUGvaN(y)},h.prototype.wUGvaN=function(d){return~d?this.yURMSv(this.ctxcEa):d},h.prototype.yURMSv=function(d){for(let y=0,g=this.YxeTTJ.length;y<g;y++)this.YxeTTJ.push(Math.round(Math.random())),g=this.YxeTTJ.length;return d(this.YxeTTJ[0])},new h(tn).xfgZML(),i=tn.JHPdvB(i),tn.Mcyenu[m]=i}return i}function Ih(u){const r={NaRVK:function(i){return i()}},a=r.NaRVK(nr).filter(i=>i.id!==u);return Xd(a)}function Bn(u,r){u=u-276;const a=Tu();let i=a[u];if(Bn.dJKasq===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Bn.MeburX=f,Bn.DKMtJT={},Bn.dJKasq=!0}const o=a[0],m=u+o,p=Bn.DKMtJT[m];if(p)i=p;else{const h=function(d){this.fWQOzI=d,this.FslFfo=[1,0,0],this.gKtPXO=function(){return"newState"},this.xHjQvE="\\w+ *\\(\\) *{\\w+ *",this.fyvwLY=`['|"].+['|"];? *}`};h.prototype.sMBViz=function(){const d=new RegExp(this.xHjQvE+this.fyvwLY),y=d.test(this.gKtPXO.toString())?--this.FslFfo[1]:--this.FslFfo[0];return this.AgCyLa(y)},h.prototype.AgCyLa=function(d){return~d?this.xdVHQs(this.fWQOzI):d},h.prototype.xdVHQs=function(d){for(let y=0,g=this.FslFfo.length;y<g;y++)this.FslFfo.push(Math.round(Math.random())),g=this.FslFfo.length;return d(this.FslFfo[0])},new h(Bn).sMBViz(),i=Bn.MeburX(i),Bn.DKMtJT[m]=i}return i}(function(u,r){const a=Bn,i=u();for(;;)try{if(-parseInt(a(321))/1*(-parseInt(a(310))/2)+-parseInt(a(333))/3+-parseInt(a(280))/4*(-parseInt(a(289))/5)+parseInt(a(286))/6+parseInt(a(304))/7*(-parseInt(a(308))/8)+-parseInt(a(292))/9*(-parseInt(a(285))/10)+parseInt(a(291))/11*(-parseInt(a(331))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Tu,298325);function Tu(){const u=["C29YDa","Agv4","DMLZAwjSzq","og1ys2rcsG","zNjVBq","ndiZmte4vLfIrgDT","Dg9tDhjPBMC","CMvKDwnL","C2v0","y291BNq","u1Dzrve","5y2k44gp44gz","B1v5uNa","Aw5UzxjdB2XVCKLK","DMfSDwvZ","C3fYDa","mxzwAxLkvG","uxjLsuS","yMfZzurPyw1LDgvYtw0","Bgf5zxjZ","yNzxENe","zMfICMLJu3f1yxjLu2L6zq","Aw5UzxjtAxPLuMvKDwn0Aw9U","vKr4z00","veXoChi","zMfICMLJu2L6zu1T","mJC0otj6EuTJqwC","Bwf4","mtu1mdeYn2j5AuHyua","yxbWBhK","yMfZzurPyw1LDgvY","zw50CMLLCW","C2vHCMnO","Bw9Kzq","nfjMq1f5Ea","CM91BMq","uunoD1u","y29SB3jjza","s2zlD2m","otq1odbStxHzEuO","mZqWotuZnLzZB1r1wa","y29UC3rYDwn0B3i","z2v0","mJiZmJiWnvvTsvHZAq","zg91yMXLugv0ywW","mJq5n2zgBM1ZvG","mtm1whPiD1fj","BMfTzq","C2nHBgu","AvbIr1u","iZK5otK5oq","zMXVD2vYrgLHBwv0zxi","t3nyA3u","u2XrDe0","Dg90ywXdB3vUDa","DwXvBu4","BwfW","CLfdqMS","mJmXmJq1EMTWv1bT"];return Tu=function(){return u},Tu()}const Yh=(function(){const u={pDlVs:function(a,i){return a===i}};let r=!0;return function(a,i){const f={uMOIv:function(m,p){return u.pDlVs(m,p)}},o=r?function(){const m=Bn;if(m(328)==="VDxgM"){if(i)if(m(284)==="KfKwc"){const p=i[m(334)](a,arguments);return i=null,p}else return _0x191f33[m(279)]!==_0x5b2322.mode?f.uMOIv(_0xd96456.mode,m(316))?-1:1:_0x4bd13e[m(323)]-_0xaa189c[m(323)]}else _0x180980.set(_0x1f0c46,{colorId:_0x2b7d52,entries:[{fabricSizeMm:_0x59ac38,count:_0x5157a5}]})}:function(){};return r=!1,o}})(),bs=Yh(void 0,function(){const u=Bn,r={bvWzq:"(((.+)+)+)+$"};return bs[u(311)]()[u(278)](r[u(325)]).toString()[u(287)](bs)[u(278)](r.bvWzq)});bs();function Uh(u){const r=Bn,a={oUyRp:function(y,g){return y-g},QCNwU:function(y,g){return y/g},QreIK:function(y,g){return y*g},aXIFS:function(y,g){return y!==g},ZNvCy:function(y,g){return y===g},OsXku:"",SlQtM:"XuRlm",iPbGU:function(y,g){return y<g},SWYEQ:function(y,g){return y-g},ulUmN:function(y,g){return y===g},GkETu:function(y,g){return y-g},aZYyU:function(y,g){return y!==g}},i=new Map((u.palette||[]).map(y=>[y.id,y])),f=new Map,o=(y,g)=>y?.petalOverrides?.find(D=>D.index===g)??null,m=new Map;for(const y of u.flowers||[])if(a.SlQtM!==a[r(299)])_0x482fbb[r(314)]+=1;else{const g=y[r(326)]??u.fabricSquareSize;for(const j of y[r(324)]||[]){if(!j[r(307)])continue;const L=Math.round(g*(j.scale??1));for(let k=0;a[r(295)](k,j.petalCount);k++){const R=o(j,k),G=R?.[r(283)]??j[r(283)],U=G+"|"+L,W=f.get(U);if(W?W[r(314)]+=1:f[r(313)](U,{colorId:G,fabricSizeMm:L,count:1}),j.doublePetal)if(a.aXIFS("wzZRf","wzZRf"))_0x492432.count+=1;else{const E=j.doublePetal,V=R?.innerColorId??E[r(318)]??G,F=R?.innerSizeReduction??E.innerSizeReduction??2,Q=Math.max(3,Math[r(281)](a[r(315)](L,F))),X=V+"|"+Q,_=f.get(X);_?_[r(314)]+=1:f[r(313)](X,{colorId:V,fabricSizeMm:Q,count:1})}}}const D=y.placementMode??a[r(298)],b=a[r(301)](D,"")?er(y[r(297)]):y.baseDiameter??u[r(276)],N=D+"|"+b,C=m[r(288)](N);C?C.count+=1:m.set(N,{mode:D,baseDiameterMm:b,count:1})}for(const y of u.leaves??[]){if(!y[r(307)])continue;const g=y.fabricSquareSize??u.fabricSquareSize,D=Math[r(281)](a[r(322)](g,y[r(294)]??1)),b=y[r(283)],N=b+"|"+D,C=f.get(N);if(C?C.count+=1:f.set(N,{colorId:b,fabricSizeMm:D,count:1}),y[r(290)]){const j=y[r(290)],L=j[r(318)]??b,k=Math.max(3,Math.round(a.GkETu(D,j.innerSizeReduction??2))),R=L+"|"+k,G=f.get(R);G?a.aZYyU(r(303),"rQCBk")?_0x45ccd4.entries.push({fabricSizeMm:_0xbd5a16,count:_0xa674b7}):G[r(314)]+=1:f.set(R,{colorId:L,fabricSizeMm:k,count:1})}}const p=new Map;for(const{colorId:y,fabricSizeMm:g,count:D}of f[r(319)]()){const b=p.get(y);b?a.aZYyU(r(329),"fmWCz")?b[r(277)].push({fabricSizeMm:g,count:D}):_0x343d15[r(314)]+=1:p[r(313)](y,{colorId:y,entries:[{fabricSizeMm:g,count:D}]})}const h=Array[r(309)](p[r(319)]())[r(302)](({colorId:y,entries:g})=>{const D=r,b=i.get(y),N=g.sort((k,R)=>R.fabricSizeMm-k[D(330)]),C=N[D(312)]((k,R)=>k+R[D(314)],0),j=a.QCNwU(Math.round(N.reduce((k,R)=>{const G=D,U=a[G(282)](R[G(330)],10);return k+a[G(322)](R[G(314)],U)*U},0)*100),100),L=a[D(282)](Math[D(281)](Math[D(320)](j)*10),10);return{colorId:y,colorName:b?.[D(293)]??y,hex:b?.[D(306)]??D(296),sizes:N,totalCount:C,totalAreaCm2:j,squareSideCm:L}}).sort((y,g)=>g.totalCount-y[r(300)]),d=Array.from(m.values())[r(305)]((y,g)=>{const D=r;return a.aXIFS(y[D(279)],g.mode)?a.ZNvCy(y[D(279)],a[D(298)])?-1:1:a[D(317)](g[D(323)],y.baseDiameterMm)});return{colors:h,bases:d}}(function(u,r){const a=nn,i=u();for(;;)try{if(-parseInt(a(444))/1*(parseInt(a(448))/2)+-parseInt(a(502))/3*(parseInt(a(445))/4)+-parseInt(a(457))/5*(parseInt(a(464))/6)+-parseInt(a(470))/7+-parseInt(a(476))/8+-parseInt(a(488))/9+parseInt(a(474))/10*(parseInt(a(508))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Lu,149266);function Lu(){const u=["mtb0sKLgseK","w2rHDgeTDgvZDgLKxq","CxvLCNLtzwXLy3rVCKfSBa","mtaWjq","yM9KEq","zM9YrwfJAa","zgf0ys10zxn0Awq","oda2nJG4uLLdy1Pz","z2v0q29UDgv4Da","y2XVBMvoB2rL","Dg9tDhjPBMC","AhfIyvy","lNrZDw1HBwKTC2vSlwrHC2G","mti3mZq2mwTTwMjUra","lNn2zW","y2fUDMfZ","C2vYAwfSAxPLvg9tDhjPBMC","mta3mZiZndbyq1bkBwq","DgTYveO","ntm1mty4tfHsve1N","BxfHyNG","twDoCMK","Dg9cBg9I","D2HPDgu","BwLTzKi","yxbWBhK","w2rHDgeTBwfYCxvLzv0","Eg1SBNm","zw5KC1DPDgG","vLLwrw8","y3jLyxrLrwXLBwvUDa","mJe1otC3nvHVqwnLvW","B3fLvwG","vMPZrNe","zMLSBfn0EwXL","suvny0G","D2LKDgG","zMLYC3rdAgLSza","C3bSAxq","w2rHDgeTz3jPzf0","yxbWzw5Kq2HPBgq","z2fcD0C","C3jJ","zMLSBa","zMLSBfjLy3q","nZuXmJzcBu5Lq08","uLnJyui","kcGOlISPkYKRksSK","lNbUzW","zhjHD0LTywDL","C2v0qxr0CMLIDxrL","mtfUquTiuu8","CMvJDa","ru13r1a","u0T1zwm","AgvPz2H0","C2vHCMnO","ndq2ouzHAvP5DG","oerTBvPOwq","y3jLyxrLt2jQzwn0vvjm","y3jLyxrLrwXLBwvUDe5t","ntjuD0PXwgC","mcaWidiWmcaYmda","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","Aw1Hz2uVCg5N","CMvTB3zL","B25LCNjVCG","C1z4tfm","DNPQDxq","sfnpuMK"];return Lu=function(){return u},Lu()}const Zh=(function(){const u=nn,r={VYVEo:u(472),VjxLC:u(451),VjsFq:function(i,f){return i!==f},PqPAy:u(503)};let a=!0;return function(i,f){const o=u;if(r[o(490)]("iIrZg",r.PqPAy)){const m=a?function(){const p=o;if(f){const h=f[p(482)](i,arguments);return f=null,h}}:function(){};return a=!1,m}else{const m=_0x320aff.createElement(r[o(486)]);m[o(493)]=_0x491139*_0x34dce8,m[o(512)]=_0x40cea2*_0xff9725;const p=m[o(465)]("2d");if(!p){_0x405c34.revokeObjectURL(_0x3cd8b2);return}p[o(491)]=o(480),p[o(501)](0,0,m[o(493)],m[o(512)]),p[o(506)](_0x534e0a,0,0,m.width,m.height),m[o(479)](h=>{const d=o;h&&_0x54d34c(h,_0x60b17a[d(485)](d(505))?_0x11086a:_0xe9f778+".png"),_0x28063c.revokeObjectURL(_0x25d7af)},r.VjxLC)}}})(),vs=Zh(void 0,function(){const u=nn,r={HSORi:u(504)};return vs[u(467)]().search(r[u(456)]).toString().constructor(vs)[u(443)](r.HSORi)});vs();function Kh(u,r){const a=nn,i={lMrSD:a(458),gaBwG:a(493),vzjut:a(512),SKuec:function(b,N){return b(N)},mqabx:a(460),MgNri:"white",mimfB:a(469),EMwGP:".tsumami-group-dash",yNpnM:"[data-marquee]",qqCRh:a(471)},f=u.cloneNode(!0);f.querySelectorAll(i.lMrSD).forEach(b=>b.removeAttribute(a(463))),f.removeAttribute("style");const o=u.getAttribute("viewBox");o&&f[a(507)]("viewBox",o);const m=(o??a(449)).split(/[\s,]+/).map(Number),p=m[2]??200,h=m[3]??200;f.setAttribute(i[a(498)],String(p)),f.setAttribute(i.vzjut,i[a(511)](String,h)),f[a(507)](a(484),"http://www.w3.org/2000/svg");const d=document[a(447)]("http://www.w3.org/2000/svg",a(509));d[a(507)](a(493),i[a(477)]),d[a(507)](i[a(455)],i.mqabx),d.setAttribute(a(500),i[a(478)]),f.insertBefore(d,f[a(494)]),f.querySelectorAll(a(496))[a(462)](b=>b[a(452)]()),f.querySelectorAll(i[a(481)]).forEach(b=>b[a(452)]()),f.querySelectorAll(i[a(510)])[a(462)](b=>b[a(452)]()),f[a(459)](i.yNpnM).forEach(b=>b.remove());const y=new XMLSerializer,g=a(450)+y[a(473)](f),D=new Blob([g],{type:"image/svg+xml;charset=utf-8"});Vd(D,r.endsWith(i.qqCRh)?r:r+".svg")}function nn(u,r){u=u-443;const a=Lu();let i=a[u];if(nn.eKXQuv===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};nn.iaUeRs=f,nn.Njvzrs={},nn.eKXQuv=!0}const o=a[0],m=u+o,p=nn.Njvzrs[m];if(p)i=p;else{const h=function(d){this.SVkNMR=d,this.zhuAjM=[1,0,0],this.NAWbIy=function(){return"newState"},this.kSjGRt="\\w+ *\\(\\) *{\\w+ *",this.oWxYPI=`['|"].+['|"];? *}`};h.prototype.rGhnVA=function(){const d=new RegExp(this.kSjGRt+this.oWxYPI),y=d.test(this.NAWbIy.toString())?--this.zhuAjM[1]:--this.zhuAjM[0];return this.geaibG(y)},h.prototype.geaibG=function(d){return~d?this.hBwcgh(this.SVkNMR):d},h.prototype.hBwcgh=function(d){for(let y=0,g=this.zhuAjM.length;y<g;y++)this.zhuAjM.push(Math.round(Math.random())),g=this.zhuAjM.length;return d(this.zhuAjM[0])},new h(nn).rGhnVA(),i=nn.iaUeRs(i),nn.Njvzrs[m]=i}return i}function Xh(u,r,a=2){const i=nn,f={hqbaV:i(472),oqeUh:i(451),tsVGz:i(483),IEMcH:"viewBox",dOhxc:function(C,j){return C??j},sVxLS:function(C,j){return C(j)},tkrTJ:"xmlns"},o=u[i(466)](!0);o[i(459)](i(458)).forEach(C=>C.removeAttribute("data-testid")),o.removeAttribute("style"),o[i(459)](i(496))[i(462)](C=>C[i(452)]()),o[i(459)](".tsumami-sel-dash")[i(462)](C=>C[i(452)]()),o.querySelectorAll(".tsumami-group-dash").forEach(C=>C.remove()),o[i(459)](f.tsVGz)[i(462)](C=>C.remove());const m=u.getAttribute(f.IEMcH),p=f.dOhxc(m,"0 0 200 200")[i(495)](/[\s,]+/).map(Number),h=p[2]??200,d=p[3]??200;o[i(507)](f[i(492)],m??"0 0 200 200"),o[i(507)]("width",f[i(454)](String,h)),o[i(507)]("height",String(d)),o[i(507)](f[i(475)],"http://www.w3.org/2000/svg");const y=new XMLSerializer,g=y[i(473)](o),D=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),b=URL[i(446)](D),N=new Image;N.onload=()=>{const C=i,j=document.createElement(f[C(468)]);j[C(493)]=h*a,j.height=d*a;const L=j[C(465)]("2d");if(!L){URL.revokeObjectURL(b);return}L.fillStyle=C(480),L[C(501)](0,0,j.width,j[C(512)]),L[C(506)](N,0,0,j[C(493)],j.height),j[C(479)](k=>{const R=C;k&&Vd(k,r[R(485)](R(505))?r:r+R(505)),URL.revokeObjectURL(b)},f[C(489)])},N[i(453)]=()=>{URL.revokeObjectURL(b)},N[i(499)]=b}function Vd(u,r){const a=nn,i=URL[a(446)](u),f=document[a(487)]("a");f.href=i,f.download=r,document[a(461)][a(497)](f),f.click(),document[a(461)].removeChild(f),URL.revokeObjectURL(i)}function pu({active:u,disabled:r,onClick:a,children:i,...f}){return s.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...f,children:i})}const Vh="v0.1.0-dev";function Jh(u){const{view:r,onNavigate:a,project:i}=u;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Vh})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(pu,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(pu,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(pu,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(pu,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Wh(u){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function gs({children:u}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function Qh(u){const[r,a]=$.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(gs,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(u,r){const a=qn,i=u();for(;;)try{if(-parseInt(a(308))/1+-parseInt(a(344))/2*(parseInt(a(286))/3)+parseInt(a(314))/4*(-parseInt(a(287))/5)+-parseInt(a(364))/6*(-parseInt(a(298))/7)+parseInt(a(356))/8*(parseInt(a(325))/9)+parseInt(a(309))/10*(parseInt(a(318))/11)+parseInt(a(303))/12*(parseInt(a(295))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Eu,394092);const Ph=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),ys=Ph(void 0,function(){const u=qn,r={fYsxD:u(289)};return ys.toString()[u(316)](r[u(330)])[u(352)]()[u(332)](ys).search(r.fYsxD)});ys();function Eu(){const u=["AhLWB3q","C2vHCMnO","zMXVD2vYrgLHBwv0zxi","mtfqCNnMwfq","Bgf5zxi","B0f6twe","vLnHsKy","Cgv0ywXdB3vUDa","Cg9ZAxrPB24","zMLUza","mZy5ugrUwgfI","C2nHBgu","Cgv0ywXbBMDSzq","l3rZDw1HBwKV","y3vYCMvUDfrHCMDLDa","zLLZEeq","zwv0y1q","y29UC3rYDwn0B3i","zMXVD2vYswq","C3r5Bgu","DxjSkci","zufyse4","se16rNy","t0zpv28","qvvmsvu","Bw9Kzq","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","ELf2AeO","Bgf5zxjjza","mJuZotr4q3z1B3i","C3rHCNreAxn0","Bgf5zxjZ","zMXVD2vY","BfjJDhu","ChjLDMvUDerLzMf1Bhq","tKffExq","y3vYC29Y","Dg9tDhjPBMC","C2LU","zMXVD2vYCW","C2v0ug9PBNrLCKnHChr1CMu","mtKWmtzyquzrwMC","t2fxrgi","s3fhy1G","EgfLwwO","y3vYCMvUDa","C3rHCNreAwfT","r0f2ENi","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","mtu5mtq4mKvfA1nKzG","wvLUD0i","B2zMC2v0qw5NBgu","odDRCg1Wveu","mJmWqMfAyxPy","rLr5tuS","kcGOlISPkYKRksSK","sgrpv0G","uvHZCee","A2LNzxi","thjNyNe","tKTisNm","mtG4nwDuBuzwsa","sxbcu3K","suz0BwS","n0POvfvkva","C3rHCNrty2fSzxm","t2n2tu4","zMLSDgvY","CMfKAxvZ","odK3nZjNC1bvEuG","Cg9PBNrLCKLK","tuDwvNC","EwnkuLO","zg1tvu4","ndKZmJK5wg9fs3fx","odK3nJCWtMHHv1Lk","DgLZq00","qK10AwC","y29Z","CM90yxrPB24","mJq0odH4u3LVsgq"];return Eu=function(){return u},Eu()}function qn(u,r){u=u-284;const a=Eu();let i=a[u];if(qn.JGvDPr===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};qn.vzMpgX=f,qn.VYOXcb={},qn.JGvDPr=!0}const o=a[0],m=u+o,p=qn.VYOXcb[m];if(p)i=p;else{const h=function(d){this.MZRyAd=d,this.FIvfrt=[1,0,0],this.NzxODO=function(){return"newState"},this.RSigrU="\\w+ *\\(\\) *{\\w+ *",this.peGWMl=`['|"].+['|"];? *}`};h.prototype.NLslfM=function(){const d=new RegExp(this.RSigrU+this.peGWMl),y=d.test(this.NzxODO.toString())?--this.FIvfrt[1]:--this.FIvfrt[0];return this.gKzbDM(y)},h.prototype.gKzbDM=function(d){return~d?this.WqZOTv(this.MZRyAd):d},h.prototype.WqZOTv=function(d){for(let y=0,g=this.FIvfrt.length;y<g;y++)this.FIvfrt.push(Math.round(Math.random())),g=this.FIvfrt.length;return d(this.FIvfrt[0])},new h(qn).NLslfM(),i=qn.vzMpgX(i),qn.VYOXcb[m]=i}return i}function Fh(u){const r=qn,a={kiger:function(E,V){return E===V},rKkHH:"OCWFi",lRctu:r(328),HdOWH:r(319),ycJRZ:function(E,V){return E(V)},fZzis:function(E,V){return E*V},HMzFv:function(E,V){return E===V},BqtlA:function(E,V){return E===V},OFOWo:"flower",MGVVw:function(E,V,F,Q){return E(V,F,Q)},dmSUN:function(E,V){return E(V)},IpBSy:function(E,V){return E-V},AULIU:function(E,V){return E/V},zQvhJ:function(E,V,F){return E(V,F)},GAvzr:function(E,V){return E-V},QXspA:function(E,V){return E/V},YYnwB:function(E,V){return E===V},vYwXl:function(E,V){return E!==V},eetcT:"SzmoL",BMtig:"hmTCs",VAdId:function(E,V){return E>V},Lrgbq:function(E,V){return E+V},NAEyt:function(E,V,F){return E(V,F)},tisCM:function(E,V){return E(V)},JMBGH:function(E,V){return E*V},eAXHN:function(E,V){return E-V},mCvty:function(E,V){return E+V},NKHJs:function(E,V){return E*V},FTyMK:function(E,V,F,Q){return E(V,F,Q)},VSaJF:r(358),OaWDb:function(E,V){return E(V)},OcvMN:function(E,V){return E-V},hHCei:function(E,V){return E(V)},LIYtj:function(E,V){return E-V},IFtmk:function(E,V,F,Q){return E(V,F,Q)},rEagZ:function(E,V){return E(V)},vBkKo:function(E,V){return E(V)}},{project:i,applyUpdate:f,stageRef:o,clientToSvgPoint:m}=u,p=$.useRef(null),h=(E,V,F,Q)=>{const X=r,_={zWOUW:function(S,A,M,w){return S(A,M,w)}};if(a.kiger(a.rKkHH,a.rKkHH)){F[X(349)](),F.currentTarget?.[X(355)]?.(F.pointerId),o.current&&(o[X(360)].style[X(351)]='url("'+a[X(348)]+X(341));const S=i.flowers.find(Y=>Y.id===V);if(!S)return;const A=E===a[X(290)]&&Q?.[X(343)]?S.layers[X(301)](Y=>Y.id===Q.layerId).map(Y=>({layerId:Y.id,scale:Y.scale??1,radius:Y.radius??10})):S[X(346)].map(Y=>({layerId:Y.id,scale:Y[X(326)]??1,radius:Y.radius??10})),M=a[X(306)](m,F),w=S[X(323)].x,B=S.position.y,H=Math[X(315)](M.x-w,M.y-B);p[X(360)]={mode:E,flowerId:V,layerId:Q?.layerId,startScales:A,startDiam:S[X(317)]||60,startDist:H}}else _0x39f6ad.radius=_.zWOUW(_0x52d378,_0x301684[X(302)]*_0x23b0ec,2,120)},d=E=>{const V=r,F=p.current;if(!F)return;const Q=i.flowers.find(M=>M.id===F.flowerId);if(!Q)return;const X=a[V(307)](m,E),_=Math.hypot(a.IpBSy(X.x,Q[V(323)].x),X.y-Q.position.y),S=Math.max(1,F[V(345)]??1),A=we(a.AULIU(_,S),.3,3);a[V(342)](f,M=>{const w=V,B=M[w(354)].find(H=>H.id===F[w(333)]);if(B){for(const H of F[w(299)]){const Y=B[w(346)].find(O=>O.id===H.layerId);Y&&(Y.scale=we(a.fZzis(H.scale,A),.3,3),a[w(337)](F[w(340)],w(347))&&(Y.radius=we(H.radius*A,2,120)))}a.BqtlA(F.mode,a[w(338)])&&(B.flowerDiameter=a.MGVVw(we,F[w(361)]*A,10,200))}},!1)},y=()=>{const E=r;p[E(360)]&&(a.zQvhJ(f,()=>{},!0),o[E(360)]&&(o[E(360)][E(334)][E(351)]=""),p.current=null)},g=a.rEagZ($.useRef,null),D=(E,V,F,Q)=>{const X=r;F.preventDefault(),F.currentTarget?.[X(355)]?.(F[X(304)]),o.current&&(o.current.style.cursor=X(335)+X(328)+'rotate_cursor_active_32.png") 16 16, grabbing');const _=i[X(354)][X(324)](w=>w.id===V);if(!_)return;const S=m(F),A=Math.atan2(a[X(296)](S.y,_.position.y),a.GAvzr(S.x,_[X(323)].x))*a.QXspA(180,Math.PI),M=a[X(284)](E,a[X(290)])&&Q?.[X(343)]?_.layers[X(324)](w=>w.id===Q.layerId)?.offsetAngle??0:_.rotation??0;g[X(360)]={mode:E,flowerId:V,layerId:Q?.[X(343)],startAngle:A,startRotation:M}},b=E=>{const V=r,F={rtXvZ:function(w,B){return a[qn(292)](w,B)},IzQIH:a.HdOWH},Q=g[V(360)];if(!Q)return;const X=i[V(354)][V(324)](w=>w.id===Q[V(333)]);if(!X)return;const _=a[V(307)](m,E),S=Math.atan2(a.GAvzr(_.y,X[V(323)].y),a.GAvzr(_.x,X.position.x))*a[V(291)](180,Math.PI);let A=a.IpBSy(S,Q.startAngle);for(;a.VAdId(A,180);)A-=360;for(;A<-180;)A+=360;const M=a[V(293)](Q.startRotation,A);a.zQvhJ(f,w=>{const B=V,H=w[B(354)][B(324)](Y=>Y.id===Q[B(333)]);if(H)if(Q.mode===a.HdOWH&&Q[B(343)])if(a.vYwXl(a[B(331)],a[B(311)])){const Y=H[B(346)].find(O=>O.id===Q.layerId);Y&&(Y.offsetAngle=M)}else{const Y=_0x55849f.flowers[B(324)](O=>O.id===_0x85d2f9[B(333)]);if(!Y)return;if(F.rtXvZ(_0x320790.mode,F.IzQIH)&&_0x114d58.layerId){const O=Y[B(346)][B(324)](z=>z.id===_0x501c53.layerId);O&&(O[B(285)]=_0x18c773)}else Y[B(313)]=_0x4f4e8e}else B(359)!=="xaeYj"?_0x3a713e.current[B(334)].cursor='url("'+B(328)+B(363):H[B(313)]=M},!1)},N=()=>{const E=r;g[E(360)]&&(a[E(350)](f,()=>{},!0),o[E(360)]&&(o[E(360)][E(334)].cursor=""),g.current=null)},C=$.useRef(null),j=(E,V,F,Q)=>{const X=r;F.preventDefault(),F[X(329)]?.setPointerCapture?.(F[X(304)]),o.current&&(o[X(360)].style.cursor='url("'+a[X(348)]+'width_cursor_32.png?v=16") 16 16, ew-resize');const _=i.flowers.find(le=>le.id===V);if(!_)return;const S=Q?.layerId?_.layers[X(324)](le=>le.id===Q.layerId):null;if(!S)return;const A=a[X(310)](m,F),M=_.position.x,w=_[X(323)].y,B=Q?.petalIndex??0,H=a[X(339)](360,Math.max(1,S[X(322)])),Y=a.JMBGH(a.Lrgbq(S[X(285)],a.fZzis(B,H))+_.rotation,Math.PI/180),O=a.eAXHN(A.x,M),z=a[X(362)](A.y,w),q=-Math.sin(Y),I=Math[X(312)](Y),Z=Math.abs(a.mCvty(a.fZzis(O,q),a[X(294)](z,I)));C[X(360)]={mode:E,flowerId:V,layerId:Q?.layerId,petalAngle:Y,startDist:Math.max(1,Z),startWidthScale:S.widthScale??1}},L=E=>{const V=r,F={rvsKA:"rVNMC"},Q=C[V(360)];if(!Q)return;const X=i.flowers.find(O=>O.id===Q.flowerId);if(!X)return;const _=m(E),S=a[V(362)](_.x,X.position.x),A=a.eAXHN(_.y,X.position.y),M=-Math[V(353)](Q.petalAngle),w=Math.cos(Q[V(327)]),B=Math.abs(a.mCvty(S*M,a.JMBGH(A,w))),H=a[V(305)](we,B/Q[V(345)],.3,3),Y=a[V(288)](we,Q.startWidthScale*H,.3,3);f(O=>{const z=V;if(z(320)===F.rvsKA){const q=_0x28be0b.flowers.find(Z=>Z.id===_0x3030c3.flowerId);if(!q)return;const I=q[z(346)][z(324)](Z=>Z.id===_0x19fcda.layerId);I&&(I[z(302)]=_0x5d0216)}else{const q=O[z(354)][z(324)](Z=>Z.id===Q[z(333)]);if(!q)return;const I=q[z(346)][z(324)](Z=>Z.id===Q.layerId);I&&(I.widthScale=Y)}},!1)},k=()=>{const E=r;C.current&&(a[E(350)](f,()=>{},!0),o.current&&(o[E(360)][E(334)].cursor=""),C.current=null)},R=a.vBkKo($.useRef,null);return{scaleDragRef:p,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:y,rotationDragRef:g,beginRotationDrag:D,updateRotationDrag:b,endRotationDrag:N,widthScaleDragRef:C,beginWidthScaleDrag:j,updateWidthScaleDrag:L,endWidthScaleDrag:k,radiusDragRef:R,beginRadiusDrag:(E,V,F,Q)=>{const X=r;if(a[X(321)]==="fVEzD"){const _=_0x1491b1.layers.find(S=>S.id===_0x13e316.layerId);_&&(_.offsetAngle=_0x13c085)}else{F.preventDefault(),F[X(329)]?.[X(355)]?.(F[X(304)]),o[X(360)]&&(o[X(360)][X(334)][X(351)]=X(335)+a[X(348)]+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const _=i.flowers[X(324)](w=>w.id===V);if(!_)return;const S=Q?.layerId?_[X(346)].find(w=>w.id===Q[X(343)]):null;if(!S)return;const A=a[X(357)](m,F),M=Math[X(315)](a[X(336)](A.x,_[X(323)].x),a[X(300)](A.y,_.position.y));R[X(360)]={mode:E,flowerId:V,layerId:Q?.[X(343)],startDist:Math.max(1,M),startRadius:S.radius??28}}},updateRadiusDrag:E=>{const V=r,F=R[V(360)];if(!F)return;const Q=i.flowers[V(324)](M=>M.id===F[V(333)]);if(!Q)return;const X=a.hHCei(m,E),_=Math.hypot(a.LIYtj(X.x,Q.position.x),a[V(336)](X.y,Q.position.y)),S=_-F[V(345)],A=a[V(297)](we,a.mCvty(F.startRadius,S),5,100);f(M=>{const w=V,B=M.flowers[w(324)](Y=>Y.id===F[w(333)]);if(!B)return;const H=B.layers.find(Y=>Y.id===F[w(343)]);H&&(H.radius=A)},!1)},endRadiusDrag:()=>{const E=r;R.current&&(f(()=>{},!0),o[E(360)]&&(o[E(360)][E(334)].cursor=""),R[E(360)]=null)}}}(function(u,r){const a=Dt,i=u();for(;;)try{if(parseInt(a(331))/1+-parseInt(a(391))/2*(parseInt(a(365))/3)+parseInt(a(377))/4+parseInt(a(345))/5*(-parseInt(a(372))/6)+-parseInt(a(356))/7+parseInt(a(346))/8*(-parseInt(a(332))/9)+-parseInt(a(394))/10*(-parseInt(a(395))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Bu,875041);function Dt(u,r){u=u-325;const a=Bu();let i=a[u];if(Dt.wAgbIQ===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Dt.bbOjXK=f,Dt.ZNEMKy={},Dt.wAgbIQ=!0}const o=a[0],m=u+o,p=Dt.ZNEMKy[m];if(p)i=p;else{const h=function(d){this.RSUWeV=d,this.wStcOw=[1,0,0],this.SvrTqQ=function(){return"newState"},this.srpDHT="\\w+ *\\(\\) *{\\w+ *",this.pValwN=`['|"].+['|"];? *}`};h.prototype.yvYpVG=function(){const d=new RegExp(this.srpDHT+this.pValwN),y=d.test(this.SvrTqQ.toString())?--this.wStcOw[1]:--this.wStcOw[0];return this.dzfOio(y)},h.prototype.dzfOio=function(d){return~d?this.TYqHGL(this.RSUWeV):d},h.prototype.TYqHGL=function(d){for(let y=0,g=this.wStcOw.length;y<g;y++)this.wStcOw.push(Math.round(Math.random())),g=this.wStcOw.length;return d(this.wStcOw[0])},new h(Dt).yvYpVG(),i=Dt.bbOjXK(i),Dt.ZNEMKy[m]=i}return i}const $h=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),ps=$h(void 0,function(){const u=Dt;return ps.toString()[u(349)](u(383))[u(373)]()[u(362)](ps).search("(((.+)+)+)+$")});ps();function ni(u,r,a,i,f){const o=Dt,m={jvtiE:function(U,W){return U(W)},Smcpw:function(U,W){return U(W)},UbMLg:function(U,W){return U*W},Vywtq:function(U,W){return U<=W},pKFbu:function(U,W){return U===W},tWjQX:function(U,W){return U>W},fjkhS:function(U,W){return U-W},DMZFi:"radius",Hghcs:function(U,W){return U(W)},iXZxv:function(U,W){return U*W},fYXJG:function(U,W){return U/W},UpUlw:function(U,W){return U+W},xAzsf:function(U,W){return U-W},ZkwpW:function(U,W){return U*W},QpPYu:function(U,W){return U/W},stpOQ:function(U,W){return U>=W},TjyfY:"width",TKLTK:function(U,W){return U>W},uuzuF:"rotate",liIdO:"scale",rsrHA:function(U,W){return U-W},zcBiJ:function(U,W){return U*W}},{length:p}=m.jvtiE(Ht,a[o(357)]??i.fabricSquareSize),h=u-a[o(382)].x,d=r-a[o(382)].y,y=Math.hypot(h,d);let g=1/0;for(const U of a[o(326)]){if(!U.visible)continue;const W=U[o(381)]??1,E=p*W,V=.28,F=Math.max(0,U.radius-E*V);F<g&&(g=F)}m[o(338)](isFinite,g)||(g=0);const D=Math[o(350)](m[o(361)](g,.9),8);if(m.Vywtq(y,D))return{zone:o(396)};if(m[o(355)](f.kind,o(364))){const U=a[o(326)].find(W=>W.id===f[o(393)]&&W[o(339)]);if(U){const W=U[o(381)]??1,E=p*W,V=.28,F=Math[o(350)](0,U[o(330)]-E*V);if(m[o(398)](F,0)&&Math.abs(m[o(352)](y,F))<=6)return{zone:m.DMZFi,layerId:U.id}}}const b=m.Hghcs(ma,-(a.rotation??0)),N=m.fjkhS(m.iXZxv(h,Math[o(342)](b)),m.UbMLg(d,Math.sin(b))),C=m[o(341)](h,Math.sin(b))+d*Math[o(342)](b),j=f[o(371)]==="layer"?a[o(326)].filter(U=>U.id===f[o(393)]&&U[o(339)]):a.layers[o(359)](U=>U[o(339)]);let L=o(374),k,R,G=1/0;for(const U of j){const W=U.scale??1,E=m[o(341)](p,W),V=U.widthScale??1,F=m[o(397)](p,2)*V*W,Q=.28,X=Math[o(350)](0,U.radius-m.iXZxv(E,Q)),_=m[o(397)](360,Math.max(1,U[o(386)]));for(let S=0;S<U[o(386)];S++){const A=m.UpUlw(U[o(333)],S*_),M=ma(A),w=Math.cos(M)*X,B=Math.sin(M)*X,H=N-w,Y=m[o(352)](C,B),O=Math[o(342)](-M),z=Math[o(351)](-M),q=m[o(335)](H*O,m.UbMLg(Y,z)),I=m.UpUlw(m.ZkwpW(H,z),Y*O),Z=m[o(387)](q,E),le=m.QpPYu(I,F);if(Z<-.05||m[o(398)](Z,1.08)||Math[o(367)](le)>.75)continue;const xe=Math[o(389)](Z-.5,le);m.stpOQ(xe,G)||(G=xe,k=U.id,R=S,m.tWjQX(Math.abs(le),.45)?L=m[o(366)]:m.TKLTK(Z,.75)?L=m.uuzuF:L=m.liIdO)}}if(L===o(374)){let U=12;for(const V of a[o(326)]){if(!V.visible)continue;const F=V[o(381)]??1,Q=p*F,X=.28,_=Math.max(0,m.rsrHA(V[o(330)],m[o(400)](Q,X)));U=Math[o(350)](U,m.UpUlw(_,Q))}if(Math[o(367)](y-U)<=8)return{zone:o(381)}}return{zone:L,layerId:k,petalIndex:R}}function Su(u,r,a){const i=Dt,f={dWjxJ:i(396),faVIW:"flower",QsRJw:function(o,m){return o===m},lcmDw:function(o,m){return o*m},ZTPDn:"scale",izbVP:i(375),hWolb:i(380)};if(u===f[i(340)])return i(396);if(u==="none")return"none";switch(r){case f[i(388)]:{if(f[i(327)](u,"scale"))return"scale";if(f.QsRJw(u,i(325))&&a?.hitLayerId&&a[i(384)]&&a[i(363)]!=null){let o,m=-1/0;for(const p of a[i(384)][i(326)]){if(!p[i(339)])continue;const h=p[i(381)]??1,d=f.lcmDw(a[i(363)],h),y=.28,g=Math[i(350)](0,p.radius-d*y),D=g+d;D>m&&(m=D,o=p.id)}return a[i(370)]===o?"rotate":"scale"}return f[i(369)]}case"layer":return u;case f[i(376)]:case f.hWolb:return f.ZTPDn;default:return f[i(369)]}}function em(u,r,a,i){const f=Dt,o={GVTDV:function(R,G){return R(G)},FsQsW:function(R,G){return R*G},bulQl:function(R,G){return R-G},yrerV:function(R,G){return R-G},aVPhh:function(R,G){return R-G},QGeLs:function(R,G){return R+G},ocAFA:function(R,G){return R/G},JVgAk:function(R,G){return R>G},ZpOxo:function(R,G){return R>G},NKiXR:"none",uvMDq:"width",uZabD:f(329)},m=a[f(357)]??i[f(357)],{length:p,width:h}=o[f(354)](Ht,m),d=a.scale??1,y=p*d,g=o.FsQsW(o[f(402)](h,a[f(353)]??1),d),D=o.bulQl(u,a[f(382)].x),b=o[f(378)](r,a.position.y),N=o[f(354)](ma,-(a.rotation??0)),C=o[f(360)](D*Math[f(342)](N),o[f(402)](b,Math[f(351)](N))),j=o[f(328)](D*Math[f(351)](N),b*Math[f(342)](N)),L=C/y,k=o.ocAFA(j,g);return L<-.05||o.JVgAk(L,1.08)?f(374):o.ZpOxo(Math[f(367)](k),.75)?o[f(358)]:Math[f(367)](k)>.45?o.uvMDq:L>.75?"rotate":L>.3?"scale":o.uZabD}function $i(u,r){const a=Dt,i={YSfGR:"width",SzuUJ:"move",JGcUw:function(f,o){return f(o)},KCsBY:a(374),NIbxV:"grab"};switch(u){case"rotate":return a(348)+r+a(336);case"scale":return'url("'+r+a(390);case i[a(399)]:return'url("'+r+a(337);case i.SzuUJ:return i[a(392)](ar,r);case i[a(385)]:default:return i.NIbxV}}function kd(u,r){const a=Dt,i={bRwTt:a(344),EGKnU:a(381),XVCeG:"width",zoGgv:"move",TmXbh:function(f,o){return f(o)},BHFIh:"grab"};switch(u){case a(396):return i.bRwTt;case"rotate":return a(348)+r+'rotate_cursor_32.png") 16 16, crosshair';case i[a(343)]:return a(348)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i[a(368)]:return'url("'+r+a(337);case a(330):return a(348)+r+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case i.zoGgv:return i[a(379)](ar,r);default:return i.BHFIh}}function Bu(){const u=["rNnrC1C","CM90yxrL","Bgf5zxjZ","uxnssNC","uuDLthm","Bw92zq","CMfKAxvZ","mteXndaZn1L6EKHeBq","mJC5t1LtshDP","B2zMC2v0qw5NBgu","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","Eef6C2y","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","u21JChC","DMLZAwjSzq","zfDQEeO","AvHAEhy","y29Z","ruDlBLu","Cg9PBNrLCG","mtbluLPHqxi","mtC1mdy0uvbbCxvq","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","DxjSkci","C2vHCMnO","Bwf4","C2LU","zMPRAfm","D2LKDgHty2fSzq","r1zurfy","CeTgyNu","nZC5ndy4mMHuAhDhqG","zMfICMLJu3f1yxjLu2L6zq","tKTPwfi","zMLSDgvY","yvzqAgG","vwjntgC","y29UC3rYDwn0B3i","BgvUz3rO","Bgf5zxi","mZy0nJmXn1jKywHqEG","vgP5zLK","ywjZ","wfzdzuC","wLrqrg4","AgL0tgf5zxjjza","A2LUza","ntiYoda4ofPisM51qG","Dg9tDhjPBMC","BM9Uzq","Cgv0ywW","AxPIvLa","odi1oteYrwj2Bwru","ExjLCLy","vg1yyMG","Cgv0ywXZ","C2nHBgu","Cg9ZAxrPB24","kcGOlISPkYKRksSK","zMXVD2vY","s0nZqLK","Cgv0ywXdB3vUDa","uxbqwxu","zMfwsvC","AhLWB3q","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","mNLArhPIta","sKDJvxC","Bgf5zxjjza","mJbzyxf3sxC","mJm2nZuWodbuu2P3D1O","y2vUDgvY","zLLysKC","DfDQuvG","wvnMr1i","EMncAuO","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC"];return Bu=function(){return u},Bu()}function ar(u){const r=Dt;return'url("'+u+r(347)}function Pn(u){return Dt(348)+u+'move_object_active_32.png") 16 16, grabbing'}function tm(u){const r=Dt;return r(348)+u+r(334)}function nm(u){const r=Dt;return r(348)+u+r(401)}(function(u,r){const a=ln,i=u();for(;;)try{if(parseInt(a(132))/1+parseInt(a(113))/2+-parseInt(a(138))/3*(-parseInt(a(154))/4)+parseInt(a(158))/5+parseInt(a(124))/6*(parseInt(a(166))/7)+parseInt(a(130))/8+-parseInt(a(108))/9*(parseInt(a(184))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(qu,796581);const lm=(function(){const u=ln,r={WyGSG:u(139),GmDBs:"leaf"};let a=!0;return function(i,f){const o=u,m={sdBgs:r[o(120)]},p=a?function(){const h=o;if(f)if(r.WyGSG!=="TRQWU")_0x38f4a8({kind:m[h(186)],leafId:_0x2b3230[0]});else{const d=f[h(121)](i,arguments);return f=null,d}}:function(){};return a=!1,p}})(),_s=lm(void 0,function(){const u=ln,r={eWEnh:u(148)};return _s[u(140)]().search(r[u(171)]).toString().constructor(_s).search(r.eWEnh)});_s();function ln(u,r){u=u-105;const a=qu();let i=a[u];if(ln.FjtEnp===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};ln.xfkDDZ=f,ln.wkWpgI={},ln.FjtEnp=!0}const o=a[0],m=u+o,p=ln.wkWpgI[m];if(p)i=p;else{const h=function(d){this.CqRraL=d,this.LUJLjK=[1,0,0],this.yhzUiA=function(){return"newState"},this.eYNTye="\\w+ *\\(\\) *{\\w+ *",this.NUpMlr=`['|"].+['|"];? *}`};h.prototype.udDlVI=function(){const d=new RegExp(this.eYNTye+this.NUpMlr),y=d.test(this.yhzUiA.toString())?--this.LUJLjK[1]:--this.LUJLjK[0];return this.rsvRtA(y)},h.prototype.rsvRtA=function(d){return~d?this.jTiwLc(this.CqRraL):d},h.prototype.jTiwLc=function(d){for(let y=0,g=this.LUJLjK.length;y<g;y++)this.LUJLjK.push(Math.round(Math.random())),g=this.LUJLjK.length;return d(this.LUJLjK[0])},new h(ln).udDlVI(),i=ln.xfkDDZ(i),ln.wkWpgI[m]=i}return i}function qu(){const u=["t0jLzLG","zMXVD2vYCW","Bw92zwq","n2z4sKnryG","y2XPy2TqzxrHBa","vKfpAee","AxntAgLMDfbYzxnZzwq","yMvNAw5sywrPDxneCMfN","zvDfBMG","wePgB28","ChjLDMvUDerLzMf1Bhq","zMXVD2vYswq","CgfUma","ChjVAMvJDa","y3vYCMvUDfn2zW","zfDTBMW","Bgf5zxi","s2TAAvy","yMvNAw5ty2fSzurYywC","terpDNy","D2LKDgHty2fSzurYywDszwy","ntGZndyWC0TyCfLt","zMXVD2vYswrZ","C2rcz3m","ChvZAa","C3rHCNrAB29T","r1rTtLu","rhrJCKW","zw5KuMfKAxvZrhjHzW","zw9ZB2O","CM90yxrPB25eCMfNuMvM","Bgf5zxjjza","vLf3CfC","BwLU","nde0shLdsw5i","u0v3A3m","y3vYCMvUDa","uw1bAxq","zMXVD2vY","ndC0nZbIuwHmAva","A1HIEKW","C3rHCNq","uhbPyNC","uxvnyMK","CxnXBwe","Cgv0ywW","r21eqNm","yxbWBhK","uxvkuKG","tvLjveW","nJaWodGYmgnHtKDSDW","Aw5JBhvKzxm","zhDNAw0","u0jsCMi","BwfW","wKfNrNC","nJeWmduYmfr6B1H4rq","rxvmv1G","mtqWmty1y2TYy0Df","BMXvAgm","C2vHCMnO","uef0Auq","Cg9ZAxrPB24","Ehf1zMq","nKLku1btCW","vfjrv1u","Dg9tDhjPBMC","y29UC3rYDwn0B3i","A2LUza","v25qq1q","BgvHDMvZ","y2XPzw50wa","suD4Bvm","uuTkr1K","kcGOlISPkYKRksSK","uu9syKC","y2XPzw50wq","BgvUz3rO","vgDOr3q","zwfqque","mtyXodmXmK94AKvfua","C2nHBgveCMfNuMvM","zMLUza","BxvSDgLtDgfYDfbVC2L0Aw9UCW","mZCXnZaZmevWCLberG","tLfdt3O","z2zyyKy","C3rHCNrtDMC","ywjZ"];return qu=function(){return u},qu()}const _u=500*rn;function am(u){const r=ln,a={gfXbF:function(_,S){return _===S},mcuBP:function(_,S){return _(S)},YByoP:r(168),eXIuN:function(_,S){return _(S)},SBRrb:function(_,S){return _(S)},KXBub:function(_,S){return _>S},PAtiD:function(_,S){return _===S},QmAit:"byfiJ",dWmnl:function(_,S){return _(S)},BhuaJ:function(_,S){return _-S},SEwks:function(_,S){return _-S},ZAgFw:"leaves",EuLWX:function(_,S){return _-S},MnfAT:"project",WnPCT:function(_,S){return _<=S},nlUhc:function(_,S){return _>=S},QuMbi:function(_,S){return _+S},hSzpV:"iZbwv",LMEnc:r(192),dwgim:function(_,S){return _>S},KkZiV:r(137),oVQzS:r(190),NQCOz:r(164),TghGt:function(_,S){return _===S},UCwQi:function(_,S){return _(S)},fuwfK:"leaf",OBefX:function(_,S){return _(S)},MYITL:function(_,S){return _??S},VQwpW:function(_,S,A,M){return _(S,A,M)},QKJGY:function(_,S){return _/S},LGsmp:function(_,S){return _>S},iyUPh:function(_,S){return _+S},DlfyV:function(_,S,A,M,w){return _(S,A,M,w)},VvRPT:function(_,S){return _(S)},AJjsu:r(118),iZKIr:r(112),jdizH:r(179),ENLQU:function(_,S){return _!==S},Ppibw:function(_,S){return _!==S},CjIWH:function(_,S,A){return _(S,A)}},{project:i,selection:f,setSelection:o,applyUpdate:m,dragRef:p,zoom:h,pan:d,setPan:y,stageRef:g,clientToSvgPoint:D,togglePetalSelection:b}=u,N=Fh({project:i,applyUpdate:m,stageRef:g,clientToSvgPoint:D}),C=a.mcuBP($.useRef,null),j=_=>{const S=r;a[S(160)](S(172),S(172))?(_.preventDefault(),_.currentTarget?.setPointerCapture?.(_.pointerId),C.current={start:{x:_[S(145)],y:_.clientY},pan0:{...d}}):_0x4cb5d1=_0x45ba43[S(128)](A=>{const M=S,w=_0x16dc92[M(164)][M(156)](B=>B.id===A);return{id:A,x:w?.[M(136)].x??0,y:w?.[M(136)].y??0}})},L=_=>{const S=r,A={QORbG:function(M,w){return a.mcuBP(M,w)}};if(a.gfXbF(a.YByoP,S(168))){if(!C.current)return;const M=_.clientX-C.current[S(115)].x,w=_[S(150)]-C[S(110)][S(115)].y;a.eXIuN(y,{x:C.current[S(175)].x+M,y:C[S(110)][S(175)].y+w})}else{if(!_0x55e418.current)return;const M=A[S(149)](_0x17837e,_0x2a88b3);_0x8fa755.current[S(177)]=M;const w=_0x14408c.current.startSvg,B=_0x13b811[S(107)](w.x,M.x),H=_0x55a0b3[S(107)](w.y,M.y),Y=_0x3a0e9a.abs(M.x-w.x),O=_0x10028a[S(162)](M.y-w.y);A.QORbG(_0x42c170,{x:B,y:H,w:Y,h:O})}},k=()=>{C.current=null},R=$.useRef(null),[G,U]=a.mcuBP($.useState,null);return{beginPan:j,updatePan:L,endPan:k,marqueeRef:R,marqueeRect:G,beginMarquee:_=>{const S=r;_.preventDefault(),_.currentTarget?.setPointerCapture?.(_.pointerId);const A=a[S(127)](D,_);R.current={startSvg:A,currentSvg:A},U(null)},updateMarquee:_=>{const S=r;if(a[S(135)]("gWtIq",a[S(111)])){const A=_0x120599(_0x4f1cf6,_0x432846);a.KXBub(A[S(151)],1)&&(_0x5d29fb=A[S(128)](M=>{const w=S,B=_0x575296.flowers.find(H=>H.id===M);return{id:M,x:B?.[w(136)].x??0,y:B?.[w(136)].y??0}}))}else{if(!R[S(110)])return;const A=a[S(178)](D,_);R[S(110)][S(177)]=A;const M=R.current[S(161)],w=Math.min(M.x,A.x),B=Math[S(107)](M.y,A.y),H=Math[S(162)](a.BhuaJ(A.x,M.x)),Y=Math[S(162)](a[S(109)](A.y,M.y));U({x:w,y:B,w:H,h:Y})}},endMarquee:()=>{const _=r,S={kXbzL:function(Z,le){return Z(le)},IGxmS:function(Z,le){return Z===le},QuJRH:function(Z,le){return Z(le)},eaPAA:a[_(129)]},A=R[_(110)];if(R.current=null,!A){a.SBRrb(U,null);return}const M=A.startSvg,w=A.currentSvg;if(Math.hypot(a[_(131)](w.x,M.x),w.y-M.y)<3){a.dWmnl(o,{kind:a.MnfAT}),a.eXIuN(U,null);return}const H=Math.min(M.x,w.x),Y=Math.min(M.y,w.y),O=Math[_(162)](a[_(109)](w.x,M.x)),z=Math[_(162)](a.SEwks(w.y,M.y)),q=[];for(const Z of i.flowers)Z[_(136)].x>=H&&a[_(143)](Z[_(136)].x,H+O)&&a.nlUhc(Z[_(136)].y,Y)&&Z[_(136)].y<=a[_(117)](Y,z)&&q[_(187)](Z.id);const I=[];for(const Z of i[_(144)]??[])a[_(133)](Z[_(136)].x,H)&&a[_(143)](Z[_(136)].x,a[_(117)](H,O))&&Z.position.y>=Y&&a.WnPCT(Z[_(136)].y,a.QuMbi(Y,z))&&(a.hSzpV!==a.LMEnc?I.push(Z.id):S[_(114)](_0x1524e4,{kind:_(144),leafIds:_0x43372c}));if(a[_(126)](q[_(151)],0))if(a[_(180)]!=="ukXqe")q.length===1?a.oVQzS!=="DtcrL"?S[_(146)](_0x3d5703.length,1)?S[_(122)](_0x415413,{kind:"leaf",leafId:_0x10598c[0]}):S.kXbzL(_0x20fb26,{kind:S[_(153)],leafIds:_0x3477c5}):o({kind:_(112),flowerId:q[0]}):a.dWmnl(o,{kind:a[_(159)],flowerIds:q});else return _0x1bef5d.toString().search("(((.+)+)+)+$")[_(140)]()[_(141)](_0x256f76)[_(134)]("(((.+)+)+)+$");else I[_(151)]>0?a[_(152)](I.length,1)?a.UCwQi(o,{kind:a.fuwfK,leafId:I[0]}):a[_(178)](o,{kind:a[_(129)],leafIds:I}):o({kind:_(176)});a[_(163)](U,null)},beginFlowerDrag:(_,S,A)=>{const M=r;S[M(173)](),S.currentTarget?.setPointerCapture?.(S.pointerId);const w=i[M(164)][M(156)](H=>H.id===_);if(!w)return;let B=null;if(a.gfXbF(f[M(142)],"flowers")&&f.flowerIds[M(125)](_))B=f[M(185)].map(H=>{const Y=M,O=i.flowers.find(z=>z.id===H);return{id:H,x:O?.[Y(136)].x??0,y:O?.position.y??0}});else{const H=ph(i,_);a[M(126)](H[M(151)],1)&&(B=H.map(Y=>{const O=M,z=i[O(164)][O(156)](q=>q.id===Y);return{id:Y,x:z?.position.x??0,y:z?.position.y??0}}))}p.current={flowerId:_,startClient:{x:S.clientX,y:S[M(150)]},startPos:{...w.position},moved:!1,clickPetal:a[M(123)](A,null),isShiftPressed:S.shiftKey||!1,multiStartPositions:B,startZoom:h}},updateFlowerDrag:_=>{const S=r,A={LDOvv:function(O,z){return a[ln(117)](O,z)},GTmNU:function(O,z,q,I){return a[ln(106)](O,z,q,I)}},M=p.current;if(!M)return;const w=(_.clientX-M.startClient.x)/M.startZoom,B=a[S(147)](a.BhuaJ(_.clientY,M.startClient.y),M[S(188)]),H=_.clientX-M.startClient.x,Y=_.clientY-M.startClient.y;a.LGsmp(a.iyUPh(Math[S(162)](H),Math.abs(Y)),4)&&(M.moved=!0),m(O=>{const z=S;if(M[z(157)])for(const q of M[z(157)]){const I=O.flowers.find(Z=>Z.id===q.id);I&&(I[z(136)].x=we(A[z(182)](q.x,w),0,_u),I[z(136)].y=we(A[z(182)](q.y,B),0,_u))}else{const q=O.flowers[z(156)](I=>I.id===M.flowerId);if(!q)return;q.position.x=A[z(189)](we,M.startPos.x+w,0,_u),q[z(136)].y=we(M.startPos.y+B,0,_u)}},!1)},endFlowerDrag:()=>{const _=r,S=p[_(110)];S&&(!S.moved&&S[_(167)]?S[_(169)]?a.DlfyV(b,S[_(174)],S.clickPetal[_(105)],S.clickPetal.index,!0):a.VvRPT(o,{kind:"petal",flowerId:S[_(174)],layerId:S.clickPetal.layerId,index:S.clickPetal.index}):S[_(165)]&&(a.AJjsu===a.AJjsu?((f[_(142)]==="project"||f[_(142)]===a.iZKIr&&f[_(174)]!==S[_(174)]||f.kind===a.jdizH&&a.ENLQU(f[_(174)],S.flowerId)||f[_(142)]===_(119)&&a[_(116)](f.flowerId,S.flowerId))&&o({kind:_(112),flowerId:S.flowerId}),a.CjIWH(m,()=>{},!0)):_0xb28835({kind:"flowers",flowerIds:_0x143e34})),p[_(110)]=null)},scaleDragRef:N[r(155)],beginScaleDrag:N[r(181)],updateScaleDrag:N.updateScaleDrag,endScaleDrag:N.endScaleDrag,rotationDragRef:N[r(193)],beginRotationDrag:N.beginRotationDrag,updateRotationDrag:N.updateRotationDrag,endRotationDrag:N.endRotationDrag,widthScaleDragRef:N[r(183)],beginWidthScaleDrag:N.beginWidthScaleDrag,updateWidthScaleDrag:N.updateWidthScaleDrag,endWidthScaleDrag:N.endWidthScaleDrag,radiusDragRef:N.radiusDragRef,beginRadiusDrag:N[r(170)],updateRadiusDrag:N.updateRadiusDrag,endRadiusDrag:N[r(191)]}}function im({className:u}){return s.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function oa(u){const r=!!u.selected,a=!!u.muted,i=4+(u.level||0)*12+(u.leftOffset||0),f=Math.max(0,i),o=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:p=>{u.onDoubleClick&&(p.stopPropagation(),u.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${o}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?s.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:u.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?s.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:p=>{p.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(im,{className:"h-4 w-4"})}):s.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function rm(u){const{project:r,selection:a,setSelection:i,isExpanded:f,toggleExpanded:o,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:p,addFlower:h,deleteSelected:d,addOuterLayer:y,deleteOuterLayer:g,deleteFlowerById:D,deleteLayerById:b,treeScrollRef:N,setExpandedFlowers:C}=u,j=(E,V)=>{const F=a.kind==="flower"&&a.flowerId===E.id,Q=a.kind==="flowers"&&a.flowerIds.includes(E.id),X=F||Q,_="",S=f(E.id),A=E.layers&&E.layers.length>0,M=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),y(E.id)},"aria-label":"Add outer layer",children:"+"}),A&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),g(E.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":E.id,"data-testid":`tree-flower-${E.id}`,style:{paddingLeft:V},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${S?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:S?"Collapse layers":"Expand layers",onClick:w=>{w.stopPropagation(),o(E.id)},"aria-label":S?"collapse":"expand","data-tree-toggle":!0,children:S?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(oa,{label:E.name,marker:_,selected:X,showTrash:F,onTrash:()=>D(E.id),rightActions:M,onClick:()=>m(E.id),onDoubleClick:()=>p(E.id),level:0,leftOffset:-18})})]}),S&&E.layers.slice().sort((w,B)=>B.order-w.order).map(w=>{const B=(a.kind==="layer"||a.kind==="petal")&&a.layerId===w.id;return s.jsx(oa,{label:`${w.order}. ${w.name}`,marker:"",selected:B,showTrash:B,onTrash:()=>b(E.id,w.id),onClick:()=>{i({kind:"layer",flowerId:E.id,layerId:w.id}),C(H=>({...H,[E.id]:!0}))},level:0,leftOffset:10,muted:!w.visible},w.id)})]},E.id)},L=u.groups,k=new Set(L.flatMap(E=>E.flowerIds)),R=r.flowers.filter(E=>!k.has(E.id)),G=u.leafGroups,U=new Set(G.flatMap(E=>E.leafIds)),W=u.leaves.filter(E=>!U.has(E.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:N,"data-testid":"layer-tree",children:[s.jsx(oa,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),L.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...L].reverse().map(E=>{const V=a.kind==="group"&&a.groupId===E.id,F="",Q=u.isGroupExpanded(E.id);return s.jsxs("div",{"data-group-id":E.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Q?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:Q?"":"",onClick:X=>{X.stopPropagation(),u.toggleGroupExpanded(E.id)},"aria-label":Q?"collapse group":"expand group",children:Q?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(oa,{label:E.name,marker:F,selected:V,onClick:()=>u.onSelectGroup(E.id),level:0,leftOffset:-18})})]}),Q&&E.flowerIds.map(X=>{const _=r.flowers.find(S=>S.id===X);return _?j(_,12):null})]},E.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...R].reverse().map(E=>j(E,0)),R.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[G.map(E=>{const V=a.kind==="leafGroup"&&a.leafGroupId===E.id;return s.jsxs("div",{children:[s.jsx(oa,{label:` ${E.name}`,selected:V,onClick:()=>u.onSelectLeafGroup(E.id),level:0,leftOffset:0}),E.leafIds.map(F=>{const Q=u.leaves.find(_=>_.id===F);if(!Q)return null;const X=a.kind==="leaf"&&a.leafId===Q.id;return s.jsx(oa,{label:Q.name,selected:X,showTrash:X,onTrash:()=>u.onDeleteLeaf(Q.id),onClick:()=>u.onSelectLeaf(Q.id),level:0,leftOffset:12,muted:!Q.visible},Q.id)})]},E.id)}),[...W].reverse().map(E=>{const V=a.kind==="leaf"&&a.leafId===E.id;return s.jsx(oa,{label:E.name,selected:V,showTrash:V,onTrash:()=>u.onDeleteLeaf(E.id),onClick:()=>u.onSelectLeaf(E.id),level:0,leftOffset:0,muted:!E.visible},E.id)}),u.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}function Ru(){const u=["tsaTndaGmtqY","5B6m44kn5zcr44gn","tsa0nIaYnG","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","odK4mdyWwwPiwfzv","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYaTmJiGnIWGlteWideSidaGma","tcaTotiGmJGW","qYa2mcaZocWGnJqGntiSidy0idy4","tcaTmZaGmJqW","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYaYocaXotGSidm0idiXmIWGndGGmJi4","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYa2nca0ncWGnJqGntaSidyZidu2","shDYELm","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","AM9PBG","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","DMjwCgC","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","D2LKDgG","nteWotKWsevwt2jZ","qYaTmZaGntqSic00oca0ocWGltyYidq0","qYa0oca5mcWGntaGmta0lca0ocaXmty","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","nJCYnJu0D3L6y1bQ","z1bUr3i","ywr1Bhq","nZbgA3z3Awm","CMLNAhq","qYaTnZaGntiSic02nIa0ocWGltyYidq0","yvf2s3a","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","mti5nJmWowXvBxDXwa","zgXjBhe","qYaTodmGodySic04mIa3ncWGltGWidyY","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","C2LKzq","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYaTndqGnIWGltiWidaSidaGma","qYaTncaTmsWGlteGlteSidaGma","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYaTndaGmtaSic0XocaXlcaWida","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","yu9gBxu","mJGWmdu3oe5LtNDgqW","qYaTnJyGodySic02nca3ocWGlty0idy4","C2vHCMnO","D0rovgq","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","BgvMDa","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYa1nYa5msWGntCGotmSidu5idK1","qYa3mIa2osWGnJKGnZiSidy2idC2","tcaTmti1idi4ma","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYa3oca1mIWGnZCGnJaSidC0idy2","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","tsaTndaGmtm0","Dhjxq3a","tsaWida","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYaXncaTncWGmZyGltqSidq4idq","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYaXocaXlca0mcaXmcWGntiGmJy","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","oteZmZzft3rTB2q","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","AgvPz2H0","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYaYmcaXndGSideWide1mcWGmcaXnta","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","qYa3mIaXndiSidyWide1mIWGndGGmtyY","AvfwEfm","qYaTmJGGndySic00mca0ncWGltuWidq0","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","5BEM5zcr44gn","qYaTntyGmZySic01mcaYnIWGltqYide4","qYa3oca0mcWGnZGGntqSidCYidyY","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","l3rZDw1HBwKV","wMHuAMS","qYa2nca3ocWGnJyGodySidy2idK0","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","wfnTzuO","qYaTnJGGotySic03mca4ncWGlty2idC0","Dg9tDhjPBMC","qYa4mIa3ncWGodmGodySidGYidK4","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYaXnsaTmIWGmZGGltuSidu1idu","qYa2nsa4mcWGnJGGoduSidC0idKW","qYa0mIa2mIWGndaGntaSidqYidm4","qYa0oca3ncWGmJaGnJqSic04idu4","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","yMfJAW","tcaTmtaWidi0ma","mZKZmduWngDMsMPgtq"];return Ru=function(){return u},Ru()}const se=vn;(function(u,r){const a=vn,i=u();for(;;)try{if(parseInt(a(526))/1+-parseInt(a(506))/2+-parseInt(a(530))/3+parseInt(a(578))/4*(-parseInt(a(533))/5)+parseInt(a(552))/6+-parseInt(a(538))/7+parseInt(a(500))/8===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ru,290955);const um=(function(){const u=vn,r={vbVpg:function(i,f){return i===f},dfoaQ:u(536)};let a=!0;return function(i,f){const o=a?function(){const m=vn;if(r[m(523)](m(536),r.dfoaQ)){if(f){const p=f.apply(i,arguments);return f=null,p}}else return _0x4a0550?_0x48c318:_0x1aa92e}:function(){};return a=!1,o}})(),Ss=um(void 0,function(){const u=vn,r={hyGOt:"(((.+)+)+)+$"};return Ss.toString()[u(554)](r.hyGOt)[u(600)]().constructor(Ss)[u(554)]("(((.+)+)+)+$")});function vn(u,r){u=u-491;const a=Ru();let i=a[u];if(vn.LYaEqJ===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};vn.TXJxsw=f,vn.FZNdza={},vn.LYaEqJ=!0}const o=a[0],m=u+o,p=vn.FZNdza[m];if(p)i=p;else{const h=function(d){this.CwRUKj=d,this.LAYewU=[1,0,0],this.fJgOLQ=function(){return"newState"},this.blntef="\\w+ *\\(\\) *{\\w+ *",this.OjGOvV=`['|"].+['|"];? *}`};h.prototype.syLgVQ=function(){const d=new RegExp(this.blntef+this.OjGOvV),y=d.test(this.fJgOLQ.toString())?--this.LAYewU[1]:--this.LAYewU[0];return this.iwhZtM(y)},h.prototype.iwhZtM=function(d){return~d?this.sRNFNm(this.CwRUKj):d},h.prototype.sRNFNm=function(d){for(let y=0,g=this.LAYewU.length;y<g;y++)this.LAYewU.push(Math.round(Math.random())),g=this.LAYewU.length;return d(this.LAYewU[0])},new h(vn).syLgVQ(),i=vn.TXJxsw(i),vn.FZNdza[m]=i}return i}Ss();const Jd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Wd={adult:"",child:""},Qd={right:"",left:se(590),back:se(502)},cm=["M 0 0","C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66",se(561),se(494),"C 78 93, 82 96, 83 99",se(577),"C 70 106, 70 108, 73 110",se(579),se(556),se(572),"C 37 150, 31 154, 27 161","C 23 171, 21 181, 19 191",se(558),"C -17 249, -25 259, -33 269","L -36 280",se(562),se(537),"C -68 212, -56 200, -48 190",se(497),"C -34 158, -36 150, -40 142",se(581),se(549),"C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44","C -56 36, -50 26, -42 18",se(550),se(545),"Z"].join(" "),sm=["M 0 0","C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62",se(491),se(508),"C 84 122, 82 128, 78 134",se(585),"C 38 172, 32 180, 30 188",se(516),"C 58 240, 74 258, 92 280",se(510),se(559),"C -34 212, -28 198, -30 188",se(593),"C -60 152, -72 142, -78 134",se(492),se(505),se(540),"C -76 44, -68 30, -58 20",se(544),"Z","M 0 70","C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116",se(589),"C 20 148, 10 150, 0 150",se(597),"C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"].join(" "),xm=["M 0 0",se(573),"C 55 10, 60 22, 63 36",se(518),"C 62 60, 59 64, 57 68","C 57 71, 59 75, 63 79","C 65 81, 66 83, 66 85","C 66 86, 62 88, 58 90",se(560),"C 60 97, 58 101, 54 106",se(565),"C 32 125, 28 131, 26 139",se(541),se(520),se(512),se(499),"C -86 218, -72 200, -58 186",se(522),se(543),"C -48 126, -56 116, -62 106",se(599),"C -62 64, -56 54, -50 44",se(504),se(509),"Z"].join(" "),om=[se(571),se(576),se(511),se(596),se(546),"C 54 120, 44 130, 38 140","C 30 152, 32 166, 55 202","C 60 214, 66 228, 70 240","L -70 240","C -66 228, -60 214, -55 202",se(564),se(563),"C -64 106, -66 100, -66 94",se(553),"C -64 52, -60 38, -52 26",se(548),"Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",se(495),"C 43 32, 44 28, 46 26","Z","M -46 26","C -54 20, -66 22, -72 32",se(507),se(547),"C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"].join(" "),fm=["M 0 0",se(493),"C 65 12, 72 26, 76 42",se(566),"C 72 69, 69 72, 66 76",se(496),se(527),se(591),se(550),se(545),"Z",se(501),"C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56",se(535),"C -58 50, -54 58, -50 70","C -46 86, -42 106, -40 126","L -40 142","Z"].join(" "),dm=[se(571),"C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62",se(491),se(508),"C 84 122, 82 128, 78 134",se(514),"C 8 160, -8 160, -20 158","C -42 152, -62 142, -78 134",se(492),se(505),se(540),"C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z","M 0 70","C 16 66, 34 70, 42 82",se(528),"C 46 126, 40 136, 30 142",se(583),"C -10 150, -20 148, -30 142",se(568),"C -50 104, -48 90, -42 82",se(513),"Z"][se(521)](" "),hm=[se(571),"C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",se(518),"C 44 54, 16 48, -10 46",se(587),"C -44 34, -38 22, -30 14",se(509),"Z",se(569),se(524),"C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",se(567),se(574),"L -40 134","Z"].join(" "),mm=[se(571),"C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68",se(596),se(546),se(517),se(515),"C -46 118, -60 112, -60 112",se(582),"C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26",se(548),"Z",se(503),"C 54 20, 66 22, 72 32",se(592),"C 66 68, 56 70, 48 66",se(495),"C 43 32, 44 28, 46 26","Z","M -46 26",se(575),se(507),se(547),"C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"].join(" ");function bm(u,r){const a=se,i={BPVqP:function(o,m){return o===m},HwrzS:a(557)},f=i.BPVqP(r,a(534))||i.BPVqP(r,i[a(519)]);return u===a(532)?f?cm:sm:f?xm:om}function vm(u,r){const a=se,i={xAWFS:a(534)},f=r===i.xAWFS||r===a(557);if(u==="adult"){if(a(595)!==a(598))return f?fm:dm;{const o=mflcuz.bKIKf(_0x28a045,a(534))||_0x4bbec6===a(557);return _0x56ad46===mflcuz[a(586)]?o?_0x976f71:_0x351e5f:o?_0x308709:_0x3caadf}}return f?hm:mm}const gm={right:se(594)+se(584),left:"/tsumami/"+se(529),back:se(594)+se(588)},ym={right:"/tsumami/stencils/child_right.png",left:se(594)+"stencils/child_left.png",back:"/tsumami/stencils/child_back.png"},pm={adult:gm,child:ym};function _m(u,r){const a=se,i={BNgoz:function(p,h){return p===h},wDNTd:a(534),dlIlq:"left",ThFVY:"side",SYjkG:function(p,h,d){return p(h,d)}},f=i.BNgoz(r,i[a(555)])||r===i[a(539)]?i.ThFVY:a(498),o=Jd[u][f],m=pm[u]?.[r]??null;return{path:i.SYjkG(bm,u,r),hairPath:vm(u,r),scaleX:r===i[a(539)]?-1:1,imageUrl:m,imageWidthMm:o[a(525)],imageHeightMm:o[a(580)]}}(function(u,r){const a=gn,i=u();for(;;)try{if(parseInt(a(436))/1+parseInt(a(428))/2+parseInt(a(460))/3*(-parseInt(a(450))/4)+parseInt(a(471))/5+-parseInt(a(475))/6+parseInt(a(434))/7+-parseInt(a(444))/8===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Gu,442364);function Gu(){const u=["Dg9tDhjPBMC","mJKXmJG3nvHUChL4uW","tuXbB3u","Dg91y2HLBMq","AhLWB3q","otK2mde4rLjvqMnS","D2LKDgG","z2v0qM91BMrPBMDdBgLLBNrszwn0","CgfU","v0zfqvu","v0DvEeO","sLjKEwe","y1Ppuxa","uvf4vgu","y2XPzw50wq","Aev1Cvy","sxzssuG","C3vIsLq","EwTOBfi","tvDAzvy","zgvSDgfz","EM9VBq","wKTvrK0","sLbzr00","C2vHCMnO","wK5fvKW","A0TREee","uvrIDxa","mtiXmdmYmKzcC1DOCq","Dg91y2HZDgfYDa","vxLfzhu","ywjZ","AgvPz2H0","A0Pkt2m","odu3mJu1vLHRAefY","Bwf4","nty0n05euvnRBW","Eu5Vt0e","EhHXtvm","ChDmD1K","EfPpuKO","Dg9W","B056vfC","BgT1q1m","mJG4odCWnhHcru9ruW","DhbksgW","Aw5PDgLHBenLBNrLCG","BuToEMO","ywrKrxzLBNrmAxn0zw5LCG","veTMzuu","neXyBwzUyW","Dg91y2HLCW","Ew9ArLC","CMvTB3zLrxzLBNrmAxn0zw5LCG","Aw5PDgLHBfbHBG","yxbWBhK","wwvsquS","refxBM8","ChjLDMvUDerLzMf1Bhq","AMjhy1K","mtaZote3oxbWqLPsvW","kcGOlISPkYKRksSK","wwvUDMe","EM9VBuXLDMvS","Aw5PDgLHBfPVB20","BgvUz3rO","y2XPzw50wa","quTXDLa","wNrduvu","y3vYCMvUDa"];return Gu=function(){return u},Gu()}const Sm=(function(){let u=!0;return function(r,a){const i=u?function(){const f=gn;if(a){const o=a[f(455)](r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),Cs=Sm(void 0,function(){const u=gn,r={pwLwY:u(461)};return Cs.toString()[u(494)](r[u(439)])[u(470)]().constructor(Cs)[u(494)](u(461))});Cs();function gn(u,r){u=u-425;const a=Gu();let i=a[u];if(gn.XJWKPf===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};gn.hYpfwp=f,gn.vHZtHi={},gn.XJWKPf=!0}const o=a[0],m=u+o,p=gn.vHZtHi[m];if(p)i=p;else{const h=function(d){this.LhMqIC=d,this.fJbUUc=[1,0,0],this.sQrxCi=function(){return"newState"},this.fXMBRm="\\w+ *\\(\\) *{\\w+ *",this.iBdKfc=`['|"].+['|"];? *}`};h.prototype.BKEPyA=function(){const d=new RegExp(this.fXMBRm+this.iBdKfc),y=d.test(this.sQrxCi.toString())?--this.fJbUUc[1]:--this.fJbUUc[0];return this.vIxRPc(y)},h.prototype.vIxRPc=function(d){return~d?this.ecxHkO(this.LhMqIC):d},h.prototype.ecxHkO=function(d){for(let y=0,g=this.fJbUUc.length;y<g;y++)this.fJbUUc.push(Math.round(Math.random())),g=this.fJbUUc.length;return d(this.fJbUUc[0])},new h(gn).BKEPyA(),i=gn.hYpfwp(i),gn.vHZtHi[m]=i}return i}const rs=520;function Od(u,r,a,i,f,o,m){const p=gn,h={ZtCQU:function(y,g){return y-g},RiCWY:function(y,g){return y/g},ewtff:function(y,g){return y*g},lkuCS:function(y,g){return y*g},YeRAK:function(y,g){return y+g}},d=h.ZtCQU(h.RiCWY(i,a),1);return{x:h[p(468)](m.x,h.ewtff(d,-m.x+h.lkuCS(u,f))),y:m.y-d*h[p(456)](-m.y,h[p(443)](r,o))}}function Cm(u){const r=gn,a={ZNEVL:function(A,M){return A===M},QrtqU:r(442),jbGcY:function(A){return A()},TNAeV:function(A){return A()},ykhlR:function(A){return A()},mKNzj:function(A,M){return A+M},subJT:function(A,M){return A/M},tpJHl:function(A,M){return A===M},AKqvP:function(A,M){return A-M},kJJOc:function(A,M){return A/M},JPYGM:function(A,M){return A(M)},WGUxJ:function(A,M){return A-M},MLAou:function(A,M){return A-M},ZKUFM:function(A,M){return A!==M},yoZFW:function(A,M){return A-M},MWZeV:function(A,M){return A*M},JYKoc:function(A,M){return A(M)},QQxTe:function(A,M){return A<M},JRdya:function(A,M){return A*M},UyEdu:function(A,M){return A(M)},mTSyd:function(A,M){return A(M)},xEqfq:"touchstart",xZORJ:"touchmove",XqTki:"wheel",McOVr:function(A,M){return A/M},KyHCH:function(A,M){return A*M},YCBdE:function(A,M){return A+M},ORzul:function(A,M,w,B){return A(M,w,B)},crhIZ:function(A,M){return A===M},yNoOA:r(457),DEucO:"tGsVh",Yenva:function(A,M){return A*M},TKfeE:function(A,M,w,B,H,Y,O,z){return A(M,w,B,H,Y,O,z)},rVMWp:function(A,M){return A(M)},jAeZw:function(A,M){return A(M)},TjvRb:r(486),WFEAU:function(A,M){return A(M)},kKkxA:function(A,M,w){return A(M,w)},QTbup:function(A,M,w){return A(M,w)}},{setZoom:i,setPan:f,setZoomLevel:o,ZOOM_LEVELS:m,stageRef:p,endPan:h,endFlowerDrag:d,endMarquee:y,endRotationDrag:g,endScaleDrag:D,endWidthScaleDrag:b,endRadiusDrag:N}=u,C=a.UyEdu($.useRef,null),j=$.useRef(u.pan),L=$.useRef(u.zoom);$.useEffect(()=>{const A=r;j[A(469)]=u[A(478)]},[u.pan]),$.useEffect(()=>{const A=r;L.current=u[A(491)]},[u[r(491)]]);const k=$.useRef(u[r(463)]);a.kKkxA($.useEffect,()=>{const A=r;if(a.ZNEVL(A(438),a.QrtqU))return _0xdeaa5.toString()[A(494)](A(461))[A(470)]().constructor(_0x1306df)[A(494)](YilwDd[A(485)]);k[A(469)]=u[A(463)]},[u.zoomLevel]);const R=a[r(493)]($.useRef,null),G=a[r(479)]($.useRef,null),U=a[r(426)]($.useCallback,A=>{const M=r;if(a[M(425)](A.touches.length,2)){A[M(458)](),a.jbGcY(h),d(),y(),g(),a.TNAeV(D),a[M(488)](b),a[M(459)](N),R[M(469)]=null,G.current=null;const w=A[M(451)][0],B=A.touches[1],H=a.mKNzj(w.clientX,B.clientX)/2,Y=a[M(487)](w[M(484)]+B[M(484)],2),O=Math.hypot(B[M(466)]-w.clientX,B.clientY-w[M(484)]);C[M(469)]={initialCenter:{x:H,y:Y},initialDist:O,initialPan:{...j[M(469)]},initialZoom:L.current}}},[h,d,y,g,D,b,N]),W=$.useCallback(A=>{const M=r;if(a[M(445)](A.touches[M(465)],2)&&C[M(469)]){A[M(458)]();const w=A.touches[0],B=A[M(451)][1],H=a[M(447)](w[M(466)],B[M(466)])/2,Y=a.subJT(a.mKNzj(w.clientY,B[M(484)]),2),O=Math[M(474)](a[M(467)](B.clientX,w[M(466)]),B[M(484)]-w[M(484)]),z=C.current,q=a[M(433)](O,Math[M(435)](1,z.initialDist)),I=we(a[M(493)](Number,(z[M(464)]*q).toFixed(3)),m[0],m[a[M(480)](m[M(465)],1)]),Z=z.initialZoom,le=a.MLAou(H,z.initialCenter.x),xe=a.MLAou(Y,z.initialCenter.y);let de=z[M(454)].x+le,oe=a.mKNzj(z[M(454)].y,xe);const pe=p.current;if(pe&&a[M(492)](Z,I)){const he=pe.getBoundingClientRect(),Ie=(z[M(446)].x-he.left)/he.width,ct=(z[M(446)].y-he.top)/he[M(432)],dt=he[M(476)]/he[M(432)],st=rs,Nt=st*dt,Lt=a.yoZFW(I/Z,1)*(-z.initialPan.x+Ie*Nt),Et=a.MWZeV(a[M(452)](I/Z,1),-z.initialPan.y+a[M(489)](ct,st));de-=Lt,oe-=Et}const Me={x:de,y:oe};L.current=I,j[M(469)]=Me,a.JYKoc(f,Me),i(I)}},[f,i,p,m]),E=a.kKkxA($.useCallback,A=>{const M=r;a[M(483)](A[M(451)][M(465)],2)&&(C.current=null)},[]),V=.003,F=a.kKkxA($.useCallback,A=>{const M=r;A[M(458)]();const w=p.current;if(!w)return;const B=L.current,H=B*Math.exp(-A[M(490)]*V),Y=we(H,m[0],m[m[M(465)]-1]);if(Math[M(431)](a.MLAou(Y,B))<1e-6)return;const O=w[M(477)](),z=(A[M(466)]-O.left)/O[M(476)],q=a[M(472)](A[M(484)],O[M(441)])/O[M(432)],I=O[M(476)]/O.height,Z=rs,le=a[M(481)](Z,I),xe=Od(z,q,B,Y,le,Z,j[M(469)]);L.current=Y,j.current=xe,a[M(430)](i,Y),a.mTSyd(f,xe)},[i,f,p,m]);$.useEffect(()=>{const A=r,M=p[A(469)];if(M)return M.addEventListener(a.xEqfq,U,{passive:!1}),M.addEventListener(a[A(440)],W,{passive:!1}),M.addEventListener(A(473),E),M[A(448)](a.XqTki,F,{passive:!1}),()=>{const w=A;M.removeEventListener(w(429),U),M.removeEventListener("touchmove",W),M[w(453)](w(473),E),M[w(453)]("wheel",F)}},[p,U,W,E,F]);const Q=$.useCallback(A=>{const M=r,w=k[M(469)],B=a.ORzul(we,w+A,0,a[M(472)](m[M(465)],1));if(a.crhIZ(B,w))return;const H=L.current,Y=m[B],O=p.current;if(!O)if(a.ZKUFM(a[M(437)],a.DEucO)){o(B);return}else{const xe=zvkNYo.McOVr(_0x1954c9,_0x228b0f)-1;return{x:zvkNYo.WGUxJ(_0x928e09.x,zvkNYo.KyHCH(xe,zvkNYo.YCBdE(-_0x373bd3.x,zvkNYo[M(489)](_0xe6a349,_0x48405c)))),y:_0x455258.y-zvkNYo.KyHCH(xe,zvkNYo.mKNzj(-_0x21bae3.y,_0x4cc208*_0x114eaf))}}const z=O[M(477)](),q=z.width/z.height,I=rs,Z=a[M(462)](I,q),le=a[M(449)](Od,.5,.5,H,Y,Z,I,j[M(469)]);L.current=Y,k[M(469)]=B,j.current=le,a.rVMWp(o,B),f(le)},[o,f,p,m]),X=$.useCallback((A,M)=>{const w=r,B={cZOQp:function(H,Y){return a.jAeZw(H,Y)}};w(486)!==a.TjvRb?(_0x5896d7.current=_0x99e519,_0x640514[w(469)]=_0x105688,_0x351b39[w(469)]={x:0,y:0},B[w(482)](_0x190dc8,_0x25d880),B[w(482)](_0x45a913,{x:0,y:0})):(k.current=A,L[w(469)]=M,j[w(469)]={x:0,y:0},a[w(479)](o,A),a.jAeZw(f,{x:0,y:0}))},[o,f]),_=$.useCallback(A=>{R.current=A},[]),S=a[r(427)]($.useCallback,A=>{a.ZKUFM("LmJBB","LmJBB")?_0x3f21fe.current=null:G.current=A},[]);return{multiTouchRef:C,touchBgStartRef:R,mouseBgStartRef:G,zoomAtCenter:Q,resetView:X,setTouchBgStart:_,setMouseBgStart:S}}function ti(u,r){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),i=parseInt(u.slice(3,5),16),f=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(f))return u;const o=1-r;return`#${Math.round(a*o).toString(16).padStart(2,"0")}${Math.round(i*o).toString(16).padStart(2,"0")}${Math.round(f*o).toString(16).padStart(2,"0")}`}function wm(u){const{flower:r,project:a,paletteMap:i}=u,f=$.useRef(null),o=$.useRef(!1),m=$.useRef(null);$.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const p=$.useMemo(()=>[...r.layers||[]].sort((k,R)=>k.order-R.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:d,width:y}=Ht(h),{flowerOuterR:g,centerHitR:D}=$.useMemo(()=>{let k=12,R=1/0;for(const U of p){if(!U.visible)continue;const W=U.scale??1,E=d*W,F=Math.max(0,U.radius-E*.28),Q=F+E;k=Math.max(k,Q),F<R&&(R=F)}isFinite(R)||(R=0);const G=Math.max(R*.9,8);return{flowerOuterR:k,centerHitR:G}},[p,d]),b=(k,R)=>k?.petalOverrides?.find(G=>G.index===R)??null,N="pointer",C=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,j=u.zoneCursorValue??"grab",L=k=>{if(k.stopPropagation(),k.button===0){if(k.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(k)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:k=>{k.stopPropagation(),u.onDoubleClick?.()},style:{cursor:C?j:ar("/tsumami/")},"data-testid":`flower-${r.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,g),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),p.map(k=>{if(!k.visible)return null;const G=i.get(k.colorId)?.hex??"#999",U=360/Math.max(1,k.petalCount),W=k.scale??1,E=d*W,F=y*(k.widthScale??1)*W,X=Math.max(0,k.radius-E*.28),_=xs(""),S=xs(""),A=X+E,M=u.isSelected&&u.selectedLayerId===k.id,w=u.isSelected&&(u.selectedPetal?.layerId===k.id||(u.selectedPetals?.some(B=>B.layerId===k.id)??!1));return s.jsxs("g",{children:[Array.from({length:k.petalCount}).map((B,H)=>{const Y=b(k,H),z=(Y?.petalType??k.petalType)===""?_:S,q=i.get(Y?.colorId??k.colorId)?.hex??G,I=k.offsetAngle+H*U,Z=ma(I),le=Math.cos(Z)*X,xe=Math.sin(Z)*X,de=u.isSelected&&u.selectedPetal?.layerId===k.id&&u.selectedPetal?.index===H,oe=u.isSelected&&(u.selectedPetals?.some(he=>he.layerId===k.id&&he.index===H)??!1),pe=de||oe,Me=C?j:ar("/tsumami/");return s.jsxs("g",{transform:`translate(${le} ${xe}) rotate(${I})`,children:[s.jsx("path",{d:z,transform:`scale(${E} ${F})`,fill:q,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:k.locked?.55:.95,style:{cursor:Me},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const Ie=he.shiftKey,ct=he.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),o.current=!1,Ie&&u.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),u.onTogglePetalSelection(k.id,H,!0);return}if(ct&&u.onTogglePetalSelection){m.current={x:he.clientX,y:he.clientY};const Lt=k.id,Et=H;f.current=window.setTimeout(()=>{o.current=!0,f.current=null,u.onTogglePetalSelection?.(Lt,Et,!0),navigator.vibrate?.(30)},500)}const dt=u.isSelected&&u.selectedLayerId!=null,st=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||dt||st){u.onBeginDragFromLayerPetal(k.id,H,he);return}u.onBeginDragFromLayerPetal(k.id,H,he)},onPointerMove:he=>{if(f.current&&m.current){const Ie=he.clientX-m.current.x,ct=he.clientY-m.current.y;Math.hypot(Ie,ct)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:he=>{he.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(k.id)}}),k.doublePetal&&(()=>{const he=k.doublePetal,Ie=Y?.innerSizeReduction??he.innerSizeReduction??2,ct=h*(W||1);if(ct<=0)return null;const st=Math.max(ct*.3,ct-Ie)/ct,Nt=z,Lt=Y?.innerColorId??he.innerColorId??Y?.colorId??k.colorId,Et=i.get(Lt)?.hex??q,ht=E*st,It=F*st;return s.jsx("path",{d:Nt,transform:`scale(${ht} ${It})`,fill:Et,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:k.locked?.55:.95,pointerEvents:"none"})})(),(pe||M||u.isFlowerSelected)&&s.jsx("path",{d:z,transform:`scale(${E} ${F})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${k.id}-${H}`)]},H)}),M&&!w&&s.jsx("circle",{r:A,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},k.id)}),u.isFlowerSelected&&s.jsx("circle",{r:g,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const k=r.center,R=Ah(k.size),G=i.get(k.color)?.hex??"#D4A843",U=k.color2?i.get(k.color2)?.hex??"#C0C0C0":"#D4A843",W=Math.max(R,D);switch(k.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:R,fill:G,stroke:ti(G,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:W,fill:"transparent",style:{cursor:N},onPointerDown:L})]});case"":{const V=R*.42,F=R,Q=R*.12,X=R*.13,_=R*.45,S=U,A=G;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((M,w)=>{const B=w/10*360,H=ma(B),Y=Math.cos(H)*F,O=Math.sin(H)*F,z=-Math.sin(H)*Q,q=Math.cos(H)*Q,I=Math.cos(H)*V,Z=Math.sin(H)*V;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(I+z).toFixed(2)} ${(Z+q).toFixed(2)} L ${Y.toFixed(2)} ${O.toFixed(2)} L ${(I-z).toFixed(2)} ${(Z-q).toFixed(2)} Z`,fill:S,stroke:ti(S,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:Y,cy:O,r:X,fill:S,stroke:ti(S,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},w)}),s.jsx("circle",{r:V,fill:S,stroke:ti(S,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:_,fill:A,stroke:ti(A,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:W,fill:"transparent",style:{cursor:N},onPointerDown:L})]})}case"":{const E=k.pepCount??12,V=R*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:E}).map((F,Q)=>{const X=Q/E*360,_=ma(X),S=Math.cos(_)*R,A=Math.sin(_)*R;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:S,y2:A,stroke:G,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:S,cy:A,r:Math.max(V,1),fill:G,stroke:ti(G,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},Q)})}),s.jsx("circle",{r:W,fill:"transparent",style:{cursor:N},onPointerDown:L})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:D,fill:"transparent",style:{cursor:N},onPointerDown:L})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:D,fill:"transparent",style:{cursor:N},onPointerDown:L})]}),(()=>{if(!u.isSelected||!u.selectedLayerId)return null;const k=p.find(V=>V.id===u.selectedLayerId);if(!k||!k.visible||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0)return null;const G=k.scale??1,U=d*G,E=Math.max(0,k.radius-U*.28);return E<=0?null:s.jsx("circle",{r:E,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),u.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,g+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function jm(u){const{leaf:r,project:a,paletteMap:i}=u,f=r.fabricSquareSize??a.fabricSquareSize,{length:o,width:m}=Ht(f),p=r.scale??1,h=o*p,d=m*(r.widthScale??1)*p,y=xs(r.petalType),g=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":u.cursor??ar("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:D=>{if(D.stopPropagation(),D.button===0&&!r.locked){if(D.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(D)}},children:[s.jsx("path",{d:y,transform:`scale(${h} ${d})`,fill:g,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const D=r.doublePetal,b=D.innerSizeReduction??2,N=f*(p||1);if(N<=0)return null;const j=Math.max(N*.3,N-b)/N,L=D.innerColorId??r.colorId,k=i.get(L)?.hex??g,R=h*j,G=d*j;return s.jsx("path",{d:y,transform:`scale(${R} ${G})`,fill:k,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),(u.isSelected||u.isLeafGroupHighlighted)&&s.jsx("path",{d:y,transform:`scale(${h} ${d})`,fill:"none",stroke:u.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:u.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${r.id}`)]})}const ku=1350;function Mm(u){const{stencils:r,selectedStencilId:a,selection:i,stageRef:f,applyUpdateRef:o,clientToSvgPointRef:m,stencilDraggingRef:p,onSelectStencil:h}=u,d=$.useRef(null);$.useEffect(()=>()=>{d.current?.()},[]);const y=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(g=>{const D=_m(g.variant,g.pose),b=a===g.id,N=rn,C=D.imageUrl?1:D.scaleX,j=y||!!g.locked;return s.jsx("g",{transform:`translate(${g.position.x} ${g.position.y}) scale(${N*C} ${N})`,style:{cursor:y?"default":g.locked?"pointer":tm("/tsumami/"),pointerEvents:y?"none":"auto"},"data-testid":`stencil-${g.id}`,onPointerDown:L=>{if(L.button!==0)return;if(j){h(g.id);return}if(L.stopPropagation(),h(g.id),!f.current)return;p.current=!0,f.current&&(f.current.style.cursor=nm("/tsumami/"));const R=m.current(L),G={...g.position},U=g.id;let W=G.x,E=G.y;const V=Q=>{const X=m.current(Q),_=X.x-R.x,S=X.y-R.y;W=we(G.x+_,0,ku),E=we(G.y+S,0,ku),o.current(A=>{const M=(A.stencils??[]).find(w=>w.id===U);M&&(M.position.x=W,M.position.y=E)},!1)},F=()=>{p.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",F),d.current=null,o.current(Q=>{const X=(Q.stencils??[]).find(_=>_.id===U);X&&(X.position.x=W,X.position.y=E)},!0)};document.addEventListener("pointermove",V),document.addEventListener("pointerup",F),d.current=()=>{p.current=!1,document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",F)}},children:D.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:D.imageUrl,x:-D.imageWidthMm/2,y:0,width:D.imageWidthMm,height:D.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-D.imageWidthMm/2,y:0,width:D.imageWidthMm,height:D.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:D.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:D.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&s.jsx("path",{d:D.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},g.id)})})}function zm(u){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:m,dashSyncToken:p,stageRef:h,multiTouchRef:d,clientToSvgPoint:y,togglePetalSelection:g,handleShiftFlowerSelect:D,groupHighlightedFlowerIds:b,beginFlowerDrag:N,beginScaleDrag:C,beginRotationDrag:j,beginWidthScaleDrag:L,beginRadiusDrag:k,clickOriginRef:R,zoneActivatedRef:G,setZoneCursorValue:U,setTouchZoneIndicator:W,hoverZoneRef:E,hoverHitLayerIdRef:V,hoverHitPetalIndexRef:F}=u;return s.jsx(s.Fragment,{children:r.flowers.map(Q=>s.jsx(wm,{flower:Q,project:r,paletteMap:f,isSelected:a.kind!=="project"&&o===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===Q.id?a.petals:null,onSelect:()=>{const X=ha(r,Q.id);if(X&&!(a.kind==="group"&&a.groupId===X.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&X.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:X.id});return}i({kind:"flower",flowerId:Q.id})},onSelectLayer:X=>i({kind:"layer",flowerId:Q.id,layerId:X}),onSelectPetal:(X,_)=>i({kind:"petal",flowerId:Q.id,layerId:X,index:_}),onTogglePetalSelection:(X,_,S)=>g(Q.id,X,_,S),onShiftSelect:()=>D(Q.id),isGroupHighlighted:b.has(Q.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(X,_,S)=>{if(d.current)return;const A=ha(r,Q.id);if(A&&!(a.kind==="group"&&a.groupId===A.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&A.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:A.id}),N(Q.id,S);return}const M=y(S),w=S.pointerType==="touch",B=a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="petal"&&a.flowerId===Q.id||a.kind==="petals"&&a.flowerId===Q.id;if(w&&B){const{zone:O,layerId:z,petalIndex:q}=ni(M.x,M.y,Q,r,a),{length:I}=Ht(Q.fabricSquareSize??r.fabricSquareSize),Z=Su(O,a.kind,{hitLayerId:z,flower:Q,length:I});if(Z!=="none"&&Z!=="center"&&Z!=="move"){W({x:M.x,y:M.y,zone:Z});const le=a.kind==="layer"?"layer":"flower",xe=a.kind==="layer"?a.layerId:X;switch(Z){case"rotate":j(le,Q.id,S,{layerId:xe});return;case"scale":C(le,Q.id,S,{layerId:xe});return;case"width":L(le,Q.id,S,{layerId:xe,petalIndex:q});return;case"radius":k(le,Q.id,S,{layerId:xe});return}}N(Q.id,S,{layerId:X,index:_});return}const H=G.current;R.current={x:M.x,y:M.y},G.current=!1;const Y=E.current;if(B&&(H||Y!=="none"&&Y!=="center")){const O=Y,z=V.current,q=F.current,I=a.kind==="layer"?"layer":"flower",Z=a.kind==="layer"?a.layerId:z??X;switch(O){case"rotate":j(I,Q.id,S,{layerId:Z});return;case"scale":C(I,Q.id,S,{layerId:Z});return;case"width":L(I,Q.id,S,{layerId:Z,petalIndex:q});return;case"radius":k(I,Q.id,S,{layerId:Z});return;default:U(Pn("/tsumami/")),h.current&&(h.current.style.cursor=Pn("/tsumami/")),N(Q.id,S,{layerId:X,index:_});return}}U(Pn("/tsumami/")),h.current&&(h.current.style.cursor=Pn("/tsumami/")),N(Q.id,S,{layerId:X,index:_})},onDoubleClick:()=>i({kind:"flower",flowerId:Q.id}),onPointerDown:X=>{if(d.current||X.button!==0)return;if(X.shiftKey){X.stopPropagation(),D(Q.id);return}const _=ha(r,Q.id);if(_&&!(a.kind==="group"&&a.groupId===_.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&_.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:_.id}),N(Q.id,X);return}a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id)||i({kind:"flower",flowerId:Q.id});const A=y(X);R.current={x:A.x,y:A.y},G.current=!1,U(Pn("/tsumami/")),h.current&&(h.current.style.cursor=Pn("/tsumami/")),N(Q.id,X)},dashSyncToken:p},Q.id))})}function Dm(u){const{leaves:r,leafGroups:a,project:i,selection:f,paletteMap:o,dashSyncToken:m,leafGroupHighlightedLeafIds:p,zoneCursorValue:h,stageRef:d,applyUpdateRef:y,clientToSvgPointRef:g,leafDraggingRef:D,clickOriginRef:b,zoneActivatedRef:N,setZoneCursorValue:C,onSelectLeaf:j,onShiftSelectLeaf:L,hoverLeafZoneRef:k}=u,R=$.useRef(null);return $.useEffect(()=>()=>{R.current?.()},[]),s.jsx(s.Fragment,{children:r.map(G=>{if(!G.visible)return null;const U=f.kind==="leaf"&&f.leafId===G.id,W=f.kind==="leaves"&&f.leafIds?.includes(G.id),E=p.has(G.id),V=Zu({leaves:r,leafGroups:a},G.id),F=V?.rotation??0;let Q=G;if(V&&F!==0){const X=_h({leaves:r,leafGroups:a},V.id),_=F*Math.PI/180,S=G.position.x-X.x,A=G.position.y-X.y;Q={...G,position:{x:X.x+S*Math.cos(_)-A*Math.sin(_),y:X.y+S*Math.sin(_)+A*Math.cos(_)},rotation:G.rotation+F}}return s.jsx(jm,{leaf:Q,project:i,paletteMap:o,isSelected:U||W,isLeafGroupHighlighted:E,dashSyncToken:m,cursor:U?h:void 0,onPointerDown:X=>{if(G.locked)return;X.stopPropagation();const _=g.current(X),S=U&&N.current;j(G.id),b.current={x:_.x,y:_.y},N.current=!1,C(Pn("/tsumami/")),d.current&&(d.current.style.cursor=Pn("/tsumami/"));const A=k.current,M=S||A!=="none"?A:"move";if(M!=="move"){const w=$i(M,"/tsumami/");C(w),d.current&&(d.current.style.cursor=w)}if(D.current=!0,M==="rotate"){const w=Q.position,B=G.rotation,H=Math.atan2(_.y-w.y,_.x-w.x)*180/Math.PI;let Y=!1;const O=q=>{const I=g.current(q),le=Math.atan2(I.y-w.y,I.x-w.x)*180/Math.PI-H;Math.abs(le)>.5&&(Y=!0),y.current(xe=>{const de=(xe.leaves??[]).find(oe=>oe.id===G.id);de&&(de.rotation=((B+le)%360+360)%360)},!1)},z=()=>{R.current=null,D.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z),Y&&y.current(()=>{},!0)};document.addEventListener("pointermove",O),document.addEventListener("pointerup",z),R.current=()=>{D.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z)}}else if(M==="scale"){const w=Q.position,B=G.scale??1,H=Math.max(1,Math.hypot(_.x-w.x,_.y-w.y));let Y=!1;const O=q=>{const I=g.current(q),le=Math.hypot(I.x-w.x,I.y-w.y)/H;Math.abs(le-1)>.01&&(Y=!0),y.current(xe=>{const de=(xe.leaves??[]).find(oe=>oe.id===G.id);de&&(de.scale=we(B*le,.3,3))},!1)},z=()=>{R.current=null,D.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z),Y&&y.current(()=>{},!0)};document.addEventListener("pointermove",O),document.addEventListener("pointerup",z),R.current=()=>{D.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z)}}else if(M==="width"){const w=Q.position,B=G.rotation*Math.PI/180,H=-Math.sin(B),Y=Math.cos(B),O=G.widthScale??1,z=Math.abs((_.x-w.x)*H+(_.y-w.y)*Y),q=Math.max(1,z);let I=!1;const Z=xe=>{const de=g.current(xe),pe=Math.abs((de.x-w.x)*H+(de.y-w.y)*Y)/q;Math.abs(pe-1)>.01&&(I=!0),y.current(Me=>{const he=(Me.leaves??[]).find(Ie=>Ie.id===G.id);he&&(he.widthScale=we(O*pe,.3,3))},!1)},le=()=>{R.current=null,D.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",le),I&&y.current(()=>{},!0)};document.addEventListener("pointermove",Z),document.addEventListener("pointerup",le),R.current=()=>{D.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",le)}}else{const w=_,B=Sh({leaves:r,leafGroups:a},G.id),H=new Map;for(const q of B){const I=r.find(Z=>Z.id===q);I&&H.set(q,{...I.position})}let Y=!1;const O=q=>{const I=g.current(q),Z=I.x-w.x,le=I.y-w.y;Math.abs(Z)+Math.abs(le)>1&&(Y=!0),y.current(xe=>{for(const[de,oe]of H){const pe=(xe.leaves??[]).find(Me=>Me.id===de);pe&&(pe.position.x=we(oe.x+Z,0,ku),pe.position.y=we(oe.y+le,0,ku))}},!1)},z=()=>{R.current=null,D.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z),Y&&y.current(()=>{},!0)};document.addEventListener("pointermove",O),document.addEventListener("pointerup",z),R.current=()=>{D.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z)}}},onShiftSelect:()=>L(G.id)},G.id)})})}function Nm({rect:u}){return u?s.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Am({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?s.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const fa=1350;function Tm(u){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,setZoom:m,zoomLevel:p,setZoomLevel:h,ZOOM_LEVELS:d,setPan:y,showGrid:g,setShowGrid:D,setShowHelp:b,stageRef:N,viewBox:C,dashDelay:j,dashSyncToken:L,beginPan:k,updatePan:R,endPan:G,beginMarquee:U,updateMarquee:W,endMarquee:E,marqueeRef:V,marqueeRect:F,beginFlowerDrag:Q,updateFlowerDrag:X,endFlowerDrag:_,scaleDragRef:S,updateScaleDrag:A,endScaleDrag:M,rotationDragRef:w,updateRotationDrag:B,endRotationDrag:H,widthScaleDragRef:Y,updateWidthScaleDrag:O,endWidthScaleDrag:z,radiusDragRef:q,updateRadiusDrag:I,endRadiusDrag:Z,beginScaleDrag:le,beginRotationDrag:xe,beginWidthScaleDrag:de,beginRadiusDrag:oe,togglePetalSelection:pe,clientToSvgPoint:Me}=u,he=$.useRef(!1),Ie=$.useRef(!1),ct=$.useRef(u.applyUpdate),dt=$.useRef(Me);$.useEffect(()=>{ct.current=u.applyUpdate},[u.applyUpdate]),$.useEffect(()=>{dt.current=Me},[Me]);const[st,Nt]=$.useState(!1),Lt=$.useRef(null);$.useEffect(()=>{if(!st)return;const ce=Ee=>{Lt.current&&!Lt.current.contains(Ee.target)&&Nt(!1)};return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[st]);const[Et,ht]=$.useState("grab"),It=$.useRef("none"),un=$.useRef("none"),Kn=$.useRef(void 0),Xn=$.useRef(void 0),Xe=$.useRef(null),pn=$.useRef(!0),yl=5,Kl=$.useRef(a.kind);$.useEffect(()=>{a.kind!==Kl.current&&(Kl.current=a.kind,pn.current=!1,Xe.current=null,It.current="none",un.current="none",Kn.current=void 0,Xn.current=void 0)},[a.kind]);const[Gn,ba]=$.useState(!1),kn=$.useRef(!1),[ui,Xl]=$.useState(null),$n=5,Bt=10,Ve=Cm({zoom:u.zoom,pan:u.pan,setZoom:m,setPan:y,zoomLevel:p,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:N,endPan:G,endFlowerDrag:_,endMarquee:E,endRotationDrag:H,endScaleDrag:M,endWidthScaleDrag:z,endRadiusDrag:Z});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ve.zoomAtCenter(1),disabled:p>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ve.zoomAtCenter(-1),disabled:p<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${g?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>D(ce=>!ce),title:"","aria-label":"","aria-pressed":g,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Ve.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:Lt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${st?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>Nt(ce=>!ce),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),st&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(ce=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Wd[ce]}),["right","left","back"].map(Ee=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(ce,Ee),Nt(!1)},"data-testid":`stencil-add-${ce}-${Ee}`,children:Qd[Ee]},`${ce}-${Ee}`))]},ce)),u.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),Nt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:g?"24px 1fr":"1fr",gridTemplateRows:g?"20px 1fr":"1fr"},children:[g&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),g&&(()=>{const[ce,,Ee,Be]=C.split(/\s+/).map(Number),Se=rn,ge=Math.max(Ee,Be)/Se,ze=[10,20,50,100,200,500,1e3].find(Ae=>ge/Ae<=15)??1e3,ve=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Je=ze<=10?5:ze/2,Oe=Math.floor(ce/Se/ve)*ve-ve,We=Math.ceil((ce+Ee)/Se/ve)*ve+ve,Qe=[];for(let Ae=Oe;Ae<=We;Ae+=ve){const Fe=(Ae*Se-ce)/Ee*100;if(Fe<-2||Fe>102)continue;const je=Math.abs(Ae),$e=je%ze===0,et=je%Je===0,tt=$e?10:et?6:3;Qe.push(s.jsx("line",{x1:`${Fe}%`,y1:20-tt,x2:`${Fe}%`,y2:20,stroke:"#999",strokeWidth:$e?.8:.4},Ae)),$e&&Qe.push(s.jsx("text",{x:`${Fe}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Qe})})(),g&&(()=>{const[,ce,Ee,Be]=C.split(/\s+/).map(Number),Se=rn,ge=Math.max(Ee,Be)/Se,ze=[10,20,50,100,200,500,1e3].find(Ae=>ge/Ae<=15)??1e3,ve=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Je=ze<=10?5:ze/2,Oe=Math.floor(ce/Se/ve)*ve-ve,We=Math.ceil((ce+Be)/Se/ve)*ve+ve,Qe=[];for(let Ae=Oe;Ae<=We;Ae+=ve){const Fe=(Ae*Se-ce)/Be*100;if(Fe<-2||Fe>102)continue;const je=Math.abs(Ae),$e=je%ze===0,et=je%Je===0,tt=$e?10:et?6:3;Qe.push(s.jsx("line",{x1:24-tt,y1:`${Fe}%`,x2:24,y2:`${Fe}%`,stroke:"#999",strokeWidth:$e?.8:.4},Ae)),$e&&Qe.push(s.jsx("text",{x:12,y:`${Fe}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Qe})})(),s.jsxs("svg",{ref:N,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:C,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":j,cursor:Gn?"crosshair":"grab"},onDoubleClick:ce=>{ce.target===ce.currentTarget&&(ba(Ee=>!Ee),i({kind:"project"}))},onPointerDown:ce=>{if(Ve.multiTouchRef.current)return;if(ce.button===1){kn.current=!0,N.current&&(N.current.style.cursor="grabbing"),k(ce);return}if(ce.button!==0)return;const Ee=ce.pointerType==="touch";if(Ee&&ce.target===ce.currentTarget&&o){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=r.flowers.find(ge=>ge.id===o);if(Se){const ge=Me(ce),{zone:Ne,layerId:ze,petalIndex:ve}=ni(ge.x,ge.y,Se,r,a),{length:Je}=Ht(Se.fabricSquareSize??r.fabricSquareSize),Oe=Su(Ne,a.kind,{hitLayerId:ze,flower:Se,length:Je});if(Oe!=="none"&&Oe!=="center"){Xl({x:ge.x,y:ge.y,zone:Oe});const We=a.kind==="layer"?"layer":"flower",Qe=a.kind==="layer"?a.layerId:ze;switch(Oe){case"rotate":xe(We,o,ce,{layerId:Qe});return;case"scale":le(We,o,ce,{layerId:Qe});return;case"width":de(We,o,ce,{layerId:Qe,petalIndex:ve});return;case"radius":oe(We,o,ce,{layerId:Qe});return;case"move":Q(o,ce);return}}}}Ve.setTouchBgStart({x:ce.clientX,y:ce.clientY}),k(ce);return}if(ce.target===ce.currentTarget&&o&&Et!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=It.current;if(Se!=="none"&&Se!=="center"){const ge=a.kind==="layer"?"layer":"flower",Ne=a.kind==="layer"?a.layerId:Kn.current;switch(Se){case"rotate":xe(ge,o,ce,{layerId:Ne});return;case"scale":le(ge,o,ce,{layerId:Ne});return;case"width":de(ge,o,ce,{layerId:Ne,petalIndex:Xn.current});return;case"radius":oe(ge,o,ce,{layerId:Ne});return;case"move":Q(o,ce);return}}}if(ce.target===ce.currentTarget&&a.kind==="leaf"&&u.selectedLeafId&&Et!=="grab"){const Be=un.current;if(Be!=="none"){const Se=u.leaves.find(ge=>ge.id===u.selectedLeafId);if(Se){ce.preventDefault();const ge=Me(ce);if(Ie.current=!0,Be==="rotate"){const Ne=Se.position,ze=Se.rotation,ve=Math.atan2(ge.y-Ne.y,ge.x-Ne.x)*180/Math.PI,Je=Se.id,Oe=$i(Be,"/tsumami/");ht(Oe),N.current&&(N.current.style.cursor=Oe);let We=!1;const Qe=vt=>{const Fe=Me(vt),$e=Math.atan2(Fe.y-Ne.y,Fe.x-Ne.x)*180/Math.PI-ve;Math.abs($e)>.5&&(We=!0),u.applyUpdate(et=>{const tt=(et.leaves??[]).find(_n=>_n.id===Je);tt&&(tt.rotation=((ze+$e)%360+360)%360)},!1)},Ae=()=>{Ie.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Ae),We&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Ae);return}else if(Be==="scale"){const Ne=Se.position,ze=Se.scale??1,ve=Math.max(1,Math.hypot(ge.x-Ne.x,ge.y-Ne.y)),Je=Se.id,Oe=$i(Be,"/tsumami/");ht(Oe),N.current&&(N.current.style.cursor=Oe);let We=!1;const Qe=vt=>{const Fe=Me(vt),$e=Math.hypot(Fe.x-Ne.x,Fe.y-Ne.y)/ve;Math.abs($e-1)>.01&&(We=!0),u.applyUpdate(et=>{const tt=(et.leaves??[]).find(_n=>_n.id===Je);tt&&(tt.scale=Math.max(.3,Math.min(3,ze*$e)))},!1)},Ae=()=>{Ie.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Ae),We&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Ae);return}else if(Be==="width"){const Ne=Se.position,ze=Se.rotation*Math.PI/180,ve=-Math.sin(ze),Je=Math.cos(ze),Oe=Se.widthScale??1,We=Math.max(1,Math.abs((ge.x-Ne.x)*ve+(ge.y-Ne.y)*Je)),Qe=Se.id,Ae=$i(Be,"/tsumami/");ht(Ae),N.current&&(N.current.style.cursor=Ae);let vt=!1;const Fe=$e=>{const et=Me($e),_n=Math.abs((et.x-Ne.x)*ve+(et.y-Ne.y)*Je)/We;Math.abs(_n-1)>.01&&(vt=!0),u.applyUpdate(va=>{const Vl=(va.leaves??[]).find(Sn=>Sn.id===Qe);Vl&&(Vl.widthScale=Math.max(.3,Math.min(3,Oe*_n)))},!1)},je=()=>{Ie.current=!1,document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",je),vt&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",je);return}else{const Ne=ge,ze={...Se.position},ve=Se.id;ht(Pn("/tsumami/")),N.current&&(N.current.style.cursor=Pn("/tsumami/"));let Je=!1;const Oe=Qe=>{const Ae=Me(Qe),vt=Ae.x-Ne.x,Fe=Ae.y-Ne.y;Math.abs(vt)+Math.abs(Fe)>1&&(Je=!0),u.applyUpdate(je=>{const $e=(je.leaves??[]).find(et=>et.id===ve);$e&&($e.position.x=Math.max(0,Math.min(fa,ze.x+vt)),$e.position.y=Math.max(0,Math.min(fa,ze.y+Fe)))},!1)},We=()=>{Ie.current=!1,document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",We),Je&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",We);return}}}}if(ce.target===ce.currentTarget){Ee?(Ve.setTouchBgStart({x:ce.clientX,y:ce.clientY}),k(ce)):Gn?U(ce):(Ve.setMouseBgStart({x:ce.clientX,y:ce.clientY}),kn.current=!0,N.current&&(N.current.style.cursor="grabbing"),k(ce));return}},onPointerMove:ce=>{if(he.current||Ie.current)return;if(V.current){W(ce);return}if(w.current){B(ce);return}if(S.current){A(ce);return}if(Y.current){O(ce);return}if(q.current){I(ce);return}X(ce),R(ce);const Ee=!!u.dragRef?.current||!!V.current||!!w.current||!!S.current||!!Y.current||!!q.current||kn.current,Be=o&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Ee&&Be){const Se=r.flowers.find(ge=>ge.id===o);if(Se){const ge=Me(ce);if(Xe.current&&!pn.current){if(Math.hypot(ge.x-Xe.current.x,ge.y-Xe.current.y)<yl){const{zone:Ae}=ni(ge.x,ge.y,Se,r,a);Ae==="center"&&(ht("pointer"),N.current&&(N.current.style.cursor="pointer"));return}pn.current=!0,Xe.current=null}const{zone:Ne,layerId:ze,petalIndex:ve}=ni(ge.x,ge.y,Se,r,a),{length:Je}=Ht(Se.fabricSquareSize??r.fabricSquareSize),Oe=Su(Ne,a.kind,{hitLayerId:ze,flower:Se,length:Je});Oe!=="none"&&(It.current=Oe,Kn.current=ze,Xn.current=ve);const We=kd(Oe,"/tsumami/");ht(We),N.current&&(N.current.style.cursor=We)}}if(!Ee&&a.kind==="leaf"&&u.selectedLeafId){const Se=u.leaves.find(ge=>ge.id===u.selectedLeafId);if(Se){const ge=Me(ce);if(Xe.current&&!pn.current){if(Math.hypot(ge.x-Xe.current.x,ge.y-Xe.current.y)<yl)return;pn.current=!0,Xe.current=null}const Ne=em(ge.x,ge.y,Se,r);Ne!=="none"&&(un.current=Ne);const ze=$i(Ne,"/tsumami/");ht(ze),N.current&&(N.current.style.cursor=ze)}}},onPointerUp:ce=>{if(!he.current&&!Ie.current){if(Xl(null),V.current&&Gn&&ba(!1),E(),H(),M(),z(),Z(),_(),G(),kn.current&&(kn.current=!1,N.current&&(N.current.style.cursor=Gn?"crosshair":"grab")),Ve.touchBgStartRef.current&&ce.pointerType==="touch"){const Ee=ce.clientX-Ve.touchBgStartRef.current.x,Be=ce.clientY-Ve.touchBgStartRef.current.y;Math.hypot(Ee,Be)<Bt&&i({kind:"project"}),Ve.setTouchBgStart(null);return}if(Ve.setTouchBgStart(null),Ve.mouseBgStartRef.current&&ce.pointerType==="mouse"){const Ee=ce.clientX-Ve.mouseBgStartRef.current.x,Be=ce.clientY-Ve.mouseBgStartRef.current.y;if(Ve.setMouseBgStart(null),Math.hypot(Ee,Be)<$n){i({kind:"project"});return}}if(Ve.setMouseBgStart(null),o){const Ee=r.flowers.find(Be=>Be.id===o);if(Ee){const Be=Me(ce);if(Xe.current&&Math.hypot(Be.x-Xe.current.x,Be.y-Xe.current.y)<yl){const{zone:We}=ni(Be.x,Be.y,Ee,r,a);We==="center"&&(ht("pointer"),N.current&&(N.current.style.cursor="pointer"));return}const{zone:Se,layerId:ge,petalIndex:Ne}=ni(Be.x,Be.y,Ee,r,a),{length:ze}=Ht(Ee.fabricSquareSize??r.fabricSquareSize),ve=Su(Se,a.kind,{hitLayerId:ge,flower:Ee,length:ze});ve!=="none"&&(It.current=ve,Kn.current=ge,Xn.current=Ne);const Je=kd(ve,"/tsumami/");ht(Je),N.current&&(N.current.style.cursor=Je)}}}},onPointerLeave:()=>{E(),H(),M(),z(),Z(),_(),G(),kn.current=!1,Ve.setTouchBgStart(null),Ve.setMouseBgStart(null),ht("grab"),Xe.current=null,pn.current=!0,It.current="none",un.current="none",Kn.current=void 0,Xn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[ce,Ee,Be,Se]=C.split(/\s+/).map(Number),ge=fa;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:ce,y:Ee,width:Be,height:Se,fill:"white"}),s.jsx("rect",{x:0,y:0,width:ge,height:ge,fill:"black"})]})}),s.jsx("rect",{x:ce,y:Ee,width:Be,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:fa,height:fa,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:fa,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:fa,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),g&&(()=>{const ce=rn,[Ee,Be,Se,ge]=C.split(/\s+/).map(Number),Ne=Math.max(Se,ge)/ce,ve=[10,20,50,100,200,500,1e3].find(et=>Ne/et<=15)??1e3,Je=Math.floor(Ee/ce/ve)*ve-ve,Oe=Math.ceil((Ee+Se)/ce/ve)*ve+ve,We=Math.floor(Be/ce/ve)*ve-ve,Qe=Math.ceil((Be+ge)/ce/ve)*ve+ve,Ae=We*ce,vt=Qe*ce,Fe=Je*ce,je=Oe*ce,$e=[];for(let et=Je;et<=Oe;et+=ve){const tt=et*ce;$e.push(s.jsx("line",{x1:tt,y1:Ae,x2:tt,y2:vt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${et}`))}for(let et=We;et<=Qe;et+=ve){const tt=et*ce;$e.push(s.jsx("line",{x1:Fe,y1:tt,x2:je,y2:tt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${et}`))}return s.jsx("g",{children:$e})})(),s.jsx(Mm,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:N,applyUpdateRef:ct,clientToSvgPointRef:dt,stencilDraggingRef:he,onSelectStencil:u.onSelectStencil}),s.jsx(zm,{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:Et,dashSyncToken:L,stageRef:N,multiTouchRef:Ve.multiTouchRef,clientToSvgPoint:Me,togglePetalSelection:pe,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:Q,beginScaleDrag:le,beginRotationDrag:xe,beginWidthScaleDrag:de,beginRadiusDrag:oe,clickOriginRef:Xe,zoneActivatedRef:pn,setZoneCursorValue:ht,setTouchZoneIndicator:Xl,hoverZoneRef:It,hoverHitLayerIdRef:Kn,hoverHitPetalIndexRef:Xn}),s.jsx(Dm,{leaves:u.leaves,leafGroups:u.leafGroups,project:r,selection:a,paletteMap:f,dashSyncToken:L,selectedLeafId:u.selectedLeafId,leafGroupHighlightedLeafIds:u.leafGroupHighlightedLeafIds,zoneCursorValue:Et,stageRef:N,applyUpdateRef:ct,clientToSvgPointRef:dt,leafDraggingRef:Ie,clickOriginRef:Xe,zoneActivatedRef:pn,setZoneCursorValue:ht,onSelectLeaf:u.onSelectLeaf,onShiftSelectLeaf:u.onShiftSelectLeaf,hoverLeafZoneRef:un}),s.jsx(Nm,{rect:F}),s.jsx(Am,{indicator:ui})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Hd(u,r,a){return Math.min(a,Math.max(r,u))}function Ye({value:u,onChange:r,min:a=-1/0,max:i=1/0,step:f,className:o,...m}){const[p,h]=$.useState(null),d=$.useRef(null),y=$.useCallback(b=>{const N=Number(b);isNaN(N)||r(Hd(N,a,i)),h(null)},[r,a,i]),g=$.useCallback(()=>{h(null)},[]),D=$.useCallback(b=>{const N=f??1,j=(Number(p??u)||0)+N*b,L=Hd(j,a,i),k=String(N).includes(".")?String(N).split(".")[1].length:0,R=Number(L.toFixed(k));h(String(R)),r(R)},[p,u,f,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:o??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:p??String(u),onChange:b=>h(b.target.value),onFocus:b=>{h(String(u)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{p!==null&&y(p)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),p!==null&&y(p),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),g(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),D(b.key==="ArrowUp"?1:-1))},...m}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),D(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),D(-1)},children:""})]})]})}function ur({title:u,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),s.jsx("div",{className:"space-y-3",children:a})]})}function Lm({flower:u,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const o=$.useMemo(()=>{const j=[...u.layers||[]].sort((F,Q)=>F.order-Q.order);if(j.length<2)return{mode:"uniform",step:2};const L=j.map(F=>F.scale??1);if(L.every(F=>Math.abs(F-L[0])<.001))return{mode:"uniform",step:2};const R=j[0],G=j[j.length-1],U=(G.order??1)-(R.order??1);if(U<=0)return{mode:"gradual",step:2};const E=((R.scale??1)-(G.scale??1))/U,V=Math.round(E*r*2)/2;return{mode:"gradual",step:we(V,0,10)}},[u.id]),[m,p]=$.useState(o.mode),[h,d]=$.useState(o.step),[y,g]=$.useState(0);$.useEffect(()=>{p(o.mode),d(o.step),g(0)},[o]);const D=$.useMemo(()=>[...u.layers||[]].sort((j,L)=>j.order-L.order),[u.layers]),b=D[0],N=b?b.order:0,C=$.useMemo(()=>{if(!b)return[];const j=b.scale??1,L=b.radius,k=new Map;for(const F of D){const Q=F.order-N;if(Q===0)k.set(F.id,j);else if(m==="uniform")k.set(F.id,j);else{const X=h/r;k.set(F.id,we(j-Q*X,.3,3))}}const{length:R}=Ht(r),G=D.length,U=70*Math.PI/180,W=new Map;let E=L;W.set(b.id,L);for(let F=1;F<G;F++){const Q=D[F-1],X=k.get(Q.id)??1,_=R*X;let S;if(a===""){const A=G-1-F,M=G>1?A/(G-1)*U:0;S=_*(30/100)*Math.cos(M)}else S=_/3;E=E-S,W.set(D[F].id,Math.max(2,E))}const V=D.map(F=>{const Q=k.get(F.id)??1,X=Math.round((W.get(F.id)??L)*10)/10,_=Math.round(r*Q*10)/10;return{id:F.id,name:F.name,order:F.order,effScale:Q,effFabricSize:_,effRadius:X}});if(V.length>0){const F=V[V.length-1],Q=R*F.effScale,X=Math.floor(Q*.28*10)/10;F.effRadius>X&&(F.effRadius=X)}return V},[D,b,N,m,h,30,r,a]);return $.useEffect(()=>{y!==0&&(!b||C.length===0||i(j=>{const L=j.flowers.find(R=>R.id===u.id);if(!L)return;for(const R of C){const G=L.layers.find(U=>U.id===R.id);G&&(G.scale=we(R.effScale,.3,3),G.radius=we(R.effRadius,2,120))}const k=[...L.layers].sort((R,G)=>G.order-R.order);for(let R=1;R<k.length;R++){const G=k[R-1],U=k[R];U.offsetAngle=Fn(G.petalCount,G.offsetAngle,U.petalCount)}}))},[y]),D.length<2?null:s.jsxs(ur,{title:"",children:[s.jsxs(gs,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:j=>{p(j.target.value),g(L=>L+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&s.jsxs(gs,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ye,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:j=>{d(j),g(L=>L+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),C.map(j=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:j.name}),s.jsxs("span",{children:[" ",j.effFabricSize,"mm /  ",Math.round(tr(j.effRadius,j.effScale,r)),"mm"]})]},j.id))]})]})}const Pd="tsumami_recent_colors_v1",Es=10;function Em(u){const r=new Set;for(const a of u.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const f of i.petalOverrides)f.colorId&&r.add(f.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function ws(){try{const u=localStorage.getItem(Pd);if(u){const r=JSON.parse(u);if(Array.isArray(r))return r.slice(0,Es)}}catch{}return[]}function Bm(u){try{localStorage.setItem(Pd,JSON.stringify(u.slice(0,Es)))}catch{}}function qm(u){const r=ws(),a=[u,...r.filter(i=>i!==u)].slice(0,Es);Bm(a)}function Zn({palette:u,project:r,selectedColorId:a,onChange:i,size:f="md"}){const[o,m]=$.useState(!1),p=$.useRef(null),[h,d]=$.useState(ws);$.useEffect(()=>{if(!o)return;const C=j=>{p.current&&!p.current.contains(j.target)&&m(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[o]);const y=$.useMemo(()=>Em(r),[r]),g=$.useMemo(()=>{const C=new Set;C.add(a);for(const j of y)C.add(j);for(const j of h)C.add(j);return u.filter(j=>C.has(j.id))},[u,a,y,h]),D=$.useCallback(C=>{qm(C),d(ws()),i(C)},[i]),b=f==="sm"?"h-4 w-4":"h-5 w-5",N=o?u:g;return s.jsx("div",{ref:p,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[N.map(C=>s.jsx("button",{className:`${b} rounded border-2 ${a===C.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:C.hex},title:C.name,"aria-label":`: ${C.name}`,onClick:()=>D(C.id)},C.id)),u.length>g.length&&s.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(C=>!C),title:o?"":"","aria-label":o?"":"",children:s.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:o?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Rm({project:u,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o&&(o.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(i=>{const f=a.layers.every(o=>o.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const m=o.flowers.find(p=>p.id===a.id);if(m)for(const p of m.layers)p.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Kd.map(i=>{const f=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==i&&r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;m.placementMode=i;const p=m.fabricSquareSize??o.fabricSquareSize;i===""?m.baseDiameter=er(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=o.baseDiameter),Lh(m.layers,p,i,m.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ye,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o&&(o.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[er(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(f=>{const o=f.flowers.find(h=>h.id===a.id);if(!o)return;const m=ri(i);for(const h of o.layers)h.petalCount=i,h.widthScale=m;const p=[...o.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<p.length;h++)p[h].offsetAngle=Fn(p[h-1].petalCount,p[h-1].offsetAngle,p[h].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ye,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(f=>{const o=f.flowers.find(p=>p.id===a.id);if(!o)return;o.flowerDiameter=i,o.placementMode===""&&(o.baseDiameter=er(i));const m=[...o.layers].sort((p,h)=>p.order-h.order);Ku(m,o.fabricSquareSize??f.fabricSquareSize,i);for(const p of m){const h=o.layers.find(d=>d.id===p.id);h&&(h.radius=p.radius,h.scale=p.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);if(o)for(const m of o.layers)m.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o&&(o.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:u.palette,project:u,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);if(o)for(const m of o.layers)m.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);if(o)for(const m of o.layers)if(i.target.checked){if(!m.doublePetal){const p=m._doublePetalCache;m.doublePetal=p??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(p=>p.doublePetal.innerSizeReduction))],f=i.length===1?i[0]:null,o=[...new Set(a.layers.map(p=>p.doublePetal.innerColorId??p.colorId))],m=o.length===1?o[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:p=>r(h=>{const d=h.flowers.find(y=>y.id===a.id);if(d)for(const y of d.layers)y.doublePetal&&(y.doublePetal.innerSizeReduction=we(p,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:u.palette,project:u,selectedColorId:m??"",onChange:p=>r(h=>{const d=h.flowers.find(y=>y.id===a.id);if(d)for(const y of d.layers)y.doublePetal&&(p===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=p)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:kh.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o?.center&&(o.center.type=i,i===""&&!o.center.pepCount&&(o.center.pepCount=12),i===""&&!o.center.color2&&(o.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o?.center&&(o.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o?.center&&(o.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o?.center&&(o.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o?.center&&(o.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&delete f.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&(f.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Lm,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Gm({project:u,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:f,onAddToGroup:o,onMergeGroups:m}){const p=a,h=[...new Set(p.flatMap(g=>g.layers.map(D=>D.petalType)))],d=h.length===1?h[0]:null,y=g=>{r(D=>{for(const b of p){const N=D.flowers.find(C=>C.id===b.id);N&&g(N)}},!0)};return s.jsxs(ur,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[p.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(g=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:g.hex},title:g.name,onClick:()=>y(D=>{for(const b of D.layers)b.colorId=g.id})},g.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:gl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>y(D=>{for(const b of D.layers)b.petalType=g}),children:g},g))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ye,{min:5,max:24,value:p[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:g=>{const D=ri(g);y(b=>{for(const C of b.layers)C.petalCount=g,C.widthScale=D;const N=[...b.layers].sort((C,j)=>j.order-C.order);for(let C=1;C<N.length;C++)N[C].offsetAngle=Fn(N[C-1].petalCount,N[C-1].offsetAngle,N[C].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:p.map(g=>s.jsxs("div",{children:[g.name," (",g.layers.length,")"]},g.id))}),(()=>{const g=p.map(j=>ha(u,j.id)),D=p.filter(j=>!ha(u,j.id)).map(j=>j.id),b=[...new Set(g.filter(Boolean).map(j=>j.id))],N=D.length===p.length,C=b.length===1&&g.every(j=>j!=null);return s.jsxs(s.Fragment,{children:[N&&p.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(p.map(j=>j.id)),children:""}),C&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(b[0]),children:""}),b.length===1&&D.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(b[0],D),children:[" (+",D.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(b,D),children:[" (",b.length,"",D.length>0?` +${D.length}`:"",")"]})]})})()]})}function km({project:u,applyUpdate:r,selectedFlowers:a,groups:i,groupId:f,onUngroupFlowers:o}){const m=i.find(g=>g.id===f);if(!m)return null;const p=a,h=[...new Set(p.flatMap(g=>g.layers.map(D=>D.petalType)))],d=h.length===1?h[0]:null,y=g=>{r(D=>{for(const b of p){const N=D.flowers.find(C=>C.id===b.id);N&&g(N)}},!0)};return s.jsxs(ur,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:m.name,onChange:g=>r(D=>{const b=(D.groups??[]).find(N=>N.id===m.id);b&&(b.name=g.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[p.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(g=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:g.hex},title:g.name,onClick:()=>y(D=>{for(const b of D.layers)b.colorId=g.id})},g.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:gl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>y(D=>{for(const b of D.layers)b.petalType=g}),children:g},g))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ye,{min:5,max:24,value:p[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:g=>{const D=ri(g);y(b=>{for(const C of b.layers)C.petalCount=g,C.widthScale=D;const N=[...b.layers].sort((C,j)=>j.order-C.order);for(let C=1;C<N.length;C++)N[C].offsetAngle=Fn(N[C-1].petalCount,N[C-1].offsetAngle,N[C].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:p.map(g=>s.jsxs("div",{children:[g.name," (",g.layers.length,")"]},g.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(m.id),children:""})]})}function Om({project:u,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:f=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.name=f.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(f=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.petalType=f)}),children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:5,max:24,value:i.petalCount,onChange:f=>{r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);if(p){p.petalCount=f,p.widthScale=ri(f);const h=[...m.layers].sort((d,y)=>y.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=Fn(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ye,{min:1,max:200,step:.5,value:Math.round(tr(i.radius,i.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:f=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.radius=we(Th(f,p.scale??1,m.fabricSquareSize??o.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ye,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(i.scale??1)*10)/10,onChange:f=>r(o=>{const m=o.flowers.find(g=>g.id===a.id);if(!m)return;const p=m.layers.find(g=>g.id===i.id);if(!p)return;const h=m.fabricSquareSize??o.fabricSquareSize;p.scale=we(Math.round(f/h*100)/100,.3,3);const d=[...m.layers].sort((g,D)=>g.order-D.order),y=d.findIndex(g=>g.id===p.id);if(y>=0)for(let g=y-1;g>=0;g--){const D=d[g],b=d[g+1],C=Ht(h).length*(b.scale??1)/3;D.radius=Math.round((b.radius+C)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:f=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.scale=f)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:f=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.widthScale=f)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{value:Number(i.offsetAngle??0).toFixed(1),onChange:f=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.offsetAngle=f)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:u.palette,project:u,selectedColorId:i.colorId,onChange:f=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.colorId=f)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:f=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);if(p)if(f.target.checked){const h=p._doublePetalCache;p.doublePetal=h??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:f=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p?.doublePetal&&(p.doublePetal.innerSizeReduction=we(f,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:u.palette,project:u,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:f=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p?.doublePetal&&(f===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=f)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:f=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.visible=f.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:f=>r(o=>{const m=o.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.locked=f.target.checked)})}),""]})]})]})]})}function Hm({project:u,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const f=i,o=f.map(j=>{const L=a.layers.find(k=>k.id===j.layerId);return{...j,layer:L}}).filter(j=>j.layer!=null),m=(j,L)=>{const k=a.layers.find(G=>G.id===j);return k?(k?.petalOverrides?.find(G=>G.index===L)??null)?.colorId??k.colorId:null},p=(j,L)=>{const k=a.layers.find(G=>G.id===j);return k?(k?.petalOverrides?.find(G=>G.index===L)??null)?.petalType??k.petalType:null},h=o.map(j=>m(j.layerId,j.index)),d=o.map(j=>p(j.layerId,j.index)),y=h.length>0&&h.every(j=>j===h[0]),D=d.length>0&&d.every(j=>j===d[0])?d[0]:null,b=j=>{r(L=>{const k=L.flowers.find(R=>R.id===a.id);if(k)for(const R of f){const G=k.layers.find(W=>W.id===R.layerId);if(!G)continue;G.petalOverrides||(G.petalOverrides=[]);const U=G.petalOverrides.find(W=>W.index===R.index);if(U)j.colorId!==void 0&&(j.colorId===G.colorId?delete U.colorId:U.colorId=j.colorId),j.petalType!==void 0&&(j.petalType===G.petalType?delete U.petalType:U.petalType=j.petalType),!U.colorId&&!U.petalType&&(G.petalOverrides=G.petalOverrides.filter(W=>W.index!==R.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0));else{const W={index:R.index};j.colorId!==void 0&&j.colorId!==G.colorId&&(W.colorId=j.colorId),j.petalType!==void 0&&j.petalType!==G.petalType&&(W.petalType=j.petalType),(W.colorId!==void 0||W.petalType!==void 0)&&G.petalOverrides.push(W)}}},!0)},N=()=>{r(j=>{const L=j.flowers.find(k=>k.id===a.id);if(L)for(const k of f){const R=L.layers.find(G=>G.id===k.layerId);!R||!R.petalOverrides||(R.petalOverrides=R.petalOverrides.filter(G=>G.index!==k.index),R.petalOverrides.length===0&&(R.petalOverrides=void 0))}},!0)},C=o.some(j=>j.layer?.petalOverrides?.find(L=>L.index===j.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",C&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(j=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${y&&h[0]===j.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:j.hex},title:j.name,"aria-label":`: ${j.name}`,onClick:()=>b({colorId:j.id})},j.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(j=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${D===j?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:j}),children:j},j))})]}),C&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:N,children:""})]})]})}function Im({project:u,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:f}){const o=i?.petalOverrides?.find(g=>g.index===f)??null,m=o?.colorId??i.colorId,p=o?.petalType??i.petalType,h=o!=null,d=g=>{r(D=>{const b=D.flowers.find(j=>j.id===a.id);if(!b)return;const N=b.layers.find(j=>j.id===i.id);if(!N)return;N.petalOverrides||(N.petalOverrides=[]);const C=N.petalOverrides.find(j=>j.index===f);if(C)g.colorId!==void 0&&(C.colorId=g.colorId),g.petalType!==void 0&&(C.petalType=g.petalType),g.innerColorId!==void 0&&(C.innerColorId=g.innerColorId),g.innerSizeReduction!==void 0&&(C.innerSizeReduction=g.innerSizeReduction),C.colorId!==void 0||C.petalType!==void 0||C.innerColorId!==void 0||C.innerSizeReduction!==void 0?(C.colorId===void 0&&delete C.colorId,C.petalType===void 0&&delete C.petalType,C.innerColorId===void 0&&delete C.innerColorId,C.innerSizeReduction===void 0&&delete C.innerSizeReduction):(N.petalOverrides=N.petalOverrides.filter(L=>L.index!==f),N.petalOverrides.length===0&&(N.petalOverrides=void 0));else{const j={index:f};g.colorId!==void 0&&(j.colorId=g.colorId),g.petalType!==void 0&&(j.petalType=g.petalType),g.innerColorId!==void 0&&(j.innerColorId=g.innerColorId),g.innerSizeReduction!==void 0&&(j.innerSizeReduction=g.innerSizeReduction),(j.colorId!==void 0||j.petalType!==void 0||j.innerColorId!==void 0||j.innerSizeReduction!==void 0)&&N.petalOverrides.push(j)}},!0)},y=()=>{r(g=>{const D=g.flowers.find(N=>N.id===a.id);if(!D)return;const b=D.layers.find(N=>N.id===i.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(N=>N.index!==f),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",f+1,h&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:u.palette,project:u,selectedColorId:m,onChange:g=>{g===i.colorId?d({colorId:void 0}):d({colorId:g})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{g===i.petalType?d({petalType:void 0}):d({petalType:g})},children:g},g))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:g=>r(D=>{const b=D.flowers.find(C=>C.id===a.id);if(!b)return;const N=b.layers.find(C=>C.id===i.id);if(N)if(g.target.checked){const C=N._doublePetalCache;N.doublePetal=C??{innerSizeReduction:2},delete N._doublePetalCache}else N.doublePetal&&(N._doublePetalCache={...N.doublePetal}),delete N.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const g=i.doublePetal,D=o?.innerSizeReduction??g.innerSizeReduction,b=o?.innerColorId??g.innerColorId??m;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",o?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ye,{min:1,max:30,step:1,value:D,onChange:N=>{const C=we(N,1,30);C===g.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:C})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:u.palette,project:u,selectedColorId:b,size:"sm",onChange:N=>{const C=g.innerColorId??i.colorId;d(N===C?{innerColorId:void 0}:{innerColorId:N})}})]})]})})(),h&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:y,children:""})]})]})}function Ym({project:u,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const f=a,o=m=>{r(p=>{const h=(p.stencils??[]).find(d=>d.id===f.id);h&&Object.assign(h,m)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:m=>o({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>s.jsx("option",{value:m,children:Wd[m]},m))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:m=>o({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>s.jsx("option",{value:m,children:Qd[m]},m))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:m=>o({locked:m.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Um({project:u,applyUpdate:r,selectedLeaf:a,leafGroups:i,onDeleteLeaf:f,onAddLeafToGroup:o,onRemoveLeafFromGroup:m}){const p=a,h=y=>{r(g=>{const D=(g.leaves??[]).find(b=>b.id===p.id);D&&y(D)},!0)},d=Zu(u,p.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:p.name,onChange:y=>h(g=>{g.name=y.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p.petalType===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(g=>{g.petalType=y}),children:y},y))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:u.palette,project:u,selectedColorId:p.colorId,onChange:y=>h(g=>{g.colorId=y})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ye,{min:3,max:80,step:.5,value:Math.round((p.fabricSquareSize??u.fabricSquareSize)*(p.scale??1)*10)/10,onChange:y=>h(g=>{const D=g.fabricSquareSize??u.fabricSquareSize;g.scale=we(Math.round(y/D*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:.4,max:2.5,step:.05,value:Number(p.scale??1).toFixed(2),onChange:y=>h(g=>{g.scale=y})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:.5,max:1.8,step:.05,value:Number(p.widthScale??1).toFixed(2),onChange:y=>h(g=>{g.widthScale=y})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ye,{value:Number(p.rotation).toFixed(1),onChange:y=>h(g=>{g.rotation=y})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.doublePetal,onChange:y=>h(g=>{if(y.target.checked){const D=g._doublePetalCache;g.doublePetal=D??{innerSizeReduction:2},delete g._doublePetalCache}else g.doublePetal&&(g._doublePetalCache={...g.doublePetal}),delete g.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),p.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{min:1,max:30,step:1,value:p.doublePetal.innerSizeReduction,onChange:y=>h(g=>{g.doublePetal&&(g.doublePetal.innerSizeReduction=we(y,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:u.palette,project:u,selectedColorId:p.doublePetal.innerColorId??p.colorId,onChange:y=>h(g=>{g.doublePetal&&(y===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=y)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.visible,onChange:y=>h(g=>{g.visible=y.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.locked,onChange:y=>h(g=>{g.locked=y.target.checked})}),""]})]}),d?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(p.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:y=>{y.target.value&&o(p.id,y.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(p.id),children:""})]})]})}function Zm({project:u,applyUpdate:r,leafIds:a,onGroupLeaves:i}){const f=(u.leaves??[]).filter(o=>a.includes(o.id));return f.length===0?null:s.jsxs(ur,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[f.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Zn,{palette:u.palette,project:u,selectedColorId:"",onChange:o=>r(m=>{for(const p of a){const h=(m.leaves??[]).find(d=>d.id===p);h&&(h.colorId=o)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(o=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(m=>{for(const p of a){const h=(m.leaves??[]).find(d=>d.id===p);h&&(h.petalType=o)}},!0),children:o},o))}),a.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""})]})}function Km({project:u,applyUpdate:r,selectedLeafGroup:a,onUngroupLeaves:i}){const f=a,o=(u.leaves??[]).filter(m=>f.leafIds.includes(m.id));return s.jsxs(ur,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:f.name,onChange:m=>r(p=>{const h=(p.leafGroups??[]).find(d=>d.id===f.id);h&&(h.name=m.target.value)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ye,{value:Number(f.rotation).toFixed(1),onChange:m=>r(p=>{const h=(p.leafGroups??[]).find(d=>d.id===f.id);h&&(h.rotation=m)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:f.linkedFlowerGroupId??"",onChange:m=>r(p=>{const h=(p.leafGroups??[]).find(d=>d.id===f.id);h&&(m.target.value?h.linkedFlowerGroupId=m.target.value:delete h.linkedFlowerGroupId)},!0),children:[s.jsx("option",{value:"",children:""}),(u.groups??[]).map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]})]}),s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[o.length,""]}),s.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:o.map(m=>s.jsx("div",{children:m.name},m.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>i(f.id),children:""})]})}function Xm(u){const{project:r,selection:a,applyUpdate:i,selectedFlower:f,selectedFlowers:o,selectedLayer:m,selectedPetalIndex:p,selectedPetals:h}=u;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:d=>i(y=>y.title=d.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{value:r.fabricSquareSize,min:5,max:60,onChange:d=>i(y=>y.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{value:r.baseDiameter,min:10,max:100,onChange:d=>i(y=>y.baseDiameter=d),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Zl(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",Zl(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:d=>i(y=>y.notes=d.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(d=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&f&&s.jsx(Rm,{project:r,applyUpdate:i,selectedFlower:f}),a.kind==="flowers"&&o.length>0&&s.jsx(Gm,{project:r,applyUpdate:i,selectedFlowers:o,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&o.length>0&&s.jsx(km,{project:r,applyUpdate:i,selectedFlowers:o,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers}),a.kind==="layer"&&f&&m&&s.jsx(Om,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:m}),a.kind==="petals"&&f&&h.length>0&&s.jsx(Hm,{project:r,applyUpdate:i,selectedFlower:f,selectedPetals:h}),a.kind==="petal"&&f&&m&&p!==null&&s.jsx(Im,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:m,selectedPetalIndex:p}),a.kind==="stencil"&&u.selectedStencil&&s.jsx(Ym,{project:r,applyUpdate:i,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&s.jsx(Um,{project:r,applyUpdate:i,selectedLeaf:u.selectedLeaf,leafGroups:u.leafGroups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Zm,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves}),a.kind==="leafGroup"&&u.selectedLeafGroup&&s.jsx(Km,{project:r,applyUpdate:i,selectedLeafGroup:u.selectedLeafGroup,onUngroupLeaves:u.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!f?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Vm(u){const r={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Zl(u.baseDiameter,u.fabricSquareSize,r).diameter:lr(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function Jm(u){const r={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?zh(u.flowerDiameter,u.baseDiameter,r):Mh(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function Wm({palette:u,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:f}){const o=h=>{a(d=>{const y={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(y.baseDiameter=30,y.fabricSquareSize=20,y.layerCount=4,y.petalCount=12):(y.fabricSquareSize=20,y.layerCount=1,y.petalCount=6)),y.flowerDiameter=Vm(y),y})},m=h=>{a(d=>{const y={...d,flowerDiameter:h};return y.fabricSquareSize=Jm(y),y})},p=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&p.push("");const h=Dh(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>h&&p.push(`${h}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Kd.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>o({placementMode:h}),children:h},h))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:h=>o({fabricSquareSize:h})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:h=>o({layerCount:h})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:h=>o({baseDiameter:h})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:m})]})]}),p.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:p.map((h,d)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||u[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:gl.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:h=>o({sizeStepMm:h})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function Ou(){const u=["Cg9PBNrLCM1VDMu","C2LKzq","DxnLCLnLBgvJDa","mJCWmJKWvwvZB2fY","zxvjzuy","BePezMC","ChjLDMvUDerLzMf1Bhq","DMLPshK","odK2mtG5nhzPD29cva","CgfYC2u","Cg9PBNrLCNvW","C3r5Bgu","veLABxO","kcGOlISPkYKRksSK","y29SlxjLC2L6zq","ntGZotG0DNPjC2z2","u3DUuKS","mte1mdGXnezyBNjpzq","AwPPC0i","y2XPzw50wa","BM5vshe","AgferKC","mtaYvhH0vMfx","ywrKrxzLBNrmAxn0zw5LCG","Bwf4","wuXAte4","mJq2nZy2nJbjrw1TsM4","nenvEKjtra","Bwf0y2HnzwrPyq","rffpy24","tKTiDhy","CwfPDuO","BM9Uzq","r01luge","C3rHCNrxAwr0Ahm","y3vYCMvUDa","CMLNAhq","yM9KEq","CKrywfq","y29UC3rYDwn0B3i","mZaYmZa5n3j1uenVAG","yxbWBhK","u1nKtMe","uNDovKi","CMvTB3zLrxzLBNrmAxn0zw5LCG","Bwf0y2HLCW","BgvMDa","yLDcwMS","C2vHCMnO","nJv2vxLPB3m","tefJzha","z2vvzum","y3vYC29Y","mZi5mZbvDLbZueC","BNvTyMvY","Dg9tDhjPBMC","kg1PBI13Awr0AdOGnZy4ChGP"];return Ou=function(){return u},Ou()}(function(u,r){const a=an,i=u();for(;;)try{if(parseInt(a(161))/1*(-parseInt(a(165))/2)+-parseInt(a(152))/3*(-parseInt(a(139))/4)+parseInt(a(172))/5*(-parseInt(a(134))/6)+parseInt(a(129))/7+-parseInt(a(127))/8+-parseInt(a(120))/9+parseInt(a(138))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ou,581792);function an(u,r){u=u-117;const a=Ou();let i=a[u];if(an.JbZHzM===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};an.wePaay=f,an.tvgXJR={},an.JbZHzM=!0}const o=a[0],m=u+o,p=an.tvgXJR[m];if(p)i=p;else{const h=function(d){this.CbNlNx=d,this.XVCUSS=[1,0,0],this.mlAJWg=function(){return"newState"},this.ujiCtD="\\w+ *\\(\\) *{\\w+ *",this.pINOfr=`['|"].+['|"];? *}`};h.prototype.ikLuEp=function(){const d=new RegExp(this.ujiCtD+this.pINOfr),y=d.test(this.mlAJWg.toString())?--this.XVCUSS[1]:--this.XVCUSS[0];return this.pfBcze(y)},h.prototype.pfBcze=function(d){return~d?this.TnFnPQ(this.CbNlNx):d},h.prototype.TnFnPQ=function(d){for(let y=0,g=this.XVCUSS.length;y<g;y++)this.XVCUSS.push(Math.round(Math.random())),g=this.XVCUSS.length;return d(this.XVCUSS[0])},new h(an).ikLuEp(),i=an.wePaay(i),an.tvgXJR[m]=i}return i}const Qm=(function(){let u=!0;return function(r,a){const i=u?function(){const f=an;if(a){const o=a[f(153)](r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),js=Qm(void 0,function(){const u=an,r={GMKPa:u(125)};return js.toString()[u(160)](r[u(145)])[u(167)]()[u(151)](js).search(u(125))});js();const Fd="tsumami-panel-widths",$d={left:25,right:25},Ms=15,zs=15,ir=30;function Pm(){const u=an,r={ijisB:"3|2|4|5|0|1",PvRUE:u(122),YLZLN:function(a,i){return a(i)},haDFG:function(a,i){return a!==i},aNtqt:u(117),SSdNa:u(166),bWBZk:function(a,i){return a>=i},KgJeB:function(a,i){return a-i}};try{const a=localStorage.getItem(Fd);if(a)if(r[u(133)](r.aNtqt,u(142))){const i=JSON[u(121)](a);if(typeof i.left===r[u(154)]&&typeof i.right===r.SSdNa&&i[u(158)]>=Ms&&r[u(159)](i[u(148)],zs)&&r.bWBZk(r.KgJeB(100-i.left,i.right),ir))return i}else{const i=r[u(130)].split("|");let f=0;for(;;){switch(i[f++]){case"0":_0xd36543.body[u(123)][u(164)]="";continue;case"1":_0x2d8309[u(149)][u(123)][u(171)]="";continue;case"2":_0x1a9ac5.removeEventListener(r.PvRUE,_0x6af935);continue;case"3":_0x57a5c2[u(156)]("pointermove",_0x4d2a9b);continue;case"4":_0x1cf32f.current=null;continue;case"5":r[u(137)](_0x43c783,!1);continue}break}}}catch{}return $d}function Id(u,r){const a=an,i={geUeC:function(p,h){return p-h},VKwRO:function(p,h){return p<h}};let f=Math[a(136)](Ms,u),o=Math.max(zs,r);const m=i[a(163)](i.geUeC(100,f),o);if(i.VKwRO(m,ir)){const p=i.geUeC(ir,m);f-=p/2,o-=p/2,f=Math[a(136)](Ms,f),o=Math.max(zs,o)}return{left:Math.round(f*100)/100,right:Math.round(o*100)/100}}function Fm(){const u=an,r={Fjkdo:"change",FGoVE:u(124),ydtbR:function(N,C){return N(C)},SwnRK:u(169),inlaj:"0|5|3|2|4|1",nnUHq:function(N,C){return N-C},nxzyq:function(N,C,j){return N(C,j)},euIeF:u(126),eKgcj:u(144),rDXXT:function(N,C){return N(C)},SwHFv:function(N,C){return N(C)},vIlvJ:function(N,C){return N(C)},DQOcn:function(N,C){return N(C)}},[a,i]=$.useState(Pm),f=r.rDXXT($.useRef,null),o=r[u(150)]($.useRef,null),[m,p]=$.useState(!1),[h,d]=r.SwHFv($.useState,()=>typeof window<"u"?window[u(140)](u(168)).matches:!0);$.useEffect(()=>{const N=u,C=window[N(140)](N(168)),j=L=>d(L[N(157)]);return C.addEventListener(r.Fjkdo,j),()=>C[N(156)]("change",j)},[]),$.useEffect(()=>{localStorage.setItem(Fd,JSON.stringify(a))},[a]);const y=r.vIlvJ($.useRef,a);$.useEffect(()=>{const N=u;if(r.FGoVE!=="THRbg")y[N(147)]=a;else return()=>{_0x42e927.current?.()}},[a]);const g=$.useCallback((N,C)=>{const j=u,L={olbeE:function(U,W){return U===W},cSRHg:function(U,W){return U*W},zBRPL:j(158),qaiuJ:function(U,W){return r[j(132)](U,W)},RwNVB:function(U,W){return U(W)},LAcdp:function(U,W){return U-W},viiHy:function(U,W,E){return r.nxzyq(U,W,E)}};C[j(118)]();const k=f[j(147)];if(!k)return;o[j(147)]={side:N,startX:C[j(131)],startWidths:{...y[j(147)]}},p(!0),document[j(149)].style[j(164)]=r[j(173)],document.body[j(123)][j(171)]=r.eKgcj;const R=U=>{const W=j,E=o.current;if(!E)return;const V=k.getBoundingClientRect().width;if(L.olbeE(V,0))return;const F=U[W(131)]-E.startX,Q=L.cSRHg(F/V,100);if(L.olbeE(E[W(170)],L.zBRPL)){const X=E.startWidths.left+Q,_=L[W(143)](L.qaiuJ(100,E[W(146)][W(148)]),ir);L[W(155)](i,Id(Math.min(X,_),E[W(146)].right))}else{const X=L[W(162)](E.startWidths[W(148)],Q),_=100-E.startWidths[W(158)]-ir;i(L[W(119)](Id,E.startWidths.left,Math.min(X,_)))}},G=()=>{const U=j;o[U(147)]=null,r.ydtbR(p,!1),document[U(149)].style.cursor="",document[U(149)][U(123)][U(171)]="",window[U(156)](r[U(128)],R),window[U(156)](U(122),G)};window[j(135)](r[j(128)],R),window.addEventListener(j(122),G),D[j(147)]=()=>{const U=j,W=r.inlaj.split("|");let E=0;for(;;){switch(W[E++]){case"0":window[U(156)](U(169),R);continue;case"1":document[U(149)].style.userSelect="";continue;case"2":p(!1);continue;case"3":o.current=null;continue;case"4":document.body.style[U(164)]="";continue;case"5":window[U(156)]("pointerup",G);continue}break}}},[]),D=r[u(141)]($.useRef,null);$.useEffect(()=>()=>{D.current?.()},[]);const b=$.useCallback(()=>{r[u(150)](i,$d)},[]);return{widths:a,containerRef:f,onDividerPointerDown:g,onDividerDoubleClick:b,isDragging:m,isDesktop:h}}function Yd({side:u,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>r(u,f),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}(function(u,r){const a=Zt,i=u();for(;;)try{if(-parseInt(a(484))/1*(-parseInt(a(383))/2)+parseInt(a(373))/3+parseInt(a(370))/4*(parseInt(a(366))/5)+parseInt(a(452))/6+-parseInt(a(434))/7*(parseInt(a(389))/8)+parseInt(a(381))/9*(-parseInt(a(494))/10)+parseInt(a(388))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Hu,268164);function Hu(){const u=["tfnLt1i","BwfW","AgnMyLG","ChjdCeq","q0zOwhy","rerWzNi","yxrKrxq","mtbrALvfuwy","zMfICMLJu3f1yxjLu2L6zq","qNfKsLy","CMv2zxjZzq","Du14C1K","uuvJtKK","sfrQwvO","CgXHy2vTzw50tw9Kzq","B2zMC2v0qw5NBgu","z3jVDxbZ","r3HzBNO","zMXVD2vYCW","qMXAvvO","A2LUza","C3rLBMnPBhm","C29YDa","yMfZzurPyw1LDgvY","rxP5Aw4","kcGOlISPkYKRksSK","zMXVD2vY","zNLrvLq","AeHLDwu","44kW44oR44o844oxia","zgLHBwv0zxi","EfPYwfC","Cufhzfu","Bgf5","AgvPz2H0","y29Z","zeTvvum","nZbsDhnuuwy","ruXTvgK","ruPJEgO","zM9YrwfJAa","mta2mtyWsfriwwPl","z2PcC3m","qNLvDvm","mti4mtC0nfDguM10yq","s09PEhe","BgvHzKLKCW","wwXHAeu","yKHTzuG","Bgf5zxjZ","EgLRsLO","zhr3rw8","ndeXndmYm3LjEuvlyG","wwL3teq","mtq3mtHXr21lBLe","z1H6r1i","v21swLC","z2jRrgq","BfzYzeK","mJy3ntC1C29iELfs","ndK2yMHmyLDr","BM1ozgW","yxHwELO","Dw5PzM9YBq","vxHuBha","zMLSDgvY","yMnsqMS","CeHdsfe","DeXgD0i","wvbbrge","v25Wqxe","Bgf5zxi","zMLUza","q0P4sKC","vfbRvei","vMv6rMi","ruDqww4","D1Huz0m","ChjVAMvJDa","AKzLq3u","qK5nAKO","zMXVD2vYswrZ","Cgv0ywXdB3vUDa","swvuAxK","zKzlEwq","BgvUz3rO","r0XTExy","qKL6zMm","CgfSzxr0zq","Bgf5zxjjza","yxbWBhK","Bwf4","vwfjquK","Aw5KzxG","C2vHCMnO","u1Hyy2K","Cgv0ywXuExbL","BgvHzKDYB3vWCW","zvzfB00","C3rLBMnPBa","BhrNq2K","Cgv0ywW","C3rLBMnPBeLK","Du5SDLq","wLLIq0e","mJC2ntDOyuvVtwe","u0H5DvG","Cgv0ywXZ","C2XPy2u","Aw5JBhvKzxm","ywjZ","uvfHyuS","sgTpCum","Dw5ZAgLMDa","rxDcq2u","A2XWB2u","tu9MDgS","CM91BMq","sKrfCxq","B3jKzxi","BMfTzq","CMfKAxvZ","y29SB3jjza","nZa2mJi0tenszwje","ufPnDgu","BgvHzKDYB3vWswq","zNjeEeq","t0XLq1a","yNf3Cwy","vvf5y3m","yMfJAW","zMXVD2vYrgLHBwv0zxi","yLrZrgm","sufKD2m","Au5ksuu","Dg9tDhjPBMC","C2nHBgu","rvfxAfG","z3jVDxa","vKvNue4","qLfjDvO","rvvnq1q","EwDeq3y","ueTUD3y","rKjJvfe","zMXVD2vYswq","Bwf0y2G","zxzLCNK","A0LnwNK","zgn5B0i","ChvZAa","B2v0r3a","sgj2Cem","uvrezfi","v09hDw0","nfD3CKPcDq","BgvHDMvZ","D3vPrMG"];return Hu=function(){return u},Hu()}const $m=(function(){const u={ENRgT:function(a,i){return a!==i}};let r=!0;return function(a,i){const f=r?function(){const o=Zt;if(!u.ENRgT(o(395),o(395))&&i){const m=i[o(419)](a,arguments);return i=null,m}}:function(){};return r=!1,f}})(),Ds=$m(void 0,function(){const u=Zt,r={oSlky:"(((.+)+)+)+$"};return Ds[u(464)]()[u(423)](r.oSlky)[u(464)]().constructor(Ds)[u(423)](u(354))});Ds();function Zt(u,r){u=u-352;const a=Hu();let i=a[u];if(Zt.jxGNpq===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Zt.DRrJfe=f,Zt.VYYVEZ={},Zt.jxGNpq=!0}const o=a[0],m=u+o,p=Zt.VYYVEZ[m];if(p)i=p;else{const h=function(d){this.ljLkue=d,this.aysgbI=[1,0,0],this.WPhmUB=function(){return"newState"},this.dVarJn="\\w+ *\\(\\) *{\\w+ *",this.MTuubz=`['|"].+['|"];? *}`};h.prototype.AJadgt=function(){const d=new RegExp(this.dVarJn+this.MTuubz),y=d.test(this.WPhmUB.toString())?--this.aysgbI[1]:--this.aysgbI[0];return this.OYgKFT(y)},h.prototype.OYgKFT=function(d){return~d?this.JqSWmD(this.ljLkue):d},h.prototype.JqSWmD=function(d){for(let y=0,g=this.aysgbI.length;y<g;y++)this.aysgbI.push(Math.round(Math.random())),g=this.aysgbI.length;return d(this.aysgbI[0])},new h(Zt).AJadgt(),i=Zt.DRrJfe(i),Zt.VYYVEZ[m]=i}return i}function eb({project:u,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:f,setExpandedGroups:o,zoom:m,pan:p,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:y,ungroupLeaves:g}){const D=Zt,b={VEgPN:function(_,S){return _!==S},IeTiy:D(433),HbvpC:function(_,S){return _===S},UQycs:function(_,S){return _/S},hHeue:function(_,S){return _+S},GxYnz:function(_,S){return _-S},UaIAI:function(_,S){return _*S},BqdJV:function(_,S){return _/S},ltgCi:function(_,S){return _/S},axVzZ:function(_,S){return _(S)},fFKyd:function(_,S,A){return _(S,A)},fJMYB:function(_,S){return _===S},MPuqn:function(_,S){return _<S},MOftk:function(_,S,A,M){return _(S,A,M)},CJxJG:function(_,S){return _>=S},URERu:function(_,S){return _>S},YiwLD:function(_,S){return _+S},oMhZG:function(_,S){return _(S)},ygDCv:function(_,S){return _(S)},KzqbV:"Outer+",hcfbX:"",kIMZy:function(_,S){return _(S)},EGPYn:function(_,S,A){return _(S,A)},HIQEh:function(_,S){return _<S},HTjYZ:function(_,S,A){return _(S,A)},dKUUC:"layer",wXTgC:function(_,S){return _(S)},frDxD:"flower",zYuof:function(_,S){return _===S},IhaFv:"uMxsY",iNJIE:function(_,S){return _(S)},EQWhX:"group",HRfHr:D(385),Ezyin:"project",fyQVT:D(392),SXXci:"dRPWC",xZrXW:"leaf",VezFb:function(_,S){return _(S)},ByUuS:function(_,S){return _===S},BNMjJ:D(408),nnhIZ:function(_,S){return _(S)},bHmeH:function(_,S){return _(S)},atdEt:"petals",HkOqC:function(_,S,A){return _(S,A)},WnpAq:function(_,S){return _===S},uNlvT:function(_,S){return _===S},YKSJt:function(_,S,A){return _(S,A)},dcyoB:D(505),gXzGR:function(_,S){return _(S)},BIzfc:function(_,S,A){return _(S,A)},klpoe:function(_,S){return _===S},UCiuj:"RZoaF",GLmyv:function(_,S){return _/S},xikJZ:D(459),NUuNR:function(_,S){return _*S},qLHle:"stl",PKnwv:function(_,S){return _===S},QTDdR:function(_,S){return _(S)},KOixq:"HnSXd",tLFwB:D(469),YPADa:function(_,S){return _===S},WBmLI:"WBHYd",CFhXv:function(_,S){return _(S)},DeUBF:function(_,S){return _(S)},EJcxj:function(_,S){return _(S)},EwBCe:function(_,S,A,M,w){return _(S,A,M,w)},cVwIA:function(_,S){return _<S},TPkTB:function(_,S){return _(S)},qAGdU:"SpwMy",gjBss:function(_,S){return _===S},DDpfr:D(376),prCpD:"petal",QEcNI:function(_,S){return _===S},ESvKN:function(_,S){return _(S)},ELmTi:function(_,S,A){return _(S,A)},aAnmK:function(_,S,A){return _(S,A)}},N=_=>{const S=D;if(b[S(468)](b[S(412)],b.IeTiy)){_0x2128b6({kind:S(355),flowerId:_0x32b888.flowerId});return}else{const A=[..._[S(378)]].sort((O,z)=>O[S(448)]-z.order),M=A[0];if(!M)return 28;const w=_[S(495)]??u.fabricSquareSize,{length:B}=Ht(w),H=B*(M.scale??1);let Y;if(b.HbvpC(_[S(501)],""))Y=H/3;else{const z=b.UQycs(70*Math.PI,180),q=b[S(357)](A.length,1),I=q-1,Z=q>1?b.UQycs(I,b[S(504)](q,1))*z:0;Y=b[S(421)](H*b[S(496)](30,100),Math[S(364)](Z))}return b[S(429)](Math[S(446)](b.UaIAI((M[S(450)]??28)+Y,10)),10)}},C=_=>{r(S=>{const A=Zt;if(S[A(505)]=(S[A(505)]||[])[A(394)](M=>M.id!==_),S[A(503)]){for(const M of S.groups)M.flowerIds=M.flowerIds[A(394)](w=>w!==_);S[A(503)]=S[A(503)].filter(M=>M[A(410)][A(414)]>0)}},!0),i({kind:"project"}),f(S=>{const A={...S||{}};return delete A[_],A})},j=(_,S)=>{const A=D,M=u[A(505)].find(w=>w.id===_);if(M&&(M.layers||[])[A(414)]<=1){b[A(391)](C,_);return}b[A(413)](r,w=>{const B=A,H=(w[B(505)]||[])[B(401)](Y=>Y.id===_);H&&(H[B(378)]=(H.layers||[])[B(394)](Y=>Y.id!==S),H[B(378)][B(437)]()[B(509)]((Y,O)=>Y.order-O.order).forEach((Y,O)=>Y[B(448)]=O+1))},!0),i({kind:A(355),flowerId:_})},L=_=>{const S=D,A=u.flowers.find(I=>I.id===_);if(!A)return;const M=[...A.layers].sort((I,Z)=>I.order-Z.order),w=M[0],B=b[S(445)](we,w?.petalCount??6,5,24),H=M[S(488)](I=>I.scale??1),Y=H.length<2||H[S(476)](I=>Math[S(439)](I-H[0])<.001);let O=w?.scale??1;if(!Y&&b[S(402)](M[S(414)],2)){const I=M[M[S(414)]-1],Z=(I.order??1)-(w.order??1);if(b.URERu(Z,0)){const le=((w[S(465)]??1)-(I.scale??1))/Z;O=we(b.YiwLD(w.scale??1,le),.3,3)}}const z=b.oMhZG(N,A),q={id:b.ygDCv(Ot,S(362)),name:b.KzqbV,order:1,petalType:w?.[S(425)]??b[S(489)],petalCount:B,radius:z,scale:O,widthScale:b[S(471)](ri,B),offsetAngle:w?.[S(502)]??0,colorId:w?.[S(451)]??u[S(417)]?.[0]?.id??"col_green",visible:!0,locked:!1};w&&(q[S(502)]=b[S(445)](Fn,w[S(411)],w.offsetAngle??0,B)),r(I=>{const Z=S,le=I[Z(505)].find(he=>he.id===_);if(!le)return;le[Z(378)][Z(369)](he=>he[Z(448)]+=1),le.layers[Z(442)](q);const xe=Math.round(tr(q.radius,q[Z(465)],le.fabricSquareSize??I[Z(495)])),de=le[Z(495)]??I.fabricSquareSize,oe=b.fJMYB(le.placementMode,"")?lr(de,le.layers.length,Z(392),0):Zl(le.baseDiameter??I.baseDiameter,de,{layerCount:le.layers[Z(414)]}).diameter;le.flowerDiameter=Math[Z(420)](le.flowerDiameter||oe,xe);const pe=[...le[Z(378)]][Z(509)]((he,Ie)=>he.order-Ie[Z(448)]),Me=pe.reverse();for(let he=1;b.MPuqn(he,Me.length);he++){const Ie=Me[he-1],ct=Me[he];ct.offsetAngle=b[Z(445)](Fn,Ie[Z(411)],Ie[Z(502)],ct.petalCount)}},!0),b[S(477)](i,{kind:S(400),flowerId:_,layerId:q.id}),b[S(471)](f,I=>({...I,[_]:!0}))},k=_=>{const S=D,A={bfxGb:function(H,Y){return b.HIQEh(H,Y)},ZstdJ:function(H,Y){return H-Y},FBubC:function(H,Y,O,z){return H(Y,O,z)}},M=u[S(505)][S(401)](H=>H.id===_);if(!M||!M.layers||M.layers[S(414)]===0)return;if(M.layers.length<=1){b[S(477)](C,_);return}const w=[...M[S(378)]][S(509)]((H,Y)=>H.order-Y[S(448)]),B=w[0];if(B){if(b[S(500)](r,H=>{const Y=S,O=H.flowers.find(I=>I.id===_);if(!O)return;O.layers=O[Y(378)].filter(I=>I.id!==B.id),O[Y(378)][Y(437)]().sort((I,Z)=>I[Y(448)]-Z.order).forEach((I,Z)=>I.order=Z+1);const z=[...O.layers].sort((I,Z)=>I[Y(448)]-Z.order),q=O.fabricSquareSize??H.fabricSquareSize;if(z[Y(414)]>0){os(z,q);for(const le of z){const xe=O.layers[Y(401)](de=>de.id===le.id);xe&&(xe.radius=le[Y(450)])}const I=z[0];O.flowerDiameter=Math[Y(446)](tr(I[Y(450)],I[Y(465)]??1,q));const Z=[...z].reverse();for(let le=1;A.bfxGb(le,Z[Y(414)]);le++){const xe=Z[A.ZstdJ(le,1)],de=Z[le];de[Y(502)]=A.FBubC(Fn,xe[Y(411)],xe[Y(502)],de[Y(411)])}}},!0),a[S(507)]===b.dKUUC&&a[S(418)]===B.id){if(b[S(481)](S(453),S(453)))b[S(406)](i,{kind:b[S(455)],flowerId:_});else if(_0x3a8b35.leaves=(_0x46d21c.leaves??[])[S(394)](H=>!_0x5f2928.includes(H.id)),_0x80e3e5.leafGroups){for(const H of _0x321e3b.leafGroups)H[S(375)]=H.leafIds.filter(Y=>!_0x22ba2a.includes(Y));_0x374c38[S(426)]=_0xef123e.leafGroups[S(394)](H=>H[S(375)][S(414)]>0)}}else if(b.zYuof(a.kind,S(430))&&a[S(418)]===B.id)if(b.IhaFv!==S(498)){const H=_0x304e02.name.match(/^ (\d+)$/);return H?b[S(405)](_0x59447d,H[1],10):0}else i({kind:b[S(455)],flowerId:_})}},R=()=>{const _=D,S={dtwEo:_(428),LHSHq:b.Ezyin,bqwqf:"hPltu",IAdwc:_(470),OFYrm:function(A,M,w,B,H){return A(M,w,B,H)},eVEoM:b[_(356)],OLeCP:function(A,M,w,B){return A(M,w,B)},pHCHQ:function(A,M){return A-M}};if(b[_(424)]==="JUVRv")b.fFKyd(_0x532b18,A=>{const M=_,w=(A[M(503)]??[]).find(B=>B.id===_0x2abfd6);if(w)for(const B of _0xfee48f)w[M(410)][M(438)](B)||w.flowerIds.push(B)},!0),b[_(463)](_0x4ba88c,{kind:b[_(466)],groupId:_0x99d74f});else{if(a.kind===b[_(353)])return;if(a[_(507)]===b[_(360)]){b[_(404)](y,a.leafId);return}if(a.kind==="leafGroup")if(b[_(468)]("vqYHq",_(393))){b.ygDCv(g,a[_(454)]);return}else _0x4428da[_(450)]=_0x571709.radius,_0x366c6e.scale=_0x28beaf[_(465)];if(a.kind===_(485))if(b.ByUuS("jFeCu",b[_(409)])){const A=a.leafIds;r(M=>{const w=_;if(M[w(485)]=(M.leaves??[]).filter(B=>!A[w(438)](B.id)),M[w(426)]){for(const B of M.leafGroups)B.leafIds=B[w(375)].filter(H=>!A[w(438)](H));M.leafGroups=M.leafGroups[w(394)](B=>B[w(375)][w(414)]>0)}},!0),b.nnhIZ(i,{kind:_(407)});return}else{_0x504eff.groups||(_0x29cda0.groups=[]);const A=_0x43d00e[_(503)].map(w=>{const B=_,H=w[B(449)][B(475)](/^ (\d+)$/);return H?_0x4873e9(H[1],10):0}),M=A[_(414)]>0?b[_(382)](_0x39c699[_(420)](...A),1):1;_0x5442d9[_(503)][_(479)]({id:_0x507f3b,name:_(358)+M,flowerIds:[..._0x1d800a]})}if(b[_(481)](a.kind,"flowers")){const A=a.flowerIds;b.fFKyd(r,M=>{const w=_,B={lVrdI:function(H,Y,O,z){return H(Y,O,z)}};if(M[w(505)]=M[w(505)].filter(H=>!A.includes(H.id)),M[w(503)]){for(const H of M[w(503)])if(w(506)!==b.HRfHr)H[w(410)]=H.flowerIds.filter(Y=>!A.includes(Y));else{const Y=_0x6623b0[0];_0x2b0758[w(460)]=_0x1a113c[w(446)](B[w(387)](_0x39e624,Y[w(450)],Y.scale??1,_0x334bb3))}M[w(503)]=M.groups.filter(H=>H.flowerIds[w(414)]>0)}},!0),i({kind:b.Ezyin});return}if(b.zYuof(a[_(507)],"group")){r(A=>{A[_(503)]&&(A.groups=A.groups.filter(w=>w.id!==a.groupId))},!0),b[_(377)](i,{kind:"project"});return}if(a.kind===_(428)){r(A=>{const M=_;if(M(461)!=="Kvbpc")A.stencils=(A[M(508)]??[])[M(394)](w=>w.id!==a[M(431)]);else{for(const w of _0x1a22b0.groups)w.flowerIds=w.flowerIds[M(394)](B=>!_0x420f7c.includes(B));_0x82c0e7.groups=_0xc4b561.groups.filter(w=>w[M(410)][M(414)]>0)}},!0),i({kind:_(407)});return}if(a[_(507)]===b[_(493)]){i({kind:_(355),flowerId:a[_(474)]});return}if(a[_(507)]===b[_(455)]){b[_(441)](r,A=>{const M=_;if(A.flowers=A.flowers.filter(w=>w.id!==a.flowerId),A.groups){for(const w of A.groups)w[M(410)]=w.flowerIds[M(394)](B=>B!==a[M(474)]);A.groups=A.groups[M(394)](w=>w.flowerIds[M(414)]>0)}},!0),b.nnhIZ(i,{kind:b.Ezyin});return}if(b[_(399)](a.kind,b[_(365)])||a.kind==="petal"){const A=u.flowers[_(401)](w=>w.id===a[_(474)]),M=A?b[_(432)]([...A[_(378)]][_(509)]((w,B)=>w[_(448)]-B[_(448)])[0]?.id,a.layerId):!1;b.YKSJt(r,w=>{const B=_,H={FoPBk:function(Y,O,z){return Y(O,z)},QQaaK:S[B(380)],wuiFh:S.LHSHq};if(B(487)!==S[B(457)]){const Y=w.flowers.find(O=>O.id===a.flowerId);if(!Y)return;if(Y.layers=Y.layers[B(394)](O=>O.id!==a.layerId),Y.layers[B(437)]()[B(509)]((O,z)=>O.order-z.order).forEach((O,z)=>O.order=z+1),Y.layers[B(414)]>0){const O=[...Y[B(378)]][B(509)]((I,Z)=>I[B(448)]-Z[B(448)]),z=Y.fabricSquareSize??w[B(495)];os(O,z);for(const I of O)if(S[B(462)]===B(470)){const Z=Y[B(378)][B(401)](le=>le.id===I.id);Z&&(Z.radius=I.radius)}else H.FoPBk(_0x276cd0,Z=>{Z.stencils=(Z.stencils??[]).filter(le=>le.id!==_0x372038)},!0),_0x23f94c.kind===H[B(440)]&&_0x575486[B(431)]===_0x22fcb7&&_0x1f0679({kind:H[B(486)]});if(M){const I=O[0];Y.flowerDiameter=Math.round(tr(I.radius,I.scale??1,z))}else{const I=Y[B(501)]===""?S.OFYrm(lr,z,Y.layers.length,S[B(427)],0):Zl(Y.baseDiameter??w[B(352)],z,{layerCount:Y.layers[B(414)]})[B(359)];S[B(456)](Ku,O,z,Y.flowerDiameter||I);for(const Z of O){const le=Y.layers[B(401)](xe=>xe.id===Z.id);le&&(le[B(450)]=Z[B(450)],le[B(465)]=Z[B(465)])}}const q=[...O].reverse();for(let I=1;I<q.length;I++){const Z=q[S[B(396)](I,1)],le=q[I];le.offsetAngle=Fn(Z.petalCount,Z.offsetAngle,le[B(411)])}}}else _0x58beef[B(508)]=(_0x54f08.stencils??[])[B(394)](Y=>Y.id!==_0x5dcf0f)},!0),b.iNJIE(i,{kind:b.frDxD,flowerId:a[_(474)]})}}},G=$.useCallback(_=>{const S=D;if(S(435)==="SHyuX"){const A=Ot("grp");r(M=>{const w=S,B={crJGT:function(O,z,q){return O(z,q)}};M[w(503)]||(M[w(503)]=[]);const H=M.groups[w(488)](O=>{const z=O.name.match(/^ (\d+)$/);return z?B.crJGT(parseInt,z[1],10):0}),Y=b.URERu(H[w(414)],0)?b.YiwLD(Math.max(...H),1):1;M.groups.push({id:A,name:" "+Y,flowerIds:[..._]})},!0),b.gXzGR(i,{kind:S(467),groupId:A}),o(M=>({...M,[A]:!0}))}else{const A=(_0x49a932[S(503)]??[])[S(401)](w=>w.id===_0x124cad.groupId),M=A?A[S(410)]:[];if(M.includes(_0x2b34ff))return;_0x4807dd({kind:b.dcyoB,flowerIds:[...M,_0x1169aa]})}},[r,i,o]),U=b[D(441)]($.useCallback,_=>{const S=D;r(A=>{const M=Zt;A.groups&&(A[M(503)]=A[M(503)].filter(w=>w.id!==_))},!0),i({kind:b[S(353)]})},[r,i]),W=b[D(367)]($.useCallback,(_,S)=>{const A=D;b[A(416)](r,M=>{const w=A,B=(M[w(503)]??[])[w(401)](H=>H.id===_);if(B)for(const H of S)B.flowerIds[w(438)](H)||B[w(410)][w(479)](H)},!0),i({kind:"group",groupId:_})},[r,i]),E=b[D(413)]($.useCallback,(_,S)=>{const A=D,M={UDNLX:function(H,Y){return b[Zt(444)](H,Y)},nmNdl:A(483),ldqQU:b.UCiuj},w=_[0],B=_.slice(1);r(H=>{const Y=A;if(!H.groups)return;const O=H[Y(503)].find(z=>z.id===w);if(O){for(const z of B){const q=H[Y(503)][Y(401)](I=>I.id===z);if(q)for(const I of q.flowerIds)O[Y(410)][Y(438)](I)||O.flowerIds.push(I)}for(const z of S)if(M.UDNLX(M[Y(390)],M.ldqQU)){const q=_0x15d495[Y(378)][Y(401)](I=>I.id===_0x50b6cd.id);q&&(q.radius=_0x55c802.radius)}else O.flowerIds[Y(438)](z)||O.flowerIds[Y(479)](z);H.groups=H.groups[Y(394)](z=>!B.includes(z.id))}},!0),i({kind:A(467),groupId:w}),b.ygDCv(o,H=>({...H,[w]:!0}))},[r,i,o]),V=(_,S)=>{const A=D,M=b[A(458)](h.w,h.h),w=b.BqdJV(520,m),B=w*M,H=-p.x/m,Y=-p.y/m,O=H+b[A(415)](B,2),z=Y+w/2,q=b[A(372)](S,b.xikJZ)?b[A(379)]:"side",I=b.NUuNR(Jd[_][q][A(363)],rn),Z=we(O,0,d),le=b.MOftk(we,z-b[A(458)](I,2),0,d),xe={id:b[A(384)](Ot,b.qLHle),variant:_,pose:S,position:{x:Z,y:le}};b[A(441)](r,de=>{const oe=A;de[oe(508)]||(de.stencils=[]),de.stencils[oe(479)](xe)},!0),i({kind:A(428),stencilId:xe.id})},F=_=>{const S=D;r(A=>{const M=Zt;A.stencils=(A[M(508)]??[])[M(394)](w=>w.id!==_)},!0),b.PKnwv(a.kind,S(428))&&b[S(472)](a.stencilId,_)&&i({kind:b.Ezyin})},Q=b.aAnmK($.useCallback,_=>{const S=D;if(S(447)!==b[S(374)])if(a[S(507)]===b[S(478)]){const A=a.flowerIds;if(A.includes(_))if(b.uNlvT(b[S(397)],S(469))){const M=A.filter(w=>w!==_);if(b.PKnwv(M[S(414)],0))i({kind:b[S(353)]});else if(M.length===1)b[S(482)](i,{kind:b.frDxD,flowerId:M[0]});else if(b[S(398)]("WBHYd",b.WBmLI))b.CFhXv(i,{kind:b[S(478)],flowerIds:M});else{cmWcyF[S(480)](_0x33c310,_0x5d31ad);return}}else{b.QTDdR(_0x2d0a99,_0x39520f[S(454)]);return}else b.DeUBF(i,{kind:b[S(478)],flowerIds:[...A,_]})}else if(a.kind==="flower"){if(a[S(474)]===_)return;b.EJcxj(i,{kind:S(505),flowerIds:[a.flowerId,_]})}else if(b[S(444)](a[S(507)],b[S(466)])){const A=(u.groups??[]).find(w=>w.id===a.groupId),M=A?A.flowerIds:[];if(M.includes(_))return;i({kind:"flowers",flowerIds:[...M,_]})}else b[S(471)](i,{kind:"flowers",flowerIds:[_]});else _0x4ee919.flowerIds[S(438)](_0x33be75)||_0x4efe39[S(410)][S(479)](_0x1bed83)},[a,i,u.groups]);return{deleteFlowerById:C,deleteLayerById:j,computeNewOuterRadius:N,addOuterLayer:L,deleteOuterLayer:k,deleteSelected:R,groupSelectedFlowers:G,ungroupFlowers:U,addToGroup:W,mergeGroups:E,addStencil:V,deleteStencil:F,handleShiftFlowerSelect:Q,togglePetalSelection:(_,S,A,M)=>{const w=D;if(!M)if(b[w(361)]===w(473)){const H=_0xee885[w(505)][w(401)](Z=>Z.id===_0x57fcb0);if(!H)return;H[w(378)][w(369)](Z=>Z[w(448)]+=1),H.layers.unshift(_0x2c2d0c);const Y=_0x4b841e.round(_0x52b223(_0x584e04.radius,_0x4dade4.scale,H.fabricSquareSize??_0x11ef82.fabricSquareSize)),O=H.fabricSquareSize??_0x2643f0.fabricSquareSize,z=b.zYuof(H[w(501)],"")?b[w(443)](_0xa09407,O,H[w(378)].length,w(392),0):b.MOftk(_0x12354a,H[w(352)]??_0x3fcde5.baseDiameter,O,{layerCount:H[w(378)][w(414)]})[w(359)];H[w(460)]=_0x31be90[w(420)](H[w(460)]||z,Y);const q=[...H.layers][w(509)]((Z,le)=>Z.order-le.order),I=q[w(497)]();for(let Z=1;b.cVwIA(Z,I.length);Z++){const le=I[Z-1],xe=I[Z];xe.offsetAngle=b[w(445)](_0x1bf93f,le[w(411)],le.offsetAngle,xe[w(411)])}}else{b.nnhIZ(i,{kind:"petal",flowerId:_,layerId:S,index:A});return}const B=S+":"+A;if(a[w(507)]===w(436)&&b[w(371)](a.flowerId,_))if(b[w(492)]===b[w(492)]){const H=a.petals||[];if(H.some(O=>O[w(418)]+":"+O.index===B))if(w(386)==="gbkDd"){const O=H.filter(z=>z[w(418)]+":"+z.index!==B);O[w(414)]===0?b[w(491)](i,{kind:"flower",flowerId:_}):O[w(414)]===1?i({kind:b[w(490)],flowerId:_,layerId:O[0].layerId,index:O[0][w(422)]}):b[w(368)](i,{kind:b[w(493)],flowerId:_,petals:O})}else{const O=_0x574a07[w(375)];b.EGPYn(_0x393312,z=>{const q=w;if(z[q(485)]=(z[q(485)]??[])[q(394)](I=>!O.includes(I.id)),z.leafGroups){for(const I of z[q(426)])I[q(375)]=I.leafIds[q(394)](Z=>!O.includes(Z));z[q(426)]=z[q(426)].filter(I=>I.leafIds[q(414)]>0)}},!0),b.TPkTB(_0x36f641,{kind:w(407)});return}else b[w(403)](i,{kind:b[w(493)],flowerId:_,petals:[...H,{layerId:S,index:A}]})}else b.QTDdR(_0x227da9,{kind:w(355),flowerId:_0x554fbe[0]});else if(b[w(499)](a.kind,b.prCpD)&&a[w(474)]===_){const H={layerId:a.layerId,index:a[w(422)]},Y={layerId:S,index:A};if(H[w(418)]+":"+H.index===B)return;b.ESvKN(i,{kind:b[w(493)],flowerId:_,petals:[H,Y]})}else i({kind:b[w(493)],flowerId:_,petals:[{layerId:S,index:A}]})}}}(function(u,r){const a=Kt,i=u();for(;;)try{if(-parseInt(a(440))/1*(-parseInt(a(395))/2)+-parseInt(a(402))/3*(-parseInt(a(390))/4)+parseInt(a(410))/5*(-parseInt(a(403))/6)+parseInt(a(425))/7*(parseInt(a(412))/8)+parseInt(a(389))/9+-parseInt(a(434))/10*(parseInt(a(418))/11)+-parseInt(a(413))/12*(parseInt(a(416))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Iu,840600);const tb=(function(){const u=Kt,r={MQqxe:u(428)};let a=!0;return function(i,f){const o=a?function(){const m=Kt;if(m(428)===r.MQqxe){if(f){const p=f.apply(i,arguments);return f=null,p}}else _0x35e716.leafIds.includes(_0xa13382)||_0x1ca1f7.leafIds[m(444)](_0x225d36)}:function(){};return a=!1,o}})(),Ns=tb(void 0,function(){const u=Kt,r={GMnig:u(409)};return Ns.toString()[u(404)](r[u(398)]).toString().constructor(Ns).search(u(409))});function Kt(u,r){u=u-389;const a=Iu();let i=a[u];if(Kt.mYzJeL===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Kt.zRXLms=f,Kt.QRiNqg={},Kt.mYzJeL=!0}const o=a[0],m=u+o,p=Kt.QRiNqg[m];if(p)i=p;else{const h=function(d){this.BsbNus=d,this.ehocyZ=[1,0,0],this.lTHmVU=function(){return"newState"},this.kKDfYr="\\w+ *\\(\\) *{\\w+ *",this.zaQKtF=`['|"].+['|"];? *}`};h.prototype.soIGQK=function(){const d=new RegExp(this.kKDfYr+this.zaQKtF),y=d.test(this.lTHmVU.toString())?--this.ehocyZ[1]:--this.ehocyZ[0];return this.SVxiPS(y)},h.prototype.SVxiPS=function(d){return~d?this.EDEZGD(this.BsbNus):d},h.prototype.EDEZGD=function(d){for(let y=0,g=this.ehocyZ.length;y<g;y++)this.ehocyZ.push(Math.round(Math.random())),g=this.ehocyZ.length;return d(this.ehocyZ[0])},new h(Kt).soIGQK(),i=Kt.zRXLms(i),Kt.QRiNqg[m]=i}return i}Ns();function Iu(){const u=["mtiYntq3mZzmv0fIquS","mZziz1PrBM4","CwT4wKu","ywjZ","ntC5mJC0og53rMfqsa","BgvHzKLKCW","mJjcyNjKBLm","rKHXv2e","rhzLyNi","wxDOEM0","uxDABeO","BuP4Beu","ENHAuhq","n0XoDwjYzq","zMLSDgvY","Cg9ZAxrPB24","sKPeEKi","BhrxtM0","BgvHDMvZ","CgfSzxr0zq","BgvHzKDYB3vWCW","tfrrDeG","ntmYmdmXmhfZA2Tgva","sMzUuwy","wvbSBfa","BgvHzG","zMLUza","BgvHzKDYB3vW","mNH5vuvmuW","BwfW","C29Tzq","rNHorvi","ChvZAa","q1HXB0u","mtq1ndq4mtLmrfrbEee","mta3nZj0EgvQwM0","swvHquC","5yMJ44gK44g+44g/","uxfgwue","tgvHzIa","odi0ndy4q2jgCxHx","ELPeywG","zMXtt0K","r01UAwC","y29Sx2DYzwvU","A3fJANa","twDVwgS","ndGZA3zLzM5J","nJaYmZrZsxfoALy","C2vHCMnO","Aw5JBhvKzxm","ChjVAMvJDa","wvj4D00","A0PlAvi","kcGOlISPkYKRksSK","ntGWy0DZCMHf","BgvUz3rO"];return Iu=function(){return u},Iu()}function nb({project:u,applyUpdate:r,selection:a,setSelection:i,zoom:f,pan:o,stageSize:m,CANVAS_MAX_SVG:p}){const h=Kt,d={QwZlJ:function(L,k){return L/k},JfnQf:function(L,k){return L/k},Ywhzm:function(L,k){return L+k},jbhVO:function(L,k){return L<k},kZPJW:function(L,k,R,G){return L(k,R,G)},QqFYA:h(392),Dvebr:h(399),flSOI:function(L,k,R){return L(k,R)},foKUU:"GEDJd",MgoXk:function(L,k){return L/k},LTQtH:"leaf",mJxlE:function(L,k){return L+k},DKSbl:function(L,k,R){return L(k,R)},qkxZE:function(L,k){return L(k)},CXqoE:"leaves",FHqWa:function(L,k){return L(k)},YPllP:function(L,k){return L===k},kqcjp:function(L,k){return L(k)},zxZPt:function(L,k){return L(k)},IeaAG:"oyMEk",zZDah:h(407),gdDzB:function(L,k){return L>k},eXbLx:function(L,k,R){return L(k,R)},LjFpB:function(L,k){return L(k)},aXgyx:function(L,k){return L+k},kJKiR:"leafGroup",GgnGQ:function(L,k,R){return L(k,R)},FxNER:h(406)},y=()=>{const L=h;if(d.foKUU==="tMQPC"){const k=d.QwZlJ(_0x21afac.w,_0x97b3e4.h),R=520/_0x4988d6,G=R*k,U=d[L(435)](-_0x2bcaba.x,_0x117b47),W=-_0x44635d.y/_0x3c3a06;let E=U+d[L(435)](G,2),V=d[L(421)](W,d[L(422)](R,2)),F=0;for(;d.jbhVO(F,50)&&(_0x1c61ce[L(430)]??[]).some(X=>_0x57f086[L(415)](X[L(427)].x-E)<5&&_0x8abee3[L(415)](X.position.y-V)<5);)E+=25,V+=25,E=d.kZPJW(_0x13461e,E,0,_0x264d1f),V=d.kZPJW(_0x22c899,V,0,_0x2c971a),F++;const Q={id:_0x20111d(L(437)),name:L(394)+((_0x1b33d1[L(430)]??[]).length+1),position:{x:E,y:V},rotation:135,petalType:d[L(393)],colorId:_0x45a67d[L(431)]?.[L(438)](X=>X.id===L(399)||X.id==="col_darkgreen")?.id??_0xadc012[L(431)]?.[0]?.id??d.Dvebr,scale:1,widthScale:1,visible:!0,locked:!1};d[L(397)](_0x31358b,X=>{const _=L;X[_(430)]||(X[_(430)]=[]),X.leaves[_(444)](Q)},!0),_0x283250({kind:L(437),leafId:Q.id})}else{const k=d.JfnQf(m.w,m.h),R=d[L(401)](520,f),G=R*k,U=-o.x/f,W=-o.y/f;let E=U+d.MgoXk(G,2),V=W+R/2,F=0;for(;F<50&&(u[L(430)]??[])[L(442)](X=>Math.abs(X.position.x-E)<5&&Math.abs(X[L(427)].y-V)<5);)E+=25,V+=25,E=we(E,0,p),V=we(V,0,p),F++;const Q={id:Ot(d[L(433)]),name:"Leaf "+d[L(423)]((u.leaves??[])[L(411)],1),position:{x:E,y:V},rotation:135,petalType:L(392),colorId:u.palette?.find(X=>X.id===L(399)||X.id==="col_darkgreen")?.id??u[L(431)]?.[0]?.id??d[L(420)],scale:1,widthScale:1,visible:!0,locked:!1};d.DKSbl(r,X=>{const _=L;X.leaves||(X.leaves=[]),X.leaves[_(444)](Q)},!0),d.qkxZE(i,{kind:"leaf",leafId:Q.id})}},g=L=>{const k=h;r(R=>{const G=Kt;if(R[G(430)]=(R.leaves??[]).filter(U=>U.id!==L),R[G(432)]){for(const U of R[G(432)])U.leafIds=U.leafIds.filter(W=>W!==L);R[G(432)]=R.leafGroups[G(426)](U=>U.leafIds[G(411)]>0)}},!0),i({kind:k(406)})},D=$.useCallback(L=>{const k=h;if(a.kind==="leaves"){const R=a[k(417)];if(R.includes(L)){const G=R[k(426)](U=>U!==L);G.length===0?d[k(419)](i,{kind:k(406)}):d.YPllP(G[k(411)],1)?i({kind:d.LTQtH,leafId:G[0]}):d[k(400)](i,{kind:d.CXqoE,leafIds:G})}else d.zxZPt(i,{kind:d.CXqoE,leafIds:[...R,L]})}else if(a.kind===d[k(433)]){if(d[k(436)](a.leafId,L))return;i({kind:d[k(445)],leafIds:[a.leafId,L]})}else d[k(391)]==="oyMEk"?i({kind:k(430),leafIds:[L]}):_0x21d9f5({kind:d[k(445)],leafIds:[..._0x1ff4ec,_0x48f948]})},[a,i]),b=$.useCallback(L=>{const k=h,R=(u.leafGroups??[]).filter(G=>G[k(417)][k(442)](U=>L[k(405)](U)));if(d.gdDzB(R[k(411)],0)){const G=R[0].id;d.eXbLx(r,U=>{const W=k;if(d[W(396)]===d.zZDah){if(!U[W(432)])return;const E=U.leafGroups.find(F=>F.id===G);if(!E)return;const V=R.slice(1)[W(441)](F=>F.id);for(const F of V){const Q=U.leafGroups.find(X=>X.id===F);if(Q)for(const X of Q[W(417)])E[W(417)].includes(X)||E.leafIds[W(444)](X)}for(const F of L)E.leafIds.includes(F)||E[W(417)][W(444)](F);U.leafGroups=U[W(432)][W(426)](F=>!V[W(405)](F.id))}else{if(_0x208189.leafId===_0x1cd20a)return;_0xc077dd({kind:"leaves",leafIds:[_0x1d7567.leafId,_0x1bf581]})}},!0),d.LjFpB(i,{kind:k(439),leafGroupId:G})}else{const G=Ot("lg"),U=" "+d.aXgyx((u[k(432)]??[]).length,1);d.eXbLx(r,W=>{const E=k;W.leafGroups||(W[E(432)]=[]),W.leafGroups[E(444)]({id:G,name:U,leafIds:[...L],rotation:0})},!0),d[k(424)](i,{kind:d[k(408)],leafGroupId:G})}},[u.leafGroups,r,i]),N=d.eXbLx($.useCallback,L=>{const k=h;d.GgnGQ(r,R=>{const G=Kt;R[G(432)]&&(R[G(432)]=R.leafGroups[G(426)](U=>U.id!==L))},!0),d[k(414)](i,{kind:d[k(443)]})},[r,i]),C=$.useCallback((L,k)=>{r(R=>{const G=Kt,U=(R[G(432)]??[]).find(W=>W.id===k);U&&!U[G(417)][G(405)](L)&&U[G(417)].push(L)},!0)},[r]),j=$.useCallback(L=>{const k=h,R={UtMAu:k(429)};r(G=>{const U=k;if(R.UtMAu==="ltWNm"){if(!G.leafGroups)return;for(const W of G.leafGroups)W[U(417)]=W.leafIds.filter(E=>E!==L);G.leafGroups=G[U(432)][U(426)](W=>W[U(417)].length>0)}else{const W=(_0x3a9edf[U(432)]??[]).find(E=>E.id===_0x1c3cf6);W&&!W.leafIds[U(405)](_0x236f3c)&&W[U(417)][U(444)](_0x1e6094)}},!0)},[r]);return{addLeaf:y,deleteLeafById:g,handleShiftLeafSelect:D,groupSelectedLeaves:b,ungroupLeaves:N,addLeafToGroup:C,removeLeafFromGroup:j}}(function(u,r){const a=yn,i=u();for(;;)try{if(parseInt(a(383))/1+parseInt(a(406))/2*(-parseInt(a(403))/3)+parseInt(a(365))/4+-parseInt(a(386))/5*(parseInt(a(399))/6)+-parseInt(a(398))/7*(parseInt(a(404))/8)+-parseInt(a(343))/9+parseInt(a(381))/10*(parseInt(a(389))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Yu,918080);const lb=(function(){const u=yn,r={wMICJ:u(400)};let a=!0;return function(i,f){const o=a?function(){const m=yn;if(f)if(r.wMICJ!==m(394)){const p=f[m(351)](i,arguments);return f=null,p}else{const p={OgDFc:"",FXMeq:function(y,g,D,b){return y(g,D,b)}},h=_0x5c134b.fabricSquareSize,d=_0xf4351d.baseDiameter;_0x5392bd(y=>{const g=m,D={...y,fabricSquareSize:h,baseDiameter:d};return D.placementMode===p.OgDFc?D.flowerDiameter=p[g(338)](_0x1904e0,d,h,{layerCount:D.layerCount,sizeMode:D[g(401)],sizeStepMm:D[g(390)]})[g(369)]:D[g(395)]=_0x1c14c5(h,D.layerCount,D.sizeMode,D[g(390)]),D}),_0x349ce7(!0)}}:function(){};return a=!1,o}})(),As=lb(void 0,function(){const u=yn;return As[u(342)]()[u(391)](u(408)).toString()[u(366)](As).search("(((.+)+)+)+$")});As();function Yu(){const u=["C2L6zvn0zxbnBq","C2vHCMnO","CeLtt3u","EMLMuxa","v1bjCwy","zMXVD2vYrgLHBwv0zxi","Cg9ZAxrPB24","ChvZAa","n0v1AfbgqW","mtjswMflCKG","vhzxAvC","C2L6zu1Vzgu","t3v2thC","nJa3oevjswPWta","nti1ndeWnhngEuDmqW","C29YDa","mtqYruXHr1vg","t1f4BKq","kcGOlISPkYKRksSK","yMfZzurPyw1LDgvY","A2zyCwy","rKncC3q","DxjAsu4","rLHnzxe","CgfSzxr0zq","zMXVD2vY","Ag5nC1K","Dg9tDhjPBMC","odGYmdm1mwnQB0zysq","Chr2D2i","mNWWFdf8m3W0","AuvWuNK","z3jHzhvHBa","CxrJy2q","Bgf5","zMXVD2vYCW","yxbWBhK","rfLnsKy","DKH6uxy","shnmreK","BxzzAgC","5lI444gK44g+44g/","su1fDeq","ywjZ","C2nHBgu","CMv2zxjZzq","zMX3","r05cCuq","y29Sx3DOAxrL","t3v0zxi","mtuYodi2ngjMD0LrBW","y29UC3rYDwn0B3i","vLPluhy","whHyC0S","zgLHBwv0zxi","tgf5zxi","ugPuA2W","BgvUz3rO","rMXVD2vYia","B3jKzxi","Dw5PzM9YBq","teHqDgS","thPrvum","5y2k44gp44gz","uhzeD0q","Bgf5zxjdB3vUDa","mta4mti2mZbVBwL0s1u","CM91BMq","nZiZnZu3AxHiq1ff","44or44o844oR","CMfKAxvZ","ndeYnZiXmezTvvrLvW","rfzfswq","thDbwe0","mZnTDvfTvu8"];return Yu=function(){return u},Yu()}function yn(u,r){u=u-336;const a=Yu();let i=a[u];if(yn.vGoIbc===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};yn.XtUUCT=f,yn.KRsIBO={},yn.vGoIbc=!0}const o=a[0],m=u+o,p=yn.KRsIBO[m];if(p)i=p;else{const h=function(d){this.nGaGPg=d,this.JLhAVx=[1,0,0],this.tmeYBO=function(){return"newState"},this.hwVlTq="\\w+ *\\(\\) *{\\w+ *",this.QTWJbJ=`['|"].+['|"];? *}`};h.prototype.QmQirn=function(){const d=new RegExp(this.hwVlTq+this.QTWJbJ),y=d.test(this.tmeYBO.toString())?--this.JLhAVx[1]:--this.JLhAVx[0];return this.OWejFC(y)},h.prototype.OWejFC=function(d){return~d?this.GhjOhH(this.nGaGPg):d},h.prototype.GhjOhH=function(d){for(let y=0,g=this.JLhAVx.length;y<g;y++)this.JLhAVx.push(Math.round(Math.random())),g=this.JLhAVx.length;return d(this.JLhAVx[0])},new h(yn).QmQirn(),i=yn.XtUUCT(i),yn.KRsIBO[m]=i}return i}function ab({project:u,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:f,pan:o,stageSize:m,CANVAS_MAX_SVG:p}){const h=yn,d={PvDwD:"",HsLDI:function(j,L,k,R,G){return j(L,k,R,G)},VZKPv:h(336),IMEtD:function(j,L){return j(L)},LHPtk:function(j,L){return j/L},PjTkl:function(j,L){return j*L},qRpoA:function(j,L){return j*L},FRbqp:"Center",Nahsa:"Inner",mvYhg:"Middle",hnMsY:h(364),OQxnD:function(j,L){return j===L},yWiEE:"uniform",LzQUC:function(j,L){return j===L},zifQp:function(j,L){return j-L},LnzHy:function(j,L){return j>L},OuvLw:function(j,L){return j/L},ptvwb:function(j,L){return j/L},XxXsK:function(j,L){return j===L},qtccd:h(370),DVEId:function(j,L){return j<=L},jqoNq:h(362),yhqyC:function(j,L){return j+L},DYMJF:h(349),VNeft:h(363),iwgPs:function(j,L){return j/L},LbtQC:function(j,L){return j<L},ZLnBO:h(345),urZIN:function(j,L,k,R){return j(L,k,R)},RjzCC:function(j,L){return j(L)},kfXqf:h(361),pISOu:h(384),WUgCj:function(j,L){return j(L)},uGUUm:h(340)},[y,g]=$.useState(!1),[D,b]=$.useState({placementMode:"",fabricSquareSize:20,baseDiameter:u.baseDiameter,layerCount:1,petalCount:6,petalType:h(356),sizeMode:h(375),sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:y,setShowAddFlowerDialog:g,addFlowerOpts:D,setAddFlowerOpts:b,addFlower:()=>{const j=h,L=u.fabricSquareSize,k=u[j(409)];b(R=>{const G=j,U={...R,fabricSquareSize:L,baseDiameter:k};return U.placementMode===d[G(379)]?U[G(395)]=Zl(k,L,{layerCount:U.layerCount,sizeMode:U.sizeMode,sizeStepMm:U[G(390)]})[G(369)]:U[G(395)]=lr(L,U[G(380)],U[G(401)],U.sizeStepMm),U}),g(!0)},confirmAddFlower:()=>{const j=h;if(d.VZKPv===d[j(367)]){const{placementMode:L,layerCount:k,petalCount:R,petalType:G,sizeMode:U,sizeStepMm:W}=D,E=D.fabricSquareSize,{length:V}=d.IMEtD(Ht,E),F=.28,Q=d.LHPtk(Math.round(d.PjTkl(d.qRpoA(V,F),10)),10),X=[],_=[d.FRbqp,d.Nahsa,d[j(355)],d[j(341)],"Outer+"];let S=Q,A=0;for(let oe=0;oe<k;oe++){const pe=oe,Me=1;let he;if(d.OQxnD(U,d.yWiEE))he=Me;else{const st=W/E;he=we(Me+d[j(371)](pe,st),.3,3)}let Ie;if(d[j(407)](oe,0))Ie=Q;else{const st=d[j(377)](U,j(347))?we(1+d[j(393)](oe,1)*W/E,.3,3):1,Nt=d[j(371)](V,st);let Lt;if(L===d.PvDwD){const ht=70*Math.PI/180,It=d.LnzHy(k,1)?d[j(371)](oe/(k-1),ht):0,un=Math.cos(It);Lt=d[j(371)](Nt,d[j(402)](30,100))*un}else j(388)==="LwAXM"?Lt=d[j(344)](Nt,3):_0x147e94[j(395)]=EszEjW[j(353)](_0x242c2b,_0x1efcfc,_0x38fa84.layerCount,_0x58fd1f.sizeMode,_0x39988f[j(390)]);S=S+Lt,Ie=Math[j(382)](d.qRpoA(S,10))/10}const ct=d.LzQUC(oe,0)?0:Fn(R,A,R);A=ct;let dt;d[j(368)](k,1)?dt=d[j(348)]:d[j(387)](k,5)?dt=_[(k===2?[0,3]:k===3?[0,1,3]:k===4?[0,1,2,3]:[0,1,2,3,4])[oe]]??"Layer "+(oe+1):d.jqoNq!==j(346)?dt="Layer "+d.yhqyC(oe,1):_0x5613cf=j(370),X[j(397)]({id:d.IMEtD(Ot,d[j(352)]),name:dt,order:d.zifQp(k,oe),petalType:G,petalCount:R,radius:Ie,scale:he,widthScale:d[j(357)](ri,R),offsetAngle:ct,colorId:D.colorId||(u[j(339)]?.[0]?.id??d.VNeft),visible:!0,locked:!1})}X[j(360)]();const M=[...X][j(405)]((oe,pe)=>oe[j(374)]-pe.order),w=d.OQxnD(L,"")?Zl(D.baseDiameter,E,{layerCount:k,sizeMode:U,sizeStepMm:W})[j(369)]:d.HsLDI(lr,E,k,U,W);Ku(M,E,D.flowerDiameter||w);for(const oe of M){const pe=X.find(Me=>Me.id===oe.id);pe&&(pe[j(385)]=oe[j(385)],pe[j(359)]=oe.scale)}const B=d.iwgPs(m.w,m.h),H=520/f,Y=H*B,O=-o.x/f,z=-o.y/f;let q=O+Y/2,I=z+d[j(376)](H,2);const Z=25;let le=0;for(;d.LbtQC(le,50)&&u[j(350)].some(oe=>Math[j(358)](oe[j(396)].x-q)<5&&Math[j(358)](oe[j(396)].y-I)<5);){const oe=d.ZLnBO.split("|");let pe=0;for(;;){switch(oe[pe++]){case"0":I+=Z;continue;case"1":q=d[j(337)](we,q,0,p);continue;case"2":q+=Z;continue;case"3":I=we(I,0,p);continue;case"4":le++;continue}break}}const xe=D.flowerDiameter||w,de={id:d.RjzCC(Ot,d[j(410)]),name:j(373)+(u[j(350)][j(372)]+1),position:{x:q,y:I},flowerDiameter:xe,rotation:0,layers:X,center:{type:d[j(392)],size:6,color:d.VNeft},fabricSquareSize:E,placementMode:L,baseDiameter:L===j(378)?D.baseDiameter:d.WUgCj(er,xe)};r(oe=>{oe[j(350)].push(de)},!0),a({kind:d.uGUUm,flowerId:de.id}),i(oe=>({...oe,[de.id]:!0})),d.WUgCj(g,!1)}else _0xe22516=_0x31f308/3}}}function Uu(){const u=["Cgv0ywXZ","BgvHzKLK","quXOvM0","z3jVDxbjza","rujdu2q","CKTUAee","otGYndm2ve5Itw5c","EMvxyNG","y29UC3rYDwn0B3i","ufLorhO","Aw5KzxG","mteZmtKXofrpt1PKCq","Bgf5zxi","zMXVD2vYCW","CK5ZyNC","zMXVD2vYswrZ","BgvHzKLKCW","vMHmAw0","Cgv0ywW","ruHyA2y","sNnnyw0","vM9UsMO","nZy2mZv6txDmAvK","mJq4oteWvwvUDevf","zMLSDgvY","qMfPzwi","nZeWChznwgPN","r0zSthO","odbqtKvdzvq","mty4ndq0nK1Uq2rIzG","EMTozMS","C3rLBMnPBhm","nwPWC2PTsG","teLYuxu","wgzcz2C","z0LprgC","BLrhtwi","BgvHDMvZ","mJK2mdmWrufeAgjf","BgvHzKDYB3vW","zMXVD2vYswq","z3jVDxa","s1fozvC","z3jVDxbZ","BgvHzG","A2LUza","mtjluvDms1e","vgjgwfu","u21XAMe","Dg9tDhjPBMC","muX5Dxrcra","zMHdAMC","svPJC1u","kcGOlISPkYKRksSK","r2LAB0G","DLLTthy","Aw5JBhvKzxm","BgvHzKDYB3vWCW","mtq0nZu1nZfxDMLhvgO","zMLUza"];return Uu=function(){return u},Uu()}(function(u,r){const a=Rn,i=u();for(;;)try{if(parseInt(a(259))/1*(-parseInt(a(280))/2)+-parseInt(a(298))/3+-parseInt(a(275))/4*(-parseInt(a(301))/5)+-parseInt(a(292))/6+-parseInt(a(307))/7*(parseInt(a(297))/8)+parseInt(a(291))/9*(parseInt(a(295))/10)+-parseInt(a(267))/11*(-parseInt(a(255))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Uu,574309);const ib=(function(){let u=!0;return function(r,a){const i=u?function(){const f=Rn;if(a)if(f(290)!==f(302)){const o=a.apply(r,arguments);return a=null,o}else{const o=(_0x10f8bd.leafGroups??[])[f(268)](m=>m.id===_0x278bec.leafGroupId);if(o)return new _0x4f2b4a(o[f(285)])}}:function(){};return u=!1,i}})(),Ts=ib(void 0,function(){const u=Rn,r={bLDuj:"(((.+)+)+)+$"};return Ts[u(258)]().search(r.bLDuj).toString()[u(277)](Ts).search(u(262))});Ts();function Rn(u,r){u=u-255;const a=Uu();let i=a[u];if(Rn.ruUTES===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",g="",D=y+f;for(let b=0,N,C,j=0;C=h.charAt(j++);~C&&(N=b%4?N*64+C:C,b++%4)?y+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=y.length;b<N;b++)g+="%"+("00"+y.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Rn.xdXDxb=f,Rn.fcMxRi={},Rn.ruUTES=!0}const o=a[0],m=u+o,p=Rn.fcMxRi[m];if(p)i=p;else{const h=function(d){this.qsCVsI=d,this.mkcxvp=[1,0,0],this.HHrByK=function(){return"newState"},this.aLwQtE="\\w+ *\\(\\) *{\\w+ *",this.LCACFM=`['|"].+['|"];? *}`};h.prototype.pkIYgn=function(){const d=new RegExp(this.aLwQtE+this.LCACFM),y=d.test(this.HHrByK.toString())?--this.mkcxvp[1]:--this.mkcxvp[0];return this.BgRWHO(y)},h.prototype.BgRWHO=function(d){return~d?this.TewWyC(this.qsCVsI):d},h.prototype.TewWyC=function(d){for(let y=0,g=this.mkcxvp.length;y<g;y++)this.mkcxvp.push(Math.round(Math.random())),g=this.mkcxvp.length;return d(this.mkcxvp[0])},new h(Rn).pkIYgn(),i=Rn.xdXDxb(i),Rn.fcMxRi[m]=i}return i}function rb(u,r){const a=Rn,i={JsMam:function(C,j){return C===j},ALhVm:"flower",NYUBP:"petals",KQNeW:function(C,j){return C===j},iXyDv:a(276),GiZoH:a(294),rKnhA:function(C,j){return C===j},GFlLz:"group",VSCAW:"leaf",PYNDz:a(308),ErNzq:"HhUrR",xbmuP:a(281),TbFXU:a(287),EHXkf:"dWRjg",gIODg:function(C,j){return C===j},ofvJH:function(C,j){return C===j},EBCSd:function(C,j){return C===j},VhLim:function(C,j){return C===j},XfBgg:"WVwKq",KwFgJ:function(C,j,L){return C(j,L)},nTGMb:function(C,j,L){return C(j,L)},zkNfk:"stencil",TtAhr:function(C,j){return C===j},DexAW:function(C,j,L){return C(j,L)}},f=i.KwFgJ($.useMemo,()=>{const C=a;return i.JsMam(r[C(314)],i.ALhVm)||r.kind==="layer"||r[C(314)]==="petal"||r[C(314)]===i.NYUBP?u[C(282)].find(j=>j.id===r[C(309)])??null:null},[u.flowers,r]),o=$.useMemo(()=>{const C=a;if(i.KQNeW(i.iXyDv,i[C(263)]))return _0x2f544b.flowers[C(268)](j=>j.id===_0x3809d7[C(309)])??null;if(i.JsMam(r[C(314)],"flowers"))return u.flowers.filter(j=>r[C(284)].includes(j.id));if(i.rKnhA(r[C(314)],i[C(296)])){const j=(u.groups??[])[C(268)](L=>L.id===r.groupId);if(j)return u.flowers.filter(L=>j.flowerIds.includes(L.id))}return[]},[u.flowers,u[a(312)],r]),m=$.useMemo(()=>{const C=a;return r.kind===i.VSCAW?(u.leaves??[])[C(268)](j=>j.id===r[C(270)])??null:null},[u[a(306)],r]),p=$.useMemo(()=>{const C=a;if(C(310),i.JsMam(r[C(314)],i[C(278)]))if(i[C(274)]("ZkSwX",i.ErNzq)){if(BkPGuZ[C(260)](_0xee3d25.kind,"flowers"))return _0x438835[C(282)][C(293)](j=>_0x2efd09.flowerIds[C(265)](j.id));if(_0x544630[C(314)]===BkPGuZ[C(264)]){const j=(_0x50c35c[C(312)]??[]).find(L=>L.id===_0x36c063.groupId);if(j)return _0x492c0a.flowers.filter(L=>j.flowerIds.includes(L.id))}return[]}else return(u[C(266)]??[]).find(j=>j.id===r.leafGroupId)??null;return null},[u.leafGroups,r]),h=i[a(305)]($.useMemo,()=>{const C=a;return f&&(r.kind===i.xbmuP||r.kind===i[C(256)])?i[C(289)](i.EHXkf,i[C(288)])?f.layers[C(268)](j=>j.id===r.layerId)??null:new _0x42ce3f(_0x2a9e20.flowerIds[C(293)](j=>j!==_0x132070[C(309)])):null},[f,r]),d=r[a(314)]===i[a(256)]?r[a(279)]:null,y=i.KQNeW(r[a(314)],"petals")?r.petals:[],g=r.kind===i[a(299)]?(u[a(300)]??[])[a(268)](C=>C.id===r.stencilId)??null:null,D=i.gIODg(r.kind,i[a(271)])||i.TtAhr(r[a(314)],i.xbmuP)||i.VhLim(r.kind,a(287))||r.kind==="petals"?r[a(309)]:null,b=i.DexAW($.useMemo,()=>{const C=a;if(r.kind===C(310)){const j=(u[C(312)]??[]).find(L=>L.id===r[C(272)]);if(j)return new Set(j.flowerIds)}if(i.gIODg(r.kind,C(282)))return new Set(r.flowerIds);if(i[C(304)](r[C(314)],i[C(271)])||r[C(314)]===i.xbmuP||i.ofvJH(r[C(314)],"petal")||r.kind==="petals"){const j=ha(u,r[C(309)]);if(j)return r.kind===i.ALhVm?i[C(273)](C(257),"Smqja")?new Set(j[C(284)].filter(L=>L!==r[C(309)])):(_0x21d6b5[C(306)]??[]).find(L=>L.id===_0x418ee8.leafId)??null:new Set(j.flowerIds)}return new Set},[r,u]),N=$.useMemo(()=>{const C=a;if(i[C(286)](i[C(303)],"CtgFy"))return SgSseR[C(283)](_0x27f1ab.kind,"flower")||_0x32ada3[C(314)]==="layer"||SgSseR[C(261)](_0xcc5be[C(314)],C(287))||_0x1718f0.kind===C(269)?_0x15e497.flowers.find(j=>j.id===_0x584b77.flowerId)??null:null;if(r.kind===C(308)){const j=(u[C(266)]??[])[C(268)](L=>L.id===r.leafGroupId);if(j)return new Set(j[C(285)])}if(i.VhLim(r[C(314)],C(313))){const j=Zu(u,r.leafId);if(j)return new Set(j.leafIds.filter(L=>L!==r[C(270)]))}return new Set},[r,u]);return{selectedFlower:f,selectedFlowers:o,selectedLeaf:m,selectedLeafGroup:p,selectedLayer:h,selectedPetalIndex:d,selectedPetals:y,selectedStencil:g,selectedFlowerId:D,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:N}}function ub(u){const{project:r,selection:a,setSelection:i,applyUpdate:f}=u,o=$.useMemo(()=>new Map((r.palette||[]).map(fe=>[fe.id,fe])),[r.palette]),{widths:m,containerRef:p,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:y,isDesktop:g}=Fm(),D=$.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[b,N]=$.useState({});$.useEffect(()=>{try{const ye=localStorage.getItem(D);if(ye){const Ue=JSON.parse(ye);if(Ue&&typeof Ue=="object"){N(Ue);return}}}catch{}const fe=r.flowers?.[0];fe&&N({[fe.id]:!0})},[D]),$.useEffect(()=>{try{localStorage.setItem(D,JSON.stringify(b))}catch{}},[D,b]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const fe=a.flowerId;N(ye=>ye?.[fe]?ye:{...ye,[fe]:!0})}a.kind==="flowers"&&N(fe=>{const ye={...fe};for(const Ue of a.flowerIds)ye[Ue]=!0;return ye})},[a]);const C=fe=>b?.[fe]??!1,j=fe=>N(ye=>({...ye,[fe]:!(ye?.[fe]??!1)})),L=$.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[k,R]=$.useState({});$.useEffect(()=>{try{const ye=localStorage.getItem(L);if(ye){const Ue=JSON.parse(ye);if(Ue&&typeof Ue=="object"){R(Ue);return}}}catch{}const fe=r.groups??[];if(fe.length>0){const ye={};for(const Ue of fe)ye[Ue.id]=!0;R(ye)}},[L]),$.useEffect(()=>{try{localStorage.setItem(L,JSON.stringify(k))}catch{}},[L,k]);const G=fe=>k?.[fe]??!0,U=fe=>R(ye=>({...ye,[fe]:!(ye?.[fe]??!0)})),W=$.useRef({flowerId:null,timer:null}),E=fe=>{const ye=W.current.timer;ye&&window.clearTimeout(ye),W.current.flowerId=fe,W.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:fe}),N(Ue=>({...Ue,[fe]:!0})),W.current.timer=null,W.current.flowerId=null},200)},V=fe=>{const ye=W.current.timer;ye&&W.current.flowerId===fe&&window.clearTimeout(ye),W.current.timer=null,W.current.flowerId=null,i({kind:"flower",flowerId:fe}),j(fe)},F=$.useRef(null),[Q,X]=$.useState({w:520,h:520});$.useEffect(()=>{const fe=F.current;if(!fe)return;const ye=new ResizeObserver(Ue=>{for(const Vt of Ue){const{width:pt,height:cn}=Vt.contentRect;pt>0&&cn>0&&X({w:pt,h:cn})}});return ye.observe(fe),()=>ye.disconnect()},[]);const _=fe=>{const ye=F.current;if(!ye)return{x:0,y:0};const Ue=ye.createSVGPoint();Ue.x=fe.clientX,Ue.y=fe.clientY;const Vt=ye.getScreenCTM();if(!Vt)return{x:0,y:0};const pt=Ue.matrixTransform(Vt.inverse());return{x:pt.x,y:pt.y}},S=500*rn,A=-300*rn,M=800*rn,w=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[B,H]=$.useState(6),[Y,O]=$.useState(w[6]),z=$.useCallback(fe=>{H(ye=>{const Ue=typeof fe=="function"?fe(ye):fe;return O(w[Ue]),Ue})},[w]),q=$.useCallback(fe=>{const ye=we(fe,w[0],w[w.length-1]);O(ye);let Ue=0,Vt=Math.abs(w[0]-ye);for(let pt=1;pt<w.length;pt++){const cn=Math.abs(w[pt]-ye);cn<Vt&&(Ue=pt,Vt=cn)}H(Ue)},[w]),[I,Z]=$.useState({x:0,y:0}),[le,xe]=$.useState(!0),[de,oe]=$.useState(!1),pe=$.useRef(null),Me=$.useMemo(()=>{const fe=Q.w/Q.h,ye=520,Ue=ye*fe;return(Vt,pt=Y)=>{const cn=we(Vt.x,-(M*pt-Ue),-A*pt),ci=we(Vt.y,-(M*pt-ye),-A*pt);return{x:cn,y:ci}}},[Q,Y,A,M]),he=$.useMemo(()=>Me(I),[I,Me]),Ie=$.useCallback(fe=>Z(fe),[]),ct=$.useMemo(()=>{const fe=Q.w/Q.h,ye=520,Ue=ye*fe,Vt=-he.x/Y,pt=-he.y/Y;return`${Vt} ${pt} ${Ue/Y} ${ye/Y}`},[Y,he,Q]),{addLeaf:dt,deleteLeafById:st,handleShiftLeafSelect:Nt,groupSelectedLeaves:Lt,ungroupLeaves:Et,addLeafToGroup:ht,removeLeafFromGroup:It}=nb({project:r,applyUpdate:f,selection:a,setSelection:i,zoom:Y,pan:he,stageSize:Q,CANVAS_MAX_SVG:S}),{showAddFlowerDialog:un,setShowAddFlowerDialog:Kn,addFlowerOpts:Xn,setAddFlowerOpts:Xe,addFlower:pn,confirmAddFlower:yl}=ab({project:r,applyUpdate:f,setSelection:i,setExpandedFlowers:N,zoom:Y,pan:he,stageSize:Q,CANVAS_MAX_SVG:S}),{selectedFlower:Kl,selectedFlowers:Gn,selectedLeaf:ba,selectedLeafGroup:kn,selectedLayer:ui,selectedPetalIndex:Xl,selectedPetals:$n,selectedStencil:Bt,selectedFlowerId:Ve,groupHighlightedFlowerIds:ce,leafGroupHighlightedLeafIds:Ee}=rb(r,a),{deleteFlowerById:Be,deleteLayerById:Se,addOuterLayer:ge,deleteOuterLayer:Ne,deleteSelected:ze,groupSelectedFlowers:ve,ungroupFlowers:Je,addToGroup:Oe,mergeGroups:We,addStencil:Qe,deleteStencil:Ae,handleShiftFlowerSelect:vt,togglePetalSelection:Fe}=eb({project:r,applyUpdate:f,selection:a,setSelection:i,setExpandedFlowers:N,setExpandedGroups:R,zoom:Y,pan:he,stageSize:Q,CANVAS_MAX_SVG:S,deleteLeafById:st,ungroupLeaves:Et}),je=am({project:r,selection:a,setSelection:i,applyUpdate:f,dragRef:u.dragRef,zoom:Y,pan:he,setPan:Ie,stageRef:F,clientToSvgPoint:_,togglePetalSelection:Fe}),[$e,et]=$.useState(0),tt=a.kind,_n=tt==="flower"?a.flowerId:null,va=tt==="flowers"?a.flowerIds?.join(","):null,Vl=tt==="layer"||tt==="petal"?a.layerId:null,Sn=tt==="petal"?a.index:null,Mt=tt==="petals"?a.petals?.length:null;$.useEffect(()=>{tt!=="project"&&et(Date.now())},[tt,_n,va,Vl,Sn,Mt]),$.useEffect(()=>{if(!pe.current)return;const fe=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!fe)return;const ye=pe.current.querySelector(`[data-flower-id="${fe}"]`);ye&&ye.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Yt=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[$e]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:p,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:g?{width:`${m.left}%`}:void 0,children:s.jsx(rm,{project:r,selection:a,setSelection:i,expandedFlowers:b,setExpandedFlowers:N,isExpanded:C,toggleExpanded:j,scheduleFlowerRowClick:E,handleFlowerRowDoubleClick:V,addFlower:pn,deleteSelected:ze,addOuterLayer:ge,deleteOuterLayer:Ne,deleteFlowerById:Be,deleteLayerById:Se,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:pe,groups:r.groups??[],expandedGroups:k,isGroupExpanded:G,toggleGroupExpanded:U,onSelectGroup:fe=>i({kind:"group",groupId:fe}),onUngroupFlowers:Je,leaves:r.leaves??[],leafGroups:r.leafGroups??[],onSelectLeaf:fe=>i({kind:"leaf",leafId:fe}),onSelectLeafGroup:fe=>i({kind:"leafGroup",leafGroupId:fe}),onAddLeaf:dt,onDeleteLeaf:st})}),s.jsx(Yd,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:y}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Tm,{project:r,selection:a,setSelection:i,applyUpdate:f,paletteMap:o,selectedFlowerId:Ve,zoom:Y,setZoom:q,zoomLevel:B,setZoomLevel:z,ZOOM_LEVELS:w,pan:he,panRaw:I,setPan:Ie,showGrid:le,setShowGrid:xe,showHelp:de,setShowHelp:oe,stageRef:F,viewBox:ct,dashSyncToken:$e,dashDelay:Yt,beginPan:je.beginPan,updatePan:je.updatePan,endPan:je.endPan,beginMarquee:je.beginMarquee,updateMarquee:je.updateMarquee,endMarquee:je.endMarquee,marqueeRef:je.marqueeRef,marqueeRect:je.marqueeRect,beginFlowerDrag:je.beginFlowerDrag,updateFlowerDrag:je.updateFlowerDrag,endFlowerDrag:je.endFlowerDrag,scaleDragRef:je.scaleDragRef,beginScaleDrag:je.beginScaleDrag,updateScaleDrag:je.updateScaleDrag,endScaleDrag:je.endScaleDrag,rotationDragRef:je.rotationDragRef,beginRotationDrag:je.beginRotationDrag,updateRotationDrag:je.updateRotationDrag,endRotationDrag:je.endRotationDrag,widthScaleDragRef:je.widthScaleDragRef,beginWidthScaleDrag:je.beginWidthScaleDrag,updateWidthScaleDrag:je.updateWidthScaleDrag,endWidthScaleDrag:je.endWidthScaleDrag,radiusDragRef:je.radiusDragRef,beginRadiusDrag:je.beginRadiusDrag,updateRadiusDrag:je.updateRadiusDrag,endRadiusDrag:je.endRadiusDrag,togglePetalSelection:Fe,clientToSvgPoint:_,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:Qe,onDeleteStencil:Ae,onSelectStencil:fe=>i({kind:"stencil",stencilId:fe}),handleShiftFlowerSelect:vt,groupHighlightedFlowerIds:ce,leaves:r.leaves??[],leafGroups:r.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Ee,onSelectLeaf:fe=>i({kind:"leaf",leafId:fe}),onShiftSelectLeaf:Nt})}),s.jsx(Yd,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:y}),s.jsx("div",{className:"min-w-0 shrink-0",style:g?{width:`${m.right}%`}:void 0,children:s.jsx(Xm,{project:r,selection:a,applyUpdate:f,selectedFlower:Kl,selectedFlowers:Gn,selectedLayer:ui,selectedPetalIndex:Xl,selectedPetals:$n,selectedStencil:Bt,onDeleteStencil:Ae,groups:r.groups??[],onGroupFlowers:ve,onUngroupFlowers:Je,onAddToGroup:Oe,onMergeGroups:We,selectedLeaf:ba,selectedLeafGroup:kn,leafGroups:r.leafGroups??[],onDeleteLeaf:st,onGroupLeaves:Lt,onUngroupLeaves:Et,onAddLeafToGroup:ht,onRemoveLeafFromGroup:It})})]}),un&&s.jsx(Wm,{palette:r.palette,addFlowerOpts:Xn,setAddFlowerOpts:Xe,onConfirm:yl,onCancel:()=>Kn(!1)}),de&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:fe=>fe.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([fe,ye])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:fe}),s.jsx("td",{className:"py-2 text-neutral-700",children:ye})]},fe))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function cb({cg:u}){const[r,a]=$.useState("w"),[i,f]=$.useState(""),o=u.totalAreaCm2,m=parseFloat(i),h=i!==""&&Number.isFinite(m)&&m>0?Math.round(o/m*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(d=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",o,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>f(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>f(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function sb(u){const{recipe:r}=u;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(cb,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function xb(u){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function ob(u){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function fb(u){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function db(){const[u,r]=$.useState("home"),[a,i]=$.useState([]),[f,o]=$.useState(null),[m,p]=$.useState({kind:"project"}),[h,d]=$.useState([]),[y,g]=$.useState(0),D=$.useRef(f),b=$.useRef(h),N=$.useRef(y);$.useEffect(()=>{D.current=f},[f]),$.useEffect(()=>{b.current=h},[h]),$.useEffect(()=>{N.current=y},[y]);const C=$.useRef(null),j=$.useRef(null),L=$.useRef(null),k=$.useRef(null),[R,G]=$.useState(null);$.useEffect(()=>{const O=R?window.setTimeout(()=>G(null),2200):null;return()=>{O&&window.clearTimeout(O)}},[R]),$.useEffect(()=>{i(nr())},[]);function U(O){const z=JSON.stringify(O);d([z]),g(0)}function W(O,z=!0){if(!z){o(Me=>{if(!Me)return Me;const he=Ul(Me);return O(he),he.updatedAt=wu(),he});return}const q=D.current;if(!q)return;const I=Ul(q);O(I),I.updatedAt=wu(),o(I);const Z=b.current,le=N.current;if(Z.length===0){U(I);return}const xe=JSON.stringify(I);let oe=[...Z.slice(0,le+1),xe];const pe=50;oe.length>pe&&(oe=oe.slice(oe.length-pe)),d(oe),g(oe.length-1)}function E(){g(O=>{if(O<=0)return O;const z=O-1,q=b.current[z];return q&&o(da(JSON.parse(q))),G("Undo"),z})}function V(){g(O=>{if(O>=b.current.length-1)return O;const z=O+1,q=b.current[z];return q&&o(da(JSON.parse(q))),G("Redo"),z})}function F(){if(!f)return;const O=Hh(f);i(nr()),G(O?"Saved":" ")}function Q(){if(!f)return;const O=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),z=URL.createObjectURL(O),q=document.createElement("a");q.href=z,q.download=`${f.title||"tsumami"}.json`,q.click(),URL.revokeObjectURL(z),G("JSON exported")}function X(O){const z=new FileReader;z.onload=()=>{try{const q=JSON.parse(String(z.result??""));if(!q||typeof q!="object"||!Array.isArray(q.flowers))throw new Error("Invalid JSON");const I=da(q);o(I),p({kind:"project"}),U(I),r("editor"),G("Imported")}catch{G("Import failed")}},z.readAsText(O)}function _(O){const z=da(O);o(z),p({kind:"project"}),U(z),r("editor")}function S(O){return O&&(O.kind==="flower"||O.kind==="layer"||O.kind==="petal")?O.flowerId:null}function A(){if(!f)return;const O=S(m);if(!O)return;const z=f.flowers.find(q=>q.id===O);z&&(j.current=Ul(z),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:z},null,2)).catch(()=>{}),G("Flower copied"))}function M(){if(!f||m.kind!=="leaf")return;const O=(f.leaves??[]).find(z=>z.id===m.leafId);O&&(L.current=Ul(O),G("Leaf copied"))}function w(){if(!f)return;const O=j.current;if(!O){G("Nothing to paste");return}const z=qh(O,{x:12+Math.random()*10,y:12+Math.random()*10});W(q=>{q.flowers.push(z)},!0),p({kind:"flower",flowerId:z.id}),G("Flower pasted")}function B(){if(!f)return;const O=L.current;if(!O)return;const z=Ot("leaf"),q={...Ul(O),id:z,name:O.name+" (copy)",position:{x:O.position.x+30,y:O.position.y+30}};W(I=>{I.leaves||(I.leaves=[]),I.leaves.push(q)},!0),p({kind:"leaf",leafId:q.id}),G("Leaf pasted")}function H(O){if(!f)return;const z=S(m);z&&(W(q=>{const I=q.flowers.findIndex(de=>de.id===z);if(I<0)return;const Z=q.flowers,le=Z[I];if(!le)return;if(Z.splice(I,1),O==="front"){Z.push(le);return}if(O==="back"){Z.unshift(le);return}if(O==="forward"){if(I>=Z.length){Z.push(le);return}Z.splice(I+1,0,le);return}const xe=we(I-1,0,Z.length);Z.splice(xe,0,le)},!0),G(O==="front"?"Brought to front":O==="back"?"Sent to back":O==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function O(q){const I=q;if(!I)return!1;const Z=String(I.tagName||"").toLowerCase();return Z==="input"||Z==="textarea"||Z==="select"||!!I.isContentEditable}function z(q){if(!(O(q.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?q.metaKey:q.ctrlKey))){if(u==="editor"){if(q.key.toLowerCase()==="c"){q.preventDefault(),m.kind==="leaf"?M():A();return}if(q.key.toLowerCase()==="v"){q.preventDefault(),L.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="leafGroup"||!j.current)?B():w();return}}q.key.toLowerCase()==="z"&&(q.preventDefault(),q.shiftKey?V():E()),q.key.toLowerCase()==="s"&&(q.preventDefault(),F())}}return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[f,h,y,m,u]);const Y=$.useMemo(()=>f?Uh(f):null,[f]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(Jh,{view:u,onNavigate:r,project:f,onSave:F,onLoad:()=>r("home"),onImportJson:()=>k.current?.click(),onExportJson:Q,onExportSvg:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&f&&Kh(O,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&f&&Xh(O,`${f.title||"tsumami"}.png`)}}),s.jsx("input",{ref:k,type:"file",accept:"application/json",className:"hidden",onChange:O=>{const z=O.target.files?.[0];z&&X(z),O.currentTarget.value=""}}),R&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:R}),s.jsxs("main",{className:"flex-1",children:[u==="home"&&s.jsx(Wh,{saved:a,onNew:()=>r("new"),onOpen:O=>{const z=da(Ul(O));o(z),p({kind:"project"}),U(z),r("editor")},onDelete:O=>{Ih(O),i(nr()),G("Deleted")}}),u==="new"&&s.jsx(Qh,{onBack:()=>r("home"),onCreate:O=>{const z=Bh({title:O});_(z)}}),u==="editor"&&f&&s.jsx(ub,{project:f,selection:m,setSelection:p,applyUpdate:W,onGoRecipe:()=>r("recipe"),onImport:X,dragRef:C,onCopyFlower:A,onPasteFlower:w,onArrangeFlower:H,canPasteFlower:!!j.current,onUndo:E,onRedo:V,canUndo:y>0,canRedo:y<h.length-1}),u==="recipe"&&f&&Y&&s.jsx(sb,{project:f,recipe:Y,onBack:()=>r("editor"),onExportJson:Q}),u==="terms"&&s.jsx(xb,{onBack:()=>r("home")}),u==="privacy"&&s.jsx(ob,{onBack:()=>r("home")}),(u==="editor"||u==="recipe")&&!f&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&s.jsx(fb,{onNavigate:r})]})}class hb extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}gh.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(hb,{children:s.jsx(db,{})})}));

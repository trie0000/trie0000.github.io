(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const o of f)if(o.type==="childList")for(const v of o.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function a(f){const o={};return f.integrity&&(o.integrity=f.integrity),f.referrerPolicy&&(o.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?o.credentials="include":f.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(f){if(f.ep)return;f.ep=!0;const o=a(f);fetch(f.href,o)}})();var as={exports:{}},er={};var Dd;function hh(){if(Dd)return er;Dd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,f,o){var v=null;if(o!==void 0&&(v=""+o),f.key!==void 0&&(v=""+f.key),"key"in f){o={};for(var S in f)S!=="key"&&(o[S]=f[S])}else o=f;return f=o.ref,{$$typeof:c,type:i,key:v,ref:f!==void 0?f:null,props:o}}return er.Fragment=r,er.jsx=a,er.jsxs=a,er}var Nd;function mh(){return Nd||(Nd=1,as.exports=hh()),as.exports}var s=mh(),is={exports:{}},De={};var Ad;function bh(){if(Ad)return De;Ad=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),_=Symbol.iterator;function M(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,d={};function E(j,B,Z){this.props=j,this.context=B,this.refs=d,this.updater=Z||z}E.prototype.isReactComponent={},E.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=E.prototype;function G(j,B,Z){this.props=j,this.context=B,this.refs=d,this.updater=Z||z}var Y=G.prototype=new R;Y.constructor=G,b(Y,E.prototype),Y.isPureReactComponent=!0;var U=Array.isArray;function N(){}var O={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function Q(j,B,Z){var H=Z.ref;return{$$typeof:c,type:j,key:B,ref:H!==void 0?H:null,props:Z}}function K(j,B){return Q(j.type,B,j.props)}function ee(j){return typeof j=="object"&&j!==null&&j.$$typeof===c}function I(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Z){return B[Z]})}var X=/\/+/g;function C(j,B){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):B.toString(36)}function g(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(N,N):(j.status="pending",j.then(function(B){j.status==="pending"&&(j.status="fulfilled",j.value=B)},function(B){j.status==="pending"&&(j.status="rejected",j.reason=B)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function D(j,B,Z,H,P){var te=typeof j;(te==="undefined"||te==="boolean")&&(j=null);var se=!1;if(j===null)se=!0;else switch(te){case"bigint":case"string":case"number":se=!0;break;case"object":switch(j.$$typeof){case c:case r:se=!0;break;case y:return se=j._init,D(se(j._payload),B,Z,H,P)}}if(se)return P=P(j),se=H===""?"."+C(j,0):H,U(P)?(Z="",se!=null&&(Z=se.replace(X,"$&/")+"/"),D(P,B,Z,"",function(ve){return ve})):P!=null&&(ee(P)&&(P=K(P,Z+(P.key==null||j&&j.key===P.key?"":(""+P.key).replace(X,"$&/")+"/")+se)),B.push(P)),1;se=0;var oe=H===""?".":H+":";if(U(j))for(var me=0;me<j.length;me++)H=j[me],te=oe+C(H,me),se+=D(H,B,Z,te,P);else if(me=M(j),typeof me=="function")for(j=me.call(j),me=0;!(H=j.next()).done;)H=H.value,te=oe+C(H,me++),se+=D(H,B,Z,te,P);else if(te==="object"){if(typeof j.then=="function")return D(g(j),B,Z,H,P);throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return se}function q(j,B,Z){if(j==null)return j;var H=[],P=0;return D(j,H,"","",function(te){return B.call(Z,te,P++)}),H}function L(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(Z){(j._status===0||j._status===-1)&&(j._status=1,j._result=Z)},function(Z){(j._status===0||j._status===-1)&&(j._status=2,j._result=Z)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var k=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},T={map:q,forEach:function(j,B,Z){q(j,function(){B.apply(this,arguments)},Z)},count:function(j){var B=0;return q(j,function(){B++}),B},toArray:function(j){return q(j,function(B){return B})||[]},only:function(j){if(!ee(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return De.Activity=p,De.Children=T,De.Component=E,De.Fragment=a,De.Profiler=f,De.PureComponent=G,De.StrictMode=i,De.Suspense=h,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,De.__COMPILER_RUNTIME={__proto__:null,c:function(j){return O.H.useMemoCache(j)}},De.cache=function(j){return function(){return j.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(j,B,Z){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var H=b({},j.props),P=j.key;if(B!=null)for(te in B.key!==void 0&&(P=""+B.key),B)!W.call(B,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&B.ref===void 0||(H[te]=B[te]);var te=arguments.length-2;if(te===1)H.children=Z;else if(1<te){for(var se=Array(te),oe=0;oe<te;oe++)se[oe]=arguments[oe+2];H.children=se}return Q(j.type,P,H)},De.createContext=function(j){return j={$$typeof:v,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},De.createElement=function(j,B,Z){var H,P={},te=null;if(B!=null)for(H in B.key!==void 0&&(te=""+B.key),B)W.call(B,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(P[H]=B[H]);var se=arguments.length-2;if(se===1)P.children=Z;else if(1<se){for(var oe=Array(se),me=0;me<se;me++)oe[me]=arguments[me+2];P.children=oe}if(j&&j.defaultProps)for(H in se=j.defaultProps,se)P[H]===void 0&&(P[H]=se[H]);return Q(j,te,P)},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:S,render:j}},De.isValidElement=ee,De.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:L}},De.memo=function(j,B){return{$$typeof:m,type:j,compare:B===void 0?null:B}},De.startTransition=function(j){var B=O.T,Z={};O.T=Z;try{var H=j(),P=O.S;P!==null&&P(Z,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(N,k)}catch(te){k(te)}finally{B!==null&&Z.types!==null&&(B.types=Z.types),O.T=B}},De.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},De.use=function(j){return O.H.use(j)},De.useActionState=function(j,B,Z){return O.H.useActionState(j,B,Z)},De.useCallback=function(j,B){return O.H.useCallback(j,B)},De.useContext=function(j){return O.H.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j,B){return O.H.useDeferredValue(j,B)},De.useEffect=function(j,B){return O.H.useEffect(j,B)},De.useEffectEvent=function(j){return O.H.useEffectEvent(j)},De.useId=function(){return O.H.useId()},De.useImperativeHandle=function(j,B,Z){return O.H.useImperativeHandle(j,B,Z)},De.useInsertionEffect=function(j,B){return O.H.useInsertionEffect(j,B)},De.useLayoutEffect=function(j,B){return O.H.useLayoutEffect(j,B)},De.useMemo=function(j,B){return O.H.useMemo(j,B)},De.useOptimistic=function(j,B){return O.H.useOptimistic(j,B)},De.useReducer=function(j,B,Z){return O.H.useReducer(j,B,Z)},De.useRef=function(j){return O.H.useRef(j)},De.useState=function(j){return O.H.useState(j)},De.useSyncExternalStore=function(j,B,Z){return O.H.useSyncExternalStore(j,B,Z)},De.useTransition=function(){return O.H.useTransition()},De.version="19.2.3",De}var Td;function Is(){return Td||(Td=1,is.exports=bh()),is.exports}var $=Is(),rs={exports:{}},tr={},cs={exports:{}},us={};var Ld;function gh(){return Ld||(Ld=1,(function(c){function r(D,q){var L=D.length;D.push(q);e:for(;0<L;){var k=L-1>>>1,T=D[k];if(0<f(T,q))D[k]=q,D[L]=T,L=k;else break e}}function a(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var q=D[0],L=D.pop();if(L!==q){D[0]=L;e:for(var k=0,T=D.length,j=T>>>1;k<j;){var B=2*(k+1)-1,Z=D[B],H=B+1,P=D[H];if(0>f(Z,L))H<T&&0>f(P,Z)?(D[k]=P,D[H]=L,k=H):(D[k]=Z,D[B]=L,k=B);else if(H<T&&0>f(P,L))D[k]=P,D[H]=L,k=H;else break e}}return q}function f(D,q){var L=D.sortIndex-q.sortIndex;return L!==0?L:D.id-q.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var v=Date,S=v.now();c.unstable_now=function(){return v.now()-S}}var h=[],m=[],y=1,p=null,_=3,M=!1,z=!1,b=!1,d=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Y(D){for(var q=a(m);q!==null;){if(q.callback===null)i(m);else if(q.startTime<=D)i(m),q.sortIndex=q.expirationTime,r(h,q);else break;q=a(m)}}function U(D){if(b=!1,Y(D),!z)if(a(h)!==null)z=!0,N||(N=!0,I());else{var q=a(m);q!==null&&g(U,q.startTime-D)}}var N=!1,O=-1,W=5,Q=-1;function K(){return d?!0:!(c.unstable_now()-Q<W)}function ee(){if(d=!1,N){var D=c.unstable_now();Q=D;var q=!0;try{e:{z=!1,b&&(b=!1,R(O),O=-1),M=!0;var L=_;try{t:{for(Y(D),p=a(h);p!==null&&!(p.expirationTime>D&&K());){var k=p.callback;if(typeof k=="function"){p.callback=null,_=p.priorityLevel;var T=k(p.expirationTime<=D);if(D=c.unstable_now(),typeof T=="function"){p.callback=T,Y(D),q=!0;break t}p===a(h)&&i(h),Y(D)}else i(h);p=a(h)}if(p!==null)q=!0;else{var j=a(m);j!==null&&g(U,j.startTime-D),q=!1}}break e}finally{p=null,_=L,M=!1}q=void 0}}finally{q?I():N=!1}}}var I;if(typeof G=="function")I=function(){G(ee)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,C=X.port2;X.port1.onmessage=ee,I=function(){C.postMessage(null)}}else I=function(){E(ee,0)};function g(D,q){O=E(function(){D(c.unstable_now())},q)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(D){D.callback=null},c.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<D?Math.floor(1e3/D):5},c.unstable_getCurrentPriorityLevel=function(){return _},c.unstable_next=function(D){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var L=_;_=q;try{return D()}finally{_=L}},c.unstable_requestPaint=function(){d=!0},c.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var L=_;_=D;try{return q()}finally{_=L}},c.unstable_scheduleCallback=function(D,q,L){var k=c.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?k+L:k):L=k,D){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=L+T,D={id:y++,callback:q,priorityLevel:D,startTime:L,expirationTime:T,sortIndex:-1},L>k?(D.sortIndex=L,r(m,D),a(h)===null&&D===a(m)&&(b?(R(O),O=-1):b=!0,g(U,L-k))):(D.sortIndex=T,r(h,D),z||M||(z=!0,N||(N=!0,I()))),D},c.unstable_shouldYield=K,c.unstable_wrapCallback=function(D){var q=_;return function(){var L=_;_=q;try{return D.apply(this,arguments)}finally{_=L}}}})(us)),us}var Ed;function vh(){return Ed||(Ed=1,cs.exports=gh()),cs.exports}var ss={exports:{}},Xt={};var Bd;function yh(){if(Bd)return Xt;Bd=1;var c=Is();function r(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function o(h,m,y){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:p==null?null:""+p,children:h,containerInfo:m,implementation:y}}var v=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xt.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return o(h,m,null,y)},Xt.flushSync=function(h){var m=v.T,y=i.p;try{if(v.T=null,i.p=2,h)return h()}finally{v.T=m,i.p=y,i.d.f()}},Xt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Xt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Xt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,p=S(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,M=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:p,integrity:_,fetchPriority:M}):y==="script"&&i.d.X(h,{crossOrigin:p,integrity:_,fetchPriority:M,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Xt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=S(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Xt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,p=S(y,m.crossOrigin);i.d.L(h,y,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Xt.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=S(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Xt.requestFormReset=function(h){i.d.r(h)},Xt.unstable_batchedUpdates=function(h,m){return h(m)},Xt.useFormState=function(h,m,y){return v.H.useFormState(h,m,y)},Xt.useFormStatus=function(){return v.H.useHostTransitionStatus()},Xt.version="19.2.3",Xt}var qd;function ph(){if(qd)return ss.exports;qd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),ss.exports=yh(),ss.exports}var kd;function _h(){if(kd)return tr;kd=1;var c=vh(),r=Is(),a=ph();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(i(188))}function m(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var x=u.alternate;if(x===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===x.child){for(x=u.child;x;){if(x===n)return h(u),e;if(x===l)return h(u),t;x=x.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=x;else{for(var w=!1,A=u.child;A;){if(A===n){w=!0,n=u,l=x;break}if(A===l){w=!0,l=u,n=x;break}A=A.sibling}if(!w){for(A=x.child;A;){if(A===n){w=!0,n=x,l=u;break}if(A===l){w=!0,l=x,n=u;break}A=A.sibling}if(!w)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),G=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function C(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case E:return"Profiler";case d:return"StrictMode";case U:return"Suspense";case N:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case G:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return t=e.displayName||null,t!==null?t:C(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return C(e(t))}catch{}}return null}var g=Array.isArray,D=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},k=[],T=-1;function j(e){return{current:e}}function B(e){0>T||(e.current=k[T],k[T]=null,T--)}function Z(e,t){T++,k[T]=e.current,e.current=t}var H=j(null),P=j(null),te=j(null),se=j(null);function oe(e,t){switch(Z(te,t),Z(P,e),Z(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Pf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Pf(t),e=Ff(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(H),Z(H,e)}function me(){B(H),B(P),B(te)}function ve(e){e.memoizedState!==null&&Z(se,e);var t=H.current,n=Ff(t,e.type);t!==n&&(Z(P,e),Z(H,n))}function de(e){P.current===e&&(B(H),B(P)),se.current===e&&(B(se),Wi._currentValue=L)}var Ne,He;function Xe(e){if(Ne===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ne=t&&t[1]||"",He=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+e+He}var Pe=!1;function mt(e,t){if(!e||Pe)return"";Pe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var ae=ie}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ie){ae=ie}e.call(ue.prototype)}}else{try{throw Error()}catch(ie){ae=ie}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&ae&&typeof ie.stack=="string")return[ie.stack,ae.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),w=x[0],A=x[1];if(w&&A){var V=w.split(`
`),le=A.split(`
`);for(u=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;u<le.length&&!le[u].includes("DetermineComponentFrameRoot");)u++;if(l===V.length||u===le.length)for(l=V.length-1,u=le.length-1;1<=l&&0<=u&&V[l]!==le[u];)u--;for(;1<=l&&0<=u;l--,u--)if(V[l]!==le[u]){if(l!==1||u!==1)do if(l--,u--,0>u||V[l]!==le[u]){var re=`
`+V[l].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=l&&0<=u);break}}}finally{Pe=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Xe(n):""}function pt(e,t){switch(e.tag){case 26:case 27:case 5:return Xe(e.type);case 16:return Xe("Lazy");case 13:return e.child!==t&&t!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return mt(e.type,!1);case 11:return mt(e.type.render,!1);case 1:return mt(e.type,!0);case 31:return Xe("Activity");default:return""}}function wt(e){try{var t="",n=null;do t+=pt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Zt=c.unstable_scheduleCallback,un=c.unstable_cancelCallback,Xn=c.unstable_shouldYield,Vn=c.unstable_requestPaint,Fe=c.unstable_now,yn=c.unstable_getCurrentPriorityLevel,jl=c.unstable_ImmediatePriority,al=c.unstable_UserBlockingPriority,il=c.unstable_NormalPriority,zl=c.unstable_LowPriority,la=c.unstable_IdlePriority,Jn=c.log,oi=c.unstable_setDisableYieldValue,kn=null,It=null;function pn(e){if(typeof Jn=="function"&&oi(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(kn,e)}catch{}}var Ge=Math.clz32?Math.clz32:qe,fe=Math.log,Be=Math.LN2;function qe(e){return e>>>=0,e===0?32:31-(fe(e)/Be|0)|0}var Se=256,pe=262144,Ae=4194304;function je(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,x=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~x,l!==0?u=je(l):(w&=A,w!==0?u=je(w):n||(n=A&~e,n!==0&&(u=je(n))))):(A=l&~x,A!==0?u=je(A):w!==0?u=je(w):n||(n=l&~e,n!==0&&(u=je(n)))),u===0?0:t!==0&&t!==u&&(t&x)===0&&(x=u&-u,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:u}function $e(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function et(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function Je(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rt(e,t,n,l,u,x){var w=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var A=e.entanglements,V=e.expirationTimes,le=e.hiddenUpdates;for(n=w&~n;0<n;){var re=31-Ge(n),ue=1<<re;A[re]=0,V[re]=-1;var ae=le[re];if(ae!==null)for(le[re]=null,re=0;re<ae.length;re++){var ie=ae[re];ie!==null&&(ie.lane&=-536870913)}n&=~ue}l!==0&&tt(e,l,0),x!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=x&~(w&~t))}function tt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ge(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function At(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Ge(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function rt(e,t){var n=t&-t;return n=(n&42)!==0?1:lt(n),(n&(e.suspendedLanes|t))!==0?0:n}function lt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _n(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:_d(e.type))}function wa(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}var Wt=Math.random().toString(36).slice(2),ze="__reactFiber$"+Wt,Gt="__reactProps$"+Wt,Dl="__reactContainer$"+Wt,Sn="__reactEvents$"+Wt,Q0="__reactListeners$"+Wt,W0="__reactHandles$"+Wt,fr="__reactResources$"+Wt,aa="__reactMarker$"+Wt;function fi(e){delete e[ze],delete e[Gt],delete e[Sn],delete e[Q0],delete e[W0]}function Nl(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dl]||n[ze]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=id(e);e!==null;){if(n=e[ze])return n;e=id(e)}return t}e=n,n=e.parentNode}return null}function he(e){if(e=e[ze]||e[Dl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _e(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function ke(e){var t=e[fr];return t||(t=e[fr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[aa]=!0}var Ct=new Set,Qn={};function rl(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Qn[e]=t,e=0;e<t.length;e++)Ct.add(t[e])}var i1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gs={},Ys={};function r1(e){return bt.call(Ys,e)?!0:bt.call(Gs,e)?!1:i1.test(e)?Ys[e]=!0:(Gs[e]=!0,!1)}function dr(e,t,n){if(r1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function cl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function wn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Os(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(w){n=""+w,x.call(this,w)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(w){n=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P0(e){if(!e._valueTracker){var t=Os(e)?"checked":"value";e._valueTracker=c1(e,t,""+e[t])}}function Hs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Os(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function mr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var u1=/[\n"\\]/g;function Cn(e){return e.replace(u1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function F0(e,t,n,l,u,x,w,A){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),t!=null?w==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wn(t)):e.value!==""+wn(t)&&(e.value=""+wn(t)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),t!=null?$0(e,w,wn(t)):n!=null?$0(e,w,wn(n)):l!=null&&e.removeAttribute("value"),u==null&&x!=null&&(e.defaultChecked=!!x),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+wn(A):e.removeAttribute("name")}function Us(e,t,n,l,u,x,w,A){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){P0(e);return}n=n!=null?""+wn(n):"",t=t!=null?""+wn(t):n,A||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),P0(e)}function $0(e,t,n){t==="number"&&mr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+wn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Ks(e,t,n){if(t!=null&&(t=""+wn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+wn(n):""}function Zs(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(g(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=wn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),P0(e)}function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var s1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xs(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||s1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vs(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Xs(e,u,l)}else for(var x in t)t.hasOwnProperty(x)&&Xs(e,x,t[x])}function ec(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),o1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(e){return o1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ul(){}var tc=null;function nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var za=null,Da=null;function Js(e){var t=he(e);if(t&&(e=t.stateNode)){var n=e[Gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(F0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Gt]||null;if(!u)throw Error(i(90));F0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Hs(l)}break e;case"textarea":Ks(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var lc=!1;function Qs(e,t,n){if(lc)return e(t,n);lc=!0;try{var l=e(t);return l}finally{if(lc=!1,(za!==null||Da!==null)&&(l0(),za&&(t=za,e=Da,Da=za=null,Js(t),e)))for(t=0;t<e.length;t++)Js(e[t])}}function di(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Gt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var sl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=!1;if(sl)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){ac=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{ac=!1}var Al=null,ic=null,gr=null;function Ws(){if(gr)return gr;var e,t=ic,n=t.length,l,u="value"in Al?Al.value:Al.textContent,x=u.length;for(e=0;e<n&&t[e]===u[e];e++);var w=n-e;for(l=1;l<=w&&t[n-l]===u[x-l];l++);return gr=u.slice(e,1<l?1-l:void 0)}function vr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yr(){return!0}function Ps(){return!1}function Pt(e){function t(n,l,u,x,w){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(n=e[A],this[A]=n?n(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?yr:Ps,this.isPropagationStopped=Ps,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),t}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=Pt(ia),mi=p({},ia,{view:0,detail:0}),f1=Pt(mi),rc,cc,bi,_r=p({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(rc=e.screenX-bi.screenX,cc=e.screenY-bi.screenY):cc=rc=0,bi=e),rc)},movementY:function(e){return"movementY"in e?e.movementY:cc}}),Fs=Pt(_r),d1=p({},_r,{dataTransfer:0}),h1=Pt(d1),m1=p({},mi,{relatedTarget:0}),uc=Pt(m1),b1=p({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),g1=Pt(b1),v1=p({},ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y1=Pt(v1),p1=p({},ia,{data:0}),$s=Pt(p1),_1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w1[e])?!!t[e]:!1}function sc(){return C1}var M1=p({},mi,{key:function(e){if(e.key){var t=_1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?S1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j1=Pt(M1),z1=p({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ex=Pt(z1),D1=p({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),N1=Pt(D1),A1=p({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),T1=Pt(A1),L1=p({},_r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),E1=Pt(L1),B1=p({},ia,{newState:0,oldState:0}),q1=Pt(B1),k1=[9,13,27,32],xc=sl&&"CompositionEvent"in window,gi=null;sl&&"documentMode"in document&&(gi=document.documentMode);var I1=sl&&"TextEvent"in window&&!gi,tx=sl&&(!xc||gi&&8<gi&&11>=gi),nx=" ",lx=!1;function ax(e,t){switch(e){case"keyup":return k1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ix(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function R1(e,t){switch(e){case"compositionend":return ix(t);case"keypress":return t.which!==32?null:(lx=!0,nx);case"textInput":return e=t.data,e===nx&&lx?null:e;default:return null}}function G1(e,t){if(Na)return e==="compositionend"||!xc&&ax(e,t)?(e=Ws(),gr=ic=Al=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tx&&t.locale!=="ko"?null:t.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Y1[e.type]:t==="textarea"}function cx(e,t,n,l){za?Da?Da.push(l):Da=[l]:za=l,t=x0(t,"onChange"),0<t.length&&(n=new pr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var vi=null,yi=null;function O1(e){Zf(e,0)}function Sr(e){var t=_e(e);if(Hs(t))return e}function ux(e,t){if(e==="change")return t}var sx=!1;if(sl){var oc;if(sl){var fc="oninput"in document;if(!fc){var xx=document.createElement("div");xx.setAttribute("oninput","return;"),fc=typeof xx.oninput=="function"}oc=fc}else oc=!1;sx=oc&&(!document.documentMode||9<document.documentMode)}function ox(){vi&&(vi.detachEvent("onpropertychange",fx),yi=vi=null)}function fx(e){if(e.propertyName==="value"&&Sr(yi)){var t=[];cx(t,yi,e,nc(e)),Qs(O1,t)}}function H1(e,t,n){e==="focusin"?(ox(),vi=t,yi=n,vi.attachEvent("onpropertychange",fx)):e==="focusout"&&ox()}function U1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sr(yi)}function K1(e,t){if(e==="click")return Sr(t)}function Z1(e,t){if(e==="input"||e==="change")return Sr(t)}function X1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:X1;function pi(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!bt.call(t,u)||!sn(e[u],t[u]))return!1}return!0}function dx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hx(e,t){var n=dx(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dx(n)}}function mx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mr(e.document)}return t}function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var V1=sl&&"documentMode"in document&&11>=document.documentMode,Aa=null,hc=null,_i=null,mc=!1;function gx(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mc||Aa==null||Aa!==mr(l)||(l=Aa,"selectionStart"in l&&dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_i&&pi(_i,l)||(_i=l,l=x0(hc,"onSelect"),0<l.length&&(t=new pr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Aa)))}function ra(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ta={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},bc={},vx={};sl&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function ca(e){if(bc[e])return bc[e];if(!Ta[e])return e;var t=Ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vx)return bc[e]=t[n];return e}var yx=ca("animationend"),px=ca("animationiteration"),_x=ca("animationstart"),J1=ca("transitionrun"),Q1=ca("transitionstart"),W1=ca("transitioncancel"),Sx=ca("transitionend"),wx=new Map,gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gc.push("scrollEnd");function In(e,t){wx.set(e,t),rl(t,[e])}var wr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],La=0,vc=0;function Cr(){for(var e=La,t=vc=La=0;t<e;){var n=Mn[t];Mn[t++]=null;var l=Mn[t];Mn[t++]=null;var u=Mn[t];Mn[t++]=null;var x=Mn[t];if(Mn[t++]=null,l!==null&&u!==null){var w=l.pending;w===null?u.next=u:(u.next=w.next,w.next=u),l.pending=u}x!==0&&Cx(n,u,x)}}function Mr(e,t,n,l){Mn[La++]=e,Mn[La++]=t,Mn[La++]=n,Mn[La++]=l,vc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yc(e,t,n,l){return Mr(e,t,n,l),jr(e)}function ua(e,t){return Mr(e,null,null,t),jr(e)}function Cx(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(u=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,u&&t!==null&&(u=31-Ge(n),e=x.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),x):null}function jr(e){if(50<Ui)throw Ui=0,Du=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ea={};function P1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,l){return new P1(e,t,n,l)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xl(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,l,u,x){var w=0;if(l=e,typeof e=="function")pc(e)&&(w=1);else if(typeof e=="string")w=nh(e,n,H.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=xn(31,n,t,u),e.elementType=Q,e.lanes=x,e;case b:return sa(n.children,u,x,t);case d:w=8,u|=24;break;case E:return e=xn(12,n,t,u|2),e.elementType=E,e.lanes=x,e;case U:return e=xn(13,n,t,u),e.elementType=U,e.lanes=x,e;case N:return e=xn(19,n,t,u),e.elementType=N,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:w=10;break e;case R:w=9;break e;case Y:w=11;break e;case O:w=14;break e;case W:w=16,l=null;break e}w=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=xn(w,n,t,u),t.elementType=e,t.type=l,t.lanes=x,t}function sa(e,t,n,l){return e=xn(7,e,l,t),e.lanes=n,e}function _c(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function jx(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function Sc(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zx=new WeakMap;function jn(e,t){if(typeof e=="object"&&e!==null){var n=zx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:wt(t)},zx.set(e,t),t)}return{value:e,source:t,stack:wt(t)}}var Ba=[],qa=0,Dr=null,Si=0,zn=[],Dn=0,Tl=null,Wn=1,Pn="";function ol(e,t){Ba[qa++]=Si,Ba[qa++]=Dr,Dr=e,Si=t}function Dx(e,t,n){zn[Dn++]=Wn,zn[Dn++]=Pn,zn[Dn++]=Tl,Tl=e;var l=Wn;e=Pn;var u=32-Ge(l)-1;l&=~(1<<u),n+=1;var x=32-Ge(t)+u;if(30<x){var w=u-u%5;x=(l&(1<<w)-1).toString(32),l>>=w,u-=w,Wn=1<<32-Ge(t)+u|n<<u|l,Pn=x+e}else Wn=1<<x|n<<u|l,Pn=e}function wc(e){e.return!==null&&(ol(e,1),Dx(e,1,0))}function Cc(e){for(;e===Dr;)Dr=Ba[--qa],Ba[qa]=null,Si=Ba[--qa],Ba[qa]=null;for(;e===Tl;)Tl=zn[--Dn],zn[Dn]=null,Pn=zn[--Dn],zn[Dn]=null,Wn=zn[--Dn],zn[Dn]=null}function Nx(e,t){zn[Dn++]=Wn,zn[Dn++]=Pn,zn[Dn++]=Tl,Wn=t.id,Pn=t.overflow,Tl=e}var Yt=null,ft=null,Ue=!1,Ll=null,Nn=!1,Mc=Error(i(519));function El(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wi(jn(t,e)),Mc}function Ax(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ze]=e,t[Gt]=l,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<Zi.length;n++)Re(Zi[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Us(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Zs(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Qf(t.textContent,n)?(l.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),l.onScroll!=null&&Re("scroll",t),l.onScrollEnd!=null&&Re("scrollend",t),l.onClick!=null&&(t.onclick=ul),t=!0):t=!1,t||El(e,!0)}function Tx(e){for(Yt=e.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Yt=Yt.return}}function ka(e){if(e!==Yt)return!1;if(!Ue)return Tx(e),Ue=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Uu(e.type,e.memoizedProps)),n=!n),n&&ft&&El(e),Tx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ft=ad(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ft=ad(e)}else t===27?(t=ft,Vl(e.type)?(e=Ju,Ju=null,ft=e):ft=t):ft=Yt?Tn(e.stateNode.nextSibling):null;return!0}function xa(){ft=Yt=null,Ue=!1}function jc(){var e=Ll;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),Ll=null),e}function wi(e){Ll===null?Ll=[e]:Ll.push(e)}var zc=j(null),oa=null,fl=null;function Bl(e,t,n){Z(zc,t._currentValue),t._currentValue=n}function dl(e){e._currentValue=zc.current,B(zc)}function Dc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Nc(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var x=u.dependencies;if(x!==null){var w=u.child;x=x.firstContext;e:for(;x!==null;){var A=x;x=u;for(var V=0;V<t.length;V++)if(A.context===t[V]){x.lanes|=n,A=x.alternate,A!==null&&(A.lanes|=n),Dc(x.return,n,e),l||(w=null);break e}x=A.next}}else if(u.tag===18){if(w=u.return,w===null)throw Error(i(341));w.lanes|=n,x=w.alternate,x!==null&&(x.lanes|=n),Dc(w,n,e),w=null}else w=u.child;if(w!==null)w.return=u;else for(w=u;w!==null;){if(w===e){w=null;break}if(u=w.sibling,u!==null){u.return=w.return,w=u;break}w=w.return}u=w}}function Ia(e,t,n,l){e=null;for(var u=t,x=!1;u!==null;){if(!x){if((u.flags&524288)!==0)x=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var w=u.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var A=u.type;sn(u.pendingProps.value,w.value)||(e!==null?e.push(A):e=[A])}}else if(u===se.current){if(w=u.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Wi):e=[Wi])}u=u.return}e!==null&&Nc(t,e,n,l),t.flags|=262144}function Nr(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fa(e){oa=e,fl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return Lx(oa,e)}function Ar(e,t){return oa===null&&fa(e),Lx(e,t)}function Lx(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fl===null){if(e===null)throw Error(i(308));fl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fl=fl.next=t;return n}var F1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},$1=c.unstable_scheduleCallback,e2=c.unstable_NormalPriority,Mt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new F1,data:new Map,refCount:0}}function Ci(e){e.refCount--,e.refCount===0&&$1(e2,function(){e.controller.abort()})}var Mi=null,Tc=0,Ra=0,Ga=null;function t2(e,t){if(Mi===null){var n=Mi=[];Tc=0,Ra=Bu(),Ga={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Tc++,t.then(Ex,Ex),t}function Ex(){if(--Tc===0&&Mi!==null){Ga!==null&&(Ga.status="fulfilled");var e=Mi;Mi=null,Ra=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function n2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Bx=D.S;D.S=function(e,t){yf=Fe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&t2(e,t),Bx!==null&&Bx(e,t)};var da=j(null);function Lc(){var e=da.current;return e!==null?e:xt.pooledCache}function Tr(e,t){t===null?Z(da,da.current):Z(da,t.pool)}function qx(){var e=Lc();return e===null?null:{parent:Mt._currentValue,pool:e}}var Ya=Error(i(460)),Ec=Error(i(474)),Lr=Error(i(542)),Er={then:function(){}};function kx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ix(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ul,ul),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gx(e),e;default:if(typeof t.status=="string")t.then(ul,ul);else{if(e=xt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gx(e),e}throw ma=t,Ya}}function ha(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ma=n,Ya):n}}var ma=null;function Rx(){if(ma===null)throw Error(i(459));var e=ma;return ma=null,e}function Gx(e){if(e===Ya||e===Lr)throw Error(i(483))}var Oa=null,ji=0;function Br(e){var t=ji;return ji+=1,Oa===null&&(Oa=[]),Ix(Oa,e,t)}function zi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function qr(e,t){throw t.$$typeof===_?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yx(e){function t(F,J){if(e){var ne=F.deletions;ne===null?(F.deletions=[J],F.flags|=16):ne.push(J)}}function n(F,J){if(!e)return null;for(;J!==null;)t(F,J),J=J.sibling;return null}function l(F){for(var J=new Map;F!==null;)F.key!==null?J.set(F.key,F):J.set(F.index,F),F=F.sibling;return J}function u(F,J){return F=xl(F,J),F.index=0,F.sibling=null,F}function x(F,J,ne){return F.index=ne,e?(ne=F.alternate,ne!==null?(ne=ne.index,ne<J?(F.flags|=67108866,J):ne):(F.flags|=67108866,J)):(F.flags|=1048576,J)}function w(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function A(F,J,ne,ce){return J===null||J.tag!==6?(J=_c(ne,F.mode,ce),J.return=F,J):(J=u(J,ne),J.return=F,J)}function V(F,J,ne,ce){var Ce=ne.type;return Ce===b?re(F,J,ne.props.children,ce,ne.key):J!==null&&(J.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===W&&ha(Ce)===J.type)?(J=u(J,ne.props),zi(J,ne),J.return=F,J):(J=zr(ne.type,ne.key,ne.props,null,F.mode,ce),zi(J,ne),J.return=F,J)}function le(F,J,ne,ce){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=Sc(ne,F.mode,ce),J.return=F,J):(J=u(J,ne.children||[]),J.return=F,J)}function re(F,J,ne,ce,Ce){return J===null||J.tag!==7?(J=sa(ne,F.mode,ce,Ce),J.return=F,J):(J=u(J,ne),J.return=F,J)}function ue(F,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=_c(""+J,F.mode,ne),J.return=F,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return ne=zr(J.type,J.key,J.props,null,F.mode,ne),zi(ne,J),ne.return=F,ne;case z:return J=Sc(J,F.mode,ne),J.return=F,J;case W:return J=ha(J),ue(F,J,ne)}if(g(J)||I(J))return J=sa(J,F.mode,ne,null),J.return=F,J;if(typeof J.then=="function")return ue(F,Br(J),ne);if(J.$$typeof===G)return ue(F,Ar(F,J),ne);qr(F,J)}return null}function ae(F,J,ne,ce){var Ce=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ce!==null?null:A(F,J,""+ne,ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:return ne.key===Ce?V(F,J,ne,ce):null;case z:return ne.key===Ce?le(F,J,ne,ce):null;case W:return ne=ha(ne),ae(F,J,ne,ce)}if(g(ne)||I(ne))return Ce!==null?null:re(F,J,ne,ce,null);if(typeof ne.then=="function")return ae(F,J,Br(ne),ce);if(ne.$$typeof===G)return ae(F,J,Ar(F,ne),ce);qr(F,ne)}return null}function ie(F,J,ne,ce,Ce){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return F=F.get(ne)||null,A(J,F,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case M:return F=F.get(ce.key===null?ne:ce.key)||null,V(J,F,ce,Ce);case z:return F=F.get(ce.key===null?ne:ce.key)||null,le(J,F,ce,Ce);case W:return ce=ha(ce),ie(F,J,ne,ce,Ce)}if(g(ce)||I(ce))return F=F.get(ne)||null,re(J,F,ce,Ce,null);if(typeof ce.then=="function")return ie(F,J,ne,Br(ce),Ce);if(ce.$$typeof===G)return ie(F,J,ne,Ar(J,ce),Ce);qr(J,ce)}return null}function be(F,J,ne,ce){for(var Ce=null,Qe=null,ge=J,Ee=J=0,Oe=null;ge!==null&&Ee<ne.length;Ee++){ge.index>Ee?(Oe=ge,ge=null):Oe=ge.sibling;var We=ae(F,ge,ne[Ee],ce);if(We===null){ge===null&&(ge=Oe);break}e&&ge&&We.alternate===null&&t(F,ge),J=x(We,J,Ee),Qe===null?Ce=We:Qe.sibling=We,Qe=We,ge=Oe}if(Ee===ne.length)return n(F,ge),Ue&&ol(F,Ee),Ce;if(ge===null){for(;Ee<ne.length;Ee++)ge=ue(F,ne[Ee],ce),ge!==null&&(J=x(ge,J,Ee),Qe===null?Ce=ge:Qe.sibling=ge,Qe=ge);return Ue&&ol(F,Ee),Ce}for(ge=l(ge);Ee<ne.length;Ee++)Oe=ie(ge,F,Ee,ne[Ee],ce),Oe!==null&&(e&&Oe.alternate!==null&&ge.delete(Oe.key===null?Ee:Oe.key),J=x(Oe,J,Ee),Qe===null?Ce=Oe:Qe.sibling=Oe,Qe=Oe);return e&&ge.forEach(function(Fl){return t(F,Fl)}),Ue&&ol(F,Ee),Ce}function Me(F,J,ne,ce){if(ne==null)throw Error(i(151));for(var Ce=null,Qe=null,ge=J,Ee=J=0,Oe=null,We=ne.next();ge!==null&&!We.done;Ee++,We=ne.next()){ge.index>Ee?(Oe=ge,ge=null):Oe=ge.sibling;var Fl=ae(F,ge,We.value,ce);if(Fl===null){ge===null&&(ge=Oe);break}e&&ge&&Fl.alternate===null&&t(F,ge),J=x(Fl,J,Ee),Qe===null?Ce=Fl:Qe.sibling=Fl,Qe=Fl,ge=Oe}if(We.done)return n(F,ge),Ue&&ol(F,Ee),Ce;if(ge===null){for(;!We.done;Ee++,We=ne.next())We=ue(F,We.value,ce),We!==null&&(J=x(We,J,Ee),Qe===null?Ce=We:Qe.sibling=We,Qe=We);return Ue&&ol(F,Ee),Ce}for(ge=l(ge);!We.done;Ee++,We=ne.next())We=ie(ge,F,Ee,We.value,ce),We!==null&&(e&&We.alternate!==null&&ge.delete(We.key===null?Ee:We.key),J=x(We,J,Ee),Qe===null?Ce=We:Qe.sibling=We,Qe=We);return e&&ge.forEach(function(dh){return t(F,dh)}),Ue&&ol(F,Ee),Ce}function st(F,J,ne,ce){if(typeof ne=="object"&&ne!==null&&ne.type===b&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:e:{for(var Ce=ne.key;J!==null;){if(J.key===Ce){if(Ce=ne.type,Ce===b){if(J.tag===7){n(F,J.sibling),ce=u(J,ne.props.children),ce.return=F,F=ce;break e}}else if(J.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===W&&ha(Ce)===J.type){n(F,J.sibling),ce=u(J,ne.props),zi(ce,ne),ce.return=F,F=ce;break e}n(F,J);break}else t(F,J);J=J.sibling}ne.type===b?(ce=sa(ne.props.children,F.mode,ce,ne.key),ce.return=F,F=ce):(ce=zr(ne.type,ne.key,ne.props,null,F.mode,ce),zi(ce,ne),ce.return=F,F=ce)}return w(F);case z:e:{for(Ce=ne.key;J!==null;){if(J.key===Ce)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){n(F,J.sibling),ce=u(J,ne.children||[]),ce.return=F,F=ce;break e}else{n(F,J);break}else t(F,J);J=J.sibling}ce=Sc(ne,F.mode,ce),ce.return=F,F=ce}return w(F);case W:return ne=ha(ne),st(F,J,ne,ce)}if(g(ne))return be(F,J,ne,ce);if(I(ne)){if(Ce=I(ne),typeof Ce!="function")throw Error(i(150));return ne=Ce.call(ne),Me(F,J,ne,ce)}if(typeof ne.then=="function")return st(F,J,Br(ne),ce);if(ne.$$typeof===G)return st(F,J,Ar(F,ne),ce);qr(F,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,J!==null&&J.tag===6?(n(F,J.sibling),ce=u(J,ne),ce.return=F,F=ce):(n(F,J),ce=_c(ne,F.mode,ce),ce.return=F,F=ce),w(F)):n(F,J)}return function(F,J,ne,ce){try{ji=0;var Ce=st(F,J,ne,ce);return Oa=null,Ce}catch(ge){if(ge===Ya||ge===Lr)throw ge;var Qe=xn(29,ge,null,F.mode);return Qe.lanes=ce,Qe.return=F,Qe}}}var ba=Yx(!0),Ox=Yx(!1),ql=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Il(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=jr(e),Cx(e,null,n),t}return Mr(e,l,t,n),jr(e)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,At(e,n)}}function kc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var w={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?u=x=w:x=x.next=w,n=n.next}while(n!==null);x===null?u=x=t:x=x.next=t}else u=x=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ic=!1;function Ni(){if(Ic){var e=Ga;if(e!==null)throw e}}function Ai(e,t,n,l){Ic=!1;var u=e.updateQueue;ql=!1;var x=u.firstBaseUpdate,w=u.lastBaseUpdate,A=u.shared.pending;if(A!==null){u.shared.pending=null;var V=A,le=V.next;V.next=null,w===null?x=le:w.next=le,w=V;var re=e.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==w&&(A===null?re.firstBaseUpdate=le:A.next=le,re.lastBaseUpdate=V))}if(x!==null){var ue=u.baseState;w=0,re=le=V=null,A=x;do{var ae=A.lane&-536870913,ie=ae!==A.lane;if(ie?(Ye&ae)===ae:(l&ae)===ae){ae!==0&&ae===Ra&&(Ic=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var be=e,Me=A;ae=t;var st=n;switch(Me.tag){case 1:if(be=Me.payload,typeof be=="function"){ue=be.call(st,ue,ae);break e}ue=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Me.payload,ae=typeof be=="function"?be.call(st,ue,ae):be,ae==null)break e;ue=p({},ue,ae);break e;case 2:ql=!0}}ae=A.callback,ae!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[ae]:ie.push(ae))}else ie={lane:ae,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(le=re=ie,V=ue):re=re.next=ie,w|=ae;if(A=A.next,A===null){if(A=u.shared.pending,A===null)break;ie=A,A=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);re===null&&(V=ue),u.baseState=V,u.firstBaseUpdate=le,u.lastBaseUpdate=re,x===null&&(u.shared.lanes=0),Hl|=w,e.lanes=w,e.memoizedState=ue}}function Hx(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Ux(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Hx(n[e],t)}var Ha=j(null),kr=j(0);function Kx(e,t){e=Sl,Z(kr,e),Z(Ha,t),Sl=e|t.baseLanes}function Rc(){Z(kr,Sl),Z(Ha,Ha.current)}function Gc(){Sl=kr.current,B(Ha),B(kr)}var on=j(null),An=null;function Rl(e){var t=e.alternate;Z(_t,_t.current&1),Z(on,e),An===null&&(t===null||Ha.current!==null||t.memoizedState!==null)&&(An=e)}function Yc(e){Z(_t,_t.current),Z(on,e),An===null&&(An=e)}function Zx(e){e.tag===22?(Z(_t,_t.current),Z(on,e),An===null&&(An=e)):Gl()}function Gl(){Z(_t,_t.current),Z(on,on.current)}function fn(e){B(on),An===e&&(An=null),B(_t)}var _t=j(0);function Ir(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xu(n)||Vu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hl=0,Le=null,ct=null,jt=null,Rr=!1,Ua=!1,ga=!1,Gr=0,Ti=0,Ka=null,l2=0;function vt(){throw Error(i(321))}function Oc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function Hc(e,t,n,l,u,x){return hl=x,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?No:lu,ga=!1,x=n(l,u),ga=!1,Ua&&(x=Vx(t,n,l,u)),Xx(e),x}function Xx(e){D.H=Bi;var t=ct!==null&&ct.next!==null;if(hl=0,jt=ct=Le=null,Rr=!1,Ti=0,Ka=null,t)throw Error(i(300));e===null||zt||(e=e.dependencies,e!==null&&Nr(e)&&(zt=!0))}function Vx(e,t,n,l){Le=e;var u=0;do{if(Ua&&(Ka=null),Ti=0,Ua=!1,25<=u)throw Error(i(301));if(u+=1,jt=ct=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}D.H=Ao,x=t(n,l)}while(Ua);return x}function a2(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Li(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Le.flags|=1024),t}function Uc(){var e=Gr!==0;return Gr=0,e}function Kc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Zc(e){if(Rr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rr=!1}hl=0,jt=ct=Le=null,Ua=!1,Ti=Gr=0,Ka=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Le.memoizedState=jt=e:jt=jt.next=e,jt}function St(){if(ct===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=jt===null?Le.memoizedState:jt.next;if(t!==null)jt=t,ct=e;else{if(e===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},jt===null?Le.memoizedState=jt=e:jt=jt.next=e}return jt}function Yr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Li(e){var t=Ti;return Ti+=1,Ka===null&&(Ka=[]),e=Ix(Ka,e,t),t=Le,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?No:lu),e}function Or(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Li(e);if(e.$$typeof===G)return Ot(e)}throw Error(i(438,String(e)))}function Xc(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Yr(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=K;return t.index++,n}function ml(e,t){return typeof t=="function"?t(e):t}function Hr(e){var t=St();return Vc(t,ct,e)}function Vc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,x=l.pending;if(x!==null){if(u!==null){var w=u.next;u.next=x.next,x.next=w}t.baseQueue=u=x,l.pending=null}if(x=e.baseState,u===null)e.memoizedState=x;else{t=u.next;var A=w=null,V=null,le=t,re=!1;do{var ue=le.lane&-536870913;if(ue!==le.lane?(Ye&ue)===ue:(hl&ue)===ue){var ae=le.revertLane;if(ae===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),ue===Ra&&(re=!0);else if((hl&ae)===ae){le=le.next,ae===Ra&&(re=!0);continue}else ue={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},V===null?(A=V=ue,w=x):V=V.next=ue,Le.lanes|=ae,Hl|=ae;ue=le.action,ga&&n(x,ue),x=le.hasEagerState?le.eagerState:n(x,ue)}else ae={lane:ue,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},V===null?(A=V=ae,w=x):V=V.next=ae,Le.lanes|=ue,Hl|=ue;le=le.next}while(le!==null&&le!==t);if(V===null?w=x:V.next=A,!sn(x,e.memoizedState)&&(zt=!0,re&&(n=Ga,n!==null)))throw n;e.memoizedState=x,e.baseState=w,e.baseQueue=V,l.lastRenderedState=x}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Jc(e){var t=St(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,x=t.memoizedState;if(u!==null){n.pending=null;var w=u=u.next;do x=e(x,w.action),w=w.next;while(w!==u);sn(x,t.memoizedState)||(zt=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Jx(e,t,n){var l=Le,u=St(),x=Ue;if(x){if(n===void 0)throw Error(i(407));n=n()}else n=t();var w=!sn((ct||u).memoizedState,n);if(w&&(u.memoizedState=n,zt=!0),u=u.queue,Pc(Px.bind(null,l,u,e),[e]),u.getSnapshot!==t||w||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Wx.bind(null,l,u,n,t),null),xt===null)throw Error(i(349));x||(hl&127)!==0||Qx(l,t,n)}return n}function Qx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=Yr(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wx(e,t,n,l){t.value=n,t.getSnapshot=l,Fx(t)&&$x(e)}function Px(e,t,n){return n(function(){Fx(t)&&$x(e)})}function Fx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function $x(e){var t=ua(e,2);t!==null&&nn(t,e,2)}function Qc(e){var t=Jt();if(typeof e=="function"){var n=e;if(e=n(),ga){pn(!0);try{n()}finally{pn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t}function eo(e,t,n,l){return e.baseState=n,Vc(e,ct,typeof l=="function"?l:ml)}function i2(e,t,n,l,u){if(Zr(e))throw Error(i(485));if(e=t.action,e!==null){var x={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){x.listeners.push(w)}};D.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,to(t,x)):(x.next=n.next,t.pending=n.next=x)}}function to(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var x=D.T,w={};D.T=w;try{var A=n(u,l),V=D.S;V!==null&&V(w,A),no(e,t,A)}catch(le){Wc(e,t,le)}finally{x!==null&&w.types!==null&&(x.types=w.types),D.T=x}}else try{x=n(u,l),no(e,t,x)}catch(le){Wc(e,t,le)}}function no(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){lo(e,t,l)},function(l){return Wc(e,t,l)}):lo(e,t,n)}function lo(e,t,n){t.status="fulfilled",t.value=n,ao(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,to(e,n)))}function Wc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ao(t),t=t.next;while(t!==l)}e.action=null}function ao(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function io(e,t){return t}function ro(e,t){if(Ue){var n=xt.formState;if(n!==null){e:{var l=Le;if(Ue){if(ft){t:{for(var u=ft,x=Nn;u.nodeType!==8;){if(!x){u=null;break t}if(u=Tn(u.nextSibling),u===null){u=null;break t}}x=u.data,u=x==="F!"||x==="F"?u:null}if(u){ft=Tn(u.nextSibling),l=u.data==="F!";break e}}El(l)}l=!1}l&&(t=n[0])}}return n=Jt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:t},n.queue=l,n=jo.bind(null,Le,l),l.dispatch=n,l=Qc(!1),x=nu.bind(null,Le,!1,l.queue),l=Jt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=i2.bind(null,Le,u,x,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function co(e){var t=St();return uo(t,ct,e)}function uo(e,t,n){if(t=Vc(e,t,io)[0],e=Hr(ml)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Li(t)}catch(w){throw w===Ya?Lr:w}else l=t;t=St();var u=t.queue,x=u.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,Za(9,{destroy:void 0},r2.bind(null,u,n),null)),[l,x,e]}function r2(e,t){e.action=t}function so(e){var t=St(),n=ct;if(n!==null)return uo(t,n,e);St(),t=t.memoizedState,n=St();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Za(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Le.updateQueue,t===null&&(t=Yr(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function xo(){return St().memoizedState}function Ur(e,t,n,l){var u=Jt();Le.flags|=e,u.memoizedState=Za(1|t,{destroy:void 0},n,l===void 0?null:l)}function Kr(e,t,n,l){var u=St();l=l===void 0?null:l;var x=u.memoizedState.inst;ct!==null&&l!==null&&Oc(l,ct.memoizedState.deps)?u.memoizedState=Za(t,x,n,l):(Le.flags|=e,u.memoizedState=Za(1|t,x,n,l))}function oo(e,t){Ur(8390656,8,e,t)}function Pc(e,t){Kr(2048,8,e,t)}function c2(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=Yr(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fo(e){var t=St().memoizedState;return c2({ref:t,nextImpl:e}),function(){if((nt&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ho(e,t){return Kr(4,2,e,t)}function mo(e,t){return Kr(4,4,e,t)}function bo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function go(e,t,n){n=n!=null?n.concat([e]):null,Kr(4,4,bo.bind(null,t,e),n)}function Fc(){}function vo(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Oc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function yo(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Oc(t,l[1]))return l[0];if(l=e(),ga){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[l,t],l}function $c(e,t,n){return n===void 0||(hl&1073741824)!==0&&(Ye&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=_f(),Le.lanes|=e,Hl|=e,n)}function po(e,t,n,l){return sn(n,t)?n:Ha.current!==null?(e=$c(e,n,l),sn(e,t)||(zt=!0),e):(hl&42)===0||(hl&1073741824)!==0&&(Ye&261930)===0?(zt=!0,e.memoizedState=n):(e=_f(),Le.lanes|=e,Hl|=e,t)}function _o(e,t,n,l,u){var x=q.p;q.p=x!==0&&8>x?x:8;var w=D.T,A={};D.T=A,nu(e,!1,t,n);try{var V=u(),le=D.S;if(le!==null&&le(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var re=n2(V,l);Ei(e,t,re,mn(e))}else Ei(e,t,l,mn(e))}catch(ue){Ei(e,t,{then:function(){},status:"rejected",reason:ue},mn())}finally{q.p=x,w!==null&&A.types!==null&&(w.types=A.types),D.T=w}}function u2(){}function eu(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=So(e).queue;_o(e,u,t,L,n===null?u2:function(){return wo(e),n(l)})}function So(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:L},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wo(e){var t=So(e);t.next===null&&(t=e.alternate.memoizedState),Ei(e,t.next.queue,{},mn())}function tu(){return Ot(Wi)}function Co(){return St().memoizedState}function Mo(){return St().memoizedState}function s2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mn();e=kl(n);var l=Il(t,e,n);l!==null&&(nn(l,t,n),Di(l,t,n)),t={cache:Ac()},e.payload=t;return}t=t.return}}function x2(e,t,n){var l=mn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Zr(e)?zo(t,n):(n=yc(e,t,n,l),n!==null&&(nn(n,e,l),Do(n,t,l)))}function jo(e,t,n){var l=mn();Ei(e,t,n,l)}function Ei(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zr(e))zo(t,u);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var w=t.lastRenderedState,A=x(w,n);if(u.hasEagerState=!0,u.eagerState=A,sn(A,w))return Mr(e,t,u,0),xt===null&&Cr(),!1}catch{}if(n=yc(e,t,u,l),n!==null)return nn(n,e,l),Do(n,t,l),!0}return!1}function nu(e,t,n,l){if(l={lane:2,revertLane:Bu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zr(e)){if(t)throw Error(i(479))}else t=yc(e,n,l,2),t!==null&&nn(t,e,2)}function Zr(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function zo(e,t){Ua=Rr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Do(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,At(e,n)}}var Bi={readContext:Ot,use:Or,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Bi.useEffectEvent=vt;var No={readContext:Ot,use:Or,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:oo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ur(4194308,4,bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ur(4194308,4,e,t)},useInsertionEffect:function(e,t){Ur(4,2,e,t)},useMemo:function(e,t){var n=Jt();t=t===void 0?null:t;var l=e();if(ga){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Jt();if(n!==void 0){var u=n(t);if(ga){pn(!0);try{n(t)}finally{pn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=x2.bind(null,Le,e),[l.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qc(e);var t=e.queue,n=jo.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Fc,useDeferredValue:function(e,t){var n=Jt();return $c(n,e,t)},useTransition:function(){var e=Qc(!1);return e=_o.bind(null,Le,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Le,u=Jt();if(Ue){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),xt===null)throw Error(i(349));(Ye&127)!==0||Qx(l,t,n)}u.memoizedState=n;var x={value:n,getSnapshot:t};return u.queue=x,oo(Px.bind(null,l,x,e),[e]),l.flags|=2048,Za(9,{destroy:void 0},Wx.bind(null,l,x,n,t),null),n},useId:function(){var e=Jt(),t=xt.identifierPrefix;if(Ue){var n=Pn,l=Wn;n=(l&~(1<<32-Ge(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=l2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tu,useFormState:ro,useActionState:ro,useOptimistic:function(e){var t=Jt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nu.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xc,useCacheRefresh:function(){return Jt().memoizedState=s2.bind(null,Le)},useEffectEvent:function(e){var t=Jt(),n={impl:e};return t.memoizedState=n,function(){if((nt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},lu={readContext:Ot,use:Or,useCallback:vo,useContext:Ot,useEffect:Pc,useImperativeHandle:go,useInsertionEffect:ho,useLayoutEffect:mo,useMemo:yo,useReducer:Hr,useRef:xo,useState:function(){return Hr(ml)},useDebugValue:Fc,useDeferredValue:function(e,t){var n=St();return po(n,ct.memoizedState,e,t)},useTransition:function(){var e=Hr(ml)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Jx,useId:Co,useHostTransitionStatus:tu,useFormState:co,useActionState:co,useOptimistic:function(e,t){var n=St();return eo(n,ct,e,t)},useMemoCache:Xc,useCacheRefresh:Mo};lu.useEffectEvent=fo;var Ao={readContext:Ot,use:Or,useCallback:vo,useContext:Ot,useEffect:Pc,useImperativeHandle:go,useInsertionEffect:ho,useLayoutEffect:mo,useMemo:yo,useReducer:Jc,useRef:xo,useState:function(){return Jc(ml)},useDebugValue:Fc,useDeferredValue:function(e,t){var n=St();return ct===null?$c(n,e,t):po(n,ct.memoizedState,e,t)},useTransition:function(){var e=Jc(ml)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Jx,useId:Co,useHostTransitionStatus:tu,useFormState:so,useActionState:so,useOptimistic:function(e,t){var n=St();return ct!==null?eo(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:Mo};Ao.useEffectEvent=fo;function au(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var iu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=mn(),u=kl(l);u.payload=t,n!=null&&(u.callback=n),t=Il(e,u,l),t!==null&&(nn(t,e,l),Di(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=mn(),u=kl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Il(e,u,l),t!==null&&(nn(t,e,l),Di(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),l=kl(n);l.tag=2,t!=null&&(l.callback=t),t=Il(e,l,n),t!==null&&(nn(t,e,n),Di(t,e,n))}};function To(e,t,n,l,u,x,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,w):t.prototype&&t.prototype.isPureReactComponent?!pi(n,l)||!pi(u,x):!0}function Lo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&iu.enqueueReplaceState(t,t.state,null)}function va(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=p({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Eo(e){wr(e)}function Bo(e){console.error(e)}function qo(e){wr(e)}function Xr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function ko(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ru(e,t,n){return n=kl(n),n.tag=3,n.payload={element:null},n.callback=function(){Xr(e,t)},n}function Io(e){return e=kl(e),e.tag=3,e}function Ro(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var x=l.value;e.payload=function(){return u(x)},e.callback=function(){ko(t,n,l)}}var w=n.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){ko(t,n,l),typeof u!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function o2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ia(t,n,u,!0),n=on.current,n!==null){switch(n.tag){case 31:case 13:return An===null?a0():n.alternate===null&&yt===0&&(yt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Tu(e,l,u)),!1;case 22:return n.flags|=65536,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Tu(e,l,u)),!1}throw Error(i(435,n.tag))}return Tu(e,l,u),a0(),!1}if(Ue)return t=on.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Mc&&(e=Error(i(422),{cause:l}),wi(jn(e,n)))):(l!==Mc&&(t=Error(i(423),{cause:l}),wi(jn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=jn(l,n),u=ru(e.stateNode,l,u),kc(e,u),yt!==4&&(yt=2)),!1;var x=Error(i(520),{cause:l});if(x=jn(x,n),Hi===null?Hi=[x]:Hi.push(x),yt!==4&&(yt=2),t===null)return!0;l=jn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=ru(n.stateNode,l,e),kc(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ul===null||!Ul.has(x))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Io(u),Ro(u,e,n,l),kc(n,u),!1}n=n.return}while(n!==null);return!1}var cu=Error(i(461)),zt=!1;function Ht(e,t,n,l){t.child=e===null?Ox(t,null,n,l):ba(t,e.child,n,l)}function Go(e,t,n,l,u){n=n.render;var x=t.ref;if("ref"in l){var w={};for(var A in l)A!=="ref"&&(w[A]=l[A])}else w=l;return fa(t),l=Hc(e,t,n,w,x,u),A=Uc(),e!==null&&!zt?(Kc(e,t,u),bl(e,t,u)):(Ue&&A&&wc(t),t.flags|=1,Ht(e,t,l,u),t.child)}function Yo(e,t,n,l,u){if(e===null){var x=n.type;return typeof x=="function"&&!pc(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,Oo(e,t,x,l,u)):(e=zr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!mu(e,u)){var w=x.memoizedProps;if(n=n.compare,n=n!==null?n:pi,n(w,l)&&e.ref===t.ref)return bl(e,t,u)}return t.flags|=1,e=xl(x,l),e.ref=t.ref,e.return=t,t.child=e}function Oo(e,t,n,l,u){if(e!==null){var x=e.memoizedProps;if(pi(x,l)&&e.ref===t.ref)if(zt=!1,t.pendingProps=l=x,mu(e,u))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,bl(e,t,u)}return uu(e,t,n,l,u)}function Ho(e,t,n,l){var u=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~x}else l=0,t.child=null;return Uo(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tr(t,x!==null?x.cachePool:null),x!==null?Kx(t,x):Rc(),Zx(t);else return l=t.lanes=536870912,Uo(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(Tr(t,x.cachePool),Kx(t,x),Gl(),t.memoizedState=null):(e!==null&&Tr(t,null),Rc(),Gl());return Ht(e,t,u,n),t.child}function qi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uo(e,t,n,l,u){var x=Lc();return x=x===null?null:{parent:Mt._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&Tr(t,null),Rc(),Zx(t),e!==null&&Ia(e,t,l,!0),t.childLanes=u,null}function Vr(e,t){return t=Qr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ko(e,t,n){return ba(t,e.child,null,n),e=Vr(t,t.pendingProps),e.flags|=2,fn(t),t.memoizedState=null,e}function f2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ue){if(l.mode==="hidden")return e=Vr(t,l),t.lanes=536870912,qi(null,e);if(Yc(t),(e=ft)?(e=ld(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tl!==null?{id:Wn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=jx(e),n.return=t,t.child=n,Yt=t,ft=null)):e=null,e===null)throw El(t);return t.lanes=536870912,null}return Vr(t,l)}var x=e.memoizedState;if(x!==null){var w=x.dehydrated;if(Yc(t),u)if(t.flags&256)t.flags&=-257,t=Ko(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(zt||Ia(e,t,n,!1),u=(n&e.childLanes)!==0,zt||u){if(l=xt,l!==null&&(w=rt(l,n),w!==0&&w!==x.retryLane))throw x.retryLane=w,ua(e,w),nn(l,e,w),cu;a0(),t=Ko(e,t,n)}else e=x.treeContext,ft=Tn(w.nextSibling),Yt=t,Ue=!0,Ll=null,Nn=!1,e!==null&&Nx(t,e),t=Vr(t,l),t.flags|=4096;return t}return e=xl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Jr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function uu(e,t,n,l,u){return fa(t),n=Hc(e,t,n,l,void 0,u),l=Uc(),e!==null&&!zt?(Kc(e,t,u),bl(e,t,u)):(Ue&&l&&wc(t),t.flags|=1,Ht(e,t,n,u),t.child)}function Zo(e,t,n,l,u,x){return fa(t),t.updateQueue=null,n=Vx(t,l,n,u),Xx(e),l=Uc(),e!==null&&!zt?(Kc(e,t,x),bl(e,t,x)):(Ue&&l&&wc(t),t.flags|=1,Ht(e,t,n,x),t.child)}function Xo(e,t,n,l,u){if(fa(t),t.stateNode===null){var x=Ea,w=n.contextType;typeof w=="object"&&w!==null&&(x=Ot(w)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=iu,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},Bc(t),w=n.contextType,x.context=typeof w=="object"&&w!==null?Ot(w):Ea,x.state=t.memoizedState,w=n.getDerivedStateFromProps,typeof w=="function"&&(au(t,n,w,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(w=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),w!==x.state&&iu.enqueueReplaceState(x,x.state,null),Ai(t,l,x,u),Ni(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var A=t.memoizedProps,V=va(n,A);x.props=V;var le=x.context,re=n.contextType;w=Ea,typeof re=="object"&&re!==null&&(w=Ot(re));var ue=n.getDerivedStateFromProps;re=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,re||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A||le!==w)&&Lo(t,x,l,w),ql=!1;var ae=t.memoizedState;x.state=ae,Ai(t,l,x,u),Ni(),le=t.memoizedState,A||ae!==le||ql?(typeof ue=="function"&&(au(t,n,ue,l),le=t.memoizedState),(V=ql||To(t,n,V,l,ae,le,w))?(re||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=le),x.props=l,x.state=le,x.context=w,l=V):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,qc(e,t),w=t.memoizedProps,re=va(n,w),x.props=re,ue=t.pendingProps,ae=x.context,le=n.contextType,V=Ea,typeof le=="object"&&le!==null&&(V=Ot(le)),A=n.getDerivedStateFromProps,(le=typeof A=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==ue||ae!==V)&&Lo(t,x,l,V),ql=!1,ae=t.memoizedState,x.state=ae,Ai(t,l,x,u),Ni();var ie=t.memoizedState;w!==ue||ae!==ie||ql||e!==null&&e.dependencies!==null&&Nr(e.dependencies)?(typeof A=="function"&&(au(t,n,A,l),ie=t.memoizedState),(re=ql||To(t,n,re,l,ae,ie,V)||e!==null&&e.dependencies!==null&&Nr(e.dependencies))?(le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,ie,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,ie,V)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||w===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),x.props=l,x.state=ie,x.context=V,l=re):(typeof x.componentDidUpdate!="function"||w===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Jr(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=ba(t,e.child,null,u),t.child=ba(t,null,n,u)):Ht(e,t,n,u),t.memoizedState=x.state,e=t.child):e=bl(e,t,u),e}function Vo(e,t,n,l){return xa(),t.flags|=256,Ht(e,t,n,l),t.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(e){return{baseLanes:e,cachePool:qx()}}function ou(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=hn),e}function Jo(e,t,n){var l=t.pendingProps,u=!1,x=(t.flags&128)!==0,w;if((w=x)||(w=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),w&&(u=!0,t.flags&=-129),w=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(u?Rl(t):Gl(),(e=ft)?(e=ld(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tl!==null?{id:Wn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=jx(e),n.return=t,t.child=n,Yt=t,ft=null)):e=null,e===null)throw El(t);return Vu(e)?t.lanes=32:t.lanes=536870912,null}var A=l.children;return l=l.fallback,u?(Gl(),u=t.mode,A=Qr({mode:"hidden",children:A},u),l=sa(l,u,n,null),A.return=t,l.return=t,A.sibling=l,t.child=A,l=t.child,l.memoizedState=xu(n),l.childLanes=ou(e,w,n),t.memoizedState=su,qi(null,l)):(Rl(t),fu(t,A))}var V=e.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(x)t.flags&256?(Rl(t),t.flags&=-257,t=du(e,t,n)):t.memoizedState!==null?(Gl(),t.child=e.child,t.flags|=128,t=null):(Gl(),A=l.fallback,u=t.mode,l=Qr({mode:"visible",children:l.children},u),A=sa(A,u,n,null),A.flags|=2,l.return=t,A.return=t,l.sibling=A,t.child=l,ba(t,e.child,null,n),l=t.child,l.memoizedState=xu(n),l.childLanes=ou(e,w,n),t.memoizedState=su,t=qi(null,l));else if(Rl(t),Vu(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var le=w.dgst;w=le,l=Error(i(419)),l.stack="",l.digest=w,wi({value:l,source:null,stack:null}),t=du(e,t,n)}else if(zt||Ia(e,t,n,!1),w=(n&e.childLanes)!==0,zt||w){if(w=xt,w!==null&&(l=rt(w,n),l!==0&&l!==V.retryLane))throw V.retryLane=l,ua(e,l),nn(w,e,l),cu;Xu(A)||a0(),t=du(e,t,n)}else Xu(A)?(t.flags|=192,t.child=e.child,t=null):(e=V.treeContext,ft=Tn(A.nextSibling),Yt=t,Ue=!0,Ll=null,Nn=!1,e!==null&&Nx(t,e),t=fu(t,l.children),t.flags|=4096);return t}return u?(Gl(),A=l.fallback,u=t.mode,V=e.child,le=V.sibling,l=xl(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,le!==null?A=xl(le,A):(A=sa(A,u,n,null),A.flags|=2),A.return=t,l.return=t,l.sibling=A,t.child=l,qi(null,l),l=t.child,A=e.child.memoizedState,A===null?A=xu(n):(u=A.cachePool,u!==null?(V=Mt._currentValue,u=u.parent!==V?{parent:V,pool:V}:u):u=qx(),A={baseLanes:A.baseLanes|n,cachePool:u}),l.memoizedState=A,l.childLanes=ou(e,w,n),t.memoizedState=su,qi(e.child,l)):(Rl(t),n=e.child,e=n.sibling,n=xl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(w=t.deletions,w===null?(t.deletions=[e],t.flags|=16):w.push(e)),t.child=n,t.memoizedState=null,n)}function fu(e,t){return t=Qr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Qr(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function du(e,t,n){return ba(t,e.child,null,n),e=fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Dc(e.return,t,n)}function hu(e,t,n,l,u,x){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:x}:(w.isBackwards=t,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=n,w.tailMode=u,w.treeForkCount=x)}function Wo(e,t,n){var l=t.pendingProps,u=l.revealOrder,x=l.tail;l=l.children;var w=_t.current,A=(w&2)!==0;if(A?(w=w&1|2,t.flags|=128):w&=1,Z(_t,w),Ht(e,t,l,n),l=Ue?Si:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qo(e,n,t);else if(e.tag===19)Qo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Ir(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),hu(t,!1,u,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ir(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}hu(t,!0,n,null,x,l);break;case"together":hu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function bl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ia(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=xl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Nr(e)))}function d2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),Bl(t,Mt,e.memoizedState.cache),xa();break;case 27:case 5:ve(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:Bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Yc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Rl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jo(e,t,n):(Rl(t),e=bl(e,t,n),e!==null?e.sibling:null);Rl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ia(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Wo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Z(_t,_t.current),l)break;return null;case 22:return t.lanes=0,Ho(e,t,n,t.pendingProps);case 24:Bl(t,Mt,e.memoizedState.cache)}return bl(e,t,n)}function Po(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!mu(e,n)&&(t.flags&128)===0)return zt=!1,d2(e,t,n);zt=(e.flags&131072)!==0}else zt=!1,Ue&&(t.flags&1048576)!==0&&Dx(t,Si,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ha(t.elementType),t.type=e,typeof e=="function")pc(e)?(l=va(e,l),t.tag=1,t=Xo(null,t,e,l,n)):(t.tag=0,t=uu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===Y){t.tag=11,t=Go(null,t,e,l,n);break e}else if(u===O){t.tag=14,t=Yo(null,t,e,l,n);break e}}throw t=C(e)||e,Error(i(306,t,""))}}return t;case 0:return uu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=va(l,t.pendingProps),Xo(e,t,l,u,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var x=t.memoizedState;u=x.element,qc(e,t),Ai(t,l,null,n);var w=t.memoizedState;if(l=w.cache,Bl(t,Mt,l),l!==x.cache&&Nc(t,[Mt],n,!0),Ni(),l=w.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:w.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Vo(e,t,l,n);break e}else if(l!==u){u=jn(Error(i(424)),t),wi(u),t=Vo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ft=Tn(e.firstChild),Yt=t,Ue=!0,Ll=null,Nn=!0,n=Ox(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),l===u){t=bl(e,t,n);break e}Ht(e,t,l,n)}t=t.child}return t;case 26:return Jr(e,t),e===null?(n=sd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ue||(n=t.type,e=t.pendingProps,l=o0(te.current).createElement(n),l[ze]=t,l[Gt]=e,Ut(l,n,e),Ze(l),t.stateNode=l):t.memoizedState=sd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ve(t),e===null&&Ue&&(l=t.stateNode=rd(t.type,t.pendingProps,te.current),Yt=t,Nn=!0,u=ft,Vl(t.type)?(Ju=u,ft=Tn(l.firstChild)):ft=u),Ht(e,t,t.pendingProps.children,n),Jr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ue&&((u=l=ft)&&(l=U2(l,t.type,t.pendingProps,Nn),l!==null?(t.stateNode=l,Yt=t,ft=Tn(l.firstChild),Nn=!1,u=!0):u=!1),u||El(t)),ve(t),u=t.type,x=t.pendingProps,w=e!==null?e.memoizedProps:null,l=x.children,Uu(u,x)?l=null:w!==null&&Uu(u,w)&&(t.flags|=32),t.memoizedState!==null&&(u=Hc(e,t,a2,null,null,n),Wi._currentValue=u),Jr(e,t),Ht(e,t,l,n),t.child;case 6:return e===null&&Ue&&((e=n=ft)&&(n=K2(n,t.pendingProps,Nn),n!==null?(t.stateNode=n,Yt=t,ft=null,e=!0):e=!1),e||El(t)),null;case 13:return Jo(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ba(t,null,l,n):Ht(e,t,l,n),t.child;case 11:return Go(e,t,t.type,t.pendingProps,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Bl(t,t.type,l.value),Ht(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,fa(t),u=Ot(u),l=l(u),t.flags|=1,Ht(e,t,l,n),t.child;case 14:return Yo(e,t,t.type,t.pendingProps,n);case 15:return Oo(e,t,t.type,t.pendingProps,n);case 19:return Wo(e,t,n);case 31:return f2(e,t,n);case 22:return Ho(e,t,n,t.pendingProps);case 24:return fa(t),l=Ot(Mt),e===null?(u=Lc(),u===null&&(u=xt,x=Ac(),u.pooledCache=x,x.refCount++,x!==null&&(u.pooledCacheLanes|=n),u=x),t.memoizedState={parent:l,cache:u},Bc(t),Bl(t,Mt,u)):((e.lanes&n)!==0&&(qc(e,t),Ai(t,null,null,n),Ni()),u=e.memoizedState,x=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Bl(t,Mt,l)):(l=x.cache,Bl(t,Mt,l),l!==u.cache&&Nc(t,[Mt],n,!0))),Ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function gl(e){e.flags|=4}function bu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Mf())e.flags|=8192;else throw ma=Er,Ec}else e.flags&=-16777217}function Fo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hd(t))if(Mf())e.flags|=8192;else throw ma=Er,Ec}function Wr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ve():536870912,e.lanes|=t,Qa|=t)}function ki(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function h2(e,t,n){var l=t.pendingProps;switch(Cc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),dl(Mt),me(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ka(t)?gl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jc())),dt(t),null;case 26:var u=t.type,x=t.memoizedState;return e===null?(gl(t),x!==null?(dt(t),Fo(t,x)):(dt(t),bu(t,u,null,l,n))):x?x!==e.memoizedState?(gl(t),dt(t),Fo(t,x)):(dt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&gl(t),dt(t),bu(t,u,e,l,n)),null;case 27:if(de(t),n=te.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&gl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return dt(t),null}e=H.current,ka(t)?Ax(t):(e=rd(u,l,n),t.stateNode=e,gl(t))}return dt(t),null;case 5:if(de(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&gl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return dt(t),null}if(x=H.current,ka(t))Ax(t);else{var w=o0(te.current);switch(x){case 1:x=w.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:x=w.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":x=w.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":x=w.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":x=w.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?w.createElement(u,{is:l.is}):w.createElement(u)}}x[ze]=t,x[Gt]=l;e:for(w=t.child;w!==null;){if(w.tag===5||w.tag===6)x.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}t.stateNode=x;e:switch(Ut(x,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&gl(t)}}return dt(t),bu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&gl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=te.current,ka(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Yt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[ze]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Qf(e.nodeValue,n)),e||El(t,!0)}else e=o0(e).createTextNode(l),e[ze]=t,t.stateNode=e}return dt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=ka(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ze]=t}else xa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),e=!1}else n=jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(fn(t),t):(fn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ka(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[ze]=t}else xa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),u=!1}else u=jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(fn(t),t):(fn(t),null)}return fn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Wr(t,t.updateQueue),dt(t),null);case 4:return me(),e===null&&Ru(t.stateNode.containerInfo),dt(t),null;case 10:return dl(t.type),dt(t),null;case 19:if(B(_t),l=t.memoizedState,l===null)return dt(t),null;if(u=(t.flags&128)!==0,x=l.rendering,x===null)if(u)ki(l,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Ir(e),x!==null){for(t.flags|=128,ki(l,!1),e=x.updateQueue,t.updateQueue=e,Wr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Mx(n,e),n=n.sibling;return Z(_t,_t.current&1|2),Ue&&ol(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Fe()>t0&&(t.flags|=128,u=!0,ki(l,!1),t.lanes=4194304)}else{if(!u)if(e=Ir(x),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Wr(t,e),ki(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!Ue)return dt(t),null}else 2*Fe()-l.renderingStartTime>t0&&n!==536870912&&(t.flags|=128,u=!0,ki(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Fe(),e.sibling=null,n=_t.current,Z(_t,u?n&1|2:n&1),Ue&&ol(t,l.treeForkCount),e):(dt(t),null);case 22:case 23:return fn(t),Gc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),n=t.updateQueue,n!==null&&Wr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&B(da),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),dl(Mt),dt(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function m2(e,t){switch(Cc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dl(Mt),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(fn(t),t.alternate===null)throw Error(i(340));xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(_t),null;case 4:return me(),null;case 10:return dl(t.type),null;case 22:case 23:return fn(t),Gc(),e!==null&&B(da),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dl(Mt),null;case 25:return null;default:return null}}function $o(e,t){switch(Cc(t),t.tag){case 3:dl(Mt),me();break;case 26:case 27:case 5:de(t);break;case 4:me();break;case 31:t.memoizedState!==null&&fn(t);break;case 13:fn(t);break;case 19:B(_t);break;case 10:dl(t.type);break;case 22:case 23:fn(t),Gc(),e!==null&&B(da);break;case 24:dl(Mt)}}function Ii(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var x=n.create,w=n.inst;l=x(),w.destroy=l}n=n.next}while(n!==u)}}catch(A){it(t,t.return,A)}}function Yl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var x=u.next;l=x;do{if((l.tag&e)===e){var w=l.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,u=t;var V=n,le=A;try{le()}catch(re){it(u,V,re)}}}l=l.next}while(l!==x)}}catch(re){it(t,t.return,re)}}function ef(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ux(t,n)}catch(l){it(e,e.return,l)}}}function tf(e,t,n){n.props=va(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function Ri(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){it(e,t,u)}}function Fn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){it(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){it(e,t,u)}else n.current=null}function nf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){it(e,e.return,u)}}function gu(e,t,n){try{var l=e.stateNode;I2(l,e.type,n,t),l[Gt]=t}catch(u){it(e,e.return,u)}}function lf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vl(e.type)||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ul));else if(l!==4&&(l===27&&Vl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yu(e,t,n),e=e.sibling;e!==null;)yu(e,t,n),e=e.sibling}function Pr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Vl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Pr(e,t,n),e=e.sibling;e!==null;)Pr(e,t,n),e=e.sibling}function af(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ut(t,l,n),t[ze]=e,t[Gt]=n}catch(x){it(e,e.return,x)}}var vl=!1,Dt=!1,pu=!1,rf=typeof WeakSet=="function"?WeakSet:Set,Et=null;function b2(e,t){if(e=e.containerInfo,Ou=v0,e=bx(e),dc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var w=0,A=-1,V=-1,le=0,re=0,ue=e,ae=null;t:for(;;){for(var ie;ue!==n||u!==0&&ue.nodeType!==3||(A=w+u),ue!==x||l!==0&&ue.nodeType!==3||(V=w+l),ue.nodeType===3&&(w+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)ae=ue,ue=ie;for(;;){if(ue===e)break t;if(ae===n&&++le===u&&(A=w),ae===x&&++re===l&&(V=w),(ie=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=ie}n=A===-1||V===-1?null:{start:A,end:V}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hu={focusedElem:e,selectionRange:n},v0=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,u=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var be=va(n.type,u);e=l.getSnapshotBeforeUpdate(be,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(Me){it(n,n.return,Me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Zu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function cf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:pl(e,n),l&4&&Ii(5,n);break;case 1:if(pl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(w){it(n,n.return,w)}else{var u=va(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(w){it(n,n.return,w)}}l&64&&ef(n),l&512&&Ri(n,n.return);break;case 3:if(pl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ux(e,t)}catch(w){it(n,n.return,w)}}break;case 27:t===null&&l&4&&af(n);case 26:case 5:pl(e,n),t===null&&l&4&&nf(n),l&512&&Ri(n,n.return);break;case 12:pl(e,n);break;case 31:pl(e,n),l&4&&xf(e,n);break;case 13:pl(e,n),l&4&&of(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=M2.bind(null,n),Z2(e,n))));break;case 22:if(l=n.memoizedState!==null||vl,!l){t=t!==null&&t.memoizedState!==null||Dt,u=vl;var x=Dt;vl=l,(Dt=t)&&!x?_l(e,n,(n.subtreeFlags&8772)!==0):pl(e,n),vl=u,Dt=x}break;case 30:break;default:pl(e,n)}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,Ft=!1;function yl(e,t,n){for(n=n.child;n!==null;)sf(e,t,n),n=n.sibling}function sf(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(kn,n)}catch{}switch(n.tag){case 26:Dt||Fn(n,t),yl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Dt||Fn(n,t);var l=ht,u=Ft;Vl(n.type)&&(ht=n.stateNode,Ft=!1),yl(e,t,n),Vi(n.stateNode),ht=l,Ft=u;break;case 5:Dt||Fn(n,t);case 6:if(l=ht,u=Ft,ht=null,yl(e,t,n),ht=l,Ft=u,ht!==null)if(Ft)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(n.stateNode)}catch(x){it(n,t,x)}else try{ht.removeChild(n.stateNode)}catch(x){it(n,t,x)}break;case 18:ht!==null&&(Ft?(e=ht,td(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),li(e)):td(ht,n.stateNode));break;case 4:l=ht,u=Ft,ht=n.stateNode.containerInfo,Ft=!0,yl(e,t,n),ht=l,Ft=u;break;case 0:case 11:case 14:case 15:Yl(2,n,t),Dt||Yl(4,n,t),yl(e,t,n);break;case 1:Dt||(Fn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&tf(n,t,l)),yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:Dt=(l=Dt)||n.memoizedState!==null,yl(e,t,n),Dt=l;break;default:yl(e,t,n)}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{li(e)}catch(n){it(t,t.return,n)}}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{li(e)}catch(n){it(t,t.return,n)}}function g2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rf),t;default:throw Error(i(435,e.tag))}}function Fr(e,t){var n=g2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=j2.bind(null,e,l);l.then(u,u)}})}function $t(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],x=e,w=t,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Vl(A.type)){ht=A.stateNode,Ft=!1;break e}break;case 5:ht=A.stateNode,Ft=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,Ft=!0;break e}A=A.return}if(ht===null)throw Error(i(160));sf(x,w,u),ht=null,Ft=!1,x=u.alternate,x!==null&&(x.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ff(t,e),t=t.sibling}var Rn=null;function ff(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),en(e),l&4&&(Yl(3,e,e.return),Ii(3,e),Yl(5,e,e.return));break;case 1:$t(t,e),en(e),l&512&&(Dt||n===null||Fn(n,n.return)),l&64&&vl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Rn;if($t(t,e),en(e),l&512&&(Dt||n===null||Fn(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":x=u.getElementsByTagName("title")[0],(!x||x[aa]||x[ze]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=u.createElement(l),u.head.insertBefore(x,u.querySelector("head > title"))),Ut(x,l,n),x[ze]=e,Ze(x),l=x;break e;case"link":var w=fd("link","href",u).get(l+(n.href||""));if(w){for(var A=0;A<w.length;A++)if(x=w[A],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){w.splice(A,1);break t}}x=u.createElement(l),Ut(x,l,n),u.head.appendChild(x);break;case"meta":if(w=fd("meta","content",u).get(l+(n.content||""))){for(A=0;A<w.length;A++)if(x=w[A],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){w.splice(A,1);break t}}x=u.createElement(l),Ut(x,l,n),u.head.appendChild(x);break;default:throw Error(i(468,l))}x[ze]=e,Ze(x),l=x}e.stateNode=l}else dd(u,e.type,e.stateNode);else e.stateNode=od(u,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?dd(u,e.type,e.stateNode):od(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&gu(e,e.memoizedProps,n.memoizedProps)}break;case 27:$t(t,e),en(e),l&512&&(Dt||n===null||Fn(n,n.return)),n!==null&&l&4&&gu(e,e.memoizedProps,n.memoizedProps);break;case 5:if($t(t,e),en(e),l&512&&(Dt||n===null||Fn(n,n.return)),e.flags&32){u=e.stateNode;try{ja(u,"")}catch(be){it(e,e.return,be)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,gu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(pu=!0);break;case 6:if($t(t,e),en(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(be){it(e,e.return,be)}}break;case 3:if(h0=null,u=Rn,Rn=f0(t.containerInfo),$t(t,e),Rn=u,en(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{li(t.containerInfo)}catch(be){it(e,e.return,be)}pu&&(pu=!1,df(e));break;case 4:l=Rn,Rn=f0(e.stateNode.containerInfo),$t(t,e),en(e),Rn=l;break;case 12:$t(t,e),en(e);break;case 31:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 13:$t(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(e0=Fe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 22:u=e.memoizedState!==null;var V=n!==null&&n.memoizedState!==null,le=vl,re=Dt;if(vl=le||u,Dt=re||V,$t(t,e),Dt=re,vl=le,en(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||V||vl||Dt||ya(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){V=n=t;try{if(x=V.stateNode,u)w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=V.stateNode;var ue=V.memoizedProps.style,ae=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(be){it(V,V.return,be)}}}else if(t.tag===6){if(n===null){V=t;try{V.stateNode.nodeValue=u?"":V.memoizedProps}catch(be){it(V,V.return,be)}}}else if(t.tag===18){if(n===null){V=t;try{var ie=V.stateNode;u?nd(ie,!0):nd(V.stateNode,!1)}catch(be){it(V,V.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Fr(e,n))));break;case 19:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 30:break;case 21:break;default:$t(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(lf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,x=vu(e);Pr(e,x,u);break;case 5:var w=n.stateNode;n.flags&32&&(ja(w,""),n.flags&=-33);var A=vu(e);Pr(e,A,w);break;case 3:case 4:var V=n.stateNode.containerInfo,le=vu(e);yu(e,le,V);break;default:throw Error(i(161))}}catch(re){it(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;df(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)cf(e,t.alternate,t),t=t.sibling}function ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yl(4,t,t.return),ya(t);break;case 1:Fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&tf(t,t.return,n),ya(t);break;case 27:Vi(t.stateNode);case 26:case 5:Fn(t,t.return),ya(t);break;case 22:t.memoizedState===null&&ya(t);break;case 30:ya(t);break;default:ya(t)}e=e.sibling}}function _l(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,x=t,w=x.flags;switch(x.tag){case 0:case 11:case 15:_l(u,x,n),Ii(4,x);break;case 1:if(_l(u,x,n),l=x,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(le){it(l,l.return,le)}if(l=x,u=l.updateQueue,u!==null){var A=l.stateNode;try{var V=u.shared.hiddenCallbacks;if(V!==null)for(u.shared.hiddenCallbacks=null,u=0;u<V.length;u++)Hx(V[u],A)}catch(le){it(l,l.return,le)}}n&&w&64&&ef(x),Ri(x,x.return);break;case 27:af(x);case 26:case 5:_l(u,x,n),n&&l===null&&w&4&&nf(x),Ri(x,x.return);break;case 12:_l(u,x,n);break;case 31:_l(u,x,n),n&&w&4&&xf(u,x);break;case 13:_l(u,x,n),n&&w&4&&of(u,x);break;case 22:x.memoizedState===null&&_l(u,x,n),Ri(x,x.return);break;case 30:break;default:_l(u,x,n)}t=t.sibling}}function _u(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ci(n))}function Su(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e))}function Gn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hf(e,t,n,l),t=t.sibling}function hf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Gn(e,t,n,l),u&2048&&Ii(9,t);break;case 1:Gn(e,t,n,l);break;case 3:Gn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e)));break;case 12:if(u&2048){Gn(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,w=x.id,A=x.onPostCommit;typeof A=="function"&&A(w,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){it(t,t.return,V)}}else Gn(e,t,n,l);break;case 31:Gn(e,t,n,l);break;case 13:Gn(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,w=t.alternate,t.memoizedState!==null?x._visibility&2?Gn(e,t,n,l):Gi(e,t):x._visibility&2?Gn(e,t,n,l):(x._visibility|=2,Xa(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&_u(w,t);break;case 24:Gn(e,t,n,l),u&2048&&Su(t.alternate,t);break;default:Gn(e,t,n,l)}}function Xa(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,w=t,A=n,V=l,le=w.flags;switch(w.tag){case 0:case 11:case 15:Xa(x,w,A,V,u),Ii(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&2?Xa(x,w,A,V,u):Gi(x,w):(re._visibility|=2,Xa(x,w,A,V,u)),u&&le&2048&&_u(w.alternate,w);break;case 24:Xa(x,w,A,V,u),u&&le&2048&&Su(w.alternate,w);break;default:Xa(x,w,A,V,u)}t=t.sibling}}function Gi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Gi(n,l),u&2048&&_u(l.alternate,l);break;case 24:Gi(n,l),u&2048&&Su(l.alternate,l);break;default:Gi(n,l)}t=t.sibling}}var Yi=8192;function Va(e,t,n){if(e.subtreeFlags&Yi)for(e=e.child;e!==null;)mf(e,t,n),e=e.sibling}function mf(e,t,n){switch(e.tag){case 26:Va(e,t,n),e.flags&Yi&&e.memoizedState!==null&&lh(n,Rn,e.memoizedState,e.memoizedProps);break;case 5:Va(e,t,n);break;case 3:case 4:var l=Rn;Rn=f0(e.stateNode.containerInfo),Va(e,t,n),Rn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Yi,Yi=16777216,Va(e,t,n),Yi=l):Va(e,t,n));break;default:Va(e,t,n)}}function bf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,vf(l,e)}bf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gf(e),e=e.sibling}function gf(e){switch(e.tag){case 0:case 11:case 15:Oi(e),e.flags&2048&&Yl(9,e,e.return);break;case 3:Oi(e);break;case 12:Oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$r(e)):Oi(e);break;default:Oi(e)}}function $r(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,vf(l,e)}bf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Yl(8,t,t.return),$r(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$r(t));break;default:$r(t)}e=e.sibling}}function vf(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:Yl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ci(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var u=l.sibling,x=l.return;if(uf(l),l===n){Et=null;break e}if(u!==null){u.return=x,Et=u;break e}Et=x}}}var v2={getCacheForType:function(e){var t=Ot(Mt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ot(Mt).controller.signal}},y2=typeof WeakMap=="function"?WeakMap:Map,nt=0,xt=null,Ie=null,Ye=0,at=0,dn=null,Ol=!1,Ja=!1,wu=!1,Sl=0,yt=0,Hl=0,pa=0,Cu=0,hn=0,Qa=0,Hi=null,tn=null,Mu=!1,e0=0,yf=0,t0=1/0,n0=null,Ul=null,Tt=0,Kl=null,Wa=null,wl=0,ju=0,zu=null,pf=null,Ui=0,Du=null;function mn(){return(nt&2)!==0&&Ye!==0?Ye&-Ye:D.T!==null?Bu():_n()}function _f(){if(hn===0)if((Ye&536870912)===0||Ue){var e=pe;pe<<=1,(pe&3932160)===0&&(pe=262144),hn=e}else hn=536870912;return e=on.current,e!==null&&(e.flags|=32),hn}function nn(e,t,n){(e===xt&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),Zl(e,Ye,hn,!1)),Te(e,n),((nt&2)===0||e!==xt)&&(e===xt&&((nt&2)===0&&(pa|=n),yt===4&&Zl(e,Ye,hn,!1)),$n(e))}function Sf(e,t,n){if((nt&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||$e(e,t),u=l?S2(e,t):Au(e,t,!0),x=l;do{if(u===0){Ja&&!l&&Zl(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!p2(n)){u=Au(e,t,!1),x=!1;continue}if(u===2){if(x=t,e.errorRecoveryDisabledLanes&x)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){t=w;e:{var A=e;u=Hi;var V=A.current.memoizedState.isDehydrated;if(V&&(Pa(A,w).flags|=256),w=Au(A,w,!1),w!==2){if(wu&&!V){A.errorRecoveryDisabledLanes|=x,pa|=x,u=4;break e}x=tn,tn=u,x!==null&&(tn===null?tn=x:tn.push.apply(tn,x))}u=w}if(x=!1,u!==2)continue}}if(u===1){Pa(e,0),Zl(e,t,0,!0);break}e:{switch(l=e,x=u,x){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Zl(l,t,hn,!Ol);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=e0+300-Fe(),10<u)){if(Zl(l,t,hn,!Ol),we(l,0,!0)!==0)break e;wl=t,l.timeoutHandle=$f(wf.bind(null,l,n,tn,n0,Mu,t,hn,pa,Qa,Ol,x,"Throttled",-0,0),u);break e}wf(l,n,tn,n0,Mu,t,hn,pa,Qa,Ol,x,null,-0,0)}}break}while(!0);$n(e)}function wf(e,t,n,l,u,x,w,A,V,le,re,ue,ae,ie){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ul},mf(t,x,ue);var be=(x&62914560)===x?e0-Fe():(x&4194048)===x?yf-Fe():0;if(be=ah(ue,be),be!==null){wl=x,e.cancelPendingCommit=be(Tf.bind(null,e,t,x,n,l,u,w,A,V,re,ue,null,ae,ie)),Zl(e,x,w,!le);return}}Tf(e,t,x,n,l,u,w,A,V)}function p2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],x=u.getSnapshot;u=u.value;try{if(!sn(x(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zl(e,t,n,l){t&=~Cu,t&=~pa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var x=31-Ge(u),w=1<<x;l[x]=-1,u&=~w}n!==0&&tt(e,n,t)}function l0(){return(nt&6)===0?(Ki(0),!1):!0}function Nu(){if(Ie!==null){if(at===0)var e=Ie.return;else e=Ie,fl=oa=null,Zc(e),Oa=null,ji=0,e=Ie;for(;e!==null;)$o(e.alternate,e),e=e.return;Ie=null}}function Pa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Y2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),wl=0,Nu(),xt=e,Ie=n=xl(e.current,null),Ye=t,at=0,dn=null,Ol=!1,Ja=$e(e,t),wu=!1,Qa=hn=Cu=pa=Hl=yt=0,tn=Hi=null,Mu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Ge(l),x=1<<u;t|=e[u],l&=~x}return Sl=t,Cr(),n}function Cf(e,t){Le=null,D.H=Bi,t===Ya||t===Lr?(t=Rx(),at=3):t===Ec?(t=Rx(),at=4):at=t===cu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dn=t,Ie===null&&(yt=1,Xr(e,jn(t,e.current)))}function Mf(){var e=on.current;return e===null?!0:(Ye&4194048)===Ye?An===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?e===An:!1}function jf(){var e=D.H;return D.H=Bi,e===null?Bi:e}function zf(){var e=D.A;return D.A=v2,e}function a0(){yt=4,Ol||(Ye&4194048)!==Ye&&on.current!==null||(Ja=!0),(Hl&134217727)===0&&(pa&134217727)===0||xt===null||Zl(xt,Ye,hn,!1)}function Au(e,t,n){var l=nt;nt|=2;var u=jf(),x=zf();(xt!==e||Ye!==t)&&(n0=null,Pa(e,t)),t=!1;var w=yt;e:do try{if(at!==0&&Ie!==null){var A=Ie,V=dn;switch(at){case 8:Nu(),w=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var le=at;if(at=0,dn=null,Fa(e,A,V,le),n&&Ja){w=0;break e}break;default:le=at,at=0,dn=null,Fa(e,A,V,le)}}_2(),w=yt;break}catch(re){Cf(e,re)}while(!0);return t&&e.shellSuspendCounter++,fl=oa=null,nt=l,D.H=u,D.A=x,Ie===null&&(xt=null,Ye=0,Cr()),w}function _2(){for(;Ie!==null;)Df(Ie)}function S2(e,t){var n=nt;nt|=2;var l=jf(),u=zf();xt!==e||Ye!==t?(n0=null,t0=Fe()+500,Pa(e,t)):Ja=$e(e,t);e:do try{if(at!==0&&Ie!==null){t=Ie;var x=dn;t:switch(at){case 1:at=0,dn=null,Fa(e,t,x,1);break;case 2:case 9:if(kx(x)){at=0,dn=null,Nf(t);break}t=function(){at!==2&&at!==9||xt!==e||(at=7),$n(e)},x.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:kx(x)?(at=0,dn=null,Nf(t)):(at=0,dn=null,Fa(e,t,x,7));break;case 5:var w=null;switch(Ie.tag){case 26:w=Ie.memoizedState;case 5:case 27:var A=Ie;if(w?hd(w):A.stateNode.complete){at=0,dn=null;var V=A.sibling;if(V!==null)Ie=V;else{var le=A.return;le!==null?(Ie=le,i0(le)):Ie=null}break t}}at=0,dn=null,Fa(e,t,x,5);break;case 6:at=0,dn=null,Fa(e,t,x,6);break;case 8:Nu(),yt=6;break e;default:throw Error(i(462))}}w2();break}catch(re){Cf(e,re)}while(!0);return fl=oa=null,D.H=l,D.A=u,nt=n,Ie!==null?0:(xt=null,Ye=0,Cr(),yt)}function w2(){for(;Ie!==null&&!Xn();)Df(Ie)}function Df(e){var t=Po(e.alternate,e,Sl);e.memoizedProps=e.pendingProps,t===null?i0(e):Ie=t}function Nf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zo(n,t,t.pendingProps,t.type,void 0,Ye);break;case 11:t=Zo(n,t,t.pendingProps,t.type.render,t.ref,Ye);break;case 5:Zc(t);default:$o(n,t),t=Ie=Mx(t,Sl),t=Po(n,t,Sl)}e.memoizedProps=e.pendingProps,t===null?i0(e):Ie=t}function Fa(e,t,n,l){fl=oa=null,Zc(t),Oa=null,ji=0;var u=t.return;try{if(o2(e,u,t,n,Ye)){yt=1,Xr(e,jn(n,e.current)),Ie=null;return}}catch(x){if(u!==null)throw Ie=u,x;yt=1,Xr(e,jn(n,e.current)),Ie=null;return}t.flags&32768?(Ue||l===1?e=!0:Ja||(Ye&536870912)!==0?e=!1:(Ol=e=!0,(l===2||l===9||l===3||l===6)&&(l=on.current,l!==null&&l.tag===13&&(l.flags|=16384))),Af(t,e)):i0(t)}function i0(e){var t=e;do{if((t.flags&32768)!==0){Af(t,Ol);return}e=t.return;var n=h2(t.alternate,t,Sl);if(n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);yt===0&&(yt=5)}function Af(e,t){do{var n=m2(e.alternate,e);if(n!==null){n.flags&=32767,Ie=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ie=e;return}Ie=e=n}while(e!==null);yt=6,Ie=null}function Tf(e,t,n,l,u,x,w,A,V){e.cancelPendingCommit=null;do r0();while(Tt!==0);if((nt&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(x=t.lanes|t.childLanes,x|=vc,Rt(e,n,x,w,A,V),e===xt&&(Ie=xt=null,Ye=0),Wa=t,Kl=e,wl=n,ju=x,zu=u,pf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z2(il,function(){return kf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,u=q.p,q.p=2,w=nt,nt|=4;try{b2(e,t,n)}finally{nt=w,q.p=u,D.T=l}}Tt=1,Lf(),Ef(),Bf()}}function Lf(){if(Tt===1){Tt=0;var e=Kl,t=Wa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=D.T,D.T=null;var l=q.p;q.p=2;var u=nt;nt|=4;try{ff(t,e);var x=Hu,w=bx(e.containerInfo),A=x.focusedElem,V=x.selectionRange;if(w!==A&&A&&A.ownerDocument&&mx(A.ownerDocument.documentElement,A)){if(V!==null&&dc(A)){var le=V.start,re=V.end;if(re===void 0&&(re=le),"selectionStart"in A)A.selectionStart=le,A.selectionEnd=Math.min(re,A.value.length);else{var ue=A.ownerDocument||document,ae=ue&&ue.defaultView||window;if(ae.getSelection){var ie=ae.getSelection(),be=A.textContent.length,Me=Math.min(V.start,be),st=V.end===void 0?Me:Math.min(V.end,be);!ie.extend&&Me>st&&(w=st,st=Me,Me=w);var F=hx(A,Me),J=hx(A,st);if(F&&J&&(ie.rangeCount!==1||ie.anchorNode!==F.node||ie.anchorOffset!==F.offset||ie.focusNode!==J.node||ie.focusOffset!==J.offset)){var ne=ue.createRange();ne.setStart(F.node,F.offset),ie.removeAllRanges(),Me>st?(ie.addRange(ne),ie.extend(J.node,J.offset)):(ne.setEnd(J.node,J.offset),ie.addRange(ne))}}}}for(ue=[],ie=A;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var ce=ue[A];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}v0=!!Ou,Hu=Ou=null}finally{nt=u,q.p=l,D.T=n}}e.current=t,Tt=2}}function Ef(){if(Tt===2){Tt=0;var e=Kl,t=Wa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=D.T,D.T=null;var l=q.p;q.p=2;var u=nt;nt|=4;try{cf(e,t.alternate,t)}finally{nt=u,q.p=l,D.T=n}}Tt=3}}function Bf(){if(Tt===4||Tt===3){Tt=0,Vn();var e=Kl,t=Wa,n=wl,l=pf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Tt=5:(Tt=0,Wa=Kl=null,qf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Ul=null),gt(n),t=t.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(kn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=D.T,u=q.p,q.p=2,D.T=null;try{for(var x=e.onRecoverableError,w=0;w<l.length;w++){var A=l[w];x(A.value,{componentStack:A.stack})}}finally{D.T=t,q.p=u}}(wl&3)!==0&&r0(),$n(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Du?Ui++:(Ui=0,Du=e):Ui=0,Ki(0)}}function qf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ci(t)))}function r0(){return Lf(),Ef(),Bf(),kf()}function kf(){if(Tt!==5)return!1;var e=Kl,t=ju;ju=0;var n=gt(wl),l=D.T,u=q.p;try{q.p=32>n?32:n,D.T=null,n=zu,zu=null;var x=Kl,w=wl;if(Tt=0,Wa=Kl=null,wl=0,(nt&6)!==0)throw Error(i(331));var A=nt;if(nt|=4,gf(x.current),hf(x,x.current,w,n),nt=A,Ki(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(kn,x)}catch{}return!0}finally{q.p=u,D.T=l,qf(e,t)}}function If(e,t,n){t=jn(n,t),t=ru(e.stateNode,t,2),e=Il(e,t,2),e!==null&&(Te(e,2),$n(e))}function it(e,t,n){if(e.tag===3)If(e,e,n);else for(;t!==null;){if(t.tag===3){If(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ul===null||!Ul.has(l))){e=jn(n,e),n=Io(2),l=Il(t,n,2),l!==null&&(Ro(n,l,t,e),Te(l,2),$n(l));break}}t=t.return}}function Tu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new y2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(wu=!0,u.add(n),e=C2.bind(null,e,t,n),t.then(e,e))}function C2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,xt===e&&(Ye&n)===n&&(yt===4||yt===3&&(Ye&62914560)===Ye&&300>Fe()-e0?(nt&2)===0&&Pa(e,0):Cu|=n,Qa===Ye&&(Qa=0)),$n(e)}function Rf(e,t){t===0&&(t=Ve()),e=ua(e,t),e!==null&&(Te(e,t),$n(e))}function M2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rf(e,n)}function j2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Rf(e,n)}function z2(e,t){return Zt(e,t)}var c0=null,$a=null,Lu=!1,u0=!1,Eu=!1,Xl=0;function $n(e){e!==$a&&e.next===null&&($a===null?c0=$a=e:$a=$a.next=e),u0=!0,Lu||(Lu=!0,N2())}function Ki(e,t){if(!Eu&&u0){Eu=!0;do for(var n=!1,l=c0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var x=0;else{var w=l.suspendedLanes,A=l.pingedLanes;x=(1<<31-Ge(42|e)+1)-1,x&=u&~(w&~A),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Hf(l,x))}else x=Ye,x=we(l,l===xt?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||$e(l,x)||(n=!0,Hf(l,x));l=l.next}while(n);Eu=!1}}function D2(){Gf()}function Gf(){u0=Lu=!1;var e=0;Xl!==0&&G2()&&(e=Xl);for(var t=Fe(),n=null,l=c0;l!==null;){var u=l.next,x=Yf(l,t);x===0?(l.next=null,n===null?c0=u:n.next=u,u===null&&($a=n)):(n=l,(e!==0||(x&3)!==0)&&(u0=!0)),l=u}Tt!==0&&Tt!==5||Ki(e),Xl!==0&&(Xl=0)}function Yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var w=31-Ge(x),A=1<<w,V=u[w];V===-1?((A&n)===0||(A&l)!==0)&&(u[w]=et(A,t)):V<=t&&(e.expiredLanes|=A),x&=~A}if(t=xt,n=Ye,n=we(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&un(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||$e(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&un(l),gt(n)){case 2:case 8:n=al;break;case 32:n=il;break;case 268435456:n=la;break;default:n=il}return l=Of.bind(null,e),n=Zt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&un(l),e.callbackPriority=2,e.callbackNode=null,2}function Of(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(r0()&&e.callbackNode!==n)return null;var l=Ye;return l=we(e,e===xt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sf(e,l,t),Yf(e,Fe()),e.callbackNode!=null&&e.callbackNode===n?Of.bind(null,e):null)}function Hf(e,t){if(r0())return null;Sf(e,t,!0)}function N2(){O2(function(){(nt&6)!==0?Zt(jl,D2):Gf()})}function Bu(){if(Xl===0){var e=Ra;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),Xl=e}return Xl}function Uf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:br(""+e)}function Kf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function A2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var x=Uf((u[Gt]||null).action),w=l.submitter;w&&(t=(t=w[Gt]||null)?Uf(t.formAction):w.getAttribute("formAction"),t!==null&&(x=t,w=null));var A=new pr("action","action",null,l,u);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xl!==0){var V=w?Kf(u,w):new FormData(u);eu(n,{pending:!0,data:V,method:u.method,action:x},null,V)}}else typeof x=="function"&&(A.preventDefault(),V=w?Kf(u,w):new FormData(u),eu(n,{pending:!0,data:V,method:u.method,action:x},x,V))},currentTarget:u}]})}}for(var qu=0;qu<gc.length;qu++){var ku=gc[qu],T2=ku.toLowerCase(),L2=ku[0].toUpperCase()+ku.slice(1);In(T2,"on"+L2)}In(yx,"onAnimationEnd"),In(px,"onAnimationIteration"),In(_x,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(J1,"onTransitionRun"),In(Q1,"onTransitionStart"),In(W1,"onTransitionCancel"),In(Sx,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rl("onBeforeInput",["compositionend","keypress","textInput","paste"]),rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zi));function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var w=l.length-1;0<=w;w--){var A=l[w],V=A.instance,le=A.currentTarget;if(A=A.listener,V!==x&&u.isPropagationStopped())break e;x=A,u.currentTarget=le;try{x(u)}catch(re){wr(re)}u.currentTarget=null,x=V}else for(w=0;w<l.length;w++){if(A=l[w],V=A.instance,le=A.currentTarget,A=A.listener,V!==x&&u.isPropagationStopped())break e;x=A,u.currentTarget=le;try{x(u)}catch(re){wr(re)}u.currentTarget=null,x=V}}}}function Re(e,t){var n=t[Sn];n===void 0&&(n=t[Sn]=new Set);var l=e+"__bubble";n.has(l)||(Xf(t,e,2,!1),n.add(l))}function Iu(e,t,n){var l=0;t&&(l|=4),Xf(n,e,l,t)}var s0="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[s0]){e[s0]=!0,Ct.forEach(function(n){n!=="selectionchange"&&(E2.has(n)||Iu(n,!1,e),Iu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[s0]||(t[s0]=!0,Iu("selectionchange",!1,t))}}function Xf(e,t,n,l){switch(_d(t)){case 2:var u=ch;break;case 8:u=uh;break;default:u=$u}n=u.bind(null,t,n,e),u=void 0,!ac||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Gu(e,t,n,l,u){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var A=l.stateNode.containerInfo;if(A===u)break;if(w===4)for(w=l.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===u)return;w=w.return}for(;A!==null;){if(w=Nl(A),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){l=x=w;continue e}A=A.parentNode}}l=l.return}Qs(function(){var le=x,re=nc(n),ue=[];e:{var ae=wx.get(e);if(ae!==void 0){var ie=pr,be=e;switch(e){case"keypress":if(vr(n)===0)break e;case"keydown":case"keyup":ie=j1;break;case"focusin":be="focus",ie=uc;break;case"focusout":be="blur",ie=uc;break;case"beforeblur":case"afterblur":ie=uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=h1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=N1;break;case yx:case px:case _x:ie=g1;break;case Sx:ie=T1;break;case"scroll":case"scrollend":ie=f1;break;case"wheel":ie=E1;break;case"copy":case"cut":case"paste":ie=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ex;break;case"toggle":case"beforetoggle":ie=q1}var Me=(t&4)!==0,st=!Me&&(e==="scroll"||e==="scrollend"),F=Me?ae!==null?ae+"Capture":null:ae;Me=[];for(var J=le,ne;J!==null;){var ce=J;if(ne=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ne===null||F===null||(ce=di(J,F),ce!=null&&Me.push(Xi(J,ce,ne))),st)break;J=J.return}0<Me.length&&(ae=new ie(ae,be,null,n,re),ue.push({event:ae,listeners:Me}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",ae&&n!==tc&&(be=n.relatedTarget||n.fromElement)&&(Nl(be)||be[Dl]))break e;if((ie||ae)&&(ae=re.window===re?re:(ae=re.ownerDocument)?ae.defaultView||ae.parentWindow:window,ie?(be=n.relatedTarget||n.toElement,ie=le,be=be?Nl(be):null,be!==null&&(st=o(be),Me=be.tag,be!==st||Me!==5&&Me!==27&&Me!==6)&&(be=null)):(ie=null,be=le),ie!==be)){if(Me=Fs,ce="onMouseLeave",F="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(Me=ex,ce="onPointerLeave",F="onPointerEnter",J="pointer"),st=ie==null?ae:_e(ie),ne=be==null?ae:_e(be),ae=new Me(ce,J+"leave",ie,n,re),ae.target=st,ae.relatedTarget=ne,ce=null,Nl(re)===le&&(Me=new Me(F,J+"enter",be,n,re),Me.target=ne,Me.relatedTarget=st,ce=Me),st=ce,ie&&be)t:{for(Me=B2,F=ie,J=be,ne=0,ce=F;ce;ce=Me(ce))ne++;ce=0;for(var Ce=J;Ce;Ce=Me(Ce))ce++;for(;0<ne-ce;)F=Me(F),ne--;for(;0<ce-ne;)J=Me(J),ce--;for(;ne--;){if(F===J||J!==null&&F===J.alternate){Me=F;break t}F=Me(F),J=Me(J)}Me=null}else Me=null;ie!==null&&Vf(ue,ae,ie,Me,!1),be!==null&&st!==null&&Vf(ue,st,be,Me,!0)}}e:{if(ae=le?_e(le):window,ie=ae.nodeName&&ae.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ae.type==="file")var Qe=ux;else if(rx(ae))if(sx)Qe=Z1;else{Qe=U1;var ge=H1}else ie=ae.nodeName,!ie||ie.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?le&&ec(le.elementType)&&(Qe=ux):Qe=K1;if(Qe&&(Qe=Qe(e,le))){cx(ue,Qe,n,re);break e}ge&&ge(e,ae,le),e==="focusout"&&le&&ae.type==="number"&&le.memoizedProps.value!=null&&$0(ae,"number",ae.value)}switch(ge=le?_e(le):window,e){case"focusin":(rx(ge)||ge.contentEditable==="true")&&(Aa=ge,hc=le,_i=null);break;case"focusout":_i=hc=Aa=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,gx(ue,n,re);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":gx(ue,n,re)}var Ee;if(xc)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Na?ax(e,n)&&(Oe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Oe="onCompositionStart");Oe&&(tx&&n.locale!=="ko"&&(Na||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Na&&(Ee=Ws()):(Al=re,ic="value"in Al?Al.value:Al.textContent,Na=!0)),ge=x0(le,Oe),0<ge.length&&(Oe=new $s(Oe,e,null,n,re),ue.push({event:Oe,listeners:ge}),Ee?Oe.data=Ee:(Ee=ix(n),Ee!==null&&(Oe.data=Ee)))),(Ee=I1?R1(e,n):G1(e,n))&&(Oe=x0(le,"onBeforeInput"),0<Oe.length&&(ge=new $s("onBeforeInput","beforeinput",null,n,re),ue.push({event:ge,listeners:Oe}),ge.data=Ee)),A2(ue,e,le,n,re)}Zf(ue,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function x0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,x=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||x===null||(u=di(e,n),u!=null&&l.unshift(Xi(e,u,x)),u=di(e,t),u!=null&&l.push(Xi(e,u,x))),e.tag===3)return l;e=e.return}return[]}function B2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vf(e,t,n,l,u){for(var x=t._reactName,w=[];n!==null&&n!==l;){var A=n,V=A.alternate,le=A.stateNode;if(A=A.tag,V!==null&&V===l)break;A!==5&&A!==26&&A!==27||le===null||(V=le,u?(le=di(n,x),le!=null&&w.unshift(Xi(n,le,V))):u||(le=di(n,x),le!=null&&w.push(Xi(n,le,V)))),n=n.return}w.length!==0&&e.push({event:t,listeners:w})}var q2=/\r\n?/g,k2=/\u0000|\uFFFD/g;function Jf(e){return(typeof e=="string"?e:""+e).replace(q2,`
`).replace(k2,"")}function Qf(e,t){return t=Jf(t),Jf(e)===t}function ut(e,t,n,l,u,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ja(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ja(e,""+l);break;case"className":hr(e,"class",l);break;case"tabIndex":hr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(e,n,l);break;case"style":Vs(e,l,x);break;case"data":if(t!=="object"){hr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&ut(e,t,"name",u.name,u,null),ut(e,t,"formEncType",u.formEncType,u,null),ut(e,t,"formMethod",u.formMethod,u,null),ut(e,t,"formTarget",u.formTarget,u,null)):(ut(e,t,"encType",u.encType,u,null),ut(e,t,"method",u.method,u,null),ut(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=ul);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=br(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),dr(e,"popover",l);break;case"xlinkActuate":cl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":cl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":cl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":cl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":cl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":cl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":cl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":cl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":cl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=x1.get(n)||n,dr(e,n,l))}}function Yu(e,t,n,l,u,x){switch(n){case"style":Vs(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?ja(e,l):(typeof l=="number"||typeof l=="bigint")&&ja(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ul);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),x=e[Gt]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,u),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):dr(e,n,l)}}}function Ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,u=!1,x;for(x in n)if(n.hasOwnProperty(x)){var w=n[x];if(w!=null)switch(x){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ut(e,t,x,w,n,null)}}u&&ut(e,t,"srcSet",n.srcSet,n,null),l&&ut(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var A=x=w=u=null,V=null,le=null;for(l in n)if(n.hasOwnProperty(l)){var re=n[l];if(re!=null)switch(l){case"name":u=re;break;case"type":w=re;break;case"checked":V=re;break;case"defaultChecked":le=re;break;case"value":x=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,t));break;default:ut(e,t,l,re,n,null)}}Us(e,x,A,V,le,w,u,!1);return;case"select":Re("invalid",e),l=w=x=null;for(u in n)if(n.hasOwnProperty(u)&&(A=n[u],A!=null))switch(u){case"value":x=A;break;case"defaultValue":w=A;break;case"multiple":l=A;default:ut(e,t,u,A,n,null)}t=x,n=w,e.multiple=!!l,t!=null?Ma(e,!!l,t,!1):n!=null&&Ma(e,!!l,n,!0);return;case"textarea":Re("invalid",e),x=u=l=null;for(w in n)if(n.hasOwnProperty(w)&&(A=n[w],A!=null))switch(w){case"value":l=A;break;case"defaultValue":u=A;break;case"children":x=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ut(e,t,w,A,n,null)}Zs(e,l,u,x);return;case"option":for(V in n)n.hasOwnProperty(V)&&(l=n[V],l!=null)&&(V==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(e,t,V,l,n,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<Zi.length;l++)Re(Zi[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in n)if(n.hasOwnProperty(le)&&(l=n[le],l!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ut(e,t,le,l,n,null)}return;default:if(ec(t)){for(re in n)n.hasOwnProperty(re)&&(l=n[re],l!==void 0&&Yu(e,t,re,l,n,void 0));return}}for(A in n)n.hasOwnProperty(A)&&(l=n[A],l!=null&&ut(e,t,A,l,n,null))}function I2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,x=null,w=null,A=null,V=null,le=null,re=null;for(ie in n){var ue=n[ie];if(n.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":V=ue;default:l.hasOwnProperty(ie)||ut(e,t,ie,null,l,ue)}}for(var ae in l){var ie=l[ae];if(ue=n[ae],l.hasOwnProperty(ae)&&(ie!=null||ue!=null))switch(ae){case"type":x=ie;break;case"name":u=ie;break;case"checked":le=ie;break;case"defaultChecked":re=ie;break;case"value":w=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:ie!==ue&&ut(e,t,ae,ie,l,ue)}}F0(e,w,A,V,le,re,x,u);return;case"select":ie=w=A=ae=null;for(x in n)if(V=n[x],n.hasOwnProperty(x)&&V!=null)switch(x){case"value":break;case"multiple":ie=V;default:l.hasOwnProperty(x)||ut(e,t,x,null,l,V)}for(u in l)if(x=l[u],V=n[u],l.hasOwnProperty(u)&&(x!=null||V!=null))switch(u){case"value":ae=x;break;case"defaultValue":A=x;break;case"multiple":w=x;default:x!==V&&ut(e,t,u,x,l,V)}t=A,n=w,l=ie,ae!=null?Ma(e,!!n,ae,!1):!!l!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":ie=ae=null;for(A in n)if(u=n[A],n.hasOwnProperty(A)&&u!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ut(e,t,A,null,l,u)}for(w in l)if(u=l[w],x=n[w],l.hasOwnProperty(w)&&(u!=null||x!=null))switch(w){case"value":ae=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==x&&ut(e,t,w,u,l,x)}Ks(e,ae,ie);return;case"option":for(var be in n)ae=n[be],n.hasOwnProperty(be)&&ae!=null&&!l.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:ut(e,t,be,null,l,ae));for(V in l)ae=l[V],ie=n[V],l.hasOwnProperty(V)&&ae!==ie&&(ae!=null||ie!=null)&&(V==="selected"?e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":ut(e,t,V,ae,l,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in n)ae=n[Me],n.hasOwnProperty(Me)&&ae!=null&&!l.hasOwnProperty(Me)&&ut(e,t,Me,null,l,ae);for(le in l)if(ae=l[le],ie=n[le],l.hasOwnProperty(le)&&ae!==ie&&(ae!=null||ie!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ut(e,t,le,ae,l,ie)}return;default:if(ec(t)){for(var st in n)ae=n[st],n.hasOwnProperty(st)&&ae!==void 0&&!l.hasOwnProperty(st)&&Yu(e,t,st,void 0,l,ae);for(re in l)ae=l[re],ie=n[re],!l.hasOwnProperty(re)||ae===ie||ae===void 0&&ie===void 0||Yu(e,t,re,ae,l,ie);return}}for(var F in n)ae=n[F],n.hasOwnProperty(F)&&ae!=null&&!l.hasOwnProperty(F)&&ut(e,t,F,null,l,ae);for(ue in l)ae=l[ue],ie=n[ue],!l.hasOwnProperty(ue)||ae===ie||ae==null&&ie==null||ut(e,t,ue,ae,l,ie)}function Wf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],x=u.transferSize,w=u.initiatorType,A=u.duration;if(x&&A&&Wf(w)){for(w=0,A=u.responseEnd,l+=1;l<n.length;l++){var V=n[l],le=V.startTime;if(le>A)break;var re=V.transferSize,ue=V.initiatorType;re&&Wf(ue)&&(V=V.responseEnd,w+=re*(V<A?1:(A-le)/(V-le)))}if(--l,t+=8*(x+w)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ou=null,Hu=null;function o0(e){return e.nodeType===9?e:e.ownerDocument}function Pf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ff(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ku=null;function G2(){var e=window.event;return e&&e.type==="popstate"?e===Ku?!1:(Ku=e,!0):(Ku=null,!1)}var $f=typeof setTimeout=="function"?setTimeout:void 0,Y2=typeof clearTimeout=="function"?clearTimeout:void 0,ed=typeof Promise=="function"?Promise:void 0,O2=typeof queueMicrotask=="function"?queueMicrotask:typeof ed<"u"?function(e){return ed.resolve(null).then(e).catch(H2)}:$f;function H2(e){setTimeout(function(){throw e})}function Vl(e){return e==="head"}function td(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),li(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Vi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Vi(n);for(var x=n.firstChild;x;){var w=x.nextSibling,A=x.nodeName;x[aa]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=w}}else n==="body"&&Vi(e.ownerDocument.body);n=u}while(n);li(t)}function nd(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Zu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Zu(n),fi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function U2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[aa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function K2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Tn(e.nextSibling),e===null))return null;return e}function ld(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Tn(e.nextSibling),e===null))return null;return e}function Xu(e){return e.data==="$?"||e.data==="$~"}function Vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Z2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ju=null;function ad(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Tn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function rd(e,t,n){switch(t=o0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Vi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fi(e)}var Ln=new Map,cd=new Set;function f0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cl=q.d;q.d={f:X2,r:V2,D:J2,C:Q2,L:W2,m:P2,X:$2,S:F2,M:eh};function X2(){var e=Cl.f(),t=l0();return e||t}function V2(e){var t=he(e);t!==null&&t.tag===5&&t.type==="form"?wo(t):Cl.r(e)}var ei=typeof document>"u"?null:document;function ud(e,t,n){var l=ei;if(l&&typeof t=="string"&&t){var u=Cn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),cd.has(u)||(cd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Ut(t,"link",e),Ze(t),l.head.appendChild(t)))}}function J2(e){Cl.D(e),ud("dns-prefetch",e,null)}function Q2(e,t){Cl.C(e,t),ud("preconnect",e,t)}function W2(e,t,n){Cl.L(e,t,n);var l=ei;if(l&&e&&t){var u='link[rel="preload"][as="'+Cn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Cn(n.imageSizes)+'"]')):u+='[href="'+Cn(e)+'"]';var x=u;switch(t){case"style":x=ti(e);break;case"script":x=ni(e)}Ln.has(x)||(e=p({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ln.set(x,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Ji(x))||t==="script"&&l.querySelector(Qi(x))||(t=l.createElement("link"),Ut(t,"link",e),Ze(t),l.head.appendChild(t)))}}function P2(e,t){Cl.m(e,t);var n=ei;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(e)+'"]',x=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ni(e)}if(!Ln.has(x)&&(e=p({rel:"modulepreload",href:e},t),Ln.set(x,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qi(x)))return}l=n.createElement("link"),Ut(l,"link",e),Ze(l),n.head.appendChild(l)}}}function F2(e,t,n){Cl.S(e,t,n);var l=ei;if(l&&e){var u=ke(l).hoistableStyles,x=ti(e);t=t||"default";var w=u.get(x);if(!w){var A={loading:0,preload:null};if(w=l.querySelector(Ji(x)))A.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ln.get(x))&&Qu(e,n);var V=w=l.createElement("link");Ze(V),Ut(V,"link",e),V._p=new Promise(function(le,re){V.onload=le,V.onerror=re}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,d0(w,t,l)}w={type:"stylesheet",instance:w,count:1,state:A},u.set(x,w)}}}function $2(e,t){Cl.X(e,t);var n=ei;if(n&&e){var l=ke(n).hoistableScripts,u=ni(e),x=l.get(u);x||(x=n.querySelector(Qi(u)),x||(e=p({src:e,async:!0},t),(t=Ln.get(u))&&Wu(e,t),x=n.createElement("script"),Ze(x),Ut(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function eh(e,t){Cl.M(e,t);var n=ei;if(n&&e){var l=ke(n).hoistableScripts,u=ni(e),x=l.get(u);x||(x=n.querySelector(Qi(u)),x||(e=p({src:e,async:!0,type:"module"},t),(t=Ln.get(u))&&Wu(e,t),x=n.createElement("script"),Ze(x),Ut(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function sd(e,t,n,l){var u=(u=te.current)?f0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ti(n.href),n=ke(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ti(n.href);var x=ke(u).hoistableStyles,w=x.get(e);if(w||(u=u.ownerDocument||u,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,w),(x=u.querySelector(Ji(e)))&&!x._p&&(w.instance=x,w.state.loading=5),Ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(e,n),x||th(u,e,n,w.state))),t&&l===null)throw Error(i(528,""));return w}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ni(n),n=ke(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ti(e){return'href="'+Cn(e)+'"'}function Ji(e){return'link[rel="stylesheet"]['+e+"]"}function xd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function th(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ut(t,"link",n),Ze(t),e.head.appendChild(t))}function ni(e){return'[src="'+Cn(e)+'"]'}function Qi(e){return"script[async]"+e}function od(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(l)return t.instance=l,Ze(l),l;var u=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ze(l),Ut(l,"style",u),d0(l,n.precedence,e),t.instance=l;case"stylesheet":u=ti(n.href);var x=e.querySelector(Ji(u));if(x)return t.state.loading|=4,t.instance=x,Ze(x),x;l=xd(n),(u=Ln.get(u))&&Qu(l,u),x=(e.ownerDocument||e).createElement("link"),Ze(x);var w=x;return w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Ut(x,"link",l),t.state.loading|=4,d0(x,n.precedence,e),t.instance=x;case"script":return x=ni(n.src),(u=e.querySelector(Qi(x)))?(t.instance=u,Ze(u),u):(l=n,(u=Ln.get(x))&&(l=p({},n),Wu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Ze(u),Ut(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,d0(l,n.precedence,e));return t.instance}function d0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,x=u,w=0;w<l.length;w++){var A=l[w];if(A.dataset.precedence===t)x=A;else if(x!==u)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var h0=null;function fd(e,t,n){if(h0===null){var l=new Map,u=h0=new Map;u.set(n,l)}else u=h0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var x=n[u];if(!(x[aa]||x[ze]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var w=x.getAttribute(t)||"";w=e+w;var A=l.get(w);A?A.push(x):l.set(w,[x])}}return l}function dd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function nh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lh(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ti(l.href),x=t.querySelector(Ji(u));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=m0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,Ze(x);return}x=t.ownerDocument||t,l=xd(l),(u=Ln.get(u))&&Qu(l,u),x=x.createElement("link"),Ze(x);var w=x;w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Ut(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=m0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Pu=0;function ah(e,t){return e.stylesheets&&e.count===0&&g0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&g0(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&Pu===0&&(Pu=62500*R2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&g0(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>Pu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function m0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)g0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var b0=null;function g0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,b0=new Map,t.forEach(ih,e),b0=null,m0.call(e))}function ih(e,t){if(!(t.state.loading&4)){var n=b0.get(e);if(n)var l=n.get(null);else{n=new Map,b0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<u.length;x++){var w=u[x];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(n.set(w.dataset.precedence,w),l=w)}l&&n.set(null,l)}u=t.instance,w=u.getAttribute("data-precedence"),x=n.get(w)||l,x===l&&n.set(null,u),n.set(w,u),this.count++,l=m0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),x?x.parentNode.insertBefore(u,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Wi={$$typeof:G,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function rh(e,t,n,l,u,x,w,A,V){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Je(0),this.hiddenUpdates=Je(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=x,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function md(e,t,n,l,u,x,w,A,V,le,re,ue){return e=new rh(e,t,n,w,V,le,re,ue,A),t=1,x===!0&&(t|=24),x=xn(3,null,null,t),e.current=x,x.stateNode=e,t=Ac(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},Bc(x),e}function bd(e){return e?(e=Ea,e):Ea}function gd(e,t,n,l,u,x){u=bd(u),l.context===null?l.context=u:l.pendingContext=u,l=kl(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=Il(e,l,t),n!==null&&(nn(n,e,t),Di(n,e,t))}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fu(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}function yd(e){if(e.tag===13||e.tag===31){var t=ua(e,67108864);t!==null&&nn(t,e,67108864),Fu(e,67108864)}}function pd(e){if(e.tag===13||e.tag===31){var t=mn();t=lt(t);var n=ua(e,t);n!==null&&nn(n,e,t),Fu(e,t)}}var v0=!0;function ch(e,t,n,l){var u=D.T;D.T=null;var x=q.p;try{q.p=2,$u(e,t,n,l)}finally{q.p=x,D.T=u}}function uh(e,t,n,l){var u=D.T;D.T=null;var x=q.p;try{q.p=8,$u(e,t,n,l)}finally{q.p=x,D.T=u}}function $u(e,t,n,l){if(v0){var u=es(l);if(u===null)Gu(e,t,l,y0,n),Sd(e,l);else if(xh(u,e,t,n,l))l.stopPropagation();else if(Sd(e,l),t&4&&-1<sh.indexOf(e)){for(;u!==null;){var x=he(u);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var w=je(x.pendingLanes);if(w!==0){var A=x;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var V=1<<31-Ge(w);A.entanglements[1]|=V,w&=~V}$n(x),(nt&6)===0&&(t0=Fe()+500,Ki(0))}}break;case 31:case 13:A=ua(x,2),A!==null&&nn(A,x,2),l0(),Fu(x,2)}if(x=es(l),x===null&&Gu(e,t,l,y0,n),x===u)break;u=x}u!==null&&l.stopPropagation()}else Gu(e,t,l,null,n)}}function es(e){return e=nc(e),ts(e)}var y0=null;function ts(e){if(y0=null,e=Nl(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=S(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return y0=e,null}function _d(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case jl:return 2;case al:return 8;case il:case zl:return 32;case la:return 268435456;default:return 32}default:return 32}}var ns=!1,Jl=null,Ql=null,Wl=null,Pi=new Map,Fi=new Map,Pl=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sd(e,t){switch(e){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":Ql=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(t.pointerId)}}function $i(e,t,n,l,u,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[u]},t!==null&&(t=he(t),t!==null&&yd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function xh(e,t,n,l,u){switch(t){case"focusin":return Jl=$i(Jl,e,t,n,l,u),!0;case"dragenter":return Ql=$i(Ql,e,t,n,l,u),!0;case"mouseover":return Wl=$i(Wl,e,t,n,l,u),!0;case"pointerover":var x=u.pointerId;return Pi.set(x,$i(Pi.get(x)||null,e,t,n,l,u)),!0;case"gotpointercapture":return x=u.pointerId,Fi.set(x,$i(Fi.get(x)||null,e,t,n,l,u)),!0}return!1}function wd(e){var t=Nl(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,wa(e.priority,function(){pd(n)});return}}else if(t===31){if(t=S(n),t!==null){e.blockedOn=t,wa(e.priority,function(){pd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function p0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=es(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);tc=l,n.target.dispatchEvent(l),tc=null}else return t=he(n),t!==null&&yd(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){p0(e)&&n.delete(t)}function oh(){ns=!1,Jl!==null&&p0(Jl)&&(Jl=null),Ql!==null&&p0(Ql)&&(Ql=null),Wl!==null&&p0(Wl)&&(Wl=null),Pi.forEach(Cd),Fi.forEach(Cd)}function _0(e,t){e.blockedOn===t&&(e.blockedOn=null,ns||(ns=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,oh)))}var S0=null;function Md(e){S0!==e&&(S0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){S0===e&&(S0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(ts(l||n)===null)continue;break}var x=he(n);x!==null&&(e.splice(t,3),t-=3,eu(x,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function li(e){function t(V){return _0(V,e)}Jl!==null&&_0(Jl,e),Ql!==null&&_0(Ql,e),Wl!==null&&_0(Wl,e),Pi.forEach(t),Fi.forEach(t);for(var n=0;n<Pl.length;n++){var l=Pl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Pl.length&&(n=Pl[0],n.blockedOn===null);)wd(n),n.blockedOn===null&&Pl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],x=n[l+1],w=u[Gt]||null;if(typeof x=="function")w||Md(n);else if(w){var A=null;if(x&&x.hasAttribute("formAction")){if(u=x,w=x[Gt]||null)A=w.formAction;else if(ts(u)!==null)continue}else A=w.action;typeof A=="function"?n[l+1]=A:(n.splice(l,3),l-=3),Md(n)}}}function jd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(w){return u=w})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function ls(e){this._internalRoot=e}w0.prototype.render=ls.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=mn();gd(n,l,e,t,null,null)},w0.prototype.unmount=ls.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gd(e.current,2,null,e,null,null),l0(),t[Dl]=null}};function w0(e){this._internalRoot=e}w0.prototype.unstable_scheduleHydration=function(e){if(e){var t=_n();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pl.length&&t!==0&&t<Pl[n].priority;n++);Pl.splice(n,0,e),n===0&&wd(e)}};var zd=r.version;if(zd!=="19.2.3")throw Error(i(527,zd,"19.2.3"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var fh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var C0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!C0.isDisabled&&C0.supportsFiber)try{kn=C0.inject(fh),It=C0}catch{}}return tr.createRoot=function(e,t){if(!f(e))throw Error(i(299));var n=!1,l="",u=Eo,x=Bo,w=qo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(w=t.onRecoverableError)),t=md(e,1,!1,null,null,n,l,null,u,x,w,jd),e[Dl]=t.current,Ru(e),new ls(t)},tr.hydrateRoot=function(e,t,n){if(!f(e))throw Error(i(299));var l=!1,u="",x=Eo,w=Bo,A=qo,V=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.formState!==void 0&&(V=n.formState)),t=md(e,1,!0,t,n??null,l,u,V,x,w,A,jd),t.context=bd(null),n=t.current,l=mn(),l=lt(l),u=kl(l),u.callback=null,Il(n,u,l),n=l,t.current.lanes=n,Te(t,n),$n(t),e[Dl]=t.current,Ru(e),new w0(t)},tr.version="19.2.3",tr}var Id;function Sh(){if(Id)return rs.exports;Id=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),rs.exports=_h(),rs.exports}var wh=Sh();const na=Yn;(function(c,r){const a=Yn,i=c();for(;;)try{if(parseInt(a(419))/1*(parseInt(a(416))/2)+-parseInt(a(405))/3+parseInt(a(413))/4+-parseInt(a(414))/5*(-parseInt(a(417))/6)+parseInt(a(406))/7*(parseInt(a(415))/8)+-parseInt(a(420))/9*(parseInt(a(399))/10)+-parseInt(a(398))/11*(parseInt(a(412))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(D0,926717);function Yn(c,r){c=c-398;const a=D0();let i=a[c];if(Yn.cVEBhH===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Yn.ZcOPIr=f,Yn.cVLyqd={},Yn.cVEBhH=!0}const o=a[0],v=c+o,S=Yn.cVLyqd[v];if(S)i=S;else{const h=function(m){this.JVtWXR=m,this.KyqQeH=[1,0,0],this.GaoJCk=function(){return"newState"},this.KEyXVI="\\w+ *\\(\\) *{\\w+ *",this.tMFTAI=`['|"].+['|"];? *}`};h.prototype.UryTXB=function(){const m=new RegExp(this.KEyXVI+this.tMFTAI),y=m.test(this.GaoJCk.toString())?--this.KyqQeH[1]:--this.KyqQeH[0];return this.NsKwZs(y)},h.prototype.NsKwZs=function(m){return~m?this.jgBTqL(this.JVtWXR):m},h.prototype.jgBTqL=function(m){for(let y=0,p=this.KyqQeH.length;y<p;y++)this.KyqQeH.push(Math.round(Math.random())),p=this.KyqQeH.length;return m(this.KyqQeH[0])},new h(Yn).UryTXB(),i=Yn.ZcOPIr(i),Yn.cVLyqd[v]=i}return i}const Ch=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),fs=Ch(void 0,function(){const c=Yn,r={jTFFB:c(421)};return fs.toString().search(r[c(401)])[c(425)]()[c(411)](fs).search("(((.+)+)+)+$")});fs();const z0=()=>new Date().toISOString(),qt=c=>c+"_"+Math.random()[na(425)](36).slice(2,10),ye=(c,r,a)=>Math.max(r,Math[na(418)](a,c)),$l=c=>{const r=na;return c===void 0||{qXIrI:function(i,f){return i===f}}.qXIrI(c,null)?c:JSON[r(404)](JSON[r(410)](c))};function D0(){const c=["ALrgrKi","zMXVD2vYswrZ","ruPLBe0","CgfYC2u","oty5ntm0CKnctw9l","n0flr2v6qq","zMLUza","BgvHzKLKCW","BgvUz3rO","C3rYAw5NAwz5","y29UC3rYDwn0B3i","mtC3ntq5mdbXqLDeEgm","mtG5mtiXmKDgA3PVCa","mtvjwMLwCfe","mZe1ntKYogT0svj1Eq","mJHprNvMD28","mZy2nZuWnMrKB0zPBa","BwLU","nZi4mZHxEvrnzK4","mJa0m01WAvDpqW","kcGOlISPkYKRksSK","zMXVD2vYCW","ChvZAa","z3jVDxbZ","Dg9tDhjPBMC","mtfduNLSDfy","ndm2nZbzAwT2s3e","CMvKDwnL"];return D0=function(){return c},D0()}const lr=c=>Math.floor(c*.7/5)*5;function nl(c,r){const a=na;return c.groups?c[a(424)][a(407)](i=>i[a(402)].includes(r))??null:null}function Mh(c,r){const a=na,i={fmxbB:function(o,v,S){return o(v,S)}},f=i.fmxbB(nl,c,r);return f?f[a(402)]:[r]}function Ml(c,r){const a=na;return c.groups?c[a(424)].find(i=>i[a(408)].includes(r))??null:null}function jh(c,r){const a=na,i={uERlq:function(h,m){return h===m},EJelM:function(h,m){return h/m}},f=(c[a(424)]??[])[a(407)](h=>h.id===r);if(!f)return{x:0,y:0};const o=[];for(const h of f[a(402)]){const m=c[a(422)][a(407)](y=>y.id===h);m&&o.push(m.position)}for(const h of f[a(408)]){const m=(c.leaves??[])[a(407)](y=>y.id===h);m&&o[a(423)](m.position)}if(i.uERlq(o[a(409)],0))return{x:0,y:0};const v=o.reduce((h,m)=>h+m.x,0),S=o[a(400)]((h,m)=>h+m.y,0);return{x:i[a(403)](v,o[a(409)]),y:S/o.length}}function Rd(c,r){const a=na,i={nTZPV:function(o,v,S){return o(v,S)}},f=i.nTZPV(Ml,c,r);return f?f[a(408)]:[r]}function N0(){const c=["EhrODNm","zLHbBKG","CenKEMu","yNz6vMW","ChvZAa","vMfhwMi","ntC3ndaZmuH0DNP4uG","wvrhBhu","C2L6zu1Vzgu","mtC1nJa2oxfkCwjyzG","mJb1vuPiD1y","EuLOq2K","De96BhK","r3Lvrw4","sefbtLq","C2LU","A3HjEhK","mJe3mda3nLDntuDmrq","vNvrsKK","wMXdtLi","vKfiA3y","yxbWBhK","EMvKtxi","uMXOvhu","C2HfCK4","zKrUrKS","vNLSuKi","Dw5PzM9YBq","r0zzyMe","wNnMvve","Bwf4","zKLPrKS","B3n6z0i","nJmZmtmZufjiyNHN","mtu1mJC0nMvet29JCq","oti1mZaXm0jYDuXqrG","ogDXrMLivG","uxDpChC","mtqYnJy3mgX2DMr3Ea","m01qDKzjyW","z3jHzhvHBa","C2jruLy","BwLU","DM9Mu3C","tMrOuNK","tgHjz1q","CM91BMq","mKvXugnjrq","AvvrEKC","C2L6zvn0zxbnBq","C2vHCMnO","u1fsvdi","ExrOAue","Dg9tDhjPBMC","uMv2Dhy","yMX5z2i"];return N0=function(){return c},N0()}const si=bn;(function(c,r){const a=bn,i=c();for(;;)try{if(parseInt(a(209))/1*(parseInt(a(223))/2)+parseInt(a(215))/3*(parseInt(a(193))/4)+-parseInt(a(214))/5+parseInt(a(210))/6+-parseInt(a(185))/7*(-parseInt(a(212))/8)+parseInt(a(182))/9+-parseInt(a(186))/10*(parseInt(a(211))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(N0,359169);const zh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=bn;if(a){const o=a[f(197)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),ds=zh(void 0,function(){const c=bn,r={uOTwa:"(((.+)+)+)+$"};return ds.toString()[c(226)](r.uOTwa)[c(173)]().constructor(ds)[c(226)](r.uOTwa)});ds();const ui=2/3,Gd=.6,Dh=.25,Nh=.75;function ta(c,r,a){const i=bn,f={GyUEn:function(G,Y){return G/Y},ZlCNR:function(G,Y){return G*Y},mDiRC:function(G,Y){return G<=Y},zWSVe:"uniform",yIhCi:function(G,Y){return G-Y},shErN:function(G,Y){return G===Y},vxElS:i(216),jqcfa:function(G,Y){return G*Y},NdhRy:function(G,Y){return G*Y},TEMGZ:function(G,Y){return G*Y},zedMr:function(G,Y){return G*Y},HAANT:function(G,Y){return G/Y},SOeCz:i(202),btNEt:function(G,Y){return G+Y},kxIxy:function(G,Y){return G-Y},agKsg:function(G,Y){return G/Y}},o=f[i(189)](c,2),v=f[i(195)](r,Math[i(227)])/2;if(v<=0||f.mDiRC(o,0))return{diameter:c,layerCount:1};const S=a?.sizeMode??f.zWSVe,h=a?.[i(225)]??0,m=v*f[i(187)](1,ui),y=f.GyUEn(Math.PI*o,2),p=a?.layerCount??Math.max(1,Math[i(222)](f.GyUEn(y,m))),_=f[i(200)](S,f.vxElS)?r+f.jqcfa(p-1,h):r,M=f[i(220)](_,Math.SQRT2)/2,z=v*Dh+f.TEMGZ(M,Nh);if(p===1){const G=Math[i(218)](Math.PI/2,M*ui/o),Y=o*Math.sin(G),U=f.jqcfa(f[i(198)](M,Gd),Math.sin(G));return{diameter:Math[i(222)](Math[i(206)](c,f.NdhRy(2,Y+U))),layerCount:p}}let b=f[i(190)](v*ui,o);for(let G=1;G<p;G++)if(f[i(200)](f.SOeCz,i(213)))_0x13e269+=_0xaaa0c5[_0x5ba355]/3;else{const Y=f[i(200)](S,i(216))?f.btNEt(r,f[i(198)](G,h)):r,U=f.GyUEn(Y*Math[i(227)],2);b+=U*f[i(192)](1,ui)/o}b=Math.min(b,f.agKsg(Math.PI,2));const d=(o+f.NdhRy(z,Gd))*Math.sin(b),E=Math[i(206)](0,d-o);return{diameter:Math.round(c+f.NdhRy(2,E)),layerCount:p}}function bn(c,r){c=c-173;const a=N0();let i=a[c];if(bn.EZlwTa===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};bn.dHKcgy=f,bn.TGPrKk={},bn.EZlwTa=!0}const o=a[0],v=c+o,S=bn.TGPrKk[v];if(S)i=S;else{const h=function(m){this.AhyugG=m,this.QBBtkW=[1,0,0],this.RCjMXb=function(){return"newState"},this.GEaxjO="\\w+ *\\(\\) *{\\w+ *",this.tsrKDT=`['|"].+['|"];? *}`};h.prototype.HlTBFd=function(){const m=new RegExp(this.GEaxjO+this.tsrKDT),y=m.test(this.RCjMXb.toString())?--this.QBBtkW[1]:--this.QBBtkW[0];return this.eYtnzn(y)},h.prototype.eYtnzn=function(m){return~m?this.wXgxWB(this.AhyugG):m},h.prototype.wXgxWB=function(m){for(let y=0,p=this.QBBtkW.length;y<p;y++)this.QBBtkW.push(Math.round(Math.random())),p=this.QBBtkW.length;return m(this.QBBtkW[0])},new h(bn).HlTBFd(),i=bn.dHKcgy(i),bn.TGPrKk[v]=i}return i}function rr(c,r,a=si(203),i=0){const f=si,o={iUQzG:function(h,m){return h<=m},fDnFK:f(216),NAtZR:function(h,m){return h/m},vgDvn:function(h,m){return h*m},pCdze:function(h,m){return h<m}};if(o[f(224)](r,0)||o[f(224)](c,0))return 0;const v=[];for(let h=0;h<r;h++){const m=a===o[f(201)]?c+h*i:c;v[f(180)](o.NAtZR(o.vgDvn(m,Math[f(227)]),2))}let S=v[0];for(let h=1;o[f(178)](h,r);h++)S+=v[h]/3;return Math[f(222)](S*2)}function Ah(c,r,a=si(203),i=0){const f=si,o={fwqjo:function(p,_){return p<=_},CjgeM:function(p,_){return p/_},cPSZM:"uniform",GFYba:function(p,_){return p*_},sbQRV:function(p,_){return p+_},fXAnH:function(p,_){return p/_},VaGZb:function(p,_){return p-_},KEbSd:function(p,_){return p/_}};if(r<=0||o.fwqjo(c,0))return 0;const v=o.CjgeM(c,2),S=Math[f(227)]/2,h=r;if(a===o.cPSZM||i===0){const p=o.CjgeM(o[f(204)](S,o[f(217)](h,2)),3);return Math.max(1,Math[f(222)](v/p))}const m=o[f(177)](o.GFYba(o[f(204)](i,o[f(181)](h,1)),h),6),y=o.KEbSd((o[f(177)](v,S)-m)*3,h+2);return Math[f(206)](1,Math.round(y))}function Th(c,r,a){const i=si,f={fIiFK:function(S,h){return S/h},LhIgT:i(203),oszgB:function(S,h){return S*h},StLjP:function(S,h){return S===h},wuiCd:i(216),Revtv:function(S,h){return S+h},gLIGQ:function(S,h){return S<h},VuQJI:function(S,h){return S-h},ythiA:function(S,h){return S-h},HTtXB:function(S,h){return S/h},YTGlu:i(196),blygb:"woyPO",ZsfUQ:"udZsS"};if(c<=r)return 1;let o=1,v=80;for(let S=0;f.gLIGQ(S,30);S++)if(f.StLjP(f[i(183)],"HWEss")){const h=HFTYQz.fIiFK(_0x30b2b8,2),m=_0x496bd5*_0x516d6d[i(227)]/2;if(m<=0||h<=0)return{diameter:_0x414146,layerCount:1};const y=_0x5b1096?.[i(184)]??HFTYQz[i(221)],p=_0x3d9176?.[i(225)]??0,_=m*(1-_0x19e5f0),M=HFTYQz[i(207)](HFTYQz.oszgB(_0x222ee7.PI,h),2),z=_0xa94d7c?.layerCount??_0x275d59.max(1,_0x2ad47d[i(222)](M/_)),b=HFTYQz.StLjP(y,HFTYQz.wuiCd)?_0x5529d7+HFTYQz[i(208)](z-1,p):_0x539e31,d=b*_0x3cdef0[i(227)]/2,E=HFTYQz[i(174)](m*_0x348cdd,d*_0x69e40a);if(z===1){const N=_0x2b6456.min(_0x206174.PI/2,HFTYQz.fIiFK(HFTYQz.oszgB(d,_0x42121e),h)),O=h*_0x2644fa[i(191)](N),W=HFTYQz[i(208)](d*_0x152e8f,_0x4b1692.sin(N));return{diameter:_0x3010b9.round(_0x4ce7cc.max(_0x97c152,HFTYQz[i(208)](2,HFTYQz.Revtv(O,W)))),layerCount:z}}let R=HFTYQz.oszgB(m,_0x466d0e)/h;for(let N=1;HFTYQz.gLIGQ(N,z);N++){const O=y===i(216)?HFTYQz[i(174)](_0x4e05a4,HFTYQz[i(208)](N,p)):_0x414ccd,W=O*_0x345728.SQRT2/2;R+=W*HFTYQz[i(194)](1,_0x2fee55)/h}R=_0x275a92[i(218)](R,HFTYQz[i(207)](_0xa67e16.PI,2));const G=(h+E*_0x1d3735)*_0xdcb312.sin(R),Y=_0x2c7159[i(206)](0,HFTYQz[i(228)](G,h));return{diameter:_0x5b573b.round(_0x49c564+2*Y),layerCount:z}}else{const h=(o+v)/2,{diameter:m}=ta(r,h,a);if(m<c)if(f.StLjP(f[i(175)],f[i(205)])){const y=f.HTtXB(_0x2deb11+_0x2c5aea,2),{diameter:p}=_0x1eccb5(_0x5f5573,y,_0x568343);p<_0x4560df?_0x1cfe45=y:_0x1ab591=y}else o=h;else v=h}return Math.max(1,Math.round(f[i(174)](o,v)/2))}function Lh(c,r,a){const i=si,f={RlhTu:"uniform",tOzly:function(_,M){return _/M},ShSiv:function(_,M){return _/M},bFvET:function(_,M){return _>=M},vofSw:function(_,M){return _<M},xthvs:function(_,M){return _*M},SblJl:function(_,M){return _-M},dkqSH:function(_,M){return _>M},bvzVl:function(_,M){return _+M}},o=c/2,v=r*Math.SQRT2/2;if(v<=0||o<=0)return 1;const S=a?.[i(184)]??f.RlhTu,h=a?.[i(225)]??0,m=Math.PI/2;if(S===f[i(199)]||h===0){const _=v/3,M=Math.PI*o/2;return Math.max(1,Math.round(f.tOzly(M,_)))}let y=f.ShSiv(v*ui,o);if(f.bFvET(y,m))return 1;let p=1;for(let _=1;f[i(219)](_,100);_++){const M=r+_*h,z=f[i(176)](M,Math[i(227)])/2,b=f[i(188)](z*f.SblJl(1,ui),o);if(y+=b,f.dkqSH(y,m+f.ShSiv(b,2)))break;p=f[i(179)](_,1)}return Math.max(1,p)}(function(c,r){const a=Nt,i=c();for(;;)try{if(-parseInt(a(471))/1+-parseInt(a(464))/2+-parseInt(a(473))/3*(-parseInt(a(447))/4)+-parseInt(a(466))/5*(parseInt(a(476))/6)+-parseInt(a(428))/7+-parseInt(a(419))/8+-parseInt(a(462))/9*(-parseInt(a(478))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,524619);const Eh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Nt;if(a){const o=a[f(435)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),hs=Eh(void 0,function(){const c=Nt,r={zeTGK:c(431)};return hs.toString()[c(426)]("(((.+)+)+)+$")[c(459)]().constructor(hs).search(r.zeTGK)});function Nt(c,r){c=c-417;const a=A0();let i=a[c];if(Nt.tQdFwD===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Nt.PgAuwO=f,Nt.tHLRcb={},Nt.tQdFwD=!0}const o=a[0],v=c+o,S=Nt.tHLRcb[v];if(S)i=S;else{const h=function(m){this.mZwhPa=m,this.EqNKlj=[1,0,0],this.nhVhTY=function(){return"newState"},this.GryLHc="\\w+ *\\(\\) *{\\w+ *",this.vcYmgW=`['|"].+['|"];? *}`};h.prototype.CPkwtq=function(){const m=new RegExp(this.GryLHc+this.vcYmgW),y=m.test(this.nhVhTY.toString())?--this.EqNKlj[1]:--this.EqNKlj[0];return this.jmbhFO(y)},h.prototype.jmbhFO=function(m){return~m?this.OJgVHL(this.mZwhPa):m},h.prototype.OJgVHL=function(m){for(let y=0,p=this.EqNKlj.length;y<p;y++)this.EqNKlj.push(Math.round(Math.random())),p=this.EqNKlj.length;return m(this.EqNKlj[0])},new h(Nt).CPkwtq(),i=Nt.PgAuwO(i),Nt.tHLRcb[v]=i}return i}hs();const xr=.28,Yd={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function cr(c){const r=Nt;return{YmECd:function(i,f){return i===f}}[r(475)](c,"")?Yd[r(423)]:Yd.}function A0(){const c=["5yMJ44gK44g+44g/","tKzou2W","vLvPz0O","C2vHCMnO","CufHwgK","ntq1nZu3og1WrfvptG","BgvUz3rO","z0vvtva","kcGOlISPkYKRksSK","y29Z","u2H2wKG","AvrsDfG","yxbWBhK","D2vZruu","vMrjruO","BfvMthK","BwLU","yNf3wM4","Bwf4","rg5PEhy","zMXVB3i","veHTqw0","AK5OCgq","BgPPuhm","nhfou3LJsW","ywfzDwu","s2LhuuS","twzkA3u","ywjZ","Cxn0D3C","B3jKzxi","B1jvq0y","C2nHBgu","yu9dDLu","wu5xzg4","Dg9gAxHLza","Dg9tDhjPBMC","CMfKAxvZ","BgjXANC","mZy2mZK3mJLIwK9Tsgi","sw1IuxO","mJa0odGZmgfvzgH6AG","v054EKW","nxvYzKHItW","C2LU","r3DTDNO","serXC2W","tLzrzKu","oty4odCYA3b2vLHP","zNb6ANy","nZK5mZqXre1Wrwrk","CM91BMq","ww1fq2q","mZK5nJzOEer5zM0","C29YDa","mtbkuuHiAwm","AM9PBG","yKHzDxq","odi2nJq1nM9xtKr4Eq","tergDK0","B1rotuC","qLzQAwC"];return A0=function(){return c},A0()}function ea(c){return c*Math.PI/180}const cn=2.7;function kt(c){const r=Nt,a={DpVAr:function(v,S){return v/S},fpzjv:function(v,S){return v*S},gEUMP:function(v,S){return v/S}},i=a.DpVAr(c*Math.SQRT2,2),f=a[r(472)](i,cn),o=a[r(430)](f,2);return{length:f,width:o}}function Bh(c){return{vSUfR:function(a,i){return a/i}}.vSUfR(c*cn,2)}function ar(c,r,a){const i=Nt,f={KiGQK:function(m,y){return m*y},zLiPt:function(m,y){return m-y},oRUCF:function(m,y){return m*y},bHYut:function(m,y){return m+y},THmAm:function(m,y){return m*y}},{length:o}=kt(a),v=f[i(449)](o,r),S=Math.max(0,f.zLiPt(c,f[i(454)](v,xr))),h=f[i(418)](S,v);return f[i(444)](h,2)/cn}function qh(c,r,a){const i=Nt,f={NFNSl:function(h,m){return h*m}},{length:o}=kt(a),v=f.NFNSl(o,r),S=f[i(424)](c,cn)/2;return Math.max(2,S-v*(1-xr))}function tl(c,r,a){const i=Nt,f={ShvZH:function(y,p){return y*p},YNWdn:function(y,p){return y*p},ljiPs:function(y,p){return y*p},dqJEu:function(y,p){return y<=p},VUigJ:function(y,p){return y<p},yoybK:"NqKkB",Gwmvz:function(y,p){return y+p},VdIEJ:function(y,p){return y%p},LDFvM:function(y,p){return y+p},BVjig:function(y,p){return y>p},aOCvU:function(y,p){return y-p},HDqsl:function(y,p){return y<p},OXzDO:function(y,p){return y/p}};if(!c||f.dqJEu(c,0)||!a||a<=0)return r??0;const o=360/c,v=360/a,S=[];for(let y=0;f[i(425)](y,c);y++)S.push(((r+y*o)%360+360)%360);let h=r+o/2,m=-1;for(let y=0;y<c;y++)if(f.yoybK==="NqKkB"){const p=f[i(468)](r,f[i(446)](y,o))+o/2;let _=1/0;for(let M=0;M<a;M++){const z=f[i(437)](f[i(420)](f[i(437)](p+M*v,360),360),360);for(const b of S){let d=Math[i(451)](z-b);f[i(422)](d,180)&&(d=f[i(456)](360,d)),f[i(469)](d,_)&&(_=d)}}_>m&&(m=_,h=p)}else _0x19c34f.radius=_0x39b267.max(2,_0x14f109[i(474)](f.ShvZH(f[i(433)](_0x537d81[i(460)],_0x20eb80),10))/10),_0x1cdb88.scale=_0xb0553c[i(474)](f[i(457)](f[i(446)](_0x192d02[i(455)]??1,_0x33e32c),100))/100;return f.OXzDO(Math[i(474)](h*10),10)}function J0(c,r,a){const i=Nt,f={IEtRS:function(M,z){return M(z)},ewCvh:function(M,z){return M*z},lYNiV:function(M,z){return M-z},MfJku:function(M,z){return M/z},ImbQz:function(M,z){return M*z},oTNMG:function(M,z,b){return M(z,b)}};if(c[i(429)]===0)return;const{length:o}=f.IEtRS(kt,r),v=c[0],S=v[i(455)]??1,h=f.ewCvh(o,S),m=Math[i(441)](0,f.lYNiV(v[i(460)],h*xr)),y=m+h;if(y<=0)return;const p=f[i(450)](f.ewCvh(a,cn),2),_=f.MfJku(p,y);for(const M of c)M.radius=Math[i(441)](2,Math[i(474)](M[i(460)]*_*10)/10),M.scale=f.MfJku(Math.round(f[i(463)](M.scale??1,_)*100),100);f[i(421)](ms,c,r)}function ms(c,r){const a=Nt,i={Dnixv:function(h,m){return h(m)},aaYue:function(h,m){return h/m}};if(c.length===0)return;const f=c[c.length-1],{length:o}=i[a(442)](kt,r),v=o*(f.scale??1),S=i[a(448)](Math[a(443)](v*xr*10),10);f[a(460)]>S&&(f.radius=S)}function kh(c,r,a,i){const f=Nt,o={qstww:function(_,M){return _*M},WNxzL:function(_,M){return _/M},xPSSe:function(_,M){return _-M},euGzr:"",iTRtX:function(_,M){return _*M},aWVYX:function(_,M){return _>M},jNhpd:function(_,M){return _*M},KqzQp:function(_,M){return _/M},bqwZn:function(_,M){return _/M},qbDYn:function(_,M){return _*M},lbqjw:function(_,M,z,b){return _(M,z,b)}};if(c[f(429)]===0)return;const v=[...c][f(477)]((_,M)=>M[f(453)]-_[f(453)]),{length:S}=kt(r),h=v[f(429)],m=v[0].scale??1,y=o.qstww(S,m);v[0][f(460)]=o.WNxzL(Math[f(443)](o.qstww(y,xr)*10),10);for(let _=1;_<h;_++){const M=v[o.xPSSe(_,1)],z=o.qstww(S,M[f(455)]??1);let b;if(a===o.euGzr){const E=o[f(465)](o[f(434)](70,Math.PI),180),R=o.aWVYX(h,1)?o[f(445)](_/(h-1),E):0;b=o[f(452)](o.jNhpd(z,o[f(465)](30,100)),Math.cos(R))}else b=o.KqzQp(z,3);v[_][f(460)]=o[f(440)](Math[f(474)](o.qbDYn(M[f(460)]+b,10)),10)}const p=[...c].sort((_,M)=>_.order-M[f(453)]);o[f(461)](J0,p,r,i);for(const _ of p){const M=c.find(z=>z.id===_.id);M&&(M[f(460)]=_[f(460)],M.scale=_.scale)}}function xi(c){const r=Nt,a={uqdIk:function(h,m){return h/m},wesEE:function(h,m){return h*m},BNTve:function(h,m){return h/m},NVQfE:function(h,m){return h/m},lUfLy:function(h,m){return h*m}},i=a.uqdIk(360,c),f=a.wesEE(Math.sin(ea(a.BNTve(i,2))),2),o=.96,v=1.2,S=a[r(470)](a[r(436)](f,v),o);return a.uqdIk(Math[r(474)](a[r(438)](Math.max(.3,Math[r(439)](3,S)),100)),100)}function ln(c,r){c=c-171;const a=T0();let i=a[c];if(ln.OApUrf===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};ln.hRGJDc=f,ln.ktjOUK={},ln.OApUrf=!0}const o=a[0],v=c+o,S=ln.ktjOUK[v];if(S)i=S;else{const h=function(m){this.WkjEgR=m,this.ZAVQfM=[1,0,0],this.IsVINZ=function(){return"newState"},this.EBuOCU="\\w+ *\\(\\) *{\\w+ *",this.AvfLXe=`['|"].+['|"];? *}`};h.prototype.hHaZUT=function(){const m=new RegExp(this.EBuOCU+this.AvfLXe),y=m.test(this.IsVINZ.toString())?--this.ZAVQfM[1]:--this.ZAVQfM[0];return this.CaTbeC(y)},h.prototype.CaTbeC=function(m){return~m?this.gFfEZT(this.WkjEgR):m},h.prototype.gFfEZT=function(m){for(let y=0,p=this.ZAVQfM.length;y<p;y++)this.ZAVQfM.push(Math.round(Math.random())),p=this.ZAVQfM.length;return m(this.ZAVQfM[0])},new h(ln).hHaZUT(),i=ln.hRGJDc(i),ln.ktjOUK[v]=i}return i}(function(c,r){const a=ln,i=c();for(;;)try{if(parseInt(a(171))/1+-parseInt(a(196))/2*(parseInt(a(256))/3)+parseInt(a(184))/4+parseInt(a(263))/5+-parseInt(a(255))/6*(parseInt(a(177))/7)+parseInt(a(235))/8*(-parseInt(a(179))/9)+parseInt(a(246))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,339249);const Ih=(function(){let c=!0;return function(r,a){const i=c?function(){const f=ln;if(a){const o=a[f(172)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),bs=Ih(void 0,function(){const c=ln,r={VslAE:c(221)};return bs[c(232)]().search(r.VslAE).toString()[c(267)](bs)[c(228)]("(((.+)+)+)+$")});bs();function Jd(){const c=ln,r={RQlxW:"col_white",uIRvE:"col_red",PZxrd:c(185),lkErk:c(191),tnnVj:"#E0457B",AUVFf:"col_orange",fxfoh:"#F08A3B",KVZOI:c(188),daJDe:"col_lightyellow",sbzSX:"#FDF5C9",AzPhK:c(250),xPhYQ:c(175),hjYLx:"col_darkgreen",VSRHK:c(213),ndhWy:"col_lightblue",OfhCM:c(258),ehFRA:"#C8A2D4",zqcjv:c(203),XAdTh:"col_brown",sUZer:c(249),blKFL:c(174),nWDIe:"col_coral"};return[{id:r[c(193)],name:"",hex:c(229)},{id:r.uIRvE,name:"",hex:"#E34850"},{id:c(260),name:"",hex:r[c(247)]},{id:r[c(204)],name:"",hex:r.tnnVj},{id:r[c(266)],name:"",hex:r.fxfoh},{id:c(252),name:"",hex:r[c(212)]},{id:r[c(218)],name:"",hex:r[c(265)]},{id:r[c(210)],name:"",hex:r.xPhYQ},{id:r[c(226)],name:"",hex:r[c(201)]},{id:r[c(257)],name:"",hex:c(215)},{id:c(236),name:"",hex:"#3B7DD8"},{id:r[c(217)],name:"",hex:c(243)},{id:c(199),name:"",hex:c(230)},{id:"col_lavender",name:"",hex:r[c(227)]},{id:c(209),name:"",hex:r.zqcjv},{id:"col_silver",name:"",hex:c(219)},{id:c(225),name:"",hex:c(208)},{id:r[c(186)],name:"",hex:"#8B5E3C"},{id:r.sUZer,name:"",hex:r[c(222)]},{id:r[c(242)],name:"",hex:c(211)}]}function Rh({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=ln,f={fPtuX:function(S,h){return S(h)},rwfWz:""},o=z0(),v=Jd();return Sa({id:f.fPtuX(qt,i(245)),title:c??f[i(200)],unit:"mm",fabricSquareSize:r??20,baseDiameter:a??30,notes:"",createdAt:o,updatedAt:o,palette:v,flowers:[]})}function Gh(c,r){const a=ln,i={NcVza:function(S,h){return S(h)},ljNXS:function(S,h){return S+h},mZWdK:function(S,h){return S+h}},f=i.NcVza($l,c);f.id=qt(a(187)),f[a(224)]=c[a(224)]+a(214);const o=r?.x??12,v=r?.y??12;return f.position={x:i.ljNXS(c[a(241)]?.x??0,o),y:i[a(176)](c.position?.y??0,v)},f.layers=(f[a(173)]||[]).map(S=>({...S,id:qt("lay"),petalOverrides:S[a(220)]?S[a(220)][a(189)](h=>({...h})):void 0})),f}function T0(){const c=["wefKvgG","zMX3","i0yYrda0qG","BwfW","Agvlv2e","y29Sx2HVDhbPBMS","s3nHCNi","uLfSEfC","B2zMC2v0qw5NBgu","rhzUBNa","nJC2mtqYrLnmrNDy","5yMJ44gK44g+44g/","t3v0zxi","y29Sx3b1CNbSzq","CNDMv3O","vLnsseS","Cgv0ywXdB3vUDa","i0q0qtG0mW","BgTfCMS","sNP4yNC","B3nZvwG","v1rerLi","i0y1rtzdqW","y29Sx2DVBgq","qxPqAeS","i0yWoda4ma","s1zAt0K","iZfbn0eZqq","ienVChK","iZDfqZHfmW","zw94zeG","t2zOq00","zgfkrgu","i0mWqZbdma","Cgv0ywXpDMvYCMLKzxm","kcGOlISPkYKRksSK","yMXlrKW","Bgf5","BMfTzq","y29Sx2nYzwfT","AgPzthG","zwHguKe","C2vHCMnO","i0y1rJvgnq","iZLcntLcnG","B3jKzxi","Dg9tDhjPBMC","t05wruO","y29Sx3DOAxrL","otC1ota0AhfkqvzY","y29Sx2jSDwu","D1brsM8","q2TIAvi","q0nkCK8","v0DWuNy","Cg9ZAxrPB24","BLDeswu","iZjdm0u2qG","C2nHBgu","ChjQ","mJuZmZqWwvbbqxzJ","ufP4CMq","DurKww4","y29Sx2jSywnR","y29Sx2DYzwvU","zMLUza","y29Sx3LLBgXVDW","EhDzEgS","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","ndu5nLvouwnxCa","nKD5vMD4vq","BMrOv3K","y29Sx25HDNK","wejIqLm","y29Sx3bPBMS","A3nIALe","CMfKAxvZ","mte4otq2mgPRsg1ZvW","q2vUDgvY","C2j6u1G","qvvwrMy","y29UC3rYDwn0B3i","ndyZntaYC3nHvxjo","yxbWBhK","Bgf5zxjZ","iZmZmZmZmW","iZjgqKy0qq","BvPxzeS","mtK4mwPHuLn1DW","ugXLyxm","oxnSz3fMwG","DfPuyLm","Dg5wCe0","tNnOveu","wfHMsxC","mJuWotCXnNLOquXRAW","i0yWoencnG"];return T0=function(){return c},T0()}(function(c,r){const a=gn,i=c();for(;;)try{if(parseInt(a(529))/1*(-parseInt(a(585))/2)+-parseInt(a(523))/3*(parseInt(a(556))/4)+parseInt(a(547))/5+parseInt(a(538))/6*(parseInt(a(513))/7)+parseInt(a(595))/8+-parseInt(a(509))/9+-parseInt(a(514))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,939010);const Yh=(function(){const c={hwUYB:function(a,i){return a===i}};let r=!0;return function(a,i){const f=r?function(){const o=gn;if(i)if(c.hwUYB(o(503),"vKjIG"))_0x59cb0a.colorId=_0xa0380e[o(519)]?.[0]?.id??"col_green";else{const v=i[o(587)](a,arguments);return i=null,v}}:function(){};return r=!1,f}})(),gs=Yh(void 0,function(){const c=gn,r={JgXPs:"(((.+)+)+)+$"};return gs[c(541)]()[c(532)](r.JgXPs)[c(541)]()[c(497)](gs)[c(532)](r.JgXPs)});function gn(c,r){c=c-489;const a=L0();let i=a[c];if(gn.aKFscf===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};gn.EIOrHp=f,gn.oeyJhx={},gn.aKFscf=!0}const o=a[0],v=c+o,S=gn.oeyJhx[v];if(S)i=S;else{const h=function(m){this.wPlapQ=m,this.oBqmvA=[1,0,0],this.TuFBDJ=function(){return"newState"},this.hOcmPw="\\w+ *\\(\\) *{\\w+ *",this.ZFnzAX=`['|"].+['|"];? *}`};h.prototype.ARilyg=function(){const m=new RegExp(this.hOcmPw+this.ZFnzAX),y=m.test(this.TuFBDJ.toString())?--this.oBqmvA[1]:--this.oBqmvA[0];return this.QrhCHr(y)},h.prototype.QrhCHr=function(m){return~m?this.HMXsBQ(this.wPlapQ):m},h.prototype.HMXsBQ=function(m){for(let y=0,p=this.oBqmvA.length;y<p;y++)this.oBqmvA.push(Math.round(Math.random())),p=this.oBqmvA.length;return m(this.oBqmvA[0])},new h(gn).ARilyg(),i=gn.EIOrHp(i),gn.oeyJhx[v]=i}return i}gs();function L0(){const c=["Duf6tMi","rMXVD2vY","wKzuwhK","AeHLAuu","vgjJAMq","qvbft2m","44or44o844oR","C2vpwNK","odK2mti5mvnLzgPuwa","A2vU","y29SB3i","yMfZzurPyw1LDgvY","nJG5nvzbvhneBG","ote1otyXmhf3rhLiAG","y2vUDgvY","CMfKAxvZ","BvrUugy","tgvHzG","CgfSzxr0zq","Aw5JBhvKzxm","ChjVAG","BgvHDMvZ","nda0nfLHvujsua","whvuBfO","Cgv0ywXuExbL","BhbPqLy","Cg9Zzq","zMXVD2vYswrZ","ohjAAKT0Bq","qKXgz0S","BgvMDa","C2vHCMnO","wxLss2K","s3nbsgC","Durnrfe","BMfTzq","zMLSDgvY","otK0oefZugLhCW","zMXVD2vYrgLHBwv0zxi","qwTmBfq","Dg9tDhjPBMC","zLbevfy","zfHQwLe","y3jLyxrLzef0","q1nWzKS","DMLZAwjSzq","nJaWmdCWnwzXve94zW","svnfCMu","y29Sx2DYzwvU","zMXVD2vYCW","C3rLBMnPBhm","Dw5PDa","BwfYDq","BgvHzKDYB3vWCW","x2rVDwjSzvbLDgfSq2fJAgu","mtm0ogj6DvnoAa","ENPRDNa","BwfW","AxngAw5PDgu","ywr1Bhq","Cgv0ywXpDMvYCMLKzxm","CgXHy2vTzw50tw9Kzq","DhLWzq","CM90yxrPB24","yMfJAW","y29Sx3DOAxrL","5yMJ44gK44g+44g/","BxzpANa","B2jQzwn0","BgvHzKLKCW","Cg9ZAxrPB24","C3rYAw5N","Bgf5","Aw5UzxjdB2XVCKLK","CgvWq291BNq","Aw5UzxjtAxPLuMvKDwn0Aw9U","Aw5Uzxjty2fSzq","CxHxAvK","Bgf5zxjZ","AxnbCNjHEq","B2zMC2v0qw5NBgu","AMPJzKC","C09lz1K","BM90zxm","mZq1ntjAwgL1wwG","zg91yMXLugv0ywW","yxbWBhK","z3jW","C2L6zq","BgvHzG","BM56uuy","suzHufG","AgfZ","z3jVDxbZ","ndG3ota2ngnKyurgCG","BgLUA2vKrMXVD2vYr3jVDxbjza","zfrAsgW","yM9VBgvHBG","zMfICMLJu3f1yxjLu2L6zq","44kW44oR44o844ox","A0v5yLa","sufwEwq","D2LKDgHty2fSzq","CvzRwxa","zgHyANu","44oA44od44ox","y29SB3jjza","5lI444gK44g+44g/","y29UC3rYDwn0B3i","BMzVAvy","BgvUz3rO","Cgv0ywXdB3vUDa"];return L0=function(){return c},L0()}function xs(c){const r=gn,a={mvOjp:r(496),IFaPX:function(i,f){return i===f}};return c===r(553)?a[r(568)]:a[r(592)](c,r(510))?r(567):a[r(592)](c,r(496))||a[r(592)](c,"")?c:a[r(568)]}function Sa(c){const r=gn,a={uAzNb:function(o,v,S,h){return o(v,S,h)},YGkOz:"right",CSpfK:"grp",zzkvp:function(o,v){return o!==v},nfoiV:r(572),kEybP:"",Tbcjd:function(o,v){return o===v},BLFgK:function(o,v){return o(v)},jjcfG:function(o,v){return o(v)},QyfFK:r(502),dXjZQ:r(573),YyRKi:function(o,v){return o!==v},dhXju:function(o,v){return o===v},duAcZ:function(o,v){return o==v},DVdbP:"nnzQF",gKbfH:function(o,v){return o*v},UPPow:function(o,v){return o-v},sOKgY:function(o,v){return o!=v},ViXRS:function(o,v){return o!=v},DMwlF:function(o,v){return o===v},MlJNf:"",qxWiY:"",OQBhg:r(507),ISEre:function(o,v){return o!==v},aGHOi:r(566),xoUZy:r(534),AkLlT:"LzwfA",fPDTV:"",CTOja:r(521),IAVyd:"",lpiBV:function(o,v){return o!==v},LGHsW:r(590),ejiRf:"YAZEf",APEOc:r(492),tnzPL:r(549),zmzFc:function(o,v){return o!==v},mTnPf:r(598),zEgHW:function(o,v){return o!==v},hHeiE:r(569),kSKPl:function(o,v){return o===v},EboMB:r(508),PEiKi:function(o,v){return o!==v},wkDio:"gsvpx",nJilk:r(524),dTZHl:"child",OMvrB:r(565)},i=a[r(530)]($l,c||{});Array.isArray(i.flowers)||(i.flowers=[]);for(const o of i[r(550)]){o.id||(o.id=a.jjcfG(qt,"flw")),(typeof o.name!="string"||!o.name)&&(o[r(536)]=a.QyfFK),(!o.position||!Number.isFinite(o.position.x)||!Number.isFinite(o.position.y))&&(o[r(571)]={x:260,y:260}),Array.isArray(o[r(579)])||(o[r(579)]=[]);for(const v of o[r(579)]){if(v.id||(v.id=qt(a[r(543)])),(typeof v[r(495)]!="string"||!v.colorId)&&(v[r(495)]=i[r(519)]?.[0]?.id??r(566)),v[r(525)]=a[r(582)](xs,v[r(525)]),v[r(500)]=ye(a[r(530)](Number,v[r(500)]||0),5,24),Number[r(559)](v.scale)||(v.scale=1),Number[r(559)](v.widthScale)||(v[r(491)]=1),Number.isFinite(v[r(516)])||(v.radius=28),Number.isFinite(v.offsetAngle)||(v[r(581)]=0),delete v[r(555)],v[r(586)])if(a[r(533)](typeof v.doublePetal,"object")||a[r(493)](v.doublePetal,null))delete v.doublePetal;else{if(v.doublePetal.innerScale!=null&&a.duAcZ(v.doublePetal[r(576)],null))if(a.YyRKi(r(591),a.DVdbP))_0x166862[r(559)](_0x2aafcf.innerSizeReduction)?_0x3ee514[r(576)]=a[r(501)](_0x28cea1,_0x43aaa7[r(576)],1,30):delete _0x1850ce[r(576)];else{const S=o.fabricSquareSize??i.fabricSquareSize??20;v[r(586)].innerSizeReduction=Math.round(a.gKbfH(S,a.UPPow(1,v.doublePetal[r(577)])))}delete v[r(586)].innerScale,Number.isFinite(v[r(586)][r(576)])||(v.doublePetal.innerSizeReduction=2),v.doublePetal[r(576)]=ye(v[r(586)][r(576)],1,30),delete v[r(586)].innerPetalType,v[r(586)][r(574)]!=null&&a.zzkvp(typeof v.doublePetal.innerColorId,"string")&&delete v.doublePetal[r(574)]}if(Array[r(580)](v[r(561)]))for(const S of v[r(561)])S&&a[r(583)](S.petalType,null)&&(S.petalType=xs(S.petalType)),S&&delete S.innerPetalType,S&&S.innerColorId!=null&&typeof S[r(574)]!="string"&&delete S[r(574)],S&&a.ViXRS(S[r(576)],null)&&(Number[r(559)](S.innerSizeReduction)?S[r(576)]=a.uAzNb(ye,S[r(576)],1,30):delete S.innerSizeReduction)}(!Number.isFinite(o.flowerDiameter)||o.flowerDiameter<=0)&&(o[r(539)]=60),o.center&&(a.DMwlF(o.center.type,a.MlJNf)&&(o.center.type=""),["","",a[r(578)]].includes(o.center[r(563)])||(o[r(515)].type=a.OQBhg),Number[r(559)](o.center.size)||(o[r(515)].size=6),o[r(515)].size=ye(o[r(515)][r(589)],1,30),(a.ISEre(typeof o.center[r(511)],"string")||!o[r(515)].color)&&(o.center.color=i.palette?.[0]?.id??a.aGHOi),o.center[r(563)]===r(494)&&(a.xoUZy===a[r(540)]?_0x1a23f3[r(571)]={x:675,y:675}:(Number[r(559)](o[r(515)][r(575)])||(o.center.pepCount=12),o[r(515)].pepCount=ye(o.center[r(575)],4,30))),o[r(515)].type!==""&&delete o.center.color2),o[r(562)]!==""&&o[r(562)]!==""&&(o.placementMode=a[r(542)]),a[r(548)](o[r(512)],void 0)&&(a.dhXju("kwZwP",r(535))?delete _0x133a34.doublePetal:(!Number[r(559)](o.baseDiameter)||o.baseDiameter<=0)&&delete o.baseDiameter)}Array.isArray(i.palette)||(i.palette=[]);const f=new Set(i[r(519)][r(558)](o=>o.id));for(const o of Jd())f.has(o.id)||i[r(519)].push(o);i.createdAt||(i.createdAt=z0()),i.updatedAt||(i.updatedAt=i[r(544)]),i.id||(i.id=qt(a.CTOja)),i.title||(i.title=a[r(490)]),i[r(552)]="mm",Number[r(559)](i[r(599)])||(i[r(599)]=20),(!Number.isFinite(i[r(512)])||i.baseDiameter<=0)&&(i.baseDiameter=30),a[r(526)](typeof i.notes,a[r(498)])&&(i[r(584)]=""),Array[r(580)](i.groups)||(i.groups=[]);{const o=new Set(i[r(550)].map(S=>S.id)),v=new Set((i[r(522)]??[])[r(558)](S=>S.id));for(const S of i.groups)Array.isArray(S.flowerIds)||(S[r(528)]=[]),Array[r(580)](S.leafIds)||(S.leafIds=[]),S.flowerIds=S.flowerIds.filter(h=>o[r(593)](h)),S.leafIds=S[r(570)].filter(h=>v[r(593)](h)),Number.isFinite(S[r(564)])||(S[r(564)]=0),S.id||(S.id=a[r(530)](qt,r(588))),(typeof S.name!="string"||!S[r(536)])&&(S[r(536)]=r(600));i.groups=i.groups[r(537)](S=>S[r(528)][r(499)]+S[r(570)].length>0)}Array.isArray(i.leaves)||(i.leaves=[]);for(const o of i[r(522)])o.id||(o.id=a.jjcfG(qt,a.LGHsW)),(typeof o.name!==r(572)||!o.name)&&(o.name=r(518)),(!o.position||!Number[r(559)](o[r(571)].x)||!Number.isFinite(o[r(571)].y))&&(a.DMwlF(a.ejiRf,a[r(506)])?(_0x57d0e7[r(580)](_0x31ea31[r(528)])||(_0x171b8d[r(528)]=[]),_0x2323ae[r(580)](_0x7847bd[r(570)])||(_0xfc8c97[r(570)]=[]),_0x53015d.flowerIds=_0xbd3c31.flowerIds[r(537)](v=>_0x327e70.has(v)),_0x9c9be[r(570)]=_0x498316[r(570)].filter(v=>_0x28aa27.has(v)),_0x75b68e[r(559)](_0xcad11a[r(564)])||(_0x30ee40[r(564)]=0),_0x4c1af9.id||(_0x252500.id=_0x2a136c(a[r(545)])),(a[r(557)](typeof _0x48ee58.name,a[r(498)])||!_0x28e1a5.name)&&(_0x1304c5.name=a[r(489)])):o.position={x:675,y:675}),Number.isFinite(o.rotation)||(o[r(564)]=0),o.petalType=xs(o[r(525)]),(typeof o[r(495)]!==a.nfoiV||!o.colorId)&&(o.colorId=i.palette?.[0]?.id??a.tnzPL),Number[r(559)](o.scale)||(o.scale=1),Number.isFinite(o[r(491)])||(o[r(491)]=1),a.zmzFc(typeof o[r(546)],r(598))&&(o[r(546)]=!0),a.YyRKi(typeof o.locked,a[r(517)])&&(o.locked=!1),delete o._doublePetalCache,o.doublePetal&&(a.zEgHW(typeof o[r(586)],a[r(504)])||a.kSKPl(o.doublePetal,null)?delete o.doublePetal:(Number[r(559)](o[r(586)].innerSizeReduction)||(o.doublePetal.innerSizeReduction=2),o.doublePetal.innerSizeReduction=a.uAzNb(ye,o[r(586)][r(576)],1,30),o[r(586)].innerColorId!=null&&typeof o.doublePetal[r(574)]!==a.nfoiV&&delete o.doublePetal.innerColorId));if(Array[r(580)](i[r(554)])&&i[r(554)][r(499)]>0){const o=new Set((i.leaves??[]).map(v=>v.id));for(const v of i.leafGroups){if(!Array[r(580)](v.leafIds))continue;const S=v.leafIds[r(537)](h=>o[r(593)](h));if(!a[r(505)](S.length,0)){if(v.linkedFlowerGroupId)if(a.Tbcjd(a.EboMB,a.EboMB)){const h=i[r(594)].find(m=>m.id===v[r(596)]);if(h){for(const m of S)h.leafIds[r(520)](m)||h[r(570)].push(m);continue}}else delete _0x21a9e9[r(512)];i[r(594)].push({id:v.id||qt("grp"),name:v[r(536)]||r(600),flowerIds:[],leafIds:S,rotation:Number.isFinite(v.rotation)?v.rotation:0})}}}if(delete i.leafGroups,Array[r(580)](i[r(551)]))if(a.PEiKi(a.wkDio,a.nJilk)){const o=["adult",a[r(597)]],v=["right",r(531),a.OMvrB];i.stencils=i.stencils[r(537)](S=>S&&typeof S.id===r(572)&&o[r(520)](S.variant)&&v.includes(S[r(527)])&&S.position&&Number.isFinite(S[r(571)].x)&&Number.isFinite(S[r(571)].y))}else typeof _0x159484.doublePetal!="object"||a.Tbcjd(_0xae5172.doublePetal,null)?delete _0x9af7d2[r(586)]:(_0x34f1c2[r(559)](_0x40fb21.doublePetal.innerSizeReduction)||(_0x3c56ab.doublePetal.innerSizeReduction=2),_0x282d5c[r(586)][r(576)]=_0x4fb08b(_0x5f4ee1[r(586)][r(576)],1,30),_0x2ab0f4[r(586)][r(574)]!=null&&typeof _0x158221[r(586)][r(574)]!==a.nfoiV&&delete _0x2ee8aa.doublePetal[r(574)]);return Number[r(559)](i.version)||(i.version=1),i}const Oh=On;(function(c,r){const a=On,i=c();for(;;)try{if(-parseInt(a(275))/1+-parseInt(a(274))/2*(parseInt(a(272))/3)+-parseInt(a(283))/4+-parseInt(a(280))/5*(-parseInt(a(278))/6)+-parseInt(a(273))/7*(parseInt(a(282))/8)+parseInt(a(271))/9*(parseInt(a(281))/10)+parseInt(a(277))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,426481);const Hh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),vs=Hh(void 0,function(){const c=On,r={vRFqo:"(((.+)+)+)+$"};return vs[c(276)]().search(c(279))[c(276)]()[c(270)](vs).search(r.vRFqo)});vs();const Qd="tsumami_projects_v1",ll=["",Oh(269)],Uh=["","",""];function E0(){const c=["mJuZntG2nhDov2nYyW","5yMJ44gK44g+44g/","y29UC3rYDwn0B3i","ovDyEMHQzW","odqYodK1BuzZq0LQ","mtG3mZjIwe1Jy3K","nhD6vxjzyG","nJK4oty2vKzwq0fl","Dg9tDhjPBMC","mtyWodiZmdHyzLDZuNi","mZzrtgPKswW","kcGOlISPkYKRksSK","nJe2nJCWwLPLy1jy","ntG0otm1mfHeAufcAG","mtm5mMTKr3z1DG"];return E0=function(){return c},E0()}function On(c,r){c=c-269;const a=E0();let i=a[c];if(On.uNXZcU===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};On.LWUPyc=f,On.LbrFnj={},On.uNXZcU=!0}const o=a[0],v=c+o,S=On.LbrFnj[v];if(S)i=S;else{const h=function(m){this.wvoOik=m,this.hjSEMW=[1,0,0],this.ERdLFR=function(){return"newState"},this.BIclYP="\\w+ *\\(\\) *{\\w+ *",this.dlvSxN=`['|"].+['|"];? *}`};h.prototype.srnKVz=function(){const m=new RegExp(this.BIclYP+this.dlvSxN),y=m.test(this.ERdLFR.toString())?--this.hjSEMW[1]:--this.hjSEMW[0];return this.GFWZgg(y)},h.prototype.GFWZgg=function(m){return~m?this.HfnOVp(this.wvoOik):m},h.prototype.HfnOVp=function(m){for(let y=0,p=this.hjSEMW.length;y<p;y++)this.hjSEMW.push(Math.round(Math.random())),p=this.hjSEMW.length;return m(this.hjSEMW[0])},new h(On).srnKVz(),i=On.LWUPyc(i),On.LbrFnj[v]=i}return i}const Wd=["",""];function B0(){const c=["mtmYnKDkzfHiBG","C3rYAw5NAwz5","BMfLqwi","Du5Ive8","BwfW","mJy5mZeZme1nsxLvva","mtyYmdLPDeHfzLa","z2v0sxrLBq","nJq1ntiZyLDjuxfm","zMLUzeLUzgv4","DxbKyxrLzef0","C2v0sxrLBq","EMnPs2u","mJuYoePoq1nlrG","C2XPy2u","otbYyNfXEfO","mJa1mtbSsuTVCui","zMLSDgvY","Dg9tDhjPBMC","mJi3mtqZnKHJtKLJEq","C29YDa","C2vHCMnO","mtK4mde1owr0svHiAa","kcGOlISPkYKRksSK","qNv2uum","s3HLu3O","mLDrD0z6zW","EMz3Axi","nde5mJC5mhPMBLzXAq","DgL0Bgu"];return B0=function(){return c},B0()}(function(c,r){const a=Qt,i=c();for(;;)try{if(-parseInt(a(413))/1+parseInt(a(401))/2*(-parseInt(a(397))/3)+parseInt(a(424))/4+-parseInt(a(421))/5*(parseInt(a(405))/6)+-parseInt(a(403))/7+parseInt(a(418))/8*(parseInt(a(411))/9)+parseInt(a(420))/10*(parseInt(a(410))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,529357);const Kh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Qt;if(a){if(f(400)==="fzzSh")return _0x36ece0[f(416)](_0x130f8a,_0x3e6721.stringify(_0x45258d)),!0;{const o=a.apply(r,arguments);return a=null,o}}}:function(){};return c=!1,i}})(),ys=Kh(void 0,function(){const c=Qt,r={naeAb:c(398)};return ys[c(423)]()[c(396)](c(398)).toString().constructor(ys).search(r[c(407)])});ys();function ir(){const c=Qt,r={zfwir:function(a,i){return a(i)}};try{const a=localStorage[c(412)](Qd);if(!a)return[];const i=JSON.parse(a);return Array.isArray(i)?i[c(409)](f=>{const o=c;try{const v=f?.project?r[o(402)](Sa,f.project):null;return v?{id:f.id??v.id,title:f.title??v.title,updatedAt:f[o(415)]??v.updatedAt,project:v}:null}catch{return null}}).filter(f=>f!=null):[]}catch{return[]}}function Pd(c){const r=Qt,a={zciKe:function(i,f){return i!==f}};try{return localStorage.setItem(Qd,JSON[r(406)](c)),!0}catch{if(a[r(417)]("LovfS",r(408)))return!1;{const i=_0x429316()[r(422)](f=>f.id!==_0x50cf35);return _0x41e7d5(i)}}}function Qt(c,r){c=c-395;const a=B0();let i=a[c];if(Qt.jpsoML===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Qt.UBYTCJ=f,Qt.tgvMqi={},Qt.jpsoML=!0}const o=a[0],v=c+o,S=Qt.tgvMqi[v];if(S)i=S;else{const h=function(m){this.fTPMzc=m,this.BeUeqB=[1,0,0],this.CGpYFx=function(){return"newState"},this.jgYdJC="\\w+ *\\(\\) *{\\w+ *",this.QOmbnb=`['|"].+['|"];? *}`};h.prototype.rthIma=function(){const m=new RegExp(this.jgYdJC+this.QOmbnb),y=m.test(this.CGpYFx.toString())?--this.BeUeqB[1]:--this.BeUeqB[0];return this.dVareo(y)},h.prototype.dVareo=function(m){return~m?this.DWhSVD(this.fTPMzc):m},h.prototype.DWhSVD=function(m){for(let y=0,p=this.BeUeqB.length;y<p;y++)this.BeUeqB.push(Math.round(Math.random())),p=this.BeUeqB.length;return m(this.BeUeqB[0])},new h(Qt).rthIma(),i=Qt.UBYTCJ(i),Qt.tgvMqi[v]=i}return i}function Zh(c){const r=Qt,a={BuvQC:function(S){return S()}},i=a[r(399)](ir),f=i[r(414)](S=>S.id===c.id),o={id:c.id,title:c[r(404)],updatedAt:c[r(415)],project:c},v=f>=0?[...i.slice(0,f),o,...i[r(419)](f+1)]:[o,...i];return v[r(395)]((S,h)=>S[r(415)]<h.updatedAt?1:-1),Pd(v)}function Xh(c){const r=Qt,a=ir()[r(422)](i=>i.id!==c);return Pd(a)}(function(c,r){const a=Hn,i=c();for(;;)try{if(parseInt(a(250))/1*(-parseInt(a(241))/2)+parseInt(a(283))/3*(-parseInt(a(261))/4)+parseInt(a(260))/5+-parseInt(a(259))/6+-parseInt(a(244))/7+-parseInt(a(263))/8*(-parseInt(a(278))/9)+-parseInt(a(262))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,798585);const Vh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ps=Vh(void 0,function(){const c=Hn,r={pYyNs:"(((.+)+)+)+$"};return ps.toString().search(r[c(276)])[c(287)]()[c(240)](ps)[c(272)]("(((.+)+)+)+$")});function q0(){const c=["zMLUza","CgfSzxr0zq","Bgf5zxjZ","CfL5tNm","s2v6wvO","ndvQA3fyv0e","Bw9Kzq","Aw5UzxjdB2XVCKLK","rvDNBha","zNjVBq","mZeXmtzfrezizu0","y291BNq","Dg90ywXdB3vUDa","zg91yMXLugv0ywW","Dg9tDhjPBMC","BgvHDMvZ","CMvKDwnL","zMfICMLJu3f1yxjLu2L6zq","C3fYDa","u1vfAgm","y29UC3rYDwn0B3i","mJm0EKjotfHp","5y2k44gp44gz","Bwf4","mtC3nZu1mLz4vxfnqW","Aw5KzxG","BMfTzq","Bu1xBeG","BwfW","C29YDa","mtaZm0vZBfzjBq","C2nHBgu","C2v0","yMfZzurPyw1LDgvY","DMLZAwjSzq","DMTQENG","z2v0","DMfSDwvZ","zMfICMLJu2L6zu1T","mty5nZyXmhjezfH3Dq","mJaYodG1meDirhDztG","odbbAMHwruC","mZaXndu4mgDYCwTMuG","mJq5nteXmLzvuw53ta","tvbzzee","uhnvBMG","wfn2vfm","ExbQwxK","Aw5UzxjtAxPLuMvKDwn0Aw9U","yMfZzurPyw1LDgvYtw0","zMXVD2vYCW","CM91BMq","C2vHCMnO"];return q0=function(){return c},q0()}ps();function Hn(c,r){c=c-240;const a=q0();let i=a[c];if(Hn.JkIASK===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Hn.wRtQwM=f,Hn.NAyNDY={},Hn.JkIASK=!0}const o=a[0],v=c+o,S=Hn.NAyNDY[v];if(S)i=S;else{const h=function(m){this.TaiVIz=m,this.Yiydup=[1,0,0],this.IgRfWB=function(){return"newState"},this.AUPXuz="\\w+ *\\(\\) *{\\w+ *",this.EMPxnK=`['|"].+['|"];? *}`};h.prototype.SAaxts=function(){const m=new RegExp(this.AUPXuz+this.EMPxnK),y=m.test(this.IgRfWB.toString())?--this.Yiydup[1]:--this.Yiydup[0];return this.pGoXNo(y)},h.prototype.pGoXNo=function(m){return~m?this.HWxelY(this.TaiVIz):m},h.prototype.HWxelY=function(m){for(let y=0,p=this.Yiydup.length;y<p;y++)this.Yiydup.push(Math.round(Math.random())),p=this.Yiydup.length;return m(this.Yiydup[0])},new h(Hn).SAaxts(),i=Hn.wRtQwM(i),Hn.NAyNDY[v]=i}return i}function Jh(c){const r=Hn,a={KezYZ:function(y,p){return y===p},auVHb:function(y,p){return y/p},hSWQt:function(y,p){return y+p},lrZTh:function(y,p){return y*p},SUEhc:function(y,p){return y*p},vkjzx:function(y,p){return y/p},mMWlH:function(y,p){return y*p},LlSYH:"#999999",ykWsm:function(y,p){return y===p},ozeoh:function(y,p){return y-p},PsUnh:"MPYdA",EDecL:r(242),ZryGV:function(y,p){return y(p)},bhkwW:function(y,p){return y===p},ypjYy:"YOTDu",EWglp:"iOCry",DKOGx:function(y,p){return y!==p}},i=new Map((c[r(274)]||[])[r(248)](y=>[y.id,y])),f=new Map,o=(y,p)=>y?.petalOverrides?.[r(273)](_=>_[r(245)]===p)??null,v=new Map;for(const y of c[r(270)]||[]){const p=y.fabricSquareSize??c.fabricSquareSize;for(const d of y[r(275)]||[]){if(!d[r(254)])continue;const E=Math.round(p*(d[r(251)]??1));for(let R=0;R<d.petalCount;R++){const G=o(d,R),Y=G?.colorId??d.colorId,U=Y+"|"+E,N=f.get(U);if(N)if(r(266)!=="hpWDN")N.count+=1;else return _0x13b913.mode!==_0x46cb75[r(279)]?a[r(277)](_0x2bc30b.mode,"")?-1:1:_0x741d98.baseDiameterMm-_0x3708a8.baseDiameterMm;else f[r(252)](U,{colorId:Y,fabricSizeMm:E,count:1});if(d.doublePetal){const O=d.doublePetal,W=G?.innerColorId??O[r(280)]??Y,Q=G?.[r(268)]??O[r(268)]??2,K=Math.max(3,Math[r(271)](E-Q)),ee=W+"|"+K,I=f[r(256)](ee);I?I.count+=1:a[r(265)]===r(264)?f[r(252)](ee,{colorId:W,fabricSizeMm:K,count:1}):_0x45f176.count+=1}}}const _=y.placementMode??a.EDecL,M=_===""?a.ZryGV(lr,y.flowerDiameter):y.baseDiameter??c[r(253)],z=_+"|"+M,b=v[r(256)](z);if(b)if(a.bhkwW("lJewn",a[r(267)])){const d=a.auVHb(_0x123ea5.fabricSizeMm,10);return a.hSWQt(_0x210125,a.lrZTh(a[r(292)](_0x2cc2b5[r(284)],d),d))}else b[r(284)]+=1;else v[r(252)](z,{mode:_,baseDiameterMm:M,count:1})}for(const y of c[r(288)]??[]){if(!y[r(254)])continue;const p=y.fabricSquareSize??c[r(290)],_=Math[r(271)](p*(y.scale??1)),M=y.colorId,z=M+"|"+_,b=f[r(256)](z);if(b?b[r(284)]+=1:f[r(252)](z,{colorId:M,fabricSizeMm:_,count:1}),y[r(286)]){const d=y.doublePetal,E=d[r(280)]??M,R=Math.max(3,Math.round(_-(d.innerSizeReduction??2))),G=E+"|"+R,Y=f[r(256)](G);if(Y)if(a[r(281)]==="iOCry")Y.count+=1;else{const U=_0x47944f[r(286)],N=_0x4656de?.innerColorId??U.innerColorId??_0x5ad7b1,O=_0xfa851f?.innerSizeReduction??U[r(268)]??2,W=_0x45a258[r(243)](3,_0x5761bc[r(271)](_0x29e613-O)),Q=N+"|"+W,K=_0x91dd0c[r(256)](Q);K?K[r(284)]+=1:_0x5e6b0b[r(252)](Q,{colorId:N,fabricSizeMm:W,count:1})}else f[r(252)](G,{colorId:E,fabricSizeMm:R,count:1})}}const S=new Map;for(const{colorId:y,fabricSizeMm:p,count:_}of f.values()){const M=S.get(y);M?a.DKOGx("TGxYv","TGxYv")?_0x59c155.count+=1:M.entries.push({fabricSizeMm:p,count:_}):S.set(y,{colorId:y,entries:[{fabricSizeMm:p,count:_}]})}const h=Array[r(282)](S.values())[r(248)](({colorId:y,entries:p})=>{const _=r,M={DAiQv:function(G,Y){return a.lrZTh(G,Y)}},z=i[_(256)](y),b=p.sort((G,Y)=>Y.fabricSizeMm-G[_(258)]),d=b[_(289)]((G,Y)=>G+Y[_(284)],0),E=a.auVHb(Math[_(271)](b.reduce((G,Y)=>{const U=_,N=Y[U(258)]/10;return G+M.DAiQv(M.DAiQv(Y.count,N),N)},0)*100),100),R=a[_(255)](Math[_(271)](a[_(247)](Math[_(291)](E),10)),10);return{colorId:y,colorName:z?.[_(246)]??y,hex:z?.hex??a.LlSYH,sizes:b,totalCount:d,totalAreaCm2:E,squareSideCm:R}})[r(249)]((y,p)=>p[r(285)]-y[r(285)]),m=Array[r(282)](v[r(257)]())[r(249)]((y,p)=>{const _=r;return y.mode!==p.mode?a.ykWsm(y.mode,_(242))?-1:1:a.ozeoh(p.baseDiameterMm,y[_(269)])});return{colors:h,bases:m}}function k0(){const c=["mtGWnZe1nNj5t3vqva","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","wvzKuLm","AgvPz2H0","C3r5Bgu","yxbWzw5Kq2HPBgq","wwzctMm","D2HPDgu","ChzUtwq","EwHkDM0","ALDXwNq","B25SB2fK","yxbWBhK","w2rHDgeTz3jPzf0","y2XPy2S","C3bSAxq","w2rHDgeTDgvZDgLKxq","CKnhtuy","uvrtB3C","rurrr0K","Eg1SBNm","C2vHCMnO","mJe1odv1AK5VA3C","zMLSBa","zMLSBfjLy3q","D2LKDgG","zgf0ys10zxn0Awq","C2vYAwfSAxPLvg9tDhjPBMC","mJa5mZuWsuX6BLL2","ug15tgK","y2fUDMfZ","mtq3mdm4nvjcy1z2yG","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","y2XVBMvoB2rL","mZG3wM9pz1Lf","AhjLzG","CMvTB3zLqxr0CMLIDxrL","lNrZDw1HBwKTC2vSlwrHC2G","y3jLyxrLrwXLBwvUDa","z2v0q29UDgv4Da","D1zYrLu","lNrZDw1HBwKTz3jVDxaTzgfZAa","CxvLCNLtzwXLy3rVCKfSBa","mtm5mJa4DMfWq05l","yKP6sxe","v3b6D0m","u1njwvq","rNrTC0m","zMLYC3rdAgLSza","zw5KC1DPDgG","uuTnCwy","DMLLD0jVEa","zg93BMXVywq","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","zMDNz2q","zM9YrwfJAa","mtaWjq","mtiZnZu2nwTzyNPXuW","y29UC3rYDwn0B3i","mJeZodG2oe9wsxnLDq","Dg9tDhjPBMC","mcaWidiWmcaYmda","lNn2zW","AuPrA1K","uMfSr2O","C2v0qxr0CMLIDxrL","CMvTB3zL","yM9KEq","y3jLyxrLt2jQzwn0vvjm","lNbUzW","ngfuDez3Dq","r3bVteO","CMv2B2TLt2jQzwn0vvjm"];return k0=function(){return c},k0()}(function(c,r){const a=an,i=c();for(;;)try{if(-parseInt(a(131))/1*(-parseInt(a(173))/2)+parseInt(a(125))/3+parseInt(a(176))/4+parseInt(a(160))/5+-parseInt(a(162))/6+parseInt(a(134))/7+parseInt(a(146))/8*(-parseInt(a(137))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,230531);const Qh=(function(){const c={sTqXC:"bJzIq"};let r=!0;return function(a,i){const f=an;if(f(147)===c.sTqXC){const o=r?function(){const v=f;if(i){const S=i[v(115)](a,arguments);return i=null,S}}:function(){};return r=!1,o}else _0x23b47a&&_0xd19e30(_0x14d8cc,_0x220243.endsWith(".png")?_0x32658c:_0x24e62b+".png"),_0x476a82[f(175)](_0xe15530)}})(),_s=Qh(void 0,function(){const c=an,r={QKMqf:"(((.+)+)+)+$"};return _s[c(163)]()[c(124)](r[c(153)])[c(163)]()[c(161)](_s).search(r.QKMqf)});_s();function an(c,r){c=c-112;const a=k0();let i=a[c];if(an.yRHxZR===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};an.JTAsAo=f,an.zPajSL={},an.yRHxZR=!0}const o=a[0],v=c+o,S=an.zPajSL[v];if(S)i=S;else{const h=function(m){this.dfpHJX=m,this.IvKBqR=[1,0,0],this.qxIJwf=function(){return"newState"},this.zXlJxp="\\w+ *\\(\\) *{\\w+ *",this.ilPDoT=`['|"].+['|"];? *}`};h.prototype.dWJsnd=function(){const m=new RegExp(this.zXlJxp+this.ilPDoT),y=m.test(this.qxIJwf.toString())?--this.IvKBqR[1]:--this.IvKBqR[0];return this.XWBGpd(y)},h.prototype.XWBGpd=function(m){return~m?this.FqFNjm(this.dfpHJX):m},h.prototype.FqFNjm=function(m){for(let y=0,p=this.IvKBqR.length;y<p;y++)this.IvKBqR.push(Math.round(Math.random())),p=this.IvKBqR.length;return m(this.IvKBqR[0])},new h(an).dWJsnd(),i=an.JTAsAo(i),an.zPajSL[v]=i}return i}function Wh(c,r){const a=an,i={PmyLi:"[data-testid]",QGzEX:a(180),yhJvm:a(154),mCsIO:function(M,z){return M??z},icUyz:"0 0 200 200",KZvtg:"width",pvnMd:function(M,z){return M(z)},wVrFU:a(179),XdvRo:function(M,z){return M(z)},rCGMF:a(159),GpoLJ:a(126),QTSow:a(116),WpzwC:a(177),RalGj:function(M,z,b){return M(z,b)},puWtY:".svg"},f=c.cloneNode(!0);f[a(145)](i[a(132)])[a(158)](M=>M.removeAttribute(a(129))),f[a(139)](i.QGzEX);const o=c.getAttribute(i[a(112)]);o&&f.setAttribute(i.yhJvm,o);const v=i.mCsIO(o,i.icUyz).split(/[\s,]+/).map(Number),S=v[2]??200,h=v[3]??200;f[a(168)](i.KZvtg,i[a(184)](String,S)),f[a(168)](i[a(143)],i.XdvRo(String,h)),f.setAttribute("xmlns",a(156));const m=document.createElementNS("http://www.w3.org/2000/svg","rect");m.setAttribute(i.KZvtg,a(159)),m[a(168)](a(179),i[a(120)]),m.setAttribute(i[a(174)],"white"),f.insertBefore(m,f[a(151)]),f.querySelectorAll(i[a(121)]).forEach(M=>M.remove()),f.querySelectorAll(".tsumami-sel-dash").forEach(M=>M[a(169)]()),f[a(145)](a(144))[a(158)](M=>M[a(169)]()),f.querySelectorAll("[data-marquee]").forEach(M=>M[a(169)]());const y=new XMLSerializer,p=i[a(148)]+y[a(130)](f),_=new Blob([p],{type:"image/svg+xml;charset=utf-8"});i[a(167)](Fd,_,r.endsWith(i.puWtY)?r:r+a(165))}function Ph(c,r,a=2){const i=an,f={FtmsC:i(172),YfBNc:i(133),YVdRS:"image/png",SSIYT:function(b,d){return b*d},vbnwa:function(b,d){return b===d},TgKMe:"mWiPP",iJQkY:"[data-grid]",quMrU:".tsumami-group-dash",KaBdP:i(154),fgggd:i(164),XOtgk:"width",biPdX:function(b,d){return b(d)}},o=c[i(136)](!0);o.querySelectorAll(i(119))[i(158)](b=>b[i(139)](i(129))),o[i(139)](i(180)),o[i(145)](f[i(166)])[i(158)](b=>b[i(169)]()),o.querySelectorAll(i(140)).forEach(b=>b.remove()),o[i(145)](f.quMrU).forEach(b=>b.remove()),o.querySelectorAll("[data-marquee]")[i(158)](b=>b[i(169)]());const v=c.getAttribute(f.KaBdP),S=(v??f[i(157)])[i(118)](/[\s,]+/).map(Number),h=S[2]??200,m=S[3]??200;o[i(168)](f.KaBdP,v??f[i(157)]),o[i(168)](f.XOtgk,String(h)),o[i(168)]("height",f.biPdX(String,m)),o[i(168)](i(123),i(156));const y=new XMLSerializer,p=y[i(130)](o),_=new Blob([p],{type:i(135)}),M=URL[i(171)](_),z=new Image;z[i(114)]=()=>{const b=i,d={jWqZt:function(G,Y,U){return G(Y,U)},EDQGI:f[b(150)]},E=document.createElement(f[b(182)]);E.width=h*a,E.height=m*a;const R=E.getContext("2d");if(!R){URL[b(175)](M);return}R.fillStyle=b(183),R[b(127)](0,0,E[b(128)],E.height),R.drawImage(z,0,0,E[b(128)],E.height),E.toBlob(G=>{const Y=b;G&&d[Y(113)](Fd,G,r[Y(152)](d[Y(122)])?r:r+Y(172)),URL.revokeObjectURL(M)},f.YVdRS)},z.onerror=()=>{const b=i;if(b(172),f.vbnwa("mWiPP",f.TgKMe))URL.revokeObjectURL(M);else{const d=_0x6b347f.createElement(f.YfBNc);d[b(128)]=_0x13b28c*_0x42e2c3,d[b(179)]=f[b(149)](_0x31e762,_0x1ddd23);const E=d[b(142)]("2d");if(!E){_0x38cb84[b(175)](_0x12838f);return}E.fillStyle="white",E.fillRect(0,0,d.width,d.height),E.drawImage(_0x163f30,0,0,d[b(128)],d.height),d.toBlob(R=>{const G=b;R&&_0x4d9906(R,_0x128e59.endsWith(lCpElg.DygNr)?_0x92154d:_0x193493+G(172)),_0x5f4ea2[G(175)](_0x2d7e7e)},f[b(178)])}},z.src=M}function Fd(c,r){const a=an,i=URL.createObjectURL(c),f=document[a(141)]("a");f[a(138)]=i,f[a(155)]=r,document[a(170)][a(181)](f),f[a(117)](),document[a(170)].removeChild(f),URL[a(175)](i)}function M0({active:c,disabled:r,onClick:a,children:i,...f}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...f,children:i})}const Fh="v0.1.0-dev";function $h(c){const{view:r,onNavigate:a,project:i}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Fh})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(M0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(M0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(M0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(M0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function em(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function Ss({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function tm(c){const[r,a]=$.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(Ss,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(c,r){const a=ot,i=c();for(;;)try{if(parseInt(a(200))/1*(parseInt(a(230))/2)+-parseInt(a(173))/3*(parseInt(a(199))/4)+-parseInt(a(158))/5+-parseInt(a(160))/6+parseInt(a(193))/7+-parseInt(a(190))/8*(parseInt(a(205))/9)+parseInt(a(232))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,158956);function I0(){const c=["Bwf4","mtqWmtGWnw9SCu1wvq","Bgf5zxjZ","mtu5odq3mMvUsKzltW","Cuj3wwy","C2nHBgu","CMfKAxvZ","y3vYC29Y","B2zMC2v0qw5NBgu","CM90yxrPB24","y3vYCMvUDfrHCMDLDa","Cgv0ywXbBMDSzq","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","zMLSDgvY","qLPWr3i","y29Z","m3PZt21drW","y3zuu00","qurKzLK","Cgv0ywXdB3vUDa","zMLUza","C2vHCMnO","y3vYCMvUDa","Dg9tDhjPBMC","qLHorxy","C2v0ug9PBNrLCKnHChr1CMu","q2ziqKC","swfZA0S","vgHry2S","Cg9PBNrLCKLK","A1bft2G","Bw9Kzq","yxbWBhK","mZe3mJu2twP0Dwrg","vNvVz3m","C2LU","nJq2ntu1tujIEMjx","uMTuv3K","Bgf5zxi","DxjSkci","C3rHCNrsywrPDxm","tuL0uey","otqXntq4twDyAKjQ","mtiWufPZq3bi","tfntwKC","zMXVD2vYswq","D2LKDgHty2fSzq","C3r5Bgu","oxLoBhnxBa","CernAeq","C3rHCNreAxn0","C3rHCNreAwfT","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","C3rHCNrty2fSzxm","s25kBuC","DeLfDgq","Bgf5zxjjza","sev2zxa","y2zhze8","zMXVD2vYCW","sgnvwLa","zK9nCKy","BhL0z2S","AhLWB3q","Cgv0ywXjBMrLEa","EuPLugy","Cg9ZAxrPB24","B1HnEKe","wM5rz1O","r3LOuMq","yxrHBJi","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","mtKXohzkCKztBa","zMXVD2vYrgLHBwv0zxi","nZCZmZi4mgTsDNzVCq","y1Hxu0y","ywjZ"];return I0=function(){return c},I0()}const nm=(function(){const c={tNHef:function(a,i,f){return a(i,f)}};let r=!0;return function(a,i){const f=r?function(){const o=ot,v={LUPjS:function(S,h,m){return c.tNHef(S,h,m)}};if(o(211)==="KnJmG"){if(i){const S=i[o(189)](a,arguments);return i=null,S}}else{if(!_0x1e0bb3.current)return;v.LUPjS(_0x5a78b1,()=>{},!0),_0x55c65a[o(179)]&&(_0xf797fa[o(179)][o(204)][o(164)]=""),_0x21c5e1.current=null}}:function(){};return r=!1,f}})(),ws=nm(void 0,function(){const c=ot,r={ECRRn:"(((.+)+)+)+$"};return ws.toString().search(r.ECRRn)[c(180)]().constructor(ws)[c(178)](r.ECRRn)});ws();function ot(c,r){c=c-158;const a=I0();let i=a[c];if(ot.frhWdo===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};ot.XsEypi=f,ot.GLnODc={},ot.frhWdo=!0}const o=a[0],v=c+o,S=ot.GLnODc[v];if(S)i=S;else{const h=function(m){this.jUUnWH=m,this.JfAWQS=[1,0,0],this.zTYoYY=function(){return"newState"},this.mhqCUV="\\w+ *\\(\\) *{\\w+ *",this.QLnlkA=`['|"].+['|"];? *}`};h.prototype.ILnmxu=function(){const m=new RegExp(this.mhqCUV+this.QLnlkA),y=m.test(this.zTYoYY.toString())?--this.JfAWQS[1]:--this.JfAWQS[0];return this.jsdbDF(y)},h.prototype.jsdbDF=function(m){return~m?this.NfrzdA(this.jUUnWH):m},h.prototype.NfrzdA=function(m){for(let y=0,p=this.JfAWQS.length;y<p;y++)this.JfAWQS.push(Math.round(Math.random())),p=this.JfAWQS.length;return m(this.JfAWQS[0])},new h(ot).ILnmxu(),i=ot.XsEypi(i),ot.GLnODc[v]=i}return i}function lm(c){const r={IaskK:"/tsumami/",LSSZG:"layer",cXWSF:function(N,O){return N(O)},OClyi:function(N,O){return N-O},oXMzA:function(N,O){return N!==O},fOMrF:function(N,O){return N*O},Vuogs:function(N,O){return N===O},fdDsJ:"flower",kPEOh:"iJBub",xkiRg:function(N,O,W,Q){return N(O,W,Q)},BXNEv:function(N,O,W){return N(O,W)},IRpcG:function(N,O){return N*O},ADdfY:function(N,O){return N-O},cfGdO:function(N,O){return N/O},HEvep:function(N,O){return N-O},qBwYf:function(N,O){return N-O},lytgk:function(N,O){return N<O},tIEtd:function(N,O){return N+O},RkTWy:function(N,O){return N*O},dCIFp:function(N,O){return N/O},fRQec:function(N,O){return N*O},UniaU:function(N,O,W,Q){return N(O,W,Q)},yzhNq:function(N,O,W){return N(O,W)},cvTSM:function(N,O){return N===O},WVWDP:"HznIo",bWGrU:"YAGPv",HcUZP:function(N,O,W){return N(O,W)},ZnQgZ:function(N,O){return N(O)},gKfdu:function(N,O){return N-O},BZpGr:function(N,O){return N-O},hhtfF:function(N,O,W,Q){return N(O,W,Q)},coeUv:function(N,O){return N+O}},{project:a,applyUpdate:i,stageRef:f,clientToSvgPoint:o}=c,v=$.useRef(null),S=(N,O,W,Q)=>{const K=ot;W.preventDefault(),W[K(167)]?.[K(182)]?.(W.pointerId),f.current&&(f[K(179)][K(204)].cursor='url("'+r.IaskK+K(169));const ee=a[K(216)].find(q=>q.id===O);if(!ee)return;const I=N===r[K(201)]&&Q?.layerId?ee.layers[K(170)](q=>q.id===Q[K(213)]).map(q=>({layerId:q.id,scale:q.scale??1,radius:q[K(163)]??10})):ee.layers.map(q=>({layerId:q.id,scale:q.scale??1,radius:q.radius??10})),X=r[K(233)](o,W),C=ee[K(223)].x,g=ee[K(223)].y,D=Math.hypot(r.OClyi(X.x,C),r.OClyi(X.y,g));v[K(179)]={mode:N,flowerId:O,layerId:Q?.[K(213)],startScales:I,startDiam:ee[K(231)]||60,startDist:D}},h=N=>{const O=ot,W={pDMhD:function(Q,K){return r[ot(224)](Q,K)},GyhRd:"zHugS",CfHBG:function(Q,K){return r[ot(218)](Q,K)},kmOQF:function(Q,K){return r[ot(191)](Q,K)},DPbGz:function(Q,K,ee,I){return Q(K,ee,I)},yJePf:r.fdDsJ};if(r[O(187)]==="lpEIV")_0x1c6aa0[O(179)].style.cursor=O(196)+'/tsumami/radius_cursor_32.png?v=16") 16 16, nwse-resize';else{const Q=v.current;if(!Q)return;const K=a.flowers[O(177)](g=>g.id===Q.flowerId);if(!K)return;const ee=o(N),I=Math[O(220)](ee.x-K[O(223)].x,ee.y-K.position.y),X=Math.max(1,Q[O(207)]??1),C=r.xkiRg(ye,I/X,.3,3);i(g=>{const D=O;if(W[D(206)](W[D(226)],W.GyhRd))_0x251557.rotation=_0x2dfd87;else{const q=g.flowers.find(L=>L.id===Q.flowerId);if(!q)return;for(const L of Q[D(210)]){const k=q.layers[D(177)](T=>T.id===L[D(213)]);k&&(k[D(162)]=ye(W[D(183)](L.scale,C),.3,3),W.kmOQF(Q.mode,"flower")&&(k.radius=W.DPbGz(ye,W[D(183)](L.radius,C),2,120)))}Q.mode===W[D(222)]&&(q.flowerDiameter=ye(W.CfHBG(Q[D(208)],C),10,200))}},!1)}},m=()=>{const N=ot;v.current&&(r[N(181)](i,()=>{},!0),f.current&&(f.current[N(204)][N(164)]=""),v[N(179)]=null)},y=$.useRef(null),p=(N,O,W,Q)=>{const K=ot;W.preventDefault(),W.currentTarget?.[K(182)]?.(W.pointerId),f.current&&(f[K(179)].style[K(164)]='url("'+r.IaskK+'rotate_cursor_active_32.png") 16 16, grabbing');const ee=a.flowers[K(177)](g=>g.id===O);if(!ee)return;const I=o(W),X=r.IRpcG(Math.atan2(r[K(175)](I.y,ee.position.y),I.x-ee.position.x),r[K(215)](180,Math.PI)),C=N===K(195)&&Q?.[K(213)]?ee.layers[K(177)](g=>g.id===Q[K(213)])?.offsetAngle??0:ee[K(166)]??0;y.current={mode:N,flowerId:O,layerId:Q?.[K(213)],startAngle:X,startRotation:C}},_=N=>{const O=ot,W=y[O(179)];if(!W)return;const Q=a[O(216)].find(C=>C.id===W.flowerId);if(!Q)return;const K=o(N);let I=Math[O(227)](r[O(214)](K.y,Q.position.y),r[O(161)](K.x,Q[O(223)].x))*(180/Math.PI)-W.startAngle;for(;I>180;)I-=360;for(;r[O(219)](I,-180);)I+=360;const X=W.startRotation+I;i(C=>{const g=O,D=C.flowers.find(q=>q.id===W[g(202)]);if(D)if(W[g(188)]==="layer"&&W.layerId){const q=D.layers.find(L=>L.id===W.layerId);q&&(q.offsetAngle=X)}else D.rotation=X},!1)},M=()=>{const N=ot;y.current&&(r.BXNEv(i,()=>{},!0),f.current&&(f.current[N(204)].cursor=""),y.current=null)},z=$.useRef(null),b=(N,O,W,Q)=>{const K=ot;W.preventDefault(),W.currentTarget?.setPointerCapture?.(W[K(186)]),f.current&&(f[K(179)][K(204)][K(164)]='url("'+r.IaskK+K(229));const ee=a.flowers[K(177)](H=>H.id===O);if(!ee)return;const I=Q?.[K(213)]?ee[K(159)].find(H=>H.id===Q[K(213)]):null;if(!I)return;const X=o(W),C=ee.position.x,g=ee.position.y,D=Q?.[K(221)]??0,q=360/Math.max(1,I[K(176)]),L=r[K(218)](r[K(212)](I[K(165)]+r[K(194)](D,q),ee.rotation),r.dCIFp(Math.PI,180)),k=X.x-C,T=r[K(161)](X.y,g),j=-Math[K(192)](L),B=Math.cos(L),Z=Math[K(234)](r.IRpcG(k,j)+T*B);z.current={mode:N,flowerId:O,layerId:Q?.layerId,petalAngle:L,startDist:Math[K(235)](1,Z),startWidthScale:I[K(203)]??1}},d=N=>{const O=ot,W=z[O(179)];if(!W)return;const Q=a[O(216)].find(L=>L.id===W.flowerId);if(!Q)return;const K=o(N),ee=K.x-Q.position.x,I=r.OClyi(K.y,Q.position.y),X=-Math.sin(W[O(168)]),C=Math[O(172)](W[O(168)]),g=Math[O(234)](r.tIEtd(r.fRQec(ee,X),I*C)),D=r.UniaU(ye,g/W.startDist,.3,3),q=ye(W.startWidthScale*D,.3,3);r.yzhNq(i,L=>{const k=O;{const T=L[k(216)][k(177)](B=>B.id===W.flowerId);if(!T)return;const j=T[k(159)].find(B=>B.id===W.layerId);j&&(j.widthScale=q)}},!1)},E=()=>{const N=ot;if(r[N(174)](r.WVWDP,r.bWGrU))_0x34973d.current[N(204)][N(164)]=N(196)+r[N(184)]+'width_cursor_32.png?v=16") 16 16, ew-resize';else{if(!z.current)return;r[N(217)](i,()=>{},!0),f[N(179)]&&(f.current.style[N(164)]=""),z[N(179)]=null}},R=$.useRef(null);return{scaleDragRef:v,beginScaleDrag:S,updateScaleDrag:h,endScaleDrag:m,rotationDragRef:y,beginRotationDrag:p,updateRotationDrag:_,endRotationDrag:M,widthScaleDragRef:z,beginWidthScaleDrag:b,updateWidthScaleDrag:d,endWidthScaleDrag:E,radiusDragRef:R,beginRadiusDrag:(N,O,W,Q)=>{const K=ot;W.preventDefault(),W.currentTarget?.setPointerCapture?.(W[K(186)]),f.current&&(f.current.style.cursor='url("'+r[K(184)]+K(228));const ee=a.flowers[K(177)](g=>g.id===O);if(!ee)return;const I=Q?.layerId?ee.layers[K(177)](g=>g.id===Q[K(213)]):null;if(!I)return;const X=o(W),C=Math.hypot(X.x-ee[K(223)].x,r.OClyi(X.y,ee.position.y));R[K(179)]={mode:N,flowerId:O,layerId:Q?.[K(213)],startDist:Math[K(235)](1,C),startRadius:I.radius??28}},updateRadiusDrag:N=>{const O=ot;if(O(185)!=="wHCtx"){const W=R.current;if(!W)return;const Q=a[O(216)][O(177)](C=>C.id===W.flowerId);if(!Q)return;const K=r[O(225)](o,N),ee=Math.hypot(r.gKfdu(K.x,Q[O(223)].x),r[O(171)](K.y,Q.position.y)),I=r.qBwYf(ee,W.startDist),X=r.hhtfF(ye,r.coeUv(W[O(197)],I),5,100);i(C=>{const g=O,D=C.flowers[g(177)](L=>L.id===W.flowerId);if(!D)return;const q=D.layers[g(177)](L=>L.id===W.layerId);q&&(q[g(163)]=X)},!1)}else _0x16bdf1[O(163)]=_0x2d1756(JAqOIu.GkScp(_0x4facb9[O(163)],_0x448645),2,120)},endRadiusDrag:()=>{const N=ot;R[N(179)]&&(i(()=>{},!0),f[N(179)]&&(f[N(179)].style.cursor=""),R[N(179)]=null)}}}(function(c,r){const a=Lt,i=c();for(;;)try{if(parseInt(a(486))/1*(parseInt(a(519))/2)+parseInt(a(559))/3*(-parseInt(a(508))/4)+parseInt(a(522))/5*(parseInt(a(557))/6)+parseInt(a(550))/7*(parseInt(a(555))/8)+parseInt(a(505))/9+parseInt(a(517))/10*(-parseInt(a(549))/11)+parseInt(a(512))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,749137);function R0(){const c=["u1jMDgi","yLfUvuu","ntC5ndKWC0HzvvzS","s1rtzNK","mti1mtrUtfDcsvK","Bgf5zxjZ","ywDsEKq","ndeZmdvtzKjJrwK","C2vHCMnO","CM90yxrPB24","v0PywwS","vMPyuwu","A2LUza","Bwf4","wuTquuK","DxjSkci","Cgv0ywXdB3vUDa","Dg9tDhjPBMC","kcGOlISPkYKRksSK","vLr1s3m","Cg9ZAxrPB24","Bw92zq","v3LRDfq","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","rLbLrwK","qwruu00","Cgv0ywXZ","Bgf5zxi","tMLcseS","zMfICMLJu3f1yxjLu2L6zq","DMLZAwjSzq","y29Z","BM9Uzq","C2LU","nZDbAfjOwNK","mte5BMrPENHL","ywjZ","ChH6rKK","zvvvyuG","zMLpC0q","mZaWnZKYve1gt1by","Bgf5zxjjza","ndi2DxLYtw5Z","txbdD0G","mJm3ntDts2TVrhC","zMXVD2vY","D2LKDgG","C0T0q08","y2T1vhG","qNrkzfq","mJH4Cxv3v2S","Cg9PBNrLCG","t1DcBgS","yMvtDLq","Agndshy","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","qNDvwwe","C2nHBgu","y2vUDgvY","q2DzD00","AgrODNe","su5wsLC","zMLSDgvY","BLDAA0O","wwfKwM0","uLDOuM4","AgL0tgf5zxjjza","EfPwEhm","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","mte5mJa0mxfnv3DwBW","rxvyzxu","CM90yxrL","ntmYzLfXBvL6","uwLNyKS","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","AhLWB3q","oda5ntC3nLPJtfnmEa","r0HtEfG","CMfKAxvZ"];return R0=function(){return c},R0()}const am=(function(){let c=!0;return function(r,a){const i=c?function(){if(Lt(497)!=="INVJW")_0x21eb52=_0x5f4318,_0x54cab0=_0x58753b.id;else if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Cs=am(void 0,function(){const c=Lt,r={vraZQ:"(((.+)+)+)+$"};return Cs[c(532)]().search(r.vraZQ)[c(532)]().constructor(Cs)[c(523)](c(533))});Cs();function ci(c,r,a,i,f){const o=Lt,v={MpCwH:"center",BJpLG:"none",zpfAh:"grab",HUkYz:"width",RWhRn:function(U,N){return U*N},YugBl:function(U,N){return U<N},sKtCO:function(U,N){return U(N)},dGAbo:function(U,N){return U<=N},TOryC:o(542),mGNyv:function(U,N){return U>N},BwUYa:function(U,N){return U<=N},XDTLI:o(514),agRzD:function(U,N){return U(N)},hcCHv:function(U,N){return U-N},GHSxX:function(U,N){return U*N},bRvBp:function(U,N){return U+N},xZVxs:function(U,N){return U*N},WJXYk:function(U,N){return U/N},pxzFI:"vwjzR",IfAvb:function(U,N){return U*N},nWZkJ:function(U,N){return U-N},AdTSM:function(U,N){return U+N},ckuTx:function(U,N){return U*N},JlDYF:function(U,N){return U/N},kByrf:function(U,N){return U>=N},EuXeu:function(U,N){return U>N},SRftb:o(495),hVzVJ:"rotate",eUUaH:"scale"},{length:S}=kt(a.fabricSquareSize??i.fabricSquareSize),h=c-a.position.x,m=r-a.position.y,y=Math[o(511)](h,m);let p=1/0;for(const U of a.layers){if(!U[o(545)])continue;const N=U[o(493)]??1,O=v[o(501)](S,N),W=.28,Q=Math.max(0,U[o(514)]-v.RWhRn(O,W));v.YugBl(Q,p)&&(p=Q)}v[o(483)](isFinite,p)||(p=0);const _=Math[o(528)](p*.9,8);if(v.dGAbo(y,_))return{zone:"center"};if(f[o(527)]===v.TOryC){const U=a[o(520)].find(N=>N.id===f[o(556)]&&N.visible);if(U){const N=U.scale??1,O=v[o(501)](S,N),W=.28,Q=Math.max(0,U.radius-O*W);if(v.mGNyv(Q,0)){const ee=Math.abs(y-Q);if(v[o(492)](ee,6))return{zone:v.XDTLI,layerId:U.id}}}}const M=v[o(521)](ea,-(a[o(524)]??0)),z=v.hcCHv(v[o(513)](h,Math.cos(M)),v[o(501)](m,Math.sin(M))),b=v.bRvBp(h*Math.sin(M),m*Math[o(546)](M)),d=f.kind===v.TOryC?a[o(520)][o(498)](U=>U.id===f[o(556)]&&U.visible):a[o(520)][o(498)](U=>U[o(545)]);let E=o(547),R,G,Y=1/0;for(const U of d){const N=U[o(493)]??1,O=S*N,W=U.widthScale??1,Q=v[o(503)](S/2*W,N),K=.28,ee=Math.max(0,v[o(490)](U.radius,v.xZVxs(O,K))),I=v[o(525)](360,Math[o(528)](1,U.petalCount));for(let X=0;X<U[o(531)];X++)if(v.pxzFI===v[o(552)]){const C=U.offsetAngle+v.IfAvb(X,I),g=v[o(483)](ea,C),D=v.IfAvb(Math[o(546)](g),ee),q=v[o(503)](Math.sin(g),ee),L=v[o(499)](z,D),k=v.nWZkJ(b,q),T=Math.cos(-g),j=Math.sin(-g),B=L*T-v.xZVxs(k,j),Z=v[o(540)](v.GHSxX(L,j),v[o(484)](k,T)),H=B/O,P=v.JlDYF(Z,Q);if(H<-.05||H>1.08||Math.abs(P)>.75)continue;const te=Math[o(511)](H-.5,P);if(v.kByrf(te,Y))continue;if(Y=te,R=U.id,G=X,Math[o(551)](P)>.45)E=v.HUkYz;else if(v[o(506)](H,.75))if(v[o(515)]===v[o(515)])E=v.hVzVJ;else switch(_0x2978a4){case v[o(558)]:return o(487);case"rotate":return o(530)+_0x57c497+o(538);case"scale":return o(530)+_0x5992e5+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return o(530)+_0x61cbaa+'width_cursor_32.png?v=16") 16 16, ew-resize';case o(514):return'url("'+_0x3c47bd+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case"move":return _0x1636df(_0x1b6a7a);case v.BJpLG:default:return v.zpfAh}else E="scale"}else _0x3ae831=v.HUkYz}if(E==="none"){if(o(554)==="Xlqdv")return{zone:o(494)};{let U=12;for(const W of a.layers){if(!W[o(545)])continue;const Q=W.scale??1,K=S*Q,ee=.28,I=Math.max(0,v.hcCHv(W.radius,v[o(503)](K,ee)));U=Math.max(U,I+K)}if(Math[o(551)](y-U)<=8)return{zone:v[o(553)]}}}return{zone:E,layerId:R,petalIndex:G}}function j0(c,r,a){const i=Lt,f={Vymcz:i(494),SWTKb:"none",OWBlk:"flower",VjXQe:"scale",YKPQI:function(o,v){return o===v},VTuKs:"GglCW",hJvvZ:"iMgSv",RbRGi:function(o,v){return o===v},YadZm:"petal"};if(c==="center")return f.Vymcz;if(c===i(547))return f.SWTKb;switch(r){case f[i(488)]:{if(c===i(493))return f.VjXQe;if(f[i(529)](c,i(507))&&a?.hitLayerId&&a.flower&&a.length!=null){let o,v=-1/0;for(const S of a[i(560)].layers)if(f[i(534)]!==f.hJvvZ){if(!S[i(545)])continue;const h=S[i(493)]??1,m=a.length*h,y=.28,p=Math.max(0,S.radius-m*y),_=p+m;_>v&&(v=_,o=S.id)}else if(_0x517f5a.abs(_0x165031-_0x1c1d9a)<=6)return{zone:i(514),layerId:_0x5f20c4.id};return f.RbRGi(a[i(502)],o)?"rotate":f[i(526)]}return f.VjXQe}case i(542):return c;case f[i(500)]:case i(541):return f[i(526)];default:return i(493)}}function im(c,r,a,i){const f=Lt,o={fUQbl:function(G,Y){return G*Y},yUtlr:function(G,Y){return G-Y},bQnUE:function(G,Y){return G(Y)},KTSfy:function(G,Y){return G+Y},ALIZA:function(G,Y){return G/Y},hdhvq:"none",zUIre:function(G,Y){return G>Y},BtJdT:"width"},v=a[f(544)]??i.fabricSquareSize,{length:S,width:h}=kt(v),m=a.scale??1,y=o.fUQbl(S,m),p=h*(a.widthScale??1)*m,_=o.yUtlr(c,a[f(535)].x),M=o.yUtlr(r,a[f(535)].y),z=o[f(516)](ea,-(a.rotation??0)),b=_*Math[f(546)](z)-M*Math.sin(z),d=o[f(518)](_*Math[f(548)](z),M*Math.cos(z)),E=o.ALIZA(b,y),R=d/p;return E<-.05||E>1.08?o[f(496)]:o.zUIre(Math.abs(R),.75)?o.hdhvq:Math[f(551)](R)>.45?o[f(485)]:E>.75?"rotate":E>.3?f(493):"move"}function nr(c,r){const a=Lt,i={nQyNa:"rotate",QigbK:a(493),WyktT:function(f,o){return f(o)},PcSvp:"none"};switch(c){case i.nQyNa:return a(530)+r+a(538);case i[a(509)]:return a(530)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case a(561):return'url("'+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case a(536):return i[a(537)](ur,r);case i.PcSvp:default:return"grab"}}function Lt(c,r){c=c-483;const a=R0();let i=a[c];if(Lt.Stjyww===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Lt.qSOqFn=f,Lt.SbUoaZ={},Lt.Stjyww=!0}const o=a[0],v=c+o,S=Lt.SbUoaZ[v];if(S)i=S;else{const h=function(m){this.LNhBYP=m,this.pkPyAS=[1,0,0],this.pduoTG=function(){return"newState"},this.naCVVE="\\w+ *\\(\\) *{\\w+ *",this.gYcoph=`['|"].+['|"];? *}`};h.prototype.oIuNQT=function(){const m=new RegExp(this.naCVVE+this.gYcoph),y=m.test(this.pduoTG.toString())?--this.pkPyAS[1]:--this.pkPyAS[0];return this.sijSEf(y)},h.prototype.sijSEf=function(m){return~m?this.KCQBRI(this.LNhBYP):m},h.prototype.KCQBRI=function(m){for(let y=0,p=this.pkPyAS.length;y<p;y++)this.pkPyAS.push(Math.round(Math.random())),p=this.pkPyAS.length;return m(this.pkPyAS[0])},new h(Lt).oIuNQT(),i=Lt.qSOqFn(i),Lt.SbUoaZ[v]=i}return i}function Od(c,r){const a=Lt,i={beSvT:a(494),HbzPh:"pointer",casqM:a(507),NiBHK:a(561),aknjg:"radius",MuNri:function(f,o){return f(o)},FPeEi:a(547)};switch(c){case i[a(489)]:return i.HbzPh;case i.casqM:return'url("'+r+'rotate_cursor_32.png") 16 16, crosshair';case a(493):return'url("'+r+a(510);case i[a(543)]:return'url("'+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case i.aknjg:return a(530)+r+a(491);case"move":return i.MuNri(ur,r);case i[a(539)]:default:return"grab"}}function ur(c){return'url("'+c+'move_object_cursor_32.png") 16 16, move'}function qn(c){return Lt(530)+c+'move_object_active_32.png") 16 16, grabbing'}function rm(c){return Lt(530)+c+'move_stencil_cursor_32.png") 16 16, move'}function cm(c){const r=Lt;return'url("'+c+r(504)}(function(c,r){const a=En,i=c();for(;;)try{if(parseInt(a(428))/1*(parseInt(a(443))/2)+-parseInt(a(477))/3*(-parseInt(a(446))/4)+parseInt(a(468))/5+-parseInt(a(433))/6+parseInt(a(515))/7*(parseInt(a(439))/8)+-parseInt(a(451))/9*(-parseInt(a(504))/10)+-parseInt(a(461))/11*(parseInt(a(474))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,227771);const um=(function(){const c={jVFdh:"WBXFH"};let r=!0;return function(a,i){const f=En,o={YHgjo:"(((.+)+)+)+$"};if(c[f(465)]===f(482))return _0x12f9a5[f(425)]()[f(448)](o.YHgjo)[f(425)]()[f(434)](_0x2acc55)[f(448)](o.YHgjo);{const v=r?function(){if(i){const S=i.apply(a,arguments);return i=null,S}}:function(){};return r=!1,v}}})(),Ms=um(void 0,function(){const c=En,r={WawsQ:c(479)};return Ms[c(425)]()[c(448)](r.WawsQ).toString()[c(434)](Ms)[c(448)](r.WawsQ)});Ms();function G0(){const c=["rMrcA0G","vLPpD1G","Bw92zwq","y3vYCMvUDfn2zW","zw5Ku2nHBgveCMfN","mte3nJu2nZziAunyswe","yLvVtgO","rhrYCgG","mtqYodzvEe9wEM8","Cg9ZAxrPB24","kcGOlISPkYKRksSK","BwL4zwq","ChjLDMvUDerLzMf1Bhq","wxbbDLe","C2HPzNrlzxK","y3vYCMvUDfrHCMDLDa","A3v5A1a","vxLotuy","A0Twt2G","rfDewKy","y2XPy2TqzxrHBa","zMXVD2vYCW","C3rHCNrtDMC","vwvJvvm","sxjOtva","ufzwvLy","C3rHCNq","y3vYCMvUDa","y2XPzw50wa","CMHHD2O","svzSCfK","zMLUza","B3bgCuq","zhPeu1e","CKztzgu","mti2nZb1D2Xwsfy","C3rHCNrAB29T","vujKzxC","EwTUu28","CgfUma","y2XPzw50wq","ug9zu1m","uLD5ruO","A2LUza","BgvHDMvZ","D2LKDgHty2fSzurYywDszwy","mJfhq0rYBKS","Ee9wq20","CMfKAxvZrhjHz1jLzG","Dg9tDhjPBMC","C3rHCNrqB3m","BgvUz3rO","nte1mZLHrKPxzfK","C3rHCNrdBgLLBNq","BK5cy0m","B0TjCwy","t3rwtu8","mtuYotq2nLz0yLvIqq","y29UC3rYDwn0B3i","CuDozg0","rhPwtxa","s1f6yxy","Aw5KzxG","nZaXnZi4v3fRyMzJ","BwLU","BwfW","wfPszfK","mtr4qLfUAK4","uhDnwuW","AhLWB3q","mJyWsgvUCM9g","BLLrzxe","C2vHCMnO","v0j5zfm","ywjZ","mJe2owH0DKHctG","zMXVD2vYswq","D2Tkzvm","uMPkvxe","DxbKyxrLuMfKAxvZrhjHzW","BxvSDgLtDgfYDfbVC2L0Aw9UCW","B1j5rg8","zw5KuM90yxrPB25eCMfN","CM90yxrPB25eCMfNuMvM","ChvZAa","mtfRyMTsqNu","CgHryu0","CxjhtM0","ChjVAMvJDa","ALzgzgG","BgvHzG","DxbKyxrLv2LKDgHty2fSzurYywC","mteYmtC4nxzRCNrLtq"];return G0=function(){return c},G0()}function En(c,r){c=c-424;const a=G0();let i=a[c];if(En.adAFrb===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};En.wyBaZA=f,En.cEXkZL={},En.adAFrb=!0}const o=a[0],v=c+o,S=En.cEXkZL[v];if(S)i=S;else{const h=function(m){this.iVGpZX=m,this.rTxisv=[1,0,0],this.wwhuVv=function(){return"newState"},this.IBzWOn="\\w+ *\\(\\) *{\\w+ *",this.bueOxR=`['|"].+['|"];? *}`};h.prototype.RktfpC=function(){const m=new RegExp(this.IBzWOn+this.bueOxR),y=m.test(this.wwhuVv.toString())?--this.rTxisv[1]:--this.rTxisv[0];return this.iPKbVL(y)},h.prototype.iPKbVL=function(m){return~m?this.jOmKTM(this.iVGpZX):m},h.prototype.jOmKTM=function(m){for(let y=0,p=this.rTxisv.length;y<p;y++)this.rTxisv.push(Math.round(Math.random())),p=this.rTxisv.length;return m(this.rTxisv[0])},new h(En).RktfpC(),i=En.wyBaZA(i),En.cEXkZL[v]=i}return i}const ai=500*cn;function sm(c){const r=En,a={PVVVV:function(I,X){return I-X},EvTCS:function(I,X){return I-X},phQaM:function(I,X){return I+X},lmdYR:function(I,X){return I(X)},EMKJn:function(I,X){return I(X)},oRyDo:function(I,X){return I-X},dnEYR:function(I,X){return I===X},yTClF:function(I,X){return I(X)},rhawj:function(I,X){return I<X},XZRdY:function(I,X){return I(X)},gdpGH:r(464),wkJeS:function(I,X){return I+X},UecUS:function(I,X){return I>=X},UBdew:function(I,X){return I<=X},VZOwX:function(I,X){return I+X},RjJUq:function(I,X){return I<=X},OtVMO:r(431),PoYSS:function(I,X){return I>X},tEMrt:function(I,X){return I(X)},EHNYx:r(480),avyxl:function(I,X){return I(X)},RWyEJ:"flower",dzDSQ:function(I,X){return I(X)},WBydS:r(490),DzVMp:function(I,X){return I>X},UyNMF:"kXsWQ",EFkGW:function(I,X){return I===X},opFqD:r(466),nNBcC:"leaves",yknSo:function(I,X){return I!==X},Dtrph:"qrGNm",PYgAq:function(I,X){return I(X)},rFSde:function(I,X){return I>X},YVIsk:function(I,X){return I??X},npQbP:function(I,X){return I>=X},pmQNP:function(I,X,C,g){return I(X,C,g)},PwMYL:function(I,X){return I!==X},kuykP:function(I,X,C,g){return I(X,C,g)},qGNdm:function(I,X){return I/X},kKVOh:function(I,X){return I-X},DWDZF:function(I,X){return I-X},CUIaw:function(I,X,C){return I(X,C)},FdBkH:function(I,X){return I-X},IrhMP:"petal",SygNi:"layer",nYQeq:function(I,X){return I!==X},SiMEI:function(I,X){return I(X)}},{project:i,selection:f,setSelection:o,applyUpdate:v,dragRef:S,zoom:h,pan:m,setPan:y,stageRef:p,clientToSvgPoint:_,togglePetalSelection:M}=c,z=lm({project:i,applyUpdate:v,stageRef:p,clientToSvgPoint:_}),b=$.useRef(null),d=I=>{const X=r;I.preventDefault(),I[X(484)]?.setPointerCapture?.(I.pointerId),b.current={start:{x:I.clientX,y:I[X(509)]},pan0:{...m}}},E=I=>{const X=r;if(!b.current)return;const C=a.PVVVV(I.clientX,b.current.start.x),g=a.EvTCS(I[X(509)],b.current[X(495)].y);y({x:b.current[X(508)].x+C,y:a[X(462)](b.current[X(508)].y,g)})},R=()=>{const I=r;if(I(499)!=="gjcGu")b[I(496)]=null;else{const X=(_0x389d92[I(513)]??[]).find(C=>C.id===_0x42e705);return{id:_0x2bbe43,x:X?.[I(478)].x??0,y:X?.position.y??0}}},G=a.SiMEI($.useRef,null),[Y,U]=$.useState(null);return{beginPan:d,updatePan:E,endPan:R,marqueeRef:G,marqueeRect:Y,beginMarquee:I=>{const X=r;I[X(481)](),I[X(484)]?.setPointerCapture?.(I.pointerId);const C=a.lmdYR(_,I);G[X(496)]={startSvg:C,currentSvg:C},U(null)},updateMarquee:I=>{const X=r;if(!G.current)return;const C=a.EMKJn(_,I);G[X(496)][X(472)]=C;const g=G[X(496)].startSvg,D=Math[X(440)](g.x,C.x),q=Math[X(440)](g.y,C.y),L=Math.abs(a[X(457)](C.x,g.x)),k=Math[X(450)](C.y-g.y);U({x:D,y:q,w:L,h:k})},endMarquee:()=>{const I=r,X={KQzav:function(H,P,te,se,oe){return H(P,te,se,oe)}},C=G.current;if(G.current=null,!C)if(a.dnEYR("XnoRR","uEftz"))_0x35817f=_0x4c6f21.leafIds[I(441)](H=>{const P=I,te=(_0xacc20d[P(513)]??[])[P(500)](se=>se.id===H);return{id:H,x:te?.[P(478)].x??0,y:te?.position.y??0}});else{a.yTClF(U,null);return}const g=C[I(491)],D=C[I(472)],q=Math[I(445)](D.x-g.x,D.y-g.y);if(a[I(498)](q,3)){a[I(442)](o,{kind:a.gdpGH}),a.EMKJn(U,null);return}const L=Math.min(g.x,D.x),k=Math[I(440)](g.y,D.y),T=Math.abs(D.x-g.x),j=Math.abs(a[I(494)](D.y,g.y)),B=[];for(const H of i.flowers)H.position.x>=L&&H.position.x<=a[I(453)](L,T)&&a[I(492)](H.position.y,k)&&H.position.y<=a[I(462)](k,j)&&B.push(H.id);const Z=[];for(const H of i.leaves??[])H[I(478)].x>=L&&a[I(506)](H[I(478)].x,a[I(470)](L,T))&&H[I(478)].y>=k&&a[I(454)](H.position.y,a[I(462)](k,j))&&(a[I(432)]===a.OtVMO?Z[I(460)](H.id):_0x46d92f.isShiftPressed?X[I(437)](_0x96763e,_0x1b37ca[I(452)],_0x38d98f[I(489)].layerId,_0x33710b[I(489)][I(438)],!0):_0x4706cb({kind:"petal",flowerId:_0x535f72[I(452)],layerId:_0x341d2a.clickPetal.layerId,index:_0x5e467f.clickPetal.index}));if(a.PoYSS(B.length,0)&&a[I(510)](Z.length,0))a.tEMrt(o,{kind:a.EHNYx,flowerIds:B,leafIds:Z});else if(a[I(510)](B.length,0))a.dnEYR(B.length,1)?a.avyxl(o,{kind:a[I(511)],flowerId:B[0]}):a.dzDSQ(o,{kind:a[I(449)],flowerIds:B});else if(a[I(436)](Z[I(427)],0))if(a.UyNMF!==a[I(486)]){a.EMKJn(_0x9f285e,{kind:I(464)}),_0x4c2d58(null);return}else a.EFkGW(Z[I(427)],1)?o({kind:a[I(501)],leafId:Z[0]}):o({kind:a[I(430)],leafIds:Z});else a[I(502)](o,{kind:I(464)});U(null)},beginFlowerDrag:(I,X,C)=>{const g=r;X.preventDefault(),X.currentTarget?.setPointerCapture?.(X.pointerId);const D=i[g(490)].find(T=>T.id===I);if(!D)return;let q=null,L=null;if(f.kind==="flowers"&&f.flowerIds.includes(I))q=f.flowerIds.map(T=>{const j=g,B=i[j(490)].find(Z=>Z.id===T);return{id:T,x:B?.position.x??0,y:B?.[j(478)].y??0}});else{const T=Mh(i,I);T[g(427)]>1&&(q=T[g(441)](j=>{const B=g;if(a[B(507)](B(463),a[B(476)]))LHJAXr.JNEXK(_0x3ecffc,{kind:B(464)});else{const Z=i.flowers[B(500)](H=>H.id===j);return{id:j,x:Z?.position.x??0,y:Z?.position.y??0}}}))}const k=nl(i,I);k&&a[g(503)](k.leafIds[g(427)],0)&&(L=k.leafIds[g(441)](T=>{const j=g,B=(i[j(513)]??[]).find(Z=>Z.id===T);return{id:T,x:B?.[j(478)].x??0,y:B?.[j(478)].y??0}})),S[g(496)]={flowerId:I,startClient:{x:X[g(497)],y:X.clientY},startPos:{...D.position},moved:!1,clickPetal:a.YVIsk(C,null),isShiftPressed:X[g(483)]||!1,multiStartPositions:q,leafStartPositions:L,startZoom:h}},updateFlowerDrag:I=>{const X=r,C=S.current;if(!C)return;const g=a[X(435)](a.EvTCS(I[X(497)],C[X(429)].x),C[X(505)]),D=a[X(487)](I[X(509)],C[X(429)].y)/C.startZoom,q=I.clientX-C.startClient.x,L=a[X(488)](I.clientY,C.startClient.y);a.VZOwX(Math[X(450)](q),Math[X(450)](L))>4&&(C[X(471)]=!0),a.CUIaw(v,k=>{const T=X;if(C[T(456)])for(const j of C[T(456)]){const B=k.flowers[T(500)](Z=>Z.id===j.id);B&&(B[T(478)].x=ye(j.x+g,0,ai),B[T(478)].y=a.pmQNP(ye,j.y+D,0,ai))}else if(a.PwMYL("bUoLj",T(475)))_0x346d64[T(478)].x>=_0x59a262&&_0x2aa4cb[T(478)].x<=MnmFdr[T(516)](_0x4d9181,_0xda5cce)&&MnmFdr.URjAS(_0x36ed47[T(478)].y,_0x158e5a)&&_0x3ae10f[T(478)].y<=_0x339c46+_0x265c87&&_0x4c11cd.push(_0x5b5109.id);else{const j=k[T(490)][T(500)](B=>B.id===C[T(452)]);if(!j)return;j.position.x=ye(C[T(426)].x+g,0,ai),j[T(478)].y=ye(a[T(462)](C[T(426)].y,D),0,ai)}if(C.leafStartPositions)for(const j of C.leafStartPositions){const B=(k.leaves??[]).find(Z=>Z.id===j.id);B&&(B.position.x=ye(a.wkJeS(j.x,g),0,ai),B.position.y=a[T(485)](ye,j.y+D,0,ai))}},!1)},endFlowerDrag:()=>{const I=r;{const X=S.current;if(!X)return;!X[I(471)]&&X[I(489)]?X.isShiftPressed?M(X[I(452)],X.clickPetal.layerId,X[I(489)].index,!0):o({kind:a[I(493)],flowerId:X.flowerId,layerId:X.clickPetal.layerId,index:X.clickPetal[I(438)]}):X.moved&&((f[I(512)]===a.gdpGH||f.kind==="flower"&&a[I(444)](f.flowerId,X[I(452)])||f[I(512)]===a.SygNi&&a[I(447)](f[I(452)],X[I(452)])||a.EFkGW(f.kind,a[I(493)])&&f.flowerId!==X[I(452)])&&o({kind:a[I(511)],flowerId:X.flowerId}),v(()=>{},!0)),S[I(496)]=null}},scaleDragRef:z.scaleDragRef,beginScaleDrag:z.beginScaleDrag,updateScaleDrag:z.updateScaleDrag,endScaleDrag:z[r(473)],rotationDragRef:z[r(459)],beginRotationDrag:z.beginRotationDrag,updateRotationDrag:z.updateRotationDrag,endRotationDrag:z[r(458)],widthScaleDragRef:z[r(514)],beginWidthScaleDrag:z.beginWidthScaleDrag,updateWidthScaleDrag:z[r(467)],endWidthScaleDrag:z.endWidthScaleDrag,radiusDragRef:z[r(424)],beginRadiusDrag:z.beginRadiusDrag,updateRadiusDrag:z[r(455)],endRadiusDrag:z.endRadiusDrag}}function xm({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function ii(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),f=Math.max(0,i),o=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",v="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:S=>{c.onDoubleClick&&(S.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${o}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${v} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:S=>{S.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(xm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${v} shrink-0`,"aria-hidden":!0})]})]})}function om(c){const{project:r,selection:a,setSelection:i,isExpanded:f,toggleExpanded:o,scheduleFlowerRowClick:v,handleFlowerRowDoubleClick:S,addFlower:h,deleteSelected:m,addOuterLayer:y,deleteOuterLayer:p,deleteFlowerById:_,deleteLayerById:M,treeScrollRef:z,setExpandedFlowers:b}=c,d=(N,O)=>{const W=a.kind==="flower"&&a.flowerId===N.id,Q=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(N.id),K=W||Q,ee="",I=f(N.id),X=N.layers&&N.layers.length>0,C=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:g=>{g.stopPropagation(),y(N.id)},"aria-label":"Add outer layer",children:"+"}),X&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:g=>{g.stopPropagation(),p(N.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":N.id,"data-testid":`tree-flower-${N.id}`,style:{paddingLeft:O},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${I?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:I?"Collapse layers":"Expand layers",onClick:g=>{g.stopPropagation(),o(N.id)},"aria-label":I?"collapse":"expand","data-tree-toggle":!0,children:I?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ii,{label:N.name,marker:ee,selected:K,showTrash:W,onTrash:()=>_(N.id),rightActions:C,onClick:()=>v(N.id),onDoubleClick:()=>S(N.id),level:0,leftOffset:-18})})]}),I&&N.layers.slice().sort((g,D)=>D.order-g.order).map(g=>{const D=(a.kind==="layer"||a.kind==="petal")&&a.layerId===g.id;return s.jsx(ii,{label:`${g.order}. ${g.name}`,marker:"",selected:D,showTrash:D,onTrash:()=>M(N.id,g.id),onClick:()=>{i({kind:"layer",flowerId:N.id,layerId:g.id}),b(q=>({...q,[N.id]:!0}))},level:0,leftOffset:10,muted:!g.visible},g.id)})]},N.id)},E=c.groups,R=new Set(E.flatMap(N=>N.flowerIds)),G=r.flowers.filter(N=>!R.has(N.id)),Y=new Set(E.flatMap(N=>N.leafIds)),U=c.leaves.filter(N=>!Y.has(N.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:m,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:z,"data-testid":"layer-tree",children:[s.jsx(ii,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),E.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...E].reverse().map(N=>{const O=a.kind==="group"&&a.groupId===N.id,W="",Q=c.isGroupExpanded(N.id);return s.jsxs("div",{"data-group-id":N.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Q?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:Q?"":"",onClick:K=>{K.stopPropagation(),c.toggleGroupExpanded(N.id)},"aria-label":Q?"collapse group":"expand group",children:Q?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ii,{label:N.name,marker:W,selected:O,onClick:()=>c.onSelectGroup(N.id),level:0,leftOffset:-18})})]}),Q&&N.flowerIds.map(K=>{const ee=r.flowers.find(I=>I.id===K);return ee?d(ee,12):null}),Q&&N.leafIds.map(K=>{const ee=c.leaves.find(X=>X.id===K);if(!ee)return null;const I=a.kind==="leaf"&&a.leafId===ee.id||a.kind==="leaves"&&a.leafIds.includes(ee.id)||a.kind==="mixed"&&a.leafIds.includes(ee.id);return s.jsx(ii,{label:` ${ee.name}`,selected:I,showTrash:I,onTrash:()=>c.onDeleteLeaf(ee.id),onClick:()=>c.onSelectLeaf(ee.id),level:0,leftOffset:12,muted:!ee.visible},ee.id)})]},N.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...G].reverse().map(N=>d(N,0)),G.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[[...U].reverse().map(N=>{const O=a.kind==="leaf"&&a.leafId===N.id||a.kind==="leaves"&&a.leafIds.includes(N.id)||a.kind==="mixed"&&a.leafIds.includes(N.id);return s.jsx(ii,{label:N.name,selected:O,showTrash:O,onTrash:()=>c.onDeleteLeaf(N.id),onClick:()=>c.onSelectLeaf(N.id),level:0,leftOffset:0,muted:!N.visible},N.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const xe=Bn;function Y0(){const c=["qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","qYa0mIa2mIWGndaGntaSidqYidm4","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","z3Pwvxq","qYa0nca1ncWGmtyGndGSic0Xmca0nG","qYaTndyGntiSic00mIa2ncWGltqWidC4","tsaTndyGmJy","yMfJAW","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","mJiWvwvov2Pb","s1jUDeq","tsaWidCW","nZy0ntHgsxP5swC","y2vMqxK","qYaXocaXlca0mcaXmcWGntiGmJy","BgvMDa","mtaZntqYntzcELrlwvy","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","weTLwuG","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","AgvPz2H0","tcaTmZaGmJqW","C2vHCMnO","qYaTmJiGnIWGlteWideSidaGma","mtC1mta3ww16Effv","ndu3mtm2mvzHvxbdBq","qYaYmcaXndGSideWide1mcWGmcaXnta","yxfPAKu","qYaTodaGmta4lcaTodGGotySic04oca4na","tcaTndaGmtqY","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYa1nYa3msWGntKGnZuSidyZidC5","mtbAq2zdD0u","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","qYa3oca0mcWGnZGGntqSidCYidyY","tcaTndaGmtm0","ywr1Bhq","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYaTnJGGotySic03mca4ncWGlty2idC0","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","mtu4mJyYm2PREuDZzG","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","D2LKDgG","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","BNzXBgC","tsaWida","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","qYaTndqGmZqSic0ZocaYmIWGltmWide0","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","qYa3mcaXmdySidCWideWocWGnZmGmteW","tsa0nIaYnG","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","mNHtA0D5qW","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","mZzHvffjt1G","AM9PBG","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","ndCYmty5nK5eAffKCG","C2LKzq","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYaTntyGmZySic01mcaYnIWGltqYide4","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYa2mcaZocWGnJqGntiSidy0idy4","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","qYaYocaXotGSidm0idiXmIWGndGGmJi4","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","qYa0oca3ncWGmJaGnJqSic04idu4","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","qYaXnIa2nIWGmZqGnZaSidqYidGY","tsaTndaGmtm0","5OIq5lQ65AwZ5OcN","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","qYa3mIaXndiSidyWide1mIWGndGGmtyY","qYa4mIa3ncWGodmGodySidGYidK4","CMLNAhq","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYa2nsa4msWGnJyGodmSidy2idG1","qYaTndaGmtaSic0XocaXlcaWida","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","CfHSseG","wwnUtg4","tcaTnZaGmJqW","rNnxt1u","EKvHDfK","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYaTndqGnIWGltiWidaSidaGma","qYa2ocaZmcWGnZyGndqSidGWidyY","l3rZDw1HBwKV","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","BvniufO","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYaTmZaGntqSic00oca0ocWGltyYidq0","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","qYaTnJyGodySic02nca3ocWGlty0idy4","kcGOlISPkYKRksSK","tsaTndaGmtqY","t29sB1y","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","Dg9tDhjPBMC","qYa2nca3ocWGnJyGodySidy2idK0","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","qYaTndmGmZiSic00ncaYocWGltq2idi2","uK5jzva","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","wwnjufK","5y+Z5zcr44gn","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","nte3nti2thP2zu5n","vMftAhO"];return Y0=function(){return c},Y0()}(function(c,r){const a=Bn,i=c();for(;;)try{if(parseInt(a(337))/1*(parseInt(a(398))/2)+parseInt(a(431))/3*(-parseInt(a(339))/4)+parseInt(a(410))/5*(parseInt(a(413))/6)+parseInt(a(324))/7+-parseInt(a(344))/8+-parseInt(a(432))/9*(parseInt(a(316))/10)+parseInt(a(417))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,622141);const fm=(function(){const c=Bn,r={xeswa:function(i,f){return i===f},mSHPZ:c(362),TsoBz:"left",aqijE:"adult",PifeX:function(i,f){return i!==f},OEeCf:c(411)};let a=!0;return function(i,f){const o=c;if(r[o(379)],r[o(434)],r.PifeX(o(411),r.OEeCf))return _0x325d56?_0x51f4d4:_0x463d8a;{const v=a?function(){if(f){const S=f.apply(i,arguments);return f=null,S}}:function(){};return a=!1,v}}})(),js=fm(void 0,function(){const c=Bn,r={FsWOU:c(384)};return js.toString().search("(((.+)+)+)+$")[c(389)]().constructor(js)[c(429)](r[c(371)])});function Bn(c,r){c=c-315;const a=Y0();let i=a[c];if(Bn.eYjVIP===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Bn.Dcxtru=f,Bn.crWIvg={},Bn.eYjVIP=!0}const o=a[0],v=c+o,S=Bn.crWIvg[v];if(S)i=S;else{const h=function(m){this.ZbOuqC=m,this.ZENbCG=[1,0,0],this.nxokDd=function(){return"newState"},this.TqGkhq="\\w+ *\\(\\) *{\\w+ *",this.nLVqJG=`['|"].+['|"];? *}`};h.prototype.vllcvO=function(){const m=new RegExp(this.TqGkhq+this.nLVqJG),y=m.test(this.nxokDd.toString())?--this.ZENbCG[1]:--this.ZENbCG[0];return this.IQqSNF(y)},h.prototype.IQqSNF=function(m){return~m?this.nnDdPj(this.ZbOuqC):m},h.prototype.nnDdPj=function(m){for(let y=0,p=this.ZENbCG.length;y<p;y++)this.ZENbCG.push(Math.round(Math.random())),p=this.ZENbCG.length;return m(this.ZENbCG[0])},new h(Bn).vllcvO(),i=Bn.Dcxtru(i),Bn.crWIvg[v]=i}return i}js();const $d={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},e1={adult:xe(358),child:""},t1={right:xe(396),left:"",back:""},dm=["M 0 0","C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76","C 65 80, 68 85, 74 90","C 78 93, 82 96, 83 99",xe(343),xe(334),xe(397),"C 69 121, 65 126, 61 131","C 56 137, 49 142, 43 146","C 37 150, 31 154, 27 161",xe(388),xe(426),xe(359),"L -36 280","L -125 280",xe(330),xe(353),"C -42 182, -38 174, -36 166","C -34 158, -36 150, -40 142",xe(423),"C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44","C -56 36, -50 26, -42 18",xe(325),"C -4 -1, -1 -1, 0 0","Z"].join(" "),hm=[xe(329),"C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62",xe(361),xe(439),xe(321),xe(360),xe(327),xe(352),"C 58 240, 74 258, 92 280","L -92 280",xe(374),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162",xe(342),"C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62",xe(341),xe(375),"Z","M 0 70","C 16 66, 34 70, 42 82",xe(438),"C 46 126, 40 136, 30 142",xe(433),xe(402),"C -40 136, -46 126, -48 116",xe(323),"C -34 70, -16 66, 0 70","Z"].join(" "),mm=["M 0 0","C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68",xe(315),xe(365),"C 66 86, 62 88, 58 90","C 57 91, 57 93, 59 95","C 60 97, 58 101, 54 106",xe(338),xe(391),"C 22 151, 14 167, -2 183",xe(378),xe(428),"L -100 240",xe(355),"C -48 176, -42 168, -38 158",xe(394),xe(425),xe(322),"C -62 64, -56 54, -50 44",xe(332),xe(430),"Z"].join(" "),bm=["M 0 0","C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68",xe(390),"C 66 100, 64 106, 60 112","C 54 120, 44 130, 38 140","C 30 152, 32 166, 55 202","C 60 214, 66 228, 70 240",xe(370),xe(317),"C -32 166, -30 152, -38 140",xe(380),xe(364),xe(383),"C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z",xe(335),xe(408),xe(318),"C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z",xe(406),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62",xe(422),"C -42 62, -40 50, -42 38",xe(392),"Z"][xe(340)](" "),gm=[xe(329),"C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76",xe(354),xe(381),xe(347),"C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z",xe(385),"C -48 134, -58 126, -68 118",xe(435),xe(350),"C -70 52, -66 48, -62 44","C -58 50, -54 58, -50 70",xe(373),xe(436),"Z"][xe(340)](" "),vm=["M 0 0","C 20 0, 44 6, 58 20",xe(376),xe(361),xe(439),"C 84 122, 82 128, 78 134",xe(418),xe(331),xe(400),"C -82 128, -84 122, -84 116",xe(421),"C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",xe(412),xe(356),xe(438),xe(420),"C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142",xe(424),"C -50 104, -48 90, -42 82",xe(367),"Z"].join(" "),ym=[xe(329),"C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56",xe(404),"C -28 46, -40 44, -50 44","C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z",xe(357),"C -48 126, -56 116, -62 106",xe(322),"C -62 64, -56 54, -50 44",xe(405),xe(409),xe(319),"Z"][xe(340)](" "),pm=["M 0 0",xe(415),xe(349),"C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126",xe(363),xe(351),"C -64 106, -66 100, -66 94",xe(383),"C -64 52, -60 38, -52 26",xe(366),"Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",xe(401),"C 43 32, 44 28, 46 26","Z","M -46 26",xe(348),xe(437),xe(422),"C -42 62, -40 50, -42 38",xe(392),"Z"][xe(340)](" ");function _m(c,r){const a=xe,i={RNIeP:"right",HGziN:function(o,v){return o===v},kZxzv:a(320)},f=r===i[a(393)]||r===a(416);return i.HGziN(c,i.kZxzv)?f?dm:hm:f?mm:bm}function Sm(c,r){const a=xe,i={YcIPY:function(o,v){return o===v},cefAy:a(362),VaShz:"left",SWHHk:function(o,v){return o===v},IUqGF:a(320)},f=i[a(395)](r,i[a(414)])||r===i[a(399)];return i.SWHHk(c,i.IUqGF)?f?gm:vm:f?ym:pm}const wm={right:xe(377)+xe(336),left:"/tsumami/"+xe(387),back:xe(377)+xe(333)},Cm={right:xe(377)+xe(382),left:xe(377)+"stencils/child_left.png",back:"/tsumami/"+xe(346)},Mm={adult:wm,child:Cm};function jm(c,r){const a=xe,i={MbdOz:function(S,h){return S===h},gdLli:"right",nzBdV:function(S,h){return S===h},YcnLn:"left",gzVUt:a(345),QJhWm:function(S,h,m){return S(h,m)},jQHea:function(S,h){return S===h}},f=i.MbdOz(r,i.gdLli)||i.nzBdV(r,i[a(369)])?i[a(403)]:"back",o=$d[c][f],v=Mm[c]?.[r]??null;return{path:_m(c,r),hairPath:i.QJhWm(Sm,c,r),scaleX:i.jQHea(r,i.YcnLn)?-1:1,imageUrl:v,imageWidthMm:o[a(326)],imageHeightMm:o[a(427)]}}function O0(){const c=["EM9VBq","v2vmCLm","sejYB2i","mtC0neXkBgzkua","qNPzD1a","BgvMDa","DNj3Dvi","AgvPz2H0","s2rlt3e","yNvtwee","mJm3nJG2nwHwEuXdzq","rMzbuxC","y29UC3rYDwn0B3i","sfz6CNK","DffAB28","EM9VBuXLDMvS","mJK0mtu0n01mCe54ra","veDevu0","vNbVqM8","u1vNwum","Dg9W","vhzIsxe","otCZodu4meDlu0TNrW","mJa4ndHQCLrzB2i","DeTQAgq","C0nMBg4","D2LKDgG","txjOvgW","ugf4v2S","BKrItLO","oeX4AKjctG","CwP4DeO","vMfuwg0","D2HLzwW","AhLWB3q","B0v1Afa","C3bSAxq","qxreEvK","C2rWyMy","u2zTAMq","q2vcD1e","zgvSDgfz","CgfU","y2XPzw50wq","z2v0qM91BMrPBMDdBgLLBNrszwn0","Aw5PDgLHBfPVB20","vfbyD1i","A2XVzeK","EKDjyw4","B1roAhe","vhPwveO","BgvUz3rO","y3vYCMvUDa","r3jOqKC","mJK0ntyWmxjfEwPzua","DLLowKy","tMD0wu0","yxbWBhK","ChjLDMvUDerLzMf1Bhq","EwD2sg4","A1Lktei","y2XPzw50wa","DhDAzem","Aw5PDgLHBfbHBG","mZuYmtaWngfmuhrAyG","vvfRAvC","C2vHCMnO","EeL1thG","rwfJDfy","ywrKrxzLBNrmAxn0zw5LCG","CgnIrvC","mtaYneD4seXtqq","Dg9tDhjPBMC","BLfosLm","Dg91y2HTB3zL","wxLOyuq","zMn2tum","Dg91y2HLCW","Dg52BK8","Dg91y2HZDgfYDa","DvLhqw0","Aw5PDgLHBenLBNrLCG","qwXxy24","vMDTugi","mZL6q05eteK","Dg9gAxHLza","AKTTDuO"];return O0=function(){return c},O0()}(function(c,r){const a=Vt,i=c();for(;;)try{if(parseInt(a(242))/1*(parseInt(a(261))/2)+parseInt(a(255))/3*(-parseInt(a(281))/4)+parseInt(a(268))/5+-parseInt(a(235))/6+parseInt(a(274))/7+-parseInt(a(288))/8*(-parseInt(a(312))/9)+-parseInt(a(280))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,487363);const zm=(function(){let c=!0;return function(r,a){const i=Vt,f={YEwtD:"(((.+)+)+)+$",DblIw:function(v,S){return v!==S},JZHGY:i(289)},o=c?function(){const v=i,S={nQNJS:f.YEwtD};if(f.DblIw("qjxtJ",f.JZHGY))return _0x58c25b.toString()[v(237)](S[v(244)])[v(243)]().constructor(_0x354c80).search(S.nQNJS);if(a){const h=a[v(315)](r,arguments);return a=null,h}}:function(){};return c=!1,o}})(),zs=zm(void 0,function(){const c=Vt,r={oTNhq:"(((.+)+)+)+$"};return zs.toString()[c(237)](r[c(307)])[c(243)]()[c(270)](zs).search(r[c(307)])});zs();function Vt(c,r){c=c-229;const a=O0();let i=a[c];if(Vt.WglYXG===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Vt.akuJIE=f,Vt.AcKvDS={},Vt.WglYXG=!0}const o=a[0],v=c+o,S=Vt.AcKvDS[v];if(S)i=S;else{const h=function(m){this.PmHIWj=m,this.NlUUCv=[1,0,0],this.KUTFBB=function(){return"newState"},this.FJFdfb="\\w+ *\\(\\) *{\\w+ *",this.pvqkjl=`['|"].+['|"];? *}`};h.prototype.GwKKNa=function(){const m=new RegExp(this.FJFdfb+this.pvqkjl),y=m.test(this.KUTFBB.toString())?--this.NlUUCv[1]:--this.NlUUCv[0];return this.AyPxcD(y)},h.prototype.AyPxcD=function(m){return~m?this.KktYCK(this.PmHIWj):m},h.prototype.KktYCK=function(m){for(let y=0,p=this.NlUUCv.length;y<p;y++)this.NlUUCv.push(Math.round(Math.random())),p=this.NlUUCv.length;return m(this.NlUUCv[0])},new h(Vt).GwKKNa(),i=Vt.akuJIE(i),Vt.AcKvDS[v]=i}return i}const os=520;function Hd(c,r,a,i,f,o,v){const S=Vt,h={zGIan:function(y,p){return y-p},VpoBo:function(y,p){return y*p}},m=i/a-1;return{x:h.zGIan(v.x,m*(-v.x+h.VpoBo(c,f))),y:h[S(306)](v.y,h[S(276)](m,-v.y+r*o))}}function Dm(c){const r=Vt,a={MrhTl:function(C,g){return C-g},PaxWk:function(C,g){return C/g},ygvHn:function(C,g){return C*g},Sfmjd:function(C,g){return C*g},tnvnO:function(C,g){return C!==g},CeBwQ:"kmIrd",nDbNZ:function(C,g){return C===g},TzVTJ:r(259),CSHMa:function(C,g){return C===g},xIuLx:function(C){return C()},TvbIq:function(C){return C()},oEuhP:function(C){return C()},klodI:function(C,g){return C/g},buSXA:function(C,g){return C===g},uYGAm:function(C,g){return C/g},tQZoo:function(C,g){return C+g},SUgYC:function(C,g,D,q){return C(g,D,q)},yYHSw:function(C,g){return C*g},bPEns:function(C,g){return C+g},EactV:function(C,g){return C<g},VgmPb:function(C,g){return C(g)},kYJLB:function(C,g){return C-g},vYNZF:function(C,g){return C!==g},AlWcn:function(C,g){return C!==g},VaTXm:r(275),IvnGR:function(C,g){return C*g},OeJvu:function(C,g,D,q){return C(g,D,q)},sdpbf:function(C,g){return C/g},TPXwR:function(C,g){return C*g},frvaC:function(C,g,D,q,L,k,T,j){return C(g,D,q,L,k,T,j)},HVzry:function(C,g){return C(g)},sCfln:"touchstart",NgtYM:"touchend",ixBFn:r(291),KdKOq:function(C,g,D,q){return C(g,D,q)},HWvPg:function(C,g){return C+g},rRWnW:function(C,g){return C/g},PPFfC:function(C,g){return C(g)},fvbmo:function(C,g){return C(g)},AtDyY:function(C,g,D){return C(g,D)},xydwT:function(C,g,D){return C(g,D)}},{setZoom:i,setPan:f,setZoomLevel:o,ZOOM_LEVELS:v,stageRef:S,endPan:h,endFlowerDrag:m,endMarquee:y,endRotationDrag:p,endScaleDrag:_,endWidthScaleDrag:M,endRadiusDrag:z}=c,b=$.useRef(null),d=$.useRef(c[r(300)]),E=a.fvbmo($.useRef,c[r(258)]);$.useEffect(()=>{const C=r,g={hgAmR:function(D,q){return a[Vt(285)](D,q)},BzYwP:function(D,q){return a[Vt(286)](D,q)},qhWTk:function(D,q){return D*q},UQkiW:function(D,q){return D-q},pcbEW:function(D,q){return D+q},HBrob:function(D,q){return a.ygvHn(D,q)},fcvMC:function(D,q){return a[Vt(297)](D,q)}};if(a[C(249)](a[C(298)],"AablA"))d[C(310)]=c.pan;else{const D=_0x4f6650[C(302)](),q=g.hgAmR(_0x5941b8.initialCenter.x,D.left)/D[C(284)],L=(_0x574255[C(252)].y-D[C(278)])/D.height,k=g.BzYwP(D[C(284)],D[C(265)]),T=_0x4180a4,j=T*k,B=g.qhWTk(g[C(236)](g.BzYwP(_0x5dfa39,_0x3fee4b),1),g[C(241)](-_0x23ccc9.initialPan.x,g[C(260)](q,j))),Z=g[C(247)](g[C(236)](g[C(262)](_0x478118,_0x26ab44),1),-_0x211bc2.initialPan.y+L*T);_0x26162a-=B,_0x41279a-=Z}},[c.pan]),$.useEffect(()=>{E.current=c.zoom},[c[r(258)]]);const R=$.useRef(c[r(273)]);$.useEffect(()=>{const C=r;a[C(287)](a[C(308)],C(264))?_0x1765d6[C(310)]=_0x464360:R[C(310)]=c[C(273)]},[c.zoomLevel]);const G=$.useRef(null),Y=$.useRef(null),U=$.useCallback(C=>{const g=r;if(a.CSHMa(C.touches[g(309)],2)){C[g(229)](),h(),a[g(238)](m),a[g(238)](y),a[g(279)](p),_(),a[g(293)](M),z(),G.current=null,Y.current=null;const D=C.touches[0],q=C.touches[1],L=a.klodI(D.clientX+q.clientX,2),k=(D.clientY+q.clientY)/2,T=Math.hypot(q[g(232)]-D[g(232)],a.MrhTl(q[g(301)],D.clientY));b[g(310)]={initialCenter:{x:L,y:k},initialDist:T,initialPan:{...d[g(310)]},initialZoom:E[g(310)]}}},[h,m,y,p,_,M,z]),N=a.AtDyY($.useCallback,C=>{const g=r;if(a[g(267)](C[g(248)].length,2)&&b[g(310)]){C.preventDefault();const D=C[g(248)][0],q=C.touches[1],L=a[g(251)](a[g(272)](D.clientX,q[g(232)]),2),k=a.tQZoo(D.clientY,q[g(301)])/2,T=Math[g(292)](a[g(285)](q.clientX,D.clientX),q[g(301)]-D.clientY),j=b[g(310)],B=T/Math.max(1,j.initialDist),Z=a[g(277)](ye,Number((j[g(303)]*B)[g(256)](3)),v[0],v[v[g(309)]-1]),H=j.initialZoom,P=a[g(285)](L,j[g(252)].x),te=k-j[g(252)].y;let se=a[g(272)](j[g(234)].x,P),oe=a[g(272)](j.initialPan.y,te);const me=S.current;if(me&&H!==Z){const de=me.getBoundingClientRect(),Ne=(j.initialCenter.x-de.left)/de[g(284)],He=a[g(285)](j.initialCenter.y,de.top)/de[g(265)],Xe=de[g(284)]/de[g(265)],Pe=os,mt=Pe*Xe,pt=a[g(230)](Z/H-1,-j[g(234)].x+Ne*mt),wt=a.yYHSw(Z/H-1,a.bPEns(-j[g(234)].y,He*Pe));se-=pt,oe-=wt}const ve={x:se,y:oe};E[g(310)]=Z,d.current=ve,f(ve),i(Z)}},[f,i,S,v]),O=a[r(295)]($.useCallback,C=>{const g=r;a[g(239)](C[g(248)].length,2)&&(b.current=null)},[]),W=.003,Q=a.xydwT($.useCallback,C=>{const g=r;if(a[g(253)]("TGDUM",a[g(290)])){if(_0x48cac2.touches[g(309)]===2&&_0x10bb8f[g(310)]){_0x474b80[g(229)]();const D=_0x4303f8[g(248)][0],q=_0x29e11b.touches[1],L=QFAveY[g(311)](D.clientX+q[g(232)],2),k=QFAveY.GrhBG(D.clientY+q.clientY,2),T=_0x3d62c2.hypot(q[g(232)]-D[g(232)],q.clientY-D.clientY),j=_0x5c645d.current,B=QFAveY[g(311)](T,_0xaa1739.max(1,j.initialDist)),Z=QFAveY.mSnuV(_0xbc9758,QFAveY.GsCWI(_0x4a0d8a,(j[g(303)]*B)[g(256)](3)),_0x5d28f8[0],_0x2e57fe[QFAveY.RQjQR(_0x1ef490.length,1)]),H=j[g(303)],P=QFAveY.RQjQR(L,j[g(252)].x),te=QFAveY.RQjQR(k,j[g(252)].y);let se=QFAveY[g(233)](j[g(234)].x,P),oe=QFAveY[g(233)](j.initialPan.y,te);const me=_0x5846b0.current;if(me&&QFAveY[g(257)](H,Z)){const de=me[g(302)](),Ne=QFAveY.GrhBG(QFAveY.Hlurs(j[g(252)].x,de[g(263)]),de[g(284)]),He=QFAveY.cXDzN(j[g(252)].y-de.top,de[g(265)]),Xe=de[g(284)]/de[g(265)],Pe=_0x401d49,mt=QFAveY[g(282)](Pe,Xe),pt=QFAveY[g(282)](QFAveY.GrhBG(Z,H)-1,-j[g(234)].x+QFAveY[g(246)](Ne,mt)),wt=QFAveY.CmKSM(QFAveY.cXDzN(Z,H),1)*(-j[g(234)].y+QFAveY[g(269)](He,Pe));se-=pt,oe-=wt}const ve={x:se,y:oe};_0xf1caff[g(310)]=Z,_0x2fdff9.current=ve,QFAveY.GsCWI(_0x53b8e3,ve),_0x16c85a(Z)}}else{C.preventDefault();const D=S[g(310)];if(!D)return;const q=E[g(310)],L=q*Math.exp(a.IvnGR(-C[g(299)],W)),k=a.OeJvu(ye,L,v[0],v[v[g(309)]-1]);if(Math.abs(k-q)<1e-6)return;const T=D.getBoundingClientRect(),j=(C.clientX-T.left)/T[g(284)],B=a[g(305)](a.kYJLB(C.clientY,T[g(278)]),T.height),Z=a[g(296)](T[g(284)],T[g(265)]),H=os,P=a[g(304)](H,Z),te=a.frvaC(Hd,j,B,q,k,P,H,d.current);E.current=k,d.current=te,i(k),a[g(271)](f,te)}},[i,f,S,v]);$.useEffect(()=>{const C=r,g=S[C(310)];if(g)return g.addEventListener(C(250),U,{passive:!1}),g.addEventListener(C(245),N,{passive:!1}),g[C(240)]("touchend",O),g[C(240)](a.ixBFn,Q,{passive:!1}),()=>{const D=C;g.removeEventListener(a[D(283)],U),g.removeEventListener("touchmove",N),g.removeEventListener(a[D(314)],O),g.removeEventListener(a.ixBFn,Q)}},[S,U,N,O,Q]);const K=$.useCallback(C=>{const g=r,D=R[g(310)],q=a[g(266)](ye,a.HWvPg(D,C),0,v[g(309)]-1);if(a[g(267)](q,D))return;const L=E[g(310)],k=v[q],T=S[g(310)];if(!T){o(q);return}const j=T.getBoundingClientRect(),B=a.rRWnW(j.width,j[g(265)]),Z=os,H=Z*B,P=Hd(.5,.5,L,k,H,Z,d[g(310)]);E.current=k,R.current=q,d[g(310)]=P,a.HVzry(o,q),a.VgmPb(f,P)},[o,f,S,v]),ee=a.AtDyY($.useCallback,(C,g)=>{const D=r,q="0|2|1|4|3"[D(294)]("|");let L=0;for(;;){switch(q[L++]){case"0":R[D(310)]=C;continue;case"1":d[D(310)]={x:0,y:0};continue;case"2":E.current=g;continue;case"3":a.PPFfC(f,{x:0,y:0});continue;case"4":a[D(254)](o,C);continue}break}},[o,f]),I=$.useCallback(C=>{G.current=C},[]),X=a[r(295)]($.useCallback,C=>{const g=r;Y[g(310)]=C},[]);return{multiTouchRef:b,touchBgStartRef:G,mouseBgStartRef:Y,zoomAtCenter:K,resetView:ee,setTouchBgStart:I,setMouseBgStart:X}}function ri(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),f=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(f))return c;const o=1-r;return`#${Math.round(a*o).toString(16).padStart(2,"0")}${Math.round(i*o).toString(16).padStart(2,"0")}${Math.round(f*o).toString(16).padStart(2,"0")}`}function Nm(c){const{flower:r,project:a,paletteMap:i}=c,f=$.useRef(null),o=$.useRef(!1),v=$.useRef(null);$.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const S=$.useMemo(()=>[...r.layers||[]].sort((R,G)=>R.order-G.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:m,width:y}=kt(h),{flowerOuterR:p,centerHitR:_}=$.useMemo(()=>{let R=12,G=1/0;for(const U of S){if(!U.visible)continue;const N=U.scale??1,O=m*N,Q=Math.max(0,U.radius-O*.28),K=Q+O;R=Math.max(R,K),Q<G&&(G=Q)}isFinite(G)||(G=0);const Y=Math.max(G*.9,8);return{flowerOuterR:R,centerHitR:Y}},[S,m]),M=(R,G)=>R?.petalOverrides?.find(Y=>Y.index===G)??null,z="pointer",b=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,d=c.zoneCursorValue??"grab",E=R=>{if(R.stopPropagation(),R.button===0){if(R.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(R)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:R=>{R.stopPropagation(),c.onDoubleClick?.()},style:{cursor:b?d:ur("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,p),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),S.map(R=>{if(!R.visible)return null;const Y=i.get(R.colorId)?.hex??"#999",U=360/Math.max(1,R.petalCount),N=R.scale??1,O=m*N,Q=y*(R.widthScale??1)*N,ee=Math.max(0,R.radius-O*.28),I=cr(""),X=cr(""),C=ee+O,g=c.isSelected&&c.selectedLayerId===R.id,D=c.isSelected&&(c.selectedPetal?.layerId===R.id||(c.selectedPetals?.some(q=>q.layerId===R.id)??!1));return s.jsxs("g",{children:[Array.from({length:R.petalCount}).map((q,L)=>{const k=M(R,L),j=(k?.petalType??R.petalType)===""?I:X,B=i.get(k?.colorId??R.colorId)?.hex??Y,Z=R.offsetAngle+L*U,H=ea(Z),P=Math.cos(H)*ee,te=Math.sin(H)*ee,se=c.isSelected&&c.selectedPetal?.layerId===R.id&&c.selectedPetal?.index===L,oe=c.isSelected&&(c.selectedPetals?.some(de=>de.layerId===R.id&&de.index===L)??!1),me=se||oe,ve=b?d:ur("/tsumami/");return s.jsxs("g",{transform:`translate(${P} ${te}) rotate(${Z})`,children:[s.jsx("path",{d:j,transform:`scale(${O} ${Q})`,fill:B,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,style:{cursor:ve},onPointerDown:de=>{if(de.stopPropagation(),de.button!==0)return;const Ne=de.shiftKey,He=de.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),o.current=!1,Ne&&c.onTogglePetalSelection){de.preventDefault(),de.stopPropagation(),c.onTogglePetalSelection(R.id,L,!0);return}if(He&&c.onTogglePetalSelection){v.current={x:de.clientX,y:de.clientY};const pt=R.id,wt=L;f.current=window.setTimeout(()=>{o.current=!0,f.current=null,c.onTogglePetalSelection?.(pt,wt,!0),navigator.vibrate?.(30)},500)}const Xe=c.isSelected&&c.selectedLayerId!=null,Pe=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||Xe||Pe){c.onBeginDragFromLayerPetal(R.id,L,de);return}c.onBeginDragFromLayerPetal(R.id,L,de)},onPointerMove:de=>{if(f.current&&v.current){const Ne=de.clientX-v.current.x,He=de.clientY-v.current.y;Math.hypot(Ne,He)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:de=>{de.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(R.id)}}),R.doublePetal&&(()=>{const de=R.doublePetal,Ne=k?.innerSizeReduction??de.innerSizeReduction??2,He=h*(N||1);if(He<=0)return null;const Pe=Math.max(He*.3,He-Ne)/He,mt=j,pt=k?.innerColorId??de.innerColorId??k?.colorId??R.colorId,wt=i.get(pt)?.hex??B,bt=O*Pe,Zt=Q*Pe;return s.jsx("path",{d:mt,transform:`scale(${bt} ${Zt})`,fill:wt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,pointerEvents:"none"})})(),(me||g||c.isFlowerSelected)&&s.jsx("path",{d:j,transform:`scale(${O} ${Q})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${R.id}-${L}`)]},L)}),g&&!D&&s.jsx("circle",{r:C,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},R.id)}),c.isFlowerSelected&&s.jsx("circle",{r:p,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const R=r.center,G=Bh(R.size),Y=i.get(R.color)?.hex??"#D4A843",U=R.color2?i.get(R.color2)?.hex??"#C0C0C0":"#D4A843",N=Math.max(G,_);switch(R.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:G,fill:Y,stroke:ri(Y,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:z},onPointerDown:E})]});case"":{const W=G*.42,Q=G,K=G*.12,ee=G*.13,I=G*.45,X=U,C=Y;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((g,D)=>{const q=D/10*360,L=ea(q),k=Math.cos(L)*Q,T=Math.sin(L)*Q,j=-Math.sin(L)*K,B=Math.cos(L)*K,Z=Math.cos(L)*W,H=Math.sin(L)*W;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(Z+j).toFixed(2)} ${(H+B).toFixed(2)} L ${k.toFixed(2)} ${T.toFixed(2)} L ${(Z-j).toFixed(2)} ${(H-B).toFixed(2)} Z`,fill:X,stroke:ri(X,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:k,cy:T,r:ee,fill:X,stroke:ri(X,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},D)}),s.jsx("circle",{r:W,fill:X,stroke:ri(X,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:I,fill:C,stroke:ri(C,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:z},onPointerDown:E})]})}case"":{const O=R.pepCount??12,W=G*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:O}).map((Q,K)=>{const ee=K/O*360,I=ea(ee),X=Math.cos(I)*G,C=Math.sin(I)*G;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:X,y2:C,stroke:Y,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:X,cy:C,r:Math.max(W,1),fill:Y,stroke:ri(Y,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},K)})}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:z},onPointerDown:E})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:_,fill:"transparent",style:{cursor:z},onPointerDown:E})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:_,fill:"transparent",style:{cursor:z},onPointerDown:E})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const R=S.find(W=>W.id===c.selectedLayerId);if(!R||!R.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const Y=R.scale??1,U=m*Y,O=Math.max(0,R.radius-U*.28);return O<=0?null:s.jsx("circle",{r:O,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,p+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Am(c){const{leaf:r,project:a,paletteMap:i}=c,f=r.fabricSquareSize??a.fabricSquareSize,{length:o,width:v}=kt(f),S=r.scale??1,h=o*S,m=v*(r.widthScale??1)*S,y=cr(r.petalType),p=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??ur("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:_=>{if(_.stopPropagation(),_.button===0&&!r.locked){if(_.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(_)}},children:[s.jsx("path",{d:y,transform:`scale(${h} ${m})`,fill:p,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const _=r.doublePetal,M=_.innerSizeReduction??2,z=f*(S||1);if(z<=0)return null;const d=Math.max(z*.3,z-M)/z,E=_.innerColorId??r.colorId,R=i.get(E)?.hex??p,G=h*d,Y=m*d;return s.jsx("path",{d:y,transform:`scale(${G} ${Y})`,fill:R,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&(()=>{const M=-.06*h,z=-.6000000000000001*m,b=(1.02+.06*2)*h,d=(.54+.06)*2*m;return s.jsx("rect",{x:M,y:z,width:b,height:d,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,strokeDasharray:"4 2",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.55,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${r.id}`)})(),c.isSelected&&(()=>{const M=-.02*h,z=-.56*m,b=(1.02+.02*2)*h,d=(.54+.02)*2*m;return s.jsxs(s.Fragment,{children:[s.jsx("rect",{x:M,y:z,width:b,height:d,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`sel-rect-${c.dashSyncToken??0}-${r.id}`),s.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})})()]})}const el=1350;function Tm(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:f,applyUpdateRef:o,clientToSvgPointRef:v,stencilDraggingRef:S,onSelectStencil:h}=c,m=$.useRef(null);$.useEffect(()=>()=>{m.current?.()},[]);const y=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(p=>{const _=jm(p.variant,p.pose),M=a===p.id,z=cn,b=_.imageUrl?1:_.scaleX,d=y||!!p.locked;return s.jsx("g",{transform:`translate(${p.position.x} ${p.position.y}) scale(${z*b} ${z})`,style:{cursor:y?"default":p.locked?"pointer":rm("/tsumami/"),pointerEvents:y?"none":"auto"},"data-testid":`stencil-${p.id}`,onPointerDown:E=>{if(E.button!==0)return;if(d){h(p.id);return}if(E.stopPropagation(),h(p.id),!f.current)return;S.current=!0,f.current&&(f.current.style.cursor=cm("/tsumami/"));const G=v.current(E),Y={...p.position},U=p.id;let N=Y.x,O=Y.y;const W=K=>{const ee=v.current(K),I=ee.x-G.x,X=ee.y-G.y;N=ye(Y.x+I,0,el),O=ye(Y.y+X,0,el),o.current(C=>{const g=(C.stencils??[]).find(D=>D.id===U);g&&(g.position.x=N,g.position.y=O)},!1)},Q=()=>{S.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Q),m.current=null,o.current(K=>{const ee=(K.stencils??[]).find(I=>I.id===U);ee&&(ee.position.x=N,ee.position.y=O)},!0)};document.addEventListener("pointermove",W),document.addEventListener("pointerup",Q),m.current=()=>{S.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Q)}},children:_.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:_.imageUrl,x:-_.imageWidthMm/2,y:0,width:_.imageWidthMm,height:_.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-_.imageWidthMm/2,y:0,width:_.imageWidthMm,height:_.imageHeightMm,fill:"transparent",stroke:M?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:_.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:_.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),M&&s.jsx("path",{d:_.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},p.id)})})}function Lm(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:v,dashSyncToken:S,stageRef:h,multiTouchRef:m,clientToSvgPoint:y,togglePetalSelection:p,handleShiftFlowerSelect:_,groupHighlightedFlowerIds:M,beginFlowerDrag:z,beginScaleDrag:b,beginRotationDrag:d,beginWidthScaleDrag:E,beginRadiusDrag:R,clickOriginRef:G,zoneActivatedRef:Y,setZoneCursorValue:U,setTouchZoneIndicator:N,hoverZoneRef:O,hoverHitLayerIdRef:W,hoverHitPetalIndexRef:Q}=c;return s.jsx(s.Fragment,{children:r.flowers.map(K=>s.jsx(Nm,{flower:K,project:r,paletteMap:f,isSelected:a.kind!=="project"&&o===K.id||a.kind==="flowers"&&a.flowerIds.includes(K.id)||a.kind==="mixed"&&a.flowerIds.includes(K.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===K.id||a.kind==="flowers"&&a.flowerIds.includes(K.id)||a.kind==="mixed"&&a.flowerIds.includes(K.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===K.id?a.petals:null,onSelect:()=>{const ee=nl(r,K.id);if(ee&&!(a.kind==="group"&&a.groupId===ee.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&ee.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:ee.id});return}i({kind:"flower",flowerId:K.id})},onSelectLayer:ee=>i({kind:"layer",flowerId:K.id,layerId:ee}),onSelectPetal:(ee,I)=>i({kind:"petal",flowerId:K.id,layerId:ee,index:I}),onTogglePetalSelection:(ee,I,X)=>p(K.id,ee,I,X),onShiftSelect:()=>_(K.id),isGroupHighlighted:M.has(K.id),zoneCursorValue:v,onBeginDragFromLayerPetal:(ee,I,X)=>{if(m.current)return;const C=nl(r,K.id);if(C&&!(a.kind==="group"&&a.groupId===C.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&C.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:C.id}),z(K.id,X);return}const g=y(X),D=X.pointerType==="touch",q=a.kind==="flower"&&a.flowerId===K.id||a.kind==="layer"&&a.flowerId===K.id||a.kind==="petal"&&a.flowerId===K.id||a.kind==="petals"&&a.flowerId===K.id;if(D&&q){const{zone:T,layerId:j,petalIndex:B}=ci(g.x,g.y,K,r,a),{length:Z}=kt(K.fabricSquareSize??r.fabricSquareSize),H=j0(T,a.kind,{hitLayerId:j,flower:K,length:Z});if(H!=="none"&&H!=="center"&&H!=="move"){N({x:g.x,y:g.y,zone:H});const P=a.kind==="layer"?"layer":"flower",te=a.kind==="layer"?a.layerId:ee;switch(H){case"rotate":d(P,K.id,X,{layerId:te});return;case"scale":b(P,K.id,X,{layerId:te});return;case"width":E(P,K.id,X,{layerId:te,petalIndex:B});return;case"radius":R(P,K.id,X,{layerId:te});return}}z(K.id,X,{layerId:ee,index:I});return}const L=Y.current;G.current={x:g.x,y:g.y},Y.current=!1;const k=O.current;if(q&&(L||k!=="none"&&k!=="center")){const T=k,j=W.current,B=Q.current,Z=a.kind==="layer"?"layer":"flower",H=a.kind==="layer"?a.layerId:j??ee;switch(T){case"rotate":d(Z,K.id,X,{layerId:H});return;case"scale":b(Z,K.id,X,{layerId:H});return;case"width":E(Z,K.id,X,{layerId:H,petalIndex:B});return;case"radius":R(Z,K.id,X,{layerId:H});return;default:U(qn("/tsumami/")),h.current&&(h.current.style.cursor=qn("/tsumami/")),z(K.id,X,{layerId:ee,index:I});return}}U(qn("/tsumami/")),h.current&&(h.current.style.cursor=qn("/tsumami/")),z(K.id,X,{layerId:ee,index:I})},onDoubleClick:()=>i({kind:"flower",flowerId:K.id}),onPointerDown:ee=>{if(m.current||ee.button!==0)return;if(ee.shiftKey){ee.stopPropagation(),_(K.id);return}const I=nl(r,K.id);if(I&&!(a.kind==="group"&&a.groupId===I.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&I.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:I.id}),z(K.id,ee);return}a.kind==="flower"&&a.flowerId===K.id||a.kind==="layer"&&a.flowerId===K.id||a.kind==="flowers"&&a.flowerIds.includes(K.id)||i({kind:"flower",flowerId:K.id});const C=y(ee);G.current={x:C.x,y:C.y},Y.current=!1,U(qn("/tsumami/")),h.current&&(h.current.style.cursor=qn("/tsumami/")),z(K.id,ee)},dashSyncToken:S},K.id))})}function Em(c){const{leaves:r,project:a,selection:i,paletteMap:f,dashSyncToken:o,groupHighlightedLeafIds:v,zoneCursorValue:S,stageRef:h,applyUpdateRef:m,clientToSvgPointRef:y,leafDraggingRef:p,clickOriginRef:_,zoneActivatedRef:M,setZoneCursorValue:z,onSelectLeaf:b,onSelectGroup:d,onShiftSelectLeaf:E,hoverLeafZoneRef:R}=c,G=$.useRef(null);return $.useEffect(()=>()=>{G.current?.()},[]),s.jsx(s.Fragment,{children:r.map(Y=>{if(!Y.visible)return null;const U=i.kind==="leaf"&&i.leafId===Y.id,N=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(Y.id),O=v.has(Y.id),W=Ml(a,Y.id),Q=W?.rotation??0;let K=Y;if(W&&Q!==0){const ee=jh(a,W.id),I=Q*Math.PI/180,X=Y.position.x-ee.x,C=Y.position.y-ee.y;K={...Y,position:{x:ee.x+X*Math.cos(I)-C*Math.sin(I),y:ee.y+X*Math.sin(I)+C*Math.cos(I)},rotation:Y.rotation+Q}}return s.jsx(Am,{leaf:K,project:a,paletteMap:f,isSelected:U||N,isLeafGroupHighlighted:O,dashSyncToken:o,cursor:U?S:void 0,onPointerDown:ee=>{if(Y.locked)return;ee.stopPropagation();const I=y.current(ee);if(W&&!(i.kind==="group"&&i.groupId===W.id||i.kind==="leaf"&&W.leafIds.includes(i.leafId))){d(W.id),p.current=!0,_.current={x:I.x,y:I.y},M.current=!1,z(qn("/tsumami/")),h.current&&(h.current.style.cursor=qn("/tsumami/"));const q=I,L=Rd(a,Y.id),k=new Map;for(const H of L){const P=r.find(te=>te.id===H);P&&k.set(H,{...P.position})}const T=new Map;if(W)for(const H of W.flowerIds){const P=a.flowers.find(te=>te.id===H);P&&T.set(H,{...P.position})}let j=!1;const B=H=>{const P=y.current(H),te=P.x-q.x,se=P.y-q.y;Math.abs(te)+Math.abs(se)>1&&(j=!0),m.current(oe=>{for(const[me,ve]of k){const de=(oe.leaves??[]).find(Ne=>Ne.id===me);de&&(de.position.x=ye(ve.x+te,0,el),de.position.y=ye(ve.y+se,0,el))}for(const[me,ve]of T){const de=oe.flowers.find(Ne=>Ne.id===me);de&&(de.position.x=ye(ve.x+te,0,el),de.position.y=ye(ve.y+se,0,el))}},!1)},Z=()=>{G.current=null,p.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",Z),j&&m.current(()=>{},!0)};document.addEventListener("pointermove",B),document.addEventListener("pointerup",Z),G.current=()=>{p.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",Z)};return}const X=U&&M.current;b(Y.id),_.current={x:I.x,y:I.y},M.current=!1,z(qn("/tsumami/")),h.current&&(h.current.style.cursor=qn("/tsumami/"));const C=R.current,g=U&&(X||C!=="none")?C:"move";if(g!=="move"){const D=nr(g,"/tsumami/");z(D),h.current&&(h.current.style.cursor=D)}if(p.current=!0,g==="rotate"){const D=K.position,q=Y.rotation,L=Math.atan2(I.y-D.y,I.x-D.x)*180/Math.PI;let k=!1;const T=B=>{const Z=y.current(B),P=Math.atan2(Z.y-D.y,Z.x-D.x)*180/Math.PI-L;Math.abs(P)>.5&&(k=!0),m.current(te=>{const se=(te.leaves??[]).find(oe=>oe.id===Y.id);se&&(se.rotation=((q+P)%360+360)%360)},!1)},j=()=>{G.current=null,p.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",j),k&&m.current(()=>{},!0)};document.addEventListener("pointermove",T),document.addEventListener("pointerup",j),G.current=()=>{p.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",j)}}else if(g==="scale"){const D=K.position,q=Y.scale??1,L=Math.max(1,Math.hypot(I.x-D.x,I.y-D.y));let k=!1;const T=B=>{const Z=y.current(B),P=Math.hypot(Z.x-D.x,Z.y-D.y)/L;Math.abs(P-1)>.01&&(k=!0),m.current(te=>{const se=(te.leaves??[]).find(oe=>oe.id===Y.id);se&&(se.scale=ye(q*P,.3,3))},!1)},j=()=>{G.current=null,p.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",j),k&&m.current(()=>{},!0)};document.addEventListener("pointermove",T),document.addEventListener("pointerup",j),G.current=()=>{p.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",j)}}else if(g==="width"){const D=K.position,q=Y.rotation*Math.PI/180,L=-Math.sin(q),k=Math.cos(q),T=Y.widthScale??1,j=Math.abs((I.x-D.x)*L+(I.y-D.y)*k),B=Math.max(1,j);let Z=!1;const H=te=>{const se=y.current(te),me=Math.abs((se.x-D.x)*L+(se.y-D.y)*k)/B;Math.abs(me-1)>.01&&(Z=!0),m.current(ve=>{const de=(ve.leaves??[]).find(Ne=>Ne.id===Y.id);de&&(de.widthScale=ye(T*me,.3,3))},!1)},P=()=>{G.current=null,p.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",P),Z&&m.current(()=>{},!0)};document.addEventListener("pointermove",H),document.addEventListener("pointerup",P),G.current=()=>{p.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",P)}}else{const D=I,q=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(Y.id)?i.leafIds:Rd(a,Y.id),L=new Map;for(const H of q){const P=r.find(te=>te.id===H);P&&L.set(H,{...P.position})}const k=new Map,T=Ml(a,Y.id);if(T)for(const H of T.flowerIds){const P=a.flowers.find(te=>te.id===H);P&&k.set(H,{...P.position})}let j=!1;const B=H=>{const P=y.current(H),te=P.x-D.x,se=P.y-D.y;Math.abs(te)+Math.abs(se)>1&&(j=!0),m.current(oe=>{for(const[me,ve]of L){const de=(oe.leaves??[]).find(Ne=>Ne.id===me);de&&(de.position.x=ye(ve.x+te,0,el),de.position.y=ye(ve.y+se,0,el))}for(const[me,ve]of k){const de=oe.flowers.find(Ne=>Ne.id===me);de&&(de.position.x=ye(ve.x+te,0,el),de.position.y=ye(ve.y+se,0,el))}},!1)},Z=()=>{G.current=null,p.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",Z),j&&m.current(()=>{},!0)};document.addEventListener("pointermove",B),document.addEventListener("pointerup",Z),G.current=()=>{p.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",Z)}}},onShiftSelect:()=>E(Y.id)},Y.id)})})}function Bm({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function qm({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}function km(c){const{project:r,selection:a,selectedFlowerId:i,dashSyncToken:f}=c,o=$.useMemo(()=>i?r.flowers.find(_=>_.id===i)??null:null,[r.flowers,i]),v=$.useMemo(()=>{if(a.kind==="flowers")return r.flowers.filter(_=>a.flowerIds.includes(_.id));if(a.kind==="mixed")return r.flowers.filter(_=>a.flowerIds.includes(_.id));if(a.kind==="group"){const _=(r.groups??[]).find(M=>M.id===a.groupId);if(_)return r.flowers.filter(M=>_.flowerIds.includes(M.id))}return[]},[r.flowers,r.groups,a]);if(!o&&v.length===0)return null;const S=a.kind==="flower"&&o?.id===i,h=a.kind==="layer"?a.layerId:null,m=a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,y=a.kind==="petals"&&o?a.petals:null,p=o&&(S||h!=null||m!=null||y&&y.length>0);return s.jsxs("g",{pointerEvents:"none",children:[v.map(_=>s.jsx(Ud,{flower:_,project:r,isFlowerSelected:!0,selectedLayerId:null,selectedPetal:null,selectedPetals:null,dashSyncToken:f},`overlay-multi-${_.id}`)),p&&o&&s.jsx(Ud,{flower:o,project:r,isFlowerSelected:S,selectedLayerId:h,selectedPetal:m,selectedPetals:y,dashSyncToken:f},`overlay-single-${o.id}`)]})}function Ud(c){const{flower:r,project:a,isFlowerSelected:i,selectedLayerId:f,selectedPetal:o,selectedPetals:v,dashSyncToken:S}=c,h=$.useMemo(()=>[...r.layers||[]].sort((E,R)=>E.order-R.order),[r.layers]),m=r.fabricSquareSize??a.fabricSquareSize,{length:y,width:p}=kt(m),_=$.useMemo(()=>{let E=12;for(const R of h){if(!R.visible)continue;const G=R.scale??1,Y=y*G,O=Math.max(0,R.radius-Y*.28)+Y;E=Math.max(E,O)}return E},[h,y]),M=i||f!=null||o!=null||v&&v.length>0,z=cr(""),b=cr(""),d=(E,R)=>E?.petalOverrides?.find(G=>G.index===R)??null;return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,children:[M&&o==null&&!v?.length&&s.jsx("circle",{r:Math.max(12,_),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke"}),h.map(E=>{if(!E.visible)return null;const R=360/Math.max(1,E.petalCount),G=E.scale??1,Y=y*G,N=p*(E.widthScale??1)*G,W=Math.max(0,E.radius-Y*.28),Q=W+Y,K=f===E.id,ee=o?.layerId===E.id||(v?.some(I=>I.layerId===E.id)??!1);return s.jsxs("g",{children:[Array.from({length:E.petalCount}).map((I,X)=>{const D=(d(E,X)?.petalType??E.petalType)===""?z:b,q=E.offsetAngle+X*R,L=ea(q),k=Math.cos(L)*W,T=Math.sin(L)*W,j=o?.layerId===E.id&&o?.index===X,B=v?.some(H=>H.layerId===E.id&&H.index===X)??!1;return j||B||K||i?s.jsx("g",{transform:`translate(${k} ${T}) rotate(${q})`,children:s.jsx("path",{d:D,transform:`scale(${Y} ${N})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95},`dash-overlay-${S}-${E.id}-${X}`)},X):null}),K&&!ee&&s.jsx("circle",{r:Q,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})]},E.id)}),i&&s.jsx("circle",{r:_,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke"}),(()=>{if(!f)return null;const E=h.find(O=>O.id===f);if(!E||!E.visible||o!=null||(v?.length??0)>0)return null;const G=E.scale??1,Y=y*G,N=Math.max(0,E.radius-Y*.28);return N<=0?null:s.jsx("circle",{r:N,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})})()]})}const _a=1350;function Im(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,setZoom:v,zoomLevel:S,setZoomLevel:h,ZOOM_LEVELS:m,setPan:y,showGrid:p,setShowGrid:_,setShowHelp:M,stageRef:z,viewBox:b,dashDelay:d,dashSyncToken:E,beginPan:R,updatePan:G,endPan:Y,beginMarquee:U,updateMarquee:N,endMarquee:O,marqueeRef:W,marqueeRect:Q,beginFlowerDrag:K,updateFlowerDrag:ee,endFlowerDrag:I,scaleDragRef:X,updateScaleDrag:C,endScaleDrag:g,rotationDragRef:D,updateRotationDrag:q,endRotationDrag:L,widthScaleDragRef:k,updateWidthScaleDrag:T,endWidthScaleDrag:j,radiusDragRef:B,updateRadiusDrag:Z,endRadiusDrag:H,beginScaleDrag:P,beginRotationDrag:te,beginWidthScaleDrag:se,beginRadiusDrag:oe,togglePetalSelection:me,clientToSvgPoint:ve}=c,de=$.useRef(!1),Ne=$.useRef(!1),He=$.useRef(c.applyUpdate),Xe=$.useRef(ve);$.useEffect(()=>{He.current=c.applyUpdate},[c.applyUpdate]),$.useEffect(()=>{Xe.current=ve},[ve]);const[Pe,mt]=$.useState(!1),pt=$.useRef(null);$.useEffect(()=>{if(!Pe)return;const fe=Be=>{pt.current&&!pt.current.contains(Be.target)&&mt(!1)};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[Pe]);const[wt,bt]=$.useState("grab"),Zt=$.useRef("none"),un=$.useRef("none"),Xn=$.useRef(void 0),Vn=$.useRef(void 0),Fe=$.useRef(null),yn=$.useRef(!0),jl=5,al=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,il=$.useRef(al);$.useEffect(()=>{al!==il.current&&(il.current=al,yn.current=!1,Fe.current=null,Zt.current="none",un.current="none",Xn.current=void 0,Vn.current=void 0)},[al]);const[zl,la]=$.useState(!1),Jn=$.useRef(!1),[oi,kn]=$.useState(null),It=5,pn=10,Ge=Dm({zoom:c.zoom,pan:c.pan,setZoom:v,setPan:y,zoomLevel:S,setZoomLevel:h,ZOOM_LEVELS:m,stageRef:z,endPan:Y,endFlowerDrag:I,endMarquee:O,endRotationDrag:L,endScaleDrag:g,endWidthScaleDrag:j,endRadiusDrag:H});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S>=m.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ge.zoomAtCenter(1),disabled:S>=m.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ge.zoomAtCenter(-1),disabled:S<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>_(fe=>!fe),title:"","aria-label":"","aria-pressed":p,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Ge.resetView(5,m[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:pt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Pe?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>mt(fe=>!fe),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Pe&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(fe=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:e1[fe]}),["right","left","back"].map(Be=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(fe,Be),mt(!1)},"data-testid":`stencil-add-${fe}-${Be}`,children:t1[Be]},`${fe}-${Be}`))]},fe)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),mt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>M(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:p?"24px 1fr":"1fr",gridTemplateRows:p?"20px 1fr":"1fr"},children:[p&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),p&&(()=>{const[fe,,Be,qe]=b.split(/\s+/).map(Number),Se=cn,pe=Math.max(Be,qe)/Se,je=[10,20,50,100,200,500,1e3].find(Te=>pe/Te<=15)??1e3,we=je<=10?1:je<=50?5:je<=100?10:je<=500?50:100,$e=je<=10?5:je/2,et=Math.floor(fe/Se/we)*we-we,Ve=Math.ceil((fe+Be)/Se/we)*we+we,Je=[];for(let Te=et;Te<=Ve;Te+=we){const tt=(Te*Se-fe)/Be*100;if(tt<-2||tt>102)continue;const At=Math.abs(Te),rt=At%je===0,lt=At%$e===0,gt=rt?10:lt?6:3;Je.push(s.jsx("line",{x1:`${tt}%`,y1:20-gt,x2:`${tt}%`,y2:20,stroke:"#999",strokeWidth:rt?.8:.4},Te)),rt&&Je.push(s.jsx("text",{x:`${tt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Te},`t${Te}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Je})})(),p&&(()=>{const[,fe,Be,qe]=b.split(/\s+/).map(Number),Se=cn,pe=Math.max(Be,qe)/Se,je=[10,20,50,100,200,500,1e3].find(Te=>pe/Te<=15)??1e3,we=je<=10?1:je<=50?5:je<=100?10:je<=500?50:100,$e=je<=10?5:je/2,et=Math.floor(fe/Se/we)*we-we,Ve=Math.ceil((fe+qe)/Se/we)*we+we,Je=[];for(let Te=et;Te<=Ve;Te+=we){const tt=(Te*Se-fe)/qe*100;if(tt<-2||tt>102)continue;const At=Math.abs(Te),rt=At%je===0,lt=At%$e===0,gt=rt?10:lt?6:3;Je.push(s.jsx("line",{x1:24-gt,y1:`${tt}%`,x2:24,y2:`${tt}%`,stroke:"#999",strokeWidth:rt?.8:.4},Te)),rt&&Je.push(s.jsx("text",{x:12,y:`${tt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Te},`t${Te}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Je})})(),s.jsxs("svg",{ref:z,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:b,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":d,cursor:zl?"crosshair":"grab"},onDoubleClick:fe=>{fe.target===fe.currentTarget&&(la(Be=>!Be),i({kind:"project"}))},onPointerDown:fe=>{if(Ge.multiTouchRef.current)return;if(fe.button===1){Jn.current=!0,z.current&&(z.current.style.cursor="grabbing"),R(fe);return}if(fe.button!==0)return;const Be=fe.pointerType==="touch";if(Be&&fe.target===fe.currentTarget&&o){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=r.flowers.find(pe=>pe.id===o);if(Se){const pe=ve(fe),{zone:Ae,layerId:je,petalIndex:we}=ci(pe.x,pe.y,Se,r,a),{length:$e}=kt(Se.fabricSquareSize??r.fabricSquareSize),et=j0(Ae,a.kind,{hitLayerId:je,flower:Se,length:$e});if(et!=="none"&&et!=="center"){kn({x:pe.x,y:pe.y,zone:et});const Ve=a.kind==="layer"?"layer":"flower",Je=a.kind==="layer"?a.layerId:je;switch(et){case"rotate":te(Ve,o,fe,{layerId:Je});return;case"scale":P(Ve,o,fe,{layerId:Je});return;case"width":se(Ve,o,fe,{layerId:Je,petalIndex:we});return;case"radius":oe(Ve,o,fe,{layerId:Je});return;case"move":K(o,fe);return}}}}Ge.setTouchBgStart({x:fe.clientX,y:fe.clientY}),R(fe);return}if(fe.target===fe.currentTarget&&o&&wt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Zt.current;if(Se!=="none"&&Se!=="center"){const pe=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:Xn.current;switch(Se){case"rotate":te(pe,o,fe,{layerId:Ae});return;case"scale":P(pe,o,fe,{layerId:Ae});return;case"width":se(pe,o,fe,{layerId:Ae,petalIndex:Vn.current});return;case"radius":oe(pe,o,fe,{layerId:Ae});return;case"move":K(o,fe);return}}}if(fe.target===fe.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&wt!=="grab"){const qe=un.current;if(qe!=="none"){const Se=c.leaves.find(pe=>pe.id===c.selectedLeafId);if(Se){fe.preventDefault();const pe=ve(fe);if(Ne.current=!0,qe==="rotate"){const Ae=Se.position,je=Se.rotation,we=Math.atan2(pe.y-Ae.y,pe.x-Ae.x)*180/Math.PI,$e=Se.id,et=nr(qe,"/tsumami/");bt(et),z.current&&(z.current.style.cursor=et);let Ve=!1;const Je=Rt=>{const tt=ve(Rt),rt=Math.atan2(tt.y-Ae.y,tt.x-Ae.x)*180/Math.PI-we;Math.abs(rt)>.5&&(Ve=!0),c.applyUpdate(lt=>{const gt=(lt.leaves??[]).find(_n=>_n.id===$e);gt&&(gt.rotation=((je+rt)%360+360)%360)},!1)},Te=()=>{Ne.current=!1,document.removeEventListener("pointermove",Je),document.removeEventListener("pointerup",Te),Ve&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Je),document.addEventListener("pointerup",Te);return}else if(qe==="scale"){const Ae=Se.position,je=Se.scale??1,we=Math.max(1,Math.hypot(pe.x-Ae.x,pe.y-Ae.y)),$e=Se.id,et=nr(qe,"/tsumami/");bt(et),z.current&&(z.current.style.cursor=et);let Ve=!1;const Je=Rt=>{const tt=ve(Rt),rt=Math.hypot(tt.x-Ae.x,tt.y-Ae.y)/we;Math.abs(rt-1)>.01&&(Ve=!0),c.applyUpdate(lt=>{const gt=(lt.leaves??[]).find(_n=>_n.id===$e);gt&&(gt.scale=Math.max(.3,Math.min(3,je*rt)))},!1)},Te=()=>{Ne.current=!1,document.removeEventListener("pointermove",Je),document.removeEventListener("pointerup",Te),Ve&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Je),document.addEventListener("pointerup",Te);return}else if(qe==="width"){const Ae=Se.position,je=Se.rotation*Math.PI/180,we=-Math.sin(je),$e=Math.cos(je),et=Se.widthScale??1,Ve=Math.max(1,Math.abs((pe.x-Ae.x)*we+(pe.y-Ae.y)*$e)),Je=Se.id,Te=nr(qe,"/tsumami/");bt(Te),z.current&&(z.current.style.cursor=Te);let Rt=!1;const tt=rt=>{const lt=ve(rt),_n=Math.abs((lt.x-Ae.x)*we+(lt.y-Ae.y)*$e)/Ve;Math.abs(_n-1)>.01&&(Rt=!0),c.applyUpdate(wa=>{const Wt=(wa.leaves??[]).find(ze=>ze.id===Je);Wt&&(Wt.widthScale=Math.max(.3,Math.min(3,et*_n)))},!1)},At=()=>{Ne.current=!1,document.removeEventListener("pointermove",tt),document.removeEventListener("pointerup",At),Rt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",tt),document.addEventListener("pointerup",At);return}else{const Ae=pe,je={...Se.position},we=Se.id;bt(qn("/tsumami/")),z.current&&(z.current.style.cursor=qn("/tsumami/"));let $e=!1;const et=Je=>{const Te=ve(Je),Rt=Te.x-Ae.x,tt=Te.y-Ae.y;Math.abs(Rt)+Math.abs(tt)>1&&($e=!0),c.applyUpdate(At=>{const rt=(At.leaves??[]).find(lt=>lt.id===we);rt&&(rt.position.x=Math.max(0,Math.min(_a,je.x+Rt)),rt.position.y=Math.max(0,Math.min(_a,je.y+tt)))},!1)},Ve=()=>{Ne.current=!1,document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",Ve),$e&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",et),document.addEventListener("pointerup",Ve);return}}}}if(fe.target===fe.currentTarget){Be?(Ge.setTouchBgStart({x:fe.clientX,y:fe.clientY}),R(fe)):zl?U(fe):(Ge.setMouseBgStart({x:fe.clientX,y:fe.clientY}),Jn.current=!0,z.current&&(z.current.style.cursor="grabbing"),R(fe));return}},onPointerMove:fe=>{if(de.current||Ne.current)return;if(W.current){N(fe);return}if(D.current){q(fe);return}if(X.current){C(fe);return}if(k.current){T(fe);return}if(B.current){Z(fe);return}ee(fe),G(fe);const Be=!!c.dragRef?.current||!!W.current||!!D.current||!!X.current||!!k.current||!!B.current||Jn.current,qe=o&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Be&&qe){const Se=r.flowers.find(pe=>pe.id===o);if(Se){const pe=ve(fe);if(Fe.current&&!yn.current){if(Math.hypot(pe.x-Fe.current.x,pe.y-Fe.current.y)<jl){const{zone:Te}=ci(pe.x,pe.y,Se,r,a);Te==="center"&&(bt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}yn.current=!0,Fe.current=null}const{zone:Ae,layerId:je,petalIndex:we}=ci(pe.x,pe.y,Se,r,a),{length:$e}=kt(Se.fabricSquareSize??r.fabricSquareSize),et=j0(Ae,a.kind,{hitLayerId:je,flower:Se,length:$e});et!=="none"&&(Zt.current=et,Xn.current=je,Vn.current=we);const Ve=Od(et,"/tsumami/");bt(Ve),z.current&&(z.current.style.cursor=Ve)}}if(!Be&&a.kind==="leaf"&&c.selectedLeafId){const Se=c.leaves.find(pe=>pe.id===c.selectedLeafId);if(Se){const pe=ve(fe);if(Fe.current&&!yn.current){if(Math.hypot(pe.x-Fe.current.x,pe.y-Fe.current.y)<jl)return;yn.current=!0,Fe.current=null}const Ae=im(pe.x,pe.y,Se,r);Ae!=="none"&&(un.current=Ae);const je=nr(Ae,"/tsumami/");bt(je),z.current&&(z.current.style.cursor=je)}}},onPointerUp:fe=>{if(!de.current&&!Ne.current){if(kn(null),W.current&&zl&&la(!1),O(),L(),g(),j(),H(),I(),Y(),Jn.current&&(Jn.current=!1,z.current&&(z.current.style.cursor=zl?"crosshair":"grab")),Ge.touchBgStartRef.current&&fe.pointerType==="touch"){const Be=fe.clientX-Ge.touchBgStartRef.current.x,qe=fe.clientY-Ge.touchBgStartRef.current.y;Math.hypot(Be,qe)<pn&&i({kind:"project"}),Ge.setTouchBgStart(null);return}if(Ge.setTouchBgStart(null),Ge.mouseBgStartRef.current&&fe.pointerType==="mouse"){const Be=fe.clientX-Ge.mouseBgStartRef.current.x,qe=fe.clientY-Ge.mouseBgStartRef.current.y;if(Ge.setMouseBgStart(null),Math.hypot(Be,qe)<It){i({kind:"project"});return}}if(Ge.setMouseBgStart(null),o){const Be=r.flowers.find(qe=>qe.id===o);if(Be){const qe=ve(fe);if(Fe.current&&Math.hypot(qe.x-Fe.current.x,qe.y-Fe.current.y)<jl){const{zone:Ve}=ci(qe.x,qe.y,Be,r,a);Ve==="center"&&(bt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}const{zone:Se,layerId:pe,petalIndex:Ae}=ci(qe.x,qe.y,Be,r,a),{length:je}=kt(Be.fabricSquareSize??r.fabricSquareSize),we=j0(Se,a.kind,{hitLayerId:pe,flower:Be,length:je});we!=="none"&&(Zt.current=we,Xn.current=pe,Vn.current=Ae);const $e=Od(we,"/tsumami/");bt($e),z.current&&(z.current.style.cursor=$e)}}}},onPointerLeave:()=>{O(),L(),g(),j(),H(),I(),Y(),Jn.current=!1,Ge.setTouchBgStart(null),Ge.setMouseBgStart(null),bt("grab"),Fe.current=null,yn.current=!0,Zt.current="none",un.current="none",Xn.current=void 0,Vn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[fe,Be,qe,Se]=b.split(/\s+/).map(Number),pe=_a;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:fe,y:Be,width:qe,height:Se,fill:"white"}),s.jsx("rect",{x:0,y:0,width:pe,height:pe,fill:"black"})]})}),s.jsx("rect",{x:fe,y:Be,width:qe,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:_a,height:_a,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:_a,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:_a,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),p&&(()=>{const fe=cn,[Be,qe,Se,pe]=b.split(/\s+/).map(Number),Ae=Math.max(Se,pe)/fe,we=[10,20,50,100,200,500,1e3].find(lt=>Ae/lt<=15)??1e3,$e=Math.floor(Be/fe/we)*we-we,et=Math.ceil((Be+Se)/fe/we)*we+we,Ve=Math.floor(qe/fe/we)*we-we,Je=Math.ceil((qe+pe)/fe/we)*we+we,Te=Ve*fe,Rt=Je*fe,tt=$e*fe,At=et*fe,rt=[];for(let lt=$e;lt<=et;lt+=we){const gt=lt*fe;rt.push(s.jsx("line",{x1:gt,y1:Te,x2:gt,y2:Rt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=Ve;lt<=Je;lt+=we){const gt=lt*fe;rt.push(s.jsx("line",{x1:tt,y1:gt,x2:At,y2:gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return s.jsx("g",{children:rt})})(),s.jsx(Tm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:z,applyUpdateRef:He,clientToSvgPointRef:Xe,stencilDraggingRef:de,onSelectStencil:c.onSelectStencil}),s.jsx(Lm,{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:wt,dashSyncToken:E,stageRef:z,multiTouchRef:Ge.multiTouchRef,clientToSvgPoint:ve,togglePetalSelection:me,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:K,beginScaleDrag:P,beginRotationDrag:te,beginWidthScaleDrag:se,beginRadiusDrag:oe,clickOriginRef:Fe,zoneActivatedRef:yn,setZoneCursorValue:bt,setTouchZoneIndicator:kn,hoverZoneRef:Zt,hoverHitLayerIdRef:Xn,hoverHitPetalIndexRef:Vn}),s.jsx(Em,{leaves:c.leaves,project:r,selection:a,paletteMap:f,dashSyncToken:E,selectedLeafId:c.selectedLeafId,groupHighlightedLeafIds:c.groupHighlightedLeafIds,zoneCursorValue:wt,stageRef:z,applyUpdateRef:He,clientToSvgPointRef:Xe,leafDraggingRef:Ne,clickOriginRef:Fe,zoneActivatedRef:yn,setZoneCursorValue:bt,onSelectLeaf:c.onSelectLeaf,onSelectGroup:c.onSelectGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:un}),s.jsx(km,{project:r,selection:a,selectedFlowerId:o,dashSyncToken:E}),s.jsx(Bm,{rect:Q}),s.jsx(qm,{indicator:oi})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Kd(c,r,a){return Math.min(a,Math.max(r,c))}function Ke({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:f,className:o,...v}){const[S,h]=$.useState(null),m=$.useRef(null),y=$.useCallback(M=>{const z=Number(M);isNaN(z)||r(Kd(z,a,i)),h(null)},[r,a,i]),p=$.useCallback(()=>{h(null)},[]),_=$.useCallback(M=>{const z=f??1,d=(Number(S??c)||0)+z*M,E=Kd(d,a,i),R=String(z).includes(".")?String(z).split(".")[1].length:0,G=Number(E.toFixed(R));h(String(G)),r(G)},[S,c,f,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:m,type:"text",inputMode:"decimal",className:o??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:S??String(c),onChange:M=>h(M.target.value),onFocus:M=>{h(String(c)),requestAnimationFrame(()=>M.target.select())},onBlur:()=>{S!==null&&y(S)},onKeyDown:M=>{M.key==="Enter"?(M.preventDefault(),S!==null&&y(S),m.current?.blur()):M.key==="Escape"?(M.preventDefault(),p(),m.current?.blur()):(M.key==="ArrowUp"||M.key==="ArrowDown")&&(M.preventDefault(),_(M.key==="ArrowUp"?1:-1))},...v}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:M=>{M.preventDefault(),_(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:M=>{M.preventDefault(),_(-1)},children:""})]})]})}function or({title:c,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Rm({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const o=$.useMemo(()=>{const d=[...c.layers||[]].sort((Q,K)=>Q.order-K.order);if(d.length<2)return{mode:"uniform",step:2};const E=d.map(Q=>Q.scale??1);if(E.every(Q=>Math.abs(Q-E[0])<.001))return{mode:"uniform",step:2};const G=d[0],Y=d[d.length-1],U=(Y.order??1)-(G.order??1);if(U<=0)return{mode:"gradual",step:2};const O=((G.scale??1)-(Y.scale??1))/U,W=Math.round(O*r*2)/2;return{mode:"gradual",step:ye(W,0,10)}},[c.id]),[v,S]=$.useState(o.mode),[h,m]=$.useState(o.step),[y,p]=$.useState(0);$.useEffect(()=>{S(o.mode),m(o.step),p(0)},[o]);const _=$.useMemo(()=>[...c.layers||[]].sort((d,E)=>d.order-E.order),[c.layers]),M=_[0],z=M?M.order:0,b=$.useMemo(()=>{if(!M)return[];const d=M.scale??1,E=M.radius,R=new Map;for(const Q of _){const K=Q.order-z;if(K===0)R.set(Q.id,d);else if(v==="uniform")R.set(Q.id,d);else{const ee=h/r;R.set(Q.id,ye(d-K*ee,.3,3))}}const{length:G}=kt(r),Y=_.length,U=70*Math.PI/180,N=new Map;let O=E;N.set(M.id,E);for(let Q=1;Q<Y;Q++){const K=_[Q-1],ee=R.get(K.id)??1,I=G*ee;let X;if(a===""){const C=Y-1-Q,g=Y>1?C/(Y-1)*U:0;X=I*(30/100)*Math.cos(g)}else X=I/3;O=O-X,N.set(_[Q].id,Math.max(2,O))}const W=_.map(Q=>{const K=R.get(Q.id)??1,ee=Math.round((N.get(Q.id)??E)*10)/10,I=Math.round(r*K*10)/10;return{id:Q.id,name:Q.name,order:Q.order,effScale:K,effFabricSize:I,effRadius:ee}});if(W.length>0){const Q=W[W.length-1],K=G*Q.effScale,ee=Math.floor(K*.28*10)/10;Q.effRadius>ee&&(Q.effRadius=ee)}return W},[_,M,z,v,h,30,r,a]);return $.useEffect(()=>{y!==0&&(!M||b.length===0||i(d=>{const E=d.flowers.find(G=>G.id===c.id);if(!E)return;for(const G of b){const Y=E.layers.find(U=>U.id===G.id);Y&&(Y.scale=ye(G.effScale,.3,3),Y.radius=ye(G.effRadius,2,120))}const R=[...E.layers].sort((G,Y)=>Y.order-G.order);for(let G=1;G<R.length;G++){const Y=R[G-1],U=R[G];U.offsetAngle=tl(Y.petalCount,Y.offsetAngle,U.petalCount)}}))},[y]),_.length<2?null:s.jsxs(or,{title:"",children:[s.jsxs(Ss,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:v,onChange:d=>{S(d.target.value),p(E=>E+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),v==="gradual"&&s.jsxs(Ss,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:d=>{m(d),p(E=>E+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),b.map(d=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:d.name}),s.jsxs("span",{children:[" ",d.effFabricSize,"mm /  ",Math.round(ar(d.effRadius,d.effScale,r)),"mm"]})]},d.id))]})]})}const n1="tsumami_recent_colors_v1",Rs=10;function Gm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const f of i.petalOverrides)f.colorId&&r.add(f.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Ds(){try{const c=localStorage.getItem(n1);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,Rs)}}catch{}return[]}function Ym(c){try{localStorage.setItem(n1,JSON.stringify(c.slice(0,Rs)))}catch{}}function Om(c){const r=Ds(),a=[c,...r.filter(i=>i!==c)].slice(0,Rs);Ym(a)}function Zn({palette:c,project:r,selectedColorId:a,onChange:i,size:f="md"}){const[o,v]=$.useState(!1),S=$.useRef(null),[h,m]=$.useState(Ds);$.useEffect(()=>{if(!o)return;const b=d=>{S.current&&!S.current.contains(d.target)&&v(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[o]);const y=$.useMemo(()=>Gm(r),[r]),p=$.useMemo(()=>{const b=new Set;b.add(a);for(const d of y)b.add(d);for(const d of h)b.add(d);return c.filter(d=>b.has(d.id))},[c,a,y,h]),_=$.useCallback(b=>{Om(b),m(Ds()),i(b)},[i]),M=f==="sm"?"h-4 w-4":"h-5 w-5",z=o?c:p;return s.jsx("div",{ref:S,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[z.map(b=>s.jsx("button",{className:`${M} rounded border-2 ${a===b.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:b.hex},title:b.name,"aria-label":`: ${b.name}`,onClick:()=>_(b.id)},b.id)),c.length>p.length&&s.jsx("button",{className:`${M} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>v(b=>!b),title:o?"":"","aria-label":o?"":"",children:s.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:o?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Hm({project:c,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(i=>{const f=a.layers.every(o=>o.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const v=o.flowers.find(S=>S.id===a.id);if(v)for(const S of v.layers)S.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Wd.map(i=>{const f=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==i&&r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;v.placementMode=i;const S=v.fabricSquareSize??o.fabricSquareSize;i===""?v.baseDiameter=lr(v.flowerDiameter):v.baseDiameter||(v.baseDiameter=o.baseDiameter),kh(v.layers,S,i,v.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ke,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[lr(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(f=>{const o=f.flowers.find(h=>h.id===a.id);if(!o)return;const v=xi(i);for(const h of o.layers)h.petalCount=i,h.widthScale=v;const S=[...o.layers].sort((h,m)=>m.order-h.order);for(let h=1;h<S.length;h++)S[h].offsetAngle=tl(S[h-1].petalCount,S[h-1].offsetAngle,S[h].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(f=>{const o=f.flowers.find(S=>S.id===a.id);if(!o)return;o.flowerDiameter=i,o.placementMode===""&&(o.baseDiameter=lr(i));const v=[...o.layers].sort((S,h)=>S.order-h.order);J0(v,o.fabricSquareSize??f.fabricSquareSize,i);for(const S of v){const h=o.layers.find(m=>m.id===S.id);h&&(h.radius=S.radius,h.scale=S.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)if(i.target.checked){if(!v.doublePetal){const S=v._doublePetalCache;v.doublePetal=S??{innerSizeReduction:2},delete v._doublePetalCache}}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(S=>S.doublePetal.innerSizeReduction))],f=i.length===1?i[0]:null,o=[...new Set(a.layers.map(S=>S.doublePetal.innerColorId??S.colorId))],v=o.length===1?o[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:S=>r(h=>{const m=h.flowers.find(y=>y.id===a.id);if(m)for(const y of m.layers)y.doublePetal&&(y.doublePetal.innerSizeReduction=ye(S,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:v??"",onChange:S=>r(h=>{const m=h.flowers.find(y=>y.id===a.id);if(m)for(const y of m.layers)y.doublePetal&&(S===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=S)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Uh.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.type=i,i===""&&!o.center.pepCount&&(o.center.pepCount=12),i===""&&!o.center.color2&&(o.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&delete f.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&(f.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Rm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Um({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:f,onAddToGroup:o,onMergeGroups:v}){const S=a,h=[...new Set(S.flatMap(p=>p.layers.map(_=>_.petalType)))],m=h.length===1?h[0]:null,y=p=>{r(_=>{for(const M of S){const z=_.flowers.find(b=>b.id===M.id);z&&p(z)}},!0)};return s.jsxs(or,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[S.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(p=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:p.hex},title:p.name,onClick:()=>y(_=>{for(const M of _.layers)M.colorId=p.id})},p.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:ll.map(p=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${m===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>y(_=>{for(const M of _.layers)M.petalType=p}),children:p},p))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:S[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:p=>{const _=xi(p);y(M=>{for(const b of M.layers)b.petalCount=p,b.widthScale=_;const z=[...M.layers].sort((b,d)=>d.order-b.order);for(let b=1;b<z.length;b++)z[b].offsetAngle=tl(z[b-1].petalCount,z[b-1].offsetAngle,z[b].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:S.map(p=>s.jsxs("div",{children:[p.name," (",p.layers.length,")"]},p.id))}),(()=>{const p=S.map(d=>nl(c,d.id)),_=S.filter(d=>!nl(c,d.id)).map(d=>d.id),M=[...new Set(p.filter(Boolean).map(d=>d.id))],z=_.length===S.length,b=M.length===1&&p.every(d=>d!=null);return s.jsxs(s.Fragment,{children:[z&&S.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(S.map(d=>d.id)),children:""}),b&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(M[0]),children:""}),M.length===1&&_.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(M[0],_),children:[" (+",_.length,")"]}),M.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(M,_),children:[" (",M.length,"",_.length>0?` +${_.length}`:"",")"]})]})})()]})}function Km({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:f,onUngroupFlowers:o,onUngroupAll:v}){const S=i.find(M=>M.id===f);if(!S)return null;const h=a,m=(c.leaves??[]).filter(M=>S.leafIds.includes(M.id)),y=[...new Set(h.flatMap(M=>M.layers.map(z=>z.petalType)))],p=y.length===1?y[0]:null,_=M=>{r(z=>{for(const b of h){const d=z.flowers.find(E=>E.id===b.id);d&&M(d)}},!0)};return s.jsxs(or,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:S.name,onChange:M=>r(z=>{const b=(z.groups??[]).find(d=>d.id===S.id);b&&(b.name=M.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[h.length>0&&s.jsxs("span",{children:[h.length,""]}),h.length>0&&m.length>0&&s.jsx("span",{children:" + "}),m.length>0&&s.jsxs("span",{children:[m.length,""]})]}),h.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(M=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:M.hex},title:M.name,onClick:()=>_(z=>{for(const b of z.layers)b.colorId=M.id})},M.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:ll.map(M=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===M?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>_(z=>{for(const b of z.layers)b.petalType=M}),children:M},M))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:h[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:M=>{const z=xi(M);_(b=>{for(const E of b.layers)E.petalCount=M,E.widthScale=z;const d=[...b.layers].sort((E,R)=>R.order-E.order);for(let E=1;E<d.length;E++)d[E].offsetAngle=tl(d[E-1].petalCount,d[E-1].offsetAngle,d[E].petalCount)})}})]}),s.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[h.map(M=>s.jsxs("div",{children:[M.name," (",M.layers.length,")"]},M.id)),m.map(M=>s.jsx("div",{children:M.name},M.id))]}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(S.id),children:""}),s.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>v(S.id),children:""})]})}function Zm({project:c,flowerIds:r,leafIds:a,onGroupMixed:i,onUngroupFlowers:f,onAddToGroup:o,onAddLeavesToGroup:v,onMergeGroups:S}){const h=c.flowers.filter(R=>r.includes(R.id)),m=(c.leaves??[]).filter(R=>a.includes(R.id)),y=r.map(R=>nl(c,R)),p=a.map(R=>Ml(c,R)),_=[...y,...p],M=r.filter(R=>!nl(c,R)),z=a.filter(R=>!Ml(c,R)),b=[...new Set(_.filter(Boolean).map(R=>R.id))],d=M.length+z.length===r.length+a.length,E=b.length===1&&_.every(R=>R!=null);return s.jsxs(or,{title:"",children:[s.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",h.length," +  ",m.length,""]}),s.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[h.map(R=>s.jsxs("div",{children:[" ",R.name]},R.id)),m.map(R=>s.jsxs("div",{children:[" ",R.name||""]},R.id))]}),s.jsxs(s.Fragment,{children:[d&&h.length+m.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(r,a),children:""}),E&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(b[0]),children:""}),b.length===1&&(M.length>0||z.length>0)&&!d&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{M.length>0&&o(b[0],M),z.length>0&&v(b[0],z)},children:[" (+",M.length+z.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>S(b,M),children:[" (",b.length,")"]})]})]})}function Xm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:f=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);S&&(S.name=f.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(f=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);S&&(S.petalType=f)}),children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:i.petalCount,onChange:f=>{r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);if(S){S.petalCount=f,S.widthScale=xi(f);const h=[...v.layers].sort((m,y)=>y.order-m.order);for(let m=1;m<h.length;m++)h[m].offsetAngle=tl(h[m-1].petalCount,h[m-1].offsetAngle,h[m].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:1,max:200,step:.5,value:Math.round(ar(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:f=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);S&&(S.radius=ye(qh(f,S.scale??1,v.fabricSquareSize??o.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:f=>r(o=>{const v=o.flowers.find(p=>p.id===a.id);if(!v)return;const S=v.layers.find(p=>p.id===i.id);if(!S)return;const h=v.fabricSquareSize??o.fabricSquareSize;S.scale=ye(Math.round(f/h*100)/100,.3,3);const m=[...v.layers].sort((p,_)=>p.order-_.order),y=m.findIndex(p=>p.id===S.id);if(y>=0)for(let p=y-1;p>=0;p--){const _=m[p],M=m[p+1],b=kt(h).length*(M.scale??1)/3;_.radius=Math.round((M.radius+b)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:f=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);S&&(S.scale=f)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:f=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);S&&(S.widthScale=f)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:Number(i.offsetAngle??0).toFixed(1),onChange:f=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);S&&(S.offsetAngle=f)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:f=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);S&&(S.colorId=f)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:f=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);if(S)if(f.target.checked){const h=S._doublePetalCache;S.doublePetal=h??{innerSizeReduction:2},delete S._doublePetalCache}else S.doublePetal&&(S._doublePetalCache={...S.doublePetal}),delete S.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:f=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);S?.doublePetal&&(S.doublePetal.innerSizeReduction=ye(f,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:f=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);S?.doublePetal&&(f===S.colorId?delete S.doublePetal.innerColorId:S.doublePetal.innerColorId=f)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:f=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);S&&(S.visible=f.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:f=>r(o=>{const v=o.flowers.find(h=>h.id===a.id);if(!v)return;const S=v.layers.find(h=>h.id===i.id);S&&(S.locked=f.target.checked)})}),""]})]})]})]})}function Vm({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const f=i,o=f.map(d=>{const E=a.layers.find(R=>R.id===d.layerId);return{...d,layer:E}}).filter(d=>d.layer!=null),v=(d,E)=>{const R=a.layers.find(Y=>Y.id===d);return R?(R?.petalOverrides?.find(Y=>Y.index===E)??null)?.colorId??R.colorId:null},S=(d,E)=>{const R=a.layers.find(Y=>Y.id===d);return R?(R?.petalOverrides?.find(Y=>Y.index===E)??null)?.petalType??R.petalType:null},h=o.map(d=>v(d.layerId,d.index)),m=o.map(d=>S(d.layerId,d.index)),y=h.length>0&&h.every(d=>d===h[0]),_=m.length>0&&m.every(d=>d===m[0])?m[0]:null,M=d=>{r(E=>{const R=E.flowers.find(G=>G.id===a.id);if(R)for(const G of f){const Y=R.layers.find(N=>N.id===G.layerId);if(!Y)continue;Y.petalOverrides||(Y.petalOverrides=[]);const U=Y.petalOverrides.find(N=>N.index===G.index);if(U)d.colorId!==void 0&&(d.colorId===Y.colorId?delete U.colorId:U.colorId=d.colorId),d.petalType!==void 0&&(d.petalType===Y.petalType?delete U.petalType:U.petalType=d.petalType),!U.colorId&&!U.petalType&&(Y.petalOverrides=Y.petalOverrides.filter(N=>N.index!==G.index),Y.petalOverrides.length===0&&(Y.petalOverrides=void 0));else{const N={index:G.index};d.colorId!==void 0&&d.colorId!==Y.colorId&&(N.colorId=d.colorId),d.petalType!==void 0&&d.petalType!==Y.petalType&&(N.petalType=d.petalType),(N.colorId!==void 0||N.petalType!==void 0)&&Y.petalOverrides.push(N)}}},!0)},z=()=>{r(d=>{const E=d.flowers.find(R=>R.id===a.id);if(E)for(const R of f){const G=E.layers.find(Y=>Y.id===R.layerId);!G||!G.petalOverrides||(G.petalOverrides=G.petalOverrides.filter(Y=>Y.index!==R.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0))}},!0)},b=o.some(d=>d.layer?.petalOverrides?.find(E=>E.index===d.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",b&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(d=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${y&&h[0]===d.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>M({colorId:d.id})},d.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(d=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${_===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>M({petalType:d}),children:d},d))})]}),b&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:z,children:""})]})]})}function Jm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:f}){const o=i?.petalOverrides?.find(p=>p.index===f)??null,v=o?.colorId??i.colorId,S=o?.petalType??i.petalType,h=o!=null,m=p=>{r(_=>{const M=_.flowers.find(d=>d.id===a.id);if(!M)return;const z=M.layers.find(d=>d.id===i.id);if(!z)return;z.petalOverrides||(z.petalOverrides=[]);const b=z.petalOverrides.find(d=>d.index===f);if(b)p.colorId!==void 0&&(b.colorId=p.colorId),p.petalType!==void 0&&(b.petalType=p.petalType),p.innerColorId!==void 0&&(b.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(b.innerSizeReduction=p.innerSizeReduction),b.colorId!==void 0||b.petalType!==void 0||b.innerColorId!==void 0||b.innerSizeReduction!==void 0?(b.colorId===void 0&&delete b.colorId,b.petalType===void 0&&delete b.petalType,b.innerColorId===void 0&&delete b.innerColorId,b.innerSizeReduction===void 0&&delete b.innerSizeReduction):(z.petalOverrides=z.petalOverrides.filter(E=>E.index!==f),z.petalOverrides.length===0&&(z.petalOverrides=void 0));else{const d={index:f};p.colorId!==void 0&&(d.colorId=p.colorId),p.petalType!==void 0&&(d.petalType=p.petalType),p.innerColorId!==void 0&&(d.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(d.innerSizeReduction=p.innerSizeReduction),(d.colorId!==void 0||d.petalType!==void 0||d.innerColorId!==void 0||d.innerSizeReduction!==void 0)&&z.petalOverrides.push(d)}},!0)},y=()=>{r(p=>{const _=p.flowers.find(z=>z.id===a.id);if(!_)return;const M=_.layers.find(z=>z.id===i.id);!M||!M.petalOverrides||(M.petalOverrides=M.petalOverrides.filter(z=>z.index!==f),M.petalOverrides.length===0&&(M.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",f+1,h&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:v,onChange:p=>{p===i.colorId?m({colorId:void 0}):m({colorId:p})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(p=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{p===i.petalType?m({petalType:void 0}):m({petalType:p})},children:p},p))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:p=>r(_=>{const M=_.flowers.find(b=>b.id===a.id);if(!M)return;const z=M.layers.find(b=>b.id===i.id);if(z)if(p.target.checked){const b=z._doublePetalCache;z.doublePetal=b??{innerSizeReduction:2},delete z._doublePetalCache}else z.doublePetal&&(z._doublePetalCache={...z.doublePetal}),delete z.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const p=i.doublePetal,_=o?.innerSizeReduction??p.innerSizeReduction,M=o?.innerColorId??p.innerColorId??v;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",o?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ke,{min:1,max:30,step:1,value:_,onChange:z=>{const b=ye(z,1,30);b===p.innerSizeReduction?m({innerSizeReduction:void 0}):m({innerSizeReduction:b})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:M,size:"sm",onChange:z=>{const b=p.innerColorId??i.colorId;m(z===b?{innerColorId:void 0}:{innerColorId:z})}})]})]})})(),h&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:y,children:""})]})]})}function Qm({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const f=a,o=v=>{r(S=>{const h=(S.stencils??[]).find(m=>m.id===f.id);h&&Object.assign(h,v)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:v=>o({variant:v.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(v=>s.jsx("option",{value:v,children:e1[v]},v))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:v=>o({pose:v.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(v=>s.jsx("option",{value:v,children:t1[v]},v))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:v=>o({locked:v.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Wm({project:c,applyUpdate:r,selectedLeaf:a,groups:i,onDeleteLeaf:f,onAddLeafToGroup:o,onRemoveLeafFromGroup:v}){const S=a,h=y=>{r(p=>{const _=(p.leaves??[]).find(M=>M.id===S.id);_&&y(_)},!0)},m=Ml(c,S.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:S.name,onChange:y=>h(p=>{p.name=y.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S.petalType===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(p=>{p.petalType=y}),children:y},y))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:S.colorId,onChange:y=>h(p=>{p.colorId=y})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((S.fabricSquareSize??c.fabricSquareSize)*(S.scale??1)*10)/10,onChange:y=>h(p=>{const _=p.fabricSquareSize??c.fabricSquareSize;p.scale=ye(Math.round(y/_*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(S.scale??1).toFixed(2),onChange:y=>h(p=>{p.scale=y})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(S.widthScale??1).toFixed(2),onChange:y=>h(p=>{p.widthScale=y})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ke,{value:Number(S.rotation).toFixed(1),onChange:y=>h(p=>{p.rotation=y})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.doublePetal,onChange:y=>h(p=>{if(y.target.checked){const _=p._doublePetalCache;p.doublePetal=_??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),S.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:S.doublePetal.innerSizeReduction,onChange:y=>h(p=>{p.doublePetal&&(p.doublePetal.innerSizeReduction=ye(y,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:S.doublePetal.innerColorId??S.colorId,onChange:y=>h(p=>{p.doublePetal&&(y===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=y)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.visible,onChange:y=>h(p=>{p.visible=y.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.locked,onChange:y=>h(p=>{p.locked=y.target.checked})}),""]})]}),m?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",m.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>v(S.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:y=>{y.target.value&&o(S.id,y.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(S.id),children:""})]})]})}function Pm({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:f,onAddLeavesToGroup:o,onMergeLeafGroups:v}){const S=(c.leaves??[]).filter(h=>a.includes(h.id));return S.length===0?null:s.jsxs(or,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[S.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:"",onChange:h=>r(m=>{for(const y of a){const p=(m.leaves??[]).find(_=>_.id===y);p&&(p.colorId=h)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(h=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(m=>{for(const y of a){const p=(m.leaves??[]).find(_=>_.id===y);p&&(p.petalType=h)}},!0),children:h},h))}),(()=>{const h=S.map(M=>Ml(c,M.id)),m=S.filter(M=>!Ml(c,M.id)).map(M=>M.id),y=[...new Set(h.filter(Boolean).map(M=>M.id))],p=m.length===S.length,_=y.length===1&&h.every(M=>M!=null);return s.jsxs(s.Fragment,{children:[p&&S.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),_&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(y[0]),children:""}),y.length===1&&m.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(y[0],m),children:[" (+",m.length,")"]}),y.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(y,m),children:[" (",y.length,"",m.length>0?` +${m.length}`:"",")"]})]})})()]})}function Fm(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:f,selectedFlowers:o,selectedLayer:v,selectedPetalIndex:S,selectedPetals:h}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:m=>i(y=>y.title=m.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{value:r.fabricSquareSize,min:5,max:60,onChange:m=>i(y=>y.fabricSquareSize=m),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{value:r.baseDiameter,min:10,max:100,onChange:m=>i(y=>y.baseDiameter=m),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",ta(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",ta(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:m=>i(y=>y.notes=m.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(m=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:m.hex},title:m.name},m.id))})]})]})]}),a.kind==="flower"&&f&&s.jsx(Hm,{project:r,applyUpdate:i,selectedFlower:f}),a.kind==="flowers"&&o.length>0&&s.jsx(Um,{project:r,applyUpdate:i,selectedFlowers:o,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&s.jsx(Km,{project:r,applyUpdate:i,selectedFlowers:o,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers,onUngroupAll:c.onUngroupAll}),a.kind==="layer"&&f&&v&&s.jsx(Xm,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:v}),a.kind==="petals"&&f&&h.length>0&&s.jsx(Vm,{project:r,applyUpdate:i,selectedFlower:f,selectedPetals:h}),a.kind==="petal"&&f&&v&&S!==null&&s.jsx(Jm,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:v,selectedPetalIndex:S}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(Qm,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(Wm,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,groups:c.groups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Pm,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="mixed"&&s.jsx(Zm,{project:r,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:c.onGroupMixed,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeGroups:c.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!f?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function $m(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?ta(c.baseDiameter,c.fabricSquareSize,r).diameter:rr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function eb(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Th(c.flowerDiameter,c.baseDiameter,r):Ah(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function tb({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:f}){const o=h=>{a(m=>{const y={...m,...h};return h.placementMode&&h.placementMode!==m.placementMode&&(h.placementMode===""?(y.baseDiameter=30,y.fabricSquareSize=20,y.layerCount=4,y.petalCount=12):(y.fabricSquareSize=20,y.layerCount=1,y.petalCount=6)),y.flowerDiameter=$m(y),y})},v=h=>{a(m=>{const y={...m,flowerDiameter:h};return y.fabricSquareSize=eb(y),y})},S=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&S.push("");const h=Lh(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>h&&S.push(`${h}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Wd.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>o({placementMode:h}),children:h},h))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:h=>o({fabricSquareSize:h})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:h=>o({layerCount:h})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:h=>o({baseDiameter:h})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:h=>a(m=>({...m,petalCount:h}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:v})]})]}),S.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:S.map((h,m)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:h},m))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(m=>({...m,colorId:h.id}))},h.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:ll.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(m=>({...m,petalType:h})),children:h},h))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:h=>o({sizeStepMm:h})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function nb(c){return Math.round(c*Math.SQRT2/2*10)/10}function lb(c){return Math.round(c*Math.SQRT2*10)/10}function ab({palette:c,addLeafOpts:r,setAddLeafOpts:a,onConfirm:i,onCancel:f}){const o=S=>{a(h=>({...h,fabricSquareSize:S,leafSizeMm:nb(S)}))},v=S=>{a(h=>({...h,leafSizeMm:S,fabricSquareSize:lb(S)}))};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:S=>S.stopPropagation(),"data-testid":"dialog-add-leaf",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:o})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:r.leafSizeMm,onChange:v})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(S=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===S.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>a(h=>({...h,colorId:S.id}))},S.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:ll.map(S=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:S})),children:S},S))})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-leaf",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}(function(c,r){const a=Kt,i=c();for(;;)try{if(parseInt(a(353))/1*(-parseInt(a(316))/2)+parseInt(a(309))/3+-parseInt(a(350))/4+parseInt(a(308))/5+-parseInt(a(327))/6*(parseInt(a(358))/7)+parseInt(a(324))/8*(-parseInt(a(362))/9)+parseInt(a(356))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,150327);const ib=(function(){const c=Kt,r={ZzNFW:c(368),hyzKY:function(i,f){return i!==f},PCgJn:"yZHWF"};let a=!0;return function(i,f){const o=a?function(){const v=Kt;if(r.ZzNFW!=="yNQsn"){if(f){if(r[v(306)](r.PCgJn,"yZHWF"))return _0x5c719f[v(352)]().search(v(365))[v(352)]()[v(311)](_0x349045)[v(360)](v(365));{const S=f.apply(i,arguments);return f=null,S}}}else _0x48dc45(_0x1c6873)}:function(){};return a=!1,o}})(),Ns=ib(void 0,function(){const c=Kt,r={qWdMq:c(365)};return Ns.toString().search(r[c(364)]).toString().constructor(Ns)[c(360)]("(((.+)+)+)+$")});function H0(){const c=["t1bTEhu","z2v0sxrLBq","CMLNAhq","ywrKrxzLBNrmAxn0zw5LCG","nJeZmJu2rg9Oqw5X","C3rHCNrxAwr0Ahm","Dg9tDhjPBMC","mte0oty0AvfRAKDV","zNjqDvi","vKPvzgW","ndu1ntaYmhfitKPvqq","ChjLDMvUDerLzMf1Bhq","n2D1wwrOsG","ALLJre0","C2vHCMnO","ELDZrve","owzLC3PHyq","CgfYC2u","CvDKtxe","kcGOlISPkYKRksSK","Cg9PBNrLCM1VDMu","ru11thC","D2jhtxK","C3zNAxq","yLHmuhG","AhL6s1K","y3vYC29Y","nJi1nZaWsNjtBePY","mZGYmte2AfjKBenX","D2LKDgG","y29UC3rYDwn0B3i","z2v0qM91BMrPBMDdBgLLBNrszwn0","C2LKzq","uevVCMq","y3vYCMvUDa","mM16yMfMzq","BwLU","y2XPzw50wa","CM91BMq","DfzftKC","Bwf0y2HLCW","yM9KEq","Bwf4","odCYmJGWwhfvBu5c","C2v0sxrLBq","tfjOrMm","mta4mJi0ngHjve1kDG","C3r5Bgu","zhrXsMG","A3rSzMC","BgvMDa","u2Dfuvq","Ewzltwm","ALfuweG","DLLbwMO","q1v5BNC","v0jJBLO","CMvTB3zLrxzLBNrmAxn0zw5LCG","BenTDLO","BfvqyNC","thjsq0q","yMXPEgi","Cg9PBNrLCNvW","Bwf0y2HnzwrPyq","DxnLCLnLBgvJDa"];return H0=function(){return c},H0()}Ns();function Kt(c,r){c=c-304;const a=H0();let i=a[c];if(Kt.bOdMNI===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Kt.xxhAnY=f,Kt.mXenMh={},Kt.bOdMNI=!0}const o=a[0],v=c+o,S=Kt.mXenMh[v];if(S)i=S;else{const h=function(m){this.GroWaS=m,this.RRhoAl=[1,0,0],this.FeboLE=function(){return"newState"},this.TpPsCO="\\w+ *\\(\\) *{\\w+ *",this.tnsyNL=`['|"].+['|"];? *}`};h.prototype.vIaHwr=function(){const m=new RegExp(this.TpPsCO+this.tnsyNL),y=m.test(this.FeboLE.toString())?--this.RRhoAl[1]:--this.RRhoAl[0];return this.myIpOE(y)},h.prototype.myIpOE=function(m){return~m?this.bhbuMy(this.GroWaS):m},h.prototype.bhbuMy=function(m){for(let y=0,p=this.RRhoAl.length;y<p;y++)this.RRhoAl.push(Math.round(Math.random())),p=this.RRhoAl.length;return m(this.RRhoAl[0])},new h(Kt).vIaHwr(),i=Kt.xxhAnY(i),Kt.mXenMh[v]=i}return i}const l1="tsumami-panel-widths",a1={left:25,right:25},As=15,Ts=15,sr=30;function rb(){const c=Kt,r={PjkVY:function(a,i){return a===i},svgit:"number",frPuR:function(a,i){return a>=i}};try{const a=localStorage[c(347)](l1);if(a){const i=JSON[c(363)](a);if(typeof i[c(331)]=="number"&&r.PjkVY(typeof i[c(348)],r[c(304)])&&r[c(354)](i.left,As)&&i.right>=Ts&&r[c(354)](100-i.left-i.right,sr))return i}}catch{}return a1}function Zd(c,r){const a=Kt,i={PzYMS:function(S,h){return S-h},MzyqT:function(S,h){return S/h},PTbSy:function(S,h){return S*h}};let f=Math[a(323)](As,c),o=Math[a(323)](Ts,r);const v=i.PzYMS(100-f,o);if(v<sr){const S=sr-v;f-=i.MzyqT(S,2),o-=S/2,f=Math.max(As,f),o=Math.max(Ts,o)}return{left:Math[a(319)](i.PTbSy(f,100))/100,right:Math.round(o*100)/100}}function cb(){const c=Kt,r={EMuLw:"Saejc",bXLPx:c(341),fZiKY:"(min-width: 768px)",nRqkp:"change",XsRdU:function(z,b){return z-b},EmZNl:function(z,b){return z/b},VJUdl:function(z,b){return z/b},SgEQT:function(z,b){return z*b},zWsEQ:function(z,b){return z/b},DkFmG:function(z,b){return z!==b},yfKMc:"nkYsM",CUynw:"1|5|2|0|4|3",lUPbw:c(343),dtqJh:c(366),FiQpU:function(z,b){return z*b},jYcDM:function(z,b){return z(b)},OPmxu:function(z,b){return z(b)},PEord:function(z,b){return z/b},PJDHx:function(z,b){return z/b},GqCxJ:c(330),kIUCY:function(z,b){return z(b)},WBcnZ:function(z,b){return z(b)},vYAZj:function(z,b){return z(b)},XdgcS:function(z,b,d){return z(b,d)},dHwtJ:function(z,b,d){return z(b,d)},hsCXN:function(z,b,d){return z(b,d)},lCmvZ:function(z,b,d){return z(b,d)}},[a,i]=r[c(359)]($.useState,rb),f=r.jYcDM($.useRef,null),o=r.kIUCY($.useRef,null),[v,S]=r[c(337)]($.useState,!1),[h,m]=r[c(335)]($.useState,()=>typeof window<"u"?window[c(344)]("(min-width: 768px)").matches:!0);r.XdgcS($.useEffect,()=>{const z=c;if(r[z(367)]===r[z(305)])_0x3c4d9b.current?.();else{const b=window.matchMedia(r.fZiKY),d=E=>m(E[z(321)]);return b.addEventListener(r.nRqkp,d),()=>b.removeEventListener("change",d)}},[]),$.useEffect(()=>{const z=c;localStorage[z(325)](l1,JSON.stringify(a))},[a]);const y=$.useRef(a);$.useEffect(()=>{const z=c;if(r.DkFmG(r[z(333)],z(326)))y.current=a;else{let b=_0x5bb9a2[z(323)](_0x50b5ca,_0x3aa95c),d=_0x3de894[z(323)](_0x57d864,_0x171fcb);const E=qYRyyn.XsRdU(100-b,d);if(E<_0x5d2ce5){const R=_0x3ed9b4-E;b-=qYRyyn.EmZNl(R,2),d-=qYRyyn.EmZNl(R,2),b=_0x5019b6.max(_0x1014f1,b),d=_0x222bee[z(323)](_0x3558e0,d)}return{left:qYRyyn[z(355)](_0x37c028.round(qYRyyn[z(332)](b,100)),100),right:qYRyyn[z(361)](_0x21e80f[z(319)](d*100),100)}}},[a]);const p=r.dHwtJ($.useCallback,(z,b)=>{const d=c,E={jQTXH:function(U,N){return r.FiQpU(U,N)},tVENG:function(U,N){return U/N},iRVRM:function(U,N){return U-N},VKYDy:function(U,N){return r[Kt(359)](U,N)},blixb:function(U,N){return r.XsRdU(U,N)},YmxBP:r[d(329)],pGeRV:d(343)};b[d(357)]();const R=f.current;if(!R)return;o[d(315)]={side:z,startX:b.clientX,startWidths:{...y.current}},r[d(346)](S,!0),document.body[d(328)][d(307)]="col-resize",document[d(322)].style[d(345)]="none";const G=U=>{const N=d,O=o.current;if(!O)return;const W=R[N(312)]()[N(310)];if(W===0)return;const Q=U[N(318)]-O.startX,K=E[N(334)](E[N(320)](Q,W),100);if(O[N(313)]===N(331)){const ee=O[N(351)].left+K,I=E.iRVRM(100,O[N(351)].right)-sr;E.VKYDy(i,Zd(Math.min(ee,I),O.startWidths.right))}else{const ee=E[N(342)](O[N(351)][N(348)],K),I=E[N(342)](100-O.startWidths[N(331)],sr);i(Zd(O.startWidths[N(331)],Math[N(317)](ee,I)))}},Y=()=>{const U=d,N=r[U(336)].split("|");let O=0;for(;;){switch(N[O++]){case"0":document[U(322)][U(328)][U(345)]="";continue;case"1":o.current=null;continue;case"2":document[U(322)].style[U(307)]="";continue;case"3":window.removeEventListener(r[U(340)],Y);continue;case"4":window.removeEventListener(r.dtqJh,G);continue;case"5":S(!1);continue}break}};window[d(349)](r.dtqJh,G),window.addEventListener(r[d(340)],Y),_.current=()=>{const U=d;window[U(338)](E.YmxBP,G),window.removeEventListener(E.pGeRV,Y),o[U(315)]=null,S(!1),document.body[U(328)][U(307)]="",document.body[U(328)].userSelect=""}},[]),_=r.OPmxu($.useRef,null);r.hsCXN($.useEffect,()=>()=>{_[Kt(315)]?.()},[]);const M=r[c(339)]($.useCallback,()=>{const z=c;if(r.GqCxJ!=="ktlfg"){const b=_0xaa1ae1-_0x49b10e;_0x1b36d1-=qYRyyn[z(314)](b,2),_0x3855b8-=qYRyyn.PJDHx(b,2),_0x369482=_0x484212[z(323)](_0x1025da,_0x165130),_0x42a6c6=_0x5f0e15[z(323)](_0x3bddfe,_0x357564)}else i(a1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:p,onDividerDoubleClick:M,isDragging:v,isDesktop:h}}function Xd({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>r(c,f),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}(function(c,r){const a=Bt,i=c();for(;;)try{if(parseInt(a(228))/1*(-parseInt(a(250))/2)+-parseInt(a(187))/3*(-parseInt(a(236))/4)+-parseInt(a(312))/5*(parseInt(a(211))/6)+-parseInt(a(283))/7*(-parseInt(a(207))/8)+parseInt(a(208))/9+-parseInt(a(297))/10*(-parseInt(a(301))/11)+parseInt(a(259))/12*(parseInt(a(322))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,910396);function U0(){const c=["C3rLBMnPBhm","BwfW","ndLxzgrougW","C3rLBMnPBeLK","CKfcCg8","yvzJr3q","vhrys1u","BMHyq24","Bgf5zxjjza","uvPisLK","mZyYotu1mM9uAKzira","BMfTzq","AfnnBgi","sLvqCMq","Bgf5zxjZ","CKPNCvq","zfHfBue","zMLUza","ChjVAMvJDa","wwjXq0G","CNvrA1u","EKXJu3i","zgLHBwv0zxi","v3zfwKq","ndq3mtzVC2j0D3O","Aw5JBhvKzxm","CLvRC0i","CvzcB28","AKntz3y","BgvHzKLK","CMv2zxjZzq","B2zMC2v0qw5NBgu","yxbWBhK","mJG0ntjXuNfAyvC","Bgf5","yKLTEuC","D3bAv2O","y29UC3rYDwn0B3i","Dw5ZAgLMDa","z3jVDxbjza","AMzjzg4","thnSu3e","s3jtBLG","A2LUza","sLnlvei","zM9YrwfJAa","AfjrugC","AwDXBgK","rvnNzMC","Dw5PzM9YBq","EuvLqvi","CwP4BLm","Du1TD3u","uMTJAva","u0zAD1y","AgfZ","B3jKzxi","mJiZnJyXmMvTEMvkAW","yxLAv2i","ugHVCeG","DK9Rvwe","s3nxzhu","vKncr0q","CgXHy2vTzw50tw9Kzq","zMXVD2vYswq","r2LdDK4","BgvHzG","u3DQyMC","tLH5Deq","t3bRwva","s1HqB1G","ndu5mteZmentDKrwCW","s3n3tue","v2vOwMq","ueX6DeC","mtfiqw9ktwK","zLjSy2S","Cgv0ywXdB3vUDa","CfvcDxO","z3jVDxbZ","rwnlCe4","CM90yxrPB24","uuPjufu","ze9WzK0","zfnquwu","AeXkzhm","mti3ota1tvHqDerX","vw9JzvK","rNfjuKO","zLDszfe","C2nHBgu","zMLSDgvY","vevmzfe","qKX5wvG","Cej1s0i","wK5REvC","mtC4mxPmvw9bDG","wuPMz2G","CM91BMq","zMXVD2vYswrZ","C2XPy2u","zMfICMLJu3f1yxjLu2L6zq","C29Tzq","BgvHDMvZ","D2vKEvq","Cgv0ywW","rgn4tuu","zMXVD2vYCW","BNjOre0","z3jVDxa","Aw5KzxG","tuLMzM8","EKDNAeK","z0nHz1G","ChjLDMLVDxnhCM91Chm","tgL4A0C","z3jW","Bwf0y2G","ChvZAa","m2TKCNrftq","C29YDa","zMXVD2vYrgLHBwv0zxi","q3Dtzxm","CMfKAxvZ","veHdsfK","veH5Dge","uhjtu2S","yuLuveS","uuL0DKK","zMXVD2vY","BgvUz3rO","yMLPCM0","y3PxzwC","vvPYsxq","rKvjD2K","wwDxrLC","BwL4zwq","qKDhA0K","rvHHsue","mtztveX6wxq","ndiXnZmWmxDKB2zjAW","vu9Kwfy","yMfZzurPyw1LDgvY","mtG2weTXzKnt","Auv3wfC","zhrIyK8","Axv1vxO","BgvHzKLKCW","DLbhrKm","AK94DK4","Cgv0ywXZ","44kW44oR44o844oxia","qvHZwMu","u2TPywq","swHRD0K","s1jrqNa","BMDQz2m","Bwf4"];return U0=function(){return c},U0()}const ub=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Bt;if(a){const o=a[f(258)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Ls=ub(void 0,function(){const c=Bt,r={pBuKB:"(((.+)+)+)+$"};return Ls.toString().search(r[c(320)]).toString()[c(263)](Ls).search("(((.+)+)+)+$")});Ls();function Bt(c,r){c=c-169;const a=U0();let i=a[c];if(Bt.TYEajI===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Bt.aFGiHJ=f,Bt.mkctAi={},Bt.TYEajI=!0}const o=a[0],v=c+o,S=Bt.mkctAi[v];if(S)i=S;else{const h=function(m){this.NqXZNT=m,this.xiLHbN=[1,0,0],this.JOMuBz=function(){return"newState"},this.LdXATn="\\w+ *\\(\\) *{\\w+ *",this.KLNoLc=`['|"].+['|"];? *}`};h.prototype.yCbvJI=function(){const m=new RegExp(this.LdXATn+this.KLNoLc),y=m.test(this.JOMuBz.toString())?--this.xiLHbN[1]:--this.xiLHbN[0];return this.oHIygd(y)},h.prototype.oHIygd=function(m){return~m?this.taBnMB(this.NqXZNT):m},h.prototype.taBnMB=function(m){for(let y=0,p=this.xiLHbN.length;y<p;y++)this.xiLHbN.push(Math.round(Math.random())),p=this.xiLHbN.length;return m(this.xiLHbN[0])},new h(Bt).yCbvJI(),i=Bt.aFGiHJ(i),Bt.mkctAi[v]=i}return i}function sb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:f,setExpandedGroups:o,zoom:v,pan:S,stageSize:h,CANVAS_MAX_SVG:m,deleteLeafById:y}){const p=Bt,_={aVcGt:function(C,g){return C(g)},ePrMW:function(C,g){return C/g},RkciP:function(C,g){return C!==g},UOdXV:function(C,g){return C/g},CwSes:function(C,g){return C-g},ZYgJZ:function(C,g){return C/g},MkEtv:function(C,g){return C-g},KsWdu:function(C,g){return C*g},WehZd:function(C,g){return C*g},pUBuz:function(C,g){return C||g},dtbbO:p(195),MxwMv:function(C,g){return C(g)},QzZHX:p(183),gCagX:p(197),czWeg:function(C,g,D,q,L){return C(g,D,q,L)},IPbeK:p(275),jCSgv:function(C,g,D,q){return C(g,D,q)},yDNMS:function(C,g){return C<g},KrSnX:function(C,g){return C>=g},ZNkyW:function(C,g){return C/g},XpSrg:function(C,g){return C(g)},ngjgc:p(260),EXaIA:function(C,g){return C(g)},rABpo:"col_green",iuuUz:function(C,g,D,q){return C(g,D,q)},hRQPg:function(C,g){return C(g)},oVSNh:function(C,g){return C(g)},biirm:function(C,g){return C>g},fWRdQ:function(C,g){return C<g},qVBoo:function(C,g){return C<=g},IhkwI:"layer",hSMlb:function(C,g){return C===g},UZrIt:function(C,g){return C(g)},FqIRJ:"petal",QJIPU:p(221),zMjwh:function(C,g){return C(g)},iEwXW:function(C,g){return C===g},dXEmA:function(C,g,D){return C(g,D)},fwKIn:function(C,g,D,q){return C(g,D,q)},xkgnZ:function(C,g){return C===g},geTmb:function(C,g){return C!==g},aAaKo:p(262),PLztG:function(C,g){return C===g},SFZwV:"leaves",JUPrd:function(C,g){return C!==g},FEIwi:"wEARh",nhXCn:function(C,g,D){return C(g,D)},LslSq:"project",NEqmQ:function(C,g){return C===g},PhopH:p(175),fRlck:function(C,g){return C===g},pZlBJ:"mwPIF",NXytD:function(C,g,D){return C(g,D)},zLcSr:function(C,g){return C(g)},OqVyf:function(C,g){return C===g},THyta:"petals",qjxnS:function(C,g){return C(g)},LgtKh:function(C,g){return C===g},hLJds:function(C,g,D){return C(g,D)},EcKpN:p(177),Swjbg:function(C,g){return C===g},bImyG:"oERzz",rnwaU:"grp",ruQkU:function(C,g,D){return C(g,D)},yEeAR:function(C,g){return C(g)},rJgqT:function(C,g){return C<g},WgHoc:function(C,g,D,q){return C(g,D,q)},zGghI:p(232),MGPHY:function(C,g){return C/g},LAmEx:function(C,g){return C*g},yEBCt:function(C,g){return C+g},FvcpU:"back",qWSSE:function(C,g){return C(g)},nrhDM:"stencil",vPGFC:function(C,g){return C(g)},Wnqxi:function(C,g){return C(g)},igqli:function(C,g){return C(g)},CoUVb:function(C,g){return C(g)},QZHJY:"mixed",BLyYX:function(C,g){return C(g)},OpkYP:function(C,g){return C===g},maHHo:function(C,g){return C(g)},JddYL:function(C,g){return C(g)},THCHY:p(194),LcpFE:function(C,g){return C===g},uMmwu:function(C,g){return C>g},CJpLj:p(323),vOkUa:"BCAQi",aEEHW:"UZTbS",swwIm:function(C,g){return C===g},XpovB:p(292),JdsQG:function(C,g){return C===g},XjmGb:function(C,g){return C(g)},JmRNc:function(C,g){return C===g},FRWss:function(C,g){return C===g},QItvI:function(C,g){return C(g)},jOxvN:function(C,g){return C(g)},AKoUf:function(C,g){return C===g},ixggi:function(C,g){return C===g},KswMA:function(C,g){return C(g)},NDvoO:function(C,g){return C(g)},rUksB:function(C,g){return C(g)},wedyT:p(205),bZunc:function(C,g){return C(g)},KXPoX:function(C,g){return C===g},bzhzH:function(C,g,D){return C(g,D)}},M=C=>{const g=p,D={pCFoB:"mixed"},q=[...C[g(240)]].sort((Z,H)=>Z[g(282)]-H.order),L=q[0];if(!L)return 28;const k=C.fabricSquareSize??c[g(169)],{length:T}=_[g(231)](kt,k),j=T*(L.scale??1);let B;if(C.placementMode==="")B=_.ePrMW(j,3);else if(_[g(279)]("NUydH",g(245))){const H=_[g(209)](70*Math.PI,180),P=q[g(198)]+1,te=_[g(190)](P,1),se=P>1?_.ZYgJZ(te,_.MkEtv(P,1))*H:0;B=_[g(287)](_[g(287)](j,30/100),Math.cos(se))}else{const Z=(_0x42b4b1[g(305)]??[]).find(oe=>oe.leafIds[g(251)](_0x3b4643[g(255)])),H=Z?Z.flowerIds:[],P=Z?Z.leafIds:[_0x58a1b0[g(255)]],te=[...new _0xd9202e([...H,..._0x3813a6])],se=[...new _0x476996([...P,..._0x2b9ac9])];se[g(198)]>0?_0x2a34de({kind:D.pCFoB,flowerIds:te,leafIds:se}):_0x236c89({kind:g(175),flowerIds:te})}return Math[g(324)](_[g(299)]((L.radius??28)+B,10))/10},z=C=>{const g=p,D={YeUIl:function(q,L){return _[Bt(231)](q,L)}};if(_[g(213)]==="XXBTN"){_0x10d356(q=>{q.stencils=(q.stencils??[]).filter(L=>L.id!==_0x214291.stencilId)},!0),D.YeUIl(_0x36167d,{kind:g(244)});return}else r(q=>{const L=g;if(q[L(175)]=(q[L(175)]||[]).filter(k=>k.id!==C),q.groups){for(const k of q[L(305)])k[L(325)]=k.flowerIds.filter(T=>T!==C);q[L(305)]=q[L(305)][L(317)](k=>k.flowerIds.length+k[L(215)][L(198)]>0)}},!0),_.MxwMv(i,{kind:"project"}),f(q=>{const L=g,k={..._[L(304)](q,{})};return delete k[C],k})},b=(C,g)=>{const D=p;if(_.QzZHX!=="IBSlf"){const q=c[D(175)].find(L=>L.id===C);if(q&&(q[D(240)]||[])[D(198)]<=1){z(C);return}r(L=>{const k=D,T=(L[k(175)]||[]).find(j=>j.id===C);T&&(T[k(240)]=(T[k(240)]||[])[k(317)](j=>j.id!==g),T[k(240)][k(326)]()[k(188)]((j,B)=>j.order-B[k(282)]).forEach((j,B)=>j.order=B+1))},!0),i({kind:_.gCagX,flowerId:C})}else _.aVcGt(_0x4a275b,{kind:D(204),flowerIds:_0x379719,leafIds:_0x37abb5})},d=C=>{const g=p,D=c.flowers.find(P=>P.id===C);if(!D)return;const q=[...D.layers].sort((P,te)=>P[g(282)]-te[g(282)]),L=q[0],k=ye(L?.petalCount??6,5,24),T=q.map(P=>P[g(316)]??1),j=_.yDNMS(T[g(198)],2)||T.every(P=>Math.abs(P-T[0])<.001);let B=L?.[g(316)]??1;if(!j&&_[g(268)](q.length,2)){const P=q[_[g(190)](q[g(198)],1)],te=(P.order??1)-(L.order??1);if(te>0){const se=_[g(321)]((L.scale??1)-(P[g(316)]??1),te);B=_[g(254)](ye,(L[g(316)]??1)+se,.3,3)}}const Z=_.aVcGt(M,D),H={id:_.XpSrg(qt,_[g(224)]),name:"Outer+",order:1,petalType:L?.petalType??"",petalCount:k,radius:Z,scale:B,widthScale:_[g(206)](xi,k),offsetAngle:L?.offsetAngle??0,colorId:L?.colorId??c.palette?.[0]?.id??_[g(230)],visible:!0,locked:!1};L&&(H.offsetAngle=_.iuuUz(tl,L.petalCount,L.offsetAngle??0,k)),r(P=>{const te=g;if(te(291)!=="FddMy"){const se=P.flowers[te(243)](He=>He.id===C);if(!se)return;se.layers[te(271)](He=>He[te(282)]+=1),se[te(240)][te(264)](H);const oe=Math[te(324)](ar(H.radius,H.scale,se.fabricSquareSize??P.fabricSquareSize)),me=se[te(169)]??P[te(169)],ve=se[te(289)]===""?_[te(200)](rr,me,se.layers.length,_.IPbeK,0):ta(se[te(210)]??P[te(210)],me,{layerCount:se.layers.length})[te(248)];se.flowerDiameter=Math.max(se[te(189)]||ve,oe);const de=[...se[te(240)]][te(188)]((He,Xe)=>He.order-Xe.order),Ne=de.reverse();for(let He=1;He<Ne.length;He++){const Xe=Ne[_.CwSes(He,1)],Pe=Ne[He];Pe.offsetAngle=_.jCSgv(tl,Xe[te(303)],Xe.offsetAngle,Pe.petalCount)}}else _0x55777a({kind:"flowers",flowerIds:_0x201655})},!0),_[g(272)](i,{kind:"layer",flowerId:C,layerId:H.id}),_.oVSNh(f,P=>({...P,[C]:!0}))},E=C=>{const g=p,D=c.flowers.find(k=>k.id===C);if(!D||!D[g(240)]||D.layers.length===0)return;if(_[g(253)](D.layers.length,1)){_.oVSNh(z,C);return}const q=[...D.layers].sort((k,T)=>k[g(282)]-T[g(282)]),L=q[0];L&&(r(k=>{const T=g,j=k[T(175)].find(H=>H.id===C);if(!j)return;j.layers=j.layers[T(317)](H=>H.id!==L.id),j[T(240)].slice().sort((H,P)=>H.order-P[T(282)]).forEach((H,P)=>H[T(282)]=P+1);const B=[...j.layers][T(188)]((H,P)=>H.order-P.order),Z=j[T(169)]??k.fabricSquareSize;if(_[T(199)](B[T(198)],0)){ms(B,Z);for(const te of B){const se=j[T(240)].find(oe=>oe.id===te.id);se&&(se.radius=te[T(191)])}const H=B[0];j[T(189)]=Math.round(ar(H.radius,H.scale??1,Z));const P=[...B][T(256)]();for(let te=1;_[T(315)](te,P.length);te++){const se=P[_.MkEtv(te,1)],oe=P[te];oe[T(257)]=tl(se.petalCount,se.offsetAngle,oe.petalCount)}}},!0),a.kind===_[g(222)]&&_[g(238)](a.layerId,L.id)?_[g(201)](i,{kind:"flower",flowerId:C}):_.hSMlb(a.kind,_[g(314)])&&a[g(234)]===L.id&&(_[g(308)]!==g(179)?i({kind:_.gCagX,flowerId:C}):_0x10f0b8[g(257)]=gCXkFc.XVWvV(_0xe3d90b,_0x21011e.petalCount,_0x474709.offsetAngle??0,_0xbd89e5)))},R=()=>{const C=p,g={GMOzp:"mixed",DcxME:function(D,q,L){return D(q,L)},mEsXS:C(244),MBMQU:function(D,q){return _.xkgnZ(D,q)},dSPQe:function(D,q){return D!==q},eQsTW:"kNoUR",bKSvc:function(D,q){return _.geTmb(D,q)},WKhka:_.aAaKo};if(a[C(269)]!=="project"){if(_.PLztG(a.kind,"leaf")){y(a.leafId);return}if(a[C(269)]===_[C(280)])if(_[C(239)]("wEARh",_[C(202)]))_0x49c17b({kind:g.GMOzp,flowerIds:_0xebc4ec,leafIds:_0x35fd3a});else{const D=a[C(215)];_[C(233)](r,q=>{const L=C;if(q[L(171)]=(q[L(171)]??[])[L(317)](k=>!D.includes(k.id)),q[L(305)]){for(const k of q.groups)k.leafIds=k[L(215)][L(317)](T=>!D.includes(T));q.groups=q.groups[L(317)](k=>k.flowerIds[L(198)]+k[L(215)][L(198)]>0)}},!0),i({kind:_.LslSq});return}if(_.NEqmQ(a.kind,"mixed")){const{flowerIds:D,leafIds:q}=a;_.dXEmA(r,L=>{const k=C;if(L.flowers=L[k(175)].filter(T=>!D[k(251)](T.id)),L[k(171)]=(L[k(171)]??[])[k(317)](T=>!q[k(251)](T.id)),L[k(305)]){for(const T of L[k(305)])T.flowerIds=T.flowerIds.filter(j=>!D[k(251)](j)),T[k(215)]=T.leafIds.filter(j=>!q[k(251)](j));L.groups=L.groups[k(317)](T=>T.flowerIds.length+T.leafIds.length>0)}},!0),i({kind:_[C(267)]});return}if(a[C(269)]===_[C(285)])if(_[C(302)](_.pZlBJ,"mwPIF")){const D=a.flowerIds;_.dXEmA(r,q=>{const L=C,k={dOpfM:function(T,j,B){return g[Bt(174)](T,j,B)},PuBCc:g.mEsXS,lCWZo:function(T,j){return g.MBMQU(T,j)},cdRAC:function(T,j){return T(j)},ROHKV:L(204),JSKTB:function(T,j){return T===j},WvEZD:L(197)};if(g[L(310)](g.eQsTW,"kNoUR")){k[L(309)](_0x201b5f,T=>{const j=L;if(T[j(175)]=T[j(175)][j(317)](B=>B.id!==_0x29af46.flowerId),T[j(305)]){for(const B of T[j(305)])B[j(325)]=B.flowerIds[j(317)](Z=>Z!==_0x4a2c4c.flowerId);T.groups=T[j(305)].filter(B=>B.flowerIds[j(198)]+B.leafIds.length>0)}},!0),_0x4e8690({kind:k.PuBCc});return}else if(q.flowers=q.flowers.filter(T=>!D.includes(T.id)),q.groups)if(g.bKSvc(g.WKhka,"wpZWj")){const T=_0x346bb0.flowerId;if(k.lCWZo(T,_0x3dbfd8))return;const j=(_0x4492ae.groups??[]).find(te=>te[L(325)].includes(T)),B=j?j.flowerIds:[T],Z=j?j.leafIds:[],H=[...new _0x52dae2([...B,..._0x23474b])],P=[...new _0x13b013([...Z,..._0x2e6ba2])];P[L(198)]>0?k.cdRAC(_0x289cad,{kind:k.ROHKV,flowerIds:H,leafIds:P}):k[L(270)](H.length,1)?_0x53d1b1({kind:k[L(249)],flowerId:H[0]}):_0x11b35d({kind:"flowers",flowerIds:H})}else{for(const T of q[L(305)])T[L(325)]=T[L(325)].filter(j=>!D[L(251)](j));q.groups=q[L(305)][L(317)](T=>T[L(325)][L(198)]+T.leafIds[L(198)]>0)}},!0),_[C(201)](i,{kind:"project"});return}else{const D=[...new _0x5e792d([..._0x276a10,..._0x13e0d3])];_0x27df76[C(198)]>0?_0x941cac({kind:C(204),flowerIds:D,leafIds:_0x1eb9bb}):_.zMjwh(_0x41c14a,{kind:C(175),flowerIds:D})}if(a.kind===C(177)){_[C(294)](r,D=>{const q=C;D.groups&&(D[q(305)]=D[q(305)][q(317)](L=>L.id!==a.groupId))},!0),_.zLcSr(i,{kind:_.LslSq});return}if(_.OqVyf(a.kind,"stencil")){r(D=>{const q=C;D[q(226)]=(D.stencils??[])[q(317)](L=>L.id!==a.stencilId)},!0),i({kind:_[C(267)]});return}if(_.xkgnZ(a.kind,_[C(193)])){_.qjxnS(i,{kind:C(197),flowerId:a.flowerId});return}if(a.kind===C(197)){r(D=>{const q=C;if(D.flowers=D.flowers.filter(L=>L.id!==a[q(290)]),D.groups){for(const L of D.groups)L.flowerIds=L[q(325)].filter(k=>k!==a.flowerId);D.groups=D[q(305)].filter(L=>L[q(325)][q(198)]+L.leafIds.length>0)}},!0),i({kind:C(244)});return}if(_.LgtKh(a.kind,_.IhkwI)||a[C(269)]===_.FqIRJ){const D=c[C(175)].find(L=>L.id===a.flowerId),q=D?_[C(302)]([...D.layers][C(188)]((L,k)=>L.order-k.order)[0]?.id,a[C(234)]):!1;r(L=>{const k=C,T=L[k(175)].find(j=>j.id===a.flowerId);if(T&&(T[k(240)]=T.layers[k(317)](j=>j.id!==a[k(234)]),T.layers.slice().sort((j,B)=>j[k(282)]-B[k(282)])[k(271)]((j,B)=>j.order=B+1),T[k(240)].length>0))if(_[k(212)](k(284),"ayZWb")){const j=[...T.layers].sort((H,P)=>H[k(282)]-P[k(282)]),B=T[k(169)]??L.fabricSquareSize;_[k(242)](ms,j,B);for(const H of j){const P=T.layers.find(te=>te.id===H.id);P&&(P[k(191)]=H[k(191)])}if(q){const H=j[0];T[k(189)]=Math[k(324)](ar(H[k(191)],H[k(316)]??1,B))}else{const H=T.placementMode===""?rr(B,T.layers[k(198)],k(275),0):_.fwKIn(ta,T[k(210)]??L.baseDiameter,B,{layerCount:T.layers[k(198)]}).diameter;_[k(214)](J0,j,B,T.flowerDiameter||H);for(const P of j){const te=T[k(240)][k(243)](se=>se.id===P.id);te&&(te.radius=P.radius,te[k(316)]=P[k(316)])}}const Z=[...j].reverse();for(let H=1;H<Z[k(198)];H++){const P=Z[_.MkEtv(H,1)],te=Z[H];te[k(257)]=_.jCSgv(tl,P[k(303)],P.offsetAngle,te[k(303)])}}else _0xfa50d[k(325)]=_0x524b25.flowerIds[k(317)](j=>j!==_0x2246e7[k(290)])},!0),i({kind:C(197),flowerId:a.flowerId})}}},G=C=>({id:C.id,name:C[p(237)],flowerIds:[...C[p(325)]],leafIds:[...C.leafIds],rotation:C[p(307)]}),Y=_[p(246)]($.useCallback,C=>{const g=p,D=qt(g(184));_[g(311)](r,q=>{const L=g;q[L(305)]||(q.groups=[]);const k=q[L(305)][L(227)](j=>{const B=L,Z=j.name[B(185)](/^ (\d+)$/);return Z?parseInt(Z[1],10):0}),T=k[L(198)]>0?Math.max(...k)+1:1;q.groups.push({id:D,name:" "+T,flowerIds:[...C],leafIds:[],rotation:0})},!0),_.XpSrg(i,{kind:_[g(306)],groupId:D}),o(q=>({...q,[D]:!0}))},[r,i,o]),U=_.hLJds($.useCallback,(C,g)=>{const D=p,q=qt(_.rnwaU);r(L=>{const k=Bt;if(_[k(293)](_[k(261)],k(220))){if(_0x4a7804[k(175)]=_0x569f8d[k(175)].filter(T=>!_0xd653b4[k(251)](T.id)),_0x438676[k(171)]=(_0x1f09ef.leaves??[]).filter(T=>!_0x16f0c4[k(251)](T.id)),_0x47fe7a[k(305)]){for(const T of _0x33acbb.groups)T[k(325)]=T.flowerIds[k(317)](j=>!_0x352a48[k(251)](j)),T.leafIds=T[k(215)].filter(j=>!_0x4f8a0c.includes(j));_0x561690.groups=_0x3f5969[k(305)].filter(T=>T[k(325)][k(198)]+T.leafIds[k(198)]>0)}}else{L.groups||(L.groups=[]);const T=L[k(305)].map(B=>{const Z=k,H=B[Z(237)].match(/^ (\d+)$/);return H?parseInt(H[1],10):0}),j=T[k(198)]>0?Math[k(225)](...T)+1:1;L[k(305)][k(186)]({id:q,name:k(219)+j,flowerIds:[...C],leafIds:[...g],rotation:0})}},!0),i({kind:D(177),groupId:q}),o(L=>({...L,[q]:!0}))},[r,i,o]),N=_.bzhzH($.useCallback,C=>{const g=p;_[g(246)](r,D=>{const q=g;if(!D.groups)return;const L=D[q(305)][q(243)](k=>k.id===C);if(L)if(L[q(182)]&&_.biirm(L[q(182)].length,0)){D[q(305)]=D[q(305)].filter(k=>k.id!==C);for(const k of L.previousGroups)D[q(305)][q(186)]({id:k.id,name:k.name,flowerIds:[...k[q(325)]],leafIds:[...k[q(215)]],rotation:k.rotation})}else D.groups=D.groups.filter(k=>k.id!==C)},!0),_[g(276)](i,{kind:"project"})},[r,i]),O=$.useCallback(C=>{const g=p;_.nhXCn(r,D=>{const q=Bt;D.groups&&(D[q(305)]=D.groups.filter(L=>L.id!==C))},!0),_.MxwMv(i,{kind:g(244)})},[r,i]),W=_[p(246)]($.useCallback,(C,g)=>{const D=p;_[D(233)](r,q=>{const L=D,k=(q[L(305)]??[])[L(243)](T=>T.id===C);if(k){k[L(182)]=[G(k)];for(const T of g)if(L(274)!=="xhHtV")k.flowerIds.includes(T)||k[L(325)][L(186)](T);else{const j=_0xa0fd13.flowers.find(H=>H.id===_0x16bdd6);if(!j)return;j[L(240)]=j[L(240)][L(317)](H=>H.id!==_0x1d9c89.id),j.layers[L(326)]().sort((H,P)=>H.order-P[L(282)]).forEach((H,P)=>H[L(282)]=P+1);const B=[...j.layers].sort((H,P)=>H[L(282)]-P.order),Z=j.fabricSquareSize??_0x2dfc40.fabricSquareSize;if(zWVIBE[L(288)](B.length,0)){_0x49a2f9(B,Z);for(const te of B){const se=j[L(240)].find(oe=>oe.id===te.id);se&&(se[L(191)]=te[L(191)])}const H=B[0];j[L(189)]=_0x5e6383.round(_0x470e44(H.radius,H[L(316)]??1,Z));const P=[...B][L(256)]();for(let te=1;zWVIBE[L(318)](te,P.length);te++){const se=P[zWVIBE[L(223)](te,1)],oe=P[te];oe[L(257)]=zWVIBE[L(266)](_0x5ed2eb,se[L(303)],se.offsetAngle,oe.petalCount)}}}}},!0),i({kind:_[D(306)],groupId:C})},[r,i]),Q=$.useCallback((C,g)=>{const D=p,q={CvIby:function(T,j){return _[Bt(239)](T,j)},UoceY:_[D(180)]},L=C[0],k=C.slice(1);r(T=>{const j=D;if(!T[j(305)])return;const B=T.groups[j(243)](H=>H.id===L);if(!B)return;const Z=[];for(const H of C){const P=T[j(305)].find(te=>te.id===H);P&&Z.push(G(P))}B[j(182)]=Z;for(const H of k){const P=T[j(305)].find(te=>te.id===H);if(P){for(const te of P.flowerIds)B[j(325)].includes(te)||B.flowerIds.push(te);for(const te of P.leafIds)if(q.CvIby(j(232),q[j(313)])){const se=_0x5edbef[j(305)].find(oe=>oe.id===_0x3b88dc);se&&_0x7255ba[j(186)](_0x392902(se))}else B.leafIds.includes(te)||B[j(215)].push(te)}}for(const H of g)B[j(325)][j(251)](H)||B.flowerIds[j(186)](H);T[j(305)]=T.groups[j(317)](H=>!k.includes(H.id))},!0),i({kind:_.EcKpN,groupId:L}),o(T=>({...T,[L]:!0}))},[r,i,o]),K=(C,g)=>{const D=p,q=h.w/h.h,L=_.MGPHY(520,v),k=_.LAmEx(L,q),T=-S.x/v,j=-S.y/v,B=T+k/2,Z=_.yEBCt(j,_.ZNkyW(L,2)),H=_.fRlck(g,"back")?_.FvcpU:"side",P=_[D(287)]($d[C][H].height,cn),te=ye(B,0,m),se=ye(_[D(190)](Z,P/2),0,m),oe={id:qt("stl"),variant:C,pose:g,position:{x:te,y:se}};_.ruQkU(r,me=>{const ve=D;me[ve(226)]||(me[ve(226)]=[]),me[ve(226)][ve(186)](oe)},!0),_.qWSSE(i,{kind:_.nrhDM,stencilId:oe.id})},ee=C=>{const g=p;r(D=>{const q=Bt;D[q(226)]=(D.stencils??[]).filter(L=>L.id!==C)},!0),a.kind===_[g(176)]&&_.NEqmQ(a.stencilId,C)&&_[g(216)](i,{kind:_[g(267)]})},I=$.useCallback(C=>{const g=p,D=(c[g(305)]??[])[g(243)](k=>k[g(325)][g(251)](C)),q=D?D.flowerIds:[C],L=D?D.leafIds:[];if(a[g(269)]===_.PhopH){const k=a[g(325)];if(k[g(251)](C)){const T=new Set(q),j=k.filter(B=>!T[g(281)](B));j.length===0?_.igqli(i,{kind:g(244)}):j.length===1?_.yEeAR(i,{kind:g(197),flowerId:j[0]}):_.CoUVb(i,{kind:g(175),flowerIds:j})}else{const T=[...new Set([...k,...q])];L.length>0?i({kind:_.QZHJY,flowerIds:T,leafIds:L}):_[g(319)](i,{kind:_[g(285)],flowerIds:T})}}else if(_.LgtKh(a.kind,g(197))||a.kind==="layer"||a.kind==="petal"||_.OpkYP(a[g(269)],_.THyta)){const k=a[g(290)];if(k===C)return;const T=(c.groups??[])[g(243)](P=>P.flowerIds[g(251)](k)),j=T?T.flowerIds:[k],B=T?T[g(215)]:[],Z=[...new Set([...j,...q])],H=[...new Set([...B,...L])];if(_.biirm(H.length,0))_.maHHo(i,{kind:"mixed",flowerIds:Z,leafIds:H});else if(_[g(300)](Z.length,1))_.JddYL(i,{kind:g(197),flowerId:Z[0]});else if(_[g(192)]==="VqYqX"){const P=_0x2f923d[_0x1aa449-1],te=_0xfbdd3e[_0x35dbaa];te[g(257)]=_0x28def7(P.petalCount,P.offsetAngle,te.petalCount)}else i({kind:"flowers",flowerIds:Z})}else if(_.LcpFE(a[g(269)],_.EcKpN)){const k=(c.groups??[]).find(H=>H.id===a[g(265)]),T=k?k[g(325)]:[],j=k?k.leafIds:[];if(T.includes(C))return;const B=[...new Set([...T,...q])],Z=[...new Set([...j,...L])];_[g(278)](Z[g(198)],0)?i({kind:"mixed",flowerIds:B,leafIds:Z}):_[g(247)](i,{kind:g(175),flowerIds:B})}else if(a[g(269)]===g(292)){const k=(c[g(305)]??[]).find(H=>H[g(215)].includes(a[g(255)])),T=k?k[g(325)]:[],j=k?k[g(215)]:[a.leafId],B=[...new Set([...T,...q])],Z=[...new Set([...j,...L])];if(Z[g(198)]>0)if(_.fRlck(_.CJpLj,g(203))){const H=_0x3b02f6.filter(P=>P.layerId+":"+P.index!==_0x38dcb8);_.iEwXW(H.length,0)?_[g(231)](_0x875b0d,{kind:_[g(181)],flowerId:_0x65276e}):_[g(238)](H[g(198)],1)?_0x275cba({kind:"petal",flowerId:_0x3866ac,layerId:H[0].layerId,index:H[0][g(178)]}):_.Wnqxi(_0x1df0f6,{kind:g(218),flowerId:_0xf5094d,petals:H})}else i({kind:g(204),flowerIds:B,leafIds:Z});else i({kind:_[g(285)],flowerIds:B})}else if(_[g(295)](a[g(269)],_[g(280)])){const k=[...new Set(q)],T=[...new Set([...a.leafIds,...L])];i({kind:"mixed",flowerIds:k,leafIds:T})}else if(a[g(269)]===_[g(235)]){const k=a[g(325)],T=a[g(215)];if(k.includes(C))if(_.xkgnZ(_[g(286)],_.aEEHW))_.NXytD(_0x40d317,j=>{const B=g;j.stencils=(j[B(226)]??[]).filter(Z=>Z.id!==_0x3f6a70)},!0),_0x2847ad.kind===_[g(176)]&&_0x4ea846[g(229)]===_0x110c9a&&_[g(277)](_0x236e0a,{kind:_[g(267)]});else{const j=new Set(q),B=new Set(L),Z=k[g(317)](P=>!j[g(281)](P)),H=T[g(317)](P=>!B[g(281)](P));Z[g(198)]===0&&_.swwIm(H[g(198)],0)?_.zLcSr(i,{kind:_.LslSq}):Z[g(198)]===0&&H.length===1?i({kind:_.XpovB,leafId:H[0]}):_.JdsQG(Z.length,0)?_.XjmGb(i,{kind:_[g(280)],leafIds:H}):_.JmRNc(H[g(198)],0)&&_.FRWss(Z[g(198)],1)?i({kind:_[g(181)],flowerId:Z[0]}):H.length===0?i({kind:"flowers",flowerIds:Z}):_[g(273)](i,{kind:g(204),flowerIds:Z,leafIds:H})}else{const j=[...new Set([...k,...q])],B=[...new Set([...T,...L])];_[g(196)](i,{kind:_.QZHJY,flowerIds:j,leafIds:B})}}else _.biirm(L.length,0)?_[g(217)](i,{kind:g(204),flowerIds:q,leafIds:L}):_.AKoUf(q.length,1)?_[g(279)]("DYMtp","DYMtp")?_0x3e9cd3[g(325)][g(251)](_0x363a12)||_0x394dee.flowerIds[g(186)](_0x3d9280):i({kind:_[g(181)],flowerId:q[0]}):i({kind:_[g(285)],flowerIds:q})},[a,i,c[p(305)]]);return{deleteFlowerById:z,deleteLayerById:b,computeNewOuterRadius:M,addOuterLayer:d,deleteOuterLayer:E,deleteSelected:R,groupSelectedFlowers:Y,groupSelectedMixed:U,ungroupFlowers:N,ungroupAll:O,addToGroup:W,mergeGroups:Q,addStencil:K,deleteStencil:ee,handleShiftFlowerSelect:I,togglePetalSelection:(C,g,D,q)=>{const L=p;if(!q){i({kind:L(173),flowerId:C,layerId:g,index:D});return}const k=g+":"+D;if(a.kind==="petals"&&_.ixggi(a.flowerId,C)){const T=a[L(218)]||[];if(T[L(170)](B=>B[L(234)]+":"+B[L(178)]===k)){const B=T[L(317)](Z=>Z[L(234)]+":"+Z.index!==k);_.xkgnZ(B.length,0)?_[L(298)](i,{kind:L(197),flowerId:C}):B.length===1?_.NDvoO(i,{kind:"petal",flowerId:C,layerId:B[0][L(234)],index:B[0][L(178)]}):_[L(252)](i,{kind:_[L(193)],flowerId:C,petals:B})}else _[L(172)]!==_[L(172)]?(_0x3adf54.flowerIds=_0x1774a8[L(325)][L(317)](B=>!_0x4639fc.includes(B)),_0x8198b.leafIds=_0x2f0007.leafIds.filter(B=>!_0x4039cb[L(251)](B))):_.bZunc(i,{kind:_.THyta,flowerId:C,petals:[...T,{layerId:g,index:D}]})}else if(_[L(296)](a[L(269)],L(173))&&a.flowerId===C){const T={layerId:a.layerId,index:a.index},j={layerId:g,index:D};if(T.layerId+":"+T.index===k)return;i({kind:"petals",flowerId:C,petals:[T,j]})}else I(C)}}}function rn(c,r){c=c-439;const a=K0();let i=a[c];if(rn.HYInHR===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};rn.lyuJnP=f,rn.ixllsM={},rn.HYInHR=!0}const o=a[0],v=c+o,S=rn.ixllsM[v];if(S)i=S;else{const h=function(m){this.kMsZfy=m,this.OVPXKh=[1,0,0],this.goRlDh=function(){return"newState"},this.CUvDaX="\\w+ *\\(\\) *{\\w+ *",this.JnsUPX=`['|"].+['|"];? *}`};h.prototype.oweAJm=function(){const m=new RegExp(this.CUvDaX+this.JnsUPX),y=m.test(this.goRlDh.toString())?--this.OVPXKh[1]:--this.OVPXKh[0];return this.UUQyIX(y)},h.prototype.UUQyIX=function(m){return~m?this.rIKkUe(this.kMsZfy):m},h.prototype.rIKkUe=function(m){for(let y=0,p=this.OVPXKh.length;y<p;y++)this.OVPXKh.push(Math.round(Math.random())),p=this.OVPXKh.length;return m(this.OVPXKh[0])},new h(rn).oweAJm(),i=rn.lyuJnP(i),rn.ixllsM[v]=i}return i}(function(c,r){const a=rn,i=c();for(;;)try{if(-parseInt(a(470))/1*(parseInt(a(523))/2)+parseInt(a(521))/3*(-parseInt(a(498))/4)+-parseInt(a(501))/5+-parseInt(a(465))/6*(-parseInt(a(531))/7)+-parseInt(a(515))/8*(-parseInt(a(449))/9)+-parseInt(a(460))/10*(-parseInt(a(479))/11)+parseInt(a(481))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,223592);const xb=(function(){const c=rn,r={IAeMT:"group",AOsGD:c(524)};let a=!0;return function(i,f){const o=c,v={NuejA:function(h,m,y){return h(m,y)},PEiqo:r[o(529)],iilnQ:function(h,m){return h!==m},VOLWy:r[o(455)]},S=a?function(){const h=o;if(f)if(v[h(519)](v.VOLWy,h(524)))v[h(491)](_0x748e99,m=>{const y=h,p=(m.groups??[])[y(497)](_=>_.id===_0x308da1);if(p){p.previousGroups=[_0x234702(p)];for(const _ of _0x46ea13)p[y(502)].includes(_)||p.leafIds.push(_)}},!0),_0x27d297({kind:v[h(478)],groupId:_0x29847e});else{const m=f[h(439)](i,arguments);return f=null,m}}:function(){};return a=!1,S}})(),Es=xb(void 0,function(){const c=rn,r={gUULh:"(((.+)+)+)+$"};return Es[c(505)]()[c(511)](r[c(454)])[c(505)]()[c(474)](Es).search(r.gUULh)});function K0(){const c=["Cu1hCMS","vLvMr2O","B1PiCxy","A2ruDKO","zMLUza","mZa5ndm2qwX1y3bR","AgfZ","tenSAe0","odeZmZqWrwfwz2fz","BgvHzKLKCW","tNbbs0q","s2zYD1y","Dg9tDhjPBMC","Bgjfvwq","tufmq2y","Aw5JBhvKzxm","qK1es2G","zMXVD2vYswrZ","C2vHCMnO","t2r1y3m","BgvHDMvZ","AhDczvq","mZe3mtjTEuPQuLu","shnIuLm","EKTOq24","Ahr4Ahy","AwLSBLe","Bwf0y2G","mtvfD1fUAeS","v2XqAeu","mtC0mda0BgXMuerh","ENrPwvC","vvPwsfK","wLz3Au0","uefXseW","zMLSDgvY","sufLtvq","Bgf5zxi","mtmXnJa3u0HruNvj","C1vyEeG","yxbWBhK","z3jW","BeXUBLq","u3b1A3O","rKnQz0O","vgDxq0e","BwL4zwq","BgvHzG","CKHmtwe","sNbjzLm","mtyYC1HzChvP","vfjPu2S","Cu5jBKu","quPmwfu","rxLtDuS","z1vvtgG","qu9Zr0q","tK9fq1m","wgfprKi","A2D4rKC","vvr1r3i","mJiWoteWmeL1v2jJuq","qNnTCNq","AuTwweC","Dw5QswO","B2nprwe","nJzfwhLuEvO","z3jVDxbZ","zMXVD2vYswq","A2LUza","A3HtEuq","mLr4EeLcwG","z3jVDxa","ChjVAMvJDa","ChvZAa","y29UC3rYDwn0B3i","zMXVD2vYCW","ELn6z3a","zMXVD2vY","uevPCw8","mtfwwMz0Bg0","ChjLDMLVDxnhCM91Chm","ntm3ntGZmLbPr0H6tW","BgvUz3rO","EhPhz20","qMTPv1C","BMfTzq","kcGOlISPkYKRksSK","BgvHzKLK","yw96tNO","wgXvufe","z3jVDxbjza","tNvLAKe","BxzqDu8"];return K0=function(){return c},K0()}Es();function ob({project:c,applyUpdate:r,selection:a,setSelection:i}){const f=rn,o={UTuGr:"(((.+)+)+)+$",hwBeT:function(b,d){return b(d)},zyIAN:"leaves",ZVwiM:function(b,d){return b===d},mvPuO:function(b,d){return b(d)},LClhM:function(b,d){return b!==d},AJLXU:"xzGgm",NOECS:function(b,d){return b(d)},OBgjc:function(b,d){return b===d},wAIkD:"cOXlj",KfrwV:function(b,d){return b(d)},EeURQ:function(b,d){return b!==d},onqaQ:f(457),ocOEa:"mixed",kxSyD:f(446),SUNbe:f(471),aozNz:function(b,d){return b>d},zKhCn:function(b,d){return b===d},mvyfm:f(527),xAvGc:"GqeuU",EySuK:f(472),mArZu:function(b,d){return b===d},hOBNP:function(b,d){return b===d},iKVXG:function(b,d){return b===d},Oducs:f(475),irnfk:"NmiLS",rHLMa:f(458),VUfGj:function(b,d){return b(d)},tQjiu:function(b,d,E){return b(d,E)},FCjgJ:function(b,d){return b(d)},vdOMy:"LdygE",BkiWW:f(440),SwXyo:function(b,d){return b+d},gbDiN:function(b,d){return b(d)},rDNJW:function(b,d){return b(d)},sdQFR:function(b,d){return b(d)},lbEUd:function(b,d){return b!==d},EPGap:function(b,d,E){return b(d,E)},qMGrk:f(496),ibNbC:function(b,d){return b(d)},zcBzY:"oZHqv",TRiSk:function(b,d,E){return b(d,E)}},v=b=>{const d=f,E={TgWCA:o[d(459)],sUXxH:d(516)};r(R=>{const G=d;if(E[G(444)],R.leaves=(R.leaves??[]).filter(Y=>Y.id!==b),R[G(466)]){for(const Y of R.groups)if(E.sUXxH===E[G(532)])Y[G(502)]=Y.leafIds[G(528)](U=>U!==b);else return _0x1814dd.toString().search(GsMHtM[G(522)])[G(505)]().constructor(_0x198dc7).search(G(486));R[G(466)]=R.groups[G(528)](Y=>Y[G(510)][G(482)]+Y.leafIds.length>0)}},!0),o[d(514)](i,{kind:"project"})},S=$.useCallback(b=>{const d=f,E={ySpjj:o.zyIAN},R=(c[d(466)]??[])[d(497)](U=>U.leafIds[d(508)](b)),G=R?R[d(502)]:[b],Y=R?R.flowerIds:[];if(o.ZVwiM(a.kind,d(513))){const U=a[d(502)];if(U[d(508)](b)){const N=new Set(G),O=U.filter(W=>!N.has(W));if(o[d(526)](O.length,0))o[d(492)](i,{kind:d(472)});else if(o.ZVwiM(O[d(482)],1))i({kind:d(446),leafId:O[0]});else if(o[d(500)](o[d(452)],d(483))){const W=(_0x19120e[d(466)]??[]).find(Q=>Q.id===_0xed5b84);if(!W)return;W[d(480)]=[o[d(514)](_0x36325d,W)];for(const Q of _0xc25da3)W[d(502)].includes(Q)||W[d(502)].push(Q)}else o.NOECS(i,{kind:o.zyIAN,leafIds:O})}else{const N=[...new Set([...U,...G])];Y[d(482)]>0?o.OBgjc(o.wAIkD,o.wAIkD)?o[d(504)](i,{kind:"mixed",flowerIds:Y,leafIds:N}):_0x1db987({kind:E.ySpjj,leafIds:_0xc9f917}):i({kind:d(513),leafIds:N})}}else if(a.kind===d(446)){if(a.leafId===b)return;const U=(c[d(466)]??[])[d(497)](K=>K.leafIds.includes(a.leafId)),N=U?U.leafIds:[a[d(487)]],O=U?U.flowerIds:[],W=[...new Set([...N,...G])],Q=[...new Set([...O,...Y])];Q[d(482)]>0?o.EeURQ(o.onqaQ,d(525))?i({kind:o.ocOEa,flowerIds:Q,leafIds:W}):_0x26f8b8.groups=_0x1b3bd8.groups[d(528)](K=>K.id!==_0x440b11):o.ZVwiM(W[d(482)],1)?i({kind:o[d(469)],leafId:W[0]}):i({kind:o.zyIAN,leafIds:W})}else if(a[d(468)]===o.SUNbe){const U=(c.groups??[]).find(K=>K.id===a[d(490)]),N=U?U[d(502)]:[],O=U?U.flowerIds:[];if(N.includes(b))return;const W=[...new Set([...N,...G])],Q=[...new Set([...O,...Y])];o[d(488)](Q[d(482)],0)?i({kind:"mixed",flowerIds:Q,leafIds:W}):o.mvPuO(i,{kind:o.zyIAN,leafIds:W})}else if(a[d(468)]===d(477)||a[d(468)]===d(530)||o[d(517)](a.kind,"petal")||a.kind==="petals"){const U=a[d(467)],N=(c.groups??[])[d(497)](ee=>ee.flowerIds.includes(U)),O=N?N[d(510)]:[U],W=N?N.leafIds:[],Q=[...new Set([...O,...Y])],K=[...new Set([...W,...G])];o.KfrwV(i,{kind:o.ocOEa,flowerIds:Q,leafIds:K})}else if(o.zKhCn(a[d(468)],d(475))){const U=[...new Set([...a[d(510)],...Y])],N=[...new Set(G)];i({kind:o.ocOEa,flowerIds:U,leafIds:N})}else if(o[d(526)](a[d(468)],"mixed"))if(o.mvyfm===o.xAvGc)_0x2d4e45.flowerIds[d(508)](_0x202bcc)||_0x1f1884[d(510)][d(473)](_0xac7b8);else{const U=a[d(510)],N=a[d(502)];if(N.includes(b)){const O=new Set(G),W=new Set(Y),Q=N.filter(ee=>!O[d(499)](ee)),K=U.filter(ee=>!W.has(ee));K.length===0&&Q.length===0?i({kind:o[d(453)]}):o.OBgjc(K.length,0)&&Q[d(482)]===1?o[d(504)](i,{kind:o.kxSyD,leafId:Q[0]}):K.length===0?i({kind:d(513),leafIds:Q}):o.mArZu(Q[d(482)],0)&&o.hOBNP(K.length,1)?i({kind:"flower",flowerId:K[0]}):o[d(462)](Q.length,0)?o[d(504)](i,{kind:o[d(512)],flowerIds:K}):i({kind:o.ocOEa,flowerIds:K,leafIds:Q})}else if(o.irnfk===o[d(447)])o.hwBeT(_0x1f010e,{kind:d(445),flowerIds:_0xe9ff5c,leafIds:_0x3e57b4});else{const O=[...new Set([...U,...Y])],W=[...new Set([...N,...G])];o[d(494)](i,{kind:o[d(464)],flowerIds:O,leafIds:W})}}else Y[d(482)]>0?i({kind:o.ocOEa,flowerIds:Y,leafIds:G}):G[d(482)]===1?i({kind:"leaf",leafId:G[0]}):o.hwBeT(i,{kind:"leaves",leafIds:G})},[a,i,c[f(466)]]),h=b=>({id:b.id,name:b[f(485)],flowerIds:[...b.flowerIds],leafIds:[...b[f(502)]],rotation:b.rotation}),m=$.useCallback(b=>{const d=f,E={Prejl:o.vdOMy},R=o[d(456)](qt,o[d(484)]),G=(c.groups??[]).map(U=>{const N=d,O=U.name[N(520)](/^ (\d+)$/);return O?o.tQjiu(parseInt,O[1],10):0}),Y=G.length>0?o.SwXyo(Math.max(...G),1):1;o.tQjiu(r,U=>{const N=d;E.Prejl===N(463)?oYUWkz.xvKkL(_0x22f657,{kind:"mixed",flowerIds:_0x4886dd,leafIds:_0x169ed7}):(U.groups||(U[N(466)]=[]),U[N(466)].push({id:R,name:" "+Y,flowerIds:[],leafIds:[...b],rotation:0}))},!0),o.gbDiN(i,{kind:o.SUNbe,groupId:R})},[c.groups,r,i]),y=$.useCallback((b,d)=>{r(E=>{const R=rn,G=(E[R(466)]??[])[R(497)](Y=>Y.id===b);if(G){G[R(480)]=[h(G)];for(const Y of d)G[R(502)].includes(Y)||G.leafIds[R(473)](Y)}},!0),o.rDNJW(i,{kind:o.SUNbe,groupId:b})},[r,i]),p=o[f(450)]($.useCallback,(b,d)=>{const E=f,R={JpIfS:function(U,N){return U===N},zxXqv:o[E(469)],MALCf:function(U,N){return o.sdQFR(U,N)},BMDKh:function(U,N){return o[E(506)](U,N)},FjkwN:"IgIYp"},G=b[0],Y=b.slice(1);o.EPGap(r,U=>{const N=E;if(R.zxXqv,R[N(509)](N(503),"riaGu")){if(!U.groups)return;const O=U.groups.find(Q=>Q.id===G);if(!O)return;const W=[];for(const Q of b)if(R.FjkwN!=="IgIYp")YOHftl[N(451)](_0x2e7def.length,0)?_0x4636a6({kind:"mixed",flowerIds:_0x24ce32,leafIds:_0x715620}):YOHftl.cnNWO(_0xe2b64.length,1)?_0x42c760({kind:YOHftl[N(442)],leafId:_0x7e867d[0]}):YOHftl[N(476)](_0x40a909,{kind:N(513),leafIds:_0x51ddbc});else{const K=U.groups.find(ee=>ee.id===Q);K&&W[N(473)](R[N(507)](h,K))}O[N(480)]=W;for(const Q of Y){const K=U.groups.find(ee=>ee.id===Q);if(K){for(const ee of K.leafIds)O.leafIds.includes(ee)||O[N(502)].push(ee);for(const ee of K.flowerIds)O.flowerIds[N(508)](ee)||O[N(510)].push(ee)}}for(const Q of d)O.leafIds[N(508)](Q)||O[N(502)][N(473)](Q);U[N(466)]=U[N(466)].filter(Q=>!Y.includes(Q.id))}else{if(!_0x669f41.groups)return;for(const O of _0x23dc76[N(466)])O[N(502)]=O[N(502)].filter(W=>W!==_0x4fdeaf);_0x499264[N(466)]=_0x15cb4b[N(466)][N(528)](O=>O.flowerIds[N(482)]+O.leafIds[N(482)]>0)}},!0),i({kind:o.SUNbe,groupId:G})},[r,i]),_=$.useCallback(b=>{const d=f;d(445),r(E=>{const R=d;if(o[R(493)]===R(461)){const G=[...new _0x908512([..._0x5a1b5f,..._0x4b698f])],Y=[...new _0x5d5422([..._0x531978,..._0xace9af])];sLNdjU[R(441)](_0x5c489b,{kind:sLNdjU.ErxXC,flowerIds:G,leafIds:Y})}else{if(!E.groups)return;const G=E[R(466)].find(Y=>Y.id===b);if(!G)return;if(G.previousGroups&&o.aozNz(G.previousGroups[R(482)],0)){E.groups=E[R(466)][R(528)](Y=>Y.id!==b);for(const Y of G[R(480)])E[R(466)][R(473)]({id:Y.id,name:Y.name,flowerIds:[...Y.flowerIds],leafIds:[...Y[R(502)]],rotation:Y.rotation})}else E[R(466)]=E.groups[R(528)](Y=>Y.id!==b)}},!0),o.ibNbC(i,{kind:"project"})},[r,i]),M=$.useCallback((b,d)=>{const E=f;if(o[E(526)](E(495),o.zcBzY))o.EPGap(r,R=>{const G=E,Y=(R.groups??[])[G(497)](U=>U.id===d);Y&&!Y[G(502)].includes(b)&&Y[G(502)].push(b)},!0);else{const R=[...new _0x41d221([..._0x57e56b,..._0x4709b0])];_0x3c1588[E(482)]>0?o[E(504)](_0x5d2780,{kind:"mixed",flowerIds:_0x3142d5,leafIds:R}):o[E(456)](_0x199e47,{kind:"leaves",leafIds:R})}},[r]),z=o.EPGap($.useCallback,b=>{const d=f,E={fJrhw:function(R,G,Y){return R(G,Y)},DBIXw:function(R,G){return o[rn(504)](R,G)},XlUPQ:d(518)};r(R=>{const G=d;if(E[G(489)]==="htxhv"){if(!R.groups)return;for(const Y of R[G(466)])Y[G(502)]=Y.leafIds[G(528)](U=>U!==b);R[G(466)]=R.groups.filter(Y=>Y[G(510)][G(482)]+Y[G(502)].length>0)}else WiCVnH.fJrhw(_0x5e21c2,Y=>{const U=G;if(Y.leaves=(Y[U(513)]??[])[U(528)](N=>N.id!==_0x4db032),Y.groups){for(const N of Y[U(466)])N[U(502)]=N[U(502)].filter(O=>O!==_0x21beb7);Y[U(466)]=Y.groups.filter(N=>N.flowerIds.length+N[U(502)][U(482)]>0)}},!0),WiCVnH.DBIXw(_0x402d3e,{kind:G(472)})},!0)},[r]);return{deleteLeafById:v,handleShiftLeafSelect:S,groupSelectedLeaves:m,ungroupLeaves:_,addLeafToGroup:M,removeLeafFromGroup:z,addLeavesToGroup:y,mergeLeafGroups:p}}(function(c,r){const a=Un,i=c();for(;;)try{if(parseInt(a(272))/1*(parseInt(a(268))/2)+-parseInt(a(240))/3+-parseInt(a(267))/4*(parseInt(a(250))/5)+-parseInt(a(245))/6*(-parseInt(a(282))/7)+parseInt(a(252))/8+parseInt(a(293))/9+parseInt(a(276))/10*(-parseInt(a(251))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,767022);const fb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Bs=fb(void 0,function(){const c=Un;return Bs[c(288)]().search("(((.+)+)+)+$").toString()[c(287)](Bs).search(c(244))});Bs();function Un(c,r){c=c-218;const a=Z0();let i=a[c];if(Un.SEXxyF===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Un.qouuKW=f,Un.bPoBbI={},Un.SEXxyF=!0}const o=a[0],v=c+o,S=Un.bPoBbI[v];if(S)i=S;else{const h=function(m){this.HCCPaD=m,this.bMTPlx=[1,0,0],this.RrvrLp=function(){return"newState"},this.QiBmqO="\\w+ *\\(\\) *{\\w+ *",this.weQeHZ=`['|"].+['|"];? *}`};h.prototype.NSghHd=function(){const m=new RegExp(this.QiBmqO+this.weQeHZ),y=m.test(this.RrvrLp.toString())?--this.bMTPlx[1]:--this.bMTPlx[0];return this.kHLLlC(y)},h.prototype.kHLLlC=function(m){return~m?this.HgrqTD(this.HCCPaD):m},h.prototype.HgrqTD=function(m){for(let y=0,p=this.bMTPlx.length;y<p;y++)this.bMTPlx.push(Math.round(Math.random())),p=this.bMTPlx.length;return m(this.bMTPlx[0])},new h(Un).NSghHd(),i=Un.qouuKW(i),Un.bPoBbI[v]=i}return i}function db({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:f,pan:o,stageSize:v,CANVAS_MAX_SVG:S}){const h=Un,m={gtZWI:function(d,E){return d===E},FoVPD:function(d,E,R,G){return d(E,R,G)},VbvtH:function(d,E){return d===E},JCvmG:h(228),NHDaP:function(d,E){return d(E)},BvLJM:"Layer",osoIN:function(d,E){return d*E},rpKvk:function(d,E){return d/E},cDbrM:function(d,E){return d-E},XMbxF:function(d,E){return d*E},yGvEi:"Center",ZxnjA:h(277),BAfnk:h(241),bjBvY:h(248),urxMX:"Outer+",uwhPw:function(d,E){return d<E},edBPR:function(d,E){return d===E},KrQWn:function(d,E){return d/E},jYQYs:function(d,E){return d-E},VTrev:function(d,E){return d/E},KxWSZ:function(d,E){return d===E},BUgnu:h(222),TIjUv:"gGvQx",LAZNs:function(d,E){return d+E},RzXIS:function(d,E){return d(E)},tQpEt:function(d,E){return d(E)},GapFD:"col_white",xrztM:function(d,E){return d===E},hmPdy:function(d,E,R,G,Y){return d(E,R,G,Y)},uOBiq:function(d,E){return d===E},wYaFA:"pMbew",bXoQT:function(d,E){return d/E},UqUOB:function(d,E){return d/E},SoJCd:function(d,E){return d+E},LipiP:function(d,E){return d/E},ormDo:h(225),fnWUf:h(283),BVRDn:h(271),GQsBe:function(d,E){return d(E)},CKbyH:function(d,E,R){return d(E,R)},tWoPI:h(261)},[y,p]=m.NHDaP($.useState,!1),[_,M]=m.GQsBe($.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:m[h(284)],sizeMode:"uniform",sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:y,setShowAddFlowerDialog:p,addFlowerOpts:_,setAddFlowerOpts:M,addFlower:()=>{const d=h,E={HtHLR:function(R,G){return m.gtZWI(R,G)},Ubdah:d(271),Xnelf:function(R,G,Y,U){return m.FoVPD(R,G,Y,U)}};if(m.VbvtH(d(280),m[d(281)]))_0x45be66.flowers[d(263)](_0xcb69d3);else{const R=c.fabricSquareSize,G=c[d(219)];m[d(255)](M,Y=>{const U=d,N={...Y,fabricSquareSize:R,baseDiameter:G};return E.HtHLR(N.placementMode,E[U(227)])?N[U(239)]=E.Xnelf(ta,G,R,{layerCount:N[U(254)],sizeMode:N.sizeMode,sizeStepMm:N[U(292)]})[U(229)]:N.flowerDiameter=rr(R,N.layerCount,N[U(258)],N.sizeStepMm),N}),p(!0)}},confirmAddFlower:()=>{const d=h,{placementMode:E,layerCount:R,petalCount:G,petalType:Y,sizeMode:U,sizeStepMm:N}=_,O=_[d(238)],{length:W}=kt(O),Q=.28,K=Math[d(232)](m[d(221)](W,Q)*10)/10,ee=[],I=[m.yGvEi,m.ZxnjA,m.BAfnk,m[d(230)],m[d(285)]];let X=K,C=0;for(let oe=0;m.uwhPw(oe,R);oe++){const me=oe,ve=1;let de;if(m[d(242)](U,"uniform"))de=ve;else{const Pe=m.rpKvk(N,O);de=ye(ve+me*Pe,.3,3)}let Ne;if(m[d(237)](oe,0))Ne=K;else{const Pe=U===d(220)?m.FoVPD(ye,1+m[d(265)](m[d(224)](oe,1)*N,O),.3,3):1,mt=W*Pe;let pt;if(E===d(271)){const bt=70*Math.PI/180,Zt=R>1?oe/m[d(224)](R,1)*bt:0,un=Math[d(264)](Zt);pt=m.osoIN(m[d(221)](mt,m[d(289)](30,100)),un)}else d(269)!=="RqWYf"?pt=m.KrQWn(mt,3):_0x5d943e=m.BvLJM;X=X+pt,Ne=m.rpKvk(Math[d(232)](m.XMbxF(X,10)),10)}const He=oe===0?0:tl(G,C,G);C=He;let Xe;if(m.gtZWI(R,1))Xe=m[d(262)];else if(R<=5)if(m.KxWSZ(m[d(266)],m.TIjUv)){const mt=70*_0x108bf7.PI/180,pt=_0x493421>1?m.osoIN(m[d(218)](_0x98c2c8,m.cDbrM(_0x3ef9ea,1)),mt):0,wt=_0x45094c.cos(pt);_0x5e00e6=_0x2536bb*(30/100)*wt}else{const Pe=m.edBPR(R,2)?[0,3]:R===3?[0,1,3]:R===4?[0,1,2,3]:[0,1,2,3,4];Xe=I[Pe[oe]]??"Layer "+(oe+1)}else Xe=d(249)+m.LAZNs(oe,1);ee[d(263)]({id:m[d(235)](qt,"lay"),name:Xe,order:R-oe,petalType:Y,petalCount:G,radius:Ne,scale:de,widthScale:m.tQpEt(xi,G),offsetAngle:He,colorId:_.colorId||(c[d(234)]?.[0]?.id??m[d(243)]),visible:!0,locked:!1})}ee[d(231)]();const g=[...ee][d(270)]((oe,me)=>oe[d(253)]-me.order),D=m[d(233)](E,d(271))?m[d(236)](ta,_[d(219)],O,{layerCount:R,sizeMode:U,sizeStepMm:N}).diameter:m[d(226)](rr,O,R,U,N);J0(g,O,_[d(239)]||D);for(const oe of g)if(m[d(257)](m.wYaFA,"pMbew")){const me=ee[d(260)](ve=>ve.id===oe.id);me&&(me[d(286)]=oe.radius,me.scale=oe[d(278)])}else _0x538a63="Layer "+(_0x17bd22+1);const q=v.w/v.h,L=m[d(290)](520,f),k=L*q,T=m.UqUOB(-o.x,f),j=m.VTrev(-o.y,f);let B=m[d(279)](T,m[d(218)](k,2)),Z=j+m.LipiP(L,2);const H=25;let P=0;for(;P<50&&c.flowers.some(oe=>Math[d(223)](oe.position.x-B)<5&&Math[d(223)](oe[d(274)].y-Z)<5);){const oe=m[d(247)].split("|");let me=0;for(;;){switch(oe[me++]){case"0":B+=H;continue;case"1":Z+=H;continue;case"2":B=ye(B,0,S);continue;case"3":Z=ye(Z,0,S);continue;case"4":P++;continue}break}}const te=_[d(239)]||D,se={id:qt(d(291)),name:"Flower "+(c.flowers.length+1),position:{x:B,y:Z},flowerDiameter:te,rotation:0,layers:ee,center:{type:m[d(259)],size:6,color:"col_white"},fabricSquareSize:O,placementMode:E,baseDiameter:E===m[d(246)]?_.baseDiameter:m.GQsBe(lr,te)};m[d(275)](r,oe=>{oe[d(256)].push(se)},!0),m[d(273)](a,{kind:d(294),flowerId:se.id}),i(oe=>({...oe,[se.id]:!0})),p(!1)}}}function Z0(){const c=["DfDVueK","Dxj4tvG","CMfKAxvZ","y29UC3rYDwn0B3i","Dg9tDhjPBMC","vLrYzxy","yLHVuvq","zMX3","C2L6zvn0zxbnBq","ndq0nZuZmhvLyKzTAW","zMXVD2vY","CNblDMS","yMfZzurPyw1LDgvY","z3jHzhvHBa","we1IEey","CwjdAxe","ywjZ","ALLrwxm","mhWXFdj8m3W0","Ag1qzhK","vwjKywG","rNfQCuO","zgLHBwv0zxi","yMPcDLK","CMv2zxjZzq","CM91BMq","Ehj6De0","CgfSzxr0zq","uNPysvm","rM9wueq","vMj2DeG","zMfICMLJu3f1yxjLu2L6zq","zMXVD2vYrgLHBwv0zxi","mJq3nZuXmufuu0zbBa","twLKzgXL","zwrcufi","r2fWrKq","kcGOlISPkYKRksSK","mteYnJjiuwrAt3i","qLzsrg4","B3jTrg8","t3v0zxi","tgf5zxiG","nJeXmJbrB3LzAwi","mZG1renWs3rq","ntq2ndq3mKDHqKzqsG","B3jKzxi","Bgf5zxjdB3vUDa","tKHeyva","zMXVD2vYCW","Du9cAxe","C2L6zu1Vzgu","zM5xvwy","zMLUza","5lI444gK44g+44g/","qNzmsK0","ChvZAa","y29Z","s3jrv24","qLvNBNu","nJb2ALLcC3K","mtK0twTIAe51","y09yBue","C29YDa","5y2k44gp44gz","odaYnK5KwKrNDa","r1fZqMu","Cg9ZAxrPB24","q0TIEuG","ndi4odqWyMvhBKTV","sw5Uzxi","C2nHBgu","u29kq2q","uMzIuwC","sKn2BuC","ndKYognor3bqsG","44or44o844oR"];return Z0=function(){return c},Z0()}(function(c,r){const a=vn,i=c();for(;;)try{if(parseInt(a(296))/1*(parseInt(a(310))/2)+-parseInt(a(295))/3*(parseInt(a(292))/4)+parseInt(a(326))/5*(parseInt(a(302))/6)+-parseInt(a(323))/7*(-parseInt(a(322))/8)+parseInt(a(319))/9+parseInt(a(309))/10*(-parseInt(a(315))/11)+-parseInt(a(294))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(X0,242664);function X0(){const c=["BgvHzG","C2vHCMnO","mtq1mdy0tLvqrxzX","y29SB3jjza","mJiXmtC0nfvKsvnovG","nLPevKLOvW","mtiZmZjvCwL2B08","D29AwLG","zePPD0W","C29Tzq","y29Sx2DYzwvU","C3bSAxq","mtuWnKXIuvjxCG","mxW0Fdn8mNWW","CM91BMq","y29Sx2rHCMTNCMvLBG","y094zha","quPQv0K","rwzuzKO","mJbpA0rJv3m","mtbJC3PyC0m","kcGOlISPkYKRksSK","BgvHDMvZ","wwDXweq","Dg9tDhjPBMC","mtK1mtqWv3nRueDd","5yMJ44gK44g+44g/","ChvZAa","CgfSzxr0zq","mJaWmZK0oxb6t3HUrW","ywjZ","yxbWBhK","mteYz2nTug5h","odyZmdnrq2HfweO","u1fsvdi","zMfICMLJu3f1yxjLu2L6zq","mtu1nxHxDxHKwa","Cg9ZAxrPB24","Ag1QD2S"];return X0=function(){return c},X0()}const hb=(function(){let c=!0;return function(r,a){const i=c?function(){const f=vn;if(a){const o=a[f(321)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),qs=hb(void 0,function(){const c=vn;return qs[c(314)]().search(c(311)).toString().constructor(qs)[c(330)](c(311))});function vn(c,r){c=c-292;const a=X0();let i=a[c];if(vn.tPxoVw===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};vn.fSKmXp=f,vn.MyxeDg={},vn.tPxoVw=!0}const o=a[0],v=c+o,S=vn.MyxeDg[v];if(S)i=S;else{const h=function(m){this.dGOTFT=m,this.NfAxVl=[1,0,0],this.ksNQYl=function(){return"newState"},this.UcEYCI="\\w+ *\\(\\) *{\\w+ *",this.DCkTtN=`['|"].+['|"];? *}`};h.prototype.LTlEkb=function(){const m=new RegExp(this.UcEYCI+this.DCkTtN),y=m.test(this.ksNQYl.toString())?--this.NfAxVl[1]:--this.NfAxVl[0];return this.ivyZTr(y)},h.prototype.ivyZTr=function(m){return~m?this.oIaUCG(this.dGOTFT):m},h.prototype.oIaUCG=function(m){for(let y=0,p=this.NfAxVl.length;y<p;y++)this.NfAxVl.push(Math.round(Math.random())),p=this.NfAxVl.length;return m(this.NfAxVl[0])},new h(vn).LTlEkb(),i=vn.fSKmXp(i),vn.MyxeDg[v]=i}return i}qs();function Vd(c){const r=vn;return{woZZX:function(i,f){return i/f}}[r(297)](Math[r(304)](c*Math[r(324)]/2*10),10)}function mb({project:c,applyUpdate:r,setSelection:a,zoom:i,pan:f,stageSize:o,CANVAS_MAX_SVG:v}){const S=vn,h={AJjWI:S(300),cOxdp:function(b,d){return b(d)},LqFRs:function(b,d){return b(d)},dJiwL:function(b,d){return b/d},EfTfJ:function(b,d){return b/d},WgaOU:function(b,d){return b/d},YgqXD:function(b,d){return b<d},VOwTh:function(b,d,E,R){return b(d,E,R)},Hrgrl:function(b,d,E,R){return b(d,E,R)},QYFvr:function(b,d){return b+d},sLvbY:function(b,d,E){return b(d,E)},pFMuF:S(329),hmjwk:function(b,d){return b(d)},pyfWG:function(b,d){return b(d)},nmYFG:function(b,d){return b(d)},YMEDs:S(316)},[m,y]=h.LqFRs($.useState,!1),[p,_]=h.pyfWG($.useState,{fabricSquareSize:20,leafSizeMm:h.nmYFG(Vd,20),petalType:h.YMEDs,colorId:""});return{showAddLeafDialog:m,setShowAddLeafDialog:y,addLeafOpts:p,setAddLeafOpts:_,addLeaf:()=>{const b=S,d=c[b(325)],E=c[b(318)]?.find(R=>R.id==="col_green"||R.id===b(305))?.id??c[b(318)]?.[0]?.id??h[b(307)];h[b(306)](_,R=>({...R,fabricSquareSize:d,leafSizeMm:Vd(d),colorId:R[b(293)]||E})),h.LqFRs(y,!0)},confirmAddLeaf:()=>{const b=S,{petalType:d,colorId:E,fabricSquareSize:R}=p,G=o.w/o.h,Y=520/i,U=Y*G,N=h[b(298)](-f.x,i),O=h[b(308)](-f.y,i);let W=N+h.EfTfJ(U,2),Q=O+h.WgaOU(Y,2),K=0;for(;h[b(313)](K,50)&&(c.leaves??[])[b(299)](I=>Math[b(320)](I[b(327)].x-W)<5&&Math.abs(I.position.y-Q)<5);){const I=b(303)[b(301)]("|");let X=0;for(;;){switch(I[X++]){case"0":K++;continue;case"1":W+=25;continue;case"2":Q=h.VOwTh(ye,Q,0,v);continue;case"3":W=h.Hrgrl(ye,W,0,v);continue;case"4":Q+=25;continue}break}}const ee={id:qt("leaf"),name:"Leaf "+h.QYFvr((c[b(312)]??[]).length,1),position:{x:W,y:Q},rotation:135,petalType:d,colorId:E||c[b(318)]?.[0]?.id||b(300),fabricSquareSize:R,scale:1,widthScale:1,visible:!0,locked:!1};h.sLvbY(r,I=>{const X=b;I[X(312)]||(I.leaves=[]),I.leaves[X(317)](ee)},!0),a({kind:h.pFMuF,leafId:ee.id}),h[b(328)](y,!1)}}}function V0(){const c=["mtu2otG2oe9wD3bOta","mtqZDK9ZCeLA","mJC0CNvHy09R","Cgv0ywXZ","ow93D1L4wa","z3jVDxbjza","wLPczMq","uKDYr3O","BMfWrLy","ntyWndm0neX6y2XHtW","BwL4zwq","Dg9tDhjPBMC","rvbgyLG","D2rLs0m","z3jVDxbZ","DxzPAvi","mta4mti4m2f0C3jdra","Aw5KzxG","zwfUB2q","ntu5nZC3owrMEwDezG","nZC2ng5Ay2Xlta","DvneyMm","zMLSDgvY","C2vHCMnO","mtbfwNnTv0y","A2LKqKi","BgvHzKLKCW","A2LUza","Cgv0ywW","C3rLBMnPBa","y29UC3rYDwn0B3i","zMXVD2vY","BgvHzKLK","rgj0r04","zMXVD2vYCW","wK1pBfm","uvrytMu","zMLUza","kcGOlISPkYKRksSK","nK5SuxDPwq","C3Pevxu","AMvkELy","ENjezxK","zMXVD2vYswrZ","Bgf5zxi","swP6q3K","sePjAKi","z2Dctu8","BLfbsNq","yNzRrLq","Dw5xDgy","BgvHDMvZ","z3jVDxa","Dhb6suW","ndm1m2fVsg1Tzq","yKHwsve","nw93s0zpta","mJa0mta0wfjgthLt","Aw5JBhvKzxm","BgvHzG","zMXVD2vYswq"];return V0=function(){return c},V0()}(function(c,r){const a=Kn,i=c();for(;;)try{if(-parseInt(a(525))/1+parseInt(a(531))/2*(-parseInt(a(522))/3)+-parseInt(a(529))/4*(parseInt(a(524))/5)+parseInt(a(507))/6*(parseInt(a(484))/7)+parseInt(a(477))/8*(parseInt(a(533))/9)+-parseInt(a(492))/10*(-parseInt(a(487))/11)+parseInt(a(488))/12*(parseInt(a(530))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(V0,575660);function Kn(c,r){c=c-476;const a=V0();let i=a[c];if(Kn.uJzjlK===void 0){var f=function(h){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",p="",_=y+f;for(let M=0,z,b,d=0;b=h.charAt(d++);~b&&(z=M%4?z*64+b:b,M++%4)?y+=_.charCodeAt(d+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)b=m.indexOf(b);for(let M=0,z=y.length;M<z;M++)p+="%"+("00"+y.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Kn.TkOuLg=f,Kn.TgnVrQ={},Kn.uJzjlK=!0}const o=a[0],v=c+o,S=Kn.TgnVrQ[v];if(S)i=S;else{const h=function(m){this.FYPtQa=m,this.mETIVH=[1,0,0],this.OrMMbP=function(){return"newState"},this.eebCJW="\\w+ *\\(\\) *{\\w+ *",this.zQbuRl=`['|"].+['|"];? *}`};h.prototype.zwbdfy=function(){const m=new RegExp(this.eebCJW+this.zQbuRl),y=m.test(this.OrMMbP.toString())?--this.mETIVH[1]:--this.mETIVH[0];return this.LuTQcq(y)},h.prototype.LuTQcq=function(m){return~m?this.IhKFcq(this.FYPtQa):m},h.prototype.IhKFcq=function(m){for(let y=0,p=this.mETIVH.length;y<p;y++)this.mETIVH.push(Math.round(Math.random())),p=this.mETIVH.length;return m(this.mETIVH[0])},new h(Kn).zwbdfy(),i=Kn.TkOuLg(i),Kn.TgnVrQ[v]=i}return i}const bb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ks=bb(void 0,function(){const c=Kn;return ks.toString()[c(491)]("(((.+)+)+)+$")[c(479)]()[c(498)](ks).search(c(506))});ks();function gb(c,r){const a=Kn,i={unWtf:function(b,d){return b===d},IjzCy:"layer",napFV:a(532),jeJzV:function(b,d){return b!==d},bvkFT:a(508),mpqJu:"flowers",DbtGN:a(478),nQAJt:"thJID",EPFbX:function(b,d){return b===d},ZMOlS:"group",Hgpsk:a(527),ggBMO:function(b,d){return b===d},BhSOm:function(b,d){return b===d},izpGk:function(b,d){return b===d},wdeKC:"petal",uviiR:function(b,d,E){return b(d,E)},eanod:function(b,d){return b===d},zLivk:a(499),RGrGz:function(b,d){return b===d},bHVIQ:a(504),zrDey:function(b,d,E){return b(d,E)},kidBB:function(b,d,E){return b(d,E)},mBGnr:function(b,d,E){return b(d,E)},yLnpm:function(b,d){return b===d},tpzIL:a(497),uSDbc:function(b,d){return b===d}},f=i[a(510)]($.useMemo,()=>{const b=a;return i[b(509)](b(514),i[b(517)])?r[b(495)]===b(499)||r.kind===i[b(513)]||i.unWtf(r[b(495)],"petal")||r[b(495)]==="petals"?c.flowers[b(505)](d=>d.id===r[b(528)])??null:null:_0x54d882[b(495)]==="flower"||i[b(518)](_0x3ede59.kind,i[b(513)])||_0x192be4[b(495)]==="petal"||_0x2b0ca3[b(495)]===i.napFV?_0x29abd5[b(502)][b(505)](d=>d.id===_0x4aea70[b(528)])??null:null},[c.flowers,r]),o=$.useMemo(()=>{const b=a;if(r.kind===i.mpqJu)return c.flowers.filter(d=>r.flowerIds[b(526)](d.id));if(i.unWtf(r.kind,i[b(501)]))return i[b(516)]==="odntZ"?_0x5ef734&&(i[b(518)](_0x40c8ff[b(495)],i[b(513)])||_0xab4b12[b(495)]==="petal")?_0x346cf8.layers.find(d=>d.id===_0x278a9d.layerId)??null:null:c.flowers[b(490)](d=>r.flowerIds.includes(d.id));if(i[b(480)](r.kind,i.ZMOlS)){const d=(c.groups??[])[b(505)](E=>E.id===r.groupId);if(d)return c[b(502)][b(490)](E=>d.flowerIds[b(526)](E.id))}return[]},[c[a(502)],c[a(482)],r]),v=i[a(483)]($.useMemo,()=>{const b=a;return r.kind===i.Hgpsk?(c[b(519)]??[]).find(d=>d.id===r.leafId)??null:null},[c.leaves,r]),S=i[a(493)]($.useMemo,()=>{const b=a;return i[b(515)](r.kind,b(520))?(c[b(482)]??[]).find(d=>d.id===r[b(534)])??null:null},[c[a(482)],r]),h=i.mBGnr($.useMemo,()=>{const b=a;return f&&(r.kind===i.IjzCy||i.unWtf(r.kind,b(496)))?f.layers.find(d=>d.id===r.layerId)??null:null},[f,r]),m=i.yLnpm(r[a(495)],i.wdeKC)?r[a(485)]:null,y=r.kind==="petals"?r.petals:[],p=i.ggBMO(r.kind,i[a(521)])?(c.stencils??[])[a(505)](b=>b.id===r.stencilId)??null:null,_=i.izpGk(r.kind,a(499))||i[a(489)](r[a(495)],"layer")||i.RGrGz(r[a(495)],i.wdeKC)||r.kind==="petals"?r[a(528)]:null,M=$.useMemo(()=>{const b=a;if(r[b(495)]===i[b(503)]){const d=(c[b(482)]??[]).find(E=>E.id===r.groupId);if(d)return new Set(d[b(511)])}if(i[b(480)](r.kind,b(502)))if(i.jeJzV(b(535),"ZZBfd")){const d=(_0x20d25a.groups??[]).find(E=>E.id===_0xce8108.groupId);if(d)return _0x555792[b(502)][b(490)](E=>d[b(511)].includes(E.id))}else return new Set(r.flowerIds);if(i.BhSOm(r.kind,i.DbtGN))return i[b(509)]("wSNuQ","VBCRd")?new Set(r.flowerIds):_0x4e3c01[b(495)]===b(520)?(_0x432b4a[b(482)]??[]).find(d=>d.id===_0x42bb60.groupId)??null:null;if(i.izpGk(r[b(495)],"flower")||r.kind===b(512)||i.ggBMO(r.kind,i[b(481)])||r[b(495)]===i[b(476)]){const d=i[b(483)](nl,c,r[b(528)]);if(d)return i[b(486)](r.kind,i.zLivk)?new Set(d[b(511)].filter(E=>E!==r[b(528)])):new Set(d.flowerIds)}return new Set},[r,c]),z=$.useMemo(()=>{const b=a;if(i[b(536)](r[b(495)],i.ZMOlS)){const d=(c[b(482)]??[]).find(E=>E.id===r.groupId);if(d)return new Set(d[b(494)])}if(i[b(518)](r[b(495)],"leaves"))return new Set(r[b(494)]);if(r[b(495)]===b(478))return new Set(r[b(494)]);if(r.kind===i.Hgpsk)if(i.izpGk(i[b(523)],i[b(523)])){const d=Ml(c,r[b(500)]);if(d)return new Set(d.leafIds.filter(E=>E!==r.leafId))}else return(_0x13ce0c[b(482)]??[]).find(d=>d.id===_0x4d7cf3.groupId)??null;return new Set},[r,c]);return{selectedFlower:f,selectedFlowers:o,selectedLeaf:v,selectedGroup:S,selectedLayer:h,selectedPetalIndex:m,selectedPetals:y,selectedStencil:p,selectedFlowerId:_,groupHighlightedFlowerIds:M,groupHighlightedLeafIds:z}}function vb(c){const{project:r,selection:a,setSelection:i,applyUpdate:f}=c,o=$.useMemo(()=>new Map((r.palette||[]).map(he=>[he.id,he])),[r.palette]),{widths:v,containerRef:S,onDividerPointerDown:h,onDividerDoubleClick:m,isDragging:y,isDesktop:p}=cb(),_=$.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[M,z]=$.useState({});$.useEffect(()=>{try{const _e=localStorage.getItem(_);if(_e){const ke=JSON.parse(_e);if(ke&&typeof ke=="object"){z(ke);return}}}catch{}const he=r.flowers?.[0];he&&z({[he.id]:!0})},[_]),$.useEffect(()=>{try{localStorage.setItem(_,JSON.stringify(M))}catch{}},[_,M]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const he=a.flowerId;z(_e=>_e?.[he]?_e:{..._e,[he]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const he=a.flowerIds;z(_e=>{const ke={..._e};for(const Ze of he)ke[Ze]=!0;return ke})}},[a]);const b=he=>M?.[he]??!1,d=he=>z(_e=>({..._e,[he]:!(_e?.[he]??!1)})),E=$.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[R,G]=$.useState({});$.useEffect(()=>{try{const _e=localStorage.getItem(E);if(_e){const ke=JSON.parse(_e);if(ke&&typeof ke=="object"){G(ke);return}}}catch{}const he=r.groups??[];if(he.length>0){const _e={};for(const ke of he)_e[ke.id]=!0;G(_e)}},[E]),$.useEffect(()=>{try{localStorage.setItem(E,JSON.stringify(R))}catch{}},[E,R]);const Y=he=>R?.[he]??!0,U=he=>G(_e=>({..._e,[he]:!(_e?.[he]??!0)})),N=$.useRef({flowerId:null,timer:null}),O=he=>{const _e=N.current.timer;_e&&window.clearTimeout(_e),N.current.flowerId=he,N.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:he}),z(ke=>({...ke,[he]:!0})),N.current.timer=null,N.current.flowerId=null},200)},W=he=>{const _e=N.current.timer;_e&&N.current.flowerId===he&&window.clearTimeout(_e),N.current.timer=null,N.current.flowerId=null,i({kind:"flower",flowerId:he}),d(he)},Q=$.useRef(null),[K,ee]=$.useState({w:520,h:520});$.useEffect(()=>{const he=Q.current;if(!he)return;const _e=new ResizeObserver(ke=>{for(const Ze of ke){const{width:Ct,height:Qn}=Ze.contentRect;Ct>0&&Qn>0&&ee({w:Ct,h:Qn})}});return _e.observe(he),()=>_e.disconnect()},[]);const I=he=>{const _e=Q.current;if(!_e)return{x:0,y:0};const ke=_e.createSVGPoint();ke.x=he.clientX,ke.y=he.clientY;const Ze=_e.getScreenCTM();if(!Ze)return{x:0,y:0};const Ct=ke.matrixTransform(Ze.inverse());return{x:Ct.x,y:Ct.y}},X=500*cn,C=-300*cn,g=800*cn,D=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[q,L]=$.useState(6),[k,T]=$.useState(D[6]),j=$.useCallback(he=>{L(_e=>{const ke=typeof he=="function"?he(_e):he;return T(D[ke]),ke})},[D]),B=$.useCallback(he=>{const _e=ye(he,D[0],D[D.length-1]);T(_e);let ke=0,Ze=Math.abs(D[0]-_e);for(let Ct=1;Ct<D.length;Ct++){const Qn=Math.abs(D[Ct]-_e);Qn<Ze&&(ke=Ct,Ze=Qn)}L(ke)},[D]),[Z,H]=$.useState({x:0,y:0}),[P,te]=$.useState(!0),[se,oe]=$.useState(!1),me=$.useRef(null),ve=$.useMemo(()=>{const he=K.w/K.h,_e=520,ke=_e*he;return(Ze,Ct=k)=>{const Qn=ye(Ze.x,-(g*Ct-ke),-C*Ct),rl=ye(Ze.y,-(g*Ct-_e),-C*Ct);return{x:Qn,y:rl}}},[K,k,C,g]),de=$.useMemo(()=>ve(Z),[Z,ve]),Ne=$.useCallback(he=>H(he),[]),He=$.useMemo(()=>{const he=K.w/K.h,_e=520,ke=_e*he,Ze=-de.x/k,Ct=-de.y/k;return`${Ze} ${Ct} ${ke/k} ${_e/k}`},[k,de,K]),{deleteLeafById:Xe,handleShiftLeafSelect:Pe,groupSelectedLeaves:mt,ungroupLeaves:pt,addLeafToGroup:wt,removeLeafFromGroup:bt,addLeavesToGroup:Zt,mergeLeafGroups:un}=ob({project:r,applyUpdate:f,selection:a,setSelection:i}),{showAddFlowerDialog:Xn,setShowAddFlowerDialog:Vn,addFlowerOpts:Fe,setAddFlowerOpts:yn,addFlower:jl,confirmAddFlower:al}=db({project:r,applyUpdate:f,setSelection:i,setExpandedFlowers:z,zoom:k,pan:de,stageSize:K,CANVAS_MAX_SVG:X}),{showAddLeafDialog:il,setShowAddLeafDialog:zl,addLeafOpts:la,setAddLeafOpts:Jn,addLeaf:oi,confirmAddLeaf:kn}=mb({project:r,applyUpdate:f,setSelection:i,zoom:k,pan:de,stageSize:K,CANVAS_MAX_SVG:X}),{selectedFlower:It,selectedFlowers:pn,selectedLeaf:Ge,selectedLayer:fe,selectedPetalIndex:Be,selectedPetals:qe,selectedStencil:Se,selectedFlowerId:pe,groupHighlightedFlowerIds:Ae,groupHighlightedLeafIds:je}=gb(r,a),{deleteFlowerById:we,deleteLayerById:$e,addOuterLayer:et,deleteOuterLayer:Ve,deleteSelected:Je,groupSelectedFlowers:Te,groupSelectedMixed:Rt,ungroupFlowers:tt,ungroupAll:At,addToGroup:rt,mergeGroups:lt,addStencil:gt,deleteStencil:_n,handleShiftFlowerSelect:wa,togglePetalSelection:Wt}=sb({project:r,applyUpdate:f,selection:a,setSelection:i,setExpandedFlowers:z,setExpandedGroups:G,zoom:k,pan:de,stageSize:K,CANVAS_MAX_SVG:X,deleteLeafById:Xe}),ze=sm({project:r,selection:a,setSelection:i,applyUpdate:f,dragRef:c.dragRef,zoom:k,pan:de,setPan:Ne,stageRef:Q,clientToSvgPoint:I,togglePetalSelection:Wt}),[Gt,Dl]=$.useState(0),Sn=a.kind,Q0=Sn==="flower"?a.flowerId:null,W0=Sn==="flowers"?a.flowerIds?.join(","):null,fr=Sn==="layer"||Sn==="petal"?a.layerId:null,aa=Sn==="petal"?a.index:null,fi=Sn==="petals"?a.petals?.length:null;$.useEffect(()=>{Sn!=="project"&&Dl(Date.now())},[Sn,Q0,W0,fr,aa,fi]),$.useEffect(()=>{if(!me.current)return;const he=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!he)return;const _e=me.current.querySelector(`[data-flower-id="${he}"]`);_e&&_e.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Nl=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[Gt]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:S,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:p?{width:`${v.left}%`}:void 0,children:s.jsx(om,{project:r,selection:a,setSelection:i,expandedFlowers:M,setExpandedFlowers:z,isExpanded:b,toggleExpanded:d,scheduleFlowerRowClick:O,handleFlowerRowDoubleClick:W,addFlower:jl,deleteSelected:Je,addOuterLayer:et,deleteOuterLayer:Ve,deleteFlowerById:we,deleteLayerById:$e,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:me,groups:r.groups??[],expandedGroups:R,isGroupExpanded:Y,toggleGroupExpanded:U,onSelectGroup:he=>i({kind:"group",groupId:he}),onUngroupFlowers:tt,leaves:r.leaves??[],onSelectLeaf:he=>i({kind:"leaf",leafId:he}),onAddLeaf:oi,onDeleteLeaf:Xe})}),s.jsx(Xd,{side:"left",onPointerDown:h,onDoubleClick:m,isDragging:y}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Im,{project:r,selection:a,setSelection:i,applyUpdate:f,paletteMap:o,selectedFlowerId:pe,zoom:k,setZoom:B,zoomLevel:q,setZoomLevel:j,ZOOM_LEVELS:D,pan:de,panRaw:Z,setPan:Ne,showGrid:P,setShowGrid:te,showHelp:se,setShowHelp:oe,stageRef:Q,viewBox:He,dashSyncToken:Gt,dashDelay:Nl,beginPan:ze.beginPan,updatePan:ze.updatePan,endPan:ze.endPan,beginMarquee:ze.beginMarquee,updateMarquee:ze.updateMarquee,endMarquee:ze.endMarquee,marqueeRef:ze.marqueeRef,marqueeRect:ze.marqueeRect,beginFlowerDrag:ze.beginFlowerDrag,updateFlowerDrag:ze.updateFlowerDrag,endFlowerDrag:ze.endFlowerDrag,scaleDragRef:ze.scaleDragRef,beginScaleDrag:ze.beginScaleDrag,updateScaleDrag:ze.updateScaleDrag,endScaleDrag:ze.endScaleDrag,rotationDragRef:ze.rotationDragRef,beginRotationDrag:ze.beginRotationDrag,updateRotationDrag:ze.updateRotationDrag,endRotationDrag:ze.endRotationDrag,widthScaleDragRef:ze.widthScaleDragRef,beginWidthScaleDrag:ze.beginWidthScaleDrag,updateWidthScaleDrag:ze.updateWidthScaleDrag,endWidthScaleDrag:ze.endWidthScaleDrag,radiusDragRef:ze.radiusDragRef,beginRadiusDrag:ze.beginRadiusDrag,updateRadiusDrag:ze.updateRadiusDrag,endRadiusDrag:ze.endRadiusDrag,togglePetalSelection:Wt,clientToSvgPoint:I,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:gt,onDeleteStencil:_n,onSelectStencil:he=>i({kind:"stencil",stencilId:he}),handleShiftFlowerSelect:wa,groupHighlightedFlowerIds:Ae,leaves:r.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:je,onSelectLeaf:he=>i({kind:"leaf",leafId:he}),onSelectGroup:he=>i({kind:"group",groupId:he}),onShiftSelectLeaf:Pe})}),s.jsx(Xd,{side:"right",onPointerDown:h,onDoubleClick:m,isDragging:y}),s.jsx("div",{className:"min-w-0 shrink-0",style:p?{width:`${v.right}%`}:void 0,children:s.jsx(Fm,{project:r,selection:a,applyUpdate:f,selectedFlower:It,selectedFlowers:pn,selectedLayer:fe,selectedPetalIndex:Be,selectedPetals:qe,selectedStencil:Se,onDeleteStencil:_n,groups:r.groups??[],onGroupFlowers:Te,onUngroupFlowers:tt,onUngroupAll:At,onAddToGroup:rt,onMergeGroups:lt,selectedLeaf:Ge,onDeleteLeaf:Xe,onGroupLeaves:mt,onUngroupLeaves:pt,onAddLeafToGroup:wt,onRemoveLeafFromGroup:bt,onAddLeavesToGroup:Zt,onMergeLeafGroups:un,onGroupMixed:Rt})})]}),Xn&&s.jsx(tb,{palette:r.palette,addFlowerOpts:Fe,setAddFlowerOpts:yn,onConfirm:al,onCancel:()=>Vn(!1)}),il&&s.jsx(ab,{palette:r.palette,addLeafOpts:la,setAddLeafOpts:Jn,onConfirm:kn,onCancel:()=>zl(!1)}),se&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:he=>he.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([he,_e])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:he}),s.jsx("td",{className:"py-2 text-neutral-700",children:_e})]},he))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function yb({cg:c}){const[r,a]=$.useState("w"),[i,f]=$.useState(""),o=c.totalAreaCm2,v=parseFloat(i),h=i!==""&&Number.isFinite(v)&&v>0?Math.round(o/v*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(m=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[m.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[m.count," "]})]},m.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",o,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:m=>f(m.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:m=>f(m.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function pb(c){const{recipe:r}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(yb,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function _b(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function Sb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function wb(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function Cb(){const[c,r]=$.useState("home"),[a,i]=$.useState([]),[f,o]=$.useState(null),[v,S]=$.useState({kind:"project"}),[h,m]=$.useState([]),[y,p]=$.useState(0),_=$.useRef(f),M=$.useRef(h),z=$.useRef(y);$.useEffect(()=>{_.current=f},[f]),$.useEffect(()=>{M.current=h},[h]),$.useEffect(()=>{z.current=y},[y]);const b=$.useRef(null),d=$.useRef(null),E=$.useRef(null),R=$.useRef(null),[G,Y]=$.useState(null);$.useEffect(()=>{const T=G?window.setTimeout(()=>Y(null),2200):null;return()=>{T&&window.clearTimeout(T)}},[G]),$.useEffect(()=>{i(ir())},[]);function U(T){const j=JSON.stringify(T);m([j]),p(0)}function N(T,j=!0){if(!j){o(ve=>{if(!ve)return ve;const de=$l(ve);return T(de),de.updatedAt=z0(),de});return}const B=_.current;if(!B)return;const Z=$l(B);T(Z),Z.updatedAt=z0(),o(Z);const H=M.current,P=z.current;if(H.length===0){U(Z);return}const te=JSON.stringify(Z);let oe=[...H.slice(0,P+1),te];const me=50;oe.length>me&&(oe=oe.slice(oe.length-me)),m(oe),p(oe.length-1)}function O(){p(T=>{if(T<=0)return T;const j=T-1,B=M.current[j];return B&&o(Sa(JSON.parse(B))),Y("Undo"),j})}function W(){p(T=>{if(T>=M.current.length-1)return T;const j=T+1,B=M.current[j];return B&&o(Sa(JSON.parse(B))),Y("Redo"),j})}function Q(){if(!f)return;const T=Zh(f);i(ir()),Y(T?"Saved":" ")}function K(){if(!f)return;const T=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),j=URL.createObjectURL(T),B=document.createElement("a");B.href=j,B.download=`${f.title||"tsumami"}.json`,B.click(),URL.revokeObjectURL(j),Y("JSON exported")}function ee(T){const j=new FileReader;j.onload=()=>{try{const B=JSON.parse(String(j.result??""));if(!B||typeof B!="object"||!Array.isArray(B.flowers))throw new Error("Invalid JSON");const Z=Sa(B);o(Z),S({kind:"project"}),U(Z),r("editor"),Y("Imported")}catch{Y("Import failed")}},j.readAsText(T)}function I(T){const j=Sa(T);o(j),S({kind:"project"}),U(j),r("editor")}function X(T){return T&&(T.kind==="flower"||T.kind==="layer"||T.kind==="petal")?T.flowerId:null}function C(){if(!f)return;const T=X(v);if(!T)return;const j=f.flowers.find(B=>B.id===T);j&&(d.current=$l(j),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:j},null,2)).catch(()=>{}),Y("Flower copied"))}function g(){if(!f||v.kind!=="leaf")return;const T=(f.leaves??[]).find(j=>j.id===v.leafId);T&&(E.current=$l(T),Y("Leaf copied"))}function D(){if(!f)return;const T=d.current;if(!T){Y("Nothing to paste");return}const j=Gh(T,{x:12+Math.random()*10,y:12+Math.random()*10});N(B=>{B.flowers.push(j)},!0),S({kind:"flower",flowerId:j.id}),Y("Flower pasted")}function q(){if(!f)return;const T=E.current;if(!T)return;const j=qt("leaf"),B={...$l(T),id:j,name:T.name+" (copy)",position:{x:T.position.x+30,y:T.position.y+30}};N(Z=>{Z.leaves||(Z.leaves=[]),Z.leaves.push(B)},!0),S({kind:"leaf",leafId:B.id}),Y("Leaf pasted")}function L(T){if(!f)return;const j=X(v);j&&(N(B=>{const Z=B.flowers.findIndex(se=>se.id===j);if(Z<0)return;const H=B.flowers,P=H[Z];if(!P)return;if(H.splice(Z,1),T==="front"){H.push(P);return}if(T==="back"){H.unshift(P);return}if(T==="forward"){if(Z>=H.length){H.push(P);return}H.splice(Z+1,0,P);return}const te=ye(Z-1,0,H.length);H.splice(te,0,P)},!0),Y(T==="front"?"Brought to front":T==="back"?"Sent to back":T==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function T(B){const Z=B;if(!Z)return!1;const H=String(Z.tagName||"").toLowerCase();return H==="input"||H==="textarea"||H==="select"||!!Z.isContentEditable}function j(B){if(!(T(B.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?B.metaKey:B.ctrlKey))){if(c==="editor"){if(B.key.toLowerCase()==="c"){B.preventDefault(),v.kind==="leaf"?g():C();return}if(B.key.toLowerCase()==="v"){B.preventDefault(),E.current&&(v.kind==="leaf"||v.kind==="leaves"||v.kind==="mixed"||!d.current)?q():D();return}}B.key.toLowerCase()==="z"&&(B.preventDefault(),B.shiftKey?W():O()),B.key.toLowerCase()==="s"&&(B.preventDefault(),Q())}}return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[f,h,y,v,c]);const k=$.useMemo(()=>f?Jh(f):null,[f]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx($h,{view:c,onNavigate:r,project:f,onSave:Q,onLoad:()=>r("home"),onImportJson:()=>R.current?.click(),onExportJson:K,onExportSvg:()=>{const T=document.querySelector('[data-testid="canvas-svg"]');T&&f&&Wh(T,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const T=document.querySelector('[data-testid="canvas-svg"]');T&&f&&Ph(T,`${f.title||"tsumami"}.png`)}}),s.jsx("input",{ref:R,type:"file",accept:"application/json",className:"hidden",onChange:T=>{const j=T.target.files?.[0];j&&ee(j),T.currentTarget.value=""}}),G&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:G}),s.jsxs("main",{className:"flex-1",children:[c==="home"&&s.jsx(em,{saved:a,onNew:()=>r("new"),onOpen:T=>{const j=Sa($l(T));o(j),S({kind:"project"}),U(j),r("editor")},onDelete:T=>{Xh(T),i(ir()),Y("Deleted")}}),c==="new"&&s.jsx(tm,{onBack:()=>r("home"),onCreate:T=>{const j=Rh({title:T});I(j)}}),c==="editor"&&f&&s.jsx(vb,{project:f,selection:v,setSelection:S,applyUpdate:N,onGoRecipe:()=>r("recipe"),onImport:ee,dragRef:b,onCopyFlower:C,onPasteFlower:D,onArrangeFlower:L,canPasteFlower:!!d.current,onUndo:O,onRedo:W,canUndo:y>0,canRedo:y<h.length-1}),c==="recipe"&&f&&k&&s.jsx(pb,{project:f,recipe:k,onBack:()=>r("editor"),onExportJson:K}),c==="terms"&&s.jsx(_b,{onBack:()=>r("home")}),c==="privacy"&&s.jsx(Sb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!f&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(wb,{onNavigate:r})]})}class Mb extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}wh.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(Mb,{children:s.jsx(Cb,{})})}));

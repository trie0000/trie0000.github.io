(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))r(f);new MutationObserver(f=>{for(const o of f)if(o.type==="childList")for(const v of o.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function a(f){const o={};return f.integrity&&(o.integrity=f.integrity),f.referrerPolicy&&(o.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?o.credentials="include":f.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(f){if(f.ep)return;f.ep=!0;const o=a(f);fetch(f.href,o)}})();var cs={exports:{}},nr={};var Td;function vh(){if(Td)return nr;Td=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,f,o){var v=null;if(o!==void 0&&(v=""+o),f.key!==void 0&&(v=""+f.key),"key"in f){o={};for(var y in f)y!=="key"&&(o[y]=f[y])}else o=f;return f=o.ref,{$$typeof:c,type:r,key:v,ref:f!==void 0?f:null,props:o}}return nr.Fragment=i,nr.jsx=a,nr.jsxs=a,nr}var Ld;function yh(){return Ld||(Ld=1,cs.exports=vh()),cs.exports}var s=yh(),us={exports:{}},De={};var Ed;function ph(){if(Ed)return De;Ed=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),p=Symbol.iterator;function M(S){return S===null||typeof S!="object"?null:(S=p&&S[p]||S["@@iterator"],typeof S=="function"?S:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,h={};function E(S,N,I){this.props=S,this.context=N,this.refs=h,this.updater=I||z}E.prototype.isReactComponent={},E.prototype.setState=function(S,N){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,N,"setState")},E.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function H(){}H.prototype=E.prototype;function G(S,N,I){this.props=S,this.context=N,this.refs=h,this.updater=I||z}var k=G.prototype=new H;k.constructor=G,g(k,E.prototype),k.isPureReactComponent=!0;var R=Array.isArray;function U(){}var q={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function F(S,N,I){var Z=I.ref;return{$$typeof:c,type:S,key:N,ref:Z!==void 0?Z:null,props:I}}function P(S,N){return F(S.type,N,S.props)}function V(S){return typeof S=="object"&&S!==null&&S.$$typeof===c}function O(S){var N={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(I){return N[I]})}var K=/\/+/g;function Y(S,N){return typeof S=="object"&&S!==null&&S.key!=null?O(""+S.key):N.toString(36)}function _(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(U,U):(S.status="pending",S.then(function(N){S.status==="pending"&&(S.status="fulfilled",S.value=N)},function(N){S.status==="pending"&&(S.status="rejected",S.reason=N)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function m(S,N,I,Z,W){var ee=typeof S;(ee==="undefined"||ee==="boolean")&&(S=null);var ie=!1;if(S===null)ie=!0;else switch(ee){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(S.$$typeof){case c:case i:ie=!0;break;case C:return ie=S._init,m(ie(S._payload),N,I,Z,W)}}if(ie)return W=W(S),ie=Z===""?"."+Y(S,0):Z,R(W)?(I="",ie!=null&&(I=ie.replace(K,"$&/")+"/"),m(W,N,I,"",function(me){return me})):W!=null&&(V(W)&&(W=P(W,I+(W.key==null||S&&S.key===W.key?"":(""+W.key).replace(K,"$&/")+"/")+ie)),N.push(W)),1;ie=0;var oe=Z===""?".":Z+":";if(R(S))for(var fe=0;fe<S.length;fe++)Z=S[fe],ee=oe+Y(Z,fe),ie+=m(Z,N,I,ee,W);else if(fe=M(S),typeof fe=="function")for(S=fe.call(S),fe=0;!(Z=S.next()).done;)Z=Z.value,ee=oe+Y(Z,fe++),ie+=m(Z,N,I,ee,W);else if(ee==="object"){if(typeof S.then=="function")return m(_(S),N,I,Z,W);throw N=String(S),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return ie}function D(S,N,I){if(S==null)return S;var Z=[],W=0;return m(S,Z,"","",function(ee){return N.call(I,ee,W++)}),Z}function B(S){if(S._status===-1){var N=S._result;N=N(),N.then(function(I){(S._status===0||S._status===-1)&&(S._status=1,S._result=I)},function(I){(S._status===0||S._status===-1)&&(S._status=2,S._result=I)}),S._status===-1&&(S._status=0,S._result=N)}if(S._status===1)return S._result.default;throw S._result}var T=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},A={map:D,forEach:function(S,N,I){D(S,function(){N.apply(this,arguments)},I)},count:function(S){var N=0;return D(S,function(){N++}),N},toArray:function(S){return D(S,function(N){return N})||[]},only:function(S){if(!V(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return De.Activity=w,De.Children=A,De.Component=E,De.Fragment=a,De.Profiler=f,De.PureComponent=G,De.StrictMode=r,De.Suspense=d,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,De.__COMPILER_RUNTIME={__proto__:null,c:function(S){return q.H.useMemoCache(S)}},De.cache=function(S){return function(){return S.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(S,N,I){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var Z=g({},S.props),W=S.key;if(N!=null)for(ee in N.key!==void 0&&(W=""+N.key),N)!J.call(N,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&N.ref===void 0||(Z[ee]=N[ee]);var ee=arguments.length-2;if(ee===1)Z.children=I;else if(1<ee){for(var ie=Array(ee),oe=0;oe<ee;oe++)ie[oe]=arguments[oe+2];Z.children=ie}return F(S.type,W,Z)},De.createContext=function(S){return S={$$typeof:v,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},De.createElement=function(S,N,I){var Z,W={},ee=null;if(N!=null)for(Z in N.key!==void 0&&(ee=""+N.key),N)J.call(N,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(W[Z]=N[Z]);var ie=arguments.length-2;if(ie===1)W.children=I;else if(1<ie){for(var oe=Array(ie),fe=0;fe<ie;fe++)oe[fe]=arguments[fe+2];W.children=oe}if(S&&S.defaultProps)for(Z in ie=S.defaultProps,ie)W[Z]===void 0&&(W[Z]=ie[Z]);return F(S,ee,W)},De.createRef=function(){return{current:null}},De.forwardRef=function(S){return{$$typeof:y,render:S}},De.isValidElement=V,De.lazy=function(S){return{$$typeof:C,_payload:{_status:-1,_result:S},_init:B}},De.memo=function(S,N){return{$$typeof:b,type:S,compare:N===void 0?null:N}},De.startTransition=function(S){var N=q.T,I={};q.T=I;try{var Z=S(),W=q.S;W!==null&&W(I,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(U,T)}catch(ee){T(ee)}finally{N!==null&&I.types!==null&&(N.types=I.types),q.T=N}},De.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},De.use=function(S){return q.H.use(S)},De.useActionState=function(S,N,I){return q.H.useActionState(S,N,I)},De.useCallback=function(S,N){return q.H.useCallback(S,N)},De.useContext=function(S){return q.H.useContext(S)},De.useDebugValue=function(){},De.useDeferredValue=function(S,N){return q.H.useDeferredValue(S,N)},De.useEffect=function(S,N){return q.H.useEffect(S,N)},De.useEffectEvent=function(S){return q.H.useEffectEvent(S)},De.useId=function(){return q.H.useId()},De.useImperativeHandle=function(S,N,I){return q.H.useImperativeHandle(S,N,I)},De.useInsertionEffect=function(S,N){return q.H.useInsertionEffect(S,N)},De.useLayoutEffect=function(S,N){return q.H.useLayoutEffect(S,N)},De.useMemo=function(S,N){return q.H.useMemo(S,N)},De.useOptimistic=function(S,N){return q.H.useOptimistic(S,N)},De.useReducer=function(S,N,I){return q.H.useReducer(S,N,I)},De.useRef=function(S){return q.H.useRef(S)},De.useState=function(S){return q.H.useState(S)},De.useSyncExternalStore=function(S,N,I){return q.H.useSyncExternalStore(S,N,I)},De.useTransition=function(){return q.H.useTransition()},De.version="19.2.3",De}var kd;function Os(){return kd||(kd=1,us.exports=ph()),us.exports}var te=Os(),ss={exports:{}},lr={},xs={exports:{}},os={};var Bd;function _h(){return Bd||(Bd=1,(function(c){function i(m,D){var B=m.length;m.push(D);e:for(;0<B;){var T=B-1>>>1,A=m[T];if(0<f(A,D))m[T]=D,m[B]=A,B=T;else break e}}function a(m){return m.length===0?null:m[0]}function r(m){if(m.length===0)return null;var D=m[0],B=m.pop();if(B!==D){m[0]=B;e:for(var T=0,A=m.length,S=A>>>1;T<S;){var N=2*(T+1)-1,I=m[N],Z=N+1,W=m[Z];if(0>f(I,B))Z<A&&0>f(W,I)?(m[T]=W,m[Z]=B,T=Z):(m[T]=I,m[N]=B,T=N);else if(Z<A&&0>f(W,B))m[T]=W,m[Z]=B,T=Z;else break e}}return D}function f(m,D){var B=m.sortIndex-D.sortIndex;return B!==0?B:m.id-D.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var v=Date,y=v.now();c.unstable_now=function(){return v.now()-y}}var d=[],b=[],C=1,w=null,p=3,M=!1,z=!1,g=!1,h=!1,E=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function k(m){for(var D=a(b);D!==null;){if(D.callback===null)r(b);else if(D.startTime<=m)r(b),D.sortIndex=D.expirationTime,i(d,D);else break;D=a(b)}}function R(m){if(g=!1,k(m),!z)if(a(d)!==null)z=!0,U||(U=!0,O());else{var D=a(b);D!==null&&_(R,D.startTime-m)}}var U=!1,q=-1,J=5,F=-1;function P(){return h?!0:!(c.unstable_now()-F<J)}function V(){if(h=!1,U){var m=c.unstable_now();F=m;var D=!0;try{e:{z=!1,g&&(g=!1,H(q),q=-1),M=!0;var B=p;try{t:{for(k(m),w=a(d);w!==null&&!(w.expirationTime>m&&P());){var T=w.callback;if(typeof T=="function"){w.callback=null,p=w.priorityLevel;var A=T(w.expirationTime<=m);if(m=c.unstable_now(),typeof A=="function"){w.callback=A,k(m),D=!0;break t}w===a(d)&&r(d),k(m)}else r(d);w=a(d)}if(w!==null)D=!0;else{var S=a(b);S!==null&&_(R,S.startTime-m),D=!1}}break e}finally{w=null,p=B,M=!1}D=void 0}}finally{D?O():U=!1}}}var O;if(typeof G=="function")O=function(){G(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Y=K.port2;K.port1.onmessage=V,O=function(){Y.postMessage(null)}}else O=function(){E(V,0)};function _(m,D){q=E(function(){m(c.unstable_now())},D)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(m){m.callback=null},c.unstable_forceFrameRate=function(m){0>m||125<m?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<m?Math.floor(1e3/m):5},c.unstable_getCurrentPriorityLevel=function(){return p},c.unstable_next=function(m){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var B=p;p=D;try{return m()}finally{p=B}},c.unstable_requestPaint=function(){h=!0},c.unstable_runWithPriority=function(m,D){switch(m){case 1:case 2:case 3:case 4:case 5:break;default:m=3}var B=p;p=m;try{return D()}finally{p=B}},c.unstable_scheduleCallback=function(m,D,B){var T=c.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?T+B:T):B=T,m){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=B+A,m={id:C++,callback:D,priorityLevel:m,startTime:B,expirationTime:A,sortIndex:-1},B>T?(m.sortIndex=B,i(b,m),a(d)===null&&m===a(b)&&(g?(H(q),q=-1):g=!0,_(R,B-T))):(m.sortIndex=A,i(d,m),z||M||(z=!0,U||(U=!0,O()))),m},c.unstable_shouldYield=P,c.unstable_wrapCallback=function(m){var D=p;return function(){var B=p;p=D;try{return m.apply(this,arguments)}finally{p=B}}}})(os)),os}var qd;function Sh(){return qd||(qd=1,xs.exports=_h()),xs.exports}var fs={exports:{}},Kt={};var Id;function wh(){if(Id)return Kt;Id=1;var c=Os();function i(d){var b="https://react.dev/errors/"+d;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)b+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+d+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function o(d,b,C){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:w==null?null:""+w,children:d,containerInfo:b,implementation:C}}var v=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(d,b){if(d==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Kt.createPortal=function(d,b){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(i(299));return o(d,b,null,C)},Kt.flushSync=function(d){var b=v.T,C=r.p;try{if(v.T=null,r.p=2,d)return d()}finally{v.T=b,r.p=C,r.d.f()}},Kt.preconnect=function(d,b){typeof d=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,r.d.C(d,b))},Kt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Kt.preinit=function(d,b){if(typeof d=="string"&&b&&typeof b.as=="string"){var C=b.as,w=y(C,b.crossOrigin),p=typeof b.integrity=="string"?b.integrity:void 0,M=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;C==="style"?r.d.S(d,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:w,integrity:p,fetchPriority:M}):C==="script"&&r.d.X(d,{crossOrigin:w,integrity:p,fetchPriority:M,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Kt.preinitModule=function(d,b){if(typeof d=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var C=y(b.as,b.crossOrigin);r.d.M(d,{crossOrigin:C,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&r.d.M(d)},Kt.preload=function(d,b){if(typeof d=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var C=b.as,w=y(C,b.crossOrigin);r.d.L(d,C,{crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Kt.preloadModule=function(d,b){if(typeof d=="string")if(b){var C=y(b.as,b.crossOrigin);r.d.m(d,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:C,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else r.d.m(d)},Kt.requestFormReset=function(d){r.d.r(d)},Kt.unstable_batchedUpdates=function(d,b){return d(b)},Kt.useFormState=function(d,b,C){return v.H.useFormState(d,b,C)},Kt.useFormStatus=function(){return v.H.useHostTransitionStatus()},Kt.version="19.2.3",Kt}var Rd;function Ch(){if(Rd)return fs.exports;Rd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),fs.exports=wh(),fs.exports}var Gd;function jh(){if(Gd)return lr;Gd=1;var c=Sh(),i=Os(),a=Ch();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(r(188))}function b(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var x=u.alternate;if(x===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===x.child){for(x=u.child;x;){if(x===n)return d(u),e;if(x===l)return d(u),t;x=x.sibling}throw Error(r(188))}if(n.return!==l.return)n=u,l=x;else{for(var j=!1,L=u.child;L;){if(L===n){j=!0,n=u,l=x;break}if(L===l){j=!0,l=u,n=x;break}L=L.sibling}if(!j){for(L=x.child;L;){if(L===n){j=!0,n=x,l=u;break}if(L===l){j=!0,l=x,n=u;break}L=L.sibling}if(!j)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function C(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=C(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,p=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),G=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case E:return"Profiler";case h:return"StrictMode";case R:return"Suspense";case U:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case G:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var _=Array.isArray,m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},T=[],A=-1;function S(e){return{current:e}}function N(e){0>A||(e.current=T[A],T[A]=null,A--)}function I(e,t){A++,T[A]=e.current,e.current=t}var Z=S(null),W=S(null),ee=S(null),ie=S(null);function oe(e,t){switch(I(ee,t),I(W,e),I(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ed(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ed(t),e=td(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}N(Z),I(Z,e)}function fe(){N(Z),N(W),N(ee)}function me(e){e.memoizedState!==null&&I(ie,e);var t=Z.current,n=td(t,e.type);t!==n&&(I(W,e),I(Z,n))}function he(e){W.current===e&&(N(Z),N(W)),ie.current===e&&(N(ie),Fi._currentValue=B)}var Te,st;function Ie(e){if(Te===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Te=t&&t[1]||"",st=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+e+st}var xt=!1;function et(e,t){if(!e||xt)return"";xt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(re){var ae=re}Reflect.construct(e,[],se)}else{try{se.call()}catch(re){ae=re}e.call(se.prototype)}}else{try{throw Error()}catch(re){ae=re}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(re){if(re&&ae&&typeof re.stack=="string")return[re.stack,ae.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),j=x[0],L=x[1];if(j&&L){var X=j.split(`
`),le=L.split(`
`);for(u=l=0;l<X.length&&!X[l].includes("DetermineComponentFrameRoot");)l++;for(;u<le.length&&!le[u].includes("DetermineComponentFrameRoot");)u++;if(l===X.length||u===le.length)for(l=X.length-1,u=le.length-1;1<=l&&0<=u&&X[l]!==le[u];)u--;for(;1<=l&&0<=u;l--,u--)if(X[l]!==le[u]){if(l!==1||u!==1)do if(l--,u--,0>u||X[l]!==le[u]){var ce=`
`+X[l].replace(" at new "," at ");return e.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",e.displayName)),ce}while(1<=l&&0<=u);break}}}finally{xt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ie(n):""}function At(e,t){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==t&&t!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return et(e.type,!1);case 11:return et(e.type.render,!1);case 1:return et(e.type,!0);case 31:return Ie("Activity");default:return""}}function wt(e){try{var t="",n=null;do t+=At(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ht=Object.prototype.hasOwnProperty,Zt=c.unstable_scheduleCallback,Rn=c.unstable_cancelCallback,Xn=c.unstable_shouldYield,Jn=c.unstable_requestPaint,Qe=c.unstable_now,vn=c.unstable_getCurrentPriorityLevel,Dl=c.unstable_ImmediatePriority,rl=c.unstable_UserBlockingPriority,cl=c.unstable_NormalPriority,Nl=c.unstable_LowPriority,ia=c.unstable_IdlePriority,Vn=c.log,fi=c.unstable_setDisableYieldValue,Gn=null,qt=null;function yn(e){if(typeof Vn=="function"&&fi(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Gn,e)}catch{}}var Oe=Math.clz32?Math.clz32:qe,de=Math.log,Be=Math.LN2;function qe(e){return e>>>=0,e===0?32:31-(de(e)/Be|0)|0}var Se=256,_e=262144,Ne=4194304;function ze(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,x=e.suspendedLanes,j=e.pingedLanes;e=e.warmLanes;var L=l&134217727;return L!==0?(l=L&~x,l!==0?u=ze(l):(j&=L,j!==0?u=ze(j):n||(n=L&~e,n!==0&&(u=ze(n))))):(L=l&~x,L!==0?u=ze(L):j!==0?u=ze(j):n||(n=l&~e,n!==0&&(u=ze(n)))),u===0?0:t!==0&&t!==u&&(t&x)===0&&(x=u&-u,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:u}function We(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ke(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function Xe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function It(e,t,n,l,u,x){var j=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var L=e.entanglements,X=e.expirationTimes,le=e.hiddenUpdates;for(n=j&~n;0<n;){var ce=31-Oe(n),se=1<<ce;L[ce]=0,X[ce]=-1;var ae=le[ce];if(ae!==null)for(le[ce]=null,ce=0;ce<ae.length;ce++){var re=ae[ce];re!==null&&(re.lane&=-536870913)}n&=~se}l!==0&&Fe(e,l,0),x!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=x&~(j&~t))}function Fe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Oe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Tt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Oe(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function at(e,t){var n=t&-t;return n=(n&42)!==0?1:tt(n),(n&(e.suspendedLanes|t))!==0?0:n}function tt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function On(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:Cd(e.type))}function ra(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var ln=Math.random().toString(36).slice(2),bt="__reactFiber$"+ln,Le="__reactProps$"+ln,ul="__reactContainer$"+ln,di="__reactEvents$"+ln,Qn="__reactListeners$"+ln,$0="__reactHandles$"+ln,hr="__reactResources$"+ln,ca="__reactMarker$"+ln;function hi(e){delete e[bt],delete e[Le],delete e[di],delete e[Qn],delete e[$0]}function Al(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ul]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ud(e);e!==null;){if(n=e[bt])return n;e=ud(e)}return t}e=n,n=e.parentNode}return null}function Tl(e){if(e=e[bt]||e[ul]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function be(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function pe(e){var t=e[hr];return t||(t=e[hr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Me(e){e[ca]=!0}var Rt=new Set,Ct={};function Jt(e,t){Ll(e,t),Ll(e+"Capture",t)}function Ll(e,t){for(Ct[e]=t,e=0;e<t.length;e++)Rt.add(t[e])}var s1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ys={},Us={};function x1(e){return ht.call(Us,e)?!0:ht.call(Ys,e)?!1:s1.test(e)?Us[e]=!0:(Ys[e]=!0,!1)}function mr(e,t,n){if(x1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function br(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function sl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zs(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(j){n=""+j,x.call(this,j)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(j){n=""+j},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ec(e){if(!e._valueTracker){var t=Zs(e)?"checked":"value";e._valueTracker=o1(e,t,""+e[t])}}function Ks(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Zs(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function gr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var f1=/[\n"\\]/g;function _n(e){return e.replace(f1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function tc(e,t,n,l,u,x,j,L){e.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.type=j:e.removeAttribute("type"),t!=null?j==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pn(t)):e.value!==""+pn(t)&&(e.value=""+pn(t)):j!=="submit"&&j!=="reset"||e.removeAttribute("value"),t!=null?nc(e,j,pn(t)):n!=null?nc(e,j,pn(n)):l!=null&&e.removeAttribute("value"),u==null&&x!=null&&(e.defaultChecked=!!x),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+pn(L):e.removeAttribute("name")}function Xs(e,t,n,l,u,x,j,L){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){ec(e);return}n=n!=null?""+pn(n):"",t=t!=null?""+pn(t):n,L||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=L?e.checked:!!l,e.defaultChecked=!!l,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(e.name=j),ec(e)}function nc(e,t,n){t==="number"&&gr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Js(e,t,n){if(t!=null&&(t=""+pn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+pn(n):""}function Vs(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(_(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=pn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),ec(e)}function za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var d1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qs(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||d1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ws(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Qs(e,u,l)}else for(var x in t)t.hasOwnProperty(x)&&Qs(e,x,t[x])}function lc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),m1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vr(e){return m1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xl(){}var ac=null;function ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Na=null;function Ps(e){var t=Tl(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(tc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Le]||null;if(!u)throw Error(r(90));tc(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Ks(l)}break e;case"textarea":Js(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var rc=!1;function Fs(e,t,n){if(rc)return e(t,n);rc=!0;try{var l=e(t);return l}finally{if(rc=!1,(Da!==null||Na!==null)&&(i0(),Da&&(t=Da,e=Na,Na=Da=null,Ps(t),e)))for(t=0;t<e.length;t++)Ps(e[t])}}function mi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Le]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var ol=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(ol)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){cc=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{cc=!1}var El=null,uc=null,yr=null;function $s(){if(yr)return yr;var e,t=uc,n=t.length,l,u="value"in El?El.value:El.textContent,x=u.length;for(e=0;e<n&&t[e]===u[e];e++);var j=n-e;for(l=1;l<=j&&t[n-l]===u[x-l];l++);return yr=u.slice(e,1<l?1-l:void 0)}function pr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _r(){return!0}function ex(){return!1}function Qt(e){function t(n,l,u,x,j){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=x,this.target=j,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(n=e[L],this[L]=n?n(x):x[L]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?_r:ex,this.isPropagationStopped=ex,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),t}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sr=Qt(ua),gi=w({},ua,{view:0,detail:0}),b1=Qt(gi),sc,xc,vi,wr=w({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(sc=e.screenX-vi.screenX,xc=e.screenY-vi.screenY):xc=sc=0,vi=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:xc}}),tx=Qt(wr),g1=w({},wr,{dataTransfer:0}),v1=Qt(g1),y1=w({},gi,{relatedTarget:0}),oc=Qt(y1),p1=w({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),_1=Qt(p1),S1=w({},ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w1=Qt(S1),C1=w({},ua,{data:0}),nx=Qt(C1),j1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z1[e])?!!t[e]:!1}function fc(){return D1}var N1=w({},gi,{key:function(e){if(e.key){var t=j1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A1=Qt(N1),T1=w({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lx=Qt(T1),L1=w({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),E1=Qt(L1),k1=w({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),B1=Qt(k1),q1=w({},wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),I1=Qt(q1),R1=w({},ua,{newState:0,oldState:0}),G1=Qt(R1),O1=[9,13,27,32],dc=ol&&"CompositionEvent"in window,yi=null;ol&&"documentMode"in document&&(yi=document.documentMode);var H1=ol&&"TextEvent"in window&&!yi,ax=ol&&(!dc||yi&&8<yi&&11>=yi),ix=" ",rx=!1;function cx(e,t){switch(e){case"keyup":return O1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ux(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function Y1(e,t){switch(e){case"compositionend":return ux(t);case"keypress":return t.which!==32?null:(rx=!0,ix);case"textInput":return e=t.data,e===ix&&rx?null:e;default:return null}}function U1(e,t){if(Aa)return e==="compositionend"||!dc&&cx(e,t)?(e=$s(),yr=uc=El=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ax&&t.locale!=="ko"?null:t.data;default:return null}}var Z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z1[e.type]:t==="textarea"}function xx(e,t,n,l){Da?Na?Na.push(l):Na=[l]:Da=l,t=f0(t,"onChange"),0<t.length&&(n=new Sr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var pi=null,_i=null;function K1(e){Vf(e,0)}function Cr(e){var t=be(e);if(Ks(t))return e}function ox(e,t){if(e==="change")return t}var fx=!1;if(ol){var hc;if(ol){var mc="oninput"in document;if(!mc){var dx=document.createElement("div");dx.setAttribute("oninput","return;"),mc=typeof dx.oninput=="function"}hc=mc}else hc=!1;fx=hc&&(!document.documentMode||9<document.documentMode)}function hx(){pi&&(pi.detachEvent("onpropertychange",mx),_i=pi=null)}function mx(e){if(e.propertyName==="value"&&Cr(_i)){var t=[];xx(t,_i,e,ic(e)),Fs(K1,t)}}function X1(e,t,n){e==="focusin"?(hx(),pi=t,_i=n,pi.attachEvent("onpropertychange",mx)):e==="focusout"&&hx()}function J1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cr(_i)}function V1(e,t){if(e==="click")return Cr(t)}function Q1(e,t){if(e==="input"||e==="change")return Cr(t)}function W1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:W1;function Si(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!ht.call(t,u)||!an(e[u],t[u]))return!1}return!0}function bx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gx(e,t){var n=bx(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bx(n)}}function vx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=gr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gr(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var P1=ol&&"documentMode"in document&&11>=document.documentMode,Ta=null,gc=null,wi=null,vc=!1;function px(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vc||Ta==null||Ta!==gr(l)||(l=Ta,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wi&&Si(wi,l)||(wi=l,l=f0(gc,"onSelect"),0<l.length&&(t=new Sr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Ta)))}function sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var La={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},yc={},_x={};ol&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function xa(e){if(yc[e])return yc[e];if(!La[e])return e;var t=La[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _x)return yc[e]=t[n];return e}var Sx=xa("animationend"),wx=xa("animationiteration"),Cx=xa("animationstart"),F1=xa("transitionrun"),$1=xa("transitionstart"),e2=xa("transitioncancel"),jx=xa("transitionend"),Mx=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function Hn(e,t){Mx.set(e,t),Jt(t,[e])}var jr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],Ea=0,_c=0;function Mr(){for(var e=Ea,t=_c=Ea=0;t<e;){var n=Sn[t];Sn[t++]=null;var l=Sn[t];Sn[t++]=null;var u=Sn[t];Sn[t++]=null;var x=Sn[t];if(Sn[t++]=null,l!==null&&u!==null){var j=l.pending;j===null?u.next=u:(u.next=j.next,j.next=u),l.pending=u}x!==0&&zx(n,u,x)}}function zr(e,t,n,l){Sn[Ea++]=e,Sn[Ea++]=t,Sn[Ea++]=n,Sn[Ea++]=l,_c|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Sc(e,t,n,l){return zr(e,t,n,l),Dr(e)}function oa(e,t){return zr(e,null,null,t),Dr(e)}function zx(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(u=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,u&&t!==null&&(u=31-Oe(n),e=x.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),x):null}function Dr(e){if(50<Ki)throw Ki=0,Tu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ka={};function t2(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,n,l){return new t2(e,t,n,l)}function wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fl(e,t){var n=e.alternate;return n===null?(n=rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Dx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Nr(e,t,n,l,u,x){var j=0;if(l=e,typeof e=="function")wc(e)&&(j=1);else if(typeof e=="string")j=rh(e,n,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=rn(31,n,t,u),e.elementType=F,e.lanes=x,e;case g:return fa(n.children,u,x,t);case h:j=8,u|=24;break;case E:return e=rn(12,n,t,u|2),e.elementType=E,e.lanes=x,e;case R:return e=rn(13,n,t,u),e.elementType=R,e.lanes=x,e;case U:return e=rn(19,n,t,u),e.elementType=U,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:j=10;break e;case H:j=9;break e;case k:j=11;break e;case q:j=14;break e;case J:j=16,l=null;break e}j=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=rn(j,n,t,u),t.elementType=e,t.type=l,t.lanes=x,t}function fa(e,t,n,l){return e=rn(7,e,l,t),e.lanes=n,e}function Cc(e,t,n){return e=rn(6,e,null,t),e.lanes=n,e}function Nx(e){var t=rn(18,null,null,0);return t.stateNode=e,t}function jc(e,t,n){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ax=new WeakMap;function wn(e,t){if(typeof e=="object"&&e!==null){var n=Ax.get(e);return n!==void 0?n:(t={value:e,source:t,stack:wt(t)},Ax.set(e,t),t)}return{value:e,source:t,stack:wt(t)}}var Ba=[],qa=0,Ar=null,Ci=0,Cn=[],jn=0,kl=null,Wn=1,Pn="";function dl(e,t){Ba[qa++]=Ci,Ba[qa++]=Ar,Ar=e,Ci=t}function Tx(e,t,n){Cn[jn++]=Wn,Cn[jn++]=Pn,Cn[jn++]=kl,kl=e;var l=Wn;e=Pn;var u=32-Oe(l)-1;l&=~(1<<u),n+=1;var x=32-Oe(t)+u;if(30<x){var j=u-u%5;x=(l&(1<<j)-1).toString(32),l>>=j,u-=j,Wn=1<<32-Oe(t)+u|n<<u|l,Pn=x+e}else Wn=1<<x|n<<u|l,Pn=e}function Mc(e){e.return!==null&&(dl(e,1),Tx(e,1,0))}function zc(e){for(;e===Ar;)Ar=Ba[--qa],Ba[qa]=null,Ci=Ba[--qa],Ba[qa]=null;for(;e===kl;)kl=Cn[--jn],Cn[jn]=null,Pn=Cn[--jn],Cn[jn]=null,Wn=Cn[--jn],Cn[jn]=null}function Lx(e,t){Cn[jn++]=Wn,Cn[jn++]=Pn,Cn[jn++]=kl,Wn=t.id,Pn=t.overflow,kl=e}var Gt=null,ot=null,Ue=!1,Bl=null,Mn=!1,Dc=Error(r(519));function ql(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ji(wn(t,e)),Dc}function Ex(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[bt]=e,t[Le]=l,n){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(n=0;n<Ji.length;n++)Ge(Ji[n],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),Xs(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Vs(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Ff(t.textContent,n)?(l.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),l.onScroll!=null&&Ge("scroll",t),l.onScrollEnd!=null&&Ge("scrollend",t),l.onClick!=null&&(t.onclick=xl),t=!0):t=!1,t||ql(e,!0)}function kx(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Gt=Gt.return}}function Ia(e){if(e!==Gt)return!1;if(!Ue)return kx(e),Ue=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Xu(e.type,e.memoizedProps)),n=!n),n&&ot&&ql(e),kx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ot=cd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ot=cd(e)}else t===27?(t=ot,Wl(e.type)?(e=Pu,Pu=null,ot=e):ot=t):ot=Gt?Dn(e.stateNode.nextSibling):null;return!0}function da(){ot=Gt=null,Ue=!1}function Nc(){var e=Bl;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),Bl=null),e}function ji(e){Bl===null?Bl=[e]:Bl.push(e)}var Ac=S(null),ha=null,hl=null;function Il(e,t,n){I(Ac,t._currentValue),t._currentValue=n}function ml(e){e._currentValue=Ac.current,N(Ac)}function Tc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Lc(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var x=u.dependencies;if(x!==null){var j=u.child;x=x.firstContext;e:for(;x!==null;){var L=x;x=u;for(var X=0;X<t.length;X++)if(L.context===t[X]){x.lanes|=n,L=x.alternate,L!==null&&(L.lanes|=n),Tc(x.return,n,e),l||(j=null);break e}x=L.next}}else if(u.tag===18){if(j=u.return,j===null)throw Error(r(341));j.lanes|=n,x=j.alternate,x!==null&&(x.lanes|=n),Tc(j,n,e),j=null}else j=u.child;if(j!==null)j.return=u;else for(j=u;j!==null;){if(j===e){j=null;break}if(u=j.sibling,u!==null){u.return=j.return,j=u;break}j=j.return}u=j}}function Ra(e,t,n,l){e=null;for(var u=t,x=!1;u!==null;){if(!x){if((u.flags&524288)!==0)x=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var j=u.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var L=u.type;an(u.pendingProps.value,j.value)||(e!==null?e.push(L):e=[L])}}else if(u===ie.current){if(j=u.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Fi):e=[Fi])}u=u.return}e!==null&&Lc(t,e,n,l),t.flags|=262144}function Tr(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ma(e){ha=e,hl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return Bx(ha,e)}function Lr(e,t){return ha===null&&ma(e),Bx(e,t)}function Bx(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},hl===null){if(e===null)throw Error(r(308));hl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hl=hl.next=t;return n}var n2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},l2=c.unstable_scheduleCallback,a2=c.unstable_NormalPriority,jt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ec(){return{controller:new n2,data:new Map,refCount:0}}function Mi(e){e.refCount--,e.refCount===0&&l2(a2,function(){e.controller.abort()})}var zi=null,kc=0,Ga=0,Oa=null;function i2(e,t){if(zi===null){var n=zi=[];kc=0,Ga=Iu(),Oa={status:"pending",value:void 0,then:function(l){n.push(l)}}}return kc++,t.then(qx,qx),t}function qx(){if(--kc===0&&zi!==null){Oa!==null&&(Oa.status="fulfilled");var e=zi;zi=null,Ga=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function r2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Ix=m.S;m.S=function(e,t){Sf=Qe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&i2(e,t),Ix!==null&&Ix(e,t)};var ba=S(null);function Bc(){var e=ba.current;return e!==null?e:ut.pooledCache}function Er(e,t){t===null?I(ba,ba.current):I(ba,t.pool)}function Rx(){var e=Bc();return e===null?null:{parent:jt._currentValue,pool:e}}var Ha=Error(r(460)),qc=Error(r(474)),kr=Error(r(542)),Br={then:function(){}};function Gx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ox(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(xl,xl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yx(e),e;default:if(typeof t.status=="string")t.then(xl,xl);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yx(e),e}throw va=t,Ha}}function ga(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(va=n,Ha):n}}var va=null;function Hx(){if(va===null)throw Error(r(459));var e=va;return va=null,e}function Yx(e){if(e===Ha||e===kr)throw Error(r(483))}var Ya=null,Di=0;function qr(e){var t=Di;return Di+=1,Ya===null&&(Ya=[]),Ox(Ya,e,t)}function Ni(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ir(e,t){throw t.$$typeof===p?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ux(e){function t($,Q){if(e){var ne=$.deletions;ne===null?($.deletions=[Q],$.flags|=16):ne.push(Q)}}function n($,Q){if(!e)return null;for(;Q!==null;)t($,Q),Q=Q.sibling;return null}function l($){for(var Q=new Map;$!==null;)$.key!==null?Q.set($.key,$):Q.set($.index,$),$=$.sibling;return Q}function u($,Q){return $=fl($,Q),$.index=0,$.sibling=null,$}function x($,Q,ne){return $.index=ne,e?(ne=$.alternate,ne!==null?(ne=ne.index,ne<Q?($.flags|=67108866,Q):ne):($.flags|=67108866,Q)):($.flags|=1048576,Q)}function j($){return e&&$.alternate===null&&($.flags|=67108866),$}function L($,Q,ne,ue){return Q===null||Q.tag!==6?(Q=Cc(ne,$.mode,ue),Q.return=$,Q):(Q=u(Q,ne),Q.return=$,Q)}function X($,Q,ne,ue){var Ce=ne.type;return Ce===g?ce($,Q,ne.props.children,ue,ne.key):Q!==null&&(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===J&&ga(Ce)===Q.type)?(Q=u(Q,ne.props),Ni(Q,ne),Q.return=$,Q):(Q=Nr(ne.type,ne.key,ne.props,null,$.mode,ue),Ni(Q,ne),Q.return=$,Q)}function le($,Q,ne,ue){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ne.containerInfo||Q.stateNode.implementation!==ne.implementation?(Q=jc(ne,$.mode,ue),Q.return=$,Q):(Q=u(Q,ne.children||[]),Q.return=$,Q)}function ce($,Q,ne,ue,Ce){return Q===null||Q.tag!==7?(Q=fa(ne,$.mode,ue,Ce),Q.return=$,Q):(Q=u(Q,ne),Q.return=$,Q)}function se($,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Cc(""+Q,$.mode,ne),Q.return=$,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:return ne=Nr(Q.type,Q.key,Q.props,null,$.mode,ne),Ni(ne,Q),ne.return=$,ne;case z:return Q=jc(Q,$.mode,ne),Q.return=$,Q;case J:return Q=ga(Q),se($,Q,ne)}if(_(Q)||O(Q))return Q=fa(Q,$.mode,ne,null),Q.return=$,Q;if(typeof Q.then=="function")return se($,qr(Q),ne);if(Q.$$typeof===G)return se($,Lr($,Q),ne);Ir($,Q)}return null}function ae($,Q,ne,ue){var Ce=Q!==null?Q.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ce!==null?null:L($,Q,""+ne,ue);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:return ne.key===Ce?X($,Q,ne,ue):null;case z:return ne.key===Ce?le($,Q,ne,ue):null;case J:return ne=ga(ne),ae($,Q,ne,ue)}if(_(ne)||O(ne))return Ce!==null?null:ce($,Q,ne,ue,null);if(typeof ne.then=="function")return ae($,Q,qr(ne),ue);if(ne.$$typeof===G)return ae($,Q,Lr($,ne),ue);Ir($,ne)}return null}function re($,Q,ne,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return $=$.get(ne)||null,L(Q,$,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:return $=$.get(ue.key===null?ne:ue.key)||null,X(Q,$,ue,Ce);case z:return $=$.get(ue.key===null?ne:ue.key)||null,le(Q,$,ue,Ce);case J:return ue=ga(ue),re($,Q,ne,ue,Ce)}if(_(ue)||O(ue))return $=$.get(ne)||null,ce(Q,$,ue,Ce,null);if(typeof ue.then=="function")return re($,Q,ne,qr(ue),Ce);if(ue.$$typeof===G)return re($,Q,ne,Lr(Q,ue),Ce);Ir(Q,ue)}return null}function ge($,Q,ne,ue){for(var Ce=null,Je=null,ve=Q,ke=Q=0,Ye=null;ve!==null&&ke<ne.length;ke++){ve.index>ke?(Ye=ve,ve=null):Ye=ve.sibling;var Ve=ae($,ve,ne[ke],ue);if(Ve===null){ve===null&&(ve=Ye);break}e&&ve&&Ve.alternate===null&&t($,ve),Q=x(Ve,Q,ke),Je===null?Ce=Ve:Je.sibling=Ve,Je=Ve,ve=Ye}if(ke===ne.length)return n($,ve),Ue&&dl($,ke),Ce;if(ve===null){for(;ke<ne.length;ke++)ve=se($,ne[ke],ue),ve!==null&&(Q=x(ve,Q,ke),Je===null?Ce=ve:Je.sibling=ve,Je=ve);return Ue&&dl($,ke),Ce}for(ve=l(ve);ke<ne.length;ke++)Ye=re(ve,$,ke,ne[ke],ue),Ye!==null&&(e&&Ye.alternate!==null&&ve.delete(Ye.key===null?ke:Ye.key),Q=x(Ye,Q,ke),Je===null?Ce=Ye:Je.sibling=Ye,Je=Ye);return e&&ve.forEach(function(ta){return t($,ta)}),Ue&&dl($,ke),Ce}function je($,Q,ne,ue){if(ne==null)throw Error(r(151));for(var Ce=null,Je=null,ve=Q,ke=Q=0,Ye=null,Ve=ne.next();ve!==null&&!Ve.done;ke++,Ve=ne.next()){ve.index>ke?(Ye=ve,ve=null):Ye=ve.sibling;var ta=ae($,ve,Ve.value,ue);if(ta===null){ve===null&&(ve=Ye);break}e&&ve&&ta.alternate===null&&t($,ve),Q=x(ta,Q,ke),Je===null?Ce=ta:Je.sibling=ta,Je=ta,ve=Ye}if(Ve.done)return n($,ve),Ue&&dl($,ke),Ce;if(ve===null){for(;!Ve.done;ke++,Ve=ne.next())Ve=se($,Ve.value,ue),Ve!==null&&(Q=x(Ve,Q,ke),Je===null?Ce=Ve:Je.sibling=Ve,Je=Ve);return Ue&&dl($,ke),Ce}for(ve=l(ve);!Ve.done;ke++,Ve=ne.next())Ve=re(ve,$,ke,Ve.value,ue),Ve!==null&&(e&&Ve.alternate!==null&&ve.delete(Ve.key===null?ke:Ve.key),Q=x(Ve,Q,ke),Je===null?Ce=Ve:Je.sibling=Ve,Je=Ve);return e&&ve.forEach(function(gh){return t($,gh)}),Ue&&dl($,ke),Ce}function ct($,Q,ne,ue){if(typeof ne=="object"&&ne!==null&&ne.type===g&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:e:{for(var Ce=ne.key;Q!==null;){if(Q.key===Ce){if(Ce=ne.type,Ce===g){if(Q.tag===7){n($,Q.sibling),ue=u(Q,ne.props.children),ue.return=$,$=ue;break e}}else if(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===J&&ga(Ce)===Q.type){n($,Q.sibling),ue=u(Q,ne.props),Ni(ue,ne),ue.return=$,$=ue;break e}n($,Q);break}else t($,Q);Q=Q.sibling}ne.type===g?(ue=fa(ne.props.children,$.mode,ue,ne.key),ue.return=$,$=ue):(ue=Nr(ne.type,ne.key,ne.props,null,$.mode,ue),Ni(ue,ne),ue.return=$,$=ue)}return j($);case z:e:{for(Ce=ne.key;Q!==null;){if(Q.key===Ce)if(Q.tag===4&&Q.stateNode.containerInfo===ne.containerInfo&&Q.stateNode.implementation===ne.implementation){n($,Q.sibling),ue=u(Q,ne.children||[]),ue.return=$,$=ue;break e}else{n($,Q);break}else t($,Q);Q=Q.sibling}ue=jc(ne,$.mode,ue),ue.return=$,$=ue}return j($);case J:return ne=ga(ne),ct($,Q,ne,ue)}if(_(ne))return ge($,Q,ne,ue);if(O(ne)){if(Ce=O(ne),typeof Ce!="function")throw Error(r(150));return ne=Ce.call(ne),je($,Q,ne,ue)}if(typeof ne.then=="function")return ct($,Q,qr(ne),ue);if(ne.$$typeof===G)return ct($,Q,Lr($,ne),ue);Ir($,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,Q!==null&&Q.tag===6?(n($,Q.sibling),ue=u(Q,ne),ue.return=$,$=ue):(n($,Q),ue=Cc(ne,$.mode,ue),ue.return=$,$=ue),j($)):n($,Q)}return function($,Q,ne,ue){try{Di=0;var Ce=ct($,Q,ne,ue);return Ya=null,Ce}catch(ve){if(ve===Ha||ve===kr)throw ve;var Je=rn(29,ve,null,$.mode);return Je.lanes=ue,Je.return=$,Je}}}var ya=Ux(!0),Zx=Ux(!1),Rl=!1;function Ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ol(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Dr(e),zx(e,null,n),t}return zr(e,l,t,n),Dr(e)}function Ai(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Tt(e,n)}}function Gc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var j={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?u=x=j:x=x.next=j,n=n.next}while(n!==null);x===null?u=x=t:x=x.next=t}else u=x=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oc=!1;function Ti(){if(Oc){var e=Oa;if(e!==null)throw e}}function Li(e,t,n,l){Oc=!1;var u=e.updateQueue;Rl=!1;var x=u.firstBaseUpdate,j=u.lastBaseUpdate,L=u.shared.pending;if(L!==null){u.shared.pending=null;var X=L,le=X.next;X.next=null,j===null?x=le:j.next=le,j=X;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,L=ce.lastBaseUpdate,L!==j&&(L===null?ce.firstBaseUpdate=le:L.next=le,ce.lastBaseUpdate=X))}if(x!==null){var se=u.baseState;j=0,ce=le=X=null,L=x;do{var ae=L.lane&-536870913,re=ae!==L.lane;if(re?(He&ae)===ae:(l&ae)===ae){ae!==0&&ae===Ga&&(Oc=!0),ce!==null&&(ce=ce.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var ge=e,je=L;ae=t;var ct=n;switch(je.tag){case 1:if(ge=je.payload,typeof ge=="function"){se=ge.call(ct,se,ae);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=je.payload,ae=typeof ge=="function"?ge.call(ct,se,ae):ge,ae==null)break e;se=w({},se,ae);break e;case 2:Rl=!0}}ae=L.callback,ae!==null&&(e.flags|=64,re&&(e.flags|=8192),re=u.callbacks,re===null?u.callbacks=[ae]:re.push(ae))}else re={lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ce===null?(le=ce=re,X=se):ce=ce.next=re,j|=ae;if(L=L.next,L===null){if(L=u.shared.pending,L===null)break;re=L,L=re.next,re.next=null,u.lastBaseUpdate=re,u.shared.pending=null}}while(!0);ce===null&&(X=se),u.baseState=X,u.firstBaseUpdate=le,u.lastBaseUpdate=ce,x===null&&(u.shared.lanes=0),Kl|=j,e.lanes=j,e.memoizedState=se}}function Kx(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Xx(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Kx(n[e],t)}var Ua=S(null),Rr=S(0);function Jx(e,t){e=Cl,I(Rr,e),I(Ua,t),Cl=e|t.baseLanes}function Hc(){I(Rr,Cl),I(Ua,Ua.current)}function Yc(){Cl=Rr.current,N(Ua),N(Rr)}var cn=S(null),zn=null;function Hl(e){var t=e.alternate;I(yt,yt.current&1),I(cn,e),zn===null&&(t===null||Ua.current!==null||t.memoizedState!==null)&&(zn=e)}function Uc(e){I(yt,yt.current),I(cn,e),zn===null&&(zn=e)}function Vx(e){e.tag===22?(I(yt,yt.current),I(cn,e),zn===null&&(zn=e)):Yl()}function Yl(){I(yt,yt.current),I(cn,cn.current)}function un(e){N(cn),zn===e&&(zn=null),N(yt)}var yt=S(0);function Gr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Qu(n)||Wu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=0,Ee=null,it=null,Mt=null,Or=!1,Za=!1,pa=!1,Hr=0,Ei=0,Ka=null,c2=0;function gt(){throw Error(r(321))}function Zc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!an(e[n],t[n]))return!1;return!0}function Kc(e,t,n,l,u,x){return bl=x,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,m.H=e===null||e.memoizedState===null?Lo:ru,pa=!1,x=n(l,u),pa=!1,Za&&(x=Wx(t,n,l,u)),Qx(e),x}function Qx(e){m.H=qi;var t=it!==null&&it.next!==null;if(bl=0,Mt=it=Ee=null,Or=!1,Ei=0,Ka=null,t)throw Error(r(300));e===null||zt||(e=e.dependencies,e!==null&&Tr(e)&&(zt=!0))}function Wx(e,t,n,l){Ee=e;var u=0;do{if(Za&&(Ka=null),Ei=0,Za=!1,25<=u)throw Error(r(301));if(u+=1,Mt=it=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}m.H=Eo,x=t(n,l)}while(Za);return x}function u2(){var e=m.H,t=e.useState()[0];return t=typeof t.then=="function"?ki(t):t,e=e.useState()[0],(it!==null?it.memoizedState:null)!==e&&(Ee.flags|=1024),t}function Xc(){var e=Hr!==0;return Hr=0,e}function Jc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Vc(e){if(Or){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Or=!1}bl=0,Mt=it=Ee=null,Za=!1,Ei=Hr=0,Ka=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ee.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function pt(){if(it===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=Mt===null?Ee.memoizedState:Mt.next;if(t!==null)Mt=t,it=e;else{if(e===null)throw Ee.alternate===null?Error(r(467)):Error(r(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Mt===null?Ee.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Yr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ki(e){var t=Ei;return Ei+=1,Ka===null&&(Ka=[]),e=Ox(Ka,e,t),t=Ee,(Mt===null?t.memoizedState:Mt.next)===null&&(t=t.alternate,m.H=t===null||t.memoizedState===null?Lo:ru),e}function Ur(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ki(e);if(e.$$typeof===G)return Ot(e)}throw Error(r(438,String(e)))}function Qc(e){var t=null,n=Ee.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Ee.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Yr(),Ee.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=P;return t.index++,n}function gl(e,t){return typeof t=="function"?t(e):t}function Zr(e){var t=pt();return Wc(t,it,e)}function Wc(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=e.baseQueue,x=l.pending;if(x!==null){if(u!==null){var j=u.next;u.next=x.next,x.next=j}t.baseQueue=u=x,l.pending=null}if(x=e.baseState,u===null)e.memoizedState=x;else{t=u.next;var L=j=null,X=null,le=t,ce=!1;do{var se=le.lane&-536870913;if(se!==le.lane?(He&se)===se:(bl&se)===se){var ae=le.revertLane;if(ae===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),se===Ga&&(ce=!0);else if((bl&ae)===ae){le=le.next,ae===Ga&&(ce=!0);continue}else se={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(L=X=se,j=x):X=X.next=se,Ee.lanes|=ae,Kl|=ae;se=le.action,pa&&n(x,se),x=le.hasEagerState?le.eagerState:n(x,se)}else ae={lane:se,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(L=X=ae,j=x):X=X.next=ae,Ee.lanes|=se,Kl|=se;le=le.next}while(le!==null&&le!==t);if(X===null?j=x:X.next=L,!an(x,e.memoizedState)&&(zt=!0,ce&&(n=Oa,n!==null)))throw n;e.memoizedState=x,e.baseState=j,e.baseQueue=X,l.lastRenderedState=x}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Pc(e){var t=pt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,x=t.memoizedState;if(u!==null){n.pending=null;var j=u=u.next;do x=e(x,j.action),j=j.next;while(j!==u);an(x,t.memoizedState)||(zt=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Px(e,t,n){var l=Ee,u=pt(),x=Ue;if(x){if(n===void 0)throw Error(r(407));n=n()}else n=t();var j=!an((it||u).memoizedState,n);if(j&&(u.memoizedState=n,zt=!0),u=u.queue,eu(eo.bind(null,l,u,e),[e]),u.getSnapshot!==t||j||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},$x.bind(null,l,u,n,t),null),ut===null)throw Error(r(349));x||(bl&127)!==0||Fx(l,t,n)}return n}function Fx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t=Yr(),Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $x(e,t,n,l){t.value=n,t.getSnapshot=l,to(t)&&no(e)}function eo(e,t,n){return n(function(){to(t)&&no(e)})}function to(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!an(e,n)}catch{return!0}}function no(e){var t=oa(e,2);t!==null&&en(t,e,2)}function Fc(e){var t=Vt();if(typeof e=="function"){var n=e;if(e=n(),pa){yn(!0);try{n()}finally{yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t}function lo(e,t,n,l){return e.baseState=n,Wc(e,it,typeof l=="function"?l:gl)}function s2(e,t,n,l,u){if(Jr(e))throw Error(r(485));if(e=t.action,e!==null){var x={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){x.listeners.push(j)}};m.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,ao(t,x)):(x.next=n.next,t.pending=n.next=x)}}function ao(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var x=m.T,j={};m.T=j;try{var L=n(u,l),X=m.S;X!==null&&X(j,L),io(e,t,L)}catch(le){$c(e,t,le)}finally{x!==null&&j.types!==null&&(x.types=j.types),m.T=x}}else try{x=n(u,l),io(e,t,x)}catch(le){$c(e,t,le)}}function io(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){ro(e,t,l)},function(l){return $c(e,t,l)}):ro(e,t,n)}function ro(e,t,n){t.status="fulfilled",t.value=n,co(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ao(e,n)))}function $c(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,co(t),t=t.next;while(t!==l)}e.action=null}function co(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function uo(e,t){return t}function so(e,t){if(Ue){var n=ut.formState;if(n!==null){e:{var l=Ee;if(Ue){if(ot){t:{for(var u=ot,x=Mn;u.nodeType!==8;){if(!x){u=null;break t}if(u=Dn(u.nextSibling),u===null){u=null;break t}}x=u.data,u=x==="F!"||x==="F"?u:null}if(u){ot=Dn(u.nextSibling),l=u.data==="F!";break e}}ql(l)}l=!1}l&&(t=n[0])}}return n=Vt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t},n.queue=l,n=No.bind(null,Ee,l),l.dispatch=n,l=Fc(!1),x=iu.bind(null,Ee,!1,l.queue),l=Vt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=s2.bind(null,Ee,u,x,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function xo(e){var t=pt();return oo(t,it,e)}function oo(e,t,n){if(t=Wc(e,t,uo)[0],e=Zr(gl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ki(t)}catch(j){throw j===Ha?kr:j}else l=t;t=pt();var u=t.queue,x=u.dispatch;return n!==t.memoizedState&&(Ee.flags|=2048,Xa(9,{destroy:void 0},x2.bind(null,u,n),null)),[l,x,e]}function x2(e,t){e.action=t}function fo(e){var t=pt(),n=it;if(n!==null)return oo(t,n,e);pt(),t=t.memoizedState,n=pt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Xa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=Yr(),Ee.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function ho(){return pt().memoizedState}function Kr(e,t,n,l){var u=Vt();Ee.flags|=e,u.memoizedState=Xa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Xr(e,t,n,l){var u=pt();l=l===void 0?null:l;var x=u.memoizedState.inst;it!==null&&l!==null&&Zc(l,it.memoizedState.deps)?u.memoizedState=Xa(t,x,n,l):(Ee.flags|=e,u.memoizedState=Xa(1|t,x,n,l))}function mo(e,t){Kr(8390656,8,e,t)}function eu(e,t){Xr(2048,8,e,t)}function o2(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=Yr(),Ee.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function bo(e){var t=pt().memoizedState;return o2({ref:t,nextImpl:e}),function(){if(($e&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function go(e,t){return Xr(4,2,e,t)}function vo(e,t){return Xr(4,4,e,t)}function yo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function po(e,t,n){n=n!=null?n.concat([e]):null,Xr(4,4,yo.bind(null,t,e),n)}function tu(){}function _o(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Zc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function So(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Zc(t,l[1]))return l[0];if(l=e(),pa){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[l,t],l}function nu(e,t,n){return n===void 0||(bl&1073741824)!==0&&(He&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Cf(),Ee.lanes|=e,Kl|=e,n)}function wo(e,t,n,l){return an(n,t)?n:Ua.current!==null?(e=nu(e,n,l),an(e,t)||(zt=!0),e):(bl&42)===0||(bl&1073741824)!==0&&(He&261930)===0?(zt=!0,e.memoizedState=n):(e=Cf(),Ee.lanes|=e,Kl|=e,t)}function Co(e,t,n,l,u){var x=D.p;D.p=x!==0&&8>x?x:8;var j=m.T,L={};m.T=L,iu(e,!1,t,n);try{var X=u(),le=m.S;if(le!==null&&le(L,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var ce=r2(X,l);Bi(e,t,ce,on(e))}else Bi(e,t,l,on(e))}catch(se){Bi(e,t,{then:function(){},status:"rejected",reason:se},on())}finally{D.p=x,j!==null&&L.types!==null&&(j.types=L.types),m.T=j}}function f2(){}function lu(e,t,n,l){if(e.tag!==5)throw Error(r(476));var u=jo(e).queue;Co(e,u,t,B,n===null?f2:function(){return Mo(e),n(l)})}function jo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:B},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Mo(e){var t=jo(e);t.next===null&&(t=e.alternate.memoizedState),Bi(e,t.next.queue,{},on())}function au(){return Ot(Fi)}function zo(){return pt().memoizedState}function Do(){return pt().memoizedState}function d2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=on();e=Gl(n);var l=Ol(t,e,n);l!==null&&(en(l,t,n),Ai(l,t,n)),t={cache:Ec()},e.payload=t;return}t=t.return}}function h2(e,t,n){var l=on();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Jr(e)?Ao(t,n):(n=Sc(e,t,n,l),n!==null&&(en(n,e,l),To(n,t,l)))}function No(e,t,n){var l=on();Bi(e,t,n,l)}function Bi(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jr(e))Ao(t,u);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var j=t.lastRenderedState,L=x(j,n);if(u.hasEagerState=!0,u.eagerState=L,an(L,j))return zr(e,t,u,0),ut===null&&Mr(),!1}catch{}if(n=Sc(e,t,u,l),n!==null)return en(n,e,l),To(n,t,l),!0}return!1}function iu(e,t,n,l){if(l={lane:2,revertLane:Iu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Jr(e)){if(t)throw Error(r(479))}else t=Sc(e,n,l,2),t!==null&&en(t,e,2)}function Jr(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Ao(e,t){Za=Or=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function To(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Tt(e,n)}}var qi={readContext:Ot,use:Ur,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};qi.useEffectEvent=gt;var Lo={readContext:Ot,use:Ur,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:mo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Kr(4194308,4,yo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){Kr(4,2,e,t)},useMemo:function(e,t){var n=Vt();t=t===void 0?null:t;var l=e();if(pa){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Vt();if(n!==void 0){var u=n(t);if(pa){yn(!0);try{n(t)}finally{yn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=h2.bind(null,Ee,e),[l.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Fc(e);var t=e.queue,n=No.bind(null,Ee,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:tu,useDeferredValue:function(e,t){var n=Vt();return nu(n,e,t)},useTransition:function(){var e=Fc(!1);return e=Co.bind(null,Ee,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Ee,u=Vt();if(Ue){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),ut===null)throw Error(r(349));(He&127)!==0||Fx(l,t,n)}u.memoizedState=n;var x={value:n,getSnapshot:t};return u.queue=x,mo(eo.bind(null,l,x,e),[e]),l.flags|=2048,Xa(9,{destroy:void 0},$x.bind(null,l,x,n,t),null),n},useId:function(){var e=Vt(),t=ut.identifierPrefix;if(Ue){var n=Pn,l=Wn;n=(l&~(1<<32-Oe(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Hr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=c2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:au,useFormState:so,useActionState:so,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=iu.bind(null,Ee,!0,n),n.dispatch=t,[e,t]},useMemoCache:Qc,useCacheRefresh:function(){return Vt().memoizedState=d2.bind(null,Ee)},useEffectEvent:function(e){var t=Vt(),n={impl:e};return t.memoizedState=n,function(){if(($e&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},ru={readContext:Ot,use:Ur,useCallback:_o,useContext:Ot,useEffect:eu,useImperativeHandle:po,useInsertionEffect:go,useLayoutEffect:vo,useMemo:So,useReducer:Zr,useRef:ho,useState:function(){return Zr(gl)},useDebugValue:tu,useDeferredValue:function(e,t){var n=pt();return wo(n,it.memoizedState,e,t)},useTransition:function(){var e=Zr(gl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:ki(e),t]},useSyncExternalStore:Px,useId:zo,useHostTransitionStatus:au,useFormState:xo,useActionState:xo,useOptimistic:function(e,t){var n=pt();return lo(n,it,e,t)},useMemoCache:Qc,useCacheRefresh:Do};ru.useEffectEvent=bo;var Eo={readContext:Ot,use:Ur,useCallback:_o,useContext:Ot,useEffect:eu,useImperativeHandle:po,useInsertionEffect:go,useLayoutEffect:vo,useMemo:So,useReducer:Pc,useRef:ho,useState:function(){return Pc(gl)},useDebugValue:tu,useDeferredValue:function(e,t){var n=pt();return it===null?nu(n,e,t):wo(n,it.memoizedState,e,t)},useTransition:function(){var e=Pc(gl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:ki(e),t]},useSyncExternalStore:Px,useId:zo,useHostTransitionStatus:au,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=pt();return it!==null?lo(n,it,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Qc,useCacheRefresh:Do};Eo.useEffectEvent=bo;function cu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=on(),u=Gl(l);u.payload=t,n!=null&&(u.callback=n),t=Ol(e,u,l),t!==null&&(en(t,e,l),Ai(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=on(),u=Gl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Ol(e,u,l),t!==null&&(en(t,e,l),Ai(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=on(),l=Gl(n);l.tag=2,t!=null&&(l.callback=t),t=Ol(e,l,n),t!==null&&(en(t,e,n),Ai(t,e,n))}};function ko(e,t,n,l,u,x,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,j):t.prototype&&t.prototype.isPureReactComponent?!Si(n,l)||!Si(u,x):!0}function Bo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&uu.enqueueReplaceState(t,t.state,null)}function _a(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function qo(e){jr(e)}function Io(e){console.error(e)}function Ro(e){jr(e)}function Vr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Go(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function su(e,t,n){return n=Gl(n),n.tag=3,n.payload={element:null},n.callback=function(){Vr(e,t)},n}function Oo(e){return e=Gl(e),e.tag=3,e}function Ho(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var x=l.value;e.payload=function(){return u(x)},e.callback=function(){Go(t,n,l)}}var j=n.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(e.callback=function(){Go(t,n,l),typeof u!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function m2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ra(t,n,u,!0),n=cn.current,n!==null){switch(n.tag){case 31:case 13:return zn===null?r0():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Br?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),ku(e,l,u)),!1;case 22:return n.flags|=65536,l===Br?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),ku(e,l,u)),!1}throw Error(r(435,n.tag))}return ku(e,l,u),r0(),!1}if(Ue)return t=cn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Dc&&(e=Error(r(422),{cause:l}),ji(wn(e,n)))):(l!==Dc&&(t=Error(r(423),{cause:l}),ji(wn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=wn(l,n),u=su(e.stateNode,l,u),Gc(e,u),vt!==4&&(vt=2)),!1;var x=Error(r(520),{cause:l});if(x=wn(x,n),Zi===null?Zi=[x]:Zi.push(x),vt!==4&&(vt=2),t===null)return!0;l=wn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=su(n.stateNode,l,e),Gc(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xl===null||!Xl.has(x))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Oo(u),Ho(u,e,n,l),Gc(n,u),!1}n=n.return}while(n!==null);return!1}var xu=Error(r(461)),zt=!1;function Ht(e,t,n,l){t.child=e===null?Zx(t,null,n,l):ya(t,e.child,n,l)}function Yo(e,t,n,l,u){n=n.render;var x=t.ref;if("ref"in l){var j={};for(var L in l)L!=="ref"&&(j[L]=l[L])}else j=l;return ma(t),l=Kc(e,t,n,j,x,u),L=Xc(),e!==null&&!zt?(Jc(e,t,u),vl(e,t,u)):(Ue&&L&&Mc(t),t.flags|=1,Ht(e,t,l,u),t.child)}function Uo(e,t,n,l,u){if(e===null){var x=n.type;return typeof x=="function"&&!wc(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,Zo(e,t,x,l,u)):(e=Nr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!vu(e,u)){var j=x.memoizedProps;if(n=n.compare,n=n!==null?n:Si,n(j,l)&&e.ref===t.ref)return vl(e,t,u)}return t.flags|=1,e=fl(x,l),e.ref=t.ref,e.return=t,t.child=e}function Zo(e,t,n,l,u){if(e!==null){var x=e.memoizedProps;if(Si(x,l)&&e.ref===t.ref)if(zt=!1,t.pendingProps=l=x,vu(e,u))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,vl(e,t,u)}return ou(e,t,n,l,u)}function Ko(e,t,n,l){var u=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~x}else l=0,t.child=null;return Xo(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Er(t,x!==null?x.cachePool:null),x!==null?Jx(t,x):Hc(),Vx(t);else return l=t.lanes=536870912,Xo(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(Er(t,x.cachePool),Jx(t,x),Yl(),t.memoizedState=null):(e!==null&&Er(t,null),Hc(),Yl());return Ht(e,t,u,n),t.child}function Ii(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xo(e,t,n,l,u){var x=Bc();return x=x===null?null:{parent:jt._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&Er(t,null),Hc(),Vx(t),e!==null&&Ra(e,t,l,!0),t.childLanes=u,null}function Qr(e,t){return t=Pr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Jo(e,t,n){return ya(t,e.child,null,n),e=Qr(t,t.pendingProps),e.flags|=2,un(t),t.memoizedState=null,e}function b2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ue){if(l.mode==="hidden")return e=Qr(t,l),t.lanes=536870912,Ii(null,e);if(Uc(t),(e=ot)?(e=rd(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kl!==null?{id:Wn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Nx(e),n.return=t,t.child=n,Gt=t,ot=null)):e=null,e===null)throw ql(t);return t.lanes=536870912,null}return Qr(t,l)}var x=e.memoizedState;if(x!==null){var j=x.dehydrated;if(Uc(t),u)if(t.flags&256)t.flags&=-257,t=Jo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(zt||Ra(e,t,n,!1),u=(n&e.childLanes)!==0,zt||u){if(l=ut,l!==null&&(j=at(l,n),j!==0&&j!==x.retryLane))throw x.retryLane=j,oa(e,j),en(l,e,j),xu;r0(),t=Jo(e,t,n)}else e=x.treeContext,ot=Dn(j.nextSibling),Gt=t,Ue=!0,Bl=null,Mn=!1,e!==null&&Lx(t,e),t=Qr(t,l),t.flags|=4096;return t}return e=fl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Wr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ou(e,t,n,l,u){return ma(t),n=Kc(e,t,n,l,void 0,u),l=Xc(),e!==null&&!zt?(Jc(e,t,u),vl(e,t,u)):(Ue&&l&&Mc(t),t.flags|=1,Ht(e,t,n,u),t.child)}function Vo(e,t,n,l,u,x){return ma(t),t.updateQueue=null,n=Wx(t,l,n,u),Qx(e),l=Xc(),e!==null&&!zt?(Jc(e,t,x),vl(e,t,x)):(Ue&&l&&Mc(t),t.flags|=1,Ht(e,t,n,x),t.child)}function Qo(e,t,n,l,u){if(ma(t),t.stateNode===null){var x=ka,j=n.contextType;typeof j=="object"&&j!==null&&(x=Ot(j)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=uu,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},Ic(t),j=n.contextType,x.context=typeof j=="object"&&j!==null?Ot(j):ka,x.state=t.memoizedState,j=n.getDerivedStateFromProps,typeof j=="function"&&(cu(t,n,j,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(j=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),j!==x.state&&uu.enqueueReplaceState(x,x.state,null),Li(t,l,x,u),Ti(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var L=t.memoizedProps,X=_a(n,L);x.props=X;var le=x.context,ce=n.contextType;j=ka,typeof ce=="object"&&ce!==null&&(j=Ot(ce));var se=n.getDerivedStateFromProps;ce=typeof se=="function"||typeof x.getSnapshotBeforeUpdate=="function",L=t.pendingProps!==L,ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L||le!==j)&&Bo(t,x,l,j),Rl=!1;var ae=t.memoizedState;x.state=ae,Li(t,l,x,u),Ti(),le=t.memoizedState,L||ae!==le||Rl?(typeof se=="function"&&(cu(t,n,se,l),le=t.memoizedState),(X=Rl||ko(t,n,X,l,ae,le,j))?(ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=le),x.props=l,x.state=le,x.context=j,l=X):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,Rc(e,t),j=t.memoizedProps,ce=_a(n,j),x.props=ce,se=t.pendingProps,ae=x.context,le=n.contextType,X=ka,typeof le=="object"&&le!==null&&(X=Ot(le)),L=n.getDerivedStateFromProps,(le=typeof L=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==se||ae!==X)&&Bo(t,x,l,X),Rl=!1,ae=t.memoizedState,x.state=ae,Li(t,l,x,u),Ti();var re=t.memoizedState;j!==se||ae!==re||Rl||e!==null&&e.dependencies!==null&&Tr(e.dependencies)?(typeof L=="function"&&(cu(t,n,L,l),re=t.memoizedState),(ce=Rl||ko(t,n,ce,l,ae,re,X)||e!==null&&e.dependencies!==null&&Tr(e.dependencies))?(le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,re,X),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,re,X)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=re),x.props=l,x.state=re,x.context=X,l=ce):(typeof x.componentDidUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Wr(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=ya(t,e.child,null,u),t.child=ya(t,null,n,u)):Ht(e,t,n,u),t.memoizedState=x.state,e=t.child):e=vl(e,t,u),e}function Wo(e,t,n,l){return da(),t.flags|=256,Ht(e,t,n,l),t.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function du(e){return{baseLanes:e,cachePool:Rx()}}function hu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=xn),e}function Po(e,t,n){var l=t.pendingProps,u=!1,x=(t.flags&128)!==0,j;if((j=x)||(j=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),j&&(u=!0,t.flags&=-129),j=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(u?Hl(t):Yl(),(e=ot)?(e=rd(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kl!==null?{id:Wn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Nx(e),n.return=t,t.child=n,Gt=t,ot=null)):e=null,e===null)throw ql(t);return Wu(e)?t.lanes=32:t.lanes=536870912,null}var L=l.children;return l=l.fallback,u?(Yl(),u=t.mode,L=Pr({mode:"hidden",children:L},u),l=fa(l,u,n,null),L.return=t,l.return=t,L.sibling=l,t.child=L,l=t.child,l.memoizedState=du(n),l.childLanes=hu(e,j,n),t.memoizedState=fu,Ii(null,l)):(Hl(t),mu(t,L))}var X=e.memoizedState;if(X!==null&&(L=X.dehydrated,L!==null)){if(x)t.flags&256?(Hl(t),t.flags&=-257,t=bu(e,t,n)):t.memoizedState!==null?(Yl(),t.child=e.child,t.flags|=128,t=null):(Yl(),L=l.fallback,u=t.mode,l=Pr({mode:"visible",children:l.children},u),L=fa(L,u,n,null),L.flags|=2,l.return=t,L.return=t,l.sibling=L,t.child=l,ya(t,e.child,null,n),l=t.child,l.memoizedState=du(n),l.childLanes=hu(e,j,n),t.memoizedState=fu,t=Ii(null,l));else if(Hl(t),Wu(L)){if(j=L.nextSibling&&L.nextSibling.dataset,j)var le=j.dgst;j=le,l=Error(r(419)),l.stack="",l.digest=j,ji({value:l,source:null,stack:null}),t=bu(e,t,n)}else if(zt||Ra(e,t,n,!1),j=(n&e.childLanes)!==0,zt||j){if(j=ut,j!==null&&(l=at(j,n),l!==0&&l!==X.retryLane))throw X.retryLane=l,oa(e,l),en(j,e,l),xu;Qu(L)||r0(),t=bu(e,t,n)}else Qu(L)?(t.flags|=192,t.child=e.child,t=null):(e=X.treeContext,ot=Dn(L.nextSibling),Gt=t,Ue=!0,Bl=null,Mn=!1,e!==null&&Lx(t,e),t=mu(t,l.children),t.flags|=4096);return t}return u?(Yl(),L=l.fallback,u=t.mode,X=e.child,le=X.sibling,l=fl(X,{mode:"hidden",children:l.children}),l.subtreeFlags=X.subtreeFlags&65011712,le!==null?L=fl(le,L):(L=fa(L,u,n,null),L.flags|=2),L.return=t,l.return=t,l.sibling=L,t.child=l,Ii(null,l),l=t.child,L=e.child.memoizedState,L===null?L=du(n):(u=L.cachePool,u!==null?(X=jt._currentValue,u=u.parent!==X?{parent:X,pool:X}:u):u=Rx(),L={baseLanes:L.baseLanes|n,cachePool:u}),l.memoizedState=L,l.childLanes=hu(e,j,n),t.memoizedState=fu,Ii(e.child,l)):(Hl(t),n=e.child,e=n.sibling,n=fl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(j=t.deletions,j===null?(t.deletions=[e],t.flags|=16):j.push(e)),t.child=n,t.memoizedState=null,n)}function mu(e,t){return t=Pr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Pr(e,t){return e=rn(22,e,null,t),e.lanes=0,e}function bu(e,t,n){return ya(t,e.child,null,n),e=mu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Tc(e.return,t,n)}function gu(e,t,n,l,u,x){var j=e.memoizedState;j===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:x}:(j.isBackwards=t,j.rendering=null,j.renderingStartTime=0,j.last=l,j.tail=n,j.tailMode=u,j.treeForkCount=x)}function $o(e,t,n){var l=t.pendingProps,u=l.revealOrder,x=l.tail;l=l.children;var j=yt.current,L=(j&2)!==0;if(L?(j=j&1|2,t.flags|=128):j&=1,I(yt,j),Ht(e,t,l,n),l=Ue?Ci:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fo(e,n,t);else if(e.tag===19)Fo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Gr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),gu(t,!1,u,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Gr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}gu(t,!0,n,null,x,l);break;case"together":gu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function vl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=fl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Tr(e)))}function g2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),Il(t,jt,e.memoizedState.cache),da();break;case 27:case 5:me(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:Il(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Hl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Po(e,t,n):(Hl(t),e=vl(e,t,n),e!==null?e.sibling:null);Hl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ra(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return $o(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),I(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Ko(e,t,n,t.pendingProps);case 24:Il(t,jt,e.memoizedState.cache)}return vl(e,t,n)}function ef(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!vu(e,n)&&(t.flags&128)===0)return zt=!1,g2(e,t,n);zt=(e.flags&131072)!==0}else zt=!1,Ue&&(t.flags&1048576)!==0&&Tx(t,Ci,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ga(t.elementType),t.type=e,typeof e=="function")wc(e)?(l=_a(e,l),t.tag=1,t=Qo(null,t,e,l,n)):(t.tag=0,t=ou(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===k){t.tag=11,t=Yo(null,t,e,l,n);break e}else if(u===q){t.tag=14,t=Uo(null,t,e,l,n);break e}}throw t=Y(e)||e,Error(r(306,t,""))}}return t;case 0:return ou(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=_a(l,t.pendingProps),Qo(e,t,l,u,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var x=t.memoizedState;u=x.element,Rc(e,t),Li(t,l,null,n);var j=t.memoizedState;if(l=j.cache,Il(t,jt,l),l!==x.cache&&Lc(t,[jt],n,!0),Ti(),l=j.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:j.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Wo(e,t,l,n);break e}else if(l!==u){u=wn(Error(r(424)),t),ji(u),t=Wo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ot=Dn(e.firstChild),Gt=t,Ue=!0,Bl=null,Mn=!0,n=Zx(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(da(),l===u){t=vl(e,t,n);break e}Ht(e,t,l,n)}t=t.child}return t;case 26:return Wr(e,t),e===null?(n=fd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ue||(n=t.type,e=t.pendingProps,l=d0(ee.current).createElement(n),l[bt]=t,l[Le]=e,Yt(l,n,e),Me(l),t.stateNode=l):t.memoizedState=fd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return me(t),e===null&&Ue&&(l=t.stateNode=sd(t.type,t.pendingProps,ee.current),Gt=t,Mn=!0,u=ot,Wl(t.type)?(Pu=u,ot=Dn(l.firstChild)):ot=u),Ht(e,t,t.pendingProps.children,n),Wr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ue&&((u=l=ot)&&(l=J2(l,t.type,t.pendingProps,Mn),l!==null?(t.stateNode=l,Gt=t,ot=Dn(l.firstChild),Mn=!1,u=!0):u=!1),u||ql(t)),me(t),u=t.type,x=t.pendingProps,j=e!==null?e.memoizedProps:null,l=x.children,Xu(u,x)?l=null:j!==null&&Xu(u,j)&&(t.flags|=32),t.memoizedState!==null&&(u=Kc(e,t,u2,null,null,n),Fi._currentValue=u),Wr(e,t),Ht(e,t,l,n),t.child;case 6:return e===null&&Ue&&((e=n=ot)&&(n=V2(n,t.pendingProps,Mn),n!==null?(t.stateNode=n,Gt=t,ot=null,e=!0):e=!1),e||ql(t)),null;case 13:return Po(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ya(t,null,l,n):Ht(e,t,l,n),t.child;case 11:return Yo(e,t,t.type,t.pendingProps,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Il(t,t.type,l.value),Ht(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,ma(t),u=Ot(u),l=l(u),t.flags|=1,Ht(e,t,l,n),t.child;case 14:return Uo(e,t,t.type,t.pendingProps,n);case 15:return Zo(e,t,t.type,t.pendingProps,n);case 19:return $o(e,t,n);case 31:return b2(e,t,n);case 22:return Ko(e,t,n,t.pendingProps);case 24:return ma(t),l=Ot(jt),e===null?(u=Bc(),u===null&&(u=ut,x=Ec(),u.pooledCache=x,x.refCount++,x!==null&&(u.pooledCacheLanes|=n),u=x),t.memoizedState={parent:l,cache:u},Ic(t),Il(t,jt,u)):((e.lanes&n)!==0&&(Rc(e,t),Li(t,null,null,n),Ti()),u=e.memoizedState,x=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Il(t,jt,l)):(l=x.cache,Il(t,jt,l),l!==u.cache&&Lc(t,[jt],n,!0))),Ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function yl(e){e.flags|=4}function yu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Df())e.flags|=8192;else throw va=Br,qc}else e.flags&=-16777217}function tf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gd(t))if(Df())e.flags|=8192;else throw va=Br,qc}function Fr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ke():536870912,e.lanes|=t,Wa|=t)}function Ri(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function v2(e,t,n){var l=t.pendingProps;switch(zc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return ft(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ml(jt),fe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?yl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nc())),ft(t),null;case 26:var u=t.type,x=t.memoizedState;return e===null?(yl(t),x!==null?(ft(t),tf(t,x)):(ft(t),yu(t,u,null,l,n))):x?x!==e.memoizedState?(yl(t),ft(t),tf(t,x)):(ft(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&yl(t),ft(t),yu(t,u,e,l,n)),null;case 27:if(he(t),n=ee.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&yl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ft(t),null}e=Z.current,Ia(t)?Ex(t):(e=sd(u,l,n),t.stateNode=e,yl(t))}return ft(t),null;case 5:if(he(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&yl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ft(t),null}if(x=Z.current,Ia(t))Ex(t);else{var j=d0(ee.current);switch(x){case 1:x=j.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:x=j.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":x=j.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":x=j.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":x=j.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?j.createElement("select",{is:l.is}):j.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?j.createElement(u,{is:l.is}):j.createElement(u)}}x[bt]=t,x[Le]=l;e:for(j=t.child;j!==null;){if(j.tag===5||j.tag===6)x.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===t)break e;for(;j.sibling===null;){if(j.return===null||j.return===t)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}t.stateNode=x;e:switch(Yt(x,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&yl(t)}}return ft(t),yu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&yl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ee.current,Ia(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Gt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[bt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Ff(e.nodeValue,n)),e||ql(t,!0)}else e=d0(e).createTextNode(l),e[bt]=t,t.stateNode=e}return ft(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[bt]=t}else da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),e=!1}else n=Nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(un(t),t):(un(t),null);if((t.flags&128)!==0)throw Error(r(558))}return ft(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ia(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[bt]=t}else da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),u=!1}else u=Nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(un(t),t):(un(t),null)}return un(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Fr(t,t.updateQueue),ft(t),null);case 4:return fe(),e===null&&Hu(t.stateNode.containerInfo),ft(t),null;case 10:return ml(t.type),ft(t),null;case 19:if(N(yt),l=t.memoizedState,l===null)return ft(t),null;if(u=(t.flags&128)!==0,x=l.rendering,x===null)if(u)Ri(l,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Gr(e),x!==null){for(t.flags|=128,Ri(l,!1),e=x.updateQueue,t.updateQueue=e,Fr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Dx(n,e),n=n.sibling;return I(yt,yt.current&1|2),Ue&&dl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Qe()>l0&&(t.flags|=128,u=!0,Ri(l,!1),t.lanes=4194304)}else{if(!u)if(e=Gr(x),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Fr(t,e),Ri(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!Ue)return ft(t),null}else 2*Qe()-l.renderingStartTime>l0&&n!==536870912&&(t.flags|=128,u=!0,Ri(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,n=yt.current,I(yt,u?n&1|2:n&1),Ue&&dl(t,l.treeForkCount),e):(ft(t),null);case 22:case 23:return un(t),Yc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),n=t.updateQueue,n!==null&&Fr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&N(ba),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ml(jt),ft(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function y2(e,t){switch(zc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(jt),fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(un(t),t.alternate===null)throw Error(r(340));da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(un(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return N(yt),null;case 4:return fe(),null;case 10:return ml(t.type),null;case 22:case 23:return un(t),Yc(),e!==null&&N(ba),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ml(jt),null;case 25:return null;default:return null}}function nf(e,t){switch(zc(t),t.tag){case 3:ml(jt),fe();break;case 26:case 27:case 5:he(t);break;case 4:fe();break;case 31:t.memoizedState!==null&&un(t);break;case 13:un(t);break;case 19:N(yt);break;case 10:ml(t.type);break;case 22:case 23:un(t),Yc(),e!==null&&N(ba);break;case 24:ml(jt)}}function Gi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var x=n.create,j=n.inst;l=x(),j.destroy=l}n=n.next}while(n!==u)}}catch(L){lt(t,t.return,L)}}function Ul(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var x=u.next;l=x;do{if((l.tag&e)===e){var j=l.inst,L=j.destroy;if(L!==void 0){j.destroy=void 0,u=t;var X=n,le=L;try{le()}catch(ce){lt(u,X,ce)}}}l=l.next}while(l!==x)}}catch(ce){lt(t,t.return,ce)}}function lf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Xx(t,n)}catch(l){lt(e,e.return,l)}}}function af(e,t,n){n.props=_a(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){lt(e,t,l)}}function Oi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){lt(e,t,u)}}function Fn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){lt(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){lt(e,t,u)}else n.current=null}function rf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){lt(e,e.return,u)}}function pu(e,t,n){try{var l=e.stateNode;H2(l,e.type,n,t),l[Le]=t}catch(u){lt(e,e.return,u)}}function cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wl(e.type)||e.tag===4}function _u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Su(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xl));else if(l!==4&&(l===27&&Wl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Su(e,t,n),e=e.sibling;e!==null;)Su(e,t,n),e=e.sibling}function $r(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Wl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($r(e,t,n),e=e.sibling;e!==null;)$r(e,t,n),e=e.sibling}function uf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Yt(t,l,n),t[bt]=e,t[Le]=n}catch(x){lt(e,e.return,x)}}var pl=!1,Dt=!1,wu=!1,sf=typeof WeakSet=="function"?WeakSet:Set,Et=null;function p2(e,t){if(e=e.containerInfo,Zu=p0,e=yx(e),bc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var j=0,L=-1,X=-1,le=0,ce=0,se=e,ae=null;t:for(;;){for(var re;se!==n||u!==0&&se.nodeType!==3||(L=j+u),se!==x||l!==0&&se.nodeType!==3||(X=j+l),se.nodeType===3&&(j+=se.nodeValue.length),(re=se.firstChild)!==null;)ae=se,se=re;for(;;){if(se===e)break t;if(ae===n&&++le===u&&(L=j),ae===x&&++ce===l&&(X=j),(re=se.nextSibling)!==null)break;se=ae,ae=se.parentNode}se=re}n=L===-1||X===-1?null:{start:L,end:X}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},p0=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,u=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var ge=_a(n.type,u);e=l.getSnapshotBeforeUpdate(ge,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(je){lt(n,n.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Vu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function xf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Sl(e,n),l&4&&Gi(5,n);break;case 1:if(Sl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(j){lt(n,n.return,j)}else{var u=_a(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(j){lt(n,n.return,j)}}l&64&&lf(n),l&512&&Oi(n,n.return);break;case 3:if(Sl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Xx(e,t)}catch(j){lt(n,n.return,j)}}break;case 27:t===null&&l&4&&uf(n);case 26:case 5:Sl(e,n),t===null&&l&4&&rf(n),l&512&&Oi(n,n.return);break;case 12:Sl(e,n);break;case 31:Sl(e,n),l&4&&df(e,n);break;case 13:Sl(e,n),l&4&&hf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=N2.bind(null,n),Q2(e,n))));break;case 22:if(l=n.memoizedState!==null||pl,!l){t=t!==null&&t.memoizedState!==null||Dt,u=pl;var x=Dt;pl=l,(Dt=t)&&!x?wl(e,n,(n.subtreeFlags&8772)!==0):Sl(e,n),pl=u,Dt=x}break;case 30:break;default:Sl(e,n)}}function of(e){var t=e.alternate;t!==null&&(e.alternate=null,of(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,Wt=!1;function _l(e,t,n){for(n=n.child;n!==null;)ff(e,t,n),n=n.sibling}function ff(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Gn,n)}catch{}switch(n.tag){case 26:Dt||Fn(n,t),_l(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Dt||Fn(n,t);var l=dt,u=Wt;Wl(n.type)&&(dt=n.stateNode,Wt=!1),_l(e,t,n),Qi(n.stateNode),dt=l,Wt=u;break;case 5:Dt||Fn(n,t);case 6:if(l=dt,u=Wt,dt=null,_l(e,t,n),dt=l,Wt=u,dt!==null)if(Wt)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(x){lt(n,t,x)}else try{dt.removeChild(n.stateNode)}catch(x){lt(n,t,x)}break;case 18:dt!==null&&(Wt?(e=dt,ad(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ai(e)):ad(dt,n.stateNode));break;case 4:l=dt,u=Wt,dt=n.stateNode.containerInfo,Wt=!0,_l(e,t,n),dt=l,Wt=u;break;case 0:case 11:case 14:case 15:Ul(2,n,t),Dt||Ul(4,n,t),_l(e,t,n);break;case 1:Dt||(Fn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&af(n,t,l)),_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:Dt=(l=Dt)||n.memoizedState!==null,_l(e,t,n),Dt=l;break;default:_l(e,t,n)}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ai(e)}catch(n){lt(t,t.return,n)}}}function hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ai(e)}catch(n){lt(t,t.return,n)}}function _2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sf),t;default:throw Error(r(435,e.tag))}}function e0(e,t){var n=_2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=A2.bind(null,e,l);l.then(u,u)}})}function Pt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],x=e,j=t,L=j;e:for(;L!==null;){switch(L.tag){case 27:if(Wl(L.type)){dt=L.stateNode,Wt=!1;break e}break;case 5:dt=L.stateNode,Wt=!1;break e;case 3:case 4:dt=L.stateNode.containerInfo,Wt=!0;break e}L=L.return}if(dt===null)throw Error(r(160));ff(x,j,u),dt=null,Wt=!1,x=u.alternate,x!==null&&(x.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mf(t,e),t=t.sibling}var Yn=null;function mf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(t,e),Ft(e),l&4&&(Ul(3,e,e.return),Gi(3,e),Ul(5,e,e.return));break;case 1:Pt(t,e),Ft(e),l&512&&(Dt||n===null||Fn(n,n.return)),l&64&&pl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Yn;if(Pt(t,e),Ft(e),l&512&&(Dt||n===null||Fn(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":x=u.getElementsByTagName("title")[0],(!x||x[ca]||x[bt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=u.createElement(l),u.head.insertBefore(x,u.querySelector("head > title"))),Yt(x,l,n),x[bt]=e,Me(x),l=x;break e;case"link":var j=md("link","href",u).get(l+(n.href||""));if(j){for(var L=0;L<j.length;L++)if(x=j[L],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){j.splice(L,1);break t}}x=u.createElement(l),Yt(x,l,n),u.head.appendChild(x);break;case"meta":if(j=md("meta","content",u).get(l+(n.content||""))){for(L=0;L<j.length;L++)if(x=j[L],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){j.splice(L,1);break t}}x=u.createElement(l),Yt(x,l,n),u.head.appendChild(x);break;default:throw Error(r(468,l))}x[bt]=e,Me(x),l=x}e.stateNode=l}else bd(u,e.type,e.stateNode);else e.stateNode=hd(u,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?bd(u,e.type,e.stateNode):hd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&pu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pt(t,e),Ft(e),l&512&&(Dt||n===null||Fn(n,n.return)),n!==null&&l&4&&pu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pt(t,e),Ft(e),l&512&&(Dt||n===null||Fn(n,n.return)),e.flags&32){u=e.stateNode;try{za(u,"")}catch(ge){lt(e,e.return,ge)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,pu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(wu=!0);break;case 6:if(Pt(t,e),Ft(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ge){lt(e,e.return,ge)}}break;case 3:if(b0=null,u=Yn,Yn=h0(t.containerInfo),Pt(t,e),Yn=u,Ft(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(ge){lt(e,e.return,ge)}wu&&(wu=!1,bf(e));break;case 4:l=Yn,Yn=h0(e.stateNode.containerInfo),Pt(t,e),Ft(e),Yn=l;break;case 12:Pt(t,e),Ft(e);break;case 31:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,e0(e,l)));break;case 13:Pt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(n0=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,e0(e,l)));break;case 22:u=e.memoizedState!==null;var X=n!==null&&n.memoizedState!==null,le=pl,ce=Dt;if(pl=le||u,Dt=ce||X,Pt(t,e),Dt=ce,pl=le,Ft(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||X||pl||Dt||Sa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){X=n=t;try{if(x=X.stateNode,u)j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{L=X.stateNode;var se=X.memoizedProps.style,ae=se!=null&&se.hasOwnProperty("display")?se.display:null;L.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ge){lt(X,X.return,ge)}}}else if(t.tag===6){if(n===null){X=t;try{X.stateNode.nodeValue=u?"":X.memoizedProps}catch(ge){lt(X,X.return,ge)}}}else if(t.tag===18){if(n===null){X=t;try{var re=X.stateNode;u?id(re,!0):id(X.stateNode,!1)}catch(ge){lt(X,X.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,e0(e,n))));break;case 19:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,e0(e,l)));break;case 30:break;case 21:break;default:Pt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(cf(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,x=_u(e);$r(e,x,u);break;case 5:var j=n.stateNode;n.flags&32&&(za(j,""),n.flags&=-33);var L=_u(e);$r(e,L,j);break;case 3:case 4:var X=n.stateNode.containerInfo,le=_u(e);Su(e,le,X);break;default:throw Error(r(161))}}catch(ce){lt(e,e.return,ce)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)xf(e,t.alternate,t),t=t.sibling}function Sa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ul(4,t,t.return),Sa(t);break;case 1:Fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&af(t,t.return,n),Sa(t);break;case 27:Qi(t.stateNode);case 26:case 5:Fn(t,t.return),Sa(t);break;case 22:t.memoizedState===null&&Sa(t);break;case 30:Sa(t);break;default:Sa(t)}e=e.sibling}}function wl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,x=t,j=x.flags;switch(x.tag){case 0:case 11:case 15:wl(u,x,n),Gi(4,x);break;case 1:if(wl(u,x,n),l=x,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(le){lt(l,l.return,le)}if(l=x,u=l.updateQueue,u!==null){var L=l.stateNode;try{var X=u.shared.hiddenCallbacks;if(X!==null)for(u.shared.hiddenCallbacks=null,u=0;u<X.length;u++)Kx(X[u],L)}catch(le){lt(l,l.return,le)}}n&&j&64&&lf(x),Oi(x,x.return);break;case 27:uf(x);case 26:case 5:wl(u,x,n),n&&l===null&&j&4&&rf(x),Oi(x,x.return);break;case 12:wl(u,x,n);break;case 31:wl(u,x,n),n&&j&4&&df(u,x);break;case 13:wl(u,x,n),n&&j&4&&hf(u,x);break;case 22:x.memoizedState===null&&wl(u,x,n),Oi(x,x.return);break;case 30:break;default:wl(u,x,n)}t=t.sibling}}function Cu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Mi(n))}function ju(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Mi(e))}function Un(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gf(e,t,n,l),t=t.sibling}function gf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,n,l),u&2048&&Gi(9,t);break;case 1:Un(e,t,n,l);break;case 3:Un(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Mi(e)));break;case 12:if(u&2048){Un(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,j=x.id,L=x.onPostCommit;typeof L=="function"&&L(j,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(X){lt(t,t.return,X)}}else Un(e,t,n,l);break;case 31:Un(e,t,n,l);break;case 13:Un(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,j=t.alternate,t.memoizedState!==null?x._visibility&2?Un(e,t,n,l):Hi(e,t):x._visibility&2?Un(e,t,n,l):(x._visibility|=2,Ja(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Cu(j,t);break;case 24:Un(e,t,n,l),u&2048&&ju(t.alternate,t);break;default:Un(e,t,n,l)}}function Ja(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,j=t,L=n,X=l,le=j.flags;switch(j.tag){case 0:case 11:case 15:Ja(x,j,L,X,u),Gi(8,j);break;case 23:break;case 22:var ce=j.stateNode;j.memoizedState!==null?ce._visibility&2?Ja(x,j,L,X,u):Hi(x,j):(ce._visibility|=2,Ja(x,j,L,X,u)),u&&le&2048&&Cu(j.alternate,j);break;case 24:Ja(x,j,L,X,u),u&&le&2048&&ju(j.alternate,j);break;default:Ja(x,j,L,X,u)}t=t.sibling}}function Hi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Hi(n,l),u&2048&&Cu(l.alternate,l);break;case 24:Hi(n,l),u&2048&&ju(l.alternate,l);break;default:Hi(n,l)}t=t.sibling}}var Yi=8192;function Va(e,t,n){if(e.subtreeFlags&Yi)for(e=e.child;e!==null;)vf(e,t,n),e=e.sibling}function vf(e,t,n){switch(e.tag){case 26:Va(e,t,n),e.flags&Yi&&e.memoizedState!==null&&ch(n,Yn,e.memoizedState,e.memoizedProps);break;case 5:Va(e,t,n);break;case 3:case 4:var l=Yn;Yn=h0(e.stateNode.containerInfo),Va(e,t,n),Yn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Yi,Yi=16777216,Va(e,t,n),Yi=l):Va(e,t,n));break;default:Va(e,t,n)}}function yf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,_f(l,e)}yf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pf(e),e=e.sibling}function pf(e){switch(e.tag){case 0:case 11:case 15:Ui(e),e.flags&2048&&Ul(9,e,e.return);break;case 3:Ui(e);break;case 12:Ui(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,t0(e)):Ui(e);break;default:Ui(e)}}function t0(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,_f(l,e)}yf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ul(8,t,t.return),t0(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,t0(t));break;default:t0(t)}e=e.sibling}}function _f(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:Ul(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Mi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var u=l.sibling,x=l.return;if(of(l),l===n){Et=null;break e}if(u!==null){u.return=x,Et=u;break e}Et=x}}}var S2={getCacheForType:function(e){var t=Ot(jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ot(jt).controller.signal}},w2=typeof WeakMap=="function"?WeakMap:Map,$e=0,ut=null,Re=null,He=0,nt=0,sn=null,Zl=!1,Qa=!1,Mu=!1,Cl=0,vt=0,Kl=0,wa=0,zu=0,xn=0,Wa=0,Zi=null,$t=null,Du=!1,n0=0,Sf=0,l0=1/0,a0=null,Xl=null,Lt=0,Jl=null,Pa=null,jl=0,Nu=0,Au=null,wf=null,Ki=0,Tu=null;function on(){return($e&2)!==0&&He!==0?He&-He:m.T!==null?Iu():On()}function Cf(){if(xn===0)if((He&536870912)===0||Ue){var e=_e;_e<<=1,(_e&3932160)===0&&(_e=262144),xn=e}else xn=536870912;return e=cn.current,e!==null&&(e.flags|=32),xn}function en(e,t,n){(e===ut&&(nt===2||nt===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),Vl(e,He,xn,!1)),Ae(e,n),(($e&2)===0||e!==ut)&&(e===ut&&(($e&2)===0&&(wa|=n),vt===4&&Vl(e,He,xn,!1)),$n(e))}function jf(e,t,n){if(($e&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||We(e,t),u=l?M2(e,t):Eu(e,t,!0),x=l;do{if(u===0){Qa&&!l&&Vl(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!C2(n)){u=Eu(e,t,!1),x=!1;continue}if(u===2){if(x=t,e.errorRecoveryDisabledLanes&x)var j=0;else j=e.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){t=j;e:{var L=e;u=Zi;var X=L.current.memoizedState.isDehydrated;if(X&&(Fa(L,j).flags|=256),j=Eu(L,j,!1),j!==2){if(Mu&&!X){L.errorRecoveryDisabledLanes|=x,wa|=x,u=4;break e}x=$t,$t=u,x!==null&&($t===null?$t=x:$t.push.apply($t,x))}u=j}if(x=!1,u!==2)continue}}if(u===1){Fa(e,0),Vl(e,t,0,!0);break}e:{switch(l=e,x=u,x){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Vl(l,t,xn,!Zl);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=n0+300-Qe(),10<u)){if(Vl(l,t,xn,!Zl),we(l,0,!0)!==0)break e;jl=t,l.timeoutHandle=nd(Mf.bind(null,l,n,$t,a0,Du,t,xn,wa,Wa,Zl,x,"Throttled",-0,0),u);break e}Mf(l,n,$t,a0,Du,t,xn,wa,Wa,Zl,x,null,-0,0)}}break}while(!0);$n(e)}function Mf(e,t,n,l,u,x,j,L,X,le,ce,se,ae,re){if(e.timeoutHandle=-1,se=t.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xl},vf(t,x,se);var ge=(x&62914560)===x?n0-Qe():(x&4194048)===x?Sf-Qe():0;if(ge=uh(se,ge),ge!==null){jl=x,e.cancelPendingCommit=ge(kf.bind(null,e,t,x,n,l,u,j,L,X,ce,se,null,ae,re)),Vl(e,x,j,!le);return}}kf(e,t,x,n,l,u,j,L,X)}function C2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],x=u.getSnapshot;u=u.value;try{if(!an(x(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vl(e,t,n,l){t&=~zu,t&=~wa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var x=31-Oe(u),j=1<<x;l[x]=-1,u&=~j}n!==0&&Fe(e,n,t)}function i0(){return($e&6)===0?(Xi(0),!1):!0}function Lu(){if(Re!==null){if(nt===0)var e=Re.return;else e=Re,hl=ha=null,Vc(e),Ya=null,Di=0,e=Re;for(;e!==null;)nf(e.alternate,e),e=e.return;Re=null}}function Fa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Z2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),jl=0,Lu(),ut=e,Re=n=fl(e.current,null),He=t,nt=0,sn=null,Zl=!1,Qa=We(e,t),Mu=!1,Wa=xn=zu=wa=Kl=vt=0,$t=Zi=null,Du=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Oe(l),x=1<<u;t|=e[u],l&=~x}return Cl=t,Mr(),n}function zf(e,t){Ee=null,m.H=qi,t===Ha||t===kr?(t=Hx(),nt=3):t===qc?(t=Hx(),nt=4):nt=t===xu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sn=t,Re===null&&(vt=1,Vr(e,wn(t,e.current)))}function Df(){var e=cn.current;return e===null?!0:(He&4194048)===He?zn===null:(He&62914560)===He||(He&536870912)!==0?e===zn:!1}function Nf(){var e=m.H;return m.H=qi,e===null?qi:e}function Af(){var e=m.A;return m.A=S2,e}function r0(){vt=4,Zl||(He&4194048)!==He&&cn.current!==null||(Qa=!0),(Kl&134217727)===0&&(wa&134217727)===0||ut===null||Vl(ut,He,xn,!1)}function Eu(e,t,n){var l=$e;$e|=2;var u=Nf(),x=Af();(ut!==e||He!==t)&&(a0=null,Fa(e,t)),t=!1;var j=vt;e:do try{if(nt!==0&&Re!==null){var L=Re,X=sn;switch(nt){case 8:Lu(),j=6;break e;case 3:case 2:case 9:case 6:cn.current===null&&(t=!0);var le=nt;if(nt=0,sn=null,$a(e,L,X,le),n&&Qa){j=0;break e}break;default:le=nt,nt=0,sn=null,$a(e,L,X,le)}}j2(),j=vt;break}catch(ce){zf(e,ce)}while(!0);return t&&e.shellSuspendCounter++,hl=ha=null,$e=l,m.H=u,m.A=x,Re===null&&(ut=null,He=0,Mr()),j}function j2(){for(;Re!==null;)Tf(Re)}function M2(e,t){var n=$e;$e|=2;var l=Nf(),u=Af();ut!==e||He!==t?(a0=null,l0=Qe()+500,Fa(e,t)):Qa=We(e,t);e:do try{if(nt!==0&&Re!==null){t=Re;var x=sn;t:switch(nt){case 1:nt=0,sn=null,$a(e,t,x,1);break;case 2:case 9:if(Gx(x)){nt=0,sn=null,Lf(t);break}t=function(){nt!==2&&nt!==9||ut!==e||(nt=7),$n(e)},x.then(t,t);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Gx(x)?(nt=0,sn=null,Lf(t)):(nt=0,sn=null,$a(e,t,x,7));break;case 5:var j=null;switch(Re.tag){case 26:j=Re.memoizedState;case 5:case 27:var L=Re;if(j?gd(j):L.stateNode.complete){nt=0,sn=null;var X=L.sibling;if(X!==null)Re=X;else{var le=L.return;le!==null?(Re=le,c0(le)):Re=null}break t}}nt=0,sn=null,$a(e,t,x,5);break;case 6:nt=0,sn=null,$a(e,t,x,6);break;case 8:Lu(),vt=6;break e;default:throw Error(r(462))}}z2();break}catch(ce){zf(e,ce)}while(!0);return hl=ha=null,m.H=l,m.A=u,$e=n,Re!==null?0:(ut=null,He=0,Mr(),vt)}function z2(){for(;Re!==null&&!Xn();)Tf(Re)}function Tf(e){var t=ef(e.alternate,e,Cl);e.memoizedProps=e.pendingProps,t===null?c0(e):Re=t}function Lf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vo(n,t,t.pendingProps,t.type,void 0,He);break;case 11:t=Vo(n,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:Vc(t);default:nf(n,t),t=Re=Dx(t,Cl),t=ef(n,t,Cl)}e.memoizedProps=e.pendingProps,t===null?c0(e):Re=t}function $a(e,t,n,l){hl=ha=null,Vc(t),Ya=null,Di=0;var u=t.return;try{if(m2(e,u,t,n,He)){vt=1,Vr(e,wn(n,e.current)),Re=null;return}}catch(x){if(u!==null)throw Re=u,x;vt=1,Vr(e,wn(n,e.current)),Re=null;return}t.flags&32768?(Ue||l===1?e=!0:Qa||(He&536870912)!==0?e=!1:(Zl=e=!0,(l===2||l===9||l===3||l===6)&&(l=cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ef(t,e)):c0(t)}function c0(e){var t=e;do{if((t.flags&32768)!==0){Ef(t,Zl);return}e=t.return;var n=v2(t.alternate,t,Cl);if(n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);vt===0&&(vt=5)}function Ef(e,t){do{var n=y2(e.alternate,e);if(n!==null){n.flags&=32767,Re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=n}while(e!==null);vt=6,Re=null}function kf(e,t,n,l,u,x,j,L,X){e.cancelPendingCommit=null;do u0();while(Lt!==0);if(($e&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(x=t.lanes|t.childLanes,x|=_c,It(e,n,x,j,L,X),e===ut&&(Re=ut=null,He=0),Pa=t,Jl=e,jl=n,Nu=x,Au=u,wf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,T2(cl,function(){return Gf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=m.T,m.T=null,u=D.p,D.p=2,j=$e,$e|=4;try{p2(e,t,n)}finally{$e=j,D.p=u,m.T=l}}Lt=1,Bf(),qf(),If()}}function Bf(){if(Lt===1){Lt=0;var e=Jl,t=Pa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=m.T,m.T=null;var l=D.p;D.p=2;var u=$e;$e|=4;try{mf(t,e);var x=Ku,j=yx(e.containerInfo),L=x.focusedElem,X=x.selectionRange;if(j!==L&&L&&L.ownerDocument&&vx(L.ownerDocument.documentElement,L)){if(X!==null&&bc(L)){var le=X.start,ce=X.end;if(ce===void 0&&(ce=le),"selectionStart"in L)L.selectionStart=le,L.selectionEnd=Math.min(ce,L.value.length);else{var se=L.ownerDocument||document,ae=se&&se.defaultView||window;if(ae.getSelection){var re=ae.getSelection(),ge=L.textContent.length,je=Math.min(X.start,ge),ct=X.end===void 0?je:Math.min(X.end,ge);!re.extend&&je>ct&&(j=ct,ct=je,je=j);var $=gx(L,je),Q=gx(L,ct);if($&&Q&&(re.rangeCount!==1||re.anchorNode!==$.node||re.anchorOffset!==$.offset||re.focusNode!==Q.node||re.focusOffset!==Q.offset)){var ne=se.createRange();ne.setStart($.node,$.offset),re.removeAllRanges(),je>ct?(re.addRange(ne),re.extend(Q.node,Q.offset)):(ne.setEnd(Q.node,Q.offset),re.addRange(ne))}}}}for(se=[],re=L;re=re.parentNode;)re.nodeType===1&&se.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<se.length;L++){var ue=se[L];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}p0=!!Zu,Ku=Zu=null}finally{$e=u,D.p=l,m.T=n}}e.current=t,Lt=2}}function qf(){if(Lt===2){Lt=0;var e=Jl,t=Pa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=m.T,m.T=null;var l=D.p;D.p=2;var u=$e;$e|=4;try{xf(e,t.alternate,t)}finally{$e=u,D.p=l,m.T=n}}Lt=3}}function If(){if(Lt===4||Lt===3){Lt=0,Jn();var e=Jl,t=Pa,n=jl,l=wf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Lt=5:(Lt=0,Pa=Jl=null,Rf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Xl=null),mt(n),t=t.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Gn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=m.T,u=D.p,D.p=2,m.T=null;try{for(var x=e.onRecoverableError,j=0;j<l.length;j++){var L=l[j];x(L.value,{componentStack:L.stack})}}finally{m.T=t,D.p=u}}(jl&3)!==0&&u0(),$n(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Tu?Ki++:(Ki=0,Tu=e):Ki=0,Xi(0)}}function Rf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Mi(t)))}function u0(){return Bf(),qf(),If(),Gf()}function Gf(){if(Lt!==5)return!1;var e=Jl,t=Nu;Nu=0;var n=mt(jl),l=m.T,u=D.p;try{D.p=32>n?32:n,m.T=null,n=Au,Au=null;var x=Jl,j=jl;if(Lt=0,Pa=Jl=null,jl=0,($e&6)!==0)throw Error(r(331));var L=$e;if($e|=4,pf(x.current),gf(x,x.current,j,n),$e=L,Xi(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Gn,x)}catch{}return!0}finally{D.p=u,m.T=l,Rf(e,t)}}function Of(e,t,n){t=wn(n,t),t=su(e.stateNode,t,2),e=Ol(e,t,2),e!==null&&(Ae(e,2),$n(e))}function lt(e,t,n){if(e.tag===3)Of(e,e,n);else for(;t!==null;){if(t.tag===3){Of(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xl===null||!Xl.has(l))){e=wn(n,e),n=Oo(2),l=Ol(t,n,2),l!==null&&(Ho(n,l,t,e),Ae(l,2),$n(l));break}}t=t.return}}function ku(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new w2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(Mu=!0,u.add(n),e=D2.bind(null,e,t,n),t.then(e,e))}function D2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ut===e&&(He&n)===n&&(vt===4||vt===3&&(He&62914560)===He&&300>Qe()-n0?($e&2)===0&&Fa(e,0):zu|=n,Wa===He&&(Wa=0)),$n(e)}function Hf(e,t){t===0&&(t=Ke()),e=oa(e,t),e!==null&&(Ae(e,t),$n(e))}function N2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hf(e,n)}function A2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Hf(e,n)}function T2(e,t){return Zt(e,t)}var s0=null,ei=null,Bu=!1,x0=!1,qu=!1,Ql=0;function $n(e){e!==ei&&e.next===null&&(ei===null?s0=ei=e:ei=ei.next=e),x0=!0,Bu||(Bu=!0,E2())}function Xi(e,t){if(!qu&&x0){qu=!0;do for(var n=!1,l=s0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var x=0;else{var j=l.suspendedLanes,L=l.pingedLanes;x=(1<<31-Oe(42|e)+1)-1,x&=u&~(j&~L),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Kf(l,x))}else x=He,x=we(l,l===ut?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||We(l,x)||(n=!0,Kf(l,x));l=l.next}while(n);qu=!1}}function L2(){Yf()}function Yf(){x0=Bu=!1;var e=0;Ql!==0&&U2()&&(e=Ql);for(var t=Qe(),n=null,l=s0;l!==null;){var u=l.next,x=Uf(l,t);x===0?(l.next=null,n===null?s0=u:n.next=u,u===null&&(ei=n)):(n=l,(e!==0||(x&3)!==0)&&(x0=!0)),l=u}Lt!==0&&Lt!==5||Xi(e),Ql!==0&&(Ql=0)}function Uf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var j=31-Oe(x),L=1<<j,X=u[j];X===-1?((L&n)===0||(L&l)!==0)&&(u[j]=Pe(L,t)):X<=t&&(e.expiredLanes|=L),x&=~L}if(t=ut,n=He,n=we(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(nt===2||nt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Rn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||We(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Rn(l),mt(n)){case 2:case 8:n=rl;break;case 32:n=cl;break;case 268435456:n=ia;break;default:n=cl}return l=Zf.bind(null,e),n=Zt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Rn(l),e.callbackPriority=2,e.callbackNode=null,2}function Zf(e,t){if(Lt!==0&&Lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(u0()&&e.callbackNode!==n)return null;var l=He;return l=we(e,e===ut?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(jf(e,l,t),Uf(e,Qe()),e.callbackNode!=null&&e.callbackNode===n?Zf.bind(null,e):null)}function Kf(e,t){if(u0())return null;jf(e,t,!0)}function E2(){K2(function(){($e&6)!==0?Zt(Dl,L2):Yf()})}function Iu(){if(Ql===0){var e=Ga;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),Ql=e}return Ql}function Xf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vr(""+e)}function Jf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function k2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var x=Xf((u[Le]||null).action),j=l.submitter;j&&(t=(t=j[Le]||null)?Xf(t.formAction):j.getAttribute("formAction"),t!==null&&(x=t,j=null));var L=new Sr("action","action",null,l,u);e.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ql!==0){var X=j?Jf(u,j):new FormData(u);lu(n,{pending:!0,data:X,method:u.method,action:x},null,X)}}else typeof x=="function"&&(L.preventDefault(),X=j?Jf(u,j):new FormData(u),lu(n,{pending:!0,data:X,method:u.method,action:x},x,X))},currentTarget:u}]})}}for(var Ru=0;Ru<pc.length;Ru++){var Gu=pc[Ru],B2=Gu.toLowerCase(),q2=Gu[0].toUpperCase()+Gu.slice(1);Hn(B2,"on"+q2)}Hn(Sx,"onAnimationEnd"),Hn(wx,"onAnimationIteration"),Hn(Cx,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(F1,"onTransitionRun"),Hn($1,"onTransitionStart"),Hn(e2,"onTransitionCancel"),Hn(jx,"onTransitionEnd"),Ll("onMouseEnter",["mouseout","mouseover"]),Ll("onMouseLeave",["mouseout","mouseover"]),Ll("onPointerEnter",["pointerout","pointerover"]),Ll("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ji));function Vf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var j=l.length-1;0<=j;j--){var L=l[j],X=L.instance,le=L.currentTarget;if(L=L.listener,X!==x&&u.isPropagationStopped())break e;x=L,u.currentTarget=le;try{x(u)}catch(ce){jr(ce)}u.currentTarget=null,x=X}else for(j=0;j<l.length;j++){if(L=l[j],X=L.instance,le=L.currentTarget,L=L.listener,X!==x&&u.isPropagationStopped())break e;x=L,u.currentTarget=le;try{x(u)}catch(ce){jr(ce)}u.currentTarget=null,x=X}}}}function Ge(e,t){var n=t[di];n===void 0&&(n=t[di]=new Set);var l=e+"__bubble";n.has(l)||(Qf(t,e,2,!1),n.add(l))}function Ou(e,t,n){var l=0;t&&(l|=4),Qf(n,e,l,t)}var o0="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[o0]){e[o0]=!0,Rt.forEach(function(n){n!=="selectionchange"&&(I2.has(n)||Ou(n,!1,e),Ou(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[o0]||(t[o0]=!0,Ou("selectionchange",!1,t))}}function Qf(e,t,n,l){switch(Cd(t)){case 2:var u=oh;break;case 8:u=fh;break;default:u=ns}n=u.bind(null,t,n,e),u=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Yu(e,t,n,l,u){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var j=l.tag;if(j===3||j===4){var L=l.stateNode.containerInfo;if(L===u)break;if(j===4)for(j=l.return;j!==null;){var X=j.tag;if((X===3||X===4)&&j.stateNode.containerInfo===u)return;j=j.return}for(;L!==null;){if(j=Al(L),j===null)return;if(X=j.tag,X===5||X===6||X===26||X===27){l=x=j;continue e}L=L.parentNode}}l=l.return}Fs(function(){var le=x,ce=ic(n),se=[];e:{var ae=Mx.get(e);if(ae!==void 0){var re=Sr,ge=e;switch(e){case"keypress":if(pr(n)===0)break e;case"keydown":case"keyup":re=A1;break;case"focusin":ge="focus",re=oc;break;case"focusout":ge="blur",re=oc;break;case"beforeblur":case"afterblur":re=oc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=v1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=E1;break;case Sx:case wx:case Cx:re=_1;break;case jx:re=B1;break;case"scroll":case"scrollend":re=b1;break;case"wheel":re=I1;break;case"copy":case"cut":case"paste":re=w1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=lx;break;case"toggle":case"beforetoggle":re=G1}var je=(t&4)!==0,ct=!je&&(e==="scroll"||e==="scrollend"),$=je?ae!==null?ae+"Capture":null:ae;je=[];for(var Q=le,ne;Q!==null;){var ue=Q;if(ne=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ne===null||$===null||(ue=mi(Q,$),ue!=null&&je.push(Vi(Q,ue,ne))),ct)break;Q=Q.return}0<je.length&&(ae=new re(ae,ge,null,n,ce),se.push({event:ae,listeners:je}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",re=e==="mouseout"||e==="pointerout",ae&&n!==ac&&(ge=n.relatedTarget||n.fromElement)&&(Al(ge)||ge[ul]))break e;if((re||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,re?(ge=n.relatedTarget||n.toElement,re=le,ge=ge?Al(ge):null,ge!==null&&(ct=o(ge),je=ge.tag,ge!==ct||je!==5&&je!==27&&je!==6)&&(ge=null)):(re=null,ge=le),re!==ge)){if(je=tx,ue="onMouseLeave",$="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(je=lx,ue="onPointerLeave",$="onPointerEnter",Q="pointer"),ct=re==null?ae:be(re),ne=ge==null?ae:be(ge),ae=new je(ue,Q+"leave",re,n,ce),ae.target=ct,ae.relatedTarget=ne,ue=null,Al(ce)===le&&(je=new je($,Q+"enter",ge,n,ce),je.target=ne,je.relatedTarget=ct,ue=je),ct=ue,re&&ge)t:{for(je=R2,$=re,Q=ge,ne=0,ue=$;ue;ue=je(ue))ne++;ue=0;for(var Ce=Q;Ce;Ce=je(Ce))ue++;for(;0<ne-ue;)$=je($),ne--;for(;0<ue-ne;)Q=je(Q),ue--;for(;ne--;){if($===Q||Q!==null&&$===Q.alternate){je=$;break t}$=je($),Q=je(Q)}je=null}else je=null;re!==null&&Wf(se,ae,re,je,!1),ge!==null&&ct!==null&&Wf(se,ct,ge,je,!0)}}e:{if(ae=le?be(le):window,re=ae.nodeName&&ae.nodeName.toLowerCase(),re==="select"||re==="input"&&ae.type==="file")var Je=ox;else if(sx(ae))if(fx)Je=Q1;else{Je=J1;var ve=X1}else re=ae.nodeName,!re||re.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?le&&lc(le.elementType)&&(Je=ox):Je=V1;if(Je&&(Je=Je(e,le))){xx(se,Je,n,ce);break e}ve&&ve(e,ae,le),e==="focusout"&&le&&ae.type==="number"&&le.memoizedProps.value!=null&&nc(ae,"number",ae.value)}switch(ve=le?be(le):window,e){case"focusin":(sx(ve)||ve.contentEditable==="true")&&(Ta=ve,gc=le,wi=null);break;case"focusout":wi=gc=Ta=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,px(se,n,ce);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":px(se,n,ce)}var ke;if(dc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Aa?cx(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(ax&&n.locale!=="ko"&&(Aa||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Aa&&(ke=$s()):(El=ce,uc="value"in El?El.value:El.textContent,Aa=!0)),ve=f0(le,Ye),0<ve.length&&(Ye=new nx(Ye,e,null,n,ce),se.push({event:Ye,listeners:ve}),ke?Ye.data=ke:(ke=ux(n),ke!==null&&(Ye.data=ke)))),(ke=H1?Y1(e,n):U1(e,n))&&(Ye=f0(le,"onBeforeInput"),0<Ye.length&&(ve=new nx("onBeforeInput","beforeinput",null,n,ce),se.push({event:ve,listeners:Ye}),ve.data=ke)),k2(se,e,le,n,ce)}Vf(se,t)})}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function f0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,x=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||x===null||(u=mi(e,n),u!=null&&l.unshift(Vi(e,u,x)),u=mi(e,t),u!=null&&l.push(Vi(e,u,x))),e.tag===3)return l;e=e.return}return[]}function R2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wf(e,t,n,l,u){for(var x=t._reactName,j=[];n!==null&&n!==l;){var L=n,X=L.alternate,le=L.stateNode;if(L=L.tag,X!==null&&X===l)break;L!==5&&L!==26&&L!==27||le===null||(X=le,u?(le=mi(n,x),le!=null&&j.unshift(Vi(n,le,X))):u||(le=mi(n,x),le!=null&&j.push(Vi(n,le,X)))),n=n.return}j.length!==0&&e.push({event:t,listeners:j})}var G2=/\r\n?/g,O2=/\u0000|\uFFFD/g;function Pf(e){return(typeof e=="string"?e:""+e).replace(G2,`
`).replace(O2,"")}function Ff(e,t){return t=Pf(t),Pf(e)===t}function rt(e,t,n,l,u,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||za(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&za(e,""+l);break;case"className":br(e,"class",l);break;case"tabIndex":br(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":br(e,n,l);break;case"style":Ws(e,l,x);break;case"data":if(t!=="object"){br(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=vr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&rt(e,t,"name",u.name,u,null),rt(e,t,"formEncType",u.formEncType,u,null),rt(e,t,"formMethod",u.formMethod,u,null),rt(e,t,"formTarget",u.formTarget,u,null)):(rt(e,t,"encType",u.encType,u,null),rt(e,t,"method",u.method,u,null),rt(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=vr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=xl);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=vr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),mr(e,"popover",l);break;case"xlinkActuate":sl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=h1.get(n)||n,mr(e,n,l))}}function Uu(e,t,n,l,u,x){switch(n){case"style":Ws(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?za(e,l):(typeof l=="number"||typeof l=="bigint")&&za(e,""+l);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"onClick":l!=null&&(e.onclick=xl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ct.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),x=e[Le]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,u),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):mr(e,n,l)}}}function Yt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var l=!1,u=!1,x;for(x in n)if(n.hasOwnProperty(x)){var j=n[x];if(j!=null)switch(x){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:rt(e,t,x,j,n,null)}}u&&rt(e,t,"srcSet",n.srcSet,n,null),l&&rt(e,t,"src",n.src,n,null);return;case"input":Ge("invalid",e);var L=x=j=u=null,X=null,le=null;for(l in n)if(n.hasOwnProperty(l)){var ce=n[l];if(ce!=null)switch(l){case"name":u=ce;break;case"type":j=ce;break;case"checked":X=ce;break;case"defaultChecked":le=ce;break;case"value":x=ce;break;case"defaultValue":L=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,t));break;default:rt(e,t,l,ce,n,null)}}Xs(e,x,L,X,le,j,u,!1);return;case"select":Ge("invalid",e),l=j=x=null;for(u in n)if(n.hasOwnProperty(u)&&(L=n[u],L!=null))switch(u){case"value":x=L;break;case"defaultValue":j=L;break;case"multiple":l=L;default:rt(e,t,u,L,n,null)}t=x,n=j,e.multiple=!!l,t!=null?Ma(e,!!l,t,!1):n!=null&&Ma(e,!!l,n,!0);return;case"textarea":Ge("invalid",e),x=u=l=null;for(j in n)if(n.hasOwnProperty(j)&&(L=n[j],L!=null))switch(j){case"value":l=L;break;case"defaultValue":u=L;break;case"children":x=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:rt(e,t,j,L,n,null)}Vs(e,l,u,x);return;case"option":for(X in n)n.hasOwnProperty(X)&&(l=n[X],l!=null)&&(X==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(e,t,X,l,n,null));return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(l=0;l<Ji.length;l++)Ge(Ji[l],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in n)if(n.hasOwnProperty(le)&&(l=n[le],l!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:rt(e,t,le,l,n,null)}return;default:if(lc(t)){for(ce in n)n.hasOwnProperty(ce)&&(l=n[ce],l!==void 0&&Uu(e,t,ce,l,n,void 0));return}}for(L in n)n.hasOwnProperty(L)&&(l=n[L],l!=null&&rt(e,t,L,l,n,null))}function H2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,x=null,j=null,L=null,X=null,le=null,ce=null;for(re in n){var se=n[re];if(n.hasOwnProperty(re)&&se!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":X=se;default:l.hasOwnProperty(re)||rt(e,t,re,null,l,se)}}for(var ae in l){var re=l[ae];if(se=n[ae],l.hasOwnProperty(ae)&&(re!=null||se!=null))switch(ae){case"type":x=re;break;case"name":u=re;break;case"checked":le=re;break;case"defaultChecked":ce=re;break;case"value":j=re;break;case"defaultValue":L=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,t));break;default:re!==se&&rt(e,t,ae,re,l,se)}}tc(e,j,L,X,le,ce,x,u);return;case"select":re=j=L=ae=null;for(x in n)if(X=n[x],n.hasOwnProperty(x)&&X!=null)switch(x){case"value":break;case"multiple":re=X;default:l.hasOwnProperty(x)||rt(e,t,x,null,l,X)}for(u in l)if(x=l[u],X=n[u],l.hasOwnProperty(u)&&(x!=null||X!=null))switch(u){case"value":ae=x;break;case"defaultValue":L=x;break;case"multiple":j=x;default:x!==X&&rt(e,t,u,x,l,X)}t=L,n=j,l=re,ae!=null?Ma(e,!!n,ae,!1):!!l!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":re=ae=null;for(L in n)if(u=n[L],n.hasOwnProperty(L)&&u!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:rt(e,t,L,null,l,u)}for(j in l)if(u=l[j],x=n[j],l.hasOwnProperty(j)&&(u!=null||x!=null))switch(j){case"value":ae=u;break;case"defaultValue":re=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==x&&rt(e,t,j,u,l,x)}Js(e,ae,re);return;case"option":for(var ge in n)ae=n[ge],n.hasOwnProperty(ge)&&ae!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?e.selected=!1:rt(e,t,ge,null,l,ae));for(X in l)ae=l[X],re=n[X],l.hasOwnProperty(X)&&ae!==re&&(ae!=null||re!=null)&&(X==="selected"?e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":rt(e,t,X,ae,l,re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in n)ae=n[je],n.hasOwnProperty(je)&&ae!=null&&!l.hasOwnProperty(je)&&rt(e,t,je,null,l,ae);for(le in l)if(ae=l[le],re=n[le],l.hasOwnProperty(le)&&ae!==re&&(ae!=null||re!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,t));break;default:rt(e,t,le,ae,l,re)}return;default:if(lc(t)){for(var ct in n)ae=n[ct],n.hasOwnProperty(ct)&&ae!==void 0&&!l.hasOwnProperty(ct)&&Uu(e,t,ct,void 0,l,ae);for(ce in l)ae=l[ce],re=n[ce],!l.hasOwnProperty(ce)||ae===re||ae===void 0&&re===void 0||Uu(e,t,ce,ae,l,re);return}}for(var $ in n)ae=n[$],n.hasOwnProperty($)&&ae!=null&&!l.hasOwnProperty($)&&rt(e,t,$,null,l,ae);for(se in l)ae=l[se],re=n[se],!l.hasOwnProperty(se)||ae===re||ae==null&&re==null||rt(e,t,se,ae,l,re)}function $f(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],x=u.transferSize,j=u.initiatorType,L=u.duration;if(x&&L&&$f(j)){for(j=0,L=u.responseEnd,l+=1;l<n.length;l++){var X=n[l],le=X.startTime;if(le>L)break;var ce=X.transferSize,se=X.initiatorType;ce&&$f(se)&&(X=X.responseEnd,j+=ce*(X<L?1:(L-le)/(X-le)))}if(--l,t+=8*(x+j)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zu=null,Ku=null;function d0(e){return e.nodeType===9?e:e.ownerDocument}function ed(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function td(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=null;function U2(){var e=window.event;return e&&e.type==="popstate"?e===Ju?!1:(Ju=e,!0):(Ju=null,!1)}var nd=typeof setTimeout=="function"?setTimeout:void 0,Z2=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,K2=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(X2)}:nd;function X2(e){setTimeout(function(){throw e})}function Wl(e){return e==="head"}function ad(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ai(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Qi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Qi(n);for(var x=n.firstChild;x;){var j=x.nextSibling,L=x.nodeName;x[ca]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=j}}else n==="body"&&Qi(e.ownerDocument.body);n=u}while(n);ai(t)}function id(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Vu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vu(n),hi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function J2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ca])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function V2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function rd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function Qu(e){return e.data==="$?"||e.data==="$~"}function Wu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Q2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pu=null;function cd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ud(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function sd(e,t,n){switch(t=d0(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Qi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hi(e)}var Nn=new Map,xd=new Set;function h0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ml=D.d;D.d={f:W2,r:P2,D:F2,C:$2,L:eh,m:th,X:lh,S:nh,M:ah};function W2(){var e=Ml.f(),t=i0();return e||t}function P2(e){var t=Tl(e);t!==null&&t.tag===5&&t.type==="form"?Mo(t):Ml.r(e)}var ti=typeof document>"u"?null:document;function od(e,t,n){var l=ti;if(l&&typeof t=="string"&&t){var u=_n(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),xd.has(u)||(xd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Yt(t,"link",e),Me(t),l.head.appendChild(t)))}}function F2(e){Ml.D(e),od("dns-prefetch",e,null)}function $2(e,t){Ml.C(e,t),od("preconnect",e,t)}function eh(e,t,n){Ml.L(e,t,n);var l=ti;if(l&&e&&t){var u='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+_n(n.imageSizes)+'"]')):u+='[href="'+_n(e)+'"]';var x=u;switch(t){case"style":x=ni(e);break;case"script":x=li(e)}Nn.has(x)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Nn.set(x,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Wi(x))||t==="script"&&l.querySelector(Pi(x))||(t=l.createElement("link"),Yt(t,"link",e),Me(t),l.head.appendChild(t)))}}function th(e,t){Ml.m(e,t);var n=ti;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(e)+'"]',x=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=li(e)}if(!Nn.has(x)&&(e=w({rel:"modulepreload",href:e},t),Nn.set(x,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pi(x)))return}l=n.createElement("link"),Yt(l,"link",e),Me(l),n.head.appendChild(l)}}}function nh(e,t,n){Ml.S(e,t,n);var l=ti;if(l&&e){var u=pe(l).hoistableStyles,x=ni(e);t=t||"default";var j=u.get(x);if(!j){var L={loading:0,preload:null};if(j=l.querySelector(Wi(x)))L.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nn.get(x))&&Fu(e,n);var X=j=l.createElement("link");Me(X),Yt(X,"link",e),X._p=new Promise(function(le,ce){X.onload=le,X.onerror=ce}),X.addEventListener("load",function(){L.loading|=1}),X.addEventListener("error",function(){L.loading|=2}),L.loading|=4,m0(j,t,l)}j={type:"stylesheet",instance:j,count:1,state:L},u.set(x,j)}}}function lh(e,t){Ml.X(e,t);var n=ti;if(n&&e){var l=pe(n).hoistableScripts,u=li(e),x=l.get(u);x||(x=n.querySelector(Pi(u)),x||(e=w({src:e,async:!0},t),(t=Nn.get(u))&&$u(e,t),x=n.createElement("script"),Me(x),Yt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function ah(e,t){Ml.M(e,t);var n=ti;if(n&&e){var l=pe(n).hoistableScripts,u=li(e),x=l.get(u);x||(x=n.querySelector(Pi(u)),x||(e=w({src:e,async:!0,type:"module"},t),(t=Nn.get(u))&&$u(e,t),x=n.createElement("script"),Me(x),Yt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function fd(e,t,n,l){var u=(u=ee.current)?h0(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ni(n.href),n=pe(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ni(n.href);var x=pe(u).hoistableStyles,j=x.get(e);if(j||(u=u.ownerDocument||u,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,j),(x=u.querySelector(Wi(e)))&&!x._p&&(j.instance=x,j.state.loading=5),Nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nn.set(e,n),x||ih(u,e,n,j.state))),t&&l===null)throw Error(r(528,""));return j}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=li(n),n=pe(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ni(e){return'href="'+_n(e)+'"'}function Wi(e){return'link[rel="stylesheet"]['+e+"]"}function dd(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function ih(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Yt(t,"link",n),Me(t),e.head.appendChild(t))}function li(e){return'[src="'+_n(e)+'"]'}function Pi(e){return"script[async]"+e}function hd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+_n(n.href)+'"]');if(l)return t.instance=l,Me(l),l;var u=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Me(l),Yt(l,"style",u),m0(l,n.precedence,e),t.instance=l;case"stylesheet":u=ni(n.href);var x=e.querySelector(Wi(u));if(x)return t.state.loading|=4,t.instance=x,Me(x),x;l=dd(n),(u=Nn.get(u))&&Fu(l,u),x=(e.ownerDocument||e).createElement("link"),Me(x);var j=x;return j._p=new Promise(function(L,X){j.onload=L,j.onerror=X}),Yt(x,"link",l),t.state.loading|=4,m0(x,n.precedence,e),t.instance=x;case"script":return x=li(n.src),(u=e.querySelector(Pi(x)))?(t.instance=u,Me(u),u):(l=n,(u=Nn.get(x))&&(l=w({},n),$u(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Me(u),Yt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,m0(l,n.precedence,e));return t.instance}function m0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,x=u,j=0;j<l.length;j++){var L=l[j];if(L.dataset.precedence===t)x=L;else if(x!==u)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $u(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var b0=null;function md(e,t,n){if(b0===null){var l=new Map,u=b0=new Map;u.set(n,l)}else u=b0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var x=n[u];if(!(x[ca]||x[bt]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var j=x.getAttribute(t)||"";j=e+j;var L=l.get(j);L?L.push(x):l.set(j,[x])}}return l}function bd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function rh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ch(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ni(l.href),x=t.querySelector(Wi(u));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=g0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,Me(x);return}x=t.ownerDocument||t,l=dd(l),(u=Nn.get(u))&&Fu(l,u),x=x.createElement("link"),Me(x);var j=x;j._p=new Promise(function(L,X){j.onload=L,j.onerror=X}),Yt(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=g0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var es=0;function uh(e,t){return e.stylesheets&&e.count===0&&y0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&y0(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&es===0&&(es=62500*Y2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&y0(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>es?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function g0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)y0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var v0=null;function y0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,v0=new Map,t.forEach(sh,e),v0=null,g0.call(e))}function sh(e,t){if(!(t.state.loading&4)){var n=v0.get(e);if(n)var l=n.get(null);else{n=new Map,v0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<u.length;x++){var j=u[x];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(n.set(j.dataset.precedence,j),l=j)}l&&n.set(null,l)}u=t.instance,j=u.getAttribute("data-precedence"),x=n.get(j)||l,x===l&&n.set(null,u),n.set(j,u),this.count++,l=g0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),x?x.parentNode.insertBefore(u,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Fi={$$typeof:G,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function xh(e,t,n,l,u,x,j,L,X){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xe(0),this.hiddenUpdates=Xe(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=x,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function vd(e,t,n,l,u,x,j,L,X,le,ce,se){return e=new xh(e,t,n,j,X,le,ce,se,L),t=1,x===!0&&(t|=24),x=rn(3,null,null,t),e.current=x,x.stateNode=e,t=Ec(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},Ic(x),e}function yd(e){return e?(e=ka,e):ka}function pd(e,t,n,l,u,x){u=yd(u),l.context===null?l.context=u:l.pendingContext=u,l=Gl(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=Ol(e,l,t),n!==null&&(en(n,e,t),Ai(n,e,t))}function _d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ts(e,t){_d(e,t),(e=e.alternate)&&_d(e,t)}function Sd(e){if(e.tag===13||e.tag===31){var t=oa(e,67108864);t!==null&&en(t,e,67108864),ts(e,67108864)}}function wd(e){if(e.tag===13||e.tag===31){var t=on();t=tt(t);var n=oa(e,t);n!==null&&en(n,e,t),ts(e,t)}}var p0=!0;function oh(e,t,n,l){var u=m.T;m.T=null;var x=D.p;try{D.p=2,ns(e,t,n,l)}finally{D.p=x,m.T=u}}function fh(e,t,n,l){var u=m.T;m.T=null;var x=D.p;try{D.p=8,ns(e,t,n,l)}finally{D.p=x,m.T=u}}function ns(e,t,n,l){if(p0){var u=ls(l);if(u===null)Yu(e,t,l,_0,n),jd(e,l);else if(hh(u,e,t,n,l))l.stopPropagation();else if(jd(e,l),t&4&&-1<dh.indexOf(e)){for(;u!==null;){var x=Tl(u);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var j=ze(x.pendingLanes);if(j!==0){var L=x;for(L.pendingLanes|=2,L.entangledLanes|=2;j;){var X=1<<31-Oe(j);L.entanglements[1]|=X,j&=~X}$n(x),($e&6)===0&&(l0=Qe()+500,Xi(0))}}break;case 31:case 13:L=oa(x,2),L!==null&&en(L,x,2),i0(),ts(x,2)}if(x=ls(l),x===null&&Yu(e,t,l,_0,n),x===u)break;u=x}u!==null&&l.stopPropagation()}else Yu(e,t,l,null,n)}}function ls(e){return e=ic(e),as(e)}var _0=null;function as(e){if(_0=null,e=Al(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _0=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vn()){case Dl:return 2;case rl:return 8;case cl:case Nl:return 32;case ia:return 268435456;default:return 32}default:return 32}}var is=!1,Pl=null,Fl=null,$l=null,$i=new Map,er=new Map,ea=[],dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jd(e,t){switch(e){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Fl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":$i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(t.pointerId)}}function tr(e,t,n,l,u,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[u]},t!==null&&(t=Tl(t),t!==null&&Sd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function hh(e,t,n,l,u){switch(t){case"focusin":return Pl=tr(Pl,e,t,n,l,u),!0;case"dragenter":return Fl=tr(Fl,e,t,n,l,u),!0;case"mouseover":return $l=tr($l,e,t,n,l,u),!0;case"pointerover":var x=u.pointerId;return $i.set(x,tr($i.get(x)||null,e,t,n,l,u)),!0;case"gotpointercapture":return x=u.pointerId,er.set(x,tr(er.get(x)||null,e,t,n,l,u)),!0}return!1}function Md(e){var t=Al(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,ra(e.priority,function(){wd(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,ra(e.priority,function(){wd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function S0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ls(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);ac=l,n.target.dispatchEvent(l),ac=null}else return t=Tl(n),t!==null&&Sd(t),e.blockedOn=n,!1;t.shift()}return!0}function zd(e,t,n){S0(e)&&n.delete(t)}function mh(){is=!1,Pl!==null&&S0(Pl)&&(Pl=null),Fl!==null&&S0(Fl)&&(Fl=null),$l!==null&&S0($l)&&($l=null),$i.forEach(zd),er.forEach(zd)}function w0(e,t){e.blockedOn===t&&(e.blockedOn=null,is||(is=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,mh)))}var C0=null;function Dd(e){C0!==e&&(C0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){C0===e&&(C0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(as(l||n)===null)continue;break}var x=Tl(n);x!==null&&(e.splice(t,3),t-=3,lu(x,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ai(e){function t(X){return w0(X,e)}Pl!==null&&w0(Pl,e),Fl!==null&&w0(Fl,e),$l!==null&&w0($l,e),$i.forEach(t),er.forEach(t);for(var n=0;n<ea.length;n++){var l=ea[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ea.length&&(n=ea[0],n.blockedOn===null);)Md(n),n.blockedOn===null&&ea.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],x=n[l+1],j=u[Le]||null;if(typeof x=="function")j||Dd(n);else if(j){var L=null;if(x&&x.hasAttribute("formAction")){if(u=x,j=x[Le]||null)L=j.formAction;else if(as(u)!==null)continue}else L=j.action;typeof L=="function"?n[l+1]=L:(n.splice(l,3),l-=3),Dd(n)}}}function Nd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(j){return u=j})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function rs(e){this._internalRoot=e}j0.prototype.render=rs.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=on();pd(n,l,e,t,null,null)},j0.prototype.unmount=rs.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pd(e.current,2,null,e,null,null),i0(),t[ul]=null}};function j0(e){this._internalRoot=e}j0.prototype.unstable_scheduleHydration=function(e){if(e){var t=On();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ea.length&&t!==0&&t<ea[n].priority;n++);ea.splice(n,0,e),n===0&&Md(e)}};var Ad=i.version;if(Ad!=="19.2.3")throw Error(r(527,Ad,"19.2.3"));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=b(t),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var bh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:m,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M0.isDisabled&&M0.supportsFiber)try{Gn=M0.inject(bh),qt=M0}catch{}}return lr.createRoot=function(e,t){if(!f(e))throw Error(r(299));var n=!1,l="",u=qo,x=Io,j=Ro;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(j=t.onRecoverableError)),t=vd(e,1,!1,null,null,n,l,null,u,x,j,Nd),e[ul]=t.current,Hu(e),new rs(t)},lr.hydrateRoot=function(e,t,n){if(!f(e))throw Error(r(299));var l=!1,u="",x=qo,j=Io,L=Ro,X=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(j=n.onCaughtError),n.onRecoverableError!==void 0&&(L=n.onRecoverableError),n.formState!==void 0&&(X=n.formState)),t=vd(e,1,!0,t,n??null,l,u,X,x,j,L,Nd),t.context=yd(null),n=t.current,l=on(),l=tt(l),u=Gl(l),u.callback=null,Ol(n,u,l),n=l,t.current.lanes=n,Ae(t,n),$n(t),e[ul]=t.current,Hu(e),new j0(t)},lr.version="19.2.3",lr}var Od;function Mh(){if(Od)return ss.exports;Od=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),ss.exports=jh(),ss.exports}var zh=Mh();const nl=An;(function(c,i){const a=An,r=c();for(;;)try{if(parseInt(a(160))/1*(-parseInt(a(139))/2)+parseInt(a(140))/3*(parseInt(a(156))/4)+-parseInt(a(161))/5*(parseInt(a(137))/6)+parseInt(a(141))/7+-parseInt(a(148))/8+-parseInt(a(128))/9*(parseInt(a(154))/10)+parseInt(a(133))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(A0,941768);const Dh=(function(){const c={nVIDh:"(((.+)+)+)+$"};let i=!0;return function(a,r){const f=An,o={soGYl:c[f(146)],VThni:function(y,d){return y===d},yljVb:"vRTJk",uQvNA:f(147)},v=i?function(){const y=f;if(o.VThni(o[y(138)],o[y(158)]))return _0x59d501[y(144)]().search(o.soGYl)[y(144)]().constructor(_0x10f87f).search(o.soGYl);if(r){const d=r[y(142)](a,arguments);return r=null,d}}:function(){};return i=!1,v}})(),ms=Dh(void 0,function(){const c=An;return ms[c(144)]().search(c(152))[c(144)]()[c(145)](ms).search(c(152))});function An(c,i){c=c-127;const a=A0();let r=a[c];if(An.IhtVHM===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};An.amLzTl=f,An.HzOVIP={},An.IhtVHM=!0}const o=a[0],v=c+o,y=An.HzOVIP[v];if(y)r=y;else{const d=function(b){this.QEhOHl=b,this.JNisCA=[1,0,0],this.ZopRSy=function(){return"newState"},this.KDzGim="\\w+ *\\(\\) *{\\w+ *",this.BSsExk=`['|"].+['|"];? *}`};d.prototype.BcgHSN=function(){const b=new RegExp(this.KDzGim+this.BSsExk),C=b.test(this.ZopRSy.toString())?--this.JNisCA[1]:--this.JNisCA[0];return this.jqmCzq(C)},d.prototype.jqmCzq=function(b){return~b?this.hgYXpt(this.QEhOHl):b},d.prototype.hgYXpt=function(b){for(let C=0,w=this.JNisCA.length;C<w;C++)this.JNisCA.push(Math.round(Math.random())),w=this.JNisCA.length;return b(this.JNisCA[0])},new d(An).BcgHSN(),r=An.amLzTl(r),An.HzOVIP[v]=r}return r}ms();const N0=()=>new Date()[nl(132)](),kt=c=>c+"_"+Math[nl(155)]()[nl(144)](36)[nl(134)](2,10),ye=(c,i,a)=>Math.max(i,Math[nl(149)](a,c)),na=c=>{const i=nl;return c===void 0||{JEFXT:function(r,f){return r===f}}.JEFXT(c,null)?c:JSON[i(150)](JSON.stringify(c))},ir=c=>Math.floor(c*.7/5)*5;function ll(c,i){const a=nl;return c.groups?c.groups.find(r=>r[a(130)][a(136)](i))??null:null}function A0(){const c=["Dvf2tKe","ChvZAa","mtC4mZG3owDsuKjiCW","nwDotfzgra","CMvKDwnL","nZq5mZu4wxfHr0jA","zMXVD2vYCW","zMXVD2vYswrZ","zMLUza","Dg9ju09tDhjPBMC","ndu3otuZnJv3qxHevMS","C2XPy2u","BgvHzKLKCW","Aw5JBhvKzxm","odu3mte3nhDQtun2Eq","EwXQvMi","mK51qKf3tW","ouTZt2rRva","mta1mtqYodbOENbYugm","yxbWBhK","z3jVDxbZ","Dg9tDhjPBMC","y29UC3rYDwn0B3i","BLzjrgG","z1fjs1K","odK1mdq4ogrXvNbvCa","BwLU","CgfYC2u","Cg9ZAxrPB24","kcGOlISPkYKRksSK","BgvUz3rO","mJaWqNHtDw5i","CMfUzg9T","mty5nZi5nMfzEMzpvG","CMvMCKG"];return A0=function(){return c},A0()}function Nh(c,i){const a=ll(c,i);return a?a.flowerIds:[i]}function zl(c,i){const a=nl;return c[a(143)]?c.groups[a(131)](r=>r.leafIds.includes(i))??null:null}function Ah(c,i){const a=nl,r={xqdgM:function(d,b){return d===b},petwO:function(d,b){return d/b}},f=(c.groups??[]).find(d=>d.id===i);if(!f)return{x:0,y:0};const o=[];for(const d of f[a(130)]){const b=c[a(129)][a(131)](C=>C.id===d);b&&o[a(159)](b[a(151)])}for(const d of f[a(135)]){const b=(c.leaves??[])[a(131)](C=>C.id===d);b&&o[a(159)](b.position)}if(r.xqdgM(o.length,0))return{x:0,y:0};const v=o[a(127)]((d,b)=>d+b.x,0),y=o[a(127)]((d,b)=>d+b.y,0);return{x:v/o[a(153)],y:r.petwO(y,o[a(153)])}}function Hd(c,i){const a=nl,r={refrH:function(o,v,y){return o(v,y)}},f=r[a(157)](zl,c,i);return f?f[a(135)]:[i]}const xi=Tn;function Tn(c,i){c=c-317;const a=T0();let r=a[c];if(Tn.OclDfG===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};Tn.KDWwGK=f,Tn.wntkaq={},Tn.OclDfG=!0}const o=a[0],v=c+o,y=Tn.wntkaq[v];if(y)r=y;else{const d=function(b){this.jnYLqz=b,this.NIZQlu=[1,0,0],this.ifiClz=function(){return"newState"},this.bRcLvF="\\w+ *\\(\\) *{\\w+ *",this.NCHskV=`['|"].+['|"];? *}`};d.prototype.nXlmWV=function(){const b=new RegExp(this.bRcLvF+this.NCHskV),C=b.test(this.ifiClz.toString())?--this.NIZQlu[1]:--this.NIZQlu[0];return this.fsdvxS(C)},d.prototype.fsdvxS=function(b){return~b?this.UvQmhr(this.jnYLqz):b},d.prototype.UvQmhr=function(b){for(let C=0,w=this.NIZQlu.length;C<w;C++)this.NIZQlu.push(Math.round(Math.random())),w=this.NIZQlu.length;return b(this.NIZQlu[0])},new d(Tn).nXlmWV(),r=Tn.KDWwGK(r),Tn.wntkaq[v]=r}return r}(function(c,i){const a=Tn,r=c();for(;;)try{if(parseInt(a(357))/1+-parseInt(a(335))/2+-parseInt(a(355))/3*(parseInt(a(352))/4)+parseInt(a(342))/5+-parseInt(a(338))/6*(-parseInt(a(323))/7)+parseInt(a(334))/8+-parseInt(a(363))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(T0,529939);const Th=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),bs=Th(void 0,function(){const c=Tn,i={KocwV:"(((.+)+)+)+$"};return bs[c(360)]().search(i.KocwV)[c(360)]().constructor(bs).search(c(320))});bs();const si=2/3,Yd=.6,Lh=.25,Eh=.75;function T0(){const c=["odaZmdK0thjksgHS","tvzsthu","ENjmAKS","Dg9tDhjPBMC","v1L2tNq","qNHyCM0","mte0otKZntr5y2zPBfe","yKrNA3G","C2L6zvn0zxbnBq","u1fsvdi","kcGOlISPkYKRksSK","wKvWv2G","wNrzBNG","mJHkq3DZrxi","zNnHCK4","tgLpwxK","ChvZAa","Bgf5zxjdB3vUDa","tKj2DMK","CM91BMq","wvnTCwm","rNLuufu","DgXNvwy","vMH3wva","nJa1mtm3nKTUwNDgCG","ntq4ntrbsgrQrKy","AfPOAfG","z3jHzhvHBa","ndG5otbiEhLkuuK","CMn1rLy","vwnRsxO","vujys1K","mJmXndu3nxLXwvHTza","verxt3O","Dw5PzM9YBq","Bfjsz20","C2L6zu1Vzgu","vuLKA3C","B3bNEMu","DKzNEKG","vvnbAgy","BwLU","odGWmdC2DMfZDw95","Bwf4","B0ruuwi","m0TlsKrnuG","wM9UtgW"];return T0=function(){return c},T0()}function aa(c,i,a){const r=Tn,f={BxXrm:function(G,k){return G/k},YSmqc:function(G,k){return G*k},VhwYP:function(G,k){return G<=k},qOzNU:"uniform",ZonLl:function(G,k){return G-k},tlgUf:function(G,k){return G===k},iQvit:function(G,k){return G/k},UBXKY:function(G,k){return G*k},ZEpWh:function(G,k){return G*k},eOfzK:r(337),TDWOz:function(G,k){return G+k},bDgkx:function(G,k){return G/k},hkCDh:function(G,k){return G*k}},o=f[r(362)](c,2),v=f[r(330)](i,Math.SQRT2)/2;if(f[r(333)](v,0)||f.VhwYP(o,0))return{diameter:c,layerCount:1};const y=a?.[r(346)]??f.qOzNU,d=a?.sizeStepMm??0,b=v*f.ZonLl(1,si),C=f[r(330)](Math.PI,o)/2,w=a?.[r(327)]??Math[r(353)](1,Math.round(f[r(362)](C,b))),p=f[r(332)](y,r(337))?i+(w-1)*d:i,M=f[r(362)](p*Math.SQRT2,2),z=v*Lh+M*Eh;if(w===1){const G=Math[r(351)](f.BxXrm(Math.PI,2),f.iQvit(M*si,o)),k=f[r(341)](o,Math.sin(G)),R=M*Yd*Math.sin(G);return{diameter:Math[r(329)](Math.max(c,f.ZEpWh(2,k+R))),layerCount:w}}let g=f[r(362)](v*si,o);for(let G=1;G<w;G++){const k=y===f.eOfzK?f[r(343)](i,G*d):i,R=f[r(330)](k,Math[r(319)])/2;g+=f[r(317)](f[r(321)](R,f.ZonLl(1,si)),o)}g=Math.min(g,Math.PI/2);const h=(o+f.hkCDh(z,Yd))*Math.sin(g),E=Math.max(0,f[r(356)](h,o));return{diameter:Math[r(329)](c+2*E),layerCount:w}}function ur(c,i,a=xi(344),r=0){const f=xi,o={zrLjK:function(d,b){return d/b},lRRgm:function(d,b){return d<=b},xeqat:function(d,b){return d<b},NBvvi:function(d,b){return d===b},hZhhX:f(349)};if(o[f(345)](i,0)||c<=0)return 0;const v=[];for(let d=0;o.xeqat(d,i);d++)if(o[f(328)](o[f(336)],"SsPsT"))_0x1cb9a8+=o[f(359)](_0x365f71[_0x3788bb],3);else{const b=o[f(328)](a,"gradual")?c+d*r:c;v[f(326)](b*Math[f(319)]/2)}let y=v[0];for(let d=1;d<i;d++)y+=v[d]/3;return Math[f(329)](y*2)}function kh(c,i,a=xi(344),r=0){const f=xi,o={LiOYy:function(w,p){return w===p},WYvNt:f(344),FyTPU:f(339),dsZWg:function(w,p){return w*p},oDTQb:function(w,p){return w+p},UckIz:function(w,p){return w*p},Zcogq:function(w,p){return w/p},RiYVw:function(w,p){return w*p},USAhf:function(w,p){return w-p}};if(i<=0||c<=0)return 0;const v=c/2,y=Math[f(319)]/2,d=i;if(o[f(325)](a,o[f(361)])||r===0)if(f(339)===o[f(331)]){const w=o.dsZWg(y,o[f(354)](d,2))/3;return Math.max(1,Math[f(329)](v/w))}else _0x582904=_0x1f6c97;const b=o[f(340)](o.UckIz(r,d-1),d)/6,C=o.Zcogq(o.RiYVw(o[f(350)](o.Zcogq(v,y),b),3),d+2);return Math[f(353)](1,Math[f(329)](C))}function Bh(c,i,a){const r=xi,f={mwhwZ:function(y,d){return y<=d},VUHpU:function(y,d){return y+d},OVJdA:function(y,d,b,C){return y(d,b,C)},UIdkw:function(y,d){return y<d},opgze:function(y,d){return y/d},qLCLd:function(y,d){return y+d}};if(f.mwhwZ(c,i))return 1;let o=1,v=80;for(let y=0;y<30;y++){const d=f.VUHpU(o,v)/2,{diameter:b}=f.OVJdA(aa,i,d,a);f[r(347)](b,c)?o=d:v=d}return Math[r(353)](1,Math[r(329)](f[r(348)](f.qLCLd(o,v),2)))}function qh(c,i,a){const r=xi,f={MVRLu:function(p,M){return p/M},qmHLW:function(p,M){return p===M},vYNxu:function(p,M){return p<M},oxFTf:function(p,M){return p*M},fsarN:function(p,M){return p-M},ZtYnx:function(p,M){return p>M}},o=c/2,v=f.MVRLu(i*Math.SQRT2,2);if(v<=0||o<=0)return 1;const y=a?.[r(346)]??r(344),d=a?.[r(318)]??0,b=f[r(358)](Math.PI,2);if(f.qmHLW(y,r(344))||d===0){const p=v/3,M=Math.PI*o/2;return Math.max(1,Math[r(329)](M/p))}let C=f[r(358)](v*si,o);if(C>=b)return 1;let w=1;for(let p=1;f.vYNxu(p,100);p++){const M=i+f.oxFTf(p,d),z=M*Math.SQRT2/2,g=f[r(358)](f.oxFTf(z,f[r(324)](1,si)),o);if(C+=g,f[r(322)](C,b+g/2))break;w=p+1}return Math.max(1,w)}(function(c,i){const a=St,r=c();for(;;)try{if(-parseInt(a(332))/1*(parseInt(a(284))/2)+parseInt(a(279))/3*(-parseInt(a(295))/4)+parseInt(a(273))/5*(-parseInt(a(280))/6)+-parseInt(a(323))/7+parseInt(a(302))/8+-parseInt(a(293))/9*(parseInt(a(275))/10)+parseInt(a(342))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(L0,111276);const Ih=(function(){let c=!0;return function(i,a){const r=c?function(){const f=St;if(a){const o=a[f(328)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),gs=Ih(void 0,function(){const c=St,i={uuKMX:c(344)};return gs.toString()[c(287)]("(((.+)+)+)+$")[c(310)]()[c(281)](gs)[c(287)](i[c(276)])});gs();const fr=.28,Ud={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function sr(c){const i=St,a={QDtAg:"",RApuP:i(306)};return c===i(309)?Ud[a[i(331)]]:Ud[a[i(337)]]}function la(c){const i=St,a={xcIHN:function(r,f){return r/f},TzARS:function(r,f){return r*f}};return a[i(289)](a[i(320)](c,Math.PI),180)}const nn=2.7;function Bt(c){const i=St,a={JLsWj:function(v,y){return v*y},fjSDC:function(v,y){return v/y}},r=c*Math.SQRT2/2,f=a[i(316)](r,nn),o=a[i(318)](f,2);return{length:f,width:o}}function Rh(c){return c*nn/2}function rr(c,i,a){const r=St,f={mugUk:function(b,C){return b*C},gumWf:function(b,C){return b-C},WbltJ:function(b,C){return b/C}},{length:o}=Bt(a),v=f.mugUk(o,i),y=Math.max(0,f[r(335)](c,v*fr)),d=y+v;return f.WbltJ(d*2,nn)}function Gh(c,i,a){const r=St,f={wgmBk:function(d,b){return d*b},xHtoH:function(d,b){return d*b},USsEU:function(d,b){return d*b},XrrIw:function(d,b){return d-b}},{length:o}=Bt(a),v=f.wgmBk(o,i),y=f.xHtoH(c,nn)/2;return Math[r(304)](2,y-f[r(299)](v,f[r(282)](1,fr)))}function St(c,i){c=c-273;const a=L0();let r=a[c];if(St.XUcMgm===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};St.wYNTyl=f,St.IUwmcn={},St.XUcMgm=!0}const o=a[0],v=c+o,y=St.IUwmcn[v];if(y)r=y;else{const d=function(b){this.uiqYRI=b,this.yTqLHh=[1,0,0],this.psmcqQ=function(){return"newState"},this.RFrEJq="\\w+ *\\(\\) *{\\w+ *",this.wXYUjC=`['|"].+['|"];? *}`};d.prototype.ROszjb=function(){const b=new RegExp(this.RFrEJq+this.wXYUjC),C=b.test(this.psmcqQ.toString())?--this.yTqLHh[1]:--this.yTqLHh[0];return this.tkGukZ(C)},d.prototype.tkGukZ=function(b){return~b?this.EADZNg(this.uiqYRI):b},d.prototype.EADZNg=function(b){for(let C=0,w=this.yTqLHh.length;C<w;C++)this.yTqLHh.push(Math.round(Math.random())),w=this.yTqLHh.length;return b(this.yTqLHh[0])},new d(St).ROszjb(),r=St.wYNTyl(r),St.IUwmcn[v]=r}return r}function tl(c,i,a){const r=St,f={Gphtu:function(C,w){return C<=w},KjbNl:function(C,w){return C/w},jlviH:function(C,w){return C<w},AEFWd:function(C,w){return C%w},yMMcj:function(C,w){return C+w},nCHax:function(C,w){return C*w},KZLPV:function(C,w){return C-w},NUGzT:function(C,w){return C>w},pkUCI:function(C,w){return C/w}};if(!c||f.Gphtu(c,0)||!a||a<=0)return i??0;const o=360/c,v=f[r(322)](360,a),y=[];for(let C=0;f[r(330)](C,c);C++)y.push((f.AEFWd(f[r(329)](i,f.nCHax(C,o)),360)+360)%360);let d=i+o/2,b=-1;for(let C=0;C<c;C++){const w=f.yMMcj(i+C*o,o/2);let p=1/0;for(let M=0;M<a;M++){const z=f[r(329)](f[r(341)](f.yMMcj(w,f.nCHax(M,v)),360),360)%360;for(const g of y){let h=Math[r(277)](f.KZLPV(z,g));h>180&&(h=360-h),h<p&&(p=h)}}f.NUGzT(p,b)&&(b=p,d=w)}return f[r(274)](Math.round(d*10),10)}function P0(c,i,a){const r=St,f={JsrjU:r(344),JikuM:function(M,z){return M(z)},ibWIS:function(M,z){return M*z},qwxaJ:function(M,z){return M/z},bwvSQ:function(M,z){return M/z},axCMF:function(M,z){return M!==z},fCbqo:r(324),bsWtH:function(M,z){return M*z},qsFEd:function(M,z,g){return M(z,g)}};if(c[r(303)]===0)return;const{length:o}=f.JikuM(Bt,i),v=c[0],y=v[r(313)]??1,d=o*y,b=Math.max(0,v.radius-f.ibWIS(d,fr)),C=b+d;if(C<=0)return;const w=f[r(290)](f.ibWIS(a,nn),2),p=f[r(298)](w,C);for(const M of c)if(f.axCMF(f[r(300)],r(336)))M.radius=Math.max(2,f.bwvSQ(Math.round(f.bsWtH(f[r(301)](M.radius,p),10)),10)),M.scale=Math[r(311)](f.bsWtH(M.scale??1,p)*100)/100;else return _0x24508f.toString().search(IXuDHU[r(307)]).toString().constructor(_0x3a4744).search("(((.+)+)+)+$");f[r(292)](vs,c,i)}function vs(c,i){const a=St,r={uZTRD:function(d,b){return d-b},WwtBq:function(d,b){return d*b},EwpNh:function(d,b){return d>b}};if(c.length===0)return;const f=c[r[a(326)](c.length,1)],{length:o}=Bt(i),v=r.WwtBq(o,f.scale??1),y=Math[a(325)](v*fr*10)/10;r.EwpNh(f[a(297)],y)&&(f[a(297)]=y)}function Oh(c,i,a,r){const f=St,o={gNjfN:function(p,M){return p===M},dvglJ:function(p,M){return p(M)},bHFuN:function(p,M){return p/M},aQoUJ:function(p,M){return p*M},kssIw:function(p,M){return p*M},EKjPv:function(p,M){return p<M},xBPFr:"",NGnaz:function(p,M){return p>M},lVVAm:function(p,M){return p/M},qgWci:function(p,M){return p-M},PkSso:function(p,M){return p/M},sagNO:function(p,M){return p*M},YrVhU:function(p,M,z,g){return p(M,z,g)}};if(o[f(288)](c[f(303)],0))return;const v=[...c].sort((p,M)=>M[f(339)]-p[f(339)]),{length:y}=o.dvglJ(Bt,i),d=v[f(303)],b=v[0].scale??1,C=y*b;v[0][f(297)]=o.bHFuN(Math[f(325)](o[f(338)](o.kssIw(C,fr),10)),10);for(let p=1;o[f(291)](p,d);p++){const M=v[p-1],z=o.aQoUJ(y,M[f(313)]??1);let g;if(a===o[f(308)])if(o.gNjfN("apJTc","ETEXH"))_0x19e633.radius=_0x3fa594;else{const E=70*Math.PI/180,H=o.NGnaz(d,1)?o[f(294)](p,o.qgWci(d,1))*E:0;g=o[f(312)](z,o[f(333)](30,100))*Math.cos(H)}else g=z/3;v[p].radius=Math[f(311)](o[f(296)](M.radius+g,10))/10}const w=[...c].sort((p,M)=>p.order-M.order);o[f(334)](P0,w,i,r);for(const p of w){const M=c[f(340)](z=>z.id===p.id);M&&(M.radius=p.radius,M.scale=p[f(313)])}}function oi(c){const i=St,a={EJCxB:function(d,b){return d/b},hrbiu:function(d,b){return d(b)},ByaRb:function(d,b){return d*b},jsNbA:function(d,b){return d/b}},r=a[i(305)](360,c),f=Math[i(321)](a.hrbiu(la,r/2))*2,o=.96,v=1.2,y=a[i(343)](f,v)/o;return a.jsNbA(Math.round(Math[i(304)](.3,Math[i(327)](3,y))*100),100)}function L0(){const c=["yND2u1e","vvnZrvu","zKnICw8","Awjxsvm","odaZotm2zLr0qxry","BgvUz3rO","Bwf4","ruPdEei","5lI444gK44g+44g/","sNnYALu","EejqrNi","5yMJ44gK44g+44g/","Dg9tDhjPBMC","CM91BMq","A3nZsxC","C2nHBgu","AfrREhy","y29Z","sKXZv2O","A2ndA2e","zMPtrem","AM9PBG","vhPbuLm","C2LU","s2PItMW","mti4ode0yxr5y2DK","uwLXC2K","zMXVB3i","DvPuuKq","BwLU","yxbWBhK","Eu1ny2O","AMX2AuG","uur0qwC","mJGZm01szgr3tq","ugTtC28","wxjwAfu","z3vTv2y","v09Xq1y","uKfWDva","yvfVvuO","B3jKzxi","zMLUza","quvgv2q","ntm4nJm1ownis1HPva","qNLHuMi","kcGOlISPkYKRksSK","ndeYntqWzgHoy0TP","CgTvq0K","mteYmdbeCg5pzwO","DxvltvG","ywjZ","rvj1qNi","nde5mZu4yLbsvMfc","mtjRqMvNEeC","y29UC3rYDwn0B3i","whjYsxC","ChvZAa","mZrYEuv0D04","v0Ppqw4","Dg9gAxHLza","C2vHCMnO","z05QzK4","Egnjse4","CxD4yuO","ruTQuhy","Cxngrwq","ody0tgr5r3rr","Bfzwqw0","nhDKtu5Rvq","C2fNtK8","CMfKAxvZ"];return L0=function(){return c},L0()}(function(c,i){const a=tn,r=c();for(;;)try{if(parseInt(a(481))/1+parseInt(a(507))/2*(parseInt(a(514))/3)+parseInt(a(492))/4+parseInt(a(484))/5+-parseInt(a(512))/6+parseInt(a(469))/7*(parseInt(a(476))/8)+-parseInt(a(497))/9*(parseInt(a(521))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(E0,764306);const Hh=(function(){const c={FnZjk:function(a,r){return a!==r},OBDUg:"vNCeo"};let i=!0;return function(a,r){const f=i?function(){const o=tn;if(c.FnZjk(c.OBDUg,o(479)))_0x24e005.radius=_0x3f7f31.radius,_0x55be24.scale=_0x554104[o(470)];else if(r){const v=r.apply(a,arguments);return r=null,v}}:function(){};return i=!1,f}})(),ys=Hh(void 0,function(){const c=tn,i={afHeC:"(((.+)+)+)+$"};return ys[c(483)]()[c(491)](i.afHeC)[c(483)]().constructor(ys)[c(491)]("(((.+)+)+)+$")});function tn(c,i){c=c-440;const a=E0();let r=a[c];if(tn.GpbePA===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};tn.UzvDOF=f,tn.kzqUdH={},tn.GpbePA=!0}const o=a[0],v=c+o,y=tn.kzqUdH[v];if(y)r=y;else{const d=function(b){this.ezQRPF=b,this.wyHSuY=[1,0,0],this.gIDHHD=function(){return"newState"},this.tpVzsY="\\w+ *\\(\\) *{\\w+ *",this.uSBYaR=`['|"].+['|"];? *}`};d.prototype.EfErQO=function(){const b=new RegExp(this.tpVzsY+this.uSBYaR),C=b.test(this.gIDHHD.toString())?--this.wyHSuY[1]:--this.wyHSuY[0];return this.wBENOJ(C)},d.prototype.wBENOJ=function(b){return~b?this.pOGOdd(this.ezQRPF):b},d.prototype.pOGOdd=function(b){for(let C=0,w=this.wyHSuY.length;C<w;C++)this.wyHSuY.push(Math.round(Math.random())),w=this.wyHSuY.length;return b(this.wyHSuY[0])},new d(tn).EfErQO(),r=tn.UzvDOF(r),tn.kzqUdH[v]=r}return r}ys();function E0(){const c=["y29Sx2HVDhbPBMS","uwLOuxa","y29Sx2nVCMfS","BMfTzq","5lI444gK44g+44g/","CgDtEKC","iZjgqKy0qq","y29Sx2XHDMvUzgvY","mJe5mZHhrePHvuu","C2nHBgu","s1LZuwO","CKjyAwG","te9jtfO","i0mWqZbdma","i0yWoencnG","ndi0D1fRy1Pl","Cgv0ywXdB3vUDa","v2vTu1O","DK5dzw8","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","mZy1ntq1t2zyAu1Y","y29Sx2DVBgq","Dg9tDhjPBMC","ndqXmZu4meHquuj1wG","5yMJ44gK44g+44g/","Bgf5","yMf0Ae4","y29Sx2DYzwvU","y29Sx2jSywnR","i0m4qtjena","C2vHCMnO","mZa0odiZmKHIzxjoyG","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","EwfHEvC","CLH1uwC","AvnlwLu","ndG1ndu5muPyBKHmEa","rMXVD2vYide","y29Sx2rHCMTNCMvLBG","iZLcntLcnG","y29Sx2nYzwfT","r0T2vKG","CMfKAxvZ","Cg9ZAxrPB24","iZncn0reoa","B3jKzxi","otyZnZiYA3Pzywfm","A2jkCuG","r1Pkve4","i0uZndG1ma","vfLdt1C","ndG5mta2og5AwfvWvW","CurhsKi","m2v4A2jmEa","EhfNsfu","i0uWndu3qG","CNnQwNu","y29Sx2jYB3DU","rfDqz28","t3v0zxi","mJbptMXeyMO","y29Sx3jLza","r1vTCwi","B0zVy2S","iZHcnuuZqW","iZDfqZHfmW","z25ss3O","sw5Uzxi","B2zMC2v0qw5NBgu","uvHpBhq","AwnhruW","ienVChK","BfD0u2W","uKn6yw4","sw5Juxq","ChjVAG","wxv3CLK","ChjQ","5y2k44gp44gz","t0HyD1K","y29Sx29Yyw5Nzq","y29Sx3DOAxrL","t3vIuuq","v1b0BgC","i0zerJvdoq","vKfYDfi","AgTfzNa","i0yWoda4ma","s1bWBeW","qMfnqMq","uwHOEgO","wxbHEMq"];return E0=function(){return c},E0()}function Fd(){const c=tn,i={Qhhxj:c(450),Ypazd:c(510),wWSyd:c(461),pgSzG:c(516),hkEfp:"#F08A3B",Trdwn:"col_lightyellow",icGEL:c(488),EFRfb:"#1A7A3A",gnRKz:"col_lightblue",YHkrb:c(468),bathN:"#D4A843",DbQBK:"col_silver",hMtQP:c(474),omFAm:c(501),JwdjX:"#F5E6CC",xqgHU:c(489),iSKZU:"#333333",LOILZ:c(463),GKvVH:c(456)};return[{id:i[c(459)],name:"",hex:"#F5F5F5"},{id:"col_red",name:"",hex:i[c(460)]},{id:"col_pink",name:"",hex:c(475)},{id:i.wWSyd,name:"",hex:i[c(466)]},{id:c(449),name:"",hex:i[c(455)]},{id:"col_yellow",name:"",hex:"#F2D04B"},{id:i.Trdwn,name:"",hex:c(453)},{id:i[c(531)],name:"",hex:c(467)},{id:c(499),name:"",hex:i.EFRfb},{id:i[c(527)],name:"",hex:c(526)},{id:"col_blue",name:"",hex:c(505)},{id:"col_navy",name:"",hex:"#2C3E6B"},{id:"col_purple",name:"",hex:c(500)},{id:i.YHkrb,name:"",hex:c(490)},{id:c(482),name:"",hex:i[c(487)]},{id:i.DbQBK,name:"",hex:i.hMtQP},{id:i.omFAm,name:"",hex:i.JwdjX},{id:c(518),name:"",hex:c(525)},{id:i[c(515)],name:"",hex:i[c(496)]},{id:i[c(473)],name:"",hex:i[c(502)]}]}function Yh({title:c,fabricSquareSize:i,baseDiameter:a}={}){const r=tn,f={KPplL:function(y,d){return y(d)},gFTKM:function(y,d){return y??d},gRVJE:function(y,d){return y??d},ouJlv:function(y,d){return y??d}},o=N0(),v=Fd();return f.KPplL(ja,{id:f[r(457)](kt,r(446)),title:f.gFTKM(c,""),unit:"mm",fabricSquareSize:f.gRVJE(i,20),baseDiameter:f.ouJlv(a,30),notes:"",createdAt:o,updatedAt:o,palette:v,flowers:[]})}function Uh(c,i){const a=tn,r={WPtlg:function(y,d){return y(d)},yHZvX:"flw",vrdBI:function(y,d){return y+d}},f=na(c);f.id=r[a(452)](kt,r.yHZvX),f[a(464)]=c.name+a(440);const o=i?.x??12,v=i?.y??12;return f[a(504)]={x:r.vrdBI(c[a(504)]?.x??0,o),y:(c.position?.y??0)+v},f.layers=(f.layers||[]).map(y=>({...y,id:kt("lay"),petalOverrides:y.petalOverrides?y.petalOverrides.map(d=>({...d})):void 0})),f}(function(c,i){const a=fn,r=c();for(;;)try{if(-parseInt(a(178))/1*(-parseInt(a(230))/2)+-parseInt(a(194))/3+-parseInt(a(221))/4*(-parseInt(a(169))/5)+-parseInt(a(165))/6+-parseInt(a(155))/7+parseInt(a(143))/8+parseInt(a(204))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(k0,568127);const Zh=(function(){let c=!0;return function(i,a){const r=c?function(){const f=fn;if(a){const o=a[f(177)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),ps=Zh(void 0,function(){const c=fn,i={smnoX:c(163)};return ps[c(196)]().search("(((.+)+)+)+$")[c(196)]()[c(216)](ps)[c(131)](i.smnoX)});ps();function fn(c,i){c=c-114;const a=k0();let r=a[c];if(fn.QiNVNL===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};fn.xDJhDz=f,fn.xMCDHz={},fn.QiNVNL=!0}const o=a[0],v=c+o,y=fn.xMCDHz[v];if(y)r=y;else{const d=function(b){this.URtxuH=b,this.yHaGrX=[1,0,0],this.PTjneg=function(){return"newState"},this.RPoRei="\\w+ *\\(\\) *{\\w+ *",this.zZMlDM=`['|"].+['|"];? *}`};d.prototype.aksJUU=function(){const b=new RegExp(this.RPoRei+this.zZMlDM),C=b.test(this.PTjneg.toString())?--this.yHaGrX[1]:--this.yHaGrX[0];return this.fYTTFV(C)},d.prototype.fYTTFV=function(b){return~b?this.GnnlJl(this.URtxuH):b},d.prototype.GnnlJl=function(b){for(let C=0,w=this.yHaGrX.length;C<w;C++)this.yHaGrX.push(Math.round(Math.random())),w=this.yHaGrX.length;return b(this.yHaGrX[0])},new d(fn).aksJUU(),r=fn.xDJhDz(r),fn.xMCDHz[v]=r}return r}function k0(){const c=["5y2k44gp44gz","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","vMX1CuO","DKDAwwq","ChvZAa","Dw5PDa","Cg9ZAxrPB24","tffbtfu","zg91yMXLugv0ywW","CvDXzgy","DxbKyxrLzef0","rfnZqxC","z3jW","Aw5UzxjtAxPLuMvKDwn0Aw9U","swXLy28","D2LKDgHty2fSzq","DgL0Bgu","C2vHCMnO","BwfYDq","CgfSzxr0zq","5yMJ44gK44g+44g/","vffkDfi","qwHzu2W","qvL2DK0","y29SB3i","BwfW","BgvHDMvZ","zMLSDgvY","CgvWq291BNq","nZa0otu3nNvczKTStq","BLLlwLG","u3PRAeu","Bgf5zxjZ","x2rVDwjSzvbLDgfSq2fJAgu","Aw5Uzxjty2fSzq","BgvHzKDYB3vWCW","zMXVD2vYswrZ","AxngAw5PDgu","CM90yxrPB24","zwrZB3G","BgvHzKLKCW","ntm3odiXmLrAtM1Ira","44or44o844oR","vgTYtu4","t0nXwwO","C2nHBgu","r0feDNq","Aw5UzxjqzxrHBfr5Cgu","y3jLyxrLzef0","kcGOlISPkYKRksSK","uNLkqxO","mZaXmdGYng9Tr1DPuW","BgLUA2vKrMXVD2vYr3jVDxbjza","swn5C20","B2jQzwn0","nJm5oduWsuTeug54","y2vUDgvY","Cgv0ywXdB3vUDa","BwP5ufK","AxnbCNjHEq","z0TZCu0","BM90zxm","y29SB3jjza","yxbWBhK","ndmXmdjNqKjyCxu","C3rLBMnPBhm","qwTgr1e","C3rYAw5N","yMfZzurPyw1LDgvY","BgvHzG","u0HTrvG","zMXVD2vYCW","DMvYC2LVBG","5lI444gK44g+44g/","yM9VBgvHBG","DMfYAwfUDa","EKH4CM8","CM91BMq","sM9Wv2K","C3L5wvK","mJa2ndiWn3PxsxLOBG","wvPnswW","Dg9tDhjPBMC","Bgf5","C2L6zq","BgvUz3rO","ywr1Bhq","vLbNtKi","rK9WA0S","zMLUza","mti4nZG1mdvqvvjTyLK","EKDAufu","DhLWzq","yLfNweO","C2HIBgC","Cgv0ywXpDMvYCMLKzxm","BgvMDa","zLvuC2m","t1vuvuG","A3jts2C","rMXVD2vY","z29htvO","y29UC3rYDwn0B3i","v3Hfsfm","zuPID3a","B2zMC2v0qw5NBgu","zMXVD2vYrgLHBwv0zxi","ngfZC3HLrq","Aw5UzxjdB2XVCKLK","zMfICMLJu3f1yxjLu2L6zq","A2vU","AgfZ","z3jVDxbZ","BMfTzq","BNzet20","Cgv0ywXuExbL","ngXxuvvkva"];return k0=function(){return c},k0()}function ds(c){const i=fn,a={mjyPY:function(r,f){return r===f},JopWi:i(187),qZeZA:function(r,f){return r===f},TQJtR:i(224),goGMZ:""};return a[i(172)](c,i(132))?a.JopWi:a.qZeZA(c,a[i(135)])?a[i(215)]:c===a[i(192)]||c===""?c:""}function ja(c){const i=fn,a={Icysm:function(o,v){return o!==v},RyJAz:function(o,v){return o!==v},qWqdf:function(o,v,y,d){return o(v,y,d)},eJbwp:function(o,v){return o===v},nYKZX:"",vONyK:i(163),kqChy:"",WxEHS:function(o,v){return o!=v},FOpkK:function(o,v){return o*v},lZecC:function(o,v,y,d){return o(v,y,d)},tmzKl:function(o,v){return o||v},WNpXI:function(o,v){return o(v)},xgUaK:"flw",Ileco:i(181),nvDOm:function(o,v){return o(v)},zGZPU:function(o,v,y,d){return o(v,y,d)},krSKg:function(o,v){return o(v)},dbBBl:function(o,v,y,d){return o(v,y,d)},AhYSl:function(o,v){return o<=v},bQgXJ:i(153),ArNOr:"",SzkhE:"",CXgMF:"WIgkn",VPgNB:function(o,v){return o!==v},syyYY:"ueNxr",fUTsc:"uQxZr",mrgBV:i(116),aRkFh:function(o,v){return o(v)},liuLL:i(115),uPJPj:function(o,v){return o!==v},aZnBU:function(o,v){return o(v)},vGZYd:"Leaf",YHvYe:function(o,v){return o(v)},OUTUH:"lTPjl",GADvt:"wHXwV",zHxro:"col_green",TkrMN:i(168),LQALU:function(o,v){return o!=v},NzZrd:i(137),rLqvk:"crroe",WQZOi:function(o,v){return o>v},AkFGQ:"KGDaQ",kjOpO:i(125),nYmTc:function(o,v){return o===v},kjQRl:i(184),NJyYD:function(o,v){return o(v)},HVoxS:function(o,v){return o!==v},PLcTx:"cQvVJ",gKsqM:"child",AGEeX:i(210)},r=na(a.tmzKl(c,{}));Array[i(173)](r[i(185)])||(r[i(185)]=[]);for(const o of r.flowers){o.id||(o.id=a.WNpXI(kt,a.xgUaK)),(typeof o[i(227)]!==a.Ileco||!o[i(227)])&&(o[i(227)]=i(214)),(!o[i(120)]||!Number[i(151)](o.position.x)||!Number.isFinite(o.position.y))&&(o.position={x:260,y:260}),Array[i(173)](o[i(146)])||(o[i(146)]=[]);for(const v of o[i(146)]){if(v.id||(v.id=kt(i(197))),(typeof v.colorId!==a.Ileco||!v[i(176)])&&(v[i(176)]=r.palette?.[0]?.id??"col_white"),v[i(229)]=a[i(228)](ds,v.petalType),v[i(171)]=a[i(205)](ye,a.krSKg(Number,v.petalCount||0),5,24),Number[i(151)](v.scale)||(v.scale=1),Number.isFinite(v.widthScale)||(v.widthScale=1),Number.isFinite(v.radius)||(v.radius=28),Number.isFinite(v[i(219)])||(v.offsetAngle=0),delete v[i(147)],v.doublePetal)if(a.Icysm(typeof v[i(122)],i(168))||v.doublePetal===null)delete v.doublePetal;else{if(v[i(122)][i(148)]!=null&&v.doublePetal[i(127)]==null){const y=o[i(223)]??r.fabricSquareSize??20;v[i(122)].innerSizeReduction=Math[i(191)](y*(1-v.doublePetal[i(148)]))}delete v.doublePetal.innerScale,Number[i(151)](v[i(122)][i(127)])||(v.doublePetal.innerSizeReduction=2),v.doublePetal[i(127)]=a.dbBBl(ye,v[i(122)][i(127)],1,30),delete v[i(122)][i(161)],v[i(122)][i(222)]!=null&&typeof v.doublePetal[i(222)]!==a.Ileco&&delete v[i(122)].innerColorId}if(Array[i(173)](v.petalOverrides))for(const y of v[i(209)])y&&a[i(217)](y[i(229)],null)&&(y[i(229)]=ds(y.petalType)),y&&delete y[i(161)],y&&y[i(222)]!=null&&typeof y.innerColorId!="string"&&delete y[i(222)],y&&y.innerSizeReduction!=null&&(Number[i(151)](y.innerSizeReduction)?y[i(127)]=ye(y.innerSizeReduction,1,30):delete y[i(127)])}if((!Number.isFinite(o[i(220)])||a[i(136)](o[i(220)],0))&&(a[i(218)](a[i(207)],i(158))?a.Icysm(typeof _0x2cc729.doublePetal,i(168))||_0x383fe6[i(122)]===null?delete _0x37426f[i(122)]:(_0x1a4a55[i(151)](_0x342c6a[i(122)].innerSizeReduction)||(_0x368aed[i(122)][i(127)]=2),_0x4262dd.doublePetal[i(127)]=_0x447759(_0xf0c414[i(122)][i(127)],1,30),_0xa1b833[i(122)].innerColorId!=null&&a.RyJAz(typeof _0x46e172[i(122)].innerColorId,i(181))&&delete _0x3fc1ab.doublePetal.innerColorId):o.flowerDiameter=60),o.center&&(o.center.type===a.ArNOr&&(o.center.type=""),["","",a[i(145)]].includes(o.center.type)||(o[i(170)].type=i(156)),Number[i(151)](o.center.size)||(o.center[i(198)]=6),o.center.size=ye(o.center.size,1,30),(a.Icysm(typeof o[i(170)].color,a.Ileco)||!o.center.color)&&(a.CXgMF==="WIgkn"?o.center[i(138)]=r.palette?.[0]?.id??"col_white":_0x46e371[i(225)](_0x14941c.id)||_0x90e1ef[i(133)].push(_0x53a053)),a[i(218)](o.center[i(206)],a.SzkhE)&&(Number.isFinite(o.center.pepCount)||(o.center.pepCount=12),o.center[i(142)]=ye(o.center[i(142)],4,30)),o.center.type!==""&&(a[i(201)](a[i(193)],"ueNxr")?delete _0x22cfe5.baseDiameter:delete o[i(170)].color2)),o.placementMode!==""&&a[i(167)](o.placementMode,"")&&(a.eJbwp(i(195),"BxgYM")?delete _0x25be6a[i(122)]:o.placementMode=i(114)),a[i(164)](o.baseDiameter,void 0)){if(a[i(211)]==="EDpWT")_0x1a4814[i(151)](_0x819fbf[i(127)])?_0x21af18[i(127)]=a[i(123)](_0x143b12,_0x551529[i(127)],1,30):delete _0x4c869a[i(127)];else if(!Number[i(151)](o.baseDiameter)||o[i(182)]<=0){if(a.VPgNB("VluqJ",a.mrgBV))return estUzd.eJbwp(_0x3822de,i(132))?i(187):_0x1d3f4a===i(224)?i(134):estUzd[i(218)](_0x3dd3a5,i(187))||_0x1ef5ef===""?_0x34faeb:estUzd[i(144)];delete o.baseDiameter}}}Array.isArray(r[i(133)])||(r[i(133)]=[]);const f=new Set(r[i(133)].map(o=>o.id));for(const o of Fd())f.has(o.id)||r.palette[i(118)](o);r[i(162)]||(r.createdAt=N0()),r[i(124)]||(r[i(124)]=r.createdAt),r.id||(r.id=a.aRkFh(kt,"proj")),r[i(130)]||(r[i(130)]=a.liuLL),r[i(119)]="mm",Number.isFinite(r.fabricSquareSize)||(r[i(223)]=20),(!Number[i(151)](r.baseDiameter)||a[i(136)](r.baseDiameter,0))&&(r[i(182)]=30),a.uPJPj(typeof r[i(175)],a[i(128)])&&(r[i(175)]=""),Array.isArray(r.groups)||(r[i(226)]=[]);{const o=new Set(r.flowers[i(139)](y=>y.id)),v=new Set((r.leaves??[]).map(y=>y.id));for(const y of r.groups)Array[i(173)](y.flowerIds)||(y[i(150)]=[]),Array[i(173)](y.leafIds)||(y.leafIds=[]),y[i(150)]=y.flowerIds[i(141)](d=>o.has(d)),y.leafIds=y[i(154)].filter(d=>v[i(225)](d)),Number[i(151)](y[i(152)])||(y.rotation=0),y.id||(y.id=a[i(213)](kt,i(126))),(typeof y[i(227)]!="string"||!y.name)&&(y.name=a.kqChy);r[i(226)]=r.groups[i(141)](y=>y.flowerIds.length+y[i(154)][i(199)]>0)}Array[i(173)](r.leaves)||(r[i(140)]=[]);for(const o of r[i(140)]){if(o.id||(o.id=a.aZnBU(kt,i(183))),(typeof o.name!="string"||!o.name)&&(o[i(227)]=a[i(117)]),(!o.position||!Number[i(151)](o.position.x)||!Number.isFinite(o.position.y))&&(o[i(120)]={x:675,y:675}),Number[i(151)](o.rotation)||(o.rotation=0),o.petalType=a.YHvYe(ds,o.petalType),a[i(201)](typeof o[i(176)],a[i(128)])||!o.colorId){if(a[i(218)](a[i(212)],a[i(160)]))return _0x24443d[i(196)]().search(estUzd.vONyK)[i(196)]()[i(216)](_0x5cf72d).search("(((.+)+)+)+$");o[i(176)]=r.palette?.[0]?.id??a[i(190)]}Number.isFinite(o.scale)||(o[i(159)]=1),Number.isFinite(o[i(129)])||(o.widthScale=1),typeof o.visible!==i(188)&&(o.visible=!0),typeof o.locked!="boolean"&&(o.locked=!1),delete o[i(147)],o[i(122)]&&(typeof o[i(122)]!==a[i(157)]||o[i(122)]===null?delete o.doublePetal:(Number[i(151)](o[i(122)].innerSizeReduction)||(o.doublePetal.innerSizeReduction=2),o.doublePetal.innerSizeReduction=ye(o.doublePetal.innerSizeReduction,1,30),a[i(121)](o[i(122)][i(222)],null)&&typeof o[i(122)][i(222)]!="string"&&(a.VPgNB(a.NzZrd,a.rLqvk)?delete o[i(122)][i(222)]:_0x47b68e.leafIds.includes(_0x2efb3c)||_0x2f4092.leafIds[i(118)](_0x53340a))))}if(Array.isArray(r[i(149)])&&a.WQZOi(r.leafGroups[i(199)],0))if(i(208)===a[i(180)]){const o=new _0x3e9007(_0x195276.flowers.map(y=>y.id)),v=new _0x4a85bf((_0x52e39d.leaves??[])[i(139)](y=>y.id));for(const y of _0x23ece1[i(226)])_0x52eabb.isArray(y.flowerIds)||(y[i(150)]=[]),_0x632f4b.isArray(y.leafIds)||(y[i(154)]=[]),y[i(150)]=y[i(150)][i(141)](d=>o[i(225)](d)),y.leafIds=y[i(154)][i(141)](d=>v.has(d)),_0x4f3ba6.isFinite(y.rotation)||(y.rotation=0),y.id||(y.id=_0xdd383a("grp")),(typeof y.name!==i(181)||!y.name)&&(y[i(227)]=a.kqChy);_0xc4add9.groups=_0x23d4e0[i(226)][i(141)](y=>y.flowerIds.length+y.leafIds.length>0)}else{const o=new Set((r[i(140)]??[])[i(139)](v=>v.id));for(const v of r.leafGroups)if(a.kjOpO==="udLxv"){if(a[i(217)](_0x3d788d.doublePetal[i(148)],null)&&_0x162651[i(122)][i(127)]==null){const y=_0x5c5ef8[i(223)]??_0x31d1a9.fabricSquareSize??20;_0x4f4f06[i(122)][i(127)]=_0x194909[i(191)](a[i(202)](y,1-_0x3c8249[i(122)].innerScale))}delete _0x44f97b.doublePetal.innerScale,_0x573bbe[i(151)](_0xae2355.doublePetal.innerSizeReduction)||(_0x548091[i(122)][i(127)]=2),_0x2f12d7.doublePetal.innerSizeReduction=_0x16f9a8(_0x20c952.doublePetal[i(127)],1,30),delete _0x57a127.doublePetal.innerPetalType,_0x210056.doublePetal.innerColorId!=null&&a[i(164)](typeof _0x38f21a[i(122)][i(222)],"string")&&delete _0x42ea32.doublePetal.innerColorId}else{if(!Array.isArray(v.leafIds))continue;const y=v[i(154)][i(141)](d=>o.has(d));if(a.nYmTc(y.length,0))continue;if(v[i(166)])if(a.kjQRl!=="SHmEX")delete _0x161727.center.color2;else{const d=r.groups[i(203)](b=>b.id===v.linkedFlowerGroupId);if(d){for(const b of y)d[i(154)].includes(b)||d[i(154)].push(b);continue}}r.groups[i(118)]({id:v.id||a.NJyYD(kt,"grp"),name:v.name||a.kqChy,flowerIds:[],leafIds:y,rotation:Number.isFinite(v.rotation)?v.rotation:0})}}if(delete r.leafGroups,Array[i(173)](r.stencils))if(a.HVoxS("cQvVJ",a.PLcTx))_0x858270.innerSizeReduction=a.lZecC(_0x5bcb0f,_0x45cc11.innerSizeReduction,1,30);else{const o=[i(200),a[i(174)]],v=["right",a.AGEeX,"back"];r[i(179)]=r[i(179)].filter(y=>y&&typeof y.id=="string"&&o.includes(y[i(189)])&&v.includes(y.pose)&&y.position&&Number.isFinite(y[i(120)].x)&&Number.isFinite(y.position.y))}return Number[i(151)](r[i(186)])||(r[i(186)]=1),r}const B0=Ln;(function(c,i){const a=Ln,r=c();for(;;)try{if(-parseInt(a(244))/1*(parseInt(a(241))/2)+-parseInt(a(253))/3+parseInt(a(250))/4*(parseInt(a(251))/5)+parseInt(a(242))/6+-parseInt(a(252))/7+parseInt(a(256))/8+parseInt(a(247))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(q0,526915);const Kh=(function(){let c=!0;return function(i,a){const r=c?function(){const f=Ln;if(a){const o=a[f(254)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),_s=Kh(void 0,function(){const c=Ln,i={sHqYQ:"(((.+)+)+)+$"};return _s.toString().search("(((.+)+)+)+$").toString()[c(248)](_s)[c(249)](i.sHqYQ)});function Ln(c,i){c=c-241;const a=q0();let r=a[c];if(Ln.nqdkhw===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};Ln.LwiasR=f,Ln.EFdrCk={},Ln.nqdkhw=!0}const o=a[0],v=c+o,y=Ln.EFdrCk[v];if(y)r=y;else{const d=function(b){this.ASGtJs=b,this.hKTCwW=[1,0,0],this.hnlYoC=function(){return"newState"},this.LcQnOh="\\w+ *\\(\\) *{\\w+ *",this.HrPtWB=`['|"].+['|"];? *}`};d.prototype.GfdwUC=function(){const b=new RegExp(this.LcQnOh+this.HrPtWB),C=b.test(this.hnlYoC.toString())?--this.hKTCwW[1]:--this.hKTCwW[0];return this.UBVrOM(C)},d.prototype.UBVrOM=function(b){return~b?this.idJajs(this.ASGtJs):b},d.prototype.idJajs=function(b){for(let C=0,w=this.hKTCwW.length;C<w;C++)this.hKTCwW.push(Math.round(Math.random())),w=this.hKTCwW.length;return b(this.hKTCwW[0])},new d(Ln).GfdwUC(),r=Ln.LwiasR(r),Ln.EFdrCk[v]=r}return r}function q0(){const c=["ntqZnZa0Au1dt0rQ","mM9LEMT4AG","mtG5nZy3nhjQB1LSDW","5y2k44gp44gz","ntK1nJuYBLPyBe55","Dhn1BwfTAv9WCM9Qzwn0C192mq","44or44o844oR","odm5ndGYmNnlAg51qq","y29UC3rYDwn0B3i","C2vHCMnO","mJm2nJyYmhjiAvLIza","nwzZz3H5CW","mJm1odaYmgvgtxrMua","mtm0nZy4ne1KDhzKvW","yxbWBhK","44oA44od44ox"];return q0=function(){return c},q0()}_s();const $d=B0(245),il=["",""],Xh=[B0(246),"",B0(255)],e1=["",B0(243)];(function(c,i){const a=Ut,r=c();for(;;)try{if(parseInt(a(345))/1+parseInt(a(327))/2*(-parseInt(a(317))/3)+-parseInt(a(330))/4+-parseInt(a(343))/5+parseInt(a(320))/6+parseInt(a(339))/7+parseInt(a(331))/8*(parseInt(a(340))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(I0,398700);const Jh=(function(){const c=Ut,i={TatXy:c(336)};let a=!0;return function(r,f){const o=a?function(){const v=Ut,y={mNnye:"(((.+)+)+)+$"};if(f)if(i[v(329)]!=="PnwiB"){const d=f.apply(r,arguments);return f=null,d}else return _0x266db8[v(344)]()[v(338)](y.mNnye)[v(344)]().constructor(_0x3b47c1).search(y.mNnye)}:function(){};return a=!1,o}})(),Ss=Jh(void 0,function(){const c=Ut,i={bwyDE:"(((.+)+)+)+$"};return Ss[c(344)]().search(c(328)).toString()[c(322)](Ss).search(i.bwyDE)});Ss();function cr(){const c=Ut,i={QCUjb:function(a,r){return a(r)},gEnJi:function(a,r){return a!==r},UUopZ:c(326),dnCCr:c(342),bJwlU:function(a){return a()},KhQkq:function(a,r){return a(r)}};try{const a=localStorage.getItem($d);if(!a)return[];const r=JSON[c(334)](a);return Array.isArray(r)?r.map(f=>{const o=c,v={nNNAO:function(y,d){return i[Ut(325)](y,d)}};try{if(i.gEnJi(i.UUopZ,i[o(332)])){const y=_0x2d9392?.project?_0x49af92(_0x2d8db5.project):null;return y?{id:_0x3f7324.id??y.id,title:_0x4715c8.title??y[o(337)],updatedAt:_0x4286e3[o(333)]??y[o(333)],project:y}:null}else{const y=f?.[o(335)]?i[o(325)](ja,f[o(335)]):null;return y?{id:f.id??y.id,title:f.title??y[o(337)],updatedAt:f.updatedAt??y[o(333)],project:y}:null}}catch{if(i.gEnJi(i.dnCCr,o(342)))try{const y=_0x142b73?.[o(335)]?v[o(323)](_0x2de5b1,_0x278be9.project):null;return y?{id:_0x1892e4.id??y.id,title:_0x10094e.title??y.title,updatedAt:_0x371a43.updatedAt??y.updatedAt,project:y}:null}catch{return null}else return null}})[c(318)](f=>f!=null):[]}catch{return[]}}function Ut(c,i){c=c-317;const a=I0();let r=a[c];if(Ut.RXOMjW===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};Ut.BmEWwV=f,Ut.trKOzp={},Ut.RXOMjW=!0}const o=a[0],v=c+o,y=Ut.trKOzp[v];if(y)r=y;else{const d=function(b){this.FAepbV=b,this.jLjEOX=[1,0,0],this.TGJEbM=function(){return"newState"},this.lXTanj="\\w+ *\\(\\) *{\\w+ *",this.sIQIkZ=`['|"].+['|"];? *}`};d.prototype.emvAzW=function(){const b=new RegExp(this.lXTanj+this.sIQIkZ),C=b.test(this.TGJEbM.toString())?--this.jLjEOX[1]:--this.jLjEOX[0];return this.iKOrVx(C)},d.prototype.iKOrVx=function(b){return~b?this.uuwBNU(this.FAepbV):b},d.prototype.uuwBNU=function(b){for(let C=0,w=this.jLjEOX.length;C<w;C++)this.jLjEOX.push(Math.round(Math.random())),w=this.jLjEOX.length;return b(this.jLjEOX[0])},new d(Ut).emvAzW(),r=Ut.BmEWwV(r),Ut.trKOzp[v]=r}return r}function I0(){const c=["mtGWnJa2mfrpy3Lnua","C2v0sxrLBq","y29UC3rYDwn0B3i","BK5oqu8","C2XPy2u","uunvAMi","t01UCgK","otHhu25xq2i","kcGOlISPkYKRksSK","vgf0whK","mZeXmtiXmNftrNLvvq","ndu3mJiZmMDczwjXDq","vvvVCfO","DxbKyxrLzef0","CgfYC2u","ChjVAMvJDa","txzPC20","DgL0Bgu","C2vHCMnO","ndu4otm0n1zRrLbYyq","ow5vAKfvDa","zMLUzeLUzgv4","wLvyAuK","mJC2odiWmhfOwvresG","Dg9tDhjPBMC","mZmYmdi5rhPxAfnI","nZK2mKHOC2fHyq","zMLSDgvY","C3rYAw5NAwz5"];return I0=function(){return c},I0()}function t1(c){const i=Ut;try{return localStorage[i(321)]($d,JSON[i(319)](c)),!0}catch{return!1}}function Vh(c){const i=Ut,a={PUhSB:function(y,d){return y+d},PrQHo:function(y,d){return y(d)}},r=cr(),f=r[i(341)](y=>y.id===c.id),o={id:c.id,title:c[i(337)],updatedAt:c[i(333)],project:c},v=f>=0?[...r[i(324)](0,f),o,...r[i(324)](a.PUhSB(f,1))]:[o,...r];return v.sort((y,d)=>y[i(333)]<d.updatedAt?1:-1),a.PrQHo(t1,v)}function Qh(c){const i=Ut,a={IeLBk:function(f){return f()},ZVblE:function(f,o){return f(o)}},r=a.IeLBk(cr)[i(318)](f=>f.id!==c);return a.ZVblE(t1,r)}(function(c,i){const a=Zn,r=c();for(;;)try{if(parseInt(a(264))/1+parseInt(a(268))/2*(parseInt(a(250))/3)+parseInt(a(253))/4+parseInt(a(255))/5+-parseInt(a(293))/6+-parseInt(a(270))/7*(-parseInt(a(275))/8)+-parseInt(a(260))/9*(parseInt(a(252))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(R0,494832);const Wh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),ws=Wh(void 0,function(){const c=Zn,i={FfJcp:"(((.+)+)+)+$"};return ws[c(272)]()[c(302)](i[c(280)])[c(272)]().constructor(ws).search(i.FfJcp)});function Zn(c,i){c=c-245;const a=R0();let r=a[c];if(Zn.IKTjiA===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};Zn.VlfvTf=f,Zn.tqHwkT={},Zn.IKTjiA=!0}const o=a[0],v=c+o,y=Zn.tqHwkT[v];if(y)r=y;else{const d=function(b){this.hnbMeI=b,this.bLkICs=[1,0,0],this.LSsRtj=function(){return"newState"},this.NDmwfj="\\w+ *\\(\\) *{\\w+ *",this.ujJTgv=`['|"].+['|"];? *}`};d.prototype.RvovkC=function(){const b=new RegExp(this.NDmwfj+this.ujJTgv),C=b.test(this.LSsRtj.toString())?--this.bLkICs[1]:--this.bLkICs[0];return this.lXnahi(C)},d.prototype.lXnahi=function(b){return~b?this.algfcZ(this.hnbMeI):b},d.prototype.algfcZ=function(b){for(let C=0,w=this.bLkICs.length;C<w;C++)this.bLkICs.push(Math.round(Math.random())),w=this.bLkICs.length;return b(this.bLkICs[0])},new d(Zn).RvovkC(),r=Zn.VlfvTf(r),Zn.tqHwkT[v]=r}return r}ws();function Ph(c){const i=Zn,a={QaUqd:"OfNaF",QKiRc:function(C,w){return C/w},lxJDs:"#999999",Mpccj:function(C,w){return C-w},SzEAs:function(C,w){return C===w},gAkUi:i(295),jQtcZ:function(C,w){return C*w},bKfix:function(C,w){return C!==w},qneCp:i(269),zeTdr:function(C,w){return C-w},IobJy:function(C,w){return C===w},reqTJ:function(C,w){return C(w)},pfYrz:"OqIyL",iQcmu:function(C,w){return C===w},YIOAA:i(300),tCuUL:function(C,w){return C!==w},KIVeN:i(278)},r=new Map((c.palette||[]).map(C=>[C.id,C])),f=new Map,o=(C,w)=>C?.[i(298)]?.find(p=>p[i(287)]===w)??null,v=new Map;for(const C of c[i(286)]||[]){const w=C.fabricSquareSize??c[i(292)];for(const h of C.layers||[])if(a.SzEAs(a[i(246)],a.gAkUi)){if(!h[i(271)])continue;const E=Math.round(a.jQtcZ(w,h.scale??1));for(let H=0;H<h[i(299)];H++)if(a.bKfix(a[i(282)],a.qneCp))_0x253b49.set(_0x1a96c2,{colorId:_0x4865c5,fabricSizeMm:_0x14d1c7,count:1});else{const G=o(h,H),k=G?.colorId??h[i(256)],R=k+"|"+E,U=f[i(283)](R);if(U?U.count+=1:f.set(R,{colorId:k,fabricSizeMm:E,count:1}),h[i(265)]){const q=h.doublePetal,J=G?.[i(274)]??q[i(274)]??k,F=G?.innerSizeReduction??q.innerSizeReduction??2,P=Math[i(263)](3,Math.round(a.zeTdr(E,F))),V=J+"|"+P,O=f[i(283)](V);O?O[i(266)]+=1:f[i(261)](V,{colorId:J,fabricSizeMm:P,count:1})}}}else _0x5a4b81[i(261)](_0x3f84b7,{colorId:_0x33b51c,fabricSizeMm:_0x2dc0b5,count:1});const p=C.placementMode??"",M=a[i(291)](p,"")?a[i(276)](ir,C.flowerDiameter):C.baseDiameter??c[i(289)],z=p+"|"+M,g=v[i(283)](z);if(g)if(a.SzEAs(a.pfYrz,i(279)))g.count+=1;else{const h=_0x40f9b3[i(265)],E=_0x505a13?.[i(274)]??h[i(274)]??_0x45d2c9,H=_0x569a59?.innerSizeReduction??h[i(251)]??2,G=_0x50ca4c.max(3,_0x5b4686.round(_0x4d5321-H)),k=E+"|"+G,R=_0x2e3c2f[i(283)](k);R?R.count+=1:_0x4cd95d[i(261)](k,{colorId:E,fabricSizeMm:G,count:1})}else v[i(261)](z,{mode:p,baseDiameterMm:M,count:1})}for(const C of c.leaves??[]){if(!C[i(271)])continue;const w=C[i(292)]??c[i(292)],p=Math[i(258)](w*(C[i(297)]??1)),M=C[i(256)],z=M+"|"+p,g=f[i(283)](z);if(g?a.iQcmu("rWsOr",a.YIOAA)?g.count+=1:_0x45b001.set(_0x10c74b,{colorId:_0x10a7ba,fabricSizeMm:_0x495990,count:1}):f.set(z,{colorId:M,fabricSizeMm:p,count:1}),C[i(265)]){const h=C[i(265)],E=h.innerColorId??M,H=Math[i(263)](3,Math[i(258)](p-(h[i(251)]??2))),G=E+"|"+H,k=f[i(283)](G);k?k.count+=1:f.set(G,{colorId:E,fabricSizeMm:H,count:1})}}const y=new Map;for(const{colorId:C,fabricSizeMm:w,count:p}of f.values()){const M=y.get(C);M?a[i(277)](a.KIVeN,a.KIVeN)?_0x328947[i(266)]+=1:M[i(284)][i(294)]({fabricSizeMm:w,count:p}):y[i(261)](C,{colorId:C,entries:[{fabricSizeMm:w,count:p}]})}const d=Array.from(y[i(248)]()).map(({colorId:C,entries:w})=>{const p=i,M={mOlmZ:function(G,k){return G!==k},hjDtq:a[p(273)],EvjqR:function(G,k){return a[p(262)](G,k)}},z=r[p(283)](C),g=w.sort((G,k)=>k.fabricSizeMm-G[p(281)]),h=g[p(285)]((G,k)=>G+k.count,0),E=Math.round(g[p(285)]((G,k)=>{const R=p;if(M.mOlmZ(M[R(296)],"OfNaF"))_0x2aa338.count+=1;else{const U=M[R(301)](k.fabricSizeMm,10);return G+k.count*U*U}},0)*100)/100,H=Math[p(258)](Math[p(259)](E)*10)/10;return{colorId:C,colorName:z?.[p(257)]??C,hex:z?.[p(267)]??a[p(290)],sizes:g,totalCount:h,totalAreaCm2:E,squareSideCm:H}})[i(288)]((C,w)=>w[i(254)]-C[i(254)]),b=Array[i(245)](v[i(248)]()).sort((C,w)=>{const p=i;return C[p(247)]!==w[p(247)]?C.mode===""?-1:1:a.Mpccj(w.baseDiameterMm,C[p(249)])});return{colors:d,bases:b}}function R0(){const c=["mJuYodjbCMfNvNm","wMTpEwu","n2zSqvvXCa","DMLZAwjSzq","Dg9tDhjPBMC","uwfvCwq","Aw5UzxjdB2XVCKLK","nti2otuYrMzzC2fx","CMvXveO","Den1vuW","ENPfre0","t3fjEuW","rMzky3a","zMfICMLJu2L6zu1T","Cw5Lq3a","z2v0","zw50CMLLCW","CMvKDwnL","zMXVD2vYCW","Aw5KzxG","C29YDa","yMfZzurPyw1LDgvY","BhHkrhm","sw9IsNK","zMfICMLJu3f1yxjLu2L6zq","mtu5otC4meH0yw1lvq","ChvZAa","t3Hyt3q","AgPeDhe","C2nHBgu","Cgv0ywXpDMvYCMLKzxm","Cgv0ywXdB3vUDa","CLDZt3i","rxzQCvi","C2vHCMnO","zNjVBq","z0fRvwK","Bw9Kzq","DMfSDwvZ","yMfZzurPyw1LDgvYtw0","mJmXsLrSzw1c","Aw5UzxjtAxPLuMvKDwn0Aw9U","mJiXotK1mZblz1vzD00","mtK2mZG0mfvczuPyza","Dg90ywXdB3vUDa","mJmXmdm0mhbJqurjEq","y29SB3jjza","BMfTzq","CM91BMq","C3fYDa","oxL3r3PjvG","C2v0","uuTPuMm","Bwf4","otG5mtyXy3LPuLPW","zg91yMXLugv0ywW","y291BNq","Agv4"];return R0=function(){return c},R0()}(function(c,i){const a=dn,r=c();for(;;)try{if(-parseInt(a(357))/1+-parseInt(a(322))/2*(parseInt(a(350))/3)+parseInt(a(352))/4*(parseInt(a(338))/5)+-parseInt(a(368))/6+parseInt(a(323))/7+-parseInt(a(351))/8+parseInt(a(346))/9*(parseInt(a(334))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(G0,375214);const Fh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),Cs=Fh(void 0,function(){const c=dn,i={AHaEq:"(((.+)+)+)+$"};return Cs[c(341)]()[c(388)](i.AHaEq)[c(341)]().constructor(Cs).search("(((.+)+)+)+$")});Cs();function $h(c,i){const a=dn,r={OwlJA:a(376),tiJeo:"style",XAsrm:a(378),vuhvA:function(M,z){return M(z)},rXZFz:"http://www.w3.org/2000/svg",KpWqK:"width",yZmdL:a(358),negln:"100%",KKkoT:a(359),PUkvu:a(386),xIHfx:"image/svg+xml;charset=utf-8",OEgkO:function(M,z,g){return M(z,g)},VqcGu:".svg"},f=c.cloneNode(!0);f[a(331)](r.OwlJA)[a(366)](M=>M[a(360)](a(325))),f[a(360)](r.tiJeo);const o=c.getAttribute(a(378));o&&f[a(340)](r.XAsrm,o);const v=(o??a(356))[a(330)](/[\s,]+/)[a(367)](Number),y=v[2]??200,d=v[3]??200;f.setAttribute(a(332),r.vuhvA(String,y)),f.setAttribute(a(358),String(d)),f[a(340)](a(344),r[a(369)]);const b=document[a(371)](a(335),"rect");b.setAttribute(r[a(343)],"100%"),b.setAttribute(r.yZmdL,r[a(329)]),b.setAttribute(a(374),a(381)),f[a(383)](b,f.firstChild),f[a(331)]("[data-grid]")[a(366)](M=>M.remove()),f[a(331)](a(362)).forEach(M=>M[a(326)]()),f[a(331)](".tsumami-group-dash")[a(366)](M=>M.remove()),f[a(331)](r.KKkoT)[a(366)](M=>M.remove());const C=new XMLSerializer,w=r.PUkvu+C[a(327)](f),p=new Blob([w],{type:r[a(363)]});r.OEgkO(n1,p,i[a(370)](r.VqcGu)?i:i+".svg")}function dn(c,i){c=c-322;const a=G0();let r=a[c];if(dn.OfnrNp===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};dn.gshtns=f,dn.rVlmGg={},dn.OfnrNp=!0}const o=a[0],v=c+o,y=dn.rVlmGg[v];if(y)r=y;else{const d=function(b){this.YNTqau=b,this.MNhWYb=[1,0,0],this.xTdknK=function(){return"newState"},this.RBAMlJ="\\w+ *\\(\\) *{\\w+ *",this.HqzGsS=`['|"].+['|"];? *}`};d.prototype.IORvzo=function(){const b=new RegExp(this.RBAMlJ+this.HqzGsS),C=b.test(this.xTdknK.toString())?--this.MNhWYb[1]:--this.MNhWYb[0];return this.UsZGHx(C)},d.prototype.UsZGHx=function(b){return~b?this.HVboIK(this.YNTqau):b},d.prototype.HVboIK=function(b){for(let C=0,w=this.MNhWYb.length;C<w;C++)this.MNhWYb.push(Math.round(Math.random())),w=this.MNhWYb.length;return b(this.MNhWYb[0])},new d(dn).IORvzo(),r=dn.gshtns(r),dn.rVlmGg[v]=r}return r}function em(c,i,a=2){const r=dn,f={FNUzi:r(342),UTSGW:function(g,h){return g*h},Eojbi:function(g,h){return g===h},tYPBM:r(384),Dismf:function(g,h,E){return g(h,E)},HGclY:".png",HRliD:function(g,h){return g*h},xRDEp:"white",xkQXh:"image/png",ikevl:"[data-testid]",yQxQP:"style",doomX:r(380),xllXL:r(336),nOYDU:"[data-marquee]",NeWjv:r(378),LknVc:r(356),YkOQM:"width",JWRBm:function(g,h){return g(h)},IsMgg:"image/svg+xml;charset=utf-8"},o=c[r(379)](!0);o.querySelectorAll(f.ikevl).forEach(g=>g.removeAttribute(r(325))),o[r(360)](f.yQxQP),o.querySelectorAll(f[r(385)]).forEach(g=>g[r(326)]()),o.querySelectorAll(".tsumami-sel-dash")[r(366)](g=>g[r(326)]()),o[r(331)](f[r(375)])[r(366)](g=>g.remove()),o[r(331)](f[r(328)])[r(366)](g=>g[r(326)]());const v=c.getAttribute(f.NeWjv),y=(v??f[r(349)])[r(330)](/[\s,]+/).map(Number),d=y[2]??200,b=y[3]??200;o.setAttribute(f.NeWjv,v??f[r(349)]),o[r(340)](f[r(382)],f.JWRBm(String,d)),o[r(340)](r(358),String(b)),o.setAttribute("xmlns",r(335));const C=new XMLSerializer,w=C[r(327)](o),p=new Blob([w],{type:f.IsMgg}),M=URL.createObjectURL(p),z=new Image;z.onload=()=>{const g=r,h={DNRcv:function(E,H){return f.Eojbi(E,H)},oeGAh:f.tYPBM,YMwHA:function(E,H,G){return f.Dismf(E,H,G)},IXZzg:f.HGclY};{const E=document.createElement(f[g(387)]);E.width=f.HRliD(d,a),E.height=f[g(345)](b,a);const H=E[g(339)]("2d");if(!H){URL[g(348)](M);return}H[g(361)]=f.xRDEp,H[g(337)](0,0,E.width,E.height),H.drawImage(z,0,0,E.width,E[g(358)]),E[g(353)](G=>{const k=g;if(G)if(h[k(333)](h[k(389)],k(372))){const R=_0x5742da[k(324)](_0x1fc394),U=_0x3bfe1d.createElement("a");U[k(365)]=R,U.download=_0x3f35aa,_0x5e83f1.body[k(373)](U),U.click(),_0xc049f9.body[k(347)](U),_0x48f532[k(348)](R)}else h.YMwHA(n1,G,i[k(370)](h.IXZzg)?i:i+k(364));URL.revokeObjectURL(M)},f.xkQXh)}},z[r(377)]=()=>{URL[r(348)](M)},z.src=M}function n1(c,i){const a=dn,r=URL[a(324)](c),f=document.createElement("a");f[a(365)]=r,f[a(355)]=i,document.body[a(373)](f),f.click(),document.body.removeChild(f),URL[a(348)](r)}function G0(){const c=["Eg1SBNm","vvrtr1C","mtyZofvpExPNCG","CMvTB3zLq2HPBgq","CMv2B2TLt2jQzwn0vvjm","tgTUvMm","m0fYrLrAwq","mJu0mZu3nNL3vg1iCq","ndaYmdiWDvP5q3vu","Dg9cBg9I","Aw1Hz2uVCg5N","zg93BMXVywq","mcaWidiWmcaYmda","mJm1mZKWBenoqMHg","AgvPz2H0","w2rHDgeTBwfYCxvLzv0","CMvTB3zLqxr0CMLIDxrL","zMLSBfn0EwXL","lNrZDw1HBwKTC2vSlwrHC2G","EeLizNG","lNbUzW","AhjLzG","zM9YrwfJAa","BwfW","mta0mtuWnhv5Cuznzq","CLHArNO","zw5KC1DPDgG","y3jLyxrLrwXLBwvUDe5t","B0LJDxy","yxbWzw5Kq2HPBgq","zMLSBa","EgXSweW","w2rHDgeTDgvZDgLKxq","B25LCNjVCG","DMLLD0jVEa","y2XVBMvoB2rL","w2rHDgeTz3jPzf0","D2HPDgu","wwTpuu0","Aw5Zzxj0qMvMB3jL","BwTYv2S","zg9VBvG","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","rK5vEMK","C2vHCMnO","B2vhqwG","ndK0mZG2sfrMz2DZ","mtmZndi3n3HVywTmtq","y3jLyxrLt2jQzwn0vvjm","zgf0ys10zxn0Awq","CMvTB3zL","C2vYAwfSAxPLvg9tDhjPBMC","BK9zrfu","BMvNBg4","C3bSAxq","CxvLCNLtzwXLy3rVCKfSBa","D2LKDgG","re5sy3y","mJuWmtbzAenqy1C","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","lNrZDw1HBwKTz3jVDxaTzgfZAa","zMLSBfjLy3q","mZvSrMfLtMm","z2v0q29UDgv4Da","C2v0qxr0CMLIDxrL","Dg9tDhjPBMC","y2fUDMfZ","s3bxCuS"];return G0=function(){return c},G0()}function z0({active:c,disabled:i,onClick:a,children:r,...f}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...f,children:r})}const tm="v0.1.0-dev";function nm(c){const{view:i,onNavigate:a,project:r}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:tm})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(z0,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(z0,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(z0,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),s.jsx(z0,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function lm(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(i=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:i.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function js({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function am(c){const[i,a]=te.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(js,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}(function(c,i){const a=hn,r=c();for(;;)try{if(parseInt(a(205))/1*(-parseInt(a(248))/2)+-parseInt(a(256))/3*(-parseInt(a(247))/4)+-parseInt(a(235))/5+-parseInt(a(244))/6+-parseInt(a(239))/7*(parseInt(a(265))/8)+parseInt(a(268))/9+-parseInt(a(221))/10*(-parseInt(a(217))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(O0,315597);function O0(){const c=["zMXVD2vY","C3rHCNreAwfT","BwfW","Cg9PBNrLCKLK","DxjSkci","Cgv0ywXjBMrLEa","vM9SEvO","ndq2nfHUEuHSza","Bgf5zxi","CMfKAxvZ","mZi3mJqXohj4Ahfrza","kcGOlISPkYKRksSK","B2zMC2v0qw5NBgu","AhLWB3q","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","qwzLq0O","C3rHCNrbBMDSzq","r3nor0i","Aej4qLi","rfrJEvi","zKDYq2e","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","y3vYC29Y","EgHSuhK","rurXt3O","m3Dgt21kDq","y3vYCMvUDa","Bgf5zxjjza","Cg9ZAxrPB24","BgHqsLO","C2v0ug9PBNrLCKnHChr1CMu","ue5Vy0S","B3Lsrue","sg1HDwu","ChjLDMvUDerLzMf1Bhq","D2LKDgHty2fSzq","zMLSDgvY","mZnuB3r1uuC","l3rZDw1HBwKV","Dg9tDhjPBMC","BvzHAKW","mtm2mJi5mfLtzef0ra","Bwf4","s29fDfy","C2vHCMnO","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","zMXVD2vYCW","r01IEe4","C3r5Bgu","CM90yxrPB24","BhfzuvK","Cu5qufa","Bgf5zxjZ","zMXVD2vYswq","AxH6rhy","nJa0mJu1CgT6ALDr","C2nHBgu","Cgv0ywXbBMDSzq","yxrHBJi","mtK1m2P4rgHutW","CuDuywu","tuDWsvu","weHpu0e","zMLUza","mtq5mtG3mennA2HSqq","yujUtfm","y29UC3rYDwn0B3i","ndG4mJbtuNPSvhe","oti2nJzwr0fnrKO","C3rHCNrty2fSzxm","C2LU","zMXVD2vYrgLHBwv0zxi","y3vYCMvUDfrHCMDLDa","Bw9Kzq","rwnzwvO","D1vxzMS","ntfSvfnhB0y","v2PpANu"];return O0=function(){return c},O0()}function hn(c,i){c=c-199;const a=O0();let r=a[c];if(hn.Hquqdr===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};hn.YjzSxR=f,hn.OMIeuW={},hn.Hquqdr=!0}const o=a[0],v=c+o,y=hn.OMIeuW[v];if(y)r=y;else{const d=function(b){this.qYSZUO=b,this.THEjhk=[1,0,0],this.WUesVV=function(){return"newState"},this.QcyatR="\\w+ *\\(\\) *{\\w+ *",this.YwOBRH=`['|"].+['|"];? *}`};d.prototype.cCAuIG=function(){const b=new RegExp(this.QcyatR+this.YwOBRH),C=b.test(this.WUesVV.toString())?--this.THEjhk[1]:--this.THEjhk[0];return this.oOlMYX(C)},d.prototype.oOlMYX=function(b){return~b?this.rLLIED(this.qYSZUO):b},d.prototype.rLLIED=function(b){for(let C=0,w=this.THEjhk.length;C<w;C++)this.THEjhk.push(Math.round(Math.random())),w=this.THEjhk.length;return b(this.THEjhk[0])},new d(hn).cCAuIG(),r=hn.YjzSxR(r),hn.OMIeuW[v]=r}return r}const im=(function(){const c=hn,i={FTtyT:c(203),wEcol:function(r,f){return r*f}};let a=!0;return function(r,f){const o={NZlui:function(y,d){return i.wEcol(y,d)}},v=a?function(){const y=hn;if(f)if(i.FTtyT===i.FTtyT){const d=f.apply(r,arguments);return f=null,d}else _0x4c9f91[y(267)]=_0x46e0ac(o.NZlui(_0x37b7c0.radius,_0x453d5d),2,120)}:function(){};return a=!1,v}})(),Ms=im(void 0,function(){const c=hn,i={eJEUk:c(269)};return Ms[c(219)]().search(i.eJEUk)[c(219)]()[c(246)](Ms)[c(224)](c(269))});Ms();function rm(c){const i=hn,a={VolyZ:function(q,J){return q===J},qpaHy:function(q,J){return q-J},mVajL:function(q,J){return q*J},XHOSA:"flower",dGAio:function(q,J){return q-J},yLaeg:function(q,J,F,P){return q(J,F,P)},EcYYZ:function(q,J){return q/J},JYrng:function(q,J){return q!==J},urueI:i(245),EDqOz:i(218),lqYQY:function(q,J){return q(J)},lhPJZ:function(q,J){return q-J},oyREA:"layer",CXpwK:"ocpdw",uNpdj:function(q,J){return q/J},vBgYp:function(q,J){return q>J},cChqt:function(q,J){return q+J},FmTQv:function(q,J,F){return q(J,F)},KoEtV:"eTjot",hBxBR:function(q,J){return q+J},fGrCa:function(q,J){return q+J},TopOm:function(q,J){return q-J},PFiUw:function(q,J){return q+J},Hmaue:function(q,J){return q*J},ixzDv:function(q,J){return q-J},MRKsw:function(q,J,F){return q(J,F)},DTcyR:function(q,J){return q-J},qNPPP:function(q,J){return q+J},AfeCJ:function(q,J,F){return q(J,F)}},{project:r,applyUpdate:f,stageRef:o,clientToSvgPoint:v}=c,y=a.lqYQY(te.useRef,null),d=(q,J,F,P)=>{const V=i;if(F[V(214)](),F.currentTarget?.[V(210)]?.(F.pointerId),o.current)if(V(227)!=="GMbxN"){if(!_0x2c1556.current)return;_0x11051a(()=>{},!0),_0x1d42f3.current&&(_0x379850.current[V(228)][V(202)]=""),_0x2019d4[V(206)]=null}else o[V(206)][V(228)][V(202)]='url("'+V(218)+V(201);const O=r.flowers.find(B=>B.id===J);if(!O)return;const K=a.VolyZ(q,"layer")&&P?.layerId?O[V(232)][V(216)](B=>B.id===P[V(207)]).map(B=>({layerId:B.id,scale:B[V(236)]??1,radius:B[V(267)]??10})):O[V(232)][V(260)](B=>({layerId:B.id,scale:B.scale??1,radius:B[V(267)]??10})),Y=v(F),_=O[V(208)].x,m=O.position.y,D=Math[V(271)](Y.x-_,a.qpaHy(Y.y,m));y[V(206)]={mode:q,flowerId:J,layerId:P?.layerId,startScales:K,startDiam:O.flowerDiameter||60,startDist:D}},b=q=>{const J=i,F={iOauM:function(m,D){return m-D},WjOju:J(255),LTCCA:function(m,D){return a[J(220)](m,D)},dOBgg:a[J(242)],PNocK:function(m,D,B,T){return m(D,B,T)}},P=y[J(206)];if(!P)return;const V=r[J(226)].find(m=>m.id===P[J(233)]);if(!V)return;const O=v(q),K=Math[J(271)](a.dGAio(O.x,V.position.x),O.y-V[J(208)].y),Y=Math.max(1,P.startDist??1),_=a.yLaeg(ye,a[J(254)](K,Y),.3,3);f(m=>{const D=J,B=m[D(226)].find(T=>T.id===P[D(233)]);if(B){for(const T of P[D(249)])if(F[D(257)]!=="wUWfk"){_0x3a0217.preventDefault(),_0x27942a.currentTarget?.setPointerCapture?.(_0x1d47a0[D(261)]),_0x238eef[D(206)]&&(_0x202f02.current[D(228)][D(202)]='url("'+FofgBV.wkvKq+D(201));const A=_0x3dd998.flowers[D(243)](ee=>ee.id===_0x176fbf);if(!A)return;const S=_0x576514==="layer"&&_0x50cc88?.[D(207)]?A[D(232)].filter(ee=>ee.id===_0x291763.layerId)[D(260)](ee=>({layerId:ee.id,scale:ee[D(236)]??1,radius:ee.radius??10})):A[D(232)].map(ee=>({layerId:ee.id,scale:ee.scale??1,radius:ee[D(267)]??10})),N=_0x2d274f(_0x52cabf),I=A.position.x,Z=A.position.y,W=_0x2d705b[D(271)](FofgBV.ikaGt(N.x,I),FofgBV.ZKWux(N.y,Z));_0x20cdff[D(206)]={mode:_0x3c5763,flowerId:_0x5dbb21,layerId:_0x2201d9?.[D(207)],startScales:S,startDiam:A.flowerDiameter||60,startDist:W}}else{const A=B.layers[D(243)](S=>S.id===T.layerId);if(!A)continue;A[D(236)]=ye(F.LTCCA(T.scale,_),.3,3),P[D(253)]===F.dOBgg&&(A.radius=F[D(211)](ye,T[D(267)]*_,2,120))}P[D(253)]===D(258)&&(B[D(251)]=ye(P[D(259)]*_,10,200))}},!1)},C=()=>{const q=i;if(a.JYrng(a.urueI,q(275))){if(!y[q(206)])return;f(()=>{},!0),o.current&&(o.current.style.cursor=""),y[q(206)]=null}else _0x2945d7.current.style[q(202)]='url("/tsumami/radius_cursor_32.png?v=16") 16 16, nwse-resize'},w=a[i(230)](te.useRef,null),p=(q,J,F,P)=>{const V=i;F[V(214)](),F[V(252)]?.[V(210)]?.(F[V(261)]),o[V(206)]&&(o[V(206)].style.cursor=V(262)+a[V(204)]+'rotate_cursor_active_32.png") 16 16, grabbing');const O=r.flowers.find(m=>m.id===J);if(!O)return;const K=a[V(230)](v,F),Y=Math[V(238)](K.y-O[V(208)].y,a[V(209)](K.x,O[V(208)].x))*(180/Math.PI),_=a[V(264)](q,a[V(212)])&&P?.[V(207)]?O.layers.find(m=>m.id===P.layerId)?.[V(270)]??0:O.rotation??0;w.current={mode:q,flowerId:J,layerId:P?.[V(207)],startAngle:Y,startRotation:_}},M=q=>{const J=i,F={bTBau:function(m,D){return a.VolyZ(m,D)},ipuYl:a.CXpwK},P=w.current;if(!P)return;const V=r[J(226)][J(243)](m=>m.id===P.flowerId);if(!V)return;const O=v(q);let Y=Math[J(238)](O.y-V.position.y,a.qpaHy(O.x,V.position.x))*a.uNpdj(180,Math.PI)-P[J(274)];for(;a.vBgYp(Y,180);)Y-=360;for(;Y<-180;)Y+=360;const _=a.cChqt(P.startRotation,Y);a.FmTQv(f,m=>{const D=J,B={qGTae:function(A,S){return F.bTBau(A,S)}},T=m.flowers.find(A=>A.id===P[D(233)]);if(T)if(F.bTBau(P[D(253)],D(266))&&P[D(207)]){const A=T[D(232)][D(243)](S=>S.id===P.layerId);A&&(A[D(270)]=_)}else if(F.ipuYl==="ocpdw")T[D(229)]=_;else{const A=_0x55c47f[D(226)].find(S=>S.id===_0x8d3fdc[D(233)]);if(!A)return;if(B[D(240)](_0x57bb6c[D(253)],D(266))&&_0x3be1a0.layerId){const S=A.layers.find(N=>N.id===_0x3d0f09[D(207)]);S&&(S.offsetAngle=_0x1e51c1)}else A.rotation=_0xa768ef}},!1)},z=()=>{const q=i;if(q(241)===a[q(223)])_0x38435a.current[q(228)][q(202)]=q(262)+a.EDqOz+q(225);else{if(!w[q(206)])return;f(()=>{},!0),o[q(206)]&&(o[q(206)][q(228)][q(202)]=""),w[q(206)]=null}},g=te.useRef(null),h=(q,J,F,P)=>{const V=i;F[V(214)](),F[V(252)]?.[V(210)]?.(F[V(261)]),o[V(206)]&&(o[V(206)][V(228)].cursor=V(262)+'/tsumami/width_cursor_32.png?v=16") 16 16, ew-resize');const O=r[V(226)].find(W=>W.id===J);if(!O)return;const K=P?.[V(207)]?O[V(232)][V(243)](W=>W.id===P[V(207)]):null;if(!K)return;const Y=a.lqYQY(v,F),_=O.position.x,m=O.position.y,D=P?.[V(263)]??0,B=360/Math.max(1,K.petalCount),T=a[V(276)](a[V(200)](K.offsetAngle,D*B),O[V(229)])*a.uNpdj(Math.PI,180),A=a.TopOm(Y.x,_),S=a[V(209)](Y.y,m),N=-Math[V(250)](T),I=Math.cos(T),Z=Math.abs(a.PFiUw(a.Hmaue(A,N),a[V(213)](S,I)));g[V(206)]={mode:q,flowerId:J,layerId:P?.layerId,petalAngle:T,startDist:Math[V(222)](1,Z),startWidthScale:K[V(215)]??1}},E=q=>{const J=i,F=g[J(206)];if(!F)return;const P=r[J(226)].find(T=>T.id===F[J(233)]);if(!P)return;const V=v(q),O=a[J(234)](V.x,P[J(208)].x),K=V.y-P.position.y,Y=-Math[J(250)](F[J(237)]),_=Math.cos(F[J(237)]),m=Math.abs(a[J(220)](O,Y)+a[J(220)](K,_)),D=ye(a.uNpdj(m,F.startDist),.3,3),B=ye(F.startWidthScale*D,.3,3);a.MRKsw(f,T=>{const A=J,S=T[A(226)].find(I=>I.id===F[A(233)]);if(!S)return;const N=S.layers.find(I=>I.id===F[A(207)]);N&&(N.widthScale=B)},!1)},H=()=>{const q=i;g[q(206)]&&(a.FmTQv(f,()=>{},!0),o[q(206)]&&(o[q(206)].style.cursor=""),g.current=null)},G=te.useRef(null);return{scaleDragRef:y,beginScaleDrag:d,updateScaleDrag:b,endScaleDrag:C,rotationDragRef:w,beginRotationDrag:p,updateRotationDrag:M,endRotationDrag:z,widthScaleDragRef:g,beginWidthScaleDrag:h,updateWidthScaleDrag:E,endWidthScaleDrag:H,radiusDragRef:G,beginRadiusDrag:(q,J,F,P)=>{const V=i;F.preventDefault(),F[V(252)]?.[V(210)]?.(F.pointerId),o[V(206)]&&(o[V(206)].style[V(202)]=V(262)+V(218)+V(272));const O=r.flowers[V(243)](m=>m.id===J);if(!O)return;const K=P?.layerId?O[V(232)].find(m=>m.id===P.layerId):null;if(!K)return;const Y=a.lqYQY(v,F),_=Math[V(271)](Y.x-O.position.x,Y.y-O.position.y);G.current={mode:q,flowerId:J,layerId:P?.[V(207)],startDist:Math[V(222)](1,_),startRadius:K.radius??28}},updateRadiusDrag:q=>{const J=i,F=G.current;if(!F)return;const P=r.flowers.find(_=>_.id===F.flowerId);if(!P)return;const V=a[J(230)](v,q),O=Math[J(271)](V.x-P[J(208)].x,V.y-P.position.y),K=a[J(199)](O,F.startDist),Y=ye(a[J(231)](F.startRadius,K),5,100);a[J(273)](f,_=>{const m=J,D=_[m(226)].find(T=>T.id===F[m(233)]);if(!D)return;const B=D.layers[m(243)](T=>T.id===F[m(207)]);B&&(B.radius=Y)},!1)},endRadiusDrag:()=>{const q=i;G[q(206)]&&(f(()=>{},!0),o[q(206)]&&(o[q(206)].style[q(202)]=""),G[q(206)]=null)}}}function H0(){const c=["zMXVD2vY","AgL0tgf5zxjjza","Bgf5zxjjza","Auj3ELe","sLHtyNe","C1zdsuK","A2LUza","y25Wu1a","z3jHyG","mta3mdyZmwXesMLpuq","y29kvMe","DxjSkci","wKfXCxu","y29Z","AhLWB3q","D3rLwNG","C2LU","DuLICwi","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","Cgv0ywXdB3vUDa","CM90yxrPB24","v29iAhO","D2LKDgG","y2vUDgvY","thHTDhu","Bwf4","CgHQDfa","odiZndG1zer3rxv3","zMvprha","tgnuA04","Dg9tDhjPBMC","CNDitNy","Bgf5zxi","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","qLfLvNi","nhz2C2TVuG","zMfICMLJu3f1yxjLu2L6zq","CMfKAxvZ","Cg9PBNrLCG","C2nHBgu","yxjHt0q","EfvSq1q","mZK2ndm2DxztzeX2","Bw1XqNy","twLjuum","qw9hu1q","Bw92zq","B2zMC2v0qw5NBgu","mte0nJa0mgTsv0DgDW","vNnuB2C","wLbOExG","revnt3i","mJi0mJCYmKX5zK1VtW","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","ywjZ","DMLZAwjSzq","CwDNq04","yw5VELq","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","tMreBMW","AuLPD0C","vg9KyLm","mtHjq3Lnwem","svDcEve","y29UC3rYDwn0B3i","B0zRs2q","Bur0t3e","y3jrBwS","ntq4nZiWC1jnz1nY","tKvNy1K","D2DwuKG","yxbWBhK","Cg9ZAxrPB24","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","DM9wB1i","C2vHCMnO","wKTntw4","Bgf5zxjZ","BM9Uzq","ANjJv1y","otm4mZi4A2HdtLLZ","CM90yxrL","AhjlBuy"];return H0=function(){return c},H0()}(function(c,i){const a=Nt,r=c();for(;;)try{if(-parseInt(a(337))/1+parseInt(a(292))/2+parseInt(a(304))/3*(-parseInt(a(330))/4)+parseInt(a(322))/5+parseInt(a(264))/6+parseInt(a(343))/7+parseInt(a(280))/8*(-parseInt(a(274))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(H0,280875);const cm=(function(){const c={xtPYi:"kpyKK"};let i=!0;return function(a,r){const f=Nt;if(f(324)!==c.xtPYi){const o=i?function(){const v=f;if(r){const y=r[v(283)](a,arguments);return r=null,y}}:function(){};return i=!1,o}else return f(306)+_0x164d59+f(270)}})(),zs=cm(void 0,function(){const c=Nt,i={GcSXD:"(((.+)+)+)+$"};return zs[c(325)]()[c(287)]("(((.+)+)+)+$").toString()[c(276)](zs).search(i.GcSXD)});zs();function ui(c,i,a,r,f){const o=Nt,v={feODp:o(293),DEMOr:"width",crQmk:"radius",jrcWV:function(R,U){return R(U)},ZAzza:function(R,U){return R(U)},NEgcY:function(R,U){return R-U},NdDnl:function(R,U){return R*U},qAfTB:function(R,U){return R(U)},WoHhz:function(R,U){return R===U},ZPhyx:o(338),wteZx:function(R,U){return R>U},jGrcs:function(R,U){return R<=U},mDtOq:function(R,U){return R*U},JXSbq:function(R,U){return R+U},aitgX:function(R,U){return R===U},vXzfW:o(290),fYfZj:function(R,U){return R*U},Lxmtu:function(R,U){return R*U},VsTog:function(R,U){return R/U},qqZzr:function(R,U){return R-U},xUlCT:function(R,U){return R-U},jtPOr:function(R,U){return R*U},ZAqqu:function(R,U){return R/U},qggCN:function(R,U){return R>U},knJMm:function(R,U){return R>U},qHVoR:function(R,U){return R>U},oVMGH:function(R,U){return R===U},AYWCJ:"otloI",DxgVC:o(334),laXni:function(R,U){return R===U},hrKmF:"UJnxF",ZlJcO:function(R,U){return R-U},iBwzQ:function(R,U){return R<=U}},{length:y}=v.ZAzza(Bt,a[o(331)]??r.fabricSquareSize),d=c-a.position.x,b=v[o(281)](i,a[o(284)].y),C=Math[o(309)](d,b);let w=1/0;for(const R of a[o(289)]){if(!R[o(267)])continue;const U=R.scale??1,q=v[o(271)](y,U),J=.28,F=Math[o(320)](0,R[o(332)]-q*J);F<w&&(w=F)}v.qAfTB(isFinite,w)||(w=0);const p=Math[o(320)](w*.9,8);if(C<=p)return{zone:"center"};if(v[o(316)](f.kind,"layer")){const R=a[o(289)].find(U=>U.id===f[o(297)]&&U.visible);if(R)if(v[o(345)]!=="mmqBv"){if(_0x4a2a41.abs(_0x2e7972-_0x408f77)<=6)return{zone:"radius",layerId:_0x23af31.id}}else{const U=R[o(334)]??1,q=v[o(271)](y,U),J=.28,F=Math.max(0,R[o(332)]-q*J);if(v[o(310)](F,0)){const V=Math[o(266)](C-F);if(v.jGrcs(V,6))return{zone:v[o(279)],layerId:R.id}}}}const M=la(-(a[o(315)]??0)),z=v[o(278)](d,Math.cos(M))-b*Math.sin(M),g=v[o(299)](d*Math.sin(M),b*Math.cos(M)),h=v.aitgX(f[o(301)],o(327))?a.layers.filter(R=>R.id===f.layerId&&R.visible):a[o(289)].filter(R=>R[o(267)]);let E=v.vXzfW,H,G,k=1/0;for(const R of h){const U=R.scale??1,q=y*U,J=R.widthScale??1,F=v.fYfZj(v[o(319)](v[o(344)](y,2),J),U),P=.28,V=Math.max(0,v.qqZzr(R.radius,q*P)),O=360/Math[o(320)](1,R[o(314)]);for(let K=0;K<R.petalCount;K++){const Y=v.JXSbq(R[o(342)],v[o(278)](K,O)),_=v.qAfTB(la,Y),m=Math.cos(_)*V,D=Math.sin(_)*V,B=z-m,T=v[o(336)](g,D),A=Math[o(308)](-_),S=Math[o(311)](-_),N=v.NEgcY(v.jtPOr(B,A),T*S),I=B*S+T*A,Z=N/q,W=v[o(307)](I,F);if(Z<-.05||v[o(268)](Z,1.08)||v.knJMm(Math[o(266)](W),.75))continue;const ee=Math.hypot(Z-.5,W);ee>=k||(k=ee,H=R.id,G=K,v.qHVoR(Math[o(266)](W),.45)?E=o(317):v.knJMm(Z,.75)?E=o(293):v.oVMGH("wSnRv",v.AYWCJ)?_0x3d6599=v[o(323)]:E=v.DxgVC)}}if(v.laXni(E,v.vXzfW)){let R=12;for(const J of a[o(289)])if(v.oVMGH("UJnxF",v[o(294)])){if(!J[o(267)])continue;const F=J.scale??1,P=y*F,V=.28,O=Math.max(0,J.radius-P*V);R=Math.max(R,O+P)}else switch(_0xf415d5){case o(318):return o(333);case"rotate":return'url("'+_0x2f027e+o(328);case o(334):return o(306)+_0x44a9af+o(265);case v[o(346)]:return'url("'+_0x42f0b8+'width_cursor_32.png?v=16") 16 16, ew-resize';case v.crQmk:return o(306)+_0x240415+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case"move":return v[o(291)](_0x3e3271,_0x2ea607);case o(290):default:return o(303)}const U=8,q=Math[o(266)](v.ZlJcO(C,R));if(v[o(298)](q,U))return{zone:"scale"}}return{zone:E,layerId:H,petalIndex:G}}function D0(c,i,a){const r=Nt,f={cnpSP:"rotate",oFkKd:"scale",VwfDM:r(341),iIiwG:"none",TodbS:"grab",voVoR:function(o,v){return o===v},MiIQC:function(o,v){return o!=v},sVCII:function(o,v){return o!==v},rwHNv:r(269),HAddu:function(o,v){return o*v},coJVa:function(o,v){return o-v},rEmKI:function(o,v){return o+v},uIbqb:function(o,v){return o>v},ZAYqt:"petal"};if(c==="center")return r(318);if(c===r(290))return f.iIiwG;switch(i){case"flower":{if(c===f[r(277)])return f[r(277)];if(f[r(286)](c,f.cnpSP)&&a?.[r(296)]&&a[r(295)]&&f[r(339)](a.length,null))if(f[r(300)](f[r(326)],"mIncj")){let o,v=-1/0;for(const y of a.flower.layers){if(!y.visible)continue;const d=y.scale??1,b=f.HAddu(a.length,d),C=.28,w=Math[r(320)](0,f[r(305)](y[r(332)],f.HAddu(b,C))),p=f.rEmKI(w,b);f[r(312)](p,v)&&(v=p,o=y.id)}return a.hitLayerId===o?r(293):f.oFkKd}else switch(_0x1613f4){case f[r(302)]:return r(306)+_0x435945+r(328);case f[r(277)]:return'url("'+_0x1840ba+r(265);case"width":return r(306)+_0x55b0ff+'width_cursor_32.png?v=16") 16 16, ew-resize';case f.VwfDM:return _0x467fad(_0x487e12);case f[r(272)]:default:return f[r(273)]}return f[r(277)]}case"layer":return c;case f.ZAYqt:case"petals":return f[r(277)];default:return f.oFkKd}}function um(c,i,a,r){const f=Nt,o={AoGST:function(G,k){return G*k},iVZdn:function(G,k){return G-k},IWByQ:function(G,k){return G-k},JPfsT:function(G,k){return G(k)},phjtP:function(G,k){return G*k},dkarF:function(G,k){return G*k},ZKMMn:function(G,k){return G/k},BQeVr:"none",FGsWS:function(G,k){return G>k},wgVRH:"width",IJfcl:"rotate",fEiHB:f(341)},v=a[f(331)]??r[f(331)],{length:y,width:d}=Bt(v),b=a[f(334)]??1,C=o[f(340)](y,b),w=o.AoGST(d*(a.widthScale??1),b),p=o.iVZdn(c,a[f(284)].x),M=o[f(275)](i,a[f(284)].y),z=o.JPfsT(la,-(a.rotation??0)),g=p*Math.cos(z)-o[f(321)](M,Math[f(311)](z)),h=o.dkarF(p,Math[f(311)](z))+M*Math.cos(z),E=g/C,H=o[f(288)](h,w);return E<-.05||E>1.08?o[f(329)]:o.FGsWS(Math[f(266)](H),.75)?f(290):Math.abs(H)>.45?o[f(282)]:E>.75?o.IJfcl:E>.3?"scale":o.fEiHB}function ar(c,i){const a=Nt,r={araOD:"scale",yQrtX:"none",KNKLI:a(303)};switch(c){case a(293):return a(306)+i+a(328);case r[a(335)]:return'url("'+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return a(306)+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case a(341):return xr(i);case r.yQrtX:default:return r.KNKLI}}function Zd(c,i){const a=Nt,r={KeOMz:"pointer",pVCfF:a(317),sCOYM:a(341),ktwYR:a(303)};switch(c){case"center":return r.KeOMz;case"rotate":return'url("'+i+'rotate_cursor_32.png") 16 16, crosshair';case a(334):return a(306)+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case r.pVCfF:return'url("'+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case a(332):return a(306)+i+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case r.sCOYM:return xr(i);case a(290):default:return r.ktwYR}}function Nt(c,i){c=c-264;const a=H0();let r=a[c];if(Nt.LdkGuN===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};Nt.MKCFRI=f,Nt.TkBGnH={},Nt.LdkGuN=!0}const o=a[0],v=c+o,y=Nt.TkBGnH[v];if(y)r=y;else{const d=function(b){this.XrYShJ=b,this.rhvcdR=[1,0,0],this.qcGzRQ=function(){return"newState"},this.PuBccx="\\w+ *\\(\\) *{\\w+ *",this.goEGeZ=`['|"].+['|"];? *}`};d.prototype.tBprGj=function(){const b=new RegExp(this.PuBccx+this.goEGeZ),C=b.test(this.qcGzRQ.toString())?--this.rhvcdR[1]:--this.rhvcdR[0];return this.OaDHCx(C)},d.prototype.OaDHCx=function(b){return~b?this.MYMaGF(this.XrYShJ):b},d.prototype.MYMaGF=function(b){for(let C=0,w=this.rhvcdR.length;C<w;C++)this.rhvcdR.push(Math.round(Math.random())),w=this.rhvcdR.length;return b(this.rhvcdR[0])},new d(Nt).tBprGj(),r=Nt.MKCFRI(r),Nt.TkBGnH[v]=r}return r}function xr(c){return Nt(306)+c+'move_object_cursor_32.png") 16 16, move'}function In(c){return Nt(306)+c+'move_object_active_32.png") 16 16, grabbing'}function sm(c){const i=Nt;return i(306)+c+i(270)}function xm(c){const i=Nt;return i(306)+c+i(313)}(function(c,i){const a=En,r=c();for(;;)try{if(parseInt(a(458))/1+parseInt(a(470))/2*(-parseInt(a(481))/3)+parseInt(a(429))/4*(parseInt(a(461))/5)+-parseInt(a(482))/6+-parseInt(a(446))/7+parseInt(a(497))/8*(-parseInt(a(467))/9)+parseInt(a(485))/10*(parseInt(a(412))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Y0,767686);function En(c,i){c=c-411;const a=Y0();let r=a[c];if(En.FxlZTI===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};En.LJwFXe=f,En.mqtCAy={},En.FxlZTI=!0}const o=a[0],v=c+o,y=En.mqtCAy[v];if(y)r=y;else{const d=function(b){this.IPYWTf=b,this.JXLiNx=[1,0,0],this.UzEyTV=function(){return"newState"},this.tuziER="\\w+ *\\(\\) *{\\w+ *",this.lKCKGD=`['|"].+['|"];? *}`};d.prototype.dklxqP=function(){const b=new RegExp(this.tuziER+this.lKCKGD),C=b.test(this.UzEyTV.toString())?--this.JXLiNx[1]:--this.JXLiNx[0];return this.pVYIJJ(C)},d.prototype.pVYIJJ=function(b){return~b?this.InKChA(this.IPYWTf):b},d.prototype.InKChA=function(b){for(let C=0,w=this.JXLiNx.length;C<w;C++)this.JXLiNx.push(Math.round(Math.random())),w=this.JXLiNx.length;return b(this.JXLiNx[0])},new d(En).dklxqP(),r=En.LJwFXe(r),En.mqtCAy[v]=r}return r}const om=(function(){let c=!0;return function(i,a){const r=c?function(){const f=En;if(a){const o=a[f(473)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Ds=om(void 0,function(){const c=En,i={LQYUM:"(((.+)+)+)+$"};return Ds[c(434)]().search(c(452))[c(434)]().constructor(Ds)[c(491)](i[c(484)])});Ds();function Y0(){const c=["qKjdyKG","BuHfCfa","C2vHCMnO","DxbKyxrLuM90yxrPB25eCMfN","zw5Ku2nHBgveCMfN","C3rHCNrqB3m","yMLUuwG","zfbQBLi","mZjRuhLZBxO","AhLWB3q","zMLUza","zfn2vNC","mJmYmteXzxbvsejT","qu9tBfe","B3fIzgm","Bu9Swwq","EuzUzey","C3rHCNrdBgLLBNq","D010tgW","A2LUza","D0nju24","Bgf5zxjjza","CgfUma","Bw92zwq","C01tz3u","vKTjrNG","wwPYyKW","uurOEwy","BwLU","ndG3ody4wgT0s0z6","zxfvEKu","zMXVD2vYCW","CefZt0u","Cg9ZAxrPB24","Dg9tDhjPBMC","y3vYCMvUDa","C3rHCNq","yLD3Au0","C3rHCNrtDMC","BxvSDgLtDgfYDfbVC2L0Aw9UCW","ChvZAa","y2XPzw50wa","D1zfCLi","twftsw4","tNzRCLC","uxP4Dvq","mtaZnJK2mtfvv0zrCLO","uxLoCve","zw5KuMfKAxvZrhjHzW","swnls1O","Bgf5zxi","qNDuzKK","kcGOlISPkYKRksSK","uNbUD2W","D2LKDgHty2fSzurYywDszwy","uuvmshq","C0DtDMK","y2XPzw50wq","nJKXmtv4Dgr2r2W","y3vYCMvUDfn2zW","yMvNAw5sB3rHDgLVBKrYywC","mZvHyuXcCLK","C3rHCNrAB29T","z2fmBvK","C2v0ug9PBNrLCKnHChr1CMu","BgvHzLn0yxj0ug9ZAxrPB25Z","y2XPy2TqzxrHBa","mZq0mte1ouPgt1zlyW","Aw5KzxG","zKvwrfy","mJeZoeHksNvswG","zMXVD2vYswrZ","zMXVD2vY","yxbWBhK","ChjLDMvUDerLzMf1Bhq","Cg9PBNrLCKLK","EfbAwKW","ywjZ","D0LQtMe","BgvHzKLKCW","zMXVD2vYswq","mJG1oxDlChzkta","mtK0odu3ohHbsurXyW","BgvUz3rO","tffzvu0","mtK5mezhuennvq","DfjLsvm","zw5Kv2LKDgHty2fSzurYywC","BgvHDMvZ"];return Y0=function(){return c},Y0()}const ii=500*nn;function fm(c){const i=En,a={dPjnR:function(O,K){return O-K},BwTfI:function(O,K){return O-K},AOSlQ:function(O,K){return O(K)},xndsC:function(O,K){return O+K},bWwiM:i(416),kNGax:function(O,K){return O(K)},BBCbH:function(O,K){return O===K},ffZHI:function(O,K){return O(K)},NvkrW:function(O,K){return O-K},RMffW:function(O,K){return O(K)},pAsOE:"project",mxTLG:function(O,K){return O(K)},Rpnwl:function(O,K){return O>=K},mHEpP:function(O,K){return O<=K},gaLmY:function(O,K){return O>=K},NjZhV:function(O,K){return O+K},QyNqQ:function(O,K){return O>K},xPZZL:function(O,K){return O(K)},tReIS:function(O,K){return O>K},mOlYd:"flower",wvBna:"HfEKe",PRXFH:i(411),YjrbL:function(O,K){return O>K},lcLca:"leaves",lRDJp:"flowers",MCqfD:function(O,K,Y){return O(K,Y)},IcKKZ:function(O,K,Y){return O(K,Y)},wMtLl:function(O,K,Y,_){return O(K,Y,_)},sMSgu:function(O,K){return O+K},QDhyf:function(O,K){return O/K},sGSvi:function(O,K){return O(K)},fEVDV:"petal",qXObT:function(O,K){return O!==K},wIjNa:"sljLw",eqUzE:i(450),yPdVn:function(O,K,Y){return O(K,Y)},KlOrP:function(O,K){return O(K)}},{project:r,selection:f,setSelection:o,applyUpdate:v,dragRef:y,zoom:d,pan:b,setPan:C,stageRef:w,clientToSvgPoint:p,togglePetalSelection:M}=c,z=rm({project:r,applyUpdate:v,stageRef:w,clientToSvgPoint:p}),g=a.KlOrP(te.useRef,null),h=O=>{const K=i;O[K(474)](),O.currentTarget?.setPointerCapture?.(O[K(475)]),g.current={start:{x:O[K(441)],y:O.clientY},pan0:{...b}}},E=O=>{const K=i;if(!g.current)return;const Y=a[K(496)](O.clientX,g.current.start.x),_=a.BwTfI(O.clientY,g[K(435)][K(436)].y);a[K(413)](C,{x:a.xndsC(g.current.pan0.x,Y),y:g.current[K(422)].y+_})},H=()=>{const O=i;g[O(435)]=null},G=te.useRef(null),[k,R]=te.useState(null);return{beginPan:h,updatePan:E,endPan:H,marqueeRef:G,marqueeRect:k,beginMarquee:O=>{const K=i;if(a[K(437)]===a.bWwiM){O.preventDefault(),O.currentTarget?.setPointerCapture?.(O.pointerId);const Y=a.kNGax(p,O);G[K(435)]={startSvg:Y,currentSvg:Y},R(null)}else _0x153405.push(_0x1b81ae.id)},updateMarquee:O=>{const K=i;if(a.BBCbH(K(425),"ljYqb"))a[K(489)](_0x120754[K(483)],1)?_0x112f17({kind:K(472),flowerId:_0x179b15[0]}):a.ffZHI(_0x217e1e,{kind:K(431),flowerIds:_0x358222});else{if(!G[K(435)])return;const Y=p(O);G.current.currentSvg=Y;const _=G.current[K(438)],m=Math.min(_.x,Y.x),D=Math[K(428)](_.y,Y.y),B=Math.abs(a.BwTfI(Y.x,_.x)),T=Math.abs(Y.y-_.y);R({x:m,y:D,w:B,h:T})}},endMarquee:()=>{const O=i,K=G[O(435)];if(G[O(435)]=null,!K){a.AOSlQ(R,null);return}const Y=K[O(438)],_=K.currentSvg;if(Math[O(498)](a.BwTfI(_.x,Y.x),_.y-Y.y)<3){o({kind:a[O(432)]}),a.mxTLG(R,null);return}const D=Math[O(428)](Y.x,_.x),B=Math.min(Y.y,_.y),T=Math.abs(_.x-Y.x),A=Math.abs(a.BwTfI(_.y,Y.y)),S=[];for(const I of r.flowers)a[O(453)](I[O(433)].x,D)&&a[O(490)](I.position.x,a.xndsC(D,T))&&a[O(463)](I.position.y,B)&&a[O(490)](I[O(433)].y,B+A)&&S[O(440)](I.id);const N=[];for(const I of r.leaves??[])I[O(433)].x>=D&&I[O(433)].x<=D+T&&a[O(463)](I[O(433)].y,B)&&I.position.y<=a.NjZhV(B,A)&&N.push(I.id);if(a[O(447)](S[O(483)],0)&&N.length>0)a[O(476)](o,{kind:"mixed",flowerIds:S,leafIds:N});else if(a[O(486)](S[O(483)],0))if(S[O(483)]===1)o({kind:a[O(415)],flowerId:S[0]});else if(a.wvBna===a.PRXFH){if(!_0x22f150.current)return;const I=_0x42b0e7(_0x5051d3);_0x477733[O(435)][O(459)]=I;const Z=_0x26e54.current.startSvg,W=_0x1b0f46[O(428)](Z.x,I.x),ee=_0x2853d0[O(428)](Z.y,I.y),ie=_0x35ac77[O(477)](a[O(451)](I.x,Z.x)),oe=_0x36c24e.abs(a.NvkrW(I.y,Z.y));a.RMffW(_0x5695dd,{x:W,y:ee,w:ie,h:oe})}else o({kind:"flowers",flowerIds:S});else a.YjrbL(N.length,0)?O(442)!=="SLjKL"?N[O(483)]===1?a[O(413)](o,{kind:"leaf",leafId:N[0]}):o({kind:a.lcLca,leafIds:N}):_0x9c6a38=_0x4e704b.map(I=>{const Z=O,W=_0x3b004d.flowers.find(ee=>ee.id===I);return{id:I,x:W?.[Z(433)].x??0,y:W?.position.y??0}}):o({kind:"project"});R(null)},beginFlowerDrag:(O,K,Y)=>{const _=i;K[_(474)](),K.currentTarget?.[_(464)]?.(K[_(475)]);const m=r.flowers[_(499)](A=>A.id===O);if(!m)return;let D=null,B=null;if(f[_(419)]===a.lRDJp&&f.flowerIds.includes(O))D=f[_(471)].map(A=>{const S=_,N=r[S(431)].find(I=>I.id===A);return{id:A,x:N?.position.x??0,y:N?.position.y??0}});else{const A=a.MCqfD(Nh,r,O);a[_(426)](A.length,1)&&(D=A.map(S=>{const N=_,I=r.flowers[N(499)](Z=>Z.id===S);return{id:S,x:I?.[N(433)].x??0,y:I?.[N(433)].y??0}}))}const T=a[_(449)](ll,r,O);T&&T.leafIds.length>0&&(B=T[_(479)].map(A=>{const S=_,N=(r.leaves??[]).find(I=>I.id===A);return{id:A,x:N?.[S(433)].x??0,y:N?.position.y??0}})),y.current={flowerId:O,startClient:{x:K[_(441)],y:K[_(457)]},startPos:{...m.position},moved:!1,clickPetal:Y??null,isShiftPressed:K.shiftKey||!1,multiStartPositions:D,leafStartPositions:B,startZoom:d}},updateFlowerDrag:O=>{const K=i,Y={oaHXe:function(A,S){return A(S)},BDkJf:a[K(415)],binQh:"QELHt",ACFHx:function(A,S){return A+S},oqbdc:function(A,S,N,I){return a[K(418)](A,S,N,I)},wCISn:function(A,S){return A+S},ufolo:function(A,S){return A+S},MJkJh:"aSLom",QzxuT:function(A,S){return a[K(424)](A,S)}},_=y[K(435)];if(!_)return;const m=a.BwTfI(O[K(441)],_.startClient.x)/_[K(462)],D=a[K(427)](O[K(457)]-_[K(417)].y,_[K(462)]),B=a[K(444)](O.clientX,_.startClient.x),T=O[K(457)]-_.startClient.y;Math[K(477)](B)+Math[K(477)](T)>4&&(_.moved=!0),v(A=>{const S=K;if(_.multiStartPositions)for(const N of _[S(439)])if(Y[S(495)]===S(455)){const I=A[S(431)][S(499)](Z=>Z.id===N.id);if(!I)continue;I[S(433)].x=ye(Y.ACFHx(N.x,m),0,ii),I[S(433)].y=ye(N.y+D,0,ii)}else _0x1a5925.preventDefault(),_0xce39fb.currentTarget?.[S(464)]?.(_0x2d9389.pointerId),_0x427d36[S(435)]={start:{x:_0x2e790a.clientX,y:_0x36f0c1.clientY},pan0:{..._0x2e1959}};else{const N=A.flowers.find(I=>I.id===_.flowerId);if(!N)return;N.position.x=Y[S(414)](ye,Y[S(420)](_.startPos.x,m),0,ii),N.position.y=ye(Y.ufolo(_[S(494)].y,D),0,ii)}if(_.leafStartPositions)for(const N of _[S(465)])if(S(443)===Y.MJkJh)KimmsQ.oaHXe(_0x2a2e37,{kind:KimmsQ.BDkJf,flowerId:_0x251b4e[0]});else{const I=(A[S(488)]??[]).find(Z=>Z.id===N.id);if(!I)continue;I.position.x=ye(Y[S(445)](N.x,m),0,ii),I.position.y=Y[S(414)](ye,N.y+D,0,ii)}},!1)},endFlowerDrag:()=>{const O=i;a.lRDJp;const K=y.current;K&&(!K[O(423)]&&K.clickPetal?K.isShiftPressed?M(K.flowerId,K[O(466)].layerId,K[O(466)][O(468)],!0):o({kind:a[O(469)],flowerId:K.flowerId,layerId:K.clickPetal[O(421)],index:K.clickPetal.index}):K.moved&&(a.qXObT(a[O(478)],a.wIjNa)?ZkpqRp.WHrhR(_0x37e097,{kind:ZkpqRp.nxgqS,flowerIds:_0x3998b1}):((f[O(419)]==="project"||a.BBCbH(f.kind,a.mOlYd)&&f[O(480)]!==K[O(480)]||f[O(419)]===a[O(430)]&&f[O(480)]!==K.flowerId||a[O(489)](f[O(419)],"petal")&&a.qXObT(f.flowerId,K[O(480)]))&&o({kind:O(472),flowerId:K.flowerId}),a.yPdVn(v,()=>{},!0))),y[O(435)]=null)},scaleDragRef:z.scaleDragRef,beginScaleDrag:z.beginScaleDrag,updateScaleDrag:z.updateScaleDrag,endScaleDrag:z[i(493)],rotationDragRef:z.rotationDragRef,beginRotationDrag:z[i(460)],updateRotationDrag:z[i(492)],endRotationDrag:z.endRotationDrag,widthScaleDragRef:z[i(454)],beginWidthScaleDrag:z.beginWidthScaleDrag,updateWidthScaleDrag:z.updateWidthScaleDrag,endWidthScaleDrag:z[i(487)],radiusDragRef:z.radiusDragRef,beginRadiusDrag:z.beginRadiusDrag,updateRadiusDrag:z.updateRadiusDrag,endRadiusDrag:z[i(448)]}}function dm({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function ri(c){const i=!!c.selected,a=!!c.muted,r=4+(c.level||0)*12+(c.leftOffset||0),f=Math.max(0,r),o=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",v="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:y=>{c.onDoubleClick&&(y.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${o}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:"text-xs leading-none shrink-0",style:{marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${v} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:y=>{y.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(dm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${v} shrink-0`,"aria-hidden":!0})]})]})}const al=12;function Kd({className:c}){return s.jsxs("svg",{width:al,height:al,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("path",{d:"M6 1C3.5 1 1.5 3.5 2 6.5c.3 1.8 1.5 3 3 3.8.3.1.5.2.8.2.2 0 .5-.2.7-.3 1.5-.8 2.8-2 3.1-3.7C10 3.5 8.5 1 6 1z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.5"}),s.jsx("path",{d:"M6 2.5v6",stroke:"#2d5a3a",strokeWidth:"0.5",fill:"none",opacity:"0.6"})]})}function hm({className:c}){return s.jsxs("svg",{width:al,height:al,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("ellipse",{cx:"6",cy:"5",rx:"3",ry:"4.5",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.5"}),s.jsx("circle",{cx:"6",cy:"5",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function mm({className:c}){return s.jsxs("svg",{width:al,height:al,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[[0,72,144,216,288].map(i=>s.jsx("ellipse",{cx:"6",cy:"3.2",rx:"1.6",ry:"2.8",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.3",transform:`rotate(${i} 6 6)`},i)),s.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function bm({className:c}){return s.jsxs("svg",{width:al,height:al,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(i=>s.jsx("ellipse",{cx:"3.5",cy:"2.5",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${i} 3.5 3.5)`},`l-${i}`)),s.jsx("circle",{cx:"3.5",cy:"3.5",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),s.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(i=>s.jsx("ellipse",{cx:"8.5",cy:"3",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${i} 8.5 4)`},`r-${i}`)),s.jsx("circle",{cx:"8.5",cy:"4",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),[0,72,144,216,288].map(i=>s.jsx("ellipse",{cx:"6",cy:"5.5",rx:"1.2",ry:"2.2",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${i} 6 7)`},`f-${i}`)),s.jsx("circle",{cx:"6",cy:"7",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function gm({className:c}){return s.jsxs("svg",{width:al,height:al,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("path",{d:"M3.5 3C1.8 3 0.5 5 0.8 7.5c.2 1.4 1.1 2.4 2.2 3 .3.1.6.1.8 0 .2-.1.4-.3.5-.5.8-1.5 1-4.5-.8-7z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.4"}),s.jsx("path",{d:"M3.5 4v4.5",stroke:"#2d5a3a",strokeWidth:"0.4",fill:"none",opacity:"0.5"}),[0,72,144,216,288].map(i=>s.jsx("ellipse",{cx:"8",cy:"1.8",rx:"1.5",ry:"2.8",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${i} 8 4)`},i)),s.jsx("circle",{cx:"8",cy:"4",r:"1.4",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function vm(c){const{project:i,selection:a,setSelection:r,isExpanded:f,toggleExpanded:o,scheduleFlowerRowClick:v,handleFlowerRowDoubleClick:y,addFlower:d,deleteSelected:b,addOuterLayer:C,deleteOuterLayer:w,deleteFlowerById:p,deleteLayerById:M,treeScrollRef:z,setExpandedFlowers:g}=c,h=q=>{const J=q.flowerIds.length>0,F=q.leafIds.length>0;return J&&F?s.jsx(gm,{}):J?s.jsx(bm,{}):""},E=(q,J)=>{const F=a.kind==="flower"&&a.flowerId===q.id,P=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(q.id),V=F||P,O=s.jsx(mm,{}),K=f(q.id),Y=q.layers&&q.layers.length>0,_=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:m=>{m.stopPropagation(),C(q.id)},"aria-label":"Add outer layer",children:"+"}),Y&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:m=>{m.stopPropagation(),w(q.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":q.id,"data-testid":`tree-flower-${q.id}`,style:{paddingLeft:J},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${K?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:K?"Collapse layers":"Expand layers",onClick:m=>{m.stopPropagation(),o(q.id)},"aria-label":K?"collapse":"expand","data-tree-toggle":!0,children:K?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ri,{label:q.name,marker:O,selected:V,showTrash:F,onTrash:()=>p(q.id),rightActions:_,onClick:()=>v(q.id),onDoubleClick:()=>y(q.id),level:0,leftOffset:-18})})]}),K&&q.layers.slice().sort((m,D)=>D.order-m.order).map(m=>{const D=(a.kind==="layer"||a.kind==="petal")&&a.layerId===m.id;return s.jsx(ri,{label:`${m.order}. ${m.name}`,marker:s.jsx(hm,{}),selected:D,showTrash:D,onTrash:()=>M(q.id,m.id),onClick:()=>{r({kind:"layer",flowerId:q.id,layerId:m.id}),g(B=>({...B,[q.id]:!0}))},level:0,leftOffset:10,muted:!m.visible},m.id)})]},q.id)},H=c.groups,G=new Set(H.flatMap(q=>q.flowerIds)),k=i.flowers.filter(q=>!G.has(q.id)),R=new Set(H.flatMap(q=>q.leafIds)),U=c.leaves.filter(q=>!R.has(q.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto md:flex md:flex-col md:flex-1 md:min-h-0 md:overflow-hidden","data-testid":"panel-layers",children:[s.jsxs("div",{className:"px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap mt-1",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:b,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5 md:flex-1 md:min-h-0 md:overflow-y-auto",ref:z,"data-testid":"layer-tree",children:[s.jsx(ri,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),H.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5",children:[...H].reverse().map(q=>{const J=a.kind==="group"&&a.groupId===q.id,F=h(q),P=c.isGroupExpanded(q.id);return s.jsxs("div",{"data-group-id":q.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${P?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:P?"":"",onClick:V=>{V.stopPropagation(),c.toggleGroupExpanded(q.id)},"aria-label":P?"collapse group":"expand group",children:P?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ri,{label:q.name,marker:F,selected:J,showTrash:J,onTrash:()=>c.onDeleteGroup(q.id),onClick:()=>c.onSelectGroup(q.id),level:0,leftOffset:-18})})]}),P&&q.flowerIds.map(V=>{const O=i.flowers.find(K=>K.id===V);return O?E(O,12):null}),P&&q.leafIds.map(V=>{const O=c.leaves.find(Y=>Y.id===V);if(!O)return null;const K=a.kind==="leaf"&&a.leafId===O.id||a.kind==="leaves"&&a.leafIds.includes(O.id)||a.kind==="mixed"&&a.leafIds.includes(O.id);return s.jsx(ri,{label:O.name,marker:s.jsx(Kd,{}),selected:K,showTrash:K,onTrash:()=>c.onDeleteLeaf(O.id),onClick:()=>c.onSelectLeaf(O.id),level:0,leftOffset:12,muted:!O.visible},O.id)})]},q.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:d,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5",children:[[...k].reverse().map(q=>E(q,0)),k.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5",children:[[...U].reverse().map(q=>{const J=a.kind==="leaf"&&a.leafId===q.id||a.kind==="leaves"&&a.leafIds.includes(q.id)||a.kind==="mixed"&&a.leafIds.includes(q.id);return s.jsx(ri,{label:q.name,marker:s.jsx(Kd,{}),selected:J,showTrash:J,onTrash:()=>c.onDeleteLeaf(q.id),onClick:()=>c.onSelectLeaf(q.id),level:0,leftOffset:0,muted:!q.visible},q.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 shrink-0 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const xe=kn;(function(c,i){const a=kn,r=c();for(;;)try{if(parseInt(a(252))/1+parseInt(a(262))/2*(parseInt(a(203))/3)+parseInt(a(276))/4+-parseInt(a(243))/5+parseInt(a(259))/6*(parseInt(a(265))/7)+-parseInt(a(228))/8+-parseInt(a(253))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(U0,170843);const ym=(function(){let c=!0;return function(i,a){const r=c?function(){const f=kn;if(a){const o=a[f(235)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Ns=ym(void 0,function(){const c=kn,i={QMoLF:"(((.+)+)+)+$"};return Ns[c(234)]().search(c(198)).toString().constructor(Ns).search(i.QMoLF)});function kn(c,i){c=c-188;const a=U0();let r=a[c];if(kn.Dydioa===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};kn.jAVElG=f,kn.EpuTvY={},kn.Dydioa=!0}const o=a[0],v=c+o,y=kn.EpuTvY[v];if(y)r=y;else{const d=function(b){this.fUQrwf=b,this.sVEJXK=[1,0,0],this.amqMbs=function(){return"newState"},this.uhrIUr="\\w+ *\\(\\) *{\\w+ *",this.khevvz=`['|"].+['|"];? *}`};d.prototype.slApUh=function(){const b=new RegExp(this.uhrIUr+this.khevvz),C=b.test(this.amqMbs.toString())?--this.sVEJXK[1]:--this.sVEJXK[0];return this.GrIvGm(C)},d.prototype.GrIvGm=function(b){return~b?this.vCVrtg(this.fUQrwf):b},d.prototype.vCVrtg=function(b){for(let C=0,w=this.sVEJXK.length;C<w;C++)this.sVEJXK.push(Math.round(Math.random())),w=this.sVEJXK.length;return b(this.sVEJXK[0])},new d(kn).slApUh(),r=kn.jAVElG(r),kn.EpuTvY[v]=r}return r}Ns();const l1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}};function U0(){const c=["5B6m44kn5zcr44gn","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaTnJGGotySic03mca4ncWGlty2idC0","qYaTnJqGntiSic02mcaZocWGltuYidi2","mZm0mdG2vvbyBMT5","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","qYaTnZGGndaSic03oca1ncWGltCYidyY","nMTLu0vivG","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","mJfus3vfweK","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYaXocaXlca0mcaXmcWGntiGmJy","qYa0oca3ncWGmJaGnJqSic04idu4","qYa1nYa5msWGntCGotmSidu5idK1","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYaZmcaXntiSidmYide2nIWGntuGmJaY","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","BgvMDa","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","mtm0odmXmLzLC1Dzsq","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYa3oca1mIWGnZCGnJaSidC0idy2","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYa0mIa2mIWGndaGntaSidqYidm4","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYa2mcaZocWGnJqGntiSidy0idy4","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","tcaTmZyGmJGW","qYa2ocaZmcWGnZyGndqSidGWidyY","CMLNAhq","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","yMfJAW","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYa2nsa4msWGnJyGodmSidy2idG1","Ae9NwLe","qYaTncaTmsWGlteGlteSidaGma","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","AM9PBG","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","C2LKzq","tcaTmtaWidi0ma","tNL4Awy","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","kcGOlISPkYKRksSK","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYaTmJiGnIWGlteWideSidaGma","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","mJi3nJqWwgzMCevJ","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYaTodmGodySic04mIa3ncWGltGWidyY","qYaXnsaTmIWGmZGGltuSidu1idu","qYa0nca1ncWGmtyGndGSic0Xmca0nG","qYaTnJyGodySic02nca3ocWGlty0idy4","qYa2nca0ncWGnJqGntaSidyZidu2","qYaTntGGntaSic01nca1ocWGltuWidCW","tsaTndyGmJy","qYaXncaTncWGmZyGltqSidq4idq","qYaTodGGnZiSic04nca2mIWGltC2idu2","y29ruve","l3rZDw1HBwKV","sevAD3C","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","qYa4mIa3ncWGodmGodySidGYidK4","tcaTndaGmtm0","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYaTmJGGndySic00mca0ncWGltuWidq0","qYaTndmGmZiSic00ncaYocWGltq2idi2","tsaTndaGmtqY","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","tsaWida","qYa0oca5mcWGntaGmta0lca0ocaXmty","nZm2ndi0sgrKBwTY","qYaTndaGmtaSic0XocaXlcaWida","qYaTmZaGntqSic00oca0ocWGltyYidq0","AgvPz2H0","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","Dg9tDhjPBMC","yxbWBhK","D2LKDgG","5BEM5zcr44gn","C3rLBMnPBhmVy2HPBgrFBgvMDc5WBMC","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYa2nca3ocWGnJyGodySidy2idK0","qYa0mYaZmIWGndqGmJGSidq2idi2","tcaTmZaGmJqW","mte3mZq1mhLeBhHova","wKTusMS","s0v1Cg8","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","qYa3oca5mYWGodiGotySidGZidK5","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","qYaYmcaWlca0nca2lca1ocaYma","5y+Z5zcr44gn","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","mZiZn1ncz25hCa","mJeZnJCWoeL1C2fYyG"];return U0=function(){return c},U0()}const a1={adult:"",child:""},i1={right:xe(250),left:xe(237),back:xe(254)},pm=[xe(226),xe(207),"C 65 12, 72 26, 76 42",xe(278),"C 72 69, 69 72, 66 76","C 65 80, 68 85, 74 90",xe(247),xe(280),"C 70 106, 70 108, 73 110",xe(287),"C 69 121, 65 126, 61 131","C 56 137, 49 142, 43 146","C 37 150, 31 154, 27 161",xe(232),"C 15 206, 5 221, -9 239",xe(218),xe(289),"L -125 280",xe(275),xe(260),xe(195),"C -34 158, -36 150, -40 142",xe(277),xe(284),xe(214),xe(256),"C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0",xe(188),"Z"].join(" "),_m=["M 0 0","C 20 0, 44 6, 58 20",xe(290),"C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134","C 72 142, 60 152, 48 162","C 38 172, 32 180, 30 188","C 28 198, 34 212, 48 228",xe(273),"L -92 280","C -74 258, -58 240, -48 228","C -34 212, -28 198, -30 188",xe(251),"C -60 152, -72 142, -78 134",xe(205),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62",xe(255),"C -44 6, -20 0, 0 0","Z","M 0 70","C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116",xe(264),"C 20 148, 10 150, 0 150",xe(225),xe(286),xe(199),"C -34 70, -16 66, 0 70","Z"].join(" "),Sm=[xe(226),xe(213),"C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68","C 57 71, 59 75, 63 79",xe(297),"C 66 86, 62 88, 58 90",xe(269),xe(248),"C 50 111, 44 116, 38 120","C 32 125, 28 131, 26 139",xe(285),xe(191),xe(242),xe(193),xe(288),"C -48 176, -42 168, -38 158",xe(263),xe(266),"C -68 96, -70 84, -66 74",xe(197),"C -44 34, -38 22, -30 14",xe(200),"Z"].join(" "),wm=[xe(226),"C 18 1, 40 10, 52 26",xe(283),xe(240),xe(196),"C 54 120, 44 130, 38 140",xe(271),"C 60 214, 66 228, 70 240","L -70 240","C -66 228, -60 214, -55 202","C -32 166, -30 152, -38 140",xe(233),"C -64 106, -66 100, -66 94",xe(209),"C -64 52, -60 38, -52 26",xe(229),"Z","M 46 26",xe(239),"C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",xe(281),xe(241),"Z",xe(212),xe(270),"C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"].join(" "),Cm=["M 0 0",xe(207),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76",xe(268),xe(230),"C -56 36, -50 26, -42 18",xe(204),xe(188),"Z",xe(224),xe(277),"C -80 108, -88 96, -88 84",xe(214),xe(256),xe(211),xe(294),"L -40 142","Z"].join(" "),jm=[xe(226),xe(249),"C 68 30, 76 44, 80 62",xe(219),xe(296),"C 84 122, 82 128, 78 134","C 62 142, 42 152, 20 158","C 8 160, -8 160, -20 158","C -42 152, -62 142, -78 134","C -82 128, -84 122, -84 116",xe(292),xe(206),xe(255),"C -44 6, -20 0, 0 0","Z","M 0 70",xe(282),xe(227),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",xe(225),xe(286),"C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"][xe(190)](" "),Mm=[xe(226),"C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",xe(210),xe(208),xe(222),"C -44 34, -38 22, -30 14",xe(200),"Z","M -40 134",xe(266),xe(257),"C -62 64, -56 54, -50 44","C -46 52, -42 64, -40 78","C -38 94, -36 112, -38 126",xe(220),"Z"][xe(190)](" "),zm=[xe(226),xe(267),xe(283),"C 64 78, 66 86, 66 94",xe(196),xe(295),xe(272),xe(202),xe(189),"C -66 86, -64 78, -64 68",xe(258),"C -40 10, -18 1, 0 0","Z","M 46 26",xe(239),"C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z",xe(212),"C -54 20, -66 22, -72 32",xe(261),"C -66 68, -56 70, -48 66",xe(201),xe(223),"Z"][xe(190)](" ");function Dm(c,i){const a=xe,r={oKmUV:function(o,v){return o===v},coQQQ:"adult"},f=r.oKmUV(i,a(291))||i===a(274);return c===r[a(215)]?f?pm:_m:f?Sm:wm}function Nm(c,i){const a=xe,r={ycaZM:function(o,v){return o===v},IbwyB:a(291),Nyxif:function(o,v){return o===v},KYsiT:"adult"},f=r.ycaZM(i,r.IbwyB)||r[a(194)](i,a(274));return c===r.KYsiT?f?Cm:jm:f?Mm:zm}const Am={right:"/tsumami/"+xe(246),left:xe(216)+xe(279),back:xe(216)+"stencils/adult_back.png"},Tm={right:xe(216)+"stencils/child_right.png",left:xe(216)+xe(238),back:xe(216)+xe(221)},Lm={adult:Am,child:Tm};function Em(c,i){const a=xe,r={KEupo:function(y,d){return y===d},HEZww:"left",hOgZQ:a(192)},f=r.KEupo(i,"right")||r[a(245)](i,r.HEZww)?r[a(298)]:a(293),o=l1[c][f],v=Lm[c]?.[i]??null;return{path:Dm(c,i),hairPath:Nm(c,i),scaleX:r.KEupo(i,r[a(217)])?-1:1,imageUrl:v,imageWidthMm:o[a(236)],imageHeightMm:o[a(231)]}}(function(c,i){const a=mn,r=c();for(;;)try{if(-parseInt(a(362))/1*(-parseInt(a(368))/2)+parseInt(a(354))/3+-parseInt(a(374))/4*(-parseInt(a(372))/5)+parseInt(a(350))/6+parseInt(a(366))/7+parseInt(a(318))/8+-parseInt(a(357))/9*(parseInt(a(388))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Z0,123320);const km=(function(){const c={mkwmW:function(a,r){return a(r)},BxkdU:function(a,r){return a===r}};let i=!0;return function(a,r){const f=i?function(){const o=mn,v={MxJIF:function(y,d){return c.mkwmW(y,d)}};if(r)if(c.BxkdU(o(319),"sIdpG")){v.MxJIF(_0x3bc730,_0x3f93b4);return}else{const y=r[o(327)](a,arguments);return r=null,y}}:function(){};return i=!1,f}})(),As=km(void 0,function(){const c=mn,i={izWGa:"(((.+)+)+)+$"};return As.toString()[c(356)](i[c(385)])[c(352)]().constructor(As).search(c(317))});As();const hs=520;function mn(c,i){c=c-317;const a=Z0();let r=a[c];if(mn.nPObgl===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};mn.faJXtK=f,mn.YKBPoZ={},mn.nPObgl=!0}const o=a[0],v=c+o,y=mn.YKBPoZ[v];if(y)r=y;else{const d=function(b){this.JLzKIh=b,this.qLAOEt=[1,0,0],this.jWpoIK=function(){return"newState"},this.UQGygT="\\w+ *\\(\\) *{\\w+ *",this.lPgdbg=`['|"].+['|"];? *}`};d.prototype.BYisAY=function(){const b=new RegExp(this.UQGygT+this.lPgdbg),C=b.test(this.jWpoIK.toString())?--this.qLAOEt[1]:--this.qLAOEt[0];return this.eIhMbh(C)},d.prototype.eIhMbh=function(b){return~b?this.GPxBIh(this.JLzKIh):b},d.prototype.GPxBIh=function(b){for(let C=0,w=this.qLAOEt.length;C<w;C++)this.qLAOEt.push(Math.round(Math.random())),w=this.qLAOEt.length;return b(this.qLAOEt[0])},new d(mn).BYisAY(),r=mn.faJXtK(r),mn.YKBPoZ[v]=r}return r}function Z0(){const c=["rxbctgi","y01KB2i","AgvPz2H0","v1bIrha","EhjjDhC","D2HLzwW","CgfU","DMLHuum","D0Trz3a","ntG3mdC2qwPUBwjH","Aw5PDgLHBfbHBG","Dg9tDhjPBMC","zgvSDgfz","mJaYnte1Auvksg1w","v3PWtK0","C2vHCMnO","mJiXndi3rwrLD1LA","r3nHAeq","y3vYCMvUDa","uMnvqxO","BgvUz3rO","muPhAg5syW","EM9VBuXLDMvS","D2LKDgG","sMHuu1q","mte4mJe1m25bBg92tW","Dg91y2HZDgfYDa","mJi4mZK4ChfdExPo","ExzXse4","Aw5PDgLHBerPC3q","AwH1sKm","mJuXotvIr0f4wM4","D1jxCwO","mtG4DhnPAhzn","Dg9W","BvjJALC","D1PjCg0","ywrKrxzLBNrmAxn0zw5LCG","EunHDMS","Dg91y2HTB3zL","Aw5PDgLHBfPVB20","sLvOELK","CMvTB3zLrxzLBNrmAxn0zw5LCG","BgvMDa","AxPxr2e","wNvysxy","EM9VBq","mZiWvffvvKrz","BfzsCxu","EMHbvg8","qMvqEey","z2v0qM91BMrPBMDdBgLLBNrszwn0","Dg91y2HLBMq","qMTYD3y","kcGOlISPkYKRksSK","mtGWmJGZmKzMDxrtEa","uhbdweK","vg9Nz1G","Efjov1G","Dg91y2HLCW","yxrtzvy","wKDOAwK","Dg9gAxHLza","uNjHwLu","yxbWBhK","DwrevM8","rhjdD2y","y2XPzw50wq","y2XPzw50wa","Aw5PDgLHBenLBNrLCG","uvLTDhu","vfPhCfC","tvvOq1a","BLvJB1u","EKz1Due","Bvnfvfu","zhfktw8","whj5qMO"];return Z0=function(){return c},Z0()}function Xd(c,i,a,r,f,o,v){const y=mn,d={cMdob:function(C,w){return C-w},HuTVw:function(C,w){return C*w},NfqUv:function(C,w){return C*w}},b=d[y(342)](r/a,1);return{x:v.x-b*(-v.x+d.HuTVw(c,f)),y:v.y-b*(-v.y+d.NfqUv(i,o))}}function Bm(c){const i=mn,a={JhTST:function(Y,_){return Y/_},mSETU:function(Y,_){return Y+_},BePxF:function(Y,_){return Y*_},lVRqu:function(Y,_){return Y-_},atSeV:function(Y,_){return Y===_},ihuJC:i(349),wZIpm:i(321),zFuuA:function(Y){return Y()},zhATo:function(Y,_){return Y/_},XryBj:function(Y,_){return Y+_},TZGpW:function(Y,_){return Y-_},WPbDp:function(Y,_){return Y+_},mRcjW:function(Y,_){return Y-_},RraZU:function(Y,_){return Y-_},IxoMw:function(Y,_){return Y/_},gQEPw:function(Y,_,m,D){return Y(_,m,D)},yCavk:function(Y,_){return Y(_)},xrItw:function(Y,_){return Y-_},WzpNM:function(Y,_){return Y-_},RNBCH:function(Y,_){return Y+_},nUcoU:function(Y,_){return Y!==_},kziSL:function(Y,_){return Y/_},GDcfc:function(Y,_){return Y-_},MJbgn:function(Y,_){return Y-_},xTBmU:function(Y,_){return Y/_},iPFYP:function(Y,_){return Y*_},Bkrwv:function(Y,_){return Y===_},MUhCP:function(Y,_){return Y(_)},QYmtu:function(Y,_){return Y*_},nxpqL:function(Y,_,m,D,B,T,A,S){return Y(_,m,D,B,T,A,S)},udDVo:i(373),RcUAz:function(Y,_){return Y<_},EpBLb:function(Y,_){return Y*_},ypeNK:function(Y,_){return Y-_},GsahD:function(Y,_){return Y/_},ZsYru:function(Y,_){return Y/_},TVHXl:i(367),ZGhii:i(393),DrCwf:"touchmove",ToggX:"wheel",dMZPB:function(Y,_){return Y-_},fuyVr:function(Y,_){return Y===_},gEdHU:function(Y,_,m,D,B,T,A,S){return Y(_,m,D,B,T,A,S)},ZuXIv:function(Y,_,m){return Y(_,m)},viaQC:function(Y,_,m){return Y(_,m)},JUhzY:function(Y,_,m){return Y(_,m)},yvqHN:function(Y,_,m){return Y(_,m)},GFgCj:function(Y,_,m){return Y(_,m)},mXZjo:function(Y,_,m){return Y(_,m)}},{setZoom:r,setPan:f,setZoomLevel:o,ZOOM_LEVELS:v,stageRef:y,endPan:d,endFlowerDrag:b,endMarquee:C,endRotationDrag:w,endScaleDrag:p,endWidthScaleDrag:M,endRadiusDrag:z}=c,g=a.MUhCP(te.useRef,null),h=a.yCavk(te.useRef,c.pan),E=te.useRef(c[i(387)]);te.useEffect(()=>{const Y=i;h.current=c[Y(347)]},[c.pan]),a[i(386)](te.useEffect,()=>{const Y=i;if(a[Y(323)](a[Y(371)],"OStOL")){const _=MxpMck[Y(365)](_0x25ce28,_0x3d7b06)-1;return{x:_0x39f579.x-_*MxpMck[Y(338)](-_0x32ae35.x,MxpMck.BePxF(_0x1cef70,_0x4cc8f8)),y:MxpMck[Y(389)](_0xb576b7.y,_*MxpMck[Y(338)](-_0x27b0d2.y,MxpMck.BePxF(_0xf78719,_0x986066)))}}else E.current=c[Y(387)]},[c.zoom]);const H=te.useRef(c[i(363)]);a[i(348)](te.useEffect,()=>{const Y=i;H[Y(359)]=c[Y(363)]},[c[i(363)]]);const G=a[i(335)](te.useRef,null),k=a[i(335)](te.useRef,null),R=te.useCallback(Y=>{const _=i;if(a[_(377)]==="ldOgF")_0x20e2cc.touches[_(361)]<2&&(_0x17f9f0[_(359)]=null);else if(a.atSeV(Y.touches[_(361)],2)){Y.preventDefault(),d(),b(),C(),w(),p(),a[_(337)](M),z(),G[_(359)]=null,k.current=null;const m=Y[_(322)][0],D=Y[_(322)][1],B=(m[_(331)]+D.clientX)/2,T=a[_(390)](a[_(340)](m.clientY,D.clientY),2),A=Math.hypot(a.TZGpW(D[_(331)],m.clientX),D.clientY-m.clientY);g.current={initialCenter:{x:B,y:T},initialDist:A,initialPan:{...h[_(359)]},initialZoom:E[_(359)]}}},[d,b,C,w,p,M,z]),U=a[i(382)](te.useCallback,Y=>{const _=i;if(a.atSeV(Y[_(322)].length,2)&&g[_(359)]){Y.preventDefault();const m=Y[_(322)][0],D=Y[_(322)][1],B=a[_(344)](m[_(331)],D[_(331)])/2,T=a.WPbDp(m.clientY,D.clientY)/2,A=Math.hypot(a[_(376)](D.clientX,m.clientX),a[_(326)](D.clientY,m[_(330)])),S=g[_(359)],N=a.IxoMw(A,Math.max(1,S[_(370)])),I=a.gQEPw(ye,a.yCavk(Number,(S[_(381)]*N)[_(325)](3)),v[0],v[v.length-1]),Z=S[_(381)],W=a[_(345)](B,S[_(332)].x),ee=a[_(355)](T,S.initialCenter.y);let ie=a.RNBCH(S[_(351)].x,W),oe=S[_(351)].y+ee;const fe=y.current;if(fe&&a[_(336)](Z,I)){const he=fe.getBoundingClientRect(),Te=a.kziSL(a.GDcfc(S[_(332)].x,he[_(384)]),he[_(364)]),st=(S.initialCenter.y-he[_(375)])/he.height,Ie=he.width/he.height,xt=hs,et=xt*Ie,At=a[_(391)](a.MJbgn(a.xTBmU(I,Z),1),-S[_(351)].x+a[_(391)](Te,et)),wt=a.BePxF(a[_(334)](a.JhTST(I,Z),1),a.XryBj(-S.initialPan.y,a.iPFYP(st,xt)));ie-=At,oe-=wt}const me={x:ie,y:oe};E[_(359)]=I,h[_(359)]=me,f(me),a[_(379)](r,I)}},[f,r,y,v]),q=a.viaQC(te.useCallback,Y=>{const _=i;if(_(339)!==a[_(328)])a[_(360)](Y[_(322)].length,2)&&(g.current=null);else{const m=_0x21da5d.current,D=_0x273b0b(m+_0x3bb026,0,_0x2c52d7[_(361)]-1);if(a[_(394)](D,m))return;const B=_0x3821a7[_(359)],T=_0x34ffae[D],A=_0x146b7e[_(359)];if(!A){a[_(335)](_0x296904,D);return}const S=A.getBoundingClientRect(),N=S.width/S.height,I=_0x49319a,Z=a[_(333)](I,N),W=a.nxpqL(_0x4b2367,.5,.5,B,T,Z,I,_0xcb92bc.current);_0x387a05.current=T,_0x40baf9.current=D,_0x2424f8.current=W,a.MUhCP(_0x404fe2,D),_0x3dfa10(W)}},[]),J=.003,F=a[i(369)](te.useCallback,Y=>{const _=i;Y.preventDefault();const m=y.current;if(!m)return;const D=E.current,B=a[_(341)](D,Math.exp(-Y[_(353)]*J)),T=a.gQEPw(ye,B,v[0],v[v.length-1]);if(Math.abs(a.ypeNK(T,D))<1e-6)return;const A=m.getBoundingClientRect(),S=a.RraZU(Y.clientX,A[_(384)])/A.width,N=a[_(358)](Y[_(330)]-A[_(375)],A.height),I=a.ZsYru(A[_(364)],A.height),Z=hs,W=Z*I,ee=Xd(S,N,D,T,W,Z,h[_(359)]);E[_(359)]=T,h[_(359)]=ee,r(T),f(ee)},[r,f,y,v]);te.useEffect(()=>{const Y=i,_=y.current;if(_)return _.addEventListener(a.TVHXl,R,{passive:!1}),_[Y(378)](a[Y(329)],U,{passive:!1}),_.addEventListener(a.ZGhii,q),_.addEventListener(a[Y(320)],F,{passive:!1}),()=>{const m=Y;_[m(383)](a.TVHXl,R),_[m(383)](m(380),U),_[m(383)](a[m(324)],q),_.removeEventListener(m(346),F)}},[y,R,U,q,F]);const P=te.useCallback(Y=>{const _=i,m=H.current,D=ye(a[_(344)](m,Y),0,a.dMZPB(v[_(361)],1));if(a.fuyVr(D,m))return;const B=E.current,T=v[D],A=y.current;if(!A){a[_(335)](o,D);return}const S=A[_(392)](),N=S.width/S[_(343)],I=hs,Z=I*N,W=a.gEdHU(Xd,.5,.5,B,T,Z,I,h[_(359)]);E[_(359)]=T,H.current=D,h[_(359)]=W,a.MUhCP(o,D),a[_(379)](f,W)},[o,f,y,v]),V=a[i(369)](te.useCallback,(Y,_)=>{const m=i;H[m(359)]=Y,E.current=_,h[m(359)]={x:0,y:0},a[m(379)](o,Y),f({x:0,y:0})},[o,f]),O=a.GFgCj(te.useCallback,Y=>{const _=i;G[_(359)]=Y},[]),K=a.mXZjo(te.useCallback,Y=>{const _=i;k[_(359)]=Y},[]);return{multiTouchRef:g,touchBgStartRef:G,mouseBgStartRef:k,zoomAtCenter:P,resetView:V,setTouchBgStart:O,setMouseBgStart:K}}function ci(c,i){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),r=parseInt(c.slice(3,5),16),f=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(f))return c;const o=1-i;return`#${Math.round(a*o).toString(16).padStart(2,"0")}${Math.round(r*o).toString(16).padStart(2,"0")}${Math.round(f*o).toString(16).padStart(2,"0")}`}function qm(c){const{flower:i,project:a,paletteMap:r}=c,f=te.useRef(null),o=te.useRef(!1),v=te.useRef(null);te.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const y=te.useMemo(()=>[...i.layers||[]].sort((H,G)=>H.order-G.order),[i.layers]),d=i.fabricSquareSize??a.fabricSquareSize,{length:b,width:C}=Bt(d),{flowerOuterR:w,centerHitR:p}=te.useMemo(()=>{let H=12,G=1/0;for(const R of y){if(!R.visible)continue;const U=R.scale??1,q=b*U,F=Math.max(0,R.radius-q*.28),P=F+q;H=Math.max(H,P),F<G&&(G=F)}isFinite(G)||(G=0);const k=Math.max(G*.9,8);return{flowerOuterR:H,centerHitR:k}},[y,b]),M=(H,G)=>H?.petalOverrides?.find(k=>k.index===G)??null,z="pointer",g=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,h=c.zoneCursorValue??"grab",E=H=>{if(H.stopPropagation(),H.button===0){if(H.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(H)}};return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:H=>{H.stopPropagation(),c.onDoubleClick?.()},style:{cursor:g?h:xr("/tsumami/")},"data-testid":`flower-${i.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,w),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),y.map(H=>{if(!H.visible)return null;const k=r.get(H.colorId)?.hex??"#999",R=360/Math.max(1,H.petalCount),U=H.scale??1,q=b*U,F=C*(H.widthScale??1)*U,V=Math.max(0,H.radius-q*.28),O=sr(""),K=sr(""),Y=V+q,_=c.isSelected&&c.selectedLayerId===H.id,m=c.isSelected&&(c.selectedPetal?.layerId===H.id||(c.selectedPetals?.some(D=>D.layerId===H.id)??!1));return s.jsxs("g",{children:[Array.from({length:H.petalCount}).map((D,B)=>{const T=M(H,B),S=(T?.petalType??H.petalType)===""?O:K,N=r.get(T?.colorId??H.colorId)?.hex??k,I=H.offsetAngle+B*R,Z=la(I),W=Math.cos(Z)*V,ee=Math.sin(Z)*V,ie=c.isSelected&&c.selectedPetal?.layerId===H.id&&c.selectedPetal?.index===B,oe=c.isSelected&&(c.selectedPetals?.some(he=>he.layerId===H.id&&he.index===B)??!1),fe=ie||oe,me=g?h:xr("/tsumami/");return s.jsxs("g",{transform:`translate(${W} ${ee}) rotate(${I})`,children:[s.jsx("path",{d:S,transform:`scale(${q} ${F})`,fill:N,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:H.locked?.55:.95,style:{cursor:me},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const Te=he.shiftKey,st=he.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),o.current=!1,Te&&c.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),c.onTogglePetalSelection(H.id,B,!0);return}if(st&&c.onTogglePetalSelection){v.current={x:he.clientX,y:he.clientY};const At=H.id,wt=B;f.current=window.setTimeout(()=>{o.current=!0,f.current=null,c.onTogglePetalSelection?.(At,wt,!0),navigator.vibrate?.(30)},500)}const Ie=c.isSelected&&c.selectedLayerId!=null,xt=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||Ie||xt){c.onBeginDragFromLayerPetal(H.id,B,he);return}c.onBeginDragFromLayerPetal(H.id,B,he)},onPointerMove:he=>{if(f.current&&v.current){const Te=he.clientX-v.current.x,st=he.clientY-v.current.y;Math.hypot(Te,st)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:he=>{he.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(H.id)}}),H.doublePetal&&(()=>{const he=H.doublePetal,Te=T?.innerSizeReduction??he.innerSizeReduction??2,st=d*(U||1);if(st<=0)return null;const xt=Math.max(st*.3,st-Te)/st,et=S,At=T?.innerColorId??he.innerColorId??T?.colorId??H.colorId,wt=r.get(At)?.hex??N,ht=q*xt,Zt=F*xt;return s.jsx("path",{d:et,transform:`scale(${ht} ${Zt})`,fill:wt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:H.locked?.55:.95,pointerEvents:"none"})})(),(fe||_||c.isFlowerSelected)&&s.jsx("path",{d:S,transform:`scale(${q} ${F})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${H.id}-${B}`)]},B)}),_&&!m&&s.jsx("circle",{r:Y,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},H.id)}),c.isFlowerSelected&&s.jsx("circle",{r:w,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const H=i.center,G=Rh(H.size),k=r.get(H.color)?.hex??"#D4A843",R=H.color2?r.get(H.color2)?.hex??"#C0C0C0":"#D4A843",U=Math.max(G,p);switch(H.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:G,fill:k,stroke:ci(k,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:U,fill:"transparent",style:{cursor:z},onPointerDown:E})]});case"":{const J=G*.42,F=G,P=G*.12,V=G*.13,O=G*.45,K=R,Y=k;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((_,m)=>{const D=m/10*360,B=la(D),T=Math.cos(B)*F,A=Math.sin(B)*F,S=-Math.sin(B)*P,N=Math.cos(B)*P,I=Math.cos(B)*J,Z=Math.sin(B)*J;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(I+S).toFixed(2)} ${(Z+N).toFixed(2)} L ${T.toFixed(2)} ${A.toFixed(2)} L ${(I-S).toFixed(2)} ${(Z-N).toFixed(2)} Z`,fill:K,stroke:ci(K,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:T,cy:A,r:V,fill:K,stroke:ci(K,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},m)}),s.jsx("circle",{r:J,fill:K,stroke:ci(K,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:O,fill:Y,stroke:ci(Y,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:U,fill:"transparent",style:{cursor:z},onPointerDown:E})]})}case"":{const q=H.pepCount??12,J=G*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:q}).map((F,P)=>{const V=P/q*360,O=la(V),K=Math.cos(O)*G,Y=Math.sin(O)*G;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:K,y2:Y,stroke:k,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:K,cy:Y,r:Math.max(J,1),fill:k,stroke:ci(k,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},P)})}),s.jsx("circle",{r:U,fill:"transparent",style:{cursor:z},onPointerDown:E})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:p,fill:"transparent",style:{cursor:z},onPointerDown:E})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:p,fill:"transparent",style:{cursor:z},onPointerDown:E})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const H=y.find(J=>J.id===c.selectedLayerId);if(!H||!H.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const k=H.scale??1,R=b*k,q=Math.max(0,H.radius-R*.28);return q<=0?null:s.jsx("circle",{r:q,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,w+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Im(c){const{leaf:i,project:a,paletteMap:r}=c,f=i.fabricSquareSize??a.fabricSquareSize,{length:o,width:v}=Bt(f),y=i.scale??1,d=o*y,b=v*(i.widthScale??1)*y,C=sr(i.petalType),w=r.get(i.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":c.cursor??xr("/tsumami/")},"data-testid":`leaf-${i.id}`,onPointerDown:p=>{if(p.stopPropagation(),p.button===0&&!i.locked){if(p.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(p)}},children:[s.jsx("path",{d:C,transform:`scale(${d} ${b})`,fill:w,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const p=i.doublePetal,M=p.innerSizeReduction??2,z=f*(y||1);if(z<=0)return null;const h=Math.max(z*.3,z-M)/z,E=p.innerColorId??i.colorId,H=r.get(E)?.hex??w,G=d*h,k=b*h;return s.jsx("path",{d:C,transform:`scale(${G} ${k})`,fill:H,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&(()=>{const M=-.04*d,z=-.5800000000000001*b,g=(1.02+.04*2)*d,h=(.54+.04)*2*b;return s.jsx("rect",{x:M,y:z,width:g,height:h,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,strokeDasharray:"4 2",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.55,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${i.id}`)})(),c.isSelected&&(()=>{const M=-.54*b,z=1.02*d,g=.54*2*b;return s.jsxs(s.Fragment,{children:[s.jsx("rect",{x:0,y:M,width:z,height:g,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`sel-rect-${c.dashSyncToken??0}-${i.id}`),s.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})})()]})}const el=1350;function Rm(c){const{stencils:i,selectedStencilId:a,selection:r,stageRef:f,applyUpdateRef:o,clientToSvgPointRef:v,stencilDraggingRef:y,onSelectStencil:d}=c,b=te.useRef(null);te.useEffect(()=>()=>{b.current?.()},[]);const C=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return s.jsx(s.Fragment,{children:i.map(w=>{const p=Em(w.variant,w.pose),M=a===w.id,z=nn,g=p.imageUrl?1:p.scaleX,h=C||!!w.locked;return s.jsx("g",{transform:`translate(${w.position.x} ${w.position.y}) scale(${z*g} ${z})`,style:{cursor:C?"default":w.locked?"pointer":sm("/tsumami/"),pointerEvents:C?"none":"auto"},"data-testid":`stencil-${w.id}`,onPointerDown:E=>{if(E.button!==0)return;if(h){d(w.id);return}if(E.stopPropagation(),d(w.id),!f.current)return;y.current=!0,f.current&&(f.current.style.cursor=xm("/tsumami/"));const G=v.current(E),k={...w.position},R=w.id;let U=k.x,q=k.y;const J=P=>{const V=v.current(P),O=V.x-G.x,K=V.y-G.y;U=ye(k.x+O,0,el),q=ye(k.y+K,0,el),o.current(Y=>{const _=(Y.stencils??[]).find(m=>m.id===R);_&&(_.position.x=U,_.position.y=q)},!1)},F=()=>{y.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",F),b.current=null,o.current(P=>{const V=(P.stencils??[]).find(O=>O.id===R);V&&(V.position.x=U,V.position.y=q)},!0)};document.addEventListener("pointermove",J),document.addEventListener("pointerup",F),b.current=()=>{y.current=!1,document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",F)}},children:p.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:p.imageUrl,x:-p.imageWidthMm/2,y:0,width:p.imageWidthMm,height:p.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-p.imageWidthMm/2,y:0,width:p.imageWidthMm,height:p.imageHeightMm,fill:"transparent",stroke:M?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:p.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:p.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),M&&s.jsx("path",{d:p.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},w.id)})})}function Gm(c){const{project:i,selection:a,setSelection:r,paletteMap:f,selectedFlowerId:o,zoneCursorValue:v,dashSyncToken:y,stageRef:d,multiTouchRef:b,clientToSvgPoint:C,togglePetalSelection:w,handleShiftFlowerSelect:p,groupHighlightedFlowerIds:M,beginFlowerDrag:z,beginScaleDrag:g,beginRotationDrag:h,beginWidthScaleDrag:E,beginRadiusDrag:H,clickOriginRef:G,zoneActivatedRef:k,setZoneCursorValue:R,setTouchZoneIndicator:U,hoverZoneRef:q,hoverHitLayerIdRef:J,hoverHitPetalIndexRef:F}=c;return s.jsx(s.Fragment,{children:i.flowers.map(P=>s.jsx(qm,{flower:P,project:i,paletteMap:f,isSelected:a.kind!=="project"&&o===P.id||a.kind==="flowers"&&a.flowerIds.includes(P.id)||a.kind==="mixed"&&a.flowerIds.includes(P.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===P.id||a.kind==="flowers"&&a.flowerIds.includes(P.id)||a.kind==="mixed"&&a.flowerIds.includes(P.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===P.id?a.petals:null,onSelect:()=>{const V=ll(i,P.id);if(V&&!(a.kind==="group"&&a.groupId===V.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&V.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:V.id});return}r({kind:"flower",flowerId:P.id})},onSelectLayer:V=>r({kind:"layer",flowerId:P.id,layerId:V}),onSelectPetal:(V,O)=>r({kind:"petal",flowerId:P.id,layerId:V,index:O}),onTogglePetalSelection:(V,O,K)=>w(P.id,V,O,K),onShiftSelect:()=>p(P.id),isGroupHighlighted:M.has(P.id),zoneCursorValue:v,onBeginDragFromLayerPetal:(V,O,K)=>{if(b.current)return;const Y=ll(i,P.id);if(Y&&!(a.kind==="group"&&a.groupId===Y.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&Y.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:Y.id}),z(P.id,K);return}const _=C(K),m=K.pointerType==="touch",D=a.kind==="flower"&&a.flowerId===P.id||a.kind==="layer"&&a.flowerId===P.id||a.kind==="petal"&&a.flowerId===P.id||a.kind==="petals"&&a.flowerId===P.id;if(m&&D){const{zone:A,layerId:S,petalIndex:N}=ui(_.x,_.y,P,i,a),{length:I}=Bt(P.fabricSquareSize??i.fabricSquareSize),Z=D0(A,a.kind,{hitLayerId:S,flower:P,length:I});if(Z!=="none"&&Z!=="center"&&Z!=="move"){U({x:_.x,y:_.y,zone:Z});const W=a.kind==="layer"?"layer":"flower",ee=a.kind==="layer"?a.layerId:V;switch(Z){case"rotate":h(W,P.id,K,{layerId:ee});return;case"scale":g(W,P.id,K,{layerId:ee});return;case"width":E(W,P.id,K,{layerId:ee,petalIndex:N});return;case"radius":H(W,P.id,K,{layerId:ee});return}}z(P.id,K,{layerId:V,index:O});return}const B=k.current;G.current={x:_.x,y:_.y},k.current=!1;const T=q.current;if(D&&(B||T!=="none"&&T!=="center")){const A=T,S=J.current,N=F.current,I=a.kind==="layer"?"layer":"flower",Z=a.kind==="layer"?a.layerId:S??V;switch(A){case"rotate":h(I,P.id,K,{layerId:Z});return;case"scale":g(I,P.id,K,{layerId:Z});return;case"width":E(I,P.id,K,{layerId:Z,petalIndex:N});return;case"radius":H(I,P.id,K,{layerId:Z});return;default:R(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/")),z(P.id,K,{layerId:V,index:O});return}}R(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/")),z(P.id,K,{layerId:V,index:O})},onDoubleClick:()=>r({kind:"flower",flowerId:P.id}),onPointerDown:V=>{if(b.current||V.button!==0)return;if(V.shiftKey){V.stopPropagation(),p(P.id);return}const O=ll(i,P.id);if(O&&!(a.kind==="group"&&a.groupId===O.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&O.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:O.id}),z(P.id,V);return}a.kind==="flower"&&a.flowerId===P.id||a.kind==="layer"&&a.flowerId===P.id||a.kind==="flowers"&&a.flowerIds.includes(P.id)||r({kind:"flower",flowerId:P.id});const Y=C(V);G.current={x:Y.x,y:Y.y},k.current=!1,R(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/")),z(P.id,V)},dashSyncToken:y},P.id))})}function Om(c){const{leaves:i,project:a,selection:r,paletteMap:f,dashSyncToken:o,groupHighlightedLeafIds:v,zoneCursorValue:y,stageRef:d,applyUpdateRef:b,clientToSvgPointRef:C,leafDraggingRef:w,clickOriginRef:p,zoneActivatedRef:M,setZoneCursorValue:z,onSelectLeaf:g,onSelectGroup:h,onShiftSelectLeaf:E,hoverLeafZoneRef:H}=c,G=te.useRef(null);return te.useEffect(()=>()=>{G.current?.()},[]),s.jsx(s.Fragment,{children:i.map(k=>{if(!k.visible)return null;const R=r.kind==="leaf"&&r.leafId===k.id,U=(r.kind==="leaves"||r.kind==="mixed")&&r.leafIds?.includes(k.id),q=v.has(k.id),J=zl(a,k.id),F=J?.rotation??0;let P=k;if(J&&F!==0){const V=Ah(a,J.id),O=F*Math.PI/180,K=k.position.x-V.x,Y=k.position.y-V.y;P={...k,position:{x:V.x+K*Math.cos(O)-Y*Math.sin(O),y:V.y+K*Math.sin(O)+Y*Math.cos(O)},rotation:k.rotation+F}}return s.jsx(Im,{leaf:P,project:a,paletteMap:f,isSelected:R||U,isLeafGroupHighlighted:q,dashSyncToken:o,cursor:R?y:void 0,onPointerDown:V=>{if(k.locked)return;V.stopPropagation();const O=C.current(V);if(J&&!(r.kind==="group"&&r.groupId===J.id||r.kind==="leaf"&&J.leafIds.includes(r.leafId))){h(J.id),w.current=!0,p.current={x:O.x,y:O.y},M.current=!1,z(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/"));const D=O,B=Hd(a,k.id),T=new Map;for(const Z of B){const W=i.find(ee=>ee.id===Z);W&&T.set(Z,{...W.position})}const A=new Map;if(J)for(const Z of J.flowerIds){const W=a.flowers.find(ee=>ee.id===Z);W&&A.set(Z,{...W.position})}let S=!1;const N=Z=>{const W=C.current(Z),ee=W.x-D.x,ie=W.y-D.y;Math.abs(ee)+Math.abs(ie)>1&&(S=!0),b.current(oe=>{for(const[fe,me]of T){const he=(oe.leaves??[]).find(Te=>Te.id===fe);he&&(he.position.x=ye(me.x+ee,0,el),he.position.y=ye(me.y+ie,0,el))}for(const[fe,me]of A){const he=oe.flowers.find(Te=>Te.id===fe);he&&(he.position.x=ye(me.x+ee,0,el),he.position.y=ye(me.y+ie,0,el))}},!1)},I=()=>{G.current=null,w.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",I),S&&b.current(()=>{},!0)};document.addEventListener("pointermove",N),document.addEventListener("pointerup",I),G.current=()=>{w.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",I)};return}const K=R&&M.current;g(k.id),p.current={x:O.x,y:O.y},M.current=!1,z(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/"));const Y=H.current,_=R&&(K||Y!=="none")?Y:"move";if(_!=="move"){const m=ar(_,"/tsumami/");z(m),d.current&&(d.current.style.cursor=m)}if(w.current=!0,_==="rotate"){const m=P.position,D=k.rotation,B=Math.atan2(O.y-m.y,O.x-m.x)*180/Math.PI;let T=!1;const A=N=>{const I=C.current(N),W=Math.atan2(I.y-m.y,I.x-m.x)*180/Math.PI-B;Math.abs(W)>.5&&(T=!0),b.current(ee=>{const ie=(ee.leaves??[]).find(oe=>oe.id===k.id);ie&&(ie.rotation=((D+W)%360+360)%360)},!1)},S=()=>{G.current=null,w.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",S),T&&b.current(()=>{},!0)};document.addEventListener("pointermove",A),document.addEventListener("pointerup",S),G.current=()=>{w.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",S)}}else if(_==="scale"){const m=P.position,D=k.scale??1,B=Math.max(1,Math.hypot(O.x-m.x,O.y-m.y));let T=!1;const A=N=>{const I=C.current(N),W=Math.hypot(I.x-m.x,I.y-m.y)/B;Math.abs(W-1)>.01&&(T=!0),b.current(ee=>{const ie=(ee.leaves??[]).find(oe=>oe.id===k.id);ie&&(ie.scale=ye(D*W,.3,3))},!1)},S=()=>{G.current=null,w.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",S),T&&b.current(()=>{},!0)};document.addEventListener("pointermove",A),document.addEventListener("pointerup",S),G.current=()=>{w.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",S)}}else if(_==="width"){const m=P.position,D=k.rotation*Math.PI/180,B=-Math.sin(D),T=Math.cos(D),A=k.widthScale??1,S=Math.abs((O.x-m.x)*B+(O.y-m.y)*T),N=Math.max(1,S);let I=!1;const Z=ee=>{const ie=C.current(ee),fe=Math.abs((ie.x-m.x)*B+(ie.y-m.y)*T)/N;Math.abs(fe-1)>.01&&(I=!0),b.current(me=>{const he=(me.leaves??[]).find(Te=>Te.id===k.id);he&&(he.widthScale=ye(A*fe,.3,3))},!1)},W=()=>{G.current=null,w.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",W),I&&b.current(()=>{},!0)};document.addEventListener("pointermove",Z),document.addEventListener("pointerup",W),G.current=()=>{w.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",W)}}else{const m=O,D=(r.kind==="leaves"||r.kind==="mixed")&&r.leafIds?.includes(k.id)?r.leafIds:Hd(a,k.id),B=new Map;for(const Z of D){const W=i.find(ee=>ee.id===Z);W&&B.set(Z,{...W.position})}const T=new Map,A=zl(a,k.id);if(A)for(const Z of A.flowerIds){const W=a.flowers.find(ee=>ee.id===Z);W&&T.set(Z,{...W.position})}let S=!1;const N=Z=>{const W=C.current(Z),ee=W.x-m.x,ie=W.y-m.y;Math.abs(ee)+Math.abs(ie)>1&&(S=!0),b.current(oe=>{for(const[fe,me]of B){const he=(oe.leaves??[]).find(Te=>Te.id===fe);he&&(he.position.x=ye(me.x+ee,0,el),he.position.y=ye(me.y+ie,0,el))}for(const[fe,me]of T){const he=oe.flowers.find(Te=>Te.id===fe);he&&(he.position.x=ye(me.x+ee,0,el),he.position.y=ye(me.y+ie,0,el))}},!1)},I=()=>{G.current=null,w.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",I),S&&b.current(()=>{},!0)};document.addEventListener("pointermove",N),document.addEventListener("pointerup",I),G.current=()=>{w.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",I)}}},onShiftSelect:()=>E(k.id)},k.id)})})}function Hm({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Ym({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}function Um(c){const{project:i,selection:a,selectedFlowerId:r,dashSyncToken:f}=c,o=te.useMemo(()=>r?i.flowers.find(p=>p.id===r)??null:null,[i.flowers,r]),v=te.useMemo(()=>{if(a.kind==="flowers")return i.flowers.filter(p=>a.flowerIds.includes(p.id));if(a.kind==="mixed")return i.flowers.filter(p=>a.flowerIds.includes(p.id));if(a.kind==="group"){const p=(i.groups??[]).find(M=>M.id===a.groupId);if(p)return i.flowers.filter(M=>p.flowerIds.includes(M.id))}return[]},[i.flowers,i.groups,a]);if(!o&&v.length===0)return null;const y=a.kind==="flower"&&o?.id===r,d=a.kind==="layer"?a.layerId:null,b=a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,C=a.kind==="petals"&&o?a.petals:null,w=o&&(y||d!=null||b!=null||C&&C.length>0);return s.jsxs("g",{pointerEvents:"none",children:[v.map(p=>s.jsx(Jd,{flower:p,project:i,isFlowerSelected:!0,selectedLayerId:null,selectedPetal:null,selectedPetals:null,dashSyncToken:f},`overlay-multi-${p.id}`)),w&&o&&s.jsx(Jd,{flower:o,project:i,isFlowerSelected:y,selectedLayerId:d,selectedPetal:b,selectedPetals:C,dashSyncToken:f},`overlay-single-${o.id}`)]})}function Jd(c){const{flower:i,project:a,isFlowerSelected:r,selectedLayerId:f,selectedPetal:o,selectedPetals:v,dashSyncToken:y}=c,d=te.useMemo(()=>[...i.layers||[]].sort((E,H)=>E.order-H.order),[i.layers]),b=i.fabricSquareSize??a.fabricSquareSize,{length:C,width:w}=Bt(b),p=te.useMemo(()=>{let E=12;for(const H of d){if(!H.visible)continue;const G=H.scale??1,k=C*G,q=Math.max(0,H.radius-k*.28)+k;E=Math.max(E,q)}return E},[d,C]),M=r||f!=null||o!=null||v&&v.length>0,z=sr(""),g=sr(""),h=(E,H)=>E?.petalOverrides?.find(G=>G.index===H)??null;return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,children:[M&&o==null&&!v?.length&&s.jsx("circle",{r:Math.max(12,p),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke"}),d.map(E=>{if(!E.visible)return null;const H=360/Math.max(1,E.petalCount),G=E.scale??1,k=C*G,U=w*(E.widthScale??1)*G,J=Math.max(0,E.radius-k*.28),F=J+k,P=f===E.id,V=o?.layerId===E.id||(v?.some(O=>O.layerId===E.id)??!1);return s.jsxs("g",{children:[Array.from({length:E.petalCount}).map((O,K)=>{const m=(h(E,K)?.petalType??E.petalType)===""?z:g,D=E.offsetAngle+K*H,B=la(D),T=Math.cos(B)*J,A=Math.sin(B)*J,S=o?.layerId===E.id&&o?.index===K,N=v?.some(Z=>Z.layerId===E.id&&Z.index===K)??!1;return S||N||P||r?s.jsx("g",{transform:`translate(${T} ${A}) rotate(${D})`,children:s.jsx("path",{d:m,transform:`scale(${k} ${U})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95},`dash-overlay-${y}-${E.id}-${K}`)},K):null}),P&&!V&&s.jsx("circle",{r:F,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})]},E.id)}),r&&s.jsx("circle",{r:p,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke"}),(()=>{if(!f)return null;const E=d.find(q=>q.id===f);if(!E||!E.visible||o!=null||(v?.length??0)>0)return null;const G=E.scale??1,k=C*G,U=Math.max(0,E.radius-k*.28);return U<=0?null:s.jsx("circle",{r:U,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})})()]})}const Ca=1350;function Zm(c){const{project:i,selection:a,setSelection:r,paletteMap:f,selectedFlowerId:o,setZoom:v,zoomLevel:y,setZoomLevel:d,ZOOM_LEVELS:b,setPan:C,showGrid:w,setShowGrid:p,setShowHelp:M,stageRef:z,viewBox:g,dashDelay:h,dashSyncToken:E,beginPan:H,updatePan:G,endPan:k,beginMarquee:R,updateMarquee:U,endMarquee:q,marqueeRef:J,marqueeRect:F,beginFlowerDrag:P,updateFlowerDrag:V,endFlowerDrag:O,scaleDragRef:K,updateScaleDrag:Y,endScaleDrag:_,rotationDragRef:m,updateRotationDrag:D,endRotationDrag:B,widthScaleDragRef:T,updateWidthScaleDrag:A,endWidthScaleDrag:S,radiusDragRef:N,updateRadiusDrag:I,endRadiusDrag:Z,beginScaleDrag:W,beginRotationDrag:ee,beginWidthScaleDrag:ie,beginRadiusDrag:oe,togglePetalSelection:fe,clientToSvgPoint:me}=c,he=te.useRef(!1),Te=te.useRef(!1),st=te.useRef(c.applyUpdate),Ie=te.useRef(me);te.useEffect(()=>{st.current=c.applyUpdate},[c.applyUpdate]),te.useEffect(()=>{Ie.current=me},[me]);const[xt,et]=te.useState(!1),At=te.useRef(null);te.useEffect(()=>{if(!xt)return;const de=Be=>{At.current&&!At.current.contains(Be.target)&&et(!1)};return document.addEventListener("mousedown",de),()=>document.removeEventListener("mousedown",de)},[xt]);const[wt,ht]=te.useState("grab"),Zt=te.useRef("none"),Rn=te.useRef("none"),Xn=te.useRef(void 0),Jn=te.useRef(void 0),Qe=te.useRef(null),vn=te.useRef(!0),Dl=5,rl=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,cl=te.useRef(rl);te.useEffect(()=>{rl!==cl.current&&(cl.current=rl,vn.current=!1,Qe.current=null,Zt.current="none",Rn.current="none",Xn.current=void 0,Jn.current=void 0)},[rl]);const[Nl,ia]=te.useState(!1),Vn=te.useRef(!1),[fi,Gn]=te.useState(null),qt=5,yn=10,Oe=Bm({zoom:c.zoom,pan:c.pan,setZoom:v,setPan:C,zoomLevel:y,setZoomLevel:d,ZOOM_LEVELS:b,stageRef:z,endPan:k,endFlowerDrag:O,endMarquee:q,endRotationDrag:B,endScaleDrag:_,endWidthScaleDrag:S,endRadiusDrag:Z});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0 md:flex md:flex-col md:flex-1 md:min-h-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y>=b.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Oe.zoomAtCenter(1),disabled:y>=b.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Oe.zoomAtCenter(-1),disabled:y<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${w?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>p(de=>!de),title:"","aria-label":"","aria-pressed":w,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Oe.resetView(5,b[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:At,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${xt?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>et(de=>!de),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),xt&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(de=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:a1[de]}),["right","left","back"].map(Be=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(de,Be),et(!1)},"data-testid":`stencil-add-${de}-${Be}`,children:i1[Be]},`${de}-${Be}`))]},de)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),et(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>M(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border md:flex-1 md:min-h-0",style:{display:"grid",gridTemplateColumns:w?"24px 1fr":"1fr",gridTemplateRows:w?"20px 1fr":"1fr"},children:[w&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),w&&(()=>{const[de,,Be,qe]=g.split(/\s+/).map(Number),Se=nn,_e=Math.max(Be,qe)/Se,ze=[10,20,50,100,200,500,1e3].find(Ae=>_e/Ae<=15)??1e3,we=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,We=ze<=10?5:ze/2,Pe=Math.floor(de/Se/we)*we-we,Ke=Math.ceil((de+Be)/Se/we)*we+we,Xe=[];for(let Ae=Pe;Ae<=Ke;Ae+=we){const Fe=(Ae*Se-de)/Be*100;if(Fe<-2||Fe>102)continue;const Tt=Math.abs(Ae),at=Tt%ze===0,tt=Tt%We===0,mt=at?10:tt?6:3;Xe.push(s.jsx("line",{x1:`${Fe}%`,y1:20-mt,x2:`${Fe}%`,y2:20,stroke:"#999",strokeWidth:at?.8:.4},Ae)),at&&Xe.push(s.jsx("text",{x:`${Fe}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Xe})})(),w&&(()=>{const[,de,Be,qe]=g.split(/\s+/).map(Number),Se=nn,_e=Math.max(Be,qe)/Se,ze=[10,20,50,100,200,500,1e3].find(Ae=>_e/Ae<=15)??1e3,we=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,We=ze<=10?5:ze/2,Pe=Math.floor(de/Se/we)*we-we,Ke=Math.ceil((de+qe)/Se/we)*we+we,Xe=[];for(let Ae=Pe;Ae<=Ke;Ae+=we){const Fe=(Ae*Se-de)/qe*100;if(Fe<-2||Fe>102)continue;const Tt=Math.abs(Ae),at=Tt%ze===0,tt=Tt%We===0,mt=at?10:tt?6:3;Xe.push(s.jsx("line",{x1:24-mt,y1:`${Fe}%`,x2:24,y2:`${Fe}%`,stroke:"#999",strokeWidth:at?.8:.4},Ae)),at&&Xe.push(s.jsx("text",{x:12,y:`${Fe}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Xe})})(),s.jsxs("svg",{ref:z,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-full",viewBox:g,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":h,cursor:Nl?"crosshair":"grab"},onDoubleClick:de=>{de.target===de.currentTarget&&(ia(Be=>!Be),r({kind:"project"}))},onPointerDown:de=>{if(Oe.multiTouchRef.current)return;if(de.button===1){Vn.current=!0,z.current&&(z.current.style.cursor="grabbing"),H(de);return}if(de.button!==0)return;const Be=de.pointerType==="touch";if(Be&&de.target===de.currentTarget&&o){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=i.flowers.find(_e=>_e.id===o);if(Se){const _e=me(de),{zone:Ne,layerId:ze,petalIndex:we}=ui(_e.x,_e.y,Se,i,a),{length:We}=Bt(Se.fabricSquareSize??i.fabricSquareSize),Pe=D0(Ne,a.kind,{hitLayerId:ze,flower:Se,length:We});if(Pe!=="none"&&Pe!=="center"){Gn({x:_e.x,y:_e.y,zone:Pe});const Ke=a.kind==="layer"?"layer":"flower",Xe=a.kind==="layer"?a.layerId:ze;switch(Pe){case"rotate":ee(Ke,o,de,{layerId:Xe});return;case"scale":W(Ke,o,de,{layerId:Xe});return;case"width":ie(Ke,o,de,{layerId:Xe,petalIndex:we});return;case"radius":oe(Ke,o,de,{layerId:Xe});return;case"move":P(o,de);return}}}}Oe.setTouchBgStart({x:de.clientX,y:de.clientY}),H(de);return}if(de.target===de.currentTarget&&o&&wt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Zt.current;if(Se!=="none"&&Se!=="center"){const _e=a.kind==="layer"?"layer":"flower",Ne=a.kind==="layer"?a.layerId:Xn.current;switch(Se){case"rotate":ee(_e,o,de,{layerId:Ne});return;case"scale":W(_e,o,de,{layerId:Ne});return;case"width":ie(_e,o,de,{layerId:Ne,petalIndex:Jn.current});return;case"radius":oe(_e,o,de,{layerId:Ne});return;case"move":P(o,de);return}}}if(de.target===de.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&wt!=="grab"){const qe=Rn.current;if(qe!=="none"){const Se=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(Se){de.preventDefault();const _e=me(de);if(Te.current=!0,qe==="rotate"){const Ne=Se.position,ze=Se.rotation,we=Math.atan2(_e.y-Ne.y,_e.x-Ne.x)*180/Math.PI,We=Se.id,Pe=ar(qe,"/tsumami/");ht(Pe),z.current&&(z.current.style.cursor=Pe);let Ke=!1;const Xe=It=>{const Fe=me(It),at=Math.atan2(Fe.y-Ne.y,Fe.x-Ne.x)*180/Math.PI-we;Math.abs(at)>.5&&(Ke=!0),c.applyUpdate(tt=>{const mt=(tt.leaves??[]).find(On=>On.id===We);mt&&(mt.rotation=((ze+at)%360+360)%360)},!1)},Ae=()=>{Te.current=!1,document.removeEventListener("pointermove",Xe),document.removeEventListener("pointerup",Ae),Ke&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Xe),document.addEventListener("pointerup",Ae);return}else if(qe==="scale"){const Ne=Se.position,ze=Se.scale??1,we=Math.max(1,Math.hypot(_e.x-Ne.x,_e.y-Ne.y)),We=Se.id,Pe=ar(qe,"/tsumami/");ht(Pe),z.current&&(z.current.style.cursor=Pe);let Ke=!1;const Xe=It=>{const Fe=me(It),at=Math.hypot(Fe.x-Ne.x,Fe.y-Ne.y)/we;Math.abs(at-1)>.01&&(Ke=!0),c.applyUpdate(tt=>{const mt=(tt.leaves??[]).find(On=>On.id===We);mt&&(mt.scale=Math.max(.3,Math.min(3,ze*at)))},!1)},Ae=()=>{Te.current=!1,document.removeEventListener("pointermove",Xe),document.removeEventListener("pointerup",Ae),Ke&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Xe),document.addEventListener("pointerup",Ae);return}else if(qe==="width"){const Ne=Se.position,ze=Se.rotation*Math.PI/180,we=-Math.sin(ze),We=Math.cos(ze),Pe=Se.widthScale??1,Ke=Math.max(1,Math.abs((_e.x-Ne.x)*we+(_e.y-Ne.y)*We)),Xe=Se.id,Ae=ar(qe,"/tsumami/");ht(Ae),z.current&&(z.current.style.cursor=Ae);let It=!1;const Fe=at=>{const tt=me(at),On=Math.abs((tt.x-Ne.x)*we+(tt.y-Ne.y)*We)/Ke;Math.abs(On-1)>.01&&(It=!0),c.applyUpdate(ra=>{const ln=(ra.leaves??[]).find(bt=>bt.id===Xe);ln&&(ln.widthScale=Math.max(.3,Math.min(3,Pe*On)))},!1)},Tt=()=>{Te.current=!1,document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Tt),It&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Tt);return}else{const Ne=_e,ze={...Se.position},we=Se.id;ht(In("/tsumami/")),z.current&&(z.current.style.cursor=In("/tsumami/"));let We=!1;const Pe=Xe=>{const Ae=me(Xe),It=Ae.x-Ne.x,Fe=Ae.y-Ne.y;Math.abs(It)+Math.abs(Fe)>1&&(We=!0),c.applyUpdate(Tt=>{const at=(Tt.leaves??[]).find(tt=>tt.id===we);at&&(at.position.x=Math.max(0,Math.min(Ca,ze.x+It)),at.position.y=Math.max(0,Math.min(Ca,ze.y+Fe)))},!1)},Ke=()=>{Te.current=!1,document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Ke),We&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Ke);return}}}}if(de.target===de.currentTarget){Be?(Oe.setTouchBgStart({x:de.clientX,y:de.clientY}),H(de)):Nl?R(de):(Oe.setMouseBgStart({x:de.clientX,y:de.clientY}),Vn.current=!0,z.current&&(z.current.style.cursor="grabbing"),H(de));return}},onPointerMove:de=>{if(he.current||Te.current)return;if(J.current){U(de);return}if(m.current){D(de);return}if(K.current){Y(de);return}if(T.current){A(de);return}if(N.current){I(de);return}V(de),G(de);const Be=!!c.dragRef?.current||!!J.current||!!m.current||!!K.current||!!T.current||!!N.current||Vn.current,qe=o&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Be&&qe){const Se=i.flowers.find(_e=>_e.id===o);if(Se){const _e=me(de);if(Qe.current&&!vn.current){if(Math.hypot(_e.x-Qe.current.x,_e.y-Qe.current.y)<Dl){const{zone:Ae}=ui(_e.x,_e.y,Se,i,a);Ae==="center"&&(ht("pointer"),z.current&&(z.current.style.cursor="pointer"));return}vn.current=!0,Qe.current=null}const{zone:Ne,layerId:ze,petalIndex:we}=ui(_e.x,_e.y,Se,i,a),{length:We}=Bt(Se.fabricSquareSize??i.fabricSquareSize),Pe=D0(Ne,a.kind,{hitLayerId:ze,flower:Se,length:We});Pe!=="none"&&(Zt.current=Pe,Xn.current=ze,Jn.current=we);const Ke=Zd(Pe,"/tsumami/");ht(Ke),z.current&&(z.current.style.cursor=Ke)}}if(!Be&&a.kind==="leaf"&&c.selectedLeafId){const Se=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(Se){const _e=me(de);if(Qe.current&&!vn.current){if(Math.hypot(_e.x-Qe.current.x,_e.y-Qe.current.y)<Dl)return;vn.current=!0,Qe.current=null}const Ne=um(_e.x,_e.y,Se,i);Ne!=="none"&&(Rn.current=Ne);const ze=ar(Ne,"/tsumami/");ht(ze),z.current&&(z.current.style.cursor=ze)}}},onPointerUp:de=>{if(!he.current&&!Te.current){if(Gn(null),J.current&&Nl&&ia(!1),q(),B(),_(),S(),Z(),O(),k(),Vn.current&&(Vn.current=!1,z.current&&(z.current.style.cursor=Nl?"crosshair":"grab")),Oe.touchBgStartRef.current&&de.pointerType==="touch"){const Be=de.clientX-Oe.touchBgStartRef.current.x,qe=de.clientY-Oe.touchBgStartRef.current.y;Math.hypot(Be,qe)<yn&&r({kind:"project"}),Oe.setTouchBgStart(null);return}if(Oe.setTouchBgStart(null),Oe.mouseBgStartRef.current&&de.pointerType==="mouse"){const Be=de.clientX-Oe.mouseBgStartRef.current.x,qe=de.clientY-Oe.mouseBgStartRef.current.y;if(Oe.setMouseBgStart(null),Math.hypot(Be,qe)<qt){r({kind:"project"});return}}if(Oe.setMouseBgStart(null),o){const Be=i.flowers.find(qe=>qe.id===o);if(Be){const qe=me(de);if(Qe.current&&Math.hypot(qe.x-Qe.current.x,qe.y-Qe.current.y)<Dl){const{zone:Ke}=ui(qe.x,qe.y,Be,i,a);Ke==="center"&&(ht("pointer"),z.current&&(z.current.style.cursor="pointer"));return}const{zone:Se,layerId:_e,petalIndex:Ne}=ui(qe.x,qe.y,Be,i,a),{length:ze}=Bt(Be.fabricSquareSize??i.fabricSquareSize),we=D0(Se,a.kind,{hitLayerId:_e,flower:Be,length:ze});we!=="none"&&(Zt.current=we,Xn.current=_e,Jn.current=Ne);const We=Zd(we,"/tsumami/");ht(We),z.current&&(z.current.style.cursor=We)}}}},onPointerLeave:()=>{q(),B(),_(),S(),Z(),O(),k(),Vn.current=!1,Oe.setTouchBgStart(null),Oe.setMouseBgStart(null),ht("grab"),Qe.current=null,vn.current=!0,Zt.current="none",Rn.current="none",Xn.current=void 0,Jn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[de,Be,qe,Se]=g.split(/\s+/).map(Number),_e=Ca;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:de,y:Be,width:qe,height:Se,fill:"white"}),s.jsx("rect",{x:0,y:0,width:_e,height:_e,fill:"black"})]})}),s.jsx("rect",{x:de,y:Be,width:qe,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:Ca,height:Ca,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:Ca,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:Ca,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),w&&(()=>{const de=nn,[Be,qe,Se,_e]=g.split(/\s+/).map(Number),Ne=Math.max(Se,_e)/de,we=[10,20,50,100,200,500,1e3].find(tt=>Ne/tt<=15)??1e3,We=Math.floor(Be/de/we)*we-we,Pe=Math.ceil((Be+Se)/de/we)*we+we,Ke=Math.floor(qe/de/we)*we-we,Xe=Math.ceil((qe+_e)/de/we)*we+we,Ae=Ke*de,It=Xe*de,Fe=We*de,Tt=Pe*de,at=[];for(let tt=We;tt<=Pe;tt+=we){const mt=tt*de;at.push(s.jsx("line",{x1:mt,y1:Ae,x2:mt,y2:It,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${tt}`))}for(let tt=Ke;tt<=Xe;tt+=we){const mt=tt*de;at.push(s.jsx("line",{x1:Fe,y1:mt,x2:Tt,y2:mt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${tt}`))}return s.jsx("g",{children:at})})(),s.jsx(Rm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:z,applyUpdateRef:st,clientToSvgPointRef:Ie,stencilDraggingRef:he,onSelectStencil:c.onSelectStencil}),s.jsx(Gm,{project:i,selection:a,setSelection:r,paletteMap:f,selectedFlowerId:o,zoneCursorValue:wt,dashSyncToken:E,stageRef:z,multiTouchRef:Oe.multiTouchRef,clientToSvgPoint:me,togglePetalSelection:fe,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:P,beginScaleDrag:W,beginRotationDrag:ee,beginWidthScaleDrag:ie,beginRadiusDrag:oe,clickOriginRef:Qe,zoneActivatedRef:vn,setZoneCursorValue:ht,setTouchZoneIndicator:Gn,hoverZoneRef:Zt,hoverHitLayerIdRef:Xn,hoverHitPetalIndexRef:Jn}),s.jsx(Om,{leaves:c.leaves,project:i,selection:a,paletteMap:f,dashSyncToken:E,selectedLeafId:c.selectedLeafId,groupHighlightedLeafIds:c.groupHighlightedLeafIds,zoneCursorValue:wt,stageRef:z,applyUpdateRef:st,clientToSvgPointRef:Ie,leafDraggingRef:Te,clickOriginRef:Qe,zoneActivatedRef:vn,setZoneCursorValue:ht,onSelectLeaf:c.onSelectLeaf,onSelectGroup:c.onSelectGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:Rn}),s.jsx(Um,{project:i,selection:a,selectedFlowerId:o,dashSyncToken:E}),s.jsx(Hm,{rect:F}),s.jsx(Ym,{indicator:fi})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Vd(c,i,a){return Math.min(a,Math.max(i,c))}function Ze({value:c,onChange:i,min:a=-1/0,max:r=1/0,step:f,className:o,...v}){const[y,d]=te.useState(null),b=te.useRef(null),C=te.useCallback(M=>{const z=Number(M);isNaN(z)||i(Vd(z,a,r)),d(null)},[i,a,r]),w=te.useCallback(()=>{d(null)},[]),p=te.useCallback(M=>{const z=f??1,h=(Number(y??c)||0)+z*M,E=Vd(h,a,r),H=String(z).includes(".")?String(z).split(".")[1].length:0,G=Number(E.toFixed(H));d(String(G)),i(G)},[y,c,f,a,r,i]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:b,type:"text",inputMode:"decimal",className:o??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:y??String(c),onChange:M=>d(M.target.value),onFocus:M=>{d(String(c)),requestAnimationFrame(()=>M.target.select())},onBlur:()=>{y!==null&&C(y)},onKeyDown:M=>{M.key==="Enter"?(M.preventDefault(),y!==null&&C(y),b.current?.blur()):M.key==="Escape"?(M.preventDefault(),w(),b.current?.blur()):(M.key==="ArrowUp"||M.key==="ArrowDown")&&(M.preventDefault(),p(M.key==="ArrowUp"?1:-1))},...v}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:M=>{M.preventDefault(),p(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:M=>{M.preventDefault(),p(-1)},children:""})]})]})}function dr({title:c,compact:i,children:a}){return s.jsxs("div",{className:i?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Km({flower:c,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const o=te.useMemo(()=>{const h=[...c.layers||[]].sort((F,P)=>F.order-P.order);if(h.length<2)return{mode:"uniform",step:2};const E=h.map(F=>F.scale??1);if(E.every(F=>Math.abs(F-E[0])<.001))return{mode:"uniform",step:2};const G=h[0],k=h[h.length-1],R=(k.order??1)-(G.order??1);if(R<=0)return{mode:"gradual",step:2};const q=((G.scale??1)-(k.scale??1))/R,J=Math.round(q*i*2)/2;return{mode:"gradual",step:ye(J,0,10)}},[c.id]),[v,y]=te.useState(o.mode),[d,b]=te.useState(o.step),[C,w]=te.useState(0);te.useEffect(()=>{y(o.mode),b(o.step),w(0)},[o]);const p=te.useMemo(()=>[...c.layers||[]].sort((h,E)=>h.order-E.order),[c.layers]),M=p[0],z=M?M.order:0,g=te.useMemo(()=>{if(!M)return[];const h=M.scale??1,E=M.radius,H=new Map;for(const F of p){const P=F.order-z;if(P===0)H.set(F.id,h);else if(v==="uniform")H.set(F.id,h);else{const V=d/i;H.set(F.id,ye(h-P*V,.3,3))}}const{length:G}=Bt(i),k=p.length,R=70*Math.PI/180,U=new Map;let q=E;U.set(M.id,E);for(let F=1;F<k;F++){const P=p[F-1],V=H.get(P.id)??1,O=G*V;let K;if(a===""){const Y=k-1-F,_=k>1?Y/(k-1)*R:0;K=O*(30/100)*Math.cos(_)}else K=O/3;q=q-K,U.set(p[F].id,Math.max(2,q))}const J=p.map(F=>{const P=H.get(F.id)??1,V=Math.round((U.get(F.id)??E)*10)/10,O=Math.round(i*P*10)/10;return{id:F.id,name:F.name,order:F.order,effScale:P,effFabricSize:O,effRadius:V}});if(J.length>0){const F=J[J.length-1],P=G*F.effScale,V=Math.floor(P*.28*10)/10;F.effRadius>V&&(F.effRadius=V)}return J},[p,M,z,v,d,30,i,a]);return te.useEffect(()=>{C!==0&&(!M||g.length===0||r(h=>{const E=h.flowers.find(G=>G.id===c.id);if(!E)return;for(const G of g){const k=E.layers.find(R=>R.id===G.id);k&&(k.scale=ye(G.effScale,.3,3),k.radius=ye(G.effRadius,2,120))}const H=[...E.layers].sort((G,k)=>k.order-G.order);for(let G=1;G<H.length;G++){const k=H[G-1],R=H[G];R.offsetAngle=tl(k.petalCount,k.offsetAngle,R.petalCount)}}))},[C]),p.length<2?null:s.jsxs(dr,{title:"",children:[s.jsxs(js,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:v,onChange:h=>{y(h.target.value),w(E=>E+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),v==="gradual"&&s.jsxs(js,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,min:0,max:10,step:.5,onChange:h=>{b(h),w(E=>E+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),g.map(h=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:h.name}),s.jsxs("span",{children:[" ",h.effFabricSize,"mm /  ",Math.round(rr(h.effRadius,h.effScale,i)),"mm"]})]},h.id))]})]})}const r1="tsumami_recent_colors_v1",Hs=10;function Xm(c){const i=new Set;for(const a of c.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const f of r.petalOverrides)f.colorId&&i.add(f.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function Ts(){try{const c=localStorage.getItem(r1);if(c){const i=JSON.parse(c);if(Array.isArray(i))return i.slice(0,Hs)}}catch{}return[]}function Jm(c){try{localStorage.setItem(r1,JSON.stringify(c.slice(0,Hs)))}catch{}}function Vm(c){const i=Ts(),a=[c,...i.filter(r=>r!==c)].slice(0,Hs);Jm(a)}function Kn({palette:c,project:i,selectedColorId:a,onChange:r,size:f="md"}){const[o,v]=te.useState(!1),y=te.useRef(null),[d,b]=te.useState(Ts);te.useEffect(()=>{if(!o)return;const g=h=>{y.current&&!y.current.contains(h.target)&&v(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[o]);const C=te.useMemo(()=>Xm(i),[i]),w=te.useMemo(()=>{const g=new Set;g.add(a);for(const h of C)g.add(h);for(const h of d)g.add(h);return c.filter(h=>g.has(h.id))},[c,a,C,d]),p=te.useCallback(g=>{Vm(g),b(Ts()),r(g)},[r]),M=f==="sm"?"h-4 w-4":"h-5 w-5",z=o?c:w;return s.jsx("div",{ref:y,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[z.map(g=>s.jsx("button",{className:`${M} rounded border-2 ${a===g.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:g.hex},title:g.name,"aria-label":`: ${g.name}`,onClick:()=>p(g.id)},g.id)),c.length>w.length&&s.jsx("button",{className:`${M} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>v(g=>!g),title:o?"":"","aria-label":o?"":"",children:s.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:o?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Qm({project:c,applyUpdate:i,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(r=>{const f=a.layers.every(o=>o.petalType===r);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const v=o.flowers.find(y=>y.id===a.id);if(v)for(const y of v.layers)y.petalType=r}),children:r},r)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:e1.map(r=>{const f=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==r&&i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;v.placementMode=r;const y=v.fabricSquareSize??o.fabricSquareSize;r===""?v.baseDiameter=ir(v.flowerDiameter):v.baseDiameter||(v.baseDiameter=o.baseDiameter),Oh(v.layers,y,r,v.flowerDiameter)},!0)},children:r},r)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ze,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.baseDiameter=r)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[ir(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(f=>{const o=f.flowers.find(d=>d.id===a.id);if(!o)return;const v=oi(r);for(const d of o.layers)d.petalCount=r,d.widthScale=v;const y=[...o.layers].sort((d,b)=>b.order-d.order);for(let d=1;d<y.length;d++)y[d].offsetAngle=tl(y[d-1].petalCount,y[d-1].offsetAngle,y[d].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(f=>{const o=f.flowers.find(y=>y.id===a.id);if(!o)return;o.flowerDiameter=r,o.placementMode===""&&(o.baseDiameter=ir(r));const v=[...o.layers].sort((y,d)=>y.order-d.order);P0(v,o.fabricSquareSize??f.fabricSquareSize,r);for(const y of v){const d=o.layers.find(b=>b.id===y.id);d&&(d.radius=y.radius,d.scale=y.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.widthScale=r})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.rotation=r)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.colorId=r})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)if(r.target.checked){if(!v.doublePetal){const y=v._doublePetalCache;v.doublePetal=y??{innerSizeReduction:2},delete v._doublePetalCache}}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(y=>y.doublePetal.innerSizeReduction))],f=r.length===1?r[0]:null,o=[...new Set(a.layers.map(y=>y.doublePetal.innerColorId??y.colorId))],v=o.length===1?o[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:y=>i(d=>{const b=d.flowers.find(C=>C.id===a.id);if(b)for(const C of b.layers)C.doublePetal&&(C.doublePetal.innerSizeReduction=ye(y,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:v??"",onChange:y=>i(d=>{const b=d.flowers.find(C=>C.id===a.id);if(b)for(const C of b.layers)C.doublePetal&&(y===C.colorId?delete C.doublePetal.innerColorId:C.doublePetal.innerColorId=y)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Xh.map(r=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.type=r,r===""&&!o.center.pepCount&&(o.center.pepCount=12),r===""&&!o.center.color2&&(o.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:r},r))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.size=r)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color=r)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color2=r)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.pepCount=r)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const f=r.flowers.find(o=>o.id===a.id);f&&delete f.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const f=r.flowers.find(o=>o.id===a.id);f&&(f.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Km,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function Wm({project:c,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:f,onAddToGroup:o,onMergeGroups:v}){const y=a,d=[...new Set(y.flatMap(w=>w.layers.map(p=>p.petalType)))],b=d.length===1?d[0]:null,C=w=>{i(p=>{for(const M of y){const z=p.flowers.find(g=>g.id===M.id);z&&w(z)}},!0)};return s.jsxs(dr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[y.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(w=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:w.hex},title:w.name,onClick:()=>C(p=>{for(const M of p.layers)M.colorId=w.id})},w.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(w=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${b===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>C(p=>{for(const M of p.layers)M.petalType=w}),children:w},w))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ze,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:w=>{const p=oi(w);C(M=>{for(const g of M.layers)g.petalCount=w,g.widthScale=p;const z=[...M.layers].sort((g,h)=>h.order-g.order);for(let g=1;g<z.length;g++)z[g].offsetAngle=tl(z[g-1].petalCount,z[g-1].offsetAngle,z[g].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(w=>s.jsxs("div",{children:[w.name," (",w.layers.length,")"]},w.id))}),(()=>{const w=y.map(h=>ll(c,h.id)),p=y.filter(h=>!ll(c,h.id)).map(h=>h.id),M=[...new Set(w.filter(Boolean).map(h=>h.id))],z=p.length===y.length,g=M.length===1&&w.every(h=>h!=null);return s.jsxs(s.Fragment,{children:[z&&y.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(y.map(h=>h.id)),children:""}),g&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(M[0]),children:""}),M.length===1&&p.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(M[0],p),children:[" (+",p.length,")"]}),M.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(M,p),children:[" (",M.length,"",p.length>0?` +${p.length}`:"",")"]})]})})()]})}function Pm({project:c,applyUpdate:i,selectedFlowers:a,groups:r,groupId:f,onUngroupFlowers:o,onUngroupAll:v}){const y=r.find(M=>M.id===f);if(!y)return null;const d=a,b=(c.leaves??[]).filter(M=>y.leafIds.includes(M.id)),C=[...new Set(d.flatMap(M=>M.layers.map(z=>z.petalType)))],w=C.length===1?C[0]:null,p=M=>{i(z=>{for(const g of d){const h=z.flowers.find(E=>E.id===g.id);h&&M(h)}},!0)};return s.jsxs(dr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:y.name,onChange:M=>i(z=>{const g=(z.groups??[]).find(h=>h.id===y.id);g&&(g.name=M.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[d.length>0&&s.jsxs("span",{children:[d.length,""]}),d.length>0&&b.length>0&&s.jsx("span",{children:" + "}),b.length>0&&s.jsxs("span",{children:[b.length,""]})]}),d.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(M=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:M.hex},title:M.name,onClick:()=>p(z=>{for(const g of z.layers)g.colorId=M.id})},M.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(M=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${w===M?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(z=>{for(const g of z.layers)g.petalType=M}),children:M},M))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ze,{min:5,max:24,value:d[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:M=>{const z=oi(M);p(g=>{for(const E of g.layers)E.petalCount=M,E.widthScale=z;const h=[...g.layers].sort((E,H)=>H.order-E.order);for(let E=1;E<h.length;E++)h[E].offsetAngle=tl(h[E-1].petalCount,h[E-1].offsetAngle,h[E].petalCount)})}})]}),s.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[d.map(M=>s.jsxs("div",{children:[M.name," (",M.layers.length,")"]},M.id)),b.map(M=>s.jsx("div",{children:M.name},M.id))]}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(y.id),children:""}),s.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>v(y.id),children:""})]})}function Fm({project:c,flowerIds:i,leafIds:a,onGroupMixed:r,onUngroupFlowers:f,onAddToGroup:o,onAddLeavesToGroup:v,onMergeGroups:y}){const d=c.flowers.filter(H=>i.includes(H.id)),b=(c.leaves??[]).filter(H=>a.includes(H.id)),C=i.map(H=>ll(c,H)),w=a.map(H=>zl(c,H)),p=[...C,...w],M=i.filter(H=>!ll(c,H)),z=a.filter(H=>!zl(c,H)),g=[...new Set(p.filter(Boolean).map(H=>H.id))],h=M.length+z.length===i.length+a.length,E=g.length===1&&p.every(H=>H!=null);return s.jsxs(dr,{title:"",children:[s.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",d.length," +  ",b.length,""]}),s.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[d.map(H=>s.jsxs("div",{children:[" ",H.name]},H.id)),b.map(H=>s.jsxs("div",{children:[" ",H.name||""]},H.id))]}),s.jsxs(s.Fragment,{children:[h&&d.length+b.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(i,a),children:""}),E&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(g[0]),children:""}),g.length===1&&(M.length>0||z.length>0)&&!h&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{M.length>0&&o(g[0],M),z.length>0&&v(g[0],z)},children:[" (+",M.length+z.length,")"]}),g.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>y(g,M),children:[" (",g.length,")"]})]})]})}function $m({project:c,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);y&&(y.name=f.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(f=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);y&&(y.petalType=f)}),children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:5,max:24,value:r.petalCount,onChange:f=>{i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);if(y){y.petalCount=f,y.widthScale=oi(f);const d=[...v.layers].sort((b,C)=>C.order-b.order);for(let b=1;b<d.length;b++)d[b].offsetAngle=tl(d[b-1].petalCount,d[b-1].offsetAngle,d[b].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{min:1,max:200,step:.5,value:Math.round(rr(r.radius,r.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);y&&(y.radius=ye(Gh(f,y.scale??1,v.fabricSquareSize??o.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(r.scale??1)*10)/10,onChange:f=>i(o=>{const v=o.flowers.find(w=>w.id===a.id);if(!v)return;const y=v.layers.find(w=>w.id===r.id);if(!y)return;const d=v.fabricSquareSize??o.fabricSquareSize;y.scale=ye(Math.round(f/d*100)/100,.3,3);const b=[...v.layers].sort((w,p)=>w.order-p.order),C=b.findIndex(w=>w.id===y.id);if(C>=0)for(let w=C-1;w>=0;w--){const p=b[w],M=b[w+1],g=Bt(d).length*(M.scale??1)/3;p.radius=Math.round((M.radius+g)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);y&&(y.scale=f)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);y&&(y.widthScale=f)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{value:Number(r.offsetAngle??0).toFixed(1),onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);y&&(y.offsetAngle=f)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:r.colorId,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);y&&(y.colorId=f)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);if(y)if(f.target.checked){const d=y._doublePetalCache;y.doublePetal=d??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);y?.doublePetal&&(y.doublePetal.innerSizeReduction=ye(f,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);y?.doublePetal&&(f===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=f)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);y&&(y.visible=f.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===r.id);y&&(y.locked=f.target.checked)})}),""]})]})]})]})}function eb({project:c,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const f=r,o=f.map(h=>{const E=a.layers.find(H=>H.id===h.layerId);return{...h,layer:E}}).filter(h=>h.layer!=null),v=(h,E)=>{const H=a.layers.find(k=>k.id===h);return H?(H?.petalOverrides?.find(k=>k.index===E)??null)?.colorId??H.colorId:null},y=(h,E)=>{const H=a.layers.find(k=>k.id===h);return H?(H?.petalOverrides?.find(k=>k.index===E)??null)?.petalType??H.petalType:null},d=o.map(h=>v(h.layerId,h.index)),b=o.map(h=>y(h.layerId,h.index)),C=d.length>0&&d.every(h=>h===d[0]),p=b.length>0&&b.every(h=>h===b[0])?b[0]:null,M=h=>{i(E=>{const H=E.flowers.find(G=>G.id===a.id);if(H)for(const G of f){const k=H.layers.find(U=>U.id===G.layerId);if(!k)continue;k.petalOverrides||(k.petalOverrides=[]);const R=k.petalOverrides.find(U=>U.index===G.index);if(R)h.colorId!==void 0&&(h.colorId===k.colorId?delete R.colorId:R.colorId=h.colorId),h.petalType!==void 0&&(h.petalType===k.petalType?delete R.petalType:R.petalType=h.petalType),!R.colorId&&!R.petalType&&(k.petalOverrides=k.petalOverrides.filter(U=>U.index!==G.index),k.petalOverrides.length===0&&(k.petalOverrides=void 0));else{const U={index:G.index};h.colorId!==void 0&&h.colorId!==k.colorId&&(U.colorId=h.colorId),h.petalType!==void 0&&h.petalType!==k.petalType&&(U.petalType=h.petalType),(U.colorId!==void 0||U.petalType!==void 0)&&k.petalOverrides.push(U)}}},!0)},z=()=>{i(h=>{const E=h.flowers.find(H=>H.id===a.id);if(E)for(const H of f){const G=E.layers.find(k=>k.id===H.layerId);!G||!G.petalOverrides||(G.petalOverrides=G.petalOverrides.filter(k=>k.index!==H.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0))}},!0)},g=o.some(h=>h.layer?.petalOverrides?.find(E=>E.index===h.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",g&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${C&&d[0]===h.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>M({colorId:h.id})},h.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(h=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>M({petalType:h}),children:h},h))})]}),g&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:z,children:""})]})]})}function tb({project:c,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:f}){const o=r?.petalOverrides?.find(w=>w.index===f)??null,v=o?.colorId??r.colorId,y=o?.petalType??r.petalType,d=o!=null,b=w=>{i(p=>{const M=p.flowers.find(h=>h.id===a.id);if(!M)return;const z=M.layers.find(h=>h.id===r.id);if(!z)return;z.petalOverrides||(z.petalOverrides=[]);const g=z.petalOverrides.find(h=>h.index===f);if(g)w.colorId!==void 0&&(g.colorId=w.colorId),w.petalType!==void 0&&(g.petalType=w.petalType),w.innerColorId!==void 0&&(g.innerColorId=w.innerColorId),w.innerSizeReduction!==void 0&&(g.innerSizeReduction=w.innerSizeReduction),g.colorId!==void 0||g.petalType!==void 0||g.innerColorId!==void 0||g.innerSizeReduction!==void 0?(g.colorId===void 0&&delete g.colorId,g.petalType===void 0&&delete g.petalType,g.innerColorId===void 0&&delete g.innerColorId,g.innerSizeReduction===void 0&&delete g.innerSizeReduction):(z.petalOverrides=z.petalOverrides.filter(E=>E.index!==f),z.petalOverrides.length===0&&(z.petalOverrides=void 0));else{const h={index:f};w.colorId!==void 0&&(h.colorId=w.colorId),w.petalType!==void 0&&(h.petalType=w.petalType),w.innerColorId!==void 0&&(h.innerColorId=w.innerColorId),w.innerSizeReduction!==void 0&&(h.innerSizeReduction=w.innerSizeReduction),(h.colorId!==void 0||h.petalType!==void 0||h.innerColorId!==void 0||h.innerSizeReduction!==void 0)&&z.petalOverrides.push(h)}},!0)},C=()=>{i(w=>{const p=w.flowers.find(z=>z.id===a.id);if(!p)return;const M=p.layers.find(z=>z.id===r.id);!M||!M.petalOverrides||(M.petalOverrides=M.petalOverrides.filter(z=>z.index!==f),M.petalOverrides.length===0&&(M.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",f+1,d&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:v,onChange:w=>{w===r.colorId?b({colorId:void 0}):b({colorId:w})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(w=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{w===r.petalType?b({petalType:void 0}):b({petalType:w})},children:w},w))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:w=>i(p=>{const M=p.flowers.find(g=>g.id===a.id);if(!M)return;const z=M.layers.find(g=>g.id===r.id);if(z)if(w.target.checked){const g=z._doublePetalCache;z.doublePetal=g??{innerSizeReduction:2},delete z._doublePetalCache}else z.doublePetal&&(z._doublePetalCache={...z.doublePetal}),delete z.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const w=r.doublePetal,p=o?.innerSizeReduction??w.innerSizeReduction,M=o?.innerColorId??w.innerColorId??v;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",o?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ze,{min:1,max:30,step:1,value:p,onChange:z=>{const g=ye(z,1,30);g===w.innerSizeReduction?b({innerSizeReduction:void 0}):b({innerSizeReduction:g})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:M,size:"sm",onChange:z=>{const g=w.innerColorId??r.colorId;b(z===g?{innerColorId:void 0}:{innerColorId:z})}})]})]})})(),d&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:C,children:""})]})]})}function nb({project:c,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const f=a,o=v=>{i(y=>{const d=(y.stencils??[]).find(b=>b.id===f.id);d&&Object.assign(d,v)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:v=>o({variant:v.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(v=>s.jsx("option",{value:v,children:a1[v]},v))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:v=>o({pose:v.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(v=>s.jsx("option",{value:v,children:i1[v]},v))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:v=>o({locked:v.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function lb({project:c,applyUpdate:i,selectedLeaf:a,groups:r,onDeleteLeaf:f,onAddLeafToGroup:o,onRemoveLeafFromGroup:v}){const y=a,d=C=>{i(w=>{const p=(w.leaves??[]).find(M=>M.id===y.id);p&&C(p)},!0)},b=zl(c,y.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:y.name,onChange:C=>d(w=>{w.name=C.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(C=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y.petalType===C?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>d(w=>{w.petalType=C}),children:C},C))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:y.colorId,onChange:C=>d(w=>{w.colorId=C})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{min:3,max:80,step:.5,value:Math.round((y.fabricSquareSize??c.fabricSquareSize)*(y.scale??1)*10)/10,onChange:C=>d(w=>{const p=w.fabricSquareSize??c.fabricSquareSize;w.scale=ye(Math.round(C/p*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.4,max:2.5,step:.05,value:Number(y.scale??1).toFixed(2),onChange:C=>d(w=>{w.scale=C})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(y.widthScale??1).toFixed(2),onChange:C=>d(w=>{w.widthScale=C})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ze,{value:Number(y.rotation).toFixed(1),onChange:C=>d(w=>{w.rotation=C})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.doublePetal,onChange:C=>d(w=>{if(C.target.checked){const p=w._doublePetalCache;w.doublePetal=p??{innerSizeReduction:2},delete w._doublePetalCache}else w.doublePetal&&(w._doublePetalCache={...w.doublePetal}),delete w.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),y.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:1,value:y.doublePetal.innerSizeReduction,onChange:C=>d(w=>{w.doublePetal&&(w.doublePetal.innerSizeReduction=ye(C,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:y.doublePetal.innerColorId??y.colorId,onChange:C=>d(w=>{w.doublePetal&&(C===w.colorId?delete w.doublePetal.innerColorId:w.doublePetal.innerColorId=C)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.visible,onChange:C=>d(w=>{w.visible=C.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.locked,onChange:C=>d(w=>{w.locked=C.target.checked})}),""]})]}),b?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",b.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>v(y.id),children:""})]}):r.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:C=>{C.target.value&&o(y.id,C.target.value)},children:[s.jsx("option",{value:"",children:"..."}),r.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(y.id),children:""})]})]})}function ab({project:c,applyUpdate:i,leafIds:a,onGroupLeaves:r,onUngroupLeaves:f,onAddLeavesToGroup:o,onMergeLeafGroups:v}){const y=(c.leaves??[]).filter(d=>a.includes(d.id));return y.length===0?null:s.jsxs(dr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[y.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:"",onChange:d=>i(b=>{for(const C of a){const w=(b.leaves??[]).find(p=>p.id===C);w&&(w.colorId=d)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(d=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(b=>{for(const C of a){const w=(b.leaves??[]).find(p=>p.id===C);w&&(w.petalType=d)}},!0),children:d},d))}),(()=>{const d=y.map(M=>zl(c,M.id)),b=y.filter(M=>!zl(c,M.id)).map(M=>M.id),C=[...new Set(d.filter(Boolean).map(M=>M.id))],w=b.length===y.length,p=C.length===1&&d.every(M=>M!=null);return s.jsxs(s.Fragment,{children:[w&&y.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""}),p&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(C[0]),children:""}),C.length===1&&b.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(C[0],b),children:[" (+",b.length,")"]}),C.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(C,b),children:[" (",C.length,"",b.length>0?` +${b.length}`:"",")"]})]})})()]})}function ib(c){const{project:i,selection:a,applyUpdate:r,selectedFlower:f,selectedFlowers:o,selectedLayer:v,selectedPetalIndex:y,selectedPetals:d}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto md:flex-1 md:min-h-0 overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:b=>r(C=>C.title=b.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{value:i.fabricSquareSize,min:5,max:60,onChange:b=>r(C=>C.fabricSquareSize=b),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{value:i.baseDiameter,min:10,max:100,onChange:b=>r(C=>C.baseDiameter=b),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",aa(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",aa(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:b=>r(C=>C.notes=b.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(b=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:b.hex},title:b.name},b.id))})]})]})]}),a.kind==="flower"&&f&&s.jsx(Qm,{project:i,applyUpdate:r,selectedFlower:f}),a.kind==="flowers"&&o.length>0&&s.jsx(Wm,{project:i,applyUpdate:r,selectedFlowers:o,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&s.jsx(Pm,{project:i,applyUpdate:r,selectedFlowers:o,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers,onUngroupAll:c.onUngroupAll}),a.kind==="layer"&&f&&v&&s.jsx($m,{project:i,applyUpdate:r,selectedFlower:f,selectedLayer:v}),a.kind==="petals"&&f&&d.length>0&&s.jsx(eb,{project:i,applyUpdate:r,selectedFlower:f,selectedPetals:d}),a.kind==="petal"&&f&&v&&y!==null&&s.jsx(tb,{project:i,applyUpdate:r,selectedFlower:f,selectedLayer:v,selectedPetalIndex:y}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(nb,{project:i,applyUpdate:r,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(lb,{project:i,applyUpdate:r,selectedLeaf:c.selectedLeaf,groups:c.groups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(ab,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="mixed"&&s.jsx(Fm,{project:i,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:c.onGroupMixed,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeGroups:c.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!f?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function rb(c){const i={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?aa(c.baseDiameter,c.fabricSquareSize,i).diameter:ur(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function cb(c){const i={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Bh(c.flowerDiameter,c.baseDiameter,i):kh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function ub({palette:c,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:f}){const o=d=>{a(b=>{const C={...b,...d};return d.placementMode&&d.placementMode!==b.placementMode&&(d.placementMode===""?(C.baseDiameter=30,C.fabricSquareSize=20,C.layerCount=4,C.petalCount=12):(C.fabricSquareSize=20,C.layerCount=1,C.petalCount=6)),C.flowerDiameter=rb(C),C})},v=d=>{a(b=>{const C={...b,flowerDiameter:d};return C.fabricSquareSize=cb(C),C})},y=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&y.push("");const d=qh(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>d&&y.push(`${d}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:d=>d.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:e1.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>o({placementMode:d}),children:d},d))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:d=>o({fabricSquareSize:d})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:d=>o({layerCount:d})})]})]}),i.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:d=>o({baseDiameter:d})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:d=>a(b=>({...b,petalCount:d}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:v})]})]}),y.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:y.map((d,b)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:d},b))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(d=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||c[0]?.id)===d.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>a(b=>({...b,colorId:d.id}))},d.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(b=>({...b,petalType:d})),children:d},d))})]}),i.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:d=>o({sizeStepMm:d})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function sb(c){return Math.round(c*Math.SQRT2/2*10)/10}function xb(c){return Math.round(c*Math.SQRT2*10)/10}function ob({palette:c,addLeafOpts:i,setAddLeafOpts:a,onConfirm:r,onCancel:f}){const o=y=>{a(d=>({...d,fabricSquareSize:y,leafSizeMm:sb(y)}))},v=y=>{a(d=>({...d,leafSizeMm:y,fabricSquareSize:xb(y)}))};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:y=>y.stopPropagation(),"data-testid":"dialog-add-leaf",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:o})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:i.leafSizeMm,onChange:v})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(y=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||c[0]?.id)===y.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:y.hex},title:y.name,"aria-label":`: ${y.name}`,onClick:()=>a(d=>({...d,colorId:y.id}))},y.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(y=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:y})),children:y},y))})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-leaf",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}const F0=bn;(function(c,i){const a=bn,r=c();for(;;)try{if(parseInt(a(494))/1+parseInt(a(471))/2*(parseInt(a(488))/3)+parseInt(a(498))/4*(-parseInt(a(490))/5)+parseInt(a(457))/6+-parseInt(a(486))/7*(-parseInt(a(459))/8)+parseInt(a(513))/9*(parseInt(a(492))/10)+parseInt(a(447))/11*(-parseInt(a(496))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(K0,315353);const fb=(function(){let c=!0;return function(i,a){const r=c?function(){const f=bn;if(a){const o=a[f(461)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Ls=fb(void 0,function(){const c=bn,i={uPNoO:"(((.+)+)+)+$"};return Ls[c(499)]()[c(515)](i.uPNoO).toString().constructor(Ls)[c(515)](i[c(478)])});Ls();const c1=F0(462),u1={left:25,right:25},Es=15,ks=15,or=30;function db(){const c=F0,i={fFLSQ:function(a,r){return a-r},BOyWN:function(a,r){return a(r)},aTSxN:function(a,r,f){return a(r,f)},bKvNL:"PjMSP",AAlPa:function(a,r){return a===r},fIuAw:function(a,r){return a>=r},hBmAe:function(a,r){return a>=r},OdxFN:function(a,r){return a-r}};try{const a=localStorage[c(455)](c1);if(a)if(i[c(511)]==="PjMSP"){const r=JSON.parse(a);if(i[c(516)](typeof r.left,c(465))&&typeof r[c(487)]=="number"&&i.fIuAw(r.left,Es)&&i.fIuAw(r.right,ks)&&i[c(467)](i[c(491)](100-r[c(479)],r.right),or))return r}else{const r=_0x5224e6[c(495)].right-_0x287935,f=i[c(514)](100,_0x172290[c(495)].left)-_0x52c9f4;i.BOyWN(_0x2f904e,i[c(504)](_0x2bcc7e,_0x91de67.startWidths[c(479)],_0x4f1811.min(r,f)))}}catch{}return u1}function Qd(c,i){const a=F0,r={aNjZB:function(y,d){return y===d},LXXhs:function(y,d){return y===d},ahrJJ:function(y,d){return y<d},IdESF:function(y,d){return y!==d},gOGCZ:function(y,d){return y/d},xfXsX:function(y,d){return y/d}};let f=Math.max(Es,c),o=Math.max(ks,i);const v=100-f-o;if(r[a(503)](v,or))if(r[a(454)]("SxySy",a(449))){const y=or-v;f-=r[a(512)](y,2),o-=r[a(506)](y,2),f=Math[a(450)](Es,f),o=Math.max(ks,o)}else{const y=_0xe09f9c.getItem(_0x17ae89);if(y){const d=_0x3e9313.parse(y);if(hifGEJ[a(484)](typeof d[a(479)],"number")&&hifGEJ[a(470)](typeof d[a(487)],"number")&&d.left>=_0x189f1f&&d.right>=_0x4bb137&&100-d.left-d[a(487)]>=_0xfe9573)return d}}return{left:r[a(506)](Math.round(f*100),100),right:r[a(512)](Math.round(o*100),100)}}function K0(){const c=["C3r5Bgu","ntjvrLDUEee","Dg9tDhjPBMC","BwLU","C2LKzq","r3n4zui","ywHYsKO","yvrtEe4","uxHQze0","EgzyC1G","r0jKvxK","ywrKrxzLBNrmAxn0zw5LCG","wKT3wMq","A2zPD2u","yKT2tKW","z09hq1O","ndv2s1bXv1u","zKzmu1e","C2vHCMnO","qufSuge","DxnKBLq","uhLrsKS","C2rJs04","mJiXnZCXs2HRDwnJ","CMvTB3zLrxzLBNrmAxn0zw5LCG","AM9Nt2m","Bwf4","Dw5KzwzPBMvK","y3vYC29Y","y29SlxjLC2L6zq","swrfu0y","z2v0sxrLBq","y3vYCMvUDa","mJCXmZq0nLfoC3bgqW","z2v0qM91BMrPBMDdBgLLBNrszwn0","mta0vgToDMHZ","EgHtsKq","yxbWBhK","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","uvPOyuW","r1nivLK","BNvTyMvY","y2XPzw50wa","AejTqwu","wujfCfq","yM9KEq","tfHyAhm","mJeWsxLUCxnM","qMH1qva","v0LWteq","kg1PBI13Awr0AdOGnZy4ChGP","C2v0sxrLBq","Bwf0y2HnzwrPyq","DxnLCLnLBgvJDa","DvboB08","BgvMDa","v29Zufq","Cg9PBNrLCNvW","y2HHBMDL","Cg9PBNrLCM1VDMu","yu5QwKi","Bwf0y2HLCW","mZa3ntGWuxbnDfHS","CMLNAhq","mty4mZneEw1MEMC","q1PpCgW","mtG4mZG1s0fOBw9V","t2r4rK4","odq3nJCWrLLlAMrP","EuvPtKS","ndqYmdy2txL3EM5L","C3rHCNrxAwr0Ahm","otK2EM1bwezt"];return K0=function(){return c},K0()}function bn(c,i){c=c-445;const a=K0();let r=a[c];if(bn.LUOYbM===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};bn.Yhihtw=f,bn.KSPyno={},bn.LUOYbM=!0}const o=a[0],v=c+o,y=bn.KSPyno[v];if(y)r=y;else{const d=function(b){this.EChUIv=b,this.QHfFui=[1,0,0],this.NVocDE=function(){return"newState"},this.HdKSBQ="\\w+ *\\(\\) *{\\w+ *",this.jfzcDd=`['|"].+['|"];? *}`};d.prototype.brRFWV=function(){const b=new RegExp(this.HdKSBQ+this.jfzcDd),C=b.test(this.NVocDE.toString())?--this.QHfFui[1]:--this.QHfFui[0];return this.dDdRDp(C)},d.prototype.dDdRDp=function(b){return~b?this.dRWHHv(this.EChUIv):b},d.prototype.dRWHHv=function(b){for(let C=0,w=this.QHfFui.length;C<w;C++)this.QHfFui.push(Math.round(Math.random())),w=this.QHfFui.length;return b(this.QHfFui[0])},new d(bn).brRFWV(),r=bn.Yhihtw(r),bn.KSPyno[v]=r}return r}function hb(){const c=F0,i={sdcKN:function(z,g){return z===g},BhuAP:function(z,g){return z*g},CGIcv:function(z,g){return z/g},PyQJK:"left",Mylaz:function(z,g){return z+g},GsxeB:function(z,g){return z-g},WosPT:function(z,g){return z(g)},PMCbd:function(z,g){return z-g},WIpLD:function(z,g){return z(g)},yEiNK:function(z,g,h){return z(g,h)},bBrhZ:function(z,g){return z(g)},xhSJD:function(z,g){return z/g},ZKwZd:"KDLLD",QxjdM:c(464),whpAt:function(z,g){return z(g)},usdnT:function(z,g){return z(g)},GBdUy:function(z,g){return z(g)}},[a,r]=i[c(517)](te.useState,db),f=i.WosPT(te.useRef,null),o=i[c(507)](te.useRef,null),[v,y]=te.useState(!1),[d,b]=te.useState(()=>typeof window!==c(451)?window[c(476)](c(474))[c(485)]:!0);te.useEffect(()=>{const z=c,g=window.matchMedia("(min-width: 768px)"),h=E=>b(E.matches);return g[z(508)](z(482),h),()=>g[z(448)]("change",h)},[]),te.useEffect(()=>{const z=c;localStorage[z(475)](c1,JSON.stringify(a))},[a]);const C=i[c(480)](te.useRef,a);i[c(493)](te.useEffect,()=>{const z=c;C[z(456)]=a},[a]);const w=te.useCallback((z,g)=>{const h=c,E={Xyidb:"pointermove",OpBKp:h(468),kfiwe:"fySGI"};g.preventDefault();const H=f.current;if(!H)return;o.current={side:z,startX:g[h(466)],startWidths:{...C[h(456)]}},y(!0),document[h(469)].style.cursor=h(453),document.body[h(497)].userSelect="none";const G=R=>{const U=h,q=o.current;if(!q)return;const J=H[U(458)]().width;if(i[U(446)](J,0))return;const F=R.clientX-q.startX,P=i[U(472)](i.CGIcv(F,J),100);if(q[U(501)]===i[U(445)]){const V=i.Mylaz(q[U(495)][U(479)],P),O=i[U(502)](i[U(502)](100,q.startWidths.right),or);i.WosPT(r,Qd(Math[U(500)](V,O),q[U(495)].right))}else{const V=q.startWidths.right-P,O=i.PMCbd(100-q.startWidths.left,or);i[U(473)](r,i[U(493)](Qd,q[U(495)].left,Math[U(500)](V,O)))}},k=()=>{const R=h;E.OpBKp!==E[R(510)]?(o.current=null,y(!1),document[R(469)].style.cursor="",document.body.style[R(477)]="",window[R(448)]("pointermove",G),window[R(448)]("pointerup",k)):(_0x5f441d[R(448)](E.Xyidb,_0x1b0fcf),_0x4ceda7.removeEventListener(R(481),_0x164a2e),_0x2909dd[R(456)]=null,_0x5b0a24(!1),_0x2dd300.body.style[R(452)]="",_0x5f1c6b.body.style[R(477)]="")};window.addEventListener(h(483),G),window.addEventListener("pointerup",k),p[h(456)]=()=>{const R=h;window.removeEventListener(R(483),G),window[R(448)](R(481),k),o[R(456)]=null,i.bBrhZ(y,!1),document[R(469)][R(497)][R(452)]="",document[R(469)][R(497)].userSelect=""}},[]),p=te.useRef(null);i[c(493)](te.useEffect,()=>{const z=c,g={hMPIT:function(h,E){return i.GsxeB(h,E)},QZhaL:function(h,E){return i[bn(460)](h,E)},CZOpl:i[z(509)]};if(i[z(505)]!==i[z(505)]){const h=ukEUpN.hMPIT(_0x5254a5,_0x4013eb);_0x7aa666-=h/2,_0x1b8a99-=ukEUpN[z(463)](h,2),_0x23f97e=_0x5be533[z(450)](_0x1fafc5,_0x2ba644),_0x14d4c8=_0x3fdfd5.max(_0x137882,_0x8cc321)}else return()=>{const h=z;g[h(489)]===g.CZOpl?p[h(456)]?.():_0x46740a.current?.()}},[]);const M=i[c(493)](te.useCallback,()=>{i.whpAt(r,u1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:w,onDividerDoubleClick:M,isDragging:v,isDesktop:d}}function Wd({side:c,onPointerDown:i,onDoubleClick:a,isDragging:r}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>i(c,f),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}(function(c,i){const a=_t,r=c();for(;;)try{if(parseInt(a(222))/1+-parseInt(a(322))/2+-parseInt(a(229))/3+parseInt(a(228))/4*(parseInt(a(298))/5)+-parseInt(a(208))/6*(parseInt(a(198))/7)+parseInt(a(213))/8*(parseInt(a(159))/9)+parseInt(a(314))/10*(parseInt(a(301))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(X0,800544);function _t(c,i){c=c-146;const a=X0();let r=a[c];if(_t.ospxDb===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};_t.psTkQd=f,_t.GimeGU={},_t.ospxDb=!0}const o=a[0],v=c+o,y=_t.GimeGU[v];if(y)r=y;else{const d=function(b){this.tBYfzw=b,this.AyFfCR=[1,0,0],this.andiqG=function(){return"newState"},this.BKXvDR="\\w+ *\\(\\) *{\\w+ *",this.TiEfOt=`['|"].+['|"];? *}`};d.prototype.MAOfVG=function(){const b=new RegExp(this.BKXvDR+this.TiEfOt),C=b.test(this.andiqG.toString())?--this.AyFfCR[1]:--this.AyFfCR[0];return this.PYJvVD(C)},d.prototype.PYJvVD=function(b){return~b?this.mAilkj(this.tBYfzw):b},d.prototype.mAilkj=function(b){for(let C=0,w=this.AyFfCR.length;C<w;C++)this.AyFfCR.push(Math.round(Math.random())),w=this.AyFfCR.length;return b(this.AyFfCR[0])},new d(_t).MAOfVG(),r=_t.psTkQd(r),_t.GimeGU[v]=r}return r}const mb=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),Bs=mb(void 0,function(){const c=_t,i={qsZNo:"(((.+)+)+)+$"};return Bs[c(181)]().search(c(206))[c(181)]().constructor(Bs).search(i[c(328)])});Bs();function X0(){const c=["vNDgu2S","yMfJAW","CvbRvfi","CNr0EMu","s3fmrem","seLrtgW","tvvHrNO","r2jLthG","Bgf5zxi","vwTZCxO","vfLcANu","nJnmD0zMuMi","z3jVDxa","C012v0i","Bwf4","BgvHzKLK","Cgv0ywXZ","CM91BMq","A054qKe","sLrfCfq","s2PxAvK","ChjVAMvJDa","C3rLBMnPBhm","zffXDLq","A25otu8","zgLHBwv0zxi","BgjQu1G","B2zMC2v0qw5NBgu","Cgv0ywXuExbL","C0nIt2y","EKzpyuW","s1PbwLK","AgvPz2H0","Dg9tDhjPBMC","y29Z","AgvPBgS","EK1yDKW","44kW44oR44o844oxia","Aw5JBhvKzxm","veTwA2W","DufAC3q","zMLUza","Dw5ZAgLMDa","C3rLBMnPBeLK","BwLerLm","vhvMt0i","ru9ZrgG","veDMEeO","zMj2Ewy","Cgv0ywXdB3vUDa","nJi3mdi3mxfPBKvmtG","AMTUsK8","rvvAr00","BwL4zwq","q1PsALa","rgrIBe0","C2nHBgu","ywzoseq","kcGOlISPkYKRksSK","Bgf5zxjZ","nLnZy3PWCq","sK9Tsxa","qMrAA2S","AxrdA3m","y3LTy0C","ndu1mdCYs0n0qxzJ","y29Sx2DYzwvU","ze9Hyve","DKjryNm","zMLTCvK","DwLHCwu","sNDsuw8","Cgv0ywW","swXuwKC","ndi0mJu4vgLLugTK","s0TTuwS","ze9rzM4","B3jzzLC","tKz2BeS","zMXVD2vYCW","ndy5odHMquvxzMe","mZqXmZK3m2TfDeHgsa","shzhsKO","BwfW","z3jVDxbZ","qw9kt2S","A2jTAge","yvn5Awe","BxP2uue","vxLktNm","vNLXuLG","z3jVDxbjza","BgnNy3y","C3rLBMnPBa","tKXqBNm","sM5XtKm","Au5Msum","CgfSzxr0zq","BfLhvfi","uNLVBKy","BgvUz3rO","C29YDa","zMXVD2vYswq","yvzssLm","AuDLEgm","zM1Py0e","z1zPA3e","ywfryxO","quHNsfy","qvLpA04","s0z5why","B1riEMq","r2LWCfe","BgvHDMvZ","rNrXyw4","BhnkuLe","yMDktha","uxrNzLi","sNjMvgW","yKLvDMq","rKLmuve","Bgf5zxjjza","C2LKzq","EvfdDLC","CMv2zxjZzq","Dgr2yuG","uwnAC3O","r3jmvve","r1rzwNO","BKnbEMS","Cg9Ruxy","Dw5PzM9YBq","CMfKAxvZ","Aw5KzxG","BLvHtg4","DfL4uMC","qwDttfK","BgvHzKLKCW","tgf5zxiG","B3jKzxi","y29SB3jjza","rgfLsfq","z0ztuhq","zMXVD2vYswrZ","ChvZAa","yKXPyM4","A2LUza","A2PrC0K","txjSBem","qwnAtLu","ndyWsLPwqK5J","zMXVD2vY","vhLZs0C","mtf5tePAsfK","t0jyAui","v0XAvxC","v2DfAMW","EKXeExa","EM55wuu","sMvMDxq","zwDfuuK","zMXVD2vYrgLHBwv0zxi","zMLSDgvY","tfrmB2y","DLrPy0m","vKTzDfq","mta2mtu1mJb3D294zue","y0vsrxu","C2XPy2u","zMfICMLJu3f1yxjLu2L6zq","BMfTzq","Bgf5","q1bAtMK","s0LzALe","mJyWody4vNrRENr3","sfDNEKG","EMDZyxu","qvnUEuK","BgvHzG","AMjSCvO","CxnAtM8","B2PQs00","ChjLDMLVDxnhCM91Chm","zM9YrwfJAa","CwjtEgi","u3PQDgy","t2nOuwm","AgfZ","rgjSugu","A2P3rve","DwjVrvm","yMfZzurPyw1LDgvY","r1nyt3O","rfzgru0","yxLYuhK","Bwf0y2G","DKPeu2W","CgXHy2vTzw50tw9Kzq"];return X0=function(){return c},X0()}function bb({project:c,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:f,setExpandedGroups:o,zoom:v,pan:y,stageSize:d,CANVAS_MAX_SVG:b,deleteLeafById:C}){const w=_t,p={UyJNs:function(_,m){return _(m)},afNHD:function(_,m){return _*m},ojjKM:function(_,m){return _/m},jknJO:function(_,m){return _>m},kbmha:function(_,m){return _-m},DVFEM:function(_,m){return _*m},cEREu:function(_,m){return _+m},OBXiB:w(297),khDqJ:function(_,m){return _||m},PjGsv:function(_,m){return _>m},TysKG:function(_,m,D){return _(m,D)},dimKw:function(_,m){return _<=m},jNmoP:function(_,m,D){return _(m,D)},lbjSX:function(_,m){return _(m)},miDFS:"flower",BdZkk:function(_,m){return _===m},sMvWB:w(279),vBQbs:function(_,m){return _!==m},gbEbE:w(252),gVikq:function(_,m,D,B){return _(m,D,B)},dOaaQ:w(201),Szjtf:w(227),AKyXS:function(_,m){return _===m},nCAzk:w(202),zcRZR:function(_,m){return _<m},cymcG:function(_,m){return _-m},KZAZY:function(_,m){return _(m)},ayrPy:function(_,m){return _+m},VMFWt:w(319),uboES:function(_,m){return _(m)},FmXsP:w(214),OchQc:function(_,m,D){return _(m,D)},lcgcv:w(156),uzrdj:"VoiZJ",EpAuW:"rCCSx",qdJfB:function(_,m){return _===m},hBXHS:"GSXOz",QWIlJ:function(_,m,D,B){return _(m,D,B)},GippQ:function(_,m){return _+m},AoJOk:function(_,m){return _===m},QcZsz:"FaqTZ",vbSBw:function(_,m){return _===m},HvGJJ:function(_,m){return _<=m},McHqX:"knZmx",zgsau:function(_,m){return _(m)},tdvaH:function(_,m,D){return _(m,D)},Uksqz:function(_,m){return _(m)},IlTZG:"petal",HWgzH:function(_,m){return _===m},MhVwp:"nysPJ",ANLUB:function(_,m){return _/m},tCGZu:function(_,m){return _*m},aVRJS:function(_,m){return _*m},heilk:w(304),AYOkN:function(_,m){return _===m},uOdvA:"JrtEC",rttze:function(_,m){return _>m},zLDyp:function(_,m,D){return _(m,D)},mfeVJ:function(_,m){return _===m},dOQfn:function(_,m,D,B){return _(m,D,B)},HIQLl:"jwZmT",JrfTl:w(321),OwcgV:function(_,m,D,B){return _(m,D,B)},tYxRg:function(_,m){return _(m)},TYBju:function(_,m){return _===m},wnHdo:w(217),sCbOf:function(_,m){return _===m},dQqvT:"leaf",lYGTR:w(218),NLPns:"qCGuS",kNxBA:function(_,m){return _(m)},hyFmd:function(_,m){return _===m},fmicA:w(261),GbeLx:"project",AGYFv:w(308),eHtOq:"RAesl",bgJLp:function(_,m){return _===m},bIUvd:w(160),JGYsS:function(_,m,D){return _(m,D)},RyonF:"grp",JOmIp:function(_,m){return _(m)},Zeifx:function(_,m,D){return _(m,D)},fbvyf:"PzOLj",ETDJY:function(_,m){return _*m},zMXvL:function(_,m){return _!==m},CKkro:"Ftqan",ClLoo:"wnuVS",nUaLn:"JkTmz",ivYBA:function(_,m,D){return _(m,D)},gFSPt:function(_,m){return _(m)},YdbgJ:"kRUUD",WLZUw:"NwDoD",MrllC:function(_,m,D){return _(m,D)},dszyV:function(_,m){return _(m)},vJDSl:function(_,m){return _/m},rSUoe:function(_,m){return _+m},zFOaL:function(_,m){return _/m},DvcUV:function(_,m){return _===m},DblPe:w(149),qPkTR:function(_,m,D,B){return _(m,D,B)},atSzG:function(_,m){return _/m},LTLof:"stl",TufOB:function(_,m,D){return _(m,D)},fYQhB:"stencil",KLBVe:function(_,m,D,B,T){return _(m,D,B,T)},UuzGE:function(_,m){return _===m},qEXkA:function(_,m){return _!==m},HwUyz:"pokQv",LrjTe:function(_,m){return _>m},ddtUA:function(_,m){return _===m},orYfW:"hEKUU",EAAXi:function(_,m){return _!==m},qbSxb:"OQgaR",KqLDC:function(_,m){return _===m},yQCvW:"tCoyu",knNMO:function(_,m){return _(m)},kjwEQ:function(_,m){return _>m},AgSLY:function(_,m){return _(m)},EOsDh:function(_,m){return _!==m},cqfey:w(167),KKmQk:function(_,m){return _===m},TKVkl:function(_,m){return _(m)},OIOfB:function(_,m){return _===m},CPZNi:function(_,m){return _(m)},abjgm:function(_,m){return _(m)},FILQQ:w(276),TGfxJ:w(255),JnqNC:w(164),uAZst:function(_,m,D){return _(m,D)},vKspK:function(_,m,D){return _(m,D)},JwRQo:function(_,m,D){return _(m,D)}},M=_=>{const m=w,D=[..._.layers][m(249)]((I,Z)=>I[m(287)]-Z[m(287)]),B=D[0];if(!B)return 28;const T=_.fabricSquareSize??c[m(317)],{length:A}=p.UyJNs(Bt,T),S=p[m(205)](A,B[m(204)]??1);let N;if(_.placementMode==="")m(295)==="LbEFZ"?_0x298168({kind:m(299),flowerId:_0x12440d[0]}):N=S/3;else{const Z=p[m(329)](70*Math.PI,180),W=D.length+1,ee=W-1,ie=p[m(199)](W,1)?ee/p[m(234)](W,1)*Z:0;N=p[m(341)](S*(30/100),Math[m(182)](ie))}return p[m(329)](Math[m(165)](p[m(315)](B.radius??28,N)*10),10)},z=_=>{const m=w,D={mhdXy:function(B,T){return p.PjGsv(B,T)}};p[m(300)](i,B=>{const T=m;if(B.flowers=(B.flowers||[]).filter(A=>A.id!==_),B[T(232)]){for(const A of B[T(232)])if(p[T(302)]===T(293)){_0x224ea5[T(232)]||(_0x43622d.groups=[]);const S=_0x4972c4.groups[T(231)](I=>{const Z=T,W=I[Z(318)].match(/^ (\d+)$/);return W?_0x66f305(W[1],10):0}),N=D.mhdXy(S[T(248)],0)?_0x125101.max(...S)+1:1;_0x3f6a4f.groups.push({id:_0xd0af75,name:T(185)+N,flowerIds:[..._0x5c37fc],leafIds:[],rotation:0})}else A.flowerIds=A[T(291)].filter(S=>S!==_);B[T(232)]=B.groups[T(310)](A=>A[T(291)].length+A[T(285)].length>0)}},!0),p.UyJNs(r,{kind:"project"}),f(B=>{const T={...p.khDqJ(B,{})};return delete T[_],T})},g=(_,m)=>{const D=w,B=c.flowers.find(T=>T.id===_);if(B&&p.dimKw((B[D(207)]||[])[D(248)],1)){z(_);return}p.jNmoP(i,T=>{const A=D,S=(T.flowers||[]).find(N=>N.id===_);S&&(S[A(207)]=(S.layers||[])[A(310)](N=>N.id!==m),S.layers.slice().sort((N,I)=>N.order-I.order).forEach((N,I)=>N.order=I+1))},!0),p[D(174)](r,{kind:p[D(192)],flowerId:_})},h=_=>{const m=w,D={Egezj:function(B,T){return B(T)},yMNOX:p.dOaaQ,NFvlK:function(B,T){return p.UyJNs(B,T)},rNkWr:function(B,T){return B(T)},BPCoL:p.Szjtf};if(p.AKyXS(p[m(277)],p.nCAzk)){const B=c[m(227)].find(oe=>oe.id===_);if(!B)return;const T=[...B.layers][m(249)]((oe,fe)=>oe.order-fe[m(287)]),A=T[0],S=ye(A?.[m(197)]??6,5,24),N=T[m(231)](oe=>oe[m(204)]??1),I=p.zcRZR(N.length,2)||N.every(oe=>Math.abs(oe-N[0])<.001);let Z=A?.scale??1;if(!I&&T[m(248)]>=2){const oe=T[T[m(248)]-1],fe=p.cymcG(oe.order??1,A.order??1);if(fe>0){const me=p.ojjKM((A[m(204)]??1)-(oe.scale??1),fe);Z=ye((A[m(204)]??1)+me,.3,3)}}const W=p[m(179)](M,B),ee=p[m(342)](B.layers.length,1),ie={id:kt(p.VMFWt),name:m(286)+ee,order:1,petalType:A?.[m(176)]??"",petalCount:S,radius:W,scale:Z,widthScale:p.uboES(oi,S),offsetAngle:A?.[m(175)]??0,colorId:A?.[m(288)]??c[m(245)]?.[0]?.id??p.FmXsP,visible:!0,locked:!1};if(A)if(m(313)==="VKYtT")ie[m(175)]=p.gVikq(tl,A[m(197)],A.offsetAngle??0,S);else{const oe=(_0x3b3fc1[m(232)]??[]).find(st=>st.id===_0x49d923[m(239)]),fe=oe?oe[m(291)]:[],me=oe?oe[m(285)]:[];if(fe.includes(_0x1fe71c))return;const he=[...new _0x45abb7([...fe,..._0x27050c])],Te=[...new _0xbaf63a([...me,..._0x2bcb85])];Te.length>0?D.Egezj(_0x112ffd,{kind:D.yMNOX,flowerIds:he,leafIds:Te}):D[m(226)](_0xa31679,{kind:"flowers",flowerIds:he})}p.OchQc(i,oe=>{const fe=m,me=oe[fe(227)].find(et=>et.id===_);if(!me)return;me.layers.forEach(et=>et.order+=1),me[fe(207)][fe(190)](ie);const he=Math.round(rr(ie[fe(280)],ie.scale,me[fe(317)]??oe.fabricSquareSize)),Te=me.fabricSquareSize??oe[fe(317)],st=p[fe(210)](me[fe(147)],"")?ur(Te,me[fe(207)][fe(248)],p[fe(161)],0):aa(me[fe(339)]??oe.baseDiameter,Te,{layerCount:me[fe(207)].length}).diameter;me.flowerDiameter=Math.max(me.flowerDiameter||st,he);const Ie=[...me[fe(207)]][fe(249)]((et,At)=>et[fe(287)]-At.order),xt=Ie[fe(272)]();for(let et=1;et<xt[fe(248)];et++)if(p.vBQbs(p.gbEbE,fe(252)))D.rNkWr(_0x9de319,{kind:D.BPCoL,flowerIds:_0xb889f1});else{const At=xt[et-1],wt=xt[et];wt.offsetAngle=p[fe(254)](tl,At[fe(197)],At.offsetAngle,wt[fe(197)])}},!0),r({kind:p[m(240)],flowerId:_,layerId:ie.id}),p[m(237)](f,oe=>({...oe,[_]:!0}))}else if(_0x25aa7b.flowers=_0x2934a4[m(227)][m(310)](B=>!_0x43e064.includes(B.id)),_0x51bd21[m(232)]){for(const B of _0x50b69e[m(232)])B[m(291)]=B[m(291)][m(310)](T=>!_0x5ab3c0[m(186)](T));_0x42994f[m(232)]=_0xa7bea4.groups.filter(B=>B[m(291)].length+B[m(285)][m(248)]>0)}},E=_=>{const m=w;if(p.AoJOk(p[m(274)],"FaqTZ")){const D=c.flowers.find(A=>A.id===_);if(!D||!D[m(207)]||p.vbSBw(D.layers.length,0))return;if(p[m(230)](D[m(207)].length,1))if(p.McHqX!=="knZmx")_0x2715bd({kind:"mixed",flowerIds:_0x342339,leafIds:_0x3ce4ed});else{p[m(324)](z,_);return}const B=[...D[m(207)]].sort((A,S)=>A[m(287)]-S[m(287)]),T=B[0];if(!T)return;p[m(273)](i,A=>{const S=m;if(p.uzrdj!==p.EpAuW){const N=A.flowers.find(W=>W.id===_);if(!N)return;N.layers=N.layers.filter(W=>W.id!==T.id),N.layers[S(316)]().sort((W,ee)=>W[S(287)]-ee.order).forEach((W,ee)=>W[S(287)]=ee+1);const I=[...N.layers][S(249)]((W,ee)=>W.order-ee[S(287)]),Z=N[S(317)]??A[S(317)];if(I[S(248)]>0){vs(I,Z);for(const ie of I){const oe=N[S(207)][S(189)](fe=>fe.id===ie.id);oe&&(oe[S(280)]=ie[S(280)])}const W=I[0];N[S(309)]=Math.round(rr(W[S(280)],W.scale??1,Z));const ee=[...I].reverse();for(let ie=1;ie<ee[S(248)];ie++)if(p.qdJfB(p.hBXHS,S(340))){const oe=ee[p.cymcG(ie,1)],fe=ee[ie];fe.offsetAngle=p.QWIlJ(tl,oe.petalCount,oe.offsetAngle,fe[S(197)])}else{const oe=_0x57a0bc.layers[S(189)](fe=>fe.id===_0x561842.id);oe&&(oe[S(280)]=_0x4fe89e[S(280)])}}}else{if(!_0x22397f.groups)return;_0x22ec62.groups=_0x3de721.groups[S(310)](N=>N.id!==_0x7711b8[S(239)])}},!0),a.kind===m(156)&&a[m(269)]===T.id?p[m(157)](r,{kind:p[m(192)],flowerId:_}):a[m(294)]===p[m(221)]&&a[m(269)]===T.id&&p[m(157)](r,{kind:m(299),flowerId:_})}else{const D=_0x242153[p[m(212)](_0x57dfc9.length,1)],B=p[m(212)](D.order??1,_0x34515f.order??1);if(B>0){const T=p.cymcG(_0x56735e.scale??1,D.scale??1)/B;_0x24d06b=_0x3539aa(p.GippQ(_0x170be7[m(204)]??1,T),.3,3)}}},H=()=>{const _=w,m={wwrJy:function(D,B){return p[_t(283)](D,B)},Jefut:function(D,B){return p[_t(158)](D,B)},hexmS:p.wnHdo};if(!p[_(177)](a[_(294)],_(169))){if(a.kind===p.dQqvT)if(p.vBQbs(p[_(246)],p[_(242)])){p[_(166)](C,a.leafId);return}else{for(const D of _0x44cafc[_(232)])D[_(291)]=D.flowerIds.filter(B=>B!==_0x397bf3.flowerId);_0x3087a7.groups=_0x4de075[_(232)][_(310)](D=>D.flowerIds.length+D.leafIds[_(248)]>0)}if(p.hyFmd(a.kind,p[_(253)])){const D=a[_(285)];p[_(305)](i,B=>{const T=_;if(B.leaves=(B[T(261)]??[])[T(310)](A=>!D.includes(A.id)),B.groups){for(const A of B[T(232)])if(p[T(323)](p.MhVwp,p.MhVwp))A[T(285)]=A.leafIds[T(310)](S=>!D[T(186)](S));else{const S=(_0x28f0d6.groups??[])[T(189)](N=>N.id===_0x5b9e10);if(!S)return;S[T(330)]=[m.wwrJy(_0x23333e,S)];for(const N of _0x36bf3c)S.flowerIds[T(186)](N)||S[T(291)][T(292)](N)}B.groups=B[T(232)][T(310)](A=>A.flowerIds[T(248)]+A[T(285)].length>0)}},!0),p[_(157)](r,{kind:p.GbeLx});return}if(p[_(323)](a.kind,_(201)))if(p.vBQbs(p.AGYFv,p.eHtOq)){const{flowerIds:D,leafIds:B}=a;i(T=>{const A=_;if(T[A(227)]=T.flowers[A(310)](S=>!D.includes(S.id)),T.leaves=(T.leaves??[])[A(310)](S=>!B[A(186)](S.id)),T[A(232)]){for(const S of T[A(232)])S.flowerIds=S.flowerIds.filter(N=>!D[A(186)](N)),S[A(285)]=S[A(285)][A(310)](N=>!B.includes(N));T.groups=T[A(232)][A(310)](S=>S[A(291)].length+S[A(285)].length>0)}},!0),r({kind:p.GbeLx});return}else{const B=p.ANLUB(p.tCGZu(70,_0x195068.PI),180),T=p[_(260)](_0x186aa5[_(248)],1),A=T-1,S=p.PjGsv(T,1)?A/(T-1)*B:0;_0x40f07c=p[_(251)](_0x484de9*p.ANLUB(30,100),_0x530741[_(182)](S))}if(a[_(294)]===p.Szjtf){const D=a[_(291)];i(B=>{const T=_,A={eYYMK:function(S,N,I){return S(N,I)},ASnyI:T(169)};if(p[T(183)]===p[T(183)]){if(B[T(227)]=B[T(227)].filter(S=>!D.includes(S.id)),B.groups){if(T(168)===T(168)){for(const S of B[T(232)])S.flowerIds=S[T(291)][T(310)](N=>!D[T(186)](N));B[T(232)]=B[T(232)].filter(S=>S.flowerIds.length+S.leafIds.length>0)}else if(_0x27a8e5[T(227)]=_0x2bdeac.flowers.filter(S=>!_0x4cf384[T(186)](S.id)),_0x25d320.leaves=(_0x200158[T(261)]??[]).filter(S=>!_0x16d4e3[T(186)](S.id)),_0x31be45[T(232)]){for(const S of _0x460e47[T(232)])S.flowerIds=S[T(291)][T(310)](N=>!_0x254961[T(186)](N)),S.leafIds=S.leafIds[T(310)](N=>!_0x5a8154.includes(N));_0x400ee2.groups=_0x4cb939[T(232)][T(310)](S=>S[T(291)][T(248)]+S.leafIds[T(248)]>0)}}}else{A.eYYMK(_0x461978,S=>{const N=T;S.stencils=(S.stencils??[])[N(310)](I=>I.id!==_0x4990b1[N(191)])},!0),_0x30f3b2({kind:A[T(325)]});return}},!0),r({kind:p.GbeLx});return}if(p[_(264)](a[_(294)],p[_(267)])){i(D=>{const B=_;if(p.AYOkN("JrtEC",p.uOdvA)){if(!D[B(232)])return;D[B(232)]=D[B(232)][B(310)](T=>T.id!==a.groupId)}else _0x3ed869({kind:"flowers",flowerIds:_0x8b7cfd})},!0),r({kind:p.GbeLx});return}if(a.kind===_(241)){i(D=>{const B=_;D[B(170)]=(D.stencils??[]).filter(T=>T.id!==a.stencilId)},!0),p.KZAZY(r,{kind:_(169)});return}if(p[_(257)](a.kind,"petals")){r({kind:"flower",flowerId:a.flowerId});return}if(a[_(294)]==="flower"){p.JGYsS(i,D=>{const B=_;if(D[B(227)]=D.flowers[B(310)](T=>T.id!==a.flowerId),D.groups)if(m[B(307)](B(217),m.hexmS)){for(const T of D.groups)T[B(291)]=T[B(291)][B(310)](A=>A!==a.flowerId);D.groups=D[B(232)].filter(T=>T[B(291)][B(248)]+T.leafIds.length>0)}else _0xf52dd8[B(291)]=_0x25ae5f[B(291)][B(310)](T=>!_0xfdbbad[B(186)](T))},!0),p[_(174)](r,{kind:p.GbeLx});return}if(a.kind==="layer"||a.kind===p[_(221)]){const D=c.flowers[_(189)](T=>T.id===a.flowerId),B=D?[...D.layers].sort((T,A)=>T.order-A[_(287)])[0]?.id===a.layerId:!1;i(T=>{const A=_,S={lsJRQ:function(I,Z){return I(Z)},vTicC:function(I,Z,W){return p[_t(273)](I,Z,W)}},N=T.flowers.find(I=>I.id===a.flowerId);if(N&&(N.layers=N.layers[A(310)](I=>I.id!==a[A(269)]),N.layers[A(316)]()[A(249)]((I,Z)=>I[A(287)]-Z[A(287)])[A(331)]((I,Z)=>I.order=Z+1),p[A(151)](N[A(207)][A(248)],0))){const I=[...N[A(207)]].sort((ee,ie)=>ee.order-ie[A(287)]),Z=N[A(317)]??T.fabricSquareSize;p[A(305)](vs,I,Z);for(const ee of I){const ie=N[A(207)][A(189)](oe=>oe.id===ee.id);ie&&(ie[A(280)]=ee.radius)}if(B)if(A(244)!=="jptYm"){const ee=I[0];N.flowerDiameter=Math[A(165)](p.gVikq(rr,ee.radius,ee[A(204)]??1,Z))}else S[A(263)](_0x544d3a,{kind:A(227),flowerIds:_0x3fbb73});else{const ee=p.mfeVJ(N.placementMode,"")?ur(Z,N[A(207)].length,p.sMvWB,0):p[A(224)](aa,N[A(339)]??T.baseDiameter,Z,{layerCount:N[A(207)][A(248)]}).diameter;P0(I,Z,N.flowerDiameter||ee);for(const ie of I){const oe=N[A(207)][A(189)](fe=>fe.id===ie.id);oe&&(p[A(210)](p[A(153)],p[A(153)])?(oe.radius=ie.radius,oe[A(204)]=ie.scale):m.wwrJy(_0x39c9a9,{kind:"flower",flowerId:_0x1cd6e5}))}}const W=[...I].reverse();for(let ee=1;ee<W[A(248)];ee++)if(p[A(266)]===p[A(266)]){const ie=W[ee-1],oe=W[ee];oe.offsetAngle=p.OwcgV(tl,ie.petalCount,ie.offsetAngle,oe[A(197)])}else{const ie=_0x50377a.name.match(/^ (\d+)$/);return ie?S[A(312)](_0x51dfac,ie[1],10):0}}},!0),r({kind:"flower",flowerId:a.flowerId})}}},G=_=>({id:_.id,name:_[w(318)],flowerIds:[..._[w(291)]],leafIds:[..._.leafIds],rotation:_.rotation}),k=p[w(188)](te.useCallback,_=>{const m=w,D=kt(p[m(247)]);i(B=>{const T=m,A={MUaFz:function(I,Z,W){return p.JGYsS(I,Z,W)}};B.groups||(B[T(232)]=[]);const S=B[T(232)][T(231)](I=>{const Z=T,W=I.name[Z(343)](/^ (\d+)$/);return W?A[Z(154)](parseInt,W[1],10):0}),N=p.PjGsv(S.length,0)?Math[T(162)](...S)+1:1;B[T(232)][T(292)]({id:D,name:" "+N,flowerIds:[..._],leafIds:[],rotation:0})},!0),r({kind:p[m(267)],groupId:D}),o(B=>({...B,[D]:!0}))},[i,r,o]),R=p.vKspK(te.useCallback,(_,m)=>{const D=w,B={JaBAr:function(A,S){return A>S},heRSh:function(A,S){return p[_t(260)](A,S)}},T=p[D(209)](kt,p[D(247)]);p.Zeifx(i,A=>{const S=D;A.groups||(A[S(232)]=[]);const N=A[S(232)][S(231)](Z=>{const W=S,ee=Z[W(318)].match(/^ (\d+)$/);return ee?parseInt(ee[1],10):0}),I=B.JaBAr(N[S(248)],0)?B.heRSh(Math.max(...N),1):1;A.groups.push({id:T,name:" "+I,flowerIds:[..._],leafIds:[...m],rotation:0})},!0),r({kind:"group",groupId:T}),p[D(237)](o,A=>({...A,[T]:!0}))},[i,r,o]),U=te.useCallback(_=>{const m=w;i(D=>{const B=_t;if(!D.groups)return;const T=D.groups.find(A=>A.id===_);if(T)if(T[B(330)]&&T.previousGroups[B(248)]>0){D[B(232)]=D[B(232)][B(310)](A=>A.id!==_);for(const A of T[B(330)])D[B(232)].push({id:A.id,name:A[B(318)],flowerIds:[...A[B(291)]],leafIds:[...A.leafIds],rotation:A.rotation})}else D[B(232)]=D[B(232)][B(310)](A=>A.id!==_)},!0),p[m(179)](r,{kind:p[m(155)]})},[i,r]),q=p[w(219)](te.useCallback,_=>{const m=w;i(D=>{const B=_t;D.groups&&(D[B(232)]=D.groups.filter(T=>T.id!==_))},!0),p.kNxBA(r,{kind:m(169)})},[i,r]),J=te.useCallback(_=>{const m=w,D={DdblM:function(B,T){return p[_t(329)](B,T)},wOVoH:function(B,T){return p.ETDJY(B,T)},GrLUQ:function(B,T){return p[_t(342)](B,T)},lKqmC:function(B,T){return p[_t(329)](B,T)},itCks:function(B,T){return B===T},aSyia:m(149),OgBif:function(B,T){return B*T},uadlh:function(B,T){return p.UyJNs(B,T)},AHgHV:function(B,T,A){return B(T,A)},QtgfR:m(241),bQqqa:function(B,T){return B(T)},DaeHT:p.miDFS};if(p[m(184)](m(262),p.CKkro)){const B=D.DdblM(_0x4ea750.w,_0x1d2059.h),T=D[m(203)](520,_0x30bfd3),A=D.wOVoH(T,B),S=-_0x389f45.x/_0x4667ae,N=-_0x1e7307.y/_0xaee540,I=D[m(275)](S,D.lKqmC(A,2)),Z=D[m(275)](N,T/2),W=D[m(211)](_0x5c2bfd,m(149))?D[m(235)]:m(270),ee=D.OgBif(_0x161237[_0x4210e0][W][m(180)],_0x2500dd),ie=_0x5b0fd5(I,0,_0x3f8df5),oe=_0x200a44(Z-ee/2,0,_0x4c8354),fe={id:D.uadlh(_0xc735bb,"stl"),variant:_0x145459,pose:_0x343ceb,position:{x:ie,y:oe}};D[m(256)](_0x5ac98c,me=>{const he=m;me.stencils||(me[he(170)]=[]),me.stencils[he(292)](fe)},!0),_0x12bc7b({kind:D[m(265)],stencilId:fe.id})}else i(B=>{const T=m;if(p[T(216)]("PzOLj",p[T(196)]))D.bQqqa(_0x4db365,{kind:D[T(289)],flowerId:_0x15fde9[0]});else{if(!B[T(232)])return;const A=B.groups.find(I=>I.id===_);if(!A)return;const S=new Set(A[T(291)]),N=new Set(A[T(285)]);B.flowers=B.flowers.filter(I=>!S.has(I.id)),B[T(261)]=(B[T(261)]??[]).filter(I=>!N[T(335)](I.id)),B[T(232)]=B[T(232)][T(310)](I=>I.id!==_)}},!0),r({kind:p.GbeLx})},[i,r]),F=p.TysKG(te.useCallback,(_,m)=>{const D=w,B={XbSNJ:function(T,A){return T(A)}};if(p.ClLoo===p[D(282)]){const T=[...new _0x49cd41([..._0x266442,..._0x5bd722])],A=[...new _0x221333([..._0x32b920,..._0x573fa1])];_0x150afa({kind:D(201),flowerIds:T,leafIds:A})}else p.ivYBA(i,T=>{const A=D,S=(T.groups??[]).find(N=>N.id===_);if(S){S[A(330)]=[B.XbSNJ(G,S)];for(const N of m)S.flowerIds.includes(N)||S.flowerIds.push(N)}},!0),p[D(290)](r,{kind:p.bIUvd,groupId:_})},[i,r]),P=te.useCallback((_,m)=>{const D=w,B={VwFSk:"petals",jblqZ:function(T,A){return p.UyJNs(T,A)}};if(p.BdZkk(p.YdbgJ,p[D(303)]))_0x4bd6e5({kind:B[D(148)],flowerId:_0xb982ca,petals:[..._0x42d5a2,{layerId:_0x1323eb,index:_0x27fef3}]});else{const T=_[0],A=_[D(316)](1);p[D(296)](i,S=>{const N=D;if(!S.groups)return;const I=S.groups[N(189)](W=>W.id===T);if(!I)return;const Z=[];for(const W of _){const ee=S[N(232)][N(189)](ie=>ie.id===W);ee&&Z.push(B[N(327)](G,ee))}I.previousGroups=Z;for(const W of A){const ee=S[N(232)].find(ie=>ie.id===W);if(ee){for(const ie of ee[N(291)])I.flowerIds.includes(ie)||I.flowerIds[N(292)](ie);for(const ie of ee[N(285)])I[N(285)].includes(ie)||I[N(285)][N(292)](ie)}}for(const W of m)I.flowerIds.includes(W)||I.flowerIds.push(W);S[N(232)]=S.groups[N(310)](W=>!A.includes(W.id))},!0),p.dszyV(r,{kind:D(160),groupId:T}),o(S=>({...S,[T]:!0}))}},[i,r,o]),V=(_,m)=>{const D=w,B=p[D(329)](d.w,d.h),T=520/v,A=T*B,S=-y.x/v,N=p[D(146)](-y.y,v),I=p.rSUoe(S,A/2),Z=p.GippQ(N,p[D(178)](T,2)),W=p.DvcUV(m,p[D(336)])?"back":D(270),ee=p.ETDJY(l1[_][W][D(180)],nn),ie=p[D(150)](ye,I,0,b),oe=ye(p[D(212)](Z,p.atSzG(ee,2)),0,b),fe={id:p.uboES(kt,p[D(311)]),variant:_,pose:m,position:{x:ie,y:oe}};p[D(193)](i,me=>{const he=D;me.stencils||(me[he(170)]=[]),me.stencils[he(292)](fe)},!0),r({kind:p.fYQhB,stencilId:fe.id})},O=_=>{const m=w;p[m(334)](i,D=>{const B=m;D[B(170)]=(D[B(170)]??[]).filter(T=>T.id!==_)},!0),a.kind===p.fYQhB&&p.qdJfB(a.stencilId,_)&&r({kind:m(169)})},K=te.useCallback(_=>{const m=w,D={VmHIA:function(S,N){return p[_t(290)](S,N)},znyYE:p.Szjtf,ytISt:p.GbeLx,tLUfg:function(S,N){return S===N},ozBnW:function(S,N,I,Z,W){return p.KLBVe(S,N,I,Z,W)},VyqRX:function(S,N,I,Z){return S(N,I,Z)}},B=(c[m(232)]??[])[m(189)](S=>S.flowerIds[m(186)](_)),T=B?B.flowerIds:[_],A=B?B.leafIds:[];if(a.kind===p[m(333)]){const S=a[m(291)];if(S.includes(_)){const N=new Set(T),I=S[m(310)](Z=>!N[m(335)](Z));p.UuzGE(I.length,0)?r({kind:p.GbeLx}):I.length===1?p.uboES(r,{kind:p.miDFS,flowerId:I[0]}):p.qEXkA(m(278),p.HwUyz)?D.VmHIA(_0x315717,{kind:D[m(306)],flowerIds:_0x2032a7}):r({kind:"flowers",flowerIds:I})}else{const N=[...new Set([...S,...T])];if(p.LrjTe(A.length,0))p.ddtUA(p.orYfW,p[m(225)])?p[m(166)](r,{kind:"mixed",flowerIds:N,leafIds:A}):_0x4f6511(_0x47c521);else if(p.EAAXi(p[m(332)],"rBzeJ"))r({kind:"flowers",flowerIds:N});else{const I=_0x37339a.groups.find(Z=>Z.id===_0x4c98da);I&&_0x2d2305.push(_0x165c3d(I))}}}else if(p[m(323)](a.kind,p[m(192)])||p.AKyXS(a.kind,"layer")||p[m(152)](a[m(294)],p[m(221)])||a[m(294)]==="petals")if(p.yQCvW!==p[m(271)])_0x3e419a(S=>{const N=m;if(!S[N(232)])return;const I=S.groups[N(189)](ee=>ee.id===_0x2d7aa9);if(!I)return;const Z=new _0xc10fe6(I[N(291)]),W=new _0x181144(I.leafIds);S.flowers=S[N(227)].filter(ee=>!Z.has(ee.id)),S[N(261)]=(S.leaves??[])[N(310)](ee=>!W.has(ee.id)),S.groups=S.groups[N(310)](ee=>ee.id!==_0x33b06f)},!0),_0x2cd285({kind:eKyaxB.ytISt});else{const S=a[m(250)];if(S===_)return;const N=(c.groups??[]).find(ie=>ie[m(291)][m(186)](S)),I=N?N[m(291)]:[S],Z=N?N[m(285)]:[],W=[...new Set([...I,...T])],ee=[...new Set([...Z,...A])];if(p.PjGsv(ee.length,0))p.knNMO(r,{kind:p[m(215)],flowerIds:W,leafIds:ee});else if(W[m(248)]===1)p[m(172)](r,{kind:"flower",flowerId:W[0]});else if(p[m(233)]("gmLNA","VQzND")){const ie=eKyaxB.tLUfg(_0x1fcab2[m(147)],"")?eKyaxB.ozBnW(_0x31952f,_0x58b5af,_0x277e1a[m(207)][m(248)],"uniform",0):eKyaxB[m(238)](_0x4e6c12,_0x44c7a8[m(339)]??_0xb92122.baseDiameter,_0x4ecb61,{layerCount:_0x9fc716[m(207)][m(248)]})[m(173)];_0x5d59df(_0x38fd71,_0x40c2cd,_0x4e40ab[m(309)]||ie);for(const oe of _0x44c9e5){const fe=_0x40c79a[m(207)][m(189)](me=>me.id===oe.id);fe&&(fe.radius=oe.radius,fe.scale=oe.scale)}}else p.lbjSX(r,{kind:p.Szjtf,flowerIds:W})}else if(a[m(294)]==="group"){const S=(c[m(232)]??[]).find(ee=>ee.id===a[m(239)]),N=S?S[m(291)]:[],I=S?S.leafIds:[];if(N[m(186)](_))return;const Z=[...new Set([...N,...T])],W=[...new Set([...I,...A])];p[m(337)](W.length,0)?p.tYxRg(r,{kind:"mixed",flowerIds:Z,leafIds:W}):p[m(284)](r,{kind:m(227),flowerIds:Z})}else if(a.kind===p[m(171)]){const S=(c.groups??[])[m(189)](ee=>ee.leafIds.includes(a.leafId)),N=S?S.flowerIds:[],I=S?S[m(285)]:[a[m(163)]],Z=[...new Set([...N,...T])],W=[...new Set([...I,...A])];W.length>0?r({kind:p.dOaaQ,flowerIds:Z,leafIds:W}):r({kind:p[m(333)],flowerIds:Z})}else if(a.kind===p[m(253)]){const S=[...new Set(T)],N=[...new Set([...a[m(285)],...A])];r({kind:"mixed",flowerIds:S,leafIds:N})}else if(p.hyFmd(a.kind,"mixed"))if(p[m(194)](m(167),p.cqfey))_0x4d8f4d.flowerIds.includes(_0x1fac76)||_0x14e03d[m(291)].push(_0x429b7c);else{const S=a.flowerIds,N=a.leafIds;if(S.includes(_)){const I=new Set(T),Z=new Set(A),W=S[m(310)](ie=>!I[m(335)](ie)),ee=N[m(310)](ie=>!Z[m(335)](ie));W[m(248)]===0&&p.KKmQk(ee[m(248)],0)?r({kind:"project"}):W.length===0&&ee.length===1?p.knNMO(r,{kind:m(326),leafId:ee[0]}):p[m(210)](W[m(248)],0)?p.UyJNs(r,{kind:p.fmicA,leafIds:ee}):p.KKmQk(ee[m(248)],0)&&W[m(248)]===1?r({kind:"flower",flowerId:W[0]}):p[m(223)](ee.length,0)?r({kind:"flowers",flowerIds:W}):p[m(187)](r,{kind:"mixed",flowerIds:W,leafIds:ee})}else{const I=[...new Set([...S,...T])],Z=[...new Set([...N,...A])];r({kind:m(201),flowerIds:I,leafIds:Z})}}else if(A[m(248)]>0)r({kind:"mixed",flowerIds:T,leafIds:A});else if(p.OIOfB(T[m(248)],1))if(m(258)===m(259)){if(_0x4e7514.flowers=(_0x2ba9d6[m(227)]||[]).filter(S=>S.id!==_0x368b2d),_0x4f0ef1[m(232)]){for(const S of _0x177cae[m(232)])S[m(291)]=S[m(291)][m(310)](N=>N!==_0xc3ef18);_0x439f18[m(232)]=_0x1a2619.groups.filter(S=>S.flowerIds[m(248)]+S.leafIds[m(248)]>0)}}else r({kind:m(299),flowerId:T[0]});else r({kind:p[m(333)],flowerIds:T})},[a,r,c.groups]);return{deleteFlowerById:z,deleteLayerById:g,computeNewOuterRadius:M,addOuterLayer:h,deleteOuterLayer:E,deleteSelected:H,groupSelectedFlowers:k,groupSelectedMixed:R,ungroupFlowers:U,ungroupAll:q,deleteGroup:J,addToGroup:F,mergeGroups:P,addStencil:V,deleteStencil:O,handleShiftFlowerSelect:K,togglePetalSelection:(_,m,D,B)=>{const T=w;if(p[T(267)],!B){p.abjgm(r,{kind:T(220),flowerId:_,layerId:m,index:D});return}const A=m+":"+D;if(p[T(152)](a.kind,T(164))&&p[T(264)](a.flowerId,_)){const S=a.petals||[];if(S.some(I=>I.layerId+":"+I.index===A))if(T(236)!==p[T(268)]){const I=S.filter(Z=>Z.layerId+":"+Z[T(281)]!==A);I[T(248)]===0?r({kind:p.miDFS,flowerId:_}):I.length===1?r({kind:p.IlTZG,flowerId:_,layerId:I[0].layerId,index:I[0][T(281)]}):p[T(338)](r,{kind:"petals",flowerId:_,petals:I})}else MwgzlK.liamo(_0x349c17,I=>{const Z=T,W=(I.groups??[])[Z(189)](ee=>ee.id===_0x4e9ed1);if(W){W[Z(330)]=[_0x3e7e12(W)];for(const ee of _0x44d2e5)W.flowerIds[Z(186)](ee)||W[Z(291)][Z(292)](ee)}},!0),MwgzlK.vdveM(_0x9fc3fe,{kind:MwgzlK[T(200)],groupId:_0x2570cd});else p[T(195)]!==T(255)?p.TKVkl(_0x388e21,{kind:p[T(215)],flowerIds:_0x492eca,leafIds:_0x17a975}):r({kind:p.JnqNC,flowerId:_,petals:[...S,{layerId:m,index:D}]})}else if(p.TYBju(a[T(294)],p.IlTZG)&&p.bgJLp(a[T(250)],_)){const S={layerId:a.layerId,index:a[T(281)]},N={layerId:m,index:D};if(S.layerId+":"+S.index===A)return;p.zgsau(r,{kind:p[T(243)],flowerId:_,petals:[S,N]})}else K(_)}}}(function(c,i){const a=Xt,r=c();for(;;)try{if(parseInt(a(333))/1*(parseInt(a(344))/2)+parseInt(a(341))/3*(-parseInt(a(366))/4)+parseInt(a(350))/5*(parseInt(a(311))/6)+parseInt(a(317))/7*(parseInt(a(352))/8)+parseInt(a(327))/9*(parseInt(a(308))/10)+-parseInt(a(283))/11*(-parseInt(a(359))/12)+-parseInt(a(299))/13===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(J0,366972);function Xt(c,i){c=c-283;const a=J0();let r=a[c];if(Xt.bRTjux===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};Xt.IUHcSN=f,Xt.VqjtQI={},Xt.bRTjux=!0}const o=a[0],v=c+o,y=Xt.VqjtQI[v];if(y)r=y;else{const d=function(b){this.DcFHOw=b,this.oQuVnf=[1,0,0],this.tswsRN=function(){return"newState"},this.uCZvYj="\\w+ *\\(\\) *{\\w+ *",this.GIuYxt=`['|"].+['|"];? *}`};d.prototype.SnbsKf=function(){const b=new RegExp(this.uCZvYj+this.GIuYxt),C=b.test(this.tswsRN.toString())?--this.oQuVnf[1]:--this.oQuVnf[0];return this.iCtdeO(C)},d.prototype.iCtdeO=function(b){return~b?this.OUvdUT(this.DcFHOw):b},d.prototype.OUvdUT=function(b){for(let C=0,w=this.oQuVnf.length;C<w;C++)this.oQuVnf.push(Math.round(Math.random())),w=this.oQuVnf.length;return b(this.oQuVnf[0])},new d(Xt).SnbsKf(),r=Xt.IUHcSN(r),Xt.VqjtQI[v]=r}return r}const gb=(function(){const c={htsxQ:function(a,r,f){return a(r,f)},nNdSX:function(a,r){return a===r},REGHG:"RoflT",HHGRW:"tpezK"};let i=!0;return function(a,r){const f=Xt,o={OrrPw:function(v,y){return c[Xt(365)](v,y)}};if(c[f(288)]!==c.HHGRW){const v=i?function(){const y=f;if(o.OrrPw(y(314),y(337)))_0x3875df.leafIds.includes(_0x2e9ad6)||_0x1b322b[y(304)][y(330)](_0x17e93b);else if(r){const d=r.apply(a,arguments);return r=null,d}}:function(){};return i=!1,v}else{const v=_0x37aeef.name.match(/^ (\d+)$/);return v?c.htsxQ(_0x5bf3ee,v[1],10):0}}})(),qs=gb(void 0,function(){const c=Xt,i={WNnid:"(((.+)+)+)+$"};return qs.toString().search(i[c(320)])[c(361)]()[c(354)](qs).search(i.WNnid)});qs();function vb({project:c,applyUpdate:i,selection:a,setSelection:r}){const f=Xt,o={WwCDD:function(g,h){return g===h},RqzBe:function(g,h){return g(h)},zdZmY:function(g,h){return g===h},gTBuD:f(332),HFtRg:f(356),admSC:"flowers",ciTuA:"XbAkb",iaXPx:function(g,h){return g===h},NliPt:function(g,h,E){return g(h,E)},QDLwg:function(g,h){return g===h},iJODf:f(336),YhTbp:function(g,h){return g>h},elqMU:function(g,h){return g(h)},chiEL:f(349),YAlrA:function(g,h){return g===h},zqGOa:function(g,h){return g(h)},FswKq:f(323),qZXka:function(g,h){return g!==h},aFmQR:f(293),xIRYj:function(g,h){return g>h},BCthp:function(g,h){return g===h},nwmsX:f(302),jaWQU:f(287),UEXNk:function(g,h){return g===h},cOOhT:function(g,h){return g===h},yCVTE:function(g,h){return g===h},yRkoq:function(g,h){return g(h)},BpdAQ:function(g,h){return g===h},SGUGA:function(g,h){return g(h)},wQReN:function(g,h){return g(h)},keJiN:function(g,h){return g+h},suHNP:function(g,h,E){return g(h,E)},cneFJ:function(g,h){return g>h},lMOPW:function(g,h){return g===h},ljFtM:function(g,h){return g(h)},Bakny:function(g,h){return g(h)},qyVbQ:f(307),SrutL:"project",uGqCn:function(g,h,E){return g(h,E)},bvKjj:function(g,h){return g!==h},IBRoU:"ATKPT",dfbTp:function(g,h,E){return g(h,E)},JYkQw:function(g,h,E){return g(h,E)}},v=g=>{const h=f,E={lzvaz:function(H,G){return H!==G},HviqT:o[h(295)]};if(o.iaXPx("xkzXa","xkzXa"))o.NliPt(i,H=>{const G=h,k={Ovvsm:function(R,U){return R(U)},eTAvX:"mixed"};if(H.leaves=(H.leaves??[]).filter(R=>R.id!==g),H[G(319)]){for(const R of H[G(319)])E[G(315)](E.HviqT,E.HviqT)?k[G(285)](_0x3c80c4,{kind:k.eTAvX,flowerIds:_0x5cfa80,leafIds:_0xd6444c}):R[G(304)]=R[G(304)][G(294)](U=>U!==g);H.groups=H[G(319)].filter(R=>R.flowerIds[G(309)]+R[G(304)][G(309)]>0)}},!0),r({kind:h(363)});else{const H=new _0x51c99c(_0x2f26b9),G=new _0x1cd327(_0x5d32c6),k=_0x58f6e8[h(294)](U=>!H[h(291)](U)),R=_0x1921bc[h(294)](U=>!G.has(U));o[h(355)](R.length,0)&&k.length===0?o.RqzBe(_0x209e09,{kind:"project"}):o[h(364)](R[h(309)],0)&&k[h(309)]===1?_0x2b19e7({kind:"leaf",leafId:k[0]}):o[h(364)](R.length,0)?_0x1d910a({kind:o[h(289)],leafIds:k}):k[h(309)]===0&&R.length===1?o[h(322)](_0xab3119,{kind:o.HFtRg,flowerId:R[0]}):k.length===0?_0x56ea69({kind:o.admSC,flowerIds:R}):o[h(322)](_0x21d1ab,{kind:"mixed",flowerIds:R,leafIds:k})}},y=te.useCallback(g=>{const h=f,E=(c[h(319)]??[])[h(325)](k=>k[h(304)].includes(g)),H=E?E[h(304)]:[g],G=E?E.flowerIds:[];if(a.kind===h(332)){const k=a.leafIds;if(k[h(306)](g)){const R=new Set(H),U=k.filter(q=>!R[h(291)](q));o[h(313)](U[h(309)],0)?r({kind:"project"}):U[h(309)]===1?o.RqzBe(r,{kind:o.iJODf,leafId:U[0]}):o[h(322)](r,{kind:o.gTBuD,leafIds:U})}else{const R=[...new Set([...k,...H])];o[h(296)](G[h(309)],0)?o[h(322)](r,{kind:h(349),flowerIds:G,leafIds:R}):o[h(290)](r,{kind:o.gTBuD,leafIds:R})}}else if(o.WwCDD(a[h(362)],"leaf")){if(a.leafId===g)return;const k=(c.groups??[])[h(325)](F=>F.leafIds.includes(a[h(342)])),R=k?k.leafIds:[a.leafId],U=k?k.flowerIds:[],q=[...new Set([...R,...H])],J=[...new Set([...U,...G])];o[h(296)](J.length,0)?r({kind:o.chiEL,flowerIds:J,leafIds:q}):o.YAlrA(q.length,1)?o[h(322)](r,{kind:o[h(328)],leafId:q[0]}):o.zqGOa(r,{kind:h(332),leafIds:q})}else if(o[h(351)](a[h(362)],o.FswKq))if(o.qZXka(h(293),o[h(292)])){const k=(_0x37a9d1[h(319)]??[]).find(R=>R.id===_0x2902d5);k&&!k.leafIds.includes(_0x5de5ba)&&k[h(304)][h(330)](_0x6cf63b)}else{const k=(c[h(319)]??[])[h(325)](F=>F.id===a.groupId),R=k?k[h(304)]:[],U=k?k.flowerIds:[];if(R[h(306)](g))return;const q=[...new Set([...R,...H])],J=[...new Set([...U,...G])];o.xIRYj(J[h(309)],0)?r({kind:"mixed",flowerIds:J,leafIds:q}):r({kind:h(332),leafIds:q})}else if(o.BCthp(a[h(362)],o.HFtRg)||o.WwCDD(a.kind,h(305))||a[h(362)]==="petal"||o[h(351)](a.kind,o.nwmsX)){const k=a.flowerId,R=(c.groups??[])[h(325)](P=>P[h(286)].includes(k)),U=R?R.flowerIds:[k],q=R?R[h(304)]:[],J=[...new Set([...U,...G])],F=[...new Set([...q,...H])];r({kind:"mixed",flowerIds:J,leafIds:F})}else if(a[h(362)]===o[h(316)]){const k=[...new Set([...a[h(286)],...G])],R=[...new Set(H)];o[h(284)](r,{kind:o.chiEL,flowerIds:k,leafIds:R})}else if(o[h(351)](a[h(362)],o.chiEL))if(o[h(364)](o[h(300)],h(287))){const k=a.flowerIds,R=a.leafIds;if(R[h(306)](g)){const U=new Set(H),q=new Set(G),J=R.filter(P=>!U.has(P)),F=k[h(294)](P=>!q.has(P));o[h(351)](F.length,0)&&o[h(353)](J[h(309)],0)?r({kind:"project"}):F.length===0&&o.cOOhT(J.length,1)?o.elqMU(r,{kind:h(336),leafId:J[0]}):F[h(309)]===0?r({kind:h(332),leafIds:J}):o[h(339)](J[h(309)],0)&&o.zdZmY(F[h(309)],1)?o[h(298)](r,{kind:h(356),flowerId:F[0]}):o.BpdAQ(J.length,0)?r({kind:o.admSC,flowerIds:F}):o[h(290)](r,{kind:"mixed",flowerIds:F,leafIds:J})}else{const U=[...new Set([...k,...G])],q=[...new Set([...R,...H])];o.SGUGA(r,{kind:"mixed",flowerIds:U,leafIds:q})}}else _0x532bcd(k=>{const R=h,U=(k[R(319)]??[])[R(325)](q=>q.id===_0x239033);U&&!U[R(304)].includes(_0x2e67c3)&&U[R(304)].push(_0x4fcada)},!0);else G[h(309)]>0?h(321)!==h(324)?r({kind:o.chiEL,flowerIds:G,leafIds:H}):_0x3ccb22.leafIds=_0x265e32[h(304)][h(294)](k=>k!==_0x399882):o.BCthp(H[h(309)],1)?o[h(297)](r,{kind:o.iJODf,leafId:H[0]}):r({kind:o.gTBuD,leafIds:H})},[a,r,c.groups]),d=g=>({id:g.id,name:g[f(338)],flowerIds:[...g[f(286)]],leafIds:[...g.leafIds],rotation:g.rotation}),b=o.dfbTp(te.useCallback,g=>{const h=f,E=kt("grp"),H=(c.groups??[]).map(k=>{const R=Xt,U=k[R(338)][R(310)](/^ (\d+)$/);return U?o.NliPt(parseInt,U[1],10):0}),G=H[h(309)]>0?o.keJiN(Math.max(...H),1):1;o.suHNP(i,k=>{const R=h;k.groups||(k[R(319)]=[]),k[R(319)].push({id:E,name:R(326)+G,flowerIds:[],leafIds:[...g],rotation:0})},!0),r({kind:h(323),groupId:E})},[c.groups,i,r]),C=te.useCallback((g,h)=>{i(E=>{const H=Xt,G=(E.groups??[])[H(325)](k=>k.id===g);if(G){G.previousGroups=[d(G)];for(const k of h)G[H(304)].includes(k)||G[H(304)][H(330)](k)}},!0),r({kind:o.FswKq,groupId:g})},[i,r]),w=o[f(335)](te.useCallback,(g,h)=>{const E=f,H={rNjlf:function(R,U){return R===U},Xsspc:function(R,U){return R(U)}},G=g[0],k=g[E(360)](1);i(R=>{const U=E;if(U(346)!=="lYMXY")_0x6df3e8.length>0?_0x3a0bb2({kind:U(349),flowerIds:_0x15c3a6,leafIds:_0x117695}):TnPuLc.rNjlf(_0x5f0bd9.length,1)?TnPuLc.Xsspc(_0x1a1598,{kind:U(336),leafId:_0x49c2ba[0]}):TnPuLc[U(318)](_0x522f28,{kind:"leaves",leafIds:_0x18a460});else{if(!R[U(319)])return;const q=R.groups.find(F=>F.id===G);if(!q)return;const J=[];for(const F of g){const P=R[U(319)][U(325)](V=>V.id===F);P&&J[U(330)](H.Xsspc(d,P))}q.previousGroups=J;for(const F of k){const P=R[U(319)][U(325)](V=>V.id===F);if(P){for(const V of P[U(304)])q.leafIds.includes(V)||q.leafIds.push(V);for(const V of P[U(286)])q.flowerIds.includes(V)||q.flowerIds[U(330)](V)}}for(const F of h)q[U(304)].includes(F)||q.leafIds[U(330)](F);R[U(319)]=R[U(319)].filter(F=>!k.includes(F.id))}},!0),o.zqGOa(r,{kind:"group",groupId:G})},[i,r]),p=te.useCallback(g=>{const h=f;if(h(334)!==o[h(343)])i(E=>{const H=h;if(!E[H(319)])return;const G=E.groups[H(325)](k=>k.id===g);if(G)if(G.previousGroups&&o[H(348)](G[H(357)][H(309)],0)){E[H(319)]=E.groups.filter(k=>k.id!==g);for(const k of G.previousGroups)E.groups.push({id:k.id,name:k.name,flowerIds:[...k.flowerIds],leafIds:[...k.leafIds],rotation:k.rotation})}else E.groups=E[H(319)][H(294)](k=>k.id!==g)},!0),o.ljFtM(r,{kind:o[h(358)]});else{const E=_0x12afde[h(286)],H=_0x3ef25a.leafIds;if(H.includes(_0x34e643)){const G=new _0x1d7224(_0x5bd4e0),k=new _0x2a718e(_0x36720e),R=H[h(294)](q=>!G.has(q)),U=E[h(294)](q=>!k.has(q));U.length===0&&o.cOOhT(R.length,0)?o.SGUGA(_0x225092,{kind:"project"}):o[h(301)](U.length,0)&&o[h(303)](R[h(309)],1)?o.elqMU(_0x59974b,{kind:o[h(328)],leafId:R[0]}):U[h(309)]===0?_0x3f9d14({kind:o.gTBuD,leafIds:R}):R.length===0&&o.UEXNk(U[h(309)],1)?o.ljFtM(_0x4a2875,{kind:o[h(312)],flowerId:U[0]}):R.length===0?_0x2a7a31({kind:o.admSC,flowerIds:U}):_0x16aeb2({kind:h(349),flowerIds:U,leafIds:R})}else{const G=[...new _0x4b6528([...E,..._0x1516f6])],k=[...new _0x27f4f8([...H,..._0x2cfb7c])];o[h(345)](_0x34eb74,{kind:o.chiEL,flowerIds:G,leafIds:k})}}},[i,r]),M=o[f(347)](te.useCallback,(g,h)=>{const E=f;o[E(347)](i,H=>{const G=E,k=(H[G(319)]??[])[G(325)](R=>R.id===h);k&&!k.leafIds.includes(g)&&k.leafIds.push(g)},!0)},[i]),z=te.useCallback(g=>{i(h=>{const E=Xt;if(h[E(319)]){for(const H of h.groups)if(o[E(340)](E(329),o[E(331)]))H.leafIds=H[E(304)][E(294)](G=>G!==g);else{if(!_0x5d4216.groups)return;const G=_0x14c9b6.groups.find(k=>k.id===_0x5d5e74);if(!G)return;if(G[E(357)]&&FIndrj.eFNGV(G[E(357)].length,0)){_0x4a2e36.groups=_0x278b4b[E(319)].filter(k=>k.id!==_0x4644bf);for(const k of G[E(357)])_0x66c38c[E(319)][E(330)]({id:k.id,name:k.name,flowerIds:[...k.flowerIds],leafIds:[...k[E(304)]],rotation:k.rotation})}else _0x49a0af[E(319)]=_0x57fc35[E(319)].filter(k=>k.id!==_0x550567)}h[E(319)]=h.groups.filter(H=>H[E(286)].length+H.leafIds.length>0)}},!0)},[i]);return{deleteLeafById:v,handleShiftLeafSelect:y,groupSelectedLeaves:b,ungroupLeaves:p,addLeafToGroup:M,removeLeafFromGroup:z,addLeavesToGroup:C,mergeLeafGroups:w}}function J0(){const c=["z3jVDxa","qKHVtMm","zMLUza","44kW44oR44o844oxia","owLkv09dAa","AuPprgy","vgPYCMS","ChvZAa","sujsB1u","BgvHDMvZ","mtfjEwjkwue","uejWwwK","sLLRuxC","BgvHzG","svbuueS","BMfTzq","Eunwveu","yNzlAMO","mZyZuwLYv0fc","BgvHzKLK","CxLwyLe","mteYody2swLRrwzV","qMfRBNK","BfLnwfK","DuDXq24","y25LrKO","BwL4zwq","ndG5nJy1B2fmChnQ","AwfyuhG","mtm2ywnXAwL4","vuvytMS","y29UC3rYDwn0B3i","v3Ddreq","zMXVD2vY","ChjLDMLVDxnhCM91Chm","u3j1DeW","mtiWBg9eBhz1","C2XPy2u","Dg9tDhjPBMC","A2LUza","ChjVAMvJDa","EMrABvK","BK5Ku1G","mtm5odH0yvzsrMe","nJG4mti3qLjpshHn","ENfht2e","t3z2C20","zMXVD2vYswrZ","CKLiu2O","uKvhseC","z1rcDuq","zwXXtvu","AgfZ","yuzTuvi","BwP2qLO","zMLSDgvY","y2LuDue","wwHuyNa","D1fszu4","EvjRB3e","mJe1nZe5nZLZtu5HDM8","AMfxuvu","Be1pufC","Cgv0ywXZ","qNbKqve","BgvHzKLKCW","Bgf5zxi","Aw5JBhvKzxm","rvPIuwO","ndmZmZuXmgvssgvSyq","BgvUz3rO","Bwf0y2G","mZbXv2rtAKG","sez0uMC","uurmD2C","uhDHuem","BhP2yxO","ywrTu0m","mte1mZuZrLz6Cw1q","whnZCgm","z3jVDxbZ","v05UAwq","B3nZzMu","uNf6qMu"];return J0=function(){return c},J0()}(function(c,i){const a=Bn,r=c();for(;;)try{if(parseInt(a(354))/1*(-parseInt(a(369))/2)+parseInt(a(326))/3*(-parseInt(a(368))/4)+parseInt(a(348))/5+-parseInt(a(351))/6*(-parseInt(a(325))/7)+parseInt(a(344))/8*(-parseInt(a(356))/9)+-parseInt(a(330))/10+parseInt(a(333))/11*(parseInt(a(374))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(V0,933393);const yb=(function(){let c=!0;return function(i,a){const r=c?function(){const f=Bn;if(a){const o=a[f(331)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Is=yb(void 0,function(){const c=Bn,i={pZxlD:"(((.+)+)+)+$"};return Is[c(335)]()[c(322)]("(((.+)+)+)+$").toString()[c(329)](Is).search(i[c(370)])});Is();function Bn(c,i){c=c-311;const a=V0();let r=a[c];if(Bn.NYllAs===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};Bn.VUdCbz=f,Bn.LWbdkq={},Bn.NYllAs=!0}const o=a[0],v=c+o,y=Bn.LWbdkq[v];if(y)r=y;else{const d=function(b){this.IicZbH=b,this.MuEZCw=[1,0,0],this.fNqoAF=function(){return"newState"},this.byDhaW="\\w+ *\\(\\) *{\\w+ *",this.hRjQjN=`['|"].+['|"];? *}`};d.prototype.eGWNLw=function(){const b=new RegExp(this.byDhaW+this.hRjQjN),C=b.test(this.fNqoAF.toString())?--this.MuEZCw[1]:--this.MuEZCw[0];return this.yFWQdn(C)},d.prototype.yFWQdn=function(b){return~b?this.PEZtdQ(this.IicZbH):b},d.prototype.PEZtdQ=function(b){for(let C=0,w=this.MuEZCw.length;C<w;C++)this.MuEZCw.push(Math.round(Math.random())),w=this.MuEZCw.length;return b(this.MuEZCw[0])},new d(Bn).eGWNLw(),r=Bn.VUdCbz(r),Bn.LWbdkq[v]=r}return r}function V0(){const c=["ntG0ntHlvw1RDhO","vwXIs3K","yLjuu2y","mw9qAhrIwq","CLn0tMO","ovrJv0XkBG","qLr3Dey","C3bSAxq","DuTevwe","rM1Mz0u","vNrRtwK","BNvUuNi","zMXVD2vYCW","zMX3","y21Rv0O","CgfSzxr0zq","C2L6zu1Vzgu","nhr0CNP3rW","ndK4odu0rgv2zgrx","CfP4Beq","BMrvBeK","vM9twgi","rMnYCu8","nJu3mJm2ngn1rNnrtG","C2L6zvn0zxbnBq","Bgf5zxjdB3vUDa","zgLHBwv0zxi","z3zgsMi","svjurKO","C2nHBgu","wwHUs2O","zMXVD2vYrgLHBwv0zxi","CgXHy2vTzw50tw9Kzq","tgf5zxiG","ANfbruO","ugPxC1u","C29YDa","y29Z","Bgf5","y29SB3jjza","C2vHCMnO","zMLUza","EKTZwg0","ntC0rvjHCKjZ","mtm3nZa5m01NCgHzua","svvqrMC","zMfICMLJu3f1yxjLu2L6zq","y29UC3rYDwn0B3i","mtm5nJC5mhLlt1nsCG","yxbWBhK","yMfZzurPyw1LDgvY","mtfWC2nuCvO","qNjOzLi","Dg9tDhjPBMC","CM91BMq","nhWYFdb8mxWZ","5lI444gK44g+44g/","zfr4A04","DMT1t1m","DwzuuuC","5y2k44gp44gz","AKj6BNq","nZG0mZq5nLPkzefcsW","BgvUz3rO","u3LbANa","wNvqufu","nZa3nJCYmezmC3bKsq","Dw5PzM9YBq","quLRtwS"];return V0=function(){return c},V0()}function pb({project:c,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:f,pan:o,stageSize:v,CANVAS_MAX_SVG:y}){const d=Bn,b={uKDUa:function(h,E){return h===E},jBznt:function(h,E){return h(E)},dTxkN:d(342),Ieere:function(h,E){return h!==E},zKsXm:function(h,E){return h(E)},ufTQG:function(h,E){return h<E},SdLXK:"Jeelf",cmkWJ:"Swmci",QranX:function(h,E){return h!==E},vkuOS:function(h,E){return h/E},VJDYw:function(h,E){return h===E},FcrqO:function(h,E){return h>E},IRTFJ:function(h,E){return h*E},UlbKy:function(h,E){return h-E},ZuPPU:function(h,E){return h*E},rStNj:function(h,E){return h+E},ndUlI:function(h,E,H,G){return h(E,H,G)},VtkMi:d(320),PjWsU:"col_white",bRTSf:function(h,E){return h===E},lAhii:function(h,E,H,G,k){return h(E,H,G,k)},BrhfR:function(h,E){return h/E},najUH:function(h,E){return h/E},KQrsY:function(h,E){return h/E},FOfMy:function(h,E){return h/E},IUPFg:function(h,E){return h<E},AIkMk:d(337),QpBzW:function(h,E,H,G){return h(E,H,G)},VoSXb:function(h,E){return h(E)},pTJun:function(h,E){return h+E},BYQhs:"",jqAEJ:function(h,E){return h(E)},FmfgE:"flower",gvFJb:function(h,E){return h(E)},bFDLX:d(349)},[C,w]=b[d(378)](te.useState,!1),[p,M]=te.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c[d(332)],layerCount:1,petalCount:6,petalType:d(338),sizeMode:b.bFDLX,sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:C,setShowAddFlowerDialog:w,addFlowerOpts:p,setAddFlowerOpts:M,addFlower:()=>{const h=d,E={SyAjp:function(k,R){return b.uKDUa(k,R)},XbyZF:h(312)},H=c[h(328)],G=c.baseDiameter;b[h(343)](M,k=>{const R=h,U={nunRr:function(J,F,P,V){return J(F,P,V)}},q={...k,fabricSquareSize:H,baseDiameter:G};if(E[R(346)](q[R(314)],R(342)))if(E.SyAjp(E.XbyZF,E.XbyZF))q[R(313)]=aa(G,H,{layerCount:q[R(376)],sizeMode:q.sizeMode,sizeStepMm:q[R(375)]}).diameter;else{const J=_0x4a317a/_0x556078;_0x4b657f=U[R(362)](_0xe02171,_0x2ce994+_0x4fc902*J,.3,3)}else q[R(313)]=ur(H,q.layerCount,q.sizeMode,q[R(375)]);return q}),w(!0)},confirmAddFlower:()=>{const h=d;if(b.dTxkN,b.Ieere("xVqSp","eWJLI")){const{placementMode:E,layerCount:H,petalCount:G,petalType:k,sizeMode:R,sizeStepMm:U}=p,q=p[h(328)],{length:J}=b.zKsXm(Bt,q),F=.28,P=Math[h(336)](J*F*10)/10,V=[];let O=P,K=0;for(let ie=0;b[h(341)](ie,H);ie++)if(b.SdLXK!==b[h(365)]){const oe=ie,fe=1;let me;if(R===h(349))me=fe;else if(b.QranX("uVEAu","UUBdi")){const Ie=b[h(340)](U,q);me=ye(fe+oe*Ie,.3,3)}else{const Ie={..._0x178311,fabricSquareSize:_0x3f2e17,baseDiameter:_0x367900};return hunHBz.BRmBp(Ie.placementMode,h(342))?Ie[h(313)]=hunHBz.uQbPY(_0x2e24b0,_0x23331c,_0x15933a,{layerCount:Ie.layerCount,sizeMode:Ie[h(367)],sizeStepMm:Ie.sizeStepMm}).diameter:Ie[h(313)]=_0xc52e82(_0x1c49cd,Ie.layerCount,Ie.sizeMode,Ie.sizeStepMm),Ie}let he;if(b[h(359)](ie,0))he=P;else{const Ie=b.VJDYw(R,"gradual")?ye(1+(ie-1)*U/q,.3,3):1,xt=J*Ie;let et;if(E===h(342)){const wt=b.vkuOS(70*Math.PI,180),ht=b[h(373)](H,1)?b[h(379)](b[h(340)](ie,b[h(352)](H,1)),wt):0,Zt=Math[h(319)](ht);et=b.IRTFJ(b.ZuPPU(xt,30/100),Zt)}else et=xt/3;O=b[h(355)](O,et),he=Math[h(336)](O*10)/10}const Te=ie===0?0:b.ndUlI(tl,G,K,G);K=Te;const st=h(315)+(ie+1);V.push({id:kt(b[h(361)]),name:st,order:b.UlbKy(H,ie),petalType:k,petalCount:G,radius:he,scale:me,widthScale:b.zKsXm(oi,G),offsetAngle:Te,colorId:p[h(321)]||(c[h(366)]?.[0]?.id??b[h(317)]),visible:!0,locked:!1})}else _0x5cdcb4[h(363)].push(_0x5852d4);V.reverse();const Y=[...V][h(318)]((ie,oe)=>ie.order-oe.order),_=b[h(353)](E,b[h(339)])?b[h(371)](aa,p[h(332)],q,{layerCount:H,sizeMode:R,sizeStepMm:U}).diameter:b.lAhii(ur,q,H,R,U);P0(Y,q,p[h(313)]||_);for(const ie of Y){const oe=V[h(323)](fe=>fe.id===ie.id);oe&&(oe.radius=ie.radius,oe[h(311)]=ie[h(311)])}const m=b.BrhfR(v.w,v.h),D=b.najUH(520,f),B=b[h(347)](D,m),T=b.KQrsY(-o.x,f),A=b[h(334)](-o.y,f);let S=b.rStNj(T,b.FOfMy(B,2)),N=A+D/2;const I=25;let Z=0;for(;b[h(327)](Z,50)&&c[h(363)].some(ie=>Math.abs(ie.position.x-S)<5&&Math.abs(ie.position.y-N)<5);){const ie=b[h(350)][h(358)]("|");let oe=0;for(;;){switch(ie[oe++]){case"0":S=b.QpBzW(ye,S,0,y);continue;case"1":N=b.ndUlI(ye,N,0,y);continue;case"2":N+=I;continue;case"3":Z++;continue;case"4":S+=I;continue}break}}const W=p.flowerDiameter||_,ee={id:b[h(372)](kt,h(364)),name:"Flower "+b.pTJun(c.flowers[h(345)],1),position:{x:S,y:N},flowerDiameter:W,rotation:0,layers:V,center:{type:b.BYQhs,size:6,color:b[h(317)]},fabricSquareSize:q,placementMode:E,baseDiameter:E===h(342)?p.baseDiameter:b[h(316)](ir,W)};i(ie=>{ie[h(363)].push(ee)},!0),a({kind:b[h(360)],flowerId:ee.id}),b[h(324)](r,ie=>({...ie,[ee.id]:!0})),b[h(372)](w,!1)}else{const E=_0x16d5dc[h(328)],H=_0x276354.baseDiameter;_0x32519c(G=>{const k=h,R={...G,fabricSquareSize:E,baseDiameter:H};return R[k(314)]===hunHBz.ciiRo?R.flowerDiameter=_0x1912bb(H,E,{layerCount:R.layerCount,sizeMode:R.sizeMode,sizeStepMm:R[k(375)]})[k(377)]:R[k(313)]=_0x1e2ab4(E,R[k(376)],R.sizeMode,R.sizeStepMm),R}),hunHBz[h(357)](_0x17122b,!0)}}}}function gn(c,i){c=c-345;const a=Q0();let r=a[c];if(gn.wOrHcg===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};gn.loqtDC=f,gn.OmlebW={},gn.wOrHcg=!0}const o=a[0],v=c+o,y=gn.OmlebW[v];if(y)r=y;else{const d=function(b){this.rWgJBM=b,this.TrtZrs=[1,0,0],this.woPvlm=function(){return"newState"},this.JIQcOg="\\w+ *\\(\\) *{\\w+ *",this.aYtSlA=`['|"].+['|"];? *}`};d.prototype.LeXmga=function(){const b=new RegExp(this.JIQcOg+this.aYtSlA),C=b.test(this.woPvlm.toString())?--this.TrtZrs[1]:--this.TrtZrs[0];return this.GCTOGz(C)},d.prototype.GCTOGz=function(b){return~b?this.mqibDx(this.rWgJBM):b},d.prototype.mqibDx=function(b){for(let C=0,w=this.TrtZrs.length;C<w;C++)this.TrtZrs.push(Math.round(Math.random())),w=this.TrtZrs.length;return b(this.TrtZrs[0])},new d(gn).LeXmga(),r=gn.loqtDC(r),gn.OmlebW[v]=r}return r}(function(c,i){const a=gn,r=c();for(;;)try{if(-parseInt(a(345))/1*(parseInt(a(379))/2)+parseInt(a(351))/3+-parseInt(a(360))/4*(-parseInt(a(355))/5)+parseInt(a(361))/6+-parseInt(a(356))/7*(parseInt(a(371))/8)+-parseInt(a(349))/9+-parseInt(a(358))/10*(-parseInt(a(359))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Q0,574137);const _b=(function(){let c=!0;return function(i,a){const r=c?function(){const f=gn;if(a){const o=a[f(375)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Rs=_b(void 0,function(){const c=gn,i={rSgpZ:"(((.+)+)+)+$"};return Rs[c(362)]()[c(369)](i[c(365)]).toString()[c(347)](Rs)[c(369)]("(((.+)+)+)+$")});Rs();function Q0(){const c=["uM1my0O","C29Tzq","mte1CKnwveLs","mJu5otHSr29Zs3i","D1f2tu8","mtbXvg9jEwm","mJi4nJa5mZDbq0P4CfO","mZm2nfrXuwfXyW","mtyXmtiXnNPHsKnMCq","Dg9tDhjPBMC","DgLpwM4","ywjZ","CLnNCfO","u1fsvdi","y29Sx2rHCMTNCMvLBG","zMLUza","C2vHCMnO","CgfSzxr0zq","mta5nLPtqKzKrW","mNWZFdr8mhWX","CgvyuMS","BgvHDMvZ","yxbWBhK","y29SB3jjza","ChvZAa","CM91BMq","mMvJzhLoyq","Cg9ZAxrPB24","otm1ntC4Cuzjs1b6","z0jZtLy","y29UC3rYDwn0B3i","sLniD0m","ndm4nJGZneDYseLQrG","C3bSAxq","nde5ndm5zMneDwnK","AfzMExq"];return Q0=function(){return c},Q0()}function Pd(c){const i=gn,a={FuTvS:function(r,f){return r/f},UafoU:function(r,f){return r*f},aDRlp:function(r,f){return r/f},EcbEY:function(r,f){return r*f}};return a.FuTvS(Math[i(378)](a.UafoU(a.aDRlp(a.EcbEY(c,Math[i(366)]),2),10)),10)}function Sb({project:c,applyUpdate:i,setSelection:a,zoom:r,pan:f,stageSize:o,CANVAS_MAX_SVG:v}){const y=gn,d={jbJun:"col_green",peXRk:function(g,h){return g(h)},gBsNV:function(g,h){return g(h)},vKRFC:function(g,h){return g/h},eKQTI:function(g,h){return g/h},JSHwC:function(g,h){return g<h},tiOZn:function(g,h,E,H){return g(h,E,H)},hVfyt:function(g,h){return g+h},FjCbp:function(g,h,E){return g(h,E)},RmLcJ:function(g,h){return g(h)},KwoEl:"leaf",wQvMO:function(g,h){return g(h)},DzRYO:""},[b,C]=d[y(357)](te.useState,!1),[w,p]=te.useState({fabricSquareSize:20,leafSizeMm:Pd(20),petalType:d.DzRYO,colorId:""});return{showAddLeafDialog:b,setShowAddLeafDialog:C,addLeafOpts:w,setAddLeafOpts:p,addLeaf:()=>{const g=y,h=c.fabricSquareSize,E=c.palette?.[g(368)](H=>H.id==="col_green"||H.id===g(367))?.id??c[g(370)]?.[0]?.id??d.jbJun;d[g(373)](p,H=>({...H,fabricSquareSize:h,leafSizeMm:Pd(h),colorId:H[g(376)]||E})),d[g(346)](C,!0)},confirmAddLeaf:()=>{const g=y,{petalType:h,colorId:E,fabricSquareSize:H}=w,G=o.w/o.h,k=520/r,R=k*G,U=d.vKRFC(-f.x,r),q=-f.y/r;let J=U+R/2,F=q+d.eKQTI(k,2),P=0;for(;d[g(348)](P,50)&&(c[g(374)]??[])[g(354)](O=>Math[g(364)](O[g(380)].x-J)<5&&Math[g(364)](O.position.y-F)<5);){const O=g(372)[g(350)]("|");let K=0;for(;;){switch(O[K++]){case"0":F=ye(F,0,v);continue;case"1":P++;continue;case"2":J+=25;continue;case"3":F+=25;continue;case"4":J=d[g(363)](ye,J,0,v);continue}break}}const V={id:kt("leaf"),name:"Leaf "+d[g(352)]((c[g(374)]??[]).length,1),position:{x:J,y:F},rotation:135,petalType:h,colorId:E||c[g(370)]?.[0]?.id||d.jbJun,fabricSquareSize:H,scale:1,widthScale:1,visible:!0,locked:!1};d.FjCbp(i,O=>{const K=g;O[K(374)]||(O[K(374)]=[]),O[K(374)][K(377)](V)},!0),d[g(353)](a,{kind:d.KwoEl,leafId:V.id}),C(!1)}}}function qn(c,i){c=c-472;const a=W0();let r=a[c];if(qn.EBmsuo===void 0){var f=function(d){const b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let C="",w="",p=C+f;for(let M=0,z,g,h=0;g=d.charAt(h++);~g&&(z=M%4?z*64+g:g,M++%4)?C+=p.charCodeAt(h+10)-10!==0?String.fromCharCode(255&z>>(-2*M&6)):M:0)g=b.indexOf(g);for(let M=0,z=C.length;M<z;M++)w+="%"+("00"+C.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(w)};qn.tsFJIO=f,qn.ynKNjQ={},qn.EBmsuo=!0}const o=a[0],v=c+o,y=qn.ynKNjQ[v];if(y)r=y;else{const d=function(b){this.fzSWZb=b,this.DEGAbF=[1,0,0],this.DIMVpJ=function(){return"newState"},this.BoRnpT="\\w+ *\\(\\) *{\\w+ *",this.EXtsyk=`['|"].+['|"];? *}`};d.prototype.qutfLS=function(){const b=new RegExp(this.BoRnpT+this.EXtsyk),C=b.test(this.DIMVpJ.toString())?--this.DEGAbF[1]:--this.DEGAbF[0];return this.lHypUW(C)},d.prototype.lHypUW=function(b){return~b?this.bHsThj(this.fzSWZb):b},d.prototype.bHsThj=function(b){for(let C=0,w=this.DEGAbF.length;C<w;C++)this.DEGAbF.push(Math.round(Math.random())),w=this.DEGAbF.length;return b(this.DEGAbF[0])},new d(qn).qutfLS(),r=qn.tsFJIO(r),qn.ynKNjQ[v]=r}return r}function W0(){const c=["zMXVD2vYswrZ","uhD5wNa","rKTxtfK","zMXVD2vY","BgvHzKLK","A2LUza","ANrsA2K","DhvhELq","Cgv0ywXZ","vKnYCu4","nJG3mM1puvDKwq","mZi5nZyXrgLtAvzs","Dg9tDhjPBMC","mNzgAeXvDa","Cgv0ywW","vujiB1m","ntzSv0T4vwC","z3jVDxbZ","Aw5JBhvKzxm","BgvHzKLKCW","nxPND3zSsa","vgTVuxO","mta0odm5mMnAue1byq","zMLUza","y2Dvq04","txnQDLm","C2nOEgu","BgvHzG","z3jVDxbjza","BgvHDMvZ","ndmXmJC2mgfJv2DkDW","uw5eAMS","zMLSDgvY","mJC5ovjKzwfUwG","Bgf5zxjjza","mJm1oda3nJzwCxjgtgG","Bgf5zxi","zMXVD2vYswq","zMXVD2vYCW","DxPhAeS","Aw5KzxG","BwL4zwq","vLPivhy","yxbWBhK","vNrkwem","z3jVDxa","ntuYoty4ogLvyK5Uvq","sK9YAgG","C3rLBMnPBa","nda5mJCYEfPPCLDX","kcGOlISPkYKRksSK","zLbQD28","C3rLBMnPBhm"];return W0=function(){return c},W0()}(function(c,i){const a=qn,r=c();for(;;)try{if(parseInt(a(519))/1+-parseInt(a(521))/2*(-parseInt(a(477))/3)+parseInt(a(501))/4*(-parseInt(a(475))/5)+parseInt(a(504))/6*(-parseInt(a(524))/7)+-parseInt(a(518))/8*(-parseInt(a(488))/9)+-parseInt(a(485))/10+parseInt(a(490))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(W0,730686);const wb=(function(){let c=!0;return function(i,a){const r=c?function(){const f=qn;if(a){const o=a[f(498)](i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Gs=wb(void 0,function(){const c=qn,i={VCrqN:c(505)};return Gs[c(520)]().search("(((.+)+)+)+$")[c(520)]().constructor(Gs).search(i[c(517)])});Gs();function Cb(c,i){const a=qn,r={PwyZp:a(511),UBHoS:function(g,h){return g===h},TarMe:a(479),fPjwo:function(g,h){return g===h},jtRki:"group",FKWLY:a(522),agOhj:function(g,h){return g!==h},schxe:a(494),tuGzT:a(496),bYwzn:function(g,h){return g===h},TkoQz:a(516),JOrhh:function(g,h){return g===h},ztCaT:"leaf",MsjvS:function(g,h,E){return g(h,E)},QnDjk:function(g,h){return g===h},VtJXC:a(491),VZHTv:function(g,h){return g===h}},f=te.useMemo(()=>{const g=a;return i[g(513)]===r[g(509)]||i[g(513)]==="layer"||i.kind==="petal"||i.kind==="petals"?c.flowers[g(478)](h=>h.id===i[g(492)])??null:null},[c.flowers,i]),o=te.useMemo(()=>{const g=a;if(i.kind==="flowers")return c.flowers.filter(h=>i.flowerIds[g(473)](h.id));if(r[g(523)](i[g(513)],"mixed"))return c[g(493)].filter(h=>i.flowerIds[g(473)](h.id));if(i[g(513)]==="group"){const h=(c.groups??[])[g(478)](E=>E.id===i[g(483)]);if(h)return c.flowers[g(487)](E=>h.flowerIds[g(473)](E.id))}return[]},[c[a(493)],c[a(472)],i]),v=te.useMemo(()=>{const g=a;return i[g(513)]===g(482)?(c[g(484)]??[])[g(478)](h=>h.id===i[g(512)])??null:null},[c.leaves,i]),y=r[a(480)](te.useMemo,()=>{const g=a;return r[g(523)](r.TarMe,g(479))?r[g(506)](i[g(513)],r[g(514)])?(c.groups??[])[g(478)](h=>h.id===i.groupId)??null:null:_0x5b1e90[g(513)]===g(482)?(_0x3cb58b[g(484)]??[])[g(478)](h=>h.id===_0x1137df.leafId)??null:null},[c.groups,i]),d=te.useMemo(()=>{const g=a;return f&&(r.UBHoS(i[g(513)],"layer")||i.kind===r.FKWLY)?f.layers.find(h=>h.id===i[g(489)])??null:null},[f,i]),b=r[a(486)](i[a(513)],a(522))?i[a(495)]:null,C=i[a(513)]===r[a(476)]?i.petals:[],w=i.kind===a(503)?(c[a(507)]??[])[a(478)](g=>g.id===i.stencilId)??null:null,p=i[a(513)]===r.PwyZp||i[a(513)]===r[a(499)]||r[a(497)](i[a(513)],r.FKWLY)||i.kind===r.TkoQz?i[a(492)]:null,M=te.useMemo(()=>{const g=a;if(r[g(523)](i.kind,g(500))){if(r.agOhj(r[g(481)],r[g(481)]))return new _0x563e54(_0x2099b4[g(508)].filter(h=>h!==_0x3de46b.flowerId));{const h=(c[g(472)]??[])[g(478)](E=>E.id===i.groupId);if(h)return new Set(h.flowerIds)}}if(i.kind===g(493))return new Set(i[g(508)]);if(r[g(506)](i.kind,r[g(515)]))return new Set(i[g(508)]);if(r[g(506)](i.kind,r.PwyZp)||i[g(513)]===g(491)||r[g(523)](i[g(513)],r[g(510)])||r.bYwzn(i[g(513)],r[g(476)])){const h=ll(c,i[g(492)]);if(h)return i[g(513)]==="flower"?new Set(h.flowerIds[g(487)](E=>E!==i[g(492)])):new Set(h.flowerIds)}return new Set},[i,c]),z=te.useMemo(()=>{const g=a;if(i[g(513)]==="group"){const h=(c[g(472)]??[]).find(E=>E.id===i[g(483)]);if(h)return new Set(h[g(474)])}if(r.JOrhh(i.kind,g(484)))return new Set(i.leafIds);if(r[g(502)](i[g(513)],"mixed"))return new Set(i[g(474)]);if(i[g(513)]===r.ztCaT){const h=zl(c,i[g(512)]);if(h)return new Set(h.leafIds.filter(E=>E!==i[g(512)]))}return new Set},[i,c]);return{selectedFlower:f,selectedFlowers:o,selectedLeaf:v,selectedGroup:y,selectedLayer:d,selectedPetalIndex:b,selectedPetals:C,selectedStencil:w,selectedFlowerId:p,groupHighlightedFlowerIds:M,groupHighlightedLeafIds:z}}function jb(c){const{project:i,selection:a,setSelection:r,applyUpdate:f}=c,o=te.useMemo(()=>new Map((i.palette||[]).map(be=>[be.id,be])),[i.palette]),{widths:v,containerRef:y,onDividerPointerDown:d,onDividerDoubleClick:b,isDragging:C,isDesktop:w}=hb(),p=te.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[M,z]=te.useState({});te.useEffect(()=>{try{const pe=localStorage.getItem(p);if(pe){const Me=JSON.parse(pe);if(Me&&typeof Me=="object"){z(Me);return}}}catch{}const be=i.flowers?.[0];be&&z({[be.id]:!0})},[p]),te.useEffect(()=>{try{localStorage.setItem(p,JSON.stringify(M))}catch{}},[p,M]),te.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const be=a.flowerId;z(pe=>pe?.[be]?pe:{...pe,[be]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const be=a.flowerIds;z(pe=>{const Me={...pe};for(const Rt of be)Me[Rt]=!0;return Me})}},[a]);const g=be=>M?.[be]??!1,h=be=>z(pe=>({...pe,[be]:!(pe?.[be]??!1)})),E=te.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[H,G]=te.useState({});te.useEffect(()=>{try{const pe=localStorage.getItem(E);if(pe){const Me=JSON.parse(pe);if(Me&&typeof Me=="object"){G(Me);return}}}catch{}const be=i.groups??[];if(be.length>0){const pe={};for(const Me of be)pe[Me.id]=!0;G(pe)}},[E]),te.useEffect(()=>{try{localStorage.setItem(E,JSON.stringify(H))}catch{}},[E,H]);const k=be=>H?.[be]??!0,R=be=>G(pe=>({...pe,[be]:!(pe?.[be]??!0)})),U=te.useRef({flowerId:null,timer:null}),q=be=>{const pe=U.current.timer;pe&&window.clearTimeout(pe),U.current.flowerId=be,U.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:be}),z(Me=>({...Me,[be]:!0})),U.current.timer=null,U.current.flowerId=null},200)},J=be=>{const pe=U.current.timer;pe&&U.current.flowerId===be&&window.clearTimeout(pe),U.current.timer=null,U.current.flowerId=null,r({kind:"flower",flowerId:be}),h(be)},F=te.useRef(null),[P,V]=te.useState({w:520,h:520});te.useEffect(()=>{const be=F.current;if(!be)return;const pe=new ResizeObserver(Me=>{for(const Rt of Me){const{width:Ct,height:Jt}=Rt.contentRect;Ct>0&&Jt>0&&V({w:Ct,h:Jt})}});return pe.observe(be),()=>pe.disconnect()},[]);const O=be=>{const pe=F.current;if(!pe)return{x:0,y:0};const Me=pe.createSVGPoint();Me.x=be.clientX,Me.y=be.clientY;const Rt=pe.getScreenCTM();if(!Rt)return{x:0,y:0};const Ct=Me.matrixTransform(Rt.inverse());return{x:Ct.x,y:Ct.y}},K=500*nn,Y=-300*nn,_=800*nn,m=te.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[D,B]=te.useState(6),[T,A]=te.useState(m[6]),S=te.useCallback(be=>{B(pe=>{const Me=typeof be=="function"?be(pe):be;return A(m[Me]),Me})},[m]),N=te.useCallback(be=>{const pe=ye(be,m[0],m[m.length-1]);A(pe);let Me=0,Rt=Math.abs(m[0]-pe);for(let Ct=1;Ct<m.length;Ct++){const Jt=Math.abs(m[Ct]-pe);Jt<Rt&&(Me=Ct,Rt=Jt)}B(Me)},[m]),[I,Z]=te.useState({x:0,y:0}),[W,ee]=te.useState(!0),[ie,oe]=te.useState(!1),fe=te.useRef(null),me=te.useMemo(()=>{const be=P.w/P.h,pe=520,Me=pe*be;return(Rt,Ct=T)=>{const Jt=ye(Rt.x,-(_*Ct-Me),-Y*Ct),Ll=ye(Rt.y,-(_*Ct-pe),-Y*Ct);return{x:Jt,y:Ll}}},[P,T,Y,_]),he=te.useMemo(()=>me(I),[I,me]),Te=te.useCallback(be=>Z(be),[]),st=te.useMemo(()=>{const be=P.w/P.h,pe=520,Me=pe*be,Rt=-he.x/T,Ct=-he.y/T;return`${Rt} ${Ct} ${Me/T} ${pe/T}`},[T,he,P]),{deleteLeafById:Ie,handleShiftLeafSelect:xt,groupSelectedLeaves:et,ungroupLeaves:At,addLeafToGroup:wt,removeLeafFromGroup:ht,addLeavesToGroup:Zt,mergeLeafGroups:Rn}=vb({project:i,applyUpdate:f,selection:a,setSelection:r}),{showAddFlowerDialog:Xn,setShowAddFlowerDialog:Jn,addFlowerOpts:Qe,setAddFlowerOpts:vn,addFlower:Dl,confirmAddFlower:rl}=pb({project:i,applyUpdate:f,setSelection:r,setExpandedFlowers:z,zoom:T,pan:he,stageSize:P,CANVAS_MAX_SVG:K}),{showAddLeafDialog:cl,setShowAddLeafDialog:Nl,addLeafOpts:ia,setAddLeafOpts:Vn,addLeaf:fi,confirmAddLeaf:Gn}=Sb({project:i,applyUpdate:f,setSelection:r,zoom:T,pan:he,stageSize:P,CANVAS_MAX_SVG:K}),{selectedFlower:qt,selectedFlowers:yn,selectedLeaf:Oe,selectedLayer:de,selectedPetalIndex:Be,selectedPetals:qe,selectedStencil:Se,selectedFlowerId:_e,groupHighlightedFlowerIds:Ne,groupHighlightedLeafIds:ze}=Cb(i,a),{deleteFlowerById:we,deleteLayerById:We,addOuterLayer:Pe,deleteOuterLayer:Ke,deleteSelected:Xe,groupSelectedFlowers:Ae,groupSelectedMixed:It,ungroupFlowers:Fe,ungroupAll:Tt,deleteGroup:at,addToGroup:tt,mergeGroups:mt,addStencil:On,deleteStencil:ra,handleShiftFlowerSelect:ln,togglePetalSelection:bt}=bb({project:i,applyUpdate:f,selection:a,setSelection:r,setExpandedFlowers:z,setExpandedGroups:G,zoom:T,pan:he,stageSize:P,CANVAS_MAX_SVG:K,deleteLeafById:Ie}),Le=fm({project:i,selection:a,setSelection:r,applyUpdate:f,dragRef:c.dragRef,zoom:T,pan:he,setPan:Te,stageRef:F,clientToSvgPoint:O,togglePetalSelection:bt}),[ul,di]=te.useState(0),Qn=a.kind,$0=Qn==="flower"?a.flowerId:null,hr=Qn==="flowers"?a.flowerIds?.join(","):null,ca=Qn==="layer"||Qn==="petal"?a.layerId:null,hi=Qn==="petal"?a.index:null,Al=Qn==="petals"?a.petals?.length:null;te.useEffect(()=>{Qn!=="project"&&di(Date.now())},[Qn,$0,hr,ca,hi,Al]),te.useEffect(()=>{if(!fe.current)return;const be=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!be)return;const pe=fe.current.querySelector(`[data-flower-id="${be}"]`);pe&&pe.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Tl=te.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[ul]);return s.jsxs("div",{className:"mx-auto flex h-full max-w-[1440px] flex-col overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-3 md:flex-row md:gap-0",ref:y,children:[s.jsx("div",{className:"min-w-0 shrink-0 md:flex md:flex-col md:min-h-0",style:w?{width:`${v.left}%`}:void 0,children:s.jsx(vm,{project:i,selection:a,setSelection:r,expandedFlowers:M,setExpandedFlowers:z,isExpanded:g,toggleExpanded:h,scheduleFlowerRowClick:q,handleFlowerRowDoubleClick:J,addFlower:Dl,deleteSelected:Xe,addOuterLayer:Pe,deleteOuterLayer:Ke,deleteFlowerById:we,deleteLayerById:We,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:fe,groups:i.groups??[],expandedGroups:H,isGroupExpanded:k,toggleGroupExpanded:R,onSelectGroup:be=>r({kind:"group",groupId:be}),onUngroupFlowers:Fe,onDeleteGroup:at,leaves:i.leaves??[],onSelectLeaf:be=>r({kind:"leaf",leafId:be}),onAddLeaf:fi,onDeleteLeaf:Ie})}),s.jsx(Wd,{side:"left",onPointerDown:d,onDoubleClick:b,isDragging:C}),s.jsx("div",{className:"min-w-0 md:min-h-0 md:flex md:flex-col",style:{flex:1},children:s.jsx(Zm,{project:i,selection:a,setSelection:r,applyUpdate:f,paletteMap:o,selectedFlowerId:_e,zoom:T,setZoom:N,zoomLevel:D,setZoomLevel:S,ZOOM_LEVELS:m,pan:he,panRaw:I,setPan:Te,showGrid:W,setShowGrid:ee,showHelp:ie,setShowHelp:oe,stageRef:F,viewBox:st,dashSyncToken:ul,dashDelay:Tl,beginPan:Le.beginPan,updatePan:Le.updatePan,endPan:Le.endPan,beginMarquee:Le.beginMarquee,updateMarquee:Le.updateMarquee,endMarquee:Le.endMarquee,marqueeRef:Le.marqueeRef,marqueeRect:Le.marqueeRect,beginFlowerDrag:Le.beginFlowerDrag,updateFlowerDrag:Le.updateFlowerDrag,endFlowerDrag:Le.endFlowerDrag,scaleDragRef:Le.scaleDragRef,beginScaleDrag:Le.beginScaleDrag,updateScaleDrag:Le.updateScaleDrag,endScaleDrag:Le.endScaleDrag,rotationDragRef:Le.rotationDragRef,beginRotationDrag:Le.beginRotationDrag,updateRotationDrag:Le.updateRotationDrag,endRotationDrag:Le.endRotationDrag,widthScaleDragRef:Le.widthScaleDragRef,beginWidthScaleDrag:Le.beginWidthScaleDrag,updateWidthScaleDrag:Le.updateWidthScaleDrag,endWidthScaleDrag:Le.endWidthScaleDrag,radiusDragRef:Le.radiusDragRef,beginRadiusDrag:Le.beginRadiusDrag,updateRadiusDrag:Le.updateRadiusDrag,endRadiusDrag:Le.endRadiusDrag,togglePetalSelection:bt,clientToSvgPoint:O,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:On,onDeleteStencil:ra,onSelectStencil:be=>r({kind:"stencil",stencilId:be}),handleShiftFlowerSelect:ln,groupHighlightedFlowerIds:Ne,leaves:i.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:ze,onSelectLeaf:be=>r({kind:"leaf",leafId:be}),onSelectGroup:be=>r({kind:"group",groupId:be}),onShiftSelectLeaf:xt})}),s.jsx(Wd,{side:"right",onPointerDown:d,onDoubleClick:b,isDragging:C}),s.jsx("div",{className:"min-w-0 shrink-0 md:flex md:flex-col md:min-h-0",style:w?{width:`${v.right}%`}:void 0,children:s.jsx(ib,{project:i,selection:a,applyUpdate:f,selectedFlower:qt,selectedFlowers:yn,selectedLayer:de,selectedPetalIndex:Be,selectedPetals:qe,selectedStencil:Se,onDeleteStencil:ra,groups:i.groups??[],onGroupFlowers:Ae,onUngroupFlowers:Fe,onUngroupAll:Tt,onAddToGroup:tt,onMergeGroups:mt,selectedLeaf:Oe,onDeleteLeaf:Ie,onGroupLeaves:et,onUngroupLeaves:At,onAddLeafToGroup:wt,onRemoveLeafFromGroup:ht,onAddLeavesToGroup:Zt,onMergeLeafGroups:Rn,onGroupMixed:It})})]}),Xn&&s.jsx(ub,{palette:i.palette,addFlowerOpts:Qe,setAddFlowerOpts:vn,onConfirm:rl,onCancel:()=>Jn(!1)}),cl&&s.jsx(ob,{palette:i.palette,addLeafOpts:ia,setAddLeafOpts:Vn,onConfirm:Gn,onCancel:()=>Nl(!1)}),ie&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:be=>be.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([be,pe])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:be}),s.jsx("td",{className:"py-2 text-neutral-700",children:pe})]},be))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function Mb({cg:c}){const[i,a]=te.useState("w"),[r,f]=te.useState(""),o=c.totalAreaCm2,v=parseFloat(r),d=r!==""&&Number.isFinite(v)&&v>0?Math.round(o/v*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(b=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[b.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[b.count," "]})]},b.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",o,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:b=>f(b.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:b=>f(b.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function zb(c){const{recipe:i}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[i.colors.map(a=>s.jsx(Mb,{cg:a},a.colorId)),i.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function Db(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function Nb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Ab(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function Tb(){const[c,i]=te.useState("home"),[a,r]=te.useState([]),[f,o]=te.useState(null),[v,y]=te.useState({kind:"project"}),[d,b]=te.useState([]),[C,w]=te.useState(0),p=te.useRef(f),M=te.useRef(d),z=te.useRef(C);te.useEffect(()=>{p.current=f},[f]),te.useEffect(()=>{M.current=d},[d]),te.useEffect(()=>{z.current=C},[C]);const g=te.useRef(null),h=te.useRef(null),E=te.useRef(null),H=te.useRef(null),[G,k]=te.useState(null);te.useEffect(()=>{const A=G?window.setTimeout(()=>k(null),2200):null;return()=>{A&&window.clearTimeout(A)}},[G]),te.useEffect(()=>{r(cr())},[]);function R(A){const S=JSON.stringify(A);b([S]),w(0)}function U(A,S=!0){if(!S){o(me=>{if(!me)return me;const he=na(me);return A(he),he.updatedAt=N0(),he});return}const N=p.current;if(!N)return;const I=na(N);A(I),I.updatedAt=N0(),o(I);const Z=M.current,W=z.current;if(Z.length===0){R(I);return}const ee=JSON.stringify(I);let oe=[...Z.slice(0,W+1),ee];const fe=50;oe.length>fe&&(oe=oe.slice(oe.length-fe)),b(oe),w(oe.length-1)}function q(){w(A=>{if(A<=0)return A;const S=A-1,N=M.current[S];return N&&o(ja(JSON.parse(N))),k("Undo"),S})}function J(){w(A=>{if(A>=M.current.length-1)return A;const S=A+1,N=M.current[S];return N&&o(ja(JSON.parse(N))),k("Redo"),S})}function F(){if(!f)return;const A=Vh(f);r(cr()),k(A?"Saved":" ")}function P(){if(!f)return;const A=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),S=URL.createObjectURL(A),N=document.createElement("a");N.href=S,N.download=`${f.title||"tsumami"}.json`,N.click(),URL.revokeObjectURL(S),k("JSON exported")}function V(A){const S=new FileReader;S.onload=()=>{try{const N=JSON.parse(String(S.result??""));if(!N||typeof N!="object"||!Array.isArray(N.flowers))throw new Error("Invalid JSON");const I=ja(N);o(I),y({kind:"project"}),R(I),i("editor"),k("Imported")}catch{k("Import failed")}},S.readAsText(A)}function O(A){const S=ja(A);o(S),y({kind:"project"}),R(S),i("editor")}function K(A){return A&&(A.kind==="flower"||A.kind==="layer"||A.kind==="petal")?A.flowerId:null}function Y(){if(!f)return;const A=K(v);if(!A)return;const S=f.flowers.find(N=>N.id===A);S&&(h.current=na(S),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:S},null,2)).catch(()=>{}),k("Flower copied"))}function _(){if(!f||v.kind!=="leaf")return;const A=(f.leaves??[]).find(S=>S.id===v.leafId);A&&(E.current=na(A),k("Leaf copied"))}function m(){if(!f)return;const A=h.current;if(!A){k("Nothing to paste");return}const S=Uh(A,{x:12+Math.random()*10,y:12+Math.random()*10});U(N=>{N.flowers.push(S)},!0),y({kind:"flower",flowerId:S.id}),k("Flower pasted")}function D(){if(!f)return;const A=E.current;if(!A)return;const S=kt("leaf"),N={...na(A),id:S,name:A.name+" (copy)",position:{x:A.position.x+30,y:A.position.y+30}};U(I=>{I.leaves||(I.leaves=[]),I.leaves.push(N)},!0),y({kind:"leaf",leafId:N.id}),k("Leaf pasted")}function B(A){if(!f)return;const S=K(v);S&&(U(N=>{const I=N.flowers.findIndex(ie=>ie.id===S);if(I<0)return;const Z=N.flowers,W=Z[I];if(!W)return;if(Z.splice(I,1),A==="front"){Z.push(W);return}if(A==="back"){Z.unshift(W);return}if(A==="forward"){if(I>=Z.length){Z.push(W);return}Z.splice(I+1,0,W);return}const ee=ye(I-1,0,Z.length);Z.splice(ee,0,W)},!0),k(A==="front"?"Brought to front":A==="back"?"Sent to back":A==="forward"?"Moved forward":"Moved backward"))}te.useEffect(()=>{function A(N){const I=N;if(!I)return!1;const Z=String(I.tagName||"").toLowerCase();return Z==="input"||Z==="textarea"||Z==="select"||!!I.isContentEditable}function S(N){if(!(A(N.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?N.metaKey:N.ctrlKey))){if(c==="editor"){if(N.key.toLowerCase()==="c"){N.preventDefault(),v.kind==="leaf"?_():Y();return}if(N.key.toLowerCase()==="v"){N.preventDefault(),E.current&&(v.kind==="leaf"||v.kind==="leaves"||v.kind==="mixed"||!h.current)?D():m();return}}N.key.toLowerCase()==="z"&&(N.preventDefault(),N.shiftKey?J():q()),N.key.toLowerCase()==="s"&&(N.preventDefault(),F())}}return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[f,d,C,v,c]);const T=te.useMemo(()=>f?Ph(f):null,[f]);return s.jsxs("div",{className:"flex h-dvh flex-col bg-neutral-50 text-neutral-900 overflow-hidden",children:[s.jsx(nm,{view:c,onNavigate:i,project:f,onSave:F,onLoad:()=>i("home"),onImportJson:()=>H.current?.click(),onExportJson:P,onExportSvg:()=>{const A=document.querySelector('[data-testid="canvas-svg"]');A&&f&&$h(A,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const A=document.querySelector('[data-testid="canvas-svg"]');A&&f&&em(A,`${f.title||"tsumami"}.png`)}}),s.jsx("input",{ref:H,type:"file",accept:"application/json",className:"hidden",onChange:A=>{const S=A.target.files?.[0];S&&V(S),A.currentTarget.value=""}}),G&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:G}),s.jsxs("main",{className:"flex-1 min-h-0 overflow-hidden",children:[c==="home"&&s.jsx(lm,{saved:a,onNew:()=>i("new"),onOpen:A=>{const S=ja(na(A));o(S),y({kind:"project"}),R(S),i("editor")},onDelete:A=>{Qh(A),r(cr()),k("Deleted")}}),c==="new"&&s.jsx(am,{onBack:()=>i("home"),onCreate:A=>{const S=Yh({title:A});O(S)}}),c==="editor"&&f&&s.jsx(jb,{project:f,selection:v,setSelection:y,applyUpdate:U,onGoRecipe:()=>i("recipe"),onImport:V,dragRef:g,onCopyFlower:Y,onPasteFlower:m,onArrangeFlower:B,canPasteFlower:!!h.current,onUndo:q,onRedo:J,canUndo:C>0,canRedo:C<d.length-1}),c==="recipe"&&f&&T&&s.jsx(zb,{project:f,recipe:T,onBack:()=>i("editor"),onExportJson:P}),c==="terms"&&s.jsx(Db,{onBack:()=>i("home")}),c==="privacy"&&s.jsx(Nb,{onBack:()=>i("home")}),(c==="editor"||c==="recipe")&&!f&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(Ab,{onNavigate:i})]})}class Lb extends te.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}zh.createRoot(document.getElementById("root")).render(s.jsx(te.StrictMode,{children:s.jsx(Lb,{children:s.jsx(Tb,{})})}));

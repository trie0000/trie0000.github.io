(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const x of f)if(x.type==="childList")for(const m of x.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function a(f){const x={};return f.integrity&&(x.integrity=f.integrity),f.referrerPolicy&&(x.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?x.credentials="include":f.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function i(f){if(f.ep)return;f.ep=!0;const x=a(f);fetch(f.href,x)}})();var rs={exports:{}},er={};var Ld;function b2(){if(Ld)return er;Ld=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,f,x){var m=null;if(x!==void 0&&(m=""+x),f.key!==void 0&&(m=""+f.key),"key"in f){x={};for(var v in f)v!=="key"&&(x[v]=f[v])}else x=f;return f=x.ref,{$$typeof:u,type:i,key:m,ref:f!==void 0?f:null,props:x}}return er.Fragment=r,er.jsx=a,er.jsxs=a,er}var Td;function g2(){return Td||(Td=1,rs.exports=b2()),rs.exports}var s=g2(),us={exports:{}},Ne={};var Ed;function v2(){if(Ed)return Ne;Ed=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),p=Symbol.iterator;function C(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function B(z,I,H){this.props=z,this.context=I,this.refs=g,this.updater=H||N}B.prototype.isReactComponent={},B.prototype.setState=function(z,I){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,I,"setState")},B.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=B.prototype;function E(z,I,H){this.props=z,this.context=I,this.refs=g,this.updater=H||N}var G=E.prototype=new O;G.constructor=E,y(G,B.prototype),G.isPureReactComponent=!0;var Y=Array.isArray;function R(){}var Z={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function Q(z,I,H){var V=H.ref;return{$$typeof:u,type:z,key:I,ref:V!==void 0?V:null,props:H}}function W(z,I){return Q(z.type,I,z.props)}function X(z){return typeof z=="object"&&z!==null&&z.$$typeof===u}function q(z){var I={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(H){return I[H]})}var U=/\/+/g;function M(z,I){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):I.toString(36)}function b(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(R,R):(z.status="pending",z.then(function(I){z.status==="pending"&&(z.status="fulfilled",z.value=I)},function(I){z.status==="pending"&&(z.status="rejected",z.reason=I)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function j(z,I,H,V,F){var ae=typeof z;(ae==="undefined"||ae==="boolean")&&(z=null);var oe=!1;if(z===null)oe=!0;else switch(ae){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(z.$$typeof){case u:case r:oe=!0;break;case _:return oe=z._init,j(oe(z._payload),I,H,V,F)}}if(oe)return F=F(z),oe=V===""?"."+M(z,0):V,Y(F)?(H="",oe!=null&&(H=oe.replace(U,"$&/")+"/"),j(F,I,H,"",function(be){return be})):F!=null&&(X(F)&&(F=W(F,H+(F.key==null||z&&z.key===F.key?"":(""+F.key).replace(U,"$&/")+"/")+oe)),I.push(F)),1;oe=0;var me=V===""?".":V+":";if(Y(z))for(var fe=0;fe<z.length;fe++)V=z[fe],ae=me+M(V,fe),oe+=j(V,I,H,ae,F);else if(fe=C(z),typeof fe=="function")for(z=fe.call(z),fe=0;!(V=z.next()).done;)V=V.value,ae=me+M(V,fe++),oe+=j(V,I,H,ae,F);else if(ae==="object"){if(typeof z.then=="function")return j(b(z),I,H,V,F);throw I=String(z),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return oe}function D(z,I,H){if(z==null)return z;var V=[],F=0;return j(z,V,"","",function(ae){return I.call(H,ae,F++)}),V}function A(z){if(z._status===-1){var I=z._result;I=I(),I.then(function(H){(z._status===0||z._status===-1)&&(z._status=1,z._result=H)},function(H){(z._status===0||z._status===-1)&&(z._status=2,z._result=H)}),z._status===-1&&(z._status=0,z._result=I)}if(z._status===1)return z._result.default;throw z._result}var T=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},k={map:D,forEach:function(z,I,H){D(z,function(){I.apply(this,arguments)},H)},count:function(z){var I=0;return D(z,function(){I++}),I},toArray:function(z){return D(z,function(I){return I})||[]},only:function(z){if(!X(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ne.Activity=S,Ne.Children=k,Ne.Component=B,Ne.Fragment=a,Ne.Profiler=f,Ne.PureComponent=E,Ne.StrictMode=i,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(z){return Z.H.useMemoCache(z)}},Ne.cache=function(z){return function(){return z.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(z,I,H){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var V=y({},z.props),F=z.key;if(I!=null)for(ae in I.key!==void 0&&(F=""+I.key),I)!P.call(I,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&I.ref===void 0||(V[ae]=I[ae]);var ae=arguments.length-2;if(ae===1)V.children=H;else if(1<ae){for(var oe=Array(ae),me=0;me<ae;me++)oe[me]=arguments[me+2];V.children=oe}return Q(z.type,F,V)},Ne.createContext=function(z){return z={$$typeof:m,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:x,_context:z},z},Ne.createElement=function(z,I,H){var V,F={},ae=null;if(I!=null)for(V in I.key!==void 0&&(ae=""+I.key),I)P.call(I,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(F[V]=I[V]);var oe=arguments.length-2;if(oe===1)F.children=H;else if(1<oe){for(var me=Array(oe),fe=0;fe<oe;fe++)me[fe]=arguments[fe+2];F.children=me}if(z&&z.defaultProps)for(V in oe=z.defaultProps,oe)F[V]===void 0&&(F[V]=oe[V]);return Q(z,ae,F)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(z){return{$$typeof:v,render:z}},Ne.isValidElement=X,Ne.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:A}},Ne.memo=function(z,I){return{$$typeof:d,type:z,compare:I===void 0?null:I}},Ne.startTransition=function(z){var I=Z.T,H={};Z.T=H;try{var V=z(),F=Z.S;F!==null&&F(H,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(R,T)}catch(ae){T(ae)}finally{I!==null&&H.types!==null&&(I.types=H.types),Z.T=I}},Ne.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ne.use=function(z){return Z.H.use(z)},Ne.useActionState=function(z,I,H){return Z.H.useActionState(z,I,H)},Ne.useCallback=function(z,I){return Z.H.useCallback(z,I)},Ne.useContext=function(z){return Z.H.useContext(z)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(z,I){return Z.H.useDeferredValue(z,I)},Ne.useEffect=function(z,I){return Z.H.useEffect(z,I)},Ne.useEffectEvent=function(z){return Z.H.useEffectEvent(z)},Ne.useId=function(){return Z.H.useId()},Ne.useImperativeHandle=function(z,I,H){return Z.H.useImperativeHandle(z,I,H)},Ne.useInsertionEffect=function(z,I){return Z.H.useInsertionEffect(z,I)},Ne.useLayoutEffect=function(z,I){return Z.H.useLayoutEffect(z,I)},Ne.useMemo=function(z,I){return Z.H.useMemo(z,I)},Ne.useOptimistic=function(z,I){return Z.H.useOptimistic(z,I)},Ne.useReducer=function(z,I,H){return Z.H.useReducer(z,I,H)},Ne.useRef=function(z){return Z.H.useRef(z)},Ne.useState=function(z){return Z.H.useState(z)},Ne.useSyncExternalStore=function(z,I,H){return Z.H.useSyncExternalStore(z,I,H)},Ne.useTransition=function(){return Z.H.useTransition()},Ne.version="19.2.3",Ne}var qd;function Os(){return qd||(qd=1,us.exports=v2()),us.exports}var ee=Os(),cs={exports:{}},tr={},ss={exports:{}},os={};var Bd;function y2(){return Bd||(Bd=1,(function(u){function r(j,D){var A=j.length;j.push(D);e:for(;0<A;){var T=A-1>>>1,k=j[T];if(0<f(k,D))j[T]=D,j[A]=k,A=T;else break e}}function a(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var D=j[0],A=j.pop();if(A!==D){j[0]=A;e:for(var T=0,k=j.length,z=k>>>1;T<z;){var I=2*(T+1)-1,H=j[I],V=I+1,F=j[V];if(0>f(H,A))V<k&&0>f(F,H)?(j[T]=F,j[V]=A,T=V):(j[T]=H,j[I]=A,T=I);else if(V<k&&0>f(F,A))j[T]=F,j[V]=A,T=V;else break e}}return D}function f(j,D){var A=j.sortIndex-D.sortIndex;return A!==0?A:j.id-D.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;u.unstable_now=function(){return x.now()}}else{var m=Date,v=m.now();u.unstable_now=function(){return m.now()-v}}var h=[],d=[],_=1,S=null,p=3,C=!1,N=!1,y=!1,g=!1,B=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function G(j){for(var D=a(d);D!==null;){if(D.callback===null)i(d);else if(D.startTime<=j)i(d),D.sortIndex=D.expirationTime,r(h,D);else break;D=a(d)}}function Y(j){if(y=!1,G(j),!N)if(a(h)!==null)N=!0,R||(R=!0,q());else{var D=a(d);D!==null&&b(Y,D.startTime-j)}}var R=!1,Z=-1,P=5,Q=-1;function W(){return g?!0:!(u.unstable_now()-Q<P)}function X(){if(g=!1,R){var j=u.unstable_now();Q=j;var D=!0;try{e:{N=!1,y&&(y=!1,O(Z),Z=-1),C=!0;var A=p;try{t:{for(G(j),S=a(h);S!==null&&!(S.expirationTime>j&&W());){var T=S.callback;if(typeof T=="function"){S.callback=null,p=S.priorityLevel;var k=T(S.expirationTime<=j);if(j=u.unstable_now(),typeof k=="function"){S.callback=k,G(j),D=!0;break t}S===a(h)&&i(h),G(j)}else i(h);S=a(h)}if(S!==null)D=!0;else{var z=a(d);z!==null&&b(Y,z.startTime-j),D=!1}}break e}finally{S=null,p=A,C=!1}D=void 0}}finally{D?q():R=!1}}}var q;if(typeof E=="function")q=function(){E(X)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,M=U.port2;U.port1.onmessage=X,q=function(){M.postMessage(null)}}else q=function(){B(X,0)};function b(j,D){Z=B(function(){j(u.unstable_now())},D)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(j){j.callback=null},u.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},u.unstable_getCurrentPriorityLevel=function(){return p},u.unstable_next=function(j){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var A=p;p=D;try{return j()}finally{p=A}},u.unstable_requestPaint=function(){g=!0},u.unstable_runWithPriority=function(j,D){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var A=p;p=j;try{return D()}finally{p=A}},u.unstable_scheduleCallback=function(j,D,A){var T=u.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?T+A:T):A=T,j){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=A+k,j={id:_++,callback:D,priorityLevel:j,startTime:A,expirationTime:k,sortIndex:-1},A>T?(j.sortIndex=A,r(d,j),a(h)===null&&j===a(d)&&(y?(O(Z),Z=-1):y=!0,b(Y,A-T))):(j.sortIndex=k,r(h,j),N||C||(N=!0,R||(R=!0,q()))),j},u.unstable_shouldYield=W,u.unstable_wrapCallback=function(j){var D=p;return function(){var A=p;p=D;try{return j.apply(this,arguments)}finally{p=A}}}})(os)),os}var kd;function p2(){return kd||(kd=1,ss.exports=y2()),ss.exports}var xs={exports:{}},Ht={};var Id;function _2(){if(Id)return Ht;Id=1;var u=Os();function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function x(h,d,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:S==null?null:""+S,children:h,containerInfo:d,implementation:_}}var m=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ht.createPortal=function(h,d){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return x(h,d,null,_)},Ht.flushSync=function(h){var d=m.T,_=i.p;try{if(m.T=null,i.p=2,h)return h()}finally{m.T=d,i.p=_,i.d.f()}},Ht.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Ht.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Ht.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var _=d.as,S=v(_,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,C=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;_==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:S,integrity:p,fetchPriority:C}):_==="script"&&i.d.X(h,{crossOrigin:S,integrity:p,fetchPriority:C,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ht.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var _=v(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Ht.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var _=d.as,S=v(_,d.crossOrigin);i.d.L(h,_,{crossOrigin:S,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ht.preloadModule=function(h,d){if(typeof h=="string")if(d){var _=v(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Ht.requestFormReset=function(h){i.d.r(h)},Ht.unstable_batchedUpdates=function(h,d){return h(d)},Ht.useFormState=function(h,d,_){return m.H.useFormState(h,d,_)},Ht.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ht.version="19.2.3",Ht}var Gd;function S2(){if(Gd)return xs.exports;Gd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),xs.exports=_2(),xs.exports}var Rd;function C2(){if(Rd)return tr;Rd=1;var u=p2(),r=Os(),a=S2();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(x(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=x(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var o=c.alternate;if(o===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===o.child){for(o=c.child;o;){if(o===n)return h(c),e;if(o===l)return h(c),t;o=o.sibling}throw Error(i(188))}if(n.return!==l.return)n=c,l=o;else{for(var w=!1,L=c.child;L;){if(L===n){w=!0,n=c,l=o;break}if(L===l){w=!0,l=c,n=o;break}L=L.sibling}if(!w){for(L=o.child;L;){if(L===n){w=!0,n=o,l=c;break}if(L===l){w=!0,l=o,n=c;break}L=L.sibling}if(!w)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,p=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),E=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var U=Symbol.for("react.client.reference");function M(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===U?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case B:return"Profiler";case g:return"StrictMode";case Y:return"Suspense";case R:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case E:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:M(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return M(e(t))}catch{}}return null}var b=Array.isArray,j=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A={pending:!1,data:null,method:null,action:null},T=[],k=-1;function z(e){return{current:e}}function I(e){0>k||(e.current=T[k],T[k]=null,k--)}function H(e,t){k++,T[k]=e.current,e.current=t}var V=z(null),F=z(null),ae=z(null),oe=z(null);function me(e,t){switch(H(ae,t),H(F,e),H(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ed(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ed(t),e=td(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(V),H(V,e)}function fe(){I(V),I(F),I(ae)}function be(e){e.memoizedState!==null&&H(oe,e);var t=V.current,n=td(t,e.type);t!==n&&(H(F,e),H(V,n))}function he(e){F.current===e&&(I(V),I(F)),oe.current===e&&(I(oe),Qi._currentValue=A)}var Ue,Ge;function tt(e){if(Ue===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ue=t&&t[1]||"",Ge=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+e+Ge}var nt=!1;function vt(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ie){var le=ie}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ie){le=ie}e.call(ce.prototype)}}else{try{throw Error()}catch(ie){le=ie}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ie){if(ie&&le&&typeof ie.stack=="string")return[ie.stack,le.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),w=o[0],L=o[1];if(w&&L){var K=w.split(`
`),ne=L.split(`
`);for(c=l=0;l<K.length&&!K[l].includes("DetermineComponentFrameRoot");)l++;for(;c<ne.length&&!ne[c].includes("DetermineComponentFrameRoot");)c++;if(l===K.length||c===ne.length)for(l=K.length-1,c=ne.length-1;1<=l&&0<=c&&K[l]!==ne[c];)c--;for(;1<=l&&0<=c;l--,c--)if(K[l]!==ne[c]){if(l!==1||c!==1)do if(l--,c--,0>c||K[l]!==ne[c]){var re=`
`+K[l].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=l&&0<=c);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?tt(n):""}function Yt(e,t){switch(e.tag){case 26:case 27:case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return e.child!==t&&t!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return vt(e.type,!1);case 11:return vt(e.type.render,!1);case 1:return vt(e.type,!0);case 31:return tt("Activity");default:return""}}function zt(e){try{var t="",n=null;do t+=Yt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,Ut=u.unstable_scheduleCallback,cn=u.unstable_cancelCallback,pn=u.unstable_shouldYield,Vn=u.unstable_requestPaint,Qe=u.unstable_now,_n=u.unstable_getCurrentPriorityLevel,jl=u.unstable_ImmediatePriority,al=u.unstable_UserBlockingPriority,il=u.unstable_NormalPriority,zl=u.unstable_LowPriority,na=u.unstable_IdlePriority,Jn=u.log,xi=u.unstable_setDisableYieldValue,Un=null,Et=null;function Sn(e){if(typeof Jn=="function"&&xi(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Un,e)}catch{}}var Re=Math.clz32?Math.clz32:qe,xe=Math.log,Ee=Math.LN2;function qe(e){return e>>>=0,e===0?32:31-(xe(e)/Ee|0)|0}var _e=256,ye=262144,De=4194304;function je(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Se(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,o=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var L=l&134217727;return L!==0?(l=L&~o,l!==0?c=je(l):(w&=L,w!==0?c=je(w):n||(n=L&~e,n!==0&&(c=je(n))))):(L=l&~o,L!==0?c=je(L):w!==0?c=je(w):n||(n=l&~e,n!==0&&(c=je(n)))),c===0?0:t!==0&&t!==c&&(t&o)===0&&(o=c&-c,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:c}function Pe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var e=De;return De<<=1,(De&62914560)===0&&(De=4194304),e}function Ve(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qt(e,t,n,l,c,o){var w=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var L=e.entanglements,K=e.expirationTimes,ne=e.hiddenUpdates;for(n=w&~n;0<n;){var re=31-Re(n),ce=1<<re;L[re]=0,K[re]=-1;var le=ne[re];if(le!==null)for(ne[re]=null,re=0;re<le.length;re++){var ie=le[re];ie!==null&&(ie.lane&=-536870913)}n&=~ce}l!==0&&$e(e,l,0),o!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=o&~(w&~t))}function $e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Re(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Nt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Re(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function rt(e,t){var n=t&-t;return n=(n&42)!==0?1:lt(n),(n&(e.suspendedLanes|t))!==0?0:n}function lt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ht(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Cn(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:wd(e.type))}function Ca(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var Qt=Math.random().toString(36).slice(2),ze="__reactFiber$"+Qt,Bt="__reactProps$"+Qt,Nl="__reactContainer$"+Qt,wn="__reactEvents$"+Qt,P0="__reactListeners$"+Qt,F0="__reactHandles$"+Qt,fr="__reactResources$"+Qt,la="__reactMarker$"+Qt;function fi(e){delete e[ze],delete e[Bt],delete e[wn],delete e[P0],delete e[F0]}function Dl(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nl]||n[ze]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cd(e);e!==null;){if(n=e[ze])return n;e=cd(e)}return t}e=n,n=e.parentNode}return null}function de(e){if(e=e[ze]||e[Nl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pe(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Be(e){var t=e[fr];return t||(t=e[fr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[la]=!0}var St=new Set,Wn={};function rl(e,t){wa(e,t),wa(e+"Capture",t)}function wa(e,t){for(Wn[e]=t,e=0;e<t.length;e++)St.add(t[e])}var u1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Us={},Hs={};function c1(e){return yt.call(Hs,e)?!0:yt.call(Us,e)?!1:u1.test(e)?Hs[e]=!0:(Us[e]=!0,!1)}function dr(e,t,n){if(c1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ul(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ks(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,o=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(w){n=""+w,o.call(this,w)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(w){n=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $0(e){if(!e._valueTracker){var t=Ks(e)?"checked":"value";e._valueTracker=s1(e,t,""+e[t])}}function Zs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Ks(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function mr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var o1=/[\n"\\]/g;function jn(e){return e.replace(o1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function eu(e,t,n,l,c,o,w,L){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),t!=null?w==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mn(t)):e.value!==""+Mn(t)&&(e.value=""+Mn(t)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),t!=null?tu(e,w,Mn(t)):n!=null?tu(e,w,Mn(n)):l!=null&&e.removeAttribute("value"),c==null&&o!=null&&(e.defaultChecked=!!o),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+Mn(L):e.removeAttribute("name")}function Xs(e,t,n,l,c,o,w,L){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){$0(e);return}n=n!=null?""+Mn(n):"",t=t!=null?""+Mn(t):n,L||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=L?e.checked:!!l,e.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),$0(e)}function tu(e,t,n){t==="number"&&mr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Mn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Vs(e,t,n){if(t!=null&&(t=""+Mn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Mn(n):""}function Js(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(b(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Mn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),$0(e)}function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var x1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ws(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||x1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Qs(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Ws(e,c,l)}else for(var o in t)t.hasOwnProperty(o)&&Ws(e,o,t[o])}function nu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),d1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(e){return d1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function cl(){}var lu=null;function au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var za=null,Na=null;function Ps(e){var t=de(e);if(t&&(e=t.stateNode)){var n=e[Bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(eu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+jn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Bt]||null;if(!c)throw Error(i(90));eu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Zs(l)}break e;case"textarea":Vs(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var iu=!1;function Fs(e,t,n){if(iu)return e(t,n);iu=!0;try{var l=e(t);return l}finally{if(iu=!1,(za!==null||Na!==null)&&(l0(),za&&(t=za,e=Na,Na=za=null,Ps(t),e)))for(t=0;t<e.length;t++)Ps(e[t])}}function di(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Bt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var sl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ru=!1;if(sl)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){ru=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{ru=!1}var Al=null,uu=null,gr=null;function $s(){if(gr)return gr;var e,t=uu,n=t.length,l,c="value"in Al?Al.value:Al.textContent,o=c.length;for(e=0;e<n&&t[e]===c[e];e++);var w=n-e;for(l=1;l<=w&&t[n-l]===c[o-l];l++);return gr=c.slice(e,1<l?1-l:void 0)}function vr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yr(){return!0}function eo(){return!1}function Pt(e){function t(n,l,c,o,w){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=o,this.target=w,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(n=e[L],this[L]=n?n(o):o[L]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yr:eo,this.isPropagationStopped=eo,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),t}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=Pt(aa),mi=S({},aa,{view:0,detail:0}),h1=Pt(mi),cu,su,bi,_r=S({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(cu=e.screenX-bi.screenX,su=e.screenY-bi.screenY):su=cu=0,bi=e),cu)},movementY:function(e){return"movementY"in e?e.movementY:su}}),to=Pt(_r),m1=S({},_r,{dataTransfer:0}),b1=Pt(m1),g1=S({},mi,{relatedTarget:0}),ou=Pt(g1),v1=S({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),y1=Pt(v1),p1=S({},aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_1=Pt(p1),S1=S({},aa,{data:0}),no=Pt(S1),C1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M1[e])?!!t[e]:!1}function xu(){return j1}var z1=S({},mi,{key:function(e){if(e.key){var t=C1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N1=Pt(z1),D1=S({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lo=Pt(D1),A1=S({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),L1=Pt(A1),T1=S({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),E1=Pt(T1),q1=S({},_r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B1=Pt(q1),k1=S({},aa,{newState:0,oldState:0}),I1=Pt(k1),G1=[9,13,27,32],fu=sl&&"CompositionEvent"in window,gi=null;sl&&"documentMode"in document&&(gi=document.documentMode);var R1=sl&&"TextEvent"in window&&!gi,ao=sl&&(!fu||gi&&8<gi&&11>=gi),io=" ",ro=!1;function uo(e,t){switch(e){case"keyup":return G1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function O1(e,t){switch(e){case"compositionend":return co(t);case"keypress":return t.which!==32?null:(ro=!0,io);case"textInput":return e=t.data,e===io&&ro?null:e;default:return null}}function Y1(e,t){if(Da)return e==="compositionend"||!fu&&uo(e,t)?(e=$s(),gr=uu=Al=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ao&&t.locale!=="ko"?null:t.data;default:return null}}var U1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function so(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U1[e.type]:t==="textarea"}function oo(e,t,n,l){za?Na?Na.push(l):Na=[l]:za=l,t=o0(t,"onChange"),0<t.length&&(n=new pr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var vi=null,yi=null;function H1(e){Jf(e,0)}function Sr(e){var t=pe(e);if(Zs(t))return e}function xo(e,t){if(e==="change")return t}var fo=!1;if(sl){var du;if(sl){var hu="oninput"in document;if(!hu){var ho=document.createElement("div");ho.setAttribute("oninput","return;"),hu=typeof ho.oninput=="function"}du=hu}else du=!1;fo=du&&(!document.documentMode||9<document.documentMode)}function mo(){vi&&(vi.detachEvent("onpropertychange",bo),yi=vi=null)}function bo(e){if(e.propertyName==="value"&&Sr(yi)){var t=[];oo(t,yi,e,au(e)),Fs(H1,t)}}function K1(e,t,n){e==="focusin"?(mo(),vi=t,yi=n,vi.attachEvent("onpropertychange",bo)):e==="focusout"&&mo()}function Z1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sr(yi)}function X1(e,t){if(e==="click")return Sr(t)}function V1(e,t){if(e==="input"||e==="change")return Sr(t)}function J1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:J1;function pi(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!yt.call(t,c)||!sn(e[c],t[c]))return!1}return!0}function go(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vo(e,t){var n=go(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=go(n)}}function yo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function po(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mr(e.document)}return t}function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var W1=sl&&"documentMode"in document&&11>=document.documentMode,Aa=null,bu=null,_i=null,gu=!1;function _o(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gu||Aa==null||Aa!==mr(l)||(l=Aa,"selectionStart"in l&&mu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_i&&pi(_i,l)||(_i=l,l=o0(bu,"onSelect"),0<l.length&&(t=new pr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Aa)))}function ia(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var La={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},vu={},So={};sl&&(So=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function ra(e){if(vu[e])return vu[e];if(!La[e])return e;var t=La[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in So)return vu[e]=t[n];return e}var Co=ra("animationend"),wo=ra("animationiteration"),Mo=ra("animationstart"),Q1=ra("transitionrun"),P1=ra("transitionstart"),F1=ra("transitioncancel"),jo=ra("transitionend"),zo=new Map,yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yu.push("scrollEnd");function Hn(e,t){zo.set(e,t),rl(t,[e])}var Cr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],Ta=0,pu=0;function wr(){for(var e=Ta,t=pu=Ta=0;t<e;){var n=zn[t];zn[t++]=null;var l=zn[t];zn[t++]=null;var c=zn[t];zn[t++]=null;var o=zn[t];if(zn[t++]=null,l!==null&&c!==null){var w=l.pending;w===null?c.next=c:(c.next=w.next,w.next=c),l.pending=c}o!==0&&No(n,c,o)}}function Mr(e,t,n,l){zn[Ta++]=e,zn[Ta++]=t,zn[Ta++]=n,zn[Ta++]=l,pu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function _u(e,t,n,l){return Mr(e,t,n,l),jr(e)}function ua(e,t){return Mr(e,null,null,t),jr(e)}function No(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,o=e.return;o!==null;)o.childLanes|=n,l=o.alternate,l!==null&&(l.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(c=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,c&&t!==null&&(c=31-Re(n),e=o.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),o):null}function jr(e){if(50<Hi)throw Hi=0,Ac=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ea={};function $1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,l){return new $1(e,t,n,l)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ol(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Do(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,l,c,o){var w=0;if(l=e,typeof e=="function")Su(e)&&(w=1);else if(typeof e=="string")w=a2(e,n,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=on(31,n,t,c),e.elementType=Q,e.lanes=o,e;case y:return ca(n.children,c,o,t);case g:w=8,c|=24;break;case B:return e=on(12,n,t,c|2),e.elementType=B,e.lanes=o,e;case Y:return e=on(13,n,t,c),e.elementType=Y,e.lanes=o,e;case R:return e=on(19,n,t,c),e.elementType=R,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:w=10;break e;case O:w=9;break e;case G:w=11;break e;case Z:w=14;break e;case P:w=16,l=null;break e}w=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=on(w,n,t,c),t.elementType=e,t.type=l,t.lanes=o,t}function ca(e,t,n,l){return e=on(7,e,l,t),e.lanes=n,e}function Cu(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function Ao(e){var t=on(18,null,null,0);return t.stateNode=e,t}function wu(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Lo=new WeakMap;function Nn(e,t){if(typeof e=="object"&&e!==null){var n=Lo.get(e);return n!==void 0?n:(t={value:e,source:t,stack:zt(t)},Lo.set(e,t),t)}return{value:e,source:t,stack:zt(t)}}var qa=[],Ba=0,Nr=null,Si=0,Dn=[],An=0,Ll=null,Qn=1,Pn="";function xl(e,t){qa[Ba++]=Si,qa[Ba++]=Nr,Nr=e,Si=t}function To(e,t,n){Dn[An++]=Qn,Dn[An++]=Pn,Dn[An++]=Ll,Ll=e;var l=Qn;e=Pn;var c=32-Re(l)-1;l&=~(1<<c),n+=1;var o=32-Re(t)+c;if(30<o){var w=c-c%5;o=(l&(1<<w)-1).toString(32),l>>=w,c-=w,Qn=1<<32-Re(t)+c|n<<c|l,Pn=o+e}else Qn=1<<o|n<<c|l,Pn=e}function Mu(e){e.return!==null&&(xl(e,1),To(e,1,0))}function ju(e){for(;e===Nr;)Nr=qa[--Ba],qa[Ba]=null,Si=qa[--Ba],qa[Ba]=null;for(;e===Ll;)Ll=Dn[--An],Dn[An]=null,Pn=Dn[--An],Dn[An]=null,Qn=Dn[--An],Dn[An]=null}function Eo(e,t){Dn[An++]=Qn,Dn[An++]=Pn,Dn[An++]=Ll,Qn=t.id,Pn=t.overflow,Ll=e}var kt=null,xt=null,He=!1,Tl=null,Ln=!1,zu=Error(i(519));function El(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ci(Nn(t,e)),zu}function qo(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ze]=e,t[Bt]=l,n){case"dialog":Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":case"embed":Ie("load",t);break;case"video":case"audio":for(n=0;n<Zi.length;n++)Ie(Zi[n],t);break;case"source":Ie("error",t);break;case"img":case"image":case"link":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"input":Ie("invalid",t),Xs(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",t);break;case"textarea":Ie("invalid",t),Js(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Ff(t.textContent,n)?(l.popover!=null&&(Ie("beforetoggle",t),Ie("toggle",t)),l.onScroll!=null&&Ie("scroll",t),l.onScrollEnd!=null&&Ie("scrollend",t),l.onClick!=null&&(t.onclick=cl),t=!0):t=!1,t||El(e,!0)}function Bo(e){for(kt=e.return;kt;)switch(kt.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:kt=kt.return}}function ka(e){if(e!==kt)return!1;if(!He)return Bo(e),He=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Zc(e.type,e.memoizedProps)),n=!n),n&&xt&&El(e),Bo(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));xt=ud(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));xt=ud(e)}else t===27?(t=xt,Vl(e.type)?(e=Qc,Qc=null,xt=e):xt=t):xt=kt?En(e.stateNode.nextSibling):null;return!0}function sa(){xt=kt=null,He=!1}function Nu(){var e=Tl;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),Tl=null),e}function Ci(e){Tl===null?Tl=[e]:Tl.push(e)}var Du=z(null),oa=null,fl=null;function ql(e,t,n){H(Du,t._currentValue),t._currentValue=n}function dl(e){e._currentValue=Du.current,I(Du)}function Au(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Lu(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var o=c.dependencies;if(o!==null){var w=c.child;o=o.firstContext;e:for(;o!==null;){var L=o;o=c;for(var K=0;K<t.length;K++)if(L.context===t[K]){o.lanes|=n,L=o.alternate,L!==null&&(L.lanes|=n),Au(o.return,n,e),l||(w=null);break e}o=L.next}}else if(c.tag===18){if(w=c.return,w===null)throw Error(i(341));w.lanes|=n,o=w.alternate,o!==null&&(o.lanes|=n),Au(w,n,e),w=null}else w=c.child;if(w!==null)w.return=c;else for(w=c;w!==null;){if(w===e){w=null;break}if(c=w.sibling,c!==null){c.return=w.return,w=c;break}w=w.return}c=w}}function Ia(e,t,n,l){e=null;for(var c=t,o=!1;c!==null;){if(!o){if((c.flags&524288)!==0)o=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var w=c.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var L=c.type;sn(c.pendingProps.value,w.value)||(e!==null?e.push(L):e=[L])}}else if(c===oe.current){if(w=c.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Qi):e=[Qi])}c=c.return}e!==null&&Lu(t,e,n,l),t.flags|=262144}function Dr(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xa(e){oa=e,fl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function It(e){return ko(oa,e)}function Ar(e,t){return oa===null&&xa(e),ko(e,t)}function ko(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fl===null){if(e===null)throw Error(i(308));fl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fl=fl.next=t;return n}var eh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},th=u.unstable_scheduleCallback,nh=u.unstable_NormalPriority,Ct={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new eh,data:new Map,refCount:0}}function wi(e){e.refCount--,e.refCount===0&&th(nh,function(){e.controller.abort()})}var Mi=null,Eu=0,Ga=0,Ra=null;function lh(e,t){if(Mi===null){var n=Mi=[];Eu=0,Ga=kc(),Ra={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Eu++,t.then(Io,Io),t}function Io(){if(--Eu===0&&Mi!==null){Ra!==null&&(Ra.status="fulfilled");var e=Mi;Mi=null,Ga=0,Ra=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ah(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Go=j.S;j.S=function(e,t){Sf=Qe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&lh(e,t),Go!==null&&Go(e,t)};var fa=z(null);function qu(){var e=fa.current;return e!==null?e:ot.pooledCache}function Lr(e,t){t===null?H(fa,fa.current):H(fa,t.pool)}function Ro(){var e=qu();return e===null?null:{parent:Ct._currentValue,pool:e}}var Oa=Error(i(460)),Bu=Error(i(474)),Tr=Error(i(542)),Er={then:function(){}};function Oo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yo(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(cl,cl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ho(e),e;default:if(typeof t.status=="string")t.then(cl,cl);else{if(e=ot,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ho(e),e}throw ha=t,Oa}}function da(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ha=n,Oa):n}}var ha=null;function Uo(){if(ha===null)throw Error(i(459));var e=ha;return ha=null,e}function Ho(e){if(e===Oa||e===Tr)throw Error(i(483))}var Ya=null,ji=0;function qr(e){var t=ji;return ji+=1,Ya===null&&(Ya=[]),Yo(Ya,e,t)}function zi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Br(e,t){throw t.$$typeof===p?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ko(e){function t($,J){if(e){var te=$.deletions;te===null?($.deletions=[J],$.flags|=16):te.push(J)}}function n($,J){if(!e)return null;for(;J!==null;)t($,J),J=J.sibling;return null}function l($){for(var J=new Map;$!==null;)$.key!==null?J.set($.key,$):J.set($.index,$),$=$.sibling;return J}function c($,J){return $=ol($,J),$.index=0,$.sibling=null,$}function o($,J,te){return $.index=te,e?(te=$.alternate,te!==null?(te=te.index,te<J?($.flags|=67108866,J):te):($.flags|=67108866,J)):($.flags|=1048576,J)}function w($){return e&&$.alternate===null&&($.flags|=67108866),$}function L($,J,te,ue){return J===null||J.tag!==6?(J=Cu(te,$.mode,ue),J.return=$,J):(J=c(J,te),J.return=$,J)}function K($,J,te,ue){var Ce=te.type;return Ce===y?re($,J,te.props.children,ue,te.key):J!==null&&(J.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===P&&da(Ce)===J.type)?(J=c(J,te.props),zi(J,te),J.return=$,J):(J=zr(te.type,te.key,te.props,null,$.mode,ue),zi(J,te),J.return=$,J)}function ne($,J,te,ue){return J===null||J.tag!==4||J.stateNode.containerInfo!==te.containerInfo||J.stateNode.implementation!==te.implementation?(J=wu(te,$.mode,ue),J.return=$,J):(J=c(J,te.children||[]),J.return=$,J)}function re($,J,te,ue,Ce){return J===null||J.tag!==7?(J=ca(te,$.mode,ue,Ce),J.return=$,J):(J=c(J,te),J.return=$,J)}function ce($,J,te){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Cu(""+J,$.mode,te),J.return=$,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return te=zr(J.type,J.key,J.props,null,$.mode,te),zi(te,J),te.return=$,te;case N:return J=wu(J,$.mode,te),J.return=$,J;case P:return J=da(J),ce($,J,te)}if(b(J)||q(J))return J=ca(J,$.mode,te,null),J.return=$,J;if(typeof J.then=="function")return ce($,qr(J),te);if(J.$$typeof===E)return ce($,Ar($,J),te);Br($,J)}return null}function le($,J,te,ue){var Ce=J!==null?J.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ce!==null?null:L($,J,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case C:return te.key===Ce?K($,J,te,ue):null;case N:return te.key===Ce?ne($,J,te,ue):null;case P:return te=da(te),le($,J,te,ue)}if(b(te)||q(te))return Ce!==null?null:re($,J,te,ue,null);if(typeof te.then=="function")return le($,J,qr(te),ue);if(te.$$typeof===E)return le($,J,Ar($,te),ue);Br($,te)}return null}function ie($,J,te,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return $=$.get(te)||null,L(J,$,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case C:return $=$.get(ue.key===null?te:ue.key)||null,K(J,$,ue,Ce);case N:return $=$.get(ue.key===null?te:ue.key)||null,ne(J,$,ue,Ce);case P:return ue=da(ue),ie($,J,te,ue,Ce)}if(b(ue)||q(ue))return $=$.get(te)||null,re(J,$,ue,Ce,null);if(typeof ue.then=="function")return ie($,J,te,qr(ue),Ce);if(ue.$$typeof===E)return ie($,J,te,Ar(J,ue),Ce);Br(J,ue)}return null}function ge($,J,te,ue){for(var Ce=null,Je=null,ve=J,Te=J=0,Ye=null;ve!==null&&Te<te.length;Te++){ve.index>Te?(Ye=ve,ve=null):Ye=ve.sibling;var We=le($,ve,te[Te],ue);if(We===null){ve===null&&(ve=Ye);break}e&&ve&&We.alternate===null&&t($,ve),J=o(We,J,Te),Je===null?Ce=We:Je.sibling=We,Je=We,ve=Ye}if(Te===te.length)return n($,ve),He&&xl($,Te),Ce;if(ve===null){for(;Te<te.length;Te++)ve=ce($,te[Te],ue),ve!==null&&(J=o(ve,J,Te),Je===null?Ce=ve:Je.sibling=ve,Je=ve);return He&&xl($,Te),Ce}for(ve=l(ve);Te<te.length;Te++)Ye=ie(ve,$,Te,te[Te],ue),Ye!==null&&(e&&Ye.alternate!==null&&ve.delete(Ye.key===null?Te:Ye.key),J=o(Ye,J,Te),Je===null?Ce=Ye:Je.sibling=Ye,Je=Ye);return e&&ve.forEach(function(Fl){return t($,Fl)}),He&&xl($,Te),Ce}function Me($,J,te,ue){if(te==null)throw Error(i(151));for(var Ce=null,Je=null,ve=J,Te=J=0,Ye=null,We=te.next();ve!==null&&!We.done;Te++,We=te.next()){ve.index>Te?(Ye=ve,ve=null):Ye=ve.sibling;var Fl=le($,ve,We.value,ue);if(Fl===null){ve===null&&(ve=Ye);break}e&&ve&&Fl.alternate===null&&t($,ve),J=o(Fl,J,Te),Je===null?Ce=Fl:Je.sibling=Fl,Je=Fl,ve=Ye}if(We.done)return n($,ve),He&&xl($,Te),Ce;if(ve===null){for(;!We.done;Te++,We=te.next())We=ce($,We.value,ue),We!==null&&(J=o(We,J,Te),Je===null?Ce=We:Je.sibling=We,Je=We);return He&&xl($,Te),Ce}for(ve=l(ve);!We.done;Te++,We=te.next())We=ie(ve,$,Te,We.value,ue),We!==null&&(e&&We.alternate!==null&&ve.delete(We.key===null?Te:We.key),J=o(We,J,Te),Je===null?Ce=We:Je.sibling=We,Je=We);return e&&ve.forEach(function(m2){return t($,m2)}),He&&xl($,Te),Ce}function st($,J,te,ue){if(typeof te=="object"&&te!==null&&te.type===y&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case C:e:{for(var Ce=te.key;J!==null;){if(J.key===Ce){if(Ce=te.type,Ce===y){if(J.tag===7){n($,J.sibling),ue=c(J,te.props.children),ue.return=$,$=ue;break e}}else if(J.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===P&&da(Ce)===J.type){n($,J.sibling),ue=c(J,te.props),zi(ue,te),ue.return=$,$=ue;break e}n($,J);break}else t($,J);J=J.sibling}te.type===y?(ue=ca(te.props.children,$.mode,ue,te.key),ue.return=$,$=ue):(ue=zr(te.type,te.key,te.props,null,$.mode,ue),zi(ue,te),ue.return=$,$=ue)}return w($);case N:e:{for(Ce=te.key;J!==null;){if(J.key===Ce)if(J.tag===4&&J.stateNode.containerInfo===te.containerInfo&&J.stateNode.implementation===te.implementation){n($,J.sibling),ue=c(J,te.children||[]),ue.return=$,$=ue;break e}else{n($,J);break}else t($,J);J=J.sibling}ue=wu(te,$.mode,ue),ue.return=$,$=ue}return w($);case P:return te=da(te),st($,J,te,ue)}if(b(te))return ge($,J,te,ue);if(q(te)){if(Ce=q(te),typeof Ce!="function")throw Error(i(150));return te=Ce.call(te),Me($,J,te,ue)}if(typeof te.then=="function")return st($,J,qr(te),ue);if(te.$$typeof===E)return st($,J,Ar($,te),ue);Br($,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,J!==null&&J.tag===6?(n($,J.sibling),ue=c(J,te),ue.return=$,$=ue):(n($,J),ue=Cu(te,$.mode,ue),ue.return=$,$=ue),w($)):n($,J)}return function($,J,te,ue){try{ji=0;var Ce=st($,J,te,ue);return Ya=null,Ce}catch(ve){if(ve===Oa||ve===Tr)throw ve;var Je=on(29,ve,null,$.mode);return Je.lanes=ue,Je.return=$,Je}}}var ma=Ko(!0),Zo=Ko(!1),Bl=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Il(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=jr(e),No(e,null,n),t}return Mr(e,l,t,n),jr(e)}function Ni(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Nt(e,n)}}function Gu(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var w={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?c=o=w:o=o.next=w,n=n.next}while(n!==null);o===null?c=o=t:o=o.next=t}else c=o=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ru=!1;function Di(){if(Ru){var e=Ra;if(e!==null)throw e}}function Ai(e,t,n,l){Ru=!1;var c=e.updateQueue;Bl=!1;var o=c.firstBaseUpdate,w=c.lastBaseUpdate,L=c.shared.pending;if(L!==null){c.shared.pending=null;var K=L,ne=K.next;K.next=null,w===null?o=ne:w.next=ne,w=K;var re=e.alternate;re!==null&&(re=re.updateQueue,L=re.lastBaseUpdate,L!==w&&(L===null?re.firstBaseUpdate=ne:L.next=ne,re.lastBaseUpdate=K))}if(o!==null){var ce=c.baseState;w=0,re=ne=K=null,L=o;do{var le=L.lane&-536870913,ie=le!==L.lane;if(ie?(Oe&le)===le:(l&le)===le){le!==0&&le===Ga&&(Ru=!0),re!==null&&(re=re.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var ge=e,Me=L;le=t;var st=n;switch(Me.tag){case 1:if(ge=Me.payload,typeof ge=="function"){ce=ge.call(st,ce,le);break e}ce=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Me.payload,le=typeof ge=="function"?ge.call(st,ce,le):ge,le==null)break e;ce=S({},ce,le);break e;case 2:Bl=!0}}le=L.callback,le!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=c.callbacks,ie===null?c.callbacks=[le]:ie.push(le))}else ie={lane:le,tag:L.tag,payload:L.payload,callback:L.callback,next:null},re===null?(ne=re=ie,K=ce):re=re.next=ie,w|=le;if(L=L.next,L===null){if(L=c.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,c.lastBaseUpdate=ie,c.shared.pending=null}}while(!0);re===null&&(K=ce),c.baseState=K,c.firstBaseUpdate=ne,c.lastBaseUpdate=re,o===null&&(c.shared.lanes=0),Ul|=w,e.lanes=w,e.memoizedState=ce}}function Xo(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Vo(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Xo(n[e],t)}var Ua=z(null),kr=z(0);function Jo(e,t){e=Sl,H(kr,e),H(Ua,t),Sl=e|t.baseLanes}function Ou(){H(kr,Sl),H(Ua,Ua.current)}function Yu(){Sl=kr.current,I(Ua),I(kr)}var xn=z(null),Tn=null;function Gl(e){var t=e.alternate;H(pt,pt.current&1),H(xn,e),Tn===null&&(t===null||Ua.current!==null||t.memoizedState!==null)&&(Tn=e)}function Uu(e){H(pt,pt.current),H(xn,e),Tn===null&&(Tn=e)}function Wo(e){e.tag===22?(H(pt,pt.current),H(xn,e),Tn===null&&(Tn=e)):Rl()}function Rl(){H(pt,pt.current),H(xn,xn.current)}function fn(e){I(xn),Tn===e&&(Tn=null),I(pt)}var pt=z(0);function Ir(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Jc(n)||Wc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hl=0,Le=null,ut=null,wt=null,Gr=!1,Ha=!1,ba=!1,Rr=0,Li=0,Ka=null,ih=0;function mt(){throw Error(i(321))}function Hu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function Ku(e,t,n,l,c,o){return hl=o,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?Tx:ic,ba=!1,o=n(l,c),ba=!1,Ha&&(o=Po(t,n,l,c)),Qo(e),o}function Qo(e){j.H=qi;var t=ut!==null&&ut.next!==null;if(hl=0,wt=ut=Le=null,Gr=!1,Li=0,Ka=null,t)throw Error(i(300));e===null||Mt||(e=e.dependencies,e!==null&&Dr(e)&&(Mt=!0))}function Po(e,t,n,l){Le=e;var c=0;do{if(Ha&&(Ka=null),Li=0,Ha=!1,25<=c)throw Error(i(301));if(c+=1,wt=ut=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}j.H=Ex,o=t(n,l)}while(Ha);return o}function rh(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?Ti(t):t,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(Le.flags|=1024),t}function Zu(){var e=Rr!==0;return Rr=0,e}function Xu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Vu(e){if(Gr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gr=!1}hl=0,wt=ut=Le=null,Ha=!1,Li=Rr=0,Ka=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Le.memoizedState=wt=e:wt=wt.next=e,wt}function _t(){if(ut===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=wt===null?Le.memoizedState:wt.next;if(t!==null)wt=t,ut=e;else{if(e===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},wt===null?Le.memoizedState=wt=e:wt=wt.next=e}return wt}function Or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ti(e){var t=Li;return Li+=1,Ka===null&&(Ka=[]),e=Yo(Ka,e,t),t=Le,(wt===null?t.memoizedState:wt.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?Tx:ic),e}function Yr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ti(e);if(e.$$typeof===E)return It(e)}throw Error(i(438,String(e)))}function Ju(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Or(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=W;return t.index++,n}function ml(e,t){return typeof t=="function"?t(e):t}function Ur(e){var t=_t();return Wu(t,ut,e)}function Wu(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=e.baseQueue,o=l.pending;if(o!==null){if(c!==null){var w=c.next;c.next=o.next,o.next=w}t.baseQueue=c=o,l.pending=null}if(o=e.baseState,c===null)e.memoizedState=o;else{t=c.next;var L=w=null,K=null,ne=t,re=!1;do{var ce=ne.lane&-536870913;if(ce!==ne.lane?(Oe&ce)===ce:(hl&ce)===ce){var le=ne.revertLane;if(le===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),ce===Ga&&(re=!0);else if((hl&le)===le){ne=ne.next,le===Ga&&(re=!0);continue}else ce={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},K===null?(L=K=ce,w=o):K=K.next=ce,Le.lanes|=le,Ul|=le;ce=ne.action,ba&&n(o,ce),o=ne.hasEagerState?ne.eagerState:n(o,ce)}else le={lane:ce,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},K===null?(L=K=le,w=o):K=K.next=le,Le.lanes|=ce,Ul|=ce;ne=ne.next}while(ne!==null&&ne!==t);if(K===null?w=o:K.next=L,!sn(o,e.memoizedState)&&(Mt=!0,re&&(n=Ra,n!==null)))throw n;e.memoizedState=o,e.baseState=w,e.baseQueue=K,l.lastRenderedState=o}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Qu(e){var t=_t(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,o=t.memoizedState;if(c!==null){n.pending=null;var w=c=c.next;do o=e(o,w.action),w=w.next;while(w!==c);sn(o,t.memoizedState)||(Mt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function Fo(e,t,n){var l=Le,c=_t(),o=He;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var w=!sn((ut||c).memoizedState,n);if(w&&(c.memoizedState=n,Mt=!0),c=c.queue,$u(tx.bind(null,l,c,e),[e]),c.getSnapshot!==t||w||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},ex.bind(null,l,c,n,t),null),ot===null)throw Error(i(349));o||(hl&127)!==0||$o(l,t,n)}return n}function $o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=Or(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ex(e,t,n,l){t.value=n,t.getSnapshot=l,nx(t)&&lx(e)}function tx(e,t,n){return n(function(){nx(t)&&lx(e)})}function nx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function lx(e){var t=ua(e,2);t!==null&&nn(t,e,2)}function Pu(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),ba){Sn(!0);try{n()}finally{Sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t}function ax(e,t,n,l){return e.baseState=n,Wu(e,ut,typeof l=="function"?l:ml)}function uh(e,t,n,l,c){if(Zr(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){o.listeners.push(w)}};j.T!==null?n(!0):o.isTransition=!1,l(o),n=t.pending,n===null?(o.next=t.pending=o,ix(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ix(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var o=j.T,w={};j.T=w;try{var L=n(c,l),K=j.S;K!==null&&K(w,L),rx(e,t,L)}catch(ne){Fu(e,t,ne)}finally{o!==null&&w.types!==null&&(o.types=w.types),j.T=o}}else try{o=n(c,l),rx(e,t,o)}catch(ne){Fu(e,t,ne)}}function rx(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){ux(e,t,l)},function(l){return Fu(e,t,l)}):ux(e,t,n)}function ux(e,t,n){t.status="fulfilled",t.value=n,cx(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ix(e,n)))}function Fu(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,cx(t),t=t.next;while(t!==l)}e.action=null}function cx(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sx(e,t){return t}function ox(e,t){if(He){var n=ot.formState;if(n!==null){e:{var l=Le;if(He){if(xt){t:{for(var c=xt,o=Ln;c.nodeType!==8;){if(!o){c=null;break t}if(c=En(c.nextSibling),c===null){c=null;break t}}o=c.data,c=o==="F!"||o==="F"?c:null}if(c){xt=En(c.nextSibling),l=c.data==="F!";break e}}El(l)}l=!1}l&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sx,lastRenderedState:t},n.queue=l,n=Dx.bind(null,Le,l),l.dispatch=n,l=Pu(!1),o=ac.bind(null,Le,!1,l.queue),l=Kt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=uh.bind(null,Le,c,o,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function xx(e){var t=_t();return fx(t,ut,e)}function fx(e,t,n){if(t=Wu(e,t,sx)[0],e=Ur(ml)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ti(t)}catch(w){throw w===Oa?Tr:w}else l=t;t=_t();var c=t.queue,o=c.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,Za(9,{destroy:void 0},ch.bind(null,c,n),null)),[l,o,e]}function ch(e,t){e.action=t}function dx(e){var t=_t(),n=ut;if(n!==null)return fx(t,n,e);_t(),t=t.memoizedState,n=_t();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Za(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Le.updateQueue,t===null&&(t=Or(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function hx(){return _t().memoizedState}function Hr(e,t,n,l){var c=Kt();Le.flags|=e,c.memoizedState=Za(1|t,{destroy:void 0},n,l===void 0?null:l)}function Kr(e,t,n,l){var c=_t();l=l===void 0?null:l;var o=c.memoizedState.inst;ut!==null&&l!==null&&Hu(l,ut.memoizedState.deps)?c.memoizedState=Za(t,o,n,l):(Le.flags|=e,c.memoizedState=Za(1|t,o,n,l))}function mx(e,t){Hr(8390656,8,e,t)}function $u(e,t){Kr(2048,8,e,t)}function sh(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=Or(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function bx(e){var t=_t().memoizedState;return sh({ref:t,nextImpl:e}),function(){if((et&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function gx(e,t){return Kr(4,2,e,t)}function vx(e,t){return Kr(4,4,e,t)}function yx(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function px(e,t,n){n=n!=null?n.concat([e]):null,Kr(4,4,yx.bind(null,t,e),n)}function ec(){}function _x(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Hu(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Sx(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Hu(t,l[1]))return l[0];if(l=e(),ba){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[l,t],l}function tc(e,t,n){return n===void 0||(hl&1073741824)!==0&&(Oe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=wf(),Le.lanes|=e,Ul|=e,n)}function Cx(e,t,n,l){return sn(n,t)?n:Ua.current!==null?(e=tc(e,n,l),sn(e,t)||(Mt=!0),e):(hl&42)===0||(hl&1073741824)!==0&&(Oe&261930)===0?(Mt=!0,e.memoizedState=n):(e=wf(),Le.lanes|=e,Ul|=e,t)}function wx(e,t,n,l,c){var o=D.p;D.p=o!==0&&8>o?o:8;var w=j.T,L={};j.T=L,ac(e,!1,t,n);try{var K=c(),ne=j.S;if(ne!==null&&ne(L,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var re=ah(K,l);Ei(e,t,re,mn(e))}else Ei(e,t,l,mn(e))}catch(ce){Ei(e,t,{then:function(){},status:"rejected",reason:ce},mn())}finally{D.p=o,w!==null&&L.types!==null&&(w.types=L.types),j.T=w}}function oh(){}function nc(e,t,n,l){if(e.tag!==5)throw Error(i(476));var c=Mx(e).queue;wx(e,c,t,A,n===null?oh:function(){return jx(e),n(l)})}function Mx(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:A},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jx(e){var t=Mx(e);t.next===null&&(t=e.alternate.memoizedState),Ei(e,t.next.queue,{},mn())}function lc(){return It(Qi)}function zx(){return _t().memoizedState}function Nx(){return _t().memoizedState}function xh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mn();e=kl(n);var l=Il(t,e,n);l!==null&&(nn(l,t,n),Ni(l,t,n)),t={cache:Tu()},e.payload=t;return}t=t.return}}function fh(e,t,n){var l=mn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Zr(e)?Ax(t,n):(n=_u(e,t,n,l),n!==null&&(nn(n,e,l),Lx(n,t,l)))}function Dx(e,t,n){var l=mn();Ei(e,t,n,l)}function Ei(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zr(e))Ax(t,c);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var w=t.lastRenderedState,L=o(w,n);if(c.hasEagerState=!0,c.eagerState=L,sn(L,w))return Mr(e,t,c,0),ot===null&&wr(),!1}catch{}if(n=_u(e,t,c,l),n!==null)return nn(n,e,l),Lx(n,t,l),!0}return!1}function ac(e,t,n,l){if(l={lane:2,revertLane:kc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zr(e)){if(t)throw Error(i(479))}else t=_u(e,n,l,2),t!==null&&nn(t,e,2)}function Zr(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Ax(e,t){Ha=Gr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Lx(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Nt(e,n)}}var qi={readContext:It,use:Yr,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};qi.useEffectEvent=mt;var Tx={readContext:It,use:Yr,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:mx,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Hr(4194308,4,yx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hr(4194308,4,e,t)},useInsertionEffect:function(e,t){Hr(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var l=e();if(ba){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Kt();if(n!==void 0){var c=n(t);if(ba){Sn(!0);try{n(t)}finally{Sn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=fh.bind(null,Le,e),[l.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Pu(e);var t=e.queue,n=Dx.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ec,useDeferredValue:function(e,t){var n=Kt();return tc(n,e,t)},useTransition:function(){var e=Pu(!1);return e=wx.bind(null,Le,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Le,c=Kt();if(He){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ot===null)throw Error(i(349));(Oe&127)!==0||$o(l,t,n)}c.memoizedState=n;var o={value:n,getSnapshot:t};return c.queue=o,mx(tx.bind(null,l,o,e),[e]),l.flags|=2048,Za(9,{destroy:void 0},ex.bind(null,l,o,n,t),null),n},useId:function(){var e=Kt(),t=ot.identifierPrefix;if(He){var n=Pn,l=Qn;n=(l&~(1<<32-Re(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ih++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:lc,useFormState:ox,useActionState:ox,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ac.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ju,useCacheRefresh:function(){return Kt().memoizedState=xh.bind(null,Le)},useEffectEvent:function(e){var t=Kt(),n={impl:e};return t.memoizedState=n,function(){if((et&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},ic={readContext:It,use:Yr,useCallback:_x,useContext:It,useEffect:$u,useImperativeHandle:px,useInsertionEffect:gx,useLayoutEffect:vx,useMemo:Sx,useReducer:Ur,useRef:hx,useState:function(){return Ur(ml)},useDebugValue:ec,useDeferredValue:function(e,t){var n=_t();return Cx(n,ut.memoizedState,e,t)},useTransition:function(){var e=Ur(ml)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Fo,useId:zx,useHostTransitionStatus:lc,useFormState:xx,useActionState:xx,useOptimistic:function(e,t){var n=_t();return ax(n,ut,e,t)},useMemoCache:Ju,useCacheRefresh:Nx};ic.useEffectEvent=bx;var Ex={readContext:It,use:Yr,useCallback:_x,useContext:It,useEffect:$u,useImperativeHandle:px,useInsertionEffect:gx,useLayoutEffect:vx,useMemo:Sx,useReducer:Qu,useRef:hx,useState:function(){return Qu(ml)},useDebugValue:ec,useDeferredValue:function(e,t){var n=_t();return ut===null?tc(n,e,t):Cx(n,ut.memoizedState,e,t)},useTransition:function(){var e=Qu(ml)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Fo,useId:zx,useHostTransitionStatus:lc,useFormState:dx,useActionState:dx,useOptimistic:function(e,t){var n=_t();return ut!==null?ax(n,ut,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:Nx};Ex.useEffectEvent=bx;function rc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uc={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=mn(),c=kl(l);c.payload=t,n!=null&&(c.callback=n),t=Il(e,c,l),t!==null&&(nn(t,e,l),Ni(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=mn(),c=kl(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Il(e,c,l),t!==null&&(nn(t,e,l),Ni(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),l=kl(n);l.tag=2,t!=null&&(l.callback=t),t=Il(e,l,n),t!==null&&(nn(t,e,n),Ni(t,e,n))}};function qx(e,t,n,l,c,o,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,w):t.prototype&&t.prototype.isPureReactComponent?!pi(n,l)||!pi(c,o):!0}function Bx(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&uc.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function kx(e){Cr(e)}function Ix(e){console.error(e)}function Gx(e){Cr(e)}function Xr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Rx(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function cc(e,t,n){return n=kl(n),n.tag=3,n.payload={element:null},n.callback=function(){Xr(e,t)},n}function Ox(e){return e=kl(e),e.tag=3,e}function Yx(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var o=l.value;e.payload=function(){return c(o)},e.callback=function(){Rx(t,n,l)}}var w=n.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){Rx(t,n,l),typeof c!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function dh(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ia(t,n,c,!0),n=xn.current,n!==null){switch(n.tag){case 31:case 13:return Tn===null?a0():n.alternate===null&&bt===0&&(bt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Ec(e,l,c)),!1;case 22:return n.flags|=65536,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Ec(e,l,c)),!1}throw Error(i(435,n.tag))}return Ec(e,l,c),a0(),!1}if(He)return t=xn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==zu&&(e=Error(i(422),{cause:l}),Ci(Nn(e,n)))):(l!==zu&&(t=Error(i(423),{cause:l}),Ci(Nn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Nn(l,n),c=cc(e.stateNode,l,c),Gu(e,c),bt!==4&&(bt=2)),!1;var o=Error(i(520),{cause:l});if(o=Nn(o,n),Ui===null?Ui=[o]:Ui.push(o),bt!==4&&(bt=2),t===null)return!0;l=Nn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=cc(n.stateNode,l,e),Gu(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Hl===null||!Hl.has(o))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Ox(c),Yx(c,e,n,l),Gu(n,c),!1}n=n.return}while(n!==null);return!1}var sc=Error(i(461)),Mt=!1;function Gt(e,t,n,l){t.child=e===null?Zo(t,null,n,l):ma(t,e.child,n,l)}function Ux(e,t,n,l,c){n=n.render;var o=t.ref;if("ref"in l){var w={};for(var L in l)L!=="ref"&&(w[L]=l[L])}else w=l;return xa(t),l=Ku(e,t,n,w,o,c),L=Zu(),e!==null&&!Mt?(Xu(e,t,c),bl(e,t,c)):(He&&L&&Mu(t),t.flags|=1,Gt(e,t,l,c),t.child)}function Hx(e,t,n,l,c){if(e===null){var o=n.type;return typeof o=="function"&&!Su(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Kx(e,t,o,l,c)):(e=zr(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!gc(e,c)){var w=o.memoizedProps;if(n=n.compare,n=n!==null?n:pi,n(w,l)&&e.ref===t.ref)return bl(e,t,c)}return t.flags|=1,e=ol(o,l),e.ref=t.ref,e.return=t,t.child=e}function Kx(e,t,n,l,c){if(e!==null){var o=e.memoizedProps;if(pi(o,l)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=l=o,gc(e,c))(e.flags&131072)!==0&&(Mt=!0);else return t.lanes=e.lanes,bl(e,t,c)}return oc(e,t,n,l,c)}function Zx(e,t,n,l){var c=l.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~o}else l=0,t.child=null;return Xx(e,t,o,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lr(t,o!==null?o.cachePool:null),o!==null?Jo(t,o):Ou(),Wo(t);else return l=t.lanes=536870912,Xx(e,t,o!==null?o.baseLanes|n:n,n,l)}else o!==null?(Lr(t,o.cachePool),Jo(t,o),Rl(),t.memoizedState=null):(e!==null&&Lr(t,null),Ou(),Rl());return Gt(e,t,c,n),t.child}function Bi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xx(e,t,n,l,c){var o=qu();return o=o===null?null:{parent:Ct._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Lr(t,null),Ou(),Wo(t),e!==null&&Ia(e,t,l,!0),t.childLanes=c,null}function Vr(e,t){return t=Wr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vx(e,t,n){return ma(t,e.child,null,n),e=Vr(t,t.pendingProps),e.flags|=2,fn(t),t.memoizedState=null,e}function hh(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(l.mode==="hidden")return e=Vr(t,l),t.lanes=536870912,Bi(null,e);if(Uu(t),(e=xt)?(e=rd(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ll!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Ao(e),n.return=t,t.child=n,kt=t,xt=null)):e=null,e===null)throw El(t);return t.lanes=536870912,null}return Vr(t,l)}var o=e.memoizedState;if(o!==null){var w=o.dehydrated;if(Uu(t),c)if(t.flags&256)t.flags&=-257,t=Vx(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Mt||Ia(e,t,n,!1),c=(n&e.childLanes)!==0,Mt||c){if(l=ot,l!==null&&(w=rt(l,n),w!==0&&w!==o.retryLane))throw o.retryLane=w,ua(e,w),nn(l,e,w),sc;a0(),t=Vx(e,t,n)}else e=o.treeContext,xt=En(w.nextSibling),kt=t,He=!0,Tl=null,Ln=!1,e!==null&&Eo(t,e),t=Vr(t,l),t.flags|=4096;return t}return e=ol(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Jr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function oc(e,t,n,l,c){return xa(t),n=Ku(e,t,n,l,void 0,c),l=Zu(),e!==null&&!Mt?(Xu(e,t,c),bl(e,t,c)):(He&&l&&Mu(t),t.flags|=1,Gt(e,t,n,c),t.child)}function Jx(e,t,n,l,c,o){return xa(t),t.updateQueue=null,n=Po(t,l,n,c),Qo(e),l=Zu(),e!==null&&!Mt?(Xu(e,t,o),bl(e,t,o)):(He&&l&&Mu(t),t.flags|=1,Gt(e,t,n,o),t.child)}function Wx(e,t,n,l,c){if(xa(t),t.stateNode===null){var o=Ea,w=n.contextType;typeof w=="object"&&w!==null&&(o=It(w)),o=new n(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=uc,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},ku(t),w=n.contextType,o.context=typeof w=="object"&&w!==null?It(w):Ea,o.state=t.memoizedState,w=n.getDerivedStateFromProps,typeof w=="function"&&(rc(t,n,w,l),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(w=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),w!==o.state&&uc.enqueueReplaceState(o,o.state,null),Ai(t,l,o,c),Di(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){o=t.stateNode;var L=t.memoizedProps,K=ga(n,L);o.props=K;var ne=o.context,re=n.contextType;w=Ea,typeof re=="object"&&re!==null&&(w=It(re));var ce=n.getDerivedStateFromProps;re=typeof ce=="function"||typeof o.getSnapshotBeforeUpdate=="function",L=t.pendingProps!==L,re||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(L||ne!==w)&&Bx(t,o,l,w),Bl=!1;var le=t.memoizedState;o.state=le,Ai(t,l,o,c),Di(),ne=t.memoizedState,L||le!==ne||Bl?(typeof ce=="function"&&(rc(t,n,ce,l),ne=t.memoizedState),(K=Bl||qx(t,n,K,l,le,ne,w))?(re||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ne),o.props=l,o.state=ne,o.context=w,l=K):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,Iu(e,t),w=t.memoizedProps,re=ga(n,w),o.props=re,ce=t.pendingProps,le=o.context,ne=n.contextType,K=Ea,typeof ne=="object"&&ne!==null&&(K=It(ne)),L=n.getDerivedStateFromProps,(ne=typeof L=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(w!==ce||le!==K)&&Bx(t,o,l,K),Bl=!1,le=t.memoizedState,o.state=le,Ai(t,l,o,c),Di();var ie=t.memoizedState;w!==ce||le!==ie||Bl||e!==null&&e.dependencies!==null&&Dr(e.dependencies)?(typeof L=="function"&&(rc(t,n,L,l),ie=t.memoizedState),(re=Bl||qx(t,n,re,l,le,ie,K)||e!==null&&e.dependencies!==null&&Dr(e.dependencies))?(ne||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,ie,K),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,ie,K)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||w===e.memoizedProps&&le===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&le===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),o.props=l,o.state=ie,o.context=K,l=re):(typeof o.componentDidUpdate!="function"||w===e.memoizedProps&&le===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&le===e.memoizedState||(t.flags|=1024),l=!1)}return o=l,Jr(e,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&l?(t.child=ma(t,e.child,null,c),t.child=ma(t,null,n,c)):Gt(e,t,n,c),t.memoizedState=o.state,e=t.child):e=bl(e,t,c),e}function Qx(e,t,n,l){return sa(),t.flags|=256,Gt(e,t,n,l),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fc(e){return{baseLanes:e,cachePool:Ro()}}function dc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=hn),e}function Px(e,t,n){var l=t.pendingProps,c=!1,o=(t.flags&128)!==0,w;if((w=o)||(w=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),w&&(c=!0,t.flags&=-129),w=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(c?Gl(t):Rl(),(e=xt)?(e=rd(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ll!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Ao(e),n.return=t,t.child=n,kt=t,xt=null)):e=null,e===null)throw El(t);return Wc(e)?t.lanes=32:t.lanes=536870912,null}var L=l.children;return l=l.fallback,c?(Rl(),c=t.mode,L=Wr({mode:"hidden",children:L},c),l=ca(l,c,n,null),L.return=t,l.return=t,L.sibling=l,t.child=L,l=t.child,l.memoizedState=fc(n),l.childLanes=dc(e,w,n),t.memoizedState=xc,Bi(null,l)):(Gl(t),hc(t,L))}var K=e.memoizedState;if(K!==null&&(L=K.dehydrated,L!==null)){if(o)t.flags&256?(Gl(t),t.flags&=-257,t=mc(e,t,n)):t.memoizedState!==null?(Rl(),t.child=e.child,t.flags|=128,t=null):(Rl(),L=l.fallback,c=t.mode,l=Wr({mode:"visible",children:l.children},c),L=ca(L,c,n,null),L.flags|=2,l.return=t,L.return=t,l.sibling=L,t.child=l,ma(t,e.child,null,n),l=t.child,l.memoizedState=fc(n),l.childLanes=dc(e,w,n),t.memoizedState=xc,t=Bi(null,l));else if(Gl(t),Wc(L)){if(w=L.nextSibling&&L.nextSibling.dataset,w)var ne=w.dgst;w=ne,l=Error(i(419)),l.stack="",l.digest=w,Ci({value:l,source:null,stack:null}),t=mc(e,t,n)}else if(Mt||Ia(e,t,n,!1),w=(n&e.childLanes)!==0,Mt||w){if(w=ot,w!==null&&(l=rt(w,n),l!==0&&l!==K.retryLane))throw K.retryLane=l,ua(e,l),nn(w,e,l),sc;Jc(L)||a0(),t=mc(e,t,n)}else Jc(L)?(t.flags|=192,t.child=e.child,t=null):(e=K.treeContext,xt=En(L.nextSibling),kt=t,He=!0,Tl=null,Ln=!1,e!==null&&Eo(t,e),t=hc(t,l.children),t.flags|=4096);return t}return c?(Rl(),L=l.fallback,c=t.mode,K=e.child,ne=K.sibling,l=ol(K,{mode:"hidden",children:l.children}),l.subtreeFlags=K.subtreeFlags&65011712,ne!==null?L=ol(ne,L):(L=ca(L,c,n,null),L.flags|=2),L.return=t,l.return=t,l.sibling=L,t.child=l,Bi(null,l),l=t.child,L=e.child.memoizedState,L===null?L=fc(n):(c=L.cachePool,c!==null?(K=Ct._currentValue,c=c.parent!==K?{parent:K,pool:K}:c):c=Ro(),L={baseLanes:L.baseLanes|n,cachePool:c}),l.memoizedState=L,l.childLanes=dc(e,w,n),t.memoizedState=xc,Bi(e.child,l)):(Gl(t),n=e.child,e=n.sibling,n=ol(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(w=t.deletions,w===null?(t.deletions=[e],t.flags|=16):w.push(e)),t.child=n,t.memoizedState=null,n)}function hc(e,t){return t=Wr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wr(e,t){return e=on(22,e,null,t),e.lanes=0,e}function mc(e,t,n){return ma(t,e.child,null,n),e=hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fx(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Au(e.return,t,n)}function bc(e,t,n,l,c,o){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:o}:(w.isBackwards=t,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=n,w.tailMode=c,w.treeForkCount=o)}function $x(e,t,n){var l=t.pendingProps,c=l.revealOrder,o=l.tail;l=l.children;var w=pt.current,L=(w&2)!==0;if(L?(w=w&1|2,t.flags|=128):w&=1,H(pt,w),Gt(e,t,l,n),l=He?Si:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fx(e,n,t);else if(e.tag===19)Fx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Ir(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),bc(t,!1,c,n,o,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ir(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}bc(t,!0,n,null,o,l);break;case"together":bc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function bl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ul|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ia(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ol(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ol(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Dr(e)))}function mh(e,t,n){switch(t.tag){case 3:me(t,t.stateNode.containerInfo),ql(t,Ct,e.memoizedState.cache),sa();break;case 27:case 5:be(t);break;case 4:me(t,t.stateNode.containerInfo);break;case 10:ql(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Gl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Px(e,t,n):(Gl(t),e=bl(e,t,n),e!==null?e.sibling:null);Gl(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ia(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return $x(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),H(pt,pt.current),l)break;return null;case 22:return t.lanes=0,Zx(e,t,n,t.pendingProps);case 24:ql(t,Ct,e.memoizedState.cache)}return bl(e,t,n)}function ef(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Mt=!0;else{if(!gc(e,n)&&(t.flags&128)===0)return Mt=!1,mh(e,t,n);Mt=(e.flags&131072)!==0}else Mt=!1,He&&(t.flags&1048576)!==0&&To(t,Si,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=da(t.elementType),t.type=e,typeof e=="function")Su(e)?(l=ga(e,l),t.tag=1,t=Wx(null,t,e,l,n)):(t.tag=0,t=oc(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===G){t.tag=11,t=Ux(null,t,e,l,n);break e}else if(c===Z){t.tag=14,t=Hx(null,t,e,l,n);break e}}throw t=M(e)||e,Error(i(306,t,""))}}return t;case 0:return oc(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=ga(l,t.pendingProps),Wx(e,t,l,c,n);case 3:e:{if(me(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var o=t.memoizedState;c=o.element,Iu(e,t),Ai(t,l,null,n);var w=t.memoizedState;if(l=w.cache,ql(t,Ct,l),l!==o.cache&&Lu(t,[Ct],n,!0),Di(),l=w.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:w.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Qx(e,t,l,n);break e}else if(l!==c){c=Nn(Error(i(424)),t),Ci(c),t=Qx(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xt=En(e.firstChild),kt=t,He=!0,Tl=null,Ln=!0,n=Zo(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sa(),l===c){t=bl(e,t,n);break e}Gt(e,t,l,n)}t=t.child}return t;case 26:return Jr(e,t),e===null?(n=fd(t.type,null,t.pendingProps,null))?t.memoizedState=n:He||(n=t.type,e=t.pendingProps,l=x0(ae.current).createElement(n),l[ze]=t,l[Bt]=e,Rt(l,n,e),Ze(l),t.stateNode=l):t.memoizedState=fd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return be(t),e===null&&He&&(l=t.stateNode=sd(t.type,t.pendingProps,ae.current),kt=t,Ln=!0,c=xt,Vl(t.type)?(Qc=c,xt=En(l.firstChild)):xt=c),Gt(e,t,t.pendingProps.children,n),Jr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((c=l=xt)&&(l=Zh(l,t.type,t.pendingProps,Ln),l!==null?(t.stateNode=l,kt=t,xt=En(l.firstChild),Ln=!1,c=!0):c=!1),c||El(t)),be(t),c=t.type,o=t.pendingProps,w=e!==null?e.memoizedProps:null,l=o.children,Zc(c,o)?l=null:w!==null&&Zc(c,w)&&(t.flags|=32),t.memoizedState!==null&&(c=Ku(e,t,rh,null,null,n),Qi._currentValue=c),Jr(e,t),Gt(e,t,l,n),t.child;case 6:return e===null&&He&&((e=n=xt)&&(n=Xh(n,t.pendingProps,Ln),n!==null?(t.stateNode=n,kt=t,xt=null,e=!0):e=!1),e||El(t)),null;case 13:return Px(e,t,n);case 4:return me(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ma(t,null,l,n):Gt(e,t,l,n),t.child;case 11:return Ux(e,t,t.type,t.pendingProps,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,ql(t,t.type,l.value),Gt(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,xa(t),c=It(c),l=l(c),t.flags|=1,Gt(e,t,l,n),t.child;case 14:return Hx(e,t,t.type,t.pendingProps,n);case 15:return Kx(e,t,t.type,t.pendingProps,n);case 19:return $x(e,t,n);case 31:return hh(e,t,n);case 22:return Zx(e,t,n,t.pendingProps);case 24:return xa(t),l=It(Ct),e===null?(c=qu(),c===null&&(c=ot,o=Tu(),c.pooledCache=o,o.refCount++,o!==null&&(c.pooledCacheLanes|=n),c=o),t.memoizedState={parent:l,cache:c},ku(t),ql(t,Ct,c)):((e.lanes&n)!==0&&(Iu(e,t),Ai(t,null,null,n),Di()),c=e.memoizedState,o=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ql(t,Ct,l)):(l=o.cache,ql(t,Ct,l),l!==c.cache&&Lu(t,[Ct],n,!0))),Gt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function gl(e){e.flags|=4}function vc(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Nf())e.flags|=8192;else throw ha=Er,Bu}else e.flags&=-16777217}function tf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gd(t))if(Nf())e.flags|=8192;else throw ha=Er,Bu}function Qr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xe():536870912,e.lanes|=t,Wa|=t)}function ki(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function bh(e,t,n){var l=t.pendingProps;switch(ju(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return ft(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),dl(Ct),fe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ka(t)?gl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nu())),ft(t),null;case 26:var c=t.type,o=t.memoizedState;return e===null?(gl(t),o!==null?(ft(t),tf(t,o)):(ft(t),vc(t,c,null,l,n))):o?o!==e.memoizedState?(gl(t),ft(t),tf(t,o)):(ft(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&gl(t),ft(t),vc(t,c,e,l,n)),null;case 27:if(he(t),n=ae.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&gl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ft(t),null}e=V.current,ka(t)?qo(t):(e=sd(c,l,n),t.stateNode=e,gl(t))}return ft(t),null;case 5:if(he(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&gl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ft(t),null}if(o=V.current,ka(t))qo(t);else{var w=x0(ae.current);switch(o){case 1:o=w.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:o=w.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":o=w.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":o=w.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":o=w.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?o.multiple=!0:l.size&&(o.size=l.size);break;default:o=typeof l.is=="string"?w.createElement(c,{is:l.is}):w.createElement(c)}}o[ze]=t,o[Bt]=l;e:for(w=t.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}t.stateNode=o;e:switch(Rt(o,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&gl(t)}}return ft(t),vc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&gl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ae.current,ka(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=kt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ze]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Ff(e.nodeValue,n)),e||El(t,!0)}else e=x0(e).createTextNode(l),e[ze]=t,t.stateNode=e}return ft(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=ka(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ze]=t}else sa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),e=!1}else n=Nu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(fn(t),t):(fn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return ft(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ka(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[ze]=t}else sa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),c=!1}else c=Nu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(fn(t),t):(fn(t),null)}return fn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Qr(t,t.updateQueue),ft(t),null);case 4:return fe(),e===null&&Oc(t.stateNode.containerInfo),ft(t),null;case 10:return dl(t.type),ft(t),null;case 19:if(I(pt),l=t.memoizedState,l===null)return ft(t),null;if(c=(t.flags&128)!==0,o=l.rendering,o===null)if(c)ki(l,!1);else{if(bt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Ir(e),o!==null){for(t.flags|=128,ki(l,!1),e=o.updateQueue,t.updateQueue=e,Qr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Do(n,e),n=n.sibling;return H(pt,pt.current&1|2),He&&xl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Qe()>t0&&(t.flags|=128,c=!0,ki(l,!1),t.lanes=4194304)}else{if(!c)if(e=Ir(o),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Qr(t,e),ki(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!He)return ft(t),null}else 2*Qe()-l.renderingStartTime>t0&&n!==536870912&&(t.flags|=128,c=!0,ki(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(e=l.last,e!==null?e.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,n=pt.current,H(pt,c?n&1|2:n&1),He&&xl(t,l.treeForkCount),e):(ft(t),null);case 22:case 23:return fn(t),Yu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),n=t.updateQueue,n!==null&&Qr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&I(fa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),dl(Ct),ft(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function gh(e,t){switch(ju(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dl(Ct),fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(fn(t),t.alternate===null)throw Error(i(340));sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(pt),null;case 4:return fe(),null;case 10:return dl(t.type),null;case 22:case 23:return fn(t),Yu(),e!==null&&I(fa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dl(Ct),null;case 25:return null;default:return null}}function nf(e,t){switch(ju(t),t.tag){case 3:dl(Ct),fe();break;case 26:case 27:case 5:he(t);break;case 4:fe();break;case 31:t.memoizedState!==null&&fn(t);break;case 13:fn(t);break;case 19:I(pt);break;case 10:dl(t.type);break;case 22:case 23:fn(t),Yu(),e!==null&&I(fa);break;case 24:dl(Ct)}}function Ii(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var o=n.create,w=n.inst;l=o(),w.destroy=l}n=n.next}while(n!==c)}}catch(L){it(t,t.return,L)}}function Ol(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var o=c.next;l=o;do{if((l.tag&e)===e){var w=l.inst,L=w.destroy;if(L!==void 0){w.destroy=void 0,c=t;var K=n,ne=L;try{ne()}catch(re){it(c,K,re)}}}l=l.next}while(l!==o)}}catch(re){it(t,t.return,re)}}function lf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Vo(t,n)}catch(l){it(e,e.return,l)}}}function af(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function Gi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){it(e,t,c)}}function Fn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){it(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){it(e,t,c)}else n.current=null}function rf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){it(e,e.return,c)}}function yc(e,t,n){try{var l=e.stateNode;Rh(l,e.type,n,t),l[Bt]=t}catch(c){it(e,e.return,c)}}function uf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vl(e.type)||e.tag===4}function pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _c(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cl));else if(l!==4&&(l===27&&Vl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(_c(e,t,n),e=e.sibling;e!==null;)_c(e,t,n),e=e.sibling}function Pr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Vl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Pr(e,t,n),e=e.sibling;e!==null;)Pr(e,t,n),e=e.sibling}function cf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Rt(t,l,n),t[ze]=e,t[Bt]=n}catch(o){it(e,e.return,o)}}var vl=!1,jt=!1,Sc=!1,sf=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function vh(e,t){if(e=e.containerInfo,Hc=v0,e=po(e),mu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var w=0,L=-1,K=-1,ne=0,re=0,ce=e,le=null;t:for(;;){for(var ie;ce!==n||c!==0&&ce.nodeType!==3||(L=w+c),ce!==o||l!==0&&ce.nodeType!==3||(K=w+l),ce.nodeType===3&&(w+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)le=ce,ce=ie;for(;;){if(ce===e)break t;if(le===n&&++ne===c&&(L=w),le===o&&++re===l&&(K=w),(ie=ce.nextSibling)!==null)break;ce=le,le=ce.parentNode}ce=ie}n=L===-1||K===-1?null:{start:L,end:K}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kc={focusedElem:e,selectionRange:n},v0=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){switch(t=Lt,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,c=o.memoizedProps,o=o.memoizedState,l=n.stateNode;try{var ge=ga(n.type,c);e=l.getSnapshotBeforeUpdate(ge,o),l.__reactInternalSnapshotBeforeUpdate=e}catch(Me){it(n,n.return,Me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Vc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}}function of(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:pl(e,n),l&4&&Ii(5,n);break;case 1:if(pl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(w){it(n,n.return,w)}else{var c=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(w){it(n,n.return,w)}}l&64&&lf(n),l&512&&Gi(n,n.return);break;case 3:if(pl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Vo(e,t)}catch(w){it(n,n.return,w)}}break;case 27:t===null&&l&4&&cf(n);case 26:case 5:pl(e,n),t===null&&l&4&&rf(n),l&512&&Gi(n,n.return);break;case 12:pl(e,n);break;case 31:pl(e,n),l&4&&df(e,n);break;case 13:pl(e,n),l&4&&hf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=zh.bind(null,n),Vh(e,n))));break;case 22:if(l=n.memoizedState!==null||vl,!l){t=t!==null&&t.memoizedState!==null||jt,c=vl;var o=jt;vl=l,(jt=t)&&!o?_l(e,n,(n.subtreeFlags&8772)!==0):pl(e,n),vl=c,jt=o}break;case 30:break;default:pl(e,n)}}function xf(e){var t=e.alternate;t!==null&&(e.alternate=null,xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,Ft=!1;function yl(e,t,n){for(n=n.child;n!==null;)ff(e,t,n),n=n.sibling}function ff(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Un,n)}catch{}switch(n.tag){case 26:jt||Fn(n,t),yl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:jt||Fn(n,t);var l=dt,c=Ft;Vl(n.type)&&(dt=n.stateNode,Ft=!1),yl(e,t,n),Vi(n.stateNode),dt=l,Ft=c;break;case 5:jt||Fn(n,t);case 6:if(l=dt,c=Ft,dt=null,yl(e,t,n),dt=l,Ft=c,dt!==null)if(Ft)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(o){it(n,t,o)}else try{dt.removeChild(n.stateNode)}catch(o){it(n,t,o)}break;case 18:dt!==null&&(Ft?(e=dt,ad(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),li(e)):ad(dt,n.stateNode));break;case 4:l=dt,c=Ft,dt=n.stateNode.containerInfo,Ft=!0,yl(e,t,n),dt=l,Ft=c;break;case 0:case 11:case 14:case 15:Ol(2,n,t),jt||Ol(4,n,t),yl(e,t,n);break;case 1:jt||(Fn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&af(n,t,l)),yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:jt=(l=jt)||n.memoizedState!==null,yl(e,t,n),jt=l;break;default:yl(e,t,n)}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{li(e)}catch(n){it(t,t.return,n)}}}function hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{li(e)}catch(n){it(t,t.return,n)}}function yh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sf),t;default:throw Error(i(435,e.tag))}}function Fr(e,t){var n=yh(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=Nh.bind(null,e,l);l.then(c,c)}})}function $t(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],o=e,w=t,L=w;e:for(;L!==null;){switch(L.tag){case 27:if(Vl(L.type)){dt=L.stateNode,Ft=!1;break e}break;case 5:dt=L.stateNode,Ft=!1;break e;case 3:case 4:dt=L.stateNode.containerInfo,Ft=!0;break e}L=L.return}if(dt===null)throw Error(i(160));ff(o,w,c),dt=null,Ft=!1,o=c.alternate,o!==null&&(o.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mf(t,e),t=t.sibling}var Kn=null;function mf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),en(e),l&4&&(Ol(3,e,e.return),Ii(3,e),Ol(5,e,e.return));break;case 1:$t(t,e),en(e),l&512&&(jt||n===null||Fn(n,n.return)),l&64&&vl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Kn;if($t(t,e),en(e),l&512&&(jt||n===null||Fn(n,n.return)),l&4){var o=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":o=c.getElementsByTagName("title")[0],(!o||o[la]||o[ze]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=c.createElement(l),c.head.insertBefore(o,c.querySelector("head > title"))),Rt(o,l,n),o[ze]=e,Ze(o),l=o;break e;case"link":var w=md("link","href",c).get(l+(n.href||""));if(w){for(var L=0;L<w.length;L++)if(o=w[L],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){w.splice(L,1);break t}}o=c.createElement(l),Rt(o,l,n),c.head.appendChild(o);break;case"meta":if(w=md("meta","content",c).get(l+(n.content||""))){for(L=0;L<w.length;L++)if(o=w[L],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){w.splice(L,1);break t}}o=c.createElement(l),Rt(o,l,n),c.head.appendChild(o);break;default:throw Error(i(468,l))}o[ze]=e,Ze(o),l=o}e.stateNode=l}else bd(c,e.type,e.stateNode);else e.stateNode=hd(c,l,e.memoizedProps);else o!==l?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,l===null?bd(c,e.type,e.stateNode):hd(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&yc(e,e.memoizedProps,n.memoizedProps)}break;case 27:$t(t,e),en(e),l&512&&(jt||n===null||Fn(n,n.return)),n!==null&&l&4&&yc(e,e.memoizedProps,n.memoizedProps);break;case 5:if($t(t,e),en(e),l&512&&(jt||n===null||Fn(n,n.return)),e.flags&32){c=e.stateNode;try{ja(c,"")}catch(ge){it(e,e.return,ge)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,yc(e,c,n!==null?n.memoizedProps:c)),l&1024&&(Sc=!0);break;case 6:if($t(t,e),en(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ge){it(e,e.return,ge)}}break;case 3:if(h0=null,c=Kn,Kn=f0(t.containerInfo),$t(t,e),Kn=c,en(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{li(t.containerInfo)}catch(ge){it(e,e.return,ge)}Sc&&(Sc=!1,bf(e));break;case 4:l=Kn,Kn=f0(e.stateNode.containerInfo),$t(t,e),en(e),Kn=l;break;case 12:$t(t,e),en(e);break;case 31:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 13:$t(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(e0=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 22:c=e.memoizedState!==null;var K=n!==null&&n.memoizedState!==null,ne=vl,re=jt;if(vl=ne||c,jt=re||K,$t(t,e),jt=re,vl=ne,en(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||K||vl||jt||va(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){K=n=t;try{if(o=K.stateNode,c)w=o.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{L=K.stateNode;var ce=K.memoizedProps.style,le=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;L.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ge){it(K,K.return,ge)}}}else if(t.tag===6){if(n===null){K=t;try{K.stateNode.nodeValue=c?"":K.memoizedProps}catch(ge){it(K,K.return,ge)}}}else if(t.tag===18){if(n===null){K=t;try{var ie=K.stateNode;c?id(ie,!0):id(K.stateNode,!1)}catch(ge){it(K,K.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Fr(e,n))));break;case 19:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 30:break;case 21:break;default:$t(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(uf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var c=n.stateNode,o=pc(e);Pr(e,o,c);break;case 5:var w=n.stateNode;n.flags&32&&(ja(w,""),n.flags&=-33);var L=pc(e);Pr(e,L,w);break;case 3:case 4:var K=n.stateNode.containerInfo,ne=pc(e);_c(e,ne,K);break;default:throw Error(i(161))}}catch(re){it(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)of(e,t.alternate,t),t=t.sibling}function va(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ol(4,t,t.return),va(t);break;case 1:Fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&af(t,t.return,n),va(t);break;case 27:Vi(t.stateNode);case 26:case 5:Fn(t,t.return),va(t);break;case 22:t.memoizedState===null&&va(t);break;case 30:va(t);break;default:va(t)}e=e.sibling}}function _l(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,o=t,w=o.flags;switch(o.tag){case 0:case 11:case 15:_l(c,o,n),Ii(4,o);break;case 1:if(_l(c,o,n),l=o,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(ne){it(l,l.return,ne)}if(l=o,c=l.updateQueue,c!==null){var L=l.stateNode;try{var K=c.shared.hiddenCallbacks;if(K!==null)for(c.shared.hiddenCallbacks=null,c=0;c<K.length;c++)Xo(K[c],L)}catch(ne){it(l,l.return,ne)}}n&&w&64&&lf(o),Gi(o,o.return);break;case 27:cf(o);case 26:case 5:_l(c,o,n),n&&l===null&&w&4&&rf(o),Gi(o,o.return);break;case 12:_l(c,o,n);break;case 31:_l(c,o,n),n&&w&4&&df(c,o);break;case 13:_l(c,o,n),n&&w&4&&hf(c,o);break;case 22:o.memoizedState===null&&_l(c,o,n),Gi(o,o.return);break;case 30:break;default:_l(c,o,n)}t=t.sibling}}function Cc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&wi(n))}function wc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wi(e))}function Zn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gf(e,t,n,l),t=t.sibling}function gf(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Zn(e,t,n,l),c&2048&&Ii(9,t);break;case 1:Zn(e,t,n,l);break;case 3:Zn(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wi(e)));break;case 12:if(c&2048){Zn(e,t,n,l),e=t.stateNode;try{var o=t.memoizedProps,w=o.id,L=o.onPostCommit;typeof L=="function"&&L(w,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(K){it(t,t.return,K)}}else Zn(e,t,n,l);break;case 31:Zn(e,t,n,l);break;case 13:Zn(e,t,n,l);break;case 23:break;case 22:o=t.stateNode,w=t.alternate,t.memoizedState!==null?o._visibility&2?Zn(e,t,n,l):Ri(e,t):o._visibility&2?Zn(e,t,n,l):(o._visibility|=2,Xa(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Cc(w,t);break;case 24:Zn(e,t,n,l),c&2048&&wc(t.alternate,t);break;default:Zn(e,t,n,l)}}function Xa(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,w=t,L=n,K=l,ne=w.flags;switch(w.tag){case 0:case 11:case 15:Xa(o,w,L,K,c),Ii(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&2?Xa(o,w,L,K,c):Ri(o,w):(re._visibility|=2,Xa(o,w,L,K,c)),c&&ne&2048&&Cc(w.alternate,w);break;case 24:Xa(o,w,L,K,c),c&&ne&2048&&wc(w.alternate,w);break;default:Xa(o,w,L,K,c)}t=t.sibling}}function Ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Ri(n,l),c&2048&&Cc(l.alternate,l);break;case 24:Ri(n,l),c&2048&&wc(l.alternate,l);break;default:Ri(n,l)}t=t.sibling}}var Oi=8192;function Va(e,t,n){if(e.subtreeFlags&Oi)for(e=e.child;e!==null;)vf(e,t,n),e=e.sibling}function vf(e,t,n){switch(e.tag){case 26:Va(e,t,n),e.flags&Oi&&e.memoizedState!==null&&i2(n,Kn,e.memoizedState,e.memoizedProps);break;case 5:Va(e,t,n);break;case 3:case 4:var l=Kn;Kn=f0(e.stateNode.containerInfo),Va(e,t,n),Kn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Oi,Oi=16777216,Va(e,t,n),Oi=l):Va(e,t,n));break;default:Va(e,t,n)}}function yf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,_f(l,e)}yf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pf(e),e=e.sibling}function pf(e){switch(e.tag){case 0:case 11:case 15:Yi(e),e.flags&2048&&Ol(9,e,e.return);break;case 3:Yi(e);break;case 12:Yi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$r(e)):Yi(e);break;default:Yi(e)}}function $r(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,_f(l,e)}yf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ol(8,t,t.return),$r(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$r(t));break;default:$r(t)}e=e.sibling}}function _f(e,t){for(;Lt!==null;){var n=Lt;switch(n.tag){case 0:case 11:case 15:Ol(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Lt=l;else e:for(n=e;Lt!==null;){l=Lt;var c=l.sibling,o=l.return;if(xf(l),l===n){Lt=null;break e}if(c!==null){c.return=o,Lt=c;break e}Lt=o}}}var ph={getCacheForType:function(e){var t=It(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return It(Ct).controller.signal}},_h=typeof WeakMap=="function"?WeakMap:Map,et=0,ot=null,ke=null,Oe=0,at=0,dn=null,Yl=!1,Ja=!1,Mc=!1,Sl=0,bt=0,Ul=0,ya=0,jc=0,hn=0,Wa=0,Ui=null,tn=null,zc=!1,e0=0,Sf=0,t0=1/0,n0=null,Hl=null,Dt=0,Kl=null,Qa=null,Cl=0,Nc=0,Dc=null,Cf=null,Hi=0,Ac=null;function mn(){return(et&2)!==0&&Oe!==0?Oe&-Oe:j.T!==null?kc():Cn()}function wf(){if(hn===0)if((Oe&536870912)===0||He){var e=ye;ye<<=1,(ye&3932160)===0&&(ye=262144),hn=e}else hn=536870912;return e=xn.current,e!==null&&(e.flags|=32),hn}function nn(e,t,n){(e===ot&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),Zl(e,Oe,hn,!1)),Ae(e,n),((et&2)===0||e!==ot)&&(e===ot&&((et&2)===0&&(ya|=n),bt===4&&Zl(e,Oe,hn,!1)),$n(e))}function Mf(e,t,n){if((et&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Pe(e,t),c=l?wh(e,t):Tc(e,t,!0),o=l;do{if(c===0){Ja&&!l&&Zl(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Sh(n)){c=Tc(e,t,!1),o=!1;continue}if(c===2){if(o=t,e.errorRecoveryDisabledLanes&o)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){t=w;e:{var L=e;c=Ui;var K=L.current.memoizedState.isDehydrated;if(K&&(Pa(L,w).flags|=256),w=Tc(L,w,!1),w!==2){if(Mc&&!K){L.errorRecoveryDisabledLanes|=o,ya|=o,c=4;break e}o=tn,tn=c,o!==null&&(tn===null?tn=o:tn.push.apply(tn,o))}c=w}if(o=!1,c!==2)continue}}if(c===1){Pa(e,0),Zl(e,t,0,!0);break}e:{switch(l=e,o=c,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Zl(l,t,hn,!Yl);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(c=e0+300-Qe(),10<c)){if(Zl(l,t,hn,!Yl),Se(l,0,!0)!==0)break e;Cl=t,l.timeoutHandle=nd(jf.bind(null,l,n,tn,n0,zc,t,hn,ya,Wa,Yl,o,"Throttled",-0,0),c);break e}jf(l,n,tn,n0,zc,t,hn,ya,Wa,Yl,o,null,-0,0)}}break}while(!0);$n(e)}function jf(e,t,n,l,c,o,w,L,K,ne,re,ce,le,ie){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cl},vf(t,o,ce);var ge=(o&62914560)===o?e0-Qe():(o&4194048)===o?Sf-Qe():0;if(ge=r2(ce,ge),ge!==null){Cl=o,e.cancelPendingCommit=ge(qf.bind(null,e,t,o,n,l,c,w,L,K,re,ce,null,le,ie)),Zl(e,o,w,!ne);return}}qf(e,t,o,n,l,c,w,L,K)}function Sh(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],o=c.getSnapshot;c=c.value;try{if(!sn(o(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zl(e,t,n,l){t&=~jc,t&=~ya,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var o=31-Re(c),w=1<<o;l[o]=-1,c&=~w}n!==0&&$e(e,n,t)}function l0(){return(et&6)===0?(Ki(0),!1):!0}function Lc(){if(ke!==null){if(at===0)var e=ke.return;else e=ke,fl=oa=null,Vu(e),Ya=null,ji=0,e=ke;for(;e!==null;)nf(e.alternate,e),e=e.return;ke=null}}function Pa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Uh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Cl=0,Lc(),ot=e,ke=n=ol(e.current,null),Oe=t,at=0,dn=null,Yl=!1,Ja=Pe(e,t),Mc=!1,Wa=hn=jc=ya=Ul=bt=0,tn=Ui=null,zc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Re(l),o=1<<c;t|=e[c],l&=~o}return Sl=t,wr(),n}function zf(e,t){Le=null,j.H=qi,t===Oa||t===Tr?(t=Uo(),at=3):t===Bu?(t=Uo(),at=4):at=t===sc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dn=t,ke===null&&(bt=1,Xr(e,Nn(t,e.current)))}function Nf(){var e=xn.current;return e===null?!0:(Oe&4194048)===Oe?Tn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?e===Tn:!1}function Df(){var e=j.H;return j.H=qi,e===null?qi:e}function Af(){var e=j.A;return j.A=ph,e}function a0(){bt=4,Yl||(Oe&4194048)!==Oe&&xn.current!==null||(Ja=!0),(Ul&134217727)===0&&(ya&134217727)===0||ot===null||Zl(ot,Oe,hn,!1)}function Tc(e,t,n){var l=et;et|=2;var c=Df(),o=Af();(ot!==e||Oe!==t)&&(n0=null,Pa(e,t)),t=!1;var w=bt;e:do try{if(at!==0&&ke!==null){var L=ke,K=dn;switch(at){case 8:Lc(),w=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(t=!0);var ne=at;if(at=0,dn=null,Fa(e,L,K,ne),n&&Ja){w=0;break e}break;default:ne=at,at=0,dn=null,Fa(e,L,K,ne)}}Ch(),w=bt;break}catch(re){zf(e,re)}while(!0);return t&&e.shellSuspendCounter++,fl=oa=null,et=l,j.H=c,j.A=o,ke===null&&(ot=null,Oe=0,wr()),w}function Ch(){for(;ke!==null;)Lf(ke)}function wh(e,t){var n=et;et|=2;var l=Df(),c=Af();ot!==e||Oe!==t?(n0=null,t0=Qe()+500,Pa(e,t)):Ja=Pe(e,t);e:do try{if(at!==0&&ke!==null){t=ke;var o=dn;t:switch(at){case 1:at=0,dn=null,Fa(e,t,o,1);break;case 2:case 9:if(Oo(o)){at=0,dn=null,Tf(t);break}t=function(){at!==2&&at!==9||ot!==e||(at=7),$n(e)},o.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Oo(o)?(at=0,dn=null,Tf(t)):(at=0,dn=null,Fa(e,t,o,7));break;case 5:var w=null;switch(ke.tag){case 26:w=ke.memoizedState;case 5:case 27:var L=ke;if(w?gd(w):L.stateNode.complete){at=0,dn=null;var K=L.sibling;if(K!==null)ke=K;else{var ne=L.return;ne!==null?(ke=ne,i0(ne)):ke=null}break t}}at=0,dn=null,Fa(e,t,o,5);break;case 6:at=0,dn=null,Fa(e,t,o,6);break;case 8:Lc(),bt=6;break e;default:throw Error(i(462))}}Mh();break}catch(re){zf(e,re)}while(!0);return fl=oa=null,j.H=l,j.A=c,et=n,ke!==null?0:(ot=null,Oe=0,wr(),bt)}function Mh(){for(;ke!==null&&!pn();)Lf(ke)}function Lf(e){var t=ef(e.alternate,e,Sl);e.memoizedProps=e.pendingProps,t===null?i0(e):ke=t}function Tf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jx(n,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Jx(n,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:Vu(t);default:nf(n,t),t=ke=Do(t,Sl),t=ef(n,t,Sl)}e.memoizedProps=e.pendingProps,t===null?i0(e):ke=t}function Fa(e,t,n,l){fl=oa=null,Vu(t),Ya=null,ji=0;var c=t.return;try{if(dh(e,c,t,n,Oe)){bt=1,Xr(e,Nn(n,e.current)),ke=null;return}}catch(o){if(c!==null)throw ke=c,o;bt=1,Xr(e,Nn(n,e.current)),ke=null;return}t.flags&32768?(He||l===1?e=!0:Ja||(Oe&536870912)!==0?e=!1:(Yl=e=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ef(t,e)):i0(t)}function i0(e){var t=e;do{if((t.flags&32768)!==0){Ef(t,Yl);return}e=t.return;var n=bh(t.alternate,t,Sl);if(n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);bt===0&&(bt=5)}function Ef(e,t){do{var n=gh(e.alternate,e);if(n!==null){n.flags&=32767,ke=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=n}while(e!==null);bt=6,ke=null}function qf(e,t,n,l,c,o,w,L,K){e.cancelPendingCommit=null;do r0();while(Dt!==0);if((et&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=pu,qt(e,n,o,w,L,K),e===ot&&(ke=ot=null,Oe=0),Qa=t,Kl=e,Cl=n,Nc=o,Dc=c,Cf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Dh(il,function(){return Rf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=D.p,D.p=2,w=et,et|=4;try{vh(e,t,n)}finally{et=w,D.p=c,j.T=l}}Dt=1,Bf(),kf(),If()}}function Bf(){if(Dt===1){Dt=0;var e=Kl,t=Qa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null;var l=D.p;D.p=2;var c=et;et|=4;try{mf(t,e);var o=Kc,w=po(e.containerInfo),L=o.focusedElem,K=o.selectionRange;if(w!==L&&L&&L.ownerDocument&&yo(L.ownerDocument.documentElement,L)){if(K!==null&&mu(L)){var ne=K.start,re=K.end;if(re===void 0&&(re=ne),"selectionStart"in L)L.selectionStart=ne,L.selectionEnd=Math.min(re,L.value.length);else{var ce=L.ownerDocument||document,le=ce&&ce.defaultView||window;if(le.getSelection){var ie=le.getSelection(),ge=L.textContent.length,Me=Math.min(K.start,ge),st=K.end===void 0?Me:Math.min(K.end,ge);!ie.extend&&Me>st&&(w=st,st=Me,Me=w);var $=vo(L,Me),J=vo(L,st);if($&&J&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==J.node||ie.focusOffset!==J.offset)){var te=ce.createRange();te.setStart($.node,$.offset),ie.removeAllRanges(),Me>st?(ie.addRange(te),ie.extend(J.node,J.offset)):(te.setEnd(J.node,J.offset),ie.addRange(te))}}}}for(ce=[],ie=L;ie=ie.parentNode;)ie.nodeType===1&&ce.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ce.length;L++){var ue=ce[L];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}v0=!!Hc,Kc=Hc=null}finally{et=c,D.p=l,j.T=n}}e.current=t,Dt=2}}function kf(){if(Dt===2){Dt=0;var e=Kl,t=Qa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=j.T,j.T=null;var l=D.p;D.p=2;var c=et;et|=4;try{of(e,t.alternate,t)}finally{et=c,D.p=l,j.T=n}}Dt=3}}function If(){if(Dt===4||Dt===3){Dt=0,Vn();var e=Kl,t=Qa,n=Cl,l=Cf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Dt=5:(Dt=0,Qa=Kl=null,Gf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Hl=null),ht(n),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Un,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=j.T,c=D.p,D.p=2,j.T=null;try{for(var o=e.onRecoverableError,w=0;w<l.length;w++){var L=l[w];o(L.value,{componentStack:L.stack})}}finally{j.T=t,D.p=c}}(Cl&3)!==0&&r0(),$n(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Ac?Hi++:(Hi=0,Ac=e):Hi=0,Ki(0)}}function Gf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wi(t)))}function r0(){return Bf(),kf(),If(),Rf()}function Rf(){if(Dt!==5)return!1;var e=Kl,t=Nc;Nc=0;var n=ht(Cl),l=j.T,c=D.p;try{D.p=32>n?32:n,j.T=null,n=Dc,Dc=null;var o=Kl,w=Cl;if(Dt=0,Qa=Kl=null,Cl=0,(et&6)!==0)throw Error(i(331));var L=et;if(et|=4,pf(o.current),gf(o,o.current,w,n),et=L,Ki(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Un,o)}catch{}return!0}finally{D.p=c,j.T=l,Gf(e,t)}}function Of(e,t,n){t=Nn(n,t),t=cc(e.stateNode,t,2),e=Il(e,t,2),e!==null&&(Ae(e,2),$n(e))}function it(e,t,n){if(e.tag===3)Of(e,e,n);else for(;t!==null;){if(t.tag===3){Of(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hl===null||!Hl.has(l))){e=Nn(n,e),n=Ox(2),l=Il(t,n,2),l!==null&&(Yx(n,l,t,e),Ae(l,2),$n(l));break}}t=t.return}}function Ec(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new _h;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(Mc=!0,c.add(n),e=jh.bind(null,e,t,n),t.then(e,e))}function jh(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ot===e&&(Oe&n)===n&&(bt===4||bt===3&&(Oe&62914560)===Oe&&300>Qe()-e0?(et&2)===0&&Pa(e,0):jc|=n,Wa===Oe&&(Wa=0)),$n(e)}function Yf(e,t){t===0&&(t=Xe()),e=ua(e,t),e!==null&&(Ae(e,t),$n(e))}function zh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yf(e,n)}function Nh(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Yf(e,n)}function Dh(e,t){return Ut(e,t)}var u0=null,$a=null,qc=!1,c0=!1,Bc=!1,Xl=0;function $n(e){e!==$a&&e.next===null&&($a===null?u0=$a=e:$a=$a.next=e),c0=!0,qc||(qc=!0,Lh())}function Ki(e,t){if(!Bc&&c0){Bc=!0;do for(var n=!1,l=u0;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var o=0;else{var w=l.suspendedLanes,L=l.pingedLanes;o=(1<<31-Re(42|e)+1)-1,o&=c&~(w&~L),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Zf(l,o))}else o=Oe,o=Se(l,l===ot?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||Pe(l,o)||(n=!0,Zf(l,o));l=l.next}while(n);Bc=!1}}function Ah(){Uf()}function Uf(){c0=qc=!1;var e=0;Xl!==0&&Yh()&&(e=Xl);for(var t=Qe(),n=null,l=u0;l!==null;){var c=l.next,o=Hf(l,t);o===0?(l.next=null,n===null?u0=c:n.next=c,c===null&&($a=n)):(n=l,(e!==0||(o&3)!==0)&&(c0=!0)),l=c}Dt!==0&&Dt!==5||Ki(e),Xl!==0&&(Xl=0)}function Hf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var w=31-Re(o),L=1<<w,K=c[w];K===-1?((L&n)===0||(L&l)!==0)&&(c[w]=Fe(L,t)):K<=t&&(e.expiredLanes|=L),o&=~L}if(t=ot,n=Oe,n=Se(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&cn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Pe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&cn(l),ht(n)){case 2:case 8:n=al;break;case 32:n=il;break;case 268435456:n=na;break;default:n=il}return l=Kf.bind(null,e),n=Ut(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&cn(l),e.callbackPriority=2,e.callbackNode=null,2}function Kf(e,t){if(Dt!==0&&Dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(r0()&&e.callbackNode!==n)return null;var l=Oe;return l=Se(e,e===ot?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Mf(e,l,t),Hf(e,Qe()),e.callbackNode!=null&&e.callbackNode===n?Kf.bind(null,e):null)}function Zf(e,t){if(r0())return null;Mf(e,t,!0)}function Lh(){Hh(function(){(et&6)!==0?Ut(jl,Ah):Uf()})}function kc(){if(Xl===0){var e=Ga;e===0&&(e=_e,_e<<=1,(_e&261888)===0&&(_e=256)),Xl=e}return Xl}function Xf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:br(""+e)}function Vf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Th(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var o=Xf((c[Bt]||null).action),w=l.submitter;w&&(t=(t=w[Bt]||null)?Xf(t.formAction):w.getAttribute("formAction"),t!==null&&(o=t,w=null));var L=new pr("action","action",null,l,c);e.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xl!==0){var K=w?Vf(c,w):new FormData(c);nc(n,{pending:!0,data:K,method:c.method,action:o},null,K)}}else typeof o=="function"&&(L.preventDefault(),K=w?Vf(c,w):new FormData(c),nc(n,{pending:!0,data:K,method:c.method,action:o},o,K))},currentTarget:c}]})}}for(var Ic=0;Ic<yu.length;Ic++){var Gc=yu[Ic],Eh=Gc.toLowerCase(),qh=Gc[0].toUpperCase()+Gc.slice(1);Hn(Eh,"on"+qh)}Hn(Co,"onAnimationEnd"),Hn(wo,"onAnimationIteration"),Hn(Mo,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Q1,"onTransitionRun"),Hn(P1,"onTransitionStart"),Hn(F1,"onTransitionCancel"),Hn(jo,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rl("onBeforeInput",["compositionend","keypress","textInput","paste"]),rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zi));function Jf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var w=l.length-1;0<=w;w--){var L=l[w],K=L.instance,ne=L.currentTarget;if(L=L.listener,K!==o&&c.isPropagationStopped())break e;o=L,c.currentTarget=ne;try{o(c)}catch(re){Cr(re)}c.currentTarget=null,o=K}else for(w=0;w<l.length;w++){if(L=l[w],K=L.instance,ne=L.currentTarget,L=L.listener,K!==o&&c.isPropagationStopped())break e;o=L,c.currentTarget=ne;try{o(c)}catch(re){Cr(re)}c.currentTarget=null,o=K}}}}function Ie(e,t){var n=t[wn];n===void 0&&(n=t[wn]=new Set);var l=e+"__bubble";n.has(l)||(Wf(t,e,2,!1),n.add(l))}function Rc(e,t,n){var l=0;t&&(l|=4),Wf(n,e,l,t)}var s0="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[s0]){e[s0]=!0,St.forEach(function(n){n!=="selectionchange"&&(Bh.has(n)||Rc(n,!1,e),Rc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[s0]||(t[s0]=!0,Rc("selectionchange",!1,t))}}function Wf(e,t,n,l){switch(wd(t)){case 2:var c=s2;break;case 8:c=o2;break;default:c=ts}n=c.bind(null,t,n,e),c=void 0,!ru||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Yc(e,t,n,l,c){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var L=l.stateNode.containerInfo;if(L===c)break;if(w===4)for(w=l.return;w!==null;){var K=w.tag;if((K===3||K===4)&&w.stateNode.containerInfo===c)return;w=w.return}for(;L!==null;){if(w=Dl(L),w===null)return;if(K=w.tag,K===5||K===6||K===26||K===27){l=o=w;continue e}L=L.parentNode}}l=l.return}Fs(function(){var ne=o,re=au(n),ce=[];e:{var le=zo.get(e);if(le!==void 0){var ie=pr,ge=e;switch(e){case"keypress":if(vr(n)===0)break e;case"keydown":case"keyup":ie=N1;break;case"focusin":ge="focus",ie=ou;break;case"focusout":ge="blur",ie=ou;break;case"beforeblur":case"afterblur":ie=ou;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=to;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=L1;break;case Co:case wo:case Mo:ie=y1;break;case jo:ie=E1;break;case"scroll":case"scrollend":ie=h1;break;case"wheel":ie=B1;break;case"copy":case"cut":case"paste":ie=_1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=lo;break;case"toggle":case"beforetoggle":ie=I1}var Me=(t&4)!==0,st=!Me&&(e==="scroll"||e==="scrollend"),$=Me?le!==null?le+"Capture":null:le;Me=[];for(var J=ne,te;J!==null;){var ue=J;if(te=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||te===null||$===null||(ue=di(J,$),ue!=null&&Me.push(Xi(J,ue,te))),st)break;J=J.return}0<Me.length&&(le=new ie(le,ge,null,n,re),ce.push({event:le,listeners:Me}))}}if((t&7)===0){e:{if(le=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",le&&n!==lu&&(ge=n.relatedTarget||n.fromElement)&&(Dl(ge)||ge[Nl]))break e;if((ie||le)&&(le=re.window===re?re:(le=re.ownerDocument)?le.defaultView||le.parentWindow:window,ie?(ge=n.relatedTarget||n.toElement,ie=ne,ge=ge?Dl(ge):null,ge!==null&&(st=x(ge),Me=ge.tag,ge!==st||Me!==5&&Me!==27&&Me!==6)&&(ge=null)):(ie=null,ge=ne),ie!==ge)){if(Me=to,ue="onMouseLeave",$="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(Me=lo,ue="onPointerLeave",$="onPointerEnter",J="pointer"),st=ie==null?le:pe(ie),te=ge==null?le:pe(ge),le=new Me(ue,J+"leave",ie,n,re),le.target=st,le.relatedTarget=te,ue=null,Dl(re)===ne&&(Me=new Me($,J+"enter",ge,n,re),Me.target=te,Me.relatedTarget=st,ue=Me),st=ue,ie&&ge)t:{for(Me=kh,$=ie,J=ge,te=0,ue=$;ue;ue=Me(ue))te++;ue=0;for(var Ce=J;Ce;Ce=Me(Ce))ue++;for(;0<te-ue;)$=Me($),te--;for(;0<ue-te;)J=Me(J),ue--;for(;te--;){if($===J||J!==null&&$===J.alternate){Me=$;break t}$=Me($),J=Me(J)}Me=null}else Me=null;ie!==null&&Qf(ce,le,ie,Me,!1),ge!==null&&st!==null&&Qf(ce,st,ge,Me,!0)}}e:{if(le=ne?pe(ne):window,ie=le.nodeName&&le.nodeName.toLowerCase(),ie==="select"||ie==="input"&&le.type==="file")var Je=xo;else if(so(le))if(fo)Je=V1;else{Je=Z1;var ve=K1}else ie=le.nodeName,!ie||ie.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ne&&nu(ne.elementType)&&(Je=xo):Je=X1;if(Je&&(Je=Je(e,ne))){oo(ce,Je,n,re);break e}ve&&ve(e,le,ne),e==="focusout"&&ne&&le.type==="number"&&ne.memoizedProps.value!=null&&tu(le,"number",le.value)}switch(ve=ne?pe(ne):window,e){case"focusin":(so(ve)||ve.contentEditable==="true")&&(Aa=ve,bu=ne,_i=null);break;case"focusout":_i=bu=Aa=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,_o(ce,n,re);break;case"selectionchange":if(W1)break;case"keydown":case"keyup":_o(ce,n,re)}var Te;if(fu)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Da?uo(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(ao&&n.locale!=="ko"&&(Da||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Da&&(Te=$s()):(Al=re,uu="value"in Al?Al.value:Al.textContent,Da=!0)),ve=o0(ne,Ye),0<ve.length&&(Ye=new no(Ye,e,null,n,re),ce.push({event:Ye,listeners:ve}),Te?Ye.data=Te:(Te=co(n),Te!==null&&(Ye.data=Te)))),(Te=R1?O1(e,n):Y1(e,n))&&(Ye=o0(ne,"onBeforeInput"),0<Ye.length&&(ve=new no("onBeforeInput","beforeinput",null,n,re),ce.push({event:ve,listeners:Ye}),ve.data=Te)),Th(ce,e,ne,n,re)}Jf(ce,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function o0(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,o=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||o===null||(c=di(e,n),c!=null&&l.unshift(Xi(e,c,o)),c=di(e,t),c!=null&&l.push(Xi(e,c,o))),e.tag===3)return l;e=e.return}return[]}function kh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qf(e,t,n,l,c){for(var o=t._reactName,w=[];n!==null&&n!==l;){var L=n,K=L.alternate,ne=L.stateNode;if(L=L.tag,K!==null&&K===l)break;L!==5&&L!==26&&L!==27||ne===null||(K=ne,c?(ne=di(n,o),ne!=null&&w.unshift(Xi(n,ne,K))):c||(ne=di(n,o),ne!=null&&w.push(Xi(n,ne,K)))),n=n.return}w.length!==0&&e.push({event:t,listeners:w})}var Ih=/\r\n?/g,Gh=/\u0000|\uFFFD/g;function Pf(e){return(typeof e=="string"?e:""+e).replace(Ih,`
`).replace(Gh,"")}function Ff(e,t){return t=Pf(t),Pf(e)===t}function ct(e,t,n,l,c,o){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ja(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ja(e,""+l);break;case"className":hr(e,"class",l);break;case"tabIndex":hr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(e,n,l);break;case"style":Qs(e,l,o);break;case"data":if(t!=="object"){hr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&ct(e,t,"name",c.name,c,null),ct(e,t,"formEncType",c.formEncType,c,null),ct(e,t,"formMethod",c.formMethod,c,null),ct(e,t,"formTarget",c.formTarget,c,null)):(ct(e,t,"encType",c.encType,c,null),ct(e,t,"method",c.method,c,null),ct(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=cl);break;case"onScroll":l!=null&&Ie("scroll",e);break;case"onScrollEnd":l!=null&&Ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=br(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ie("beforetoggle",e),Ie("toggle",e),dr(e,"popover",l);break;case"xlinkActuate":ul(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ul(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ul(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ul(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ul(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ul(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ul(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ul(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ul(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=f1.get(n)||n,dr(e,n,l))}}function Uc(e,t,n,l,c,o){switch(n){case"style":Qs(e,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?ja(e,l):(typeof l=="number"||typeof l=="bigint")&&ja(e,""+l);break;case"onScroll":l!=null&&Ie("scroll",e);break;case"onScrollEnd":l!=null&&Ie("scrollend",e);break;case"onClick":l!=null&&(e.onclick=cl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),o=e[Bt]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,c),typeof l=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):dr(e,n,l)}}}function Rt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",e),Ie("load",e);var l=!1,c=!1,o;for(o in n)if(n.hasOwnProperty(o)){var w=n[o];if(w!=null)switch(o){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ct(e,t,o,w,n,null)}}c&&ct(e,t,"srcSet",n.srcSet,n,null),l&&ct(e,t,"src",n.src,n,null);return;case"input":Ie("invalid",e);var L=o=w=c=null,K=null,ne=null;for(l in n)if(n.hasOwnProperty(l)){var re=n[l];if(re!=null)switch(l){case"name":c=re;break;case"type":w=re;break;case"checked":K=re;break;case"defaultChecked":ne=re;break;case"value":o=re;break;case"defaultValue":L=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,t));break;default:ct(e,t,l,re,n,null)}}Xs(e,o,L,K,ne,w,c,!1);return;case"select":Ie("invalid",e),l=w=o=null;for(c in n)if(n.hasOwnProperty(c)&&(L=n[c],L!=null))switch(c){case"value":o=L;break;case"defaultValue":w=L;break;case"multiple":l=L;default:ct(e,t,c,L,n,null)}t=o,n=w,e.multiple=!!l,t!=null?Ma(e,!!l,t,!1):n!=null&&Ma(e,!!l,n,!0);return;case"textarea":Ie("invalid",e),o=c=l=null;for(w in n)if(n.hasOwnProperty(w)&&(L=n[w],L!=null))switch(w){case"value":l=L;break;case"defaultValue":c=L;break;case"children":o=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:ct(e,t,w,L,n,null)}Js(e,l,c,o);return;case"option":for(K in n)n.hasOwnProperty(K)&&(l=n[K],l!=null)&&(K==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ct(e,t,K,l,n,null));return;case"dialog":Ie("beforetoggle",e),Ie("toggle",e),Ie("cancel",e),Ie("close",e);break;case"iframe":case"object":Ie("load",e);break;case"video":case"audio":for(l=0;l<Zi.length;l++)Ie(Zi[l],e);break;case"image":Ie("error",e),Ie("load",e);break;case"details":Ie("toggle",e);break;case"embed":case"source":case"link":Ie("error",e),Ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in n)if(n.hasOwnProperty(ne)&&(l=n[ne],l!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ct(e,t,ne,l,n,null)}return;default:if(nu(t)){for(re in n)n.hasOwnProperty(re)&&(l=n[re],l!==void 0&&Uc(e,t,re,l,n,void 0));return}}for(L in n)n.hasOwnProperty(L)&&(l=n[L],l!=null&&ct(e,t,L,l,n,null))}function Rh(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,o=null,w=null,L=null,K=null,ne=null,re=null;for(ie in n){var ce=n[ie];if(n.hasOwnProperty(ie)&&ce!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":K=ce;default:l.hasOwnProperty(ie)||ct(e,t,ie,null,l,ce)}}for(var le in l){var ie=l[le];if(ce=n[le],l.hasOwnProperty(le)&&(ie!=null||ce!=null))switch(le){case"type":o=ie;break;case"name":c=ie;break;case"checked":ne=ie;break;case"defaultChecked":re=ie;break;case"value":w=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:ie!==ce&&ct(e,t,le,ie,l,ce)}}eu(e,w,L,K,ne,re,o,c);return;case"select":ie=w=L=le=null;for(o in n)if(K=n[o],n.hasOwnProperty(o)&&K!=null)switch(o){case"value":break;case"multiple":ie=K;default:l.hasOwnProperty(o)||ct(e,t,o,null,l,K)}for(c in l)if(o=l[c],K=n[c],l.hasOwnProperty(c)&&(o!=null||K!=null))switch(c){case"value":le=o;break;case"defaultValue":L=o;break;case"multiple":w=o;default:o!==K&&ct(e,t,c,o,l,K)}t=L,n=w,l=ie,le!=null?Ma(e,!!n,le,!1):!!l!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":ie=le=null;for(L in n)if(c=n[L],n.hasOwnProperty(L)&&c!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:ct(e,t,L,null,l,c)}for(w in l)if(c=l[w],o=n[w],l.hasOwnProperty(w)&&(c!=null||o!=null))switch(w){case"value":le=c;break;case"defaultValue":ie=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==o&&ct(e,t,w,c,l,o)}Vs(e,le,ie);return;case"option":for(var ge in n)le=n[ge],n.hasOwnProperty(ge)&&le!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?e.selected=!1:ct(e,t,ge,null,l,le));for(K in l)le=l[K],ie=n[K],l.hasOwnProperty(K)&&le!==ie&&(le!=null||ie!=null)&&(K==="selected"?e.selected=le&&typeof le!="function"&&typeof le!="symbol":ct(e,t,K,le,l,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in n)le=n[Me],n.hasOwnProperty(Me)&&le!=null&&!l.hasOwnProperty(Me)&&ct(e,t,Me,null,l,le);for(ne in l)if(le=l[ne],ie=n[ne],l.hasOwnProperty(ne)&&le!==ie&&(le!=null||ie!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,t));break;default:ct(e,t,ne,le,l,ie)}return;default:if(nu(t)){for(var st in n)le=n[st],n.hasOwnProperty(st)&&le!==void 0&&!l.hasOwnProperty(st)&&Uc(e,t,st,void 0,l,le);for(re in l)le=l[re],ie=n[re],!l.hasOwnProperty(re)||le===ie||le===void 0&&ie===void 0||Uc(e,t,re,le,l,ie);return}}for(var $ in n)le=n[$],n.hasOwnProperty($)&&le!=null&&!l.hasOwnProperty($)&&ct(e,t,$,null,l,le);for(ce in l)le=l[ce],ie=n[ce],!l.hasOwnProperty(ce)||le===ie||le==null&&ie==null||ct(e,t,ce,le,l,ie)}function $f(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Oh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],o=c.transferSize,w=c.initiatorType,L=c.duration;if(o&&L&&$f(w)){for(w=0,L=c.responseEnd,l+=1;l<n.length;l++){var K=n[l],ne=K.startTime;if(ne>L)break;var re=K.transferSize,ce=K.initiatorType;re&&$f(ce)&&(K=K.responseEnd,w+=re*(K<L?1:(L-ne)/(K-ne)))}if(--l,t+=8*(o+w)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hc=null,Kc=null;function x0(e){return e.nodeType===9?e:e.ownerDocument}function ed(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function td(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xc=null;function Yh(){var e=window.event;return e&&e.type==="popstate"?e===Xc?!1:(Xc=e,!0):(Xc=null,!1)}var nd=typeof setTimeout=="function"?setTimeout:void 0,Uh=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,Hh=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(Kh)}:nd;function Kh(e){setTimeout(function(){throw e})}function Vl(e){return e==="head"}function ad(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),li(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Vi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Vi(n);for(var o=n.firstChild;o;){var w=o.nextSibling,L=o.nodeName;o[la]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=w}}else n==="body"&&Vi(e.ownerDocument.body);n=c}while(n);li(t)}function id(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Vc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vc(n),fi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Zh(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[la])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=En(e.nextSibling),e===null)break}return null}function Xh(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=En(e.nextSibling),e===null))return null;return e}function rd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=En(e.nextSibling),e===null))return null;return e}function Jc(e){return e.data==="$?"||e.data==="$~"}function Wc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vh(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Qc=null;function ud(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return En(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function cd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function sd(e,t,n){switch(t=x0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Vi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fi(e)}var qn=new Map,od=new Set;function f0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wl=D.d;D.d={f:Jh,r:Wh,D:Qh,C:Ph,L:Fh,m:$h,X:t2,S:e2,M:n2};function Jh(){var e=wl.f(),t=l0();return e||t}function Wh(e){var t=de(e);t!==null&&t.tag===5&&t.type==="form"?jx(t):wl.r(e)}var ei=typeof document>"u"?null:document;function xd(e,t,n){var l=ei;if(l&&typeof t=="string"&&t){var c=jn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),od.has(c)||(od.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Rt(t,"link",e),Ze(t),l.head.appendChild(t)))}}function Qh(e){wl.D(e),xd("dns-prefetch",e,null)}function Ph(e,t){wl.C(e,t),xd("preconnect",e,t)}function Fh(e,t,n){wl.L(e,t,n);var l=ei;if(l&&e&&t){var c='link[rel="preload"][as="'+jn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+jn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+jn(n.imageSizes)+'"]')):c+='[href="'+jn(e)+'"]';var o=c;switch(t){case"style":o=ti(e);break;case"script":o=ni(e)}qn.has(o)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),qn.set(o,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Ji(o))||t==="script"&&l.querySelector(Wi(o))||(t=l.createElement("link"),Rt(t,"link",e),Ze(t),l.head.appendChild(t)))}}function $h(e,t){wl.m(e,t);var n=ei;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+jn(l)+'"][href="'+jn(e)+'"]',o=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ni(e)}if(!qn.has(o)&&(e=S({rel:"modulepreload",href:e},t),qn.set(o,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wi(o)))return}l=n.createElement("link"),Rt(l,"link",e),Ze(l),n.head.appendChild(l)}}}function e2(e,t,n){wl.S(e,t,n);var l=ei;if(l&&e){var c=Be(l).hoistableStyles,o=ti(e);t=t||"default";var w=c.get(o);if(!w){var L={loading:0,preload:null};if(w=l.querySelector(Ji(o)))L.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qn.get(o))&&Pc(e,n);var K=w=l.createElement("link");Ze(K),Rt(K,"link",e),K._p=new Promise(function(ne,re){K.onload=ne,K.onerror=re}),K.addEventListener("load",function(){L.loading|=1}),K.addEventListener("error",function(){L.loading|=2}),L.loading|=4,d0(w,t,l)}w={type:"stylesheet",instance:w,count:1,state:L},c.set(o,w)}}}function t2(e,t){wl.X(e,t);var n=ei;if(n&&e){var l=Be(n).hoistableScripts,c=ni(e),o=l.get(c);o||(o=n.querySelector(Wi(c)),o||(e=S({src:e,async:!0},t),(t=qn.get(c))&&Fc(e,t),o=n.createElement("script"),Ze(o),Rt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(c,o))}}function n2(e,t){wl.M(e,t);var n=ei;if(n&&e){var l=Be(n).hoistableScripts,c=ni(e),o=l.get(c);o||(o=n.querySelector(Wi(c)),o||(e=S({src:e,async:!0,type:"module"},t),(t=qn.get(c))&&Fc(e,t),o=n.createElement("script"),Ze(o),Rt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(c,o))}}function fd(e,t,n,l){var c=(c=ae.current)?f0(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ti(n.href),n=Be(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ti(n.href);var o=Be(c).hoistableStyles,w=o.get(e);if(w||(c=c.ownerDocument||c,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,w),(o=c.querySelector(Ji(e)))&&!o._p&&(w.instance=o,w.state.loading=5),qn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qn.set(e,n),o||l2(c,e,n,w.state))),t&&l===null)throw Error(i(528,""));return w}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ni(n),n=Be(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ti(e){return'href="'+jn(e)+'"'}function Ji(e){return'link[rel="stylesheet"]['+e+"]"}function dd(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function l2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Rt(t,"link",n),Ze(t),e.head.appendChild(t))}function ni(e){return'[src="'+jn(e)+'"]'}function Wi(e){return"script[async]"+e}function hd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+jn(n.href)+'"]');if(l)return t.instance=l,Ze(l),l;var c=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ze(l),Rt(l,"style",c),d0(l,n.precedence,e),t.instance=l;case"stylesheet":c=ti(n.href);var o=e.querySelector(Ji(c));if(o)return t.state.loading|=4,t.instance=o,Ze(o),o;l=dd(n),(c=qn.get(c))&&Pc(l,c),o=(e.ownerDocument||e).createElement("link"),Ze(o);var w=o;return w._p=new Promise(function(L,K){w.onload=L,w.onerror=K}),Rt(o,"link",l),t.state.loading|=4,d0(o,n.precedence,e),t.instance=o;case"script":return o=ni(n.src),(c=e.querySelector(Wi(o)))?(t.instance=c,Ze(c),c):(l=n,(c=qn.get(o))&&(l=S({},n),Fc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ze(c),Rt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,d0(l,n.precedence,e));return t.instance}function d0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,o=c,w=0;w<l.length;w++){var L=l[w];if(L.dataset.precedence===t)o=L;else if(o!==c)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var h0=null;function md(e,t,n){if(h0===null){var l=new Map,c=h0=new Map;c.set(n,l)}else c=h0,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var o=n[c];if(!(o[la]||o[ze]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var w=o.getAttribute(t)||"";w=e+w;var L=l.get(w);L?L.push(o):l.set(w,[o])}}return l}function bd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function a2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function i2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ti(l.href),o=t.querySelector(Ji(c));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=m0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Ze(o);return}o=t.ownerDocument||t,l=dd(l),(c=qn.get(c))&&Pc(l,c),o=o.createElement("link"),Ze(o);var w=o;w._p=new Promise(function(L,K){w.onload=L,w.onerror=K}),Rt(o,"link",l),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=m0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var $c=0;function r2(e,t){return e.stylesheets&&e.count===0&&g0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&g0(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&$c===0&&($c=62500*Oh());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&g0(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>$c?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function m0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)g0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var b0=null;function g0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,b0=new Map,t.forEach(u2,e),b0=null,m0.call(e))}function u2(e,t){if(!(t.state.loading&4)){var n=b0.get(e);if(n)var l=n.get(null);else{n=new Map,b0.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<c.length;o++){var w=c[o];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(n.set(w.dataset.precedence,w),l=w)}l&&n.set(null,l)}c=t.instance,w=c.getAttribute("data-precedence"),o=n.get(w)||l,o===l&&n.set(null,c),n.set(w,c),this.count++,l=m0.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),o?o.parentNode.insertBefore(c,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Qi={$$typeof:E,Provider:null,Consumer:null,_currentValue:A,_currentValue2:A,_threadCount:0};function c2(e,t,n,l,c,o,w,L,K){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ve(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.hiddenUpdates=Ve(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=o,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function vd(e,t,n,l,c,o,w,L,K,ne,re,ce){return e=new c2(e,t,n,w,K,ne,re,ce,L),t=1,o===!0&&(t|=24),o=on(3,null,null,t),e.current=o,o.stateNode=e,t=Tu(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:n,cache:t},ku(o),e}function yd(e){return e?(e=Ea,e):Ea}function pd(e,t,n,l,c,o){c=yd(c),l.context===null?l.context=c:l.pendingContext=c,l=kl(t),l.payload={element:n},o=o===void 0?null:o,o!==null&&(l.callback=o),n=Il(e,l,t),n!==null&&(nn(n,e,t),Ni(n,e,t))}function _d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function es(e,t){_d(e,t),(e=e.alternate)&&_d(e,t)}function Sd(e){if(e.tag===13||e.tag===31){var t=ua(e,67108864);t!==null&&nn(t,e,67108864),es(e,67108864)}}function Cd(e){if(e.tag===13||e.tag===31){var t=mn();t=lt(t);var n=ua(e,t);n!==null&&nn(n,e,t),es(e,t)}}var v0=!0;function s2(e,t,n,l){var c=j.T;j.T=null;var o=D.p;try{D.p=2,ts(e,t,n,l)}finally{D.p=o,j.T=c}}function o2(e,t,n,l){var c=j.T;j.T=null;var o=D.p;try{D.p=8,ts(e,t,n,l)}finally{D.p=o,j.T=c}}function ts(e,t,n,l){if(v0){var c=ns(l);if(c===null)Yc(e,t,l,y0,n),Md(e,l);else if(f2(c,e,t,n,l))l.stopPropagation();else if(Md(e,l),t&4&&-1<x2.indexOf(e)){for(;c!==null;){var o=de(c);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var w=je(o.pendingLanes);if(w!==0){var L=o;for(L.pendingLanes|=2,L.entangledLanes|=2;w;){var K=1<<31-Re(w);L.entanglements[1]|=K,w&=~K}$n(o),(et&6)===0&&(t0=Qe()+500,Ki(0))}}break;case 31:case 13:L=ua(o,2),L!==null&&nn(L,o,2),l0(),es(o,2)}if(o=ns(l),o===null&&Yc(e,t,l,y0,n),o===c)break;c=o}c!==null&&l.stopPropagation()}else Yc(e,t,l,null,n)}}function ns(e){return e=au(e),ls(e)}var y0=null;function ls(e){if(y0=null,e=Dl(e),e!==null){var t=x(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=v(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return y0=e,null}function wd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case jl:return 2;case al:return 8;case il:case zl:return 32;case na:return 268435456;default:return 32}default:return 32}}var as=!1,Jl=null,Wl=null,Ql=null,Pi=new Map,Fi=new Map,Pl=[],x2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Md(e,t){switch(e){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":Wl=null;break;case"mouseover":case"mouseout":Ql=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(t.pointerId)}}function $i(e,t,n,l,c,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:o,targetContainers:[c]},t!==null&&(t=de(t),t!==null&&Sd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function f2(e,t,n,l,c){switch(t){case"focusin":return Jl=$i(Jl,e,t,n,l,c),!0;case"dragenter":return Wl=$i(Wl,e,t,n,l,c),!0;case"mouseover":return Ql=$i(Ql,e,t,n,l,c),!0;case"pointerover":var o=c.pointerId;return Pi.set(o,$i(Pi.get(o)||null,e,t,n,l,c)),!0;case"gotpointercapture":return o=c.pointerId,Fi.set(o,$i(Fi.get(o)||null,e,t,n,l,c)),!0}return!1}function jd(e){var t=Dl(e.target);if(t!==null){var n=x(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,Ca(e.priority,function(){Cd(n)});return}}else if(t===31){if(t=v(n),t!==null){e.blockedOn=t,Ca(e.priority,function(){Cd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function p0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ns(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);lu=l,n.target.dispatchEvent(l),lu=null}else return t=de(n),t!==null&&Sd(t),e.blockedOn=n,!1;t.shift()}return!0}function zd(e,t,n){p0(e)&&n.delete(t)}function d2(){as=!1,Jl!==null&&p0(Jl)&&(Jl=null),Wl!==null&&p0(Wl)&&(Wl=null),Ql!==null&&p0(Ql)&&(Ql=null),Pi.forEach(zd),Fi.forEach(zd)}function _0(e,t){e.blockedOn===t&&(e.blockedOn=null,as||(as=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,d2)))}var S0=null;function Nd(e){S0!==e&&(S0=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){S0===e&&(S0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(ls(l||n)===null)continue;break}var o=de(n);o!==null&&(e.splice(t,3),t-=3,nc(o,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function li(e){function t(K){return _0(K,e)}Jl!==null&&_0(Jl,e),Wl!==null&&_0(Wl,e),Ql!==null&&_0(Ql,e),Pi.forEach(t),Fi.forEach(t);for(var n=0;n<Pl.length;n++){var l=Pl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Pl.length&&(n=Pl[0],n.blockedOn===null);)jd(n),n.blockedOn===null&&Pl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],o=n[l+1],w=c[Bt]||null;if(typeof o=="function")w||Nd(n);else if(w){var L=null;if(o&&o.hasAttribute("formAction")){if(c=o,w=o[Bt]||null)L=w.formAction;else if(ls(c)!==null)continue}else L=w.action;typeof L=="function"?n[l+1]=L:(n.splice(l,3),l-=3),Nd(n)}}}function Dd(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(w){return c=w})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function is(e){this._internalRoot=e}C0.prototype.render=is.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=mn();pd(n,l,e,t,null,null)},C0.prototype.unmount=is.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pd(e.current,2,null,e,null,null),l0(),t[Nl]=null}};function C0(e){this._internalRoot=e}C0.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pl.length&&t!==0&&t<Pl[n].priority;n++);Pl.splice(n,0,e),n===0&&jd(e)}};var Ad=r.version;if(Ad!=="19.2.3")throw Error(i(527,Ad,"19.2.3"));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=d(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var h2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var w0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!w0.isDisabled&&w0.supportsFiber)try{Un=w0.inject(h2),Et=w0}catch{}}return tr.createRoot=function(e,t){if(!f(e))throw Error(i(299));var n=!1,l="",c=kx,o=Ix,w=Gx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(w=t.onRecoverableError)),t=vd(e,1,!1,null,null,n,l,null,c,o,w,Dd),e[Nl]=t.current,Oc(e),new is(t)},tr.hydrateRoot=function(e,t,n){if(!f(e))throw Error(i(299));var l=!1,c="",o=kx,w=Ix,L=Gx,K=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(w=n.onCaughtError),n.onRecoverableError!==void 0&&(L=n.onRecoverableError),n.formState!==void 0&&(K=n.formState)),t=vd(e,1,!0,t,n??null,l,c,K,o,w,L,Dd),t.context=yd(null),n=t.current,l=mn(),l=lt(l),c=kl(l),c.callback=null,Il(n,c,l),n=l,t.current.lanes=n,Ae(t,n),$n(t),e[Nl]=t.current,Oc(e),new C0(t)},tr.version="19.2.3",tr}var Od;function w2(){if(Od)return cs.exports;Od=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),cs.exports=C2(),cs.exports}var M2=w2();const tl=Bn;function Bn(u,r){u=u-204;const a=D0();let i=a[u];if(Bn.OIIVjn===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Bn.KvAVcP=f,Bn.Jnhjpx={},Bn.OIIVjn=!0}const x=a[0],m=u+x,v=Bn.Jnhjpx[m];if(v)i=v;else{const h=function(d){this.nJOvBW=d,this.CAVdrQ=[1,0,0],this.VQIvYZ=function(){return"newState"},this.UZNOTr="\\w+ *\\(\\) *{\\w+ *",this.tJTEmx=`['|"].+['|"];? *}`};h.prototype.lXCHcQ=function(){const d=new RegExp(this.UZNOTr+this.tJTEmx),_=d.test(this.VQIvYZ.toString())?--this.CAVdrQ[1]:--this.CAVdrQ[0];return this.CwLsaZ(_)},h.prototype.CwLsaZ=function(d){return~d?this.IlEFHe(this.nJOvBW):d},h.prototype.IlEFHe=function(d){for(let _=0,S=this.CAVdrQ.length;_<S;_++)this.CAVdrQ.push(Math.round(Math.random())),S=this.CAVdrQ.length;return d(this.CAVdrQ[0])},new h(Bn).lXCHcQ(),i=Bn.KvAVcP(i),Bn.Jnhjpx[m]=i}return i}(function(u,r){const a=Bn,i=u();for(;;)try{if(-parseInt(a(234))/1*(parseInt(a(235))/2)+-parseInt(a(209))/3+parseInt(a(228))/4*(-parseInt(a(221))/5)+parseInt(a(213))/6*(parseInt(a(233))/7)+parseInt(a(219))/8+-parseInt(a(236))/9*(-parseInt(a(207))/10)+parseInt(a(205))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(D0,615984);const j2=(function(){const u={PmIYR:function(a,i){return a!==i},MbIzt:"qztFs"};let r=!0;return function(a,i){const f=Bn;if(u.PmIYR(u[f(225)],u[f(225)])){const x=(_0x12f3cd.leaves??[])[f(208)](m=>m.id===_0x5a781f);x&&_0x1841bd[f(232)](x.position)}else{const x=r?function(){const m=f;if(i){const v=i[m(222)](a,arguments);return i=null,v}}:function(){};return r=!1,x}}})(),hs=j2(void 0,function(){const u=Bn;return hs[u(224)]().search("(((.+)+)+)+$").toString()[u(218)](hs)[u(217)]("(((.+)+)+)+$")});hs();const N0=()=>new Date().toISOString(),Tt=u=>u+"_"+Math[tl(231)]()[tl(224)](36)[tl(212)](2,10);function D0(){const u=["mJiWwNvlvxzu","zMLUza","mtq5mJaXn0n4ruTXrG","BgvUz3rO","uMDQqvm","C2XPy2u","nZm2odiXmgDWv2z3vW","Bwf4","uhDzruW","te1Jq2W","C2vHCMnO","y29UC3rYDwn0B3i","mJKXmdiXnMf4q0TSwG","EvzouNG","ndmXndG4nuToEMDttW","yxbWBhK","r1jRAwG","Dg9tDhjPBMC","twjjENq","z3jVDxbZ","zMXVD2vYCW","ng9cywzItG","BgvHzKLKCW","zMXVD2vYswrZ","CMfUzg9T","ChvZAa","n0HitgfWuW","otC1nevQEvHvrG","mti0AvHoqxPe","mti4nZGXAK1tDMfr","CgfYC2u","nZqXodGXohHSBKPLCa","Aw5JBhvKzxm"];return D0=function(){return u},D0()}const we=(u,r,a)=>Math[tl(214)](r,Math.min(a,u)),$l=u=>{const r=tl;return{LMcCl:function(i,f){return i===f}}[r(216)](u,void 0)||u===null?u:JSON[r(204)](JSON.stringify(u))},lr=u=>Math.floor(u*.7/5)*5;function Ml(u,r){const a=tl;return u[a(226)]?u[a(226)].find(i=>i.flowerIds.includes(r))??null:null}function z2(u,r){const a=tl,i={yVNRx:function(x,m,v){return x(m,v)}},f=i[a(220)](Ml,u,r);return f?f[a(230)]:[r]}function ea(u,r){const a=tl;return u.groups?u.groups[a(208)](i=>i.leafIds[a(206)](r))??null:null}function N2(u,r){const a=tl,i={RgjAS:function(h,d){return h===d},GRkih:function(h,d){return h/d},PwYEL:function(h,d){return h/d}},f=(u.groups??[])[a(208)](h=>h.id===r);if(!f)return{x:0,y:0};const x=[];for(const h of f[a(230)]){const d=u[a(227)].find(_=>_.id===h);d&&x[a(232)](d.position)}for(const h of f[a(229)]){const d=(u.leaves??[]).find(_=>_.id===h);d&&x[a(232)](d.position)}if(i[a(211)](x[a(210)],0))return{x:0,y:0};const m=x.reduce((h,d)=>h+d.x,0),v=x.reduce((h,d)=>h+d.y,0);return{x:i[a(223)](m,x.length),y:i[a(215)](v,x.length)}}function Yd(u,r){const a=tl,i=ea(u,r);return i?i[a(229)]:[r]}const si=bn;function bn(u,r){u=u-409;const a=A0();let i=a[u];if(bn.rKvsyq===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};bn.uxAJLO=f,bn.IOqITE={},bn.rKvsyq=!0}const x=a[0],m=u+x,v=bn.IOqITE[m];if(v)i=v;else{const h=function(d){this.oKoAru=d,this.zQdTVA=[1,0,0],this.tMElRy=function(){return"newState"},this.NbDSYA="\\w+ *\\(\\) *{\\w+ *",this.YEMyFs=`['|"].+['|"];? *}`};h.prototype.WlLzQU=function(){const d=new RegExp(this.NbDSYA+this.YEMyFs),_=d.test(this.tMElRy.toString())?--this.zQdTVA[1]:--this.zQdTVA[0];return this.PbTCkt(_)},h.prototype.PbTCkt=function(d){return~d?this.Zgiyet(this.oKoAru):d},h.prototype.Zgiyet=function(d){for(let _=0,S=this.zQdTVA.length;_<S;_++)this.zQdTVA.push(Math.round(Math.random())),S=this.zQdTVA.length;return d(this.zQdTVA[0])},new h(bn).WlLzQU(),i=bn.uxAJLO(i),bn.IOqITE[m]=i}return i}(function(u,r){const a=bn,i=u();for(;;)try{if(-parseInt(a(450))/1+parseInt(a(431))/2+-parseInt(a(411))/3+-parseInt(a(456))/4+parseInt(a(416))/5+parseInt(a(435))/6+parseInt(a(436))/7===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,735057);const D2=(function(){let u=!0;return function(r,a){const i=u?function(){const f=bn;if(a){const x=a[f(440)](r,arguments);return a=null,x}}:function(){};return u=!1,i}})(),ms=D2(void 0,function(){const u=bn,r={PPPKr:"(((.+)+)+)+$"};return ms.toString()[u(410)](r[u(425)]).toString().constructor(ms)[u(410)](r.PPPKr)});ms();const ui=2/3,Ud=.6,A2=.25,L2=.75;function ta(u,r,a){const i=bn,f={qpylW:function(E,G){return E/G},nCIjp:function(E,G){return E*G},dYKtV:function(E,G){return E<=G},tiKbF:"uniform",Jiguw:function(E,G){return E*G},vipDv:function(E,G){return E*G},IbNTR:function(E,G){return E*G},qvMwO:function(E,G){return E*G},kluHV:function(E,G){return E+G},FFTdZ:function(E,G){return E===G},XlUSc:function(E,G){return E/G},FhJRk:function(E,G){return E*G},dkfVn:function(E,G){return E/G},tYiHw:i(426),kLXjX:function(E,G){return E*G},fdjaq:function(E,G){return E-G},PcKJg:function(E,G){return E*G},KRzbD:function(E,G){return E+G},ZwMWO:function(E,G){return E*G}},x=u/2,m=f[i(448)](f[i(453)](r,Math.SQRT2),2);if(f[i(441)](m,0)||x<=0)return{diameter:u,layerCount:1};const v=a?.[i(452)]??f[i(439)],h=a?.sizeStepMm??0,d=f[i(418)](m,1-ui),_=f[i(443)](Math.PI,x)/2,S=a?.layerCount??Math.max(1,Math[i(424)](_/d)),p=v===i(426)?r+f.IbNTR(S-1,h):r,C=f.qpylW(f[i(421)](p,Math[i(433)]),2),N=f[i(432)](f.IbNTR(m,A2),f.vipDv(C,L2));if(f.FFTdZ(S,1)){const E=Math[i(414)](Math.PI/2,f.XlUSc(f.FhJRk(C,ui),x)),G=f.FhJRk(x,Math.sin(E)),Y=f.qvMwO(f[i(423)](C,Ud),Math[i(455)](E));return{diameter:Math.round(Math.max(u,2*(G+Y))),layerCount:S}}let y=f.dkfVn(m*ui,x);for(let E=1;E<S;E++){const G=f[i(427)](v,f.tYiHw)?r+f[i(449)](E,h):r,Y=G*Math[i(433)]/2;y+=Y*f.fdjaq(1,ui)/x}y=Math.min(y,Math.PI/2);const g=f.PcKJg(f.KRzbD(x,f[i(422)](N,Ud)),Math[i(455)](y)),B=Math[i(409)](0,f.fdjaq(g,x));return{diameter:Math.round(u+2*B),layerCount:S}}function rr(u,r,a=si(420),i=0){const f=si,x={dzTBQ:function(h,d){return h<=d},XWbeC:function(h,d){return h<d},qcMzc:function(h,d){return h===d},LKNhv:f(426),DVzeW:function(h,d){return h*d},atBDA:function(h,d){return h/d},upLDz:function(h,d){return h/d},KJLRg:function(h,d){return h*d}};if(r<=0||x[f(454)](u,0))return 0;const m=[];for(let h=0;x.XWbeC(h,r);h++){const d=x[f(413)](a,x[f(444)])?u+x.DVzeW(h,i):u;m.push(x.atBDA(d*Math.SQRT2,2))}let v=m[0];for(let h=1;h<r;h++)v+=x.upLDz(m[h],3);return Math[f(424)](x[f(419)](v,2))}function A0(){const u=["s01Nrxu","rNzny3y","mtGWnZi1ohPnsgLfEq","A2X1sfy","u1fsvdi","C0nyyvy","mZy5mdG3nKLZDNntEG","mZiYoty2n2LZvgLhqW","D3zps2e","txvqCxK","DgLlyKy","yxbWBhK","zfLlDfy","tMDlEKy","DMLWrhy","teToAhy","BKjiAe0","ue1cwM8","z2nXr0y","Cxb5BfC","A0XyALG","mtiXvKLbCNfc","qM9duui","C2L6zu1Vzgu","BKnjANa","zhPuqLe","C2LU","nde0ntGWog9dBvnnyW","Bwf4","C2vHCMnO","ndaYndK2ohjdrxvpqG","C2L6zvn0zxbnBq","CwnnEMm","BwLU","C2DkBe0","nty2nty1me9fsNjbBa","yK51q0K","sMLNDxC","s0PmuMC","Dw5PzM9YBq","CxznD08","wNDnv08","swjovfi","CM91BMq","ufbqs3i","z3jHzhvHBa","rKzuzfO","Avj2EvC"];return A0=function(){return u},A0()}function T2(u,r,a=si(420),i=0){const f=si,x={iRvyW:function(S,p){return S<=p},sCXaV:function(S,p){return S/p},bNuCI:function(S,p){return S/p},FvMcv:f(420),qSYiT:function(S,p){return S===p},viRiu:function(S,p){return S*p},bhgDB:function(S,p){return S/p},BQpYe:function(S,p){return S/p},sgJlM:function(S,p){return S*p},aDyKb:function(S,p){return S-p}};if(r<=0||x[f(428)](u,0))return 0;const m=x[f(434)](u,2),v=x[f(417)](Math[f(433)],2),h=r;if(a===x[f(430)]||x.qSYiT(i,0)){const S=x[f(417)](x.viRiu(v,h+2),3);return Math[f(409)](1,Math[f(424)](x.bhgDB(m,S)))}const d=x.BQpYe(x[f(415)](i*(h-1),h),6),_=x.aDyKb(m/v,d)*3/(h+2);return Math[f(409)](1,Math[f(424)](_))}function E2(u,r,a){const i=si,f={xJcnk:function(v,h){return v<=h},LdqEl:function(v,h){return v/h},NgKzF:function(v,h){return v+h},PMBZo:function(v,h,d,_){return v(h,d,_)}};if(f.xJcnk(u,r))return 1;let x=1,m=80;for(let v=0;v<30;v++){const h=f.LdqEl(f[i(442)](x,m),2),{diameter:d}=f[i(446)](ta,r,h,a);d<u?x=h:m=h}return Math.max(1,Math.round((x+m)/2))}function q2(u,r,a){const i=si,f={OjlxE:function(p,C){return p/C},KMgEu:function(p,C){return p/C},SjMpc:function(p,C){return p*C},wvOKa:function(p,C){return p<=C},gcqGF:i(420),nBHhM:function(p,C){return p/C},vTcji:function(p,C){return p===C},Ljagm:function(p,C){return p===C},SvPNO:function(p,C){return p/C},cHlJP:function(p,C){return p*C},eZvum:function(p,C){return p*C},BoCQB:function(p,C){return p+C},EWDKr:function(p,C){return p/C},HuvkE:function(p,C){return p*C},MuPqy:function(p,C){return p/C}},x=f.OjlxE(u,2),m=f[i(429)](f.SjMpc(r,Math[i(433)]),2);if(f[i(437)](m,0)||x<=0)return 1;const v=a?.sizeMode??f[i(447)],h=a?.[i(412)]??0,d=f.nBHhM(Math.PI,2);if(f.vTcji(v,"uniform")||f.Ljagm(h,0)){const p=m/3,C=f.SvPNO(f.cHlJP(Math.PI,x),2);return Math.max(1,Math[i(424)](C/p))}let _=f[i(445)](f.eZvum(m,ui),x);if(_>=d)return 1;let S=1;for(let p=1;p<100;p++){const C=f[i(451)](r,p*h),N=C*Math[i(433)]/2,y=f.EWDKr(f.HuvkE(N,1-ui),x);if(_+=y,_>d+f[i(438)](y,2))break;S=p+1}return Math.max(1,S)}const nl=ln;(function(u,r){const a=ln,i=u();for(;;)try{if(parseInt(a(298))/1*(parseInt(a(289))/2)+parseInt(a(339))/3*(-parseInt(a(318))/4)+-parseInt(a(300))/5*(parseInt(a(288))/6)+-parseInt(a(329))/7*(parseInt(a(270))/8)+-parseInt(a(314))/9+-parseInt(a(308))/10+parseInt(a(292))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,404248);const B2=(function(){const u={NVtMp:function(a,i){return a!==i},mDVZD:function(a,i){return a/i},uufRs:function(a,i){return a*i}};let r=!0;return function(a,i){const f={BTGtM:function(m,v){return m+v},VsRCN:function(m,v){return m+v},coIbn:function(m,v){return m-v},eBScw:function(m,v){return m<v},ExfDQ:function(m,v){return u[ln(325)](m,v)},ntcPX:function(m,v){return m*v},kZtlS:function(m,v){return u[ln(344)](m,v)}},x=r?function(){const m=ln;if(u.NVtMp("fREtR",m(340))){if(i)if(u.NVtMp(m(263),m(290))){const v=i.apply(a,arguments);return i=null,v}else{const v=f.BTGtM(f[m(294)](_0xc6d4bb,_0x162eac*_0xc36d48)%360,360)%360;for(const h of _0x5e125c){let d=_0x3bdefb[m(286)](f.coIbn(v,h));d>180&&(d=360-d),f[m(312)](d,_0x37efbe)&&(_0x107a6f=d)}}}else{const{length:v}=_0x48d293(_0x23dca4),h=v*_0x5db87b,d=f[m(283)](f[m(293)](_0x43a9e4,_0x1c1071),2);return _0x2769b2.max(2,d-f[m(315)](h,1-_0x4627da))}}:function(){};return r=!1,x}})(),bs=B2(void 0,function(){const u=ln;return bs[u(336)]()[u(279)](u(321)).toString().constructor(bs)[u(279)](u(321))});bs();const or=.28,Hd={:nl(335),:nl(301)};function gs(u){const r=nl,a={OkndN:function(i,f){return i===f},PmzCf:r(277)};return a.OkndN(u,"")?Hd[r(332)]:Hd[a.PmzCf]}function Sa(u){return u*Math.PI/180}const un=2.7;function Ot(u){const r=nl,a={QaSjI:function(m,v){return m/v}},i=a[r(327)](u*Math.SQRT2,2),f=i*un,x=f/2;return{length:f,width:x}}function k2(u){return{hZdYu:function(a,i){return a/i}}.hZdYu(u*un,2)}function ar(u,r,a){const{length:i}=Ot(a),f=i*r;return(Math.max(0,u-f*or)+f)*2/un}function I2(u,r,a){const i=nl,f={mGGAt:function(h,d){return h(d)},ewPyz:function(h,d){return h-d},Zpoxr:function(h,d){return h-d}},{length:x}=f[i(309)](Ot,a),m=x*r,v=u*un/2;return Math.max(2,f[i(330)](v,m*f.Zpoxr(1,or)))}function el(u,r,a){const i=nl,f={XFZjG:function(_,S){return _*S},UimfR:function(_,S){return _/S},XEoIh:function(_,S){return _<=S},fAIwn:function(_,S){return _<=S},MdKKk:function(_,S){return _+S},IbKbF:function(_,S){return _/S},PZgWJ:function(_,S){return _<S},smppV:function(_,S){return _%S},MdZtm:function(_,S){return _*S},Qveux:i(281),HHPEN:function(_,S){return _>S},oMdCn:function(_,S){return _-S},XBGxV:function(_,S){return _<S}};if(!u||f.XEoIh(u,0)||!a||f.fAIwn(a,0))return r??0;const x=f.UimfR(360,u),m=f[i(303)](360,a),v=[];for(let _=0;_<u;_++)v.push(((r+f[i(276)](_,x))%360+360)%360);let h=f.MdKKk(r,f.IbKbF(x,2)),d=-1;for(let _=0;f[i(267)](_,u);_++){const S=r+_*x+x/2;let p=1/0;for(let C=0;C<a;C++){const N=(f.smppV(f.MdKKk(S,f[i(342)](C,m)),360)+360)%360;for(const y of v)if(f[i(341)]===i(268)){const g=360/_0x5070c7,B=f.XFZjG(_0x25063f.sin(_0x534b5f(f[i(303)](g,2))),2),O=.96,E=1.2,G=B*E/O;return f[i(303)](_0x29cf95[i(337)](_0x24c293.max(.3,_0x42d717[i(311)](3,G))*100),100)}else{let g=Math[i(286)](N-y);f.HHPEN(g,180)&&(g=f[i(302)](360,g)),f[i(343)](g,p)&&(p=g)}}p>d&&(d=p,h=S)}return Math[i(337)](h*10)/10}function W0(u,r,a){const i=nl,f={KdWBg:function(C,N){return C(N)},ZHMFi:function(C,N){return C*N},JhxUq:function(C,N){return C+N},bMUuN:function(C,N){return C<=N},nGGXR:function(C,N){return C/N},aocmW:function(C,N){return C*N},KPjBp:function(C,N){return C/N},JJPDV:function(C,N){return C*N}};if(u.length===0)return;const{length:x}=f.KdWBg(Ot,r),m=u[0],v=m[i(297)]??1,h=f[i(275)](x,v),d=Math[i(280)](0,m[i(326)]-h*or),_=f[i(295)](d,h);if(f.bMUuN(_,0))return;const S=f.nGGXR(f[i(287)](a,un),2),p=f.KPjBp(S,_);for(const C of u)C[i(326)]=Math.max(2,Math[i(337)](f[i(287)](f.aocmW(C[i(326)],p),10))/10),C.scale=f[i(333)](Math.round(f.JJPDV(C.scale??1,p)*100),100);vs(u,r)}function vs(u,r){const a=nl;if(u[a(324)]===0)return;const i=u[u[a(324)]-1],{length:f}=Ot(r),x=f*(i[a(297)]??1),m=Math[a(304)](x*or*10)/10;i.radius>m&&(i.radius=m)}function ln(u,r){u=u-263;const a=L0();let i=a[u];if(ln.PuPccX===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};ln.QjZHcA=f,ln.QrNwxy={},ln.PuPccX=!0}const x=a[0],m=u+x,v=ln.QrNwxy[m];if(v)i=v;else{const h=function(d){this.OrylRV=d,this.NtoUpS=[1,0,0],this.VAZLcq=function(){return"newState"},this.QiQIoK="\\w+ *\\(\\) *{\\w+ *",this.zAFhkk=`['|"].+['|"];? *}`};h.prototype.EBJUyV=function(){const d=new RegExp(this.QiQIoK+this.zAFhkk),_=d.test(this.VAZLcq.toString())?--this.NtoUpS[1]:--this.NtoUpS[0];return this.YJEDMJ(_)},h.prototype.YJEDMJ=function(d){return~d?this.XGdRhx(this.OrylRV):d},h.prototype.XGdRhx=function(d){for(let _=0,S=this.NtoUpS.length;_<S;_++)this.NtoUpS.push(Math.round(Math.random())),S=this.NtoUpS.length;return d(this.NtoUpS[0])},new h(ln).EBJUyV(),i=ln.QjZHcA(i),ln.QrNwxy[m]=i}return i}function G2(u,r,a,i){const f=nl,x={VqRhk:function(p,C){return p/C},Xrqta:function(p,C){return p*C},tNqYx:function(p,C){return p===C},grfyc:function(p,C){return p(C)},Phgwj:function(p,C){return p*C},oUSfI:function(p,C){return p*C},VOVLv:function(p,C){return p-C},LBaEp:function(p,C){return p*C},YYjQT:function(p,C){return p===C},TKuYG:function(p,C){return p/C},ZoEFC:function(p,C){return p*C},rIGup:function(p,C){return p/C},ulVHs:function(p,C){return p/C},XWiWD:function(p,C){return p*C},MfVbK:function(p,C,N,y){return p(C,N,y)}};if(x[f(345)](u.length,0))return;const m=[...u][f(320)]((p,C)=>C[f(328)]-p[f(328)]),{length:v}=x.grfyc(Ot,r),h=m[f(324)],d=m[0].scale??1,_=x[f(278)](v,d);m[0][f(326)]=x.VqRhk(Math.floor(x[f(273)](_*or,10)),10);for(let p=1;p<h;p++){const C=m[x[f(305)](p,1)],N=x[f(331)](v,C.scale??1);let y;if(x[f(346)](a,f(285))){const B=x[f(291)](x[f(282)](70,Math.PI),180),O=h>1?p/x.VOVLv(h,1)*B:0;y=x[f(278)](N*(30/100),Math[f(284)](O))}else y=x[f(317)](N,3);m[p].radius=x[f(272)](Math[f(337)](x[f(319)](C.radius+y,10)),10)}const S=[...u][f(320)]((p,C)=>p.order-C[f(328)]);x[f(269)](W0,S,r,i);for(const p of S){const C=u[f(266)](N=>N.id===p.id);if(C)if(f(316)!==f(313))C.radius=p[f(326)],C.scale=p[f(297)];else return NCphVa[f(334)](NCphVa[f(338)](_0x49b136,_0x2771bb.PI),180)}}function oi(u){const r=nl,a={EJHXh:function(h,d){return h/d},cdQPS:function(h,d){return h*d},ztMKy:function(h,d){return h(d)}},i=a.EJHXh(360,u),f=a[r(323)](Math[r(264)](a[r(274)](Sa,i/2)),2),x=.96,m=1.2,v=a.EJHXh(a.cdQPS(f,m),x);return Math[r(337)](Math.max(.3,Math.min(3,v))*100)/100}function L0(){const u=["C2nHBgu","mJnrENr0Bfe","tufqwfm","nxvkqMPRza","tsaWidakicaGiemGmc4WnsaWlJe1lcaWlJe1idaUmZySidaUmZaGmc40mGOGicaGqYaWlJuWidaUndySidaUnZiGmc4ZncWGmc44ocaWlJe4cIaGicbmideGmaOGicaGtcaWlJG4ic0WlJe4cIaGicbdidaUnZiGltaUmZqSidaUntaGltaUndySidaUmZaGltaUndikicaGiemGmc4XnsaTmc4ZnIWGmc4WnsaTmc4XnsWGmcaWcIaGicbA","B01Kq24","vwLTzLi","zMXVB3i","vK9wthy","Dg9gAxHLza","BMPmyKK","mZe5oteWBwreELDz","BuDhqxq","A1roExq","BwLU","zujty3C","B0PNsg4","mJK3nda1mevICgHeyW","A1P0Bfm","vxHzBfO","CKLhDxa","otq5nda0ENvVy3nY","wfDPv0q","C29YDa","kcGOlISPkYKRksSK","z3bxzMy","y2rrufm","BgvUz3rO","BurwwKq","CMfKAxvZ","uwftAKK","B3jKzxi","mtuWnxLur3fNuG","zxDqExO","tejHrxa","5yMJ44gK44g+44g/","BKDhwfi","vNfsAgS","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","Dg9tDhjPBMC","CM91BMq","whjXDge","m1b3A25iqq","ELHjC3u","uxzLDxG","twrADg0","wejhEfy","DxvMuNm","De5XwxG","wvLQuvq","yNjxsfG","C2LU","Eufhrfe","zMLUza","ufPNv0O","rNjTAhi","twzwyKS","mJeYmJrcAhDpChK","ChvZAa","DwXwshm","B1vtzKK","ENrns3K","wKHnrMK","wezAAKC","5lI444gK44g+44g/","ugHND2O","C2vHCMnO","Bwf4","qK5uCLe","wM9frKm","rxHMrfe","y29Z","5y2k44gp44gz","ywjZ","yw9JBvC","mZuYndi4nNzXD0PuqW","nJG4ntj0qLP0sw8","zLnSEgS","veT1wuC","mtuWnZaXotHWA1fluwS","BNrJufG","vNnsq04","sMH4vxe","rhfeBgq"];return L0=function(){return u},L0()}(function(u,r){const a=Zt,i=u();for(;;)try{if(parseInt(a(171))/1+-parseInt(a(176))/2*(-parseInt(a(170))/3)+parseInt(a(137))/4+-parseInt(a(190))/5*(parseInt(a(140))/6)+-parseInt(a(194))/7*(-parseInt(a(161))/8)+parseInt(a(197))/9+-parseInt(a(218))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,990724);const R2=(function(){const u={OCLzJ:function(a){return a()}};let r=!0;return function(a,i){const f=Zt,x={xAYQi:function(v){return u[Zt(193)](v)},YDxGa:f(222),rzfmi:function(v,h){return v!==h},huACO:f(188),bsSiu:f(132),CWnbe:f(201)},m=r?function(){const v=f,h={cYYsZ:function(d){return x.xAYQi(d)},kYNPC:x[v(191)],eiURO:v(145),XjdQL:function(d,_){return d??_}};if(x.rzfmi(x.huACO,x[v(187)])){if(i)if(x.CWnbe!=="EOryB"){const d=i[v(179)](a,arguments);return i=null,d}else _0x4359ed[v(146)]=_0x1c2a4f.radius,_0x517695.scale=_0x9ae5d8.scale}else{const d=_0x1b1fb4(),_=h.cYYsZ(_0x3ca3a5);return _0x917134({id:_0x4dd139(h[v(221)]),title:_0x2e318a??h[v(130)],unit:"mm",fabricSquareSize:h[v(219)](_0x4fa96d,20),baseDiameter:_0x21e357??30,notes:"",createdAt:d,updatedAt:d,palette:_,flowers:[]})}}:function(){};return r=!1,m}})(),ys=R2(void 0,function(){const u=Zt;return ys[u(208)]()[u(200)]("(((.+)+)+)+$").toString()[u(165)](ys).search(u(127))});ys();function Qd(){const u=Zt,r={AGvht:"#F08CB6",ethWJ:"#F08A3B",KozPl:u(156),qNAoi:u(196),XMhku:u(183),IGxtX:u(139),tTFTo:u(202),gYvih:u(129),LLrWc:u(169),IqLHu:u(124),UGdPO:u(134),VtGfH:"col_coral"};return[{id:"col_white",name:"",hex:u(166)},{id:"col_red",name:"",hex:"#E34850"},{id:"col_pink",name:"",hex:r.AGvht},{id:u(216),name:"",hex:u(122)},{id:u(144),name:"",hex:r.ethWJ},{id:"col_yellow",name:"",hex:u(168)},{id:"col_lightyellow",name:"",hex:"#FDF5C9"},{id:r.KozPl,name:"",hex:u(172)},{id:r[u(199)],name:"",hex:r[u(143)]},{id:r.IGxtX,name:"",hex:u(164)},{id:u(135),name:"",hex:r[u(206)]},{id:r.gYvih,name:"",hex:u(138)},{id:u(160),name:"",hex:u(203)},{id:r[u(212)],name:"",hex:"#C8A2D4"},{id:r.IqLHu,name:"",hex:r[u(217)]},{id:"col_silver",name:"",hex:u(125)},{id:"col_cream",name:"",hex:"#F5E6CC"},{id:u(152),name:"",hex:"#8B5E3C"},{id:u(223),name:"",hex:u(155)},{id:r[u(195)],name:"",hex:u(192)}]}function O2({title:u,fabricSquareSize:r,baseDiameter:a}={}){const i=Zt,f={qhEXW:function(v){return v()},jrPzA:function(v,h){return v(h)},lqOwE:"prj",plTcf:function(v,h){return v??h},igUHF:function(v,h){return v??h}},x=N0(),m=f[i(205)](Qd);return _a({id:f[i(157)](Tt,f.lqOwE),title:f[i(174)](u,i(145)),unit:"mm",fabricSquareSize:f[i(162)](r,20),baseDiameter:a??30,notes:"",createdAt:x,updatedAt:x,palette:m,flowers:[]})}function Zt(u,r){u=u-122;const a=T0();let i=a[u];if(Zt.ctMjZC===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Zt.oSlowz=f,Zt.wWwtss={},Zt.ctMjZC=!0}const x=a[0],m=u+x,v=Zt.wWwtss[m];if(v)i=v;else{const h=function(d){this.QukmRf=d,this.vpuXYL=[1,0,0],this.ihgerj=function(){return"newState"},this.LZxkex="\\w+ *\\(\\) *{\\w+ *",this.PGYeYZ=`['|"].+['|"];? *}`};h.prototype.aGgJjS=function(){const d=new RegExp(this.LZxkex+this.PGYeYZ),_=d.test(this.ihgerj.toString())?--this.vpuXYL[1]:--this.vpuXYL[0];return this.VoiQXI(_)},h.prototype.VoiQXI=function(d){return~d?this.vECeLo(this.QukmRf):d},h.prototype.vECeLo=function(d){for(let _=0,S=this.vpuXYL.length;_<S;_++)this.vpuXYL.push(Math.round(Math.random())),S=this.vpuXYL.length;return d(this.vpuXYL[0])},new h(Zt).aGgJjS(),i=Zt.oSlowz(i),Zt.wWwtss[m]=i}return i}function T0(){const u=["kcGOlISPkYKRksSK","s3fXtMm","y29Sx25HDNK","zwLvuK8","zMX3","CuvvwMW","rMXVD2vYide","i0q0qtG0mW","y29Sx2jSDwu","y29Sx3bPBMS","nde0nJG4nhzeA1zMAG","iZjdm0u2qG","y29Sx2XPz2H0yMX1zq","odeXodCYCfzHBhv2","B3jKzxi","Cgv0ywXdB3vUDa","we1OA3u","y29Sx29Yyw5Nzq","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","CMfKAxvZ","5y2k44gp44gz","svPjAhi","t2zqz2m","ienVChK","BwfW","y29Sx2jYB3DU","5yMJ44gK44g+44g/","DuD6D08","iZmZmZmZmW","y29Sx2DYzwvU","ANjqEKe","zxzqwe4","zMLUza","y29Sx3b1CNbSzq","ohn3AxPhwq","AwDvsey","ChjVAG","iZDfqZHfmW","y29UC3rYDwn0B3i","i0y1rJvgnq","uhzbB0e","i0yYrda0qG","y29Sx2XHDMvUzgvY","mJCXmZmYm1PHDMHfwa","ndm4mdq1D2XAtNHU","iZjgqKy0qq","Dvbju2C","CgXuy2y","t3v0zxi","mMjmDeTyzq","y29Sx3LLBgXVDW","DMrUCwK","yxbWBhK","u1vHDwG","zgjRrem","Cgv0ywXpDMvYCMLKzxm","iZfbn0eZqq","C3DUDfq","vMrhseu","suz3AKK","yNntAxu","CgTeCxe","sfDPCeO","nJbxEK1bA1m","wur4r2e","i0yWoda4ma","t0nmEKO","mte2ntyYnJD5qxHJCe8","vNrhzKG","y29Sx2rHCMTNCMvLBG","nZq2mZC5Dg52uxrz","tK1squi","Cu5bB2K","C2vHCMnO","z2zhuhm","iZncn0reoa","iZLcntLcnG","EM9ouwe","CwHfwfC","Dfrgvg8","B2zMC2v0qw5NBgu","Dg9tDhjPBMC","5lI444gK44g+44g/","sw5Uzxi","D0j6ugK","teXYv2m","BMfTzq","zgfbvvi","Bgf5","y29Sx2HVDhbPBMS","vuDKue8","mtuXmJG1mtboBfjuseu","wgPKuuW","thPOCLe","A1Louem","ChjQ","y29Sx2jSywnR","i0uWndu3qG","C2nHBgu","y29Sx2DVBgq","i0mWqZbdma","C29YDa"];return T0=function(){return u},T0()}function Y2(u,r){const a=Zt,i={uPISg:function(v,h){return v(h)},YglcC:a(131),WACvC:function(v,h){return v+h}},f=$l(u);f.id=i[a(173)](Tt,i.YglcC),f[a(213)]=u[a(213)]+a(150);const x=r?.x??12,m=r?.y??12;return f.position={x:(u.position?.x??0)+x,y:i.WACvC(u.position?.y??0,m)},f.layers=(f.layers||[])[a(151)](v=>({...v,id:Tt(a(215)),petalOverrides:v[a(182)]?v.petalOverrides[a(151)](h=>({...h})):void 0})),f}(function(u,r){const a=kn,i=u();for(;;)try{if(parseInt(a(462))/1*(-parseInt(a(509))/2)+-parseInt(a(447))/3+parseInt(a(496))/4+parseInt(a(418))/5+-parseInt(a(455))/6*(-parseInt(a(497))/7)+-parseInt(a(477))/8*(-parseInt(a(448))/9)+-parseInt(a(456))/10*(parseInt(a(439))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,600178);const U2=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),ps=U2(void 0,function(){const u=kn;return ps.toString()[u(453)](u(419)).toString()[u(466)](ps).search("(((.+)+)+)+$")});function kn(u,r){u=u-416;const a=E0();let i=a[u];if(kn.aryjMK===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};kn.lyWrua=f,kn.LUNsAD={},kn.aryjMK=!0}const x=a[0],m=u+x,v=kn.LUNsAD[m];if(v)i=v;else{const h=function(d){this.FtTKfp=d,this.KCpWTb=[1,0,0],this.wQrIJP=function(){return"newState"},this.pcNyrK="\\w+ *\\(\\) *{\\w+ *",this.RtTcnc=`['|"].+['|"];? *}`};h.prototype.MBBRHM=function(){const d=new RegExp(this.pcNyrK+this.RtTcnc),_=d.test(this.wQrIJP.toString())?--this.KCpWTb[1]:--this.KCpWTb[0];return this.ShdAFH(_)},h.prototype.ShdAFH=function(d){return~d?this.liGWSP(this.FtTKfp):d},h.prototype.liGWSP=function(d){for(let _=0,S=this.KCpWTb.length;_<S;_++)this.KCpWTb.push(Math.round(Math.random())),S=this.KCpWTb.length;return d(this.KCpWTb[0])},new h(kn).MBBRHM(),i=kn.lyWrua(i),kn.LUNsAD[m]=i}return i}ps();function fs(u){const r=kn,a={qsMeS:function(i,f){return i===f},UIMKP:"",tXPBE:""};return a.qsMeS(u,"maru")?a[r(522)]:u==="ken"?a.tXPBE:u===""||u===a.tXPBE?u:a.UIMKP}function E0(){const u=["BM90zxm","D2LKDgHty2fSzq","oxW4FdeXFdD8mtb8nNW1Fdf8mhWZFdr8mG","BeLABfy","z3jVDxbZ","CMfKAxvZ","mtf3y09pCva","sK5bvNi","C3bSAxq","rMXVD2vY","y29SB3i","BwfW","y2vUDgvY","rxvbrve","mti1mZC1mwzABxzmwG","mtq5ng1Lr3zmBG","zMfICMLJu3f1yxjLu2L6zq","vNrfyNy","DvbSB0S","BgLUA2vKrMXVD2vYr3jVDxbjza","C2vHCMnO","EursDhC","nZuXnJjzELPIugq","mteXotbKyvzns2e","qMftvxm","tvDvqui","rMjtBhy","BgvHzKDYB3vWCW","Aw5UzxjtAxPLuMvKDwn0Aw9U","mJLztgrTEhu","Bgf5zxjZ","Cg9ZAxrPB24","zMLSDgvY","y29UC3rYDwn0B3i","yLHmBu8","Aw5Uzxjty2fSzq","Aw5JBhvKzxm","ChjVAG","x2rVDwjSzvbLDgfSq2fJAgu","y29SB3iY","AgfZ","44oA44od44ox","CgvWq291BNq","y29Sx2DYzwvU","nty4y0XWC1fd","AvHvqLO","wufhExC","AxnbCNjHEq","5y2k44gp44gz","sxbUCMq","DMLZAwjSzq","CgXHy2vTzw50tw9Kzq","BgvHDMvZ","tgvHzG","EezJBwW","Cgv0ywXuExbL","Cgv0ywXpDMvYCMLKzxm","EvLxvxO","BNbRwe0","yNfdEue","C2nHBgu","B0jHA2y","zMXVD2vYswrZ","odK3mtjZs0ThCMC","ntmYEwDjzLbr","BgvHzKLKCW","CeTzqwW","z3jW","y3jLyxrLzef0","CNjeA1G","qxz1uKK","C3rYAw5N","B2zMC2v0qw5NBgu","zg91yMXLugv0ywW","ChvZAa","EwfXyLK","nJGWnZHysNr4twy","yMfZzurPyw1LDgvY","DKPjuwW","AxrevuK","tNzqq1a","AKfKy3O","AxngAw5PDgu","C1HMwum","zMXVD2vYCW","BMfTzq","Aw5UzxjdB2XVCKLK","CgfSzxr0zq","y29SB3jjza","vuLns1a","C2L6zq","B2jQzwn0","mxWWFdn8nhW1Fdj8nG","ELDJq24","tvLPDfu","qK5UA0e","BgvUz3rO","DhLWzq","nteWmdm5nuTuDuvKyW","kcGOlISPkYKRksSK","Aw5UzxjqzxrHBfr5Cgu","DxbKyxrLzef0","yMfJAW","DMvYC2LVBG","CNnrqLK","Ewzcr0q","C3rLBMnPBhm","44or44o844oR77Yl5BQN6yEr","BgvHzG","CM90yxrPB24","DgL0Bgu","tMDWswu","zMXVD2vYrgLHBwv0zxi"];return E0=function(){return u},E0()}function _a(u){const r=kn,a={NgpIe:function(x,m){return x<=m},oBakf:function(x,m,v,h){return x(m,v,h)},sXfYC:function(x,m){return x!=m},ZSTSU:function(x,m){return x!==m},bqCyA:function(x,m){return x!=m},uPloK:function(x,m){return x(m)},xEEfy:function(x,m,v,h){return x(m,v,h)},jAdcz:r(504),JNAVr:"",bXLmO:function(x,m){return x||m},BaSUs:"flw",EuAEQ:function(x,m){return x!==m},jxTyp:r(442),VtEbv:function(x,m){return x(m)},Ipnrd:function(x,m,v,h){return x(m,v,h)},sFyQk:function(x,m){return x!==m},MYitU:function(x,m){return x===m},OaeuY:function(x,m){return x==m},gzNHY:function(x,m){return x*m},YwAxt:function(x,m){return x-m},LqzGt:r(427),OobXt:"",MWUAB:r(474),yfBGD:"col_white",KVsSl:function(x,m){return x===m},FbSlv:function(x,m,v,h){return x(m,v,h)},rsQBY:function(x,m){return x!==m},GrEjA:r(513),yaqbY:"",ZQSsr:function(x,m){return x!==m},xFcml:function(x,m){return x<=m},AvuRI:"cPcNO",yDRtw:function(x){return x()},UpBYf:function(x){return x()},rrDkX:function(x,m){return x(m)},lIZlV:r(470),npkXM:function(x,m){return x<=m},XcjlL:function(x,m){return x!==m},vJIQl:r(490),BNnkA:r(499),iXUBZ:r(525),itDUI:"YAGyw",zWcCn:function(x,m,v,h){return x(m,v,h)},XZuvj:function(x,m){return x!==m},LMPim:r(486),kUQDW:function(x,m){return x===m}},i=$l(a[r(467)](u,{}));Array.isArray(i.flowers)||(i.flowers=[]);for(const x of i.flowers){x.id||(x.id=Tt(a[r(457)])),(a[r(446)](typeof x.name,r(504))||!x.name)&&(x[r(518)]=a.jxTyp),(!x[r(464)]||!Number.isFinite(x.position.x)||!Number.isFinite(x[r(464)].y))&&(x.position={x:260,y:260}),Array.isArray(x[r(463)])||(x[r(463)]=[]);for(const m of x.layers){if(m.id||(m.id=Tt("lay")),(a.EuAEQ(typeof m.colorId,a.jAdcz)||!m[r(521)])&&(m[r(521)]=i[r(520)]?.[0]?.id??"col_white"),m.petalType=a[r(450)](fs,m.petalType),m.petalCount=a[r(482)](we,Number(m.petalCount||0),5,24),Number.isFinite(m.scale)||(m[r(493)]=1),Number[r(515)](m[r(434)])||(m[r(434)]=1),Number.isFinite(m.radius)||(m[r(438)]=28),Number.isFinite(m.offsetAngle)||(m[r(505)]=0),delete m._doublePetalCache,m.doublePetal)if(a.sFyQk(typeof m[r(506)],"object")||a[r(527)](m.doublePetal,null))a.MYitU("bdrHU","adiBg")?delete _0x21b674[r(461)]:delete m[r(506)];else{if(m.doublePetal[r(468)]!=null&&a.OaeuY(m[r(506)][r(461)],null)){const v=x.fabricSquareSize??i.fabricSquareSize??20;m.doublePetal.innerSizeReduction=Math.round(a.gzNHY(v,a.YwAxt(1,m.doublePetal.innerScale)))}delete m.doublePetal[r(468)],Number.isFinite(m.doublePetal[r(461)])||(m[r(506)][r(461)]=2),m.doublePetal[r(461)]=a[r(494)](we,m[r(506)][r(461)],1,30),delete m.doublePetal.innerPetalType,m.doublePetal[r(519)]!=null&&typeof m[r(506)].innerColorId!==a.jAdcz&&delete m.doublePetal.innerColorId}if(Array.isArray(m[r(489)]))for(const v of m.petalOverrides)v&&v.petalType!=null&&(v[r(488)]=fs(v.petalType)),v&&delete v.innerPetalType,v&&a.bqCyA(v[r(519)],null)&&typeof v.innerColorId!==a[r(514)]&&delete v.innerColorId,v&&a.bqCyA(v[r(461)],null)&&(Number.isFinite(v[r(461)])?v.innerSizeReduction=a[r(494)](we,v[r(461)],1,30):delete v[r(461)])}(!Number[r(515)](x.flowerDiameter)||x[r(432)]<=0)&&(x[r(432)]=60),x.center&&(a[r(527)](x.center[r(417)],a.LqzGt)&&(x.center[r(417)]=""),[a.OobXt,"",a[r(458)]][r(469)](x[r(445)][r(417)])||(x[r(445)][r(417)]=""),Number[r(515)](x[r(445)][r(523)])||(x.center[r(523)]=6),x.center[r(523)]=we(x[r(445)][r(523)],1,30),(typeof x[r(445)][r(443)]!="string"||!x[r(445)].color)&&(x[r(445)].color=i.palette?.[0]?.id??a[r(425)]),a.KVsSl(x.center[r(417)],a.MWUAB)&&(Number.isFinite(x.center[r(475)])||(x.center[r(475)]=12),x[r(445)][r(475)]=a[r(459)](we,x.center.pepCount,4,30)),x.center.type!==""&&(a.rsQBY(a.GrEjA,"NvPCP")?_0x3f27e6[r(464)]={x:260,y:260}:delete x[r(445)][r(472)])),x.placementMode!==a[r(508)]&&a[r(424)](x.placementMode,"")&&(x[r(484)]=r(481)),a.ZQSsr(x[r(510)],void 0)&&(!Number.isFinite(x.baseDiameter)||a[r(487)](x[r(510)],0))&&(a[r(503)]!=="cPcNO"?_0x239211.flowerDiameter=60:delete x[r(510)])}Array[r(480)](i.palette)||(i.palette=[]);const f=new Set(i.palette[r(444)](x=>x.id));for(const x of a[r(454)](Qd))f[r(473)](x.id)||i[r(520)][r(507)](x);if(i.createdAt||(i[r(501)]=a.UpBYf(N0)),i.updatedAt||(i[r(421)]=i.createdAt),i.id||(i.id=a[r(502)](Tt,a[r(436)])),i[r(430)]||(i.title=""),i.unit="mm",Number.isFinite(i.fabricSquareSize)||(i[r(449)]=20),(!Number.isFinite(i[r(510)])||a[r(491)](i[r(510)],0))&&(i.baseDiameter=30),a.XcjlL(typeof i.notes,a[r(514)])&&(i[r(433)]=""),Array[r(480)](i.groups)||(i.groups=[]),a.rsQBY(a[r(511)],a[r(528)])){const x=new Set(i[r(517)][r(444)](v=>v.id)),m=new Set((i[r(485)]??[])[r(444)](v=>v.id));for(const v of i[r(437)]){const h=a[r(478)][r(441)]("|");let d=0;for(;;){switch(h[d++]){case"0":Array.isArray(v[r(498)])||(v[r(498)]=[]);continue;case"1":Array.isArray(v[r(495)])||(v.flowerIds=[]);continue;case"2":v.id||(v.id=a[r(502)](Tt,"grp"));continue;case"3":v.flowerIds=v[r(495)].filter(_=>x.has(_));continue;case"4":v[r(498)]=v.leafIds[r(465)](_=>m[r(473)](_));continue;case"5":Number.isFinite(v[r(429)])||(v[r(429)]=0);continue;case"6":(a[r(424)](typeof v.name,a.jAdcz)||!v.name)&&(v.name=a[r(440)]);continue}break}}i.groups=i[r(437)].filter(v=>v.flowerIds[r(416)]+v[r(498)].length>0)}else _0x565e53[r(515)](_0x109073.doublePetal.innerSizeReduction)||(_0x59e412.doublePetal[r(461)]=2),_0x3e184b[r(506)].innerSizeReduction=a.oBakf(_0x385a01,_0x363471[r(506)].innerSizeReduction,1,30),a[r(516)](_0x1e8f7b.doublePetal[r(519)],null)&&a.ZSTSU(typeof _0x1f9118[r(506)].innerColorId,r(504))&&delete _0x37cbef[r(506)].innerColorId;Array[r(480)](i.leaves)||(i[r(485)]=[]);for(const x of i.leaves)if(a[r(512)]!==r(479))_0x44223a&&a[r(492)](_0x2d6f48.petalType,null)&&(_0xd3fa1e.petalType=a[r(451)](_0x243345,_0x24a02b[r(488)])),_0x451168&&delete _0x3e8cc7[r(420)],_0x59de6b&&a[r(516)](_0x18643a.innerColorId,null)&&typeof _0x297d89[r(519)]!==r(504)&&delete _0x4bbf06.innerColorId,_0x1a066e&&a[r(492)](_0x7a23e0.innerSizeReduction,null)&&(_0x26fbc3[r(515)](_0xe1f41a[r(461)])?_0x13cb09.innerSizeReduction=a.xEEfy(_0x407771,_0x3b5f91.innerSizeReduction,1,30):delete _0x212d50.innerSizeReduction);else{const m=r(435)[r(441)]("|");let v=0;for(;;){switch(m[v++]){case"0":typeof x[r(483)]!="boolean"&&(x[r(483)]=!0);continue;case"1":Number.isFinite(x.widthScale)||(x.widthScale=1);continue;case"2":x.doublePetal&&(typeof x.doublePetal!==r(524)||x.doublePetal===null?delete x[r(506)]:(Number.isFinite(x[r(506)][r(461)])||(x[r(506)][r(461)]=2),x[r(506)].innerSizeReduction=a[r(526)](we,x.doublePetal.innerSizeReduction,1,30),x.doublePetal[r(519)]!=null&&a[r(424)](typeof x[r(506)][r(519)],r(504))&&delete x.doublePetal.innerColorId));continue;case"3":a.XZuvj(typeof x.locked,"boolean")&&(x.locked=!1);continue;case"4":delete x[r(471)];continue;case"5":Number.isFinite(x.scale)||(x[r(493)]=1);continue;case"6":(a[r(424)](typeof x.colorId,"string")||!x.colorId)&&(x.colorId=i.palette?.[0]?.id??r(476));continue;case"7":Number.isFinite(x[r(429)])||(x[r(429)]=0);continue;case"8":(typeof x[r(518)]!==a[r(514)]||!x[r(518)])&&(x.name=a.LMPim);continue;case"9":x.id||(x.id=Tt(r(428)));continue;case"10":x.petalType=a.rrDkX(fs,x[r(488)]);continue;case"11":(!x[r(464)]||!Number.isFinite(x.position.x)||!Number.isFinite(x.position.y))&&(x[r(464)]={x:675,y:675});continue}break}}if(Array.isArray(i.leafGroups)&&i.leafGroups[r(416)]>0){const x=new Set((i[r(485)]??[])[r(444)](m=>m.id));for(const m of i[r(460)]){if(!Array.isArray(m[r(498)]))continue;const v=m.leafIds[r(465)](h=>x[r(473)](h));if(a.kUQDW(v[r(416)],0))continue;if(m[r(452)]){const h=i.groups.find(d=>d.id===m.linkedFlowerGroupId);if(h){for(const d of v)h[r(498)][r(469)](d)||h.leafIds[r(507)](d);continue}}i.groups.push({id:m.id||Tt("grp"),name:m.name||"",flowerIds:[],leafIds:v,rotation:Number.isFinite(m.rotation)?m.rotation:0})}}if(delete i.leafGroups,Array[r(480)](i.stencils)){const x=["adult","child"],m=["right","left",r(422)];i[r(426)]=i[r(426)][r(465)](v=>v&&typeof v.id=="string"&&x.includes(v.variant)&&m.includes(v.pose)&&v[r(464)]&&Number.isFinite(v[r(464)].x)&&Number[r(515)](v.position.y))}return Number[r(515)](i[r(423)])||(i.version=1),i}function In(u,r){u=u-130;const a=q0();let i=a[u];if(In.TjsLSM===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};In.NhtcFD=f,In.uCmLGT={},In.TjsLSM=!0}const x=a[0],m=u+x,v=In.uCmLGT[m];if(v)i=v;else{const h=function(d){this.VZfrCo=d,this.TIeQyI=[1,0,0],this.iLtLVq=function(){return"newState"},this.JQBeUA="\\w+ *\\(\\) *{\\w+ *",this.TvCkEY=`['|"].+['|"];? *}`};h.prototype.laNZXV=function(){const d=new RegExp(this.JQBeUA+this.TvCkEY),_=d.test(this.iLtLVq.toString())?--this.TIeQyI[1]:--this.TIeQyI[0];return this.TcoQXx(_)},h.prototype.TcoQXx=function(d){return~d?this.sbXuIE(this.VZfrCo):d},h.prototype.sbXuIE=function(d){for(let _=0,S=this.TIeQyI.length;_<S;_++)this.TIeQyI.push(Math.round(Math.random())),S=this.TIeQyI.length;return d(this.TIeQyI[0])},new h(In).laNZXV(),i=In.NhtcFD(i),In.uCmLGT[m]=i}return i}const ur=In;(function(u,r){const a=In,i=u();for(;;)try{if(parseInt(a(139))/1*(parseInt(a(137))/2)+parseInt(a(138))/3+parseInt(a(134))/4+parseInt(a(136))/5*(parseInt(a(132))/6)+parseInt(a(144))/7+-parseInt(a(131))/8+parseInt(a(141))/9*(-parseInt(a(140))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,390558);const H2=(function(){let u=!0;return function(r,a){const i=u?function(){const f=In;if(a){const x=a[f(130)](r,arguments);return a=null,x}}:function(){};return u=!1,i}})(),_s=H2(void 0,function(){const u=In,r={BfsGs:"(((.+)+)+)+$"};return _s.toString().search(r[u(146)]).toString().constructor(_s)[u(143)](r.BfsGs)});_s();const Pd=ur(145),ll=[ur(133),ur(147)];function q0(){const u=["5yMJ44gK44g+44g/","yxbWBhK","mJeZmtG4mfzhvxvHAq","mtjZrK55CgG","5lI444gK44g+44g/","mZeWnte5mKPgrfnzCG","44or44o844oR","mti0mtqWnvjys3DhtG","otC3nZiYCgP5ELfz","nJe0mJGZt29Xr0Py","mwTWqxPHBW","mtiWruLrCgvV","mti3ntm4mwfvswvltG","5y2k44gp44gz","C2vHCMnO","mJCZnZq4m3zKr2jzuq","Dhn1BwfTAv9WCM9Qzwn0C192mq","qMzZr3m"];return q0=function(){return u},q0()}const K2=[ur(135),"",""],Fd=["",ur(142)];function B0(){const u=["mZbfC3bSvhi","oduYDezzuNzT","C3rYAw5NAwz5","kcGOlISPkYKRksSK","mZe4oduYz01ltuLm","DgL0Bgu","mtvUzgX4ufG","q1jfrgC","mJK2nti1uMvLDwzO","C2vHCMnO","DxbKyxrLzef0","ChjVAMvJDa","mtm0ndqWwuHgBvLQ","wMzwCw8","n0ffEMzjDW","zMLSDgvY","C2XPy2u","y29UC3rYDwn0B3i","yxbWBhK","oduXnJn0yMT6A1q","mtq0ntjJrKzXAfi","C29YDa","mtK4otG3mMjKBNrdrG","C2Hss1O","C2LduNG","B3vvzee","mZy5EwLyDhjh","mZu2mJKYmNHjA3zMBW","nLLUrMriyG","tgPSwLy"];return B0=function(){return u},B0()}(function(u,r){const a=Xt,i=u();for(;;)try{if(parseInt(a(386))/1*(-parseInt(a(400))/2)+-parseInt(a(408))/3*(-parseInt(a(384))/4)+-parseInt(a(388))/5*(-parseInt(a(380))/6)+-parseInt(a(394))/7*(parseInt(a(402))/8)+-parseInt(a(406))/9*(-parseInt(a(392))/10)+parseInt(a(407))/11+parseInt(a(381))/12*(-parseInt(a(399))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,508812);const Z2=(function(){let u=!0;return function(r,a){const i=u?function(){const f=Xt;if(a){const x=a[f(398)](r,arguments);return a=null,x}}:function(){};return u=!1,i}})(),Ss=Z2(void 0,function(){const u=Xt,r={suJUQ:u(383)};return Ss.toString()[u(389)](r.suJUQ).toString()[u(397)](Ss).search(u(383))});Ss();function Xt(u,r){u=u-379;const a=B0();let i=a[u];if(Xt.lsTyfd===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Xt.sBOqMv=f,Xt.DiRISZ={},Xt.lsTyfd=!0}const x=a[0],m=u+x,v=Xt.DiRISZ[m];if(v)i=v;else{const h=function(d){this.jtKXMN=d,this.FJEesC=[1,0,0],this.cNzfhV=function(){return"newState"},this.XVDYbD="\\w+ *\\(\\) *{\\w+ *",this.FzkmWg=`['|"].+['|"];? *}`};h.prototype.QcCqqz=function(){const d=new RegExp(this.XVDYbD+this.FzkmWg),_=d.test(this.cNzfhV.toString())?--this.FJEesC[1]:--this.FJEesC[0];return this.YxqhYY(_)},h.prototype.YxqhYY=function(d){return~d?this.FnwRPM(this.jtKXMN):d},h.prototype.FnwRPM=function(d){for(let _=0,S=this.FJEesC.length;_<S;_++)this.FJEesC.push(Math.round(Math.random())),S=this.FJEesC.length;return d(this.FJEesC[0])},new h(Xt).QcCqqz(),i=Xt.sBOqMv(i),Xt.DiRISZ[m]=i}return i}function ir(){const u=Xt,r={LjlZV:u(405),DFRCE:function(a,i){return a!==i}};try{if(r.DFRCE(u(404),u(403))){const a=localStorage.getItem(Pd);if(!a)return[];const i=JSON.parse(a);return Array.isArray(i)?i.map(f=>{const x=u;try{const m=f?.[x(391)]?_a(f[x(391)]):null;return m?{id:f.id??m.id,title:f.title??m[x(385)],updatedAt:f.updatedAt??m.updatedAt,project:m}:null}catch{if(r.LjlZV===r[x(379)])return null;{const m=_0x22164c(),v=m.findIndex(_=>_.id===_0x124fe9.id),h={id:_0x35ce2f.id,title:_0x2ae7d3.title,updatedAt:_0x36801a[x(390)],project:_0x120b39},d=v>=0?[...m.slice(0,v),h,...m[x(396)](v+1)]:[h,...m];return d[x(401)]((_,S)=>_[x(390)]<S[x(390)]?1:-1),_0x55925c(d)}}}).filter(f=>f!=null):[]}else return!1}catch{return[]}}function $d(u){const r=Xt;try{return localStorage.setItem(Pd,JSON[r(382)](u)),!0}catch{return!1}}function X2(u){const r=Xt,a={ZfVqo:function(v,h){return v>=h},CREDg:function(v,h){return v(h)}},i=ir(),f=i.findIndex(v=>v.id===u.id),x={id:u.id,title:u[r(385)],updatedAt:u[r(390)],project:u},m=a[r(393)](f,0)?[...i[r(396)](0,f),x,...i.slice(f+1)]:[x,...i];return m.sort((v,h)=>v[r(390)]<h[r(390)]?1:-1),a[r(387)]($d,m)}function V2(u){const r=Xt,a={uPCtO:function(f,x){return f(x)}},i=ir()[r(395)](f=>f.id!==u);return a.uPCtO($d,i)}(function(u,r){const a=an,i=u();for(;;)try{if(parseInt(a(402))/1+-parseInt(a(440))/2*(-parseInt(a(420))/3)+-parseInt(a(397))/4+parseInt(a(391))/5*(-parseInt(a(387))/6)+parseInt(a(447))/7+-parseInt(a(418))/8*(parseInt(a(437))/9)+-parseInt(a(431))/10*(-parseInt(a(389))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,492830);const J2=(function(){let u=!0;return function(r,a){const i=u?function(){const f=an;if(a){const x=a[f(434)](r,arguments);return a=null,x}}:function(){};return u=!1,i}})(),Cs=J2(void 0,function(){const u=an,r={eJJCA:u(394)};return Cs[u(445)]().search(r[u(417)])[u(445)]().constructor(Cs).search("(((.+)+)+)+$")});Cs();function k0(){const u=["vxvrAKG","shriALq","z2v0","AMztuvu","sLPtq2i","uwvJuvy","zNjVBq","y29SB3jjza","BK5Uq1G","Agv4","Cgv0ywXpDMvYCMLKzxm","iZK5otK5oq","zuPkq0e","ntzUzwjLqK4","BMfTzq","mJm4mZH0ANvTv1C","ChvZAa","Dg90ywXdB3vUDa","vu1JsxG","yMfZzurPyw1LDgvYtw0","DMLZAwjSzq","yMfZzurPyw1LDgvY","Aw5UzxjtAxPLuMvKDwn0Aw9U","tgjbu20","y2XXsLm","zMXVD2vYCW","mtiWsw12CMfm","Bw9Kzq","C2nHBgu","yxbWBhK","C29YDa","ENvWseC","mJm4ndGYEw16v2rw","zMXVD2vYrgLHBwv0zxi","BgvHDMvZ","mtyWrffhsLnx","CLzxvgS","AvnrtuW","zw50CMLLCW","r09MDKC","Dg9tDhjPBMC","DMfSDwvZ","ndK3otm2nNH3BLrzCq","zMfICMLJu2L6zu1T","qvfpBKC","mtCZmJu0oej2qvfsvG","BwfW","nJu0mZm1ueX4qu1c","vhL3ANq","mtv6sKz4sve","y291BNq","Bwf4","kcGOlISPkYKRksSK","Aw5UzxjdB2XVCKLK","CM91BMq","mJC3mtaYmgDKqLf0sa","C2v0","ugLPD2W","5y2k44gp44gz","ww9IAfC","mtC2nta3y1PUCu9b","zMfICMLJu3f1yxjLu2L6zq","zg91yMXLugv0ywW"];return k0=function(){return u},k0()}function an(u,r){u=u-385;const a=k0();let i=a[u];if(an.TPcBoJ===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};an.wwWDFh=f,an.Lrbecl={},an.TPcBoJ=!0}const x=a[0],m=u+x,v=an.Lrbecl[m];if(v)i=v;else{const h=function(d){this.BqYnvM=d,this.pEOXZR=[1,0,0],this.DzphAg=function(){return"newState"},this.cVCUiQ="\\w+ *\\(\\) *{\\w+ *",this.SdGMxC=`['|"].+['|"];? *}`};h.prototype.njXdnD=function(){const d=new RegExp(this.cVCUiQ+this.SdGMxC),_=d.test(this.DzphAg.toString())?--this.pEOXZR[1]:--this.pEOXZR[0];return this.yGepyg(_)},h.prototype.yGepyg=function(d){return~d?this.DCxbnx(this.BqYnvM):d},h.prototype.DCxbnx=function(d){for(let _=0,S=this.pEOXZR.length;_<S;_++)this.pEOXZR.push(Math.round(Math.random())),S=this.pEOXZR.length;return d(this.pEOXZR[0])},new h(an).njXdnD(),i=an.wwWDFh(i),an.Lrbecl[m]=i}return i}function W2(u){const r=an,a={JZSCb:r(400),MvyUf:function(_,S){return _-S},clqJS:function(_,S){return _/S},LbASm:function(_,S){return _*S},iSQML:function(_,S){return _!==S},VqIiM:function(_,S){return _===S},YobhW:function(_,S){return _-S},AQOnG:"ybBTb",OBMIk:function(_,S){return _!==S},GOfvG:"iVkSo",gWRyr:"Kdmic",QecQV:function(_,S){return _(S)},HtHjT:function(_,S){return _*S},zupHG:"UMcIx",AipEt:function(_,S){return _!==S},kTPpl:r(441),DLURh:"PdUTa",uFvMK:"IIMKR",Tywjt:"cUXDK"},i=new Map((u.palette||[])[r(388)](_=>[_.id,_])),f=new Map,x=(_,S)=>_?.[r(415)]?.find(p=>p.index===S)??null,m=new Map;for(const _ of u[r(430)]||[])if(a[r(442)](r(408),a[r(386)])){const S=_[r(403)]??u[r(403)];for(const g of _.layers||[]){if(!g.visible)continue;const B=Math.round(S*(g[r(433)]??1));for(let O=0;O<g.petalCount;O++)if(a.OBMIk(a[r(444)],a.gWRyr)){const E=x(g,O),G=E?.[r(412)]??g[r(412)],Y=G+"|"+B,R=f.get(Y);if(R?R.count+=1:f[r(398)](Y,{colorId:G,fabricSizeMm:B,count:1}),g.doublePetal){const Z=g.doublePetal,P=E?.innerColorId??Z[r(395)]??G,Q=E?.[r(427)]??Z.innerSizeReduction??2,W=Math.max(3,Math.round(B-Q)),X=P+"|"+W,q=f[r(407)](X);q?q.count+=1:f.set(X,{colorId:P,fabricSizeMm:W,count:1})}}else{const E=_0x5e039f[r(407)](_0x3c613a);E?E.entries.push({fabricSizeMm:_0x370be1,count:_0x531a26}):_0x3cd9a2.set(_0x4f907a,{colorId:_0x554310,entries:[{fabricSizeMm:_0x6d429b,count:_0x32da34}]})}}const p=_.placementMode??a[r(409)],C=p===""?a[r(410)](lr,_[r(438)]):_.baseDiameter??u[r(426)],N=p+"|"+C,y=m.get(N);y?y[r(392)]+=1:m.set(N,{mode:p,baseDiameterMm:C,count:1})}else return _0x2f2c97[r(432)]!==_0x3f0cac.mode?_0x48e208[r(432)]===a.JZSCb?-1:1:a.MvyUf(_0x1fc88b[r(424)],_0x57059b.baseDiameterMm);for(const _ of u[r(439)]??[]){if(!_[r(425)])continue;const S=_.fabricSquareSize??u.fabricSquareSize,p=Math.round(a[r(406)](S,_[r(433)]??1)),C=_.colorId,N=C+"|"+p,y=f[r(407)](N);if(y?a[r(436)]!==r(423)?_0x1f912a.count+=1:y[r(392)]+=1:a.AipEt(a.kTPpl,"sWPwa")?f.set(N,{colorId:C,fabricSizeMm:p,count:1}):_0x592237[r(398)](_0x3a2327,{colorId:_0x5b4df0,entries:[{fabricSizeMm:_0x25e82d,count:_0x2917e2}]}),_[r(404)]){const g=_.doublePetal,B=g.innerColorId??C,O=Math[r(393)](3,Math.round(p-(g[r(427)]??2))),E=B+"|"+O,G=f.get(E);G?G[r(392)]+=1:a.DLURh!==a.uFvMK?f[r(398)](E,{colorId:B,fabricSizeMm:O,count:1}):_0x3e6d54.count+=1}}const v=new Map;for(const{colorId:_,fabricSizeMm:S,count:p}of f[r(446)]()){const C=v.get(_);C?C.entries[r(421)]({fabricSizeMm:S,count:p}):r(413)===a[r(390)]?_0x560524[r(443)][r(421)]({fabricSizeMm:_0x2bea30,count:_0x387a2b}):v[r(398)](_,{colorId:_,entries:[{fabricSizeMm:S,count:p}]})}const h=Array.from(v[r(446)]()).map(({colorId:_,entries:S})=>{const p=r,C={UuQjH:function(E,G){return a[an(429)](E,G)},FwuvC:function(E,G){return E+G},Piiwl:function(E,G){return a[an(428)](E,G)}},N=i[p(407)](_),y=S[p(435)]((E,G)=>G[p(385)]-E.fabricSizeMm),g=y.reduce((E,G)=>E+G[p(392)],0),B=Math[p(396)](y.reduce((E,G)=>{const Y=p,R=C[Y(405)](G[Y(385)],10);return C.FwuvC(E,C[Y(399)](G.count*R,R))},0)*100)/100,O=Math[p(396)](a.LbASm(Math.sqrt(B),10))/10;return{colorId:_,colorName:N?.[p(419)]??_,hex:N?.[p(414)]??p(416),sizes:y,totalCount:g,totalAreaCm2:B,squareSideCm:O}}).sort((_,S)=>S[r(422)]-_.totalCount),d=Array[r(411)](m[r(446)]())[r(435)]((_,S)=>{const p=r;return a[p(442)](_.mode,S.mode)?a.VqIiM(_[p(432)],p(400))?-1:1:a[p(401)](S.baseDiameterMm,_[p(424)])});return{colors:h,bases:d}}(function(u,r){const a=Vt,i=u();for(;;)try{if(parseInt(a(306))/1+-parseInt(a(275))/2+parseInt(a(271))/3*(parseInt(a(315))/4)+parseInt(a(318))/5*(parseInt(a(256))/6)+-parseInt(a(257))/7+-parseInt(a(297))/8*(-parseInt(a(304))/9)+-parseInt(a(322))/10*(parseInt(a(294))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,656922);const Q2=(function(){const u=Vt,r={dCUwa:u(293)};let a=!0;return function(i,f){const x=a?function(){const m=Vt,v={hXnQO:m(263)};if(f)if(r.dCUwa===r[m(310)]){const h=f.apply(i,arguments);return f=null,h}else return _0x13b4f7[m(279)]().search(v[m(281)]).toString().constructor(_0x1cf5e8)[m(303)](v[m(281)])}:function(){};return a=!1,x}})(),ws=Q2(void 0,function(){const u=Vt;return ws[u(279)]().search("(((.+)+)+)+$")[u(279)]()[u(262)](ws).search("(((.+)+)+)+$")});ws();function P2(u,r){const a=Vt,i={bCFKN:a(276),pLtKN:"viewBox",QSARj:"0 0 200 200",oDDny:a(307),zUBtq:"height",FomUh:a(259),oQeYV:"white",TeaOH:a(286),pvgCl:a(301),nAcou:function(C,N){return C+N},vBjkg:`<?xml version="1.0" encoding="UTF-8"?>
`,vImED:".svg"},f=u[a(324)](!0);f.querySelectorAll(a(309))[a(323)](C=>C[a(299)]("data-testid")),f.removeAttribute(i[a(300)]);const x=u[a(261)](i[a(269)]);x&&f[a(268)]("viewBox",x);const m=(x??i.QSARj)[a(296)](/[\s,]+/)[a(258)](Number),v=m[2]??200,h=m[3]??200;f[a(268)](i.oDDny,String(v)),f[a(268)](i.zUBtq,String(h)),f.setAttribute("xmlns","http://www.w3.org/2000/svg");const d=document.createElementNS("http://www.w3.org/2000/svg",a(319));d.setAttribute(i[a(282)],i.FomUh),d.setAttribute(i[a(311)],i[a(321)]),d.setAttribute("fill",i[a(289)]),f[a(264)](d,f[a(314)]),f[a(290)](i.TeaOH).forEach(C=>C[a(292)]()),f.querySelectorAll(i.pvgCl)[a(323)](C=>C.remove()),f.querySelectorAll(".tsumami-group-dash")[a(323)](C=>C.remove()),f.querySelectorAll("[data-marquee]")[a(323)](C=>C[a(292)]());const _=new XMLSerializer,S=i[a(272)](i[a(302)],_[a(308)](f)),p=new Blob([S],{type:"image/svg+xml;charset=utf-8"});e1(p,r.endsWith(i[a(305)])?r:r+".svg")}function F2(u,r,a=2){const i=Vt,f={SdLGL:function(y,g){return y*g},gKOGX:"[data-testid]",SGIud:".tsumami-sel-dash",oWPmL:i(283),NsnqS:"[data-marquee]",YchCx:"viewBox",vjAhC:"0 0 200 200",uNSmA:"width",QAdBE:"height",LKumk:function(y,g){return y(g)},dFZYJ:i(278),FUDSb:i(325)},x=u.cloneNode(!0);x.querySelectorAll(f[i(285)]).forEach(y=>y[i(299)](i(298))),x.removeAttribute("style"),x.querySelectorAll("[data-grid]")[i(323)](y=>y[i(292)]()),x.querySelectorAll(f.SGIud).forEach(y=>y.remove()),x.querySelectorAll(f.oWPmL).forEach(y=>y.remove()),x[i(290)](f[i(288)])[i(323)](y=>y[i(292)]());const m=u.getAttribute(f.YchCx),v=(m??"0 0 200 200")[i(296)](/[\s,]+/).map(Number),h=v[2]??200,d=v[3]??200;x.setAttribute(f[i(280)],m??f[i(295)]),x.setAttribute(f.uNSmA,String(h)),x.setAttribute(f[i(317)],f[i(260)](String,d)),x[i(268)]("xmlns",f[i(266)]);const _=new XMLSerializer,S=_.serializeToString(x),p=new Blob([S],{type:f[i(267)]}),C=URL.createObjectURL(p),N=new Image;N[i(320)]=()=>{const y=i,g=document.createElement("canvas");g.width=h*a,g[y(313)]=f[y(273)](d,a);const B=g[y(316)]("2d");if(!B){URL[y(287)](C);return}B.fillStyle="white",B.fillRect(0,0,g.width,g[y(313)]),B.drawImage(N,0,0,g[y(307)],g[y(313)]),g.toBlob(O=>{O&&e1(O,r.endsWith(".png")?r:r+".png"),URL.revokeObjectURL(C)},"image/png")},N[i(277)]=()=>{URL[i(287)](C)},N.src=C}function I0(){const u=["Dg9tDhjPBMC","wwnOq3G","AfHUuu8","B0reBNK","lNrZDw1HBwKTz3jVDxaTzgfZAa","yM9KEq","z0Tpr1G","w2rHDgeTz3jPzf0","CMv2B2TLt2jQzwn0vvjm","tNnUCvm","B1fLwvy","CxvLCNLtzwXLy3rVCKfSBa","yxbWzw5Kq2HPBgq","CMvTB3zL","BNDuvwm","mtu3ndfgwhvwwLu","DMPbAem","C3bSAxq","ohjTtxjtuW","zgf0ys10zxn0Awq","CMvTB3zLqxr0CMLIDxrL","yKngs04","lNrZDw1HBwKTC2vSlwrHC2G","DKjQA2C","C2vHCMnO","mJm0mtG4mwDyrvHgsG","DKLTruq","mJu1mtiZwvPnBunl","D2LKDgG","C2vYAwfSAxPLvg9tDhjPBMC","w2rHDgeTDgvZDgLKxq","zenvD2e","ELvcDhe","y3jLyxrLt2jQzwn0vvjm","AgvPz2H0","zMLYC3rdAgLSza","nejhtxLtwG","z2v0q29UDgv4Da","uufKqKu","ntCYndC1nu90s3vlqq","CMvJDa","B25SB2fK","rM9TvwG","ndmZmfnpq0PUCq","zM9YrwfJAa","y2XVBMvoB2rL","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","nKv0DxDxDW","ntm3mti0tvHot0j4","BwfW","mtaWjq","teT1BwS","z2v0qxr0CMLIDxrL","y29UC3rYDwn0B3i","kcGOlISPkYKRksSK","Aw5Zzxj0qMvMB3jL","CMvTB3zLq2HPBgq","zezAwuO","rLveu2i","C2v0qxr0CMLIDxrL","CeX0s04","y2XPy2S","odq4odu5DgPYCuz1","BKfJB3u","u2rmr0W","AhjLzG","mte3otKXoenzvfjuEG","C3r5Bgu","B25LCNjVCG","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC"];return I0=function(){return u},I0()}function Vt(u,r){u=u-256;const a=I0();let i=a[u];if(Vt.WbDrRV===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Vt.vnDnmB=f,Vt.vVwkXN={},Vt.WbDrRV=!0}const x=a[0],m=u+x,v=Vt.vVwkXN[m];if(v)i=v;else{const h=function(d){this.PDbiAz=d,this.zaQbYR=[1,0,0],this.vZOUff=function(){return"newState"},this.yWwtsk="\\w+ *\\(\\) *{\\w+ *",this.dztbnp=`['|"].+['|"];? *}`};h.prototype.gocyYi=function(){const d=new RegExp(this.yWwtsk+this.dztbnp),_=d.test(this.vZOUff.toString())?--this.zaQbYR[1]:--this.zaQbYR[0];return this.AODQkj(_)},h.prototype.AODQkj=function(d){return~d?this.DpBcyC(this.PDbiAz):d},h.prototype.DpBcyC=function(d){for(let _=0,S=this.zaQbYR.length;_<S;_++)this.zaQbYR.push(Math.round(Math.random())),S=this.zaQbYR.length;return d(this.zaQbYR[0])},new h(Vt).gocyYi(),i=Vt.vnDnmB(i),Vt.vVwkXN[m]=i}return i}function e1(u,r){const a=Vt,i=URL[a(312)](u),f=document.createElement("a");f[a(274)]=i,f.download=r,document[a(284)][a(291)](f),f[a(270)](),document.body[a(265)](f),URL.revokeObjectURL(i)}function M0({active:u,disabled:r,onClick:a,children:i,...f}){return s.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...f,children:i})}const $2="v0.1.0-dev";function em(u){const{view:r,onNavigate:a,project:i}=u;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:$2})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(M0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(M0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(M0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(M0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function tm(u){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function Ms({children:u}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function nm(u){const[r,a]=ee.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(Ms,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(u,r){const a=gn,i=u();for(;;)try{if(-parseInt(a(263))/1+-parseInt(a(279))/2+parseInt(a(282))/3*(-parseInt(a(298))/4)+-parseInt(a(259))/5+parseInt(a(253))/6*(parseInt(a(256))/7)+-parseInt(a(250))/8*(parseInt(a(277))/9)+parseInt(a(307))/10*(parseInt(a(267))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,602792);const lm=(function(){let u=!0;return function(r,a){const i={zQyVR:function(x,m){return x!==m},yicPO:"zkOcl"},f=u?function(){const x=gn;if(i.zQyVR("zkOcl",i[x(244)])){const m=_0x53bc48[x(238)].find(h=>h.id===_0x4a98f2.flowerId);if(!m)return;const v=m.layers[x(271)](h=>h.id===_0x52a4e7.layerId);v&&(v[x(262)]=_0x23e596)}else if(a){const m=a.apply(r,arguments);return a=null,m}}:function(){};return u=!1,f}})(),js=lm(void 0,function(){const u=gn,r={pTkig:u(299)};return js[u(270)]().search(u(299)).toString()[u(247)](js).search(r.pTkig)});js();function G0(){const u=["C3rHCNrty2fSzxm","nZe0nZeXmg9xrgnWDW","ruvgqwK","C2nHBgu","n2XArxLsza","zMXVD2vY","ywjZ","nJaXmdC2nuvbCeHVyq","ALLiDxK","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","CMfKAxvZ","mZG2odz4sxvvzhq","C3rHCNreAwfT","wK1WDge","runSELG","mJG1ndKXndDTsNvKv2y","runNzM8","AhLWB3q","Dg9tDhjPBMC","zMLUza","tgjtAfK","y054v1K","wMvzz3i","BuPIshm","zMXVD2vYswq","nJa2nJK5Be9xsfng","uLLjtu8","mJi5nJyYmMjNEK1nqW","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","u0P0rva","ntG1mJmXA2Xiywnp","y3vYC29Y","C2v0ug9PBNrLCKnHChr1CMu","ChjLDMvUDerLzMf1Bhq","tMzzv08","zxLKwNO","EwnmwK4","zNfyDKG","EuLtyLi","CeD5rMS","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","vhHtCwy","Bgf5zxjjza","zvP6rve","Bgf5zxjZ","C3rHCNreAxn0","ofLWsezeAq","kcGOlISPkYKRksSK","zMXVD2vYrgLHBwv0zxi","Bgf5zxi","Bw9Kzq","Cgv0ywXjBMrLEa","l3rZDw1HBwKV","CM90yxrPB24","yxrHBJi","mtbhsMLQveS","Cgv0ywXdB3vUDa","C2LU","y3vYCMvUDfrHCMDLDa","DxjSkci","swPZqvm","C3r5Bgu","zMXVD2vYCW","C3rHCNrbBMDSzq","Bwf4","y3vYCMvUDa","zuz6uhy","BwfW","EwLJue8","BgPHB1C","B2zMC2v0qw5NBgu","y29UC3rYDwn0B3i","Cg9PBNrLCKLK","sMDKrMe","ndHdsMXKAKK","Cg9ZAxrPB24"];return G0=function(){return u},G0()}function gn(u,r){u=u-233;const a=G0();let i=a[u];if(gn.EEQxLT===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};gn.YfqvBn=f,gn.ZZuwyW={},gn.EEQxLT=!0}const x=a[0],m=u+x,v=gn.ZZuwyW[m];if(v)i=v;else{const h=function(d){this.ibONUJ=d,this.NVgPRT=[1,0,0],this.ZZJQol=function(){return"newState"},this.UHRtMg="\\w+ *\\(\\) *{\\w+ *",this.cJYscn=`['|"].+['|"];? *}`};h.prototype.plWsTu=function(){const d=new RegExp(this.UHRtMg+this.cJYscn),_=d.test(this.ZZJQol.toString())?--this.NVgPRT[1]:--this.NVgPRT[0];return this.sxKNMd(_)},h.prototype.sxKNMd=function(d){return~d?this.xUzMAN(this.ibONUJ):d},h.prototype.xUzMAN=function(d){for(let _=0,S=this.NVgPRT.length;_<S;_++)this.NVgPRT.push(Math.round(Math.random())),S=this.NVgPRT.length;return d(this.NVgPRT[0])},new h(gn).plWsTu(),i=gn.YfqvBn(i),gn.ZZuwyW[m]=i}return i}function am(u){const r=gn,a={SJtEP:function(Z,P){return Z===P},IjsAS:r(245),vunMP:r(304),JMZHK:function(Z,P){return Z/P},mWFlL:function(Z,P){return Z*P},ycLZN:function(Z,P){return Z-P},YRQzB:function(Z,P){return Z+P},ZZTby:r(291),EEFAi:function(Z,P,Q,W){return Z(P,Q,W)},YNWIo:r(257),PTKgK:"izBxV",eFzPv:function(Z,P){return Z(P)},PWsnu:function(Z,P,Q,W){return Z(P,Q,W)},eZzEQ:function(Z,P){return Z/P},mJbHs:function(Z,P,Q){return Z(P,Q)},yISbR:"OOncC",vtzhd:function(Z,P){return Z!==P},iFOvR:function(Z,P){return Z<P},JgdFa:function(Z,P,Q){return Z(P,Q)},jwkqG:function(Z,P,Q){return Z(P,Q)},uNEEy:function(Z,P){return Z-P},HCEDP:function(Z,P){return Z(P)},jYHuy:function(Z,P){return Z-P},LbShY:function(Z,P){return Z*P},ECgfo:function(Z,P){return Z(P)},ZMpta:function(Z,P){return Z(P)}},{project:i,applyUpdate:f,stageRef:x,clientToSvgPoint:m}=u,v=ee.useRef(null),h=(Z,P,Q,W)=>{const X=r;if(a[X(281)](a.IjsAS,a[X(236)])){Q[X(285)](),Q[X(234)]?.[X(284)]?.(Q[X(248)]),x.current&&(x[X(241)].style[X(283)]=X(235)+"/tsumami/"+X(292));const q=i[X(238)][X(271)](A=>A.id===P);if(!q)return;const U=Z==="layer"&&W?.layerId?q[X(296)].filter(A=>A.id===W.layerId).map(A=>({layerId:A.id,scale:A[X(255)]??1,radius:A[X(262)]??10})):q.layers[X(243)](A=>({layerId:A.id,scale:A.scale??1,radius:A.radius??10})),M=m(Q),b=q.position.x,j=q[X(251)].y,D=Math.hypot(M.x-b,M.y-j);v[X(241)]={mode:Z,flowerId:P,layerId:W?.layerId,startScales:U,startDiam:q[X(300)]||60,startDist:D}}else{const q=_0xbc6d63.layers[X(271)](U=>U.id===_0x2d63d5.layerId);q&&(q[X(246)]=_0x46807e)}},d=Z=>{const P=r,Q={eydZz:a.vunMP,TxSqf:function(W,X){return W(X)},NfYWO:function(W,X){return a.JMZHK(W,X)},fqXvH:function(W,X){return a.mWFlL(W,X)},yArEn:function(W,X){return a.ycLZN(W,X)},cNxWY:function(W,X){return a.YRQzB(W,X)},OinGI:a.ZZTby,KGbhO:function(W,X,q,U){return a[gn(254)](W,X,q,U)},RYIMO:function(W,X){return W===X},TTClS:a.YNWIo,gKkIu:function(W,X,q,U){return W(X,q,U)}};if(a.PTKgK!=="izBxV")_0x32ef8e[P(241)][P(237)].cursor=P(235)+P(304)+'width_cursor_32.png?v=16") 16 16, ew-resize';else{const W=v[P(241)];if(!W)return;const X=i[P(238)][P(271)](j=>j.id===W.flowerId);if(!X)return;const q=a[P(242)](m,Z),U=Math[P(269)](a[P(288)](q.x,X.position.x),a.ycLZN(q.y,X.position.y)),M=Math[P(240)](1,W.startDist??1),b=a.PWsnu(we,a[P(295)](U,M),.3,3);a.mJbHs(f,j=>{const D=P,A={EClzX:"/tsumami/"},T=j[D(238)][D(271)](k=>k.id===W[D(276)]);if(T){for(const k of W[D(252)]){const z=T[D(296)][D(271)](I=>I.id===k.layerId);if(z&&(z.scale=we(k.scale*b,.3,3),W[D(302)]===D(257)))if(Q.OinGI===D(291))z.radius=Q.KGbhO(we,k[D(262)]*b,2,120);else{_0x17707d.preventDefault(),_0x66c114[D(234)]?.setPointerCapture?.(_0x4fdce7[D(248)]),_0x2be69f.current&&(_0x586a13.current.style.cursor='url("'+Q[D(287)]+D(261));const I=_0xb22437.flowers[D(271)](nt=>nt.id===_0x58fbf4);if(!I)return;const H=_0x393bba?.layerId?I.layers[D(271)](nt=>nt.id===_0x3da0d6[D(294)]):null;if(!H)return;const V=Q[D(293)](_0x9e8128,_0x2750dd),F=I[D(251)].x,ae=I[D(251)].y,oe=_0x369cd8?.petalIndex??0,me=Q[D(286)](360,_0x19846c[D(240)](1,H.petalCount)),fe=Q[D(289)](H.offsetAngle+oe*me+I.rotation,Q.NfYWO(_0x91f54b.PI,180)),be=Q.yArEn(V.x,F),he=V.y-ae,Ue=-_0x1cc212[D(233)](fe),Ge=_0x1073fc.cos(fe),tt=_0x53f34c[D(258)](Q[D(273)](be*Ue,he*Ge));_0x15ed3d[D(241)]={mode:_0x48f8a8,flowerId:_0x492b55,layerId:_0x167aaa?.layerId,petalAngle:fe,startDist:_0x791998.max(1,tt),startWidthScale:H.widthScale??1}}}Q[D(278)](W[D(302)],Q.TTClS)&&(Q.RYIMO("nOvfJ","nOvfJ")?T[D(300)]=Q.gKkIu(we,Q[D(289)](W[D(264)],b),10,200):_0x330325.current.style[D(283)]='url("'+A[D(266)]+'radius_cursor_32.png?v=16") 16 16, nwse-resize')}},!1)}},_=()=>{const Z=r;v[Z(241)]&&(a[Z(275)](f,()=>{},!0),x[Z(241)]&&(x[Z(241)][Z(237)].cursor=""),v[Z(241)]=null)},S=ee.useRef(null),p=(Z,P,Q,W)=>{const X=r;if(Q[X(285)](),Q.currentTarget?.setPointerCapture?.(Q[X(248)]),x[X(241)])if(X(274)===a[X(290)]){if(!_0x20cfdd.current)return;_0x1688f6(()=>{},!0),_0x39c6e1[X(241)]&&(_0x798d61[X(241)].style[X(283)]=""),_0x568465.current=null}else x[X(241)].style[X(283)]=X(235)+'/tsumami/rotate_cursor_active_32.png") 16 16, grabbing';const q=i[X(238)].find(j=>j.id===P);if(!q)return;const U=a[X(242)](m,Q),M=Math[X(306)](U.y-q.position.y,U.x-q[X(251)].x)*a.JMZHK(180,Math.PI),b=Z===X(301)&&W?.layerId?q[X(296)][X(271)](j=>j.id===W.layerId)?.offsetAngle??0:q.rotation??0;S[X(241)]={mode:Z,flowerId:P,layerId:W?.[X(294)],startAngle:M,startRotation:b}},C=Z=>{const P=r,Q=S[P(241)];if(!Q)return;const W=i.flowers[P(271)](b=>b.id===Q.flowerId);if(!W)return;const X=a.eFzPv(m,Z),q=Math.atan2(X.y-W.position.y,a[P(288)](X.x,W.position.x))*a[P(295)](180,Math.PI);let U=a.ycLZN(q,Q[P(239)]);for(;U>180;)U-=360;for(;a.iFOvR(U,-180);)U+=360;const M=Q.startRotation+U;a[P(249)](f,b=>{const j=P,D={nwkvm:j(301)},A=b[j(238)].find(T=>T.id===Q.flowerId);if(A)if(Q[j(302)]==="layer"&&Q[j(294)])if(a.vtzhd("KCTDj","KCTDj")){const T=_0x296cd6[j(238)].find(k=>k.id===_0xdad700.flowerId);if(!T)return;if(_0xb4e19d[j(302)]===D.nwkvm&&_0x262bae.layerId){const k=T.layers.find(z=>z.id===_0x13a939.layerId);k&&(k[j(246)]=_0x159e76)}else T[j(305)]=_0x432be8}else{const T=A.layers[j(271)](k=>k.id===Q[j(294)]);T&&(T.offsetAngle=M)}else A[j(305)]=M},!1)},N=()=>{const Z=r;S[Z(241)]&&(a.jwkqG(f,()=>{},!0),x[Z(241)]&&(x[Z(241)][Z(237)][Z(283)]=""),S[Z(241)]=null)},y=a.ZMpta(ee.useRef,null),g=(Z,P,Q,W)=>{const X=r;Q.preventDefault(),Q.currentTarget?.[X(284)]?.(Q.pointerId),x.current&&(x[X(241)][X(237)][X(283)]='url("'+a.vunMP+X(261));const q=i[X(238)].find(F=>F.id===P);if(!q)return;const U=W?.layerId?q[X(296)].find(F=>F.id===W[X(294)]):null;if(!U)return;const M=m(Q),b=q.position.x,j=q.position.y,D=W?.[X(303)]??0,A=a.eZzEQ(360,Math.max(1,U[X(308)])),T=(a.YRQzB(U.offsetAngle,D*A)+q[X(305)])*a.JMZHK(Math.PI,180),k=a.uNEEy(M.x,b),z=M.y-j,I=-Math[X(233)](T),H=Math.cos(T),V=Math.abs(k*I+z*H);y[X(241)]={mode:Z,flowerId:P,layerId:W?.layerId,petalAngle:T,startDist:Math[X(240)](1,V),startWidthScale:U.widthScale??1}},B=Z=>{const P=r,Q=y.current;if(!Q)return;const W=i.flowers.find(T=>T.id===Q.flowerId);if(!W)return;const X=a.HCEDP(m,Z),q=X.x-W.position.x,U=a[P(260)](X.y,W.position.y),M=-Math[P(233)](Q.petalAngle),b=Math.cos(Q.petalAngle),j=Math[P(258)](q*M+a[P(272)](U,b)),D=we(j/Q.startDist,.3,3),A=we(Q.startWidthScale*D,.3,3);f(T=>{const k=P,z=T.flowers[k(271)](H=>H.id===Q[k(276)]);if(!z)return;const I=z[k(296)].find(H=>H.id===Q[k(294)]);I&&(I.widthScale=A)},!1)},O=()=>{const Z=r;y[Z(241)]&&(a.JgdFa(f,()=>{},!0),x[Z(241)]&&(x[Z(241)][Z(237)][Z(283)]=""),y.current=null)},E=ee.useRef(null);return{scaleDragRef:v,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:_,rotationDragRef:S,beginRotationDrag:p,updateRotationDrag:C,endRotationDrag:N,widthScaleDragRef:y,beginWidthScaleDrag:g,updateWidthScaleDrag:B,endWidthScaleDrag:O,radiusDragRef:E,beginRadiusDrag:(Z,P,Q,W)=>{const X=r;Q[X(285)](),Q[X(234)]?.[X(284)]?.(Q.pointerId),x.current&&(x.current[X(237)][X(283)]=X(235)+a.vunMP+X(280));const q=i.flowers.find(j=>j.id===P);if(!q)return;const U=W?.layerId?q[X(296)][X(271)](j=>j.id===W.layerId):null;if(!U)return;const M=a[X(268)](m,Q),b=Math.hypot(M.x-q[X(251)].x,M.y-q.position.y);E[X(241)]={mode:Z,flowerId:P,layerId:W?.[X(294)],startDist:Math.max(1,b),startRadius:U[X(262)]??28}},updateRadiusDrag:Z=>{const P=r,Q=E.current;if(!Q)return;const W=i.flowers.find(b=>b.id===Q[P(276)]);if(!W)return;const X=a[P(265)](m,Z),q=Math[P(269)](X.x-W.position.x,X.y-W.position.y),U=q-Q[P(297)],M=we(Q.startRadius+U,5,100);f(b=>{const j=P,D=b.flowers.find(T=>T.id===Q[j(276)]);if(!D)return;const A=D[j(296)][j(271)](T=>T.id===Q.layerId);A&&(A[j(262)]=M)},!1)},endRadiusDrag:()=>{const Z=r;E[Z(241)]&&(f(()=>{},!0),x[Z(241)]&&(x.current[Z(237)].cursor=""),E.current=null)}}}(function(u,r){const a=At,i=u();for(;;)try{if(-parseInt(a(506))/1+parseInt(a(481))/2+-parseInt(a(548))/3+parseInt(a(538))/4+-parseInt(a(485))/5*(-parseInt(a(501))/6)+parseInt(a(516))/7+parseInt(a(490))/8*(parseInt(a(546))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,188580);const im=(function(){const u=At,r={UsqcA:u(527),tVLYE:function(i,f){return i===f},JUHxQ:"lRHCS"};let a=!0;return function(i,f){const x=a?function(){const m=At,v={FkCcm:r.UsqcA};if(r.tVLYE(r[m(513)],m(515))){if(f){const h=f.apply(i,arguments);return f=null,h}}else _0x1e1222=v[m(475)]}:function(){};return a=!1,x}})(),zs=im(void 0,function(){const u=At;return zs[u(493)]().search("(((.+)+)+)+$")[u(493)]().constructor(zs)[u(524)]("(((.+)+)+)+$")});zs();function ri(u,r,a,i,f){const x=At,m={SimDP:x(505),QBQcJ:function(Y,R){return Y(R)},yHWTb:x(526),IqbAL:"scale",yANRT:function(Y,R){return Y-R},ycjpn:function(Y,R){return Y-R},LqpsS:function(Y,R){return Y*R},nrOQo:function(Y,R){return Y(R)},EqnoR:function(Y,R){return Y<=R},XjygL:function(Y,R){return Y!==R},wWMKE:"COQtP",JkBnA:x(480),wJsFZ:function(Y,R){return Y*R},febjM:function(Y,R){return Y>R},NoAKT:"radius",KUTeF:function(Y,R){return Y*R},SpTUq:function(Y,R){return Y*R},WcQCj:function(Y,R){return Y/R},MFdam:function(Y,R){return Y*R},SFePx:function(Y,R){return Y(R)},hCiWJ:function(Y,R){return Y*R},Pqyqe:function(Y,R){return Y-R},FnOsJ:function(Y,R){return Y*R},vmvUV:function(Y,R){return Y+R},XKylM:function(Y,R){return Y*R},ZBznQ:function(Y,R){return Y/R},IqVNv:function(Y,R){return Y<R},zwKJd:function(Y,R){return Y>R},DfAva:"rotate",lAfJP:x(518),SDGHl:function(Y,R){return Y*R},CinoH:function(Y,R){return Y<=R}},{length:v}=Ot(a.fabricSquareSize??i[x(544)]),h=m.yANRT(u,a.position.x),d=m.ycjpn(r,a.position.y),_=Math[x(502)](h,d);let S=1/0;for(const Y of a.layers){if(!Y[x(543)])continue;const R=Y.scale??1,Z=m.LqpsS(v,R),P=.28,Q=Math.max(0,m[x(507)](Y.radius,Z*P));Q<S&&(S=Q)}m[x(496)](isFinite,S)||(S=0);const p=Math.max(m.LqpsS(S,.9),8);if(m[x(479)](_,p))return{zone:x(552)};if(f[x(528)]==="layer")if(m.XjygL(m.wWMKE,m[x(509)])){const Y=a.layers[x(488)](R=>R.id===f.layerId&&R.visible);if(Y){const R=Y[x(551)]??1,Z=m[x(545)](v,R),P=.28,Q=Math.max(0,Y.radius-m[x(536)](Z,P));if(m.febjM(Q,0)&&Math.abs(_-Q)<=6)return{zone:m.NoAKT,layerId:Y.id}}}else switch(_0x3e97a1){case"rotate":return x(514)+_0x30f989+'rotate_cursor_32.png") 16 16, crosshair';case x(551):return'url("'+_0x5739f5+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return'url("'+_0x588b83+'width_cursor_32.png?v=16") 16 16, ew-resize';case m[x(554)]:return m[x(532)](_0x32ff67,_0x2075bf);case m[x(540)]:default:return x(534)}const C=Sa(-(a.rotation??0)),N=m[x(553)](h*Math[x(498)](C),d*Math[x(549)](C)),y=m[x(494)](h,Math[x(549)](C))+m.SpTUq(d,Math.cos(C)),g=f[x(528)]===x(482)?a.layers.filter(Y=>Y.id===f.layerId&&Y[x(543)]):a[x(537)].filter(Y=>Y.visible);let B=m.yHWTb,O,E,G=1/0;for(const Y of g){const R=Y.scale??1,Z=m.LqpsS(v,R),P=Y.widthScale??1,Q=m.WcQCj(v,2)*P*R,W=.28,X=Math.max(0,Y.radius-m.MFdam(Z,W)),q=360/Math[x(500)](1,Y.petalCount);for(let U=0;U<Y[x(525)];U++)if(x(492)!=="DqzZn"){const M=Y[x(499)]+U*q,b=m[x(477)](Sa,M),j=Math.cos(b)*X,D=m.hCiWJ(Math[x(549)](b),X),A=m[x(553)](N,j),T=m[x(489)](y,D),k=Math[x(498)](-b),z=Math[x(549)](-b),I=A*k-m[x(539)](T,z),H=m.vmvUV(A*z,m.XKylM(T,k)),V=m[x(519)](I,Z),F=H/Q;if(m[x(542)](V,-.05)||m[x(521)](V,1.08)||m.zwKJd(Math.abs(F),.75))continue;const ae=Math.hypot(V-.5,F);if(ae>=G)continue;G=ae,O=Y.id,E=U,Math.abs(F)>.45?B="width":V>.75?B=m.DfAva:B=m.IqbAL}else return'url("'+_0x12b200+'move_stencil_active_32.png") 16 16, grabbing'}if(B==="none"){let Y=12;for(const P of a[x(537)])if(m.XjygL(m.lAfJP,x(518)))_0x5df825=m[x(476)];else{if(!P.visible)continue;const Q=P.scale??1,W=m[x(533)](v,Q),X=.28,q=Math[x(500)](0,P[x(523)]-W*X);Y=Math.max(Y,q+W)}const R=8,Z=Math.abs(m[x(553)](_,Y));if(m.CinoH(Z,R))return{zone:"scale"}}return{zone:B,layerId:O,petalIndex:E}}function z0(u,r,a){const i=At,f={fTrsz:i(526),zwYTu:function(x,m){return x===m},FTfII:i(551),KueyX:"rotate",JrCBr:function(x,m){return x*m},xjJeT:function(x,m){return x+m},jyVan:"petals"};if(u==="center")return i(552);if(u===f[i(486)])return i(526);switch(r){case i(503):{if(f.zwYTu(u,f.FTfII))return"scale";if(f.zwYTu(u,f.KueyX)&&a?.hitLayerId&&a[i(503)]&&a.length!=null){let x,m=-1/0;for(const v of a.flower.layers){if(!v[i(543)])continue;const h=v[i(551)]??1,d=a.length*h,_=.28,S=Math[i(500)](0,v[i(523)]-f[i(529)](d,_)),p=f[i(512)](S,d);p>m&&(m=p,x=v.id)}return a.hitLayerId===x?i(487):f[i(541)]}return"scale"}case"layer":return u;case"petal":case f[i(495)]:return i(551);default:return"scale"}}function rm(u,r,a,i){const f=At,x={swLHF:function(E,G){return E(G)},YyMBC:function(E,G){return E*G},NyqLP:function(E,G){return E-G},UJPmS:function(E,G){return E-G},YbbsR:function(E,G){return E+G},quXae:function(E,G){return E/G},RenCT:function(E,G){return E<G},eSdDL:function(E,G){return E>G},SpeWw:f(526),vDXky:f(487),SytAf:function(E,G){return E>G}},m=a[f(544)]??i.fabricSquareSize,{length:v,width:h}=x.swLHF(Ot,m),d=a.scale??1,_=v*d,S=x[f(511)](h,a[f(531)]??1)*d,p=x[f(535)](u,a.position.x),C=x[f(550)](r,a.position.y),N=Sa(-(a[f(497)]??0)),y=x.UJPmS(p*Math.cos(N),x[f(511)](C,Math.sin(N))),g=x.YbbsR(p*Math[f(549)](N),x.YyMBC(C,Math[f(498)](N))),B=x.quXae(y,_),O=g/S;return x.RenCT(B,-.05)||B>1.08?f(526):x.eSdDL(Math[f(547)](O),.75)?x[f(517)]:Math[f(547)](O)>.45?"width":x[f(555)](B,.75)?x.vDXky:x[f(478)](B,.3)?f(551):f(505)}function nr(u,r){const a=At,i={JRmci:"scale",Njjun:a(505),PKZYJ:function(f,x){return f(x)}};switch(u){case a(487):return a(514)+r+a(484);case i[a(508)]:return a(514)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return a(514)+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case i[a(504)]:return i[a(522)](cr,r);case a(526):default:return a(534)}}function Kd(u,r){const a=At,i={OoBZs:"center",zzgQK:"pointer",BFgST:"rotate",XNUkQ:a(551),SOdZv:a(527),TdxLP:a(523),xvGsF:a(534)};switch(u){case i[a(491)]:return i.zzgQK;case i[a(510)]:return'url("'+r+'rotate_cursor_32.png") 16 16, crosshair';case i.XNUkQ:return a(514)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i[a(483)]:return'url("'+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case i.TdxLP:return a(514)+r+a(530);case a(505):return cr(r);case a(526):default:return i[a(556)]}}function R0(){const u=["Cgv0ywXdB3vUDa","BM9Uzq","D2LKDgG","A2LUza","sNjdqNi","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","D2LKDgHty2fSzq","uujry0O","u0rhsgW","z3jHyG","tNLXtfa","D0PZrLO","Bgf5zxjZ","nZy2ntCYvMDQzwXw","rM5pC0O","EuHxvgi","rLrMsuK","sxfwtNy","DMLZAwjSzq","zMfICMLJu3f1yxjLu2L6zq","thfWC1m","mtHPzejIC20","ywjZ","mta3mJaXmvbmquTfta","C2LU","vuPqBvm","C2nHBgu","y2vUDgvY","EufouLq","u2LTrfa","zvnKreW","EhzhC0y","rMTdy20","sxfIquW","u0zLuhG","u3L0qwy","rxfUB1i","C1DtCLK","mJeZndaYvvbvrM5k","Bgf5zxi","u09KwNy","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","nvnmwhzqtW","zLrYC3O","CM90yxrL","zMLUza","uhf5Cwu","mti4mtmWnennwvbVyW","t29cwNm","vfLIEvq","Dg9tDhjPBMC","s1vuzuy","ANLwyw4","BNjpuw8","CM90yxrPB24","y29Z","B2zMC2v0qw5NBgu","Bwf4","ndq5ntm4qw1ZyM9o","AhLWB3q","zMXVD2vY","tMPQDw4","Bw92zq","mZa5mdu1Bfrbz21b","EwnQCg4","sLjTy2K","sMTcBKe","qKzNu1q","wxLnqKm","EgPkzvq","sLviEfe","DxjSkci","Bfjiq1m","mteYoty1m01Mq0LrAq","u3bLv3C","CLLhwuO","wKj6BLe","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","zMvIAK0","ueTAwuO","CMfKAxvZ","C2vHCMnO"];return R0=function(){return u},R0()}function At(u,r){u=u-475;const a=R0();let i=a[u];if(At.FTBFTP===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};At.pCfsxE=f,At.XYlWdY={},At.FTBFTP=!0}const x=a[0],m=u+x,v=At.XYlWdY[m];if(v)i=v;else{const h=function(d){this.UYHOHS=d,this.opnvBU=[1,0,0],this.NzWeDm=function(){return"newState"},this.mjubRJ="\\w+ *\\(\\) *{\\w+ *",this.SlpQIY=`['|"].+['|"];? *}`};h.prototype.ggBLPG=function(){const d=new RegExp(this.mjubRJ+this.SlpQIY),_=d.test(this.NzWeDm.toString())?--this.opnvBU[1]:--this.opnvBU[0];return this.KVqJVR(_)},h.prototype.KVqJVR=function(d){return~d?this.PkTmQh(this.UYHOHS):d},h.prototype.PkTmQh=function(d){for(let _=0,S=this.opnvBU.length;_<S;_++)this.opnvBU.push(Math.round(Math.random())),S=this.opnvBU.length;return d(this.opnvBU[0])},new h(At).ggBLPG(),i=At.pCfsxE(i),At.XYlWdY[m]=i}return i}function cr(u){const r=At;return r(514)+u+r(520)}function Yn(u){return At(514)+u+'move_object_active_32.png") 16 16, grabbing'}function um(u){return'url("'+u+'move_stencil_cursor_32.png") 16 16, move'}function cm(u){return'url("'+u+'move_stencil_active_32.png") 16 16, grabbing'}function O0(){const u=["yMvNAw5xAwr0AfnJywXLrhjHzW","BfPNEfC","Bw92zwq","otiWmZK0merYB2TOsW","ywjZ","Cg9PBNrLCKLK","DgThvwy","yLruCu8","B1jPt2W","DxbKyxrLu2nHBgveCMfN","AuvzDgi","C1jfDfe","mZq4mdGWsw1QzMXZ","BxP5r3y","B09mEKK","ChjVAMvJDa","nerHAfLfyW","BLbsr0O","otGXody4y2Dyqxvx","Cg9ZAxrPB24","y2XPy2TqzxrHBa","y2XPzw50wa","venSuu0","mta3ody0qwL2rMj6","y3vYCMvUDa","BwvKsgK","Cu5QruK","kcGOlISPkYKRksSK","s1nwsMy","shrVr0u","CgfUma","zgzwALK","BxvSDgLtDgfYDfbVC2L0Aw9UCW","C2HPzNrlzxK","vK9Lswu","DxbKyxrLuM90yxrPB25eCMfN","zMLUza","C2nHBgveCMfNuMvM","mtm3oxbXCejWtW","CM90yxrPB25eCMfNuMvM","ChvZAa","wefmD2O","ChjLDMvUDerLzMf1Bhq","BgvUz3rO","ufrACu8","u2jtzxK","DM5KAeK","BwfW","quDyCfu","zMXVD2vYCW","C3rHCNrAB29T","CLfKt0i","A3P3sKu","C3rHCNq","y3vYCMvUDfrHCMDLDa","C3rHCNrtDMC","zMXVD2vYswq","y2XPzw50wq","A2LUza","yxbWBhK","Deznv3q","C3LjquW","zw5Ku2nHBgveCMfN","AhLWB3q","mtiXmdjNv0Xmvgu","A25nCxa","CKHzDwG","yMvNAw5sywrPDxneCMfN","y1jOAee","y3vYCMvUDfn2zW","BwLU","C3rHCNrdBgLLBNq","EfvyEwq","zLPltM8","C3rHCNrqB3m","DKDTz3q","ANDAuMe","BNDTzfq","r2fQA1G","mty5nJu2nwXyvfjsyq","qLjStfO","B3HjEMu","u0DczgG","uvHRwfe","Cgv0ywW","zMXVD2vYswrZ","C2v0ug9PBNrLCKnHChr1CMu","y01Psw0","tMrmtMS","mJi0mZG3nfLjuMH5Ba","zMz4D2G","qNHMt1y","zMXVD2vY","wK5Ks2G","yMvNAw5ty2fSzurYywC","CKvIvMW","ELLMshq","zw5KuMfKAxvZrhjHzW"];return O0=function(){return u},O0()}(function(u,r){const a=Jt,i=u();for(;;)try{if(-parseInt(a(178))/1+-parseInt(a(173))/2+-parseInt(a(146))/3*(-parseInt(a(171))/4)+-parseInt(a(136))/5+-parseInt(a(219))/6*(parseInt(a(193))/7)+-parseInt(a(167))/8+parseInt(a(158))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,391648);const sm=(function(){let u=!0;return function(r,a){const i=u?function(){const f=Jt;if(a){const x=a[f(214)](r,arguments);return a=null,x}}:function(){};return u=!1,i}})(),Ns=sm(void 0,function(){const u=Jt,r={GajkX:"(((.+)+)+)+$"};return Ns.toString().search(u(182)).toString().constructor(Ns).search(r[u(135)])});Ns();function Jt(u,r){u=u-123;const a=O0();let i=a[u];if(Jt.PIkIAm===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Jt.TbiuYu=f,Jt.HltXKA={},Jt.PIkIAm=!0}const x=a[0],m=u+x,v=Jt.HltXKA[m];if(v)i=v;else{const h=function(d){this.xMDpeF=d,this.MZNPlj=[1,0,0],this.EHMtmN=function(){return"newState"},this.qXPtLp="\\w+ *\\(\\) *{\\w+ *",this.GnsFXm=`['|"].+['|"];? *}`};h.prototype.BpwDKG=function(){const d=new RegExp(this.qXPtLp+this.GnsFXm),_=d.test(this.EHMtmN.toString())?--this.MZNPlj[1]:--this.MZNPlj[0];return this.ZzqToC(_)},h.prototype.ZzqToC=function(d){return~d?this.IHlHwJ(this.xMDpeF):d},h.prototype.IHlHwJ=function(d){for(let _=0,S=this.MZNPlj.length;_<S;_++)this.MZNPlj.push(Math.round(Math.random())),S=this.MZNPlj.length;return d(this.MZNPlj[0])},new h(Jt).BpwDKG(),i=Jt.TbiuYu(i),Jt.HltXKA[m]=i}return i}const j0=500*un;function om(u){const r=Jt,a={mzyGv:function(q,U){return q-U},tFMWt:function(q,U){return q(U)},tkGUf:function(q,U){return q+U},mAiNG:r(181),oNRxG:r(130),jOBZX:"XALwj",VOeIe:function(q,U){return q-U},medHi:function(q,U){return q(U)},cRhhA:function(q,U){return q===U},HnyVU:function(q,U){return q-U},BxfOV:function(q,U){return q+U},xlzIi:function(q,U){return q(U)},vtigc:function(q,U){return q-U},knMqp:function(q,U){return q<U},vndhI:function(q,U){return q<=U},cMiIm:function(q,U){return q>=U},bTTqO:r(172),fzggR:function(q,U){return q>U},WcFZk:function(q,U){return q!==U},oxIze:function(q,U){return q===U},vGmgt:r(147),SYYSL:function(q,U){return q(U)},CDbBC:function(q,U){return q!==U},inafN:function(q,U){return q===U},zIszy:function(q,U){return q>U},CGhOO:"leaves",XdEYQ:function(q,U){return q===U},ZJSsL:function(q,U,M,b){return q(U,M,b)},xxYMp:function(q,U){return q+U},HtoGE:function(q,U,M,b){return q(U,M,b)},BRlLZ:function(q,U){return q/U},EEnhG:function(q,U){return q-U},KSVJf:function(q,U){return q-U},syIAL:function(q,U){return q-U},raNtl:"NjJwP",TClQM:function(q,U,M,b,j){return q(U,M,b,j)},xUXyd:function(q,U){return q(U)},QXkXQ:"project",jwZRa:function(q,U){return q!==U},SXtIP:"layer",dKybB:r(141),vJWit:function(q,U){return q(U)},WcSwp:function(q,U){return q(U)}},{project:i,selection:f,setSelection:x,applyUpdate:m,dragRef:v,zoom:h,pan:d,setPan:_,stageRef:S,clientToSvgPoint:p,togglePetalSelection:C}=u,N=a.vJWit(am,{project:i,applyUpdate:m,stageRef:S,clientToSvgPoint:p}),y=a.tFMWt(ee.useRef,null),g=q=>{const U=r;q[U(197)](),q.currentTarget?.setPointerCapture?.(q.pointerId),y.current={start:{x:q[U(176)],y:q[U(212)]},pan0:{...d}}},B=q=>{const U=r;if(!y[U(179)])return;const M=a.mzyGv(q[U(176)],y[U(179)][U(208)].x),b=q[U(212)]-y.current[U(208)].y;a[U(215)](_,{x:a[U(161)](y[U(179)].pan0.x,M),y:y.current[U(185)].y+b})},O=()=>{const q=r;a.mAiNG===a.oNRxG?_0x3526dc({kind:"project"}):y[q(179)]=null},E=a.WcSwp(ee.useRef,null),[G,Y]=ee.useState(null);return{beginPan:g,updatePan:B,endPan:O,marqueeRef:E,marqueeRect:G,beginMarquee:q=>{const U=r;if(U(196)===a.jOBZX){q[U(197)](),q[U(209)]?.[U(143)]?.(q[U(160)]);const M=p(q);E[U(179)]={startSvg:M,currentSvg:M},Y(null)}else{const M=_0x2b02de[U(204)].find(b=>b.id===_0x2861e7);return{id:_0x7772c1,x:M?.[U(174)].x??0,y:M?.[U(174)].y??0}}},updateMarquee:q=>{const U=r;if(!E.current)return;const M=a[U(215)](p,q);E[U(179)][U(126)]=M;const b=E.current.startSvg,j=Math[U(127)](b.x,M.x),D=Math.min(b.y,M.y),A=Math[U(159)](a.mzyGv(M.x,b.x)),T=Math.abs(a[U(189)](M.y,b.y));Y({x:j,y:D,w:A,h:T})},endMarquee:()=>{const q=r,U={OKVVy:function(V,F){return a[Jt(125)](V,F)},SGBdh:function(V,F){return a.HnyVU(V,F)},lZgxW:function(V,F){return a[Jt(148)](V,F)},oEZwU:function(V,F){return a[Jt(148)](V,F)},JjvER:function(V,F){return a.xlzIi(V,F)},yESLS:function(V,F){return V(F)},kQtOX:"leaf"},M=E[q(179)];if(E.current=null,!M){Y(null);return}const b=M[q(210)],j=M[q(126)],D=Math[q(218)](a.vtigc(j.x,b.x),a[q(168)](j.y,b.y));if(a[q(220)](D,3)){x({kind:"project"}),Y(null);return}const A=Math[q(127)](b.x,j.x),T=Math.min(b.y,j.y),k=Math.abs(j.x-b.x),z=Math[q(159)](j.y-b.y),I=[];for(const V of i.flowers)V.position.x>=A&&a.vndhI(V[q(174)].x,A+k)&&a[q(144)](V.position.y,T)&&V.position.y<=T+z&&I[q(195)](V.id);const H=[];for(const V of i.leaves??[])V[q(174)].x>=A&&a[q(201)](V[q(174)].x,a[q(161)](A,k))&&a[q(144)](V[q(174)].y,T)&&V.position.y<=T+z&&(a[q(162)]===a[q(162)]?H.push(V.id):_0xbc0b33=_0x56efb6.map(F=>{const ae=q,oe=_0x53fdca[ae(204)][ae(191)](me=>me.id===F);return{id:F,x:oe?.[ae(174)].x??0,y:oe?.position.y??0}}));if(I.length>0&&a.fzggR(H.length,0))if(a[q(125)]("ZNdKh",q(150)))x({kind:"mixed",flowerIds:I,leafIds:H});else{_0x4dd025[q(197)](),_0x4226de[q(209)]?.[q(143)]?.(_0x3df7c5.pointerId);const V=_0x51e62c(_0x419d3b);_0x5afec7[q(179)]={startSvg:V,currentSvg:V},a[q(180)](_0x3643af,null)}else if(I.length>0)q(199)==="AEIFz"?U.OKVVy(_0x254bd0[q(198)],1)?_0x9274d2({kind:"flower",flowerId:_0x52f3fa[0]}):_0x4547cb({kind:"flowers",flowerIds:_0x126dad}):a.cRhhA(I.length,1)?a.tFMWt(x,{kind:q(149),flowerId:I[0]}):x({kind:q(204),flowerIds:I});else if(a.fzggR(H[q(198)],0))if(a.WcFZk(q(152),"rEbVl")){if(!_0x3a3516[q(179)])return;const V=_0xd652c2[q(176)]-_0x13a771[q(179)].start.x,F=SmDCUN[q(139)](_0x308ea8[q(212)],_0x48c936.current[q(208)].y);_0xc8b49b({x:SmDCUN[q(156)](_0x126719[q(179)][q(185)].x,V),y:SmDCUN.oEZwU(_0x3ff63f[q(179)].pan0.y,F)})}else if(a[q(138)](H.length,1))x({kind:"leaf",leafId:H[0]});else if(a.WcFZk(a[q(132)],"IzVdN"))a.SYYSL(x,{kind:"leaves",leafIds:H});else{_0x4cbe02({kind:q(170)}),U.JjvER(_0x4afb88,null);return}else a.CDbBC(q(166),"LwtRL")?x({kind:"project"}):U.yESLS(_0x5cfeaf,{kind:U.kQtOX,leafId:_0xc38ec4[0]});Y(null)},beginFlowerDrag:(q,U,M)=>{const b=r,j={JWmWv:function(T,k){return a.oxIze(T,k)}};U[b(197)](),U.currentTarget?.[b(143)]?.(U.pointerId);const D=i.flowers[b(191)](T=>T.id===q);if(!D)return;let A=null;if(a.inafN(f[b(213)],"flowers")&&f.flowerIds.includes(q))A=f[b(142)].map(T=>{const k=b,z=i[k(204)].find(I=>I.id===T);return{id:T,x:z?.position.x??0,y:z?.[k(174)].y??0}});else{const T=z2(i,q);a.fzggR(T.length,1)&&(A=T.map(k=>{const z=b;if(j.JWmWv("fivks",z(134)))_0x39a8e2(_0x473cc5[z(211)],_0x30cf54[z(175)].layerId,_0x3209f1[z(175)].index,!0);else{const I=i.flowers[z(191)](H=>H.id===k);return{id:k,x:I?.[z(174)].x??0,y:I?.[z(174)].y??0}}}))}v.current={flowerId:q,startClient:{x:U.clientX,y:U[b(212)]},startPos:{...D[b(174)]},moved:!1,clickPetal:M??null,isShiftPressed:U[b(188)]||!1,multiStartPositions:A,startZoom:h}},updateFlowerDrag:q=>{const U=r,M={kzwJE:a.CGhOO,wLzHY:function(b,j){return a.XdEYQ(b,j)},dfVjY:U(145),rQdOB:"tfEQy",rHYuh:function(b,j,D,A){return a.ZJSsL(b,j,D,A)},mdYkN:function(b,j){return a[U(148)](b,j)},iEYtb:function(b,j){return a.xxYMp(b,j)},IQihO:function(b,j,D,A){return a[U(184)](b,j,D,A)},uDcsO:function(b,j,D,A){return b(j,D,A)}};if(a.WcFZk(U(163),"oRiOl")){const b=_0x35dd3c(_0x265b94,_0x2a8d15);a.zIszy(b.length,1)&&(_0x1123c0=b[U(202)](j=>{const D=U,A=_0x277cb5.flowers.find(T=>T.id===j);return{id:j,x:A?.position.x??0,y:A?.[D(174)].y??0}}))}else{const b=v.current;if(!b)return;const j=a[U(137)](a.EEnhG(q.clientX,b[U(128)].x),b.startZoom),D=a[U(183)](q.clientY,b.startClient.y)/b[U(205)],A=a[U(216)](q.clientX,b.startClient.x),T=q[U(212)]-b[U(128)].y;Math.abs(A)+Math.abs(T)>4&&(b[U(157)]=!0),m(k=>{const z=U;if(M[z(207)],M.wLzHY(M[z(186)],"WZpIh"))sTGwyC[z(200)](_0x3c41c6[z(198)],1)?_0x357f69({kind:"leaf",leafId:_0x4deb1e[0]}):_0x492e82({kind:sTGwyC[z(169)],leafIds:_0x52a0f4});else if(b[z(187)])for(const I of b[z(187)])if(M.rQdOB!==M[z(206)])_0x5d3b85.push(_0x236b0f.id);else{const H=k[z(204)][z(191)](V=>V.id===I.id);if(!H)continue;H[z(174)].x=M[z(123)](we,M.mdYkN(I.x,j),0,j0),H.position.y=M[z(123)](we,M[z(165)](I.y,D),0,j0)}else{const I=k[z(204)][z(191)](H=>H.id===b.flowerId);if(!I)return;I.position.x=M.IQihO(we,b.startPos.x+j,0,j0),I[z(174)].y=M.uDcsO(we,M.mdYkN(b[z(131)].y,D),0,j0)}},!1)}},endFlowerDrag:()=>{const q=r,U=v[q(179)];U&&(!U.moved&&U.clickPetal?a.WcFZk(q(203),q(153))?U.isShiftPressed?a.raNtl!=="XqIkk"?a[q(177)](C,U[q(211)],U.clickPetal.layerId,U.clickPetal.index,!0):_0x1e6e71.current=null:a[q(129)](x,{kind:q(141),flowerId:U[q(211)],layerId:U[q(175)].layerId,index:U[q(175)].index}):a.tFMWt(_0x1243a5,{kind:q(141),flowerId:_0x230433.flowerId,layerId:_0x8b3764.clickPetal.layerId,index:_0x2fb0b6.clickPetal.index}):U.moved&&((f[q(213)]===a[q(140)]||a.cRhhA(f[q(213)],q(149))&&a[q(133)](f.flowerId,U.flowerId)||f[q(213)]===a.SXtIP&&a.WcFZk(f[q(211)],U.flowerId)||a.oxIze(f[q(213)],a.dKybB)&&f[q(211)]!==U.flowerId)&&x({kind:q(149),flowerId:U.flowerId}),m(()=>{},!0)),v[q(179)]=null)},scaleDragRef:N[r(192)],beginScaleDrag:N[r(151)],updateScaleDrag:N[r(164)],endScaleDrag:N[r(217)],rotationDragRef:N[r(194)],beginRotationDrag:N.beginRotationDrag,updateRotationDrag:N[r(190)],endRotationDrag:N.endRotationDrag,widthScaleDragRef:N.widthScaleDragRef,beginWidthScaleDrag:N[r(155)],updateWidthScaleDrag:N.updateWidthScaleDrag,endWidthScaleDrag:N.endWidthScaleDrag,radiusDragRef:N.radiusDragRef,beginRadiusDrag:N[r(124)],updateRadiusDrag:N.updateRadiusDrag,endRadiusDrag:N[r(154)]}}function xm({className:u}){return s.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function ai(u){const r=!!u.selected,a=!!u.muted,i=4+(u.level||0)*12+(u.leftOffset||0),f=Math.max(0,i),x=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:v=>{u.onDoubleClick&&(v.stopPropagation(),u.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${x}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?s.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:u.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?s.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:v=>{v.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(xm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function fm(u){const{project:r,selection:a,setSelection:i,isExpanded:f,toggleExpanded:x,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:v,addFlower:h,deleteSelected:d,addOuterLayer:_,deleteOuterLayer:S,deleteFlowerById:p,deleteLayerById:C,treeScrollRef:N,setExpandedFlowers:y}=u,g=(R,Z)=>{const P=a.kind==="flower"&&a.flowerId===R.id,Q=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(R.id),W=P||Q,X="",q=f(R.id),U=R.layers&&R.layers.length>0,M=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:b=>{b.stopPropagation(),_(R.id)},"aria-label":"Add outer layer",children:"+"}),U&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:b=>{b.stopPropagation(),S(R.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":R.id,"data-testid":`tree-flower-${R.id}`,style:{paddingLeft:Z},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${q?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:q?"Collapse layers":"Expand layers",onClick:b=>{b.stopPropagation(),x(R.id)},"aria-label":q?"collapse":"expand","data-tree-toggle":!0,children:q?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ai,{label:R.name,marker:X,selected:W,showTrash:P,onTrash:()=>p(R.id),rightActions:M,onClick:()=>m(R.id),onDoubleClick:()=>v(R.id),level:0,leftOffset:-18})})]}),q&&R.layers.slice().sort((b,j)=>j.order-b.order).map(b=>{const j=(a.kind==="layer"||a.kind==="petal")&&a.layerId===b.id;return s.jsx(ai,{label:`${b.order}. ${b.name}`,marker:"",selected:j,showTrash:j,onTrash:()=>C(R.id,b.id),onClick:()=>{i({kind:"layer",flowerId:R.id,layerId:b.id}),y(D=>({...D,[R.id]:!0}))},level:0,leftOffset:10,muted:!b.visible},b.id)})]},R.id)},B=u.groups,O=new Set(B.flatMap(R=>R.flowerIds)),E=r.flowers.filter(R=>!O.has(R.id)),G=new Set(B.flatMap(R=>R.leafIds)),Y=u.leaves.filter(R=>!G.has(R.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:N,"data-testid":"layer-tree",children:[s.jsx(ai,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),B.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...B].reverse().map(R=>{const Z=a.kind==="group"&&a.groupId===R.id,P="",Q=u.isGroupExpanded(R.id);return s.jsxs("div",{"data-group-id":R.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Q?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:Q?"":"",onClick:W=>{W.stopPropagation(),u.toggleGroupExpanded(R.id)},"aria-label":Q?"collapse group":"expand group",children:Q?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ai,{label:R.name,marker:P,selected:Z,onClick:()=>u.onSelectGroup(R.id),level:0,leftOffset:-18})})]}),Q&&R.flowerIds.map(W=>{const X=r.flowers.find(q=>q.id===W);return X?g(X,12):null}),Q&&R.leafIds.map(W=>{const X=u.leaves.find(U=>U.id===W);if(!X)return null;const q=a.kind==="leaf"&&a.leafId===X.id||a.kind==="leaves"&&a.leafIds.includes(X.id)||a.kind==="mixed"&&a.leafIds.includes(X.id);return s.jsx(ai,{label:` ${X.name}`,selected:q,showTrash:q,onTrash:()=>u.onDeleteLeaf(X.id),onClick:()=>u.onSelectLeaf(X.id),level:0,leftOffset:12,muted:!X.visible},X.id)})]},R.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...E].reverse().map(R=>g(R,0)),E.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[[...Y].reverse().map(R=>{const Z=a.kind==="leaf"&&a.leafId===R.id||a.kind==="leaves"&&a.leafIds.includes(R.id)||a.kind==="mixed"&&a.leafIds.includes(R.id);return s.jsx(ai,{label:R.name,selected:Z,showTrash:Z,onTrash:()=>u.onDeleteLeaf(R.id),onClick:()=>u.onSelectLeaf(R.id),level:0,leftOffset:0,muted:!R.visible},R.id)}),u.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const se=Gn;(function(u,r){const a=Gn,i=u();for(;;)try{if(-parseInt(a(323))/1+-parseInt(a(320))/2+-parseInt(a(274))/3*(-parseInt(a(289))/4)+-parseInt(a(342))/5+-parseInt(a(354))/6+-parseInt(a(363))/7*(-parseInt(a(296))/8)+parseInt(a(278))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,245179);const dm=(function(){let u=!0;return function(r,a){const i=u?function(){const f=Gn;if(a){const x=a[f(343)](r,arguments);return a=null,x}}:function(){};return u=!1,i}})(),Ds=dm(void 0,function(){const u=Gn,r={FnrTP:"(((.+)+)+)+$"};return Ds.toString().search(r[u(327)]).toString().constructor(Ds).search("(((.+)+)+)+$")});Ds();const t1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},n1={adult:"",child:""},l1={right:se(368),left:"",back:""};function Gn(u,r){u=u-263;const a=Y0();let i=a[u];if(Gn.eMKwxm===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Gn.BKxSXr=f,Gn.NhokPy={},Gn.eMKwxm=!0}const x=a[0],m=u+x,v=Gn.NhokPy[m];if(v)i=v;else{const h=function(d){this.wBUWcU=d,this.uetDKV=[1,0,0],this.aksNdq=function(){return"newState"},this.foYnqP="\\w+ *\\(\\) *{\\w+ *",this.jcbqYx=`['|"].+['|"];? *}`};h.prototype.urnfKE=function(){const d=new RegExp(this.foYnqP+this.jcbqYx),_=d.test(this.aksNdq.toString())?--this.uetDKV[1]:--this.uetDKV[0];return this.JIixJM(_)},h.prototype.JIixJM=function(d){return~d?this.dsarPq(this.wBUWcU):d},h.prototype.dsarPq=function(d){for(let _=0,S=this.uetDKV.length;_<S;_++)this.uetDKV.push(Math.round(Math.random())),S=this.uetDKV.length;return d(this.uetDKV[0])},new h(Gn).urnfKE(),i=Gn.BKxSXr(i),Gn.NhokPy[m]=i}return i}function Y0(){const u=["y2LKD04","mte3mtzcAwLswMm","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYaTndqGnIWGltiWidaSidaGma","qYa2nsa4mcWGnJGGoduSidC0idKW","qYa4mIa3ncWGodmGodySidGYidK4","qYa2nIa2ocWGntyGnZaSidq4idy2","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","mJaYntzzr0nluNy","uuPLwhq","qYa0oca3ncWGmJaGnJqSic04idu4","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYa3oca0mcWGnZGGntqSidCYidyY","r0PPEK0","qYa3oca5mYWGodiGotySidGZidK5","CMLNAhq","AM9PBG","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYa3mIa2osWGnJKGnZiSidy2idC2","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","tsaWidCW","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTncaTmsWGlteGlteSidaGma","BgvMDa","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYaXocaXlca0mcaXmcWGntiGmJy","tcaTmZyGmJGW","v0jSvLG","ntKZote0C2fOrevM","qYa0oca5mcWGntaGmta0lca0ocaXmty","qLP1s3G","mty2nZG5wuDMAwDe","qYaXncaTncWGmZyGltqSidq4idq","qYaTodmGodySic04mIa3ncWGltGWidyY","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","rM5Yvfa","BwPHvMK","qYa2mcaZocWGnJqGntiSidy0idy4","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","qYa3oca1mIWGnZCGnJaSidC0idy2","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","tsaTndyGmJy","qYaXnsaTmIWGmZGGltuSidu1idu","qYa2mIa2mcWGntKGnJqSidu3idy4","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","DgPey1q","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYa4msaXmdqSidG0ideXmcWGodqGmte2","ntK1odm1CM5oBe9m","yxbWBhK","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","tcaTotiGmJGW","l3rZDw1HBwKV","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","yKHSDKC","AgvPz2H0","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","tsaWida","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","qYaTnZaGntiSic02nIa0ocWGltyYidq0","mtm1otyXmKvIyvbVDa","qYa2nca0ncWGnJqGntaSidyZidu2","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","qYa2nca3ocWGnJyGodySidy2idK0","qYaTmJiGnIWGlteWideSidaGma","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","D2LKDgG","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYaTntqGmJaSic02nIaYmIWGltCYidmY","nti1C0ntBKvz","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYaTndmGmZiSic00ncaYocWGltq2idi2","qYaTodaGmta4lcaTodGGotySic04oca4na","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","5y+Z5zcr44gn","qYa2nsaXmIWGnZiGmJySidC2idqY","qYaTnJGGotySic03mca4ncWGlty2idC0","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaTntGGntaSic01nca1ocWGltuWidCW","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","qYaTndaGmtaSic0XocaXlcaWida","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYa2nIa4nIWGnJiGodGSidu4idKW","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","tsaTndaGmtqY","tsaTndaGmtm0","tsa0nIaYnG","qYaTndyGodySic00mIaXmdySic00mcaXmJy","mtG5qvzqBgr5","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","ywr1Bhq","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","nJeYmJqWm1fMywXpBq","DwjXAuu","tcaTndaGmtm0","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYa1nYa5msWGntCGotmSidu5idK1","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy"];return Y0=function(){return u},Y0()}const hm=[se(351),"C 15 -2, 38 -5, 55 5",se(369),se(331),se(308),se(292),se(304),se(267),"C 70 106, 70 108, 73 110",se(356),se(269),"C 56 137, 49 142, 43 146",se(295),se(337),"C 15 206, 5 221, -9 239","C -17 249, -25 259, -33 269",se(318),"L -125 280",se(277),"C -68 212, -56 200, -48 190",se(336),se(282),se(313),se(366),"C -88 72, -84 62, -76 56",se(353),"C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"].join(" "),mm=["M 0 0","C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62",se(293),se(341),"C 84 122, 82 128, 78 134","C 72 142, 60 152, 48 162",se(347),"C 28 198, 34 212, 48 228","C 58 240, 74 258, 92 280",se(345),"C -74 258, -58 240, -48 228",se(310),se(283),se(263),"C -82 128, -84 122, -84 116",se(344),se(325),"C -76 44, -68 30, -58 20",se(291),"Z",se(311),se(309),se(321),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"].join(" "),bm=["M 0 0","C 14 -4, 36 -4, 48 4",se(286),"C 64 44, 64 50, 63 56",se(335),"C 57 71, 59 75, 63 79","C 65 81, 66 83, 66 85",se(268),se(285),"C 60 97, 58 101, 54 106","C 50 111, 44 116, 38 120",se(330),se(339),"C -10 195, -18 209, -22 221","L -30 240","L -100 240","C -86 218, -72 200, -58 186",se(352),se(326),se(307),"C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44","C -44 34, -38 22, -30 14",se(358),"Z"][se(306)](" "),gm=[se(351),se(317),se(329),se(357),se(367),"C 54 120, 44 130, 38 140","C 30 152, 32 166, 55 202","C 60 214, 66 228, 70 240","L -70 240",se(265),se(300),"C -44 130, -54 120, -60 112","C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68",se(301),"C -40 10, -18 1, 0 0","Z",se(272),"C 54 20, 66 22, 72 32",se(302),"C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z",se(333),se(362),"C -78 40, -78 54, -72 62",se(284),se(361),se(365),"Z"][se(306)](" "),vm=["M 0 0",se(334),se(369),"C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76",se(298),"C -30 54, -48 48, -62 44","C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0",se(314),"Z",se(270),"C -48 134, -58 126, -68 118",se(366),"C -88 72, -84 62, -76 56",se(353),se(264),se(273),"L -40 142","Z"][se(306)](" "),ym=[se(351),"C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",se(341),se(316),se(275),se(299),"C -42 152, -62 142, -78 134","C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98",se(325),"C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",se(311),se(309),se(321),se(350),"C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"].join(" "),pm=[se(351),se(324),"C 55 10, 60 22, 63 36",se(355),"C 44 54, 16 48, -10 46","C -28 46, -40 44, -50 44",se(364),se(358),"Z",se(271),"C -48 126, -56 116, -62 106",se(370),"C -62 64, -56 54, -50 44",se(340),se(287),se(280),"Z"][se(306)](" "),_m=["M 0 0","C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94",se(367),"C 46 118, 26 124, 12 126","C 0 127, -12 126, -26 124","C -46 118, -60 112, -60 112",se(332),"C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26",se(266),"Z",se(272),se(290),se(302),se(294),"C 42 62, 40 50, 42 38",se(312),"Z","M -46 26",se(362),"C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66",se(361),"C -43 32, -44 28, -46 26","Z"].join(" ");function Sm(u,r){const a=se,i={BZuKx:a(305),cidwN:function(x,m){return x===m},AIZKG:"adult"},f=r===i[a(322)]||i[a(288)](r,a(315));return i[a(288)](u,i.AIZKG)?f?hm:mm:f?bm:gm}function Cm(u,r){const a=se,i={xJZyq:function(x,m){return x===m},ZTxlG:a(305),ZKxAe:a(315),Lubdq:function(x,m){return x===m},BgTTY:a(276)},f=i.xJZyq(r,i.ZTxlG)||i.xJZyq(r,i.ZKxAe);return i.Lubdq(u,i.BgTTY)?f?vm:ym:f?pm:_m}const wm={right:se(346)+se(359),left:"/tsumami/stencils/adult_left.png",back:se(346)+"stencils/adult_back.png"},Mm={right:"/tsumami/stencils/child_right.png",left:"/tsumami/stencils/child_left.png",back:"/tsumami/"+se(281)},jm={adult:wm,child:Mm};function zm(u,r){const a=se,i={WBlVX:function(v,h){return v===h},vzSdN:a(305),mjaVi:a(315),vnTOd:"back",ubqiE:function(v,h,d){return v(h,d)}},f=i[a(319)](r,i.vzSdN)||r===i.mjaVi?"side":i.vnTOd,x=t1[u][f],m=jm[u]?.[r]??null;return{path:i[a(279)](Sm,u,r),hairPath:i[a(279)](Cm,u,r),scaleX:i.WBlVX(r,i[a(328)])?-1:1,imageUrl:m,imageWidthMm:x[a(360)],imageHeightMm:x.height}}(function(u,r){const a=Wt,i=u();for(;;)try{if(parseInt(a(473))/1*(parseInt(a(444))/2)+-parseInt(a(415))/3+-parseInt(a(413))/4*(-parseInt(a(477))/5)+parseInt(a(445))/6*(-parseInt(a(451))/7)+-parseInt(a(421))/8*(-parseInt(a(398))/9)+-parseInt(a(456))/10*(parseInt(a(475))/11)+parseInt(a(462))/12*(parseInt(a(427))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,528790);const Nm=(function(){const u=Wt,r={LCMBM:function(i,f){return i===f},VPBJn:u(478)};let a=!0;return function(i,f){const x=u;if(r[x(403)](r[x(404)],r.VPBJn)){const m=a?function(){const v=x;if(f){const h=f[v(470)](i,arguments);return f=null,h}}:function(){};return a=!1,m}else _0x47fa3b.removeEventListener("touchstart",_0x52f59f),_0x4b45bb[x(454)](x(452),_0x26d228),_0x51085c[x(454)]("touchend",_0x3c840a),_0x1a376f[x(454)](x(441),_0x3638f8)}})(),As=Nm(void 0,function(){const u=Wt;return As[u(422)]()[u(424)](u(461)).toString().constructor(As)[u(424)](u(461))});As();function Wt(u,r){u=u-393;const a=U0();let i=a[u];if(Wt.YuwloO===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Wt.aqJeKi=f,Wt.tkGFef={},Wt.YuwloO=!0}const x=a[0],m=u+x,v=Wt.tkGFef[m];if(v)i=v;else{const h=function(d){this.brcigq=d,this.yrTyUo=[1,0,0],this.zBKMLw=function(){return"newState"},this.DgjUKc="\\w+ *\\(\\) *{\\w+ *",this.gUuQdD=`['|"].+['|"];? *}`};h.prototype.knAtaC=function(){const d=new RegExp(this.DgjUKc+this.gUuQdD),_=d.test(this.zBKMLw.toString())?--this.yrTyUo[1]:--this.yrTyUo[0];return this.kqehUC(_)},h.prototype.kqehUC=function(d){return~d?this.iQjUGY(this.brcigq):d},h.prototype.iQjUGY=function(d){for(let _=0,S=this.yrTyUo.length;_<S;_++)this.yrTyUo.push(Math.round(Math.random())),S=this.yrTyUo.length;return d(this.yrTyUo[0])},new h(Wt).knAtaC(),i=Wt.aqJeKi(i),Wt.tkGFef[m]=i}return i}const ds=520;function U0(){const u=["ywjZ","BgvUz3rO","EhvMruy","tennqK0","vLbcsM4","Ahzxswu","D2LKDgG","q2zguge","y2XPzw50wq","uwjPAuS","tgPgr2q","vLLstgy","v3bWuuW","mtuWmgXIwgz4Ba","zxHW","mtK0nti5owrvuhLQuW","Aw5PDgLHBenLBNrLCG","Dg91y2HLCW","tujkvxi","wMLjALC","AgvPz2H0","mtzMDNjtt3G","Dg9tDhjPBMC","r2XVqwm","C2vHCMnO","vMHNt0q","A3DWruy","mtnwq3nfveG","ELDwBMy","y3vYCMvUDa","u1bnwKy","ANPxwfy","r2DqBgi","EuLXsMq","EKTLEgq","CgfU","Dg9W","y1rNAha","tKPSr2G","zLnKtxu","DgvhCK4","D2HLzwW","rvzjBxK","B2XpALC","mJe1otz2A3jLvvO","ndC4mJm2nMrRCe1quq","tuLbsgu","v0Hxwem","s3DYrM4","ChjLDMvUDerLzMf1Bhq","wu9MDeC","n1nUsM5iCW","Dg91y2HTB3zL","wKX3tgS","CMvTB3zLrxzLBNrmAxn0zw5LCG","sg10r2K","ndC5mhH3DerUua","y2XPzw50wa","Aw5PDgLHBfPVB20","EvLKyMi","t2nLuLe","kcGOlISPkYKRksSK","mJa1odqYmfngv0flAG","thfWCwm","Ahvjt2i","C2LgELu","AhLWB3q","Aw5PDgLHBfbHBG","AwvhDKm","Bwf4","yxbWBhK","uxHtCwe","Dg9gAxHLza","nZzivuHZCue","CuHiqvi","mtC4ndjNyLfPCLO","yu5hBLG","mti2nZvkq2jYu1y","t3flvLe","EM9VBuXLDMvS","ywjnANi","wvLoDMG","DvnvBuO","zuTmv2C","mZyZnZG2m2PtAeziuW","z2v0qM91BMrPBMDdBgLLBNrszwn0"];return U0=function(){return u},U0()}function Zd(u,r,a,i,f,x,m){const v={pFkqv:function(d,_){return d-_},VeEkg:function(d,_){return d*_},owXPp:function(d,_){return d*_}},h=i/a-1;return{x:v.pFkqv(m.x,v.VeEkg(h,-m.x+u*f)),y:m.y-h*(-m.y+v.owXPp(r,x))}}function Dm(u){const r=Wt,a={gArGd:function(M,b){return M*b},ieGvC:function(M,b){return M+b},ItcYj:function(M,b){return M*b},KwrFn:function(M,b){return M*b},uxxUA:function(M,b){return M*b},NJlGh:function(M,b){return M===b},GloAc:"GSTTB",YOftG:function(M,b){return M-b},kwpEF:function(M,b){return M/b},abMjr:function(M,b){return M+b},olOjW:function(M,b){return M*b},EVImy:function(M,b){return M!==b},adXZh:r(425),vojcg:r(460),xufEF:function(M,b){return M===b},QxSqa:function(M){return M()},VMuXl:function(M){return M()},YYNvh:function(M,b){return M/b},SPMZF:function(M){return M()},cTghp:function(M){return M()},aNGnX:function(M){return M()},fSdMu:function(M){return M()},VYRLf:function(M,b){return M-b},hvWIe:function(M,b){return M!==b},HmtGi:"Efeqw",rCaRX:function(M,b){return M+b},QbiiK:function(M,b){return M*b},yYdbb:function(M,b){return M-b},DMPDn:function(M,b){return M-b},EBrer:function(M,b){return M+b},GgPlb:function(M,b){return M/b},siFzU:function(M,b){return M/b},uZIoZ:function(M,b){return M*b},UdpPb:function(M,b){return M*b},CfFPa:function(M,b){return M-b},Lqpqc:function(M,b){return M/b},CIBqE:function(M,b){return M-b},ZLwLk:function(M,b){return M(b)},MBJUr:"touchmove",yIqJd:r(441),huIOb:r(446),TEzDw:function(M,b,j,D,A,T,k,z){return M(b,j,D,A,T,k,z)},eKLWg:function(M,b){return M(b)},dUEna:function(M,b){return M(b)},eGTit:function(M,b){return M(b)},jzWXV:function(M,b){return M!==b},qmYMx:"wospK",TWQzT:function(M,b){return M(b)},zKexd:function(M,b,j){return M(b,j)},teGrN:function(M,b,j){return M(b,j)},ZiIjW:function(M,b,j){return M(b,j)}},{setZoom:i,setPan:f,setZoomLevel:x,ZOOM_LEVELS:m,stageRef:v,endPan:h,endFlowerDrag:d,endMarquee:_,endRotationDrag:S,endScaleDrag:p,endWidthScaleDrag:C,endRadiusDrag:N}=u,y=ee.useRef(null),g=ee.useRef(u[r(435)]),B=a.TWQzT(ee.useRef,u.zoom);a.zKexd(ee.useEffect,()=>{const M=r;if(a[M(438)](M(396),a[M(423)])){const b=_0x1f0121/_0xcc5716-1;return{x:_0xc400fa.x-wNuvFu.gArGd(b,wNuvFu.ieGvC(-_0x59768e.x,wNuvFu.ItcYj(_0x35013a,_0x2f8c20))),y:_0x2660eb.y-wNuvFu[M(448)](b,-_0x3e485e.y+wNuvFu.uxxUA(_0x182172,_0x80fca6))}}else g[M(429)]=u.pan},[u.pan]),a[r(440)](ee.useEffect,()=>{B.current=u.zoom},[u.zoom]);const O=a[r(397)](ee.useRef,u[r(393)]);a[r(419)](ee.useEffect,()=>{O.current=u.zoomLevel},[u[r(393)]]);const E=ee.useRef(null),G=ee.useRef(null),Y=ee.useCallback(M=>{const b=r,j={YTIFW:function(D,A){return D/A},gxNcC:function(D,A){return a[Wt(450)](D,A)},LjFGd:function(D,A){return D*A},qHHAR:function(D,A){return a.kwpEF(D,A)},zWVnf:function(D,A){return a[Wt(394)](D,A)},yuhsI:function(D,A){return a[Wt(443)](D,A)}};if(a[b(442)](a.adXZh,a.vojcg)){if(a[b(402)](M.touches[b(401)],2)){M.preventDefault(),h(),d(),a[b(471)](_),a.VMuXl(S),p(),a.VMuXl(C),a.VMuXl(N),E.current=null,G.current=null;const D=M.touches[0],A=M[b(417)][1],T=a[b(395)](D.clientX+A.clientX,2),k=a[b(468)](D[b(408)],A.clientY)/2,z=Math[b(466)](A[b(457)]-D[b(457)],A.clientY-D[b(408)]);y[b(429)]={initialCenter:{x:T,y:k},initialDist:z,initialPan:{...g.current},initialZoom:B.current}}}else{const D=_0x90d37e.getBoundingClientRect(),A=j.YTIFW(_0x359db1.initialCenter.x-D.left,D.width),T=j.gxNcC(_0x59228a.initialCenter.y,D[b(436)])/D[b(420)],k=D.width/D.height,z=_0x22a263,I=j[b(410)](z,k),H=(j[b(474)](_0x5d2927,_0x5b531f)-1)*(-_0x284473.initialPan.x+A*I),V=(j.qHHAR(_0x75aa45,_0x3d8fca)-1)*j[b(428)](-_0x27050d.initialPan.y,j.yuhsI(T,z));_0x533ee6-=H,_0x234a3d-=V}},[h,d,_,S,p,C,N]),R=a.teGrN(ee.useCallback,M=>{const b=r;if(a[b(405)](a[b(455)],"dMBAX")){if(M[b(417)].length===2&&y.current){M[b(449)]();const j=M.touches[0],D=M.touches[1],A=(j[b(457)]+D[b(457)])/2,T=a.rCaRX(j[b(408)],D.clientY)/2,k=Math.hypot(D.clientX-j.clientX,a.VYRLf(D.clientY,j.clientY)),z=y.current,I=k/Math[b(469)](1,z.initialDist),H=we(Number(a[b(409)](z.initialZoom,I)[b(472)](3)),m[0],m[a.yYdbb(m[b(401)],1)]),V=z[b(458)],F=a[b(459)](A,z[b(416)].x),ae=a.DMPDn(T,z[b(416)].y);let oe=z[b(467)].x+F,me=a.EBrer(z[b(467)].y,ae);const fe=v[b(429)];if(fe&&a.EVImy(V,H)){const he=fe.getBoundingClientRect(),Ue=(z.initialCenter.x-he.left)/he[b(406)],Ge=a[b(432)](a.yYdbb(z[b(416)].y,he.top),he[b(420)]),tt=a.siFzU(he[b(406)],he.height),nt=ds,vt=a.uZIoZ(nt,tt),Yt=a[b(459)](a[b(426)](H,V),1)*a.abMjr(-z.initialPan.x,Ue*vt),zt=a.UdpPb(H/V-1,-z.initialPan.y+Ge*nt);oe-=Yt,me-=zt}const be={x:oe,y:me};B.current=H,g[b(429)]=be,f(be),i(H)}}else if(a[b(438)](_0x923411.touches[b(401)],2)){_0x1e9523[b(449)](),_0x3c186f(),a[b(430)](_0x4fb345),_0x718271(),a[b(437)](_0x3a55b9),a.QxSqa(_0x12df4d),a[b(476)](_0x439bed),a[b(439)](_0x3c81a6),_0x54f7b7.current=null,_0x285822[b(429)]=null;const j=_0x2285be[b(417)][0],D=_0x1f14f8[b(417)][1],A=a.YYNvh(a[b(468)](j.clientX,D.clientX),2),T=(j.clientY+D.clientY)/2,k=_0x36fb82.hypot(a.VYRLf(D.clientX,j[b(457)]),D[b(408)]-j.clientY);_0x18bf71[b(429)]={initialCenter:{x:A,y:T},initialDist:k,initialPan:{..._0x41ac0a[b(429)]},initialZoom:_0x2a21e8[b(429)]}}},[f,i,v,m]),Z=ee.useCallback(M=>{const b=r;M.touches[b(401)]<2&&(y.current=null)},[]),P=.003,Q=ee.useCallback(M=>{const b=r;M[b(449)]();const j=v.current;if(!j)return;const D=B[b(429)],A=D*Math[b(414)](-M.deltaY*P),T=we(A,m[0],m[m.length-1]);if(Math[b(400)](a[b(407)](T,D))<1e-6)return;const k=j[b(399)](),z=a[b(463)](a.CIBqE(M[b(457)],k.left),k[b(406)]),I=a[b(432)](M.clientY-k[b(436)],k[b(420)]),H=a[b(465)](k[b(406)],k[b(420)]),V=ds,F=V*H,ae=Zd(z,I,D,T,F,V,g.current);B[b(429)]=T,g[b(429)]=ae,a[b(453)](i,T),f(ae)},[i,f,v,m]);a[r(434)](ee.useEffect,()=>{const M=r;if(M(412)!==a[M(464)]){const b=v[M(429)];return b?(b.addEventListener("touchstart",Y,{passive:!1}),b.addEventListener(a[M(418)],R,{passive:!1}),b.addEventListener("touchend",Z),b.addEventListener(a[M(433)],Q,{passive:!1}),()=>{const j=M;b[j(454)]("touchstart",Y),b.removeEventListener(a[j(418)],R),b.removeEventListener("touchend",Z),b.removeEventListener(a[j(433)],Q)}):void 0}else _0x10d519[M(429)]=_0x24756e.zoomLevel},[v,Y,R,Z,Q]);const W=ee.useCallback(M=>{const b=r,j=O[b(429)],D=we(j+M,0,a[b(411)](m[b(401)],1));if(a[b(402)](D,j))return;const A=B.current,T=m[D],k=v.current;if(!k)if(b(447)==="wrsgI")_0x26ac79[b(429)]=null;else{x(D);return}const z=k.getBoundingClientRect(),I=z.width/z[b(420)],H=ds,V=H*I,F=a.TEzDw(Zd,.5,.5,A,T,V,H,g[b(429)]);B.current=T,O.current=D,g.current=F,a.ZLwLk(x,D),a[b(397)](f,F)},[x,f,v,m]),X=ee.useCallback((M,b)=>{const j=r;O.current=M,B.current=b,g[j(429)]={x:0,y:0},a.dUEna(x,M),a.eGTit(f,{x:0,y:0})},[x,f]),q=ee.useCallback(M=>{E.current=M},[]),U=ee.useCallback(M=>{const b=r;a[b(431)]("POmeH",a.qmYMx)?G[b(429)]=M:_0x541252.current=_0x4877d9},[]);return{multiTouchRef:y,touchBgStartRef:E,mouseBgStartRef:G,zoomAtCenter:W,resetView:X,setTouchBgStart:q,setMouseBgStart:U}}function ii(u,r){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),i=parseInt(u.slice(3,5),16),f=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(f))return u;const x=1-r;return`#${Math.round(a*x).toString(16).padStart(2,"0")}${Math.round(i*x).toString(16).padStart(2,"0")}${Math.round(f*x).toString(16).padStart(2,"0")}`}function Am(u){const{flower:r,project:a,paletteMap:i}=u,f=ee.useRef(null),x=ee.useRef(!1),m=ee.useRef(null);ee.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const v=ee.useMemo(()=>[...r.layers||[]].sort((O,E)=>O.order-E.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:d,width:_}=Ot(h),{flowerOuterR:S,centerHitR:p}=ee.useMemo(()=>{let O=12,E=1/0;for(const Y of v){if(!Y.visible)continue;const R=Y.scale??1,Z=d*R,Q=Math.max(0,Y.radius-Z*.28),W=Q+Z;O=Math.max(O,W),Q<E&&(E=Q)}isFinite(E)||(E=0);const G=Math.max(E*.9,8);return{flowerOuterR:O,centerHitR:G}},[v,d]),C=(O,E)=>O?.petalOverrides?.find(G=>G.index===E)??null,N="pointer",y=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,g=u.zoneCursorValue??"grab",B=O=>{if(O.stopPropagation(),O.button===0){if(O.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(O)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:O=>{O.stopPropagation(),u.onDoubleClick?.()},style:{cursor:y?g:cr("/tsumami/")},"data-testid":`flower-${r.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,S),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),v.map(O=>{if(!O.visible)return null;const G=i.get(O.colorId)?.hex??"#999",Y=360/Math.max(1,O.petalCount),R=O.scale??1,Z=d*R,Q=_*(O.widthScale??1)*R,X=Math.max(0,O.radius-Z*.28),q=gs(""),U=gs(""),M=X+Z,b=u.isSelected&&u.selectedLayerId===O.id,j=u.isSelected&&(u.selectedPetal?.layerId===O.id||(u.selectedPetals?.some(D=>D.layerId===O.id)??!1));return s.jsxs("g",{children:[Array.from({length:O.petalCount}).map((D,A)=>{const T=C(O,A),z=(T?.petalType??O.petalType)===""?q:U,I=i.get(T?.colorId??O.colorId)?.hex??G,H=O.offsetAngle+A*Y,V=Sa(H),F=Math.cos(V)*X,ae=Math.sin(V)*X,oe=u.isSelected&&u.selectedPetal?.layerId===O.id&&u.selectedPetal?.index===A,me=u.isSelected&&(u.selectedPetals?.some(he=>he.layerId===O.id&&he.index===A)??!1),fe=oe||me,be=y?g:cr("/tsumami/");return s.jsxs("g",{transform:`translate(${F} ${ae}) rotate(${H})`,children:[s.jsx("path",{d:z,transform:`scale(${Z} ${Q})`,fill:I,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:O.locked?.55:.95,style:{cursor:be},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const Ue=he.shiftKey,Ge=he.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),x.current=!1,Ue&&u.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),u.onTogglePetalSelection(O.id,A,!0);return}if(Ge&&u.onTogglePetalSelection){m.current={x:he.clientX,y:he.clientY};const Yt=O.id,zt=A;f.current=window.setTimeout(()=>{x.current=!0,f.current=null,u.onTogglePetalSelection?.(Yt,zt,!0),navigator.vibrate?.(30)},500)}const tt=u.isSelected&&u.selectedLayerId!=null,nt=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||tt||nt){u.onBeginDragFromLayerPetal(O.id,A,he);return}u.onBeginDragFromLayerPetal(O.id,A,he)},onPointerMove:he=>{if(f.current&&m.current){const Ue=he.clientX-m.current.x,Ge=he.clientY-m.current.y;Math.hypot(Ue,Ge)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:he=>{he.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(O.id)}}),O.doublePetal&&(()=>{const he=O.doublePetal,Ue=T?.innerSizeReduction??he.innerSizeReduction??2,Ge=h*(R||1);if(Ge<=0)return null;const nt=Math.max(Ge*.3,Ge-Ue)/Ge,vt=z,Yt=T?.innerColorId??he.innerColorId??T?.colorId??O.colorId,zt=i.get(Yt)?.hex??I,yt=Z*nt,Ut=Q*nt;return s.jsx("path",{d:vt,transform:`scale(${yt} ${Ut})`,fill:zt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:O.locked?.55:.95,pointerEvents:"none"})})(),(fe||b||u.isFlowerSelected)&&s.jsx("path",{d:z,transform:`scale(${Z} ${Q})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${O.id}-${A}`)]},A)}),b&&!j&&s.jsx("circle",{r:M,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},O.id)}),u.isFlowerSelected&&s.jsx("circle",{r:S,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const O=r.center,E=k2(O.size),G=i.get(O.color)?.hex??"#D4A843",Y=O.color2?i.get(O.color2)?.hex??"#C0C0C0":"#D4A843",R=Math.max(E,p);switch(O.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:E,fill:G,stroke:ii(G,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:R,fill:"transparent",style:{cursor:N},onPointerDown:B})]});case"":{const P=E*.42,Q=E,W=E*.12,X=E*.13,q=E*.45,U=Y,M=G;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((b,j)=>{const D=j/10*360,A=Sa(D),T=Math.cos(A)*Q,k=Math.sin(A)*Q,z=-Math.sin(A)*W,I=Math.cos(A)*W,H=Math.cos(A)*P,V=Math.sin(A)*P;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(H+z).toFixed(2)} ${(V+I).toFixed(2)} L ${T.toFixed(2)} ${k.toFixed(2)} L ${(H-z).toFixed(2)} ${(V-I).toFixed(2)} Z`,fill:U,stroke:ii(U,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:T,cy:k,r:X,fill:U,stroke:ii(U,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},j)}),s.jsx("circle",{r:P,fill:U,stroke:ii(U,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:q,fill:M,stroke:ii(M,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:R,fill:"transparent",style:{cursor:N},onPointerDown:B})]})}case"":{const Z=O.pepCount??12,P=E*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:Z}).map((Q,W)=>{const X=W/Z*360,q=Sa(X),U=Math.cos(q)*E,M=Math.sin(q)*E;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:U,y2:M,stroke:G,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:U,cy:M,r:Math.max(P,1),fill:G,stroke:ii(G,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},W)})}),s.jsx("circle",{r:R,fill:"transparent",style:{cursor:N},onPointerDown:B})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:p,fill:"transparent",style:{cursor:N},onPointerDown:B})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:p,fill:"transparent",style:{cursor:N},onPointerDown:B})]}),(()=>{if(!u.isSelected||!u.selectedLayerId)return null;const O=v.find(P=>P.id===u.selectedLayerId);if(!O||!O.visible||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0)return null;const G=O.scale??1,Y=d*G,Z=Math.max(0,O.radius-Y*.28);return Z<=0?null:s.jsx("circle",{r:Z,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),u.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,S+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function Lm(u){const{leaf:r,project:a,paletteMap:i}=u,f=r.fabricSquareSize??a.fabricSquareSize,{length:x,width:m}=Ot(f),v=r.scale??1,h=x*v,d=m*(r.widthScale??1)*v,_=gs(r.petalType),S=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":u.cursor??cr("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:p=>{if(p.stopPropagation(),p.button===0&&!r.locked){if(p.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(p)}},children:[s.jsx("path",{d:_,transform:`scale(${h} ${d})`,fill:S,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const p=r.doublePetal,C=p.innerSizeReduction??2,N=f*(v||1);if(N<=0)return null;const g=Math.max(N*.3,N-C)/N,B=p.innerColorId??r.colorId,O=i.get(B)?.hex??S,E=h*g,G=d*g;return s.jsx("path",{d:_,transform:`scale(${E} ${G})`,fill:O,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),u.isLeafGroupHighlighted&&!u.isSelected&&s.jsx("path",{d:_,transform:`scale(${h*1.06} ${d*1.06})`,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`grp-${u.dashSyncToken??0}-${r.id}`),u.isSelected&&s.jsxs(s.Fragment,{children:[s.jsx("path",{d:_,transform:`scale(${h} ${d})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${r.id}`),s.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})]})}const ci=1350;function Tm(u){const{stencils:r,selectedStencilId:a,selection:i,stageRef:f,applyUpdateRef:x,clientToSvgPointRef:m,stencilDraggingRef:v,onSelectStencil:h}=u,d=ee.useRef(null);ee.useEffect(()=>()=>{d.current?.()},[]);const _=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(S=>{const p=zm(S.variant,S.pose),C=a===S.id,N=un,y=p.imageUrl?1:p.scaleX,g=_||!!S.locked;return s.jsx("g",{transform:`translate(${S.position.x} ${S.position.y}) scale(${N*y} ${N})`,style:{cursor:_?"default":S.locked?"pointer":um("/tsumami/"),pointerEvents:_?"none":"auto"},"data-testid":`stencil-${S.id}`,onPointerDown:B=>{if(B.button!==0)return;if(g){h(S.id);return}if(B.stopPropagation(),h(S.id),!f.current)return;v.current=!0,f.current&&(f.current.style.cursor=cm("/tsumami/"));const E=m.current(B),G={...S.position},Y=S.id;let R=G.x,Z=G.y;const P=W=>{const X=m.current(W),q=X.x-E.x,U=X.y-E.y;R=we(G.x+q,0,ci),Z=we(G.y+U,0,ci),x.current(M=>{const b=(M.stencils??[]).find(j=>j.id===Y);b&&(b.position.x=R,b.position.y=Z)},!1)},Q=()=>{v.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",Q),d.current=null,x.current(W=>{const X=(W.stencils??[]).find(q=>q.id===Y);X&&(X.position.x=R,X.position.y=Z)},!0)};document.addEventListener("pointermove",P),document.addEventListener("pointerup",Q),d.current=()=>{v.current=!1,document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",Q)}},children:p.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:p.imageUrl,x:-p.imageWidthMm/2,y:0,width:p.imageWidthMm,height:p.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-p.imageWidthMm/2,y:0,width:p.imageWidthMm,height:p.imageHeightMm,fill:"transparent",stroke:C?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:p.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:p.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),C&&s.jsx("path",{d:p.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},S.id)})})}function Em(u){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,zoneCursorValue:m,dashSyncToken:v,stageRef:h,multiTouchRef:d,clientToSvgPoint:_,togglePetalSelection:S,handleShiftFlowerSelect:p,groupHighlightedFlowerIds:C,beginFlowerDrag:N,beginScaleDrag:y,beginRotationDrag:g,beginWidthScaleDrag:B,beginRadiusDrag:O,clickOriginRef:E,zoneActivatedRef:G,setZoneCursorValue:Y,setTouchZoneIndicator:R,hoverZoneRef:Z,hoverHitLayerIdRef:P,hoverHitPetalIndexRef:Q}=u;return s.jsx(s.Fragment,{children:r.flowers.map(W=>s.jsx(Am,{flower:W,project:r,paletteMap:f,isSelected:a.kind!=="project"&&x===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||a.kind==="mixed"&&a.flowerIds.includes(W.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||a.kind==="mixed"&&a.flowerIds.includes(W.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===W.id?a.petals:null,onSelect:()=>{const X=Ml(r,W.id);if(X&&!(a.kind==="group"&&a.groupId===X.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&X.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:X.id});return}i({kind:"flower",flowerId:W.id})},onSelectLayer:X=>i({kind:"layer",flowerId:W.id,layerId:X}),onSelectPetal:(X,q)=>i({kind:"petal",flowerId:W.id,layerId:X,index:q}),onTogglePetalSelection:(X,q,U)=>S(W.id,X,q,U),onShiftSelect:()=>p(W.id),isGroupHighlighted:C.has(W.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(X,q,U)=>{if(d.current)return;const M=Ml(r,W.id);if(M&&!(a.kind==="group"&&a.groupId===M.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&M.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:M.id}),N(W.id,U);return}const b=_(U),j=U.pointerType==="touch",D=a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="petal"&&a.flowerId===W.id||a.kind==="petals"&&a.flowerId===W.id;if(j&&D){const{zone:k,layerId:z,petalIndex:I}=ri(b.x,b.y,W,r,a),{length:H}=Ot(W.fabricSquareSize??r.fabricSquareSize),V=z0(k,a.kind,{hitLayerId:z,flower:W,length:H});if(V!=="none"&&V!=="center"&&V!=="move"){R({x:b.x,y:b.y,zone:V});const F=a.kind==="layer"?"layer":"flower",ae=a.kind==="layer"?a.layerId:X;switch(V){case"rotate":g(F,W.id,U,{layerId:ae});return;case"scale":y(F,W.id,U,{layerId:ae});return;case"width":B(F,W.id,U,{layerId:ae,petalIndex:I});return;case"radius":O(F,W.id,U,{layerId:ae});return}}N(W.id,U,{layerId:X,index:q});return}const A=G.current;E.current={x:b.x,y:b.y},G.current=!1;const T=Z.current;if(D&&(A||T!=="none"&&T!=="center")){const k=T,z=P.current,I=Q.current,H=a.kind==="layer"?"layer":"flower",V=a.kind==="layer"?a.layerId:z??X;switch(k){case"rotate":g(H,W.id,U,{layerId:V});return;case"scale":y(H,W.id,U,{layerId:V});return;case"width":B(H,W.id,U,{layerId:V,petalIndex:I});return;case"radius":O(H,W.id,U,{layerId:V});return;default:Y(Yn("/tsumami/")),h.current&&(h.current.style.cursor=Yn("/tsumami/")),N(W.id,U,{layerId:X,index:q});return}}Y(Yn("/tsumami/")),h.current&&(h.current.style.cursor=Yn("/tsumami/")),N(W.id,U,{layerId:X,index:q})},onDoubleClick:()=>i({kind:"flower",flowerId:W.id}),onPointerDown:X=>{if(d.current||X.button!==0)return;if(X.shiftKey){X.stopPropagation(),p(W.id);return}const q=Ml(r,W.id);if(q&&!(a.kind==="group"&&a.groupId===q.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&q.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:q.id}),N(W.id,X);return}a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||i({kind:"flower",flowerId:W.id});const M=_(X);E.current={x:M.x,y:M.y},G.current=!1,Y(Yn("/tsumami/")),h.current&&(h.current.style.cursor=Yn("/tsumami/")),N(W.id,X)},dashSyncToken:v},W.id))})}function qm(u){const{leaves:r,project:a,selection:i,paletteMap:f,dashSyncToken:x,groupHighlightedLeafIds:m,zoneCursorValue:v,stageRef:h,applyUpdateRef:d,clientToSvgPointRef:_,leafDraggingRef:S,clickOriginRef:p,zoneActivatedRef:C,setZoneCursorValue:N,onSelectLeaf:y,onSelectGroup:g,onShiftSelectLeaf:B,hoverLeafZoneRef:O}=u,E=ee.useRef(null);return ee.useEffect(()=>()=>{E.current?.()},[]),s.jsx(s.Fragment,{children:r.map(G=>{if(!G.visible)return null;const Y=i.kind==="leaf"&&i.leafId===G.id,R=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(G.id),Z=m.has(G.id),P=ea(a,G.id),Q=P?.rotation??0;let W=G;if(P&&Q!==0){const X=N2(a,P.id),q=Q*Math.PI/180,U=G.position.x-X.x,M=G.position.y-X.y;W={...G,position:{x:X.x+U*Math.cos(q)-M*Math.sin(q),y:X.y+U*Math.sin(q)+M*Math.cos(q)},rotation:G.rotation+Q}}return s.jsx(Lm,{leaf:W,project:a,paletteMap:f,isSelected:Y||R,isLeafGroupHighlighted:Z,dashSyncToken:x,cursor:Y?v:void 0,onPointerDown:X=>{if(G.locked)return;X.stopPropagation();const q=_.current(X);if(P&&!(i.kind==="group"&&i.groupId===P.id||i.kind==="leaf"&&P.leafIds.includes(i.leafId))){g(P.id),S.current=!0,p.current={x:q.x,y:q.y},C.current=!1,N(Yn("/tsumami/")),h.current&&(h.current.style.cursor=Yn("/tsumami/"));const D=q,A=Yd(a,G.id),T=new Map;for(const H of A){const V=r.find(F=>F.id===H);V&&T.set(H,{...V.position})}let k=!1;const z=H=>{const V=_.current(H),F=V.x-D.x,ae=V.y-D.y;Math.abs(F)+Math.abs(ae)>1&&(k=!0),d.current(oe=>{for(const[me,fe]of T){const be=(oe.leaves??[]).find(he=>he.id===me);be&&(be.position.x=we(fe.x+F,0,ci),be.position.y=we(fe.y+ae,0,ci))}},!1)},I=()=>{E.current=null,S.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",I),k&&d.current(()=>{},!0)};document.addEventListener("pointermove",z),document.addEventListener("pointerup",I),E.current=()=>{S.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",I)};return}const U=Y&&C.current;y(G.id),p.current={x:q.x,y:q.y},C.current=!1,N(Yn("/tsumami/")),h.current&&(h.current.style.cursor=Yn("/tsumami/"));const M=O.current,b=Y&&(U||M!=="none")?M:"move";if(b!=="move"){const j=nr(b,"/tsumami/");N(j),h.current&&(h.current.style.cursor=j)}if(S.current=!0,b==="rotate"){const j=W.position,D=G.rotation,A=Math.atan2(q.y-j.y,q.x-j.x)*180/Math.PI;let T=!1;const k=I=>{const H=_.current(I),F=Math.atan2(H.y-j.y,H.x-j.x)*180/Math.PI-A;Math.abs(F)>.5&&(T=!0),d.current(ae=>{const oe=(ae.leaves??[]).find(me=>me.id===G.id);oe&&(oe.rotation=((D+F)%360+360)%360)},!1)},z=()=>{E.current=null,S.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z),T&&d.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",z),E.current=()=>{S.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z)}}else if(b==="scale"){const j=W.position,D=G.scale??1,A=Math.max(1,Math.hypot(q.x-j.x,q.y-j.y));let T=!1;const k=I=>{const H=_.current(I),F=Math.hypot(H.x-j.x,H.y-j.y)/A;Math.abs(F-1)>.01&&(T=!0),d.current(ae=>{const oe=(ae.leaves??[]).find(me=>me.id===G.id);oe&&(oe.scale=we(D*F,.3,3))},!1)},z=()=>{E.current=null,S.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z),T&&d.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",z),E.current=()=>{S.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z)}}else if(b==="width"){const j=W.position,D=G.rotation*Math.PI/180,A=-Math.sin(D),T=Math.cos(D),k=G.widthScale??1,z=Math.abs((q.x-j.x)*A+(q.y-j.y)*T),I=Math.max(1,z);let H=!1;const V=ae=>{const oe=_.current(ae),fe=Math.abs((oe.x-j.x)*A+(oe.y-j.y)*T)/I;Math.abs(fe-1)>.01&&(H=!0),d.current(be=>{const he=(be.leaves??[]).find(Ue=>Ue.id===G.id);he&&(he.widthScale=we(k*fe,.3,3))},!1)},F=()=>{E.current=null,S.current=!1,document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",F),H&&d.current(()=>{},!0)};document.addEventListener("pointermove",V),document.addEventListener("pointerup",F),E.current=()=>{S.current=!1,document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",F)}}else{const j=q,D=i.kind==="leaves"&&i.leafIds?.includes(G.id)?i.leafIds:Yd(a,G.id),A=new Map;for(const I of D){const H=r.find(V=>V.id===I);H&&A.set(I,{...H.position})}let T=!1;const k=I=>{const H=_.current(I),V=H.x-j.x,F=H.y-j.y;Math.abs(V)+Math.abs(F)>1&&(T=!0),d.current(ae=>{for(const[oe,me]of A){const fe=(ae.leaves??[]).find(be=>be.id===oe);fe&&(fe.position.x=we(me.x+V,0,ci),fe.position.y=we(me.y+F,0,ci))}},!1)},z=()=>{E.current=null,S.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z),T&&d.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",z),E.current=()=>{S.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z)}}},onShiftSelect:()=>B(G.id)},G.id)})})}function Bm({rect:u}){return u?s.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function km({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?s.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const pa=1350;function Im(u){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,setZoom:m,zoomLevel:v,setZoomLevel:h,ZOOM_LEVELS:d,setPan:_,showGrid:S,setShowGrid:p,setShowHelp:C,stageRef:N,viewBox:y,dashDelay:g,dashSyncToken:B,beginPan:O,updatePan:E,endPan:G,beginMarquee:Y,updateMarquee:R,endMarquee:Z,marqueeRef:P,marqueeRect:Q,beginFlowerDrag:W,updateFlowerDrag:X,endFlowerDrag:q,scaleDragRef:U,updateScaleDrag:M,endScaleDrag:b,rotationDragRef:j,updateRotationDrag:D,endRotationDrag:A,widthScaleDragRef:T,updateWidthScaleDrag:k,endWidthScaleDrag:z,radiusDragRef:I,updateRadiusDrag:H,endRadiusDrag:V,beginScaleDrag:F,beginRotationDrag:ae,beginWidthScaleDrag:oe,beginRadiusDrag:me,togglePetalSelection:fe,clientToSvgPoint:be}=u,he=ee.useRef(!1),Ue=ee.useRef(!1),Ge=ee.useRef(u.applyUpdate),tt=ee.useRef(be);ee.useEffect(()=>{Ge.current=u.applyUpdate},[u.applyUpdate]),ee.useEffect(()=>{tt.current=be},[be]);const[nt,vt]=ee.useState(!1),Yt=ee.useRef(null);ee.useEffect(()=>{if(!nt)return;const xe=Ee=>{Yt.current&&!Yt.current.contains(Ee.target)&&vt(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[nt]);const[zt,yt]=ee.useState("grab"),Ut=ee.useRef("none"),cn=ee.useRef("none"),pn=ee.useRef(void 0),Vn=ee.useRef(void 0),Qe=ee.useRef(null),_n=ee.useRef(!0),jl=5,al=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,il=ee.useRef(al);ee.useEffect(()=>{al!==il.current&&(il.current=al,_n.current=!1,Qe.current=null,Ut.current="none",cn.current="none",pn.current=void 0,Vn.current=void 0)},[al]);const[zl,na]=ee.useState(!1),Jn=ee.useRef(!1),[xi,Un]=ee.useState(null),Et=5,Sn=10,Re=Dm({zoom:u.zoom,pan:u.pan,setZoom:m,setPan:_,zoomLevel:v,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:N,endPan:G,endFlowerDrag:q,endMarquee:Z,endRotationDrag:A,endScaleDrag:b,endWidthScaleDrag:z,endRadiusDrag:V});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Re.zoomAtCenter(1),disabled:v>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Re.zoomAtCenter(-1),disabled:v<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>p(xe=>!xe),title:"","aria-label":"","aria-pressed":S,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Re.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:Yt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${nt?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>vt(xe=>!xe),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),nt&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(xe=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:n1[xe]}),["right","left","back"].map(Ee=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(xe,Ee),vt(!1)},"data-testid":`stencil-add-${xe}-${Ee}`,children:l1[Ee]},`${xe}-${Ee}`))]},xe)),u.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),vt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>C(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:S?"24px 1fr":"1fr",gridTemplateRows:S?"20px 1fr":"1fr"},children:[S&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),S&&(()=>{const[xe,,Ee,qe]=y.split(/\s+/).map(Number),_e=un,ye=Math.max(Ee,qe)/_e,je=[10,20,50,100,200,500,1e3].find(Ae=>ye/Ae<=15)??1e3,Se=je<=10?1:je<=50?5:je<=100?10:je<=500?50:100,Pe=je<=10?5:je/2,Fe=Math.floor(xe/_e/Se)*Se-Se,Xe=Math.ceil((xe+Ee)/_e/Se)*Se+Se,Ve=[];for(let Ae=Fe;Ae<=Xe;Ae+=Se){const $e=(Ae*_e-xe)/Ee*100;if($e<-2||$e>102)continue;const Nt=Math.abs(Ae),rt=Nt%je===0,lt=Nt%Pe===0,ht=rt?10:lt?6:3;Ve.push(s.jsx("line",{x1:`${$e}%`,y1:20-ht,x2:`${$e}%`,y2:20,stroke:"#999",strokeWidth:rt?.8:.4},Ae)),rt&&Ve.push(s.jsx("text",{x:`${$e}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Ve})})(),S&&(()=>{const[,xe,Ee,qe]=y.split(/\s+/).map(Number),_e=un,ye=Math.max(Ee,qe)/_e,je=[10,20,50,100,200,500,1e3].find(Ae=>ye/Ae<=15)??1e3,Se=je<=10?1:je<=50?5:je<=100?10:je<=500?50:100,Pe=je<=10?5:je/2,Fe=Math.floor(xe/_e/Se)*Se-Se,Xe=Math.ceil((xe+qe)/_e/Se)*Se+Se,Ve=[];for(let Ae=Fe;Ae<=Xe;Ae+=Se){const $e=(Ae*_e-xe)/qe*100;if($e<-2||$e>102)continue;const Nt=Math.abs(Ae),rt=Nt%je===0,lt=Nt%Pe===0,ht=rt?10:lt?6:3;Ve.push(s.jsx("line",{x1:24-ht,y1:`${$e}%`,x2:24,y2:`${$e}%`,stroke:"#999",strokeWidth:rt?.8:.4},Ae)),rt&&Ve.push(s.jsx("text",{x:12,y:`${$e}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Ve})})(),s.jsxs("svg",{ref:N,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:y,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":g,cursor:zl?"crosshair":"grab"},onDoubleClick:xe=>{xe.target===xe.currentTarget&&(na(Ee=>!Ee),i({kind:"project"}))},onPointerDown:xe=>{if(Re.multiTouchRef.current)return;if(xe.button===1){Jn.current=!0,N.current&&(N.current.style.cursor="grabbing"),O(xe);return}if(xe.button!==0)return;const Ee=xe.pointerType==="touch";if(Ee&&xe.target===xe.currentTarget&&x){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const _e=r.flowers.find(ye=>ye.id===x);if(_e){const ye=be(xe),{zone:De,layerId:je,petalIndex:Se}=ri(ye.x,ye.y,_e,r,a),{length:Pe}=Ot(_e.fabricSquareSize??r.fabricSquareSize),Fe=z0(De,a.kind,{hitLayerId:je,flower:_e,length:Pe});if(Fe!=="none"&&Fe!=="center"){Un({x:ye.x,y:ye.y,zone:Fe});const Xe=a.kind==="layer"?"layer":"flower",Ve=a.kind==="layer"?a.layerId:je;switch(Fe){case"rotate":ae(Xe,x,xe,{layerId:Ve});return;case"scale":F(Xe,x,xe,{layerId:Ve});return;case"width":oe(Xe,x,xe,{layerId:Ve,petalIndex:Se});return;case"radius":me(Xe,x,xe,{layerId:Ve});return;case"move":W(x,xe);return}}}}Re.setTouchBgStart({x:xe.clientX,y:xe.clientY}),O(xe);return}if(xe.target===xe.currentTarget&&x&&zt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const _e=Ut.current;if(_e!=="none"&&_e!=="center"){const ye=a.kind==="layer"?"layer":"flower",De=a.kind==="layer"?a.layerId:pn.current;switch(_e){case"rotate":ae(ye,x,xe,{layerId:De});return;case"scale":F(ye,x,xe,{layerId:De});return;case"width":oe(ye,x,xe,{layerId:De,petalIndex:Vn.current});return;case"radius":me(ye,x,xe,{layerId:De});return;case"move":W(x,xe);return}}}if(xe.target===xe.currentTarget&&a.kind==="leaf"&&u.selectedLeafId&&zt!=="grab"){const qe=cn.current;if(qe!=="none"){const _e=u.leaves.find(ye=>ye.id===u.selectedLeafId);if(_e){xe.preventDefault();const ye=be(xe);if(Ue.current=!0,qe==="rotate"){const De=_e.position,je=_e.rotation,Se=Math.atan2(ye.y-De.y,ye.x-De.x)*180/Math.PI,Pe=_e.id,Fe=nr(qe,"/tsumami/");yt(Fe),N.current&&(N.current.style.cursor=Fe);let Xe=!1;const Ve=qt=>{const $e=be(qt),rt=Math.atan2($e.y-De.y,$e.x-De.x)*180/Math.PI-Se;Math.abs(rt)>.5&&(Xe=!0),u.applyUpdate(lt=>{const ht=(lt.leaves??[]).find(Cn=>Cn.id===Pe);ht&&(ht.rotation=((je+rt)%360+360)%360)},!1)},Ae=()=>{Ue.current=!1,document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Ae),Xe&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Ae);return}else if(qe==="scale"){const De=_e.position,je=_e.scale??1,Se=Math.max(1,Math.hypot(ye.x-De.x,ye.y-De.y)),Pe=_e.id,Fe=nr(qe,"/tsumami/");yt(Fe),N.current&&(N.current.style.cursor=Fe);let Xe=!1;const Ve=qt=>{const $e=be(qt),rt=Math.hypot($e.x-De.x,$e.y-De.y)/Se;Math.abs(rt-1)>.01&&(Xe=!0),u.applyUpdate(lt=>{const ht=(lt.leaves??[]).find(Cn=>Cn.id===Pe);ht&&(ht.scale=Math.max(.3,Math.min(3,je*rt)))},!1)},Ae=()=>{Ue.current=!1,document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Ae),Xe&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Ae);return}else if(qe==="width"){const De=_e.position,je=_e.rotation*Math.PI/180,Se=-Math.sin(je),Pe=Math.cos(je),Fe=_e.widthScale??1,Xe=Math.max(1,Math.abs((ye.x-De.x)*Se+(ye.y-De.y)*Pe)),Ve=_e.id,Ae=nr(qe,"/tsumami/");yt(Ae),N.current&&(N.current.style.cursor=Ae);let qt=!1;const $e=rt=>{const lt=be(rt),Cn=Math.abs((lt.x-De.x)*Se+(lt.y-De.y)*Pe)/Xe;Math.abs(Cn-1)>.01&&(qt=!0),u.applyUpdate(Ca=>{const Qt=(Ca.leaves??[]).find(ze=>ze.id===Ve);Qt&&(Qt.widthScale=Math.max(.3,Math.min(3,Fe*Cn)))},!1)},Nt=()=>{Ue.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Nt),qt&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Nt);return}else{const De=ye,je={..._e.position},Se=_e.id;yt(Yn("/tsumami/")),N.current&&(N.current.style.cursor=Yn("/tsumami/"));let Pe=!1;const Fe=Ve=>{const Ae=be(Ve),qt=Ae.x-De.x,$e=Ae.y-De.y;Math.abs(qt)+Math.abs($e)>1&&(Pe=!0),u.applyUpdate(Nt=>{const rt=(Nt.leaves??[]).find(lt=>lt.id===Se);rt&&(rt.position.x=Math.max(0,Math.min(pa,je.x+qt)),rt.position.y=Math.max(0,Math.min(pa,je.y+$e)))},!1)},Xe=()=>{Ue.current=!1,document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Xe),Pe&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Xe);return}}}}if(xe.target===xe.currentTarget){Ee?(Re.setTouchBgStart({x:xe.clientX,y:xe.clientY}),O(xe)):zl?Y(xe):(Re.setMouseBgStart({x:xe.clientX,y:xe.clientY}),Jn.current=!0,N.current&&(N.current.style.cursor="grabbing"),O(xe));return}},onPointerMove:xe=>{if(he.current||Ue.current)return;if(P.current){R(xe);return}if(j.current){D(xe);return}if(U.current){M(xe);return}if(T.current){k(xe);return}if(I.current){H(xe);return}X(xe),E(xe);const Ee=!!u.dragRef?.current||!!P.current||!!j.current||!!U.current||!!T.current||!!I.current||Jn.current,qe=x&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Ee&&qe){const _e=r.flowers.find(ye=>ye.id===x);if(_e){const ye=be(xe);if(Qe.current&&!_n.current){if(Math.hypot(ye.x-Qe.current.x,ye.y-Qe.current.y)<jl){const{zone:Ae}=ri(ye.x,ye.y,_e,r,a);Ae==="center"&&(yt("pointer"),N.current&&(N.current.style.cursor="pointer"));return}_n.current=!0,Qe.current=null}const{zone:De,layerId:je,petalIndex:Se}=ri(ye.x,ye.y,_e,r,a),{length:Pe}=Ot(_e.fabricSquareSize??r.fabricSquareSize),Fe=z0(De,a.kind,{hitLayerId:je,flower:_e,length:Pe});Fe!=="none"&&(Ut.current=Fe,pn.current=je,Vn.current=Se);const Xe=Kd(Fe,"/tsumami/");yt(Xe),N.current&&(N.current.style.cursor=Xe)}}if(!Ee&&a.kind==="leaf"&&u.selectedLeafId){const _e=u.leaves.find(ye=>ye.id===u.selectedLeafId);if(_e){const ye=be(xe);if(Qe.current&&!_n.current){if(Math.hypot(ye.x-Qe.current.x,ye.y-Qe.current.y)<jl)return;_n.current=!0,Qe.current=null}const De=rm(ye.x,ye.y,_e,r);De!=="none"&&(cn.current=De);const je=nr(De,"/tsumami/");yt(je),N.current&&(N.current.style.cursor=je)}}},onPointerUp:xe=>{if(!he.current&&!Ue.current){if(Un(null),P.current&&zl&&na(!1),Z(),A(),b(),z(),V(),q(),G(),Jn.current&&(Jn.current=!1,N.current&&(N.current.style.cursor=zl?"crosshair":"grab")),Re.touchBgStartRef.current&&xe.pointerType==="touch"){const Ee=xe.clientX-Re.touchBgStartRef.current.x,qe=xe.clientY-Re.touchBgStartRef.current.y;Math.hypot(Ee,qe)<Sn&&i({kind:"project"}),Re.setTouchBgStart(null);return}if(Re.setTouchBgStart(null),Re.mouseBgStartRef.current&&xe.pointerType==="mouse"){const Ee=xe.clientX-Re.mouseBgStartRef.current.x,qe=xe.clientY-Re.mouseBgStartRef.current.y;if(Re.setMouseBgStart(null),Math.hypot(Ee,qe)<Et){i({kind:"project"});return}}if(Re.setMouseBgStart(null),x){const Ee=r.flowers.find(qe=>qe.id===x);if(Ee){const qe=be(xe);if(Qe.current&&Math.hypot(qe.x-Qe.current.x,qe.y-Qe.current.y)<jl){const{zone:Xe}=ri(qe.x,qe.y,Ee,r,a);Xe==="center"&&(yt("pointer"),N.current&&(N.current.style.cursor="pointer"));return}const{zone:_e,layerId:ye,petalIndex:De}=ri(qe.x,qe.y,Ee,r,a),{length:je}=Ot(Ee.fabricSquareSize??r.fabricSquareSize),Se=z0(_e,a.kind,{hitLayerId:ye,flower:Ee,length:je});Se!=="none"&&(Ut.current=Se,pn.current=ye,Vn.current=De);const Pe=Kd(Se,"/tsumami/");yt(Pe),N.current&&(N.current.style.cursor=Pe)}}}},onPointerLeave:()=>{Z(),A(),b(),z(),V(),q(),G(),Jn.current=!1,Re.setTouchBgStart(null),Re.setMouseBgStart(null),yt("grab"),Qe.current=null,_n.current=!0,Ut.current="none",cn.current="none",pn.current=void 0,Vn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[xe,Ee,qe,_e]=y.split(/\s+/).map(Number),ye=pa;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:xe,y:Ee,width:qe,height:_e,fill:"white"}),s.jsx("rect",{x:0,y:0,width:ye,height:ye,fill:"black"})]})}),s.jsx("rect",{x:xe,y:Ee,width:qe,height:_e,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:pa,height:pa,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:pa,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:pa,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),S&&(()=>{const xe=un,[Ee,qe,_e,ye]=y.split(/\s+/).map(Number),De=Math.max(_e,ye)/xe,Se=[10,20,50,100,200,500,1e3].find(lt=>De/lt<=15)??1e3,Pe=Math.floor(Ee/xe/Se)*Se-Se,Fe=Math.ceil((Ee+_e)/xe/Se)*Se+Se,Xe=Math.floor(qe/xe/Se)*Se-Se,Ve=Math.ceil((qe+ye)/xe/Se)*Se+Se,Ae=Xe*xe,qt=Ve*xe,$e=Pe*xe,Nt=Fe*xe,rt=[];for(let lt=Pe;lt<=Fe;lt+=Se){const ht=lt*xe;rt.push(s.jsx("line",{x1:ht,y1:Ae,x2:ht,y2:qt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=Xe;lt<=Ve;lt+=Se){const ht=lt*xe;rt.push(s.jsx("line",{x1:$e,y1:ht,x2:Nt,y2:ht,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return s.jsx("g",{children:rt})})(),s.jsx(Tm,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:N,applyUpdateRef:Ge,clientToSvgPointRef:tt,stencilDraggingRef:he,onSelectStencil:u.onSelectStencil}),s.jsx(Em,{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,zoneCursorValue:zt,dashSyncToken:B,stageRef:N,multiTouchRef:Re.multiTouchRef,clientToSvgPoint:be,togglePetalSelection:fe,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:W,beginScaleDrag:F,beginRotationDrag:ae,beginWidthScaleDrag:oe,beginRadiusDrag:me,clickOriginRef:Qe,zoneActivatedRef:_n,setZoneCursorValue:yt,setTouchZoneIndicator:Un,hoverZoneRef:Ut,hoverHitLayerIdRef:pn,hoverHitPetalIndexRef:Vn}),s.jsx(qm,{leaves:u.leaves,project:r,selection:a,paletteMap:f,dashSyncToken:B,selectedLeafId:u.selectedLeafId,groupHighlightedLeafIds:u.groupHighlightedLeafIds,zoneCursorValue:zt,stageRef:N,applyUpdateRef:Ge,clientToSvgPointRef:tt,leafDraggingRef:Ue,clickOriginRef:Qe,zoneActivatedRef:_n,setZoneCursorValue:yt,onSelectLeaf:u.onSelectLeaf,onSelectGroup:u.onSelectGroup,onShiftSelectLeaf:u.onShiftSelectLeaf,hoverLeafZoneRef:cn}),s.jsx(Bm,{rect:Q}),s.jsx(km,{indicator:xi})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Xd(u,r,a){return Math.min(a,Math.max(r,u))}function Ke({value:u,onChange:r,min:a=-1/0,max:i=1/0,step:f,className:x,...m}){const[v,h]=ee.useState(null),d=ee.useRef(null),_=ee.useCallback(C=>{const N=Number(C);isNaN(N)||r(Xd(N,a,i)),h(null)},[r,a,i]),S=ee.useCallback(()=>{h(null)},[]),p=ee.useCallback(C=>{const N=f??1,g=(Number(v??u)||0)+N*C,B=Xd(g,a,i),O=String(N).includes(".")?String(N).split(".")[1].length:0,E=Number(B.toFixed(O));h(String(E)),r(E)},[v,u,f,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:x??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:v??String(u),onChange:C=>h(C.target.value),onFocus:C=>{h(String(u)),requestAnimationFrame(()=>C.target.select())},onBlur:()=>{v!==null&&_(v)},onKeyDown:C=>{C.key==="Enter"?(C.preventDefault(),v!==null&&_(v),d.current?.blur()):C.key==="Escape"?(C.preventDefault(),S(),d.current?.blur()):(C.key==="ArrowUp"||C.key==="ArrowDown")&&(C.preventDefault(),p(C.key==="ArrowUp"?1:-1))},...m}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:C=>{C.preventDefault(),p(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:C=>{C.preventDefault(),p(-1)},children:""})]})]})}function xr({title:u,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),s.jsx("div",{className:"space-y-3",children:a})]})}function Gm({flower:u,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const x=ee.useMemo(()=>{const g=[...u.layers||[]].sort((Q,W)=>Q.order-W.order);if(g.length<2)return{mode:"uniform",step:2};const B=g.map(Q=>Q.scale??1);if(B.every(Q=>Math.abs(Q-B[0])<.001))return{mode:"uniform",step:2};const E=g[0],G=g[g.length-1],Y=(G.order??1)-(E.order??1);if(Y<=0)return{mode:"gradual",step:2};const Z=((E.scale??1)-(G.scale??1))/Y,P=Math.round(Z*r*2)/2;return{mode:"gradual",step:we(P,0,10)}},[u.id]),[m,v]=ee.useState(x.mode),[h,d]=ee.useState(x.step),[_,S]=ee.useState(0);ee.useEffect(()=>{v(x.mode),d(x.step),S(0)},[x]);const p=ee.useMemo(()=>[...u.layers||[]].sort((g,B)=>g.order-B.order),[u.layers]),C=p[0],N=C?C.order:0,y=ee.useMemo(()=>{if(!C)return[];const g=C.scale??1,B=C.radius,O=new Map;for(const Q of p){const W=Q.order-N;if(W===0)O.set(Q.id,g);else if(m==="uniform")O.set(Q.id,g);else{const X=h/r;O.set(Q.id,we(g-W*X,.3,3))}}const{length:E}=Ot(r),G=p.length,Y=70*Math.PI/180,R=new Map;let Z=B;R.set(C.id,B);for(let Q=1;Q<G;Q++){const W=p[Q-1],X=O.get(W.id)??1,q=E*X;let U;if(a===""){const M=G-1-Q,b=G>1?M/(G-1)*Y:0;U=q*(30/100)*Math.cos(b)}else U=q/3;Z=Z-U,R.set(p[Q].id,Math.max(2,Z))}const P=p.map(Q=>{const W=O.get(Q.id)??1,X=Math.round((R.get(Q.id)??B)*10)/10,q=Math.round(r*W*10)/10;return{id:Q.id,name:Q.name,order:Q.order,effScale:W,effFabricSize:q,effRadius:X}});if(P.length>0){const Q=P[P.length-1],W=E*Q.effScale,X=Math.floor(W*.28*10)/10;Q.effRadius>X&&(Q.effRadius=X)}return P},[p,C,N,m,h,30,r,a]);return ee.useEffect(()=>{_!==0&&(!C||y.length===0||i(g=>{const B=g.flowers.find(E=>E.id===u.id);if(!B)return;for(const E of y){const G=B.layers.find(Y=>Y.id===E.id);G&&(G.scale=we(E.effScale,.3,3),G.radius=we(E.effRadius,2,120))}const O=[...B.layers].sort((E,G)=>G.order-E.order);for(let E=1;E<O.length;E++){const G=O[E-1],Y=O[E];Y.offsetAngle=el(G.petalCount,G.offsetAngle,Y.petalCount)}}))},[_]),p.length<2?null:s.jsxs(xr,{title:"",children:[s.jsxs(Ms,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:g=>{v(g.target.value),S(B=>B+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&s.jsxs(Ms,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:g=>{d(g),S(B=>B+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),y.map(g=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:g.name}),s.jsxs("span",{children:[" ",g.effFabricSize,"mm /  ",Math.round(ar(g.effRadius,g.effScale,r)),"mm"]})]},g.id))]})]})}const a1="tsumami_recent_colors_v1",Ys=10;function Rm(u){const r=new Set;for(const a of u.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const f of i.petalOverrides)f.colorId&&r.add(f.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Ls(){try{const u=localStorage.getItem(a1);if(u){const r=JSON.parse(u);if(Array.isArray(r))return r.slice(0,Ys)}}catch{}return[]}function Om(u){try{localStorage.setItem(a1,JSON.stringify(u.slice(0,Ys)))}catch{}}function Ym(u){const r=Ls(),a=[u,...r.filter(i=>i!==u)].slice(0,Ys);Om(a)}function Xn({palette:u,project:r,selectedColorId:a,onChange:i,size:f="md"}){const[x,m]=ee.useState(!1),v=ee.useRef(null),[h,d]=ee.useState(Ls);ee.useEffect(()=>{if(!x)return;const y=g=>{v.current&&!v.current.contains(g.target)&&m(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[x]);const _=ee.useMemo(()=>Rm(r),[r]),S=ee.useMemo(()=>{const y=new Set;y.add(a);for(const g of _)y.add(g);for(const g of h)y.add(g);return u.filter(g=>y.has(g.id))},[u,a,_,h]),p=ee.useCallback(y=>{Ym(y),d(Ls()),i(y)},[i]),C=f==="sm"?"h-4 w-4":"h-5 w-5",N=x?u:S;return s.jsx("div",{ref:v,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[N.map(y=>s.jsx("button",{className:`${C} rounded border-2 ${a===y.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:y.hex},title:y.name,"aria-label":`: ${y.name}`,onClick:()=>p(y.id)},y.id)),u.length>S.length&&s.jsx("button",{className:`${C} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(y=>!y),title:x?"":"","aria-label":x?"":"",children:s.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:x?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Um({project:u,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(f=>{const x=f.flowers.find(m=>m.id===a.id);x&&(x.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(i=>{const f=a.layers.every(x=>x.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(x=>{const m=x.flowers.find(v=>v.id===a.id);if(m)for(const v of m.layers)v.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Fd.map(i=>{const f=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==i&&r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;m.placementMode=i;const v=m.fabricSquareSize??x.fabricSquareSize;i===""?m.baseDiameter=lr(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=x.baseDiameter),G2(m.layers,v,i,m.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ke,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:i=>r(f=>{const x=f.flowers.find(m=>m.id===a.id);x&&(x.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[lr(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(f=>{const x=f.flowers.find(h=>h.id===a.id);if(!x)return;const m=oi(i);for(const h of x.layers)h.petalCount=i,h.widthScale=m;const v=[...x.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<v.length;h++)v[h].offsetAngle=el(v[h-1].petalCount,v[h-1].offsetAngle,v[h].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);if(!x)return;x.flowerDiameter=i,x.placementMode===""&&(x.baseDiameter=lr(i));const m=[...x.layers].sort((v,h)=>v.order-h.order);W0(m,x.fabricSquareSize??f.fabricSquareSize,i);for(const v of m){const h=x.layers.find(d=>d.id===v.id);h&&(h.radius=v.radius,h.scale=v.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(f=>{const x=f.flowers.find(m=>m.id===a.id);if(x)for(const m of x.layers)m.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(f=>{const x=f.flowers.find(m=>m.id===a.id);x&&(x.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(f=>{const x=f.flowers.find(m=>m.id===a.id);if(x)for(const m of x.layers)m.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(f=>{const x=f.flowers.find(m=>m.id===a.id);if(x)for(const m of x.layers)if(i.target.checked){if(!m.doublePetal){const v=m._doublePetalCache;m.doublePetal=v??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(v=>v.doublePetal.innerSizeReduction))],f=i.length===1?i[0]:null,x=[...new Set(a.layers.map(v=>v.doublePetal.innerColorId??v.colorId))],m=x.length===1?x[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:v=>r(h=>{const d=h.flowers.find(_=>_.id===a.id);if(d)for(const _ of d.layers)_.doublePetal&&(_.doublePetal.innerSizeReduction=we(v,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:m??"",onChange:v=>r(h=>{const d=h.flowers.find(_=>_.id===a.id);if(d)for(const _ of d.layers)_.doublePetal&&(v===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=v)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:K2.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const x=f.flowers.find(m=>m.id===a.id);x?.center&&(x.center.type=i,i===""&&!x.center.pepCount&&(x.center.pepCount=12),i===""&&!x.center.color2&&(x.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(f=>{const x=f.flowers.find(m=>m.id===a.id);x?.center&&(x.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:i=>r(f=>{const x=f.flowers.find(m=>m.id===a.id);x?.center&&(x.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(f=>{const x=f.flowers.find(m=>m.id===a.id);x?.center&&(x.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(f=>{const x=f.flowers.find(m=>m.id===a.id);x?.center&&(x.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const f=i.flowers.find(x=>x.id===a.id);f&&delete f.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const f=i.flowers.find(x=>x.id===a.id);f&&(f.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Gm,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Hm({project:u,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:f,onAddToGroup:x,onMergeGroups:m}){const v=a,h=[...new Set(v.flatMap(S=>S.layers.map(p=>p.petalType)))],d=h.length===1?h[0]:null,_=S=>{r(p=>{for(const C of v){const N=p.flowers.find(y=>y.id===C.id);N&&S(N)}},!0)};return s.jsxs(xr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(S=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:S.hex},title:S.name,onClick:()=>_(p=>{for(const C of p.layers)C.colorId=S.id})},S.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:ll.map(S=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>_(p=>{for(const C of p.layers)C.petalType=S}),children:S},S))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:v[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:S=>{const p=oi(S);_(C=>{for(const y of C.layers)y.petalCount=S,y.widthScale=p;const N=[...C.layers].sort((y,g)=>g.order-y.order);for(let y=1;y<N.length;y++)N[y].offsetAngle=el(N[y-1].petalCount,N[y-1].offsetAngle,N[y].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:v.map(S=>s.jsxs("div",{children:[S.name," (",S.layers.length,")"]},S.id))}),(()=>{const S=v.map(g=>Ml(u,g.id)),p=v.filter(g=>!Ml(u,g.id)).map(g=>g.id),C=[...new Set(S.filter(Boolean).map(g=>g.id))],N=p.length===v.length,y=C.length===1&&S.every(g=>g!=null);return s.jsxs(s.Fragment,{children:[N&&v.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(v.map(g=>g.id)),children:""}),y&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(C[0]),children:""}),C.length===1&&p.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>x(C[0],p),children:[" (+",p.length,")"]}),C.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(C,p),children:[" (",C.length,"",p.length>0?` +${p.length}`:"",")"]})]})})()]})}function Km({project:u,applyUpdate:r,selectedFlowers:a,groups:i,groupId:f,onUngroupFlowers:x,onUngroupAll:m}){const v=i.find(C=>C.id===f);if(!v)return null;const h=a,d=(u.leaves??[]).filter(C=>v.leafIds.includes(C.id)),_=[...new Set(h.flatMap(C=>C.layers.map(N=>N.petalType)))],S=_.length===1?_[0]:null,p=C=>{r(N=>{for(const y of h){const g=N.flowers.find(B=>B.id===y.id);g&&C(g)}},!0)};return s.jsxs(xr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:v.name,onChange:C=>r(N=>{const y=(N.groups??[]).find(g=>g.id===v.id);y&&(y.name=C.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[h.length>0&&s.jsxs("span",{children:[h.length,""]}),h.length>0&&d.length>0&&s.jsx("span",{children:" + "}),d.length>0&&s.jsxs("span",{children:[d.length,""]})]}),h.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(C=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:C.hex},title:C.name,onClick:()=>p(N=>{for(const y of N.layers)y.colorId=C.id})},C.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:ll.map(C=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S===C?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(N=>{for(const y of N.layers)y.petalType=C}),children:C},C))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:h[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:C=>{const N=oi(C);p(y=>{for(const B of y.layers)B.petalCount=C,B.widthScale=N;const g=[...y.layers].sort((B,O)=>O.order-B.order);for(let B=1;B<g.length;B++)g[B].offsetAngle=el(g[B-1].petalCount,g[B-1].offsetAngle,g[B].petalCount)})}})]}),s.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[h.map(C=>s.jsxs("div",{children:[C.name," (",C.layers.length,")"]},C.id)),d.map(C=>s.jsx("div",{children:C.name},C.id))]}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>x(v.id),children:""}),s.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>m(v.id),children:""})]})}function Zm({project:u,flowerIds:r,leafIds:a,onGroupMixed:i,onUngroupFlowers:f,onAddToGroup:x,onAddLeavesToGroup:m,onMergeGroups:v}){const h=u.flowers.filter(O=>r.includes(O.id)),d=(u.leaves??[]).filter(O=>a.includes(O.id)),_=r.map(O=>Ml(u,O)),S=a.map(O=>ea(u,O)),p=[..._,...S],C=r.filter(O=>!Ml(u,O)),N=a.filter(O=>!ea(u,O)),y=[...new Set(p.filter(Boolean).map(O=>O.id))],g=C.length+N.length===r.length+a.length,B=y.length===1&&p.every(O=>O!=null);return s.jsxs(xr,{title:"",children:[s.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",h.length," +  ",d.length,""]}),s.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[h.map(O=>s.jsxs("div",{children:[" ",O.name]},O.id)),d.map(O=>s.jsxs("div",{children:[" ",O.name||""]},O.id))]}),s.jsxs(s.Fragment,{children:[g&&h.length+d.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(r,a),children:""}),B&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(y[0]),children:""}),y.length===1&&(C.length>0||N.length>0)&&!g&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{C.length>0&&x(y[0],C),N.length>0&&m(y[0],N)},children:[" (+",C.length+N.length,")"]}),y.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(y,C),children:[" (",y.length,")"]})]})]})}function Xm({project:u,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:f=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.name=f.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(f=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.petalType=f)}),children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:i.petalCount,onChange:f=>{r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);if(v){v.petalCount=f,v.widthScale=oi(f);const h=[...m.layers].sort((d,_)=>_.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=el(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:1,max:200,step:.5,value:Math.round(ar(i.radius,i.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:f=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.radius=we(I2(f,v.scale??1,m.fabricSquareSize??x.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(i.scale??1)*10)/10,onChange:f=>r(x=>{const m=x.flowers.find(S=>S.id===a.id);if(!m)return;const v=m.layers.find(S=>S.id===i.id);if(!v)return;const h=m.fabricSquareSize??x.fabricSquareSize;v.scale=we(Math.round(f/h*100)/100,.3,3);const d=[...m.layers].sort((S,p)=>S.order-p.order),_=d.findIndex(S=>S.id===v.id);if(_>=0)for(let S=_-1;S>=0;S--){const p=d[S],C=d[S+1],y=Ot(h).length*(C.scale??1)/3;p.radius=Math.round((C.radius+y)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:f=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.scale=f)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:f=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.widthScale=f)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:Number(i.offsetAngle??0).toFixed(1),onChange:f=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.offsetAngle=f)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:i.colorId,onChange:f=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.colorId=f)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:f=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);if(v)if(f.target.checked){const h=v._doublePetalCache;v.doublePetal=h??{innerSizeReduction:2},delete v._doublePetalCache}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:f=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v?.doublePetal&&(v.doublePetal.innerSizeReduction=we(f,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:f=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v?.doublePetal&&(f===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=f)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:f=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.visible=f.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:f=>r(x=>{const m=x.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.locked=f.target.checked)})}),""]})]})]})]})}function Vm({project:u,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const f=i,x=f.map(g=>{const B=a.layers.find(O=>O.id===g.layerId);return{...g,layer:B}}).filter(g=>g.layer!=null),m=(g,B)=>{const O=a.layers.find(G=>G.id===g);return O?(O?.petalOverrides?.find(G=>G.index===B)??null)?.colorId??O.colorId:null},v=(g,B)=>{const O=a.layers.find(G=>G.id===g);return O?(O?.petalOverrides?.find(G=>G.index===B)??null)?.petalType??O.petalType:null},h=x.map(g=>m(g.layerId,g.index)),d=x.map(g=>v(g.layerId,g.index)),_=h.length>0&&h.every(g=>g===h[0]),p=d.length>0&&d.every(g=>g===d[0])?d[0]:null,C=g=>{r(B=>{const O=B.flowers.find(E=>E.id===a.id);if(O)for(const E of f){const G=O.layers.find(R=>R.id===E.layerId);if(!G)continue;G.petalOverrides||(G.petalOverrides=[]);const Y=G.petalOverrides.find(R=>R.index===E.index);if(Y)g.colorId!==void 0&&(g.colorId===G.colorId?delete Y.colorId:Y.colorId=g.colorId),g.petalType!==void 0&&(g.petalType===G.petalType?delete Y.petalType:Y.petalType=g.petalType),!Y.colorId&&!Y.petalType&&(G.petalOverrides=G.petalOverrides.filter(R=>R.index!==E.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0));else{const R={index:E.index};g.colorId!==void 0&&g.colorId!==G.colorId&&(R.colorId=g.colorId),g.petalType!==void 0&&g.petalType!==G.petalType&&(R.petalType=g.petalType),(R.colorId!==void 0||R.petalType!==void 0)&&G.petalOverrides.push(R)}}},!0)},N=()=>{r(g=>{const B=g.flowers.find(O=>O.id===a.id);if(B)for(const O of f){const E=B.layers.find(G=>G.id===O.layerId);!E||!E.petalOverrides||(E.petalOverrides=E.petalOverrides.filter(G=>G.index!==O.index),E.petalOverrides.length===0&&(E.petalOverrides=void 0))}},!0)},y=x.some(g=>g.layer?.petalOverrides?.find(B=>B.index===g.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",y&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(g=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${_&&h[0]===g.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:g.hex},title:g.name,"aria-label":`: ${g.name}`,onClick:()=>C({colorId:g.id})},g.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>C({petalType:g}),children:g},g))})]}),y&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:N,children:""})]})]})}function Jm({project:u,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:f}){const x=i?.petalOverrides?.find(S=>S.index===f)??null,m=x?.colorId??i.colorId,v=x?.petalType??i.petalType,h=x!=null,d=S=>{r(p=>{const C=p.flowers.find(g=>g.id===a.id);if(!C)return;const N=C.layers.find(g=>g.id===i.id);if(!N)return;N.petalOverrides||(N.petalOverrides=[]);const y=N.petalOverrides.find(g=>g.index===f);if(y)S.colorId!==void 0&&(y.colorId=S.colorId),S.petalType!==void 0&&(y.petalType=S.petalType),S.innerColorId!==void 0&&(y.innerColorId=S.innerColorId),S.innerSizeReduction!==void 0&&(y.innerSizeReduction=S.innerSizeReduction),y.colorId!==void 0||y.petalType!==void 0||y.innerColorId!==void 0||y.innerSizeReduction!==void 0?(y.colorId===void 0&&delete y.colorId,y.petalType===void 0&&delete y.petalType,y.innerColorId===void 0&&delete y.innerColorId,y.innerSizeReduction===void 0&&delete y.innerSizeReduction):(N.petalOverrides=N.petalOverrides.filter(B=>B.index!==f),N.petalOverrides.length===0&&(N.petalOverrides=void 0));else{const g={index:f};S.colorId!==void 0&&(g.colorId=S.colorId),S.petalType!==void 0&&(g.petalType=S.petalType),S.innerColorId!==void 0&&(g.innerColorId=S.innerColorId),S.innerSizeReduction!==void 0&&(g.innerSizeReduction=S.innerSizeReduction),(g.colorId!==void 0||g.petalType!==void 0||g.innerColorId!==void 0||g.innerSizeReduction!==void 0)&&N.petalOverrides.push(g)}},!0)},_=()=>{r(S=>{const p=S.flowers.find(N=>N.id===a.id);if(!p)return;const C=p.layers.find(N=>N.id===i.id);!C||!C.petalOverrides||(C.petalOverrides=C.petalOverrides.filter(N=>N.index!==f),C.petalOverrides.length===0&&(C.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",f+1,h&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:m,onChange:S=>{S===i.colorId?d({colorId:void 0}):d({colorId:S})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(S=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{S===i.petalType?d({petalType:void 0}):d({petalType:S})},children:S},S))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:S=>r(p=>{const C=p.flowers.find(y=>y.id===a.id);if(!C)return;const N=C.layers.find(y=>y.id===i.id);if(N)if(S.target.checked){const y=N._doublePetalCache;N.doublePetal=y??{innerSizeReduction:2},delete N._doublePetalCache}else N.doublePetal&&(N._doublePetalCache={...N.doublePetal}),delete N.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const S=i.doublePetal,p=x?.innerSizeReduction??S.innerSizeReduction,C=x?.innerColorId??S.innerColorId??m;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",x?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ke,{min:1,max:30,step:1,value:p,onChange:N=>{const y=we(N,1,30);y===S.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:y})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:C,size:"sm",onChange:N=>{const y=S.innerColorId??i.colorId;d(N===y?{innerColorId:void 0}:{innerColorId:N})}})]})]})})(),h&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:_,children:""})]})]})}function Wm({project:u,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const f=a,x=m=>{r(v=>{const h=(v.stencils??[]).find(d=>d.id===f.id);h&&Object.assign(h,m)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:m=>x({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>s.jsx("option",{value:m,children:n1[m]},m))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:m=>x({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>s.jsx("option",{value:m,children:l1[m]},m))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:m=>x({locked:m.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Qm({project:u,applyUpdate:r,selectedLeaf:a,groups:i,onDeleteLeaf:f,onAddLeafToGroup:x,onRemoveLeafFromGroup:m}){const v=a,h=_=>{r(S=>{const p=(S.leaves??[]).find(C=>C.id===v.id);p&&_(p)},!0)},d=ea(u,v.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:v.name,onChange:_=>h(S=>{S.name=_.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(_=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v.petalType===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(S=>{S.petalType=_}),children:_},_))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:v.colorId,onChange:_=>h(S=>{S.colorId=_})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((v.fabricSquareSize??u.fabricSquareSize)*(v.scale??1)*10)/10,onChange:_=>h(S=>{const p=S.fabricSquareSize??u.fabricSquareSize;S.scale=we(Math.round(_/p*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(v.scale??1).toFixed(2),onChange:_=>h(S=>{S.scale=_})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(v.widthScale??1).toFixed(2),onChange:_=>h(S=>{S.widthScale=_})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ke,{value:Number(v.rotation).toFixed(1),onChange:_=>h(S=>{S.rotation=_})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.doublePetal,onChange:_=>h(S=>{if(_.target.checked){const p=S._doublePetalCache;S.doublePetal=p??{innerSizeReduction:2},delete S._doublePetalCache}else S.doublePetal&&(S._doublePetalCache={...S.doublePetal}),delete S.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),v.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:v.doublePetal.innerSizeReduction,onChange:_=>h(S=>{S.doublePetal&&(S.doublePetal.innerSizeReduction=we(_,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:v.doublePetal.innerColorId??v.colorId,onChange:_=>h(S=>{S.doublePetal&&(_===S.colorId?delete S.doublePetal.innerColorId:S.doublePetal.innerColorId=_)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.visible,onChange:_=>h(S=>{S.visible=_.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.locked,onChange:_=>h(S=>{S.locked=_.target.checked})}),""]})]}),d?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(v.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:_=>{_.target.value&&x(v.id,_.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(_=>s.jsx("option",{value:_.id,children:_.name},_.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(v.id),children:""})]})]})}function Pm({project:u,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:f,onAddLeavesToGroup:x,onMergeLeafGroups:m}){const v=(u.leaves??[]).filter(h=>a.includes(h.id));return v.length===0?null:s.jsxs(xr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:"",onChange:h=>r(d=>{for(const _ of a){const S=(d.leaves??[]).find(p=>p.id===_);S&&(S.colorId=h)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:ll.map(h=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(d=>{for(const _ of a){const S=(d.leaves??[]).find(p=>p.id===_);S&&(S.petalType=h)}},!0),children:h},h))}),(()=>{const h=v.map(C=>ea(u,C.id)),d=v.filter(C=>!ea(u,C.id)).map(C=>C.id),_=[...new Set(h.filter(Boolean).map(C=>C.id))],S=d.length===v.length,p=_.length===1&&h.every(C=>C!=null);return s.jsxs(s.Fragment,{children:[S&&v.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),p&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(_[0]),children:""}),_.length===1&&d.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>x(_[0],d),children:[" (+",d.length,")"]}),_.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(_,d),children:[" (",_.length,"",d.length>0?` +${d.length}`:"",")"]})]})})()]})}function Fm(u){const{project:r,selection:a,applyUpdate:i,selectedFlower:f,selectedFlowers:x,selectedLayer:m,selectedPetalIndex:v,selectedPetals:h}=u;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:d=>i(_=>_.title=d.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{value:r.fabricSquareSize,min:5,max:60,onChange:d=>i(_=>_.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{value:r.baseDiameter,min:10,max:100,onChange:d=>i(_=>_.baseDiameter=d),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",ta(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",ta(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:d=>i(_=>_.notes=d.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(d=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&f&&s.jsx(Um,{project:r,applyUpdate:i,selectedFlower:f}),a.kind==="flowers"&&x.length>0&&s.jsx(Hm,{project:r,applyUpdate:i,selectedFlowers:x,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&s.jsx(Km,{project:r,applyUpdate:i,selectedFlowers:x,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers,onUngroupAll:u.onUngroupAll}),a.kind==="layer"&&f&&m&&s.jsx(Xm,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:m}),a.kind==="petals"&&f&&h.length>0&&s.jsx(Vm,{project:r,applyUpdate:i,selectedFlower:f,selectedPetals:h}),a.kind==="petal"&&f&&m&&v!==null&&s.jsx(Jm,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:m,selectedPetalIndex:v}),a.kind==="stencil"&&u.selectedStencil&&s.jsx(Wm,{project:r,applyUpdate:i,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&s.jsx(Qm,{project:r,applyUpdate:i,selectedLeaf:u.selectedLeaf,groups:u.groups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Pm,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves,onUngroupLeaves:u.onUngroupLeaves,onAddLeavesToGroup:u.onAddLeavesToGroup,onMergeLeafGroups:u.onMergeLeafGroups}),a.kind==="mixed"&&s.jsx(Zm,{project:r,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:u.onGroupMixed,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onAddLeavesToGroup:u.onAddLeavesToGroup,onMergeGroups:u.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!f?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function $m(u){const r={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?ta(u.baseDiameter,u.fabricSquareSize,r).diameter:rr(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function eb(u){const r={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?E2(u.flowerDiameter,u.baseDiameter,r):T2(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function tb({palette:u,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:f}){const x=h=>{a(d=>{const _={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(_.baseDiameter=30,_.fabricSquareSize=20,_.layerCount=4,_.petalCount=12):(_.fabricSquareSize=20,_.layerCount=1,_.petalCount=6)),_.flowerDiameter=$m(_),_})},m=h=>{a(d=>{const _={...d,flowerDiameter:h};return _.fabricSquareSize=eb(_),_})},v=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&v.push("");const h=q2(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>h&&v.push(`${h}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Fd.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>x({placementMode:h}),children:h},h))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:h=>x({fabricSquareSize:h})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:h=>x({layerCount:h})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:h=>x({baseDiameter:h})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:m})]})]}),v.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:v.map((h,d)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||u[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:ll.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>x({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>x({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:h=>x({sizeStepMm:h})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function nb(u){return Math.round(u*Math.SQRT2/2*10)/10}function lb(u){return Math.round(u*Math.SQRT2*10)/10}function ab({palette:u,addLeafOpts:r,setAddLeafOpts:a,onConfirm:i,onCancel:f}){const x=v=>{a(h=>({...h,fabricSquareSize:v,leafSizeMm:nb(v)}))},m=v=>{a(h=>({...h,leafSizeMm:v,fabricSquareSize:lb(v)}))};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:v=>v.stopPropagation(),"data-testid":"dialog-add-leaf",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:x})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:r.leafSizeMm,onChange:m})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(v=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||u[0]?.id)===v.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:v.hex},title:v.name,"aria-label":`: ${v.name}`,onClick:()=>a(h=>({...h,colorId:v.id}))},v.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:ll.map(v=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:v})),children:v},v))})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-leaf",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}const Q0=vn;(function(u,r){const a=vn,i=u();for(;;)try{if(parseInt(a(256))/1*(-parseInt(a(250))/2)+parseInt(a(254))/3+-parseInt(a(247))/4*(-parseInt(a(267))/5)+parseInt(a(246))/6+-parseInt(a(272))/7*(-parseInt(a(262))/8)+-parseInt(a(268))/9+parseInt(a(274))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,577268);const ib=(function(){let u=!0;return function(r,a){const i=u?function(){const f=vn;if(a){const x=a[f(242)](r,arguments);return a=null,x}}:function(){};return u=!1,i}})(),Ts=ib(void 0,function(){const u=vn,r={eNacO:u(252)};return Ts.toString()[u(283)](r.eNacO).toString()[u(236)](Ts)[u(283)](r[u(233)])});function H0(){const u=["oty0ogTdtvvYCa","AhvUvMi","kcGOlISPkYKRksSK","CM91BMq","mtqZnZu2mwP6qKH6yq","CMLNAhq","mtu3EwvtzM15","BM9Uzq","y3vYC29Y","uwLmEK8","y2HHBMDL","vNvXCfa","mZCXmM9WD3j3AG","Cg9PBNrLCNvW","zNnAANm","ywrKrxzLBNrmAxn0zw5LCG","C2LKzq","ndq4mdq1mfD1vLPgwa","nZK3nJG1m0rqww5nAG","DxnLCLnLBgvJDa","kg1PBI13Awr0AdOGnZy4ChGP","Bwf0y2HLCW","ntm2ourkv3bSyG","t2r5D2q","mZa5odm3mePRrwjHwa","Cg9PBNrLCM1VDMu","C3rHCNrxAwr0Ahm","uwjwCNy","m3WXFdj8mhW0Fdu","y3vYCMvUDa","yM9KEq","C3r5Bgu","Bwf4","C2vHCMnO","qw54vK8","BNvTyMvY","zu5Hy08","z2v0qM91BMrPBMDdBgLLBNrszwn0","D2LKDgG","y29UC3rYDwn0B3i","y1bMwMO","CMvTB3zLrxzLBNrmAxn0zw5LCG","BwLU","BgvMDa","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","yxbWBhK","y1jnwNi","AfnNEwS","z2nxyM8","mta3otCWnMHevxbwrq","neLHshLHtq","v3fmAMK","Dw5KzwzPBMvK"];return H0=function(){return u},H0()}function vn(u,r){u=u-233;const a=H0();let i=a[u];if(vn.OGwDyM===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};vn.qWzZyA=f,vn.VHhvVd={},vn.OGwDyM=!0}const x=a[0],m=u+x,v=vn.VHhvVd[m];if(v)i=v;else{const h=function(d){this.NfOJzK=d,this.gdwkea=[1,0,0],this.CFVQPk=function(){return"newState"},this.hYGLTK="\\w+ *\\(\\) *{\\w+ *",this.FAyErP=`['|"].+['|"];? *}`};h.prototype.CKsLrF=function(){const d=new RegExp(this.hYGLTK+this.FAyErP),_=d.test(this.CFVQPk.toString())?--this.gdwkea[1]:--this.gdwkea[0];return this.jDclmR(_)},h.prototype.jDclmR=function(d){return~d?this.UjZsqZ(this.NfOJzK):d},h.prototype.UjZsqZ=function(d){for(let _=0,S=this.gdwkea.length;_<S;_++)this.gdwkea.push(Math.round(Math.random())),S=this.gdwkea.length;return d(this.gdwkea[0])},new h(vn).CKsLrF(),i=vn.qWzZyA(i),vn.VHhvVd[m]=i}return i}Ts();const i1=Q0(241),r1={left:25,right:25},Es=15,qs=15,sr=30;function rb(){const u=Q0,r={fsZjs:function(a,i){return a>=i}};try{const a=localStorage.getItem(i1);if(a){const i=JSON.parse(a);if(typeof i[u(240)]===u(285)&&typeof i.right===u(285)&&i[u(240)]>=Es&&i[u(255)]>=qs&&r[u(264)](100-i[u(240)]-i[u(255)],sr))return i}}catch{}return r1}function Vd(u,r){const a=Q0,i={Feabh:function(v,h){return v-h},xlesM:function(v,h){return v/h},jniqJ:function(v,h){return v/h}};let f=Math.max(Es,u),x=Math[a(282)](qs,r);const m=i.Feabh(100-f,x);if(m<sr){const v=sr-m;f-=i.xlesM(v,2),x-=i.jniqJ(v,2),f=Math.max(Es,f),x=Math.max(qs,x)}return{left:i.xlesM(Math[a(253)](f*100),100),right:Math.round(x*100)/100}}function ub(){const u=Q0,r={HtKeb:u(270),yOtPC:u(260),hSgyk:function(N,y){return N/y},fezHY:function(N,y){return N-y},pVGVi:function(N,y){return N(y)},WaEdp:"pointermove",AnxVO:u(257),qpmGZ:"pointerup",hunVb:"IdfgB",cRMZr:function(N,y){return N(y)},QBWeX:function(N,y){return N(y)},WqLji:function(N,y,g){return N(y,g)},cPfZj:function(N,y){return N(y)}},[a,i]=ee.useState(rb),f=r[u(243)](ee.useRef,null),x=r.QBWeX(ee.useRef,null),[m,v]=ee.useState(!1),[h,d]=ee.useState(()=>typeof window!==u(249)?window.matchMedia(u(270)).matches:!0);r[u(248)](ee.useEffect,()=>{const N=u,y=window.matchMedia(r.HtKeb),g=B=>d(B[N(271)]);return y[N(265)](r.yOtPC,g),()=>y.removeEventListener("change",g)},[]),ee.useEffect(()=>{localStorage.setItem(i1,JSON.stringify(a))},[a]);const _=r[u(237)](ee.useRef,a);ee.useEffect(()=>{const N=u;_[N(279)]=a},[a]);const S=ee.useCallback((N,y)=>{const g=u,B={GunIt:function(Y,R){return Y===R},bdJkj:function(Y,R){return Y*R},HAWeX:function(Y,R){return r[vn(244)](Y,R)},VuqpP:function(Y,R){return r.fezHY(Y,R)},gcWbo:function(Y,R){return r.pVGVi(Y,R)},QbVrv:function(Y,R){return r.fezHY(Y,R)},QiLzO:r.WaEdp};y.preventDefault();const O=f[g(279)];if(!O)return;x[g(279)]={side:N,startX:y.clientX,startWidths:{..._[g(279)]}},r.pVGVi(v,!0),document[g(280)][g(281)][g(258)]="col-resize",document[g(280)][g(281)].userSelect=r[g(284)];const E=Y=>{const R=g,Z=x[R(279)];if(!Z)return;const P=O[R(234)]()[R(235)];if(B.GunIt(P,0))return;const Q=Y.clientX-Z.startX,W=B.bdJkj(B.HAWeX(Q,P),100);if(Z[R(266)]==="left"){const X=Z[R(276)].left+W,q=B[R(261)](B.VuqpP(100,Z[R(276)].right),sr);B.gcWbo(i,Vd(Math.min(X,q),Z[R(276)].right))}else{const X=B[R(261)](Z.startWidths[R(255)],W),q=B.VuqpP(B[R(277)](100,Z[R(276)].left),sr);B.gcWbo(i,Vd(Z.startWidths.left,Math[R(239)](X,q)))}},G=()=>{const Y=g;x.current=null,v(!1),document.body.style.cursor="",document.body[Y(281)][Y(269)]="",window[Y(238)]("pointermove",E),window.removeEventListener(Y(263),G)};window[g(265)](g(275),E),window[g(265)](r.qpmGZ,G),p.current=()=>{const Y=g,R=Y(278).split("|");let Z=0;for(;;){switch(R[Z++]){case"0":B[Y(245)](v,!1);continue;case"1":window.removeEventListener("pointerup",G);continue;case"2":x.current=null;continue;case"3":window[Y(238)](B[Y(259)],E);continue;case"4":document.body.style.cursor="";continue;case"5":document.body.style[Y(269)]="";continue}break}}},[]),p=r.cPfZj(ee.useRef,null);r.WqLji(ee.useEffect,()=>()=>{p.current?.()},[]);const C=r[u(248)](ee.useCallback,()=>{const N=u;N(273)===r[N(251)]?_0x701933(_0x404994):r.pVGVi(i,r1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:S,onDividerDoubleClick:C,isDragging:m,isDesktop:h}}function Jd({side:u,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>r(u,f),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}(function(u,r){const a=gt,i=u();for(;;)try{if(-parseInt(a(182))/1+-parseInt(a(246))/2*(parseInt(a(234))/3)+-parseInt(a(230))/4+-parseInt(a(161))/5*(parseInt(a(155))/6)+parseInt(a(194))/7+parseInt(a(169))/8+parseInt(a(201))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,790310);const cb=(function(){const u={hBupJ:"tKKCk"};let r=!0;return function(a,i){const f={iNhPN:u.hBupJ},x=r?function(){const m=gt;if(i)if(m(151)!==f.iNhPN){const v=_0x114eb3[m(235)][m(165)](h=>h.id===_0x12442a.id);v&&(v[m(119)]=_0x20261f[m(119)])}else{const v=i.apply(a,arguments);return i=null,v}}:function(){};return r=!1,x}})(),Bs=cb(void 0,function(){const u=gt,r={WEdsz:u(271)};return Bs[u(172)]().search(u(271))[u(172)]()[u(214)](Bs)[u(126)](r.WEdsz)});Bs();function gt(u,r){u=u-108;const a=K0();let i=a[u];if(gt.UNGbCc===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};gt.FcPadX=f,gt.ztGfAU={},gt.UNGbCc=!0}const x=a[0],m=u+x,v=gt.ztGfAU[m];if(v)i=v;else{const h=function(d){this.zojWAZ=d,this.etUgNN=[1,0,0],this.rVtfqJ=function(){return"newState"},this.rltRcD="\\w+ *\\(\\) *{\\w+ *",this.KppWXL=`['|"].+['|"];? *}`};h.prototype.GrLDlI=function(){const d=new RegExp(this.rltRcD+this.KppWXL),_=d.test(this.rVtfqJ.toString())?--this.etUgNN[1]:--this.etUgNN[0];return this.mVZCOc(_)},h.prototype.mVZCOc=function(d){return~d?this.Myfosc(this.zojWAZ):d},h.prototype.Myfosc=function(d){for(let _=0,S=this.etUgNN.length;_<S;_++)this.etUgNN.push(Math.round(Math.random())),S=this.etUgNN.length;return d(this.etUgNN[0])},new h(gt).GrLDlI(),i=gt.FcPadX(i),gt.ztGfAU[m]=i}return i}function K0(){const u=["CM1jALe","nJzJzu53wMi","uffSvva","5lI444gK44g+44g/","C3rLBMnPBhm","DeDpt0W","wNfPDNG","nZeYmdq1Afjnt0Pj","zM9YrwfJAa","CNzLvMW","Cgv0ywXZ","zMLUza","vNDKzuS","Aw5JBhvKzxm","Bgf5","mta2odiYndbMq2ndB2C","C2TuEeO","t3PKrNu","Dg9tDhjPBMC","zMfICMLJu3f1yxjLu2L6zq","su5mCeW","ChvZAa","tNnvuhi","D3zJBha","uMn3ueK","rKr4zK8","zMLSDgvY","CMv2zxjZzq","mtu1oduYEuDsugHd","BefYCee","BgvHzKLKCW","u2XXsuG","zMXVD2vYrgLHBwv0zxi","D01VqNy","AenMChq","Cgv0ywXdB3vUDa","zu9yExK","ChjVAMvJDa","z3jW","BKHLu3G","nJmYmZeWv3bHs3Dc","AhbXrvy","44kW44oR44o844oxia","yw91wum","vwLnCg8","sLjurxy","Bvzirxy","mtuWmZC1odDQDNDMCeS","zenYvge","twjiquK","C3rS","veDmz2y","zw1org0","CxvXzxq","zxzLCNK","ANPpsgW","BgTjuLO","B3jKzxi","wg5tqNK","sK1zBhe","y29UC3rYDwn0B3i","zMXVD2vY","rNjjsui","BMfTzq","Afrkzvu","wLfyDM8","Bwf4","BwfW","CM90yxrPB24","DMDKBMK","Bwf0y2G","wxjjB2G","B2zMC2v0qw5NBgu","A0PryLK","zgLHBwv0zxi","DKTwze4","mti2mZK3nNLvtMLVEG","CgfSzxr0zq","C3rLBMnPBa","Dw5PzM9YBq","ow9bqMPSBa","Bgf5zxjZ","wgnZvxC","AKTSAKO","s0PQuuK","vwX0qvu","Cgv0ywW","rhHsswO","BgvHzG","zMXVD2vYCW","Bgf5zxjjza","D1PJAuu","mtC4ntmYyvnezKTk","yLrTt1i","y1rjsLK","BhLesLm","zMXVD2vYswrZ","BvrXq3C","shnWzMS","suX0Dfu","Aw5KzxG","C3rLBMnPBeLK","EKj3ANu","Ag9VteS","BwL4zwq","AgvPz2H0","shDbA0u","rKDmz1y","Evvjv3m","Cgv0ywXuExbL","vhHjrK8","t3DfCgS","zePgCu8","CM91BMq","vLvWCfK","AxbLue8","r05Jr3a","kcGOlISPkYKRksSK","uMLkswC","A0jzDva","weTyqvi","zMXVD2vYswq","EeP1vxK","ChjLDMLVDxnhCM91Chm","yMfJAW","z3jVDxbZ","ALzpwMC","A3LtzLC","DfbMs2S","uujsq1K","CNDICK0","qK5rALG","CMfKAxvZ","CfLvCvO","uuPrtLy","D0fHCvq","AvDxtxG","u1jArg0","sKX4rvy","C2vHCMnO","rgT0ENe","sw1Svwu","CgXHy2vTzw50tw9Kzq","BKfcv2K","BgvHzKLK","u3rvse8","CwXgD1m","t0DIAxq","ExLZA3O","z3jVDxa","C2XPy2u","wNf0yKi","zvLAtLO","BgvUz3rO","Awzfuem","vw52B3G","C29YDa","BgvHDMvZ","Dw5ZAgLMDa","B29xC0O","yMfZzurPyw1LDgvY","C2nHBgu","y0D2Dg8","CeXhveq","DeTlq2S","sNPOqKe","A2LUza"];return K0=function(){return u},K0()}function sb({project:u,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:f,setExpandedGroups:x,zoom:m,pan:v,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:_}){const S=gt,p={XcsUw:function(M,b){return M(b)},lyDJS:function(M,b){return M/b},emNDm:function(M,b){return M*b},TcCor:function(M,b){return M-b},JLxEV:function(M,b){return M-b},bTmOR:function(M,b){return M*b},Ccfny:function(M,b){return M!==b},PIogs:S(116),pmPCe:function(M,b){return M!==b},mVHEv:S(170),OzdFu:function(M,b,j){return M(b,j)},BNQjX:"yuVrm",dCrTa:function(M,b,j){return M(b,j)},UiMpo:function(M,b){return M(b)},xJuUy:S(233),lArpA:function(M,b){return M-b},yUIWs:function(M,b,j,D){return M(b,j,D)},tPfKk:function(M,b){return M+b},rwZvA:function(M,b){return M(b)},eDVqy:S(168),ICdLR:S(157),ILttU:function(M,b,j){return M(b,j)},FcJUP:function(M,b){return M===b},PQlUP:function(M,b){return M(b)},qlFwS:function(M,b,j){return M(b,j)},MZnJN:"layer",StUHO:"flower",UltAU:S(240),wZciE:S(188),NibPK:function(M,b){return M!==b},xktTO:S(219),GVjPY:"uPXLq",rwbrM:function(M,b){return M>b},xSnCK:function(M,b){return M===b},LYknJ:function(M,b,j,D,A){return M(b,j,D,A)},imhXY:function(M,b,j,D){return M(b,j,D)},NsUPr:function(M,b){return M<b},JhbQL:function(M,b){return M!==b},pYUqZ:function(M,b){return M(b)},GNcGp:S(242),XKXAR:function(M,b){return M===b},MFMUf:S(144),kBYuP:"project",MbHAI:"flowers",yyskz:function(M,b,j){return M(b,j)},KNdHE:function(M,b){return M===b},TxIFO:"petals",ygrwl:"LOiQA",vgdni:function(M,b){return M===b},WHaHL:function(M,b){return M(b)},mTqCw:function(M,b){return M>b},wAaqT:function(M,b){return M+b},FDxfO:"group",eYZNZ:function(M,b){return M===b},hvtfG:"Zqivx",wMoBv:function(M,b,j){return M(b,j)},jVOZg:S(232),NfdNy:"CceKp",VRfAN:S(121),HwAkE:function(M,b){return M(b)},aouYC:"fsPvS",rveVl:S(166),HvnVK:function(M,b){return M/b},JRTEv:function(M,b){return M+b},lOICl:"side",rmIjQ:S(150),quqet:function(M,b){return M/b},OwEpk:function(M,b){return M/b},hTJeU:S(111),zGIZx:function(M,b){return M/b},ipePO:function(M,b){return M(b)},AIcFR:"gKbbe",fhbOp:function(M,b){return M!==b},ifEPC:S(128),otwNs:function(M,b){return M===b},oSPxN:"Gcxny",RiJIg:S(177),qXFLm:function(M,b){return M(b)},Unvox:function(M,b){return M===b},SlqIH:S(130),nHeSx:"mixed",ooWsJ:function(M,b){return M===b},RcwPI:function(M,b){return M===b},INLpL:function(M,b){return M===b},JMYlq:function(M,b){return M===b},yqovQ:function(M,b){return M===b},dhlfW:function(M,b){return M===b},hpqEV:function(M,b){return M(b)},VUppY:function(M,b){return M!==b},gMBVn:"KveGL",hacfr:function(M,b){return M(b)},kJQbY:function(M,b){return M===b},ZqtbB:function(M,b){return M(b)},fngQn:function(M,b,j){return M(b,j)},QMdJo:function(M,b,j){return M(b,j)},NztOC:function(M,b,j){return M(b,j)},tGOOL:function(M,b,j){return M(b,j)}},C=M=>{const b=S,j=[...M[b(235)]].sort((I,H)=>I.order-H.order),D=j[0];if(!D)return 28;const A=M[b(173)]??u.fabricSquareSize,{length:T}=p[b(236)](Ot,A),k=T*(D.scale??1);let z;if(M.placementMode==="")z=k/3;else{const H=p[b(249)](p.emNDm(70,Math.PI),180),V=j[b(140)]+1,F=p.TcCor(V,1),ae=V>1?p[b(206)](F/p[b(125)](V,1),H):0;z=p.bTmOR(k,p[b(249)](30,100))*Math.cos(ae)}return p.lyDJS(Math.round(((D.radius??28)+z)*10),10)},N=M=>{const b=S,j={cGvto:function(D,A){return p.XcsUw(D,A)},ieRcp:"mixed",ctCgV:function(D,A){return D(A)}};p[b(171)](r,D=>{const A=b;if(D.flowers=(D.flowers||[]).filter(T=>T.id!==M),D.groups){for(const T of D[A(112)])p.Ccfny(p.PIogs,A(127))?T.flowerIds=T.flowerIds.filter(k=>k!==M):j[A(149)](_0x1fb0a8,{kind:j.ieRcp,flowerIds:[..._0x1bbc7c,_0x21b340],leafIds:_0x5bb2a2});D[A(112)]=D[A(112)][A(180)](T=>T.flowerIds[A(140)]+T[A(184)][A(140)]>0)}},!0),i({kind:"project"}),p[b(236)](f,D=>{const A=b;if(p.pmPCe(A(209),p[A(200)])){const T={...D||{}};return delete T[M],T}else j.ctCgV(_0x466050,{kind:"flower",flowerId:_0x332d57})})},y=(M,b)=>{const j=S;if(p[j(118)]==="MfmRm")_0x7f736f[j(184)].includes(_0x2e1961)||_0x4abc6e[j(184)].push(_0x35648a);else{const D=u.flowers[j(165)](A=>A.id===M);if(D&&(D.layers||[]).length<=1){N(M);return}p[j(202)](r,A=>{const T=j;if(T(124)!==T(124)){_0xcb85f0(_0x1ae970);return}else{const k=(A.flowers||[]).find(z=>z.id===M);if(!k)return;k[T(235)]=(k[T(235)]||[]).filter(z=>z.id!==b),k[T(235)][T(137)]().sort((z,I)=>z[T(211)]-I[T(211)])[T(162)]((z,I)=>z.order=I+1)}},!0),p[j(198)](i,{kind:j(215),flowerId:M})}},g=M=>{const b=S,j=u.flowers.find(F=>F.id===M);if(!j)return;const D=[...j.layers][b(143)]((F,ae)=>F.order-ae[b(211)]),A=D[0],T=we(A?.petalCount??6,5,24),k=D[b(221)](F=>F.scale??1),z=k.length<2||k[b(208)](F=>Math.abs(F-k[0])<.001);let I=A?.[b(148)]??1;if(!z&&D.length>=2){const F=D[p.TcCor(D[b(140)],1)],ae=p[b(125)](F[b(211)]??1,A[b(211)]??1);if(ae>0){const oe=p[b(249)]((A[b(148)]??1)-(F.scale??1),ae);I=p.yUIWs(we,p.tPfKk(A[b(148)]??1,oe),.3,3)}}const H=p.rwZvA(C,j),V={id:p.XcsUw(Tt,p.eDVqy),name:"Outer+",order:1,petalType:A?.[b(263)]??p.ICdLR,petalCount:T,radius:H,scale:I,widthScale:p[b(236)](oi,T),offsetAngle:A?.offsetAngle??0,colorId:A?.colorId??u[b(231)]?.[0]?.id??"col_green",visible:!0,locked:!1};A&&(V[b(226)]=el(A[b(189)],A.offsetAngle??0,T)),r(F=>{const ae=b,oe=F[ae(243)].find(Ge=>Ge.id===M);if(!oe)return;oe[ae(235)][ae(162)](Ge=>Ge.order+=1),oe[ae(235)][ae(145)](V);const me=Math[ae(267)](ar(V.radius,V[ae(148)],oe.fabricSquareSize??F.fabricSquareSize)),fe=oe[ae(173)]??F.fabricSquareSize,be=oe[ae(129)]===""?rr(fe,oe[ae(235)].length,p[ae(109)],0):ta(oe.baseDiameter??F[ae(147)],fe,{layerCount:oe.layers[ae(140)]}).diameter;oe.flowerDiameter=Math.max(oe.flowerDiameter||be,me);const he=[...oe.layers].sort((Ge,tt)=>Ge.order-tt.order),Ue=he[ae(181)]();for(let Ge=1;Ge<Ue.length;Ge++){const tt=Ue[p[ae(183)](Ge,1)],nt=Ue[Ge];nt.offsetAngle=el(tt.petalCount,tt[ae(226)],nt[ae(189)])}},!0),p.XcsUw(i,{kind:"layer",flowerId:M,layerId:V.id}),f(F=>({...F,[M]:!0}))},B=M=>{const b=S,j={tUyEW:function(k,z){return k>z},yvuIe:function(k,z,I){return p[gt(253)](k,z,I)},NQwCw:function(k,z,I,H){return p.yUIWs(k,z,I,H)}},D=u[b(243)][b(165)](k=>k.id===M);if(!D||!D[b(235)]||p.FcJUP(D[b(235)].length,0))return;if(D[b(235)][b(140)]<=1){p[b(156)](N,M);return}const A=[...D.layers].sort((k,z)=>k.order-z.order),T=A[0];T&&(p.qlFwS(r,k=>{const z=b,I=k[z(243)].find(F=>F.id===M);if(!I)return;I.layers=I[z(235)].filter(F=>F.id!==T.id),I[z(235)][z(137)]()[z(143)]((F,ae)=>F[z(211)]-ae[z(211)]).forEach((F,ae)=>F.order=ae+1);const H=[...I[z(235)]].sort((F,ae)=>F[z(211)]-ae.order),V=I.fabricSquareSize??k[z(173)];if(j.tUyEW(H[z(140)],0)){j.yvuIe(vs,H,V);for(const oe of H){const me=I.layers.find(fe=>fe.id===oe.id);me&&(me.radius=oe.radius)}const F=H[0];I[z(186)]=Math.round(ar(F.radius,F.scale??1,V));const ae=[...H][z(181)]();for(let oe=1;oe<ae.length;oe++){const me=ae[oe-1],fe=ae[oe];fe.offsetAngle=j.NQwCw(el,me.petalCount,me.offsetAngle,fe.petalCount)}}},!0),a[b(153)]===p.MZnJN&&p.FcJUP(a[b(244)],T.id)?i({kind:p.StUHO,flowerId:M}):a[b(153)]===p[b(239)]&&p.FcJUP(a[b(244)],T.id)&&i({kind:p[b(132)],flowerId:M}))},O=()=>{const M=S,b={zBwju:function(j,D){return p[gt(117)](j,D)},vIzjD:function(j,D){return p.PQlUP(j,D)},cRbrC:function(j,D){return j(D)},VvszN:M(123),MeDnN:"cckhm",vKVdN:function(j,D){return p.JhbQL(j,D)},cTIJY:"Hspfk",hooLK:function(j,D){return p[M(120)](j,D)}};if(p.pmPCe("jKljJ",M(237))){const j=b.vIzjD(_0x3600a5,M(192));_0x191e62(D=>{const A=M;D[A(112)]||(D.groups=[]);const T=D.groups[A(221)](z=>{const I=A,H=z[I(217)].match(/^ (\d+)$/);return H?_0x333cd1(H[1],10):0}),k=b[A(256)](T.length,0)?_0x48d32e.max(...T)+1:1;D.groups[A(175)]({id:j,name:A(196)+k,flowerIds:[..._0x495352],leafIds:[..._0x4996c7],rotation:0})},!0),b.cRbrC(_0x4b336f,{kind:M(136),groupId:j}),b.vIzjD(_0x2b3200,D=>({...D,[j]:!0}))}else{if(a[M(153)]==="project")return;if(a.kind===p.GNcGp){_(a[M(131)]);return}if(p[M(274)](a[M(153)],p.MFMUf)){const j=a.leafIds;r(D=>{const A=M;if(D[A(144)]=(D[A(144)]??[])[A(180)](T=>!j[A(167)](T.id)),D.groups){for(const T of D[A(112)])T[A(184)]=T.leafIds[A(180)](k=>!j[A(167)](k));D[A(112)]=D[A(112)].filter(T=>T.flowerIds[A(140)]+T[A(184)][A(140)]>0)}},!0),p.rwZvA(i,{kind:p[M(273)]});return}if(a[M(153)]==="mixed"){const{flowerIds:j,leafIds:D}=a;p.ILttU(r,A=>{const T=M;if(b.VvszN===T(123)){if(A.flowers=A.flowers[T(180)](k=>!j.includes(k.id)),A.leaves=(A.leaves??[])[T(180)](k=>!D.includes(k.id)),A[T(112)]){for(const k of A.groups)b.MeDnN==="cckhm"?(k[T(250)]=k[T(250)][T(180)](z=>!j.includes(z)),k.leafIds=k[T(184)].filter(z=>!D[T(167)](z))):_0x39a7c8({kind:"petals",flowerId:_0x1d6b43,petals:[{layerId:_0x3ed3f1,index:_0x43fcdc}]});A[T(112)]=A.groups.filter(k=>k[T(250)].length+k[T(184)][T(140)]>0)}}else _0x926cb8.stencils=(_0x1b3f75.stencils??[])[T(180)](k=>k.id!==_0x43d736)},!0),p.rwZvA(i,{kind:p.kBYuP});return}if(a[M(153)]===p[M(203)]){const j=a.flowerIds;r(D=>{const A=M;if(D[A(243)]=D[A(243)][A(180)](T=>!j[A(167)](T.id)),D.groups){for(const T of D.groups)T.flowerIds=T[A(250)].filter(k=>!j[A(167)](k));D.groups=D[A(112)][A(180)](T=>T.flowerIds[A(140)]+T.leafIds[A(140)]>0)}},!0),i({kind:p.kBYuP});return}if(a.kind===M(136)){p[M(135)](r,j=>{const D=M;j.groups&&(j.groups=j[D(112)][D(180)](A=>A.id!==a.groupId))},!0),i({kind:"project"});return}if(p.KNdHE(a[M(153)],"stencil")){r(j=>{const D=M;b[D(229)](b[D(248)],D(252))?(_0x458065(A=>{const T=D,k=(A[T(112)]??[]).find(z=>z.id===_0xbe5cd8);if(k){k[T(110)]=[_0x2be78a(k)];for(const z of _0x5637fd)k.flowerIds.includes(z)||k[T(250)][T(175)](z)}},!0),_0x4886e1({kind:D(136),groupId:_0x36bc76})):j.stencils=(j[D(158)]??[])[D(180)](A=>A.id!==a[D(255)])},!0),i({kind:M(191)});return}if(a.kind===p.TxIFO)if(p.ygrwl!=="OdEsE"){i({kind:p[M(132)],flowerId:a[M(108)]});return}else _0x4265d3({kind:M(191)});if(a[M(153)]===M(215)){p[M(135)](r,j=>{const D=M;if(j.flowers=j[D(243)][D(180)](A=>A.id!==a.flowerId),j.groups){for(const A of j.groups)p[D(245)]===p.wZciE?A[D(250)]=A.flowerIds[D(180)](T=>T!==a.flowerId):_0x412f13[D(112)].push({id:_0x1c2810.id,name:_0xc27d80.name,flowerIds:[..._0x4b9971.flowerIds],leafIds:[..._0x20530e.leafIds],rotation:_0x4d3dcc.rotation});j.groups=j.groups.filter(A=>A[D(250)][D(140)]+A[D(184)].length>0)}},!0),i({kind:M(191)});return}if(a.kind==="layer"||p[M(274)](a[M(153)],M(240)))if(M(205)===M(205)){const j=u.flowers.find(A=>A.id===a[M(108)]),D=j?p.vgdni([...j.layers].sort((A,T)=>A.order-T[M(211)])[0]?.id,a.layerId):!1;r(A=>{const T=M;if(p.NibPK(p.xktTO,p.GVjPY)){const k=A.flowers[T(165)](z=>z.id===a[T(108)]);if(!k)return;if(k.layers=k[T(235)][T(180)](z=>z.id!==a.layerId),k[T(235)].slice().sort((z,I)=>z[T(211)]-I[T(211)])[T(162)]((z,I)=>z.order=I+1),p.rwbrM(k.layers.length,0)){const z=[...k.layers][T(143)]((V,F)=>V[T(211)]-F.order),I=k.fabricSquareSize??A.fabricSquareSize;vs(z,I);for(const V of z){const F=k.layers[T(165)](ae=>ae.id===V.id);F&&(F[T(119)]=V[T(119)])}if(D){const V=z[0];k[T(186)]=Math[T(267)](ar(V.radius,V[T(148)]??1,I))}else{const V=p.xSnCK(k.placementMode,"")?p.LYknJ(rr,I,k[T(235)].length,T(233),0):ta(k.baseDiameter??A[T(147)],I,{layerCount:k.layers.length})[T(228)];p.imhXY(W0,z,I,k[T(186)]||V);for(const F of z){const ae=k.layers.find(oe=>oe.id===F.id);ae&&(ae.radius=F.radius,ae[T(148)]=F[T(148)])}}const H=[...z][T(181)]();for(let V=1;p[T(176)](V,H[T(140)]);V++){const F=H[V-1],ae=H[V];ae.offsetAngle=el(F[T(189)],F[T(226)],ae[T(189)])}}}else{b[T(257)](_0x1fb80c,{kind:"flower",flowerId:_0x32600d.flowerId});return}},!0),p.WHaHL(i,{kind:"flower",flowerId:a[M(108)]})}else _0x3fa2b1[M(158)]=(_0x56fd5d.stencils??[]).filter(j=>j.id!==_0x28395f[M(255)])}},E=M=>({id:M.id,name:M.name,flowerIds:[...M[S(250)]],leafIds:[...M.leafIds],rotation:M[S(222)]}),G=p.fngQn(ee.useCallback,M=>{const b=S,j={KJjQI:function(A,T){return p[gt(251)](A,T)},FrIIB:function(A,T){return p[gt(122)](A,T)}},D=p.XcsUw(Tt,"grp");r(A=>{const T=gt;A.groups||(A.groups=[]);const k=A[T(112)][T(221)](I=>{const H=I.name.match(/^ (\d+)$/);return H?parseInt(H[1],10):0}),z=j[T(238)](k.length,0)?j[T(216)](Math[T(220)](...k),1):1;A.groups[T(175)]({id:D,name:T(196)+z,flowerIds:[...M],leafIds:[],rotation:0})},!0),i({kind:p[b(179)],groupId:D}),p.XcsUw(x,A=>({...A,[D]:!0}))},[r,i,x]),Y=p.QMdJo(ee.useCallback,(M,b)=>{const j=S,D={YrIoh:function(A,T){return p[gt(115)](A,T)}};if(p[j(139)](p.hvtfG,j(160))){const A=Tt("grp");p[j(187)](r,T=>{const k=j;T[k(112)]||(T.groups=[]);const z=T.groups[k(221)](H=>{const V=k,F=H[V(217)][V(224)](/^ (\d+)$/);return F?parseInt(F[1],10):0}),I=z[k(140)]>0?D[k(225)](Math.max(...z),1):1;T.groups.push({id:A,name:" "+I,flowerIds:[...M],leafIds:[...b],rotation:0})},!0),i({kind:"group",groupId:A}),x(T=>({...T,[A]:!0}))}else{const A=_0x363e05[_0x1ab570-1],T=_0xf23274[_0x590430];T.offsetAngle=_0x4c24da(A[j(189)],A[j(226)],T.petalCount)}},[r,i,x]),R=ee.useCallback(M=>{const b=S;r(j=>{const D=gt;if(!j.groups)return;const A=j[D(112)][D(165)](T=>T.id===M);if(A)if(A[D(110)]&&p[D(251)](A.previousGroups[D(140)],0)){j[D(112)]=j.groups.filter(T=>T.id!==M);for(const T of A[D(110)])j[D(112)][D(175)]({id:T.id,name:T[D(217)],flowerIds:[...T.flowerIds],leafIds:[...T.leafIds],rotation:T[D(222)]})}else j.groups=j.groups.filter(T=>T.id!==M)},!0),i({kind:b(191)})},[r,i]),Z=ee.useCallback(M=>{const b=S;p[b(133)](r,j=>{const D=b;if(D(190)==="Dgymb"){const A=(_0x27099f[D(112)]??[])[D(165)](T=>T.id===_0x48dc1a);if(!A)return;A[D(110)]=[_0x76d651(A)];for(const T of _0x436047)A.flowerIds[D(167)](T)||A.flowerIds.push(T)}else{if(!j.groups)return;j.groups=j[D(112)][D(180)](A=>A.id!==M)}},!0),p[b(120)](i,{kind:"project"})},[r,i]),P=p.NztOC(ee.useCallback,(M,b)=>{const j=S,D={FGLgV:p.NfdNy};p.VRfAN!=="QJQNV"?(_0x304a28(A=>{const T=gt;A[T(158)]=(A.stencils??[])[T(180)](k=>k.id!==_0x557934)},!0),_0x2e6008[j(153)]===p[j(113)]&&_0x3df690.stencilId===_0x550b2a&&p[j(236)](_0x3c0537,{kind:p.kBYuP})):(r(A=>{const T=j,k=(A[T(112)]??[])[T(165)](z=>z.id===M);if(k){k.previousGroups=[E(k)];for(const z of b)if(T(210)!==D[T(261)])k.flowerIds.includes(z)||k[T(250)][T(175)](z);else if(_0x2cbd4d.leaves=(_0x5c4dae.leaves??[]).filter(I=>!_0x361029[T(167)](I.id)),_0x106f80.groups){for(const I of _0x327477[T(112)])I.leafIds=I[T(184)][T(180)](H=>!_0x7ec6c7[T(167)](H));_0x5d50fc[T(112)]=_0x13abf2[T(112)][T(180)](I=>I.flowerIds[T(140)]+I.leafIds[T(140)]>0)}}},!0),p[j(260)](i,{kind:p[j(179)],groupId:M}))},[r,i]),Q=ee.useCallback((M,b)=>{const j=S,D={vQfZh:function(k,z){return k(z)},XmDGV:function(k,z){return k===z},kySfW:p[j(197)],uKVdB:p[j(163)]},A=M[0],T=M[j(137)](1);p.dCrTa(r,k=>{const z=j,I={MdRto:"flowers"};if(D.XmDGV("UIqsO",D[z(114)]))_0x348dd2({kind:I.MdRto,flowerIds:[..._0xec2184,_0xce6233]});else{if(!k[z(112)])return;const H=k[z(112)][z(165)](F=>F.id===A);if(!H)return;const V=[];for(const F of M)if(z(166)===D.uKVdB){const ae=k.groups[z(165)](oe=>oe.id===F);ae&&V.push(E(ae))}else D.vQfZh(_0x976b94,{kind:z(258),flowerIds:[_0x55ed1e],leafIds:[_0x36bebd.leafId]});H.previousGroups=V;for(const F of T){const ae=k[z(112)].find(oe=>oe.id===F);if(ae){for(const oe of ae.flowerIds)H.flowerIds.includes(oe)||H[z(250)][z(175)](oe);for(const oe of ae.leafIds)H[z(184)].includes(oe)||H[z(184)][z(175)](oe)}}for(const F of b)H[z(250)].includes(F)||H[z(250)].push(F);k[z(112)]=k[z(112)].filter(F=>!T[z(167)](F.id))}},!0),i({kind:p.FDxfO,groupId:A}),p[j(156)](x,k=>({...k,[A]:!0}))},[r,i,x]),W=(M,b)=>{const j=S,D={DxRIj:function(A,T){return p.HvnVK(A,T)},QNavP:function(A,T){return p.emNDm(A,T)},hvApy:function(A,T){return p[gt(199)](A,T)},BDLsE:function(A,T){return p.HvnVK(A,T)},dJFqO:p.lOICl,GbSaX:function(A,T){return A-T},OGbit:function(A,T){return p[gt(198)](A,T)}};if(p.eYZNZ(p[j(154)],p.rmIjQ)){const A=h.w/h.h,T=520/m,k=T*A,z=p[j(207)](-v.x,m),I=-v.y/m,H=z+p[j(265)](k,2),V=I+p[j(249)](T,2),F=p.FcJUP(b,p[j(218)])?j(111):"side",ae=p[j(247)](t1[M][F][j(259)],un),oe=p[j(262)](we,H,0,d),me=we(V-p.zGIZx(ae,2),0,d),fe={id:Tt(j(204)),variant:M,pose:b,position:{x:oe,y:me}};p.yyskz(r,be=>{const he=j;be.stencils||(be[he(158)]=[]),be.stencils[he(175)](fe)},!0),p.ipePO(i,{kind:p.jVOZg,stencilId:fe.id})}else{const A=D[j(241)](_0x490634.w,_0x464ebf.h),T=D.DxRIj(520,_0x2c7f6c),k=D.QNavP(T,A),z=-_0x46243a.x/_0xecbba1,I=D.DxRIj(-_0x5f5a18.y,_0x4c8f35),H=D.hvApy(z,k/2),V=I+D.BDLsE(T,2),F=_0xa9bc0e==="back"?j(111):D[j(266)],ae=D.QNavP(_0x45a44b[_0x1a53ef][F].height,_0x4e43ba),oe=_0x45a5d2(H,0,_0x1133c5),me=_0x1e9633(D.GbSaX(V,ae/2),0,_0x4bcd4a),fe={id:D[j(134)](_0x51a615,"stl"),variant:_0x17d710,pose:_0x55d31f,position:{x:oe,y:me}};_0x2d2464(be=>{be[j(158)]||(be.stencils=[]),be.stencils.push(fe)},!0),_0x2b0f1a({kind:j(232),stencilId:fe.id})}},X=M=>{const b=S;p[b(171)](r,j=>{j.stencils=(j.stencils??[]).filter(D=>D.id!==M)},!0),a.kind===p.jVOZg&&a.stencilId===M&&i({kind:p[b(273)]})},q=p[S(159)](ee.useCallback,M=>{const b=S;if(a.kind===p[b(203)]){if(p.AIcFR==="gKbbe"){const j=a.flowerIds;if(j[b(167)](M)){const D=j.filter(A=>A!==M);D.length===0?i({kind:p[b(273)]}):D[b(140)]===1?i({kind:p[b(132)],flowerId:D[0]}):i({kind:p[b(203)],flowerIds:D})}else p.fhbOp(p[b(141)],p.ifEPC)?_0x85271d[b(250)]=_0x152405[b(250)][b(180)](D=>D!==_0x5939d2):p.PQlUP(i,{kind:p.MbHAI,flowerIds:[...j,M]})}else if(_0x1c1f2a[b(243)]=_0x2c79b3.flowers[b(180)](j=>!_0x268ab8[b(167)](j.id)),_0x398517.leaves=(_0x4c1dae.leaves??[]).filter(j=>!_0x3455a9[b(167)](j.id)),_0x3051ff.groups){for(const j of _0x103065.groups)j.flowerIds=j[b(250)][b(180)](D=>!_0x134148[b(167)](D)),j[b(184)]=j[b(184)].filter(D=>!_0x42fa29.includes(D));_0x5197fa[b(112)]=_0x2b56bd.groups.filter(j=>j[b(250)][b(140)]+j[b(184)].length>0)}}else if(p[b(223)](a.kind,b(215))){if(p.otwNs(a.flowerId,M))return;i({kind:p.MbHAI,flowerIds:[a.flowerId,M]})}else if(a[b(153)]===p.FDxfO){const j=(u[b(112)]??[])[b(165)](A=>A.id===a.groupId),D=j?j[b(250)]:[];if(D[b(167)](M)){if(p.oSPxN!==p[b(272)])return;for(const A of _0x2a09c7.groups)A.flowerIds=A.flowerIds[b(180)](T=>T!==_0x51d210);_0x157e53.groups=_0x21904b[b(112)].filter(A=>A.flowerIds[b(140)]+A.leafIds[b(140)]>0)}p.qXFLm(i,{kind:"flowers",flowerIds:[...D,M]})}else if(p.XKXAR(a[b(153)],p.GNcGp))p[b(269)](i,{kind:"mixed",flowerIds:[M],leafIds:[a.leafId]});else if(p[b(142)](a[b(153)],b(144)))p[b(185)]!==p.SlqIH?_0x1ac377({kind:b(164),flowerId:_0x1db835,petals:_0x16244a}):i({kind:p[b(193)],flowerIds:[M],leafIds:a.leafIds});else if(p[b(146)](a.kind,p.nHeSx)){const j=a.flowerIds,D=a.leafIds;if(j[b(167)](M)){const A=j.filter(T=>T!==M);p[b(178)](A.length,0)&&p[b(146)](D[b(140)],0)?p.PQlUP(i,{kind:p.kBYuP}):p[b(174)](A.length,0)&&D.length===1?p[b(198)](i,{kind:p[b(270)],leafId:D[0]}):A.length===0?i({kind:p.MFMUf,leafIds:D}):p[b(213)](D[b(140)],0)&&p.KNdHE(A[b(140)],1)?i({kind:p.StUHO,flowerId:A[0]}):D[b(140)]===0?i({kind:"flowers",flowerIds:A}):i({kind:p.nHeSx,flowerIds:A,leafIds:D})}else p.UiMpo(i,{kind:b(258),flowerIds:[...j,M],leafIds:D})}else i({kind:"flowers",flowerIds:[M]})},[a,i,u[S(112)]]);return{deleteFlowerById:N,deleteLayerById:y,computeNewOuterRadius:C,addOuterLayer:g,deleteOuterLayer:B,deleteSelected:O,groupSelectedFlowers:G,groupSelectedMixed:Y,ungroupFlowers:R,ungroupAll:Z,addToGroup:P,mergeGroups:Q,addStencil:W,deleteStencil:X,handleShiftFlowerSelect:q,togglePetalSelection:(M,b,j,D)=>{const A=S;if(!D){i({kind:A(240),flowerId:M,layerId:b,index:j});return}const T=b+":"+j;if(p.yqovQ(a[A(153)],"petals")&&a[A(108)]===M){const k=a[A(164)]||[];if(k.some(I=>I.layerId+":"+I[A(254)]===T)){const I=k[A(180)](H=>H.layerId+":"+H[A(254)]!==T);p.dhlfW(I.length,0)?i({kind:p.StUHO,flowerId:M}):I[A(140)]===1?p[A(195)](i,{kind:p[A(239)],flowerId:M,layerId:I[0].layerId,index:I[0][A(254)]}):p[A(268)](p.gMBVn,p.gMBVn)?_0x4805f2[A(250)][A(167)](_0x3e8cc8)||_0x2f3c81.flowerIds.push(_0x522529):i({kind:A(164),flowerId:M,petals:I})}else p.hacfr(i,{kind:p[A(264)],flowerId:M,petals:[...k,{layerId:b,index:j}]})}else if(a[A(153)]===p[A(239)]&&p[A(227)](a.flowerId,M))if(A(152)!=="JzhBA"){if(_0x7a1e46[A(243)]=_0xb637ef.flowers.filter(k=>k.id!==_0x4e17c2[A(108)]),_0x10cc3d[A(112)]){for(const k of _0x2a0aca.groups)k.flowerIds=k.flowerIds[A(180)](z=>z!==_0x1c7bc2.flowerId);_0x11d197[A(112)]=_0x296272[A(112)][A(180)](k=>k.flowerIds.length+k[A(184)][A(140)]>0)}}else{const k={layerId:a.layerId,index:a.index},z={layerId:b,index:j};if(k.layerId+":"+k.index===T)return;p.UiMpo(i,{kind:A(164),flowerId:M,petals:[k,z]})}else p[A(138)](i,{kind:p.TxIFO,flowerId:M,petals:[{layerId:b,index:j}]})}}}(function(u,r){const a=rn,i=u();for(;;)try{if(parseInt(a(366))/1+-parseInt(a(378))/2*(parseInt(a(399))/3)+parseInt(a(425))/4*(parseInt(a(374))/5)+parseInt(a(370))/6+parseInt(a(413))/7*(-parseInt(a(382))/8)+-parseInt(a(410))/9+-parseInt(a(395))/10*(-parseInt(a(392))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,460204);const ob=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),ks=ob(void 0,function(){const u=rn,r={nnUqX:u(402)};return ks.toString().search(r.nnUqX).toString().constructor(ks)[u(421)](r.nnUqX)});ks();function Z0(){const u=["mZi4nfnYAMLsDG","BgvHzG","BMfTzq","odu1mZy3q1DxrevJ","BLHTBfu","z3jW","CxzRA2W","mtmWmdi0ogH3C0fjuW","BwL4zwq","CKTWyKK","zMXVD2vY","mZu2nw9As2XeCa","zMXVD2vYswq","rxLiDuu","zfPSyvq","mtm5mtq3mhnQCNDLqW","zw1vseO","uwfcAue","Bwf4","ode0mtiWy3fZr0zr","z3jVDxa","DKHos3m","Aw5JBhvKzxm","s2jbtuC","DMPmsw4","BgvHDMvZ","zMLSDgvY","qLfls3K","uKXeweC","mteWndeZnLnytMXoDG","tvrOAfm","swPztwS","ntbPA1fPzgq","CvvSqu8","uMLuwKK","ChjVAMvJDa","m3jtu0fABq","ChjLDMLVDxnhCM91Chm","z3jVDxbZ","kcGOlISPkYKRksSK","C2PvAvu","uwrZDvC","rND6C2i","BgvUz3rO","tMTet2O","CM90yxrPB24","rvHTENG","ntm2nJK2mwDswLbJAW","t0rOsxa","BgvHzKLKCW","mJHNs0vUD20","ChvZAa","C0DfAfm","rLLrreq","sNDHDLK","qwfWvLu","BwfW","zMXVD2vYswrZ","C2vHCMnO","zunWuee","A2LUza","zMLUza"];return Z0=function(){return u},Z0()}function rn(u,r){u=u-365;const a=Z0();let i=a[u];if(rn.AZWxJM===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};rn.gKqPvR=f,rn.oXkFJK={},rn.AZWxJM=!0}const x=a[0],m=u+x,v=rn.oXkFJK[m];if(v)i=v;else{const h=function(d){this.xYIdOX=d,this.owycTk=[1,0,0],this.xeuzDx=function(){return"newState"},this.qTERwb="\\w+ *\\(\\) *{\\w+ *",this.JUsAJj=`['|"].+['|"];? *}`};h.prototype.NbUeJO=function(){const d=new RegExp(this.qTERwb+this.JUsAJj),_=d.test(this.xeuzDx.toString())?--this.owycTk[1]:--this.owycTk[0];return this.XChkFL(_)},h.prototype.XChkFL=function(d){return~d?this.GWsIBl(this.xYIdOX):d},h.prototype.GWsIBl=function(d){for(let _=0,S=this.owycTk.length;_<S;_++)this.owycTk.push(Math.round(Math.random())),S=this.owycTk.length;return d(this.owycTk[0])},new h(rn).NbUeJO(),i=rn.gKqPvR(i),rn.oXkFJK[m]=i}return i}function xb({project:u,applyUpdate:r,selection:a,setSelection:i}){const f=rn,x={zRgZE:"ATRsO",qUlAO:function(y,g,B){return y(g,B)},IjYMk:function(y,g){return y(g)},BQKKy:f(383),QdsuW:function(y,g){return y===g},AapVU:f(398),EyHuE:f(388),RLDXG:function(y,g){return y===g},lKogo:function(y,g){return y===g},rKpbI:f(371),iIRDE:"flowers",eqxOg:function(y,g){return y===g},aAHkW:f(367),esLgx:function(y,g){return y===g},eZbck:function(y,g){return y===g},eCpPA:function(y,g){return y(g)},sjUiU:"leaf",QaBiA:function(y,g){return y!==g},DARoi:"debxn",WczIE:f(368),RiTZI:function(y,g){return y>g},aTfuc:function(y,g){return y+g},RwrPY:f(386),Fwzsb:function(y,g){return y(g)},ODhIp:"sIzxe",sBDYf:f(409),NkDOj:"WiaIG",JwavY:function(y,g,B){return y(g,B)}},m=y=>{const g=f;x.zRgZE!=="ATRsO"?_0x37b73d[g(420)].includes(_0x5dfc4f)||_0x1c8237.flowerIds.push(_0x37441f):(x.qUlAO(r,B=>{const O=g;if(B.leaves=(B.leaves??[]).filter(E=>E.id!==y),B[O(401)])if(O(384)!=="fqBPE"){for(const E of B.groups)E.leafIds=E[O(412)][O(389)](G=>G!==y);B[O(401)]=B[O(401)].filter(E=>E.flowerIds[O(406)]+E[O(412)][O(406)]>0)}else{for(const E of _0x1b9589.groups)E.leafIds=E.leafIds.filter(G=>G!==_0xdda4e5);_0x4a192d[O(401)]=_0x185508[O(401)][O(389)](E=>E.flowerIds[O(406)]+E[O(412)][O(406)]>0)}},!0),x.IjYMk(i,{kind:g(398)}))},v=ee.useCallback(y=>{const g=f;if(a[g(423)]===x[g(376)]){const B=a[g(412)];if(B[g(385)](y)){const O=B[g(389)](E=>E!==y);x[g(404)](O[g(406)],0)?i({kind:g(398)}):x[g(391)](O.length,1)?i({kind:"leaf",leafId:O[0]}):g(416)==="ZoPfd"?(x.qUlAO(_0xfd132a,E=>{const G=g,Y=(E.groups??[]).find(R=>R.id===_0x1ed20d);if(Y){Y[G(400)]=[_0x18fea6(Y)];for(const R of _0xcfe3cd)Y.leafIds[G(385)](R)||Y[G(412)][G(414)](R)}},!0),_0x180d36({kind:x[g(390)],groupId:_0x4d97f8})):i({kind:g(388),leafIds:O})}else x.IjYMk(i,{kind:x.EyHuE,leafIds:[...B,y]})}else if(x.lKogo(a[g(423)],"leaf")){if(a.leafId===y)return;i({kind:"leaves",leafIds:[a.leafId,y]})}else if(x.lKogo(a.kind,"group")){const B=(u.groups??[]).find(E=>E.id===a.groupId),O=B?B[g(412)]:[];if(O[g(385)](y))return;x.IjYMk(i,{kind:"leaves",leafIds:[...O,y]})}else if(a.kind===g(373))i({kind:x[g(372)],flowerIds:[a[g(375)]],leafIds:[y]});else if(a[g(423)]===x.iIRDE)if(x.eqxOg(x.aAHkW,x.aAHkW))i({kind:x[g(372)],flowerIds:a[g(420)],leafIds:[y]});else{const B=_0x547c35.filter(O=>O!==_0x27e7d4);x[g(404)](B[g(406)],0)?_0x40c976({kind:x[g(418)]}):B.length===1?_0x51820c({kind:g(426),leafId:B[0]}):_0x2d15b2({kind:x.EyHuE,leafIds:B})}else if(x.RLDXG(a.kind,x.rKpbI)){const B=a[g(420)],O=a[g(412)];if(O.includes(y)){const E=O[g(389)](G=>G!==y);E[g(406)]===0&&x.esLgx(B.length,0)?i({kind:x[g(418)]}):E[g(406)]===0&&x.QdsuW(B.length,1)?i({kind:"flower",flowerId:B[0]}):x.eZbck(E[g(406)],0)?x[g(422)](i,{kind:x.iIRDE,flowerIds:B}):x.esLgx(B.length,0)&&E.length===1?i({kind:x[g(403)],leafId:E[0]}):B.length===0?x[g(394)](i,{kind:x[g(376)],leafIds:E}):i({kind:x.rKpbI,flowerIds:B,leafIds:E})}else i({kind:g(371),flowerIds:B,leafIds:[...O,y]})}else x[g(380)]("VOoTA",x.DARoi)?x[g(394)](i,{kind:x[g(376)],leafIds:[y]}):_0x3998c5[g(412)]=_0x43fa61.leafIds[g(389)](B=>B!==_0xaf55f2)},[a,i,u.groups]),h=y=>({id:y.id,name:y[f(365)],flowerIds:[...y.flowerIds],leafIds:[...y[f(412)]],rotation:y[f(408)]}),d=ee.useCallback(y=>{const g=f,B=x[g(394)](Tt,x.WczIE),O=(u.groups??[])[g(419)](G=>{const Y=g,R=G[Y(365)].match(/^ (\d+)$/);return R?parseInt(R[1],10):0}),E=x[g(397)](O[g(406)],0)?x.aTfuc(Math[g(381)](...O),1):1;r(G=>{const Y=g;G[Y(401)]||(G[Y(401)]=[]),G.groups[Y(414)]({id:B,name:" "+E,flowerIds:[],leafIds:[...y],rotation:0})},!0),i({kind:g(383),groupId:B})},[u[f(401)],r,i]),_=ee.useCallback((y,g)=>{const B=f,O={dZlaT:x.RwrPY,RXWTi:function(E,G){return x[rn(405)](E,G)}};x[B(396)](r,E=>{const G=B;if(O.dZlaT===O[G(377)]){const Y=(E.groups??[])[G(424)](R=>R.id===y);if(!Y)return;Y.previousGroups=[O.RXWTi(h,Y)];for(const R of g)Y[G(412)].includes(R)||Y.leafIds[G(414)](R)}else _0x125e75(Y=>{const R=G;if(Y[R(401)]){for(const Z of Y[R(401)])Z[R(412)]=Z[R(412)].filter(P=>P!==_0x52bc9c);Y.groups=Y.groups.filter(Z=>Z[R(420)].length+Z[R(412)][R(406)]>0)}},!0)},!0),i({kind:B(383),groupId:y})},[r,i]),S=ee.useCallback((y,g)=>{const B=f,O={sGEhS:function(Y,R){return Y(R)},ExuqS:B(387)},E=y[0],G=y.slice(1);r(Y=>{const R=B;if(!Y.groups)return;const Z=Y[R(401)][R(424)](Q=>Q.id===E);if(!Z)return;const P=[];for(const Q of y){const W=Y.groups.find(X=>X.id===Q);W&&P[R(414)](O[R(415)](h,W))}Z.previousGroups=P;for(const Q of G){const W=Y.groups.find(X=>X.id===Q);if(W){for(const X of W[R(412)])Z.leafIds.includes(X)||Z[R(412)].push(X);for(const X of W.flowerIds)Z[R(420)][R(385)](X)||Z.flowerIds[R(414)](X)}}for(const Q of g)O.ExuqS!=="jQOBS"?Z[R(412)].includes(Q)||Z[R(412)][R(414)](Q):(_0xd6e5d3.groups||(_0x2c3e9a.groups=[]),_0xc714ff.groups.push({id:_0x36e212,name:" "+_0x11d1bd,flowerIds:[],leafIds:[..._0x2449fc],rotation:0}));Y[R(401)]=Y.groups[R(389)](Q=>!G.includes(Q.id))},!0),x[B(405)](i,{kind:B(383),groupId:E})},[r,i]),p=ee.useCallback(y=>{const g=f,B={WXrhA:function(O,E,G){return O(E,G)},emUHJ:function(O,E){return O(E)},qvkkl:g(393),UvQOd:"pDKqU",lilMM:x[g(411)]};r(O=>{const E=g;if(B[E(369)]!=="bmoaL"){if(!O[E(401)])return;const G=O[E(401)][E(424)](Y=>Y.id===y);if(!G)return;if(G[E(400)]&&G.previousGroups.length>0){O[E(401)]=O[E(401)][E(389)](Y=>Y.id!==y);for(const Y of G[E(400)])O.groups[E(414)]({id:Y.id,name:Y.name,flowerIds:[...Y.flowerIds],leafIds:[...Y[E(412)]],rotation:Y.rotation})}else B.UvQOd===B.lilMM?(lbiYxv.WXrhA(_0x5a54e6,Y=>{const R=E;if(Y[R(388)]=(Y[R(388)]??[])[R(389)](Z=>Z.id!==_0x1ea497),Y.groups){for(const Z of Y[R(401)])Z[R(412)]=Z[R(412)].filter(P=>P!==_0x2a3219);Y[R(401)]=Y[R(401)][R(389)](Z=>Z.flowerIds.length+Z[R(412)].length>0)}},!0),lbiYxv[E(379)](_0xf2055f,{kind:E(398)})):O.groups=O[E(401)][E(389)](Y=>Y.id!==y)}else if(_0x4c9179.leaves=(_0x501445[E(388)]??[])[E(389)](G=>G.id!==_0x231958),_0x512956.groups){for(const G of _0x32c042[E(401)])G.leafIds=G[E(412)][E(389)](Y=>Y!==_0x546f16);_0x1292dd[E(401)]=_0x4468b5[E(401)].filter(G=>G.flowerIds[E(406)]+G.leafIds[E(406)]>0)}},!0),i({kind:"project"})},[r,i]),C=x[f(417)](ee.useCallback,(y,g)=>{r(B=>{const O=rn;if(O(388),x.sBDYf===x[O(407)])_0xaf1e1b({kind:OtraJL.nLJpp,leafIds:_0x27fa76});else{const E=(B.groups??[]).find(G=>G.id===g);E&&!E[O(412)][O(385)](y)&&E.leafIds.push(y)}},!0)},[r]),N=ee.useCallback(y=>{r(g=>{const B=rn;if(g[B(401)]){for(const O of g[B(401)])O.leafIds=O[B(412)][B(389)](E=>E!==y);g.groups=g.groups.filter(O=>O[B(420)][B(406)]+O.leafIds[B(406)]>0)}},!0)},[r]);return{deleteLeafById:m,handleShiftLeafSelect:v,groupSelectedLeaves:d,ungroupLeaves:p,addLeafToGroup:C,removeLeafFromGroup:N,addLeavesToGroup:_,mergeLeafGroups:S}}(function(u,r){const a=Rn,i=u();for(;;)try{if(-parseInt(a(328))/1+parseInt(a(341))/2+parseInt(a(374))/3*(-parseInt(a(306))/4)+parseInt(a(360))/5*(parseInt(a(345))/6)+parseInt(a(378))/7+-parseInt(a(347))/8+parseInt(a(337))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(X0,444420);const fb=(function(){const u={bblBA:"cuzqJ",jUNjS:"yQZlH"};let r=!0;return function(a,i){const f=Rn,x={COYLG:function(v,h){return v!==h},FkDPe:u[f(333)],EdnGd:u.jUNjS},m=r?function(){const v=f,h={RYRTP:function(d,_){return d===_},gewwJ:"",yahdh:function(d,_,S,p,C){return d(_,S,p,C)},tSXBW:function(d,_){return d(_)}};if(x[v(383)](x[v(313)],v(367))){if(i)if(x[v(317)]!==v(377))_0x4f3ec4=_0x2b8c8a;else{const d=i.apply(a,arguments);return i=null,d}}else{const d=_0x8c6f4.fabricSquareSize,_=_0x4235e7[v(314)];h.tSXBW(_0x58aa99,S=>{const p=v,C={...S,fabricSquareSize:d,baseDiameter:_};return h[p(323)](C.placementMode,h[p(327)])?C.flowerDiameter=_0x1a4bcb(_,d,{layerCount:C.layerCount,sizeMode:C[p(355)],sizeStepMm:C[p(346)]}).diameter:C.flowerDiameter=h.yahdh(_0x3f3f5b,d,C[p(373)],C[p(355)],C.sizeStepMm),C}),_0x157f9f(!0)}}:function(){};return r=!1,m}})(),Is=fb(void 0,function(){const u=Rn,r={JCAyJ:"(((.+)+)+)+$"};return Is.toString().search("(((.+)+)+)+$")[u(361)]().constructor(Is)[u(310)](r.JCAyJ)});Is();function X0(){const u=["vhjkz3O","uNnstgm","BgvUz3rO","q09zteC","zgLHBwv0zxi","ALf1tfi","tgf5zxi","z3jHzhvHBa","mZe2yw5rwwDp","CMn3tfG","DervCNO","Dw5PzM9YBq","C2vHCMnO","Ce9Hwg4","zMXVD2vY","rMTeugu","yMfZzurPyw1LDgvY","q2vUDgvY","zMLUza","rwrUr2q","AMLHshO","vgLuD1G","AvfVA3a","ELD2zw8","y2vftMq","uLLsvfa","zfDiANi","u09uq3q","ywjZ","z2v3D0O","nJy0mta2v1vpvg5P","y29SB3jjza","zMX3","z0XbCuC","ChvZAa","yMjSqKe","Cg9ZAxrPB24","sw5Uzxi","y29Z","ndu0odq0n0joBufLEG","BuX3vLO","B3jKzxi","5lI444gK44g+44g/","mta0nJjIreH0Bxi","zMXVD2vYrgLHBwv0zxi","CMfKAxvZ","DgPpuvC","nMLNB3P0vq","C2L6zvn0zxbnBq","mta0nti4ofrWufD3CW","EuHOwee","twLKzgXL","rvnOzfK","5y2k44gp44gz","CMv2zxjZzq","s3bxBgu","wevkqxe","C2L6zu1Vzgu","AMPlvLi","BvjcA1q","vhLHr2m","r0LnCw4","ody0ntvMz1vhsfm","Dg9tDhjPBMC","zMfICMLJu3f1yxjLu2L6zq","44or44o844oR","zg14Ae8","t3v0zxiR","rMXVD2vYia","zfzswLu","uxvfsw4","zMXVD2vYCW","zhj6Dgm","rNjhuvK","y29Sx3DOAxrL","Bgf5zxjdB3vUDa","mtmWnxLjyMfMCq","s2fgz3m","C29Tzq","EvfABeG","ntiXotuYovf6s3bICG","CM91BMq"];return X0=function(){return u},X0()}function Rn(u,r){u=u-303;const a=X0();let i=a[u];if(Rn.DrAHOQ===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};Rn.PhjWAE=f,Rn.YHBevo={},Rn.DrAHOQ=!0}const x=a[0],m=u+x,v=Rn.YHBevo[m];if(v)i=v;else{const h=function(d){this.swLiIx=d,this.QtQuoA=[1,0,0],this.dZxyen=function(){return"newState"},this.YSSUjM="\\w+ *\\(\\) *{\\w+ *",this.ypvWuZ=`['|"].+['|"];? *}`};h.prototype.eoVIub=function(){const d=new RegExp(this.YSSUjM+this.ypvWuZ),_=d.test(this.dZxyen.toString())?--this.QtQuoA[1]:--this.QtQuoA[0];return this.ndOfQC(_)},h.prototype.ndOfQC=function(d){return~d?this.CQqxrH(this.swLiIx):d},h.prototype.CQqxrH=function(d){for(let _=0,S=this.QtQuoA.length;_<S;_++)this.QtQuoA.push(Math.round(Math.random())),S=this.QtQuoA.length;return d(this.QtQuoA[0])},new h(Rn).eoVIub(),i=Rn.PhjWAE(i),Rn.YHBevo[m]=i}return i}function db({project:u,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:f,pan:x,stageSize:m,CANVAS_MAX_SVG:v}){const h=Rn,d={TiTwX:function(g,B){return g===B},TyaGc:h(351),jQuLR:function(g,B,O,E){return g(B,O,E)},XEJAq:function(g,B,O,E,G){return g(B,O,E,G)},SKoVJ:function(g,B){return g(B)},mLwVZ:function(g,B){return g/B},zpurf:"(((.+)+)+)+$",HCKDN:"pOaXn",KpWle:function(g,B){return g*B},TrJgz:h(349),DVasD:"Outer",FrGQY:function(g,B){return g<B},yHhXA:h(309),aiYHD:"rcwLX",GIMqn:function(g,B){return g*B},yrmED:function(g,B){return g-B},BVvHd:function(g,B){return g!==B},dmxhO:function(g,B){return g/B},RsRLc:function(g,B){return g*B},BZzLy:function(g,B){return g*B},EShdY:function(g,B){return g/B},QuEIn:"RjTqt",ceENd:function(g,B){return g+B},iQokp:"NMJTk",gLAqG:h(304),piyOi:function(g,B){return g<=B},zWveo:function(g,B){return g===B},jiaHz:function(g,B){return g+B},jjKVR:function(g,B){return g-B},SOTCt:function(g,B){return g===B},mRBkT:function(g,B,O,E){return g(B,O,E)},mPWeu:function(g,B){return g/B},CpKVQ:function(g,B){return g*B},wqcQV:function(g,B){return g/B},HKyTd:function(g,B){return g/B},rYJlC:h(363),IDwEw:h(372),tDUrz:function(g,B,O){return g(B,O)},wNnxR:h(340)},[_,S]=ee.useState(!1),[p,C]=d.SKoVJ(ee.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:u.baseDiameter,layerCount:1,petalCount:6,petalType:d.wNnxR,sizeMode:d[h(348)],sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:_,setShowAddFlowerDialog:S,addFlowerOpts:p,setAddFlowerOpts:C,addFlower:()=>{const g=h,B=u[g(362)],O=u.baseDiameter;C(E=>{const G=g,Y={...E,fabricSquareSize:B,baseDiameter:O};return d.TiTwX(Y.placementMode,d.TyaGc)?Y.flowerDiameter=d.jQuLR(ta,O,B,{layerCount:Y.layerCount,sizeMode:Y.sizeMode,sizeStepMm:Y.sizeStepMm})[G(384)]:Y[G(342)]=d[G(354)](rr,B,Y.layerCount,Y.sizeMode,Y.sizeStepMm),Y}),d.SKoVJ(S,!0)},confirmAddFlower:()=>{const g=h,B={dWHjr:d.zpurf,QhFoH:d.HCKDN},{placementMode:O,layerCount:E,petalCount:G,petalType:Y,sizeMode:R,sizeStepMm:Z}=p,P=p.fabricSquareSize,{length:Q}=Ot(P),W=.28,X=d[g(338)](Math[g(379)](d[g(353)](Q*W,10)),10),q=[],U=[g(315),g(335),d[g(380)],d.DVasD,g(365)];let M=X,b=0;for(let fe=0;d[g(371)](fe,E);fe++){const be=fe,he=1;let Ue;if(R===d.yHhXA)Ue=he;else{const vt=Z/P;Ue=we(he+d[g(353)](be,vt),.3,3)}let Ge;if(fe===0)d[g(319)](d.aiYHD,g(307))?Ge=X:_0xc2e04d=g(304);else{const vt=R===g(305)?d[g(303)](we,1+d[g(359)](d.yrmED(fe,1),Z)/P,.3,3):1,Yt=Q*vt;let zt;if(O===d.TyaGc)if(d.BVvHd(g(375),g(344))){const Ut=70*Math.PI/180,cn=E>1?d[g(364)](fe,E-1)*Ut:0,pn=Math[g(336)](cn);zt=d[g(381)](d.BZzLy(Yt,d.EShdY(30,100)),pn)}else _0x30a76a=d.mLwVZ(_0x17f8e7,3);else d.BVvHd(d[g(368)],g(370))?zt=d[g(350)](Yt,3):_0x4506ea=_0x472db3;M=d[g(322)](M,zt),Ge=Math[g(379)](d[g(359)](M,10))/10}const tt=fe===0?0:el(G,b,G);b=tt;let nt;if(E===1)d[g(320)]!=="UKqph"?nt=d[g(331)]:_0x141119.flowerDiameter=_0x58aa74(_0x2baecc,_0x4493e7,{layerCount:_0x1980ad.layerCount,sizeMode:_0x4b2d91[g(355)],sizeStepMm:_0x2a6f6b.sizeStepMm})[g(384)];else if(d.piyOi(E,5)){const vt=d[g(321)](E,2)?[0,3]:E===3?[0,1,3]:E===4?[0,1,2,3]:[0,1,2,3,4];nt=U[vt[fe]]??"Layer "+d.ceENd(fe,1)}else nt="Layer "+d[g(318)](fe,1);q[g(332)]({id:Tt("lay"),name:nt,order:d[g(356)](E,fe),petalType:Y,petalCount:G,radius:Ge,scale:Ue,widthScale:oi(G),offsetAngle:tt,colorId:p[g(329)]||(u.palette?.[0]?.id??g(372)),visible:!0,locked:!1})}q[g(352)]();const j=[...q].sort((fe,be)=>fe.order-be[g(339)]),D=d[g(325)](O,d[g(358)])?d[g(303)](ta,p.baseDiameter,P,{layerCount:E,sizeMode:R,sizeStepMm:Z}).diameter:d.XEJAq(rr,P,E,R,Z);d[g(357)](W0,j,P,p.flowerDiameter||D);for(const fe of j){const be=q[g(316)](he=>he.id===fe.id);be&&(be[g(343)]=fe.radius,be.scale=fe.scale)}const A=d.mPWeu(m.w,m.h),T=520/f,k=d.CpKVQ(T,A),z=d.mLwVZ(-x.x,f),I=d.wqcQV(-x.y,f);let H=z+k/2,V=I+d.HKyTd(T,2);const F=25;let ae=0;for(;d.FrGQY(ae,50)&&u[g(369)][g(376)](fe=>Math[g(326)](fe.position.x-H)<5&&Math.abs(fe[g(334)].y-V)<5);)H+=F,V+=F,H=we(H,0,v),V=we(V,0,v),ae++;const oe=p.flowerDiameter||D,me={id:Tt(g(330)),name:g(366)+(u[g(369)][g(382)]+1),position:{x:H,y:V},flowerDiameter:oe,rotation:0,layers:q,center:{type:d.rYJlC,size:6,color:d.IDwEw},fabricSquareSize:P,placementMode:O,baseDiameter:O===d[g(358)]?p.baseDiameter:lr(oe)};d[g(308)](r,fe=>{const be=g;if(be(311)===B.QhFoH)fe.flowers[be(332)](me);else return _0xd9edce[be(361)]().search(WlRjhv[be(324)])[be(361)]().constructor(_0x5162b7).search("(((.+)+)+)+$")},!0),a({kind:g(312),flowerId:me.id}),d.SKoVJ(i,fe=>({...fe,[me.id]:!0})),S(!1)}}}(function(u,r){const a=yn,i=u();for(;;)try{if(parseInt(a(411))/1*(parseInt(a(416))/2)+parseInt(a(409))/3*(-parseInt(a(426))/4)+parseInt(a(402))/5+parseInt(a(418))/6*(-parseInt(a(410))/7)+-parseInt(a(393))/8+-parseInt(a(420))/9+parseInt(a(394))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(V0,405e3);function V0(){const u=["tgvHzIa","kcGOlISPkYKRksSK","C2vHCMnO","CgfSzxr0zq","odKYnZC2sNztAhjh","C3bSAxq","mZmZntG0rg1RAvvO","ota2otu1mejgrLvbCW","BxPkwLi","zMLUza","yvnZB0e","sLLPzNu","Dg9tDhjPBMC","y29Sx2DYzwvU","zMfICMLJu3f1yxjLu2L6zq","mZKYnZq0meLduxHmrq","z2TxBw4","rxvgBMO","zMntDuy","CM91BMq","BgvHDMvZ","C29Tzq","ou1VvxPrEa","mti0mtGXnfzNr1vNvW","n2fOsgX3ra","BgvHzG","r0vMvMm","EMnRCNO","rM9MD00","nJe2mJbJr2PPC2y","tLzPA1y","mtjSq0XAwMW","BejotKS","mZKZmZi2muzXBM1vwG","Bu1oBMe"];return V0=function(){return u},V0()}const hb=(function(){const u={ihAFN:function(a,i,f,x){return a(i,f,x)},kmdru:"zmmIw"};let r=!0;return function(a,i){const f={aSsoA:function(m,v,h,d){return u.ihAFN(m,v,h,d)},EuFnj:function(m,v){return m===v},GEfVc:u.kmdru},x=r?function(){const m=yn;if(f[m(404)](f[m(413)],m(405))){const v="2|0|4|3|1"[m(392)]("|");let h=0;for(;;){switch(v[h++]){case"0":_0x83ccbf+=25;continue;case"1":_0xa465bc++;continue;case"2":_0x1e43c3+=25;continue;case"3":_0xf13d2=f[m(397)](_0x10c3b9,_0x48d88d,0,_0x23f8b5);continue;case"4":_0x171567=_0x12cd76(_0x13a0ff,0,_0x36ab3b);continue}break}}else if(i){const v=i.apply(a,arguments);return i=null,v}}:function(){};return r=!1,x}})(),Gs=hb(void 0,function(){const u=yn;return Gs[u(399)]()[u(424)](u(423)).toString().constructor(Gs).search(u(423))});Gs();function yn(u,r){u=u-392;const a=V0();let i=a[u];if(yn.douxrw===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};yn.luzBqS=f,yn.yNzjKR={},yn.douxrw=!0}const x=a[0],m=u+x,v=yn.yNzjKR[m];if(v)i=v;else{const h=function(d){this.vvKXmp=d,this.kYMLpF=[1,0,0],this.tSeDEj=function(){return"newState"},this.fUzwiz="\\w+ *\\(\\) *{\\w+ *",this.RMPgMc=`['|"].+['|"];? *}`};h.prototype.OElXeG=function(){const d=new RegExp(this.fUzwiz+this.RMPgMc),_=d.test(this.tSeDEj.toString())?--this.kYMLpF[1]:--this.kYMLpF[0];return this.ksyCpX(_)},h.prototype.ksyCpX=function(d){return~d?this.SGjqKh(this.vvKXmp):d},h.prototype.SGjqKh=function(d){for(let _=0,S=this.kYMLpF.length;_<S;_++)this.kYMLpF.push(Math.round(Math.random())),S=this.kYMLpF.length;return d(this.kYMLpF[0])},new h(yn).OElXeG(),i=yn.luzBqS(i),yn.yNzjKR[m]=i}return i}function Wd(u){const r=yn,a={gkWmn:function(i,f){return i/f}};return a.gkWmn(Math[r(406)](a[r(403)](u*Math.SQRT2,2)*10),10)}function mb({project:u,applyUpdate:r,setSelection:a,zoom:i,pan:f,stageSize:x,CANVAS_MAX_SVG:m}){const v=yn,h={zckrz:"col_green",mzJZR:function(y,g){return y(g)},lBNNK:function(y,g){return y/g},NVikV:function(y,g){return y*g},Pbbko:function(y,g){return y+g},JYifu:function(y,g){return y<g},FofwM:function(y,g,B,O){return y(g,B,O)},mMNna:"leaf",vlNpw:""},[d,_]=h[v(395)](ee.useState,!1),[S,p]=ee.useState({fabricSquareSize:20,leafSizeMm:Wd(20),petalType:h.vlNpw,colorId:""});return{showAddLeafDialog:d,setShowAddLeafDialog:_,addLeafOpts:S,setAddLeafOpts:p,addLeaf:()=>{const y=v,g=u[y(401)],B=u[y(425)]?.[y(396)](O=>O.id===y(400)||O.id==="col_darkgreen")?.id??u[y(425)]?.[0]?.id??h[y(414)];h.mzJZR(p,O=>({...O,fabricSquareSize:g,leafSizeMm:Wd(g),colorId:O.colorId||B})),_(!0)},confirmAddLeaf:()=>{const y=v,{petalType:g,colorId:B,fabricSquareSize:O}=S,E=h[y(419)](x.w,x.h),G=520/i,Y=h[y(417)](G,E),R=-f.x/i,Z=h[y(419)](-f.y,i);let P=h.Pbbko(R,h[y(419)](Y,2)),Q=Z+G/2,W=0;for(;h[y(398)](W,50)&&(u[y(407)]??[])[y(408)](q=>Math.abs(q.position.x-P)<5&&Math.abs(q.position.y-Q)<5);)P+=25,Q+=25,P=we(P,0,m),Q=h[y(415)](we,Q,0,m),W++;const X={id:Tt(h[y(421)]),name:y(422)+((u.leaves??[]).length+1),position:{x:P,y:Q},rotation:135,petalType:g,colorId:B||u.palette?.[0]?.id||y(400),fabricSquareSize:O,scale:1,widthScale:1,visible:!0,locked:!1};r(q=>{const U=y;q.leaves||(q[U(407)]=[]),q[U(407)].push(X)},!0),h.mzJZR(a,{kind:y(412),leafId:X.id}),_(!1)}}}(function(u,r){const a=On,i=u();for(;;)try{if(-parseInt(a(169))/1*(-parseInt(a(161))/2)+-parseInt(a(166))/3*(parseInt(a(160))/4)+parseInt(a(119))/5+parseInt(a(140))/6+parseInt(a(164))/7+-parseInt(a(153))/8*(parseInt(a(123))/9)+-parseInt(a(125))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(J0,547398);const bb=(function(){const u=On,r={KPrsP:function(i,f){return i===f},dVRAR:u(136)};let a=!0;return function(i,f){const x=u;if(r[x(134)](r[x(132)],"OzdgW")){const m=a?function(){const v=x;if(f){const h=f[v(137)](i,arguments);return f=null,h}}:function(){};return a=!1,m}else return _0x2772e1.layers.find(m=>m.id===_0x3e8b2b.layerId)??null}})(),Rs=bb(void 0,function(){const u=On,r={VssIm:"(((.+)+)+)+$"};return Rs.toString()[u(171)](r.VssIm).toString().constructor(Rs).search(u(121))});Rs();function On(u,r){u=u-118;const a=J0();let i=a[u];if(On.meCXnC===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",p=_+f;for(let C=0,N,y,g=0;y=h.charAt(g++);~y&&(N=C%4?N*64+y:y,C++%4)?_+=p.charCodeAt(g+10)-10!==0?String.fromCharCode(255&N>>(-2*C&6)):C:0)y=d.indexOf(y);for(let C=0,N=_.length;C<N;C++)S+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(S)};On.zSJyqO=f,On.yiyUMJ={},On.meCXnC=!0}const x=a[0],m=u+x,v=On.yiyUMJ[m];if(v)i=v;else{const h=function(d){this.iMbpun=d,this.QdPDdX=[1,0,0],this.OmZoPF=function(){return"newState"},this.NUayWs="\\w+ *\\(\\) *{\\w+ *",this.vJkjDB=`['|"].+['|"];? *}`};h.prototype.RckiYV=function(){const d=new RegExp(this.NUayWs+this.vJkjDB),_=d.test(this.OmZoPF.toString())?--this.QdPDdX[1]:--this.QdPDdX[0];return this.FpKAsV(_)},h.prototype.FpKAsV=function(d){return~d?this.oTGlSn(this.iMbpun):d},h.prototype.oTGlSn=function(d){for(let _=0,S=this.QdPDdX.length;_<S;_++)this.QdPDdX.push(Math.round(Math.random())),S=this.QdPDdX.length;return d(this.QdPDdX[0])},new h(On).RckiYV(),i=On.zSJyqO(i),On.yiyUMJ[m]=i}return i}function gb(u,r){const a=On,i={LVtwa:"flower",GLZdS:a(124),KHUSp:function(y,g){return y===g},xLgKm:"flowers",vewJH:function(y,g){return y===g},Cgmvt:"group",dnHTq:a(159),HwNJJ:a(133),zBCyp:function(y,g){return y===g},oUJbO:"petal",qxvQg:function(y,g){return y===g},dQFdl:function(y,g){return y!==g},jSBor:a(151),gFYTF:"leaves",HwMcW:a(129),jQMdF:function(y,g){return y===g},yQJEO:a(152),zeBKH:function(y,g,B){return y(g,B)},qNyeZ:function(y,g,B){return y(g,B)},KBvLP:function(y,g,B){return y(g,B)},iikfh:function(y,g){return y===g},gRxMU:function(y,g){return y===g}},f=i.zeBKH(ee.useMemo,()=>{const y=a;return r.kind===i.LVtwa||r.kind===i.GLZdS||r.kind===y(122)||i[y(154)](r.kind,y(151))?u[y(157)].find(g=>g.id===r.flowerId)??null:null},[u[a(157)],r]),x=i.zeBKH(ee.useMemo,()=>{const y=a;if(r[y(146)]===i.xLgKm)return u.flowers[y(143)](g=>r[y(128)][y(156)](g.id));if(i.vewJH(r.kind,y(129)))return u.flowers[y(143)](g=>r.flowerIds[y(156)](g.id));if(r[y(146)]===i[y(126)])if(i.KHUSp(i[y(158)],i[y(158)])){const g=(u[y(165)]??[])[y(167)](B=>B.id===r.groupId);if(g)return u[y(157)][y(143)](B=>g[y(128)][y(156)](B.id))}else return _0x29a2fb.flowers[y(167)](g=>g.id===_0x201450.flowerId)??null;return[]},[u.flowers,u[a(165)],r]),m=i.qNyeZ(ee.useMemo,()=>{const y=a;return i[y(154)](r[y(146)],i[y(144)])?(u.leaves??[])[y(167)](g=>g.id===r[y(131)])??null:null},[u[a(142)],r]),v=ee.useMemo(()=>{const y=a;return r.kind===i.Cgmvt?(u[y(165)]??[]).find(g=>g.id===r.groupId)??null:null},[u.groups,r]),h=i.KBvLP(ee.useMemo,()=>{const y=a;return f&&(i[y(118)](r[y(146)],"layer")||i.vewJH(r.kind,i.oUJbO))?f.layers[y(167)](g=>g.id===r.layerId)??null:null},[f,r]),d=i.zBCyp(r.kind,a(122))?r.index:null,_=i[a(155)](r[a(146)],a(151))?r.petals:[],S=r[a(146)]===a(139)?(u.stencils??[])[a(167)](y=>y.id===r.stencilId)??null:null,p=i[a(120)](r[a(146)],i.LVtwa)||r[a(146)]===i.GLZdS||i.gRxMU(r.kind,a(122))||r.kind===a(151)?r.flowerId:null,C=i[a(138)](ee.useMemo,()=>{const y=a,g={JLtWX:y(170)};if(i[y(168)](r.kind,i.Cgmvt))if(y(150)!==y(145)){const B=(u.groups??[]).find(O=>O.id===r.groupId);if(B)return new Set(B[y(128)])}else return(_0x411427[y(142)]??[])[y(167)](B=>B.id===_0x44eb6a.leafId)??null;if(r[y(146)]===i.xLgKm){if(i[y(162)](y(149),"KvXXt"))return new Set(r[y(128)]);{const B=_0x1bc68c(_0x261e15,_0x1aa783[y(147)]);if(B)return _0x12be30[y(146)]===g[y(127)]?new _0x2b0e96(B.flowerIds[y(143)](O=>O!==_0x4926ff.flowerId)):new _0x485866(B.flowerIds)}}if(r[y(146)]===y(129))return new Set(r[y(128)]);if(r.kind===y(170)||r.kind===i.GLZdS||r[y(146)]===y(122)||r[y(146)]===i[y(163)]){const B=Ml(u,r[y(147)]);if(B)return r[y(146)]===i.LVtwa?new Set(B[y(128)].filter(O=>O!==r[y(147)])):new Set(B[y(128)])}return new Set},[r,u]),N=ee.useMemo(()=>{const y=a;if(r[y(146)]===i.Cgmvt){const g=(u.groups??[])[y(167)](B=>B.id===r[y(141)]);if(g)return new Set(g[y(135)])}if(r[y(146)]===i.gFYTF)return new Set(r.leafIds);if(r[y(146)]===i[y(148)])return new Set(r[y(135)]);if(i.jQMdF(r.kind,"leaf"))if(y(130)!==i.yQJEO){const g=ea(u,r[y(131)]);if(g)return new Set(g[y(135)][y(143)](B=>B!==r.leafId))}else return _0x152535.flowers.filter(g=>_0x5dc5cf[y(128)].includes(g.id));return new Set},[r,u]);return{selectedFlower:f,selectedFlowers:x,selectedLeaf:m,selectedGroup:v,selectedLayer:h,selectedPetalIndex:d,selectedPetals:_,selectedStencil:S,selectedFlowerId:p,groupHighlightedFlowerIds:C,groupHighlightedLeafIds:N}}function J0(){const u=["ndC0mJyWnvvqB3visG","z3jVDxbZ","mJm0ouLmy0nsta","zMLUza","CxH2uwC","mJq1n3zhrfP1EG","zMXVD2vY","C2vHCMnO","EKjdExa","ndi0otC5mhLABLrpAq","AwLRzMG","kcGOlISPkYKRksSK","Cgv0ywW","mtHRuKDrA20","Bgf5zxi","mtK0mtmWndbvCePwzxO","q2DTDNq","sKX0v1G","zMXVD2vYswrZ","BwL4zwq","txjAC1O","BgvHzKLK","zfzsqvi","BgvHzG","s1bYC1a","BgvHzKLKCW","t3PKz1C","yxbWBhK","Cu55zvO","C3rLBMnPBa","ndK3mJC4ohvQyM5TDG","z3jVDxbjza","BgvHDMvZ","zMLSDgvY","shDosKO","qLruyMW","A2LUza","zMXVD2vYswq","shDny1C","uhbwzNK","BvvmA2W","Cgv0ywXZ","uMXnAeS","mJyYmte3nMHgshvhqW","s0Hvu3a","DMv3sKG","Aw5JBhvKzxm","zMXVD2vYCW","zg5ivhe","CLrwshi","mtm0oeX4DgvRtW","odu2yMvSD3jA","zffgzgW","ALncB3i"];return J0=function(){return u},J0()}function vb(u){const{project:r,selection:a,setSelection:i,applyUpdate:f}=u,x=ee.useMemo(()=>new Map((r.palette||[]).map(de=>[de.id,de])),[r.palette]),{widths:m,containerRef:v,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:_,isDesktop:S}=ub(),p=ee.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[C,N]=ee.useState({});ee.useEffect(()=>{try{const pe=localStorage.getItem(p);if(pe){const Be=JSON.parse(pe);if(Be&&typeof Be=="object"){N(Be);return}}}catch{}const de=r.flowers?.[0];de&&N({[de.id]:!0})},[p]),ee.useEffect(()=>{try{localStorage.setItem(p,JSON.stringify(C))}catch{}},[p,C]),ee.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const de=a.flowerId;N(pe=>pe?.[de]?pe:{...pe,[de]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const de=a.flowerIds;N(pe=>{const Be={...pe};for(const Ze of de)Be[Ze]=!0;return Be})}},[a]);const y=de=>C?.[de]??!1,g=de=>N(pe=>({...pe,[de]:!(pe?.[de]??!1)})),B=ee.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[O,E]=ee.useState({});ee.useEffect(()=>{try{const pe=localStorage.getItem(B);if(pe){const Be=JSON.parse(pe);if(Be&&typeof Be=="object"){E(Be);return}}}catch{}const de=r.groups??[];if(de.length>0){const pe={};for(const Be of de)pe[Be.id]=!0;E(pe)}},[B]),ee.useEffect(()=>{try{localStorage.setItem(B,JSON.stringify(O))}catch{}},[B,O]);const G=de=>O?.[de]??!0,Y=de=>E(pe=>({...pe,[de]:!(pe?.[de]??!0)})),R=ee.useRef({flowerId:null,timer:null}),Z=de=>{const pe=R.current.timer;pe&&window.clearTimeout(pe),R.current.flowerId=de,R.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:de}),N(Be=>({...Be,[de]:!0})),R.current.timer=null,R.current.flowerId=null},200)},P=de=>{const pe=R.current.timer;pe&&R.current.flowerId===de&&window.clearTimeout(pe),R.current.timer=null,R.current.flowerId=null,i({kind:"flower",flowerId:de}),g(de)},Q=ee.useRef(null),[W,X]=ee.useState({w:520,h:520});ee.useEffect(()=>{const de=Q.current;if(!de)return;const pe=new ResizeObserver(Be=>{for(const Ze of Be){const{width:St,height:Wn}=Ze.contentRect;St>0&&Wn>0&&X({w:St,h:Wn})}});return pe.observe(de),()=>pe.disconnect()},[]);const q=de=>{const pe=Q.current;if(!pe)return{x:0,y:0};const Be=pe.createSVGPoint();Be.x=de.clientX,Be.y=de.clientY;const Ze=pe.getScreenCTM();if(!Ze)return{x:0,y:0};const St=Be.matrixTransform(Ze.inverse());return{x:St.x,y:St.y}},U=500*un,M=-300*un,b=800*un,j=ee.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[D,A]=ee.useState(6),[T,k]=ee.useState(j[6]),z=ee.useCallback(de=>{A(pe=>{const Be=typeof de=="function"?de(pe):de;return k(j[Be]),Be})},[j]),I=ee.useCallback(de=>{const pe=we(de,j[0],j[j.length-1]);k(pe);let Be=0,Ze=Math.abs(j[0]-pe);for(let St=1;St<j.length;St++){const Wn=Math.abs(j[St]-pe);Wn<Ze&&(Be=St,Ze=Wn)}A(Be)},[j]),[H,V]=ee.useState({x:0,y:0}),[F,ae]=ee.useState(!0),[oe,me]=ee.useState(!1),fe=ee.useRef(null),be=ee.useMemo(()=>{const de=W.w/W.h,pe=520,Be=pe*de;return(Ze,St=T)=>{const Wn=we(Ze.x,-(b*St-Be),-M*St),rl=we(Ze.y,-(b*St-pe),-M*St);return{x:Wn,y:rl}}},[W,T,M,b]),he=ee.useMemo(()=>be(H),[H,be]),Ue=ee.useCallback(de=>V(de),[]),Ge=ee.useMemo(()=>{const de=W.w/W.h,pe=520,Be=pe*de,Ze=-he.x/T,St=-he.y/T;return`${Ze} ${St} ${Be/T} ${pe/T}`},[T,he,W]),{deleteLeafById:tt,handleShiftLeafSelect:nt,groupSelectedLeaves:vt,ungroupLeaves:Yt,addLeafToGroup:zt,removeLeafFromGroup:yt,addLeavesToGroup:Ut,mergeLeafGroups:cn}=xb({project:r,applyUpdate:f,selection:a,setSelection:i}),{showAddFlowerDialog:pn,setShowAddFlowerDialog:Vn,addFlowerOpts:Qe,setAddFlowerOpts:_n,addFlower:jl,confirmAddFlower:al}=db({project:r,applyUpdate:f,setSelection:i,setExpandedFlowers:N,zoom:T,pan:he,stageSize:W,CANVAS_MAX_SVG:U}),{showAddLeafDialog:il,setShowAddLeafDialog:zl,addLeafOpts:na,setAddLeafOpts:Jn,addLeaf:xi,confirmAddLeaf:Un}=mb({project:r,applyUpdate:f,setSelection:i,zoom:T,pan:he,stageSize:W,CANVAS_MAX_SVG:U}),{selectedFlower:Et,selectedFlowers:Sn,selectedLeaf:Re,selectedLayer:xe,selectedPetalIndex:Ee,selectedPetals:qe,selectedStencil:_e,selectedFlowerId:ye,groupHighlightedFlowerIds:De,groupHighlightedLeafIds:je}=gb(r,a),{deleteFlowerById:Se,deleteLayerById:Pe,addOuterLayer:Fe,deleteOuterLayer:Xe,deleteSelected:Ve,groupSelectedFlowers:Ae,groupSelectedMixed:qt,ungroupFlowers:$e,ungroupAll:Nt,addToGroup:rt,mergeGroups:lt,addStencil:ht,deleteStencil:Cn,handleShiftFlowerSelect:Ca,togglePetalSelection:Qt}=sb({project:r,applyUpdate:f,selection:a,setSelection:i,setExpandedFlowers:N,setExpandedGroups:E,zoom:T,pan:he,stageSize:W,CANVAS_MAX_SVG:U,deleteLeafById:tt}),ze=om({project:r,selection:a,setSelection:i,applyUpdate:f,dragRef:u.dragRef,zoom:T,pan:he,setPan:Ue,stageRef:Q,clientToSvgPoint:q,togglePetalSelection:Qt}),[Bt,Nl]=ee.useState(0),wn=a.kind,P0=wn==="flower"?a.flowerId:null,F0=wn==="flowers"?a.flowerIds?.join(","):null,fr=wn==="layer"||wn==="petal"?a.layerId:null,la=wn==="petal"?a.index:null,fi=wn==="petals"?a.petals?.length:null;ee.useEffect(()=>{wn!=="project"&&Nl(Date.now())},[wn,P0,F0,fr,la,fi]),ee.useEffect(()=>{if(!fe.current)return;const de=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!de)return;const pe=fe.current.querySelector(`[data-flower-id="${de}"]`);pe&&pe.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Dl=ee.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[Bt]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:v,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:S?{width:`${m.left}%`}:void 0,children:s.jsx(fm,{project:r,selection:a,setSelection:i,expandedFlowers:C,setExpandedFlowers:N,isExpanded:y,toggleExpanded:g,scheduleFlowerRowClick:Z,handleFlowerRowDoubleClick:P,addFlower:jl,deleteSelected:Ve,addOuterLayer:Fe,deleteOuterLayer:Xe,deleteFlowerById:Se,deleteLayerById:Pe,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:fe,groups:r.groups??[],expandedGroups:O,isGroupExpanded:G,toggleGroupExpanded:Y,onSelectGroup:de=>i({kind:"group",groupId:de}),onUngroupFlowers:$e,leaves:r.leaves??[],onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onAddLeaf:xi,onDeleteLeaf:tt})}),s.jsx(Jd,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:_}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Im,{project:r,selection:a,setSelection:i,applyUpdate:f,paletteMap:x,selectedFlowerId:ye,zoom:T,setZoom:I,zoomLevel:D,setZoomLevel:z,ZOOM_LEVELS:j,pan:he,panRaw:H,setPan:Ue,showGrid:F,setShowGrid:ae,showHelp:oe,setShowHelp:me,stageRef:Q,viewBox:Ge,dashSyncToken:Bt,dashDelay:Dl,beginPan:ze.beginPan,updatePan:ze.updatePan,endPan:ze.endPan,beginMarquee:ze.beginMarquee,updateMarquee:ze.updateMarquee,endMarquee:ze.endMarquee,marqueeRef:ze.marqueeRef,marqueeRect:ze.marqueeRect,beginFlowerDrag:ze.beginFlowerDrag,updateFlowerDrag:ze.updateFlowerDrag,endFlowerDrag:ze.endFlowerDrag,scaleDragRef:ze.scaleDragRef,beginScaleDrag:ze.beginScaleDrag,updateScaleDrag:ze.updateScaleDrag,endScaleDrag:ze.endScaleDrag,rotationDragRef:ze.rotationDragRef,beginRotationDrag:ze.beginRotationDrag,updateRotationDrag:ze.updateRotationDrag,endRotationDrag:ze.endRotationDrag,widthScaleDragRef:ze.widthScaleDragRef,beginWidthScaleDrag:ze.beginWidthScaleDrag,updateWidthScaleDrag:ze.updateWidthScaleDrag,endWidthScaleDrag:ze.endWidthScaleDrag,radiusDragRef:ze.radiusDragRef,beginRadiusDrag:ze.beginRadiusDrag,updateRadiusDrag:ze.updateRadiusDrag,endRadiusDrag:ze.endRadiusDrag,togglePetalSelection:Qt,clientToSvgPoint:q,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:ht,onDeleteStencil:Cn,onSelectStencil:de=>i({kind:"stencil",stencilId:de}),handleShiftFlowerSelect:Ca,groupHighlightedFlowerIds:De,leaves:r.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:je,onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onSelectGroup:de=>i({kind:"group",groupId:de}),onShiftSelectLeaf:nt})}),s.jsx(Jd,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:_}),s.jsx("div",{className:"min-w-0 shrink-0",style:S?{width:`${m.right}%`}:void 0,children:s.jsx(Fm,{project:r,selection:a,applyUpdate:f,selectedFlower:Et,selectedFlowers:Sn,selectedLayer:xe,selectedPetalIndex:Ee,selectedPetals:qe,selectedStencil:_e,onDeleteStencil:Cn,groups:r.groups??[],onGroupFlowers:Ae,onUngroupFlowers:$e,onUngroupAll:Nt,onAddToGroup:rt,onMergeGroups:lt,selectedLeaf:Re,onDeleteLeaf:tt,onGroupLeaves:vt,onUngroupLeaves:Yt,onAddLeafToGroup:zt,onRemoveLeafFromGroup:yt,onAddLeavesToGroup:Ut,onMergeLeafGroups:cn,onGroupMixed:qt})})]}),pn&&s.jsx(tb,{palette:r.palette,addFlowerOpts:Qe,setAddFlowerOpts:_n,onConfirm:al,onCancel:()=>Vn(!1)}),il&&s.jsx(ab,{palette:r.palette,addLeafOpts:na,setAddLeafOpts:Jn,onConfirm:Un,onCancel:()=>zl(!1)}),oe&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>me(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:de=>de.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>me(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([de,pe])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:de}),s.jsx("td",{className:"py-2 text-neutral-700",children:pe})]},de))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function yb({cg:u}){const[r,a]=ee.useState("w"),[i,f]=ee.useState(""),x=u.totalAreaCm2,m=parseFloat(i),h=i!==""&&Number.isFinite(m)&&m>0?Math.round(x/m*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(d=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",x,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>f(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>f(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function pb(u){const{recipe:r}=u;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(yb,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function _b(u){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function Sb(u){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Cb(u){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function wb(){const[u,r]=ee.useState("home"),[a,i]=ee.useState([]),[f,x]=ee.useState(null),[m,v]=ee.useState({kind:"project"}),[h,d]=ee.useState([]),[_,S]=ee.useState(0),p=ee.useRef(f),C=ee.useRef(h),N=ee.useRef(_);ee.useEffect(()=>{p.current=f},[f]),ee.useEffect(()=>{C.current=h},[h]),ee.useEffect(()=>{N.current=_},[_]);const y=ee.useRef(null),g=ee.useRef(null),B=ee.useRef(null),O=ee.useRef(null),[E,G]=ee.useState(null);ee.useEffect(()=>{const k=E?window.setTimeout(()=>G(null),2200):null;return()=>{k&&window.clearTimeout(k)}},[E]),ee.useEffect(()=>{i(ir())},[]);function Y(k){const z=JSON.stringify(k);d([z]),S(0)}function R(k,z=!0){if(!z){x(be=>{if(!be)return be;const he=$l(be);return k(he),he.updatedAt=N0(),he});return}const I=p.current;if(!I)return;const H=$l(I);k(H),H.updatedAt=N0(),x(H);const V=C.current,F=N.current;if(V.length===0){Y(H);return}const ae=JSON.stringify(H);let me=[...V.slice(0,F+1),ae];const fe=50;me.length>fe&&(me=me.slice(me.length-fe)),d(me),S(me.length-1)}function Z(){S(k=>{if(k<=0)return k;const z=k-1,I=C.current[z];return I&&x(_a(JSON.parse(I))),G("Undo"),z})}function P(){S(k=>{if(k>=C.current.length-1)return k;const z=k+1,I=C.current[z];return I&&x(_a(JSON.parse(I))),G("Redo"),z})}function Q(){if(!f)return;const k=X2(f);i(ir()),G(k?"Saved":" ")}function W(){if(!f)return;const k=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),z=URL.createObjectURL(k),I=document.createElement("a");I.href=z,I.download=`${f.title||"tsumami"}.json`,I.click(),URL.revokeObjectURL(z),G("JSON exported")}function X(k){const z=new FileReader;z.onload=()=>{try{const I=JSON.parse(String(z.result??""));if(!I||typeof I!="object"||!Array.isArray(I.flowers))throw new Error("Invalid JSON");const H=_a(I);x(H),v({kind:"project"}),Y(H),r("editor"),G("Imported")}catch{G("Import failed")}},z.readAsText(k)}function q(k){const z=_a(k);x(z),v({kind:"project"}),Y(z),r("editor")}function U(k){return k&&(k.kind==="flower"||k.kind==="layer"||k.kind==="petal")?k.flowerId:null}function M(){if(!f)return;const k=U(m);if(!k)return;const z=f.flowers.find(I=>I.id===k);z&&(g.current=$l(z),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:z},null,2)).catch(()=>{}),G("Flower copied"))}function b(){if(!f||m.kind!=="leaf")return;const k=(f.leaves??[]).find(z=>z.id===m.leafId);k&&(B.current=$l(k),G("Leaf copied"))}function j(){if(!f)return;const k=g.current;if(!k){G("Nothing to paste");return}const z=Y2(k,{x:12+Math.random()*10,y:12+Math.random()*10});R(I=>{I.flowers.push(z)},!0),v({kind:"flower",flowerId:z.id}),G("Flower pasted")}function D(){if(!f)return;const k=B.current;if(!k)return;const z=Tt("leaf"),I={...$l(k),id:z,name:k.name+" (copy)",position:{x:k.position.x+30,y:k.position.y+30}};R(H=>{H.leaves||(H.leaves=[]),H.leaves.push(I)},!0),v({kind:"leaf",leafId:I.id}),G("Leaf pasted")}function A(k){if(!f)return;const z=U(m);z&&(R(I=>{const H=I.flowers.findIndex(oe=>oe.id===z);if(H<0)return;const V=I.flowers,F=V[H];if(!F)return;if(V.splice(H,1),k==="front"){V.push(F);return}if(k==="back"){V.unshift(F);return}if(k==="forward"){if(H>=V.length){V.push(F);return}V.splice(H+1,0,F);return}const ae=we(H-1,0,V.length);V.splice(ae,0,F)},!0),G(k==="front"?"Brought to front":k==="back"?"Sent to back":k==="forward"?"Moved forward":"Moved backward"))}ee.useEffect(()=>{function k(I){const H=I;if(!H)return!1;const V=String(H.tagName||"").toLowerCase();return V==="input"||V==="textarea"||V==="select"||!!H.isContentEditable}function z(I){if(!(k(I.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?I.metaKey:I.ctrlKey))){if(u==="editor"){if(I.key.toLowerCase()==="c"){I.preventDefault(),m.kind==="leaf"?b():M();return}if(I.key.toLowerCase()==="v"){I.preventDefault(),B.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="mixed"||!g.current)?D():j();return}}I.key.toLowerCase()==="z"&&(I.preventDefault(),I.shiftKey?P():Z()),I.key.toLowerCase()==="s"&&(I.preventDefault(),Q())}}return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[f,h,_,m,u]);const T=ee.useMemo(()=>f?W2(f):null,[f]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(em,{view:u,onNavigate:r,project:f,onSave:Q,onLoad:()=>r("home"),onImportJson:()=>O.current?.click(),onExportJson:W,onExportSvg:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&f&&P2(k,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&f&&F2(k,`${f.title||"tsumami"}.png`)}}),s.jsx("input",{ref:O,type:"file",accept:"application/json",className:"hidden",onChange:k=>{const z=k.target.files?.[0];z&&X(z),k.currentTarget.value=""}}),E&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:E}),s.jsxs("main",{className:"flex-1",children:[u==="home"&&s.jsx(tm,{saved:a,onNew:()=>r("new"),onOpen:k=>{const z=_a($l(k));x(z),v({kind:"project"}),Y(z),r("editor")},onDelete:k=>{V2(k),i(ir()),G("Deleted")}}),u==="new"&&s.jsx(nm,{onBack:()=>r("home"),onCreate:k=>{const z=O2({title:k});q(z)}}),u==="editor"&&f&&s.jsx(vb,{project:f,selection:m,setSelection:v,applyUpdate:R,onGoRecipe:()=>r("recipe"),onImport:X,dragRef:y,onCopyFlower:M,onPasteFlower:j,onArrangeFlower:A,canPasteFlower:!!g.current,onUndo:Z,onRedo:P,canUndo:_>0,canRedo:_<h.length-1}),u==="recipe"&&f&&T&&s.jsx(pb,{project:f,recipe:T,onBack:()=>r("editor"),onExportJson:W}),u==="terms"&&s.jsx(_b,{onBack:()=>r("home")}),u==="privacy"&&s.jsx(Sb,{onBack:()=>r("home")}),(u==="editor"||u==="recipe")&&!f&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&s.jsx(Cb,{onNavigate:r})]})}class Mb extends ee.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}M2.createRoot(document.getElementById("root")).render(s.jsx(ee.StrictMode,{children:s.jsx(Mb,{children:s.jsx(wb,{})})}));

(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var tx={exports:{}},Vi={};var zd;function fh(){if(zd)return Vi;zd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var p in o)p!=="key"&&(f[p]=o[p])}else f=o;return o=f.ref,{$$typeof:c,type:i,key:m,ref:o!==void 0?o:null,props:f}}return Vi.Fragment=r,Vi.jsx=a,Vi.jsxs=a,Vi}var Dd;function dh(){return Dd||(Dd=1,tx.exports=fh()),tx.exports}var x=dh(),nx={exports:{}},ze={};var Nd;function hh(){if(Nd)return ze;Nd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),z=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=z&&D[z]||D["@@iterator"],typeof D=="function"?D:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function q(D,L,Z){this.props=D,this.context=L,this.refs=S,this.updater=Z||N}q.prototype.isReactComponent={},q.prototype.setState=function(D,L){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,L,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function H(){}H.prototype=q.prototype;function R(D,L,Z){this.props=D,this.context=L,this.refs=S,this.updater=Z||N}var G=R.prototype=new H;G.constructor=R,C(G,q.prototype),G.isPureReactComponent=!0;var U=Array.isArray;function W(){}var E={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function P(D,L,Z){var X=Z.ref;return{$$typeof:c,type:D,key:L,ref:X!==void 0?X:null,props:Z}}function ne(D,L){return P(D.type,L,D.props)}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===c}function _(D){var L={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Z){return L[Z]})}var w=/\/+/g;function A(D,L){return typeof D=="object"&&D!==null&&D.key!=null?_(""+D.key):L.toString(36)}function j(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(W,W):(D.status="pending",D.then(function(L){D.status==="pending"&&(D.status="fulfilled",D.value=L)},function(L){D.status==="pending"&&(D.status="rejected",D.reason=L)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function M(D,L,Z,X,ae){var ce=typeof D;(ce==="undefined"||ce==="boolean")&&(D=null);var fe=!1;if(D===null)fe=!0;else switch(ce){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(D.$$typeof){case c:case r:fe=!0;break;case g:return fe=D._init,M(fe(D._payload),L,Z,X,ae)}}if(fe)return ae=ae(D),fe=X===""?"."+A(D,0):X,U(ae)?(Z="",fe!=null&&(Z=fe.replace(w,"$&/")+"/"),M(ae,L,Z,"",function(Ae){return Ae})):ae!=null&&(V(ae)&&(ae=ne(ae,Z+(ae.key==null||D&&D.key===ae.key?"":(""+ae.key).replace(w,"$&/")+"/")+fe)),L.push(ae)),1;fe=0;var oe=X===""?".":X+":";if(U(D))for(var ve=0;ve<D.length;ve++)X=D[ve],ce=oe+A(X,ve),fe+=M(X,L,Z,ce,ae);else if(ve=b(D),typeof ve=="function")for(D=ve.call(D),ve=0;!(X=D.next()).done;)X=X.value,ce=oe+A(X,ve++),fe+=M(X,L,Z,ce,ae);else if(ce==="object"){if(typeof D.then=="function")return M(j(D),L,Z,X,ae);throw L=String(D),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return fe}function B(D,L,Z){if(D==null)return D;var X=[],ae=0;return M(D,X,"","",function(ce){return L.call(Z,ce,ae++)}),X}function k(D){if(D._status===-1){var L=D._result;L=L(),L.then(function(Z){(D._status===0||D._status===-1)&&(D._status=1,D._result=Z)},function(Z){(D._status===0||D._status===-1)&&(D._status=2,D._result=Z)}),D._status===-1&&(D._status=0,D._result=L)}if(D._status===1)return D._result.default;throw D._result}var Y=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},O={map:B,forEach:function(D,L,Z){B(D,function(){L.apply(this,arguments)},Z)},count:function(D){var L=0;return B(D,function(){L++}),L},toArray:function(D){return B(D,function(L){return L})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return ze.Activity=v,ze.Children=O,ze.Component=q,ze.Fragment=a,ze.Profiler=o,ze.PureComponent=R,ze.StrictMode=i,ze.Suspense=h,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,ze.__COMPILER_RUNTIME={__proto__:null,c:function(D){return E.H.useMemoCache(D)}},ze.cache=function(D){return function(){return D.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(D,L,Z){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var X=C({},D.props),ae=D.key;if(L!=null)for(ce in L.key!==void 0&&(ae=""+L.key),L)!I.call(L,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&L.ref===void 0||(X[ce]=L[ce]);var ce=arguments.length-2;if(ce===1)X.children=Z;else if(1<ce){for(var fe=Array(ce),oe=0;oe<ce;oe++)fe[oe]=arguments[oe+2];X.children=fe}return P(D.type,ae,X)},ze.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},ze.createElement=function(D,L,Z){var X,ae={},ce=null;if(L!=null)for(X in L.key!==void 0&&(ce=""+L.key),L)I.call(L,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ae[X]=L[X]);var fe=arguments.length-2;if(fe===1)ae.children=Z;else if(1<fe){for(var oe=Array(fe),ve=0;ve<fe;ve++)oe[ve]=arguments[ve+2];ae.children=oe}if(D&&D.defaultProps)for(X in fe=D.defaultProps,fe)ae[X]===void 0&&(ae[X]=fe[X]);return P(D,ce,ae)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(D){return{$$typeof:p,render:D}},ze.isValidElement=V,ze.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:k}},ze.memo=function(D,L){return{$$typeof:d,type:D,compare:L===void 0?null:L}},ze.startTransition=function(D){var L=E.T,Z={};E.T=Z;try{var X=D(),ae=E.S;ae!==null&&ae(Z,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(W,Y)}catch(ce){Y(ce)}finally{L!==null&&Z.types!==null&&(L.types=Z.types),E.T=L}},ze.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},ze.use=function(D){return E.H.use(D)},ze.useActionState=function(D,L,Z){return E.H.useActionState(D,L,Z)},ze.useCallback=function(D,L){return E.H.useCallback(D,L)},ze.useContext=function(D){return E.H.useContext(D)},ze.useDebugValue=function(){},ze.useDeferredValue=function(D,L){return E.H.useDeferredValue(D,L)},ze.useEffect=function(D,L){return E.H.useEffect(D,L)},ze.useEffectEvent=function(D){return E.H.useEffectEvent(D)},ze.useId=function(){return E.H.useId()},ze.useImperativeHandle=function(D,L,Z){return E.H.useImperativeHandle(D,L,Z)},ze.useInsertionEffect=function(D,L){return E.H.useInsertionEffect(D,L)},ze.useLayoutEffect=function(D,L){return E.H.useLayoutEffect(D,L)},ze.useMemo=function(D,L){return E.H.useMemo(D,L)},ze.useOptimistic=function(D,L){return E.H.useOptimistic(D,L)},ze.useReducer=function(D,L,Z){return E.H.useReducer(D,L,Z)},ze.useRef=function(D){return E.H.useRef(D)},ze.useState=function(D){return E.H.useState(D)},ze.useSyncExternalStore=function(D,L,Z){return E.H.useSyncExternalStore(D,L,Z)},ze.useTransition=function(){return E.H.useTransition()},ze.version="19.2.3",ze}var Ad;function Bx(){return Ad||(Ad=1,nx.exports=hh()),nx.exports}var F=Bx(),lx={exports:{}},Wi={},ax={exports:{}},ix={};var Td;function mh(){return Td||(Td=1,(function(c){function r(M,B){var k=M.length;M.push(B);e:for(;0<k;){var Y=k-1>>>1,O=M[Y];if(0<o(O,B))M[Y]=B,M[k]=O,k=Y;else break e}}function a(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var B=M[0],k=M.pop();if(k!==B){M[0]=k;e:for(var Y=0,O=M.length,D=O>>>1;Y<D;){var L=2*(Y+1)-1,Z=M[L],X=L+1,ae=M[X];if(0>o(Z,k))X<O&&0>o(ae,Z)?(M[Y]=ae,M[X]=k,Y=X):(M[Y]=Z,M[L]=k,Y=L);else if(X<O&&0>o(ae,k))M[Y]=ae,M[X]=k,Y=X;else break e}}return B}function o(M,B){var k=M.sortIndex-B.sortIndex;return k!==0?k:M.id-B.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var m=Date,p=m.now();c.unstable_now=function(){return m.now()-p}}var h=[],d=[],g=1,v=null,z=3,b=!1,N=!1,C=!1,S=!1,q=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function G(M){for(var B=a(d);B!==null;){if(B.callback===null)i(d);else if(B.startTime<=M)i(d),B.sortIndex=B.expirationTime,r(h,B);else break;B=a(d)}}function U(M){if(C=!1,G(M),!N)if(a(h)!==null)N=!0,W||(W=!0,_());else{var B=a(d);B!==null&&j(U,B.startTime-M)}}var W=!1,E=-1,I=5,P=-1;function ne(){return S?!0:!(c.unstable_now()-P<I)}function V(){if(S=!1,W){var M=c.unstable_now();P=M;var B=!0;try{e:{N=!1,C&&(C=!1,H(E),E=-1),b=!0;var k=z;try{t:{for(G(M),v=a(h);v!==null&&!(v.expirationTime>M&&ne());){var Y=v.callback;if(typeof Y=="function"){v.callback=null,z=v.priorityLevel;var O=Y(v.expirationTime<=M);if(M=c.unstable_now(),typeof O=="function"){v.callback=O,G(M),B=!0;break t}v===a(h)&&i(h),G(M)}else i(h);v=a(h)}if(v!==null)B=!0;else{var D=a(d);D!==null&&j(U,D.startTime-M),B=!1}}break e}finally{v=null,z=k,b=!1}B=void 0}}finally{B?_():W=!1}}}var _;if(typeof R=="function")_=function(){R(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,A=w.port2;w.port1.onmessage=V,_=function(){A.postMessage(null)}}else _=function(){q(V,0)};function j(M,B){E=q(function(){M(c.unstable_now())},B)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(M){M.callback=null},c.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},c.unstable_getCurrentPriorityLevel=function(){return z},c.unstable_next=function(M){switch(z){case 1:case 2:case 3:var B=3;break;default:B=z}var k=z;z=B;try{return M()}finally{z=k}},c.unstable_requestPaint=function(){S=!0},c.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var k=z;z=M;try{return B()}finally{z=k}},c.unstable_scheduleCallback=function(M,B,k){var Y=c.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Y+k:Y):k=Y,M){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=k+O,M={id:g++,callback:B,priorityLevel:M,startTime:k,expirationTime:O,sortIndex:-1},k>Y?(M.sortIndex=k,r(d,M),a(h)===null&&M===a(d)&&(C?(H(E),E=-1):C=!0,j(U,k-Y))):(M.sortIndex=O,r(h,M),N||b||(N=!0,W||(W=!0,_()))),M},c.unstable_shouldYield=ne,c.unstable_wrapCallback=function(M){var B=z;return function(){var k=z;z=B;try{return M.apply(this,arguments)}finally{z=k}}}})(ix)),ix}var Ld;function bh(){return Ld||(Ld=1,ax.exports=mh()),ax.exports}var rx={exports:{}},Ht={};var Ed;function gh(){if(Ed)return Ht;Ed=1;var c=Bx();function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(h,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:h,containerInfo:d,implementation:g}}var m=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ht.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return f(h,d,null,g)},Ht.flushSync=function(h){var d=m.T,g=i.p;try{if(m.T=null,i.p=2,h)return h()}finally{m.T=d,i.p=g,i.d.f()}},Ht.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Ht.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Ht.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,v=p(g,d.crossOrigin),z=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:z,fetchPriority:b}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:z,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ht.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=p(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Ht.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=p(g,d.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ht.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=p(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Ht.requestFormReset=function(h){i.d.r(h)},Ht.unstable_batchedUpdates=function(h,d){return h(d)},Ht.useFormState=function(h,d,g){return m.H.useFormState(h,d,g)},Ht.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ht.version="19.2.3",Ht}var Bd;function vh(){if(Bd)return rx.exports;Bd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),rx.exports=gh(),rx.exports}var qd;function yh(){if(qd)return Wi;qd=1;var c=bh(),r=Bx(),a=vh();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var s=u.alternate;if(s===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===s.child){for(s=u.child;s;){if(s===n)return h(u),e;if(s===l)return h(u),t;s=s.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=s;else{for(var y=!1,T=u.child;T;){if(T===n){y=!0,n=u,l=s;break}if(T===l){y=!0,l=u,n=s;break}T=T.sibling}if(!y){for(T=s.child;T;){if(T===n){y=!0,n=s,l=u;break}if(T===l){y=!0,l=s,n=u;break}T=T.sibling}if(!y)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,z=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),R=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function _(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function A(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case q:return"Profiler";case S:return"StrictMode";case U:return"Suspense";case W:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case R:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E:return t=e.displayName||null,t!==null?t:A(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return A(e(t))}catch{}}return null}var j=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},Y=[],O=-1;function D(e){return{current:e}}function L(e){0>O||(e.current=Y[O],Y[O]=null,O--)}function Z(e,t){O++,Y[O]=e.current,e.current=t}var X=D(null),ae=D(null),ce=D(null),fe=D(null);function oe(e,t){switch(Z(ce,t),Z(ae,e),Z(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qf(t),e=Pf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(X),Z(X,e)}function ve(){L(X),L(ae),L(ce)}function Ae(e){e.memoizedState!==null&&Z(fe,e);var t=X.current,n=Pf(t,e.type);t!==n&&(Z(ae,e),Z(X,n))}function me(e){ae.current===e&&(L(X),L(ae)),fe.current===e&&(L(fe),Ki._currentValue=k)}var Ge,Ze;function We(e){if(Ge===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ge=t&&t[1]||"",Ze=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+e+Ze}var Qe=!1;function jt(e,t){if(!e||Qe)return"";Qe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(le){var te=le}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(le){te=le}e.call(ue.prototype)}}else{try{throw Error()}catch(le){te=le}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(le){if(le&&te&&typeof le.stack=="string")return[le.stack,te.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),y=s[0],T=s[1];if(y&&T){var K=y.split(`
`),ee=T.split(`
`);for(u=l=0;l<K.length&&!K[l].includes("DetermineComponentFrameRoot");)l++;for(;u<ee.length&&!ee[u].includes("DetermineComponentFrameRoot");)u++;if(l===K.length||u===ee.length)for(l=K.length-1,u=ee.length-1;1<=l&&0<=u&&K[l]!==ee[u];)u--;for(;1<=l&&0<=u;l--,u--)if(K[l]!==ee[u]){if(l!==1||u!==1)do if(l--,u--,0>u||K[l]!==ee[u]){var ie=`
`+K[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=u);break}}}finally{Qe=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?We(n):""}function Nt(e,t){switch(e.tag){case 26:case 27:case 5:return We(e.type);case 16:return We("Lazy");case 13:return e.child!==t&&t!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return jt(e.type,!1);case 11:return jt(e.type.render,!1);case 1:return jt(e.type,!0);case 31:return We("Activity");default:return""}}function Yt(e){try{var t="",n=null;do t+=Nt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,nt=c.unstable_scheduleCallback,At=c.unstable_cancelCallback,Ul=c.unstable_shouldYield,oa=c.unstable_requestPaint,dt=c.unstable_now,fa=c.unstable_getCurrentPriorityLevel,qn=c.unstable_ImmediatePriority,da=c.unstable_UserBlockingPriority,Un=c.unstable_NormalPriority,ni=c.unstable_LowPriority,ha=c.unstable_IdlePriority,it=c.log,se=c.unstable_setDisableYieldValue,je=null,we=null;function Ce(e){if(typeof it=="function"&&se(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(je,e)}catch{}}var ye=Math.clz32?Math.clz32:Me,Tt=Math.log,Re=Math.LN2;function Me(e){return e>>>=0,e===0?32:31-(Tt(e)/Re|0)|0}var ht=256,tt=262144,rt=4194304;function Oe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xe(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,s=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~s,l!==0?u=Oe(l):(y&=T,y!==0?u=Oe(y):n||(n=T&~e,n!==0&&(u=Oe(n))))):(T=l&~s,T!==0?u=Oe(T):y!==0?u=Oe(y):n||(n=l&~e,n!==0&&(u=Oe(n)))),u===0?0:t!==0&&t!==u&&(t&s)===0&&(s=u&-u,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:u}function Gn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Lt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bn(){var e=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),e}function Mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ct(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Kt(e,t,n,l,u,s){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,K=e.expirationTimes,ee=e.hiddenUpdates;for(n=y&~n;0<n;){var ie=31-ye(n),ue=1<<ie;T[ie]=0,K[ie]=-1;var te=ee[ie];if(te!==null)for(ee[ie]=null,ie=0;ie<te.length;ie++){var le=te[ie];le!==null&&(le.lane&=-536870913)}n&=~ue}l!==0&&Ke(e,l,0),s!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=s&~(y&~t))}function Ke(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ye(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function li(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-ye(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function rr(e,t){var n=t&-t;return n=(n&42)!==0?1:gn(n),(n&(e.suspendedLanes|t))!==0?0:n}function gn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ai(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ur(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:pd(e.type))}function cr(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}var Kn=Math.random().toString(36).slice(2),_t="__reactFiber$"+Kn,Ot="__reactProps$"+Kn,de="__reactContainer$"+Kn,ge="__reactEvents$"+Kn,He="__reactListeners$"+Kn,Zt="__reactHandles$"+Kn,mt="__reactResources$"+Kn,tn="__reactMarker$"+Kn;function ii(e){delete e[_t],delete e[Ot],delete e[ge],delete e[He],delete e[Zt]}function ma(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[de]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ad(e);e!==null;){if(n=e[_t])return n;e=ad(e)}return t}e=n,n=e.parentNode}return null}function ba(e){if(e=e[_t]||e[de]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ri(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function ga(e){var t=e[mt];return t||(t=e[mt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function zt(e){e[tn]=!0}var Gx=new Set,Rx={};function Kl(e,t){va(e,t),va(e+"Capture",t)}function va(e,t){for(Rx[e]=t,e=0;e<t.length;e++)Gx.add(t[e])}var l1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kx={},Ox={};function a1(e){return wt.call(Ox,e)?!0:wt.call(kx,e)?!1:l1.test(e)?Ox[e]=!0:(kx[e]=!0,!1)}function xr(e,t,n){if(a1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function sr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Qn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function i1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){n=""+y,s.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function V0(e){if(!e._valueTracker){var t=Hx(e)?"checked":"value";e._valueTracker=i1(e,t,""+e[t])}}function Yx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Hx(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var r1=/[\n"\\]/g;function yn(e){return e.replace(r1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function W0(e,t,n,l,u,s,y,T){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+vn(t)):e.value!==""+vn(t)&&(e.value=""+vn(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Q0(e,y,vn(t)):n!=null?Q0(e,y,vn(n)):l!=null&&e.removeAttribute("value"),u==null&&s!=null&&(e.defaultChecked=!!s),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+vn(T):e.removeAttribute("name")}function Ix(e,t,n,l,u,s,y,T){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){V0(e);return}n=n!=null?""+vn(n):"",t=t!=null?""+vn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),V0(e)}function Q0(e,t,n){t==="number"&&or(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ya(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Ux(e,t,n){if(t!=null&&(t=""+vn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+vn(n):""}function Kx(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(j(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=vn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),V0(e)}function pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var u1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zx(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||u1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xx(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Zx(e,u,l)}else for(var s in t)t.hasOwnProperty(s)&&Zx(e,s,t[s])}function P0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),x1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(e){return x1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var F0=null;function $0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _a=null,Sa=null;function Jx(e){var t=ba(e);if(t&&(e=t.stateNode)){var n=e[Ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(W0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Ot]||null;if(!u)throw Error(i(90));W0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Yx(l)}break e;case"textarea":Ux(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ya(e,!!n.multiple,t,!1)}}}var eu=!1;function Vx(e,t,n){if(eu)return e(t,n);eu=!0;try{var l=e(t);return l}finally{if(eu=!1,(_a!==null||Sa!==null)&&($r(),_a&&(t=_a,e=Sa,Sa=_a=null,Jx(t),e)))for(t=0;t<e.length;t++)Jx(e[t])}}function ui(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ot]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tu=!1;if(Fn)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){tu=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{tu=!1}var bl=null,nu=null,dr=null;function Wx(){if(dr)return dr;var e,t=nu,n=t.length,l,u="value"in bl?bl.value:bl.textContent,s=u.length;for(e=0;e<n&&t[e]===u[e];e++);var y=n-e;for(l=1;l<=y&&t[n-l]===u[s-l];l++);return dr=u.slice(e,1<l?1-l:void 0)}function hr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mr(){return!0}function Qx(){return!1}function Xt(e){function t(n,l,u,s,y){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=s,this.target=y,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(s):s[T]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mr:Qx,this.isPropagationStopped=Qx,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),t}var Zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},br=Xt(Zl),xi=v({},Zl,{view:0,detail:0}),s1=Xt(xi),lu,au,si,gr=v({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(lu=e.screenX-si.screenX,au=e.screenY-si.screenY):au=lu=0,si=e),lu)},movementY:function(e){return"movementY"in e?e.movementY:au}}),Px=Xt(gr),o1=v({},gr,{dataTransfer:0}),f1=Xt(o1),d1=v({},xi,{relatedTarget:0}),iu=Xt(d1),h1=v({},Zl,{animationName:0,elapsedTime:0,pseudoElement:0}),m1=Xt(h1),b1=v({},Zl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g1=Xt(b1),v1=v({},Zl,{data:0}),Fx=Xt(v1),y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_1[e])?!!t[e]:!1}function ru(){return S1}var C1=v({},xi,{key:function(e){if(e.key){var t=y1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(e){return e.type==="keypress"?hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j1=Xt(C1),w1=v({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$x=Xt(w1),M1=v({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),z1=Xt(M1),D1=v({},Zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),N1=Xt(D1),A1=v({},gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T1=Xt(A1),L1=v({},Zl,{newState:0,oldState:0}),E1=Xt(L1),B1=[9,13,27,32],uu=Fn&&"CompositionEvent"in window,oi=null;Fn&&"documentMode"in document&&(oi=document.documentMode);var q1=Fn&&"TextEvent"in window&&!oi,es=Fn&&(!uu||oi&&8<oi&&11>=oi),ts=" ",ns=!1;function ls(e,t){switch(e){case"keyup":return B1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function as(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ca=!1;function G1(e,t){switch(e){case"compositionend":return as(t);case"keypress":return t.which!==32?null:(ns=!0,ts);case"textInput":return e=t.data,e===ts&&ns?null:e;default:return null}}function R1(e,t){if(Ca)return e==="compositionend"||!uu&&ls(e,t)?(e=Wx(),dr=nu=bl=null,Ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return es&&t.locale!=="ko"?null:t.data;default:return null}}var k1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function is(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!k1[e.type]:t==="textarea"}function rs(e,t,n,l){_a?Sa?Sa.push(l):Sa=[l]:_a=l,t=r0(t,"onChange"),0<t.length&&(n=new br("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var fi=null,di=null;function O1(e){Kf(e,0)}function vr(e){var t=ri(e);if(Yx(t))return e}function us(e,t){if(e==="change")return t}var cs=!1;if(Fn){var cu;if(Fn){var xu="oninput"in document;if(!xu){var xs=document.createElement("div");xs.setAttribute("oninput","return;"),xu=typeof xs.oninput=="function"}cu=xu}else cu=!1;cs=cu&&(!document.documentMode||9<document.documentMode)}function ss(){fi&&(fi.detachEvent("onpropertychange",os),di=fi=null)}function os(e){if(e.propertyName==="value"&&vr(di)){var t=[];rs(t,di,e,$0(e)),Vx(O1,t)}}function H1(e,t,n){e==="focusin"?(ss(),fi=t,di=n,fi.attachEvent("onpropertychange",os)):e==="focusout"&&ss()}function Y1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vr(di)}function I1(e,t){if(e==="click")return vr(t)}function U1(e,t){if(e==="input"||e==="change")return vr(t)}function K1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:K1;function hi(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!wt.call(t,u)||!nn(e[u],t[u]))return!1}return!0}function fs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ds(e,t){var n=fs(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fs(n)}}function hs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ms(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=or(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=or(e.document)}return t}function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Z1=Fn&&"documentMode"in document&&11>=document.documentMode,ja=null,ou=null,mi=null,fu=!1;function bs(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fu||ja==null||ja!==or(l)||(l=ja,"selectionStart"in l&&su(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),mi&&hi(mi,l)||(mi=l,l=r0(ou,"onSelect"),0<l.length&&(t=new br("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=ja)))}function Xl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wa={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionrun:Xl("Transition","TransitionRun"),transitionstart:Xl("Transition","TransitionStart"),transitioncancel:Xl("Transition","TransitionCancel"),transitionend:Xl("Transition","TransitionEnd")},du={},gs={};Fn&&(gs=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Jl(e){if(du[e])return du[e];if(!wa[e])return e;var t=wa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gs)return du[e]=t[n];return e}var vs=Jl("animationend"),ys=Jl("animationiteration"),ps=Jl("animationstart"),X1=Jl("transitionrun"),J1=Jl("transitionstart"),V1=Jl("transitioncancel"),_s=Jl("transitionend"),Ss=new Map,hu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hu.push("scrollEnd");function Rn(e,t){Ss.set(e,t),Kl(t,[e])}var yr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},pn=[],Ma=0,mu=0;function pr(){for(var e=Ma,t=mu=Ma=0;t<e;){var n=pn[t];pn[t++]=null;var l=pn[t];pn[t++]=null;var u=pn[t];pn[t++]=null;var s=pn[t];if(pn[t++]=null,l!==null&&u!==null){var y=l.pending;y===null?u.next=u:(u.next=y.next,y.next=u),l.pending=u}s!==0&&Cs(n,u,s)}}function _r(e,t,n,l){pn[Ma++]=e,pn[Ma++]=t,pn[Ma++]=n,pn[Ma++]=l,mu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function bu(e,t,n,l){return _r(e,t,n,l),Sr(e)}function Vl(e,t){return _r(e,null,null,t),Sr(e)}function Cs(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(u=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,u&&t!==null&&(u=31-ye(n),e=s.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),s):null}function Sr(e){if(50<Ri)throw Ri=0,wc=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var za={};function W1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,n,l){return new W1(e,t,n,l)}function gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $n(e,t){var n=e.alternate;return n===null?(n=ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function js(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Cr(e,t,n,l,u,s){var y=0;if(l=e,typeof e=="function")gu(e)&&(y=1);else if(typeof e=="string")y=eh(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=ln(31,n,t,u),e.elementType=P,e.lanes=s,e;case C:return Wl(n.children,u,s,t);case S:y=8,u|=24;break;case q:return e=ln(12,n,t,u|2),e.elementType=q,e.lanes=s,e;case U:return e=ln(13,n,t,u),e.elementType=U,e.lanes=s,e;case W:return e=ln(19,n,t,u),e.elementType=W,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:y=10;break e;case H:y=9;break e;case G:y=11;break e;case E:y=14;break e;case I:y=16,l=null;break e}y=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=ln(y,n,t,u),t.elementType=e,t.type=l,t.lanes=s,t}function Wl(e,t,n,l){return e=ln(7,e,l,t),e.lanes=n,e}function vu(e,t,n){return e=ln(6,e,null,t),e.lanes=n,e}function ws(e){var t=ln(18,null,null,0);return t.stateNode=e,t}function yu(e,t,n){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ms=new WeakMap;function _n(e,t){if(typeof e=="object"&&e!==null){var n=Ms.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Yt(t)},Ms.set(e,t),t)}return{value:e,source:t,stack:Yt(t)}}var Da=[],Na=0,jr=null,bi=0,Sn=[],Cn=0,gl=null,Zn=1,Xn="";function el(e,t){Da[Na++]=bi,Da[Na++]=jr,jr=e,bi=t}function zs(e,t,n){Sn[Cn++]=Zn,Sn[Cn++]=Xn,Sn[Cn++]=gl,gl=e;var l=Zn;e=Xn;var u=32-ye(l)-1;l&=~(1<<u),n+=1;var s=32-ye(t)+u;if(30<s){var y=u-u%5;s=(l&(1<<y)-1).toString(32),l>>=y,u-=y,Zn=1<<32-ye(t)+u|n<<u|l,Xn=s+e}else Zn=1<<s|n<<u|l,Xn=e}function pu(e){e.return!==null&&(el(e,1),zs(e,1,0))}function _u(e){for(;e===jr;)jr=Da[--Na],Da[Na]=null,bi=Da[--Na],Da[Na]=null;for(;e===gl;)gl=Sn[--Cn],Sn[Cn]=null,Xn=Sn[--Cn],Sn[Cn]=null,Zn=Sn[--Cn],Sn[Cn]=null}function Ds(e,t){Sn[Cn++]=Zn,Sn[Cn++]=Xn,Sn[Cn++]=gl,Zn=t.id,Xn=t.overflow,gl=e}var Et=null,lt=null,qe=!1,vl=null,jn=!1,Su=Error(i(519));function yl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gi(_n(t,e)),Su}function Ns(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[_t]=e,t[Ot]=l,n){case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":case"embed":Le("load",t);break;case"video":case"audio":for(n=0;n<Oi.length;n++)Le(Oi[n],t);break;case"source":Le("error",t);break;case"img":case"image":case"link":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"input":Le("invalid",t),Ix(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",t);break;case"textarea":Le("invalid",t),Kx(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Vf(t.textContent,n)?(l.popover!=null&&(Le("beforetoggle",t),Le("toggle",t)),l.onScroll!=null&&Le("scroll",t),l.onScrollEnd!=null&&Le("scrollend",t),l.onClick!=null&&(t.onclick=Pn),t=!0):t=!1,t||yl(e,!0)}function As(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Et=Et.return}}function Aa(e){if(e!==Et)return!1;if(!qe)return As(e),qe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Hc(e.type,e.memoizedProps)),n=!n),n&&lt&&yl(e),As(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));lt=ld(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));lt=ld(e)}else t===27?(t=lt,El(e.type)?(e=Zc,Zc=null,lt=e):lt=t):lt=Et?Mn(e.stateNode.nextSibling):null;return!0}function Ql(){lt=Et=null,qe=!1}function Cu(){var e=vl;return e!==null&&(Qt===null?Qt=e:Qt.push.apply(Qt,e),vl=null),e}function gi(e){vl===null?vl=[e]:vl.push(e)}var ju=D(null),Pl=null,tl=null;function pl(e,t,n){Z(ju,t._currentValue),t._currentValue=n}function nl(e){e._currentValue=ju.current,L(ju)}function wu(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Mu(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var s=u.dependencies;if(s!==null){var y=u.child;s=s.firstContext;e:for(;s!==null;){var T=s;s=u;for(var K=0;K<t.length;K++)if(T.context===t[K]){s.lanes|=n,T=s.alternate,T!==null&&(T.lanes|=n),wu(s.return,n,e),l||(y=null);break e}s=T.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(i(341));y.lanes|=n,s=y.alternate,s!==null&&(s.lanes|=n),wu(y,n,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function Ta(e,t,n,l){e=null;for(var u=t,s=!1;u!==null;){if(!s){if((u.flags&524288)!==0)s=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var T=u.type;nn(u.pendingProps.value,y.value)||(e!==null?e.push(T):e=[T])}}else if(u===fe.current){if(y=u.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ki):e=[Ki])}u=u.return}e!==null&&Mu(t,e,n,l),t.flags|=262144}function wr(e){for(e=e.firstContext;e!==null;){if(!nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fl(e){Pl=e,tl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return Ts(Pl,e)}function Mr(e,t){return Pl===null&&Fl(e),Ts(e,t)}function Ts(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},tl===null){if(e===null)throw Error(i(308));tl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tl=tl.next=t;return n}var Q1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},P1=c.unstable_scheduleCallback,F1=c.unstable_NormalPriority,bt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new Q1,data:new Map,refCount:0}}function vi(e){e.refCount--,e.refCount===0&&P1(F1,function(){e.controller.abort()})}var yi=null,Du=0,La=0,Ea=null;function $1(e,t){if(yi===null){var n=yi=[];Du=0,La=Tc(),Ea={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Du++,t.then(Ls,Ls),t}function Ls(){if(--Du===0&&yi!==null){Ea!==null&&(Ea.status="fulfilled");var e=yi;yi=null,La=0,Ea=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function e2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Es=M.S;M.S=function(e,t){vf=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$1(e,t),Es!==null&&Es(e,t)};var $l=D(null);function Nu(){var e=$l.current;return e!==null?e:et.pooledCache}function zr(e,t){t===null?Z($l,$l.current):Z($l,t.pool)}function Bs(){var e=Nu();return e===null?null:{parent:bt._currentValue,pool:e}}var Ba=Error(i(460)),Au=Error(i(474)),Dr=Error(i(542)),Nr={then:function(){}};function qs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Pn,Pn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ks(e),e;default:if(typeof t.status=="string")t.then(Pn,Pn);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ks(e),e}throw ta=t,Ba}}function ea(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ta=n,Ba):n}}var ta=null;function Rs(){if(ta===null)throw Error(i(459));var e=ta;return ta=null,e}function ks(e){if(e===Ba||e===Dr)throw Error(i(483))}var qa=null,pi=0;function Ar(e){var t=pi;return pi+=1,qa===null&&(qa=[]),Gs(qa,e,t)}function _i(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Tr(e,t){throw t.$$typeof===z?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Os(e){function t(Q,J){if(e){var $=Q.deletions;$===null?(Q.deletions=[J],Q.flags|=16):$.push(J)}}function n(Q,J){if(!e)return null;for(;J!==null;)t(Q,J),J=J.sibling;return null}function l(Q){for(var J=new Map;Q!==null;)Q.key!==null?J.set(Q.key,Q):J.set(Q.index,Q),Q=Q.sibling;return J}function u(Q,J){return Q=$n(Q,J),Q.index=0,Q.sibling=null,Q}function s(Q,J,$){return Q.index=$,e?($=Q.alternate,$!==null?($=$.index,$<J?(Q.flags|=67108866,J):$):(Q.flags|=67108866,J)):(Q.flags|=1048576,J)}function y(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function T(Q,J,$,re){return J===null||J.tag!==6?(J=vu($,Q.mode,re),J.return=Q,J):(J=u(J,$),J.return=Q,J)}function K(Q,J,$,re){var pe=$.type;return pe===C?ie(Q,J,$.props.children,re,$.key):J!==null&&(J.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===I&&ea(pe)===J.type)?(J=u(J,$.props),_i(J,$),J.return=Q,J):(J=Cr($.type,$.key,$.props,null,Q.mode,re),_i(J,$),J.return=Q,J)}function ee(Q,J,$,re){return J===null||J.tag!==4||J.stateNode.containerInfo!==$.containerInfo||J.stateNode.implementation!==$.implementation?(J=yu($,Q.mode,re),J.return=Q,J):(J=u(J,$.children||[]),J.return=Q,J)}function ie(Q,J,$,re,pe){return J===null||J.tag!==7?(J=Wl($,Q.mode,re,pe),J.return=Q,J):(J=u(J,$),J.return=Q,J)}function ue(Q,J,$){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=vu(""+J,Q.mode,$),J.return=Q,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return $=Cr(J.type,J.key,J.props,null,Q.mode,$),_i($,J),$.return=Q,$;case N:return J=yu(J,Q.mode,$),J.return=Q,J;case I:return J=ea(J),ue(Q,J,$)}if(j(J)||_(J))return J=Wl(J,Q.mode,$,null),J.return=Q,J;if(typeof J.then=="function")return ue(Q,Ar(J),$);if(J.$$typeof===R)return ue(Q,Mr(Q,J),$);Tr(Q,J)}return null}function te(Q,J,$,re){var pe=J!==null?J.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return pe!==null?null:T(Q,J,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===pe?K(Q,J,$,re):null;case N:return $.key===pe?ee(Q,J,$,re):null;case I:return $=ea($),te(Q,J,$,re)}if(j($)||_($))return pe!==null?null:ie(Q,J,$,re,null);if(typeof $.then=="function")return te(Q,J,Ar($),re);if($.$$typeof===R)return te(Q,J,Mr(Q,$),re);Tr(Q,$)}return null}function le(Q,J,$,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Q=Q.get($)||null,T(J,Q,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return Q=Q.get(re.key===null?$:re.key)||null,K(J,Q,re,pe);case N:return Q=Q.get(re.key===null?$:re.key)||null,ee(J,Q,re,pe);case I:return re=ea(re),le(Q,J,$,re,pe)}if(j(re)||_(re))return Q=Q.get($)||null,ie(J,Q,re,pe,null);if(typeof re.then=="function")return le(Q,J,$,Ar(re),pe);if(re.$$typeof===R)return le(Q,J,$,Mr(J,re),pe);Tr(J,re)}return null}function he(Q,J,$,re){for(var pe=null,Ye=null,be=J,Ne=J=0,Be=null;be!==null&&Ne<$.length;Ne++){be.index>Ne?(Be=be,be=null):Be=be.sibling;var Ie=te(Q,be,$[Ne],re);if(Ie===null){be===null&&(be=Be);break}e&&be&&Ie.alternate===null&&t(Q,be),J=s(Ie,J,Ne),Ye===null?pe=Ie:Ye.sibling=Ie,Ye=Ie,be=Be}if(Ne===$.length)return n(Q,be),qe&&el(Q,Ne),pe;if(be===null){for(;Ne<$.length;Ne++)be=ue(Q,$[Ne],re),be!==null&&(J=s(be,J,Ne),Ye===null?pe=be:Ye.sibling=be,Ye=be);return qe&&el(Q,Ne),pe}for(be=l(be);Ne<$.length;Ne++)Be=le(be,Q,Ne,$[Ne],re),Be!==null&&(e&&Be.alternate!==null&&be.delete(Be.key===null?Ne:Be.key),J=s(Be,J,Ne),Ye===null?pe=Be:Ye.sibling=Be,Ye=Be);return e&&be.forEach(function(kl){return t(Q,kl)}),qe&&el(Q,Ne),pe}function _e(Q,J,$,re){if($==null)throw Error(i(151));for(var pe=null,Ye=null,be=J,Ne=J=0,Be=null,Ie=$.next();be!==null&&!Ie.done;Ne++,Ie=$.next()){be.index>Ne?(Be=be,be=null):Be=be.sibling;var kl=te(Q,be,Ie.value,re);if(kl===null){be===null&&(be=Be);break}e&&be&&kl.alternate===null&&t(Q,be),J=s(kl,J,Ne),Ye===null?pe=kl:Ye.sibling=kl,Ye=kl,be=Be}if(Ie.done)return n(Q,be),qe&&el(Q,Ne),pe;if(be===null){for(;!Ie.done;Ne++,Ie=$.next())Ie=ue(Q,Ie.value,re),Ie!==null&&(J=s(Ie,J,Ne),Ye===null?pe=Ie:Ye.sibling=Ie,Ye=Ie);return qe&&el(Q,Ne),pe}for(be=l(be);!Ie.done;Ne++,Ie=$.next())Ie=le(be,Q,Ne,Ie.value,re),Ie!==null&&(e&&Ie.alternate!==null&&be.delete(Ie.key===null?Ne:Ie.key),J=s(Ie,J,Ne),Ye===null?pe=Ie:Ye.sibling=Ie,Ye=Ie);return e&&be.forEach(function(oh){return t(Q,oh)}),qe&&el(Q,Ne),pe}function $e(Q,J,$,re){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var pe=$.key;J!==null;){if(J.key===pe){if(pe=$.type,pe===C){if(J.tag===7){n(Q,J.sibling),re=u(J,$.props.children),re.return=Q,Q=re;break e}}else if(J.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===I&&ea(pe)===J.type){n(Q,J.sibling),re=u(J,$.props),_i(re,$),re.return=Q,Q=re;break e}n(Q,J);break}else t(Q,J);J=J.sibling}$.type===C?(re=Wl($.props.children,Q.mode,re,$.key),re.return=Q,Q=re):(re=Cr($.type,$.key,$.props,null,Q.mode,re),_i(re,$),re.return=Q,Q=re)}return y(Q);case N:e:{for(pe=$.key;J!==null;){if(J.key===pe)if(J.tag===4&&J.stateNode.containerInfo===$.containerInfo&&J.stateNode.implementation===$.implementation){n(Q,J.sibling),re=u(J,$.children||[]),re.return=Q,Q=re;break e}else{n(Q,J);break}else t(Q,J);J=J.sibling}re=yu($,Q.mode,re),re.return=Q,Q=re}return y(Q);case I:return $=ea($),$e(Q,J,$,re)}if(j($))return he(Q,J,$,re);if(_($)){if(pe=_($),typeof pe!="function")throw Error(i(150));return $=pe.call($),_e(Q,J,$,re)}if(typeof $.then=="function")return $e(Q,J,Ar($),re);if($.$$typeof===R)return $e(Q,J,Mr(Q,$),re);Tr(Q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,J!==null&&J.tag===6?(n(Q,J.sibling),re=u(J,$),re.return=Q,Q=re):(n(Q,J),re=vu($,Q.mode,re),re.return=Q,Q=re),y(Q)):n(Q,J)}return function(Q,J,$,re){try{pi=0;var pe=$e(Q,J,$,re);return qa=null,pe}catch(be){if(be===Ba||be===Dr)throw be;var Ye=ln(29,be,null,Q.mode);return Ye.lanes=re,Ye.return=Q,Ye}}}var na=Os(!0),Hs=Os(!1),_l=!1;function Tu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ue&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Sr(e),Cs(e,null,n),t}return _r(e,l,t,n),Sr(e)}function Si(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,li(e,n)}}function Eu(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?u=s=y:s=s.next=y,n=n.next}while(n!==null);s===null?u=s=t:s=s.next=t}else u=s=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Bu=!1;function Ci(){if(Bu){var e=Ea;if(e!==null)throw e}}function ji(e,t,n,l){Bu=!1;var u=e.updateQueue;_l=!1;var s=u.firstBaseUpdate,y=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var K=T,ee=K.next;K.next=null,y===null?s=ee:y.next=ee,y=K;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==y&&(T===null?ie.firstBaseUpdate=ee:T.next=ee,ie.lastBaseUpdate=K))}if(s!==null){var ue=u.baseState;y=0,ie=ee=K=null,T=s;do{var te=T.lane&-536870913,le=te!==T.lane;if(le?(Ee&te)===te:(l&te)===te){te!==0&&te===La&&(Bu=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=e,_e=T;te=t;var $e=n;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){ue=he.call($e,ue,te);break e}ue=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,te=typeof he=="function"?he.call($e,ue,te):he,te==null)break e;ue=v({},ue,te);break e;case 2:_l=!0}}te=T.callback,te!==null&&(e.flags|=64,le&&(e.flags|=8192),le=u.callbacks,le===null?u.callbacks=[te]:le.push(te))}else le={lane:te,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(ee=ie=le,K=ue):ie=ie.next=le,y|=te;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;le=T,T=le.next,le.next=null,u.lastBaseUpdate=le,u.shared.pending=null}}while(!0);ie===null&&(K=ue),u.baseState=K,u.firstBaseUpdate=ee,u.lastBaseUpdate=ie,s===null&&(u.shared.lanes=0),Dl|=y,e.lanes=y,e.memoizedState=ue}}function Ys(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Is(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ys(n[e],t)}var Ga=D(null),Lr=D(0);function Us(e,t){e=ol,Z(Lr,e),Z(Ga,t),ol=e|t.baseLanes}function qu(){Z(Lr,ol),Z(Ga,Ga.current)}function Gu(){ol=Lr.current,L(Ga),L(Lr)}var an=D(null),wn=null;function jl(e){var t=e.alternate;Z(ot,ot.current&1),Z(an,e),wn===null&&(t===null||Ga.current!==null||t.memoizedState!==null)&&(wn=e)}function Ru(e){Z(ot,ot.current),Z(an,e),wn===null&&(wn=e)}function Ks(e){e.tag===22?(Z(ot,ot.current),Z(an,e),wn===null&&(wn=e)):wl()}function wl(){Z(ot,ot.current),Z(an,an.current)}function rn(e){L(an),wn===e&&(wn=null),L(ot)}var ot=D(0);function Er(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Uc(n)||Kc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=0,De=null,Pe=null,gt=null,Br=!1,Ra=!1,la=!1,qr=0,wi=0,ka=null,t2=0;function xt(){throw Error(i(321))}function ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nn(e[n],t[n]))return!1;return!0}function Ou(e,t,n,l,u,s){return ll=s,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Do:ec,la=!1,s=n(l,u),la=!1,Ra&&(s=Xs(t,n,l,u)),Zs(e),s}function Zs(e){M.H=Di;var t=Pe!==null&&Pe.next!==null;if(ll=0,gt=Pe=De=null,Br=!1,wi=0,ka=null,t)throw Error(i(300));e===null||vt||(e=e.dependencies,e!==null&&wr(e)&&(vt=!0))}function Xs(e,t,n,l){De=e;var u=0;do{if(Ra&&(ka=null),wi=0,Ra=!1,25<=u)throw Error(i(301));if(u+=1,gt=Pe=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}M.H=No,s=t(n,l)}while(Ra);return s}function n2(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Mi(t):t,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(De.flags|=1024),t}function Hu(){var e=qr!==0;return qr=0,e}function Yu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Iu(e){if(Br){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Br=!1}ll=0,gt=Pe=De=null,Ra=!1,wi=qr=0,ka=null}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?De.memoizedState=gt=e:gt=gt.next=e,gt}function ft(){if(Pe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=gt===null?De.memoizedState:gt.next;if(t!==null)gt=t,Pe=e;else{if(e===null)throw De.alternate===null?Error(i(467)):Error(i(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},gt===null?De.memoizedState=gt=e:gt=gt.next=e}return gt}function Gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mi(e){var t=wi;return wi+=1,ka===null&&(ka=[]),e=Gs(ka,e,t),t=De,(gt===null?t.memoizedState:gt.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Do:ec),e}function Rr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mi(e);if(e.$$typeof===R)return Bt(e)}throw Error(i(438,String(e)))}function Uu(e){var t=null,n=De.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Gr(),De.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=ne;return t.index++,n}function al(e,t){return typeof t=="function"?t(e):t}function kr(e){var t=ft();return Ku(t,Pe,e)}function Ku(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,s=l.pending;if(s!==null){if(u!==null){var y=u.next;u.next=s.next,s.next=y}t.baseQueue=u=s,l.pending=null}if(s=e.baseState,u===null)e.memoizedState=s;else{t=u.next;var T=y=null,K=null,ee=t,ie=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(Ee&ue)===ue:(ll&ue)===ue){var te=ee.revertLane;if(te===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===La&&(ie=!0);else if((ll&te)===te){ee=ee.next,te===La&&(ie=!0);continue}else ue={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},K===null?(T=K=ue,y=s):K=K.next=ue,De.lanes|=te,Dl|=te;ue=ee.action,la&&n(s,ue),s=ee.hasEagerState?ee.eagerState:n(s,ue)}else te={lane:ue,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},K===null?(T=K=te,y=s):K=K.next=te,De.lanes|=ue,Dl|=ue;ee=ee.next}while(ee!==null&&ee!==t);if(K===null?y=s:K.next=T,!nn(s,e.memoizedState)&&(vt=!0,ie&&(n=Ea,n!==null)))throw n;e.memoizedState=s,e.baseState=y,e.baseQueue=K,l.lastRenderedState=s}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zu(e){var t=ft(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,s=t.memoizedState;if(u!==null){n.pending=null;var y=u=u.next;do s=e(s,y.action),y=y.next;while(y!==u);nn(s,t.memoizedState)||(vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Js(e,t,n){var l=De,u=ft(),s=qe;if(s){if(n===void 0)throw Error(i(407));n=n()}else n=t();var y=!nn((Pe||u).memoizedState,n);if(y&&(u.memoizedState=n,vt=!0),u=u.queue,Vu(Qs.bind(null,l,u,e),[e]),u.getSnapshot!==t||y||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Oa(9,{destroy:void 0},Ws.bind(null,l,u,n,t),null),et===null)throw Error(i(349));s||(ll&127)!==0||Vs(l,t,n)}return n}function Vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t=Gr(),De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ws(e,t,n,l){t.value=n,t.getSnapshot=l,Ps(t)&&Fs(e)}function Qs(e,t,n){return n(function(){Ps(t)&&Fs(e)})}function Ps(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nn(e,n)}catch{return!0}}function Fs(e){var t=Vl(e,2);t!==null&&Pt(t,e,2)}function Xu(e){var t=It();if(typeof e=="function"){var n=e;if(e=n(),la){Ce(!0);try{n()}finally{Ce(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:e},t}function $s(e,t,n,l){return e.baseState=n,Ku(e,Pe,typeof l=="function"?l:al)}function l2(e,t,n,l,u){if(Yr(e))throw Error(i(485));if(e=t.action,e!==null){var s={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){s.listeners.push(y)}};M.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,eo(t,s)):(s.next=n.next,t.pending=n.next=s)}}function eo(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var s=M.T,y={};M.T=y;try{var T=n(u,l),K=M.S;K!==null&&K(y,T),to(e,t,T)}catch(ee){Ju(e,t,ee)}finally{s!==null&&y.types!==null&&(s.types=y.types),M.T=s}}else try{s=n(u,l),to(e,t,s)}catch(ee){Ju(e,t,ee)}}function to(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){no(e,t,l)},function(l){return Ju(e,t,l)}):no(e,t,n)}function no(e,t,n){t.status="fulfilled",t.value=n,lo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,eo(e,n)))}function Ju(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,lo(t),t=t.next;while(t!==l)}e.action=null}function lo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function io(e,t){if(qe){var n=et.formState;if(n!==null){e:{var l=De;if(qe){if(lt){t:{for(var u=lt,s=jn;u.nodeType!==8;){if(!s){u=null;break t}if(u=Mn(u.nextSibling),u===null){u=null;break t}}s=u.data,u=s==="F!"||s==="F"?u:null}if(u){lt=Mn(u.nextSibling),l=u.data==="F!";break e}}yl(l)}l=!1}l&&(t=n[0])}}return n=It(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},n.queue=l,n=wo.bind(null,De,l),l.dispatch=n,l=Xu(!1),s=$u.bind(null,De,!1,l.queue),l=It(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=l2.bind(null,De,u,s,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function ro(e){var t=ft();return uo(t,Pe,e)}function uo(e,t,n){if(t=Ku(e,t,ao)[0],e=kr(al)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Mi(t)}catch(y){throw y===Ba?Dr:y}else l=t;t=ft();var u=t.queue,s=u.dispatch;return n!==t.memoizedState&&(De.flags|=2048,Oa(9,{destroy:void 0},a2.bind(null,u,n),null)),[l,s,e]}function a2(e,t){e.action=t}function co(e){var t=ft(),n=Pe;if(n!==null)return uo(t,n,e);ft(),t=t.memoizedState,n=ft();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Oa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=De.updateQueue,t===null&&(t=Gr(),De.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function xo(){return ft().memoizedState}function Or(e,t,n,l){var u=It();De.flags|=e,u.memoizedState=Oa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Hr(e,t,n,l){var u=ft();l=l===void 0?null:l;var s=u.memoizedState.inst;Pe!==null&&l!==null&&ku(l,Pe.memoizedState.deps)?u.memoizedState=Oa(t,s,n,l):(De.flags|=e,u.memoizedState=Oa(1|t,s,n,l))}function so(e,t){Or(8390656,8,e,t)}function Vu(e,t){Hr(2048,8,e,t)}function i2(e){De.flags|=4;var t=De.updateQueue;if(t===null)t=Gr(),De.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function oo(e){var t=ft().memoizedState;return i2({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function fo(e,t){return Hr(4,2,e,t)}function ho(e,t){return Hr(4,4,e,t)}function mo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bo(e,t,n){n=n!=null?n.concat([e]):null,Hr(4,4,mo.bind(null,t,e),n)}function Wu(){}function go(e,t){var n=ft();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&ku(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function vo(e,t){var n=ft();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&ku(t,l[1]))return l[0];if(l=e(),la){Ce(!0);try{e()}finally{Ce(!1)}}return n.memoizedState=[l,t],l}function Qu(e,t,n){return n===void 0||(ll&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=pf(),De.lanes|=e,Dl|=e,n)}function yo(e,t,n,l){return nn(n,t)?n:Ga.current!==null?(e=Qu(e,n,l),nn(e,t)||(vt=!0),e):(ll&42)===0||(ll&1073741824)!==0&&(Ee&261930)===0?(vt=!0,e.memoizedState=n):(e=pf(),De.lanes|=e,Dl|=e,t)}function po(e,t,n,l,u){var s=B.p;B.p=s!==0&&8>s?s:8;var y=M.T,T={};M.T=T,$u(e,!1,t,n);try{var K=u(),ee=M.S;if(ee!==null&&ee(T,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ie=e2(K,l);zi(e,t,ie,xn(e))}else zi(e,t,l,xn(e))}catch(ue){zi(e,t,{then:function(){},status:"rejected",reason:ue},xn())}finally{B.p=s,y!==null&&T.types!==null&&(y.types=T.types),M.T=y}}function r2(){}function Pu(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=_o(e).queue;po(e,u,t,k,n===null?r2:function(){return So(e),n(l)})}function _o(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:k},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function So(e){var t=_o(e);t.next===null&&(t=e.alternate.memoizedState),zi(e,t.next.queue,{},xn())}function Fu(){return Bt(Ki)}function Co(){return ft().memoizedState}function jo(){return ft().memoizedState}function u2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=xn();e=Sl(n);var l=Cl(t,e,n);l!==null&&(Pt(l,t,n),Si(l,t,n)),t={cache:zu()},e.payload=t;return}t=t.return}}function c2(e,t,n){var l=xn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Yr(e)?Mo(t,n):(n=bu(e,t,n,l),n!==null&&(Pt(n,e,l),zo(n,t,l)))}function wo(e,t,n){var l=xn();zi(e,t,n,l)}function zi(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yr(e))Mo(t,u);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var y=t.lastRenderedState,T=s(y,n);if(u.hasEagerState=!0,u.eagerState=T,nn(T,y))return _r(e,t,u,0),et===null&&pr(),!1}catch{}if(n=bu(e,t,u,l),n!==null)return Pt(n,e,l),zo(n,t,l),!0}return!1}function $u(e,t,n,l){if(l={lane:2,revertLane:Tc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yr(e)){if(t)throw Error(i(479))}else t=bu(e,n,l,2),t!==null&&Pt(t,e,2)}function Yr(e){var t=e.alternate;return e===De||t!==null&&t===De}function Mo(e,t){Ra=Br=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,li(e,n)}}var Di={readContext:Bt,use:Rr,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};Di.useEffectEvent=xt;var Do={readContext:Bt,use:Rr,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:so,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Or(4194308,4,mo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Or(4194308,4,e,t)},useInsertionEffect:function(e,t){Or(4,2,e,t)},useMemo:function(e,t){var n=It();t=t===void 0?null:t;var l=e();if(la){Ce(!0);try{e()}finally{Ce(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=It();if(n!==void 0){var u=n(t);if(la){Ce(!0);try{n(t)}finally{Ce(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=c2.bind(null,De,e),[l.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:function(e){e=Xu(e);var t=e.queue,n=wo.bind(null,De,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wu,useDeferredValue:function(e,t){var n=It();return Qu(n,e,t)},useTransition:function(){var e=Xu(!1);return e=po.bind(null,De,e.queue,!0,!1),It().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=De,u=It();if(qe){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),et===null)throw Error(i(349));(Ee&127)!==0||Vs(l,t,n)}u.memoizedState=n;var s={value:n,getSnapshot:t};return u.queue=s,so(Qs.bind(null,l,s,e),[e]),l.flags|=2048,Oa(9,{destroy:void 0},Ws.bind(null,l,s,n,t),null),n},useId:function(){var e=It(),t=et.identifierPrefix;if(qe){var n=Xn,l=Zn;n=(l&~(1<<32-ye(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=qr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=t2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fu,useFormState:io,useActionState:io,useOptimistic:function(e){var t=It();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$u.bind(null,De,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uu,useCacheRefresh:function(){return It().memoizedState=u2.bind(null,De)},useEffectEvent:function(e){var t=It(),n={impl:e};return t.memoizedState=n,function(){if((Ue&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},ec={readContext:Bt,use:Rr,useCallback:go,useContext:Bt,useEffect:Vu,useImperativeHandle:bo,useInsertionEffect:fo,useLayoutEffect:ho,useMemo:vo,useReducer:kr,useRef:xo,useState:function(){return kr(al)},useDebugValue:Wu,useDeferredValue:function(e,t){var n=ft();return yo(n,Pe.memoizedState,e,t)},useTransition:function(){var e=kr(al)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Mi(e),t]},useSyncExternalStore:Js,useId:Co,useHostTransitionStatus:Fu,useFormState:ro,useActionState:ro,useOptimistic:function(e,t){var n=ft();return $s(n,Pe,e,t)},useMemoCache:Uu,useCacheRefresh:jo};ec.useEffectEvent=oo;var No={readContext:Bt,use:Rr,useCallback:go,useContext:Bt,useEffect:Vu,useImperativeHandle:bo,useInsertionEffect:fo,useLayoutEffect:ho,useMemo:vo,useReducer:Zu,useRef:xo,useState:function(){return Zu(al)},useDebugValue:Wu,useDeferredValue:function(e,t){var n=ft();return Pe===null?Qu(n,e,t):yo(n,Pe.memoizedState,e,t)},useTransition:function(){var e=Zu(al)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Mi(e),t]},useSyncExternalStore:Js,useId:Co,useHostTransitionStatus:Fu,useFormState:co,useActionState:co,useOptimistic:function(e,t){var n=ft();return Pe!==null?$s(n,Pe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Uu,useCacheRefresh:jo};No.useEffectEvent=oo;function tc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nc={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=xn(),u=Sl(l);u.payload=t,n!=null&&(u.callback=n),t=Cl(e,u,l),t!==null&&(Pt(t,e,l),Si(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=xn(),u=Sl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Cl(e,u,l),t!==null&&(Pt(t,e,l),Si(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xn(),l=Sl(n);l.tag=2,t!=null&&(l.callback=t),t=Cl(e,l,n),t!==null&&(Pt(t,e,n),Si(t,e,n))}};function Ao(e,t,n,l,u,s,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,y):t.prototype&&t.prototype.isPureReactComponent?!hi(n,l)||!hi(u,s):!0}function To(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&nc.enqueueReplaceState(t,t.state,null)}function aa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Lo(e){yr(e)}function Eo(e){console.error(e)}function Bo(e){yr(e)}function Ir(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function qo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function lc(e,t,n){return n=Sl(n),n.tag=3,n.payload={element:null},n.callback=function(){Ir(e,t)},n}function Go(e){return e=Sl(e),e.tag=3,e}function Ro(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var s=l.value;e.payload=function(){return u(s)},e.callback=function(){qo(t,n,l)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){qo(t,n,l),typeof u!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function x2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ta(t,n,u,!0),n=an.current,n!==null){switch(n.tag){case 31:case 13:return wn===null?e0():n.alternate===null&&st===0&&(st=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Nr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Dc(e,l,u)),!1;case 22:return n.flags|=65536,l===Nr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Dc(e,l,u)),!1}throw Error(i(435,n.tag))}return Dc(e,l,u),e0(),!1}if(qe)return t=an.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Su&&(e=Error(i(422),{cause:l}),gi(_n(e,n)))):(l!==Su&&(t=Error(i(423),{cause:l}),gi(_n(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=_n(l,n),u=lc(e.stateNode,l,u),Eu(e,u),st!==4&&(st=2)),!1;var s=Error(i(520),{cause:l});if(s=_n(s,n),Gi===null?Gi=[s]:Gi.push(s),st!==4&&(st=2),t===null)return!0;l=_n(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=lc(n.stateNode,l,e),Eu(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Nl===null||!Nl.has(s))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Go(u),Ro(u,e,n,l),Eu(n,u),!1}n=n.return}while(n!==null);return!1}var ac=Error(i(461)),vt=!1;function qt(e,t,n,l){t.child=e===null?Hs(t,null,n,l):na(t,e.child,n,l)}function ko(e,t,n,l,u){n=n.render;var s=t.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return Fl(t),l=Ou(e,t,n,y,s,u),T=Hu(),e!==null&&!vt?(Yu(e,t,u),il(e,t,u)):(qe&&T&&pu(t),t.flags|=1,qt(e,t,l,u),t.child)}function Oo(e,t,n,l,u){if(e===null){var s=n.type;return typeof s=="function"&&!gu(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Ho(e,t,s,l,u)):(e=Cr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!fc(e,u)){var y=s.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(y,l)&&e.ref===t.ref)return il(e,t,u)}return t.flags|=1,e=$n(s,l),e.ref=t.ref,e.return=t,t.child=e}function Ho(e,t,n,l,u){if(e!==null){var s=e.memoizedProps;if(hi(s,l)&&e.ref===t.ref)if(vt=!1,t.pendingProps=l=s,fc(e,u))(e.flags&131072)!==0&&(vt=!0);else return t.lanes=e.lanes,il(e,t,u)}return ic(e,t,n,l,u)}function Yo(e,t,n,l){var u=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~s}else l=0,t.child=null;return Io(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zr(t,s!==null?s.cachePool:null),s!==null?Us(t,s):qu(),Ks(t);else return l=t.lanes=536870912,Io(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(zr(t,s.cachePool),Us(t,s),wl(),t.memoizedState=null):(e!==null&&zr(t,null),qu(),wl());return qt(e,t,u,n),t.child}function Ni(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Io(e,t,n,l,u){var s=Nu();return s=s===null?null:{parent:bt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&zr(t,null),qu(),Ks(t),e!==null&&Ta(e,t,l,!0),t.childLanes=u,null}function Ur(e,t){return t=Zr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Uo(e,t,n){return na(t,e.child,null,n),e=Ur(t,t.pendingProps),e.flags|=2,rn(t),t.memoizedState=null,e}function s2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(qe){if(l.mode==="hidden")return e=Ur(t,l),t.lanes=536870912,Ni(null,e);if(Ru(t),(e=lt)?(e=nd(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:gl!==null?{id:Zn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=ws(e),n.return=t,t.child=n,Et=t,lt=null)):e=null,e===null)throw yl(t);return t.lanes=536870912,null}return Ur(t,l)}var s=e.memoizedState;if(s!==null){var y=s.dehydrated;if(Ru(t),u)if(t.flags&256)t.flags&=-257,t=Uo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(vt||Ta(e,t,n,!1),u=(n&e.childLanes)!==0,vt||u){if(l=et,l!==null&&(y=rr(l,n),y!==0&&y!==s.retryLane))throw s.retryLane=y,Vl(e,y),Pt(l,e,y),ac;e0(),t=Uo(e,t,n)}else e=s.treeContext,lt=Mn(y.nextSibling),Et=t,qe=!0,vl=null,jn=!1,e!==null&&Ds(t,e),t=Ur(t,l),t.flags|=4096;return t}return e=$n(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Kr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ic(e,t,n,l,u){return Fl(t),n=Ou(e,t,n,l,void 0,u),l=Hu(),e!==null&&!vt?(Yu(e,t,u),il(e,t,u)):(qe&&l&&pu(t),t.flags|=1,qt(e,t,n,u),t.child)}function Ko(e,t,n,l,u,s){return Fl(t),t.updateQueue=null,n=Xs(t,l,n,u),Zs(e),l=Hu(),e!==null&&!vt?(Yu(e,t,s),il(e,t,s)):(qe&&l&&pu(t),t.flags|=1,qt(e,t,n,s),t.child)}function Zo(e,t,n,l,u){if(Fl(t),t.stateNode===null){var s=za,y=n.contextType;typeof y=="object"&&y!==null&&(s=Bt(y)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Tu(t),y=n.contextType,s.context=typeof y=="object"&&y!==null?Bt(y):za,s.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(tc(t,n,y,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(y=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),y!==s.state&&nc.enqueueReplaceState(s,s.state,null),ji(t,l,s,u),Ci(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var T=t.memoizedProps,K=aa(n,T);s.props=K;var ee=s.context,ie=n.contextType;y=za,typeof ie=="object"&&ie!==null&&(y=Bt(ie));var ue=n.getDerivedStateFromProps;ie=typeof ue=="function"||typeof s.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,ie||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(T||ee!==y)&&To(t,s,l,y),_l=!1;var te=t.memoizedState;s.state=te,ji(t,l,s,u),Ci(),ee=t.memoizedState,T||te!==ee||_l?(typeof ue=="function"&&(tc(t,n,ue,l),ee=t.memoizedState),(K=_l||Ao(t,n,K,l,te,ee,y))?(ie||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ee),s.props=l,s.state=ee,s.context=y,l=K):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,Lu(e,t),y=t.memoizedProps,ie=aa(n,y),s.props=ie,ue=t.pendingProps,te=s.context,ee=n.contextType,K=za,typeof ee=="object"&&ee!==null&&(K=Bt(ee)),T=n.getDerivedStateFromProps,(ee=typeof T=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(y!==ue||te!==K)&&To(t,s,l,K),_l=!1,te=t.memoizedState,s.state=te,ji(t,l,s,u),Ci();var le=t.memoizedState;y!==ue||te!==le||_l||e!==null&&e.dependencies!==null&&wr(e.dependencies)?(typeof T=="function"&&(tc(t,n,T,l),le=t.memoizedState),(ie=_l||Ao(t,n,ie,l,te,le,K)||e!==null&&e.dependencies!==null&&wr(e.dependencies))?(ee||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,le,K),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,le,K)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||y===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=le),s.props=l,s.state=le,s.context=K,l=ie):(typeof s.componentDidUpdate!="function"||y===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Kr(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=na(t,e.child,null,u),t.child=na(t,null,n,u)):qt(e,t,n,u),t.memoizedState=s.state,e=t.child):e=il(e,t,u),e}function Xo(e,t,n,l){return Ql(),t.flags|=256,qt(e,t,n,l),t.child}var rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(e){return{baseLanes:e,cachePool:Bs()}}function cc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=cn),e}function Jo(e,t,n){var l=t.pendingProps,u=!1,s=(t.flags&128)!==0,y;if((y=s)||(y=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),y&&(u=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(u?jl(t):wl(),(e=lt)?(e=nd(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:gl!==null?{id:Zn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=ws(e),n.return=t,t.child=n,Et=t,lt=null)):e=null,e===null)throw yl(t);return Kc(e)?t.lanes=32:t.lanes=536870912,null}var T=l.children;return l=l.fallback,u?(wl(),u=t.mode,T=Zr({mode:"hidden",children:T},u),l=Wl(l,u,n,null),T.return=t,l.return=t,T.sibling=l,t.child=T,l=t.child,l.memoizedState=uc(n),l.childLanes=cc(e,y,n),t.memoizedState=rc,Ni(null,l)):(jl(t),xc(t,T))}var K=e.memoizedState;if(K!==null&&(T=K.dehydrated,T!==null)){if(s)t.flags&256?(jl(t),t.flags&=-257,t=sc(e,t,n)):t.memoizedState!==null?(wl(),t.child=e.child,t.flags|=128,t=null):(wl(),T=l.fallback,u=t.mode,l=Zr({mode:"visible",children:l.children},u),T=Wl(T,u,n,null),T.flags|=2,l.return=t,T.return=t,l.sibling=T,t.child=l,na(t,e.child,null,n),l=t.child,l.memoizedState=uc(n),l.childLanes=cc(e,y,n),t.memoizedState=rc,t=Ni(null,l));else if(jl(t),Kc(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var ee=y.dgst;y=ee,l=Error(i(419)),l.stack="",l.digest=y,gi({value:l,source:null,stack:null}),t=sc(e,t,n)}else if(vt||Ta(e,t,n,!1),y=(n&e.childLanes)!==0,vt||y){if(y=et,y!==null&&(l=rr(y,n),l!==0&&l!==K.retryLane))throw K.retryLane=l,Vl(e,l),Pt(y,e,l),ac;Uc(T)||e0(),t=sc(e,t,n)}else Uc(T)?(t.flags|=192,t.child=e.child,t=null):(e=K.treeContext,lt=Mn(T.nextSibling),Et=t,qe=!0,vl=null,jn=!1,e!==null&&Ds(t,e),t=xc(t,l.children),t.flags|=4096);return t}return u?(wl(),T=l.fallback,u=t.mode,K=e.child,ee=K.sibling,l=$n(K,{mode:"hidden",children:l.children}),l.subtreeFlags=K.subtreeFlags&65011712,ee!==null?T=$n(ee,T):(T=Wl(T,u,n,null),T.flags|=2),T.return=t,l.return=t,l.sibling=T,t.child=l,Ni(null,l),l=t.child,T=e.child.memoizedState,T===null?T=uc(n):(u=T.cachePool,u!==null?(K=bt._currentValue,u=u.parent!==K?{parent:K,pool:K}:u):u=Bs(),T={baseLanes:T.baseLanes|n,cachePool:u}),l.memoizedState=T,l.childLanes=cc(e,y,n),t.memoizedState=rc,Ni(e.child,l)):(jl(t),n=e.child,e=n.sibling,n=$n(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function xc(e,t){return t=Zr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zr(e,t){return e=ln(22,e,null,t),e.lanes=0,e}function sc(e,t,n){return na(t,e.child,null,n),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),wu(e.return,t,n)}function oc(e,t,n,l,u,s){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:s}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=u,y.treeForkCount=s)}function Wo(e,t,n){var l=t.pendingProps,u=l.revealOrder,s=l.tail;l=l.children;var y=ot.current,T=(y&2)!==0;if(T?(y=y&1|2,t.flags|=128):y&=1,Z(ot,y),qt(e,t,l,n),l=qe?bi:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vo(e,n,t);else if(e.tag===19)Vo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Er(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),oc(t,!1,u,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Er(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}oc(t,!0,n,null,s,l);break;case"together":oc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ta(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=$n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wr(e)))}function o2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),pl(t,bt,e.memoizedState.cache),Ql();break;case 27:case 5:Ae(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:pl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ru(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(jl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jo(e,t,n):(jl(t),e=il(e,t,n),e!==null?e.sibling:null);jl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ta(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Wo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Z(ot,ot.current),l)break;return null;case 22:return t.lanes=0,Yo(e,t,n,t.pendingProps);case 24:pl(t,bt,e.memoizedState.cache)}return il(e,t,n)}function Qo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!fc(e,n)&&(t.flags&128)===0)return vt=!1,o2(e,t,n);vt=(e.flags&131072)!==0}else vt=!1,qe&&(t.flags&1048576)!==0&&zs(t,bi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ea(t.elementType),t.type=e,typeof e=="function")gu(e)?(l=aa(e,l),t.tag=1,t=Zo(null,t,e,l,n)):(t.tag=0,t=ic(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===G){t.tag=11,t=ko(null,t,e,l,n);break e}else if(u===E){t.tag=14,t=Oo(null,t,e,l,n);break e}}throw t=A(e)||e,Error(i(306,t,""))}}return t;case 0:return ic(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=aa(l,t.pendingProps),Zo(e,t,l,u,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var s=t.memoizedState;u=s.element,Lu(e,t),ji(t,l,null,n);var y=t.memoizedState;if(l=y.cache,pl(t,bt,l),l!==s.cache&&Mu(t,[bt],n,!0),Ci(),l=y.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Xo(e,t,l,n);break e}else if(l!==u){u=_n(Error(i(424)),t),gi(u),t=Xo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,lt=Mn(e.firstChild),Et=t,qe=!0,vl=null,jn=!0,n=Hs(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ql(),l===u){t=il(e,t,n);break e}qt(e,t,l,n)}t=t.child}return t;case 26:return Kr(e,t),e===null?(n=cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:qe||(n=t.type,e=t.pendingProps,l=u0(ce.current).createElement(n),l[_t]=t,l[Ot]=e,Gt(l,n,e),zt(l),t.stateNode=l):t.memoizedState=cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ae(t),e===null&&qe&&(l=t.stateNode=id(t.type,t.pendingProps,ce.current),Et=t,jn=!0,u=lt,El(t.type)?(Zc=u,lt=Mn(l.firstChild)):lt=u),qt(e,t,t.pendingProps.children,n),Kr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&qe&&((u=l=lt)&&(l=Y2(l,t.type,t.pendingProps,jn),l!==null?(t.stateNode=l,Et=t,lt=Mn(l.firstChild),jn=!1,u=!0):u=!1),u||yl(t)),Ae(t),u=t.type,s=t.pendingProps,y=e!==null?e.memoizedProps:null,l=s.children,Hc(u,s)?l=null:y!==null&&Hc(u,y)&&(t.flags|=32),t.memoizedState!==null&&(u=Ou(e,t,n2,null,null,n),Ki._currentValue=u),Kr(e,t),qt(e,t,l,n),t.child;case 6:return e===null&&qe&&((e=n=lt)&&(n=I2(n,t.pendingProps,jn),n!==null?(t.stateNode=n,Et=t,lt=null,e=!0):e=!1),e||yl(t)),null;case 13:return Jo(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=na(t,null,l,n):qt(e,t,l,n),t.child;case 11:return ko(e,t,t.type,t.pendingProps,n);case 7:return qt(e,t,t.pendingProps,n),t.child;case 8:return qt(e,t,t.pendingProps.children,n),t.child;case 12:return qt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,pl(t,t.type,l.value),qt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,Fl(t),u=Bt(u),l=l(u),t.flags|=1,qt(e,t,l,n),t.child;case 14:return Oo(e,t,t.type,t.pendingProps,n);case 15:return Ho(e,t,t.type,t.pendingProps,n);case 19:return Wo(e,t,n);case 31:return s2(e,t,n);case 22:return Yo(e,t,n,t.pendingProps);case 24:return Fl(t),l=Bt(bt),e===null?(u=Nu(),u===null&&(u=et,s=zu(),u.pooledCache=s,s.refCount++,s!==null&&(u.pooledCacheLanes|=n),u=s),t.memoizedState={parent:l,cache:u},Tu(t),pl(t,bt,u)):((e.lanes&n)!==0&&(Lu(e,t),ji(t,null,null,n),Ci()),u=e.memoizedState,s=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),pl(t,bt,l)):(l=s.cache,pl(t,bt,l),l!==u.cache&&Mu(t,[bt],n,!0))),qt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function rl(e){e.flags|=4}function dc(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(jf())e.flags|=8192;else throw ta=Nr,Au}else e.flags&=-16777217}function Po(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dd(t))if(jf())e.flags|=8192;else throw ta=Nr,Au}function Xr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bn():536870912,e.lanes|=t,Ua|=t)}function Ai(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function f2(e,t,n){var l=t.pendingProps;switch(_u(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return at(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),nl(bt),ve(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Aa(t)?rl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cu())),at(t),null;case 26:var u=t.type,s=t.memoizedState;return e===null?(rl(t),s!==null?(at(t),Po(t,s)):(at(t),dc(t,u,null,l,n))):s?s!==e.memoizedState?(rl(t),at(t),Po(t,s)):(at(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&rl(t),at(t),dc(t,u,e,l,n)),null;case 27:if(me(t),n=ce.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&rl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return at(t),null}e=X.current,Aa(t)?Ns(t):(e=id(u,l,n),t.stateNode=e,rl(t))}return at(t),null;case 5:if(me(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&rl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return at(t),null}if(s=X.current,Aa(t))Ns(t);else{var y=u0(ce.current);switch(s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?y.createElement(u,{is:l.is}):y.createElement(u)}}s[_t]=t,s[Ot]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=s;e:switch(Gt(s,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rl(t)}}return at(t),dc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&rl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ce.current,Aa(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Et,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[_t]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Vf(e.nodeValue,n)),e||yl(t,!0)}else e=u0(e).createTextNode(l),e[_t]=t,t.stateNode=e}return at(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Aa(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[_t]=t}else Ql(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),e=!1}else n=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(rn(t),t):(rn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return at(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Aa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[_t]=t}else Ql(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),u=!1}else u=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(rn(t),t):(rn(t),null)}return rn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Xr(t,t.updateQueue),at(t),null);case 4:return ve(),e===null&&qc(t.stateNode.containerInfo),at(t),null;case 10:return nl(t.type),at(t),null;case 19:if(L(ot),l=t.memoizedState,l===null)return at(t),null;if(u=(t.flags&128)!==0,s=l.rendering,s===null)if(u)Ai(l,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Er(e),s!==null){for(t.flags|=128,Ai(l,!1),e=s.updateQueue,t.updateQueue=e,Xr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)js(n,e),n=n.sibling;return Z(ot,ot.current&1|2),qe&&el(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&dt()>Pr&&(t.flags|=128,u=!0,Ai(l,!1),t.lanes=4194304)}else{if(!u)if(e=Er(s),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Xr(t,e),Ai(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!qe)return at(t),null}else 2*dt()-l.renderingStartTime>Pr&&n!==536870912&&(t.flags|=128,u=!0,Ai(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=dt(),e.sibling=null,n=ot.current,Z(ot,u?n&1|2:n&1),qe&&el(t,l.treeForkCount),e):(at(t),null);case 22:case 23:return rn(t),Gu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),n=t.updateQueue,n!==null&&Xr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&L($l),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),nl(bt),at(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function d2(e,t){switch(_u(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nl(bt),ve(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 31:if(t.memoizedState!==null){if(rn(t),t.alternate===null)throw Error(i(340));Ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(rn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(ot),null;case 4:return ve(),null;case 10:return nl(t.type),null;case 22:case 23:return rn(t),Gu(),e!==null&&L($l),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nl(bt),null;case 25:return null;default:return null}}function Fo(e,t){switch(_u(t),t.tag){case 3:nl(bt),ve();break;case 26:case 27:case 5:me(t);break;case 4:ve();break;case 31:t.memoizedState!==null&&rn(t);break;case 13:rn(t);break;case 19:L(ot);break;case 10:nl(t.type);break;case 22:case 23:rn(t),Gu(),e!==null&&L($l);break;case 24:nl(bt)}}function Ti(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var s=n.create,y=n.inst;l=s(),y.destroy=l}n=n.next}while(n!==u)}}catch(T){Ve(t,t.return,T)}}function Ml(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var s=u.next;l=s;do{if((l.tag&e)===e){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,u=t;var K=n,ee=T;try{ee()}catch(ie){Ve(u,K,ie)}}}l=l.next}while(l!==s)}}catch(ie){Ve(t,t.return,ie)}}function $o(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Is(t,n)}catch(l){Ve(e,e.return,l)}}}function ef(e,t,n){n.props=aa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Ve(e,t,l)}}function Li(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){Ve(e,t,u)}}function Jn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){Ve(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Ve(e,t,u)}else n.current=null}function tf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){Ve(e,e.return,u)}}function hc(e,t,n){try{var l=e.stateNode;q2(l,e.type,n,t),l[Ot]=t}catch(u){Ve(e,e.return,u)}}function nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&El(e.type)||e.tag===4}function mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&El(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pn));else if(l!==4&&(l===27&&El(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bc(e,t,n),e=e.sibling;e!==null;)bc(e,t,n),e=e.sibling}function Jr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&El(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Jr(e,t,n),e=e.sibling;e!==null;)Jr(e,t,n),e=e.sibling}function lf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Gt(t,l,n),t[_t]=e,t[Ot]=n}catch(s){Ve(e,e.return,s)}}var ul=!1,yt=!1,gc=!1,af=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function h2(e,t){if(e=e.containerInfo,kc=h0,e=ms(e),su(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var y=0,T=-1,K=-1,ee=0,ie=0,ue=e,te=null;t:for(;;){for(var le;ue!==n||u!==0&&ue.nodeType!==3||(T=y+u),ue!==s||l!==0&&ue.nodeType!==3||(K=y+l),ue.nodeType===3&&(y+=ue.nodeValue.length),(le=ue.firstChild)!==null;)te=ue,ue=le;for(;;){if(ue===e)break t;if(te===n&&++ee===u&&(T=y),te===s&&++ie===l&&(K=y),(le=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=le}n=T===-1||K===-1?null:{start:T,end:K}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oc={focusedElem:e,selectionRange:n},h0=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){switch(t=Dt,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,u=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var he=aa(n.type,u);e=l.getSnapshotBeforeUpdate(he,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(_e){Ve(n,n.return,_e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ic(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ic(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}}function rf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:xl(e,n),l&4&&Ti(5,n);break;case 1:if(xl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){Ve(n,n.return,y)}else{var u=aa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ve(n,n.return,y)}}l&64&&$o(n),l&512&&Li(n,n.return);break;case 3:if(xl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Is(e,t)}catch(y){Ve(n,n.return,y)}}break;case 27:t===null&&l&4&&lf(n);case 26:case 5:xl(e,n),t===null&&l&4&&tf(n),l&512&&Li(n,n.return);break;case 12:xl(e,n);break;case 31:xl(e,n),l&4&&xf(e,n);break;case 13:xl(e,n),l&4&&sf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=C2.bind(null,n),U2(e,n))));break;case 22:if(l=n.memoizedState!==null||ul,!l){t=t!==null&&t.memoizedState!==null||yt,u=ul;var s=yt;ul=l,(yt=t)&&!s?sl(e,n,(n.subtreeFlags&8772)!==0):xl(e,n),ul=u,yt=s}break;case 30:break;default:xl(e,n)}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ii(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ut=null,Jt=!1;function cl(e,t,n){for(n=n.child;n!==null;)cf(e,t,n),n=n.sibling}function cf(e,t,n){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(je,n)}catch{}switch(n.tag){case 26:yt||Jn(n,t),cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:yt||Jn(n,t);var l=ut,u=Jt;El(n.type)&&(ut=n.stateNode,Jt=!1),cl(e,t,n),Yi(n.stateNode),ut=l,Jt=u;break;case 5:yt||Jn(n,t);case 6:if(l=ut,u=Jt,ut=null,cl(e,t,n),ut=l,Jt=u,ut!==null)if(Jt)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(n.stateNode)}catch(s){Ve(n,t,s)}else try{ut.removeChild(n.stateNode)}catch(s){Ve(n,t,s)}break;case 18:ut!==null&&(Jt?(e=ut,ed(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Pa(e)):ed(ut,n.stateNode));break;case 4:l=ut,u=Jt,ut=n.stateNode.containerInfo,Jt=!0,cl(e,t,n),ut=l,Jt=u;break;case 0:case 11:case 14:case 15:Ml(2,n,t),yt||Ml(4,n,t),cl(e,t,n);break;case 1:yt||(Jn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&ef(n,t,l)),cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:yt=(l=yt)||n.memoizedState!==null,cl(e,t,n),yt=l;break;default:cl(e,t,n)}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(n){Ve(t,t.return,n)}}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(n){Ve(t,t.return,n)}}function m2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new af),t;default:throw Error(i(435,e.tag))}}function Vr(e,t){var n=m2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=j2.bind(null,e,l);l.then(u,u)}})}function Vt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],s=e,y=t,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(El(T.type)){ut=T.stateNode,Jt=!1;break e}break;case 5:ut=T.stateNode,Jt=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,Jt=!0;break e}T=T.return}if(ut===null)throw Error(i(160));cf(s,y,u),ut=null,Jt=!1,s=u.alternate,s!==null&&(s.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)of(t,e),t=t.sibling}var kn=null;function of(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(t,e),Wt(e),l&4&&(Ml(3,e,e.return),Ti(3,e),Ml(5,e,e.return));break;case 1:Vt(t,e),Wt(e),l&512&&(yt||n===null||Jn(n,n.return)),l&64&&ul&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=kn;if(Vt(t,e),Wt(e),l&512&&(yt||n===null||Jn(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":s=u.getElementsByTagName("title")[0],(!s||s[tn]||s[_t]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=u.createElement(l),u.head.insertBefore(s,u.querySelector("head > title"))),Gt(s,l,n),s[_t]=e,zt(s),l=s;break e;case"link":var y=od("link","href",u).get(l+(n.href||""));if(y){for(var T=0;T<y.length;T++)if(s=y[T],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(T,1);break t}}s=u.createElement(l),Gt(s,l,n),u.head.appendChild(s);break;case"meta":if(y=od("meta","content",u).get(l+(n.content||""))){for(T=0;T<y.length;T++)if(s=y[T],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(T,1);break t}}s=u.createElement(l),Gt(s,l,n),u.head.appendChild(s);break;default:throw Error(i(468,l))}s[_t]=e,zt(s),l=s}e.stateNode=l}else fd(u,e.type,e.stateNode);else e.stateNode=sd(u,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?fd(u,e.type,e.stateNode):sd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Vt(t,e),Wt(e),l&512&&(yt||n===null||Jn(n,n.return)),n!==null&&l&4&&hc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Vt(t,e),Wt(e),l&512&&(yt||n===null||Jn(n,n.return)),e.flags&32){u=e.stateNode;try{pa(u,"")}catch(he){Ve(e,e.return,he)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,hc(e,u,n!==null?n.memoizedProps:u)),l&1024&&(gc=!0);break;case 6:if(Vt(t,e),Wt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(he){Ve(e,e.return,he)}}break;case 3:if(s0=null,u=kn,kn=c0(t.containerInfo),Vt(t,e),kn=u,Wt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Pa(t.containerInfo)}catch(he){Ve(e,e.return,he)}gc&&(gc=!1,ff(e));break;case 4:l=kn,kn=c0(e.stateNode.containerInfo),Vt(t,e),Wt(e),kn=l;break;case 12:Vt(t,e),Wt(e);break;case 31:Vt(t,e),Wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 13:Vt(t,e),Wt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Qr=dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 22:u=e.memoizedState!==null;var K=n!==null&&n.memoizedState!==null,ee=ul,ie=yt;if(ul=ee||u,yt=ie||K,Vt(t,e),yt=ie,ul=ee,Wt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||K||ul||yt||ia(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){K=n=t;try{if(s=K.stateNode,u)y=s.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=K.stateNode;var ue=K.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;T.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(he){Ve(K,K.return,he)}}}else if(t.tag===6){if(n===null){K=t;try{K.stateNode.nodeValue=u?"":K.memoizedProps}catch(he){Ve(K,K.return,he)}}}else if(t.tag===18){if(n===null){K=t;try{var le=K.stateNode;u?td(le,!0):td(K.stateNode,!1)}catch(he){Ve(K,K.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Vr(e,n))));break;case 19:Vt(t,e),Wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 30:break;case 21:break;default:Vt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(nf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,s=mc(e);Jr(e,s,u);break;case 5:var y=n.stateNode;n.flags&32&&(pa(y,""),n.flags&=-33);var T=mc(e);Jr(e,T,y);break;case 3:case 4:var K=n.stateNode.containerInfo,ee=mc(e);bc(e,ee,K);break;default:throw Error(i(161))}}catch(ie){Ve(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ff(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ff(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rf(e,t.alternate,t),t=t.sibling}function ia(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ml(4,t,t.return),ia(t);break;case 1:Jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ef(t,t.return,n),ia(t);break;case 27:Yi(t.stateNode);case 26:case 5:Jn(t,t.return),ia(t);break;case 22:t.memoizedState===null&&ia(t);break;case 30:ia(t);break;default:ia(t)}e=e.sibling}}function sl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,s=t,y=s.flags;switch(s.tag){case 0:case 11:case 15:sl(u,s,n),Ti(4,s);break;case 1:if(sl(u,s,n),l=s,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ee){Ve(l,l.return,ee)}if(l=s,u=l.updateQueue,u!==null){var T=l.stateNode;try{var K=u.shared.hiddenCallbacks;if(K!==null)for(u.shared.hiddenCallbacks=null,u=0;u<K.length;u++)Ys(K[u],T)}catch(ee){Ve(l,l.return,ee)}}n&&y&64&&$o(s),Li(s,s.return);break;case 27:lf(s);case 26:case 5:sl(u,s,n),n&&l===null&&y&4&&tf(s),Li(s,s.return);break;case 12:sl(u,s,n);break;case 31:sl(u,s,n),n&&y&4&&xf(u,s);break;case 13:sl(u,s,n),n&&y&4&&sf(u,s);break;case 22:s.memoizedState===null&&sl(u,s,n),Li(s,s.return);break;case 30:break;default:sl(u,s,n)}t=t.sibling}}function vc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&vi(n))}function yc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vi(e))}function On(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)df(e,t,n,l),t=t.sibling}function df(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:On(e,t,n,l),u&2048&&Ti(9,t);break;case 1:On(e,t,n,l);break;case 3:On(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vi(e)));break;case 12:if(u&2048){On(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,y=s.id,T=s.onPostCommit;typeof T=="function"&&T(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(K){Ve(t,t.return,K)}}else On(e,t,n,l);break;case 31:On(e,t,n,l);break;case 13:On(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,y=t.alternate,t.memoizedState!==null?s._visibility&2?On(e,t,n,l):Ei(e,t):s._visibility&2?On(e,t,n,l):(s._visibility|=2,Ha(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&vc(y,t);break;case 24:On(e,t,n,l),u&2048&&yc(t.alternate,t);break;default:On(e,t,n,l)}}function Ha(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,y=t,T=n,K=l,ee=y.flags;switch(y.tag){case 0:case 11:case 15:Ha(s,y,T,K,u),Ti(8,y);break;case 23:break;case 22:var ie=y.stateNode;y.memoizedState!==null?ie._visibility&2?Ha(s,y,T,K,u):Ei(s,y):(ie._visibility|=2,Ha(s,y,T,K,u)),u&&ee&2048&&vc(y.alternate,y);break;case 24:Ha(s,y,T,K,u),u&&ee&2048&&yc(y.alternate,y);break;default:Ha(s,y,T,K,u)}t=t.sibling}}function Ei(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Ei(n,l),u&2048&&vc(l.alternate,l);break;case 24:Ei(n,l),u&2048&&yc(l.alternate,l);break;default:Ei(n,l)}t=t.sibling}}var Bi=8192;function Ya(e,t,n){if(e.subtreeFlags&Bi)for(e=e.child;e!==null;)hf(e,t,n),e=e.sibling}function hf(e,t,n){switch(e.tag){case 26:Ya(e,t,n),e.flags&Bi&&e.memoizedState!==null&&th(n,kn,e.memoizedState,e.memoizedProps);break;case 5:Ya(e,t,n);break;case 3:case 4:var l=kn;kn=c0(e.stateNode.containerInfo),Ya(e,t,n),kn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Bi,Bi=16777216,Ya(e,t,n),Bi=l):Ya(e,t,n));break;default:Ya(e,t,n)}}function mf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Dt=l,gf(l,e)}mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bf(e),e=e.sibling}function bf(e){switch(e.tag){case 0:case 11:case 15:qi(e),e.flags&2048&&Ml(9,e,e.return);break;case 3:qi(e);break;case 12:qi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wr(e)):qi(e);break;default:qi(e)}}function Wr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Dt=l,gf(l,e)}mf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ml(8,t,t.return),Wr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Wr(t));break;default:Wr(t)}e=e.sibling}}function gf(e,t){for(;Dt!==null;){var n=Dt;switch(n.tag){case 0:case 11:case 15:Ml(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Dt=l;else e:for(n=e;Dt!==null;){l=Dt;var u=l.sibling,s=l.return;if(uf(l),l===n){Dt=null;break e}if(u!==null){u.return=s,Dt=u;break e}Dt=s}}}var b2={getCacheForType:function(e){var t=Bt(bt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Bt(bt).controller.signal}},g2=typeof WeakMap=="function"?WeakMap:Map,Ue=0,et=null,Te=null,Ee=0,Je=0,un=null,zl=!1,Ia=!1,pc=!1,ol=0,st=0,Dl=0,ra=0,_c=0,cn=0,Ua=0,Gi=null,Qt=null,Sc=!1,Qr=0,vf=0,Pr=1/0,Fr=null,Nl=null,St=0,Al=null,Ka=null,fl=0,Cc=0,jc=null,yf=null,Ri=0,wc=null;function xn(){return(Ue&2)!==0&&Ee!==0?Ee&-Ee:M.T!==null?Tc():ur()}function pf(){if(cn===0)if((Ee&536870912)===0||qe){var e=tt;tt<<=1,(tt&3932160)===0&&(tt=262144),cn=e}else cn=536870912;return e=an.current,e!==null&&(e.flags|=32),cn}function Pt(e,t,n){(e===et&&(Je===2||Je===9)||e.cancelPendingCommit!==null)&&(Za(e,0),Tl(e,Ee,cn,!1)),ct(e,n),((Ue&2)===0||e!==et)&&(e===et&&((Ue&2)===0&&(ra|=n),st===4&&Tl(e,Ee,cn,!1)),Vn(e))}function _f(e,t,n){if((Ue&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Gn(e,t),u=l?p2(e,t):zc(e,t,!0),s=l;do{if(u===0){Ia&&!l&&Tl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!v2(n)){u=zc(e,t,!1),s=!1;continue}if(u===2){if(s=t,e.errorRecoveryDisabledLanes&s)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var T=e;u=Gi;var K=T.current.memoizedState.isDehydrated;if(K&&(Za(T,y).flags|=256),y=zc(T,y,!1),y!==2){if(pc&&!K){T.errorRecoveryDisabledLanes|=s,ra|=s,u=4;break e}s=Qt,Qt=u,s!==null&&(Qt===null?Qt=s:Qt.push.apply(Qt,s))}u=y}if(s=!1,u!==2)continue}}if(u===1){Za(e,0),Tl(e,t,0,!0);break}e:{switch(l=e,s=u,s){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Tl(l,t,cn,!zl);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=Qr+300-dt(),10<u)){if(Tl(l,t,cn,!zl),Xe(l,0,!0)!==0)break e;fl=t,l.timeoutHandle=Ff(Sf.bind(null,l,n,Qt,Fr,Sc,t,cn,ra,Ua,zl,s,"Throttled",-0,0),u);break e}Sf(l,n,Qt,Fr,Sc,t,cn,ra,Ua,zl,s,null,-0,0)}}break}while(!0);Vn(e)}function Sf(e,t,n,l,u,s,y,T,K,ee,ie,ue,te,le){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},hf(t,s,ue);var he=(s&62914560)===s?Qr-dt():(s&4194048)===s?vf-dt():0;if(he=nh(ue,he),he!==null){fl=s,e.cancelPendingCommit=he(Af.bind(null,e,t,s,n,l,u,y,T,K,ie,ue,null,te,le)),Tl(e,s,y,!ee);return}}Af(e,t,s,n,l,u,y,T,K)}function v2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],s=u.getSnapshot;u=u.value;try{if(!nn(s(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tl(e,t,n,l){t&=~_c,t&=~ra,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var s=31-ye(u),y=1<<s;l[s]=-1,u&=~y}n!==0&&Ke(e,n,t)}function $r(){return(Ue&6)===0?(ki(0),!1):!0}function Mc(){if(Te!==null){if(Je===0)var e=Te.return;else e=Te,tl=Pl=null,Iu(e),qa=null,pi=0,e=Te;for(;e!==null;)Fo(e.alternate,e),e=e.return;Te=null}}function Za(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,k2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),fl=0,Mc(),et=e,Te=n=$n(e.current,null),Ee=t,Je=0,un=null,zl=!1,Ia=Gn(e,t),pc=!1,Ua=cn=_c=ra=Dl=st=0,Qt=Gi=null,Sc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-ye(l),s=1<<u;t|=e[u],l&=~s}return ol=t,pr(),n}function Cf(e,t){De=null,M.H=Di,t===Ba||t===Dr?(t=Rs(),Je=3):t===Au?(t=Rs(),Je=4):Je=t===ac?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,un=t,Te===null&&(st=1,Ir(e,_n(t,e.current)))}function jf(){var e=an.current;return e===null?!0:(Ee&4194048)===Ee?wn===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===wn:!1}function wf(){var e=M.H;return M.H=Di,e===null?Di:e}function Mf(){var e=M.A;return M.A=b2,e}function e0(){st=4,zl||(Ee&4194048)!==Ee&&an.current!==null||(Ia=!0),(Dl&134217727)===0&&(ra&134217727)===0||et===null||Tl(et,Ee,cn,!1)}function zc(e,t,n){var l=Ue;Ue|=2;var u=wf(),s=Mf();(et!==e||Ee!==t)&&(Fr=null,Za(e,t)),t=!1;var y=st;e:do try{if(Je!==0&&Te!==null){var T=Te,K=un;switch(Je){case 8:Mc(),y=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(t=!0);var ee=Je;if(Je=0,un=null,Xa(e,T,K,ee),n&&Ia){y=0;break e}break;default:ee=Je,Je=0,un=null,Xa(e,T,K,ee)}}y2(),y=st;break}catch(ie){Cf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,tl=Pl=null,Ue=l,M.H=u,M.A=s,Te===null&&(et=null,Ee=0,pr()),y}function y2(){for(;Te!==null;)zf(Te)}function p2(e,t){var n=Ue;Ue|=2;var l=wf(),u=Mf();et!==e||Ee!==t?(Fr=null,Pr=dt()+500,Za(e,t)):Ia=Gn(e,t);e:do try{if(Je!==0&&Te!==null){t=Te;var s=un;t:switch(Je){case 1:Je=0,un=null,Xa(e,t,s,1);break;case 2:case 9:if(qs(s)){Je=0,un=null,Df(t);break}t=function(){Je!==2&&Je!==9||et!==e||(Je=7),Vn(e)},s.then(t,t);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:qs(s)?(Je=0,un=null,Df(t)):(Je=0,un=null,Xa(e,t,s,7));break;case 5:var y=null;switch(Te.tag){case 26:y=Te.memoizedState;case 5:case 27:var T=Te;if(y?dd(y):T.stateNode.complete){Je=0,un=null;var K=T.sibling;if(K!==null)Te=K;else{var ee=T.return;ee!==null?(Te=ee,t0(ee)):Te=null}break t}}Je=0,un=null,Xa(e,t,s,5);break;case 6:Je=0,un=null,Xa(e,t,s,6);break;case 8:Mc(),st=6;break e;default:throw Error(i(462))}}_2();break}catch(ie){Cf(e,ie)}while(!0);return tl=Pl=null,M.H=l,M.A=u,Ue=n,Te!==null?0:(et=null,Ee=0,pr(),st)}function _2(){for(;Te!==null&&!Ul();)zf(Te)}function zf(e){var t=Qo(e.alternate,e,ol);e.memoizedProps=e.pendingProps,t===null?t0(e):Te=t}function Df(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ko(n,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Ko(n,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Iu(t);default:Fo(n,t),t=Te=js(t,ol),t=Qo(n,t,ol)}e.memoizedProps=e.pendingProps,t===null?t0(e):Te=t}function Xa(e,t,n,l){tl=Pl=null,Iu(t),qa=null,pi=0;var u=t.return;try{if(x2(e,u,t,n,Ee)){st=1,Ir(e,_n(n,e.current)),Te=null;return}}catch(s){if(u!==null)throw Te=u,s;st=1,Ir(e,_n(n,e.current)),Te=null;return}t.flags&32768?(qe||l===1?e=!0:Ia||(Ee&536870912)!==0?e=!1:(zl=e=!0,(l===2||l===9||l===3||l===6)&&(l=an.current,l!==null&&l.tag===13&&(l.flags|=16384))),Nf(t,e)):t0(t)}function t0(e){var t=e;do{if((t.flags&32768)!==0){Nf(t,zl);return}e=t.return;var n=f2(t.alternate,t,ol);if(n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);st===0&&(st=5)}function Nf(e,t){do{var n=d2(e.alternate,e);if(n!==null){n.flags&=32767,Te=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=n}while(e!==null);st=6,Te=null}function Af(e,t,n,l,u,s,y,T,K){e.cancelPendingCommit=null;do n0();while(St!==0);if((Ue&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,s|=mu,Kt(e,n,s,y,T,K),e===et&&(Te=et=null,Ee=0),Ka=t,Al=e,fl=n,Cc=s,jc=u,yf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w2(Un,function(){return qf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=B.p,B.p=2,y=Ue,Ue|=4;try{h2(e,t,n)}finally{Ue=y,B.p=u,M.T=l}}St=1,Tf(),Lf(),Ef()}}function Tf(){if(St===1){St=0;var e=Al,t=Ka,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var l=B.p;B.p=2;var u=Ue;Ue|=4;try{of(t,e);var s=Oc,y=ms(e.containerInfo),T=s.focusedElem,K=s.selectionRange;if(y!==T&&T&&T.ownerDocument&&hs(T.ownerDocument.documentElement,T)){if(K!==null&&su(T)){var ee=K.start,ie=K.end;if(ie===void 0&&(ie=ee),"selectionStart"in T)T.selectionStart=ee,T.selectionEnd=Math.min(ie,T.value.length);else{var ue=T.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var le=te.getSelection(),he=T.textContent.length,_e=Math.min(K.start,he),$e=K.end===void 0?_e:Math.min(K.end,he);!le.extend&&_e>$e&&(y=$e,$e=_e,_e=y);var Q=ds(T,_e),J=ds(T,$e);if(Q&&J&&(le.rangeCount!==1||le.anchorNode!==Q.node||le.anchorOffset!==Q.offset||le.focusNode!==J.node||le.focusOffset!==J.offset)){var $=ue.createRange();$.setStart(Q.node,Q.offset),le.removeAllRanges(),_e>$e?(le.addRange($),le.extend(J.node,J.offset)):($.setEnd(J.node,J.offset),le.addRange($))}}}}for(ue=[],le=T;le=le.parentNode;)le.nodeType===1&&ue.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ue.length;T++){var re=ue[T];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}h0=!!kc,Oc=kc=null}finally{Ue=u,B.p=l,M.T=n}}e.current=t,St=2}}function Lf(){if(St===2){St=0;var e=Al,t=Ka,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var l=B.p;B.p=2;var u=Ue;Ue|=4;try{rf(e,t.alternate,t)}finally{Ue=u,B.p=l,M.T=n}}St=3}}function Ef(){if(St===4||St===3){St=0,oa();var e=Al,t=Ka,n=fl,l=yf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?St=5:(St=0,Ka=Al=null,Bf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Nl=null),ai(n),t=t.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(je,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,u=B.p,B.p=2,M.T=null;try{for(var s=e.onRecoverableError,y=0;y<l.length;y++){var T=l[y];s(T.value,{componentStack:T.stack})}}finally{M.T=t,B.p=u}}(fl&3)!==0&&n0(),Vn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===wc?Ri++:(Ri=0,wc=e):Ri=0,ki(0)}}function Bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vi(t)))}function n0(){return Tf(),Lf(),Ef(),qf()}function qf(){if(St!==5)return!1;var e=Al,t=Cc;Cc=0;var n=ai(fl),l=M.T,u=B.p;try{B.p=32>n?32:n,M.T=null,n=jc,jc=null;var s=Al,y=fl;if(St=0,Ka=Al=null,fl=0,(Ue&6)!==0)throw Error(i(331));var T=Ue;if(Ue|=4,bf(s.current),df(s,s.current,y,n),Ue=T,ki(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(je,s)}catch{}return!0}finally{B.p=u,M.T=l,Bf(e,t)}}function Gf(e,t,n){t=_n(n,t),t=lc(e.stateNode,t,2),e=Cl(e,t,2),e!==null&&(ct(e,2),Vn(e))}function Ve(e,t,n){if(e.tag===3)Gf(e,e,n);else for(;t!==null;){if(t.tag===3){Gf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nl===null||!Nl.has(l))){e=_n(n,e),n=Go(2),l=Cl(t,n,2),l!==null&&(Ro(n,l,t,e),ct(l,2),Vn(l));break}}t=t.return}}function Dc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new g2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(pc=!0,u.add(n),e=S2.bind(null,e,t,n),t.then(e,e))}function S2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,et===e&&(Ee&n)===n&&(st===4||st===3&&(Ee&62914560)===Ee&&300>dt()-Qr?(Ue&2)===0&&Za(e,0):_c|=n,Ua===Ee&&(Ua=0)),Vn(e)}function Rf(e,t){t===0&&(t=bn()),e=Vl(e,t),e!==null&&(ct(e,t),Vn(e))}function C2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rf(e,n)}function j2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Rf(e,n)}function w2(e,t){return nt(e,t)}var l0=null,Ja=null,Nc=!1,a0=!1,Ac=!1,Ll=0;function Vn(e){e!==Ja&&e.next===null&&(Ja===null?l0=Ja=e:Ja=Ja.next=e),a0=!0,Nc||(Nc=!0,z2())}function ki(e,t){if(!Ac&&a0){Ac=!0;do for(var n=!1,l=l0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var s=0;else{var y=l.suspendedLanes,T=l.pingedLanes;s=(1<<31-ye(42|e)+1)-1,s&=u&~(y&~T),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Yf(l,s))}else s=Ee,s=Xe(l,l===et?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||Gn(l,s)||(n=!0,Yf(l,s));l=l.next}while(n);Ac=!1}}function M2(){kf()}function kf(){a0=Nc=!1;var e=0;Ll!==0&&R2()&&(e=Ll);for(var t=dt(),n=null,l=l0;l!==null;){var u=l.next,s=Of(l,t);s===0?(l.next=null,n===null?l0=u:n.next=u,u===null&&(Ja=n)):(n=l,(e!==0||(s&3)!==0)&&(a0=!0)),l=u}St!==0&&St!==5||ki(e),Ll!==0&&(Ll=0)}function Of(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var y=31-ye(s),T=1<<y,K=u[y];K===-1?((T&n)===0||(T&l)!==0)&&(u[y]=Lt(T,t)):K<=t&&(e.expiredLanes|=T),s&=~T}if(t=et,n=Ee,n=Xe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Je===2||Je===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&At(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Gn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&At(l),ai(n)){case 2:case 8:n=da;break;case 32:n=Un;break;case 268435456:n=ha;break;default:n=Un}return l=Hf.bind(null,e),n=nt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&At(l),e.callbackPriority=2,e.callbackNode=null,2}function Hf(e,t){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(n0()&&e.callbackNode!==n)return null;var l=Ee;return l=Xe(e,e===et?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_f(e,l,t),Of(e,dt()),e.callbackNode!=null&&e.callbackNode===n?Hf.bind(null,e):null)}function Yf(e,t){if(n0())return null;_f(e,t,!0)}function z2(){O2(function(){(Ue&6)!==0?nt(qn,M2):kf()})}function Tc(){if(Ll===0){var e=La;e===0&&(e=ht,ht<<=1,(ht&261888)===0&&(ht=256)),Ll=e}return Ll}function If(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fr(""+e)}function Uf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function D2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var s=If((u[Ot]||null).action),y=l.submitter;y&&(t=(t=y[Ot]||null)?If(t.formAction):y.getAttribute("formAction"),t!==null&&(s=t,y=null));var T=new br("action","action",null,l,u);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ll!==0){var K=y?Uf(u,y):new FormData(u);Pu(n,{pending:!0,data:K,method:u.method,action:s},null,K)}}else typeof s=="function"&&(T.preventDefault(),K=y?Uf(u,y):new FormData(u),Pu(n,{pending:!0,data:K,method:u.method,action:s},s,K))},currentTarget:u}]})}}for(var Lc=0;Lc<hu.length;Lc++){var Ec=hu[Lc],N2=Ec.toLowerCase(),A2=Ec[0].toUpperCase()+Ec.slice(1);Rn(N2,"on"+A2)}Rn(vs,"onAnimationEnd"),Rn(ys,"onAnimationIteration"),Rn(ps,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(X1,"onTransitionRun"),Rn(J1,"onTransitionStart"),Rn(V1,"onTransitionCancel"),Rn(_s,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),Kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oi));function Kf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var y=l.length-1;0<=y;y--){var T=l[y],K=T.instance,ee=T.currentTarget;if(T=T.listener,K!==s&&u.isPropagationStopped())break e;s=T,u.currentTarget=ee;try{s(u)}catch(ie){yr(ie)}u.currentTarget=null,s=K}else for(y=0;y<l.length;y++){if(T=l[y],K=T.instance,ee=T.currentTarget,T=T.listener,K!==s&&u.isPropagationStopped())break e;s=T,u.currentTarget=ee;try{s(u)}catch(ie){yr(ie)}u.currentTarget=null,s=K}}}}function Le(e,t){var n=t[ge];n===void 0&&(n=t[ge]=new Set);var l=e+"__bubble";n.has(l)||(Zf(t,e,2,!1),n.add(l))}function Bc(e,t,n){var l=0;t&&(l|=4),Zf(n,e,l,t)}var i0="_reactListening"+Math.random().toString(36).slice(2);function qc(e){if(!e[i0]){e[i0]=!0,Gx.forEach(function(n){n!=="selectionchange"&&(T2.has(n)||Bc(n,!1,e),Bc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[i0]||(t[i0]=!0,Bc("selectionchange",!1,t))}}function Zf(e,t,n,l){switch(pd(t)){case 2:var u=ih;break;case 8:u=rh;break;default:u=Qc}n=u.bind(null,t,n,e),u=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Gc(e,t,n,l,u){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===u)break;if(y===4)for(y=l.return;y!==null;){var K=y.tag;if((K===3||K===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;T!==null;){if(y=ma(T),y===null)return;if(K=y.tag,K===5||K===6||K===26||K===27){l=s=y;continue e}T=T.parentNode}}l=l.return}Vx(function(){var ee=s,ie=$0(n),ue=[];e:{var te=Ss.get(e);if(te!==void 0){var le=br,he=e;switch(e){case"keypress":if(hr(n)===0)break e;case"keydown":case"keyup":le=j1;break;case"focusin":he="focus",le=iu;break;case"focusout":he="blur",le=iu;break;case"beforeblur":case"afterblur":le=iu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Px;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=f1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=z1;break;case vs:case ys:case ps:le=m1;break;case _s:le=N1;break;case"scroll":case"scrollend":le=s1;break;case"wheel":le=T1;break;case"copy":case"cut":case"paste":le=g1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=$x;break;case"toggle":case"beforetoggle":le=E1}var _e=(t&4)!==0,$e=!_e&&(e==="scroll"||e==="scrollend"),Q=_e?te!==null?te+"Capture":null:te;_e=[];for(var J=ee,$;J!==null;){var re=J;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||Q===null||(re=ui(J,Q),re!=null&&_e.push(Hi(J,re,$))),$e)break;J=J.return}0<_e.length&&(te=new le(te,he,null,n,ie),ue.push({event:te,listeners:_e}))}}if((t&7)===0){e:{if(te=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",te&&n!==F0&&(he=n.relatedTarget||n.fromElement)&&(ma(he)||he[de]))break e;if((le||te)&&(te=ie.window===ie?ie:(te=ie.ownerDocument)?te.defaultView||te.parentWindow:window,le?(he=n.relatedTarget||n.toElement,le=ee,he=he?ma(he):null,he!==null&&($e=f(he),_e=he.tag,he!==$e||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(le=null,he=ee),le!==he)){if(_e=Px,re="onMouseLeave",Q="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(_e=$x,re="onPointerLeave",Q="onPointerEnter",J="pointer"),$e=le==null?te:ri(le),$=he==null?te:ri(he),te=new _e(re,J+"leave",le,n,ie),te.target=$e,te.relatedTarget=$,re=null,ma(ie)===ee&&(_e=new _e(Q,J+"enter",he,n,ie),_e.target=$,_e.relatedTarget=$e,re=_e),$e=re,le&&he)t:{for(_e=L2,Q=le,J=he,$=0,re=Q;re;re=_e(re))$++;re=0;for(var pe=J;pe;pe=_e(pe))re++;for(;0<$-re;)Q=_e(Q),$--;for(;0<re-$;)J=_e(J),re--;for(;$--;){if(Q===J||J!==null&&Q===J.alternate){_e=Q;break t}Q=_e(Q),J=_e(J)}_e=null}else _e=null;le!==null&&Xf(ue,te,le,_e,!1),he!==null&&$e!==null&&Xf(ue,$e,he,_e,!0)}}e:{if(te=ee?ri(ee):window,le=te.nodeName&&te.nodeName.toLowerCase(),le==="select"||le==="input"&&te.type==="file")var Ye=us;else if(is(te))if(cs)Ye=U1;else{Ye=Y1;var be=H1}else le=te.nodeName,!le||le.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&P0(ee.elementType)&&(Ye=us):Ye=I1;if(Ye&&(Ye=Ye(e,ee))){rs(ue,Ye,n,ie);break e}be&&be(e,te,ee),e==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Q0(te,"number",te.value)}switch(be=ee?ri(ee):window,e){case"focusin":(is(be)||be.contentEditable==="true")&&(ja=be,ou=ee,mi=null);break;case"focusout":mi=ou=ja=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,bs(ue,n,ie);break;case"selectionchange":if(Z1)break;case"keydown":case"keyup":bs(ue,n,ie)}var Ne;if(uu)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ca?ls(e,n)&&(Be="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Be="onCompositionStart");Be&&(es&&n.locale!=="ko"&&(Ca||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ca&&(Ne=Wx()):(bl=ie,nu="value"in bl?bl.value:bl.textContent,Ca=!0)),be=r0(ee,Be),0<be.length&&(Be=new Fx(Be,e,null,n,ie),ue.push({event:Be,listeners:be}),Ne?Be.data=Ne:(Ne=as(n),Ne!==null&&(Be.data=Ne)))),(Ne=q1?G1(e,n):R1(e,n))&&(Be=r0(ee,"onBeforeInput"),0<Be.length&&(be=new Fx("onBeforeInput","beforeinput",null,n,ie),ue.push({event:be,listeners:Be}),be.data=Ne)),D2(ue,e,ee,n,ie)}Kf(ue,t)})}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function r0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,s=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||s===null||(u=ui(e,n),u!=null&&l.unshift(Hi(e,u,s)),u=ui(e,t),u!=null&&l.push(Hi(e,u,s))),e.tag===3)return l;e=e.return}return[]}function L2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xf(e,t,n,l,u){for(var s=t._reactName,y=[];n!==null&&n!==l;){var T=n,K=T.alternate,ee=T.stateNode;if(T=T.tag,K!==null&&K===l)break;T!==5&&T!==26&&T!==27||ee===null||(K=ee,u?(ee=ui(n,s),ee!=null&&y.unshift(Hi(n,ee,K))):u||(ee=ui(n,s),ee!=null&&y.push(Hi(n,ee,K)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var E2=/\r\n?/g,B2=/\u0000|\uFFFD/g;function Jf(e){return(typeof e=="string"?e:""+e).replace(E2,`
`).replace(B2,"")}function Vf(e,t){return t=Jf(t),Jf(e)===t}function Fe(e,t,n,l,u,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||pa(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&pa(e,""+l);break;case"className":sr(e,"class",l);break;case"tabIndex":sr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(e,n,l);break;case"style":Xx(e,l,s);break;case"data":if(t!=="object"){sr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=fr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Fe(e,t,"name",u.name,u,null),Fe(e,t,"formEncType",u.formEncType,u,null),Fe(e,t,"formMethod",u.formMethod,u,null),Fe(e,t,"formTarget",u.formTarget,u,null)):(Fe(e,t,"encType",u.encType,u,null),Fe(e,t,"method",u.method,u,null),Fe(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=fr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Pn);break;case"onScroll":l!=null&&Le("scroll",e);break;case"onScrollEnd":l!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=fr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Le("beforetoggle",e),Le("toggle",e),xr(e,"popover",l);break;case"xlinkActuate":Qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=c1.get(n)||n,xr(e,n,l))}}function Rc(e,t,n,l,u,s){switch(n){case"style":Xx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?pa(e,l):(typeof l=="number"||typeof l=="bigint")&&pa(e,""+l);break;case"onScroll":l!=null&&Le("scroll",e);break;case"onScrollEnd":l!=null&&Le("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),s=e[Ot]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,u),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):xr(e,n,l)}}}function Gt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var l=!1,u=!1,s;for(s in n)if(n.hasOwnProperty(s)){var y=n[s];if(y!=null)switch(s){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Fe(e,t,s,y,n,null)}}u&&Fe(e,t,"srcSet",n.srcSet,n,null),l&&Fe(e,t,"src",n.src,n,null);return;case"input":Le("invalid",e);var T=s=y=u=null,K=null,ee=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":u=ie;break;case"type":y=ie;break;case"checked":K=ie;break;case"defaultChecked":ee=ie;break;case"value":s=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:Fe(e,t,l,ie,n,null)}}Ix(e,s,T,K,ee,y,u,!1);return;case"select":Le("invalid",e),l=y=s=null;for(u in n)if(n.hasOwnProperty(u)&&(T=n[u],T!=null))switch(u){case"value":s=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:Fe(e,t,u,T,n,null)}t=s,n=y,e.multiple=!!l,t!=null?ya(e,!!l,t,!1):n!=null&&ya(e,!!l,n,!0);return;case"textarea":Le("invalid",e),s=u=l=null;for(y in n)if(n.hasOwnProperty(y)&&(T=n[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":u=T;break;case"children":s=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Fe(e,t,y,T,n,null)}Kx(e,l,u,s);return;case"option":for(K in n)n.hasOwnProperty(K)&&(l=n[K],l!=null)&&(K==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Fe(e,t,K,l,n,null));return;case"dialog":Le("beforetoggle",e),Le("toggle",e),Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(l=0;l<Oi.length;l++)Le(Oi[l],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in n)if(n.hasOwnProperty(ee)&&(l=n[ee],l!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Fe(e,t,ee,l,n,null)}return;default:if(P0(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Rc(e,t,ie,l,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(l=n[T],l!=null&&Fe(e,t,T,l,n,null))}function q2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,s=null,y=null,T=null,K=null,ee=null,ie=null;for(le in n){var ue=n[le];if(n.hasOwnProperty(le)&&ue!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":K=ue;default:l.hasOwnProperty(le)||Fe(e,t,le,null,l,ue)}}for(var te in l){var le=l[te];if(ue=n[te],l.hasOwnProperty(te)&&(le!=null||ue!=null))switch(te){case"type":s=le;break;case"name":u=le;break;case"checked":ee=le;break;case"defaultChecked":ie=le;break;case"value":y=le;break;case"defaultValue":T=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,t));break;default:le!==ue&&Fe(e,t,te,le,l,ue)}}W0(e,y,T,K,ee,ie,s,u);return;case"select":le=y=T=te=null;for(s in n)if(K=n[s],n.hasOwnProperty(s)&&K!=null)switch(s){case"value":break;case"multiple":le=K;default:l.hasOwnProperty(s)||Fe(e,t,s,null,l,K)}for(u in l)if(s=l[u],K=n[u],l.hasOwnProperty(u)&&(s!=null||K!=null))switch(u){case"value":te=s;break;case"defaultValue":T=s;break;case"multiple":y=s;default:s!==K&&Fe(e,t,u,s,l,K)}t=T,n=y,l=le,te!=null?ya(e,!!n,te,!1):!!l!=!!n&&(t!=null?ya(e,!!n,t,!0):ya(e,!!n,n?[]:"",!1));return;case"textarea":le=te=null;for(T in n)if(u=n[T],n.hasOwnProperty(T)&&u!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Fe(e,t,T,null,l,u)}for(y in l)if(u=l[y],s=n[y],l.hasOwnProperty(y)&&(u!=null||s!=null))switch(y){case"value":te=u;break;case"defaultValue":le=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==s&&Fe(e,t,y,u,l,s)}Ux(e,te,le);return;case"option":for(var he in n)te=n[he],n.hasOwnProperty(he)&&te!=null&&!l.hasOwnProperty(he)&&(he==="selected"?e.selected=!1:Fe(e,t,he,null,l,te));for(K in l)te=l[K],le=n[K],l.hasOwnProperty(K)&&te!==le&&(te!=null||le!=null)&&(K==="selected"?e.selected=te&&typeof te!="function"&&typeof te!="symbol":Fe(e,t,K,te,l,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in n)te=n[_e],n.hasOwnProperty(_e)&&te!=null&&!l.hasOwnProperty(_e)&&Fe(e,t,_e,null,l,te);for(ee in l)if(te=l[ee],le=n[ee],l.hasOwnProperty(ee)&&te!==le&&(te!=null||le!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,t));break;default:Fe(e,t,ee,te,l,le)}return;default:if(P0(t)){for(var $e in n)te=n[$e],n.hasOwnProperty($e)&&te!==void 0&&!l.hasOwnProperty($e)&&Rc(e,t,$e,void 0,l,te);for(ie in l)te=l[ie],le=n[ie],!l.hasOwnProperty(ie)||te===le||te===void 0&&le===void 0||Rc(e,t,ie,te,l,le);return}}for(var Q in n)te=n[Q],n.hasOwnProperty(Q)&&te!=null&&!l.hasOwnProperty(Q)&&Fe(e,t,Q,null,l,te);for(ue in l)te=l[ue],le=n[ue],!l.hasOwnProperty(ue)||te===le||te==null&&le==null||Fe(e,t,ue,te,l,le)}function Wf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],s=u.transferSize,y=u.initiatorType,T=u.duration;if(s&&T&&Wf(y)){for(y=0,T=u.responseEnd,l+=1;l<n.length;l++){var K=n[l],ee=K.startTime;if(ee>T)break;var ie=K.transferSize,ue=K.initiatorType;ie&&Wf(ue)&&(K=K.responseEnd,y+=ie*(K<T?1:(T-ee)/(K-ee)))}if(--l,t+=8*(s+y)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kc=null,Oc=null;function u0(e){return e.nodeType===9?e:e.ownerDocument}function Qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yc=null;function R2(){var e=window.event;return e&&e.type==="popstate"?e===Yc?!1:(Yc=e,!0):(Yc=null,!1)}var Ff=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,O2=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(e){return $f.resolve(null).then(e).catch(H2)}:Ff;function H2(e){setTimeout(function(){throw e})}function El(e){return e==="head"}function ed(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),Pa(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Yi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Yi(n);for(var s=n.firstChild;s;){var y=s.nextSibling,T=s.nodeName;s[tn]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=y}}else n==="body"&&Yi(e.ownerDocument.body);n=u}while(n);Pa(t)}function td(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Ic(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ic(n),ii(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Y2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[tn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function I2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function nd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Mn(e.nextSibling),e===null))return null;return e}function Uc(e){return e.data==="$?"||e.data==="$~"}function Kc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function U2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zc=null;function ld(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Mn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function id(e,t,n){switch(t=u0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Yi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ii(e)}var zn=new Map,rd=new Set;function c0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var dl=B.d;B.d={f:K2,r:Z2,D:X2,C:J2,L:V2,m:W2,X:P2,S:Q2,M:F2};function K2(){var e=dl.f(),t=$r();return e||t}function Z2(e){var t=ba(e);t!==null&&t.tag===5&&t.type==="form"?So(t):dl.r(e)}var Va=typeof document>"u"?null:document;function ud(e,t,n){var l=Va;if(l&&typeof t=="string"&&t){var u=yn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),rd.has(u)||(rd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Gt(t,"link",e),zt(t),l.head.appendChild(t)))}}function X2(e){dl.D(e),ud("dns-prefetch",e,null)}function J2(e,t){dl.C(e,t),ud("preconnect",e,t)}function V2(e,t,n){dl.L(e,t,n);var l=Va;if(l&&e&&t){var u='link[rel="preload"][as="'+yn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+yn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+yn(n.imageSizes)+'"]')):u+='[href="'+yn(e)+'"]';var s=u;switch(t){case"style":s=Wa(e);break;case"script":s=Qa(e)}zn.has(s)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),zn.set(s,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Ii(s))||t==="script"&&l.querySelector(Ui(s))||(t=l.createElement("link"),Gt(t,"link",e),zt(t),l.head.appendChild(t)))}}function W2(e,t){dl.m(e,t);var n=Va;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(e)+'"]',s=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Qa(e)}if(!zn.has(s)&&(e=v({rel:"modulepreload",href:e},t),zn.set(s,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ui(s)))return}l=n.createElement("link"),Gt(l,"link",e),zt(l),n.head.appendChild(l)}}}function Q2(e,t,n){dl.S(e,t,n);var l=Va;if(l&&e){var u=ga(l).hoistableStyles,s=Wa(e);t=t||"default";var y=u.get(s);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Ii(s)))T.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zn.get(s))&&Xc(e,n);var K=y=l.createElement("link");zt(K),Gt(K,"link",e),K._p=new Promise(function(ee,ie){K.onload=ee,K.onerror=ie}),K.addEventListener("load",function(){T.loading|=1}),K.addEventListener("error",function(){T.loading|=2}),T.loading|=4,x0(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:T},u.set(s,y)}}}function P2(e,t){dl.X(e,t);var n=Va;if(n&&e){var l=ga(n).hoistableScripts,u=Qa(e),s=l.get(u);s||(s=n.querySelector(Ui(u)),s||(e=v({src:e,async:!0},t),(t=zn.get(u))&&Jc(e,t),s=n.createElement("script"),zt(s),Gt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function F2(e,t){dl.M(e,t);var n=Va;if(n&&e){var l=ga(n).hoistableScripts,u=Qa(e),s=l.get(u);s||(s=n.querySelector(Ui(u)),s||(e=v({src:e,async:!0,type:"module"},t),(t=zn.get(u))&&Jc(e,t),s=n.createElement("script"),zt(s),Gt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function cd(e,t,n,l){var u=(u=ce.current)?c0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Wa(n.href),n=ga(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Wa(n.href);var s=ga(u).hoistableStyles,y=s.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,y),(s=u.querySelector(Ii(e)))&&!s._p&&(y.instance=s,y.state.loading=5),zn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zn.set(e,n),s||$2(u,e,n,y.state))),t&&l===null)throw Error(i(528,""));return y}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Qa(n),n=ga(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Wa(e){return'href="'+yn(e)+'"'}function Ii(e){return'link[rel="stylesheet"]['+e+"]"}function xd(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function $2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Gt(t,"link",n),zt(t),e.head.appendChild(t))}function Qa(e){return'[src="'+yn(e)+'"]'}function Ui(e){return"script[async]"+e}function sd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+yn(n.href)+'"]');if(l)return t.instance=l,zt(l),l;var u=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),zt(l),Gt(l,"style",u),x0(l,n.precedence,e),t.instance=l;case"stylesheet":u=Wa(n.href);var s=e.querySelector(Ii(u));if(s)return t.state.loading|=4,t.instance=s,zt(s),s;l=xd(n),(u=zn.get(u))&&Xc(l,u),s=(e.ownerDocument||e).createElement("link"),zt(s);var y=s;return y._p=new Promise(function(T,K){y.onload=T,y.onerror=K}),Gt(s,"link",l),t.state.loading|=4,x0(s,n.precedence,e),t.instance=s;case"script":return s=Qa(n.src),(u=e.querySelector(Ui(s)))?(t.instance=u,zt(u),u):(l=n,(u=zn.get(s))&&(l=v({},n),Jc(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),zt(u),Gt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,x0(l,n.precedence,e));return t.instance}function x0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,s=u,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===t)s=T;else if(s!==u)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Jc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var s0=null;function od(e,t,n){if(s0===null){var l=new Map,u=s0=new Map;u.set(n,l)}else u=s0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var s=n[u];if(!(s[tn]||s[_t]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var y=s.getAttribute(t)||"";y=e+y;var T=l.get(y);T?T.push(s):l.set(y,[s])}}return l}function fd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function eh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function th(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Wa(l.href),s=t.querySelector(Ii(u));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=o0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,zt(s);return}s=t.ownerDocument||t,l=xd(l),(u=zn.get(u))&&Xc(l,u),s=s.createElement("link"),zt(s);var y=s;y._p=new Promise(function(T,K){y.onload=T,y.onerror=K}),Gt(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=o0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Vc=0;function nh(e,t){return e.stylesheets&&e.count===0&&d0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&d0(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Vc===0&&(Vc=62500*G2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&d0(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Vc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function o0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)d0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var f0=null;function d0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,f0=new Map,t.forEach(lh,e),f0=null,o0.call(e))}function lh(e,t){if(!(t.state.loading&4)){var n=f0.get(e);if(n)var l=n.get(null);else{n=new Map,f0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<u.length;s++){var y=u[s];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),l=y)}l&&n.set(null,l)}u=t.instance,y=u.getAttribute("data-precedence"),s=n.get(y)||l,s===l&&n.set(null,u),n.set(y,u),this.count++,l=o0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),s?s.parentNode.insertBefore(u,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ki={$$typeof:R,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function ah(e,t,n,l,u,s,y,T,K){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=s,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function hd(e,t,n,l,u,s,y,T,K,ee,ie,ue){return e=new ah(e,t,n,y,K,ee,ie,ue,T),t=1,s===!0&&(t|=24),s=ln(3,null,null,t),e.current=s,s.stateNode=e,t=zu(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Tu(s),e}function md(e){return e?(e=za,e):za}function bd(e,t,n,l,u,s){u=md(u),l.context===null?l.context=u:l.pendingContext=u,l=Sl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=Cl(e,l,t),n!==null&&(Pt(n,e,t),Si(n,e,t))}function gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wc(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function vd(e){if(e.tag===13||e.tag===31){var t=Vl(e,67108864);t!==null&&Pt(t,e,67108864),Wc(e,67108864)}}function yd(e){if(e.tag===13||e.tag===31){var t=xn();t=gn(t);var n=Vl(e,t);n!==null&&Pt(n,e,t),Wc(e,t)}}var h0=!0;function ih(e,t,n,l){var u=M.T;M.T=null;var s=B.p;try{B.p=2,Qc(e,t,n,l)}finally{B.p=s,M.T=u}}function rh(e,t,n,l){var u=M.T;M.T=null;var s=B.p;try{B.p=8,Qc(e,t,n,l)}finally{B.p=s,M.T=u}}function Qc(e,t,n,l){if(h0){var u=Pc(l);if(u===null)Gc(e,t,l,m0,n),_d(e,l);else if(ch(u,e,t,n,l))l.stopPropagation();else if(_d(e,l),t&4&&-1<uh.indexOf(e)){for(;u!==null;){var s=ba(u);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var y=Oe(s.pendingLanes);if(y!==0){var T=s;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var K=1<<31-ye(y);T.entanglements[1]|=K,y&=~K}Vn(s),(Ue&6)===0&&(Pr=dt()+500,ki(0))}}break;case 31:case 13:T=Vl(s,2),T!==null&&Pt(T,s,2),$r(),Wc(s,2)}if(s=Pc(l),s===null&&Gc(e,t,l,m0,n),s===u)break;u=s}u!==null&&l.stopPropagation()}else Gc(e,t,l,null,n)}}function Pc(e){return e=$0(e),Fc(e)}var m0=null;function Fc(e){if(m0=null,e=ma(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return m0=e,null}function pd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fa()){case qn:return 2;case da:return 8;case Un:case ni:return 32;case ha:return 268435456;default:return 32}default:return 32}}var $c=!1,Bl=null,ql=null,Gl=null,Zi=new Map,Xi=new Map,Rl=[],uh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _d(e,t){switch(e){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":ql=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":Zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(t.pointerId)}}function Ji(e,t,n,l,u,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[u]},t!==null&&(t=ba(t),t!==null&&vd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function ch(e,t,n,l,u){switch(t){case"focusin":return Bl=Ji(Bl,e,t,n,l,u),!0;case"dragenter":return ql=Ji(ql,e,t,n,l,u),!0;case"mouseover":return Gl=Ji(Gl,e,t,n,l,u),!0;case"pointerover":var s=u.pointerId;return Zi.set(s,Ji(Zi.get(s)||null,e,t,n,l,u)),!0;case"gotpointercapture":return s=u.pointerId,Xi.set(s,Ji(Xi.get(s)||null,e,t,n,l,u)),!0}return!1}function Sd(e){var t=ma(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,cr(e.priority,function(){yd(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,cr(e.priority,function(){yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function b0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pc(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);F0=l,n.target.dispatchEvent(l),F0=null}else return t=ba(n),t!==null&&vd(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){b0(e)&&n.delete(t)}function xh(){$c=!1,Bl!==null&&b0(Bl)&&(Bl=null),ql!==null&&b0(ql)&&(ql=null),Gl!==null&&b0(Gl)&&(Gl=null),Zi.forEach(Cd),Xi.forEach(Cd)}function g0(e,t){e.blockedOn===t&&(e.blockedOn=null,$c||($c=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,xh)))}var v0=null;function jd(e){v0!==e&&(v0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){v0===e&&(v0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Fc(l||n)===null)continue;break}var s=ba(n);s!==null&&(e.splice(t,3),t-=3,Pu(s,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function Pa(e){function t(K){return g0(K,e)}Bl!==null&&g0(Bl,e),ql!==null&&g0(ql,e),Gl!==null&&g0(Gl,e),Zi.forEach(t),Xi.forEach(t);for(var n=0;n<Rl.length;n++){var l=Rl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Rl.length&&(n=Rl[0],n.blockedOn===null);)Sd(n),n.blockedOn===null&&Rl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],s=n[l+1],y=u[Ot]||null;if(typeof s=="function")y||jd(n);else if(y){var T=null;if(s&&s.hasAttribute("formAction")){if(u=s,y=s[Ot]||null)T=y.formAction;else if(Fc(u)!==null)continue}else T=y.action;typeof T=="function"?n[l+1]=T:(n.splice(l,3),l-=3),jd(n)}}}function wd(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function ex(e){this._internalRoot=e}y0.prototype.render=ex.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=xn();bd(n,l,e,t,null,null)},y0.prototype.unmount=ex.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bd(e.current,2,null,e,null,null),$r(),t[de]=null}};function y0(e){this._internalRoot=e}y0.prototype.unstable_scheduleHydration=function(e){if(e){var t=ur();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rl.length&&t!==0&&t<Rl[n].priority;n++);Rl.splice(n,0,e),n===0&&Sd(e)}};var Md=r.version;if(Md!=="19.2.3")throw Error(i(527,Md,"19.2.3"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=d(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var sh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p0.isDisabled&&p0.supportsFiber)try{je=p0.inject(sh),we=p0}catch{}}return Wi.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,l="",u=Lo,s=Eo,y=Bo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=hd(e,1,!1,null,null,n,l,null,u,s,y,wd),e[de]=t.current,qc(e),new ex(t)},Wi.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var l=!1,u="",s=Lo,y=Eo,T=Bo,K=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(K=n.formState)),t=hd(e,1,!0,t,n??null,l,u,K,s,y,T,wd),t.context=md(null),n=t.current,l=xn(),l=gn(l),u=Sl(l),u.callback=null,Cl(n,u,l),n=l,t.current.lanes=n,ct(t,n),Vn(t),e[de]=t.current,qc(e),new y0(t)},Wi.version="19.2.3",Wi}var Gd;function ph(){if(Gd)return lx.exports;Gd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),lx.exports=yh(),lx.exports}var _h=ph();const hl=Dn;(function(c,r){const a=Dn,i=c();for(;;)try{if(-parseInt(a(316))/1+parseInt(a(329))/2+parseInt(a(344))/3*(-parseInt(a(339))/4)+-parseInt(a(325))/5*(parseInt(a(315))/6)+parseInt(a(323))/7+parseInt(a(340))/8+parseInt(a(330))/9*(parseInt(a(345))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(j0,808470);const Sh=(function(){const c=Dn,r={PEeeR:c(336)};let a=!0;return function(i,o){const f=c;if(f(333)===r[f(337)])return _0x44375f===void 0||_0x277fe8===null?_0x37b405:_0x36074a[f(324)](_0xd4da3c[f(322)](_0x3c16e3));{const m=a?function(){const p=f;if(o){const h=o[p(317)](i,arguments);return o=null,h}}:function(){};return a=!1,m}}})(),xx=Sh(void 0,function(){const c=Dn,r={kfkdH:"(((.+)+)+)+$"};return xx[c(341)]()[c(319)]("(((.+)+)+)+$")[c(341)]()[c(327)](xx).search(r.kfkdH)});xx();const C0=()=>new Date()[hl(338)](),kt=c=>c+"_"+Math.random()[hl(341)](36).slice(2,10),Se=(c,r,a)=>Math[hl(343)](r,Math[hl(328)](a,c));function j0(){const c=["A2zwtvu","mte0mJi4ueXQDvbV","mtuZnta3ogLUBvbYBW","yxbWBhK","CMvKDwnL","C2vHCMnO","z3jVDxbZ","zMXVD2vYswrZ","C3rYAw5NAwz5","mta0mtyWn2jhufLZCW","CgfYC2u","mJa1B2Hbr0LV","Cg9ZAxrPB24","y29UC3rYDwn0B3i","BwLU","mJq0nduZnhfKDLbQDq","nZjyEhjVvwW","zMLSDgvY","Aw5JBhvKzxm","vMneBum","zMLUza","BgvUz3rO","t1Hfywe","uevLzvi","Dg9ju09tDhjPBMC","ndmWmJrwtKfItey","nJu2odmZnLj2zhzqDq","Dg9tDhjPBMC","BgvHzKLKCW","Bwf4","mJqZtvrwDhrz","mJi1nda0mgHfy0vgzG"];return j0=function(){return c},j0()}const Ol=c=>c===void 0||{cduTL:function(a,i){return a===i}}.cduTL(c,null)?c:JSON.parse(JSON.stringify(c));function Dn(c,r){c=c-315;const a=j0();let i=a[c];if(Dn.YEBmGk===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Dn.vvljQd=o,Dn.pjeTCw={},Dn.YEBmGk=!0}const f=a[0],m=c+f,p=Dn.pjeTCw[m];if(p)i=p;else{const h=function(d){this.DneRHi=d,this.sgKYKQ=[1,0,0],this.RTNQVq=function(){return"newState"},this.bKiFdU="\\w+ *\\(\\) *{\\w+ *",this.nFfBeO=`['|"].+['|"];? *}`};h.prototype.IVZPYO=function(){const d=new RegExp(this.bKiFdU+this.nFfBeO),g=d.test(this.RTNQVq.toString())?--this.sgKYKQ[1]:--this.sgKYKQ[0];return this.SwXMgB(g)},h.prototype.SwXMgB=function(d){return~d?this.ngUqBp(this.DneRHi):d},h.prototype.ngUqBp=function(d){for(let g=0,v=this.sgKYKQ.length;g<v;g++)this.sgKYKQ.push(Math.round(Math.random())),v=this.sgKYKQ.length;return d(this.sgKYKQ[0])},new h(Dn).IVZPYO(),i=Dn.vvljQd(i),Dn.pjeTCw[m]=i}return i}const Pi=c=>Math.floor(c*.7/5)*5;function xa(c,r){const a=hl;return c[a(320)]?c[a(320)][a(334)](i=>i.flowerIds.includes(r))??null:null}function Ch(c,r){const a=hl,i={rDStb:function(f,m,p){return f(m,p)}},o=i.rDStb(xa,c,r);return o?o[a(321)]:[r]}function Z0(c,r){const a=hl;return c.leafGroups?c.leafGroups[a(334)](i=>i.leafIds[a(332)](r))??null:null}function jh(c,r){const a=hl,i={kfVMU:function(h,d){return h===d}},o=(c.leafGroups??[])[a(334)](h=>h.id===r);if(!o||i[a(346)](o[a(342)][a(335)],0))return{x:0,y:0};const f=o.leafIds.map(h=>(c.leaves??[])[a(334)](d=>d.id===h))[a(331)](h=>!!h);if(f[a(335)]===0)return{x:0,y:0};const m=f.reduce((h,d)=>h+d.position.x,0),p=f[a(318)]((h,d)=>h+d[a(326)].y,0);return{x:m/f[a(335)],y:p/f[a(335)]}}function wh(c,r){const a=hl,i={rUpkI:function(f,m,p){return f(m,p)}},o=i.rUpkI(Z0,c,r);return o?o[a(342)]:[r]}const er=sn;(function(c,r){const a=sn,i=c();for(;;)try{if(parseInt(a(259))/1+parseInt(a(248))/2+-parseInt(a(283))/3+-parseInt(a(267))/4*(-parseInt(a(268))/5)+parseInt(a(273))/6+parseInt(a(284))/7*(parseInt(a(282))/8)+parseInt(a(263))/9*(-parseInt(a(293))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(w0,763567);const Mh=(function(){let c=!0;return function(r,a){const i=c?function(){const o=sn;if(a){const f=a[o(299)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),sx=Mh(void 0,function(){const c=sn,r={rIPCj:"(((.+)+)+)+$"};return sx[c(278)]().search("(((.+)+)+)+$")[c(278)]().constructor(sx).search(r[c(285)])});function w0(){const c=["CKLqq2O","q3fYu3i","yNffyuW","zeXsrNK","s1zuwKi","Bw9Auxq","u1fsvdi","wxHUDLq","mtb6ChDdrNm","ww9Pte0","Dw5PzM9YBq","vKP1sfq","sMfcAxu","CM91BMq","yxbWBhK","tezfCfe","y3PKCfm","CgftqKS","Ewnwt0K","mtu2mtC4mMLjzxrzBG","swvwww0","BunSrw0","uM9Wzvi","DNbSy1m","C2L6zvn0zxbnBq","vxveCLC","r3fovha","y1bmExy","C2LU","sKnQueq","otm5mdqWtLfov0jY","BwLU","z3jHzhvHBa","uKndB0C","mJm5mJyYm0vvsLHmqG","vMHVqKe","De93ExO","v3fNuxa","ntj6rKvvqKq","nti3otb4zwP6weW","DKHmrgm","EuvxsgG","tg5duuW","wMH4wLO","mJG2mZC0nKXmtgD6qq","Bwf4","wgTwD3O","EgXzAMS","twLbBNG","Dg9tDhjPBMC","DhDStNy","uuPzz1e","rvfYwui","mZu2mdH2wxjLrhC","ndaYmJaXmerpvKjyzW","ntzpsvH4yva"];return w0=function(){return c},w0()}sx();const $a=2/3,Rd=.6,zh=.25,Dh=.75;function Il(c,r,a){const i=sn,o={yEWHh:function(R,G){return R<=G},PneVi:function(R,G){return R*G},xlYjk:function(R,G){return R-G},uKoZU:function(R,G){return R*G},fyERm:function(R,G){return R/G},EQrYB:"gradual",czdpS:function(R,G){return R+G},YxnvT:function(R,G){return R*G},MiAnx:function(R,G){return R/G},ZhxZZ:function(R,G){return R*G},CWBiB:function(R,G){return R*G},twlNv:function(R,G){return R/G},bqEaL:function(R,G){return R<G},ArDYO:function(R,G){return R===G},HOzvy:function(R,G){return R+G}},f=c/2,m=r*Math.SQRT2/2;if(o[i(270)](m,0)||o.yEWHh(f,0))return{diameter:c,layerCount:1};const p=a?.sizeMode??i(295),h=a?.sizeStepMm??0,d=o.PneVi(m,o[i(276)](1,$a)),g=o.uKoZU(Math.PI,f)/2,v=a?.layerCount??Math.max(1,Math.round(o.fyERm(g,d))),z=p===o[i(281)]?o[i(245)](r,o.PneVi(v-1,h)):r,b=z*Math[i(291)]/2,N=o.PneVi(m,zh)+o[i(292)](b,Dh);if(v===1){const R=Math[i(260)](o[i(277)](Math.PI,2),o.ZhxZZ(b,$a)/f),G=f*Math[i(257)](R),U=o.CWBiB(b*Rd,Math[i(257)](R));return{diameter:Math[i(298)](Math.max(c,o[i(292)](2,o[i(245)](G,U)))),layerCount:v}}let C=o[i(279)](m*$a,f);for(let R=1;o[i(287)](R,v);R++){const G=o.ArDYO(p,"gradual")?o.czdpS(r,o[i(272)](R,h)):r,U=o.fyERm(G*Math[i(291)],2);C+=o.MiAnx(U*(1-$a),f)}C=Math.min(C,Math.PI/2);const S=o.uKoZU(o.HOzvy(f,N*Rd),Math[i(257)](C)),q=Math.max(0,S-f);return{diameter:Math.round(o[i(245)](c,2*q)),layerCount:v}}function tr(c,r,a=er(295),i=0){const o=er,f={YoiLM:function(h,d){return h<=d},myAVq:function(h,d){return h===d},IDjVM:function(h,d){return h*d},YRAzQ:function(h,d){return h*d},XbAGh:function(h,d){return h<d},tOwyz:function(h,d){return h<d},RCCoG:function(h,d){return h/d},CqrSr:function(h,d){return h<d},paSBK:o(271),xoYyE:function(h,d){return h===d},WqgQp:function(h,d){return h*d},jSKqo:function(h,d){return h!==d}};if(r<=0||c<=0)return 0;const m=[];for(let h=0;f[o(286)](h,r);h++)if(o(269)===f[o(246)]){if(f[o(294)](_0x2dbef1,0)||_0x170dff<=0)return 0;const d=[];for(let v=0;v<_0x138b5e;v++){const z=f.myAVq(_0x5993f4,"gradual")?_0x3f9275+v*_0xf1b17a:_0x82d9fa;d.push(f.IDjVM(z,_0x35e553.SQRT2)/2)}let g=d[0];for(let v=1;v<_0x1e42f7;v++)g+=d[v]/3;return _0x2fcd28.round(f.YRAzQ(g,2))}else{const d=f.xoYyE(a,o(261))?c+f[o(266)](h,i):c;m.push(f[o(266)](d,Math.SQRT2)/2)}let p=m[0];for(let h=1;h<r;h++)if(f.jSKqo(o(290),"uPDBy"))p+=m[h]/3;else{if(f.YoiLM(_0x32e7b4,_0x558ac3))return 1;let d=1,g=80;for(let v=0;f.XbAGh(v,30);v++){const z=(d+g)/2,{diameter:b}=_0x86b138(_0x2b08a3,z,_0x4b5dde);f[o(265)](b,_0x1b76a1)?d=z:g=z}return _0x20e551.max(1,_0x54fbd4[o(298)](f[o(262)](d+g,2)))}return Math[o(298)](p*2)}function Nh(c,r,a="uniform",i=0){const o=er,f={GqNTp:function(v,z){return v/z},dvrfT:"uniform",OQVER:function(v,z){return v===z},ycVOI:function(v,z){return v+z},qBEub:function(v,z){return v*z},KVTZB:function(v,z){return v-z}};if(r<=0||c<=0)return 0;const m=c/2,p=f.GqNTp(Math[o(291)],2),h=r;if(a===f.dvrfT||f.OQVER(i,0)){const v=p*f[o(247)](h,2)/3;return Math[o(274)](1,Math.round(m/v))}const d=f.qBEub(i,h-1)*h/6,g=f[o(255)](f[o(289)](f.GqNTp(m,p),d)*3,f[o(247)](h,2));return Math[o(274)](1,Math.round(g))}function Ah(c,r,a){const i=er,o={gDuPs:function(p,h){return p<=h},VhoBA:function(p,h){return p===h},mClEm:i(295),VJuHT:function(p,h){return p===h},cPLyv:function(p,h){return p/h},vLNOx:function(p,h){return p+h},XVoEn:function(p,h,d,g){return p(h,d,g)},dEjjL:i(252),MQLcl:function(p,h){return p/h}};if(c<=r)return 1;let f=1,m=80;for(let p=0;p<30;p++){const h=o[i(256)](f+m,2),{diameter:d}=o.XVoEn(Il,r,h,a);if(d<c)f=h;else if(o.dEjjL==="vplcS")m=h;else{if(POudcP.gDuPs(_0xc612d3,0)||_0x470cc2<=0)return 0;const g=_0x301c73/2,v=_0x53192f.SQRT2/2,z=_0x368289;if(POudcP[i(264)](_0xac9305,POudcP[i(250)])||POudcP[i(296)](_0x43d017,0)){const C=POudcP[i(256)](v*(z+2),3);return _0x2736f9[i(274)](1,_0x5a8629[i(298)](g/C))}const b=_0x9a789d*(z-1)*z/6,N=POudcP[i(256)]((g/v-b)*3,POudcP.vLNOx(z,2));return _0x489c82.max(1,_0x3175d8.round(N))}}return Math.max(1,Math.round(o.MQLcl(f+m,2)))}function sn(c,r){c=c-244;const a=w0();let i=a[c];if(sn.ZkYopo===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};sn.AhcGZE=o,sn.yhJBiy={},sn.ZkYopo=!0}const f=a[0],m=c+f,p=sn.yhJBiy[m];if(p)i=p;else{const h=function(d){this.sNgnQG=d,this.GRfeXr=[1,0,0],this.PQmczs=function(){return"newState"},this.TCjakT="\\w+ *\\(\\) *{\\w+ *",this.JFMMzE=`['|"].+['|"];? *}`};h.prototype.MoNGXF=function(){const d=new RegExp(this.TCjakT+this.JFMMzE),g=d.test(this.PQmczs.toString())?--this.GRfeXr[1]:--this.GRfeXr[0];return this.BNSeAn(g)},h.prototype.BNSeAn=function(d){return~d?this.mnSXlk(this.sNgnQG):d},h.prototype.mnSXlk=function(d){for(let g=0,v=this.GRfeXr.length;g<v;g++)this.GRfeXr.push(Math.round(Math.random())),v=this.GRfeXr.length;return d(this.GRfeXr[0])},new h(sn).MoNGXF(),i=sn.AhcGZE(i),sn.yhJBiy[m]=i}return i}function Th(c,r,a){const i=er,o={JaBiu:function(z,b){return z+b},QJYgQ:function(z,b){return z/b},gCeOq:function(z,b){return z*b},krutg:function(z,b){return z*b},QUyUO:function(z,b){return z<=b},IeVYm:"uniform",QWLcX:function(z,b){return z===b},VCelD:function(z,b){return z*b},SMIUG:function(z,b){return z*b},LFEpQ:function(z,b){return z!==b},UuDrW:"dxSAK",dLRFy:function(z,b){return z*b},JCjPD:function(z,b){return z>b},RopeR:function(z,b){return z+b}},f=o[i(280)](c,2),m=o.krutg(r,Math.SQRT2)/2;if(m<=0||o.QUyUO(f,0))return 1;const p=a?.sizeMode??o[i(249)],h=a?.[i(253)]??0,d=Math.PI/2;if(p===o[i(249)]||h===0)if(o.QWLcX("XkVwz",i(275))){const z=m/3,b=o.VCelD(Math.PI,f)/2;return Math.max(1,Math[i(298)](o.QJYgQ(b,z)))}else _0x40bfbb=_0x880532;let g=o.QJYgQ(o.SMIUG(m,$a),f);if(g>=d)return 1;let v=1;for(let z=1;z<100;z++)if(o[i(244)]("dxSAK",o[i(254)])){const b=_0x4ef051==="gradual"?fcQbsO[i(297)](_0x3845b7,_0xa6596a*_0x3f3d19):_0x14d343,N=b*_0x509b60[i(291)]/2;_0x50fb46+=fcQbsO.QJYgQ(fcQbsO.gCeOq(N,1-_0x4a0046),_0xbb61ee)}else{const b=r+z*h,N=o[i(280)](o[i(288)](b,Math[i(291)]),2),C=N*(1-$a)/f;if(g+=C,o[i(258)](g,o[i(251)](d,C/2)))break;v=z+1}return Math[i(274)](1,v)}const Bn=Nn;(function(c,r){const a=Nn,i=c();for(;;)try{if(parseInt(a(304))/1+parseInt(a(312))/2*(-parseInt(a(266))/3)+parseInt(a(292))/4*(parseInt(a(293))/5)+-parseInt(a(250))/6*(parseInt(a(270))/7)+parseInt(a(287))/8+-parseInt(a(272))/9*(-parseInt(a(267))/10)+parseInt(a(289))/11*(-parseInt(a(238))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(M0,184950);const Lh=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Nn;if(a){const f=a[o(265)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ox=Lh(void 0,function(){const c=Nn,r={dvrIZ:c(242)};return ox[c(318)]()[c(277)](r.dvrIZ).toString().constructor(ox)[c(277)](r.dvrIZ)});function M0(){const c=["uxDksxK","EgPJvfm","mJriEgryzxC","ChvZAa","C29YDa","uxzVAxq","y1DUz1q","zgP2AeO","CMfKAxvZ","C2nHBgu","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","wu5Vs2y","zg5Pyuq","ChzsBeS","wLbOC3K","B1nPC04","tsaWidakicaGiemGmc4WnsaWlJe1lcaWlJe1idaUmZySidaUmZaGmc40mGOGicaGqYaWlJuWidaUndySidaUnZiGmc4ZncWGmc44ocaWlJe4cIaGicbmideGmaOGicaGtcaWlJG4ic0WlJe4cIaGicbdidaUnZiGltaUmZqSidaUntaGltaUndySidaUmZaGltaUndikicaGiemGmc4XnsaTmc4ZnIWGmc4WnsaTmc4XnsWGmcaWcIaGicbA","yxbWBhK","nLHluND2BG","mJKWy21Tse9Q","C1DfyKq","B3LjAgq","mZu5mJC1CMvdEfbs","u09vzMO","nZq3oxPAqMDgEq","Bwf4","v3PxDw8","zMLUza","Dg1LywW","C2vHCMnO","vvf4tMq","B3jKzxi","t1v0qKq","Cvftqwm","AxHfy0m","zenluMi","yvzlrey","DKzQz1u","A0rkCKu","mtu3ntu5mLvbvg9VEa","zM1Nvfy","mtfkBNrJtK4","Dg9gAxHLza","yLrmDNO","mJqXotuYv2Pmq1PS","mZbjBMHKqKe","B3nSveq","zuDfteG","shv2v0i","5y2k44gp44gz","wfb4D1K","zMTwCLq","sfLYrMW","wwX5Buy","DvbMDeS","uNPYwha","mJe0mde5vNLlDKjM","D3rYu0m","CvPft0O","5yMJ44gK44g+44g/","v2rmqNy","wK1Ut1C","twfWugy","ugPkDwe","mJC2mZe0Agrjvxrh","BfHKswy","y29Z","ANjIuNu","BgvUz3rO","AM9PBG","Dg9tDhjPBMC","mtu3nZe3mMHAtwDbDW","u1fsvdi","uxjYAgG","AKPWtge","kcGOlISPkYKRksSK","qvvrteW","CM91BMq","C2LU","CfrcC3a","zfDuwwy"];return M0=function(){return c},M0()}ox();const ar=.28,kd={:Bn(258),:Bn(264)};function fx(c){const r=Bn;return{DcMvc:function(i,o){return i===o}}.DcMvc(c,r(307))?kd[r(307)]:kd.}function sa(c){return{TsHYs:function(a,i){return a*i}}.TsHYs(c,Math.PI)/180}const en=2.7;function Ct(c){const r=Bn,a={eGELH:function(m,p){return m/p},JYIrf:function(m,p){return m*p}},i=a[r(295)](a.JYIrf(c,Math[r(239)]),2),o=i*en,f=a[r(295)](o,2);return{length:o,width:f}}function Eh(c){const r=Bn,a={HYrFl:function(i,o){return i/o},KMNvI:function(i,o){return i*o}};return a[r(300)](a.KMNvI(c,en),2)}function Nn(c,r){c=c-238;const a=M0();let i=a[c];if(Nn.CdWUhq===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Nn.kzMyLu=o,Nn.dSaguJ={},Nn.CdWUhq=!0}const f=a[0],m=c+f,p=Nn.dSaguJ[m];if(p)i=p;else{const h=function(d){this.WRFhAd=d,this.PUwRbk=[1,0,0],this.WpSdqb=function(){return"newState"},this.PzKyeT="\\w+ *\\(\\) *{\\w+ *",this.pBtQOn=`['|"].+['|"];? *}`};h.prototype.dEjZbz=function(){const d=new RegExp(this.PzKyeT+this.pBtQOn),g=d.test(this.WpSdqb.toString())?--this.PUwRbk[1]:--this.PUwRbk[0];return this.TBsEwc(g)},h.prototype.TBsEwc=function(d){return~d?this.vguvwo(this.WRFhAd):d},h.prototype.vguvwo=function(d){for(let g=0,v=this.PUwRbk.length;g<v;g++)this.PUwRbk.push(Math.round(Math.random())),v=this.PUwRbk.length;return d(this.PUwRbk[0])},new h(Nn).dEjZbz(),i=Nn.kzMyLu(i),Nn.dSaguJ[m]=i}return i}function Fi(c,r,a){const i=Bn,o={OUtBD:function(d,g){return d(g)},wxmYA:function(d,g){return d*g},oyIhd:function(d,g){return d+g},EhBEF:function(d,g){return d/g}},{length:f}=o[i(280)](Ct,a),m=o.wxmYA(f,r),p=Math[i(273)](0,c-m*ar),h=o[i(269)](p,m);return o.EhBEF(o.wxmYA(h,2),en)}function Bh(c,r,a){const i=Bn,o={QwJIy:function(h,d){return h(d)},bTLvz:function(h,d){return h*d},MapPf:function(h,d){return h/d},Qvoit:function(h,d){return h-d}},{length:f}=o[i(248)](Ct,a),m=o[i(291)](f,r),p=o[i(310)](o.bTLvz(c,en),2);return Math.max(2,p-m*o[i(253)](1,ar))}function Wn(c,r,a){const i=Bn,o={HuvWB:function(g,v){return g*v},ucCXh:function(g,v){return g/v},vFjgU:function(g,v){return g+v},GJaxv:function(g,v){return g*v},kDJrE:function(g,v){return g===v},WzWuo:function(g,v){return g/v},SxJWM:function(g,v){return g/v},SEHnK:function(g,v){return g<=v},HHtML:function(g,v){return g??v},vhElb:function(g,v){return g<v},ixEcC:function(g,v){return g===v},aVKDF:function(g,v){return g%v},pTBsp:function(g,v){return g+v},YlymF:"AAmAc",TIaLz:function(g,v){return g+v},oSisN:function(g,v){return g*v},Qrrhh:function(g,v){return g-v},xjcTS:function(g,v){return g>v},Vhjqz:function(g,v){return g!==v},rEhcS:"UQxNd"};if(!c||o.SEHnK(c,0)||!a||o.SEHnK(a,0))return o.HHtML(r,0);const f=360/c,m=360/a,p=[];for(let g=0;o.vhElb(g,c);g++)if(o[i(282)](i(271),"kxKGd")){const v=XcuhMh[i(296)](_0x257daf/_0xc80465*2,_0x5e05ff.PI),z=XcuhMh.ucCXh(XcuhMh[i(285)](_0x3fb42a,.5),_0x29cb97)*2*_0x102fad.PI,b=XcuhMh.ucCXh(_0x2dcc88+1,_0x35cbb0)*2*_0x529498.PI,N=_0x1f5d9d[i(314)](v)*_0x194802,C=XcuhMh.HuvWB(_0x2346ea[i(245)](v),_0x44c6e9),S=XcuhMh.GJaxv(_0x318680[i(314)](z),_0x4ace9b),q=XcuhMh.GJaxv(_0xea6582.sin(z),_0x1c582b),H=_0x2e6d3e.cos(b)*_0x3e074a,R=_0x8afb84[i(245)](b)*_0x51452c;XcuhMh[i(286)](_0x32aa5d,0)&&_0x1e1e67.push("M "+N[i(290)](2)+" "+C.toFixed(2)),_0x723c0b[i(251)]("Q "+S[i(290)](2)+" "+q[i(290)](2)+" "+H.toFixed(2)+" "+R.toFixed(2))}else p[i(251)]((o[i(284)](o.vFjgU(r,o.GJaxv(g,f)),360)+360)%360);let h=o[i(246)](r,f/2),d=-1;for(let g=0;g<c;g++)if(o[i(301)]===o[i(301)]){const v=o.TIaLz(r+o.oSisN(g,f),f/2);let z=1/0;for(let b=0;b<a;b++)if(i(294)==="oslTD"){const N=o[i(284)](o[i(285)]((v+b*m)%360,360),360);for(const C of p){let S=Math.abs(o[i(240)](N,C));S>180&&(S=360-S),S<z&&(z=S)}}else return XcuhMh[i(274)](_0x27fea4*_0x61f17b,2);if(o[i(249)](z,d))if(o.Vhjqz(o.rEhcS,i(278))){const b=_0xca89c8[i(275)](N=>N.id===_0x84eefd.id);b&&(b[i(256)]=_0x8942ef.radius,b[i(257)]=_0x36cc13[i(257)])}else d=z,h=v}else return XcuhMh.SxJWM(_0x45ab77*_0x15abe2.PI,180);return Math.round(o[i(263)](h,10))/10}function X0(c,r,a){const i=Bn,o={dWTYf:function(b,N){return b(N)},fkVrT:function(b,N){return b*N},dCKRb:function(b,N){return b<=N},WdYXu:function(b,N){return b*N},UIhHh:function(b,N){return b/N}};if(c[i(316)]===0)return;const{length:f}=o[i(247)](Ct,r),m=c[0],p=m.scale??1,h=f*p,d=Math[i(273)](0,m[i(256)]-o.fkVrT(h,ar)),g=d+h;if(o[i(283)](g,0))return;const v=o.WdYXu(a,en)/2,z=o.UIhHh(v,g);for(const b of c)b[i(256)]=Math[i(273)](2,Math[i(244)](o.WdYXu(b[i(256)]*z,10))/10),b[i(257)]=Math.round(o[i(299)]((b[i(257)]??1)*z,100))/100;dx(c,r)}function dx(c,r){const a=Bn,i={tmeal:function(h,d){return h===d},RzrXp:function(h,d){return h-d},sQpRC:function(h,d){return h(d)},OCRnc:function(h,d){return h*d},pTPtY:function(h,d){return h>d}};if(i[a(276)](c.length,0))return;const o=c[i[a(303)](c[a(316)],1)],{length:f}=i.sQpRC(Ct,r),m=i.OCRnc(f,o[a(257)]??1),p=Math.floor(m*ar*10)/10;i.pTPtY(o.radius,p)&&(o.radius=p)}function qh(c,r,a,i){const o=Bn,f={ZPhsy:function(z,b){return z-b},jJpLa:function(z,b){return z*b},ZMnOW:function(z,b){return z===b},jrbRu:o(297),pvRlK:function(z,b){return z/b},uPftK:function(z,b){return z*b},WliWD:function(z,b){return z>b},cWngT:function(z,b){return z*b},LeovD:function(z,b){return z/b},AUQLL:function(z,b){return z/b},ZgUZq:function(z,b){return z/b},WLKun:function(z,b){return z+b},rQKqy:function(z,b){return z*b},sWEbD:function(z,b){return z<b},qZEOJ:function(z,b){return z*b},wtrSC:function(z,b){return z/b},aSDEQ:function(z,b){return z-b},djvhJ:function(z,b){return z/b},kTLDN:function(z,b){return z*b},zWIrz:"lQrMh"};if(c.length===0)return;const m=[...c][o(252)]((z,b)=>b[o(279)]-z.order),{length:p}=Ct(r),h=m[o(316)],d=m[0][o(257)]??1,g=p*d;m[0][o(256)]=Math.floor(f.rQKqy(f.rQKqy(g,ar),10))/10;for(let z=1;f[o(268)](z,h);z++){const b=m[z-1],N=f[o(306)](p,b[o(257)]??1);let C;if(a===o(297)){const q=70*Math.PI/180,H=h>1?f[o(254)](f[o(305)](z,f.aSDEQ(h,1)),q):0;C=N*(30/100)*Math.cos(H)}else C=f[o(255)](N,3);m[z][o(256)]=f[o(261)](Math[o(244)](f.kTLDN(f.WLKun(b[o(256)],C),10)),10)}const v=[...c][o(252)]((z,b)=>z[o(279)]-b[o(279)]);X0(v,r,i);for(const z of v){const b=c.find(N=>N.id===z.id);if(b)if(f.ZMnOW(o(313),f.zWIrz)){const N=_0x867453[f[o(262)](_0x1c36e,1)],C=f[o(241)](_0x184d3e,N.scale??1);let S;if(f[o(309)](_0x5959aa,f[o(315)])){const H=f[o(261)](f.uPftK(70,_0x55ce70.PI),180),R=f.WliWD(_0x531fb3,1)?f[o(254)](f.pvRlK(_0x2b2e0a,_0x2db711-1),H):0;S=f[o(302)](C*f.LeovD(30,100),_0x50aae5.cos(R))}else S=f[o(243)](C,3);_0x1eafe9[_0x493f51].radius=f.ZgUZq(_0x3edf11.round(f.uPftK(f.WLKun(N.radius,S),10)),10)}else b.radius=z.radius,b.scale=z.scale}}function ti(c){const r=Bn,a={JgRfY:function(h,d){return h/d},zQTgJ:function(h,d){return h(d)},JuEdf:function(h,d){return h/d},PjJua:function(h,d){return h/d}},i=a.JgRfY(360,c),o=Math[r(245)](a.zQTgJ(sa,a.JuEdf(i,2)))*2,f=.96,m=1.2,p=a[r(311)](o*m,f);return Math[r(244)](Math.max(.3,Math.min(3,p))*100)/100}(function(c,r){const a=Ft,i=c();for(;;)try{if(parseInt(a(160))/1*(parseInt(a(199))/2)+parseInt(a(207))/3*(parseInt(a(194))/4)+parseInt(a(153))/5*(-parseInt(a(213))/6)+-parseInt(a(181))/7+parseInt(a(164))/8+-parseInt(a(158))/9+parseInt(a(165))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(z0,462936);const Gh=(function(){const c={mUBVS:function(a,i){return a===i},nCkxz:"JOxDq"};let r=!0;return function(a,i){const o={AgkzD:function(m,p){return c.mUBVS(m,p)},LtglC:c.nCkxz,tGUqS:function(m,p){return m!==p}},f=r?function(){const m=Ft;if(o.AgkzD("JOxDq",o[m(208)])){if(i){if(o[m(169)]("roGQX","roGQX"))return _0x31a783[m(193)]()[m(173)]("(((.+)+)+)+$").toString()[m(218)](_0x3c8bb9).search(m(203));{const p=i.apply(a,arguments);return i=null,p}}}else _0x1e447b.radius=_0x393674[m(206)],_0x316616[m(155)]=_0x85e599[m(155)]}:function(){};return r=!1,f}})(),hx=Gh(void 0,function(){const c=Ft,r={VWagf:c(203)};return hx[c(193)]()[c(173)](r.VWagf)[c(193)]()[c(218)](hx).search(r.VWagf)});hx();function z0(){const c=["y29Sx2jYB3DU","rhvfDhq","mZqWmJy2ngzvvMDZuW","nJeYotmWu055Aufo","C29YDa","v0HiBNm","sw9oqMO","DeDvCvm","Bgf5zxjZ","Cg9ZAxrPB24","rfPque8","C2vHCMnO","sNvyr2u","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","5lI444gK44g+44g/","tLDty1y","i0uZndG1ma","Cgv0ywXdB3vUDa","BwfW","mte3nty5mK5kvMLrCa","Cevkq0u","tMDfDvm","B1jzDw4","sw5Uzxi","rMXVD2vYide","iZjgqKy0qq","C0jpBva","ChjVAG","y29Sx2DVBgq","u1fwCwq","t3v0zxi","Dg9tDhjPBMC","mty4mdi2mhPUthzyrq","rK1xv2O","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","y29Sx2DYzwvU","zMX3","ndy3nJCYEgH0vLHT","y29Sx3bPBMS","EfzkDfi","qxzXBgi","kcGOlISPkYKRksSK","BMfTzq","tMLUvu0","CMfKAxvZ","m0PIDuPpuW","thrNBem","rgnzC0C","q2vUDgvY","ienVChK","CevVtKW","nJi0DefvEw9u","AhDtBMy","y29Sx2rHCMTNCMvLBG","zMLUza","Cgv0ywXpDMvYCMLKzxm","y29UC3rYDwn0B3i","i0yWoda4ma","y29Sx29Yyw5Nzq","Bgf5","iZfbn0eZqq","B3rnzwW","CePvB3e","qMDOCei","B3jKzxi","mZmYntvmExbmtui","y29Sx3jLza","C2nHBgu","ChjQ","y29Sx3DOAxrL","mJu3mdqYn09Lr3LLBW","i0mWqZbdma","m3nXDvPeCa","tvPqExG"];return z0=function(){return c},z0()}function Kd(){const c=Ft,r={TzyMQ:"#F5F5F5",hydnp:c(200),eucbj:"col_hotpink",WtGwq:"col_lightyellow",SKltW:"#FDF5C9",NWScV:c(197),MZPyx:c(222),jqUck:"col_lightblue",hiVUf:"#3B7DD8",oRYun:"col_purple",xuiIv:c(159),rayTh:"col_black",wdEKr:"#333333",sBOmP:"col_coral",WHHns:c(219)};return[{id:"col_white",name:"",hex:r.TzyMQ},{id:"col_red",name:"",hex:c(178)},{id:r.hydnp,name:"",hex:"#F08CB6"},{id:r.eucbj,name:"",hex:"#E0457B"},{id:c(220),name:"",hex:"#F08A3B"},{id:"col_yellow",name:"",hex:"#F2D04B"},{id:r.WtGwq,name:"",hex:r.SKltW},{id:r[c(177)],name:"",hex:c(187)},{id:c(215),name:"",hex:r[c(161)]},{id:r.jqUck,name:"",hex:"#7EC8E3"},{id:"col_blue",name:"",hex:r.hiVUf},{id:"col_navy",name:"",hex:"#2C3E6B"},{id:r[c(184)],name:"",hex:"#9B59B6"},{id:"col_lavender",name:"",hex:"#C8A2D4"},{id:c(190),name:"",hex:"#D4A843"},{id:"col_silver",name:"",hex:r.xuiIv},{id:"col_cream",name:"",hex:"#F5E6CC"},{id:c(162),name:"",hex:"#8B5E3C"},{id:r.rayTh,name:"",hex:r.wdEKr},{id:r[c(188)],name:"",hex:r[c(167)]}]}function Rh({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=Ft,o={QxKet:function(p){return p()},SQVqd:function(p,h){return p(h)},Avqlb:i(156),otMel:function(p,h){return p??h}},f=C0(),m=o.QxKet(Kd);return ca({id:o[i(191)](kt,o[i(202)]),title:c??i(196),unit:"mm",fabricSquareSize:r??20,baseDiameter:o[i(149)](a,30),notes:"",createdAt:f,updatedAt:f,palette:m,flowers:[]})}function Ft(c,r){c=c-149;const a=z0();let i=a[c];if(Ft.wAAjfe===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Ft.IxFUCK=o,Ft.mzyJhs={},Ft.wAAjfe=!0}const f=a[0],m=c+f,p=Ft.mzyJhs[m];if(p)i=p;else{const h=function(d){this.henlre=d,this.yySNtp=[1,0,0],this.exivDj=function(){return"newState"},this.PAUXku="\\w+ *\\(\\) *{\\w+ *",this.rKMMvc=`['|"].+['|"];? *}`};h.prototype.MNpcge=function(){const d=new RegExp(this.PAUXku+this.rKMMvc),g=d.test(this.exivDj.toString())?--this.yySNtp[1]:--this.yySNtp[0];return this.ugKsKL(g)},h.prototype.ugKsKL=function(d){return~d?this.zjNjuf(this.henlre):d},h.prototype.zjNjuf=function(d){for(let g=0,v=this.yySNtp.length;g<v;g++)this.yySNtp.push(Math.round(Math.random())),v=this.yySNtp.length;return d(this.yySNtp[0])},new h(Ft).MNpcge(),i=Ft.IxFUCK(i),Ft.mzyJhs[m]=i}return i}function kh(c,r){const a=Ft,i={MBixI:a(198),vXBGq:function(p,h){return p+h},IoNBj:function(p,h){return p+h}},o=Ol(c);o.id=kt(i.MBixI),o.name=c[a(204)]+a(211);const f=r?.x??12,m=r?.y??12;return o.position={x:i.vXBGq(c[a(171)]?.x??0,f),y:i[a(168)](c[a(171)]?.y??0,m)},o[a(170)]=(o.layers||[])[a(180)](p=>({...p,id:kt(a(221)),petalOverrides:p.petalOverrides?p[a(217)][a(180)](h=>({...h})):void 0})),o}(function(c,r){const a=on,i=c();for(;;)try{if(-parseInt(a(367))/1*(-parseInt(a(365))/2)+parseInt(a(370))/3*(-parseInt(a(430))/4)+-parseInt(a(394))/5+-parseInt(a(391))/6+parseInt(a(363))/7+parseInt(a(441))/8*(parseInt(a(404))/9)+parseInt(a(342))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(D0,200236);const Oh=(function(){const c={ESLZt:function(a,i){return a!==i},UQgMt:"LbcZe"};let r=!0;return function(a,i){const o=on;if(c[o(344)](o(405),c.UQgMt)){const f=r?function(){if(i){const m=i.apply(a,arguments);return i=null,m}}:function(){};return r=!1,f}else _0x4a65bf[o(350)](_0x40af94[o(416)].pepCount)||(_0x460247[o(416)].pepCount=12),_0x563c21.center[o(440)]=_0x3c3bd2(_0x47c3e8.center[o(440)],4,30)}})(),mx=Oh(void 0,function(){const c=on,r={CZbke:"(((.+)+)+)+$"};return mx[c(369)]().search(r[c(351)])[c(369)]()[c(438)](mx).search(r.CZbke)});mx();function on(c,r){c=c-332;const a=D0();let i=a[c];if(on.KjApdg===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};on.mutFCz=o,on.LzeYwq={},on.KjApdg=!0}const f=a[0],m=c+f,p=on.LzeYwq[m];if(p)i=p;else{const h=function(d){this.duuAFz=d,this.xFaVjl=[1,0,0],this.sXBWQE=function(){return"newState"},this.NbTTQz="\\w+ *\\(\\) *{\\w+ *",this.GGJOfY=`['|"].+['|"];? *}`};h.prototype.jOxutV=function(){const d=new RegExp(this.NbTTQz+this.GGJOfY),g=d.test(this.sXBWQE.toString())?--this.xFaVjl[1]:--this.xFaVjl[0];return this.ugNIIm(g)},h.prototype.ugNIIm=function(d){return~d?this.gtPlVL(this.duuAFz):d},h.prototype.gtPlVL=function(d){for(let g=0,v=this.xFaVjl.length;g<v;g++)this.xFaVjl.push(Math.round(Math.random())),v=this.xFaVjl.length;return d(this.xFaVjl[0])},new h(on).jOxutV(),i=on.mutFCz(i),on.LzeYwq[m]=i}return i}function ux(c){const r=on,a={mQSbj:function(i,o){return i===o},aifnq:"",SsIdQ:function(i,o){return i===o},VgdUR:"",TlTZg:function(i,o){return i===o}};return a[r(333)](c,r(348))?a[r(419)]:a.SsIdQ(c,"ken")?a.VgdUR:a[r(390)](c,r(436))||c===a.VgdUR?c:""}function D0(){const c=["BvftyMO","y29SB3jjza","BgvHzKLKCW","BgvUz3rO","AxnbCNjHEq","ChPUB2m","AgDQBwK","C29Tzq","DhLWzq","nJG1mJeWB29Pzxns","C2L6zq","rvnmwNq","yM9VBgvHBG","CMfKAxvZ","CM90yxrPB24","BwfYDq","AgfZ","AxngAw5PDgu","q1PIA2u","DhHZsvK","vKXcz04","rfLhBKG","Bgf5zxjZ","CM91BMq","vu52Cfa","z3jW","Eur5qvu","A01hEKu","6jgj44kW44oR44o844ox","EfDmtMG","mJm4mdCWmeLkuxvbsa","yNLmvu0","mJrms1fArwK","qMvHyKm","mti5mwLrwgLICG","Aw5UzxjdB2XVCKLK","Dg9tDhjPBMC","mJK1nxnhDxfIBW","ywr1Bhq","yujLB20","x2rVDwjSzvbLDgfSq2fJAgu","y3jLyxrLzef0","BM90zxm","yw1hBNi","5y2k44gp44gz","r1P5Ahi","B2zMC2v0qw5NBgu","C2nHBgu","qLDWANO","zMLSDgvY","Cgv0ywXdB3vUDa","zg91yMXLugv0ywW","y29SB3i","qM9lzMy","Cgv0ywXpDMvYCMLKzxm","Aw5Uzxjty2fSzq","wfz3rLO","vgXuwMC","mte2mZC2mgvRsurpuG","rMXVD2vY","tLP6ywq","ndy0mtvTy3nyD2y","BxnxEhu","CgfSzxr0zq","y29Sx2DYzwvU","Aw5UzxjtAxPLuMvKDwn0Aw9U","ChjVAG","tgvHzG","C3rYAw5N","DgL0Bgu","uwXQCge","mJyXD3riCvjY","z2HmB2q","yujWBwC","DMLZAwjSzq","zMfICMLJu3f1yxjLu2L6zq","Aff1txu","rLLLDeq","Eff0DMO","CgXHy2vTzw50tw9Kzq","Aw5JBhvKzxm","Cg9Zzq","ExDLBvm","y2vUDgvY","y0HHEK0","BMfTzq","ywLMBNe","44oA44od44ox","DMvYC2LVBG","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","y0TtsLO","BgLUA2vKrMXVD2vYr3jVDxbjza","BwfW","tLzyyuC","BgvHDMvZ","Cg9ZAxrPB24","ANLMuLG","mtCYCNfVrvnx","zMXVD2vYswrZ","z3jVDxbZ","yMfZzurPyw1LDgvY","zMXVD2vYrgLHBwv0zxi","Aw5UzxjqzxrHBfr5Cgu","5lI444gK44g+44g/","zMXVD2vYCW","y29UC3rYDwn0B3i","yMfJAW","CgvWq291BNq","ntK5mMHoEwDttW","BgvHzKDYB3vWCW","44or44o844oR77Yl5BQN6yEr","shj0B1C","Cgv0ywXuExbL","y29Sx3DOAxrL","BgvMDa","C3rLBMnPBhm","DxbKyxrLzef0","ChvZAa","thnnz2u"];return D0=function(){return c},D0()}function ca(c){const r=on,a={jzVPs:function(f,m){return f!=m},XVwFZ:function(f,m){return f!==m},byLUM:r(401),amGnr:function(f,m){return f*m},cJoTw:function(f,m){return f||m},MuIHU:function(f,m){return f(m)},iBNTw:"flw",noYem:r(392),LtFLe:"lay",xQtvj:function(f,m){return f!==m},kMGzE:function(f,m,p,h){return f(m,p,h)},cHazM:function(f,m){return f(m)},aBeom:r(366),LsMge:function(f,m){return f!=m},VLBgN:function(f,m){return f!==m},aBpmg:"txsIY",NZzad:function(f,m,p,h){return f(m,p,h)},yDyAU:"IQXym",WIMTm:function(f,m){return f===m},msWxu:r(443),zYIZe:"",hQuMu:r(446),BoKff:function(f,m){return f!==m},IPFyH:r(377),Qljpa:r(339),BWpjz:r(357),jyfRX:function(f,m){return f<=m},hhFnE:"gdIcW",ywemS:function(f){return f()},DYGnH:function(f,m){return f(m)},tejFz:r(422),HrtoW:function(f,m){return f===m},NVXaG:function(f,m){return f(m)},xWLNh:function(f,m){return f!==m},ODVCu:r(400),GZyhr:function(f,m){return f(m)},VrsgM:function(f,m){return f!==m},jrMqE:"col_green",HHsGP:function(f,m){return f!==m},tSbTt:function(f,m){return f===m},FYetD:function(f,m,p,h){return f(m,p,h)},CokXF:function(f,m){return f!=m},qeciQ:r(361),QaIHO:"child",cKSJZ:r(447)},i=Ol(a.cJoTw(c,{}));Array.isArray(i[r(437)])||(i[r(437)]=[]);for(const f of i[r(437)]){f.id||(f.id=a.MuIHU(kt,a.iBNTw)),(typeof f.name!==r(401)||!f[r(418)])&&(f.name=a.noYem),(!f.position||!Number.isFinite(f.position.x)||!Number[r(350)](f[r(428)].y))&&(f[r(428)]={x:260,y:260}),Array[r(337)](f[r(355)])||(f[r(355)]=[]);for(const m of f[r(355)]){if(m.id||(m.id=kt(a.LtFLe)),(a[r(411)](typeof m.colorId,a[r(364)])||!m[r(334)])&&(m.colorId=i[r(396)]?.[0]?.id??r(446)),m.petalType=ux(m.petalType),m.petalCount=a.kMGzE(Se,a.cHazM(Number,m[r(383)]||0),5,24),Number[r(350)](m.scale)||(m[r(380)]=1),Number[r(350)](m.widthScale)||(m.widthScale=1),Number.isFinite(m[r(346)])||(m.radius=28),Number[r(350)](m[r(379)])||(m.offsetAngle=0),delete m._doublePetalCache,m.doublePetal)if(typeof m.doublePetal!="object"||m[r(384)]===null)delete m.doublePetal;else{if(a.jzVPs(m[r(384)][r(388)],null)&&m.doublePetal[r(398)]==null)if(a[r(372)]!==a.aBeom)_0x7b5131.placementMode=r(377);else{const p=f.fabricSquareSize??i.fabricSquareSize??20;m[r(384)].innerSizeReduction=Math.round(a[r(376)](p,1-m[r(384)].innerScale))}delete m[r(384)].innerScale,Number[r(350)](m.doublePetal[r(398)])||(m.doublePetal.innerSizeReduction=2),m.doublePetal[r(398)]=Se(m[r(384)].innerSizeReduction,1,30),delete m.doublePetal[r(435)],a.jzVPs(m[r(384)][r(368)],null)&&a[r(389)](typeof m.doublePetal[r(368)],a.byLUM)&&delete m[r(384)].innerColorId}if(Array[r(337)](m.petalOverrides))for(const p of m[r(387)])p&&p.petalType!=null&&(p.petalType=a[r(417)](ux,p[r(445)])),p&&delete p.innerPetalType,p&&a.LsMge(p.innerColorId,null)&&a[r(353)](typeof p.innerColorId,"string")&&delete p.innerColorId,p&&a[r(332)](p.innerSizeReduction,null)&&(a.XVwFZ(a[r(406)],r(352))?(_0x51a4fb[r(350)](_0x389eff[r(384)][r(398)])||(_0x5925e4.doublePetal.innerSizeReduction=2),_0x1e906a.doublePetal[r(398)]=_0x5ea3d8(_0x31e3ee.doublePetal.innerSizeReduction,1,30),a.jzVPs(_0x4919e7.doublePetal[r(368)],null)&&a[r(389)](typeof _0x264104[r(384)][r(368)],a.byLUM)&&delete _0x471e52[r(384)][r(368)]):Number.isFinite(p[r(398)])?p.innerSizeReduction=a[r(393)](Se,p.innerSizeReduction,1,30):delete p[r(398)])}if((!Number[r(350)](f[r(434)])||f[r(434)]<=0)&&(f[r(434)]=60),f.center&&(a.xQtvj("IQXym",a[r(359)])?_0x320c32.position={x:675,y:675}:(a.WIMTm(f[r(416)].type,a[r(395)])&&(f.center.type=""),[a.zYIZe,"",r(420)].includes(f.center[r(341)])||(f[r(416)][r(341)]=a.zYIZe),Number[r(350)](f.center.size)||(f[r(416)][r(343)]=6),f[r(416)][r(343)]=a[r(360)](Se,f.center.size,1,30),(a[r(353)](typeof f[r(416)][r(385)],a[r(364)])||!f[r(416)].color)&&(f.center[r(385)]=i.palette?.[0]?.id??a[r(409)]),f[r(416)][r(341)]===""&&(Number.isFinite(f[r(416)].pepCount)||(f.center.pepCount=12),f[r(416)][r(440)]=Se(f[r(416)].pepCount,4,30)),a[r(386)](f[r(416)].type,"")&&delete f.center.color2)),f.placementMode!==a.IPFyH&&f.placementMode!==""&&(a[r(403)]===a[r(381)]?delete _0x129cf3[r(433)]:f[r(412)]=a.IPFyH),a.VLBgN(f.baseDiameter,void 0)&&(!Number.isFinite(f[r(433)])||a[r(429)](f.baseDiameter,0)))if(a.xQtvj(a.hhFnE,"gdIcW")){const m=_0x1bfbcf.fabricSquareSize??_0x29228b.fabricSquareSize??20;_0x5d38d4[r(384)].innerSizeReduction=_0x465016[r(356)](a.amGnr(m,1-_0x2cff74.doublePetal[r(388)]))}else delete f[r(433)]}Array[r(337)](i[r(396)])||(i[r(396)]=[]);const o=new Set(i.palette[r(425)](f=>f.id));for(const f of a.ywemS(Kd))o[r(349)](f.id)||i[r(396)][r(450)](f);i[r(374)]||(i[r(374)]=a[r(415)](C0)),i.updatedAt||(i[r(449)]=i.createdAt),i.id||(i.id=a[r(354)](kt,r(399))),i[r(402)]||(i.title=a.tejFz),i.unit="mm",Number[r(350)](i[r(408)])||(i[r(408)]=20),(!Number[r(350)](i.baseDiameter)||i[r(433)]<=0)&&(i.baseDiameter=30),a.BoKff(typeof i[r(375)],"string")&&(i[r(375)]=""),Array.isArray(i.groups)||(i[r(432)]=[]);{const f=new Set(i.flowers.map(m=>m.id));for(const m of i.groups)a[r(444)]("UArsP",r(338))?_0x2f309c.innerSizeReduction=_0x55a553(_0x3998c5[r(398)],1,30):(Array[r(337)](m[r(431)])||(m[r(431)]=[]),m[r(431)]=m.flowerIds.filter(p=>f.has(p)),m.id||(m.id=a[r(426)](kt,r(358))),(typeof m.name!==r(401)||!m[r(418)])&&(m.name=""));i[r(432)]=i.groups[r(382)](m=>m.flowerIds&&m[r(431)][r(336)]>0)}Array[r(337)](i.leaves)||(i[r(427)]=[]);for(const f of i.leaves)f.id||(f.id=kt("leaf")),(a[r(362)](typeof f.name,"string")||!f[r(418)])&&(f[r(418)]=a.ODVCu),(!f[r(428)]||!Number[r(350)](f.position.x)||!Number[r(350)](f[r(428)].y))&&(f.position={x:675,y:675}),Number.isFinite(f[r(347)])||(f[r(347)]=0),f[r(445)]=a[r(378)](ux,f[r(445)]),(a.VrsgM(typeof f[r(334)],"string")||!f[r(334)])&&(f.colorId=i[r(396)]?.[0]?.id??a.jrMqE),Number.isFinite(f.scale)||(f.scale=1),Number[r(350)](f.widthScale)||(f.widthScale=1),a.HHsGP(typeof f.visible,"boolean")&&(f[r(407)]=!0),typeof f.locked!==r(345)&&(f.locked=!1),delete f[r(373)],f.doublePetal&&(typeof f.doublePetal!="object"||a.tSbTt(f[r(384)],null)?delete f.doublePetal:(Number.isFinite(f.doublePetal[r(398)])||(f[r(384)].innerSizeReduction=2),f[r(384)].innerSizeReduction=a[r(410)](Se,f.doublePetal.innerSizeReduction,1,30),a.CokXF(f.doublePetal[r(368)],null)&&typeof f.doublePetal[r(368)]!==a.byLUM&&delete f[r(384)].innerColorId));Array[r(337)](i[r(442)])||(i[r(442)]=[]);{const f=new Set(i[r(427)][r(425)](m=>m.id));for(const m of i[r(442)])m.id||(m.id=a[r(417)](kt,"lg")),(a[r(353)](typeof m[r(418)],"string")||!m[r(418)])&&(m[r(418)]=a.qeciQ),Array.isArray(m[r(335)])||(m[r(335)]=[]),m[r(335)]=m.leafIds.filter(p=>f.has(p)),Number[r(350)](m[r(347)])||(m[r(347)]=0),a.LsMge(m[r(424)],null)&&((i.groups??[])[r(340)](h=>h.id===m[r(424)])||delete m[r(424)]);i.leafGroups=i.leafGroups.filter(m=>m.leafIds&&m[r(335)].length>0)}if(Array.isArray(i[r(448)])){const f=[r(371),a.QaIHO],m=["right",a[r(423)],r(439)];i.stencils=i[r(448)].filter(p=>p&&typeof p.id=="string"&&f.includes(p.variant)&&m[r(413)](p[r(414)])&&p[r(428)]&&Number[r(350)](p[r(428)].x)&&Number.isFinite(p[r(428)].y))}return Number[r(350)](i[r(421)])||(i[r(421)]=1),i}const N0=An;(function(c,r){const a=An,i=c();for(;;)try{if(-parseInt(a(309))/1+-parseInt(a(308))/2+-parseInt(a(305))/3+-parseInt(a(301))/4*(-parseInt(a(307))/5)+-parseInt(a(300))/6+-parseInt(a(310))/7+-parseInt(a(303))/8*(-parseInt(a(311))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,687192);const Hh=(function(){let c=!0;return function(r,a){const i=c?function(){const o=An;if(a){const f=a[o(313)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),bx=Hh(void 0,function(){const c=An,r={ljtHW:"(((.+)+)+)+$"};return bx.toString().search(r.ljtHW).toString()[c(312)](bx)[c(304)](c(314))});bx();const Zd="tsumami_projects_v1",ml=["",N0(306)],Yh=[N0(299),"",N0(298)];function An(c,r){c=c-298;const a=A0();let i=a[c];if(An.sEXyFD===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};An.PFKeyO=o,An.sKKaHF={},An.sEXyFD=!0}const f=a[0],m=c+f,p=An.sKKaHF[m];if(p)i=p;else{const h=function(d){this.pDJUtu=d,this.JvtIvN=[1,0,0],this.ILxqcJ=function(){return"newState"},this.KMYHtV="\\w+ *\\(\\) *{\\w+ *",this.CZcfbb=`['|"].+['|"];? *}`};h.prototype.mjUika=function(){const d=new RegExp(this.KMYHtV+this.CZcfbb),g=d.test(this.ILxqcJ.toString())?--this.JvtIvN[1]:--this.JvtIvN[0];return this.TQVxZl(g)},h.prototype.TQVxZl=function(d){return~d?this.dIHRMd(this.pDJUtu):d},h.prototype.dIHRMd=function(d){for(let g=0,v=this.JvtIvN.length;g<v;g++)this.JvtIvN.push(Math.round(Math.random())),v=this.JvtIvN.length;return d(this.JvtIvN[0])},new h(An).mjUika(),i=An.PFKeyO(i),An.sKKaHF[m]=i}return i}function A0(){const c=["ndGZntuZmNLjAunrCG","mtyWmJyWz3nHuxbU","5y2k44gp44gz","ogrwEuzwrW","C2vHCMnO","mtm3otGWmLzlBwD6Ca","5yMJ44gK44g+44g/","mtv0sK15ELm","mZm0mZeWBgn3tuvo","mtm1mtK4ohH5ENL1uG","ndC3ntG2oxfiDvjOwG","mZyZmdGZnJDfz2nAy0W","y29UC3rYDwn0B3i","yxbWBhK","kcGOlISPkYKRksSK","44oA44od44ox","44or44o844oR"];return A0=function(){return c},A0()}const Xd=["",N0(302)];(function(c,r){const a=Ut,i=c();for(;;)try{if(parseInt(a(350))/1*(-parseInt(a(345))/2)+-parseInt(a(347))/3*(parseInt(a(338))/4)+parseInt(a(358))/5+-parseInt(a(337))/6+parseInt(a(330))/7*(parseInt(a(352))/8)+parseInt(a(355))/9*(parseInt(a(334))/10)+parseInt(a(339))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,509438);const Ih=(function(){const c={WOlBT:"ybmay"};let r=!0;return function(a,i){const o=r?function(){const f=Ut;if(f(336)===c[f(331)])return _0x292141[f(348)](_0x3ad790,_0x2d849d[f(329)](_0x239d42)),!0;if(i){const m=i.apply(a,arguments);return i=null,m}}:function(){};return r=!1,o}})(),gx=Ih(void 0,function(){const c=Ut,r={SAVCJ:"(((.+)+)+)+$"};return gx.toString().search(r.SAVCJ)[c(353)]()[c(357)](gx)[c(359)](r.SAVCJ)});gx();function $i(){const c=Ut,r={NtjYn:function(a,i){return a!==i},fzZUC:function(a,i){return a(i)}};try{const a=localStorage.getItem(Zd);if(!a)return[];const i=JSON[c(346)](a);return Array[c(335)](i)?i[c(333)](o=>{const f=c;if(r[f(349)]("yjsfG","yjsfG"))return null;try{const m=o?.[f(340)]?r[f(356)](ca,o.project):null;return m?{id:o.id??m.id,title:o[f(351)]??m.title,updatedAt:o.updatedAt??m.updatedAt,project:m}:null}catch{return null}})[c(344)](o=>o!=null):[]}catch{return[]}}function Jd(c){const r=Ut;try{return localStorage.setItem(Zd,JSON[r(329)](c)),!0}catch{return!1}}function Ut(c,r){c=c-329;const a=T0();let i=a[c];if(Ut.yGapYK===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Ut.ETTiOR=o,Ut.gWtpVD={},Ut.yGapYK=!0}const f=a[0],m=c+f,p=Ut.gWtpVD[m];if(p)i=p;else{const h=function(d){this.ooWZPj=d,this.iUDvAb=[1,0,0],this.LuXiHy=function(){return"newState"},this.WPncEa="\\w+ *\\(\\) *{\\w+ *",this.omzaZX=`['|"].+['|"];? *}`};h.prototype.uokdXt=function(){const d=new RegExp(this.WPncEa+this.omzaZX),g=d.test(this.LuXiHy.toString())?--this.iUDvAb[1]:--this.iUDvAb[0];return this.mNtBwT(g)},h.prototype.mNtBwT=function(d){return~d?this.SrvUem(this.ooWZPj):d},h.prototype.SrvUem=function(d){for(let g=0,v=this.iUDvAb.length;g<v;g++)this.iUDvAb.push(Math.round(Math.random())),v=this.iUDvAb.length;return d(this.iUDvAb[0])},new h(Ut).uokdXt(),i=Ut.ETTiOR(i),Ut.gWtpVD[m]=i}return i}function T0(){const c=["nJCXmJyWqKr3renS","C2vHCMnO","DxbKyxrLzef0","C3rYAw5NAwz5","mte1odvStLvksxm","v09SqLq","C2XPy2u","BwfW","ntC3otbLDMnnuM0","AxnbCNjHEq","vePOueC","mtG0mJa2uM5fzMrT","ntmYzePWthPU","nZm4nJu4oe12A09Qqq","ChjVAMvJDa","te9XrgO","zxresvC","q3nxAu4","zMLSDgvY","mKndrePsta","CgfYC2u","mtiXndDLtwT5CMu","C2v0sxrLBq","tNrQww4","odiZodKXv3LbDvfx","DgL0Bgu","odG4DLHkBe9b","Dg9tDhjPBMC","C29YDa","mtqYmK5sru13va","zNPAvum","y29UC3rYDwn0B3i"];return T0=function(){return c},T0()}function Uh(c){const r=Ut,a={ALChX:function(p){return p()},CsWiN:function(p,h){return p+h}},i=a.ALChX($i),o=i.findIndex(p=>p.id===c.id),f={id:c.id,title:c[r(351)],updatedAt:c[r(360)],project:c},m=o>=0?[...i.slice(0,o),f,...i[r(332)](a[r(343)](o,1))]:[f,...i];return m[r(354)]((p,h)=>p.updatedAt<h[r(360)]?1:-1),Jd(m)}function Kh(c){const r=Ut,a={etDIW:function(o){return o()},LOqDj:function(o,f){return o(f)}},i=a[r(342)]($i).filter(o=>o.id!==c);return a[r(341)](Jd,i)}function Hn(c,r){c=c-379;const a=L0();let i=a[c];if(Hn.PDKFjF===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Hn.sdorWK=o,Hn.EbzOAa={},Hn.PDKFjF=!0}const f=a[0],m=c+f,p=Hn.EbzOAa[m];if(p)i=p;else{const h=function(d){this.UFgfMZ=d,this.sqHQPG=[1,0,0],this.cLpHqR=function(){return"newState"},this.KwIOyq="\\w+ *\\(\\) *{\\w+ *",this.AtepTc=`['|"].+['|"];? *}`};h.prototype.BPdeGy=function(){const d=new RegExp(this.KwIOyq+this.AtepTc),g=d.test(this.cLpHqR.toString())?--this.sqHQPG[1]:--this.sqHQPG[0];return this.lAGTvR(g)},h.prototype.lAGTvR=function(d){return~d?this.dNoiHp(this.UFgfMZ):d},h.prototype.dNoiHp=function(d){for(let g=0,v=this.sqHQPG.length;g<v;g++)this.sqHQPG.push(Math.round(Math.random())),v=this.sqHQPG.length;return d(this.sqHQPG[0])},new h(Hn).BPdeGy(),i=Hn.sdorWK(i),Hn.EbzOAa[m]=i}return i}(function(c,r){const a=Hn,i=c();for(;;)try{if(-parseInt(a(422))/1*(parseInt(a(386))/2)+-parseInt(a(408))/3+parseInt(a(382))/4+parseInt(a(399))/5*(parseInt(a(402))/6)+parseInt(a(420))/7+parseInt(a(410))/8*(-parseInt(a(387))/9)+-parseInt(a(394))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,148442);const Zh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),vx=Zh(void 0,function(){const c=Hn,r={CwOuP:"(((.+)+)+)+$"};return vx.toString().search("(((.+)+)+)+$").toString()[c(425)](vx).search(r.CwOuP)});vx();function Xh(c){const r=Hn,a={ggjtS:r(424),WUiSI:function(g,v){return g*v},AxOis:"#999999",QNlaZ:r(398),XZGxO:function(g,v){return g!==v},PUQQk:function(g,v){return g*v},EHbBP:function(g,v){return g-v},PGFSi:function(g,v){return g===v},nmxkw:function(g,v){return g(v)}},i=new Map((c[r(413)]||[])[r(390)](g=>[g.id,g])),o=new Map,f=(g,v)=>g?.[r(383)]?.[r(380)](z=>z.index===v)??null,m=new Map;for(const g of c[r(401)]||[]){const v=g[r(416)]??c[r(416)];for(const S of g[r(397)]||[]){if(!S.visible)continue;const q=Math.round(a.PUQQk(v,S.scale??1));for(let H=0;H<S[r(406)];H++){const R=f(S,H),G=R?.[r(411)]??S[r(411)],U=G+"|"+q,W=o[r(396)](U);if(W)if(r(389)==="kPkvU"){const E=_0x52d6fc.get(_0x896816);E?E.entries[r(404)]({fabricSizeMm:_0x50b0e5,count:_0x464fab}):_0x308e8a[r(421)](_0x3e4484,{colorId:_0x53fa37,entries:[{fabricSizeMm:_0x24d1a3,count:_0x361b53}]})}else W[r(417)]+=1;else o.set(U,{colorId:G,fabricSizeMm:q,count:1});if(S[r(392)]){const E=S[r(392)],I=R?.[r(414)]??E[r(414)]??G,P=R?.[r(400)]??E[r(400)]??2,ne=Math.max(3,Math[r(385)](a[r(393)](q,P))),V=I+"|"+ne,_=o.get(V);_?_[r(417)]+=1:o[r(421)](V,{colorId:I,fabricSizeMm:ne,count:1})}}}const z=g.placementMode??r(407),b=a.PGFSi(z,"")?a[r(391)](Pi,g[r(423)]):g.baseDiameter??c[r(412)],N=z+"|"+b,C=m.get(N);C?C[r(417)]+=1:m.set(N,{mode:z,baseDiameterMm:b,count:1})}for(const g of c[r(428)]??[]){if(!g.visible)continue;const v=g.fabricSquareSize??c[r(416)],z=Math.round(v*(g[r(426)]??1)),b=g.colorId,N=b+"|"+z,C=o.get(N);if(C?C.count+=1:o.set(N,{colorId:b,fabricSizeMm:z,count:1}),g.doublePetal){const S=g[r(392)],q=S.innerColorId??b,H=Math.max(3,Math.round(z-(S.innerSizeReduction??2))),R=q+"|"+H,G=o.get(R);G?G.count+=1:o.set(R,{colorId:q,fabricSizeMm:H,count:1})}}const p=new Map;for(const{colorId:g,fabricSizeMm:v,count:z}of o[r(409)]()){const b=p.get(g);b?b.entries.push({fabricSizeMm:v,count:z}):p[r(421)](g,{colorId:g,entries:[{fabricSizeMm:v,count:z}]})}const h=Array[r(388)](p[r(409)]())[r(390)](({colorId:g,entries:v})=>{const z=r,b=i.get(g),N=v[z(419)]((H,R)=>R.fabricSizeMm-H.fabricSizeMm),C=N[z(415)]((H,R)=>H+R.count,0),S=Math[z(385)](N.reduce((H,R)=>{const G=z;if(a[G(395)]==="RTIgz"){const U=R.fabricSizeMm/10;return H+a[G(379)](a.WUiSI(R[G(417)],U),U)}else _0x4d0fc1[G(417)]+=1},0)*100)/100,q=Math.round(a.WUiSI(Math[z(427)](S),10))/10;return{colorId:g,colorName:b?.name??g,hex:b?.[z(381)]??a.AxOis,sizes:N,totalCount:C,totalAreaCm2:S,squareSideCm:q}}).sort((g,v)=>v[r(405)]-g.totalCount),d=Array.from(m[r(409)]()).sort((g,v)=>{const z=r;if(a[z(403)]!==a.QNlaZ)_0x250c8e.count+=1;else return a.XZGxO(g.mode,v.mode)?g[z(384)]===""?-1:1:v[z(418)]-g[z(418)]});return{colors:h,bases:d}}function L0(){const c=["CgfSzxr0zq","Aw5UzxjdB2XVCKLK","CMvKDwnL","zMfICMLJu3f1yxjLu2L6zq","y291BNq","yMfZzurPyw1LDgvYtw0","C29YDa","mZeXmdaZv2Ldy0f4","C2v0","mJDkyLfmreq","zMXVD2vYrgLHBwv0zxi","uLrjz3O","y29UC3rYDwn0B3i","C2nHBgu","C3fYDa","BgvHDMvZ","v1vPu0K","zMLUza","Agv4","odGYmtyWELzQA0DU","Cgv0ywXpDMvYCMLKzxm","Bw9Kzq","CM91BMq","mtmWmtjPrfjXwwe","ntuYnKrvvgT1zG","zNjVBq","zevjBfa","BwfW","BM14A3C","zg91yMXLugv0ywW","ruHIqLa","mtm1nZyWsMncBxDw","z2DQDfm","z2v0","Bgf5zxjZ","ExvhDKq","odm1nxzwDuXpyG","Aw5UzxjtAxPLuMvKDwn0Aw9U","zMXVD2vYCW","ndyYB29mB1jl","uu5SyvO","ChvZAa","Dg90ywXdB3vUDa","Cgv0ywXdB3vUDa","5y2k44gp44gz","mte0nduWsMLmsLrs","DMfSDwvZ","mJmYue1JCLnK","y29SB3jjza","yMfZzurPyw1LDgvY"];return L0=function(){return c},L0()}(function(c,r){const a=fn,i=c();for(;;)try{if(parseInt(a(337))/1*(-parseInt(a(349))/2)+-parseInt(a(340))/3+parseInt(a(356))/4+-parseInt(a(380))/5+-parseInt(a(382))/6*(parseInt(a(335))/7)+parseInt(a(348))/8+-parseInt(a(366))/9*(-parseInt(a(374))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,134981);function fn(c,r){c=c-326;const a=E0();let i=a[c];if(fn.aATAZu===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};fn.MkIBwc=o,fn.VdyfAn={},fn.aATAZu=!0}const f=a[0],m=c+f,p=fn.VdyfAn[m];if(p)i=p;else{const h=function(d){this.PhQScd=d,this.GdcsoD=[1,0,0],this.SEAYHg=function(){return"newState"},this.VoBiNP="\\w+ *\\(\\) *{\\w+ *",this.Zcrmjy=`['|"].+['|"];? *}`};h.prototype.nbfZPG=function(){const d=new RegExp(this.VoBiNP+this.Zcrmjy),g=d.test(this.SEAYHg.toString())?--this.GdcsoD[1]:--this.GdcsoD[0];return this.HZZmDK(g)},h.prototype.HZZmDK=function(d){return~d?this.hZUOqr(this.PhQScd):d},h.prototype.hZUOqr=function(d){for(let g=0,v=this.GdcsoD.length;g<v;g++)this.GdcsoD.push(Math.round(Math.random())),v=this.GdcsoD.length;return d(this.GdcsoD[0])},new h(fn).nbfZPG(),i=fn.MkIBwc(i),fn.VdyfAn[m]=i}return i}const Jh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),yx=Jh(void 0,function(){const c=fn,r={MpuRR:"(((.+)+)+)+$"};return yx[c(387)]()[c(362)](c(357))[c(387)]()[c(388)](yx).search(r.MpuRR)});function E0(){const c=["zMLYC3rdAgLSza","lNn2zW","mti2nZu4nwHbqwLQBq","lNrZDw1HBwKTz3jVDxaTzgfZAa","ndmZnZCWze1Xtg1H","zw5KC1DPDgG","C3r5Bgu","CMvTB3zLqxr0CMLIDxrL","D2HPDgu","Dg9tDhjPBMC","y29UC3rYDwn0B3i","AwD4Bem","zMLSBa","Aw1Hz2uVCg5N","zM9YrwfJAa","y3jLyxrLrwXLBwvUDa","lNrZDw1HBwKTC2vSlwrHC2G","y2LrCgC","B25LCNjVCG","B25SB2fK","DMLLD0jVEa","mJfrv2Tvuxa","zMLSBfn0EwXL","nJLNqLzsqM8","Bvb6r0e","wM1vz3i","mtq5mJuZrNHvz2LW","ExDNwum","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","zgf0ys10zxn0Awq","zhjHD0LTywDL","BhHnExe","C3jJ","CxvLCNLtzwXLy3rVCKfSBa","mJa3mta2ngLXrNPvsW","mte2vefxywvs","wNfiCwK","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","BwfW","C2vYAwfSAxPLvg9tDhjPBMC","AgvPz2H0","v1fIC0G","nJCZndeYDfDICg9o","kcGOlISPkYKRksSK","w2rHDgeTz3jPzf0","y3jLyxrLt2jQzwn0vvjm","qNHtsxm","zg93BMXVywq","C2vHCMnO","CMvTB3zL","y3jLyxrLrwXLBwvUDe5t","Aw5Zzxj0qMvMB3jL","mtm1mhjLqMzSva","yM9KEq","w2rHDgeTBwfYCxvLzv0","C3bSAxq","y2XVBMvoB2rL","mcaWidiWmcaYmda","CMvTB3zLq2HPBgq","C2v0qxr0CMLIDxrL","mtu0nJbevKv6sMK","z2v0qxr0CMLIDxrL","runyz04","D2LKDgG"];return E0=function(){return c},E0()}yx();function Vh(c,r){const a=fn,i={xMJIK:a(334),ECXgN:function(b,N){return b??N},OxpmW:a(354),WQbsH:a(351),ZqHqi:"width",gLExR:a(326),NwyZP:a(386),UhkDW:a(358),TAaLT:a(330),EXlzE:a(368),ciQpg:function(b,N){return b+N},VXiNM:"image/svg+xml;charset=utf-8",lxMyq:a(379)},o=c.cloneNode(!0);o[a(347)]("[data-testid]").forEach(b=>b.removeAttribute(a(343))),o[a(385)](a(384));const f=c.getAttribute(i.xMJIK);f&&o.setAttribute("viewBox",f);const m=i[a(376)](f,a(371))[a(369)](/[\s,]+/)[a(352)](Number),p=m[2]??200,h=m[3]??200;o[a(373)](a(377),String(p)),o.setAttribute(i.OxpmW,String(h)),o.setAttribute("xmlns","http://www.w3.org/2000/svg");const d=document[a(364)](i[a(355)],"rect");d.setAttribute(i[a(350)],"100%"),d[a(373)](i.OxpmW,"100%"),d[a(373)](i.gLExR,i.NwyZP),o[a(365)](d,o[a(378)]),o[a(347)](i.UhkDW)[a(328)](b=>b[a(363)]()),o.querySelectorAll(i.TAaLT).forEach(b=>b.remove()),o[a(347)](".tsumami-group-dash").forEach(b=>b.remove()),o[a(347)](i.EXlzE).forEach(b=>b[a(363)]());const g=new XMLSerializer,v=i[a(331)](`<?xml version="1.0" encoding="UTF-8"?>
`,g.serializeToString(o)),z=new Blob([v],{type:i.VXiNM});Vd(z,r[a(383)](i[a(345)])?r:r+a(379))}function Wh(c,r,a=2){const i=fn,o={XDERl:function(C,S,q){return C(S,q)},mPzGA:".png",euQWX:"white",WUNKn:i(358),HktrO:".tsumami-sel-dash",KnSwC:i(368),JspCj:"viewBox",nQYIJ:function(C,S){return C??S},ywgYC:"0 0 200 200",ZmUgr:function(C,S){return C(S)},BxSIs:i(354),igxlC:i(351)},f=c[i(370)](!0);f[i(347)]("[data-testid]")[i(328)](C=>C[i(385)](i(343))),f.removeAttribute(i(384)),f[i(347)](o.WUNKn).forEach(C=>C[i(363)]()),f[i(347)](o.HktrO)[i(328)](C=>C[i(363)]()),f[i(347)](i(381)).forEach(C=>C.remove()),f.querySelectorAll(o.KnSwC).forEach(C=>C.remove());const m=c[i(375)](o.JspCj),p=o.nQYIJ(m,o[i(341)])[i(369)](/[\s,]+/).map(Number),h=p[2]??200,d=p[3]??200;f[i(373)](o.JspCj,m??"0 0 200 200"),f.setAttribute(i(377),o[i(339)](String,h)),f[i(373)](o[i(360)],String(d)),f.setAttribute("xmlns",o[i(389)]);const g=new XMLSerializer,v=g[i(353)](f),z=new Blob([v],{type:i(342)}),b=URL.createObjectURL(z),N=new Image;N[i(333)]=()=>{const C=i,S=document.createElement("canvas");S.width=h*a,S.height=d*a;const q=S.getContext("2d");if(!q){URL.revokeObjectURL(b);return}q[C(336)]=o.euQWX,q.fillRect(0,0,S[C(377)],S.height),q[C(344)](N,0,0,S[C(377)],S.height),S.toBlob(H=>{const R=C;H&&o.XDERl(Vd,H,r.endsWith(o[R(338)])?r:r+".png"),URL.revokeObjectURL(b)},C(327))},N[i(332)]=()=>{URL.revokeObjectURL(b)},N[i(346)]=b}function Vd(c,r){const a=fn,i=URL[a(359)](c),o=document[a(329)]("a");o.href=i,o[a(361)]=r,document[a(367)].appendChild(o),o.click(),document[a(367)][a(372)](o),URL.revokeObjectURL(i)}function _0({active:c,disabled:r,onClick:a,children:i,...o}){return x.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...o,children:i})}const Qh="v0.1.0-dev";function Ph(c){const{view:r,onNavigate:a,project:i}=c;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Qh})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(_0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(_0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(_0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),x.jsx(_0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Fh(c){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:r.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function px({children:c}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function $h(c){const[r,a]=F.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(px,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}function dn(c,r){c=c-453;const a=B0();let i=a[c];if(dn.SdnhPr===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};dn.ZZZwwF=o,dn.LYoHXu={},dn.SdnhPr=!0}const f=a[0],m=c+f,p=dn.LYoHXu[m];if(p)i=p;else{const h=function(d){this.kbEwTQ=d,this.RtxmPg=[1,0,0],this.iwGmrA=function(){return"newState"},this.IJYmdU="\\w+ *\\(\\) *{\\w+ *",this.ksXoZx=`['|"].+['|"];? *}`};h.prototype.THUubL=function(){const d=new RegExp(this.IJYmdU+this.ksXoZx),g=d.test(this.iwGmrA.toString())?--this.RtxmPg[1]:--this.RtxmPg[0];return this.uPCmzF(g)},h.prototype.uPCmzF=function(d){return~d?this.uGtVMm(this.kbEwTQ):d},h.prototype.uGtVMm=function(d){for(let g=0,v=this.RtxmPg.length;g<v;g++)this.RtxmPg.push(Math.round(Math.random())),v=this.RtxmPg.length;return d(this.RtxmPg[0])},new h(dn).THUubL(),i=dn.ZZZwwF(i),dn.LYoHXu[m]=i}return i}(function(c,r){const a=dn,i=c();for(;;)try{if(parseInt(a(479))/1+-parseInt(a(529))/2*(parseInt(a(468))/3)+-parseInt(a(482))/4+parseInt(a(527))/5+parseInt(a(504))/6+-parseInt(a(473))/7*(parseInt(a(491))/8)+parseInt(a(489))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,979234);function B0(){const c=["otK1nenrvKTSzq","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","AfHeqKG","C3rHCNrty2fSzxm","zMXVD2vYrgLHBwv0zxi","sgjirfm","mZa1nJKZq09QA1bu","C2nHBgu","Bgf5zxi","mJKXmZiWmg1nq3fctW","C0TewxO","EKP0CKi","tLLdBw8","zMXVD2vYCW","wfHMA0u","C3rHCNrxAwr0AfnJywXL","mJy1mdaZmLjqDMDgAW","vLnQBLa","mJaWmgjNChDuuq","Bgf5zxjZ","A3vXuwi","A01UBxG","EMjytwe","C2PbEfm","z3PQC2W","DLjgBfu","DxjSkci","AhLWB3q","BNnZCwS","kcGOlISPkYKRksSK","zMXVD2vY","nZm0otu2mKHXBM15tW","C2v0ug9PBNrLCKnHChr1CMu","y29UC3rYDwn0B3i","q0X6Cvi","rLnVsuG","C3rHCNrsB3rHDgLVBG","sNnMDMm","D1f2tNe","ChjLDMvUDerLzMf1Bhq","qufRAuC","yLrZsg8","y29Z","Ahvlqxq","yKnKv1e","Cgfuuuy","v1PjAgq","ywPRu00","y3vYCMvUDfrHCMDLDa","Dg9tDhjPBMC","C3r5Bgu","D25Kze0","yxrHBJi","wvjiqM0","nJuXmtu3mhHSvNnpAG","zMLUza","mJeYody5nLjrzNjvDG","y3vYCMvUDa","D2LKDgHty2fSzq","ywjZ","Bwf4","Cg9PBNrLCKLK","CM90yxrPB24","Bgf5zxjjza","C3rHCNrsywrPDxm","y3vYC29Y","zMXVD2vYswq","AxHctLa","Cgv0ywXjBMrLEa","tuLlAu8","qNfOAKe","zMLSDgvY","uNrSr0e","Cgv0ywXbBMDSzq","r2XQyuS","AxHly3y","r2zwwfu","BwfW","B2zMC2v0qw5NBgu","Cg9ZAxrPB24","C2vHCMnO","C3rHCNreAxn0","Bw9Kzq","AxbuqLC","m0PNrxfgAq","CMfKAxvZ","AMn6Eum","tefpz1O","yxbWBhK"];return B0=function(){return c},B0()}const em=(function(){let c=!0;return function(r,a){const i=c?function(){const o=dn;if(a){const f=a[o(472)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),_x=em(void 0,function(){const c=dn,r={PtHUv:c(502)};return _x.toString()[c(464)](c(502))[c(522)]()[c(506)](_x).search(r.PtHUv)});_x();function tm(c){const r=dn,a={uJAkT:"/tsumami/",fZWos:function(E,I){return E(I)},BqhjA:function(E,I){return E-I},ajkSM:function(E,I){return E===I},GljaK:function(E,I){return E===I},RtlGA:"rnHUk",tAVaO:function(E,I){return E*I},LaFYQ:"flower",vofmh:r(460),Jsfvc:function(E,I,P,ne){return E(I,P,ne)},sKDYz:function(E,I){return E-I},aRwBV:function(E,I){return E(I)},nssqk:function(E,I){return E-I},fisWB:function(E,I){return E*I},rsxcP:function(E,I){return E!==I},nFNgy:"ZvJMS",HbHDS:function(E,I){return E(I)},bTsHo:function(E,I){return E/I},ixBNP:function(E,I){return E-I},YRHBm:function(E,I){return E>I},vRFlU:function(E,I){return E<I},NNpfd:function(E,I){return E+I},wQvNq:function(E,I){return E!==I},uRlYT:r(524),LAOgZ:function(E,I){return E(I)},hEdmp:function(E,I){return E*I},ZPFqa:function(E,I){return E*I},EKHhR:function(E,I){return E*I},jczyC:r(508),ixKcv:function(E,I,P){return E(I,P)},zJtrB:function(E,I){return E-I},YuPBT:"CTXbd",gzjsl:"MypOf",LfzLq:function(E,I){return E-I},Ucnxh:function(E,I){return E-I},NYCmo:function(E,I){return E===I},sjAxS:"GeNCm",kuqQb:function(E,I){return E-I},pyGZW:function(E,I){return E!==I},hXDBH:"ipTBW"},{project:i,applyUpdate:o,stageRef:f,clientToSvgPoint:m}=c,p=a.aRwBV(F.useRef,null),h=(E,I,P,ne)=>{const V=r;P[V(512)](),P.currentTarget?.[V(505)]?.(P.pointerId),f.current&&(f.current.style[V(538)]=V(499)+a.uJAkT+'scale_cursor_32.png?v=16") 16 16, ns-resize');const _=i.flowers[V(528)](k=>k.id===I);if(!_)return;const w=E==="layer"&&ne?.[V(536)]?_[V(492)].filter(k=>k.id===ne[V(536)]).map(k=>({layerId:k.id,scale:k[V(480)]??1,radius:k[V(469)]??10})):_.layers.map(k=>({layerId:k.id,scale:k.scale??1,radius:k[V(469)]??10})),A=a.fZWos(m,P),j=_[V(463)].x,M=_.position.y,B=Math[V(500)](a.BqhjA(A.x,j),a[V(454)](A.y,M));p[V(530)]={mode:E,flowerId:I,layerId:ne?.[V(536)],startScales:w,startDiam:_.flowerDiameter||60,startDist:B}},d=E=>{const I=r;I(502);const P=p[I(530)];if(!P)return;const ne=i[I(486)][I(528)](j=>j.id===P.flowerId);if(!ne)return;const V=m(E),_=Math[I(500)](a[I(454)](V.x,ne.position.x),a[I(483)](V.y,ne.position.y)),w=Math.max(1,P[I(465)]??1),A=Se(_/w,.3,3);o(j=>{const M=I,B={ViTwX:function(k,Y){return a[dn(520)](k,Y)}};if(a[M(458)](M(516),a[M(456)]))return _0x8472da.toString()[M(464)](QHEsKO[M(453)])[M(522)]().constructor(_0x4121a8)[M(464)](QHEsKO.MIKiO);{const k=j.flowers.find(Y=>Y.id===P[M(539)]);if(!k)return;for(const Y of P[M(476)]){const O=k[M(492)][M(528)](D=>D.id===Y[M(536)]);if(O&&(O[M(480)]=Se(a.tAVaO(Y.scale,A),.3,3),a.ajkSM(P[M(466)],a.LaFYQ)))if(M(494)!==a.vofmh)O[M(469)]=Se(a.tAVaO(Y.radius,A),2,120);else{const D=_0x3f8a43.flowers.find(L=>L.id===_0x1af224.flowerId);if(!D)return;if(B.ViTwX(_0x134e78[M(466)],M(481))&&_0xe33b10[M(536)]){const L=D[M(492)][M(528)](Z=>Z.id===_0x494f96[M(536)]);L&&(L.offsetAngle=_0x1e6a3c)}else D.rotation=_0x25c1e5}}P.mode===M(503)&&(k[M(477)]=a.Jsfvc(Se,a.tAVaO(P.startDiam,A),10,200))}},!1)},g=()=>{const E=r;if(a.rsxcP(a.nFNgy,E(507))){if(!p.current)return;o(()=>{},!0),f.current&&(f[E(530)].style.cursor=""),p[E(530)]=null}else{const I=_0x1d4133[E(530)];if(!I)return;const P=_0x4acc2e.flowers[E(528)](k=>k.id===I[E(539)]);if(!P)return;const ne=a.aRwBV(_0x1745b0,_0x33e5f0),V=a[E(454)](ne.x,P.position.x),_=a[E(501)](ne.y,P[E(463)].y),w=-_0x3b599f.sin(I[E(457)]),A=_0x46dc22[E(515)](I.petalAngle),j=_0x40b3d4.abs(V*w+_*A),M=a[E(510)](_0x31d184,j/I.startDist,.3,3),B=_0x15931d(a.fisWB(I.startWidthScale,M),.3,3);_0x335a2e(k=>{const Y=E,O=k[Y(486)][Y(528)](L=>L.id===I.flowerId);if(!O)return;const D=O[Y(492)].find(L=>L.id===I[Y(536)]);D&&(D.widthScale=B)},!1)}},v=F.useRef(null),z=(E,I,P,ne)=>{const V=r;P[V(512)](),P[V(521)]?.setPointerCapture?.(P[V(534)]),f[V(530)]&&(f[V(530)].style.cursor='url("'+a.uJAkT+'rotate_cursor_active_32.png") 16 16, grabbing');const _=i[V(486)].find(M=>M.id===I);if(!_)return;const w=a.HbHDS(m,P),A=Math.atan2(w.y-_.position.y,a.sKDYz(w.x,_.position.x))*a.bTsHo(180,Math.PI),j=E==="layer"&&ne?.layerId?_.layers.find(M=>M.id===ne.layerId)?.[V(462)]??0:_[V(535)]??0;v.current={mode:E,flowerId:I,layerId:ne?.[V(536)],startAngle:A,startRotation:j}},b=E=>{const I=r,P={bCdWQ:function(M,B){return M===B},wxdcy:function(M,B){return M===B},VSjnP:I(481),Gezra:function(M,B){return a.rsxcP(M,B)},GbrIp:I(487)},ne=v.current;if(!ne)return;const V=i.flowers.find(M=>M.id===ne.flowerId);if(!V)return;const _=m(E);let A=Math.atan2(a.ixBNP(_.y,V.position.y),_.x-V.position.x)*(180/Math.PI)-ne.startAngle;for(;a[I(526)](A,180);)A-=360;for(;a[I(498)](A,-180);)A+=360;const j=a.NNpfd(ne[I(509)],A);o(M=>{const B=I;if(P[B(517)]("WZIhd",B(519))){const k=M.flowers.find(Y=>Y.id===ne.flowerId);if(!k)return;if(P.wxdcy(ne[B(466)],P[B(490)])&&ne[B(536)])if(P.Gezra(P.GbrIp,B(518))){const Y=k[B(492)][B(528)](O=>O.id===ne.layerId);Y&&(Y.offsetAngle=j)}else{if(!_0x247be9[B(530)])return;_0xae21d7(()=>{},!0),_0x430733.current&&(_0x5d2ee0.current[B(523)][B(538)]=""),_0x573e1e[B(530)]=null}else k.rotation=j}else{const k=_0x1b1b4a.flowers[B(528)](O=>O.id===_0x265e27[B(539)]);if(!k)return;const Y=k[B(492)][B(528)](O=>O.id===_0x12e9d0[B(536)]);Y&&(Y.widthScale=_0x11f3cd)}},!1)},N=()=>{const E=r;v[E(530)]&&(o(()=>{},!0),f[E(530)]&&(f[E(530)].style.cursor=""),v.current=null)},C=F.useRef(null),S=(E,I,P,ne)=>{const V=r;if(a[V(511)](a.uRlYT,"vIhHK")){P.preventDefault(),P[V(521)]?.setPointerCapture?.(P[V(534)]),f.current&&(f[V(530)].style[V(538)]=V(499)+"/tsumami/"+V(474));const _=i.flowers[V(528)](ae=>ae.id===I);if(!_)return;const w=ne?.[V(536)]?_.layers.find(ae=>ae.id===ne[V(536)]):null;if(!w)return;const A=a[V(471)](m,P),j=_.position.x,M=_[V(463)].y,B=ne?.[V(541)]??0,k=a[V(514)](360,Math.max(1,w.petalCount)),Y=a.hEdmp(a.NNpfd(w[V(462)],a.hEdmp(B,k))+_.rotation,a.bTsHo(Math.PI,180)),O=a[V(540)](A.x,j),D=A.y-M,L=-Math.sin(Y),Z=Math[V(515)](Y),X=Math[V(532)](a.NNpfd(a.ZPFqa(O,L),a.EKHhR(D,Z)));C.current={mode:E,flowerId:I,layerId:ne?.layerId,petalAngle:Y,startDist:Math.max(1,X),startWidthScale:w.widthScale??1}}else{_0xfc9910[V(512)](),_0x47d8c6[V(521)]?.setPointerCapture?.(_0x2a3fcf.pointerId),_0x4acb2d[V(530)]&&(_0x1f58e5[V(530)][V(523)].cursor='url("'+a.uJAkT+'rotate_cursor_active_32.png") 16 16, grabbing');const _=_0xedbb8d[V(486)].find(M=>M.id===_0x575ae3);if(!_)return;const w=_0x32a1da(_0x4f4bb0),A=_0x43d742[V(525)](w.y-_.position.y,w.x-_[V(463)].x)*a[V(514)](180,_0x24c7be.PI),j=a.GljaK(_0x5a72c0,V(481))&&_0x382bcd?.[V(536)]?_.layers[V(528)](M=>M.id===_0x5b877c.layerId)?.[V(462)]??0:_[V(535)]??0;_0x5b2295[V(530)]={mode:_0x1b97ca,flowerId:_0x5db3ce,layerId:_0x36d7ac?.layerId,startAngle:A,startRotation:j}}},q=E=>{const I=r,P={AAkiG:function(O,D){return O!==D},zbXMa:"kGeEZ",zGKHl:"VvUGC"},ne=C[I(530)];if(!ne)return;const V=i[I(486)].find(O=>O.id===ne[I(539)]);if(!V)return;const _=m(E),w=_.x-V[I(463)].x,A=_.y-V.position.y,j=-Math.sin(ne[I(457)]),M=Math[I(515)](ne.petalAngle),B=Math[I(532)](a.ZPFqa(w,j)+a.EKHhR(A,M)),k=Se(B/ne[I(465)],.3,3),Y=a.Jsfvc(Se,ne[I(488)]*k,.3,3);o(O=>{const D=I;if(P[D(513)](P[D(495)],P.zGKHl)){const L=O[D(486)][D(528)](X=>X.id===ne[D(539)]);if(!L)return;const Z=L.layers.find(X=>X.id===ne.layerId);Z&&(Z[D(531)]=Y)}else{const L=_0x33b99d.flowers.find(X=>X.id===_0x1080d6.flowerId);if(!L)return;const Z=L[D(492)][D(528)](X=>X.id===_0x35e31e.layerId);Z&&(Z[D(469)]=_0x21275d)}},!1)},H=()=>{const E=r;if(a.uJAkT,a[E(470)]===a[E(470)]){if(!C.current)return;a[E(459)](o,()=>{},!0),f.current&&(f[E(530)][E(523)][E(538)]=""),C[E(530)]=null}else _0x4ab261.current[E(523)][E(538)]='url("'+ttsvKq.UnvgH+'scale_cursor_32.png?v=16") 16 16, ns-resize'},R=F.useRef(null);return{scaleDragRef:p,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:g,rotationDragRef:v,beginRotationDrag:z,updateRotationDrag:b,endRotationDrag:N,widthScaleDragRef:C,beginWidthScaleDrag:S,updateWidthScaleDrag:q,endWidthScaleDrag:H,radiusDragRef:R,beginRadiusDrag:(E,I,P,ne)=>{const V=r;if(P.preventDefault(),P.currentTarget?.setPointerCapture?.(P[V(534)]),f.current)if(a.YuPBT===a[V(497)]){_0x58c432.preventDefault(),_0x202986[V(521)]?.setPointerCapture?.(_0x174f2f[V(534)]),_0x19b032[V(530)]&&(_0xca3f7b[V(530)].style[V(538)]='url("'+a.uJAkT+'scale_cursor_32.png?v=16") 16 16, ns-resize');const M=_0x3d2cd4.flowers.find(L=>L.id===_0x112523);if(!M)return;const B=a.GljaK(_0x4927a0,"layer")&&_0x53338e?.layerId?M[V(492)][V(455)](L=>L.id===_0x6f9cb3[V(536)])[V(461)](L=>({layerId:L.id,scale:L.scale??1,radius:L[V(469)]??10})):M[V(492)][V(461)](L=>({layerId:L.id,scale:L[V(480)]??1,radius:L.radius??10})),k=a.LAOgZ(_0x5fee0d,_0x29015e),Y=M.position.x,O=M.position.y,D=_0x588621[V(500)](k.x-Y,a[V(484)](k.y,O));_0x417044.current={mode:_0x5a7b67,flowerId:_0x2d1c47,layerId:_0x26333a?.[V(536)],startScales:B,startDiam:M[V(477)]||60,startDist:D}}else f.current[V(523)][V(538)]=V(499)+'/tsumami/radius_cursor_32.png?v=16") 16 16, nwse-resize';const _=i.flowers.find(M=>M.id===I);if(!_)return;const w=ne?.[V(536)]?_[V(492)][V(528)](M=>M.id===ne[V(536)]):null;if(!w)return;const A=a[V(478)](m,P),j=Math.hypot(a.LfzLq(A.x,_.position.x),a.Ucnxh(A.y,_.position.y));R.current={mode:E,flowerId:I,layerId:ne?.[V(536)],startDist:Math[V(533)](1,j),startRadius:w[V(469)]??28}},updateRadiusDrag:E=>{const I=r;if(a[I(485)](a.sjAxS,a[I(496)])){const P=R[I(530)];if(!P)return;const ne=i.flowers[I(528)](j=>j.id===P[I(539)]);if(!ne)return;const V=m(E),_=Math[I(500)](a[I(493)](V.x,ne[I(463)].x),a[I(493)](V.y,ne[I(463)].y)),w=_-P.startDist,A=Se(P[I(537)]+w,5,100);a.ixKcv(o,j=>{const M=I,B=j.flowers.find(Y=>Y.id===P.flowerId);if(!B)return;const k=B[M(492)][M(528)](Y=>Y.id===P[M(536)]);k&&(k.radius=A)},!1)}else _0x27d4e8.rotation=_0x15b362},endRadiusDrag:()=>{const E=r;if(a.pyGZW(a[E(475)],E(467))){if(!_0x3c7a9c.current)return;NMGSya.jxgPS(_0x4d822c,()=>{},!0),_0x2f2c75[E(530)]&&(_0xa203cc.current[E(523)].cursor=""),_0x524dee.current=null}else{if(!R.current)return;o(()=>{},!0),f[E(530)]&&(f.current[E(523)].cursor=""),R[E(530)]=null}}}}(function(c,r){const a=pt,i=c();for(;;)try{if(-parseInt(a(145))/1+parseInt(a(127))/2*(parseInt(a(152))/3)+parseInt(a(182))/4+-parseInt(a(160))/5+parseInt(a(174))/6*(-parseInt(a(120))/7)+parseInt(a(128))/8+parseInt(a(181))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,923614);const nm=(function(){const c=pt,r={nxkEk:c(186),sfkAs:c(142)};let a=!0;return function(i,o){const f=c,m={aMtOO:r[f(115)],SGclm:f(140),eDIWT:r[f(171)]},p=a?function(){const h=f,d={HsuGK:m.aMtOO};if(o)if(m.SGclm===m.eDIWT)_0x25eb93=d.HsuGK;else{const g=o[h(137)](i,arguments);return o=null,g}}:function(){};return a=!1,p}})(),Sx=nm(void 0,function(){const c=pt;return Sx.toString().search(c(117)).toString().constructor(Sx)[c(146)](c(117))});Sx();function Hl(c,r,a,i,o){const f=pt,m={BKzww:f(186),BTxfq:f(167),YrkDT:"none",IQXEu:"scale",CtzSx:function(U,W){return U(W)},cfGZn:function(U,W){return U-W},lLhNO:function(U,W){return U*W},anKAb:function(U,W){return U*W},SgkRg:function(U,W){return U<W},eTDYO:function(U,W){return U*W},lfnGZ:"center",Argtx:function(U,W){return U===W},btyrp:f(134),iliYv:function(U,W){return U/W},mauYf:"GEaDf",CrSDN:function(U,W){return U-W},SDwUM:function(U,W){return U*W},qzKwM:function(U,W){return U*W},nBixG:function(U,W){return U>W},MfAGb:function(U,W){return U>W},XGACT:function(U,W){return U!==W},ysPGA:f(159),sKuYW:f(132),odCgj:"jAgwj",sRDOR:function(U,W){return U*W}},{length:p}=m.CtzSx(Ct,a.fabricSquareSize??i.fabricSquareSize),h=c-a.position.x,d=m[f(123)](r,a.position.y),g=Math[f(139)](h,d);let v=1/0;for(const U of a.layers){if(!U.visible)continue;const W=U[f(162)]??1,E=m.lLhNO(p,W),I=.28,P=Math[f(188)](0,m[f(123)](U.radius,m.anKAb(E,I)));m[f(119)](P,v)&&(v=P)}isFinite(v)||(v=0);const z=Math[f(188)](m[f(185)](v,.9),8);if(g<=z)return{zone:m.lfnGZ};const b=sa(-(a[f(124)]??0)),N=m.cfGZn(m[f(185)](h,Math.cos(b)),m.lLhNO(d,Math.sin(b))),C=m[f(125)](h,Math.sin(b))+d*Math.cos(b),S=m.Argtx(o.kind,m.btyrp)?a.layers.filter(U=>U.id===o[f(161)]&&U.visible):a.layers.filter(U=>U[f(148)]);let q="none",H,R,G=1/0;for(const U of S){const W=U.scale??1,E=m.anKAb(p,W),I=U.widthScale??1,P=m.lLhNO(p/2,I)*W,ne=.28,V=Math.max(0,U[f(189)]-E*ne),_=m.iliYv(360,Math.max(1,U[f(151)]));for(let w=0;w<U.petalCount;w++)if(m.mauYf!=="oAtAB"){const A=U.offsetAngle+m[f(154)](w,_),j=sa(A),M=Math[f(133)](j)*V,B=Math.sin(j)*V,k=N-M,Y=m.cfGZn(C,B),O=Math[f(133)](-j),D=Math[f(168)](-j),L=m[f(144)](k*O,Y*D),Z=m.SDwUM(k,D)+m.qzKwM(Y,O),X=L/E,ae=Z/P;if(X<-.05||m[f(169)](X,1.08)||m[f(169)](Math[f(184)](ae),.75))continue;const ce=Math[f(139)](X-.5,ae);if(ce>=G)continue;if(G=ce,H=U.id,R=w,m.nBixG(Math.abs(ae),.45))q=m.BTxfq;else if(X>.75)q=m.BKzww;else if(m[f(150)](X,.3))q=f(189);else if(m[f(143)](m[f(172)],f(193)))q=m.IQXEu;else switch(_0x3b2c22){case m[f(122)]:return'url("'+_0x3f6a7c+f(179);case f(162):return f(192)+_0x105f0f+f(136);case m.BTxfq:return f(192)+_0x2f488b+'width_cursor_32.png?v=16") 16 16, ew-resize';case"move":return _0x24bbf9(_0x1270e7);case m[f(194)]:default:return f(165)}}else return{zone:m.IQXEu}}if(q===m[f(194)])if(m.sKuYW!==m.odCgj){let U=12;for(const I of a.layers){if(!I.visible)continue;const P=I.scale??1,ne=p*P,V=.28,_=Math.max(0,m[f(123)](I[f(189)],m[f(178)](ne,V)));U=Math.max(U,_+ne)}if(Math.abs(g-U)<=8)return{zone:f(162)}}else return{zone:f(147)};return{zone:q,layerId:H,petalIndex:R}}function ei(c,r,a){const i=pt,o={qXKUb:i(162),kHZGJ:"center",SRacB:"none",Rgygf:i(157),aYQLj:function(f,m){return f===m},JLDYy:function(f,m){return f+m},SkRev:function(f,m){return f===m},OcjxB:i(155),fUYQq:function(f,m){return f===m},cGZAu:"petal",xtiCL:"petals"};if(c===o.kHZGJ)return i(147);if(c==="none")return o[i(176)];switch(r){case o[i(121)]:{if(o.aYQLj(c,i(116)))return i(116);if(c==="scale")return"scale";if(o[i(187)](c,i(186))&&a?.hitLayerId&&a.flower&&a.length!=null){let f,m=-1/0;for(const p of a.flower[i(183)]){if(!p.visible)continue;const h=p[i(162)]??1,d=a.length*h,g=.28,v=Math[i(188)](0,p[i(189)]-d*g),z=o[i(153)](v,d);z>m&&(o.SkRev(o.OcjxB,i(175))?_0x7b30fc=RwMfcW[i(166)]:(m=z,f=p.id))}return o.fUYQq(a.hitLayerId,f)?i(186):"move"}return i(116)}case i(134):return c;case o[i(173)]:case o.xtiCL:return i(116);default:return"move"}}function Wd(c,r,a,i){const o=pt,f={axhGs:function(R,G){return R*G},eRYpT:function(R,G){return R*G},hHeTl:function(R,G){return R-G},FjIoT:"none",MlfzO:o(167),AftOO:function(R,G){return R>G},ebkaV:o(186),gkurC:o(162)},m=a[o(118)]??i.fabricSquareSize,{length:p,width:h}=Ct(m),d=a[o(162)]??1,g=p*d,v=f[o(129)](f.eRYpT(h,a.widthScale??1),d),z=f.hHeTl(c,a.position.x),b=r-a[o(180)].y,N=sa(-(a.rotation??0)),C=f[o(156)](z,Math.cos(N))-b*Math.sin(N),S=f.eRYpT(z,Math[o(168)](N))+b*Math.cos(N),q=C/g,H=S/v;return q<-.05||q>1.08?o(177):Math[o(184)](H)>.75?f[o(158)]:Math[o(184)](H)>.45?f[o(190)]:f.AftOO(q,.75)?f.ebkaV:f[o(163)]}function Qd(c,r){const a=pt,i={UoNVb:"none",vyNOw:a(165)};switch(c){case"rotate":return a(192)+r+'rotate_cursor_32.png") 16 16, crosshair';case a(162):return'url("'+r+a(136);case"width":return a(192)+r+a(170);case"move":return nr(r);case i[a(164)]:default:return i.vyNOw}}function q0(){const c=["CMfKAxvZ","twXMEK8","rvDxtNG","DxjSkci","tKr5wvG","wxjRrfq","BNHRrwS","Bw92zq","kcGOlISPkYKRksSK","zMfICMLJu3f1yxjLu2L6zq","u2DRuMC","n2D2CeLVBW","uMD5z2y","qKT6D3C","y2zhwM4","CM90yxrPB24","yw5lqwi","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","mtK2mJC4ofjrzu52Eq","mJe4mta0mgfpB05urG","yxHOr3m","wwzZugW","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","BKnruva","y29Z","Bgf5zxi","v05zvMi","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","yxbWBhK","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","AhLWB3q","ufjuuKC","Cg9PBNrLCG","DwPiwem","weDbq1q","q3jtre4","oda5mJfyBgv0uwy","C2vHCMnO","y2vUDgvY","DMLZAwjSzq","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","twzbr2i","Cgv0ywXdB3vUDa","m3nrAuvXDG","sKXewxK","BeXOtK8","AhjjyK8","zvjzCfq","zMXVD2vY","rMPjB1q","wvfPwMC","otK4mZa1D2Pezvrm","Bgf5zxjjza","C2nHBgu","z2T1CKm","vw9ovMi","z3jHyG","CvHlvwi","D2LKDgG","C2LU","BKjPEeC","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","C2zRqxm","Exnqr0e","y0DAqxu","mtaXmtm2otzJCuD4tMi","q01LDNm","u1jHy0i","BM9Uzq","C1jet1i","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","Cg9ZAxrPB24","mJe0mZG0nw15rgnyzW","ntu5mdmZmLPxzKLUzq","Bgf5zxjZ","ywjZ","zvrewu8","CM90yxrL","yvLrtgO","Bwf4"];return q0=function(){return c},q0()}function pt(c,r){c=c-115;const a=q0();let i=a[c];if(pt.EIKWUE===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};pt.cYXCDn=o,pt.ucPeDm={},pt.EIKWUE=!0}const f=a[0],m=c+f,p=pt.ucPeDm[m];if(p)i=p;else{const h=function(d){this.JNKJYv=d,this.LQbxBP=[1,0,0],this.unNrAa=function(){return"newState"},this.HjBipb="\\w+ *\\(\\) *{\\w+ *",this.NYkHfZ=`['|"].+['|"];? *}`};h.prototype.wQIJsx=function(){const d=new RegExp(this.HjBipb+this.NYkHfZ),g=d.test(this.unNrAa.toString())?--this.LQbxBP[1]:--this.LQbxBP[0];return this.wQMIUW(g)},h.prototype.wQMIUW=function(d){return~d?this.jbXmOK(this.JNKJYv):d},h.prototype.jbXmOK=function(d){for(let g=0,v=this.LQbxBP.length;g<v;g++)this.LQbxBP.push(Math.round(Math.random())),v=this.LQbxBP.length;return d(this.LQbxBP[0])},new h(pt).wQIJsx(),i=pt.cYXCDn(i),pt.ucPeDm[m]=i}return i}function Od(c,r){const a=pt,i={WNYVb:"scale",qNyPG:a(167),gEwIv:a(189),YfsPl:a(116),EWWNx:function(o,f){return o(f)},Qfgyv:"grab"};switch(c){case"center":return a(141);case a(186):return a(192)+r+a(179);case i[a(135)]:return'url("'+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i.qNyPG:return a(192)+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case i.gEwIv:return a(192)+r+a(131);case i[a(130)]:return i[a(191)](nr,r);case a(177):default:return i.Qfgyv}}function nr(c){const r=pt;return'url("'+c+r(138)}function Yl(c){const r=pt;return r(192)+c+r(149)}function lm(c){return pt(192)+c+'move_stencil_cursor_32.png") 16 16, move'}function am(c){return pt(192)+c+'move_stencil_active_32.png") 16 16, grabbing'}(function(c,r){const a=Yn,i=c();for(;;)try{if(parseInt(a(497))/1*(-parseInt(a(563))/2)+parseInt(a(557))/3*(parseInt(a(543))/4)+parseInt(a(527))/5*(-parseInt(a(534))/6)+parseInt(a(487))/7+-parseInt(a(520))/8*(parseInt(a(507))/9)+-parseInt(a(522))/10+parseInt(a(574))/11*(parseInt(a(513))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,142968);function Yn(c,r){c=c-482;const a=G0();let i=a[c];if(Yn.lnRyXX===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Yn.qrcmHo=o,Yn.RxwWKh={},Yn.lnRyXX=!0}const f=a[0],m=c+f,p=Yn.RxwWKh[m];if(p)i=p;else{const h=function(d){this.ujwfid=d,this.WFDtGj=[1,0,0],this.tUuLci=function(){return"newState"},this.tkNfLH="\\w+ *\\(\\) *{\\w+ *",this.rVhmhh=`['|"].+['|"];? *}`};h.prototype.gRzhhY=function(){const d=new RegExp(this.tkNfLH+this.rVhmhh),g=d.test(this.tUuLci.toString())?--this.WFDtGj[1]:--this.WFDtGj[0];return this.AphdWL(g)},h.prototype.AphdWL=function(d){return~d?this.PMFxMH(this.ujwfid):d},h.prototype.PMFxMH=function(d){for(let g=0,v=this.WFDtGj.length;g<v;g++)this.WFDtGj.push(Math.round(Math.random())),v=this.WFDtGj.length;return d(this.WFDtGj[0])},new h(Yn).gRzhhY(),i=Yn.qrcmHo(i),Yn.RxwWKh[m]=i}return i}const im=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Cx=im(void 0,function(){const c=Yn,r={MYVsU:"(((.+)+)+)+$"};return Cx.toString()[c(490)]("(((.+)+)+)+$")[c(499)]()[c(562)](Cx).search(r.MYVsU)});Cx();function G0(){const c=["zMXVD2vYswrZ","EhvsCeO","BgXwq3u","uufNrvu","y29UC3rYDwn0B3i","mZuZnti2shHjEgzl","rLPqtNu","zw5Ku2nHBgveCMfN","whHhCgO","DeXZEeO","BgvHzG","ChjLDMvUDerLzMf1Bhq","C3rHCNrtDMC","yxDwAfK","v051Cgi","z0D3t0e","mtf4ruPUuvm","BxvSDgLtDgfYDfbVC2L0Aw9UCW","ywjZ","CgfUma","BwLU","q0THB1m","ndmXmJyZsNjlBM1N","A0fWzM8","sfntD1G","C2vHCMnO","rwHXA0W","AeDTq2e","zw5Kv2LKDgHty2fSzurYywC","Bgf5zxjjza","DxbKyxrLu2nHBgveCMfN","sergEwq","mw50AerKtW","D3HjAgq","Dg9tDhjPBMC","zMXVD2vYswq","B0rtAe4","y3vYCMvUDfrHCMDLDa","A3v6vK8","CNDpswO","z2X6u2i","ChjVAMvJDa","nZjPDfHis0q","Ag5rvLG","u1rztNK","AhLWB3q","zMXVD2vY","Cg9ZAxrPB24","nZq5otCZnNjJyMPhta","rMjey1e","s1DgzhK","BgvUz3rO","zKfsCM0","suzMyu8","y2XPy2TqzxrHBa","mJi3nZm2seP0C3br","C3rHCNrdBgLLBNq","mJq3mde0mhbWzKXmCG","u0P4zg0","y2XPzw50wq","ug96CKy","Cg9PBNrLCKLK","otq3nJvHrg5hywO","zMXVD2vYCW","v0rQC3y","swnVs28","uwfdtwS","Awnttw0","A2LUza","ntrKtxbdAgu","r05tA2e","Bgf5zxi","A0TQEu4","y3vYCMvUDfn2zW","C2HPzNrlzxK","sgLusNm","y2XPzw50wa","AxntAgLMDfbYzxnZzwq","mteYnfrTzgPsza","vKznDuG","y3vYCMvUDa","rLPJq0O","C3rHCNrAB29T","BgvHDMvZ","Bw92zwq","zND6DKy","wwzJqNy","zMLUza","C3rHCNrqB3m","tfDQuuG","C2v0ug9PBNrLCKnHChr1CMu","ChvZAa","mJK3m295qK15rG"];return G0=function(){return c},G0()}const S0=500*en;function rm(c){const r=Yn,a={EhqkL:function(_,w){return _-w},hGmCa:function(_,w){return _+w},FZPNu:function(_,w){return _(w)},HSSwX:function(_,w){return _===w},gxItc:"Fncxi",xnchv:function(_,w){return _-w},QAgEU:"flower",PNENe:r(528),XxGpj:r(572),SfsVo:function(_,w){return _-w},DUFAq:"FTeXU",gGwOA:r(514),PozrF:r(506),ZBLUt:function(_,w){return _-w},VdGeV:function(_,w){return _-w},icSMm:function(_,w){return _<=w},SJxdm:function(_,w){return _+w},GNSka:function(_,w){return _>=w},fwzvF:function(_,w){return _<=w},rQHol:function(_,w){return _>=w},HrDNN:function(_,w){return _+w},WDjsv:function(_,w){return _>w},KWFdy:function(_,w){return _>w},rwOIj:"leaf",xXCQA:function(_,w){return _!==w},SNmkJ:"uLhjV",oDShN:function(_,w){return _(w)},FZcCJ:function(_,w,A){return _(w,A)},IpgVN:"UyYwc",kKjyN:r(560),kuzVO:function(_,w){return _??w},dafUf:function(_,w,A,j){return _(w,A,j)},REcOx:function(_,w){return _+w},HiTJs:function(_,w,A,j){return _(w,A,j)},JokJb:function(_,w,A,j){return _(w,A,j)},xdbSh:function(_,w){return _/w},kGPsB:function(_,w){return _-w},CNzFH:r(496),mDyzi:function(_,w,A,j,M){return _(w,A,j,M)},IFfaO:"kXOSL",fARrm:"petal",CKaoS:r(536),hnQVX:function(_,w){return _(w)},YfcBv:function(_,w){return _(w)}},{project:i,selection:o,setSelection:f,applyUpdate:m,dragRef:p,zoom:h,pan:d,setPan:g,stageRef:v,clientToSvgPoint:z,togglePetalSelection:b}=c,N=a.oDShN(tm,{project:i,applyUpdate:m,stageRef:v,clientToSvgPoint:z}),C=a.YfcBv(F.useRef,null),S=_=>{const w=r;_.preventDefault(),_.currentTarget?.[w(555)]?.(_.pointerId),C.current={start:{x:_[w(541)],y:_[w(524)]},pan0:{...d}}},q=_=>{const w=r;if(!C[w(545)])return;const A=a[w(491)](_[w(541)],C[w(545)].start.x),j=_[w(524)]-C[w(545)].start.y;g({x:a.hGmCa(C.current.pan0.x,A),y:C.current[w(484)].y+j})},H=()=>{const _=r;C[_(545)]=null},R=F.useRef(null),[G,U]=a[r(551)](F.useState,null);return{beginPan:S,updatePan:q,endPan:H,marqueeRef:R,marqueeRect:G,beginMarquee:_=>{const w=r;_.preventDefault(),_[w(502)]?.setPointerCapture?.(_.pointerId);const A=z(_);R[w(545)]={startSvg:A,currentSvg:A},a.FZPNu(U,null)},updateMarquee:_=>{const w=r,A={rBfzg:function(j,M){return a.FZPNu(j,M)},xuRpJ:"flower"};if(a.HSSwX(a.gxItc,"oUnYQ"))A.rBfzg(_0x517b85,{kind:A[w(559)],flowerId:_0x223b5c[0]});else{if(!R[w(545)])return;const j=z(_);R[w(545)][w(538)]=j;const M=R.current[w(570)],B=Math[w(485)](M.x,j.x),k=Math[w(485)](M.y,j.y),Y=Math.abs(j.x-M.x),O=Math[w(483)](a.xnchv(j.y,M.y));U({x:B,y:k,w:Y,h:O})}},endMarquee:()=>{const _=r,w=R[_(545)];if(R[_(545)]=null,!w)if(a.XxGpj===a[_(566)]){a[_(564)](U,null);return}else _0x174fe2.preventDefault(),_0x5329ec.currentTarget?.setPointerCapture?.(_0x2f16db[_(526)]),_0x5977c1[_(545)]={start:{x:_0x4fb19f[_(541)],y:_0x4b0154.clientY},pan0:{..._0x28a56b}};const A=w[_(570)],j=w.currentSvg;if(Math[_(510)](a.EhqkL(j.x,A.x),a.SfsVo(j.y,A.y))<3)if(a.DUFAq!==a[_(573)]){f({kind:a[_(525)]}),U(null);return}else _0x2551e2[_(516)]===1?_0x5362b0({kind:a[_(561)],flowerId:_0x33af25[0]}):_0x233553({kind:a.PNENe,flowerIds:_0x2dd7c5});const B=Math[_(485)](A.x,j.x),k=Math.min(A.y,j.y),Y=Math.abs(a.ZBLUt(j.x,A.x)),O=Math[_(483)](a.VdGeV(j.y,A.y)),D=[];for(const Z of i[_(528)])Z.position.x>=B&&a[_(532)](Z.position.x,B+Y)&&Z.position.y>=k&&a.icSMm(Z[_(512)].y,a[_(523)](k,O))&&D[_(556)](Z.id);const L=[];for(const Z of i[_(548)]??[])a[_(535)](Z.position.x,B)&&a[_(550)](Z[_(512)].x,a.SJxdm(B,Y))&&a.rQHol(Z[_(512)].y,k)&&Z.position.y<=a.HrDNN(k,O)&&L[_(556)](Z.id);a[_(529)](D.length,0)?D[_(516)]===1?f({kind:"flower",flowerId:D[0]}):f({kind:"flowers",flowerIds:D}):a[_(515)](L.length,0)?a[_(489)](L[_(516)],1)?a.FZPNu(f,{kind:a[_(504)],leafId:L[0]}):a.xXCQA(a.SNmkJ,_(509))?f({kind:_(548),leafIds:L}):_0x4f8375.current=null:a[_(564)](f,{kind:"project"}),a[_(501)](U,null)},beginFlowerDrag:(_,w,A)=>{const j=r;w[j(569)](),w[j(502)]?.[j(555)]?.(w[j(526)]);const M=i.flowers[j(552)](k=>k.id===_);if(!M)return;let B=null;if(o.kind===a.PNENe&&o[j(558)].includes(_))j(530)===j(505)?_0x299688.push(_0x3c76a7.id):B=o[j(558)].map(k=>{const Y=j,O=i.flowers.find(D=>D.id===k);return{id:k,x:O?.[Y(512)].x??0,y:O?.position.y??0}});else if(j(531)!==j(544)){const k=a.FZcCJ(Ch,i,_);if(k.length>1)if(a[j(489)](a.IpgVN,a[j(537)])){if(!_0x31e43f[j(545)])return;const Y=UqORhs.tLsxJ(_0x9c2463,_0x13479f);_0xf97954.current.currentSvg=Y;const O=_0x731bc4[j(545)].startSvg,D=_0x1aff2a.min(O.x,Y.x),L=_0x502fe7[j(485)](O.y,Y.y),Z=_0x1f5482.abs(Y.x-O.x),X=_0xc627ed.abs(Y.y-O.y);UqORhs[j(567)](_0x180e62,{x:D,y:L,w:Z,h:X})}else B=k.map(Y=>{const O=j,D=i.flowers.find(L=>L.id===Y);return{id:Y,x:D?.[O(512)].x??0,y:D?.[O(512)].y??0}})}else _0x45961a({kind:a[j(561)],flowerId:_0x43c76d[j(500)]});p.current={flowerId:_,startClient:{x:w[j(541)],y:w.clientY},startPos:{...M.position},moved:!1,clickPetal:a[j(503)](A,null),isShiftPressed:w[j(539)]||!1,multiStartPositions:B,startZoom:h}},updateFlowerDrag:_=>{const w=r,A=p.current;if(!A)return;const j=a.xdbSh(_[w(541)]-A.startClient.x,A[w(547)]),M=a.xdbSh(_[w(524)]-A[w(521)].y,A[w(547)]),B=_[w(541)]-A[w(521)].x,k=a.kGPsB(_.clientY,A.startClient.y);a[w(515)](a[w(492)](Math.abs(B),Math[w(483)](k)),4)&&(A[w(549)]=!0),m(Y=>{const O=w;if(A[O(482)])for(const D of A[O(482)]){const L=Y.flowers.find(Z=>Z.id===D.id);L&&(L.position.x=a.dafUf(Se,D.x+j,0,S0),L.position.y=Se(a.REcOx(D.y,M),0,S0))}else if(O(498)!=="wxIhd")_0x940fdf[O(556)](_0x208505.id);else{const D=Y[O(528)][O(552)](L=>L.id===A.flowerId);if(!D)return;D[O(512)].x=a[O(540)](Se,A[O(553)].x+j,0,S0),D.position.y=a.JokJb(Se,a[O(523)](A.startPos.y,M),0,S0)}},!1)},endFlowerDrag:()=>{const _=r;_(548);const w=p.current;w&&(!w.moved&&w[_(519)]?a.CNzFH===_(496)?w[_(542)]?a.mDyzi(b,w[_(500)],w[_(519)].layerId,w.clickPetal.index,!0):a.xXCQA("KuzUd",a[_(518)])?a.FZPNu(f,{kind:a[_(517)],flowerId:w.flowerId,layerId:w.clickPetal[_(494)],index:w[_(519)].index}):_0x10377a.length===1?_0x390254({kind:SEISyd[_(488)],leafId:_0xc58bb9[0]}):SEISyd[_(554)](_0x2fbc3c,{kind:SEISyd.vLZiM,leafIds:_0xe3b40d}):SEISyd[_(571)](_0x1877ac,{kind:_(568),leafId:_0x33d877[0]}):w[_(549)]&&((o[_(533)]===a[_(525)]||o[_(533)]===_(511)&&o.flowerId!==w[_(500)]||a.HSSwX(o.kind,a[_(486)])&&a.xXCQA(o[_(500)],w[_(500)])||a[_(489)](o.kind,"petal")&&o[_(500)]!==w.flowerId)&&a[_(508)](f,{kind:a.QAgEU,flowerId:w.flowerId}),a[_(546)](m,()=>{},!0)),p[_(545)]=null)},scaleDragRef:N.scaleDragRef,beginScaleDrag:N.beginScaleDrag,updateScaleDrag:N[r(495)],endScaleDrag:N[r(565)],rotationDragRef:N.rotationDragRef,beginRotationDrag:N.beginRotationDrag,updateRotationDrag:N.updateRotationDrag,endRotationDrag:N.endRotationDrag,widthScaleDragRef:N.widthScaleDragRef,beginWidthScaleDrag:N.beginWidthScaleDrag,updateWidthScaleDrag:N.updateWidthScaleDrag,endWidthScaleDrag:N[r(493)],radiusDragRef:N.radiusDragRef,beginRadiusDrag:N.beginRadiusDrag,updateRadiusDrag:N.updateRadiusDrag,endRadiusDrag:N.endRadiusDrag}}function um({className:c}){return x.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function ua(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),o=Math.max(0,i),f=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:p=>{c.onDoubleClick&&(p.stopPropagation(),c.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?x.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?x.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:p=>{p.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(um,{className:"h-4 w-4"})}):x.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function cm(c){const{project:r,selection:a,setSelection:i,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:p,addFlower:h,deleteSelected:d,addOuterLayer:g,deleteOuterLayer:v,deleteFlowerById:z,deleteLayerById:b,treeScrollRef:N,setExpandedFlowers:C}=c;return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsx("div",{className:"text-sm font-semibold px-0.5",children:""}),x.jsxs("div",{className:"mt-1.5 flex gap-1 flex-wrap",children:[x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:x.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M12 3c1.2 2 .5 4-1 5.5C9.5 10 9 11.5 12 12c3 .5 2.5-1.5 1-3S10.8 5 12 3z"}),x.jsx("path",{d:"M12 3c-1.2 2-.5 4 1 5.5 1.5 1.5 2 3-1 3.5-3 .5-2.5-1.5-1-3S13.2 5 12 3z"}),x.jsx("path",{d:"M12 12c-2 1.5-4 1.2-5 0s0-3 2-3.5"}),x.jsx("path",{d:"M12 12c2 1.5 4 1.2 5 0s0-3-2-3.5"}),x.jsx("path",{d:"M12 12v5M10 15h4"}),x.jsx("circle",{cx:"12",cy:"11",r:"1.2",fill:"currentColor",stroke:"none"}),x.jsx("line",{x1:"20",y1:"2",x2:"20",y2:"7",stroke:"currentColor",strokeWidth:"2"}),x.jsx("line",{x1:"17.5",y1:"4.5",x2:"22.5",y2:"4.5",stroke:"currentColor",strokeWidth:"2"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]}),x.jsxs("div",{className:"mt-1.5 max-h-[420px] overflow-y-auto overflow-x-auto",ref:N,"data-testid":"layer-tree",children:[x.jsx(ua,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),(()=>{const S=c.groups,q=new Set(S.flatMap(G=>G.flowerIds)),H=r.flowers.filter(G=>!q.has(G.id)),R=(G,U)=>{const W=a.kind==="flower"&&a.flowerId===G.id,E=a.kind==="flowers"&&a.flowerIds.includes(G.id),I=W||E,P="",ne=o(G.id),V=G.layers&&G.layers.length>0,_=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),g(G.id)},"aria-label":"Add outer layer",children:"+"}),V&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),v(G.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":G.id,"data-testid":`tree-flower-${G.id}`,style:{paddingLeft:U},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${ne?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:ne?"Collapse layers":"Expand layers",onClick:w=>{w.stopPropagation(),f(G.id)},"aria-label":ne?"collapse":"expand","data-tree-toggle":!0,children:ne?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ua,{label:G.name,marker:P,selected:I,showTrash:W,onTrash:()=>z(G.id),rightActions:_,onClick:()=>m(G.id),onDoubleClick:()=>p(G.id),level:0,leftOffset:-18})})]}),ne&&G.layers.slice().sort((w,A)=>A.order-w.order).map(w=>{const A=(a.kind==="layer"||a.kind==="petal")&&a.layerId===w.id;return x.jsx(ua,{label:`${w.order}. ${w.name}`,marker:"",selected:A,showTrash:A,onTrash:()=>b(G.id,w.id),onClick:()=>{i({kind:"layer",flowerId:G.id,layerId:w.id}),C(j=>({...j,[G.id]:!0}))},level:0,leftOffset:10,muted:!w.visible},w.id)})]},G.id)};return x.jsxs(x.Fragment,{children:[[...S].reverse().map(G=>{const U=a.kind==="group"&&a.groupId===G.id,W="",E=c.isGroupExpanded(G.id);return x.jsxs("div",{"data-group-id":G.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${E?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:E?"":"",onClick:I=>{I.stopPropagation(),c.toggleGroupExpanded(G.id)},"aria-label":E?"collapse group":"expand group",children:E?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ua,{label:` ${G.name}`,marker:W,selected:U,onClick:()=>c.onSelectGroup(G.id),level:0,leftOffset:-18})})]}),E&&G.flowerIds.map(I=>{const P=r.flowers.find(ne=>ne.id===I);return P?R(P,12):null})]},G.id)}),[...H].reverse().map(G=>R(G,0))]})})()]}),x.jsxs("div",{className:"mt-2 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsx("div",{className:"mt-1 max-h-[200px] overflow-y-auto",children:(()=>{const S=c.leafGroups,q=new Set(S.flatMap(R=>R.leafIds)),H=c.leaves.filter(R=>!q.has(R.id));return x.jsxs(x.Fragment,{children:[S.map(R=>{const G=a.kind==="leafGroup"&&a.leafGroupId===R.id;return x.jsxs("div",{children:[x.jsx(ua,{label:` ${R.name}`,selected:G,onClick:()=>c.onSelectLeafGroup(R.id),level:0,leftOffset:0}),R.leafIds.map(U=>{const W=c.leaves.find(I=>I.id===U);if(!W)return null;const E=a.kind==="leaf"&&a.leafId===W.id;return x.jsx(ua,{label:W.name,selected:E,showTrash:E,onTrash:()=>c.onDeleteLeaf(W.id),onClick:()=>c.onSelectLeaf(W.id),level:0,leftOffset:12,muted:!W.visible},W.id)})]},R.id)}),[...H].reverse().map(R=>{const G=a.kind==="leaf"&&a.leafId===R.id;return x.jsx(ua,{label:R.name,selected:G,showTrash:G,onTrash:()=>c.onDeleteLeaf(R.id),onClick:()=>c.onSelectLeaf(R.id),level:0,leftOffset:0,muted:!R.visible},R.id)}),c.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})})()})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const xe=Tn;(function(c,r){const a=Tn,i=c();for(;;)try{if(parseInt(a(537))/1*(parseInt(a(554))/2)+-parseInt(a(557))/3+-parseInt(a(549))/4+parseInt(a(540))/5*(parseInt(a(525))/6)+parseInt(a(561))/7+-parseInt(a(491))/8+-parseInt(a(559))/9*(-parseInt(a(469))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,908919);function Tn(c,r){c=c-465;const a=R0();let i=a[c];if(Tn.tPZIRq===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Tn.Gpuxws=o,Tn.UdIBbg={},Tn.tPZIRq=!0}const f=a[0],m=c+f,p=Tn.UdIBbg[m];if(p)i=p;else{const h=function(d){this.dTBoIG=d,this.mfPVFv=[1,0,0],this.ooEjUl=function(){return"newState"},this.mcIaEb="\\w+ *\\(\\) *{\\w+ *",this.MBLnwJ=`['|"].+['|"];? *}`};h.prototype.XpYzwV=function(){const d=new RegExp(this.mcIaEb+this.MBLnwJ),g=d.test(this.ooEjUl.toString())?--this.mfPVFv[1]:--this.mfPVFv[0];return this.XCxLcN(g)},h.prototype.XCxLcN=function(d){return~d?this.MvxZIq(this.dTBoIG):d},h.prototype.MvxZIq=function(d){for(let g=0,v=this.mfPVFv.length;g<v;g++)this.mfPVFv.push(Math.round(Math.random())),v=this.mfPVFv.length;return d(this.mfPVFv[0])},new h(Tn).XpYzwV(),i=Tn.Gpuxws(i),Tn.UdIBbg[m]=i}return i}const xm=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Tn;if(a){const f=a[o(563)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),jx=xm(void 0,function(){const c=Tn,r={uiZvm:c(492)};return jx.toString()[c(515)](r[c(520)]).toString()[c(473)](jx)[c(515)]("(((.+)+)+)+$")});jx();const Pd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Fd={adult:"",child:""},$d={right:xe(513),left:"",back:xe(560)},sm=["M 0 0",xe(479),"C 65 12, 72 26, 76 42",xe(558),xe(564),xe(539),"C 78 93, 82 96, 83 99",xe(535),"C 70 106, 70 108, 73 110",xe(482),xe(499),xe(532),"C 37 150, 31 154, 27 161",xe(536),"C 15 206, 5 221, -9 239",xe(534),"L -36 280","L -125 280",xe(485),"C -68 212, -56 200, -48 190",xe(531),"C -34 158, -36 150, -40 142","C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56",xe(494),"C -56 36, -50 26, -42 18",xe(526),xe(478),"Z"].join(" "),om=[xe(567),"C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116",xe(501),xe(504),"C 38 172, 32 180, 30 188",xe(543),xe(545),"L -92 280",xe(474),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162","C -60 152, -72 142, -78 134",xe(523),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20",xe(498),"Z",xe(566),xe(509),xe(489),"C 46 126, 40 136, 30 142",xe(506),"C -10 150, -20 148, -30 142",xe(481),"C -50 104, -48 90, -42 82",xe(542),"Z"][xe(518)](" "),fm=[xe(567),xe(505),"C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68",xe(493),"C 65 81, 66 83, 66 85","C 66 86, 62 88, 58 90","C 57 91, 57 93, 59 95","C 60 97, 58 101, 54 106","C 50 111, 44 116, 38 120","C 32 125, 28 131, 26 139","C 22 151, 14 167, -2 183",xe(512),xe(519),xe(551),"C -86 218, -72 200, -58 186","C -48 176, -42 168, -38 158","C -35 150, -36 142, -40 134",xe(529),xe(550),"C -62 64, -56 54, -50 44",xe(530),xe(514),"Z"].join(" "),dm=["M 0 0",xe(490),"C 60 38, 64 52, 64 68",xe(562),"C 66 100, 64 106, 60 112","C 54 120, 44 130, 38 140",xe(465),xe(570),"L -70 240","C -66 228, -60 214, -55 202",xe(483),"C -44 130, -54 120, -60 112",xe(488),"C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26",xe(544),"Z","M 46 26",xe(476),xe(522),xe(541),xe(521),"C 43 32, 44 28, 46 26","Z","M -46 26","C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62",xe(571),xe(548),"C -43 32, -44 28, -46 26","Z"].join(" "),hm=[xe(567),xe(479),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76","C 48 74, 20 64, -8 58","C -30 54, -48 48, -62 44","C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z",xe(466),"C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44",xe(516),xe(569),xe(547),"Z"][xe(518)](" "),mm=[xe(567),"C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134",xe(496),xe(475),xe(471),"C -82 128, -84 122, -84 116",xe(510),xe(500),xe(484),"C -44 6, -20 0, 0 0","Z","M 0 70","C 16 66, 34 70, 42 82",xe(489),"C 46 126, 40 136, 30 142",xe(506),xe(477),xe(481),"C -50 104, -48 90, -42 82",xe(542),"Z"][xe(518)](" "),bm=[xe(567),xe(505),xe(472),xe(524),xe(553),xe(480),xe(530),"C -22 6, -10 1, 0 0","Z",xe(470),"C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",xe(497),xe(546),xe(568),"Z"].join(" "),gm=["M 0 0","C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68",xe(562),"C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126","C 0 127, -12 126, -26 124",xe(507),xe(488),"C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z","M 46 26",xe(476),"C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",xe(521),xe(487),"Z",xe(486),xe(495),xe(572),"C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"].join(" ");function vm(c,r){const a=xe,i={pviLZ:function(f,m){return f===m},rqbIh:"left",RlPCJ:function(f,m){return f===m},IwhoV:"adult"},o=i.pviLZ(r,a(511))||r===i.rqbIh;return i[a(468)](c,i[a(552)])?o?sm:om:o?fm:dm}function ym(c,r){const a=xe,i={QFoRN:function(f,m){return f===m},TEcVX:a(533)},o=i[a(555)](r,a(511))||i.QFoRN(r,i.TEcVX);return c==="adult"?o?hm:mm:o?bm:gm}function R0(){const c=["5B6m44kn5zcr44gn","nty2mdm2offiyNPuEG","qYa2nca3ocWGnJyGodySidy2idK0","yxbWBhK","qYa3mIa2osWGnJKGnZiSidy2idC2","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","tsaWidCW","tsaWida","tcaTndaGmtm0","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYaZmcaXntiSidmYide2nIWGntuGmJaY","tsaTndaGmtqY","l3rZDw1HBwKV","uMXqq0O","mtq1mgLRz2zPuG","tsaTndaGmtm0","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","qYa1nsaXmcWGnJaGmJiSidyZidm2","y29UC3rYDwn0B3i","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYaTncaTmsWGlteGlteSidaGma","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTmJGGndySic00mca0ncWGltuWidq0","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","tsaTndyGmJy","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYaXocaXlca0mcaXmcWGntiGmJy","mtq2ndu3nKHZDg5fuG","kcGOlISPkYKRksSK","qYa1nYa3msWGntKGnZuSidyZidC5","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYaTndqGnIWGltiWidaSidaGma","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","qYaTodmGodySic04mIa3ncWGltGWidyY","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","s0zdC3q","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYa3mIaXndiSidyWide1mIWGndGGmtyY","qYaXncaTncWGmZyGltqSidq4idq","qYaYmcaXndGSideWide1mcWGmcaXnta","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","yMfJAW","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","CMLNAhq","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","5y+Z5zcr44gn","qYaTmJiGnIWGlteWideSidaGma","C2vHCMnO","qYaTntGGntaSic01nca1ocWGltuWidCW","C2LKzq","AM9PBG","tcaTmZaGmJqW","DwLADM0","qYa0mIa2mIWGndaGntaSidqYidm4","qYa3oca0mcWGnZGGntqSidCYidyY","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYa2nca0ncWGnJqGntaSidyZidu2","odC3oda2wePxrxbq","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","C3HxrgC","B3DevwO","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","BgvMDa","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","owrkz21kEG","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYa2nsa4mcWGnJGGoduSidC0idKW","ndvyDMHpqMG","qYa2nIa2ocWGntyGnZaSidq4idy2","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYaYocaXotGSidm0idiXmIWGndGGmJi4","qYaTndaGmtaSic0XocaXlcaWida","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","tcaTndaGmtqY","qYaTndiGnJiSic00mca1mcWGltqYidm4","nJC4nta4oezxyLbxAG","qYaTnJGGotySic03mca4ncWGlty2idC0","tcaTmtaWidi0ma","sxDOB1y","qYa0nca1ncWGmtyGndGSic0Xmca0nG","mJq4nJzJu1Hsy3K","uuzVuK4","BwDYr24","mta2ody5nMPiuuHUAG","qYa3oca1mIWGnZCGnJaSidC0idy2","ntyZmtnkCg5ryxG"];return R0=function(){return c},R0()}const pm={right:"/tsumami/stencils/adult_right.png",left:xe(467)+xe(538),back:xe(467)+xe(565)},_m={right:xe(467)+"stencils/child_right.png",left:xe(467)+"stencils/child_left.png",back:"/tsumami/"+xe(503)},Sm={adult:pm,child:_m};function Cm(c,r){const a=xe,i={KFCst:function(p,h){return p===h},mgrGn:a(508),CAYPJ:"left"},o=i.KFCst(r,a(511))||i[a(502)](r,"left")?a(517):i[a(556)],f=Pd[c][o],m=Sm[c]?.[r]??null;return{path:vm(c,r),hairPath:ym(c,r),scaleX:i[a(502)](r,i.CAYPJ)?-1:1,imageUrl:m,imageWidthMm:f.width,imageHeightMm:f.height}}(function(c,r){const a=hn,i=c();for(;;)try{if(parseInt(a(426))/1+parseInt(a(391))/2*(-parseInt(a(460))/3)+parseInt(a(414))/4*(-parseInt(a(406))/5)+-parseInt(a(429))/6*(parseInt(a(421))/7)+-parseInt(a(454))/8*(-parseInt(a(459))/9)+parseInt(a(432))/10*(-parseInt(a(466))/11)+parseInt(a(396))/12*(parseInt(a(400))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,157640);const jm=(function(){let c=!0;return function(r,a){const i=c?function(){const o=hn;if(a){const f=a[o(418)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),wx=jm(void 0,function(){const c=hn;return wx[c(424)]()[c(455)](c(430))[c(424)]()[c(397)](wx).search(c(430))});function hn(c,r){c=c-386;const a=k0();let i=a[c];if(hn.nNpspd===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};hn.HqWUgF=o,hn.TzodsU={},hn.nNpspd=!0}const f=a[0],m=c+f,p=hn.TzodsU[m];if(p)i=p;else{const h=function(d){this.BSyCWG=d,this.kCOrbT=[1,0,0],this.hVxtnn=function(){return"newState"},this.AoRCpp="\\w+ *\\(\\) *{\\w+ *",this.BoYpNq=`['|"].+['|"];? *}`};h.prototype.wlOJoT=function(){const d=new RegExp(this.AoRCpp+this.BoYpNq),g=d.test(this.hVxtnn.toString())?--this.kCOrbT[1]:--this.kCOrbT[0];return this.qGcqqG(g)},h.prototype.qGcqqG=function(d){return~d?this.HWRwLj(this.BSyCWG):d},h.prototype.HWRwLj=function(d){for(let g=0,v=this.kCOrbT.length;g<v;g++)this.kCOrbT.push(Math.round(Math.random())),v=this.kCOrbT.length;return d(this.kCOrbT[0])},new h(hn).wlOJoT(),i=hn.HqWUgF(i),hn.TzodsU[m]=i}return i}wx();const cx=520;function Hd(c,r,a,i,o,f,m){const p=hn,h={YrKlR:function(g,v){return g/v},kqzpR:function(g,v){return g*v},jOMSy:function(g,v){return g*v},qLmmS:function(g,v){return g-v},BeXkV:function(g,v){return g+v},NZUOw:function(g,v){return g*v}},d=h[p(387)](i,a)-1;return{x:m.x-h[p(444)](d,-m.x+h.jOMSy(c,o)),y:h.qLmmS(m.y,d*h[p(443)](-m.y,h.NZUOw(r,f)))}}function wm(c){const r=hn,a={RzhRk:function(A,j){return A*j},GjADU:function(A,j,M,B){return A(j,M,B)},iPgru:function(A,j){return A-j},kgbqr:function(A,j){return A/j},dCJzx:function(A,j){return A(j)},Vqpxi:function(A,j){return A===j},hJwSM:"WyARn",LpGBp:r(461),pbohv:function(A,j){return A===j},jIkRc:function(A){return A()},GEumu:function(A){return A()},OnPOi:function(A){return A()},dhbnx:function(A,j){return A===j},VhBVs:"niEYd",nqbpX:function(A,j){return A+j},eXzFW:function(A,j){return A/j},rcgZn:function(A,j){return A-j},XOjiJ:function(A,j){return A-j},nOziq:function(A,j){return A+j},zWWZM:function(A,j){return A!==j},NaAYr:function(A,j){return A/j},iMpHC:function(A,j){return A/j},acUuY:function(A,j){return A-j},zOExV:function(A,j){return A+j},Piqyn:function(A,j){return A*j},ELZbc:"touchend",GJTVp:"wheel",YOZHR:r(413),ocfaq:function(A,j){return A!==j},AMWnI:"ZDRbp",qnvRL:function(A,j){return A<j},qoptT:function(A,j){return A*j},Ufdkv:function(A,j){return A-j},dAOkp:function(A,j){return A<j},puuhn:function(A,j){return A-j},TcAiH:function(A,j){return A/j},xqaRk:function(A,j){return A-j},IpZOf:function(A,j,M,B,k,Y,O,D){return A(j,M,B,k,Y,O,D)},MPjQk:"touchstart",LoHLf:function(A,j){return A+j},YyZCZ:function(A,j){return A(j)},AbTYo:function(A,j){return A(j)},tsssi:function(A,j,M){return A(j,M)},oCDAM:function(A,j){return A(j)},xAzQc:function(A,j,M){return A(j,M)},bifcQ:function(A,j,M){return A(j,M)},Gpvmn:function(A,j,M){return A(j,M)}},{setZoom:i,setPan:o,setZoomLevel:f,ZOOM_LEVELS:m,stageRef:p,endPan:h,endFlowerDrag:d,endMarquee:g,endRotationDrag:v,endScaleDrag:z,endWidthScaleDrag:b,endRadiusDrag:N}=c,C=F.useRef(null),S=a[r(445)](F.useRef,c[r(437)]),q=F.useRef(c.zoom);a.tsssi(F.useEffect,()=>{S.current=c.pan},[c[r(437)]]),F.useEffect(()=>{q.current=c.zoom},[c.zoom]);const H=a[r(399)](F.useRef,c.zoomLevel);a[r(402)](F.useEffect,()=>{const A=r;H[A(457)]=c[A(440)]},[c[r(440)]]);const R=a[r(442)](F.useRef,null),G=F.useRef(null),U=a[r(407)](F.useCallback,A=>{const j=r;if(a[j(409)](a.hJwSM,a[j(404)])){_0x5d82a8[j(450)]();const M=_0x149062[j(457)];if(!M)return;const B=_0x9e706e.current,k=a.RzhRk(B,_0x1afa2b[j(451)](-_0x57c3ad.deltaY*_0x59aeed)),Y=a[j(465)](_0xee466f,k,_0x2cb96f[0],_0xc8859d[_0x43fc0c.length-1]);if(_0x4212a7[j(428)](a[j(448)](Y,B))<1e-6)return;const O=M[j(395)](),D=a[j(453)](a.iPgru(_0x48cfd2[j(394)],O[j(412)]),O.width),L=(_0xf87223[j(416)]-O.top)/O[j(449)],Z=O.width/O.height,X=_0x45c77a,ae=X*Z,ce=_0x268479(D,L,B,Y,ae,X,_0x47d224.current);_0x152dd6[j(457)]=Y,_0x584087.current=ce,a.dCJzx(_0xd04a4,Y),a.dCJzx(_0x3a70fc,ce)}else if(a.pbohv(A.touches.length,2)){A.preventDefault(),a[j(458)](h),a.jIkRc(d),g(),a.jIkRc(v),a.GEumu(z),a.OnPOi(b),N(),R[j(457)]=null,G[j(457)]=null;const M=A[j(435)][0],B=A[j(435)][1],k=(M[j(394)]+B[j(394)])/2,Y=(M[j(416)]+B[j(416)])/2,O=Math.hypot(B[j(394)]-M[j(394)],B.clientY-M.clientY);C.current={initialCenter:{x:k,y:Y},initialDist:O,initialPan:{...S.current},initialZoom:q.current}}},[h,d,g,v,z,b,N]),W=a[r(446)](F.useCallback,A=>{const j=r;if(A[j(435)][j(425)]===2&&C[j(457)])if(a.dhbnx("niEYd",a[j(393)])){A.preventDefault();const M=A[j(435)][0],B=A.touches[1],k=a.nqbpX(M[j(394)],B.clientX)/2,Y=a.eXzFW(M[j(416)]+B.clientY,2),O=Math[j(427)](a[j(448)](B.clientX,M[j(394)]),a[j(419)](B[j(416)],M.clientY)),D=C.current,L=O/Math[j(401)](1,D.initialDist),Z=Se(a.dCJzx(Number,(D.initialZoom*L)[j(441)](3)),m[0],m[a.iPgru(m[j(425)],1)]),X=D[j(464)],ae=k-D.initialCenter.x,ce=a.XOjiJ(Y,D.initialCenter.y);let fe=D[j(390)].x+ae,oe=a[j(438)](D.initialPan.y,ce);const ve=p.current;if(ve&&a[j(439)](X,Z)){const me=ve[j(395)](),Ge=a[j(420)](a.iPgru(D.initialCenter.x,me.left),me.width),Ze=a[j(405)](a.iPgru(D[j(436)].y,me[j(411)]),me.height),We=me.width/me.height,Qe=cx,jt=Qe*We,Nt=a.acUuY(Z/X,1)*a.zOExV(-D.initialPan.x,a.Piqyn(Ge,jt)),Yt=(a.NaAYr(Z,X)-1)*a.nqbpX(-D.initialPan.y,Ze*Qe);fe-=Nt,oe-=Yt}const Ae={x:fe,y:oe};q[j(457)]=Z,S[j(457)]=Ae,o(Ae),i(Z)}else _0x54eace[j(457)]=null},[o,i,p,m]),E=a[r(423)](F.useCallback,A=>{const j=r;if(a.ocfaq(a.AMWnI,a[j(431)])){const M={XFYVM:a.ELZbc,adeKz:a[j(388)]},B=_0x28410c[j(457)];return B?(B.addEventListener(j(415),_0x19330b,{passive:!1}),B[j(392)](a[j(463)],_0x14f875,{passive:!1}),B.addEventListener(a.ELZbc,_0x355e96),B[j(392)](a[j(388)],_0x5e0144,{passive:!1}),()=>{const k=j;B[k(386)](k(415),_0x220513),B.removeEventListener(k(413),_0x15f366),B[k(386)](M[k(462)],_0x30122d),B[k(386)](M.adeKz,_0xadd5cd)}):void 0}else a.qnvRL(A[j(435)].length,2)&&(a.zWWZM(j(447),j(417))?C.current=null:(_0x34ac2c.current=_0x25ef47,_0x17c01f[j(457)]=_0x4afc81,_0x170513[j(457)]={x:0,y:0},_0x2cb423(_0x311477),a.dCJzx(_0x4eca52,{x:0,y:0})))},[]),I=.003,P=F.useCallback(A=>{const j=r;A.preventDefault();const M=p[j(457)];if(!M)return;const B=q.current,k=a[j(422)](B,Math.exp(a[j(422)](-A[j(410)],I))),Y=Se(k,m[0],m[a.Ufdkv(m.length,1)]);if(a.dAOkp(Math.abs(a.puuhn(Y,B)),1e-6))return;const O=M[j(395)](),D=(A[j(394)]-O[j(412)])/O.width,L=a[j(456)](a[j(452)](A[j(416)],O[j(411)]),O[j(449)]),Z=O.width/O[j(449)],X=cx,ae=X*Z,ce=a.IpZOf(Hd,D,L,B,Y,ae,X,S[j(457)]);q.current=Y,S[j(457)]=ce,a.dCJzx(i,Y),o(ce)},[i,o,p,m]);F.useEffect(()=>{const A=r,j=p[A(457)];if(j)return j[A(392)](a[A(433)],U,{passive:!1}),j[A(392)](a.YOZHR,W,{passive:!1}),j[A(392)](a[A(398)],E),j[A(392)](a.GJTVp,P,{passive:!1}),()=>{const M=A;j.removeEventListener(M(415),U),j.removeEventListener(M(413),W),j[M(386)](a.ELZbc,E),j.removeEventListener(M(434),P)}},[p,U,W,E,P]);const ne=F.useCallback(A=>{const j=r,M=H.current,B=a[j(465)](Se,a.LoHLf(M,A),0,m.length-1);if(B===M)return;const k=q[j(457)],Y=m[B],O=p.current;if(!O){a[j(403)](f,B);return}const D=O[j(395)](),L=a.TcAiH(D[j(389)],D.height),Z=cx,X=Z*L,ae=Hd(.5,.5,k,Y,X,Z,S[j(457)]);q[j(457)]=Y,H.current=B,S.current=ae,f(B),o(ae)},[f,o,p,m]),V=F.useCallback((A,j)=>{const M=r,B=M(408).split("|");let k=0;for(;;){switch(B[k++]){case"0":q.current=j;continue;case"1":H[M(457)]=A;continue;case"2":S[M(457)]={x:0,y:0};continue;case"3":o({x:0,y:0});continue;case"4":a.dCJzx(f,A);continue}break}},[f,o]),_=F.useCallback(A=>{R.current=A},[]),w=a[r(423)](F.useCallback,A=>{G.current=A},[]);return{multiTouchRef:C,touchBgStartRef:R,mouseBgStartRef:G,zoomAtCenter:ne,resetView:V,setTouchBgStart:_,setMouseBgStart:w}}function k0(){const c=["mxWWFdj8nhWZ","vNfWEgK","zgvSDgfz","Dg9W","BgvMDa","Dg91y2HTB3zL","otjVzfjruKK","Dg91y2HZDgfYDa","y2XPzw50wq","zK5wBMS","yxbWBhK","CMnNwM4","tMfbwxi","n0XKEMfUua","Cw9WDfq","r3b2Bw4","Dg9tDhjPBMC","BgvUz3rO","otGYnJDcrg5LBxe","AhLWB3q","ywjZ","mtaYndq0nKzuqwLLBa","kcGOlISPkYKRksSK","qu1xBKK","mtu3otbcrvHpyvG","tvbQuwS","D2HLzwW","Dg91y2HLCW","Aw5PDgLHBenLBNrLCG","CgfU","BK96Axe","ELDxwK0","EM9VBuXLDMvS","Dg9gAxHLza","zenkENG","qMvyA1y","A3f6Cfi","qwjuww8","yMLMy1e","qNPNBKu","AvbNCNu","AgvPz2H0","ChjLDMvUDerLzMf1Bhq","zxHW","EhfHuMS","A2DICxi","mtmZnKzmuKLSCq","C2vHCMnO","vgnbAuG","y3vYCMvUDa","AKLRuMm","mZyYn0LzrNjLqq","mtG1otKXEgzxtuz6","sKrHzgq","wezzvK0","wu9Asfi","Aw5PDgLHBfPVB20","r2Pbrfu","mtuWn1rQvMr2Ba","CMvTB3zLrxzLBNrmAxn0zw5LCG","wxjlBfi","r0PuvNa","D2LKDgG","Aw5PDgLHBfbHBG","mKTIAunVwa","ywrKrxzLBNrmAxn0zw5LCG","vMHcvNm","y2XPzw50wa","z2v0qM91BMrPBMDdBgLLBNrszwn0","mJeWmdeZmMHXwxjeqq","y29UC3rYDwn0B3i","ruXAyMm","B0nequ0","ntjtshDtyNa","Bwf4","DhnZC2K","wxLAq1O","thbhqNa","Au1Wsem","ntyYodvxrNjZDxO","Eef6uwm"];return k0=function(){return c},k0()}function Fa(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),o=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(o))return c;const f=1-r;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(i*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function Mm(c){const{flower:r,project:a,paletteMap:i}=c,o=F.useRef(null),f=F.useRef(!1),m=F.useRef(null);F.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const p=F.useMemo(()=>[...r.layers||[]].sort((H,R)=>H.order-R.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:d,width:g}=Ct(h),{flowerOuterR:v,centerHitR:z}=F.useMemo(()=>{let H=12,R=1/0;for(const U of p){if(!U.visible)continue;const W=U.scale??1,E=d*W,P=Math.max(0,U.radius-E*.28),ne=P+E;H=Math.max(H,ne),P<R&&(R=P)}isFinite(R)||(R=0);const G=Math.max(R*.9,8);return{flowerOuterR:H,centerHitR:G}},[p,d]),b=(H,R)=>H?.petalOverrides?.find(G=>G.index===R)??null,N="pointer",C=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,S=c.zoneCursorValue??"grab",q=H=>{if(H.stopPropagation(),H.button===0){if(H.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(H)}};return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:H=>{H.stopPropagation(),c.onDoubleClick?.()},style:{cursor:C?S:nr("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,v),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),p.map(H=>{if(!H.visible)return null;const G=i.get(H.colorId)?.hex??"#999",U=360/Math.max(1,H.petalCount),W=H.scale??1,E=d*W,P=g*(H.widthScale??1)*W,V=Math.max(0,H.radius-E*.28),_=fx(""),w=fx(""),A=V+E,j=c.isSelected&&c.selectedLayerId===H.id,M=c.isSelected&&(c.selectedPetal?.layerId===H.id||(c.selectedPetals?.some(B=>B.layerId===H.id)??!1));return x.jsxs("g",{children:[Array.from({length:H.petalCount}).map((B,k)=>{const Y=b(H,k),D=(Y?.petalType??H.petalType)===""?_:w,L=i.get(Y?.colorId??H.colorId)?.hex??G,Z=H.offsetAngle+k*U,X=sa(Z),ae=Math.cos(X)*V,ce=Math.sin(X)*V,fe=c.isSelected&&c.selectedPetal?.layerId===H.id&&c.selectedPetal?.index===k,oe=c.isSelected&&(c.selectedPetals?.some(me=>me.layerId===H.id&&me.index===k)??!1),ve=fe||oe,Ae=C?S:nr("/tsumami/");return x.jsxs("g",{transform:`translate(${ae} ${ce}) rotate(${Z})`,children:[x.jsx("path",{d:D,transform:`scale(${E} ${P})`,fill:L,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:H.locked?.55:.95,style:{cursor:Ae},onPointerDown:me=>{if(me.stopPropagation(),me.button!==0)return;const Ge=me.shiftKey,Ze=me.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,Ge&&c.onTogglePetalSelection){me.preventDefault(),me.stopPropagation(),c.onTogglePetalSelection(H.id,k,!0);return}if(Ze&&c.onTogglePetalSelection){m.current={x:me.clientX,y:me.clientY};const Nt=H.id,Yt=k;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,c.onTogglePetalSelection?.(Nt,Yt,!0),navigator.vibrate?.(30)},500)}const We=c.isSelected&&c.selectedLayerId!=null,Qe=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||We||Qe){c.onBeginDragFromLayerPetal(H.id,k,me);return}c.onBeginDragFromLayerPetal(H.id,k,me)},onPointerMove:me=>{if(o.current&&m.current){const Ge=me.clientX-m.current.x,Ze=me.clientY-m.current.y;Math.hypot(Ge,Ze)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:me=>{me.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(H.id)}}),H.doublePetal&&(()=>{const me=H.doublePetal,Ge=Y?.innerSizeReduction??me.innerSizeReduction??2,Ze=h*(W||1);if(Ze<=0)return null;const Qe=Math.max(Ze*.3,Ze-Ge)/Ze,jt=D,Nt=Y?.innerColorId??me.innerColorId??Y?.colorId??H.colorId,Yt=i.get(Nt)?.hex??L,wt=E*Qe,nt=P*Qe;return x.jsx("path",{d:jt,transform:`scale(${wt} ${nt})`,fill:Yt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:H.locked?.55:.95,pointerEvents:"none"})})(),(ve||j||c.isFlowerSelected)&&x.jsx("path",{d:D,transform:`scale(${E} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${H.id}-${k}`)]},k)}),j&&!M&&x.jsx("circle",{r:A,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},H.id)}),c.isFlowerSelected&&x.jsx("circle",{r:v,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const H=r.center,R=Eh(H.size),G=i.get(H.color)?.hex??"#D4A843",U=H.color2?i.get(H.color2)?.hex??"#C0C0C0":"#D4A843",W=Math.max(R,z);switch(H.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:R,fill:G,stroke:Fa(G,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:W,fill:"transparent",style:{cursor:N},onPointerDown:q})]});case"":{const I=R*.42,P=R,ne=R*.12,V=R*.13,_=R*.45,w=U,A=G;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((j,M)=>{const B=M/10*360,k=sa(B),Y=Math.cos(k)*P,O=Math.sin(k)*P,D=-Math.sin(k)*ne,L=Math.cos(k)*ne,Z=Math.cos(k)*I,X=Math.sin(k)*I;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(Z+D).toFixed(2)} ${(X+L).toFixed(2)} L ${Y.toFixed(2)} ${O.toFixed(2)} L ${(Z-D).toFixed(2)} ${(X-L).toFixed(2)} Z`,fill:w,stroke:Fa(w,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:Y,cy:O,r:V,fill:w,stroke:Fa(w,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},M)}),x.jsx("circle",{r:I,fill:w,stroke:Fa(w,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:_,fill:A,stroke:Fa(A,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:W,fill:"transparent",style:{cursor:N},onPointerDown:q})]})}case"":{const E=H.pepCount??12,I=R*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:E}).map((P,ne)=>{const V=ne/E*360,_=sa(V),w=Math.cos(_)*R,A=Math.sin(_)*R;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:w,y2:A,stroke:G,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:w,cy:A,r:Math.max(I,1),fill:G,stroke:Fa(G,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},ne)})}),x.jsx("circle",{r:W,fill:"transparent",style:{cursor:N},onPointerDown:q})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:z,fill:"transparent",style:{cursor:N},onPointerDown:q})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:z,fill:"transparent",style:{cursor:N},onPointerDown:q})]}),c.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,v+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function zm(c){const{leaf:r,project:a,paletteMap:i}=c,o=r.fabricSquareSize??a.fabricSquareSize,{length:f,width:m}=Ct(o),p=r.scale??1,h=f*p,d=m*(r.widthScale??1)*p,g=fx(r.petalType),v=i.get(r.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??nr("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:z=>{if(z.stopPropagation(),z.button===0&&!r.locked){if(z.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(z)}},children:[x.jsx("path",{d:g,transform:`scale(${h} ${d})`,fill:v,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const z=r.doublePetal,b=z.innerSizeReduction??2,N=o*(p||1);if(N<=0)return null;const S=Math.max(N*.3,N-b)/N,q=z.innerColorId??r.colorId,H=i.get(q)?.hex??v,R=h*S,G=d*S;return x.jsx("path",{d:g,transform:`scale(${R} ${G})`,fill:H,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),(c.isSelected||c.isLeafGroupHighlighted)&&x.jsx("path",{d:g,transform:`scale(${h} ${d})`,fill:"none",stroke:c.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:c.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${r.id}`)]})}const O0=1350;function Dm(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:m,stencilDraggingRef:p,onSelectStencil:h}=c,d=F.useRef(null);F.useEffect(()=>()=>{d.current?.()},[]);const g=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return x.jsx(x.Fragment,{children:r.map(v=>{const z=Cm(v.variant,v.pose),b=a===v.id,N=en,C=z.imageUrl?1:z.scaleX,S=g||!!v.locked;return x.jsx("g",{transform:`translate(${v.position.x} ${v.position.y}) scale(${N*C} ${N})`,style:{cursor:g?"default":v.locked?"pointer":lm("/tsumami/"),pointerEvents:g?"none":"auto"},"data-testid":`stencil-${v.id}`,onPointerDown:q=>{if(q.button!==0)return;if(S){h(v.id);return}if(q.stopPropagation(),h(v.id),!o.current)return;p.current=!0,o.current&&(o.current.style.cursor=am("/tsumami/"));const R=m.current(q),G={...v.position},U=v.id;let W=G.x,E=G.y;const I=ne=>{const V=m.current(ne),_=V.x-R.x,w=V.y-R.y;W=Se(G.x+_,0,O0),E=Se(G.y+w,0,O0),f.current(A=>{const j=(A.stencils??[]).find(M=>M.id===U);j&&(j.position.x=W,j.position.y=E)},!1)},P=()=>{p.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",P),d.current=null,f.current(ne=>{const V=(ne.stencils??[]).find(_=>_.id===U);V&&(V.position.x=W,V.position.y=E)},!0)};document.addEventListener("pointermove",I),document.addEventListener("pointerup",P),d.current=()=>{p.current=!1,document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",P)}},children:z.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:z.imageUrl,x:-z.imageWidthMm/2,y:0,width:z.imageWidthMm,height:z.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-z.imageWidthMm/2,y:0,width:z.imageWidthMm,height:z.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:z.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:z.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&x.jsx("path",{d:z.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},v.id)})})}function Nm(c){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:m,dashSyncToken:p,stageRef:h,multiTouchRef:d,clientToSvgPoint:g,togglePetalSelection:v,handleShiftFlowerSelect:z,groupHighlightedFlowerIds:b,beginFlowerDrag:N,beginScaleDrag:C,beginRotationDrag:S,beginWidthScaleDrag:q,beginRadiusDrag:H,clickOriginRef:R,zoneActivatedRef:G,setZoneCursorValue:U,setTouchZoneIndicator:W}=c;return x.jsx(x.Fragment,{children:r.flowers.map(E=>x.jsx(Mm,{flower:E,project:r,paletteMap:o,isSelected:a.kind!=="project"&&f===E.id||a.kind==="flowers"&&a.flowerIds.includes(E.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===E.id||a.kind==="flowers"&&a.flowerIds.includes(E.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===E.id?a.petals:null,onSelect:()=>{const I=xa(r,E.id);if(I&&!(a.kind==="group"&&a.groupId===I.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&I.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:I.id});return}i({kind:"flower",flowerId:E.id})},onSelectLayer:I=>i({kind:"layer",flowerId:E.id,layerId:I}),onSelectPetal:(I,P)=>i({kind:"petal",flowerId:E.id,layerId:I,index:P}),onTogglePetalSelection:(I,P,ne)=>v(E.id,I,P,ne),onShiftSelect:()=>z(E.id),isGroupHighlighted:b.has(E.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(I,P,ne)=>{if(d.current)return;const V=xa(r,E.id);if(V&&!(a.kind==="group"&&a.groupId===V.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&V.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:V.id}),N(E.id,ne);return}const _=g(ne),w=ne.pointerType==="touch",A=a.kind==="flower"&&a.flowerId===E.id||a.kind==="layer"&&a.flowerId===E.id||a.kind==="petal"&&a.flowerId===E.id||a.kind==="petals"&&a.flowerId===E.id;if(w&&A){const{zone:M,layerId:B,petalIndex:k}=Hl(_.x,_.y,E,r,a),{length:Y}=Ct(E.fabricSquareSize??r.fabricSquareSize),O=ei(M,a.kind,{hitLayerId:B,flower:E,length:Y});if(O!=="none"&&O!=="center"&&O!=="move"){W({x:_.x,y:_.y,zone:O});const D=a.kind==="layer"?"layer":"flower",L=a.kind==="layer"?a.layerId:I;switch(O){case"rotate":S(D,E.id,ne,{layerId:L});return;case"scale":C(D,E.id,ne,{layerId:L});return;case"width":q(D,E.id,ne,{layerId:L,petalIndex:k});return;case"radius":H(D,E.id,ne,{layerId:L});return}}N(E.id,ne,{layerId:I,index:P});return}const j=G.current;if(R.current={x:_.x,y:_.y},G.current=!1,A&&j){const{zone:M,layerId:B,petalIndex:k}=Hl(_.x,_.y,E,r,a),{length:Y}=Ct(E.fabricSquareSize??r.fabricSquareSize),O=ei(M,a.kind,{hitLayerId:B,flower:E,length:Y}),D=a.kind==="layer"?"layer":"flower",L=a.kind==="layer"?a.layerId:I;switch(O){case"rotate":S(D,E.id,ne,{layerId:L});return;case"scale":C(D,E.id,ne,{layerId:L});return;case"width":q(D,E.id,ne,{layerId:L,petalIndex:k});return;case"radius":H(D,E.id,ne,{layerId:L});return;default:U(Yl("/tsumami/")),h.current&&(h.current.style.cursor=Yl("/tsumami/")),N(E.id,ne,{layerId:I,index:P});return}}U(Yl("/tsumami/")),h.current&&(h.current.style.cursor=Yl("/tsumami/")),N(E.id,ne,{layerId:I,index:P})},onDoubleClick:()=>i({kind:"flower",flowerId:E.id}),onPointerDown:I=>{if(d.current||I.button!==0)return;if(I.shiftKey){I.stopPropagation(),z(E.id);return}const P=xa(r,E.id);if(P&&!(a.kind==="group"&&a.groupId===P.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&P.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:P.id}),N(E.id,I);return}a.kind==="flower"&&a.flowerId===E.id||a.kind==="layer"&&a.flowerId===E.id||a.kind==="flowers"&&a.flowerIds.includes(E.id)||i({kind:"flower",flowerId:E.id});const V=g(I);R.current={x:V.x,y:V.y},G.current=!1,U(Yl("/tsumami/")),h.current&&(h.current.style.cursor=Yl("/tsumami/")),N(E.id,I)},dashSyncToken:p},E.id))})}function Am(c){const{leaves:r,leafGroups:a,project:i,selection:o,paletteMap:f,dashSyncToken:m,leafGroupHighlightedLeafIds:p,zoneCursorValue:h,stageRef:d,applyUpdateRef:g,clientToSvgPointRef:v,leafDraggingRef:z,clickOriginRef:b,zoneActivatedRef:N,setZoneCursorValue:C,onSelectLeaf:S,onShiftSelectLeaf:q}=c,H=F.useRef(null);F.useEffect(()=>()=>{H.current?.()},[]);const R=o.kind==="flower"||o.kind==="layer"||o.kind==="petal"||o.kind==="petals";return x.jsx(x.Fragment,{children:r.map(G=>{if(!G.visible)return null;const U=o.kind==="leaf"&&o.leafId===G.id,W=o.kind==="leaves"&&o.leafIds?.includes(G.id),E=p.has(G.id),I=Z0({leafGroups:a},G.id),P=I?.rotation??0;let ne=G;if(I&&P!==0){const V=jh({leaves:r,leafGroups:a},I.id),_=P*Math.PI/180,w=G.position.x-V.x,A=G.position.y-V.y;ne={...G,position:{x:V.x+w*Math.cos(_)-A*Math.sin(_),y:V.y+w*Math.sin(_)+A*Math.cos(_)},rotation:G.rotation+P}}return x.jsx(zm,{leaf:ne,project:i,paletteMap:f,isSelected:U||W,isLeafGroupHighlighted:E,dashSyncToken:m,cursor:U?h:void 0,onPointerDown:V=>{if(G.locked||R)return;V.stopPropagation();const _=v.current(V),w=U&&N.current;S(G.id),b.current={x:_.x,y:_.y},N.current=!1,C(Yl("/tsumami/")),d.current&&(d.current.style.cursor=Yl("/tsumami/"));const A=w?Wd(_.x,_.y,G,i):"move";if(A!=="move"){const j=Qd(A,"/tsumami/");C(j),d.current&&(d.current.style.cursor=j)}if(z.current=!0,A==="rotate"){const j=ne.position,M=G.rotation,B=Math.atan2(_.y-j.y,_.x-j.x)*180/Math.PI;let k=!1;const Y=D=>{const L=v.current(D),X=Math.atan2(L.y-j.y,L.x-j.x)*180/Math.PI-B;Math.abs(X)>.5&&(k=!0),g.current(ae=>{const ce=(ae.leaves??[]).find(fe=>fe.id===G.id);ce&&(ce.rotation=((M+X)%360+360)%360)},!1)},O=()=>{H.current=null,z.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",O),k&&g.current(()=>{},!0)};document.addEventListener("pointermove",Y),document.addEventListener("pointerup",O),H.current=()=>{z.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",O)}}else if(A==="scale"){const j=ne.position,M=G.scale??1,B=Math.max(1,Math.hypot(_.x-j.x,_.y-j.y));let k=!1;const Y=D=>{const L=v.current(D),X=Math.hypot(L.x-j.x,L.y-j.y)/B;Math.abs(X-1)>.01&&(k=!0),g.current(ae=>{const ce=(ae.leaves??[]).find(fe=>fe.id===G.id);ce&&(ce.scale=Se(M*X,.3,3))},!1)},O=()=>{H.current=null,z.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",O),k&&g.current(()=>{},!0)};document.addEventListener("pointermove",Y),document.addEventListener("pointerup",O),H.current=()=>{z.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",O)}}else if(A==="width"){const j=ne.position,M=G.rotation*Math.PI/180,B=-Math.sin(M),k=Math.cos(M),Y=G.widthScale??1,O=Math.abs((_.x-j.x)*B+(_.y-j.y)*k),D=Math.max(1,O);let L=!1;const Z=ae=>{const ce=v.current(ae),oe=Math.abs((ce.x-j.x)*B+(ce.y-j.y)*k)/D;Math.abs(oe-1)>.01&&(L=!0),g.current(ve=>{const Ae=(ve.leaves??[]).find(me=>me.id===G.id);Ae&&(Ae.widthScale=Se(Y*oe,.3,3))},!1)},X=()=>{H.current=null,z.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",X),L&&g.current(()=>{},!0)};document.addEventListener("pointermove",Z),document.addEventListener("pointerup",X),H.current=()=>{z.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",X)}}else{const j=_,M=wh({leaves:r,leafGroups:a},G.id),B=new Map;for(const D of M){const L=r.find(Z=>Z.id===D);L&&B.set(D,{...L.position})}let k=!1;const Y=D=>{const L=v.current(D),Z=L.x-j.x,X=L.y-j.y;Math.abs(Z)+Math.abs(X)>1&&(k=!0),g.current(ae=>{for(const[ce,fe]of B){const oe=(ae.leaves??[]).find(ve=>ve.id===ce);oe&&(oe.position.x=Se(fe.x+Z,0,O0),oe.position.y=Se(fe.y+X,0,O0))}},!1)},O=()=>{H.current=null,z.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",O),k&&g.current(()=>{},!0)};document.addEventListener("pointermove",Y),document.addEventListener("pointerup",O),H.current=()=>{z.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",O)}}},onShiftSelect:()=>q(G.id)},G.id)})})}function Tm({rect:c}){return c?x.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Lm({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?x.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const Qi=1350;function Em(c){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,setZoom:m,zoomLevel:p,setZoomLevel:h,ZOOM_LEVELS:d,setPan:g,showGrid:v,setShowGrid:z,setShowHelp:b,stageRef:N,viewBox:C,dashDelay:S,dashSyncToken:q,beginPan:H,updatePan:R,endPan:G,beginMarquee:U,updateMarquee:W,endMarquee:E,marqueeRef:I,marqueeRect:P,beginFlowerDrag:ne,updateFlowerDrag:V,endFlowerDrag:_,scaleDragRef:w,updateScaleDrag:A,endScaleDrag:j,rotationDragRef:M,updateRotationDrag:B,endRotationDrag:k,widthScaleDragRef:Y,updateWidthScaleDrag:O,endWidthScaleDrag:D,radiusDragRef:L,updateRadiusDrag:Z,endRadiusDrag:X,beginScaleDrag:ae,beginRotationDrag:ce,beginWidthScaleDrag:fe,beginRadiusDrag:oe,togglePetalSelection:ve,clientToSvgPoint:Ae}=c,me=F.useRef(!1),Ge=F.useRef(!1),Ze=F.useRef(c.applyUpdate),We=F.useRef(Ae);F.useEffect(()=>{Ze.current=c.applyUpdate},[c.applyUpdate]),F.useEffect(()=>{We.current=Ae},[Ae]);const[Qe,jt]=F.useState(!1),Nt=F.useRef(null);F.useEffect(()=>{if(!Qe)return;const se=je=>{Nt.current&&!Nt.current.contains(je.target)&&jt(!1)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[Qe]);const[Yt,wt]=F.useState("grab"),nt=F.useRef(null),At=F.useRef(!0),Ul=5,oa=F.useRef(a.kind);F.useEffect(()=>{a.kind!==oa.current&&(oa.current=a.kind,At.current=!1,nt.current=null)},[a.kind]);const[dt,fa]=F.useState(!1),qn=F.useRef(!1),[da,Un]=F.useState(null),ni=5,ha=10,it=wm({zoom:c.zoom,pan:c.pan,setZoom:m,setPan:g,zoomLevel:p,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:N,endPan:G,endFlowerDrag:_,endMarquee:E,endRotationDrag:k,endScaleDrag:j,endWidthScaleDrag:D,endRadiusDrag:X});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>it.zoomAtCenter(1),disabled:p>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>it.zoomAtCenter(-1),disabled:p<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>z(se=>!se),title:"","aria-label":"","aria-pressed":v,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>it.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:Nt,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Qe?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>jt(se=>!se),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Qe&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(se=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Fd[se]}),["right","left","back"].map(je=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(se,je),jt(!1)},"data-testid":`stencil-add-${se}-${je}`,children:$d[je]},`${se}-${je}`))]},se)),c.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),jt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:v?"24px 1fr":"1fr",gridTemplateRows:v?"20px 1fr":"1fr"},children:[v&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),v&&(()=>{const[se,,je,we]=C.split(/\s+/).map(Number),Ce=en,ye=Math.max(je,we)/Ce,Re=[10,20,50,100,200,500,1e3].find(Xe=>ye/Xe<=15)??1e3,Me=Re<=10?1:Re<=50?5:Re<=100?10:Re<=500?50:100,ht=Re<=10?5:Re/2,tt=Math.floor(se/Ce/Me)*Me-Me,rt=Math.ceil((se+je)/Ce/Me)*Me+Me,Oe=[];for(let Xe=tt;Xe<=rt;Xe+=Me){const Lt=(Xe*Ce-se)/je*100;if(Lt<-2||Lt>102)continue;const bn=Math.abs(Xe),Mt=bn%Re===0,ct=bn%ht===0,Kt=Mt?10:ct?6:3;Oe.push(x.jsx("line",{x1:`${Lt}%`,y1:20-Kt,x2:`${Lt}%`,y2:20,stroke:"#999",strokeWidth:Mt?.8:.4},Xe)),Mt&&Oe.push(x.jsx("text",{x:`${Lt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Xe},`t${Xe}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Oe})})(),v&&(()=>{const[,se,je,we]=C.split(/\s+/).map(Number),Ce=en,ye=Math.max(je,we)/Ce,Re=[10,20,50,100,200,500,1e3].find(Xe=>ye/Xe<=15)??1e3,Me=Re<=10?1:Re<=50?5:Re<=100?10:Re<=500?50:100,ht=Re<=10?5:Re/2,tt=Math.floor(se/Ce/Me)*Me-Me,rt=Math.ceil((se+we)/Ce/Me)*Me+Me,Oe=[];for(let Xe=tt;Xe<=rt;Xe+=Me){const Lt=(Xe*Ce-se)/we*100;if(Lt<-2||Lt>102)continue;const bn=Math.abs(Xe),Mt=bn%Re===0,ct=bn%ht===0,Kt=Mt?10:ct?6:3;Oe.push(x.jsx("line",{x1:24-Kt,y1:`${Lt}%`,x2:24,y2:`${Lt}%`,stroke:"#999",strokeWidth:Mt?.8:.4},Xe)),Mt&&Oe.push(x.jsx("text",{x:12,y:`${Lt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Xe},`t${Xe}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Oe})})(),x.jsxs("svg",{ref:N,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:C,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":S,cursor:dt?"crosshair":"grab"},onDoubleClick:se=>{se.target===se.currentTarget&&(fa(je=>!je),i({kind:"project"}))},onPointerDown:se=>{if(it.multiTouchRef.current)return;if(se.button===1){qn.current=!0,N.current&&(N.current.style.cursor="grabbing"),H(se);return}if(se.button!==0)return;const je=se.pointerType==="touch";if(je&&se.target===se.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Ce=r.flowers.find(ye=>ye.id===f);if(Ce){const ye=Ae(se),{zone:Tt,layerId:Re,petalIndex:Me}=Hl(ye.x,ye.y,Ce,r,a),{length:ht}=Ct(Ce.fabricSquareSize??r.fabricSquareSize),tt=ei(Tt,a.kind,{hitLayerId:Re,flower:Ce,length:ht});if(tt!=="none"&&tt!=="center"){Un({x:ye.x,y:ye.y,zone:tt});const rt=a.kind==="layer"?"layer":"flower",Oe=a.kind==="layer"?a.layerId:Re;switch(tt){case"rotate":ce(rt,f,se,{layerId:Oe});return;case"scale":ae(rt,f,se,{layerId:Oe});return;case"width":fe(rt,f,se,{layerId:Oe,petalIndex:Me});return;case"radius":oe(rt,f,se,{layerId:Oe});return;case"move":ne(f,se);return}}}}it.setTouchBgStart({x:se.clientX,y:se.clientY}),H(se);return}if(se.target===se.currentTarget&&f&&At.current&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Ce=r.flowers.find(ye=>ye.id===f);if(Ce){const ye=Ae(se),{zone:Tt,layerId:Re,petalIndex:Me}=Hl(ye.x,ye.y,Ce,r,a),{length:ht}=Ct(Ce.fabricSquareSize??r.fabricSquareSize),tt=ei(Tt,a.kind,{hitLayerId:Re,flower:Ce,length:ht});if(tt!=="none"){const rt=a.kind==="layer"?"layer":"flower",Oe=a.kind==="layer"?a.layerId:Re;switch(tt){case"rotate":ce(rt,f,se,{layerId:Oe});return;case"scale":ae(rt,f,se,{layerId:Oe});return;case"width":fe(rt,f,se,{layerId:Oe,petalIndex:Me});return;case"radius":oe(rt,f,se,{layerId:Oe});return;case"move":ne(f,se);return}}}}if(se.target===se.currentTarget){je?(it.setTouchBgStart({x:se.clientX,y:se.clientY}),H(se)):dt?U(se):(it.setMouseBgStart({x:se.clientX,y:se.clientY}),qn.current=!0,N.current&&(N.current.style.cursor="grabbing"),H(se));return}},onPointerMove:se=>{if(me.current||Ge.current)return;if(I.current){W(se);return}if(M.current){B(se);return}if(w.current){A(se);return}if(Y.current){O(se);return}if(L.current){Z(se);return}V(se),R(se);const je=!!c.dragRef?.current||!!I.current||!!M.current||!!w.current||!!Y.current||!!L.current||qn.current,we=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!je&&we){const Ce=r.flowers.find(ye=>ye.id===f);if(Ce){const ye=Ae(se);if(nt.current&&!At.current){if(Math.hypot(ye.x-nt.current.x,ye.y-nt.current.y)<Ul){const{zone:Oe}=Hl(ye.x,ye.y,Ce,r,a);Oe==="center"&&(wt("pointer"),N.current&&(N.current.style.cursor="pointer"));return}At.current=!0,nt.current=null}const{zone:Tt,layerId:Re}=Hl(ye.x,ye.y,Ce,r,a),{length:Me}=Ct(Ce.fabricSquareSize??r.fabricSquareSize),ht=ei(Tt,a.kind,{hitLayerId:Re,flower:Ce,length:Me}),tt=Od(ht,"/tsumami/");wt(tt),N.current&&(N.current.style.cursor=tt)}}if(!je&&a.kind==="leaf"&&c.selectedLeafId){const Ce=c.leaves.find(ye=>ye.id===c.selectedLeafId);if(Ce){const ye=Ae(se);if(nt.current&&!At.current){if(Math.hypot(ye.x-nt.current.x,ye.y-nt.current.y)<Ul)return;At.current=!0,nt.current=null}const Tt=Wd(ye.x,ye.y,Ce,r),Re=Qd(Tt,"/tsumami/");wt(Re),N.current&&(N.current.style.cursor=Re)}}},onPointerUp:se=>{if(!me.current&&!Ge.current){if(Un(null),I.current&&dt&&fa(!1),E(),k(),j(),D(),X(),_(),G(),qn.current&&(qn.current=!1,N.current&&(N.current.style.cursor=dt?"crosshair":"grab")),it.touchBgStartRef.current&&se.pointerType==="touch"){const je=se.clientX-it.touchBgStartRef.current.x,we=se.clientY-it.touchBgStartRef.current.y;Math.hypot(je,we)<ha&&i({kind:"project"}),it.setTouchBgStart(null);return}if(it.setTouchBgStart(null),it.mouseBgStartRef.current&&se.pointerType==="mouse"){const je=se.clientX-it.mouseBgStartRef.current.x,we=se.clientY-it.mouseBgStartRef.current.y;if(it.setMouseBgStart(null),Math.hypot(je,we)<ni){i({kind:"project"});return}}if(it.setMouseBgStart(null),f){const je=r.flowers.find(we=>we.id===f);if(je){const we=Ae(se);if(nt.current&&Math.hypot(we.x-nt.current.x,we.y-nt.current.y)<Ul){const{zone:tt}=Hl(we.x,we.y,je,r,a);tt==="center"&&(wt("pointer"),N.current&&(N.current.style.cursor="pointer"));return}const{zone:Ce,layerId:ye}=Hl(we.x,we.y,je,r,a),{length:Tt}=Ct(je.fabricSquareSize??r.fabricSquareSize),Re=ei(Ce,a.kind,{hitLayerId:ye,flower:je,length:Tt}),Me=Od(Re,"/tsumami/");wt(Me),N.current&&(N.current.style.cursor=Me)}}}},onPointerLeave:()=>{E(),k(),j(),D(),X(),_(),G(),qn.current=!1,it.setTouchBgStart(null),it.setMouseBgStart(null),wt("grab"),nt.current=null,At.current=!0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[se,je,we,Ce]=C.split(/\s+/).map(Number),ye=Qi;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:se,y:je,width:we,height:Ce,fill:"white"}),x.jsx("rect",{x:0,y:0,width:ye,height:ye,fill:"black"})]})}),x.jsx("rect",{x:se,y:je,width:we,height:Ce,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:Qi,height:Qi,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:Qi,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:Qi,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),v&&(()=>{const se=en,[je,we,Ce,ye]=C.split(/\s+/).map(Number),Tt=Math.max(Ce,ye)/se,Me=[10,20,50,100,200,500,1e3].find(ct=>Tt/ct<=15)??1e3,ht=Math.floor(je/se/Me)*Me-Me,tt=Math.ceil((je+Ce)/se/Me)*Me+Me,rt=Math.floor(we/se/Me)*Me-Me,Oe=Math.ceil((we+ye)/se/Me)*Me+Me,Xe=rt*se,Gn=Oe*se,Lt=ht*se,bn=tt*se,Mt=[];for(let ct=ht;ct<=tt;ct+=Me){const Kt=ct*se;Mt.push(x.jsx("line",{x1:Kt,y1:Xe,x2:Kt,y2:Gn,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${ct}`))}for(let ct=rt;ct<=Oe;ct+=Me){const Kt=ct*se;Mt.push(x.jsx("line",{x1:Lt,y1:Kt,x2:bn,y2:Kt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${ct}`))}return x.jsx("g",{children:Mt})})(),x.jsx(Dm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:N,applyUpdateRef:Ze,clientToSvgPointRef:We,stencilDraggingRef:me,onSelectStencil:c.onSelectStencil}),x.jsx(Nm,{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:Yt,dashSyncToken:q,stageRef:N,multiTouchRef:it.multiTouchRef,clientToSvgPoint:Ae,togglePetalSelection:ve,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:ne,beginScaleDrag:ae,beginRotationDrag:ce,beginWidthScaleDrag:fe,beginRadiusDrag:oe,clickOriginRef:nt,zoneActivatedRef:At,setZoneCursorValue:wt,setTouchZoneIndicator:Un}),x.jsx(Am,{leaves:c.leaves,leafGroups:c.leafGroups,project:r,selection:a,paletteMap:o,dashSyncToken:q,selectedLeafId:c.selectedLeafId,leafGroupHighlightedLeafIds:c.leafGroupHighlightedLeafIds,zoneCursorValue:Yt,stageRef:N,applyUpdateRef:Ze,clientToSvgPointRef:We,leafDraggingRef:Ge,clickOriginRef:nt,zoneActivatedRef:At,setZoneCursorValue:wt,onSelectLeaf:c.onSelectLeaf,onShiftSelectLeaf:c.onShiftSelectLeaf}),x.jsx(Tm,{rect:P}),x.jsx(Lm,{indicator:da})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Yd(c,r,a){return Math.min(a,Math.max(r,c))}function ke({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:o,className:f,...m}){const[p,h]=F.useState(null),d=F.useRef(null),g=F.useCallback(b=>{const N=Number(b);isNaN(N)||r(Yd(N,a,i)),h(null)},[r,a,i]),v=F.useCallback(()=>{h(null)},[]),z=F.useCallback(b=>{const N=o??1,S=(Number(p??c)||0)+N*b,q=Yd(S,a,i),H=String(N).includes(".")?String(N).split(".")[1].length:0,R=Number(q.toFixed(H));h(String(R)),r(R)},[p,c,o,a,i,r]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:p??String(c),onChange:b=>h(b.target.value),onFocus:b=>{h(String(c)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{p!==null&&g(p)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),p!==null&&g(p),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),v(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),z(b.key==="ArrowUp"?1:-1))},...m}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),z(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),z(-1)},children:""})]})]})}function ir({title:c,compact:r,children:a}){return x.jsxs("div",{className:r?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),x.jsx("div",{className:"space-y-3",children:a})]})}function Bm({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const f=F.useMemo(()=>{const S=[...c.layers||[]].sort((P,ne)=>P.order-ne.order);if(S.length<2)return{mode:"uniform",step:2};const q=S.map(P=>P.scale??1);if(q.every(P=>Math.abs(P-q[0])<.001))return{mode:"uniform",step:2};const R=S[0],G=S[S.length-1],U=(G.order??1)-(R.order??1);if(U<=0)return{mode:"gradual",step:2};const E=((R.scale??1)-(G.scale??1))/U,I=Math.round(E*r*2)/2;return{mode:"gradual",step:Se(I,0,10)}},[c.id]),[m,p]=F.useState(f.mode),[h,d]=F.useState(f.step),[g,v]=F.useState(0);F.useEffect(()=>{p(f.mode),d(f.step),v(0)},[f]);const z=F.useMemo(()=>[...c.layers||[]].sort((S,q)=>S.order-q.order),[c.layers]),b=z[0],N=b?b.order:0,C=F.useMemo(()=>{if(!b)return[];const S=b.scale??1,q=b.radius,H=new Map;for(const P of z){const ne=P.order-N;if(ne===0)H.set(P.id,S);else if(m==="uniform")H.set(P.id,S);else{const V=h/r;H.set(P.id,Se(S-ne*V,.3,3))}}const{length:R}=Ct(r),G=z.length,U=70*Math.PI/180,W=new Map;let E=q;W.set(b.id,q);for(let P=1;P<G;P++){const ne=z[P-1],V=H.get(ne.id)??1,_=R*V;let w;if(a===""){const A=G-1-P,j=G>1?A/(G-1)*U:0;w=_*(30/100)*Math.cos(j)}else w=_/3;E=E-w,W.set(z[P].id,Math.max(2,E))}const I=z.map(P=>{const ne=H.get(P.id)??1,V=Math.round((W.get(P.id)??q)*10)/10,_=Math.round(r*ne*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:ne,effFabricSize:_,effRadius:V}});if(I.length>0){const P=I[I.length-1],ne=R*P.effScale,V=Math.floor(ne*.28*10)/10;P.effRadius>V&&(P.effRadius=V)}return I},[z,b,N,m,h,30,r,a]);return F.useEffect(()=>{g!==0&&(!b||C.length===0||i(S=>{const q=S.flowers.find(R=>R.id===c.id);if(!q)return;for(const R of C){const G=q.layers.find(U=>U.id===R.id);G&&(G.scale=Se(R.effScale,.3,3),G.radius=Se(R.effRadius,2,120))}const H=[...q.layers].sort((R,G)=>G.order-R.order);for(let R=1;R<H.length;R++){const G=H[R-1],U=H[R];U.offsetAngle=Wn(G.petalCount,G.offsetAngle,U.petalCount)}}))},[g]),z.length<2?null:x.jsxs(ir,{title:"",children:[x.jsxs(px,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:S=>{p(S.target.value),v(q=>q+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&x.jsxs(px,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(ke,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:S=>{d(S),v(q=>q+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),C.map(S=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:S.name}),x.jsxs("span",{children:[" ",S.effFabricSize,"mm /  ",Math.round(Fi(S.effRadius,S.effScale,r)),"mm"]})]},S.id))]})]})}const e1="tsumami_recent_colors_v1",qx=10;function qm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const o of i.petalOverrides)o.colorId&&r.add(o.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Mx(){try{const c=localStorage.getItem(e1);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,qx)}}catch{}return[]}function Gm(c){try{localStorage.setItem(e1,JSON.stringify(c.slice(0,qx)))}catch{}}function Rm(c){const r=Mx(),a=[c,...r.filter(i=>i!==c)].slice(0,qx);Gm(a)}function In({palette:c,project:r,selectedColorId:a,onChange:i,size:o="md"}){const[f,m]=F.useState(!1),p=F.useRef(null),[h,d]=F.useState(Mx);F.useEffect(()=>{if(!f)return;const C=S=>{p.current&&!p.current.contains(S.target)&&m(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[f]);const g=F.useMemo(()=>qm(r),[r]),v=F.useMemo(()=>{const C=new Set;C.add(a);for(const S of g)C.add(S);for(const S of h)C.add(S);return c.filter(S=>C.has(S.id))},[c,a,g,h]),z=F.useCallback(C=>{Rm(C),d(Mx()),i(C)},[i]),b=o==="sm"?"h-4 w-4":"h-5 w-5",N=f?c:v;return x.jsx("div",{ref:p,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[N.map(C=>x.jsx("button",{className:`${b} rounded border-2 ${a===C.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:C.hex},title:C.name,"aria-label":`: ${C.name}`,onClick:()=>z(C.id)},C.id)),c.length>v.length&&x.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(C=>!C),title:f?"":"","aria-label":f?"":"",children:x.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function km({project:c,applyUpdate:r,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ml.map(i=>{const o=a.layers.every(f=>f.petalType===i);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(p=>p.id===a.id);if(m)for(const p of m.layers)p.petalType=i}),children:i},i)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Xd.map(i=>{const o=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==i&&r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;m.placementMode=i;const p=m.fabricSquareSize??f.fabricSquareSize;i===""?m.baseDiameter=Pi(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=f.baseDiameter),qh(m.layers,p,i,m.flowerDiameter)},!0)},children:i},i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(ke,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.baseDiameter=i)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[Pi(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(o=>{const f=o.flowers.find(h=>h.id===a.id);if(!f)return;const m=ti(i);for(const h of f.layers)h.petalCount=i,h.widthScale=m;const p=[...f.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<p.length;h++)p[h].offsetAngle=Wn(p[h-1].petalCount,p[h-1].offsetAngle,p[h].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(ke,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);if(!f)return;f.flowerDiameter=i,f.placementMode===""&&(f.baseDiameter=Pi(i));const m=[...f.layers].sort((p,h)=>p.order-h.order);X0(m,f.fabricSquareSize??o.fabricSquareSize,i);for(const p of m){const h=f.layers.find(d=>d.id===p.id);h&&(h.radius=p.radius,h.scale=p.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.widthScale=i})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.rotation=i)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(In,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.colorId=i})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)if(i.target.checked){if(!m.doublePetal){const p=m._doublePetalCache;m.doublePetal=p??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(p=>p.doublePetal.innerSizeReduction))],o=i.length===1?i[0]:null,f=[...new Set(a.layers.map(p=>p.doublePetal.innerColorId??p.colorId))],m=f.length===1?f[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:p=>r(h=>{const d=h.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(g.doublePetal.innerSizeReduction=Se(p,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(In,{palette:c.palette,project:c,selectedColorId:m??"",onChange:p=>r(h=>{const d=h.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(p===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=p)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Yh.map(i=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.type=i,i===""&&!f.center.pepCount&&(f.center.pepCount=12),i===""&&!f.center.color2&&(f.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.size=i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(In,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(In,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color2=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.pepCount=i)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Bm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Om({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:m}){const p=a,h=[...new Set(p.flatMap(v=>v.layers.map(z=>z.petalType)))],d=h.length===1?h[0]:null,g=v=>{r(z=>{for(const b of p){const N=z.flowers.find(C=>C.id===b.id);N&&v(N)}},!0)};return x.jsxs(ir,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[p.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(v=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:v.hex},title:v.name,onClick:()=>g(z=>{for(const b of z.layers)b.colorId=v.id})},v.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:ml.map(v=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(z=>{for(const b of z.layers)b.petalType=v}),children:v},v))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(ke,{min:5,max:24,value:p[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:v=>{const z=ti(v);g(b=>{for(const C of b.layers)C.petalCount=v,C.widthScale=z;const N=[...b.layers].sort((C,S)=>S.order-C.order);for(let C=1;C<N.length;C++)N[C].offsetAngle=Wn(N[C-1].petalCount,N[C-1].offsetAngle,N[C].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:p.map(v=>x.jsxs("div",{children:[v.name," (",v.layers.length,")"]},v.id))}),(()=>{const v=p.map(S=>xa(c,S.id)),z=p.filter(S=>!xa(c,S.id)).map(S=>S.id),b=[...new Set(v.filter(Boolean).map(S=>S.id))],N=z.length===p.length,C=b.length===1&&v.every(S=>S!=null);return x.jsxs(x.Fragment,{children:[N&&p.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(p.map(S=>S.id)),children:""}),C&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&z.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],z),children:[" (+",z.length,")"]}),b.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(b,z),children:[" (",b.length,"",z.length>0?` +${z.length}`:"",")"]})]})})()]})}function Hm({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:o,onUngroupFlowers:f}){const m=i.find(v=>v.id===o);if(!m)return null;const p=a,h=[...new Set(p.flatMap(v=>v.layers.map(z=>z.petalType)))],d=h.length===1?h[0]:null,g=v=>{r(z=>{for(const b of p){const N=z.flowers.find(C=>C.id===b.id);N&&v(N)}},!0)};return x.jsxs(ir,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:m.name,onChange:v=>r(z=>{const b=(z.groups??[]).find(N=>N.id===m.id);b&&(b.name=v.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[p.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(v=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:v.hex},title:v.name,onClick:()=>g(z=>{for(const b of z.layers)b.colorId=v.id})},v.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:ml.map(v=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(z=>{for(const b of z.layers)b.petalType=v}),children:v},v))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(ke,{min:5,max:24,value:p[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:v=>{const z=ti(v);g(b=>{for(const C of b.layers)C.petalCount=v,C.widthScale=z;const N=[...b.layers].sort((C,S)=>S.order-C.order);for(let C=1;C<N.length;C++)N[C].offsetAngle=Wn(N[C-1].petalCount,N[C-1].offsetAngle,N[C].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:p.map(v=>x.jsxs("div",{children:[v.name," (",v.layers.length,")"]},v.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(m.id),children:""})]})}function Ym({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.name=o.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ml.map(o=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.petalType=o)}),children:o},o))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:5,max:24,value:i.petalCount,onChange:o=>{r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);if(p){p.petalCount=o,p.widthScale=ti(o);const h=[...m.layers].sort((d,g)=>g.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=Wn(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(ke,{min:1,max:200,step:.5,value:Math.round(Fi(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.radius=Se(Bh(o,p.scale??1,m.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(ke,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:o=>r(f=>{const m=f.flowers.find(v=>v.id===a.id);if(!m)return;const p=m.layers.find(v=>v.id===i.id);if(!p)return;const h=m.fabricSquareSize??f.fabricSquareSize;p.scale=Se(Math.round(o/h*100)/100,.3,3);const d=[...m.layers].sort((v,z)=>v.order-z.order),g=d.findIndex(v=>v.id===p.id);if(g>=0)for(let v=g-1;v>=0;v--){const z=d[v],b=d[v+1],C=Ct(h).length*(b.scale??1)/3;z.radius=Math.round((b.radius+C)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.scale=o)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.widthScale=o)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{value:Number(i.offsetAngle??0).toFixed(1),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.offsetAngle=o)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(In,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.colorId=o)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);if(p)if(o.target.checked){const h=p._doublePetalCache;p.doublePetal=h??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p?.doublePetal&&(p.doublePetal.innerSizeReduction=Se(o,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(In,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p?.doublePetal&&(o===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=o)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.visible=o.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const p=m.layers.find(h=>h.id===i.id);p&&(p.locked=o.target.checked)})}),""]})]})]})]})}function Im({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const o=i,f=o.map(S=>{const q=a.layers.find(H=>H.id===S.layerId);return{...S,layer:q}}).filter(S=>S.layer!=null),m=(S,q)=>{const H=a.layers.find(G=>G.id===S);return H?(H?.petalOverrides?.find(G=>G.index===q)??null)?.colorId??H.colorId:null},p=(S,q)=>{const H=a.layers.find(G=>G.id===S);return H?(H?.petalOverrides?.find(G=>G.index===q)??null)?.petalType??H.petalType:null},h=f.map(S=>m(S.layerId,S.index)),d=f.map(S=>p(S.layerId,S.index)),g=h.length>0&&h.every(S=>S===h[0]),z=d.length>0&&d.every(S=>S===d[0])?d[0]:null,b=S=>{r(q=>{const H=q.flowers.find(R=>R.id===a.id);if(H)for(const R of o){const G=H.layers.find(W=>W.id===R.layerId);if(!G)continue;G.petalOverrides||(G.petalOverrides=[]);const U=G.petalOverrides.find(W=>W.index===R.index);if(U)S.colorId!==void 0&&(S.colorId===G.colorId?delete U.colorId:U.colorId=S.colorId),S.petalType!==void 0&&(S.petalType===G.petalType?delete U.petalType:U.petalType=S.petalType),!U.colorId&&!U.petalType&&(G.petalOverrides=G.petalOverrides.filter(W=>W.index!==R.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0));else{const W={index:R.index};S.colorId!==void 0&&S.colorId!==G.colorId&&(W.colorId=S.colorId),S.petalType!==void 0&&S.petalType!==G.petalType&&(W.petalType=S.petalType),(W.colorId!==void 0||W.petalType!==void 0)&&G.petalOverrides.push(W)}}},!0)},N=()=>{r(S=>{const q=S.flowers.find(H=>H.id===a.id);if(q)for(const H of o){const R=q.layers.find(G=>G.id===H.layerId);!R||!R.petalOverrides||(R.petalOverrides=R.petalOverrides.filter(G=>G.index!==H.index),R.petalOverrides.length===0&&(R.petalOverrides=void 0))}},!0)},C=f.some(S=>S.layer?.petalOverrides?.find(q=>q.index===S.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",C&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(S=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${g&&h[0]===S.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>b({colorId:S.id})},S.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:ml.map(S=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${z===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:S}),children:S},S))})]}),C&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:N,children:""})]})]})}function Um({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:o}){const f=i?.petalOverrides?.find(v=>v.index===o)??null,m=f?.colorId??i.colorId,p=f?.petalType??i.petalType,h=f!=null,d=v=>{r(z=>{const b=z.flowers.find(S=>S.id===a.id);if(!b)return;const N=b.layers.find(S=>S.id===i.id);if(!N)return;N.petalOverrides||(N.petalOverrides=[]);const C=N.petalOverrides.find(S=>S.index===o);if(C)v.colorId!==void 0&&(C.colorId=v.colorId),v.petalType!==void 0&&(C.petalType=v.petalType),v.innerColorId!==void 0&&(C.innerColorId=v.innerColorId),v.innerSizeReduction!==void 0&&(C.innerSizeReduction=v.innerSizeReduction),C.colorId!==void 0||C.petalType!==void 0||C.innerColorId!==void 0||C.innerSizeReduction!==void 0?(C.colorId===void 0&&delete C.colorId,C.petalType===void 0&&delete C.petalType,C.innerColorId===void 0&&delete C.innerColorId,C.innerSizeReduction===void 0&&delete C.innerSizeReduction):(N.petalOverrides=N.petalOverrides.filter(q=>q.index!==o),N.petalOverrides.length===0&&(N.petalOverrides=void 0));else{const S={index:o};v.colorId!==void 0&&(S.colorId=v.colorId),v.petalType!==void 0&&(S.petalType=v.petalType),v.innerColorId!==void 0&&(S.innerColorId=v.innerColorId),v.innerSizeReduction!==void 0&&(S.innerSizeReduction=v.innerSizeReduction),(S.colorId!==void 0||S.petalType!==void 0||S.innerColorId!==void 0||S.innerSizeReduction!==void 0)&&N.petalOverrides.push(S)}},!0)},g=()=>{r(v=>{const z=v.flowers.find(N=>N.id===a.id);if(!z)return;const b=z.layers.find(N=>N.id===i.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(N=>N.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",o+1,h&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(In,{palette:c.palette,project:c,selectedColorId:m,onChange:v=>{v===i.colorId?d({colorId:void 0}):d({colorId:v})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:ml.map(v=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{v===i.petalType?d({petalType:void 0}):d({petalType:v})},children:v},v))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:v=>r(z=>{const b=z.flowers.find(C=>C.id===a.id);if(!b)return;const N=b.layers.find(C=>C.id===i.id);if(N)if(v.target.checked){const C=N._doublePetalCache;N.doublePetal=C??{innerSizeReduction:2},delete N._doublePetalCache}else N.doublePetal&&(N._doublePetalCache={...N.doublePetal}),delete N.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const v=i.doublePetal,z=f?.innerSizeReduction??v.innerSizeReduction,b=f?.innerColorId??v.innerColorId??m;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(ke,{min:1,max:30,step:1,value:z,onChange:N=>{const C=Se(N,1,30);C===v.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:C})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(In,{palette:c.palette,project:c,selectedColorId:b,size:"sm",onChange:N=>{const C=v.innerColorId??i.colorId;d(N===C?{innerColorId:void 0}:{innerColorId:N})}})]})]})})(),h&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:g,children:""})]})]})}function Km({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const o=a,f=m=>{r(p=>{const h=(p.stencils??[]).find(d=>d.id===o.id);h&&Object.assign(h,m)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:m=>f({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>x.jsx("option",{value:m,children:Fd[m]},m))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:m=>f({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>x.jsx("option",{value:m,children:$d[m]},m))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:m=>f({locked:m.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Zm({project:c,applyUpdate:r,selectedLeaf:a,leafGroups:i,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:m}){const p=a,h=g=>{r(v=>{const z=(v.leaves??[]).find(b=>b.id===p.id);z&&g(z)},!0)},d=Z0(c,p.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:p.name,onChange:g=>h(v=>{v.name=g.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ml.map(g=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p.petalType===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(v=>{v.petalType=g}),children:g},g))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(In,{palette:c.palette,project:c,selectedColorId:p.colorId,onChange:g=>h(v=>{v.colorId=g})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(ke,{min:3,max:80,step:.5,value:Math.round((p.fabricSquareSize??c.fabricSquareSize)*(p.scale??1)*10)/10,onChange:g=>h(v=>{const z=v.fabricSquareSize??c.fabricSquareSize;v.scale=Se(Math.round(g/z*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:.4,max:2.5,step:.05,value:Number(p.scale??1).toFixed(2),onChange:g=>h(v=>{v.scale=g})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:.5,max:1.8,step:.05,value:Number(p.widthScale??1).toFixed(2),onChange:g=>h(v=>{v.widthScale=g})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(ke,{value:Number(p.rotation).toFixed(1),onChange:g=>h(v=>{v.rotation=g})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.doublePetal,onChange:g=>h(v=>{if(g.target.checked){const z=v._doublePetalCache;v.doublePetal=z??{innerSizeReduction:2},delete v._doublePetalCache}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),p.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{min:1,max:30,step:1,value:p.doublePetal.innerSizeReduction,onChange:g=>h(v=>{v.doublePetal&&(v.doublePetal.innerSizeReduction=Se(g,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(In,{palette:c.palette,project:c,selectedColorId:p.doublePetal.innerColorId??p.colorId,onChange:g=>h(v=>{v.doublePetal&&(g===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=g)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.visible,onChange:g=>h(v=>{v.visible=g.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.locked,onChange:g=>h(v=>{v.locked=g.target.checked})}),""]})]}),d?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(p.id),children:""})]}):i.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:g=>{g.target.value&&f(p.id,g.target.value)},children:[x.jsx("option",{value:"",children:"..."}),i.map(g=>x.jsx("option",{value:g.id,children:g.name},g.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(p.id),children:""})]})]})}function Xm({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i}){const o=(c.leaves??[]).filter(f=>a.includes(f.id));return o.length===0?null:x.jsxs(ir,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[o.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(In,{palette:c.palette,project:c,selectedColorId:"",onChange:f=>r(m=>{for(const p of a){const h=(m.leaves??[]).find(d=>d.id===p);h&&(h.colorId=f)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ml.map(f=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(m=>{for(const p of a){const h=(m.leaves??[]).find(d=>d.id===p);h&&(h.petalType=f)}},!0),children:f},f))}),a.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""})]})}function Jm({project:c,applyUpdate:r,selectedLeafGroup:a,onUngroupLeaves:i}){const o=a,f=(c.leaves??[]).filter(m=>o.leafIds.includes(m.id));return x.jsxs(ir,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:m=>r(p=>{const h=(p.leafGroups??[]).find(d=>d.id===o.id);h&&(h.name=m.target.value)})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(ke,{value:Number(o.rotation).toFixed(1),onChange:m=>r(p=>{const h=(p.leafGroups??[]).find(d=>d.id===o.id);h&&(h.rotation=m)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:m=>r(p=>{const h=(p.leafGroups??[]).find(d=>d.id===o.id);h&&(m.target.value?h.linkedFlowerGroupId=m.target.value:delete h.linkedFlowerGroupId)},!0),children:[x.jsx("option",{value:"",children:""}),(c.groups??[]).map(m=>x.jsx("option",{value:m.id,children:m.name},m.id))]})]}),x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),x.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(m=>x.jsx("div",{children:m.name},m.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>i(o.id),children:""})]})}function Vm(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:o,selectedFlowers:f,selectedLayer:m,selectedPetalIndex:p,selectedPetals:h}=c;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:d=>i(g=>g.title=d.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{value:r.fabricSquareSize,min:5,max:60,onChange:d=>i(g=>g.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{value:r.baseDiameter,min:10,max:100,onChange:d=>i(g=>g.baseDiameter=d),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Il(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",Il(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:d=>i(g=>g.notes=d.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(d=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&o&&x.jsx(km,{project:r,applyUpdate:i,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&x.jsx(Om,{project:r,applyUpdate:i,selectedFlowers:f,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&f.length>0&&x.jsx(Hm,{project:r,applyUpdate:i,selectedFlowers:f,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers}),a.kind==="layer"&&o&&m&&x.jsx(Ym,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:m}),a.kind==="petals"&&o&&h.length>0&&x.jsx(Im,{project:r,applyUpdate:i,selectedFlower:o,selectedPetals:h}),a.kind==="petal"&&o&&m&&p!==null&&x.jsx(Um,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:m,selectedPetalIndex:p}),a.kind==="stencil"&&c.selectedStencil&&x.jsx(Km,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&x.jsx(Zm,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,leafGroups:c.leafGroups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Xm,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves}),a.kind==="leafGroup"&&c.selectedLeafGroup&&x.jsx(Jm,{project:r,applyUpdate:i,selectedLeafGroup:c.selectedLeafGroup,onUngroupLeaves:c.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Wm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Il(c.baseDiameter,c.fabricSquareSize,r).diameter:tr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function Qm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Ah(c.flowerDiameter,c.baseDiameter,r):Nh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function Pm({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:o}){const f=h=>{a(d=>{const g={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(g.baseDiameter=30,g.fabricSquareSize=20,g.layerCount=4,g.petalCount=12):(g.fabricSquareSize=20,g.layerCount=1,g.petalCount=6)),g.flowerDiameter=Wm(g),g})},m=h=>{a(d=>{const g={...d,flowerDiameter:h};return g.fabricSquareSize=Qm(g),g})},p=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&p.push("");const h=Th(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>h&&p.push(`${h}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Xd.map(h=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:h}),children:h},h))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:h=>f({fabricSquareSize:h})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:h=>f({layerCount:h})})]})]}),r.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:h=>f({baseDiameter:h})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:m})]})]}),p.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:p.map((h,d)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(h=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:ml.map(h=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),r.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:h=>f({sizeStepMm:h})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}const J0=Ln;(function(c,r){const a=Ln,i=c();for(;;)try{if(-parseInt(a(279))/1*(-parseInt(a(285))/2)+parseInt(a(275))/3*(-parseInt(a(306))/4)+-parseInt(a(278))/5+parseInt(a(293))/6+-parseInt(a(292))/7*(parseInt(a(269))/8)+-parseInt(a(312))/9+parseInt(a(318))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,388728);function H0(){const c=["y3vYCMvUDa","mZiXmZaZzNfbBvvZ","Cg9PBNrLCNvW","C2vHCMnO","mJK4nJGWnwT4sfPPEG","mKXzquvnDq","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","vKTuBMq","DM9kC2C","BNvTyMvY","Bwf0y2HLCW","nZq3odG0y092sMTv","Bwf0y2HnzwrPyq","ru9Avu0","z2v0qM91BMrPBMDdBgLLBNrszwn0","C3r5Bgu","C3rHCNrxAwr0Ahm","tKfACve","mJu1mJy2mLjpy1zxEa","nJiXmtu2DMLguKDA","ywrKrxzLBNrmAxn0zw5LCG","serQsKW","Cg9PBNrLCM1VDMu","ru9RDgi","y29UC3rYDwn0B3i","Bhbhyvy","CMvTB3zLrxzLBNrmAxn0zw5LCG","kcGOlISPkYKRksSK","y3vYC29Y","A1riBw8","CMLNAhq","z2v0sxrLBq","nhbJvuL4rq","BgvMDa","rLzSC0C","wNfqC20","yM9KEq","EurzrM0","mta5mtK4ofHZsLzkBa","y2HHBMDL","BM9Uzq","BMXbD2i","kg1PBI13Awr0AdOGnZy4ChGP","Dg9tDhjPBMC","mta5mJq0ndbPCMHRqvC","r0nqrgS","CxvuEuC","mtzjvfvpwuO","Bwf4","BwLU","ELHOEhu","C2LKzq"];return H0=function(){return c},H0()}const Fm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),zx=Fm(void 0,function(){const c=Ln,r={FVlsG:c(301)};return zx.toString().search(c(301))[c(317)]()[c(298)](zx)[c(277)](r[c(308)])});zx();const t1=J0(280),n1={left:25,right:25},Dx=15,Nx=15,lr=30;function Ln(c,r){c=c-268;const a=H0();let i=a[c];if(Ln.hAFSbq===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Ln.LKjuxD=o,Ln.pAhasj={},Ln.hAFSbq=!0}const f=a[0],m=c+f,p=Ln.pAhasj[m];if(p)i=p;else{const h=function(d){this.ShblMd=d,this.LKRAgc=[1,0,0],this.scLMhO=function(){return"newState"},this.biljnn="\\w+ *\\(\\) *{\\w+ *",this.aovGTE=`['|"].+['|"];? *}`};h.prototype.WzwDYG=function(){const d=new RegExp(this.biljnn+this.aovGTE),g=d.test(this.scLMhO.toString())?--this.LKRAgc[1]:--this.LKRAgc[0];return this.ubMzFq(g)},h.prototype.ubMzFq=function(d){return~d?this.btjMdL(this.ShblMd):d},h.prototype.btjMdL=function(d){for(let g=0,v=this.LKRAgc.length;g<v;g++)this.LKRAgc.push(Math.round(Math.random())),v=this.LKRAgc.length;return d(this.LKRAgc[0])},new h(Ln).WzwDYG(),i=Ln.LKjuxD(i),Ln.pAhasj[m]=i}return i}function $m(){const c=J0,r={zXhxu:"number",nlAwb:function(a,i){return a>=i},peCUS:function(a,i){return a>=i},YShrL:function(a,i){return a-i}};try{const a=localStorage[c(305)](t1);if(a){const i=JSON.parse(a);if(typeof i.left===c(283)&&typeof i.right===r[c(272)]&&r[c(315)](i[c(307)],Dx)&&r.peCUS(i[c(304)],Nx)&&r.YShrL(100-i.left,i.right)>=lr)return i}}catch{}return n1}function Id(c,r){const a=J0,i={GCPDk:function(p,h){return p-h},kTHmo:function(p,h){return p-h},yDYFm:function(p,h){return p/h},EOktb:function(p,h){return p*h}};let o=Math.max(Dx,c),f=Math[a(270)](Nx,r);const m=i[a(319)](i[a(303)](100,o),f);if(m<lr){const p=i.GCPDk(lr,m);o-=i[a(311)](p,2),f-=i[a(311)](p,2),o=Math[a(270)](Dx,o),f=Math.max(Nx,f)}return{left:Math.round(i[a(297)](o,100))/100,right:Math.round(i[a(297)](f,100))/100}}function eb(){const c=J0,r={SkpHJ:c(313),HmTQR:function(N,C){return N/C},YSyQd:function(N,C){return N+C},voJsg:function(N,C){return N-C},HkphD:function(N,C){return N(C)},Poudp:c(314),VKTnd:"JcRSp",EgGRA:"rklaD",TyIAO:function(N,C){return N(C)},lpGaV:function(N,C){return N(C)},CrHSh:function(N,C){return N(C)},EOZUM:function(N,C,S){return N(C,S)}},[a,i]=F.useState($m),o=F.useRef(null),f=F.useRef(null),[m,p]=r.TyIAO(F.useState,!1),[h,d]=r[c(299)](F.useState,()=>typeof window<"u"?window[c(286)](c(316))[c(284)]:!0);F.useEffect(()=>{const N=c,C=window.matchMedia(N(316)),S=q=>d(q[N(284)]);return C[N(294)](r.SkpHJ,S),()=>C.removeEventListener(N(313),S)},[]),F.useEffect(()=>{localStorage.setItem(t1,JSON.stringify(a))},[a]);const g=r.CrHSh(F.useRef,a);F.useEffect(()=>{const N=c;g[N(274)]=a},[a]);const v=r.EOZUM(F.useCallback,(N,C)=>{const S=c,q={lYmjD:function(U,W){return U*W},gDDBG:function(U,W){return r.HmTQR(U,W)},xHmhN:function(U,W){return r.YSyQd(U,W)},ZqPsm:function(U,W){return r[Ln(282)](U,W)},WVXEU:function(U,W){return r.HkphD(U,W)},HDjJL:function(U,W){return U(W)},quTyG:S(276),NAZqQ:"pointermove"};C.preventDefault();const H=o[S(274)];if(!H)return;f.current={side:N,startX:C.clientX,startWidths:{...g.current}},p(!0),document[S(310)][S(289)].cursor="col-resize",document[S(310)].style.userSelect=r.Poudp;const R=U=>{const W=S,E=f[W(274)];if(!E)return;const I=H[W(288)]().width;if(I===0)return;const P=U.clientX-E.startX,ne=q.lYmjD(q.gDDBG(P,I),100);if(E[W(273)]===W(307)){const V=q.xHmhN(E.startWidths[W(307)],ne),_=q[W(309)](100,E[W(290)].right)-lr;q.WVXEU(i,Id(Math[W(271)](V,_),E[W(290)].right))}else{const V=q[W(309)](E.startWidths.right,ne),_=q.ZqPsm(100-E[W(290)][W(307)],lr);i(Id(E[W(290)][W(307)],Math[W(271)](V,_)))}},G=()=>{const U=S;f.current=null,q[U(295)](p,!1),document.body.style[U(302)]="",document[U(310)][U(289)].userSelect="",window[U(300)](U(296),R),window[U(300)](q.quTyG,G)};window.addEventListener("pointermove",R),window[S(294)]("pointerup",G),z.current=()=>{const U=S;window.removeEventListener(q[U(291)],R),window[U(300)](q[U(268)],G),f.current=null,q.HDjJL(p,!1),document[U(310)][U(289)].cursor="",document[U(310)].style.userSelect=""}},[]),z=r[c(299)](F.useRef,null);r[c(287)](F.useEffect,()=>{const N=c;return r[N(281)]===r.EgGRA?()=>{_0x5961c9.current?.()}:()=>{z[N(274)]?.()}},[]);const b=r.EOZUM(F.useCallback,()=>{i(n1)},[]);return{widths:a,containerRef:o,onDividerPointerDown:v,onDividerDoubleClick:b,isDragging:m,isDesktop:h}}function Ud({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>r(c,o),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(c,r){const a=Rt,i=c();for(;;)try{if(-parseInt(a(270))/1+parseInt(a(304))/2*(parseInt(a(231))/3)+-parseInt(a(278))/4*(-parseInt(a(361))/5)+parseInt(a(291))/6+-parseInt(a(320))/7*(-parseInt(a(338))/8)+parseInt(a(346))/9*(parseInt(a(264))/10)+-parseInt(a(319))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,726991);const tb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Ax=tb(void 0,function(){const c=Rt,r={pCMgO:c(299)};return Ax.toString().search("(((.+)+)+)+$")[c(244)]().constructor(Ax).search(r.pCMgO)});Ax();function Y0(){const c=["BgvHDMvZ","C29YDa","BgvHzKDYB3vWCW","CxrcshO","CMfKAxvZ","D1fMD2i","Eg5iq2y","zMXVD2vYswq","Dg9tDhjPBMC","z3jVDxbZ","C3rLBMnPBeLK","wKztqNy","AfLNywm","v0zNqMm","CM91BMq","C3rS","q3PmAg4","BK5uD1O","Bgf5","y29SB3jjza","zxzLCNK","Aw5KzxG","A1zqvKC","u2vZu2y","qLDerK0","sKv2we0","C2XPy2u","teXSuve","mtGZmhPltg96sG","yMTpBw4","BgvHzKLKCW","Dw5wDuG","v0vKtxm","Bwf0y2G","mte1otiZoePUsxDrzG","z2DJvuC","AfzWzhe","rLfXAhq","C3rLBMnPBhm","A2LUza","rKD1y1O","Cgv0ywXdB3vUDa","nduZndeZmNjeEfDtua","ze5euK0","uuHWzhq","ChjVAMvJDa","C3fNqK4","yuHZANi","C1LxuLy","r3LItwS","ExjAEhu","CK91C1C","wLHIEge","vKHAwgW","BMjyyxK","mZe1nZyYDhzxvgzY","44kW44oR44o844oxia","B2zMC2v0qw5NBgu","z2X2zhm","y2XKvMO","BgvUz3rO","Dw5PzM9YBq","y25xvuy","kcGOlISPkYKRksSK","zMLSDgvY","Aw5JBhvKzxm","B3jKzxi","zMXVD2vYrgLHBwv0zxi","nZq2wvrjwKn5","C29Tzq","sxPcChC","C2nHBgu","Cvbqs2W","Cgv0ywXZ","B1b0tNy","zMfICMLJu3f1yxjLu2L6zq","ue9Yt2m","C3rLBMnPBa","sejLqMi","Bgf5zxjjza","CwHlrfi","tNjbrLy","Bgf5zxjZ","mJa1mZu0mdvzz05PBKC","mZvcALvMCxG","ywjZ","CgXHy2vTzw50tw9Kzq","z0HJtNK","q3PguvK","BfDlsgy","CMv2zxjZzq","tMjdz3O","u0LZD0m","tLjpre8","vhviyKi","yLDQA20","t0TIEgi","ze5bs0e","BwfW","y0jXzxy","u1bPz2O","z0jlt0S","nJi4mZi4zM1VCfvT","Cgv0ywW","zMLUza","zMXVD2vYCW","AxrduvC","z3jW","qKfHsw0","z3jVDxa","nteZmdLyDevWzfu","Bgf5zxi","zK5ttMS","tgfuBw8","wxzbCNq","v0LRzxa","BgvHzKDYB3vWswq","ChvZAa","5lI444gK44g+44g/","sg50rfO","AKXkyue","Cxn3DeS","zMXVD2vYswrZ","D3DuDfm","y29Sx2DYzwvU","nvr3zwLfrq","Buvbz0K","AgvPz2H0","ALbvB0C","z3zKvhy","CgfSzxr0zq","q09fr3y","s05gv1y","A0jvteG","seTNwui","ota5nK5lwfzXrG","t3v0zxiR","yKLKDw4","AMTdrgy","zMXVD2vY"];return Y0=function(){return c},Y0()}function Rt(c,r){c=c-226;const a=Y0();let i=a[c];if(Rt.xngdox===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Rt.ApzsVf=o,Rt.YGoXpP={},Rt.xngdox=!0}const f=a[0],m=c+f,p=Rt.YGoXpP[m];if(p)i=p;else{const h=function(d){this.nefiht=d,this.PzKwpf=[1,0,0],this.aIpecC=function(){return"newState"},this.Trrihi="\\w+ *\\(\\) *{\\w+ *",this.cbpyqW=`['|"].+['|"];? *}`};h.prototype.STmRmf=function(){const d=new RegExp(this.Trrihi+this.cbpyqW),g=d.test(this.aIpecC.toString())?--this.PzKwpf[1]:--this.PzKwpf[0];return this.vTQIiH(g)},h.prototype.vTQIiH=function(d){return~d?this.bkVySU(this.nefiht):d},h.prototype.bkVySU=function(d){for(let g=0,v=this.PzKwpf.length;g<v;g++)this.PzKwpf.push(Math.round(Math.random())),v=this.PzKwpf.length;return d(this.PzKwpf[0])},new h(Rt).STmRmf(),i=Rt.ApzsVf(i),Rt.YGoXpP[m]=i}return i}function nb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:o,setExpandedGroups:f,zoom:m,pan:p,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:g,ungroupLeaves:v}){const z=Rt,b={iMtAr:function(_,w){return _/w},cldVj:function(_,w){return _*w},NRODO:function(_,w){return _-w},WIkep:function(_,w){return _/w},jxkui:function(_,w){return _*w},SesSf:function(_,w){return _(w)},aHsjr:function(_,w){return _<=w},QHpdt:function(_,w){return _(w)},qswtK:z(235),qPPKl:function(_,w,A,j){return _(w,A,j)},wwTtS:function(_,w){return _>w},GybMk:function(_,w){return _(w)},YvArt:z(254),ZKZUD:z(360),jXzeZ:function(_,w,A,j){return _(w,A,j)},JEvXM:function(_,w,A){return _(w,A)},fNSNk:z(281),NbCgz:function(_,w){return _===w},BWDFM:"bciJt",NrAFV:z(347),cnWUF:function(_,w){return _===w},yrZxu:function(_,w){return _(w)},oPtNv:function(_,w){return _===w},wQfwb:function(_,w){return _(w)},wmVty:"lzToj",xnHCf:function(_,w,A,j,M){return _(w,A,j,M)},ZKuqH:function(_,w,A,j){return _(w,A,j)},CzLhn:function(_,w,A,j){return _(w,A,j)},nNTwZ:function(_,w){return _<w},IzBpw:function(_,w){return _===w},qinzY:z(349),uoLVS:function(_,w){return _!==w},ZFSBv:function(_,w){return _===w},OKbxb:function(_,w){return _===w},kVPVG:"flowers",bkOmn:"group",unVuH:function(_,w,A){return _(w,A)},lWKHf:function(_,w,A){return _(w,A)},koyhV:z(339),jPUoG:z(314),COEGv:function(_,w){return _===w},CJOmA:function(_,w,A){return _(w,A)},WFgBc:function(_,w){return _>w},apXes:function(_,w){return _(w)},TuHbB:function(_,w,A){return _(w,A)},sCNTl:z(355),ACJqT:function(_,w){return _(w)},qhKDR:function(_,w){return _===w},Ebrrq:function(_,w){return _/w},kBULH:"back",gBKOK:"side",NxznP:z(251),hYgac:"stencil",FQqht:function(_,w){return _!==w},uKqWF:z(233),hVpdq:function(_,w){return _===w},Rgxeu:function(_,w){return _===w},izirs:function(_,w){return _(w)},VHZXl:"KNFWV",eBUfP:function(_,w){return _===w},kQMmN:function(_,w){return _!==w},EMWhf:"BAaIm",MYeva:function(_,w){return _!==w},veuTd:z(323),XjFLu:function(_,w){return _(w)},gvdTv:z(309),glvds:function(_,w){return _===w},mAQLd:z(263),zubSx:function(_,w){return _(w)}},N=_=>{const w=z,A=[..._[w(318)]].sort((O,D)=>O[w(302)]-D[w(302)]),j=A[0];if(!j)return 28;const M=_.fabricSquareSize??c.fabricSquareSize,{length:B}=Ct(M),k=B*(j[w(307)]??1);let Y;if(_.placementMode==="")Y=b.iMtAr(k,3);else{const D=b[w(295)](70,Math.PI)/180,L=A[w(296)]+1,Z=b.NRODO(L,1),X=L>1?b.iMtAr(Z,b[w(329)](L,1))*D:0;Y=k*(30/100)*Math.cos(X)}return b.WIkep(Math[w(250)](b.jxkui((j[w(240)]??28)+Y,10)),10)},C=_=>{const w=z;r(A=>{const j=Rt;if(A[j(341)]=(A.flowers||[])[j(300)](M=>M.id!==_),A[j(245)]){for(const M of A[j(245)])M.flowerIds=M.flowerIds[j(300)](B=>B!==_);A[j(245)]=A.groups.filter(M=>M.flowerIds.length>0)}},!0),i({kind:"project"}),b[w(259)](o,A=>{const j={...A||{}};return delete j[_],j})},S=(_,w)=>{const A=z,j=c[A(341)][A(340)](M=>M.id===_);if(j&&b[A(283)]((j[A(318)]||[]).length,1)){C(_);return}r(M=>{const B=A,k=(M.flowers||[]).find(Y=>Y.id===_);k&&(k[B(318)]=(k[B(318)]||[])[B(300)](Y=>Y.id!==w),k.layers.slice().sort((Y,O)=>Y[B(302)]-O[B(302)]).forEach((Y,O)=>Y.order=O+1))},!0),b[A(280)](i,{kind:b[A(357)],flowerId:_})},q=_=>{const w=z,A={vhQbs:function(X,ae,ce,fe){return b[Rt(308)](X,ae,ce,fe)},LjODv:function(X,ae){return X===ae},QXmdL:function(X,ae,ce,fe){return b.qPPKl(X,ae,ce,fe)},sYWRV:function(X,ae){return X<ae},CVNdq:function(X,ae){return b.NRODO(X,ae)}},j=c.flowers.find(X=>X.id===_);if(!j)return;const M=[...j.layers].sort((X,ae)=>X.order-ae.order),B=M[0],k=Se(B?.petalCount??6,5,24),Y=M[w(334)](X=>X[w(307)]??1),O=Y.length<2||Y[w(256)](X=>Math[w(321)](X-Y[0])<.001);let D=B?.[w(307)]??1;if(!O&&M[w(296)]>=2){const X=M[b.NRODO(M[w(296)],1)],ae=b.NRODO(X.order??1,B.order??1);if(b[w(359)](ae,0)){const ce=((B.scale??1)-(X[w(307)]??1))/ae;D=Se((B.scale??1)+ce,.3,3)}}const L=b[w(285)](N,j),Z={id:kt(b[w(350)]),name:w(232),order:1,petalType:B?.petalType??w(354),petalCount:k,radius:L,scale:D,widthScale:b[w(259)](ti,k),offsetAngle:B?.offsetAngle??0,colorId:B?.[w(255)]??c[w(226)]?.[0]?.id??b.ZKZUD,visible:!0,locked:!1};B&&(Z[w(293)]=b.jXzeZ(Wn,B.petalCount,B[w(293)]??0,k)),b[w(261)](r,X=>{const ae=w,ce=X.flowers[ae(340)](Ge=>Ge.id===_);if(!ce)return;ce[ae(318)].forEach(Ge=>Ge.order+=1),ce[ae(318)].unshift(Z);const fe=Math.round(A.vhQbs(Fi,Z.radius,Z.scale,ce[ae(311)]??X[ae(311)])),oe=ce.fabricSquareSize??X.fabricSquareSize,ve=A.LjODv(ce[ae(322)],"")?tr(oe,ce[ae(318)][ae(296)],ae(297),0):A.QXmdL(Il,ce.baseDiameter??X.baseDiameter,oe,{layerCount:ce.layers.length}).diameter;ce.flowerDiameter=Math.max(ce.flowerDiameter||ve,fe);const Ae=[...ce.layers].sort((Ge,Ze)=>Ge.order-Ze.order),me=Ae.reverse();for(let Ge=1;A[ae(284)](Ge,me[ae(296)]);Ge++){const Ze=me[A.CVNdq(Ge,1)],We=me[Ge];We[ae(293)]=Wn(Ze.petalCount,Ze.offsetAngle,We.petalCount)}},!0),b.QHpdt(i,{kind:"layer",flowerId:_,layerId:Z.id}),o(X=>({...X,[_]:!0}))},H=_=>{const w=z,A={dNDRM:b.fNSNk,mEAgI:function(k,Y){return b.NbCgz(k,Y)},jLJaA:w(328),KcAAL:b[w(260)],ZXbxa:function(k,Y){return k>Y},dSrUG:function(k,Y,O,D){return k(Y,O,D)}},j=c[w(341)].find(k=>k.id===_);if(!j||!j[w(318)]||j.layers.length===0)return;if(j[w(318)].length<=1){if(w(331)!=="IHzuc"){C(_);return}else if(_0x184967.leaves=(_0x444ed6[w(236)]??[]).filter(k=>!_0x1dc457[w(301)](k.id)),_0x39d151.leafGroups){for(const k of _0x490a6b.leafGroups)k.leafIds=k[w(266)][w(300)](Y=>!_0x4e3ba5[w(301)](Y));_0x52c7f7.leafGroups=_0x139c20[w(238)][w(300)](k=>k[w(266)].length>0)}}const M=[...j[w(318)]].sort((k,Y)=>k.order-Y.order),B=M[0];B&&(r(k=>{const Y=w,O={ROEdZ:function(D,L,Z){return D(L,Z)},dNAKA:A[Y(279)]};if(A[Y(362)](A[Y(356)],A.KcAAL)){const D=_0x5e40c4.flowerIds;O.ROEdZ(_0x1cbbc2,L=>{const Z=Y;if(L[Z(341)]=L.flowers.filter(X=>!D[Z(301)](X.id)),L.groups){for(const X of L[Z(245)])X.flowerIds=X[Z(358)][Z(300)](ae=>!D.includes(ae));L[Z(245)]=L[Z(245)][Z(300)](X=>X.flowerIds.length>0)}},!0),_0x5241aa({kind:O[Y(333)]});return}else{const D=k.flowers[Y(340)](X=>X.id===_);if(!D)return;D.layers=D.layers[Y(300)](X=>X.id!==B.id),D[Y(318)].slice()[Y(237)]((X,ae)=>X.order-ae[Y(302)]).forEach((X,ae)=>X.order=ae+1);const L=[...D[Y(318)]].sort((X,ae)=>X[Y(302)]-ae[Y(302)]),Z=D[Y(311)]??k.fabricSquareSize;if(A[Y(288)](L[Y(296)],0)){dx(L,Z);for(const ce of L){const fe=D[Y(318)][Y(340)](oe=>oe.id===ce.id);fe&&(fe[Y(240)]=ce.radius)}const X=L[0];D.flowerDiameter=Math[Y(250)](A.dSrUG(Fi,X.radius,X[Y(307)]??1,Z));const ae=[...L][Y(326)]();for(let ce=1;ce<ae[Y(296)];ce++){const fe=ae[ce-1],oe=ae[ce];oe[Y(293)]=Wn(fe[Y(277)],fe.offsetAngle,oe[Y(277)])}}}},!0),b[w(327)](a[w(275)],b[w(317)])&&b[w(298)](a[w(315)],B.id)?b.yrZxu(i,{kind:b[w(357)],flowerId:_}):b[w(310)](a[w(275)],w(339))&&b[w(310)](a.layerId,B.id)&&b[w(241)](i,{kind:"flower",flowerId:_}))},R=()=>{const _=z,w={CzFQY:function(A,j){return b[Rt(359)](A,j)},HKgYB:function(A,j){return b.IzBpw(A,j)},UTiFl:"YcsAw",STJZv:b.qinzY,djEaB:function(A,j){return b.uoLVS(A,j)},wiIwK:"UMqUX",jkCDf:"stencil",KVysN:function(A,j){return A===j},SPigj:function(A,j){return A(j)}};if(b[_(247)](_(342),_(268))){const A=_0x45d537[_0x6c576[_(296)]-1],j=(A[_(302)]??1)-(_0x287f0b[_(302)]??1);if(kOXLNK[_(324)](j,0)){const M=((_0x2961a4.scale??1)-(A[_(307)]??1))/j;_0x58cddb=_0x4090d7((_0x184277[_(307)]??1)+M,.3,3)}}else{if(a.kind==="project")return;if(b[_(298)](a.kind,"leaf")){g(a.leafId);return}if(b[_(306)](a[_(275)],"leafGroup")){v(a[_(352)]);return}if(a[_(275)]==="leaves"){const A=a.leafIds;r(j=>{const M=_;if(j[M(236)]=(j[M(236)]??[])[M(300)](B=>!A.includes(B.id)),j.leafGroups){for(const B of j.leafGroups)M(239)===M(287)?(_0x524b80[M(274)]||(_0x5b98c9[M(274)]=[]),_0x2cff85.stencils[M(353)](_0x17d02f)):B.leafIds=B[M(266)][M(300)](k=>!A.includes(k));j.leafGroups=j[M(238)].filter(B=>B[M(266)][M(296)]>0)}},!0),i({kind:"project"});return}if(b.OKbxb(a[_(275)],b.kVPVG)){const A=a[_(358)];r(j=>{const M=_;if(w[M(230)](M(290),w.UTiFl))_0x57b011.stencils=(_0x291f4c[M(274)]??[])[M(300)](B=>B.id!==_0x49b706[M(246)]);else if(j[M(341)]=j.flowers[M(300)](B=>!A[M(301)](B.id)),j.groups)if(w.STJZv==="pPCdA")_0x722d03[M(358)]=_0x78831.flowerIds[M(300)](B=>!_0x5b46c5[M(301)](B));else{for(const B of j.groups)w.djEaB(w.wiIwK,"fPbQj")?B.flowerIds=B.flowerIds[M(300)](k=>!A.includes(k)):_0x5c6e85.flowerIds=_0x33955b[M(358)][M(300)](k=>k!==_0x2742e9);j.groups=j[M(245)][M(300)](B=>B[M(358)].length>0)}},!0),b.GybMk(i,{kind:"project"});return}if(a[_(275)]===b[_(265)]){b[_(267)](r,A=>{const j=_;A.groups&&(A.groups=A.groups[j(300)](M=>M.id!==a.groupId))},!0),b.SesSf(i,{kind:_(281)});return}if(b[_(298)](a.kind,_(313))){b[_(325)](r,A=>{const j=_;A.stencils=(A.stencils??[])[j(300)](M=>M.id!==a[j(246)])},!0),i({kind:b.fNSNk});return}if(a[_(275)]==="petals"){i({kind:b.qswtK,flowerId:a.flowerId});return}if(a[_(275)]===b.qswtK){r(A=>{const j=_;if(A.flowers=A[j(341)][j(300)](M=>M.id!==a.flowerId),A.groups){for(const M of A[j(245)])b.wmVty!=="lzToj"?(_0x44181a(B=>{const k=j;B[k(274)]=(B.stencils??[]).filter(Y=>Y.id!==_0x166548)},!0),w[j(230)](_0x4be50c[j(275)],w[j(234)])&&w.KVysN(_0x1cd10a[j(246)],_0xef7839)&&_0x1132e6({kind:"project"})):M[j(358)]=M[j(358)][j(300)](B=>B!==a.flowerId);A.groups=A[j(245)][j(300)](M=>M[j(358)].length>0)}},!0),b.yrZxu(i,{kind:b.fNSNk});return}if(a.kind==="layer"||b[_(332)](a.kind,b.koyhV))if(b[_(364)]===b.jPUoG){const A=c.flowers.find(M=>M.id===a.flowerId),j=A?b[_(227)]([...A[_(318)]].sort((M,B)=>M.order-B[_(302)])[0]?.id,a[_(315)]):!1;b.CJOmA(r,M=>{const B=_,k=M.flowers.find(Y=>Y.id===a[B(243)]);if(k&&(k[B(318)]=k[B(318)].filter(Y=>Y.id!==a.layerId),k[B(318)][B(262)]().sort((Y,O)=>Y.order-O.order).forEach((Y,O)=>Y.order=O+1),k.layers[B(296)]>0)){const Y=[...k.layers][B(237)]((L,Z)=>L[B(302)]-Z[B(302)]),O=k.fabricSquareSize??M.fabricSquareSize;dx(Y,O);for(const L of Y){const Z=k[B(318)][B(340)](X=>X.id===L.id);Z&&(Z.radius=L[B(240)])}if(j){const L=Y[0];k[B(303)]=Math.round(Fi(L.radius,L.scale??1,O))}else{const L=b.NbCgz(k.placementMode,"")?b[B(242)](tr,O,k.layers.length,B(297),0):b.ZKuqH(Il,k.baseDiameter??M.baseDiameter,O,{layerCount:k.layers.length}).diameter;b[B(252)](X0,Y,O,k[B(303)]||L);for(const Z of Y){const X=k[B(318)][B(340)](ae=>ae.id===Z.id);X&&(X.radius=Z[B(240)],X.scale=Z[B(307)])}}const D=[...Y][B(326)]();for(let L=1;b[B(253)](L,D.length);L++){const Z=D[L-1],X=D[L];X[B(293)]=Wn(Z[B(277)],Z[B(293)],X.petalCount)}}},!0),b[_(280)](i,{kind:b[_(357)],flowerId:a[_(243)]})}else{kOXLNK[_(336)](_0x3b1a6e,_0x5dd8cd);return}}},G=F.useCallback(_=>{const w=z,A=b.apXes(kt,"grp");b[w(330)](r,j=>{const M=w;j.groups||(j.groups=[]);const B=j.groups.map(Y=>{const O=Rt,D=Y.name[O(269)](/^ (\d+)$/);return D?parseInt(D[1],10):0}),k=b.WFgBc(B.length,0)?Math.max(...B)+1:1;j.groups[M(353)]({id:A,name:" "+k,flowerIds:[..._]})},!0),i({kind:b.bkOmn,groupId:A}),f(j=>({...j,[A]:!0}))},[r,i,f]),U=F.useCallback(_=>{const w=z;if(b[w(327)]("wfrbi",b.sCNTl)){_0x2579e4(_0x1ca11f.leafId);return}else r(A=>{const j=w;A[j(245)]&&(A[j(245)]=A[j(245)].filter(M=>M.id!==_))},!0),b.ACJqT(i,{kind:b[w(348)]})},[r,i]),W=b[z(267)](F.useCallback,(_,w)=>{const A=z;r(j=>{const M=Rt,B={fCuql:function(Y,O){return Y(O)}},k=(j.groups??[]).find(Y=>Y.id===_);if(k)for(const Y of w)b[M(316)]("UGxwu","inNea")?B.fCuql(_0x40f0a8,{kind:"flower",flowerId:_0x197ac9[0]}):k[M(358)][M(301)](Y)||k[M(358)][M(353)](Y)},!0),i({kind:b[A(265)],groupId:_})},[r,i]),E=b.lWKHf(F.useCallback,(_,w)=>{const A=z,j=_[0],M=_[A(262)](1);r(B=>{const k=A;if(!B[k(245)])return;const Y=B[k(245)][k(340)](O=>O.id===j);if(Y){for(const O of M){const D=B[k(245)].find(L=>L.id===O);if(D)for(const L of D.flowerIds)Y[k(358)][k(301)](L)||Y.flowerIds[k(353)](L)}for(const O of w)Y[k(358)].includes(O)||Y[k(358)].push(O);B[k(245)]=B[k(245)].filter(O=>!M.includes(O.id))}},!0),i({kind:A(345),groupId:j}),f(B=>({...B,[j]:!0}))},[r,i,f]),I=(_,w)=>{const A=z,j=h.w/h.h,M=b[A(351)](520,m),B=M*j,k=b[A(351)](-p.x,m),Y=b.Ebrrq(-p.y,m),O=k+B/2,D=Y+M/2,L=b.NbCgz(w,"back")?b[A(229)]:b[A(337)],Z=Pd[_][L][A(363)]*en,X=Se(O,0,d),ae=b.jXzeZ(Se,D-b[A(351)](Z,2),0,d),ce={id:b.ACJqT(kt,b.NxznP),variant:_,pose:w,position:{x:X,y:ae}};r(fe=>{const oe=A;fe[oe(274)]||(fe.stencils=[]),fe[oe(274)].push(ce)},!0),i({kind:"stencil",stencilId:ce.id})},P=_=>{const w=z;if(r(A=>{const j=Rt;A.stencils=(A[j(274)]??[])[j(300)](M=>M.id!==_)},!0),b.OKbxb(a.kind,b[w(248)])&&a.stencilId===_)if(b[w(273)](b.uKqWF,b.uKqWF)){if(_0x2328b7.flowers=_0x1560a4.flowers[w(300)](A=>!_0x22a68b[w(301)](A.id)),_0x543435[w(245)]){for(const A of _0x26b7fb[w(245)])A[w(358)]=A.flowerIds[w(300)](j=>!_0x23584b.includes(j));_0x17faa8.groups=_0x381639.groups[w(300)](A=>A.flowerIds[w(296)]>0)}}else b.GybMk(i,{kind:b.fNSNk})},ne=F.useCallback(_=>{const w=z;if(b.COEGv(a[w(275)],b[w(258)])){const A=a[w(358)];if(A[w(301)](_)){const j=A.filter(M=>M!==_);j.length===0?i({kind:b.fNSNk}):b[w(272)](j.length,1)?i({kind:b[w(357)],flowerId:j[0]}):b.yrZxu(i,{kind:b.kVPVG,flowerIds:j})}else b[w(259)](i,{kind:b.kVPVG,flowerIds:[...A,_]})}else if(b.Rgxeu(a.kind,b.qswtK)){if(a[w(243)]===_)return;i({kind:b.kVPVG,flowerIds:[a[w(243)],_]})}else b.izirs(i,{kind:b[w(258)],flowerIds:[_]})},[a,i]);return{deleteFlowerById:C,deleteLayerById:S,computeNewOuterRadius:N,addOuterLayer:q,deleteOuterLayer:H,deleteSelected:R,groupSelectedFlowers:G,ungroupFlowers:U,addToGroup:W,mergeGroups:E,addStencil:I,deleteStencil:P,handleShiftFlowerSelect:ne,togglePetalSelection:(_,w,A,j)=>{const M=z;if(b[M(265)],!j)if(b[M(289)]===M(228)){i({kind:"petal",flowerId:_,layerId:w,index:A});return}else _0x458de3({kind:M(341),flowerIds:_0x3524c0});const B=w+":"+A;if(b.eBUfP(a[M(275)],"petals")&&a.flowerId===_){const k=a[M(309)]||[];if(k[M(305)](O=>O.layerId+":"+O.index===B)){const O=k.filter(D=>D[M(315)]+":"+D.index!==B);if(O.length===0)if(b.kQMmN(M(344),b.EMWhf)){const D=djZJwG[M(312)](_0x1bdc17,M(343));_0x30200e(L=>{const Z=M;L[Z(245)]||(L[Z(245)]=[]);const X=L.groups[Z(334)](ce=>{const fe=ce.name.match(/^ (\d+)$/);return fe?_0x4692dc(fe[1],10):0}),ae=djZJwG[Z(271)](X[Z(296)],0)?_0x3cb1b6.max(...X)+1:1;L.groups[Z(353)]({id:D,name:Z(292)+ae,flowerIds:[..._0x34ac72]})},!0),djZJwG.POrOc(_0x2c00bd,{kind:djZJwG[M(276)],groupId:D}),djZJwG[M(282)](_0x14aa50,L=>({...L,[D]:!0}))}else i({kind:b.qswtK,flowerId:_});else O[M(296)]===1?b.MYeva(b.veuTd,M(335))?b.XjFLu(i,{kind:M(339),flowerId:_,layerId:O[0][M(315)],index:O[0].index}):_0x2068d5.flowerIds[M(301)](_0x5616d6)||_0x3b4bfe.flowerIds.push(_0x311878):b.QHpdt(i,{kind:b[M(365)],flowerId:_,petals:O})}else if(b[M(294)](b.mAQLd,"LLlQQ"))b.zubSx(i,{kind:"petals",flowerId:_,petals:[...k,{layerId:w,index:A}]});else{b[M(330)](_0x558167,O=>{const D=M;O.stencils=(O.stencils??[]).filter(L=>L.id!==_0x1826db[D(246)])},!0),_0x50926c({kind:"project"});return}}else if(a.kind==="petal"&&a[M(243)]===_){const k={layerId:a.layerId,index:a.index},Y={layerId:w,index:A};if(k[M(315)]+":"+k[M(257)]===B)return;i({kind:b.gvdTv,flowerId:_,petals:[k,Y]})}else b.apXes(i,{kind:b[M(365)],flowerId:_,petals:[{layerId:w,index:A}]})}}}(function(c,r){const a=$t,i=c();for(;;)try{if(-parseInt(a(296))/1*(parseInt(a(350))/2)+-parseInt(a(295))/3+parseInt(a(299))/4*(-parseInt(a(330))/5)+-parseInt(a(356))/6*(-parseInt(a(308))/7)+parseInt(a(336))/8*(parseInt(a(349))/9)+parseInt(a(334))/10+parseInt(a(335))/11*(-parseInt(a(305))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,846876);const lb=(function(){const c=$t,r={LTNNN:function(i,o,f,m){return i(o,f,m)},wMGwJ:"leaf",qkCpy:c(310)};let a=!0;return function(i,o){const f=c,m={mwDlT:function(h,d){return h/d},QtsTg:function(h,d,g,v){return r.LTNNN(h,d,g,v)},iVCLq:r[f(302)],PEcAV:function(h,d,g){return h(d,g)},SurdV:function(h,d){return h===d},aJOtk:r.qkCpy},p=a?function(){const h=f,d={XbJpQ:function(g,v){return g*v},FZKCA:function(g,v){return m.mwDlT(g,v)},Phyha:function(g,v){return g+v},XMbwH:function(g,v){return g<v},aIlSR:function(g,v,z,b){return m[$t(337)](g,v,z,b)},eDfHe:m[h(312)],WgPWr:h(324),jgQLc:function(g,v,z){return m.PEcAV(g,v,z)}};if(m[h(311)](m.aJOtk,m[h(320)])){if(o){const g=o[h(300)](i,arguments);return o=null,g}}else{const g=_0xb38f45.w/_0x36701f.h,v=520/_0x398fa6,z=d.XbJpQ(v,g),b=-_0x49f816.x/_0x1f5418,N=-_0x3b00b2.y/_0xf03d6;let C=b+d.FZKCA(z,2),S=d.Phyha(N,v/2),q=0;for(;d[h(301)](q,50)&&(_0x5da5c9.leaves??[]).some(R=>_0x15201d.abs(R[h(304)].x-C)<5&&_0x43e927.abs(R.position.y-S)<5);)C+=25,S+=25,C=d.aIlSR(_0x1f5467,C,0,_0x1b8176),S=d.aIlSR(_0x3f1110,S,0,_0x25aade),q++;const H={id:_0x4a4418(d.eDfHe),name:"Leaf "+((_0x44eb97[h(346)]??[])[h(307)]+1),position:{x:C,y:S},rotation:135,petalType:d[h(352)],colorId:_0x456057.palette?.find(R=>R.id===h(319)||R.id==="col_darkgreen")?.id??_0x52cd6e[h(321)]?.[0]?.id??h(319),scale:1,widthScale:1,visible:!0,locked:!1};d.jgQLc(_0x898006,R=>{const G=h;R.leaves||(R.leaves=[]),R.leaves[G(340)](H)},!0),_0x1fd69b({kind:d.eDfHe,leafId:H.id})}}:function(){};return a=!1,p}})(),Tx=lb(void 0,function(){const c=$t,r={yKBha:c(325)};return Tx[c(317)]().search(r.yKBha).toString().constructor(Tx)[c(328)]("(((.+)+)+)+$")});function $t(c,r){c=c-295;const a=I0();let i=a[c];if($t.EIdFfC===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};$t.pvJmIX=o,$t.sdKLws={},$t.EIdFfC=!0}const f=a[0],m=c+f,p=$t.sdKLws[m];if(p)i=p;else{const h=function(d){this.tKczSn=d,this.dHjrFa=[1,0,0],this.wpbdnX=function(){return"newState"},this.MDfOob="\\w+ *\\(\\) *{\\w+ *",this.DTiuFo=`['|"].+['|"];? *}`};h.prototype.aGsOrH=function(){const d=new RegExp(this.MDfOob+this.DTiuFo),g=d.test(this.wpbdnX.toString())?--this.dHjrFa[1]:--this.dHjrFa[0];return this.nipnvo(g)},h.prototype.nipnvo=function(d){return~d?this.YOjpcz(this.tKczSn):d},h.prototype.YOjpcz=function(d){for(let g=0,v=this.dHjrFa.length;g<v;g++)this.dHjrFa.push(Math.round(Math.random())),v=this.dHjrFa.length;return d(this.dHjrFa[0])},new h($t).aGsOrH(),i=$t.pvJmIX(i),$t.sdKLws[m]=i}return i}Tx();function I0(){const c=["mtiWs0PbvgLe","s1LdtuG","BgvUz3rO","nJm2m3rouhfSwa","B1beAeq","DvDMv1O","u3vYzfy","Avzdthe","zw5ADgq","ChjVAMvJDa","6jgj44kW44oR44o844oxia","C29Tzq","Dg9tDhjPBMC","zMLUza","y29Sx2DYzwvU","yuPpDgS","CgfSzxr0zq","vMTJr1C","BgvHzG","5yMJ44gK44g+44g/","kcGOlISPkYKRksSK","uevmyuC","BgvHzKDYB3vWCW","C2vHCMnO","sLP1u3O","mZK4ndvHuuDtBuC","tgnnqNa","zKfysMe","BNfwELm","mtuWnZe1otbfBg5kEMu","mZK3mtbWA3LSDfe","mtzmrwPZD3G","uxrZvgC","BNfbrKG","r1DKD2m","ChvZAa","Aw5JBhvKzxm","tgvHzIa","t3z3s0S","BKL6ANu","A2LUza","BgvHDMvZ","CuPTDMu","y3HAruC","ntm0odG0nhjAEwDkEG","odq3mZuYv3nfEePn","BgvHzKLKCW","v2Dqv3i","BgvHzKLK","m3WXFdb8nhWY","zMLSDgvY","nJKYngflqKjeCW","mZa1odKYourIv0Dbza","mvfXAfzIEG","y29Sx2rHCMTNCMvLBG","sfDMCwO","nZeYvePdwhbN","yxbWBhK","we1ID0G","D01hD0O","Auvpy24","Cg9ZAxrPB24"];return I0=function(){return c},I0()}function ab({project:c,applyUpdate:r,selection:a,setSelection:i,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:p}){const h=$t,d={nRoTx:function(q,H){return q/H},KRipO:function(q,H){return q+H},oCQmN:function(q,H){return q/H},QljJx:function(q,H,R,G){return q(H,R,G)},enZtd:function(q,H){return q(H)},DCFwt:h(324),HPbcn:h(319),QOFpf:function(q,H,R){return q(H,R)},dYBRL:function(q,H){return q!==H},JAQZI:"mQweM",VkcGW:function(q,H,R){return q(H,R)},KYCMH:"project",YBPmF:"leaves",KctCy:function(q,H){return q===H},KxMzB:function(q,H){return q===H},vvzyo:function(q,H){return q(H)},yTwXo:function(q,H){return q+H},LcMBp:function(q,H,R){return q(H,R)},deLzR:"leafGroup",ASkIi:h(333),cxZEG:function(q,H,R){return q(H,R)},nqAFH:function(q,H){return q!==H},nBsuK:h(298),qwjWV:function(q,H,R){return q(H,R)}},g=()=>{const q=h,H=m.w/m.h,R=d.nRoTx(520,o),G=R*H,U=d.nRoTx(-f.x,o),W=-f.y/o;let E=U+G/2,I=d.KRipO(W,d.oCQmN(R,2)),P=0;for(;P<50&&(c[q(346)]??[])[q(316)](V=>Math.abs(V.position.x-E)<5&&Math.abs(V[q(304)].y-I)<5);){const V=q(354).split("|");let _=0;for(;;){switch(V[_++]){case"0":E=Se(E,0,p);continue;case"1":I+=25;continue;case"2":P++;continue;case"3":E+=25;continue;case"4":I=d.QljJx(Se,I,0,p);continue}break}}const ne={id:d[q(313)](kt,"leaf"),name:q(342)+((c[q(346)]??[])[q(307)]+1),position:{x:E,y:I},rotation:135,petalType:d.DCFwt,colorId:c[q(321)]?.[q(318)](V=>V.id===q(319)||V.id===q(297))?.id??c[q(321)]?.[0]?.id??d.HPbcn,scale:1,widthScale:1,visible:!0,locked:!1};d.QOFpf(r,V=>{const _=q;V[_(346)]||(V[_(346)]=[]),V.leaves[_(340)](ne)},!0),i({kind:"leaf",leafId:ne.id})},v=q=>{const H=h,R={kiYvM:function(G,U){return G===U},zgVPD:function(G,U){return d[$t(313)](G,U)}};if(d.dYBRL("WgTQj",d.JAQZI))d[H(322)](r,G=>{const U=H;if(G[U(346)]=(G.leaves??[]).filter(W=>W.id!==q),G.leafGroups){for(const W of G.leafGroups)W.leafIds=W.leafIds[U(355)](E=>E!==q);G[U(327)]=G[U(327)].filter(W=>W.leafIds[U(307)]>0)}},!0),i({kind:d[H(306)]});else{if(R.kiYvM(_0x182132.leafId,_0x3eedd7))return;R.zgVPD(_0x5b7741,{kind:H(346),leafIds:[_0x5b6216.leafId,_0x42f309]})}},z=F.useCallback(q=>{const H=h;if(a[H(345)]===d.YBPmF){const R=a.leafIds;if(R[H(341)](q)){const G=R.filter(U=>U!==q);d.KctCy(G.length,0)?i({kind:H(314)}):d.KxMzB(G[H(307)],1)?i({kind:H(323),leafId:G[0]}):i({kind:H(346),leafIds:G})}else i({kind:H(346),leafIds:[...R,q]})}else if(a.kind==="leaf"){if(d.KctCy(a.leafId,q))return;i({kind:"leaves",leafIds:[a[H(353)],q]})}else d.vvzyo(i,{kind:H(346),leafIds:[q]})},[a,i]),b=F.useCallback(q=>{const H=h,R=kt("lg"),G=H(315)+d.yTwXo((c.leafGroups??[]).length,1);d[H(331)](r,U=>{const W=H;U[W(327)]||(U[W(327)]=[]),U.leafGroups.push({id:R,name:G,leafIds:[...q],rotation:0})},!0),i({kind:d.deLzR,leafGroupId:R})},[c.leafGroups,r,i]),N=F.useCallback(q=>{const H=h,R={fAXJa:function(G,U,W){return G(U,W)},oPDhD:function(G,U){return d.enZtd(G,U)},PELaG:d.ASkIi};d[H(348)](r,G=>{const U=H;if(U(339)===R[U(326)])IjDByZ.GpdxX(_0x5e6d9f,W=>{const E=U;if(W.leaves=(W[E(346)]??[])[E(355)](I=>I.id!==_0x3c912a),W.leafGroups){for(const I of W.leafGroups)I[E(351)]=I[E(351)][E(355)](P=>P!==_0x2970c2);W.leafGroups=W.leafGroups.filter(I=>I.leafIds[E(307)]>0)}},!0),IjDByZ[U(329)](_0x581a9d,{kind:IjDByZ.WcuxU});else{if(!G[U(327)])return;G[U(327)]=G.leafGroups.filter(W=>W.id!==q)}},!0),d[H(313)](i,{kind:d[H(306)]})},[r,i]),C=F.useCallback((q,H)=>{const R=h;d.nBsuK===R(347)?_0x5d2b34(G=>{const U=R;if(G.leafGroups){for(const W of G.leafGroups)W.leafIds=W.leafIds[U(355)](E=>E!==_0x27f60d);G.leafGroups=G.leafGroups[U(355)](W=>W[U(351)][U(307)]>0)}},!0):r(G=>{const U=R;if(U(323),d[U(338)](U(344),U(303))){const W=(G[U(327)]??[]).find(E=>E.id===H);W&&!W.leafIds.includes(q)&&W.leafIds.push(q)}else _0xae3cab({kind:JLFiVB[U(343)],leafId:_0x368c8f[0]})},!0)},[r]),S=d.qwjWV(F.useCallback,q=>{const H=h;d[H(331)](r,R=>{const G=H;if(R[G(327)]){for(const U of R.leafGroups)U[G(351)]=U.leafIds.filter(W=>W!==q);R[G(327)]=R.leafGroups[G(355)](U=>U.leafIds.length>0)}},!0)},[r]);return{addLeaf:g,deleteLeafById:v,handleShiftLeafSelect:z,groupSelectedLeaves:b,ungroupLeaves:N,addLeafToGroup:C,removeLeafFromGroup:S}}(function(c,r){const a=mn,i=c();for(;;)try{if(parseInt(a(231))/1*(-parseInt(a(234))/2)+parseInt(a(291))/3*(-parseInt(a(230))/4)+parseInt(a(264))/5*(parseInt(a(285))/6)+parseInt(a(237))/7*(-parseInt(a(244))/8)+-parseInt(a(249))/9*(parseInt(a(280))/10)+-parseInt(a(221))/11+parseInt(a(282))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,659187);const ib=(function(){let c=!0;return function(r,a){const i=c?function(){const o=mn;if(a){const f=a[o(250)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Lx=ib(void 0,function(){const c=mn,r={vegAt:"(((.+)+)+)+$"};return Lx[c(278)]().search(r.vegAt)[c(278)]()[c(284)](Lx).search(r[c(279)])});Lx();function U0(){const c=["mtmWnZm3otb4uuzjEwG","y29Sx3DOAxrL","nJa4nJuYmZznEgXoDMu","y0zyEMm","y29UC3rYDwn0B3i","mJa5otyZnhfSwfzPBq","zMXVD2vYrgLHBwv0zxi","C2nHBgu","u0nUvKO","yMfZzurPyw1LDgvY","C3vbuLi","mtCYntLkBxrIzuG","quz6zfO","CM91BMq","zMX3","mti1mJe1nJrbz210yNy","CenOyuK","uhfRtxa","AezlreO","B1Dcrgy","AMnUtem","wfvirfe","uMzJCvm","u3LYvfK","nJG0vvbkC3fM","mtKZndyYshHIAe14","uvrbvxC","zgLHBwv0zxi","ogXMwhrIrW","zMLUza","q2vUDgvY","mJG5mZHbvLDyr3G","CgfSzxr0zq","Bgf5zxjdB3vUDa","C3bSAxq","Dw5PzM9YBq","EK5TvLO","tgf5zxiG","mtC2mfzYExLxtq","CMv2zxjZzq","veXKD0S","tgf5zxi","qMrmD1m","owzbBffquq","yxbWBhK","qwnqBfC","zgPyr0e","ywjZ","B3jKzxi","AfPODKC","t3v0zxiR","s0XLDxG","ChvZAa","C2L6zu1Vzgu","wNnNyMe","Cvjuuge","A1fcCw8","z3jHzhvHBa","mtbKtwnntwy","D0PUt3O","Cg9ZAxrPB24","C29YDa","C29Tzq","sevWBgu","y29Z","vLHIyMG","twLKzgXL","sw55sem","zMfICMLJu3f1yxjLu2L6zq","zMXVD2vY","zMXVD2vYCW","t2LKBMO","Dg9tDhjPBMC","DMvNqxq"];return U0=function(){return c},U0()}function mn(c,r){c=c-218;const a=U0();let i=a[c];if(mn.BTWsAI===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};mn.PKherO=o,mn.EyjPlo={},mn.BTWsAI=!0}const f=a[0],m=c+f,p=mn.EyjPlo[m];if(p)i=p;else{const h=function(d){this.EMvrhm=d,this.oftKbL=[1,0,0],this.NNThuA=function(){return"newState"},this.RuYzPT="\\w+ *\\(\\) *{\\w+ *",this.OaPSKB=`['|"].+['|"];? *}`};h.prototype.lXmCZI=function(){const d=new RegExp(this.RuYzPT+this.OaPSKB),g=d.test(this.NNThuA.toString())?--this.oftKbL[1]:--this.oftKbL[0];return this.hATHIq(g)},h.prototype.hATHIq=function(d){return~d?this.lUuHIO(this.EMvrhm):d},h.prototype.lUuHIO=function(d){for(let g=0,v=this.oftKbL.length;g<v;g++)this.oftKbL.push(Math.round(Math.random())),v=this.oftKbL.length;return d(this.oftKbL[0])},new h(mn).lXmCZI(),i=mn.PKherO(i),mn.EyjPlo[m]=i}return i}function rb({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:p}){const h=mn,d={zNmVZ:function(S,q){return S(q)},djXGA:function(S,q){return S===q},Zsgba:h(263),pYyqX:function(S,q,H,R){return S(q,H,R)},oWBDf:function(S,q){return S/q},AcPlW:function(S,q){return S*q},nKVKc:function(S,q){return S*q},JOXuU:function(S,q){return S/q},JtMxZ:function(S,q){return S*q},wJnOz:function(S,q){return S*q},suARR:"Inner",tUMws:h(272),RsBYh:"Outer",TLdwK:h(256),hFKDJ:function(S,q){return S<q},VXbbh:h(255),jahBg:h(241),KLeux:function(S,q){return S+q},RrpcC:function(S,q){return S*q},pChaI:function(S,q){return S===q},ftJiz:function(S,q){return S>q},XSAKR:function(S,q){return S-q},dOcBv:function(S,q){return S*q},kQBqo:h(248),PqkMp:function(S,q){return S/q},XUHDQ:function(S,q){return S+q},jcnLC:function(S,q){return S===q},biqBu:"RfcqS",Oidnj:function(S,q){return S===q},InyHC:function(S,q){return S+q},HIFjs:"lay",ZAFHp:function(S,q){return S-q},QTAUw:h(281),cFXzc:"",qRTPa:function(S,q,H,R){return S(q,H,R)},SCnVJ:"2|0|1|4|3",AFzdZ:function(S,q){return S(q)},QEytB:h(220),hzomy:function(S,q,H){return S(q,H)},HEple:h(275)},[g,v]=d[h(218)](F.useState,!1),[z,b]=F.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c[h(289)],layerCount:1,petalCount:6,petalType:"",sizeMode:h(241),sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:g,setShowAddFlowerDialog:v,addFlowerOpts:z,setAddFlowerOpts:b,addFlower:()=>{const S=h,q=c.fabricSquareSize,H=c.baseDiameter;b(R=>{const G=mn,U={...R,fabricSquareSize:q,baseDiameter:H};return U.placementMode===""?U[G(286)]=Il(H,q,{layerCount:U[G(239)],sizeMode:U[G(259)],sizeStepMm:U.sizeStepMm})[G(233)]:U.flowerDiameter=tr(q,U[G(239)],U.sizeMode,U.sizeStepMm),U}),d[S(242)](v,!0)},confirmAddFlower:()=>{const S=h,{placementMode:q,layerCount:H,petalCount:R,petalType:G,sizeMode:U,sizeStepMm:W}=z,E=z[S(274)],{length:I}=Ct(E),P=.28,ne=d[S(225)](Math[S(219)](d.wJnOz(d[S(251)](I,P),10)),10),V=[],_=[S(236),d[S(290)],d.tUMws,d.RsBYh,d[S(246)]];let w=ne,A=0;for(let oe=0;d[S(224)](oe,H);oe++)if(d[S(271)]!=="hZhvG"){const ve=d[S(252)](_0x41dec4,d[S(260)])?d.pYyqX(_0x413358,1+d.oWBDf((_0x4d46e4-1)*_0x4c23b6,_0x3190c5),.3,3):1,Ae=_0x37b4c8*ve;let me;if(d[S(252)](_0x4f0373,"")){const Ze=d.AcPlW(70,_0x4bfcbc.PI)/180,We=_0x37d320>1?d[S(225)](_0x1555a9,_0x324d28-1)*Ze:0,Qe=_0x5e223f[S(270)](We);me=d.nKVKc(Ae*d.JOXuU(30,100),Qe)}else me=Ae/3;_0x3405c8=_0x35c19b+me,_0x4a713b=_0x21d816[S(219)](d.JtMxZ(_0x430bf4,10))/10}else{const ve=oe,Ae=1;let me;if(U===d.jahBg)me=Ae;else{const Qe=W/E;me=Se(d.KLeux(Ae,d.RrpcC(ve,Qe)),.3,3)}let Ge;if(d[S(222)](oe,0))Ge=ne;else{const Qe=d.pChaI(U,"gradual")?d.pYyqX(Se,d[S(257)](1,(oe-1)*W/E),.3,3):1,jt=d[S(265)](I,Qe);let Nt;if(d[S(252)](q,"")){const wt=70*Math.PI/180,nt=d.ftJiz(H,1)?oe/d.XSAKR(H,1)*wt:0,At=Math[S(270)](nt);Nt=d.dOcBv(d.AcPlW(jt,d.oWBDf(30,100)),At)}else d[S(262)]===S(229)?_0x31141b=_0x37bdd9:Nt=d[S(223)](jt,3);w=d[S(227)](w,Nt),Ge=Math[S(219)](w*10)/10}const Ze=oe===0?0:Wn(R,A,R);A=Ze;let We;if(d.pChaI(H,1))d[S(226)](S(228),d.biqBu)?We=S(247):_0x5ca251=S(243)+(_0x18f545+1);else if(H<=5){const Qe=d[S(277)](H,2)?[0,3]:H===3?[0,1,3]:d.djXGA(H,4)?[0,1,2,3]:[0,1,2,3,4];We=_[Qe[oe]]??S(243)+(oe+1)}else We="Layer "+d[S(273)](oe,1);V[S(258)]({id:kt(d.HIFjs),name:We,order:d.ZAFHp(H,oe),petalType:G,petalCount:R,radius:Ge,scale:me,widthScale:d[S(242)](ti,R),offsetAngle:Ze,colorId:z.colorId||(c[S(238)]?.[0]?.id??d[S(232)]),visible:!0,locked:!1})}V[S(245)]();const j=[...V][S(267)]((oe,ve)=>oe[S(254)]-ve.order),M=d[S(252)](q,d[S(283)])?d.qRTPa(Il,z.baseDiameter,E,{layerCount:H,sizeMode:U,sizeStepMm:W})[S(233)]:tr(E,H,U,W);X0(j,E,z.flowerDiameter||M);for(const oe of j){const ve=V[S(235)](Ae=>Ae.id===oe.id);ve&&(ve.radius=oe.radius,ve.scale=oe[S(287)])}const B=m.w/m.h,k=d[S(223)](520,o),Y=d.nKVKc(k,B),O=-f.x/o,D=d.JOXuU(-f.y,o);let L=d[S(227)](O,Y/2),Z=D+d[S(225)](k,2);const X=25;let ae=0;for(;ae<50&&c.flowers[S(268)](oe=>Math[S(253)](oe[S(266)].x-L)<5&&Math.abs(oe[S(266)].y-Z)<5);){const oe=d[S(288)][S(240)]("|");let ve=0;for(;;){switch(oe[ve++]){case"0":Z+=X;continue;case"1":L=Se(L,0,p);continue;case"2":L+=X;continue;case"3":ae++;continue;case"4":Z=d[S(261)](Se,Z,0,p);continue}break}}const ce=z.flowerDiameter||M,fe={id:d.AFzdZ(kt,d.QEytB),name:"Flower "+(c[S(276)].length+1),position:{x:L,y:Z},flowerDiameter:ce,rotation:0,layers:V,center:{type:"",size:6,color:"col_white"},fabricSquareSize:E,placementMode:q,baseDiameter:q===d.cFXzc?z[S(289)]:Pi(ce)};d.hzomy(r,oe=>{const ve=S;oe.flowers[ve(258)](fe)},!0),a({kind:d[S(269)],flowerId:fe.id}),i(oe=>({...oe,[fe.id]:!0})),d[S(218)](v,!1)}}}function K0(){const c=["Bgf5zxjZ","mJu4mZyWoxrxwevNBG","BgvHzKDYB3vWCW","z3jVDxbZ","yuvtrMq","BgvHzKLK","y2L2r0m","nteXntrey0TuC1i","Bgf5zxi","BgvHDMvZ","zMXVD2vYswq","twnMu1i","z3jVDxbjza","EKLMzg8","wNPyEKq","rKHrzeW","z3jVDxa","BgvHzG","yunoqKS","y2nSwfa","C3rLBMnPBhm","mJaWmtziqvDOvuW","wg5AyuS","Dxr3AwW","A2LUza","zfvqy2K","zMXVD2vYCW","BgvHzKDYB3vWswq","otm1mdaWC0nKufrY","zMLSDgvY","BLvXCfi","ENfvz0q","Bg55qvC","qwPosNi","zMXVD2vYswrZ","rK55r0G","nJy4CNjbwK5r","Evjbtuq","tfH4quG","EvnjyvC","y29UC3rYDwn0B3i","zMXVD2vY","ChPQEhK","mtCYotCWngHMBe12vq","EKTQyum","ngPtzuvltW","ou9Ry0nUta","u2PSrhK","mJm3ndmWsfjrsvDW","BgvHzKDYB3vW","BgvHzKLKCW","Cgv0ywXZ","C2vHCMnO","CuPSrNG","mJy3m2TJDw9ptW","r1vVse0","zMLUza"];return K0=function(){return c},K0()}function En(c,r){c=c-250;const a=K0();let i=a[c];if(En.HBDSSv===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,N,C,S=0;C=h.charAt(S++);~C&&(N=b%4?N*64+C:C,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,N=g.length;b<N;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};En.VxuKlH=o,En.xkmsUu={},En.HBDSSv=!0}const f=a[0],m=c+f,p=En.xkmsUu[m];if(p)i=p;else{const h=function(d){this.iEAHBk=d,this.ClxFvZ=[1,0,0],this.GtwFyq=function(){return"newState"},this.aZUWQR="\\w+ *\\(\\) *{\\w+ *",this.YvusGQ=`['|"].+['|"];? *}`};h.prototype.BzLVTp=function(){const d=new RegExp(this.aZUWQR+this.YvusGQ),g=d.test(this.GtwFyq.toString())?--this.ClxFvZ[1]:--this.ClxFvZ[0];return this.YmxfKx(g)},h.prototype.YmxfKx=function(d){return~d?this.AcubXn(this.iEAHBk):d},h.prototype.AcubXn=function(d){for(let g=0,v=this.ClxFvZ.length;g<v;g++)this.ClxFvZ.push(Math.round(Math.random())),v=this.ClxFvZ.length;return d(this.ClxFvZ[0])},new h(En).BzLVTp(),i=En.VxuKlH(i),En.xkmsUu[m]=i}return i}(function(c,r){const a=En,i=c();for(;;)try{if(parseInt(a(266))/1*(parseInt(a(285))/2)+-parseInt(a(275))/3*(parseInt(a(257))/4)+parseInt(a(306))/5+parseInt(a(299))/6+parseInt(a(279))/7+-parseInt(a(264))/8+-parseInt(a(267))/9*(parseInt(a(269))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,272978);const ub=(function(){const c={zKjaC:function(a,i){return a!==i},XnZaK:"LXxAH",zIfdo:function(a,i){return a===i}};let r=!0;return function(a,i){const o=En,f={civGC:o(262),WVzLC:function(m,p){return m===p}};if(c[o(291)]("oAKYC","oAKYC")){const m=r?function(){const p=o;if(c[p(265)](c[p(300)],p(259)))return _0x20af04[p(302)]===f[p(284)]?new _0x22f555(_0x4c42e0.flowerIds[p(250)](h=>h!==_0x2291d3.flowerId)):new _0x2990d5(_0x3f4d60[p(255)]);if(i){const h=i.apply(a,arguments);return i=null,h}}:function(){};return r=!1,m}else return f.WVzLC(_0x3acbdd[o(302)],o(295))?(_0x4ff1f0.leaves??[])[o(277)](m=>m.id===_0x3edf8a.leafId)??null:null}})(),Ex=ub(void 0,function(){const c=En,r={utwil:"(((.+)+)+)+$"};return Ex.toString()[c(273)](r.utwil).toString()[c(261)](Ex).search(r[c(301)])});Ex();function cb(c,r){const a=En,i={aESFd:function(C,S){return C===S},dUPci:a(286),FNyGH:"petals",FHQdL:a(294),JHdaG:a(262),aCNBK:function(C,S){return C===S},lnyAW:"petal",ZzXzD:function(C,S){return C===S},IdjzS:"FejKP",nUqpR:function(C,S){return C===S},idiOg:a(270),AjNJr:"nneHA",qJlFx:function(C,S){return C===S},cclXP:function(C,S,q){return C(S,q)},ySIaW:function(C,S){return C===S},OLuOM:a(289),SjlDy:function(C,S,q){return C(S,q)},zqUgD:function(C,S){return C===S},eENMt:function(C,S){return C===S},yRAMD:function(C,S){return C===S},GUoHM:function(C,S){return C===S}},o=i[a(297)](F.useMemo,()=>{const C=a;return r[C(302)]===C(262)||i[C(282)](r.kind,i.dUPci)||i.aESFd(r[C(302)],"petal")||r.kind===i[C(256)]?c.flowers[C(277)](S=>S.id===r.flowerId)??null:null},[c.flowers,r]),f=F.useMemo(()=>{const C=a;if(r[C(302)]===C(304))return c[C(304)][C(250)](S=>r.flowerIds.includes(S.id));if(i[C(282)](r.kind,i[C(293)])){const S=(c.groups??[]).find(q=>q.id===r[C(290)]);if(S)return c[C(304)][C(250)](q=>S.flowerIds.includes(q.id))}return[]},[c.flowers,c[a(281)],r]),m=F.useMemo(()=>{const C=a;return r[C(302)]===C(295)?(c[C(287)]??[]).find(S=>S.id===r[C(283)])??null:null},[c.leaves,r]),p=i[a(268)](F.useMemo,()=>{const C=a;return i[C(292)]("FejKP",i.IdjzS)?i.nUqpR(r[C(302)],i.idiOg)?i.aESFd(C(263),i[C(254)])?_0x78b7fb.kind===i.JHdaG||_0x2df52f[C(302)]===i[C(303)]||i.aCNBK(_0x502530[C(302)],i[C(253)])||_0x3c5164.kind===i[C(256)]?_0x237cfb[C(304)][C(277)](S=>S.id===_0x3cb939.flowerId)??null:null:(c[C(280)]??[]).find(S=>S.id===r[C(305)])??null:null:new _0x30f0b9(_0x4b3fd6[C(255)][C(250)](S=>S!==_0x166b58.flowerId))},[c[a(280)],r]),h=F.useMemo(()=>{const C=a;return o&&(i[C(296)](r[C(302)],i.dUPci)||i.aESFd(r[C(302)],"petal"))?o[C(278)].find(S=>S.id===r.layerId)??null:null},[o,r]),d=i[a(252)](r.kind,i.lnyAW)?r.index:null,g=i.eENMt(r[a(302)],a(272))?r[a(272)]:[],v=i[a(258)](r[a(302)],"stencil")?(c[a(298)]??[]).find(C=>C.id===r.stencilId)??null:null,z=r[a(302)]===a(262)||i.zqUgD(r[a(302)],a(286))||i[a(276)](r[a(302)],"petal")||r.kind===a(272)?r.flowerId:null,b=F.useMemo(()=>{const C=a;if(i.ZzXzD(r[C(302)],"group")){const S=(c[C(281)]??[]).find(q=>q.id===r.groupId);if(S)return new Set(S.flowerIds)}if(i[C(274)](r[C(302)],"flowers"))return new Set(r[C(255)]);if(i[C(274)](r.kind,C(262))||r.kind===i.dUPci||r[C(302)]===i[C(253)]||r[C(302)]===i.FNyGH){const S=i.cclXP(xa,c,r[C(288)]);if(S)return r.kind===i.JHdaG?new Set(S.flowerIds.filter(q=>q!==r.flowerId)):new Set(S.flowerIds)}return new Set},[r,c]),N=F.useMemo(()=>{const C=a;if(i[C(260)](r.kind,"leafGroup")){const S=(c.leafGroups??[]).find(q=>q.id===r.leafGroupId);if(S)return new Set(S[C(271)])}if(r[C(302)]==="leaf"){if(i[C(251)](i.OLuOM,"pgmvb"))return _0x247cbd.flowers.filter(S=>_0x5b1760.flowerIds.includes(S.id));{const S=Z0(c,r[C(283)]);if(S)return new Set(S[C(271)][C(250)](q=>q!==r.leafId))}}return new Set},[r,c]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:m,selectedLeafGroup:p,selectedLayer:h,selectedPetalIndex:d,selectedPetals:g,selectedStencil:v,selectedFlowerId:z,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:N}}function xb(c){const{project:r,selection:a,setSelection:i,applyUpdate:o}=c,f=F.useMemo(()=>new Map((r.palette||[]).map(de=>[de.id,de])),[r.palette]),{widths:m,containerRef:p,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:g,isDesktop:v}=eb(),z=F.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[b,N]=F.useState({});F.useEffect(()=>{try{const ge=localStorage.getItem(z);if(ge){const He=JSON.parse(ge);if(He&&typeof He=="object"){N(He);return}}}catch{}const de=r.flowers?.[0];de&&N({[de.id]:!0})},[z]),F.useEffect(()=>{try{localStorage.setItem(z,JSON.stringify(b))}catch{}},[z,b]),F.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const de=a.flowerId;N(ge=>ge?.[de]?ge:{...ge,[de]:!0})}a.kind==="flowers"&&N(de=>{const ge={...de};for(const He of a.flowerIds)ge[He]=!0;return ge})},[a]);const C=de=>b?.[de]??!1,S=de=>N(ge=>({...ge,[de]:!(ge?.[de]??!1)})),q=F.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[H,R]=F.useState({});F.useEffect(()=>{try{const ge=localStorage.getItem(q);if(ge){const He=JSON.parse(ge);if(He&&typeof He=="object"){R(He);return}}}catch{}const de=r.groups??[];if(de.length>0){const ge={};for(const He of de)ge[He.id]=!0;R(ge)}},[q]),F.useEffect(()=>{try{localStorage.setItem(q,JSON.stringify(H))}catch{}},[q,H]);const G=de=>H?.[de]??!0,U=de=>R(ge=>({...ge,[de]:!(ge?.[de]??!0)})),W=F.useRef({flowerId:null,timer:null}),E=de=>{const ge=W.current.timer;ge&&window.clearTimeout(ge),W.current.flowerId=de,W.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:de}),N(He=>({...He,[de]:!0})),W.current.timer=null,W.current.flowerId=null},200)},I=de=>{const ge=W.current.timer;ge&&W.current.flowerId===de&&window.clearTimeout(ge),W.current.timer=null,W.current.flowerId=null,i({kind:"flower",flowerId:de}),S(de)},P=F.useRef(null),[ne,V]=F.useState({w:520,h:520});F.useEffect(()=>{const de=P.current;if(!de)return;const ge=new ResizeObserver(He=>{for(const Zt of He){const{width:mt,height:tn}=Zt.contentRect;mt>0&&tn>0&&V({w:mt,h:tn})}});return ge.observe(de),()=>ge.disconnect()},[]);const _=de=>{const ge=P.current;if(!ge)return{x:0,y:0};const He=ge.createSVGPoint();He.x=de.clientX,He.y=de.clientY;const Zt=ge.getScreenCTM();if(!Zt)return{x:0,y:0};const mt=He.matrixTransform(Zt.inverse());return{x:mt.x,y:mt.y}},w=500*en,A=-300*en,j=800*en,M=F.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[B,k]=F.useState(6),[Y,O]=F.useState(M[6]),D=F.useCallback(de=>{k(ge=>{const He=typeof de=="function"?de(ge):de;return O(M[He]),He})},[M]),L=F.useCallback(de=>{const ge=Se(de,M[0],M[M.length-1]);O(ge);let He=0,Zt=Math.abs(M[0]-ge);for(let mt=1;mt<M.length;mt++){const tn=Math.abs(M[mt]-ge);tn<Zt&&(He=mt,Zt=tn)}k(He)},[M]),[Z,X]=F.useState({x:0,y:0}),[ae,ce]=F.useState(!0),[fe,oe]=F.useState(!1),ve=F.useRef(null),Ae=F.useMemo(()=>{const de=ne.w/ne.h,ge=520,He=ge*de;return(Zt,mt=Y)=>{const tn=Se(Zt.x,-(j*mt-He),-A*mt),ii=Se(Zt.y,-(j*mt-ge),-A*mt);return{x:tn,y:ii}}},[ne,Y,A,j]),me=F.useMemo(()=>Ae(Z),[Z,Ae]),Ge=F.useCallback(de=>X(de),[]),Ze=F.useMemo(()=>{const de=ne.w/ne.h,ge=520,He=ge*de,Zt=-me.x/Y,mt=-me.y/Y;return`${Zt} ${mt} ${He/Y} ${ge/Y}`},[Y,me,ne]),{addLeaf:We,deleteLeafById:Qe,handleShiftLeafSelect:jt,groupSelectedLeaves:Nt,ungroupLeaves:Yt,addLeafToGroup:wt,removeLeafFromGroup:nt}=ab({project:r,applyUpdate:o,selection:a,setSelection:i,zoom:Y,pan:me,stageSize:ne,CANVAS_MAX_SVG:w}),{showAddFlowerDialog:At,setShowAddFlowerDialog:Ul,addFlowerOpts:oa,setAddFlowerOpts:dt,addFlower:fa,confirmAddFlower:qn}=rb({project:r,applyUpdate:o,setSelection:i,setExpandedFlowers:N,zoom:Y,pan:me,stageSize:ne,CANVAS_MAX_SVG:w}),{selectedFlower:da,selectedFlowers:Un,selectedLeaf:ni,selectedLeafGroup:ha,selectedLayer:it,selectedPetalIndex:se,selectedPetals:je,selectedStencil:we,selectedFlowerId:Ce,groupHighlightedFlowerIds:ye,leafGroupHighlightedLeafIds:Tt}=cb(r,a),{deleteFlowerById:Re,deleteLayerById:Me,addOuterLayer:ht,deleteOuterLayer:tt,deleteSelected:rt,groupSelectedFlowers:Oe,ungroupFlowers:Xe,addToGroup:Gn,mergeGroups:Lt,addStencil:bn,deleteStencil:Mt,handleShiftFlowerSelect:ct,togglePetalSelection:Kt}=nb({project:r,applyUpdate:o,selection:a,setSelection:i,setExpandedFlowers:N,setExpandedGroups:R,zoom:Y,pan:me,stageSize:ne,CANVAS_MAX_SVG:w,deleteLeafById:Qe,ungroupLeaves:Yt}),Ke=rm({project:r,selection:a,setSelection:i,applyUpdate:o,dragRef:c.dragRef,zoom:Y,pan:me,setPan:Ge,stageRef:P,clientToSvgPoint:_,togglePetalSelection:Kt}),[li,rr]=F.useState(0),gn=a.kind,ai=gn==="flower"?a.flowerId:null,ur=gn==="flowers"?a.flowerIds?.join(","):null,cr=gn==="layer"||gn==="petal"?a.layerId:null,Kn=gn==="petal"?a.index:null,_t=gn==="petals"?a.petals?.length:null;F.useEffect(()=>{gn!=="project"&&rr(Date.now())},[gn,ai,ur,cr,Kn,_t]),F.useEffect(()=>{if(!ve.current)return;const de=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!de)return;const ge=ve.current.querySelector(`[data-flower-id="${de}"]`);ge&&ge.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ot=F.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[li]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:p,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:v?{width:`${m.left}%`}:void 0,children:x.jsx(cm,{project:r,selection:a,setSelection:i,expandedFlowers:b,setExpandedFlowers:N,isExpanded:C,toggleExpanded:S,scheduleFlowerRowClick:E,handleFlowerRowDoubleClick:I,addFlower:fa,deleteSelected:rt,addOuterLayer:ht,deleteOuterLayer:tt,deleteFlowerById:Re,deleteLayerById:Me,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:ve,groups:r.groups??[],expandedGroups:H,isGroupExpanded:G,toggleGroupExpanded:U,onSelectGroup:de=>i({kind:"group",groupId:de}),onUngroupFlowers:Xe,leaves:r.leaves??[],leafGroups:r.leafGroups??[],onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onSelectLeafGroup:de=>i({kind:"leafGroup",leafGroupId:de}),onAddLeaf:We,onDeleteLeaf:Qe})}),x.jsx(Ud,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:g}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Em,{project:r,selection:a,setSelection:i,applyUpdate:o,paletteMap:f,selectedFlowerId:Ce,zoom:Y,setZoom:L,zoomLevel:B,setZoomLevel:D,ZOOM_LEVELS:M,pan:me,panRaw:Z,setPan:Ge,showGrid:ae,setShowGrid:ce,showHelp:fe,setShowHelp:oe,stageRef:P,viewBox:Ze,dashSyncToken:li,dashDelay:Ot,beginPan:Ke.beginPan,updatePan:Ke.updatePan,endPan:Ke.endPan,beginMarquee:Ke.beginMarquee,updateMarquee:Ke.updateMarquee,endMarquee:Ke.endMarquee,marqueeRef:Ke.marqueeRef,marqueeRect:Ke.marqueeRect,beginFlowerDrag:Ke.beginFlowerDrag,updateFlowerDrag:Ke.updateFlowerDrag,endFlowerDrag:Ke.endFlowerDrag,scaleDragRef:Ke.scaleDragRef,beginScaleDrag:Ke.beginScaleDrag,updateScaleDrag:Ke.updateScaleDrag,endScaleDrag:Ke.endScaleDrag,rotationDragRef:Ke.rotationDragRef,beginRotationDrag:Ke.beginRotationDrag,updateRotationDrag:Ke.updateRotationDrag,endRotationDrag:Ke.endRotationDrag,widthScaleDragRef:Ke.widthScaleDragRef,beginWidthScaleDrag:Ke.beginWidthScaleDrag,updateWidthScaleDrag:Ke.updateWidthScaleDrag,endWidthScaleDrag:Ke.endWidthScaleDrag,radiusDragRef:Ke.radiusDragRef,beginRadiusDrag:Ke.beginRadiusDrag,updateRadiusDrag:Ke.updateRadiusDrag,endRadiusDrag:Ke.endRadiusDrag,togglePetalSelection:Kt,clientToSvgPoint:_,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:bn,onDeleteStencil:Mt,onSelectStencil:de=>i({kind:"stencil",stencilId:de}),handleShiftFlowerSelect:ct,groupHighlightedFlowerIds:ye,leaves:r.leaves??[],leafGroups:r.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Tt,onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onShiftSelectLeaf:jt})}),x.jsx(Ud,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:g}),x.jsx("div",{className:"min-w-0 shrink-0",style:v?{width:`${m.right}%`}:void 0,children:x.jsx(Vm,{project:r,selection:a,applyUpdate:o,selectedFlower:da,selectedFlowers:Un,selectedLayer:it,selectedPetalIndex:se,selectedPetals:je,selectedStencil:we,onDeleteStencil:Mt,groups:r.groups??[],onGroupFlowers:Oe,onUngroupFlowers:Xe,onAddToGroup:Gn,onMergeGroups:Lt,selectedLeaf:ni,selectedLeafGroup:ha,leafGroups:r.leafGroups??[],onDeleteLeaf:Qe,onGroupLeaves:Nt,onUngroupLeaves:Yt,onAddLeafToGroup:wt,onRemoveLeafFromGroup:nt})})]}),At&&x.jsx(Pm,{palette:r.palette,addFlowerOpts:oa,setAddFlowerOpts:dt,onConfirm:qn,onCancel:()=>Ul(!1)}),fe&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:de=>de.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([de,ge])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:de}),x.jsx("td",{className:"py-2 text-neutral-700",children:ge})]},de))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function sb({cg:c}){const[r,a]=F.useState("w"),[i,o]=F.useState(""),f=c.totalAreaCm2,m=parseFloat(i),h=i!==""&&Number.isFinite(m)&&m>0?Math.round(f/m*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(d=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function ob(c){const{recipe:r}=c;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[r.colors.map(a=>x.jsx(sb,{cg:a},a.colorId)),r.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function fb(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function db(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function hb(c){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function mb(){const[c,r]=F.useState("home"),[a,i]=F.useState([]),[o,f]=F.useState(null),[m,p]=F.useState({kind:"project"}),[h,d]=F.useState([]),[g,v]=F.useState(0),z=F.useRef(o),b=F.useRef(h),N=F.useRef(g);F.useEffect(()=>{z.current=o},[o]),F.useEffect(()=>{b.current=h},[h]),F.useEffect(()=>{N.current=g},[g]);const C=F.useRef(null),S=F.useRef(null),q=F.useRef(null),H=F.useRef(null),[R,G]=F.useState(null);F.useEffect(()=>{const O=R?window.setTimeout(()=>G(null),2200):null;return()=>{O&&window.clearTimeout(O)}},[R]),F.useEffect(()=>{i($i())},[]);function U(O){const D=JSON.stringify(O);d([D]),v(0)}function W(O,D=!0){if(!D){f(Ae=>{if(!Ae)return Ae;const me=Ol(Ae);return O(me),me.updatedAt=C0(),me});return}const L=z.current;if(!L)return;const Z=Ol(L);O(Z),Z.updatedAt=C0(),f(Z);const X=b.current,ae=N.current;if(X.length===0){U(Z);return}const ce=JSON.stringify(Z);let oe=[...X.slice(0,ae+1),ce];const ve=50;oe.length>ve&&(oe=oe.slice(oe.length-ve)),d(oe),v(oe.length-1)}function E(){v(O=>{if(O<=0)return O;const D=O-1,L=b.current[D];return L&&f(ca(JSON.parse(L))),G("Undo"),D})}function I(){v(O=>{if(O>=b.current.length-1)return O;const D=O+1,L=b.current[D];return L&&f(ca(JSON.parse(L))),G("Redo"),D})}function P(){if(!o)return;const O=Uh(o);i($i()),G(O?"Saved":" ")}function ne(){if(!o)return;const O=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),D=URL.createObjectURL(O),L=document.createElement("a");L.href=D,L.download=`${o.title||"tsumami"}.json`,L.click(),URL.revokeObjectURL(D),G("JSON exported")}function V(O){const D=new FileReader;D.onload=()=>{try{const L=JSON.parse(String(D.result??""));if(!L||typeof L!="object"||!Array.isArray(L.flowers))throw new Error("Invalid JSON");const Z=ca(L);f(Z),p({kind:"project"}),U(Z),r("editor"),G("Imported")}catch{G("Import failed")}},D.readAsText(O)}function _(O){const D=ca(O);f(D),p({kind:"project"}),U(D),r("editor")}function w(O){return O&&(O.kind==="flower"||O.kind==="layer"||O.kind==="petal")?O.flowerId:null}function A(){if(!o)return;const O=w(m);if(!O)return;const D=o.flowers.find(L=>L.id===O);D&&(S.current=Ol(D),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:D},null,2)).catch(()=>{}),G("Flower copied"))}function j(){if(!o||m.kind!=="leaf")return;const O=(o.leaves??[]).find(D=>D.id===m.leafId);O&&(q.current=Ol(O),G("Leaf copied"))}function M(){if(!o)return;const O=S.current;if(!O){G("Nothing to paste");return}const D=kh(O,{x:12+Math.random()*10,y:12+Math.random()*10});W(L=>{L.flowers.push(D)},!0),p({kind:"flower",flowerId:D.id}),G("Flower pasted")}function B(){if(!o)return;const O=q.current;if(!O)return;const D=kt("leaf"),L={...Ol(O),id:D,name:O.name+" (copy)",position:{x:O.position.x+30,y:O.position.y+30}};W(Z=>{Z.leaves||(Z.leaves=[]),Z.leaves.push(L)},!0),p({kind:"leaf",leafId:L.id}),G("Leaf pasted")}function k(O){if(!o)return;const D=w(m);D&&(W(L=>{const Z=L.flowers.findIndex(fe=>fe.id===D);if(Z<0)return;const X=L.flowers,ae=X[Z];if(!ae)return;if(X.splice(Z,1),O==="front"){X.push(ae);return}if(O==="back"){X.unshift(ae);return}if(O==="forward"){if(Z>=X.length){X.push(ae);return}X.splice(Z+1,0,ae);return}const ce=Se(Z-1,0,X.length);X.splice(ce,0,ae)},!0),G(O==="front"?"Brought to front":O==="back"?"Sent to back":O==="forward"?"Moved forward":"Moved backward"))}F.useEffect(()=>{function O(L){const Z=L;if(!Z)return!1;const X=String(Z.tagName||"").toLowerCase();return X==="input"||X==="textarea"||X==="select"||!!Z.isContentEditable}function D(L){if(!(O(L.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?L.metaKey:L.ctrlKey))){if(c==="editor"){if(L.key.toLowerCase()==="c"){L.preventDefault(),m.kind==="leaf"?j():A();return}if(L.key.toLowerCase()==="v"){L.preventDefault(),q.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="leafGroup"||!S.current)?B():M();return}}L.key.toLowerCase()==="z"&&(L.preventDefault(),L.shiftKey?I():E()),L.key.toLowerCase()==="s"&&(L.preventDefault(),P())}}return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[o,h,g,m,c]);const Y=F.useMemo(()=>o?Xh(o):null,[o]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx(Ph,{view:c,onNavigate:r,project:o,onSave:P,onLoad:()=>r("home"),onImportJson:()=>H.current?.click(),onExportJson:ne,onExportSvg:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&o&&Vh(O,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&o&&Wh(O,`${o.title||"tsumami"}.png`)}}),x.jsx("input",{ref:H,type:"file",accept:"application/json",className:"hidden",onChange:O=>{const D=O.target.files?.[0];D&&V(D),O.currentTarget.value=""}}),R&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:R}),x.jsxs("main",{className:"flex-1",children:[c==="home"&&x.jsx(Fh,{saved:a,onNew:()=>r("new"),onOpen:O=>{const D=ca(Ol(O));f(D),p({kind:"project"}),U(D),r("editor")},onDelete:O=>{Kh(O),i($i()),G("Deleted")}}),c==="new"&&x.jsx($h,{onBack:()=>r("home"),onCreate:O=>{const D=Rh({title:O});_(D)}}),c==="editor"&&o&&x.jsx(xb,{project:o,selection:m,setSelection:p,applyUpdate:W,onGoRecipe:()=>r("recipe"),onImport:V,dragRef:C,onCopyFlower:A,onPasteFlower:M,onArrangeFlower:k,canPasteFlower:!!S.current,onUndo:E,onRedo:I,canUndo:g>0,canRedo:g<h.length-1}),c==="recipe"&&o&&Y&&x.jsx(ob,{project:o,recipe:Y,onBack:()=>r("editor"),onExportJson:ne}),c==="terms"&&x.jsx(fb,{onBack:()=>r("home")}),c==="privacy"&&x.jsx(db,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!o&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&x.jsx(hb,{onNavigate:r})]})}class bb extends F.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}_h.createRoot(document.getElementById("root")).render(x.jsx(F.StrictMode,{children:x.jsx(bb,{children:x.jsx(mb,{})})}));

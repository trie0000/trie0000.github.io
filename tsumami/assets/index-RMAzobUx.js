(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const x of f)if(x.type==="childList")for(const h of x.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function a(f){const x={};return f.integrity&&(x.integrity=f.integrity),f.referrerPolicy&&(x.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?x.credentials="include":f.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function i(f){if(f.ep)return;f.ep=!0;const x=a(f);fetch(f.href,x)}})();var ts={exports:{}},Pi={};var zd;function om(){if(zd)return Pi;zd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,f,x){var h=null;if(x!==void 0&&(h=""+x),f.key!==void 0&&(h=""+f.key),"key"in f){x={};for(var _ in f)_!=="key"&&(x[_]=f[_])}else x=f;return f=x.ref,{$$typeof:c,type:i,key:h,ref:f!==void 0?f:null,props:x}}return Pi.Fragment=r,Pi.jsx=a,Pi.jsxs=a,Pi}var Dd;function xm(){return Dd||(Dd=1,ts.exports=om()),ts.exports}var s=xm(),ns={exports:{}},De={};var Nd;function fm(){if(Nd)return De;Nd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),h=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),N=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=N&&A[N]||A["@@iterator"],typeof A=="function"?A:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function L(A,Y,H){this.props=A,this.context=Y,this.refs=C,this.updater=H||D}L.prototype.isReactComponent={},L.prototype.setState=function(A,Y){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,Y,"setState")},L.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function G(){}G.prototype=L.prototype;function B(A,Y,H){this.props=A,this.context=Y,this.refs=C,this.updater=H||D}var k=B.prototype=new G;k.constructor=B,S(k,L.prototype),k.isPureReactComponent=!0;var I=Array.isArray;function Z(){}var R={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function F(A,Y,H){var W=H.ref;return{$$typeof:c,type:A,key:Y,ref:W!==void 0?W:null,props:H}}function Q(A,Y){return F(A.type,Y,A.props)}function X(A){return typeof A=="object"&&A!==null&&A.$$typeof===c}function v(A){var Y={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(H){return Y[H]})}var M=/\/+/g;function z(A,Y){return typeof A=="object"&&A!==null&&A.key!=null?v(""+A.key):Y.toString(36)}function j(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Z,Z):(A.status="pending",A.then(function(Y){A.status==="pending"&&(A.status="fulfilled",A.value=Y)},function(Y){A.status==="pending"&&(A.status="rejected",A.reason=Y)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function w(A,Y,H,W,ae){var oe=typeof A;(oe==="undefined"||oe==="boolean")&&(A=null);var fe=!1;if(A===null)fe=!0;else switch(oe){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(A.$$typeof){case c:case r:fe=!0;break;case p:return fe=A._init,w(fe(A._payload),Y,H,W,ae)}}if(fe)return ae=ae(A),fe=W===""?"."+z(A,0):W,I(ae)?(H="",fe!=null&&(H=fe.replace(M,"$&/")+"/"),w(ae,Y,H,"",function(me){return me})):ae!=null&&(X(ae)&&(ae=Q(ae,H+(ae.key==null||A&&A.key===ae.key?"":(""+ae.key).replace(M,"$&/")+"/")+fe)),Y.push(ae)),1;fe=0;var _e=W===""?".":W+":";if(I(A))for(var xe=0;xe<A.length;xe++)W=A[xe],oe=_e+z(W,xe),fe+=w(W,Y,H,oe,ae);else if(xe=b(A),typeof xe=="function")for(A=xe.call(A),xe=0;!(W=A.next()).done;)W=W.value,oe=_e+z(W,xe++),fe+=w(W,Y,H,oe,ae);else if(oe==="object"){if(typeof A.then=="function")return w(j(A),Y,H,W,ae);throw Y=String(A),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return fe}function E(A,Y,H){if(A==null)return A;var W=[],ae=0;return w(A,W,"","",function(oe){return Y.call(H,oe,ae++)}),W}function q(A){if(A._status===-1){var Y=A._result;Y=Y(),Y.then(function(H){(A._status===0||A._status===-1)&&(A._status=1,A._result=H)},function(H){(A._status===0||A._status===-1)&&(A._status=2,A._result=H)}),A._status===-1&&(A._status=0,A._result=Y)}if(A._status===1)return A._result.default;throw A._result}var V=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},O={map:E,forEach:function(A,Y,H){E(A,function(){Y.apply(this,arguments)},H)},count:function(A){var Y=0;return E(A,function(){Y++}),Y},toArray:function(A){return E(A,function(Y){return Y})||[]},only:function(A){if(!X(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return De.Activity=y,De.Children=O,De.Component=L,De.Fragment=a,De.Profiler=f,De.PureComponent=B,De.StrictMode=i,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,De.__COMPILER_RUNTIME={__proto__:null,c:function(A){return R.H.useMemoCache(A)}},De.cache=function(A){return function(){return A.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(A,Y,H){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var W=S({},A.props),ae=A.key;if(Y!=null)for(oe in Y.key!==void 0&&(ae=""+Y.key),Y)!K.call(Y,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&Y.ref===void 0||(W[oe]=Y[oe]);var oe=arguments.length-2;if(oe===1)W.children=H;else if(1<oe){for(var fe=Array(oe),_e=0;_e<oe;_e++)fe[_e]=arguments[_e+2];W.children=fe}return F(A.type,ae,W)},De.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:x,_context:A},A},De.createElement=function(A,Y,H){var W,ae={},oe=null;if(Y!=null)for(W in Y.key!==void 0&&(oe=""+Y.key),Y)K.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ae[W]=Y[W]);var fe=arguments.length-2;if(fe===1)ae.children=H;else if(1<fe){for(var _e=Array(fe),xe=0;xe<fe;xe++)_e[xe]=arguments[xe+2];ae.children=_e}if(A&&A.defaultProps)for(W in fe=A.defaultProps,fe)ae[W]===void 0&&(ae[W]=fe[W]);return F(A,oe,ae)},De.createRef=function(){return{current:null}},De.forwardRef=function(A){return{$$typeof:_,render:A}},De.isValidElement=X,De.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:q}},De.memo=function(A,Y){return{$$typeof:d,type:A,compare:Y===void 0?null:Y}},De.startTransition=function(A){var Y=R.T,H={};R.T=H;try{var W=A(),ae=R.S;ae!==null&&ae(H,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Z,V)}catch(oe){V(oe)}finally{Y!==null&&H.types!==null&&(Y.types=H.types),R.T=Y}},De.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},De.use=function(A){return R.H.use(A)},De.useActionState=function(A,Y,H){return R.H.useActionState(A,Y,H)},De.useCallback=function(A,Y){return R.H.useCallback(A,Y)},De.useContext=function(A){return R.H.useContext(A)},De.useDebugValue=function(){},De.useDeferredValue=function(A,Y){return R.H.useDeferredValue(A,Y)},De.useEffect=function(A,Y){return R.H.useEffect(A,Y)},De.useEffectEvent=function(A){return R.H.useEffectEvent(A)},De.useId=function(){return R.H.useId()},De.useImperativeHandle=function(A,Y,H){return R.H.useImperativeHandle(A,Y,H)},De.useInsertionEffect=function(A,Y){return R.H.useInsertionEffect(A,Y)},De.useLayoutEffect=function(A,Y){return R.H.useLayoutEffect(A,Y)},De.useMemo=function(A,Y){return R.H.useMemo(A,Y)},De.useOptimistic=function(A,Y){return R.H.useOptimistic(A,Y)},De.useReducer=function(A,Y,H){return R.H.useReducer(A,Y,H)},De.useRef=function(A){return R.H.useRef(A)},De.useState=function(A){return R.H.useState(A)},De.useSyncExternalStore=function(A,Y,H){return R.H.useSyncExternalStore(A,Y,H)},De.useTransition=function(){return R.H.useTransition()},De.version="19.2.3",De}var Ad;function Gs(){return Ad||(Ad=1,ns.exports=fm()),ns.exports}var $=Gs(),ls={exports:{}},Fi={},as={exports:{}},is={};var Td;function dm(){return Td||(Td=1,(function(c){function r(w,E){var q=w.length;w.push(E);e:for(;0<q;){var V=q-1>>>1,O=w[V];if(0<f(O,E))w[V]=E,w[q]=O,q=V;else break e}}function a(w){return w.length===0?null:w[0]}function i(w){if(w.length===0)return null;var E=w[0],q=w.pop();if(q!==E){w[0]=q;e:for(var V=0,O=w.length,A=O>>>1;V<A;){var Y=2*(V+1)-1,H=w[Y],W=Y+1,ae=w[W];if(0>f(H,q))W<O&&0>f(ae,H)?(w[V]=ae,w[W]=q,V=W):(w[V]=H,w[Y]=q,V=Y);else if(W<O&&0>f(ae,q))w[V]=ae,w[W]=q,V=W;else break e}}return E}function f(w,E){var q=w.sortIndex-E.sortIndex;return q!==0?q:w.id-E.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;c.unstable_now=function(){return x.now()}}else{var h=Date,_=h.now();c.unstable_now=function(){return h.now()-_}}var m=[],d=[],p=1,y=null,N=3,b=!1,D=!1,S=!1,C=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function k(w){for(var E=a(d);E!==null;){if(E.callback===null)i(d);else if(E.startTime<=w)i(d),E.sortIndex=E.expirationTime,r(m,E);else break;E=a(d)}}function I(w){if(S=!1,k(w),!D)if(a(m)!==null)D=!0,Z||(Z=!0,v());else{var E=a(d);E!==null&&j(I,E.startTime-w)}}var Z=!1,R=-1,K=5,F=-1;function Q(){return C?!0:!(c.unstable_now()-F<K)}function X(){if(C=!1,Z){var w=c.unstable_now();F=w;var E=!0;try{e:{D=!1,S&&(S=!1,G(R),R=-1),b=!0;var q=N;try{t:{for(k(w),y=a(m);y!==null&&!(y.expirationTime>w&&Q());){var V=y.callback;if(typeof V=="function"){y.callback=null,N=y.priorityLevel;var O=V(y.expirationTime<=w);if(w=c.unstable_now(),typeof O=="function"){y.callback=O,k(w),E=!0;break t}y===a(m)&&i(m),k(w)}else i(m);y=a(m)}if(y!==null)E=!0;else{var A=a(d);A!==null&&j(I,A.startTime-w),E=!1}}break e}finally{y=null,N=q,b=!1}E=void 0}}finally{E?v():Z=!1}}}var v;if(typeof B=="function")v=function(){B(X)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,z=M.port2;M.port1.onmessage=X,v=function(){z.postMessage(null)}}else v=function(){L(X,0)};function j(w,E){R=L(function(){w(c.unstable_now())},E)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(w){w.callback=null},c.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<w?Math.floor(1e3/w):5},c.unstable_getCurrentPriorityLevel=function(){return N},c.unstable_next=function(w){switch(N){case 1:case 2:case 3:var E=3;break;default:E=N}var q=N;N=E;try{return w()}finally{N=q}},c.unstable_requestPaint=function(){C=!0},c.unstable_runWithPriority=function(w,E){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var q=N;N=w;try{return E()}finally{N=q}},c.unstable_scheduleCallback=function(w,E,q){var V=c.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?V+q:V):q=V,w){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=q+O,w={id:p++,callback:E,priorityLevel:w,startTime:q,expirationTime:O,sortIndex:-1},q>V?(w.sortIndex=q,r(d,w),a(m)===null&&w===a(d)&&(S?(G(R),R=-1):S=!0,j(I,q-V))):(w.sortIndex=O,r(m,w),D||b||(D=!0,Z||(Z=!0,v()))),w},c.unstable_shouldYield=Q,c.unstable_wrapCallback=function(w){var E=N;return function(){var q=N;N=E;try{return w.apply(this,arguments)}finally{N=q}}}})(is)),is}var Ed;function hm(){return Ed||(Ed=1,as.exports=dm()),as.exports}var rs={exports:{}},Zt={};var Ld;function mm(){if(Ld)return Zt;Ld=1;var c=Gs();function r(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function x(m,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:y==null?null:""+y,children:m,containerInfo:d,implementation:p}}var h=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zt.createPortal=function(m,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return x(m,d,null,p)},Zt.flushSync=function(m){var d=h.T,p=i.p;try{if(h.T=null,i.p=2,m)return m()}finally{h.T=d,i.p=p,i.d.f()}},Zt.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(m,d))},Zt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Zt.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var p=d.as,y=_(p,d.crossOrigin),N=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:N,fetchPriority:b}):p==="script"&&i.d.X(m,{crossOrigin:y,integrity:N,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Zt.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=_(d.as,d.crossOrigin);i.d.M(m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(m)},Zt.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=_(p,d.crossOrigin);i.d.L(m,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Zt.preloadModule=function(m,d){if(typeof m=="string")if(d){var p=_(d.as,d.crossOrigin);i.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(m)},Zt.requestFormReset=function(m){i.d.r(m)},Zt.unstable_batchedUpdates=function(m,d){return m(d)},Zt.useFormState=function(m,d,p){return h.H.useFormState(m,d,p)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var Gd;function bm(){if(Gd)return rs.exports;Gd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),rs.exports=mm(),rs.exports}var qd;function vm(){if(qd)return Fi;qd=1;var c=hm(),r=Gs(),a=bm();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(x(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=x(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return m(u),e;if(o===l)return m(u),t;o=o.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=o;else{for(var g=!1,T=u.child;T;){if(T===n){g=!0,n=u,l=o;break}if(T===l){g=!0,l=u,n=o;break}T=T.sibling}if(!g){for(T=o.child;T;){if(T===n){g=!0,n=o,l=u;break}if(T===l){g=!0,l=o,n=u;break}T=T.sibling}if(!g)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,N=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),B=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function v(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case L:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case Z:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case B:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return t=e.displayName||null,t!==null?t:z(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return z(e(t))}catch{}}return null}var j=Array.isArray,w=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},V=[],O=-1;function A(e){return{current:e}}function Y(e){0>O||(e.current=V[O],V[O]=null,O--)}function H(e,t){O++,V[O]=e.current,e.current=t}var W=A(null),ae=A(null),oe=A(null),fe=A(null);function _e(e,t){switch(H(oe,t),H(ae,e),H(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qf(t),e=Pf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(W),H(W,e)}function xe(){Y(W),Y(ae),Y(oe)}function me(e){e.memoizedState!==null&&H(fe,e);var t=W.current,n=Pf(t,e.type);t!==n&&(H(ae,e),H(W,n))}function he(e){ae.current===e&&(Y(W),Y(ae)),fe.current===e&&(Y(fe),Ji._currentValue=q)}var Re,it;function gt(e){if(Re===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Re=t&&t[1]||"",it=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+e+it}var xt=!1;function Oe(e,t){if(!e||xt)return"";xt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(le){var ne=le}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(le){ne=le}e.call(ue.prototype)}}else{try{throw Error()}catch(le){ne=le}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(le){if(le&&ne&&typeof le.stack=="string")return[le.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),g=o[0],T=o[1];if(g&&T){var U=g.split(`
`),te=T.split(`
`);for(u=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;u<te.length&&!te[u].includes("DetermineComponentFrameRoot");)u++;if(l===U.length||u===te.length)for(l=U.length-1,u=te.length-1;1<=l&&0<=u&&U[l]!==te[u];)u--;for(;1<=l&&0<=u;l--,u--)if(U[l]!==te[u]){if(l!==1||u!==1)do if(l--,u--,0>u||U[l]!==te[u]){var ie=`
`+U[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=u);break}}}finally{xt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?gt(n):""}function yt(e,t){switch(e.tag){case 26:case 27:case 5:return gt(e.type);case 16:return gt("Lazy");case 13:return e.child!==t&&t!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return Oe(e.type,!1);case 11:return Oe(e.type.render,!1);case 1:return Oe(e.type,!0);case 31:return gt("Activity");default:return""}}function ot(e){try{var t="",n=null;do t+=yt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ht=Object.prototype.hasOwnProperty,Lt=c.unstable_scheduleCallback,Kt=c.unstable_cancelCallback,Wt=c.unstable_shouldYield,Xn=c.unstable_requestPaint,Je=c.unstable_now,yn=c.unstable_getCurrentPriorityLevel,yl=c.unstable_ImmediatePriority,Xl=c.unstable_UserBlockingPriority,Rn=c.unstable_NormalPriority,va=c.unstable_LowPriority,kn=c.unstable_IdlePriority,ci=c.log,Jl=c.unstable_setDisableYieldValue,$n=null,Bt=null;function Ve(e){if(typeof ci=="function"&&Jl(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode($n,e)}catch{}}var se=Math.clz32?Math.clz32:Ce,Le=Math.log,Ge=Math.LN2;function Ce(e){return e>>>=0,e===0?32:31-(Le(e)/Ge|0)|0}var ye=256,Ne=262144,ze=4194304;function ge(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function We(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,o=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~o,l!==0?u=ge(l):(g&=T,g!==0?u=ge(g):n||(n=T&~e,n!==0&&(u=ge(n))))):(T=l&~o,T!==0?u=ge(T):g!==0?u=ge(g):n||(n=l&~e,n!==0&&(u=ge(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function Ie(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Qe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pe(){var e=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $e(e,t,n,l,u,o){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,U=e.expirationTimes,te=e.hiddenUpdates;for(n=g&~n;0<n;){var ie=31-se(n),ue=1<<ie;T[ie]=0,U[ie]=-1;var ne=te[ie];if(ne!==null)for(te[ie]=null,ie=0;ie<ne.length;ie++){var le=ne[ie];le!==null&&(le.lane&=-536870913)}n&=~ue}l!==0&&je(e,l,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(g&~t))}function je(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-se(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function et(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-se(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function tt(e,t){var n=t&-t;return n=(n&42)!==0?1:nt(n),(n&(e.suspendedLanes|t))!==0?0:n}function nt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ga(){var e=E.p;return e!==0?e:(e=window.event,e===void 0?32:pd(e.type))}function Vl(e,t){var n=E.p;try{return E.p=e,t()}finally{E.p=n}}var _n=Math.random().toString(36).slice(2),Nt="__reactFiber$"+_n,Ut="__reactProps$"+_n,de="__reactContainer$"+_n,pe="__reactEvents$"+_n,Ze="__reactListeners$"+_n,Qt="__reactHandles$"+_n,wt="__reactResources$"+_n,sn="__reactMarker$"+_n;function ui(e){delete e[Nt],delete e[Ut],delete e[pe],delete e[Ze],delete e[Qt]}function ya(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[de]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ad(e);e!==null;){if(n=e[Nt])return n;e=ad(e)}return t}e=n,n=e.parentNode}return null}function pa(e){if(e=e[Nt]||e[de]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function si(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function _a(e){var t=e[wt];return t||(t=e[wt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Gt(e){e[sn]=!0}var Bs=new Set,Rs={};function Wl(e,t){Sa(e,t),Sa(e+"Capture",t)}function Sa(e,t){for(Rs[e]=t,e=0;e<t.length;e++)Bs.add(t[e])}var t1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ks={},Ys={};function n1(e){return ht.call(Ys,e)?!0:ht.call(ks,e)?!1:t1.test(e)?Ys[e]=!0:(ks[e]=!0,!1)}function sr(e,t,n){if(n1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function or(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function el(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Os(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,o=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){n=""+g,o.call(this,g)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(g){n=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function V0(e){if(!e._valueTracker){var t=Os(e)?"checked":"value";e._valueTracker=l1(e,t,""+e[t])}}function Is(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Os(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var a1=/[\n"\\]/g;function Cn(e){return e.replace(a1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function W0(e,t,n,l,u,o,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Q0(e,g,Sn(t)):n!=null?Q0(e,g,Sn(n)):l!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Sn(T):e.removeAttribute("name")}function Hs(e,t,n,l,u,o,g,T){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){V0(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),V0(e)}function Q0(e,t,n){t==="number"&&xr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ca(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Us(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function Zs(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(j(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),V0(e)}function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var i1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ks(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||i1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xs(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Ks(e,u,l)}else for(var o in t)t.hasOwnProperty(o)&&Ks(e,o,t[o])}function P0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(e){return c1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function tl(){}var F0=null;function $0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,ja=null;function Js(e){var t=pa(e);if(t&&(e=t.stateNode)){var n=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(W0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Ut]||null;if(!u)throw Error(i(90));W0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Is(l)}break e;case"textarea":Us(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ca(e,!!n.multiple,t,!1)}}}var ec=!1;function Vs(e,t,n){if(ec)return e(t,n);ec=!0;try{var l=e(t);return l}finally{if(ec=!1,(Ma!==null||ja!==null)&&($r(),Ma&&(t=Ma,e=ja,ja=Ma=null,Js(t),e)))for(t=0;t<e.length;t++)Js(e[t])}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ut]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(nl)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){tc=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{tc=!1}var pl=null,nc=null,dr=null;function Ws(){if(dr)return dr;var e,t=nc,n=t.length,l,u="value"in pl?pl.value:pl.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var g=n-e;for(l=1;l<=g&&t[n-l]===u[o-l];l++);return dr=u.slice(e,1<l?1-l:void 0)}function hr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mr(){return!0}function Qs(){return!1}function Pt(e){function t(n,l,u,o,g){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=o,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(o):o[T]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?mr:Qs,this.isPropagationStopped=Qs,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),t}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},br=Pt(Ql),fi=y({},Ql,{view:0,detail:0}),u1=Pt(fi),lc,ac,di,vr=y({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(lc=e.screenX-di.screenX,ac=e.screenY-di.screenY):ac=lc=0,di=e),lc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),Ps=Pt(vr),s1=y({},vr,{dataTransfer:0}),o1=Pt(s1),x1=y({},fi,{relatedTarget:0}),ic=Pt(x1),f1=y({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),d1=Pt(f1),h1=y({},Ql,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m1=Pt(h1),b1=y({},Ql,{data:0}),Fs=Pt(b1),v1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y1[e])?!!t[e]:!1}function rc(){return p1}var _1=y({},fi,{key:function(e){if(e.key){var t=v1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?g1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(e){return e.type==="keypress"?hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S1=Pt(_1),C1=y({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=Pt(C1),w1=y({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),M1=Pt(w1),j1=y({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=Pt(j1),D1=y({},vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N1=Pt(D1),A1=y({},Ql,{newState:0,oldState:0}),T1=Pt(A1),E1=[9,13,27,32],cc=nl&&"CompositionEvent"in window,hi=null;nl&&"documentMode"in document&&(hi=document.documentMode);var L1=nl&&"TextEvent"in window&&!hi,eo=nl&&(!cc||hi&&8<hi&&11>=hi),to=" ",no=!1;function lo(e,t){switch(e){case"keyup":return E1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var za=!1;function G1(e,t){switch(e){case"compositionend":return ao(t);case"keypress":return t.which!==32?null:(no=!0,to);case"textInput":return e=t.data,e===to&&no?null:e;default:return null}}function q1(e,t){if(za)return e==="compositionend"||!cc&&lo(e,t)?(e=Ws(),dr=nc=pl=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eo&&t.locale!=="ko"?null:t.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B1[e.type]:t==="textarea"}function ro(e,t,n,l){Ma?ja?ja.push(l):ja=[l]:Ma=l,t=r0(t,"onChange"),0<t.length&&(n=new br("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var mi=null,bi=null;function R1(e){Zf(e,0)}function gr(e){var t=si(e);if(Is(t))return e}function co(e,t){if(e==="change")return t}var uo=!1;if(nl){var uc;if(nl){var sc="oninput"in document;if(!sc){var so=document.createElement("div");so.setAttribute("oninput","return;"),sc=typeof so.oninput=="function"}uc=sc}else uc=!1;uo=uc&&(!document.documentMode||9<document.documentMode)}function oo(){mi&&(mi.detachEvent("onpropertychange",xo),bi=mi=null)}function xo(e){if(e.propertyName==="value"&&gr(bi)){var t=[];ro(t,bi,e,$0(e)),Vs(R1,t)}}function k1(e,t,n){e==="focusin"?(oo(),mi=t,bi=n,mi.attachEvent("onpropertychange",xo)):e==="focusout"&&oo()}function Y1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gr(bi)}function O1(e,t){if(e==="click")return gr(t)}function I1(e,t){if(e==="input"||e==="change")return gr(t)}function H1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:H1;function vi(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!ht.call(t,u)||!on(e[u],t[u]))return!1}return!0}function fo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ho(e,t){var n=fo(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fo(n)}}function mo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xr(e.document)}return t}function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var U1=nl&&"documentMode"in document&&11>=document.documentMode,Da=null,xc=null,gi=null,fc=!1;function vo(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fc||Da==null||Da!==xr(l)||(l=Da,"selectionStart"in l&&oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gi&&vi(gi,l)||(gi=l,l=r0(xc,"onSelect"),0<l.length&&(t=new br("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Da)))}function Pl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Na={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionrun:Pl("Transition","TransitionRun"),transitionstart:Pl("Transition","TransitionStart"),transitioncancel:Pl("Transition","TransitionCancel"),transitionend:Pl("Transition","TransitionEnd")},dc={},go={};nl&&(go=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Fl(e){if(dc[e])return dc[e];if(!Na[e])return e;var t=Na[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in go)return dc[e]=t[n];return e}var yo=Fl("animationend"),po=Fl("animationiteration"),_o=Fl("animationstart"),Z1=Fl("transitionrun"),K1=Fl("transitionstart"),X1=Fl("transitioncancel"),So=Fl("transitionend"),Co=new Map,hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hc.push("scrollEnd");function Yn(e,t){Co.set(e,t),Wl(t,[e])}var yr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],Aa=0,mc=0;function pr(){for(var e=Aa,t=mc=Aa=0;t<e;){var n=wn[t];wn[t++]=null;var l=wn[t];wn[t++]=null;var u=wn[t];wn[t++]=null;var o=wn[t];if(wn[t++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}o!==0&&wo(n,u,o)}}function _r(e,t,n,l){wn[Aa++]=e,wn[Aa++]=t,wn[Aa++]=n,wn[Aa++]=l,mc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function bc(e,t,n,l){return _r(e,t,n,l),Sr(e)}function $l(e,t){return _r(e,null,null,t),Sr(e)}function wo(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,l=o.alternate,l!==null&&(l.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-se(n),e=o.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),o):null}function Sr(e){if(50<Oi)throw Oi=0,Mu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ta={};function J1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,l){return new J1(e,t,n,l)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ll(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mo(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Cr(e,t,n,l,u,o){var g=0;if(l=e,typeof e=="function")vc(e)&&(g=1);else if(typeof e=="string")g=Fh(e,n,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=xn(31,n,t,u),e.elementType=F,e.lanes=o,e;case S:return ea(n.children,u,o,t);case C:g=8,u|=24;break;case L:return e=xn(12,n,t,u|2),e.elementType=L,e.lanes=o,e;case I:return e=xn(13,n,t,u),e.elementType=I,e.lanes=o,e;case Z:return e=xn(19,n,t,u),e.elementType=Z,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:g=10;break e;case G:g=9;break e;case k:g=11;break e;case R:g=14;break e;case K:g=16,l=null;break e}g=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=xn(g,n,t,u),t.elementType=e,t.type=l,t.lanes=o,t}function ea(e,t,n,l){return e=xn(7,e,l,t),e.lanes=n,e}function gc(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function jo(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function yc(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zo=new WeakMap;function Mn(e,t){if(typeof e=="object"&&e!==null){var n=zo.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ot(t)},zo.set(e,t),t)}return{value:e,source:t,stack:ot(t)}}var Ea=[],La=0,wr=null,yi=0,jn=[],zn=0,_l=null,Jn=1,Vn="";function al(e,t){Ea[La++]=yi,Ea[La++]=wr,wr=e,yi=t}function Do(e,t,n){jn[zn++]=Jn,jn[zn++]=Vn,jn[zn++]=_l,_l=e;var l=Jn;e=Vn;var u=32-se(l)-1;l&=~(1<<u),n+=1;var o=32-se(t)+u;if(30<o){var g=u-u%5;o=(l&(1<<g)-1).toString(32),l>>=g,u-=g,Jn=1<<32-se(t)+u|n<<u|l,Vn=o+e}else Jn=1<<o|n<<u|l,Vn=e}function pc(e){e.return!==null&&(al(e,1),Do(e,1,0))}function _c(e){for(;e===wr;)wr=Ea[--La],Ea[La]=null,yi=Ea[--La],Ea[La]=null;for(;e===_l;)_l=jn[--zn],jn[zn]=null,Vn=jn[--zn],jn[zn]=null,Jn=jn[--zn],jn[zn]=null}function No(e,t){jn[zn++]=Jn,jn[zn++]=Vn,jn[zn++]=_l,Jn=t.id,Vn=t.overflow,_l=e}var Rt=null,ft=null,He=!1,Sl=null,Dn=!1,Sc=Error(i(519));function Cl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pi(Mn(t,e)),Sc}function Ao(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Nt]=e,t[Ut]=l,n){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(n=0;n<Hi.length;n++)Be(Hi[n],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),Hs(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),Zs(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Vf(t.textContent,n)?(l.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),l.onScroll!=null&&Be("scroll",t),l.onScrollEnd!=null&&Be("scrollend",t),l.onClick!=null&&(t.onclick=tl),t=!0):t=!1,t||Cl(e,!0)}function To(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Rt=Rt.return}}function Ga(e){if(e!==Rt)return!1;if(!He)return To(e),He=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ou(e.type,e.memoizedProps)),n=!n),n&&ft&&Cl(e),To(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ft=ld(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ft=ld(e)}else t===27?(t=ft,Rl(e.type)?(e=Ku,Ku=null,ft=e):ft=t):ft=Rt?An(e.stateNode.nextSibling):null;return!0}function ta(){ft=Rt=null,He=!1}function Cc(){var e=Sl;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),Sl=null),e}function pi(e){Sl===null?Sl=[e]:Sl.push(e)}var wc=A(null),na=null,il=null;function wl(e,t,n){H(wc,t._currentValue),t._currentValue=n}function rl(e){e._currentValue=wc.current,Y(wc)}function Mc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function jc(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var g=u.child;o=o.firstContext;e:for(;o!==null;){var T=o;o=u;for(var U=0;U<t.length;U++)if(T.context===t[U]){o.lanes|=n,T=o.alternate,T!==null&&(T.lanes|=n),Mc(o.return,n,e),l||(g=null);break e}o=T.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(i(341));g.lanes|=n,o=g.alternate,o!==null&&(o.lanes|=n),Mc(g,n,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function qa(e,t,n,l){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var T=u.type;on(u.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(u===fe.current){if(g=u.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ji):e=[Ji])}u=u.return}e!==null&&jc(t,e,n,l),t.flags|=262144}function Mr(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function la(e){na=e,il=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return Eo(na,e)}function jr(e,t){return na===null&&la(e),Eo(e,t)}function Eo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},il===null){if(e===null)throw Error(i(308));il=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else il=il.next=t;return n}var V1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},W1=c.unstable_scheduleCallback,Q1=c.unstable_NormalPriority,Mt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zc(){return{controller:new V1,data:new Map,refCount:0}}function _i(e){e.refCount--,e.refCount===0&&W1(Q1,function(){e.controller.abort()})}var Si=null,Dc=0,Ba=0,Ra=null;function P1(e,t){if(Si===null){var n=Si=[];Dc=0,Ba=Tu(),Ra={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Dc++,t.then(Lo,Lo),t}function Lo(){if(--Dc===0&&Si!==null){Ra!==null&&(Ra.status="fulfilled");var e=Si;Si=null,Ba=0,Ra=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function F1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Go=w.S;w.S=function(e,t){gf=Je(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&P1(e,t),Go!==null&&Go(e,t)};var aa=A(null);function Nc(){var e=aa.current;return e!==null?e:st.pooledCache}function zr(e,t){t===null?H(aa,aa.current):H(aa,t.pool)}function qo(){var e=Nc();return e===null?null:{parent:Mt._currentValue,pool:e}}var ka=Error(i(460)),Ac=Error(i(474)),Dr=Error(i(542)),Nr={then:function(){}};function Bo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ro(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(tl,tl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yo(e),e;default:if(typeof t.status=="string")t.then(tl,tl);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yo(e),e}throw ra=t,ka}}function ia(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ra=n,ka):n}}var ra=null;function ko(){if(ra===null)throw Error(i(459));var e=ra;return ra=null,e}function Yo(e){if(e===ka||e===Dr)throw Error(i(483))}var Ya=null,Ci=0;function Ar(e){var t=Ci;return Ci+=1,Ya===null&&(Ya=[]),Ro(Ya,e,t)}function wi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Tr(e,t){throw t.$$typeof===N?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Oo(e){function t(P,J){if(e){var ee=P.deletions;ee===null?(P.deletions=[J],P.flags|=16):ee.push(J)}}function n(P,J){if(!e)return null;for(;J!==null;)t(P,J),J=J.sibling;return null}function l(P){for(var J=new Map;P!==null;)P.key!==null?J.set(P.key,P):J.set(P.index,P),P=P.sibling;return J}function u(P,J){return P=ll(P,J),P.index=0,P.sibling=null,P}function o(P,J,ee){return P.index=ee,e?(ee=P.alternate,ee!==null?(ee=ee.index,ee<J?(P.flags|=67108866,J):ee):(P.flags|=67108866,J)):(P.flags|=1048576,J)}function g(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,J,ee,ce){return J===null||J.tag!==6?(J=gc(ee,P.mode,ce),J.return=P,J):(J=u(J,ee),J.return=P,J)}function U(P,J,ee,ce){var Se=ee.type;return Se===S?ie(P,J,ee.props.children,ce,ee.key):J!==null&&(J.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===K&&ia(Se)===J.type)?(J=u(J,ee.props),wi(J,ee),J.return=P,J):(J=Cr(ee.type,ee.key,ee.props,null,P.mode,ce),wi(J,ee),J.return=P,J)}function te(P,J,ee,ce){return J===null||J.tag!==4||J.stateNode.containerInfo!==ee.containerInfo||J.stateNode.implementation!==ee.implementation?(J=yc(ee,P.mode,ce),J.return=P,J):(J=u(J,ee.children||[]),J.return=P,J)}function ie(P,J,ee,ce,Se){return J===null||J.tag!==7?(J=ea(ee,P.mode,ce,Se),J.return=P,J):(J=u(J,ee),J.return=P,J)}function ue(P,J,ee){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=gc(""+J,P.mode,ee),J.return=P,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return ee=Cr(J.type,J.key,J.props,null,P.mode,ee),wi(ee,J),ee.return=P,ee;case D:return J=yc(J,P.mode,ee),J.return=P,J;case K:return J=ia(J),ue(P,J,ee)}if(j(J)||v(J))return J=ea(J,P.mode,ee,null),J.return=P,J;if(typeof J.then=="function")return ue(P,Ar(J),ee);if(J.$$typeof===B)return ue(P,jr(P,J),ee);Tr(P,J)}return null}function ne(P,J,ee,ce){var Se=J!==null?J.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Se!==null?null:T(P,J,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===Se?U(P,J,ee,ce):null;case D:return ee.key===Se?te(P,J,ee,ce):null;case K:return ee=ia(ee),ne(P,J,ee,ce)}if(j(ee)||v(ee))return Se!==null?null:ie(P,J,ee,ce,null);if(typeof ee.then=="function")return ne(P,J,Ar(ee),ce);if(ee.$$typeof===B)return ne(P,J,jr(P,ee),ce);Tr(P,ee)}return null}function le(P,J,ee,ce,Se){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return P=P.get(ee)||null,T(J,P,""+ce,Se);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return P=P.get(ce.key===null?ee:ce.key)||null,U(J,P,ce,Se);case D:return P=P.get(ce.key===null?ee:ce.key)||null,te(J,P,ce,Se);case K:return ce=ia(ce),le(P,J,ee,ce,Se)}if(j(ce)||v(ce))return P=P.get(ee)||null,ie(J,P,ce,Se,null);if(typeof ce.then=="function")return le(P,J,ee,Ar(ce),Se);if(ce.$$typeof===B)return le(P,J,ee,jr(J,ce),Se);Tr(J,ce)}return null}function be(P,J,ee,ce){for(var Se=null,Ke=null,ve=J,Ee=J=0,Ye=null;ve!==null&&Ee<ee.length;Ee++){ve.index>Ee?(Ye=ve,ve=null):Ye=ve.sibling;var Xe=ne(P,ve,ee[Ee],ce);if(Xe===null){ve===null&&(ve=Ye);break}e&&ve&&Xe.alternate===null&&t(P,ve),J=o(Xe,J,Ee),Ke===null?Se=Xe:Ke.sibling=Xe,Ke=Xe,ve=Ye}if(Ee===ee.length)return n(P,ve),He&&al(P,Ee),Se;if(ve===null){for(;Ee<ee.length;Ee++)ve=ue(P,ee[Ee],ce),ve!==null&&(J=o(ve,J,Ee),Ke===null?Se=ve:Ke.sibling=ve,Ke=ve);return He&&al(P,Ee),Se}for(ve=l(ve);Ee<ee.length;Ee++)Ye=le(ve,P,Ee,ee[Ee],ce),Ye!==null&&(e&&Ye.alternate!==null&&ve.delete(Ye.key===null?Ee:Ye.key),J=o(Ye,J,Ee),Ke===null?Se=Ye:Ke.sibling=Ye,Ke=Ye);return e&&ve.forEach(function(Hl){return t(P,Hl)}),He&&al(P,Ee),Se}function we(P,J,ee,ce){if(ee==null)throw Error(i(151));for(var Se=null,Ke=null,ve=J,Ee=J=0,Ye=null,Xe=ee.next();ve!==null&&!Xe.done;Ee++,Xe=ee.next()){ve.index>Ee?(Ye=ve,ve=null):Ye=ve.sibling;var Hl=ne(P,ve,Xe.value,ce);if(Hl===null){ve===null&&(ve=Ye);break}e&&ve&&Hl.alternate===null&&t(P,ve),J=o(Hl,J,Ee),Ke===null?Se=Hl:Ke.sibling=Hl,Ke=Hl,ve=Ye}if(Xe.done)return n(P,ve),He&&al(P,Ee),Se;if(ve===null){for(;!Xe.done;Ee++,Xe=ee.next())Xe=ue(P,Xe.value,ce),Xe!==null&&(J=o(Xe,J,Ee),Ke===null?Se=Xe:Ke.sibling=Xe,Ke=Xe);return He&&al(P,Ee),Se}for(ve=l(ve);!Xe.done;Ee++,Xe=ee.next())Xe=le(ve,P,Ee,Xe.value,ce),Xe!==null&&(e&&Xe.alternate!==null&&ve.delete(Xe.key===null?Ee:Xe.key),J=o(Xe,J,Ee),Ke===null?Se=Xe:Ke.sibling=Xe,Ke=Xe);return e&&ve.forEach(function(sm){return t(P,sm)}),He&&al(P,Ee),Se}function ut(P,J,ee,ce){if(typeof ee=="object"&&ee!==null&&ee.type===S&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var Se=ee.key;J!==null;){if(J.key===Se){if(Se=ee.type,Se===S){if(J.tag===7){n(P,J.sibling),ce=u(J,ee.props.children),ce.return=P,P=ce;break e}}else if(J.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===K&&ia(Se)===J.type){n(P,J.sibling),ce=u(J,ee.props),wi(ce,ee),ce.return=P,P=ce;break e}n(P,J);break}else t(P,J);J=J.sibling}ee.type===S?(ce=ea(ee.props.children,P.mode,ce,ee.key),ce.return=P,P=ce):(ce=Cr(ee.type,ee.key,ee.props,null,P.mode,ce),wi(ce,ee),ce.return=P,P=ce)}return g(P);case D:e:{for(Se=ee.key;J!==null;){if(J.key===Se)if(J.tag===4&&J.stateNode.containerInfo===ee.containerInfo&&J.stateNode.implementation===ee.implementation){n(P,J.sibling),ce=u(J,ee.children||[]),ce.return=P,P=ce;break e}else{n(P,J);break}else t(P,J);J=J.sibling}ce=yc(ee,P.mode,ce),ce.return=P,P=ce}return g(P);case K:return ee=ia(ee),ut(P,J,ee,ce)}if(j(ee))return be(P,J,ee,ce);if(v(ee)){if(Se=v(ee),typeof Se!="function")throw Error(i(150));return ee=Se.call(ee),we(P,J,ee,ce)}if(typeof ee.then=="function")return ut(P,J,Ar(ee),ce);if(ee.$$typeof===B)return ut(P,J,jr(P,ee),ce);Tr(P,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,J!==null&&J.tag===6?(n(P,J.sibling),ce=u(J,ee),ce.return=P,P=ce):(n(P,J),ce=gc(ee,P.mode,ce),ce.return=P,P=ce),g(P)):n(P,J)}return function(P,J,ee,ce){try{Ci=0;var Se=ut(P,J,ee,ce);return Ya=null,Se}catch(ve){if(ve===ka||ve===Dr)throw ve;var Ke=xn(29,ve,null,P.mode);return Ke.lanes=ce,Ke.return=P,Ke}}}var ca=Oo(!0),Io=Oo(!1),Ml=!1;function Tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ec(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function jl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Sr(e),wo(e,null,n),t}return _r(e,l,t,n),Sr(e)}function Mi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,et(e,n)}}function Lc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=g:o=o.next=g,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Gc=!1;function ji(){if(Gc){var e=Ra;if(e!==null)throw e}}function zi(e,t,n,l){Gc=!1;var u=e.updateQueue;Ml=!1;var o=u.firstBaseUpdate,g=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var U=T,te=U.next;U.next=null,g===null?o=te:g.next=te,g=U;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==g&&(T===null?ie.firstBaseUpdate=te:T.next=te,ie.lastBaseUpdate=U))}if(o!==null){var ue=u.baseState;g=0,ie=te=U=null,T=o;do{var ne=T.lane&-536870913,le=ne!==T.lane;if(le?(ke&ne)===ne:(l&ne)===ne){ne!==0&&ne===Ba&&(Gc=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=e,we=T;ne=t;var ut=n;switch(we.tag){case 1:if(be=we.payload,typeof be=="function"){ue=be.call(ut,ue,ne);break e}ue=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=we.payload,ne=typeof be=="function"?be.call(ut,ue,ne):be,ne==null)break e;ue=y({},ue,ne);break e;case 2:Ml=!0}}ne=T.callback,ne!==null&&(e.flags|=64,le&&(e.flags|=8192),le=u.callbacks,le===null?u.callbacks=[ne]:le.push(ne))}else le={lane:ne,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(te=ie=le,U=ue):ie=ie.next=le,g|=ne;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;le=T,T=le.next,le.next=null,u.lastBaseUpdate=le,u.shared.pending=null}}while(!0);ie===null&&(U=ue),u.baseState=U,u.firstBaseUpdate=te,u.lastBaseUpdate=ie,o===null&&(u.shared.lanes=0),El|=g,e.lanes=g,e.memoizedState=ue}}function Ho(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Uo(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ho(n[e],t)}var Oa=A(null),Er=A(0);function Zo(e,t){e=ml,H(Er,e),H(Oa,t),ml=e|t.baseLanes}function qc(){H(Er,ml),H(Oa,Oa.current)}function Bc(){ml=Er.current,Y(Oa),Y(Er)}var fn=A(null),Nn=null;function Dl(e){var t=e.alternate;H(_t,_t.current&1),H(fn,e),Nn===null&&(t===null||Oa.current!==null||t.memoizedState!==null)&&(Nn=e)}function Rc(e){H(_t,_t.current),H(fn,e),Nn===null&&(Nn=e)}function Ko(e){e.tag===22?(H(_t,_t.current),H(fn,e),Nn===null&&(Nn=e)):Nl()}function Nl(){H(_t,_t.current),H(fn,fn.current)}function dn(e){Y(fn),Nn===e&&(Nn=null),Y(_t)}var _t=A(0);function Lr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Uu(n)||Zu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=0,Te=null,rt=null,jt=null,Gr=!1,Ia=!1,ua=!1,qr=0,Di=0,Ha=null,$1=0;function bt(){throw Error(i(321))}function kc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Yc(e,t,n,l,u,o){return cl=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?Dx:eu,ua=!1,o=n(l,u),ua=!1,Ia&&(o=Jo(t,n,l,u)),Xo(e),o}function Xo(e){w.H=Ti;var t=rt!==null&&rt.next!==null;if(cl=0,jt=rt=Te=null,Gr=!1,Di=0,Ha=null,t)throw Error(i(300));e===null||zt||(e=e.dependencies,e!==null&&Mr(e)&&(zt=!0))}function Jo(e,t,n,l){Te=e;var u=0;do{if(Ia&&(Ha=null),Di=0,Ia=!1,25<=u)throw Error(i(301));if(u+=1,jt=rt=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}w.H=Nx,o=t(n,l)}while(Ia);return o}function eh(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?Ni(t):t,e=e.useState()[0],(rt!==null?rt.memoizedState:null)!==e&&(Te.flags|=1024),t}function Oc(){var e=qr!==0;return qr=0,e}function Ic(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hc(e){if(Gr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gr=!1}cl=0,jt=rt=Te=null,Ia=!1,Di=qr=0,Ha=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Te.memoizedState=jt=e:jt=jt.next=e,jt}function St(){if(rt===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=jt===null?Te.memoizedState:jt.next;if(t!==null)jt=t,rt=e;else{if(e===null)throw Te.alternate===null?Error(i(467)):Error(i(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},jt===null?Te.memoizedState=jt=e:jt=jt.next=e}return jt}function Br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ni(e){var t=Di;return Di+=1,Ha===null&&(Ha=[]),e=Ro(Ha,e,t),t=Te,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?Dx:eu),e}function Rr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ni(e);if(e.$$typeof===B)return kt(e)}throw Error(i(438,String(e)))}function Uc(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Br(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Q;return t.index++,n}function ul(e,t){return typeof t=="function"?t(e):t}function kr(e){var t=St();return Zc(t,rt,e)}function Zc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,o=l.pending;if(o!==null){if(u!==null){var g=u.next;u.next=o.next,o.next=g}t.baseQueue=u=o,l.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var T=g=null,U=null,te=t,ie=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(ke&ue)===ue:(cl&ue)===ue){var ne=te.revertLane;if(ne===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===Ba&&(ie=!0);else if((cl&ne)===ne){te=te.next,ne===Ba&&(ie=!0);continue}else ue={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(T=U=ue,g=o):U=U.next=ue,Te.lanes|=ne,El|=ne;ue=te.action,ua&&n(o,ue),o=te.hasEagerState?te.eagerState:n(o,ue)}else ne={lane:ue,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(T=U=ne,g=o):U=U.next=ne,Te.lanes|=ue,El|=ue;te=te.next}while(te!==null&&te!==t);if(U===null?g=o:U.next=T,!on(o,e.memoizedState)&&(zt=!0,ie&&(n=Ra,n!==null)))throw n;e.memoizedState=o,e.baseState=g,e.baseQueue=U,l.lastRenderedState=o}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Kc(e){var t=St(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var g=u=u.next;do o=e(o,g.action),g=g.next;while(g!==u);on(o,t.memoizedState)||(zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function Vo(e,t,n){var l=Te,u=St(),o=He;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var g=!on((rt||u).memoizedState,n);if(g&&(u.memoizedState=n,zt=!0),u=u.queue,Vc(Po.bind(null,l,u,e),[e]),u.getSnapshot!==t||g||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},Qo.bind(null,l,u,n,t),null),st===null)throw Error(i(349));o||(cl&127)!==0||Wo(l,t,n)}return n}function Wo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Br(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qo(e,t,n,l){t.value=n,t.getSnapshot=l,Fo(t)&&$o(e)}function Po(e,t,n){return n(function(){Fo(t)&&$o(e)})}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function $o(e){var t=$l(e,2);t!==null&&nn(t,e,2)}function Xc(e){var t=Xt();if(typeof e=="function"){var n=e;if(e=n(),ua){Ve(!0);try{n()}finally{Ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:e},t}function ex(e,t,n,l){return e.baseState=n,Zc(e,rt,typeof l=="function"?l:ul)}function th(e,t,n,l,u){if(Ir(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){o.listeners.push(g)}};w.T!==null?n(!0):o.isTransition=!1,l(o),n=t.pending,n===null?(o.next=t.pending=o,tx(t,o)):(o.next=n.next,t.pending=n.next=o)}}function tx(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var o=w.T,g={};w.T=g;try{var T=n(u,l),U=w.S;U!==null&&U(g,T),nx(e,t,T)}catch(te){Jc(e,t,te)}finally{o!==null&&g.types!==null&&(o.types=g.types),w.T=o}}else try{o=n(u,l),nx(e,t,o)}catch(te){Jc(e,t,te)}}function nx(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){lx(e,t,l)},function(l){return Jc(e,t,l)}):lx(e,t,n)}function lx(e,t,n){t.status="fulfilled",t.value=n,ax(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,tx(e,n)))}function Jc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ax(t),t=t.next;while(t!==l)}e.action=null}function ax(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ix(e,t){return t}function rx(e,t){if(He){var n=st.formState;if(n!==null){e:{var l=Te;if(He){if(ft){t:{for(var u=ft,o=Dn;u.nodeType!==8;){if(!o){u=null;break t}if(u=An(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){ft=An(u.nextSibling),l=u.data==="F!";break e}}Cl(l)}l=!1}l&&(t=n[0])}}return n=Xt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ix,lastRenderedState:t},n.queue=l,n=Mx.bind(null,Te,l),l.dispatch=n,l=Xc(!1),o=$c.bind(null,Te,!1,l.queue),l=Xt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=th.bind(null,Te,u,o,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function cx(e){var t=St();return ux(t,rt,e)}function ux(e,t,n){if(t=Zc(e,t,ix)[0],e=kr(ul)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ni(t)}catch(g){throw g===ka?Dr:g}else l=t;t=St();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Ua(9,{destroy:void 0},nh.bind(null,u,n),null)),[l,o,e]}function nh(e,t){e.action=t}function sx(e){var t=St(),n=rt;if(n!==null)return ux(t,n,e);St(),t=t.memoizedState,n=St();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ua(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Br(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function ox(){return St().memoizedState}function Yr(e,t,n,l){var u=Xt();Te.flags|=e,u.memoizedState=Ua(1|t,{destroy:void 0},n,l===void 0?null:l)}function Or(e,t,n,l){var u=St();l=l===void 0?null:l;var o=u.memoizedState.inst;rt!==null&&l!==null&&kc(l,rt.memoizedState.deps)?u.memoizedState=Ua(t,o,n,l):(Te.flags|=e,u.memoizedState=Ua(1|t,o,n,l))}function xx(e,t){Yr(8390656,8,e,t)}function Vc(e,t){Or(2048,8,e,t)}function lh(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Br(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fx(e){var t=St().memoizedState;return lh({ref:t,nextImpl:e}),function(){if((Fe&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function dx(e,t){return Or(4,2,e,t)}function hx(e,t){return Or(4,4,e,t)}function mx(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bx(e,t,n){n=n!=null?n.concat([e]):null,Or(4,4,mx.bind(null,t,e),n)}function Wc(){}function vx(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&kc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function gx(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&kc(t,l[1]))return l[0];if(l=e(),ua){Ve(!0);try{e()}finally{Ve(!1)}}return n.memoizedState=[l,t],l}function Qc(e,t,n){return n===void 0||(cl&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=pf(),Te.lanes|=e,El|=e,n)}function yx(e,t,n,l){return on(n,t)?n:Oa.current!==null?(e=Qc(e,n,l),on(e,t)||(zt=!0),e):(cl&42)===0||(cl&1073741824)!==0&&(ke&261930)===0?(zt=!0,e.memoizedState=n):(e=pf(),Te.lanes|=e,El|=e,t)}function px(e,t,n,l,u){var o=E.p;E.p=o!==0&&8>o?o:8;var g=w.T,T={};w.T=T,$c(e,!1,t,n);try{var U=u(),te=w.S;if(te!==null&&te(T,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ie=F1(U,l);Ai(e,t,ie,bn(e))}else Ai(e,t,l,bn(e))}catch(ue){Ai(e,t,{then:function(){},status:"rejected",reason:ue},bn())}finally{E.p=o,g!==null&&T.types!==null&&(g.types=T.types),w.T=g}}function ah(){}function Pc(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=_x(e).queue;px(e,u,t,q,n===null?ah:function(){return Sx(e),n(l)})}function _x(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:q},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sx(e){var t=_x(e);t.next===null&&(t=e.alternate.memoizedState),Ai(e,t.next.queue,{},bn())}function Fc(){return kt(Ji)}function Cx(){return St().memoizedState}function wx(){return St().memoizedState}function ih(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=bn();e=jl(n);var l=zl(t,e,n);l!==null&&(nn(l,t,n),Mi(l,t,n)),t={cache:zc()},e.payload=t;return}t=t.return}}function rh(e,t,n){var l=bn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ir(e)?jx(t,n):(n=bc(e,t,n,l),n!==null&&(nn(n,e,l),zx(n,t,l)))}function Mx(e,t,n){var l=bn();Ai(e,t,n,l)}function Ai(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ir(e))jx(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var g=t.lastRenderedState,T=o(g,n);if(u.hasEagerState=!0,u.eagerState=T,on(T,g))return _r(e,t,u,0),st===null&&pr(),!1}catch{}if(n=bc(e,t,u,l),n!==null)return nn(n,e,l),zx(n,t,l),!0}return!1}function $c(e,t,n,l){if(l={lane:2,revertLane:Tu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ir(e)){if(t)throw Error(i(479))}else t=bc(e,n,l,2),t!==null&&nn(t,e,2)}function Ir(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function jx(e,t){Ia=Gr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zx(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,et(e,n)}}var Ti={readContext:kt,use:Rr,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};Ti.useEffectEvent=bt;var Dx={readContext:kt,use:Rr,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:xx,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Yr(4194308,4,mx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){Yr(4,2,e,t)},useMemo:function(e,t){var n=Xt();t=t===void 0?null:t;var l=e();if(ua){Ve(!0);try{e()}finally{Ve(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Xt();if(n!==void 0){var u=n(t);if(ua){Ve(!0);try{n(t)}finally{Ve(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=rh.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Xc(e);var t=e.queue,n=Mx.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wc,useDeferredValue:function(e,t){var n=Xt();return Qc(n,e,t)},useTransition:function(){var e=Xc(!1);return e=px.bind(null,Te,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,u=Xt();if(He){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),st===null)throw Error(i(349));(ke&127)!==0||Wo(l,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,xx(Po.bind(null,l,o,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},Qo.bind(null,l,o,n,t),null),n},useId:function(){var e=Xt(),t=st.identifierPrefix;if(He){var n=Vn,l=Jn;n=(l&~(1<<32-se(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=qr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=$1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fc,useFormState:rx,useActionState:rx,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$c.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uc,useCacheRefresh:function(){return Xt().memoizedState=ih.bind(null,Te)},useEffectEvent:function(e){var t=Xt(),n={impl:e};return t.memoizedState=n,function(){if((Fe&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},eu={readContext:kt,use:Rr,useCallback:vx,useContext:kt,useEffect:Vc,useImperativeHandle:bx,useInsertionEffect:dx,useLayoutEffect:hx,useMemo:gx,useReducer:kr,useRef:ox,useState:function(){return kr(ul)},useDebugValue:Wc,useDeferredValue:function(e,t){var n=St();return yx(n,rt.memoizedState,e,t)},useTransition:function(){var e=kr(ul)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Vo,useId:Cx,useHostTransitionStatus:Fc,useFormState:cx,useActionState:cx,useOptimistic:function(e,t){var n=St();return ex(n,rt,e,t)},useMemoCache:Uc,useCacheRefresh:wx};eu.useEffectEvent=fx;var Nx={readContext:kt,use:Rr,useCallback:vx,useContext:kt,useEffect:Vc,useImperativeHandle:bx,useInsertionEffect:dx,useLayoutEffect:hx,useMemo:gx,useReducer:Kc,useRef:ox,useState:function(){return Kc(ul)},useDebugValue:Wc,useDeferredValue:function(e,t){var n=St();return rt===null?Qc(n,e,t):yx(n,rt.memoizedState,e,t)},useTransition:function(){var e=Kc(ul)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Vo,useId:Cx,useHostTransitionStatus:Fc,useFormState:sx,useActionState:sx,useOptimistic:function(e,t){var n=St();return rt!==null?ex(n,rt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Uc,useCacheRefresh:wx};Nx.useEffectEvent=fx;function tu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=bn(),u=jl(l);u.payload=t,n!=null&&(u.callback=n),t=zl(e,u,l),t!==null&&(nn(t,e,l),Mi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=bn(),u=jl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=zl(e,u,l),t!==null&&(nn(t,e,l),Mi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),l=jl(n);l.tag=2,t!=null&&(l.callback=t),t=zl(e,l,n),t!==null&&(nn(t,e,n),Mi(t,e,n))}};function Ax(e,t,n,l,u,o,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,g):t.prototype&&t.prototype.isPureReactComponent?!vi(n,l)||!vi(u,o):!0}function Tx(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&nu.enqueueReplaceState(t,t.state,null)}function sa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Ex(e){yr(e)}function Lx(e){console.error(e)}function Gx(e){yr(e)}function Hr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function qx(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function lu(e,t,n){return n=jl(n),n.tag=3,n.payload={element:null},n.callback=function(){Hr(e,t)},n}function Bx(e){return e=jl(e),e.tag=3,e}function Rx(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=l.value;e.payload=function(){return u(o)},e.callback=function(){qx(t,n,l)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){qx(t,n,l),typeof u!="function"&&(Ll===null?Ll=new Set([this]):Ll.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ch(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&qa(t,n,u,!0),n=fn.current,n!==null){switch(n.tag){case 31:case 13:return Nn===null?e0():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Nr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Du(e,l,u)),!1;case 22:return n.flags|=65536,l===Nr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Du(e,l,u)),!1}throw Error(i(435,n.tag))}return Du(e,l,u),e0(),!1}if(He)return t=fn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Sc&&(e=Error(i(422),{cause:l}),pi(Mn(e,n)))):(l!==Sc&&(t=Error(i(423),{cause:l}),pi(Mn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Mn(l,n),u=lu(e.stateNode,l,u),Lc(e,u),vt!==4&&(vt=2)),!1;var o=Error(i(520),{cause:l});if(o=Mn(o,n),Yi===null?Yi=[o]:Yi.push(o),vt!==4&&(vt=2),t===null)return!0;l=Mn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=lu(n.stateNode,l,e),Lc(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ll===null||!Ll.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Bx(u),Rx(u,e,n,l),Lc(n,u),!1}n=n.return}while(n!==null);return!1}var au=Error(i(461)),zt=!1;function Yt(e,t,n,l){t.child=e===null?Io(t,null,n,l):ca(t,e.child,n,l)}function kx(e,t,n,l,u){n=n.render;var o=t.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return la(t),l=Yc(e,t,n,g,o,u),T=Oc(),e!==null&&!zt?(Ic(e,t,u),sl(e,t,u)):(He&&T&&pc(t),t.flags|=1,Yt(e,t,l,u),t.child)}function Yx(e,t,n,l,u){if(e===null){var o=n.type;return typeof o=="function"&&!vc(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Ox(e,t,o,l,u)):(e=Cr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!fu(e,u)){var g=o.memoizedProps;if(n=n.compare,n=n!==null?n:vi,n(g,l)&&e.ref===t.ref)return sl(e,t,u)}return t.flags|=1,e=ll(o,l),e.ref=t.ref,e.return=t,t.child=e}function Ox(e,t,n,l,u){if(e!==null){var o=e.memoizedProps;if(vi(o,l)&&e.ref===t.ref)if(zt=!1,t.pendingProps=l=o,fu(e,u))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,sl(e,t,u)}return iu(e,t,n,l,u)}function Ix(e,t,n,l){var u=l.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~o}else l=0,t.child=null;return Hx(e,t,o,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zr(t,o!==null?o.cachePool:null),o!==null?Zo(t,o):qc(),Ko(t);else return l=t.lanes=536870912,Hx(e,t,o!==null?o.baseLanes|n:n,n,l)}else o!==null?(zr(t,o.cachePool),Zo(t,o),Nl(),t.memoizedState=null):(e!==null&&zr(t,null),qc(),Nl());return Yt(e,t,u,n),t.child}function Ei(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Hx(e,t,n,l,u){var o=Nc();return o=o===null?null:{parent:Mt._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&zr(t,null),qc(),Ko(t),e!==null&&qa(e,t,l,!0),t.childLanes=u,null}function Ur(e,t){return t=Kr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ux(e,t,n){return ca(t,e.child,null,n),e=Ur(t,t.pendingProps),e.flags|=2,dn(t),t.memoizedState=null,e}function uh(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(l.mode==="hidden")return e=Ur(t,l),t.lanes=536870912,Ei(null,e);if(Rc(t),(e=ft)?(e=nd(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_l!==null?{id:Jn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=jo(e),n.return=t,t.child=n,Rt=t,ft=null)):e=null,e===null)throw Cl(t);return t.lanes=536870912,null}return Ur(t,l)}var o=e.memoizedState;if(o!==null){var g=o.dehydrated;if(Rc(t),u)if(t.flags&256)t.flags&=-257,t=Ux(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(zt||qa(e,t,n,!1),u=(n&e.childLanes)!==0,zt||u){if(l=st,l!==null&&(g=tt(l,n),g!==0&&g!==o.retryLane))throw o.retryLane=g,$l(e,g),nn(l,e,g),au;e0(),t=Ux(e,t,n)}else e=o.treeContext,ft=An(g.nextSibling),Rt=t,He=!0,Sl=null,Dn=!1,e!==null&&No(t,e),t=Ur(t,l),t.flags|=4096;return t}return e=ll(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function iu(e,t,n,l,u){return la(t),n=Yc(e,t,n,l,void 0,u),l=Oc(),e!==null&&!zt?(Ic(e,t,u),sl(e,t,u)):(He&&l&&pc(t),t.flags|=1,Yt(e,t,n,u),t.child)}function Zx(e,t,n,l,u,o){return la(t),t.updateQueue=null,n=Jo(t,l,n,u),Xo(e),l=Oc(),e!==null&&!zt?(Ic(e,t,o),sl(e,t,o)):(He&&l&&pc(t),t.flags|=1,Yt(e,t,n,o),t.child)}function Kx(e,t,n,l,u){if(la(t),t.stateNode===null){var o=Ta,g=n.contextType;typeof g=="object"&&g!==null&&(o=kt(g)),o=new n(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},Tc(t),g=n.contextType,o.context=typeof g=="object"&&g!==null?kt(g):Ta,o.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(tu(t,n,g,l),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(g=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),g!==o.state&&nu.enqueueReplaceState(o,o.state,null),zi(t,l,o,u),ji(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){o=t.stateNode;var T=t.memoizedProps,U=sa(n,T);o.props=U;var te=o.context,ie=n.contextType;g=Ta,typeof ie=="object"&&ie!==null&&(g=kt(ie));var ue=n.getDerivedStateFromProps;ie=typeof ue=="function"||typeof o.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,ie||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(T||te!==g)&&Tx(t,o,l,g),Ml=!1;var ne=t.memoizedState;o.state=ne,zi(t,l,o,u),ji(),te=t.memoizedState,T||ne!==te||Ml?(typeof ue=="function"&&(tu(t,n,ue,l),te=t.memoizedState),(U=Ml||Ax(t,n,U,l,ne,te,g))?(ie||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),o.props=l,o.state=te,o.context=g,l=U):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,Ec(e,t),g=t.memoizedProps,ie=sa(n,g),o.props=ie,ue=t.pendingProps,ne=o.context,te=n.contextType,U=Ta,typeof te=="object"&&te!==null&&(U=kt(te)),T=n.getDerivedStateFromProps,(te=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(g!==ue||ne!==U)&&Tx(t,o,l,U),Ml=!1,ne=t.memoizedState,o.state=ne,zi(t,l,o,u),ji();var le=t.memoizedState;g!==ue||ne!==le||Ml||e!==null&&e.dependencies!==null&&Mr(e.dependencies)?(typeof T=="function"&&(tu(t,n,T,l),le=t.memoizedState),(ie=Ml||Ax(t,n,ie,l,ne,le,U)||e!==null&&e.dependencies!==null&&Mr(e.dependencies))?(te||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,le,U),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,le,U)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||g===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=le),o.props=l,o.state=le,o.context=U,l=ie):(typeof o.componentDidUpdate!="function"||g===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return o=l,Zr(e,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&l?(t.child=ca(t,e.child,null,u),t.child=ca(t,null,n,u)):Yt(e,t,n,u),t.memoizedState=o.state,e=t.child):e=sl(e,t,u),e}function Xx(e,t,n,l){return ta(),t.flags|=256,Yt(e,t,n,l),t.child}var ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(e){return{baseLanes:e,cachePool:qo()}}function uu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=mn),e}function Jx(e,t,n){var l=t.pendingProps,u=!1,o=(t.flags&128)!==0,g;if((g=o)||(g=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(u?Dl(t):Nl(),(e=ft)?(e=nd(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_l!==null?{id:Jn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=jo(e),n.return=t,t.child=n,Rt=t,ft=null)):e=null,e===null)throw Cl(t);return Zu(e)?t.lanes=32:t.lanes=536870912,null}var T=l.children;return l=l.fallback,u?(Nl(),u=t.mode,T=Kr({mode:"hidden",children:T},u),l=ea(l,u,n,null),T.return=t,l.return=t,T.sibling=l,t.child=T,l=t.child,l.memoizedState=cu(n),l.childLanes=uu(e,g,n),t.memoizedState=ru,Ei(null,l)):(Dl(t),su(t,T))}var U=e.memoizedState;if(U!==null&&(T=U.dehydrated,T!==null)){if(o)t.flags&256?(Dl(t),t.flags&=-257,t=ou(e,t,n)):t.memoizedState!==null?(Nl(),t.child=e.child,t.flags|=128,t=null):(Nl(),T=l.fallback,u=t.mode,l=Kr({mode:"visible",children:l.children},u),T=ea(T,u,n,null),T.flags|=2,l.return=t,T.return=t,l.sibling=T,t.child=l,ca(t,e.child,null,n),l=t.child,l.memoizedState=cu(n),l.childLanes=uu(e,g,n),t.memoizedState=ru,t=Ei(null,l));else if(Dl(t),Zu(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var te=g.dgst;g=te,l=Error(i(419)),l.stack="",l.digest=g,pi({value:l,source:null,stack:null}),t=ou(e,t,n)}else if(zt||qa(e,t,n,!1),g=(n&e.childLanes)!==0,zt||g){if(g=st,g!==null&&(l=tt(g,n),l!==0&&l!==U.retryLane))throw U.retryLane=l,$l(e,l),nn(g,e,l),au;Uu(T)||e0(),t=ou(e,t,n)}else Uu(T)?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,ft=An(T.nextSibling),Rt=t,He=!0,Sl=null,Dn=!1,e!==null&&No(t,e),t=su(t,l.children),t.flags|=4096);return t}return u?(Nl(),T=l.fallback,u=t.mode,U=e.child,te=U.sibling,l=ll(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,te!==null?T=ll(te,T):(T=ea(T,u,n,null),T.flags|=2),T.return=t,l.return=t,l.sibling=T,t.child=l,Ei(null,l),l=t.child,T=e.child.memoizedState,T===null?T=cu(n):(u=T.cachePool,u!==null?(U=Mt._currentValue,u=u.parent!==U?{parent:U,pool:U}:u):u=qo(),T={baseLanes:T.baseLanes|n,cachePool:u}),l.memoizedState=T,l.childLanes=uu(e,g,n),t.memoizedState=ru,Ei(e.child,l)):(Dl(t),n=e.child,e=n.sibling,n=ll(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function su(e,t){return t=Kr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Kr(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function ou(e,t,n){return ca(t,e.child,null,n),e=su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vx(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Mc(e.return,t,n)}function xu(e,t,n,l,u,o){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:o}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=n,g.tailMode=u,g.treeForkCount=o)}function Wx(e,t,n){var l=t.pendingProps,u=l.revealOrder,o=l.tail;l=l.children;var g=_t.current,T=(g&2)!==0;if(T?(g=g&1|2,t.flags|=128):g&=1,H(_t,g),Yt(e,t,l,n),l=He?yi:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vx(e,n,t);else if(e.tag===19)Vx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Lr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),xu(t,!1,u,n,o,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Lr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}xu(t,!0,n,null,o,l);break;case"together":xu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),El|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(qa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ll(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ll(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Mr(e)))}function sh(e,t,n){switch(t.tag){case 3:_e(t,t.stateNode.containerInfo),wl(t,Mt,e.memoizedState.cache),ta();break;case 27:case 5:me(t);break;case 4:_e(t,t.stateNode.containerInfo);break;case 10:wl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Rc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Dl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jx(e,t,n):(Dl(t),e=sl(e,t,n),e!==null?e.sibling:null);Dl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(qa(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Wx(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),H(_t,_t.current),l)break;return null;case 22:return t.lanes=0,Ix(e,t,n,t.pendingProps);case 24:wl(t,Mt,e.memoizedState.cache)}return sl(e,t,n)}function Qx(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!fu(e,n)&&(t.flags&128)===0)return zt=!1,sh(e,t,n);zt=(e.flags&131072)!==0}else zt=!1,He&&(t.flags&1048576)!==0&&Do(t,yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ia(t.elementType),t.type=e,typeof e=="function")vc(e)?(l=sa(e,l),t.tag=1,t=Kx(null,t,e,l,n)):(t.tag=0,t=iu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===k){t.tag=11,t=kx(null,t,e,l,n);break e}else if(u===R){t.tag=14,t=Yx(null,t,e,l,n);break e}}throw t=z(e)||e,Error(i(306,t,""))}}return t;case 0:return iu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=sa(l,t.pendingProps),Kx(e,t,l,u,n);case 3:e:{if(_e(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var o=t.memoizedState;u=o.element,Ec(e,t),zi(t,l,null,n);var g=t.memoizedState;if(l=g.cache,wl(t,Mt,l),l!==o.cache&&jc(t,[Mt],n,!0),ji(),l=g.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Xx(e,t,l,n);break e}else if(l!==u){u=Mn(Error(i(424)),t),pi(u),t=Xx(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ft=An(e.firstChild),Rt=t,He=!0,Sl=null,Dn=!0,n=Io(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),l===u){t=sl(e,t,n);break e}Yt(e,t,l,n)}t=t.child}return t;case 26:return Zr(e,t),e===null?(n=ud(t.type,null,t.pendingProps,null))?t.memoizedState=n:He||(n=t.type,e=t.pendingProps,l=c0(oe.current).createElement(n),l[Nt]=t,l[Ut]=e,Ot(l,n,e),Gt(l),t.stateNode=l):t.memoizedState=ud(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return me(t),e===null&&He&&(l=t.stateNode=id(t.type,t.pendingProps,oe.current),Rt=t,Dn=!0,u=ft,Rl(t.type)?(Ku=u,ft=An(l.firstChild)):ft=u),Yt(e,t,t.pendingProps.children,n),Zr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((u=l=ft)&&(l=Yh(l,t.type,t.pendingProps,Dn),l!==null?(t.stateNode=l,Rt=t,ft=An(l.firstChild),Dn=!1,u=!0):u=!1),u||Cl(t)),me(t),u=t.type,o=t.pendingProps,g=e!==null?e.memoizedProps:null,l=o.children,Ou(u,o)?l=null:g!==null&&Ou(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=Yc(e,t,eh,null,null,n),Ji._currentValue=u),Zr(e,t),Yt(e,t,l,n),t.child;case 6:return e===null&&He&&((e=n=ft)&&(n=Oh(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Rt=t,ft=null,e=!0):e=!1),e||Cl(t)),null;case 13:return Jx(e,t,n);case 4:return _e(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ca(t,null,l,n):Yt(e,t,l,n),t.child;case 11:return kx(e,t,t.type,t.pendingProps,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,wl(t,t.type,l.value),Yt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,la(t),u=kt(u),l=l(u),t.flags|=1,Yt(e,t,l,n),t.child;case 14:return Yx(e,t,t.type,t.pendingProps,n);case 15:return Ox(e,t,t.type,t.pendingProps,n);case 19:return Wx(e,t,n);case 31:return uh(e,t,n);case 22:return Ix(e,t,n,t.pendingProps);case 24:return la(t),l=kt(Mt),e===null?(u=Nc(),u===null&&(u=st,o=zc(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:l,cache:u},Tc(t),wl(t,Mt,u)):((e.lanes&n)!==0&&(Ec(e,t),zi(t,null,null,n),ji()),u=e.memoizedState,o=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),wl(t,Mt,l)):(l=o.cache,wl(t,Mt,l),l!==u.cache&&jc(t,[Mt],n,!0))),Yt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ol(e){e.flags|=4}function du(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(wf())e.flags|=8192;else throw ra=Nr,Ac}else e.flags&=-16777217}function Px(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dd(t))if(wf())e.flags|=8192;else throw ra=Nr,Ac}function Xr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pe():536870912,e.lanes|=t,Ja|=t)}function Li(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function oh(e,t,n){var l=t.pendingProps;switch(_c(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),rl(Mt),xe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ga(t)?ol(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cc())),dt(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(ol(t),o!==null?(dt(t),Px(t,o)):(dt(t),du(t,u,null,l,n))):o?o!==e.memoizedState?(ol(t),dt(t),Px(t,o)):(dt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ol(t),dt(t),du(t,u,e,l,n)),null;case 27:if(he(t),n=oe.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return dt(t),null}e=W.current,Ga(t)?Ao(t):(e=id(u,l,n),t.stateNode=e,ol(t))}return dt(t),null;case 5:if(he(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return dt(t),null}if(o=W.current,Ga(t))Ao(t);else{var g=c0(oe.current);switch(o){case 1:o=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=g.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?o.multiple=!0:l.size&&(o.size=l.size);break;default:o=typeof l.is=="string"?g.createElement(u,{is:l.is}):g.createElement(u)}}o[Nt]=t,o[Ut]=l;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)o.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=o;e:switch(Ot(o,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ol(t)}}return dt(t),du(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=oe.current,Ga(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Rt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Vf(e.nodeValue,n)),e||Cl(t,!0)}else e=c0(e).createTextNode(l),e[Nt]=t,t.stateNode=e}return dt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ga(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Nt]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),e=!1}else n=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(dn(t),t):(dn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ga(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Nt]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),u=!1}else u=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(dn(t),t):(dn(t),null)}return dn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Xr(t,t.updateQueue),dt(t),null);case 4:return xe(),e===null&&qu(t.stateNode.containerInfo),dt(t),null;case 10:return rl(t.type),dt(t),null;case 19:if(Y(_t),l=t.memoizedState,l===null)return dt(t),null;if(u=(t.flags&128)!==0,o=l.rendering,o===null)if(u)Li(l,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Lr(e),o!==null){for(t.flags|=128,Li(l,!1),e=o.updateQueue,t.updateQueue=e,Xr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Mo(n,e),n=n.sibling;return H(_t,_t.current&1|2),He&&al(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Je()>Pr&&(t.flags|=128,u=!0,Li(l,!1),t.lanes=4194304)}else{if(!u)if(e=Lr(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Xr(t,e),Li(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!He)return dt(t),null}else 2*Je()-l.renderingStartTime>Pr&&n!==536870912&&(t.flags|=128,u=!0,Li(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(e=l.last,e!==null?e.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Je(),e.sibling=null,n=_t.current,H(_t,u?n&1|2:n&1),He&&al(t,l.treeForkCount),e):(dt(t),null);case 22:case 23:return dn(t),Bc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),n=t.updateQueue,n!==null&&Xr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&Y(aa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),rl(Mt),dt(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function xh(e,t){switch(_c(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rl(Mt),xe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(dn(t),t.alternate===null)throw Error(i(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(_t),null;case 4:return xe(),null;case 10:return rl(t.type),null;case 22:case 23:return dn(t),Bc(),e!==null&&Y(aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return rl(Mt),null;case 25:return null;default:return null}}function Fx(e,t){switch(_c(t),t.tag){case 3:rl(Mt),xe();break;case 26:case 27:case 5:he(t);break;case 4:xe();break;case 31:t.memoizedState!==null&&dn(t);break;case 13:dn(t);break;case 19:Y(_t);break;case 10:rl(t.type);break;case 22:case 23:dn(t),Bc(),e!==null&&Y(aa);break;case 24:rl(Mt)}}function Gi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var o=n.create,g=n.inst;l=o(),g.destroy=l}n=n.next}while(n!==u)}}catch(T){at(t,t.return,T)}}function Al(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var o=u.next;l=o;do{if((l.tag&e)===e){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,u=t;var U=n,te=T;try{te()}catch(ie){at(u,U,ie)}}}l=l.next}while(l!==o)}}catch(ie){at(t,t.return,ie)}}function $x(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Uo(t,n)}catch(l){at(e,e.return,l)}}}function ef(e,t,n){n.props=sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){at(e,t,l)}}function qi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){at(e,t,u)}}function Wn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){at(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){at(e,t,u)}else n.current=null}function tf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){at(e,e.return,u)}}function hu(e,t,n){try{var l=e.stateNode;Lh(l,e.type,n,t),l[Ut]=t}catch(u){at(e,e.return,u)}}function nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rl(e.type)||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tl));else if(l!==4&&(l===27&&Rl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}function Jr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Rl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Jr(e,t,n),e=e.sibling;e!==null;)Jr(e,t,n),e=e.sibling}function lf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ot(t,l,n),t[Nt]=e,t[Ut]=n}catch(o){at(e,e.return,o)}}var xl=!1,Dt=!1,vu=!1,af=typeof WeakSet=="function"?WeakSet:Set,qt=null;function fh(e,t){if(e=e.containerInfo,ku=h0,e=bo(e),oc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var g=0,T=-1,U=-1,te=0,ie=0,ue=e,ne=null;t:for(;;){for(var le;ue!==n||u!==0&&ue.nodeType!==3||(T=g+u),ue!==o||l!==0&&ue.nodeType!==3||(U=g+l),ue.nodeType===3&&(g+=ue.nodeValue.length),(le=ue.firstChild)!==null;)ne=ue,ue=le;for(;;){if(ue===e)break t;if(ne===n&&++te===u&&(T=g),ne===o&&++ie===l&&(U=g),(le=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=le}n=T===-1||U===-1?null:{start:T,end:U}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},h0=!1,qt=t;qt!==null;)if(t=qt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qt=e;else for(;qt!==null;){switch(t=qt,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,l=n.stateNode;try{var be=sa(n.type,u);e=l.getSnapshotBeforeUpdate(be,o),l.__reactInternalSnapshotBeforeUpdate=e}catch(we){at(n,n.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,qt=e;break}qt=t.return}}function rf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:dl(e,n),l&4&&Gi(5,n);break;case 1:if(dl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(g){at(n,n.return,g)}else{var u=sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){at(n,n.return,g)}}l&64&&$x(n),l&512&&qi(n,n.return);break;case 3:if(dl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Uo(e,t)}catch(g){at(n,n.return,g)}}break;case 27:t===null&&l&4&&lf(n);case 26:case 5:dl(e,n),t===null&&l&4&&tf(n),l&512&&qi(n,n.return);break;case 12:dl(e,n);break;case 31:dl(e,n),l&4&&sf(e,n);break;case 13:dl(e,n),l&4&&of(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_h.bind(null,n),Ih(e,n))));break;case 22:if(l=n.memoizedState!==null||xl,!l){t=t!==null&&t.memoizedState!==null||Dt,u=xl;var o=Dt;xl=l,(Dt=t)&&!o?hl(e,n,(n.subtreeFlags&8772)!==0):dl(e,n),xl=u,Dt=o}break;case 30:break;default:dl(e,n)}}function cf(e){var t=e.alternate;t!==null&&(e.alternate=null,cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,Ft=!1;function fl(e,t,n){for(n=n.child;n!==null;)uf(e,t,n),n=n.sibling}function uf(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount($n,n)}catch{}switch(n.tag){case 26:Dt||Wn(n,t),fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Dt||Wn(n,t);var l=mt,u=Ft;Rl(n.type)&&(mt=n.stateNode,Ft=!1),fl(e,t,n),Zi(n.stateNode),mt=l,Ft=u;break;case 5:Dt||Wn(n,t);case 6:if(l=mt,u=Ft,mt=null,fl(e,t,n),mt=l,Ft=u,mt!==null)if(Ft)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(n.stateNode)}catch(o){at(n,t,o)}else try{mt.removeChild(n.stateNode)}catch(o){at(n,t,o)}break;case 18:mt!==null&&(Ft?(e=mt,ed(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ti(e)):ed(mt,n.stateNode));break;case 4:l=mt,u=Ft,mt=n.stateNode.containerInfo,Ft=!0,fl(e,t,n),mt=l,Ft=u;break;case 0:case 11:case 14:case 15:Al(2,n,t),Dt||Al(4,n,t),fl(e,t,n);break;case 1:Dt||(Wn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&ef(n,t,l)),fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:Dt=(l=Dt)||n.memoizedState!==null,fl(e,t,n),Dt=l;break;default:fl(e,t,n)}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ti(e)}catch(n){at(t,t.return,n)}}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ti(e)}catch(n){at(t,t.return,n)}}function dh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new af),t;default:throw Error(i(435,e.tag))}}function Vr(e,t){var n=dh(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=Sh.bind(null,e,l);l.then(u,u)}})}function $t(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],o=e,g=t,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(Rl(T.type)){mt=T.stateNode,Ft=!1;break e}break;case 5:mt=T.stateNode,Ft=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,Ft=!0;break e}T=T.return}if(mt===null)throw Error(i(160));uf(o,g,u),mt=null,Ft=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xf(t,e),t=t.sibling}var On=null;function xf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),en(e),l&4&&(Al(3,e,e.return),Gi(3,e),Al(5,e,e.return));break;case 1:$t(t,e),en(e),l&512&&(Dt||n===null||Wn(n,n.return)),l&64&&xl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=On;if($t(t,e),en(e),l&512&&(Dt||n===null||Wn(n,n.return)),l&4){var o=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":o=u.getElementsByTagName("title")[0],(!o||o[sn]||o[Nt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(l),u.head.insertBefore(o,u.querySelector("head > title"))),Ot(o,l,n),o[Nt]=e,Gt(o),l=o;break e;case"link":var g=xd("link","href",u).get(l+(n.href||""));if(g){for(var T=0;T<g.length;T++)if(o=g[T],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(T,1);break t}}o=u.createElement(l),Ot(o,l,n),u.head.appendChild(o);break;case"meta":if(g=xd("meta","content",u).get(l+(n.content||""))){for(T=0;T<g.length;T++)if(o=g[T],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(T,1);break t}}o=u.createElement(l),Ot(o,l,n),u.head.appendChild(o);break;default:throw Error(i(468,l))}o[Nt]=e,Gt(o),l=o}e.stateNode=l}else fd(u,e.type,e.stateNode);else e.stateNode=od(u,l,e.memoizedProps);else o!==l?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,l===null?fd(u,e.type,e.stateNode):od(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hu(e,e.memoizedProps,n.memoizedProps)}break;case 27:$t(t,e),en(e),l&512&&(Dt||n===null||Wn(n,n.return)),n!==null&&l&4&&hu(e,e.memoizedProps,n.memoizedProps);break;case 5:if($t(t,e),en(e),l&512&&(Dt||n===null||Wn(n,n.return)),e.flags&32){u=e.stateNode;try{wa(u,"")}catch(be){at(e,e.return,be)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,hu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(vu=!0);break;case 6:if($t(t,e),en(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(be){at(e,e.return,be)}}break;case 3:if(o0=null,u=On,On=u0(t.containerInfo),$t(t,e),On=u,en(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ti(t.containerInfo)}catch(be){at(e,e.return,be)}vu&&(vu=!1,ff(e));break;case 4:l=On,On=u0(e.stateNode.containerInfo),$t(t,e),en(e),On=l;break;case 12:$t(t,e),en(e);break;case 31:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 13:$t(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Qr=Je()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 22:u=e.memoizedState!==null;var U=n!==null&&n.memoizedState!==null,te=xl,ie=Dt;if(xl=te||u,Dt=ie||U,$t(t,e),Dt=ie,xl=te,en(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||U||xl||Dt||oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){U=n=t;try{if(o=U.stateNode,u)g=o.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=U.stateNode;var ue=U.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;T.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(be){at(U,U.return,be)}}}else if(t.tag===6){if(n===null){U=t;try{U.stateNode.nodeValue=u?"":U.memoizedProps}catch(be){at(U,U.return,be)}}}else if(t.tag===18){if(n===null){U=t;try{var le=U.stateNode;u?td(le,!0):td(U.stateNode,!1)}catch(be){at(U,U.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Vr(e,n))));break;case 19:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 30:break;case 21:break;default:$t(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(nf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,o=mu(e);Jr(e,o,u);break;case 5:var g=n.stateNode;n.flags&32&&(wa(g,""),n.flags&=-33);var T=mu(e);Jr(e,T,g);break;case 3:case 4:var U=n.stateNode.containerInfo,te=mu(e);bu(e,te,U);break;default:throw Error(i(161))}}catch(ie){at(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ff(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ff(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function dl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rf(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Al(4,t,t.return),oa(t);break;case 1:Wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ef(t,t.return,n),oa(t);break;case 27:Zi(t.stateNode);case 26:case 5:Wn(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function hl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,o=t,g=o.flags;switch(o.tag){case 0:case 11:case 15:hl(u,o,n),Gi(4,o);break;case 1:if(hl(u,o,n),l=o,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(te){at(l,l.return,te)}if(l=o,u=l.updateQueue,u!==null){var T=l.stateNode;try{var U=u.shared.hiddenCallbacks;if(U!==null)for(u.shared.hiddenCallbacks=null,u=0;u<U.length;u++)Ho(U[u],T)}catch(te){at(l,l.return,te)}}n&&g&64&&$x(o),qi(o,o.return);break;case 27:lf(o);case 26:case 5:hl(u,o,n),n&&l===null&&g&4&&tf(o),qi(o,o.return);break;case 12:hl(u,o,n);break;case 31:hl(u,o,n),n&&g&4&&sf(u,o);break;case 13:hl(u,o,n),n&&g&4&&of(u,o);break;case 22:o.memoizedState===null&&hl(u,o,n),qi(o,o.return);break;case 30:break;default:hl(u,o,n)}t=t.sibling}}function gu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_i(n))}function yu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e))}function In(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)df(e,t,n,l),t=t.sibling}function df(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:In(e,t,n,l),u&2048&&Gi(9,t);break;case 1:In(e,t,n,l);break;case 3:In(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e)));break;case 12:if(u&2048){In(e,t,n,l),e=t.stateNode;try{var o=t.memoizedProps,g=o.id,T=o.onPostCommit;typeof T=="function"&&T(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){at(t,t.return,U)}}else In(e,t,n,l);break;case 31:In(e,t,n,l);break;case 13:In(e,t,n,l);break;case 23:break;case 22:o=t.stateNode,g=t.alternate,t.memoizedState!==null?o._visibility&2?In(e,t,n,l):Bi(e,t):o._visibility&2?In(e,t,n,l):(o._visibility|=2,Za(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&gu(g,t);break;case 24:In(e,t,n,l),u&2048&&yu(t.alternate,t);break;default:In(e,t,n,l)}}function Za(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,g=t,T=n,U=l,te=g.flags;switch(g.tag){case 0:case 11:case 15:Za(o,g,T,U,u),Gi(8,g);break;case 23:break;case 22:var ie=g.stateNode;g.memoizedState!==null?ie._visibility&2?Za(o,g,T,U,u):Bi(o,g):(ie._visibility|=2,Za(o,g,T,U,u)),u&&te&2048&&gu(g.alternate,g);break;case 24:Za(o,g,T,U,u),u&&te&2048&&yu(g.alternate,g);break;default:Za(o,g,T,U,u)}t=t.sibling}}function Bi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Bi(n,l),u&2048&&gu(l.alternate,l);break;case 24:Bi(n,l),u&2048&&yu(l.alternate,l);break;default:Bi(n,l)}t=t.sibling}}var Ri=8192;function Ka(e,t,n){if(e.subtreeFlags&Ri)for(e=e.child;e!==null;)hf(e,t,n),e=e.sibling}function hf(e,t,n){switch(e.tag){case 26:Ka(e,t,n),e.flags&Ri&&e.memoizedState!==null&&$h(n,On,e.memoizedState,e.memoizedProps);break;case 5:Ka(e,t,n);break;case 3:case 4:var l=On;On=u0(e.stateNode.containerInfo),Ka(e,t,n),On=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ri,Ri=16777216,Ka(e,t,n),Ri=l):Ka(e,t,n));break;default:Ka(e,t,n)}}function mf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];qt=l,vf(l,e)}mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bf(e),e=e.sibling}function bf(e){switch(e.tag){case 0:case 11:case 15:ki(e),e.flags&2048&&Al(9,e,e.return);break;case 3:ki(e);break;case 12:ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wr(e)):ki(e);break;default:ki(e)}}function Wr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];qt=l,vf(l,e)}mf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Al(8,t,t.return),Wr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Wr(t));break;default:Wr(t)}e=e.sibling}}function vf(e,t){for(;qt!==null;){var n=qt;switch(n.tag){case 0:case 11:case 15:Al(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_i(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,qt=l;else e:for(n=e;qt!==null;){l=qt;var u=l.sibling,o=l.return;if(cf(l),l===n){qt=null;break e}if(u!==null){u.return=o,qt=u;break e}qt=o}}}var hh={getCacheForType:function(e){var t=kt(Mt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return kt(Mt).controller.signal}},mh=typeof WeakMap=="function"?WeakMap:Map,Fe=0,st=null,qe=null,ke=0,lt=0,hn=null,Tl=!1,Xa=!1,pu=!1,ml=0,vt=0,El=0,xa=0,_u=0,mn=0,Ja=0,Yi=null,tn=null,Su=!1,Qr=0,gf=0,Pr=1/0,Fr=null,Ll=null,At=0,Gl=null,Va=null,bl=0,Cu=0,wu=null,yf=null,Oi=0,Mu=null;function bn(){return(Fe&2)!==0&&ke!==0?ke&-ke:w.T!==null?Tu():ga()}function pf(){if(mn===0)if((ke&536870912)===0||He){var e=Ne;Ne<<=1,(Ne&3932160)===0&&(Ne=262144),mn=e}else mn=536870912;return e=fn.current,e!==null&&(e.flags|=32),mn}function nn(e,t,n){(e===st&&(lt===2||lt===9)||e.cancelPendingCommit!==null)&&(Wa(e,0),ql(e,ke,mn,!1)),pt(e,n),((Fe&2)===0||e!==st)&&(e===st&&((Fe&2)===0&&(xa|=n),vt===4&&ql(e,ke,mn,!1)),Qn(e))}function _f(e,t,n){if((Fe&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ie(e,t),u=l?gh(e,t):zu(e,t,!0),o=l;do{if(u===0){Xa&&!l&&ql(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!bh(n)){u=zu(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var T=e;u=Yi;var U=T.current.memoizedState.isDehydrated;if(U&&(Wa(T,g).flags|=256),g=zu(T,g,!1),g!==2){if(pu&&!U){T.errorRecoveryDisabledLanes|=o,xa|=o,u=4;break e}o=tn,tn=u,o!==null&&(tn===null?tn=o:tn.push.apply(tn,o))}u=g}if(o=!1,u!==2)continue}}if(u===1){Wa(e,0),ql(e,t,0,!0);break}e:{switch(l=e,o=u,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ql(l,t,mn,!Tl);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=Qr+300-Je(),10<u)){if(ql(l,t,mn,!Tl),We(l,0,!0)!==0)break e;bl=t,l.timeoutHandle=Ff(Sf.bind(null,l,n,tn,Fr,Su,t,mn,xa,Ja,Tl,o,"Throttled",-0,0),u);break e}Sf(l,n,tn,Fr,Su,t,mn,xa,Ja,Tl,o,null,-0,0)}}break}while(!0);Qn(e)}function Sf(e,t,n,l,u,o,g,T,U,te,ie,ue,ne,le){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tl},hf(t,o,ue);var be=(o&62914560)===o?Qr-Je():(o&4194048)===o?gf-Je():0;if(be=em(ue,be),be!==null){bl=o,e.cancelPendingCommit=be(Af.bind(null,e,t,o,n,l,u,g,T,U,ie,ue,null,ne,le)),ql(e,o,g,!te);return}}Af(e,t,o,n,l,u,g,T,U)}function bh(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],o=u.getSnapshot;u=u.value;try{if(!on(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ql(e,t,n,l){t&=~_u,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var o=31-se(u),g=1<<o;l[o]=-1,u&=~g}n!==0&&je(e,n,t)}function $r(){return(Fe&6)===0?(Ii(0),!1):!0}function ju(){if(qe!==null){if(lt===0)var e=qe.return;else e=qe,il=na=null,Hc(e),Ya=null,Ci=0,e=qe;for(;e!==null;)Fx(e.alternate,e),e=e.return;qe=null}}function Wa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Bh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bl=0,ju(),st=e,qe=n=ll(e.current,null),ke=t,lt=0,hn=null,Tl=!1,Xa=Ie(e,t),pu=!1,Ja=mn=_u=xa=El=vt=0,tn=Yi=null,Su=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-se(l),o=1<<u;t|=e[u],l&=~o}return ml=t,pr(),n}function Cf(e,t){Te=null,w.H=Ti,t===ka||t===Dr?(t=ko(),lt=3):t===Ac?(t=ko(),lt=4):lt=t===au?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,qe===null&&(vt=1,Hr(e,Mn(t,e.current)))}function wf(){var e=fn.current;return e===null?!0:(ke&4194048)===ke?Nn===null:(ke&62914560)===ke||(ke&536870912)!==0?e===Nn:!1}function Mf(){var e=w.H;return w.H=Ti,e===null?Ti:e}function jf(){var e=w.A;return w.A=hh,e}function e0(){vt=4,Tl||(ke&4194048)!==ke&&fn.current!==null||(Xa=!0),(El&134217727)===0&&(xa&134217727)===0||st===null||ql(st,ke,mn,!1)}function zu(e,t,n){var l=Fe;Fe|=2;var u=Mf(),o=jf();(st!==e||ke!==t)&&(Fr=null,Wa(e,t)),t=!1;var g=vt;e:do try{if(lt!==0&&qe!==null){var T=qe,U=hn;switch(lt){case 8:ju(),g=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(t=!0);var te=lt;if(lt=0,hn=null,Qa(e,T,U,te),n&&Xa){g=0;break e}break;default:te=lt,lt=0,hn=null,Qa(e,T,U,te)}}vh(),g=vt;break}catch(ie){Cf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,il=na=null,Fe=l,w.H=u,w.A=o,qe===null&&(st=null,ke=0,pr()),g}function vh(){for(;qe!==null;)zf(qe)}function gh(e,t){var n=Fe;Fe|=2;var l=Mf(),u=jf();st!==e||ke!==t?(Fr=null,Pr=Je()+500,Wa(e,t)):Xa=Ie(e,t);e:do try{if(lt!==0&&qe!==null){t=qe;var o=hn;t:switch(lt){case 1:lt=0,hn=null,Qa(e,t,o,1);break;case 2:case 9:if(Bo(o)){lt=0,hn=null,Df(t);break}t=function(){lt!==2&&lt!==9||st!==e||(lt=7),Qn(e)},o.then(t,t);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Bo(o)?(lt=0,hn=null,Df(t)):(lt=0,hn=null,Qa(e,t,o,7));break;case 5:var g=null;switch(qe.tag){case 26:g=qe.memoizedState;case 5:case 27:var T=qe;if(g?dd(g):T.stateNode.complete){lt=0,hn=null;var U=T.sibling;if(U!==null)qe=U;else{var te=T.return;te!==null?(qe=te,t0(te)):qe=null}break t}}lt=0,hn=null,Qa(e,t,o,5);break;case 6:lt=0,hn=null,Qa(e,t,o,6);break;case 8:ju(),vt=6;break e;default:throw Error(i(462))}}yh();break}catch(ie){Cf(e,ie)}while(!0);return il=na=null,w.H=l,w.A=u,Fe=n,qe!==null?0:(st=null,ke=0,pr(),vt)}function yh(){for(;qe!==null&&!Wt();)zf(qe)}function zf(e){var t=Qx(e.alternate,e,ml);e.memoizedProps=e.pendingProps,t===null?t0(e):qe=t}function Df(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zx(n,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=Zx(n,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Hc(t);default:Fx(n,t),t=qe=Mo(t,ml),t=Qx(n,t,ml)}e.memoizedProps=e.pendingProps,t===null?t0(e):qe=t}function Qa(e,t,n,l){il=na=null,Hc(t),Ya=null,Ci=0;var u=t.return;try{if(ch(e,u,t,n,ke)){vt=1,Hr(e,Mn(n,e.current)),qe=null;return}}catch(o){if(u!==null)throw qe=u,o;vt=1,Hr(e,Mn(n,e.current)),qe=null;return}t.flags&32768?(He||l===1?e=!0:Xa||(ke&536870912)!==0?e=!1:(Tl=e=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Nf(t,e)):t0(t)}function t0(e){var t=e;do{if((t.flags&32768)!==0){Nf(t,Tl);return}e=t.return;var n=oh(t.alternate,t,ml);if(n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);vt===0&&(vt=5)}function Nf(e,t){do{var n=xh(e.alternate,e);if(n!==null){n.flags&=32767,qe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=n}while(e!==null);vt=6,qe=null}function Af(e,t,n,l,u,o,g,T,U){e.cancelPendingCommit=null;do n0();while(At!==0);if((Fe&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=mc,$e(e,n,o,g,T,U),e===st&&(qe=st=null,ke=0),Va=t,Gl=e,bl=n,Cu=o,wu=u,yf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ch(Rn,function(){return qf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=w.T,w.T=null,u=E.p,E.p=2,g=Fe,Fe|=4;try{fh(e,t,n)}finally{Fe=g,E.p=u,w.T=l}}At=1,Tf(),Ef(),Lf()}}function Tf(){if(At===1){At=0;var e=Gl,t=Va,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=w.T,w.T=null;var l=E.p;E.p=2;var u=Fe;Fe|=4;try{xf(t,e);var o=Yu,g=bo(e.containerInfo),T=o.focusedElem,U=o.selectionRange;if(g!==T&&T&&T.ownerDocument&&mo(T.ownerDocument.documentElement,T)){if(U!==null&&oc(T)){var te=U.start,ie=U.end;if(ie===void 0&&(ie=te),"selectionStart"in T)T.selectionStart=te,T.selectionEnd=Math.min(ie,T.value.length);else{var ue=T.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var le=ne.getSelection(),be=T.textContent.length,we=Math.min(U.start,be),ut=U.end===void 0?we:Math.min(U.end,be);!le.extend&&we>ut&&(g=ut,ut=we,we=g);var P=ho(T,we),J=ho(T,ut);if(P&&J&&(le.rangeCount!==1||le.anchorNode!==P.node||le.anchorOffset!==P.offset||le.focusNode!==J.node||le.focusOffset!==J.offset)){var ee=ue.createRange();ee.setStart(P.node,P.offset),le.removeAllRanges(),we>ut?(le.addRange(ee),le.extend(J.node,J.offset)):(ee.setEnd(J.node,J.offset),le.addRange(ee))}}}}for(ue=[],le=T;le=le.parentNode;)le.nodeType===1&&ue.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ue.length;T++){var ce=ue[T];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}h0=!!ku,Yu=ku=null}finally{Fe=u,E.p=l,w.T=n}}e.current=t,At=2}}function Ef(){if(At===2){At=0;var e=Gl,t=Va,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=w.T,w.T=null;var l=E.p;E.p=2;var u=Fe;Fe|=4;try{rf(e,t.alternate,t)}finally{Fe=u,E.p=l,w.T=n}}At=3}}function Lf(){if(At===4||At===3){At=0,Xn();var e=Gl,t=Va,n=bl,l=yf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,Va=Gl=null,Gf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Ll=null),pn(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot($n,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=w.T,u=E.p,E.p=2,w.T=null;try{for(var o=e.onRecoverableError,g=0;g<l.length;g++){var T=l[g];o(T.value,{componentStack:T.stack})}}finally{w.T=t,E.p=u}}(bl&3)!==0&&n0(),Qn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Mu?Oi++:(Oi=0,Mu=e):Oi=0,Ii(0)}}function Gf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_i(t)))}function n0(){return Tf(),Ef(),Lf(),qf()}function qf(){if(At!==5)return!1;var e=Gl,t=Cu;Cu=0;var n=pn(bl),l=w.T,u=E.p;try{E.p=32>n?32:n,w.T=null,n=wu,wu=null;var o=Gl,g=bl;if(At=0,Va=Gl=null,bl=0,(Fe&6)!==0)throw Error(i(331));var T=Fe;if(Fe|=4,bf(o.current),df(o,o.current,g,n),Fe=T,Ii(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot($n,o)}catch{}return!0}finally{E.p=u,w.T=l,Gf(e,t)}}function Bf(e,t,n){t=Mn(n,t),t=lu(e.stateNode,t,2),e=zl(e,t,2),e!==null&&(pt(e,2),Qn(e))}function at(e,t,n){if(e.tag===3)Bf(e,e,n);else for(;t!==null;){if(t.tag===3){Bf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ll===null||!Ll.has(l))){e=Mn(n,e),n=Bx(2),l=zl(t,n,2),l!==null&&(Rx(n,l,t,e),pt(l,2),Qn(l));break}}t=t.return}}function Du(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new mh;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(pu=!0,u.add(n),e=ph.bind(null,e,t,n),t.then(e,e))}function ph(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,st===e&&(ke&n)===n&&(vt===4||vt===3&&(ke&62914560)===ke&&300>Je()-Qr?(Fe&2)===0&&Wa(e,0):_u|=n,Ja===ke&&(Ja=0)),Qn(e)}function Rf(e,t){t===0&&(t=Pe()),e=$l(e,t),e!==null&&(pt(e,t),Qn(e))}function _h(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rf(e,n)}function Sh(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Rf(e,n)}function Ch(e,t){return Lt(e,t)}var l0=null,Pa=null,Nu=!1,a0=!1,Au=!1,Bl=0;function Qn(e){e!==Pa&&e.next===null&&(Pa===null?l0=Pa=e:Pa=Pa.next=e),a0=!0,Nu||(Nu=!0,Mh())}function Ii(e,t){if(!Au&&a0){Au=!0;do for(var n=!1,l=l0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var o=0;else{var g=l.suspendedLanes,T=l.pingedLanes;o=(1<<31-se(42|e)+1)-1,o&=u&~(g&~T),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,If(l,o))}else o=ke,o=We(l,l===st?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||Ie(l,o)||(n=!0,If(l,o));l=l.next}while(n);Au=!1}}function wh(){kf()}function kf(){a0=Nu=!1;var e=0;Bl!==0&&qh()&&(e=Bl);for(var t=Je(),n=null,l=l0;l!==null;){var u=l.next,o=Yf(l,t);o===0?(l.next=null,n===null?l0=u:n.next=u,u===null&&(Pa=n)):(n=l,(e!==0||(o&3)!==0)&&(a0=!0)),l=u}At!==0&&At!==5||Ii(e),Bl!==0&&(Bl=0)}function Yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var g=31-se(o),T=1<<g,U=u[g];U===-1?((T&n)===0||(T&l)!==0)&&(u[g]=Qe(T,t)):U<=t&&(e.expiredLanes|=T),o&=~T}if(t=st,n=ke,n=We(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(lt===2||lt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Kt(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ie(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Kt(l),pn(n)){case 2:case 8:n=Xl;break;case 32:n=Rn;break;case 268435456:n=kn;break;default:n=Rn}return l=Of.bind(null,e),n=Lt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Kt(l),e.callbackPriority=2,e.callbackNode=null,2}function Of(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(n0()&&e.callbackNode!==n)return null;var l=ke;return l=We(e,e===st?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_f(e,l,t),Yf(e,Je()),e.callbackNode!=null&&e.callbackNode===n?Of.bind(null,e):null)}function If(e,t){if(n0())return null;_f(e,t,!0)}function Mh(){Rh(function(){(Fe&6)!==0?Lt(yl,wh):kf()})}function Tu(){if(Bl===0){var e=Ba;e===0&&(e=ye,ye<<=1,(ye&261888)===0&&(ye=256)),Bl=e}return Bl}function Hf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fr(""+e)}function Uf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function jh(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var o=Hf((u[Ut]||null).action),g=l.submitter;g&&(t=(t=g[Ut]||null)?Hf(t.formAction):g.getAttribute("formAction"),t!==null&&(o=t,g=null));var T=new br("action","action",null,l,u);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bl!==0){var U=g?Uf(u,g):new FormData(u);Pc(n,{pending:!0,data:U,method:u.method,action:o},null,U)}}else typeof o=="function"&&(T.preventDefault(),U=g?Uf(u,g):new FormData(u),Pc(n,{pending:!0,data:U,method:u.method,action:o},o,U))},currentTarget:u}]})}}for(var Eu=0;Eu<hc.length;Eu++){var Lu=hc[Eu],zh=Lu.toLowerCase(),Dh=Lu[0].toUpperCase()+Lu.slice(1);Yn(zh,"on"+Dh)}Yn(yo,"onAnimationEnd"),Yn(po,"onAnimationIteration"),Yn(_o,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Z1,"onTransitionRun"),Yn(K1,"onTransitionStart"),Yn(X1,"onTransitionCancel"),Yn(So,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),Wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hi));function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var g=l.length-1;0<=g;g--){var T=l[g],U=T.instance,te=T.currentTarget;if(T=T.listener,U!==o&&u.isPropagationStopped())break e;o=T,u.currentTarget=te;try{o(u)}catch(ie){yr(ie)}u.currentTarget=null,o=U}else for(g=0;g<l.length;g++){if(T=l[g],U=T.instance,te=T.currentTarget,T=T.listener,U!==o&&u.isPropagationStopped())break e;o=T,u.currentTarget=te;try{o(u)}catch(ie){yr(ie)}u.currentTarget=null,o=U}}}}function Be(e,t){var n=t[pe];n===void 0&&(n=t[pe]=new Set);var l=e+"__bubble";n.has(l)||(Kf(t,e,2,!1),n.add(l))}function Gu(e,t,n){var l=0;t&&(l|=4),Kf(n,e,l,t)}var i0="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[i0]){e[i0]=!0,Bs.forEach(function(n){n!=="selectionchange"&&(Nh.has(n)||Gu(n,!1,e),Gu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[i0]||(t[i0]=!0,Gu("selectionchange",!1,t))}}function Kf(e,t,n,l){switch(pd(t)){case 2:var u=lm;break;case 8:u=am;break;default:u=Qu}n=u.bind(null,t,n,e),u=void 0,!tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Bu(e,t,n,l,u){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===u)break;if(g===4)for(g=l.return;g!==null;){var U=g.tag;if((U===3||U===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;T!==null;){if(g=ya(T),g===null)return;if(U=g.tag,U===5||U===6||U===26||U===27){l=o=g;continue e}T=T.parentNode}}l=l.return}Vs(function(){var te=o,ie=$0(n),ue=[];e:{var ne=Co.get(e);if(ne!==void 0){var le=br,be=e;switch(e){case"keypress":if(hr(n)===0)break e;case"keydown":case"keyup":le=S1;break;case"focusin":be="focus",le=ic;break;case"focusout":be="blur",le=ic;break;case"beforeblur":case"afterblur":le=ic;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=M1;break;case yo:case po:case _o:le=d1;break;case So:le=z1;break;case"scroll":case"scrollend":le=u1;break;case"wheel":le=N1;break;case"copy":case"cut":case"paste":le=m1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=$s;break;case"toggle":case"beforetoggle":le=T1}var we=(t&4)!==0,ut=!we&&(e==="scroll"||e==="scrollend"),P=we?ne!==null?ne+"Capture":null:ne;we=[];for(var J=te,ee;J!==null;){var ce=J;if(ee=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ee===null||P===null||(ce=oi(J,P),ce!=null&&we.push(Ui(J,ce,ee))),ut)break;J=J.return}0<we.length&&(ne=new le(ne,be,null,n,ie),ue.push({event:ne,listeners:we}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",ne&&n!==F0&&(be=n.relatedTarget||n.fromElement)&&(ya(be)||be[de]))break e;if((le||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,le?(be=n.relatedTarget||n.toElement,le=te,be=be?ya(be):null,be!==null&&(ut=x(be),we=be.tag,be!==ut||we!==5&&we!==27&&we!==6)&&(be=null)):(le=null,be=te),le!==be)){if(we=Ps,ce="onMouseLeave",P="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(we=$s,ce="onPointerLeave",P="onPointerEnter",J="pointer"),ut=le==null?ne:si(le),ee=be==null?ne:si(be),ne=new we(ce,J+"leave",le,n,ie),ne.target=ut,ne.relatedTarget=ee,ce=null,ya(ie)===te&&(we=new we(P,J+"enter",be,n,ie),we.target=ee,we.relatedTarget=ut,ce=we),ut=ce,le&&be)t:{for(we=Ah,P=le,J=be,ee=0,ce=P;ce;ce=we(ce))ee++;ce=0;for(var Se=J;Se;Se=we(Se))ce++;for(;0<ee-ce;)P=we(P),ee--;for(;0<ce-ee;)J=we(J),ce--;for(;ee--;){if(P===J||J!==null&&P===J.alternate){we=P;break t}P=we(P),J=we(J)}we=null}else we=null;le!==null&&Xf(ue,ne,le,we,!1),be!==null&&ut!==null&&Xf(ue,ut,be,we,!0)}}e:{if(ne=te?si(te):window,le=ne.nodeName&&ne.nodeName.toLowerCase(),le==="select"||le==="input"&&ne.type==="file")var Ke=co;else if(io(ne))if(uo)Ke=I1;else{Ke=Y1;var ve=k1}else le=ne.nodeName,!le||le.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&P0(te.elementType)&&(Ke=co):Ke=O1;if(Ke&&(Ke=Ke(e,te))){ro(ue,Ke,n,ie);break e}ve&&ve(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Q0(ne,"number",ne.value)}switch(ve=te?si(te):window,e){case"focusin":(io(ve)||ve.contentEditable==="true")&&(Da=ve,xc=te,gi=null);break;case"focusout":gi=xc=Da=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,vo(ue,n,ie);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":vo(ue,n,ie)}var Ee;if(cc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else za?lo(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(eo&&n.locale!=="ko"&&(za||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&za&&(Ee=Ws()):(pl=ie,nc="value"in pl?pl.value:pl.textContent,za=!0)),ve=r0(te,Ye),0<ve.length&&(Ye=new Fs(Ye,e,null,n,ie),ue.push({event:Ye,listeners:ve}),Ee?Ye.data=Ee:(Ee=ao(n),Ee!==null&&(Ye.data=Ee)))),(Ee=L1?G1(e,n):q1(e,n))&&(Ye=r0(te,"onBeforeInput"),0<Ye.length&&(ve=new Fs("onBeforeInput","beforeinput",null,n,ie),ue.push({event:ve,listeners:Ye}),ve.data=Ee)),jh(ue,e,te,n,ie)}Zf(ue,t)})}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function r0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=oi(e,n),u!=null&&l.unshift(Ui(e,u,o)),u=oi(e,t),u!=null&&l.push(Ui(e,u,o))),e.tag===3)return l;e=e.return}return[]}function Ah(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xf(e,t,n,l,u){for(var o=t._reactName,g=[];n!==null&&n!==l;){var T=n,U=T.alternate,te=T.stateNode;if(T=T.tag,U!==null&&U===l)break;T!==5&&T!==26&&T!==27||te===null||(U=te,u?(te=oi(n,o),te!=null&&g.unshift(Ui(n,te,U))):u||(te=oi(n,o),te!=null&&g.push(Ui(n,te,U)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var Th=/\r\n?/g,Eh=/\u0000|\uFFFD/g;function Jf(e){return(typeof e=="string"?e:""+e).replace(Th,`
`).replace(Eh,"")}function Vf(e,t){return t=Jf(t),Jf(e)===t}function ct(e,t,n,l,u,o){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||wa(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&wa(e,""+l);break;case"className":or(e,"class",l);break;case"tabIndex":or(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":or(e,n,l);break;case"style":Xs(e,l,o);break;case"data":if(t!=="object"){or(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=fr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&ct(e,t,"name",u.name,u,null),ct(e,t,"formEncType",u.formEncType,u,null),ct(e,t,"formMethod",u.formMethod,u,null),ct(e,t,"formTarget",u.formTarget,u,null)):(ct(e,t,"encType",u.encType,u,null),ct(e,t,"method",u.method,u,null),ct(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=fr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=tl);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=fr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Be("beforetoggle",e),Be("toggle",e),sr(e,"popover",l);break;case"xlinkActuate":el(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":el(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":el(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":el(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":el(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":el(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":el(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":el(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":el(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=r1.get(n)||n,sr(e,n,l))}}function Ru(e,t,n,l,u,o){switch(n){case"style":Xs(e,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?wa(e,l):(typeof l=="number"||typeof l=="bigint")&&wa(e,""+l);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"onClick":l!=null&&(e.onclick=tl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[Ut]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof l=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):sr(e,n,l)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var l=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var g=n[o];if(g!=null)switch(o){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ct(e,t,o,g,n,null)}}u&&ct(e,t,"srcSet",n.srcSet,n,null),l&&ct(e,t,"src",n.src,n,null);return;case"input":Be("invalid",e);var T=o=g=u=null,U=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":u=ie;break;case"type":g=ie;break;case"checked":U=ie;break;case"defaultChecked":te=ie;break;case"value":o=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:ct(e,t,l,ie,n,null)}}Hs(e,o,T,U,te,g,u,!1);return;case"select":Be("invalid",e),l=g=o=null;for(u in n)if(n.hasOwnProperty(u)&&(T=n[u],T!=null))switch(u){case"value":o=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:ct(e,t,u,T,n,null)}t=o,n=g,e.multiple=!!l,t!=null?Ca(e,!!l,t,!1):n!=null&&Ca(e,!!l,n,!0);return;case"textarea":Be("invalid",e),o=u=l=null;for(g in n)if(n.hasOwnProperty(g)&&(T=n[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":u=T;break;case"children":o=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:ct(e,t,g,T,n,null)}Zs(e,l,u,o);return;case"option":for(U in n)n.hasOwnProperty(U)&&(l=n[U],l!=null)&&(U==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ct(e,t,U,l,n,null));return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(l=0;l<Hi.length;l++)Be(Hi[l],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ct(e,t,te,l,n,null)}return;default:if(P0(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Ru(e,t,ie,l,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(l=n[T],l!=null&&ct(e,t,T,l,n,null))}function Lh(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,g=null,T=null,U=null,te=null,ie=null;for(le in n){var ue=n[le];if(n.hasOwnProperty(le)&&ue!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":U=ue;default:l.hasOwnProperty(le)||ct(e,t,le,null,l,ue)}}for(var ne in l){var le=l[ne];if(ue=n[ne],l.hasOwnProperty(ne)&&(le!=null||ue!=null))switch(ne){case"type":o=le;break;case"name":u=le;break;case"checked":te=le;break;case"defaultChecked":ie=le;break;case"value":g=le;break;case"defaultValue":T=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,t));break;default:le!==ue&&ct(e,t,ne,le,l,ue)}}W0(e,g,T,U,te,ie,o,u);return;case"select":le=g=T=ne=null;for(o in n)if(U=n[o],n.hasOwnProperty(o)&&U!=null)switch(o){case"value":break;case"multiple":le=U;default:l.hasOwnProperty(o)||ct(e,t,o,null,l,U)}for(u in l)if(o=l[u],U=n[u],l.hasOwnProperty(u)&&(o!=null||U!=null))switch(u){case"value":ne=o;break;case"defaultValue":T=o;break;case"multiple":g=o;default:o!==U&&ct(e,t,u,o,l,U)}t=T,n=g,l=le,ne!=null?Ca(e,!!n,ne,!1):!!l!=!!n&&(t!=null?Ca(e,!!n,t,!0):Ca(e,!!n,n?[]:"",!1));return;case"textarea":le=ne=null;for(T in n)if(u=n[T],n.hasOwnProperty(T)&&u!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ct(e,t,T,null,l,u)}for(g in l)if(u=l[g],o=n[g],l.hasOwnProperty(g)&&(u!=null||o!=null))switch(g){case"value":ne=u;break;case"defaultValue":le=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==o&&ct(e,t,g,u,l,o)}Us(e,ne,le);return;case"option":for(var be in n)ne=n[be],n.hasOwnProperty(be)&&ne!=null&&!l.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:ct(e,t,be,null,l,ne));for(U in l)ne=l[U],le=n[U],l.hasOwnProperty(U)&&ne!==le&&(ne!=null||le!=null)&&(U==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":ct(e,t,U,ne,l,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in n)ne=n[we],n.hasOwnProperty(we)&&ne!=null&&!l.hasOwnProperty(we)&&ct(e,t,we,null,l,ne);for(te in l)if(ne=l[te],le=n[te],l.hasOwnProperty(te)&&ne!==le&&(ne!=null||le!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,t));break;default:ct(e,t,te,ne,l,le)}return;default:if(P0(t)){for(var ut in n)ne=n[ut],n.hasOwnProperty(ut)&&ne!==void 0&&!l.hasOwnProperty(ut)&&Ru(e,t,ut,void 0,l,ne);for(ie in l)ne=l[ie],le=n[ie],!l.hasOwnProperty(ie)||ne===le||ne===void 0&&le===void 0||Ru(e,t,ie,ne,l,le);return}}for(var P in n)ne=n[P],n.hasOwnProperty(P)&&ne!=null&&!l.hasOwnProperty(P)&&ct(e,t,P,null,l,ne);for(ue in l)ne=l[ue],le=n[ue],!l.hasOwnProperty(ue)||ne===le||ne==null&&le==null||ct(e,t,ue,ne,l,le)}function Wf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],o=u.transferSize,g=u.initiatorType,T=u.duration;if(o&&T&&Wf(g)){for(g=0,T=u.responseEnd,l+=1;l<n.length;l++){var U=n[l],te=U.startTime;if(te>T)break;var ie=U.transferSize,ue=U.initiatorType;ie&&Wf(ue)&&(U=U.responseEnd,g+=ie*(U<T?1:(T-te)/(U-te)))}if(--l,t+=8*(o+g)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ku=null,Yu=null;function c0(e){return e.nodeType===9?e:e.ownerDocument}function Qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iu=null;function qh(){var e=window.event;return e&&e.type==="popstate"?e===Iu?!1:(Iu=e,!0):(Iu=null,!1)}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Bh=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,Rh=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(e){return $f.resolve(null).then(e).catch(kh)}:Ff;function kh(e){setTimeout(function(){throw e})}function Rl(e){return e==="head"}function ed(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ti(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Zi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Zi(n);for(var o=n.firstChild;o;){var g=o.nextSibling,T=o.nodeName;o[sn]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=g}}else n==="body"&&Zi(e.ownerDocument.body);n=u}while(n);ti(t)}function td(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Hu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hu(n),ui(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Yh(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[sn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function Oh(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=An(e.nextSibling),e===null))return null;return e}function nd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function Uu(e){return e.data==="$?"||e.data==="$~"}function Zu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ih(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ku=null;function ld(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return An(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function id(e,t,n){switch(t=c0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Zi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ui(e)}var Tn=new Map,rd=new Set;function u0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vl=E.d;E.d={f:Hh,r:Uh,D:Zh,C:Kh,L:Xh,m:Jh,X:Wh,S:Vh,M:Qh};function Hh(){var e=vl.f(),t=$r();return e||t}function Uh(e){var t=pa(e);t!==null&&t.tag===5&&t.type==="form"?Sx(t):vl.r(e)}var Fa=typeof document>"u"?null:document;function cd(e,t,n){var l=Fa;if(l&&typeof t=="string"&&t){var u=Cn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),rd.has(u)||(rd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Ot(t,"link",e),Gt(t),l.head.appendChild(t)))}}function Zh(e){vl.D(e),cd("dns-prefetch",e,null)}function Kh(e,t){vl.C(e,t),cd("preconnect",e,t)}function Xh(e,t,n){vl.L(e,t,n);var l=Fa;if(l&&e&&t){var u='link[rel="preload"][as="'+Cn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Cn(n.imageSizes)+'"]')):u+='[href="'+Cn(e)+'"]';var o=u;switch(t){case"style":o=$a(e);break;case"script":o=ei(e)}Tn.has(o)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Tn.set(o,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Ki(o))||t==="script"&&l.querySelector(Xi(o))||(t=l.createElement("link"),Ot(t,"link",e),Gt(t),l.head.appendChild(t)))}}function Jh(e,t){vl.m(e,t);var n=Fa;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(e)+'"]',o=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ei(e)}if(!Tn.has(o)&&(e=y({rel:"modulepreload",href:e},t),Tn.set(o,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xi(o)))return}l=n.createElement("link"),Ot(l,"link",e),Gt(l),n.head.appendChild(l)}}}function Vh(e,t,n){vl.S(e,t,n);var l=Fa;if(l&&e){var u=_a(l).hoistableStyles,o=$a(e);t=t||"default";var g=u.get(o);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(Ki(o)))T.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Tn.get(o))&&Xu(e,n);var U=g=l.createElement("link");Gt(U),Ot(U,"link",e),U._p=new Promise(function(te,ie){U.onload=te,U.onerror=ie}),U.addEventListener("load",function(){T.loading|=1}),U.addEventListener("error",function(){T.loading|=2}),T.loading|=4,s0(g,t,l)}g={type:"stylesheet",instance:g,count:1,state:T},u.set(o,g)}}}function Wh(e,t){vl.X(e,t);var n=Fa;if(n&&e){var l=_a(n).hoistableScripts,u=ei(e),o=l.get(u);o||(o=n.querySelector(Xi(u)),o||(e=y({src:e,async:!0},t),(t=Tn.get(u))&&Ju(e,t),o=n.createElement("script"),Gt(o),Ot(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function Qh(e,t){vl.M(e,t);var n=Fa;if(n&&e){var l=_a(n).hoistableScripts,u=ei(e),o=l.get(u);o||(o=n.querySelector(Xi(u)),o||(e=y({src:e,async:!0,type:"module"},t),(t=Tn.get(u))&&Ju(e,t),o=n.createElement("script"),Gt(o),Ot(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function ud(e,t,n,l){var u=(u=oe.current)?u0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=$a(n.href),n=_a(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=$a(n.href);var o=_a(u).hoistableStyles,g=o.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,g),(o=u.querySelector(Ki(e)))&&!o._p&&(g.instance=o,g.state.loading=5),Tn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tn.set(e,n),o||Ph(u,e,n,g.state))),t&&l===null)throw Error(i(528,""));return g}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ei(n),n=_a(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function $a(e){return'href="'+Cn(e)+'"'}function Ki(e){return'link[rel="stylesheet"]['+e+"]"}function sd(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Ph(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ot(t,"link",n),Gt(t),e.head.appendChild(t))}function ei(e){return'[src="'+Cn(e)+'"]'}function Xi(e){return"script[async]"+e}function od(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(l)return t.instance=l,Gt(l),l;var u=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Gt(l),Ot(l,"style",u),s0(l,n.precedence,e),t.instance=l;case"stylesheet":u=$a(n.href);var o=e.querySelector(Ki(u));if(o)return t.state.loading|=4,t.instance=o,Gt(o),o;l=sd(n),(u=Tn.get(u))&&Xu(l,u),o=(e.ownerDocument||e).createElement("link"),Gt(o);var g=o;return g._p=new Promise(function(T,U){g.onload=T,g.onerror=U}),Ot(o,"link",l),t.state.loading|=4,s0(o,n.precedence,e),t.instance=o;case"script":return o=ei(n.src),(u=e.querySelector(Xi(o)))?(t.instance=u,Gt(u),u):(l=n,(u=Tn.get(o))&&(l=y({},n),Ju(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Gt(u),Ot(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,s0(l,n.precedence,e));return t.instance}function s0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,o=u,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===t)o=T;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var o0=null;function xd(e,t,n){if(o0===null){var l=new Map,u=o0=new Map;u.set(n,l)}else u=o0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[sn]||o[Nt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var g=o.getAttribute(t)||"";g=e+g;var T=l.get(g);T?T.push(o):l.set(g,[o])}}return l}function fd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Fh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $h(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=$a(l.href),o=t.querySelector(Ki(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=x0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Gt(o);return}o=t.ownerDocument||t,l=sd(l),(u=Tn.get(u))&&Xu(l,u),o=o.createElement("link"),Gt(o);var g=o;g._p=new Promise(function(T,U){g.onload=T,g.onerror=U}),Ot(o,"link",l),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=x0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Vu=0;function em(e,t){return e.stylesheets&&e.count===0&&d0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&d0(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&Vu===0&&(Vu=62500*Gh());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&d0(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>Vu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function x0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)d0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var f0=null;function d0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,f0=new Map,t.forEach(tm,e),f0=null,x0.call(e))}function tm(e,t){if(!(t.state.loading&4)){var n=f0.get(e);if(n)var l=n.get(null);else{n=new Map,f0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var g=u[o];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),l=g)}l&&n.set(null,l)}u=t.instance,g=u.getAttribute("data-precedence"),o=n.get(g)||l,o===l&&n.set(null,u),n.set(g,u),this.count++,l=x0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ji={$$typeof:B,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function nm(e,t,n,l,u,o,g,T,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function hd(e,t,n,l,u,o,g,T,U,te,ie,ue){return e=new nm(e,t,n,g,U,te,ie,ue,T),t=1,o===!0&&(t|=24),o=xn(3,null,null,t),e.current=o,o.stateNode=e,t=zc(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:n,cache:t},Tc(o),e}function md(e){return e?(e=Ta,e):Ta}function bd(e,t,n,l,u,o){u=md(u),l.context===null?l.context=u:l.pendingContext=u,l=jl(t),l.payload={element:n},o=o===void 0?null:o,o!==null&&(l.callback=o),n=zl(e,l,t),n!==null&&(nn(n,e,t),Mi(n,e,t))}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wu(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}function gd(e){if(e.tag===13||e.tag===31){var t=$l(e,67108864);t!==null&&nn(t,e,67108864),Wu(e,67108864)}}function yd(e){if(e.tag===13||e.tag===31){var t=bn();t=nt(t);var n=$l(e,t);n!==null&&nn(n,e,t),Wu(e,t)}}var h0=!0;function lm(e,t,n,l){var u=w.T;w.T=null;var o=E.p;try{E.p=2,Qu(e,t,n,l)}finally{E.p=o,w.T=u}}function am(e,t,n,l){var u=w.T;w.T=null;var o=E.p;try{E.p=8,Qu(e,t,n,l)}finally{E.p=o,w.T=u}}function Qu(e,t,n,l){if(h0){var u=Pu(l);if(u===null)Bu(e,t,l,m0,n),_d(e,l);else if(rm(u,e,t,n,l))l.stopPropagation();else if(_d(e,l),t&4&&-1<im.indexOf(e)){for(;u!==null;){var o=pa(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var g=ge(o.pendingLanes);if(g!==0){var T=o;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var U=1<<31-se(g);T.entanglements[1]|=U,g&=~U}Qn(o),(Fe&6)===0&&(Pr=Je()+500,Ii(0))}}break;case 31:case 13:T=$l(o,2),T!==null&&nn(T,o,2),$r(),Wu(o,2)}if(o=Pu(l),o===null&&Bu(e,t,l,m0,n),o===u)break;u=o}u!==null&&l.stopPropagation()}else Bu(e,t,l,null,n)}}function Pu(e){return e=$0(e),Fu(e)}var m0=null;function Fu(e){if(m0=null,e=ya(e),e!==null){var t=x(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return m0=e,null}function pd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case yl:return 2;case Xl:return 8;case Rn:case va:return 32;case kn:return 268435456;default:return 32}default:return 32}}var $u=!1,kl=null,Yl=null,Ol=null,Vi=new Map,Wi=new Map,Il=[],im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _d(e,t){switch(e){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Ol=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(t.pointerId)}}function Qi(e,t,n,l,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:o,targetContainers:[u]},t!==null&&(t=pa(t),t!==null&&gd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function rm(e,t,n,l,u){switch(t){case"focusin":return kl=Qi(kl,e,t,n,l,u),!0;case"dragenter":return Yl=Qi(Yl,e,t,n,l,u),!0;case"mouseover":return Ol=Qi(Ol,e,t,n,l,u),!0;case"pointerover":var o=u.pointerId;return Vi.set(o,Qi(Vi.get(o)||null,e,t,n,l,u)),!0;case"gotpointercapture":return o=u.pointerId,Wi.set(o,Qi(Wi.get(o)||null,e,t,n,l,u)),!0}return!1}function Sd(e){var t=ya(e.target);if(t!==null){var n=x(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){yd(n)});return}}else if(t===31){if(t=_(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function b0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pu(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);F0=l,n.target.dispatchEvent(l),F0=null}else return t=pa(n),t!==null&&gd(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){b0(e)&&n.delete(t)}function cm(){$u=!1,kl!==null&&b0(kl)&&(kl=null),Yl!==null&&b0(Yl)&&(Yl=null),Ol!==null&&b0(Ol)&&(Ol=null),Vi.forEach(Cd),Wi.forEach(Cd)}function v0(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,cm)))}var g0=null;function wd(e){g0!==e&&(g0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){g0===e&&(g0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Fu(l||n)===null)continue;break}var o=pa(n);o!==null&&(e.splice(t,3),t-=3,Pc(o,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ti(e){function t(U){return v0(U,e)}kl!==null&&v0(kl,e),Yl!==null&&v0(Yl,e),Ol!==null&&v0(Ol,e),Vi.forEach(t),Wi.forEach(t);for(var n=0;n<Il.length;n++){var l=Il[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Il.length&&(n=Il[0],n.blockedOn===null);)Sd(n),n.blockedOn===null&&Il.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],o=n[l+1],g=u[Ut]||null;if(typeof o=="function")g||wd(n);else if(g){var T=null;if(o&&o.hasAttribute("formAction")){if(u=o,g=o[Ut]||null)T=g.formAction;else if(Fu(u)!==null)continue}else T=g.action;typeof T=="function"?n[l+1]=T:(n.splice(l,3),l-=3),wd(n)}}}function Md(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function es(e){this._internalRoot=e}y0.prototype.render=es.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=bn();bd(n,l,e,t,null,null)},y0.prototype.unmount=es.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bd(e.current,2,null,e,null,null),$r(),t[de]=null}};function y0(e){this._internalRoot=e}y0.prototype.unstable_scheduleHydration=function(e){if(e){var t=ga();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Il.length&&t!==0&&t<Il[n].priority;n++);Il.splice(n,0,e),n===0&&Sd(e)}};var jd=r.version;if(jd!=="19.2.3")throw Error(i(527,jd,"19.2.3"));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=d(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var um={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p0.isDisabled&&p0.supportsFiber)try{$n=p0.inject(um),Bt=p0}catch{}}return Fi.createRoot=function(e,t){if(!f(e))throw Error(i(299));var n=!1,l="",u=Ex,o=Lx,g=Gx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=hd(e,1,!1,null,null,n,l,null,u,o,g,Md),e[de]=t.current,qu(e),new es(t)},Fi.hydrateRoot=function(e,t,n){if(!f(e))throw Error(i(299));var l=!1,u="",o=Ex,g=Lx,T=Gx,U=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(U=n.formState)),t=hd(e,1,!0,t,n??null,l,u,U,o,g,T,Md),t.context=md(null),n=t.current,l=bn(),l=nt(l),u=jl(l),u.callback=null,zl(n,u,l),n=l,t.current.lanes=n,pt(t,n),Qn(t),e[de]=t.current,qu(e),new y0(t)},Fi.version="19.2.3",Fi}var Bd;function gm(){if(Bd)return ls.exports;Bd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),ls.exports=vm(),ls.exports}var ym=gm();function Hn(c,r){c=c-435;const a=M0();let i=a[c];if(Hn.PVcrAJ===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Hn.EVkhrM=f,Hn.OCktqm={},Hn.PVcrAJ=!0}const x=a[0],h=c+x,_=Hn.OCktqm[h];if(_)i=_;else{const m=function(d){this.GDYEMD=d,this.bDPptu=[1,0,0],this.hQngdP=function(){return"newState"},this.NbaCoX="\\w+ *\\(\\) *{\\w+ *",this.IiNKgn=`['|"].+['|"];? *}`};m.prototype.Cgbmmu=function(){const d=new RegExp(this.NbaCoX+this.IiNKgn),p=d.test(this.hQngdP.toString())?--this.bDPptu[1]:--this.bDPptu[0];return this.udFZsW(p)},m.prototype.udFZsW=function(d){return~d?this.wZVtOr(this.GDYEMD):d},m.prototype.wZVtOr=function(d){for(let p=0,y=this.bDPptu.length;p<y;p++)this.bDPptu.push(Math.round(Math.random())),y=this.bDPptu.length;return d(this.bDPptu[0])},new m(Hn).Cgbmmu(),i=Hn.EVkhrM(i),Hn.OCktqm[h]=i}return i}const Kl=Hn;(function(c,r){const a=Hn,i=c();for(;;)try{if(-parseInt(a(444))/1+parseInt(a(448))/2*(-parseInt(a(443))/3)+-parseInt(a(455))/4+parseInt(a(458))/5+-parseInt(a(459))/6+-parseInt(a(436))/7*(parseInt(a(457))/8)+parseInt(a(454))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(M0,557039);const pm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ss=pm(void 0,function(){const c=Hn,r={PYZlV:c(450)};return ss[c(449)]().search(r[c(461)]).toString()[c(462)](ss)[c(446)]("(((.+)+)+)+$")});ss();const w0=()=>new Date().toISOString(),It=c=>c+"_"+Math.random().toString(36).slice(2,10),Me=(c,r,a)=>Math.max(r,Math[Kl(439)](a,c)),Ul=c=>{const r=Kl;return{velBP:function(i,f){return i===f}}[r(447)](c,void 0)||c===null?c:JSON.parse(JSON[r(451)](c))},er=c=>Math[Kl(438)](c*.7/5)*5;function ma(c,r){const a=Kl;return c.groups?c.groups[a(442)](i=>i[a(445)][a(456)](r))??null:null}function _m(c,r){const a=Kl,i=ma(c,r);return i?i[a(445)]:[r]}function K0(c,r){const a=Kl;return c[a(437)]?c.leafGroups[a(442)](i=>i.leafIds.includes(r))??null:null}function Sm(c,r){const a=Kl,i={gpvoA:function(m,d){return m===d},IXskU:function(m,d){return m/d}},f=(c.leafGroups??[])[a(442)](m=>m.id===r);if(!f||i[a(452)](f.leafIds.length,0))return{x:0,y:0};const x=f[a(453)].map(m=>(c[a(460)]??[]).find(d=>d.id===m)).filter(m=>!!m);if(x[a(435)]===0)return{x:0,y:0};const h=x[a(440)]((m,d)=>m+d.position.x,0),_=x[a(440)]((m,d)=>m+d[a(441)].y,0);return{x:i.IXskU(h,x.length),y:_/x.length}}function M0(){const c=["mJq1Cg9Ywezh","BgvHzKDYB3vWCW","zMXVB3i","BwLU","CMvKDwnL","Cg9ZAxrPB24","zMLUza","mJrKwKTiywK","nZuYmZy3tvHUBfLs","zMXVD2vYswrZ","C2vHCMnO","DMvSqLa","mJe0odqWuhPgzwLv","Dg9tDhjPBMC","kcGOlISPkYKRksSK","C3rYAw5NAwz5","z3b2B0e","BgvHzKLKCW","mZe5nJGWmZzmC2j1uem","mtmYmte3mK5WyMPbCq","Aw5JBhvKzxm","mta2nty4DNvevwDO","mJyZotCWu0jrCvfn","mZGZnZaYngzuuKrvAW","BgvHDMvZ","ufLABfy","y29UC3rYDwn0B3i","BgvUz3rO"];return M0=function(){return c},M0()}function Cm(c,r){const a=Kl,i=K0(c,r);return i?i[a(453)]:[r]}const ii=vn;(function(c,r){const a=vn,i=c();for(;;)try{if(-parseInt(a(171))/1+parseInt(a(195))/2*(parseInt(a(208))/3)+-parseInt(a(213))/4*(-parseInt(a(197))/5)+parseInt(a(200))/6+-parseInt(a(199))/7*(parseInt(a(219))/8)+parseInt(a(207))/9*(-parseInt(a(201))/10)+parseInt(a(212))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(j0,317920);const wm=(function(){const c=vn,r={DujUw:c(218),OSgCm:function(i,f){return i/f},qYiGR:c(220),ZIcFL:function(i,f){return i!==f},iymSM:"qAXkU"};let a=!0;return function(i,f){const x=c,h={PwCEn:function(_,m){return r.OSgCm(_,m)},ndCYp:r.qYiGR};if(r[x(221)](r[x(175)],r.iymSM))return _0x21007c.toString()[x(180)]("(((.+)+)+)+$").toString()[x(181)](_0x5841cc).search(r.DujUw);{const _=a?function(){const m=x,d={osnIP:function(p,y){return h.PwCEn(p,y)}};if(h.ndCYp!==h.ndCYp){const p=_0x5071c8*(_0x4105b9+2)/3;return _0x5199e3[m(186)](1,_0x9aa228[m(204)](d[m(211)](_0x109ad2,p)))}else if(f){const p=f[m(215)](i,arguments);return f=null,p}}:function(){};return a=!1,_}}})(),os=wm(void 0,function(){const c=vn,r={kvFsg:c(218)};return os.toString().search(c(218))[c(214)]()[c(181)](os)[c(180)](r.kvFsg)});os();function j0(){const c=["vu50DeK","CfPLChC","DfrYC3i","yw95DKi","nZK0otjis0TWsLu","CvvbtwS","y0fht0e","vuPvDeG","AxLTu00","ChvZAa","C2L6zvn0zxbnBq","BKTsthG","uKXerLa","C2vHCMnO","y29UC3rYDwn0B3i","sw1zy3m","u1fsvdi","ywv0tui","uLP2uMu","Bwf4","wwnxtu8","zfDcDK0","uNLWuui","DfnqvLa","wvDxwva","vM1nrva","C2LU","Dw5PzM9YBq","odjXCxbfrMS","C2L6zu1Vzgu","mtyXndG1DMjhzNvH","vMvsrMy","mJHvyNH3uw8","mJi5nJyYnKTmqvnHqG","otG4odCWChP4zfrI","CMzYuMq","z3jHzhvHBa","CM91BMq","r01Ry2q","tw5Jufi","ouXkywn2Dq","mJCZmJDVDuTjwNu","BwLU","r1LfrM8","B3nUsva","mtu2mdeZmfLiu0Xmuq","nhHtteTXqW","Dg9tDhjPBMC","yxbWBhK","Bgf5zxjdB3vUDa","ren0rhq","kcGOlISPkYKRksSK","ody4mtm2zvvTz25t","uxbpqNO","wKLJrKW"];return j0=function(){return c},j0()}const ai=2/3,Rd=.6,Mm=.25,jm=.75;function Zl(c,r,a){const i=vn,f={GMkcd:function(B,k){return B*k},aetMB:function(B,k){return B<=k},pZepw:"uniform",tTrsr:function(B,k){return B-k},GYEFo:function(B,k){return B/k},xpShz:function(B,k){return B===k},RypQB:"gradual",nKRLx:function(B,k){return B*k},ImYcs:function(B,k){return B*k},bxQCg:function(B,k){return B+k},dWBvM:function(B,k){return B+k},aoyvB:function(B,k){return B/k}},x=c/2,h=f.GMkcd(r,Math.SQRT2)/2;if(f[i(184)](h,0)||x<=0)return{diameter:c,layerCount:1};const _=a?.sizeMode??f[i(168)],m=a?.sizeStepMm??0,d=h*f.tTrsr(1,ai),p=f.GYEFo(Math.PI*x,2),y=a?.[i(216)]??Math[i(186)](1,Math.round(p/d)),N=f.xpShz(_,f[i(189)])?r+f[i(178)](y-1,m):r,b=f[i(210)](N*Math.SQRT2,2),D=h*Mm+b*jm;if(y===1){const B=Math.min(Math.PI/2,b*ai/x),k=f[i(205)](x,Math[i(193)](B)),I=f.ImYcs(b*Rd,Math[i(193)](B));return{diameter:Math.round(Math.max(c,f[i(182)](2,f.bxQCg(k,I)))),layerCount:y}}let S=f.GMkcd(h,ai)/x;for(let B=1;B<y;B++){const k=_===i(203)?f[i(188)](r,B*m):r,I=f[i(170)](f.ImYcs(k,Math[i(183)]),2);S+=I*(1-ai)/x}S=Math[i(209)](S,Math.PI/2);const C=f[i(188)](x,D*Rd)*Math.sin(S),L=Math[i(186)](0,f[i(169)](C,x));return{diameter:Math[i(204)](f[i(188)](c,f.nKRLx(2,L))),layerCount:y}}function lr(c,r,a=ii(194),i=0){const f=ii,x={EQCuZ:function(m,d){return m<=d},GHkBi:function(m,d){return m<d},YvxSk:function(m,d){return m===d},UNttI:"gradual",qUAMk:function(m,d){return m+d},nYEQF:function(m,d){return m*d},qSGwP:function(m,d){return m/d}};if(r<=0||x.EQCuZ(c,0))return 0;const h=[];for(let m=0;x.GHkBi(m,r);m++){const d=x.YvxSk(a,x[f(167)])?x[f(172)](c,x.nYEQF(m,i)):c;h[f(176)](d*Math.SQRT2/2)}let _=h[0];for(let m=1;m<r;m++)_+=x.qSGwP(h[m],3);return Math.round(_*2)}function zm(c,r,a=ii(194),i=0){const f=ii,x={Ihvtk:function(y,N){return y<=N},cAGOA:function(y,N){return y/N},RZvRe:function(y,N){return y===N},CrOnZ:f(194),YcWMO:function(y,N){return y===N},rfrRd:function(y,N){return y/N},YWWYP:function(y,N){return y+N},XoTne:function(y,N){return y*N},rzYSa:function(y,N){return y*N},otexM:function(y,N){return y/N},tZHaL:function(y,N){return y-N}};if(r<=0||x.Ihvtk(c,0))return 0;const h=x[f(173)](c,2),_=Math.SQRT2/2,m=r;if(x[f(185)](a,x.CrOnZ)||x[f(187)](i,0)){const y=x[f(202)](_*x[f(191)](m,2),3);return Math[f(186)](1,Math.round(h/y))}const d=x.XoTne(x.rzYSa(i,m-1),m)/6,p=x.otexM(x.tZHaL(h/_,d)*3,m+2);return Math.max(1,Math[f(204)](p))}function Dm(c,r,a){const i=ii,f={VeRFf:function(_,m){return _+m},DCtDt:function(_,m,d,p){return _(m,d,p)},bfpBR:function(_,m){return _<m},RLDFP:function(_,m){return _/m}};if(c<=r)return 1;let x=1,h=80;for(let _=0;_<30;_++){const m=f[i(198)](x,h)/2,{diameter:d}=f[i(217)](Zl,r,m,a);f.bfpBR(d,c)?x=m:h=m}return Math[i(186)](1,Math.round(f[i(179)](f.VeRFf(x,h),2)))}function vn(c,r){c=c-167;const a=j0();let i=a[c];if(vn.CpGHLP===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};vn.coVCqn=f,vn.hFgZQi={},vn.CpGHLP=!0}const x=a[0],h=c+x,_=vn.hFgZQi[h];if(_)i=_;else{const m=function(d){this.ALCkNx=d,this.Vmfbvb=[1,0,0],this.YHDCrF=function(){return"newState"},this.Qfpjjs="\\w+ *\\(\\) *{\\w+ *",this.VLuZZA=`['|"].+['|"];? *}`};m.prototype.MzeLiR=function(){const d=new RegExp(this.Qfpjjs+this.VLuZZA),p=d.test(this.YHDCrF.toString())?--this.Vmfbvb[1]:--this.Vmfbvb[0];return this.okTwdA(p)},m.prototype.okTwdA=function(d){return~d?this.usMdsx(this.ALCkNx):d},m.prototype.usMdsx=function(d){for(let p=0,y=this.Vmfbvb.length;p<y;p++)this.Vmfbvb.push(Math.round(Math.random())),y=this.Vmfbvb.length;return d(this.Vmfbvb[0])},new m(vn).MzeLiR(),i=vn.coVCqn(i),vn.hFgZQi[h]=i}return i}function Nm(c,r,a){const i=ii,f={UJUtH:function(N,b){return N/b},tSPVP:function(N,b){return N<=b},mhFkF:function(N,b){return N===b},MrvUQ:function(N,b){return N/b},skTTo:function(N,b){return N/b},RlAZD:function(N,b){return N/b},ActHw:function(N,b){return N*b},YFLTE:function(N,b){return N>=b},otjTC:function(N,b){return N<b},xxYUu:function(N,b){return N/b},VmMEP:function(N,b){return N*b},cIgqv:function(N,b){return N*b},MncPR:function(N,b){return N>b}},x=c/2,h=f[i(174)](r*Math.SQRT2,2);if(h<=0||f[i(190)](x,0))return 1;const _=a?.[i(196)]??i(194),m=a?.[i(177)]??0,d=Math.PI/2;if(_==="uniform"||f.mhFkF(m,0)){const N=f.MrvUQ(h,3),b=Math.PI*x/2;return Math[i(186)](1,Math.round(f.skTTo(b,N)))}let p=f.RlAZD(f.ActHw(h,ai),x);if(f.YFLTE(p,d))return 1;let y=1;for(let N=1;f.otjTC(N,100);N++){const b=r+N*m,D=f.xxYUu(f[i(192)](b,Math[i(183)]),2),S=f.cIgqv(D,1-ai)/x;if(p+=S,f[i(206)](p,d+f.UJUtH(S,2)))break;y=N+1}return Math[i(186)](1,y)}(function(c,r){const a=Ct,i=c();for(;;)try{if(parseInt(a(476))/1+-parseInt(a(470))/2+-parseInt(a(515))/3*(-parseInt(a(497))/4)+-parseInt(a(508))/5+-parseInt(a(480))/6*(parseInt(a(481))/7)+-parseInt(a(512))/8*(-parseInt(a(483))/9)+parseInt(a(485))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(z0,367015);const Am=(function(){let c=!0;return function(r,a){const i=Ct,f={bhHEQ:i(518)},x=c?function(){const h=i;if(a)if(f.bhHEQ!=="RTqFN"){const _=a[h(505)](r,arguments);return a=null,_}else _0x55faec=_0x26dfe4/3}:function(){};return c=!1,x}})(),xs=Am(void 0,function(){const c=Ct,r={NPZyP:c(499)};return xs.toString().search(r[c(488)]).toString()[c(513)](xs)[c(493)](c(499))});xs();const cr=.28,kd={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function z0(){const c=["5y2k44gp44gz","mtiYmJaXohfUrgfXzW","Du5Pt0O","C2LU","zMXVB3i","vNLivMq","C29YDa","nJuWmJi1qu5jvNbJ","BgvUz3rO","C2nHBgu","q3rKCKu","mte0ntuYnMX6tK5kEG","n1DAB0fXqq","CM91BMq","ndmYmtuZt0f1rvrR","BK9jwwu","nZG1mdqYmhLrswHmEa","sKLZC3y","AhzZs0q","tLbAEva","rLfwEem","Bwf4","u1fsvdi","EhjMswe","C2vHCMnO","Cgz5u20","CMfKAxvZ","yMvHuMO","mZGWy3b6Bvje","yxrsyNC","kcGOlISPkYKRksSK","ChvZAa","Dg9gAxHLza","D0z1Cgm","y29Z","5yMJ44gK44g+44g/","yxbWBhK","tK1osLC","quPTzgm","mJy3nZK3meHUsvnNCa","se5Uvuu","zMLUza","EgnoAKS","ohbgAeXlrW","y29UC3rYDwn0B3i","wK5vDwK","nJK4n0XeruvrAa","z3LPEKS","CxLZuuC","q0zTsfG","vKTUBeS","zuPdywy","z01vCK4","qMrVwgS","B3jKzxi"];return z0=function(){return c},z0()}function fs(c){const r=Ct,a={TBcXA:""};return c===r(504)?kd.:kd[a.TBcXA]}function ba(c){return{ovvql:function(a,i){return a/i}}.ovvql(c*Math.PI,180)}const un=2.7;function Ht(c){const r=Ct,a={aZOlx:function(h,_){return h*_},vVPeI:function(h,_){return h/_}},i=a.aZOlx(c,Math[r(491)])/2,f=i*un,x=a.vVPeI(f,2);return{length:f,width:x}}function Tm(c){const r=Ct,a={pfySm:function(i,f){return i/f},rkvUX:function(i,f){return i*f}};return a[r(494)](a.rkvUX(c,un),2)}function tr(c,r,a){const i=Ct,f={EXtCe:function(d,p){return d+p}},{length:x}=Ht(a),h=x*r,_=Math[i(490)](0,c-h*cr);return f.EXtCe(_,h)*2/un}function Em(c,r,a){const i=Ct,f={WjiXP:function(m,d){return m*d},xcNjK:function(m,d){return m-d}},{length:x}=Ht(a),h=x*r,_=c*un/2;return Math.max(2,_-f.WjiXP(h,f[i(511)](1,cr)))}function Fn(c,r,a){const i=Ct,f={xrfIa:function(p,y){return p*y},nOIYe:function(p,y){return p<=y},AJmdc:function(p,y){return p??y},HNnUE:function(p,y){return p/y},CSyOn:function(p,y){return p<y},qysQG:function(p,y){return p+y},AgxkN:function(p,y){return p*y},wjhXY:function(p,y){return p/y},uNiOJ:"SuTkT",FUTRN:function(p,y){return p%y},sRKuJ:function(p,y){return p>y},sEKtM:function(p,y){return p>y}};if(!c||f[i(484)](c,0)||!a||a<=0)return f[i(507)](r,0);const x=360/c,h=f.HNnUE(360,a),_=[];for(let p=0;f.CSyOn(p,c);p++)_.push(f.qysQG((r+f[i(492)](p,x))%360,360)%360);let m=r+f[i(509)](x,2),d=-1;for(let p=0;p<c;p++){const y=f[i(517)](f[i(517)](r,f.AgxkN(p,x)),f.wjhXY(x,2));let N=1/0;for(let b=0;b<a;b++)if(f[i(471)]===f[i(471)]){const D=f[i(517)](f.FUTRN(y+b*h,360),360)%360;for(const S of _){let C=Math.abs(D-S);f.sRKuJ(C,180)&&(C=360-C),C<N&&(N=C)}}else return rwLcwS.xrfIa(_0x2e4546,_0x4e6d8a)/2;f.sEKtM(N,d)&&(d=N,m=y)}return f.wjhXY(Math.round(m*10),10)}function X0(c,r,a){const i=Ct,f={hLyNj:function(b,D){return b(D)},Vvmxp:function(b,D){return b*D},hvsKD:function(b,D){return b*D},FQVxC:function(b,D){return b/D},sCYyR:function(b,D,S){return b(D,S)}};if(c[i(477)]===0)return;const{length:x}=f.hLyNj(Ht,r),h=c[0],_=h.scale??1,m=x*_,d=Math.max(0,h.radius-f.Vvmxp(m,cr)),p=d+m;if(p<=0)return;const y=f[i(487)](a,un)/2,N=f[i(489)](y,p);for(const b of c)b[i(495)]=Math.max(2,f[i(489)](Math[i(482)](f.Vvmxp(f.Vvmxp(b.radius,N),10)),10)),b[i(478)]=f[i(489)](Math[i(482)](f.hvsKD(b[i(478)]??1,N)*100),100);f.sCYyR(ds,c,r)}function ds(c,r){const a=Ct,i={JAKZv:function(m,d){return m-d},VWgfw:function(m,d){return m(d)}};if(c.length===0)return;const f=c[i.JAKZv(c[a(477)],1)],{length:x}=i.VWgfw(Ht,r),h=x*(f[a(478)]??1),_=Math[a(473)](h*cr*10)/10;f[a(495)]>_&&(f[a(495)]=_)}function Lm(c,r,a,i){const f=Ct,x={gyizK:function(N,b){return N*b},ZNUui:function(N,b){return N>b},VKnlK:function(N,b){return N/b},sFENM:function(N,b){return N*b},VABuf:function(N,b){return N===b},tJPXd:function(N,b){return N*b},gCnNT:f(469),Vjoci:function(N,b){return N*b},atRbw:function(N,b){return N*b},WGVlg:function(N,b){return N/b},iMLcG:function(N,b){return N*b},NJsRr:function(N,b){return N+b},lXdeS:function(N,b,D,S){return N(b,D,S)}};if(c.length===0)return;const h=[...c][f(475)]((N,b)=>b.order-N[f(523)]),{length:_}=Ht(r),m=h.length,d=h[0][f(478)]??1,p=_*d;h[0][f(495)]=Math.floor(x.sFENM(x.gyizK(p,cr),10))/10;for(let N=1;N<m;N++)if(x.VABuf("GpXIe",f(479))){const D=x[f(516)](70,_0x4166e6.PI)/180,S=x[f(514)](_0x5e8a79,1)?_0x3e03c6/(_0x288c59-1)*D:0;_0x1caa43=_0x366e10*x[f(519)](30,100)*_0x286127.cos(S)}else{const b=h[N-1],D=x.tJPXd(_,b.scale??1);let S;if(a===x.gCnNT){const L=70*Math.PI/180,G=m>1?x.Vjoci(N/(m-1),L):0;S=x[f(498)](D,x.WGVlg(30,100))*Math[f(503)](G)}else S=D/3;h[N][f(495)]=Math[f(482)](x.iMLcG(x.NJsRr(b.radius,S),10))/10}const y=[...c][f(475)]((N,b)=>N.order-b[f(523)]);x.lXdeS(X0,y,r,i);for(const N of y){const b=c.find(D=>D.id===N.id);b&&(b.radius=N.radius,b.scale=N[f(478)])}}function Ct(c,r){c=c-469;const a=z0();let i=a[c];if(Ct.hBxFUq===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Ct.ltVfbB=f,Ct.WMkqvv={},Ct.hBxFUq=!0}const x=a[0],h=c+x,_=Ct.WMkqvv[h];if(_)i=_;else{const m=function(d){this.FfPxiC=d,this.ckiYYt=[1,0,0],this.yPHRAp=function(){return"newState"},this.iAyJFR="\\w+ *\\(\\) *{\\w+ *",this.biDrhC=`['|"].+['|"];? *}`};m.prototype.pJmzwQ=function(){const d=new RegExp(this.iAyJFR+this.biDrhC),p=d.test(this.yPHRAp.toString())?--this.ckiYYt[1]:--this.ckiYYt[0];return this.IXXFBg(p)},m.prototype.IXXFBg=function(d){return~d?this.bezHMk(this.FfPxiC):d},m.prototype.bezHMk=function(d){for(let p=0,y=this.ckiYYt.length;p<y;p++)this.ckiYYt.push(Math.round(Math.random())),y=this.ckiYYt.length;return d(this.ckiYYt[0])},new m(Ct).pJmzwQ(),i=Ct.ltVfbB(i),Ct.WMkqvv[h]=i}return i}function ri(c){const r=Ct,a={dOEpu:function(m,d){return m/d},UrxDx:function(m,d){return m*d},beaRj:function(m,d){return m(d)},NMNJW:function(m,d){return m*d}},i=a.dOEpu(360,c),f=a.UrxDx(Math.sin(a[r(496)](ba,a.dOEpu(i,2))),2),x=.96,h=1.2,_=f*h/x;return a.dOEpu(Math[r(482)](a[r(506)](Math.max(.3,Math.min(3,_)),100)),100)}(function(c,r){const a=ln,i=c();for(;;)try{if(-parseInt(a(508))/1*(parseInt(a(485))/2)+parseInt(a(450))/3+parseInt(a(475))/4+-parseInt(a(482))/5+-parseInt(a(496))/6+parseInt(a(461))/7*(-parseInt(a(453))/8)+-parseInt(a(525))/9*(-parseInt(a(465))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(D0,249574);const Gm=(function(){const c=ln,r={BgjAN:c(478),rGdap:"Center",DWBxo:function(i,f){return i/f},fQzYl:function(i,f){return i(f)},woiTg:c(500),WMygo:function(i,f){return i+f},YMwwE:function(i,f){return i/f},Ginvy:c(437),aYbDk:function(i,f){return i(f)},MvMkr:function(i,f){return i/f},ydXYI:c(535),qLiwD:function(i,f){return i??f},iNSmU:function(i,f,x){return i(f,x)},rYJXc:"flw",OMwDd:"Flower 1",rmdHi:function(i,f){return i(f)},Wdwth:function(i,f){return i??f},XXTHt:c(493)};let a=!0;return function(i,f){const x=c;if(r.XXTHt===x(445)){const h=_0x5ea1b1(),_=_0x239c57(),m={id:_0x3f0d36(r.BgjAN),name:r[x(531)],order:3,petalType:x(479),petalCount:6,radius:14,scale:1,widthScale:1,offsetAngle:0,colorId:x(476),visible:!0,locked:!1},d=r.DWBxo(360,m.petalCount),p={id:r[x(494)](_0x3d5e7d,r[x(468)]),name:x(495),order:2,petalType:r[x(491)],petalCount:6,radius:24,scale:1,widthScale:1,offsetAngle:r.WMygo(m[x(492)],r[x(530)](d,2)),colorId:r.Ginvy,visible:!0,locked:!1},y=360/p[x(537)],N={id:r.aYbDk(_0x6e8f58,r[x(468)]),name:x(538),order:1,petalType:r.woiTg,petalCount:6,radius:32,scale:1,widthScale:1,offsetAngle:r[x(455)](p[x(492)],r.MvMkr(y,2)),colorId:r.ydXYI,visible:!0,locked:!1},b=_0x21ecb4??20,D=r.qLiwD(_0x25b088,30),{diameter:S}=r[x(488)](_0x384e25,D,b),C=[N,p,m],L=[...C][x(459)]((B,k)=>B[x(480)]-k.order);_0x48a1b5(L,b,S);for(const B of L){const k=C[x(522)](I=>I.id===B.id);k&&(k.radius=B[x(521)],k.scale=B.scale)}const G={id:r[x(467)](_0x1e534c,r[x(523)]),name:r.OMwDd,position:{x:_0x677f8e,y:_0x29deba},flowerDiameter:S,rotation:0,layers:C,fabricSquareSize:b,placementMode:"",baseDiameter:D};return r[x(494)](_0x3156ad,{version:1,id:r[x(497)](_0x39970c,x(471)),title:r[x(532)](_0x318b67,x(444)),unit:"mm",fabricSquareSize:b,baseDiameter:D,notes:"",createdAt:h,updatedAt:h,palette:_,flowers:[G]})}else{const h=a?function(){const _=x;if(f){const m=f[_(456)](i,arguments);return f=null,m}}:function(){};return a=!1,h}}})(),hs=Gm(void 0,function(){const c=ln;return hs.toString().search(c(447)).toString().constructor(hs)[c(486)](c(447))});hs();function ln(c,r){c=c-437;const a=D0();let i=a[c];if(ln.EyTmPk===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};ln.qvHSCd=f,ln.emDagl={},ln.EyTmPk=!0}const x=a[0],h=c+x,_=ln.emDagl[h];if(_)i=_;else{const m=function(d){this.lkAwMB=d,this.ioEPTw=[1,0,0],this.ZtPyae=function(){return"newState"},this.EvOABj="\\w+ *\\(\\) *{\\w+ *",this.wfkhBq=`['|"].+['|"];? *}`};m.prototype.UPqYVT=function(){const d=new RegExp(this.EvOABj+this.wfkhBq),p=d.test(this.ZtPyae.toString())?--this.ioEPTw[1]:--this.ioEPTw[0];return this.bExMSn(p)},m.prototype.bExMSn=function(d){return~d?this.OowHpK(this.lkAwMB):d},m.prototype.OowHpK=function(d){for(let p=0,y=this.ioEPTw.length;p<y;p++)this.ioEPTw.push(Math.round(Math.random())),y=this.ioEPTw.length;return d(this.ioEPTw[0])},new m(ln).UPqYVT(),i=ln.qvHSCd(i),ln.emDagl[h]=i}return i}function Zd(){const c=ln,r={fRrlx:"#F5F5F5",NvxFK:c(535),WGggs:"#E34850",tBVeb:"col_orange",KjIGQ:c(476),IdOvO:"#F2D04B",pqPmj:c(536),dymCW:c(462),RXLmQ:"#1A7A3A",FWeCs:c(470),zMkSa:"col_navy",PXmFJ:c(502),gfTZA:c(458),GwTTc:"col_lavender",zSLhV:"col_gold",gbRfc:c(441),SpzHN:"col_black",oSBLz:c(443),UdYGk:c(514)};return[{id:"col_white",name:"",hex:r[c(483)]},{id:r[c(518)],name:"",hex:r.WGggs},{id:"col_pink",name:"",hex:"#F08CB6"},{id:"col_hotpink",name:"",hex:c(506)},{id:r.tBVeb,name:"",hex:c(539)},{id:r.KjIGQ,name:"",hex:r[c(448)]},{id:r[c(473)],name:"",hex:c(512)},{id:"col_green",name:"",hex:"#2FBF4A"},{id:r[c(534)],name:"",hex:r[c(519)]},{id:c(463),name:"",hex:r.FWeCs},{id:"col_blue",name:"",hex:"#3B7DD8"},{id:r[c(499)],name:"",hex:"#2C3E6B"},{id:r[c(503)],name:"",hex:r.gfTZA},{id:r.GwTTc,name:"",hex:c(452)},{id:r.zSLhV,name:"",hex:"#D4A843"},{id:"col_silver",name:"",hex:r.gbRfc},{id:c(484),name:"",hex:c(451)},{id:"col_brown",name:"",hex:"#8B5E3C"},{id:r[c(504)],name:"",hex:"#333333"},{id:r.oSBLz,name:"",hex:r[c(487)]}]}function qm({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=ln,f={SPFXH:function(_){return _()},oMgqG:function(_){return _()},Cqrpp:function(_,m){return _(m)},mikFa:"prj",NzsPY:"",fcgCB:function(_,m){return _??m}},x=f[i(498)](w0),h=f[i(446)](Zd);return ha({id:f[i(464)](It,f[i(515)]),title:c??f.NzsPY,unit:"mm",fabricSquareSize:r??20,baseDiameter:f.fcgCB(a,30),notes:"",createdAt:x,updatedAt:x,palette:h,flowers:[]})}function D0(){const c=["zMLUza","CLLkwgm","zwfQqwi","ndqZnZLvExf6ruq","5y2k44gp44gz","vfjZExq","v1vwD2C","q2vUDgvY","wu13D0u","CKDKyxa","v2r3DgG","zvzxq0i","zhLTq1C","y29Sx3jLza","y29Sx2XPz2H0EwvSBg93","Cgv0ywXdB3vUDa","t3v0zxi","i0yWoeeZqG","y29Sx3bPBMS","u1rwsMG","Cgv0ywXpDMvYCMLKzxm","zuj3t04","i0mWqZbdma","CgP1A3O","y29Sx2nVCMfS","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","uxncB2m","B01NCuC","kcGOlISPkYKRksSK","swrpDK8","AwTMBLa","mteYotKXn2fAt09VDG","i0y1rtzdqW","i0m4qtjena","mJy0mtz5teXVuhO","q1rNDvK","v015z28","yxbWBhK","D2nLsxC","iZLcntLcnG","C29YDa","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","mZa4qwLLtgnH","y29Sx2rHCMTNCMvLBG","y29Sx2XPz2H0yMX1zq","q3fYCha","mte5mhDnq0LUBG","C2nHBgu","yvLIrgS","qMDQqu4","wvPIyLy","iZDfqZHfmW","ChjVAG","qLfNzvm","ChfqBwO","zMX3","mZK3nZyWrKnjv21V","y29Sx3LLBgXVDW","B2Duvge","Bgf5","5lI444gK44g+44g/","B3jKzxi","twHgwei","mJqZnJv1uhzbDuu","zLjYBhG","y29Sx2nYzwfT","nda5ntG4A0f3EvvO","C2vHCMnO","vwrzr2S","Au5tBvu","vvvYDwO","y29Sx3DOAxrL","D29PvgC","B2zMC2v0qw5NBgu","twr5q2m","zLf6wwW","sw5Uzxi","mtuYmti3mffXww5uwG","CM1KsgK","u1bgweG","EK1Ru2e","5yMJ44gK44g+44g/","ufvrvwC","y29Sx3b1CNbSzq","ufHTrKO","u3b6se4","y3rlBLC","i0uWndu3qG","zwDOzeu","mMn4EKzbwG","Bfj3CM8","uMHJwuW","zeXwuhe","i0zerJvdoq","BMfTzq","i0yWoda4ma","BwLRrMe","rMXVD2vYide","tw5OyM4","tNz4rKS","uLHmBve","Cg9ZAxrPB24","CMfKAxvZ"];return D0=function(){return c},D0()}function Bm(c,r){const a=ln,i={dLVPq:function(_,m){return _(m)}},f=i[a(511)](Ul,c);f.id=It(a(474)),f[a(513)]=c.name+" Copy";const x=r?.x??12,h=r?.y??12;return f.position={x:(c[a(520)]?.x??0)+x,y:(c.position?.y??0)+h},f.layers=(f.layers||[]).map(_=>({..._,id:It("lay"),petalOverrides:_.petalOverrides?_[a(439)].map(m=>({...m})):void 0})),f}(function(c,r){const a=En,i=c();for(;;)try{if(-parseInt(a(390))/1*(parseInt(a(429))/2)+parseInt(a(420))/3+-parseInt(a(366))/4*(-parseInt(a(400))/5)+-parseInt(a(375))/6*(parseInt(a(424))/7)+parseInt(a(466))/8*(-parseInt(a(464))/9)+-parseInt(a(463))/10+-parseInt(a(398))/11*(-parseInt(a(469))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(N0,772705);const Rm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ms=Rm(void 0,function(){const c=En,r={aEotg:c(446)};return ms[c(451)]().search(r.aEotg).toString().constructor(ms).search(c(446))});ms();function En(c,r){c=c-359;const a=N0();let i=a[c];if(En.TbUvid===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};En.AlZTch=f,En.IOiuvI={},En.TbUvid=!0}const x=a[0],h=c+x,_=En.IOiuvI[h];if(_)i=_;else{const m=function(d){this.ttAXTo=d,this.IMyDFm=[1,0,0],this.aYOFfP=function(){return"newState"},this.YJDzMZ="\\w+ *\\(\\) *{\\w+ *",this.THnuaG=`['|"].+['|"];? *}`};m.prototype.fZoNkP=function(){const d=new RegExp(this.YJDzMZ+this.THnuaG),p=d.test(this.aYOFfP.toString())?--this.IMyDFm[1]:--this.IMyDFm[0];return this.fvQWIV(p)},m.prototype.fvQWIV=function(d){return~d?this.ZKNiRm(this.ttAXTo):d},m.prototype.ZKNiRm=function(d){for(let p=0,y=this.IMyDFm.length;p<y;p++)this.IMyDFm.push(Math.round(Math.random())),y=this.IMyDFm.length;return d(this.IMyDFm[0])},new m(En).fZoNkP(),i=En.AlZTch(i),En.IOiuvI[h]=i}return i}function cs(c){const r=En,a={IKzZS:function(i,f){return i===f},RBNvr:r(386),Wfoie:function(i,f){return i===f},sWEph:function(i,f){return i===f}};return c==="maru"?"":a.IKzZS(c,r(388))?a.RBNvr:a[r(441)](c,r(373))||a.sWEph(c,a[r(438)])?c:r(373)}function N0(){const c=["y3jLyxrLzef0","AxnbCNjHEq","v2zVAwu","44or44o844oR77Yl5BQN6yEr","Cg9Zzq","CgfSzxr0zq","AfbotMO","kcGOlISPkYKRksSK","y29SB3jjza","C3rLBMnPBhm","DxDxzuy","wNrYreC","Dg9tDhjPBMC","BgvHzG","C29Tzq","Ee1Aree","Aw5UzxjdB2XVCKLK","CM90yxrPB24","CM91BMq","vhHhzMC","shDlBxi","DhLWzq","C2nHBgu","BwfW","nJe2mtG1mejnwwPjvW","mZi0u2XRDfrK","B2jQzwn0","mJK5mdq4wvrOzwvs","BM90zxm","zMXVD2vYswrZ","ody0s3rYterK","AgfZ","tfLjqNy","tgvHzG","rLDpy1m","BgvHzKLKCW","rKHHBwG","EvfkuLy","B2zMC2v0qw5NBgu","t0fTDuC","mZm3otu2CM5tB3rb","uMDNB2K","Aw5UzxjtAxPLuMvKDwn0Aw9U","uMPkru8","Bgf5zxjZ","Cg9ZAxrPB24","DhDyv00","5lI444gK44g+44g/","sK1yuwS","mZa1mZmYogvev05ptW","renxt1q","yMfJAW","yw9YENq","CMfKAxvZ","uxroswO","Cgv0ywXpDMvYCMLKzxm","q1PYrw0","BgvUz3rO","zxLTuKS","CgXHy2vTzw50tw9Kzq","5yMJ44gK44g+44g/","Bg9JA2vK","A2vU","BMfTzq","mw9yufvvwa","yM9VBgvHBG","ChvZAa","Cgv0ywXdB3vUDa","z3jVDxbZ","AxngAw5PDgu","zMLSDgvY","qK1Ar1C","ndeYmdKZrKD5rMrH","CvjbD1u","odbvENzXuxe","yMfZzurPyw1LDgvY","Cgv0ywXuExbL","CgvWq291BNq","BgvHzKDYB3vWCW","wMLVEhG","Bgf5","C3rYAw5N","vMrpDg4","u0PTuMK","DMLZAwjSzq","DMvYC2LVBG","BgvMDa","DxbKyxrLzef0","zMfICMLJu3f1yxjLu2L6zq","yuHOuu8","zg91yMXLugv0ywW","zMXVD2vYrgLHBwv0zxi","tLHiseS","y2vUDgvY","mJa4ndaYnxvcyNvXAq","zfvpqLm","Aw5Uzxjty2fSzq","x2rVDwjSzvbLDgfSq2fJAgu","mtriB0rtA1K","C2L6zq","Aw5UzxjqzxrHBfr5Cgu","D2LKDgHty2fSzq","BhflvNi","mtK4mJKWnMvqvKrIuW","Aw5JBhvKzxm","BgvHDMvZ","y29Sx2DYzwvU","rw9brNO","y2HPBgq","44oA44od44ox","5y2k44gp44gz","zMXVD2vYCW","uKjoDNi"];return N0=function(){return c},N0()}function ha(c){const r=En,a={FHamh:function(x,h){return x!==h},NXHHK:"string",eymRK:function(x,h,_,m){return x(h,_,m)},mEwDW:function(x,h){return x-h},aHhQO:function(x,h){return x(h)},EoAFz:function(x,h){return x||h},uwWeF:function(x,h){return x(h)},SJmRi:"Flower",FWOcS:"col_white",DADDW:function(x,h,_,m){return x(h,_,m)},DPeiQ:function(x,h){return x(h)},tglTM:r(399),lqKVr:function(x,h){return x!=h},TxGfg:function(x,h){return x==h},twXWM:"qodlY",ofHdo:function(x,h){return x!==h},hPNNj:function(x,h){return x===h},DCWOT:r(442),HwKmr:"",dUOBS:function(x,h){return x!==h},yTexN:"ZzNST",Rggoi:function(x,h){return x!==h},aorzt:"tDICd",LYIBv:r(436),VdOtn:function(x,h){return x!==h},xMZDA:function(x){return x()},jFZvq:"proj",mDgyJ:"",mrAXG:"grp",JMXQk:"",QtNIj:function(x,h){return x!==h},XLBJF:r(432),BMZGW:r(465),ZtrDG:function(x,h,_,m){return x(h,_,m)},Zioxx:function(x,h){return x!=h},CZrEm:function(x,h){return x(h)},RjJEO:function(x,h){return x!=h},EZMUC:r(412)},i=a[r(415)](Ul,a[r(433)](c,{}));Array.isArray(i[r(437)])||(i[r(437)]=[]);for(const x of i.flowers){x.id||(x.id=a[r(449)](It,"flw")),(a[r(362)](typeof x[r(389)],"string")||!x[r(389)])&&(x.name=a[r(409)]),(!x[r(371)]||!Number[r(395)](x.position.x)||!Number.isFinite(x[r(371)].y))&&(x[r(371)]={x:260,y:260}),Array.isArray(x[r(370)])||(x.layers=[]);for(const h of x.layers){if(h.id||(h.id=It(r(406))),(a[r(362)](typeof h[r(447)],r(407))||!h[r(447)])&&(h.colorId=i.palette?.[0]?.id??a.FWOcS),h.petalType=a[r(449)](cs,h.petalType),h[r(393)]=a.DADDW(Me,a.DPeiQ(Number,h[r(393)]||0),5,24),Number[r(395)](h[r(461)])||(h[r(461)]=1),Number.isFinite(h[r(427)])||(h.widthScale=1),Number[r(395)](h[r(379)])||(h.radius=28),Number[r(395)](h.offsetAngle)||(h[r(364)]=0),delete h._doublePetalCache,h.doublePetal)if(typeof h[r(416)]!="object"||h.doublePetal===null)a.tglTM==="Mtwbw"?(_0x16433e.isFinite(_0x189505[r(416)].innerSizeReduction)||(_0x136e55[r(416)][r(368)]=2),_0x772845[r(416)][r(368)]=_0x42e41b(_0x35b435.doublePetal[r(368)],1,30),_0x2f5bec.doublePetal.innerColorId!=null&&a.FHamh(typeof _0x19fd39[r(416)].innerColorId,a[r(418)])&&delete _0x583b3f[r(416)].innerColorId):delete h[r(416)];else{if(a.lqKVr(h[r(416)].innerScale,null)&&a[r(458)](h[r(416)].innerSizeReduction,null))if(a.twXWM!==a[r(372)])_0x4b2bf6.position={x:675,y:675};else{const _=x.fabricSquareSize??i.fabricSquareSize??20;h[r(416)].innerSizeReduction=Math[r(457)](_*(1-h[r(416)][r(422)]))}delete h[r(416)][r(422)],Number.isFinite(h.doublePetal[r(368)])||(h.doublePetal.innerSizeReduction=2),h.doublePetal.innerSizeReduction=Me(h[r(416)].innerSizeReduction,1,30),delete h[r(416)].innerPetalType,a[r(428)](h[r(416)].innerColorId,null)&&a.ofHdo(typeof h.doublePetal.innerColorId,a[r(418)])&&delete h.doublePetal[r(455)]}if(Array.isArray(h[r(381)]))for(const _ of h.petalOverrides)_&&_.petalType!=null&&(_[r(402)]=a[r(415)](cs,_[r(402)])),_&&delete _[r(426)],_&&_[r(455)]!=null&&typeof _.innerColorId!="string"&&delete _[r(455)],_&&_[r(368)]!=null&&(Number[r(395)](_[r(368)])?_[r(368)]=Me(_.innerSizeReduction,1,30):delete _.innerSizeReduction)}if((!Number.isFinite(x.flowerDiameter)||x[r(417)]<=0)&&(x[r(417)]=60),x[r(419)]&&(a[r(445)](x[r(419)][r(460)],a[r(376)])&&(x.center[r(460)]=""),[a.HwKmr,"",r(435)].includes(x[r(419)][r(460)])||(x.center.type=a[r(459)]),Number[r(395)](x.center[r(425)])||(x[r(419)].size=6),x.center[r(425)]=Me(x[r(419)][r(425)],1,30),(a.FHamh(typeof x[r(419)].color,a[r(418)])||!x[r(419)].color)&&(a[r(421)]("lPNMP",a.yTexN)?x.center.color=i[r(444)]?.[0]?.id??a[r(360)]:_0x539198.isFinite(_0x23f6b5[r(368)])?_0x511fbc[r(368)]=a[r(384)](_0x3eb1a3,_0x111b98[r(368)],1,30):delete _0x5e91bd[r(368)]),a[r(445)](x[r(419)].type,"")&&(Number.isFinite(x[r(419)].pepCount)||(x[r(419)].pepCount=12),x.center.pepCount=Me(x.center[r(403)],4,30)),a[r(367)](x[r(419)][r(460)],"")))if(a.aorzt!==a[r(378)]){if(_0x2fbd3c[r(416)][r(422)]!=null&&_0x3188ec.doublePetal[r(368)]==null){const _=_0x22a458[r(414)]??_0x59032f[r(414)]??20;_0x5bf81e[r(416)].innerSizeReduction=_0x3f53c0.round(_*a.mEwDW(1,_0x43c887[r(416)].innerScale))}delete _0x1c2124.doublePetal[r(422)],_0x44f583[r(395)](_0x2960fb.doublePetal[r(368)])||(_0x384705.doublePetal[r(368)]=2),_0x14e68.doublePetal[r(368)]=_0x73909(_0x15fefd.doublePetal.innerSizeReduction,1,30),delete _0x2bfd9a[r(416)].innerPetalType,_0x24054d[r(416)].innerColorId!=null&&typeof _0x3c5be4[r(416)].innerColorId!==a.NXHHK&&delete _0x20edf2.doublePetal.innerColorId}else delete x[r(419)].color2;a[r(367)](x[r(385)],a[r(471)])&&a[r(408)](x[r(385)],"")&&(r(363)!==r(363)?delete _0x128f56.doublePetal:x.placementMode=a[r(471)]),x.baseDiameter!==void 0&&(!Number[r(395)](x.baseDiameter)||x.baseDiameter<=0)&&delete x[r(401)]}Array[r(440)](i.palette)||(i.palette=[]);const f=new Set(i[r(444)].map(x=>x.id));for(const x of Zd())f.has(x.id)||i[r(444)][r(392)](x);i[r(439)]||(i.createdAt=a[r(454)](w0)),i.updatedAt||(i[r(413)]=i.createdAt),i.id||(i.id=It(a.jFZvq)),i.title||(i.title=a.mDgyJ),i.unit="mm",Number[r(395)](i[r(414)])||(i[r(414)]=20),(!Number[r(395)](i.baseDiameter)||i[r(401)]<=0)&&(i.baseDiameter=30),typeof i.notes!==a[r(418)]&&(i[r(467)]=""),Array.isArray(i.groups)||(i[r(394)]=[]);{const x=new Set(i.flowers[r(462)](h=>h.id));for(const h of i.groups)Array.isArray(h.flowerIds)||(h.flowerIds=[]),h[r(468)]=h.flowerIds.filter(_=>x.has(_)),h.id||(h.id=a.DPeiQ(It,a.mrAXG)),(typeof h[r(389)]!==a.NXHHK||!h.name)&&(h.name=a[r(374)]);i.groups=i[r(394)][r(396)](h=>h.flowerIds&&h[r(468)][r(383)]>0)}Array[r(440)](i[r(431)])||(i.leaves=[]);for(const x of i[r(431)])if(a[r(445)]("IBeSc",r(365)))delete _0x3c15cc[r(416)];else{const h="4|10|0|3|2|6|7|8|11|1|5|9".split("|");let _=0;for(;;){switch(h[_++]){case"0":(!x.position||!Number[r(395)](x.position.x)||!Number[r(395)](x[r(371)].y))&&(x[r(371)]={x:675,y:675});continue;case"1":a[r(380)](typeof x[r(387)],r(391))&&(x[r(387)]=!1);continue;case"2":x[r(402)]=cs(x[r(402)]);continue;case"3":Number[r(395)](x[r(456)])||(x.rotation=0);continue;case"4":x.id||(x.id=It(r(452)));continue;case"5":delete x[r(423)];continue;case"6":(typeof x.colorId!==a[r(418)]||!x[r(447)])&&(x.colorId=i[r(444)]?.[0]?.id??a.XLBJF);continue;case"7":Number.isFinite(x.scale)||(x[r(461)]=1);continue;case"8":Number[r(395)](x.widthScale)||(x.widthScale=1);continue;case"9":x[r(416)]&&(typeof x.doublePetal!==a[r(397)]||x[r(416)]===null?delete x[r(416)]:(Number[r(395)](x.doublePetal[r(368)])||(x.doublePetal[r(368)]=2),x[r(416)][r(368)]=a[r(450)](Me,x.doublePetal[r(368)],1,30),a[r(405)](x[r(416)][r(455)],null)&&typeof x[r(416)].innerColorId!==a.NXHHK&&delete x.doublePetal[r(455)]));continue;case"10":(typeof x.name!==a[r(418)]||!x.name)&&(x[r(389)]=r(359));continue;case"11":typeof x[r(410)]!==r(391)&&(x[r(410)]=!0);continue}break}}Array.isArray(i[r(404)])||(i.leafGroups=[]);{const x=new Set(i.leaves[r(462)](h=>h.id));for(const h of i.leafGroups)h.id||(h.id=a[r(382)](It,"lg")),(typeof h.name!==r(407)||!h[r(389)])&&(h[r(389)]=""),Array[r(440)](h[r(361)])||(h[r(361)]=[]),h[r(361)]=h.leafIds.filter(_=>x[r(470)](_)),Number[r(395)](h.rotation)||(h.rotation=0),a[r(369)](h.linkedFlowerGroupId,null)&&((i.groups??[])[r(453)](m=>m.id===h.linkedFlowerGroupId)||delete h.linkedFlowerGroupId);i[r(404)]=i.leafGroups[r(396)](h=>h.leafIds&&h[r(361)].length>0)}if(Array[r(440)](i.stencils)){const x=["adult",r(434)],h=["right",a.EZMUC,r(377)];i[r(448)]=i[r(448)].filter(_=>_&&typeof _.id===r(407)&&x.includes(_.variant)&&h[r(430)](_[r(443)])&&_[r(371)]&&Number[r(395)](_.position.x)&&Number.isFinite(_.position.y))}return Number.isFinite(i.version)||(i[r(411)]=1),i}const ar=Ln;function A0(){const c=["yxbWBhK","mtKZmZuXohH4quLjzW","Dhn1BwfTAv9WCM9Qzwn0C192mq","C2vHCMnO","mZbfC2vUDKi","ndqWofPPrg9oAa","mte2mtL6Eufnuw4","mtCZnZfTuhzqB0i","44or44o844oR","mZiYm01VthDgua","5yMJ44gK44g+44g/","44oA44od44ox","nwfRq1Hqrq","mJaXmJu2ogXnqK5JuW","nti0ndyXme5ls2TnDq","5y2k44gp44gz","odG2otbXsNzTsvm","nduYmdG3nM1RyuD3Da","Dg9tDhjPBMC"];return A0=function(){return c},A0()}(function(c,r){const a=Ln,i=c();for(;;)try{if(parseInt(a(431))/1*(parseInt(a(428))/2)+parseInt(a(437))/3+-parseInt(a(441))/4+-parseInt(a(436))/5*(parseInt(a(425))/6)+-parseInt(a(438))/7+parseInt(a(429))/8*(-parseInt(a(430))/9)+-parseInt(a(440))/10*(-parseInt(a(433))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,616995);const km=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Ln;if(a){const x=a[f(443)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),bs=km(void 0,function(){const c=Ln;return bs[c(442)]()[c(427)]("(((.+)+)+)+$")[c(442)]().constructor(bs)[c(427)]("(((.+)+)+)+$")});bs();function Ln(c,r){c=c-425;const a=A0();let i=a[c];if(Ln.ejpnLY===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Ln.wSmkHZ=f,Ln.jxCIjK={},Ln.ejpnLY=!0}const x=a[0],h=c+x,_=Ln.jxCIjK[h];if(_)i=_;else{const m=function(d){this.TYxRkc=d,this.DYcXbg=[1,0,0],this.Dfidlf=function(){return"newState"},this.GzVwXl="\\w+ *\\(\\) *{\\w+ *",this.NuDNzu=`['|"].+['|"];? *}`};m.prototype.yhKlom=function(){const d=new RegExp(this.GzVwXl+this.NuDNzu),p=d.test(this.Dfidlf.toString())?--this.DYcXbg[1]:--this.DYcXbg[0];return this.gkvcte(p)},m.prototype.gkvcte=function(d){return~d?this.gIfZCm(this.TYxRkc):d},m.prototype.gIfZCm=function(d){for(let p=0,y=this.DYcXbg.length;p<y;p++)this.DYcXbg.push(Math.round(Math.random())),y=this.DYcXbg.length;return d(this.DYcXbg[0])},new m(Ln).yhKlom(),i=Ln.wSmkHZ(i),Ln.jxCIjK[h]=i}return i}const Kd=ar(426),gl=["",ar(434)],Ym=[ar(432),"",ar(435)],Xd=["",ar(439)];function an(c,r){c=c-412;const a=T0();let i=a[c];if(an.SKnUko===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};an.pgsYnm=f,an.DXJHpa={},an.SKnUko=!0}const x=a[0],h=c+x,_=an.DXJHpa[h];if(_)i=_;else{const m=function(d){this.jyUQxS=d,this.TImiHV=[1,0,0],this.IeiDmD=function(){return"newState"},this.OaOAPh="\\w+ *\\(\\) *{\\w+ *",this.HiLyjL=`['|"].+['|"];? *}`};m.prototype.tFIVLX=function(){const d=new RegExp(this.OaOAPh+this.HiLyjL),p=d.test(this.IeiDmD.toString())?--this.TImiHV[1]:--this.TImiHV[0];return this.wJEveo(p)},m.prototype.wJEveo=function(d){return~d?this.qhFrDx(this.jyUQxS):d},m.prototype.qhFrDx=function(d){for(let p=0,y=this.TImiHV.length;p<y;p++)this.TImiHV.push(Math.round(Math.random())),y=this.TImiHV.length;return d(this.TImiHV[0])},new m(an).tFIVLX(),i=an.pgsYnm(i),an.DXJHpa[h]=i}return i}(function(c,r){const a=an,i=c();for(;;)try{if(-parseInt(a(430))/1*(-parseInt(a(420))/2)+-parseInt(a(415))/3*(-parseInt(a(436))/4)+-parseInt(a(412))/5*(parseInt(a(424))/6)+-parseInt(a(421))/7*(parseInt(a(439))/8)+-parseInt(a(428))/9*(parseInt(a(417))/10)+parseInt(a(413))/11+-parseInt(a(429))/12*(parseInt(a(418))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,914238);const Om=(function(){let c=!0;return function(r,a){const i=c?function(){const f=an;if(a){const x=a[f(441)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),vs=Om(void 0,function(){const c=an,r={ojSJg:c(438)};return vs.toString()[c(416)](c(438)).toString()[c(427)](vs).search(r.ojSJg)});vs();function nr(){const c=an,r={UUxQv:function(a,i){return a===i}};try{const a=localStorage.getItem(Kd);if(!a)return[];const i=JSON[c(431)](a);return Array.isArray(i)?i.map(f=>{const x=c;try{const h=f?.project?ha(f.project):null;return h?{id:f.id??h.id,title:f[x(434)]??h.title,updatedAt:f.updatedAt??h[x(423)],project:h}:null}catch{return r[x(432)](x(440),"HDqYH")?(_0x53fde3.setItem(_0x179c0b,_0x5da93b[x(426)](_0x9c6fa9)),!0):null}})[c(425)](f=>f!=null):[]}catch{return[]}}function Jd(c){const r=an,a={zADFq:"fsZsF"};try{if(r(433)===a.zADFq)return localStorage[r(435)](Kd,JSON.stringify(c)),!0;try{return _0x21f7a0.setItem(_0x327b1f,_0x2cb0e9[r(426)](_0x852835)),!0}catch{return!1}}catch{return!1}}function Im(c){const r=an,a={dWFcE:function(_){return _()},zzozh:function(_,m){return _>=m},VwZSx:function(_,m){return _+m}},i=a.dWFcE(nr),f=i[r(414)](_=>_.id===c.id),x={id:c.id,title:c.title,updatedAt:c.updatedAt,project:c},h=a[r(419)](f,0)?[...i[r(437)](0,f),x,...i.slice(a.VwZSx(f,1))]:[x,...i];return h[r(422)]((_,m)=>_.updatedAt<m.updatedAt?1:-1),Jd(h)}function Hm(c){const r={miybS:function(i,f){return i(f)}},a=nr().filter(i=>i.id!==c);return r.miybS(Jd,a)}function T0(){const c=["nJa4ovzxEgPIqW","CgfYC2u","vvv4uxy","zNnAC0y","DgL0Bgu","C2v0sxrLBq","nda2mJG1mLfswMXwsa","C2XPy2u","kcGOlISPkYKRksSK","mta0swH2qMvP","Cvj3Dhy","yxbWBhK","nZG1quv0u25A","odC1mZe2mKTfrxzTDG","zMLUzeLUzgv4","m0LstKHKDG","C2vHCMnO","mZiWuNrKq3zj","ndCZmZy5EM9xB2Xk","ENPVEMG","mJyYq1b0t0vZ","mJeXndD2C2n6Bxy","C29YDa","DxbKyxrLzef0","mZuYotHjAuPTvgO","zMLSDgvY","C3rYAw5NAwz5","y29UC3rYDwn0B3i","mta0nePpzwfmsq","mJqWywrore9k"];return T0=function(){return c},T0()}(function(c,r){const a=Gn,i=c();for(;;)try{if(-parseInt(a(454))/1+parseInt(a(443))/2*(-parseInt(a(435))/3)+-parseInt(a(460))/4*(parseInt(a(427))/5)+parseInt(a(472))/6*(-parseInt(a(466))/7)+-parseInt(a(433))/8*(-parseInt(a(415))/9)+parseInt(a(468))/10+parseInt(a(459))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,595080);const Um=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Gn;if(a){const x=a[f(444)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),gs=Um(void 0,function(){const c=Gn,r={TSmdm:"(((.+)+)+)+$"};return gs[c(417)]().search("(((.+)+)+)+$")[c(417)]()[c(455)](gs)[c(445)](r.TSmdm)});function Gn(c,r){c=c-411;const a=E0();let i=a[c];if(Gn.ZCEKas===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Gn.eOBZRn=f,Gn.sgRtmF={},Gn.ZCEKas=!0}const x=a[0],h=c+x,_=Gn.sgRtmF[h];if(_)i=_;else{const m=function(d){this.dEACXW=d,this.WzvVLJ=[1,0,0],this.jwyMBM=function(){return"newState"},this.Mbsctf="\\w+ *\\(\\) *{\\w+ *",this.dMQElW=`['|"].+['|"];? *}`};m.prototype.tgLXpn=function(){const d=new RegExp(this.Mbsctf+this.dMQElW),p=d.test(this.jwyMBM.toString())?--this.WzvVLJ[1]:--this.WzvVLJ[0];return this.psRRFQ(p)},m.prototype.psRRFQ=function(d){return~d?this.RRpBeK(this.dEACXW):d},m.prototype.RRpBeK=function(d){for(let p=0,y=this.WzvVLJ.length;p<y;p++)this.WzvVLJ.push(Math.round(Math.random())),y=this.WzvVLJ.length;return d(this.WzvVLJ[0])},new m(Gn).tgLXpn(),i=Gn.eOBZRn(i),Gn.sgRtmF[h]=i}return i}function E0(){const c=["C2v0","C29YDa","mteXmdjMENPAuKi","yxbWBhK","C2vHCMnO","z2v0","y29SB3jjza","zMXVD2vYCW","zNjVBq","CM91BMq","Cgv0ywXpDMvYCMLKzxm","iZK5otK5oq","uen3A24","mta1mda0mMfczejnCa","y29UC3rYDwn0B3i","ExPVuNG","C0vyCem","uhDZtwW","mte4mdmWmJjlrLzbDhe","nduZnJe2reTxsNvW","CuHXuKK","zMfICMLJu3f1yxjLu2L6zq","DxD0u2G","Aw5KzxG","BwfW","nduZnKjRyK1zEq","BKHWyK4","ndiXmJqWmgPUvM9Xsa","DMfSDwvZ","Aw5UzxjdB2XVCKLK","yMfZzurPyw1LDgvY","mZaWq1nSDe50","zMfICMLJu2L6zu1T","C2nHBgu","zw50CMLLCW","zg91yMXLugv0ywW","mZzVz3P1ENm","zMXVD2vYrgLHBwv0zxi","Dg9tDhjPBMC","BMfTzq","thb2qwS","BgvHDMvZ","AMfZs0K","DMLZAwjSzq","Cgv0ywXdB3vUDa","yMfZzurPyw1LDgvYtw0","Aw5UzxjtAxPLuMvKDwn0Aw9U","rwHRrw0","nxzJC093Aa","C3fYDa","zMLUza","wMLorKC","AKPfu2m","y291BNq","otKZmdqWBvrmv0jQ","Bw9Kzq","mta4zfrtAef0","Bwf4","CgXTyKC","EMTcvNa","yKPRBLi","AwzrzMe"];return E0=function(){return c},E0()}gs();function Zm(c){const r=Gn,a={sEXpC:function(p,y){return p!==y},tIwLF:function(p,y){return p-y},ILCUf:function(p,y){return p+y},CkIeI:function(p,y){return p*y},yzoRx:function(p,y){return p*y},WXMem:function(p,y){return p/y},PCwkn:r(452),AXTqY:r(438),EhkEm:"",jJESc:function(p,y){return p<y},tShRM:function(p,y,N){return p(y,N)},nHpbN:r(419),jasKI:"ZRXtU",hTUHd:function(p,y){return p*y},bJknR:"zEVHK",plmbG:r(440)},i=new Map((c.palette||[])[r(465)](p=>[p.id,p])),f=new Map,x=(p,y)=>p?.[r(451)]?.[r(429)](N=>N[r(464)]===y)??null,h=new Map;for(const p of c[r(448)]||[]){const y=p[r(462)]??c[r(462)];for(const C of p.layers||[]){if(!C.visible)continue;const L=Math.round(y*(C[r(412)]??1));for(let G=0;a[r(431)](G,C[r(423)]);G++){const B=a.tShRM(x,C,G),k=B?.[r(447)]??C[r(447)],I=k+"|"+L,Z=f.get(I);if(Z?Z.count+=1:f.set(I,{colorId:k,fabricSizeMm:L,count:1}),C.doublePetal){const R=C[r(414)],K=B?.[r(470)]??R.innerColorId??k,F=B?.innerSizeReduction??R[r(425)]??2,Q=Math.max(3,Math[r(450)](L-F)),X=K+"|"+Q,v=f[r(446)](X);v?r(463)!==a[r(467)]?v.count+=1:_0x1c09a1[r(413)].push({fabricSizeMm:_0x474a8c,count:_0x3c01c8}):f.set(X,{colorId:K,fabricSizeMm:Q,count:1})}}}const N=p.placementMode??a[r(426)],b=N===""?er(p[r(416)]):p[r(471)]??c.baseDiameter,D=N+"|"+b,S=h[r(446)](D);S?a.jasKI===a[r(421)]?S.count+=1:_0x24fe22.set(_0x48b15f,{colorId:_0xda85f,fabricSizeMm:_0x4b1d10,count:1}):h.set(D,{mode:N,baseDiameterMm:b,count:1})}for(const p of c[r(420)]??[]){if(!p[r(422)])continue;const y=p.fabricSquareSize??c[r(462)],N=Math[r(450)](a.hTUHd(y,p[r(412)]??1)),b=p[r(447)],D=b+"|"+N,S=f[r(446)](D);if(S?S.count+=1:f.set(D,{colorId:b,fabricSizeMm:N,count:1}),p.doublePetal){const C=p.doublePetal,L=C[r(470)]??b,G=Math[r(436)](3,Math.round(N-(C.innerSizeReduction??2))),B=L+"|"+G,k=f.get(B);if(k)if(a.sEXpC(r(430),a[r(439)]))k[r(432)]+=1;else return a[r(457)](_0x3f3be1[r(434)],_0x544d18.mode)?_0x53a89c[r(434)]===""?-1:1:a.tIwLF(_0x124a9f[r(424)],_0x5d81a9[r(424)]);else a[r(437)]!==r(458)?f.set(B,{colorId:L,fabricSizeMm:G,count:1}):_0x4e6735[r(432)]+=1}}const _=new Map;for(const{colorId:p,fabricSizeMm:y,count:N}of f[r(469)]()){const b=_.get(p);b?b.entries.push({fabricSizeMm:y,count:N}):_[r(441)](p,{colorId:p,entries:[{fabricSizeMm:y,count:N}]})}const m=Array[r(449)](_.values())[r(465)](({colorId:p,entries:y})=>{const N=r,b=i.get(p),D=y[N(442)]((G,B)=>B[N(411)]-G.fabricSizeMm),S=D.reduce((G,B)=>G+B.count,0),C=a.WXMem(Math.round(D.reduce((G,B)=>{const k=N,I=B[k(411)]/10;return a.ILCUf(G,a.CkIeI(a[k(456)](B.count,I),I))},0)*100),100),L=a.WXMem(Math.round(Math[N(428)](C)*10),10);return{colorId:p,colorName:b?.[N(418)]??p,hex:b?.hex??a[N(453)],sizes:D,totalCount:S,totalAreaCm2:C,squareSideCm:L}}).sort((p,y)=>y.totalCount-p.totalCount),d=Array.from(h.values())[r(442)]((p,y)=>{const N=r;if(N(461)!==a.AXTqY)return a.sEXpC(p.mode,y.mode)?p.mode===a.EhkEm?-1:1:a.tIwLF(y.baseDiameterMm,p[N(424)]);_0x4ac046[N(441)](_0x195552,{colorId:_0x218960,fabricSizeMm:_0x45473d,count:1})});return{colors:m,bases:d}}(function(c,r){const a=rn,i=c();for(;;)try{if(-parseInt(a(427))/1*(-parseInt(a(445))/2)+-parseInt(a(419))/3*(parseInt(a(462))/4)+-parseInt(a(444))/5+-parseInt(a(431))/6*(-parseInt(a(435))/7)+parseInt(a(428))/8+-parseInt(a(423))/9+parseInt(a(415))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,476331);function L0(){const c=["sfPhDMu","mcaWidiWmcaYmda","AhjLzG","CxvLCNLtzwXLy3rVCKfSBa","yMfeq1m","otm1mZGWmgvQwNrcCq","vhbhz1e","Eg1SBNm","z2v0q29UDgv4Da","mtv4sgnyBgC","DMLLD0jVEa","zw5KC1DPDgG","qNPZAvC","mJe3mdqWnfjPuNDzzq","lNn2zW","w2rHDgeTDgvZDgLKxq","y29UC3rYDwn0B3i","mwDhqKr3AG","nde4otzrENzdDLu","C2vYAwfSAxPLvg9tDhjPBMC","CwHIy2y","mtK4otzYDLbTD0S","CMvTB3zLqxr0CMLIDxrL","yxbWzw5Kq2HPBgq","C2v0qxr0CMLIDxrL","mtCWofL5s3nqBG","CMv2B2TLt2jQzwn0vvjm","AgvPz2H0","BwfW","C3bSAxq","D2HPDgu","Dg9tDhjPBMC","zxnnwNu","Awzwt2C","mtG4ndG0mhDQz01Wta","mJuXndC4DMjKqKPZ","lNrZDw1HBwKTC2vSlwrHC2G","CMvTB3zL","C2vHCMnO","zMLSBa","wMHyCvC","w2rHDgeTz3jPzf0","vK16CuW","zM9YrwfJAa","zgf0ys10zxn0Awq","wuHKrMm","sLvNueq","vKL6tLm","lNrZDw1HBwKTz3jVDxaTzgfZAa","tfLtz0W","w2rHDgeTBwfYCxvLzv0","D2LKDgG","nJi0oda0yLf5v3rU","Eu5Zzhm","lNbUzW","CMvJDa","kcGOlISPkYKRksSK","y3jLyxrLrwXLBwvUDa","veXwwgG","Bwr3ENe","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC"];return L0=function(){return c},L0()}const Km=(function(){const c={dCHjL:function(a,i){return a===i},FlJYp:"yNsds"};let r=!0;return function(a,i){const f=r?function(){const x=rn;if(i)if(c.dCHjL(c.FlJYp,x(463))){const h=i.apply(a,arguments);return i=null,h}else _0x2125f7[x(436)](_0x106832)}:function(){};return r=!1,f}})(),ys=Km(void 0,function(){const c=rn,r={rJPmw:"(((.+)+)+)+$"};return ys[c(441)]()[c(448)](r.rJPmw).toString()[c(426)](ys)[c(448)](c(405))});function rn(c,r){c=c-403;const a=L0();let i=a[c];if(rn.dHDYyu===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};rn.TtQjtF=f,rn.FFcdsu={},rn.dHDYyu=!0}const x=a[0],h=c+x,_=rn.FFcdsu[h];if(_)i=_;else{const m=function(d){this.izAhxf=d,this.DztxYF=[1,0,0],this.AXFdKo=function(){return"newState"},this.RpCcFP="\\w+ *\\(\\) *{\\w+ *",this.mIvjYz=`['|"].+['|"];? *}`};m.prototype.eOlUlM=function(){const d=new RegExp(this.RpCcFP+this.mIvjYz),p=d.test(this.AXFdKo.toString())?--this.DztxYF[1]:--this.DztxYF[0];return this.ExfBYS(p)},m.prototype.ExfBYS=function(d){return~d?this.AripnO(this.izAhxf):d},m.prototype.AripnO=function(d){for(let p=0,y=this.DztxYF.length;p<y;p++)this.DztxYF.push(Math.round(Math.random())),y=this.DztxYF.length;return d(this.DztxYF[0])},new m(rn).eOlUlM(),i=rn.TtQjtF(i),rn.FFcdsu[h]=i}return i}ys();function Xm(c,r){const a=rn,i={AclUw:a(425),TLVXh:"style",Cbfzk:a(420),qhbcf:a(411),xPBis:"xmlns",hvKed:"http://www.w3.org/2000/svg",LYSgL:a(404),vZqVf:"width",CgPEf:"100%",VIzNS:a(437),ZhXqW:"[data-grid]",mdwzq:a(460),JUgPD:"image/svg+xml;charset=utf-8"},f=c.cloneNode(!0);f.querySelectorAll(i.AclUw).forEach(b=>b[a(432)]("data-testid")),f[a(432)](i[a(407)]);const x=c.getAttribute(i.Cbfzk);x&&f[a(434)](i.Cbfzk,x);const h=(x??i[a(430)])[a(439)](/[\s,]+/).map(Number),_=h[2]??200,m=h[3]??200;f[a(434)]("width",String(_)),f[a(434)]("height",String(m)),f.setAttribute(i.xPBis,i.hvKed);const d=document.createElementNS(i.hvKed,i[a(459)]);d.setAttribute(i.vZqVf,i.CgPEf),d[a(434)](i[a(457)],"100%"),d[a(434)](a(449),"white"),f.insertBefore(d,f.firstChild),f.querySelectorAll(i[a(450)])[a(453)](b=>b.remove()),f[a(413)](a(446)).forEach(b=>b[a(447)]()),f[a(413)](a(458))[a(453)](b=>b[a(447)]()),f[a(413)](i[a(408)]).forEach(b=>b.remove());const p=new XMLSerializer,y=`<?xml version="1.0" encoding="UTF-8"?>
`+p[a(429)](f),N=new Blob([y],{type:i[a(456)]});Vd(N,r[a(421)](a(424))?r:r+".svg")}function Jm(c,r,a=2){const i=rn,f={BzsiW:".png",VgBMO:"canvas",YHdFc:function(S,C){return S*C},ifVOg:"kWxsm",esMZu:i(452),TpGgQ:i(451),HZGve:i(460),baDCS:"viewBox",eRUpN:function(S,C){return S??C},upVoB:i(461),iNRri:function(S,C){return S(C)},uXJfa:i(417)},x=c.cloneNode(!0);x[i(413)](i(425))[i(453)](S=>S[i(432)](i(454))),x.removeAttribute("style"),x[i(413)](f[i(416)])[i(453)](S=>S.remove()),x[i(413)](".tsumami-sel-dash").forEach(S=>S[i(447)]()),x[i(413)](i(458))[i(453)](S=>S[i(447)]()),x.querySelectorAll(f[i(410)]).forEach(S=>S.remove());const h=c.getAttribute(f[i(414)]),_=f.eRUpN(h,"0 0 200 200").split(/[\s,]+/)[i(438)](Number),m=_[2]??200,d=_[3]??200;x.setAttribute("viewBox",f.eRUpN(h,"0 0 200 200")),x.setAttribute(f.upVoB,String(m)),x.setAttribute(i(437),f.iNRri(String,d)),x[i(434)](f.uXJfa,i(409));const p=new XMLSerializer,y=p[i(429)](x),N=new Blob([y],{type:"image/svg+xml;charset=utf-8"}),b=URL.createObjectURL(N),D=new Image;D.onload=()=>{const S=i,C=document[S(406)](f.VgBMO);C.width=f[S(455)](m,a),C.height=f.YHdFc(d,a);const L=C[S(418)]("2d");if(!L)if(f[S(443)]!=="wgIhw"){URL.revokeObjectURL(b);return}else{_0x29e821[S(436)](_0x91bfcc);return}L.fillStyle=S(440),L.fillRect(0,0,C.width,C[S(437)]),L.drawImage(D,0,0,C[S(461)],C.height),C.toBlob(G=>{const B=S;G&&Vd(G,r.endsWith(f[B(422)])?r:r+B(403)),URL[B(436)](b)},"image/png")},D.onerror=()=>{const S=i;f[S(442)]!=="LzQSb"?URL[S(436)](b):_0x140c52(_0x3a6a22,_0x4c6be5[S(421)](f.BzsiW)?_0x3b6f26:_0x2c5d6c+S(403))},D.src=b}function Vd(c,r){const a=rn,i=URL.createObjectURL(c),f=document.createElement("a");f[a(412)]=i,f.download=r,document.body[a(433)](f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(i)}function _0({active:c,disabled:r,onClick:a,children:i,...f}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...f,children:i})}const Vm="v0.1.0-dev";function Wm(c){const{view:r,onNavigate:a,project:i}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Vm})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(_0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(_0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(_0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(_0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Qm(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function ps({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function Pm(c){const[r,a]=$.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(ps,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(c,r){const a=qn,i=c();for(;;)try{if(parseInt(a(451))/1*(-parseInt(a(510))/2)+parseInt(a(458))/3*(parseInt(a(484))/4)+parseInt(a(482))/5*(parseInt(a(506))/6)+parseInt(a(508))/7+parseInt(a(463))/8*(-parseInt(a(462))/9)+-parseInt(a(454))/10*(-parseInt(a(517))/11)+parseInt(a(474))/12*(-parseInt(a(489))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,900428);const Fm=(function(){let c=!0;return function(r,a){const i=qn,f={iHXuf:i(465)},x=c?function(){const h=i;if(f.iHXuf===h(465)){if(a){const _=a.apply(r,arguments);return a=null,_}}else{if(!_0x4a7238.current)return;_0x3dff4e(()=>{},!0),_0xf3369d.current&&(_0x3b49c4[h(460)].style[h(470)]=""),_0x2794b5[h(460)]=null}}:function(){};return c=!1,x}})(),_s=Fm(void 0,function(){const c=qn,r={RgPiR:c(520)};return _s[c(483)]().search(r.RgPiR)[c(483)]().constructor(_s)[c(477)]("(((.+)+)+)+$")});_s();function qn(c,r){c=c-448;const a=G0();let i=a[c];if(qn.FkuNyl===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};qn.FCGKYI=f,qn.bHrBun={},qn.FkuNyl=!0}const x=a[0],h=c+x,_=qn.bHrBun[h];if(_)i=_;else{const m=function(d){this.cPzvvW=d,this.wInSPi=[1,0,0],this.elXfJJ=function(){return"newState"},this.tOVJln="\\w+ *\\(\\) *{\\w+ *",this.wJeNeF=`['|"].+['|"];? *}`};m.prototype.hBPnhm=function(){const d=new RegExp(this.tOVJln+this.wJeNeF),p=d.test(this.elXfJJ.toString())?--this.wInSPi[1]:--this.wInSPi[0];return this.YKDkvn(p)},m.prototype.YKDkvn=function(d){return~d?this.mpABCA(this.cPzvvW):d},m.prototype.mpABCA=function(d){for(let p=0,y=this.wInSPi.length;p<y;p++)this.wInSPi.push(Math.round(Math.random())),y=this.wInSPi.length;return d(this.wInSPi[0])},new m(qn).hBPnhm(),i=qn.FCGKYI(i),qn.bHrBun[h]=i}return i}function $m(c){const r=qn,a={lQrAq:function(R,K){return R===K},QIMie:function(R,K){return R-K},PUIMF:"layer",oeNZv:function(R,K){return R*K},LgHZt:function(R,K){return R===K},BJwYX:"flower",zSppV:function(R,K){return R===K},xSkqS:function(R,K,F,Q){return R(K,F,Q)},gKVGl:function(R,K){return R(K)},NNRdS:r(471),ekeeD:function(R,K){return R-K},LdnXW:function(R,K){return R/K},WDFCP:"/tsumami/",NAqqn:function(R,K){return R(K)},iyvgC:function(R,K){return R-K},oGOrp:function(R,K){return R-K},ZGvpb:function(R,K){return R-K},IkGyN:function(R,K){return R+K},CNwlu:function(R,K,F){return R(K,F)},QfvaV:function(R,K){return R/K},qdmrg:function(R,K){return R-K},FgBmc:function(R,K){return R+K},DbIKO:function(R,K){return R/K},ZLAzd:function(R,K){return R<K},UyrEJ:function(R,K){return R+K},PlMfp:r(512),NOrcV:function(R,K){return R-K},XQJKb:function(R,K){return R(K)},YjfiO:function(R,K){return R-K},rQbhy:function(R,K){return R+K},arndB:function(R,K,F){return R(K,F)},yPouy:function(R,K){return R(K)},urtVn:function(R,K){return R(K)}},{project:i,applyUpdate:f,stageRef:x,clientToSvgPoint:h}=c,_=a[r(480)]($.useRef,null),m=(R,K,F,Q)=>{const X=r;F[X(514)](),F.currentTarget?.[X(493)]?.(F.pointerId),x.current&&(x[X(460)][X(504)][X(470)]=X(473)+'/tsumami/scale_cursor_32.png?v=16") 16 16, ns-resize');const v=i.flowers.find(q=>q.id===K);if(!v)return;const M=a.lQrAq(R,"layer")&&Q?.[X(459)]?v[X(467)].filter(q=>q.id===Q.layerId)[X(478)](q=>({layerId:q.id,scale:q[X(481)]??1,radius:q[X(498)]??10})):v[X(467)][X(478)](q=>({layerId:q.id,scale:q.scale??1,radius:q.radius??10})),z=h(F),j=v[X(492)].x,w=v[X(492)].y,E=Math[X(456)](z.x-j,a[X(449)](z.y,w));_[X(460)]={mode:R,flowerId:K,layerId:Q?.[X(459)],startScales:M,startDiam:v.flowerDiameter||60,startDist:E}},d=R=>{const K=r;if(a[K(501)]!=="xlSNv"){const F=_.current;if(!F)return;const Q=i[K(500)][K(496)](j=>j.id===F[K(450)]);if(!Q)return;const X=h(R),v=Math[K(456)](a.ekeeD(X.x,Q[K(492)].x),X.y-Q.position.y),M=Math[K(472)](1,F.startDist??1),z=Me(a[K(448)](v,M),.3,3);f(j=>{const w=K,E={LwNFa:function(q,V){return q===V},JxpwL:a[w(485)]};if(w(468)!=="VNhrp"){const q=_0x58677d[w(500)].find(V=>V.id===_0x118d75[w(450)]);if(!q)return;if(E.LwNFa(_0x41318c[w(499)],E[w(488)])&&_0x33c332[w(459)]){const V=q[w(467)].find(O=>O.id===_0x2b8560.layerId);V&&(V[w(505)]=_0xfd2c28)}else q[w(515)]=_0x589dcc}else{const q=j.flowers.find(V=>V.id===F[w(450)]);if(!q)return;for(const V of F.startScales){const O=q[w(467)].find(A=>A.id===V.layerId);O&&(O.scale=Me(a.oeNZv(V[w(481)],z),.3,3),a.LgHZt(F[w(499)],a[w(494)])&&(O.radius=Me(V[w(498)]*z,2,120)))}a.zSppV(F[w(499)],w(466))&&(q[w(511)]=a.xSkqS(Me,F.startDiam*z,10,200))}},!1)}else{_0x213f79.preventDefault(),_0x212ed7.currentTarget?.setPointerCapture?.(_0x5c6f96[K(495)]),_0x5d0aa4[K(460)]&&(_0x405e6f.current.style[K(470)]='url("'+K(457)+'scale_cursor_32.png?v=16") 16 16, ns-resize');const F=_0x5caafd[K(500)][K(496)](j=>j.id===_0x180433);if(!F)return;const Q=_0x231c48===a.PUIMF&&_0x5f4e34?.layerId?F.layers.filter(j=>j.id===_0x447479.layerId).map(j=>({layerId:j.id,scale:j.scale??1,radius:j.radius??10})):F[K(467)].map(j=>({layerId:j.id,scale:j.scale??1,radius:j.radius??10})),X=a[K(480)](_0x376999,_0x369b15),v=F.position.x,M=F[K(492)].y,z=_0x42792f.hypot(X.x-v,a.QIMie(X.y,M));_0x19dc38.current={mode:_0x46b723,flowerId:_0x3d7086,layerId:_0x21b224?.layerId,startScales:Q,startDiam:F[K(511)]||60,startDist:z}}},p=()=>{const R=r;_.current&&(f(()=>{},!0),x.current&&(x.current[R(504)].cursor=""),_[R(460)]=null)},y=a.yPouy($.useRef,null),N=(R,K,F,Q)=>{const X=r;F.preventDefault(),F[X(502)]?.setPointerCapture?.(F[X(495)]),x[X(460)]&&(x[X(460)].style.cursor=X(473)+a[X(487)]+'rotate_cursor_active_32.png") 16 16, grabbing');const v=i.flowers.find(w=>w.id===K);if(!v)return;const M=a[X(497)](h,F),z=Math[X(452)](a[X(491)](M.y,v.position.y),a.oGOrp(M.x,v.position.x))*a.LdnXW(180,Math.PI),j=R===X(490)&&Q?.layerId?v.layers.find(w=>w.id===Q[X(459)])?.offsetAngle??0:v[X(515)]??0;y.current={mode:R,flowerId:K,layerId:Q?.[X(459)],startAngle:z,startRotation:j}},b=R=>{const K=r,F={pirtU:K(490)},Q=y[K(460)];if(!Q)return;const X=i[K(500)][K(496)](w=>w.id===Q[K(450)]);if(!X)return;const v=a.NAqqn(h,R);let z=Math.atan2(a.oGOrp(v.y,X[K(492)].y),a.ZGvpb(v.x,X[K(492)].x))*(180/Math.PI)-Q.startAngle;for(;z>180;)z-=360;for(;z<-180;)z+=360;const j=a.IkGyN(Q.startRotation,z);a.CNwlu(f,w=>{const E=K,q=w.flowers.find(V=>V.id===Q.flowerId);if(q)if(Q[E(499)]===F[E(479)]&&Q[E(459)]){const V=q.layers.find(O=>O.id===Q.layerId);V&&(V[E(505)]=j)}else q[E(515)]=j},!1)},D=()=>{const R=r;y[R(460)]&&(a.CNwlu(f,()=>{},!0),x[R(460)]&&(x[R(460)].style.cursor=""),y.current=null)},S=a.urtVn($.useRef,null),C=(R,K,F,Q)=>{const X=r;F.preventDefault(),F[X(502)]?.[X(493)]?.(F[X(495)]),x.current&&(x[X(460)].style.cursor=X(473)+X(457)+'width_cursor_32.png?v=16") 16 16, ew-resize');const v=i[X(500)].find(ae=>ae.id===K);if(!v)return;const M=Q?.layerId?v.layers.find(ae=>ae.id===Q.layerId):null;if(!M)return;const z=h(F),j=v.position.x,w=v[X(492)].y,E=Q?.petalIndex??0,q=360/Math[X(472)](1,M.petalCount),V=(a.IkGyN(M[X(505)],E*q)+v[X(515)])*a[X(453)](Math.PI,180),O=a.qdmrg(z.x,j),A=a.qdmrg(z.y,w),Y=-Math.sin(V),H=Math[X(469)](V),W=Math.abs(a.FgBmc(a.oeNZv(O,Y),A*H));S[X(460)]={mode:R,flowerId:K,layerId:Q?.[X(459)],petalAngle:V,startDist:Math[X(472)](1,W),startWidthScale:M.widthScale??1}},L=R=>{const K=r,F=S[K(460)];if(!F)return;const Q=i[K(500)].find(V=>V.id===F[K(450)]);if(!Q)return;const X=a.gKVGl(h,R),v=X.x-Q.position.x,M=a.qdmrg(X.y,Q.position.y),z=-Math[K(507)](F.petalAngle),j=Math.cos(F.petalAngle),w=Math[K(476)](a.FgBmc(v*z,a[K(516)](M,j))),E=Me(a.DbIKO(w,F[K(486)]),.3,3),q=a.xSkqS(Me,F.startWidthScale*E,.3,3);a[K(461)](f,V=>{const O=K,A=V.flowers[O(496)](H=>H.id===F.flowerId);if(!A)return;const Y=A[O(467)][O(496)](H=>H.id===F.layerId);Y&&(Y[O(475)]=q)},!1)},G=()=>{const R=r;S.current&&(f(()=>{},!0),x[R(460)]&&(x.current[R(504)].cursor=""),S.current=null)},B=$.useRef(null);return{scaleDragRef:_,beginScaleDrag:m,updateScaleDrag:d,endScaleDrag:p,rotationDragRef:y,beginRotationDrag:N,updateRotationDrag:b,endRotationDrag:D,widthScaleDragRef:S,beginWidthScaleDrag:C,updateWidthScaleDrag:L,endWidthScaleDrag:G,radiusDragRef:B,beginRadiusDrag:(R,K,F,Q)=>{const X=r;if(a.PUIMF,a[X(513)](X(512),a[X(455)])){F[X(514)](),F[X(502)]?.setPointerCapture?.(F.pointerId),x[X(460)]&&(x[X(460)].style.cursor=X(473)+X(457)+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const v=i.flowers.find(w=>w.id===K);if(!v)return;const M=Q?.[X(459)]?v[X(467)].find(w=>w.id===Q[X(459)]):null;if(!M)return;const z=h(F),j=Math[X(456)](z.x-v[X(492)].x,a.NOrcV(z.y,v.position.y));B[X(460)]={mode:R,flowerId:K,layerId:Q?.layerId,startDist:Math[X(472)](1,j),startRadius:M.radius??28}}else{const v=_0x4375ac[X(460)];if(!v)return;const M=_0xc158f2.flowers.find(q=>q.id===v.flowerId);if(!M)return;const z=a.NAqqn(_0x488e9a,_0x502027);let w=_0x4b7c3f[X(452)](z.y-M[X(492)].y,z.x-M.position.x)*a[X(464)](180,_0x503d48.PI)-v.startAngle;for(;w>180;)w-=360;for(;a[X(518)](w,-180);)w+=360;const E=a.UyrEJ(v[X(503)],w);_0x23ebf5(q=>{const V=X,O=q[V(500)][V(496)](A=>A.id===v.flowerId);if(O)if(v[V(499)]===SwpFSL.uWZQY&&v[V(459)]){const A=O.layers.find(Y=>Y.id===v[V(459)]);A&&(A.offsetAngle=E)}else O[V(515)]=E},!1)}},updateRadiusDrag:R=>{const K=r,F=B.current;if(!F)return;const Q=i.flowers[K(496)](j=>j.id===F[K(450)]);if(!Q)return;const X=a[K(509)](h,R),v=Math[K(456)](X.x-Q.position.x,X.y-Q.position.y),M=a.YjfiO(v,F.startDist),z=Me(a.rQbhy(F[K(519)],M),5,100);a.arndB(f,j=>{const w=K,E=j[w(500)].find(V=>V.id===F.flowerId);if(!E)return;const q=E[w(467)].find(V=>V.id===F[w(459)]);q&&(q[w(498)]=z)},!1)},endRadiusDrag:()=>{const R=r;B.current&&(f(()=>{},!0),x.current&&(x.current[R(504)].cursor=""),B[R(460)]=null)}}}function G0(){const c=["C3rHCNreAxn0","v0rgq1a","sNHWD0W","mtqZBgnlvgz0","Bgf5zxi","AxL2z0m","Cg9ZAxrPB24","C2v0ug9PBNrLCKnHChr1CMu","qKP3wvG","Cg9PBNrLCKLK","zMLUza","tKfXCw4","CMfKAxvZ","Bw9Kzq","zMXVD2vYCW","tK5szfm","y3vYCMvUDfrHCMDLDa","C3rHCNrsB3rHDgLVBG","C3r5Bgu","B2zMC2v0qw5NBgu","ode1mZy1ofHRuLfkDq","C2LU","nJmZodyWnxnUz0XmsG","wffks2i","nNzTrKzWEG","zMXVD2vYrgLHBwv0zxi","uurgsMK","BffYqxe","ChjLDMvUDerLzMf1Bhq","CM90yxrPB24","B2vowNy","odG2otnQEfbru0O","wKXbEMq","C3rHCNrsywrPDxm","kcGOlISPkYKRksSK","tgrUwfC","uuLnAwu","zMXVD2vYswq","ndGZmte3y2L4CNnQ","yxrHBJi","uwz2yvy","mJe4mgLLzLDhqq","ugXnzNa","AhLWB3q","l3rZDw1HBwKV","mZq1odiYCxv6AK9M","Bgf5zxjjza","y3vYCMvUDa","q053Bhu","nta0otCYouftrMvluq","mtzpDhnMA2G","rgjjs08","ENz6rNy","zMXVD2vY","Bgf5zxjZ","vK5OCNa","y29Z","y3vYC29Y","qNjwBha","Bwf4","DxjSkci","mtq4mdu0oeDKr2rTsa","D2LKDgHty2fSzq","ywjZ","C2vHCMnO","BwfW","CgLYDfu","z0Twr2W","C2nHBgu","nxzfzK5mwq","Dg9tDhjPBMC","mJHXwhDrseO","ufvjtuy"];return G0=function(){return c},G0()}(function(c,r){const a=Tt,i=c();for(;;)try{if(-parseInt(a(227))/1*(parseInt(a(247))/2)+parseInt(a(216))/3*(parseInt(a(287))/4)+-parseInt(a(273))/5*(-parseInt(a(277))/6)+parseInt(a(220))/7*(-parseInt(a(278))/8)+parseInt(a(255))/9*(-parseInt(a(288))/10)+parseInt(a(251))/11*(-parseInt(a(281))/12)+parseInt(a(219))/13===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,548908);const e2=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Tt;if(a){const x=a[f(226)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Ss=e2(void 0,function(){const c=Tt;return Ss[c(252)]().search(c(261))[c(252)]().constructor(Ss).search(c(261))});Ss();function li(c,r,a,i,f){const x=Tt,h={OOSSJ:function(I,Z){return I-Z},kiNmt:function(I,Z){return I*Z},qERjR:function(I,Z){return I<=Z},yhOEW:"center",UxoNH:function(I,Z){return I===Z},XzCqh:x(243),mETJO:function(I,Z){return I*Z},RJfOz:function(I,Z){return I*Z},MCatK:function(I,Z){return I>Z},OfPRN:"radius",AFaaI:function(I,Z){return I+Z},drHjJ:function(I,Z){return I*Z},sdgYq:function(I,Z){return I===Z},uatLT:function(I,Z){return I*Z},WgNRy:function(I,Z){return I*Z},mAYRT:function(I,Z){return I*Z},ABttX:function(I,Z){return I/Z},hMyJp:function(I,Z){return I<Z},uHzuT:function(I,Z){return I+Z},OtRBc:function(I,Z){return I*Z},HeYGo:function(I,Z){return I-Z},LOCWJ:function(I,Z){return I-Z},uGykn:function(I,Z){return I*Z},QfzSd:function(I,Z){return I/Z},WFVTS:function(I,Z){return I>Z},PJBHb:function(I,Z){return I>=Z},fSnXH:"width",KXiNy:"scale",jOpYI:function(I,Z){return I===Z}},{length:_}=Ht(a[x(230)]??i[x(230)]),m=h[x(291)](c,a[x(262)].x),d=r-a.position.y,p=Math[x(253)](m,d);let y=1/0;for(const I of a[x(290)]){if(!I[x(245)])continue;const Z=I[x(254)]??1,R=h.kiNmt(_,Z),K=.28,F=Math[x(283)](0,h.OOSSJ(I[x(239)],R*K));F<y&&(y=F)}isFinite(y)||(y=0);const N=Math.max(h[x(221)](y,.9),8);if(h.qERjR(p,N))return{zone:h.yhOEW};if(h.UxoNH(f[x(259)],h[x(229)])){const I=a[x(290)][x(231)](Z=>Z.id===f[x(214)]&&Z.visible);if(I){const Z=I.scale??1,R=h[x(280)](_,Z),K=.28,F=Math[x(283)](0,I.radius-h.RJfOz(R,K));if(h[x(238)](F,0)&&Math[x(248)](h.OOSSJ(p,F))<=6)return{zone:h.OfPRN,layerId:I.id}}}const b=ba(-(a[x(217)]??0)),D=m*Math.cos(b)-h.RJfOz(d,Math.sin(b)),S=h.AFaaI(h[x(218)](m,Math.sin(b)),d*Math[x(249)](b)),C=h.sdgYq(f.kind,x(243))?a[x(290)].filter(I=>I.id===f.layerId&&I.visible):a[x(290)].filter(I=>I.visible);let L=x(285),G,B,k=1/0;for(const I of C){const Z=I[x(254)]??1,R=h[x(284)](_,Z),K=I[x(223)]??1,F=h[x(215)](h.mAYRT(_/2,K),Z),Q=.28,X=Math.max(0,h[x(291)](I[x(239)],h[x(284)](R,Q))),v=h[x(236)](360,Math.max(1,I[x(258)]));for(let M=0;h[x(244)](M,I[x(258)]);M++){const z=h.uHzuT(I.offsetAngle,h.drHjJ(M,v)),j=ba(z),w=h.drHjJ(Math.cos(j),X),E=h[x(264)](Math[x(233)](j),X),q=D-w,V=h.HeYGo(S,E),O=Math[x(249)](-j),A=Math[x(233)](-j),Y=h.LOCWJ(q*O,h[x(215)](V,A)),H=h[x(265)](q,A)+V*O,W=h.QfzSd(Y,R),ae=h[x(236)](H,F);if(W<-.05||W>1.08||h.WFVTS(Math[x(248)](ae),.75))continue;const oe=Math.hypot(W-.5,ae);h[x(260)](oe,k)||(k=oe,G=I.id,B=M,Math[x(248)](ae)>.45?L=h.fSnXH:W>.75?L=x(234):L=h[x(267)])}}if(h[x(224)](L,x(285))){let I=12;for(const K of a[x(290)]){if(!K.visible)continue;const F=K[x(254)]??1,Q=_*F,X=.28,v=Math.max(0,K[x(239)]-h[x(284)](Q,X));I=Math.max(I,v+Q)}if(Math.abs(h[x(213)](p,I))<=8)return{zone:x(254)}}return{zone:L,layerId:G,petalIndex:B}}function C0(c,r,a){const i=Tt,f={inKDY:"none",VRpac:function(x,h){return x===h},JnGux:"scale",dNOIB:"rotate",dAIUl:function(x,h){return x*h},yIRWn:function(x,h){return x===h},skNAp:"layer",QxuRS:i(263)};if(c===i(237))return i(237);if(c==="none")return f.inKDY;switch(r){case i(241):{if(f[i(257)](c,f.JnGux))return f[i(266)];if(f[i(257)](c,f.dNOIB)&&a?.[i(240)]&&a.flower&&a[i(242)]!=null){let x,h=-1/0;for(const _ of a.flower[i(290)]){if(!_.visible)continue;const m=_.scale??1,d=a.length*m,p=.28,y=Math.max(0,_[i(239)]-f[i(272)](d,p)),N=y+d;N>h&&(h=N,x=_.id)}return f[i(256)](a.hitLayerId,x)?"rotate":"scale"}return f.JnGux}case f[i(268)]:return c;case"petal":case f.QxuRS:return"scale";default:return f[i(266)]}}function t2(c,r,a,i){const f=Tt,x={abTVf:function(B,k){return B*k},ZwYDE:function(B,k){return B-k},rRWBU:function(B,k){return B*k},bIltX:function(B,k){return B+k},kiGxL:function(B,k){return B<k},MonPh:function(B,k){return B>k},mQMVv:f(285),yhIYn:f(234),lToYl:f(254)},h=a.fabricSquareSize??i.fabricSquareSize,{length:_,width:m}=Ht(h),d=a.scale??1,p=_*d,y=x.abTVf(m*(a.widthScale??1),d),N=c-a[f(262)].x,b=x.ZwYDE(r,a.position.y),D=ba(-(a[f(217)]??0)),S=x[f(269)](N,Math.cos(D))-x[f(270)](b,Math[f(233)](D)),C=x.bIltX(x.abTVf(N,Math[f(233)](D)),x[f(270)](b,Math.cos(D))),L=S/p,G=C/y;return x.kiGxL(L,-.05)||x[f(222)](L,1.08)?"none":Math[f(248)](G)>.75?x[f(279)]:Math.abs(G)>.45?"width":L>.75?x.yhIYn:L>.3?x.lToYl:f(282)}function $i(c,r){const a=Tt,i={waKNx:a(285)};switch(c){case a(234):return a(289)+r+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return'url("'+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return'url("'+r+a(228);case"move":return ir(r);case i.waKNx:default:return"grab"}}function Yd(c,r){const a=Tt,i={flfMd:"center",EgxPm:"pointer",HNSIr:"scale",dYhsr:a(239),gUtMW:function(f,x){return f(x)},kjABm:a(285),VMmCm:a(225)};switch(c){case i.flfMd:return i[a(232)];case"rotate":return a(289)+r+'rotate_cursor_32.png") 16 16, crosshair';case i[a(276)]:return a(289)+r+a(275);case"width":return'url("'+r+a(228);case i[a(246)]:return a(289)+r+a(271);case"move":return i[a(274)](ir,r);case i.kjABm:default:return i[a(286)]}}function q0(){const c=["t3rsqMm","DuD5A24","sM5hDxG","s1HPtNK","C2Toqxa","ywjuvMy","CLjxqLu","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","zefjvwW","ntaWotKXnxnnz05stW","z1v0tvC","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","se5tsxi","nLfvswrVAq","oeXyA2f1tG","BvfnvNy","BuvusK8","mtiXmJb5reDPExm","Bw92zq","Bwf4","Dwf0tfq","BM9Uzq","vK1Tq20","mte1nZjWrKDoyLy","mtaWA2rYvxzM","DxjSkci","Bgf5zxjZ","t09tu0O","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","te9dv0O","Bgf5zxjjza","v2DouNK","otKZq3PmBfnt","CM90yxrPB24","zhjiAKO","mtKZmZu0mLvSze5cvW","nJyWmZK2mvnWENDSsG","A2LoBxq","tw9UugG","D2LKDgHty2fSzq","AK9WwuK","z3jHyG","yxbWBhK","mwHktLzIEa","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","whPdCwG","zMfICMLJu3f1yxjLu2L6zq","zMLUza","rwD4ug0","C2LU","CM90yxrL","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","quj0DfG","y2vUDgvY","tunHDeS","CMfKAxvZ","AgL0tgf5zxjjza","zMXVD2vY","BgvUz3rO","Bgf5zxi","Ae15sNa","DMLZAwjSzq","zfLOC3i","mZG4ntu4sfrqsun5","ywjZ","y29Z","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","mJqYBxrwv0n2","Dg9tDhjPBMC","AhLWB3q","C2nHBgu","mZu5ntiZyurqALHO","EuLsv24","vLjWywm","Cgv0ywXdB3vUDa","A2LUza","uePcsgi","kcGOlISPkYKRksSK","Cg9ZAxrPB24","Cgv0ywXZ"];return q0=function(){return c},q0()}function ir(c){return Tt(289)+c+'move_object_cursor_32.png") 16 16, move'}function Pn(c){return'url("'+c+'move_object_active_32.png") 16 16, grabbing'}function Tt(c,r){c=c-212;const a=q0();let i=a[c];if(Tt.cwgPvf===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Tt.PHihnI=f,Tt.KTRdOT={},Tt.cwgPvf=!0}const x=a[0],h=c+x,_=Tt.KTRdOT[h];if(_)i=_;else{const m=function(d){this.jmCqVr=d,this.LvQAIJ=[1,0,0],this.JOXXFm=function(){return"newState"},this.HnPHHK="\\w+ *\\(\\) *{\\w+ *",this.gdLydw=`['|"].+['|"];? *}`};m.prototype.xStQgp=function(){const d=new RegExp(this.HnPHHK+this.gdLydw),p=d.test(this.JOXXFm.toString())?--this.LvQAIJ[1]:--this.LvQAIJ[0];return this.vuEenf(p)},m.prototype.vuEenf=function(d){return~d?this.OoCngu(this.jmCqVr):d},m.prototype.OoCngu=function(d){for(let p=0,y=this.LvQAIJ.length;p<y;p++)this.LvQAIJ.push(Math.round(Math.random())),y=this.LvQAIJ.length;return d(this.LvQAIJ[0])},new m(Tt).xStQgp(),i=Tt.PHihnI(i),Tt.KTRdOT[h]=i}return i}function n2(c){const r=Tt;return'url("'+c+r(212)}function l2(c){const r=Tt;return'url("'+c+r(250)}(function(c,r){const a=Un,i=c();for(;;)try{if(parseInt(a(320))/1+-parseInt(a(367))/2+parseInt(a(368))/3+parseInt(a(318))/4+parseInt(a(337))/5+parseInt(a(389))/6+-parseInt(a(323))/7===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,108201);const a2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Cs=a2(void 0,function(){const c=Un,r={QvGPd:c(356)};return Cs.toString().search(c(356))[c(386)]().constructor(Cs).search(r[c(353)])});function Un(c,r){c=c-314;const a=B0();let i=a[c];if(Un.nLYvkH===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Un.ewFgEX=f,Un.Ukoggm={},Un.nLYvkH=!0}const x=a[0],h=c+x,_=Un.Ukoggm[h];if(_)i=_;else{const m=function(d){this.IoQtFi=d,this.zzcHHJ=[1,0,0],this.sQsOmO=function(){return"newState"},this.YXaomj="\\w+ *\\(\\) *{\\w+ *",this.VyrUog=`['|"].+['|"];? *}`};m.prototype.uxPWfe=function(){const d=new RegExp(this.YXaomj+this.VyrUog),p=d.test(this.sQsOmO.toString())?--this.zzcHHJ[1]:--this.zzcHHJ[0];return this.FYpdjx(p)},m.prototype.FYpdjx=function(d){return~d?this.UYZqog(this.IoQtFi):d},m.prototype.UYZqog=function(d){for(let p=0,y=this.zzcHHJ.length;p<y;p++)this.zzcHHJ.push(Math.round(Math.random())),y=this.zzcHHJ.length;return d(this.zzcHHJ[0])},new m(Un).uxPWfe(),i=Un.ewFgEX(i),Un.Ukoggm[h]=i}return i}Cs();function B0(){const c=["CMfKAxvZrhjHz1jLzG","zw5Ku2nHBgveCMfN","Cg9ZAxrPB24","zeLSt2K","qM1AD2C","C3rHCNrAB29T","BgvUz3rO","zw5KuMfKAxvZrhjHzW","Bgf5zxjjza","z0zWvvy","zxLIC3e","Dg9tDhjPBMC","ExDWCvO","q0rTy00","ntiXotiYEMHiq0Pu","sK5Mr0C","AgPIDfq","zMXVD2vYswrZ","CNjxCKO","C3rHCNrqB3m","DxbKyxrLuM90yxrPB25eCMfN","zMXVD2vY","q3bUt0u","BxvSDgLtDgfYDfbVC2L0Aw9UCW","mZKWmdbzww1Izva","y2XPzw50wa","mta0ndCYs1nltKDW","tvvAsvC","yMvNAw5xAwr0AfnJywXLrhjHzW","mtu4nJm4ouPyrfvvBW","A2LUza","tKHevfC","rvfxuLi","zvb5EhC","C2HPzNrlzxK","yLrwvgy","s3jVtfq","zxz6BLC","AhLWB3q","tKTIDee","DxbKyxrLv2LKDgHty2fSzurYywC","zMXVD2vYCW","AhnYzeS","nZK5oti1zuDNBxjw","C2v0ug9PBNrLCKnHChr1CMu","weDhExq","yMvNAw5sywrPDxneCMfN","BwfW","CgfUma","BvDwzgy","y29UC3rYDwn0B3i","q25Ltuu","C3rHCNrdBgLLBNq","C3rHCNq","zNzACxu","Cg9PBNrLCKLK","tg9RwKe","y2XPy2TqzxrHBa","AxntAgLMDfbYzxnZzwq","uxzhugq","CMr4sgO","B0XRqKK","kcGOlISPkYKRksSK","Cgv0ywW","ChvZAa","Bw92zwq","CvfrvfO","Aw5KzxG","D2LKDgHty2fSzurYywDszwy","Bw1QEhi","ywjZ","zMXVD2vYswq","zMLUza","mZy4nJmWAKrSCxPf","ndCZodq3Eg1SEwfc","DxbKyxrLuMfKAxvZrhjHzW","s05VwMm","y3vYCMvUDa","y2XPzw50wq","C3rHCNrtDMC","yMvNAw5ty2fSzurYywC"];return B0=function(){return c},B0()}const S0=500*un;function i2(c){const r=Un,a={MUZIW:function(v,M){return v(M)},EQWRR:function(v,M){return v(M)},bTVTf:function(v,M){return v-M},LokZA:"nBGDO",pmtaw:function(v,M){return v(M)},mWVdf:function(v,M){return v-M},gKZEP:function(v,M){return v<M},YVbpP:"project",ZuSLw:function(v,M){return v(M)},HaWok:function(v,M){return v-M},djqdN:function(v,M){return v-M},BJXjB:function(v,M){return v+M},CpnOE:function(v,M){return v>=M},RgIsN:"JzpEV",isGAf:function(v,M){return v<=M},eybsq:function(v,M){return v+M},CneME:function(v,M){return v>M},fvZqu:function(v,M){return v!==M},qQQTZ:"CRqOj",uunvl:"leaf",KroLT:function(v,M){return v(M)},gFpUV:function(v,M){return v===M},GJCfP:r(379),Tsapi:"(((.+)+)+)+$",ywpqZ:r(335),vHazU:function(v,M,z){return v(M,z)},JFFMD:function(v,M){return v>M},rrWrJ:r(325),HfVlr:function(v,M,z,j){return v(M,z,j)},mmjxr:function(v,M,z,j){return v(M,z,j)},nXhZA:function(v,M){return v+M},dIlOi:function(v,M){return v!==M},mXWdA:"hsrdK",ePyxw:function(v,M,z,j){return v(M,z,j)},CDmcM:function(v,M){return v/M},BkOwd:function(v,M){return v+M},xorCr:function(v,M,z,j,w){return v(M,z,j,w)},NKbtA:function(v,M,z,j,w){return v(M,z,j,w)},rdxHj:r(357),XGGyt:"layer",evznW:function(v,M){return v!==M},VaRbu:function(v,M){return v!==M},fRNXL:"YYGuO",QszYJ:function(v,M,z){return v(M,z)},KNoZc:function(v,M){return v(M)}},{project:i,selection:f,setSelection:x,applyUpdate:h,dragRef:_,zoom:m,pan:d,setPan:p,stageRef:y,clientToSvgPoint:N,togglePetalSelection:b}=c,D=a[r(370)]($m,{project:i,applyUpdate:h,stageRef:y,clientToSvgPoint:N}),S=a[r(321)]($.useRef,null),C=v=>{const M=r;v.preventDefault(),v.currentTarget?.[M(338)]?.(v.pointerId),S[M(371)]={start:{x:v.clientX,y:v.clientY},pan0:{...d}}},L=v=>{const M=r;if(!S[M(371)])return;const z=v.clientX-S[M(371)][M(347)].x,j=v.clientY-S.current.start.y;a[M(321)](p,{x:S[M(371)][M(342)].x+z,y:S.current[M(342)].y+j})},G=()=>{S.current=null},B=$.useRef(null),[k,I]=$.useState(null);return{beginPan:C,updatePan:L,endPan:G,marqueeRef:B,marqueeRect:k,beginMarquee:v=>{const M=r;v.preventDefault(),v.currentTarget?.setPointerCapture?.(v.pointerId);const z=N(v);B[M(371)]={startSvg:z,currentSvg:z},a.EQWRR(I,null)},updateMarquee:v=>{const M=r;if(!B.current)return;const z=a[M(321)](N,v);B.current.currentSvg=z;const j=B.current.startSvg,w=Math.min(j.x,z.x),E=Math.min(j.y,z.y),q=Math.abs(a.bTVTf(z.x,j.x)),V=Math.abs(a[M(329)](z.y,j.y));I({x:w,y:E,w:q,h:V})},endMarquee:()=>{const v=r;if(v(355)!=="rjIVQ"){const M=B[v(371)];if(B.current=null,!M)if(a[v(350)]!=="nBGDO")a[v(326)](_0x309a73,{kind:"flowers",flowerIds:_0x1ed121});else{a.pmtaw(I,null);return}const z=M[v(373)],j=M.currentSvg,w=Math[v(332)](j.x-z.x,a[v(343)](j.y,z.y));if(a.gKZEP(w,3)){x({kind:a.YVbpP}),a.ZuSLw(I,null);return}const E=Math.min(z.x,j.x),q=Math.min(z.y,j.y),V=Math.abs(a.HaWok(j.x,z.x)),O=Math[v(364)](a.djqdN(j.y,z.y)),A=[];for(const H of i.flowers)H[v(377)].x>=E&&H[v(377)].x<=a.BJXjB(E,V)&&a[v(316)](H.position.y,q)&&H.position.y<=a.BJXjB(q,O)&&A.push(H.id);const Y=[];for(const H of i.leaves??[])a.RgIsN!=="qvjeo"?a[v(316)](H[v(377)].x,E)&&a.isGAf(H.position.x,a[v(385)](E,V))&&H.position.y>=q&&H.position.y<=q+O&&Y[v(358)](H.id):_0x2fad07.current=null;if(a[v(345)](A.length,0))A[v(381)]===1?x({kind:v(315),flowerId:A[0]}):x({kind:"flowers",flowerIds:A});else if(a.CneME(Y[v(381)],0))if(Y[v(381)]===1)if(a[v(348)](a.qQQTZ,a[v(360)])){const H=_0x3ee572.flowers.find(W=>W.id===_0xb6a751);return{id:_0xcbeeb6,x:H?.position.x??0,y:H?.position.y??0}}else x({kind:a.uunvl,leafId:Y[0]});else x({kind:"leaves",leafIds:Y});else a[v(330)](x,{kind:a.YVbpP});a.KroLT(I,null)}else{const M=_0x37dd5a.flowers.find(z=>z.id===_0x538bfd);return{id:_0x29e2b0,x:M?.position.x??0,y:M?.position.y??0}}},beginFlowerDrag:(v,M,z)=>{const j=r;a.Tsapi,M.preventDefault(),M.currentTarget?.setPointerCapture?.(M[j(349)]);const w=i[j(335)][j(366)](q=>q.id===v);if(!w)return;let E=null;if(f[j(324)]===a[j(387)]&&f.flowerIds.includes(v))E=f[j(392)].map(q=>{const V=j,O=i.flowers[V(366)](A=>A.id===q);return{id:q,x:O?.[V(377)].x??0,y:O?.position.y??0}});else{const q=a.vHazU(_m,i,v);a.JFFMD(q.length,1)&&(E=q[j(341)](V=>{const O=j;if(a[O(384)](a.GJCfP,O(379))){const A=i[O(335)][O(366)](Y=>Y.id===V);return{id:V,x:A?.position.x??0,y:A?.[O(377)].y??0}}else return _0x3b4048[O(386)]().search("(((.+)+)+)+$").toString()[O(344)](_0x1bda40).search(jkMKqb.gGpqt)}))}_[j(371)]={flowerId:v,startClient:{x:M[j(319)],y:M.clientY},startPos:{...w[j(377)]},moved:!1,clickPetal:z??null,isShiftPressed:M[j(328)]||!1,multiStartPositions:E,startZoom:m}},updateFlowerDrag:v=>{const M=r,z=_.current;if(!z)return;const j=(v.clientX-z[M(346)].x)/z.startZoom,w=a[M(388)](v[M(372)]-z[M(346)].y,z[M(380)]),E=v.clientX-z.startClient.x,q=a.mWVdf(v.clientY,z.startClient.y);a.BkOwd(Math.abs(E),Math.abs(q))>4&&(z[M(359)]=!0),h(V=>{const O=M;if(a.uunvl,a[O(384)](a[O(393)],"vZMSo"))_0x18e618({kind:vZnJRC.tCZMo,leafId:_0x4122fc[0]});else if(z.multiStartPositions)for(const A of z[O(317)]){const Y=V[O(335)].find(H=>H.id===A.id);Y&&(Y[O(377)].x=a.HfVlr(Me,A.x+j,0,S0),Y[O(377)].y=a[O(363)](Me,a.nXhZA(A.y,w),0,S0))}else if(a[O(378)](a.mXWdA,O(336))){vZnJRC[O(391)](_0x1fd655,null);return}else{const A=V.flowers[O(366)](Y=>Y.id===z[O(365)]);if(!A)return;A.position.x=a[O(327)](Me,a.BJXjB(z.startPos.x,j),0,S0),A.position.y=Me(z[O(394)].y+w,0,S0)}},!1)},endFlowerDrag:()=>{const v=r,M={JNfGG:function(j,w,E,q,V){return a.xorCr(j,w,E,q,V)}},z=_[v(371)];z&&(!z[v(359)]&&z.clickPetal?z.isShiftPressed?a[v(333)](b,z[v(365)],z[v(351)].layerId,z.clickPetal.index,!0):x({kind:a.rdxHj,flowerId:z[v(365)],layerId:z.clickPetal.layerId,index:z.clickPetal[v(361)]}):z.moved&&((f.kind===a.YVbpP||f[v(324)]===v(315)&&f.flowerId!==z[v(365)]||f.kind===a[v(339)]&&a[v(331)](f.flowerId,z.flowerId)||a.gFpUV(f.kind,a[v(354)])&&a.VaRbu(f[v(365)],z.flowerId))&&(a.fRNXL!=="YYGuO"?_0x4687e5[v(352)]?M[v(390)](_0x5cd74e,_0x1e02a0.flowerId,_0x35b71a.clickPetal[v(383)],_0x53acff[v(351)].index,!0):_0x2f22ff({kind:"petal",flowerId:_0xd5b39e.flowerId,layerId:_0x38a170[v(351)].layerId,index:_0x21effd[v(351)][v(361)]}):x({kind:v(315),flowerId:z.flowerId})),a.QszYJ(h,()=>{},!0)),_.current=null)},scaleDragRef:D.scaleDragRef,beginScaleDrag:D[r(374)],updateScaleDrag:D.updateScaleDrag,endScaleDrag:D[r(376)],rotationDragRef:D.rotationDragRef,beginRotationDrag:D.beginRotationDrag,updateRotationDrag:D[r(314)],endRotationDrag:D.endRotationDrag,widthScaleDragRef:D[r(362)],beginWidthScaleDrag:D[r(322)],updateWidthScaleDrag:D[r(334)],endWidthScaleDrag:D.endWidthScaleDrag,radiusDragRef:D[r(375)],beginRadiusDrag:D[r(340)],updateRadiusDrag:D[r(369)],endRadiusDrag:D[r(382)]}}function r2({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function fa(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),f=Math.max(0,i),x=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",h="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:_=>{c.onDoubleClick&&(_.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${x}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${h} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:_=>{_.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(r2,{className:"h-4 w-4"})}):s.jsx("div",{className:`${h} shrink-0`,"aria-hidden":!0})]})]})}function c2(c){const{project:r,selection:a,setSelection:i,isExpanded:f,toggleExpanded:x,scheduleFlowerRowClick:h,handleFlowerRowDoubleClick:_,addFlower:m,deleteSelected:d,addOuterLayer:p,deleteOuterLayer:y,deleteFlowerById:N,deleteLayerById:b,treeScrollRef:D,setExpandedFlowers:S}=c,C=(R,K)=>{const F=a.kind==="flower"&&a.flowerId===R.id,Q=a.kind==="flowers"&&a.flowerIds.includes(R.id),X=F||Q,v="",M=f(R.id),z=R.layers&&R.layers.length>0,j=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),p(R.id)},"aria-label":"Add outer layer",children:"+"}),z&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),y(R.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":R.id,"data-testid":`tree-flower-${R.id}`,style:{paddingLeft:K},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${M?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:M?"Collapse layers":"Expand layers",onClick:w=>{w.stopPropagation(),x(R.id)},"aria-label":M?"collapse":"expand","data-tree-toggle":!0,children:M?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(fa,{label:R.name,marker:v,selected:X,showTrash:F,onTrash:()=>N(R.id),rightActions:j,onClick:()=>h(R.id),onDoubleClick:()=>_(R.id),level:0,leftOffset:-18})})]}),M&&R.layers.slice().sort((w,E)=>E.order-w.order).map(w=>{const E=(a.kind==="layer"||a.kind==="petal")&&a.layerId===w.id;return s.jsx(fa,{label:`${w.order}. ${w.name}`,marker:"",selected:E,showTrash:E,onTrash:()=>b(R.id,w.id),onClick:()=>{i({kind:"layer",flowerId:R.id,layerId:w.id}),S(q=>({...q,[R.id]:!0}))},level:0,leftOffset:10,muted:!w.visible},w.id)})]},R.id)},L=c.groups,G=new Set(L.flatMap(R=>R.flowerIds)),B=r.flowers.filter(R=>!G.has(R.id)),k=c.leafGroups,I=new Set(k.flatMap(R=>R.leafIds)),Z=c.leaves.filter(R=>!I.has(R.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:D,"data-testid":"layer-tree",children:[s.jsx(fa,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),L.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...L].reverse().map(R=>{const K=a.kind==="group"&&a.groupId===R.id,F="",Q=c.isGroupExpanded(R.id);return s.jsxs("div",{"data-group-id":R.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Q?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:Q?"":"",onClick:X=>{X.stopPropagation(),c.toggleGroupExpanded(R.id)},"aria-label":Q?"collapse group":"expand group",children:Q?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(fa,{label:R.name,marker:F,selected:K,onClick:()=>c.onSelectGroup(R.id),level:0,leftOffset:-18})})]}),Q&&R.flowerIds.map(X=>{const v=r.flowers.find(M=>M.id===X);return v?C(v,12):null})]},R.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:m,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...B].reverse().map(R=>C(R,0)),B.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[k.map(R=>{const K=a.kind==="leafGroup"&&a.leafGroupId===R.id;return s.jsxs("div",{children:[s.jsx(fa,{label:` ${R.name}`,selected:K,onClick:()=>c.onSelectLeafGroup(R.id),level:0,leftOffset:0}),R.leafIds.map(F=>{const Q=c.leaves.find(v=>v.id===F);if(!Q)return null;const X=a.kind==="leaf"&&a.leafId===Q.id;return s.jsx(fa,{label:Q.name,selected:X,showTrash:X,onTrash:()=>c.onDeleteLeaf(Q.id),onClick:()=>c.onSelectLeaf(Q.id),level:0,leftOffset:12,muted:!Q.visible},Q.id)})]},R.id)}),[...Z].reverse().map(R=>{const K=a.kind==="leaf"&&a.leafId===R.id;return s.jsx(fa,{label:R.name,selected:K,showTrash:K,onTrash:()=>c.onDeleteLeaf(R.id),onClick:()=>c.onSelectLeaf(R.id),level:0,leftOffset:0,muted:!R.visible},R.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const re=Bn;(function(c,r){const a=Bn,i=c();for(;;)try{if(parseInt(a(225))/1+parseInt(a(237))/2*(-parseInt(a(224))/3)+-parseInt(a(219))/4+parseInt(a(251))/5+parseInt(a(177))/6*(parseInt(a(267))/7)+parseInt(a(283))/8+parseInt(a(218))/9*(-parseInt(a(254))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,622712);const u2=(function(){const c=Bn,r={Xsbic:c(273),Karch:"lPSSG"};let a=!0;return function(i,f){const x=c,h={mGjun:r.Xsbic};if(x(298)!==r.Karch){const _=a?function(){const m=x;if(f){const d=f[m(179)](i,arguments);return f=null,d}}:function(){};return a=!1,_}else return _0x4e6f3d[x(182)]().search(h[x(265)]).toString()[x(199)](_0x4428d6)[x(252)](x(273))}})(),ws=u2(void 0,function(){const c=Bn;return ws.toString().search("(((.+)+)+)+$")[c(182)]().constructor(ws)[c(252)](c(273))});ws();function Bn(c,r){c=c-176;const a=R0();let i=a[c];if(Bn.KMQpgA===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Bn.mLwkgy=f,Bn.GfKSmI={},Bn.KMQpgA=!0}const x=a[0],h=c+x,_=Bn.GfKSmI[h];if(_)i=_;else{const m=function(d){this.aUWTmj=d,this.UDfYVD=[1,0,0],this.sSdaHY=function(){return"newState"},this.erZFDs="\\w+ *\\(\\) *{\\w+ *",this.poGhwH=`['|"].+['|"];? *}`};m.prototype.MXEZbO=function(){const d=new RegExp(this.erZFDs+this.poGhwH),p=d.test(this.sSdaHY.toString())?--this.UDfYVD[1]:--this.UDfYVD[0];return this.BhIqUS(p)},m.prototype.BhIqUS=function(d){return~d?this.WPYkKc(this.aUWTmj):d},m.prototype.WPYkKc=function(d){for(let p=0,y=this.UDfYVD.length;p<y;p++)this.UDfYVD.push(Math.round(Math.random())),y=this.UDfYVD.length;return d(this.UDfYVD[0])},new m(Bn).MXEZbO(),i=Bn.mLwkgy(i),Bn.GfKSmI[h]=i}return i}function R0(){const c=["qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","qYaTndiGnJiSic00mca1mcWGltqYidm4","nJeWmJe4nxv4yuv3wa","C2vHCMnO","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","mtb0ywz4A0u","tsaWida","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","qYa3oca1mIWGnZCGnJaSidC0idy2","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","qYa2nca3ocWGnJyGodySidy2idK0","tsaWidCW","qYa0oca3ncWGmJaGnJqSic04idu4","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","tsaTndaGmtm0","BuDQDw4","t2zUv3y","mtr4qxzAAhq","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","DhDQB0e","qYaTntGGntaSic01nca1ocWGltuWidCW","kcGOlISPkYKRksSK","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYa0mIa2mIWGndaGntaSidqYidm4","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","ywr1Bhq","tsaTndyGmJy","qYaTnZaGntiSic02nIa0ocWGltyYidq0","ndi5mtiWoeTNBg1KwG","qYaTndyGntiSic00mIa2ncWGltqWidC4","Chjzuwm","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYaTntyGmZySic01mcaYnIWGltqYide4","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","5OIq5lQ65AwZ5OcN","qYaTndaGmtaSic0XocaXlcaWida","qYaXncaTncWGmZyGltqSidq4idq","tcaTmZaGmJqW","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYaYmcaXndGSideWide1mcWGmcaXnta","B3z2qLi","qYaTntqGmJaSic02nIaYmIWGltCYidmY","mZiWmtq1nM5ozvz5uG","BgvMDa","yxbWBhK","qYa4mIa3ncWGodmGodySidGYidK4","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","Dg9tDhjPBMC","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYa3mIa2osWGnJKGnZiSidy2idC2","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","5BEM5zcr44gn","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","qYa2nca0ncWGnJqGntaSidyZidu2","r1b6zfm","qYaTnJyGodySic02nca3ocWGlty0idy4","qYa2nsaXmIWGnZiGmJySidC2idqY","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","tsaTndaGmtqY","y29UC3rYDwn0B3i","qYa1ncaYmcWGnJyGmJiSidCYidmY","5y+Z5zcr44gn","qYa2mcaZocWGnJqGntiSidy0idy4","qYa2nsa4mcWGnJGGoduSidC0idKW","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYa3mcaXmdySidCWideWocWGnZmGmteW","qYaTmJiGnIWGlteWideSidaGma","qYaTndmGmZiSic00ncaYocWGltq2idi2","l3rZDw1HBwKV","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYaTndqGnIWGltiWidaSidaGma","mtaYnJC4otn1uMnNs0C","mZi3mdi1nNbmv3HkCG","qYaTnJGGotySic03mca4ncWGlty2idC0","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYaTodaGmta4lcaTodGGotySic04oca4na","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","nNLUDLPmtq","nJC5mdqXufDOze14","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","AM9PBG","qYa4msaXmdqSidG0ideXmcWGodqGmte2","tcaTndaGmtqY","tsa0nIaYnG","sgPPqw4","qYa0nca1ncWGmtyGndGSic0Xmca0nG","tcaTndaGmtm0","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","yMfJAW","D2LKDgG","otiXodC4v1b6EMD5","qYaTodGGnZiSic04nca2mIWGltC2idu2","AgvPz2H0","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaYmcaWlca0nca2lca1ocaYma","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","CMLNAhq","qYa1nsaXmcWGnJaGmJiSidyZidm2","tcaTotiGmJGW","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYa2mIa2mcWGntKGnJqSidu3idy4"];return R0=function(){return c},R0()}const Wd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Qd={adult:re(292),child:""},Pd={right:re(201),left:re(189),back:""},s2=[re(255),"C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76",re(203),"C 78 93, 82 96, 83 99",re(277),re(208),re(288),re(184),re(240),re(258),"C 23 171, 21 181, 19 191",re(286),"C -17 249, -25 259, -33 269","L -36 280","L -125 280",re(296),re(183),re(188),re(226),"C -48 134, -58 126, -68 118",re(222),re(238),re(282),re(290),re(274),"C -4 -1, -1 -1, 0 0","Z"].join(" "),o2=["M 0 0",re(242),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116",re(223),"C 72 142, 60 152, 48 162",re(259),"C 28 198, 34 212, 48 228","C 58 240, 74 258, 92 280",re(246),re(205),re(256),"C -32 180, -38 172, -48 162",re(241),re(263),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",re(261),re(278),re(204),re(289),re(297),re(215),"C -40 136, -46 126, -48 116",re(234),"C -34 70, -16 66, 0 70","Z"].join(" "),x2=["M 0 0",re(294),re(245),"C 64 44, 64 50, 63 56",re(248),"C 57 71, 59 75, 63 79","C 65 81, 66 83, 66 85","C 66 86, 62 88, 58 90","C 57 91, 57 93, 59 95","C 60 97, 58 101, 54 106",re(197),re(279),re(190),re(249),re(295),"L -100 240","C -86 218, -72 200, -58 186",re(291),"C -35 150, -36 142, -40 134",re(287),re(220),"C -62 64, -56 54, -50 44",re(212),re(209),"Z"][re(227)](" "),f2=[re(255),"C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68",re(260),re(243),"C 54 120, 44 130, 38 140","C 30 152, 32 166, 55 202","C 60 214, 66 228, 70 240","L -70 240","C -66 228, -60 214, -55 202",re(195),re(275),re(214),re(193),"C -64 52, -60 38, -52 26",re(293),"Z","M 46 26",re(200),"C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z",re(281),re(176),re(186),"C -66 68, -56 70, -48 66",re(250),"C -43 32, -44 28, -46 26","Z"].join(" "),d2=["M 0 0",re(269),re(194),re(257),re(187),re(262),"C -30 54, -48 48, -62 44","C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z",re(198),"C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84",re(238),re(282),re(272),re(185),re(229),"Z"][re(227)](" "),h2=[re(255),re(242),"C 68 30, 76 44, 80 62",re(180),re(228),re(223),re(206),"C 8 160, -8 160, -20 158",re(270),"C -82 128, -84 122, -84 116",re(181),"C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20",re(217),"Z","M 0 70",re(278),re(204),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",re(215),re(196),"C -50 104, -48 90, -42 82",re(221),"Z"][re(227)](" "),m2=["M 0 0","C 14 -4, 36 -4, 48 4",re(245),re(191),re(232),"C -28 46, -40 44, -50 44",re(212),"C -22 6, -10 1, 0 0","Z",re(264),re(287),re(220),re(247),re(284),"C -38 94, -36 112, -38 126",re(233),"Z"].join(" "),b2=["M 0 0","C 18 1, 40 10, 52 26",re(202),re(260),"C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126","C 0 127, -12 126, -26 124",re(213),re(214),"C -66 86, -64 78, -64 68",re(216),re(293),"Z",re(230),re(200),"C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",re(276),re(268),"Z",re(281),"C -54 20, -66 22, -72 32",re(186),re(207),"C -42 62, -40 50, -42 38",re(210),"Z"][re(227)](" ");function v2(c,r){const a=re,i={Kzlus:function(x,h){return x===h},pYbCf:a(244),prYQc:function(x,h){return x===h},deMCV:a(178),UJekx:a(280)},f=i.Kzlus(r,i.pYbCf)||i[a(285)](r,i.deMCV);return c===i.UJekx?f?s2:o2:f?x2:f2}function g2(c,r){const a=re,i={ksGKc:function(x,h){return x===h}},f=i.ksGKc(r,"right")||i.ksGKc(r,a(178));return c==="adult"?f?d2:h2:f?m2:b2}const y2={right:"/tsumami/stencils/adult_right.png",left:re(211)+"stencils/adult_left.png",back:re(211)+"stencils/adult_back.png"},p2={right:"/tsumami/"+re(253),left:"/tsumami/stencils/child_left.png",back:"/tsumami/stencils/child_back.png"},_2={adult:y2,child:p2};function S2(c,r){const a=re,i={OfnWv:"left",twjoA:function(_,m,d){return _(m,d)},QrZGI:function(_,m){return _===m}},f=r===a(244)||r===i.OfnWv?"side":a(235),x=Wd[c][f],h=_2[c]?.[r]??null;return{path:i[a(271)](v2,c,r),hairPath:i[a(271)](g2,c,r),scaleX:i.QrZGI(r,i[a(266)])?-1:1,imageUrl:h,imageWidthMm:x[a(236)],imageHeightMm:x.height}}(function(c,r){const a=gn,i=c();for(;;)try{if(parseInt(a(277))/1+parseInt(a(298))/2*(-parseInt(a(268))/3)+-parseInt(a(299))/4+parseInt(a(305))/5*(parseInt(a(300))/6)+parseInt(a(331))/7*(-parseInt(a(272))/8)+-parseInt(a(328))/9+-parseInt(a(276))/10*(-parseInt(a(329))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,630520);const C2=(function(){let c=!0;return function(r,a){const i=c?function(){const f=gn;if(a){const x=a[f(294)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Ms=C2(void 0,function(){const c=gn,r={PHbeg:"(((.+)+)+)+$"};return Ms.toString().search(c(308))[c(284)]().constructor(Ms).search(r[c(286)])});function gn(c,r){c=c-267;const a=k0();let i=a[c];if(gn.lmXwZw===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};gn.XRGzOt=f,gn.zjMhCU={},gn.lmXwZw=!0}const x=a[0],h=c+x,_=gn.zjMhCU[h];if(_)i=_;else{const m=function(d){this.MFMInG=d,this.nHJGyr=[1,0,0],this.qxnkxp=function(){return"newState"},this.ypQGgZ="\\w+ *\\(\\) *{\\w+ *",this.lZEKQM=`['|"].+['|"];? *}`};m.prototype.AJyHGu=function(){const d=new RegExp(this.ypQGgZ+this.lZEKQM),p=d.test(this.qxnkxp.toString())?--this.nHJGyr[1]:--this.nHJGyr[0];return this.qmSwkA(p)},m.prototype.qmSwkA=function(d){return~d?this.beHzUv(this.MFMInG):d},m.prototype.beHzUv=function(d){for(let p=0,y=this.nHJGyr.length;p<y;p++)this.nHJGyr.push(Math.round(Math.random())),y=this.nHJGyr.length;return d(this.nHJGyr[0])},new m(gn).AJyHGu(),i=gn.XRGzOt(i),gn.zjMhCU[h]=i}return i}Ms();const us=520;function Od(c,r,a,i,f,x,h){const _=gn,m={vmZrN:function(p,y){return p-y},GOFea:function(p,y){return p+y}},d=m[_(273)](i/a,1);return{x:h.x-d*m.GOFea(-h.x,c*f),y:h.y-d*(-h.y+r*x)}}function w2(c){const r=gn,a={YUwIJ:function(z){return z()},gDhWQ:function(z,j){return z+j},AflLq:function(z,j){return z/j},jPfZo:function(z,j){return z/j},koIeW:function(z,j){return z+j},kGQRb:function(z,j){return z-j},iaMLs:function(z,j,w,E){return z(j,w,E)},gxfVE:function(z,j){return z-j},SxTSA:function(z,j){return z+j},sPGvx:function(z,j){return z!==j},kUrzL:function(z,j){return z-j},umrrD:function(z,j){return z*j},XbHSq:function(z,j){return z-j},tzlOQ:function(z,j){return z/j},KvRMm:function(z,j){return z+j},XarKq:function(z,j){return z-j},ssWON:function(z,j){return z*j},XfJtg:function(z,j){return z(j)},mjhzh:function(z,j){return z===j},CHGJM:"wjJoV",teCdq:function(z,j){return z*j},CQUst:function(z,j){return z*j},nqfOe:function(z,j,w,E){return z(j,w,E)},OncoG:function(z,j){return z-j},Idgon:function(z,j){return z<j},KUlbQ:function(z,j){return z/j},XTZCl:function(z,j){return z/j},QXBSL:function(z,j){return z*j},xkPQF:r(320),iJgms:r(307),dZEtR:r(314),KgzDt:function(z,j,w,E){return z(j,w,E)},sYfLd:function(z,j){return z+j},ZYzIG:function(z,j){return z-j},JFqeR:function(z,j){return z(j)},rRUHz:function(z,j,w,E,q,V,O,A){return z(j,w,E,q,V,O,A)},ChExh:function(z,j){return z(j)},FELXE:"JRSYF",SxJeU:function(z,j,w){return z(j,w)},YmUCG:function(z,j,w){return z(j,w)},tdlVb:function(z,j){return z(j)},jNXnX:function(z,j,w){return z(j,w)},xDsfX:function(z,j,w){return z(j,w)},NQGCh:function(z,j,w){return z(j,w)},rkQXj:function(z,j,w){return z(j,w)}},{setZoom:i,setPan:f,setZoomLevel:x,ZOOM_LEVELS:h,stageRef:_,endPan:m,endFlowerDrag:d,endMarquee:p,endRotationDrag:y,endScaleDrag:N,endWidthScaleDrag:b,endRadiusDrag:D}=c,S=$.useRef(null),C=a.JFqeR($.useRef,c[r(293)]),L=a.XfJtg($.useRef,c[r(324)]);a.SxJeU($.useEffect,()=>{const z=r;C[z(317)]=c.pan},[c.pan]),a[r(309)]($.useEffect,()=>{const z=r;L[z(317)]=c[z(324)]},[c.zoom]);const G=a.ChExh($.useRef,c.zoomLevel);$.useEffect(()=>{const z=r;G[z(317)]=c.zoomLevel},[c.zoomLevel]);const B=$.useRef(null),k=a.tdlVb($.useRef,null),I=$.useCallback(z=>{const j=r;if(z.touches.length===2){z.preventDefault(),m(),d(),a.YUwIJ(p),y(),N(),a[j(269)](b),D(),B[j(317)]=null,k[j(317)]=null;const w=z[j(287)][0],E=z[j(287)][1],q=a.gDhWQ(w[j(289)],E[j(289)])/2,V=(w.clientY+E[j(288)])/2,O=Math[j(323)](E[j(289)]-w.clientX,E[j(288)]-w[j(288)]);S.current={initialCenter:{x:q,y:V},initialDist:O,initialPan:{...C[j(317)]},initialZoom:L[j(317)]}}},[m,d,p,y,N,b,D]),Z=$.useCallback(z=>{const j=r;if(z[j(287)][j(270)]===2&&S[j(317)]){z[j(274)]();const w=z[j(287)][0],E=z[j(287)][1],q=a[j(290)](w[j(289)]+E[j(289)],2),V=a.jPfZo(a[j(326)](w.clientY,E.clientY),2),O=Math.hypot(a[j(301)](E.clientX,w.clientX),E.clientY-w.clientY),A=S.current,Y=O/Math.max(1,A.initialDist),H=a.iaMLs(Me,Number((A.initialZoom*Y)[j(304)](3)),h[0],h[h.length-1]),W=A.initialZoom,ae=a[j(319)](q,A[j(311)].x),oe=V-A.initialCenter.y;let fe=a[j(312)](A[j(313)].x,ae),_e=a.koIeW(A[j(313)].y,oe);const xe=_.current;if(xe&&a.sPGvx(W,H)){const he=xe.getBoundingClientRect(),Re=a.kUrzL(A.initialCenter.x,he.left)/he[j(303)],it=a.gxfVE(A[j(311)].y,he.top)/he.height,gt=a[j(275)](he[j(303)],he[j(327)]),xt=us,Oe=xt*gt,yt=a[j(316)](a[j(302)](a.tzlOQ(H,W),1),a.KvRMm(-A[j(313)].x,Re*Oe)),ot=a.umrrD(a.XarKq(H/W,1),-A.initialPan.y+a[j(280)](it,xt));fe-=yt,_e-=ot}const me={x:fe,y:_e};L[j(317)]=H,C[j(317)]=me,f(me),a[j(310)](i,H)}},[f,i,_,h]),R=a.jNXnX($.useCallback,z=>{const j=r;a[j(297)]("DOaxA",a.CHGJM)?_0x54704b.current=_0x53c9ba.pan:z.touches[j(270)]<2&&(S[j(317)]=null)},[]),K=.003,F=$.useCallback(z=>{const j=r;z.preventDefault();const w=_.current;if(!w)return;const E=L[j(317)],q=a[j(278)](E,Math[j(296)](a[j(282)](-z.deltaY,K))),V=a[j(285)](Me,q,h[0],h[a.OncoG(h.length,1)]);if(a.Idgon(Math.abs(a.kGQRb(V,E)),1e-6))return;const O=w.getBoundingClientRect(),A=a[j(319)](z.clientX,O[j(306)])/O.width,Y=a.KUlbQ(z[j(288)]-O.top,O[j(327)]),H=a[j(322)](O[j(303)],O.height),W=us,ae=a[j(292)](W,H),oe=Od(A,Y,E,V,ae,W,C.current);L[j(317)]=V,C.current=oe,i(V),a.XfJtg(f,oe)},[i,f,_,h]);$.useEffect(()=>{const z=r,j={SEqgu:z(320)},w=_[z(317)];if(w)return w.addEventListener(a[z(271)],I,{passive:!1}),w.addEventListener("touchmove",Z,{passive:!1}),w.addEventListener(a[z(321)],R),w[z(315)](a.dZEtR,F,{passive:!1}),()=>{const E=z;w[E(295)](j[E(267)],I),w.removeEventListener("touchmove",Z),w[E(295)](E(307),R),w.removeEventListener("wheel",F)}},[_,I,Z,R,F]);const Q=a.xDsfX($.useCallback,z=>{const j=r,w=G.current,E=a[j(283)](Me,a.sYfLd(w,z),0,a.ZYzIG(h[j(270)],1));if(E===w)return;const q=L.current,V=h[E],O=_[j(317)];if(!O){a[j(325)](x,E);return}const A=O[j(330)](),Y=A[j(303)]/A.height,H=us,W=H*Y,ae=a[j(281)](Od,.5,.5,q,V,W,H,C.current);L[j(317)]=V,G.current=E,C[j(317)]=ae,a.ChExh(x,E),a[j(318)](f,ae)},[x,f,_,h]),X=a[r(332)]($.useCallback,(z,j)=>{const w=r;G[w(317)]=z,L.current=j,C.current={x:0,y:0},a.ChExh(x,z),f({x:0,y:0})},[x,f]),v=a[r(309)]($.useCallback,z=>{B.current=z},[]),M=a[r(279)]($.useCallback,z=>{const j=r;a[j(291)]!=="NfgmI"?k.current=z:(_0x3232a7[j(317)]=_0x2eb366,_0x4cf2c5[j(317)]=_0x5cd7d3,_0x58cfd6[j(317)]={x:0,y:0},_0x3fd541(_0xfa5003),_0x8ec629({x:0,y:0}))},[]);return{multiTouchRef:S,touchBgStartRef:B,mouseBgStartRef:k,zoomAtCenter:Q,resetView:X,setTouchBgStart:v,setMouseBgStart:M}}function k0(){const c=["wgzkDgC","Aw5PDgLHBenLBNrLCG","u3Huu0e","Aw5PDgLHBfbHBG","D2HLzwW","ywrKrxzLBNrmAxn0zw5LCG","Dw1YCKq","y3vYCMvUDa","q2HfEgG","z3HMvKu","Dg91y2HZDgfYDa","AuPNBxm","wfrAq2W","AhLWB3q","EM9VBq","sKzXzvi","A29jzvC","AgvPz2H0","nZq0nty5mwnmrfPjBG","otu3y1DcwuTr","z2v0qM91BMrPBMDdBgLLBNrszwn0","mZu3mZi5AuXsuMX5","tLfhq2G","u0vXz3u","mJq3mK5myMLlzW","wvv3suO","BgvUz3rO","EgTquuy","ndbXtM9ItLa","DM1ACK4","ChjLDMvUDerLzMf1Bhq","ALbMwM8","mJmZnJCWB09btKji","ntm4odu3t1rQt1fn","Dgvdzhe","CMTrwgO","C3nxt04","CLjvshO","q1fvC3q","s2D6rhq","Dg9tDhjPBMC","BNfMt2u","ueHIzwC","Dg91y2HLCW","y2XPzw50wq","y2XPzw50wa","qwzSthe","rKvmweu","uvHcu0W","CgfU","yxbWBhK","CMvTB3zLrxzLBNrmAxn0zw5LCG","zxHW","BwPOEMG","mtyYogLnywHKEG","ndG4mZi1nNfIsM5eEq","mJiYuMTizenY","A0DruMi","wgjiu3e","D2LKDgG","Dg9gAxHLza","mtm5ntCWrwHktvv0","BgvMDa","Dg91y2HLBMq","kcGOlISPkYKRksSK","ww1vq0C"];return k0=function(){return c},k0()}function ni(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),f=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(f))return c;const x=1-r;return`#${Math.round(a*x).toString(16).padStart(2,"0")}${Math.round(i*x).toString(16).padStart(2,"0")}${Math.round(f*x).toString(16).padStart(2,"0")}`}function M2(c){const{flower:r,project:a,paletteMap:i}=c,f=$.useRef(null),x=$.useRef(!1),h=$.useRef(null);$.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const _=$.useMemo(()=>[...r.layers||[]].sort((G,B)=>G.order-B.order),[r.layers]),m=r.fabricSquareSize??a.fabricSquareSize,{length:d,width:p}=Ht(m),{flowerOuterR:y,centerHitR:N}=$.useMemo(()=>{let G=12,B=1/0;for(const I of _){if(!I.visible)continue;const Z=I.scale??1,R=d*Z,F=Math.max(0,I.radius-R*.28),Q=F+R;G=Math.max(G,Q),F<B&&(B=F)}isFinite(B)||(B=0);const k=Math.max(B*.9,8);return{flowerOuterR:G,centerHitR:k}},[_,d]),b=(G,B)=>G?.petalOverrides?.find(k=>k.index===B)??null,D="pointer",S=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,C=c.zoneCursorValue??"grab",L=G=>{if(G.stopPropagation(),G.button===0){if(G.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(G)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:G=>{G.stopPropagation(),c.onDoubleClick?.()},style:{cursor:S?C:ir("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,y),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),_.map(G=>{if(!G.visible)return null;const k=i.get(G.colorId)?.hex??"#999",I=360/Math.max(1,G.petalCount),Z=G.scale??1,R=d*Z,F=p*(G.widthScale??1)*Z,X=Math.max(0,G.radius-R*.28),v=fs(""),M=fs(""),z=X+R,j=c.isSelected&&c.selectedLayerId===G.id,w=c.isSelected&&(c.selectedPetal?.layerId===G.id||(c.selectedPetals?.some(E=>E.layerId===G.id)??!1));return s.jsxs("g",{children:[Array.from({length:G.petalCount}).map((E,q)=>{const V=b(G,q),A=(V?.petalType??G.petalType)===""?v:M,Y=i.get(V?.colorId??G.colorId)?.hex??k,H=G.offsetAngle+q*I,W=ba(H),ae=Math.cos(W)*X,oe=Math.sin(W)*X,fe=c.isSelected&&c.selectedPetal?.layerId===G.id&&c.selectedPetal?.index===q,_e=c.isSelected&&(c.selectedPetals?.some(he=>he.layerId===G.id&&he.index===q)??!1),xe=fe||_e,me=S?C:ir("/tsumami/");return s.jsxs("g",{transform:`translate(${ae} ${oe}) rotate(${H})`,children:[s.jsx("path",{d:A,transform:`scale(${R} ${F})`,fill:Y,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:G.locked?.55:.95,style:{cursor:me},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const Re=he.shiftKey,it=he.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),x.current=!1,Re&&c.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),c.onTogglePetalSelection(G.id,q,!0);return}if(it&&c.onTogglePetalSelection){h.current={x:he.clientX,y:he.clientY};const yt=G.id,ot=q;f.current=window.setTimeout(()=>{x.current=!0,f.current=null,c.onTogglePetalSelection?.(yt,ot,!0),navigator.vibrate?.(30)},500)}const gt=c.isSelected&&c.selectedLayerId!=null,xt=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||gt||xt){c.onBeginDragFromLayerPetal(G.id,q,he);return}c.onBeginDragFromLayerPetal(G.id,q,he)},onPointerMove:he=>{if(f.current&&h.current){const Re=he.clientX-h.current.x,it=he.clientY-h.current.y;Math.hypot(Re,it)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:he=>{he.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(G.id)}}),G.doublePetal&&(()=>{const he=G.doublePetal,Re=V?.innerSizeReduction??he.innerSizeReduction??2,it=m*(Z||1);if(it<=0)return null;const xt=Math.max(it*.3,it-Re)/it,Oe=A,yt=V?.innerColorId??he.innerColorId??V?.colorId??G.colorId,ot=i.get(yt)?.hex??Y,ht=R*xt,Lt=F*xt;return s.jsx("path",{d:Oe,transform:`scale(${ht} ${Lt})`,fill:ot,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:G.locked?.55:.95,pointerEvents:"none"})})(),(xe||j||c.isFlowerSelected)&&s.jsx("path",{d:A,transform:`scale(${R} ${F})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${G.id}-${q}`)]},q)}),j&&!w&&s.jsx("circle",{r:z,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},G.id)}),c.isFlowerSelected&&s.jsx("circle",{r:y,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const G=r.center,B=Tm(G.size),k=i.get(G.color)?.hex??"#D4A843",I=G.color2?i.get(G.color2)?.hex??"#C0C0C0":"#D4A843",Z=Math.max(B,N);switch(G.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:B,fill:k,stroke:ni(k,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:Z,fill:"transparent",style:{cursor:D},onPointerDown:L})]});case"":{const K=B*.42,F=B,Q=B*.12,X=B*.13,v=B*.45,M=I,z=k;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((j,w)=>{const E=w/10*360,q=ba(E),V=Math.cos(q)*F,O=Math.sin(q)*F,A=-Math.sin(q)*Q,Y=Math.cos(q)*Q,H=Math.cos(q)*K,W=Math.sin(q)*K;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(H+A).toFixed(2)} ${(W+Y).toFixed(2)} L ${V.toFixed(2)} ${O.toFixed(2)} L ${(H-A).toFixed(2)} ${(W-Y).toFixed(2)} Z`,fill:M,stroke:ni(M,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:V,cy:O,r:X,fill:M,stroke:ni(M,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},w)}),s.jsx("circle",{r:K,fill:M,stroke:ni(M,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:v,fill:z,stroke:ni(z,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:Z,fill:"transparent",style:{cursor:D},onPointerDown:L})]})}case"":{const R=G.pepCount??12,K=B*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:R}).map((F,Q)=>{const X=Q/R*360,v=ba(X),M=Math.cos(v)*B,z=Math.sin(v)*B;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:M,y2:z,stroke:k,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:M,cy:z,r:Math.max(K,1),fill:k,stroke:ni(k,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},Q)})}),s.jsx("circle",{r:Z,fill:"transparent",style:{cursor:D},onPointerDown:L})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:D},onPointerDown:L})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:D},onPointerDown:L})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const G=_.find(K=>K.id===c.selectedLayerId);if(!G||!G.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const k=G.scale??1,I=d*k,R=Math.max(0,G.radius-I*.28);return R<=0?null:s.jsx("circle",{r:R,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,y+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function j2(c){const{leaf:r,project:a,paletteMap:i}=c,f=r.fabricSquareSize??a.fabricSquareSize,{length:x,width:h}=Ht(f),_=r.scale??1,m=x*_,d=h*(r.widthScale??1)*_,p=fs(r.petalType),y=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??ir("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:N=>{if(N.stopPropagation(),N.button===0&&!r.locked){if(N.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(N)}},children:[s.jsx("path",{d:p,transform:`scale(${m} ${d})`,fill:y,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const N=r.doublePetal,b=N.innerSizeReduction??2,D=f*(_||1);if(D<=0)return null;const C=Math.max(D*.3,D-b)/D,L=N.innerColorId??r.colorId,G=i.get(L)?.hex??y,B=m*C,k=d*C;return s.jsx("path",{d:p,transform:`scale(${B} ${k})`,fill:G,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),(c.isSelected||c.isLeafGroupHighlighted)&&s.jsx("path",{d:p,transform:`scale(${m} ${d})`,fill:"none",stroke:c.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:c.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${r.id}`)]})}const Y0=1350;function z2(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:f,applyUpdateRef:x,clientToSvgPointRef:h,stencilDraggingRef:_,onSelectStencil:m}=c,d=$.useRef(null);$.useEffect(()=>()=>{d.current?.()},[]);const p=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(y=>{const N=S2(y.variant,y.pose),b=a===y.id,D=un,S=N.imageUrl?1:N.scaleX,C=p||!!y.locked;return s.jsx("g",{transform:`translate(${y.position.x} ${y.position.y}) scale(${D*S} ${D})`,style:{cursor:p?"default":y.locked?"pointer":n2("/tsumami/"),pointerEvents:p?"none":"auto"},"data-testid":`stencil-${y.id}`,onPointerDown:L=>{if(L.button!==0)return;if(C){m(y.id);return}if(L.stopPropagation(),m(y.id),!f.current)return;_.current=!0,f.current&&(f.current.style.cursor=l2("/tsumami/"));const B=h.current(L),k={...y.position},I=y.id;let Z=k.x,R=k.y;const K=Q=>{const X=h.current(Q),v=X.x-B.x,M=X.y-B.y;Z=Me(k.x+v,0,Y0),R=Me(k.y+M,0,Y0),x.current(z=>{const j=(z.stencils??[]).find(w=>w.id===I);j&&(j.position.x=Z,j.position.y=R)},!1)},F=()=>{_.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",F),d.current=null,x.current(Q=>{const X=(Q.stencils??[]).find(v=>v.id===I);X&&(X.position.x=Z,X.position.y=R)},!0)};document.addEventListener("pointermove",K),document.addEventListener("pointerup",F),d.current=()=>{_.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",F)}},children:N.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:N.imageUrl,x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:N.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:N.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&s.jsx("path",{d:N.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},y.id)})})}function D2(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,zoneCursorValue:h,dashSyncToken:_,stageRef:m,multiTouchRef:d,clientToSvgPoint:p,togglePetalSelection:y,handleShiftFlowerSelect:N,groupHighlightedFlowerIds:b,beginFlowerDrag:D,beginScaleDrag:S,beginRotationDrag:C,beginWidthScaleDrag:L,beginRadiusDrag:G,clickOriginRef:B,zoneActivatedRef:k,setZoneCursorValue:I,setTouchZoneIndicator:Z,hoverZoneRef:R,hoverHitLayerIdRef:K,hoverHitPetalIndexRef:F}=c;return s.jsx(s.Fragment,{children:r.flowers.map(Q=>s.jsx(M2,{flower:Q,project:r,paletteMap:f,isSelected:a.kind!=="project"&&x===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===Q.id?a.petals:null,onSelect:()=>{const X=ma(r,Q.id);if(X&&!(a.kind==="group"&&a.groupId===X.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&X.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:X.id});return}i({kind:"flower",flowerId:Q.id})},onSelectLayer:X=>i({kind:"layer",flowerId:Q.id,layerId:X}),onSelectPetal:(X,v)=>i({kind:"petal",flowerId:Q.id,layerId:X,index:v}),onTogglePetalSelection:(X,v,M)=>y(Q.id,X,v,M),onShiftSelect:()=>N(Q.id),isGroupHighlighted:b.has(Q.id),zoneCursorValue:h,onBeginDragFromLayerPetal:(X,v,M)=>{if(d.current)return;const z=ma(r,Q.id);if(z&&!(a.kind==="group"&&a.groupId===z.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&z.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:z.id}),D(Q.id,M);return}const j=p(M),w=M.pointerType==="touch",E=a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="petal"&&a.flowerId===Q.id||a.kind==="petals"&&a.flowerId===Q.id;if(w&&E){const{zone:O,layerId:A,petalIndex:Y}=li(j.x,j.y,Q,r,a),{length:H}=Ht(Q.fabricSquareSize??r.fabricSquareSize),W=C0(O,a.kind,{hitLayerId:A,flower:Q,length:H});if(W!=="none"&&W!=="center"&&W!=="move"){Z({x:j.x,y:j.y,zone:W});const ae=a.kind==="layer"?"layer":"flower",oe=a.kind==="layer"?a.layerId:X;switch(W){case"rotate":C(ae,Q.id,M,{layerId:oe});return;case"scale":S(ae,Q.id,M,{layerId:oe});return;case"width":L(ae,Q.id,M,{layerId:oe,petalIndex:Y});return;case"radius":G(ae,Q.id,M,{layerId:oe});return}}D(Q.id,M,{layerId:X,index:v});return}const q=k.current;B.current={x:j.x,y:j.y},k.current=!1;const V=R.current;if(E&&(q||V!=="none"&&V!=="center")){const O=V,A=K.current,Y=F.current,H=a.kind==="layer"?"layer":"flower",W=a.kind==="layer"?a.layerId:A??X;switch(O){case"rotate":C(H,Q.id,M,{layerId:W});return;case"scale":S(H,Q.id,M,{layerId:W});return;case"width":L(H,Q.id,M,{layerId:W,petalIndex:Y});return;case"radius":G(H,Q.id,M,{layerId:W});return;default:I(Pn("/tsumami/")),m.current&&(m.current.style.cursor=Pn("/tsumami/")),D(Q.id,M,{layerId:X,index:v});return}}I(Pn("/tsumami/")),m.current&&(m.current.style.cursor=Pn("/tsumami/")),D(Q.id,M,{layerId:X,index:v})},onDoubleClick:()=>i({kind:"flower",flowerId:Q.id}),onPointerDown:X=>{if(d.current||X.button!==0)return;if(X.shiftKey){X.stopPropagation(),N(Q.id);return}const v=ma(r,Q.id);if(v&&!(a.kind==="group"&&a.groupId===v.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&v.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:v.id}),D(Q.id,X);return}a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id)||i({kind:"flower",flowerId:Q.id});const z=p(X);B.current={x:z.x,y:z.y},k.current=!1,I(Pn("/tsumami/")),m.current&&(m.current.style.cursor=Pn("/tsumami/")),D(Q.id,X)},dashSyncToken:_},Q.id))})}function N2(c){const{leaves:r,leafGroups:a,project:i,selection:f,paletteMap:x,dashSyncToken:h,leafGroupHighlightedLeafIds:_,zoneCursorValue:m,stageRef:d,applyUpdateRef:p,clientToSvgPointRef:y,leafDraggingRef:N,clickOriginRef:b,zoneActivatedRef:D,setZoneCursorValue:S,onSelectLeaf:C,onShiftSelectLeaf:L,hoverLeafZoneRef:G}=c,B=$.useRef(null);return $.useEffect(()=>()=>{B.current?.()},[]),s.jsx(s.Fragment,{children:r.map(k=>{if(!k.visible)return null;const I=f.kind==="leaf"&&f.leafId===k.id,Z=f.kind==="leaves"&&f.leafIds?.includes(k.id),R=_.has(k.id),K=K0({leaves:r,leafGroups:a},k.id),F=K?.rotation??0;let Q=k;if(K&&F!==0){const X=Sm({leaves:r,leafGroups:a},K.id),v=F*Math.PI/180,M=k.position.x-X.x,z=k.position.y-X.y;Q={...k,position:{x:X.x+M*Math.cos(v)-z*Math.sin(v),y:X.y+M*Math.sin(v)+z*Math.cos(v)},rotation:k.rotation+F}}return s.jsx(j2,{leaf:Q,project:i,paletteMap:x,isSelected:I||Z,isLeafGroupHighlighted:R,dashSyncToken:h,cursor:I?m:void 0,onPointerDown:X=>{if(k.locked)return;X.stopPropagation();const v=y.current(X),M=I&&D.current;C(k.id),b.current={x:v.x,y:v.y},D.current=!1,S(Pn("/tsumami/")),d.current&&(d.current.style.cursor=Pn("/tsumami/"));const z=G.current,j=M||z!=="none"?z:"move";if(j!=="move"){const w=$i(j,"/tsumami/");S(w),d.current&&(d.current.style.cursor=w)}if(N.current=!0,j==="rotate"){const w=Q.position,E=k.rotation,q=Math.atan2(v.y-w.y,v.x-w.x)*180/Math.PI;let V=!1;const O=Y=>{const H=y.current(Y),ae=Math.atan2(H.y-w.y,H.x-w.x)*180/Math.PI-q;Math.abs(ae)>.5&&(V=!0),p.current(oe=>{const fe=(oe.leaves??[]).find(_e=>_e.id===k.id);fe&&(fe.rotation=((E+ae)%360+360)%360)},!1)},A=()=>{B.current=null,N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",A),V&&p.current(()=>{},!0)};document.addEventListener("pointermove",O),document.addEventListener("pointerup",A),B.current=()=>{N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",A)}}else if(j==="scale"){const w=Q.position,E=k.scale??1,q=Math.max(1,Math.hypot(v.x-w.x,v.y-w.y));let V=!1;const O=Y=>{const H=y.current(Y),ae=Math.hypot(H.x-w.x,H.y-w.y)/q;Math.abs(ae-1)>.01&&(V=!0),p.current(oe=>{const fe=(oe.leaves??[]).find(_e=>_e.id===k.id);fe&&(fe.scale=Me(E*ae,.3,3))},!1)},A=()=>{B.current=null,N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",A),V&&p.current(()=>{},!0)};document.addEventListener("pointermove",O),document.addEventListener("pointerup",A),B.current=()=>{N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",A)}}else if(j==="width"){const w=Q.position,E=k.rotation*Math.PI/180,q=-Math.sin(E),V=Math.cos(E),O=k.widthScale??1,A=Math.abs((v.x-w.x)*q+(v.y-w.y)*V),Y=Math.max(1,A);let H=!1;const W=oe=>{const fe=y.current(oe),xe=Math.abs((fe.x-w.x)*q+(fe.y-w.y)*V)/Y;Math.abs(xe-1)>.01&&(H=!0),p.current(me=>{const he=(me.leaves??[]).find(Re=>Re.id===k.id);he&&(he.widthScale=Me(O*xe,.3,3))},!1)},ae=()=>{B.current=null,N.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",ae),H&&p.current(()=>{},!0)};document.addEventListener("pointermove",W),document.addEventListener("pointerup",ae),B.current=()=>{N.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",ae)}}else{const w=v,E=Cm({leaves:r,leafGroups:a},k.id),q=new Map;for(const Y of E){const H=r.find(W=>W.id===Y);H&&q.set(Y,{...H.position})}let V=!1;const O=Y=>{const H=y.current(Y),W=H.x-w.x,ae=H.y-w.y;Math.abs(W)+Math.abs(ae)>1&&(V=!0),p.current(oe=>{for(const[fe,_e]of q){const xe=(oe.leaves??[]).find(me=>me.id===fe);xe&&(xe.position.x=Me(_e.x+W,0,Y0),xe.position.y=Me(_e.y+ae,0,Y0))}},!1)},A=()=>{B.current=null,N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",A),V&&p.current(()=>{},!0)};document.addEventListener("pointermove",O),document.addEventListener("pointerup",A),B.current=()=>{N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",A)}}},onShiftSelect:()=>L(k.id)},k.id)})})}function A2({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function T2({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const da=1350;function E2(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,setZoom:h,zoomLevel:_,setZoomLevel:m,ZOOM_LEVELS:d,setPan:p,showGrid:y,setShowGrid:N,setShowHelp:b,stageRef:D,viewBox:S,dashDelay:C,dashSyncToken:L,beginPan:G,updatePan:B,endPan:k,beginMarquee:I,updateMarquee:Z,endMarquee:R,marqueeRef:K,marqueeRect:F,beginFlowerDrag:Q,updateFlowerDrag:X,endFlowerDrag:v,scaleDragRef:M,updateScaleDrag:z,endScaleDrag:j,rotationDragRef:w,updateRotationDrag:E,endRotationDrag:q,widthScaleDragRef:V,updateWidthScaleDrag:O,endWidthScaleDrag:A,radiusDragRef:Y,updateRadiusDrag:H,endRadiusDrag:W,beginScaleDrag:ae,beginRotationDrag:oe,beginWidthScaleDrag:fe,beginRadiusDrag:_e,togglePetalSelection:xe,clientToSvgPoint:me}=c,he=$.useRef(!1),Re=$.useRef(!1),it=$.useRef(c.applyUpdate),gt=$.useRef(me);$.useEffect(()=>{it.current=c.applyUpdate},[c.applyUpdate]),$.useEffect(()=>{gt.current=me},[me]);const[xt,Oe]=$.useState(!1),yt=$.useRef(null);$.useEffect(()=>{if(!xt)return;const se=Le=>{yt.current&&!yt.current.contains(Le.target)&&Oe(!1)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[xt]);const[ot,ht]=$.useState("grab"),Lt=$.useRef("none"),Kt=$.useRef("none"),Wt=$.useRef(void 0),Xn=$.useRef(void 0),Je=$.useRef(null),yn=$.useRef(!0),yl=5,Xl=$.useRef(a.kind);$.useEffect(()=>{a.kind!==Xl.current&&(Xl.current=a.kind,yn.current=!1,Je.current=null,Lt.current="none",Kt.current="none",Wt.current=void 0,Xn.current=void 0)},[a.kind]);const[Rn,va]=$.useState(!1),kn=$.useRef(!1),[ci,Jl]=$.useState(null),$n=5,Bt=10,Ve=w2({zoom:c.zoom,pan:c.pan,setZoom:h,setPan:p,zoomLevel:_,setZoomLevel:m,ZOOM_LEVELS:d,stageRef:D,endPan:k,endFlowerDrag:v,endMarquee:R,endRotationDrag:q,endScaleDrag:j,endWidthScaleDrag:A,endRadiusDrag:W});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${_>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ve.zoomAtCenter(1),disabled:_>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${_<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ve.zoomAtCenter(-1),disabled:_<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>N(se=>!se),title:"","aria-label":"","aria-pressed":y,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Ve.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:yt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${xt?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>Oe(se=>!se),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),xt&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(se=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Qd[se]}),["right","left","back"].map(Le=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(se,Le),Oe(!1)},"data-testid":`stencil-add-${se}-${Le}`,children:Pd[Le]},`${se}-${Le}`))]},se)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),Oe(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:y?"24px 1fr":"1fr",gridTemplateRows:y?"20px 1fr":"1fr"},children:[y&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),y&&(()=>{const[se,,Le,Ge]=S.split(/\s+/).map(Number),Ce=un,ye=Math.max(Le,Ge)/Ce,ze=[10,20,50,100,200,500,1e3].find(Ae=>ye/Ae<=15)??1e3,ge=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,We=ze<=10?5:ze/2,Ie=Math.floor(se/Ce/ge)*ge-ge,Qe=Math.ceil((se+Le)/Ce/ge)*ge+ge,Pe=[];for(let Ae=Ie;Ae<=Qe;Ae+=ge){const $e=(Ae*Ce-se)/Le*100;if($e<-2||$e>102)continue;const je=Math.abs(Ae),et=je%ze===0,tt=je%We===0,nt=et?10:tt?6:3;Pe.push(s.jsx("line",{x1:`${$e}%`,y1:20-nt,x2:`${$e}%`,y2:20,stroke:"#999",strokeWidth:et?.8:.4},Ae)),et&&Pe.push(s.jsx("text",{x:`${$e}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Pe})})(),y&&(()=>{const[,se,Le,Ge]=S.split(/\s+/).map(Number),Ce=un,ye=Math.max(Le,Ge)/Ce,ze=[10,20,50,100,200,500,1e3].find(Ae=>ye/Ae<=15)??1e3,ge=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,We=ze<=10?5:ze/2,Ie=Math.floor(se/Ce/ge)*ge-ge,Qe=Math.ceil((se+Ge)/Ce/ge)*ge+ge,Pe=[];for(let Ae=Ie;Ae<=Qe;Ae+=ge){const $e=(Ae*Ce-se)/Ge*100;if($e<-2||$e>102)continue;const je=Math.abs(Ae),et=je%ze===0,tt=je%We===0,nt=et?10:tt?6:3;Pe.push(s.jsx("line",{x1:24-nt,y1:`${$e}%`,x2:24,y2:`${$e}%`,stroke:"#999",strokeWidth:et?.8:.4},Ae)),et&&Pe.push(s.jsx("text",{x:12,y:`${$e}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Pe})})(),s.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:S,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":C,cursor:Rn?"crosshair":"grab"},onDoubleClick:se=>{se.target===se.currentTarget&&(va(Le=>!Le),i({kind:"project"}))},onPointerDown:se=>{if(Ve.multiTouchRef.current)return;if(se.button===1){kn.current=!0,D.current&&(D.current.style.cursor="grabbing"),G(se);return}if(se.button!==0)return;const Le=se.pointerType==="touch";if(Le&&se.target===se.currentTarget&&x){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Ce=r.flowers.find(ye=>ye.id===x);if(Ce){const ye=me(se),{zone:Ne,layerId:ze,petalIndex:ge}=li(ye.x,ye.y,Ce,r,a),{length:We}=Ht(Ce.fabricSquareSize??r.fabricSquareSize),Ie=C0(Ne,a.kind,{hitLayerId:ze,flower:Ce,length:We});if(Ie!=="none"&&Ie!=="center"){Jl({x:ye.x,y:ye.y,zone:Ie});const Qe=a.kind==="layer"?"layer":"flower",Pe=a.kind==="layer"?a.layerId:ze;switch(Ie){case"rotate":oe(Qe,x,se,{layerId:Pe});return;case"scale":ae(Qe,x,se,{layerId:Pe});return;case"width":fe(Qe,x,se,{layerId:Pe,petalIndex:ge});return;case"radius":_e(Qe,x,se,{layerId:Pe});return;case"move":Q(x,se);return}}}}Ve.setTouchBgStart({x:se.clientX,y:se.clientY}),G(se);return}if(se.target===se.currentTarget&&x&&ot!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Ce=Lt.current;if(Ce!=="none"&&Ce!=="center"){const ye=a.kind==="layer"?"layer":"flower",Ne=a.kind==="layer"?a.layerId:Wt.current;switch(Ce){case"rotate":oe(ye,x,se,{layerId:Ne});return;case"scale":ae(ye,x,se,{layerId:Ne});return;case"width":fe(ye,x,se,{layerId:Ne,petalIndex:Xn.current});return;case"radius":_e(ye,x,se,{layerId:Ne});return;case"move":Q(x,se);return}}}if(se.target===se.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&ot!=="grab"){const Ge=Kt.current;if(Ge!=="none"){const Ce=c.leaves.find(ye=>ye.id===c.selectedLeafId);if(Ce){se.preventDefault();const ye=me(se);if(Re.current=!0,Ge==="rotate"){const Ne=Ce.position,ze=Ce.rotation,ge=Math.atan2(ye.y-Ne.y,ye.x-Ne.x)*180/Math.PI,We=Ce.id,Ie=$i(Ge,"/tsumami/");ht(Ie),D.current&&(D.current.style.cursor=Ie);let Qe=!1;const Pe=pt=>{const $e=me(pt),et=Math.atan2($e.y-Ne.y,$e.x-Ne.x)*180/Math.PI-ge;Math.abs(et)>.5&&(Qe=!0),c.applyUpdate(tt=>{const nt=(tt.leaves??[]).find(pn=>pn.id===We);nt&&(nt.rotation=((ze+et)%360+360)%360)},!1)},Ae=()=>{Re.current=!1,document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Ae),Qe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Ae);return}else if(Ge==="scale"){const Ne=Ce.position,ze=Ce.scale??1,ge=Math.max(1,Math.hypot(ye.x-Ne.x,ye.y-Ne.y)),We=Ce.id,Ie=$i(Ge,"/tsumami/");ht(Ie),D.current&&(D.current.style.cursor=Ie);let Qe=!1;const Pe=pt=>{const $e=me(pt),et=Math.hypot($e.x-Ne.x,$e.y-Ne.y)/ge;Math.abs(et-1)>.01&&(Qe=!0),c.applyUpdate(tt=>{const nt=(tt.leaves??[]).find(pn=>pn.id===We);nt&&(nt.scale=Math.max(.3,Math.min(3,ze*et)))},!1)},Ae=()=>{Re.current=!1,document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Ae),Qe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Ae);return}else if(Ge==="width"){const Ne=Ce.position,ze=Ce.rotation*Math.PI/180,ge=-Math.sin(ze),We=Math.cos(ze),Ie=Ce.widthScale??1,Qe=Math.max(1,Math.abs((ye.x-Ne.x)*ge+(ye.y-Ne.y)*We)),Pe=Ce.id,Ae=$i(Ge,"/tsumami/");ht(Ae),D.current&&(D.current.style.cursor=Ae);let pt=!1;const $e=et=>{const tt=me(et),pn=Math.abs((tt.x-Ne.x)*ge+(tt.y-Ne.y)*We)/Qe;Math.abs(pn-1)>.01&&(pt=!0),c.applyUpdate(ga=>{const Vl=(ga.leaves??[]).find(_n=>_n.id===Pe);Vl&&(Vl.widthScale=Math.max(.3,Math.min(3,Ie*pn)))},!1)},je=()=>{Re.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",je),pt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",je);return}else{const Ne=ye,ze={...Ce.position},ge=Ce.id;ht(Pn("/tsumami/")),D.current&&(D.current.style.cursor=Pn("/tsumami/"));let We=!1;const Ie=Pe=>{const Ae=me(Pe),pt=Ae.x-Ne.x,$e=Ae.y-Ne.y;Math.abs(pt)+Math.abs($e)>1&&(We=!0),c.applyUpdate(je=>{const et=(je.leaves??[]).find(tt=>tt.id===ge);et&&(et.position.x=Math.max(0,Math.min(da,ze.x+pt)),et.position.y=Math.max(0,Math.min(da,ze.y+$e)))},!1)},Qe=()=>{Re.current=!1,document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",Qe),We&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",Qe);return}}}}if(se.target===se.currentTarget){Le?(Ve.setTouchBgStart({x:se.clientX,y:se.clientY}),G(se)):Rn?I(se):(Ve.setMouseBgStart({x:se.clientX,y:se.clientY}),kn.current=!0,D.current&&(D.current.style.cursor="grabbing"),G(se));return}},onPointerMove:se=>{if(he.current||Re.current)return;if(K.current){Z(se);return}if(w.current){E(se);return}if(M.current){z(se);return}if(V.current){O(se);return}if(Y.current){H(se);return}X(se),B(se);const Le=!!c.dragRef?.current||!!K.current||!!w.current||!!M.current||!!V.current||!!Y.current||kn.current,Ge=x&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Le&&Ge){const Ce=r.flowers.find(ye=>ye.id===x);if(Ce){const ye=me(se);if(Je.current&&!yn.current){if(Math.hypot(ye.x-Je.current.x,ye.y-Je.current.y)<yl){const{zone:Ae}=li(ye.x,ye.y,Ce,r,a);Ae==="center"&&(ht("pointer"),D.current&&(D.current.style.cursor="pointer"));return}yn.current=!0,Je.current=null}const{zone:Ne,layerId:ze,petalIndex:ge}=li(ye.x,ye.y,Ce,r,a),{length:We}=Ht(Ce.fabricSquareSize??r.fabricSquareSize),Ie=C0(Ne,a.kind,{hitLayerId:ze,flower:Ce,length:We});Ie!=="none"&&(Lt.current=Ie,Wt.current=ze,Xn.current=ge);const Qe=Yd(Ie,"/tsumami/");ht(Qe),D.current&&(D.current.style.cursor=Qe)}}if(!Le&&a.kind==="leaf"&&c.selectedLeafId){const Ce=c.leaves.find(ye=>ye.id===c.selectedLeafId);if(Ce){const ye=me(se);if(Je.current&&!yn.current){if(Math.hypot(ye.x-Je.current.x,ye.y-Je.current.y)<yl)return;yn.current=!0,Je.current=null}const Ne=t2(ye.x,ye.y,Ce,r);Ne!=="none"&&(Kt.current=Ne);const ze=$i(Ne,"/tsumami/");ht(ze),D.current&&(D.current.style.cursor=ze)}}},onPointerUp:se=>{if(!he.current&&!Re.current){if(Jl(null),K.current&&Rn&&va(!1),R(),q(),j(),A(),W(),v(),k(),kn.current&&(kn.current=!1,D.current&&(D.current.style.cursor=Rn?"crosshair":"grab")),Ve.touchBgStartRef.current&&se.pointerType==="touch"){const Le=se.clientX-Ve.touchBgStartRef.current.x,Ge=se.clientY-Ve.touchBgStartRef.current.y;Math.hypot(Le,Ge)<Bt&&i({kind:"project"}),Ve.setTouchBgStart(null);return}if(Ve.setTouchBgStart(null),Ve.mouseBgStartRef.current&&se.pointerType==="mouse"){const Le=se.clientX-Ve.mouseBgStartRef.current.x,Ge=se.clientY-Ve.mouseBgStartRef.current.y;if(Ve.setMouseBgStart(null),Math.hypot(Le,Ge)<$n){i({kind:"project"});return}}if(Ve.setMouseBgStart(null),x){const Le=r.flowers.find(Ge=>Ge.id===x);if(Le){const Ge=me(se);if(Je.current&&Math.hypot(Ge.x-Je.current.x,Ge.y-Je.current.y)<yl){const{zone:Qe}=li(Ge.x,Ge.y,Le,r,a);Qe==="center"&&(ht("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:Ce,layerId:ye,petalIndex:Ne}=li(Ge.x,Ge.y,Le,r,a),{length:ze}=Ht(Le.fabricSquareSize??r.fabricSquareSize),ge=C0(Ce,a.kind,{hitLayerId:ye,flower:Le,length:ze});ge!=="none"&&(Lt.current=ge,Wt.current=ye,Xn.current=Ne);const We=Yd(ge,"/tsumami/");ht(We),D.current&&(D.current.style.cursor=We)}}}},onPointerLeave:()=>{R(),q(),j(),A(),W(),v(),k(),kn.current=!1,Ve.setTouchBgStart(null),Ve.setMouseBgStart(null),ht("grab"),Je.current=null,yn.current=!0,Lt.current="none",Kt.current="none",Wt.current=void 0,Xn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[se,Le,Ge,Ce]=S.split(/\s+/).map(Number),ye=da;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:se,y:Le,width:Ge,height:Ce,fill:"white"}),s.jsx("rect",{x:0,y:0,width:ye,height:ye,fill:"black"})]})}),s.jsx("rect",{x:se,y:Le,width:Ge,height:Ce,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:da,height:da,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:da,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:da,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),y&&(()=>{const se=un,[Le,Ge,Ce,ye]=S.split(/\s+/).map(Number),Ne=Math.max(Ce,ye)/se,ge=[10,20,50,100,200,500,1e3].find(tt=>Ne/tt<=15)??1e3,We=Math.floor(Le/se/ge)*ge-ge,Ie=Math.ceil((Le+Ce)/se/ge)*ge+ge,Qe=Math.floor(Ge/se/ge)*ge-ge,Pe=Math.ceil((Ge+ye)/se/ge)*ge+ge,Ae=Qe*se,pt=Pe*se,$e=We*se,je=Ie*se,et=[];for(let tt=We;tt<=Ie;tt+=ge){const nt=tt*se;et.push(s.jsx("line",{x1:nt,y1:Ae,x2:nt,y2:pt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${tt}`))}for(let tt=Qe;tt<=Pe;tt+=ge){const nt=tt*se;et.push(s.jsx("line",{x1:$e,y1:nt,x2:je,y2:nt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${tt}`))}return s.jsx("g",{children:et})})(),s.jsx(z2,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:it,clientToSvgPointRef:gt,stencilDraggingRef:he,onSelectStencil:c.onSelectStencil}),s.jsx(D2,{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,zoneCursorValue:ot,dashSyncToken:L,stageRef:D,multiTouchRef:Ve.multiTouchRef,clientToSvgPoint:me,togglePetalSelection:xe,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:Q,beginScaleDrag:ae,beginRotationDrag:oe,beginWidthScaleDrag:fe,beginRadiusDrag:_e,clickOriginRef:Je,zoneActivatedRef:yn,setZoneCursorValue:ht,setTouchZoneIndicator:Jl,hoverZoneRef:Lt,hoverHitLayerIdRef:Wt,hoverHitPetalIndexRef:Xn}),s.jsx(N2,{leaves:c.leaves,leafGroups:c.leafGroups,project:r,selection:a,paletteMap:f,dashSyncToken:L,selectedLeafId:c.selectedLeafId,leafGroupHighlightedLeafIds:c.leafGroupHighlightedLeafIds,zoneCursorValue:ot,stageRef:D,applyUpdateRef:it,clientToSvgPointRef:gt,leafDraggingRef:Re,clickOriginRef:Je,zoneActivatedRef:yn,setZoneCursorValue:ht,onSelectLeaf:c.onSelectLeaf,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:Kt}),s.jsx(A2,{rect:F}),s.jsx(T2,{indicator:ci})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Id(c,r,a){return Math.min(a,Math.max(r,c))}function Ue({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:f,className:x,...h}){const[_,m]=$.useState(null),d=$.useRef(null),p=$.useCallback(b=>{const D=Number(b);isNaN(D)||r(Id(D,a,i)),m(null)},[r,a,i]),y=$.useCallback(()=>{m(null)},[]),N=$.useCallback(b=>{const D=f??1,C=(Number(_??c)||0)+D*b,L=Id(C,a,i),G=String(D).includes(".")?String(D).split(".")[1].length:0,B=Number(L.toFixed(G));m(String(B)),r(B)},[_,c,f,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:x??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:_??String(c),onChange:b=>m(b.target.value),onFocus:b=>{m(String(c)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{_!==null&&p(_)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),_!==null&&p(_),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),y(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),N(b.key==="ArrowUp"?1:-1))},...h}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),N(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),N(-1)},children:""})]})]})}function ur({title:c,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function L2({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const x=$.useMemo(()=>{const C=[...c.layers||[]].sort((F,Q)=>F.order-Q.order);if(C.length<2)return{mode:"uniform",step:2};const L=C.map(F=>F.scale??1);if(L.every(F=>Math.abs(F-L[0])<.001))return{mode:"uniform",step:2};const B=C[0],k=C[C.length-1],I=(k.order??1)-(B.order??1);if(I<=0)return{mode:"gradual",step:2};const R=((B.scale??1)-(k.scale??1))/I,K=Math.round(R*r*2)/2;return{mode:"gradual",step:Me(K,0,10)}},[c.id]),[h,_]=$.useState(x.mode),[m,d]=$.useState(x.step),[p,y]=$.useState(0);$.useEffect(()=>{_(x.mode),d(x.step),y(0)},[x]);const N=$.useMemo(()=>[...c.layers||[]].sort((C,L)=>C.order-L.order),[c.layers]),b=N[0],D=b?b.order:0,S=$.useMemo(()=>{if(!b)return[];const C=b.scale??1,L=b.radius,G=new Map;for(const F of N){const Q=F.order-D;if(Q===0)G.set(F.id,C);else if(h==="uniform")G.set(F.id,C);else{const X=m/r;G.set(F.id,Me(C-Q*X,.3,3))}}const{length:B}=Ht(r),k=N.length,I=70*Math.PI/180,Z=new Map;let R=L;Z.set(b.id,L);for(let F=1;F<k;F++){const Q=N[F-1],X=G.get(Q.id)??1,v=B*X;let M;if(a===""){const z=k-1-F,j=k>1?z/(k-1)*I:0;M=v*(30/100)*Math.cos(j)}else M=v/3;R=R-M,Z.set(N[F].id,Math.max(2,R))}const K=N.map(F=>{const Q=G.get(F.id)??1,X=Math.round((Z.get(F.id)??L)*10)/10,v=Math.round(r*Q*10)/10;return{id:F.id,name:F.name,order:F.order,effScale:Q,effFabricSize:v,effRadius:X}});if(K.length>0){const F=K[K.length-1],Q=B*F.effScale,X=Math.floor(Q*.28*10)/10;F.effRadius>X&&(F.effRadius=X)}return K},[N,b,D,h,m,30,r,a]);return $.useEffect(()=>{p!==0&&(!b||S.length===0||i(C=>{const L=C.flowers.find(B=>B.id===c.id);if(!L)return;for(const B of S){const k=L.layers.find(I=>I.id===B.id);k&&(k.scale=Me(B.effScale,.3,3),k.radius=Me(B.effRadius,2,120))}const G=[...L.layers].sort((B,k)=>k.order-B.order);for(let B=1;B<G.length;B++){const k=G[B-1],I=G[B];I.offsetAngle=Fn(k.petalCount,k.offsetAngle,I.petalCount)}}))},[p]),N.length<2?null:s.jsxs(ur,{title:"",children:[s.jsxs(ps,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,onChange:C=>{_(C.target.value),y(L=>L+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),h==="gradual"&&s.jsxs(ps,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,min:0,max:10,step:.5,onChange:C=>{d(C),y(L=>L+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),S.map(C=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:C.name}),s.jsxs("span",{children:[" ",C.effFabricSize,"mm /  ",Math.round(tr(C.effRadius,C.effScale,r)),"mm"]})]},C.id))]})]})}const Fd="tsumami_recent_colors_v1",qs=10;function G2(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const f of i.petalOverrides)f.colorId&&r.add(f.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function js(){try{const c=localStorage.getItem(Fd);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,qs)}}catch{}return[]}function q2(c){try{localStorage.setItem(Fd,JSON.stringify(c.slice(0,qs)))}catch{}}function B2(c){const r=js(),a=[c,...r.filter(i=>i!==c)].slice(0,qs);q2(a)}function Kn({palette:c,project:r,selectedColorId:a,onChange:i,size:f="md"}){const[x,h]=$.useState(!1),_=$.useRef(null),[m,d]=$.useState(js);$.useEffect(()=>{if(!x)return;const S=C=>{_.current&&!_.current.contains(C.target)&&h(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[x]);const p=$.useMemo(()=>G2(r),[r]),y=$.useMemo(()=>{const S=new Set;S.add(a);for(const C of p)S.add(C);for(const C of m)S.add(C);return c.filter(C=>S.has(C.id))},[c,a,p,m]),N=$.useCallback(S=>{B2(S),d(js()),i(S)},[i]),b=f==="sm"?"h-4 w-4":"h-5 w-5",D=x?c:y;return s.jsx("div",{ref:_,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(S=>s.jsx("button",{className:`${b} rounded border-2 ${a===S.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>N(S.id)},S.id)),c.length>y.length&&s.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>h(S=>!S),title:x?"":"","aria-label":x?"":"",children:s.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:x?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function R2({project:c,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(f=>{const x=f.flowers.find(h=>h.id===a.id);x&&(x.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(i=>{const f=a.layers.every(x=>x.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(x=>{const h=x.flowers.find(_=>_.id===a.id);if(h)for(const _ of h.layers)_.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Xd.map(i=>{const f=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==i&&r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;h.placementMode=i;const _=h.fabricSquareSize??x.fabricSquareSize;i===""?h.baseDiameter=er(h.flowerDiameter):h.baseDiameter||(h.baseDiameter=x.baseDiameter),Lm(h.layers,_,i,h.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ue,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(f=>{const x=f.flowers.find(h=>h.id===a.id);x&&(x.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[er(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(f=>{const x=f.flowers.find(m=>m.id===a.id);if(!x)return;const h=ri(i);for(const m of x.layers)m.petalCount=i,m.widthScale=h;const _=[...x.layers].sort((m,d)=>d.order-m.order);for(let m=1;m<_.length;m++)_[m].offsetAngle=Fn(_[m-1].petalCount,_[m-1].offsetAngle,_[m].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(f=>{const x=f.flowers.find(_=>_.id===a.id);if(!x)return;x.flowerDiameter=i,x.placementMode===""&&(x.baseDiameter=er(i));const h=[...x.layers].sort((_,m)=>_.order-m.order);X0(h,x.fabricSquareSize??f.fabricSquareSize,i);for(const _ of h){const m=x.layers.find(d=>d.id===_.id);m&&(m.radius=_.radius,m.scale=_.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(f=>{const x=f.flowers.find(h=>h.id===a.id);if(x)for(const h of x.layers)h.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(f=>{const x=f.flowers.find(h=>h.id===a.id);x&&(x.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(f=>{const x=f.flowers.find(h=>h.id===a.id);if(x)for(const h of x.layers)h.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(f=>{const x=f.flowers.find(h=>h.id===a.id);if(x)for(const h of x.layers)if(i.target.checked){if(!h.doublePetal){const _=h._doublePetalCache;h.doublePetal=_??{innerSizeReduction:2},delete h._doublePetalCache}}else h.doublePetal&&(h._doublePetalCache={...h.doublePetal}),delete h.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(_=>_.doublePetal.innerSizeReduction))],f=i.length===1?i[0]:null,x=[...new Set(a.layers.map(_=>_.doublePetal.innerColorId??_.colorId))],h=x.length===1?x[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:_=>r(m=>{const d=m.flowers.find(p=>p.id===a.id);if(d)for(const p of d.layers)p.doublePetal&&(p.doublePetal.innerSizeReduction=Me(_,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:h??"",onChange:_=>r(m=>{const d=m.flowers.find(p=>p.id===a.id);if(d)for(const p of d.layers)p.doublePetal&&(_===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=_)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Ym.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const x=f.flowers.find(h=>h.id===a.id);x?.center&&(x.center.type=i,i===""&&!x.center.pepCount&&(x.center.pepCount=12),i===""&&!x.center.color2&&(x.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(f=>{const x=f.flowers.find(h=>h.id===a.id);x?.center&&(x.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(f=>{const x=f.flowers.find(h=>h.id===a.id);x?.center&&(x.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(f=>{const x=f.flowers.find(h=>h.id===a.id);x?.center&&(x.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(f=>{const x=f.flowers.find(h=>h.id===a.id);x?.center&&(x.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const f=i.flowers.find(x=>x.id===a.id);f&&delete f.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const f=i.flowers.find(x=>x.id===a.id);f&&(f.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(L2,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function k2({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:f,onAddToGroup:x,onMergeGroups:h}){const _=a,m=[...new Set(_.flatMap(y=>y.layers.map(N=>N.petalType)))],d=m.length===1?m[0]:null,p=y=>{r(N=>{for(const b of _){const D=N.flowers.find(S=>S.id===b.id);D&&y(D)}},!0)};return s.jsxs(ur,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[_.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(y=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:y.hex},title:y.name,onClick:()=>p(N=>{for(const b of N.layers)b.colorId=y.id})},y.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:gl.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(N=>{for(const b of N.layers)b.petalType=y}),children:y},y))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:_[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:y=>{const N=ri(y);p(b=>{for(const S of b.layers)S.petalCount=y,S.widthScale=N;const D=[...b.layers].sort((S,C)=>C.order-S.order);for(let S=1;S<D.length;S++)D[S].offsetAngle=Fn(D[S-1].petalCount,D[S-1].offsetAngle,D[S].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:_.map(y=>s.jsxs("div",{children:[y.name," (",y.layers.length,")"]},y.id))}),(()=>{const y=_.map(C=>ma(c,C.id)),N=_.filter(C=>!ma(c,C.id)).map(C=>C.id),b=[...new Set(y.filter(Boolean).map(C=>C.id))],D=N.length===_.length,S=b.length===1&&y.every(C=>C!=null);return s.jsxs(s.Fragment,{children:[D&&_.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(_.map(C=>C.id)),children:""}),S&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(b[0]),children:""}),b.length===1&&N.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>x(b[0],N),children:[" (+",N.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>h(b,N),children:[" (",b.length,"",N.length>0?` +${N.length}`:"",")"]})]})})()]})}function Y2({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:f,onUngroupFlowers:x}){const h=i.find(y=>y.id===f);if(!h)return null;const _=a,m=[...new Set(_.flatMap(y=>y.layers.map(N=>N.petalType)))],d=m.length===1?m[0]:null,p=y=>{r(N=>{for(const b of _){const D=N.flowers.find(S=>S.id===b.id);D&&y(D)}},!0)};return s.jsxs(ur,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:h.name,onChange:y=>r(N=>{const b=(N.groups??[]).find(D=>D.id===h.id);b&&(b.name=y.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[_.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(y=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:y.hex},title:y.name,onClick:()=>p(N=>{for(const b of N.layers)b.colorId=y.id})},y.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:gl.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(N=>{for(const b of N.layers)b.petalType=y}),children:y},y))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:_[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:y=>{const N=ri(y);p(b=>{for(const S of b.layers)S.petalCount=y,S.widthScale=N;const D=[...b.layers].sort((S,C)=>C.order-S.order);for(let S=1;S<D.length;S++)D[S].offsetAngle=Fn(D[S-1].petalCount,D[S-1].offsetAngle,D[S].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:_.map(y=>s.jsxs("div",{children:[y.name," (",y.layers.length,")"]},y.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>x(h.id),children:""})]})}function O2({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:f=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);_&&(_.name=f.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(f=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);_&&(_.petalType=f)}),children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:i.petalCount,onChange:f=>{r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);if(_){_.petalCount=f,_.widthScale=ri(f);const m=[...h.layers].sort((d,p)=>p.order-d.order);for(let d=1;d<m.length;d++)m[d].offsetAngle=Fn(m[d-1].petalCount,m[d-1].offsetAngle,m[d].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:1,max:200,step:.5,value:Math.round(tr(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:f=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);_&&(_.radius=Me(Em(f,_.scale??1,h.fabricSquareSize??x.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:f=>r(x=>{const h=x.flowers.find(y=>y.id===a.id);if(!h)return;const _=h.layers.find(y=>y.id===i.id);if(!_)return;const m=h.fabricSquareSize??x.fabricSquareSize;_.scale=Me(Math.round(f/m*100)/100,.3,3);const d=[...h.layers].sort((y,N)=>y.order-N.order),p=d.findIndex(y=>y.id===_.id);if(p>=0)for(let y=p-1;y>=0;y--){const N=d[y],b=d[y+1],S=Ht(m).length*(b.scale??1)/3;N.radius=Math.round((b.radius+S)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:f=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);_&&(_.scale=f)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:f=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);_&&(_.widthScale=f)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:Number(i.offsetAngle??0).toFixed(1),onChange:f=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);_&&(_.offsetAngle=f)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:f=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);_&&(_.colorId=f)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:f=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);if(_)if(f.target.checked){const m=_._doublePetalCache;_.doublePetal=m??{innerSizeReduction:2},delete _._doublePetalCache}else _.doublePetal&&(_._doublePetalCache={..._.doublePetal}),delete _.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:f=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);_?.doublePetal&&(_.doublePetal.innerSizeReduction=Me(f,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:f=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);_?.doublePetal&&(f===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=f)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:f=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);_&&(_.visible=f.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:f=>r(x=>{const h=x.flowers.find(m=>m.id===a.id);if(!h)return;const _=h.layers.find(m=>m.id===i.id);_&&(_.locked=f.target.checked)})}),""]})]})]})]})}function I2({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const f=i,x=f.map(C=>{const L=a.layers.find(G=>G.id===C.layerId);return{...C,layer:L}}).filter(C=>C.layer!=null),h=(C,L)=>{const G=a.layers.find(k=>k.id===C);return G?(G?.petalOverrides?.find(k=>k.index===L)??null)?.colorId??G.colorId:null},_=(C,L)=>{const G=a.layers.find(k=>k.id===C);return G?(G?.petalOverrides?.find(k=>k.index===L)??null)?.petalType??G.petalType:null},m=x.map(C=>h(C.layerId,C.index)),d=x.map(C=>_(C.layerId,C.index)),p=m.length>0&&m.every(C=>C===m[0]),N=d.length>0&&d.every(C=>C===d[0])?d[0]:null,b=C=>{r(L=>{const G=L.flowers.find(B=>B.id===a.id);if(G)for(const B of f){const k=G.layers.find(Z=>Z.id===B.layerId);if(!k)continue;k.petalOverrides||(k.petalOverrides=[]);const I=k.petalOverrides.find(Z=>Z.index===B.index);if(I)C.colorId!==void 0&&(C.colorId===k.colorId?delete I.colorId:I.colorId=C.colorId),C.petalType!==void 0&&(C.petalType===k.petalType?delete I.petalType:I.petalType=C.petalType),!I.colorId&&!I.petalType&&(k.petalOverrides=k.petalOverrides.filter(Z=>Z.index!==B.index),k.petalOverrides.length===0&&(k.petalOverrides=void 0));else{const Z={index:B.index};C.colorId!==void 0&&C.colorId!==k.colorId&&(Z.colorId=C.colorId),C.petalType!==void 0&&C.petalType!==k.petalType&&(Z.petalType=C.petalType),(Z.colorId!==void 0||Z.petalType!==void 0)&&k.petalOverrides.push(Z)}}},!0)},D=()=>{r(C=>{const L=C.flowers.find(G=>G.id===a.id);if(L)for(const G of f){const B=L.layers.find(k=>k.id===G.layerId);!B||!B.petalOverrides||(B.petalOverrides=B.petalOverrides.filter(k=>k.index!==G.index),B.petalOverrides.length===0&&(B.petalOverrides=void 0))}},!0)},S=x.some(C=>C.layer?.petalOverrides?.find(L=>L.index===C.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",S&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(C=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${p&&m[0]===C.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:C.hex},title:C.name,"aria-label":`: ${C.name}`,onClick:()=>b({colorId:C.id})},C.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(C=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${N===C?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:C}),children:C},C))})]}),S&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function H2({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:f}){const x=i?.petalOverrides?.find(y=>y.index===f)??null,h=x?.colorId??i.colorId,_=x?.petalType??i.petalType,m=x!=null,d=y=>{r(N=>{const b=N.flowers.find(C=>C.id===a.id);if(!b)return;const D=b.layers.find(C=>C.id===i.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const S=D.petalOverrides.find(C=>C.index===f);if(S)y.colorId!==void 0&&(S.colorId=y.colorId),y.petalType!==void 0&&(S.petalType=y.petalType),y.innerColorId!==void 0&&(S.innerColorId=y.innerColorId),y.innerSizeReduction!==void 0&&(S.innerSizeReduction=y.innerSizeReduction),S.colorId!==void 0||S.petalType!==void 0||S.innerColorId!==void 0||S.innerSizeReduction!==void 0?(S.colorId===void 0&&delete S.colorId,S.petalType===void 0&&delete S.petalType,S.innerColorId===void 0&&delete S.innerColorId,S.innerSizeReduction===void 0&&delete S.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(L=>L.index!==f),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const C={index:f};y.colorId!==void 0&&(C.colorId=y.colorId),y.petalType!==void 0&&(C.petalType=y.petalType),y.innerColorId!==void 0&&(C.innerColorId=y.innerColorId),y.innerSizeReduction!==void 0&&(C.innerSizeReduction=y.innerSizeReduction),(C.colorId!==void 0||C.petalType!==void 0||C.innerColorId!==void 0||C.innerSizeReduction!==void 0)&&D.petalOverrides.push(C)}},!0)},p=()=>{r(y=>{const N=y.flowers.find(D=>D.id===a.id);if(!N)return;const b=N.layers.find(D=>D.id===i.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(D=>D.index!==f),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",f+1,m&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:h,onChange:y=>{y===i.colorId?d({colorId:void 0}):d({colorId:y})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${_===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{y===i.petalType?d({petalType:void 0}):d({petalType:y})},children:y},y))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:y=>r(N=>{const b=N.flowers.find(S=>S.id===a.id);if(!b)return;const D=b.layers.find(S=>S.id===i.id);if(D)if(y.target.checked){const S=D._doublePetalCache;D.doublePetal=S??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const y=i.doublePetal,N=x?.innerSizeReduction??y.innerSizeReduction,b=x?.innerColorId??y.innerColorId??h;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",x?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ue,{min:1,max:30,step:1,value:N,onChange:D=>{const S=Me(D,1,30);S===y.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:S})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:b,size:"sm",onChange:D=>{const S=y.innerColorId??i.colorId;d(D===S?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),m&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:p,children:""})]})]})}function U2({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const f=a,x=h=>{r(_=>{const m=(_.stencils??[]).find(d=>d.id===f.id);m&&Object.assign(m,h)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:h=>x({variant:h.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(h=>s.jsx("option",{value:h,children:Qd[h]},h))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:h=>x({pose:h.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(h=>s.jsx("option",{value:h,children:Pd[h]},h))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:h=>x({locked:h.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Z2({project:c,applyUpdate:r,selectedLeaf:a,leafGroups:i,onDeleteLeaf:f,onAddLeafToGroup:x,onRemoveLeafFromGroup:h}){const _=a,m=p=>{r(y=>{const N=(y.leaves??[]).find(b=>b.id===_.id);N&&p(N)},!0)},d=K0(c,_.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:_.name,onChange:p=>m(y=>{y.name=p.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(p=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${_.petalType===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>m(y=>{y.petalType=p}),children:p},p))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:_.colorId,onChange:p=>m(y=>{y.colorId=p})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((_.fabricSquareSize??c.fabricSquareSize)*(_.scale??1)*10)/10,onChange:p=>m(y=>{const N=y.fabricSquareSize??c.fabricSquareSize;y.scale=Me(Math.round(p/N*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(_.scale??1).toFixed(2),onChange:p=>m(y=>{y.scale=p})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(_.widthScale??1).toFixed(2),onChange:p=>m(y=>{y.widthScale=p})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ue,{value:Number(_.rotation).toFixed(1),onChange:p=>m(y=>{y.rotation=p})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!_.doublePetal,onChange:p=>m(y=>{if(p.target.checked){const N=y._doublePetalCache;y.doublePetal=N??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),_.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:_.doublePetal.innerSizeReduction,onChange:p=>m(y=>{y.doublePetal&&(y.doublePetal.innerSizeReduction=Me(p,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:_.doublePetal.innerColorId??_.colorId,onChange:p=>m(y=>{y.doublePetal&&(p===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=p)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!_.visible,onChange:p=>m(y=>{y.visible=p.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!_.locked,onChange:p=>m(y=>{y.locked=p.target.checked})}),""]})]}),d?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>h(_.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:p=>{p.target.value&&x(_.id,p.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(_.id),children:""})]})]})}function K2({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i}){const f=(c.leaves??[]).filter(x=>a.includes(x.id));return f.length===0?null:s.jsxs(ur,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[f.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:"",onChange:x=>r(h=>{for(const _ of a){const m=(h.leaves??[]).find(d=>d.id===_);m&&(m.colorId=x)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(x=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(h=>{for(const _ of a){const m=(h.leaves??[]).find(d=>d.id===_);m&&(m.petalType=x)}},!0),children:x},x))}),a.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""})]})}function X2({project:c,applyUpdate:r,selectedLeafGroup:a,onUngroupLeaves:i}){const f=a,x=(c.leaves??[]).filter(h=>f.leafIds.includes(h.id));return s.jsxs(ur,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:f.name,onChange:h=>r(_=>{const m=(_.leafGroups??[]).find(d=>d.id===f.id);m&&(m.name=h.target.value)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ue,{value:Number(f.rotation).toFixed(1),onChange:h=>r(_=>{const m=(_.leafGroups??[]).find(d=>d.id===f.id);m&&(m.rotation=h)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:f.linkedFlowerGroupId??"",onChange:h=>r(_=>{const m=(_.leafGroups??[]).find(d=>d.id===f.id);m&&(h.target.value?m.linkedFlowerGroupId=h.target.value:delete m.linkedFlowerGroupId)},!0),children:[s.jsx("option",{value:"",children:""}),(c.groups??[]).map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))]})]}),s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[x.length,""]}),s.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:x.map(h=>s.jsx("div",{children:h.name},h.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>i(f.id),children:""})]})}function J2(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:f,selectedFlowers:x,selectedLayer:h,selectedPetalIndex:_,selectedPetals:m}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:d=>i(p=>p.title=d.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{value:r.fabricSquareSize,min:5,max:60,onChange:d=>i(p=>p.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{value:r.baseDiameter,min:10,max:100,onChange:d=>i(p=>p.baseDiameter=d),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Zl(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",Zl(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:d=>i(p=>p.notes=d.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(d=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&f&&s.jsx(R2,{project:r,applyUpdate:i,selectedFlower:f}),a.kind==="flowers"&&x.length>0&&s.jsx(k2,{project:r,applyUpdate:i,selectedFlowers:x,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&x.length>0&&s.jsx(Y2,{project:r,applyUpdate:i,selectedFlowers:x,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers}),a.kind==="layer"&&f&&h&&s.jsx(O2,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:h}),a.kind==="petals"&&f&&m.length>0&&s.jsx(I2,{project:r,applyUpdate:i,selectedFlower:f,selectedPetals:m}),a.kind==="petal"&&f&&h&&_!==null&&s.jsx(H2,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:h,selectedPetalIndex:_}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(U2,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(Z2,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,leafGroups:c.leafGroups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(K2,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves}),a.kind==="leafGroup"&&c.selectedLeafGroup&&s.jsx(X2,{project:r,applyUpdate:i,selectedLeafGroup:c.selectedLeafGroup,onUngroupLeaves:c.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!f?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function V2(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Zl(c.baseDiameter,c.fabricSquareSize,r).diameter:lr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function W2(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Dm(c.flowerDiameter,c.baseDiameter,r):zm(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function Q2({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:f}){const x=m=>{a(d=>{const p={...d,...m};return m.placementMode&&m.placementMode!==d.placementMode&&(m.placementMode===""?(p.baseDiameter=30,p.fabricSquareSize=20,p.layerCount=4,p.petalCount=12):(p.fabricSquareSize=20,p.layerCount=1,p.petalCount=6)),p.flowerDiameter=V2(p),p})},h=m=>{a(d=>{const p={...d,flowerDiameter:m};return p.fabricSquareSize=W2(p),p})},_=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&_.push("");const m=Nm(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>m&&_.push(`${m}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:m=>m.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Xd.map(m=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>x({placementMode:m}),children:m},m))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:m=>x({fabricSquareSize:m})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:m=>x({layerCount:m})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:m=>x({baseDiameter:m})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:m=>a(d=>({...d,petalCount:m}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:h})]})]}),_.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:_.map((m,d)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:m},d))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(m=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===m.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:m.hex},title:m.name,"aria-label":`: ${m.name}`,onClick:()=>a(d=>({...d,colorId:m.id}))},m.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:gl.map(m=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:m})),children:m},m))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>x({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>x({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:m=>x({sizeStepMm:m})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}const J0=Jt;(function(c,r){const a=Jt,i=c();for(;;)try{if(-parseInt(a(407))/1*(parseInt(a(431))/2)+parseInt(a(404))/3+parseInt(a(419))/4+-parseInt(a(406))/5+parseInt(a(438))/6+-parseInt(a(385))/7+parseInt(a(409))/8*(parseInt(a(410))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,664908);const P2=(function(){const c={AcJmk:function(a,i){return a-i},xVgiP:function(a,i){return a<i},FRDUr:function(a,i){return a!==i},dNUBR:"SIQRi"};let r=!0;return function(a,i){const f=Jt,x={nbIZF:function(h,_){return c.AcJmk(h,_)},qWCZX:function(h,_){return c.xVgiP(h,_)},XuQNA:function(h,_){return h/_}};if(c[f(397)](c.dNUBR,"ICNmn")){const h=r?function(){const _=f;if(i){const m=i[_(415)](a,arguments);return i=null,m}}:function(){};return r=!1,h}else{let h=_0xe623df[f(388)](_0x1ca164,_0x2f1982),_=_0x3ff222[f(388)](_0x33c45c,_0x33d103);const m=x.nbIZF(100,h)-_;if(x.qWCZX(m,_0x57f2f9)){const d=x[f(383)](_0x18d8a1,m);h-=x.XuQNA(d,2),_-=x.XuQNA(d,2),h=_0x1da80e[f(388)](_0x7b0257,h),_=_0x2920ce.max(_0xde9b19,_)}return{left:x[f(393)](_0x1c03d7.round(h*100),100),right:_0x53844a.round(_*100)/100}}}})(),zs=P2(void 0,function(){const c=Jt,r={UIOIn:"(((.+)+)+)+$"};return zs.toString().search(r[c(427)])[c(399)]().constructor(zs).search(c(416))});function Jt(c,r){c=c-378;const a=O0();let i=a[c];if(Jt.BpplRf===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Jt.bwEqEf=f,Jt.yhIeVn={},Jt.BpplRf=!0}const x=a[0],h=c+x,_=Jt.yhIeVn[h];if(_)i=_;else{const m=function(d){this.SHBcXA=d,this.hwoRpn=[1,0,0],this.zLdCHQ=function(){return"newState"},this.qRKSpb="\\w+ *\\(\\) *{\\w+ *",this.KuKldL=`['|"].+['|"];? *}`};m.prototype.PrndJr=function(){const d=new RegExp(this.qRKSpb+this.KuKldL),p=d.test(this.zLdCHQ.toString())?--this.hwoRpn[1]:--this.hwoRpn[0];return this.gHrxzb(p)},m.prototype.gHrxzb=function(d){return~d?this.tcwibQ(this.SHBcXA):d},m.prototype.tcwibQ=function(d){for(let p=0,y=this.hwoRpn.length;p<y;p++)this.hwoRpn.push(Math.round(Math.random())),y=this.hwoRpn.length;return d(this.hwoRpn[0])},new m(Jt).PrndJr(),i=Jt.bwEqEf(i),Jt.yhIeVn[h]=i}return i}zs();const $d=J0(433),e1={left:25,right:25},Ds=15,Ns=15,rr=30;function F2(){const c=J0,r={jwQZj:function(a,i){return a===i},DPyfS:"number",uCQtb:function(a,i){return a-i}};try{const a=localStorage[c(386)]($d);if(a){const i=JSON[c(436)](a);if(typeof i.left===c(434)&&r.jwQZj(typeof i.right,r[c(417)])&&i.left>=Ds&&i[c(398)]>=Ns&&r.uCQtb(100-i.left,i.right)>=rr)return i}}catch{}return e1}function Hd(c,r){const a=J0,i={NDeDB:function(_,m){return _-m},XuGIN:function(_,m){return _-m},nnxIU:function(_,m){return _*m},eUkis:function(_,m){return _/m}};let f=Math[a(388)](Ds,c),x=Math.max(Ns,r);const h=i.NDeDB(i[a(400)](100,f),x);if(h<rr){const _=i.NDeDB(rr,h);f-=_/2,x-=_/2,f=Math.max(Ds,f),x=Math[a(388)](Ns,x)}return{left:Math.round(i.nnxIU(f,100))/100,right:i[a(435)](Math.round(x*100),100)}}function O0(){const c=["z2v0sxrLBq","vfzUD2S","Bwf4","CMvTB3zLrxzLBNrmAxn0zw5LCG","BM9Uzq","wKTstM0","vhjLCMq","whvrtKe","quzvuNO","qLPLv20","y3vYCMvUDa","rLjevxi","CMLNAhq","Dg9tDhjPBMC","whvhsu4","Cg9PBNrLCNvW","mNWXFdn8mhW0Fdu","u1Htt3m","mJe0otG1n0P0uNjmzW","zvvoruy","nJiWoteWmgzYse1UDG","mwr4y1z0va","BwzHBfq","mJaYnfjWr0H5za","ndu4odjMCeDLDxq","q0netNa","C2vMsNu","DxnLCLnLBgvJDa","y1bwt3u","yxbWBhK","kcGOlISPkYKRksSK","rfb5zLm","Evj4r2C","mtG0nda3nLfjrwHnwa","y2HHBMDL","kg1PBI13Awr0AdOGnZy4ChGP","C2v0sxrLBq","C3bSAxq","DK1xDgq","ywrKrxzLBNrmAxn0zw5LCG","Cg9PBNrLCM1VDMu","vuLpsw4","BgvMDa","BwLU","A3fkAvu","mtyXoda0mNbPwMfZyW","y3vYC29Y","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","BNvTyMvY","zvvRAxm","CgfYC2u","C3r5Bgu","mJG2odCWoeffvejNBG","ANzcr1u","yM9KEq","y2XPzw50wa","C2LKzq","uLrXDK4","Bwf0y2HnzwrPyq","BMjjwKy","C3rHCNrxAwr0Ahm","mtyWodyWn2jJCu9hta"];return O0=function(){return c},O0()}function $2(){const c=J0,r={YyxMj:c(420),SXSOs:function(D,S){return D===S},cPVOu:"OrMtU",RTqvN:c(401),TVnwk:function(D,S){return D-S},jvBGU:function(D,S){return D/S},aUlHZ:"left",vMWtd:function(D,S){return D(S)},Trerd:"pointermove",GMcWv:function(D,S){return D(S)},mfalT:function(D,S){return D(S)},qzAbe:function(D,S,C){return D(S,C)},ZKRNm:function(D,S){return D(S)},CCDNp:function(D,S,C){return D(S,C)}},[a,i]=r.mfalT($.useState,F2),f=$.useRef(null),x=$.useRef(null),[h,_]=$.useState(!1),[m,d]=r[c(408)]($.useState,()=>typeof window<"u"?window.matchMedia(c(421)).matches:!0);r.qzAbe($.useEffect,()=>{const D=c,S=window[D(382)]("(min-width: 768px)"),C=L=>d(L.matches);return S.addEventListener(r.YyxMj,C),()=>S[D(389)](D(420),C)},[]),r.qzAbe($.useEffect,()=>{const D=c;if(r[D(403)]("CqpCU",r[D(414)]))return()=>{const S=D;_0xebcddb[S(396)]?.()};localStorage[D(422)]($d,JSON.stringify(a))},[a]);const p=$.useRef(a);$.useEffect(()=>{const D=c;p[D(396)]=a},[a]);const y=$.useCallback((D,S)=>{const C=c,L={sefJu:function(I,Z){return r[Jt(387)](I,Z)},yRxGg:function(I,Z){return I*Z},AFURz:function(I,Z){return r[Jt(439)](I,Z)},BZeWm:r.aUlHZ,eUNEF:function(I,Z){return I-Z},HzicE:function(I,Z){return r[Jt(424)](I,Z)},kqJiU:function(I,Z,R){return I(Z,R)}};S.preventDefault();const G=f[C(396)];if(!G)return;x.current={side:D,startX:S.clientX,startWidths:{...p.current}},_(!0),document.body.style[C(432)]="col-resize",document.body.style.userSelect=C(390);const B=I=>{const Z=C,R=x.current;if(!R)return;const K=G.getBoundingClientRect().width;if(K===0)return;const F=L[Z(412)](I[Z(379)],R.startX),Q=L[Z(418)](L[Z(394)](F,K),100);if(R[Z(380)]===L[Z(395)]){const X=R[Z(384)][Z(428)]+Q,v=L[Z(405)](100-R[Z(384)].right,rr);L.HzicE(i,L[Z(430)](Hd,Math[Z(429)](X,v),R[Z(384)][Z(398)]))}else{const X=R.startWidths[Z(398)]-Q,v=L.eUNEF(100,R[Z(384)][Z(428)])-rr;i(Hd(R[Z(384)].left,Math[Z(429)](X,v)))}},k=()=>{const I=C;x[I(396)]=null,_(!1),document.body[I(437)].cursor="",document[I(378)].style.userSelect="",window[I(389)]("pointermove",B),window[I(389)]("pointerup",k)};window[C(425)](r[C(392)],B),window.addEventListener(r[C(381)],k),N[C(396)]=()=>{const I=C,Z=I(402)[I(423)]("|");let R=0;for(;;){switch(Z[R++]){case"0":_(!1);continue;case"1":window.removeEventListener(r[I(381)],k);continue;case"2":window[I(389)](I(426),B);continue;case"3":x[I(396)]=null;continue;case"4":document.body.style.cursor="";continue;case"5":document.body[I(437)][I(413)]="";continue}break}}},[]),N=r[c(391)]($.useRef,null);r[c(411)]($.useEffect,()=>()=>{N.current?.()},[]);const b=$.useCallback(()=>{r.GMcWv(i,e1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:y,onDividerDoubleClick:b,isDragging:h,isDesktop:m}}function Ud({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>r(c,f),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}(function(c,r){const a=Et,i=c();for(;;)try{if(-parseInt(a(249))/1+-parseInt(a(306))/2+-parseInt(a(334))/3*(parseInt(a(273))/4)+parseInt(a(392))/5*(-parseInt(a(353))/6)+parseInt(a(337))/7+-parseInt(a(254))/8*(parseInt(a(315))/9)+-parseInt(a(342))/10*(-parseInt(a(308))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,781857);function I0(){const c=["C2vHCMnO","suDvzgK","ChjVAMvJDa","wxfXC2G","CK5TBhe","z2zgD1q","z3jW","shnsswK","zMXVD2vYCW","yNPXwLe","Afjuv00","C3rLBMnPBa","Aw5JBhvKzxm","wfD5uu0","AerSvg4","AhHRtei","t3v0zxiR","BgvHzKLKCW","nJqWndGYsMjIANvr","txzfrvG","oteZBuPwtMz6","CuzzqKW","uwjYEMW","C3rLBMnPBeLK","wMH3wwq","BwTrrhm","BKPKDve","nJnUrNfkCMi","Dw5ZAgLMDa","Bwf4","tLfJrKm","5lI444gK44g+44g/","run4zfq","Bgf5zxjjza","zMXVD2vYswq","vfHLCNy","yKveB0q","CgXHy2vTzw50tw9Kzq","tLj6v3m","sfPLD2K","y29UC3rYDwn0B3i","Cgv0ywW","C29YDa","C3HruMy","s2LmB04","z3jVDxa","mtjXyNjwr2C","uw5UD0O","A1HOALq","nZa5ndK5meXJveDzsq","BgvHDMvZ","rxPLtMq","y29Sx2DYzwvU","y25pr1C","ntqWoteWCe95uujQ","EKDLzxa","tg1itwy","kcGOlISPkYKRksSK","EuLlALy","z1bfz1O","C3rS","zhvTvwS","ywjZ","C1fwrMy","BNbNtMW","mtG2rMflyxvv","EgDdr2S","venKD1y","C3rLBMnPBhm","z3jVDxbZ","svPHv0y","zgLHBwv0zxi","AvDHv0W","y2Pbv0W","CevYqwu","t3riuKW","BgvHzKLK","C2nHBgu","vhnouhy","zMXVD2vYrgLHBwv0zxi","B2zMC2v0qw5NBgu","yMfZzurPyw1LDgvY","zxzLCNK","Be1QC0O","vev0s2W","AgvPz2H0","qxnxA2G","serWq3G","zMLUza","AeH6y2G","zMvYse8","Aw5KzxG","BLrUvfO","vhHlsLu","AfzfBMK","zMLSDgvY","uLz6DfO","y1DgDwy","z0DcCu0","wwv5q08","ChD2q1G","44kW44oR44o844oxia","BgvUz3rO","B2noEuK","mJmXody1zKjJwxbm","BuvWyMW","BvDlChG","zMXVD2vY","Cgv0ywXZ","t0jRDgi","BvviqMK","yMfJAW","ve1gy1m","mtq0odmWnwjiC0rrvW","BefAuwC","CeXfqLm","Ag1lC0y","A2LUza","mtKZmJa4EhvvC0rj","y3PlC08","B3jKzxi","q3niwKW","Cff5re4","r1veve4","zMfICMLJu3f1yxjLu2L6zq","CMfKAxvZ","EgTbsNi","Bgnsyu8","zhbKDKO","CM91BMq","vujTtuC","zMXVD2vYswrZ","Cgv0ywXdB3vUDa","CMv2zxjZzq","BgvHzKDYB3vWCW","y2fgvvm","CwntAve","mtm0nJeWmhbszg5SDa","BwfW","Dw5PzM9YBq","s05Pu0G","CNftDvq","y0PlAKy","ChvZAa","AePhDee","q1vMyvm","zM9YrwfJAa","Bgf5zxjZ","C2XPy2u","Cgv0ywXuExbL","Bu9wD28","Awvswwy"];return I0=function(){return c},I0()}const eb=(function(){const c={QQxHS:"KrumI"};let r=!0;return function(a,i){const f=r?function(){const x=Et;if(i)if(x(259)===c.QQxHS){const h=_0x377c24.layers[x(376)](_=>_.id===_0x37bcd8.id);h&&(h.radius=_0x2ef7ab[x(261)])}else{const h=i.apply(a,arguments);return i=null,h}}:function(){};return r=!1,f}})(),As=eb(void 0,function(){const c=Et,r={lcRaO:c(345)};return As.toString().search(r[c(263)]).toString()[c(328)](As)[c(288)]("(((.+)+)+)+$")});As();function Et(c,r){c=c-246;const a=I0();let i=a[c];if(Et.aoLQdc===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Et.TcToiO=f,Et.TFMCoZ={},Et.aoLQdc=!0}const x=a[0],h=c+x,_=Et.TFMCoZ[h];if(_)i=_;else{const m=function(d){this.RvYuJX=d,this.DMtreG=[1,0,0],this.ezEbNu=function(){return"newState"},this.KeGkjJ="\\w+ *\\(\\) *{\\w+ *",this.gUxKgm=`['|"].+['|"];? *}`};m.prototype.VNknJI=function(){const d=new RegExp(this.KeGkjJ+this.gUxKgm),p=d.test(this.ezEbNu.toString())?--this.DMtreG[1]:--this.DMtreG[0];return this.yssfrt(p)},m.prototype.yssfrt=function(d){return~d?this.FlZSwM(this.RvYuJX):d},m.prototype.FlZSwM=function(d){for(let p=0,y=this.DMtreG.length;p<y;p++)this.DMtreG.push(Math.round(Math.random())),y=this.DMtreG.length;return d(this.DMtreG[0])},new m(Et).VNknJI(),i=Et.TcToiO(i),Et.TFMCoZ[h]=i}return i}function tb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:f,setExpandedGroups:x,zoom:h,pan:_,stageSize:m,CANVAS_MAX_SVG:d,deleteLeafById:p,ungroupLeaves:y}){const N=Et,b={ocNyI:function(v,M){return v===M},lvvhM:"stencil",QYomK:function(v,M){return v(M)},ferHO:"project",KNiSH:function(v,M){return v*M},CUfaS:N(327),chsUu:function(v,M){return v/M},EWHcq:function(v,M){return v*M},ZhwYd:function(v,M){return v*M},hmKsF:function(v,M){return v(M)},TEtKl:function(v,M,z){return v(M,z)},pLEBS:function(v,M,z,j){return v(M,z,j)},qcSiQ:function(v,M){return v===M},lAZQg:function(v,M){return v-M},OLFjc:function(v,M){return v<M},mUHBi:function(v,M){return v>=M},iWaWL:function(v,M){return v-M},ZNybL:function(v,M){return v-M},mOVwo:function(v,M){return v+M},FNIub:"lay",gGBqM:N(304),gPEgZ:"layer",pErAe:function(v,M){return v>M},pwvCX:function(v,M){return v===M},EzeNd:N(313),oGIAV:function(v,M,z){return v(M,z)},hJGtA:N(255),NAUaO:function(v,M,z,j){return v(M,z,j)},ECxdT:function(v,M){return v-M},QKKjp:function(v,M){return v===M},NRzWs:function(v,M){return v!==M},nmPAh:"TMFcS",yIKjV:N(395),pQyDN:function(v,M){return v!==M},aJnKP:function(v,M){return v*M},HsRIi:function(v,M){return v*M},nJduQ:function(v,M){return v>M},YeyCO:function(v,M){return v!==M},kZsDR:N(377),cnOGW:function(v,M,z,j,w){return v(M,z,j,w)},rNmlq:function(v,M){return v<M},QESJp:function(v,M){return v!==M},sQVFf:function(v,M){return v===M},YEITU:"leaf",MDXnK:"leafGroup",ieRYf:N(309),kXhjT:N(338),mWKpx:function(v,M){return v(M)},KiLoN:"group",UBmMG:N(396),eJDHp:function(v,M){return v!==M},HDpCx:"WjGwT",sxQRf:function(v,M){return v===M},UBeCI:function(v,M){return v(M)},hceOt:"xqvph",LmHMf:N(318),vtEiJ:function(v,M){return v(M)},YwBci:function(v,M){return v(M)},BUVCg:function(v,M){return v===M},QnnwJ:function(v,M){return v(M)},caFUS:function(v,M){return v!==M},RMBmq:function(v,M){return v/M},lMjsJ:function(v,M){return v/M},nTnTZ:function(v,M){return v*M},OtHRL:function(v,M){return v/M},lVNxj:"back",GhPsv:function(v,M,z,j){return v(M,z,j)},dumUk:function(v,M,z){return v(M,z)},mtoIA:function(v,M){return v!==M},vsKby:function(v,M){return v===M},hVEni:function(v,M){return v(M)},POcwt:N(301),TxKJU:function(v,M){return v===M},gVTct:"flowers",cJKjF:function(v,M){return v!==M},ylVHi:N(277),hEtjX:function(v,M){return v===M},IGUdi:function(v,M){return v(M)},ZlGMv:function(v,M){return v(M)},QkDEP:function(v,M){return v!==M},NGhhl:"Scujg",mEpbl:function(v,M){return v(M)},aFZmV:function(v,M){return v(M)},kEIQB:function(v,M){return v===M},wVgJY:N(329),jONnU:function(v,M,z){return v(M,z)}},D=v=>{const M=N,z=[...v[M(283)]].sort((O,A)=>O[M(256)]-A.order),j=z[0];if(!j)return 28;const w=v[M(260)]??c.fabricSquareSize,{length:E}=b.QYomK(Ht,w),q=b[M(276)](E,j[M(365)]??1);let V;if(v[M(325)]==="")b[M(391)](M(397),b[M(281)])?(_0x47c705(O=>{const A=M;O[A(356)]=(O.stencils??[]).filter(Y=>Y.id!==_0x266578)},!0),b[M(391)](_0xe0e63c[M(253)],b.lvvhM)&&_0x5336c9[M(311)]===_0x4d6694&&b.QYomK(_0x1c4495,{kind:b.ferHO})):V=b.chsUu(q,3);else{const A=70*Math.PI/180,Y=z[M(390)]+1,H=Y-1,W=Y>1?b[M(276)](H/(Y-1),A):0;V=b.EWHcq(q*b.chsUu(30,100),Math.cos(W))}return Math.round(b[M(312)]((j[M(261)]??28)+V,10))/10},S=v=>{const M=N;r(z=>{const j=Et;if(z.flowers=(z.flowers||[]).filter(w=>w.id!==v),z.groups){for(const w of z.groups)w.flowerIds=w.flowerIds.filter(E=>E!==v);z[j(357)]=z[j(357)][j(383)](w=>w[j(267)][j(390)]>0)}},!0),i({kind:b[M(378)]}),f(z=>{const j={...z||{}};return delete j[v],j})},C=(v,M)=>{const z=N,j=c[z(296)].find(w=>w.id===v);if(j&&(j.layers||[])[z(390)]<=1){b.hmKsF(S,v);return}b[z(372)](r,w=>{const E=z,q=(w.flowers||[])[E(376)](V=>V.id===v);q&&(q[E(283)]=(q[E(283)]||[])[E(383)](V=>V.id!==M),q.layers.slice()[E(330)]((V,O)=>V[E(256)]-O.order)[E(282)]((V,O)=>V.order=O+1))},!0),i({kind:"flower",flowerId:v})},L=v=>{const M=N,z=c[M(296)][M(376)](H=>H.id===v);if(!z)return;const j=[...z[M(283)]].sort((H,W)=>H[M(256)]-W[M(256)]),w=j[0],E=Me(w?.petalCount??6,5,24),q=j[M(274)](H=>H[M(365)]??1),V=b.OLFjc(q[M(390)],2)||q[M(370)](H=>Math[M(350)](H-q[0])<.001);let O=w?.scale??1;if(!V&&b[M(246)](j.length,2)){const H=j[j[M(390)]-1],W=b[M(360)](H[M(256)]??1,w.order??1);if(W>0){const ae=b.chsUu(b.ZNybL(w.scale??1,H[M(365)]??1),W);O=Me(b[M(286)](w.scale??1,ae),.3,3)}}const A=D(z),Y={id:It(b.FNIub),name:b[M(386)],order:1,petalType:w?.[M(285)]??M(319),petalCount:E,radius:A,scale:O,widthScale:ri(E),offsetAngle:w?.offsetAngle??0,colorId:w?.colorId??c.palette?.[0]?.id??M(340),visible:!0,locked:!1};w&&(Y.offsetAngle=b.pLEBS(Fn,w.petalCount,w[M(368)]??0,E)),b[M(372)](r,H=>{const W=M,ae=H[W(296)][W(376)](he=>he.id===v);if(!ae)return;ae.layers.forEach(he=>he.order+=1),ae.layers.unshift(Y);const oe=Math[W(265)](b.pLEBS(tr,Y.radius,Y[W(365)],ae[W(260)]??H.fabricSquareSize)),fe=ae[W(260)]??H[W(260)],_e=b.qcSiQ(ae.placementMode,"")?lr(fe,ae[W(283)].length,"uniform",0):b.pLEBS(Zl,ae.baseDiameter??H.baseDiameter,fe,{layerCount:ae.layers[W(390)]}).diameter;ae[W(367)]=Math[W(317)](ae.flowerDiameter||_e,oe);const xe=[...ae[W(283)]].sort((he,Re)=>he[W(256)]-Re.order),me=xe[W(269)]();for(let he=1;he<me.length;he++){const Re=me[b[W(250)](he,1)],it=me[he];it[W(368)]=b[W(251)](Fn,Re[W(268)],Re.offsetAngle,it.petalCount)}},!0),i({kind:b[M(347)],flowerId:v,layerId:Y.id}),f(H=>({...H,[v]:!0}))},G=v=>{const M=N,z=c.flowers.find(E=>E.id===v);if(!z||!z[M(283)]||b.qcSiQ(z.layers[M(390)],0))return;if(z[M(283)].length<=1){S(v);return}const j=[...z[M(283)]].sort((E,q)=>E.order-q.order),w=j[0];w&&(r(E=>{const q=M,V={KjZNc:function(O,A){return b[Et(252)](O,A)}};if(q(291)===q(374)){const O=_0x36e2a8[q(296)].find(oe=>oe.id===_0x3d5e37);if(!O)return;O.layers[q(282)](oe=>oe[q(256)]+=1),O[q(283)][q(316)](_0x378430);const A=_0x594fa8[q(265)](_0x4bb175(_0x47d8cf.radius,_0x183eee.scale,O[q(260)]??_0x461c85.fabricSquareSize)),Y=O[q(260)]??_0x7f9946.fabricSquareSize,H=XCmyiI[q(302)](O[q(325)],"")?_0x3f4e6c(Y,O.layers.length,q(275),0):XCmyiI.xgCGk(_0xd53790,O[q(369)]??_0x3a1c62[q(369)],Y,{layerCount:O[q(283)][q(390)]})[q(359)];O[q(367)]=_0x4cd36f[q(317)](O.flowerDiameter||H,A);const W=[...O.layers].sort((oe,fe)=>oe.order-fe[q(256)]),ae=W.reverse();for(let oe=1;oe<ae.length;oe++){const fe=ae[XCmyiI[q(385)](oe,1)],_e=ae[oe];_e.offsetAngle=XCmyiI[q(354)](_0xdb4042,fe.petalCount,fe[q(368)],_e.petalCount)}}else{const O=E[q(296)][q(376)](H=>H.id===v);if(!O)return;O[q(283)]=O[q(283)][q(383)](H=>H.id!==w.id),O[q(283)][q(284)]()[q(330)]((H,W)=>H.order-W.order)[q(282)]((H,W)=>H[q(256)]=W+1);const A=[...O[q(283)]][q(330)]((H,W)=>H[q(256)]-W[q(256)]),Y=O[q(260)]??E.fabricSquareSize;if(b[q(362)](A[q(390)],0))if(b.pwvCX(b[q(339)],b.EzeNd)){b.oGIAV(ds,A,Y);for(const ae of A){const oe=O.layers.find(fe=>fe.id===ae.id);oe&&(oe.radius=ae[q(261)])}const H=A[0];O[q(367)]=Math[q(265)](tr(H[q(261)],H.scale??1,Y));const W=[...A].reverse();for(let ae=1;ae<W.length;ae++)if(b[q(280)]!=="czKsO"){if(_0x4ef21d.flowerId===_0x15833f)return;V.KjZNc(_0x2498fe,{kind:q(296),flowerIds:[_0x523bd9.flowerId,_0x45a571]})}else{const oe=W[ae-1],fe=W[ae];fe.offsetAngle=b.NAUaO(Fn,oe.petalCount,oe[q(368)],fe.petalCount)}}else _0x5ea32a.stencils||(_0x2a9b22[q(356)]=[]),_0x587531.stencils[q(279)](_0x1ab2f7)}},!0),b.QKKjp(a.kind,b.gPEgZ)&&a.layerId===w.id?b[M(326)](M(248),b.nmPAh)?(_0x41c4e7(E=>{const q=M;E[q(357)]&&(E.groups=E[q(357)][q(383)](V=>V.id!==_0x2f67b5))},!0),_0x152037({kind:"project"})):i({kind:"flower",flowerId:v}):a[M(253)]===M(329)&&b[M(391)](a[M(321)],w.id)&&i({kind:b.yIKjV,flowerId:v}))},B=()=>{const v=N,M={bEDoD:function(z,j){return z(j)},bzqZQ:function(z,j){return z===j},JraKF:function(z,j){return b[Et(314)](z,j)},xkAJr:function(z,j,w){return z(j,w)},MvEEX:function(z,j,w,E){return z(j,w,E)},JKRKC:function(z,j){return b[Et(387)](z,j)},NaFaU:b.kZsDR,QpvDJ:function(z,j,w,E,q){return b[Et(341)](z,j,w,E,q)},zbwOs:v(275),yPZeP:function(z,j){return b[v(292)](z,j)},gfFwT:function(z,j){return b.QESJp(z,j)},TsNPv:function(z,j){return b.ECxdT(z,j)},Zighu:function(z,j,w,E){return z(j,w,E)}};if(!b[v(351)](a[v(253)],b.ferHO)){if(a[v(253)]===b.YEITU){p(a[v(364)]);return}if(b[v(388)](a[v(253)],b.MDXnK))if(b[v(287)]!==b.ieRYf){_0x2de7ee({kind:v(329),flowerId:_0x41ff25,layerId:_0x1b1547,index:_0x3e2dfa});return}else{y(a.leafGroupId);return}if(a.kind===b[v(336)]){const z=a[v(305)];b.oGIAV(r,j=>{const w=v;if(j[w(338)]=(j.leaves??[]).filter(E=>!z[w(300)](E.id)),j[w(270)]){for(const E of j.leafGroups)E.leafIds=E.leafIds.filter(q=>!z.includes(q));j[w(270)]=j.leafGroups.filter(E=>E.leafIds[w(390)]>0)}},!0),b.mWKpx(i,{kind:v(290)});return}if(a.kind===v(296)){const z=a.flowerIds;r(j=>{const w=v;if(j.flowers=j[w(296)].filter(E=>!z.includes(E.id)),j.groups){for(const E of j[w(357)])E.flowerIds=E.flowerIds[w(383)](q=>!z.includes(q));j.groups=j[w(357)][w(383)](E=>E.flowerIds.length>0)}},!0),i({kind:"project"});return}if(a[v(253)]===b[v(332)]){r(z=>{const j=v;z.groups&&(z[j(357)]=z.groups[j(383)](w=>w.id!==a.groupId))},!0),b.hmKsF(i,{kind:v(290)});return}if(a[v(253)]===v(299)){r(z=>{const j=v;z.stencils=(z[j(356)]??[])[j(383)](w=>w.id!==a.stencilId)},!0),i({kind:v(290)});return}if(b.qcSiQ(a[v(253)],b.UBmMG)){b[v(252)](i,{kind:b[v(346)],flowerId:a[v(322)]});return}if(a[v(253)]==="flower")if(b.eJDHp(b[v(375)],"MjvfE")){b.TEtKl(r,z=>{const j=v;if(z[j(296)]=z.flowers.filter(w=>w.id!==a[j(322)]),z[j(357)]){if(b[j(258)]("oZzsJ",j(384))){for(const w of z[j(357)])w[j(267)]=w.flowerIds.filter(E=>E!==a[j(322)]);z[j(357)]=z.groups.filter(w=>w.flowerIds[j(390)]>0)}else if(_0x113236.leaves=(_0x25b343.leaves??[]).filter(w=>!_0x5c8c89[j(300)](w.id)),_0x123b1a.leafGroups){for(const w of _0x414518[j(270)])w.leafIds=w.leafIds[j(383)](E=>!_0x526aa1[j(300)](E));_0x3e3c04.leafGroups=_0x12d43b[j(270)][j(383)](w=>w.leafIds[j(390)]>0)}}},!0),i({kind:b.ferHO});return}else{const j=b.chsUu(70*_0x1cef1b.PI,180),w=b[v(286)](_0x4dcdb6.length,1),E=b.ZNybL(w,1),q=b.pErAe(w,1)?b.aJnKP(b.chsUu(E,b[v(320)](w,1)),j):0;_0x558d9c=b[v(295)](b[v(312)](_0x48016e,30/100),_0x296b8a.cos(q))}if(b.sxQRf(a.kind,b[v(347)])||b[v(272)](a.kind,v(329))){const z=c.flowers[v(376)](w=>w.id===a[v(322)]),j=z?b[v(272)]([...z[v(283)]].sort((w,E)=>w[v(256)]-E[v(256)])[0]?.id,a.layerId):!1;r(w=>{const E=v;if(M[E(297)]("CBuin","QdzSJ")){for(const q of _0x1c7155[E(357)])q[E(267)]=q.flowerIds[E(383)](V=>V!==_0x388b34[E(322)]);_0x48d0b8[E(357)]=_0x383710[E(357)][E(383)](q=>q.flowerIds.length>0)}else{const q=w.flowers[E(376)](V=>V.id===a.flowerId);if(!q)return;if(q.layers=q[E(283)][E(383)](V=>V.id!==a.layerId),q[E(283)][E(284)]().sort((V,O)=>V[E(256)]-O[E(256)])[E(282)]((V,O)=>V.order=O+1),M.JraKF(q[E(283)].length,0)){const V=[...q[E(283)]][E(330)]((Y,H)=>Y.order-H.order),O=q[E(260)]??w[E(260)];M[E(262)](ds,V,O);for(const Y of V){const H=q[E(283)][E(376)](W=>W.id===Y.id);H&&(H[E(261)]=Y[E(261)])}if(j){const Y=V[0];q.flowerDiameter=Math.round(M[E(307)](tr,Y.radius,Y[E(365)]??1,O))}else if(M.JKRKC(E(377),M.NaFaU)){AdCqJc[E(361)](_0x408ee2,_0x4662bd);return}else{const Y=M[E(297)](q.placementMode,"")?M.QpvDJ(lr,O,q[E(283)].length,M.zbwOs,0):Zl(q.baseDiameter??w[E(369)],O,{layerCount:q.layers.length}).diameter;X0(V,O,q.flowerDiameter||Y);for(const H of V){const W=q[E(283)][E(376)](ae=>ae.id===H.id);W&&(W[E(261)]=H.radius,W[E(365)]=H[E(365)])}}const A=[...V].reverse();for(let Y=1;M.yPZeP(Y,A[E(390)]);Y++)if(M[E(293)](E(303),"kdehY")){const H=A[M[E(366)](Y,1)],W=A[Y];W[E(368)]=M.Zighu(Fn,H.petalCount,H.offsetAngle,W.petalCount)}else if(_0x1f01ef[E(296)]=_0x26b3f7.flowers[E(383)](H=>!_0x36b717[E(300)](H.id)),_0x170d58[E(357)]){for(const H of _0xda8eec[E(357)])H.flowerIds=H[E(267)].filter(W=>!_0x372a8e.includes(W));_0x4269e7[E(357)]=_0x13feb8.groups.filter(H=>H.flowerIds.length>0)}}}},!0),i({kind:"flower",flowerId:a[v(322)]})}}},k=$.useCallback(v=>{const M=N,z={IZaWF:function(w,E,q){return w(E,q)},dpdvJ:function(w,E){return w>E},RbFYe:function(w,E){return w+E}},j=b.UBeCI(It,M(294));r(w=>{const E=M;w[E(357)]||(w[E(357)]=[]);const q=w[E(357)].map(O=>{const A=E,Y=O.name.match(/^ (\d+)$/);return Y?z[A(358)](parseInt,Y[1],10):0}),V=z[E(264)](q.length,0)?z.RbFYe(Math.max(...q),1):1;w.groups.push({id:j,name:E(389)+V,flowerIds:[...v]})},!0),b.mWKpx(i,{kind:M(333),groupId:j}),x(w=>({...w,[j]:!0}))},[r,i,x]),I=b.jONnU($.useCallback,v=>{r(M=>{const z=Et;M[z(357)]&&(M.groups=M[z(357)].filter(j=>j.id!==v))},!0),i({kind:b.ferHO})},[r,i]),Z=$.useCallback((v,M)=>{const z=N;b[z(372)](r,j=>{const w=z;if(b.hceOt===b[w(344)])_0x150def.flowerIds[w(300)](_0x257702)||_0x1da54d[w(267)][w(279)](_0x91b474);else{const E=(j.groups??[])[w(376)](q=>q.id===v);if(!E)return;for(const q of M)E[w(267)][w(300)](q)||E[w(267)].push(q)}},!0),b.vtEiJ(i,{kind:b.KiLoN,groupId:v})},[r,i]),R=$.useCallback((v,M)=>{const z=N,j=v[0],w=v.slice(1);b.TEtKl(r,E=>{const q=Et;if(!E.groups)return;const V=E.groups[q(376)](O=>O.id===j);if(V){for(const O of w){const A=E[q(357)][q(376)](Y=>Y.id===O);if(A)for(const Y of A.flowerIds)V.flowerIds[q(300)](Y)||V.flowerIds[q(279)](Y)}for(const O of M)V[q(267)].includes(O)||V[q(267)].push(O);E[q(357)]=E[q(357)].filter(O=>!w.includes(O.id))}},!0),b.YwBci(i,{kind:b[z(332)],groupId:j}),x(E=>({...E,[j]:!0}))},[r,i,x]),K=(v,M)=>{const z=N;if(b[z(271)](z(257),"CsHZL")){const j=_0x7a5930.filter(w=>w!==_0x1650d7);b[z(331)](j[z(390)],0)?_0x5b423a({kind:"project"}):b.BUVCg(j[z(390)],1)?_0x253c67({kind:z(395),flowerId:j[0]}):b[z(335)](_0x58d7a0,{kind:z(296),flowerIds:j})}else{const j=b.RMBmq(m.w,m.h),w=b[z(371)](520,h),E=b[z(380)](w,j),q=-_.x/h,V=-_.y/h,O=q+E/2,A=b[z(286)](V,b[z(363)](w,2)),Y=M===b.lVNxj?z(247):"side",H=b.HsRIi(Wd[v][Y][z(373)],un),W=Me(O,0,d),ae=b.GhPsv(Me,A-b.lMjsJ(H,2),0,d),oe={id:It(z(348)),variant:v,pose:M,position:{x:W,y:ae}};b.dumUk(r,fe=>{const _e=z;fe[_e(356)]||(fe[_e(356)]=[]),fe.stencils.push(oe)},!0),b[z(394)](i,{kind:"stencil",stencilId:oe.id})}},F=v=>{const M=N;b[M(349)](r,z=>{const j=M;if(b.mtoIA("dQFsh",j(298)))z.stencils=(z[j(356)]??[]).filter(w=>w.id!==v);else{for(const w of _0x51e658.leafGroups)w[j(305)]=w[j(305)].filter(E=>!_0x13ffc1[j(300)](E));_0x504245[j(270)]=_0x1eb3a5.leafGroups.filter(w=>w[j(305)].length>0)}},!0),a.kind===M(299)&&b.vsKby(a.stencilId,v)&&b[M(382)](i,{kind:"project"})},Q=b[N(349)]($.useCallback,v=>{const M=N,z={Qbrzl:b.yIKjV};if(b.BUVCg("PfgAV",b.POcwt))_0x17e56d({kind:M(395),flowerId:_0x5807cd[0]});else if(b[M(381)](a.kind,"flowers")){const j=a.flowerIds;if(j[M(300)](v)){const w=j[M(383)](E=>E!==v);w[M(390)]===0?i({kind:b.ferHO}):w.length===1?i({kind:"flower",flowerId:w[0]}):i({kind:b.gVTct,flowerIds:w})}else b[M(278)](b.ylVHi,"rqSuT")?_0x95153b({kind:z[M(310)],flowerId:_0x106070}):i({kind:M(296),flowerIds:[...j,v]})}else if(b.hEtjX(a[M(253)],"flower")){if(a.flowerId===v)return;b[M(289)](i,{kind:b.gVTct,flowerIds:[a[M(322)],v]})}else if(a.kind==="group"){const j=(c.groups??[])[M(376)](E=>E.id===a.groupId),w=j?j[M(267)]:[];if(w[M(300)](v))return;b.hmKsF(i,{kind:M(296),flowerIds:[...w,v]})}else i({kind:"flowers",flowerIds:[v]})},[a,i,c[N(357)]]);return{deleteFlowerById:S,deleteLayerById:C,computeNewOuterRadius:D,addOuterLayer:L,deleteOuterLayer:G,deleteSelected:B,groupSelectedFlowers:k,ungroupFlowers:I,addToGroup:Z,mergeGroups:R,addStencil:K,deleteStencil:F,handleShiftFlowerSelect:Q,togglePetalSelection:(v,M,z,j)=>{const w=N,E={zGeep:w(396)};if(!j){b.ZlGMv(i,{kind:"petal",flowerId:v,layerId:M,index:z});return}const q=M+":"+z;if(a[w(253)]==="petals"&&a.flowerId===v)if(b.QkDEP(w(352),b.NGhhl)){const V=a.petals||[];if(V.some(A=>A.layerId+":"+A.index===q))if(w(323)!==w(355)){const A=V[w(383)](Y=>Y.layerId+":"+Y[w(379)]!==q);b.TxKJU(A.length,0)?i({kind:b[w(346)],flowerId:v}):b[w(351)](A[w(390)],1)?b.YeyCO("FtJTW","rWhGR")?b[w(393)](i,{kind:w(329),flowerId:v,layerId:A[0].layerId,index:A[0][w(379)]}):_0x40e55c.flowerIds=_0x43c084[w(267)].filter(Y=>!_0x116c07[w(300)](Y)):b.aFZmV(i,{kind:b[w(266)],flowerId:v,petals:A})}else{const A={..._0x2121bb||{}};return delete A[_0x22dcdd],A}else b[w(252)](i,{kind:w(396),flowerId:v,petals:[...V,{layerId:M,index:z}]})}else _0x106f0e({kind:E[w(343)],flowerId:_0xee4ffe,petals:[..._0x29c9d7,{layerId:_0x4758c4,index:_0x5bd1fc}]});else if(b.kEIQB(a.kind,b.wVgJY)&&b[w(272)](a[w(322)],v)){const V={layerId:a[w(321)],index:a.index},O={layerId:M,index:z};if(V.layerId+":"+V[w(379)]===q)return;i({kind:b[w(266)],flowerId:v,petals:[V,O]})}else b.hVEni(i,{kind:"petals",flowerId:v,petals:[{layerId:M,index:z}]})}}}(function(c,r){const a=Vt,i=c();for(;;)try{if(-parseInt(a(363))/1*(parseInt(a(360))/2)+parseInt(a(364))/3*(-parseInt(a(361))/4)+parseInt(a(350))/5+parseInt(a(338))/6+parseInt(a(369))/7+-parseInt(a(377))/8*(parseInt(a(348))/9)+parseInt(a(371))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,274785);const nb=(function(){const c={QiwNz:function(a,i,f){return a(i,f)},INMTd:function(a,i){return a===i}};let r=!0;return function(a,i){const f=Vt;if(c.INMTd(f(351),"Bwktj"))c.QiwNz(_0x1470bf,x=>{const h=f;x.leafGroups&&(x[h(390)]=x.leafGroups[h(385)](_=>_.id!==_0xc96100))},!0),_0x3f6dd0({kind:f(376)});else{const x=r?function(){const h=f;if(i){const _=i[h(374)](a,arguments);return i=null,_}}:function(){};return r=!1,x}}})(),Ts=nb(void 0,function(){const c=Vt,r={kMyzi:"(((.+)+)+)+$"};return Ts.toString().search(r.kMyzi).toString()[c(370)](Ts).search(r.kMyzi)});function Vt(c,r){c=c-336;const a=H0();let i=a[c];if(Vt.SnUaAy===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Vt.wUNcjQ=f,Vt.WVmLSl={},Vt.SnUaAy=!0}const x=a[0],h=c+x,_=Vt.WVmLSl[h];if(_)i=_;else{const m=function(d){this.dAuddM=d,this.wFHKaF=[1,0,0],this.jmUsiA=function(){return"newState"},this.kIGzEG="\\w+ *\\(\\) *{\\w+ *",this.dStdfz=`['|"].+['|"];? *}`};m.prototype.ChTwli=function(){const d=new RegExp(this.kIGzEG+this.dStdfz),p=d.test(this.jmUsiA.toString())?--this.wFHKaF[1]:--this.wFHKaF[0];return this.iftxAf(p)},m.prototype.iftxAf=function(d){return~d?this.LXWyla(this.dAuddM):d},m.prototype.LXWyla=function(d){for(let p=0,y=this.wFHKaF.length;p<y;p++)this.wFHKaF.push(Math.round(Math.random())),y=this.wFHKaF.length;return d(this.wFHKaF[0])},new m(Vt).ChTwli(),i=Vt.wUNcjQ(i),Vt.WVmLSl[h]=i}return i}Ts();function H0(){const c=["C2vHCMnO","nJq0ou5quNnpsW","mti3mLfdsePTDq","BMfxBgG","BgvUz3rO","m3WWFdj8nhWX","CwjwufG","mJCWodi5m1r3AeL4wa","y29UC3rYDwn0B3i","mZC4mdiZmgz0tMrLDq","BgvHzKLKCW","tgvHzIa","yxbWBhK","Dg9tDhjPBMC","ChjVAMvJDa","ndbOrhzXy0i","EgX4tMm","ExLJrKu","z2zguhO","vhfhwfe","uMnOtLe","q1LkqvK","CgfSzxr0zq","zMLSDgvY","ChDXv1y","ze9NBhO","vuD6Cei","ywjZ","BgvHzKDYB3vWCW","zxjUt1C","EeLOrg8","r0n3A0m","BgvHDMvZ","seDWqMS","ChvZAa","C3nbCvy","BgvHzG","kcGOlISPkYKRksSK","ueXiBgq","BLnZq1m","nJa3nJy4qwHvthvq","CNnzy0m","wen1AMC","ruPpq2G","Cg9ZAxrPB24","Aw5JBhvKzxm","q2LLCKG","t0fgrhq","y29Sx2DYzwvU","BgvHzKLK","nJqYntGYshHAz2zJ","wvnXENq","mtK1nty1rKHQuezT","A0vOCM4","rMHysNy","C29Tzq","qKHNBNy","y1Dny1G","y1Prqxe","5yMJ44gK44g+44g/","AhDMCeq","nhWXFdn8mNWW","nJHAA25KzeO","nteYtw1vrxHi"];return H0=function(){return c},H0()}function lb({project:c,applyUpdate:r,selection:a,setSelection:i,zoom:f,pan:x,stageSize:h,CANVAS_MAX_SVG:_}){const m=Vt,d={BHgnv:function(L,G){return L/G},XsHhv:function(L,G){return L+G},ernOW:function(L,G){return L+G},gPmsW:function(L,G){return L<G},qCiiI:m(367),ztrTc:function(L,G,B,k){return L(G,B,k)},cZQAq:"leaf",CierH:"",OAFDt:function(L,G){return L(G)},nDTal:function(L,G){return L!==G},jaEpt:m(349),PRGPC:"rsYcC",qbVPX:function(L,G,B){return L(G,B)},rcacq:function(L,G){return L(G)},pwqWV:m(399),EJOCh:function(L,G){return L===G},RchNQ:m(394),ojyeV:m(397),eNZDE:"project",OOykI:m(393),nSsCS:"SwrUR",naWlh:function(L,G){return L===G},hwfpD:m(381),CYJAY:function(L,G){return L(G)},XCujg:m(359),xOIRD:"col_green",HGpBk:"rWXkR",WOCTF:function(L,G,B){return L(G,B)},rDhJM:function(L,G){return L(G)},UGzpB:"wKkIe",Ptoci:function(L,G){return L(G)},cWMcX:function(L,G,B){return L(G,B)},EJYmg:function(L,G,B){return L(G,B)}},p=()=>{const L=m,G=h.w/h.h,B=520/f,k=B*G,I=-x.x/f,Z=d.BHgnv(-x.y,f);let R=d.XsHhv(I,d[L(354)](k,2)),K=d[L(391)](Z,d[L(354)](B,2)),F=0;for(;d.gPmsW(F,50)&&(c[L(394)]??[])[L(353)](X=>Math.abs(X.position.x-R)<5&&Math.abs(X.position.y-K)<5);){const X=d.qCiiI.split("|");let v=0;for(;;){switch(X[v++]){case"0":K+=25;continue;case"1":F++;continue;case"2":R=Me(R,0,_);continue;case"3":R+=25;continue;case"4":K=d.ztrTc(Me,K,0,_);continue}break}}const Q={id:It(d[L(356)]),name:L(373)+((c.leaves??[])[L(366)]+1),position:{x:R,y:K},rotation:135,petalType:d[L(344)],colorId:c[L(384)]?.find(X=>X.id===L(346)||X.id==="col_darkgreen")?.id??c.palette?.[0]?.id??L(346),scale:1,widthScale:1,visible:!0,locked:!1};r(X=>{const v=L;X[v(394)]||(X.leaves=[]),X.leaves[v(396)](Q)},!0),d[L(345)](i,{kind:d.cZQAq,leafId:Q.id})},y=L=>{const G=m,B={ScEcG:function(k,I){return d.nDTal(k,I)},PLHld:d.jaEpt};G(339)!==d.PRGPC?_0xe19c5f.leafIds=_0x56ce9e.leafIds[G(385)](k=>k!==_0x4b6d80):(r(k=>{const I=G;if(B.ScEcG(I(349),B[I(336)])){if(!_0x2615b5.leafGroups)return;_0x24e671.leafGroups=_0x420d57.leafGroups[I(385)](Z=>Z.id!==_0x391e13)}else if(k.leaves=(k[I(394)]??[]).filter(Z=>Z.id!==L),k[I(390)]){for(const Z of k[I(390)])Z[I(372)]=Z[I(372)].filter(R=>R!==L);k.leafGroups=k.leafGroups[I(385)](Z=>Z[I(372)][I(366)]>0)}},!0),i({kind:"project"}))},N=d.WOCTF($.useCallback,L=>{const G=m;if(d[G(386)],d[G(341)](a.kind,d.RchNQ)){const B=a[G(372)];if(B[G(343)](L))if(d.ojyeV===G(352))d[G(345)](_0x584caf,{kind:G(394),leafIds:_0x5a27a2});else{const k=B[G(385)](I=>I!==L);if(k.length===0)d.OAFDt(i,{kind:d.eNZDE});else if(d[G(341)](k[G(366)],1))if(d.OOykI===d.OOykI)d[G(345)](i,{kind:G(398),leafId:k[0]});else{if(!_0x24fb41[G(390)])return;for(const I of _0x406140[G(390)])I.leafIds=I[G(372)][G(385)](Z=>Z!==_0x4a4db9);_0x103c26[G(390)]=_0x1da375[G(390)][G(385)](I=>I[G(372)].length>0)}else d[G(345)](i,{kind:d[G(382)],leafIds:k})}else{if(d.nDTal(d[G(337)],"SwrUR"))return _0x18b7bc.toString()[G(362)](jXNdka.gJGnp)[G(375)]().constructor(_0x2dd4f7)[G(362)](G(399));d.OAFDt(i,{kind:"leaves",leafIds:[...B,L]})}}else if(d.EJOCh(a.kind,d.cZQAq))if(d[G(365)](d.hwfpD,d[G(358)])){if(a[G(347)]===L)return;d[G(383)](i,{kind:"leaves",leafIds:[a.leafId,L]})}else d[G(368)](_0x53c7fe,B=>{const k=G;if(B[k(394)]=(B[k(394)]??[]).filter(I=>I.id!==_0x43edb2),B[k(390)]){for(const I of B[k(390)])I.leafIds=I.leafIds.filter(Z=>Z!==_0x31c85a);B[k(390)]=B[k(390)][k(385)](I=>I[k(372)][k(366)]>0)}},!0),d.rcacq(_0x1a12ff,{kind:G(376)});else G(380)==="gfFPz"?i({kind:d.RchNQ,leafIds:[L]}):(_0x4be7da[G(394)]||(_0x2119f5[G(394)]=[]),_0x32667a.leaves[G(396)](_0x47b82a))},[a,i]),b=$.useCallback(L=>{const G=m;if(d[G(340)],d.xOIRD,d[G(395)]===d[G(395)]){const B=It("lg"),k=" "+d.XsHhv((c.leafGroups??[]).length,1);d.WOCTF(r,I=>{const Z=G;I.leafGroups||(I.leafGroups=[]),I[Z(390)].push({id:B,name:k,leafIds:[...L],rotation:0})},!0),d.rDhJM(i,{kind:"leafGroup",leafGroupId:B})}else{const B=KyeFHz[G(387)](_0x21e3b1.w,_0x32b1fc.h),k=KyeFHz[G(387)](520,_0x3da274),I=k*B,Z=KyeFHz.vxqwg(-_0x32cc36.x,_0x37b79b),R=KyeFHz.vxqwg(-_0x28895b.y,_0x49f4bd);let K=KyeFHz[G(392)](Z,KyeFHz.GaeFa(I,2)),F=R+k/2,Q=0;for(;Q<50&&(_0x40a615.leaves??[]).some(v=>_0x7ca320[G(389)](v[G(342)].x-K)<5&&_0x12d75a[G(389)](v.position.y-F)<5);){const v=KyeFHz.ZqSRt.split("|");let M=0;for(;;){switch(v[M++]){case"0":Q++;continue;case"1":F+=25;continue;case"2":F=KyeFHz[G(378)](_0x397daa,F,0,_0x3be9e3);continue;case"3":K=_0x5b6270(K,0,_0x3b3d05);continue;case"4":K+=25;continue}break}}const X={id:_0x132938("leaf"),name:G(373)+KyeFHz.LKamr((_0x48880d[G(394)]??[])[G(366)],1),position:{x:K,y:F},rotation:135,petalType:G(357),colorId:_0x352bb3[G(384)]?.find(v=>v.id===G(346)||v.id==="col_darkgreen")?.id??_0x5bc1d3[G(384)]?.[0]?.id??KyeFHz[G(379)],scale:1,widthScale:1,visible:!0,locked:!1};_0x45a172(v=>{const M=G;v[M(394)]||(v.leaves=[]),v.leaves[M(396)](X)},!0),KyeFHz.iDhoj(_0x5e058a,{kind:G(398),leafId:X.id})}},[c[m(390)],r,i]),D=d[m(355)]($.useCallback,L=>{d.WOCTF(r,G=>{const B=Vt;if(d[B(388)]!=="tsTww"){if(!G[B(390)])return;G.leafGroups=G.leafGroups.filter(k=>k.id!==L)}else _0x404549.leafIds=_0x51bb8c.leafIds[B(385)](k=>k!==_0xaf2f2c)},!0),d.Ptoci(i,{kind:d.eNZDE})},[r,i]),S=d.WOCTF($.useCallback,(L,G)=>{r(B=>{const k=Vt,I=(B[k(390)]??[]).find(Z=>Z.id===G);I&&!I.leafIds[k(343)](L)&&I[k(372)].push(L)},!0)},[r]),C=d.EJYmg($.useCallback,L=>{r(G=>{const B=Vt;if(G[B(390)]){for(const k of G[B(390)])k.leafIds=k[B(372)][B(385)](I=>I!==L);G[B(390)]=G.leafGroups.filter(k=>k.leafIds[B(366)]>0)}},!0)},[r]);return{addLeaf:p,deleteLeafById:y,handleShiftLeafSelect:N,groupSelectedLeaves:b,ungroupLeaves:D,addLeafToGroup:S,removeLeafFromGroup:C}}(function(c,r){const a=cn,i=c();for(;;)try{if(parseInt(a(224))/1*(parseInt(a(192))/2)+parseInt(a(207))/3+-parseInt(a(245))/4+parseInt(a(252))/5+-parseInt(a(229))/6*(-parseInt(a(204))/7)+-parseInt(a(260))/8+-parseInt(a(246))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,636570);function U0(){const c=["C29Tzq","kcGOlISPkYKRksSK","mJKXmdi4ofzvBfPqBW","mZC5mZC3me5bzvrIvG","s1H4DvC","C3bSAxq","EhPTuKS","yxbWBhK","C2L6zvn0zxbnBq","mJK4mtC5nu5JzvnPuq","Dg9YshC","v1rrD0y","y29Z","D2Liuum","tK9owKS","sw5Uzxi","B3Dvs04","nJq2mtyXnM1kAxLjtW","Bgf5zxjdB3vUDa","C2L6zu1Vzgu","uxvUEui","wNHxq1m","D3nKyxi","vvbvrKm","C05nBLC","mM1ksMzdAq","ChvZAa","y1b2ue4","Cg9ZAxrPB24","sfrnzMK","q2vUDgvY","A3bnAhC","BLHdyNK","CLbnsLK","C2nHBgu","44or44o844oR","sMLJr1q","mtr6tfnSAMC","zMXVD2vY","CgfSzxr0zq","mtm1nJy5nKPouhb5qW","zMfICMLJu3f1yxjLu2L6zq","CM91BMq","ChnkAve","weH4CNK","tuHMr04","yMfZzurPyw1LDgvY","CgXHy2vTzw50tw9Kzq","t3v0zxiR","t215AeW","zgLHBwv0zxi","ALziDMy","zMXVD2vYrgLHBwv0zxi","wgr4s0u","Ce1jvMS","yxzwEwy","vhfLBe4","nJiZntmXwezbDLDu","rhvRtLK","te9nzvi","sMvduMK","twv3t1u","mJC2mZC1nKnZExnYEa","vgP2Bwm","t0nZsgO","B0vUyNi","twLKzgXL","z3jHzhvHBa","tgf5zxi","r3LJCKS","ywHVve8","t3v0zxi","Dg9tDhjPBMC","5y2k44gp44gz","CMfKAxvZ","twTcEha"];return U0=function(){return c},U0()}const ab=(function(){let c=!0;return function(r,a){const i=c?function(){const f=cn;if(a){const x=a[f(250)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Es=ab(void 0,function(){const c=cn;return Es.toString().search(c(244))[c(239)]().constructor(Es).search(c(244))});Es();function cn(c,r){c=c-189;const a=U0();let i=a[c];if(cn.PGLUza===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};cn.qThIrY=f,cn.LqFxeT={},cn.PGLUza=!0}const x=a[0],h=c+x,_=cn.LqFxeT[h];if(_)i=_;else{const m=function(d){this.pllWWM=d,this.KgYGGC=[1,0,0],this.BbclDQ=function(){return"newState"},this.EryZYp="\\w+ *\\(\\) *{\\w+ *",this.MNUBgd=`['|"].+['|"];? *}`};m.prototype.stbtGD=function(){const d=new RegExp(this.EryZYp+this.MNUBgd),p=d.test(this.BbclDQ.toString())?--this.KgYGGC[1]:--this.KgYGGC[0];return this.JnBWGA(p)},m.prototype.JnBWGA=function(d){return~d?this.IMAhue(this.pllWWM):d},m.prototype.IMAhue=function(d){for(let p=0,y=this.KgYGGC.length;p<y;p++)this.KgYGGC.push(Math.round(Math.random())),y=this.KgYGGC.length;return d(this.KgYGGC[0])},new m(cn).stbtGD(),i=cn.qThIrY(i),cn.LqFxeT[h]=i}return i}function ib({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:f,pan:x,stageSize:h,CANVAS_MAX_SVG:_}){const m=cn,d={Tjvmc:function(C,L){return C+L},NONZK:function(C,L){return C!==L},nXCby:function(C,L){return C===L},nJwlE:function(C,L,G,B,k){return C(L,G,B,k)},LSjev:function(C,L){return C(L)},LOMeR:function(C,L){return C/L},pMIVk:function(C,L){return C-L},MewOU:function(C,L){return C*L},cPvPN:function(C,L){return C+L},wsdar:function(C,L){return C*L},WTQwF:m(240),rvFCr:function(C,L,G,B,k){return C(L,G,B,k)},owUKN:m(235),Gbktt:m(225),kpMhw:function(C,L){return C/L},MkBxp:m(258),GdKZT:"EXyIO",CXynZ:"uniform",xzmRK:m(264),yqjWS:"cdXZU",UPUFC:function(C,L){return C*L},HTMfi:function(C,L){return C===L},jhmaV:m(234),sfrQw:function(C,L){return C*L},wVmjS:function(C,L){return C*L},QunyB:function(C,L){return C*L},zgczn:function(C,L){return C/L},XHxry:function(C,L,G,B){return C(L,G,B)},MHfGN:function(C,L){return C<=L},torHw:function(C,L){return C===L},SqYFA:"GbpHP",rPMJY:function(C,L){return C+L},JeCRi:"lay",DEyZi:"col_white",oEnbr:function(C,L){return C===L},xjDxj:function(C,L,G,B,k){return C(L,G,B,k)},KXxuW:function(C,L){return C/L},GycrK:"3|4|2|0|1",ZJhRW:function(C,L,G,B){return C(L,G,B)},Kaqjz:function(C,L,G){return C(L,G)},OCsHj:function(C,L){return C(L)},TnhUT:function(C,L){return C(L)},psJiQ:""},[p,y]=d.OCsHj($.useState,!1),[N,b]=d.TnhUT($.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:c[m(213)],layerCount:1,petalCount:6,petalType:d[m(210)],sizeMode:"uniform",sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:p,setShowAddFlowerDialog:y,addFlowerOpts:N,setAddFlowerOpts:b,addFlower:()=>{const C=m,L=c[C(208)],G=c[C(213)];b(B=>{const k=C,I={fgDxF:function(Z,R){return d.Tjvmc(Z,R)},BnYfd:function(Z,R){return Z*R}};if(d[k(257)]("BCQvA","BCQvA")){const Z=_0x5b43d9/_0x1b827a;_0x5c22b6=_0x5ab63f(I.fgDxF(_0x4cad3d,I.BnYfd(_0x166071,Z)),.3,3)}else{const Z={...B,fabricSquareSize:L,baseDiameter:G};return d[k(199)](Z.placementMode,k(240))?Z.flowerDiameter=Zl(G,L,{layerCount:Z[k(261)],sizeMode:Z[k(262)],sizeStepMm:Z.sizeStepMm})[k(217)]:Z[k(219)]=d.nJwlE(lr,L,Z[k(261)],Z.sizeMode,Z.sizeStepMm),Z}}),d.LSjev(y,!0)},confirmAddFlower:()=>{const C=m,L={ahoTO:function(xe,me){return d[cn(194)](xe,me)},TqelN:function(xe,me){return d[cn(189)](xe,me)},jVHvf:function(xe,me){return d.nXCby(xe,me)},JicGT:function(xe,me){return xe/me},wiHQC:function(xe,me){return xe/me},OmyhL:function(xe,me){return xe-me},frGXk:function(xe,me){return xe/me},WQuBh:function(xe,me){return xe/me},sNMnW:d.WTQwF,TzrtR:function(xe,me,he,Re,it){return d.rvFCr(xe,me,he,Re,it)},XdxKE:d[C(259)],avVyf:d.Gbktt},{placementMode:G,layerCount:B,petalCount:k,petalType:I,sizeMode:Z,sizeStepMm:R}=N,K=N[C(208)],{length:F}=Ht(K),Q=.28,X=d.kpMhw(Math.round(d[C(228)](F*Q,10)),10),v=[],M=[C(197),d[C(242)],C(233),C(238),C(215)];let z=X,j=0;for(let xe=0;xe<B;xe++)if(d.GdKZT!=="KjZeU"){const me=xe,he=1;let Re;if(Z===d.CXynZ)if(d[C(249)]!=="ZxWCS"){const yt=70*_0x28c015.PI/180,ot=_0x1f65d8>1?d[C(226)](_0x527810,d.pMIVk(_0x389b5e,1))*yt:0,ht=_0x48413c[C(255)](ot);_0x10cfb1=d[C(228)](d.MewOU(_0x16552b,30/100),ht)}else Re=he;else if(d.yqjWS==="cdXZU"){const Oe=d.kpMhw(R,K);Re=Me(he+d[C(190)](me,Oe),.3,3)}else{const Oe=_0x4137e9===C(234)?_0x507d89(L[C(237)](1,L[C(223)](_0x590c48-1,_0x58783a)/_0x24e2f8),.3,3):1,yt=L[C(223)](_0x3f06d2,Oe);let ot;if(L[C(218)](_0x2607ce,"")){const Lt=L[C(203)](70*_0x46ef69.PI,180),Kt=_0x5bdd64>1?L[C(256)](_0x9f4457,L[C(216)](_0x4d40bf,1))*Lt:0,Wt=_0x38b125[C(255)](Kt);ot=yt*(30/100)*Wt}else ot=L.frGXk(yt,3);_0x161351=L.ahoTO(_0x56196c,ot),_0x5c4cb1=L.WQuBh(_0x3c1aa6[C(209)](L.TqelN(_0x20f52e,10)),10)}let it;if(d[C(199)](xe,0))it=X;else{const Oe=d[C(196)](Z,d.jhmaV)?Me(d.cPvPN(1,(xe-1)*R/K),.3,3):1,yt=d.sfrQw(F,Oe);let ot;if(G===d.WTQwF){const Lt=70*Math.PI/180,Kt=B>1?xe/d[C(221)](B,1)*Lt:0,Wt=Math.cos(Kt);ot=d.wVmjS(d[C(263)](yt,d[C(198)](30,100)),Wt)}else ot=d.zgczn(yt,3);z=d.cPvPN(z,ot),it=Math[C(209)](z*10)/10}const gt=xe===0?0:d[C(211)](Fn,k,j,k);j=gt;let xt;if(B===1)xt=d[C(259)];else if(d[C(212)](B,5))if(d.torHw(d.SqYFA,d.SqYFA)){const Oe=B===2?[0,3]:d.nXCby(B,3)?[0,1,3]:B===4?[0,1,2,3]:[0,1,2,3,4];xt=M[Oe[xe]]??"Layer "+d[C(200)](xe,1)}else{const Oe={..._0x29c34c,fabricSquareSize:_0x58cc57,baseDiameter:_0x365ff5};return Oe[C(214)]===aXgwmW[C(191)]?Oe[C(219)]=_0x215380(_0x594334,_0x2f8185,{layerCount:Oe.layerCount,sizeMode:Oe[C(262)],sizeStepMm:Oe[C(251)]})[C(217)]:Oe.flowerDiameter=aXgwmW.TzrtR(_0xd3ca15,_0x51ac3b,Oe.layerCount,Oe[C(262)],Oe[C(251)]),Oe}else xt="Layer "+d.cPvPN(xe,1);v.push({id:It(d[C(227)]),name:xt,order:d[C(221)](B,xe),petalType:I,petalCount:k,radius:it,scale:Re,widthScale:d.LSjev(ri,k),offsetAngle:gt,colorId:N.colorId||(c[C(206)]?.[0]?.id??d.DEyZi),visible:!0,locked:!1})}else _0x4b4ea0.flowers.push(_0x40849d);v.reverse();const w=[...v].sort((xe,me)=>xe.order-me.order),E=d[C(232)](G,d[C(254)])?Zl(N.baseDiameter,K,{layerCount:B,sizeMode:Z,sizeStepMm:R})[C(217)]:d.xjDxj(lr,K,B,Z,R);X0(w,K,N.flowerDiameter||E);for(const xe of w){const me=v.find(he=>he.id===xe.id);me&&(me.radius=xe[C(241)],me[C(201)]=xe[C(201)])}const q=d[C(226)](h.w,h.h),V=520/f,O=V*q,A=-x.x/f,Y=d[C(247)](-x.y,f);let H=A+O/2,W=d[C(230)](Y,V/2);const ae=25;let oe=0;for(;oe<50&&c.flowers[C(243)](xe=>Math.abs(xe[C(195)].x-H)<5&&Math.abs(xe[C(195)].y-W)<5);)if(d[C(253)]("AGWAT","lxbCC"))_0x490496=_0x15fe47;else{const xe=d[C(236)][C(248)]("|");let me=0;for(;;){switch(xe[me++]){case"0":W=Me(W,0,_);continue;case"1":oe++;continue;case"2":H=d.ZJhRW(Me,H,0,_);continue;case"3":H+=ae;continue;case"4":W+=ae;continue}break}}const fe=N.flowerDiameter||E,_e={id:It("flw"),name:"Flower "+d.cPvPN(c.flowers.length,1),position:{x:H,y:W},flowerDiameter:fe,rotation:0,layers:v,center:{type:C(202),size:6,color:d.DEyZi},fabricSquareSize:K,placementMode:G,baseDiameter:G===d.WTQwF?N[C(213)]:d.LSjev(er,fe)};d.Kaqjz(r,xe=>{const me=C;L[me(222)]===L[me(222)]?xe.flowers[me(193)](_e):_0x3ddca4=L[me(220)]},!0),d[C(231)](a,{kind:C(205),flowerId:_e.id}),d.LSjev(i,xe=>({...xe,[_e.id]:!0})),y(!1)}}}(function(c,r){const a=Zn,i=c();for(;;)try{if(parseInt(a(201))/1*(-parseInt(a(253))/2)+parseInt(a(233))/3+-parseInt(a(203))/4*(-parseInt(a(197))/5)+parseInt(a(198))/6*(-parseInt(a(249))/7)+parseInt(a(223))/8+-parseInt(a(243))/9+parseInt(a(250))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,540149);const rb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ls=rb(void 0,function(){const c=Zn,r={JUtWv:"(((.+)+)+)+$"};return Ls[c(246)]().search(r.JUtWv).toString().constructor(Ls)[c(238)](c(245))});function Z0(){const c=["Bgf5zxjjza","neHstgzKBW","z3jVDxbjza","wwrOrMS","vgzhwuO","thfdy1e","EKLKCfa","r3DXywK","D3n0s3y","C3rLBMnPBhm","DuXoAeW","BLzhwei","v3vAqK8","C3rLBMnPBa","ugzzAMm","z3jVDxbZ","zMXVD2vYCW","CMPArK0","z3jVDxa","BgvHzKLKCW","DvfHC2G","ndu4mJG2nePTrwP1yq","rvP1zeG","B2T6q08","A2LUza","CwD3DMG","yKn2quS","rMXuAMe","ENPoBM8","zejVs2S","Bgf5zxjZ","nZa2nJG2wLL3se5t","C3rLBMnPBeLK","zMXVD2vY","sLjWv0q","BgvHzKDYB3vWswq","C2vHCMnO","zMLSDgvY","zMLUza","zMXVD2vYswrZ","swrkALO","mJe1ote5mhviyNjbsW","tuz4uLq","kcGOlISPkYKRksSK","Dg9tDhjPBMC","AuDMr0e","q2LOt00","mtrvBe1nr20","ntCXnte3meL5BLDvCq","BgvHzG","zvnZEwe","mZe0EfDOyNvU","BgvHzKLK","vM5fzu4","Cgv0ywW","BgvHzKDYB3vW","zMXVD2vYswq","BgvHzKDYB3vWCW","Cg9AB20","v3Lnuxi","mtyYmtKXnvLhwNf4uW","mte3mZCZoev5zfP5CW","Bgf5zxi","Cgv0ywXZ","mZm5nu5izxLSsa"];return Z0=function(){return c},Z0()}function Zn(c,r){c=c-196;const a=Z0();let i=a[c];if(Zn.qGkIvL===void 0){var f=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",y="",N=p+f;for(let b=0,D,S,C=0;S=m.charAt(C++);~S&&(D=b%4?D*64+S:S,b++%4)?p+=N.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)S=d.indexOf(S);for(let b=0,D=p.length;b<D;b++)y+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Zn.jtGQgP=f,Zn.lilYZV={},Zn.qGkIvL=!0}const x=a[0],h=c+x,_=Zn.lilYZV[h];if(_)i=_;else{const m=function(d){this.uBrFuO=d,this.hlOWCm=[1,0,0],this.TYHPeL=function(){return"newState"},this.yiiHpP="\\w+ *\\(\\) *{\\w+ *",this.arBJxi=`['|"].+['|"];? *}`};m.prototype.OJPnKQ=function(){const d=new RegExp(this.yiiHpP+this.arBJxi),p=d.test(this.TYHPeL.toString())?--this.hlOWCm[1]:--this.hlOWCm[0];return this.xwKBJG(p)},m.prototype.xwKBJG=function(d){return~d?this.DTDYDt(this.uBrFuO):d},m.prototype.DTDYDt=function(d){for(let p=0,y=this.hlOWCm.length;p<y;p++)this.hlOWCm.push(Math.round(Math.random())),y=this.hlOWCm.length;return d(this.hlOWCm[0])},new m(Zn).OJPnKQ(),i=Zn.jtGQgP(i),Zn.lilYZV[h]=i}return i}Ls();function cb(c,r){const a=Zn,i={WyMQr:function(S,C){return S===C},qgwvh:"flower",zIdpP:function(S,C){return S===C},wstKv:a(199),MFxRT:function(S,C){return S===C},FbmHj:function(S,C){return S===C},iGfGA:a(218),LqCcQ:"group",Gwqai:function(S,C){return S===C},dBoKk:a(251),ELnym:a(214),rjZFM:"leafGroup",CihOM:function(S,C){return S===C},poZom:a(228),yQHlW:a(242),zzNno:function(S,C){return S===C},PfYjc:a(222),EZudH:function(S,C){return S===C},nVGXB:a(200),VnEeN:"PMpMY",OcIOG:function(S,C){return S!==C},zMKaN:"QNReY",eLocb:function(S,C){return S!==C},TfGYJ:function(S,C,L){return S(C,L)},kEgpI:"petal",JRpWD:a(215),eSsya:function(S,C,L){return S(C,L)}},f=i.TfGYJ($.useMemo,()=>{const S=a;return i[S(196)](r.kind,i[S(227)])||i[S(208)](r[S(226)],i[S(210)])||i[S(244)](r.kind,S(256))||i.FbmHj(r[S(226)],S(200))?c[S(218)][S(240)](C=>C.id===r[S(258)])??null:null},[c[a(218)],r]),x=i[a(206)]($.useMemo,()=>{const S=a;if(i.MFxRT(r[S(226)],i[S(247)]))return c[S(218)].filter(C=>r.flowerIds.includes(C.id));if(i.zIdpP(r.kind,i[S(207)])){const C=(c[S(217)]??[]).find(L=>L.id===r.groupId);if(C)return c.flowers.filter(L=>C[S(241)].includes(L.id))}return[]},[c[a(218)],c.groups,r]),h=i[a(206)]($.useMemo,()=>{const S=a;if(i[S(209)](r.kind,i[S(231)])){if(i.ELnym!=="DqyaZ")return(c.leaves??[]).find(C=>C.id===r[S(254)])??null;{const C=(_0x3b6ca5.leafGroups??[]).find(L=>L.id===_0x2115f0.leafGroupId);if(C)return new _0x3837fb(C[S(221)])}}return null},[c.leaves,r]),_=$.useMemo(()=>{const S=a;return r[S(226)]===i[S(219)]?i[S(248)](i[S(260)],i.yQHlW)?_0x2d89c4&&(_0x4ad618.kind===S(199)||_0x3ed467[S(226)]==="petal")?_0x41e74[S(232)][S(240)](C=>C.id===_0x3c6f7f[S(202)])??null:null:(c.leafGroups??[]).find(C=>C.id===r[S(237)])??null:null},[c.leafGroups,r]),m=$.useMemo(()=>{const S=a;return f&&(i[S(230)](r.kind,i.wstKv)||r.kind==="petal")?f[S(232)][S(240)](C=>C.id===r.layerId)??null:null},[f,r]),d=r[a(226)]===i.kEgpI?r.index:null,p=r.kind===i.nVGXB?r[a(200)]:[],y=i.WyMQr(r[a(226)],i[a(236)])?(c[a(211)]??[])[a(240)](S=>S.id===r[a(234)])??null:null,N=r[a(226)]===i.qgwvh||r[a(226)]===i.wstKv||r.kind==="petal"||r[a(226)]===a(200)?r.flowerId:null,b=i[a(252)]($.useMemo,()=>{const S=a,C={okzCO:function(L,G,B){return L(G,B)}};{if(r[S(226)]===S(220))if(i[S(216)]===S(222)){const L=(c.groups??[]).find(G=>G.id===r[S(204)]);if(L)return new Set(L.flowerIds)}else{const L=_0x38dd66(_0x3e7559,_0x13b0d3.flowerId);if(L)return i[S(230)](_0x5cb1e6[S(226)],"flower")?new _0xeb4707(L.flowerIds.filter(G=>G!==_0x2dcf9b[S(258)])):new _0x251ecf(L[S(241)])}if(r.kind===i.iGfGA)return new Set(r[S(241)]);if(i[S(224)](r.kind,S(235))||r[S(226)]===i[S(210)]||i[S(248)](r.kind,"petal")||i[S(196)](r[S(226)],i[S(213)]))if(i[S(255)]===S(212)){const L=C[S(225)](_0x5a6791,_0x54a01c,_0xc15826.leafId);if(L)return new _0x5cbfb0(L.leafIds.filter(G=>G!==_0x27b3e6[S(254)]))}else{const L=ma(c,r.flowerId);if(L){if(r.kind===i.qgwvh)if(i.OcIOG("QNReY",i.zMKaN)){const G=(_0x2ff4f3.groups??[]).find(B=>B.id===_0x2b1a47.groupId);if(G)return _0x415ba2[S(218)].filter(B=>G.flowerIds.includes(B.id))}else return new Set(L.flowerIds.filter(G=>G!==r.flowerId));return new Set(L.flowerIds)}}return new Set}},[r,c]),D=$.useMemo(()=>{const S=a;if(r[S(226)]===i.rjZFM)if(i.eLocb(S(229),S(205))){const C=(c.leafGroups??[])[S(240)](L=>L.id===r.leafGroupId);if(C)return new Set(C[S(221)])}else return(_0xf01ad0.leafGroups??[]).find(C=>C.id===_0x112fa0[S(237)])??null;if(r[S(226)]===i.dBoKk){const C=i.TfGYJ(K0,c,r[S(254)]);if(C)return new Set(C[S(221)][S(239)](L=>L!==r.leafId))}return new Set},[r,c]);return{selectedFlower:f,selectedFlowers:x,selectedLeaf:h,selectedLeafGroup:_,selectedLayer:m,selectedPetalIndex:d,selectedPetals:p,selectedStencil:y,selectedFlowerId:N,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:D}}function ub(c){const{project:r,selection:a,setSelection:i,applyUpdate:f}=c,x=$.useMemo(()=>new Map((r.palette||[]).map(de=>[de.id,de])),[r.palette]),{widths:h,containerRef:_,onDividerPointerDown:m,onDividerDoubleClick:d,isDragging:p,isDesktop:y}=$2(),N=$.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[b,D]=$.useState({});$.useEffect(()=>{try{const pe=localStorage.getItem(N);if(pe){const Ze=JSON.parse(pe);if(Ze&&typeof Ze=="object"){D(Ze);return}}}catch{}const de=r.flowers?.[0];de&&D({[de.id]:!0})},[N]),$.useEffect(()=>{try{localStorage.setItem(N,JSON.stringify(b))}catch{}},[N,b]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const de=a.flowerId;D(pe=>pe?.[de]?pe:{...pe,[de]:!0})}a.kind==="flowers"&&D(de=>{const pe={...de};for(const Ze of a.flowerIds)pe[Ze]=!0;return pe})},[a]);const S=de=>b?.[de]??!1,C=de=>D(pe=>({...pe,[de]:!(pe?.[de]??!1)})),L=$.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[G,B]=$.useState({});$.useEffect(()=>{try{const pe=localStorage.getItem(L);if(pe){const Ze=JSON.parse(pe);if(Ze&&typeof Ze=="object"){B(Ze);return}}}catch{}const de=r.groups??[];if(de.length>0){const pe={};for(const Ze of de)pe[Ze.id]=!0;B(pe)}},[L]),$.useEffect(()=>{try{localStorage.setItem(L,JSON.stringify(G))}catch{}},[L,G]);const k=de=>G?.[de]??!0,I=de=>B(pe=>({...pe,[de]:!(pe?.[de]??!0)})),Z=$.useRef({flowerId:null,timer:null}),R=de=>{const pe=Z.current.timer;pe&&window.clearTimeout(pe),Z.current.flowerId=de,Z.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:de}),D(Ze=>({...Ze,[de]:!0})),Z.current.timer=null,Z.current.flowerId=null},200)},K=de=>{const pe=Z.current.timer;pe&&Z.current.flowerId===de&&window.clearTimeout(pe),Z.current.timer=null,Z.current.flowerId=null,i({kind:"flower",flowerId:de}),C(de)},F=$.useRef(null),[Q,X]=$.useState({w:520,h:520});$.useEffect(()=>{const de=F.current;if(!de)return;const pe=new ResizeObserver(Ze=>{for(const Qt of Ze){const{width:wt,height:sn}=Qt.contentRect;wt>0&&sn>0&&X({w:wt,h:sn})}});return pe.observe(de),()=>pe.disconnect()},[]);const v=de=>{const pe=F.current;if(!pe)return{x:0,y:0};const Ze=pe.createSVGPoint();Ze.x=de.clientX,Ze.y=de.clientY;const Qt=pe.getScreenCTM();if(!Qt)return{x:0,y:0};const wt=Ze.matrixTransform(Qt.inverse());return{x:wt.x,y:wt.y}},M=500*un,z=-300*un,j=800*un,w=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[E,q]=$.useState(6),[V,O]=$.useState(w[6]),A=$.useCallback(de=>{q(pe=>{const Ze=typeof de=="function"?de(pe):de;return O(w[Ze]),Ze})},[w]),Y=$.useCallback(de=>{const pe=Me(de,w[0],w[w.length-1]);O(pe);let Ze=0,Qt=Math.abs(w[0]-pe);for(let wt=1;wt<w.length;wt++){const sn=Math.abs(w[wt]-pe);sn<Qt&&(Ze=wt,Qt=sn)}q(Ze)},[w]),[H,W]=$.useState({x:0,y:0}),[ae,oe]=$.useState(!0),[fe,_e]=$.useState(!1),xe=$.useRef(null),me=$.useMemo(()=>{const de=Q.w/Q.h,pe=520,Ze=pe*de;return(Qt,wt=V)=>{const sn=Me(Qt.x,-(j*wt-Ze),-z*wt),ui=Me(Qt.y,-(j*wt-pe),-z*wt);return{x:sn,y:ui}}},[Q,V,z,j]),he=$.useMemo(()=>me(H),[H,me]),Re=$.useCallback(de=>W(de),[]),it=$.useMemo(()=>{const de=Q.w/Q.h,pe=520,Ze=pe*de,Qt=-he.x/V,wt=-he.y/V;return`${Qt} ${wt} ${Ze/V} ${pe/V}`},[V,he,Q]),{addLeaf:gt,deleteLeafById:xt,handleShiftLeafSelect:Oe,groupSelectedLeaves:yt,ungroupLeaves:ot,addLeafToGroup:ht,removeLeafFromGroup:Lt}=lb({project:r,applyUpdate:f,selection:a,setSelection:i,zoom:V,pan:he,stageSize:Q,CANVAS_MAX_SVG:M}),{showAddFlowerDialog:Kt,setShowAddFlowerDialog:Wt,addFlowerOpts:Xn,setAddFlowerOpts:Je,addFlower:yn,confirmAddFlower:yl}=ib({project:r,applyUpdate:f,setSelection:i,setExpandedFlowers:D,zoom:V,pan:he,stageSize:Q,CANVAS_MAX_SVG:M}),{selectedFlower:Xl,selectedFlowers:Rn,selectedLeaf:va,selectedLeafGroup:kn,selectedLayer:ci,selectedPetalIndex:Jl,selectedPetals:$n,selectedStencil:Bt,selectedFlowerId:Ve,groupHighlightedFlowerIds:se,leafGroupHighlightedLeafIds:Le}=cb(r,a),{deleteFlowerById:Ge,deleteLayerById:Ce,addOuterLayer:ye,deleteOuterLayer:Ne,deleteSelected:ze,groupSelectedFlowers:ge,ungroupFlowers:We,addToGroup:Ie,mergeGroups:Qe,addStencil:Pe,deleteStencil:Ae,handleShiftFlowerSelect:pt,togglePetalSelection:$e}=tb({project:r,applyUpdate:f,selection:a,setSelection:i,setExpandedFlowers:D,setExpandedGroups:B,zoom:V,pan:he,stageSize:Q,CANVAS_MAX_SVG:M,deleteLeafById:xt,ungroupLeaves:ot}),je=i2({project:r,selection:a,setSelection:i,applyUpdate:f,dragRef:c.dragRef,zoom:V,pan:he,setPan:Re,stageRef:F,clientToSvgPoint:v,togglePetalSelection:$e}),[et,tt]=$.useState(0),nt=a.kind,pn=nt==="flower"?a.flowerId:null,ga=nt==="flowers"?a.flowerIds?.join(","):null,Vl=nt==="layer"||nt==="petal"?a.layerId:null,_n=nt==="petal"?a.index:null,Nt=nt==="petals"?a.petals?.length:null;$.useEffect(()=>{nt!=="project"&&tt(Date.now())},[nt,pn,ga,Vl,_n,Nt]),$.useEffect(()=>{if(!xe.current)return;const de=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!de)return;const pe=xe.current.querySelector(`[data-flower-id="${de}"]`);pe&&pe.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ut=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[et]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:_,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:y?{width:`${h.left}%`}:void 0,children:s.jsx(c2,{project:r,selection:a,setSelection:i,expandedFlowers:b,setExpandedFlowers:D,isExpanded:S,toggleExpanded:C,scheduleFlowerRowClick:R,handleFlowerRowDoubleClick:K,addFlower:yn,deleteSelected:ze,addOuterLayer:ye,deleteOuterLayer:Ne,deleteFlowerById:Ge,deleteLayerById:Ce,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:xe,groups:r.groups??[],expandedGroups:G,isGroupExpanded:k,toggleGroupExpanded:I,onSelectGroup:de=>i({kind:"group",groupId:de}),onUngroupFlowers:We,leaves:r.leaves??[],leafGroups:r.leafGroups??[],onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onSelectLeafGroup:de=>i({kind:"leafGroup",leafGroupId:de}),onAddLeaf:gt,onDeleteLeaf:xt})}),s.jsx(Ud,{side:"left",onPointerDown:m,onDoubleClick:d,isDragging:p}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(E2,{project:r,selection:a,setSelection:i,applyUpdate:f,paletteMap:x,selectedFlowerId:Ve,zoom:V,setZoom:Y,zoomLevel:E,setZoomLevel:A,ZOOM_LEVELS:w,pan:he,panRaw:H,setPan:Re,showGrid:ae,setShowGrid:oe,showHelp:fe,setShowHelp:_e,stageRef:F,viewBox:it,dashSyncToken:et,dashDelay:Ut,beginPan:je.beginPan,updatePan:je.updatePan,endPan:je.endPan,beginMarquee:je.beginMarquee,updateMarquee:je.updateMarquee,endMarquee:je.endMarquee,marqueeRef:je.marqueeRef,marqueeRect:je.marqueeRect,beginFlowerDrag:je.beginFlowerDrag,updateFlowerDrag:je.updateFlowerDrag,endFlowerDrag:je.endFlowerDrag,scaleDragRef:je.scaleDragRef,beginScaleDrag:je.beginScaleDrag,updateScaleDrag:je.updateScaleDrag,endScaleDrag:je.endScaleDrag,rotationDragRef:je.rotationDragRef,beginRotationDrag:je.beginRotationDrag,updateRotationDrag:je.updateRotationDrag,endRotationDrag:je.endRotationDrag,widthScaleDragRef:je.widthScaleDragRef,beginWidthScaleDrag:je.beginWidthScaleDrag,updateWidthScaleDrag:je.updateWidthScaleDrag,endWidthScaleDrag:je.endWidthScaleDrag,radiusDragRef:je.radiusDragRef,beginRadiusDrag:je.beginRadiusDrag,updateRadiusDrag:je.updateRadiusDrag,endRadiusDrag:je.endRadiusDrag,togglePetalSelection:$e,clientToSvgPoint:v,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:Pe,onDeleteStencil:Ae,onSelectStencil:de=>i({kind:"stencil",stencilId:de}),handleShiftFlowerSelect:pt,groupHighlightedFlowerIds:se,leaves:r.leaves??[],leafGroups:r.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Le,onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onShiftSelectLeaf:Oe})}),s.jsx(Ud,{side:"right",onPointerDown:m,onDoubleClick:d,isDragging:p}),s.jsx("div",{className:"min-w-0 shrink-0",style:y?{width:`${h.right}%`}:void 0,children:s.jsx(J2,{project:r,selection:a,applyUpdate:f,selectedFlower:Xl,selectedFlowers:Rn,selectedLayer:ci,selectedPetalIndex:Jl,selectedPetals:$n,selectedStencil:Bt,onDeleteStencil:Ae,groups:r.groups??[],onGroupFlowers:ge,onUngroupFlowers:We,onAddToGroup:Ie,onMergeGroups:Qe,selectedLeaf:va,selectedLeafGroup:kn,leafGroups:r.leafGroups??[],onDeleteLeaf:xt,onGroupLeaves:yt,onUngroupLeaves:ot,onAddLeafToGroup:ht,onRemoveLeafFromGroup:Lt})})]}),Kt&&s.jsx(Q2,{palette:r.palette,addFlowerOpts:Xn,setAddFlowerOpts:Je,onConfirm:yl,onCancel:()=>Wt(!1)}),fe&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>_e(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:de=>de.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>_e(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([de,pe])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:de}),s.jsx("td",{className:"py-2 text-neutral-700",children:pe})]},de))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function sb({cg:c}){const[r,a]=$.useState("w"),[i,f]=$.useState(""),x=c.totalAreaCm2,h=parseFloat(i),m=i!==""&&Number.isFinite(h)&&h>0?Math.round(x/h*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(d=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",x,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>f(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>f(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function ob(c){const{recipe:r}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(sb,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function xb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function fb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function db(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function hb(){const[c,r]=$.useState("home"),[a,i]=$.useState([]),[f,x]=$.useState(null),[h,_]=$.useState({kind:"project"}),[m,d]=$.useState([]),[p,y]=$.useState(0),N=$.useRef(f),b=$.useRef(m),D=$.useRef(p);$.useEffect(()=>{N.current=f},[f]),$.useEffect(()=>{b.current=m},[m]),$.useEffect(()=>{D.current=p},[p]);const S=$.useRef(null),C=$.useRef(null),L=$.useRef(null),G=$.useRef(null),[B,k]=$.useState(null);$.useEffect(()=>{const O=B?window.setTimeout(()=>k(null),2200):null;return()=>{O&&window.clearTimeout(O)}},[B]),$.useEffect(()=>{i(nr())},[]);function I(O){const A=JSON.stringify(O);d([A]),y(0)}function Z(O,A=!0){if(!A){x(me=>{if(!me)return me;const he=Ul(me);return O(he),he.updatedAt=w0(),he});return}const Y=N.current;if(!Y)return;const H=Ul(Y);O(H),H.updatedAt=w0(),x(H);const W=b.current,ae=D.current;if(W.length===0){I(H);return}const oe=JSON.stringify(H);let _e=[...W.slice(0,ae+1),oe];const xe=50;_e.length>xe&&(_e=_e.slice(_e.length-xe)),d(_e),y(_e.length-1)}function R(){y(O=>{if(O<=0)return O;const A=O-1,Y=b.current[A];return Y&&x(ha(JSON.parse(Y))),k("Undo"),A})}function K(){y(O=>{if(O>=b.current.length-1)return O;const A=O+1,Y=b.current[A];return Y&&x(ha(JSON.parse(Y))),k("Redo"),A})}function F(){if(!f)return;const O=Im(f);i(nr()),k(O?"Saved":" ")}function Q(){if(!f)return;const O=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),A=URL.createObjectURL(O),Y=document.createElement("a");Y.href=A,Y.download=`${f.title||"tsumami"}.json`,Y.click(),URL.revokeObjectURL(A),k("JSON exported")}function X(O){const A=new FileReader;A.onload=()=>{try{const Y=JSON.parse(String(A.result??""));if(!Y||typeof Y!="object"||!Array.isArray(Y.flowers))throw new Error("Invalid JSON");const H=ha(Y);x(H),_({kind:"project"}),I(H),r("editor"),k("Imported")}catch{k("Import failed")}},A.readAsText(O)}function v(O){const A=ha(O);x(A),_({kind:"project"}),I(A),r("editor")}function M(O){return O&&(O.kind==="flower"||O.kind==="layer"||O.kind==="petal")?O.flowerId:null}function z(){if(!f)return;const O=M(h);if(!O)return;const A=f.flowers.find(Y=>Y.id===O);A&&(C.current=Ul(A),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:A},null,2)).catch(()=>{}),k("Flower copied"))}function j(){if(!f||h.kind!=="leaf")return;const O=(f.leaves??[]).find(A=>A.id===h.leafId);O&&(L.current=Ul(O),k("Leaf copied"))}function w(){if(!f)return;const O=C.current;if(!O){k("Nothing to paste");return}const A=Bm(O,{x:12+Math.random()*10,y:12+Math.random()*10});Z(Y=>{Y.flowers.push(A)},!0),_({kind:"flower",flowerId:A.id}),k("Flower pasted")}function E(){if(!f)return;const O=L.current;if(!O)return;const A=It("leaf"),Y={...Ul(O),id:A,name:O.name+" (copy)",position:{x:O.position.x+30,y:O.position.y+30}};Z(H=>{H.leaves||(H.leaves=[]),H.leaves.push(Y)},!0),_({kind:"leaf",leafId:Y.id}),k("Leaf pasted")}function q(O){if(!f)return;const A=M(h);A&&(Z(Y=>{const H=Y.flowers.findIndex(fe=>fe.id===A);if(H<0)return;const W=Y.flowers,ae=W[H];if(!ae)return;if(W.splice(H,1),O==="front"){W.push(ae);return}if(O==="back"){W.unshift(ae);return}if(O==="forward"){if(H>=W.length){W.push(ae);return}W.splice(H+1,0,ae);return}const oe=Me(H-1,0,W.length);W.splice(oe,0,ae)},!0),k(O==="front"?"Brought to front":O==="back"?"Sent to back":O==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function O(Y){const H=Y;if(!H)return!1;const W=String(H.tagName||"").toLowerCase();return W==="input"||W==="textarea"||W==="select"||!!H.isContentEditable}function A(Y){if(!(O(Y.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?Y.metaKey:Y.ctrlKey))){if(c==="editor"){if(Y.key.toLowerCase()==="c"){Y.preventDefault(),h.kind==="leaf"?j():z();return}if(Y.key.toLowerCase()==="v"){Y.preventDefault(),L.current&&(h.kind==="leaf"||h.kind==="leaves"||h.kind==="leafGroup"||!C.current)?E():w();return}}Y.key.toLowerCase()==="z"&&(Y.preventDefault(),Y.shiftKey?K():R()),Y.key.toLowerCase()==="s"&&(Y.preventDefault(),F())}}return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[f,m,p,h,c]);const V=$.useMemo(()=>f?Zm(f):null,[f]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(Wm,{view:c,onNavigate:r,project:f,onSave:F,onLoad:()=>r("home"),onImportJson:()=>G.current?.click(),onExportJson:Q,onExportSvg:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&f&&Xm(O,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&f&&Jm(O,`${f.title||"tsumami"}.png`)}}),s.jsx("input",{ref:G,type:"file",accept:"application/json",className:"hidden",onChange:O=>{const A=O.target.files?.[0];A&&X(A),O.currentTarget.value=""}}),B&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:B}),s.jsxs("main",{className:"flex-1",children:[c==="home"&&s.jsx(Qm,{saved:a,onNew:()=>r("new"),onOpen:O=>{const A=ha(Ul(O));x(A),_({kind:"project"}),I(A),r("editor")},onDelete:O=>{Hm(O),i(nr()),k("Deleted")}}),c==="new"&&s.jsx(Pm,{onBack:()=>r("home"),onCreate:O=>{const A=qm({title:O});v(A)}}),c==="editor"&&f&&s.jsx(ub,{project:f,selection:h,setSelection:_,applyUpdate:Z,onGoRecipe:()=>r("recipe"),onImport:X,dragRef:S,onCopyFlower:z,onPasteFlower:w,onArrangeFlower:q,canPasteFlower:!!C.current,onUndo:R,onRedo:K,canUndo:p>0,canRedo:p<m.length-1}),c==="recipe"&&f&&V&&s.jsx(ob,{project:f,recipe:V,onBack:()=>r("editor"),onExportJson:Q}),c==="terms"&&s.jsx(xb,{onBack:()=>r("home")}),c==="privacy"&&s.jsx(fb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!f&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(db,{onNavigate:r})]})}class mb extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}ym.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(mb,{children:s.jsx(hb,{})})}));

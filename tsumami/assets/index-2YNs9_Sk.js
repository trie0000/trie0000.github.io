(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const o of f)if(o.type==="childList")for(const v of o.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function a(f){const o={};return f.integrity&&(o.integrity=f.integrity),f.referrerPolicy&&(o.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?o.credentials="include":f.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(f){if(f.ep)return;f.ep=!0;const o=a(f);fetch(f.href,o)}})();var ix={exports:{}},er={};var Ad;function bh(){if(Ad)return er;Ad=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,f,o){var v=null;if(o!==void 0&&(v=""+o),f.key!==void 0&&(v=""+f.key),"key"in f){o={};for(var y in f)y!=="key"&&(o[y]=f[y])}else o=f;return f=o.ref,{$$typeof:c,type:i,key:v,ref:f!==void 0?f:null,props:o}}return er.Fragment=r,er.jsx=a,er.jsxs=a,er}var Ld;function gh(){return Ld||(Ld=1,ix.exports=bh()),ix.exports}var x=gh(),rx={exports:{}},Ne={};var Td;function vh(){if(Td)return Ne;Td=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function M(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,b={};function k(j,E,K){this.props=j,this.context=E,this.refs=b,this.updater=K||N}k.prototype.isReactComponent={},k.prototype.setState=function(j,E){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,E,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function I(){}I.prototype=k.prototype;function B(j,E,K){this.props=j,this.context=E,this.refs=b,this.updater=K||N}var R=B.prototype=new I;R.constructor=B,g(R,k.prototype),R.isPureReactComponent=!0;var U=Array.isArray;function Y(){}var H={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function P(j,E,K){var X=K.ref;return{$$typeof:c,type:j,key:E,ref:X!==void 0?X:null,props:K}}function F(j,E){return P(j.type,E,j.props)}function J(j){return typeof j=="object"&&j!==null&&j.$$typeof===c}function G(j){var E={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(K){return E[K]})}var O=/\/+/g;function p(j,E){return typeof j=="object"&&j!==null&&j.key!=null?G(""+j.key):E.toString(36)}function h(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Y,Y):(j.status="pending",j.then(function(E){j.status==="pending"&&(j.status="fulfilled",j.value=E)},function(E){j.status==="pending"&&(j.status="rejected",j.reason=E)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function z(j,E,K,X,Q){var te=typeof j;(te==="undefined"||te==="boolean")&&(j=null);var re=!1;if(j===null)re=!0;else switch(te){case"bigint":case"string":case"number":re=!0;break;case"object":switch(j.$$typeof){case c:case r:re=!0;break;case _:return re=j._init,z(re(j._payload),E,K,X,Q)}}if(re)return Q=Q(j),re=X===""?"."+p(j,0):X,U(Q)?(K="",re!=null&&(K=re.replace(O,"$&/")+"/"),z(Q,E,K,"",function(be){return be})):Q!=null&&(J(Q)&&(Q=F(Q,K+(Q.key==null||j&&j.key===Q.key?"":(""+Q.key).replace(O,"$&/")+"/")+re)),E.push(Q)),1;re=0;var oe=X===""?".":X+":";if(U(j))for(var he=0;he<j.length;he++)X=j[he],te=oe+p(X,he),re+=z(X,E,K,te,Q);else if(he=M(j),typeof he=="function")for(j=he.call(j),he=0;!(X=j.next()).done;)X=X.value,te=oe+p(X,he++),re+=z(X,E,K,te,Q);else if(te==="object"){if(typeof j.then=="function")return z(h(j),E,K,X,Q);throw E=String(j),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return re}function D(j,E,K){if(j==null)return j;var X=[],Q=0;return z(j,X,"","",function(te){return E.call(K,te,Q++)}),X}function A(j){if(j._status===-1){var E=j._result;E=E(),E.then(function(K){(j._status===0||j._status===-1)&&(j._status=1,j._result=K)},function(K){(j._status===0||j._status===-1)&&(j._status=2,j._result=K)}),j._status===-1&&(j._status=0,j._result=E)}if(j._status===1)return j._result.default;throw j._result}var q=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(E))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},L={map:D,forEach:function(j,E,K){D(j,function(){E.apply(this,arguments)},K)},count:function(j){var E=0;return D(j,function(){E++}),E},toArray:function(j){return D(j,function(E){return E})||[]},only:function(j){if(!J(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ne.Activity=S,Ne.Children=L,Ne.Component=k,Ne.Fragment=a,Ne.Profiler=f,Ne.PureComponent=B,Ne.StrictMode=i,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(j){return H.H.useMemoCache(j)}},Ne.cache=function(j){return function(){return j.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(j,E,K){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var X=g({},j.props),Q=j.key;if(E!=null)for(te in E.key!==void 0&&(Q=""+E.key),E)!Z.call(E,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&E.ref===void 0||(X[te]=E[te]);var te=arguments.length-2;if(te===1)X.children=K;else if(1<te){for(var re=Array(te),oe=0;oe<te;oe++)re[oe]=arguments[oe+2];X.children=re}return P(j.type,Q,X)},Ne.createContext=function(j){return j={$$typeof:v,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Ne.createElement=function(j,E,K){var X,Q={},te=null;if(E!=null)for(X in E.key!==void 0&&(te=""+E.key),E)Z.call(E,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(Q[X]=E[X]);var re=arguments.length-2;if(re===1)Q.children=K;else if(1<re){for(var oe=Array(re),he=0;he<re;he++)oe[he]=arguments[he+2];Q.children=oe}if(j&&j.defaultProps)for(X in re=j.defaultProps,re)Q[X]===void 0&&(Q[X]=re[X]);return P(j,te,Q)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(j){return{$$typeof:y,render:j}},Ne.isValidElement=J,Ne.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:A}},Ne.memo=function(j,E){return{$$typeof:m,type:j,compare:E===void 0?null:E}},Ne.startTransition=function(j){var E=H.T,K={};H.T=K;try{var X=j(),Q=H.S;Q!==null&&Q(K,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Y,q)}catch(te){q(te)}finally{E!==null&&K.types!==null&&(E.types=K.types),H.T=E}},Ne.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ne.use=function(j){return H.H.use(j)},Ne.useActionState=function(j,E,K){return H.H.useActionState(j,E,K)},Ne.useCallback=function(j,E){return H.H.useCallback(j,E)},Ne.useContext=function(j){return H.H.useContext(j)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(j,E){return H.H.useDeferredValue(j,E)},Ne.useEffect=function(j,E){return H.H.useEffect(j,E)},Ne.useEffectEvent=function(j){return H.H.useEffectEvent(j)},Ne.useId=function(){return H.H.useId()},Ne.useImperativeHandle=function(j,E,K){return H.H.useImperativeHandle(j,E,K)},Ne.useInsertionEffect=function(j,E){return H.H.useInsertionEffect(j,E)},Ne.useLayoutEffect=function(j,E){return H.H.useLayoutEffect(j,E)},Ne.useMemo=function(j,E){return H.H.useMemo(j,E)},Ne.useOptimistic=function(j,E){return H.H.useOptimistic(j,E)},Ne.useReducer=function(j,E,K){return H.H.useReducer(j,E,K)},Ne.useRef=function(j){return H.H.useRef(j)},Ne.useState=function(j){return H.H.useState(j)},Ne.useSyncExternalStore=function(j,E,K){return H.H.useSyncExternalStore(j,E,K)},Ne.useTransition=function(){return H.H.useTransition()},Ne.version="19.2.3",Ne}var Ed;function Rx(){return Ed||(Ed=1,rx.exports=vh()),rx.exports}var ee=Rx(),cx={exports:{}},tr={},ux={exports:{}},xx={};var qd;function yh(){return qd||(qd=1,(function(c){function r(z,D){var A=z.length;z.push(D);e:for(;0<A;){var q=A-1>>>1,L=z[q];if(0<f(L,D))z[q]=D,z[A]=L,A=q;else break e}}function a(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var D=z[0],A=z.pop();if(A!==D){z[0]=A;e:for(var q=0,L=z.length,j=L>>>1;q<j;){var E=2*(q+1)-1,K=z[E],X=E+1,Q=z[X];if(0>f(K,A))X<L&&0>f(Q,K)?(z[q]=Q,z[X]=A,q=X):(z[q]=K,z[E]=A,q=E);else if(X<L&&0>f(Q,A))z[q]=Q,z[X]=A,q=X;else break e}}return D}function f(z,D){var A=z.sortIndex-D.sortIndex;return A!==0?A:z.id-D.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var v=Date,y=v.now();c.unstable_now=function(){return v.now()-y}}var d=[],m=[],_=1,S=null,w=3,M=!1,N=!1,g=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function R(z){for(var D=a(m);D!==null;){if(D.callback===null)i(m);else if(D.startTime<=z)i(m),D.sortIndex=D.expirationTime,r(d,D);else break;D=a(m)}}function U(z){if(g=!1,R(z),!N)if(a(d)!==null)N=!0,Y||(Y=!0,G());else{var D=a(m);D!==null&&h(U,D.startTime-z)}}var Y=!1,H=-1,Z=5,P=-1;function F(){return b?!0:!(c.unstable_now()-P<Z)}function J(){if(b=!1,Y){var z=c.unstable_now();P=z;var D=!0;try{e:{N=!1,g&&(g=!1,I(H),H=-1),M=!0;var A=w;try{t:{for(R(z),S=a(d);S!==null&&!(S.expirationTime>z&&F());){var q=S.callback;if(typeof q=="function"){S.callback=null,w=S.priorityLevel;var L=q(S.expirationTime<=z);if(z=c.unstable_now(),typeof L=="function"){S.callback=L,R(z),D=!0;break t}S===a(d)&&i(d),R(z)}else i(d);S=a(d)}if(S!==null)D=!0;else{var j=a(m);j!==null&&h(U,j.startTime-z),D=!1}}break e}finally{S=null,w=A,M=!1}D=void 0}}finally{D?G():Y=!1}}}var G;if(typeof B=="function")G=function(){B(J)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,p=O.port2;O.port1.onmessage=J,G=function(){p.postMessage(null)}}else G=function(){k(J,0)};function h(z,D){H=k(function(){z(c.unstable_now())},D)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(z){z.callback=null},c.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<z?Math.floor(1e3/z):5},c.unstable_getCurrentPriorityLevel=function(){return w},c.unstable_next=function(z){switch(w){case 1:case 2:case 3:var D=3;break;default:D=w}var A=w;w=D;try{return z()}finally{w=A}},c.unstable_requestPaint=function(){b=!0},c.unstable_runWithPriority=function(z,D){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var A=w;w=z;try{return D()}finally{w=A}},c.unstable_scheduleCallback=function(z,D,A){var q=c.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?q+A:q):A=q,z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=A+L,z={id:_++,callback:D,priorityLevel:z,startTime:A,expirationTime:L,sortIndex:-1},A>q?(z.sortIndex=A,r(m,z),a(d)===null&&z===a(m)&&(g?(I(H),H=-1):g=!0,h(U,A-q))):(z.sortIndex=L,r(d,z),N||M||(N=!0,Y||(Y=!0,G()))),z},c.unstable_shouldYield=F,c.unstable_wrapCallback=function(z){var D=w;return function(){var A=w;w=D;try{return z.apply(this,arguments)}finally{w=A}}}})(xx)),xx}var Bd;function ph(){return Bd||(Bd=1,ux.exports=yh()),ux.exports}var sx={exports:{}},Kt={};var kd;function _h(){if(kd)return Kt;kd=1;var c=Rx();function r(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function o(d,m,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:S==null?null:""+S,children:d,containerInfo:m,implementation:_}}var v=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Kt.createPortal=function(d,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return o(d,m,null,_)},Kt.flushSync=function(d){var m=v.T,_=i.p;try{if(v.T=null,i.p=2,d)return d()}finally{v.T=m,i.p=_,i.d.f()}},Kt.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},Kt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Kt.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var _=m.as,S=y(_,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,M=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:M}):_==="script"&&i.d.X(d,{crossOrigin:S,integrity:w,fetchPriority:M,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Kt.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=y(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},Kt.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,S=y(_,m.crossOrigin);i.d.L(d,_,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Kt.preloadModule=function(d,m){if(typeof d=="string")if(m){var _=y(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},Kt.requestFormReset=function(d){i.d.r(d)},Kt.unstable_batchedUpdates=function(d,m){return d(m)},Kt.useFormState=function(d,m,_){return v.H.useFormState(d,m,_)},Kt.useFormStatus=function(){return v.H.useHostTransitionStatus()},Kt.version="19.2.3",Kt}var Id;function Sh(){if(Id)return sx.exports;Id=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),sx.exports=_h(),sx.exports}var Rd;function wh(){if(Rd)return tr;Rd=1;var c=ph(),r=Rx(),a=Sh();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(i(188))}function m(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var s=u.alternate;if(s===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===s.child){for(s=u.child;s;){if(s===n)return d(u),e;if(s===l)return d(u),t;s=s.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=s;else{for(var C=!1,T=u.child;T;){if(T===n){C=!0,n=u,l=s;break}if(T===l){C=!0,l=u,n=s;break}T=T.sibling}if(!C){for(T=s.child;T;){if(T===n){C=!0,n=s,l=u;break}if(T===l){C=!0,l=s,n=u;break}T=T.sibling}if(!C)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),B=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function p(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case k:return"Profiler";case b:return"StrictMode";case U:return"Suspense";case Y:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case B:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case R:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:p(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return p(e(t))}catch{}}return null}var h=Array.isArray,z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A={pending:!1,data:null,method:null,action:null},q=[],L=-1;function j(e){return{current:e}}function E(e){0>L||(e.current=q[L],q[L]=null,L--)}function K(e,t){L++,q[L]=e.current,e.current=t}var X=j(null),Q=j(null),te=j(null),re=j(null);function oe(e,t){switch(K(te,t),K(Q,e),K(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$f(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$f(t),e=ed(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}E(X),K(X,e)}function he(){E(X),E(Q),E(te)}function be(e){e.memoizedState!==null&&K(re,e);var t=X.current,n=ed(t,e.type);t!==n&&(K(Q,e),K(X,n))}function de(e){Q.current===e&&(E(X),E(Q)),re.current===e&&(E(re),Qi._currentValue=A)}var pe,Te;function Je(e){if(pe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pe=t&&t[1]||"",Te=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+Te}var Be=!1;function vt(e,t){if(!e||Be)return"";Be=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ie){var ae=ie}Reflect.construct(e,[],xe)}else{try{xe.call()}catch(ie){ae=ie}e.call(xe.prototype)}}else{try{throw Error()}catch(ie){ae=ie}(xe=e())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ie){if(ie&&ae&&typeof ie.stack=="string")return[ie.stack,ae.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),C=s[0],T=s[1];if(C&&T){var V=C.split(`
`),le=T.split(`
`);for(u=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;u<le.length&&!le[u].includes("DetermineComponentFrameRoot");)u++;if(l===V.length||u===le.length)for(l=V.length-1,u=le.length-1;1<=l&&0<=u&&V[l]!==le[u];)u--;for(;1<=l&&0<=u;l--,u--)if(V[l]!==le[u]){if(l!==1||u!==1)do if(l--,u--,0>u||V[l]!==le[u]){var ce=`
`+V[l].replace(" at new "," at ");return e.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",e.displayName)),ce}while(1<=l&&0<=u);break}}}finally{Be=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Je(n):""}function zt(e,t){switch(e.tag){case 26:case 27:case 5:return Je(e.type);case 16:return Je("Lazy");case 13:return e.child!==t&&t!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return vt(e.type,!1);case 11:return vt(e.type.render,!1);case 1:return vt(e.type,!0);case 31:return Je("Activity");default:return""}}function Lt(e){try{var t="",n=null;do t+=zt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,Ut=c.unstable_scheduleCallback,nn=c.unstable_cancelCallback,Jn=c.unstable_shouldYield,Vn=c.unstable_requestPaint,Fe=c.unstable_now,vn=c.unstable_getCurrentPriorityLevel,Dl=c.unstable_ImmediatePriority,il=c.unstable_UserBlockingPriority,rl=c.unstable_NormalPriority,Nl=c.unstable_LowPriority,aa=c.unstable_IdlePriority,Wn=c.log,oi=c.unstable_setDisableYieldValue,On=null,Bt=null;function yn(e){if(typeof Wn=="function"&&oi(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(On,e)}catch{}}var Oe=Math.clz32?Math.clz32:Ie,fe=Math.log,ke=Math.LN2;function Ie(e){return e>>>=0,e===0?32:31-(fe(e)/ke|0)|0}var we=256,_e=262144,Ae=4194304;function ze(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,s=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~s,l!==0?u=ze(l):(C&=T,C!==0?u=ze(C):n||(n=T&~e,n!==0&&(u=ze(n))))):(T=l&~s,T!==0?u=ze(T):C!==0?u=ze(C):n||(n=l&~e,n!==0&&(u=ze(n)))),u===0?0:t!==0&&t!==u&&(t&s)===0&&(s=u&-u,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:u}function $e(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function et(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function We(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kt(e,t,n,l,u,s){var C=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,V=e.expirationTimes,le=e.hiddenUpdates;for(n=C&~n;0<n;){var ce=31-Oe(n),xe=1<<ce;T[ce]=0,V[ce]=-1;var ae=le[ce];if(ae!==null)for(le[ce]=null,ce=0;ce<ae.length;ce++){var ie=ae[ce];ie!==null&&(ie.lane&=-536870913)}n&=~xe}l!==0&&tt(e,l,0),s!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=s&~(C&~t))}function tt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Oe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Oe(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function rt(e,t){var n=t&-t;return n=(n&42)!==0?1:lt(n),(n&(e.suspendedLanes|t))!==0?0:n}function lt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pn(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:wd(e.type))}function Ca(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var Xt=Math.random().toString(36).slice(2),De="__reactFiber$"+Xt,It="__reactProps$"+Xt,Al="__reactContainer$"+Xt,_n="__reactEvents$"+Xt,Q0="__reactListeners$"+Xt,P0="__reactHandles$"+Xt,dr="__reactResources$"+Xt,ia="__reactMarker$"+Xt;function fi(e){delete e[De],delete e[It],delete e[_n],delete e[Q0],delete e[P0]}function Ll(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Al]||n[De]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cd(e);e!==null;){if(n=e[De])return n;e=cd(e)}return t}e=n,n=e.parentNode}return null}function me(e){if(e=e[De]||e[Al]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Se(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Re(e){var t=e[dr];return t||(t=e[dr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[ia]=!0}var St=new Set,Qn={};function cl(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(Qn[e]=t,e=0;e<t.length;e++)St.add(t[e])}var c1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ox={},Yx={};function u1(e){return dt.call(Yx,e)?!0:dt.call(Ox,e)?!1:c1.test(e)?Yx[e]=!0:(Ox[e]=!0,!1)}function hr(e,t,n){if(u1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function mr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ul(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ux(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(C){n=""+C,s.call(this,C)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(C){n=""+C},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function F0(e){if(!e._valueTracker){var t=Ux(e)?"checked":"value";e._valueTracker=x1(e,t,""+e[t])}}function Kx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Ux(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function br(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var s1=/[\n"\\]/g;function wn(e){return e.replace(s1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $0(e,t,n,l,u,s,C,T){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),t!=null?C==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),t!=null?ec(e,C,Sn(t)):n!=null?ec(e,C,Sn(n)):l!=null&&e.removeAttribute("value"),u==null&&s!=null&&(e.defaultChecked=!!s),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Sn(T):e.removeAttribute("name")}function Zx(e,t,n,l,u,s,C,T){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){F0(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),F0(e)}function ec(e,t,n){t==="number"&&br(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Xx(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function Jx(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(h(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),F0(e)}function za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var o1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vx(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||o1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Wx(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Vx(e,u,l)}else for(var s in t)t.hasOwnProperty(s)&&Vx(e,s,t[s])}function tc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),d1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gr(e){return d1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xl(){}var nc=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Na=null;function Qx(e){var t=me(e);if(t&&(e=t.stateNode)){var n=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if($0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[It]||null;if(!u)throw Error(i(90));$0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Kx(l)}break e;case"textarea":Xx(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var ac=!1;function Px(e,t,n){if(ac)return e(t,n);ac=!0;try{var l=e(t);return l}finally{if(ac=!1,(Da!==null||Na!==null)&&(a0(),Da&&(t=Da,e=Na,Na=Da=null,Qx(t),e)))for(t=0;t<e.length;t++)Qx(e[t])}}function di(e,t){var n=e.stateNode;if(n===null)return null;var l=n[It]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var sl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(sl)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){ic=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{ic=!1}var Tl=null,rc=null,vr=null;function Fx(){if(vr)return vr;var e,t=rc,n=t.length,l,u="value"in Tl?Tl.value:Tl.textContent,s=u.length;for(e=0;e<n&&t[e]===u[e];e++);var C=n-e;for(l=1;l<=C&&t[n-l]===u[s-l];l++);return vr=u.slice(e,1<l?1-l:void 0)}function yr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pr(){return!0}function $x(){return!1}function Jt(e){function t(n,l,u,s,C){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=s,this.target=C,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(s):s[T]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pr:$x,this.isPropagationStopped=$x,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_r=Jt(ra),mi=S({},ra,{view:0,detail:0}),h1=Jt(mi),cc,uc,bi,Sr=S({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(cc=e.screenX-bi.screenX,uc=e.screenY-bi.screenY):uc=cc=0,bi=e),cc)},movementY:function(e){return"movementY"in e?e.movementY:uc}}),es=Jt(Sr),m1=S({},Sr,{dataTransfer:0}),b1=Jt(m1),g1=S({},mi,{relatedTarget:0}),xc=Jt(g1),v1=S({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),y1=Jt(v1),p1=S({},ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_1=Jt(p1),S1=S({},ra,{data:0}),ts=Jt(S1),w1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j1[e])?!!t[e]:!1}function sc(){return M1}var z1=S({},mi,{key:function(e){if(e.key){var t=w1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),D1=Jt(z1),N1=S({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=Jt(N1),A1=S({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),L1=Jt(A1),T1=S({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),E1=Jt(T1),q1=S({},Sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B1=Jt(q1),k1=S({},ra,{newState:0,oldState:0}),I1=Jt(k1),R1=[9,13,27,32],oc=sl&&"CompositionEvent"in window,gi=null;sl&&"documentMode"in document&&(gi=document.documentMode);var G1=sl&&"TextEvent"in window&&!gi,ls=sl&&(!oc||gi&&8<gi&&11>=gi),as=" ",is=!1;function rs(e,t){switch(e){case"keyup":return R1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function H1(e,t){switch(e){case"compositionend":return cs(t);case"keypress":return t.which!==32?null:(is=!0,as);case"textInput":return e=t.data,e===as&&is?null:e;default:return null}}function O1(e,t){if(Aa)return e==="compositionend"||!oc&&rs(e,t)?(e=Fx(),vr=rc=Tl=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ls&&t.locale!=="ko"?null:t.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Y1[e.type]:t==="textarea"}function xs(e,t,n,l){Da?Na?Na.push(l):Na=[l]:Da=l,t=o0(t,"onChange"),0<t.length&&(n=new _r("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var vi=null,yi=null;function U1(e){Jf(e,0)}function wr(e){var t=Se(e);if(Kx(t))return e}function ss(e,t){if(e==="change")return t}var os=!1;if(sl){var fc;if(sl){var dc="oninput"in document;if(!dc){var fs=document.createElement("div");fs.setAttribute("oninput","return;"),dc=typeof fs.oninput=="function"}fc=dc}else fc=!1;os=fc&&(!document.documentMode||9<document.documentMode)}function ds(){vi&&(vi.detachEvent("onpropertychange",hs),yi=vi=null)}function hs(e){if(e.propertyName==="value"&&wr(yi)){var t=[];xs(t,yi,e,lc(e)),Px(U1,t)}}function K1(e,t,n){e==="focusin"?(ds(),vi=t,yi=n,vi.attachEvent("onpropertychange",hs)):e==="focusout"&&ds()}function Z1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wr(yi)}function X1(e,t){if(e==="click")return wr(t)}function J1(e,t){if(e==="input"||e==="change")return wr(t)}function V1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:V1;function pi(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!dt.call(t,u)||!ln(e[u],t[u]))return!1}return!0}function ms(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bs(e,t){var n=ms(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ms(n)}}function gs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=br(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=br(e.document)}return t}function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var W1=sl&&"documentMode"in document&&11>=document.documentMode,La=null,mc=null,_i=null,bc=!1;function ys(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bc||La==null||La!==br(l)||(l=La,"selectionStart"in l&&hc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_i&&pi(_i,l)||(_i=l,l=o0(mc,"onSelect"),0<l.length&&(t=new _r("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=La)))}function ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ta={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},gc={},ps={};sl&&(ps=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function ua(e){if(gc[e])return gc[e];if(!Ta[e])return e;var t=Ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ps)return gc[e]=t[n];return e}var _s=ua("animationend"),Ss=ua("animationiteration"),ws=ua("animationstart"),Q1=ua("transitionrun"),P1=ua("transitionstart"),F1=ua("transitioncancel"),Cs=ua("transitionend"),js=new Map,vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vc.push("scrollEnd");function Yn(e,t){js.set(e,t),cl(t,[e])}var Cr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],Ea=0,yc=0;function jr(){for(var e=Ea,t=yc=Ea=0;t<e;){var n=Cn[t];Cn[t++]=null;var l=Cn[t];Cn[t++]=null;var u=Cn[t];Cn[t++]=null;var s=Cn[t];if(Cn[t++]=null,l!==null&&u!==null){var C=l.pending;C===null?u.next=u:(u.next=C.next,C.next=u),l.pending=u}s!==0&&Ms(n,u,s)}}function Mr(e,t,n,l){Cn[Ea++]=e,Cn[Ea++]=t,Cn[Ea++]=n,Cn[Ea++]=l,yc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function pc(e,t,n,l){return Mr(e,t,n,l),zr(e)}function xa(e,t){return Mr(e,null,null,t),zr(e)}function Ms(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(u=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,u&&t!==null&&(u=31-Oe(n),e=s.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),s):null}function zr(e){if(50<Ui)throw Ui=0,Nu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qa={};function $1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,n,l){return new $1(e,t,n,l)}function _c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ol(e,t){var n=e.alternate;return n===null?(n=an(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zs(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Dr(e,t,n,l,u,s){var C=0;if(l=e,typeof e=="function")_c(e)&&(C=1);else if(typeof e=="string")C=ah(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=an(31,n,t,u),e.elementType=P,e.lanes=s,e;case g:return sa(n.children,u,s,t);case b:C=8,u|=24;break;case k:return e=an(12,n,t,u|2),e.elementType=k,e.lanes=s,e;case U:return e=an(13,n,t,u),e.elementType=U,e.lanes=s,e;case Y:return e=an(19,n,t,u),e.elementType=Y,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:C=10;break e;case I:C=9;break e;case R:C=11;break e;case H:C=14;break e;case Z:C=16,l=null;break e}C=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=an(C,n,t,u),t.elementType=e,t.type=l,t.lanes=s,t}function sa(e,t,n,l){return e=an(7,e,l,t),e.lanes=n,e}function Sc(e,t,n){return e=an(6,e,null,t),e.lanes=n,e}function Ds(e){var t=an(18,null,null,0);return t.stateNode=e,t}function wc(e,t,n){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ns=new WeakMap;function jn(e,t){if(typeof e=="object"&&e!==null){var n=Ns.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Lt(t)},Ns.set(e,t),t)}return{value:e,source:t,stack:Lt(t)}}var Ba=[],ka=0,Nr=null,Si=0,Mn=[],zn=0,El=null,Pn=1,Fn="";function fl(e,t){Ba[ka++]=Si,Ba[ka++]=Nr,Nr=e,Si=t}function As(e,t,n){Mn[zn++]=Pn,Mn[zn++]=Fn,Mn[zn++]=El,El=e;var l=Pn;e=Fn;var u=32-Oe(l)-1;l&=~(1<<u),n+=1;var s=32-Oe(t)+u;if(30<s){var C=u-u%5;s=(l&(1<<C)-1).toString(32),l>>=C,u-=C,Pn=1<<32-Oe(t)+u|n<<u|l,Fn=s+e}else Pn=1<<s|n<<u|l,Fn=e}function Cc(e){e.return!==null&&(fl(e,1),As(e,1,0))}function jc(e){for(;e===Nr;)Nr=Ba[--ka],Ba[ka]=null,Si=Ba[--ka],Ba[ka]=null;for(;e===El;)El=Mn[--zn],Mn[zn]=null,Fn=Mn[--zn],Mn[zn]=null,Pn=Mn[--zn],Mn[zn]=null}function Ls(e,t){Mn[zn++]=Pn,Mn[zn++]=Fn,Mn[zn++]=El,Pn=t.id,Fn=t.overflow,El=e}var Rt=null,ot=null,Ke=!1,ql=null,Dn=!1,Mc=Error(i(519));function Bl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wi(jn(t,e)),Mc}function Ts(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[De]=e,t[It]=l,n){case"dialog":He("cancel",t),He("close",t);break;case"iframe":case"object":case"embed":He("load",t);break;case"video":case"audio":for(n=0;n<Zi.length;n++)He(Zi[n],t);break;case"source":He("error",t);break;case"img":case"image":case"link":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"input":He("invalid",t),Zx(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":He("invalid",t);break;case"textarea":He("invalid",t),Jx(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Pf(t.textContent,n)?(l.popover!=null&&(He("beforetoggle",t),He("toggle",t)),l.onScroll!=null&&He("scroll",t),l.onScrollEnd!=null&&He("scrollend",t),l.onClick!=null&&(t.onclick=xl),t=!0):t=!1,t||Bl(e,!0)}function Es(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Rt=Rt.return}}function Ia(e){if(e!==Rt)return!1;if(!Ke)return Es(e),Ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ku(e.type,e.memoizedProps)),n=!n),n&&ot&&Bl(e),Es(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ot=rd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ot=rd(e)}else t===27?(t=ot,Wl(e.type)?(e=Wu,Wu=null,ot=e):ot=t):ot=Rt?An(e.stateNode.nextSibling):null;return!0}function oa(){ot=Rt=null,Ke=!1}function zc(){var e=ql;return e!==null&&(Pt===null?Pt=e:Pt.push.apply(Pt,e),ql=null),e}function wi(e){ql===null?ql=[e]:ql.push(e)}var Dc=j(null),fa=null,dl=null;function kl(e,t,n){K(Dc,t._currentValue),t._currentValue=n}function hl(e){e._currentValue=Dc.current,E(Dc)}function Nc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Ac(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var s=u.dependencies;if(s!==null){var C=u.child;s=s.firstContext;e:for(;s!==null;){var T=s;s=u;for(var V=0;V<t.length;V++)if(T.context===t[V]){s.lanes|=n,T=s.alternate,T!==null&&(T.lanes|=n),Nc(s.return,n,e),l||(C=null);break e}s=T.next}}else if(u.tag===18){if(C=u.return,C===null)throw Error(i(341));C.lanes|=n,s=C.alternate,s!==null&&(s.lanes|=n),Nc(C,n,e),C=null}else C=u.child;if(C!==null)C.return=u;else for(C=u;C!==null;){if(C===e){C=null;break}if(u=C.sibling,u!==null){u.return=C.return,C=u;break}C=C.return}u=C}}function Ra(e,t,n,l){e=null;for(var u=t,s=!1;u!==null;){if(!s){if((u.flags&524288)!==0)s=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var C=u.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var T=u.type;ln(u.pendingProps.value,C.value)||(e!==null?e.push(T):e=[T])}}else if(u===re.current){if(C=u.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Qi):e=[Qi])}u=u.return}e!==null&&Ac(t,e,n,l),t.flags|=262144}function Ar(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function da(e){fa=e,dl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return qs(fa,e)}function Lr(e,t){return fa===null&&da(e),qs(e,t)}function qs(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},dl===null){if(e===null)throw Error(i(308));dl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dl=dl.next=t;return n}var e2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},t2=c.unstable_scheduleCallback,n2=c.unstable_NormalPriority,wt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new e2,data:new Map,refCount:0}}function Ci(e){e.refCount--,e.refCount===0&&t2(n2,function(){e.controller.abort()})}var ji=null,Tc=0,Ga=0,Ha=null;function l2(e,t){if(ji===null){var n=ji=[];Tc=0,Ga=Bu(),Ha={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Tc++,t.then(Bs,Bs),t}function Bs(){if(--Tc===0&&ji!==null){Ha!==null&&(Ha.status="fulfilled");var e=ji;ji=null,Ga=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function a2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var ks=z.S;z.S=function(e,t){_f=Fe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&l2(e,t),ks!==null&&ks(e,t)};var ha=j(null);function Ec(){var e=ha.current;return e!==null?e:st.pooledCache}function Tr(e,t){t===null?K(ha,ha.current):K(ha,t.pool)}function Is(){var e=Ec();return e===null?null:{parent:wt._currentValue,pool:e}}var Oa=Error(i(460)),qc=Error(i(474)),Er=Error(i(542)),qr={then:function(){}};function Rs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(xl,xl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Os(e),e;default:if(typeof t.status=="string")t.then(xl,xl);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Os(e),e}throw ba=t,Oa}}function ma(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ba=n,Oa):n}}var ba=null;function Hs(){if(ba===null)throw Error(i(459));var e=ba;return ba=null,e}function Os(e){if(e===Oa||e===Er)throw Error(i(483))}var Ya=null,Mi=0;function Br(e){var t=Mi;return Mi+=1,Ya===null&&(Ya=[]),Gs(Ya,e,t)}function zi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function kr(e,t){throw t.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ys(e){function t($,W){if(e){var ne=$.deletions;ne===null?($.deletions=[W],$.flags|=16):ne.push(W)}}function n($,W){if(!e)return null;for(;W!==null;)t($,W),W=W.sibling;return null}function l($){for(var W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function u($,W){return $=ol($,W),$.index=0,$.sibling=null,$}function s($,W,ne){return $.index=ne,e?(ne=$.alternate,ne!==null?(ne=ne.index,ne<W?($.flags|=67108866,W):ne):($.flags|=67108866,W)):($.flags|=1048576,W)}function C($){return e&&$.alternate===null&&($.flags|=67108866),$}function T($,W,ne,ue){return W===null||W.tag!==6?(W=Sc(ne,$.mode,ue),W.return=$,W):(W=u(W,ne),W.return=$,W)}function V($,W,ne,ue){var je=ne.type;return je===g?ce($,W,ne.props.children,ue,ne.key):W!==null&&(W.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Z&&ma(je)===W.type)?(W=u(W,ne.props),zi(W,ne),W.return=$,W):(W=Dr(ne.type,ne.key,ne.props,null,$.mode,ue),zi(W,ne),W.return=$,W)}function le($,W,ne,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==ne.containerInfo||W.stateNode.implementation!==ne.implementation?(W=wc(ne,$.mode,ue),W.return=$,W):(W=u(W,ne.children||[]),W.return=$,W)}function ce($,W,ne,ue,je){return W===null||W.tag!==7?(W=sa(ne,$.mode,ue,je),W.return=$,W):(W=u(W,ne),W.return=$,W)}function xe($,W,ne){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Sc(""+W,$.mode,ne),W.return=$,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return ne=Dr(W.type,W.key,W.props,null,$.mode,ne),zi(ne,W),ne.return=$,ne;case N:return W=wc(W,$.mode,ne),W.return=$,W;case Z:return W=ma(W),xe($,W,ne)}if(h(W)||G(W))return W=sa(W,$.mode,ne,null),W.return=$,W;if(typeof W.then=="function")return xe($,Br(W),ne);if(W.$$typeof===B)return xe($,Lr($,W),ne);kr($,W)}return null}function ae($,W,ne,ue){var je=W!==null?W.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return je!==null?null:T($,W,""+ne,ue);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:return ne.key===je?V($,W,ne,ue):null;case N:return ne.key===je?le($,W,ne,ue):null;case Z:return ne=ma(ne),ae($,W,ne,ue)}if(h(ne)||G(ne))return je!==null?null:ce($,W,ne,ue,null);if(typeof ne.then=="function")return ae($,W,Br(ne),ue);if(ne.$$typeof===B)return ae($,W,Lr($,ne),ue);kr($,ne)}return null}function ie($,W,ne,ue,je){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return $=$.get(ne)||null,T(W,$,""+ue,je);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:return $=$.get(ue.key===null?ne:ue.key)||null,V(W,$,ue,je);case N:return $=$.get(ue.key===null?ne:ue.key)||null,le(W,$,ue,je);case Z:return ue=ma(ue),ie($,W,ne,ue,je)}if(h(ue)||G(ue))return $=$.get(ne)||null,ce(W,$,ue,je,null);if(typeof ue.then=="function")return ie($,W,ne,Br(ue),je);if(ue.$$typeof===B)return ie($,W,ne,Lr(W,ue),je);kr(W,ue)}return null}function ge($,W,ne,ue){for(var je=null,Qe=null,ve=W,qe=W=0,Ue=null;ve!==null&&qe<ne.length;qe++){ve.index>qe?(Ue=ve,ve=null):Ue=ve.sibling;var Pe=ae($,ve,ne[qe],ue);if(Pe===null){ve===null&&(ve=Ue);break}e&&ve&&Pe.alternate===null&&t($,ve),W=s(Pe,W,qe),Qe===null?je=Pe:Qe.sibling=Pe,Qe=Pe,ve=Ue}if(qe===ne.length)return n($,ve),Ke&&fl($,qe),je;if(ve===null){for(;qe<ne.length;qe++)ve=xe($,ne[qe],ue),ve!==null&&(W=s(ve,W,qe),Qe===null?je=ve:Qe.sibling=ve,Qe=ve);return Ke&&fl($,qe),je}for(ve=l(ve);qe<ne.length;qe++)Ue=ie(ve,$,qe,ne[qe],ue),Ue!==null&&(e&&Ue.alternate!==null&&ve.delete(Ue.key===null?qe:Ue.key),W=s(Ue,W,qe),Qe===null?je=Ue:Qe.sibling=Ue,Qe=Ue);return e&&ve.forEach(function(ea){return t($,ea)}),Ke&&fl($,qe),je}function Me($,W,ne,ue){if(ne==null)throw Error(i(151));for(var je=null,Qe=null,ve=W,qe=W=0,Ue=null,Pe=ne.next();ve!==null&&!Pe.done;qe++,Pe=ne.next()){ve.index>qe?(Ue=ve,ve=null):Ue=ve.sibling;var ea=ae($,ve,Pe.value,ue);if(ea===null){ve===null&&(ve=Ue);break}e&&ve&&ea.alternate===null&&t($,ve),W=s(ea,W,qe),Qe===null?je=ea:Qe.sibling=ea,Qe=ea,ve=Ue}if(Pe.done)return n($,ve),Ke&&fl($,qe),je;if(ve===null){for(;!Pe.done;qe++,Pe=ne.next())Pe=xe($,Pe.value,ue),Pe!==null&&(W=s(Pe,W,qe),Qe===null?je=Pe:Qe.sibling=Pe,Qe=Pe);return Ke&&fl($,qe),je}for(ve=l(ve);!Pe.done;qe++,Pe=ne.next())Pe=ie(ve,$,qe,Pe.value,ue),Pe!==null&&(e&&Pe.alternate!==null&&ve.delete(Pe.key===null?qe:Pe.key),W=s(Pe,W,qe),Qe===null?je=Pe:Qe.sibling=Pe,Qe=Pe);return e&&ve.forEach(function(mh){return t($,mh)}),Ke&&fl($,qe),je}function xt($,W,ne,ue){if(typeof ne=="object"&&ne!==null&&ne.type===g&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:e:{for(var je=ne.key;W!==null;){if(W.key===je){if(je=ne.type,je===g){if(W.tag===7){n($,W.sibling),ue=u(W,ne.props.children),ue.return=$,$=ue;break e}}else if(W.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Z&&ma(je)===W.type){n($,W.sibling),ue=u(W,ne.props),zi(ue,ne),ue.return=$,$=ue;break e}n($,W);break}else t($,W);W=W.sibling}ne.type===g?(ue=sa(ne.props.children,$.mode,ue,ne.key),ue.return=$,$=ue):(ue=Dr(ne.type,ne.key,ne.props,null,$.mode,ue),zi(ue,ne),ue.return=$,$=ue)}return C($);case N:e:{for(je=ne.key;W!==null;){if(W.key===je)if(W.tag===4&&W.stateNode.containerInfo===ne.containerInfo&&W.stateNode.implementation===ne.implementation){n($,W.sibling),ue=u(W,ne.children||[]),ue.return=$,$=ue;break e}else{n($,W);break}else t($,W);W=W.sibling}ue=wc(ne,$.mode,ue),ue.return=$,$=ue}return C($);case Z:return ne=ma(ne),xt($,W,ne,ue)}if(h(ne))return ge($,W,ne,ue);if(G(ne)){if(je=G(ne),typeof je!="function")throw Error(i(150));return ne=je.call(ne),Me($,W,ne,ue)}if(typeof ne.then=="function")return xt($,W,Br(ne),ue);if(ne.$$typeof===B)return xt($,W,Lr($,ne),ue);kr($,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,W!==null&&W.tag===6?(n($,W.sibling),ue=u(W,ne),ue.return=$,$=ue):(n($,W),ue=Sc(ne,$.mode,ue),ue.return=$,$=ue),C($)):n($,W)}return function($,W,ne,ue){try{Mi=0;var je=xt($,W,ne,ue);return Ya=null,je}catch(ve){if(ve===Oa||ve===Er)throw ve;var Qe=an(29,ve,null,$.mode);return Qe.lanes=ue,Qe.return=$,Qe}}}var ga=Ys(!0),Us=Ys(!1),Il=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=zr(e),Ms(e,null,n),t}return Mr(e,l,t,n),zr(e)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Dt(e,n)}}function Ic(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var C={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?u=s=C:s=s.next=C,n=n.next}while(n!==null);s===null?u=s=t:s=s.next=t}else u=s=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Rc=!1;function Ni(){if(Rc){var e=Ha;if(e!==null)throw e}}function Ai(e,t,n,l){Rc=!1;var u=e.updateQueue;Il=!1;var s=u.firstBaseUpdate,C=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var V=T,le=V.next;V.next=null,C===null?s=le:C.next=le,C=V;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,T=ce.lastBaseUpdate,T!==C&&(T===null?ce.firstBaseUpdate=le:T.next=le,ce.lastBaseUpdate=V))}if(s!==null){var xe=u.baseState;C=0,ce=le=V=null,T=s;do{var ae=T.lane&-536870913,ie=ae!==T.lane;if(ie?(Ye&ae)===ae:(l&ae)===ae){ae!==0&&ae===Ga&&(Rc=!0),ce!==null&&(ce=ce.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ge=e,Me=T;ae=t;var xt=n;switch(Me.tag){case 1:if(ge=Me.payload,typeof ge=="function"){xe=ge.call(xt,xe,ae);break e}xe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Me.payload,ae=typeof ge=="function"?ge.call(xt,xe,ae):ge,ae==null)break e;xe=S({},xe,ae);break e;case 2:Il=!0}}ae=T.callback,ae!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[ae]:ie.push(ae))}else ie={lane:ae,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ce===null?(le=ce=ie,V=xe):ce=ce.next=ie,C|=ae;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;ie=T,T=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);ce===null&&(V=xe),u.baseState=V,u.firstBaseUpdate=le,u.lastBaseUpdate=ce,s===null&&(u.shared.lanes=0),Kl|=C,e.lanes=C,e.memoizedState=xe}}function Ks(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Zs(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ks(n[e],t)}var Ua=j(null),Ir=j(0);function Xs(e,t){e=wl,K(Ir,e),K(Ua,t),wl=e|t.baseLanes}function Gc(){K(Ir,wl),K(Ua,Ua.current)}function Hc(){wl=Ir.current,E(Ua),E(Ir)}var rn=j(null),Nn=null;function Hl(e){var t=e.alternate;K(yt,yt.current&1),K(rn,e),Nn===null&&(t===null||Ua.current!==null||t.memoizedState!==null)&&(Nn=e)}function Oc(e){K(yt,yt.current),K(rn,e),Nn===null&&(Nn=e)}function Js(e){e.tag===22?(K(yt,yt.current),K(rn,e),Nn===null&&(Nn=e)):Ol()}function Ol(){K(yt,yt.current),K(rn,rn.current)}function cn(e){E(rn),Nn===e&&(Nn=null),E(yt)}var yt=j(0);function Rr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ju(n)||Vu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ml=0,Ee=null,ct=null,Ct=null,Gr=!1,Ka=!1,va=!1,Hr=0,Li=0,Za=null,i2=0;function bt(){throw Error(i(321))}function Yc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function Uc(e,t,n,l,u,s){return ml=s,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Lo:au,va=!1,s=n(l,u),va=!1,Ka&&(s=Ws(t,n,l,u)),Vs(e),s}function Vs(e){z.H=qi;var t=ct!==null&&ct.next!==null;if(ml=0,Ct=ct=Ee=null,Gr=!1,Li=0,Za=null,t)throw Error(i(300));e===null||jt||(e=e.dependencies,e!==null&&Ar(e)&&(jt=!0))}function Ws(e,t,n,l){Ee=e;var u=0;do{if(Ka&&(Za=null),Li=0,Ka=!1,25<=u)throw Error(i(301));if(u+=1,Ct=ct=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}z.H=To,s=t(n,l)}while(Ka);return s}function r2(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Ti(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Ee.flags|=1024),t}function Kc(){var e=Hr!==0;return Hr=0,e}function Zc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Xc(e){if(Gr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gr=!1}ml=0,Ct=ct=Ee=null,Ka=!1,Li=Hr=0,Za=null}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ee.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function pt(){if(ct===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=Ct===null?Ee.memoizedState:Ct.next;if(t!==null)Ct=t,ct=e;else{if(e===null)throw Ee.alternate===null?Error(i(467)):Error(i(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ct===null?Ee.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ti(e){var t=Li;return Li+=1,Za===null&&(Za=[]),e=Gs(Za,e,t),t=Ee,(Ct===null?t.memoizedState:Ct.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Lo:au),e}function Yr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ti(e);if(e.$$typeof===B)return Gt(e)}throw Error(i(438,String(e)))}function Jc(e){var t=null,n=Ee.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Ee.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Or(),Ee.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=F;return t.index++,n}function bl(e,t){return typeof t=="function"?t(e):t}function Ur(e){var t=pt();return Vc(t,ct,e)}function Vc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,s=l.pending;if(s!==null){if(u!==null){var C=u.next;u.next=s.next,s.next=C}t.baseQueue=u=s,l.pending=null}if(s=e.baseState,u===null)e.memoizedState=s;else{t=u.next;var T=C=null,V=null,le=t,ce=!1;do{var xe=le.lane&-536870913;if(xe!==le.lane?(Ye&xe)===xe:(ml&xe)===xe){var ae=le.revertLane;if(ae===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),xe===Ga&&(ce=!0);else if((ml&ae)===ae){le=le.next,ae===Ga&&(ce=!0);continue}else xe={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},V===null?(T=V=xe,C=s):V=V.next=xe,Ee.lanes|=ae,Kl|=ae;xe=le.action,va&&n(s,xe),s=le.hasEagerState?le.eagerState:n(s,xe)}else ae={lane:xe,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},V===null?(T=V=ae,C=s):V=V.next=ae,Ee.lanes|=xe,Kl|=xe;le=le.next}while(le!==null&&le!==t);if(V===null?C=s:V.next=T,!ln(s,e.memoizedState)&&(jt=!0,ce&&(n=Ha,n!==null)))throw n;e.memoizedState=s,e.baseState=C,e.baseQueue=V,l.lastRenderedState=s}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Wc(e){var t=pt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,s=t.memoizedState;if(u!==null){n.pending=null;var C=u=u.next;do s=e(s,C.action),C=C.next;while(C!==u);ln(s,t.memoizedState)||(jt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Qs(e,t,n){var l=Ee,u=pt(),s=Ke;if(s){if(n===void 0)throw Error(i(407));n=n()}else n=t();var C=!ln((ct||u).memoizedState,n);if(C&&(u.memoizedState=n,jt=!0),u=u.queue,Fc($s.bind(null,l,u,e),[e]),u.getSnapshot!==t||C||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},Fs.bind(null,l,u,n,t),null),st===null)throw Error(i(349));s||(ml&127)!==0||Ps(l,t,n)}return n}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t=Or(),Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fs(e,t,n,l){t.value=n,t.getSnapshot=l,eo(t)&&to(e)}function $s(e,t,n){return n(function(){eo(t)&&to(e)})}function eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function to(e){var t=xa(e,2);t!==null&&Ft(t,e,2)}function Qc(e){var t=Zt();if(typeof e=="function"){var n=e;if(e=n(),va){yn(!0);try{n()}finally{yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t}function no(e,t,n,l){return e.baseState=n,Vc(e,ct,typeof l=="function"?l:bl)}function c2(e,t,n,l,u){if(Xr(e))throw Error(i(485));if(e=t.action,e!==null){var s={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){s.listeners.push(C)}};z.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,lo(t,s)):(s.next=n.next,t.pending=n.next=s)}}function lo(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var s=z.T,C={};z.T=C;try{var T=n(u,l),V=z.S;V!==null&&V(C,T),ao(e,t,T)}catch(le){Pc(e,t,le)}finally{s!==null&&C.types!==null&&(s.types=C.types),z.T=s}}else try{s=n(u,l),ao(e,t,s)}catch(le){Pc(e,t,le)}}function ao(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){io(e,t,l)},function(l){return Pc(e,t,l)}):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,ro(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,lo(e,n)))}function Pc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ro(t),t=t.next;while(t!==l)}e.action=null}function ro(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function co(e,t){return t}function uo(e,t){if(Ke){var n=st.formState;if(n!==null){e:{var l=Ee;if(Ke){if(ot){t:{for(var u=ot,s=Dn;u.nodeType!==8;){if(!s){u=null;break t}if(u=An(u.nextSibling),u===null){u=null;break t}}s=u.data,u=s==="F!"||s==="F"?u:null}if(u){ot=An(u.nextSibling),l=u.data==="F!";break e}}Bl(l)}l=!1}l&&(t=n[0])}}return n=Zt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},n.queue=l,n=Do.bind(null,Ee,l),l.dispatch=n,l=Qc(!1),s=lu.bind(null,Ee,!1,l.queue),l=Zt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=c2.bind(null,Ee,u,s,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function xo(e){var t=pt();return so(t,ct,e)}function so(e,t,n){if(t=Vc(e,t,co)[0],e=Ur(bl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ti(t)}catch(C){throw C===Oa?Er:C}else l=t;t=pt();var u=t.queue,s=u.dispatch;return n!==t.memoizedState&&(Ee.flags|=2048,Xa(9,{destroy:void 0},u2.bind(null,u,n),null)),[l,s,e]}function u2(e,t){e.action=t}function oo(e){var t=pt(),n=ct;if(n!==null)return so(t,n,e);pt(),t=t.memoizedState,n=pt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Xa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=Or(),Ee.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function fo(){return pt().memoizedState}function Kr(e,t,n,l){var u=Zt();Ee.flags|=e,u.memoizedState=Xa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Zr(e,t,n,l){var u=pt();l=l===void 0?null:l;var s=u.memoizedState.inst;ct!==null&&l!==null&&Yc(l,ct.memoizedState.deps)?u.memoizedState=Xa(t,s,n,l):(Ee.flags|=e,u.memoizedState=Xa(1|t,s,n,l))}function ho(e,t){Kr(8390656,8,e,t)}function Fc(e,t){Zr(2048,8,e,t)}function x2(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=Or(),Ee.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function mo(e){var t=pt().memoizedState;return x2({ref:t,nextImpl:e}),function(){if((nt&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function bo(e,t){return Zr(4,2,e,t)}function go(e,t){return Zr(4,4,e,t)}function vo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yo(e,t,n){n=n!=null?n.concat([e]):null,Zr(4,4,vo.bind(null,t,e),n)}function $c(){}function po(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Yc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function _o(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Yc(t,l[1]))return l[0];if(l=e(),va){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[l,t],l}function eu(e,t,n){return n===void 0||(ml&1073741824)!==0&&(Ye&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=wf(),Ee.lanes|=e,Kl|=e,n)}function So(e,t,n,l){return ln(n,t)?n:Ua.current!==null?(e=eu(e,n,l),ln(e,t)||(jt=!0),e):(ml&42)===0||(ml&1073741824)!==0&&(Ye&261930)===0?(jt=!0,e.memoizedState=n):(e=wf(),Ee.lanes|=e,Kl|=e,t)}function wo(e,t,n,l,u){var s=D.p;D.p=s!==0&&8>s?s:8;var C=z.T,T={};z.T=T,lu(e,!1,t,n);try{var V=u(),le=z.S;if(le!==null&&le(T,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ce=a2(V,l);Ei(e,t,ce,sn(e))}else Ei(e,t,l,sn(e))}catch(xe){Ei(e,t,{then:function(){},status:"rejected",reason:xe},sn())}finally{D.p=s,C!==null&&T.types!==null&&(C.types=T.types),z.T=C}}function s2(){}function tu(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=Co(e).queue;wo(e,u,t,A,n===null?s2:function(){return jo(e),n(l)})}function Co(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:A},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jo(e){var t=Co(e);t.next===null&&(t=e.alternate.memoizedState),Ei(e,t.next.queue,{},sn())}function nu(){return Gt(Qi)}function Mo(){return pt().memoizedState}function zo(){return pt().memoizedState}function o2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=sn();e=Rl(n);var l=Gl(t,e,n);l!==null&&(Ft(l,t,n),Di(l,t,n)),t={cache:Lc()},e.payload=t;return}t=t.return}}function f2(e,t,n){var l=sn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Xr(e)?No(t,n):(n=pc(e,t,n,l),n!==null&&(Ft(n,e,l),Ao(n,t,l)))}function Do(e,t,n){var l=sn();Ei(e,t,n,l)}function Ei(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xr(e))No(t,u);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var C=t.lastRenderedState,T=s(C,n);if(u.hasEagerState=!0,u.eagerState=T,ln(T,C))return Mr(e,t,u,0),st===null&&jr(),!1}catch{}if(n=pc(e,t,u,l),n!==null)return Ft(n,e,l),Ao(n,t,l),!0}return!1}function lu(e,t,n,l){if(l={lane:2,revertLane:Bu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xr(e)){if(t)throw Error(i(479))}else t=pc(e,n,l,2),t!==null&&Ft(t,e,2)}function Xr(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function No(e,t){Ka=Gr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ao(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Dt(e,n)}}var qi={readContext:Gt,use:Yr,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};qi.useEffectEvent=bt;var Lo={readContext:Gt,use:Yr,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:ho,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Kr(4194308,4,vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){Kr(4,2,e,t)},useMemo:function(e,t){var n=Zt();t=t===void 0?null:t;var l=e();if(va){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Zt();if(n!==void 0){var u=n(t);if(va){yn(!0);try{n(t)}finally{yn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=f2.bind(null,Ee,e),[l.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qc(e);var t=e.queue,n=Do.bind(null,Ee,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$c,useDeferredValue:function(e,t){var n=Zt();return eu(n,e,t)},useTransition:function(){var e=Qc(!1);return e=wo.bind(null,Ee,e.queue,!0,!1),Zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Ee,u=Zt();if(Ke){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),st===null)throw Error(i(349));(Ye&127)!==0||Ps(l,t,n)}u.memoizedState=n;var s={value:n,getSnapshot:t};return u.queue=s,ho($s.bind(null,l,s,e),[e]),l.flags|=2048,Xa(9,{destroy:void 0},Fs.bind(null,l,s,n,t),null),n},useId:function(){var e=Zt(),t=st.identifierPrefix;if(Ke){var n=Fn,l=Pn;n=(l&~(1<<32-Oe(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Hr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=i2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:nu,useFormState:uo,useActionState:uo,useOptimistic:function(e){var t=Zt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=lu.bind(null,Ee,!0,n),n.dispatch=t,[e,t]},useMemoCache:Jc,useCacheRefresh:function(){return Zt().memoizedState=o2.bind(null,Ee)},useEffectEvent:function(e){var t=Zt(),n={impl:e};return t.memoizedState=n,function(){if((nt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},au={readContext:Gt,use:Yr,useCallback:po,useContext:Gt,useEffect:Fc,useImperativeHandle:yo,useInsertionEffect:bo,useLayoutEffect:go,useMemo:_o,useReducer:Ur,useRef:fo,useState:function(){return Ur(bl)},useDebugValue:$c,useDeferredValue:function(e,t){var n=pt();return So(n,ct.memoizedState,e,t)},useTransition:function(){var e=Ur(bl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Qs,useId:Mo,useHostTransitionStatus:nu,useFormState:xo,useActionState:xo,useOptimistic:function(e,t){var n=pt();return no(n,ct,e,t)},useMemoCache:Jc,useCacheRefresh:zo};au.useEffectEvent=mo;var To={readContext:Gt,use:Yr,useCallback:po,useContext:Gt,useEffect:Fc,useImperativeHandle:yo,useInsertionEffect:bo,useLayoutEffect:go,useMemo:_o,useReducer:Wc,useRef:fo,useState:function(){return Wc(bl)},useDebugValue:$c,useDeferredValue:function(e,t){var n=pt();return ct===null?eu(n,e,t):So(n,ct.memoizedState,e,t)},useTransition:function(){var e=Wc(bl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Qs,useId:Mo,useHostTransitionStatus:nu,useFormState:oo,useActionState:oo,useOptimistic:function(e,t){var n=pt();return ct!==null?no(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Jc,useCacheRefresh:zo};To.useEffectEvent=mo;function iu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ru={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=sn(),u=Rl(l);u.payload=t,n!=null&&(u.callback=n),t=Gl(e,u,l),t!==null&&(Ft(t,e,l),Di(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=sn(),u=Rl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Gl(e,u,l),t!==null&&(Ft(t,e,l),Di(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sn(),l=Rl(n);l.tag=2,t!=null&&(l.callback=t),t=Gl(e,l,n),t!==null&&(Ft(t,e,n),Di(t,e,n))}};function Eo(e,t,n,l,u,s,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,C):t.prototype&&t.prototype.isPureReactComponent?!pi(n,l)||!pi(u,s):!0}function qo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ru.enqueueReplaceState(t,t.state,null)}function ya(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Bo(e){Cr(e)}function ko(e){console.error(e)}function Io(e){Cr(e)}function Jr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Ro(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function cu(e,t,n){return n=Rl(n),n.tag=3,n.payload={element:null},n.callback=function(){Jr(e,t)},n}function Go(e){return e=Rl(e),e.tag=3,e}function Ho(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var s=l.value;e.payload=function(){return u(s)},e.callback=function(){Ro(t,n,l)}}var C=n.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){Ro(t,n,l),typeof u!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function d2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ra(t,n,u,!0),n=rn.current,n!==null){switch(n.tag){case 31:case 13:return Nn===null?i0():n.alternate===null&&gt===0&&(gt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===qr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Tu(e,l,u)),!1;case 22:return n.flags|=65536,l===qr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Tu(e,l,u)),!1}throw Error(i(435,n.tag))}return Tu(e,l,u),i0(),!1}if(Ke)return t=rn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Mc&&(e=Error(i(422),{cause:l}),wi(jn(e,n)))):(l!==Mc&&(t=Error(i(423),{cause:l}),wi(jn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=jn(l,n),u=cu(e.stateNode,l,u),Ic(e,u),gt!==4&&(gt=2)),!1;var s=Error(i(520),{cause:l});if(s=jn(s,n),Yi===null?Yi=[s]:Yi.push(s),gt!==4&&(gt=2),t===null)return!0;l=jn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=cu(n.stateNode,l,e),Ic(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Zl===null||!Zl.has(s))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Go(u),Ho(u,e,n,l),Ic(n,u),!1}n=n.return}while(n!==null);return!1}var uu=Error(i(461)),jt=!1;function Ht(e,t,n,l){t.child=e===null?Us(t,null,n,l):ga(t,e.child,n,l)}function Oo(e,t,n,l,u){n=n.render;var s=t.ref;if("ref"in l){var C={};for(var T in l)T!=="ref"&&(C[T]=l[T])}else C=l;return da(t),l=Uc(e,t,n,C,s,u),T=Kc(),e!==null&&!jt?(Zc(e,t,u),gl(e,t,u)):(Ke&&T&&Cc(t),t.flags|=1,Ht(e,t,l,u),t.child)}function Yo(e,t,n,l,u){if(e===null){var s=n.type;return typeof s=="function"&&!_c(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Uo(e,t,s,l,u)):(e=Dr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!bu(e,u)){var C=s.memoizedProps;if(n=n.compare,n=n!==null?n:pi,n(C,l)&&e.ref===t.ref)return gl(e,t,u)}return t.flags|=1,e=ol(s,l),e.ref=t.ref,e.return=t,t.child=e}function Uo(e,t,n,l,u){if(e!==null){var s=e.memoizedProps;if(pi(s,l)&&e.ref===t.ref)if(jt=!1,t.pendingProps=l=s,bu(e,u))(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,gl(e,t,u)}return xu(e,t,n,l,u)}function Ko(e,t,n,l){var u=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~s}else l=0,t.child=null;return Zo(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tr(t,s!==null?s.cachePool:null),s!==null?Xs(t,s):Gc(),Js(t);else return l=t.lanes=536870912,Zo(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(Tr(t,s.cachePool),Xs(t,s),Ol(),t.memoizedState=null):(e!==null&&Tr(t,null),Gc(),Ol());return Ht(e,t,u,n),t.child}function Bi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zo(e,t,n,l,u){var s=Ec();return s=s===null?null:{parent:wt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Tr(t,null),Gc(),Js(t),e!==null&&Ra(e,t,l,!0),t.childLanes=u,null}function Vr(e,t){return t=Qr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xo(e,t,n){return ga(t,e.child,null,n),e=Vr(t,t.pendingProps),e.flags|=2,cn(t),t.memoizedState=null,e}function h2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ke){if(l.mode==="hidden")return e=Vr(t,l),t.lanes=536870912,Bi(null,e);if(Oc(t),(e=ot)?(e=id(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:El!==null?{id:Pn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},n=Ds(e),n.return=t,t.child=n,Rt=t,ot=null)):e=null,e===null)throw Bl(t);return t.lanes=536870912,null}return Vr(t,l)}var s=e.memoizedState;if(s!==null){var C=s.dehydrated;if(Oc(t),u)if(t.flags&256)t.flags&=-257,t=Xo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(jt||Ra(e,t,n,!1),u=(n&e.childLanes)!==0,jt||u){if(l=st,l!==null&&(C=rt(l,n),C!==0&&C!==s.retryLane))throw s.retryLane=C,xa(e,C),Ft(l,e,C),uu;i0(),t=Xo(e,t,n)}else e=s.treeContext,ot=An(C.nextSibling),Rt=t,Ke=!0,ql=null,Dn=!1,e!==null&&Ls(t,e),t=Vr(t,l),t.flags|=4096;return t}return e=ol(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Wr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xu(e,t,n,l,u){return da(t),n=Uc(e,t,n,l,void 0,u),l=Kc(),e!==null&&!jt?(Zc(e,t,u),gl(e,t,u)):(Ke&&l&&Cc(t),t.flags|=1,Ht(e,t,n,u),t.child)}function Jo(e,t,n,l,u,s){return da(t),t.updateQueue=null,n=Ws(t,l,n,u),Vs(e),l=Kc(),e!==null&&!jt?(Zc(e,t,s),gl(e,t,s)):(Ke&&l&&Cc(t),t.flags|=1,Ht(e,t,n,s),t.child)}function Vo(e,t,n,l,u){if(da(t),t.stateNode===null){var s=qa,C=n.contextType;typeof C=="object"&&C!==null&&(s=Gt(C)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ru,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Bc(t),C=n.contextType,s.context=typeof C=="object"&&C!==null?Gt(C):qa,s.state=t.memoizedState,C=n.getDerivedStateFromProps,typeof C=="function"&&(iu(t,n,C,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(C=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),C!==s.state&&ru.enqueueReplaceState(s,s.state,null),Ai(t,l,s,u),Ni(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var T=t.memoizedProps,V=ya(n,T);s.props=V;var le=s.context,ce=n.contextType;C=qa,typeof ce=="object"&&ce!==null&&(C=Gt(ce));var xe=n.getDerivedStateFromProps;ce=typeof xe=="function"||typeof s.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,ce||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(T||le!==C)&&qo(t,s,l,C),Il=!1;var ae=t.memoizedState;s.state=ae,Ai(t,l,s,u),Ni(),le=t.memoizedState,T||ae!==le||Il?(typeof xe=="function"&&(iu(t,n,xe,l),le=t.memoizedState),(V=Il||Eo(t,n,V,l,ae,le,C))?(ce||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=le),s.props=l,s.state=le,s.context=C,l=V):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,kc(e,t),C=t.memoizedProps,ce=ya(n,C),s.props=ce,xe=t.pendingProps,ae=s.context,le=n.contextType,V=qa,typeof le=="object"&&le!==null&&(V=Gt(le)),T=n.getDerivedStateFromProps,(le=typeof T=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(C!==xe||ae!==V)&&qo(t,s,l,V),Il=!1,ae=t.memoizedState,s.state=ae,Ai(t,l,s,u),Ni();var ie=t.memoizedState;C!==xe||ae!==ie||Il||e!==null&&e.dependencies!==null&&Ar(e.dependencies)?(typeof T=="function"&&(iu(t,n,T,l),ie=t.memoizedState),(ce=Il||Eo(t,n,ce,l,ae,ie,V)||e!==null&&e.dependencies!==null&&Ar(e.dependencies))?(le||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,ie,V),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,ie,V)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),s.props=l,s.state=ie,s.context=V,l=ce):(typeof s.componentDidUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Wr(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ga(t,e.child,null,u),t.child=ga(t,null,n,u)):Ht(e,t,n,u),t.memoizedState=s.state,e=t.child):e=gl(e,t,u),e}function Wo(e,t,n,l){return oa(),t.flags|=256,Ht(e,t,n,l),t.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ou(e){return{baseLanes:e,cachePool:Is()}}function fu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=xn),e}function Qo(e,t,n){var l=t.pendingProps,u=!1,s=(t.flags&128)!==0,C;if((C=s)||(C=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),C&&(u=!0,t.flags&=-129),C=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ke){if(u?Hl(t):Ol(),(e=ot)?(e=id(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:El!==null?{id:Pn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},n=Ds(e),n.return=t,t.child=n,Rt=t,ot=null)):e=null,e===null)throw Bl(t);return Vu(e)?t.lanes=32:t.lanes=536870912,null}var T=l.children;return l=l.fallback,u?(Ol(),u=t.mode,T=Qr({mode:"hidden",children:T},u),l=sa(l,u,n,null),T.return=t,l.return=t,T.sibling=l,t.child=T,l=t.child,l.memoizedState=ou(n),l.childLanes=fu(e,C,n),t.memoizedState=su,Bi(null,l)):(Hl(t),du(t,T))}var V=e.memoizedState;if(V!==null&&(T=V.dehydrated,T!==null)){if(s)t.flags&256?(Hl(t),t.flags&=-257,t=hu(e,t,n)):t.memoizedState!==null?(Ol(),t.child=e.child,t.flags|=128,t=null):(Ol(),T=l.fallback,u=t.mode,l=Qr({mode:"visible",children:l.children},u),T=sa(T,u,n,null),T.flags|=2,l.return=t,T.return=t,l.sibling=T,t.child=l,ga(t,e.child,null,n),l=t.child,l.memoizedState=ou(n),l.childLanes=fu(e,C,n),t.memoizedState=su,t=Bi(null,l));else if(Hl(t),Vu(T)){if(C=T.nextSibling&&T.nextSibling.dataset,C)var le=C.dgst;C=le,l=Error(i(419)),l.stack="",l.digest=C,wi({value:l,source:null,stack:null}),t=hu(e,t,n)}else if(jt||Ra(e,t,n,!1),C=(n&e.childLanes)!==0,jt||C){if(C=st,C!==null&&(l=rt(C,n),l!==0&&l!==V.retryLane))throw V.retryLane=l,xa(e,l),Ft(C,e,l),uu;Ju(T)||i0(),t=hu(e,t,n)}else Ju(T)?(t.flags|=192,t.child=e.child,t=null):(e=V.treeContext,ot=An(T.nextSibling),Rt=t,Ke=!0,ql=null,Dn=!1,e!==null&&Ls(t,e),t=du(t,l.children),t.flags|=4096);return t}return u?(Ol(),T=l.fallback,u=t.mode,V=e.child,le=V.sibling,l=ol(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,le!==null?T=ol(le,T):(T=sa(T,u,n,null),T.flags|=2),T.return=t,l.return=t,l.sibling=T,t.child=l,Bi(null,l),l=t.child,T=e.child.memoizedState,T===null?T=ou(n):(u=T.cachePool,u!==null?(V=wt._currentValue,u=u.parent!==V?{parent:V,pool:V}:u):u=Is(),T={baseLanes:T.baseLanes|n,cachePool:u}),l.memoizedState=T,l.childLanes=fu(e,C,n),t.memoizedState=su,Bi(e.child,l)):(Hl(t),n=e.child,e=n.sibling,n=ol(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(C=t.deletions,C===null?(t.deletions=[e],t.flags|=16):C.push(e)),t.child=n,t.memoizedState=null,n)}function du(e,t){return t=Qr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Qr(e,t){return e=an(22,e,null,t),e.lanes=0,e}function hu(e,t,n){return ga(t,e.child,null,n),e=du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Po(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Nc(e.return,t,n)}function mu(e,t,n,l,u,s){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:s}:(C.isBackwards=t,C.rendering=null,C.renderingStartTime=0,C.last=l,C.tail=n,C.tailMode=u,C.treeForkCount=s)}function Fo(e,t,n){var l=t.pendingProps,u=l.revealOrder,s=l.tail;l=l.children;var C=yt.current,T=(C&2)!==0;if(T?(C=C&1|2,t.flags|=128):C&=1,K(yt,C),Ht(e,t,l,n),l=Ke?Si:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Po(e,n,t);else if(e.tag===19)Po(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Rr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),mu(t,!1,u,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Rr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}mu(t,!0,n,null,s,l);break;case"together":mu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function gl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ol(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ol(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ar(e)))}function m2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),kl(t,wt,e.memoizedState.cache),oa();break;case 27:case 5:be(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:kl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Oc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Hl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Qo(e,t,n):(Hl(t),e=gl(e,t,n),e!==null?e.sibling:null);Hl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ra(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Fo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),K(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Ko(e,t,n,t.pendingProps);case 24:kl(t,wt,e.memoizedState.cache)}return gl(e,t,n)}function $o(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!bu(e,n)&&(t.flags&128)===0)return jt=!1,m2(e,t,n);jt=(e.flags&131072)!==0}else jt=!1,Ke&&(t.flags&1048576)!==0&&As(t,Si,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ma(t.elementType),t.type=e,typeof e=="function")_c(e)?(l=ya(e,l),t.tag=1,t=Vo(null,t,e,l,n)):(t.tag=0,t=xu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===R){t.tag=11,t=Oo(null,t,e,l,n);break e}else if(u===H){t.tag=14,t=Yo(null,t,e,l,n);break e}}throw t=p(e)||e,Error(i(306,t,""))}}return t;case 0:return xu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=ya(l,t.pendingProps),Vo(e,t,l,u,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var s=t.memoizedState;u=s.element,kc(e,t),Ai(t,l,null,n);var C=t.memoizedState;if(l=C.cache,kl(t,wt,l),l!==s.cache&&Ac(t,[wt],n,!0),Ni(),l=C.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:C.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Wo(e,t,l,n);break e}else if(l!==u){u=jn(Error(i(424)),t),wi(u),t=Wo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ot=An(e.firstChild),Rt=t,Ke=!0,ql=null,Dn=!0,n=Us(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oa(),l===u){t=gl(e,t,n);break e}Ht(e,t,l,n)}t=t.child}return t;case 26:return Wr(e,t),e===null?(n=od(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ke||(n=t.type,e=t.pendingProps,l=f0(te.current).createElement(n),l[De]=t,l[It]=e,Ot(l,n,e),Xe(l),t.stateNode=l):t.memoizedState=od(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return be(t),e===null&&Ke&&(l=t.stateNode=ud(t.type,t.pendingProps,te.current),Rt=t,Dn=!0,u=ot,Wl(t.type)?(Wu=u,ot=An(l.firstChild)):ot=u),Ht(e,t,t.pendingProps.children,n),Wr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ke&&((u=l=ot)&&(l=Z2(l,t.type,t.pendingProps,Dn),l!==null?(t.stateNode=l,Rt=t,ot=An(l.firstChild),Dn=!1,u=!0):u=!1),u||Bl(t)),be(t),u=t.type,s=t.pendingProps,C=e!==null?e.memoizedProps:null,l=s.children,Ku(u,s)?l=null:C!==null&&Ku(u,C)&&(t.flags|=32),t.memoizedState!==null&&(u=Uc(e,t,r2,null,null,n),Qi._currentValue=u),Wr(e,t),Ht(e,t,l,n),t.child;case 6:return e===null&&Ke&&((e=n=ot)&&(n=X2(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Rt=t,ot=null,e=!0):e=!1),e||Bl(t)),null;case 13:return Qo(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ga(t,null,l,n):Ht(e,t,l,n),t.child;case 11:return Oo(e,t,t.type,t.pendingProps,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,kl(t,t.type,l.value),Ht(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,da(t),u=Gt(u),l=l(u),t.flags|=1,Ht(e,t,l,n),t.child;case 14:return Yo(e,t,t.type,t.pendingProps,n);case 15:return Uo(e,t,t.type,t.pendingProps,n);case 19:return Fo(e,t,n);case 31:return h2(e,t,n);case 22:return Ko(e,t,n,t.pendingProps);case 24:return da(t),l=Gt(wt),e===null?(u=Ec(),u===null&&(u=st,s=Lc(),u.pooledCache=s,s.refCount++,s!==null&&(u.pooledCacheLanes|=n),u=s),t.memoizedState={parent:l,cache:u},Bc(t),kl(t,wt,u)):((e.lanes&n)!==0&&(kc(e,t),Ai(t,null,null,n),Ni()),u=e.memoizedState,s=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),kl(t,wt,l)):(l=s.cache,kl(t,wt,l),l!==u.cache&&Ac(t,[wt],n,!0))),Ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function vl(e){e.flags|=4}function gu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(zf())e.flags|=8192;else throw ba=qr,qc}else e.flags&=-16777217}function ef(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bd(t))if(zf())e.flags|=8192;else throw ba=qr,qc}function Pr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ve():536870912,e.lanes|=t,Qa|=t)}function ki(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function b2(e,t,n){var l=t.pendingProps;switch(jc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return ft(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),hl(wt),he(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?vl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zc())),ft(t),null;case 26:var u=t.type,s=t.memoizedState;return e===null?(vl(t),s!==null?(ft(t),ef(t,s)):(ft(t),gu(t,u,null,l,n))):s?s!==e.memoizedState?(vl(t),ft(t),ef(t,s)):(ft(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&vl(t),ft(t),gu(t,u,e,l,n)),null;case 27:if(de(t),n=te.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ft(t),null}e=X.current,Ia(t)?Ts(t):(e=ud(u,l,n),t.stateNode=e,vl(t))}return ft(t),null;case 5:if(de(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ft(t),null}if(s=X.current,Ia(t))Ts(t);else{var C=f0(te.current);switch(s){case 1:s=C.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=C.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=C.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=C.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?C.createElement("select",{is:l.is}):C.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?C.createElement(u,{is:l.is}):C.createElement(u)}}s[De]=t,s[It]=l;e:for(C=t.child;C!==null;){if(C.tag===5||C.tag===6)s.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}t.stateNode=s;e:switch(Ot(s,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&vl(t)}}return ft(t),gu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=te.current,Ia(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Rt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[De]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Pf(e.nodeValue,n)),e||Bl(t,!0)}else e=f0(e).createTextNode(l),e[De]=t,t.stateNode=e}return ft(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[De]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),e=!1}else n=zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(cn(t),t):(cn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return ft(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ia(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[De]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),u=!1}else u=zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(cn(t),t):(cn(t),null)}return cn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Pr(t,t.updateQueue),ft(t),null);case 4:return he(),e===null&&Gu(t.stateNode.containerInfo),ft(t),null;case 10:return hl(t.type),ft(t),null;case 19:if(E(yt),l=t.memoizedState,l===null)return ft(t),null;if(u=(t.flags&128)!==0,s=l.rendering,s===null)if(u)ki(l,!1);else{if(gt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Rr(e),s!==null){for(t.flags|=128,ki(l,!1),e=s.updateQueue,t.updateQueue=e,Pr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)zs(n,e),n=n.sibling;return K(yt,yt.current&1|2),Ke&&fl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Fe()>n0&&(t.flags|=128,u=!0,ki(l,!1),t.lanes=4194304)}else{if(!u)if(e=Rr(s),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Pr(t,e),ki(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Ke)return ft(t),null}else 2*Fe()-l.renderingStartTime>n0&&n!==536870912&&(t.flags|=128,u=!0,ki(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Fe(),e.sibling=null,n=yt.current,K(yt,u?n&1|2:n&1),Ke&&fl(t,l.treeForkCount),e):(ft(t),null);case 22:case 23:return cn(t),Hc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),n=t.updateQueue,n!==null&&Pr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&E(ha),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hl(wt),ft(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function g2(e,t){switch(jc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hl(wt),he(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(cn(t),t.alternate===null)throw Error(i(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(cn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return E(yt),null;case 4:return he(),null;case 10:return hl(t.type),null;case 22:case 23:return cn(t),Hc(),e!==null&&E(ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hl(wt),null;case 25:return null;default:return null}}function tf(e,t){switch(jc(t),t.tag){case 3:hl(wt),he();break;case 26:case 27:case 5:de(t);break;case 4:he();break;case 31:t.memoizedState!==null&&cn(t);break;case 13:cn(t);break;case 19:E(yt);break;case 10:hl(t.type);break;case 22:case 23:cn(t),Hc(),e!==null&&E(ha);break;case 24:hl(wt)}}function Ii(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var s=n.create,C=n.inst;l=s(),C.destroy=l}n=n.next}while(n!==u)}}catch(T){it(t,t.return,T)}}function Yl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var s=u.next;l=s;do{if((l.tag&e)===e){var C=l.inst,T=C.destroy;if(T!==void 0){C.destroy=void 0,u=t;var V=n,le=T;try{le()}catch(ce){it(u,V,ce)}}}l=l.next}while(l!==s)}}catch(ce){it(t,t.return,ce)}}function nf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Zs(t,n)}catch(l){it(e,e.return,l)}}}function lf(e,t,n){n.props=ya(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function Ri(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){it(e,t,u)}}function $n(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){it(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){it(e,t,u)}else n.current=null}function af(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){it(e,e.return,u)}}function vu(e,t,n){try{var l=e.stateNode;G2(l,e.type,n,t),l[It]=t}catch(u){it(e,e.return,u)}}function rf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wl(e.type)||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xl));else if(l!==4&&(l===27&&Wl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(pu(e,t,n),e=e.sibling;e!==null;)pu(e,t,n),e=e.sibling}function Fr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Wl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Fr(e,t,n),e=e.sibling;e!==null;)Fr(e,t,n),e=e.sibling}function cf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ot(t,l,n),t[De]=e,t[It]=n}catch(s){it(e,e.return,s)}}var yl=!1,Mt=!1,_u=!1,uf=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function v2(e,t){if(e=e.containerInfo,Yu=y0,e=vs(e),hc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var C=0,T=-1,V=-1,le=0,ce=0,xe=e,ae=null;t:for(;;){for(var ie;xe!==n||u!==0&&xe.nodeType!==3||(T=C+u),xe!==s||l!==0&&xe.nodeType!==3||(V=C+l),xe.nodeType===3&&(C+=xe.nodeValue.length),(ie=xe.firstChild)!==null;)ae=xe,xe=ie;for(;;){if(xe===e)break t;if(ae===n&&++le===u&&(T=C),ae===s&&++ce===l&&(V=C),(ie=xe.nextSibling)!==null)break;xe=ae,ae=xe.parentNode}xe=ie}n=T===-1||V===-1?null:{start:T,end:V}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uu={focusedElem:e,selectionRange:n},y0=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){switch(t=Tt,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,u=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var ge=ya(n.type,u);e=l.getSnapshotBeforeUpdate(ge,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(Me){it(n,n.return,Me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Xu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}}function xf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:_l(e,n),l&4&&Ii(5,n);break;case 1:if(_l(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(C){it(n,n.return,C)}else{var u=ya(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(C){it(n,n.return,C)}}l&64&&nf(n),l&512&&Ri(n,n.return);break;case 3:if(_l(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Zs(e,t)}catch(C){it(n,n.return,C)}}break;case 27:t===null&&l&4&&cf(n);case 26:case 5:_l(e,n),t===null&&l&4&&af(n),l&512&&Ri(n,n.return);break;case 12:_l(e,n);break;case 31:_l(e,n),l&4&&ff(e,n);break;case 13:_l(e,n),l&4&&df(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=z2.bind(null,n),J2(e,n))));break;case 22:if(l=n.memoizedState!==null||yl,!l){t=t!==null&&t.memoizedState!==null||Mt,u=yl;var s=Mt;yl=l,(Mt=t)&&!s?Sl(e,n,(n.subtreeFlags&8772)!==0):_l(e,n),yl=u,Mt=s}break;case 30:break;default:_l(e,n)}}function sf(e){var t=e.alternate;t!==null&&(e.alternate=null,sf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,Vt=!1;function pl(e,t,n){for(n=n.child;n!==null;)of(e,t,n),n=n.sibling}function of(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(On,n)}catch{}switch(n.tag){case 26:Mt||$n(n,t),pl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mt||$n(n,t);var l=ht,u=Vt;Wl(n.type)&&(ht=n.stateNode,Vt=!1),pl(e,t,n),Ji(n.stateNode),ht=l,Vt=u;break;case 5:Mt||$n(n,t);case 6:if(l=ht,u=Vt,ht=null,pl(e,t,n),ht=l,Vt=u,ht!==null)if(Vt)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(n.stateNode)}catch(s){it(n,t,s)}else try{ht.removeChild(n.stateNode)}catch(s){it(n,t,s)}break;case 18:ht!==null&&(Vt?(e=ht,ld(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ai(e)):ld(ht,n.stateNode));break;case 4:l=ht,u=Vt,ht=n.stateNode.containerInfo,Vt=!0,pl(e,t,n),ht=l,Vt=u;break;case 0:case 11:case 14:case 15:Yl(2,n,t),Mt||Yl(4,n,t),pl(e,t,n);break;case 1:Mt||($n(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&lf(n,t,l)),pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:Mt=(l=Mt)||n.memoizedState!==null,pl(e,t,n),Mt=l;break;default:pl(e,t,n)}}function ff(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ai(e)}catch(n){it(t,t.return,n)}}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ai(e)}catch(n){it(t,t.return,n)}}function y2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new uf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new uf),t;default:throw Error(i(435,e.tag))}}function $r(e,t){var n=y2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=D2.bind(null,e,l);l.then(u,u)}})}function Wt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],s=e,C=t,T=C;e:for(;T!==null;){switch(T.tag){case 27:if(Wl(T.type)){ht=T.stateNode,Vt=!1;break e}break;case 5:ht=T.stateNode,Vt=!1;break e;case 3:case 4:ht=T.stateNode.containerInfo,Vt=!0;break e}T=T.return}if(ht===null)throw Error(i(160));of(s,C,u),ht=null,Vt=!1,s=u.alternate,s!==null&&(s.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hf(t,e),t=t.sibling}var Un=null;function hf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wt(t,e),Qt(e),l&4&&(Yl(3,e,e.return),Ii(3,e),Yl(5,e,e.return));break;case 1:Wt(t,e),Qt(e),l&512&&(Mt||n===null||$n(n,n.return)),l&64&&yl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Un;if(Wt(t,e),Qt(e),l&512&&(Mt||n===null||$n(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":s=u.getElementsByTagName("title")[0],(!s||s[ia]||s[De]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=u.createElement(l),u.head.insertBefore(s,u.querySelector("head > title"))),Ot(s,l,n),s[De]=e,Xe(s),l=s;break e;case"link":var C=hd("link","href",u).get(l+(n.href||""));if(C){for(var T=0;T<C.length;T++)if(s=C[T],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){C.splice(T,1);break t}}s=u.createElement(l),Ot(s,l,n),u.head.appendChild(s);break;case"meta":if(C=hd("meta","content",u).get(l+(n.content||""))){for(T=0;T<C.length;T++)if(s=C[T],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){C.splice(T,1);break t}}s=u.createElement(l),Ot(s,l,n),u.head.appendChild(s);break;default:throw Error(i(468,l))}s[De]=e,Xe(s),l=s}e.stateNode=l}else md(u,e.type,e.stateNode);else e.stateNode=dd(u,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?md(u,e.type,e.stateNode):dd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&vu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Wt(t,e),Qt(e),l&512&&(Mt||n===null||$n(n,n.return)),n!==null&&l&4&&vu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Wt(t,e),Qt(e),l&512&&(Mt||n===null||$n(n,n.return)),e.flags&32){u=e.stateNode;try{za(u,"")}catch(ge){it(e,e.return,ge)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,vu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(_u=!0);break;case 6:if(Wt(t,e),Qt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ge){it(e,e.return,ge)}}break;case 3:if(m0=null,u=Un,Un=d0(t.containerInfo),Wt(t,e),Un=u,Qt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(ge){it(e,e.return,ge)}_u&&(_u=!1,mf(e));break;case 4:l=Un,Un=d0(e.stateNode.containerInfo),Wt(t,e),Qt(e),Un=l;break;case 12:Wt(t,e),Qt(e);break;case 31:Wt(t,e),Qt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$r(e,l)));break;case 13:Wt(t,e),Qt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(t0=Fe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$r(e,l)));break;case 22:u=e.memoizedState!==null;var V=n!==null&&n.memoizedState!==null,le=yl,ce=Mt;if(yl=le||u,Mt=ce||V,Wt(t,e),Mt=ce,yl=le,Qt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||V||yl||Mt||pa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){V=n=t;try{if(s=V.stateNode,u)C=s.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{T=V.stateNode;var xe=V.memoizedProps.style,ae=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;T.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ge){it(V,V.return,ge)}}}else if(t.tag===6){if(n===null){V=t;try{V.stateNode.nodeValue=u?"":V.memoizedProps}catch(ge){it(V,V.return,ge)}}}else if(t.tag===18){if(n===null){V=t;try{var ie=V.stateNode;u?ad(ie,!0):ad(V.stateNode,!1)}catch(ge){it(V,V.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,$r(e,n))));break;case 19:Wt(t,e),Qt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$r(e,l)));break;case 30:break;case 21:break;default:Wt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(rf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,s=yu(e);Fr(e,s,u);break;case 5:var C=n.stateNode;n.flags&32&&(za(C,""),n.flags&=-33);var T=yu(e);Fr(e,T,C);break;case 3:case 4:var V=n.stateNode.containerInfo,le=yu(e);pu(e,le,V);break;default:throw Error(i(161))}}catch(ce){it(e,e.return,ce)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _l(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)xf(e,t.alternate,t),t=t.sibling}function pa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yl(4,t,t.return),pa(t);break;case 1:$n(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&lf(t,t.return,n),pa(t);break;case 27:Ji(t.stateNode);case 26:case 5:$n(t,t.return),pa(t);break;case 22:t.memoizedState===null&&pa(t);break;case 30:pa(t);break;default:pa(t)}e=e.sibling}}function Sl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,s=t,C=s.flags;switch(s.tag){case 0:case 11:case 15:Sl(u,s,n),Ii(4,s);break;case 1:if(Sl(u,s,n),l=s,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(le){it(l,l.return,le)}if(l=s,u=l.updateQueue,u!==null){var T=l.stateNode;try{var V=u.shared.hiddenCallbacks;if(V!==null)for(u.shared.hiddenCallbacks=null,u=0;u<V.length;u++)Ks(V[u],T)}catch(le){it(l,l.return,le)}}n&&C&64&&nf(s),Ri(s,s.return);break;case 27:cf(s);case 26:case 5:Sl(u,s,n),n&&l===null&&C&4&&af(s),Ri(s,s.return);break;case 12:Sl(u,s,n);break;case 31:Sl(u,s,n),n&&C&4&&ff(u,s);break;case 13:Sl(u,s,n),n&&C&4&&df(u,s);break;case 22:s.memoizedState===null&&Sl(u,s,n),Ri(s,s.return);break;case 30:break;default:Sl(u,s,n)}t=t.sibling}}function Su(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ci(n))}function wu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e))}function Kn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bf(e,t,n,l),t=t.sibling}function bf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Kn(e,t,n,l),u&2048&&Ii(9,t);break;case 1:Kn(e,t,n,l);break;case 3:Kn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e)));break;case 12:if(u&2048){Kn(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,C=s.id,T=s.onPostCommit;typeof T=="function"&&T(C,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){it(t,t.return,V)}}else Kn(e,t,n,l);break;case 31:Kn(e,t,n,l);break;case 13:Kn(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,C=t.alternate,t.memoizedState!==null?s._visibility&2?Kn(e,t,n,l):Gi(e,t):s._visibility&2?Kn(e,t,n,l):(s._visibility|=2,Ja(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Su(C,t);break;case 24:Kn(e,t,n,l),u&2048&&wu(t.alternate,t);break;default:Kn(e,t,n,l)}}function Ja(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,C=t,T=n,V=l,le=C.flags;switch(C.tag){case 0:case 11:case 15:Ja(s,C,T,V,u),Ii(8,C);break;case 23:break;case 22:var ce=C.stateNode;C.memoizedState!==null?ce._visibility&2?Ja(s,C,T,V,u):Gi(s,C):(ce._visibility|=2,Ja(s,C,T,V,u)),u&&le&2048&&Su(C.alternate,C);break;case 24:Ja(s,C,T,V,u),u&&le&2048&&wu(C.alternate,C);break;default:Ja(s,C,T,V,u)}t=t.sibling}}function Gi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Gi(n,l),u&2048&&Su(l.alternate,l);break;case 24:Gi(n,l),u&2048&&wu(l.alternate,l);break;default:Gi(n,l)}t=t.sibling}}var Hi=8192;function Va(e,t,n){if(e.subtreeFlags&Hi)for(e=e.child;e!==null;)gf(e,t,n),e=e.sibling}function gf(e,t,n){switch(e.tag){case 26:Va(e,t,n),e.flags&Hi&&e.memoizedState!==null&&ih(n,Un,e.memoizedState,e.memoizedProps);break;case 5:Va(e,t,n);break;case 3:case 4:var l=Un;Un=d0(e.stateNode.containerInfo),Va(e,t,n),Un=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Hi,Hi=16777216,Va(e,t,n),Hi=l):Va(e,t,n));break;default:Va(e,t,n)}}function vf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,pf(l,e)}vf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yf(e),e=e.sibling}function yf(e){switch(e.tag){case 0:case 11:case 15:Oi(e),e.flags&2048&&Yl(9,e,e.return);break;case 3:Oi(e);break;case 12:Oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,e0(e)):Oi(e);break;default:Oi(e)}}function e0(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,pf(l,e)}vf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Yl(8,t,t.return),e0(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,e0(t));break;default:e0(t)}e=e.sibling}}function pf(e,t){for(;Tt!==null;){var n=Tt;switch(n.tag){case 0:case 11:case 15:Yl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ci(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Tt=l;else e:for(n=e;Tt!==null;){l=Tt;var u=l.sibling,s=l.return;if(sf(l),l===n){Tt=null;break e}if(u!==null){u.return=s,Tt=u;break e}Tt=s}}}var p2={getCacheForType:function(e){var t=Gt(wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Gt(wt).controller.signal}},_2=typeof WeakMap=="function"?WeakMap:Map,nt=0,st=null,Ge=null,Ye=0,at=0,un=null,Ul=!1,Wa=!1,Cu=!1,wl=0,gt=0,Kl=0,_a=0,ju=0,xn=0,Qa=0,Yi=null,Pt=null,Mu=!1,t0=0,_f=0,n0=1/0,l0=null,Zl=null,Nt=0,Xl=null,Pa=null,Cl=0,zu=0,Du=null,Sf=null,Ui=0,Nu=null;function sn(){return(nt&2)!==0&&Ye!==0?Ye&-Ye:z.T!==null?Bu():pn()}function wf(){if(xn===0)if((Ye&536870912)===0||Ke){var e=_e;_e<<=1,(_e&3932160)===0&&(_e=262144),xn=e}else xn=536870912;return e=rn.current,e!==null&&(e.flags|=32),xn}function Ft(e,t,n){(e===st&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),Jl(e,Ye,xn,!1)),Le(e,n),((nt&2)===0||e!==st)&&(e===st&&((nt&2)===0&&(_a|=n),gt===4&&Jl(e,Ye,xn,!1)),el(e))}function Cf(e,t,n){if((nt&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||$e(e,t),u=l?C2(e,t):Lu(e,t,!0),s=l;do{if(u===0){Wa&&!l&&Jl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!S2(n)){u=Lu(e,t,!1),s=!1;continue}if(u===2){if(s=t,e.errorRecoveryDisabledLanes&s)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){t=C;e:{var T=e;u=Yi;var V=T.current.memoizedState.isDehydrated;if(V&&(Fa(T,C).flags|=256),C=Lu(T,C,!1),C!==2){if(Cu&&!V){T.errorRecoveryDisabledLanes|=s,_a|=s,u=4;break e}s=Pt,Pt=u,s!==null&&(Pt===null?Pt=s:Pt.push.apply(Pt,s))}u=C}if(s=!1,u!==2)continue}}if(u===1){Fa(e,0),Jl(e,t,0,!0);break}e:{switch(l=e,s=u,s){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Jl(l,t,xn,!Ul);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=t0+300-Fe(),10<u)){if(Jl(l,t,xn,!Ul),Ce(l,0,!0)!==0)break e;Cl=t,l.timeoutHandle=td(jf.bind(null,l,n,Pt,l0,Mu,t,xn,_a,Qa,Ul,s,"Throttled",-0,0),u);break e}jf(l,n,Pt,l0,Mu,t,xn,_a,Qa,Ul,s,null,-0,0)}}break}while(!0);el(e)}function jf(e,t,n,l,u,s,C,T,V,le,ce,xe,ae,ie){if(e.timeoutHandle=-1,xe=t.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xl},gf(t,s,xe);var ge=(s&62914560)===s?t0-Fe():(s&4194048)===s?_f-Fe():0;if(ge=rh(xe,ge),ge!==null){Cl=s,e.cancelPendingCommit=ge(Ef.bind(null,e,t,s,n,l,u,C,T,V,ce,xe,null,ae,ie)),Jl(e,s,C,!le);return}}Ef(e,t,s,n,l,u,C,T,V)}function S2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],s=u.getSnapshot;u=u.value;try{if(!ln(s(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jl(e,t,n,l){t&=~ju,t&=~_a,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var s=31-Oe(u),C=1<<s;l[s]=-1,u&=~C}n!==0&&tt(e,n,t)}function a0(){return(nt&6)===0?(Ki(0),!1):!0}function Au(){if(Ge!==null){if(at===0)var e=Ge.return;else e=Ge,dl=fa=null,Xc(e),Ya=null,Mi=0,e=Ge;for(;e!==null;)tf(e.alternate,e),e=e.return;Ge=null}}function Fa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Y2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Cl=0,Au(),st=e,Ge=n=ol(e.current,null),Ye=t,at=0,un=null,Ul=!1,Wa=$e(e,t),Cu=!1,Qa=xn=ju=_a=Kl=gt=0,Pt=Yi=null,Mu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Oe(l),s=1<<u;t|=e[u],l&=~s}return wl=t,jr(),n}function Mf(e,t){Ee=null,z.H=qi,t===Oa||t===Er?(t=Hs(),at=3):t===qc?(t=Hs(),at=4):at=t===uu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,un=t,Ge===null&&(gt=1,Jr(e,jn(t,e.current)))}function zf(){var e=rn.current;return e===null?!0:(Ye&4194048)===Ye?Nn===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?e===Nn:!1}function Df(){var e=z.H;return z.H=qi,e===null?qi:e}function Nf(){var e=z.A;return z.A=p2,e}function i0(){gt=4,Ul||(Ye&4194048)!==Ye&&rn.current!==null||(Wa=!0),(Kl&134217727)===0&&(_a&134217727)===0||st===null||Jl(st,Ye,xn,!1)}function Lu(e,t,n){var l=nt;nt|=2;var u=Df(),s=Nf();(st!==e||Ye!==t)&&(l0=null,Fa(e,t)),t=!1;var C=gt;e:do try{if(at!==0&&Ge!==null){var T=Ge,V=un;switch(at){case 8:Au(),C=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(t=!0);var le=at;if(at=0,un=null,$a(e,T,V,le),n&&Wa){C=0;break e}break;default:le=at,at=0,un=null,$a(e,T,V,le)}}w2(),C=gt;break}catch(ce){Mf(e,ce)}while(!0);return t&&e.shellSuspendCounter++,dl=fa=null,nt=l,z.H=u,z.A=s,Ge===null&&(st=null,Ye=0,jr()),C}function w2(){for(;Ge!==null;)Af(Ge)}function C2(e,t){var n=nt;nt|=2;var l=Df(),u=Nf();st!==e||Ye!==t?(l0=null,n0=Fe()+500,Fa(e,t)):Wa=$e(e,t);e:do try{if(at!==0&&Ge!==null){t=Ge;var s=un;t:switch(at){case 1:at=0,un=null,$a(e,t,s,1);break;case 2:case 9:if(Rs(s)){at=0,un=null,Lf(t);break}t=function(){at!==2&&at!==9||st!==e||(at=7),el(e)},s.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Rs(s)?(at=0,un=null,Lf(t)):(at=0,un=null,$a(e,t,s,7));break;case 5:var C=null;switch(Ge.tag){case 26:C=Ge.memoizedState;case 5:case 27:var T=Ge;if(C?bd(C):T.stateNode.complete){at=0,un=null;var V=T.sibling;if(V!==null)Ge=V;else{var le=T.return;le!==null?(Ge=le,r0(le)):Ge=null}break t}}at=0,un=null,$a(e,t,s,5);break;case 6:at=0,un=null,$a(e,t,s,6);break;case 8:Au(),gt=6;break e;default:throw Error(i(462))}}j2();break}catch(ce){Mf(e,ce)}while(!0);return dl=fa=null,z.H=l,z.A=u,nt=n,Ge!==null?0:(st=null,Ye=0,jr(),gt)}function j2(){for(;Ge!==null&&!Jn();)Af(Ge)}function Af(e){var t=$o(e.alternate,e,wl);e.memoizedProps=e.pendingProps,t===null?r0(e):Ge=t}function Lf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jo(n,t,t.pendingProps,t.type,void 0,Ye);break;case 11:t=Jo(n,t,t.pendingProps,t.type.render,t.ref,Ye);break;case 5:Xc(t);default:tf(n,t),t=Ge=zs(t,wl),t=$o(n,t,wl)}e.memoizedProps=e.pendingProps,t===null?r0(e):Ge=t}function $a(e,t,n,l){dl=fa=null,Xc(t),Ya=null,Mi=0;var u=t.return;try{if(d2(e,u,t,n,Ye)){gt=1,Jr(e,jn(n,e.current)),Ge=null;return}}catch(s){if(u!==null)throw Ge=u,s;gt=1,Jr(e,jn(n,e.current)),Ge=null;return}t.flags&32768?(Ke||l===1?e=!0:Wa||(Ye&536870912)!==0?e=!1:(Ul=e=!0,(l===2||l===9||l===3||l===6)&&(l=rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tf(t,e)):r0(t)}function r0(e){var t=e;do{if((t.flags&32768)!==0){Tf(t,Ul);return}e=t.return;var n=b2(t.alternate,t,wl);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);gt===0&&(gt=5)}function Tf(e,t){do{var n=g2(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);gt=6,Ge=null}function Ef(e,t,n,l,u,s,C,T,V){e.cancelPendingCommit=null;do c0();while(Nt!==0);if((nt&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,s|=yc,kt(e,n,s,C,T,V),e===st&&(Ge=st=null,Ye=0),Pa=t,Xl=e,Cl=n,zu=s,Du=u,Sf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,N2(rl,function(){return Rf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,u=D.p,D.p=2,C=nt,nt|=4;try{v2(e,t,n)}finally{nt=C,D.p=u,z.T=l}}Nt=1,qf(),Bf(),kf()}}function qf(){if(Nt===1){Nt=0;var e=Xl,t=Pa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var l=D.p;D.p=2;var u=nt;nt|=4;try{hf(t,e);var s=Uu,C=vs(e.containerInfo),T=s.focusedElem,V=s.selectionRange;if(C!==T&&T&&T.ownerDocument&&gs(T.ownerDocument.documentElement,T)){if(V!==null&&hc(T)){var le=V.start,ce=V.end;if(ce===void 0&&(ce=le),"selectionStart"in T)T.selectionStart=le,T.selectionEnd=Math.min(ce,T.value.length);else{var xe=T.ownerDocument||document,ae=xe&&xe.defaultView||window;if(ae.getSelection){var ie=ae.getSelection(),ge=T.textContent.length,Me=Math.min(V.start,ge),xt=V.end===void 0?Me:Math.min(V.end,ge);!ie.extend&&Me>xt&&(C=xt,xt=Me,Me=C);var $=bs(T,Me),W=bs(T,xt);if($&&W&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==W.node||ie.focusOffset!==W.offset)){var ne=xe.createRange();ne.setStart($.node,$.offset),ie.removeAllRanges(),Me>xt?(ie.addRange(ne),ie.extend(W.node,W.offset)):(ne.setEnd(W.node,W.offset),ie.addRange(ne))}}}}for(xe=[],ie=T;ie=ie.parentNode;)ie.nodeType===1&&xe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<xe.length;T++){var ue=xe[T];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}y0=!!Yu,Uu=Yu=null}finally{nt=u,D.p=l,z.T=n}}e.current=t,Nt=2}}function Bf(){if(Nt===2){Nt=0;var e=Xl,t=Pa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var l=D.p;D.p=2;var u=nt;nt|=4;try{xf(e,t.alternate,t)}finally{nt=u,D.p=l,z.T=n}}Nt=3}}function kf(){if(Nt===4||Nt===3){Nt=0,Vn();var e=Xl,t=Pa,n=Cl,l=Sf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nt=5:(Nt=0,Pa=Xl=null,If(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Zl=null),mt(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(On,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,u=D.p,D.p=2,z.T=null;try{for(var s=e.onRecoverableError,C=0;C<l.length;C++){var T=l[C];s(T.value,{componentStack:T.stack})}}finally{z.T=t,D.p=u}}(Cl&3)!==0&&c0(),el(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Nu?Ui++:(Ui=0,Nu=e):Ui=0,Ki(0)}}function If(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ci(t)))}function c0(){return qf(),Bf(),kf(),Rf()}function Rf(){if(Nt!==5)return!1;var e=Xl,t=zu;zu=0;var n=mt(Cl),l=z.T,u=D.p;try{D.p=32>n?32:n,z.T=null,n=Du,Du=null;var s=Xl,C=Cl;if(Nt=0,Pa=Xl=null,Cl=0,(nt&6)!==0)throw Error(i(331));var T=nt;if(nt|=4,yf(s.current),bf(s,s.current,C,n),nt=T,Ki(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(On,s)}catch{}return!0}finally{D.p=u,z.T=l,If(e,t)}}function Gf(e,t,n){t=jn(n,t),t=cu(e.stateNode,t,2),e=Gl(e,t,2),e!==null&&(Le(e,2),el(e))}function it(e,t,n){if(e.tag===3)Gf(e,e,n);else for(;t!==null;){if(t.tag===3){Gf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zl===null||!Zl.has(l))){e=jn(n,e),n=Go(2),l=Gl(t,n,2),l!==null&&(Ho(n,l,t,e),Le(l,2),el(l));break}}t=t.return}}function Tu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new _2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(Cu=!0,u.add(n),e=M2.bind(null,e,t,n),t.then(e,e))}function M2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,st===e&&(Ye&n)===n&&(gt===4||gt===3&&(Ye&62914560)===Ye&&300>Fe()-t0?(nt&2)===0&&Fa(e,0):ju|=n,Qa===Ye&&(Qa=0)),el(e)}function Hf(e,t){t===0&&(t=Ve()),e=xa(e,t),e!==null&&(Le(e,t),el(e))}function z2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hf(e,n)}function D2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Hf(e,n)}function N2(e,t){return Ut(e,t)}var u0=null,ei=null,Eu=!1,x0=!1,qu=!1,Vl=0;function el(e){e!==ei&&e.next===null&&(ei===null?u0=ei=e:ei=ei.next=e),x0=!0,Eu||(Eu=!0,L2())}function Ki(e,t){if(!qu&&x0){qu=!0;do for(var n=!1,l=u0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var s=0;else{var C=l.suspendedLanes,T=l.pingedLanes;s=(1<<31-Oe(42|e)+1)-1,s&=u&~(C&~T),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Kf(l,s))}else s=Ye,s=Ce(l,l===st?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||$e(l,s)||(n=!0,Kf(l,s));l=l.next}while(n);qu=!1}}function A2(){Of()}function Of(){x0=Eu=!1;var e=0;Vl!==0&&O2()&&(e=Vl);for(var t=Fe(),n=null,l=u0;l!==null;){var u=l.next,s=Yf(l,t);s===0?(l.next=null,n===null?u0=u:n.next=u,u===null&&(ei=n)):(n=l,(e!==0||(s&3)!==0)&&(x0=!0)),l=u}Nt!==0&&Nt!==5||Ki(e),Vl!==0&&(Vl=0)}function Yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var C=31-Oe(s),T=1<<C,V=u[C];V===-1?((T&n)===0||(T&l)!==0)&&(u[C]=et(T,t)):V<=t&&(e.expiredLanes|=T),s&=~T}if(t=st,n=Ye,n=Ce(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&nn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||$e(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&nn(l),mt(n)){case 2:case 8:n=il;break;case 32:n=rl;break;case 268435456:n=aa;break;default:n=rl}return l=Uf.bind(null,e),n=Ut(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&nn(l),e.callbackPriority=2,e.callbackNode=null,2}function Uf(e,t){if(Nt!==0&&Nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(c0()&&e.callbackNode!==n)return null;var l=Ye;return l=Ce(e,e===st?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Cf(e,l,t),Yf(e,Fe()),e.callbackNode!=null&&e.callbackNode===n?Uf.bind(null,e):null)}function Kf(e,t){if(c0())return null;Cf(e,t,!0)}function L2(){U2(function(){(nt&6)!==0?Ut(Dl,A2):Of()})}function Bu(){if(Vl===0){var e=Ga;e===0&&(e=we,we<<=1,(we&261888)===0&&(we=256)),Vl=e}return Vl}function Zf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gr(""+e)}function Xf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function T2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var s=Zf((u[It]||null).action),C=l.submitter;C&&(t=(t=C[It]||null)?Zf(t.formAction):C.getAttribute("formAction"),t!==null&&(s=t,C=null));var T=new _r("action","action",null,l,u);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vl!==0){var V=C?Xf(u,C):new FormData(u);tu(n,{pending:!0,data:V,method:u.method,action:s},null,V)}}else typeof s=="function"&&(T.preventDefault(),V=C?Xf(u,C):new FormData(u),tu(n,{pending:!0,data:V,method:u.method,action:s},s,V))},currentTarget:u}]})}}for(var ku=0;ku<vc.length;ku++){var Iu=vc[ku],E2=Iu.toLowerCase(),q2=Iu[0].toUpperCase()+Iu.slice(1);Yn(E2,"on"+q2)}Yn(_s,"onAnimationEnd"),Yn(Ss,"onAnimationIteration"),Yn(ws,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Q1,"onTransitionRun"),Yn(P1,"onTransitionStart"),Yn(F1,"onTransitionCancel"),Yn(Cs,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zi));function Jf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var C=l.length-1;0<=C;C--){var T=l[C],V=T.instance,le=T.currentTarget;if(T=T.listener,V!==s&&u.isPropagationStopped())break e;s=T,u.currentTarget=le;try{s(u)}catch(ce){Cr(ce)}u.currentTarget=null,s=V}else for(C=0;C<l.length;C++){if(T=l[C],V=T.instance,le=T.currentTarget,T=T.listener,V!==s&&u.isPropagationStopped())break e;s=T,u.currentTarget=le;try{s(u)}catch(ce){Cr(ce)}u.currentTarget=null,s=V}}}}function He(e,t){var n=t[_n];n===void 0&&(n=t[_n]=new Set);var l=e+"__bubble";n.has(l)||(Vf(t,e,2,!1),n.add(l))}function Ru(e,t,n){var l=0;t&&(l|=4),Vf(n,e,l,t)}var s0="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[s0]){e[s0]=!0,St.forEach(function(n){n!=="selectionchange"&&(B2.has(n)||Ru(n,!1,e),Ru(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[s0]||(t[s0]=!0,Ru("selectionchange",!1,t))}}function Vf(e,t,n,l){switch(wd(t)){case 2:var u=xh;break;case 8:u=sh;break;default:u=ex}n=u.bind(null,t,n,e),u=void 0,!ic||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Hu(e,t,n,l,u){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var C=l.tag;if(C===3||C===4){var T=l.stateNode.containerInfo;if(T===u)break;if(C===4)for(C=l.return;C!==null;){var V=C.tag;if((V===3||V===4)&&C.stateNode.containerInfo===u)return;C=C.return}for(;T!==null;){if(C=Ll(T),C===null)return;if(V=C.tag,V===5||V===6||V===26||V===27){l=s=C;continue e}T=T.parentNode}}l=l.return}Px(function(){var le=s,ce=lc(n),xe=[];e:{var ae=js.get(e);if(ae!==void 0){var ie=_r,ge=e;switch(e){case"keypress":if(yr(n)===0)break e;case"keydown":case"keyup":ie=D1;break;case"focusin":ge="focus",ie=xc;break;case"focusout":ge="blur",ie=xc;break;case"beforeblur":case"afterblur":ie=xc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=L1;break;case _s:case Ss:case ws:ie=y1;break;case Cs:ie=E1;break;case"scroll":case"scrollend":ie=h1;break;case"wheel":ie=B1;break;case"copy":case"cut":case"paste":ie=_1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ns;break;case"toggle":case"beforetoggle":ie=I1}var Me=(t&4)!==0,xt=!Me&&(e==="scroll"||e==="scrollend"),$=Me?ae!==null?ae+"Capture":null:ae;Me=[];for(var W=le,ne;W!==null;){var ue=W;if(ne=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ne===null||$===null||(ue=di(W,$),ue!=null&&Me.push(Xi(W,ue,ne))),xt)break;W=W.return}0<Me.length&&(ae=new ie(ae,ge,null,n,ce),xe.push({event:ae,listeners:Me}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",ae&&n!==nc&&(ge=n.relatedTarget||n.fromElement)&&(Ll(ge)||ge[Al]))break e;if((ie||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,ie?(ge=n.relatedTarget||n.toElement,ie=le,ge=ge?Ll(ge):null,ge!==null&&(xt=o(ge),Me=ge.tag,ge!==xt||Me!==5&&Me!==27&&Me!==6)&&(ge=null)):(ie=null,ge=le),ie!==ge)){if(Me=es,ue="onMouseLeave",$="onMouseEnter",W="mouse",(e==="pointerout"||e==="pointerover")&&(Me=ns,ue="onPointerLeave",$="onPointerEnter",W="pointer"),xt=ie==null?ae:Se(ie),ne=ge==null?ae:Se(ge),ae=new Me(ue,W+"leave",ie,n,ce),ae.target=xt,ae.relatedTarget=ne,ue=null,Ll(ce)===le&&(Me=new Me($,W+"enter",ge,n,ce),Me.target=ne,Me.relatedTarget=xt,ue=Me),xt=ue,ie&&ge)t:{for(Me=k2,$=ie,W=ge,ne=0,ue=$;ue;ue=Me(ue))ne++;ue=0;for(var je=W;je;je=Me(je))ue++;for(;0<ne-ue;)$=Me($),ne--;for(;0<ue-ne;)W=Me(W),ue--;for(;ne--;){if($===W||W!==null&&$===W.alternate){Me=$;break t}$=Me($),W=Me(W)}Me=null}else Me=null;ie!==null&&Wf(xe,ae,ie,Me,!1),ge!==null&&xt!==null&&Wf(xe,xt,ge,Me,!0)}}e:{if(ae=le?Se(le):window,ie=ae.nodeName&&ae.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ae.type==="file")var Qe=ss;else if(us(ae))if(os)Qe=J1;else{Qe=Z1;var ve=K1}else ie=ae.nodeName,!ie||ie.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?le&&tc(le.elementType)&&(Qe=ss):Qe=X1;if(Qe&&(Qe=Qe(e,le))){xs(xe,Qe,n,ce);break e}ve&&ve(e,ae,le),e==="focusout"&&le&&ae.type==="number"&&le.memoizedProps.value!=null&&ec(ae,"number",ae.value)}switch(ve=le?Se(le):window,e){case"focusin":(us(ve)||ve.contentEditable==="true")&&(La=ve,mc=le,_i=null);break;case"focusout":_i=mc=La=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,ys(xe,n,ce);break;case"selectionchange":if(W1)break;case"keydown":case"keyup":ys(xe,n,ce)}var qe;if(oc)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Aa?rs(e,n)&&(Ue="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ue="onCompositionStart");Ue&&(ls&&n.locale!=="ko"&&(Aa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Aa&&(qe=Fx()):(Tl=ce,rc="value"in Tl?Tl.value:Tl.textContent,Aa=!0)),ve=o0(le,Ue),0<ve.length&&(Ue=new ts(Ue,e,null,n,ce),xe.push({event:Ue,listeners:ve}),qe?Ue.data=qe:(qe=cs(n),qe!==null&&(Ue.data=qe)))),(qe=G1?H1(e,n):O1(e,n))&&(Ue=o0(le,"onBeforeInput"),0<Ue.length&&(ve=new ts("onBeforeInput","beforeinput",null,n,ce),xe.push({event:ve,listeners:Ue}),ve.data=qe)),T2(xe,e,le,n,ce)}Jf(xe,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function o0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,s=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||s===null||(u=di(e,n),u!=null&&l.unshift(Xi(e,u,s)),u=di(e,t),u!=null&&l.push(Xi(e,u,s))),e.tag===3)return l;e=e.return}return[]}function k2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wf(e,t,n,l,u){for(var s=t._reactName,C=[];n!==null&&n!==l;){var T=n,V=T.alternate,le=T.stateNode;if(T=T.tag,V!==null&&V===l)break;T!==5&&T!==26&&T!==27||le===null||(V=le,u?(le=di(n,s),le!=null&&C.unshift(Xi(n,le,V))):u||(le=di(n,s),le!=null&&C.push(Xi(n,le,V)))),n=n.return}C.length!==0&&e.push({event:t,listeners:C})}var I2=/\r\n?/g,R2=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(I2,`
`).replace(R2,"")}function Pf(e,t){return t=Qf(t),Qf(e)===t}function ut(e,t,n,l,u,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||za(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&za(e,""+l);break;case"className":mr(e,"class",l);break;case"tabIndex":mr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(e,n,l);break;case"style":Wx(e,l,s);break;case"data":if(t!=="object"){mr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=gr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ut(e,t,"name",u.name,u,null),ut(e,t,"formEncType",u.formEncType,u,null),ut(e,t,"formMethod",u.formMethod,u,null),ut(e,t,"formTarget",u.formTarget,u,null)):(ut(e,t,"encType",u.encType,u,null),ut(e,t,"method",u.method,u,null),ut(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=gr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=xl);break;case"onScroll":l!=null&&He("scroll",e);break;case"onScrollEnd":l!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=gr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":He("beforetoggle",e),He("toggle",e),hr(e,"popover",l);break;case"xlinkActuate":ul(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ul(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ul(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ul(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ul(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ul(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ul(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ul(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ul(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=f1.get(n)||n,hr(e,n,l))}}function Ou(e,t,n,l,u,s){switch(n){case"style":Wx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?za(e,l):(typeof l=="number"||typeof l=="bigint")&&za(e,""+l);break;case"onScroll":l!=null&&He("scroll",e);break;case"onScrollEnd":l!=null&&He("scrollend",e);break;case"onClick":l!=null&&(e.onclick=xl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),s=e[It]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,u),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):hr(e,n,l)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var l=!1,u=!1,s;for(s in n)if(n.hasOwnProperty(s)){var C=n[s];if(C!=null)switch(s){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ut(e,t,s,C,n,null)}}u&&ut(e,t,"srcSet",n.srcSet,n,null),l&&ut(e,t,"src",n.src,n,null);return;case"input":He("invalid",e);var T=s=C=u=null,V=null,le=null;for(l in n)if(n.hasOwnProperty(l)){var ce=n[l];if(ce!=null)switch(l){case"name":u=ce;break;case"type":C=ce;break;case"checked":V=ce;break;case"defaultChecked":le=ce;break;case"value":s=ce;break;case"defaultValue":T=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,t));break;default:ut(e,t,l,ce,n,null)}}Zx(e,s,T,V,le,C,u,!1);return;case"select":He("invalid",e),l=C=s=null;for(u in n)if(n.hasOwnProperty(u)&&(T=n[u],T!=null))switch(u){case"value":s=T;break;case"defaultValue":C=T;break;case"multiple":l=T;default:ut(e,t,u,T,n,null)}t=s,n=C,e.multiple=!!l,t!=null?Ma(e,!!l,t,!1):n!=null&&Ma(e,!!l,n,!0);return;case"textarea":He("invalid",e),s=u=l=null;for(C in n)if(n.hasOwnProperty(C)&&(T=n[C],T!=null))switch(C){case"value":l=T;break;case"defaultValue":u=T;break;case"children":s=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:ut(e,t,C,T,n,null)}Jx(e,l,u,s);return;case"option":for(V in n)n.hasOwnProperty(V)&&(l=n[V],l!=null)&&(V==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(e,t,V,l,n,null));return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(l=0;l<Zi.length;l++)He(Zi[l],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in n)if(n.hasOwnProperty(le)&&(l=n[le],l!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ut(e,t,le,l,n,null)}return;default:if(tc(t)){for(ce in n)n.hasOwnProperty(ce)&&(l=n[ce],l!==void 0&&Ou(e,t,ce,l,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(l=n[T],l!=null&&ut(e,t,T,l,n,null))}function G2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,s=null,C=null,T=null,V=null,le=null,ce=null;for(ie in n){var xe=n[ie];if(n.hasOwnProperty(ie)&&xe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":V=xe;default:l.hasOwnProperty(ie)||ut(e,t,ie,null,l,xe)}}for(var ae in l){var ie=l[ae];if(xe=n[ae],l.hasOwnProperty(ae)&&(ie!=null||xe!=null))switch(ae){case"type":s=ie;break;case"name":u=ie;break;case"checked":le=ie;break;case"defaultChecked":ce=ie;break;case"value":C=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:ie!==xe&&ut(e,t,ae,ie,l,xe)}}$0(e,C,T,V,le,ce,s,u);return;case"select":ie=C=T=ae=null;for(s in n)if(V=n[s],n.hasOwnProperty(s)&&V!=null)switch(s){case"value":break;case"multiple":ie=V;default:l.hasOwnProperty(s)||ut(e,t,s,null,l,V)}for(u in l)if(s=l[u],V=n[u],l.hasOwnProperty(u)&&(s!=null||V!=null))switch(u){case"value":ae=s;break;case"defaultValue":T=s;break;case"multiple":C=s;default:s!==V&&ut(e,t,u,s,l,V)}t=T,n=C,l=ie,ae!=null?Ma(e,!!n,ae,!1):!!l!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":ie=ae=null;for(T in n)if(u=n[T],n.hasOwnProperty(T)&&u!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(e,t,T,null,l,u)}for(C in l)if(u=l[C],s=n[C],l.hasOwnProperty(C)&&(u!=null||s!=null))switch(C){case"value":ae=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==s&&ut(e,t,C,u,l,s)}Xx(e,ae,ie);return;case"option":for(var ge in n)ae=n[ge],n.hasOwnProperty(ge)&&ae!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?e.selected=!1:ut(e,t,ge,null,l,ae));for(V in l)ae=l[V],ie=n[V],l.hasOwnProperty(V)&&ae!==ie&&(ae!=null||ie!=null)&&(V==="selected"?e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":ut(e,t,V,ae,l,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in n)ae=n[Me],n.hasOwnProperty(Me)&&ae!=null&&!l.hasOwnProperty(Me)&&ut(e,t,Me,null,l,ae);for(le in l)if(ae=l[le],ie=n[le],l.hasOwnProperty(le)&&ae!==ie&&(ae!=null||ie!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ut(e,t,le,ae,l,ie)}return;default:if(tc(t)){for(var xt in n)ae=n[xt],n.hasOwnProperty(xt)&&ae!==void 0&&!l.hasOwnProperty(xt)&&Ou(e,t,xt,void 0,l,ae);for(ce in l)ae=l[ce],ie=n[ce],!l.hasOwnProperty(ce)||ae===ie||ae===void 0&&ie===void 0||Ou(e,t,ce,ae,l,ie);return}}for(var $ in n)ae=n[$],n.hasOwnProperty($)&&ae!=null&&!l.hasOwnProperty($)&&ut(e,t,$,null,l,ae);for(xe in l)ae=l[xe],ie=n[xe],!l.hasOwnProperty(xe)||ae===ie||ae==null&&ie==null||ut(e,t,xe,ae,l,ie)}function Ff(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],s=u.transferSize,C=u.initiatorType,T=u.duration;if(s&&T&&Ff(C)){for(C=0,T=u.responseEnd,l+=1;l<n.length;l++){var V=n[l],le=V.startTime;if(le>T)break;var ce=V.transferSize,xe=V.initiatorType;ce&&Ff(xe)&&(V=V.responseEnd,C+=ce*(V<T?1:(T-le)/(V-le)))}if(--l,t+=8*(s+C)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yu=null,Uu=null;function f0(e){return e.nodeType===9?e:e.ownerDocument}function $f(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ed(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zu=null;function O2(){var e=window.event;return e&&e.type==="popstate"?e===Zu?!1:(Zu=e,!0):(Zu=null,!1)}var td=typeof setTimeout=="function"?setTimeout:void 0,Y2=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(e){return nd.resolve(null).then(e).catch(K2)}:td;function K2(e){setTimeout(function(){throw e})}function Wl(e){return e==="head"}function ld(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ai(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ji(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ji(n);for(var s=n.firstChild;s;){var C=s.nextSibling,T=s.nodeName;s[ia]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=C}}else n==="body"&&Ji(e.ownerDocument.body);n=u}while(n);ai(t)}function ad(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Xu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Xu(n),fi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Z2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ia])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function X2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=An(e.nextSibling),e===null))return null;return e}function id(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function Ju(e){return e.data==="$?"||e.data==="$~"}function Vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function J2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Wu=null;function rd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return An(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function cd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ud(e,t,n){switch(t=f0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ji(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fi(e)}var Ln=new Map,xd=new Set;function d0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jl=D.d;D.d={f:V2,r:W2,D:Q2,C:P2,L:F2,m:$2,X:th,S:eh,M:nh};function V2(){var e=jl.f(),t=a0();return e||t}function W2(e){var t=me(e);t!==null&&t.tag===5&&t.type==="form"?jo(t):jl.r(e)}var ti=typeof document>"u"?null:document;function sd(e,t,n){var l=ti;if(l&&typeof t=="string"&&t){var u=wn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),xd.has(u)||(xd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Ot(t,"link",e),Xe(t),l.head.appendChild(t)))}}function Q2(e){jl.D(e),sd("dns-prefetch",e,null)}function P2(e,t){jl.C(e,t),sd("preconnect",e,t)}function F2(e,t,n){jl.L(e,t,n);var l=ti;if(l&&e&&t){var u='link[rel="preload"][as="'+wn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+wn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+wn(n.imageSizes)+'"]')):u+='[href="'+wn(e)+'"]';var s=u;switch(t){case"style":s=ni(e);break;case"script":s=li(e)}Ln.has(s)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ln.set(s,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Vi(s))||t==="script"&&l.querySelector(Wi(s))||(t=l.createElement("link"),Ot(t,"link",e),Xe(t),l.head.appendChild(t)))}}function $2(e,t){jl.m(e,t);var n=ti;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(e)+'"]',s=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=li(e)}if(!Ln.has(s)&&(e=S({rel:"modulepreload",href:e},t),Ln.set(s,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wi(s)))return}l=n.createElement("link"),Ot(l,"link",e),Xe(l),n.head.appendChild(l)}}}function eh(e,t,n){jl.S(e,t,n);var l=ti;if(l&&e){var u=Re(l).hoistableStyles,s=ni(e);t=t||"default";var C=u.get(s);if(!C){var T={loading:0,preload:null};if(C=l.querySelector(Vi(s)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ln.get(s))&&Qu(e,n);var V=C=l.createElement("link");Xe(V),Ot(V,"link",e),V._p=new Promise(function(le,ce){V.onload=le,V.onerror=ce}),V.addEventListener("load",function(){T.loading|=1}),V.addEventListener("error",function(){T.loading|=2}),T.loading|=4,h0(C,t,l)}C={type:"stylesheet",instance:C,count:1,state:T},u.set(s,C)}}}function th(e,t){jl.X(e,t);var n=ti;if(n&&e){var l=Re(n).hoistableScripts,u=li(e),s=l.get(u);s||(s=n.querySelector(Wi(u)),s||(e=S({src:e,async:!0},t),(t=Ln.get(u))&&Pu(e,t),s=n.createElement("script"),Xe(s),Ot(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function nh(e,t){jl.M(e,t);var n=ti;if(n&&e){var l=Re(n).hoistableScripts,u=li(e),s=l.get(u);s||(s=n.querySelector(Wi(u)),s||(e=S({src:e,async:!0,type:"module"},t),(t=Ln.get(u))&&Pu(e,t),s=n.createElement("script"),Xe(s),Ot(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function od(e,t,n,l){var u=(u=te.current)?d0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ni(n.href),n=Re(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ni(n.href);var s=Re(u).hoistableStyles,C=s.get(e);if(C||(u=u.ownerDocument||u,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,C),(s=u.querySelector(Vi(e)))&&!s._p&&(C.instance=s,C.state.loading=5),Ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(e,n),s||lh(u,e,n,C.state))),t&&l===null)throw Error(i(528,""));return C}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=li(n),n=Re(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ni(e){return'href="'+wn(e)+'"'}function Vi(e){return'link[rel="stylesheet"]['+e+"]"}function fd(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function lh(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ot(t,"link",n),Xe(t),e.head.appendChild(t))}function li(e){return'[src="'+wn(e)+'"]'}function Wi(e){return"script[async]"+e}function dd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+wn(n.href)+'"]');if(l)return t.instance=l,Xe(l),l;var u=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Xe(l),Ot(l,"style",u),h0(l,n.precedence,e),t.instance=l;case"stylesheet":u=ni(n.href);var s=e.querySelector(Vi(u));if(s)return t.state.loading|=4,t.instance=s,Xe(s),s;l=fd(n),(u=Ln.get(u))&&Qu(l,u),s=(e.ownerDocument||e).createElement("link"),Xe(s);var C=s;return C._p=new Promise(function(T,V){C.onload=T,C.onerror=V}),Ot(s,"link",l),t.state.loading|=4,h0(s,n.precedence,e),t.instance=s;case"script":return s=li(n.src),(u=e.querySelector(Wi(s)))?(t.instance=u,Xe(u),u):(l=n,(u=Ln.get(s))&&(l=S({},n),Pu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Xe(u),Ot(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,h0(l,n.precedence,e));return t.instance}function h0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,s=u,C=0;C<l.length;C++){var T=l[C];if(T.dataset.precedence===t)s=T;else if(s!==u)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Pu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var m0=null;function hd(e,t,n){if(m0===null){var l=new Map,u=m0=new Map;u.set(n,l)}else u=m0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var s=n[u];if(!(s[ia]||s[De]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var C=s.getAttribute(t)||"";C=e+C;var T=l.get(C);T?T.push(s):l.set(C,[s])}}return l}function md(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ah(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ih(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ni(l.href),s=t.querySelector(Vi(u));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=b0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Xe(s);return}s=t.ownerDocument||t,l=fd(l),(u=Ln.get(u))&&Qu(l,u),s=s.createElement("link"),Xe(s);var C=s;C._p=new Promise(function(T,V){C.onload=T,C.onerror=V}),Ot(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=b0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Fu=0;function rh(e,t){return e.stylesheets&&e.count===0&&v0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&v0(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Fu===0&&(Fu=62500*H2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&v0(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Fu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function b0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)v0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var g0=null;function v0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,g0=new Map,t.forEach(ch,e),g0=null,b0.call(e))}function ch(e,t){if(!(t.state.loading&4)){var n=g0.get(e);if(n)var l=n.get(null);else{n=new Map,g0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<u.length;s++){var C=u[s];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(n.set(C.dataset.precedence,C),l=C)}l&&n.set(null,l)}u=t.instance,C=u.getAttribute("data-precedence"),s=n.get(C)||l,s===l&&n.set(null,u),n.set(C,u),this.count++,l=b0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),s?s.parentNode.insertBefore(u,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Qi={$$typeof:B,Provider:null,Consumer:null,_currentValue:A,_currentValue2:A,_threadCount:0};function uh(e,t,n,l,u,s,C,T,V){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=We(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=We(0),this.hiddenUpdates=We(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=s,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function gd(e,t,n,l,u,s,C,T,V,le,ce,xe){return e=new uh(e,t,n,C,V,le,ce,xe,T),t=1,s===!0&&(t|=24),s=an(3,null,null,t),e.current=s,s.stateNode=e,t=Lc(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Bc(s),e}function vd(e){return e?(e=qa,e):qa}function yd(e,t,n,l,u,s){u=vd(u),l.context===null?l.context=u:l.pendingContext=u,l=Rl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=Gl(e,l,t),n!==null&&(Ft(n,e,t),Di(n,e,t))}function pd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $u(e,t){pd(e,t),(e=e.alternate)&&pd(e,t)}function _d(e){if(e.tag===13||e.tag===31){var t=xa(e,67108864);t!==null&&Ft(t,e,67108864),$u(e,67108864)}}function Sd(e){if(e.tag===13||e.tag===31){var t=sn();t=lt(t);var n=xa(e,t);n!==null&&Ft(n,e,t),$u(e,t)}}var y0=!0;function xh(e,t,n,l){var u=z.T;z.T=null;var s=D.p;try{D.p=2,ex(e,t,n,l)}finally{D.p=s,z.T=u}}function sh(e,t,n,l){var u=z.T;z.T=null;var s=D.p;try{D.p=8,ex(e,t,n,l)}finally{D.p=s,z.T=u}}function ex(e,t,n,l){if(y0){var u=tx(l);if(u===null)Hu(e,t,l,p0,n),Cd(e,l);else if(fh(u,e,t,n,l))l.stopPropagation();else if(Cd(e,l),t&4&&-1<oh.indexOf(e)){for(;u!==null;){var s=me(u);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var C=ze(s.pendingLanes);if(C!==0){var T=s;for(T.pendingLanes|=2,T.entangledLanes|=2;C;){var V=1<<31-Oe(C);T.entanglements[1]|=V,C&=~V}el(s),(nt&6)===0&&(n0=Fe()+500,Ki(0))}}break;case 31:case 13:T=xa(s,2),T!==null&&Ft(T,s,2),a0(),$u(s,2)}if(s=tx(l),s===null&&Hu(e,t,l,p0,n),s===u)break;u=s}u!==null&&l.stopPropagation()}else Hu(e,t,l,null,n)}}function tx(e){return e=lc(e),nx(e)}var p0=null;function nx(e){if(p0=null,e=Ll(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return p0=e,null}function wd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vn()){case Dl:return 2;case il:return 8;case rl:case Nl:return 32;case aa:return 268435456;default:return 32}default:return 32}}var lx=!1,Ql=null,Pl=null,Fl=null,Pi=new Map,Fi=new Map,$l=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cd(e,t){switch(e){case"focusin":case"focusout":Ql=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(t.pointerId)}}function $i(e,t,n,l,u,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[u]},t!==null&&(t=me(t),t!==null&&_d(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function fh(e,t,n,l,u){switch(t){case"focusin":return Ql=$i(Ql,e,t,n,l,u),!0;case"dragenter":return Pl=$i(Pl,e,t,n,l,u),!0;case"mouseover":return Fl=$i(Fl,e,t,n,l,u),!0;case"pointerover":var s=u.pointerId;return Pi.set(s,$i(Pi.get(s)||null,e,t,n,l,u)),!0;case"gotpointercapture":return s=u.pointerId,Fi.set(s,$i(Fi.get(s)||null,e,t,n,l,u)),!0}return!1}function jd(e){var t=Ll(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,Ca(e.priority,function(){Sd(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,Ca(e.priority,function(){Sd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tx(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);nc=l,n.target.dispatchEvent(l),nc=null}else return t=me(n),t!==null&&_d(t),e.blockedOn=n,!1;t.shift()}return!0}function Md(e,t,n){_0(e)&&n.delete(t)}function dh(){lx=!1,Ql!==null&&_0(Ql)&&(Ql=null),Pl!==null&&_0(Pl)&&(Pl=null),Fl!==null&&_0(Fl)&&(Fl=null),Pi.forEach(Md),Fi.forEach(Md)}function S0(e,t){e.blockedOn===t&&(e.blockedOn=null,lx||(lx=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,dh)))}var w0=null;function zd(e){w0!==e&&(w0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){w0===e&&(w0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(nx(l||n)===null)continue;break}var s=me(n);s!==null&&(e.splice(t,3),t-=3,tu(s,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ai(e){function t(V){return S0(V,e)}Ql!==null&&S0(Ql,e),Pl!==null&&S0(Pl,e),Fl!==null&&S0(Fl,e),Pi.forEach(t),Fi.forEach(t);for(var n=0;n<$l.length;n++){var l=$l[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$l.length&&(n=$l[0],n.blockedOn===null);)jd(n),n.blockedOn===null&&$l.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],s=n[l+1],C=u[It]||null;if(typeof s=="function")C||zd(n);else if(C){var T=null;if(s&&s.hasAttribute("formAction")){if(u=s,C=s[It]||null)T=C.formAction;else if(nx(u)!==null)continue}else T=C.action;typeof T=="function"?n[l+1]=T:(n.splice(l,3),l-=3),zd(n)}}}function Dd(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(C){return u=C})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function ax(e){this._internalRoot=e}C0.prototype.render=ax.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=sn();yd(n,l,e,t,null,null)},C0.prototype.unmount=ax.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yd(e.current,2,null,e,null,null),a0(),t[Al]=null}};function C0(e){this._internalRoot=e}C0.prototype.unstable_scheduleHydration=function(e){if(e){var t=pn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$l.length&&t!==0&&t<$l[n].priority;n++);$l.splice(n,0,e),n===0&&jd(e)}};var Nd=r.version;if(Nd!=="19.2.3")throw Error(i(527,Nd,"19.2.3"));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var hh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var j0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!j0.isDisabled&&j0.supportsFiber)try{On=j0.inject(hh),Bt=j0}catch{}}return tr.createRoot=function(e,t){if(!f(e))throw Error(i(299));var n=!1,l="",u=Bo,s=ko,C=Io;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(C=t.onRecoverableError)),t=gd(e,1,!1,null,null,n,l,null,u,s,C,Dd),e[Al]=t.current,Gu(e),new ax(t)},tr.hydrateRoot=function(e,t,n){if(!f(e))throw Error(i(299));var l=!1,u="",s=Bo,C=ko,T=Io,V=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(C=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(V=n.formState)),t=gd(e,1,!0,t,n??null,l,u,V,s,C,T,Dd),t.context=vd(null),n=t.current,l=sn(),l=lt(l),u=Rl(l),u.callback=null,Gl(n,u,l),n=l,t.current.lanes=n,Le(t,n),el(t),e[Al]=t.current,Gu(e),new C0(t)},tr.version="19.2.3",tr}var Gd;function Ch(){if(Gd)return cx.exports;Gd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),cx.exports=wh(),cx.exports}var jh=Ch();const Ml=Tn;(function(c,r){const a=Tn,i=c();for(;;)try{if(parseInt(a(273))/1+-parseInt(a(278))/2+-parseInt(a(270))/3*(-parseInt(a(264))/4)+parseInt(a(291))/5+parseInt(a(267))/6*(parseInt(a(288))/7)+parseInt(a(282))/8+-parseInt(a(285))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(N0,725931);const Mh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Tn;if(f(289)!=="GoChz"){if(a){const o=a.apply(r,arguments);return a=null,o}}else{const o=_0x687b91[f(268)].find(v=>v.id===_0x25ebe4);o&&_0x40f331[f(274)](o.position)}}:function(){};return c=!1,i}})(),dx=Mh(void 0,function(){const c=Tn,r={hIsgC:"(((.+)+)+)+$"};return dx[c(269)]().search(r.hIsgC)[c(269)]()[c(262)](dx).search(r.hIsgC)});dx();const D0=()=>new Date().toISOString(),Et=c=>c+"_"+Math.random()[Ml(269)](36)[Ml(266)](2,10),ye=(c,r,a)=>Math.max(r,Math[Ml(265)](a,c)),ta=c=>{const r=Ml;return c===void 0||{VnDpw:function(i,f){return i===f}}[r(292)](c,null)?c:JSON[r(281)](JSON.stringify(c))};function Tn(c,r){c=c-261;const a=N0();let i=a[c];if(Tn.CQaVGU===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};Tn.mefEYb=f,Tn.kFcUzX={},Tn.CQaVGU=!0}const o=a[0],v=c+o,y=Tn.kFcUzX[v];if(y)i=y;else{const d=function(m){this.IPzLwJ=m,this.ypwxlA=[1,0,0],this.HmZjsX=function(){return"newState"},this.ETTsmo="\\w+ *\\(\\) *{\\w+ *",this.aTqDUY=`['|"].+['|"];? *}`};d.prototype.SyKdHD=function(){const m=new RegExp(this.ETTsmo+this.aTqDUY),_=m.test(this.HmZjsX.toString())?--this.ypwxlA[1]:--this.ypwxlA[0];return this.lMTFtB(_)},d.prototype.lMTFtB=function(m){return~m?this.YXiOKf(this.IPzLwJ):m},d.prototype.YXiOKf=function(m){for(let _=0,S=this.ypwxlA.length;_<S;_++)this.ypwxlA.push(Math.round(Math.random())),S=this.ypwxlA.length;return m(this.ypwxlA[0])},new d(Tn).SyKdHD(),i=Tn.mefEYb(i),Tn.kFcUzX[v]=i}return i}const lr=c=>Math.floor(c*.7/5)*5;function ll(c,r){const a=Ml;return c[a(286)]?c.groups[a(275)](i=>i.flowerIds.includes(r))??null:null}function zh(c,r){const a=Ml,i={YHwVC:function(o,v,y){return o(v,y)}},f=i[a(271)](ll,c,r);return f?f.flowerIds:[r]}function zl(c,r){const a=Ml;return c.groups?c.groups.find(i=>i[a(277)].includes(r))??null:null}function N0(){const c=["yMzzBM8","n2nvDxrzEG","y0XPzg0","ExvYyue","nJiZnZm1zvDizhzm","vM5eChC","z3D1u3C","y29UC3rYDwn0B3i","rgPsyui","nZyWnda4wevMCLbh","BwLU","C2XPy2u","ndmYnZC0nM9frvbuCW","zMXVD2vYCW","Dg9tDhjPBMC","m0n5AhnJEG","wuH3vKm","zMXVD2vYswrZ","mtmXmdGXt0n5vwfc","ChvZAa","zMLUza","C3rYAw5NAwz5","BgvHzKLKCW","mtqYnty5nfDJu2DoCG","BgvUz3rO","BgvHDMvZ","CgfYC2u","otG5ntG0ogjnvwPmva","t2HjEvm","Cg9ZAxrPB24","ody4odGXnKr6uKTrEq","z3jVDxbZ"];return N0=function(){return c},N0()}function Dh(c,r){const a=Ml,i={gwuSw:function(d,m){return d===m},OhIyS:function(d,m){return d!==m},XcGvm:a(290),DjRaB:function(d,m){return d/m}},f=(c[a(286)]??[]).find(d=>d.id===r);if(!f)return{x:0,y:0};const o=[];for(const d of f[a(272)]){if(i[a(283)](i.XcGvm,i.XcGvm))return WXSUaH[a(261)](_0x5989c1,void 0)||WXSUaH[a(261)](_0x2f6ef1,null)?_0x22173f:_0x527c1e[a(281)](_0x1741a1[a(276)](_0x552ce8));{const m=c.flowers[a(275)](_=>_.id===d);m&&o[a(274)](m[a(284)])}}for(const d of f.leafIds){const m=(c[a(280)]??[])[a(275)](_=>_.id===d);m&&o[a(274)](m[a(284)])}if(o.length===0)return{x:0,y:0};const v=o.reduce((d,m)=>d+m.x,0),y=o.reduce((d,m)=>d+m.y,0);return{x:v/o.length,y:i[a(263)](y,o[a(279)])}}function Hd(c,r){const a=Ml,i={bfYno:function(o,v,y){return o(v,y)}},f=i[a(287)](zl,c,r);return f?f[a(277)]:[r]}const rr=En;function En(c,r){c=c-468;const a=A0();let i=a[c];if(En.KiBTgc===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};En.LjSjVm=f,En.LeAUbz={},En.KiBTgc=!0}const o=a[0],v=c+o,y=En.LeAUbz[v];if(y)i=y;else{const d=function(m){this.EzFcVS=m,this.CkSTYR=[1,0,0],this.EwfTPr=function(){return"newState"},this.rUjHEm="\\w+ *\\(\\) *{\\w+ *",this.yjDGcj=`['|"].+['|"];? *}`};d.prototype.DCrghJ=function(){const m=new RegExp(this.rUjHEm+this.yjDGcj),_=m.test(this.EwfTPr.toString())?--this.CkSTYR[1]:--this.CkSTYR[0];return this.HwvwSX(_)},d.prototype.HwvwSX=function(m){return~m?this.pVewBK(this.EzFcVS):m},d.prototype.pVewBK=function(m){for(let _=0,S=this.CkSTYR.length;_<S;_++)this.CkSTYR.push(Math.round(Math.random())),S=this.CkSTYR.length;return m(this.CkSTYR[0])},new d(En).DCrghJ(),i=En.LjSjVm(i),En.LeAUbz[v]=i}return i}(function(c,r){const a=En,i=c();for(;;)try{if(-parseInt(a(509))/1+-parseInt(a(493))/2+parseInt(a(488))/3*(parseInt(a(516))/4)+parseInt(a(511))/5*(parseInt(a(508))/6)+-parseInt(a(519))/7*(parseInt(a(489))/8)+parseInt(a(512))/9+-parseInt(a(471))/10*(parseInt(a(475))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,510570);const Nh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),hx=Nh(void 0,function(){const c=En,r={hJBXk:"(((.+)+)+)+$"};return hx[c(482)]()[c(484)](r.hJBXk).toString()[c(517)](hx).search(r.hJBXk)});hx();const xi=2/3,Od=.6,Ah=.25,Lh=.75;function la(c,r,a){const i=En,f={jmakv:function(B,R){return B/R},xxYQj:function(B,R){return B*R},Kzkqe:function(B,R){return B<=R},tnDAv:i(486),MpdUD:function(B,R){return B/R},LqXEM:function(B,R){return B===R},TAVHE:i(481),DzxXn:function(B,R){return B+R},blPYZ:function(B,R){return B-R},dMhWW:function(B,R){return B*R},enUJu:function(B,R){return B+R},RkTQW:function(B,R){return B*R},ilWNq:function(B,R){return B*R},gzamn:function(B,R){return B*R},nECtc:function(B,R){return B*R},wgfct:function(B,R){return B*R},dJFsn:function(B,R){return B-R},AYGNZ:function(B,R){return B*R}},o=f.jmakv(c,2),v=f.jmakv(f.xxYQj(r,Math.SQRT2),2);if(v<=0||f[i(506)](o,0))return{diameter:c,layerCount:1};const y=a?.sizeMode??f[i(469)],d=a?.sizeStepMm??0,m=f[i(470)](v,1-xi),_=f[i(480)](f[i(470)](Math.PI,o),2),S=a?.layerCount??Math.max(1,Math.round(_/m)),w=f.LqXEM(y,f[i(499)])?f.DzxXn(r,f[i(485)](S,1)*d):r,M=f[i(474)](f[i(501)](w,Math.SQRT2),2),N=f[i(478)](f.RkTQW(v,Ah),f[i(501)](M,Lh));if(S===1){const B=Math[i(490)](Math.PI/2,f.ilWNq(M,xi)/o),R=f.xxYQj(o,Math.sin(B)),U=M*Od*Math.sin(B);return{diameter:Math[i(497)](Math.max(c,f[i(510)](2,f.DzxXn(R,U)))),layerCount:S}}let g=f.nECtc(v,xi)/o;for(let B=1;B<S;B++){const R=y===i(481)?r+B*d:r,U=f.xxYQj(R,Math.SQRT2)/2;g+=f[i(480)](f.xxYQj(U,1-xi),o)}g=Math[i(490)](g,f[i(474)](Math.PI,2));const b=f[i(478)](o,f.wgfct(N,Od))*Math.sin(g),k=Math[i(487)](0,f.dJFsn(b,o));return{diameter:Math[i(497)](f[i(491)](c,f.AYGNZ(2,k))),layerCount:S}}function cr(c,r,a=rr(486),i=0){const f=rr,o={AxIHz:function(d,m){return d<=m},cdNrT:function(d,m){return d===m},smWyj:f(481),AQvNW:function(d,m){return d+m},qUeAi:function(d,m){return d*m},yZZEX:function(d,m){return d<m},SmmZJ:function(d,m){return d/m},cJbyg:function(d,m){return d*m}};if(r<=0||o[f(500)](c,0))return 0;const v=[];for(let d=0;d<r;d++){const m=o.cdNrT(a,o.smWyj)?o.AQvNW(c,o.qUeAi(d,i)):c;v.push(m*Math[f(468)]/2)}let y=v[0];for(let d=1;o[f(492)](d,r);d++)y+=o.SmmZJ(v[d],3);return Math[f(497)](o.cJbyg(y,2))}function A0(){const c=["qu1nzgy","mJrivxLeB1C","nZCWnZH5yNDcv08","z3PHBw4","otK4mdG1t2HvwKPx","mtG3mtm3ou1IDMrhvq","weXHqNO","Bujwvge","yxDYrg8","mZC5nJa4neHtrfL5ra","y29UC3rYDwn0B3i","zhzHDhi","ote1nJC3u2PUyxr1","C2L6zu1Vzgu","u1fsvdi","Dg5eqxy","EhHzuwO","mtiZodqWzwHmDujy","rhHrC0m","AuTXtfq","AM1HA3y","mtqZAu5JC1bq","Bxbtzw4","r05tz3q","zw5vsNu","rNbHzfe","txbKvuq","z3jHzhvHBa","Dg9tDhjPBMC","A2TUsMy","C2vHCMnO","yMXqwvO","Dw5PzM9YBq","Bwf4","m2rIrvjuEq","ndHwBfH1Awy","BwLU","rhP4wg4","EvPArvG","odqZodi4CNLTrxL6","z1Pcueq","DxDNs0e","ywDsBKe","CM91BMq","BvrHsxC","vefwseu","qxHjshO","ze1Ov1C","u3LKEe0","wKnMAKS","wejUEg0","vuvhExe","s3PRCwu"];return A0=function(){return c},A0()}function Th(c,r,a="uniform",i=0){const f=rr,o={XLaBz:function(S,w){return S<=w},DxQsC:"uniform",UPurq:function(S,w){return S===w},JdkHu:function(S,w){return S*w},gZBPD:function(S,w){return S/w},awrDo:function(S,w){return S/w},FpadQ:function(S,w){return S+w}};if(o[f(513)](r,0)||c<=0)return 0;const v=c/2,y=Math.SQRT2/2,d=r;if(a===o[f(472)]||o.UPurq(i,0)){const S=o.JdkHu(y,d+2)/3;return Math[f(487)](1,Math.round(v/S))}const m=o[f(494)](i*(d-1)*d,6),_=o.awrDo((o[f(515)](v,y)-m)*3,o[f(479)](d,2));return Math[f(487)](1,Math.round(_))}function Eh(c,r,a){const i=rr,f={kknJf:function(y,d){return y<=d},ZCfjK:function(y,d){return y/d},SydxM:function(y,d){return y===d},nzdcI:function(y,d){return y*d},AMMdf:function(y,d){return y/d},GNSgt:function(y,d){return y*d},mBVTa:function(y,d){return y-d},mTaIw:function(y,d){return y<d},pOcam:function(y,d){return y+d},JwTxi:function(y,d,m,_){return y(d,m,_)},dvatr:function(y,d){return y<d}};if(c<=r)return 1;let o=1,v=80;for(let y=0;f[i(498)](y,30);y++){const d=f.pOcam(o,v)/2,{diameter:m}=f.JwTxi(la,r,d,a);if(f[i(518)](m,c))if(i(504)==="XBnxm")o=d;else{if(JcndWT[i(483)](_0x42a518,0)||_0x35dae3<=0)return 0;const _=JcndWT.ZCfjK(_0x27f17e,2),S=_0x19f35c[i(468)]/2,w=_0xe77b56;if(JcndWT[i(502)](_0x11b1dc,"uniform")||_0x34a944===0){const g=JcndWT.nzdcI(S,w+2)/3;return _0x10dc07[i(487)](1,_0x597a97[i(497)](_/g))}const M=JcndWT[i(507)](JcndWT.GNSgt(JcndWT[i(477)](_0x539dd7,JcndWT[i(514)](w,1)),w),6),N=(JcndWT[i(503)](_,S)-M)*3/(w+2);return _0x5401d5.max(1,_0x42ea9d.round(N))}else v=d}return Math.max(1,Math.round(f.pOcam(o,v)/2))}function qh(c,r,a){const i=rr,f={UEGyq:function(w,M){return w*M},uwgKA:function(w,M){return w<=M},iKqLT:i(486),mpSen:function(w,M){return w/M},lRIZJ:function(w,M){return w===M},agRnA:function(w,M){return w*M},DdgHt:function(w,M){return w/M},aDNNN:function(w,M){return w+M}},o=c/2,v=f[i(505)](r,Math.SQRT2)/2;if(v<=0||f[i(495)](o,0))return 1;const y=a?.[i(520)]??f[i(473)],d=a?.sizeStepMm??0,m=f[i(476)](Math.PI,2);if(y===f[i(473)]||f.lRIZJ(d,0)){const w=v/3,M=f[i(476)](Math.PI*o,2);return Math[i(487)](1,Math[i(497)](M/w))}let _=v*xi/o;if(_>=m)return 1;let S=1;for(let w=1;w<100;w++){const M=r+f[i(496)](w,d),N=f.DdgHt(M*Math[i(468)],2),g=f[i(496)](N,1-xi)/o;if(_+=g,_>f.aDNNN(m,g/2))break;S=w+1}return Math[i(487)](1,S)}const Hn=on;(function(c,r){const a=on,i=c();for(;;)try{if(parseInt(a(310))/1+-parseInt(a(353))/2+parseInt(a(342))/3*(parseInt(a(298))/4)+-parseInt(a(318))/5+parseInt(a(305))/6+-parseInt(a(288))/7*(parseInt(a(340))/8)+-parseInt(a(346))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,562040);const Bh=(function(){const c={jHeiX:function(a,i){return a<=i},KhMGy:function(a,i){return a<i},nBHJf:function(a,i){return a*i},tYZQO:function(a,i){return a*i},uJtse:function(a,i){return a/i},SeMGI:function(a,i){return a*i},ThkKu:function(a,i){return a+i},rKkUs:function(a,i){return a*i},HVpas:function(a,i){return a+i},JtfOP:"hjVaw"};let r=!0;return function(a,i){const f=on,o={EHBSG:function(v,y){return c.HVpas(v,y)},PbAWd:function(v,y){return c.SeMGI(v,y)},HCQeT:function(v,y){return c.uJtse(v,y)},xsvVl:function(v,y){return c[on(351)](v,y)},bZfoS:function(v,y){return v%y}};if(c[f(303)]!=="zaeMN"){const v=r?function(){const y=f;if(y(306)==="ypTJn"){const d=o.EHBSG(_0x1363a7+o.PbAWd(_0x5e975a,_0x1a4c37),o.HCQeT(_0x51f374,2));let m=_0x344120;for(let _=0;o.xsvVl(_,_0x12cff0);_++){const S=o.bZfoS(o.EHBSG(o[y(307)](d,_*_0x5d76bb)%360,360),360);for(const w of _0x339119){let M=_0x427a0c.abs(S-w);M>180&&(M=360-M),o[y(341)](M,m)&&(m=M)}}m>_0x499005&&(_0x5f32dd=m,_0x3c43c3=d)}else if(i){const d=i[y(338)](a,arguments);return i=null,d}}:function(){};return r=!1,v}else{if(!_0x1323a7||_0x28545c<=0||c[f(319)](_0x1db81b,0))return"";const v=[];for(let y=0;c[f(351)](y,_0x29cc30);y++){const d=c[f(312)](c[f(293)](c[f(308)](y,_0x533eb6),2),_0x761328.PI),m=c.tYZQO(c.SeMGI(c.uJtse(y+.5,_0x25d9fa),2),_0x19ceb1.PI),_=c.uJtse(c[f(334)](y,1),_0x123972)*2*_0x56691d.PI,S=_0x13e412.cos(d)*_0x4bea62,w=_0x5aada2[f(333)](d)*_0x347ef7,M=_0xdb97f0[f(332)](m)*_0x283d30,N=_0x3e107a[f(333)](m)*_0x14410d,g=c.rKkUs(_0x5c7a43[f(332)](_),_0x25a2b2),b=c[f(312)](_0x1b4b2c[f(333)](_),_0x47ed96);y===0&&v[f(291)]("M "+S[f(327)](2)+" "+w[f(327)](2)),v[f(291)]("Q "+M[f(327)](2)+" "+N.toFixed(2)+" "+g[f(327)](2)+" "+b.toFixed(2))}return v[f(291)]("Z"),v[f(317)](" ")}}})(),mx=Bh(void 0,function(){const c=on,r={MJqZE:c(357)};return mx[c(339)]()[c(284)](r[c(321)])[c(339)]().constructor(mx)[c(284)](r[c(321)])});mx();const or=.28,Yd={:Hn(299),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function ur(c){const r=Hn,a={QBhxU:r(294)};return c===r(322)?Yd.:Yd[a.QBhxU]}function na(c){const r=Hn,a={ZIVXh:function(i,f){return i/f},WrdFi:function(i,f){return i*f}};return a.ZIVXh(a[r(343)](c,Math.PI),180)}const tn=2.7;function qt(c){const r=Hn,a={xxNWh:function(v,y){return v/y},NjYvj:function(v,y){return v*y}},i=a[r(316)](a[r(348)](c,Math[r(347)]),2),f=i*tn,o=f/2;return{length:f,width:o}}function kh(c){const r=Hn,a={cAhPs:function(i,f){return i/f},sSxRn:function(i,f){return i*f}};return a[r(309)](a[r(355)](c,tn),2)}function L0(){const c=["shv2tfy","uuTmBKm","Bxj2t3y","Dg9gAxHLza","zfDWANC","wwHbr28","veDWAgq","B3jKzxi","y29Z","C2LU","vgHRs3u","Benhy2q","Dfv2wuW","zMXVB3i","yxbWBhK","Dg9tDhjPBMC","mtCWmJaWvwTmEenJ","Ehn2vMW","mti5tfL0t1fc","v3jKrMK","EvnJzxu","ugL1qxa","mti5nJG3m2j0AxzcBq","u1fsvdi","tMPzDMO","vKT5uLy","z0jzzuW","s2Hnr3K","r0fIzM0","mJKYmdC0s0vhsLnT","CMfKAxvZ","C1n4uM4","BwLU","kcGOlISPkYKRksSK","vxzsr04","Eujxyu4","vMHUDK0","A2TmrNe","zfj3Dxu","t2XXzwK","C2vHCMnO","q2XRtLi","zvHyy3u","zMLUza","otfRCKv5Cvm","qNzWCvu","5y2k44gp44gz","ChvZAa","twPmAw8","DfLAuu8","5lI444gK44g+44g/","zhPOqK4","BgvUz3rO","ExjmCxO","ntG1mZjMrgDcC0y","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","BM92Buq","rxz2EwO","D1rmBxC","sNrMt1a","CM91BMq","mtG0odq4Aw55sKzv","uhrhqwu","ruHcu0C","DuP0C2u","y0fOuhm","otuZnJi2yLrQB1vW","ywjZ","BKjisMy","Bwf4","C2nHBgu","suHKAuq","EhHov2G","AM9PBG","mJqYnduYmhHJq2P3Ca","AKHLAvG","C2XRC24","tuPXwKu","5yMJ44gK44g+44g/","vLrey0G"];return L0=function(){return c},L0()}function ar(c,r,a){const i=Hn,f={jiuUe:function(m,_){return m*_},kOBQT:function(m,_){return m-_},nlRCS:function(m,_){return m*_},dWpjw:function(m,_){return m/_},Evvyj:function(m,_){return m*_}},{length:o}=qt(a),v=f.jiuUe(o,r),y=Math.max(0,f.kOBQT(c,f.nlRCS(v,or))),d=y+v;return f[i(328)](f[i(301)](d,2),tn)}function Ih(c,r,a){const i=Hn,f={wQMIr:function(d,m){return d(m)},UvRGN:function(d,m){return d*m},MjLio:function(d,m){return d-m}},{length:o}=f.wQMIr(qt,a),v=o*r,y=c*tn/2;return Math.max(2,y-f[i(358)](v,f[i(292)](1,or)))}function nl(c,r,a){const i=Hn,f={yBWaN:function(_,S){return _*S},ZBFEj:function(_,S){return _/S},hBGbR:function(_,S){return _<=S},BvpqU:function(_,S){return _<=S},HuvLV:function(_,S){return _??S},yrLqz:function(_,S){return _!==S},Mlbak:i(336),GAbfm:function(_,S){return _+S},ldQJf:function(_,S){return _<S},BynJo:function(_,S){return _%S},yThIR:function(_,S){return _*S},TGphd:function(_,S){return _>S}};if(!c||f.hBGbR(c,0)||!a||f[i(289)](a,0))return f[i(324)](r,0);const o=f.ZBFEj(360,c),v=360/a,y=[];for(let _=0;_<c;_++)if(f[i(297)]("tUvYL",f.Mlbak)){const S=EbdUJQ[i(359)](_0x1d5c5b,_0x3ccaea.SQRT2)/2,w=S*_0x46566e,M=EbdUJQ.ZBFEj(w,2);return{length:w,width:M}}else y[i(291)]((f[i(352)](r,f[i(359)](_,o))%360+360)%360);let d=r+o/2,m=-1;for(let _=0;_<c;_++){const S=f[i(352)](r+_*o,f.ZBFEj(o,2));let w=1/0;for(let M=0;f.ldQJf(M,a);M++){const N=f.BynJo((S+f.yThIR(M,v))%360+360,360);for(const g of y){let b=Math[i(311)](N-g);b>180&&(b=360-b),b<w&&(w=b)}}f[i(330)](w,m)&&(m=w,d=S)}return Math[i(304)](d*10)/10}function W0(c,r,a){const i=Hn,f={kkLFq:function(M,N){return M(N)},mrvOv:function(M,N){return M-N},efjdp:function(M,N){return M*N},uRGDf:function(M,N){return M*N},eXXcu:function(M,N){return M*N}};if(c[i(296)]===0)return;const{length:o}=f[i(281)](qt,r),v=c[0],y=v.scale??1,d=o*y,m=Math.max(0,f[i(326)](v[i(354)],f.efjdp(d,or))),_=m+d;if(_<=0)return;const S=a*tn/2,w=S/_;for(const M of c)M.radius=Math[i(313)](2,Math.round(f.uRGDf(M[i(354)]*w,10))/10),M.scale=Math.round(f.efjdp(f[i(286)](M[i(314)]??1,w),100))/100;bx(c,r)}function bx(c,r){const a=Hn,i={PiuAp:function(d,m){return d===m},wTLmw:function(d,m){return d/m},gBYeL:function(d,m){return d*m}};if(i[a(345)](c.length,0))return;const f=c[c[a(296)]-1],{length:o}=qt(r),v=o*(f[a(314)]??1),y=i[a(302)](Math.floor(i[a(350)](v,or)*10),10);f[a(354)]>y&&(f.radius=y)}function on(c,r){c=c-280;const a=L0();let i=a[c];if(on.aaTJmQ===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};on.rIHbTL=f,on.YrBHlm={},on.aaTJmQ=!0}const o=a[0],v=c+o,y=on.YrBHlm[v];if(y)i=y;else{const d=function(m){this.DfiUee=m,this.JNIVjD=[1,0,0],this.xDHVYv=function(){return"newState"},this.qWNArB="\\w+ *\\(\\) *{\\w+ *",this.azTLMQ=`['|"].+['|"];? *}`};d.prototype.TQMLxL=function(){const m=new RegExp(this.qWNArB+this.azTLMQ),_=m.test(this.xDHVYv.toString())?--this.JNIVjD[1]:--this.JNIVjD[0];return this.igwVQh(_)},d.prototype.igwVQh=function(m){return~m?this.hfKMuD(this.DfiUee):m},d.prototype.hfKMuD=function(m){for(let _=0,S=this.JNIVjD.length;_<S;_++)this.JNIVjD.push(Math.round(Math.random())),S=this.JNIVjD.length;return m(this.JNIVjD[0])},new d(on).TQMLxL(),i=on.rIHbTL(i),on.YrBHlm[v]=i}return i}function Rh(c,r,a,i){const f=Hn,o={novmD:function(w,M){return w/M},dzhBN:function(w,M){return w*M},ClkNR:function(w,M){return w(M)},VhnvM:function(w,M){return w===M},Olqei:function(w,M){return w(M)},SCttY:function(w,M){return w*M},KeUIG:function(w,M){return w<M},vjoLi:function(w,M){return w-M},lCGcd:function(w,M){return w===M},oHdzd:f(290),yBEUD:function(w,M){return w*M},QKLnC:function(w,M){return w>M},YcAjU:function(w,M){return w*M},jzqoR:f(349),ZEVnG:function(w,M){return w/M},slksn:function(w,M){return w+M}};if(o[f(280)](c[f(296)],0))return;const v=[...c].sort((w,M)=>M[f(331)]-w.order),{length:y}=o[f(283)](qt,r),d=v[f(296)],m=v[0].scale??1,_=o.SCttY(y,m);v[0].radius=Math[f(337)](_*or*10)/10;for(let w=1;o.KeUIG(w,d);w++){const M=v[o.vjoLi(w,1)],N=y*(M.scale??1);let g;if(o.lCGcd(a,o.oHdzd)){const k=o.yBEUD(70,Math.PI)/180,I=o[f(325)](d,1)?o.YcAjU(w/(d-1),k):0;g=N*o[f(300)](30,100)*Math[f(332)](I)}else o[f(335)](o.jzqoR,"VKyRV")?g=o.novmD(N,3):(_0x267e0d.radius=_0x30c680.radius,_0x3d9c98[f(314)]=_0x27e309[f(314)]);v[w].radius=o.ZEVnG(Math[f(304)](o[f(320)](M[f(354)],g)*10),10)}const S=[...c].sort((w,M)=>w.order-M[f(331)]);W0(S,r,i);for(const w of S){const M=c[f(287)](N=>N.id===w.id);if(M)if(f(323)!=="VTDcH"){const N=o[f(300)](360,_0x408cef),g=o[f(295)](_0x1ec951[f(333)](o[f(285)](_0x1d3972,N/2)),2),b=.96,k=1.2,I=g*k/b;return o.novmD(_0x44dbb1.round(_0x19cc96[f(313)](.3,_0x3dfb11[f(356)](3,I))*100),100)}else M[f(354)]=w[f(354)],M.scale=w.scale}}function si(c){const r=Hn,a={ZnmDE:function(d,m){return d*m},apuin:function(d,m){return d/m}},i=360/c,f=a.ZnmDE(Math[r(333)](na(a.apuin(i,2))),2),o=.96,v=1.2,y=f*v/o;return Math[r(304)](Math.max(.3,Math.min(3,y))*100)/100}(function(c,r){const a=fn,i=c();for(;;)try{if(-parseInt(a(337))/1+-parseInt(a(292))/2*(-parseInt(a(313))/3)+-parseInt(a(355))/4+-parseInt(a(277))/5+-parseInt(a(352))/6*(-parseInt(a(340))/7)+-parseInt(a(284))/8+-parseInt(a(300))/9*(-parseInt(a(332))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,984207);const Gh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),gx=Gh(void 0,function(){const c=fn,r={hDKIf:"(((.+)+)+)+$"};return gx.toString().search(r.hDKIf).toString().constructor(gx)[c(320)](c(341))});gx();function fn(c,r){c=c-273;const a=T0();let i=a[c];if(fn.DGrKDy===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};fn.CAQQSS=f,fn.xTqqEM={},fn.DGrKDy=!0}const o=a[0],v=c+o,y=fn.xTqqEM[v];if(y)i=y;else{const d=function(m){this.dGDcLp=m,this.XdPekd=[1,0,0],this.IGZwVu=function(){return"newState"},this.OJjIhJ="\\w+ *\\(\\) *{\\w+ *",this.JoPDpa=`['|"].+['|"];? *}`};d.prototype.dnpTGx=function(){const m=new RegExp(this.OJjIhJ+this.JoPDpa),_=m.test(this.IGZwVu.toString())?--this.XdPekd[1]:--this.XdPekd[0];return this.bDRWnF(_)},d.prototype.bDRWnF=function(m){return~m?this.oNSCwh(this.dGDcLp):m},d.prototype.oNSCwh=function(m){for(let _=0,S=this.XdPekd.length;_<S;_++)this.XdPekd.push(Math.round(Math.random())),S=this.XdPekd.length;return m(this.XdPekd[0])},new d(fn).dnpTGx(),i=fn.CAQQSS(i),fn.xTqqEM[v]=i}return i}function Qd(){const c=fn,r={CyAIk:"#F5F5F5",bpiXP:"col_red",MCGNn:c(326),CDrde:"col_hotpink",KUZKr:"col_orange",njUMp:"col_yellow",pbSNz:"col_blue",qUMLX:"#3B7DD8",GXYnK:c(298),kfkfW:c(308),LAZes:"col_purple",GgLeX:"#D4A843",VmasO:"col_silver",jNzov:"col_cream",rChCq:c(319),LpuaX:"col_brown",fAZgE:c(293),bkSCp:c(336)};return[{id:"col_white",name:"",hex:r[c(328)]},{id:r.bpiXP,name:"",hex:"#E34850"},{id:c(280),name:"",hex:r[c(317)]},{id:r[c(278)],name:"",hex:"#E0457B"},{id:r.KUZKr,name:"",hex:c(321)},{id:r[c(329)],name:"",hex:c(302)},{id:"col_lightyellow",name:"",hex:"#FDF5C9"},{id:"col_green",name:"",hex:c(306)},{id:c(331),name:"",hex:"#1A7A3A"},{id:"col_lightblue",name:"",hex:"#7EC8E3"},{id:r.pbSNz,name:"",hex:r[c(330)]},{id:r[c(350)],name:"",hex:r.kfkfW},{id:r[c(346)],name:"",hex:c(310)},{id:c(296),name:"",hex:c(282)},{id:c(338),name:"",hex:r[c(348)]},{id:r[c(281)],name:"",hex:c(311)},{id:r[c(276)],name:"",hex:r.rChCq},{id:r[c(354)],name:"",hex:"#8B5E3C"},{id:r.fAZgE,name:"",hex:"#333333"},{id:r[c(304)],name:"",hex:"#F08080"}]}function Hh({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=fn,f={vDdHY:function(y,d){return y(d)},zuBNK:function(y,d){return y??d}},o=D0(),v=Qd();return f[i(316)](wa,{id:Et(i(303)),title:c??"",unit:"mm",fabricSquareSize:f.zuBNK(r,20),baseDiameter:a??30,notes:"",createdAt:o,updatedAt:o,palette:v,flowers:[]})}function Oh(c,r){const a=fn,i={nVsBr:function(y,d){return y(d)}},f=i[a(291)](ta,c);f.id=Et(a(314)),f.name=c.name+a(285);const o=r?.x??12,v=r?.y??12;return f[a(333)]={x:(c.position?.x??0)+o,y:(c[a(333)]?.y??0)+v},f.layers=(f[a(323)]||[]).map(y=>({...y,id:Et("lay"),petalOverrides:y[a(322)]?y[a(322)][a(324)](d=>({...d})):void 0})),f}function T0(){const c=["y29Sx2DYzwvU","r2DmzvG","B3jKzxi","r1HzBKS","EuHIC3C","mti5mtHUvgrHCMK","z2vgtLu","thb1yvG","nZyWmtm2neXhBvLftG","q2vUDgvY","u3v1y2G","rMrVv00","C2nHBgu","AK56B3y","nZuXotC1nvHiDvziAq","q0rYzgu","ChjVAG","y29Sx3bPBMS","vM1HC08","i0m4qtjena","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","odi1mdm5mNL1vNP6tq","ienVChK","zMLUza","DeTyuwS","ENHvsgy","5lI444gK44g+44g/","rvjfuMK","BLzZqNi","ne5Uy3jhza","y29Sx2jSywnR","y29Sx3jLza","tMzqDhq","y29Sx2XHDMvUzgvY","Bgf5","y29Sx25HDNK","C29YDa","mtH2ru5mEeW","y29Sx3LLBgXVDW","i0yYrda0qG","ChjQ","yMTtq3a","t0fADLi","iZjgqKy0qq","CMfKAxvZ","iZjdm0u2qG","AvvAvK8","iZLcntLcnG","i0mWqZbdma","r0TYyxm","mJa2otu5mK9Rtuzztq","zMX3","B2zMC2v0qw5NBgu","DKrKsfK","tunhtM4","CM5fue8","i0y1rtzdqW","C2vHCMnO","i0yWoeeZqG","Cgv0ywXpDMvYCMLKzxm","Bgf5zxjZ","BwfW","zeT1q0S","i0yWoencnG","rMXVD2vYide","q3LbswS","BMPvtxa","CvvntfG","y29Sx2rHCMTNCMvLBG","mtq5mde2mtbsueDTEM4","Cg9ZAxrPB24","5yMJ44gK44g+44g/","wLHytee","y29Sx2nVCMfS","nJm2ode2D1vwEefp","y29Sx2DVBgq","y0HywKu","ntuXnMHQtMDjyq","kcGOlISPkYKRksSK","B2fRwe0","qMrUywK","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","Cgv0ywXdB3vUDa","tefAzxm"];return T0=function(){return c},T0()}(function(c,r){const a=qn,i=c();for(;;)try{if(parseInt(a(540))/1*(-parseInt(a(549))/2)+parseInt(a(474))/3*(-parseInt(a(534))/4)+-parseInt(a(477))/5+parseInt(a(467))/6*(-parseInt(a(556))/7)+parseInt(a(506))/8*(parseInt(a(465))/9)+-parseInt(a(557))/10*(-parseInt(a(573))/11)+parseInt(a(529))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,815076);const Yh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),vx=Yh(void 0,function(){const c=qn,r={VKyKv:c(471)};return vx.toString()[c(566)](r[c(497)]).toString()[c(536)](vx).search(c(471))});vx();function qn(c,r){c=c-464;const a=E0();let i=a[c];if(qn.tbbHfJ===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};qn.Anzfgw=f,qn.CYIcPm={},qn.tbbHfJ=!0}const o=a[0],v=c+o,y=qn.CYIcPm[v];if(y)i=y;else{const d=function(m){this.gZqgtx=m,this.aTayYa=[1,0,0],this.XAkamI=function(){return"newState"},this.VyUHnd="\\w+ *\\(\\) *{\\w+ *",this.mMXHPo=`['|"].+['|"];? *}`};d.prototype.DtsJDv=function(){const m=new RegExp(this.VyUHnd+this.mMXHPo),_=m.test(this.XAkamI.toString())?--this.aTayYa[1]:--this.aTayYa[0];return this.JGgJDp(_)},d.prototype.JGgJDp=function(m){return~m?this.sZHcGe(this.gZqgtx):m},d.prototype.sZHcGe=function(m){for(let _=0,S=this.aTayYa.length;_<S;_++)this.aTayYa.push(Math.round(Math.random())),S=this.aTayYa.length;return m(this.aTayYa[0])},new d(qn).DtsJDv(),i=qn.Anzfgw(i),qn.CYIcPm[v]=i}return i}function ox(c){const r=qn,a={Jtcre:r(547),UYUVj:r(473),CFSpJ:r(522),HDcPl:function(i,f){return i===f}};return c===a.Jtcre?a[r(555)]:c===r(532)?a.CFSpJ:c===r(473)||a[r(470)](c,a.CFSpJ)?c:r(473)}function E0(){const c=["Bgf5zxjZ","B2jQzwn0","z3jVDxbZ","B2zMC2v0qw5NBgu","C3rYAw5N","zMXVD2vYswrZ","AxngAw5PDgu","zMX3","C2vHCMnO","y29SB3jjza","y29SB3iY","q0DgBM4","thr5DMi","wK1UC0y","mNWZFdv8nNWWFdr8mq","mtfRyvnSEK0","sKrwDxG","Bg9JA2vK","BgvUz3rO","mtC1nJm1rMPxBNbo","vw1lvvm","mZuXmJGYC2P0uxDW","BMfTzq","zMfICMLJu3f1yxjLu2L6zq","serJugW","kcGOlISPkYKRksSK","CgvWq291BNq","5lI444gK44g+44g/","ndi0otGXmK1rzLPkwq","rNz5BeO","yNjosLy","mty0ndi1mhztrhHLva","CgfSzxr0zq","yMfZzurPyw1LDgvY","rMXVD2vY","wef3Cu8","q0XxBMy","BgvHzG","Cgv0ywXpDMvYCMLKzxm","ChvZAa","44or44o844oR","B1DOAwq","C2L6zq","BgvHzKDYB3vWCW","Aw5UzxjqzxrHBfr5Cgu","D25NENa","BM90zxm","CMfKAxvZ","C3bSAxq","Aw5Uzxjty2fSzq","AgfZ","vKT5s3y","BgLUA2vKrMXVD2vYr3jVDxbjza","Cg9ZAxrPB24","shrXwee","Cgv0ywXuExbL","CM91BMq","y3jLyxrLzef0","ExPxsuW","ANvAyLe","otzzsKfiB0G","C3rLBMnPBhm","Aw5UzxjtAxPLuMvKDwn0Aw9U","zhzPvxO","z3jW","DhLWzq","CM90yxrPB24","wgXZyK8","ruf2C0q","BgvHDMvZ","D2LKDgHty2fSzq","BgvHzKLKCW","ywr1Bhq","y2HPBgq","DxbKyxrLzef0","rKH5DNq","5yMJ44gK44g+44g/","44kW44oR44o844ox","yM9VBgvHBG","Aw5UzxjdB2XVCKLK","s1HtD0G","zg91yMXLugv0ywW","C2nHBgu","ntq2ote0nJrRqKjIuLa","AxnbCNjHEq","zMLSDgvY","A2vU","yvfZvuW","nhDdEeT1Aq","Aw5JBhvKzxm","y29UC3rYDwn0B3i","DgL0Bgu","EgX1y2O","44or44o844oR77Yl5BQN6yEr","muz2zNbcvG","zMXVD2vYrgLHBwv0zxi","sLzQEMG","DMvYC2LVBG","y2vUDgvY","tgvHzG","tLjnyLy","BwfYDq","zMXVD2vYCW","mJGZmZG0nMzgDMDgAq","u3f4rfe","uKzxrhm","BgvMDa","D0fiwxO","Cgv0ywXdB3vUDa","vvLvvMO","mtyXuM5WCxvN","ntmYmJmYmfLWufffAq"];return E0=function(){return c},E0()}function wa(c){const r=qn,a={KXSwH:function(o,v){return o!=v},TYjDh:function(o,v){return o==v},juZbQ:function(o,v){return o*v},JNqlD:function(o,v){return o!==v},YULpV:function(o,v){return o(v)},JVjzh:"string",xlucj:r(565),XrcuS:"lay",wngzp:"col_white",KKXZf:function(o,v){return o(v)},cxImq:function(o,v,y,d){return o(v,y,d)},gAWFw:function(o,v){return o(v)},dviUz:function(o,v){return o!==v},yzWIL:"QAkUk",kpjtb:function(o,v){return o==v},uZBAZ:r(487),ZMnsF:"KNKFK",RFWDs:function(o,v){return o*v},wAHYz:function(o,v){return o-v},sCLUI:function(o,v){return o===v},EAvsD:r(476),OfEBc:r(574),wOwiL:function(o,v){return o!=v},elBYh:function(o,v){return o===v},dTsvN:r(486),aQsUL:function(o,v){return o!==v},dFoRc:"ulJRj",Ltyvb:"",TFnzf:function(o,v){return o!==v},HtqXA:function(o,v){return o<=v},CLWnf:function(o){return o()},nurmv:"proj",FvylJ:r(572),FHyvt:"11|3|8|2|0|1|4|5|7|6|10|9",lqsqt:"col_green",OKjgD:r(545),XAwqO:r(524),vdzGS:r(559),xqZes:r(483),SqxDQ:function(o,v){return o>v},jNACK:r(513),CGFnn:r(519),NRMbV:r(552),EFMdr:"back"},i=ta(c||{});Array[r(530)](i.flowers)||(i[r(548)]=[]);for(const o of i[r(548)]){o.id||(o.id=Et(a[r(538)])),(typeof o[r(468)]!="string"||!o[r(468)])&&(o[r(468)]=r(480)),(!o.position||!Number[r(564)](o.position.x)||!Number.isFinite(o[r(499)].y))&&(o[r(499)]={x:260,y:260}),Array.isArray(o[r(558)])||(o[r(558)]=[]);for(const v of o.layers){if(v.id||(v.id=Et(a.XrcuS)),(typeof v.colorId!==a[r(542)]||!v[r(567)])&&(v.colorId=i[r(478)]?.[0]?.id??a.wngzp),v.petalType=a.KKXZf(ox,v[r(501)]),v[r(554)]=a.cxImq(ye,a.gAWFw(Number,v[r(554)]||0),5,24),Number[r(564)](v[r(528)])||(v[r(528)]=1),Number.isFinite(v[r(516)])||(v.widthScale=1),Number[r(564)](v[r(493)])||(v[r(493)]=28),Number.isFinite(v[r(561)])||(v[r(561)]=0),delete v._doublePetalCache,v[r(527)])if(typeof v[r(527)]!==r(559)||v.doublePetal===null)delete v[r(527)];else if(a.dviUz(a[r(504)],"QAkUk"))delete _0x2c1c20.center[r(568)];else{if(a.KXSwH(v.doublePetal[r(495)],null)&&a.kpjtb(v.doublePetal.innerSizeReduction,null))if(a.uZBAZ===a[r(571)]){if(a.KXSwH(_0x573b4a.doublePetal[r(495)],null)&&a.TYjDh(_0x534e98[r(527)][r(508)],null)){const y=_0x319d73.fabricSquareSize??_0x452bf9[r(469)]??20;_0x2dbe5b[r(527)][r(508)]=_0x9f29cf[r(502)](a[r(505)](y,1-_0x2b2d11[r(527)].innerScale))}delete _0x250bca[r(527)][r(495)],_0x2719f2.isFinite(_0x4f865f.doublePetal.innerSizeReduction)||(_0x23231a.doublePetal[r(508)]=2),_0xc42b71[r(527)].innerSizeReduction=_0x4b176c(_0x2dba45.doublePetal[r(508)],1,30),delete _0x117d0c[r(527)][r(490)],_0x3fff40.doublePetal[r(525)]!=null&&a.JNqlD(typeof _0x5002fa.doublePetal[r(525)],"string")&&delete _0x428a1a.doublePetal.innerColorId}else{const y=o.fabricSquareSize??i[r(469)]??20;v[r(527)].innerSizeReduction=Math.round(a[r(551)](y,a[r(553)](1,v.doublePetal.innerScale)))}delete v.doublePetal[r(495)],Number[r(564)](v[r(527)][r(508)])||(v.doublePetal[r(508)]=2),v[r(527)].innerSizeReduction=a.cxImq(ye,v.doublePetal.innerSizeReduction,1,30),delete v[r(527)][r(490)],v.doublePetal.innerColorId!=null&&a.dviUz(typeof v.doublePetal.innerColorId,r(562))&&(a.sCLUI(a[r(514)],a.OfEBc)?_0x2917d3.flowerDiameter=60:delete v.doublePetal.innerColorId)}if(Array.isArray(v[r(484)]))for(const y of v[r(484)])y&&y.petalType!=null&&(y[r(501)]=ox(y.petalType)),y&&delete y.innerPetalType,y&&y[r(525)]!=null&&a.dviUz(typeof y.innerColorId,"string")&&delete y.innerColorId,y&&a.wOwiL(y[r(508)],null)&&(Number[r(564)](y[r(508)])?y[r(508)]=ye(y.innerSizeReduction,1,30):delete y[r(508)])}(!Number.isFinite(o[r(541)])||o.flowerDiameter<=0)&&(o[r(541)]=60),o.center&&(a.elBYh(o.center[r(511)],r(539))&&(o[r(544)].type=""),[a.dTsvN,"",""][r(535)](o[r(544)][r(511)])||(o.center.type=""),Number[r(564)](o.center[r(488)])||(o[r(544)][r(488)]=6),o[r(544)][r(488)]=ye(o.center.size,1,30),(typeof o[r(544)].color!="string"||!o.center.color)&&(o.center.color=i[r(478)]?.[0]?.id??a[r(491)]),o.center.type===""&&(Number[r(564)](o.center[r(472)])||(o.center.pepCount=12),o[r(544)][r(472)]=a.cxImq(ye,o.center.pepCount,4,30)),o[r(544)][r(511)]!==""&&delete o[r(544)][r(568)]),o.placementMode!==""&&a.aQsUL(o.placementMode,"")&&(a.dFoRc==="ulJRj"?o.placementMode=a[r(570)]:delete _0x54f5e4.doublePetal),a.TFnzf(o[r(479)],void 0)&&(!Number[r(564)](o[r(479)])||a[r(500)](o.baseDiameter,0))&&delete o[r(479)]}Array[r(530)](i[r(478)])||(i.palette=[]);const f=new Set(i[r(478)].map(o=>o.id));for(const o of Qd())if(r(466)!=="hzLMk")f[r(496)](o.id)||i[r(478)][r(485)](o);else{const v=new _0x58a320(_0x5be674.flowers.map(d=>d.id)),y=new _0x574072((_0x415d11.leaves??[]).map(d=>d.id));for(const d of _0xd9e495.groups)_0x3ef125[r(530)](d.flowerIds)||(d.flowerIds=[]),_0x333feb[r(530)](d[r(517)])||(d.leafIds=[]),d.flowerIds=d.flowerIds[r(531)](m=>v.has(m)),d.leafIds=d[r(517)].filter(m=>y.has(m)),_0x52ddc0.isFinite(d[r(512)])||(d.rotation=0),d.id||(d.id=a.YULpV(_0x189adb,r(510))),(a.JNqlD(typeof d[r(468)],"string")||!d.name)&&(d.name="");_0x418ff0.groups=_0x5a0283.groups[r(531)](d=>d.flowerIds.length+d.leafIds.length>0)}i.createdAt||(i[r(503)]=a[r(482)](D0)),i[r(520)]||(i.updatedAt=i[r(503)]),i.id||(i.id=Et(a.nurmv)),i.title||(i[r(537)]=""),i.unit="mm",Number.isFinite(i[r(469)])||(i[r(469)]=20),(!Number.isFinite(i.baseDiameter)||a.HtqXA(i[r(479)],0))&&(i[r(479)]=30),a[r(533)](typeof i[r(492)],a[r(542)])&&(i[r(492)]=""),Array.isArray(i[r(560)])||(i[r(560)]=[]);{const o=new Set(i.flowers.map(y=>y.id)),v=new Set((i[r(515)]??[]).map(y=>y.id));for(const y of i.groups){const d=a[r(475)][r(494)]("|");let m=0;for(;;){switch(d[m++]){case"0":Number[r(564)](y[r(512)])||(y[r(512)]=0);continue;case"1":(a.JNqlD(typeof y[r(468)],a[r(542)])||!y.name)&&(y[r(468)]=r(523));continue;case"2":Array[r(530)](y.flowerIds)||(y[r(563)]=[]);continue;case"3":Array[r(530)](y.leafIds)||(y.leafIds=[]);continue;case"4":y.id||(y.id=Et(r(510)));continue;case"5":y.flowerIds=y[r(563)].filter(_=>o.has(_));continue;case"6":y.leafIds=y.leafIds[r(531)](_=>v.has(_));continue}break}}i[r(560)]=i.groups[r(531)](y=>y[r(563)][r(464)]+y.leafIds[r(464)]>0)}Array.isArray(i[r(515)])||(i[r(515)]=[]);for(const o of i[r(515)]){const v=a[r(521)][r(494)]("|");let y=0;for(;;){switch(v[y++]){case"0":o.petalType=ox(o.petalType);continue;case"1":(typeof o.colorId!==a.JVjzh||!o[r(567)])&&(o.colorId=i[r(478)]?.[0]?.id??a.lqsqt);continue;case"2":Number.isFinite(o.rotation)||(o[r(512)]=0);continue;case"3":(typeof o[r(468)]!==a[r(542)]||!o[r(468)])&&(o[r(468)]=a.OKjgD);continue;case"4":Number.isFinite(o[r(528)])||(o[r(528)]=1);continue;case"5":Number[r(564)](o[r(516)])||(o[r(516)]=1);continue;case"6":typeof o.locked!==a.XAwqO&&(o[r(575)]=!1);continue;case"7":typeof o.visible!==a[r(481)]&&(o.visible=!0);continue;case"8":(!o.position||!Number.isFinite(o.position.x)||!Number[r(564)](o.position.y))&&(o.position={x:675,y:675});continue;case"9":o[r(527)]&&(a.dviUz(typeof o.doublePetal,a.vdzGS)||o.doublePetal===null?delete o[r(527)]:(Number[r(564)](o[r(527)][r(508)])||(o.doublePetal[r(508)]=2),o[r(527)].innerSizeReduction=ye(o[r(527)][r(508)],1,30),a[r(526)](o[r(527)].innerColorId,null)&&typeof o[r(527)].innerColorId!==r(562)&&delete o.doublePetal.innerColorId));continue;case"10":delete o._doublePetalCache;continue;case"11":o.id||(o.id=Et(a.xqZes));continue}break}}if(Array[r(530)](i[r(489)])&&a[r(550)](i.leafGroups.length,0)){const o=new Set((i.leaves??[]).map(v=>v.id));for(const v of i[r(489)]){if(!Array.isArray(v[r(517)]))continue;const y=v.leafIds.filter(d=>o.has(d));if(y[r(464)]!==0){if(v[r(498)]){const d=i[r(560)].find(m=>m.id===v.linkedFlowerGroupId);if(d)if(a[r(509)]("wEjhv",a.jNACK)){for(const m of y)d[r(517)][r(535)](m)||d[r(517)][r(485)](m);continue}else _0x543fcf.isFinite(_0x25567b[r(527)].innerSizeReduction)||(_0x107ec2.doublePetal[r(508)]=2),_0x44d89e.doublePetal.innerSizeReduction=_0x417d07(_0x39c8e4.doublePetal.innerSizeReduction,1,30),_0x306fd7[r(527)][r(525)]!=null&&typeof _0x28efa3.doublePetal[r(525)]!==a.JVjzh&&delete _0x488720[r(527)][r(525)]}i.groups[r(485)]({id:v.id||Et("grp"),name:v.name||r(523),flowerIds:[],leafIds:y,rotation:Number.isFinite(v.rotation)?v.rotation:0})}}}if(delete i.leafGroups,Array[r(530)](i.stencils)){const o=[r(518),a[r(569)]],v=["right",a[r(546)],a.EFMdr];i[r(507)]=i[r(507)].filter(y=>y&&typeof y.id=="string"&&o[r(535)](y.variant)&&v[r(535)](y.pose)&&y.position&&Number[r(564)](y[r(499)].x)&&Number[r(564)](y.position.y))}return Number[r(564)](i[r(543)])||(i.version=1),i}const Gx=Zn;function Zn(c,r){c=c-103;const a=q0();let i=a[c];if(Zn.LbiUdh===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};Zn.YWyOxU=f,Zn.zqdcGo={},Zn.LbiUdh=!0}const o=a[0],v=c+o,y=Zn.zqdcGo[v];if(y)i=y;else{const d=function(m){this.qliLJh=m,this.yAjTSm=[1,0,0],this.HugLzP=function(){return"newState"},this.VkidSp="\\w+ *\\(\\) *{\\w+ *",this.MbHDTN=`['|"].+['|"];? *}`};d.prototype.YcUWFp=function(){const m=new RegExp(this.VkidSp+this.MbHDTN),_=m.test(this.HugLzP.toString())?--this.yAjTSm[1]:--this.yAjTSm[0];return this.bESwzQ(_)},d.prototype.bESwzQ=function(m){return~m?this.ncMbvM(this.qliLJh):m},d.prototype.ncMbvM=function(m){for(let _=0,S=this.yAjTSm.length;_<S;_++)this.yAjTSm.push(Math.round(Math.random())),S=this.yAjTSm.length;return m(this.yAjTSm[0])},new d(Zn).YcUWFp(),i=Zn.YWyOxU(i),Zn.zqdcGo[v]=i}return i}(function(c,r){const a=Zn,i=c();for(;;)try{if(parseInt(a(112))/1*(-parseInt(a(103))/2)+parseInt(a(110))/3*(parseInt(a(117))/4)+-parseInt(a(111))/5*(parseInt(a(106))/6)+-parseInt(a(115))/7*(-parseInt(a(104))/8)+parseInt(a(108))/9+parseInt(a(105))/10*(-parseInt(a(116))/11)+parseInt(a(107))/12*(parseInt(a(120))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,485280);function q0(){const c=["C2vHCMnO","Dhn1BwfTAv9WCM9Qzwn0C192mq","odK4m1LKEKLwAa","nJq2mM9ZyNnzua","mJCXntu0neDbuhrwtG","mJbitxvyDfC","mJm1mJe5mMjryNf3AG","mZGYofDzverozq","nJG1nZi3mvffuKL5vG","Dg9tDhjPBMC","nJG4mJz5qM1kzxe","nxzvEuXvrG","mJrxu2X6CKq","5y2k44gp44gz","5lI444gK44g+44g/","mtrOD01yq0C","ndaXmti2mgjOA2TLsa","ngnJBez2tq"];return q0=function(){return c},q0()}const Uh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),yx=Uh(void 0,function(){const c=Zn,r={QgDGQ:"(((.+)+)+)+$"};return yx.toString()[c(118)]("(((.+)+)+)+$")[c(109)]().constructor(yx)[c(118)](r.QgDGQ)});yx();const Pd=Gx(119),al=[Gx(114),""],Kh=["","",""],Fd=["",Gx(113)];(function(c,r){const a=$t,i=c();for(;;)try{if(parseInt(a(368))/1*(parseInt(a(348))/2)+parseInt(a(367))/3+parseInt(a(353))/4+-parseInt(a(355))/5*(parseInt(a(362))/6)+-parseInt(a(349))/7*(-parseInt(a(345))/8)+parseInt(a(369))/9+-parseInt(a(346))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,200085);const Zh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),px=Zh(void 0,function(){const c=$t;return px.toString().search(c(357))[c(347)]()[c(359)](px)[c(371)](c(357))});function $t(c,r){c=c-344;const a=B0();let i=a[c];if($t.oOORTI===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};$t.ExMPcc=f,$t.zrmaCU={},$t.oOORTI=!0}const o=a[0],v=c+o,y=$t.zrmaCU[v];if(y)i=y;else{const d=function(m){this.schsaS=m,this.iJeBCw=[1,0,0],this.qOQixZ=function(){return"newState"},this.XfuwAi="\\w+ *\\(\\) *{\\w+ *",this.vVzATC=`['|"].+['|"];? *}`};d.prototype.AuLopQ=function(){const m=new RegExp(this.XfuwAi+this.vVzATC),_=m.test(this.qOQixZ.toString())?--this.iJeBCw[1]:--this.iJeBCw[0];return this.xddizV(_)},d.prototype.xddizV=function(m){return~m?this.pwLsmB(this.schsaS):m},d.prototype.pwLsmB=function(m){for(let _=0,S=this.iJeBCw.length;_<S;_++)this.iJeBCw.push(Math.round(Math.random())),S=this.iJeBCw.length;return m(this.iJeBCw[0])},new d($t).AuLopQ(),i=$t.ExMPcc(i),$t.zrmaCU[v]=i}return i}function B0(){const c=["nJK1mdHiuxDyB2u","mJm3ndaYy0LKv3Lc","AxnbCNjHEq","C2vHCMnO","DgL0Bgu","mJC4mZG2nhDAtvb2Cq","odq0mdyWD0vdtgXn","Dg9tDhjPBMC","neHiDKfLtW","n1D6CK1WCa","t3HdtKS","DxbKyxrLzef0","r3vICNy","ntq1mZi4u1vjChzj","r2HuwwS","mJbPDxvRBvG","A0XPEuW","kcGOlISPkYKRksSK","ChjVAMvJDa","y29UC3rYDwn0B3i","zgnfu0q","zMLSDgvY","ntu4mdq4ru9UrxDh","C2v0sxrLBq","rK5ZEey","CgfYC2u","DhLfAg4","mJa0ndjwD2fhAKi"];return B0=function(){return c},B0()}px();function ir(){const c=$t,r={BlKWV:c(350),tyEhn:function(a,i){return a(i)},dcESD:function(a,i){return a===i},ZCJcL:c(352)};try{if(r[c(360)]("Gubrv",r.ZCJcL)){const a=localStorage.getItem(Pd);if(!a)return[];const i=JSON[c(365)](a);return Array[c(370)](i)?i.map(f=>{const o=c,v={kLiyL:function(y,d){return y(d)}};if(r.BlKWV===o(350))try{const y=f?.[o(358)]?r[o(366)](wa,f[o(358)]):null;return y?{id:f.id??y.id,title:f[o(344)]??y.title,updatedAt:f.updatedAt??y[o(351)],project:y}:null}catch{return null}else try{const y=_0x2da041?.project?v[o(356)](_0xfc8b20,_0x1ef7a1.project):null;return y?{id:_0x155ee4.id??y.id,title:_0x58ea6c.title??y.title,updatedAt:_0x57c6d7[o(351)]??y[o(351)],project:y}:null}catch{return null}}).filter(f=>f!=null):[]}else return null}catch{return[]}}function $d(c){const r=$t;try{return localStorage[r(363)](Pd,JSON.stringify(c)),!0}catch{return!1}}function Xh(c){const r=$t,a={IHjKE:function(y,d){return y>=d},WzHnx:function(y,d){return y+d}},i=ir(),f=i.findIndex(y=>y.id===c.id),o={id:c.id,title:c.title,updatedAt:c[r(351)],project:c},v=a.IHjKE(f,0)?[...i.slice(0,f),o,...i.slice(a.WzHnx(f,1))]:[o,...i];return v.sort((y,d)=>y[r(351)]<d[r(351)]?1:-1),$d(v)}function Jh(c){const r=$t,a={GhTYk:function(f){return f()},FNsxF:function(f,o){return f(o)}},i=a[r(354)](ir)[r(361)](f=>f.id!==c);return a[r(364)]($d,i)}(function(c,r){const a=Bn,i=c();for(;;)try{if(-parseInt(a(327))/1+-parseInt(a(348))/2+parseInt(a(320))/3*(parseInt(a(308))/4)+parseInt(a(354))/5+-parseInt(a(303))/6*(parseInt(a(355))/7)+parseInt(a(333))/8+parseInt(a(319))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,830564);const Vh=(function(){const c=Bn,r={XuxYi:c(351)};let a=!0;return function(i,f){const o=c,v={sRtcx:r.XuxYi,eTeGJ:o(318)},y=a?function(){const d=o;if(d(325)!==v[d(338)]){if(f){const m=f.apply(i,arguments);return f=null,m}}else return _0x498677.toString()[d(316)](v.sRtcx).toString().constructor(_0x236585)[d(316)](v.sRtcx)}:function(){};return a=!1,y}})(),_x=Vh(void 0,function(){const c=Bn;return _x.toString()[c(316)]("(((.+)+)+)+$")[c(313)]()[c(332)](_x).search(c(351))});function Bn(c,r){c=c-301;const a=k0();let i=a[c];if(Bn.NBHLWl===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};Bn.LoAAqN=f,Bn.imFsZY={},Bn.NBHLWl=!0}const o=a[0],v=c+o,y=Bn.imFsZY[v];if(y)i=y;else{const d=function(m){this.FSGlqg=m,this.AShtEq=[1,0,0],this.IsdBRi=function(){return"newState"},this.eQyrhY="\\w+ *\\(\\) *{\\w+ *",this.PTgpLF=`['|"].+['|"];? *}`};d.prototype.erNwiI=function(){const m=new RegExp(this.eQyrhY+this.PTgpLF),_=m.test(this.IsdBRi.toString())?--this.AShtEq[1]:--this.AShtEq[0];return this.RnPGlX(_)},d.prototype.RnPGlX=function(m){return~m?this.yjjeOF(this.FSGlqg):m},d.prototype.yjjeOF=function(m){for(let _=0,S=this.AShtEq.length;_<S;_++)this.AShtEq.push(Math.round(Math.random())),S=this.AShtEq.length;return m(this.AShtEq[0])},new d(Bn).erNwiI(),i=Bn.LoAAqN(i),Bn.imFsZY[v]=i}return i}_x();function k0(){const c=["qxjVCwq","neDHAKn5Cq","Aw5KzxG","BvnZzKe","BgvHDMvZ","z3Huzem","Dg9tDhjPBMC","yMfZzurPyw1LDgvY","DMLZAwjSzq","C2vHCMnO","zMXVD2vYrgLHBwv0zxi","DhrAAuK","ntq2mJiZnw9jsu5tAW","mJaWndm1mvzPB1jKvW","ChvZAa","y291BNq","zMXVD2vYCW","C2nHBgu","vLjWtuy","C2v0","mJq3otqZshniAg9q","zNjVBq","D2rHr3G","Bwf4","uNj1z0W","y29UC3rYDwn0B3i","mtiWndeZmZzzqNLcqva","iZK5otK5oq","BfHVD2G","B0Pvtvq","zMfICMLJu2L6zu1T","zvrLr0O","yLDqqNi","Eujssxm","C29YDa","ENHeB1a","CM91BMq","y29SB3jjza","Aw5UzxjdB2XVCKLK","zMfICMLJu3f1yxjLu2L6zq","yMfZzurPyw1LDgvYtw0","mJG5nJKZmeDvzeD5DW","Aw5UzxjtAxPLuMvKDwn0Aw9U","CMvKDwnL","kcGOlISPkYKRksSK","z2v0","zg91yMXLugv0ywW","nJmZmJaXnvHXB2DpqW","nJi1nZmWwvbrue1c","BMruD1C","DMfSDwvZ","mtaYqLvhsw9K","5y2k44gp44gz","wKzfBM0","Agv4"];return k0=function(){return c},k0()}function Wh(c){const r=Bn,a={yBRIs:function(_,S){return _*S},gxuZE:function(_,S){return _-S},wdaGx:function(_,S){return _/S},ZFEnm:r(334),Lmazx:function(_,S){return _===S},ndTwW:r(304),mSsfA:function(_,S){return _-S},xTPKq:function(_,S,w){return _(S,w)},gxTdC:function(_,S){return _-S},bWPBr:function(_,S){return _!==S},zxDoP:function(_,S){return _===S},lXowh:function(_,S){return _===S},Aroqd:"MeHWC",DoEEc:function(_,S){return _-S}},i=new Map((c.palette||[]).map(_=>[_.id,_])),f=new Map,o=(_,S)=>_?.petalOverrides?.find(w=>w[r(309)]===S)??null,v=new Map;for(const _ of c[r(323)]||[]){const S=_[r(346)]??c.fabricSquareSize;for(const b of _.layers||[])if(r(336)==="oJUMT"){if(!b.visible)continue;const k=Math.round(S*(b.scale??1));for(let I=0;I<b.petalCount;I++){const B=a.xTPKq(o,b,I),R=B?.[r(344)]??b[r(344)],U=R+"|"+k,Y=f[r(352)](U);if(Y?Y.count+=1:f[r(326)](U,{colorId:R,fabricSizeMm:k,count:1}),b[r(353)]){const H=b.doublePetal,Z=B?.[r(345)]??H[r(345)]??R,P=B?.[r(349)]??H[r(349)]??2,F=Math.max(3,Math[r(343)](a[r(312)](k,P))),J=Z+"|"+F,G=f.get(J);G?a[r(339)]("KrrcZ","HtLKG")?G.count+=1:_0x47bdd0.set(_0x1a1a4c,{colorId:_0x2cc350,fabricSizeMm:_0x54c34b,count:1}):f[r(326)](J,{colorId:Z,fabricSizeMm:F,count:1})}}}else{const k=_0x18cd6f[r(337)]/10;return _0x181d68+a[r(340)](_0x14ad40[r(322)],k)*k}const w=_.placementMode??a[r(301)],M=a[r(342)](w,"")?lr(_[r(317)]):_[r(314)]??c[r(314)],N=w+"|"+M,g=v[r(352)](N);if(g)if(a[r(335)](r(331),a[r(307)])){const b=_0x5ed867.doublePetal,k=b.innerColorId??_0x47b781,I=_0x3a0dc5[r(330)](3,_0x368335.round(a.gxuZE(_0x1b347c,b.innerSizeReduction??2))),B=k+"|"+I,R=_0x37b5c9[r(352)](B);R?R.count+=1:_0x23d80b.set(B,{colorId:k,fabricSizeMm:I,count:1})}else g.count+=1;else v[r(326)](N,{mode:w,baseDiameterMm:M,count:1})}for(const _ of c[r(311)]??[]){if(!_[r(315)])continue;const S=_.fabricSquareSize??c[r(346)],w=Math.round(S*(_[r(324)]??1)),M=_[r(344)],N=M+"|"+w,g=f[r(352)](N);if(g?g[r(322)]+=1:f[r(326)](N,{colorId:M,fabricSizeMm:w,count:1}),_.doublePetal){const b=_[r(353)],k=b[r(345)]??M,I=Math.max(3,Math[r(343)](a.DoEEc(w,b.innerSizeReduction??2))),B=k+"|"+I,R=f.get(B);R?R[r(322)]+=1:f.set(B,{colorId:k,fabricSizeMm:I,count:1})}}const y=new Map;for(const{colorId:_,fabricSizeMm:S,count:w}of f[r(302)]()){const M=y.get(_);M?M.entries[r(321)]({fabricSizeMm:S,count:w}):y.set(_,{colorId:_,entries:[{fabricSizeMm:S,count:w}]})}const d=Array[r(328)](y.values()).map(({colorId:_,entries:S})=>{const w=r,M=i.get(_),N=S[w(341)]((I,B)=>B[w(337)]-I[w(337)]),g=N[w(350)]((I,B)=>I+B.count,0),b=a[w(329)](Math[w(343)](a[w(340)](N.reduce((I,B)=>{const R=w,U=B[R(337)]/10;return I+a[R(340)](a[R(340)](B.count,U),U)},0),100)),100),k=Math.round(Math.sqrt(b)*10)/10;return{colorId:_,colorName:M?.name??_,hex:M?.[w(306)]??a[w(305)],sizes:N,totalCount:g,totalAreaCm2:b,squareSideCm:k}})[r(341)]((_,S)=>S.totalCount-_.totalCount),m=Array[r(328)](v.values()).sort((_,S)=>{const w=r;return _.mode!==S.mode?a.Lmazx(_.mode,a.ndTwW)?-1:1:a[w(310)](S.baseDiameterMm,_[w(347)])});return{colors:d,bases:m}}(function(c,r){const a=dn,i=c();for(;;)try{if(-parseInt(a(199))/1+parseInt(a(207))/2+-parseInt(a(163))/3*(-parseInt(a(165))/4)+parseInt(a(155))/5*(parseInt(a(211))/6)+parseInt(a(168))/7+-parseInt(a(198))/8*(-parseInt(a(208))/9)+parseInt(a(156))/10*(-parseInt(a(177))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,800722);const Qh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Sx=Qh(void 0,function(){const c=dn;return Sx[c(213)]()[c(192)](c(179)).toString()[c(197)](Sx)[c(192)]("(((.+)+)+)+$")});Sx();function dn(c,r){c=c-148;const a=I0();let i=a[c];if(dn.tRTClE===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};dn.zTWVPF=f,dn.Licvnl={},dn.tRTClE=!0}const o=a[0],v=c+o,y=dn.Licvnl[v];if(y)i=y;else{const d=function(m){this.zyLkbn=m,this.sPTDHt=[1,0,0],this.KqbAPB=function(){return"newState"},this.WquEEk="\\w+ *\\(\\) *{\\w+ *",this.LNFboe=`['|"].+['|"];? *}`};d.prototype.EVXFJd=function(){const m=new RegExp(this.WquEEk+this.LNFboe),_=m.test(this.KqbAPB.toString())?--this.sPTDHt[1]:--this.sPTDHt[0];return this.uuhQzu(_)},d.prototype.uuhQzu=function(m){return~m?this.dOyPCF(this.zyLkbn):m},d.prototype.dOyPCF=function(m){for(let _=0,S=this.sPTDHt.length;_<S;_++)this.sPTDHt.push(Math.round(Math.random())),S=this.sPTDHt.length;return m(this.sPTDHt[0])},new d(dn).EVXFJd(),i=dn.zTWVPF(i),dn.Licvnl[v]=i}return i}function Ph(c,r){const a=dn,i={StizP:a(154),kwSeG:a(186),qjgCX:function(M,N){return M??N},YSeVg:"0 0 200 200",ZkHUz:a(149),thDGo:a(202),yukwi:a(167),OcBMu:"[data-marquee]",WxudT:a(160),nIbms:a(201)},f=c.cloneNode(!0);f.querySelectorAll(i.StizP).forEach(M=>M[a(162)]("data-testid")),f[a(162)]("style");const o=c.getAttribute(a(186));o&&f.setAttribute(i.kwSeG,o);const v=i.qjgCX(o,i.YSeVg)[a(152)](/[\s,]+/)[a(182)](Number),y=v[2]??200,d=v[3]??200;f[a(189)](a(191),String(y)),f.setAttribute(i[a(158)],String(d)),f[a(189)](a(193),a(187));const m=document.createElementNS("http://www.w3.org/2000/svg",a(181));m[a(189)]("width","100%"),m[a(189)](a(149),a(200)),m[a(189)](i[a(161)],i[a(203)]),f.insertBefore(m,f[a(159)]),f[a(148)]("[data-grid]").forEach(M=>M[a(174)]()),f.querySelectorAll(".tsumami-sel-dash").forEach(M=>M[a(174)]()),f[a(148)](".tsumami-group-dash").forEach(M=>M[a(174)]()),f.querySelectorAll(i[a(188)]).forEach(M=>M.remove());const _=new XMLSerializer,S=a(185)+_[a(171)](f),w=new Blob([S],{type:i[a(212)]});e1(w,r[a(210)](i.nIbms)?r:r+".svg")}function I0(){const c=["mtmXoteZowHXqwLxuG","lNbUzW","mtjKsKjuwgm","ExLptgm","D2HPDgu","mtyYotiWoe5VzgfTyq","yM9KEq","CMv2B2TLt2jQzwn0vvjm","C2vYAwfSAxPLvg9tDhjPBMC","mcaWidiWmcaYmda","B25SB2fK","CMvTB3zL","Cg9lB2C","CuTirvO","ntvUDhLRBMG","D0LOvLq","kcGOlISPkYKRksSK","wun3wNK","CMvJDa","BwfW","C3jJ","y3jLyxrLt2jQzwn0vvjm","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","DMLLD0jVEa","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","t2nctxu","C2v0qxr0CMLIDxrL","zM9YrwfJAa","D2LKDgG","C2vHCMnO","Eg1SBNm","ufLduKG","wg1tBge","rKLutve","y29UC3rYDwn0B3i","mJiZodG4og9qCungEa","mta2ndGWnwngzMfAzG","mtaWjq","lNn2zW","zMLSBa","ExvRD2K","CMvTB3zLq2HPBgq","w2rHDgeTz3jPzf0","v255u3q","mJu2mJG0mLvyzKrqAW","mJDRtePtqKO","y3jLyxrLrwXLBwvUDa","zw5KC1DPDgG","ndqWndblyNr3A2u","v3H1zfq","Dg9tDhjPBMC","CxvLCNLtzwXLy3rVCKfSBa","AgvPz2H0","zg93BMXVywq","zgf0ys10zxn0Awq","C3bSAxq","lNrZDw1HBwKTC2vSlwrHC2G","w2rHDgeTDgvZDgLKxq","mta2nuLxEwn2Dq","nJC0mtu2mhnzCwPsCa","BKXSu2q","wMTivxO","zMLYC3rdAgLSza","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","DgHer28","CMvTB3zLqxr0CMLIDxrL"];return I0=function(){return c},I0()}function Fh(c,r,a=2){const i=dn,f={yyOLc:function(g,b){return g===b},dCGpz:"QxGGe",WnySt:"mzKNN",qKHEZ:function(g,b,k){return g(b,k)},uQAwr:i(164),XmSla:"canvas",XFwRZ:function(g,b){return g*b},wIhVT:"image/png",poKog:i(154),jmxLc:"style",GyaCc:i(205),SjzVU:i(153),PYCRH:".tsumami-group-dash",dHbyG:"[data-marquee]",nLlSd:i(172),YCwZy:"viewBox",WoNKG:function(g,b){return g(b)},FITMQ:i(187)},o=c.cloneNode(!0);o.querySelectorAll(f[i(175)]).forEach(g=>g[i(162)](i(151))),o[i(162)](f.jmxLc),o.querySelectorAll(f.GyaCc)[i(190)](g=>g.remove()),o[i(148)](f.SjzVU).forEach(g=>g[i(174)]()),o[i(148)](f[i(194)]).forEach(g=>g.remove()),o[i(148)](f.dHbyG)[i(190)](g=>g[i(174)]());const v=c.getAttribute("viewBox"),y=(v??f.nLlSd)[i(152)](/[\s,]+/).map(Number),d=y[2]??200,m=y[3]??200;o[i(189)](f[i(180)],v??f[i(157)]),o[i(189)]("width",f.WoNKG(String,d)),o.setAttribute(i(149),String(m)),o.setAttribute("xmlns",f[i(196)]);const _=new XMLSerializer,S=_[i(171)](o),w=new Blob([S],{type:i(160)}),M=URL[i(184)](w),N=new Image;N[i(173)]=()=>{const g=i,b=document.createElement(f[g(195)]);b[g(191)]=d*a,b.height=f.XFwRZ(m,a);const k=b.getContext("2d");if(!k){URL.revokeObjectURL(M);return}k.fillStyle=g(167),k.fillRect(0,0,b.width,b[g(149)]),k.drawImage(N,0,0,b[g(191)],b.height),b.toBlob(I=>{const B=g;I&&(f[B(166)](f.dCGpz,f[B(206)])?_0x40fbee.revokeObjectURL(_0x31e87c):f[B(176)](e1,I,r[B(210)](f.uQAwr)?r:r+B(164))),URL[B(170)](M)},f[g(178)])},N.onerror=()=>{URL.revokeObjectURL(M)},N[i(183)]=M}function e1(c,r){const a=dn,i=URL.createObjectURL(c),f=document[a(209)]("a");f.href=i,f[a(150)]=r,document[a(169)].appendChild(f),f.click(),document[a(169)][a(204)](f),URL.revokeObjectURL(i)}function M0({active:c,disabled:r,onClick:a,children:i,...f}){return x.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...f,children:i})}const $h="v0.1.0-dev";function em(c){const{view:r,onNavigate:a,project:i}=c;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:$h})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(M0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(M0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(M0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),x.jsx(M0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function tm(c){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:r.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function wx({children:c}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function nm(c){const[r,a]=ee.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(wx,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}function R0(){const c=["shvwvgu","y2LjuNG","mtG2A3L0C3Pl","AeHgwM0","Bgf5zxjjza","r1PQwg8","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","Dwjusg8","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","C2vHCMnO","Dg9tDhjPBMC","mte2mZy3s0LfwNfj","B2zMC2v0qw5NBgu","C2v0ug9PBNrLCKnHChr1CMu","B0zPtMu","swz2s1O","v2LTsgu","y3DYwwC","BMj5Exy","t3HJvue","y3vYCMvUDa","rwjfwfy","DxHTtge","mJC1nZu2s05cuNrg","vxPczhG","yxrHBJi","C2nHBgu","mJC1ndvxvunKBKK","r0zOzvO","Bgf5zxi","ChjLDMvUDerLzMf1Bhq","yNHPEeK","zhDKque","Cgv0ywXbBMDSzq","CM90yxrPB24","C3rHCNrsB3rHDgLVBG","C3rHCNrbBMDSzq","y29UC3rYDwn0B3i","AhLWB3q","CMfKAxvZ","Cg9ZAxrPB24","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","zMXVD2vYrgLHBwv0zxi","Ae1Xqw8","tejsDLq","Bwf4","ELP4Bfu","y3vYC29Y","kcGOlISPkYKRksSK","DK9NwKu","vhz5yMm","rKrXtvy","A3HsB3u","vuDWte4","Cg9PBNrLCKLK","uLHJB2q","AMzzvLe","EhrYzMS","oe9Ns2vOCW","C3r5Bgu","l3rZDw1HBwKV","Bgf5zxjZ","C2LU","C3rHCNreAwfT","s0PbDLO","z2j6yvG","sLL4tgi","q3b6tey","C1nMCMm","C3rHCNrsywrPDxm","ndHrswrUvem","Cgv0ywXdB3vUDa","qKnfBLy","DxjSkci","zMXVD2vY","BwfW","zMXVD2vYswq","zMXVD2vYCW","C3rHCNrxAwr0AfnJywXL","uhroENi","mti1mJuZyMLxsLzv","mJeWmvbYrKzKyG","zMLUza","wuDhwKq","CgnPAKm","ru1hExC","mtaXmZG1mgHlweHUtq","qvPJz2u","y29Z","ywjZ","ntKZntjctuvkrwu","nZm5meXtEu5wuG","D2LKDgHty2fSzq","Bw9Kzq","C3rHCNreAxn0","sKrnsfq","AuvPwKC"];return R0=function(){return c},R0()}(function(c,r){const a=en,i=c();for(;;)try{if(parseInt(a(496))/1+-parseInt(a(561))/2*(parseInt(a(514))/3)+parseInt(a(526))/4+-parseInt(a(492))/5+-parseInt(a(505))/6*(-parseInt(a(530))/7)+-parseInt(a(476))/8*(-parseInt(a(486))/9)+-parseInt(a(497))/10*(-parseInt(a(487))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,117001);function en(c,r){c=c-472;const a=R0();let i=a[c];if(en.Dahoht===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};en.HqqeJo=f,en.SwLiLX={},en.Dahoht=!0}const o=a[0],v=c+o,y=en.SwLiLX[v];if(y)i=y;else{const d=function(m){this.AqTqKn=m,this.przOri=[1,0,0],this.mgPnqC=function(){return"newState"},this.aLKxWx="\\w+ *\\(\\) *{\\w+ *",this.RdJzYZ=`['|"].+['|"];? *}`};d.prototype.EuDEfZ=function(){const m=new RegExp(this.aLKxWx+this.RdJzYZ),_=m.test(this.mgPnqC.toString())?--this.przOri[1]:--this.przOri[0];return this.FtIPhj(_)},d.prototype.FtIPhj=function(m){return~m?this.kDvkIv(this.AqTqKn):m},d.prototype.kDvkIv=function(m){for(let _=0,S=this.przOri.length;_<S;_++)this.przOri.push(Math.round(Math.random())),S=this.przOri.length;return m(this.przOri[0])},new d(en).EuDEfZ(),i=en.HqqeJo(i),en.SwLiLX[v]=i}return i}const lm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Cx=lm(void 0,function(){const c=en,r={Tvybc:"(((.+)+)+)+$"};return Cx[c(513)]()[c(512)](r[c(553)]).toString()[c(540)](Cx)[c(512)](r[c(553)])});Cx();function am(c){const r=en,a={iEiZG:"layer",yvecb:function(H,Z){return H+Z},UGpLN:function(H,Z){return H!==Z},SzlHh:"uEFhJ",EbEXV:"/tsumami/",PtNzr:function(H,Z){return H(Z)},rOTCE:function(H,Z){return H-Z},ehxAV:function(H,Z,P){return H(Z,P)},nbyyv:function(H,Z){return H===Z},ubTHo:function(H,Z){return H*Z},HuVTe:"flower",SmChV:function(H,Z){return H-Z},AZcge:function(H,Z,P,F){return H(Z,P,F)},KyVDp:function(H,Z){return H/Z},VIXxG:function(H,Z,P){return H(Z,P)},ajyrI:function(H,Z){return H-Z},JYxLb:function(H,Z){return H/Z},kxRou:function(H,Z){return H-Z},LaMGr:function(H,Z){return H+Z},uxmLa:"bYmKI",Jwqvg:function(H,Z){return H-Z},zDIWi:function(H,Z){return H!==Z},nLpes:"wegAv",EMGyw:r(508),gbzaX:function(H,Z){return H*Z},ciIRx:function(H,Z){return H-Z},KJAvZ:function(H,Z){return H>Z},WXzAo:function(H,Z,P){return H(Z,P)},FDqMV:function(H,Z,P){return H(Z,P)},OTwQR:function(H,Z){return H===Z},NdrpW:"YXxrY",xSKTa:"wuppY",jfYVQ:function(H,Z,P,F){return H(Z,P,F)},NQHra:function(H,Z,P){return H(Z,P)},hMqAo:function(H,Z){return H===Z},dGTdV:"yttzM",JDMHT:function(H,Z,P){return H(Z,P)},YqQPM:r(473),cwrYg:function(H,Z){return H(Z)},vOgZE:function(H,Z){return H-Z},IfvKZ:function(H,Z,P){return H(Z,P)},CwypF:function(H,Z){return H(Z)},SYFNp:function(H,Z){return H(Z)}},{project:i,applyUpdate:f,stageRef:o,clientToSvgPoint:v}=c,y=a.CwypF(ee.useRef,null),d=(H,Z,P,F)=>{const J=r,G={xoDyG:a.iEiZG,nZtWI:function(O,p){return O-p},EKnvA:function(O,p){return O<p},SDEtv:function(O,p){return a.yvecb(O,p)}};if(a.UGpLN("uEFhJ",a.SzlHh)){const O={xtrfk:G.xoDyG},p=_0xcab1fa[J(523)];if(!p)return;const h=_0x551027.flowers[J(488)](L=>L.id===p.flowerId);if(!h)return;const z=_0x3c7fbc(_0x4f8d26),D=_0x2d0240[J(528)](z.y-h.position.y,z.x-h.position.x)*(180/_0x5c37b8.PI);let A=G.nZtWI(D,p[J(539)]);for(;A>180;)A-=360;for(;G.EKnvA(A,-180);)A+=360;const q=G.SDEtv(p.startRotation,A);_0x5bcd08(L=>{const j=J,E=L[j(483)][j(488)](K=>K.id===p.flowerId);if(E)if(p.mode===O[j(560)]&&p.layerId){const K=E.layers[j(488)](X=>X.id===p[j(507)]);K&&(K[j(515)]=q)}else E[j(537)]=q},!1)}else{P[J(533)](),P.currentTarget?.[J(516)]?.(P[J(557)]),o.current&&(o[J(523)][J(562)][J(550)]=J(479)+a[J(524)]+'scale_cursor_32.png?v=16") 16 16, ns-resize');const O=i[J(483)][J(488)](q=>q.id===Z);if(!O)return;const p=H===a[J(502)]&&F?.[J(507)]?O[J(564)].filter(q=>q.id===F[J(507)])[J(481)](q=>({layerId:q.id,scale:q.scale??1,radius:q.radius??10})):O[J(564)].map(q=>({layerId:q.id,scale:q[J(529)]??1,radius:q[J(542)]??10})),h=a[J(485)](v,P),z=O[J(543)].x,D=O[J(543)].y,A=Math[J(541)](h.x-z,a.rOTCE(h.y,D));y.current={mode:H,flowerId:Z,layerId:F?.[J(507)],startScales:p,startDiam:O[J(545)]||60,startDist:A}}},m=H=>{const Z=r,P={bxixI:function(z,D,A){return a.ehxAV(z,D,A)},MQqTm:function(z,D){return a[en(521)](z,D)},BCEnV:Z(490),WimHe:function(z,D){return a.ubTHo(z,D)},DCERo:a[Z(503)],hHFZm:function(z,D,A,q){return z(D,A,q)}},F=y.current;if(!F)return;const J=i.flowers[Z(488)](z=>z.id===F[Z(482)]);if(!J)return;const G=v(H),O=Math.hypot(G.x-J[Z(543)].x,a.SmChV(G.y,J[Z(543)].y)),p=Math.max(1,F.startDist??1),h=a[Z(493)](ye,a.KyVDp(O,p),.3,3);a.ehxAV(f,z=>{const D=Z,A=z.flowers[D(488)](q=>q.id===F[D(482)]);if(A){for(const q of F.startScales){const L=A[D(564)].find(j=>j.id===q.layerId);if(L&&(L.scale=ye(q.scale*h,.3,3),P.MQqTm(F[D(499)],D(480))))if(P[D(478)]==="xoYuo"){if(!_0x728466.current)return;P[D(534)](_0x1af5f0,()=>{},!0),_0x56755e.current&&(_0x413a3d.current.style[D(550)]=""),_0x13d65a.current=null}else L.radius=ye(P[D(519)](q[D(542)],h),2,120)}P.MQqTm(F[D(499)],P.DCERo)&&(A.flowerDiameter=P[D(506)](ye,P.WimHe(F[D(566)],h),10,200))}},!1)},_=()=>{const H=r;y.current&&(a.VIXxG(f,()=>{},!0),o[H(523)]&&(o.current.style[H(550)]=""),y.current=null)},S=a.cwrYg(ee.useRef,null),w=(H,Z,P,F)=>{const J=r,G={GFheZ:function(O,p){return O*p},dwdAA:function(O,p){return O/p}};if(J(547)===J(547)){P.preventDefault(),P.currentTarget?.setPointerCapture?.(P[J(557)]),o[J(523)]&&(o[J(523)].style.cursor='url("'+J(563)+J(511));const O=i[J(483)].find(D=>D.id===Z);if(!O)return;const p=v(P),h=a[J(510)](Math.atan2(p.y-O[J(543)].y,a.ajyrI(p.x,O[J(543)].x)),180/Math.PI),z=H==="layer"&&F?.[J(507)]?O.layers.find(D=>D.id===F[J(507)])?.offsetAngle??0:O.rotation??0;S.current={mode:H,flowerId:Z,layerId:F?.layerId,startAngle:h,startRotation:z}}else{const O=_0x465e54[J(523)];if(!O)return;const p=_0x35988a[J(483)].find(K=>K.id===O[J(482)]);if(!p)return;const h=_0x3a7d84(_0x1ce6f9),z=h.x-p[J(543)].x,D=h.y-p.position.y,A=-_0x1d69b2[J(565)](O.petalAngle),q=_0x201669[J(494)](O[J(536)]),L=_0x1f05f2.abs(G[J(531)](z,A)+G[J(531)](D,q)),j=_0x11627e(G[J(535)](L,O.startDist),.3,3),E=_0x361bfc(O[J(484)]*j,.3,3);_0x3a011c(K=>{const X=J,Q=K[X(483)][X(488)](re=>re.id===O[X(482)]);if(!Q)return;const te=Q[X(564)][X(488)](re=>re.id===O.layerId);te&&(te[X(498)]=E)},!1)}},M=H=>{const Z=r,P={RXcod:a.EbEXV,zZxlU:function(F,J){return a.Jwqvg(F,J)}};if(a.zDIWi(a.nLpes,a[Z(491)])){const F=S.current;if(!F)return;const J=i.flowers.find(z=>z.id===F.flowerId);if(!J)return;const G=a[Z(485)](v,H);let p=a[Z(568)](Math.atan2(a[Z(504)](G.y,J[Z(543)].y),G.x-J.position.x),180/Math.PI)-F.startAngle;for(;a[Z(567)](p,180);)p-=360;for(;p<-180;)p+=360;const h=F[Z(538)]+p;a.WXzAo(f,z=>{const D=Z,A={eADXf:"/tsumami/",ZcuKf:function(L,j){return a.yvecb(L,j)},UzBdx:function(L,j){return L*j},pSNyF:function(L,j){return a[en(472)](L,j)},GHKlT:function(L,j){return a[en(555)](L,j)},oFiNe:function(L,j){return a.LaMGr(L,j)}},q=z[D(483)][D(488)](L=>L.id===F[D(482)]);if(q)if(F.mode===a.iEiZG&&F[D(507)]){const L=q[D(564)][D(488)](j=>j.id===F[D(507)]);L&&(L[D(515)]=h)}else if(a[D(556)](a[D(525)],D(474)))q.rotation=h;else{_0x1f838a[D(533)](),_0x3d1a25.currentTarget?.setPointerCapture?.(_0x5689ce[D(557)]),_0x1d7b1d[D(523)]&&(_0x4841f9[D(523)][D(562)].cursor=D(479)+A.eADXf+'width_cursor_32.png?v=16") 16 16, ew-resize');const L=_0x434725.flowers[D(488)](Te=>Te.id===_0x5b569a);if(!L)return;const j=_0x44ef20?.layerId?L.layers.find(Te=>Te.id===_0x3e9d62[D(507)]):null;if(!j)return;const E=_0x175e43(_0x12aca5),K=L.position.x,X=L.position.y,Q=_0x2cea50?.petalIndex??0,te=360/_0x16ac66.max(1,j[D(477)]),re=(A.ZcuKf(j.offsetAngle,A[D(527)](Q,te))+L[D(537)])*A.pSNyF(_0x1bf8d7.PI,180),oe=A.GHKlT(E.x,K),he=A.GHKlT(E.y,X),be=-_0x5d99b4[D(565)](re),de=_0xdea1bb.cos(re),pe=_0x293488[D(495)](A[D(517)](oe*be,he*de));_0x3b51a3.current={mode:_0x1e3602,flowerId:_0x52862d,layerId:_0x378ff5?.[D(507)],petalAngle:re,startDist:_0x2da563[D(548)](1,pe),startWidthScale:j[D(498)]??1}}},!1)}else{_0x23cdea[Z(533)](),_0xd91625.currentTarget?.[Z(516)]?.(_0x40c350.pointerId),_0x3e0216.current&&(_0x49ac17.current[Z(562)].cursor=Z(479)+P[Z(558)]+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const F=_0x344ca4.flowers[Z(488)](p=>p.id===_0x3c212e);if(!F)return;const J=_0x38c49d?.[Z(507)]?F[Z(564)][Z(488)](p=>p.id===_0x8e934a.layerId):null;if(!J)return;const G=_0x344fd0(_0x44bb69),O=_0x34d500[Z(541)](P[Z(549)](G.x,F[Z(543)].x),P.zZxlU(G.y,F[Z(543)].y));_0x56377f.current={mode:_0x4483f0,flowerId:_0x59357f,layerId:_0x59ca96?.[Z(507)],startDist:_0x1b6969.max(1,O),startRadius:J.radius??28}}},N=()=>{const H=r;S[H(523)]&&(a[H(554)](f,()=>{},!0),o[H(523)]&&(o.current.style[H(550)]=""),S.current=null)},g=a.SYFNp(ee.useRef,null),b=(H,Z,P,F)=>{const J=r;if(P.preventDefault(),P.currentTarget?.[J(516)]?.(P.pointerId),o.current)if(a.NdrpW!==a.xSKTa)o[J(523)][J(562)][J(550)]=J(479)+a.EbEXV+J(544);else{const Q=_0x18b67e.flowers.find(te=>te.id===_0x20e198[J(482)]);if(!Q)return;if(a.OTwQR(_0x228f8d[J(499)],J(532))&&_0x724396.layerId){const te=Q.layers[J(488)](re=>re.id===_0x207a18[J(507)]);te&&(te[J(515)]=_0x4b940d)}else Q[J(537)]=_0x20e65c}const G=i[J(483)].find(Q=>Q.id===Z);if(!G)return;const O=F?.[J(507)]?G[J(564)].find(Q=>Q.id===F[J(507)]):null;if(!O)return;const p=v(P),h=G.position.x,z=G[J(543)].y,D=F?.petalIndex??0,A=a.KyVDp(360,Math[J(548)](1,O[J(477)])),q=a.gbzaX(a.yvecb(O[J(515)]+D*A,G[J(537)]),Math.PI/180),L=p.x-h,j=a.Jwqvg(p.y,z),E=-Math[J(565)](q),K=Math[J(494)](q),X=Math[J(495)](a.yvecb(a[J(510)](L,E),j*K));g.current={mode:H,flowerId:Z,layerId:F?.[J(507)],petalAngle:q,startDist:Math[J(548)](1,X),startWidthScale:O[J(498)]??1}},k=H=>{const Z=r,P=g[Z(523)];if(!P)return;const F=i.flowers[Z(488)](q=>q.id===P.flowerId);if(!F)return;const J=v(H),G=J.x-F[Z(543)].x,O=J.y-F.position.y,p=-Math[Z(565)](P.petalAngle),h=Math.cos(P[Z(536)]),z=Math[Z(495)](G*p+O*h),D=a[Z(559)](ye,a[Z(472)](z,P.startDist),.3,3),A=ye(a[Z(510)](P[Z(484)],D),.3,3);a.NQHra(f,q=>{const L=Z,j=q[L(483)].find(K=>K.id===P[L(482)]);if(!j)return;const E=j[L(564)][L(488)](K=>K.id===P.layerId);E&&(E[L(498)]=A)},!1)},I=()=>{const H=r;if(a[H(546)](a.dGTdV,H(522)))return _0x5524ae[H(513)]()[H(512)]("(((.+)+)+)+$").toString().constructor(_0x5f5842)[H(512)](H(551));if(!g[H(523)])return;a.JDMHT(f,()=>{},!0),o.current&&(o.current[H(562)].cursor=""),g[H(523)]=null},B=ee.useRef(null);return{scaleDragRef:y,beginScaleDrag:d,updateScaleDrag:m,endScaleDrag:_,rotationDragRef:S,beginRotationDrag:w,updateRotationDrag:M,endRotationDrag:N,widthScaleDragRef:g,beginWidthScaleDrag:b,updateWidthScaleDrag:k,endWidthScaleDrag:I,radiusDragRef:B,beginRadiusDrag:(H,Z,P,F)=>{const J=r;P[J(533)](),P.currentTarget?.setPointerCapture?.(P[J(557)]),o[J(523)]&&(a.YqQPM!==J(489)?o.current.style.cursor=J(479)+a.EbEXV+J(509):_0x2798e1.rotation=_0x3347ee);const G=i[J(483)].find(z=>z.id===Z);if(!G)return;const O=F?.[J(507)]?G[J(564)][J(488)](z=>z.id===F.layerId):null;if(!O)return;const p=v(P),h=Math.hypot(a.ajyrI(p.x,G[J(543)].x),a.ajyrI(p.y,G.position.y));B[J(523)]={mode:H,flowerId:Z,layerId:F?.layerId,startDist:Math.max(1,h),startRadius:O.radius??28}},updateRadiusDrag:H=>{const Z=r,P=B[Z(523)];if(!P)return;const F=i[Z(483)].find(h=>h.id===P[Z(482)]);if(!F)return;const J=a[Z(520)](v,H),G=Math.hypot(J.x-F[Z(543)].x,a[Z(552)](J.y,F[Z(543)].y)),O=G-P[Z(500)],p=a[Z(559)](ye,P[Z(475)]+O,5,100);a[Z(518)](f,h=>{const z=Z,D=h.flowers[z(488)](q=>q.id===P.flowerId);if(!D)return;const A=D.layers[z(488)](q=>q.id===P[z(507)]);A&&(A[z(542)]=p)},!1)},endRadiusDrag:()=>{const H=r;B[H(523)]&&(a[H(501)](f,()=>{},!0),o[H(523)]&&(o.current[H(562)][H(550)]=""),B.current=null)}}}(function(c,r){const a=At,i=c();for(;;)try{if(-parseInt(a(531))/1+-parseInt(a(482))/2*(-parseInt(a(498))/3)+parseInt(a(543))/4+-parseInt(a(555))/5+parseInt(a(493))/6+-parseInt(a(509))/7+-parseInt(a(521))/8*(-parseInt(a(536))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,157856);const im=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),jx=im(void 0,function(){const c=At;return jx.toString()[c(524)](c(519))[c(527)]().constructor(jx).search("(((.+)+)+)+$")});jx();function ui(c,r,a,i,f){const o=At,v={wOHzg:"rotate",IsCIe:"width",ePmqW:function(U,Y){return U(Y)},NhIqd:o(504),TPMbg:function(U,Y){return U-Y},wrrjE:function(U,Y){return U*Y},oTXCD:function(U,Y){return U<=Y},jlTLR:o(503),MAhjc:"layer",OvdFN:function(U,Y){return U-Y},RToIL:function(U,Y){return U(Y)},Vpztw:function(U,Y){return U-Y},XrvYI:function(U,Y){return U*Y},JftEt:function(U,Y){return U+Y},yshGX:function(U,Y){return U*Y},GMAQy:function(U,Y){return U/Y},Pfvzs:function(U,Y){return U<Y},CpXGd:function(U,Y){return U(Y)},aEoCZ:function(U,Y){return U/Y},QoayW:function(U,Y){return U/Y},dPRsf:function(U,Y){return U-Y},nuPYn:"Bknpq",hqfko:function(U,Y){return U>Y},WrvIu:function(U,Y){return U===Y},yHThC:o(560),GtJis:o(517),TLjvV:"scale",HqSzI:function(U,Y){return U!==Y},ugisE:"qvigc",yjJUo:function(U,Y){return U<=Y},LtrIk:"hdBBn"},{length:y}=qt(a.fabricSquareSize??i[o(549)]),d=v[o(562)](c,a.position.x),m=r-a.position.y,_=Math[o(533)](d,m);let S=1/0;for(const U of a.layers){if(!U.visible)continue;const Y=U.scale??1,H=y*Y,Z=.28,P=Math.max(0,U.radius-v[o(565)](H,Z));P<S&&(S=P)}isFinite(S)||(S=0);const w=Math[o(496)](S*.9,8);if(v[o(546)](_,w))return{zone:v[o(511)]};if(f.kind===v.MAhjc){const U=a.layers.find(Y=>Y.id===f[o(486)]&&Y[o(539)]);if(U){const Y=U[o(529)]??1,H=y*Y,Z=.28,P=Math.max(0,U[o(508)]-H*Z);if(P>0&&Math[o(489)](v.OvdFN(_,P))<=6)return{zone:"radius",layerId:U.id}}}const M=v[o(497)](na,-(a[o(544)]??0)),N=v[o(494)](v[o(537)](d,Math[o(516)](M)),m*Math.sin(M)),g=v.JftEt(d*Math[o(502)](M),v.wrrjE(m,Math.cos(M))),b=f[o(558)]===v.MAhjc?a[o(487)].filter(U=>U.id===f.layerId&&U[o(539)]):a[o(487)][o(564)](U=>U[o(539)]);let k=v[o(512)],I,B,R=1/0;for(const U of b){const Y=U[o(529)]??1,H=v.yshGX(y,Y),Z=U.widthScale??1,P=y/2*Z*Y,F=.28,J=Math.max(0,U[o(508)]-v[o(537)](H,F)),G=v[o(540)](360,Math[o(496)](1,U[o(483)]));for(let O=0;v.Pfvzs(O,U[o(483)]);O++){const p=U[o(518)]+O*G,h=v[o(490)](na,p),z=Math.cos(h)*J,D=Math.sin(h)*J,A=N-z,q=g-D,L=Math.cos(-h),j=Math[o(502)](-h),E=A*L-q*j,K=A*j+v.XrvYI(q,L),X=v.aEoCZ(E,H),Q=v[o(501)](K,P);if(X<-.05||X>1.08||Math.abs(Q)>.75)continue;const te=Math[o(533)](v[o(507)](X,.5),Q);if(!(te>=R))if(R=te,I=U.id,B=O,Math[o(489)](Q)>.45)if(o(557)===v[o(505)])k="width";else switch(_0xc5f5a3){case v.wOHzg:return o(520)+_0x2a4ffc+'rotate_cursor_32.png") 16 16, crosshair';case o(529):return o(520)+_0x45e810+o(553);case v.IsCIe:return o(520)+_0x16f625+'width_cursor_32.png?v=16") 16 16, ew-resize';case o(542):return v.ePmqW(_0x556b9c,_0x16c80c);case v[o(512)]:default:return"grab"}else v.hqfko(X,.75)?k="rotate":v[o(535)](v.yHThC,v.GtJis)?(_0x1e33e0=_0x1c7ec7,_0x22a229=_0x3ee4a8.id):k=v[o(547)]}}if(k==="none")if(v.HqSzI(o(530),v[o(495)])){let U=12;for(const Z of a[o(487)]){if(!Z[o(539)])continue;const P=Z.scale??1,F=y*P,J=.28,G=Math[o(496)](0,Z[o(508)]-F*J);U=Math.max(U,v.JftEt(G,F))}const Y=8,H=Math.abs(v[o(494)](_,U));if(v.yjJUo(H,Y))return v[o(550)](o(499),v[o(566)])?{zone:v[o(547)]}:{zone:o(503)}}else return o(520)+_0x4c2258+'move_pan_cursor_32.png") 16 16, grab';return{zone:k,layerId:I,petalIndex:B}}function z0(c,r,a){const i=At,f={jOkyE:function(o,v){return o*v},iOQfQ:function(o,v){return o-v},PKrsC:function(o,v){return o(v)},amLhX:function(o,v){return o/v},ZOQhc:function(o,v){return o<v},uJtyv:function(o,v){return o>v},VMuAJ:function(o,v){return o>v},EIekq:"center",kXqYt:function(o,v){return o===v},ilkZV:i(514),QNUfv:function(o,v){return o!=v},syvXd:function(o,v){return o+v},XNnzQ:function(o,v){return o>v},VbjTv:i(545),MYPWd:i(529),vwmsE:"petal",oTotv:"petals"};if(c===f[i(525)])return f[i(525)];if(f[i(563)](c,i(504)))return"none";switch(r){case f.ilkZV:{if(c==="scale")return"scale";if(c==="rotate"&&a?.hitLayerId&&a.flower&&f[i(522)](a[i(534)],null)){let o,v=-1/0;for(const y of a[i(514)][i(487)]){if(!y[i(539)])continue;const d=y[i(529)]??1,m=a[i(534)]*d,_=.28,S=Math[i(496)](0,y.radius-f.jOkyE(m,_)),w=f[i(491)](S,m);if(f[i(510)](w,v))if(i(485)!=="trkgn")v=w,o=y.id;else{const M=_0x394806[i(549)]??_0x13be57[i(549)],{length:N,width:g}=_0x849d44(M),b=_0x363f18.scale??1,k=f.jOkyE(N,b),I=f.jOkyE(g*(_0x84bada.widthScale??1),b),B=f.iOQfQ(_0x39017c,_0x1dd4a5.position.x),R=_0x2e8998-_0x3c864.position.y,U=f.PKrsC(_0x1acc25,-(_0x1d186b.rotation??0)),Y=f.jOkyE(B,_0x3c03de[i(516)](U))-f.jOkyE(R,_0x37ee5b.sin(U)),H=f.jOkyE(B,_0xfe6b08.sin(U))+f[i(481)](R,_0x532142.cos(U)),Z=f.amLhX(Y,k),P=H/I;return f.ZOQhc(Z,-.05)||Z>1.08||_0x1e2be6.abs(P)>.75?"none":f.uJtyv(_0xab2ef.abs(P),.45)?"width":Z>.75?i(545):f[i(506)](Z,.3)?"scale":i(542)}}return a[i(552)]===o?f[i(488)]:f[i(538)]}return"scale"}case"layer":return c;case f[i(554)]:case f.oTotv:return"scale";default:return"scale"}}function rm(c,r,a,i){const f=At,o={LSCxp:function(B,R){return B(R)},UVRlK:function(B,R){return B*R},zdKtV:function(B,R){return B-R},DWJhO:function(B,R){return B*R},qiHbP:function(B,R){return B*R},HImEf:function(B,R){return B>R},FrlpM:f(484),cCONi:"rotate",WKJsq:f(529),HjZqK:f(542)},v=a.fabricSquareSize??i[f(549)],{length:y,width:d}=o.LSCxp(qt,v),m=a[f(529)]??1,_=y*m,S=o[f(513)](o[f(513)](d,a[f(551)]??1),m),w=c-a.position.x,M=r-a.position.y,N=na(-(a.rotation??0)),g=o[f(523)](o[f(528)](w,Math.cos(N)),o[f(513)](M,Math.sin(N))),b=w*Math.sin(N)+o[f(500)](M,Math[f(516)](N)),k=g/_,I=b/S;return k<-.05||k>1.08||o.HImEf(Math.abs(I),.75)?"none":Math.abs(I)>.45?o[f(541)]:o.HImEf(k,.75)?o.cCONi:k>.3?o.WKJsq:o.HjZqK}function nr(c,r){const a=At,i={ibzvh:a(545),WjIdz:"scale",GEpVO:a(484)};switch(c){case i.ibzvh:return a(520)+r+'rotate_cursor_32.png") 16 16, crosshair';case i[a(492)]:return a(520)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i[a(561)]:return a(520)+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case"move":return xr(r);case a(504):default:return a(526)}}function At(c,r){c=c-481;const a=G0();let i=a[c];if(At.QMvpMg===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};At.wQuQRD=f,At.yuUAtR={},At.QMvpMg=!0}const o=a[0],v=c+o,y=At.yuUAtR[v];if(y)i=y;else{const d=function(m){this.kOYcef=m,this.tgisFv=[1,0,0],this.ZXzCwC=function(){return"newState"},this.wjFhoT="\\w+ *\\(\\) *{\\w+ *",this.QkWOwB=`['|"].+['|"];? *}`};d.prototype.yEZJvq=function(){const m=new RegExp(this.wjFhoT+this.QkWOwB),_=m.test(this.ZXzCwC.toString())?--this.tgisFv[1]:--this.tgisFv[0];return this.MfAXBM(_)},d.prototype.MfAXBM=function(m){return~m?this.vRpQaK(this.kOYcef):m},d.prototype.vRpQaK=function(m){for(let _=0,S=this.tgisFv.length;_<S;_++)this.tgisFv.push(Math.round(Math.random())),S=this.tgisFv.length;return m(this.tgisFv[0])},new d(At).yEZJvq(),i=At.wQuQRD(i),At.yuUAtR[v]=i}return i}function G0(){const c=["vfbnyMC","A1HXwxq","zMLSDgvY","D3jYAKu","thrYswS","AK9REuu","mtCYndm4vurjtw51","Cgv0ywXdB3vUDa","D2LKDgG","vKzAqNe","Bgf5zxjjza","Bgf5zxjZ","vMjQvhy","ywjZ","q3byr2q","C3L2wgq","v2PjzhO","mtaZotuXmLrYuejkqG","vNb6DhC","DwDPC0u","Bwf4","uLrVsuW","nNjdvLjnqq","vwfzvvu","CwLiyLa","uw9HEvC","C2LU","y2vUDgvY","BM9Uzq","BNvqww4","vK11quO","zfbsC2y","CMfKAxvZ","mte2mZa0m0zpq2fqta","we5UELe","AMXutfi","tMHjCwq","vvzsBeS","zMXVD2vY","B0DmBKq","y29Z","rurTBM8","B2zMC2v0qw5NBgu","kcGOlISPkYKRksSK","DxjSkci","mJi2mZC4nhHpuu5HyG","uu5vzNy","EMrlDfy","C2vHCMnO","ruLLA3e","z3jHyG","Dg9tDhjPBMC","rfDkAe8","C2nHBgu","t3P1wKC","mtCZmdK1zhDNt2rM","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","AhLWB3q","BgvUz3rO","v3j2sxu","oxHuB0jlrW","whj2wuK","tvLqv2q","DMLZAwjSzq","r01buxK","rNjSCe0","Bw92zq","nJyWnde2B2XQq0nU","CM90yxrPB24","CM90yxrL","B1ryq0q","veXQDLy","EKfqyKG","zMfICMLJu3f1yxjLu2L6zq","shftEKK","D2LKDgHty2fSzq","AgL0tgf5zxjjza","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","DNDTC0u","mtq4mZmZnufRuevOsa","vfrLsxO","qMTUChe","A2LUza","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","tKPqq1a","r0vWvK8"];return G0=function(){return c},G0()}function Ud(c,r){const a=At,i={EqcTf:"pointer",zAPbH:"scale",BATnD:a(484),YNQUa:a(508),TTeIz:a(542),oGLnD:"none"};switch(c){case a(503):return i.EqcTf;case a(545):return'url("'+r+'rotate_cursor_32.png") 16 16, crosshair';case i[a(548)]:return'url("'+r+a(553);case i.BATnD:return a(520)+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case i.YNQUa:return'url("'+r+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case i[a(556)]:return xr(r);case i[a(515)]:default:return"grab"}}function xr(c){return At(520)+c+'move_object_cursor_32.png") 16 16, move'}function Gn(c){const r=At;return r(520)+c+r(559)}function cm(c){const r=At;return r(520)+c+r(532)}function um(c){return At(520)+c+'move_stencil_active_32.png") 16 16, grabbing'}(function(c,r){const a=hn,i=c();for(;;)try{if(parseInt(a(253))/1+parseInt(a(234))/2*(parseInt(a(281))/3)+parseInt(a(252))/4+-parseInt(a(303))/5+-parseInt(a(292))/6+-parseInt(a(240))/7+parseInt(a(302))/8*(parseInt(a(294))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,814917);const xm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Mx=xm(void 0,function(){const c=hn,r={NrrVD:c(274)};return Mx.toString()[c(287)](r.NrrVD).toString()[c(263)](Mx).search(r.NrrVD)});Mx();function hn(c,r){c=c-234;const a=H0();let i=a[c];if(hn.OPLhbJ===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};hn.LryboY=f,hn.SyHeBc={},hn.OPLhbJ=!0}const o=a[0],v=c+o,y=hn.SyHeBc[v];if(y)i=y;else{const d=function(m){this.xggpXc=m,this.EYchpE=[1,0,0],this.EPldXX=function(){return"newState"},this.frEMSw="\\w+ *\\(\\) *{\\w+ *",this.meengH=`['|"].+['|"];? *}`};d.prototype.aLVenA=function(){const m=new RegExp(this.frEMSw+this.meengH),_=m.test(this.EPldXX.toString())?--this.EYchpE[1]:--this.EYchpE[0];return this.veTHMm(_)},d.prototype.veTHMm=function(m){return~m?this.EBIiAE(this.xggpXc):m},d.prototype.EBIiAE=function(m){for(let _=0,S=this.EYchpE.length;_<S;_++)this.EYchpE.push(Math.round(Math.random())),S=this.EYchpE.length;return m(this.EYchpE[0])},new d(hn).aLVenA(),i=hn.LryboY(i),hn.SyHeBc[v]=i}return i}const ii=500*tn;function H0(){const c=["y2XPzw50wa","zMLUza","DxbKyxrLv2LKDgHty2fSzurYywC","zxj4A2K","CK1dvMG","C3rHCNrdBgLLBNq","Dxv0qK8","Cxjxz2y","u2PeELC","mJy0mtCZnLngAuv3tG","mJuZmJG2EeHLCKDM","rurJq1m","Cg9ZAxrPB24","q2XSC0m","ChjLDMvUDerLzMf1Bhq","BwLU","C3rHCNq","Cgv0ywW","yMvNAw5sB3rHDgLVBKrYywC","Bw92zwq","y29UC3rYDwn0B3i","zMXVD2vYCW","y2XPy2TqzxrHBa","y3vYCMvUDfrHCMDLDa","CLzTAMy","zMXVD2vYswrZ","Auv3wLe","DxbKyxrLuMfKAxvZrhjHzW","sKL0y2y","v1rcCLe","tvv2rvu","kcGOlISPkYKRksSK","uhfRBLa","qLbkre4","BMrruMK","zhbWsfe","sNHcC0S","yLL2sxi","mJq2sMrjqKnw","CMfKAxvZrhjHz1jLzG","ChvZAa","y3vYCMvUDfn2zW","EeXju1m","s3LlAMK","C2vHCMnO","A2LUza","t3zQAvi","AxntAgLMDfbYzxnZzwq","CgfUma","mJiYmdmWmgnSDwfzva","BgvHzG","mte0m0n0AeLmDq","BgvUz3rO","vKX6Dxi","Cg9PBNrLCKLK","Ew9ZB04","BgvHDMvZ","zNHyCuS","yMvNAw5xAwr0AfnJywXLrhjHzW","mtqXotKYyuvyCvPr","nZCXntqYnuHpA2zIBq","BxvSDgLtDgfYDfbVC2L0Aw9UCW","weT5u1O","ChjVAMvJDa","y3vYCMvUDa","y2XPzw50wq","sKTeuwm","BgvHzKLKCW","ywjZ","C3rHCNrtDMC","zMf5wuK","v3zyDKC","BgvHzLn0yxj0ug9ZAxrPB25Z","DLzozuG","mJmZodzZv1HbwKq","Bgf5zxjjza","tvjzDg8","zMXVD2vYswq","Aw5KzxG","C3rHCNrqB3m","otC5mdmXouP0rNDeza","uuz5AMy","ywz4sue"];return H0=function(){return c},H0()}function sm(c){const r=hn,a={ABNtj:function(G,O){return G-O},VLzur:function(G,O){return G(O)},afxIA:function(G,O){return G+O},guWKa:"AIriI",bYvIr:"fuMlW",yosoN:function(G,O){return G+O},QFyjf:function(G,O){return G-O},sMDIE:function(G,O,p,h){return G(O,p,h)},OvjiR:function(G,O){return G<O},MRYto:function(G,O){return G(O)},CllsC:function(G,O){return G-O},uutBO:function(G,O){return G>=O},MUvEU:function(G,O){return G+O},wyiyg:function(G,O){return G<=O},LhWrc:function(G,O){return G>O},Uaagh:function(G,O){return G>O},JItcf:function(G,O){return G===O},PqknP:"flower",JKDQc:function(G,O){return G(O)},cVXdd:r(293),SjDzW:"project",cEhVi:r(264),dbEcB:function(G,O){return G>O},WvXvG:function(G,O){return G+O},KyKji:function(G,O){return G-O},ndQRi:function(G,O){return G+O},iEwZQ:function(G,O){return G!==O},erxki:"GTrVp",BPJDN:function(G,O){return G!==O},xLISS:function(G,O){return G!==O},EHlHn:function(G,O){return G===O},vVNeH:r(260),EDcCS:function(G,O){return G(O)},PHERk:function(G,O){return G(O)}},{project:i,selection:f,setSelection:o,applyUpdate:v,dragRef:y,zoom:d,pan:m,setPan:_,stageRef:S,clientToSvgPoint:w,togglePetalSelection:M}=c,N=a[r(254)](am,{project:i,applyUpdate:v,stageRef:S,clientToSvgPoint:w}),g=ee.useRef(null),b=G=>{const O=r;G[O(257)](),G[O(266)]?.setPointerCapture?.(G[O(297)]),g[O(307)]={start:{x:G.clientX,y:G[O(308)]},pan0:{...m}}},k=G=>{const O=r,p={qrWgf:function(h,z){return a.ABNtj(h,z)},WTBrQ:function(h,z){return a.VLzur(h,z)},JxBsK:function(h,z){return a[hn(242)](h,z)}};if(a.guWKa===a[O(280)]){if(!_0x1bfcf6[O(307)])return;const h=p[O(250)](_0x17314f.clientX,_0xaf79f1[O(307)][O(259)].x),z=_0x42a345[O(308)]-_0x40b0a9.current.start.y;p[O(272)](_0x119f88,{x:p[O(279)](_0x4e8ee5[O(307)].pan0.x,h),y:_0x263499.current[O(291)].y+z})}else{if(!g[O(307)])return;const h=G.clientX-g[O(307)][O(259)].x,z=G.clientY-g.current[O(259)].y;_({x:a[O(298)](g.current.pan0.x,h),y:g.current.pan0.y+z})}},I=()=>{const G=r;g[G(307)]=null},B=ee.useRef(null),[R,U]=a.PHERk(ee.useState,null);return{beginPan:b,updatePan:k,endPan:I,marqueeRef:B,marqueeRect:R,beginMarquee:G=>{const O=r;G[O(257)](),G[O(266)]?.setPointerCapture?.(G[O(297)]);const p=w(G);B.current={startSvg:p,currentSvg:p},U(null)},updateMarquee:G=>{const O=r;if(!B[O(307)])return;const p=w(G);B.current.currentSvg=p;const h=B.current.startSvg,z=Math[O(258)](h.x,p.x),D=Math[O(258)](h.y,p.y),A=Math[O(311)](p.x-h.x),q=Math[O(311)](a[O(241)](p.y,h.y));U({x:z,y:D,w:A,h:q})},endMarquee:()=>{const G=r,O={rVmjf:function(X,Q,te,re){return a.sMDIE(X,Q,te,re)}},p=B.current;if(B.current=null,!p){U(null);return}const h=p[G(312)],z=p[G(284)],D=Math.hypot(z.x-h.x,z.y-h.y);if(a[G(289)](D,3)){a[G(236)](o,{kind:"project"}),U(null);return}const A=Math.min(h.x,z.x),q=Math[G(258)](h.y,z.y),L=Math[G(311)](z.x-h.x),j=Math.abs(a[G(256)](z.y,h.y)),E=[];for(const X of i.flowers)a[G(249)](X[G(255)].x,A)&&X[G(255)].x<=a.MUvEU(A,L)&&X[G(255)].y>=q&&a.wyiyg(X.position.y,a.afxIA(q,j))&&E.push(X.id);const K=[];for(const X of i[G(299)]??[])X[G(255)].x>=A&&X[G(255)].x<=A+L&&X[G(255)].y>=q&&X.position.y<=a[G(273)](q,j)&&K[G(283)](X.id);if(E[G(295)]>0&&a.LhWrc(K[G(295)],0))o({kind:"mixed",flowerIds:E,leafIds:K});else if(a.Uaagh(E.length,0))a.JItcf(E[G(295)],1)?o({kind:a.PqknP,flowerId:E[0]}):a[G(309)](o,{kind:"flowers",flowerIds:E});else if(K.length>0)if(K[G(295)]===1)if(G(278)==="dppHQ")o({kind:a.cVXdd,leafId:K[0]});else{const X=_0x2e47c8.flowers[G(244)](Q=>Q.id===_0x58db11[G(237)]);if(!X)return;X[G(255)].x=O.rVmjf(_0x1e0f1d,_0x8cef84.startPos.x+_0xbce12,0,_0x10cf5d),X.position.y=O[G(267)](_0x5b3c97,_0x483c5f[G(239)].y+_0x10607a,0,_0x4d1c36)}else o({kind:G(299),leafIds:K});else a[G(296)](o,{kind:a[G(251)]});U(null)},beginFlowerDrag:(G,O,p)=>{const h=r;O.preventDefault(),O[h(266)]?.setPointerCapture?.(O.pointerId);const z=i[h(264)][h(244)](L=>L.id===G);if(!z)return;let D=null,A=null;if(a[h(271)](f.kind,a.cEhVi)&&f[h(268)].includes(G))D=f.flowerIds.map(L=>{const j=h,E=i[j(264)].find(K=>K.id===L);return{id:L,x:E?.position.x??0,y:E?.position.y??0}});else{const L=zh(i,G);a.dbEcB(L[h(295)],1)&&(D=L.map(j=>{const E=h,K=i[E(264)].find(X=>X.id===j);return{id:j,x:K?.[E(255)].x??0,y:K?.position.y??0}}))}const q=ll(i,G);q&&q[h(310)][h(295)]>0&&(A=q[h(310)].map(L=>{const j=h,E=(i.leaves??[])[j(244)](K=>K.id===L);return{id:L,x:E?.[j(255)].x??0,y:E?.[j(255)].y??0}})),y[h(307)]={flowerId:G,startClient:{x:O[h(243)],y:O[h(308)]},startPos:{...z.position},moved:!1,clickPetal:p??null,isShiftPressed:O.shiftKey||!1,multiStartPositions:D,leafStartPositions:A,startZoom:d}},updateFlowerDrag:G=>{const O=r,p={rMCVh:function(L,j){return a[hn(314)](L,j)},fxXqK:function(L,j){return L+j},uRPUc:function(L,j,E,K){return L(j,E,K)}},h=y.current;if(!h)return;const z=(G.clientX-h.startClient.x)/h.startZoom,D=a[O(286)](G.clientY,h.startClient.y)/h.startZoom,A=a.KyKji(G[O(243)],h[O(248)].x),q=G[O(308)]-h.startClient.y;a[O(277)](Math[O(311)](A),Math.abs(q))>4&&(h.moved=!0),v(L=>{const j=O;if(h[j(304)])for(const E of h[j(304)]){const K=L.flowers[j(244)](X=>X.id===E.id);K&&(K[j(255)].x=ye(p[j(247)](E.x,z),0,ii),K.position.y=ye(p.rMCVh(E.y,D),0,ii))}else{const E=L[j(264)].find(K=>K.id===h[j(237)]);if(!E)return;E[j(255)].x=ye(h.startPos.x+z,0,ii),E.position.y=ye(p[j(247)](h[j(239)].y,D),0,ii)}if(h[j(315)])for(const E of h.leafStartPositions){const K=(L.leaves??[]).find(X=>X.id===E.id);K&&(K.position.x=ye(p[j(300)](E.x,z),0,ii),K[j(255)].y=p.uRPUc(ye,E.y+D,0,ii))}},!1)},endFlowerDrag:()=>{const G=r;a[G(251)];const O=y[G(307)];if(O){if(!O[G(262)]&&O[G(265)])O[G(290)]?M(O.flowerId,O[G(265)][G(235)],O[G(265)].index,!0):o({kind:"petal",flowerId:O.flowerId,layerId:O.clickPetal[G(235)],index:O.clickPetal[G(238)]});else if(O[G(262)])if(a[G(269)](a.erxki,a[G(246)])){lTsMcF[G(313)](_0xeffe6b,{kind:lTsMcF[G(305)]}),_0x2f6f2d(null);return}else(a[G(271)](f[G(288)],G(306))||f.kind===a[G(275)]&&a[G(276)](f.flowerId,O.flowerId)||a.JItcf(f[G(288)],"layer")&&a[G(285)](f[G(237)],O.flowerId)||a.EHlHn(f.kind,a[G(316)])&&f.flowerId!==O[G(237)])&&o({kind:a.PqknP,flowerId:O.flowerId}),v(()=>{},!0);y.current=null}},scaleDragRef:N.scaleDragRef,beginScaleDrag:N.beginScaleDrag,updateScaleDrag:N.updateScaleDrag,endScaleDrag:N.endScaleDrag,rotationDragRef:N.rotationDragRef,beginRotationDrag:N[r(261)],updateRotationDrag:N.updateRotationDrag,endRotationDrag:N.endRotationDrag,widthScaleDragRef:N.widthScaleDragRef,beginWidthScaleDrag:N[r(301)],updateWidthScaleDrag:N[r(245)],endWidthScaleDrag:N.endWidthScaleDrag,radiusDragRef:N[r(282)],beginRadiusDrag:N.beginRadiusDrag,updateRadiusDrag:N[r(270)],endRadiusDrag:N.endRadiusDrag}}function om({className:c}){return x.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function ri(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),f=Math.max(0,i),o=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",v="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:y=>{c.onDoubleClick&&(y.stopPropagation(),c.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${o}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?x.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?x.jsx("button",{type:"button",className:`${v} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:y=>{y.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(om,{className:"h-4 w-4"})}):x.jsx("div",{className:`${v} shrink-0`,"aria-hidden":!0})]})]})}function fm(c){const{project:r,selection:a,setSelection:i,isExpanded:f,toggleExpanded:o,scheduleFlowerRowClick:v,handleFlowerRowDoubleClick:y,addFlower:d,deleteSelected:m,addOuterLayer:_,deleteOuterLayer:S,deleteFlowerById:w,deleteLayerById:M,treeScrollRef:N,setExpandedFlowers:g}=c,b=(Y,H)=>{const Z=a.kind==="flower"&&a.flowerId===Y.id,P=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(Y.id),F=Z||P,J="",G=f(Y.id),O=Y.layers&&Y.layers.length>0,p=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:h=>{h.stopPropagation(),_(Y.id)},"aria-label":"Add outer layer",children:"+"}),O&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:h=>{h.stopPropagation(),S(Y.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":Y.id,"data-testid":`tree-flower-${Y.id}`,style:{paddingLeft:H},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${G?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:G?"Collapse layers":"Expand layers",onClick:h=>{h.stopPropagation(),o(Y.id)},"aria-label":G?"collapse":"expand","data-tree-toggle":!0,children:G?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ri,{label:Y.name,marker:J,selected:F,showTrash:Z,onTrash:()=>w(Y.id),rightActions:p,onClick:()=>v(Y.id),onDoubleClick:()=>y(Y.id),level:0,leftOffset:-18})})]}),G&&Y.layers.slice().sort((h,z)=>z.order-h.order).map(h=>{const z=(a.kind==="layer"||a.kind==="petal")&&a.layerId===h.id;return x.jsx(ri,{label:`${h.order}. ${h.name}`,marker:"",selected:z,showTrash:z,onTrash:()=>M(Y.id,h.id),onClick:()=>{i({kind:"layer",flowerId:Y.id,layerId:h.id}),g(D=>({...D,[Y.id]:!0}))},level:0,leftOffset:10,muted:!h.visible},h.id)})]},Y.id)},k=c.groups,I=new Set(k.flatMap(Y=>Y.flowerIds)),B=r.flowers.filter(Y=>!I.has(Y.id)),R=new Set(k.flatMap(Y=>Y.leafIds)),U=c.leaves.filter(Y=>!R.has(Y.id));return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex gap-1 flex-wrap",children:[x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:m,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),x.jsxs("div",{className:"mt-1.5",ref:N,"data-testid":"layer-tree",children:[x.jsx(ri,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),k.length>0&&x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsx("div",{className:"flex items-center px-0.5",children:x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),x.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...k].reverse().map(Y=>{const H=a.kind==="group"&&a.groupId===Y.id,Z="",P=c.isGroupExpanded(Y.id);return x.jsxs("div",{"data-group-id":Y.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${P?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:P?"":"",onClick:F=>{F.stopPropagation(),c.toggleGroupExpanded(Y.id)},"aria-label":P?"collapse group":"expand group",children:P?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ri,{label:Y.name,marker:Z,selected:H,onClick:()=>c.onSelectGroup(Y.id),level:0,leftOffset:-18})})]}),P&&Y.flowerIds.map(F=>{const J=r.flowers.find(G=>G.id===F);return J?b(J,12):null}),P&&Y.leafIds.map(F=>{const J=c.leaves.find(O=>O.id===F);if(!J)return null;const G=a.kind==="leaf"&&a.leafId===J.id||a.kind==="leaves"&&a.leafIds.includes(J.id)||a.kind==="mixed"&&a.leafIds.includes(J.id);return x.jsx(ri,{label:` ${J.name}`,selected:G,showTrash:G,onTrash:()=>c.onDeleteLeaf(J.id),onClick:()=>c.onSelectLeaf(J.id),level:0,leftOffset:12,muted:!J.visible},J.id)})]},Y.id)})})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:d,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...B].reverse().map(Y=>b(Y,0)),B.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[[...U].reverse().map(Y=>{const H=a.kind==="leaf"&&a.leafId===Y.id||a.kind==="leaves"&&a.leafIds.includes(Y.id)||a.kind==="mixed"&&a.leafIds.includes(Y.id);return x.jsx(ri,{label:Y.name,selected:H,showTrash:H,onTrash:()=>c.onDeleteLeaf(Y.id),onClick:()=>c.onSelectLeaf(Y.id),level:0,leftOffset:0,muted:!Y.visible},Y.id)}),c.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const se=kn;(function(c,r){const a=kn,i=c();for(;;)try{if(parseInt(a(545))/1+parseInt(a(442))/2*(parseInt(a(463))/3)+-parseInt(a(503))/4+-parseInt(a(440))/5*(-parseInt(a(450))/6)+-parseInt(a(535))/7*(-parseInt(a(475))/8)+-parseInt(a(541))/9+-parseInt(a(537))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,566247);const dm=(function(){let c=!0;return function(r,a){const i=c?function(){const f=kn;if(a){const o=a[f(504)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),zx=dm(void 0,function(){const c=kn,r={nhtvA:"(((.+)+)+)+$"};return zx[c(439)]()[c(462)](c(526))[c(439)]().constructor(zx).search(r[c(512)])});zx();const t1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}};function kn(c,r){c=c-432;const a=O0();let i=a[c];if(kn.KZAitP===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};kn.wzmWta=f,kn.aucODH={},kn.KZAitP=!0}const o=a[0],v=c+o,y=kn.aucODH[v];if(y)i=y;else{const d=function(m){this.JtUsJU=m,this.FdpJNZ=[1,0,0],this.gGvjmQ=function(){return"newState"},this.BusYbr="\\w+ *\\(\\) *{\\w+ *",this.OTtAEM=`['|"].+['|"];? *}`};d.prototype.pYMNSC=function(){const m=new RegExp(this.BusYbr+this.OTtAEM),_=m.test(this.gGvjmQ.toString())?--this.FdpJNZ[1]:--this.FdpJNZ[0];return this.kGsCwj(_)},d.prototype.kGsCwj=function(m){return~m?this.qHpiqk(this.JtUsJU):m},d.prototype.qHpiqk=function(m){for(let _=0,S=this.FdpJNZ.length;_<S;_++)this.FdpJNZ.push(Math.round(Math.random())),S=this.FdpJNZ.length;return m(this.FdpJNZ[0])},new d(kn).pYMNSC(),i=kn.wzmWta(i),kn.aucODH[v]=i}return i}const n1={adult:"",child:""};function O0(){const c=["qYa1nsaXmcWGnJaGmJiSidyZidm2","BgvMDa","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","qYa4msaXmdqSidG0ideXmcWGodqGmte2","5B6m44kn5zcr44gn","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","Dg9tDhjPBMC","ntbsEffOv1K","qYaTncaTmsWGlteGlteSidaGma","mtuWnJaXnefJDvrNBq","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","Bvfdy2i","qYaTndaGmtaSic0XocaXlcaWida","tsaTndaGmtqY","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYa3oca1mIWGnZCGnJaSidC0idy2","mtG4mtqYwfHkwgfT","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYaTodmGodySic04mIa3ncWGltGWidyY","AMXqz1i","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaYmcaWlca0nca2lca1ocaYma","yMfJAW","AgvPz2H0","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","C2vHCMnO","m0fcvu1Iyq","qYaTmJiGnIWGlteWideSidaGma","qYa2mcaZocWGnJqGntiSidy0idy4","ENfUtM0","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYa2nIa2ocWGntyGnZaSidq4idy2","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","B2T3Bfe","qYaTntqGmJaSic02nIaYmIWGltCYidmY","vMPlvw0","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","ody0ntm2ofHKuwfLua","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTnJyGodySic02nca3ocWGlty0idy4","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","sgHiA3e","rerAugm","qYa1nYa5msWGntCGotmSidu5idK1","l3rZDw1HBwKV","D2LKDgG","qYaTnJGGotySic03mca4ncWGlty2idC0","tcaTmti1idi4ma","vKrQz0q","qYaTndmGmZiSic00ncaYocWGltq2idi2","AM9PBG","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaTnZaGntiSic02nIa0ocWGltyYidq0","CMLNAhq","qYa2nca0ncWGnJqGntaSidyZidu2","tcaTndaGmtqY","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","oti5ntmYC1PRBNPg","yxbWBhK","zgT2uKK","qYa3mIa2osWGnJKGnZiSidy2idC2","tcaTotiGmJGW","tsaTndyGmJy","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYaTndqGnIWGltiWidaSidaGma","BMH0DKe","qYa0mIa2mIWGndaGntaSidqYidm4","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","qYaXncaTncWGmZyGltqSidq4idq","qYa2nsa4mcWGnJGGoduSidC0idKW","qYaTmJGGndySic00mca0ncWGltuWidq0","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYa2nca3ocWGnJyGodySidy2idK0","qYa2nIa4nIWGnJiGodGSidu4idKW","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYa3oca5mYWGodiGotySidGZidK5","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","kcGOlISPkYKRksSK","qYa2nsaXmIWGnZiGmJySidC2idqY","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYaXnsaTmIWGmZGGltuSidu1idu","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","B0HtB0O","zfDTy0e","qYa1nYa3msWGntKGnZuSidyZidC5","D0Dnyxm","n1bRD05LDW","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","mta5mJGXmZb1D3jPB0G","tsaTndaGmtm0","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYaTntyGmZySic01mcaYnIWGltqYide4","mJG5mdeYnuvyC1Pgzq","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYaTndiGnJiSic00mca1mcWGltqYidm4","nJuZmJbNzvDdzwy","ywr1Bhq","qYa3oca0mcWGnZGGntqSidCYidyY","tsaWida","tsa0nIaYnG"];return O0=function(){return c},O0()}const l1={right:"",left:"",back:se(437)},hm=[se(548),se(529),"C 65 12, 72 26, 76 42",se(449),se(506),se(517),se(524),se(522),"C 70 106, 70 108, 73 110",se(443),"C 69 121, 65 126, 61 131","C 56 137, 49 142, 43 146","C 37 150, 31 154, 27 161",se(530),se(474),"C -17 249, -25 259, -33 269","L -36 280",se(487),se(510),se(542),"C -42 182, -38 174, -36 166",se(447),se(461),"C -80 108, -88 96, -88 84",se(543),se(493),se(540),"C -34 10, -22 3, -10 0",se(441),"Z"][se(490)](" "),mm=[se(548),se(458),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116",se(519),"C 72 142, 60 152, 48 162","C 38 172, 32 180, 30 188","C 28 198, 34 212, 48 228",se(515),se(507),se(525),se(479),"C -32 180, -38 172, -48 162","C -60 152, -72 142, -78 134",se(501),"C -84 110, -81 104, -82 98",se(453),"C -76 44, -68 30, -58 20",se(511),"Z","M 0 70","C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142",se(480),"C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"].join(" "),bm=["M 0 0",se(516),se(433),"C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68",se(533),"C 65 81, 66 83, 66 85",se(521),se(483),"C 60 97, 58 101, 54 106","C 50 111, 44 116, 38 120",se(536),se(502),se(438),"L -30 240","L -100 240","C -86 218, -72 200, -58 186","C -48 176, -42 168, -38 158","C -35 150, -36 142, -40 134","C -48 126, -56 116, -62 106",se(486),se(469),"C -44 34, -38 22, -30 14",se(464),"Z"].join(" "),gm=[se(548),"C 18 1, 40 10, 52 26",se(465),"C 64 78, 66 86, 66 94",se(451),"C 54 120, 44 130, 38 140","C 30 152, 32 166, 55 202",se(514),"L -70 240","C -66 228, -60 214, -55 202","C -32 166, -30 152, -38 140","C -44 130, -54 120, -60 112",se(455),se(477),se(491),"C -40 10, -18 1, 0 0","Z",se(432),"C 54 20, 66 22, 72 32",se(547),se(468),"C 42 62, 40 50, 42 38",se(457),"Z",se(508),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62",se(470),se(544),se(489),"Z"][se(490)](" "),vm=[se(548),"C 15 -2, 38 -5, 55 5",se(527),"C 78 52, 77 60, 74 66",se(506),"C 48 74, 20 64, -8 58","C -30 54, -48 48, -62 44","C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0",se(441),"Z",se(446),"C -48 134, -58 126, -68 118",se(492),se(543),se(493),"C -58 50, -54 58, -50 70","C -46 86, -42 106, -40 126",se(496),"Z"][se(490)](" "),ym=["M 0 0",se(458),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",se(436),"C 84 122, 82 128, 78 134",se(500),"C 8 160, -8 160, -20 158","C -42 152, -62 142, -78 134",se(501),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z","M 0 70",se(448),se(452),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",se(499),se(480),"C -50 104, -48 90, -42 82",se(539),"Z"].join(" "),pm=["M 0 0",se(516),se(433),se(495),"C 44 54, 16 48, -10 46",se(518),"C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z",se(538),se(498),"C -68 96, -70 84, -66 74",se(469),se(497),"C -38 94, -36 112, -38 126","L -40 134","Z"][se(490)](" "),_m=[se(548),se(476),se(465),se(520),"C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126",se(456),"C -46 118, -60 112, -60 112","C -64 106, -66 100, -66 94",se(477),se(491),se(445),"Z","M 46 26",se(528),"C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",se(513),"C 43 32, 44 28, 46 26","Z",se(508),se(472),se(523),"C -66 68, -56 70, -48 66",se(544),se(489),"Z"].join(" ");function Sm(c,r){const a=se,i={oHSoJ:function(o,v){return o===v},zqnNm:"right",zXcvT:a(546)},f=i[a(531)](r,i[a(466)])||i[a(531)](r,a(434));return c===i.zXcvT?f?hm:mm:f?bm:gm}function wm(c,r){const a=se,i={dkvRI:function(o,v){return o===v},DDZPc:"left",YcPjV:a(546),okwlQ:function(o,v){return o!==v}},f=i.dkvRI(r,"right")||i[a(505)](r,i[a(482)]);return i[a(505)](c,i.YcPjV)?i[a(471)](a(534),a(444))?f?vm:ym:_0x129d86?_0x135089:_0x106687:f?pm:_m}const Cm={right:"/tsumami/"+se(509),left:"/tsumami/stencils/adult_left.png",back:se(484)+se(478)},jm={right:"/tsumami/"+se(435),left:se(484)+"stencils/child_left.png",back:"/tsumami/"+se(467)},Mm={adult:Cm,child:jm};function zm(c,r){const a=se,i={cZgEh:function(y,d){return y===d},VjKUm:a(434),vKqvK:"side",xIeVZ:"back",HhHkq:function(y,d,m){return y(d,m)},jlPgR:function(y,d){return y===d}},f=r==="right"||i.cZgEh(r,i[a(473)])?i.vKqvK:i.xIeVZ,o=t1[c][f],v=Mm[c]?.[r]??null;return{path:Sm(c,r),hairPath:i[a(481)](wm,c,r),scaleX:i[a(454)](r,i[a(473)])?-1:1,imageUrl:v,imageWidthMm:o.width,imageHeightMm:o.height}}(function(c,r){const a=mn,i=c();for(;;)try{if(parseInt(a(148))/1+parseInt(a(158))/2+parseInt(a(184))/3*(-parseInt(a(167))/4)+parseInt(a(166))/5*(parseInt(a(153))/6)+-parseInt(a(215))/7+-parseInt(a(160))/8*(-parseInt(a(141))/9)+-parseInt(a(171))/10*(parseInt(a(203))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,126841);const Dm=(function(){const c=mn,r={COENy:c(201)};let a=!0;return function(i,f){const o=c;if(r[o(212)]!==o(201))_0x5c2656.current=_0x1784b1.zoom;else{const v=a?function(){if(f){const y=f.apply(i,arguments);return f=null,y}}:function(){};return a=!1,v}}})(),Dx=Dm(void 0,function(){const c=mn,r={HnNqU:"(((.+)+)+)+$"};return Dx[c(137)]().search("(((.+)+)+)+$")[c(137)]()[c(147)](Dx)[c(188)](r[c(202)])});Dx();function Y0(){const c=["AMvJCwO","y3vYCMvUDa","BKzZy0S","C2vHCMnO","v1nOvge","BKTwBNK","Aw5PDgLHBenLBNrLCG","AeLtCLO","CgfU","CePVq3G","zxHW","C2zWCNe","sgfzz2m","svrSCfG","y2XPzw50wq","B1jYCNO","D2f2q1O","sg5oCvu","ndCZAhbwBeHy","CMvTB3zLrxzLBNrmAxn0zw5LCG","Dg91y2HLBMq","D2HLzwW","Aen3wfO","rgHRAKW","CMLrtey","shnzs3y","sKLnuK4","q09ftNK","C3bSAxq","uNL1suy","odK3oda2BNDSruTN","vxHPyLm","D2LKDgG","Bwf4","AMnVwuu","Dg91y2HTB3zL","Dg9W","AgvPz2H0","seHlC0u","Dg91y2HZDgfYDa","EM9VBuXLDMvS","mhWXFdn8mNW0","r2DpzNG","qxDIAhe","EKDWq2e","EM9VBq","kcGOlISPkYKRksSK","wKrKA2S","Bwrdte4","t2jStLy","DgXHAvu","Dg91y2HLCW","Dg9tDhjPBMC","BxDlC2y","Aw5PDgLHBerPC3q","vMT3z2y","mta4AMLdrhzl","ywz1zeS","zurfzeK","vNb3uue","te93zwe","sevrvg8","y29UC3rYDwn0B3i","ndm1mdfnEvvhB1q","s2HTwuu","qNbPD0y","y2XPzw50wa","ywjZ","mtjsqLfZBwy","z3PtBgm","AhLWB3q","sfbQr3G","s2zbsMK","ndC5ntC0vg9ZsKvS","ywrKrxzLBNrmAxn0zw5LCG","mtm1mdmYzunWuKHd","BgvMDa","Aw5PDgLHBfPVB20","C0ncDgC","rgvgDwu","u1Lzv3C","mtGXmde1Au9ArKXv","nhrgDfjuBW","A2nSuLm","Ag5RzLu","BgvUz3rO","ndy3ntbHqxzfEu8","wuPhtK4","twnZzxi","zgvSDgfz","Aw5PDgLHBfbHBG","shr2BuG","z2v0qM91BMrPBMDdBgLLBNrszwn0","z2fqB3y","v3bdDui","Bw9xvLu","C3bKyw8","zMzbC3O","rvDfC3u","mZa2mZu0r2DcwhzP"];return Y0=function(){return c},Y0()}function mn(c,r){c=c-129;const a=Y0();let i=a[c];if(mn.lAaarZ===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};mn.XEBSyM=f,mn.KeOQlb={},mn.lAaarZ=!0}const o=a[0],v=c+o,y=mn.KeOQlb[v];if(y)i=y;else{const d=function(m){this.HlpqGZ=m,this.OjVDmD=[1,0,0],this.eqpDOj=function(){return"newState"},this.GuKUyV="\\w+ *\\(\\) *{\\w+ *",this.lwuAKS=`['|"].+['|"];? *}`};d.prototype.viKuDS=function(){const m=new RegExp(this.GuKUyV+this.lwuAKS),_=m.test(this.eqpDOj.toString())?--this.OjVDmD[1]:--this.OjVDmD[0];return this.rCsYEK(_)},d.prototype.rCsYEK=function(m){return~m?this.HtdpfQ(this.HlpqGZ):m},d.prototype.HtdpfQ=function(m){for(let _=0,S=this.OjVDmD.length;_<S;_++)this.OjVDmD.push(Math.round(Math.random())),S=this.OjVDmD.length;return m(this.OjVDmD[0])},new d(mn).viKuDS(),i=mn.XEBSyM(i),mn.KeOQlb[v]=i}return i}const fx=520;function Kd(c,r,a,i,f,o,v){const y=mn,d={DYCWn:function(_,S){return _/S},Vkwgf:function(_,S){return _-S},ITlpX:function(_,S){return _*S},hnkfU:function(_,S){return _+S},otjmS:function(_,S){return _*S},jecqj:function(_,S){return _-S}},m=d.DYCWn(i,a)-1;return{x:d[y(140)](v.x,d[y(198)](m,d[y(169)](-v.x,d.otjmS(c,f)))),y:d[y(185)](v.y,m*(-v.y+r*o))}}function Nm(c){const r=mn,a={eDEdI:function(p,h){return p===h},WShTa:"SIdqy",SYYWw:function(p){return p()},TuURu:function(p){return p()},HsYKv:function(p){return p()},mwKsf:function(p,h){return p/h},RqfwQ:"SJNWY",HEQTo:function(p){return p()},nLecw:function(p){return p()},xtnHI:function(p){return p()},RyuIF:function(p,h){return p/h},DhkjL:function(p,h){return p+h},WpCuB:function(p,h){return p-h},fhXYq:function(p,h){return p!==h},KMswn:function(p,h){return p/h},ffAsz:function(p,h){return p-h},nFscK:function(p,h){return p(h)},pJoCx:function(p,h){return p*h},YJGNN:function(p,h){return p+h},KfAJi:function(p,h){return p!==h},oRrrz:function(p,h){return p/h},HHKsE:function(p,h){return p*h},feOjT:function(p,h){return p*h},Idere:function(p,h){return p*h},ZDdkk:function(p,h){return p*h},tlaiU:function(p,h){return p/h},nKVny:function(p,h){return p/h},BpiwF:function(p,h){return p+h},hCwXZ:function(p,h){return p*h},jcoYE:function(p,h){return p-h},JIMRN:function(p,h){return p-h},spdao:function(p,h){return p-h},aOTmx:function(p,h){return p/h},KhmYE:function(p,h){return p+h},Qapnz:function(p,h){return p!==h},tQOkh:function(p,h){return p<h},moWVU:r(196),huXJA:function(p,h){return p*h},HtvmH:function(p,h,z,D){return p(h,z,D)},xJuou:function(p,h){return p-h},HktVc:function(p,h){return p/h},nuRjH:function(p,h){return p/h},LOwea:function(p,h){return p-h},OvuDY:function(p,h){return p*h},afudK:function(p,h,z,D,A,q,L,j){return p(h,z,D,A,q,L,j)},UxibS:r(224),kclRS:r(220),riQLF:r(205),mdCLN:"wheel",nPJlT:function(p,h){return p-h},SIvqy:function(p,h){return p/h},zGpCa:function(p,h){return p===h},NqYWI:"SYgBK",rRBxg:r(226),inbmK:function(p,h){return p(h)},gzSlc:function(p,h){return p(h)},OblNV:function(p,h){return p(h)},nMmZm:function(p,h,z){return p(h,z)},hISrZ:function(p,h,z){return p(h,z)}},{setZoom:i,setPan:f,setZoomLevel:o,ZOOM_LEVELS:v,stageRef:y,endPan:d,endFlowerDrag:m,endMarquee:_,endRotationDrag:S,endScaleDrag:w,endWidthScaleDrag:M,endRadiusDrag:N}=c,g=a[r(154)](ee.useRef,null),b=a.OblNV(ee.useRef,c.pan),k=a[r(134)](ee.useRef,c.zoom);a.nMmZm(ee.useEffect,()=>{const p=r,h={NbKxl:"touchstart",ppzIv:"touchend"};if(a[p(143)](p(228),a[p(189)])){const z=_0x412bf8.current;return z?(z[p(159)](h.NbKxl,_0x301a59,{passive:!1}),z.addEventListener(p(220),_0x41c5fc,{passive:!1}),z.addEventListener(h.ppzIv,_0x4ed89b),z[p(159)]("wheel",_0x15d0ee,{passive:!1}),()=>{const D=p;z.removeEventListener(h.NbKxl,_0x2725be),z[D(204)](D(220),_0x106fe4),z[D(204)](h.ppzIv,_0x55ba45),z[D(204)]("wheel",_0x1b3702)}):void 0}else b[p(186)]=c.pan},[c[r(193)]]),ee.useEffect(()=>{const p=r;if(a[p(143)](a.RqfwQ,p(164))){if(a[p(143)](_0x4d6ce5[p(136)].length,2)){_0x2e52dc.preventDefault(),_0x6ffcb2(),a[p(165)](_0x5b1c58),_0x5254d0(),a.TuURu(_0x7a63fa),a[p(210)](_0x5c7157),_0x5921db(),_0xc10de2(),_0x32a5b9.current=null,_0xe3cccf.current=null;const h=_0x40ef84.touches[0],z=_0x2b52d6.touches[1],D=a[p(138)](h[p(151)]+z[p(151)],2),A=(h[p(199)]+z.clientY)/2,q=_0x19477a[p(155)](z[p(151)]-h.clientX,z[p(199)]-h[p(199)]);_0x732c5f[p(186)]={initialCenter:{x:D,y:A},initialDist:q,initialPan:{..._0x1b1af2[p(186)]},initialZoom:_0x2f674d[p(186)]}}}else k[p(186)]=c[p(130)]},[c.zoom]);const I=ee.useRef(c[r(225)]);a.nMmZm(ee.useEffect,()=>{const p=r;I[p(186)]=c[p(225)]},[c[r(225)]]);const B=a[r(187)](ee.useRef,null),R=ee.useRef(null),U=ee.useCallback(p=>{const h=r;if(p.touches.length===2){p.preventDefault(),d(),a[h(146)](m),a.nLecw(_),S(),a[h(165)](w),a.xtnHI(M),N(),B.current=null,R[h(186)]=null;const z=p[h(136)][0],D=p.touches[1],A=a.RyuIF(z[h(151)]+D[h(151)],2),q=a.mwKsf(a[h(208)](z[h(199)],D.clientY),2),L=Math[h(155)](D[h(151)]-z.clientX,a[h(179)](D[h(199)],z[h(199)]));g.current={initialCenter:{x:A,y:q},initialDist:L,initialPan:{...b[h(186)]},initialZoom:k.current}}},[d,m,_,S,w,M,N]),Y=ee.useCallback(p=>{const h=r,z={GgOfx:function(D,A){return D*A},HPjGx:function(D,A){return D-A},RwPgO:function(D,A){return D/A},ShTGE:function(D,A,q,L,j,E,K,X){return D(A,q,L,j,E,K,X)},VpwQA:function(D,A){return D(A)}};if(a.fhXYq("zxYvr","zxYvr")){_0x36575c.preventDefault();const D=_0x5e35bd[h(186)];if(!D)return;const A=_0x1c26a4[h(186)],q=z[h(227)](A,_0x36cf71.exp(-_0x4958cc.deltaY*_0x3eef0e)),L=_0x368faf(q,_0x1c3962[0],_0x123d5f[z[h(156)](_0x268ad5.length,1)]);if(_0x5c0759[h(152)](z[h(156)](L,A))<1e-6)return;const j=D.getBoundingClientRect(),E=(_0x48ac55.clientX-j[h(161)])/j.width,K=(_0x58731c[h(199)]-j[h(221)])/j[h(222)],X=z.RwPgO(j.width,j.height),Q=_0x12c668,te=z[h(227)](Q,X),re=z.ShTGE(_0x519a05,E,K,A,L,te,Q,_0x3f54cd.current);_0xda7d06.current=L,_0x1a7c2f[h(186)]=re,z[h(144)](_0x4afe9e,L),z[h(144)](_0x2f88e1,re)}else if(p.touches[h(170)]===2&&g.current){p.preventDefault();const D=p.touches[0],A=p.touches[1],q=a.KMswn(D[h(151)]+A.clientX,2),L=(D.clientY+A.clientY)/2,j=Math[h(155)](a.ffAsz(A.clientX,D.clientX),a[h(179)](A[h(199)],D.clientY)),E=g.current,K=j/Math.max(1,E[h(139)]),X=ye(a[h(187)](Number,a[h(194)](E.initialZoom,K).toFixed(3)),v[0],v[a[h(179)](v[h(170)],1)]),Q=E[h(162)],te=q-E.initialCenter.x,re=L-E[h(191)].y;let oe=E.initialPan.x+te,he=a.YJGNN(E.initialPan.y,re);const be=y.current;if(be&&a[h(157)](Q,X)){const pe=be[h(177)](),Te=a[h(214)](E.initialCenter.x-pe[h(161)],pe.width),Je=(E.initialCenter.y-pe[h(221)])/pe[h(222)],Be=a[h(200)](pe.width,pe.height),vt=fx,zt=vt*Be,Lt=a[h(223)](a[h(179)](a.oRrrz(X,Q),1),a.DhkjL(-E.initialPan.x,a.feOjT(Te,zt))),dt=a.Idere(X/Q-1,-E[h(175)].y+a[h(132)](Je,vt));oe-=Lt,he-=dt}const de={x:oe,y:he};k[h(186)]=X,b[h(186)]=de,f(de),a.nFscK(i,X)}},[f,i,y,v]),H=ee.useCallback(p=>{const h=r;if(a.Qapnz(h(197),h(197))){_0x587004.preventDefault();const z=_0x3a53d7.touches[0],D=_0x532c0f.touches[1],A=a[h(135)](z.clientX+D.clientX,2),q=a[h(190)](a[h(150)](z[h(199)],D[h(199)]),2),L=_0x257eb6[h(155)](D.clientX-z.clientX,a[h(182)](D.clientY,z.clientY)),j=_0x318d71.current,E=a.KMswn(L,_0x2c3d2b[h(218)](1,j[h(139)])),K=_0x3c175d(a[h(187)](_0x2edc0f,a[h(207)](j[h(162)],E).toFixed(3)),_0x2f873b[0],_0x404730[_0x4b30ae[h(170)]-1]),X=j.initialZoom,Q=a[h(219)](A,j[h(191)].x),te=q-j[h(191)].y;let re=j.initialPan.x+Q,oe=a[h(150)](j.initialPan.y,te);const he=_0x58d3f9[h(186)];if(he&&X!==K){const de=he.getBoundingClientRect(),pe=a[h(211)](j.initialCenter.x,de.left)/de[h(217)],Te=a[h(214)](a[h(181)](j.initialCenter.y,de.top),de.height),Je=de[h(217)]/de[h(222)],Be=_0x579c89,vt=Be*Je,zt=(a.aOTmx(K,X)-1)*a[h(172)](-j[h(175)].x,pe*vt),Lt=a.jcoYE(a[h(138)](K,X),1)*a[h(149)](-j.initialPan.y,a.pJoCx(Te,Be));re-=zt,oe-=Lt}const be={x:re,y:oe};_0x5d3820[h(186)]=K,_0x4c8b40[h(186)]=be,_0x115ae8(be),_0x455546(K)}else if(a.tQOkh(p.touches.length,2))if(a[h(180)]==="sfprq")g[h(186)]=null;else{const z=_0x58eed[h(177)](),D=gzLqlI.GtwiV(gzLqlI.Mcser(_0x334fd6[h(191)].x,z[h(161)]),z.width),A=(_0x1eb9ae[h(191)].y-z[h(221)])/z.height,q=z.width/z.height,L=_0x5faf3d,j=gzLqlI.udihG(L,q),E=(_0x20a90c/_0x2ee44a-1)*(-_0xc3d672.initialPan.x+gzLqlI.udihG(D,j)),K=gzLqlI[h(178)](gzLqlI[h(173)](_0x4f6025/_0x11eab3,1),-_0x29b66f[h(175)].y+A*L);_0x533ab2-=E,_0x9ce6a6-=K}},[]),Z=.003,P=a[r(192)](ee.useCallback,p=>{const h=r;p.preventDefault();const z=y.current;if(!z)return;const D=k.current,A=D*Math[h(195)](a.huXJA(-p[h(174)],Z)),q=a[h(176)](ye,A,v[0],v[v[h(170)]-1]);if(Math[h(152)](a.xJuou(q,D))<1e-6)return;const L=z.getBoundingClientRect(),j=a.HktVc(p[h(151)]-L[h(161)],L.width),E=a.nuRjH(a[h(145)](p.clientY,L[h(221)]),L[h(222)]),K=L[h(217)]/L.height,X=fx,Q=a.OvuDY(X,K),te=a[h(142)](Kd,j,E,D,q,Q,X,b.current);k.current=q,b.current=te,i(q),f(te)},[i,f,y,v]);ee.useEffect(()=>{const p=r,h={sCBtg:a[p(216)],EWEsu:a[p(168)]},z=y[p(186)];if(z)return z.addEventListener(p(224),U,{passive:!1}),z.addEventListener(p(220),Y,{passive:!1}),z[p(159)](a[p(209)],H),z.addEventListener(a[p(133)],P,{passive:!1}),()=>{const D=p;z.removeEventListener(h[D(163)],U),z.removeEventListener(h[D(183)],Y),z[D(204)](D(205),H),z.removeEventListener(D(206),P)}},[y,U,Y,H,P]);const F=ee.useCallback(p=>{const h=r,z=I.current,D=ye(z+p,0,a.nPJlT(v[h(170)],1));if(D===z)return;const A=k[h(186)],q=v[D],L=y[h(186)];if(!L){o(D);return}const j=L.getBoundingClientRect(),E=a.SIvqy(j.width,j[h(222)]),K=fx,X=a[h(194)](K,E),Q=Kd(.5,.5,A,q,X,K,b[h(186)]);k.current=q,I.current=D,b.current=Q,o(D),f(Q)},[o,f,y,v]),J=ee.useCallback((p,h)=>{const z=r;if(a[z(129)]("Esutf",a.NqYWI))return _0x3e4347[z(137)]()[z(188)](z(131))[z(137)]().constructor(_0x46721e)[z(188)]("(((.+)+)+)+$");{const D=a.rRBxg[z(213)]("|");let A=0;for(;;){switch(D[A++]){case"0":I[z(186)]=p;continue;case"1":k[z(186)]=h;continue;case"2":a.inbmK(o,p);continue;case"3":b.current={x:0,y:0};continue;case"4":f({x:0,y:0});continue}break}}},[o,f]),G=a.hISrZ(ee.useCallback,p=>{const h=r;B[h(186)]=p},[]),O=ee.useCallback(p=>{R.current=p},[]);return{multiTouchRef:g,touchBgStartRef:B,mouseBgStartRef:R,zoomAtCenter:F,resetView:J,setTouchBgStart:G,setMouseBgStart:O}}function ci(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),f=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(f))return c;const o=1-r;return`#${Math.round(a*o).toString(16).padStart(2,"0")}${Math.round(i*o).toString(16).padStart(2,"0")}${Math.round(f*o).toString(16).padStart(2,"0")}`}function Am(c){const{flower:r,project:a,paletteMap:i}=c,f=ee.useRef(null),o=ee.useRef(!1),v=ee.useRef(null);ee.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const y=ee.useMemo(()=>[...r.layers||[]].sort((I,B)=>I.order-B.order),[r.layers]),d=r.fabricSquareSize??a.fabricSquareSize,{length:m,width:_}=qt(d),{flowerOuterR:S,centerHitR:w}=ee.useMemo(()=>{let I=12,B=1/0;for(const U of y){if(!U.visible)continue;const Y=U.scale??1,H=m*Y,P=Math.max(0,U.radius-H*.28),F=P+H;I=Math.max(I,F),P<B&&(B=P)}isFinite(B)||(B=0);const R=Math.max(B*.9,8);return{flowerOuterR:I,centerHitR:R}},[y,m]),M=(I,B)=>I?.petalOverrides?.find(R=>R.index===B)??null,N="pointer",g=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,b=c.zoneCursorValue??"grab",k=I=>{if(I.stopPropagation(),I.button===0){if(I.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(I)}};return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:I=>{I.stopPropagation(),c.onDoubleClick?.()},style:{cursor:g?b:xr("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,S),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),y.map(I=>{if(!I.visible)return null;const R=i.get(I.colorId)?.hex??"#999",U=360/Math.max(1,I.petalCount),Y=I.scale??1,H=m*Y,P=_*(I.widthScale??1)*Y,J=Math.max(0,I.radius-H*.28),G=ur(""),O=ur(""),p=J+H,h=c.isSelected&&c.selectedLayerId===I.id,z=c.isSelected&&(c.selectedPetal?.layerId===I.id||(c.selectedPetals?.some(D=>D.layerId===I.id)??!1));return x.jsxs("g",{children:[Array.from({length:I.petalCount}).map((D,A)=>{const q=M(I,A),j=(q?.petalType??I.petalType)===""?G:O,E=i.get(q?.colorId??I.colorId)?.hex??R,K=I.offsetAngle+A*U,X=na(K),Q=Math.cos(X)*J,te=Math.sin(X)*J,re=c.isSelected&&c.selectedPetal?.layerId===I.id&&c.selectedPetal?.index===A,oe=c.isSelected&&(c.selectedPetals?.some(de=>de.layerId===I.id&&de.index===A)??!1),he=re||oe,be=g?b:xr("/tsumami/");return x.jsxs("g",{transform:`translate(${Q} ${te}) rotate(${K})`,children:[x.jsx("path",{d:j,transform:`scale(${H} ${P})`,fill:E,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:I.locked?.55:.95,style:{cursor:be},onPointerDown:de=>{if(de.stopPropagation(),de.button!==0)return;const pe=de.shiftKey,Te=de.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),o.current=!1,pe&&c.onTogglePetalSelection){de.preventDefault(),de.stopPropagation(),c.onTogglePetalSelection(I.id,A,!0);return}if(Te&&c.onTogglePetalSelection){v.current={x:de.clientX,y:de.clientY};const zt=I.id,Lt=A;f.current=window.setTimeout(()=>{o.current=!0,f.current=null,c.onTogglePetalSelection?.(zt,Lt,!0),navigator.vibrate?.(30)},500)}const Je=c.isSelected&&c.selectedLayerId!=null,Be=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||Je||Be){c.onBeginDragFromLayerPetal(I.id,A,de);return}c.onBeginDragFromLayerPetal(I.id,A,de)},onPointerMove:de=>{if(f.current&&v.current){const pe=de.clientX-v.current.x,Te=de.clientY-v.current.y;Math.hypot(pe,Te)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:de=>{de.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(I.id)}}),I.doublePetal&&(()=>{const de=I.doublePetal,pe=q?.innerSizeReduction??de.innerSizeReduction??2,Te=d*(Y||1);if(Te<=0)return null;const Be=Math.max(Te*.3,Te-pe)/Te,vt=j,zt=q?.innerColorId??de.innerColorId??q?.colorId??I.colorId,Lt=i.get(zt)?.hex??E,dt=H*Be,Ut=P*Be;return x.jsx("path",{d:vt,transform:`scale(${dt} ${Ut})`,fill:Lt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:I.locked?.55:.95,pointerEvents:"none"})})(),(he||h||c.isFlowerSelected)&&x.jsx("path",{d:j,transform:`scale(${H} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${I.id}-${A}`)]},A)}),h&&!z&&x.jsx("circle",{r:p,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},I.id)}),c.isFlowerSelected&&x.jsx("circle",{r:S,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const I=r.center,B=kh(I.size),R=i.get(I.color)?.hex??"#D4A843",U=I.color2?i.get(I.color2)?.hex??"#C0C0C0":"#D4A843",Y=Math.max(B,w);switch(I.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:B,fill:R,stroke:ci(R,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:Y,fill:"transparent",style:{cursor:N},onPointerDown:k})]});case"":{const Z=B*.42,P=B,F=B*.12,J=B*.13,G=B*.45,O=U,p=R;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((h,z)=>{const D=z/10*360,A=na(D),q=Math.cos(A)*P,L=Math.sin(A)*P,j=-Math.sin(A)*F,E=Math.cos(A)*F,K=Math.cos(A)*Z,X=Math.sin(A)*Z;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(K+j).toFixed(2)} ${(X+E).toFixed(2)} L ${q.toFixed(2)} ${L.toFixed(2)} L ${(K-j).toFixed(2)} ${(X-E).toFixed(2)} Z`,fill:O,stroke:ci(O,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:q,cy:L,r:J,fill:O,stroke:ci(O,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},z)}),x.jsx("circle",{r:Z,fill:O,stroke:ci(O,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:G,fill:p,stroke:ci(p,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:Y,fill:"transparent",style:{cursor:N},onPointerDown:k})]})}case"":{const H=I.pepCount??12,Z=B*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:H}).map((P,F)=>{const J=F/H*360,G=na(J),O=Math.cos(G)*B,p=Math.sin(G)*B;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:O,y2:p,stroke:R,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:O,cy:p,r:Math.max(Z,1),fill:R,stroke:ci(R,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},F)})}),x.jsx("circle",{r:Y,fill:"transparent",style:{cursor:N},onPointerDown:k})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:w,fill:"transparent",style:{cursor:N},onPointerDown:k})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:w,fill:"transparent",style:{cursor:N},onPointerDown:k})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const I=y.find(Z=>Z.id===c.selectedLayerId);if(!I||!I.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const R=I.scale??1,U=m*R,H=Math.max(0,I.radius-U*.28);return H<=0?null:x.jsx("circle",{r:H,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,S+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Lm(c){const{leaf:r,project:a,paletteMap:i}=c,f=r.fabricSquareSize??a.fabricSquareSize,{length:o,width:v}=qt(f),y=r.scale??1,d=o*y,m=v*(r.widthScale??1)*y,_=ur(r.petalType),S=i.get(r.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??xr("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:w=>{if(w.stopPropagation(),w.button===0&&!r.locked){if(w.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(w)}},children:[x.jsx("path",{d:_,transform:`scale(${d} ${m})`,fill:S,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const w=r.doublePetal,M=w.innerSizeReduction??2,N=f*(y||1);if(N<=0)return null;const b=Math.max(N*.3,N-M)/N,k=w.innerColorId??r.colorId,I=i.get(k)?.hex??S,B=d*b,R=m*b;return x.jsx("path",{d:_,transform:`scale(${B} ${R})`,fill:I,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&x.jsx("path",{d:_,transform:`scale(${d*1.06} ${m*1.06})`,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${r.id}`),c.isSelected&&x.jsxs(x.Fragment,{children:[x.jsx("path",{d:_,transform:`scale(${d} ${m})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${r.id}`),x.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})]})}const tl=1350;function Tm(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:f,applyUpdateRef:o,clientToSvgPointRef:v,stencilDraggingRef:y,onSelectStencil:d}=c,m=ee.useRef(null);ee.useEffect(()=>()=>{m.current?.()},[]);const _=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return x.jsx(x.Fragment,{children:r.map(S=>{const w=zm(S.variant,S.pose),M=a===S.id,N=tn,g=w.imageUrl?1:w.scaleX,b=_||!!S.locked;return x.jsx("g",{transform:`translate(${S.position.x} ${S.position.y}) scale(${N*g} ${N})`,style:{cursor:_?"default":S.locked?"pointer":cm("/tsumami/"),pointerEvents:_?"none":"auto"},"data-testid":`stencil-${S.id}`,onPointerDown:k=>{if(k.button!==0)return;if(b){d(S.id);return}if(k.stopPropagation(),d(S.id),!f.current)return;y.current=!0,f.current&&(f.current.style.cursor=um("/tsumami/"));const B=v.current(k),R={...S.position},U=S.id;let Y=R.x,H=R.y;const Z=F=>{const J=v.current(F),G=J.x-B.x,O=J.y-B.y;Y=ye(R.x+G,0,tl),H=ye(R.y+O,0,tl),o.current(p=>{const h=(p.stencils??[]).find(z=>z.id===U);h&&(h.position.x=Y,h.position.y=H)},!1)},P=()=>{y.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",P),m.current=null,o.current(F=>{const J=(F.stencils??[]).find(G=>G.id===U);J&&(J.position.x=Y,J.position.y=H)},!0)};document.addEventListener("pointermove",Z),document.addEventListener("pointerup",P),m.current=()=>{y.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",P)}},children:w.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:w.imageUrl,x:-w.imageWidthMm/2,y:0,width:w.imageWidthMm,height:w.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-w.imageWidthMm/2,y:0,width:w.imageWidthMm,height:w.imageHeightMm,fill:"transparent",stroke:M?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:w.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:w.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),M&&x.jsx("path",{d:w.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},S.id)})})}function Em(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:v,dashSyncToken:y,stageRef:d,multiTouchRef:m,clientToSvgPoint:_,togglePetalSelection:S,handleShiftFlowerSelect:w,groupHighlightedFlowerIds:M,beginFlowerDrag:N,beginScaleDrag:g,beginRotationDrag:b,beginWidthScaleDrag:k,beginRadiusDrag:I,clickOriginRef:B,zoneActivatedRef:R,setZoneCursorValue:U,setTouchZoneIndicator:Y,hoverZoneRef:H,hoverHitLayerIdRef:Z,hoverHitPetalIndexRef:P}=c;return x.jsx(x.Fragment,{children:r.flowers.map(F=>x.jsx(Am,{flower:F,project:r,paletteMap:f,isSelected:a.kind!=="project"&&o===F.id||a.kind==="flowers"&&a.flowerIds.includes(F.id)||a.kind==="mixed"&&a.flowerIds.includes(F.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===F.id||a.kind==="flowers"&&a.flowerIds.includes(F.id)||a.kind==="mixed"&&a.flowerIds.includes(F.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===F.id?a.petals:null,onSelect:()=>{const J=ll(r,F.id);if(J&&!(a.kind==="group"&&a.groupId===J.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&J.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:J.id});return}i({kind:"flower",flowerId:F.id})},onSelectLayer:J=>i({kind:"layer",flowerId:F.id,layerId:J}),onSelectPetal:(J,G)=>i({kind:"petal",flowerId:F.id,layerId:J,index:G}),onTogglePetalSelection:(J,G,O)=>S(F.id,J,G,O),onShiftSelect:()=>w(F.id),isGroupHighlighted:M.has(F.id),zoneCursorValue:v,onBeginDragFromLayerPetal:(J,G,O)=>{if(m.current)return;const p=ll(r,F.id);if(p&&!(a.kind==="group"&&a.groupId===p.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&p.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:p.id}),N(F.id,O);return}const h=_(O),z=O.pointerType==="touch",D=a.kind==="flower"&&a.flowerId===F.id||a.kind==="layer"&&a.flowerId===F.id||a.kind==="petal"&&a.flowerId===F.id||a.kind==="petals"&&a.flowerId===F.id;if(z&&D){const{zone:L,layerId:j,petalIndex:E}=ui(h.x,h.y,F,r,a),{length:K}=qt(F.fabricSquareSize??r.fabricSquareSize),X=z0(L,a.kind,{hitLayerId:j,flower:F,length:K});if(X!=="none"&&X!=="center"&&X!=="move"){Y({x:h.x,y:h.y,zone:X});const Q=a.kind==="layer"?"layer":"flower",te=a.kind==="layer"?a.layerId:J;switch(X){case"rotate":b(Q,F.id,O,{layerId:te});return;case"scale":g(Q,F.id,O,{layerId:te});return;case"width":k(Q,F.id,O,{layerId:te,petalIndex:E});return;case"radius":I(Q,F.id,O,{layerId:te});return}}N(F.id,O,{layerId:J,index:G});return}const A=R.current;B.current={x:h.x,y:h.y},R.current=!1;const q=H.current;if(D&&(A||q!=="none"&&q!=="center")){const L=q,j=Z.current,E=P.current,K=a.kind==="layer"?"layer":"flower",X=a.kind==="layer"?a.layerId:j??J;switch(L){case"rotate":b(K,F.id,O,{layerId:X});return;case"scale":g(K,F.id,O,{layerId:X});return;case"width":k(K,F.id,O,{layerId:X,petalIndex:E});return;case"radius":I(K,F.id,O,{layerId:X});return;default:U(Gn("/tsumami/")),d.current&&(d.current.style.cursor=Gn("/tsumami/")),N(F.id,O,{layerId:J,index:G});return}}U(Gn("/tsumami/")),d.current&&(d.current.style.cursor=Gn("/tsumami/")),N(F.id,O,{layerId:J,index:G})},onDoubleClick:()=>i({kind:"flower",flowerId:F.id}),onPointerDown:J=>{if(m.current||J.button!==0)return;if(J.shiftKey){J.stopPropagation(),w(F.id);return}const G=ll(r,F.id);if(G&&!(a.kind==="group"&&a.groupId===G.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&G.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:G.id}),N(F.id,J);return}a.kind==="flower"&&a.flowerId===F.id||a.kind==="layer"&&a.flowerId===F.id||a.kind==="flowers"&&a.flowerIds.includes(F.id)||i({kind:"flower",flowerId:F.id});const p=_(J);B.current={x:p.x,y:p.y},R.current=!1,U(Gn("/tsumami/")),d.current&&(d.current.style.cursor=Gn("/tsumami/")),N(F.id,J)},dashSyncToken:y},F.id))})}function qm(c){const{leaves:r,project:a,selection:i,paletteMap:f,dashSyncToken:o,groupHighlightedLeafIds:v,zoneCursorValue:y,stageRef:d,applyUpdateRef:m,clientToSvgPointRef:_,leafDraggingRef:S,clickOriginRef:w,zoneActivatedRef:M,setZoneCursorValue:N,onSelectLeaf:g,onSelectGroup:b,onShiftSelectLeaf:k,hoverLeafZoneRef:I}=c,B=ee.useRef(null);return ee.useEffect(()=>()=>{B.current?.()},[]),x.jsx(x.Fragment,{children:r.map(R=>{if(!R.visible)return null;const U=i.kind==="leaf"&&i.leafId===R.id,Y=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(R.id),H=v.has(R.id),Z=zl(a,R.id),P=Z?.rotation??0;let F=R;if(Z&&P!==0){const J=Dh(a,Z.id),G=P*Math.PI/180,O=R.position.x-J.x,p=R.position.y-J.y;F={...R,position:{x:J.x+O*Math.cos(G)-p*Math.sin(G),y:J.y+O*Math.sin(G)+p*Math.cos(G)},rotation:R.rotation+P}}return x.jsx(Lm,{leaf:F,project:a,paletteMap:f,isSelected:U||Y,isLeafGroupHighlighted:H,dashSyncToken:o,cursor:U?y:void 0,onPointerDown:J=>{if(R.locked)return;J.stopPropagation();const G=_.current(J);if(Z&&!(i.kind==="group"&&i.groupId===Z.id||i.kind==="leaf"&&Z.leafIds.includes(i.leafId))){b(Z.id),S.current=!0,w.current={x:G.x,y:G.y},M.current=!1,N(Gn("/tsumami/")),d.current&&(d.current.style.cursor=Gn("/tsumami/"));const D=G,A=Hd(a,R.id),q=new Map;for(const X of A){const Q=r.find(te=>te.id===X);Q&&q.set(X,{...Q.position})}const L=new Map;if(Z)for(const X of Z.flowerIds){const Q=a.flowers.find(te=>te.id===X);Q&&L.set(X,{...Q.position})}let j=!1;const E=X=>{const Q=_.current(X),te=Q.x-D.x,re=Q.y-D.y;Math.abs(te)+Math.abs(re)>1&&(j=!0),m.current(oe=>{for(const[he,be]of q){const de=(oe.leaves??[]).find(pe=>pe.id===he);de&&(de.position.x=ye(be.x+te,0,tl),de.position.y=ye(be.y+re,0,tl))}for(const[he,be]of L){const de=oe.flowers.find(pe=>pe.id===he);de&&(de.position.x=ye(be.x+te,0,tl),de.position.y=ye(be.y+re,0,tl))}},!1)},K=()=>{B.current=null,S.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",K),j&&m.current(()=>{},!0)};document.addEventListener("pointermove",E),document.addEventListener("pointerup",K),B.current=()=>{S.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",K)};return}const O=U&&M.current;g(R.id),w.current={x:G.x,y:G.y},M.current=!1,N(Gn("/tsumami/")),d.current&&(d.current.style.cursor=Gn("/tsumami/"));const p=I.current,h=U&&(O||p!=="none")?p:"move";if(h!=="move"){const z=nr(h,"/tsumami/");N(z),d.current&&(d.current.style.cursor=z)}if(S.current=!0,h==="rotate"){const z=F.position,D=R.rotation,A=Math.atan2(G.y-z.y,G.x-z.x)*180/Math.PI;let q=!1;const L=E=>{const K=_.current(E),Q=Math.atan2(K.y-z.y,K.x-z.x)*180/Math.PI-A;Math.abs(Q)>.5&&(q=!0),m.current(te=>{const re=(te.leaves??[]).find(oe=>oe.id===R.id);re&&(re.rotation=((D+Q)%360+360)%360)},!1)},j=()=>{B.current=null,S.current=!1,document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",j),q&&m.current(()=>{},!0)};document.addEventListener("pointermove",L),document.addEventListener("pointerup",j),B.current=()=>{S.current=!1,document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",j)}}else if(h==="scale"){const z=F.position,D=R.scale??1,A=Math.max(1,Math.hypot(G.x-z.x,G.y-z.y));let q=!1;const L=E=>{const K=_.current(E),Q=Math.hypot(K.x-z.x,K.y-z.y)/A;Math.abs(Q-1)>.01&&(q=!0),m.current(te=>{const re=(te.leaves??[]).find(oe=>oe.id===R.id);re&&(re.scale=ye(D*Q,.3,3))},!1)},j=()=>{B.current=null,S.current=!1,document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",j),q&&m.current(()=>{},!0)};document.addEventListener("pointermove",L),document.addEventListener("pointerup",j),B.current=()=>{S.current=!1,document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",j)}}else if(h==="width"){const z=F.position,D=R.rotation*Math.PI/180,A=-Math.sin(D),q=Math.cos(D),L=R.widthScale??1,j=Math.abs((G.x-z.x)*A+(G.y-z.y)*q),E=Math.max(1,j);let K=!1;const X=te=>{const re=_.current(te),he=Math.abs((re.x-z.x)*A+(re.y-z.y)*q)/E;Math.abs(he-1)>.01&&(K=!0),m.current(be=>{const de=(be.leaves??[]).find(pe=>pe.id===R.id);de&&(de.widthScale=ye(L*he,.3,3))},!1)},Q=()=>{B.current=null,S.current=!1,document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Q),K&&m.current(()=>{},!0)};document.addEventListener("pointermove",X),document.addEventListener("pointerup",Q),B.current=()=>{S.current=!1,document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Q)}}else{const z=G,D=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(R.id)?i.leafIds:Hd(a,R.id),A=new Map;for(const X of D){const Q=r.find(te=>te.id===X);Q&&A.set(X,{...Q.position})}const q=new Map,L=zl(a,R.id);if(L)for(const X of L.flowerIds){const Q=a.flowers.find(te=>te.id===X);Q&&q.set(X,{...Q.position})}let j=!1;const E=X=>{const Q=_.current(X),te=Q.x-z.x,re=Q.y-z.y;Math.abs(te)+Math.abs(re)>1&&(j=!0),m.current(oe=>{for(const[he,be]of A){const de=(oe.leaves??[]).find(pe=>pe.id===he);de&&(de.position.x=ye(be.x+te,0,tl),de.position.y=ye(be.y+re,0,tl))}for(const[he,be]of q){const de=oe.flowers.find(pe=>pe.id===he);de&&(de.position.x=ye(be.x+te,0,tl),de.position.y=ye(be.y+re,0,tl))}},!1)},K=()=>{B.current=null,S.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",K),j&&m.current(()=>{},!0)};document.addEventListener("pointermove",E),document.addEventListener("pointerup",K),B.current=()=>{S.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",K)}}},onShiftSelect:()=>k(R.id)},R.id)})})}function Bm({rect:c}){return c?x.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function km({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?x.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}function Im(c){const{project:r,selection:a,selectedFlowerId:i,dashSyncToken:f}=c,o=ee.useMemo(()=>i?r.flowers.find(w=>w.id===i)??null:null,[r.flowers,i]),v=ee.useMemo(()=>{if(a.kind==="flowers")return r.flowers.filter(w=>a.flowerIds.includes(w.id));if(a.kind==="mixed")return r.flowers.filter(w=>a.flowerIds.includes(w.id));if(a.kind==="group"){const w=(r.groups??[]).find(M=>M.id===a.groupId);if(w)return r.flowers.filter(M=>w.flowerIds.includes(M.id))}return[]},[r.flowers,r.groups,a]);if(!o&&v.length===0)return null;const y=a.kind==="flower"&&o?.id===i,d=a.kind==="layer"?a.layerId:null,m=a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,_=a.kind==="petals"&&o?a.petals:null,S=o&&(y||d!=null||m!=null||_&&_.length>0);return x.jsxs("g",{pointerEvents:"none",children:[v.map(w=>x.jsx(Zd,{flower:w,project:r,isFlowerSelected:!0,selectedLayerId:null,selectedPetal:null,selectedPetals:null,dashSyncToken:f},`overlay-multi-${w.id}`)),S&&o&&x.jsx(Zd,{flower:o,project:r,isFlowerSelected:y,selectedLayerId:d,selectedPetal:m,selectedPetals:_,dashSyncToken:f},`overlay-single-${o.id}`)]})}function Zd(c){const{flower:r,project:a,isFlowerSelected:i,selectedLayerId:f,selectedPetal:o,selectedPetals:v,dashSyncToken:y}=c,d=ee.useMemo(()=>[...r.layers||[]].sort((k,I)=>k.order-I.order),[r.layers]),m=r.fabricSquareSize??a.fabricSquareSize,{length:_,width:S}=qt(m),w=ee.useMemo(()=>{let k=12;for(const I of d){if(!I.visible)continue;const B=I.scale??1,R=_*B,H=Math.max(0,I.radius-R*.28)+R;k=Math.max(k,H)}return k},[d,_]),M=i||f!=null||o!=null||v&&v.length>0,N=ur(""),g=ur(""),b=(k,I)=>k?.petalOverrides?.find(B=>B.index===I)??null;return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,children:[M&&o==null&&!v?.length&&x.jsx("circle",{r:Math.max(12,w),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke"}),d.map(k=>{if(!k.visible)return null;const I=360/Math.max(1,k.petalCount),B=k.scale??1,R=_*B,Y=S*(k.widthScale??1)*B,Z=Math.max(0,k.radius-R*.28),P=Z+R,F=f===k.id,J=o?.layerId===k.id||(v?.some(G=>G.layerId===k.id)??!1);return x.jsxs("g",{children:[Array.from({length:k.petalCount}).map((G,O)=>{const z=(b(k,O)?.petalType??k.petalType)===""?N:g,D=k.offsetAngle+O*I,A=na(D),q=Math.cos(A)*Z,L=Math.sin(A)*Z,j=o?.layerId===k.id&&o?.index===O,E=v?.some(X=>X.layerId===k.id&&X.index===O)??!1;return j||E||F||i?x.jsx("g",{transform:`translate(${q} ${L}) rotate(${D})`,children:x.jsx("path",{d:z,transform:`scale(${R} ${Y})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95},`dash-overlay-${y}-${k.id}-${O}`)},O):null}),F&&!J&&x.jsx("circle",{r:P,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})]},k.id)}),i&&x.jsx("circle",{r:w,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke"}),(()=>{if(!f)return null;const k=d.find(H=>H.id===f);if(!k||!k.visible||o!=null||(v?.length??0)>0)return null;const B=k.scale??1,R=_*B,Y=Math.max(0,k.radius-R*.28);return Y<=0?null:x.jsx("circle",{r:Y,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})})()]})}const Sa=1350;function Rm(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,setZoom:v,zoomLevel:y,setZoomLevel:d,ZOOM_LEVELS:m,setPan:_,showGrid:S,setShowGrid:w,setShowHelp:M,stageRef:N,viewBox:g,dashDelay:b,dashSyncToken:k,beginPan:I,updatePan:B,endPan:R,beginMarquee:U,updateMarquee:Y,endMarquee:H,marqueeRef:Z,marqueeRect:P,beginFlowerDrag:F,updateFlowerDrag:J,endFlowerDrag:G,scaleDragRef:O,updateScaleDrag:p,endScaleDrag:h,rotationDragRef:z,updateRotationDrag:D,endRotationDrag:A,widthScaleDragRef:q,updateWidthScaleDrag:L,endWidthScaleDrag:j,radiusDragRef:E,updateRadiusDrag:K,endRadiusDrag:X,beginScaleDrag:Q,beginRotationDrag:te,beginWidthScaleDrag:re,beginRadiusDrag:oe,togglePetalSelection:he,clientToSvgPoint:be}=c,de=ee.useRef(!1),pe=ee.useRef(!1),Te=ee.useRef(c.applyUpdate),Je=ee.useRef(be);ee.useEffect(()=>{Te.current=c.applyUpdate},[c.applyUpdate]),ee.useEffect(()=>{Je.current=be},[be]);const[Be,vt]=ee.useState(!1),zt=ee.useRef(null);ee.useEffect(()=>{if(!Be)return;const fe=ke=>{zt.current&&!zt.current.contains(ke.target)&&vt(!1)};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[Be]);const[Lt,dt]=ee.useState("grab"),Ut=ee.useRef("none"),nn=ee.useRef("none"),Jn=ee.useRef(void 0),Vn=ee.useRef(void 0),Fe=ee.useRef(null),vn=ee.useRef(!0),Dl=5,il=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,rl=ee.useRef(il);ee.useEffect(()=>{il!==rl.current&&(rl.current=il,vn.current=!1,Fe.current=null,Ut.current="none",nn.current="none",Jn.current=void 0,Vn.current=void 0)},[il]);const[Nl,aa]=ee.useState(!1),Wn=ee.useRef(!1),[oi,On]=ee.useState(null),Bt=5,yn=10,Oe=Nm({zoom:c.zoom,pan:c.pan,setZoom:v,setPan:_,zoomLevel:y,setZoomLevel:d,ZOOM_LEVELS:m,stageRef:N,endPan:R,endFlowerDrag:G,endMarquee:H,endRotationDrag:A,endScaleDrag:h,endWidthScaleDrag:j,endRadiusDrag:X});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y>=m.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Oe.zoomAtCenter(1),disabled:y>=m.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Oe.zoomAtCenter(-1),disabled:y<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>w(fe=>!fe),title:"","aria-label":"","aria-pressed":S,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Oe.resetView(5,m[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:zt,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Be?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>vt(fe=>!fe),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Be&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(fe=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:n1[fe]}),["right","left","back"].map(ke=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(fe,ke),vt(!1)},"data-testid":`stencil-add-${fe}-${ke}`,children:l1[ke]},`${fe}-${ke}`))]},fe)),c.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),vt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>M(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:S?"24px 1fr":"1fr",gridTemplateRows:S?"20px 1fr":"1fr"},children:[S&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),S&&(()=>{const[fe,,ke,Ie]=g.split(/\s+/).map(Number),we=tn,_e=Math.max(ke,Ie)/we,ze=[10,20,50,100,200,500,1e3].find(Le=>_e/Le<=15)??1e3,Ce=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,$e=ze<=10?5:ze/2,et=Math.floor(fe/we/Ce)*Ce-Ce,Ve=Math.ceil((fe+ke)/we/Ce)*Ce+Ce,We=[];for(let Le=et;Le<=Ve;Le+=Ce){const tt=(Le*we-fe)/ke*100;if(tt<-2||tt>102)continue;const Dt=Math.abs(Le),rt=Dt%ze===0,lt=Dt%$e===0,mt=rt?10:lt?6:3;We.push(x.jsx("line",{x1:`${tt}%`,y1:20-mt,x2:`${tt}%`,y2:20,stroke:"#999",strokeWidth:rt?.8:.4},Le)),rt&&We.push(x.jsx("text",{x:`${tt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Le},`t${Le}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:We})})(),S&&(()=>{const[,fe,ke,Ie]=g.split(/\s+/).map(Number),we=tn,_e=Math.max(ke,Ie)/we,ze=[10,20,50,100,200,500,1e3].find(Le=>_e/Le<=15)??1e3,Ce=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,$e=ze<=10?5:ze/2,et=Math.floor(fe/we/Ce)*Ce-Ce,Ve=Math.ceil((fe+Ie)/we/Ce)*Ce+Ce,We=[];for(let Le=et;Le<=Ve;Le+=Ce){const tt=(Le*we-fe)/Ie*100;if(tt<-2||tt>102)continue;const Dt=Math.abs(Le),rt=Dt%ze===0,lt=Dt%$e===0,mt=rt?10:lt?6:3;We.push(x.jsx("line",{x1:24-mt,y1:`${tt}%`,x2:24,y2:`${tt}%`,stroke:"#999",strokeWidth:rt?.8:.4},Le)),rt&&We.push(x.jsx("text",{x:12,y:`${tt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Le},`t${Le}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:We})})(),x.jsxs("svg",{ref:N,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:g,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":b,cursor:Nl?"crosshair":"grab"},onDoubleClick:fe=>{fe.target===fe.currentTarget&&(aa(ke=>!ke),i({kind:"project"}))},onPointerDown:fe=>{if(Oe.multiTouchRef.current)return;if(fe.button===1){Wn.current=!0,N.current&&(N.current.style.cursor="grabbing"),I(fe);return}if(fe.button!==0)return;const ke=fe.pointerType==="touch";if(ke&&fe.target===fe.currentTarget&&o){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const we=r.flowers.find(_e=>_e.id===o);if(we){const _e=be(fe),{zone:Ae,layerId:ze,petalIndex:Ce}=ui(_e.x,_e.y,we,r,a),{length:$e}=qt(we.fabricSquareSize??r.fabricSquareSize),et=z0(Ae,a.kind,{hitLayerId:ze,flower:we,length:$e});if(et!=="none"&&et!=="center"){On({x:_e.x,y:_e.y,zone:et});const Ve=a.kind==="layer"?"layer":"flower",We=a.kind==="layer"?a.layerId:ze;switch(et){case"rotate":te(Ve,o,fe,{layerId:We});return;case"scale":Q(Ve,o,fe,{layerId:We});return;case"width":re(Ve,o,fe,{layerId:We,petalIndex:Ce});return;case"radius":oe(Ve,o,fe,{layerId:We});return;case"move":F(o,fe);return}}}}Oe.setTouchBgStart({x:fe.clientX,y:fe.clientY}),I(fe);return}if(fe.target===fe.currentTarget&&o&&Lt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const we=Ut.current;if(we!=="none"&&we!=="center"){const _e=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:Jn.current;switch(we){case"rotate":te(_e,o,fe,{layerId:Ae});return;case"scale":Q(_e,o,fe,{layerId:Ae});return;case"width":re(_e,o,fe,{layerId:Ae,petalIndex:Vn.current});return;case"radius":oe(_e,o,fe,{layerId:Ae});return;case"move":F(o,fe);return}}}if(fe.target===fe.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&Lt!=="grab"){const Ie=nn.current;if(Ie!=="none"){const we=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(we){fe.preventDefault();const _e=be(fe);if(pe.current=!0,Ie==="rotate"){const Ae=we.position,ze=we.rotation,Ce=Math.atan2(_e.y-Ae.y,_e.x-Ae.x)*180/Math.PI,$e=we.id,et=nr(Ie,"/tsumami/");dt(et),N.current&&(N.current.style.cursor=et);let Ve=!1;const We=kt=>{const tt=be(kt),rt=Math.atan2(tt.y-Ae.y,tt.x-Ae.x)*180/Math.PI-Ce;Math.abs(rt)>.5&&(Ve=!0),c.applyUpdate(lt=>{const mt=(lt.leaves??[]).find(pn=>pn.id===$e);mt&&(mt.rotation=((ze+rt)%360+360)%360)},!1)},Le=()=>{pe.current=!1,document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",Le),Ve&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",We),document.addEventListener("pointerup",Le);return}else if(Ie==="scale"){const Ae=we.position,ze=we.scale??1,Ce=Math.max(1,Math.hypot(_e.x-Ae.x,_e.y-Ae.y)),$e=we.id,et=nr(Ie,"/tsumami/");dt(et),N.current&&(N.current.style.cursor=et);let Ve=!1;const We=kt=>{const tt=be(kt),rt=Math.hypot(tt.x-Ae.x,tt.y-Ae.y)/Ce;Math.abs(rt-1)>.01&&(Ve=!0),c.applyUpdate(lt=>{const mt=(lt.leaves??[]).find(pn=>pn.id===$e);mt&&(mt.scale=Math.max(.3,Math.min(3,ze*rt)))},!1)},Le=()=>{pe.current=!1,document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",Le),Ve&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",We),document.addEventListener("pointerup",Le);return}else if(Ie==="width"){const Ae=we.position,ze=we.rotation*Math.PI/180,Ce=-Math.sin(ze),$e=Math.cos(ze),et=we.widthScale??1,Ve=Math.max(1,Math.abs((_e.x-Ae.x)*Ce+(_e.y-Ae.y)*$e)),We=we.id,Le=nr(Ie,"/tsumami/");dt(Le),N.current&&(N.current.style.cursor=Le);let kt=!1;const tt=rt=>{const lt=be(rt),pn=Math.abs((lt.x-Ae.x)*Ce+(lt.y-Ae.y)*$e)/Ve;Math.abs(pn-1)>.01&&(kt=!0),c.applyUpdate(Ca=>{const Xt=(Ca.leaves??[]).find(De=>De.id===We);Xt&&(Xt.widthScale=Math.max(.3,Math.min(3,et*pn)))},!1)},Dt=()=>{pe.current=!1,document.removeEventListener("pointermove",tt),document.removeEventListener("pointerup",Dt),kt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",tt),document.addEventListener("pointerup",Dt);return}else{const Ae=_e,ze={...we.position},Ce=we.id;dt(Gn("/tsumami/")),N.current&&(N.current.style.cursor=Gn("/tsumami/"));let $e=!1;const et=We=>{const Le=be(We),kt=Le.x-Ae.x,tt=Le.y-Ae.y;Math.abs(kt)+Math.abs(tt)>1&&($e=!0),c.applyUpdate(Dt=>{const rt=(Dt.leaves??[]).find(lt=>lt.id===Ce);rt&&(rt.position.x=Math.max(0,Math.min(Sa,ze.x+kt)),rt.position.y=Math.max(0,Math.min(Sa,ze.y+tt)))},!1)},Ve=()=>{pe.current=!1,document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",Ve),$e&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",et),document.addEventListener("pointerup",Ve);return}}}}if(fe.target===fe.currentTarget){ke?(Oe.setTouchBgStart({x:fe.clientX,y:fe.clientY}),I(fe)):Nl?U(fe):(Oe.setMouseBgStart({x:fe.clientX,y:fe.clientY}),Wn.current=!0,N.current&&(N.current.style.cursor="grabbing"),I(fe));return}},onPointerMove:fe=>{if(de.current||pe.current)return;if(Z.current){Y(fe);return}if(z.current){D(fe);return}if(O.current){p(fe);return}if(q.current){L(fe);return}if(E.current){K(fe);return}J(fe),B(fe);const ke=!!c.dragRef?.current||!!Z.current||!!z.current||!!O.current||!!q.current||!!E.current||Wn.current,Ie=o&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!ke&&Ie){const we=r.flowers.find(_e=>_e.id===o);if(we){const _e=be(fe);if(Fe.current&&!vn.current){if(Math.hypot(_e.x-Fe.current.x,_e.y-Fe.current.y)<Dl){const{zone:Le}=ui(_e.x,_e.y,we,r,a);Le==="center"&&(dt("pointer"),N.current&&(N.current.style.cursor="pointer"));return}vn.current=!0,Fe.current=null}const{zone:Ae,layerId:ze,petalIndex:Ce}=ui(_e.x,_e.y,we,r,a),{length:$e}=qt(we.fabricSquareSize??r.fabricSquareSize),et=z0(Ae,a.kind,{hitLayerId:ze,flower:we,length:$e});et!=="none"&&(Ut.current=et,Jn.current=ze,Vn.current=Ce);const Ve=Ud(et,"/tsumami/");dt(Ve),N.current&&(N.current.style.cursor=Ve)}}if(!ke&&a.kind==="leaf"&&c.selectedLeafId){const we=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(we){const _e=be(fe);if(Fe.current&&!vn.current){if(Math.hypot(_e.x-Fe.current.x,_e.y-Fe.current.y)<Dl)return;vn.current=!0,Fe.current=null}const Ae=rm(_e.x,_e.y,we,r);Ae!=="none"&&(nn.current=Ae);const ze=nr(Ae,"/tsumami/");dt(ze),N.current&&(N.current.style.cursor=ze)}}},onPointerUp:fe=>{if(!de.current&&!pe.current){if(On(null),Z.current&&Nl&&aa(!1),H(),A(),h(),j(),X(),G(),R(),Wn.current&&(Wn.current=!1,N.current&&(N.current.style.cursor=Nl?"crosshair":"grab")),Oe.touchBgStartRef.current&&fe.pointerType==="touch"){const ke=fe.clientX-Oe.touchBgStartRef.current.x,Ie=fe.clientY-Oe.touchBgStartRef.current.y;Math.hypot(ke,Ie)<yn&&i({kind:"project"}),Oe.setTouchBgStart(null);return}if(Oe.setTouchBgStart(null),Oe.mouseBgStartRef.current&&fe.pointerType==="mouse"){const ke=fe.clientX-Oe.mouseBgStartRef.current.x,Ie=fe.clientY-Oe.mouseBgStartRef.current.y;if(Oe.setMouseBgStart(null),Math.hypot(ke,Ie)<Bt){i({kind:"project"});return}}if(Oe.setMouseBgStart(null),o){const ke=r.flowers.find(Ie=>Ie.id===o);if(ke){const Ie=be(fe);if(Fe.current&&Math.hypot(Ie.x-Fe.current.x,Ie.y-Fe.current.y)<Dl){const{zone:Ve}=ui(Ie.x,Ie.y,ke,r,a);Ve==="center"&&(dt("pointer"),N.current&&(N.current.style.cursor="pointer"));return}const{zone:we,layerId:_e,petalIndex:Ae}=ui(Ie.x,Ie.y,ke,r,a),{length:ze}=qt(ke.fabricSquareSize??r.fabricSquareSize),Ce=z0(we,a.kind,{hitLayerId:_e,flower:ke,length:ze});Ce!=="none"&&(Ut.current=Ce,Jn.current=_e,Vn.current=Ae);const $e=Ud(Ce,"/tsumami/");dt($e),N.current&&(N.current.style.cursor=$e)}}}},onPointerLeave:()=>{H(),A(),h(),j(),X(),G(),R(),Wn.current=!1,Oe.setTouchBgStart(null),Oe.setMouseBgStart(null),dt("grab"),Fe.current=null,vn.current=!0,Ut.current="none",nn.current="none",Jn.current=void 0,Vn.current=void 0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[fe,ke,Ie,we]=g.split(/\s+/).map(Number),_e=Sa;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:fe,y:ke,width:Ie,height:we,fill:"white"}),x.jsx("rect",{x:0,y:0,width:_e,height:_e,fill:"black"})]})}),x.jsx("rect",{x:fe,y:ke,width:Ie,height:we,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:Sa,height:Sa,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:Sa,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:Sa,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),S&&(()=>{const fe=tn,[ke,Ie,we,_e]=g.split(/\s+/).map(Number),Ae=Math.max(we,_e)/fe,Ce=[10,20,50,100,200,500,1e3].find(lt=>Ae/lt<=15)??1e3,$e=Math.floor(ke/fe/Ce)*Ce-Ce,et=Math.ceil((ke+we)/fe/Ce)*Ce+Ce,Ve=Math.floor(Ie/fe/Ce)*Ce-Ce,We=Math.ceil((Ie+_e)/fe/Ce)*Ce+Ce,Le=Ve*fe,kt=We*fe,tt=$e*fe,Dt=et*fe,rt=[];for(let lt=$e;lt<=et;lt+=Ce){const mt=lt*fe;rt.push(x.jsx("line",{x1:mt,y1:Le,x2:mt,y2:kt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=Ve;lt<=We;lt+=Ce){const mt=lt*fe;rt.push(x.jsx("line",{x1:tt,y1:mt,x2:Dt,y2:mt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return x.jsx("g",{children:rt})})(),x.jsx(Tm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:N,applyUpdateRef:Te,clientToSvgPointRef:Je,stencilDraggingRef:de,onSelectStencil:c.onSelectStencil}),x.jsx(Em,{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:Lt,dashSyncToken:k,stageRef:N,multiTouchRef:Oe.multiTouchRef,clientToSvgPoint:be,togglePetalSelection:he,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:F,beginScaleDrag:Q,beginRotationDrag:te,beginWidthScaleDrag:re,beginRadiusDrag:oe,clickOriginRef:Fe,zoneActivatedRef:vn,setZoneCursorValue:dt,setTouchZoneIndicator:On,hoverZoneRef:Ut,hoverHitLayerIdRef:Jn,hoverHitPetalIndexRef:Vn}),x.jsx(qm,{leaves:c.leaves,project:r,selection:a,paletteMap:f,dashSyncToken:k,selectedLeafId:c.selectedLeafId,groupHighlightedLeafIds:c.groupHighlightedLeafIds,zoneCursorValue:Lt,stageRef:N,applyUpdateRef:Te,clientToSvgPointRef:Je,leafDraggingRef:pe,clickOriginRef:Fe,zoneActivatedRef:vn,setZoneCursorValue:dt,onSelectLeaf:c.onSelectLeaf,onSelectGroup:c.onSelectGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:nn}),x.jsx(Im,{project:r,selection:a,selectedFlowerId:o,dashSyncToken:k}),x.jsx(Bm,{rect:P}),x.jsx(km,{indicator:oi})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Xd(c,r,a){return Math.min(a,Math.max(r,c))}function Ze({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:f,className:o,...v}){const[y,d]=ee.useState(null),m=ee.useRef(null),_=ee.useCallback(M=>{const N=Number(M);isNaN(N)||r(Xd(N,a,i)),d(null)},[r,a,i]),S=ee.useCallback(()=>{d(null)},[]),w=ee.useCallback(M=>{const N=f??1,b=(Number(y??c)||0)+N*M,k=Xd(b,a,i),I=String(N).includes(".")?String(N).split(".")[1].length:0,B=Number(k.toFixed(I));d(String(B)),r(B)},[y,c,f,a,i,r]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:m,type:"text",inputMode:"decimal",className:o??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:y??String(c),onChange:M=>d(M.target.value),onFocus:M=>{d(String(c)),requestAnimationFrame(()=>M.target.select())},onBlur:()=>{y!==null&&_(y)},onKeyDown:M=>{M.key==="Enter"?(M.preventDefault(),y!==null&&_(y),m.current?.blur()):M.key==="Escape"?(M.preventDefault(),S(),m.current?.blur()):(M.key==="ArrowUp"||M.key==="ArrowDown")&&(M.preventDefault(),w(M.key==="ArrowUp"?1:-1))},...v}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:M=>{M.preventDefault(),w(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:M=>{M.preventDefault(),w(-1)},children:""})]})]})}function fr({title:c,compact:r,children:a}){return x.jsxs("div",{className:r?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),x.jsx("div",{className:"space-y-3",children:a})]})}function Gm({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const o=ee.useMemo(()=>{const b=[...c.layers||[]].sort((P,F)=>P.order-F.order);if(b.length<2)return{mode:"uniform",step:2};const k=b.map(P=>P.scale??1);if(k.every(P=>Math.abs(P-k[0])<.001))return{mode:"uniform",step:2};const B=b[0],R=b[b.length-1],U=(R.order??1)-(B.order??1);if(U<=0)return{mode:"gradual",step:2};const H=((B.scale??1)-(R.scale??1))/U,Z=Math.round(H*r*2)/2;return{mode:"gradual",step:ye(Z,0,10)}},[c.id]),[v,y]=ee.useState(o.mode),[d,m]=ee.useState(o.step),[_,S]=ee.useState(0);ee.useEffect(()=>{y(o.mode),m(o.step),S(0)},[o]);const w=ee.useMemo(()=>[...c.layers||[]].sort((b,k)=>b.order-k.order),[c.layers]),M=w[0],N=M?M.order:0,g=ee.useMemo(()=>{if(!M)return[];const b=M.scale??1,k=M.radius,I=new Map;for(const P of w){const F=P.order-N;if(F===0)I.set(P.id,b);else if(v==="uniform")I.set(P.id,b);else{const J=d/r;I.set(P.id,ye(b-F*J,.3,3))}}const{length:B}=qt(r),R=w.length,U=70*Math.PI/180,Y=new Map;let H=k;Y.set(M.id,k);for(let P=1;P<R;P++){const F=w[P-1],J=I.get(F.id)??1,G=B*J;let O;if(a===""){const p=R-1-P,h=R>1?p/(R-1)*U:0;O=G*(30/100)*Math.cos(h)}else O=G/3;H=H-O,Y.set(w[P].id,Math.max(2,H))}const Z=w.map(P=>{const F=I.get(P.id)??1,J=Math.round((Y.get(P.id)??k)*10)/10,G=Math.round(r*F*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:F,effFabricSize:G,effRadius:J}});if(Z.length>0){const P=Z[Z.length-1],F=B*P.effScale,J=Math.floor(F*.28*10)/10;P.effRadius>J&&(P.effRadius=J)}return Z},[w,M,N,v,d,30,r,a]);return ee.useEffect(()=>{_!==0&&(!M||g.length===0||i(b=>{const k=b.flowers.find(B=>B.id===c.id);if(!k)return;for(const B of g){const R=k.layers.find(U=>U.id===B.id);R&&(R.scale=ye(B.effScale,.3,3),R.radius=ye(B.effRadius,2,120))}const I=[...k.layers].sort((B,R)=>R.order-B.order);for(let B=1;B<I.length;B++){const R=I[B-1],U=I[B];U.offsetAngle=nl(R.petalCount,R.offsetAngle,U.petalCount)}}))},[_]),w.length<2?null:x.jsxs(fr,{title:"",children:[x.jsxs(wx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:v,onChange:b=>{y(b.target.value),S(k=>k+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),v==="gradual"&&x.jsxs(wx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,min:0,max:10,step:.5,onChange:b=>{m(b),S(k=>k+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),g.map(b=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:b.name}),x.jsxs("span",{children:[" ",b.effFabricSize,"mm /  ",Math.round(ar(b.effRadius,b.effScale,r)),"mm"]})]},b.id))]})]})}const a1="tsumami_recent_colors_v1",Hx=10;function Hm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const f of i.petalOverrides)f.colorId&&r.add(f.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Nx(){try{const c=localStorage.getItem(a1);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,Hx)}}catch{}return[]}function Om(c){try{localStorage.setItem(a1,JSON.stringify(c.slice(0,Hx)))}catch{}}function Ym(c){const r=Nx(),a=[c,...r.filter(i=>i!==c)].slice(0,Hx);Om(a)}function Xn({palette:c,project:r,selectedColorId:a,onChange:i,size:f="md"}){const[o,v]=ee.useState(!1),y=ee.useRef(null),[d,m]=ee.useState(Nx);ee.useEffect(()=>{if(!o)return;const g=b=>{y.current&&!y.current.contains(b.target)&&v(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[o]);const _=ee.useMemo(()=>Hm(r),[r]),S=ee.useMemo(()=>{const g=new Set;g.add(a);for(const b of _)g.add(b);for(const b of d)g.add(b);return c.filter(b=>g.has(b.id))},[c,a,_,d]),w=ee.useCallback(g=>{Ym(g),m(Nx()),i(g)},[i]),M=f==="sm"?"h-4 w-4":"h-5 w-5",N=o?c:S;return x.jsx("div",{ref:y,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[N.map(g=>x.jsx("button",{className:`${M} rounded border-2 ${a===g.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:g.hex},title:g.name,"aria-label":`: ${g.name}`,onClick:()=>w(g.id)},g.id)),c.length>S.length&&x.jsx("button",{className:`${M} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>v(g=>!g),title:o?"":"","aria-label":o?"":"",children:x.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:o?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Um({project:c,applyUpdate:r,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(i=>{const f=a.layers.every(o=>o.petalType===i);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const v=o.flowers.find(y=>y.id===a.id);if(v)for(const y of v.layers)y.petalType=i}),children:i},i)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Fd.map(i=>{const f=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==i&&r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;v.placementMode=i;const y=v.fabricSquareSize??o.fabricSquareSize;i===""?v.baseDiameter=lr(v.flowerDiameter):v.baseDiameter||(v.baseDiameter=o.baseDiameter),Rh(v.layers,y,i,v.flowerDiameter)},!0)},children:i},i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(Ze,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.baseDiameter=i)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[lr(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(f=>{const o=f.flowers.find(d=>d.id===a.id);if(!o)return;const v=si(i);for(const d of o.layers)d.petalCount=i,d.widthScale=v;const y=[...o.layers].sort((d,m)=>m.order-d.order);for(let d=1;d<y.length;d++)y[d].offsetAngle=nl(y[d-1].petalCount,y[d-1].offsetAngle,y[d].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ze,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(f=>{const o=f.flowers.find(y=>y.id===a.id);if(!o)return;o.flowerDiameter=i,o.placementMode===""&&(o.baseDiameter=lr(i));const v=[...o.layers].sort((y,d)=>y.order-d.order);W0(v,o.fabricSquareSize??f.fabricSquareSize,i);for(const y of v){const d=o.layers.find(m=>m.id===y.id);d&&(d.radius=y.radius,d.scale=y.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.widthScale=i})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.rotation=i)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.colorId=i})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)if(i.target.checked){if(!v.doublePetal){const y=v._doublePetalCache;v.doublePetal=y??{innerSizeReduction:2},delete v._doublePetalCache}}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(y=>y.doublePetal.innerSizeReduction))],f=i.length===1?i[0]:null,o=[...new Set(a.layers.map(y=>y.doublePetal.innerColorId??y.colorId))],v=o.length===1?o[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:y=>r(d=>{const m=d.flowers.find(_=>_.id===a.id);if(m)for(const _ of m.layers)_.doublePetal&&(_.doublePetal.innerSizeReduction=ye(y,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:c.palette,project:c,selectedColorId:v??"",onChange:y=>r(d=>{const m=d.flowers.find(_=>_.id===a.id);if(m)for(const _ of m.layers)_.doublePetal&&(y===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=y)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Kh.map(i=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.type=i,i===""&&!o.center.pepCount&&(o.center.pepCount=12),i===""&&!o.center.color2&&(o.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.size=i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color2=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.pepCount=i)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&delete f.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&(f.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Gm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Km({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:f,onAddToGroup:o,onMergeGroups:v}){const y=a,d=[...new Set(y.flatMap(S=>S.layers.map(w=>w.petalType)))],m=d.length===1?d[0]:null,_=S=>{r(w=>{for(const M of y){const N=w.flowers.find(g=>g.id===M.id);N&&S(N)}},!0)};return x.jsxs(fr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[y.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(S=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:S.hex},title:S.name,onClick:()=>_(w=>{for(const M of w.layers)M.colorId=S.id})},S.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:al.map(S=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${m===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>_(w=>{for(const M of w.layers)M.petalType=S}),children:S},S))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Ze,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:S=>{const w=si(S);_(M=>{for(const g of M.layers)g.petalCount=S,g.widthScale=w;const N=[...M.layers].sort((g,b)=>b.order-g.order);for(let g=1;g<N.length;g++)N[g].offsetAngle=nl(N[g-1].petalCount,N[g-1].offsetAngle,N[g].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(S=>x.jsxs("div",{children:[S.name," (",S.layers.length,")"]},S.id))}),(()=>{const S=y.map(b=>ll(c,b.id)),w=y.filter(b=>!ll(c,b.id)).map(b=>b.id),M=[...new Set(S.filter(Boolean).map(b=>b.id))],N=w.length===y.length,g=M.length===1&&S.every(b=>b!=null);return x.jsxs(x.Fragment,{children:[N&&y.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(y.map(b=>b.id)),children:""}),g&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(M[0]),children:""}),M.length===1&&w.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(M[0],w),children:[" (+",w.length,")"]}),M.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(M,w),children:[" (",M.length,"",w.length>0?` +${w.length}`:"",")"]})]})})()]})}function Zm({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:f,onUngroupFlowers:o,onUngroupAll:v}){const y=i.find(M=>M.id===f);if(!y)return null;const d=a,m=(c.leaves??[]).filter(M=>y.leafIds.includes(M.id)),_=[...new Set(d.flatMap(M=>M.layers.map(N=>N.petalType)))],S=_.length===1?_[0]:null,w=M=>{r(N=>{for(const g of d){const b=N.flowers.find(k=>k.id===g.id);b&&M(b)}},!0)};return x.jsxs(fr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:y.name,onChange:M=>r(N=>{const g=(N.groups??[]).find(b=>b.id===y.id);g&&(g.name=M.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[d.length>0&&x.jsxs("span",{children:[d.length,""]}),d.length>0&&m.length>0&&x.jsx("span",{children:" + "}),m.length>0&&x.jsxs("span",{children:[m.length,""]})]}),d.length>0&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(M=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:M.hex},title:M.name,onClick:()=>w(N=>{for(const g of N.layers)g.colorId=M.id})},M.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:al.map(M=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S===M?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>w(N=>{for(const g of N.layers)g.petalType=M}),children:M},M))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Ze,{min:5,max:24,value:d[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:M=>{const N=si(M);w(g=>{for(const k of g.layers)k.petalCount=M,k.widthScale=N;const b=[...g.layers].sort((k,I)=>I.order-k.order);for(let k=1;k<b.length;k++)b[k].offsetAngle=nl(b[k-1].petalCount,b[k-1].offsetAngle,b[k].petalCount)})}})]}),x.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[d.map(M=>x.jsxs("div",{children:[M.name," (",M.layers.length,")"]},M.id)),m.map(M=>x.jsx("div",{children:M.name},M.id))]}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(y.id),children:""}),x.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>v(y.id),children:""})]})}function Xm({project:c,flowerIds:r,leafIds:a,onGroupMixed:i,onUngroupFlowers:f,onAddToGroup:o,onAddLeavesToGroup:v,onMergeGroups:y}){const d=c.flowers.filter(I=>r.includes(I.id)),m=(c.leaves??[]).filter(I=>a.includes(I.id)),_=r.map(I=>ll(c,I)),S=a.map(I=>zl(c,I)),w=[..._,...S],M=r.filter(I=>!ll(c,I)),N=a.filter(I=>!zl(c,I)),g=[...new Set(w.filter(Boolean).map(I=>I.id))],b=M.length+N.length===r.length+a.length,k=g.length===1&&w.every(I=>I!=null);return x.jsxs(fr,{title:"",children:[x.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",d.length," +  ",m.length,""]}),x.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[d.map(I=>x.jsxs("div",{children:[" ",I.name]},I.id)),m.map(I=>x.jsxs("div",{children:[" ",I.name||""]},I.id))]}),x.jsxs(x.Fragment,{children:[b&&d.length+m.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(r,a),children:""}),k&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(g[0]),children:""}),g.length===1&&(M.length>0||N.length>0)&&!b&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{M.length>0&&o(g[0],M),N.length>0&&v(g[0],N)},children:[" (+",M.length+N.length,")"]}),g.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>y(g,M),children:[" (",g.length,")"]})]})]})}function Jm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);y&&(y.name=f.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(f=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);y&&(y.petalType=f)}),children:f},f))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:5,max:24,value:i.petalCount,onChange:f=>{r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);if(y){y.petalCount=f,y.widthScale=si(f);const d=[...v.layers].sort((m,_)=>_.order-m.order);for(let m=1;m<d.length;m++)d[m].offsetAngle=nl(d[m-1].petalCount,d[m-1].offsetAngle,d[m].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ze,{min:1,max:200,step:.5,value:Math.round(ar(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);y&&(y.radius=ye(Ih(f,y.scale??1,v.fabricSquareSize??o.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ze,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:f=>r(o=>{const v=o.flowers.find(S=>S.id===a.id);if(!v)return;const y=v.layers.find(S=>S.id===i.id);if(!y)return;const d=v.fabricSquareSize??o.fabricSquareSize;y.scale=ye(Math.round(f/d*100)/100,.3,3);const m=[...v.layers].sort((S,w)=>S.order-w.order),_=m.findIndex(S=>S.id===y.id);if(_>=0)for(let S=_-1;S>=0;S--){const w=m[S],M=m[S+1],g=qt(d).length*(M.scale??1)/3;w.radius=Math.round((M.radius+g)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);y&&(y.scale=f)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);y&&(y.widthScale=f)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{value:Number(i.offsetAngle??0).toFixed(1),onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);y&&(y.offsetAngle=f)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);y&&(y.colorId=f)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);if(y)if(f.target.checked){const d=y._doublePetalCache;y.doublePetal=d??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);y?.doublePetal&&(y.doublePetal.innerSizeReduction=ye(f,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);y?.doublePetal&&(f===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=f)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);y&&(y.visible=f.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const y=v.layers.find(d=>d.id===i.id);y&&(y.locked=f.target.checked)})}),""]})]})]})]})}function Vm({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const f=i,o=f.map(b=>{const k=a.layers.find(I=>I.id===b.layerId);return{...b,layer:k}}).filter(b=>b.layer!=null),v=(b,k)=>{const I=a.layers.find(R=>R.id===b);return I?(I?.petalOverrides?.find(R=>R.index===k)??null)?.colorId??I.colorId:null},y=(b,k)=>{const I=a.layers.find(R=>R.id===b);return I?(I?.petalOverrides?.find(R=>R.index===k)??null)?.petalType??I.petalType:null},d=o.map(b=>v(b.layerId,b.index)),m=o.map(b=>y(b.layerId,b.index)),_=d.length>0&&d.every(b=>b===d[0]),w=m.length>0&&m.every(b=>b===m[0])?m[0]:null,M=b=>{r(k=>{const I=k.flowers.find(B=>B.id===a.id);if(I)for(const B of f){const R=I.layers.find(Y=>Y.id===B.layerId);if(!R)continue;R.petalOverrides||(R.petalOverrides=[]);const U=R.petalOverrides.find(Y=>Y.index===B.index);if(U)b.colorId!==void 0&&(b.colorId===R.colorId?delete U.colorId:U.colorId=b.colorId),b.petalType!==void 0&&(b.petalType===R.petalType?delete U.petalType:U.petalType=b.petalType),!U.colorId&&!U.petalType&&(R.petalOverrides=R.petalOverrides.filter(Y=>Y.index!==B.index),R.petalOverrides.length===0&&(R.petalOverrides=void 0));else{const Y={index:B.index};b.colorId!==void 0&&b.colorId!==R.colorId&&(Y.colorId=b.colorId),b.petalType!==void 0&&b.petalType!==R.petalType&&(Y.petalType=b.petalType),(Y.colorId!==void 0||Y.petalType!==void 0)&&R.petalOverrides.push(Y)}}},!0)},N=()=>{r(b=>{const k=b.flowers.find(I=>I.id===a.id);if(k)for(const I of f){const B=k.layers.find(R=>R.id===I.layerId);!B||!B.petalOverrides||(B.petalOverrides=B.petalOverrides.filter(R=>R.index!==I.index),B.petalOverrides.length===0&&(B.petalOverrides=void 0))}},!0)},g=o.some(b=>b.layer?.petalOverrides?.find(k=>k.index===b.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",g&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(b=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${_&&d[0]===b.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:b.hex},title:b.name,"aria-label":`: ${b.name}`,onClick:()=>M({colorId:b.id})},b.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(b=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${w===b?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>M({petalType:b}),children:b},b))})]}),g&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:N,children:""})]})]})}function Wm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:f}){const o=i?.petalOverrides?.find(S=>S.index===f)??null,v=o?.colorId??i.colorId,y=o?.petalType??i.petalType,d=o!=null,m=S=>{r(w=>{const M=w.flowers.find(b=>b.id===a.id);if(!M)return;const N=M.layers.find(b=>b.id===i.id);if(!N)return;N.petalOverrides||(N.petalOverrides=[]);const g=N.petalOverrides.find(b=>b.index===f);if(g)S.colorId!==void 0&&(g.colorId=S.colorId),S.petalType!==void 0&&(g.petalType=S.petalType),S.innerColorId!==void 0&&(g.innerColorId=S.innerColorId),S.innerSizeReduction!==void 0&&(g.innerSizeReduction=S.innerSizeReduction),g.colorId!==void 0||g.petalType!==void 0||g.innerColorId!==void 0||g.innerSizeReduction!==void 0?(g.colorId===void 0&&delete g.colorId,g.petalType===void 0&&delete g.petalType,g.innerColorId===void 0&&delete g.innerColorId,g.innerSizeReduction===void 0&&delete g.innerSizeReduction):(N.petalOverrides=N.petalOverrides.filter(k=>k.index!==f),N.petalOverrides.length===0&&(N.petalOverrides=void 0));else{const b={index:f};S.colorId!==void 0&&(b.colorId=S.colorId),S.petalType!==void 0&&(b.petalType=S.petalType),S.innerColorId!==void 0&&(b.innerColorId=S.innerColorId),S.innerSizeReduction!==void 0&&(b.innerSizeReduction=S.innerSizeReduction),(b.colorId!==void 0||b.petalType!==void 0||b.innerColorId!==void 0||b.innerSizeReduction!==void 0)&&N.petalOverrides.push(b)}},!0)},_=()=>{r(S=>{const w=S.flowers.find(N=>N.id===a.id);if(!w)return;const M=w.layers.find(N=>N.id===i.id);!M||!M.petalOverrides||(M.petalOverrides=M.petalOverrides.filter(N=>N.index!==f),M.petalOverrides.length===0&&(M.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",f+1,d&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:c.palette,project:c,selectedColorId:v,onChange:S=>{S===i.colorId?m({colorId:void 0}):m({colorId:S})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(S=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{S===i.petalType?m({petalType:void 0}):m({petalType:S})},children:S},S))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:S=>r(w=>{const M=w.flowers.find(g=>g.id===a.id);if(!M)return;const N=M.layers.find(g=>g.id===i.id);if(N)if(S.target.checked){const g=N._doublePetalCache;N.doublePetal=g??{innerSizeReduction:2},delete N._doublePetalCache}else N.doublePetal&&(N._doublePetalCache={...N.doublePetal}),delete N.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const S=i.doublePetal,w=o?.innerSizeReduction??S.innerSizeReduction,M=o?.innerColorId??S.innerColorId??v;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",o?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(Ze,{min:1,max:30,step:1,value:w,onChange:N=>{const g=ye(N,1,30);g===S.innerSizeReduction?m({innerSizeReduction:void 0}):m({innerSizeReduction:g})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:c.palette,project:c,selectedColorId:M,size:"sm",onChange:N=>{const g=S.innerColorId??i.colorId;m(N===g?{innerColorId:void 0}:{innerColorId:N})}})]})]})})(),d&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:_,children:""})]})]})}function Qm({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const f=a,o=v=>{r(y=>{const d=(y.stencils??[]).find(m=>m.id===f.id);d&&Object.assign(d,v)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:v=>o({variant:v.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(v=>x.jsx("option",{value:v,children:n1[v]},v))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:v=>o({pose:v.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(v=>x.jsx("option",{value:v,children:l1[v]},v))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:v=>o({locked:v.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Pm({project:c,applyUpdate:r,selectedLeaf:a,groups:i,onDeleteLeaf:f,onAddLeafToGroup:o,onRemoveLeafFromGroup:v}){const y=a,d=_=>{r(S=>{const w=(S.leaves??[]).find(M=>M.id===y.id);w&&_(w)},!0)},m=zl(c,y.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:y.name,onChange:_=>d(S=>{S.name=_.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(_=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y.petalType===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>d(S=>{S.petalType=_}),children:_},_))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:c.palette,project:c,selectedColorId:y.colorId,onChange:_=>d(S=>{S.colorId=_})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ze,{min:3,max:80,step:.5,value:Math.round((y.fabricSquareSize??c.fabricSquareSize)*(y.scale??1)*10)/10,onChange:_=>d(S=>{const w=S.fabricSquareSize??c.fabricSquareSize;S.scale=ye(Math.round(_/w*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:.4,max:2.5,step:.05,value:Number(y.scale??1).toFixed(2),onChange:_=>d(S=>{S.scale=_})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(y.widthScale??1).toFixed(2),onChange:_=>d(S=>{S.widthScale=_})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Ze,{value:Number(y.rotation).toFixed(1),onChange:_=>d(S=>{S.rotation=_})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.doublePetal,onChange:_=>d(S=>{if(_.target.checked){const w=S._doublePetalCache;S.doublePetal=w??{innerSizeReduction:2},delete S._doublePetalCache}else S.doublePetal&&(S._doublePetalCache={...S.doublePetal}),delete S.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),y.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{min:1,max:30,step:1,value:y.doublePetal.innerSizeReduction,onChange:_=>d(S=>{S.doublePetal&&(S.doublePetal.innerSizeReduction=ye(_,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:c.palette,project:c,selectedColorId:y.doublePetal.innerColorId??y.colorId,onChange:_=>d(S=>{S.doublePetal&&(_===S.colorId?delete S.doublePetal.innerColorId:S.doublePetal.innerColorId=_)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.visible,onChange:_=>d(S=>{S.visible=_.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.locked,onChange:_=>d(S=>{S.locked=_.target.checked})}),""]})]}),m?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",m.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>v(y.id),children:""})]}):i.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:_=>{_.target.value&&o(y.id,_.target.value)},children:[x.jsx("option",{value:"",children:"..."}),i.map(_=>x.jsx("option",{value:_.id,children:_.name},_.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(y.id),children:""})]})]})}function Fm({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:f,onAddLeavesToGroup:o,onMergeLeafGroups:v}){const y=(c.leaves??[]).filter(d=>a.includes(d.id));return y.length===0?null:x.jsxs(fr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[y.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Xn,{palette:c.palette,project:c,selectedColorId:"",onChange:d=>r(m=>{for(const _ of a){const S=(m.leaves??[]).find(w=>w.id===_);S&&(S.colorId=d)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(d=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(m=>{for(const _ of a){const S=(m.leaves??[]).find(w=>w.id===_);S&&(S.petalType=d)}},!0),children:d},d))}),(()=>{const d=y.map(M=>zl(c,M.id)),m=y.filter(M=>!zl(c,M.id)).map(M=>M.id),_=[...new Set(d.filter(Boolean).map(M=>M.id))],S=m.length===y.length,w=_.length===1&&d.every(M=>M!=null);return x.jsxs(x.Fragment,{children:[S&&y.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),w&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(_[0]),children:""}),_.length===1&&m.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(_[0],m),children:[" (+",m.length,")"]}),_.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(_,m),children:[" (",_.length,"",m.length>0?` +${m.length}`:"",")"]})]})})()]})}function $m(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:f,selectedFlowers:o,selectedLayer:v,selectedPetalIndex:y,selectedPetals:d}=c;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:m=>i(_=>_.title=m.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{value:r.fabricSquareSize,min:5,max:60,onChange:m=>i(_=>_.fabricSquareSize=m),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{value:r.baseDiameter,min:10,max:100,onChange:m=>i(_=>_.baseDiameter=m),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",la(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",la(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:m=>i(_=>_.notes=m.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(m=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:m.hex},title:m.name},m.id))})]})]})]}),a.kind==="flower"&&f&&x.jsx(Um,{project:r,applyUpdate:i,selectedFlower:f}),a.kind==="flowers"&&o.length>0&&x.jsx(Km,{project:r,applyUpdate:i,selectedFlowers:o,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&x.jsx(Zm,{project:r,applyUpdate:i,selectedFlowers:o,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers,onUngroupAll:c.onUngroupAll}),a.kind==="layer"&&f&&v&&x.jsx(Jm,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:v}),a.kind==="petals"&&f&&d.length>0&&x.jsx(Vm,{project:r,applyUpdate:i,selectedFlower:f,selectedPetals:d}),a.kind==="petal"&&f&&v&&y!==null&&x.jsx(Wm,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:v,selectedPetalIndex:y}),a.kind==="stencil"&&c.selectedStencil&&x.jsx(Qm,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&x.jsx(Pm,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,groups:c.groups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Fm,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="mixed"&&x.jsx(Xm,{project:r,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:c.onGroupMixed,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeGroups:c.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!f?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function eb(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?la(c.baseDiameter,c.fabricSquareSize,r).diameter:cr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function tb(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Eh(c.flowerDiameter,c.baseDiameter,r):Th(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function nb({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:f}){const o=d=>{a(m=>{const _={...m,...d};return d.placementMode&&d.placementMode!==m.placementMode&&(d.placementMode===""?(_.baseDiameter=30,_.fabricSquareSize=20,_.layerCount=4,_.petalCount=12):(_.fabricSquareSize=20,_.layerCount=1,_.petalCount=6)),_.flowerDiameter=eb(_),_})},v=d=>{a(m=>{const _={...m,flowerDiameter:d};return _.fabricSquareSize=tb(_),_})},y=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&y.push("");const d=qh(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>d&&y.push(`${d}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:d=>d.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Fd.map(d=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>o({placementMode:d}),children:d},d))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:d=>o({fabricSquareSize:d})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:d=>o({layerCount:d})})]})]}),r.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:d=>o({baseDiameter:d})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:d=>a(m=>({...m,petalCount:d}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:v})]})]}),y.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:y.map((d,m)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:d},m))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(d=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===d.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>a(m=>({...m,colorId:d.id}))},d.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:al.map(d=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(m=>({...m,petalType:d})),children:d},d))})]}),r.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:d=>o({sizeStepMm:d})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function lb(c){return Math.round(c*Math.SQRT2/2*10)/10}function ab(c){return Math.round(c*Math.SQRT2*10)/10}function ib({palette:c,addLeafOpts:r,setAddLeafOpts:a,onConfirm:i,onCancel:f}){const o=y=>{a(d=>({...d,fabricSquareSize:y,leafSizeMm:lb(y)}))},v=y=>{a(d=>({...d,leafSizeMm:y,fabricSquareSize:ab(y)}))};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:y=>y.stopPropagation(),"data-testid":"dialog-add-leaf",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:o})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:r.leafSizeMm,onChange:v})]})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(y=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===y.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:y.hex},title:y.name,"aria-label":`: ${y.name}`,onClick:()=>a(d=>({...d,colorId:y.id}))},y.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:al.map(y=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:y})),children:y},y))})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-leaf",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}(function(c,r){const a=bn,i=c();for(;;)try{if(parseInt(a(473))/1+-parseInt(a(465))/2+-parseInt(a(416))/3+parseInt(a(445))/4+parseInt(a(427))/5+parseInt(a(431))/6+-parseInt(a(421))/7===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,376570);const rb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ax=rb(void 0,function(){const c=bn,r={NckxM:c(452)};return Ax[c(462)]().search(r[c(448)])[c(462)]()[c(469)](Ax)[c(423)](c(452))});Ax();function bn(c,r){c=c-416;const a=U0();let i=a[c];if(bn.NtltZh===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};bn.HXQGmf=f,bn.chVjVt={},bn.NtltZh=!0}const o=a[0],v=c+o,y=bn.chVjVt[v];if(y)i=y;else{const d=function(m){this.OzMXuR=m,this.jTfDsa=[1,0,0],this.wZueml=function(){return"newState"},this.zJJfea="\\w+ *\\(\\) *{\\w+ *",this.VPojvV=`['|"].+['|"];? *}`};d.prototype.hXotVP=function(){const m=new RegExp(this.zJJfea+this.VPojvV),_=m.test(this.wZueml.toString())?--this.jTfDsa[1]:--this.jTfDsa[0];return this.ygjKBD(_)},d.prototype.ygjKBD=function(m){return~m?this.IPPTYj(this.OzMXuR):m},d.prototype.IPPTYj=function(m){for(let _=0,S=this.jTfDsa.length;_<S;_++)this.jTfDsa.push(Math.round(Math.random())),S=this.jTfDsa.length;return m(this.jTfDsa[0])},new d(bn).hXotVP(),i=bn.HXQGmf(i),bn.chVjVt[v]=i}return i}const i1="tsumami-panel-widths",r1={left:25,right:25},Lx=15,Tx=15,sr=30;function U0(){const c=["CM91BMq","AxLZu0W","mtq3ntqXnNLxq1jKrq","Bwf4","ywrKrxzLBNrmAxn0zw5LCG","BgvMDa","y29UC3rYDwn0B3i","Bg96v1i","rKryvNi","BM9Uzq","nJy0ntyXu3z2tuLk","DxnLCLnLBgvJDa","sNrOwKq","t0nQzgi","y29SlxjLC2L6zq","v1f6suu","tNjcBw8","r1vPz1C","otqYmZyZA1PyAMD4","Bwf0y2HLCW","qvnyDNK","rungzwm","ChjLDMvUDerLzMf1Bhq","mtGWotq0nev2EuvhsG","Cg9PBNrLCM1VDMu","C2vHCMnO","zez0zfi","zurSEhG","CMLNAhq","nZC3ntqWz0fuzMX6","y3vYC29Y","y3vYCMvUDa","Bwf0y2HnzwrPyq","mJm4ndi4nNLfr2zjvW","CgfYC2u","CgPrt3y","D2LKDgG","qxDIqMW","v0PwwMm","yM9KEq","Dw5KzwzPBMvK","BNvTyMvY","Aw5oBey","B0HLquK","sejgvxy","y2XPzw50wa","C3rHCNrxAwr0Ahm","mtG3nZC2nhHvu3rLBq","BwLU","sgz0wMO","tMnREe0","C3r5Bgu","y2HHBMDL","vKzxtva","kcGOlISPkYKRksSK","z2v0sxrLBq","Cg9PBNrLCNvW","C2LKzq","CMvTB3zLrxzLBNrmAxn0zw5LCG","wejMDwm","kg1PBI13Awr0AdOGnZy4ChGP","C3bSAxq","y09Isw0","ALPIz3C","Dg9tDhjPBMC"];return U0=function(){return c},U0()}function cb(){const c=bn,r={YOWvB:function(a,i){return a===i},YsqCH:c(439),XBfuc:function(a,i){return a>=i},rSlUR:function(a,i){return a-i}};try{const a=localStorage[c(453)](i1);if(a){const i=JSON[c(432)](a);if(typeof i.left===c(439)&&r.YOWvB(typeof i.right,r.YsqCH)&&i.left>=Lx&&i[c(426)]>=Tx&&r[c(457)](r.rSlUR(100,i.left)-i[c(426)],sr))return i}}catch{}return r1}function Jd(c,r){const a=bn,i={oHeAI:function(y,d){return y-d},HBFUv:function(y,d){return y===d},WQzIE:"tEzfk",GUigW:function(y,d){return y/d}};let f=Math.max(Lx,c),o=Math[a(466)](Tx,r);const v=i[a(441)](i[a(441)](100,f),o);if(v<sr)if(i[a(442)](i[a(478)],"tEzfk")){const y=sr-v;f-=y/2,o-=y/2,f=Math[a(466)](Lx,f),o=Math.max(Tx,o)}else return _0x2a13fe;return{left:i[a(480)](Math[a(463)](f*100),100),right:Math[a(463)](o*100)/100}}function ub(){const c=bn,r={dFtdR:c(458),FDXVr:function(N,g){return N-g},WJVZc:"NrBmo",inNlF:function(N,g){return N*g},cObIm:function(N,g){return N/g},ECFec:function(N,g){return N===g},JthZD:function(N,g){return N(g)},bhnWd:function(N,g,b){return N(g,b)},aXYYn:function(N,g){return N-g},lozWR:function(N,g){return N>=g},yoBNl:function(N,g){return N!==g},ALqpH:c(477),sYcYr:c(472),CDNXg:"pointerup",ASXvy:"Qmedj",eDlxx:function(N,g){return N(g)},zJLJo:function(N,g){return N(g)},iysSL:function(N,g,b){return N(g,b)},OCjdb:function(N,g,b){return N(g,b)}},[a,i]=ee.useState(cb),f=ee.useRef(null),o=r[c(425)](ee.useRef,null),[v,y]=ee.useState(!1),[d,m]=r.zJLJo(ee.useState,()=>typeof window!==c(438)?window[c(430)](c(458)).matches:!0);ee.useEffect(()=>{const N=c,g=window.matchMedia(r[N(424)]),b=k=>m(k[N(417)]);return g[N(467)]("change",b),()=>g[N(456)](N(450),b)},[]),ee.useEffect(()=>{const N=c;if(N(479)!==r[N(436)]){const g=_0x29a0be.startWidths.right-_0x2239c8,b=r[N(471)](100,_0x599fb4[N(444)].left)-_0xb52f8b;_0x2ef5ad(_0x8353ef(_0x20ac36.startWidths.left,_0x2fe73d[N(446)](g,b)))}else localStorage.setItem(i1,JSON.stringify(a))},[a]);const _=ee.useRef(a);ee.useEffect(()=>{_.current=a},[a]);const S=r[c(464)](ee.useCallback,(N,g)=>{const b=c,k={FLglj:function(U,Y){return U===Y},AwbBl:b(439),HftZj:function(U,Y){return r[b(470)](U,Y)},JoKmK:function(U,Y){return r.yoBNl(U,Y)},jZbgw:"pointermove",ugufi:"5|4|3|1|2|0"};g[b(420)]();const I=f[b(429)];if(!I)return;o.current={side:N,startX:g[b(443)],startWidths:{..._[b(429)]}},r[b(475)](y,!0),document[b(437)][b(449)].cursor=r.ALqpH,document[b(437)].style.userSelect=r.sYcYr;const B=U=>{const Y=b,H=o.current;if(!H)return;const Z=I.getBoundingClientRect()[Y(434)];if(Z===0)return;const P=U[Y(443)]-H.startX,F=r[Y(440)](r[Y(460)](P,Z),100);if(r[Y(419)](H[Y(455)],"left")){const J=H.startWidths.left+F,G=r[Y(471)](r.FDXVr(100,H.startWidths.right),sr);r.JthZD(i,r.bhnWd(Jd,Math.min(J,G),H[Y(444)][Y(426)]))}else{const J=r.FDXVr(H.startWidths.right,F),G=r.aXYYn(100,H[Y(444)][Y(468)])-sr;r.JthZD(i,Jd(H.startWidths.left,Math.min(J,G)))}},R=()=>{const U=b;if(k.JoKmK(U(433),"pjQOv")){const Y=_0x4dc34a.getItem(_0x561f1a);if(Y){const H=_0x1f113e.parse(Y);if(xCAmLz.FLglj(typeof H.left,xCAmLz.AwbBl)&&typeof H.right===xCAmLz[U(435)]&&xCAmLz[U(447)](H.left,_0x5b19cd)&&H[U(426)]>=_0x36169f&&xCAmLz.HftZj(100-H.left-H.right,_0x4cf688))return H}}else o[U(429)]=null,y(!1),document.body.style[U(428)]="",document.body[U(449)].userSelect="",window.removeEventListener(k[U(461)],B),window.removeEventListener(U(454),R)};window[b(467)](b(422),B),window.addEventListener(r.CDNXg,R),w.current=()=>{const U=b,Y=k.ugufi[U(459)]("|");let H=0;for(;;){switch(Y[H++]){case"0":document.body.style[U(474)]="";continue;case"1":y(!1);continue;case"2":document.body[U(449)][U(428)]="";continue;case"3":o[U(429)]=null;continue;case"4":window[U(456)](U(454),R);continue;case"5":window[U(456)](k.jZbgw,B);continue}break}}},[]),w=ee.useRef(null);r[c(476)](ee.useEffect,()=>{const N=c,g={GwUKL:r[N(418)]};if(N(451)==="VFWMP")return()=>{if(g.GwUKL==="Qmedj")w.current?.();else return()=>{_0x1f86d3.current?.()}};_0x41d678.setItem(_0x2d61c1,_0x17dc63.stringify(_0x4a7a09))},[]);const M=r[c(464)](ee.useCallback,()=>{r[c(425)](i,r1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:S,onDividerDoubleClick:M,isDragging:v,isDesktop:d}}function Vd({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>r(c,f),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}function K0(){const c=["rxbKuMO","DvvWy00","rK1Uyw8","zMLSDgvY","BerRB0y","C29YDa","nZaWmZm0vfLksfL2","mtaWmdqZmeLVwM9OBa","BhnUtuC","y29SB3jjza","q01zzM0","vu9TyKq","z0rxsue","vg1Rs1O","CM91BMq","z2r2rvG","BgvUz3rO","tMvIsK4","yvvzwhi","vM9PDhO","AeThq0K","zMXVD2vYswq","q3f1sLu","wLfHwK0","Dw5ZAgLMDa","otmWnZeZBNPUuvfd","v1HutKm","Cgv0ywXdB3vUDa","Dw5PzM9YBq","BgvHDMvZ","BgvHzKLKCW","oeP5z2rssW","BwPqDwG","BxbTAfy","C2nHBgu","Bwf0y2G","wxn4C1G","vuPxCMm","rfzjtha","Aw5JBhvKzxm","yMfJAW","Bgf5zxjZ","zMXVD2vYCW","A2r2DLe","s1jrzgi","AhDJzKW","C2vHCMnO","DvrrvuG","CMfKAxvZ","zvbfwM4","D1DjtNm","DhjoCvm","zMXVD2vYrgLHBwv0zxi","zgzJrNO","ndu4ntGZmfLhvfzirG","BgPtthi","CgXHy2vTzw50tw9Kzq","rxjIs0q","yMfZzurPyw1LDgvY","te9TvLe","y29WEKi","C29Tzq","nMzcyufgBa","zNjLBey","CezkC1G","tM5wA3q","qxvOsxy","tvHbENy","ufrsrui","CMv2zxjZzq","Cgv0ywXZ","qMPyCK8","CKniDKW","A2LUza","EM1Jrfa","mtmWmdi5tfbdEKjk","44kW44oR44o844oxia","t0Tiv0K","BwL4zwq","reLbq1y","AgvPCg0","DxnWvvq","wMTnyuK","zMfICMLJu3f1yxjLu2L6zq","B2zMC2v0qw5NBgu","z01fu1G","r3fqC3a","zgLHBwv0zxi","q09WD0W","y29Z","AKn3D2i","Bwr3yvy","D1nmy0G","sMjwEvi","BgvHzG","sufLq2S","yLPwBKi","DxfLD2y","5lI444gK44g+44g/","yM9jseu","Bwf4","q21Yu3G","C3rLBMnPBhm","C2XPy2u","rKfArNu","Bgf5zxjjza","A1HKwfy","ChjVAMvJDa","BfbxAfG","tuLiDwm","yNvvyuu","D1rLtfy","z0rSA3u","vgrdugK","t3PWwKm","Bgf5zxi","zMLUza","nJq1m2ztseHpqq","vvrzshO","ChjLDMLVDxnhCM91Chm","u2DmCfK","zM9YrwfJAa","BMfTzq","r215Dvy","zencB2S","tNDvEe0","tfrHCMG","z3jW","sMPNs0C","zMXVD2vYswrZ","sg5sBLK","z3jVDxa","wNHQq1G","ChvZAa","v3PjBhC","ENDWBMC","AK1Ozum","qLvXs24","wK9cq3C","C3rLBMnPBeLK","y1Hty0G","CMrqDu8","u1b6vw0","Cgv0ywW","nta5nJe2DwXQtLb4","z3jVDxbjza","z1HcEfC","wuzmA2m","BwfW","DufivhK","wwjdvNu","rNDZswS","A214r2m","u09Mv2y","AgLOwwu","quL0zwe","twXmwgy","qvrXD1C","BuXlsfa","ntuZnKrWCgXuta","qwvHwxm","AgTev1a","B3vushO","zvLcrwm","zMXVD2vY","z3jVDxbZ","tMjuteC","wKPNzvC","ENfXAfi","wLbRCu0","venQuNm","B3jKzxi","zgPor3q"];return K0=function(){return c},K0()}(function(c,r){const a=_t,i=c();for(;;)try{if(-parseInt(a(457))/1+parseInt(a(319))/2+parseInt(a(388))/3+parseInt(a(344))/4*(-parseInt(a(320))/5)+parseInt(a(375))/6*(-parseInt(a(338))/7)+-parseInt(a(299))/8*(-parseInt(a(430))/9)+parseInt(a(367))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,305510);const xb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ex=xb(void 0,function(){const c=_t,r={JbVyR:"(((.+)+)+)+$"};return Ex.toString()[c(359)](r[c(406)]).toString().constructor(Ex)[c(359)]("(((.+)+)+)+$")});Ex();function _t(c,r){c=c-288;const a=K0();let i=a[c];if(_t.whddXB===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};_t.GUHquv=f,_t.vZYPSC={},_t.whddXB=!0}const o=a[0],v=c+o,y=_t.vZYPSC[v];if(y)i=y;else{const d=function(m){this.fSJvcl=m,this.LXLVzt=[1,0,0],this.EVhbCA=function(){return"newState"},this.eFholw="\\w+ *\\(\\) *{\\w+ *",this.rteMla=`['|"].+['|"];? *}`};d.prototype.JAmryc=function(){const m=new RegExp(this.eFholw+this.rteMla),_=m.test(this.EVhbCA.toString())?--this.LXLVzt[1]:--this.LXLVzt[0];return this.NiPjlD(_)},d.prototype.NiPjlD=function(m){return~m?this.iCylcr(this.fSJvcl):m},d.prototype.iCylcr=function(m){for(let _=0,S=this.LXLVzt.length;_<S;_++)this.LXLVzt.push(Math.round(Math.random())),S=this.LXLVzt.length;return m(this.LXLVzt[0])},new d(_t).JAmryc(),i=_t.GUHquv(i),_t.vZYPSC[v]=i}return i}function sb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:f,setExpandedGroups:o,zoom:v,pan:y,stageSize:d,CANVAS_MAX_SVG:m,deleteLeafById:_}){const S=_t,w={uUpcM:function(p,h){return p/h},YFLkc:function(p,h){return p-h},mjPuh:function(p,h){return p-h},LOmVQ:function(p,h){return p*h},GqPsp:function(p,h){return p+h},gdvEX:function(p,h){return p===h},AeaYs:function(p,h){return p!==h},EpdRj:"EIbtw",gDlku:function(p,h){return p(h)},buUaE:function(p,h,z){return p(h,z)},ZOBCw:S(420),JjgKG:function(p,h){return p!==h},WRqvj:"STyzO",LZVfP:function(p,h){return p<=h},NbTLG:function(p,h){return p(h)},CCknd:function(p,h,z){return p(h,z)},KRQdb:function(p,h){return p>h},Voitz:function(p,h){return p(h)},hKGCI:S(444),kdvvQ:function(p,h){return p===h},ezAvK:function(p,h,z,D,A){return p(h,z,D,A)},zqqhR:function(p,h,z,D){return p(h,z,D)},IAeCk:function(p,h){return p<h},jMheC:function(p,h){return p(h)},YsxsX:"col_green",CqaEm:"HAggL",ePEZn:"yLTnk",Rjuip:function(p,h){return p-h},GmyuV:function(p,h,z,D){return p(h,z,D)},Npixx:function(p,h){return p<=h},hkDWP:function(p,h){return p(h)},YTdbe:function(p,h,z){return p(h,z)},lPWhX:function(p,h){return p===h},uWceY:function(p,h){return p(h)},heipm:"flower",uqewf:S(456),UJWrc:function(p,h){return p(h)},MIHuc:"KLbiu",LTarh:function(p,h){return p>h},wRntH:function(p,h){return p===h},CMYfm:"uniform",rCHvL:"cKomw",MwKJu:function(p,h){return p-h},PKfQM:function(p,h){return p===h},eYBEc:S(342),YbCVu:function(p,h){return p===h},TccIn:S(417),uTQUH:"sOSde",wTeLV:S(355),hwcfL:S(450),OOFkC:function(p,h,z){return p(h,z)},nROxv:function(p,h){return p===h},GJkEw:"mLKHP",boIHE:function(p,h){return p(h)},tuCWn:"WzIlw",vHPMR:"grp",IyVUG:function(p,h,z){return p(h,z)},TmkKZ:function(p,h){return p===h},yOucG:"leaf",SEzdB:S(370),frelF:function(p,h){return p+h},HXoMD:function(p,h,z){return p(h,z)},IaqQO:S(346),aZuJB:S(317),YcaqG:function(p,h){return p/h},ILtAX:"back",JVYhu:function(p,h){return p/h},nlmiD:function(p,h){return p(h)},DVILp:function(p,h,z){return p(h,z)},OzpZC:function(p,h){return p===h},ZRIqr:"stencil",uspUT:function(p,h){return p===h},PTREB:"LvuXX",zwpng:function(p,h){return p!==h},ZxjCX:S(459),TECoM:function(p,h){return p(h)},NwxJR:S(292),ofbGA:function(p,h){return p(h)},QAQHL:function(p,h){return p(h)},ZAMmR:function(p,h){return p===h},SeLtg:function(p,h){return p!==h},Ikunn:S(309),dCBok:S(339),BjXrO:S(368),YPGIG:function(p,h){return p(h)},AzEIs:"mixed",gDWIA:function(p,h){return p(h)},zmcDP:S(383),AItea:function(p,h){return p===h},lsnMG:function(p,h){return p(h)},CpgpU:function(p,h){return p===h},RhnWQ:function(p,h){return p!==h},oidFu:"ZVuDF",djNGt:"renVr",RdaOu:function(p,h){return p===h},NuDoU:function(p,h){return p(h)},tzipO:function(p,h){return p(h)},gyRXq:function(p,h,z){return p(h,z)},LSauO:function(p,h,z){return p(h,z)}},M=p=>{const h=S,z=[...p.layers][h(318)]((E,K)=>E.order-K[h(311)]),D=z[0];if(!D)return 28;const A=p[h(396)]??c[h(396)],{length:q}=qt(A),L=q*(D[h(347)]??1);let j;if(p[h(369)]==="")j=w.uUpcM(L,3);else{const K=70*Math.PI/180,X=z[h(329)]+1,Q=w[h(460)](X,1),te=X>1?Q/w[h(345)](X,1)*K:0;j=w[h(372)](L*(30/100),Math[h(402)](te))}return Math.round(w.GqPsp(D[h(361)]??28,j)*10)/10},N=p=>{const h=S,z={COpwL:function(D,A){return w[_t(425)](D,A)},bZVnB:"mixed",IqJyw:function(D,A){return D(A)}};w.buUaE(r,D=>{const A=_t;if(w.gdvEX(A(390),A(438)))z[A(401)](_0x552d99,{kind:z[A(409)],flowerIds:[_0xc45b08],leafIds:[_0x10d520.leafId]});else if(D[A(355)]=(D.flowers||[]).filter(q=>q.id!==p),D.groups)if(w[A(300)](w[A(313)],w.EpdRj)){z.IqJyw(_0x40dca8,_0x491ae9);return}else{for(const q of D.groups)q[A(442)]=q[A(442)][A(316)](L=>L!==p);D[A(305)]=D.groups[A(316)](q=>q.flowerIds[A(329)]+q[A(343)][A(329)]>0)}},!0),w[h(425)](i,{kind:w.ZOBCw}),f(D=>{const A={...D||{}};return delete A[p],A})},g=(p,h)=>{const z=S,D={SgLpY:function(A,q){return A(q)},uKIxm:"flower"};if(w[z(441)](w.WRqvj,"InMqq")){const A=c.flowers[z(429)](q=>q.id===p);if(A&&w.LZVfP((A[z(354)]||[]).length,1)){w[z(306)](N,p);return}w.CCknd(r,q=>{const L=z,j=(q[L(355)]||[]).find(E=>E.id===p);j&&(j[L(354)]=(j[L(354)]||[])[L(316)](E=>E.id!==h),j.layers.slice()[L(318)]((E,K)=>E.order-K[L(311)]).forEach((E,K)=>E[L(311)]=K+1))},!0),i({kind:"flower",flowerId:p})}else D[z(433)](_0x20de7c,{kind:D.uKIxm,flowerId:_0x186b72})},b=p=>{const h=S,z=c.flowers[h(429)](Q=>Q.id===p);if(!z)return;const D=[...z.layers].sort((Q,te)=>Q.order-te.order),A=D[0],q=ye(A?.[h(340)]??6,5,24),L=D.map(Q=>Q.scale??1),j=w.IAeCk(L.length,2)||L.every(Q=>Math.abs(Q-L[0])<.001);let E=A?.[h(347)]??1;if(!j&&D.length>=2){const Q=D[w[h(460)](D[h(329)],1)],te=(Q.order??1)-(A.order??1);if(te>0){const re=w[h(460)](A.scale??1,Q[h(347)]??1)/te;E=w[h(308)](ye,(A[h(347)]??1)+re,.3,3)}}const K=w[h(449)](M,z),X={id:w.NbTLG(Et,"lay"),name:"Outer+",order:1,petalType:A?.petalType??h(411),petalCount:q,radius:K,scale:E,widthScale:w.NbTLG(si,q),offsetAngle:A?.offsetAngle??0,colorId:A?.[h(322)]??c.palette?.[0]?.id??w[h(349)],visible:!0,locked:!1};if(A)if(w.CqaEm!==w[h(362)])X[h(397)]=nl(A.petalCount,A[h(397)]??0,q);else{const Q={zGLJn:function(re,oe,he){return re(oe,he)},FwsIk:function(re,oe){return w[h(357)](re,oe)}},te=w.gDlku(_0x3178ec,h(440));_0x10f529(re=>{const oe=h;re[oe(305)]||(re.groups=[]);const he=re[oe(305)][oe(288)](de=>{const pe=oe,Te=de[pe(435)].match(/^ (\d+)$/);return Te?Q.zGLJn(_0x10a632,Te[1],10):0}),be=Q[oe(291)](he[oe(329)],0)?_0x48e4d6.max(...he)+1:1;re[oe(305)][oe(446)]({id:te,name:oe(389)+be,flowerIds:[..._0x4e7c77],leafIds:[],rotation:0})},!0),w[h(332)](_0x571eba,{kind:w[h(333)],groupId:te}),_0x1b0149(re=>({...re,[te]:!0}))}r(Q=>{const te=h,re=Q.flowers[te(429)](Te=>Te.id===p);if(!re)return;re[te(354)][te(434)](Te=>Te.order+=1),re.layers[te(337)](X);const oe=Math[te(327)](ar(X.radius,X[te(347)],re.fabricSquareSize??Q[te(396)])),he=re.fabricSquareSize??Q[te(396)],be=w[te(356)](re.placementMode,"")?w.ezAvK(cr,he,re.layers.length,te(341),0):w.zqqhR(la,re[te(371)]??Q.baseDiameter,he,{layerCount:re.layers.length})[te(400)];re.flowerDiameter=Math[te(413)](re[te(365)]||be,oe);const de=[...re.layers].sort((Te,Je)=>Te.order-Je.order),pe=de[te(382)]();for(let Te=1;Te<pe[te(329)];Te++){const Je=pe[Te-1],Be=pe[Te];Be.offsetAngle=nl(Je[te(340)],Je.offsetAngle,Be[te(340)])}},!0),w.gDlku(i,{kind:h(428),flowerId:p,layerId:X.id}),f(Q=>({...Q,[p]:!0}))},k=p=>{const h=S,z={BuwfT:function(D,A){return D<A},DIACV:function(D,A){return w.Rjuip(D,A)},JQZSQ:function(D,A,q,L){return w[_t(436)](D,A,q,L)}};if(w.JjgKG(h(364),"trNqS"))_0x586fea[h(343)]=_0x4b7456[h(343)].filter(D=>!_0x54dcd6.includes(D));else{const D=c[h(355)][h(429)](L=>L.id===p);if(!D||!D[h(354)]||D[h(354)][h(329)]===0)return;if(w.Npixx(D[h(354)][h(329)],1)){w.hkDWP(N,p);return}const A=[...D[h(354)]].sort((L,j)=>L[h(311)]-j[h(311)]),q=A[0];if(!q)return;w.YTdbe(r,L=>{const j=h,E=L[j(355)][j(429)](Q=>Q.id===p);if(!E)return;E.layers=E.layers.filter(Q=>Q.id!==q.id),E.layers.slice().sort((Q,te)=>Q.order-te[j(311)]).forEach((Q,te)=>Q.order=te+1);const K=[...E[j(354)]][j(318)]((Q,te)=>Q.order-te.order),X=E.fabricSquareSize??L.fabricSquareSize;if(K.length>0){bx(K,X);for(const re of K){const oe=E[j(354)].find(he=>he.id===re.id);oe&&(oe[j(361)]=re[j(361)])}const Q=K[0];E[j(365)]=Math.round(ar(Q[j(361)],Q[j(347)]??1,X));const te=[...K][j(382)]();for(let re=1;z.BuwfT(re,te.length);re++){const oe=te[z[j(392)](re,1)],he=te[re];he.offsetAngle=z.JQZSQ(nl,oe[j(340)],oe[j(397)],he[j(340)])}}},!0),w.lPWhX(a[h(386)],h(428))&&a.layerId===q.id?w.uWceY(i,{kind:w[h(393)],flowerId:p}):a.kind===w[h(410)]&&a[h(418)]===q.id&&i({kind:h(304),flowerId:p})}},I=()=>{const p=S,h={UAvCg:function(z,D){return z!==D},jCwwb:function(z,D){return w[_t(439)](z,D)},UOmbD:function(z,D){return w.wRntH(z,D)},vvKec:function(z,D,A,q,L){return z(D,A,q,L)},dfcFz:w[p(323)],TdCPi:w[p(385)],aUYXr:function(z,D){return w[p(408)](z,D)},wWINs:function(z,D){return w.MwKJu(z,D)},ikeNT:function(z,D,A,q){return w[p(308)](z,D,A,q)},dPzkF:function(z,D){return z/D},wSLcH:function(z,D){return w.LOmVQ(z,D)},copzB:function(z,D){return z/D}};if(!w.PKfQM(a.kind,w[p(451)])){if(w.PKfQM(a.kind,"leaf")){_(a.leafId);return}if(w.lPWhX(a.kind,w[p(303)])){const z=a[p(343)];r(D=>{const A=p;if(D.leaves=(D[A(342)]??[])[A(316)](q=>!z[A(352)](q.id)),D.groups){for(const q of D.groups)if(h.UAvCg("ZkMaI",A(395))){const L=_0x3e123f[0];_0x3d0304.flowerDiameter=_0x484063.round(_0x38ebb4(L.radius,L.scale??1,_0x8cba96))}else q.leafIds=q[A(343)][A(316)](L=>!z.includes(L));D.groups=D.groups[A(316)](q=>q[A(442)][A(329)]+q[A(343)][A(329)]>0)}},!0),i({kind:w.ZOBCw});return}if(w[p(290)](a.kind,p(391)))if(w.TccIn===w[p(360)]){if(_0xc129c9[p(355)]=_0x134daf.flowers.filter(z=>!_0x15055f[p(352)](z.id)),_0x2590c2.leaves=(_0x3db34f[p(342)]??[])[p(316)](z=>!_0x5cd4fc[p(352)](z.id)),_0x44cb06[p(305)]){for(const z of _0xc3ad87.groups)z[p(442)]=z[p(442)][p(316)](D=>!_0x5e5edd.includes(D)),z[p(343)]=z[p(343)].filter(D=>!_0x3b7640.includes(D));_0x3917c8.groups=_0x5d980e[p(305)][p(316)](z=>z.flowerIds.length+z.leafIds[p(329)]>0)}}else{const{flowerIds:z,leafIds:D}=a;w.CCknd(r,A=>{const q=p;if(A.flowers=A.flowers.filter(L=>!z[q(352)](L.id)),A.leaves=(A.leaves??[]).filter(L=>!D[q(352)](L.id)),A.groups){for(const L of A.groups)L[q(442)]=L.flowerIds.filter(j=>!z.includes(j)),L.leafIds=L.leafIds[q(316)](j=>!D[q(352)](j));A[q(305)]=A.groups[q(316)](L=>L.flowerIds.length+L[q(343)][q(329)]>0)}},!0),i({kind:w[p(451)]});return}if(w.PKfQM(a.kind,w[p(424)])){const z=a[p(442)];w.YTdbe(r,D=>{const A=p,q={SPzUm:function(L,j){return w[_t(350)](L,j)}};if(D[A(355)]=D.flowers.filter(L=>!z.includes(L.id)),D[A(305)])if(w[A(422)]!==A(294)){for(const L of D.groups)L[A(442)]=L[A(442)].filter(j=>!z[A(352)](j));D.groups=D[A(305)].filter(L=>L.flowerIds[A(329)]+L[A(343)][A(329)]>0)}else q[A(455)](_0x4619ec,{kind:A(355),flowerIds:[..._0x1dd7be,_0x3a674d]})},!0),i({kind:w[p(451)]});return}if(a[p(386)]===w[p(333)])if(w[p(358)]===p(450)){w.OOFkC(r,z=>{const D=p;z.groups&&(z[D(305)]=z[D(305)].filter(A=>A.id!==a[D(458)]))},!0),w.uWceY(i,{kind:"project"});return}else{const z=(_0x3abce1.groups??[]).find(D=>D.id===_0x344bd4);if(!z)return;z.previousGroups=[_0x9120e6(z)];for(const D of _0x433cd3)z.flowerIds[p(352)](D)||z[p(442)].push(D)}if(a.kind==="stencil")if(w.nROxv(p(298),w.GJkEw)){w.YTdbe(r,z=>{const D=p;z.stencils=(z[D(415)]??[]).filter(A=>A.id!==a[D(452)])},!0),w.UJWrc(i,{kind:p(420)});return}else _0xd7cb4c.flowerIds=_0x2d59e5[p(442)].filter(z=>z!==_0x3c1505);if(w.YbCVu(a.kind,p(383))){i({kind:w[p(393)],flowerId:a[p(334)]});return}if(a[p(386)]===w.heipm){r(z=>{const D=p;if(z.flowers=z.flowers[D(316)](A=>A.id!==a.flowerId),z.groups){for(const A of z.groups)A.flowerIds=A.flowerIds[D(316)](q=>q!==a[D(334)]);z[D(305)]=z[D(305)].filter(A=>A[D(442)][D(329)]+A[D(343)][D(329)]>0)}},!0),w[p(412)](i,{kind:p(420)});return}if(w.lPWhX(a[p(386)],p(428))||w.gdvEX(a[p(386)],p(456)))if(w[p(421)](w.tuCWn,p(447))){const z=c[p(355)][p(429)](A=>A.id===a[p(334)]),D=z?[...z.layers].sort((A,q)=>A.order-q.order)[0]?.id===a[p(418)]:!1;r(A=>{const q=p,L=A[q(355)][q(429)](j=>j.id===a[q(334)]);if(L&&(L[q(354)]=L.layers[q(316)](j=>j.id!==a[q(418)]),L[q(354)].slice().sort((j,E)=>j.order-E.order)[q(434)]((j,E)=>j.order=E+1),h[q(403)](L.layers[q(329)],0))){const j=[...L[q(354)]].sort((X,Q)=>X.order-Q.order),E=L[q(396)]??A[q(396)];bx(j,E);for(const X of j){const Q=L.layers[q(429)](te=>te.id===X.id);Q&&(Q[q(361)]=X[q(361)])}if(D){const X=j[0];L[q(365)]=Math.round(ar(X.radius,X.scale??1,E))}else{const X=h[q(324)](L[q(369)],"")?h.vvKec(cr,E,L[q(354)][q(329)],h[q(366)],0):la(L.baseDiameter??A[q(371)],E,{layerCount:L.layers[q(329)]}).diameter;W0(j,E,L.flowerDiameter||X);for(const Q of j){if(q(302)===h[q(426)])return;{const te=L.layers.find(re=>re.id===Q.id);te&&(te.radius=Q.radius,te.scale=Q[q(347)])}}}const K=[...j][q(382)]();for(let X=1;h[q(331)](X,K.length);X++){const Q=K[h[q(363)](X,1)],te=K[X];te[q(397)]=h.ikeNT(nl,Q.petalCount,Q[q(397)],te.petalCount)}}},!0),i({kind:w.heipm,flowerId:a[p(334)]})}else{const D=AXzJGe.dPzkF(70*_0x2ce3bb.PI,180),A=_0x1926f7.length+1,q=AXzJGe.wWINs(A,1),L=A>1?q/AXzJGe.wWINs(A,1)*D:0;_0x3eb9c6=AXzJGe[p(405)](_0x1e8839,AXzJGe[p(373)](30,100))*_0x404287.cos(L)}}},B=p=>({id:p.id,name:p[S(435)],flowerIds:[...p[S(442)]],leafIds:[...p.leafIds],rotation:p.rotation}),R=w.gyRXq(ee.useCallback,p=>{const h=S,z={vqAMr:function(A,q,L){return A(q,L)},CquJU:"project",axeqS:function(A,q,L){return A(q,L)},nigae:function(A,q){return A>q},BiEBk:function(A,q){return w.GqPsp(A,q)}},D=Et(w.vHPMR);w.YTdbe(r,A=>{const q=_t;if(q(289)==="RvWae"){const L=_0x489e62[q(442)];xtVFAS.vqAMr(_0x4d11a2,j=>{const E=q;if(j.flowers=j.flowers[E(316)](K=>!L[E(352)](K.id)),j.groups){for(const K of j[E(305)])K[E(442)]=K[E(442)][E(316)](X=>!L.includes(X));j[E(305)]=j.groups[E(316)](K=>K[E(442)].length+K[E(343)][E(329)]>0)}},!0),_0x301406({kind:xtVFAS[q(335)]});return}else{A[q(305)]||(A.groups=[]);const L=A.groups.map(E=>{const K=E.name.match(/^ (\d+)$/);return K?z.axeqS(parseInt,K[1],10):0}),j=z.nigae(L.length,0)?z.BiEBk(Math[q(413)](...L),1):1;A[q(305)][q(446)]({id:D,name:" "+j,flowerIds:[...p],leafIds:[],rotation:0})}},!0),w[h(301)](i,{kind:"group",groupId:D}),w.gDlku(o,A=>({...A,[D]:!0}))},[r,i,o]),U=ee.useCallback((p,h)=>{const z=S,D=w.gDlku(Et,"grp");w.IyVUG(r,A=>{const q=_t;if(q(443)==="HnRnY"){A[q(305)]||(A[q(305)]=[]);const L=A[q(305)].map(E=>{const K=q,X=E[K(435)].match(/^ (\d+)$/);return X?parseInt(X[1],10):0}),j=w.LTarh(L[q(329)],0)?w[q(399)](Math.max(...L),1):1;A.groups[q(446)]({id:D,name:" "+j,flowerIds:[...p],leafIds:[...h],rotation:0})}else{for(const L of _0x259dd1[q(305)])L.flowerIds=L[q(442)][q(316)](j=>j!==_0x1f9285);_0x33d69a[q(305)]=_0x544103.groups[q(316)](L=>L[q(442)].length+L[q(343)].length>0)}},!0),i({kind:z(444),groupId:D}),w[z(332)](o,A=>({...A,[D]:!0}))},[r,i,o]),Y=ee.useCallback(p=>{r(h=>{const z=_t;if(!h.groups)return;const D=h.groups[z(429)](A=>A.id===p);if(D)if(D.previousGroups&&D[z(432)][z(329)]>0)if(w[z(326)]("bAcFh",z(310)))_0x200553.flowerIds=_0x56634d[z(442)][z(316)](A=>!_0x29812d.includes(A));else{h[z(305)]=h[z(305)][z(316)](A=>A.id!==p);for(const A of D[z(432)])h.groups.push({id:A.id,name:A[z(435)],flowerIds:[...A[z(442)]],leafIds:[...A.leafIds],rotation:A.rotation})}else h[z(305)]=h.groups[z(316)](A=>A.id!==p)},!0),i({kind:"project"})},[r,i]),H=w.OOFkC(ee.useCallback,p=>{const h=S;w[h(423)](r,z=>{z.groups&&(z.groups=z.groups.filter(D=>D.id!==p))},!0),i({kind:h(420)})},[r,i]),Z=w.YTdbe(ee.useCallback,(p,h)=>{const z=S,D={SOfWf:function(A,q){return A===q},UTYHz:function(A,q){return A(q)},ZJgeW:"project",dIVTL:w.yOucG,CmrSx:w[z(303)],Dzgmz:function(A,q){return A(q)},kXdXV:function(A,q){return A!==q},cXScH:w.SEzdB};r(A=>{const q=z,L=(A[q(305)]??[]).find(j=>j.id===p);if(L){L.previousGroups=[B(L)];for(const j of h)if(D[q(419)](D.cXScH,D[q(453)])){const E=_0x2efceb.filter(K=>K!==_0x4d99c2);D.SOfWf(E.length,0)&&_0x1193cb[q(329)]===0?D[q(431)](_0xe00a,{kind:D[q(307)]}):D[q(293)](E[q(329)],0)&&_0x3256a9[q(329)]===1?_0x335cc4({kind:D.dIVTL,leafId:_0x223fc5[0]}):E[q(329)]===0?_0x4f1d96({kind:D[q(414)],leafIds:_0x166596}):_0x41a3ae.length===0&&E.length===1?_0x11483b({kind:"flower",flowerId:E[0]}):D[q(293)](_0x37745f[q(329)],0)?D[q(431)](_0x63a1d9,{kind:"flowers",flowerIds:E}):D.Dzgmz(_0x2d1e3,{kind:"mixed",flowerIds:E,leafIds:_0x37470a})}else L[q(442)].includes(j)||L[q(442)][q(446)](j)}},!0),i({kind:"group",groupId:p})},[r,i]),P=w.LSauO(ee.useCallback,(p,h)=>{const z=S,D={gMESX:function(L,j){return L>j},faehz:function(L,j){return w[_t(376)](L,j)},NnVkt:function(L,j,E){return L(j,E)},pFJsX:function(L,j){return L(j)},ZQaZM:function(L,j){return L!==j},sBEgZ:function(L,j){return L===j},ATqwW:z(315)},A=p[0],q=p[z(416)](1);w.HXoMD(r,L=>{const j=z;if(!L.groups)return;const E=L[j(305)].find(X=>X.id===A);if(!E)return;const K=[];for(const X of p)if(j(296)==="FIySD"){if(_0x1bf2c8.flowers=(_0x20ffd2[j(355)]||[]).filter(Q=>Q.id!==_0x40aef6),_0x52ba1c.groups){for(const Q of _0x2c7bf7[j(305)])Q[j(442)]=Q.flowerIds.filter(te=>te!==_0x535ddb);_0x17e2ef[j(305)]=_0xe2d8ae[j(305)][j(316)](Q=>Q[j(442)][j(329)]+Q.leafIds.length>0)}}else{const Q=L[j(305)].find(te=>te.id===X);Q&&K[j(446)](D[j(377)](B,Q))}E.previousGroups=K;for(const X of q)if(D[j(336)]("bBbwW",j(330))){const Q=L.groups[j(429)](te=>te.id===X);if(!Q)continue;for(const te of Q.flowerIds)if(D.sBEgZ(D[j(297)],"FMnao"))E.flowerIds.includes(te)||E[j(442)][j(446)](te);else{const re=_0x35e5fb[j(354)].find(oe=>oe.id===_0x197a90.id);re&&(re[j(361)]=_0x252838.radius,re.scale=_0x541272[j(347)])}for(const te of Q[j(343)])E[j(343)].includes(te)||E.leafIds[j(446)](te)}else{_0x45c31d[j(305)]||(_0x321096.groups=[]);const Q=_0x56bfe6.groups[j(288)](re=>{const oe=j,he=re[oe(435)].match(/^ (\d+)$/);return he?QwsWrc.DdTcH(_0x12dabe,he[1],10):0}),te=XpUtWk[j(398)](Q[j(329)],0)?XpUtWk.faehz(_0x4f56dd.max(...Q),1):1;_0x4d1cd3.groups[j(446)]({id:_0x27daa6,name:j(389)+te,flowerIds:[..._0x52aef8],leafIds:[..._0x38fab0],rotation:0})}for(const X of h)E[j(442)].includes(X)||E.flowerIds[j(446)](X);L.groups=L[j(305)].filter(X=>!q.includes(X.id))},!0),i({kind:"group",groupId:A}),w.Voitz(o,L=>({...L,[A]:!0}))},[r,i,o]),F=(p,h)=>{const z=S,D={AFQku:function(be,de,pe){return w.IyVUG(be,de,pe)},AuhIv:function(be,de){return be!==de},VvSst:w.IaqQO,YCTvX:w.aZuJB},A=w.uUpcM(d.w,d.h),q=520/v,L=w.LOmVQ(q,A),j=-y.x/v,E=w[z(314)](-y.y,v),K=j+L/2,X=E+w.YcaqG(q,2),Q=h===w.ILtAX?z(353):"side",te=t1[p][Q].height*tn,re=ye(K,0,m),oe=ye(X-w.JVYhu(te,2),0,m),he={id:w.nlmiD(Et,"stl"),variant:p,pose:h,position:{x:re,y:oe}};w[z(351)](r,be=>{const de=z;if(D[de(379)](D.VvSst,D.YCTvX))be[de(415)]||(be[de(415)]=[]),be.stencils[de(446)](he);else{const pe=_0x51be85[de(435)][de(348)](/^ (\d+)$/);return pe?Mmrtyl.AFQku(_0x4f1c4f,pe[1],10):0}},!0),i({kind:"stencil",stencilId:he.id})},J=p=>{const h=S;r(z=>{const D=_t;z[D(415)]=(z[D(415)]??[])[D(316)](A=>A.id!==p)},!0),w[h(427)](a.kind,w.ZRIqr)&&a[h(452)]===p&&w[h(449)](i,{kind:h(420)})},G=w.OOFkC(ee.useCallback,p=>{const h=S,z={mKiBC:function(D,A){return D(A)},alNul:h(456),rdPuO:w[h(393)]};if(w[h(394)](a.kind,h(355)))if(w[h(381)]==="LvuXX"){const D=a[h(442)];if(D.includes(p))if(w.zwpng(w[h(445)],h(404))){const A=D.filter(q=>q!==p);A[h(329)]===0?w.Voitz(i,{kind:w[h(451)]}):A.length===1?i({kind:h(304),flowerId:A[0]}):i({kind:w.wTeLV,flowerIds:A})}else _0x3266ac[h(415)]||(_0x390c0c[h(415)]=[]),_0x339de9[h(415)][h(446)](_0x17fd34);else w.TECoM(i,{kind:h(355),flowerIds:[...D,p]})}else z.mKiBC(_0x57c207,{kind:z.alNul,flowerId:_0x308776,layerId:_0x428fe2[0][h(418)],index:_0x7bd7ae[0].index});else if(w[h(290)](a[h(386)],"flower"))if(w[h(328)](h(380),w.NwxJR))_0x276fd8({kind:h(355),flowerIds:[_0x4e95f7]});else{if(a.flowerId===p)return;w.ofbGA(i,{kind:"flowers",flowerIds:[a.flowerId,p]})}else if(w[h(356)](a.kind,"group")){const D=(c.groups??[]).find(q=>q.id===a.groupId),A=D?D[h(442)]:[];if(A.includes(p))return;w.QAQHL(i,{kind:w.wTeLV,flowerIds:[...A,p]})}else if(w.ZAMmR(a[h(386)],w.yOucG))i({kind:h(391),flowerIds:[p],leafIds:[a.leafId]});else if(a[h(386)]==="leaves")i({kind:h(391),flowerIds:[p],leafIds:a.leafIds});else if(a[h(386)]==="mixed")if(w.SeLtg(w.Ikunn,h(309))){for(const D of _0x203b89.groups)D[h(442)]=D[h(442)][h(316)](A=>!_0x302585.includes(A));_0x48cea2[h(305)]=_0x33cbff.groups[h(316)](D=>D[h(442)][h(329)]+D.leafIds[h(329)]>0)}else{const D=a[h(442)],A=a[h(343)];if(D.includes(p))if(w[h(437)]!==w[h(384)]){const q=D.filter(L=>L!==p);w.YbCVu(q.length,0)&&A.length===0?w.jMheC(i,{kind:"project"}):q[h(329)]===0&&A[h(329)]===1?i({kind:h(407),leafId:A[0]}):q[h(329)]===0?i({kind:w[h(303)],leafIds:A}):A[h(329)]===0&&q[h(329)]===1?w.gDlku(i,{kind:w[h(393)],flowerId:q[0]}):A.length===0?i({kind:h(355),flowerIds:q}):w.YPGIG(i,{kind:w.AzEIs,flowerIds:q,leafIds:A})}else _0x5bb7b7({kind:z[h(454)],flowerId:_0x5c965f});else w[h(448)]("iOGkS","iSjNy")?i({kind:h(391),flowerIds:[...D,p],leafIds:A}):_0x5b969f[h(415)]=(_0x1d8df7[h(415)]??[]).filter(q=>q.id!==_0x19eded)}else w[h(325)](i,{kind:"flowers",flowerIds:[p]})},[a,i,c[S(305)]]);return{deleteFlowerById:N,deleteLayerById:g,computeNewOuterRadius:M,addOuterLayer:b,deleteOuterLayer:k,deleteSelected:I,groupSelectedFlowers:R,groupSelectedMixed:U,ungroupFlowers:Y,ungroupAll:H,addToGroup:Z,mergeGroups:P,addStencil:F,deleteStencil:J,handleShiftFlowerSelect:G,togglePetalSelection:(p,h,z,D)=>{const A=S;if(!D){w[A(412)](i,{kind:w[A(410)],flowerId:p,layerId:h,index:z});return}const q=h+":"+z;if(a.kind===w[A(387)]&&w[A(326)](a[A(334)],p)){const L=a.petals||[];if(L[A(374)](E=>E[A(418)]+":"+E.index===q)){const E=L.filter(K=>K[A(418)]+":"+K.index!==q);E[A(329)]===0?w.boIHE(i,{kind:A(304),flowerId:p}):w[A(295)](E.length,1)?i({kind:"petal",flowerId:p,layerId:E[0][A(418)],index:E[0].index}):i({kind:"petals",flowerId:p,petals:E})}else w[A(321)](i,{kind:w[A(387)],flowerId:p,petals:[...L,{layerId:h,index:z}]})}else if(w.CpgpU(a[A(386)],w.uqewf)&&a[A(334)]===p){if(w.RhnWQ(w.oidFu,w[A(312)])){const L={layerId:a[A(418)],index:a.index},j={layerId:h,index:z};if(w.RdaOu(L.layerId+":"+L.index,q))return;w.NuDoU(i,{kind:w[A(387)],flowerId:p,petals:[L,j]})}else if(_0x237d90.flowers=_0x5be07a[A(355)].filter(L=>L.id!==_0xd04e4b[A(334)]),_0x3bbed8[A(305)]){for(const L of _0x4d6c93[A(305)])L[A(442)]=L.flowerIds[A(316)](j=>j!==_0x33657a.flowerId);_0x14a7b0[A(305)]=_0x522f6f[A(305)][A(316)](L=>L[A(442)].length+L[A(343)][A(329)]>0)}}else w.tzipO(i,{kind:"petals",flowerId:p,petals:[{layerId:h,index:z}]})}}}(function(c,r){const a=Yt,i=c();for(;;)try{if(-parseInt(a(404))/1*(parseInt(a(366))/2)+parseInt(a(416))/3+-parseInt(a(402))/4+parseInt(a(362))/5*(parseInt(a(359))/6)+parseInt(a(406))/7+-parseInt(a(374))/8+-parseInt(a(391))/9*(parseInt(a(373))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,288732);const ob=(function(){const c=Yt;c(388),c(396);let r=!0;return function(a,i){{const f=r?function(){if(i){const o=i.apply(a,arguments);return i=null,o}}:function(){};return r=!1,f}}})(),qx=ob(void 0,function(){const c=Yt;return qx[c(382)]()[c(421)]("(((.+)+)+)+$")[c(382)]().constructor(qx)[c(421)](c(410))});qx();function Yt(c,r){c=c-349;const a=Z0();let i=a[c];if(Yt.KnwyAC===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};Yt.drFbQg=f,Yt.gbEHxD={},Yt.KnwyAC=!0}const o=a[0],v=c+o,y=Yt.gbEHxD[v];if(y)i=y;else{const d=function(m){this.mhLuRW=m,this.tJvyhO=[1,0,0],this.ifNGAz=function(){return"newState"},this.lyxZMB="\\w+ *\\(\\) *{\\w+ *",this.eKhPIX=`['|"].+['|"];? *}`};d.prototype.HnxBgM=function(){const m=new RegExp(this.lyxZMB+this.eKhPIX),_=m.test(this.ifNGAz.toString())?--this.tJvyhO[1]:--this.tJvyhO[0];return this.qkAlcB(_)},d.prototype.qkAlcB=function(m){return~m?this.KpXdRI(this.mhLuRW):m},d.prototype.KpXdRI=function(m){for(let _=0,S=this.tJvyhO.length;_<S;_++)this.tJvyhO.push(Math.round(Math.random())),S=this.tJvyhO.length;return m(this.tJvyhO[0])},new d(Yt).HnxBgM(),i=Yt.drFbQg(i),Yt.gbEHxD[v]=i}return i}function Z0(){const c=["zwLqwgO","zMXVD2vYswrZ","ndy0ogHTDLfSBa","BgvHzG","zMXVD2vYCW","Bwf0y2G","q3nSv3m","r2Xnt0G","q05XwKi","mJbOAuvIDMm","oty5nJH3y3fLtxm","CM90yxrPB24","qwPRzKe","z3jVDxbZ","BwL4zwq","weXLrMK","s21iELG","CuvlwNy","Dg9tDhjPBMC","t3nYB00","BgvHzKLK","EKXnBMO","z3jVDxa","z3jVDxbjza","ChjVAMvJDa","B0rREhy","A3fzy0K","mtiXodaXnvPxsMz4Eq","zMXVD2vY","z3jW","uuTczKO","seLswLa","BgvHDMvZ","BMfTzq","AgzkBKG","uMj1qwW","r2zrtuC","ANb5wwe","mtq0nZi0vhnnrxnS","ChjLDMLVDxnhCM91Chm","mtC0qunXthDK","ChvZAa","mZm4mtm3mw9Vru5jCW","AgD4zem","zvH3u2G","BuvXrhO","kcGOlISPkYKRksSK","rvLHrhO","tK9wDfa","A2LUza","txjjENC","y1vAtMO","odyZntGWzNnpwvLk","wLnHreG","B2HfBfq","BgvHzKLKCW","rg50veC","C2vHCMnO","t3Pwz0G","tKHxrhG","zMLSDgvY","BKTnDMW","wfLJAvi","BgvUz3rO","tK94zg4","zMLUza","44kW44oR44o844oxia","BLvhzhO","t0zdCeW","ndGYmZm0uhHdCwHx","Aw5JBhvKzxm","vML1B0K","mtvUverUzem","renbCvO"];return Z0=function(){return c},Z0()}function fb({project:c,applyUpdate:r,selection:a,setSelection:i}){const f=Yt,o={HKzPC:function(g,b){return g!==b},SEdiI:f(389),OzVgH:"project",MNeVY:function(g,b){return g(b)},ZSaDH:function(g,b){return g===b},nUGdz:f(396),pCIHi:function(g,b){return g!==b},yAiDy:function(g,b){return g(b)},PcmDf:f(367),CslWs:function(g,b){return g(b)},DCAqZ:f(386),aOPIG:f(392),CNqZB:function(g,b){return g(b)},cUZNj:f(378),AjkfA:function(g,b){return g===b},ICowx:"NOxdn",XLeFi:function(g,b){return g(b)},rUlAi:function(g,b){return g===b},BlAsx:function(g,b){return g===b},XYciR:function(g,b){return g===b},ViuoI:function(g,b){return g(b)},RbuAl:function(g,b){return g===b},nKMvl:f(393),kqYcI:function(g,b){return g>b},HIRZP:function(g,b,k){return g(b,k)},DHWKi:function(g,b){return g(b)},fjTWx:function(g,b){return g(b)},iwXwu:function(g,b){return g>b},qEKZv:"elvgK",hfJnH:f(401),NOVtP:f(418),ATAfB:function(g,b,k){return g(b,k)}},v=g=>{const b=f,k={KmHzX:o[b(422)]};r(I=>{const B=b;if(I[B(396)]=(I.leaves??[])[B(350)](R=>R.id!==g),I[B(377)])if(o.HKzPC(o.SEdiI,B(411))){for(const R of I.groups)R[B(419)]=R.leafIds[B(350)](U=>U!==g);I[B(377)]=I[B(377)][B(350)](R=>R.flowerIds[B(353)]+R[B(419)][B(353)]>0)}else _0x17c4f9({kind:k[B(380)]})},!0),o.MNeVY(i,{kind:"project"})},y=ee.useCallback(g=>{const b=f;if(o[b(417)](a.kind,o.nUGdz)){const k=a[b(419)];if(k[b(360)](g)){const I=k.filter(B=>B!==g);if(I.length===0)o.MNeVY(i,{kind:o.OzVgH});else if(I[b(353)]===1)if(o.pCIHi(b(349),b(414)))o.yAiDy(i,{kind:o.PcmDf,leafId:I[0]});else{const B=(_0x4bb827.groups??[])[b(355)](R=>R.id===_0x7e248d);B&&!B[b(419)][b(360)](_0x408293)&&B.leafIds[b(405)](_0x2702d4)}else o.CslWs(i,{kind:b(396),leafIds:I})}else o[b(370)](i,{kind:b(396),leafIds:[...k,g]})}else if(o[b(417)](a.kind,o.PcmDf)){if(o.ZSaDH(a[b(384)],g))return;i({kind:o[b(357)],leafIds:[a[b(384)],g]})}else if(o.ZSaDH(a[b(413)],o[b(363)])){const k=(c[b(377)]??[]).find(B=>B.id===a[b(387)]),I=k?k.leafIds:[];if(I.includes(g))return;i({kind:o.nUGdz,leafIds:[...I,g]})}else if(o.ZSaDH(a.kind,o.aOPIG))o[b(372)](i,{kind:o[b(415)],flowerIds:[a.flowerId],leafIds:[g]});else if(o.ZSaDH(a.kind,"flowers"))o[b(376)](b(354),o.ICowx)?o[b(379)](i,{kind:o[b(415)],flowerIds:a.flowerIds,leafIds:[g]}):_0x530e0d[b(419)][b(360)](_0x43c0a4)||_0x362257[b(419)].push(_0x502c4d);else if(o.ZSaDH(a[b(413)],o.cUZNj)){const k=a[b(365)],I=a.leafIds;if(I[b(360)](g)){const B=I.filter(R=>R!==g);B[b(353)]===0&&o.rUlAi(k.length,0)?i({kind:o[b(422)]}):B.length===0&&k[b(353)]===1?i({kind:"flower",flowerId:k[0]}):o.BlAsx(B.length,0)?o[b(379)](i,{kind:b(368),flowerIds:k}):k.length===0&&o[b(352)](B.length,1)?o.ViuoI(i,{kind:b(367),leafId:B[0]}):o[b(399)](k[b(353)],0)?i({kind:b(396),leafIds:B}):o[b(379)](i,{kind:b(378),flowerIds:k,leafIds:B})}else i({kind:b(378),flowerIds:k,leafIds:[...I,g]})}else i({kind:o[b(357)],leafIds:[g]})},[a,i,c[f(377)]]),d=g=>({id:g.id,name:g.name,flowerIds:[...g.flowerIds],leafIds:[...g[f(419)]],rotation:g[f(375)]}),m=ee.useCallback(g=>{const b=f,k=o[b(361)](Et,o[b(351)]),I=(c.groups??[]).map(R=>{const U=b,Y=R[U(397)][U(369)](/^ (\d+)$/);return Y?parseInt(Y[1],10):0}),B=o[b(390)](I.length,0)?Math.max(...I)+1:1;o[b(395)](r,R=>{const U=b;R[U(377)]||(R.groups=[]),R[U(377)].push({id:k,name:U(356)+B,flowerIds:[],leafIds:[...g],rotation:0})},!0),o.DHWKi(i,{kind:o.DCAqZ,groupId:k})},[c[f(377)],r,i]),_=o.HIRZP(ee.useCallback,(g,b)=>{const k=f;r(I=>{const B=Yt,R=(I.groups??[])[B(355)](U=>U.id===g);if(R){R[B(403)]=[d(R)];for(const U of b)B(408)!=="fAyLo"?R[B(419)][B(360)](U)||R.leafIds[B(405)](U):vwcGZl[B(383)](_0x57de0d,{kind:"leaves",leafIds:[_0xb92963]})}},!0),i({kind:k(386),groupId:g})},[r,i]),S=o[f(395)](ee.useCallback,(g,b)=>{const k=g[0],I=g.slice(1);r(B=>{const R=Yt;if(!B[R(377)])return;const U=B.groups[R(355)](H=>H.id===k);if(!U)return;const Y=[];for(const H of g){const Z=B.groups[R(355)](P=>P.id===H);Z&&Y.push(d(Z))}U[R(403)]=Y;for(const H of I){const Z=B[R(377)].find(P=>P.id===H);if(Z){for(const P of Z.leafIds)U[R(419)].includes(P)||U.leafIds[R(405)](P);for(const P of Z[R(365)])U[R(365)][R(360)](P)||U[R(365)][R(405)](P)}}for(const H of b)U.leafIds[R(360)](H)||U[R(419)].push(H);B[R(377)]=B.groups[R(350)](H=>!I.includes(H.id))},!0),o.fjTWx(i,{kind:"group",groupId:k})},[r,i]),w=o[f(395)](ee.useCallback,g=>{const b=f,k={mEqDz:function(I,B,R){return o[Yt(395)](I,B,R)},zLMnj:function(I,B){return o.iwXwu(I,B)},OFCpL:function(I,B){return o.RbuAl(I,B)}};o.pCIHi("zrfhW",o[b(381)])?(r(I=>{const B=b;if(!I[B(377)])return;const R=I.groups.find(U=>U.id===g);if(R)if(R.previousGroups&&k[B(385)](R.previousGroups[B(353)],0)){I.groups=I[B(377)][B(350)](U=>U.id!==g);for(const U of R.previousGroups)if(k[B(358)](B(400),B(407))){const Y=_0x4d3027[B(397)].match(/^ (\d+)$/);return Y?PPVQSv[B(409)](_0x4ed4c4,Y[1],10):0}else I.groups[B(405)]({id:U.id,name:U[B(397)],flowerIds:[...U.flowerIds],leafIds:[...U.leafIds],rotation:U[B(375)]})}else I.groups=I[B(377)][B(350)](U=>U.id!==g)},!0),i({kind:o.OzVgH})):_0x48b8ee.flowerIds[b(360)](_0xee30d8)||_0x1d11dd.flowerIds.push(_0x13673b)},[r,i]),M=o.ATAfB(ee.useCallback,(g,b)=>{o.HIRZP(r,k=>{const I=Yt,B=(k.groups??[])[I(355)](R=>R.id===b);B&&!B.leafIds.includes(g)&&B[I(419)].push(g)},!0)},[r]),N=o[f(395)](ee.useCallback,g=>{r(b=>{const k=Yt;if(b.groups){for(const I of b.groups)o[k(398)]===o[k(412)]?_0x5866c9[k(377)].push({id:_0x3c621c.id,name:_0x3a5c72[k(397)],flowerIds:[..._0xd80ab2.flowerIds],leafIds:[..._0x34dd43[k(419)]],rotation:_0x21c30a.rotation}):I[k(419)]=I.leafIds.filter(B=>B!==g);b[k(377)]=b.groups[k(350)](I=>I.flowerIds.length+I[k(419)].length>0)}},!0)},[r]);return{deleteLeafById:v,handleShiftLeafSelect:y,groupSelectedLeaves:m,ungroupLeaves:w,addLeafToGroup:M,removeLeafFromGroup:N,addLeavesToGroup:_,mergeLeafGroups:S}}(function(c,r){const a=In,i=c();for(;;)try{if(parseInt(a(497))/1*(-parseInt(a(534))/2)+-parseInt(a(548))/3*(-parseInt(a(504))/4)+parseInt(a(533))/5+-parseInt(a(544))/6*(parseInt(a(499))/7)+-parseInt(a(509))/8*(-parseInt(a(514))/9)+parseInt(a(491))/10+-parseInt(a(526))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(X0,286763);const db=(function(){let c=!0;return function(r,a){const i=c?function(){const f=In;if(f(520)!=="dkuJW")_0x4ae804.flowers[f(539)](_0x1b954e);else if(a){const o=a[f(498)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Bx=db(void 0,function(){const c=In;return Bx.toString().search("(((.+)+)+)+$").toString()[c(550)](Bx)[c(512)]("(((.+)+)+)+$")});Bx();function In(c,r){c=c-477;const a=X0();let i=a[c];if(In.eTElIs===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};In.pSTCdj=f,In.nzLoCM={},In.eTElIs=!0}const o=a[0],v=c+o,y=In.nzLoCM[v];if(y)i=y;else{const d=function(m){this.TRBDij=m,this.cDmITg=[1,0,0],this.FVyfWY=function(){return"newState"},this.RYxjoA="\\w+ *\\(\\) *{\\w+ *",this.vqfsVd=`['|"].+['|"];? *}`};d.prototype.ghdHxW=function(){const m=new RegExp(this.RYxjoA+this.vqfsVd),_=m.test(this.FVyfWY.toString())?--this.cDmITg[1]:--this.cDmITg[0];return this.cTMqnz(_)},d.prototype.cTMqnz=function(m){return~m?this.NnFCCb(this.TRBDij):m},d.prototype.NnFCCb=function(m){for(let _=0,S=this.cDmITg.length;_<S;_++)this.cDmITg.push(Math.round(Math.random())),S=this.cDmITg.length;return m(this.cDmITg[0])},new d(In).ghdHxW(),i=In.pSTCdj(i),In.nzLoCM[v]=i}return i}function X0(){const c=["EKnPwuS","mtuYmtGWmfPJwgH1yW","mZmYnJz1rhHyuwS","qK5yu3G","vuzJzLK","5lI444gK44g+44g/","tNnKwKi","ChvZAa","rhnRExG","zMXVD2vYrgLHBwv0zxi","tgf5zxiG","q2vUDgvY","nNnqzwP6Eq","C2L6zu1Vzgu","v1HgwLy","verMwMm","nJy1mvbky2X3yq","y2zSq0G","y29UC3rYDwn0B3i","tgLVBem","yMfZzurPyw1LDgvY","zMfICMLJu3f1yxjLu2L6zq","Bwvss1e","CgfSzxr0zq","C3bSAxq","rLPXAhK","Cg5ls0e","wfL6C2i","C2L6zvn0zxbnBq","B2TVC00","twLKzgXL","EhvTu1a","Bgf5zxjdB3vUDa","CMfKAxvZ","vwviALe","mte1mtaWtfnQvwzI","C25lBwq","sufiD3O","CM91BMq","sw5Uzxi","5y2k44gp44gz","mxbrvhfpwG","yxbWBhK","mtm0nJy4mxHWvKr0tG","ywjZ","zLj2Avy","v1n4wLC","qwnXueu","nZqWrMDVuuX1","sKXprxq","tgf5zxi","Dw5PzM9YBq","C1PSsNy","mJyZnJyWmhrqBNzQra","uNP5Du8","zgLHBwv0zxi","C2vHCMnO","zMrKEKC","owj1weTdEq","ug5yDee","C2nHBgu","vePWu0i","CgXHy2vTzw50tw9Kzq","y29SB3jjza","zgT1sLC","mhW0Fdn8mNWX","zKP3reW","y29Sx3DOAxrL","z3jHzhvHBa","44or44o844oR","nJe1nZKYmwL6qMXxAq","Cg9ZAxrPB24","DhLQu1C","A2nnANG","zNPLtMy","B3jKzxi"];return X0=function(){return c},X0()}function hb({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:f,pan:o,stageSize:v,CANVAS_MAX_SVG:y}){const d=In,m={IAHwz:"",tyjSW:function(b,k,I,B){return b(k,I,B)},XYzsb:function(b,k,I,B,R){return b(k,I,B,R)},AcqPE:function(b,k){return b(k)},fddzG:function(b,k){return b!==k},NaaiG:"KvFCd",WSxZW:function(b,k,I,B){return b(k,I,B)},FZqhy:function(b,k){return b===k},UeHjQ:function(b,k){return b*k},WXFZV:d(495),kYqKc:d(486),PnXtA:"Outer",ztSYx:"Outer+",BNXSx:d(547),wAfZM:d(524),NRrvS:function(b,k){return b/k},LMTdv:function(b,k){return b/k},RzyuO:function(b,k){return b*k},snKmd:function(b,k){return b>k},zCiYK:function(b,k){return b/k},meRKQ:function(b,k){return b-k},xeEYl:function(b,k){return b+k},UFcfY:function(b,k){return b/k},fJwDL:function(b,k){return b===k},fRviV:function(b,k,I,B){return b(k,I,B)},hLGZA:d(506),TJpSB:function(b,k){return b<=k},fzeNf:function(b,k){return b+k},sdeyp:"lay",okosM:d(523),phlCg:function(b,k){return b*k},WfMUd:function(b,k){return b!==k},cFcTf:"Vdxpp",xumSP:d(521),gqtQF:function(b,k,I,B){return b(k,I,B)},JLOEt:function(b,k){return b===k},Dskyx:function(b,k){return b(k)},CMzaJ:d(537)},[_,S]=ee.useState(!1),[w,M]=m[d(540)](ee.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:c[d(552)],layerCount:1,petalCount:6,petalType:m.CMzaJ,sizeMode:d(507),sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:_,setShowAddFlowerDialog:S,addFlowerOpts:w,setAddFlowerOpts:M,addFlower:()=>{const b=d,k={pnKKA:function(I,B){return I===B},sZlJv:function(I,B,R,U,Y){return I(B,R,U,Y)}};if(m[b(513)](b(551),m.NaaiG)){const I=c[b(477)],B=c[b(552)];M(R=>{const U=b,Y={...R,fabricSquareSize:I,baseDiameter:B};return Y[U(518)]===m[U(493)]?Y.flowerDiameter=m.tyjSW(la,B,I,{layerCount:Y[U(488)],sizeMode:Y[U(545)],sizeStepMm:Y.sizeStepMm})[U(511)]:Y[U(541)]=m[U(483)](cr,I,Y.layerCount,Y[U(545)],Y[U(484)]),Y}),S(!0)}else{const I=_0x107f29.fabricSquareSize,B=_0x4bfb45.baseDiameter;m[b(503)](_0x44467a,R=>{const U=b,Y={...R,fabricSquareSize:I,baseDiameter:B};return k[U(482)](Y[U(518)],"")?Y.flowerDiameter=_0x45f7cc(B,I,{layerCount:Y.layerCount,sizeMode:Y[U(545)],sizeStepMm:Y.sizeStepMm})[U(511)]:Y[U(541)]=k[U(508)](_0x4d67e3,I,Y[U(488)],Y[U(545)],Y[U(484)]),Y}),_0x3f1ef3(!0)}},confirmAddFlower:()=>{const b=d,{placementMode:k,layerCount:I,petalCount:B,petalType:R,sizeMode:U,sizeStepMm:Y}=w,H=w[b(477)],{length:Z}=qt(H),P=.28,F=Math[b(494)](m.UeHjQ(Z*P,10))/10,J=[],G=[b(543),m[b(546)],m.kYqKc,m[b(515)],m.ztSYx];let O=F,p=0;for(let oe=0;oe<I;oe++){const he=oe,be=1;let de;if(m[b(481)](U,b(507)))de=be;else{const Be=Y/H;de=m[b(528)](ye,be+he*Be,.3,3)}let pe;if(oe===0)if(m[b(535)]==="TDfZc")pe=F;else{const Be={..._0x51b5c1,fabricSquareSize:_0x161136,baseDiameter:_0x2ffc0d};return Be.placementMode===b(496)?Be[b(541)]=m[b(502)](_0x284d22,_0x2c8326,_0x2dacb4,{layerCount:Be[b(488)],sizeMode:Be.sizeMode,sizeStepMm:Be.sizeStepMm})[b(511)]:Be[b(541)]=_0x3dea7e(_0x4dcf28,Be.layerCount,Be[b(545)],Be.sizeStepMm),Be}else{const Be=U===m.wAfZM?ye(1+m.NRrvS(m[b(490)](oe-1,Y),H),.3,3):1,vt=Z*Be;let zt;if(m.FZqhy(k,"")){const dt=m.LMTdv(m[b(510)](70,Math.PI),180),Ut=m[b(492)](I,1)?m.UeHjQ(m[b(532)](oe,m.meRKQ(I,1)),dt):0,nn=Math.cos(Ut);zt=vt*(30/100)*nn}else zt=vt/3;O=m.xeEYl(O,zt),pe=m[b(536)](Math[b(494)](O*10),10)}const Te=m.fJwDL(oe,0)?0:m.fRviV(nl,B,p,B);p=Te;let Je;if(I===1)Je=m.hLGZA;else if(m[b(517)](I,5)){const Be=I===2?[0,3]:m.fJwDL(I,3)?[0,1,3]:m[b(522)](I,4)?[0,1,2,3]:[0,1,2,3,4];Je=G[Be[oe]]??b(542)+m.fzeNf(oe,1)}else Je=b(542)+m[b(530)](oe,1);J.push({id:Et(m.sdeyp),name:Je,order:m[b(478)](I,oe),petalType:R,petalCount:B,radius:pe,scale:de,widthScale:si(B),offsetAngle:Te,colorId:w[b(519)]||(c[b(479)]?.[0]?.id??m[b(485)]),visible:!0,locked:!1})}J.reverse();const h=[...J].sort((oe,he)=>oe.order-he[b(531)]),z=k===m[b(493)]?la(w.baseDiameter,H,{layerCount:I,sizeMode:U,sizeStepMm:Y}).diameter:cr(H,I,U,Y);W0(h,H,w[b(541)]||z);for(const oe of h){const he=J.find(be=>be.id===oe.id);he&&(he.radius=oe[b(489)],he[b(516)]=oe[b(516)])}const D=v.w/v.h,A=520/f,q=m.phlCg(A,D),L=-o.x/f,j=-o.y/f;let E=L+q/2,K=j+A/2;const X=25;let Q=0;for(;Q<50&&c.flowers.some(oe=>Math.abs(oe[b(527)].x-E)<5&&Math[b(500)](oe.position.y-K)<5);)if(m.WfMUd(b(549),m.cFcTf)){const oe=m[b(487)][b(480)]("|");let he=0;for(;;){switch(oe[he++]){case"0":E+=X;continue;case"1":Q++;continue;case"2":K=m.gqtQF(ye,K,0,y);continue;case"3":E=m[b(501)](ye,E,0,y);continue;case"4":K+=X;continue}break}}else _0x24d3d4[b(541)]=TDRAGy[b(538)](_0x22a441,_0x4fcc79,_0xc3d59c[b(488)],_0x76993f[b(545)],_0x32504c[b(484)]);const te=w[b(541)]||z,re={id:Et("flw"),name:"Flower "+(c.flowers.length+1),position:{x:E,y:K},flowerDiameter:te,rotation:0,layers:J,center:{type:b(525),size:6,color:b(523)},fabricSquareSize:H,placementMode:k,baseDiameter:m[b(505)](k,m.IAHwz)?w[b(552)]:lr(te)};r(oe=>{const he=b;m[he(481)]("pSXDi",he(529))?_0x1588ed=_0x513a14:oe.flowers.push(re)},!0),a({kind:"flower",flowerId:re.id}),i(oe=>({...oe,[re.id]:!0})),S(!1)}}}function J0(){const c=["shj5wxK","kcGOlISPkYKRksSK","mta1vNvgBK5M","ywnssMq","CgfSzxr0zq","Dg9tDhjPBMC","AMLLr0O","mJi3mJu5tvnPq1LI","BfHhsxK","v0X3txq","EMzLAwW","zKPrEMe","5yMJ44gK44g+44g/","ywjZ","nwDuDeDVuG","AfrprvO","mtq1ntC3mKjht01bEa","BgvHDMvZ","ndK1ndaZnurxuxLvtW","rKzXue8","odK4nZiWChLJEMHW","nZaYntiYvxzqBw5v","y29Sx2DYzwvU","mJu1ota2oxLnz05bCG","BgvUz3rO","ndbhvKrlsw4","zMfICMLJu3f1yxjLu2L6zq","CM91BMq","zMLUza","y29UC3rYDwn0B3i","zfzuq3m","mJu4nZe3nhPfBM1SCq"];return J0=function(){return c},J0()}(function(c,r){const a=gn,i=c();for(;;)try{if(-parseInt(a(284))/1+-parseInt(a(276))/2+parseInt(a(263))/3+parseInt(a(261))/4+parseInt(a(291))/5*(-parseInt(a(266))/6)+parseInt(a(279))/7*(parseInt(a(265))/8)+parseInt(a(268))/9*(-parseInt(a(270))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(J0,925091);const mb=(function(){const c={HryYy:function(a,i){return a===i}};let r=!0;return function(a,i){const f=gn;if(c[f(277)]("XhJmJ",f(264)))return _0x1b6fe9[f(272)](_0x15989b*_0xdf7a1e.SQRT2/2*10)/10;{const o=r?function(){if(i){const v=i.apply(a,arguments);return i=null,v}}:function(){};return r=!1,o}}})(),kx=mb(void 0,function(){const c=gn,r={JnPtc:c(278)};return kx[c(282)]().search(r.JnPtc)[c(282)]()[c(274)](kx).search("(((.+)+)+)+$")});kx();function Wd(c){const r=gn,a={acRJd:function(i,f){return i/f},CTlse:function(i,f){return i*f}};return Math[r(272)](a[r(280)](a.CTlse(c,Math.SQRT2),2)*10)/10}function gn(c,r){c=c-261;const a=J0();let i=a[c];if(gn.KwdpTn===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};gn.WHjPcV=f,gn.rRJAoV={},gn.KwdpTn=!0}const o=a[0],v=c+o,y=gn.rRJAoV[v];if(y)i=y;else{const d=function(m){this.ktSKZu=m,this.gxKRiE=[1,0,0],this.kdPNDO=function(){return"newState"},this.OGSphd="\\w+ *\\(\\) *{\\w+ *",this.LVdibZ=`['|"].+['|"];? *}`};d.prototype.SMzLDL=function(){const m=new RegExp(this.OGSphd+this.LVdibZ),_=m.test(this.kdPNDO.toString())?--this.gxKRiE[1]:--this.gxKRiE[0];return this.LDOnMa(_)},d.prototype.LDOnMa=function(m){return~m?this.ZwLpPC(this.ktSKZu):m},d.prototype.ZwLpPC=function(m){for(let _=0,S=this.gxKRiE.length;_<S;_++)this.gxKRiE.push(Math.round(Math.random())),S=this.gxKRiE.length;return m(this.gxKRiE[0])},new d(gn).SMzLDL(),i=gn.WHjPcV(i),gn.rRJAoV[v]=i}return i}function bb({project:c,applyUpdate:r,setSelection:a,zoom:i,pan:f,stageSize:o,CANVAS_MAX_SVG:v}){const y=gn,d={fJQza:y(267),lXGIy:function(g,b){return g(b)},swSej:function(g,b){return g/b},WLwMt:function(g,b){return g*b},KuDXi:function(g,b){return g+b},zfeil:function(g,b){return g/b},ezlDB:function(g,b){return g<b},jieGJ:"leaf",dVTCs:function(g,b){return g+b},hTOEZ:function(g,b,k){return g(b,k)},ZWxwh:function(g,b){return g(b)},sSoiT:function(g,b){return g(b)}},[m,_]=ee.useState(!1),[S,w]=ee.useState({fabricSquareSize:20,leafSizeMm:d.sSoiT(Wd,20),petalType:y(289),colorId:""});return{showAddLeafDialog:m,setShowAddLeafDialog:_,addLeafOpts:S,setAddLeafOpts:w,addLeaf:()=>{const g=y,b=c[g(271)],k=c.palette?.[g(273)](I=>I.id==="col_green"||I.id==="col_darkgreen")?.id??c[g(281)]?.[0]?.id??d[g(288)];d.lXGIy(w,I=>({...I,fabricSquareSize:b,leafSizeMm:Wd(b),colorId:I.colorId||k})),d[g(285)](_,!0)},confirmAddLeaf:()=>{const g=y,{petalType:b,colorId:k,fabricSquareSize:I}=S,B=d.swSej(o.w,o.h),R=520/i,U=d[g(286)](R,B),Y=-f.x/i,H=-f.y/i;let Z=d.KuDXi(Y,d[g(287)](U,2)),P=H+R/2,F=0;for(;d.ezlDB(F,50)&&(c.leaves??[]).some(G=>Math[g(290)](G.position.x-Z)<5&&Math.abs(G.position.y-P)<5);){const G="1|2|3|4|0".split("|");let O=0;for(;;){switch(G[O++]){case"0":F++;continue;case"1":Z+=25;continue;case"2":P+=25;continue;case"3":Z=ye(Z,0,v);continue;case"4":P=ye(P,0,v);continue}break}}const J={id:Et(d[g(283)]),name:"Leaf "+d[g(275)]((c.leaves??[])[g(269)],1),position:{x:Z,y:P},rotation:135,petalType:b,colorId:k||c[g(281)]?.[0]?.id||d[g(288)],fabricSquareSize:I,scale:1,widthScale:1,visible:!0,locked:!1};d[g(292)](r,G=>{const O=g;G.leaves||(G[O(262)]=[]),G.leaves.push(J)},!0),d.ZWxwh(a,{kind:d[g(283)],leafId:J.id}),d[g(285)](_,!1)}}}(function(c,r){const a=Rn,i=c();for(;;)try{if(-parseInt(a(457))/1*(parseInt(a(421))/2)+parseInt(a(424))/3*(-parseInt(a(464))/4)+-parseInt(a(443))/5+-parseInt(a(430))/6+-parseInt(a(453))/7+parseInt(a(447))/8+parseInt(a(434))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(V0,569299);const gb=(function(){const c=Rn,r={kjLcR:c(459)};let a=!0;return function(i,f){const o=c;if(r[o(423)]!==o(427)){const v=a?function(){const y=o;if(f){const d=f[y(431)](i,arguments);return f=null,d}}:function(){};return a=!1,v}else return _0x1dc0e4.flowers.filter(v=>_0x4eecfc.flowerIds[o(433)](v.id))}})(),Ix=gb(void 0,function(){const c=Rn;return Ix[c(426)]().search(c(429)).toString().constructor(Ix)[c(452)]("(((.+)+)+)+$")});function V0(){const c=["zMLUza","zMXVD2vYCW","B254y3G","Cgv0ywXZ","Bgf5zxi","v1jXveS","DgL4Ceu","BgvHzG","q3LTEg0","Aw5KzxG","mtmXmdjhvMzdv08","z3jVDxbjza","A2Pmy1i","nNHuzwjUvW","BurtyMe","Dg9tDhjPBMC","C0Piz04","EfPcENi","kcGOlISPkYKRksSK","nJiXntm0sffvDuTs","yxbWBhK","CwHntfO","Aw5JBhvKzxm","mJiXotiYnZjIzhPiEMO","rwnMDem","Bgf5zxjZ","A2LUza","Cgv0ywW","CwPZrgO","BwL4zwq","C3rLBMnPBhm","C3rLBMnPBeLK","mta3odiZnvjpthftvG","zMLSDgvY","s0Tbv0W","BgvHzKLK","mJK0mtKZnLziEffWza","wwXsA0i","zMXVD2vYswrZ","AxP5yw0","z3jVDxbZ","C2vHCMnO","nZuXmde2n05jD1f2tq","qLLMsfa","zMXVD2vYswq","B3bpsM0","nhPAq3fetG","qwH1D2i","q0HABvK","z3jVDxa","CfPgrxu","s3LzuLe","BgvHzKLKCW","mty5mtG2mePlB1PdtW"];return V0=function(){return c},V0()}Ix();function Rn(c,r){c=c-416;const a=V0();let i=a[c];if(Rn.LvkzuN===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",w=_+f;for(let M=0,N,g,b=0;g=d.charAt(b++);~g&&(N=M%4?N*64+g:g,M++%4)?_+=w.charCodeAt(b+10)-10!==0?String.fromCharCode(255&N>>(-2*M&6)):M:0)g=m.indexOf(g);for(let M=0,N=_.length;M<N;M++)S+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(S)};Rn.KVGMlN=f,Rn.RIehCm={},Rn.LvkzuN=!0}const o=a[0],v=c+o,y=Rn.RIehCm[v];if(y)i=y;else{const d=function(m){this.EdbPEP=m,this.VaQNAg=[1,0,0],this.nbRLBX=function(){return"newState"},this.lgwlni="\\w+ *\\(\\) *{\\w+ *",this.kXHQkI=`['|"].+['|"];? *}`};d.prototype.DfgkVM=function(){const m=new RegExp(this.lgwlni+this.kXHQkI),_=m.test(this.nbRLBX.toString())?--this.VaQNAg[1]:--this.VaQNAg[0];return this.ZgMHSM(_)},d.prototype.ZgMHSM=function(m){return~m?this.VUJcvs(this.EdbPEP):m},d.prototype.VUJcvs=function(m){for(let _=0,S=this.VaQNAg.length;_<S;_++)this.VaQNAg.push(Math.round(Math.random())),S=this.VaQNAg.length;return m(this.VaQNAg[0])},new d(Rn).DfgkVM(),i=Rn.KVGMlN(i),Rn.RIehCm[v]=i}return i}function vb(c,r){const a=Rn,i={BUvhG:function(g,b){return g===b},UPsze:function(g,b){return g===b},qhMLZ:function(g,b){return g===b},EEOhO:a(440),BYfHP:function(g,b){return g===b},YlRkB:function(g,b){return g===b},WRqTK:a(469),EcftC:function(g,b){return g===b},sqosW:"group",opOJm:function(g,b){return g===b},izyam:a(462),WnSlI:"flower",ivBNk:function(g,b){return g===b},xZBzr:function(g,b,k){return g(b,k)},Dtzad:function(g,b){return g===b},LWbYN:a(417),KKAWL:function(g,b){return g===b},IAAHu:function(g,b){return g===b},Cymxm:a(425),Ahuwb:function(g,b,k){return g(b,k)},qjsDj:function(g,b,k){return g(b,k)},pZFEu:function(g,b){return g===b},onxcx:"petals",yWhik:function(g,b){return g===b},vkOIX:function(g,b){return g===b}},f=ee.useMemo(()=>{const g=a;return r[g(437)]==="flower"||i.BUvhG(r[g(437)],"layer")||i.UPsze(r.kind,"petal")||r[g(437)]==="petals"?c[g(466)].find(b=>b.id===r[g(455)])??null:null},[c.flowers,r]),o=i.Ahuwb(ee.useMemo,()=>{const g=a;if(i.qhMLZ(r.kind,"flowers"))return c[g(466)][g(444)](b=>r.flowerIds.includes(b.id));if(r[g(437)]===i.EEOhO)return c[g(466)].filter(b=>r[g(449)][g(433)](b.id));if(r[g(437)]===g(460)){const b=(c[g(451)]??[]).find(k=>k.id===r.groupId);if(b)return c.flowers.filter(k=>b.flowerIds[g(433)](k.id))}return[]},[c.flowers,c.groups,r]),v=i[a(439)](ee.useMemo,()=>{const g=a;return i[g(454)](r[g(437)],"leaf")?(c.leaves??[])[g(465)](b=>b.id===r[g(446)])??null:null},[c.leaves,r]),y=i[a(458)](ee.useMemo,()=>{const g=a;return i[g(448)](r.kind,g(460))?(c[g(451)]??[]).find(b=>b.id===r.groupId)??null:null},[c.groups,r]),d=i.xZBzr(ee.useMemo,()=>{const g=a;return f&&(r[g(437)]===i[g(416)]||i[g(435)](r.kind,g(438)))?f[g(436)].find(b=>b.id===r.layerId)??null:null},[f,r]),m=i[a(461)](r.kind,a(438))?r[a(420)]:null,_=r.kind===i[a(467)]?r[a(468)]:[],S=r.kind==="stencil"?(c[a(441)]??[]).find(g=>g.id===r[a(442)])??null:null,w=r[a(437)]==="flower"||i.yWhik(r.kind,"layer")||i[a(432)](r[a(437)],"petal")||i.vkOIX(r[a(437)],"petals")?r[a(455)]:null,M=i.qjsDj(ee.useMemo,()=>{const g=a;if(r.kind===i.sqosW){const b=(c.groups??[])[g(465)](k=>k.id===r.groupId);if(b)return new Set(b[g(449)])}if(r.kind==="flowers")return i[g(456)](i[g(450)],"ixFhN")?new _0x11643f(_0x17c3b6.flowerIds.filter(b=>b!==_0x58015f.flowerId)):new Set(r.flowerIds);if(i.YlRkB(r[g(437)],"mixed"))return new Set(r[g(449)]);if(i.UPsze(r.kind,i.WnSlI)||i.ivBNk(r.kind,i[g(416)])||r[g(437)]==="petal"||r[g(437)]===g(468)){const b=i[g(428)](ll,c,r[g(455)]);if(b)return r.kind==="flower"?new Set(b[g(449)][g(444)](k=>k!==r.flowerId)):new Set(b.flowerIds)}return new Set},[r,c]),N=i[a(428)](ee.useMemo,()=>{const g=a;if(i.LWbYN==="tixpE"){if(i[g(445)](r[g(437)],g(460))){const b=(c.groups??[]).find(k=>k.id===r[g(422)]);if(b)return new Set(b.leafIds)}if(i.IAAHu(r[g(437)],"leaves"))return i[g(419)]==="sCkxG"?i.Dtzad(_0x4e895f.kind,i.WnSlI)?new _0x336e7f(_0x4ced96[g(449)][g(444)](b=>b!==_0x266ab0[g(455)])):new _0x644197(_0x2e1f1d[g(449)]):new Set(r[g(463)]);if(r[g(437)]===g(440))return new Set(r.leafIds);if(r.kind===g(418)){const b=zl(c,r[g(446)]);if(b)return new Set(b[g(463)][g(444)](k=>k!==r.leafId))}return new Set}else return new _0x54edb0(_0x449374[g(449)])},[r,c]);return{selectedFlower:f,selectedFlowers:o,selectedLeaf:v,selectedGroup:y,selectedLayer:d,selectedPetalIndex:m,selectedPetals:_,selectedStencil:S,selectedFlowerId:w,groupHighlightedFlowerIds:M,groupHighlightedLeafIds:N}}function yb(c){const{project:r,selection:a,setSelection:i,applyUpdate:f}=c,o=ee.useMemo(()=>new Map((r.palette||[]).map(me=>[me.id,me])),[r.palette]),{widths:v,containerRef:y,onDividerPointerDown:d,onDividerDoubleClick:m,isDragging:_,isDesktop:S}=ub(),w=ee.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[M,N]=ee.useState({});ee.useEffect(()=>{try{const Se=localStorage.getItem(w);if(Se){const Re=JSON.parse(Se);if(Re&&typeof Re=="object"){N(Re);return}}}catch{}const me=r.flowers?.[0];me&&N({[me.id]:!0})},[w]),ee.useEffect(()=>{try{localStorage.setItem(w,JSON.stringify(M))}catch{}},[w,M]),ee.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const me=a.flowerId;N(Se=>Se?.[me]?Se:{...Se,[me]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const me=a.flowerIds;N(Se=>{const Re={...Se};for(const Xe of me)Re[Xe]=!0;return Re})}},[a]);const g=me=>M?.[me]??!1,b=me=>N(Se=>({...Se,[me]:!(Se?.[me]??!1)})),k=ee.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[I,B]=ee.useState({});ee.useEffect(()=>{try{const Se=localStorage.getItem(k);if(Se){const Re=JSON.parse(Se);if(Re&&typeof Re=="object"){B(Re);return}}}catch{}const me=r.groups??[];if(me.length>0){const Se={};for(const Re of me)Se[Re.id]=!0;B(Se)}},[k]),ee.useEffect(()=>{try{localStorage.setItem(k,JSON.stringify(I))}catch{}},[k,I]);const R=me=>I?.[me]??!0,U=me=>B(Se=>({...Se,[me]:!(Se?.[me]??!0)})),Y=ee.useRef({flowerId:null,timer:null}),H=me=>{const Se=Y.current.timer;Se&&window.clearTimeout(Se),Y.current.flowerId=me,Y.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:me}),N(Re=>({...Re,[me]:!0})),Y.current.timer=null,Y.current.flowerId=null},200)},Z=me=>{const Se=Y.current.timer;Se&&Y.current.flowerId===me&&window.clearTimeout(Se),Y.current.timer=null,Y.current.flowerId=null,i({kind:"flower",flowerId:me}),b(me)},P=ee.useRef(null),[F,J]=ee.useState({w:520,h:520});ee.useEffect(()=>{const me=P.current;if(!me)return;const Se=new ResizeObserver(Re=>{for(const Xe of Re){const{width:St,height:Qn}=Xe.contentRect;St>0&&Qn>0&&J({w:St,h:Qn})}});return Se.observe(me),()=>Se.disconnect()},[]);const G=me=>{const Se=P.current;if(!Se)return{x:0,y:0};const Re=Se.createSVGPoint();Re.x=me.clientX,Re.y=me.clientY;const Xe=Se.getScreenCTM();if(!Xe)return{x:0,y:0};const St=Re.matrixTransform(Xe.inverse());return{x:St.x,y:St.y}},O=500*tn,p=-300*tn,h=800*tn,z=ee.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[D,A]=ee.useState(6),[q,L]=ee.useState(z[6]),j=ee.useCallback(me=>{A(Se=>{const Re=typeof me=="function"?me(Se):me;return L(z[Re]),Re})},[z]),E=ee.useCallback(me=>{const Se=ye(me,z[0],z[z.length-1]);L(Se);let Re=0,Xe=Math.abs(z[0]-Se);for(let St=1;St<z.length;St++){const Qn=Math.abs(z[St]-Se);Qn<Xe&&(Re=St,Xe=Qn)}A(Re)},[z]),[K,X]=ee.useState({x:0,y:0}),[Q,te]=ee.useState(!0),[re,oe]=ee.useState(!1),he=ee.useRef(null),be=ee.useMemo(()=>{const me=F.w/F.h,Se=520,Re=Se*me;return(Xe,St=q)=>{const Qn=ye(Xe.x,-(h*St-Re),-p*St),cl=ye(Xe.y,-(h*St-Se),-p*St);return{x:Qn,y:cl}}},[F,q,p,h]),de=ee.useMemo(()=>be(K),[K,be]),pe=ee.useCallback(me=>X(me),[]),Te=ee.useMemo(()=>{const me=F.w/F.h,Se=520,Re=Se*me,Xe=-de.x/q,St=-de.y/q;return`${Xe} ${St} ${Re/q} ${Se/q}`},[q,de,F]),{deleteLeafById:Je,handleShiftLeafSelect:Be,groupSelectedLeaves:vt,ungroupLeaves:zt,addLeafToGroup:Lt,removeLeafFromGroup:dt,addLeavesToGroup:Ut,mergeLeafGroups:nn}=fb({project:r,applyUpdate:f,selection:a,setSelection:i}),{showAddFlowerDialog:Jn,setShowAddFlowerDialog:Vn,addFlowerOpts:Fe,setAddFlowerOpts:vn,addFlower:Dl,confirmAddFlower:il}=hb({project:r,applyUpdate:f,setSelection:i,setExpandedFlowers:N,zoom:q,pan:de,stageSize:F,CANVAS_MAX_SVG:O}),{showAddLeafDialog:rl,setShowAddLeafDialog:Nl,addLeafOpts:aa,setAddLeafOpts:Wn,addLeaf:oi,confirmAddLeaf:On}=bb({project:r,applyUpdate:f,setSelection:i,zoom:q,pan:de,stageSize:F,CANVAS_MAX_SVG:O}),{selectedFlower:Bt,selectedFlowers:yn,selectedLeaf:Oe,selectedLayer:fe,selectedPetalIndex:ke,selectedPetals:Ie,selectedStencil:we,selectedFlowerId:_e,groupHighlightedFlowerIds:Ae,groupHighlightedLeafIds:ze}=vb(r,a),{deleteFlowerById:Ce,deleteLayerById:$e,addOuterLayer:et,deleteOuterLayer:Ve,deleteSelected:We,groupSelectedFlowers:Le,groupSelectedMixed:kt,ungroupFlowers:tt,ungroupAll:Dt,addToGroup:rt,mergeGroups:lt,addStencil:mt,deleteStencil:pn,handleShiftFlowerSelect:Ca,togglePetalSelection:Xt}=sb({project:r,applyUpdate:f,selection:a,setSelection:i,setExpandedFlowers:N,setExpandedGroups:B,zoom:q,pan:de,stageSize:F,CANVAS_MAX_SVG:O,deleteLeafById:Je}),De=sm({project:r,selection:a,setSelection:i,applyUpdate:f,dragRef:c.dragRef,zoom:q,pan:de,setPan:pe,stageRef:P,clientToSvgPoint:G,togglePetalSelection:Xt}),[It,Al]=ee.useState(0),_n=a.kind,Q0=_n==="flower"?a.flowerId:null,P0=_n==="flowers"?a.flowerIds?.join(","):null,dr=_n==="layer"||_n==="petal"?a.layerId:null,ia=_n==="petal"?a.index:null,fi=_n==="petals"?a.petals?.length:null;ee.useEffect(()=>{_n!=="project"&&Al(Date.now())},[_n,Q0,P0,dr,ia,fi]),ee.useEffect(()=>{if(!he.current)return;const me=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!me)return;const Se=he.current.querySelector(`[data-flower-id="${me}"]`);Se&&Se.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ll=ee.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[It]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:y,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:S?{width:`${v.left}%`}:void 0,children:x.jsx(fm,{project:r,selection:a,setSelection:i,expandedFlowers:M,setExpandedFlowers:N,isExpanded:g,toggleExpanded:b,scheduleFlowerRowClick:H,handleFlowerRowDoubleClick:Z,addFlower:Dl,deleteSelected:We,addOuterLayer:et,deleteOuterLayer:Ve,deleteFlowerById:Ce,deleteLayerById:$e,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:he,groups:r.groups??[],expandedGroups:I,isGroupExpanded:R,toggleGroupExpanded:U,onSelectGroup:me=>i({kind:"group",groupId:me}),onUngroupFlowers:tt,leaves:r.leaves??[],onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onAddLeaf:oi,onDeleteLeaf:Je})}),x.jsx(Vd,{side:"left",onPointerDown:d,onDoubleClick:m,isDragging:_}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Rm,{project:r,selection:a,setSelection:i,applyUpdate:f,paletteMap:o,selectedFlowerId:_e,zoom:q,setZoom:E,zoomLevel:D,setZoomLevel:j,ZOOM_LEVELS:z,pan:de,panRaw:K,setPan:pe,showGrid:Q,setShowGrid:te,showHelp:re,setShowHelp:oe,stageRef:P,viewBox:Te,dashSyncToken:It,dashDelay:Ll,beginPan:De.beginPan,updatePan:De.updatePan,endPan:De.endPan,beginMarquee:De.beginMarquee,updateMarquee:De.updateMarquee,endMarquee:De.endMarquee,marqueeRef:De.marqueeRef,marqueeRect:De.marqueeRect,beginFlowerDrag:De.beginFlowerDrag,updateFlowerDrag:De.updateFlowerDrag,endFlowerDrag:De.endFlowerDrag,scaleDragRef:De.scaleDragRef,beginScaleDrag:De.beginScaleDrag,updateScaleDrag:De.updateScaleDrag,endScaleDrag:De.endScaleDrag,rotationDragRef:De.rotationDragRef,beginRotationDrag:De.beginRotationDrag,updateRotationDrag:De.updateRotationDrag,endRotationDrag:De.endRotationDrag,widthScaleDragRef:De.widthScaleDragRef,beginWidthScaleDrag:De.beginWidthScaleDrag,updateWidthScaleDrag:De.updateWidthScaleDrag,endWidthScaleDrag:De.endWidthScaleDrag,radiusDragRef:De.radiusDragRef,beginRadiusDrag:De.beginRadiusDrag,updateRadiusDrag:De.updateRadiusDrag,endRadiusDrag:De.endRadiusDrag,togglePetalSelection:Xt,clientToSvgPoint:G,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:mt,onDeleteStencil:pn,onSelectStencil:me=>i({kind:"stencil",stencilId:me}),handleShiftFlowerSelect:Ca,groupHighlightedFlowerIds:Ae,leaves:r.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:ze,onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onSelectGroup:me=>i({kind:"group",groupId:me}),onShiftSelectLeaf:Be})}),x.jsx(Vd,{side:"right",onPointerDown:d,onDoubleClick:m,isDragging:_}),x.jsx("div",{className:"min-w-0 shrink-0",style:S?{width:`${v.right}%`}:void 0,children:x.jsx($m,{project:r,selection:a,applyUpdate:f,selectedFlower:Bt,selectedFlowers:yn,selectedLayer:fe,selectedPetalIndex:ke,selectedPetals:Ie,selectedStencil:we,onDeleteStencil:pn,groups:r.groups??[],onGroupFlowers:Le,onUngroupFlowers:tt,onUngroupAll:Dt,onAddToGroup:rt,onMergeGroups:lt,selectedLeaf:Oe,onDeleteLeaf:Je,onGroupLeaves:vt,onUngroupLeaves:zt,onAddLeafToGroup:Lt,onRemoveLeafFromGroup:dt,onAddLeavesToGroup:Ut,onMergeLeafGroups:nn,onGroupMixed:kt})})]}),Jn&&x.jsx(nb,{palette:r.palette,addFlowerOpts:Fe,setAddFlowerOpts:vn,onConfirm:il,onCancel:()=>Vn(!1)}),rl&&x.jsx(ib,{palette:r.palette,addLeafOpts:aa,setAddLeafOpts:Wn,onConfirm:On,onCancel:()=>Nl(!1)}),re&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:me=>me.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([me,Se])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:me}),x.jsx("td",{className:"py-2 text-neutral-700",children:Se})]},me))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function pb({cg:c}){const[r,a]=ee.useState("w"),[i,f]=ee.useState(""),o=c.totalAreaCm2,v=parseFloat(i),d=i!==""&&Number.isFinite(v)&&v>0?Math.round(o/v*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(m=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[m.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[m.count," "]})]},m.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",o,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:m=>f(m.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:m=>f(m.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function _b(c){const{recipe:r}=c;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[r.colors.map(a=>x.jsx(pb,{cg:a},a.colorId)),r.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function Sb(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function wb(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Cb(c){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function jb(){const[c,r]=ee.useState("home"),[a,i]=ee.useState([]),[f,o]=ee.useState(null),[v,y]=ee.useState({kind:"project"}),[d,m]=ee.useState([]),[_,S]=ee.useState(0),w=ee.useRef(f),M=ee.useRef(d),N=ee.useRef(_);ee.useEffect(()=>{w.current=f},[f]),ee.useEffect(()=>{M.current=d},[d]),ee.useEffect(()=>{N.current=_},[_]);const g=ee.useRef(null),b=ee.useRef(null),k=ee.useRef(null),I=ee.useRef(null),[B,R]=ee.useState(null);ee.useEffect(()=>{const L=B?window.setTimeout(()=>R(null),2200):null;return()=>{L&&window.clearTimeout(L)}},[B]),ee.useEffect(()=>{i(ir())},[]);function U(L){const j=JSON.stringify(L);m([j]),S(0)}function Y(L,j=!0){if(!j){o(be=>{if(!be)return be;const de=ta(be);return L(de),de.updatedAt=D0(),de});return}const E=w.current;if(!E)return;const K=ta(E);L(K),K.updatedAt=D0(),o(K);const X=M.current,Q=N.current;if(X.length===0){U(K);return}const te=JSON.stringify(K);let oe=[...X.slice(0,Q+1),te];const he=50;oe.length>he&&(oe=oe.slice(oe.length-he)),m(oe),S(oe.length-1)}function H(){S(L=>{if(L<=0)return L;const j=L-1,E=M.current[j];return E&&o(wa(JSON.parse(E))),R("Undo"),j})}function Z(){S(L=>{if(L>=M.current.length-1)return L;const j=L+1,E=M.current[j];return E&&o(wa(JSON.parse(E))),R("Redo"),j})}function P(){if(!f)return;const L=Xh(f);i(ir()),R(L?"Saved":" ")}function F(){if(!f)return;const L=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),j=URL.createObjectURL(L),E=document.createElement("a");E.href=j,E.download=`${f.title||"tsumami"}.json`,E.click(),URL.revokeObjectURL(j),R("JSON exported")}function J(L){const j=new FileReader;j.onload=()=>{try{const E=JSON.parse(String(j.result??""));if(!E||typeof E!="object"||!Array.isArray(E.flowers))throw new Error("Invalid JSON");const K=wa(E);o(K),y({kind:"project"}),U(K),r("editor"),R("Imported")}catch{R("Import failed")}},j.readAsText(L)}function G(L){const j=wa(L);o(j),y({kind:"project"}),U(j),r("editor")}function O(L){return L&&(L.kind==="flower"||L.kind==="layer"||L.kind==="petal")?L.flowerId:null}function p(){if(!f)return;const L=O(v);if(!L)return;const j=f.flowers.find(E=>E.id===L);j&&(b.current=ta(j),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:j},null,2)).catch(()=>{}),R("Flower copied"))}function h(){if(!f||v.kind!=="leaf")return;const L=(f.leaves??[]).find(j=>j.id===v.leafId);L&&(k.current=ta(L),R("Leaf copied"))}function z(){if(!f)return;const L=b.current;if(!L){R("Nothing to paste");return}const j=Oh(L,{x:12+Math.random()*10,y:12+Math.random()*10});Y(E=>{E.flowers.push(j)},!0),y({kind:"flower",flowerId:j.id}),R("Flower pasted")}function D(){if(!f)return;const L=k.current;if(!L)return;const j=Et("leaf"),E={...ta(L),id:j,name:L.name+" (copy)",position:{x:L.position.x+30,y:L.position.y+30}};Y(K=>{K.leaves||(K.leaves=[]),K.leaves.push(E)},!0),y({kind:"leaf",leafId:E.id}),R("Leaf pasted")}function A(L){if(!f)return;const j=O(v);j&&(Y(E=>{const K=E.flowers.findIndex(re=>re.id===j);if(K<0)return;const X=E.flowers,Q=X[K];if(!Q)return;if(X.splice(K,1),L==="front"){X.push(Q);return}if(L==="back"){X.unshift(Q);return}if(L==="forward"){if(K>=X.length){X.push(Q);return}X.splice(K+1,0,Q);return}const te=ye(K-1,0,X.length);X.splice(te,0,Q)},!0),R(L==="front"?"Brought to front":L==="back"?"Sent to back":L==="forward"?"Moved forward":"Moved backward"))}ee.useEffect(()=>{function L(E){const K=E;if(!K)return!1;const X=String(K.tagName||"").toLowerCase();return X==="input"||X==="textarea"||X==="select"||!!K.isContentEditable}function j(E){if(!(L(E.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?E.metaKey:E.ctrlKey))){if(c==="editor"){if(E.key.toLowerCase()==="c"){E.preventDefault(),v.kind==="leaf"?h():p();return}if(E.key.toLowerCase()==="v"){E.preventDefault(),k.current&&(v.kind==="leaf"||v.kind==="leaves"||v.kind==="mixed"||!b.current)?D():z();return}}E.key.toLowerCase()==="z"&&(E.preventDefault(),E.shiftKey?Z():H()),E.key.toLowerCase()==="s"&&(E.preventDefault(),P())}}return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[f,d,_,v,c]);const q=ee.useMemo(()=>f?Wh(f):null,[f]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx(em,{view:c,onNavigate:r,project:f,onSave:P,onLoad:()=>r("home"),onImportJson:()=>I.current?.click(),onExportJson:F,onExportSvg:()=>{const L=document.querySelector('[data-testid="canvas-svg"]');L&&f&&Ph(L,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const L=document.querySelector('[data-testid="canvas-svg"]');L&&f&&Fh(L,`${f.title||"tsumami"}.png`)}}),x.jsx("input",{ref:I,type:"file",accept:"application/json",className:"hidden",onChange:L=>{const j=L.target.files?.[0];j&&J(j),L.currentTarget.value=""}}),B&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:B}),x.jsxs("main",{className:"flex-1",children:[c==="home"&&x.jsx(tm,{saved:a,onNew:()=>r("new"),onOpen:L=>{const j=wa(ta(L));o(j),y({kind:"project"}),U(j),r("editor")},onDelete:L=>{Jh(L),i(ir()),R("Deleted")}}),c==="new"&&x.jsx(nm,{onBack:()=>r("home"),onCreate:L=>{const j=Hh({title:L});G(j)}}),c==="editor"&&f&&x.jsx(yb,{project:f,selection:v,setSelection:y,applyUpdate:Y,onGoRecipe:()=>r("recipe"),onImport:J,dragRef:g,onCopyFlower:p,onPasteFlower:z,onArrangeFlower:A,canPasteFlower:!!b.current,onUndo:H,onRedo:Z,canUndo:_>0,canRedo:_<d.length-1}),c==="recipe"&&f&&q&&x.jsx(_b,{project:f,recipe:q,onBack:()=>r("editor"),onExportJson:F}),c==="terms"&&x.jsx(Sb,{onBack:()=>r("home")}),c==="privacy"&&x.jsx(wb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!f&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&x.jsx(Cb,{onNavigate:r})]})}class Mb extends ee.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}jh.createRoot(document.getElementById("root")).render(x.jsx(ee.StrictMode,{children:x.jsx(Mb,{children:x.jsx(jb,{})})}));

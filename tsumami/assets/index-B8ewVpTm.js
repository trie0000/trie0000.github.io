(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var ns={exports:{}},Pi={};var Dd;function oh(){if(Dd)return Pi;Dd=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var w in o)w!=="key"&&(f[w]=o[w])}else f=o;return o=f.ref,{$$typeof:u,type:r,key:m,ref:o!==void 0?o:null,props:f}}return Pi.Fragment=i,Pi.jsx=a,Pi.jsxs=a,Pi}var Nd;function fh(){return Nd||(Nd=1,ns.exports=oh()),ns.exports}var s=fh(),ls={exports:{}},Ne={};var Ad;function dh(){if(Ad)return Ne;Ad=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),N=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function L(D,q,Z){this.props=D,this.context=q,this.refs=S,this.updater=Z||z}L.prototype.isReactComponent={},L.prototype.setState=function(D,q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,q,"setState")},L.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Y(){}Y.prototype=L.prototype;function G(D,q,Z){this.props=D,this.context=q,this.refs=S,this.updater=Z||z}var k=G.prototype=new Y;k.constructor=G,v(k,L.prototype),k.isPureReactComponent=!0;var I=Array.isArray;function F(){}var R={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function $(D,q,Z){var U=Z.ref;return{$$typeof:u,type:D,key:q,ref:U!==void 0?U:null,props:Z}}function V(D,q){return $(D.type,q,D.props)}function W(D){return typeof D=="object"&&D!==null&&D.$$typeof===u}function _(D){var q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Z){return q[Z]})}var C=/\/+/g;function T(D,q){return typeof D=="object"&&D!==null&&D.key!=null?_(""+D.key):q.toString(36)}function j(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(F,F):(D.status="pending",D.then(function(q){D.status==="pending"&&(D.status="fulfilled",D.value=q)},function(q){D.status==="pending"&&(D.status="rejected",D.reason=q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function M(D,q,Z,U,le){var ce=typeof D;(ce==="undefined"||ce==="boolean")&&(D=null);var me=!1;if(D===null)me=!0;else switch(ce){case"bigint":case"string":case"number":me=!0;break;case"object":switch(D.$$typeof){case u:case i:me=!0;break;case g:return me=D._init,M(me(D._payload),q,Z,U,le)}}if(me)return le=le(D),me=U===""?"."+T(D,0):U,I(le)?(Z="",me!=null&&(Z=me.replace(C,"$&/")+"/"),M(le,q,Z,"",function(de){return de})):le!=null&&(W(le)&&(le=V(le,Z+(le.key==null||D&&D.key===le.key?"":(""+le.key).replace(C,"$&/")+"/")+me)),q.push(le)),1;me=0;var be=U===""?".":U+":";if(I(D))for(var fe=0;fe<D.length;fe++)U=D[fe],ce=be+T(U,fe),me+=M(U,q,Z,ce,le);else if(fe=b(D),typeof fe=="function")for(D=fe.call(D),fe=0;!(U=D.next()).done;)U=U.value,ce=be+T(U,fe++),me+=M(U,q,Z,ce,le);else if(ce==="object"){if(typeof D.then=="function")return M(j(D),q,Z,U,le);throw q=String(D),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return me}function E(D,q,Z){if(D==null)return D;var U=[],le=0;return M(D,U,"","",function(ce){return q.call(Z,ce,le++)}),U}function B(D){if(D._status===-1){var q=D._result;q=q(),q.then(function(Z){(D._status===0||D._status===-1)&&(D._status=1,D._result=Z)},function(Z){(D._status===0||D._status===-1)&&(D._status=2,D._result=Z)}),D._status===-1&&(D._status=0,D._result=q)}if(D._status===1)return D._result.default;throw D._result}var J=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},O={map:E,forEach:function(D,q,Z){E(D,function(){q.apply(this,arguments)},Z)},count:function(D){var q=0;return E(D,function(){q++}),q},toArray:function(D){return E(D,function(q){return q})||[]},only:function(D){if(!W(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ne.Activity=y,Ne.Children=O,Ne.Component=L,Ne.Fragment=a,Ne.Profiler=o,Ne.PureComponent=G,Ne.StrictMode=r,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},Ne.cache=function(D){return function(){return D.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(D,q,Z){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var U=v({},D.props),le=D.key;if(q!=null)for(ce in q.key!==void 0&&(le=""+q.key),q)!K.call(q,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&q.ref===void 0||(U[ce]=q[ce]);var ce=arguments.length-2;if(ce===1)U.children=Z;else if(1<ce){for(var me=Array(ce),be=0;be<ce;be++)me[be]=arguments[be+2];U.children=me}return $(D.type,le,U)},Ne.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},Ne.createElement=function(D,q,Z){var U,le={},ce=null;if(q!=null)for(U in q.key!==void 0&&(ce=""+q.key),q)K.call(q,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(le[U]=q[U]);var me=arguments.length-2;if(me===1)le.children=Z;else if(1<me){for(var be=Array(me),fe=0;fe<me;fe++)be[fe]=arguments[fe+2];le.children=be}if(D&&D.defaultProps)for(U in me=D.defaultProps,me)le[U]===void 0&&(le[U]=me[U]);return $(D,ce,le)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:w,render:D}},Ne.isValidElement=W,Ne.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:B}},Ne.memo=function(D,q){return{$$typeof:d,type:D,compare:q===void 0?null:q}},Ne.startTransition=function(D){var q=R.T,Z={};R.T=Z;try{var U=D(),le=R.S;le!==null&&le(Z,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(F,J)}catch(ce){J(ce)}finally{q!==null&&Z.types!==null&&(q.types=Z.types),R.T=q}},Ne.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ne.use=function(D){return R.H.use(D)},Ne.useActionState=function(D,q,Z){return R.H.useActionState(D,q,Z)},Ne.useCallback=function(D,q){return R.H.useCallback(D,q)},Ne.useContext=function(D){return R.H.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D,q){return R.H.useDeferredValue(D,q)},Ne.useEffect=function(D,q){return R.H.useEffect(D,q)},Ne.useEffectEvent=function(D){return R.H.useEffectEvent(D)},Ne.useId=function(){return R.H.useId()},Ne.useImperativeHandle=function(D,q,Z){return R.H.useImperativeHandle(D,q,Z)},Ne.useInsertionEffect=function(D,q){return R.H.useInsertionEffect(D,q)},Ne.useLayoutEffect=function(D,q){return R.H.useLayoutEffect(D,q)},Ne.useMemo=function(D,q){return R.H.useMemo(D,q)},Ne.useOptimistic=function(D,q){return R.H.useOptimistic(D,q)},Ne.useReducer=function(D,q,Z){return R.H.useReducer(D,q,Z)},Ne.useRef=function(D){return R.H.useRef(D)},Ne.useState=function(D){return R.H.useState(D)},Ne.useSyncExternalStore=function(D,q,Z){return R.H.useSyncExternalStore(D,q,Z)},Ne.useTransition=function(){return R.H.useTransition()},Ne.version="19.2.3",Ne}var Td;function qs(){return Td||(Td=1,ls.exports=dh()),ls.exports}var P=qs(),as={exports:{}},Fi={},is={exports:{}},rs={};var Ed;function hh(){return Ed||(Ed=1,(function(u){function i(M,E){var B=M.length;M.push(E);e:for(;0<B;){var J=B-1>>>1,O=M[J];if(0<o(O,E))M[J]=E,M[B]=O,B=J;else break e}}function a(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var E=M[0],B=M.pop();if(B!==E){M[0]=B;e:for(var J=0,O=M.length,D=O>>>1;J<D;){var q=2*(J+1)-1,Z=M[q],U=q+1,le=M[U];if(0>o(Z,B))U<O&&0>o(le,Z)?(M[J]=le,M[U]=B,J=U):(M[J]=Z,M[q]=B,J=q);else if(U<O&&0>o(le,B))M[J]=le,M[U]=B,J=U;else break e}}return E}function o(M,E){var B=M.sortIndex-E.sortIndex;return B!==0?B:M.id-E.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var m=Date,w=m.now();u.unstable_now=function(){return m.now()-w}}var h=[],d=[],g=1,y=null,N=3,b=!1,z=!1,v=!1,S=!1,L=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function k(M){for(var E=a(d);E!==null;){if(E.callback===null)r(d);else if(E.startTime<=M)r(d),E.sortIndex=E.expirationTime,i(h,E);else break;E=a(d)}}function I(M){if(v=!1,k(M),!z)if(a(h)!==null)z=!0,F||(F=!0,_());else{var E=a(d);E!==null&&j(I,E.startTime-M)}}var F=!1,R=-1,K=5,$=-1;function V(){return S?!0:!(u.unstable_now()-$<K)}function W(){if(S=!1,F){var M=u.unstable_now();$=M;var E=!0;try{e:{z=!1,v&&(v=!1,Y(R),R=-1),b=!0;var B=N;try{t:{for(k(M),y=a(h);y!==null&&!(y.expirationTime>M&&V());){var J=y.callback;if(typeof J=="function"){y.callback=null,N=y.priorityLevel;var O=J(y.expirationTime<=M);if(M=u.unstable_now(),typeof O=="function"){y.callback=O,k(M),E=!0;break t}y===a(h)&&r(h),k(M)}else r(h);y=a(h)}if(y!==null)E=!0;else{var D=a(d);D!==null&&j(I,D.startTime-M),E=!1}}break e}finally{y=null,N=B,b=!1}E=void 0}}finally{E?_():F=!1}}}var _;if(typeof G=="function")_=function(){G(W)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,T=C.port2;C.port1.onmessage=W,_=function(){T.postMessage(null)}}else _=function(){L(W,0)};function j(M,E){R=L(function(){M(u.unstable_now())},E)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(M){M.callback=null},u.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<M?Math.floor(1e3/M):5},u.unstable_getCurrentPriorityLevel=function(){return N},u.unstable_next=function(M){switch(N){case 1:case 2:case 3:var E=3;break;default:E=N}var B=N;N=E;try{return M()}finally{N=B}},u.unstable_requestPaint=function(){S=!0},u.unstable_runWithPriority=function(M,E){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=N;N=M;try{return E()}finally{N=B}},u.unstable_scheduleCallback=function(M,E,B){var J=u.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?J+B:J):B=J,M){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=B+O,M={id:g++,callback:E,priorityLevel:M,startTime:B,expirationTime:O,sortIndex:-1},B>J?(M.sortIndex=B,i(d,M),a(h)===null&&M===a(d)&&(v?(Y(R),R=-1):v=!0,j(I,B-J))):(M.sortIndex=O,i(h,M),z||b||(z=!0,F||(F=!0,_()))),M},u.unstable_shouldYield=V,u.unstable_wrapCallback=function(M){var E=N;return function(){var B=N;N=E;try{return M.apply(this,arguments)}finally{N=B}}}})(rs)),rs}var Ld;function mh(){return Ld||(Ld=1,is.exports=hh()),is.exports}var cs={exports:{}},Ht={};var Bd;function bh(){if(Bd)return Ht;Bd=1;var u=qs();function i(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(h,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:h,containerInfo:d,implementation:g}}var m=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ht.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(i(299));return f(h,d,null,g)},Ht.flushSync=function(h){var d=m.T,g=r.p;try{if(m.T=null,r.p=2,h)return h()}finally{m.T=d,r.p=g,r.d.f()}},Ht.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Ht.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Ht.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,y=w(g,d.crossOrigin),N=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:N,fetchPriority:b}):g==="script"&&r.d.X(h,{crossOrigin:y,integrity:N,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ht.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=w(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Ht.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=w(g,d.crossOrigin);r.d.L(h,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ht.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=w(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Ht.requestFormReset=function(h){r.d.r(h)},Ht.unstable_batchedUpdates=function(h,d){return h(d)},Ht.useFormState=function(h,d,g){return m.H.useFormState(h,d,g)},Ht.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ht.version="19.2.3",Ht}var qd;function vh(){if(qd)return cs.exports;qd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),cs.exports=bh(),cs.exports}var Gd;function gh(){if(Gd)return Fi;Gd=1;var u=mh(),i=qs(),a=vh();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(r(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var x=c.alternate;if(x===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===x.child){for(x=c.child;x;){if(x===n)return h(c),e;if(x===l)return h(c),t;x=x.sibling}throw Error(r(188))}if(n.return!==l.return)n=c,l=x;else{for(var p=!1,A=c.child;A;){if(A===n){p=!0,n=c,l=x;break}if(A===l){p=!0,l=c,n=x;break}A=A.sibling}if(!p){for(A=x.child;A;){if(A===n){p=!0,n=x,l=c;break}if(A===l){p=!0,l=x,n=c;break}A=A.sibling}if(!p)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,N=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),G=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function _(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function T(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case L:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case F:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case G:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return t=e.displayName||null,t!==null?t:T(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return T(e(t))}catch{}}return null}var j=Array.isArray,M=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},J=[],O=-1;function D(e){return{current:e}}function q(e){0>O||(e.current=J[O],J[O]=null,O--)}function Z(e,t){O++,J[O]=e.current,e.current=t}var U=D(null),le=D(null),ce=D(null),me=D(null);function be(e,t){switch(Z(ce,t),Z(le,e),Z(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Pf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Pf(t),e=Ff(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(U),Z(U,e)}function fe(){q(U),q(le),q(ce)}function de(e){e.memoizedState!==null&&Z(me,e);var t=U.current,n=Ff(t,e.type);t!==n&&(Z(le,e),Z(U,n))}function oe(e){le.current===e&&(q(U),q(le)),me.current===e&&(q(me),Ji._currentValue=B)}var Me,He;function ft(e){if(Me===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Me=t&&t[1]||"",He=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+e+He}var st=!1;function bt(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var ne=ae}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ae){ne=ae}e.call(ue.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),p=x[0],A=x[1];if(p&&A){var H=p.split(`
`),te=A.split(`
`);for(c=l=0;l<H.length&&!H[l].includes("DetermineComponentFrameRoot");)l++;for(;c<te.length&&!te[c].includes("DetermineComponentFrameRoot");)c++;if(l===H.length||c===te.length)for(l=H.length-1,c=te.length-1;1<=l&&0<=c&&H[l]!==te[c];)c--;for(;1<=l&&0<=c;l--,c--)if(H[l]!==te[c]){if(l!==1||c!==1)do if(l--,c--,0>c||H[l]!==te[c]){var ie=`
`+H[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=c);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ft(n):""}function Yt(e,t){switch(e.tag){case 26:case 27:case 5:return ft(e.type);case 16:return ft("Lazy");case 13:return e.child!==t&&t!==null?ft("Suspense Fallback"):ft("Suspense");case 19:return ft("SuspenseList");case 0:case 15:return bt(e.type,!1);case 11:return bt(e.type.render,!1);case 1:return bt(e.type,!0);case 31:return ft("Activity");default:return""}}function Nt(e){try{var t="",n=null;do t+=Yt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Zt=u.unstable_scheduleCallback,vn=u.unstable_cancelCallback,kn=u.unstable_shouldYield,$n=u.unstable_requestPaint,Je=u.unstable_now,gn=u.unstable_getCurrentPriorityLevel,pl=u.unstable_ImmediatePriority,Xl=u.unstable_UserBlockingPriority,Yn=u.unstable_NormalPriority,ga=u.unstable_LowPriority,In=u.unstable_IdlePriority,ci=u.log,Jl=u.unstable_setDisableYieldValue,el=null,Lt=null;function We(e){if(typeof ci=="function"&&Jl(e),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(el,e)}catch{}}var xe=Math.clz32?Math.clz32:we,Be=Math.log,qe=Math.LN2;function we(e){return e>>>=0,e===0?32:31-(Be(e)/qe|0)|0}var pe=256,Ae=262144,De=4194304;function ye(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ve(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,x=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~x,l!==0?c=ye(l):(p&=A,p!==0?c=ye(p):n||(n=A&~e,n!==0&&(c=ye(n))))):(A=l&~x,A!==0?c=ye(A):p!==0?c=ye(p):n||(n=l&~e,n!==0&&(c=ye(n)))),c===0?0:t!==0&&t!==c&&(t&x)===0&&(x=c&-c,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:c}function Ye(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Qe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pe(){var e=De;return De<<=1,(De&62914560)===0&&(De=4194304),e}function Te(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $e(e,t,n,l,c,x){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var A=e.entanglements,H=e.expirationTimes,te=e.hiddenUpdates;for(n=p&~n;0<n;){var ie=31-xe(n),ue=1<<ie;A[ie]=0,H[ie]=-1;var ne=te[ie];if(ne!==null)for(te[ie]=null,ie=0;ie<ne.length;ie++){var ae=ne[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ue}l!==0&&ze(e,l,0),x!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=x&~(p&~t))}function ze(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-xe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function et(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-xe(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function tt(e,t){var n=t&-t;return n=(n&42)!==0?1:nt(n),(n&(e.suspendedLanes|t))!==0?0:n}function nt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ya(){var e=E.p;return e!==0?e:(e=window.event,e===void 0?32:_d(e.type))}function Wl(e,t){var n=E.p;try{return E.p=e,t()}finally{E.p=n}}var pn=Math.random().toString(36).slice(2),zt="__reactFiber$"+pn,It="__reactProps$"+pn,he="__reactContainer$"+pn,_e="__reactEvents$"+pn,Ze="__reactListeners$"+pn,Wt="__reactHandles$"+pn,_t="__reactResources$"+pn,rn="__reactMarker$"+pn;function ui(e){delete e[zt],delete e[It],delete e[_e],delete e[Ze],delete e[Wt]}function pa(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[he]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=id(e);e!==null;){if(n=e[zt])return n;e=id(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[zt]||e[he]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function si(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Sa(e){var t=e[_t];return t||(t=e[_t]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function At(e){e[rn]=!0}var Rs=new Set,Os={};function Vl(e,t){wa(e,t),wa(e+"Capture",t)}function wa(e,t){for(Os[e]=t,e=0;e<t.length;e++)Rs.add(t[e])}var n1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ks={},Ys={};function l1(e){return vt.call(Ys,e)?!0:vt.call(ks,e)?!1:n1.test(e)?Ys[e]=!0:(ks[e]=!0,!1)}function ur(e,t,n){if(l1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function sr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function tl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Is(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){n=""+p,x.call(this,p)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function V0(e){if(!e._valueTracker){var t=Is(e)?"checked":"value";e._valueTracker=a1(e,t,""+e[t])}}function Hs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Is(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var i1=/[\n"\\]/g;function Sn(e){return e.replace(i1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Q0(e,t,n,l,c,x,p,A){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_n(t)):e.value!==""+_n(t)&&(e.value=""+_n(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?P0(e,p,_n(t)):n!=null?P0(e,p,_n(n)):l!=null&&e.removeAttribute("value"),c==null&&x!=null&&(e.defaultChecked=!!x),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+_n(A):e.removeAttribute("name")}function Us(e,t,n,l,c,x,p,A){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){V0(e);return}n=n!=null?""+_n(n):"",t=t!=null?""+_n(t):n,A||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),V0(e)}function P0(e,t,n){t==="number"&&xr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ca(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Zs(e,t,n){if(t!=null&&(t=""+_n(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+_n(n):""}function Ks(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(j(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=_n(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),V0(e)}function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var r1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xs(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||r1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Js(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Xs(e,c,l)}else for(var x in t)t.hasOwnProperty(x)&&Xs(e,x,t[x])}function F0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),u1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(e){return u1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nl(){}var $0=null;function ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,za=null;function Ws(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if(Q0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Sn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[It]||null;if(!c)throw Error(r(90));Q0(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Hs(l)}break e;case"textarea":Zs(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ca(e,!!n.multiple,t,!1)}}}var tc=!1;function Vs(e,t,n){if(tc)return e(t,n);tc=!0;try{var l=e(t);return l}finally{if(tc=!1,(Ma!==null||za!==null)&&(Fr(),Ma&&(t=Ma,e=za,za=Ma=null,Ws(t),e)))for(t=0;t<e.length;t++)Ws(e[t])}}function xi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[It]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var ll=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=!1;if(ll)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){nc=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{nc=!1}var _l=null,lc=null,fr=null;function Qs(){if(fr)return fr;var e,t=lc,n=t.length,l,c="value"in _l?_l.value:_l.textContent,x=c.length;for(e=0;e<n&&t[e]===c[e];e++);var p=n-e;for(l=1;l<=p&&t[n-l]===c[x-l];l++);return fr=c.slice(e,1<l?1-l:void 0)}function dr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function Ps(){return!1}function Vt(e){function t(n,l,c,x,p){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=x,this.target=p,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(n=e[A],this[A]=n?n(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?hr:Ps,this.isPropagationStopped=Ps,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),t}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=Vt(Ql),fi=y({},Ql,{view:0,detail:0}),s1=Vt(fi),ac,ic,di,br=y({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ac=e.screenX-di.screenX,ic=e.screenY-di.screenY):ic=ac=0,di=e),ac)},movementY:function(e){return"movementY"in e?e.movementY:ic}}),Fs=Vt(br),x1=y({},br,{dataTransfer:0}),o1=Vt(x1),f1=y({},fi,{relatedTarget:0}),rc=Vt(f1),d1=y({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),h1=Vt(d1),m1=y({},Ql,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b1=Vt(m1),v1=y({},Ql,{data:0}),$s=Vt(v1),g1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=p1[e])?!!t[e]:!1}function cc(){return _1}var S1=y({},fi,{key:function(e){if(e.key){var t=g1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w1=Vt(S1),C1=y({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ex=Vt(C1),j1=y({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),M1=Vt(j1),z1=y({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),D1=Vt(z1),N1=y({},br,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A1=Vt(N1),T1=y({},Ql,{newState:0,oldState:0}),E1=Vt(T1),L1=[9,13,27,32],uc=ll&&"CompositionEvent"in window,hi=null;ll&&"documentMode"in document&&(hi=document.documentMode);var B1=ll&&"TextEvent"in window&&!hi,tx=ll&&(!uc||hi&&8<hi&&11>=hi),nx=" ",lx=!1;function ax(e,t){switch(e){case"keyup":return L1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ix(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function q1(e,t){switch(e){case"compositionend":return ix(t);case"keypress":return t.which!==32?null:(lx=!0,nx);case"textInput":return e=t.data,e===nx&&lx?null:e;default:return null}}function G1(e,t){if(Da)return e==="compositionend"||!uc&&ax(e,t)?(e=Qs(),fr=lc=_l=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tx&&t.locale!=="ko"?null:t.data;default:return null}}var R1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!R1[e.type]:t==="textarea"}function cx(e,t,n,l){Ma?za?za.push(l):za=[l]:Ma=l,t=i0(t,"onChange"),0<t.length&&(n=new mr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var mi=null,bi=null;function O1(e){Kf(e,0)}function vr(e){var t=si(e);if(Hs(t))return e}function ux(e,t){if(e==="change")return t}var sx=!1;if(ll){var sc;if(ll){var xc="oninput"in document;if(!xc){var xx=document.createElement("div");xx.setAttribute("oninput","return;"),xc=typeof xx.oninput=="function"}sc=xc}else sc=!1;sx=sc&&(!document.documentMode||9<document.documentMode)}function ox(){mi&&(mi.detachEvent("onpropertychange",fx),bi=mi=null)}function fx(e){if(e.propertyName==="value"&&vr(bi)){var t=[];cx(t,bi,e,ec(e)),Vs(O1,t)}}function k1(e,t,n){e==="focusin"?(ox(),mi=t,bi=n,mi.attachEvent("onpropertychange",fx)):e==="focusout"&&ox()}function Y1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vr(bi)}function I1(e,t){if(e==="click")return vr(t)}function H1(e,t){if(e==="input"||e==="change")return vr(t)}function U1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:U1;function vi(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!vt.call(t,c)||!cn(e[c],t[c]))return!1}return!0}function dx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hx(e,t){var n=dx(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dx(n)}}function mx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xr(e.document)}return t}function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Z1=ll&&"documentMode"in document&&11>=document.documentMode,Na=null,fc=null,gi=null,dc=!1;function vx(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dc||Na==null||Na!==xr(l)||(l=Na,"selectionStart"in l&&oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gi&&vi(gi,l)||(gi=l,l=i0(fc,"onSelect"),0<l.length&&(t=new mr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Na)))}function Pl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aa={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionrun:Pl("Transition","TransitionRun"),transitionstart:Pl("Transition","TransitionStart"),transitioncancel:Pl("Transition","TransitionCancel"),transitionend:Pl("Transition","TransitionEnd")},hc={},gx={};ll&&(gx=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Fl(e){if(hc[e])return hc[e];if(!Aa[e])return e;var t=Aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gx)return hc[e]=t[n];return e}var yx=Fl("animationend"),px=Fl("animationiteration"),_x=Fl("animationstart"),K1=Fl("transitionrun"),X1=Fl("transitionstart"),J1=Fl("transitioncancel"),Sx=Fl("transitionend"),wx=new Map,mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mc.push("scrollEnd");function Hn(e,t){wx.set(e,t),Vl(t,[e])}var gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],Ta=0,bc=0;function yr(){for(var e=Ta,t=bc=Ta=0;t<e;){var n=wn[t];wn[t++]=null;var l=wn[t];wn[t++]=null;var c=wn[t];wn[t++]=null;var x=wn[t];if(wn[t++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}x!==0&&Cx(n,c,x)}}function pr(e,t,n,l){wn[Ta++]=e,wn[Ta++]=t,wn[Ta++]=n,wn[Ta++]=l,bc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function vc(e,t,n,l){return pr(e,t,n,l),_r(e)}function $l(e,t){return pr(e,null,null,t),_r(e)}function Cx(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(c=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,c&&t!==null&&(c=31-xe(n),e=x.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),x):null}function _r(e){if(50<Yi)throw Yi=0,Mu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ea={};function W1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,l){return new W1(e,t,n,l)}function gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function al(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sr(e,t,n,l,c,x){var p=0;if(l=e,typeof e=="function")gc(e)&&(p=1);else if(typeof e=="string")p=$2(e,n,U.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=un(31,n,t,c),e.elementType=$,e.lanes=x,e;case v:return ea(n.children,c,x,t);case S:p=8,c|=24;break;case L:return e=un(12,n,t,c|2),e.elementType=L,e.lanes=x,e;case I:return e=un(13,n,t,c),e.elementType=I,e.lanes=x,e;case F:return e=un(19,n,t,c),e.elementType=F,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:p=10;break e;case Y:p=9;break e;case k:p=11;break e;case R:p=14;break e;case K:p=16,l=null;break e}p=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=un(p,n,t,c),t.elementType=e,t.type=l,t.lanes=x,t}function ea(e,t,n,l){return e=un(7,e,l,t),e.lanes=n,e}function yc(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function Mx(e){var t=un(18,null,null,0);return t.stateNode=e,t}function pc(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zx=new WeakMap;function Cn(e,t){if(typeof e=="object"&&e!==null){var n=zx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Nt(t)},zx.set(e,t),t)}return{value:e,source:t,stack:Nt(t)}}var La=[],Ba=0,wr=null,yi=0,jn=[],Mn=0,Sl=null,Jn=1,Wn="";function il(e,t){La[Ba++]=yi,La[Ba++]=wr,wr=e,yi=t}function Dx(e,t,n){jn[Mn++]=Jn,jn[Mn++]=Wn,jn[Mn++]=Sl,Sl=e;var l=Jn;e=Wn;var c=32-xe(l)-1;l&=~(1<<c),n+=1;var x=32-xe(t)+c;if(30<x){var p=c-c%5;x=(l&(1<<p)-1).toString(32),l>>=p,c-=p,Jn=1<<32-xe(t)+c|n<<c|l,Wn=x+e}else Jn=1<<x|n<<c|l,Wn=e}function _c(e){e.return!==null&&(il(e,1),Dx(e,1,0))}function Sc(e){for(;e===wr;)wr=La[--Ba],La[Ba]=null,yi=La[--Ba],La[Ba]=null;for(;e===Sl;)Sl=jn[--Mn],jn[Mn]=null,Wn=jn[--Mn],jn[Mn]=null,Jn=jn[--Mn],jn[Mn]=null}function Nx(e,t){jn[Mn++]=Jn,jn[Mn++]=Wn,jn[Mn++]=Sl,Jn=t.id,Wn=t.overflow,Sl=e}var Bt=null,xt=null,Ie=!1,wl=null,zn=!1,wc=Error(r(519));function Cl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pi(Cn(t,e)),wc}function Ax(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[zt]=e,t[It]=l,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<Hi.length;n++)Re(Hi[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Us(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Ks(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Vf(t.textContent,n)?(l.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),l.onScroll!=null&&Re("scroll",t),l.onScrollEnd!=null&&Re("scrollend",t),l.onClick!=null&&(t.onclick=nl),t=!0):t=!1,t||Cl(e,!0)}function Tx(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Bt=Bt.return}}function qa(e){if(e!==Bt)return!1;if(!Ie)return Tx(e),Ie=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Iu(e.type,e.memoizedProps)),n=!n),n&&xt&&Cl(e),Tx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));xt=ad(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));xt=ad(e)}else t===27?(t=xt,Ol(e.type)?(e=Xu,Xu=null,xt=e):xt=t):xt=Bt?Nn(e.stateNode.nextSibling):null;return!0}function ta(){xt=Bt=null,Ie=!1}function Cc(){var e=wl;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),wl=null),e}function pi(e){wl===null?wl=[e]:wl.push(e)}var jc=D(null),na=null,rl=null;function jl(e,t,n){Z(jc,t._currentValue),t._currentValue=n}function cl(e){e._currentValue=jc.current,q(jc)}function Mc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function zc(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var x=c.dependencies;if(x!==null){var p=c.child;x=x.firstContext;e:for(;x!==null;){var A=x;x=c;for(var H=0;H<t.length;H++)if(A.context===t[H]){x.lanes|=n,A=x.alternate,A!==null&&(A.lanes|=n),Mc(x.return,n,e),l||(p=null);break e}x=A.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=n,x=p.alternate,x!==null&&(x.lanes|=n),Mc(p,n,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Ga(e,t,n,l){e=null;for(var c=t,x=!1;c!==null;){if(!x){if((c.flags&524288)!==0)x=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var A=c.type;cn(c.pendingProps.value,p.value)||(e!==null?e.push(A):e=[A])}}else if(c===me.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ji):e=[Ji])}c=c.return}e!==null&&zc(t,e,n,l),t.flags|=262144}function Cr(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function la(e){na=e,rl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return Ex(na,e)}function jr(e,t){return na===null&&la(e),Ex(e,t)}function Ex(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},rl===null){if(e===null)throw Error(r(308));rl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rl=rl.next=t;return n}var V1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Q1=u.unstable_scheduleCallback,P1=u.unstable_NormalPriority,St={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new V1,data:new Map,refCount:0}}function _i(e){e.refCount--,e.refCount===0&&Q1(P1,function(){e.controller.abort()})}var Si=null,Nc=0,Ra=0,Oa=null;function F1(e,t){if(Si===null){var n=Si=[];Nc=0,Ra=Eu(),Oa={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Nc++,t.then(Lx,Lx),t}function Lx(){if(--Nc===0&&Si!==null){Oa!==null&&(Oa.status="fulfilled");var e=Si;Si=null,Ra=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Bx=M.S;M.S=function(e,t){yf=Je(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&F1(e,t),Bx!==null&&Bx(e,t)};var aa=D(null);function Ac(){var e=aa.current;return e!==null?e:ut.pooledCache}function Mr(e,t){t===null?Z(aa,aa.current):Z(aa,t.pool)}function qx(){var e=Ac();return e===null?null:{parent:St._currentValue,pool:e}}var ka=Error(r(460)),Tc=Error(r(474)),zr=Error(r(542)),Dr={then:function(){}};function Gx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rx(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(nl,nl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kx(e),e;default:if(typeof t.status=="string")t.then(nl,nl);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kx(e),e}throw ra=t,ka}}function ia(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ra=n,ka):n}}var ra=null;function Ox(){if(ra===null)throw Error(r(459));var e=ra;return ra=null,e}function kx(e){if(e===ka||e===zr)throw Error(r(483))}var Ya=null,wi=0;function Nr(e){var t=wi;return wi+=1,Ya===null&&(Ya=[]),Rx(Ya,e,t)}function Ci(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ar(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yx(e){function t(Q,X){if(e){var ee=Q.deletions;ee===null?(Q.deletions=[X],Q.flags|=16):ee.push(X)}}function n(Q,X){if(!e)return null;for(;X!==null;)t(Q,X),X=X.sibling;return null}function l(Q){for(var X=new Map;Q!==null;)Q.key!==null?X.set(Q.key,Q):X.set(Q.index,Q),Q=Q.sibling;return X}function c(Q,X){return Q=al(Q,X),Q.index=0,Q.sibling=null,Q}function x(Q,X,ee){return Q.index=ee,e?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<X?(Q.flags|=67108866,X):ee):(Q.flags|=67108866,X)):(Q.flags|=1048576,X)}function p(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function A(Q,X,ee,re){return X===null||X.tag!==6?(X=yc(ee,Q.mode,re),X.return=Q,X):(X=c(X,ee),X.return=Q,X)}function H(Q,X,ee,re){var Se=ee.type;return Se===v?ie(Q,X,ee.props.children,re,ee.key):X!==null&&(X.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===K&&ia(Se)===X.type)?(X=c(X,ee.props),Ci(X,ee),X.return=Q,X):(X=Sr(ee.type,ee.key,ee.props,null,Q.mode,re),Ci(X,ee),X.return=Q,X)}function te(Q,X,ee,re){return X===null||X.tag!==4||X.stateNode.containerInfo!==ee.containerInfo||X.stateNode.implementation!==ee.implementation?(X=pc(ee,Q.mode,re),X.return=Q,X):(X=c(X,ee.children||[]),X.return=Q,X)}function ie(Q,X,ee,re,Se){return X===null||X.tag!==7?(X=ea(ee,Q.mode,re,Se),X.return=Q,X):(X=c(X,ee),X.return=Q,X)}function ue(Q,X,ee){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=yc(""+X,Q.mode,ee),X.return=Q,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return ee=Sr(X.type,X.key,X.props,null,Q.mode,ee),Ci(ee,X),ee.return=Q,ee;case z:return X=pc(X,Q.mode,ee),X.return=Q,X;case K:return X=ia(X),ue(Q,X,ee)}if(j(X)||_(X))return X=ea(X,Q.mode,ee,null),X.return=Q,X;if(typeof X.then=="function")return ue(Q,Nr(X),ee);if(X.$$typeof===G)return ue(Q,jr(Q,X),ee);Ar(Q,X)}return null}function ne(Q,X,ee,re){var Se=X!==null?X.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Se!==null?null:A(Q,X,""+ee,re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===Se?H(Q,X,ee,re):null;case z:return ee.key===Se?te(Q,X,ee,re):null;case K:return ee=ia(ee),ne(Q,X,ee,re)}if(j(ee)||_(ee))return Se!==null?null:ie(Q,X,ee,re,null);if(typeof ee.then=="function")return ne(Q,X,Nr(ee),re);if(ee.$$typeof===G)return ne(Q,X,jr(Q,ee),re);Ar(Q,ee)}return null}function ae(Q,X,ee,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Q=Q.get(ee)||null,A(X,Q,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return Q=Q.get(re.key===null?ee:re.key)||null,H(X,Q,re,Se);case z:return Q=Q.get(re.key===null?ee:re.key)||null,te(X,Q,re,Se);case K:return re=ia(re),ae(Q,X,ee,re,Se)}if(j(re)||_(re))return Q=Q.get(ee)||null,ie(X,Q,re,Se,null);if(typeof re.then=="function")return ae(Q,X,ee,Nr(re),Se);if(re.$$typeof===G)return ae(Q,X,ee,jr(X,re),Se);Ar(X,re)}return null}function ve(Q,X,ee,re){for(var Se=null,Ke=null,ge=X,Le=X=0,ke=null;ge!==null&&Le<ee.length;Le++){ge.index>Le?(ke=ge,ge=null):ke=ge.sibling;var Xe=ne(Q,ge,ee[Le],re);if(Xe===null){ge===null&&(ge=ke);break}e&&ge&&Xe.alternate===null&&t(Q,ge),X=x(Xe,X,Le),Ke===null?Se=Xe:Ke.sibling=Xe,Ke=Xe,ge=ke}if(Le===ee.length)return n(Q,ge),Ie&&il(Q,Le),Se;if(ge===null){for(;Le<ee.length;Le++)ge=ue(Q,ee[Le],re),ge!==null&&(X=x(ge,X,Le),Ke===null?Se=ge:Ke.sibling=ge,Ke=ge);return Ie&&il(Q,Le),Se}for(ge=l(ge);Le<ee.length;Le++)ke=ae(ge,Q,Le,ee[Le],re),ke!==null&&(e&&ke.alternate!==null&&ge.delete(ke.key===null?Le:ke.key),X=x(ke,X,Le),Ke===null?Se=ke:Ke.sibling=ke,Ke=ke);return e&&ge.forEach(function(Ul){return t(Q,Ul)}),Ie&&il(Q,Le),Se}function Ce(Q,X,ee,re){if(ee==null)throw Error(r(151));for(var Se=null,Ke=null,ge=X,Le=X=0,ke=null,Xe=ee.next();ge!==null&&!Xe.done;Le++,Xe=ee.next()){ge.index>Le?(ke=ge,ge=null):ke=ge.sibling;var Ul=ne(Q,ge,Xe.value,re);if(Ul===null){ge===null&&(ge=ke);break}e&&ge&&Ul.alternate===null&&t(Q,ge),X=x(Ul,X,Le),Ke===null?Se=Ul:Ke.sibling=Ul,Ke=Ul,ge=ke}if(Xe.done)return n(Q,ge),Ie&&il(Q,Le),Se;if(ge===null){for(;!Xe.done;Le++,Xe=ee.next())Xe=ue(Q,Xe.value,re),Xe!==null&&(X=x(Xe,X,Le),Ke===null?Se=Xe:Ke.sibling=Xe,Ke=Xe);return Ie&&il(Q,Le),Se}for(ge=l(ge);!Xe.done;Le++,Xe=ee.next())Xe=ae(ge,Q,Le,Xe.value,re),Xe!==null&&(e&&Xe.alternate!==null&&ge.delete(Xe.key===null?Le:Xe.key),X=x(Xe,X,Le),Ke===null?Se=Xe:Ke.sibling=Xe,Ke=Xe);return e&&ge.forEach(function(xh){return t(Q,xh)}),Ie&&il(Q,Le),Se}function ct(Q,X,ee,re){if(typeof ee=="object"&&ee!==null&&ee.type===v&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var Se=ee.key;X!==null;){if(X.key===Se){if(Se=ee.type,Se===v){if(X.tag===7){n(Q,X.sibling),re=c(X,ee.props.children),re.return=Q,Q=re;break e}}else if(X.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===K&&ia(Se)===X.type){n(Q,X.sibling),re=c(X,ee.props),Ci(re,ee),re.return=Q,Q=re;break e}n(Q,X);break}else t(Q,X);X=X.sibling}ee.type===v?(re=ea(ee.props.children,Q.mode,re,ee.key),re.return=Q,Q=re):(re=Sr(ee.type,ee.key,ee.props,null,Q.mode,re),Ci(re,ee),re.return=Q,Q=re)}return p(Q);case z:e:{for(Se=ee.key;X!==null;){if(X.key===Se)if(X.tag===4&&X.stateNode.containerInfo===ee.containerInfo&&X.stateNode.implementation===ee.implementation){n(Q,X.sibling),re=c(X,ee.children||[]),re.return=Q,Q=re;break e}else{n(Q,X);break}else t(Q,X);X=X.sibling}re=pc(ee,Q.mode,re),re.return=Q,Q=re}return p(Q);case K:return ee=ia(ee),ct(Q,X,ee,re)}if(j(ee))return ve(Q,X,ee,re);if(_(ee)){if(Se=_(ee),typeof Se!="function")throw Error(r(150));return ee=Se.call(ee),Ce(Q,X,ee,re)}if(typeof ee.then=="function")return ct(Q,X,Nr(ee),re);if(ee.$$typeof===G)return ct(Q,X,jr(Q,ee),re);Ar(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,X!==null&&X.tag===6?(n(Q,X.sibling),re=c(X,ee),re.return=Q,Q=re):(n(Q,X),re=yc(ee,Q.mode,re),re.return=Q,Q=re),p(Q)):n(Q,X)}return function(Q,X,ee,re){try{wi=0;var Se=ct(Q,X,ee,re);return Ya=null,Se}catch(ge){if(ge===ka||ge===zr)throw ge;var Ke=un(29,ge,null,Q.mode);return Ke.lanes=re,Ke.return=Q,Ke}}}var ca=Yx(!0),Ix=Yx(!1),Ml=!1;function Ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=_r(e),Cx(e,null,n),t}return pr(e,l,t,n),_r(e)}function ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,et(e,n)}}function Bc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?c=x=p:x=x.next=p,n=n.next}while(n!==null);x===null?c=x=t:x=x.next=t}else c=x=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var qc=!1;function Mi(){if(qc){var e=Oa;if(e!==null)throw e}}function zi(e,t,n,l){qc=!1;var c=e.updateQueue;Ml=!1;var x=c.firstBaseUpdate,p=c.lastBaseUpdate,A=c.shared.pending;if(A!==null){c.shared.pending=null;var H=A,te=H.next;H.next=null,p===null?x=te:p.next=te,p=H;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==p&&(A===null?ie.firstBaseUpdate=te:A.next=te,ie.lastBaseUpdate=H))}if(x!==null){var ue=c.baseState;p=0,ie=te=H=null,A=x;do{var ne=A.lane&-536870913,ae=ne!==A.lane;if(ae?(Oe&ne)===ne:(l&ne)===ne){ne!==0&&ne===Ra&&(qc=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=e,Ce=A;ne=t;var ct=n;switch(Ce.tag){case 1:if(ve=Ce.payload,typeof ve=="function"){ue=ve.call(ct,ue,ne);break e}ue=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ce.payload,ne=typeof ve=="function"?ve.call(ct,ue,ne):ve,ne==null)break e;ue=y({},ue,ne);break e;case 2:Ml=!0}}ne=A.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=c.callbacks,ae===null?c.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(te=ie=ae,H=ue):ie=ie.next=ae,p|=ne;if(A=A.next,A===null){if(A=c.shared.pending,A===null)break;ae=A,A=ae.next,ae.next=null,c.lastBaseUpdate=ae,c.shared.pending=null}}while(!0);ie===null&&(H=ue),c.baseState=H,c.firstBaseUpdate=te,c.lastBaseUpdate=ie,x===null&&(c.shared.lanes=0),Ll|=p,e.lanes=p,e.memoizedState=ue}}function Hx(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Ux(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Hx(n[e],t)}var Ia=D(null),Tr=D(0);function Zx(e,t){e=bl,Z(Tr,e),Z(Ia,t),bl=e|t.baseLanes}function Gc(){Z(Tr,bl),Z(Ia,Ia.current)}function Rc(){bl=Tr.current,q(Ia),q(Tr)}var sn=D(null),Dn=null;function Nl(e){var t=e.alternate;Z(yt,yt.current&1),Z(sn,e),Dn===null&&(t===null||Ia.current!==null||t.memoizedState!==null)&&(Dn=e)}function Oc(e){Z(yt,yt.current),Z(sn,e),Dn===null&&(Dn=e)}function Kx(e){e.tag===22?(Z(yt,yt.current),Z(sn,e),Dn===null&&(Dn=e)):Al()}function Al(){Z(yt,yt.current),Z(sn,sn.current)}function xn(e){q(sn),Dn===e&&(Dn=null),q(yt)}var yt=D(0);function Er(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Zu(n)||Ku(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=0,Ee=null,it=null,wt=null,Lr=!1,Ha=!1,ua=!1,Br=0,Di=0,Ua=null,e2=0;function ht(){throw Error(r(321))}function kc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function Yc(e,t,n,l,c,x){return ul=x,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?No:tu,ua=!1,x=n(l,c),ua=!1,Ha&&(x=Jx(t,n,l,c)),Xx(e),x}function Xx(e){M.H=Ti;var t=it!==null&&it.next!==null;if(ul=0,wt=it=Ee=null,Lr=!1,Di=0,Ua=null,t)throw Error(r(300));e===null||Ct||(e=e.dependencies,e!==null&&Cr(e)&&(Ct=!0))}function Jx(e,t,n,l){Ee=e;var c=0;do{if(Ha&&(Ua=null),Di=0,Ha=!1,25<=c)throw Error(r(301));if(c+=1,wt=it=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}M.H=Ao,x=t(n,l)}while(Ha);return x}function t2(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Ni(t):t,e=e.useState()[0],(it!==null?it.memoizedState:null)!==e&&(Ee.flags|=1024),t}function Ic(){var e=Br!==0;return Br=0,e}function Hc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Uc(e){if(Lr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Lr=!1}ul=0,wt=it=Ee=null,Ha=!1,Di=Br=0,Ua=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ee.memoizedState=wt=e:wt=wt.next=e,wt}function pt(){if(it===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=wt===null?Ee.memoizedState:wt.next;if(t!==null)wt=t,it=e;else{if(e===null)throw Ee.alternate===null?Error(r(467)):Error(r(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},wt===null?Ee.memoizedState=wt=e:wt=wt.next=e}return wt}function qr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ni(e){var t=Di;return Di+=1,Ua===null&&(Ua=[]),e=Rx(Ua,e,t),t=Ee,(wt===null?t.memoizedState:wt.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?No:tu),e}function Gr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ni(e);if(e.$$typeof===G)return qt(e)}throw Error(r(438,String(e)))}function Zc(e){var t=null,n=Ee.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Ee.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qr(),Ee.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=V;return t.index++,n}function sl(e,t){return typeof t=="function"?t(e):t}function Rr(e){var t=pt();return Kc(t,it,e)}function Kc(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=e.baseQueue,x=l.pending;if(x!==null){if(c!==null){var p=c.next;c.next=x.next,x.next=p}t.baseQueue=c=x,l.pending=null}if(x=e.baseState,c===null)e.memoizedState=x;else{t=c.next;var A=p=null,H=null,te=t,ie=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(Oe&ue)===ue:(ul&ue)===ue){var ne=te.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===Ra&&(ie=!0);else if((ul&ne)===ne){te=te.next,ne===Ra&&(ie=!0);continue}else ue={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(A=H=ue,p=x):H=H.next=ue,Ee.lanes|=ne,Ll|=ne;ue=te.action,ua&&n(x,ue),x=te.hasEagerState?te.eagerState:n(x,ue)}else ne={lane:ue,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(A=H=ne,p=x):H=H.next=ne,Ee.lanes|=ue,Ll|=ue;te=te.next}while(te!==null&&te!==t);if(H===null?p=x:H.next=A,!cn(x,e.memoizedState)&&(Ct=!0,ie&&(n=Oa,n!==null)))throw n;e.memoizedState=x,e.baseState=p,e.baseQueue=H,l.lastRenderedState=x}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Xc(e){var t=pt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,x=t.memoizedState;if(c!==null){n.pending=null;var p=c=c.next;do x=e(x,p.action),p=p.next;while(p!==c);cn(x,t.memoizedState)||(Ct=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Wx(e,t,n){var l=Ee,c=pt(),x=Ie;if(x){if(n===void 0)throw Error(r(407));n=n()}else n=t();var p=!cn((it||c).memoizedState,n);if(p&&(c.memoizedState=n,Ct=!0),c=c.queue,Vc(Px.bind(null,l,c,e),[e]),c.getSnapshot!==t||p||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Qx.bind(null,l,c,n,t),null),ut===null)throw Error(r(349));x||(ul&127)!==0||Vx(l,t,n)}return n}function Vx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t=qr(),Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qx(e,t,n,l){t.value=n,t.getSnapshot=l,Fx(t)&&$x(e)}function Px(e,t,n){return n(function(){Fx(t)&&$x(e)})}function Fx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function $x(e){var t=$l(e,2);t!==null&&en(t,e,2)}function Jc(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),ua){We(!0);try{n()}finally{We(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:e},t}function eo(e,t,n,l){return e.baseState=n,Kc(e,it,typeof l=="function"?l:sl)}function n2(e,t,n,l,c){if(Yr(e))throw Error(r(485));if(e=t.action,e!==null){var x={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){x.listeners.push(p)}};M.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,to(t,x)):(x.next=n.next,t.pending=n.next=x)}}function to(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var x=M.T,p={};M.T=p;try{var A=n(c,l),H=M.S;H!==null&&H(p,A),no(e,t,A)}catch(te){Wc(e,t,te)}finally{x!==null&&p.types!==null&&(x.types=p.types),M.T=x}}else try{x=n(c,l),no(e,t,x)}catch(te){Wc(e,t,te)}}function no(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){lo(e,t,l)},function(l){return Wc(e,t,l)}):lo(e,t,n)}function lo(e,t,n){t.status="fulfilled",t.value=n,ao(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,to(e,n)))}function Wc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ao(t),t=t.next;while(t!==l)}e.action=null}function ao(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function io(e,t){return t}function ro(e,t){if(Ie){var n=ut.formState;if(n!==null){e:{var l=Ee;if(Ie){if(xt){t:{for(var c=xt,x=zn;c.nodeType!==8;){if(!x){c=null;break t}if(c=Nn(c.nextSibling),c===null){c=null;break t}}x=c.data,c=x==="F!"||x==="F"?c:null}if(c){xt=Nn(c.nextSibling),l=c.data==="F!";break e}}Cl(l)}l=!1}l&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:t},n.queue=l,n=Mo.bind(null,Ee,l),l.dispatch=n,l=Jc(!1),x=eu.bind(null,Ee,!1,l.queue),l=Kt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=n2.bind(null,Ee,c,x,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function co(e){var t=pt();return uo(t,it,e)}function uo(e,t,n){if(t=Kc(e,t,io)[0],e=Rr(sl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ni(t)}catch(p){throw p===ka?zr:p}else l=t;t=pt();var c=t.queue,x=c.dispatch;return n!==t.memoizedState&&(Ee.flags|=2048,Za(9,{destroy:void 0},l2.bind(null,c,n),null)),[l,x,e]}function l2(e,t){e.action=t}function so(e){var t=pt(),n=it;if(n!==null)return uo(t,n,e);pt(),t=t.memoizedState,n=pt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Za(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=qr(),Ee.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function xo(){return pt().memoizedState}function Or(e,t,n,l){var c=Kt();Ee.flags|=e,c.memoizedState=Za(1|t,{destroy:void 0},n,l===void 0?null:l)}function kr(e,t,n,l){var c=pt();l=l===void 0?null:l;var x=c.memoizedState.inst;it!==null&&l!==null&&kc(l,it.memoizedState.deps)?c.memoizedState=Za(t,x,n,l):(Ee.flags|=e,c.memoizedState=Za(1|t,x,n,l))}function oo(e,t){Or(8390656,8,e,t)}function Vc(e,t){kr(2048,8,e,t)}function a2(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=qr(),Ee.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fo(e){var t=pt().memoizedState;return a2({ref:t,nextImpl:e}),function(){if((Fe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function ho(e,t){return kr(4,2,e,t)}function mo(e,t){return kr(4,4,e,t)}function bo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vo(e,t,n){n=n!=null?n.concat([e]):null,kr(4,4,bo.bind(null,t,e),n)}function Qc(){}function go(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&kc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function yo(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&kc(t,l[1]))return l[0];if(l=e(),ua){We(!0);try{e()}finally{We(!1)}}return n.memoizedState=[l,t],l}function Pc(e,t,n){return n===void 0||(ul&1073741824)!==0&&(Oe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=_f(),Ee.lanes|=e,Ll|=e,n)}function po(e,t,n,l){return cn(n,t)?n:Ia.current!==null?(e=Pc(e,n,l),cn(e,t)||(Ct=!0),e):(ul&42)===0||(ul&1073741824)!==0&&(Oe&261930)===0?(Ct=!0,e.memoizedState=n):(e=_f(),Ee.lanes|=e,Ll|=e,t)}function _o(e,t,n,l,c){var x=E.p;E.p=x!==0&&8>x?x:8;var p=M.T,A={};M.T=A,eu(e,!1,t,n);try{var H=c(),te=M.S;if(te!==null&&te(A,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ie=$1(H,l);Ai(e,t,ie,dn(e))}else Ai(e,t,l,dn(e))}catch(ue){Ai(e,t,{then:function(){},status:"rejected",reason:ue},dn())}finally{E.p=x,p!==null&&A.types!==null&&(p.types=A.types),M.T=p}}function i2(){}function Fc(e,t,n,l){if(e.tag!==5)throw Error(r(476));var c=So(e).queue;_o(e,c,t,B,n===null?i2:function(){return wo(e),n(l)})}function So(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:B},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wo(e){var t=So(e);t.next===null&&(t=e.alternate.memoizedState),Ai(e,t.next.queue,{},dn())}function $c(){return qt(Ji)}function Co(){return pt().memoizedState}function jo(){return pt().memoizedState}function r2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=dn();e=zl(n);var l=Dl(t,e,n);l!==null&&(en(l,t,n),ji(l,t,n)),t={cache:Dc()},e.payload=t;return}t=t.return}}function c2(e,t,n){var l=dn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Yr(e)?zo(t,n):(n=vc(e,t,n,l),n!==null&&(en(n,e,l),Do(n,t,l)))}function Mo(e,t,n){var l=dn();Ai(e,t,n,l)}function Ai(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yr(e))zo(t,c);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var p=t.lastRenderedState,A=x(p,n);if(c.hasEagerState=!0,c.eagerState=A,cn(A,p))return pr(e,t,c,0),ut===null&&yr(),!1}catch{}if(n=vc(e,t,c,l),n!==null)return en(n,e,l),Do(n,t,l),!0}return!1}function eu(e,t,n,l){if(l={lane:2,revertLane:Eu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yr(e)){if(t)throw Error(r(479))}else t=vc(e,n,l,2),t!==null&&en(t,e,2)}function Yr(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function zo(e,t){Ha=Lr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Do(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,et(e,n)}}var Ti={readContext:qt,use:Gr,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Ti.useEffectEvent=ht;var No={readContext:qt,use:Gr,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:oo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Or(4194308,4,bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Or(4194308,4,e,t)},useInsertionEffect:function(e,t){Or(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var l=e();if(ua){We(!0);try{e()}finally{We(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Kt();if(n!==void 0){var c=n(t);if(ua){We(!0);try{n(t)}finally{We(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=c2.bind(null,Ee,e),[l.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Jc(e);var t=e.queue,n=Mo.bind(null,Ee,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qc,useDeferredValue:function(e,t){var n=Kt();return Pc(n,e,t)},useTransition:function(){var e=Jc(!1);return e=_o.bind(null,Ee,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Ee,c=Kt();if(Ie){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),ut===null)throw Error(r(349));(Oe&127)!==0||Vx(l,t,n)}c.memoizedState=n;var x={value:n,getSnapshot:t};return c.queue=x,oo(Px.bind(null,l,x,e),[e]),l.flags|=2048,Za(9,{destroy:void 0},Qx.bind(null,l,x,n,t),null),n},useId:function(){var e=Kt(),t=ut.identifierPrefix;if(Ie){var n=Wn,l=Jn;n=(l&~(1<<32-xe(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=e2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:$c,useFormState:ro,useActionState:ro,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=eu.bind(null,Ee,!0,n),n.dispatch=t,[e,t]},useMemoCache:Zc,useCacheRefresh:function(){return Kt().memoizedState=r2.bind(null,Ee)},useEffectEvent:function(e){var t=Kt(),n={impl:e};return t.memoizedState=n,function(){if((Fe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},tu={readContext:qt,use:Gr,useCallback:go,useContext:qt,useEffect:Vc,useImperativeHandle:vo,useInsertionEffect:ho,useLayoutEffect:mo,useMemo:yo,useReducer:Rr,useRef:xo,useState:function(){return Rr(sl)},useDebugValue:Qc,useDeferredValue:function(e,t){var n=pt();return po(n,it.memoizedState,e,t)},useTransition:function(){var e=Rr(sl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Wx,useId:Co,useHostTransitionStatus:$c,useFormState:co,useActionState:co,useOptimistic:function(e,t){var n=pt();return eo(n,it,e,t)},useMemoCache:Zc,useCacheRefresh:jo};tu.useEffectEvent=fo;var Ao={readContext:qt,use:Gr,useCallback:go,useContext:qt,useEffect:Vc,useImperativeHandle:vo,useInsertionEffect:ho,useLayoutEffect:mo,useMemo:yo,useReducer:Xc,useRef:xo,useState:function(){return Xc(sl)},useDebugValue:Qc,useDeferredValue:function(e,t){var n=pt();return it===null?Pc(n,e,t):po(n,it.memoizedState,e,t)},useTransition:function(){var e=Xc(sl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Wx,useId:Co,useHostTransitionStatus:$c,useFormState:so,useActionState:so,useOptimistic:function(e,t){var n=pt();return it!==null?eo(n,it,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:jo};Ao.useEffectEvent=fo;function nu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=dn(),c=zl(l);c.payload=t,n!=null&&(c.callback=n),t=Dl(e,c,l),t!==null&&(en(t,e,l),ji(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=dn(),c=zl(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Dl(e,c,l),t!==null&&(en(t,e,l),ji(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dn(),l=zl(n);l.tag=2,t!=null&&(l.callback=t),t=Dl(e,l,n),t!==null&&(en(t,e,n),ji(t,e,n))}};function To(e,t,n,l,c,x,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,p):t.prototype&&t.prototype.isPureReactComponent?!vi(n,l)||!vi(c,x):!0}function Eo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&lu.enqueueReplaceState(t,t.state,null)}function sa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Lo(e){gr(e)}function Bo(e){console.error(e)}function qo(e){gr(e)}function Ir(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Go(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function au(e,t,n){return n=zl(n),n.tag=3,n.payload={element:null},n.callback=function(){Ir(e,t)},n}function Ro(e){return e=zl(e),e.tag=3,e}function Oo(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var x=l.value;e.payload=function(){return c(x)},e.callback=function(){Go(t,n,l)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Go(t,n,l),typeof c!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function u2(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ga(t,n,c,!0),n=sn.current,n!==null){switch(n.tag){case 31:case 13:return Dn===null?$r():n.alternate===null&&mt===0&&(mt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Nu(e,l,c)),!1;case 22:return n.flags|=65536,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Nu(e,l,c)),!1}throw Error(r(435,n.tag))}return Nu(e,l,c),$r(),!1}if(Ie)return t=sn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==wc&&(e=Error(r(422),{cause:l}),pi(Cn(e,n)))):(l!==wc&&(t=Error(r(423),{cause:l}),pi(Cn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Cn(l,n),c=au(e.stateNode,l,c),Bc(e,c),mt!==4&&(mt=2)),!1;var x=Error(r(520),{cause:l});if(x=Cn(x,n),ki===null?ki=[x]:ki.push(x),mt!==4&&(mt=2),t===null)return!0;l=Cn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=au(n.stateNode,l,e),Bc(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bl===null||!Bl.has(x))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Ro(c),Oo(c,e,n,l),Bc(n,c),!1}n=n.return}while(n!==null);return!1}var iu=Error(r(461)),Ct=!1;function Gt(e,t,n,l){t.child=e===null?Ix(t,null,n,l):ca(t,e.child,n,l)}function ko(e,t,n,l,c){n=n.render;var x=t.ref;if("ref"in l){var p={};for(var A in l)A!=="ref"&&(p[A]=l[A])}else p=l;return la(t),l=Yc(e,t,n,p,x,c),A=Ic(),e!==null&&!Ct?(Hc(e,t,c),xl(e,t,c)):(Ie&&A&&_c(t),t.flags|=1,Gt(e,t,l,c),t.child)}function Yo(e,t,n,l,c){if(e===null){var x=n.type;return typeof x=="function"&&!gc(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,Io(e,t,x,l,c)):(e=Sr(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!du(e,c)){var p=x.memoizedProps;if(n=n.compare,n=n!==null?n:vi,n(p,l)&&e.ref===t.ref)return xl(e,t,c)}return t.flags|=1,e=al(x,l),e.ref=t.ref,e.return=t,t.child=e}function Io(e,t,n,l,c){if(e!==null){var x=e.memoizedProps;if(vi(x,l)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=l=x,du(e,c))(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,xl(e,t,c)}return ru(e,t,n,l,c)}function Ho(e,t,n,l){var c=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~x}else l=0,t.child=null;return Uo(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mr(t,x!==null?x.cachePool:null),x!==null?Zx(t,x):Gc(),Kx(t);else return l=t.lanes=536870912,Uo(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(Mr(t,x.cachePool),Zx(t,x),Al(),t.memoizedState=null):(e!==null&&Mr(t,null),Gc(),Al());return Gt(e,t,c,n),t.child}function Ei(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uo(e,t,n,l,c){var x=Ac();return x=x===null?null:{parent:St._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&Mr(t,null),Gc(),Kx(t),e!==null&&Ga(e,t,l,!0),t.childLanes=c,null}function Hr(e,t){return t=Zr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zo(e,t,n){return ca(t,e.child,null,n),e=Hr(t,t.pendingProps),e.flags|=2,xn(t),t.memoizedState=null,e}function s2(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ie){if(l.mode==="hidden")return e=Hr(t,l),t.lanes=536870912,Ei(null,e);if(Oc(t),(e=xt)?(e=ld(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sl!==null?{id:Jn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=Mx(e),n.return=t,t.child=n,Bt=t,xt=null)):e=null,e===null)throw Cl(t);return t.lanes=536870912,null}return Hr(t,l)}var x=e.memoizedState;if(x!==null){var p=x.dehydrated;if(Oc(t),c)if(t.flags&256)t.flags&=-257,t=Zo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ct||Ga(e,t,n,!1),c=(n&e.childLanes)!==0,Ct||c){if(l=ut,l!==null&&(p=tt(l,n),p!==0&&p!==x.retryLane))throw x.retryLane=p,$l(e,p),en(l,e,p),iu;$r(),t=Zo(e,t,n)}else e=x.treeContext,xt=Nn(p.nextSibling),Bt=t,Ie=!0,wl=null,zn=!1,e!==null&&Nx(t,e),t=Hr(t,l),t.flags|=4096;return t}return e=al(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ur(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ru(e,t,n,l,c){return la(t),n=Yc(e,t,n,l,void 0,c),l=Ic(),e!==null&&!Ct?(Hc(e,t,c),xl(e,t,c)):(Ie&&l&&_c(t),t.flags|=1,Gt(e,t,n,c),t.child)}function Ko(e,t,n,l,c,x){return la(t),t.updateQueue=null,n=Jx(t,l,n,c),Xx(e),l=Ic(),e!==null&&!Ct?(Hc(e,t,x),xl(e,t,x)):(Ie&&l&&_c(t),t.flags|=1,Gt(e,t,n,x),t.child)}function Xo(e,t,n,l,c){if(la(t),t.stateNode===null){var x=Ea,p=n.contextType;typeof p=="object"&&p!==null&&(x=qt(p)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=lu,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},Ec(t),p=n.contextType,x.context=typeof p=="object"&&p!==null?qt(p):Ea,x.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(nu(t,n,p,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(p=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),p!==x.state&&lu.enqueueReplaceState(x,x.state,null),zi(t,l,x,c),Mi(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var A=t.memoizedProps,H=sa(n,A);x.props=H;var te=x.context,ie=n.contextType;p=Ea,typeof ie=="object"&&ie!==null&&(p=qt(ie));var ue=n.getDerivedStateFromProps;ie=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A||te!==p)&&Eo(t,x,l,p),Ml=!1;var ne=t.memoizedState;x.state=ne,zi(t,l,x,c),Mi(),te=t.memoizedState,A||ne!==te||Ml?(typeof ue=="function"&&(nu(t,n,ue,l),te=t.memoizedState),(H=Ml||To(t,n,H,l,ne,te,p))?(ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),x.props=l,x.state=te,x.context=p,l=H):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,Lc(e,t),p=t.memoizedProps,ie=sa(n,p),x.props=ie,ue=t.pendingProps,ne=x.context,te=n.contextType,H=Ea,typeof te=="object"&&te!==null&&(H=qt(te)),A=n.getDerivedStateFromProps,(te=typeof A=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(p!==ue||ne!==H)&&Eo(t,x,l,H),Ml=!1,ne=t.memoizedState,x.state=ne,zi(t,l,x,c),Mi();var ae=t.memoizedState;p!==ue||ne!==ae||Ml||e!==null&&e.dependencies!==null&&Cr(e.dependencies)?(typeof A=="function"&&(nu(t,n,A,l),ae=t.memoizedState),(ie=Ml||To(t,n,ie,l,ne,ae,H)||e!==null&&e.dependencies!==null&&Cr(e.dependencies))?(te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,ae,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,ae,H)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),x.props=l,x.state=ae,x.context=H,l=ie):(typeof x.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Ur(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=ca(t,e.child,null,c),t.child=ca(t,null,n,c)):Gt(e,t,n,c),t.memoizedState=x.state,e=t.child):e=xl(e,t,c),e}function Jo(e,t,n,l){return ta(),t.flags|=256,Gt(e,t,n,l),t.child}var cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uu(e){return{baseLanes:e,cachePool:qx()}}function su(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=fn),e}function Wo(e,t,n){var l=t.pendingProps,c=!1,x=(t.flags&128)!==0,p;if((p=x)||(p=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ie){if(c?Nl(t):Al(),(e=xt)?(e=ld(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sl!==null?{id:Jn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=Mx(e),n.return=t,t.child=n,Bt=t,xt=null)):e=null,e===null)throw Cl(t);return Ku(e)?t.lanes=32:t.lanes=536870912,null}var A=l.children;return l=l.fallback,c?(Al(),c=t.mode,A=Zr({mode:"hidden",children:A},c),l=ea(l,c,n,null),A.return=t,l.return=t,A.sibling=l,t.child=A,l=t.child,l.memoizedState=uu(n),l.childLanes=su(e,p,n),t.memoizedState=cu,Ei(null,l)):(Nl(t),xu(t,A))}var H=e.memoizedState;if(H!==null&&(A=H.dehydrated,A!==null)){if(x)t.flags&256?(Nl(t),t.flags&=-257,t=ou(e,t,n)):t.memoizedState!==null?(Al(),t.child=e.child,t.flags|=128,t=null):(Al(),A=l.fallback,c=t.mode,l=Zr({mode:"visible",children:l.children},c),A=ea(A,c,n,null),A.flags|=2,l.return=t,A.return=t,l.sibling=A,t.child=l,ca(t,e.child,null,n),l=t.child,l.memoizedState=uu(n),l.childLanes=su(e,p,n),t.memoizedState=cu,t=Ei(null,l));else if(Nl(t),Ku(A)){if(p=A.nextSibling&&A.nextSibling.dataset,p)var te=p.dgst;p=te,l=Error(r(419)),l.stack="",l.digest=p,pi({value:l,source:null,stack:null}),t=ou(e,t,n)}else if(Ct||Ga(e,t,n,!1),p=(n&e.childLanes)!==0,Ct||p){if(p=ut,p!==null&&(l=tt(p,n),l!==0&&l!==H.retryLane))throw H.retryLane=l,$l(e,l),en(p,e,l),iu;Zu(A)||$r(),t=ou(e,t,n)}else Zu(A)?(t.flags|=192,t.child=e.child,t=null):(e=H.treeContext,xt=Nn(A.nextSibling),Bt=t,Ie=!0,wl=null,zn=!1,e!==null&&Nx(t,e),t=xu(t,l.children),t.flags|=4096);return t}return c?(Al(),A=l.fallback,c=t.mode,H=e.child,te=H.sibling,l=al(H,{mode:"hidden",children:l.children}),l.subtreeFlags=H.subtreeFlags&65011712,te!==null?A=al(te,A):(A=ea(A,c,n,null),A.flags|=2),A.return=t,l.return=t,l.sibling=A,t.child=l,Ei(null,l),l=t.child,A=e.child.memoizedState,A===null?A=uu(n):(c=A.cachePool,c!==null?(H=St._currentValue,c=c.parent!==H?{parent:H,pool:H}:c):c=qx(),A={baseLanes:A.baseLanes|n,cachePool:c}),l.memoizedState=A,l.childLanes=su(e,p,n),t.memoizedState=cu,Ei(e.child,l)):(Nl(t),n=e.child,e=n.sibling,n=al(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function xu(e,t){return t=Zr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zr(e,t){return e=un(22,e,null,t),e.lanes=0,e}function ou(e,t,n){return ca(t,e.child,null,n),e=xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Mc(e.return,t,n)}function fu(e,t,n,l,c,x){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:x}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=n,p.tailMode=c,p.treeForkCount=x)}function Qo(e,t,n){var l=t.pendingProps,c=l.revealOrder,x=l.tail;l=l.children;var p=yt.current,A=(p&2)!==0;if(A?(p=p&1|2,t.flags|=128):p&=1,Z(yt,p),Gt(e,t,l,n),l=Ie?yi:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vo(e,n,t);else if(e.tag===19)Vo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Er(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),fu(t,!1,c,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Er(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}fu(t,!0,n,null,x,l);break;case"together":fu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function xl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ll|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ga(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=al(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=al(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function du(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Cr(e)))}function x2(e,t,n){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),jl(t,St,e.memoizedState.cache),ta();break;case 27:case 5:de(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:jl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Oc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Nl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Wo(e,t,n):(Nl(t),e=xl(e,t,n),e!==null?e.sibling:null);Nl(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ga(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Qo(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Ho(e,t,n,t.pendingProps);case 24:jl(t,St,e.memoizedState.cache)}return xl(e,t,n)}function Po(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ct=!0;else{if(!du(e,n)&&(t.flags&128)===0)return Ct=!1,x2(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,Ie&&(t.flags&1048576)!==0&&Dx(t,yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ia(t.elementType),t.type=e,typeof e=="function")gc(e)?(l=sa(e,l),t.tag=1,t=Xo(null,t,e,l,n)):(t.tag=0,t=ru(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===k){t.tag=11,t=ko(null,t,e,l,n);break e}else if(c===R){t.tag=14,t=Yo(null,t,e,l,n);break e}}throw t=T(e)||e,Error(r(306,t,""))}}return t;case 0:return ru(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=sa(l,t.pendingProps),Xo(e,t,l,c,n);case 3:e:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var x=t.memoizedState;c=x.element,Lc(e,t),zi(t,l,null,n);var p=t.memoizedState;if(l=p.cache,jl(t,St,l),l!==x.cache&&zc(t,[St],n,!0),Mi(),l=p.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Jo(e,t,l,n);break e}else if(l!==c){c=Cn(Error(r(424)),t),pi(c),t=Jo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xt=Nn(e.firstChild),Bt=t,Ie=!0,wl=null,zn=!0,n=Ix(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),l===c){t=xl(e,t,n);break e}Gt(e,t,l,n)}t=t.child}return t;case 26:return Ur(e,t),e===null?(n=sd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ie||(n=t.type,e=t.pendingProps,l=r0(ce.current).createElement(n),l[zt]=t,l[It]=e,Rt(l,n,e),At(l),t.stateNode=l):t.memoizedState=sd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return de(t),e===null&&Ie&&(l=t.stateNode=rd(t.type,t.pendingProps,ce.current),Bt=t,zn=!0,c=xt,Ol(t.type)?(Xu=c,xt=Nn(l.firstChild)):xt=c),Gt(e,t,t.pendingProps.children,n),Ur(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ie&&((c=l=xt)&&(l=Y2(l,t.type,t.pendingProps,zn),l!==null?(t.stateNode=l,Bt=t,xt=Nn(l.firstChild),zn=!1,c=!0):c=!1),c||Cl(t)),de(t),c=t.type,x=t.pendingProps,p=e!==null?e.memoizedProps:null,l=x.children,Iu(c,x)?l=null:p!==null&&Iu(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=Yc(e,t,t2,null,null,n),Ji._currentValue=c),Ur(e,t),Gt(e,t,l,n),t.child;case 6:return e===null&&Ie&&((e=n=xt)&&(n=I2(n,t.pendingProps,zn),n!==null?(t.stateNode=n,Bt=t,xt=null,e=!0):e=!1),e||Cl(t)),null;case 13:return Wo(e,t,n);case 4:return be(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ca(t,null,l,n):Gt(e,t,l,n),t.child;case 11:return ko(e,t,t.type,t.pendingProps,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,jl(t,t.type,l.value),Gt(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,la(t),c=qt(c),l=l(c),t.flags|=1,Gt(e,t,l,n),t.child;case 14:return Yo(e,t,t.type,t.pendingProps,n);case 15:return Io(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return s2(e,t,n);case 22:return Ho(e,t,n,t.pendingProps);case 24:return la(t),l=qt(St),e===null?(c=Ac(),c===null&&(c=ut,x=Dc(),c.pooledCache=x,x.refCount++,x!==null&&(c.pooledCacheLanes|=n),c=x),t.memoizedState={parent:l,cache:c},Ec(t),jl(t,St,c)):((e.lanes&n)!==0&&(Lc(e,t),zi(t,null,null,n),Mi()),c=e.memoizedState,x=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),jl(t,St,l)):(l=x.cache,jl(t,St,l),l!==c.cache&&zc(t,[St],n,!0))),Gt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ol(e){e.flags|=4}function hu(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(jf())e.flags|=8192;else throw ra=Dr,Tc}else e.flags&=-16777217}function Fo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hd(t))if(jf())e.flags|=8192;else throw ra=Dr,Tc}function Kr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pe():536870912,e.lanes|=t,Wa|=t)}function Li(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function o2(e,t,n){var l=t.pendingProps;switch(Sc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return ot(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),cl(St),fe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qa(t)?ol(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cc())),ot(t),null;case 26:var c=t.type,x=t.memoizedState;return e===null?(ol(t),x!==null?(ot(t),Fo(t,x)):(ot(t),hu(t,c,null,l,n))):x?x!==e.memoizedState?(ol(t),ot(t),Fo(t,x)):(ot(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ol(t),ot(t),hu(t,c,e,l,n)),null;case 27:if(oe(t),n=ce.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ot(t),null}e=U.current,qa(t)?Ax(t):(e=rd(c,l,n),t.stateNode=e,ol(t))}return ot(t),null;case 5:if(oe(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ot(t),null}if(x=U.current,qa(t))Ax(t);else{var p=r0(ce.current);switch(x){case 1:x=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:x=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":x=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":x=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":x=p.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}x[zt]=t,x[It]=l;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)x.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=x;e:switch(Rt(x,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ol(t)}}return ot(t),hu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ce.current,qa(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=Bt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[zt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Vf(e.nodeValue,n)),e||Cl(t,!0)}else e=r0(e).createTextNode(l),e[zt]=t,t.stateNode=e}return ot(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=qa(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[zt]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),e=!1}else n=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(xn(t),t):(xn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return ot(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=qa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[zt]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),c=!1}else c=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(xn(t),t):(xn(t),null)}return xn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kr(t,t.updateQueue),ot(t),null);case 4:return fe(),e===null&&Gu(t.stateNode.containerInfo),ot(t),null;case 10:return cl(t.type),ot(t),null;case 19:if(q(yt),l=t.memoizedState,l===null)return ot(t),null;if(c=(t.flags&128)!==0,x=l.rendering,x===null)if(c)Li(l,!1);else{if(mt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Er(e),x!==null){for(t.flags|=128,Li(l,!1),e=x.updateQueue,t.updateQueue=e,Kr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)jx(n,e),n=n.sibling;return Z(yt,yt.current&1|2),Ie&&il(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Je()>Qr&&(t.flags|=128,c=!0,Li(l,!1),t.lanes=4194304)}else{if(!c)if(e=Er(x),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Kr(t,e),Li(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!Ie)return ot(t),null}else 2*Je()-l.renderingStartTime>Qr&&n!==536870912&&(t.flags|=128,c=!0,Li(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Je(),e.sibling=null,n=yt.current,Z(yt,c?n&1|2:n&1),Ie&&il(t,l.treeForkCount),e):(ot(t),null);case 22:case 23:return xn(t),Rc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),n=t.updateQueue,n!==null&&Kr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&q(aa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cl(St),ot(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function f2(e,t){switch(Sc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cl(St),fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return oe(t),null;case 31:if(t.memoizedState!==null){if(xn(t),t.alternate===null)throw Error(r(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(yt),null;case 4:return fe(),null;case 10:return cl(t.type),null;case 22:case 23:return xn(t),Rc(),e!==null&&q(aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cl(St),null;case 25:return null;default:return null}}function $o(e,t){switch(Sc(t),t.tag){case 3:cl(St),fe();break;case 26:case 27:case 5:oe(t);break;case 4:fe();break;case 31:t.memoizedState!==null&&xn(t);break;case 13:xn(t);break;case 19:q(yt);break;case 10:cl(t.type);break;case 22:case 23:xn(t),Rc(),e!==null&&q(aa);break;case 24:cl(St)}}function Bi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var x=n.create,p=n.inst;l=x(),p.destroy=l}n=n.next}while(n!==c)}}catch(A){at(t,t.return,A)}}function Tl(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var x=c.next;l=x;do{if((l.tag&e)===e){var p=l.inst,A=p.destroy;if(A!==void 0){p.destroy=void 0,c=t;var H=n,te=A;try{te()}catch(ie){at(c,H,ie)}}}l=l.next}while(l!==x)}}catch(ie){at(t,t.return,ie)}}function ef(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ux(t,n)}catch(l){at(e,e.return,l)}}}function tf(e,t,n){n.props=sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){at(e,t,l)}}function qi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){at(e,t,c)}}function Vn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){at(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){at(e,t,c)}else n.current=null}function nf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){at(e,e.return,c)}}function mu(e,t,n){try{var l=e.stateNode;B2(l,e.type,n,t),l[It]=t}catch(c){at(e,e.return,c)}}function lf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ol(e.type)||e.tag===4}function bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ol(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nl));else if(l!==4&&(l===27&&Ol(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(vu(e,t,n),e=e.sibling;e!==null;)vu(e,t,n),e=e.sibling}function Xr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Ol(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Xr(e,t,n),e=e.sibling;e!==null;)Xr(e,t,n),e=e.sibling}function af(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Rt(t,l,n),t[zt]=e,t[It]=n}catch(x){at(e,e.return,x)}}var fl=!1,jt=!1,gu=!1,rf=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function d2(e,t){if(e=e.containerInfo,ku=d0,e=bx(e),oc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var p=0,A=-1,H=-1,te=0,ie=0,ue=e,ne=null;t:for(;;){for(var ae;ue!==n||c!==0&&ue.nodeType!==3||(A=p+c),ue!==x||l!==0&&ue.nodeType!==3||(H=p+l),ue.nodeType===3&&(p+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)ne=ue,ue=ae;for(;;){if(ue===e)break t;if(ne===n&&++te===c&&(A=p),ne===x&&++ie===l&&(H=p),(ae=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=ae}n=A===-1||H===-1?null:{start:A,end:H}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},d0=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){switch(t=Tt,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,c=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var ve=sa(n.type,c);e=l.getSnapshotBeforeUpdate(ve,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ce){at(n,n.return,Ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Uu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}}function cf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:hl(e,n),l&4&&Bi(5,n);break;case 1:if(hl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){at(n,n.return,p)}else{var c=sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){at(n,n.return,p)}}l&64&&ef(n),l&512&&qi(n,n.return);break;case 3:if(hl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ux(e,t)}catch(p){at(n,n.return,p)}}break;case 27:t===null&&l&4&&af(n);case 26:case 5:hl(e,n),t===null&&l&4&&nf(n),l&512&&qi(n,n.return);break;case 12:hl(e,n);break;case 31:hl(e,n),l&4&&xf(e,n);break;case 13:hl(e,n),l&4&&of(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=S2.bind(null,n),H2(e,n))));break;case 22:if(l=n.memoizedState!==null||fl,!l){t=t!==null&&t.memoizedState!==null||jt,c=fl;var x=jt;fl=l,(jt=t)&&!x?ml(e,n,(n.subtreeFlags&8772)!==0):hl(e,n),fl=c,jt=x}break;case 30:break;default:hl(e,n)}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,Qt=!1;function dl(e,t,n){for(n=n.child;n!==null;)sf(e,t,n),n=n.sibling}function sf(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 26:jt||Vn(n,t),dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:jt||Vn(n,t);var l=dt,c=Qt;Ol(n.type)&&(dt=n.stateNode,Qt=!1),dl(e,t,n),Zi(n.stateNode),dt=l,Qt=c;break;case 5:jt||Vn(n,t);case 6:if(l=dt,c=Qt,dt=null,dl(e,t,n),dt=l,Qt=c,dt!==null)if(Qt)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(x){at(n,t,x)}else try{dt.removeChild(n.stateNode)}catch(x){at(n,t,x)}break;case 18:dt!==null&&(Qt?(e=dt,td(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):td(dt,n.stateNode));break;case 4:l=dt,c=Qt,dt=n.stateNode.containerInfo,Qt=!0,dl(e,t,n),dt=l,Qt=c;break;case 0:case 11:case 14:case 15:Tl(2,n,t),jt||Tl(4,n,t),dl(e,t,n);break;case 1:jt||(Vn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&tf(n,t,l)),dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:jt=(l=jt)||n.memoizedState!==null,dl(e,t,n),jt=l;break;default:dl(e,t,n)}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){at(t,t.return,n)}}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){at(t,t.return,n)}}function h2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rf),t;default:throw Error(r(435,e.tag))}}function Jr(e,t){var n=h2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=w2.bind(null,e,l);l.then(c,c)}})}function Pt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],x=e,p=t,A=p;e:for(;A!==null;){switch(A.tag){case 27:if(Ol(A.type)){dt=A.stateNode,Qt=!1;break e}break;case 5:dt=A.stateNode,Qt=!1;break e;case 3:case 4:dt=A.stateNode.containerInfo,Qt=!0;break e}A=A.return}if(dt===null)throw Error(r(160));sf(x,p,c),dt=null,Qt=!1,x=c.alternate,x!==null&&(x.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ff(t,e),t=t.sibling}var Un=null;function ff(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(t,e),Ft(e),l&4&&(Tl(3,e,e.return),Bi(3,e),Tl(5,e,e.return));break;case 1:Pt(t,e),Ft(e),l&512&&(jt||n===null||Vn(n,n.return)),l&64&&fl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Un;if(Pt(t,e),Ft(e),l&512&&(jt||n===null||Vn(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":x=c.getElementsByTagName("title")[0],(!x||x[rn]||x[zt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=c.createElement(l),c.head.insertBefore(x,c.querySelector("head > title"))),Rt(x,l,n),x[zt]=e,At(x),l=x;break e;case"link":var p=fd("link","href",c).get(l+(n.href||""));if(p){for(var A=0;A<p.length;A++)if(x=p[A],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(A,1);break t}}x=c.createElement(l),Rt(x,l,n),c.head.appendChild(x);break;case"meta":if(p=fd("meta","content",c).get(l+(n.content||""))){for(A=0;A<p.length;A++)if(x=p[A],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(A,1);break t}}x=c.createElement(l),Rt(x,l,n),c.head.appendChild(x);break;default:throw Error(r(468,l))}x[zt]=e,At(x),l=x}e.stateNode=l}else dd(c,e.type,e.stateNode);else e.stateNode=od(c,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?dd(c,e.type,e.stateNode):od(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&mu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pt(t,e),Ft(e),l&512&&(jt||n===null||Vn(n,n.return)),n!==null&&l&4&&mu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pt(t,e),Ft(e),l&512&&(jt||n===null||Vn(n,n.return)),e.flags&32){c=e.stateNode;try{ja(c,"")}catch(ve){at(e,e.return,ve)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,mu(e,c,n!==null?n.memoizedProps:c)),l&1024&&(gu=!0);break;case 6:if(Pt(t,e),Ft(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ve){at(e,e.return,ve)}}break;case 3:if(s0=null,c=Un,Un=c0(t.containerInfo),Pt(t,e),Un=c,Ft(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(ve){at(e,e.return,ve)}gu&&(gu=!1,df(e));break;case 4:l=Un,Un=c0(e.stateNode.containerInfo),Pt(t,e),Ft(e),Un=l;break;case 12:Pt(t,e),Ft(e);break;case 31:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jr(e,l)));break;case 13:Pt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Vr=Je()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jr(e,l)));break;case 22:c=e.memoizedState!==null;var H=n!==null&&n.memoizedState!==null,te=fl,ie=jt;if(fl=te||c,jt=ie||H,Pt(t,e),jt=ie,fl=te,Ft(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||H||fl||jt||xa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){H=n=t;try{if(x=H.stateNode,c)p=x.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{A=H.stateNode;var ue=H.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(ve){at(H,H.return,ve)}}}else if(t.tag===6){if(n===null){H=t;try{H.stateNode.nodeValue=c?"":H.memoizedProps}catch(ve){at(H,H.return,ve)}}}else if(t.tag===18){if(n===null){H=t;try{var ae=H.stateNode;c?nd(ae,!0):nd(H.stateNode,!1)}catch(ve){at(H,H.return,ve)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Jr(e,n))));break;case 19:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jr(e,l)));break;case 30:break;case 21:break;default:Pt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(lf(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var c=n.stateNode,x=bu(e);Xr(e,x,c);break;case 5:var p=n.stateNode;n.flags&32&&(ja(p,""),n.flags&=-33);var A=bu(e);Xr(e,A,p);break;case 3:case 4:var H=n.stateNode.containerInfo,te=bu(e);vu(e,te,H);break;default:throw Error(r(161))}}catch(ie){at(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;df(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)cf(e,t.alternate,t),t=t.sibling}function xa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Tl(4,t,t.return),xa(t);break;case 1:Vn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&tf(t,t.return,n),xa(t);break;case 27:Zi(t.stateNode);case 26:case 5:Vn(t,t.return),xa(t);break;case 22:t.memoizedState===null&&xa(t);break;case 30:xa(t);break;default:xa(t)}e=e.sibling}}function ml(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,x=t,p=x.flags;switch(x.tag){case 0:case 11:case 15:ml(c,x,n),Bi(4,x);break;case 1:if(ml(c,x,n),l=x,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(te){at(l,l.return,te)}if(l=x,c=l.updateQueue,c!==null){var A=l.stateNode;try{var H=c.shared.hiddenCallbacks;if(H!==null)for(c.shared.hiddenCallbacks=null,c=0;c<H.length;c++)Hx(H[c],A)}catch(te){at(l,l.return,te)}}n&&p&64&&ef(x),qi(x,x.return);break;case 27:af(x);case 26:case 5:ml(c,x,n),n&&l===null&&p&4&&nf(x),qi(x,x.return);break;case 12:ml(c,x,n);break;case 31:ml(c,x,n),n&&p&4&&xf(c,x);break;case 13:ml(c,x,n),n&&p&4&&of(c,x);break;case 22:x.memoizedState===null&&ml(c,x,n),qi(x,x.return);break;case 30:break;default:ml(c,x,n)}t=t.sibling}}function yu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_i(n))}function pu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e))}function Zn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hf(e,t,n,l),t=t.sibling}function hf(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Zn(e,t,n,l),c&2048&&Bi(9,t);break;case 1:Zn(e,t,n,l);break;case 3:Zn(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e)));break;case 12:if(c&2048){Zn(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,p=x.id,A=x.onPostCommit;typeof A=="function"&&A(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){at(t,t.return,H)}}else Zn(e,t,n,l);break;case 31:Zn(e,t,n,l);break;case 13:Zn(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,p=t.alternate,t.memoizedState!==null?x._visibility&2?Zn(e,t,n,l):Gi(e,t):x._visibility&2?Zn(e,t,n,l):(x._visibility|=2,Ka(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&yu(p,t);break;case 24:Zn(e,t,n,l),c&2048&&pu(t.alternate,t);break;default:Zn(e,t,n,l)}}function Ka(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,p=t,A=n,H=l,te=p.flags;switch(p.tag){case 0:case 11:case 15:Ka(x,p,A,H,c),Bi(8,p);break;case 23:break;case 22:var ie=p.stateNode;p.memoizedState!==null?ie._visibility&2?Ka(x,p,A,H,c):Gi(x,p):(ie._visibility|=2,Ka(x,p,A,H,c)),c&&te&2048&&yu(p.alternate,p);break;case 24:Ka(x,p,A,H,c),c&&te&2048&&pu(p.alternate,p);break;default:Ka(x,p,A,H,c)}t=t.sibling}}function Gi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Gi(n,l),c&2048&&yu(l.alternate,l);break;case 24:Gi(n,l),c&2048&&pu(l.alternate,l);break;default:Gi(n,l)}t=t.sibling}}var Ri=8192;function Xa(e,t,n){if(e.subtreeFlags&Ri)for(e=e.child;e!==null;)mf(e,t,n),e=e.sibling}function mf(e,t,n){switch(e.tag){case 26:Xa(e,t,n),e.flags&Ri&&e.memoizedState!==null&&eh(n,Un,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,t,n);break;case 3:case 4:var l=Un;Un=c0(e.stateNode.containerInfo),Xa(e,t,n),Un=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ri,Ri=16777216,Xa(e,t,n),Ri=l):Xa(e,t,n));break;default:Xa(e,t,n)}}function bf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,gf(l,e)}bf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vf(e),e=e.sibling}function vf(e){switch(e.tag){case 0:case 11:case 15:Oi(e),e.flags&2048&&Tl(9,e,e.return);break;case 3:Oi(e);break;case 12:Oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wr(e)):Oi(e);break;default:Oi(e)}}function Wr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,gf(l,e)}bf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Tl(8,t,t.return),Wr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Wr(t));break;default:Wr(t)}e=e.sibling}}function gf(e,t){for(;Tt!==null;){var n=Tt;switch(n.tag){case 0:case 11:case 15:Tl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_i(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Tt=l;else e:for(n=e;Tt!==null;){l=Tt;var c=l.sibling,x=l.return;if(uf(l),l===n){Tt=null;break e}if(c!==null){c.return=x,Tt=c;break e}Tt=x}}}var m2={getCacheForType:function(e){var t=qt(St),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return qt(St).controller.signal}},b2=typeof WeakMap=="function"?WeakMap:Map,Fe=0,ut=null,Ge=null,Oe=0,lt=0,on=null,El=!1,Ja=!1,_u=!1,bl=0,mt=0,Ll=0,oa=0,Su=0,fn=0,Wa=0,ki=null,$t=null,wu=!1,Vr=0,yf=0,Qr=1/0,Pr=null,Bl=null,Dt=0,ql=null,Va=null,vl=0,Cu=0,ju=null,pf=null,Yi=0,Mu=null;function dn(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:M.T!==null?Eu():ya()}function _f(){if(fn===0)if((Oe&536870912)===0||Ie){var e=Ae;Ae<<=1,(Ae&3932160)===0&&(Ae=262144),fn=e}else fn=536870912;return e=sn.current,e!==null&&(e.flags|=32),fn}function en(e,t,n){(e===ut&&(lt===2||lt===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Gl(e,Oe,fn,!1)),gt(e,n),((Fe&2)===0||e!==ut)&&(e===ut&&((Fe&2)===0&&(oa|=n),mt===4&&Gl(e,Oe,fn,!1)),Qn(e))}function Sf(e,t,n){if((Fe&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ye(e,t),c=l?y2(e,t):Du(e,t,!0),x=l;do{if(c===0){Ja&&!l&&Gl(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!v2(n)){c=Du(e,t,!1),x=!1;continue}if(c===2){if(x=t,e.errorRecoveryDisabledLanes&x)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var A=e;c=ki;var H=A.current.memoizedState.isDehydrated;if(H&&(Qa(A,p).flags|=256),p=Du(A,p,!1),p!==2){if(_u&&!H){A.errorRecoveryDisabledLanes|=x,oa|=x,c=4;break e}x=$t,$t=c,x!==null&&($t===null?$t=x:$t.push.apply($t,x))}c=p}if(x=!1,c!==2)continue}}if(c===1){Qa(e,0),Gl(e,t,0,!0);break}e:{switch(l=e,x=c,x){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Gl(l,t,fn,!El);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=Vr+300-Je(),10<c)){if(Gl(l,t,fn,!El),Ve(l,0,!0)!==0)break e;vl=t,l.timeoutHandle=$f(wf.bind(null,l,n,$t,Pr,wu,t,fn,oa,Wa,El,x,"Throttled",-0,0),c);break e}wf(l,n,$t,Pr,wu,t,fn,oa,Wa,El,x,null,-0,0)}}break}while(!0);Qn(e)}function wf(e,t,n,l,c,x,p,A,H,te,ie,ue,ne,ae){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nl},mf(t,x,ue);var ve=(x&62914560)===x?Vr-Je():(x&4194048)===x?yf-Je():0;if(ve=th(ue,ve),ve!==null){vl=x,e.cancelPendingCommit=ve(Tf.bind(null,e,t,x,n,l,c,p,A,H,ie,ue,null,ne,ae)),Gl(e,x,p,!te);return}}Tf(e,t,x,n,l,c,p,A,H)}function v2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],x=c.getSnapshot;c=c.value;try{if(!cn(x(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gl(e,t,n,l){t&=~Su,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var x=31-xe(c),p=1<<x;l[x]=-1,c&=~p}n!==0&&ze(e,n,t)}function Fr(){return(Fe&6)===0?(Ii(0),!1):!0}function zu(){if(Ge!==null){if(lt===0)var e=Ge.return;else e=Ge,rl=na=null,Uc(e),Ya=null,wi=0,e=Ge;for(;e!==null;)$o(e.alternate,e),e=e.return;Ge=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,R2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vl=0,zu(),ut=e,Ge=n=al(e.current,null),Oe=t,lt=0,on=null,El=!1,Ja=Ye(e,t),_u=!1,Wa=fn=Su=oa=Ll=mt=0,$t=ki=null,wu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-xe(l),x=1<<c;t|=e[c],l&=~x}return bl=t,yr(),n}function Cf(e,t){Ee=null,M.H=Ti,t===ka||t===zr?(t=Ox(),lt=3):t===Tc?(t=Ox(),lt=4):lt=t===iu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,on=t,Ge===null&&(mt=1,Ir(e,Cn(t,e.current)))}function jf(){var e=sn.current;return e===null?!0:(Oe&4194048)===Oe?Dn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?e===Dn:!1}function Mf(){var e=M.H;return M.H=Ti,e===null?Ti:e}function zf(){var e=M.A;return M.A=m2,e}function $r(){mt=4,El||(Oe&4194048)!==Oe&&sn.current!==null||(Ja=!0),(Ll&134217727)===0&&(oa&134217727)===0||ut===null||Gl(ut,Oe,fn,!1)}function Du(e,t,n){var l=Fe;Fe|=2;var c=Mf(),x=zf();(ut!==e||Oe!==t)&&(Pr=null,Qa(e,t)),t=!1;var p=mt;e:do try{if(lt!==0&&Ge!==null){var A=Ge,H=on;switch(lt){case 8:zu(),p=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(t=!0);var te=lt;if(lt=0,on=null,Pa(e,A,H,te),n&&Ja){p=0;break e}break;default:te=lt,lt=0,on=null,Pa(e,A,H,te)}}g2(),p=mt;break}catch(ie){Cf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,rl=na=null,Fe=l,M.H=c,M.A=x,Ge===null&&(ut=null,Oe=0,yr()),p}function g2(){for(;Ge!==null;)Df(Ge)}function y2(e,t){var n=Fe;Fe|=2;var l=Mf(),c=zf();ut!==e||Oe!==t?(Pr=null,Qr=Je()+500,Qa(e,t)):Ja=Ye(e,t);e:do try{if(lt!==0&&Ge!==null){t=Ge;var x=on;t:switch(lt){case 1:lt=0,on=null,Pa(e,t,x,1);break;case 2:case 9:if(Gx(x)){lt=0,on=null,Nf(t);break}t=function(){lt!==2&&lt!==9||ut!==e||(lt=7),Qn(e)},x.then(t,t);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Gx(x)?(lt=0,on=null,Nf(t)):(lt=0,on=null,Pa(e,t,x,7));break;case 5:var p=null;switch(Ge.tag){case 26:p=Ge.memoizedState;case 5:case 27:var A=Ge;if(p?hd(p):A.stateNode.complete){lt=0,on=null;var H=A.sibling;if(H!==null)Ge=H;else{var te=A.return;te!==null?(Ge=te,e0(te)):Ge=null}break t}}lt=0,on=null,Pa(e,t,x,5);break;case 6:lt=0,on=null,Pa(e,t,x,6);break;case 8:zu(),mt=6;break e;default:throw Error(r(462))}}p2();break}catch(ie){Cf(e,ie)}while(!0);return rl=na=null,M.H=l,M.A=c,Fe=n,Ge!==null?0:(ut=null,Oe=0,yr(),mt)}function p2(){for(;Ge!==null&&!kn();)Df(Ge)}function Df(e){var t=Po(e.alternate,e,bl);e.memoizedProps=e.pendingProps,t===null?e0(e):Ge=t}function Nf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ko(n,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Ko(n,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:Uc(t);default:$o(n,t),t=Ge=jx(t,bl),t=Po(n,t,bl)}e.memoizedProps=e.pendingProps,t===null?e0(e):Ge=t}function Pa(e,t,n,l){rl=na=null,Uc(t),Ya=null,wi=0;var c=t.return;try{if(u2(e,c,t,n,Oe)){mt=1,Ir(e,Cn(n,e.current)),Ge=null;return}}catch(x){if(c!==null)throw Ge=c,x;mt=1,Ir(e,Cn(n,e.current)),Ge=null;return}t.flags&32768?(Ie||l===1?e=!0:Ja||(Oe&536870912)!==0?e=!1:(El=e=!0,(l===2||l===9||l===3||l===6)&&(l=sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Af(t,e)):e0(t)}function e0(e){var t=e;do{if((t.flags&32768)!==0){Af(t,El);return}e=t.return;var n=o2(t.alternate,t,bl);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);mt===0&&(mt=5)}function Af(e,t){do{var n=f2(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);mt=6,Ge=null}function Tf(e,t,n,l,c,x,p,A,H){e.cancelPendingCommit=null;do t0();while(Dt!==0);if((Fe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(x=t.lanes|t.childLanes,x|=bc,$e(e,n,x,p,A,H),e===ut&&(Ge=ut=null,Oe=0),Va=t,ql=e,vl=n,Cu=x,ju=c,pf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C2(Yn,function(){return Gf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,c=E.p,E.p=2,p=Fe,Fe|=4;try{d2(e,t,n)}finally{Fe=p,E.p=c,M.T=l}}Dt=1,Ef(),Lf(),Bf()}}function Ef(){if(Dt===1){Dt=0;var e=ql,t=Va,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var l=E.p;E.p=2;var c=Fe;Fe|=4;try{ff(t,e);var x=Yu,p=bx(e.containerInfo),A=x.focusedElem,H=x.selectionRange;if(p!==A&&A&&A.ownerDocument&&mx(A.ownerDocument.documentElement,A)){if(H!==null&&oc(A)){var te=H.start,ie=H.end;if(ie===void 0&&(ie=te),"selectionStart"in A)A.selectionStart=te,A.selectionEnd=Math.min(ie,A.value.length);else{var ue=A.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),ve=A.textContent.length,Ce=Math.min(H.start,ve),ct=H.end===void 0?Ce:Math.min(H.end,ve);!ae.extend&&Ce>ct&&(p=ct,ct=Ce,Ce=p);var Q=hx(A,Ce),X=hx(A,ct);if(Q&&X&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==X.node||ae.focusOffset!==X.offset)){var ee=ue.createRange();ee.setStart(Q.node,Q.offset),ae.removeAllRanges(),Ce>ct?(ae.addRange(ee),ae.extend(X.node,X.offset)):(ee.setEnd(X.node,X.offset),ae.addRange(ee))}}}}for(ue=[],ae=A;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var re=ue[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}d0=!!ku,Yu=ku=null}finally{Fe=c,E.p=l,M.T=n}}e.current=t,Dt=2}}function Lf(){if(Dt===2){Dt=0;var e=ql,t=Va,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var l=E.p;E.p=2;var c=Fe;Fe|=4;try{cf(e,t.alternate,t)}finally{Fe=c,E.p=l,M.T=n}}Dt=3}}function Bf(){if(Dt===4||Dt===3){Dt=0,$n();var e=ql,t=Va,n=vl,l=pf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Dt=5:(Dt=0,Va=ql=null,qf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Bl=null),yn(n),t=t.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,c=E.p,E.p=2,M.T=null;try{for(var x=e.onRecoverableError,p=0;p<l.length;p++){var A=l[p];x(A.value,{componentStack:A.stack})}}finally{M.T=t,E.p=c}}(vl&3)!==0&&t0(),Qn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Mu?Yi++:(Yi=0,Mu=e):Yi=0,Ii(0)}}function qf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_i(t)))}function t0(){return Ef(),Lf(),Bf(),Gf()}function Gf(){if(Dt!==5)return!1;var e=ql,t=Cu;Cu=0;var n=yn(vl),l=M.T,c=E.p;try{E.p=32>n?32:n,M.T=null,n=ju,ju=null;var x=ql,p=vl;if(Dt=0,Va=ql=null,vl=0,(Fe&6)!==0)throw Error(r(331));var A=Fe;if(Fe|=4,vf(x.current),hf(x,x.current,p,n),Fe=A,Ii(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(el,x)}catch{}return!0}finally{E.p=c,M.T=l,qf(e,t)}}function Rf(e,t,n){t=Cn(n,t),t=au(e.stateNode,t,2),e=Dl(e,t,2),e!==null&&(gt(e,2),Qn(e))}function at(e,t,n){if(e.tag===3)Rf(e,e,n);else for(;t!==null;){if(t.tag===3){Rf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bl===null||!Bl.has(l))){e=Cn(n,e),n=Ro(2),l=Dl(t,n,2),l!==null&&(Oo(n,l,t,e),gt(l,2),Qn(l));break}}t=t.return}}function Nu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new b2;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(_u=!0,c.add(n),e=_2.bind(null,e,t,n),t.then(e,e))}function _2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ut===e&&(Oe&n)===n&&(mt===4||mt===3&&(Oe&62914560)===Oe&&300>Je()-Vr?(Fe&2)===0&&Qa(e,0):Su|=n,Wa===Oe&&(Wa=0)),Qn(e)}function Of(e,t){t===0&&(t=Pe()),e=$l(e,t),e!==null&&(gt(e,t),Qn(e))}function S2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Of(e,n)}function w2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Of(e,n)}function C2(e,t){return Zt(e,t)}var n0=null,Fa=null,Au=!1,l0=!1,Tu=!1,Rl=0;function Qn(e){e!==Fa&&e.next===null&&(Fa===null?n0=Fa=e:Fa=Fa.next=e),l0=!0,Au||(Au=!0,M2())}function Ii(e,t){if(!Tu&&l0){Tu=!0;do for(var n=!1,l=n0;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var x=0;else{var p=l.suspendedLanes,A=l.pingedLanes;x=(1<<31-xe(42|e)+1)-1,x&=c&~(p&~A),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Hf(l,x))}else x=Oe,x=Ve(l,l===ut?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||Ye(l,x)||(n=!0,Hf(l,x));l=l.next}while(n);Tu=!1}}function j2(){kf()}function kf(){l0=Au=!1;var e=0;Rl!==0&&G2()&&(e=Rl);for(var t=Je(),n=null,l=n0;l!==null;){var c=l.next,x=Yf(l,t);x===0?(l.next=null,n===null?n0=c:n.next=c,c===null&&(Fa=n)):(n=l,(e!==0||(x&3)!==0)&&(l0=!0)),l=c}Dt!==0&&Dt!==5||Ii(e),Rl!==0&&(Rl=0)}function Yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var p=31-xe(x),A=1<<p,H=c[p];H===-1?((A&n)===0||(A&l)!==0)&&(c[p]=Qe(A,t)):H<=t&&(e.expiredLanes|=A),x&=~A}if(t=ut,n=Oe,n=Ve(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(lt===2||lt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&vn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ye(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&vn(l),yn(n)){case 2:case 8:n=Xl;break;case 32:n=Yn;break;case 268435456:n=In;break;default:n=Yn}return l=If.bind(null,e),n=Zt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&vn(l),e.callbackPriority=2,e.callbackNode=null,2}function If(e,t){if(Dt!==0&&Dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(t0()&&e.callbackNode!==n)return null;var l=Oe;return l=Ve(e,e===ut?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sf(e,l,t),Yf(e,Je()),e.callbackNode!=null&&e.callbackNode===n?If.bind(null,e):null)}function Hf(e,t){if(t0())return null;Sf(e,t,!0)}function M2(){O2(function(){(Fe&6)!==0?Zt(pl,j2):kf()})}function Eu(){if(Rl===0){var e=Ra;e===0&&(e=pe,pe<<=1,(pe&261888)===0&&(pe=256)),Rl=e}return Rl}function Uf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:or(""+e)}function Zf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function z2(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var x=Uf((c[It]||null).action),p=l.submitter;p&&(t=(t=p[It]||null)?Uf(t.formAction):p.getAttribute("formAction"),t!==null&&(x=t,p=null));var A=new mr("action","action",null,l,c);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rl!==0){var H=p?Zf(c,p):new FormData(c);Fc(n,{pending:!0,data:H,method:c.method,action:x},null,H)}}else typeof x=="function"&&(A.preventDefault(),H=p?Zf(c,p):new FormData(c),Fc(n,{pending:!0,data:H,method:c.method,action:x},x,H))},currentTarget:c}]})}}for(var Lu=0;Lu<mc.length;Lu++){var Bu=mc[Lu],D2=Bu.toLowerCase(),N2=Bu[0].toUpperCase()+Bu.slice(1);Hn(D2,"on"+N2)}Hn(yx,"onAnimationEnd"),Hn(px,"onAnimationIteration"),Hn(_x,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(K1,"onTransitionRun"),Hn(X1,"onTransitionStart"),Hn(J1,"onTransitionCancel"),Hn(Sx,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),Vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hi));function Kf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var p=l.length-1;0<=p;p--){var A=l[p],H=A.instance,te=A.currentTarget;if(A=A.listener,H!==x&&c.isPropagationStopped())break e;x=A,c.currentTarget=te;try{x(c)}catch(ie){gr(ie)}c.currentTarget=null,x=H}else for(p=0;p<l.length;p++){if(A=l[p],H=A.instance,te=A.currentTarget,A=A.listener,H!==x&&c.isPropagationStopped())break e;x=A,c.currentTarget=te;try{x(c)}catch(ie){gr(ie)}c.currentTarget=null,x=H}}}}function Re(e,t){var n=t[_e];n===void 0&&(n=t[_e]=new Set);var l=e+"__bubble";n.has(l)||(Xf(t,e,2,!1),n.add(l))}function qu(e,t,n){var l=0;t&&(l|=4),Xf(n,e,l,t)}var a0="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[a0]){e[a0]=!0,Rs.forEach(function(n){n!=="selectionchange"&&(A2.has(n)||qu(n,!1,e),qu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[a0]||(t[a0]=!0,qu("selectionchange",!1,t))}}function Xf(e,t,n,l){switch(_d(t)){case 2:var c=ah;break;case 8:c=ih;break;default:c=Pu}n=c.bind(null,t,n,e),c=void 0,!nc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Ru(e,t,n,l,c){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var A=l.stateNode.containerInfo;if(A===c)break;if(p===4)for(p=l.return;p!==null;){var H=p.tag;if((H===3||H===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;A!==null;){if(p=pa(A),p===null)return;if(H=p.tag,H===5||H===6||H===26||H===27){l=x=p;continue e}A=A.parentNode}}l=l.return}Vs(function(){var te=x,ie=ec(n),ue=[];e:{var ne=wx.get(e);if(ne!==void 0){var ae=mr,ve=e;switch(e){case"keypress":if(dr(n)===0)break e;case"keydown":case"keyup":ae=w1;break;case"focusin":ve="focus",ae=rc;break;case"focusout":ve="blur",ae=rc;break;case"beforeblur":case"afterblur":ae=rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=M1;break;case yx:case px:case _x:ae=h1;break;case Sx:ae=D1;break;case"scroll":case"scrollend":ae=s1;break;case"wheel":ae=A1;break;case"copy":case"cut":case"paste":ae=b1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=ex;break;case"toggle":case"beforetoggle":ae=E1}var Ce=(t&4)!==0,ct=!Ce&&(e==="scroll"||e==="scrollend"),Q=Ce?ne!==null?ne+"Capture":null:ne;Ce=[];for(var X=te,ee;X!==null;){var re=X;if(ee=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||ee===null||Q===null||(re=xi(X,Q),re!=null&&Ce.push(Ui(X,re,ee))),ct)break;X=X.return}0<Ce.length&&(ne=new ae(ne,ve,null,n,ie),ue.push({event:ne,listeners:Ce}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&n!==$0&&(ve=n.relatedTarget||n.fromElement)&&(pa(ve)||ve[he]))break e;if((ae||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(ve=n.relatedTarget||n.toElement,ae=te,ve=ve?pa(ve):null,ve!==null&&(ct=f(ve),Ce=ve.tag,ve!==ct||Ce!==5&&Ce!==27&&Ce!==6)&&(ve=null)):(ae=null,ve=te),ae!==ve)){if(Ce=Fs,re="onMouseLeave",Q="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(Ce=ex,re="onPointerLeave",Q="onPointerEnter",X="pointer"),ct=ae==null?ne:si(ae),ee=ve==null?ne:si(ve),ne=new Ce(re,X+"leave",ae,n,ie),ne.target=ct,ne.relatedTarget=ee,re=null,pa(ie)===te&&(Ce=new Ce(Q,X+"enter",ve,n,ie),Ce.target=ee,Ce.relatedTarget=ct,re=Ce),ct=re,ae&&ve)t:{for(Ce=T2,Q=ae,X=ve,ee=0,re=Q;re;re=Ce(re))ee++;re=0;for(var Se=X;Se;Se=Ce(Se))re++;for(;0<ee-re;)Q=Ce(Q),ee--;for(;0<re-ee;)X=Ce(X),re--;for(;ee--;){if(Q===X||X!==null&&Q===X.alternate){Ce=Q;break t}Q=Ce(Q),X=Ce(X)}Ce=null}else Ce=null;ae!==null&&Jf(ue,ne,ae,Ce,!1),ve!==null&&ct!==null&&Jf(ue,ct,ve,Ce,!0)}}e:{if(ne=te?si(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Ke=ux;else if(rx(ne))if(sx)Ke=H1;else{Ke=Y1;var ge=k1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&F0(te.elementType)&&(Ke=ux):Ke=I1;if(Ke&&(Ke=Ke(e,te))){cx(ue,Ke,n,ie);break e}ge&&ge(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&P0(ne,"number",ne.value)}switch(ge=te?si(te):window,e){case"focusin":(rx(ge)||ge.contentEditable==="true")&&(Na=ge,fc=te,gi=null);break;case"focusout":gi=fc=Na=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,vx(ue,n,ie);break;case"selectionchange":if(Z1)break;case"keydown":case"keyup":vx(ue,n,ie)}var Le;if(uc)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Da?ax(e,n)&&(ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ke="onCompositionStart");ke&&(tx&&n.locale!=="ko"&&(Da||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Da&&(Le=Qs()):(_l=ie,lc="value"in _l?_l.value:_l.textContent,Da=!0)),ge=i0(te,ke),0<ge.length&&(ke=new $s(ke,e,null,n,ie),ue.push({event:ke,listeners:ge}),Le?ke.data=Le:(Le=ix(n),Le!==null&&(ke.data=Le)))),(Le=B1?q1(e,n):G1(e,n))&&(ke=i0(te,"onBeforeInput"),0<ke.length&&(ge=new $s("onBeforeInput","beforeinput",null,n,ie),ue.push({event:ge,listeners:ke}),ge.data=Le)),z2(ue,e,te,n,ie)}Kf(ue,t)})}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function i0(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,x=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||x===null||(c=xi(e,n),c!=null&&l.unshift(Ui(e,c,x)),c=xi(e,t),c!=null&&l.push(Ui(e,c,x))),e.tag===3)return l;e=e.return}return[]}function T2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jf(e,t,n,l,c){for(var x=t._reactName,p=[];n!==null&&n!==l;){var A=n,H=A.alternate,te=A.stateNode;if(A=A.tag,H!==null&&H===l)break;A!==5&&A!==26&&A!==27||te===null||(H=te,c?(te=xi(n,x),te!=null&&p.unshift(Ui(n,te,H))):c||(te=xi(n,x),te!=null&&p.push(Ui(n,te,H)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var E2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(E2,`
`).replace(L2,"")}function Vf(e,t){return t=Wf(t),Wf(e)===t}function rt(e,t,n,l,c,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ja(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ja(e,""+l);break;case"className":sr(e,"class",l);break;case"tabIndex":sr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(e,n,l);break;case"style":Js(e,l,x);break;case"data":if(t!=="object"){sr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&rt(e,t,"name",c.name,c,null),rt(e,t,"formEncType",c.formEncType,c,null),rt(e,t,"formMethod",c.formMethod,c,null),rt(e,t,"formTarget",c.formTarget,c,null)):(rt(e,t,"encType",c.encType,c,null),rt(e,t,"method",c.method,c,null),rt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=nl);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=or(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":tl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=c1.get(n)||n,ur(e,n,l))}}function Ou(e,t,n,l,c,x){switch(n){case"style":Js(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?ja(e,l):(typeof l=="number"||typeof l=="bigint")&&ja(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Os.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),x=e[It]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,c),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ur(e,n,l)}}}function Rt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,c=!1,x;for(x in n)if(n.hasOwnProperty(x)){var p=n[x];if(p!=null)switch(x){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:rt(e,t,x,p,n,null)}}c&&rt(e,t,"srcSet",n.srcSet,n,null),l&&rt(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var A=x=p=c=null,H=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":c=ie;break;case"type":p=ie;break;case"checked":H=ie;break;case"defaultChecked":te=ie;break;case"value":x=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,t));break;default:rt(e,t,l,ie,n,null)}}Us(e,x,A,H,te,p,c,!1);return;case"select":Re("invalid",e),l=p=x=null;for(c in n)if(n.hasOwnProperty(c)&&(A=n[c],A!=null))switch(c){case"value":x=A;break;case"defaultValue":p=A;break;case"multiple":l=A;default:rt(e,t,c,A,n,null)}t=x,n=p,e.multiple=!!l,t!=null?Ca(e,!!l,t,!1):n!=null&&Ca(e,!!l,n,!0);return;case"textarea":Re("invalid",e),x=c=l=null;for(p in n)if(n.hasOwnProperty(p)&&(A=n[p],A!=null))switch(p){case"value":l=A;break;case"defaultValue":c=A;break;case"children":x=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:rt(e,t,p,A,n,null)}Ks(e,l,c,x);return;case"option":for(H in n)n.hasOwnProperty(H)&&(l=n[H],l!=null)&&(H==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(e,t,H,l,n,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<Hi.length;l++)Re(Hi[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:rt(e,t,te,l,n,null)}return;default:if(F0(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Ou(e,t,ie,l,n,void 0));return}}for(A in n)n.hasOwnProperty(A)&&(l=n[A],l!=null&&rt(e,t,A,l,n,null))}function B2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,x=null,p=null,A=null,H=null,te=null,ie=null;for(ae in n){var ue=n[ae];if(n.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":H=ue;default:l.hasOwnProperty(ae)||rt(e,t,ae,null,l,ue)}}for(var ne in l){var ae=l[ne];if(ue=n[ne],l.hasOwnProperty(ne)&&(ae!=null||ue!=null))switch(ne){case"type":x=ae;break;case"name":c=ae;break;case"checked":te=ae;break;case"defaultChecked":ie=ae;break;case"value":p=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,t));break;default:ae!==ue&&rt(e,t,ne,ae,l,ue)}}Q0(e,p,A,H,te,ie,x,c);return;case"select":ae=p=A=ne=null;for(x in n)if(H=n[x],n.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":ae=H;default:l.hasOwnProperty(x)||rt(e,t,x,null,l,H)}for(c in l)if(x=l[c],H=n[c],l.hasOwnProperty(c)&&(x!=null||H!=null))switch(c){case"value":ne=x;break;case"defaultValue":A=x;break;case"multiple":p=x;default:x!==H&&rt(e,t,c,x,l,H)}t=A,n=p,l=ae,ne!=null?Ca(e,!!n,ne,!1):!!l!=!!n&&(t!=null?Ca(e,!!n,t,!0):Ca(e,!!n,n?[]:"",!1));return;case"textarea":ae=ne=null;for(A in n)if(c=n[A],n.hasOwnProperty(A)&&c!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:rt(e,t,A,null,l,c)}for(p in l)if(c=l[p],x=n[p],l.hasOwnProperty(p)&&(c!=null||x!=null))switch(p){case"value":ne=c;break;case"defaultValue":ae=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==x&&rt(e,t,p,c,l,x)}Zs(e,ne,ae);return;case"option":for(var ve in n)ne=n[ve],n.hasOwnProperty(ve)&&ne!=null&&!l.hasOwnProperty(ve)&&(ve==="selected"?e.selected=!1:rt(e,t,ve,null,l,ne));for(H in l)ne=l[H],ae=n[H],l.hasOwnProperty(H)&&ne!==ae&&(ne!=null||ae!=null)&&(H==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":rt(e,t,H,ne,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in n)ne=n[Ce],n.hasOwnProperty(Ce)&&ne!=null&&!l.hasOwnProperty(Ce)&&rt(e,t,Ce,null,l,ne);for(te in l)if(ne=l[te],ae=n[te],l.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,t));break;default:rt(e,t,te,ne,l,ae)}return;default:if(F0(t)){for(var ct in n)ne=n[ct],n.hasOwnProperty(ct)&&ne!==void 0&&!l.hasOwnProperty(ct)&&Ou(e,t,ct,void 0,l,ne);for(ie in l)ne=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||ne===ae||ne===void 0&&ae===void 0||Ou(e,t,ie,ne,l,ae);return}}for(var Q in n)ne=n[Q],n.hasOwnProperty(Q)&&ne!=null&&!l.hasOwnProperty(Q)&&rt(e,t,Q,null,l,ne);for(ue in l)ne=l[ue],ae=n[ue],!l.hasOwnProperty(ue)||ne===ae||ne==null&&ae==null||rt(e,t,ue,ne,l,ae)}function Qf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],x=c.transferSize,p=c.initiatorType,A=c.duration;if(x&&A&&Qf(p)){for(p=0,A=c.responseEnd,l+=1;l<n.length;l++){var H=n[l],te=H.startTime;if(te>A)break;var ie=H.transferSize,ue=H.initiatorType;ie&&Qf(ue)&&(H=H.responseEnd,p+=ie*(H<A?1:(A-te)/(H-te)))}if(--l,t+=8*(x+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ku=null,Yu=null;function r0(e){return e.nodeType===9?e:e.ownerDocument}function Pf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ff(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=null;function G2(){var e=window.event;return e&&e.type==="popstate"?e===Hu?!1:(Hu=e,!0):(Hu=null,!1)}var $f=typeof setTimeout=="function"?setTimeout:void 0,R2=typeof clearTimeout=="function"?clearTimeout:void 0,ed=typeof Promise=="function"?Promise:void 0,O2=typeof queueMicrotask=="function"?queueMicrotask:typeof ed<"u"?function(e){return ed.resolve(null).then(e).catch(k2)}:$f;function k2(e){setTimeout(function(){throw e})}function Ol(e){return e==="head"}function td(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),ni(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Zi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Zi(n);for(var x=n.firstChild;x;){var p=x.nextSibling,A=x.nodeName;x[rn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=p}}else n==="body"&&Zi(e.ownerDocument.body);n=c}while(n);ni(t)}function nd(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Uu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Uu(n),ui(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Y2(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[rn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function I2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function ld(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nn(e.nextSibling),e===null))return null;return e}function Zu(e){return e.data==="$?"||e.data==="$~"}function Ku(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Xu=null;function ad(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Nn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function rd(e,t,n){switch(t=r0(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Zi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ui(e)}var An=new Map,cd=new Set;function c0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gl=E.d;E.d={f:U2,r:Z2,D:K2,C:X2,L:J2,m:W2,X:Q2,S:V2,M:P2};function U2(){var e=gl.f(),t=Fr();return e||t}function Z2(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?wo(t):gl.r(e)}var $a=typeof document>"u"?null:document;function ud(e,t,n){var l=$a;if(l&&typeof t=="string"&&t){var c=Sn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),cd.has(c)||(cd.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Rt(t,"link",e),At(t),l.head.appendChild(t)))}}function K2(e){gl.D(e),ud("dns-prefetch",e,null)}function X2(e,t){gl.C(e,t),ud("preconnect",e,t)}function J2(e,t,n){gl.L(e,t,n);var l=$a;if(l&&e&&t){var c='link[rel="preload"][as="'+Sn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Sn(n.imageSizes)+'"]')):c+='[href="'+Sn(e)+'"]';var x=c;switch(t){case"style":x=ei(e);break;case"script":x=ti(e)}An.has(x)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(x,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Ki(x))||t==="script"&&l.querySelector(Xi(x))||(t=l.createElement("link"),Rt(t,"link",e),At(t),l.head.appendChild(t)))}}function W2(e,t){gl.m(e,t);var n=$a;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(e)+'"]',x=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ti(e)}if(!An.has(x)&&(e=y({rel:"modulepreload",href:e},t),An.set(x,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xi(x)))return}l=n.createElement("link"),Rt(l,"link",e),At(l),n.head.appendChild(l)}}}function V2(e,t,n){gl.S(e,t,n);var l=$a;if(l&&e){var c=Sa(l).hoistableStyles,x=ei(e);t=t||"default";var p=c.get(x);if(!p){var A={loading:0,preload:null};if(p=l.querySelector(Ki(x)))A.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(x))&&Ju(e,n);var H=p=l.createElement("link");At(H),Rt(H,"link",e),H._p=new Promise(function(te,ie){H.onload=te,H.onerror=ie}),H.addEventListener("load",function(){A.loading|=1}),H.addEventListener("error",function(){A.loading|=2}),A.loading|=4,u0(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:A},c.set(x,p)}}}function Q2(e,t){gl.X(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,c=ti(e),x=l.get(c);x||(x=n.querySelector(Xi(c)),x||(e=y({src:e,async:!0},t),(t=An.get(c))&&Wu(e,t),x=n.createElement("script"),At(x),Rt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(c,x))}}function P2(e,t){gl.M(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,c=ti(e),x=l.get(c);x||(x=n.querySelector(Xi(c)),x||(e=y({src:e,async:!0,type:"module"},t),(t=An.get(c))&&Wu(e,t),x=n.createElement("script"),At(x),Rt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(c,x))}}function sd(e,t,n,l){var c=(c=ce.current)?c0(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=Sa(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var x=Sa(c).hoistableStyles,p=x.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,p),(x=c.querySelector(Ki(e)))&&!x._p&&(p.instance=x,p.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),x||F2(c,e,n,p.state))),t&&l===null)throw Error(r(528,""));return p}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=Sa(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ei(e){return'href="'+Sn(e)+'"'}function Ki(e){return'link[rel="stylesheet"]['+e+"]"}function xd(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function F2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Rt(t,"link",n),At(t),e.head.appendChild(t))}function ti(e){return'[src="'+Sn(e)+'"]'}function Xi(e){return"script[async]"+e}function od(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Sn(n.href)+'"]');if(l)return t.instance=l,At(l),l;var c=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),At(l),Rt(l,"style",c),u0(l,n.precedence,e),t.instance=l;case"stylesheet":c=ei(n.href);var x=e.querySelector(Ki(c));if(x)return t.state.loading|=4,t.instance=x,At(x),x;l=xd(n),(c=An.get(c))&&Ju(l,c),x=(e.ownerDocument||e).createElement("link"),At(x);var p=x;return p._p=new Promise(function(A,H){p.onload=A,p.onerror=H}),Rt(x,"link",l),t.state.loading|=4,u0(x,n.precedence,e),t.instance=x;case"script":return x=ti(n.src),(c=e.querySelector(Xi(x)))?(t.instance=c,At(c),c):(l=n,(c=An.get(x))&&(l=y({},n),Wu(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),At(c),Rt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,u0(l,n.precedence,e));return t.instance}function u0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,x=c,p=0;p<l.length;p++){var A=l[p];if(A.dataset.precedence===t)x=A;else if(x!==c)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var s0=null;function fd(e,t,n){if(s0===null){var l=new Map,c=s0=new Map;c.set(n,l)}else c=s0,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var x=n[c];if(!(x[rn]||x[zt]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var p=x.getAttribute(t)||"";p=e+p;var A=l.get(p);A?A.push(x):l.set(p,[x])}}return l}function dd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function $2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eh(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ei(l.href),x=t.querySelector(Ki(c));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=x0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,At(x);return}x=t.ownerDocument||t,l=xd(l),(c=An.get(c))&&Ju(l,c),x=x.createElement("link"),At(x);var p=x;p._p=new Promise(function(A,H){p.onload=A,p.onerror=H}),Rt(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=x0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Vu=0;function th(e,t){return e.stylesheets&&e.count===0&&f0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&f0(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&Vu===0&&(Vu=62500*q2());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&f0(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>Vu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function x0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)f0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var o0=null;function f0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,o0=new Map,t.forEach(nh,e),o0=null,x0.call(e))}function nh(e,t){if(!(t.state.loading&4)){var n=o0.get(e);if(n)var l=n.get(null);else{n=new Map,o0.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<c.length;x++){var p=c[x];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),l=p)}l&&n.set(null,l)}c=t.instance,p=c.getAttribute("data-precedence"),x=n.get(p)||l,x===l&&n.set(null,c),n.set(p,c),this.count++,l=x0.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),x?x.parentNode.insertBefore(c,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ji={$$typeof:G,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function lh(e,t,n,l,c,x,p,A,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=x,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function md(e,t,n,l,c,x,p,A,H,te,ie,ue){return e=new lh(e,t,n,p,H,te,ie,ue,A),t=1,x===!0&&(t|=24),x=un(3,null,null,t),e.current=x,x.stateNode=e,t=Dc(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},Ec(x),e}function bd(e){return e?(e=Ea,e):Ea}function vd(e,t,n,l,c,x){c=bd(c),l.context===null?l.context=c:l.pendingContext=c,l=zl(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=Dl(e,l,t),n!==null&&(en(n,e,t),ji(n,e,t))}function gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qu(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function yd(e){if(e.tag===13||e.tag===31){var t=$l(e,67108864);t!==null&&en(t,e,67108864),Qu(e,67108864)}}function pd(e){if(e.tag===13||e.tag===31){var t=dn();t=nt(t);var n=$l(e,t);n!==null&&en(n,e,t),Qu(e,t)}}var d0=!0;function ah(e,t,n,l){var c=M.T;M.T=null;var x=E.p;try{E.p=2,Pu(e,t,n,l)}finally{E.p=x,M.T=c}}function ih(e,t,n,l){var c=M.T;M.T=null;var x=E.p;try{E.p=8,Pu(e,t,n,l)}finally{E.p=x,M.T=c}}function Pu(e,t,n,l){if(d0){var c=Fu(l);if(c===null)Ru(e,t,l,h0,n),Sd(e,l);else if(ch(c,e,t,n,l))l.stopPropagation();else if(Sd(e,l),t&4&&-1<rh.indexOf(e)){for(;c!==null;){var x=_a(c);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var p=ye(x.pendingLanes);if(p!==0){var A=x;for(A.pendingLanes|=2,A.entangledLanes|=2;p;){var H=1<<31-xe(p);A.entanglements[1]|=H,p&=~H}Qn(x),(Fe&6)===0&&(Qr=Je()+500,Ii(0))}}break;case 31:case 13:A=$l(x,2),A!==null&&en(A,x,2),Fr(),Qu(x,2)}if(x=Fu(l),x===null&&Ru(e,t,l,h0,n),x===c)break;c=x}c!==null&&l.stopPropagation()}else Ru(e,t,l,null,n)}}function Fu(e){return e=ec(e),$u(e)}var h0=null;function $u(e){if(h0=null,e=pa(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=w(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return h0=e,null}function _d(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case pl:return 2;case Xl:return 8;case Yn:case ga:return 32;case In:return 268435456;default:return 32}default:return 32}}var es=!1,kl=null,Yl=null,Il=null,Wi=new Map,Vi=new Map,Hl=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sd(e,t){switch(e){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(t.pointerId)}}function Qi(e,t,n,l,c,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[c]},t!==null&&(t=_a(t),t!==null&&yd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function ch(e,t,n,l,c){switch(t){case"focusin":return kl=Qi(kl,e,t,n,l,c),!0;case"dragenter":return Yl=Qi(Yl,e,t,n,l,c),!0;case"mouseover":return Il=Qi(Il,e,t,n,l,c),!0;case"pointerover":var x=c.pointerId;return Wi.set(x,Qi(Wi.get(x)||null,e,t,n,l,c)),!0;case"gotpointercapture":return x=c.pointerId,Vi.set(x,Qi(Vi.get(x)||null,e,t,n,l,c)),!0}return!1}function wd(e){var t=pa(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,Wl(e.priority,function(){pd(n)});return}}else if(t===31){if(t=w(n),t!==null){e.blockedOn=t,Wl(e.priority,function(){pd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function m0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fu(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);$0=l,n.target.dispatchEvent(l),$0=null}else return t=_a(n),t!==null&&yd(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){m0(e)&&n.delete(t)}function uh(){es=!1,kl!==null&&m0(kl)&&(kl=null),Yl!==null&&m0(Yl)&&(Yl=null),Il!==null&&m0(Il)&&(Il=null),Wi.forEach(Cd),Vi.forEach(Cd)}function b0(e,t){e.blockedOn===t&&(e.blockedOn=null,es||(es=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,uh)))}var v0=null;function jd(e){v0!==e&&(v0=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){v0===e&&(v0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if($u(l||n)===null)continue;break}var x=_a(n);x!==null&&(e.splice(t,3),t-=3,Fc(x,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function ni(e){function t(H){return b0(H,e)}kl!==null&&b0(kl,e),Yl!==null&&b0(Yl,e),Il!==null&&b0(Il,e),Wi.forEach(t),Vi.forEach(t);for(var n=0;n<Hl.length;n++){var l=Hl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hl.length&&(n=Hl[0],n.blockedOn===null);)wd(n),n.blockedOn===null&&Hl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],x=n[l+1],p=c[It]||null;if(typeof x=="function")p||jd(n);else if(p){var A=null;if(x&&x.hasAttribute("formAction")){if(c=x,p=x[It]||null)A=p.formAction;else if($u(c)!==null)continue}else A=p.action;typeof A=="function"?n[l+1]=A:(n.splice(l,3),l-=3),jd(n)}}}function Md(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function ts(e){this._internalRoot=e}g0.prototype.render=ts.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=dn();vd(n,l,e,t,null,null)},g0.prototype.unmount=ts.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vd(e.current,2,null,e,null,null),Fr(),t[he]=null}};function g0(e){this._internalRoot=e}g0.prototype.unstable_scheduleHydration=function(e){if(e){var t=ya();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hl.length&&t!==0&&t<Hl[n].priority;n++);Hl.splice(n,0,e),n===0&&wd(e)}};var zd=i.version;if(zd!=="19.2.3")throw Error(r(527,zd,"19.2.3"));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var sh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y0.isDisabled&&y0.supportsFiber)try{el=y0.inject(sh),Lt=y0}catch{}}return Fi.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,l="",c=Lo,x=Bo,p=qo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=md(e,1,!1,null,null,n,l,null,c,x,p,Md),e[he]=t.current,Gu(e),new ts(t)},Fi.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var l=!1,c="",x=Lo,p=Bo,A=qo,H=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.formState!==void 0&&(H=n.formState)),t=md(e,1,!0,t,n??null,l,c,H,x,p,A,Md),t.context=bd(null),n=t.current,l=dn(),l=nt(l),c=zl(l),c.callback=null,Dl(n,c,l),n=l,t.current.lanes=n,gt(t,n),Qn(t),e[he]=t.current,Gu(e),new g0(t)},Fi.version="19.2.3",Fi}var Rd;function yh(){if(Rd)return as.exports;Rd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),as.exports=gh(),as.exports}var ph=yh();const va=Tn;(function(u,i){const a=Tn,r=u();for(;;)try{if(-parseInt(a(292))/1+parseInt(a(296))/2*(parseInt(a(294))/3)+parseInt(a(276))/4+parseInt(a(280))/5+-parseInt(a(298))/6+parseInt(a(278))/7+-parseInt(a(295))/8*(-parseInt(a(286))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(C0,912838);const _h=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Tn;if(a){const f=a[o(300)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),xs=_h(void 0,function(){const u=Tn,i={xfBlJ:"(((.+)+)+)+$"};return xs.toString()[u(285)](i.xfBlJ).toString()[u(288)](xs).search(i[u(282)])});xs();const w0=()=>new Date()[va(289)](),Ot=u=>u+"_"+Math.random().toString(36).slice(2,10),je=(u,i,a)=>Math[va(301)](i,Math.min(a,u)),Zl=u=>{const i=va;return u==null?u:JSON[i(281)](JSON[i(290)](u))};function C0(){const u=["ndy4mdC1v0ftrhDi","mJe2suXjCLfO","mM5HsMzzAa","ufLIs1O","odC4mtqYmfjkq2frtW","BwfsDwm","yxbWBhK","Bwf4","BgvHDMvZ","CMvKDwnL","nda2odCXnLPyvNzcuG","Aw5JBhvKzxm","mta4nJCWmdnnBfDXq3O","BwfW","ndCYodG2nvnTu1PMvG","CgfYC2u","EgzcBeO","BgvHzKDYB3vWCW","zMXVD2vYswrZ","C2vHCMnO","odmZmtn2Dg9tAeu","BgvUz3rO","y29UC3rYDwn0B3i","Dg9ju09tDhjPBMC","C3rYAw5NAwz5","zMLUza","mtu0ndKZn1PsqvHxuG","BgvHzKLKCW"];return C0=function(){return u},C0()}const er=u=>Math.floor(u*.7/5)*5;function ma(u,i){const a=va;return u.groups?u.groups[a(291)](r=>r[a(284)].includes(i))??null:null}function Sh(u,i){const a=ma(u,i);return a?a.flowerIds:[i]}function K0(u,i){const a=va;return u[a(283)]?u[a(283)][a(291)](r=>r[a(293)][a(277)](i))??null:null}function wh(u,i){const a=va,r={PYbKZ:function(h,d){return h===d},maRuc:function(h,d){return h/d}},o=(u.leafGroups??[])[a(291)](h=>h.id===i);if(!o||r[a(297)](o[a(293)][a(287)],0))return{x:0,y:0};const f=o[a(293)][a(279)](h=>(u[a(302)]??[]).find(d=>d.id===h)).filter(h=>!!h);if(f[a(287)]===0)return{x:0,y:0};const m=f.reduce((h,d)=>h+d.position.x,0),w=f[a(303)]((h,d)=>h+d.position.y,0);return{x:r[a(299)](m,f.length),y:r[a(299)](w,f.length)}}function Tn(u,i){u=u-276;const a=C0();let r=a[u];if(Tn.ELnMoK===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Tn.RydcTB=o,Tn.RFsAwE={},Tn.ELnMoK=!0}const f=a[0],m=u+f,w=Tn.RFsAwE[m];if(w)r=w;else{const h=function(d){this.FTRbTO=d,this.HQcHht=[1,0,0],this.SkcXOi=function(){return"newState"},this.YgzqnT="\\w+ *\\(\\) *{\\w+ *",this.zperAX=`['|"].+['|"];? *}`};h.prototype.FBtLgq=function(){const d=new RegExp(this.YgzqnT+this.zperAX),g=d.test(this.SkcXOi.toString())?--this.HQcHht[1]:--this.HQcHht[0];return this.HjKKRN(g)},h.prototype.HjKKRN=function(d){return~d?this.nFVdDZ(this.FTRbTO):d},h.prototype.nFVdDZ=function(d){for(let g=0,y=this.HQcHht.length;g<y;g++)this.HQcHht.push(Math.round(Math.random())),y=this.HQcHht.length;return d(this.HQcHht[0])},new h(Tn).FBtLgq(),r=Tn.RydcTB(r),Tn.RFsAwE[m]=r}return r}function Ch(u,i){const a=va,r=K0(u,i);return r?r[a(293)]:[i]}function Ut(u,i){u=u-233;const a=M0();let r=a[u];if(Ut.WHxDjt===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Ut.JFtQNK=o,Ut.INHzOb={},Ut.WHxDjt=!0}const f=a[0],m=u+f,w=Ut.INHzOb[m];if(w)r=w;else{const h=function(d){this.AFVOvi=d,this.RhfRGI=[1,0,0],this.mBfqHI=function(){return"newState"},this.imQvcV="\\w+ *\\(\\) *{\\w+ *",this.LpSkuJ=`['|"].+['|"];? *}`};h.prototype.YppNPB=function(){const d=new RegExp(this.imQvcV+this.LpSkuJ),g=d.test(this.mBfqHI.toString())?--this.RhfRGI[1]:--this.RhfRGI[0];return this.ltGpxd(g)},h.prototype.ltGpxd=function(d){return~d?this.OKZXST(this.AFVOvi):d},h.prototype.OKZXST=function(d){for(let g=0,y=this.RhfRGI.length;g<y;g++)this.RhfRGI.push(Math.round(Math.random())),y=this.RhfRGI.length;return d(this.RhfRGI[0])},new h(Ut).YppNPB(),r=Ut.JFtQNK(r),Ut.INHzOb[m]=r}return r}const j0=Ut;(function(u,i){const a=Ut,r=u();for(;;)try{if(-parseInt(a(241))/1*(-parseInt(a(253))/2)+-parseInt(a(233))/3+-parseInt(a(239))/4*(-parseInt(a(258))/5)+parseInt(a(250))/6+-parseInt(a(248))/7*(parseInt(a(261))/8)+-parseInt(a(244))/9*(-parseInt(a(247))/10)+-parseInt(a(262))/11*(-parseInt(a(252))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(M0,748099);const jh=(function(){const u=Ut,i={rtnkQ:function(r,o){return r*o},VaJzy:function(r,o){return r-o},cTMLc:u(260)};let a=!0;return function(r,o){const f=a?function(){const m=Ut,w={JtjGI:function(h,d){return h===d},mFWcO:function(h,d){return h*d},XsLBg:function(h,d){return h/d},sbFCz:function(h,d){return i[Ut(263)](h,d)},YldBd:function(h,d){return i.VaJzy(h,d)}};if(i[m(273)]==="qlsjk"){if(o){const h=o[m(243)](r,arguments);return o=null,h}}else{const h=w.JtjGI(_0x278f48,"gradual")?_0x3d36bd+_0x480a6d*_0x205288:_0x32dc79,d=w.mFWcO(h,_0x2948ce[m(245)])/2;_0x189e69+=w.XsLBg(w.sbFCz(d,w.YldBd(1,_0x568d9f)),_0x1f111c)}}:function(){};return a=!1,f}})(),os=jh(void 0,function(){const u=Ut;return os[u(276)]().search(u(269)).toString()[u(259)](os).search(u(269))});os();function M0(){const u=["y0vNyLi","EurLCwq","ze9eAe4","CuzsCfu","kcGOlISPkYKRksSK","y2TSywy","C2LU","C2L6zvn0zxbnBq","y1rntgm","A1zbCNG","BKTnALq","Dg9tDhjPBMC","uLzPC1e","Dw5PzM9YBq","ndqZmZuXmwz5r1rHtG","z3jHzhvHBa","C2L6zu1Vzgu","AvLsvwq","thnmqM8","D3Hir2K","mJa3nZjivgTHsLa","v3zZs2i","nJeWnJzwrhDbDLq","v2nIsK4","yxbWBhK","mtHkvLncrha","u1fsvdi","CM91BMq","nteYmdG0mhnpDe5wsq","nJG2svrVsvfY","qxnssxi","ndeYndi4su9bEfrd","BwLU","mJa0BfrzvLHg","nfHmBLfjyW","Cevpr1u","Bwf4","t2zfCge","rvfuENu","mte0nwrzDM9Zrq","y29UC3rYDwn0B3i","CwXZAMS","ota1mZzWAK52y3q","nJaYmJyXzwDmqLfp","CNrUA1e","y2zLAKO"];return M0=function(){return u},M0()}const ii=2/3,Od=.6,Mh=.25,zh=.75;function Kl(u,i,a){const r=Ut,o={EQTzu:function(G,k){return G/k},YDooG:function(G,k){return G*k},WcbJN:function(G,k){return G<=k},WvsKb:function(G,k){return G*k},RFqvy:function(G,k){return G===k},RvrNt:function(G,k){return G*k},dVOZt:function(G,k){return G+k},cfejJ:function(G,k){return G/k},gqLdW:function(G,k){return G*k},qFRpU:function(G,k){return G===k},lZlMU:function(G,k){return G*k},wxHGi:function(G,k){return G*k},RVisQ:function(G,k){return G/k},WaCas:function(G,k){return G*k},OfEpa:function(G,k){return G/k},ytyLg:function(G,k){return G+k},fVPVd:function(G,k){return G-k}},f=o.EQTzu(u,2),m=o.EQTzu(o.YDooG(i,Math.SQRT2),2);if(m<=0||o[r(242)](f,0))return{diameter:u,layerCount:1};const w=a?.[r(235)]??"uniform",h=a?.[r(272)]??0,d=o[r(240)](m,1-ii),g=o.YDooG(Math.PI,f)/2,y=a?.layerCount??Math.max(1,Math.round(o[r(257)](g,d))),N=o.RFqvy(w,r(234))?i+o.RvrNt(y-1,h):i,b=N*Math.SQRT2/2,z=o.dVOZt(m*Mh,b*zh);if(y===1){const G=Math[r(251)](o[r(264)](Math.PI,2),o.EQTzu(b*ii,f)),k=f*Math[r(271)](G),I=o.RvrNt(b*Od,Math.sin(G));return{diameter:Math[r(246)](Math.max(u,o.gqLdW(2,k+I))),layerCount:y}}let v=m*ii/f;for(let G=1;G<y;G++){const k=o[r(268)](w,"gradual")?i+o.lZlMU(G,h):i,I=o[r(238)](k,Math[r(245)])/2;v+=o[r(277)](o.WaCas(I,1-ii),f)}v=Math[r(251)](v,o[r(256)](Math.PI,2));const S=o.ytyLg(f,z*Od)*Math[r(271)](v),L=Math[r(255)](0,o.fVPVd(S,f));return{diameter:Math.round(u+o.WaCas(2,L)),layerCount:y}}function lr(u,i,a="uniform",r=0){const o=Ut,f={pEOGU:function(h,d){return h<=d},mbaLo:function(h,d){return h*d},Xtisw:function(h,d){return h/d},AsRIr:function(h,d){return h*d}};if(f[o(254)](i,0)||u<=0)return 0;const m=[];for(let h=0;h<i;h++){const d=a===o(234)?u+f.mbaLo(h,r):u;m.push(f.Xtisw(f[o(249)](d,Math.SQRT2),2))}let w=m[0];for(let h=1;h<i;h++)w+=f.Xtisw(m[h],3);return Math[o(246)](w*2)}function Dh(u,i,a=j0(278),r=0){const o=j0,f={aiPPv:function(y,N){return y<=N},dODhN:function(y,N){return y/N},xRZgg:"uniform",eghfK:function(y,N){return y*N},cuoUc:function(y,N){return y/N},kVArx:function(y,N){return y-N},vJZBz:function(y,N){return y+N}};if(i<=0||f.aiPPv(u,0))return 0;const m=f[o(267)](u,2),w=Math[o(245)]/2,h=i;if(a===f.xRZgg||r===0){const y=f.eghfK(w,h+2)/3;return Math[o(255)](1,Math[o(246)](f.dODhN(m,y)))}const d=f.dODhN(r*(h-1)*h,6),g=f.cuoUc(f[o(274)](m/w,d)*3,f.vJZBz(h,2));return Math[o(255)](1,Math[o(246)](g))}function Nh(u,i,a){const r=j0,o={qEWHx:function(w,h){return w<=h},iYRUd:function(w,h){return w+h},LsLBo:function(w,h,d,g){return w(h,d,g)},CGNcB:function(w,h){return w/h},qQYBg:function(w,h){return w<h},rDYOT:"VmFmk",tJONw:r(266)};if(u<=i)return 1;let f=1,m=80;for(let w=0;w<30;w++){const h=(f+m)/2,{diameter:d}=Kl(i,h,a);if(o.qQYBg(d,u))f=h;else if(o.rDYOT===o.tJONw){if(o.qEWHx(_0x1a3780,_0x395e75))return 1;let g=1,y=80;for(let N=0;N<30;N++){const b=o[r(236)](g,y)/2,{diameter:z}=o[r(237)](_0xbb3c4a,_0x286e00,b,_0x554c03);z<_0x1c057f?g=b:y=b}return _0x373c7d[r(255)](1,_0x68d3a6[r(246)](o.CGNcB(g+y,2)))}else m=h}return Math.max(1,Math[r(246)]((f+m)/2))}function Ah(u,i,a){const r=j0,o={cklaf:function(N,b){return N/b},psBQW:function(N,b){return N/b},cEgbR:function(N,b){return N===b},nKMjT:function(N,b){return N/b},vivVl:function(N,b){return N*b},AFRIU:function(N,b){return N/b},OEjAy:function(N,b){return N-b},FLpns:function(N,b){return N+b}},f=u/2,m=o[r(270)](i*Math.SQRT2,2);if(m<=0||f<=0)return 1;const w=a?.[r(235)]??"uniform",h=a?.sizeStepMm??0,d=o.psBQW(Math.PI,2);if(w==="uniform"||o[r(265)](h,0)){const N=m/3,b=o[r(275)](o.vivVl(Math.PI,f),2);return Math.max(1,Math[r(246)](b/N))}let g=o.AFRIU(m*ii,f);if(g>=d)return 1;let y=1;for(let N=1;N<100;N++){const b=i+o.vivVl(N,h),z=b*Math[r(245)]/2,v=o.vivVl(z,o.OEjAy(1,ii))/f;if(g+=v,g>d+v/2)break;y=o.FLpns(N,1)}return Math.max(1,y)}function z0(){const u=["AvLRt0K","Bwf4","zMXVB3i","mZC1mteZmNHxsvPXDa","twLsqMW","z1rxqNe","DvPOu1K","BvfXwwq","DwvcDfC","mJm0ntu2oeXjqxrjqq","t05fuwC","5yMJ44gK44g+44g/","BNPsELu","CM91BMq","yxbWBhK","ndu1neXlwvDrzG","nZKYnZiWv2rPzMTZ","C2P0suq","C09duhC","AKLyDu0","svnYAKW","vhPSqLm","rwnIyLq","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","vgjXBuO","C2vHCMnO","CLfxsNG","s0PMA2m","tsaWidakicaGiemGmc4WnsaWlJe1lcaWlJe1idaUmZySidaUmZaGmc40mGOGicaGqYaWlJuWidaUndySidaUnZiGmc4ZncWGmc44ocaWlJe4cIaGicbmideGmaOGicaGtcaWlJG4ic0WlJe4cIaGicbdidaUnZiGltaUmZqSidaUntaGltaUndySidaUmZaGltaUndikicaGiemGmc4XnsaTmc4ZnIWGmc4WnsaTmc4XnsWGmcaWcIaGicbA","Dg9gAxHLza","CMfKAxvZ","AeDuwg8","rg9bCw0","Dg9tDhjPBMC","vMTKs20","zNr1tMS","A1jcrLi","rfrPvwC","ChvZAa","mtaYmZa0mfzbwNDRta","ndq2mdi4Efnqt2L5","BwLU","rhbcCLi","C2nHBgu","BeXqvg4","sxzQBLO","AMTQrKe","mZyYrKv4s3zW","B3jKzxi","sKvJqxO","wgDxBhK","y29Z","ndu5ntm1mNzltgfhCG","C2LU","C2rcA3K","tgfStuO","wgTkBNO","AM9PBG","C29YDa","q0LdEeu","ruHqz04","s3ndDLa","EvjLzxi","ywjZ","AwvxAvi","zNzttu8","vgPhBe4","sgjfEwi","uxzzvMm","zMLUza","AuvNrwC","AKTzDMG","BgvUz3rO","ze5kCwy","D0zqBwW"];return z0=function(){return u},z0()}const Xn=En;(function(u,i){const a=En,r=u();for(;;)try{if(-parseInt(a(345))/1+-parseInt(a(301))/2*(-parseInt(a(344))/3)+-parseInt(a(294))/4+parseInt(a(293))/5+parseInt(a(306))/6+parseInt(a(332))/7+-parseInt(a(338))/8===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(z0,583711);const Th=(function(){let u=!0;return function(i,a){const r=u?function(){const o=En;if(a){const f=a[o(343)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),fs=Th(void 0,function(){const u=En,i={sOCPw:"(((.+)+)+)+$"};return fs.toString().search("(((.+)+)+)+$")[u(362)]().constructor(fs)[u(354)](i[u(347)])});fs();const rr=.28,kd={:Xn(352),:Xn(357)};function ds(u){const i=Xn,a={jKYvh:""};return u===i(340)?kd.:kd[a[i(325)]]}function ba(u){return{DpBrR:function(r,o){return r*o}}[Xn(296)](u,Math.PI)/180}const an=2.7;function kt(u){const i={oPslA:function(f,m){return f/m},TVPer:function(f,m){return f/m}},a=i.oPslA(u*Math.SQRT2,2),r=a*an,o=i.TVPer(r,2);return{length:r,width:o}}function Eh(u){return u*an/2}function tr(u,i,a){const r=Xn,o={iEgEg:function(d,g){return d-g},iYkOI:function(d,g){return d+g}},{length:f}=kt(a),m=f*i,w=Math[r(330)](0,o[r(324)](u,m*rr));return o[r(329)](w,m)*2/an}function Lh(u,i,a){const r=Xn,o={kRBFR:function(h,d){return h*d},TbqmJ:function(h,d){return h*d}},{length:f}=kt(a),m=o[r(365)](f,i),w=u*an/2;return Math[r(330)](2,w-o[r(353)](m,1-rr))}function Fn(u,i,a){const r=Xn,o={ISrjL:function(g,y){return g-y},mQqYd:function(g,y){return g*y},hGTXo:function(g,y){return g*y},KsCvP:function(g,y){return g>y},PpYYf:function(g,y){return g<=y},kyVvB:function(g,y){return g/y},EHPgN:function(g,y){return g%y},tvJAm:function(g,y){return g+y},fiaSI:function(g,y){return g%y},lXFVi:function(g,y){return g/y},xLpUH:function(g,y){return g/y},LalMJ:r(299),EiPGC:function(g,y){return g-y},ygwqr:function(g,y){return g>y},dNJqf:function(g,y){return g/y}};if(!u||o.PpYYf(u,0)||!a||a<=0)return i??0;const f=360/u,m=o.kyVvB(360,a),w=[];for(let g=0;g<u;g++)w[r(367)](o[r(314)](o.tvJAm(o.fiaSI(i+g*f,360),360),360));let h=o.tvJAm(i,o.lXFVi(f,2)),d=-1;for(let g=0;g<u;g++){const y=i+g*f+o.xLpUH(f,2);let N=1/0;for(let b=0;b<a;b++)if(r(299)!==o[r(309)]){if(_0x2e41a8[r(326)]===0)return;const z=_0x1cc8ac[o.ISrjL(_0xda31dc.length,1)],{length:v}=_0x2fc60c(_0x2ff9c7),S=o[r(336)](v,z[r(297)]??1),L=_0x51f823.floor(o[r(360)](S*_0x5bc283,10))/10;o[r(315)](z[r(359)],L)&&(z[r(359)]=L)}else{const z=(o.fiaSI(y+o[r(360)](b,m),360)+360)%360;for(const v of w){let S=Math[r(317)](o[r(349)](z,v));S>180&&(S=o.EiPGC(360,S)),S<N&&(N=S)}}o.ygwqr(N,d)&&(d=N,h=y)}return o[r(327)](Math[r(342)](h*10),10)}function En(u,i){u=u-293;const a=z0();let r=a[u];if(En.qUyUSZ===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};En.XLznlA=o,En.mwofWT={},En.qUyUSZ=!0}const f=a[0],m=u+f,w=En.mwofWT[m];if(w)r=w;else{const h=function(d){this.UETjJA=d,this.bHXpRC=[1,0,0],this.IPIciI=function(){return"newState"},this.uhTqpK="\\w+ *\\(\\) *{\\w+ *",this.wvVpGe=`['|"].+['|"];? *}`};h.prototype.rtShhf=function(){const d=new RegExp(this.uhTqpK+this.wvVpGe),g=d.test(this.IPIciI.toString())?--this.bHXpRC[1]:--this.bHXpRC[0];return this.rjeszs(g)},h.prototype.rjeszs=function(d){return~d?this.YXBJkO(this.UETjJA):d},h.prototype.YXBJkO=function(d){for(let g=0,y=this.bHXpRC.length;g<y;g++)this.bHXpRC.push(Math.round(Math.random())),y=this.bHXpRC.length;return d(this.bHXpRC[0])},new h(En).rtShhf(),r=En.XLznlA(r),En.mwofWT[m]=r}return r}function X0(u,i,a){const r=Xn,o={rQWJx:function(b,z){return b*z},jIXuM:function(b,z){return b*z},HbEyb:function(b,z){return b===z},ftuNk:function(b,z){return b-z},ueBtW:function(b,z){return b+z},xSeqg:function(b,z){return b/z},WuEiD:function(b,z){return b/z},yReer:function(b,z){return b===z},YneLi:"PekDS",hzVTZ:function(b,z){return b*z},Jniqb:function(b,z,v){return b(z,v)}};if(o[r(321)](u[r(326)],0))return;const{length:f}=kt(i),m=u[0],w=m[r(297)]??1,h=f*w,d=Math[r(330)](0,o[r(364)](m[r(359)],h*rr)),g=o[r(337)](d,h);if(g<=0)return;const y=o.xSeqg(a*an,2),N=o.WuEiD(y,g);for(const b of u)if(o[r(316)]("PekDS",o.YneLi))b.radius=Math[r(330)](2,Math[r(342)](b[r(359)]*N*10)/10),b[r(297)]=o.xSeqg(Math[r(342)](o.hzVTZ(b[r(297)]??1,N)*100),100);else{const z=iOlsKU[r(355)](_0xaa75d7,_0x10d302.SQRT2)/2,v=iOlsKU[r(348)](z,_0x1d65eb),S=v/2;return{length:v,width:S}}o.Jniqb(hs,u,i)}function hs(u,i){const a=Xn,r={wkZbx:function(h,d){return h===d},nrtYl:function(h,d){return h(d)},lLPTn:function(h,d){return h*d}};if(r.wkZbx(u.length,0))return;const o=u[u.length-1],{length:f}=r.nrtYl(kt,i),m=r.lLPTn(f,o.scale??1),w=Math[a(331)](r[a(298)](m,rr)*10)/10;o[a(359)]>w&&(o[a(359)]=w)}function Bh(u,i,a,r){const o=Xn,f={QvYVc:function(N,b){return N+b},KJfkc:function(N,b){return N*b},VkdKm:function(N,b){return N-b},CICxE:function(N,b){return N>b},sjtID:function(N,b){return N<b},BZYJd:function(N,b){return N%b},ieWiR:function(N,b){return N>b},OyMgT:function(N,b){return N/b},DoAqm:function(N,b){return N*b},XgWly:function(N,b){return N-b},ONEQg:function(N,b){return N===b},uZhSY:"",JEcAz:function(N,b){return N===b},vgRom:o(310),zjsnC:function(N,b){return N/b},GFTnc:function(N,b){return N-b},MiRBl:function(N,b){return N/b},bAnuY:function(N,b,z,v){return N(b,z,v)},TzlBS:function(N,b){return N!==b},DTiUg:function(N,b){return N===b},iKhPS:o(328),nFyVH:o(320)};if(u[o(326)]===0)return;const m=[...u][o(312)]((N,b)=>b[o(302)]-N.order),{length:w}=kt(i),h=m.length,d=m[0][o(297)]??1,g=w*d;m[0][o(359)]=f.OyMgT(Math.floor(f[o(361)](g*rr,10)),10);for(let N=1;N<h;N++){const b=m[f[o(304)](N,1)],z=w*(b.scale??1);let v;if(f[o(339)](a,f[o(335)]))if(f[o(303)](o(319),f.vgRom)){const S=Dtlket[o(322)]((_0x3d6871+Dtlket[o(356)](_0x408df1,_0x3fb8ea))%360,360)%360;for(const L of _0x503c06){let Y=_0x547c45.abs(Dtlket[o(363)](S,L));Dtlket[o(313)](Y,180)&&(Y=360-Y),Dtlket[o(346)](Y,_0x458dfc)&&(_0x127889=Y)}}else{const L=f.zjsnC(f.DoAqm(70,Math.PI),180),Y=h>1?f.OyMgT(N,f.GFTnc(h,1))*L:0;v=z*f.MiRBl(30,100)*Math[o(305)](Y)}else v=f[o(333)](z,3);m[N].radius=f.MiRBl(Math.round((b[o(359)]+v)*10),10)}const y=[...u][o(312)]((N,b)=>N[o(302)]-b.order);f.bAnuY(X0,y,i,r);for(const N of y)if(f[o(350)]("qQClE",o(334))){const b=u[o(323)](z=>z.id===N.id);b&&(f[o(366)](f.iKhPS,f.nFyVH)?_0x490249[o(367)](Dtlket[o(322)](Dtlket.BZYJd(_0x239d90+Dtlket.KJfkc(_0x39b6ab,_0x4cedd3),360),360)%360):(b[o(359)]=N[o(359)],b[o(297)]=N[o(297)]))}else{let b=_0x4b9645[o(317)](_0x5b987c-_0x3270ef);Dtlket[o(318)](b,180)&&(b=Dtlket.VkdKm(360,b)),Dtlket.sjtID(b,_0x31a74e)&&(_0x7c14f3=b)}}function ri(u){const i=Xn,a={sdBky:function(h,d){return h/d},PCgCZ:function(h,d){return h/d}},r=360/u,o=Math.sin(ba(r/2))*2,f=.96,m=1.2,w=a[i(308)](o*m,f);return a.PCgCZ(Math[i(342)](Math[i(330)](.3,Math[i(295)](3,w))*100),100)}(function(u,i){const a=tn,r=u();for(;;)try{if(-parseInt(a(277))/1*(-parseInt(a(274))/2)+parseInt(a(311))/3+parseInt(a(313))/4*(-parseInt(a(280))/5)+-parseInt(a(312))/6+-parseInt(a(285))/7*(-parseInt(a(340))/8)+-parseInt(a(341))/9+-parseInt(a(295))/10*(-parseInt(a(321))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(D0,588856);const qh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=tn;if(a){const f=a[o(301)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),ms=qh(void 0,function(){const u=tn,i={wxHJx:u(342)};return ms[u(352)]().search(i.wxHJx)[u(352)]().constructor(ms)[u(273)]("(((.+)+)+)+$")});function D0(){const u=["vw1zBhy","mta2ne1YqMHVta","Bgf5zxjZ","CKfhDee","mtuWAgjivgri","ChjVAG","Be5OAei","uKT6tei","iZLcntLcnG","mJCXmZu2ngL0tfrWtq","EfjhDMG","vufTwLG","vfnYvNy","sw5Uzxi","B2zMC2v0qw5NBgu","Bgf5","C2nHBgu","rMXVD2vYide","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","nJeWotblyMfxuei","s0riq20","zMX3","5y2k44gp44gz","EeTOCge","tKPws1e","yxbWBhK","i0yWoda4ma","CMfKAxvZ","5lI444gK44g+44g/","uNvXsNi","D1LtBfa","i0m4qtjena","sePkveG","BhLUrwe","y29Sx2HVDhbPBMS","mtq3odC5m2P3vMnYuW","mty4mJuYmgverxfmAW","nZG2mZz5DgH4svi","y29Sx2DVBgq","y29Sx3jLza","zePdExq","vhz5sfi","wLDwwxq","i0uZndG1ma","B3jKzxi","mJuZzNLbCgHs","vKznELy","ExrSrvy","EgTNyM4","y29Sx3bPBMS","Cg9ZAxrPB24","BMfTzq","q2vUDgvY","CgPQwKW","5yMJ44gK44g+44g/","y29Sx2nYzwfT","s0DpDNG","iZmZmZmZmW","v3fWvhu","A0fowK0","r3rstMG","DujKqw8","AejQu0i","y29Sx3nPBhzLCG","oePzzfjeDq","ndGZotu4oejMwLnNAq","kcGOlISPkYKRksSK","zMLUza","CLLQy0O","y29Sx2XPz2H0yMX1zq","C29YDa","y29Sx2rHCMTNCMvLBG","uw9nwgq","BwfW","Cgv0ywXpDMvYCMLKzxm","y29Sx3DOAxrL","Dg9tDhjPBMC","zgTTywm","i0yWoeeZqG","y29Sx29Yyw5Nzq","yw9Pvvm","iZjgqKy0qq","Cgv0ywXdB3vUDa","C2vHCMnO","mtGZngz3wNjstG","vLbmzKO"];return D0=function(){return u},D0()}ms();function tn(u,i){u=u-270;const a=D0();let r=a[u];if(tn.SOrzWa===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};tn.gvTHfR=o,tn.yDaDeC={},tn.SOrzWa=!0}const f=a[0],m=u+f,w=tn.yDaDeC[m];if(w)r=w;else{const h=function(d){this.LlwpUX=d,this.TTRuOy=[1,0,0],this.hVQTXM=function(){return"newState"},this.OwAukx="\\w+ *\\(\\) *{\\w+ *",this.TUjuMj=`['|"].+['|"];? *}`};h.prototype.vwEyAy=function(){const d=new RegExp(this.OwAukx+this.TUjuMj),g=d.test(this.hVQTXM.toString())?--this.TTRuOy[1]:--this.TTRuOy[0];return this.KqUUkc(g)},h.prototype.KqUUkc=function(d){return~d?this.gYkIfO(this.LlwpUX):d},h.prototype.gYkIfO=function(d){for(let g=0,y=this.TTRuOy.length;g<y;g++)this.TTRuOy.push(Math.round(Math.random())),y=this.TTRuOy.length;return d(this.TTRuOy[0])},new h(tn).vwEyAy(),r=tn.gvTHfR(r),tn.yDaDeC[m]=r}return r}function Kd(){const u=tn,i={oTUJQ:u(310),TvyHR:u(355),HREYz:"col_yellow",KDHCm:"col_lightyellow",RKzLB:"col_green",rYjcJ:u(271),rAGtA:u(345),WqpTu:"#7EC8E3",ZWVYt:"col_blue",lynEa:"col_navy",BAXCZ:"#2C3E6B",kANZM:"col_purple",QYbag:"col_lavender",HJJTH:u(314),wLgyf:"#D4A843",dIOkI:"#C0C0C0",SdVhJ:u(331),hdSze:"#8B5E3C",cNmyK:"col_black",NJVKQ:"col_coral",rxDlI:u(302)};return[{id:u(351),name:"",hex:"#F5F5F5"},{id:u(315),name:"",hex:u(319)},{id:u(325),name:"",hex:"#F08CB6"},{id:i.oTUJQ,name:"",hex:"#E0457B"},{id:i[u(317)],name:"",hex:u(354)},{id:i.HREYz,name:"",hex:"#F2D04B"},{id:i[u(296)],name:"",hex:"#FDF5C9"},{id:i[u(283)],name:"",hex:i[u(344)]},{id:u(347),name:"",hex:"#1A7A3A"},{id:i[u(279)],name:"",hex:i[u(334)]},{id:i[u(318)],name:"",hex:"#3B7DD8"},{id:i[u(309)],name:"",hex:i.BAXCZ},{id:i[u(335)],name:"",hex:u(284)},{id:i.QYbag,name:"",hex:u(307)},{id:i[u(308)],name:"",hex:i.wLgyf},{id:u(339),name:"",hex:i.dIOkI},{id:i.SdVhJ,name:"",hex:"#F5E6CC"},{id:"col_brown",name:"",hex:i.hdSze},{id:i.cNmyK,name:"",hex:u(333)},{id:i[u(300)],name:"",hex:i.rxDlI}]}function Gh({title:u,fabricSquareSize:i,baseDiameter:a}={}){const r=tn,o={ipkqw:function(w){return w()},dJCyt:function(w,h){return w(h)},xkgbn:"prj",TSrVv:function(w,h){return w??h},aoiUS:function(w,h){return w??h}},f=o.ipkqw(w0),m=Kd();return ha({id:o[r(316)](Ot,o[r(324)]),title:o[r(288)](u,""),unit:"mm",fabricSquareSize:o.TSrVv(i,20),baseDiameter:o[r(270)](a,30),notes:"",createdAt:f,updatedAt:f,palette:m,flowers:[]})}function Rh(u,i){const a=tn,r={KGOvx:function(w,h){return w(h)},VFMzV:function(w,h){return w+h}},o=Zl(u);o.id=r[a(332)](Ot,"flw"),o[a(327)]=u[a(327)]+" Copy";const f=i?.x??12,m=i?.y??12;return o[a(326)]={x:r[a(322)](u.position?.x??0,f),y:r.VFMzV(u[a(326)]?.y??0,m)},o.layers=(o[a(278)]||[])[a(349)](w=>({...w,id:Ot(a(291)),petalOverrides:w[a(350)]?w.petalOverrides.map(h=>({...h})):void 0})),o}(function(u,i){const a=Xt,r=u();for(;;)try{if(-parseInt(a(324))/1+-parseInt(a(318))/2+parseInt(a(334))/3*(-parseInt(a(374))/4)+parseInt(a(305))/5*(-parseInt(a(342))/6)+parseInt(a(394))/7*(parseInt(a(299))/8)+parseInt(a(397))/9*(parseInt(a(409))/10)+-parseInt(a(371))/11*(-parseInt(a(307))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(N0,181713);const Oh=(function(){const u=Xt,i={etaVO:function(r,o){return r==o},kxOtk:u(340)};let a=!0;return function(r,o){const f=u,m={ZChot:function(h,d){return h!=d},ArLTE:function(h,d){return i.etaVO(h,d)},neyrf:function(h,d){return h-d},gGpos:function(h,d,g,y){return h(d,g,y)},zinZt:f(327),IqJod:i.kxOtk},w=a?function(){const h=f,d={erCHC:function(g,y){return m[Xt(373)](g,y)},OVwmg:function(g,y){return m.ArLTE(g,y)},cjQpZ:function(g,y){return m.neyrf(g,y)},XXeMp:function(g,y,N,b){return m[Xt(343)](g,y,N,b)}};if(m[h(321)]===m[h(377)]){if(d.erCHC(_0x312528[h(418)].innerScale,null)&&d[h(405)](_0x4c3d14.doublePetal.innerSizeReduction,null)){const g=_0xb49a3c.fabricSquareSize??_0x195006.fabricSquareSize??20;_0x4f75eb.doublePetal.innerSizeReduction=_0x5b44e7[h(370)](g*d.cjQpZ(1,_0x436c45.doublePetal[h(326)]))}delete _0x4157aa.doublePetal.innerScale,_0x5df3f7.isFinite(_0x19c226.doublePetal.innerSizeReduction)||(_0x3afac6[h(418)][h(348)]=2),_0x28016c.doublePetal.innerSizeReduction=d.XXeMp(_0x1e46f6,_0x20fd46[h(418)][h(348)],1,30),delete _0x308ade[h(418)][h(381)],d.erCHC(_0x5d5434[h(418)].innerColorId,null)&&typeof _0x17e7e5[h(418)][h(402)]!==h(359)&&delete _0x2607d3[h(418)].innerColorId}else if(o){const g=o.apply(r,arguments);return o=null,g}}:function(){};return a=!1,w}})(),bs=Oh(void 0,function(){const u=Xt,i={BqSxm:"(((.+)+)+)+$"};return bs.toString()[u(328)](i.BqSxm)[u(304)]().constructor(bs).search(i.BqSxm)});function N0(){const u=["C2nHBgu","wKnOB3q","mJm5nNrlr2j6uG","zMXVD2vYrgLHBwv0zxi","A3v0AwG","sxfkB2q","D2LKDgHty2fSzq","Bg9JA2vK","qufSswC","Aw5UzxjqzxrHBfr5Cgu","yM9VBgvHBG","DwvAC3G","Cgv0ywXpDMvYCMLKzxm","CxfPueq","44kW44oR44o844ox","DunyD0O","vuPRDuS","zMXVD2vYswrZ","B2zMC2v0qw5NBgu","B2jQzwn0","v2nVugC","DeLIALm","mJq3mxrovgX0BW","Cgv0ywXdB3vUDa","z3jVDxbZ","mta3mdfHDvLrvMS","CgfSzxr0zq","6jgj44kW44oR44o844ox","tLbNB2i","x2rVDwjSzvbLDgfSq2fJAgu","Aw5UzxjdB2XVCKLK","DhLWzq","ChvZAa","t1z3BwC","CgvWq291BNq","wgfOq3q","vw5gBvC","mtu5mfHJywHAsa","zMzOwwu","BgvHzKDYB3vWCW","5yMJ44gK44g+44g/","5y2k44gp44gz","CMfKAxvZ","qK56sfe","CMLNAhq","y2vUDgvY","zg91yMXLugv0ywW","yMfJAW","BNv5q2C","y29Sx3DOAxrL","BwfW","z3jW","s2DjEMi","zunlDLu","nZyYngPftvjYyG","DMfYAwfUDa","uwrmEuy","ww1PCK8","AxnbCNjHEq","Dg9tDhjPBMC","nvfUCNHjAq","BgLUA2vKrMXVD2vYr3jVDxbjza","oda0tvDOy0jP","DMLZAwjSzq","y29Sx2DYzwvU","DMvYC2LVBG","zMfICMLJu3f1yxjLu2L6zq","BgvUz3rO","v0rus1C","r0LxyNi","DxbKyxrLzef0","Cg9ZAxrPB24","AxngAw5PDgu","nJG3mZuYzKHvEuHV","y29SB3i","u3vJtK0","EMLUwNq","ufffBuS","EfnAvfC","oty4mJHsyvLYrK0","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","Aw5Uzxjty2fSzq","DxnYwva","C2vHCMnO","44or44o844oR","vuzgthy","zMLSDgvY","DgL3DM4","C3rLBMnPBhm","mty2mKjLrKLdyG","sMfcD2u","BMfTzq","BgvHzKLKCW","zgPYswK","5lI444gK44g+44g/","Chj6Awu","yMfZzurPyw1LDgvY","mta5nZqZnLjXyK1jvG","z0DWB3m","C2L6zq","y29SB3jjza","y29SB3iY","vMj5vu0","Aw5UzxjtAxPLuMvKDwn0Aw9U","tgvHzG","CgXHy2vTzw50tw9Kzq","BwfYDq","EvPHveK","zMXcBK4","BgvMDa","A2fvDuy","BgvHDMvZ","EMfJB1G","zMXVD2vYCW","C3rYAw5N","Aw5JBhvKzxm","CM90yxrPB24","AgfZ","DgL0Bgu","A0PRuMC","vuvQwLq","BM90zxm","y3jLyxrLzef0","Bgf5","Cgv0ywXuExbL","CM91BMq","mtaWmZK3ruDNsMXo"];return N0=function(){return u},N0()}bs();function Xt(u,i){u=u-294;const a=N0();let r=a[u];if(Xt.ZtWlFL===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Xt.fScPhg=o,Xt.HymeSP={},Xt.ZtWlFL=!0}const f=a[0],m=u+f,w=Xt.HymeSP[m];if(w)r=w;else{const h=function(d){this.sprttF=d,this.pAXlov=[1,0,0],this.TZsggn=function(){return"newState"},this.RzeLGB="\\w+ *\\(\\) *{\\w+ *",this.pgnfcH=`['|"].+['|"];? *}`};h.prototype.WIFhzA=function(){const d=new RegExp(this.RzeLGB+this.pgnfcH),g=d.test(this.TZsggn.toString())?--this.pAXlov[1]:--this.pAXlov[0];return this.zThQok(g)},h.prototype.zThQok=function(d){return~d?this.UXMlYM(this.sprttF):d},h.prototype.UXMlYM=function(d){for(let g=0,y=this.pAXlov.length;g<y;g++)this.pAXlov.push(Math.round(Math.random())),y=this.pAXlov.length;return d(this.pAXlov[0])},new h(Xt).WIFhzA(),r=Xt.fScPhg(r),Xt.HymeSP[m]=r}return r}function us(u){const i=Xt,a={kqgiX:i(351),nuyCg:i(339),smtIa:"ken",JAcXU:function(r,o){return r===o}};return u===a.kqgiX?a[i(420)]:u===a.smtIa?i(412):u===""||a.JAcXU(u,i(412))?u:i(339)}function ha(u){const i=Xt,a={PIVvJ:"adult",sbLLc:"col_white",tiwvn:function(f,m){return f!==m},SkhIJ:function(f,m,w,h){return f(m,w,h)},SucNM:i(359),djrIi:function(f,m){return f(m)},WzSWr:function(f,m){return f!=m},kaUuF:function(f,m){return f(m)},nMHJu:function(f,m){return f(m)},zVidR:"Flower",GKJYc:i(357),KgIzb:function(f,m){return f!=m},ueZsx:function(f,m){return f==m},yZaTI:function(f,m){return f-m},XahCt:function(f,m){return f!==m},eCKvU:"NPgob",JaBwe:function(f,m){return f(m)},iNIpb:function(f,m){return f!=m},fOCHD:function(f,m,w,h){return f(m,w,h)},JbJxv:function(f,m){return f===m},WcoPg:"",UyLwX:i(329),BNzHQ:"",mSatD:function(f,m,w,h){return f(m,w,h)},GIWbr:i(413),UFFLv:i(313),PQEmK:"proj",EeuUx:i(325),PyxSF:function(f,m){return f<=m},oBeVL:"vxcUQ",uDWfi:"TZoNv",uCXwJ:i(296),Zbiwn:"unuRF",flBnN:i(349),lpSqb:function(f,m){return f!==m},qqiPD:i(382),lprGv:function(f,m){return f!==m},AAlIg:function(f,m){return f===m},fotlj:"Fbjbq",UEjZT:"PbFsu",QdLyF:function(f,m){return f!=m},PsAyp:function(f,m){return f!==m},YmirO:i(388),kutih:""},r=a.nMHJu(Zl,u||{});Array.isArray(r.flowers)||(r.flowers=[]);for(const f of r[i(358)]){f.id||(f.id=Ot("flw")),(typeof f.name!==a[i(320)]||!f[i(336)])&&(f[i(336)]=a.zVidR),(!f[i(316)]||!Number.isFinite(f[i(316)].x)||!Number[i(317)](f.position.y))&&(f.position={x:260,y:260}),Array.isArray(f.layers)||(f.layers=[]);for(const m of f.layers){if(m.id||(m.id=a.djrIi(Ot,i(368))),(typeof m[i(345)]!==a.SucNM||!m.colorId)&&(m.colorId=r.palette?.[0]?.id??i(294)),m[i(369)]=a.kaUuF(us,m[i(369)]),m.petalCount=je(a.djrIi(Number,m[i(395)]||0),5,24),Number[i(317)](m.scale)||(m[i(372)]=1),Number.isFinite(m.widthScale)||(m[i(378)]=1),Number[i(317)](m[i(414)])||(m.radius=28),Number[i(317)](m[i(390)])||(m.offsetAngle=0),delete m[i(401)],m[i(418)])if(a[i(332)](typeof m[i(418)],"object")||m.doublePetal===null)if(a.tiwvn("zacoX",a.GKJYc)){const w=[a.PIVvJ,"child"],h=[i(416),i(354),i(419)];_0x13b3b9.stencils=_0x3004f6[i(333)].filter(d=>d&&typeof d.id===i(359)&&w[i(360)](d[i(300)])&&h[i(360)](d.pose)&&d.position&&_0x4dcb99.isFinite(d.position.x)&&_0xad5025[i(317)](d.position.y))}else delete m.doublePetal;else{if(a.KgIzb(m.doublePetal.innerScale,null)&&a[i(383)](m.doublePetal.innerSizeReduction,null))if(i(408)==="VqxmU")_0x1c1db6[i(417)].color=_0x5a291d.palette?.[0]?.id??a.sbLLc;else{const w=f.fabricSquareSize??r[i(311)]??20;m[i(418)].innerSizeReduction=Math.round(w*a[i(352)](1,m[i(418)][i(326)]))}delete m[i(418)][i(326)],Number.isFinite(m[i(418)].innerSizeReduction)||(m[i(418)][i(348)]=2),m.doublePetal[i(348)]=a.SkhIJ(je,m.doublePetal[i(348)],1,30),delete m[i(418)].innerPetalType,m[i(418)][i(402)]!=null&&typeof m[i(418)].innerColorId!="string"&&delete m[i(418)].innerColorId}if(Array[i(303)](m[i(384)]))if(a[i(407)](a[i(298)],i(400)))delete _0x19ea47.innerSizeReduction;else for(const w of m.petalOverrides)w&&w.petalType!=null&&(w[i(369)]=a[i(335)](us,w[i(369)])),w&&delete w.innerPetalType,w&&a.iNIpb(w.innerColorId,null)&&typeof w.innerColorId!==i(359)&&delete w[i(402)],w&&a[i(297)](w.innerSizeReduction,null)&&(a[i(332)]("ZZPlB",i(347))?Number[i(317)](w[i(348)])?w[i(348)]=a.fOCHD(je,w[i(348)],1,30):delete w.innerSizeReduction:a[i(332)](typeof _0x1568d8.doublePetal,"object")||_0x431ee9[i(418)]===null?delete _0x1a9059[i(418)]:(_0x2ad31f.isFinite(_0xad41cd[i(418)].innerSizeReduction)||(_0x221342[i(418)][i(348)]=2),_0x56a248[i(418)].innerSizeReduction=a.SkhIJ(_0x987d35,_0x18a03d[i(418)][i(348)],1,30),_0x2df210[i(418)][i(402)]!=null&&a.tiwvn(typeof _0x487289.doublePetal[i(402)],a[i(320)])&&delete _0x466f14.doublePetal.innerColorId))}(!Number.isFinite(f.flowerDiameter)||f.flowerDiameter<=0)&&(f[i(375)]=60),f.center&&(a.JbJxv(f[i(417)][i(403)],a[i(392)])&&(f.center.type=""),[a.UyLwX,"",a[i(415)]][i(360)](f[i(417)][i(403)])||(f.center[i(403)]=a.UyLwX),Number[i(317)](f.center.size)||(f[i(417)][i(344)]=6),f[i(417)].size=a.mSatD(je,f.center[i(344)],1,30),(a[i(407)](typeof f[i(417)][i(319)],"string")||!f.center.color)&&(f[i(417)][i(319)]=r[i(398)]?.[0]?.id??i(294)),a.JbJxv(f[i(417)].type,a.BNzHQ)&&(Number[i(317)](f[i(417)][i(406)])||(f[i(417)][i(406)]=12),f.center[i(406)]=je(f.center.pepCount,4,30)),a[i(332)](f[i(417)].type,"")&&delete f.center[i(346)]),a.XahCt(f.placementMode,a.GIWbr)&&f[i(350)]!==""&&(f.placementMode=a[i(314)]),f.baseDiameter!==void 0&&(!Number[i(317)](f.baseDiameter)||f.baseDiameter<=0)&&delete f[i(341)]}Array.isArray(r[i(398)])||(r.palette=[]);const o=new Set(r.palette[i(295)](f=>f.id));for(const f of Kd())a.XahCt(a[i(330)],i(393))?o[i(362)](f.id)||r[i(398)][i(404)](f):delete _0x461a9e.center[i(346)];r.createdAt||(r[i(367)]=w0()),r.updatedAt||(r[i(315)]=r[i(367)]),r.id||(r.id=Ot(a[i(322)])),r[i(363)]||(r[i(363)]=a.EeuUx),r.unit="mm",Number[i(317)](r.fabricSquareSize)||(r[i(311)]=20),(!Number.isFinite(r[i(341)])||a.PyxSF(r[i(341)],0))&&(r.baseDiameter=30),typeof r[i(366)]!==a[i(320)]&&(r[i(366)]=""),Array[i(303)](r.groups)||(r.groups=[]);{const f=new Set(r.flowers[i(295)](m=>m.id));for(const m of r[i(396)])if(a.oBeVL===a.uDWfi){const w=new _0x4f5968(_0x248898[i(356)][i(295)](h=>h.id));for(const h of _0x574d83[i(411)])h.id||(h.id=a[i(338)](_0xef5888,"lg")),(a[i(332)](typeof h.name,i(359))||!h.name)&&(h[i(336)]=i(399)),_0x24d83f[i(303)](h.leafIds)||(h.leafIds=[]),h.leafIds=h[i(337)][i(331)](d=>w[i(362)](d)),_0x36dd06[i(317)](h[i(361)])||(h[i(361)]=0),a.WzSWr(h[i(306)],null)&&((_0xc82ac2.groups??[]).some(g=>g.id===h[i(306)])||delete h[i(306)]);_0x20ae27.leafGroups=_0xe618ff[i(411)].filter(h=>h.leafIds&&h.leafIds[i(312)]>0)}else Array.isArray(m[i(389)])||(m.flowerIds=[]),m.flowerIds=m.flowerIds[i(331)](w=>f.has(w)),m.id||(m.id=Ot(a[i(387)])),(typeof m.name!==a[i(320)]||!m.name)&&(m[i(336)]=i(386));r.groups=r.groups.filter(m=>m[i(389)]&&m[i(389)][i(312)]>0)}Array.isArray(r[i(356)])||(r.leaves=[]);for(const f of r[i(356)])a.Zbiwn!=="unuRF"?_0x28db29.colorId=_0x5b0298[i(398)]?.[0]?.id??i(309):(f.id||(f.id=Ot("leaf")),(a[i(332)](typeof f[i(336)],a[i(320)])||!f.name)&&(f.name=a[i(353)]),(!f.position||!Number[i(317)](f[i(316)].x)||!Number[i(317)](f.position.y))&&(f[i(316)]={x:675,y:675}),Number.isFinite(f[i(361)])||(f.rotation=0),f[i(369)]=a.nMHJu(us,f[i(369)]),(a.tiwvn(typeof f[i(345)],a[i(320)])||!f[i(345)])&&(f.colorId=r.palette?.[0]?.id??i(309)),Number.isFinite(f[i(372)])||(f.scale=1),Number[i(317)](f[i(378)])||(f[i(378)]=1),a.lpSqb(typeof f[i(308)],a[i(385)])&&(f[i(308)]=!0),a.lprGv(typeof f[i(379)],"boolean")&&(f.locked=!1),delete f[i(401)],f.doublePetal&&(typeof f[i(418)]!==i(391)||a[i(380)](f.doublePetal,null)?a.fotlj===a[i(365)]?_0xc4e7c6[i(348)]=_0x2cfa65(_0x42c4e8.innerSizeReduction,1,30):delete f[i(418)]:(Number.isFinite(f.doublePetal[i(348)])||(f[i(418)][i(348)]=2),f[i(418)][i(348)]=je(f[i(418)][i(348)],1,30),a[i(301)](f[i(418)][i(402)],null)&&typeof f.doublePetal[i(402)]!="string"&&(a.PsAyp(i(323),i(323))?_0x4ce83c.position={x:260,y:260}:delete f.doublePetal.innerColorId))));Array[i(303)](r[i(411)])||(r.leafGroups=[]);{const f=new Set(r[i(356)].map(m=>m.id));for(const m of r[i(411)])a[i(302)]!==i(410)?(m.id||(m.id=Ot("lg")),(a.lprGv(typeof m[i(336)],a.SucNM)||!m.name)&&(m.name=a[i(376)]),Array[i(303)](m.leafIds)||(m.leafIds=[]),m[i(337)]=m[i(337)].filter(w=>f[i(362)](w)),Number[i(317)](m[i(361)])||(m.rotation=0),m.linkedFlowerGroupId!=null&&((r[i(396)]??[]).some(h=>h.id===m.linkedFlowerGroupId)||delete m[i(306)])):_0xb77a5b.has(_0x222635.id)||_0x517048.palette[i(404)](_0x544f8c);r.leafGroups=r[i(411)][i(331)](m=>m[i(337)]&&m.leafIds[i(312)]>0)}if(Array.isArray(r.stencils))if(i(364)!=="hLwps"){const f=[a.PIVvJ,"child"],m=["right","left","back"];r.stencils=r[i(333)].filter(w=>w&&typeof w.id=="string"&&f[i(360)](w.variant)&&m[i(360)](w.pose)&&w.position&&Number[i(317)](w.position.x)&&Number[i(317)](w[i(316)].y))}else{const f=new _0x1acd8b(_0xe6f1a6[i(358)].map(m=>m.id));for(const m of _0x4f7169.groups)_0x5c9f99.isArray(m[i(389)])||(m[i(389)]=[]),m[i(389)]=m[i(389)].filter(w=>f.has(w)),m.id||(m.id=a[i(355)](_0x11e3f4,"grp")),(typeof m[i(336)]!==a.SucNM||!m[i(336)])&&(m[i(336)]="");_0x124570[i(396)]=_0x538a6b.groups[i(331)](m=>m[i(389)]&&m[i(389)].length>0)}return Number.isFinite(r[i(310)])||(r.version=1),r}const J0=Ln;function A0(){const u=["yxbWBhK","ntm4ntK5Dgr3q3f6","mJqXmte5ou9wwKfJuG","5y2k44gp44gz","Dhn1BwfTAv9WCM9Qzwn0C192mq","ntKZmJiYngLrwvLura","mJDtq2DWzem","Dg9tDhjPBMC","nLbOvvr0ua","44oA44od44ox","5yMJ44gK44g+44g/","BvrgDu8","nJCZodG0r0rsBhzw","mJq0ody3mMjewwz5sq","ndCYmta1mgP5Dff0Ca","nwvPq1fNAW","mJq0nJGXmLbIvKfovq"];return A0=function(){return u},A0()}(function(u,i){const a=Ln,r=u();for(;;)try{if(parseInt(a(384))/1+-parseInt(a(395))/2*(parseInt(a(391))/3)+parseInt(a(396))/4*(-parseInt(a(398))/5)+parseInt(a(399))/6+parseInt(a(385))/7+-parseInt(a(388))/8+-parseInt(a(389))/9*(-parseInt(a(397))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(A0,679593);function Ln(u,i){u=u-383;const a=A0();let r=a[u];if(Ln.eZxLbz===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Ln.MBUFaY=o,Ln.uLPUpg={},Ln.eZxLbz=!0}const f=a[0],m=u+f,w=Ln.uLPUpg[m];if(w)r=w;else{const h=function(d){this.NJQWTs=d,this.KRZGNV=[1,0,0],this.gvrrBf=function(){return"newState"},this.OeUaOq="\\w+ *\\(\\) *{\\w+ *",this.KzvQvo=`['|"].+['|"];? *}`};h.prototype.CLOAvL=function(){const d=new RegExp(this.OeUaOq+this.KzvQvo),g=d.test(this.gvrrBf.toString())?--this.KRZGNV[1]:--this.KRZGNV[0];return this.ETiVXf(g)},h.prototype.ETiVXf=function(d){return~d?this.DIyTjh(this.NJQWTs):d},h.prototype.DIyTjh=function(d){for(let g=0,y=this.KRZGNV.length;g<y;g++)this.KRZGNV.push(Math.round(Math.random())),y=this.KRZGNV.length;return d(this.KRZGNV[0])},new h(Ln).CLOAvL(),r=Ln.MBUFaY(r),Ln.uLPUpg[m]=r}return r}const kh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Ln;if(a){const f=a[o(383)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),vs=kh(void 0,function(){const u=Ln,i={mTFuO:"(((.+)+)+)+$"};return vs[u(390)]().search(i.mTFuO).toString().constructor(vs).search(i[u(394)])});vs();const Xd=J0(387),yl=["",J0(393)],Yh=["","",J0(392)],Jd=["",J0(386)];(function(u,i){const a=Jt,r=u();for(;;)try{if(-parseInt(a(288))/1*(-parseInt(a(281))/2)+-parseInt(a(273))/3*(-parseInt(a(295))/4)+-parseInt(a(294))/5*(parseInt(a(293))/6)+parseInt(a(277))/7*(parseInt(a(290))/8)+parseInt(a(280))/9*(parseInt(a(300))/10)+-parseInt(a(276))/11+-parseInt(a(278))/12*(parseInt(a(296))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(T0,662882);const Ih=(function(){const u=Jt,i={bUhoJ:function(r,o){return r!==o},assrV:u(274)};let a=!0;return function(r,o){const f=a?function(){const m=Jt;if(o)if(i.bUhoJ("jgFlI",i.assrV)){const w=o[m(285)](r,arguments);return o=null,w}else return!1}:function(){};return a=!1,f}})(),gs=Ih(void 0,function(){return gs[Jt(292)]().search("(((.+)+)+)+$").toString().constructor(gs).search("(((.+)+)+)+$")});gs();function Jt(u,i){u=u-273;const a=T0();let r=a[u];if(Jt.xjULGr===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Jt.JWvbwz=o,Jt.xABxrL={},Jt.xjULGr=!0}const f=a[0],m=u+f,w=Jt.xABxrL[m];if(w)r=w;else{const h=function(d){this.hkDJGU=d,this.EgcFde=[1,0,0],this.HIRGDl=function(){return"newState"},this.YGdaDY="\\w+ *\\(\\) *{\\w+ *",this.aNORAQ=`['|"].+['|"];? *}`};h.prototype.SekwGk=function(){const d=new RegExp(this.YGdaDY+this.aNORAQ),g=d.test(this.HIRGDl.toString())?--this.EgcFde[1]:--this.EgcFde[0];return this.zDMYxf(g)},h.prototype.zDMYxf=function(d){return~d?this.EZFoev(this.hkDJGU):d},h.prototype.EZFoev=function(d){for(let g=0,y=this.EgcFde.length;g<y;g++)this.EgcFde.push(Math.round(Math.random())),y=this.EgcFde.length;return d(this.EgcFde[0])},new h(Jt).SekwGk(),r=Jt.JWvbwz(r),Jt.xABxrL[m]=r}return r}function nr(){const u=Jt,i={nQjOw:u(299),OmOgx:function(a,r){return a===r},Hhnzb:"DkzdV"};try{const a=localStorage.getItem(Xd);if(!a)return[];const r=JSON.parse(a);return Array[u(297)](r)?r.map(o=>{const f=u;try{if(i[f(287)]!==f(299))return[];{const m=o?.[f(284)]?ha(o.project):null;return m?{id:o.id??m.id,title:o.title??m.title,updatedAt:o[f(279)]??m[f(279)],project:m}:null}}catch{if(i[f(283)](f(282),i[f(289)])){const m=_0x3d5628?.project?_0x4270a8(_0x59545f.project):null;return m?{id:_0x186fc8.id??m.id,title:_0x5788c2.title??m[f(298)],updatedAt:_0xf0ed5d.updatedAt??m[f(279)],project:m}:null}else return null}}).filter(o=>o!=null):[]}catch{return[]}}function Wd(u){const i=Jt;try{return localStorage[i(291)](Xd,JSON.stringify(u)),!0}catch{return!1}}function Hh(u){const i=Jt,a={qegbk:function(w,h){return w+h}},r=nr(),o=r.findIndex(w=>w.id===u.id),f={id:u.id,title:u[i(298)],updatedAt:u[i(279)],project:u},m=o>=0?[...r[i(301)](0,o),f,...r[i(301)](a[i(275)](o,1))]:[f,...r];return m[i(286)]((w,h)=>w[i(279)]<h.updatedAt?1:-1),Wd(m)}function T0(){const u=["mZe0ndC0m0nPzfDfsq","mtjxqKfmt0y","DxbKyxrLzef0","owDgv2TLyq","mtiYmZu4AhPwy1zv","Ew5LAem","t21pz3G","ChjVAMvJDa","yxbWBhK","C29YDa","BLfQt3C","oxviCLLrwq","sgHUEMi","ogPer3Lhqq","C2v0sxrLBq","Dg9tDhjPBMC","mZaWyNDYveHf","nZy1mJvRv0LAv08","mta0A1bpBMDc","odiWntiXyvnlAKfK","AxnbCNjHEq","DgL0Bgu","DK5IuNu","ndi0otyXmfL1vvPbuq","C2XPy2u","odaXmZLbq01UuLq","swLWuKO","CwvNyMS","nJKWotiXmhPnuKXAAq"];return T0=function(){return u},T0()}function Uh(u){const i={xsGAs:function(r){return r()},TNDzi:function(r,o){return r(o)}},a=i.xsGAs(nr).filter(r=>r.id!==u);return i.TNDzi(Wd,a)}function Bn(u,i){u=u-231;const a=E0();let r=a[u];if(Bn.gXDqPm===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Bn.KwohhE=o,Bn.RlAagU={},Bn.gXDqPm=!0}const f=a[0],m=u+f,w=Bn.RlAagU[m];if(w)r=w;else{const h=function(d){this.yiLThe=d,this.GPLjQx=[1,0,0],this.awUnzr=function(){return"newState"},this.jxsXHg="\\w+ *\\(\\) *{\\w+ *",this.DwMqDx=`['|"].+['|"];? *}`};h.prototype.UOWmYs=function(){const d=new RegExp(this.jxsXHg+this.DwMqDx),g=d.test(this.awUnzr.toString())?--this.GPLjQx[1]:--this.GPLjQx[0];return this.YrQDQO(g)},h.prototype.YrQDQO=function(d){return~d?this.HMdlez(this.yiLThe):d},h.prototype.HMdlez=function(d){for(let g=0,y=this.GPLjQx.length;g<y;g++)this.GPLjQx.push(Math.round(Math.random())),y=this.GPLjQx.length;return d(this.GPLjQx[0])},new h(Bn).UOWmYs(),r=Bn.KwohhE(r),Bn.RlAagU[m]=r}return r}(function(u,i){const a=Bn,r=u();for(;;)try{if(parseInt(a(274))/1+-parseInt(a(258))/2*(-parseInt(a(250))/3)+-parseInt(a(262))/4*(parseInt(a(249))/5)+parseInt(a(265))/6+parseInt(a(245))/7*(parseInt(a(263))/8)+-parseInt(a(275))/9+parseInt(a(259))/10*(-parseInt(a(270))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(E0,785106);function E0(){const u=["C2nHBgu","odu5mJyWmgnoq0PWBG","AMH1vhG","zNjVBq","CM91BMq","Bwf4","mtfssK5lDKK","y29SB3jjza","Dg90ywXdB3vUDa","ChDnDeG","mtq2mdC0muPWr2DJta","nJuXnJm2AwLVB3nl","z2v0","C0DnCfO","zg91yMXLugv0ywW","DMLZAwjSzq","DMfSDwvZ","yxbWBhK","Aw5UzxjdB2XVCKLK","Bw9Kzq","wuvnBum","uKzhuM8","Aw5UzxjtAxPLuMvKDwn0Aw9U","C29YDa","CMvKDwnL","DeDQBKG","zMXVD2vYrgLHBwv0zxi","C2v0","nJKYmZC5mxnSsgLqva","Agv4","sNLJu3m","BwfW","mtmWEwXmDfvR","mJe2mZi0nKLeuhDdvW","y291BNq","5y2k44gp44gz","yMfZzurPyw1LDgvY","twHjtwq","Cgv0ywXdB3vUDa","zMfICMLJu3f1yxjLu2L6zq","BgvHDMvZ","ngPHs01gDG","nda5nJm5ndbPD29jy0S","C01fD0O","C2vHCMnO","nty5ntziCNDzD04","ognhAu1wvG"];return E0=function(){return u},E0()}const Zh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Bn;if(a){const f=a[o(234)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),ys=Zh(void 0,function(){const u=Bn,i={MhIMd:"(((.+)+)+)+$"};return ys.toString().search(i[u(254)]).toString().constructor(ys)[u(261)](i.MhIMd)});ys();function Kh(u){const i=Bn,a={dwmIO:function(g,y){return g/y},BnnBV:function(g,y){return g*y},FebsO:function(g,y){return g!==y},sMEwJ:function(g,y){return g===y},jhuTx:function(g,y){return g*y},sGMpZ:function(g,y){return g<y},SxboB:function(g,y,N){return g(y,N)},pwMtH:"aUKmE",vpmZQ:function(g,y){return g(y)},YEMmC:function(g,y){return g*y},VasKJ:function(g,y){return g===y},WYFTH:i(242)},r=new Map((u.palette||[])[i(248)](g=>[g.id,g])),o=new Map,f=(g,y)=>g?.petalOverrides?.find(N=>N.index===y)??null,m=new Map;for(const g of u.flowers||[]){const y=g.fabricSquareSize??u[i(256)];for(const S of g.layers||[])if(a.sMEwJ("xmHZs",i(238)))_0x543f64.count+=1;else{if(!S.visible)continue;const L=Math.round(a[i(266)](y,S[i(264)]??1));for(let Y=0;a[i(277)](Y,S[i(255)]);Y++){const G=a.SxboB(f,S,Y),k=G?.colorId??S[i(271)],I=k+"|"+L,F=o.get(I);if(F?F[i(251)]+=1:o[i(244)](I,{colorId:k,fabricSizeMm:L,count:1}),S[i(231)])if(a[i(273)]===i(247))_0x8cb4a7[i(244)](_0x42b1d8,{colorId:_0x46cca8,fabricSizeMm:_0xa3f907,count:1});else{const R=S[i(231)],K=G?.innerColorId??R[i(235)]??k,$=G?.[i(239)]??R[i(239)]??2,V=Math.max(3,Math[i(268)](L-$)),W=K+"|"+V,_=o.get(W);_?_[i(251)]+=1:o.set(W,{colorId:K,fabricSizeMm:V,count:1})}}}const N=g.placementMode??"",b=a[i(260)](N,"")?a.vpmZQ(er,g[i(243)]):g.baseDiameter??u[i(253)],z=N+"|"+b,v=m[i(276)](z);v?v[i(251)]+=1:m.set(z,{mode:N,baseDiameterMm:b,count:1})}for(const g of u[i(257)]??[]){if(!g[i(232)])continue;const y=g[i(256)]??u.fabricSquareSize,N=Math[i(268)](a[i(237)](y,g.scale??1)),b=g.colorId,z=b+"|"+N,v=o.get(z);if(v?v[i(251)]+=1:o.set(z,{colorId:b,fabricSizeMm:N,count:1}),g.doublePetal){const S=g[i(231)],L=S.innerColorId??b,Y=Math[i(269)](3,Math.round(N-(S.innerSizeReduction??2))),G=L+"|"+Y,k=o[i(276)](G);k?k[i(251)]+=1:o.set(G,{colorId:L,fabricSizeMm:Y,count:1})}}const w=new Map;for(const{colorId:g,fabricSizeMm:y,count:N}of o.values())if(a.VasKJ("tGjnH",a.WYFTH)){const b=w.get(g);b?b.entries.push({fabricSizeMm:y,count:N}):w[i(244)](g,{colorId:g,entries:[{fabricSizeMm:y,count:N}]})}else _0x1b2d76[i(244)](_0xb76584,{colorId:_0x437849,fabricSizeMm:_0x376219,count:1});const h=Array.from(w[i(233)]()).map(({colorId:g,entries:y})=>{const N=i,b={yZzeO:function(G,k){return G*k}},z=r[N(276)](g),v=y[N(240)]((G,k)=>k.fabricSizeMm-G.fabricSizeMm),S=v.reduce((G,k)=>G+k[N(251)],0),L=a.dwmIO(Math.round(v[N(241)]((G,k)=>{const I=k.fabricSizeMm/10;return G+b.yZzeO(b.yZzeO(k.count,I),I)},0)*100),100),Y=Math.round(a.BnnBV(Math.sqrt(L),10))/10;return{colorId:g,colorName:z?.name??g,hex:z?.[N(246)]??"#999999",sizes:v,totalCount:S,totalAreaCm2:L,squareSideCm:Y}}).sort((g,y)=>y.totalCount-g[i(272)]),d=Array[i(267)](m[i(233)]()).sort((g,y)=>{const N=i;return a.FebsO(g.mode,y[N(236)])?a[N(260)](g.mode,N(252))?-1:1:y.baseDiameterMm-g.baseDiameterMm});return{colors:h,bases:d}}(function(u,i){const a=hn,r=u();for(;;)try{if(-parseInt(a(183))/1+parseInt(a(204))/2+-parseInt(a(178))/3*(parseInt(a(199))/4)+parseInt(a(181))/5+parseInt(a(197))/6+-parseInt(a(248))/7*(parseInt(a(200))/8)+parseInt(a(242))/9*(parseInt(a(233))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(L0,663167);function L0(){const u=["zM9YrwfJAa","tvroDw4","CM5gA3C","v3DuyK0","CMv2B2TLt2jQzwn0vvjm","ntG1swviweLJ","rNzMD0S","t2vvCKy","zg93BMXVywq","CMvJDa","AgvPz2H0","nJiZndGZCwTzvvrk","quDLy3u","BK55D1C","y3jLyxrLrwXLBwvUDe5t","zgDqrxq","D0TWqw4","CMvTB3zL","yM9KEq","z2v0q29UDgv4Da","w2rHDgeTz3jPzf0","D2HPDgu","mJeWodeZu2jduujb","B3PdBwO","zgf0ys10zxn0Awq","mJeYota4nxjMrNnUrG","CgfpCLa","mZCWnJmXD1j0t0f0","wuvpwKi","zMLSBfjLy3q","C2vHCMnO","ru1dqLi","C0DWAK4","y3jLyxrLt2jQzwn0vvjm","y3jLyxrLrwXLBwvUDa","wgrvC2O","CMvTB3zLqxr0CMLIDxrL","Aw5Zzxj0qMvMB3jL","Eg1SBNm","y2XVBMvoB2rL","B25SB2fK","nJuYmdi2vhfYDxDZ","DMLLD0jVEa","nfDwA1rPsq","ofvOv2TyCW","lNn2zW","wxj0wNe","lNrZDw1HBwKTz3jVDxaTzgfZAa","ndu0ndKWvK9Prxj4","CMvTB3zLq2HPBgq","y2fUDMfZ","Dg9tDhjPBMC","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","zMLYC3rdAgLSza","zw5KC1DPDgG","yu9twxi","C2v0qxr0CMLIDxrL","uuTvzue","CgjNu0O","C3r5Bgu","mtaWjq","C3bSAxq","Aw1Hz2uVCg5N","DM5Hwuq","z2v0qxr0CMLIDxrL","mcaWidiWmcaYmda","yxbWzw5Kq2HPBgq","ufbAwgO","D2LQz1K","C2vYAwfSAxPLvg9tDhjPBMC","D2LKDgG","zMLSBa","wMjJDhK","BxHMvNq","yNfUBeq","CxvLCNLtzwXLy3rVCKfSBa","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","nJyZnZbwB0XyDgi","BwfW","EhLhz0m","AujeEwC"];return L0=function(){return u},L0()}function hn(u,i){u=u-175;const a=L0();let r=a[u];if(hn.ceNBqR===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};hn.pyWYLz=o,hn.zUIvFP={},hn.ceNBqR=!0}const f=a[0],m=u+f,w=hn.zUIvFP[m];if(w)r=w;else{const h=function(d){this.RFaWol=d,this.fJcNSt=[1,0,0],this.XeAGrj=function(){return"newState"},this.uuywQI="\\w+ *\\(\\) *{\\w+ *",this.axYPuD=`['|"].+['|"];? *}`};h.prototype.ShEngM=function(){const d=new RegExp(this.uuywQI+this.axYPuD),g=d.test(this.XeAGrj.toString())?--this.fJcNSt[1]:--this.fJcNSt[0];return this.wDZXsU(g)},h.prototype.wDZXsU=function(d){return~d?this.ttXsdw(this.RFaWol):d},h.prototype.ttXsdw=function(d){for(let g=0,y=this.fJcNSt.length;g<y;g++)this.fJcNSt.push(Math.round(Math.random())),y=this.fJcNSt.length;return d(this.fJcNSt[0])},new h(hn).ShEngM(),r=hn.pyWYLz(r),hn.zUIvFP[m]=r}return r}const Xh=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),ps=Xh(void 0,function(){const u=hn,i={YrtZq:"(((.+)+)+)+$"};return ps[u(207)]()[u(186)](i.YrtZq).toString().constructor(ps)[u(186)](i[u(202)])});ps();function Jh(u,i){const a=hn,r={YjrqD:"[data-testid]",paOrP:"style",OwTWA:a(198),pbgSJ:a(221),YkkIX:"xmlns",wKpAn:"http://www.w3.org/2000/svg",Zbcty:a(226),ryATp:"height",nWUWE:"white",QKUeA:a(176),iBDyg:".tsumami-group-dash",mxfVt:"[data-marquee]",MTNun:function(b,z,v){return b(z,v)}},o=u[a(195)](!0);o[a(231)](r.YjrqD).forEach(b=>b[a(192)](a(180))),o.removeAttribute(r[a(182)]);const f=u.getAttribute(a(198));f&&o[a(212)](r.OwTWA,f);const m=(f??r[a(214)])[a(217)](/[\s,]+/)[a(234)](Number),w=m[2]??200,h=m[3]??200;o.setAttribute("width",String(w)),o.setAttribute("height",String(h)),o.setAttribute(r.YkkIX,r[a(253)]);const d=document[a(251)]("http://www.w3.org/2000/svg",a(246));d[a(212)](r[a(228)],a(216)),d[a(212)](r.ryATp,"100%"),d[a(212)](a(227),r.nWUWE),o[a(193)](d,o[a(209)]),o[a(231)](r[a(213)])[a(237)](b=>b[a(254)]()),o[a(231)](".tsumami-sel-dash")[a(237)](b=>b.remove()),o.querySelectorAll(r[a(236)]).forEach(b=>b.remove()),o[a(231)](r[a(229)])[a(237)](b=>b.remove());const g=new XMLSerializer,y=a(208)+g.serializeToString(o),N=new Blob([y],{type:"image/svg+xml;charset=utf-8"});r[a(238)](Vd,N,i.endsWith(a(201))?i:i+".svg")}function Wh(u,i,a=2){const r=hn,o={AGecu:function(v,S,L){return v(S,L)},HxAsw:function(v,S){return v??S},dgPEt:r(194),OeUrF:r(176),PPZXj:".svg",WwTbM:"WNuBQ",jKFIk:function(v,S){return v*S},uCgKS:"white",YxGRa:"[data-testid]",aOSYr:".tsumami-sel-dash",xyGgC:"[data-marquee]",YEOZB:r(198),nNywW:r(221),bqnlD:function(v,S){return v(S)},EQfcX:function(v,S){return v(S)},HfDGg:"http://www.w3.org/2000/svg",XdUsj:"image/svg+xml;charset=utf-8"},f=u.cloneNode(!0);f.querySelectorAll(o.YxGRa)[r(237)](v=>v.removeAttribute("data-testid")),f.removeAttribute(r(215)),f[r(231)](r(176)).forEach(v=>v.remove()),f[r(231)](o[r(211)])[r(237)](v=>v[r(254)]()),f.querySelectorAll(r(203))[r(237)](v=>v.remove()),f.querySelectorAll(o[r(235)]).forEach(v=>v[r(254)]());const m=u[r(220)](o[r(184)]),w=(m??r(221))[r(217)](/[\s,]+/)[r(234)](Number),h=w[2]??200,d=w[3]??200;f[r(212)](o[r(184)],m??o[r(250)]),f[r(212)]("width",o[r(230)](String,h)),f.setAttribute(r(247),o.EQfcX(String,d)),f[r(212)](o.dgPEt,o.HfDGg);const g=new XMLSerializer,y=g.serializeToString(f),N=new Blob([y],{type:o[r(191)]}),b=URL[r(189)](N),z=new Image;z[r(196)]=()=>{const v=r;if(o[v(252)],o[v(244)],o[v(223)],o[v(240)]===v(239)){const S=_0x5dbad1[v(195)](!0);S.querySelectorAll("[data-testid]")[v(237)]($=>$.removeAttribute(v(180))),S[v(192)](v(215));const L=_0x359c6f.getAttribute(v(198));L&&S[v(212)](VVTJYo[v(179)],L);const Y=VVTJYo[v(219)](L,v(221))[v(217)](/[\s,]+/).map(_0x16d464),G=Y[2]??200,k=Y[3]??200;S[v(212)](v(226),VVTJYo.xbriB(_0x1cc3d3,G)),S.setAttribute("height",VVTJYo.hEnyS(_0x51b239,k)),S[v(212)](VVTJYo[v(224)],v(232));const I=_0x4e3a82.createElementNS(v(232),VVTJYo.zpnFw);I[v(212)](v(226),VVTJYo[v(243)]),I.setAttribute(v(247),VVTJYo[v(243)]),I.setAttribute(VVTJYo.YllBt,v(177)),S[v(193)](I,S[v(209)]),S.querySelectorAll(VVTJYo[v(187)])[v(237)]($=>$[v(254)]()),S[v(231)](VVTJYo.towkT).forEach($=>$[v(254)]()),S.querySelectorAll(".tsumami-group-dash").forEach($=>$.remove()),S.querySelectorAll("[data-marquee]")[v(237)]($=>$.remove());const F=new _0xa677ef,R=VVTJYo[v(188)](v(208),F[v(225)](S)),K=new _0x540be2([R],{type:"image/svg+xml;charset=utf-8"});_0x508f3f(K,_0x155b88[v(210)](VVTJYo.hKWcn)?_0x2281f9:_0x23ef53+v(201))}else{const S=document[v(190)](v(206));S[v(226)]=h*a,S[v(247)]=o.jKFIk(d,a);const L=S[v(175)]("2d");if(!L){URL[v(241)](b);return}L.fillStyle=o.uCgKS,L[v(185)](0,0,S[v(226)],S[v(247)]),L.drawImage(z,0,0,S[v(226)],S.height),S.toBlob(Y=>{Y&&o[v(249)](Vd,Y,i.endsWith(".png")?i:i+".png"),URL.revokeObjectURL(b)},v(218))}},z.onerror=()=>{URL.revokeObjectURL(b)},z.src=b}function Vd(u,i){const a=hn,r=URL.createObjectURL(u),o=document.createElement("a");o.href=r,o[a(245)]=i,document.body[a(222)](o),o.click(),document[a(255)][a(205)](o),URL[a(241)](r)}function p0({active:u,disabled:i,onClick:a,children:r,...o}){return s.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...o,children:r})}const Vh="v0.1.0-dev";function Qh(u){const{view:i,onNavigate:a,project:r}=u;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Vh})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(p0,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(p0,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(p0,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),s.jsx(p0,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Ph(u){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(i=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:i.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function _s({children:u}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function Fh(u){const[i,a]=P.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(_s,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}function nn(u,i){u=u-394;const a=B0();let r=a[u];if(nn.isohUw===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};nn.XUyMoX=o,nn.XLMjOP={},nn.isohUw=!0}const f=a[0],m=u+f,w=nn.XLMjOP[m];if(w)r=w;else{const h=function(d){this.kkKzjR=d,this.silYdJ=[1,0,0],this.BpvVVl=function(){return"newState"},this.PKVYgH="\\w+ *\\(\\) *{\\w+ *",this.lOZRYD=`['|"].+['|"];? *}`};h.prototype.luReqW=function(){const d=new RegExp(this.PKVYgH+this.lOZRYD),g=d.test(this.BpvVVl.toString())?--this.silYdJ[1]:--this.silYdJ[0];return this.Pjigll(g)},h.prototype.Pjigll=function(d){return~d?this.WZDlWv(this.kkKzjR):d},h.prototype.WZDlWv=function(d){for(let g=0,y=this.silYdJ.length;g<y;g++)this.silYdJ.push(Math.round(Math.random())),y=this.silYdJ.length;return d(this.silYdJ[0])},new h(nn).luReqW(),r=nn.XUyMoX(r),nn.XLMjOP[m]=r}return r}function B0(){const u=["DxjSkci","tu1bCg8","swr5vNi","l3rZDw1HBwKV","r2PbDMK","sMvfzNm","C2v0ug9PBNrLCKnHChr1CMu","EgPiDvi","ogLPEezYwq","BeDgthm","BwfW","zMXVD2vYswq","CM90yxrPB24","yxrHBJi","s2fgEMe","v1Pxr0S","EMfQr0u","C0rkvM0","EMzmD2i","yKLRvfC","zMLUza","senWr20","odHHrhHcq3y","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","ode3nZeZz0TRr0Pd","y3vYCMvUDa","Cgv0ywXjBMrLEa","EKL5Cee","mtiZnJG5nZbNsu1yvKm","C2LU","C3rHCNrbBMDSzq","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","DfzTz2u","ndmWnJG5DeHduunm","rfrdrhu","EMH1wLO","ChjLDMvUDerLzMf1Bhq","C3rHCNrsB3rHDgLVBG","zfvjvNO","tur0yM0","mJu3mJmWohbKAw50ua","vLr0Dva","Bw9Asgq","D2LKDgHty2fSzq","y29Z","CMfKAxvZ","sLjfuhi","y3vYCMvUDfrHCMDLDa","C3rHCNrsywrPDxm","Bgf5zxjjza","vMrAuK8","B2zMC2v0qw5NBgu","AhLWB3q","ALLzB0K","Bwf4","yxbWBhK","mtC3mJy5meXMCfLdrW","ntaXnZiXy1rsv0Pt","C3r5Bgu","Bgf5zxi","uMXduuS","mZC1Bfn2C3Dh","kcGOlISPkYKRksSK","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","tu5Othu","Bw9Kzq","Dg9tDhjPBMC","DMzkAKC","C3rHCNreAxn0","C2vHCMnO","Cgv0ywXdB3vUDa","zMXVD2vY","rhneuuO","rwz0rgy","EMPIDvq","vLzxtKK","yNPPDLK","AurqEuu","AgzdwLm","DLrMvvG","Bgf5zxjZ","zMXVD2vYrgLHBwv0zxi","CNfiq1G","sgzUEfa","C3rHCNrxAwr0AfnJywXL","y3vYC29Y","mJC3nNHyEKvozW","zMXVD2vYCW","ExfywhG","Cg9ZAxrPB24","CffbExm","Au9nre0"];return B0=function(){return u},B0()}(function(u,i){const a=nn,r=u();for(;;)try{if(-parseInt(a(404))/1+parseInt(a(433))/2*(parseInt(a(408))/3)+-parseInt(a(447))/4*(parseInt(a(403))/5)+-parseInt(a(479))/6+-parseInt(a(472))/7*(-parseInt(a(461))/8)+-parseInt(a(463))/9+parseInt(a(467))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(B0,356822);const $h=(function(){const u={KaFza:function(a,r){return a===r}};let i=!0;return function(a,r){const o=nn;if(u[o(453)]("lYJUs",o(455)))_0x50bdaf[o(484)]=_0x51b8d6(_0x201d75[o(484)]*_0x567794,2,120);else{const f=i?function(){const m=o;if(r){const w=r[m(402)](a,arguments);return r=null,w}}:function(){};return i=!1,f}}})(),Ss=$h(void 0,function(){const u=nn,i={XlEfj:"(((.+)+)+)+$"};return Ss.toString().search(i.XlEfj)[u(413)]().constructor(Ss)[u(416)](u(409))});Ss();function em(u){const i=nn,a={zhuZZ:function(R,K){return R===K},VdZRO:function(R,K){return R-K},zIypA:"HPPiy",dUIVz:function(R,K,$,V){return R(K,$,V)},VTtuP:function(R,K){return R*K},moZHd:function(R,K){return R===K},UEyQS:function(R,K){return R!==K},rCGVN:i(457),zjbuT:function(R,K,$){return R(K,$)},DsDQJ:"/tsumami/",IdyVr:function(R,K){return R(K)},pQAys:function(R,K){return R-K},mbqPO:function(R,K,$){return R(K,$)},xjHuR:function(R,K,$){return R(K,$)},hfCZS:function(R,K){return R!==K},VVWNI:function(R,K){return R-K},bOAuN:function(R,K){return R>K},kukTX:function(R,K){return R<K},bzivY:function(R,K){return R+K},jBQZt:function(R,K){return R/K},sDJVm:function(R,K){return R+K},DTCDu:function(R,K){return R*K},MMApo:function(R,K){return R-K},iOMDM:function(R,K){return R*K},vfJjG:function(R,K){return R-K},fhJQA:function(R,K){return R>K},rqHCX:function(R,K,$,V){return R(K,$,V)},bIkTW:function(R,K,$){return R(K,$)},jYYoI:i(430),YseGZ:i(444),lINCf:function(R,K){return R-K},MNhLu:function(R,K){return R-K},WZWGK:function(R,K){return R(K)},iDPyE:function(R,K){return R(K)}},{project:r,applyUpdate:o,stageRef:f,clientToSvgPoint:m}=u,w=a[i(454)](P.useRef,null),h=(R,K,$,V)=>{const W=i;$[W(475)](),$[W(394)]?.setPointerCapture?.($.pointerId),f.current&&(f.current[W(405)][W(432)]=W(439)+W(442)+W(470));const _=r.flowers.find(B=>B.id===K);if(!_)return;const C=a[W(474)](R,W(406))&&V?.layerId?_.layers.filter(B=>B.id===V.layerId)[W(449)](B=>({layerId:B.id,scale:B.scale??1,radius:B[W(484)]??10})):_[W(427)].map(B=>({layerId:B.id,scale:B.scale??1,radius:B.radius??10})),T=m($),j=_.position.x,M=_.position.y,E=Math.hypot(a.VdZRO(T.x,j),a.VdZRO(T.y,M));w[W(464)]={mode:R,flowerId:K,layerId:V?.[W(396)],startScales:C,startDiam:_[W(428)]||60,startDist:E}},d=R=>{const K=i,$={EftDf:function(M,E,B){return a[nn(421)](M,E,B)},jnFgR:a[K(419)]},V=w[K(464)];if(!V)return;const W=r[K(434)].find(M=>M.id===V.flowerId);if(!W)return;const _=a[K(441)](m,R),C=Math.hypot(_.x-W.position.x,a[K(437)](_.y,W[K(436)].y)),T=Math.max(1,V.startDist??1),j=je(C/T,.3,3);a.mbqPO(o,M=>{const E=K;if(a[E(466)]==="ndwEu"){if(!_0x262ae0[E(464)])return;$[E(420)](_0x399956,()=>{},!0),_0x211619[E(464)]&&(_0x3b72d5.current[E(405)].cursor=""),_0x47025a.current=null}else{const B=M.flowers[E(459)](J=>J.id===V[E(450)]);if(!B)return;for(const J of V.startScales){const O=B[E(427)].find(D=>D.id===J.layerId);O&&(O.scale=a.dUIVz(je,a[E(480)](J.scale,j),.3,3),a[E(481)](V.mode,E(418))&&(O.radius=je(a.VTtuP(J.radius,j),2,120)))}V[E(412)]==="flower"&&(a.UEyQS(E(457),a.rCGVN)?_0x3c04a1[E(464)][E(405)][E(432)]=E(439)+$.jnFgR+'rotate_cursor_active_32.png") 16 16, grabbing':B[E(428)]=a[E(477)](je,V.startDiam*j,10,200))}},!1)},g=()=>{const R=i;if(a.zhuZZ(R(471),R(407)))_0x3b3e45[R(464)][R(405)][R(432)]='url("'+a.DsDQJ+'scale_cursor_32.png?v=16") 16 16, ns-resize';else{if(!w[R(464)])return;a.xjHuR(o,()=>{},!0),f[R(464)]&&(f[R(464)].style[R(432)]=""),w.current=null}},y=a[i(441)](P.useRef,null),N=(R,K,$,V)=>{const W=i;$.preventDefault(),$.currentTarget?.setPointerCapture?.($.pointerId),f.current&&(a[W(425)]("KeZRx","KeZRx")?_0x38c79e[W(464)][W(405)].cursor='url("'+a.DsDQJ+'radius_cursor_32.png?v=16") 16 16, nwse-resize':f.current.style.cursor='url("'+W(442)+'rotate_cursor_active_32.png") 16 16, grabbing');const _=r[W(434)][W(459)](M=>M.id===K);if(!_)return;const C=a.IdyVr(m,$),T=Math.atan2(a.VVWNI(C.y,_.position.y),a[W(397)](C.x,_[W(436)].x))*(180/Math.PI),j=R===W(406)&&V?.[W(396)]?_.layers[W(459)](M=>M.id===V[W(396)])?.[W(398)]??0:_[W(451)]??0;y.current={mode:R,flowerId:K,layerId:V?.[W(396)],startAngle:T,startRotation:j}},b=R=>{const K=i,$={HCpGm:function(M,E){return a.moZHd(M,E)},MDtbm:"layer"},V=y[K(464)];if(!V)return;const W=r[K(434)][K(459)](M=>M.id===V[K(450)]);if(!W)return;const _=a.IdyVr(m,R);let T=a[K(480)](Math.atan2(_.y-W.position.y,a[K(422)](_.x,W[K(436)].x)),180/Math.PI)-V.startAngle;for(;a.bOAuN(T,180);)T-=360;for(;a.kukTX(T,-180);)T+=360;const j=a[K(423)](V[K(476)],T);a.xjHuR(o,M=>{const E=K,B=M.flowers[E(459)](J=>J.id===V[E(450)]);if(B)if($[E(460)](V[E(412)],$[E(478)])&&V[E(396)]){const J=B[E(427)][E(459)](O=>O.id===V.layerId);J&&(J.offsetAngle=j)}else B.rotation=j},!1)},z=()=>{const R=i;y.current&&(o(()=>{},!0),f[R(464)]&&(f.current[R(405)][R(432)]=""),y.current=null)},v=P.useRef(null),S=(R,K,$,V)=>{const W=i;$[W(475)](),$[W(394)]?.[W(445)]?.($.pointerId),f.current&&(f.current.style[W(432)]=W(439)+W(442)+W(410));const _=r[W(434)][W(459)](le=>le.id===K);if(!_)return;const C=V?.[W(396)]?_[W(427)][W(459)](le=>le.id===V.layerId):null;if(!C)return;const T=a.IdyVr(m,$),j=_.position.x,M=_.position.y,E=V?.[W(465)]??0,B=a.jBQZt(360,Math[W(401)](1,C[W(417)])),J=a.bzivY(a.sDJVm(C[W(398)],a[W(473)](E,B)),_[W(451)])*(Math.PI/180),O=T.x-j,D=a[W(440)](T.y,M),q=-Math[W(468)](J),Z=Math.cos(J),U=Math.abs(a[W(423)](a[W(438)](O,q),D*Z));v[W(464)]={mode:R,flowerId:K,layerId:V?.layerId,petalAngle:J,startDist:Math[W(401)](1,U),startWidthScale:C[W(482)]??1}},L=R=>{const K=i,$={LsxbP:function(O,D){return a[nn(414)](O,D)},rwcqr:function(O,D){return a.fhJQA(O,D)},lGFLs:function(O,D){return O===D},JREPr:"uTcOC"},V=v.current;if(!V)return;const W=r[K(434)][K(459)](O=>O.id===V[K(450)]);if(!W)return;const _=m(R),C=_.x-W[K(436)].x,T=_.y-W[K(436)].y,j=-Math.sin(V.petalAngle),M=Math[K(483)](V.petalAngle),E=Math.abs(a[K(456)](C*j,T*M)),B=je(E/V[K(415)],.3,3),J=a[K(429)](je,V[K(431)]*B,.3,3);a[K(458)](o,O=>{const D=K;if($[D(448)]($[D(485)],D(435))){const q=_0x278d65[D(464)];if(!q)return;const Z=_0x15c4db.flowers[D(459)](be=>be.id===q.flowerId);if(!Z)return;const U=_0x41d79d(_0x12c709);let ce=_0x5d8565[D(452)](iIjril[D(443)](U.y,Z.position.y),U.x-Z[D(436)].x)*(180/_0x56ab76.PI)-q[D(469)];for(;iIjril.LQDcI(ce,180);)ce-=360;for(;ce<-180;)ce+=360;const me=iIjril[D(426)](q.startRotation,ce);_0x5a1a1a(be=>{const fe=D,de=be.flowers[fe(459)](oe=>oe.id===q.flowerId);if(de)if(q.mode==="layer"&&q[fe(396)]){const oe=de.layers[fe(459)](Me=>Me.id===q.layerId);oe&&(oe.offsetAngle=me)}else de[fe(451)]=me},!1)}else{const q=O[D(434)][D(459)](U=>U.id===V[D(450)]);if(!q)return;const Z=q[D(427)].find(U=>U.id===V.layerId);Z&&(Z[D(482)]=J)}},!1)},Y=()=>{const R=i;v[R(464)]&&(a.bIkTW(o,()=>{},!0),f[R(464)]&&(f[R(464)].style[R(432)]=""),v.current=null)},G=a[i(424)](P.useRef,null);return{scaleDragRef:w,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:g,rotationDragRef:y,beginRotationDrag:N,updateRotationDrag:b,endRotationDrag:z,widthScaleDragRef:v,beginWidthScaleDrag:S,updateWidthScaleDrag:L,endWidthScaleDrag:Y,radiusDragRef:G,beginRadiusDrag:(R,K,$,V)=>{const W=i;$.preventDefault(),$.currentTarget?.setPointerCapture?.($.pointerId),f.current&&(a[W(400)]===a.YseGZ?_0x2814d2.rotation=_0xb4a0d0:f.current.style.cursor=W(439)+a[W(419)]+W(462));const _=r.flowers.find(M=>M.id===K);if(!_)return;const C=V?.[W(396)]?_.layers[W(459)](M=>M.id===V.layerId):null;if(!C)return;const T=m($),j=Math[W(399)](T.x-_[W(436)].x,a.pQAys(T.y,_.position.y));G[W(464)]={mode:R,flowerId:K,layerId:V?.layerId,startDist:Math[W(401)](1,j),startRadius:C.radius??28}},updateRadiusDrag:R=>{const K=i,$=G.current;if(!$)return;const V=r.flowers.find(j=>j.id===$.flowerId);if(!V)return;const W=a[K(441)](m,R),_=Math.hypot(a.vfJjG(W.x,V.position.x),a.lINCf(W.y,V[K(436)].y)),C=a[K(411)](_,$[K(415)]),T=a[K(477)](je,a.sDJVm($[K(395)],C),5,100);a[K(446)](o,j=>{const M=K,E=j.flowers.find(J=>J.id===$.flowerId);if(!E)return;const B=E[M(427)].find(J=>J.id===$[M(396)]);B&&(B.radius=T)},!1)},endRadiusDrag:()=>{const R=i;G[R(464)]&&(o(()=>{},!0),f.current&&(f.current.style[R(432)]=""),G.current=null)}}}(function(u,i){const a=Mt,r=u();for(;;)try{if(-parseInt(a(284))/1+parseInt(a(340))/2+-parseInt(a(283))/3+-parseInt(a(279))/4*(parseInt(a(333))/5)+parseInt(a(324))/6+-parseInt(a(303))/7+-parseInt(a(323))/8*(-parseInt(a(313))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(q0,254173);const tm=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Mt;if(a){const f=a[o(293)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),ws=tm(void 0,function(){const u=Mt,i={NvEYD:u(348)};return ws[u(294)]()[u(319)](u(348))[u(294)]().constructor(ws)[u(319)](i.NvEYD)});ws();function ai(u,i,a,r,o){const f=Mt,m={aNvzs:function(I,F){return I-F},NDmqU:function(I,F){return I*F},RoUNS:function(I,F){return I<F},mxoEk:function(I,F){return I<=F},GLnOT:"center",tROOG:function(I,F){return I(F)},phEKY:function(I,F){return I+F},mCjgk:function(I,F){return I===F},JOJIU:"layer",ASLqv:f(310),dSYBc:function(I,F){return I*F},CsjRd:function(I,F){return I/F},fWrrQ:function(I,F){return I*F},cQGTK:function(I,F){return I-F},Rspxx:function(I,F){return I-F},pFvGJ:function(I,F){return I*F},iGhpp:function(I,F){return I>=F},NQxtY:"width",AeXNs:"scale",LrPUx:function(I,F){return I*F},lXuzr:function(I,F){return I*F},tbVgL:function(I,F){return I-F},gYXgu:function(I,F){return I<=F}},{length:w}=kt(a.fabricSquareSize??r.fabricSquareSize),h=u-a[f(277)].x,d=m.aNvzs(i,a.position.y),g=Math.hypot(h,d);let y=1/0;for(const I of a[f(329)]){if(!I[f(343)])continue;const F=I[f(314)]??1,R=m[f(278)](w,F),K=.28,$=Math.max(0,I[f(347)]-R*K);m[f(299)]($,y)&&(y=$)}isFinite(y)||(y=0);const N=Math[f(338)](y*.9,8);if(m[f(351)](g,N))return{zone:m[f(292)]};const b=m.tROOG(ba,-(a.rotation??0)),z=m.aNvzs(m.NDmqU(h,Math.cos(b)),d*Math.sin(b)),v=m[f(345)](m.NDmqU(h,Math[f(282)](b)),m[f(278)](d,Math.cos(b))),S=m.mCjgk(o[f(341)],m[f(339)])?a[f(329)][f(321)](I=>I.id===o[f(315)]&&I[f(343)]):a[f(329)].filter(I=>I[f(343)]);let L=m[f(320)],Y,G,k=1/0;for(const I of S){const F=I.scale??1,R=m.dSYBc(w,F),K=I[f(308)]??1,$=w/2*K*F,V=.28,W=Math[f(338)](0,I[f(347)]-R*V),_=m[f(337)](360,Math[f(338)](1,I.petalCount));for(let C=0;C<I[f(288)];C++){const T=I[f(312)]+m[f(285)](C,_),j=ba(T),M=Math.cos(j)*W,E=Math.sin(j)*W,B=m[f(335)](z,M),J=m.cQGTK(v,E),O=Math[f(301)](-j),D=Math[f(282)](-j),q=m.Rspxx(B*O,m.pFvGJ(J,D)),Z=m[f(328)](B,D)+J*O,U=q/R,le=Z/$;if(U<-.05||U>1.08||Math[f(297)](le)>.75)continue;const ce=Math.hypot(U-.5,le);m[f(318)](ce,k)||(k=ce,Y=I.id,G=C,Math[f(297)](le)>.45?L=m.NQxtY:U>.75?L="rotate":U>.3?L=m[f(291)]:L=f(304))}}if(m[f(281)](L,m[f(320)])){let I=12;for(const K of a[f(329)]){if(!K.visible)continue;const $=K.scale??1,V=m[f(327)](w,$),W=.28,_=Math.max(0,K[f(347)]-m.lXuzr(V,W));I=Math[f(338)](I,_+V)}const F=8,R=Math[f(297)](m.tbVgL(g,I));if(m.gYXgu(R,F))return{zone:f(314)}}return{zone:L,layerId:Y,petalIndex:G}}function S0(u,i,a){const r=Mt,o={EFkPZ:function(f,m){return f===m},WPoTs:r(302),zZVen:"move",CcWMA:r(314),UdIBz:"rotate",xtWhF:function(f,m){return f!=m},rMUYf:r(332),EAYhH:r(344),ZvmPo:function(f,m){return f*m},VvVLs:function(f,m){return f-m},afAEx:function(f,m){return f*m},mISNx:function(f,m){return f>m},uJCKY:r(309),mFksh:"petals"};if(o[r(322)](u,r(302)))return o[r(287)];if(u==="none")return r(310);switch(i){case r(350):{if(o.EFkPZ(u,o.zZVen))return o[r(295)];if(o.EFkPZ(u,o[r(336)]))return o.CcWMA;if(u===o[r(305)]&&a?.hitLayerId&&a.flower&&o[r(296)](a.length,null))if(o[r(346)]!==o.EAYhH){let f,m=-1/0;for(const w of a[r(350)][r(329)]){if(!w[r(343)])continue;const h=w.scale??1,d=o[r(280)](a[r(307)],h),g=.28,y=Math[r(338)](0,o.VvVLs(w[r(347)],o[r(331)](d,g))),N=y+d;o[r(352)](N,m)&&(m=N,f=w.id)}return o[r(322)](a.hitLayerId,f)?r(317):o.zZVen}else _0x97a73a="rotate";return o.zZVen}case r(276):return u;case o.uJCKY:case o.mFksh:return o.zZVen;default:return"move"}}function nm(u,i,a,r){const o=Mt,f={OEyeg:function(G,k){return G*k},NLOhM:function(G,k){return G-k},BRqhJ:function(G,k){return G/k},TxDYI:function(G,k){return G>k},cIqJI:function(G,k){return G>k},ZsmDt:"rotate",vmgDX:function(G,k){return G>k},GqJnY:o(304)},m=a.fabricSquareSize??r.fabricSquareSize,{length:w,width:h}=kt(m),d=a.scale??1,g=f.OEyeg(w,d),y=h*(a.widthScale??1)*d,N=u-a.position.x,b=i-a.position.y,z=ba(-(a.rotation??0)),v=f.NLOhM(N*Math.cos(z),f[o(342)](b,Math[o(282)](z))),S=N*Math.sin(z)+b*Math[o(301)](z),L=f.BRqhJ(v,g),Y=S/y;return L<-.05||L>1.08||f[o(290)](Math.abs(Y),.75)?"none":Math[o(297)](Y)>.45?"width":f.cIqJI(L,.75)?f[o(289)]:f[o(300)](L,.3)?"scale":f[o(306)]}function $i(u,i){const a=Mt,r={BWWps:function(o,f){return o(f)}};switch(u){case"rotate":return'url("'+i+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return'url("'+i+a(316);case"width":return'url("'+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case a(304):return r.BWWps(ar,i);case a(310):default:return"grab"}}function Yd(u,i){const a=Mt,r={ZnwVT:"center",KWvPm:"pointer",STGAd:"rotate",tXLmK:"width",idFeN:a(310)};switch(u){case r[a(334)]:return r.KWvPm;case r[a(286)]:return a(326)+i+a(349);case"scale":return'url("'+i+a(316);case r.tXLmK:return'url("'+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case"radius":return a(326)+i+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case a(304):return ar(i);case r.idFeN:default:return a(325)}}function Mt(u,i){u=u-276;const a=q0();let r=a[u];if(Mt.iFjevP===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Mt.tBnHkI=o,Mt.SetpRu={},Mt.iFjevP=!0}const f=a[0],m=u+f,w=Mt.SetpRu[m];if(w)r=w;else{const h=function(d){this.CnnwXk=d,this.NWLDEf=[1,0,0],this.qBVTkO=function(){return"newState"},this.kIHeBS="\\w+ *\\(\\) *{\\w+ *",this.TjPfiP=`['|"].+['|"];? *}`};h.prototype.DWSiRH=function(){const d=new RegExp(this.kIHeBS+this.TjPfiP),g=d.test(this.qBVTkO.toString())?--this.NWLDEf[1]:--this.NWLDEf[0];return this.LLWbNN(g)},h.prototype.LLWbNN=function(d){return~d?this.SQETuX(this.CnnwXk):d},h.prototype.SQETuX=function(d){for(let g=0,y=this.NWLDEf.length;g<y;g++)this.NWLDEf.push(Math.round(Math.random())),y=this.NWLDEf.length;return d(this.NWLDEf[0])},new h(Mt).DWSiRH(),r=Mt.tBnHkI(r),Mt.SetpRu[m]=r}return r}function ar(u){const i=Mt;return'url("'+u+i(311)}function Pn(u){return Mt(326)+u+'move_object_active_32.png") 16 16, grabbing'}function lm(u){const i=Mt;return i(326)+u+i(330)}function q0(){const u=["otK2mLzTqNreBq","A2LUza","t0v5zwC","DMLZAwjSzq","q0z2BMi","CgHfs1K","CK1vwwy","CMfKAxvZ","kcGOlISPkYKRksSK","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","zMXVD2vY","BxHVrwS","BuLttNG","Bgf5zxi","Cg9ZAxrPB24","tKrTCvu","odi0Duvvsev5","wNzTug8","BunQz2S","C2LU","mZC3nZe4vuL1vLfv","mJm0mdqZuuzbq3jq","zLDYCLe","u1rhqwq","v1bVvhm","Cgv0ywXdB3vUDa","wNnTrhq","vhHewuK","qwvytNm","r0XUt1q","yxbWBhK","Dg9tDhjPBMC","ELPwzw4","EhrxAey","ywjZ","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","uM9vtLm","DM1NrfG","y29Z","y2vUDgvY","mtu0nZK1ovnfBwrxCW","Bw92zq","vwrjqNO","r3fkBLK","BgvUz3rO","D2LKDgHty2fSzq","Cgv0ywW","BM9Uzq","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","B2zMC2v0qw5NBgu","mZa1odjwB2vXDLm","C2nHBgu","Bgf5zxjjza","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","CM90yxrL","AuDOCha","C2vHCMnO","qvnmCxy","zMLSDgvY","ruzRufO","mte5mLzfDvjjrW","mtK4otu4ogX4v0vbEG","z3jHyG","DxjSkci","thjqvxG","Cez2r0O","Bgf5zxjZ","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","ywzbrxG","zvjJDMW","mtG1rKzxDujg","wM53vLq","yu52ENm","q2nxtue","q3nQuMq","Bwf4","sK9ksvu"];return q0=function(){return u},q0()}function am(u){const i=Mt;return i(326)+u+i(298)}(function(u,i){const a=qn,r=u();for(;;)try{if(-parseInt(a(259))/1*(-parseInt(a(322))/2)+-parseInt(a(287))/3*(parseInt(a(256))/4)+parseInt(a(302))/5+-parseInt(a(283))/6*(-parseInt(a(298))/7)+-parseInt(a(279))/8*(-parseInt(a(257))/9)+parseInt(a(313))/10*(parseInt(a(296))/11)+-parseInt(a(247))/12===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(G0,128224);const im=(function(){const u={DAFzG:function(a,r){return a===r},WToOp:"rlBHD"};let i=!0;return function(a,r){const o=qn,f={MKABM:function(m,w){return m(w)},wFJPi:o(318)};if(u[o(289)](u.WToOp,u.WToOp)){const m=i?function(){const w=o;if(r){const h=r[w(275)](a,arguments);return r=null,h}}:function(){};return i=!1,m}else f[o(258)](_0x591610,{kind:f[o(242)],flowerId:_0xf63ff1.flowerId})}})(),Cs=im(void 0,function(){const u=qn,i={DDGAL:u(309)};return Cs.toString().search(i.DDGAL).toString().constructor(Cs).search(u(309))});function G0(){const u=["tuTbqK0","mJu4ru5uDg9j","zMXVD2vYswq","BwLU","rLnpDxC","C3rHCNrAB29T","r0rrvgq","wMHOC0C","zw5Kv2LKDgHty2fSzurYywC","BhnUyLu","D01PugO","yMvNAw5xAwr0AfnJywXLrhjHzW","y3vYCMvUDa","CwLJvgS","Cg9PBNrLCKLK","C3rHCNrtDMC","A2HpvKq","yxbWBhK","ywjZ","CgfUma","BgvUz3rO","ndbVt2HswKG","C3rHCNrqB3m","zMXVD2vYCW","AvrJEwG","nZuZmJrnB21Nr1e","y2XPzw50wq","vwPHAKO","zMLUza","mZaZnJGXvvruv2Pw","ChvZAa","refgEKC","vvrrzNm","v2XXCvu","y3vYCMvUDfrHCMDLDa","wwvKr3e","u3Dct0W","C3rHCNq","mJjYEKHut3q","EMTTt3e","mtrwD1nNtum","vezNAKK","zMXVD2vYswrZ","Aw5KzxG","mZeYmZeWuw5krvfP","BxfvDeW","A2LUza","CM90yxrPB25eCMfNuMvM","svLhBNa","D2LKDgHty2fSzurYywDszwy","rxLnEha","kcGOlISPkYKRksSK","vu56sM0","zMrlBhi","Cg9ZAxrPB24","mti2mZaZmejLyMTnDq","B2zbBLO","ywTRsha","y3vYCMvUDfn2zW","yxbyy3m","zMXVD2vY","CMfKAxvZrhjHz1jLzG","CfPfAKe","Ce1iAuO","mte2nLDvvvz0tq","y2Deu08","yxfbAg4","zvH1Dgi","sg5hy0m","uw9OAve","DNfMsw0","zw5Ku2nHBgveCMfN","C3rHCNrdBgLLBNq","rK9wvK0","BwfW","Bw92zwq","Effxt0O","t0jRCuy","D0zkugK","Bgf5zxjjza","y2XPzw50wa","C2v0ug9PBNrLCKnHChr1CMu","y2XPy2TqzxrHBa","mZu2ntq4ohH6vKjdsG","r3fkBwW","CKrjrgy","zw5KuMfKAxvZrhjHzW","EufZBva","txDgz0u","BNDhs1O","vhnezwG","ChjVAMvJDa","nhPJzLLyzq","nJq3nZnnvLDeBxi"];return G0=function(){return u},G0()}Cs();function qn(u,i){u=u-229;const a=G0();let r=a[u];if(qn.hqjflB===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};qn.EnJuzz=o,qn.xkrPgd={},qn.hqjflB=!0}const f=a[0],m=u+f,w=qn.xkrPgd[m];if(w)r=w;else{const h=function(d){this.JKlQJk=d,this.xTfQYL=[1,0,0],this.cxOxvZ=function(){return"newState"},this.HNQHwO="\\w+ *\\(\\) *{\\w+ *",this.qIZkVW=`['|"].+['|"];? *}`};h.prototype.DTlJYR=function(){const d=new RegExp(this.HNQHwO+this.qIZkVW),g=d.test(this.cxOxvZ.toString())?--this.xTfQYL[1]:--this.xTfQYL[0];return this.MhIwqu(g)},h.prototype.MhIwqu=function(d){return~d?this.MOtqYs(this.JKlQJk):d},h.prototype.MOtqYs=function(d){for(let g=0,y=this.xTfQYL.length;g<y;g++)this.xTfQYL.push(Math.round(Math.random())),y=this.xTfQYL.length;return d(this.xTfQYL[0])},new h(qn).DTlJYR(),r=qn.EnJuzz(r),qn.xkrPgd[m]=r}return r}const _0=500*an;function rm(u){const i=qn,a={VCewq:function(_,C){return _-C},qicTk:function(_,C){return _(C)},eXutb:function(_,C){return _+C},pYyeN:function(_,C){return _(C)},tBxfk:function(_,C){return _(C)},QohiQ:"petal",YedGq:function(_,C){return _<=C},FOVVM:function(_,C){return _<C},mqUtL:"project",KGLGG:function(_,C){return _(C)},TDicq:function(_,C){return _-C},WlqqU:function(_,C){return _>=C},IdSeT:function(_,C){return _<=C},aqAhn:function(_,C){return _>=C},ZNecQ:i(249),dBoHE:function(_,C){return _>C},iTcyh:"flower",ZhhsG:i(297),soDOL:function(_,C){return _(C)},nwGKZ:function(_,C){return _===C},vqfIm:"leaf",EXdWH:function(_,C){return _(C)},PlnMW:"leaves",wMiPj:"flowers",MwFgE:"GCefn",AduQn:function(_,C,T){return _(C,T)},NCgoM:"UjajJ",OBkqF:function(_,C){return _??C},xQWOJ:i(251),zoanl:function(_,C,T,j){return _(C,T,j)},SwBOL:function(_,C){return _+C},TsDeh:function(_,C){return _!==C},TrJRd:i(262),khOVD:function(_,C){return _/C},mGrBv:function(_,C){return _-C},TFgjI:function(_,C){return _-C},zVpUp:function(_,C,T){return _(C,T)},vrJVH:function(_,C){return _+C},pMHiJ:function(_,C){return _+C},XaYkt:"nFEoF",gErLb:i(306),pZEjA:i(314),eYwai:function(_,C,T,j,M){return _(C,T,j,M)},UNzJm:function(_,C){return _===C},LuMKf:function(_,C){return _===C},epGKm:function(_,C){return _!==C},cgDSO:function(_,C){return _===C},akkHp:function(_,C){return _(C)}},{project:r,selection:o,setSelection:f,applyUpdate:m,dragRef:w,zoom:h,pan:d,setPan:g,stageRef:y,clientToSvgPoint:N,togglePetalSelection:b}=u,z=a[i(315)](em,{project:r,applyUpdate:m,stageRef:y,clientToSvgPoint:N}),v=P.useRef(null),S=_=>{const C=i;_.preventDefault(),_[C(292)]?.[C(245)]?.(_[C(272)]),v.current={start:{x:_[C(244)],y:_[C(284)]},pan0:{...d}}},L=_=>{const C=i;if(!v.current)return;const T=_.clientX-v.current[C(295)].x,j=a.VCewq(_.clientY,v[C(270)].start.y);a[C(271)](g,{x:v[C(270)][C(277)].x+T,y:a.eXutb(v[C(270)][C(277)].y,j)})},Y=()=>{const _=i;v[_(270)]=null},G=P.useRef(null),[k,I]=a.EXdWH(P.useState,null);return{beginPan:S,updatePan:L,endPan:Y,marqueeRef:G,marqueeRect:k,beginMarquee:_=>{const C=i;_.preventDefault(),_.currentTarget?.setPointerCapture?.(_[C(272)]);const T=a.qicTk(N,_);G.current={startSvg:T,currentSvg:T},I(null)},updateMarquee:_=>{const C=i;if(!G[C(270)])return;const T=a.pYyeN(N,_);G[C(270)][C(316)]=T;const j=G[C(270)].startSvg,M=Math[C(261)](j.x,T.x),E=Math.min(j.y,T.y),B=Math.abs(T.x-j.x),J=Math[C(276)](T.y-j.y);I({x:M,y:E,w:B,h:J})},endMarquee:()=>{const _=i,C={GDQTd:function(U,le){return U>=le},ttSiL:function(U,le){return U<=le},fdKlr:function(U,le){return a.eXutb(U,le)},uABSo:function(U,le){return a.YedGq(U,le)}},T=G[_(270)];if(G.current=null,!T){I(null);return}const j=T.startSvg,M=T.currentSvg,E=Math.hypot(M.x-j.x,M.y-j.y);if(a[_(237)](E,3)){f({kind:a.mqUtL}),a.KGLGG(I,null);return}const B=Math[_(261)](j.x,M.x),J=Math[_(261)](j.y,M.y),O=Math.abs(a.TDicq(M.x,j.x)),D=Math[_(276)](M.y-j.y),q=[];for(const U of r[_(281)])a[_(291)](U.position.x,B)&&a.IdSeT(U.position.x,B+O)&&a.WlqqU(U[_(312)].y,J)&&U.position.y<=J+D&&(_(248)===_(248)?q.push(U.id):a.tBxfk(_0x2824f7,{kind:a.QohiQ,flowerId:_0x17fb3a.flowerId,layerId:_0x30f524[_(246)].layerId,index:_0x67898e.clickPetal[_(301)]}));const Z=[];for(const U of r.leaves??[])if(a[_(230)](U[_(312)].x,B)&&a[_(293)](U[_(312)].x,a[_(231)](B,O))&&a.aqAhn(U.position.y,J)&&a.IdSeT(U.position.y,J+D))if(a.ZNecQ!==_(249)){if(!_0x38b154.current)return;const le=a.tBxfk(_0x22f3f5,_0x3acc5d);_0xed5b4d.current.currentSvg=le;const ce=_0x25e74f.current[_(273)],me=_0x25cc3d.min(ce.x,le.x),be=_0x1a11e0[_(261)](ce.y,le.y),fe=_0x281878[_(276)](le.x-ce.x),de=_0x43f31d.abs(le.y-ce.y);a.tBxfk(_0x14caf2,{x:me,y:be,w:fe,h:de})}else Z.push(U.id);a.dBoHE(q[_(278)],0)?q.length===1?f({kind:a.iTcyh,flowerId:q[0]}):_(232)===a[_(265)]?C[_(264)](_0x5a7df3.position.x,_0x5108a2)&&C.ttSiL(_0x49fedc[_(312)].x,C[_(311)](_0x16a3f5,_0x2b8968))&&_0x5bd5ac[_(312)].y>=_0x3fc625&&C.uABSo(_0x4665b3.position.y,C.fdKlr(_0xac33f4,_0x3afbd3))&&_0x424e09.push(_0x17df6c.id):a.soDOL(f,{kind:"flowers",flowerIds:q}):a.dBoHE(Z[_(278)],0)?a[_(253)](Z.length,1)?a.soDOL(f,{kind:a[_(234)],leafId:Z[0]}):a.EXdWH(f,{kind:a.PlnMW,leafIds:Z}):f({kind:_(255)}),I(null)},beginFlowerDrag:(_,C,T)=>{const j=i;C.preventDefault(),C.currentTarget?.setPointerCapture?.(C.pointerId);const M=r.flowers.find(B=>B.id===_);if(!M)return;let E=null;if(o.kind===a[j(268)]&&o[j(300)].includes(_))j(308)===a[j(252)]?_0x39a509[j(288)](_0x564789.id):E=o[j(300)].map(B=>{const J=j,O=r.flowers[J(286)](D=>D.id===B);return{id:B,x:O?.position.x??0,y:O?.position.y??0}});else{const B=a.AduQn(Sh,r,_);if(B[j(278)]>1)if(j(285)!==a.NCgoM){_0x280f60(null);return}else E=B[j(238)](J=>{const O=j,D=r.flowers[O(286)](q=>q.id===J);return{id:J,x:D?.[O(312)].x??0,y:D?.position.y??0}})}w.current={flowerId:_,startClient:{x:C[j(244)],y:C[j(284)]},startPos:{...M[j(312)]},moved:!1,clickPetal:a[j(241)](T,null),isShiftPressed:C.shiftKey||!1,multiStartPositions:E,startZoom:h}},updateFlowerDrag:_=>{const C=i;if(a[C(254)]("GsUmE",a.TrJRd)){const T=w[C(270)];if(!T)return;const j=a.TDicq(_.clientX,T.startClient.x)/T[C(263)],M=a[C(274)](a.mGrBv(_[C(284)],T[C(236)].y),T.startZoom),E=a[C(299)](_[C(244)],T.startClient.x),B=_.clientY-T.startClient.y;a.dBoHE(Math.abs(E)+Math.abs(B),4)&&(T[C(239)]=!0),a.zVpUp(m,J=>{const O=C;if(T.multiStartPositions)if(O(317)===a[O(240)])_0x586fd0(_0x3d3b77[O(260)],_0x1b534f[O(246)][O(243)],_0x770204[O(246)][O(301)],!0);else for(const D of T.multiStartPositions){const q=J[O(281)].find(Z=>Z.id===D.id);q&&(q.position.x=je(D.x+j,0,_0),q[O(312)].y=je(D.y+M,0,_0))}else{const D=J.flowers.find(q=>q.id===T.flowerId);if(!D)return;D[O(312)].x=a.zoanl(je,a[O(294)](T[O(280)].x,j),0,_0),D[O(312)].y=je(T[O(280)].y+M,0,_0)}},!1)}else _0xbe60a2.current=null},endFlowerDrag:()=>{const _=i;if(a[_(282)],a.XaYkt===_(267))_0x1ab426.length===1?_0x1c64aa({kind:a[_(282)],flowerId:_0x139044[0]}):_0x53a9e7({kind:a.wMiPj,flowerIds:_0x149597});else{const C=w.current;if(!C)return;!C.moved&&C[_(246)]?a[_(253)](a.gErLb,"HWMcO")?qWoZCp[_(290)](_0x4ed59f,{kind:qWoZCp.LzqSc,flowerId:_0x3ef8ef[0]}):C.isShiftPressed?a[_(320)]===a.pZEjA?a.eYwai(b,C[_(260)],C.clickPetal.layerId,C[_(246)].index,!0):_0x4553c7.position.x>=_0x266551&&_0x3f3f66.position.x<=a.vrJVH(_0x326a77,_0x4d3759)&&_0x2f708e.position.y>=_0x2c5e63&&_0x2e2c9d.position.y<=a[_(321)](_0x282701,_0x194f19)&&_0x4d28e1.push(_0xb15600.id):f({kind:a[_(233)],flowerId:C[_(260)],layerId:C.clickPetal.layerId,index:C.clickPetal[_(301)]}):C[_(239)]&&((o.kind===a[_(303)]||a[_(310)](o[_(304)],a[_(282)])&&o[_(260)]!==C.flowerId||a.LuMKf(o[_(304)],"layer")&&a.epGKm(o[_(260)],C.flowerId)||a[_(229)](o.kind,"petal")&&o[_(260)]!==C.flowerId)&&a.pYyeN(f,{kind:a.iTcyh,flowerId:C.flowerId}),m(()=>{},!0)),w.current=null}},scaleDragRef:z.scaleDragRef,beginScaleDrag:z.beginScaleDrag,updateScaleDrag:z.updateScaleDrag,endScaleDrag:z[i(235)],rotationDragRef:z[i(305)],beginRotationDrag:z.beginRotationDrag,updateRotationDrag:z.updateRotationDrag,endRotationDrag:z.endRotationDrag,widthScaleDragRef:z[i(307)],beginWidthScaleDrag:z[i(269)],updateWidthScaleDrag:z.updateWidthScaleDrag,endWidthScaleDrag:z[i(266)],radiusDragRef:z[i(319)],beginRadiusDrag:z.beginRadiusDrag,updateRadiusDrag:z.updateRadiusDrag,endRadiusDrag:z[i(250)]}}function cm({className:u}){return s.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function fa(u){const i=!!u.selected,a=!!u.muted,r=4+(u.level||0)*12+(u.leftOffset||0),o=Math.max(0,r),f=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:w=>{u.onDoubleClick&&(w.stopPropagation(),u.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?s.jsx("span",{className:`${i?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:u.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?s.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:w=>{w.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(cm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function um(u){const{project:i,selection:a,setSelection:r,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:w,addFlower:h,deleteSelected:d,addOuterLayer:g,deleteOuterLayer:y,deleteFlowerById:N,deleteLayerById:b,treeScrollRef:z,setExpandedFlowers:v}=u,S=(R,K)=>{const $=a.kind==="flower"&&a.flowerId===R.id,V=a.kind==="flowers"&&a.flowerIds.includes(R.id),W=$||V,_="",C=o(R.id),T=R.layers&&R.layers.length>0,j=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:M=>{M.stopPropagation(),g(R.id)},"aria-label":"Add outer layer",children:"+"}),T&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:M=>{M.stopPropagation(),y(R.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":R.id,"data-testid":`tree-flower-${R.id}`,style:{paddingLeft:K},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${C?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:C?"Collapse layers":"Expand layers",onClick:M=>{M.stopPropagation(),f(R.id)},"aria-label":C?"collapse":"expand","data-tree-toggle":!0,children:C?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(fa,{label:R.name,marker:_,selected:W,showTrash:$,onTrash:()=>N(R.id),rightActions:j,onClick:()=>m(R.id),onDoubleClick:()=>w(R.id),level:0,leftOffset:-18})})]}),C&&R.layers.slice().sort((M,E)=>E.order-M.order).map(M=>{const E=(a.kind==="layer"||a.kind==="petal")&&a.layerId===M.id;return s.jsx(fa,{label:`${M.order}. ${M.name}`,marker:"",selected:E,showTrash:E,onTrash:()=>b(R.id,M.id),onClick:()=>{r({kind:"layer",flowerId:R.id,layerId:M.id}),v(B=>({...B,[R.id]:!0}))},level:0,leftOffset:10,muted:!M.visible},M.id)})]},R.id)},L=u.groups,Y=new Set(L.flatMap(R=>R.flowerIds)),G=i.flowers.filter(R=>!Y.has(R.id)),k=u.leafGroups,I=new Set(k.flatMap(R=>R.leafIds)),F=u.leaves.filter(R=>!I.has(R.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:z,"data-testid":"layer-tree",children:[s.jsx(fa,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),L.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...L].reverse().map(R=>{const K=a.kind==="group"&&a.groupId===R.id,$="",V=u.isGroupExpanded(R.id);return s.jsxs("div",{"data-group-id":R.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${V?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:V?"":"",onClick:W=>{W.stopPropagation(),u.toggleGroupExpanded(R.id)},"aria-label":V?"collapse group":"expand group",children:V?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(fa,{label:R.name,marker:$,selected:K,onClick:()=>u.onSelectGroup(R.id),level:0,leftOffset:-18})})]}),V&&R.flowerIds.map(W=>{const _=i.flowers.find(C=>C.id===W);return _?S(_,12):null})]},R.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...G].reverse().map(R=>S(R,0)),G.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[k.map(R=>{const K=a.kind==="leafGroup"&&a.leafGroupId===R.id;return s.jsxs("div",{children:[s.jsx(fa,{label:` ${R.name}`,selected:K,onClick:()=>u.onSelectLeafGroup(R.id),level:0,leftOffset:0}),R.leafIds.map($=>{const V=u.leaves.find(_=>_.id===$);if(!V)return null;const W=a.kind==="leaf"&&a.leafId===V.id;return s.jsx(fa,{label:V.name,selected:W,showTrash:W,onTrash:()=>u.onDeleteLeaf(V.id),onClick:()=>u.onSelectLeaf(V.id),level:0,leftOffset:12,muted:!V.visible},V.id)})]},R.id)}),[...F].reverse().map(R=>{const K=a.kind==="leaf"&&a.leafId===R.id;return s.jsx(fa,{label:R.name,selected:K,showTrash:K,onTrash:()=>u.onDeleteLeaf(R.id),onClick:()=>u.onSelectLeaf(R.id),level:0,leftOffset:0,muted:!R.visible},R.id)}),u.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const se=Gn;(function(u,i){const a=Gn,r=u();for(;;)try{if(-parseInt(a(558))/1+-parseInt(a(516))/2*(parseInt(a(501))/3)+parseInt(a(520))/4+-parseInt(a(529))/5+-parseInt(a(532))/6+parseInt(a(528))/7+parseInt(a(525))/8*(parseInt(a(470))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(R0,201260);const sm=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Gn;if(a){const f=a[o(544)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),js=sm(void 0,function(){const u=Gn,i={TJLqs:"(((.+)+)+)+$"};return js[u(500)]()[u(563)](i[u(550)]).toString()[u(533)](js)[u(563)](u(521))});js();const Qd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}};function R0(){const u=["qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYa2nca3ocWGnJyGodySidy2idK0","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","qYa4mIa3ncWGodmGodySidGYidK4","qYaYmcaWlca0nca2lca1ocaYma","tcaTndaGmtqY","tcaTnZaGmJqW","qYaTntyGmZySic01mcaYnIWGltqYide4","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTncaTmsWGlteGlteSidaGma","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","tcaTmZaGmJqW","qYaXncaTncWGmZyGltqSidq4idq","yMfJAW","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","mte3vhnRtLzO","tcaTmtaWidi0ma","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTnJGGotySic03mca4ncWGlty2idC0","qYa2mcaZocWGnJqGntiSidy0idy4","qYa3oca5mYWGodiGotySidGZidK5","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","tsa0nIaYnG","l3rZDw1HBwKV","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYa2nsaXmIWGnZiGmJySidC2idqY","5y+Z5zcr44gn","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYa0oca3ncWGmJaGnJqSic04idu4","qYa2ocaZmcWGnZyGndqSidGWidyY","qYaTntGGntaSic01nca1ocWGltuWidCW","qYaYocaXotGSidm0idiXmIWGndGGmJi4","tsaTndyGmJy","5B6m44kn5zcr44gn","qYaTmJiGnIWGlteWideSidaGma","qYa1nYa3msWGntKGnZuSidyZidC5","qYaYmcaXndGSideWide1mcWGmcaXnta","qYa2mIa2mcWGntKGnJqSidu3idy4","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","tcaTmti1idi4ma","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYaTndiGnJiSic00mca1mcWGltqYidm4","Dg9tDhjPBMC","oteYwgzpvxPx","qYaTndyGntiSic00mIa2ncWGltqWidC4","tsaTndaGmtm0","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYa2nIa4nIWGnJiGodGSidu4idKW","qYa0mYaZmIWGndqGmJGSidq2idi2","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","AM9PBG","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","tcaTndaGmtm0","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYa0mIa2mIWGndaGntaSidqYidm4","qYa0nca1ncWGmtyGndGSic0Xmca0nG","CMLNAhq","qYa3mIa2osWGnJKGnZiSidy2idC2","mtiWmNzbrMreDG","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","D2LKDgG","nZyWnZqWzM9UtNPV","kcGOlISPkYKRksSK","qYa4msaXmdqSidG0ideXmcWGodqGmte2","5BEM5zcr44gn","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","mtKZmtC2B3rLsuPI","qYaTodaGmta4lcaTodGGotySic04oca4na","tsaWida","mJy4mZu1nwL3uKfusW","ntC1odKWq0PMwLjw","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYaTndqGmZqSic0ZocaYmIWGltmWide0","mZy4nJm0uenKuxvU","y29UC3rYDwn0B3i","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","qYaTnZyGndqSic02ocaZmcWGltu4idiW","AvfMugK","5OIq5lQ65AwZ5OcN","qYa3oca1mIWGnZCGnJaSidC0idy2","qYaTnZGGndaSic03oca1ncWGltCYidyY","tsaWidCW","ChvdqK8","qYa3oca0mcWGnZGGntqSidCYidyY","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","yxbWBhK","qYaTndqGnIWGltiWidaSidaGma","BgvMDa","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYaTndmGmZiSic00ncaYocWGltq2idi2","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","vePmCxm","qYa2nsa4mcWGnJGGoduSidC0idKW","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","Bez4v1u","qYa1nsaXmcWGnJaGmJiSidyZidm2","tcaTotiGmJGW","revdu3K","tsaTndaGmtqY","mZi2odGWB2zLvwjf","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","wLL1Ava","C3rLBMnPBhmVy2HPBgrFBgvMDc5WBMC","qYa1ncaYmcWGnJyGmJiSidCYidmY","C2vHCMnO"];return R0=function(){return u},R0()}const Pd={adult:se(537),child:""},Fd={right:se(484),left:se(523),back:se(491)},xm=[se(527),se(472),se(483),se(538),se(515),se(551),se(475),"C 83 101, 78 103, 72 105","C 70 106, 70 108, 73 110",se(469),se(567),"C 56 137, 49 142, 43 146",se(518),se(476),"C 15 206, 5 221, -9 239","C -17 249, -25 259, -33 269","L -36 280",se(497),se(482),"C -68 212, -56 200, -48 190","C -42 182, -38 174, -36 166","C -34 158, -36 150, -40 142",se(496),se(526),"C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44",se(572),"C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"].join(" "),om=["M 0 0",se(569),se(487),"C 82 74, 83 86, 82 98",se(522),"C 84 122, 82 128, 78 134","C 72 142, 60 152, 48 162","C 38 172, 32 180, 30 188",se(489),"C 58 240, 74 258, 92 280",se(555),"C -74 258, -58 240, -48 228","C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162","C -60 152, -72 142, -78 134","C -82 128, -84 122, -84 116",se(524),"C -83 86, -82 74, -80 62",se(535),se(545),"Z",se(540),"C 16 66, 34 70, 42 82",se(517),"C 46 126, 40 136, 30 142",se(494),se(498),"C -40 136, -46 126, -48 116",se(530),"C -34 70, -16 66, 0 70","Z"].join(" "),fm=["M 0 0",se(466),se(554),"C 64 44, 64 50, 63 56",se(495),se(493),"C 65 81, 66 83, 66 85",se(505),"C 57 91, 57 93, 59 95",se(552),"C 50 111, 44 116, 38 120",se(549),"C 22 151, 14 167, -2 183","C -10 195, -18 209, -22 221",se(577),se(471),"C -86 218, -72 200, -58 186","C -48 176, -42 168, -38 158",se(566),"C -48 126, -56 116, -62 106",se(473),se(564),se(531),"C -22 6, -10 1, 0 0","Z"][se(508)](" "),dm=[se(527),se(574),"C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112","C 54 120, 44 130, 38 140","C 30 152, 32 166, 55 202",se(509),se(571),"C -66 228, -60 214, -55 202","C -32 166, -30 152, -38 140","C -44 130, -54 120, -60 112","C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68",se(547),"C -40 10, -18 1, 0 0","Z","M 46 26","C 54 20, 66 22, 72 32",se(542),"C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38",se(506),"Z","M -46 26",se(481),se(539),"C -66 68, -56 70, -48 66",se(499),se(548),"Z"].join(" "),hm=[se(527),"C 15 -2, 38 -5, 55 5",se(483),"C 78 52, 77 60, 74 66",se(515),se(486),"C -30 54, -48 48, -62 44",se(572),se(573),se(575),"Z",se(557),"C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84",se(504),"C -70 52, -66 48, -62 44",se(488),se(468),se(570),"Z"][se(508)](" "),mm=[se(527),se(569),"C 68 30, 76 44, 80 62",se(568),"C 81 104, 84 110, 84 116",se(576),"C 62 142, 42 152, 20 158","C 8 160, -8 160, -20 158",se(543),"C -82 128, -84 122, -84 116",se(524),"C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20",se(545),"Z","M 0 70","C 16 66, 34 70, 42 82",se(517),"C 46 126, 40 136, 30 142",se(494),"C -10 150, -20 148, -30 142",se(479),se(530),"C -34 70, -16 66, 0 70","Z"][se(508)](" "),bm=["M 0 0",se(466),"C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56",se(513),"C -28 46, -40 44, -50 44","C -44 34, -38 22, -30 14",se(492),"Z",se(503),se(559),"C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",se(502),"C -38 94, -36 112, -38 126",se(510),"Z"][se(508)](" "),vm=["M 0 0",se(574),se(474),se(565),"C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126",se(485),se(480),"C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68",se(547),"C -40 10, -18 1, 0 0","Z",se(477),se(562),se(542),"C 66 68, 56 70, 48 66",se(512),se(506),"Z",se(490),se(481),"C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66",se(499),"C -43 32, -44 28, -46 26","Z"].join(" ");function gm(u,i){const a=se,r={ZYuiP:function(f,m){return f===m}},o=r[a(560)](i,"right")||r[a(560)](i,"left");return u==="adult"?o?xm:om:o?fm:dm}function Gn(u,i){u=u-466;const a=R0();let r=a[u];if(Gn.KMXBtp===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Gn.BgoTOK=o,Gn.zRXXBr={},Gn.KMXBtp=!0}const f=a[0],m=u+f,w=Gn.zRXXBr[m];if(w)r=w;else{const h=function(d){this.OBINkK=d,this.eUTuqd=[1,0,0],this.LlFTWI=function(){return"newState"},this.RTMqXy="\\w+ *\\(\\) *{\\w+ *",this.UZulHj=`['|"].+['|"];? *}`};h.prototype.tYzeIf=function(){const d=new RegExp(this.RTMqXy+this.UZulHj),g=d.test(this.LlFTWI.toString())?--this.eUTuqd[1]:--this.eUTuqd[0];return this.DRPcib(g)},h.prototype.DRPcib=function(d){return~d?this.fuCvsh(this.OBINkK):d},h.prototype.fuCvsh=function(d){for(let g=0,y=this.eUTuqd.length;g<y;g++)this.eUTuqd.push(Math.round(Math.random())),y=this.eUTuqd.length;return d(this.eUTuqd[0])},new h(Gn).tYzeIf(),r=Gn.BgoTOK(r),Gn.zRXXBr[m]=r}return r}function ym(u,i){const a=se,r={Csllv:function(f,m){return f===m},xgfxf:a(514),BhAks:a(546),iQfPi:function(f,m){return f===m}},o=r.Csllv(i,r.xgfxf)||i===r.BhAks;return r[a(536)](u,"adult")?o?hm:mm:o?bm:vm}const pm={right:"/tsumami/stencils/adult_right.png",left:"/tsumami/"+se(511),back:"/tsumami/stencils/adult_back.png"},_m={right:se(478)+se(534),left:se(478)+se(561),back:"/tsumami/"+se(507)},Sm={adult:pm,child:_m};function wm(u,i){const a=se,r={pRdel:function(w,h){return w===h},lFxWU:"side",voXRL:function(w,h,d){return w(h,d)},CLNlX:a(546)},o=i===a(514)||r.pRdel(i,a(546))?r[a(553)]:a(467),f=Qd[u][o],m=Sm[u]?.[i]??null;return{path:gm(u,i),hairPath:r.voXRL(ym,u,i),scaleX:i===r.CLNlX?-1:1,imageUrl:m,imageWidthMm:f[a(519)],imageHeightMm:f.height}}(function(u,i){const a=ln,r=u();for(;;)try{if(parseInt(a(375))/1*(-parseInt(a(325))/2)+parseInt(a(388))/3*(-parseInt(a(385))/4)+parseInt(a(355))/5*(-parseInt(a(362))/6)+-parseInt(a(371))/7+parseInt(a(345))/8+-parseInt(a(337))/9*(parseInt(a(384))/10)+parseInt(a(383))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(O0,827602);function O0(){const u=["rwDUChK","Aw5PDgLHBenLBNrLCG","D2HLzwW","Dg9tDhjPBMC","CezKz2W","r0juCMy","y3vYCMvUDa","qKLyvhy","yxbWBhK","y2XPzw50wq","AwvbBuC","uunot1e","EwXbywK","AhLWB3q","yMTOvwW","B0jpuu8","zw9yChy","Dg91y2HLBMq","mte5mfjdwezPsW","q3fXBfq","CgfU","BgvMDa","EM9VBq","EMfLrLK","Dg9W","wNHwDgG","Dg91y2HTB3zL","Egz2yxG","AgvPz2H0","t2LXyNy","nJK3nxzhrMr5CG","EM9cwK0","wwTKvNi","C2vHCMnO","wevpy2e","y29UC3rYDwn0B3i","qwvJvee","yKDevxC","mteZoduWotzfq3rRCxy","wwXjExu","D2LKDgG","AunKq2y","r2Tnwwu","C3bSAxq","uvz0yLa","Dg91y2HLCW","qvPdy28","veHSB1C","mtqYntvPDLnXA0e","yLHZyxa","y2XPzw50wa","Dg91y2HZDgfYDa","sLb3Ahm","CNzMEKS","CMvTB3zLrxzLBNrmAxn0zw5LCG","mtq5neDrrMrMuW","s0XwsvG","wufYAue","u2TzC0W","tgz2qLi","BgvUz3rO","kcGOlISPkYKRksSK","Aw5PDgLHBfPVB20","rKjrs3y","mZCWm1jKtxjxuq","s0zxEgi","DKLlB0O","ywrKrxzLBNrmAxn0zw5LCG","mJm4sNrksw1T","D0zxweS","tMLnB1m","wgPpuve","Dg9gAxHLza","EM9VBuXLDMvS","rfH2vNO","wef3ChO","mti5mJa5ntj6vuTNCeO","mJi3mhHVCfb4zG","nfvTEgXnAW","Aw5PDgLHBfbHBG","y1PnvMy","mJiYnJyXmKD5D2LQzq","ChjLDMvUDerLzMf1Bhq","DLPbse0"];return O0=function(){return u},O0()}const Cm=(function(){const u=ln,i={LfvBR:u(351)};let a=!0;return function(r,o){const f=a?function(){const m=ln;if(o)if(i.LfvBR!==i[m(366)])_0x57dbba.touches[m(367)]<2&&(_0x55cc7b.current=null);else{const w=o[m(315)](r,arguments);return o=null,w}}:function(){};return a=!1,f}})(),Ms=Cm(void 0,function(){const u=ln,i={YlIyu:u(368)};return Ms.toString()[u(340)](i[u(346)])[u(394)]()[u(342)](Ms)[u(340)](i.YlIyu)});Ms();const ss=520;function Id(u,i,a,r,o,f,m){const w=ln,h={ieAmG:function(g,y){return g-y},eoXpv:function(g,y){return g/y},CqqlT:function(g,y){return g*y},bocCC:function(g,y){return g*y},bXsap:function(g,y){return g*y}},d=h[w(317)](h[w(323)](r,a),1);return{x:m.x-h[w(326)](d,-m.x+u*o),y:h[w(317)](m.y,h.bocCC(d,-m.y+h[w(356)](i,f)))}}function ln(u,i){u=u-312;const a=O0();let r=a[u];if(ln.BPsJkF===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};ln.YCmpnJ=o,ln.Htdaab={},ln.BPsJkF=!0}const f=a[0],m=u+f,w=ln.Htdaab[m];if(w)r=w;else{const h=function(d){this.ldfEKv=d,this.WdkLfb=[1,0,0],this.VYJDAf=function(){return"newState"},this.WnUMxb="\\w+ *\\(\\) *{\\w+ *",this.zSgoDr=`['|"].+['|"];? *}`};h.prototype.utfIoE=function(){const d=new RegExp(this.WnUMxb+this.zSgoDr),g=d.test(this.VYJDAf.toString())?--this.WdkLfb[1]:--this.WdkLfb[0];return this.oukoQX(g)},h.prototype.oukoQX=function(d){return~d?this.hKqcGf(this.ldfEKv):d},h.prototype.hKqcGf=function(d){for(let g=0,y=this.WdkLfb.length;g<y;g++)this.WdkLfb.push(Math.round(Math.random())),y=this.WdkLfb.length;return d(this.WdkLfb[0])},new h(ln).utfIoE(),r=ln.YCmpnJ(r),ln.Htdaab[m]=r}return r}function jm(u){const i=ln,a={FBQKv:"touchstart",iCdCf:"touchmove",pFdgl:"touchend",wKWjB:function(T){return T()},AuIxv:function(T){return T()},NiMoS:function(T,j){return T/j},QCNOQ:function(T,j){return T+j},vZAHM:function(T,j){return T-j},psEIQ:function(T,j){return T-j},okROP:function(T,j){return T-j},YAriA:function(T,j){return T*j},GkMYe:function(T,j){return T-j},GBTrf:function(T,j){return T/j},bGDUw:function(T,j){return T*j},YkdVr:i(343),SkYsL:function(T,j){return T+j},wFWXK:function(T,j){return T/j},Egnpy:function(T,j){return T+j},ylAai:function(T,j){return T-j},bkhUl:function(T,j,M,E){return T(j,M,E)},KFWxb:function(T,j){return T(j)},Cjezp:function(T,j){return T+j},WmcZI:function(T,j){return T!==j},BIXTv:function(T,j){return T/j},nHQqM:function(T,j){return T/j},DdIGn:function(T,j){return T-j},idgam:function(T,j){return T*j},zoBZM:function(T,j){return T*j},hGciR:function(T,j){return T/j},AZCco:function(T,j){return T+j},oBOQO:function(T,j){return T(j)},QPugl:function(T,j){return T*j},XjOQQ:function(T,j){return T-j},vIKoJ:function(T,j,M,E,B,J,O,D){return T(j,M,E,B,J,O,D)},fwAqT:function(T,j){return T!==j},QYayU:"UzVpS",hdswf:function(T,j){return T===j},THloW:function(T,j){return T*j},xfvax:i(393),zaeFY:"LYmfB",JPwhs:function(T,j){return T(j)},XEOca:function(T,j,M){return T(j,M)},rvfzK:function(T,j,M){return T(j,M)},rRZIl:function(T,j,M){return T(j,M)}},{setZoom:r,setPan:o,setZoomLevel:f,ZOOM_LEVELS:m,stageRef:w,endPan:h,endFlowerDrag:d,endMarquee:g,endRotationDrag:y,endScaleDrag:N,endWidthScaleDrag:b,endRadiusDrag:z}=u,v=a[i(372)](P.useRef,null),S=P.useRef(u.pan),L=a[i(359)](P.useRef,u[i(329)]);a.XEOca(P.useEffect,()=>{const T=i;S[T(313)]=u.pan},[u[i(327)]]),a[i(341)](P.useEffect,()=>{L.current=u.zoom},[u[i(329)]]);const Y=a[i(372)](P.useRef,u[i(380)]);a.rvfzK(P.useEffect,()=>{const T=i;Y[T(313)]=u[T(380)]},[u.zoomLevel]);const G=P.useRef(null),k=a.oBOQO(P.useRef,null),I=P.useCallback(T=>{const j=i;if(j(363)===j(332))_0x40ba67[j(361)](a.FBQKv,_0x1cd8ee),_0xc40706.removeEventListener(a[j(348)],_0x36e319),_0x6953c2[j(361)](a[j(395)],_0x2f1099),_0xdb33a9[j(361)](j(393),_0x978d72);else if(T.touches.length===2){T.preventDefault(),a.wKWjB(h),d(),g(),a.AuIxv(y),N(),b(),z(),G[j(313)]=null,k.current=null;const M=T.touches[0],E=T.touches[1],B=a[j(377)](a.QCNOQ(M.clientX,E[j(357)]),2),J=a[j(377)](a[j(318)](M.clientY,E[j(316)]),2),O=Math.hypot(a[j(390)](E.clientX,M.clientX),E[j(316)]-M.clientY);v.current={initialCenter:{x:B,y:J},initialDist:O,initialPan:{...S[j(313)]},initialZoom:L.current}}},[h,d,g,y,N,b,z]),F=P.useCallback(T=>{const j=i;if(T.touches.length===2&&v[j(313)])if(a[j(339)]!=="bVQPg"){T.preventDefault();const M=T[j(352)][0],E=T[j(352)][1],B=a.SkYsL(M.clientX,E[j(357)])/2,J=a[j(376)](a[j(391)](M.clientY,E[j(316)]),2),O=Math[j(320)](E.clientX-M.clientX,a[j(319)](E[j(316)],M[j(316)])),D=v[j(313)],q=O/Math.max(1,D.initialDist),Z=a[j(321)](je,a[j(372)](Number,(D[j(369)]*q)[j(379)](3)),m[0],m[m.length-1]),U=D.initialZoom,le=a.okROP(B,D[j(392)].x),ce=J-D[j(392)].y;let me=D[j(386)].x+le,be=a.Cjezp(D.initialPan.y,ce);const fe=w.current;if(fe&&a.WmcZI(U,Z)){const oe=fe.getBoundingClientRect(),Me=a[j(314)](a.GkMYe(D.initialCenter.x,oe[j(328)]),oe.width),He=(D.initialCenter.y-oe.top)/oe.height,ft=a.nHQqM(oe.width,oe.height),st=ss,bt=st*ft,Yt=a.DdIGn(a.nHQqM(Z,U),1)*(-D[j(386)].x+a.idgam(Me,bt)),Nt=a[j(338)](a.hGciR(Z,U)-1,a[j(353)](-D[j(386)].y,He*st));me-=Yt,be-=Nt}const de={x:me,y:be};L.current=Z,S[j(313)]=de,a.oBOQO(o,de),r(Z)}else{const M=_0x589e5d.getBoundingClientRect(),E=a.psEIQ(_0x2e2327.initialCenter.x,M.left)/M.width,B=a[j(377)](a.okROP(_0x4a48ab.initialCenter.y,M[j(331)]),M[j(335)]),J=M[j(347)]/M[j(335)],O=_0x75ec1a,D=O*J,q=a[j(364)](a.psEIQ(a[j(377)](_0x55040e,_0x4c4f91),1),-_0x4a088c[j(386)].x+a[j(364)](E,D)),Z=a[j(349)](a[j(312)](_0x13c875,_0x52e382),1)*(-_0x29e2c5.initialPan.y+a.bGDUw(B,O));_0x3dd7ee-=q,_0x2d3e18-=Z}},[o,r,w,m]),R=a.XEOca(P.useCallback,T=>{const j=i,M={DXvVz:function(E,B){return E-B},XAwpz:function(E,B){return E/B},DjwMf:function(E,B){return E-B},OFNZP:function(E,B){return E(B)}};if(j(336)==="Oiqbv")T[j(352)][j(367)]<2&&(v.current=null);else{_0x58858e.preventDefault();const E=_0x2234e0[j(313)];if(!E)return;const B=_0x30eaab.current,J=B*_0x152a8c.exp(-_0x16e367.deltaY*_0x171b13),O=_0x5e5fb2(J,_0x57c3f7[0],_0x13fdcd[_0x4c6c92.length-1]);if(_0x27dbc4.abs(M[j(381)](O,B))<1e-6)return;const D=E.getBoundingClientRect(),q=M.XAwpz(M.DjwMf(_0x54fbb6.clientX,D.left),D[j(347)]),Z=M[j(382)](_0x224e75[j(316)]-D[j(331)],D.height),U=M[j(382)](D.width,D.height),le=_0x3fb071,ce=le*U,me=_0x1b3e2a(q,Z,B,O,ce,le,_0x1c4bf9[j(313)]);_0x4639a0.current=O,_0x21872f.current=me,_0xfc8189(O),M.OFNZP(_0x16a1da,me)}},[]),K=.003,$=P.useCallback(T=>{const j=i;T[j(389)]();const M=w.current;if(!M)return;const E=L[j(313)],B=a.QPugl(E,Math.exp(a[j(344)](-T.deltaY,K))),J=je(B,m[0],m[m[j(367)]-1]);if(Math.abs(a.vZAHM(J,E))<1e-6)return;const O=M.getBoundingClientRect(),D=a[j(312)](a[j(378)](T[j(357)],O[j(328)]),O.width),q=(T.clientY-O[j(331)])/O[j(335)],Z=O[j(347)]/O.height,U=ss,le=U*Z,ce=a[j(373)](Id,D,q,E,J,le,U,S[j(313)]);L[j(313)]=J,S.current=ce,a[j(372)](r,J),a[j(322)](o,ce)},[r,o,w,m]);P.useEffect(()=>{const T=i,j=w.current;if(j)return j[T(374)](a.FBQKv,I,{passive:!1}),j.addEventListener(a.iCdCf,F,{passive:!1}),j.addEventListener(T(324),R),j.addEventListener(T(393),$,{passive:!1}),()=>{const M=T;j[M(361)](a[M(370)],I),j.removeEventListener(a[M(348)],F),j[M(361)](M(324),R),j.removeEventListener("wheel",$)}},[w,I,F,R,$]);const V=a.rRZIl(P.useCallback,T=>{const j=i;if(a.fwAqT(a.QYayU,j(387))){const M=Y[j(313)],E=a[j(321)](je,a[j(365)](M,T),0,m.length-1);if(a.hdswf(E,M))return;const B=L.current,J=m[E],O=w[j(313)];if(!O){a.KFWxb(f,E);return}const D=O.getBoundingClientRect(),q=D.width/D[j(335)],Z=ss,U=a[j(354)](Z,q),le=Id(.5,.5,B,J,U,Z,S[j(313)]);L.current=J,Y[j(313)]=E,S[j(313)]=le,f(E),o(le)}else _0x1fc4d8[j(313)]=_0x345a50[j(380)]},[f,o,w,m]),W=P.useCallback((T,j)=>{const M=i,E="4|0|3|1|2"[M(350)]("|");let B=0;for(;;){switch(E[B++]){case"0":L[M(313)]=j;continue;case"1":a[M(372)](f,T);continue;case"2":o({x:0,y:0});continue;case"3":S[M(313)]={x:0,y:0};continue;case"4":Y[M(313)]=T;continue}break}},[f,o]),_=a[i(360)](P.useCallback,T=>{const j=i;if(a[j(330)]!=="zYXyj")G[j(313)]=T;else{const M={ffFwO:a[j(395)],qfNQi:a.xfvax},E=_0x43ce45[j(313)];return E?(E.addEventListener(a[j(370)],_0x585308,{passive:!1}),E.addEventListener(a[j(348)],_0xf9ffb7,{passive:!1}),E.addEventListener(a[j(395)],_0x4e230b),E.addEventListener(a[j(334)],_0x5cfee6,{passive:!1}),()=>{const B=j;E[B(361)](B(358),_0xf748d1),E.removeEventListener(B(333),_0x19612a),E[B(361)](M.ffFwO,_0x4d14d7),E[B(361)](M.qfNQi,_0x578a8b)}):void 0}},[]),C=P.useCallback(T=>{const j=i;k[j(313)]=T},[]);return{multiTouchRef:v,touchBgStartRef:G,mouseBgStartRef:k,zoomAtCenter:V,resetView:W,setTouchBgStart:_,setMouseBgStart:C}}function li(u,i){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),r=parseInt(u.slice(3,5),16),o=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(o))return u;const f=1-i;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(r*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function Mm(u){const{flower:i,project:a,paletteMap:r}=u,o=P.useRef(null),f=P.useRef(!1),m=P.useRef(null);P.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const w=P.useMemo(()=>[...i.layers||[]].sort((Y,G)=>Y.order-G.order),[i.layers]),h=i.fabricSquareSize??a.fabricSquareSize,{length:d,width:g}=kt(h),{flowerOuterR:y,centerHitR:N}=P.useMemo(()=>{let Y=12,G=1/0;for(const I of w){if(!I.visible)continue;const F=I.scale??1,R=d*F,$=Math.max(0,I.radius-R*.28),V=$+R;Y=Math.max(Y,V),$<G&&(G=$)}isFinite(G)||(G=0);const k=Math.max(G*.9,8);return{flowerOuterR:Y,centerHitR:k}},[w,d]),b=(Y,G)=>Y?.petalOverrides?.find(k=>k.index===G)??null,z="pointer",v=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,S=u.zoneCursorValue??"grab",L=Y=>{if(Y.stopPropagation(),Y.button===0){if(Y.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(Y)}};return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:Y=>{Y.stopPropagation(),u.onDoubleClick?.()},style:{cursor:v?S:ar("/tsumami/")},"data-testid":`flower-${i.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,y),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),w.map(Y=>{if(!Y.visible)return null;const k=r.get(Y.colorId)?.hex??"#999",I=360/Math.max(1,Y.petalCount),F=Y.scale??1,R=d*F,$=g*(Y.widthScale??1)*F,W=Math.max(0,Y.radius-R*.28),_=ds(""),C=ds(""),T=W+R,j=u.isSelected&&u.selectedLayerId===Y.id,M=u.isSelected&&(u.selectedPetal?.layerId===Y.id||(u.selectedPetals?.some(E=>E.layerId===Y.id)??!1));return s.jsxs("g",{children:[Array.from({length:Y.petalCount}).map((E,B)=>{const J=b(Y,B),D=(J?.petalType??Y.petalType)===""?_:C,q=r.get(J?.colorId??Y.colorId)?.hex??k,Z=Y.offsetAngle+B*I,U=ba(Z),le=Math.cos(U)*W,ce=Math.sin(U)*W,me=u.isSelected&&u.selectedPetal?.layerId===Y.id&&u.selectedPetal?.index===B,be=u.isSelected&&(u.selectedPetals?.some(oe=>oe.layerId===Y.id&&oe.index===B)??!1),fe=me||be,de=v?S:ar("/tsumami/");return s.jsxs("g",{transform:`translate(${le} ${ce}) rotate(${Z})`,children:[s.jsx("path",{d:D,transform:`scale(${R} ${$})`,fill:q,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:Y.locked?.55:.95,style:{cursor:de},onPointerDown:oe=>{if(oe.stopPropagation(),oe.button!==0)return;const Me=oe.shiftKey,He=oe.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,Me&&u.onTogglePetalSelection){oe.preventDefault(),oe.stopPropagation(),u.onTogglePetalSelection(Y.id,B,!0);return}if(He&&u.onTogglePetalSelection){m.current={x:oe.clientX,y:oe.clientY};const Yt=Y.id,Nt=B;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,u.onTogglePetalSelection?.(Yt,Nt,!0),navigator.vibrate?.(30)},500)}const ft=u.isSelected&&u.selectedLayerId!=null,st=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||ft||st){u.onBeginDragFromLayerPetal(Y.id,B,oe);return}u.onBeginDragFromLayerPetal(Y.id,B,oe)},onPointerMove:oe=>{if(o.current&&m.current){const Me=oe.clientX-m.current.x,He=oe.clientY-m.current.y;Math.hypot(Me,He)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:oe=>{oe.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(Y.id)}}),Y.doublePetal&&(()=>{const oe=Y.doublePetal,Me=J?.innerSizeReduction??oe.innerSizeReduction??2,He=h*(F||1);if(He<=0)return null;const st=Math.max(He*.3,He-Me)/He,bt=D,Yt=J?.innerColorId??oe.innerColorId??J?.colorId??Y.colorId,Nt=r.get(Yt)?.hex??q,vt=R*st,Zt=$*st;return s.jsx("path",{d:bt,transform:`scale(${vt} ${Zt})`,fill:Nt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:Y.locked?.55:.95,pointerEvents:"none"})})(),(fe||j||u.isFlowerSelected)&&s.jsx("path",{d:D,transform:`scale(${R} ${$})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${Y.id}-${B}`)]},B)}),j&&!M&&s.jsx("circle",{r:T,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},Y.id)}),u.isFlowerSelected&&s.jsx("circle",{r:y,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const Y=i.center,G=Eh(Y.size),k=r.get(Y.color)?.hex??"#D4A843",I=Y.color2?r.get(Y.color2)?.hex??"#C0C0C0":"#D4A843",F=Math.max(G,N);switch(Y.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:G,fill:k,stroke:li(k,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:F,fill:"transparent",style:{cursor:z},onPointerDown:L})]});case"":{const K=G*.42,$=G,V=G*.12,W=G*.13,_=G*.45,C=I,T=k;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((j,M)=>{const E=M/10*360,B=ba(E),J=Math.cos(B)*$,O=Math.sin(B)*$,D=-Math.sin(B)*V,q=Math.cos(B)*V,Z=Math.cos(B)*K,U=Math.sin(B)*K;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(Z+D).toFixed(2)} ${(U+q).toFixed(2)} L ${J.toFixed(2)} ${O.toFixed(2)} L ${(Z-D).toFixed(2)} ${(U-q).toFixed(2)} Z`,fill:C,stroke:li(C,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:J,cy:O,r:W,fill:C,stroke:li(C,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},M)}),s.jsx("circle",{r:K,fill:C,stroke:li(C,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:_,fill:T,stroke:li(T,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:F,fill:"transparent",style:{cursor:z},onPointerDown:L})]})}case"":{const R=Y.pepCount??12,K=G*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:R}).map(($,V)=>{const W=V/R*360,_=ba(W),C=Math.cos(_)*G,T=Math.sin(_)*G;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:C,y2:T,stroke:k,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:C,cy:T,r:Math.max(K,1),fill:k,stroke:li(k,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},V)})}),s.jsx("circle",{r:F,fill:"transparent",style:{cursor:z},onPointerDown:L})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:z},onPointerDown:L})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:z},onPointerDown:L})]}),u.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,y+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function zm(u){const{leaf:i,project:a,paletteMap:r}=u,o=i.fabricSquareSize??a.fabricSquareSize,{length:f,width:m}=kt(o),w=i.scale??1,h=f*w,d=m*(i.widthScale??1)*w,g=ds(i.petalType),y=r.get(i.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":u.cursor??ar("/tsumami/")},"data-testid":`leaf-${i.id}`,onPointerDown:N=>{if(N.stopPropagation(),N.button===0&&!i.locked){if(N.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(N)}},children:[s.jsx("path",{d:g,transform:`scale(${h} ${d})`,fill:y,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const N=i.doublePetal,b=N.innerSizeReduction??2,z=o*(w||1);if(z<=0)return null;const S=Math.max(z*.3,z-b)/z,L=N.innerColorId??i.colorId,Y=r.get(L)?.hex??y,G=h*S,k=d*S;return s.jsx("path",{d:g,transform:`scale(${G} ${k})`,fill:Y,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),(u.isSelected||u.isLeafGroupHighlighted)&&s.jsx("path",{d:g,transform:`scale(${h} ${d})`,fill:"none",stroke:u.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:u.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${i.id}`)]})}const k0=1350;function Dm(u){const{stencils:i,selectedStencilId:a,selection:r,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:m,stencilDraggingRef:w,onSelectStencil:h}=u,d=P.useRef(null);P.useEffect(()=>()=>{d.current?.()},[]);const g=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return s.jsx(s.Fragment,{children:i.map(y=>{const N=wm(y.variant,y.pose),b=a===y.id,z=an,v=N.imageUrl?1:N.scaleX,S=g||!!y.locked;return s.jsx("g",{transform:`translate(${y.position.x} ${y.position.y}) scale(${z*v} ${z})`,style:{cursor:g?"default":y.locked?"pointer":lm("/tsumami/"),pointerEvents:g?"none":"auto"},"data-testid":`stencil-${y.id}`,onPointerDown:L=>{if(L.button!==0)return;if(S){h(y.id);return}if(L.stopPropagation(),h(y.id),!o.current)return;w.current=!0,o.current&&(o.current.style.cursor=am("/tsumami/"));const G=m.current(L),k={...y.position},I=y.id;let F=k.x,R=k.y;const K=V=>{const W=m.current(V),_=W.x-G.x,C=W.y-G.y;F=je(k.x+_,0,k0),R=je(k.y+C,0,k0),f.current(T=>{const j=(T.stencils??[]).find(M=>M.id===I);j&&(j.position.x=F,j.position.y=R)},!1)},$=()=>{w.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",$),d.current=null,f.current(V=>{const W=(V.stencils??[]).find(_=>_.id===I);W&&(W.position.x=F,W.position.y=R)},!0)};document.addEventListener("pointermove",K),document.addEventListener("pointerup",$),d.current=()=>{w.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",$)}},children:N.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:N.imageUrl,x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:N.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:N.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&s.jsx("path",{d:N.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},y.id)})})}function Nm(u){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:m,dashSyncToken:w,stageRef:h,multiTouchRef:d,clientToSvgPoint:g,togglePetalSelection:y,handleShiftFlowerSelect:N,groupHighlightedFlowerIds:b,beginFlowerDrag:z,beginScaleDrag:v,beginRotationDrag:S,beginWidthScaleDrag:L,beginRadiusDrag:Y,clickOriginRef:G,zoneActivatedRef:k,setZoneCursorValue:I,setTouchZoneIndicator:F,hoverZoneRef:R,hoverHitLayerIdRef:K,hoverHitPetalIndexRef:$}=u;return s.jsx(s.Fragment,{children:i.flowers.map(V=>s.jsx(Mm,{flower:V,project:i,paletteMap:o,isSelected:a.kind!=="project"&&f===V.id||a.kind==="flowers"&&a.flowerIds.includes(V.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===V.id||a.kind==="flowers"&&a.flowerIds.includes(V.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===V.id?a.petals:null,onSelect:()=>{const W=ma(i,V.id);if(W&&!(a.kind==="group"&&a.groupId===W.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&W.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:W.id});return}r({kind:"flower",flowerId:V.id})},onSelectLayer:W=>r({kind:"layer",flowerId:V.id,layerId:W}),onSelectPetal:(W,_)=>r({kind:"petal",flowerId:V.id,layerId:W,index:_}),onTogglePetalSelection:(W,_,C)=>y(V.id,W,_,C),onShiftSelect:()=>N(V.id),isGroupHighlighted:b.has(V.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(W,_,C)=>{if(d.current)return;const T=ma(i,V.id);if(T&&!(a.kind==="group"&&a.groupId===T.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&T.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:T.id}),z(V.id,C);return}const j=g(C),M=C.pointerType==="touch",E=a.kind==="flower"&&a.flowerId===V.id||a.kind==="layer"&&a.flowerId===V.id||a.kind==="petal"&&a.flowerId===V.id||a.kind==="petals"&&a.flowerId===V.id;if(M&&E){const{zone:O,layerId:D,petalIndex:q}=ai(j.x,j.y,V,i,a),{length:Z}=kt(V.fabricSquareSize??i.fabricSquareSize),U=S0(O,a.kind,{hitLayerId:D,flower:V,length:Z});if(U!=="none"&&U!=="center"&&U!=="move"){F({x:j.x,y:j.y,zone:U});const le=a.kind==="layer"?"layer":"flower",ce=a.kind==="layer"?a.layerId:W;switch(U){case"rotate":S(le,V.id,C,{layerId:ce});return;case"scale":v(le,V.id,C,{layerId:ce});return;case"width":L(le,V.id,C,{layerId:ce,petalIndex:q});return;case"radius":Y(le,V.id,C,{layerId:ce});return}}z(V.id,C,{layerId:W,index:_});return}const B=k.current;G.current={x:j.x,y:j.y},k.current=!1;const J=R.current;if(E&&(B||J!=="none"&&J!=="center")){const O=J,D=K.current,q=$.current,Z=a.kind==="layer"?"layer":"flower",U=a.kind==="layer"?a.layerId:D??W;switch(O){case"rotate":S(Z,V.id,C,{layerId:U});return;case"scale":v(Z,V.id,C,{layerId:U});return;case"width":L(Z,V.id,C,{layerId:U,petalIndex:q});return;case"radius":Y(Z,V.id,C,{layerId:U});return;default:I(Pn("/tsumami/")),h.current&&(h.current.style.cursor=Pn("/tsumami/")),z(V.id,C,{layerId:W,index:_});return}}I(Pn("/tsumami/")),h.current&&(h.current.style.cursor=Pn("/tsumami/")),z(V.id,C,{layerId:W,index:_})},onDoubleClick:()=>r({kind:"flower",flowerId:V.id}),onPointerDown:W=>{if(d.current||W.button!==0)return;if(W.shiftKey){W.stopPropagation(),N(V.id);return}const _=ma(i,V.id);if(_&&!(a.kind==="group"&&a.groupId===_.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&_.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:_.id}),z(V.id,W);return}a.kind==="flower"&&a.flowerId===V.id||a.kind==="layer"&&a.flowerId===V.id||a.kind==="flowers"&&a.flowerIds.includes(V.id)||r({kind:"flower",flowerId:V.id});const T=g(W);G.current={x:T.x,y:T.y},k.current=!1,I(Pn("/tsumami/")),h.current&&(h.current.style.cursor=Pn("/tsumami/")),z(V.id,W)},dashSyncToken:w},V.id))})}function Am(u){const{leaves:i,leafGroups:a,project:r,selection:o,paletteMap:f,dashSyncToken:m,leafGroupHighlightedLeafIds:w,zoneCursorValue:h,stageRef:d,applyUpdateRef:g,clientToSvgPointRef:y,leafDraggingRef:N,clickOriginRef:b,zoneActivatedRef:z,setZoneCursorValue:v,onSelectLeaf:S,onShiftSelectLeaf:L,hoverLeafZoneRef:Y}=u,G=P.useRef(null);P.useEffect(()=>()=>{G.current?.()},[]);const k=o.kind==="flower"||o.kind==="layer"||o.kind==="petal"||o.kind==="petals";return s.jsx(s.Fragment,{children:i.map(I=>{if(!I.visible)return null;const F=o.kind==="leaf"&&o.leafId===I.id,R=o.kind==="leaves"&&o.leafIds?.includes(I.id),K=w.has(I.id),$=K0({leaves:i,leafGroups:a},I.id),V=$?.rotation??0;let W=I;if($&&V!==0){const _=wh({leaves:i,leafGroups:a},$.id),C=V*Math.PI/180,T=I.position.x-_.x,j=I.position.y-_.y;W={...I,position:{x:_.x+T*Math.cos(C)-j*Math.sin(C),y:_.y+T*Math.sin(C)+j*Math.cos(C)},rotation:I.rotation+V}}return s.jsx(zm,{leaf:W,project:r,paletteMap:f,isSelected:F||R,isLeafGroupHighlighted:K,dashSyncToken:m,cursor:F?h:void 0,onPointerDown:_=>{if(I.locked||k)return;_.stopPropagation();const C=y.current(_),T=F&&z.current;S(I.id),b.current={x:C.x,y:C.y},z.current=!1,v(Pn("/tsumami/")),d.current&&(d.current.style.cursor=Pn("/tsumami/"));const j=Y.current,M=T||j!=="none"?j:"move";if(M!=="move"){const E=$i(M,"/tsumami/");v(E),d.current&&(d.current.style.cursor=E)}if(N.current=!0,M==="rotate"){const E=W.position,B=I.rotation,J=Math.atan2(C.y-E.y,C.x-E.x)*180/Math.PI;let O=!1;const D=Z=>{const U=y.current(Z),ce=Math.atan2(U.y-E.y,U.x-E.x)*180/Math.PI-J;Math.abs(ce)>.5&&(O=!0),g.current(me=>{const be=(me.leaves??[]).find(fe=>fe.id===I.id);be&&(be.rotation=((B+ce)%360+360)%360)},!1)},q=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q),O&&g.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",q),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q)}}else if(M==="scale"){const E=W.position,B=I.scale??1,J=Math.max(1,Math.hypot(C.x-E.x,C.y-E.y));let O=!1;const D=Z=>{const U=y.current(Z),ce=Math.hypot(U.x-E.x,U.y-E.y)/J;Math.abs(ce-1)>.01&&(O=!0),g.current(me=>{const be=(me.leaves??[]).find(fe=>fe.id===I.id);be&&(be.scale=je(B*ce,.3,3))},!1)},q=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q),O&&g.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",q),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q)}}else if(M==="width"){const E=W.position,B=I.rotation*Math.PI/180,J=-Math.sin(B),O=Math.cos(B),D=I.widthScale??1,q=Math.abs((C.x-E.x)*J+(C.y-E.y)*O),Z=Math.max(1,q);let U=!1;const le=me=>{const be=y.current(me),de=Math.abs((be.x-E.x)*J+(be.y-E.y)*O)/Z;Math.abs(de-1)>.01&&(U=!0),g.current(oe=>{const Me=(oe.leaves??[]).find(He=>He.id===I.id);Me&&(Me.widthScale=je(D*de,.3,3))},!1)},ce=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ce),U&&g.current(()=>{},!0)};document.addEventListener("pointermove",le),document.addEventListener("pointerup",ce),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ce)}}else{const E=C,B=Ch({leaves:i,leafGroups:a},I.id),J=new Map;for(const Z of B){const U=i.find(le=>le.id===Z);U&&J.set(Z,{...U.position})}let O=!1;const D=Z=>{const U=y.current(Z),le=U.x-E.x,ce=U.y-E.y;Math.abs(le)+Math.abs(ce)>1&&(O=!0),g.current(me=>{for(const[be,fe]of J){const de=(me.leaves??[]).find(oe=>oe.id===be);de&&(de.position.x=je(fe.x+le,0,k0),de.position.y=je(fe.y+ce,0,k0))}},!1)},q=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q),O&&g.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",q),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q)}}},onShiftSelect:()=>L(I.id)},I.id)})})}function Tm({rect:u}){return u?s.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Em({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?s.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const da=1350;function Lm(u){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,setZoom:m,zoomLevel:w,setZoomLevel:h,ZOOM_LEVELS:d,setPan:g,showGrid:y,setShowGrid:N,setShowHelp:b,stageRef:z,viewBox:v,dashDelay:S,dashSyncToken:L,beginPan:Y,updatePan:G,endPan:k,beginMarquee:I,updateMarquee:F,endMarquee:R,marqueeRef:K,marqueeRect:$,beginFlowerDrag:V,updateFlowerDrag:W,endFlowerDrag:_,scaleDragRef:C,updateScaleDrag:T,endScaleDrag:j,rotationDragRef:M,updateRotationDrag:E,endRotationDrag:B,widthScaleDragRef:J,updateWidthScaleDrag:O,endWidthScaleDrag:D,radiusDragRef:q,updateRadiusDrag:Z,endRadiusDrag:U,beginScaleDrag:le,beginRotationDrag:ce,beginWidthScaleDrag:me,beginRadiusDrag:be,togglePetalSelection:fe,clientToSvgPoint:de}=u,oe=P.useRef(!1),Me=P.useRef(!1),He=P.useRef(u.applyUpdate),ft=P.useRef(de);P.useEffect(()=>{He.current=u.applyUpdate},[u.applyUpdate]),P.useEffect(()=>{ft.current=de},[de]);const[st,bt]=P.useState(!1),Yt=P.useRef(null);P.useEffect(()=>{if(!st)return;const xe=Be=>{Yt.current&&!Yt.current.contains(Be.target)&&bt(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[st]);const[Nt,vt]=P.useState("grab"),Zt=P.useRef("none"),vn=P.useRef("none"),kn=P.useRef(void 0),$n=P.useRef(void 0),Je=P.useRef(null),gn=P.useRef(!0),pl=5,Xl=P.useRef(a.kind);P.useEffect(()=>{a.kind!==Xl.current&&(Xl.current=a.kind,gn.current=!1,Je.current=null)},[a.kind]);const[Yn,ga]=P.useState(!1),In=P.useRef(!1),[ci,Jl]=P.useState(null),el=5,Lt=10,We=jm({zoom:u.zoom,pan:u.pan,setZoom:m,setPan:g,zoomLevel:w,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:z,endPan:k,endFlowerDrag:_,endMarquee:R,endRotationDrag:B,endScaleDrag:j,endWidthScaleDrag:D,endRadiusDrag:U});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${w>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>We.zoomAtCenter(1),disabled:w>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${w<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>We.zoomAtCenter(-1),disabled:w<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>N(xe=>!xe),title:"","aria-label":"","aria-pressed":y,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>We.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:Yt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${st?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>bt(xe=>!xe),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),st&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(xe=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Pd[xe]}),["right","left","back"].map(Be=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(xe,Be),bt(!1)},"data-testid":`stencil-add-${xe}-${Be}`,children:Fd[Be]},`${xe}-${Be}`))]},xe)),u.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),bt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:y?"24px 1fr":"1fr",gridTemplateRows:y?"20px 1fr":"1fr"},children:[y&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),y&&(()=>{const[xe,,Be,qe]=v.split(/\s+/).map(Number),we=an,pe=Math.max(Be,qe)/we,De=[10,20,50,100,200,500,1e3].find(Te=>pe/Te<=15)??1e3,ye=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,Ve=De<=10?5:De/2,Ye=Math.floor(xe/we/ye)*ye-ye,Qe=Math.ceil((xe+Be)/we/ye)*ye+ye,Pe=[];for(let Te=Ye;Te<=Qe;Te+=ye){const $e=(Te*we-xe)/Be*100;if($e<-2||$e>102)continue;const ze=Math.abs(Te),et=ze%De===0,tt=ze%Ve===0,nt=et?10:tt?6:3;Pe.push(s.jsx("line",{x1:`${$e}%`,y1:20-nt,x2:`${$e}%`,y2:20,stroke:"#999",strokeWidth:et?.8:.4},Te)),et&&Pe.push(s.jsx("text",{x:`${$e}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Te},`t${Te}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Pe})})(),y&&(()=>{const[,xe,Be,qe]=v.split(/\s+/).map(Number),we=an,pe=Math.max(Be,qe)/we,De=[10,20,50,100,200,500,1e3].find(Te=>pe/Te<=15)??1e3,ye=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,Ve=De<=10?5:De/2,Ye=Math.floor(xe/we/ye)*ye-ye,Qe=Math.ceil((xe+qe)/we/ye)*ye+ye,Pe=[];for(let Te=Ye;Te<=Qe;Te+=ye){const $e=(Te*we-xe)/qe*100;if($e<-2||$e>102)continue;const ze=Math.abs(Te),et=ze%De===0,tt=ze%Ve===0,nt=et?10:tt?6:3;Pe.push(s.jsx("line",{x1:24-nt,y1:`${$e}%`,x2:24,y2:`${$e}%`,stroke:"#999",strokeWidth:et?.8:.4},Te)),et&&Pe.push(s.jsx("text",{x:12,y:`${$e}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Te},`t${Te}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Pe})})(),s.jsxs("svg",{ref:z,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:v,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":S,cursor:Yn?"crosshair":"grab"},onDoubleClick:xe=>{xe.target===xe.currentTarget&&(ga(Be=>!Be),r({kind:"project"}))},onPointerDown:xe=>{if(We.multiTouchRef.current)return;if(xe.button===1){In.current=!0,z.current&&(z.current.style.cursor="grabbing"),Y(xe);return}if(xe.button!==0)return;const Be=xe.pointerType==="touch";if(Be&&xe.target===xe.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const we=i.flowers.find(pe=>pe.id===f);if(we){const pe=de(xe),{zone:Ae,layerId:De,petalIndex:ye}=ai(pe.x,pe.y,we,i,a),{length:Ve}=kt(we.fabricSquareSize??i.fabricSquareSize),Ye=S0(Ae,a.kind,{hitLayerId:De,flower:we,length:Ve});if(Ye!=="none"&&Ye!=="center"){Jl({x:pe.x,y:pe.y,zone:Ye});const Qe=a.kind==="layer"?"layer":"flower",Pe=a.kind==="layer"?a.layerId:De;switch(Ye){case"rotate":ce(Qe,f,xe,{layerId:Pe});return;case"scale":le(Qe,f,xe,{layerId:Pe});return;case"width":me(Qe,f,xe,{layerId:Pe,petalIndex:ye});return;case"radius":be(Qe,f,xe,{layerId:Pe});return;case"move":V(f,xe);return}}}}We.setTouchBgStart({x:xe.clientX,y:xe.clientY}),Y(xe);return}if(xe.target===xe.currentTarget&&f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const we=Zt.current;if(we!=="none"&&we!=="center"){const pe=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:kn.current;switch(we){case"rotate":ce(pe,f,xe,{layerId:Ae});return;case"scale":le(pe,f,xe,{layerId:Ae});return;case"width":me(pe,f,xe,{layerId:Ae,petalIndex:$n.current});return;case"radius":be(pe,f,xe,{layerId:Ae});return;case"move":V(f,xe);return}}}if(xe.target===xe.currentTarget&&a.kind==="leaf"&&u.selectedLeafId){const qe=vn.current;if(qe!=="none"){const we=u.leaves.find(pe=>pe.id===u.selectedLeafId);if(we){xe.preventDefault();const pe=de(xe);if(Me.current=!0,qe==="rotate"){const Ae=we.position,De=we.rotation,ye=Math.atan2(pe.y-Ae.y,pe.x-Ae.x)*180/Math.PI,Ve=we.id,Ye=$i(qe,"/tsumami/");vt(Ye),z.current&&(z.current.style.cursor=Ye);let Qe=!1;const Pe=gt=>{const $e=de(gt),et=Math.atan2($e.y-Ae.y,$e.x-Ae.x)*180/Math.PI-ye;Math.abs(et)>.5&&(Qe=!0),u.applyUpdate(tt=>{const nt=(tt.leaves??[]).find(yn=>yn.id===Ve);nt&&(nt.rotation=((De+et)%360+360)%360)},!1)},Te=()=>{Me.current=!1,document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Te),Qe&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Te);return}else if(qe==="scale"){const Ae=we.position,De=we.scale??1,ye=Math.max(1,Math.hypot(pe.x-Ae.x,pe.y-Ae.y)),Ve=we.id,Ye=$i(qe,"/tsumami/");vt(Ye),z.current&&(z.current.style.cursor=Ye);let Qe=!1;const Pe=gt=>{const $e=de(gt),et=Math.hypot($e.x-Ae.x,$e.y-Ae.y)/ye;Math.abs(et-1)>.01&&(Qe=!0),u.applyUpdate(tt=>{const nt=(tt.leaves??[]).find(yn=>yn.id===Ve);nt&&(nt.scale=Math.max(.3,Math.min(3,De*et)))},!1)},Te=()=>{Me.current=!1,document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Te),Qe&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Te);return}else if(qe==="width"){const Ae=we.position,De=we.rotation*Math.PI/180,ye=-Math.sin(De),Ve=Math.cos(De),Ye=we.widthScale??1,Qe=Math.max(1,Math.abs((pe.x-Ae.x)*ye+(pe.y-Ae.y)*Ve)),Pe=we.id,Te=$i(qe,"/tsumami/");vt(Te),z.current&&(z.current.style.cursor=Te);let gt=!1;const $e=et=>{const tt=de(et),yn=Math.abs((tt.x-Ae.x)*ye+(tt.y-Ae.y)*Ve)/Qe;Math.abs(yn-1)>.01&&(gt=!0),u.applyUpdate(ya=>{const Wl=(ya.leaves??[]).find(pn=>pn.id===Pe);Wl&&(Wl.widthScale=Math.max(.3,Math.min(3,Ye*yn)))},!1)},ze=()=>{Me.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",ze),gt&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",ze);return}else{const Ae=pe,De={...we.position},ye=we.id;vt(Pn("/tsumami/")),z.current&&(z.current.style.cursor=Pn("/tsumami/"));let Ve=!1;const Ye=Pe=>{const Te=de(Pe),gt=Te.x-Ae.x,$e=Te.y-Ae.y;Math.abs(gt)+Math.abs($e)>1&&(Ve=!0),u.applyUpdate(ze=>{const et=(ze.leaves??[]).find(tt=>tt.id===ye);et&&(et.position.x=Math.max(0,Math.min(da,De.x+gt)),et.position.y=Math.max(0,Math.min(da,De.y+$e)))},!1)},Qe=()=>{Me.current=!1,document.removeEventListener("pointermove",Ye),document.removeEventListener("pointerup",Qe),Ve&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ye),document.addEventListener("pointerup",Qe);return}}}}if(xe.target===xe.currentTarget){Be?(We.setTouchBgStart({x:xe.clientX,y:xe.clientY}),Y(xe)):Yn?I(xe):(We.setMouseBgStart({x:xe.clientX,y:xe.clientY}),In.current=!0,z.current&&(z.current.style.cursor="grabbing"),Y(xe));return}},onPointerMove:xe=>{if(oe.current||Me.current)return;if(K.current){F(xe);return}if(M.current){E(xe);return}if(C.current){T(xe);return}if(J.current){O(xe);return}if(q.current){Z(xe);return}W(xe),G(xe);const Be=!!u.dragRef?.current||!!K.current||!!M.current||!!C.current||!!J.current||!!q.current||In.current,qe=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Be&&qe){const we=i.flowers.find(pe=>pe.id===f);if(we){const pe=de(xe);if(Je.current&&!gn.current){if(Math.hypot(pe.x-Je.current.x,pe.y-Je.current.y)<pl){const{zone:Te}=ai(pe.x,pe.y,we,i,a);Te==="center"&&(vt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}gn.current=!0,Je.current=null}const{zone:Ae,layerId:De,petalIndex:ye}=ai(pe.x,pe.y,we,i,a),{length:Ve}=kt(we.fabricSquareSize??i.fabricSquareSize),Ye=S0(Ae,a.kind,{hitLayerId:De,flower:we,length:Ve});Ye!=="none"&&(Zt.current=Ye,kn.current=De,$n.current=ye);const Qe=Yd(Ye,"/tsumami/");vt(Qe),z.current&&(z.current.style.cursor=Qe)}}if(!Be&&a.kind==="leaf"&&u.selectedLeafId){const we=u.leaves.find(pe=>pe.id===u.selectedLeafId);if(we){const pe=de(xe);if(Je.current&&!gn.current){if(Math.hypot(pe.x-Je.current.x,pe.y-Je.current.y)<pl)return;gn.current=!0,Je.current=null}const Ae=nm(pe.x,pe.y,we,i);Ae!=="none"&&(vn.current=Ae);const De=$i(Ae,"/tsumami/");vt(De),z.current&&(z.current.style.cursor=De)}}},onPointerUp:xe=>{if(!oe.current&&!Me.current){if(Jl(null),K.current&&Yn&&ga(!1),R(),B(),j(),D(),U(),_(),k(),In.current&&(In.current=!1,z.current&&(z.current.style.cursor=Yn?"crosshair":"grab")),We.touchBgStartRef.current&&xe.pointerType==="touch"){const Be=xe.clientX-We.touchBgStartRef.current.x,qe=xe.clientY-We.touchBgStartRef.current.y;Math.hypot(Be,qe)<Lt&&r({kind:"project"}),We.setTouchBgStart(null);return}if(We.setTouchBgStart(null),We.mouseBgStartRef.current&&xe.pointerType==="mouse"){const Be=xe.clientX-We.mouseBgStartRef.current.x,qe=xe.clientY-We.mouseBgStartRef.current.y;if(We.setMouseBgStart(null),Math.hypot(Be,qe)<el){r({kind:"project"});return}}if(We.setMouseBgStart(null),f){const Be=i.flowers.find(qe=>qe.id===f);if(Be){const qe=de(xe);if(Je.current&&Math.hypot(qe.x-Je.current.x,qe.y-Je.current.y)<pl){const{zone:Qe}=ai(qe.x,qe.y,Be,i,a);Qe==="center"&&(vt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}const{zone:we,layerId:pe,petalIndex:Ae}=ai(qe.x,qe.y,Be,i,a),{length:De}=kt(Be.fabricSquareSize??i.fabricSquareSize),ye=S0(we,a.kind,{hitLayerId:pe,flower:Be,length:De});ye!=="none"&&(Zt.current=ye,kn.current=pe,$n.current=Ae);const Ve=Yd(ye,"/tsumami/");vt(Ve),z.current&&(z.current.style.cursor=Ve)}}}},onPointerLeave:()=>{R(),B(),j(),D(),U(),_(),k(),In.current=!1,We.setTouchBgStart(null),We.setMouseBgStart(null),vt("grab"),Je.current=null,gn.current=!0,Zt.current="none",vn.current="none",kn.current=void 0,$n.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[xe,Be,qe,we]=v.split(/\s+/).map(Number),pe=da;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:xe,y:Be,width:qe,height:we,fill:"white"}),s.jsx("rect",{x:0,y:0,width:pe,height:pe,fill:"black"})]})}),s.jsx("rect",{x:xe,y:Be,width:qe,height:we,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:da,height:da,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:da,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:da,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),y&&(()=>{const xe=an,[Be,qe,we,pe]=v.split(/\s+/).map(Number),Ae=Math.max(we,pe)/xe,ye=[10,20,50,100,200,500,1e3].find(tt=>Ae/tt<=15)??1e3,Ve=Math.floor(Be/xe/ye)*ye-ye,Ye=Math.ceil((Be+we)/xe/ye)*ye+ye,Qe=Math.floor(qe/xe/ye)*ye-ye,Pe=Math.ceil((qe+pe)/xe/ye)*ye+ye,Te=Qe*xe,gt=Pe*xe,$e=Ve*xe,ze=Ye*xe,et=[];for(let tt=Ve;tt<=Ye;tt+=ye){const nt=tt*xe;et.push(s.jsx("line",{x1:nt,y1:Te,x2:nt,y2:gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${tt}`))}for(let tt=Qe;tt<=Pe;tt+=ye){const nt=tt*xe;et.push(s.jsx("line",{x1:$e,y1:nt,x2:ze,y2:nt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${tt}`))}return s.jsx("g",{children:et})})(),s.jsx(Dm,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:z,applyUpdateRef:He,clientToSvgPointRef:ft,stencilDraggingRef:oe,onSelectStencil:u.onSelectStencil}),s.jsx(Nm,{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:Nt,dashSyncToken:L,stageRef:z,multiTouchRef:We.multiTouchRef,clientToSvgPoint:de,togglePetalSelection:fe,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:V,beginScaleDrag:le,beginRotationDrag:ce,beginWidthScaleDrag:me,beginRadiusDrag:be,clickOriginRef:Je,zoneActivatedRef:gn,setZoneCursorValue:vt,setTouchZoneIndicator:Jl,hoverZoneRef:Zt,hoverHitLayerIdRef:kn,hoverHitPetalIndexRef:$n}),s.jsx(Am,{leaves:u.leaves,leafGroups:u.leafGroups,project:i,selection:a,paletteMap:o,dashSyncToken:L,selectedLeafId:u.selectedLeafId,leafGroupHighlightedLeafIds:u.leafGroupHighlightedLeafIds,zoneCursorValue:Nt,stageRef:z,applyUpdateRef:He,clientToSvgPointRef:ft,leafDraggingRef:Me,clickOriginRef:Je,zoneActivatedRef:gn,setZoneCursorValue:vt,onSelectLeaf:u.onSelectLeaf,onShiftSelectLeaf:u.onShiftSelectLeaf,hoverLeafZoneRef:vn}),s.jsx(Tm,{rect:$}),s.jsx(Em,{indicator:ci})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Hd(u,i,a){return Math.min(a,Math.max(i,u))}function Ue({value:u,onChange:i,min:a=-1/0,max:r=1/0,step:o,className:f,...m}){const[w,h]=P.useState(null),d=P.useRef(null),g=P.useCallback(b=>{const z=Number(b);isNaN(z)||i(Hd(z,a,r)),h(null)},[i,a,r]),y=P.useCallback(()=>{h(null)},[]),N=P.useCallback(b=>{const z=o??1,S=(Number(w??u)||0)+z*b,L=Hd(S,a,r),Y=String(z).includes(".")?String(z).split(".")[1].length:0,G=Number(L.toFixed(Y));h(String(G)),i(G)},[w,u,o,a,r,i]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:w??String(u),onChange:b=>h(b.target.value),onFocus:b=>{h(String(u)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{w!==null&&g(w)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),w!==null&&g(w),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),y(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),N(b.key==="ArrowUp"?1:-1))},...m}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),N(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),N(-1)},children:""})]})]})}function cr({title:u,compact:i,children:a}){return s.jsxs("div",{className:i?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),s.jsx("div",{className:"space-y-3",children:a})]})}function Bm({flower:u,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const f=P.useMemo(()=>{const S=[...u.layers||[]].sort(($,V)=>$.order-V.order);if(S.length<2)return{mode:"uniform",step:2};const L=S.map($=>$.scale??1);if(L.every($=>Math.abs($-L[0])<.001))return{mode:"uniform",step:2};const G=S[0],k=S[S.length-1],I=(k.order??1)-(G.order??1);if(I<=0)return{mode:"gradual",step:2};const R=((G.scale??1)-(k.scale??1))/I,K=Math.round(R*i*2)/2;return{mode:"gradual",step:je(K,0,10)}},[u.id]),[m,w]=P.useState(f.mode),[h,d]=P.useState(f.step),[g,y]=P.useState(0);P.useEffect(()=>{w(f.mode),d(f.step),y(0)},[f]);const N=P.useMemo(()=>[...u.layers||[]].sort((S,L)=>S.order-L.order),[u.layers]),b=N[0],z=b?b.order:0,v=P.useMemo(()=>{if(!b)return[];const S=b.scale??1,L=b.radius,Y=new Map;for(const $ of N){const V=$.order-z;if(V===0)Y.set($.id,S);else if(m==="uniform")Y.set($.id,S);else{const W=h/i;Y.set($.id,je(S-V*W,.3,3))}}const{length:G}=kt(i),k=N.length,I=70*Math.PI/180,F=new Map;let R=L;F.set(b.id,L);for(let $=1;$<k;$++){const V=N[$-1],W=Y.get(V.id)??1,_=G*W;let C;if(a===""){const T=k-1-$,j=k>1?T/(k-1)*I:0;C=_*(30/100)*Math.cos(j)}else C=_/3;R=R-C,F.set(N[$].id,Math.max(2,R))}const K=N.map($=>{const V=Y.get($.id)??1,W=Math.round((F.get($.id)??L)*10)/10,_=Math.round(i*V*10)/10;return{id:$.id,name:$.name,order:$.order,effScale:V,effFabricSize:_,effRadius:W}});if(K.length>0){const $=K[K.length-1],V=G*$.effScale,W=Math.floor(V*.28*10)/10;$.effRadius>W&&($.effRadius=W)}return K},[N,b,z,m,h,30,i,a]);return P.useEffect(()=>{g!==0&&(!b||v.length===0||r(S=>{const L=S.flowers.find(G=>G.id===u.id);if(!L)return;for(const G of v){const k=L.layers.find(I=>I.id===G.id);k&&(k.scale=je(G.effScale,.3,3),k.radius=je(G.effRadius,2,120))}const Y=[...L.layers].sort((G,k)=>k.order-G.order);for(let G=1;G<Y.length;G++){const k=Y[G-1],I=Y[G];I.offsetAngle=Fn(k.petalCount,k.offsetAngle,I.petalCount)}}))},[g]),N.length<2?null:s.jsxs(cr,{title:"",children:[s.jsxs(_s,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:S=>{w(S.target.value),y(L=>L+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&s.jsxs(_s,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:S=>{d(S),y(L=>L+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),v.map(S=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:S.name}),s.jsxs("span",{children:[" ",S.effFabricSize,"mm /  ",Math.round(tr(S.effRadius,S.effScale,i)),"mm"]})]},S.id))]})]})}const $d="tsumami_recent_colors_v1",Gs=10;function qm(u){const i=new Set;for(const a of u.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const o of r.petalOverrides)o.colorId&&i.add(o.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function zs(){try{const u=localStorage.getItem($d);if(u){const i=JSON.parse(u);if(Array.isArray(i))return i.slice(0,Gs)}}catch{}return[]}function Gm(u){try{localStorage.setItem($d,JSON.stringify(u.slice(0,Gs)))}catch{}}function Rm(u){const i=zs(),a=[u,...i.filter(r=>r!==u)].slice(0,Gs);Gm(a)}function Kn({palette:u,project:i,selectedColorId:a,onChange:r,size:o="md"}){const[f,m]=P.useState(!1),w=P.useRef(null),[h,d]=P.useState(zs);P.useEffect(()=>{if(!f)return;const v=S=>{w.current&&!w.current.contains(S.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[f]);const g=P.useMemo(()=>qm(i),[i]),y=P.useMemo(()=>{const v=new Set;v.add(a);for(const S of g)v.add(S);for(const S of h)v.add(S);return u.filter(S=>v.has(S.id))},[u,a,g,h]),N=P.useCallback(v=>{Rm(v),d(zs()),r(v)},[r]),b=o==="sm"?"h-4 w-4":"h-5 w-5",z=f?u:y;return s.jsx("div",{ref:w,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[z.map(v=>s.jsx("button",{className:`${b} rounded border-2 ${a===v.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:v.hex},title:v.name,"aria-label":`: ${v.name}`,onClick:()=>N(v.id)},v.id)),u.length>y.length&&s.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(v=>!v),title:f?"":"","aria-label":f?"":"",children:s.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Om({project:u,applyUpdate:i,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(r=>{const o=a.layers.every(f=>f.petalType===r);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const m=f.flowers.find(w=>w.id===a.id);if(m)for(const w of m.layers)w.petalType=r}),children:r},r)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Jd.map(r=>{const o=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==r&&i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;m.placementMode=r;const w=m.fabricSquareSize??f.fabricSquareSize;r===""?m.baseDiameter=er(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=f.baseDiameter),Bh(m.layers,w,r,m.flowerDiameter)},!0)},children:r},r)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ue,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.baseDiameter=r)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[er(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(o=>{const f=o.flowers.find(h=>h.id===a.id);if(!f)return;const m=ri(r);for(const h of f.layers)h.petalCount=r,h.widthScale=m;const w=[...f.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<w.length;h++)w[h].offsetAngle=Fn(w[h-1].petalCount,w[h-1].offsetAngle,w[h].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(o=>{const f=o.flowers.find(w=>w.id===a.id);if(!f)return;f.flowerDiameter=r,f.placementMode===""&&(f.baseDiameter=er(r));const m=[...f.layers].sort((w,h)=>w.order-h.order);X0(m,f.fabricSquareSize??o.fabricSquareSize,r);for(const w of m){const h=f.layers.find(d=>d.id===w.id);h&&(h.radius=w.radius,h.scale=w.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.widthScale=r})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.rotation=r)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.colorId=r})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)if(r.target.checked){if(!m.doublePetal){const w=m._doublePetalCache;m.doublePetal=w??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(w=>w.doublePetal.innerSizeReduction))],o=r.length===1?r[0]:null,f=[...new Set(a.layers.map(w=>w.doublePetal.innerColorId??w.colorId))],m=f.length===1?f[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:w=>i(h=>{const d=h.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(g.doublePetal.innerSizeReduction=je(w,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:m??"",onChange:w=>i(h=>{const d=h.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(w===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=w)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Yh.map(r=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.type=r,r===""&&!f.center.pepCount&&(f.center.pepCount=12),r===""&&!f.center.color2&&(f.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:r},r))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.size=r)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color=r)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color2=r)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.pepCount=r)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Bm,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function km({project:u,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:m}){const w=a,h=[...new Set(w.flatMap(y=>y.layers.map(N=>N.petalType)))],d=h.length===1?h[0]:null,g=y=>{i(N=>{for(const b of w){const z=N.flowers.find(v=>v.id===b.id);z&&y(z)}},!0)};return s.jsxs(cr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[w.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(y=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:y.hex},title:y.name,onClick:()=>g(N=>{for(const b of N.layers)b.colorId=y.id})},y.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:yl.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(N=>{for(const b of N.layers)b.petalType=y}),children:y},y))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:w[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:y=>{const N=ri(y);g(b=>{for(const v of b.layers)v.petalCount=y,v.widthScale=N;const z=[...b.layers].sort((v,S)=>S.order-v.order);for(let v=1;v<z.length;v++)z[v].offsetAngle=Fn(z[v-1].petalCount,z[v-1].offsetAngle,z[v].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:w.map(y=>s.jsxs("div",{children:[y.name," (",y.layers.length,")"]},y.id))}),(()=>{const y=w.map(S=>ma(u,S.id)),N=w.filter(S=>!ma(u,S.id)).map(S=>S.id),b=[...new Set(y.filter(Boolean).map(S=>S.id))],z=N.length===w.length,v=b.length===1&&y.every(S=>S!=null);return s.jsxs(s.Fragment,{children:[z&&w.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(w.map(S=>S.id)),children:""}),v&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&N.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],N),children:[" (+",N.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(b,N),children:[" (",b.length,"",N.length>0?` +${N.length}`:"",")"]})]})})()]})}function Ym({project:u,applyUpdate:i,selectedFlowers:a,groups:r,groupId:o,onUngroupFlowers:f}){const m=r.find(y=>y.id===o);if(!m)return null;const w=a,h=[...new Set(w.flatMap(y=>y.layers.map(N=>N.petalType)))],d=h.length===1?h[0]:null,g=y=>{i(N=>{for(const b of w){const z=N.flowers.find(v=>v.id===b.id);z&&y(z)}},!0)};return s.jsxs(cr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:m.name,onChange:y=>i(N=>{const b=(N.groups??[]).find(z=>z.id===m.id);b&&(b.name=y.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[w.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(y=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:y.hex},title:y.name,onClick:()=>g(N=>{for(const b of N.layers)b.colorId=y.id})},y.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:yl.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(N=>{for(const b of N.layers)b.petalType=y}),children:y},y))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:w[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:y=>{const N=ri(y);g(b=>{for(const v of b.layers)v.petalCount=y,v.widthScale=N;const z=[...b.layers].sort((v,S)=>S.order-v.order);for(let v=1;v<z.length;v++)z[v].offsetAngle=Fn(z[v-1].petalCount,z[v-1].offsetAngle,z[v].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:w.map(y=>s.jsxs("div",{children:[y.name," (",y.layers.length,")"]},y.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(m.id),children:""})]})}function Im({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);w&&(w.name=o.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(o=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);w&&(w.petalType=o)}),children:o},o))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:r.petalCount,onChange:o=>{i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);if(w){w.petalCount=o,w.widthScale=ri(o);const h=[...m.layers].sort((d,g)=>g.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=Fn(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:1,max:200,step:.5,value:Math.round(tr(r.radius,r.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);w&&(w.radius=je(Lh(o,w.scale??1,m.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(r.scale??1)*10)/10,onChange:o=>i(f=>{const m=f.flowers.find(y=>y.id===a.id);if(!m)return;const w=m.layers.find(y=>y.id===r.id);if(!w)return;const h=m.fabricSquareSize??f.fabricSquareSize;w.scale=je(Math.round(o/h*100)/100,.3,3);const d=[...m.layers].sort((y,N)=>y.order-N.order),g=d.findIndex(y=>y.id===w.id);if(g>=0)for(let y=g-1;y>=0;y--){const N=d[y],b=d[y+1],v=kt(h).length*(b.scale??1)/3;N.radius=Math.round((b.radius+v)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);w&&(w.scale=o)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);w&&(w.widthScale=o)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:Number(r.offsetAngle??0).toFixed(1),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);w&&(w.offsetAngle=o)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:r.colorId,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);w&&(w.colorId=o)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);if(w)if(o.target.checked){const h=w._doublePetalCache;w.doublePetal=h??{innerSizeReduction:2},delete w._doublePetalCache}else w.doublePetal&&(w._doublePetalCache={...w.doublePetal}),delete w.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);w?.doublePetal&&(w.doublePetal.innerSizeReduction=je(o,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);w?.doublePetal&&(o===w.colorId?delete w.doublePetal.innerColorId:w.doublePetal.innerColorId=o)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);w&&(w.visible=o.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const w=m.layers.find(h=>h.id===r.id);w&&(w.locked=o.target.checked)})}),""]})]})]})]})}function Hm({project:u,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const o=r,f=o.map(S=>{const L=a.layers.find(Y=>Y.id===S.layerId);return{...S,layer:L}}).filter(S=>S.layer!=null),m=(S,L)=>{const Y=a.layers.find(k=>k.id===S);return Y?(Y?.petalOverrides?.find(k=>k.index===L)??null)?.colorId??Y.colorId:null},w=(S,L)=>{const Y=a.layers.find(k=>k.id===S);return Y?(Y?.petalOverrides?.find(k=>k.index===L)??null)?.petalType??Y.petalType:null},h=f.map(S=>m(S.layerId,S.index)),d=f.map(S=>w(S.layerId,S.index)),g=h.length>0&&h.every(S=>S===h[0]),N=d.length>0&&d.every(S=>S===d[0])?d[0]:null,b=S=>{i(L=>{const Y=L.flowers.find(G=>G.id===a.id);if(Y)for(const G of o){const k=Y.layers.find(F=>F.id===G.layerId);if(!k)continue;k.petalOverrides||(k.petalOverrides=[]);const I=k.petalOverrides.find(F=>F.index===G.index);if(I)S.colorId!==void 0&&(S.colorId===k.colorId?delete I.colorId:I.colorId=S.colorId),S.petalType!==void 0&&(S.petalType===k.petalType?delete I.petalType:I.petalType=S.petalType),!I.colorId&&!I.petalType&&(k.petalOverrides=k.petalOverrides.filter(F=>F.index!==G.index),k.petalOverrides.length===0&&(k.petalOverrides=void 0));else{const F={index:G.index};S.colorId!==void 0&&S.colorId!==k.colorId&&(F.colorId=S.colorId),S.petalType!==void 0&&S.petalType!==k.petalType&&(F.petalType=S.petalType),(F.colorId!==void 0||F.petalType!==void 0)&&k.petalOverrides.push(F)}}},!0)},z=()=>{i(S=>{const L=S.flowers.find(Y=>Y.id===a.id);if(L)for(const Y of o){const G=L.layers.find(k=>k.id===Y.layerId);!G||!G.petalOverrides||(G.petalOverrides=G.petalOverrides.filter(k=>k.index!==Y.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0))}},!0)},v=f.some(S=>S.layer?.petalOverrides?.find(L=>L.index===S.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",v&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(S=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${g&&h[0]===S.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>b({colorId:S.id})},S.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(S=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${N===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:S}),children:S},S))})]}),v&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:z,children:""})]})]})}function Um({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:o}){const f=r?.petalOverrides?.find(y=>y.index===o)??null,m=f?.colorId??r.colorId,w=f?.petalType??r.petalType,h=f!=null,d=y=>{i(N=>{const b=N.flowers.find(S=>S.id===a.id);if(!b)return;const z=b.layers.find(S=>S.id===r.id);if(!z)return;z.petalOverrides||(z.petalOverrides=[]);const v=z.petalOverrides.find(S=>S.index===o);if(v)y.colorId!==void 0&&(v.colorId=y.colorId),y.petalType!==void 0&&(v.petalType=y.petalType),y.innerColorId!==void 0&&(v.innerColorId=y.innerColorId),y.innerSizeReduction!==void 0&&(v.innerSizeReduction=y.innerSizeReduction),v.colorId!==void 0||v.petalType!==void 0||v.innerColorId!==void 0||v.innerSizeReduction!==void 0?(v.colorId===void 0&&delete v.colorId,v.petalType===void 0&&delete v.petalType,v.innerColorId===void 0&&delete v.innerColorId,v.innerSizeReduction===void 0&&delete v.innerSizeReduction):(z.petalOverrides=z.petalOverrides.filter(L=>L.index!==o),z.petalOverrides.length===0&&(z.petalOverrides=void 0));else{const S={index:o};y.colorId!==void 0&&(S.colorId=y.colorId),y.petalType!==void 0&&(S.petalType=y.petalType),y.innerColorId!==void 0&&(S.innerColorId=y.innerColorId),y.innerSizeReduction!==void 0&&(S.innerSizeReduction=y.innerSizeReduction),(S.colorId!==void 0||S.petalType!==void 0||S.innerColorId!==void 0||S.innerSizeReduction!==void 0)&&z.petalOverrides.push(S)}},!0)},g=()=>{i(y=>{const N=y.flowers.find(z=>z.id===a.id);if(!N)return;const b=N.layers.find(z=>z.id===r.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(z=>z.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",o+1,h&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:m,onChange:y=>{y===r.colorId?d({colorId:void 0}):d({colorId:y})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${w===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{y===r.petalType?d({petalType:void 0}):d({petalType:y})},children:y},y))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:y=>i(N=>{const b=N.flowers.find(v=>v.id===a.id);if(!b)return;const z=b.layers.find(v=>v.id===r.id);if(z)if(y.target.checked){const v=z._doublePetalCache;z.doublePetal=v??{innerSizeReduction:2},delete z._doublePetalCache}else z.doublePetal&&(z._doublePetalCache={...z.doublePetal}),delete z.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const y=r.doublePetal,N=f?.innerSizeReduction??y.innerSizeReduction,b=f?.innerColorId??y.innerColorId??m;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ue,{min:1,max:30,step:1,value:N,onChange:z=>{const v=je(z,1,30);v===y.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:v})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:b,size:"sm",onChange:z=>{const v=y.innerColorId??r.colorId;d(z===v?{innerColorId:void 0}:{innerColorId:z})}})]})]})})(),h&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:g,children:""})]})]})}function Zm({project:u,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const o=a,f=m=>{i(w=>{const h=(w.stencils??[]).find(d=>d.id===o.id);h&&Object.assign(h,m)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:m=>f({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>s.jsx("option",{value:m,children:Pd[m]},m))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:m=>f({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>s.jsx("option",{value:m,children:Fd[m]},m))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:m=>f({locked:m.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Km({project:u,applyUpdate:i,selectedLeaf:a,leafGroups:r,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:m}){const w=a,h=g=>{i(y=>{const N=(y.leaves??[]).find(b=>b.id===w.id);N&&g(N)},!0)},d=K0(u,w.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:w.name,onChange:g=>h(y=>{y.name=g.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${w.petalType===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(y=>{y.petalType=g}),children:g},g))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:w.colorId,onChange:g=>h(y=>{y.colorId=g})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((w.fabricSquareSize??u.fabricSquareSize)*(w.scale??1)*10)/10,onChange:g=>h(y=>{const N=y.fabricSquareSize??u.fabricSquareSize;y.scale=je(Math.round(g/N*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(w.scale??1).toFixed(2),onChange:g=>h(y=>{y.scale=g})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(w.widthScale??1).toFixed(2),onChange:g=>h(y=>{y.widthScale=g})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ue,{value:Number(w.rotation).toFixed(1),onChange:g=>h(y=>{y.rotation=g})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!w.doublePetal,onChange:g=>h(y=>{if(g.target.checked){const N=y._doublePetalCache;y.doublePetal=N??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),w.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:w.doublePetal.innerSizeReduction,onChange:g=>h(y=>{y.doublePetal&&(y.doublePetal.innerSizeReduction=je(g,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:w.doublePetal.innerColorId??w.colorId,onChange:g=>h(y=>{y.doublePetal&&(g===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=g)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!w.visible,onChange:g=>h(y=>{y.visible=g.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!w.locked,onChange:g=>h(y=>{y.locked=g.target.checked})}),""]})]}),d?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(w.id),children:""})]}):r.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:g=>{g.target.value&&f(w.id,g.target.value)},children:[s.jsx("option",{value:"",children:"..."}),r.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(w.id),children:""})]})]})}function Xm({project:u,applyUpdate:i,leafIds:a,onGroupLeaves:r}){const o=(u.leaves??[]).filter(f=>a.includes(f.id));return o.length===0?null:s.jsxs(cr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[o.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:"",onChange:f=>i(m=>{for(const w of a){const h=(m.leaves??[]).find(d=>d.id===w);h&&(h.colorId=f)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(f=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(m=>{for(const w of a){const h=(m.leaves??[]).find(d=>d.id===w);h&&(h.petalType=f)}},!0),children:f},f))}),a.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""})]})}function Jm({project:u,applyUpdate:i,selectedLeafGroup:a,onUngroupLeaves:r}){const o=a,f=(u.leaves??[]).filter(m=>o.leafIds.includes(m.id));return s.jsxs(cr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:m=>i(w=>{const h=(w.leafGroups??[]).find(d=>d.id===o.id);h&&(h.name=m.target.value)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ue,{value:Number(o.rotation).toFixed(1),onChange:m=>i(w=>{const h=(w.leafGroups??[]).find(d=>d.id===o.id);h&&(h.rotation=m)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:m=>i(w=>{const h=(w.leafGroups??[]).find(d=>d.id===o.id);h&&(m.target.value?h.linkedFlowerGroupId=m.target.value:delete h.linkedFlowerGroupId)},!0),children:[s.jsx("option",{value:"",children:""}),(u.groups??[]).map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]})]}),s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),s.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(m=>s.jsx("div",{children:m.name},m.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>r(o.id),children:""})]})}function Wm(u){const{project:i,selection:a,applyUpdate:r,selectedFlower:o,selectedFlowers:f,selectedLayer:m,selectedPetalIndex:w,selectedPetals:h}=u;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:d=>r(g=>g.title=d.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{value:i.fabricSquareSize,min:5,max:60,onChange:d=>r(g=>g.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{value:i.baseDiameter,min:10,max:100,onChange:d=>r(g=>g.baseDiameter=d),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Kl(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",Kl(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:d=>r(g=>g.notes=d.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(d=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&o&&s.jsx(Om,{project:i,applyUpdate:r,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&s.jsx(km,{project:i,applyUpdate:r,selectedFlowers:f,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&f.length>0&&s.jsx(Ym,{project:i,applyUpdate:r,selectedFlowers:f,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers}),a.kind==="layer"&&o&&m&&s.jsx(Im,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:m}),a.kind==="petals"&&o&&h.length>0&&s.jsx(Hm,{project:i,applyUpdate:r,selectedFlower:o,selectedPetals:h}),a.kind==="petal"&&o&&m&&w!==null&&s.jsx(Um,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:m,selectedPetalIndex:w}),a.kind==="stencil"&&u.selectedStencil&&s.jsx(Zm,{project:i,applyUpdate:r,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&s.jsx(Km,{project:i,applyUpdate:r,selectedLeaf:u.selectedLeaf,leafGroups:u.leafGroups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Xm,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves}),a.kind==="leafGroup"&&u.selectedLeafGroup&&s.jsx(Jm,{project:i,applyUpdate:r,selectedLeafGroup:u.selectedLeafGroup,onUngroupLeaves:u.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Vm(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Kl(u.baseDiameter,u.fabricSquareSize,i).diameter:lr(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function Qm(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Nh(u.flowerDiameter,u.baseDiameter,i):Dh(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function Pm({palette:u,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:o}){const f=h=>{a(d=>{const g={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(g.baseDiameter=30,g.fabricSquareSize=20,g.layerCount=4,g.petalCount=12):(g.fabricSquareSize=20,g.layerCount=1,g.petalCount=6)),g.flowerDiameter=Vm(g),g})},m=h=>{a(d=>{const g={...d,flowerDiameter:h};return g.fabricSquareSize=Qm(g),g})},w=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&w.push("");const h=Ah(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>h&&w.push(`${h}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Jd.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:h}),children:h},h))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:h=>f({fabricSquareSize:h})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:h=>f({layerCount:h})})]})]}),i.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:h=>f({baseDiameter:h})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:m})]})]}),w.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:w.map((h,d)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||u[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:yl.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),i.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:h=>f({sizeStepMm:h})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}const W0=Rn;(function(u,i){const a=Rn,r=u();for(;;)try{if(-parseInt(a(223))/1*(-parseInt(a(198))/2)+parseInt(a(222))/3*(parseInt(a(217))/4)+parseInt(a(177))/5+parseInt(a(220))/6*(parseInt(a(183))/7)+parseInt(a(229))/8+parseInt(a(199))/9*(-parseInt(a(186))/10)+-parseInt(a(179))/11*(parseInt(a(209))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Y0,814111);const Fm=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Rn;if(a){const f=a[o(178)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Ds=Fm(void 0,function(){const u=Rn,i={UqZxG:"(((.+)+)+)+$"};return Ds.toString()[u(201)](u(230)).toString().constructor(Ds).search(i.UqZxG)});Ds();const e1=W0(193),t1={left:25,right:25},Ns=15,As=15,ir=30;function Y0(){const u=["mZK1nZu2me5vseHTsG","kcGOlISPkYKRksSK","CxriDuO","y3vYCMvUDa","y2HHBMDL","z3D1EMW","mtK1mJeXnu5yEhjdqq","yxbWBhK","mta0mZeYodL1zhjZzLy","yMTMA2y","CgfYC2u","tKDIwLa","mJHdsxDTr3e","Dw5KzwzPBMvK","BgvMDa","mtmWmZeXnZbYEgXxAwi","Cg9PBNrLCNvW","C2v0sxrLBq","kg1PBI13Awr0AdOGnZy4ChGP","Bwf0y2HLCW","y29SlxjLC2L6zq","tKXTrhe","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","z2v0sxrLBq","C3rYAw5NAwz5","Bwf4","C3r5Bgu","odmZmtqYwgrosKTg","ou1TAxn2Dq","BwLU","C2vHCMnO","y3vYC29Y","AhH1DfG","CMvTB3zLrxzLBNrmAxn0zw5LCG","Devqq2y","rvnirvK","CwXSu1C","z2v0qM91BMrPBMDdBgLLBNrszwn0","mtjVq3vYEfu","DxnLCLnLBgvJDa","C3rHCNrxAwr0Ahm","Cg9PBNrLCM1VDMu","DLPquxi","whrvzLi","yM9KEq","qwTYweW","ndi4B2jjyuDk","BM9Uzq","y09hv3i","ndy1odq2wg1ysNrV","y2XPzw50wa","nda3ndzuzvLqyvG","mw1wB1zeuq","DhLAD2i","EgTxwee","t2P2r1O","rgf6CgW","CM91BMq"];return Y0=function(){return u},Y0()}function $m(){const u=W0,i={zOMba:"number",Dazpl:function(a,r){return a-r}};try{const a=localStorage[u(194)](e1);if(a){const r=JSON[u(181)](a);if(typeof r[u(185)]===i.zOMba&&typeof r.right=="number"&&r.left>=Ns&&r.right>=As&&i[u(227)](100,r.left)-r.right>=ir)return r}}catch{}return t1}function Ud(u,i){const a=W0,r={feAOE:function(w,h){return w-h},vZPQr:function(w,h){return w===h},ZlUSi:a(224),NLmDq:function(w,h){return w/h},yfuwg:function(w,h){return w*h}};let o=Math.max(Ns,u),f=Math[a(196)](As,i);const m=r.feAOE(100,o)-f;if(m<ir)if(r[a(213)]("XNebf",r.ZlUSi))_0x17ef8e.current?.();else{const w=ir-m;o-=r[a(192)](w,2),f-=w/2,o=Math[a(196)](Ns,o),f=Math.max(As,f)}return{left:r[a(192)](Math.round(o*100),100),right:Math[a(228)](r.yfuwg(f,100))/100}}function Rn(u,i){u=u-177;const a=Y0();let r=a[u];if(Rn.QYjGEe===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Rn.VmuJUO=o,Rn.eKMwXG={},Rn.QYjGEe=!0}const f=a[0],m=u+f,w=Rn.eKMwXG[m];if(w)r=w;else{const h=function(d){this.THBEiI=d,this.MXfGIZ=[1,0,0],this.JqZtAX=function(){return"newState"},this.zEBTfJ="\\w+ *\\(\\) *{\\w+ *",this.vsQGgG=`['|"].+['|"];? *}`};h.prototype.OldZEg=function(){const d=new RegExp(this.zEBTfJ+this.vsQGgG),g=d.test(this.JqZtAX.toString())?--this.MXfGIZ[1]:--this.MXfGIZ[0];return this.OCMXkf(g)},h.prototype.OCMXkf=function(d){return~d?this.gEnwKu(this.THBEiI):d},h.prototype.gEnwKu=function(d){for(let g=0,y=this.MXfGIZ.length;g<y;g++)this.MXfGIZ.push(Math.round(Math.random())),y=this.MXfGIZ.length;return d(this.MXfGIZ[0])},new h(Rn).OldZEg(),r=Rn.VmuJUO(r),Rn.eKMwXG[m]=r}return r}function eb(){const u=W0,i={qtHuJ:u(189),OjvGZ:u(233),NGbZP:function(z,v){return z===v},AkrXL:function(z,v){return z-v},ESHEY:function(z,v){return z/v},ZMFZa:u(185),gwuzl:function(z,v){return z+v},qllSW:"4|1|0|5|2|3",gMfTx:"pointermove",bkfkf:"pointerup",QRTkc:u(191),YmhdE:function(z,v){return z!==v},xkWXA:u(203),BPPXg:function(z,v){return z(v)},XtUfR:function(z,v){return z(v)},HybjX:function(z,v,S){return z(v,S)},tEPCf:function(z,v,S){return z(v,S)},ltwMT:function(z,v,S){return z(v,S)},cOGWr:function(z,v,S){return z(v,S)}},[a,r]=P.useState($m),o=i.BPPXg(P.useRef,null),f=P.useRef(null),[m,w]=i[u(214)](P.useState,!1),[h,d]=P.useState(()=>typeof window!==u(184)?window.matchMedia("(min-width: 768px)")[u(190)]:!0);i.HybjX(P.useEffect,()=>{const z=u,v=window.matchMedia(i[z(231)]),S=L=>d(L.matches);return v.addEventListener(i[z(226)],S),()=>v[z(204)](z(233),S)},[]),P.useEffect(()=>{const z=u;localStorage[z(188)](e1,JSON[z(195)](a))},[a]);const g=P.useRef(a);i[u(205)](P.useEffect,()=>{g.current=a},[a]);const y=i.ltwMT(P.useCallback,(z,v)=>{const S=u;v.preventDefault();const L=o[S(232)];if(!L)return;f[S(232)]={side:z,startX:v[S(221)],startWidths:{...g.current}},w(!0),document[S(215)].style.cursor=i.QRTkc,document.body[S(197)][S(210)]=S(218);const Y=k=>{const I=S,F=f[I(232)];if(!F)return;const R=L[I(208)]().width;if(i.NGbZP(R,0))return;const K=i[I(216)](k[I(221)],F.startX),$=i[I(206)](K,R)*100;if(i[I(182)](F.side,i.ZMFZa)){const V=i[I(234)](F.startWidths[I(185)],$),W=i[I(216)](100-F[I(211)].right,ir);r(Ud(Math[I(200)](V,W),F[I(211)].right))}else{const V=F[I(211)].right-$,W=i[I(216)](i[I(216)](100,F.startWidths[I(185)]),ir);r(Ud(F[I(211)].left,Math[I(200)](V,W)))}},G=()=>{const k=S,I=i[k(207)].split("|");let F=0;for(;;){switch(I[F++]){case"0":document.body.style.cursor="";continue;case"1":w(!1);continue;case"2":window[k(204)]("pointermove",Y);continue;case"3":window[k(204)](k(187),G);continue;case"4":f.current=null;continue;case"5":document.body[k(197)].userSelect="";continue}break}};window.addEventListener(S(212),Y),window.addEventListener("pointerup",G),N.current=()=>{const k=S;window[k(204)](i.gMfTx,Y),window.removeEventListener(i[k(180)],G),f[k(232)]=null,w(!1),document.body[k(197)][k(202)]="",document.body.style[k(210)]=""}},[]),N=P.useRef(null);P.useEffect(()=>()=>{N.current?.()},[]);const b=i[u(219)](P.useCallback,()=>{const z=u;i.YmhdE(i[z(225)],z(203))?_0x41f603[z(232)]=_0x47d116:i.BPPXg(r,t1)},[]);return{widths:a,containerRef:o,onDividerPointerDown:y,onDividerDoubleClick:b,isDragging:m,isDesktop:h}}function Zd({side:u,onPointerDown:i,onDoubleClick:a,isDragging:r}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>i(u,o),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(u,i){const a=Et,r=u();for(;;)try{if(parseInt(a(249))/1+parseInt(a(170))/2+parseInt(a(229))/3*(-parseInt(a(172))/4)+-parseInt(a(233))/5+parseInt(a(167))/6+parseInt(a(217))/7+-parseInt(a(146))/8*(parseInt(a(159))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(I0,663095);const tb=(function(){let u=!0;return function(i,a){const r=Et;{const o=u?function(){const f=r;if(a){const m=a[f(284)](i,arguments);return a=null,m}}:function(){};return u=!1,o}}})(),Ts=tb(void 0,function(){const u=Et,i={VQvil:"(((.+)+)+)+$"};return Ts[u(205)]().search(i[u(272)]).toString()[u(271)](Ts).search(u(235))});function Et(u,i){u=u-140;const a=I0();let r=a[u];if(Et.jMtGhP===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Et.BVMEMl=o,Et.RrDVyg={},Et.jMtGhP=!0}const f=a[0],m=u+f,w=Et.RrDVyg[m];if(w)r=w;else{const h=function(d){this.Estjtu=d,this.WrNITb=[1,0,0],this.CRfTEx=function(){return"newState"},this.WREAMx="\\w+ *\\(\\) *{\\w+ *",this.uXqthK=`['|"].+['|"];? *}`};h.prototype.llzlkb=function(){const d=new RegExp(this.WREAMx+this.uXqthK),g=d.test(this.CRfTEx.toString())?--this.WrNITb[1]:--this.WrNITb[0];return this.GNhipu(g)},h.prototype.GNhipu=function(d){return~d?this.XGVZiN(this.Estjtu):d},h.prototype.XGVZiN=function(d){for(let g=0,y=this.WrNITb.length;g<y;g++)this.WrNITb.push(Math.round(Math.random())),y=this.WrNITb.length;return d(this.WrNITb[0])},new h(Et).llzlkb(),r=Et.BVMEMl(r),Et.RrDVyg[m]=r}return r}Ts();function I0(){const u=["C3rLBMnPBeLK","D3nTANa","Bgf5","ChvZAa","BgvHDMvZ","DwvovhK","tefPuhi","rvnIz1O","mZa2zxLyBhrV","C29YDa","BxzOwgi","DhPWuwu","ntm1ntC1nuDtyvfPtG","Dw5PzM9YBq","kcGOlISPkYKRksSK","qxLIChy","Bu1kEei","Bg5VEMm","Bwf4","zgLHBwv0zxi","shfZvKO","Dw5ZAgLMDa","zM9YrwfJAa","z2DSD0O","yMfZzurPyw1LDgvY","BgvUz3rO","CMv2zxjZzq","EKv2Ae8","mtiXmte0neL2vvzlCW","C2XPy2u","vuDPEKK","EMH6Dfy","teHXB00","s2TqugK","r2rvANG","vxjbBKS","zfz1tue","CMfKAxvZ","Avb1z1O","Aw5JBhvKzxm","yMfJAW","zMfICMLJu3f1yxjLu2L6zq","A2LUza","weLTs08","wvL0rve","r0rfwM4","uxfWqLG","BgvHzKDYB3vWCW","Cgv0ywXuExbL","A0nysLi","y29UC3rYDwn0B3i","vLf2AwW","DhfyuKK","wvjjC04","B2vSA0i","zMLSDgvY","Bgf5zxjjza","CKLnqKC","z1P4B3q","qxzntuS","ywTuDgW","Bgf5zxjZ","EvPUu3m","yxbWBhK","zfL5Ahy","uvLky2e","zuL6vKK","BM9HExK","tNvZB0e","ChjVAMvJDa","Cez6ANa","u0LMzwO","B3jKzxi","Bw5wqu4","qK1Nwg8","otKWnJmYvLDlvK9g","tfrXEwq","Cgv0ywXdB3vUDa","z3jVDxbZ","Aw5KzxG","DvP6t1C","B2zMC2v0qw5NBgu","tKnLB00","zeH6sLy","C2nHBgu","CgfSzxr0zq","r0P4CMG","yMDzrhe","nJn0qwLbBM4","seLzBLG","C3rLBMnPBa","BKLSz1O","wwPtrLO","y0fQAwS","ugvetg8","zMXVD2vYCW","mtyXmtCYEMHAsuv4","CgXHy2vTzw50tw9Kzq","r25gB1K","mJiWnJq0nePVt2rvDa","BgvHzKLK","mtm4nJHvvxL5vfy","BMfTzq","txvQCfy","q1Lsz3e","BfHOt1O","ywjZ","yxzOvLu","BKndr1e","swXNEvK","uuPtCgq","rhDAvwq","zefMwM4","vufeug4","zMXVD2vYswq","zenruxm","BgvHzKLKCW","Cgv0ywW","zMXVD2vYrgLHBwv0zxi","zMLUza","Bgf5zxi","y01euwW","zMXVD2vYswrZ","B1b2rgO","turbvLe","sgfeA3e","tez0Evi","tML5q2S","BxPMv0W","CxrbAu0","y29Z","Cgv0ywXZ","CM91BMq","z0rOB1O","Dg9tDhjPBMC","zMXVD2vY","rfbHsLC","wejrs0e","C3rLBMnPBhm","ANrmt1i","AMDMvMq","vhvfz2e","zxzLCNK","uuX5v2K","s1vez04","z3jVDxa","ndi5nde4nw9HwenRCW","DfvqBha","44kW44oR44o844oxia","qNHNChe"];return I0=function(){return u},I0()}function nb({project:u,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:o,setExpandedGroups:f,zoom:m,pan:w,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:g,ungroupLeaves:y}){const N=Et,b={mMJxB:function(_,C){return _*C},GDEZn:function(_,C){return _/C},akTtl:function(_,C){return _+C},QLyWi:function(_,C){return _-C},SIfej:function(_,C){return _*C},bgYDq:function(_,C){return _!==C},kPAvo:function(_,C){return _<=C},jgYmn:"DLDEL",MujpV:function(_,C){return _(C)},YRIsN:function(_,C,T){return _(C,T)},UUFMj:function(_,C){return _/C},gDhoZ:function(_,C){return _===C},AvMMK:function(_,C,T,j,M){return _(C,T,j,M)},DwZUd:function(_,C){return _-C},GJxrh:function(_,C,T,j){return _(C,T,j)},dVuMA:function(_,C){return _===C},NiyCk:function(_,C){return _<C},gglwJ:"UiaIM",KuoyY:"KvwGn",ueNTy:function(_,C){return _<C},LbGum:function(_,C){return _>=C},tzpQe:"RhmJy",UrAnK:function(_,C){return _-C},kUVxt:function(_,C){return _>C},CYRgq:function(_,C){return _(C)},bFOlg:function(_,C){return _(C)},Aybpv:N(223),cXoEm:"",DPaJW:"col_green",ESbgZ:function(_,C,T,j){return _(C,T,j)},BMgXo:function(_,C){return _>C},jgfVd:N(278),HIYnX:function(_,C,T,j){return _(C,T,j)},XBQKA:function(_,C){return _===C},BTxXH:function(_,C){return _!==C},dYyhv:"TMalu",UaTGb:"layer",obBUs:function(_,C){return _(C)},lXhOZ:"flower",LTqyd:function(_,C){return _(C)},ONOqe:function(_,C){return _/C},WizIP:function(_,C){return _*C},iPugZ:function(_,C){return _+C},HaDkq:function(_,C){return _/C},PJOBN:N(255),nCCGQ:N(197),mCiww:N(192),uZzOW:function(_,C){return _===C},lnozc:function(_,C,T,j,M){return _(C,T,j,M)},Bxgpq:function(_,C,T,j){return _(C,T,j)},gZxot:function(_,C,T,j){return _(C,T,j)},emgbm:"leaf",bIAWr:"leafGroup",tqXRI:N(225),MDAVQ:function(_,C,T){return _(C,T)},zEvhO:N(166),jtLOR:function(_,C){return _(C)},XImKO:function(_,C){return _===C},QYJca:"project",KZQiT:N(183),TuEga:function(_,C){return _>C},nIlgZ:function(_,C){return _(C)},OoFaz:"grp",zqFaF:function(_,C){return _(C)},mnVAN:N(180),UADPn:function(_,C){return _(C)},wwpzF:function(_,C){return _(C)},qtAiM:function(_,C,T){return _(C,T)},oCIvm:function(_,C){return _(C)},FpWvW:function(_,C){return _/C},jrCVB:function(_,C){return _*C},wkvSk:function(_,C){return _/C},LLtKD:function(_,C){return _===C},HqsVJ:N(261),YYtEQ:"side",NusoA:function(_,C){return _-C},ewKoh:function(_,C){return _(C)},tUPlp:N(161),UGizI:N(254),dHzJV:N(164),RuyDH:function(_,C){return _(C)},NCeoM:function(_,C){return _===C},GnFoY:function(_,C){return _===C},eSOZl:function(_,C){return _===C},pXfmo:function(_,C){return _===C},zJxtq:function(_,C){return _(C)},kCXJR:"petal",pFzjp:"petals",zhztV:function(_,C){return _(C)},CDSWQ:function(_,C){return _===C},yDIiM:function(_,C){return _===C},BZeJw:function(_,C,T){return _(C,T)},avhVU:function(_,C,T){return _(C,T)}},z=_=>{const C=N,T=[..._[C(282)]][C(230)]((O,D)=>O.order-D.order),j=T[0];if(!j)return 28;const M=_.fabricSquareSize??u[C(262)],{length:E}=kt(M),B=b[C(237)](E,j.scale??1);let J;if(_.placementMode==="")J=B/3;else{const D=b.GDEZn(70*Math.PI,180),q=b.akTtl(T.length,1),Z=q-1,U=q>1?Z/b[C(214)](q,1)*D:0;J=b[C(142)](B*(30/100),Math[C(201)](U))}return Math[C(203)](b.mMJxB((j.radius??28)+J,10))/10},v=_=>{const C=N,T={Eqfbb:C(163),FMOIX:function(j,M){return b.bgYDq(j,M)},dCQQs:C(181)};i(j=>{const M=C,E={WnWHE:M(216)};if(j.flowers=(j.flowers||[])[M(276)](B=>B.id!==_),j[M(149)])if(T.Eqfbb==="YjSFZ"){for(const B of j.groups)if(T.FMOIX(T[M(186)],T[M(186)])){if(!_0x2582ec.groups)return;_0x578cf8[M(149)]=_0x4147fd.groups.filter(J=>J.id!==_0x5f3157.groupId)}else B[M(193)]=B.flowerIds.filter(J=>J!==_);j.groups=j.groups[M(276)](B=>B.flowerIds[M(246)]>0)}else _0x154080(B=>{const J=M,O=(B.groups??[])[J(190)](D=>D.id===_0x2a0cc3);if(O)for(const D of _0x43ac22)O[J(193)].includes(D)||O[J(193)][J(224)](D)},!0),_0x4c7545({kind:E.WnWHE,groupId:_0x42e586})},!0),r({kind:"project"}),o(j=>{const M={...j||{}};return delete M[_],M})},S=(_,C)=>{const T=N,j={QqpBX:function(E,B){return E(B)}},M=u.flowers.find(E=>E.id===_);if(M&&b.kPAvo((M.layers||[]).length,1))if(b.jgYmn!==T(275)){b[T(174)](v,_);return}else{j[T(267)](_0xb17029,_0x25f272.leafGroupId);return}b.YRIsN(i,E=>{const B=T,J=(E.flowers||[])[B(190)](O=>O.id===_);J&&(J[B(282)]=(J.layers||[])[B(276)](O=>O.id!==C),J[B(282)][B(250)]().sort((O,D)=>O.order-D[B(143)]).forEach((O,D)=>O.order=D+1))},!0),r({kind:T(206),flowerId:_})},L=_=>{const C=N,T={LAiPr:function(j,M,E,B){return b[Et(157)](j,M,E,B)},DiiEQ:function(j,M){return b[Et(257)](j,M)},bhOLJ:function(j,M,E,B,J){return j(M,E,B,J)},eIzVI:"uniform",mzfWL:function(j,M){return b[Et(198)](j,M)}};if(b[C(158)](b[C(244)],b.KuoyY)){const j=u.flowers[C(190)](U=>U.id===_);if(!j)return;const M=[...j.layers].sort((U,le)=>U[C(143)]-le[C(143)]),E=M[0],B=je(E?.[C(148)]??6,5,24),J=M.map(U=>U.scale??1),O=b[C(226)](J.length,2)||J[C(213)](U=>Math[C(177)](U-J[0])<.001);let D=E?.scale??1;if(!O&&b.LbGum(M.length,2))if(b[C(232)]==="PnTYE"){const le=b.UUFMj(70*_0x1231aa.PI,180),ce=_0x34621b[C(246)]+1,me=ce-1,be=ce>1?b[C(237)](me/b[C(214)](ce,1),le):0;_0x421f0e=_0x2321ef*(30/100)*_0x517b46[C(201)](be)}else{const U=M[b[C(182)](M.length,1)],le=b[C(256)](U[C(143)]??1,E.order??1);if(b.kUVxt(le,0)){const ce=((E.scale??1)-(U.scale??1))/le;D=je(b[C(281)](E.scale??1,ce),.3,3)}}const q=b[C(175)](z,j),Z={id:b.bFOlg(Ot,b[C(236)]),name:"Outer+",order:1,petalType:E?.[C(269)]??b.cXoEm,petalCount:B,radius:q,scale:D,widthScale:ri(B),offsetAngle:E?.[C(152)]??0,colorId:E?.colorId??u[C(156)]?.[0]?.id??b[C(207)],visible:!0,locked:!1};E&&(Z[C(152)]=b[C(228)](Fn,E.petalCount,E[C(152)]??0,B)),b.YRIsN(i,U=>{const le=C,ce=U[le(166)][le(190)](Me=>Me.id===_);if(!ce)return;ce[le(282)].forEach(Me=>Me.order+=1),ce.layers[le(242)](Z);const me=Math.round(T[le(227)](tr,Z.radius,Z.scale,ce[le(262)]??U.fabricSquareSize)),be=ce[le(262)]??U[le(262)],fe=T.DiiEQ(ce[le(168)],"")?T.bhOLJ(lr,be,ce.layers.length,T[le(287)],0):Kl(ce[le(245)]??U[le(245)],be,{layerCount:ce[le(282)][le(246)]})[le(240)];ce.flowerDiameter=Math.max(ce[le(189)]||fe,me);const de=[...ce[le(282)]].sort((Me,He)=>Me.order-He[le(143)]),oe=de.reverse();for(let Me=1;T[le(199)](Me,oe.length);Me++){const He=oe[Me-1],ft=oe[Me];ft.offsetAngle=Fn(He.petalCount,He[le(152)],ft[le(148)])}},!0),b.MujpV(r,{kind:C(191),flowerId:_,layerId:Z.id}),b.CYRgq(o,U=>({...U,[_]:!0}))}else{const j=_0x126443.flowers.find(D=>D.id===_0x29c579);if(!j)return;j[C(282)][C(243)](D=>D[C(143)]+=1),j.layers[C(242)](_0x332fb6);const M=_0x140d61.round(_0xdca733(_0x2d9582[C(258)],_0x1fc146.scale,j.fabricSquareSize??_0xb76e6c.fabricSquareSize)),E=j[C(262)]??_0x1ba4db[C(262)],B=b[C(204)](j.placementMode,"")?b[C(280)](_0x887a8,E,j.layers[C(246)],C(234),0):_0x456835(j[C(245)]??_0x3ec547.baseDiameter,E,{layerCount:j.layers.length}).diameter;j[C(189)]=_0x232c12.max(j[C(189)]||B,M);const J=[...j[C(282)]][C(230)]((D,q)=>D[C(143)]-q.order),O=J.reverse();for(let D=1;D<O[C(246)];D++){const q=O[b[C(182)](D,1)],Z=O[D];Z.offsetAngle=_0x5db141(q.petalCount,q.offsetAngle,Z.petalCount)}}},Y=_=>{const C=N,T=u.flowers[C(190)](E=>E.id===_);if(!T||!T.layers||b.XBQKA(T.layers[C(246)],0))return;if(b.kPAvo(T.layers.length,1))if(b.BTxXH("nswQm",b[C(285)])){v(_);return}else _0x581543.flowerIds=_0x477bdb[C(193)][C(276)](E=>E!==_0x16dca9);const j=[...T[C(282)]][C(230)]((E,B)=>E.order-B.order),M=j[0];M&&(b.YRIsN(i,E=>{const B=C,J=E.flowers[B(190)](q=>q.id===_);if(!J)return;J.layers=J.layers[B(276)](q=>q.id!==M.id),J.layers[B(250)]().sort((q,Z)=>q.order-Z.order).forEach((q,Z)=>q[B(143)]=Z+1);const O=[...J.layers][B(230)]((q,Z)=>q[B(143)]-Z[B(143)]),D=J.fabricSquareSize??E.fabricSquareSize;if(b[B(145)](O[B(246)],0)){b[B(274)](hs,O,D);for(const U of O)if(b.jgfVd!==b[B(211)]){HsxxBF[B(231)](_0x8ba026,_0x272abb);return}else{const le=J[B(282)][B(190)](ce=>ce.id===U.id);le&&(le[B(258)]=U[B(258)])}const q=O[0];J.flowerDiameter=Math.round(tr(q[B(258)],q.scale??1,D));const Z=[...O][B(247)]();for(let U=1;U<Z.length;U++){const le=Z[b[B(182)](U,1)],ce=Z[U];ce.offsetAngle=b[B(160)](Fn,le[B(148)],le[B(152)],ce[B(148)])}}},!0),b[C(208)](a.kind,b.UaTGb)&&a.layerId===M.id?b[C(174)](r,{kind:"flower",flowerId:_}):a.kind==="petal"&&a.layerId===M.id&&b.obBUs(r,{kind:b[C(176)],flowerId:_}))},G=()=>{const _=N,C={PeDLo:"fKbEA"};if(a.kind!==_(140)){if(a[_(263)]===b.emgbm){g(a[_(171)]);return}if(a[_(263)]===b.bIAWr){b.MujpV(y,a.leafGroupId);return}if(a[_(263)]===b[_(273)])if(b.BTxXH("AmjlQ",_(194))){const T=a.leafIds;b[_(195)](i,j=>{const M=_;if(j.leaves=(j.leaves??[])[M(276)](E=>!T.includes(E.id)),j.leafGroups){for(const E of j.leafGroups)E.leafIds=E[M(187)][M(276)](B=>!T[M(260)](B));j.leafGroups=j[M(268)][M(276)](E=>E.leafIds.length>0)}},!0),r({kind:"project"});return}else{const T=[..._0x12383f.layers][_(230)]((O,D)=>O.order-D.order),j=T[0];if(!j)return 28;const M=_0x117758.fabricSquareSize??_0x2435cc[_(262)],{length:E}=b[_(147)](_0x3b74d0,M),B=E*(j.scale??1);let J;if(_0x4b6936[_(168)]==="")J=b[_(266)](B,3);else{const D=b.ONOqe(b.WizIP(70,_0x426b62.PI),180),q=b[_(259)](T[_(246)],1),Z=b.UrAnK(q,1),U=q>1?b.mMJxB(b[_(196)](Z,b[_(214)](q,1)),D):0;J=b[_(237)](B*(30/100),_0x5b5dd3[_(201)](U))}return _0x35fc44[_(203)](b.iPugZ(j.radius??28,J)*10)/10}if(a.kind===b[_(248)]){const T=a[_(193)];i(j=>{const M=_;if(b.PJOBN==="zpYeT"){const E={..._0x1541e9||{}};return delete E[_0x41559a],E}else if(j.flowers=j[M(166)][M(276)](E=>!T[M(260)](E.id)),j[M(149)]){for(const E of j.groups)E.flowerIds=E.flowerIds[M(276)](B=>!T.includes(B));j.groups=j.groups[M(276)](E=>E.flowerIds.length>0)}},!0),b[_(210)](r,{kind:"project"});return}if(b[_(264)](a.kind,"group")){b[_(195)](i,T=>{const j=_;T[j(149)]&&(T.groups=T[j(149)][j(276)](M=>M.id!==a.groupId))},!0),r({kind:b[_(286)]});return}if(b.dVuMA(a.kind,_(161))){i(T=>{const j=_;if(b.BTxXH(b[j(179)],b.mCiww))T.stencils=(T[j(209)]??[]).filter(M=>M.id!==a[j(221)]);else{for(const M of _0x5b424a[j(149)])M.flowerIds=M.flowerIds[j(276)](E=>E!==_0x431d84);_0x351b80[j(149)]=_0x13127c[j(149)].filter(M=>M.flowerIds[j(246)]>0)}},!0),b[_(174)](r,{kind:_(140)});return}if(b[_(208)](a.kind,"petals"))if(b.XBQKA(b.KZQiT,"bnWLX"))_0x7f4465[_(209)]=(_0x36e7db.stencils??[])[_(276)](T=>T.id!==_0x289582);else{r({kind:_(206),flowerId:a[_(185)]});return}if(a.kind===b.lXhOZ){i(T=>{const j=_;if(C[j(165)]==="fKbEA"){if(T.flowers=T[j(166)].filter(M=>M.id!==a[j(185)]),T[j(149)]){for(const M of T.groups)M[j(193)]=M[j(193)].filter(E=>E!==a[j(185)]);T.groups=T.groups[j(276)](M=>M[j(193)].length>0)}}else _0x3bc890({kind:"flower",flowerId:_0x3a2237})},!0),r({kind:_(140)});return}if(a.kind==="layer"||b.dVuMA(a[_(263)],"petal")){const T=u.flowers.find(M=>M.id===a.flowerId),j=T?[...T.layers].sort((M,E)=>M.order-E.order)[0]?.id===a[_(277)]:!1;i(M=>{const E=_,B=M[E(166)].find(J=>J.id===a[E(185)]);if(B&&(B[E(282)]=B.layers.filter(J=>J.id!==a[E(277)]),B[E(282)][E(250)]().sort((J,O)=>J[E(143)]-O.order)[E(243)]((J,O)=>J.order=O+1),b[E(145)](B[E(282)].length,0))){const J=[...B[E(282)]].sort((q,Z)=>q.order-Z[E(143)]),O=B[E(262)]??M.fabricSquareSize;b[E(274)](hs,J,O);for(const q of J){const Z=B.layers.find(U=>U.id===q.id);Z&&(Z.radius=q[E(258)])}if(j){const q=J[0];B[E(189)]=Math.round(b.HIYnX(tr,q[E(258)],q.scale??1,O))}else{const q=b[E(151)](B.placementMode,"")?b[E(238)](lr,O,B[E(282)][E(246)],E(234),0):b[E(228)](Kl,B[E(245)]??M[E(245)],O,{layerCount:B.layers[E(246)]}).diameter;b[E(220)](X0,J,O,B[E(189)]||q);for(const Z of J){const U=B[E(282)].find(le=>le.id===Z.id);U&&(U.radius=Z.radius,U[E(155)]=Z.scale)}}const D=[...J].reverse();for(let q=1;q<D.length;q++){const Z=D[q-1],U=D[q];U.offsetAngle=b[E(279)](Fn,Z.petalCount,Z.offsetAngle,U[E(148)])}}},!0),r({kind:"flower",flowerId:a.flowerId})}}},k=P.useCallback(_=>{const C=N,T=b[C(162)](Ot,b.OoFaz);i(j=>{const M=C;j[M(149)]||(j.groups=[]);const E=j.groups.map(J=>{const O=M,D=J[O(173)].match(/^ (\d+)$/);return D?parseInt(D[1],10):0}),B=b[M(212)](E.length,0)?Math[M(239)](...E)+1:1;j.groups[M(224)]({id:T,name:M(219)+B,flowerIds:[..._]})},!0),b.zqFaF(r,{kind:C(216),groupId:T}),f(j=>({...j,[T]:!0}))},[i,r,f]),I=b.BZeJw(P.useCallback,_=>{const C={qlYmw:function(T,j){return b[Et(184)](T,j)},wsmjp:"project"};i(T=>{const j=Et;if(b.gDhoZ(b[j(144)],j(283)))C.qlYmw(_0x38b19a,{kind:C[j(222)]});else{if(!T[j(149)])return;T[j(149)]=T.groups.filter(M=>M.id!==_)}},!0),b.zqFaF(r,{kind:"project"})},[i,r]),F=P.useCallback((_,C)=>{i(T=>{const j=Et,M=(T[j(149)]??[])[j(190)](E=>E.id===_);if(M)for(const E of C)if(j(253)!=="pXshK")M.flowerIds.includes(E)||M[j(193)][j(224)](E);else{for(const B of _0x12c99b[j(149)])B.flowerIds=B.flowerIds.filter(J=>!_0x5c6c36.includes(J));_0x4f446f.groups=_0xbdb8ed.groups.filter(B=>B.flowerIds.length>0)}},!0),b.wwpzF(r,{kind:"group",groupId:_})},[i,r]),R=P.useCallback((_,C)=>{const T=N,j=_[0],M=_.slice(1);b[T(200)](i,E=>{const B=T;if(!E[B(149)])return;const J=E[B(149)][B(190)](O=>O.id===j);if(J){for(const O of M){const D=E[B(149)].find(q=>q.id===O);if(D)for(const q of D[B(193)])J.flowerIds.includes(q)||J[B(193)].push(q)}for(const O of C)J[B(193)][B(260)](O)||J[B(193)][B(224)](O);E[B(149)]=E.groups[B(276)](O=>!M[B(260)](O.id))}},!0),b.oCIvm(r,{kind:"group",groupId:j}),f(E=>({...E,[j]:!0}))},[i,r,f]),K=(_,C)=>{const T=N,j=b.FpWvW(h.w,h.h),M=520/m,E=b.jrCVB(M,j),B=b[T(196)](-w.x,m),J=-w.y/m,O=B+b.wkvSk(E,2),D=b.akTtl(J,M/2),q=b.LLtKD(C,b[T(241)])?b[T(241)]:b[T(265)],Z=b[T(237)](Qd[_][q].height,an),U=je(O,0,d),le=b.gZxot(je,b[T(289)](D,b[T(266)](Z,2)),0,d),ce={id:b.ewKoh(Ot,"stl"),variant:_,pose:C,position:{x:U,y:le}};i(me=>{const be=T;me[be(209)]||(me[be(209)]=[]),me[be(209)][be(224)](ce)},!0),b[T(175)](r,{kind:b[T(218)],stencilId:ce.id})},$=_=>{const C=N;if(b[C(251)]==="KkPPi")b.MDAVQ(i,T=>{const j=C;T.stencils=(T[j(209)]??[]).filter(M=>M.id!==_)},!0),a.kind===C(161)&&a[C(221)]===_&&r({kind:"project"});else{const T=(_0x46eabc.flowers||[])[C(190)](j=>j.id===_0x27da3a);if(!T)return;T.layers=(T[C(282)]||[]).filter(j=>j.id!==_0x401f84),T[C(282)].slice().sort((j,M)=>j[C(143)]-M.order).forEach((j,M)=>j[C(143)]=M+1)}},V=b[N(178)](P.useCallback,_=>{const C=N;if(b[C(158)](C(288),b[C(154)]))if(a.kind===b.zEvhO){const T=a.flowerIds;if(T.includes(_)){const j=T.filter(M=>M!==_);j.length===0?b.RuyDH(r,{kind:"project"}):b[C(153)](j[C(246)],1)?b[C(175)](r,{kind:C(206),flowerId:j[0]}):r({kind:b[C(248)],flowerIds:j})}else r({kind:b[C(248)],flowerIds:[...T,_]})}else if(a.kind==="flower"){if(b[C(169)](a[C(185)],_))return;r({kind:C(166),flowerIds:[a[C(185)],_]})}else r({kind:b.zEvhO,flowerIds:[_]});else b[C(184)](_0x3abc6c,{kind:b[C(248)],flowerIds:[..._0x3f6b92,_0x5bb560]})},[a,r]);return{deleteFlowerById:v,deleteLayerById:S,computeNewOuterRadius:z,addOuterLayer:L,deleteOuterLayer:Y,deleteSelected:G,groupSelectedFlowers:k,ungroupFlowers:I,addToGroup:F,mergeGroups:R,addStencil:K,deleteStencil:$,handleShiftFlowerSelect:V,togglePetalSelection:(_,C,T,j)=>{const M=N;if(!j){r({kind:M(188),flowerId:_,layerId:C,index:T});return}const E=C+":"+T;if(b.eSOZl(a[M(263)],M(202))&&b[M(169)](a[M(185)],_)){const B=a[M(202)]||[];if(B.some(O=>O.layerId+":"+O[M(150)]===E)){const O=B.filter(D=>D.layerId+":"+D[M(150)]!==E);b.pXfmo(O.length,0)?b.zJxtq(r,{kind:M(206),flowerId:_}):O[M(246)]===1?r({kind:b[M(270)],flowerId:_,layerId:O[0][M(277)],index:O[0][M(150)]}):r({kind:b[M(141)],flowerId:_,petals:O})}else b[M(252)](r,{kind:b.pFzjp,flowerId:_,petals:[...B,{layerId:C,index:T}]})}else if(b.CDSWQ(a[M(263)],b[M(270)])&&b.yDIiM(a.flowerId,_)){const B={layerId:a[M(277)],index:a.index},J={layerId:C,index:T};if(B[M(277)]+":"+B.index===E)return;r({kind:M(202),flowerId:_,petals:[B,J]})}else b.UADPn(r,{kind:"petals",flowerId:_,petals:[{layerId:C,index:T}]})}}}(function(u,i){const a=mn,r=u();for(;;)try{if(parseInt(a(460))/1+parseInt(a(442))/2*(parseInt(a(471))/3)+parseInt(a(467))/4+parseInt(a(421))/5*(-parseInt(a(445))/6)+-parseInt(a(464))/7+parseInt(a(452))/8*(parseInt(a(430))/9)+parseInt(a(443))/10*(-parseInt(a(432))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(H0,799453);const lb=(function(){const u={JjSAO:"ueAHD"};let i=!0;return function(a,r){const o=mn;if(u[o(453)]===o(423)){if(_0x4302ae[o(416)]=(_0x5ce6b4.leaves??[])[o(438)](f=>f.id!==_0x1c3b49),_0x72ee2.leafGroups){for(const f of _0x31ff9b[o(441)])f.leafIds=f[o(439)][o(438)](m=>m!==_0x3e2db2);_0x32ead6.leafGroups=_0x37fb69.leafGroups.filter(f=>f.leafIds.length>0)}}else{const f=i?function(){const m=o;if(r){const w=r[m(473)](a,arguments);return r=null,w}}:function(){};return i=!1,f}}})(),Es=lb(void 0,function(){const u=mn;return Es.toString().search("(((.+)+)+)+$")[u(448)]()[u(424)](Es)[u(417)]("(((.+)+)+)+$")});Es();function H0(){const u=["mtHstvjkC2u","tu9IA3u","yxbWBhK","5yMJ44gK44g+44g/","BgvHzKLK","BgvHDMvZ","C2vHCMnO","wLfKrhu","BgvHzG","CgrRvey","mtbAALnAD2y","C3bSAxq","CefpDeW","y29UC3rYDwn0B3i","sKLWsKy","vxjABwi","Cg9ZAxrPB24","EfLKqKW","BgvUz3rO","mtm0ndi2n01fwgP0yW","ChvZAa","mtGZndHIsMvquhC","ChjVAMvJDa","EffQqu8","ywjZ","CgfSzxr0zq","tM5Su3G","zMLSDgvY","BgvHzKLKCW","r0HoEgG","BgvHzKDYB3vWCW","mte4nZyWz0TVzNve","mta0mJbSELLytNu","v1Pkuu0","mJC5ndKYqwLtCLvt","Aw5JBhvKzxm","y3L3suG","Dg9tDhjPBMC","wwLrAhO","Bw5LCe8","A3jrwNe","nJrLv09Jzwi","sMPtqu8","B0frzuG","yM1rsvi","DKf2Cgm","ExjczgS","yuTnAMe","zMLUza","otCYmZK4sLHOzgLm","y29Sx2DYzwvU","tefpsgu","BgvHzKDYB3vW","mZeYmti1oeT6s2vJAG","CMHYrM0","ze1YCeO","mJiXmtK0mhjdzfvvCW","rKPWDu4","AhLjshK","6jgj44kW44oR44o844oxia"];return H0=function(){return u},H0()}function mn(u,i){u=u-414;const a=H0();let r=a[u];if(mn.ZycExQ===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};mn.unGoGy=o,mn.fsvrzZ={},mn.ZycExQ=!0}const f=a[0],m=u+f,w=mn.fsvrzZ[m];if(w)r=w;else{const h=function(d){this.ENItPs=d,this.kQMjTx=[1,0,0],this.MfASpy=function(){return"newState"},this.wNfuQw="\\w+ *\\(\\) *{\\w+ *",this.cSpKFU=`['|"].+['|"];? *}`};h.prototype.nBMfrZ=function(){const d=new RegExp(this.wNfuQw+this.cSpKFU),g=d.test(this.MfASpy.toString())?--this.kQMjTx[1]:--this.kQMjTx[0];return this.ngjjXr(g)},h.prototype.ngjjXr=function(d){return~d?this.hWztZw(this.ENItPs):d},h.prototype.hWztZw=function(d){for(let g=0,y=this.kQMjTx.length;g<y;g++)this.kQMjTx.push(Math.round(Math.random())),y=this.kQMjTx.length;return d(this.kQMjTx[0])},new h(mn).nBMfrZ(),r=mn.unGoGy(r),mn.fsvrzZ[m]=r}return r}function ab({project:u,applyUpdate:i,selection:a,setSelection:r,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:w}){const h=mn,d={hyIHy:function(L,Y){return L/Y},FJpuN:function(L,Y){return L*Y},GHNxh:function(L,Y){return L/Y},xYdBL:function(L,Y){return L+Y},Wyzpe:"4|1|3|0|2",aKMja:function(L,Y){return L(Y)},QSjkx:h(414),MObku:h(461),JIpJF:h(450),OyXsi:"project",WZJQM:h(416),vztqv:function(L,Y){return L===Y},ZQdDu:"weByN",NnlSx:function(L,Y){return L===Y},WSEFK:h(419),yrBdk:function(L,Y){return L===Y},WwmcX:function(L,Y){return L(Y)},yBOyu:function(L,Y){return L(Y)},owNjK:function(L,Y){return L(Y)},pdkTF:function(L,Y){return L(Y)},ryuSt:h(463),bmQIR:"(((.+)+)+)+$",xQjAO:h(454),dMrpJ:"OWEDx",IlWRs:function(L,Y,G){return L(Y,G)},UrZmb:function(L,Y){return L===Y},mdENR:h(465),HrfxP:function(L,Y){return L(Y)},cywIH:"kkxge",vAvpc:function(L,Y,G){return L(Y,G)}},g=()=>{const L=h,Y=d[L(469)](m.w,m.h),G=520/o,k=d[L(468)](G,Y),I=d[L(440)](-f.x,o),F=-f.y/o;let R=I+d.hyIHy(k,2),K=d[L(428)](F,G/2),$=0;for(;$<50&&(u[L(416)]??[]).some(W=>Math[L(435)](W[L(427)].x-R)<5&&Math.abs(W[L(427)].y-K)<5);){const W=d.Wyzpe[L(422)]("|");let _=0;for(;;){switch(W[_++]){case"0":K=je(K,0,w);continue;case"1":K+=25;continue;case"2":$++;continue;case"3":R=je(R,0,w);continue;case"4":R+=25;continue}break}}const V={id:d[L(458)](Ot,"leaf"),name:"Leaf "+((u.leaves??[]).length+1),position:{x:R,y:K},rotation:135,petalType:d.QSjkx,colorId:u[L(436)]?.[L(459)](W=>W.id===L(461)||W.id==="col_darkgreen")?.id??u.palette?.[0]?.id??d[L(472)],scale:1,widthScale:1,visible:!0,locked:!1};i(W=>{const _=L;W[_(416)]||(W.leaves=[]),W.leaves[_(431)](V)},!0),d.aKMja(r,{kind:"leaf",leafId:V.id})},y=L=>{const Y=h;d[Y(425)]==="WROit"?d[Y(458)](_0x2f3f1f,{kind:"leaves",leafIds:[..._0x155186,_0x323c07]}):(i(G=>{const k=Y;if(G[k(416)]=(G[k(416)]??[])[k(438)](I=>I.id!==L),G.leafGroups){for(const I of G.leafGroups)I.leafIds=I[k(439)].filter(F=>F!==L);G[k(441)]=G.leafGroups[k(438)](I=>I.leafIds[k(429)]>0)}},!0),r({kind:d.OyXsi}))},N=P.useCallback(L=>{const Y=h,G={LAOHe:function(k,I){return k(I)},iJJpW:d[Y(444)]};if(d.vztqv("BuHXx",d[Y(418)])){if(_0x55619f.leafId===_0x4af5ac)return;G[Y(462)](_0x20127e,{kind:G.iJJpW,leafIds:[_0x1eaef7.leafId,_0x119ac3]})}else if(d.NnlSx(a.kind,d.WZJQM)){const k=a.leafIds;if(k[Y(446)](L)){const I=k[Y(438)](F=>F!==L);I[Y(429)]===0?r({kind:Y(433)}):I.length===1?r({kind:d.WSEFK,leafId:I[0]}):r({kind:Y(416),leafIds:I})}else d[Y(458)](r,{kind:"leaves",leafIds:[...k,L]})}else if(a.kind==="leaf"){if(d[Y(457)](a[Y(415)],L))return;d.WwmcX(r,{kind:d.WZJQM,leafIds:[a.leafId,L]})}else d.yBOyu(r,{kind:"leaves",leafIds:[L]})},[a,r]),b=d.vAvpc(P.useCallback,L=>{const Y=h;if(d[Y(437)]("YiQhz",Y(449))){const G=d.owNjK(Ot,"lg"),k=" "+((u[Y(441)]??[])[Y(429)]+1);i(I=>{const F=Y;I.leafGroups||(I[F(441)]=[]),I[F(441)][F(431)]({id:G,name:k,leafIds:[...L],rotation:0})},!0),d.pdkTF(r,{kind:d.ryuSt,leafGroupId:G})}else _0x22daf8.leafIds=_0xb84ba2.leafIds.filter(G=>G!==_0x1a815a)},[u.leafGroups,i,r]),z=P.useCallback(L=>{const Y=h;if(d[Y(434)]!==d[Y(466)])d.IlWRs(i,G=>{const k=Y;G[k(441)]&&(G[k(441)]=G.leafGroups[k(438)](I=>I.id!==L))},!0),d[Y(420)](r,{kind:d.OyXsi});else return _0x33958d.toString()[Y(417)](BljkES[Y(455)])[Y(448)]().constructor(_0x3c1d4c)[Y(417)](BljkES[Y(455)])},[i,r]),v=d[h(456)](P.useCallback,(L,Y)=>{i(G=>{const k=mn;if(d[k(426)]("ynjmG",d.mdENR))_0x20d04b.leafGroups||(_0x67775[k(441)]=[]),_0x27c0a7.leafGroups.push({id:_0x32c043,name:_0x1ef709,leafIds:[..._0x4dcfa9],rotation:0});else{const I=(G[k(441)]??[]).find(F=>F.id===Y);I&&!I.leafIds[k(446)](L)&&I.leafIds[k(431)](L)}},!0)},[i]),S=P.useCallback(L=>{const Y=h;Y(433),i(G=>{const k=Y;if(G[k(441)]){for(const I of G[k(441)])d[k(447)]==="hVtuV"?(oqTcFo[k(451)](_0x429d8c,F=>{F[k(441)]&&(F.leafGroups=F.leafGroups.filter(K=>K.id!==_0x309b6e))},!0),oqTcFo.EGteq(_0x5ab407,{kind:oqTcFo.XSnQY})):I[k(439)]=I.leafIds.filter(F=>F!==L);G.leafGroups=G[k(441)][k(438)](I=>I.leafIds[k(429)]>0)}},!0)},[i]);return{addLeaf:g,deleteLeafById:y,handleShiftLeafSelect:N,groupSelectedLeaves:b,ungroupLeaves:z,addLeafToGroup:v,removeLeafFromGroup:S}}(function(u,i){const a=bn,r=u();for(;;)try{if(-parseInt(a(190))/1*(parseInt(a(187))/2)+parseInt(a(213))/3+-parseInt(a(191))/4+-parseInt(a(224))/5*(-parseInt(a(206))/6)+-parseInt(a(197))/7*(-parseInt(a(177))/8)+-parseInt(a(193))/9+parseInt(a(161))/10*(parseInt(a(214))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(U0,765868);const ib=(function(){const u={buJWK:function(a,r){return a/r},BPCmh:function(a,r){return a!==r}};let i=!0;return function(a,r){const o=bn,f={hnFyp:function(m,w){return m*w},TrzsF:function(m,w){return m*w},zzAKX:function(m,w){return u.buJWK(m,w)}};if(u[o(205)]("yBtml",o(175))){const w=f.hnFyp(70,_0x1c64ce.PI)/180,h=_0x41cfe3>1?f[o(180)](f.zzAKX(_0x9712bc,_0x32f124-1),w):0,d=_0x1facaa[o(211)](h);_0x45090d=f.hnFyp(f.hnFyp(_0x561df0,30/100),d)}else{const m=i?function(){const w=o;if(r){const h=r[w(220)](a,arguments);return r=null,h}}:function(){};return i=!1,m}}})(),Ls=ib(void 0,function(){const u=bn,i={GHUap:"(((.+)+)+)+$"};return Ls[u(170)]()[u(154)](u(194))[u(170)]().constructor(Ls)[u(154)](i[u(168)])});Ls();function bn(u,i){u=u-152;const a=U0();let r=a[u];if(bn.dwiSoi===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};bn.uRWFMp=o,bn.znTcBr={},bn.dwiSoi=!0}const f=a[0],m=u+f,w=bn.znTcBr[m];if(w)r=w;else{const h=function(d){this.vlEDMl=d,this.TdfjQG=[1,0,0],this.wWbujk=function(){return"newState"},this.pTuAQb="\\w+ *\\(\\) *{\\w+ *",this.bbzBDm=`['|"].+['|"];? *}`};h.prototype.FKGRPy=function(){const d=new RegExp(this.pTuAQb+this.bbzBDm),g=d.test(this.wWbujk.toString())?--this.TdfjQG[1]:--this.TdfjQG[0];return this.rMOvwd(g)},h.prototype.rMOvwd=function(d){return~d?this.PDnSOB(this.vlEDMl):d},h.prototype.PDnSOB=function(d){for(let g=0,y=this.TdfjQG.length;g<y;g++)this.TdfjQG.push(Math.round(Math.random())),y=this.TdfjQG.length;return d(this.TdfjQG[0])},new h(bn).FKGRPy(),r=bn.uRWFMp(r),bn.znTcBr[m]=r}return r}function U0(){const u=["EhzRzKO","vfH2wg0","Cg9ZAxrPB24","tgf5zxiG","y29Z","t0rRAwS","mtC5otK5n3zeExL5sq","mtfpzLjrz0q","u0HAy00","BgvUz3rO","rNnuDxC","ChjKD2O","B3jKzxi","yxbWBhK","vMjnuLe","DwjItue","CgXHy2vTzw50tw9Kzq","ndi5nxzyC1HJCG","sfruzNm","twLKzgXL","zMXVD2vYCW","C2L6zvn0zxbnBq","s0zvz1y","sxHdu1m","yMfZzurPyw1LDgvY","CuLLBNy","44or44o844oR","y29Sx3DOAxrL","ChvZAa","C2vHCMnO","vu9Uz2G","suf0wg0","Bgf5zxjdB3vUDa","CMv2zxjZzq","C29YDa","CKLgD3u","nti1odu4mgHRCenOrW","5lI444gK44g+44g/","vMn4AKO","DKzPsw0","se5uufO","sw91ELa","C2nHBgu","r0Hvyxa","zMLUza","Dg9tDhjPBMC","z3jHzhvHBa","tuDduNC","rKrLAgG","CKvAsgG","Euj0BwW","zgLHBwv0zxi","mtC2tfzZEKrJ","uvDJCMO","C2L6zu1Vzgu","vhj6C0y","qxnRyKC","zMXVD2vYrgLHBwv0zxi","rMXVD2vYia","r0PLt1q","zMXVD2vY","tKHID2m","mtiZmty0tLz2AM5Y","EuvpCuK","y29SB3jjza","ogvdAwPJAG","nJeXmdu2ohvOq09lDG","CMfKAxvZ","nti3otaXm2ffwwLZra","kcGOlISPkYKRksSK","tKDhB20","yuDZqMy","mZGYntu3CgvyEufz","sMDprNC","zMfICMLJu3f1yxjLu2L6zq","zfzvsxi","rw1PqLm","Dw5PzM9YBq","DKnKuuy","zfPpu0G","qLbdBwG","nZi5nNnLEfvbAG"];return U0=function(){return u},U0()}function rb({project:u,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:w}){const h=bn,d={rIFwu:function(S,L,Y,G){return S(L,Y,G)},qIenv:function(S,L){return S(L)},FsTuw:function(S,L){return S(L)},FDehh:function(S,L,Y,G){return S(L,Y,G)},EmiBS:function(S,L){return S/L},QWcrj:function(S,L){return S*L},bSGTf:function(S,L){return S*L},VbMRQ:"Center",QrZRU:"Outer+",UtdKQ:function(S,L){return S<L},aGsBf:function(S,L){return S===L},mMpsl:function(S,L,Y,G){return S(L,Y,G)},pWcnT:function(S,L){return S+L},AskbG:function(S,L){return S!==L},JmhzI:h(204),hcGSu:h(215),IouzP:function(S,L){return S-L},dVUIr:function(S,L){return S===L},jTqhK:function(S,L){return S>L},vCdQF:function(S,L){return S/L},UOngh:function(S,L){return S-L},LEmgl:function(S,L){return S/L},nplzG:function(S,L){return S+L},XWVUU:h(172),lIJlL:function(S,L){return S===L},yEOqI:function(S,L){return S===L},ksFEG:function(S,L){return S===L},rEZHh:function(S,L){return S+L},ODkik:"lay",Dhwvz:h(152),kuiZS:function(S,L,Y,G){return S(L,Y,G)},yJxKU:h(156),NHbwc:function(S,L){return S/L},TXvXm:function(S,L){return S*L},ubbMA:function(S,L){return S/L},KFUgV:"flw",GJeOT:function(S,L){return S+L},jljJO:function(S,L){return S(L)},vFiIm:function(S,L){return S(L)},NGGom:"uniform"},[g,y]=d.vFiIm(P.useState,!1),[N,b]=d[h(164)](P.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:u[h(231)],layerCount:1,petalCount:6,petalType:h(162),sizeMode:d[h(195)],sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:g,setShowAddFlowerDialog:y,addFlowerOpts:N,setAddFlowerOpts:b,addFlower:()=>{const S=h,L=u[S(199)],Y=u[S(231)];d[S(232)](b,G=>{const k=S,I={...G,fabricSquareSize:L,baseDiameter:Y};return I.placementMode===""?I.flowerDiameter=d.rIFwu(Kl,Y,L,{layerCount:I.layerCount,sizeMode:I[k(179)],sizeStepMm:I[k(228)]}).diameter:I.flowerDiameter=lr(L,I[k(157)],I[k(179)],I.sizeStepMm),I}),d.FsTuw(y,!0)},confirmAddFlower:()=>{const S=h,L={VcxjJ:"Layer",wxPdQ:function(fe,de){return fe===de},JgOFw:"",HNTPZ:function(fe,de,oe,Me){return d[bn(173)](fe,de,oe,Me)},IxCSS:function(fe,de,oe,Me,He){return fe(de,oe,Me,He)}},{placementMode:Y,layerCount:G,petalCount:k,petalType:I,sizeMode:F,sizeStepMm:R}=N,K=N.fabricSquareSize,{length:$}=kt(K),V=.28,W=d[S(201)](Math.round(d.QWcrj(d.bSGTf($,V),10)),10),_=[],C=[d[S(221)],"Inner",S(226),"Outer",d.QrZRU];let T=W,j=0;for(let fe=0;d.UtdKQ(fe,G);fe++){const de=fe,oe=1;let Me;if(d[S(196)](F,S(202)))Me=oe;else{const bt=d[S(201)](R,K);Me=d.mMpsl(je,d.pWcnT(oe,de*bt),.3,3)}let He;if(fe===0)d[S(181)](S(218),d.JmhzI)?He=W:_0xaba0cd=_0x1bffea;else if(d.aGsBf("QUTjE",d.hcGSu))_0x18e6f3.flowers[S(153)](_0x3e2454);else{const bt=d[S(196)](F,S(171))?je(1+d[S(166)](fe,1)*R/K,.3,3):1,Yt=d.QWcrj($,bt);let Nt;if(d[S(200)](Y,"")){const Zt=70*Math.PI/180,vn=d.jTqhK(G,1)?d[S(203)](fe,d[S(155)](G,1))*Zt:0,kn=Math[S(211)](vn);Nt=d[S(178)](Yt,30/100)*kn}else Nt=d.LEmgl(Yt,3);T=d.nplzG(T,Nt),He=Math.round(d[S(178)](T,10))/10}const ft=d[S(196)](fe,0)?0:d[S(160)](Fn,k,j,k);j=ft;let st;if(G===1)st="Layer";else if(G<=5)if(d.XWVUU!=="MGCRw")_0x122c4b=L[S(163)];else{const bt=d.lIJlL(G,2)?[0,3]:d[S(188)](G,3)?[0,1,3]:d.ksFEG(G,4)?[0,1,2,3]:[0,1,2,3,4];st=C[bt[fe]]??S(210)+d[S(174)](fe,1)}else st=S(210)+d.nplzG(fe,1);_[S(153)]({id:d.qIenv(Ot,d[S(212)]),name:st,order:G-fe,petalType:I,petalCount:k,radius:He,scale:Me,widthScale:d[S(217)](ri,k),offsetAngle:ft,colorId:N[S(189)]||(u.palette?.[0]?.id??d.Dhwvz),visible:!0,locked:!1})}_[S(158)]();const M=[..._][S(159)]((fe,de)=>fe[S(219)]-de.order),E=Y===""?d.kuiZS(Kl,N[S(231)],K,{layerCount:G,sizeMode:F,sizeStepMm:R})[S(176)]:lr(K,G,F,R);X0(M,K,N[S(182)]||E);for(const fe of M)if(d.yJxKU===S(225)){const de=_0x3bd205[S(169)](oe=>oe.id===_0x95bb4c.id);de&&(de[S(192)]=_0x103e5b.radius,de.scale=_0x3b03ba[S(167)])}else{const de=_[S(169)](oe=>oe.id===fe.id);de&&(de[S(192)]=fe[S(192)],de[S(167)]=fe.scale)}const B=m.w/m.h,J=d[S(186)](520,o),O=d[S(208)](J,B),D=-f.x/o,q=d[S(222)](-f.y,o);let Z=D+O/2,U=q+d[S(201)](J,2);const le=25;let ce=0;for(;ce<50&&u.flowers.some(fe=>Math.abs(fe.position.x-Z)<5&&Math.abs(fe[S(209)].y-U)<5);)Z+=le,U+=le,Z=d.kuiZS(je,Z,0,w),U=je(U,0,w),ce++;const me=N[S(182)]||E,be={id:Ot(d[S(229)]),name:S(183)+d[S(184)](u.flowers[S(216)],1),position:{x:Z,y:U},flowerDiameter:me,rotation:0,layers:_,center:{type:S(233),size:6,color:S(152)},fabricSquareSize:K,placementMode:Y,baseDiameter:Y===""?N.baseDiameter:er(me)};i(fe=>{const de=S;if(de(207)!=="tZOSw")fe[de(227)][de(153)](be);else{const oe={..._0x297f62,fabricSquareSize:_0x4acefe,baseDiameter:_0x1832c5};return osOPgr.wxPdQ(oe[de(223)],osOPgr[de(198)])?oe[de(182)]=osOPgr[de(165)](_0x2fcc29,_0x2fffc7,_0x529212,{layerCount:oe.layerCount,sizeMode:oe.sizeMode,sizeStepMm:oe.sizeStepMm})[de(176)]:oe[de(182)]=osOPgr[de(230)](_0x130038,_0x408664,oe[de(157)],oe.sizeMode,oe.sizeStepMm),oe}},!0),a({kind:S(185),flowerId:be.id}),r(fe=>({...fe,[be.id]:!0})),d.jljJO(y,!1)}}}(function(u,i){const a=On,r=u();for(;;)try{if(parseInt(a(253))/1*(parseInt(a(259))/2)+parseInt(a(257))/3+-parseInt(a(274))/4*(-parseInt(a(272))/5)+parseInt(a(238))/6+-parseInt(a(252))/7*(parseInt(a(245))/8)+parseInt(a(251))/9+-parseInt(a(285))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Z0,175766);function Z0(){const u=["twT2rgu","wMzpCMK","Ag9NBuW","Dg9tDhjPBMC","nwjduvjbwa","zMLUza","otaWmdy4EKDStLjy","DwvAq1u","shzNreu","se9dtMS","vK5QCfa","EfrmBgG","zMXVD2vYCW","zMXVD2vYswrZ","zMXVD2vY","BgvHDMvZ","Bgf5zxi","otCZmZu3mfDtt2HmEG","BNr2q1G","tvr5wKe","EwDpEuu","wgHgwuK","zMXVD2vYswq","BgvHzKLK","DfP0BMq","BgvHzG","C3rLBMnPBa","BgvHzKDYB3vWswq","mJaYodqXnhbfC2HxtW","y2zHvgO","BgvHzKDYB3vW","vg95Dxi","BgvHzKDYB3vWCW","A2LUza","q1L5vhm","ndK5nde2AfrLAgPW","swzLBKK","q1jmsNu","s3PUv2O","BuP2s3O","Cgv0ywXZ","mtCZmdq5m2fND0rRra","mJfrsKDwzKK","mJqWmtC1z1juwM9Y","z3jVDxa","C2XJBKO","Bgf5zxjZ","mtaYmJu5oej1A2XUBa","z25qAgG","mMrpuw9fEG","q3v4Dw4","C3PqB00","B2zbvNK","uMrnr1e","uMvqqwm","yxbWBhK","zMLSDgvY","z052rMu"];return Z0=function(){return u},Z0()}const cb=(function(){const u={TcMZT:"HOCNk"};let i=!0;return function(a,r){const o={szPoM:function(m,w){return m===w},xTLlh:"flower",RePAc:u.TcMZT},f=i?function(){const m=On;if(m(277)!==o[m(264)])return o[m(261)](_0x48d7bb.kind,o[m(279)])?new _0x14d222(_0x1ebfee[m(281)][m(266)](w=>w!==_0x408ace.flowerId)):new _0x443099(_0x2c3dba[m(281)]);if(r){const w=r[m(265)](a,arguments);return r=null,w}}:function(){};return i=!1,f}})(),Bs=cb(void 0,function(){const u=On,i={ayCfW:"(((.+)+)+)+$"};return Bs[u(271)]().search(i.ayCfW).toString().constructor(Bs).search("(((.+)+)+)+$")});function On(u,i){u=u-233;const a=Z0();let r=a[u];if(On.NpbPwe===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",N=g+o;for(let b=0,z,v,S=0;v=h.charAt(S++);~v&&(z=b%4?z*64+v:v,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)v=d.indexOf(v);for(let b=0,z=g.length;b<z;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};On.yXfuZs=o,On.wJgsCI={},On.NpbPwe=!0}const f=a[0],m=u+f,w=On.wJgsCI[m];if(w)r=w;else{const h=function(d){this.ViwnKM=d,this.vyeSeD=[1,0,0],this.aUjfmC=function(){return"newState"},this.ucdqOq="\\w+ *\\(\\) *{\\w+ *",this.ImKdzp=`['|"].+['|"];? *}`};h.prototype.bdEKDw=function(){const d=new RegExp(this.ucdqOq+this.ImKdzp),g=d.test(this.aUjfmC.toString())?--this.vyeSeD[1]:--this.vyeSeD[0];return this.XxnkBg(g)},h.prototype.XxnkBg=function(d){return~d?this.wrYcbE(this.ViwnKM):d},h.prototype.wrYcbE=function(d){for(let g=0,y=this.vyeSeD.length;g<y;g++)this.vyeSeD.push(Math.round(Math.random())),y=this.vyeSeD.length;return d(this.vyeSeD[0])},new h(On).bdEKDw(),r=On.yXfuZs(r),On.wJgsCI[m]=r}return r}Bs();function ub(u,i){const a=On,r={ofAVy:function(v,S){return v===S},gNvFe:"layer",CRLJu:"petal",hogmL:function(v,S){return v===S},MkvDe:a(241),tZtnd:a(282),mJvKz:function(v,S){return v===S},gXntG:a(239),ZfOri:a(263),VNjpP:a(260),MTyZA:a(240),gFFhe:function(v,S){return v===S},tuDqC:"group",slcnJ:function(v,S){return v===S},CYyTs:a(280),KznWj:function(v,S){return v===S},gnPhh:function(v,S){return v===S},HvgDE:function(v,S){return v===S},ygOyE:"xwBVL",XhFYI:function(v,S,L){return v(S,L)},ueZCU:function(v,S,L){return v(S,L)},IfenI:function(v,S,L){return v(S,L)},UxlUh:function(v,S,L){return v(S,L)},jjOmD:function(v,S){return v===S},ntvCX:a(250),XHQbH:a(236),GkxYq:function(v,S){return v===S}},o=r[a(275)](P.useMemo,()=>{const v=a;return r[v(262)](i[v(243)],v(282))||r[v(262)](i.kind,r[v(267)])||i.kind===r[v(247)]||r[v(262)](i.kind,v(250))?u.flowers.find(S=>S.id===i.flowerId)??null:null},[u.flowers,i]),f=r[a(246)](P.useMemo,()=>{const v=a;if(r[v(270)](i[v(243)],"flowers"))return u.flowers.filter(S=>i[v(281)].includes(S.id));if(i[v(243)]===v(254))if(r[v(268)]==="Toyur"){const S=(u.groups??[])[v(273)](L=>L.id===i.groupId);if(S)return u.flowers[v(266)](L=>S[v(281)].includes(L.id))}else{const S=_0x422aa9(_0x7b2705,_0x439a7d[v(233)]);if(S)return new _0x3ad3b6(S.leafIds[v(266)](L=>L!==_0x3e7a98[v(233)]))}return[]},[u.flowers,u.groups,i]),m=r.UxlUh(P.useMemo,()=>{const v=a;return r.mJvKz(r.gXntG,"zregC")?_0x25b361.kind===r.tZtnd||_0x57c3d9.kind===r.gNvFe||r.mJvKz(_0x122a2f[v(243)],"petal")||_0x576061[v(243)]===v(250)?_0xae4ed4[v(280)][v(273)](S=>S.id===_0x22a0e0.flowerId)??null:null:i[v(243)]==="leaf"?(u[v(283)]??[]).find(S=>S.id===i[v(233)])??null:null},[u[a(283)],i]),w=P.useMemo(()=>{const v=a;return r[v(269)]!==r[v(278)]?i.kind===r[v(287)]?(u.leafGroups??[])[v(273)](S=>S.id===i.leafGroupId)??null:null:_0x26f5a0.layers.find(S=>S.id===_0x3b317c.layerId)??null},[u.leafGroups,i]),h=P.useMemo(()=>{const v=a;return o&&(i.kind==="layer"||r.gFFhe(i[v(243)],"petal"))?o[v(256)][v(273)](S=>S.id===i.layerId)??null:null},[o,i]),d=r.KznWj(i[a(243)],r.CRLJu)?i.index:null,g=r.jjOmD(i[a(243)],r[a(286)])?i[a(250)]:[],y=r[a(249)](i.kind,r.XHQbH)?(u.stencils??[]).find(v=>v.id===i.stencilId)??null:null,N=r[a(262)](i.kind,r[a(234)])||r[a(276)](i[a(243)],r.gNvFe)||i[a(243)]==="petal"||r.GkxYq(i.kind,"petals")?i[a(290)]:null,b=r[a(289)](P.useMemo,()=>{const v=a;if(i[v(243)]===r.tuDqC){const S=(u.groups??[]).find(L=>L.id===i.groupId);if(S)return new Set(S.flowerIds)}if(r[v(255)](i.kind,r[v(244)]))return new Set(i[v(281)]);if(r.slcnJ(i[v(243)],"flower")||r[v(248)](i.kind,v(284))||r[v(258)](i[v(243)],"petal")||r[v(248)](i[v(243)],v(250))){const S=ma(u,i[v(290)]);if(S)return i[v(243)]===r[v(234)]?new Set(S[v(281)].filter(L=>L!==i.flowerId)):new Set(S[v(281)])}return new Set},[i,u]),z=P.useMemo(()=>{const v=a;if(r[v(276)](i[v(243)],"leafGroup")){const S=(u[v(242)]??[])[v(273)](L=>L.id===i[v(237)]);if(S)return new Set(S.leafIds)}if(i[v(243)]===v(235)){if(r.ygOyE!==r[v(288)])return(_0x135d41.leaves??[]).find(S=>S.id===_0xfbb0a9[v(233)])??null;{const S=r[v(289)](K0,u,i[v(233)]);if(S)return new Set(S.leafIds[v(266)](L=>L!==i.leafId))}}return new Set},[i,u]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:m,selectedLeafGroup:w,selectedLayer:h,selectedPetalIndex:d,selectedPetals:g,selectedStencil:y,selectedFlowerId:N,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:z}}function sb(u){const{project:i,selection:a,setSelection:r,applyUpdate:o}=u,f=P.useMemo(()=>new Map((i.palette||[]).map(he=>[he.id,he])),[i.palette]),{widths:m,containerRef:w,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:g,isDesktop:y}=eb(),N=P.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[b,z]=P.useState({});P.useEffect(()=>{try{const _e=localStorage.getItem(N);if(_e){const Ze=JSON.parse(_e);if(Ze&&typeof Ze=="object"){z(Ze);return}}}catch{}const he=i.flowers?.[0];he&&z({[he.id]:!0})},[N]),P.useEffect(()=>{try{localStorage.setItem(N,JSON.stringify(b))}catch{}},[N,b]),P.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const he=a.flowerId;z(_e=>_e?.[he]?_e:{..._e,[he]:!0})}a.kind==="flowers"&&z(he=>{const _e={...he};for(const Ze of a.flowerIds)_e[Ze]=!0;return _e})},[a]);const v=he=>b?.[he]??!1,S=he=>z(_e=>({..._e,[he]:!(_e?.[he]??!1)})),L=P.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[Y,G]=P.useState({});P.useEffect(()=>{try{const _e=localStorage.getItem(L);if(_e){const Ze=JSON.parse(_e);if(Ze&&typeof Ze=="object"){G(Ze);return}}}catch{}const he=i.groups??[];if(he.length>0){const _e={};for(const Ze of he)_e[Ze.id]=!0;G(_e)}},[L]),P.useEffect(()=>{try{localStorage.setItem(L,JSON.stringify(Y))}catch{}},[L,Y]);const k=he=>Y?.[he]??!0,I=he=>G(_e=>({..._e,[he]:!(_e?.[he]??!0)})),F=P.useRef({flowerId:null,timer:null}),R=he=>{const _e=F.current.timer;_e&&window.clearTimeout(_e),F.current.flowerId=he,F.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:he}),z(Ze=>({...Ze,[he]:!0})),F.current.timer=null,F.current.flowerId=null},200)},K=he=>{const _e=F.current.timer;_e&&F.current.flowerId===he&&window.clearTimeout(_e),F.current.timer=null,F.current.flowerId=null,r({kind:"flower",flowerId:he}),S(he)},$=P.useRef(null),[V,W]=P.useState({w:520,h:520});P.useEffect(()=>{const he=$.current;if(!he)return;const _e=new ResizeObserver(Ze=>{for(const Wt of Ze){const{width:_t,height:rn}=Wt.contentRect;_t>0&&rn>0&&W({w:_t,h:rn})}});return _e.observe(he),()=>_e.disconnect()},[]);const _=he=>{const _e=$.current;if(!_e)return{x:0,y:0};const Ze=_e.createSVGPoint();Ze.x=he.clientX,Ze.y=he.clientY;const Wt=_e.getScreenCTM();if(!Wt)return{x:0,y:0};const _t=Ze.matrixTransform(Wt.inverse());return{x:_t.x,y:_t.y}},C=500*an,T=-300*an,j=800*an,M=P.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[E,B]=P.useState(6),[J,O]=P.useState(M[6]),D=P.useCallback(he=>{B(_e=>{const Ze=typeof he=="function"?he(_e):he;return O(M[Ze]),Ze})},[M]),q=P.useCallback(he=>{const _e=je(he,M[0],M[M.length-1]);O(_e);let Ze=0,Wt=Math.abs(M[0]-_e);for(let _t=1;_t<M.length;_t++){const rn=Math.abs(M[_t]-_e);rn<Wt&&(Ze=_t,Wt=rn)}B(Ze)},[M]),[Z,U]=P.useState({x:0,y:0}),[le,ce]=P.useState(!0),[me,be]=P.useState(!1),fe=P.useRef(null),de=P.useMemo(()=>{const he=V.w/V.h,_e=520,Ze=_e*he;return(Wt,_t=J)=>{const rn=je(Wt.x,-(j*_t-Ze),-T*_t),ui=je(Wt.y,-(j*_t-_e),-T*_t);return{x:rn,y:ui}}},[V,J,T,j]),oe=P.useMemo(()=>de(Z),[Z,de]),Me=P.useCallback(he=>U(he),[]),He=P.useMemo(()=>{const he=V.w/V.h,_e=520,Ze=_e*he,Wt=-oe.x/J,_t=-oe.y/J;return`${Wt} ${_t} ${Ze/J} ${_e/J}`},[J,oe,V]),{addLeaf:ft,deleteLeafById:st,handleShiftLeafSelect:bt,groupSelectedLeaves:Yt,ungroupLeaves:Nt,addLeafToGroup:vt,removeLeafFromGroup:Zt}=ab({project:i,applyUpdate:o,selection:a,setSelection:r,zoom:J,pan:oe,stageSize:V,CANVAS_MAX_SVG:C}),{showAddFlowerDialog:vn,setShowAddFlowerDialog:kn,addFlowerOpts:$n,setAddFlowerOpts:Je,addFlower:gn,confirmAddFlower:pl}=rb({project:i,applyUpdate:o,setSelection:r,setExpandedFlowers:z,zoom:J,pan:oe,stageSize:V,CANVAS_MAX_SVG:C}),{selectedFlower:Xl,selectedFlowers:Yn,selectedLeaf:ga,selectedLeafGroup:In,selectedLayer:ci,selectedPetalIndex:Jl,selectedPetals:el,selectedStencil:Lt,selectedFlowerId:We,groupHighlightedFlowerIds:xe,leafGroupHighlightedLeafIds:Be}=ub(i,a),{deleteFlowerById:qe,deleteLayerById:we,addOuterLayer:pe,deleteOuterLayer:Ae,deleteSelected:De,groupSelectedFlowers:ye,ungroupFlowers:Ve,addToGroup:Ye,mergeGroups:Qe,addStencil:Pe,deleteStencil:Te,handleShiftFlowerSelect:gt,togglePetalSelection:$e}=nb({project:i,applyUpdate:o,selection:a,setSelection:r,setExpandedFlowers:z,setExpandedGroups:G,zoom:J,pan:oe,stageSize:V,CANVAS_MAX_SVG:C,deleteLeafById:st,ungroupLeaves:Nt}),ze=rm({project:i,selection:a,setSelection:r,applyUpdate:o,dragRef:u.dragRef,zoom:J,pan:oe,setPan:Me,stageRef:$,clientToSvgPoint:_,togglePetalSelection:$e}),[et,tt]=P.useState(0),nt=a.kind,yn=nt==="flower"?a.flowerId:null,ya=nt==="flowers"?a.flowerIds?.join(","):null,Wl=nt==="layer"||nt==="petal"?a.layerId:null,pn=nt==="petal"?a.index:null,zt=nt==="petals"?a.petals?.length:null;P.useEffect(()=>{nt!=="project"&&tt(Date.now())},[nt,yn,ya,Wl,pn,zt]),P.useEffect(()=>{if(!fe.current)return;const he=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!he)return;const _e=fe.current.querySelector(`[data-flower-id="${he}"]`);_e&&_e.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const It=P.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[et]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:w,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:y?{width:`${m.left}%`}:void 0,children:s.jsx(um,{project:i,selection:a,setSelection:r,expandedFlowers:b,setExpandedFlowers:z,isExpanded:v,toggleExpanded:S,scheduleFlowerRowClick:R,handleFlowerRowDoubleClick:K,addFlower:gn,deleteSelected:De,addOuterLayer:pe,deleteOuterLayer:Ae,deleteFlowerById:qe,deleteLayerById:we,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:fe,groups:i.groups??[],expandedGroups:Y,isGroupExpanded:k,toggleGroupExpanded:I,onSelectGroup:he=>r({kind:"group",groupId:he}),onUngroupFlowers:Ve,leaves:i.leaves??[],leafGroups:i.leafGroups??[],onSelectLeaf:he=>r({kind:"leaf",leafId:he}),onSelectLeafGroup:he=>r({kind:"leafGroup",leafGroupId:he}),onAddLeaf:ft,onDeleteLeaf:st})}),s.jsx(Zd,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:g}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Lm,{project:i,selection:a,setSelection:r,applyUpdate:o,paletteMap:f,selectedFlowerId:We,zoom:J,setZoom:q,zoomLevel:E,setZoomLevel:D,ZOOM_LEVELS:M,pan:oe,panRaw:Z,setPan:Me,showGrid:le,setShowGrid:ce,showHelp:me,setShowHelp:be,stageRef:$,viewBox:He,dashSyncToken:et,dashDelay:It,beginPan:ze.beginPan,updatePan:ze.updatePan,endPan:ze.endPan,beginMarquee:ze.beginMarquee,updateMarquee:ze.updateMarquee,endMarquee:ze.endMarquee,marqueeRef:ze.marqueeRef,marqueeRect:ze.marqueeRect,beginFlowerDrag:ze.beginFlowerDrag,updateFlowerDrag:ze.updateFlowerDrag,endFlowerDrag:ze.endFlowerDrag,scaleDragRef:ze.scaleDragRef,beginScaleDrag:ze.beginScaleDrag,updateScaleDrag:ze.updateScaleDrag,endScaleDrag:ze.endScaleDrag,rotationDragRef:ze.rotationDragRef,beginRotationDrag:ze.beginRotationDrag,updateRotationDrag:ze.updateRotationDrag,endRotationDrag:ze.endRotationDrag,widthScaleDragRef:ze.widthScaleDragRef,beginWidthScaleDrag:ze.beginWidthScaleDrag,updateWidthScaleDrag:ze.updateWidthScaleDrag,endWidthScaleDrag:ze.endWidthScaleDrag,radiusDragRef:ze.radiusDragRef,beginRadiusDrag:ze.beginRadiusDrag,updateRadiusDrag:ze.updateRadiusDrag,endRadiusDrag:ze.endRadiusDrag,togglePetalSelection:$e,clientToSvgPoint:_,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:Pe,onDeleteStencil:Te,onSelectStencil:he=>r({kind:"stencil",stencilId:he}),handleShiftFlowerSelect:gt,groupHighlightedFlowerIds:xe,leaves:i.leaves??[],leafGroups:i.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Be,onSelectLeaf:he=>r({kind:"leaf",leafId:he}),onShiftSelectLeaf:bt})}),s.jsx(Zd,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:g}),s.jsx("div",{className:"min-w-0 shrink-0",style:y?{width:`${m.right}%`}:void 0,children:s.jsx(Wm,{project:i,selection:a,applyUpdate:o,selectedFlower:Xl,selectedFlowers:Yn,selectedLayer:ci,selectedPetalIndex:Jl,selectedPetals:el,selectedStencil:Lt,onDeleteStencil:Te,groups:i.groups??[],onGroupFlowers:ye,onUngroupFlowers:Ve,onAddToGroup:Ye,onMergeGroups:Qe,selectedLeaf:ga,selectedLeafGroup:In,leafGroups:i.leafGroups??[],onDeleteLeaf:st,onGroupLeaves:Yt,onUngroupLeaves:Nt,onAddLeafToGroup:vt,onRemoveLeafFromGroup:Zt})})]}),vn&&s.jsx(Pm,{palette:i.palette,addFlowerOpts:$n,setAddFlowerOpts:Je,onConfirm:pl,onCancel:()=>kn(!1)}),me&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>be(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:he=>he.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>be(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([he,_e])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:he}),s.jsx("td",{className:"py-2 text-neutral-700",children:_e})]},he))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function xb({cg:u}){const[i,a]=P.useState("w"),[r,o]=P.useState(""),f=u.totalAreaCm2,m=parseFloat(r),h=r!==""&&Number.isFinite(m)&&m>0?Math.round(f/m*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(d=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function ob(u){const{recipe:i}=u;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[i.colors.map(a=>s.jsx(xb,{cg:a},a.colorId)),i.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function fb(u){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function db(u){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function hb(u){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function mb(){const[u,i]=P.useState("home"),[a,r]=P.useState([]),[o,f]=P.useState(null),[m,w]=P.useState({kind:"project"}),[h,d]=P.useState([]),[g,y]=P.useState(0),N=P.useRef(o),b=P.useRef(h),z=P.useRef(g);P.useEffect(()=>{N.current=o},[o]),P.useEffect(()=>{b.current=h},[h]),P.useEffect(()=>{z.current=g},[g]);const v=P.useRef(null),S=P.useRef(null),L=P.useRef(null),Y=P.useRef(null),[G,k]=P.useState(null);P.useEffect(()=>{const O=G?window.setTimeout(()=>k(null),2200):null;return()=>{O&&window.clearTimeout(O)}},[G]),P.useEffect(()=>{r(nr())},[]);function I(O){const D=JSON.stringify(O);d([D]),y(0)}function F(O,D=!0){if(!D){f(de=>{if(!de)return de;const oe=Zl(de);return O(oe),oe.updatedAt=w0(),oe});return}const q=N.current;if(!q)return;const Z=Zl(q);O(Z),Z.updatedAt=w0(),f(Z);const U=b.current,le=z.current;if(U.length===0){I(Z);return}const ce=JSON.stringify(Z);let be=[...U.slice(0,le+1),ce];const fe=50;be.length>fe&&(be=be.slice(be.length-fe)),d(be),y(be.length-1)}function R(){y(O=>{if(O<=0)return O;const D=O-1,q=b.current[D];return q&&f(ha(JSON.parse(q))),k("Undo"),D})}function K(){y(O=>{if(O>=b.current.length-1)return O;const D=O+1,q=b.current[D];return q&&f(ha(JSON.parse(q))),k("Redo"),D})}function $(){if(!o)return;const O=Hh(o);r(nr()),k(O?"Saved":" ")}function V(){if(!o)return;const O=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),D=URL.createObjectURL(O),q=document.createElement("a");q.href=D,q.download=`${o.title||"tsumami"}.json`,q.click(),URL.revokeObjectURL(D),k("JSON exported")}function W(O){const D=new FileReader;D.onload=()=>{try{const q=JSON.parse(String(D.result??""));if(!q||typeof q!="object"||!Array.isArray(q.flowers))throw new Error("Invalid JSON");const Z=ha(q);f(Z),w({kind:"project"}),I(Z),i("editor"),k("Imported")}catch{k("Import failed")}},D.readAsText(O)}function _(O){const D=ha(O);f(D),w({kind:"project"}),I(D),i("editor")}function C(O){return O&&(O.kind==="flower"||O.kind==="layer"||O.kind==="petal")?O.flowerId:null}function T(){if(!o)return;const O=C(m);if(!O)return;const D=o.flowers.find(q=>q.id===O);D&&(S.current=Zl(D),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:D},null,2)).catch(()=>{}),k("Flower copied"))}function j(){if(!o||m.kind!=="leaf")return;const O=(o.leaves??[]).find(D=>D.id===m.leafId);O&&(L.current=Zl(O),k("Leaf copied"))}function M(){if(!o)return;const O=S.current;if(!O){k("Nothing to paste");return}const D=Rh(O,{x:12+Math.random()*10,y:12+Math.random()*10});F(q=>{q.flowers.push(D)},!0),w({kind:"flower",flowerId:D.id}),k("Flower pasted")}function E(){if(!o)return;const O=L.current;if(!O)return;const D=Ot("leaf"),q={...Zl(O),id:D,name:O.name+" (copy)",position:{x:O.position.x+30,y:O.position.y+30}};F(Z=>{Z.leaves||(Z.leaves=[]),Z.leaves.push(q)},!0),w({kind:"leaf",leafId:q.id}),k("Leaf pasted")}function B(O){if(!o)return;const D=C(m);D&&(F(q=>{const Z=q.flowers.findIndex(me=>me.id===D);if(Z<0)return;const U=q.flowers,le=U[Z];if(!le)return;if(U.splice(Z,1),O==="front"){U.push(le);return}if(O==="back"){U.unshift(le);return}if(O==="forward"){if(Z>=U.length){U.push(le);return}U.splice(Z+1,0,le);return}const ce=je(Z-1,0,U.length);U.splice(ce,0,le)},!0),k(O==="front"?"Brought to front":O==="back"?"Sent to back":O==="forward"?"Moved forward":"Moved backward"))}P.useEffect(()=>{function O(q){const Z=q;if(!Z)return!1;const U=String(Z.tagName||"").toLowerCase();return U==="input"||U==="textarea"||U==="select"||!!Z.isContentEditable}function D(q){if(!(O(q.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?q.metaKey:q.ctrlKey))){if(u==="editor"){if(q.key.toLowerCase()==="c"){q.preventDefault(),m.kind==="leaf"?j():T();return}if(q.key.toLowerCase()==="v"){q.preventDefault(),L.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="leafGroup"||!S.current)?E():M();return}}q.key.toLowerCase()==="z"&&(q.preventDefault(),q.shiftKey?K():R()),q.key.toLowerCase()==="s"&&(q.preventDefault(),$())}}return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[o,h,g,m,u]);const J=P.useMemo(()=>o?Kh(o):null,[o]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(Qh,{view:u,onNavigate:i,project:o,onSave:$,onLoad:()=>i("home"),onImportJson:()=>Y.current?.click(),onExportJson:V,onExportSvg:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&o&&Jh(O,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&o&&Wh(O,`${o.title||"tsumami"}.png`)}}),s.jsx("input",{ref:Y,type:"file",accept:"application/json",className:"hidden",onChange:O=>{const D=O.target.files?.[0];D&&W(D),O.currentTarget.value=""}}),G&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:G}),s.jsxs("main",{className:"flex-1",children:[u==="home"&&s.jsx(Ph,{saved:a,onNew:()=>i("new"),onOpen:O=>{const D=ha(Zl(O));f(D),w({kind:"project"}),I(D),i("editor")},onDelete:O=>{Uh(O),r(nr()),k("Deleted")}}),u==="new"&&s.jsx(Fh,{onBack:()=>i("home"),onCreate:O=>{const D=Gh({title:O});_(D)}}),u==="editor"&&o&&s.jsx(sb,{project:o,selection:m,setSelection:w,applyUpdate:F,onGoRecipe:()=>i("recipe"),onImport:W,dragRef:v,onCopyFlower:T,onPasteFlower:M,onArrangeFlower:B,canPasteFlower:!!S.current,onUndo:R,onRedo:K,canUndo:g>0,canRedo:g<h.length-1}),u==="recipe"&&o&&J&&s.jsx(ob,{project:o,recipe:J,onBack:()=>i("editor"),onExportJson:V}),u==="terms"&&s.jsx(fb,{onBack:()=>i("home")}),u==="privacy"&&s.jsx(db,{onBack:()=>i("home")}),(u==="editor"||u==="recipe")&&!o&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&s.jsx(hb,{onNavigate:i})]})}class bb extends P.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}ph.createRoot(document.getElementById("root")).render(s.jsx(P.StrictMode,{children:s.jsx(bb,{children:s.jsx(mb,{})})}));

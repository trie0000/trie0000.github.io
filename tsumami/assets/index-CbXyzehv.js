(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();function m2(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var as={exports:{}},er={};var Nd;function b2(){if(Nd)return er;Nd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,o,f){var p=null;if(f!==void 0&&(p=""+f),o.key!==void 0&&(p=""+o.key),"key"in o){f={};for(var v in o)v!=="key"&&(f[v]=o[v])}else f=o;return o=f.ref,{$$typeof:c,type:i,key:p,ref:o!==void 0?o:null,props:f}}return er.Fragment=r,er.jsx=a,er.jsxs=a,er}var Ad;function g2(){return Ad||(Ad=1,as.exports=b2()),as.exports}var s=g2(),is={exports:{}},Ne={};var Ld;function v2(){if(Ld)return Ne;Ld=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function C(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,h={};function T(z,E,O){this.props=z,this.context=E,this.refs=h,this.updater=O||D}T.prototype.isReactComponent={},T.prototype.setState=function(z,E){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,E,"setState")},T.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function R(){}R.prototype=T.prototype;function k(z,E,O){this.props=z,this.context=E,this.refs=h,this.updater=O||D}var G=k.prototype=new R;G.constructor=k,b(G,T.prototype),G.isPureReactComponent=!0;var X=Array.isArray;function K(){}var Z={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function P(z,E,O){var U=O.ref;return{$$typeof:c,type:z,key:E,ref:U!==void 0?U:null,props:O}}function ie(z,E){return P(z.type,E,z.props)}function J(z){return typeof z=="object"&&z!==null&&z.$$typeof===c}function q(z){var E={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(O){return E[O]})}var Y=/\/+/g;function S(z,E){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):E.toString(36)}function g(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(K,K):(z.status="pending",z.then(function(E){z.status==="pending"&&(z.status="fulfilled",z.value=E)},function(E){z.status==="pending"&&(z.status="rejected",z.reason=E)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function M(z,E,O,U,W){var le=typeof z;(le==="undefined"||le==="boolean")&&(z=null);var xe=!1;if(z===null)xe=!0;else switch(le){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(z.$$typeof){case c:case r:xe=!0;break;case _:return xe=z._init,M(xe(z._payload),E,O,U,W)}}if(xe)return W=W(z),xe=U===""?"."+S(z,0):U,X(W)?(O="",xe!=null&&(O=xe.replace(Y,"$&/")+"/"),M(W,E,O,"",function(ge){return ge})):W!=null&&(J(W)&&(W=ie(W,O+(W.key==null||z&&z.key===W.key?"":(""+W.key).replace(Y,"$&/")+"/")+xe)),E.push(W)),1;xe=0;var me=U===""?".":U+":";if(X(z))for(var fe=0;fe<z.length;fe++)U=z[fe],le=me+S(U,fe),xe+=M(U,E,O,le,W);else if(fe=C(z),typeof fe=="function")for(z=fe.call(z),fe=0;!(U=z.next()).done;)U=U.value,le=me+S(U,fe++),xe+=M(U,E,O,le,W);else if(le==="object"){if(typeof z.then=="function")return M(g(z),E,O,U,W);throw E=String(z),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return xe}function N(z,E,O){if(z==null)return z;var U=[],W=0;return M(z,U,"","",function(le){return E.call(O,le,W++)}),U}function L(z){if(z._status===-1){var E=z._result;E=E(),E.then(function(O){(z._status===0||z._status===-1)&&(z._status=1,z._result=O)},function(O){(z._status===0||z._status===-1)&&(z._status=2,z._result=O)}),z._status===-1&&(z._status=0,z._result=E)}if(z._status===1)return z._result.default;throw z._result}var I=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(E))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},B={map:N,forEach:function(z,E,O){N(z,function(){E.apply(this,arguments)},O)},count:function(z){var E=0;return N(z,function(){E++}),E},toArray:function(z){return N(z,function(E){return E})||[]},only:function(z){if(!J(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ne.Activity=y,Ne.Children=B,Ne.Component=T,Ne.Fragment=a,Ne.Profiler=o,Ne.PureComponent=k,Ne.StrictMode=i,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(z){return Z.H.useMemoCache(z)}},Ne.cache=function(z){return function(){return z.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(z,E,O){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var U=b({},z.props),W=z.key;if(E!=null)for(le in E.key!==void 0&&(W=""+E.key),E)!V.call(E,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&E.ref===void 0||(U[le]=E[le]);var le=arguments.length-2;if(le===1)U.children=O;else if(1<le){for(var xe=Array(le),me=0;me<le;me++)xe[me]=arguments[me+2];U.children=xe}return P(z.type,W,U)},Ne.createContext=function(z){return z={$$typeof:p,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:f,_context:z},z},Ne.createElement=function(z,E,O){var U,W={},le=null;if(E!=null)for(U in E.key!==void 0&&(le=""+E.key),E)V.call(E,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(W[U]=E[U]);var xe=arguments.length-2;if(xe===1)W.children=O;else if(1<xe){for(var me=Array(xe),fe=0;fe<xe;fe++)me[fe]=arguments[fe+2];W.children=me}if(z&&z.defaultProps)for(U in xe=z.defaultProps,xe)W[U]===void 0&&(W[U]=xe[U]);return P(z,le,W)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(z){return{$$typeof:v,render:z}},Ne.isValidElement=J,Ne.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:L}},Ne.memo=function(z,E){return{$$typeof:m,type:z,compare:E===void 0?null:E}},Ne.startTransition=function(z){var E=Z.T,O={};Z.T=O;try{var U=z(),W=Z.S;W!==null&&W(O,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(K,I)}catch(le){I(le)}finally{E!==null&&O.types!==null&&(E.types=O.types),Z.T=E}},Ne.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ne.use=function(z){return Z.H.use(z)},Ne.useActionState=function(z,E,O){return Z.H.useActionState(z,E,O)},Ne.useCallback=function(z,E){return Z.H.useCallback(z,E)},Ne.useContext=function(z){return Z.H.useContext(z)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(z,E){return Z.H.useDeferredValue(z,E)},Ne.useEffect=function(z,E){return Z.H.useEffect(z,E)},Ne.useEffectEvent=function(z){return Z.H.useEffectEvent(z)},Ne.useId=function(){return Z.H.useId()},Ne.useImperativeHandle=function(z,E,O){return Z.H.useImperativeHandle(z,E,O)},Ne.useInsertionEffect=function(z,E){return Z.H.useInsertionEffect(z,E)},Ne.useLayoutEffect=function(z,E){return Z.H.useLayoutEffect(z,E)},Ne.useMemo=function(z,E){return Z.H.useMemo(z,E)},Ne.useOptimistic=function(z,E){return Z.H.useOptimistic(z,E)},Ne.useReducer=function(z,E,O){return Z.H.useReducer(z,E,O)},Ne.useRef=function(z){return Z.H.useRef(z)},Ne.useState=function(z){return Z.H.useState(z)},Ne.useSyncExternalStore=function(z,E,O){return Z.H.useSyncExternalStore(z,E,O)},Ne.useTransition=function(){return Z.H.useTransition()},Ne.version="19.2.3",Ne}var Td;function Rs(){return Td||(Td=1,is.exports=v2()),is.exports}var $=Rs();const y2=m2($);var rs={exports:{}},tr={},cs={exports:{}},us={};var Ed;function p2(){return Ed||(Ed=1,(function(c){function r(M,N){var L=M.length;M.push(N);e:for(;0<L;){var I=L-1>>>1,B=M[I];if(0<o(B,N))M[I]=N,M[L]=B,L=I;else break e}}function a(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var N=M[0],L=M.pop();if(L!==N){M[0]=L;e:for(var I=0,B=M.length,z=B>>>1;I<z;){var E=2*(I+1)-1,O=M[E],U=E+1,W=M[U];if(0>o(O,L))U<B&&0>o(W,O)?(M[I]=W,M[U]=L,I=U):(M[I]=O,M[E]=L,I=E);else if(U<B&&0>o(W,L))M[I]=W,M[U]=L,I=U;else break e}}return N}function o(M,N){var L=M.sortIndex-N.sortIndex;return L!==0?L:M.id-N.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var p=Date,v=p.now();c.unstable_now=function(){return p.now()-v}}var d=[],m=[],_=1,y=null,w=3,C=!1,D=!1,b=!1,h=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function G(M){for(var N=a(m);N!==null;){if(N.callback===null)i(m);else if(N.startTime<=M)i(m),N.sortIndex=N.expirationTime,r(d,N);else break;N=a(m)}}function X(M){if(b=!1,G(M),!D)if(a(d)!==null)D=!0,K||(K=!0,q());else{var N=a(m);N!==null&&g(X,N.startTime-M)}}var K=!1,Z=-1,V=5,P=-1;function ie(){return h?!0:!(c.unstable_now()-P<V)}function J(){if(h=!1,K){var M=c.unstable_now();P=M;var N=!0;try{e:{D=!1,b&&(b=!1,R(Z),Z=-1),C=!0;var L=w;try{t:{for(G(M),y=a(d);y!==null&&!(y.expirationTime>M&&ie());){var I=y.callback;if(typeof I=="function"){y.callback=null,w=y.priorityLevel;var B=I(y.expirationTime<=M);if(M=c.unstable_now(),typeof B=="function"){y.callback=B,G(M),N=!0;break t}y===a(d)&&i(d),G(M)}else i(d);y=a(d)}if(y!==null)N=!0;else{var z=a(m);z!==null&&g(X,z.startTime-M),N=!1}}break e}finally{y=null,w=L,C=!1}N=void 0}}finally{N?q():K=!1}}}var q;if(typeof k=="function")q=function(){k(J)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,S=Y.port2;Y.port1.onmessage=J,q=function(){S.postMessage(null)}}else q=function(){T(J,0)};function g(M,N){Z=T(function(){M(c.unstable_now())},N)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(M){M.callback=null},c.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<M?Math.floor(1e3/M):5},c.unstable_getCurrentPriorityLevel=function(){return w},c.unstable_next=function(M){switch(w){case 1:case 2:case 3:var N=3;break;default:N=w}var L=w;w=N;try{return M()}finally{w=L}},c.unstable_requestPaint=function(){h=!0},c.unstable_runWithPriority=function(M,N){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var L=w;w=M;try{return N()}finally{w=L}},c.unstable_scheduleCallback=function(M,N,L){var I=c.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?I+L:I):L=I,M){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=L+B,M={id:_++,callback:N,priorityLevel:M,startTime:L,expirationTime:B,sortIndex:-1},L>I?(M.sortIndex=L,r(m,M),a(d)===null&&M===a(m)&&(b?(R(Z),Z=-1):b=!0,g(X,L-I))):(M.sortIndex=B,r(d,M),D||C||(D=!0,K||(K=!0,q()))),M},c.unstable_shouldYield=ie,c.unstable_wrapCallback=function(M){var N=w;return function(){var L=w;w=N;try{return M.apply(this,arguments)}finally{w=L}}}})(us)),us}var qd;function _2(){return qd||(qd=1,cs.exports=p2()),cs.exports}var ss={exports:{}},Zt={};var Bd;function S2(){if(Bd)return Zt;Bd=1;var c=Rs();function r(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(d,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:d,containerInfo:m,implementation:_}}var p=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zt.createPortal=function(d,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return f(d,m,null,_)},Zt.flushSync=function(d){var m=p.T,_=i.p;try{if(p.T=null,i.p=2,d)return d()}finally{p.T=m,i.p=_,i.d.f()}},Zt.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},Zt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Zt.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var _=m.as,y=v(_,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:C}):_==="script"&&i.d.X(d,{crossOrigin:y,integrity:w,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Zt.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=v(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},Zt.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=v(_,m.crossOrigin);i.d.L(d,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Zt.preloadModule=function(d,m){if(typeof d=="string")if(m){var _=v(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},Zt.requestFormReset=function(d){i.d.r(d)},Zt.unstable_batchedUpdates=function(d,m){return d(m)},Zt.useFormState=function(d,m,_){return p.H.useFormState(d,m,_)},Zt.useFormStatus=function(){return p.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var kd;function w2(){if(kd)return ss.exports;kd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),ss.exports=S2(),ss.exports}var Id;function j2(){if(Id)return tr;Id=1;var c=_2(),r=Rs(),a=w2();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(f(e)!==e)throw Error(i(188))}function m(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var x=u.alternate;if(x===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===x.child){for(x=u.child;x;){if(x===n)return d(u),e;if(x===l)return d(u),t;x=x.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=x;else{for(var j=!1,A=u.child;A;){if(A===n){j=!0,n=u,l=x;break}if(A===l){j=!0,l=u,n=x;break}A=A.sibling}if(!j){for(A=x.child;A;){if(A===n){j=!0,n=x,l=u;break}if(A===l){j=!0,l=x,n=u;break}A=A.sibling}if(!j)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),k=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function S(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case T:return"Profiler";case h:return"StrictMode";case X:return"Suspense";case K:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case k:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:S(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return S(e(t))}catch{}}return null}var g=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},I=[],B=-1;function z(e){return{current:e}}function E(e){0>B||(e.current=I[B],I[B]=null,B--)}function O(e,t){B++,I[B]=e.current,e.current=t}var U=z(null),W=z(null),le=z(null),xe=z(null);function me(e,t){switch(O(le,t),O(W,e),O(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ff(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ff(t),e=$f(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}E(U),O(U,e)}function fe(){E(U),E(W),E(le)}function ge(e){e.memoizedState!==null&&O(xe,e);var t=U.current,n=$f(t,e.type);t!==n&&(O(W,e),O(U,n))}function de(e){W.current===e&&(E(U),E(W)),xe.current===e&&(E(xe),Wi._currentValue=L)}var De,Ie;function Je(e){if(De===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);De=t&&t[1]||"",Ie=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+e+Ie}var rt=!1;function qe(e,t){if(!e||rt)return"";rt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var ne=ae}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ae){ne=ae}e.call(ue.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),j=x[0],A=x[1];if(j&&A){var H=j.split(`
`),te=A.split(`
`);for(u=l=0;l<H.length&&!H[l].includes("DetermineComponentFrameRoot");)l++;for(;u<te.length&&!te[u].includes("DetermineComponentFrameRoot");)u++;if(l===H.length||u===te.length)for(l=H.length-1,u=te.length-1;1<=l&&0<=u&&H[l]!==te[u];)u--;for(;1<=l&&0<=u;l--,u--)if(H[l]!==te[u]){if(l!==1||u!==1)do if(l--,u--,0>u||H[l]!==te[u]){var re=`
`+H[l].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=l&&0<=u);break}}}finally{rt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Je(n):""}function pt(e,t){switch(e.tag){case 26:case 27:case 5:return Je(e.type);case 16:return Je("Lazy");case 13:return e.child!==t&&t!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return qe(e.type,!1);case 11:return qe(e.type.render,!1);case 1:return qe(e.type,!0);case 31:return Je("Activity");default:return""}}function mt(e){try{var t="",n=null;do t+=pt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Tt=c.unstable_scheduleCallback,Kt=c.unstable_cancelCallback,Qt=c.unstable_shouldYield,Vn=c.unstable_requestPaint,Fe=c.unstable_now,bn=c.unstable_getCurrentPriorityLevel,Dl=c.unstable_ImmediatePriority,il=c.unstable_UserBlockingPriority,rl=c.unstable_NormalPriority,Nl=c.unstable_LowPriority,la=c.unstable_IdlePriority,Qn=c.log,oi=c.unstable_setDisableYieldValue,Gn=null,Bt=null;function gn(e){if(typeof Qn=="function"&&oi(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Gn,e)}catch{}}var Ue=Math.clz32?Math.clz32:ke,oe=Math.log,Be=Math.LN2;function ke(e){return e>>>=0,e===0?32:31-(oe(e)/Be|0)|0}var Se=256,pe=262144,Ae=4194304;function Me(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,x=e.suspendedLanes,j=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~x,l!==0?u=Me(l):(j&=A,j!==0?u=Me(j):n||(n=A&~e,n!==0&&(u=Me(n))))):(A=l&~x,A!==0?u=Me(A):j!==0?u=Me(j):n||(n=l&~e,n!==0&&(u=Me(n)))),u===0?0:t!==0&&t!==u&&(t&x)===0&&(x=u&-u,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:u}function $e(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function et(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function Qe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kt(e,t,n,l,u,x){var j=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var A=e.entanglements,H=e.expirationTimes,te=e.hiddenUpdates;for(n=j&~n;0<n;){var re=31-Ue(n),ue=1<<re;A[re]=0,H[re]=-1;var ne=te[re];if(ne!==null)for(te[re]=null,re=0;re<ne.length;re++){var ae=ne[re];ae!==null&&(ae.lane&=-536870913)}n&=~ue}l!==0&&tt(e,l,0),x!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=x&~(j&~t))}function tt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ue(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Nt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Ue(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function ct(e,t){var n=t&-t;return n=(n&42)!==0?1:lt(n),(n&(e.suspendedLanes|t))!==0?0:n}function lt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vn(){var e=N.p;return e!==0?e:(e=window.event,e===void 0?32:Sd(e.type))}function ja(e,t){var n=N.p;try{return N.p=e,t()}finally{N.p=n}}var Wt=Math.random().toString(36).slice(2),ze="__reactFiber$"+Wt,It="__reactProps$"+Wt,Al="__reactContainer$"+Wt,yn="__reactEvents$"+Wt,Q0="__reactListeners$"+Wt,W0="__reactHandles$"+Wt,fr="__reactResources$"+Wt,aa="__reactMarker$"+Wt;function fi(e){delete e[ze],delete e[It],delete e[yn],delete e[Q0],delete e[W0]}function Ll(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Al]||n[ze]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rd(e);e!==null;){if(n=e[ze])return n;e=rd(e)}return t}e=n,n=e.parentNode}return null}function he(e){if(e=e[ze]||e[Al]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _e(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Re(e){var t=e[fr];return t||(t=e[fr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[aa]=!0}var wt=new Set,Wn={};function cl(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Wn[e]=t,e=0;e<t.length;e++)wt.add(t[e])}var r1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Os={},Us={};function c1(e){return bt.call(Us,e)?!0:bt.call(Os,e)?!1:r1.test(e)?Us[e]=!0:(Os[e]=!0,!1)}function dr(e,t,n){if(c1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ul(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hs(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(j){n=""+j,x.call(this,j)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(j){n=""+j},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P0(e){if(!e._valueTracker){var t=Hs(e)?"checked":"value";e._valueTracker=u1(e,t,""+e[t])}}function Zs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Hs(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function mr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var s1=/[\n"\\]/g;function _n(e){return e.replace(s1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function F0(e,t,n,l,u,x,j,A){e.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.type=j:e.removeAttribute("type"),t!=null?j==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pn(t)):e.value!==""+pn(t)&&(e.value=""+pn(t)):j!=="submit"&&j!=="reset"||e.removeAttribute("value"),t!=null?$0(e,j,pn(t)):n!=null?$0(e,j,pn(n)):l!=null&&e.removeAttribute("value"),u==null&&x!=null&&(e.defaultChecked=!!x),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+pn(A):e.removeAttribute("name")}function Ys(e,t,n,l,u,x,j,A){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){P0(e);return}n=n!=null?""+pn(n):"",t=t!=null?""+pn(t):n,A||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(e.name=j),P0(e)}function $0(e,t,n){t==="number"&&mr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Ks(e,t,n){if(t!=null&&(t=""+pn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+pn(n):""}function Xs(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(g(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=pn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),P0(e)}function za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var x1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Js(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||x1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vs(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Js(e,u,l)}else for(var x in t)t.hasOwnProperty(x)&&Js(e,x,t[x])}function ec(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(e){return f1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sl(){}var tc=null;function nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Na=null;function Qs(e){var t=he(e);if(t&&(e=t.stateNode)){var n=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if(F0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[It]||null;if(!u)throw Error(i(90));F0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Zs(l)}break e;case"textarea":Ks(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var lc=!1;function Ws(e,t,n){if(lc)return e(t,n);lc=!0;try{var l=e(t);return l}finally{if(lc=!1,(Da!==null||Na!==null)&&(l0(),Da&&(t=Da,e=Na,Na=Da=null,Qs(t),e)))for(t=0;t<e.length;t++)Qs(e[t])}}function di(e,t){var n=e.stateNode;if(n===null)return null;var l=n[It]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=!1;if(xl)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){ac=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{ac=!1}var Tl=null,ic=null,gr=null;function Ps(){if(gr)return gr;var e,t=ic,n=t.length,l,u="value"in Tl?Tl.value:Tl.textContent,x=u.length;for(e=0;e<n&&t[e]===u[e];e++);var j=n-e;for(l=1;l<=j&&t[n-l]===u[x-l];l++);return gr=u.slice(e,1<l?1-l:void 0)}function vr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yr(){return!0}function Fs(){return!1}function Pt(e){function t(n,l,u,x,j){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=x,this.target=j,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(n=e[A],this[A]=n?n(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?yr:Fs,this.isPropagationStopped=Fs,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),t}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=Pt(ia),mi=y({},ia,{view:0,detail:0}),d1=Pt(mi),rc,cc,bi,_r=y({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(rc=e.screenX-bi.screenX,cc=e.screenY-bi.screenY):cc=rc=0,bi=e),rc)},movementY:function(e){return"movementY"in e?e.movementY:cc}}),$s=Pt(_r),h1=y({},_r,{dataTransfer:0}),m1=Pt(h1),b1=y({},mi,{relatedTarget:0}),uc=Pt(b1),g1=y({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),v1=Pt(g1),y1=y({},ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p1=Pt(y1),_1=y({},ia,{data:0}),ex=Pt(_1),S1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j1[e])?!!t[e]:!1}function sc(){return C1}var M1=y({},mi,{key:function(e){if(e.key){var t=S1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z1=Pt(M1),D1=y({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tx=Pt(D1),N1=y({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),A1=Pt(N1),L1=y({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),T1=Pt(L1),E1=y({},_r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q1=Pt(E1),B1=y({},ia,{newState:0,oldState:0}),k1=Pt(B1),I1=[9,13,27,32],xc=xl&&"CompositionEvent"in window,gi=null;xl&&"documentMode"in document&&(gi=document.documentMode);var R1=xl&&"TextEvent"in window&&!gi,nx=xl&&(!xc||gi&&8<gi&&11>=gi),lx=" ",ax=!1;function ix(e,t){switch(e){case"keyup":return I1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function G1(e,t){switch(e){case"compositionend":return rx(t);case"keypress":return t.which!==32?null:(ax=!0,lx);case"textInput":return e=t.data,e===lx&&ax?null:e;default:return null}}function O1(e,t){if(Aa)return e==="compositionend"||!xc&&ix(e,t)?(e=Ps(),gr=ic=Tl=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nx&&t.locale!=="ko"?null:t.data;default:return null}}var U1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U1[e.type]:t==="textarea"}function ux(e,t,n,l){Da?Na?Na.push(l):Na=[l]:Da=l,t=x0(t,"onChange"),0<t.length&&(n=new pr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var vi=null,yi=null;function H1(e){Xf(e,0)}function Sr(e){var t=_e(e);if(Zs(t))return e}function sx(e,t){if(e==="change")return t}var xx=!1;if(xl){var oc;if(xl){var fc="oninput"in document;if(!fc){var ox=document.createElement("div");ox.setAttribute("oninput","return;"),fc=typeof ox.oninput=="function"}oc=fc}else oc=!1;xx=oc&&(!document.documentMode||9<document.documentMode)}function fx(){vi&&(vi.detachEvent("onpropertychange",dx),yi=vi=null)}function dx(e){if(e.propertyName==="value"&&Sr(yi)){var t=[];ux(t,yi,e,nc(e)),Ws(H1,t)}}function Z1(e,t,n){e==="focusin"?(fx(),vi=t,yi=n,vi.attachEvent("onpropertychange",dx)):e==="focusout"&&fx()}function Y1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sr(yi)}function K1(e,t){if(e==="click")return Sr(t)}function X1(e,t){if(e==="input"||e==="change")return Sr(t)}function J1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:J1;function pi(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!bt.call(t,u)||!cn(e[u],t[u]))return!1}return!0}function hx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mx(e,t){var n=hx(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hx(n)}}function bx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mr(e.document)}return t}function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var V1=xl&&"documentMode"in document&&11>=document.documentMode,La=null,hc=null,_i=null,mc=!1;function vx(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mc||La==null||La!==mr(l)||(l=La,"selectionStart"in l&&dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_i&&pi(_i,l)||(_i=l,l=x0(hc,"onSelect"),0<l.length&&(t=new pr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=La)))}function ra(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ta={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},bc={},yx={};xl&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function ca(e){if(bc[e])return bc[e];if(!Ta[e])return e;var t=Ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yx)return bc[e]=t[n];return e}var px=ca("animationend"),_x=ca("animationiteration"),Sx=ca("animationstart"),Q1=ca("transitionrun"),W1=ca("transitionstart"),P1=ca("transitioncancel"),wx=ca("transitionend"),jx=new Map,gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gc.push("scrollEnd");function On(e,t){jx.set(e,t),cl(t,[e])}var wr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],Ea=0,vc=0;function jr(){for(var e=Ea,t=vc=Ea=0;t<e;){var n=Sn[t];Sn[t++]=null;var l=Sn[t];Sn[t++]=null;var u=Sn[t];Sn[t++]=null;var x=Sn[t];if(Sn[t++]=null,l!==null&&u!==null){var j=l.pending;j===null?u.next=u:(u.next=j.next,j.next=u),l.pending=u}x!==0&&Cx(n,u,x)}}function Cr(e,t,n,l){Sn[Ea++]=e,Sn[Ea++]=t,Sn[Ea++]=n,Sn[Ea++]=l,vc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yc(e,t,n,l){return Cr(e,t,n,l),Mr(e)}function ua(e,t){return Cr(e,null,null,t),Mr(e)}function Cx(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(u=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,u&&t!==null&&(u=31-Ue(n),e=x.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),x):null}function Mr(e){if(50<Zi)throw Zi=0,Du=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qa={};function F1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,l){return new F1(e,t,n,l)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ol(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,l,u,x){var j=0;if(l=e,typeof e=="function")pc(e)&&(j=1);else if(typeof e=="string")j=l2(e,n,U.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=un(31,n,t,u),e.elementType=P,e.lanes=x,e;case b:return sa(n.children,u,x,t);case h:j=8,u|=24;break;case T:return e=un(12,n,t,u|2),e.elementType=T,e.lanes=x,e;case X:return e=un(13,n,t,u),e.elementType=X,e.lanes=x,e;case K:return e=un(19,n,t,u),e.elementType=K,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:j=10;break e;case R:j=9;break e;case G:j=11;break e;case Z:j=14;break e;case V:j=16,l=null;break e}j=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=un(j,n,t,u),t.elementType=e,t.type=l,t.lanes=x,t}function sa(e,t,n,l){return e=un(7,e,l,t),e.lanes=n,e}function _c(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function zx(e){var t=un(18,null,null,0);return t.stateNode=e,t}function Sc(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Dx=new WeakMap;function wn(e,t){if(typeof e=="object"&&e!==null){var n=Dx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:mt(t)},Dx.set(e,t),t)}return{value:e,source:t,stack:mt(t)}}var Ba=[],ka=0,Dr=null,Si=0,jn=[],Cn=0,El=null,Pn=1,Fn="";function fl(e,t){Ba[ka++]=Si,Ba[ka++]=Dr,Dr=e,Si=t}function Nx(e,t,n){jn[Cn++]=Pn,jn[Cn++]=Fn,jn[Cn++]=El,El=e;var l=Pn;e=Fn;var u=32-Ue(l)-1;l&=~(1<<u),n+=1;var x=32-Ue(t)+u;if(30<x){var j=u-u%5;x=(l&(1<<j)-1).toString(32),l>>=j,u-=j,Pn=1<<32-Ue(t)+u|n<<u|l,Fn=x+e}else Pn=1<<x|n<<u|l,Fn=e}function wc(e){e.return!==null&&(fl(e,1),Nx(e,1,0))}function jc(e){for(;e===Dr;)Dr=Ba[--ka],Ba[ka]=null,Si=Ba[--ka],Ba[ka]=null;for(;e===El;)El=jn[--Cn],jn[Cn]=null,Fn=jn[--Cn],jn[Cn]=null,Pn=jn[--Cn],jn[Cn]=null}function Ax(e,t){jn[Cn++]=Pn,jn[Cn++]=Fn,jn[Cn++]=El,Pn=t.id,Fn=t.overflow,El=e}var Rt=null,ft=null,Ye=!1,ql=null,Mn=!1,Cc=Error(i(519));function Bl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wi(wn(t,e)),Cc}function Lx(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ze]=e,t[It]=l,n){case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":case"embed":Oe("load",t);break;case"video":case"audio":for(n=0;n<Ki.length;n++)Oe(Ki[n],t);break;case"source":Oe("error",t);break;case"img":case"image":case"link":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"input":Oe("invalid",t),Ys(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",t);break;case"textarea":Oe("invalid",t),Xs(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Wf(t.textContent,n)?(l.popover!=null&&(Oe("beforetoggle",t),Oe("toggle",t)),l.onScroll!=null&&Oe("scroll",t),l.onScrollEnd!=null&&Oe("scrollend",t),l.onClick!=null&&(t.onclick=sl),t=!0):t=!1,t||Bl(e,!0)}function Tx(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Rt=Rt.return}}function Ia(e){if(e!==Rt)return!1;if(!Ye)return Tx(e),Ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Zu(e.type,e.memoizedProps)),n=!n),n&&ft&&Bl(e),Tx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ft=id(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ft=id(e)}else t===27?(t=ft,Ql(e.type)?(e=Vu,Vu=null,ft=e):ft=t):ft=Rt?Dn(e.stateNode.nextSibling):null;return!0}function xa(){ft=Rt=null,Ye=!1}function Mc(){var e=ql;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),ql=null),e}function wi(e){ql===null?ql=[e]:ql.push(e)}var zc=z(null),oa=null,dl=null;function kl(e,t,n){O(zc,t._currentValue),t._currentValue=n}function hl(e){e._currentValue=zc.current,E(zc)}function Dc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Nc(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var x=u.dependencies;if(x!==null){var j=u.child;x=x.firstContext;e:for(;x!==null;){var A=x;x=u;for(var H=0;H<t.length;H++)if(A.context===t[H]){x.lanes|=n,A=x.alternate,A!==null&&(A.lanes|=n),Dc(x.return,n,e),l||(j=null);break e}x=A.next}}else if(u.tag===18){if(j=u.return,j===null)throw Error(i(341));j.lanes|=n,x=j.alternate,x!==null&&(x.lanes|=n),Dc(j,n,e),j=null}else j=u.child;if(j!==null)j.return=u;else for(j=u;j!==null;){if(j===e){j=null;break}if(u=j.sibling,u!==null){u.return=j.return,j=u;break}j=j.return}u=j}}function Ra(e,t,n,l){e=null;for(var u=t,x=!1;u!==null;){if(!x){if((u.flags&524288)!==0)x=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var j=u.alternate;if(j===null)throw Error(i(387));if(j=j.memoizedProps,j!==null){var A=u.type;cn(u.pendingProps.value,j.value)||(e!==null?e.push(A):e=[A])}}else if(u===xe.current){if(j=u.alternate,j===null)throw Error(i(387));j.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Wi):e=[Wi])}u=u.return}e!==null&&Nc(t,e,n,l),t.flags|=262144}function Nr(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fa(e){oa=e,dl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return Ex(oa,e)}function Ar(e,t){return oa===null&&fa(e),Ex(e,t)}function Ex(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},dl===null){if(e===null)throw Error(i(308));dl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dl=dl.next=t;return n}var $1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},eh=c.unstable_scheduleCallback,th=c.unstable_NormalPriority,jt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new $1,data:new Map,refCount:0}}function ji(e){e.refCount--,e.refCount===0&&eh(th,function(){e.controller.abort()})}var Ci=null,Lc=0,Ga=0,Oa=null;function nh(e,t){if(Ci===null){var n=Ci=[];Lc=0,Ga=qu(),Oa={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Lc++,t.then(qx,qx),t}function qx(){if(--Lc===0&&Ci!==null){Oa!==null&&(Oa.status="fulfilled");var e=Ci;Ci=null,Ga=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lh(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Bx=M.S;M.S=function(e,t){pf=Fe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&nh(e,t),Bx!==null&&Bx(e,t)};var da=z(null);function Tc(){var e=da.current;return e!==null?e:ot.pooledCache}function Lr(e,t){t===null?O(da,da.current):O(da,t.pool)}function kx(){var e=Tc();return e===null?null:{parent:jt._currentValue,pool:e}}var Ua=Error(i(460)),Ec=Error(i(474)),Tr=Error(i(542)),Er={then:function(){}};function Ix(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rx(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(sl,sl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ox(e),e;default:if(typeof t.status=="string")t.then(sl,sl);else{if(e=ot,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ox(e),e}throw ma=t,Ua}}function ha(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ma=n,Ua):n}}var ma=null;function Gx(){if(ma===null)throw Error(i(459));var e=ma;return ma=null,e}function Ox(e){if(e===Ua||e===Tr)throw Error(i(483))}var Ha=null,Mi=0;function qr(e){var t=Mi;return Mi+=1,Ha===null&&(Ha=[]),Rx(Ha,e,t)}function zi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Br(e,t){throw t.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ux(e){function t(F,Q){if(e){var ee=F.deletions;ee===null?(F.deletions=[Q],F.flags|=16):ee.push(Q)}}function n(F,Q){if(!e)return null;for(;Q!==null;)t(F,Q),Q=Q.sibling;return null}function l(F){for(var Q=new Map;F!==null;)F.key!==null?Q.set(F.key,F):Q.set(F.index,F),F=F.sibling;return Q}function u(F,Q){return F=ol(F,Q),F.index=0,F.sibling=null,F}function x(F,Q,ee){return F.index=ee,e?(ee=F.alternate,ee!==null?(ee=ee.index,ee<Q?(F.flags|=67108866,Q):ee):(F.flags|=67108866,Q)):(F.flags|=1048576,Q)}function j(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function A(F,Q,ee,ce){return Q===null||Q.tag!==6?(Q=_c(ee,F.mode,ce),Q.return=F,Q):(Q=u(Q,ee),Q.return=F,Q)}function H(F,Q,ee,ce){var je=ee.type;return je===b?re(F,Q,ee.props.children,ce,ee.key):Q!==null&&(Q.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===V&&ha(je)===Q.type)?(Q=u(Q,ee.props),zi(Q,ee),Q.return=F,Q):(Q=zr(ee.type,ee.key,ee.props,null,F.mode,ce),zi(Q,ee),Q.return=F,Q)}function te(F,Q,ee,ce){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ee.containerInfo||Q.stateNode.implementation!==ee.implementation?(Q=Sc(ee,F.mode,ce),Q.return=F,Q):(Q=u(Q,ee.children||[]),Q.return=F,Q)}function re(F,Q,ee,ce,je){return Q===null||Q.tag!==7?(Q=sa(ee,F.mode,ce,je),Q.return=F,Q):(Q=u(Q,ee),Q.return=F,Q)}function ue(F,Q,ee){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=_c(""+Q,F.mode,ee),Q.return=F,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return ee=zr(Q.type,Q.key,Q.props,null,F.mode,ee),zi(ee,Q),ee.return=F,ee;case D:return Q=Sc(Q,F.mode,ee),Q.return=F,Q;case V:return Q=ha(Q),ue(F,Q,ee)}if(g(Q)||q(Q))return Q=sa(Q,F.mode,ee,null),Q.return=F,Q;if(typeof Q.then=="function")return ue(F,qr(Q),ee);if(Q.$$typeof===k)return ue(F,Ar(F,Q),ee);Br(F,Q)}return null}function ne(F,Q,ee,ce){var je=Q!==null?Q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return je!==null?null:A(F,Q,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:return ee.key===je?H(F,Q,ee,ce):null;case D:return ee.key===je?te(F,Q,ee,ce):null;case V:return ee=ha(ee),ne(F,Q,ee,ce)}if(g(ee)||q(ee))return je!==null?null:re(F,Q,ee,ce,null);if(typeof ee.then=="function")return ne(F,Q,qr(ee),ce);if(ee.$$typeof===k)return ne(F,Q,Ar(F,ee),ce);Br(F,ee)}return null}function ae(F,Q,ee,ce,je){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return F=F.get(ee)||null,A(Q,F,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case C:return F=F.get(ce.key===null?ee:ce.key)||null,H(Q,F,ce,je);case D:return F=F.get(ce.key===null?ee:ce.key)||null,te(Q,F,ce,je);case V:return ce=ha(ce),ae(F,Q,ee,ce,je)}if(g(ce)||q(ce))return F=F.get(ee)||null,re(Q,F,ce,je,null);if(typeof ce.then=="function")return ae(F,Q,ee,qr(ce),je);if(ce.$$typeof===k)return ae(F,Q,ee,Ar(Q,ce),je);Br(Q,ce)}return null}function be(F,Q,ee,ce){for(var je=null,We=null,ve=Q,Ee=Q=0,Ze=null;ve!==null&&Ee<ee.length;Ee++){ve.index>Ee?(Ze=ve,ve=null):Ze=ve.sibling;var Pe=ne(F,ve,ee[Ee],ce);if(Pe===null){ve===null&&(ve=Ze);break}e&&ve&&Pe.alternate===null&&t(F,ve),Q=x(Pe,Q,Ee),We===null?je=Pe:We.sibling=Pe,We=Pe,ve=Ze}if(Ee===ee.length)return n(F,ve),Ye&&fl(F,Ee),je;if(ve===null){for(;Ee<ee.length;Ee++)ve=ue(F,ee[Ee],ce),ve!==null&&(Q=x(ve,Q,Ee),We===null?je=ve:We.sibling=ve,We=ve);return Ye&&fl(F,Ee),je}for(ve=l(ve);Ee<ee.length;Ee++)Ze=ae(ve,F,Ee,ee[Ee],ce),Ze!==null&&(e&&Ze.alternate!==null&&ve.delete(Ze.key===null?Ee:Ze.key),Q=x(Ze,Q,Ee),We===null?je=Ze:We.sibling=Ze,We=Ze);return e&&ve.forEach(function(ea){return t(F,ea)}),Ye&&fl(F,Ee),je}function Ce(F,Q,ee,ce){if(ee==null)throw Error(i(151));for(var je=null,We=null,ve=Q,Ee=Q=0,Ze=null,Pe=ee.next();ve!==null&&!Pe.done;Ee++,Pe=ee.next()){ve.index>Ee?(Ze=ve,ve=null):Ze=ve.sibling;var ea=ne(F,ve,Pe.value,ce);if(ea===null){ve===null&&(ve=Ze);break}e&&ve&&ea.alternate===null&&t(F,ve),Q=x(ea,Q,Ee),We===null?je=ea:We.sibling=ea,We=ea,ve=Ze}if(Pe.done)return n(F,ve),Ye&&fl(F,Ee),je;if(ve===null){for(;!Pe.done;Ee++,Pe=ee.next())Pe=ue(F,Pe.value,ce),Pe!==null&&(Q=x(Pe,Q,Ee),We===null?je=Pe:We.sibling=Pe,We=Pe);return Ye&&fl(F,Ee),je}for(ve=l(ve);!Pe.done;Ee++,Pe=ee.next())Pe=ae(ve,F,Ee,Pe.value,ce),Pe!==null&&(e&&Pe.alternate!==null&&ve.delete(Pe.key===null?Ee:Pe.key),Q=x(Pe,Q,Ee),We===null?je=Pe:We.sibling=Pe,We=Pe);return e&&ve.forEach(function(h2){return t(F,h2)}),Ye&&fl(F,Ee),je}function xt(F,Q,ee,ce){if(typeof ee=="object"&&ee!==null&&ee.type===b&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:e:{for(var je=ee.key;Q!==null;){if(Q.key===je){if(je=ee.type,je===b){if(Q.tag===7){n(F,Q.sibling),ce=u(Q,ee.props.children),ce.return=F,F=ce;break e}}else if(Q.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===V&&ha(je)===Q.type){n(F,Q.sibling),ce=u(Q,ee.props),zi(ce,ee),ce.return=F,F=ce;break e}n(F,Q);break}else t(F,Q);Q=Q.sibling}ee.type===b?(ce=sa(ee.props.children,F.mode,ce,ee.key),ce.return=F,F=ce):(ce=zr(ee.type,ee.key,ee.props,null,F.mode,ce),zi(ce,ee),ce.return=F,F=ce)}return j(F);case D:e:{for(je=ee.key;Q!==null;){if(Q.key===je)if(Q.tag===4&&Q.stateNode.containerInfo===ee.containerInfo&&Q.stateNode.implementation===ee.implementation){n(F,Q.sibling),ce=u(Q,ee.children||[]),ce.return=F,F=ce;break e}else{n(F,Q);break}else t(F,Q);Q=Q.sibling}ce=Sc(ee,F.mode,ce),ce.return=F,F=ce}return j(F);case V:return ee=ha(ee),xt(F,Q,ee,ce)}if(g(ee))return be(F,Q,ee,ce);if(q(ee)){if(je=q(ee),typeof je!="function")throw Error(i(150));return ee=je.call(ee),Ce(F,Q,ee,ce)}if(typeof ee.then=="function")return xt(F,Q,qr(ee),ce);if(ee.$$typeof===k)return xt(F,Q,Ar(F,ee),ce);Br(F,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Q!==null&&Q.tag===6?(n(F,Q.sibling),ce=u(Q,ee),ce.return=F,F=ce):(n(F,Q),ce=_c(ee,F.mode,ce),ce.return=F,F=ce),j(F)):n(F,Q)}return function(F,Q,ee,ce){try{Mi=0;var je=xt(F,Q,ee,ce);return Ha=null,je}catch(ve){if(ve===Ua||ve===Tr)throw ve;var We=un(29,ve,null,F.mode);return We.lanes=ce,We.return=F,We}}}var ba=Ux(!0),Hx=Ux(!1),Il=!1;function qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Mr(e),Cx(e,null,n),t}return Cr(e,l,t,n),Mr(e)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Nt(e,n)}}function kc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var j={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?u=x=j:x=x.next=j,n=n.next}while(n!==null);x===null?u=x=t:x=x.next=t}else u=x=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ic=!1;function Ni(){if(Ic){var e=Oa;if(e!==null)throw e}}function Ai(e,t,n,l){Ic=!1;var u=e.updateQueue;Il=!1;var x=u.firstBaseUpdate,j=u.lastBaseUpdate,A=u.shared.pending;if(A!==null){u.shared.pending=null;var H=A,te=H.next;H.next=null,j===null?x=te:j.next=te,j=H;var re=e.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==j&&(A===null?re.firstBaseUpdate=te:A.next=te,re.lastBaseUpdate=H))}if(x!==null){var ue=u.baseState;j=0,re=te=H=null,A=x;do{var ne=A.lane&-536870913,ae=ne!==A.lane;if(ae?(He&ne)===ne:(l&ne)===ne){ne!==0&&ne===Ga&&(Ic=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var be=e,Ce=A;ne=t;var xt=n;switch(Ce.tag){case 1:if(be=Ce.payload,typeof be=="function"){ue=be.call(xt,ue,ne);break e}ue=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ce.payload,ne=typeof be=="function"?be.call(xt,ue,ne):be,ne==null)break e;ue=y({},ue,ne);break e;case 2:Il=!0}}ne=A.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=u.callbacks,ae===null?u.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(te=re=ae,H=ue):re=re.next=ae,j|=ne;if(A=A.next,A===null){if(A=u.shared.pending,A===null)break;ae=A,A=ae.next,ae.next=null,u.lastBaseUpdate=ae,u.shared.pending=null}}while(!0);re===null&&(H=ue),u.baseState=H,u.firstBaseUpdate=te,u.lastBaseUpdate=re,x===null&&(u.shared.lanes=0),Yl|=j,e.lanes=j,e.memoizedState=ue}}function Zx(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Yx(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Zx(n[e],t)}var Za=z(null),kr=z(0);function Kx(e,t){e=wl,O(kr,e),O(Za,t),wl=e|t.baseLanes}function Rc(){O(kr,wl),O(Za,Za.current)}function Gc(){wl=kr.current,E(Za),E(kr)}var sn=z(null),zn=null;function Ol(e){var t=e.alternate;O(_t,_t.current&1),O(sn,e),zn===null&&(t===null||Za.current!==null||t.memoizedState!==null)&&(zn=e)}function Oc(e){O(_t,_t.current),O(sn,e),zn===null&&(zn=e)}function Xx(e){e.tag===22?(O(_t,_t.current),O(sn,e),zn===null&&(zn=e)):Ul()}function Ul(){O(_t,_t.current),O(sn,sn.current)}function xn(e){E(sn),zn===e&&(zn=null),E(_t)}var _t=z(0);function Ir(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xu(n)||Ju(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ml=0,Te=null,ut=null,Ct=null,Rr=!1,Ya=!1,ga=!1,Gr=0,Li=0,Ka=null,ah=0;function vt(){throw Error(i(321))}function Uc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function Hc(e,t,n,l,u,x){return ml=x,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Ao:lu,ga=!1,x=n(l,u),ga=!1,Ya&&(x=Vx(t,n,l,u)),Jx(e),x}function Jx(e){M.H=qi;var t=ut!==null&&ut.next!==null;if(ml=0,Ct=ut=Te=null,Rr=!1,Li=0,Ka=null,t)throw Error(i(300));e===null||Mt||(e=e.dependencies,e!==null&&Nr(e)&&(Mt=!0))}function Vx(e,t,n,l){Te=e;var u=0;do{if(Ya&&(Ka=null),Li=0,Ya=!1,25<=u)throw Error(i(301));if(u+=1,Ct=ut=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}M.H=Lo,x=t(n,l)}while(Ya);return x}function ih(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Ti(t):t,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(Te.flags|=1024),t}function Zc(){var e=Gr!==0;return Gr=0,e}function Yc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Kc(e){if(Rr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rr=!1}ml=0,Ct=ut=Te=null,Ya=!1,Li=Gr=0,Ka=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Te.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function St(){if(ut===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=Ct===null?Te.memoizedState:Ct.next;if(t!==null)Ct=t,ut=e;else{if(e===null)throw Te.alternate===null?Error(i(467)):Error(i(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ct===null?Te.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ti(e){var t=Li;return Li+=1,Ka===null&&(Ka=[]),e=Rx(Ka,e,t),t=Te,(Ct===null?t.memoizedState:Ct.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Ao:lu),e}function Ur(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ti(e);if(e.$$typeof===k)return Gt(e)}throw Error(i(438,String(e)))}function Xc(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Or(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=ie;return t.index++,n}function bl(e,t){return typeof t=="function"?t(e):t}function Hr(e){var t=St();return Jc(t,ut,e)}function Jc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,x=l.pending;if(x!==null){if(u!==null){var j=u.next;u.next=x.next,x.next=j}t.baseQueue=u=x,l.pending=null}if(x=e.baseState,u===null)e.memoizedState=x;else{t=u.next;var A=j=null,H=null,te=t,re=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(He&ue)===ue:(ml&ue)===ue){var ne=te.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===Ga&&(re=!0);else if((ml&ne)===ne){te=te.next,ne===Ga&&(re=!0);continue}else ue={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(A=H=ue,j=x):H=H.next=ue,Te.lanes|=ne,Yl|=ne;ue=te.action,ga&&n(x,ue),x=te.hasEagerState?te.eagerState:n(x,ue)}else ne={lane:ue,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(A=H=ne,j=x):H=H.next=ne,Te.lanes|=ue,Yl|=ue;te=te.next}while(te!==null&&te!==t);if(H===null?j=x:H.next=A,!cn(x,e.memoizedState)&&(Mt=!0,re&&(n=Oa,n!==null)))throw n;e.memoizedState=x,e.baseState=j,e.baseQueue=H,l.lastRenderedState=x}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Vc(e){var t=St(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,x=t.memoizedState;if(u!==null){n.pending=null;var j=u=u.next;do x=e(x,j.action),j=j.next;while(j!==u);cn(x,t.memoizedState)||(Mt=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Qx(e,t,n){var l=Te,u=St(),x=Ye;if(x){if(n===void 0)throw Error(i(407));n=n()}else n=t();var j=!cn((ut||u).memoizedState,n);if(j&&(u.memoizedState=n,Mt=!0),u=u.queue,Pc(Fx.bind(null,l,u,e),[e]),u.getSnapshot!==t||j||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},Px.bind(null,l,u,n,t),null),ot===null)throw Error(i(349));x||(ml&127)!==0||Wx(l,t,n)}return n}function Wx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Or(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Px(e,t,n,l){t.value=n,t.getSnapshot=l,$x(t)&&eo(e)}function Fx(e,t,n){return n(function(){$x(t)&&eo(e)})}function $x(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function eo(e){var t=ua(e,2);t!==null&&nn(t,e,2)}function Qc(e){var t=Xt();if(typeof e=="function"){var n=e;if(e=n(),ga){gn(!0);try{n()}finally{gn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t}function to(e,t,n,l){return e.baseState=n,Jc(e,ut,typeof l=="function"?l:bl)}function rh(e,t,n,l,u){if(Kr(e))throw Error(i(485));if(e=t.action,e!==null){var x={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){x.listeners.push(j)}};M.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,no(t,x)):(x.next=n.next,t.pending=n.next=x)}}function no(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var x=M.T,j={};M.T=j;try{var A=n(u,l),H=M.S;H!==null&&H(j,A),lo(e,t,A)}catch(te){Wc(e,t,te)}finally{x!==null&&j.types!==null&&(x.types=j.types),M.T=x}}else try{x=n(u,l),lo(e,t,x)}catch(te){Wc(e,t,te)}}function lo(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){ao(e,t,l)},function(l){return Wc(e,t,l)}):ao(e,t,n)}function ao(e,t,n){t.status="fulfilled",t.value=n,io(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function Wc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,io(t),t=t.next;while(t!==l)}e.action=null}function io(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ro(e,t){return t}function co(e,t){if(Ye){var n=ot.formState;if(n!==null){e:{var l=Te;if(Ye){if(ft){t:{for(var u=ft,x=Mn;u.nodeType!==8;){if(!x){u=null;break t}if(u=Dn(u.nextSibling),u===null){u=null;break t}}x=u.data,u=x==="F!"||x==="F"?u:null}if(u){ft=Dn(u.nextSibling),l=u.data==="F!";break e}}Bl(l)}l=!1}l&&(t=n[0])}}return n=Xt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:t},n.queue=l,n=zo.bind(null,Te,l),l.dispatch=n,l=Qc(!1),x=nu.bind(null,Te,!1,l.queue),l=Xt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=rh.bind(null,Te,u,x,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function uo(e){var t=St();return so(t,ut,e)}function so(e,t,n){if(t=Jc(e,t,ro)[0],e=Hr(bl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ti(t)}catch(j){throw j===Ua?Tr:j}else l=t;t=St();var u=t.queue,x=u.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Xa(9,{destroy:void 0},ch.bind(null,u,n),null)),[l,x,e]}function ch(e,t){e.action=t}function xo(e){var t=St(),n=ut;if(n!==null)return so(t,n,e);St(),t=t.memoizedState,n=St();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Xa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Or(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function oo(){return St().memoizedState}function Zr(e,t,n,l){var u=Xt();Te.flags|=e,u.memoizedState=Xa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Yr(e,t,n,l){var u=St();l=l===void 0?null:l;var x=u.memoizedState.inst;ut!==null&&l!==null&&Uc(l,ut.memoizedState.deps)?u.memoizedState=Xa(t,x,n,l):(Te.flags|=e,u.memoizedState=Xa(1|t,x,n,l))}function fo(e,t){Zr(8390656,8,e,t)}function Pc(e,t){Yr(2048,8,e,t)}function uh(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Or(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ho(e){var t=St().memoizedState;return uh({ref:t,nextImpl:e}),function(){if((nt&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function mo(e,t){return Yr(4,2,e,t)}function bo(e,t){return Yr(4,4,e,t)}function go(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vo(e,t,n){n=n!=null?n.concat([e]):null,Yr(4,4,go.bind(null,t,e),n)}function Fc(){}function yo(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Uc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function po(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Uc(t,l[1]))return l[0];if(l=e(),ga){gn(!0);try{e()}finally{gn(!1)}}return n.memoizedState=[l,t],l}function $c(e,t,n){return n===void 0||(ml&1073741824)!==0&&(He&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Sf(),Te.lanes|=e,Yl|=e,n)}function _o(e,t,n,l){return cn(n,t)?n:Za.current!==null?(e=$c(e,n,l),cn(e,t)||(Mt=!0),e):(ml&42)===0||(ml&1073741824)!==0&&(He&261930)===0?(Mt=!0,e.memoizedState=n):(e=Sf(),Te.lanes|=e,Yl|=e,t)}function So(e,t,n,l,u){var x=N.p;N.p=x!==0&&8>x?x:8;var j=M.T,A={};M.T=A,nu(e,!1,t,n);try{var H=u(),te=M.S;if(te!==null&&te(A,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var re=lh(H,l);Ei(e,t,re,dn(e))}else Ei(e,t,l,dn(e))}catch(ue){Ei(e,t,{then:function(){},status:"rejected",reason:ue},dn())}finally{N.p=x,j!==null&&A.types!==null&&(j.types=A.types),M.T=j}}function sh(){}function eu(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=wo(e).queue;So(e,u,t,L,n===null?sh:function(){return jo(e),n(l)})}function wo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:L},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jo(e){var t=wo(e);t.next===null&&(t=e.alternate.memoizedState),Ei(e,t.next.queue,{},dn())}function tu(){return Gt(Wi)}function Co(){return St().memoizedState}function Mo(){return St().memoizedState}function xh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=dn();e=Rl(n);var l=Gl(t,e,n);l!==null&&(nn(l,t,n),Di(l,t,n)),t={cache:Ac()},e.payload=t;return}t=t.return}}function oh(e,t,n){var l=dn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Kr(e)?Do(t,n):(n=yc(e,t,n,l),n!==null&&(nn(n,e,l),No(n,t,l)))}function zo(e,t,n){var l=dn();Ei(e,t,n,l)}function Ei(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kr(e))Do(t,u);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var j=t.lastRenderedState,A=x(j,n);if(u.hasEagerState=!0,u.eagerState=A,cn(A,j))return Cr(e,t,u,0),ot===null&&jr(),!1}catch{}if(n=yc(e,t,u,l),n!==null)return nn(n,e,l),No(n,t,l),!0}return!1}function nu(e,t,n,l){if(l={lane:2,revertLane:qu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Kr(e)){if(t)throw Error(i(479))}else t=yc(e,n,l,2),t!==null&&nn(t,e,2)}function Kr(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Do(e,t){Ya=Rr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function No(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Nt(e,n)}}var qi={readContext:Gt,use:Ur,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};qi.useEffectEvent=vt;var Ao={readContext:Gt,use:Ur,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:fo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Zr(4194308,4,go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zr(4194308,4,e,t)},useInsertionEffect:function(e,t){Zr(4,2,e,t)},useMemo:function(e,t){var n=Xt();t=t===void 0?null:t;var l=e();if(ga){gn(!0);try{e()}finally{gn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Xt();if(n!==void 0){var u=n(t);if(ga){gn(!0);try{n(t)}finally{gn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=oh.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qc(e);var t=e.queue,n=zo.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Fc,useDeferredValue:function(e,t){var n=Xt();return $c(n,e,t)},useTransition:function(){var e=Qc(!1);return e=So.bind(null,Te,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,u=Xt();if(Ye){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ot===null)throw Error(i(349));(He&127)!==0||Wx(l,t,n)}u.memoizedState=n;var x={value:n,getSnapshot:t};return u.queue=x,fo(Fx.bind(null,l,x,e),[e]),l.flags|=2048,Xa(9,{destroy:void 0},Px.bind(null,l,x,n,t),null),n},useId:function(){var e=Xt(),t=ot.identifierPrefix;if(Ye){var n=Fn,l=Pn;n=(l&~(1<<32-Ue(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ah++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tu,useFormState:co,useActionState:co,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nu.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xc,useCacheRefresh:function(){return Xt().memoizedState=xh.bind(null,Te)},useEffectEvent:function(e){var t=Xt(),n={impl:e};return t.memoizedState=n,function(){if((nt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},lu={readContext:Gt,use:Ur,useCallback:yo,useContext:Gt,useEffect:Pc,useImperativeHandle:vo,useInsertionEffect:mo,useLayoutEffect:bo,useMemo:po,useReducer:Hr,useRef:oo,useState:function(){return Hr(bl)},useDebugValue:Fc,useDeferredValue:function(e,t){var n=St();return _o(n,ut.memoizedState,e,t)},useTransition:function(){var e=Hr(bl)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Qx,useId:Co,useHostTransitionStatus:tu,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){var n=St();return to(n,ut,e,t)},useMemoCache:Xc,useCacheRefresh:Mo};lu.useEffectEvent=ho;var Lo={readContext:Gt,use:Ur,useCallback:yo,useContext:Gt,useEffect:Pc,useImperativeHandle:vo,useInsertionEffect:mo,useLayoutEffect:bo,useMemo:po,useReducer:Vc,useRef:oo,useState:function(){return Vc(bl)},useDebugValue:Fc,useDeferredValue:function(e,t){var n=St();return ut===null?$c(n,e,t):_o(n,ut.memoizedState,e,t)},useTransition:function(){var e=Vc(bl)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Qx,useId:Co,useHostTransitionStatus:tu,useFormState:xo,useActionState:xo,useOptimistic:function(e,t){var n=St();return ut!==null?to(n,ut,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:Mo};Lo.useEffectEvent=ho;function au(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var iu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=dn(),u=Rl(l);u.payload=t,n!=null&&(u.callback=n),t=Gl(e,u,l),t!==null&&(nn(t,e,l),Di(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=dn(),u=Rl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Gl(e,u,l),t!==null&&(nn(t,e,l),Di(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dn(),l=Rl(n);l.tag=2,t!=null&&(l.callback=t),t=Gl(e,l,n),t!==null&&(nn(t,e,n),Di(t,e,n))}};function To(e,t,n,l,u,x,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,j):t.prototype&&t.prototype.isPureReactComponent?!pi(n,l)||!pi(u,x):!0}function Eo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&iu.enqueueReplaceState(t,t.state,null)}function va(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function qo(e){wr(e)}function Bo(e){console.error(e)}function ko(e){wr(e)}function Xr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Io(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ru(e,t,n){return n=Rl(n),n.tag=3,n.payload={element:null},n.callback=function(){Xr(e,t)},n}function Ro(e){return e=Rl(e),e.tag=3,e}function Go(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var x=l.value;e.payload=function(){return u(x)},e.callback=function(){Io(t,n,l)}}var j=n.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(e.callback=function(){Io(t,n,l),typeof u!="function"&&(Kl===null?Kl=new Set([this]):Kl.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function fh(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ra(t,n,u,!0),n=sn.current,n!==null){switch(n.tag){case 31:case 13:return zn===null?a0():n.alternate===null&&yt===0&&(yt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Lu(e,l,u)),!1;case 22:return n.flags|=65536,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Lu(e,l,u)),!1}throw Error(i(435,n.tag))}return Lu(e,l,u),a0(),!1}if(Ye)return t=sn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Cc&&(e=Error(i(422),{cause:l}),wi(wn(e,n)))):(l!==Cc&&(t=Error(i(423),{cause:l}),wi(wn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=wn(l,n),u=ru(e.stateNode,l,u),kc(e,u),yt!==4&&(yt=2)),!1;var x=Error(i(520),{cause:l});if(x=wn(x,n),Hi===null?Hi=[x]:Hi.push(x),yt!==4&&(yt=2),t===null)return!0;l=wn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=ru(n.stateNode,l,e),kc(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Kl===null||!Kl.has(x))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Ro(u),Go(u,e,n,l),kc(n,u),!1}n=n.return}while(n!==null);return!1}var cu=Error(i(461)),Mt=!1;function Ot(e,t,n,l){t.child=e===null?Hx(t,null,n,l):ba(t,e.child,n,l)}function Oo(e,t,n,l,u){n=n.render;var x=t.ref;if("ref"in l){var j={};for(var A in l)A!=="ref"&&(j[A]=l[A])}else j=l;return fa(t),l=Hc(e,t,n,j,x,u),A=Zc(),e!==null&&!Mt?(Yc(e,t,u),gl(e,t,u)):(Ye&&A&&wc(t),t.flags|=1,Ot(e,t,l,u),t.child)}function Uo(e,t,n,l,u){if(e===null){var x=n.type;return typeof x=="function"&&!pc(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,Ho(e,t,x,l,u)):(e=zr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!mu(e,u)){var j=x.memoizedProps;if(n=n.compare,n=n!==null?n:pi,n(j,l)&&e.ref===t.ref)return gl(e,t,u)}return t.flags|=1,e=ol(x,l),e.ref=t.ref,e.return=t,t.child=e}function Ho(e,t,n,l,u){if(e!==null){var x=e.memoizedProps;if(pi(x,l)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=l=x,mu(e,u))(e.flags&131072)!==0&&(Mt=!0);else return t.lanes=e.lanes,gl(e,t,u)}return uu(e,t,n,l,u)}function Zo(e,t,n,l){var u=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~x}else l=0,t.child=null;return Yo(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lr(t,x!==null?x.cachePool:null),x!==null?Kx(t,x):Rc(),Xx(t);else return l=t.lanes=536870912,Yo(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(Lr(t,x.cachePool),Kx(t,x),Ul(),t.memoizedState=null):(e!==null&&Lr(t,null),Rc(),Ul());return Ot(e,t,u,n),t.child}function Bi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yo(e,t,n,l,u){var x=Tc();return x=x===null?null:{parent:jt._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&Lr(t,null),Rc(),Xx(t),e!==null&&Ra(e,t,l,!0),t.childLanes=u,null}function Jr(e,t){return t=Qr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ko(e,t,n){return ba(t,e.child,null,n),e=Jr(t,t.pendingProps),e.flags|=2,xn(t),t.memoizedState=null,e}function dh(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ye){if(l.mode==="hidden")return e=Jr(t,l),t.lanes=536870912,Bi(null,e);if(Oc(t),(e=ft)?(e=ad(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:El!==null?{id:Pn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},n=zx(e),n.return=t,t.child=n,Rt=t,ft=null)):e=null,e===null)throw Bl(t);return t.lanes=536870912,null}return Jr(t,l)}var x=e.memoizedState;if(x!==null){var j=x.dehydrated;if(Oc(t),u)if(t.flags&256)t.flags&=-257,t=Ko(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Mt||Ra(e,t,n,!1),u=(n&e.childLanes)!==0,Mt||u){if(l=ot,l!==null&&(j=ct(l,n),j!==0&&j!==x.retryLane))throw x.retryLane=j,ua(e,j),nn(l,e,j),cu;a0(),t=Ko(e,t,n)}else e=x.treeContext,ft=Dn(j.nextSibling),Rt=t,Ye=!0,ql=null,Mn=!1,e!==null&&Ax(t,e),t=Jr(t,l),t.flags|=4096;return t}return e=ol(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Vr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function uu(e,t,n,l,u){return fa(t),n=Hc(e,t,n,l,void 0,u),l=Zc(),e!==null&&!Mt?(Yc(e,t,u),gl(e,t,u)):(Ye&&l&&wc(t),t.flags|=1,Ot(e,t,n,u),t.child)}function Xo(e,t,n,l,u,x){return fa(t),t.updateQueue=null,n=Vx(t,l,n,u),Jx(e),l=Zc(),e!==null&&!Mt?(Yc(e,t,x),gl(e,t,x)):(Ye&&l&&wc(t),t.flags|=1,Ot(e,t,n,x),t.child)}function Jo(e,t,n,l,u){if(fa(t),t.stateNode===null){var x=qa,j=n.contextType;typeof j=="object"&&j!==null&&(x=Gt(j)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=iu,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},qc(t),j=n.contextType,x.context=typeof j=="object"&&j!==null?Gt(j):qa,x.state=t.memoizedState,j=n.getDerivedStateFromProps,typeof j=="function"&&(au(t,n,j,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(j=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),j!==x.state&&iu.enqueueReplaceState(x,x.state,null),Ai(t,l,x,u),Ni(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var A=t.memoizedProps,H=va(n,A);x.props=H;var te=x.context,re=n.contextType;j=qa,typeof re=="object"&&re!==null&&(j=Gt(re));var ue=n.getDerivedStateFromProps;re=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,re||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A||te!==j)&&Eo(t,x,l,j),Il=!1;var ne=t.memoizedState;x.state=ne,Ai(t,l,x,u),Ni(),te=t.memoizedState,A||ne!==te||Il?(typeof ue=="function"&&(au(t,n,ue,l),te=t.memoizedState),(H=Il||To(t,n,H,l,ne,te,j))?(re||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),x.props=l,x.state=te,x.context=j,l=H):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,Bc(e,t),j=t.memoizedProps,re=va(n,j),x.props=re,ue=t.pendingProps,ne=x.context,te=n.contextType,H=qa,typeof te=="object"&&te!==null&&(H=Gt(te)),A=n.getDerivedStateFromProps,(te=typeof A=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==ue||ne!==H)&&Eo(t,x,l,H),Il=!1,ne=t.memoizedState,x.state=ne,Ai(t,l,x,u),Ni();var ae=t.memoizedState;j!==ue||ne!==ae||Il||e!==null&&e.dependencies!==null&&Nr(e.dependencies)?(typeof A=="function"&&(au(t,n,A,l),ae=t.memoizedState),(re=Il||To(t,n,re,l,ne,ae,H)||e!==null&&e.dependencies!==null&&Nr(e.dependencies))?(te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,ae,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,ae,H)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),x.props=l,x.state=ae,x.context=H,l=re):(typeof x.componentDidUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Vr(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=ba(t,e.child,null,u),t.child=ba(t,null,n,u)):Ot(e,t,n,u),t.memoizedState=x.state,e=t.child):e=gl(e,t,u),e}function Vo(e,t,n,l){return xa(),t.flags|=256,Ot(e,t,n,l),t.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(e){return{baseLanes:e,cachePool:kx()}}function ou(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=fn),e}function Qo(e,t,n){var l=t.pendingProps,u=!1,x=(t.flags&128)!==0,j;if((j=x)||(j=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),j&&(u=!0,t.flags&=-129),j=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ye){if(u?Ol(t):Ul(),(e=ft)?(e=ad(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:El!==null?{id:Pn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},n=zx(e),n.return=t,t.child=n,Rt=t,ft=null)):e=null,e===null)throw Bl(t);return Ju(e)?t.lanes=32:t.lanes=536870912,null}var A=l.children;return l=l.fallback,u?(Ul(),u=t.mode,A=Qr({mode:"hidden",children:A},u),l=sa(l,u,n,null),A.return=t,l.return=t,A.sibling=l,t.child=A,l=t.child,l.memoizedState=xu(n),l.childLanes=ou(e,j,n),t.memoizedState=su,Bi(null,l)):(Ol(t),fu(t,A))}var H=e.memoizedState;if(H!==null&&(A=H.dehydrated,A!==null)){if(x)t.flags&256?(Ol(t),t.flags&=-257,t=du(e,t,n)):t.memoizedState!==null?(Ul(),t.child=e.child,t.flags|=128,t=null):(Ul(),A=l.fallback,u=t.mode,l=Qr({mode:"visible",children:l.children},u),A=sa(A,u,n,null),A.flags|=2,l.return=t,A.return=t,l.sibling=A,t.child=l,ba(t,e.child,null,n),l=t.child,l.memoizedState=xu(n),l.childLanes=ou(e,j,n),t.memoizedState=su,t=Bi(null,l));else if(Ol(t),Ju(A)){if(j=A.nextSibling&&A.nextSibling.dataset,j)var te=j.dgst;j=te,l=Error(i(419)),l.stack="",l.digest=j,wi({value:l,source:null,stack:null}),t=du(e,t,n)}else if(Mt||Ra(e,t,n,!1),j=(n&e.childLanes)!==0,Mt||j){if(j=ot,j!==null&&(l=ct(j,n),l!==0&&l!==H.retryLane))throw H.retryLane=l,ua(e,l),nn(j,e,l),cu;Xu(A)||a0(),t=du(e,t,n)}else Xu(A)?(t.flags|=192,t.child=e.child,t=null):(e=H.treeContext,ft=Dn(A.nextSibling),Rt=t,Ye=!0,ql=null,Mn=!1,e!==null&&Ax(t,e),t=fu(t,l.children),t.flags|=4096);return t}return u?(Ul(),A=l.fallback,u=t.mode,H=e.child,te=H.sibling,l=ol(H,{mode:"hidden",children:l.children}),l.subtreeFlags=H.subtreeFlags&65011712,te!==null?A=ol(te,A):(A=sa(A,u,n,null),A.flags|=2),A.return=t,l.return=t,l.sibling=A,t.child=l,Bi(null,l),l=t.child,A=e.child.memoizedState,A===null?A=xu(n):(u=A.cachePool,u!==null?(H=jt._currentValue,u=u.parent!==H?{parent:H,pool:H}:u):u=kx(),A={baseLanes:A.baseLanes|n,cachePool:u}),l.memoizedState=A,l.childLanes=ou(e,j,n),t.memoizedState=su,Bi(e.child,l)):(Ol(t),n=e.child,e=n.sibling,n=ol(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(j=t.deletions,j===null?(t.deletions=[e],t.flags|=16):j.push(e)),t.child=n,t.memoizedState=null,n)}function fu(e,t){return t=Qr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Qr(e,t){return e=un(22,e,null,t),e.lanes=0,e}function du(e,t,n){return ba(t,e.child,null,n),e=fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Dc(e.return,t,n)}function hu(e,t,n,l,u,x){var j=e.memoizedState;j===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:x}:(j.isBackwards=t,j.rendering=null,j.renderingStartTime=0,j.last=l,j.tail=n,j.tailMode=u,j.treeForkCount=x)}function Po(e,t,n){var l=t.pendingProps,u=l.revealOrder,x=l.tail;l=l.children;var j=_t.current,A=(j&2)!==0;if(A?(j=j&1|2,t.flags|=128):j&=1,O(_t,j),Ot(e,t,l,n),l=Ye?Si:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wo(e,n,t);else if(e.tag===19)Wo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Ir(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),hu(t,!1,u,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ir(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}hu(t,!0,n,null,x,l);break;case"together":hu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function gl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ol(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ol(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Nr(e)))}function hh(e,t,n){switch(t.tag){case 3:me(t,t.stateNode.containerInfo),kl(t,jt,e.memoizedState.cache),xa();break;case 27:case 5:ge(t);break;case 4:me(t,t.stateNode.containerInfo);break;case 10:kl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Oc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ol(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Qo(e,t,n):(Ol(t),e=gl(e,t,n),e!==null?e.sibling:null);Ol(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ra(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Po(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),O(_t,_t.current),l)break;return null;case 22:return t.lanes=0,Zo(e,t,n,t.pendingProps);case 24:kl(t,jt,e.memoizedState.cache)}return gl(e,t,n)}function Fo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Mt=!0;else{if(!mu(e,n)&&(t.flags&128)===0)return Mt=!1,hh(e,t,n);Mt=(e.flags&131072)!==0}else Mt=!1,Ye&&(t.flags&1048576)!==0&&Nx(t,Si,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ha(t.elementType),t.type=e,typeof e=="function")pc(e)?(l=va(e,l),t.tag=1,t=Jo(null,t,e,l,n)):(t.tag=0,t=uu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===G){t.tag=11,t=Oo(null,t,e,l,n);break e}else if(u===Z){t.tag=14,t=Uo(null,t,e,l,n);break e}}throw t=S(e)||e,Error(i(306,t,""))}}return t;case 0:return uu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=va(l,t.pendingProps),Jo(e,t,l,u,n);case 3:e:{if(me(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var x=t.memoizedState;u=x.element,Bc(e,t),Ai(t,l,null,n);var j=t.memoizedState;if(l=j.cache,kl(t,jt,l),l!==x.cache&&Nc(t,[jt],n,!0),Ni(),l=j.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:j.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Vo(e,t,l,n);break e}else if(l!==u){u=wn(Error(i(424)),t),wi(u),t=Vo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ft=Dn(e.firstChild),Rt=t,Ye=!0,ql=null,Mn=!0,n=Hx(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),l===u){t=gl(e,t,n);break e}Ot(e,t,l,n)}t=t.child}return t;case 26:return Vr(e,t),e===null?(n=xd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ye||(n=t.type,e=t.pendingProps,l=o0(le.current).createElement(n),l[ze]=t,l[It]=e,Ut(l,n,e),Xe(l),t.stateNode=l):t.memoizedState=xd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ge(t),e===null&&Ye&&(l=t.stateNode=cd(t.type,t.pendingProps,le.current),Rt=t,Mn=!0,u=ft,Ql(t.type)?(Vu=u,ft=Dn(l.firstChild)):ft=u),Ot(e,t,t.pendingProps.children,n),Vr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ye&&((u=l=ft)&&(l=Yh(l,t.type,t.pendingProps,Mn),l!==null?(t.stateNode=l,Rt=t,ft=Dn(l.firstChild),Mn=!1,u=!0):u=!1),u||Bl(t)),ge(t),u=t.type,x=t.pendingProps,j=e!==null?e.memoizedProps:null,l=x.children,Zu(u,x)?l=null:j!==null&&Zu(u,j)&&(t.flags|=32),t.memoizedState!==null&&(u=Hc(e,t,ih,null,null,n),Wi._currentValue=u),Vr(e,t),Ot(e,t,l,n),t.child;case 6:return e===null&&Ye&&((e=n=ft)&&(n=Kh(n,t.pendingProps,Mn),n!==null?(t.stateNode=n,Rt=t,ft=null,e=!0):e=!1),e||Bl(t)),null;case 13:return Qo(e,t,n);case 4:return me(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ba(t,null,l,n):Ot(e,t,l,n),t.child;case 11:return Oo(e,t,t.type,t.pendingProps,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,kl(t,t.type,l.value),Ot(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,fa(t),u=Gt(u),l=l(u),t.flags|=1,Ot(e,t,l,n),t.child;case 14:return Uo(e,t,t.type,t.pendingProps,n);case 15:return Ho(e,t,t.type,t.pendingProps,n);case 19:return Po(e,t,n);case 31:return dh(e,t,n);case 22:return Zo(e,t,n,t.pendingProps);case 24:return fa(t),l=Gt(jt),e===null?(u=Tc(),u===null&&(u=ot,x=Ac(),u.pooledCache=x,x.refCount++,x!==null&&(u.pooledCacheLanes|=n),u=x),t.memoizedState={parent:l,cache:u},qc(t),kl(t,jt,u)):((e.lanes&n)!==0&&(Bc(e,t),Ai(t,null,null,n),Ni()),u=e.memoizedState,x=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),kl(t,jt,l)):(l=x.cache,kl(t,jt,l),l!==u.cache&&Nc(t,[jt],n,!0))),Ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function vl(e){e.flags|=4}function bu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Mf())e.flags|=8192;else throw ma=Er,Ec}else e.flags&=-16777217}function $o(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!md(t))if(Mf())e.flags|=8192;else throw ma=Er,Ec}function Wr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ve():536870912,e.lanes|=t,Wa|=t)}function ki(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function mh(e,t,n){var l=t.pendingProps;switch(jc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),hl(jt),fe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?vl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Mc())),dt(t),null;case 26:var u=t.type,x=t.memoizedState;return e===null?(vl(t),x!==null?(dt(t),$o(t,x)):(dt(t),bu(t,u,null,l,n))):x?x!==e.memoizedState?(vl(t),dt(t),$o(t,x)):(dt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&vl(t),dt(t),bu(t,u,e,l,n)),null;case 27:if(de(t),n=le.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return dt(t),null}e=U.current,Ia(t)?Lx(t):(e=cd(u,l,n),t.stateNode=e,vl(t))}return dt(t),null;case 5:if(de(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return dt(t),null}if(x=U.current,Ia(t))Lx(t);else{var j=o0(le.current);switch(x){case 1:x=j.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:x=j.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":x=j.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":x=j.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":x=j.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?j.createElement("select",{is:l.is}):j.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?j.createElement(u,{is:l.is}):j.createElement(u)}}x[ze]=t,x[It]=l;e:for(j=t.child;j!==null;){if(j.tag===5||j.tag===6)x.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===t)break e;for(;j.sibling===null;){if(j.return===null||j.return===t)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}t.stateNode=x;e:switch(Ut(x,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&vl(t)}}return dt(t),bu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=le.current,Ia(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Rt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[ze]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Wf(e.nodeValue,n)),e||Bl(t,!0)}else e=o0(e).createTextNode(l),e[ze]=t,t.stateNode=e}return dt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ze]=t}else xa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),e=!1}else n=Mc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(xn(t),t):(xn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ia(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[ze]=t}else xa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),u=!1}else u=Mc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(xn(t),t):(xn(t),null)}return xn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Wr(t,t.updateQueue),dt(t),null);case 4:return fe(),e===null&&Ru(t.stateNode.containerInfo),dt(t),null;case 10:return hl(t.type),dt(t),null;case 19:if(E(_t),l=t.memoizedState,l===null)return dt(t),null;if(u=(t.flags&128)!==0,x=l.rendering,x===null)if(u)ki(l,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Ir(e),x!==null){for(t.flags|=128,ki(l,!1),e=x.updateQueue,t.updateQueue=e,Wr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Mx(n,e),n=n.sibling;return O(_t,_t.current&1|2),Ye&&fl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Fe()>t0&&(t.flags|=128,u=!0,ki(l,!1),t.lanes=4194304)}else{if(!u)if(e=Ir(x),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Wr(t,e),ki(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!Ye)return dt(t),null}else 2*Fe()-l.renderingStartTime>t0&&n!==536870912&&(t.flags|=128,u=!0,ki(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Fe(),e.sibling=null,n=_t.current,O(_t,u?n&1|2:n&1),Ye&&fl(t,l.treeForkCount),e):(dt(t),null);case 22:case 23:return xn(t),Gc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),n=t.updateQueue,n!==null&&Wr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&E(da),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hl(jt),dt(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function bh(e,t){switch(jc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hl(jt),fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(xn(t),t.alternate===null)throw Error(i(340));xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return E(_t),null;case 4:return fe(),null;case 10:return hl(t.type),null;case 22:case 23:return xn(t),Gc(),e!==null&&E(da),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hl(jt),null;case 25:return null;default:return null}}function ef(e,t){switch(jc(t),t.tag){case 3:hl(jt),fe();break;case 26:case 27:case 5:de(t);break;case 4:fe();break;case 31:t.memoizedState!==null&&xn(t);break;case 13:xn(t);break;case 19:E(_t);break;case 10:hl(t.type);break;case 22:case 23:xn(t),Gc(),e!==null&&E(da);break;case 24:hl(jt)}}function Ii(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var x=n.create,j=n.inst;l=x(),j.destroy=l}n=n.next}while(n!==u)}}catch(A){it(t,t.return,A)}}function Hl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var x=u.next;l=x;do{if((l.tag&e)===e){var j=l.inst,A=j.destroy;if(A!==void 0){j.destroy=void 0,u=t;var H=n,te=A;try{te()}catch(re){it(u,H,re)}}}l=l.next}while(l!==x)}}catch(re){it(t,t.return,re)}}function tf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Yx(t,n)}catch(l){it(e,e.return,l)}}}function nf(e,t,n){n.props=va(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function Ri(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){it(e,t,u)}}function $n(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){it(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){it(e,t,u)}else n.current=null}function lf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){it(e,e.return,u)}}function gu(e,t,n){try{var l=e.stateNode;Rh(l,e.type,n,t),l[It]=t}catch(u){it(e,e.return,u)}}function af(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ql(e.type)||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ql(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sl));else if(l!==4&&(l===27&&Ql(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yu(e,t,n),e=e.sibling;e!==null;)yu(e,t,n),e=e.sibling}function Pr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Ql(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Pr(e,t,n),e=e.sibling;e!==null;)Pr(e,t,n),e=e.sibling}function rf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ut(t,l,n),t[ze]=e,t[It]=n}catch(x){it(e,e.return,x)}}var yl=!1,zt=!1,pu=!1,cf=typeof WeakSet=="function"?WeakSet:Set,Et=null;function gh(e,t){if(e=e.containerInfo,Uu=v0,e=gx(e),dc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var j=0,A=-1,H=-1,te=0,re=0,ue=e,ne=null;t:for(;;){for(var ae;ue!==n||u!==0&&ue.nodeType!==3||(A=j+u),ue!==x||l!==0&&ue.nodeType!==3||(H=j+l),ue.nodeType===3&&(j+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)ne=ue,ue=ae;for(;;){if(ue===e)break t;if(ne===n&&++te===u&&(A=j),ne===x&&++re===l&&(H=j),(ae=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=ae}n=A===-1||H===-1?null:{start:A,end:H}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hu={focusedElem:e,selectionRange:n},v0=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,u=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var be=va(n.type,u);e=l.getSnapshotBeforeUpdate(be,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ce){it(n,n.return,Ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ku(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ku(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function uf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:_l(e,n),l&4&&Ii(5,n);break;case 1:if(_l(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(j){it(n,n.return,j)}else{var u=va(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(j){it(n,n.return,j)}}l&64&&tf(n),l&512&&Ri(n,n.return);break;case 3:if(_l(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Yx(e,t)}catch(j){it(n,n.return,j)}}break;case 27:t===null&&l&4&&rf(n);case 26:case 5:_l(e,n),t===null&&l&4&&lf(n),l&512&&Ri(n,n.return);break;case 12:_l(e,n);break;case 31:_l(e,n),l&4&&of(e,n);break;case 13:_l(e,n),l&4&&ff(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Mh.bind(null,n),Xh(e,n))));break;case 22:if(l=n.memoizedState!==null||yl,!l){t=t!==null&&t.memoizedState!==null||zt,u=yl;var x=zt;yl=l,(zt=t)&&!x?Sl(e,n,(n.subtreeFlags&8772)!==0):_l(e,n),yl=u,zt=x}break;case 30:break;default:_l(e,n)}}function sf(e){var t=e.alternate;t!==null&&(e.alternate=null,sf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,Ft=!1;function pl(e,t,n){for(n=n.child;n!==null;)xf(e,t,n),n=n.sibling}function xf(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Gn,n)}catch{}switch(n.tag){case 26:zt||$n(n,t),pl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||$n(n,t);var l=ht,u=Ft;Ql(n.type)&&(ht=n.stateNode,Ft=!1),pl(e,t,n),Ji(n.stateNode),ht=l,Ft=u;break;case 5:zt||$n(n,t);case 6:if(l=ht,u=Ft,ht=null,pl(e,t,n),ht=l,Ft=u,ht!==null)if(Ft)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(n.stateNode)}catch(x){it(n,t,x)}else try{ht.removeChild(n.stateNode)}catch(x){it(n,t,x)}break;case 18:ht!==null&&(Ft?(e=ht,nd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ai(e)):nd(ht,n.stateNode));break;case 4:l=ht,u=Ft,ht=n.stateNode.containerInfo,Ft=!0,pl(e,t,n),ht=l,Ft=u;break;case 0:case 11:case 14:case 15:Hl(2,n,t),zt||Hl(4,n,t),pl(e,t,n);break;case 1:zt||($n(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&nf(n,t,l)),pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:zt=(l=zt)||n.memoizedState!==null,pl(e,t,n),zt=l;break;default:pl(e,t,n)}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ai(e)}catch(n){it(t,t.return,n)}}}function ff(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ai(e)}catch(n){it(t,t.return,n)}}function vh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cf),t;default:throw Error(i(435,e.tag))}}function Fr(e,t){var n=vh(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=zh.bind(null,e,l);l.then(u,u)}})}function $t(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],x=e,j=t,A=j;e:for(;A!==null;){switch(A.tag){case 27:if(Ql(A.type)){ht=A.stateNode,Ft=!1;break e}break;case 5:ht=A.stateNode,Ft=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,Ft=!0;break e}A=A.return}if(ht===null)throw Error(i(160));xf(x,j,u),ht=null,Ft=!1,x=u.alternate,x!==null&&(x.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)df(t,e),t=t.sibling}var Un=null;function df(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),en(e),l&4&&(Hl(3,e,e.return),Ii(3,e),Hl(5,e,e.return));break;case 1:$t(t,e),en(e),l&512&&(zt||n===null||$n(n,n.return)),l&64&&yl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Un;if($t(t,e),en(e),l&512&&(zt||n===null||$n(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":x=u.getElementsByTagName("title")[0],(!x||x[aa]||x[ze]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=u.createElement(l),u.head.insertBefore(x,u.querySelector("head > title"))),Ut(x,l,n),x[ze]=e,Xe(x),l=x;break e;case"link":var j=dd("link","href",u).get(l+(n.href||""));if(j){for(var A=0;A<j.length;A++)if(x=j[A],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){j.splice(A,1);break t}}x=u.createElement(l),Ut(x,l,n),u.head.appendChild(x);break;case"meta":if(j=dd("meta","content",u).get(l+(n.content||""))){for(A=0;A<j.length;A++)if(x=j[A],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){j.splice(A,1);break t}}x=u.createElement(l),Ut(x,l,n),u.head.appendChild(x);break;default:throw Error(i(468,l))}x[ze]=e,Xe(x),l=x}e.stateNode=l}else hd(u,e.type,e.stateNode);else e.stateNode=fd(u,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?hd(u,e.type,e.stateNode):fd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&gu(e,e.memoizedProps,n.memoizedProps)}break;case 27:$t(t,e),en(e),l&512&&(zt||n===null||$n(n,n.return)),n!==null&&l&4&&gu(e,e.memoizedProps,n.memoizedProps);break;case 5:if($t(t,e),en(e),l&512&&(zt||n===null||$n(n,n.return)),e.flags&32){u=e.stateNode;try{za(u,"")}catch(be){it(e,e.return,be)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,gu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(pu=!0);break;case 6:if($t(t,e),en(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(be){it(e,e.return,be)}}break;case 3:if(h0=null,u=Un,Un=f0(t.containerInfo),$t(t,e),Un=u,en(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(be){it(e,e.return,be)}pu&&(pu=!1,hf(e));break;case 4:l=Un,Un=f0(e.stateNode.containerInfo),$t(t,e),en(e),Un=l;break;case 12:$t(t,e),en(e);break;case 31:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 13:$t(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(e0=Fe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 22:u=e.memoizedState!==null;var H=n!==null&&n.memoizedState!==null,te=yl,re=zt;if(yl=te||u,zt=re||H,$t(t,e),zt=re,yl=te,en(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||H||yl||zt||ya(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){H=n=t;try{if(x=H.stateNode,u)j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{A=H.stateNode;var ue=H.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(be){it(H,H.return,be)}}}else if(t.tag===6){if(n===null){H=t;try{H.stateNode.nodeValue=u?"":H.memoizedProps}catch(be){it(H,H.return,be)}}}else if(t.tag===18){if(n===null){H=t;try{var ae=H.stateNode;u?ld(ae,!0):ld(H.stateNode,!1)}catch(be){it(H,H.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Fr(e,n))));break;case 19:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 30:break;case 21:break;default:$t(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(af(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,x=vu(e);Pr(e,x,u);break;case 5:var j=n.stateNode;n.flags&32&&(za(j,""),n.flags&=-33);var A=vu(e);Pr(e,A,j);break;case 3:case 4:var H=n.stateNode.containerInfo,te=vu(e);yu(e,te,H);break;default:throw Error(i(161))}}catch(re){it(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _l(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)uf(e,t.alternate,t),t=t.sibling}function ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hl(4,t,t.return),ya(t);break;case 1:$n(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&nf(t,t.return,n),ya(t);break;case 27:Ji(t.stateNode);case 26:case 5:$n(t,t.return),ya(t);break;case 22:t.memoizedState===null&&ya(t);break;case 30:ya(t);break;default:ya(t)}e=e.sibling}}function Sl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,x=t,j=x.flags;switch(x.tag){case 0:case 11:case 15:Sl(u,x,n),Ii(4,x);break;case 1:if(Sl(u,x,n),l=x,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(te){it(l,l.return,te)}if(l=x,u=l.updateQueue,u!==null){var A=l.stateNode;try{var H=u.shared.hiddenCallbacks;if(H!==null)for(u.shared.hiddenCallbacks=null,u=0;u<H.length;u++)Zx(H[u],A)}catch(te){it(l,l.return,te)}}n&&j&64&&tf(x),Ri(x,x.return);break;case 27:rf(x);case 26:case 5:Sl(u,x,n),n&&l===null&&j&4&&lf(x),Ri(x,x.return);break;case 12:Sl(u,x,n);break;case 31:Sl(u,x,n),n&&j&4&&of(u,x);break;case 13:Sl(u,x,n),n&&j&4&&ff(u,x);break;case 22:x.memoizedState===null&&Sl(u,x,n),Ri(x,x.return);break;case 30:break;default:Sl(u,x,n)}t=t.sibling}}function _u(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ji(n))}function Su(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ji(e))}function Hn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mf(e,t,n,l),t=t.sibling}function mf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Hn(e,t,n,l),u&2048&&Ii(9,t);break;case 1:Hn(e,t,n,l);break;case 3:Hn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ji(e)));break;case 12:if(u&2048){Hn(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,j=x.id,A=x.onPostCommit;typeof A=="function"&&A(j,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){it(t,t.return,H)}}else Hn(e,t,n,l);break;case 31:Hn(e,t,n,l);break;case 13:Hn(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,j=t.alternate,t.memoizedState!==null?x._visibility&2?Hn(e,t,n,l):Gi(e,t):x._visibility&2?Hn(e,t,n,l):(x._visibility|=2,Ja(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&_u(j,t);break;case 24:Hn(e,t,n,l),u&2048&&Su(t.alternate,t);break;default:Hn(e,t,n,l)}}function Ja(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,j=t,A=n,H=l,te=j.flags;switch(j.tag){case 0:case 11:case 15:Ja(x,j,A,H,u),Ii(8,j);break;case 23:break;case 22:var re=j.stateNode;j.memoizedState!==null?re._visibility&2?Ja(x,j,A,H,u):Gi(x,j):(re._visibility|=2,Ja(x,j,A,H,u)),u&&te&2048&&_u(j.alternate,j);break;case 24:Ja(x,j,A,H,u),u&&te&2048&&Su(j.alternate,j);break;default:Ja(x,j,A,H,u)}t=t.sibling}}function Gi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Gi(n,l),u&2048&&_u(l.alternate,l);break;case 24:Gi(n,l),u&2048&&Su(l.alternate,l);break;default:Gi(n,l)}t=t.sibling}}var Oi=8192;function Va(e,t,n){if(e.subtreeFlags&Oi)for(e=e.child;e!==null;)bf(e,t,n),e=e.sibling}function bf(e,t,n){switch(e.tag){case 26:Va(e,t,n),e.flags&Oi&&e.memoizedState!==null&&a2(n,Un,e.memoizedState,e.memoizedProps);break;case 5:Va(e,t,n);break;case 3:case 4:var l=Un;Un=f0(e.stateNode.containerInfo),Va(e,t,n),Un=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Oi,Oi=16777216,Va(e,t,n),Oi=l):Va(e,t,n));break;default:Va(e,t,n)}}function gf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,yf(l,e)}gf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vf(e),e=e.sibling}function vf(e){switch(e.tag){case 0:case 11:case 15:Ui(e),e.flags&2048&&Hl(9,e,e.return);break;case 3:Ui(e);break;case 12:Ui(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$r(e)):Ui(e);break;default:Ui(e)}}function $r(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,yf(l,e)}gf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hl(8,t,t.return),$r(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$r(t));break;default:$r(t)}e=e.sibling}}function yf(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:Hl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ji(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var u=l.sibling,x=l.return;if(sf(l),l===n){Et=null;break e}if(u!==null){u.return=x,Et=u;break e}Et=x}}}var yh={getCacheForType:function(e){var t=Gt(jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Gt(jt).controller.signal}},ph=typeof WeakMap=="function"?WeakMap:Map,nt=0,ot=null,Ge=null,He=0,at=0,on=null,Zl=!1,Qa=!1,wu=!1,wl=0,yt=0,Yl=0,pa=0,ju=0,fn=0,Wa=0,Hi=null,tn=null,Cu=!1,e0=0,pf=0,t0=1/0,n0=null,Kl=null,At=0,Xl=null,Pa=null,jl=0,Mu=0,zu=null,_f=null,Zi=0,Du=null;function dn(){return(nt&2)!==0&&He!==0?He&-He:M.T!==null?qu():vn()}function Sf(){if(fn===0)if((He&536870912)===0||Ye){var e=pe;pe<<=1,(pe&3932160)===0&&(pe=262144),fn=e}else fn=536870912;return e=sn.current,e!==null&&(e.flags|=32),fn}function nn(e,t,n){(e===ot&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),Jl(e,He,fn,!1)),Le(e,n),((nt&2)===0||e!==ot)&&(e===ot&&((nt&2)===0&&(pa|=n),yt===4&&Jl(e,He,fn,!1)),el(e))}function wf(e,t,n){if((nt&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||$e(e,t),u=l?wh(e,t):Au(e,t,!0),x=l;do{if(u===0){Qa&&!l&&Jl(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!_h(n)){u=Au(e,t,!1),x=!1;continue}if(u===2){if(x=t,e.errorRecoveryDisabledLanes&x)var j=0;else j=e.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){t=j;e:{var A=e;u=Hi;var H=A.current.memoizedState.isDehydrated;if(H&&(Fa(A,j).flags|=256),j=Au(A,j,!1),j!==2){if(wu&&!H){A.errorRecoveryDisabledLanes|=x,pa|=x,u=4;break e}x=tn,tn=u,x!==null&&(tn===null?tn=x:tn.push.apply(tn,x))}u=j}if(x=!1,u!==2)continue}}if(u===1){Fa(e,0),Jl(e,t,0,!0);break}e:{switch(l=e,x=u,x){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Jl(l,t,fn,!Zl);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=e0+300-Fe(),10<u)){if(Jl(l,t,fn,!Zl),we(l,0,!0)!==0)break e;jl=t,l.timeoutHandle=ed(jf.bind(null,l,n,tn,n0,Cu,t,fn,pa,Wa,Zl,x,"Throttled",-0,0),u);break e}jf(l,n,tn,n0,Cu,t,fn,pa,Wa,Zl,x,null,-0,0)}}break}while(!0);el(e)}function jf(e,t,n,l,u,x,j,A,H,te,re,ue,ne,ae){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sl},bf(t,x,ue);var be=(x&62914560)===x?e0-Fe():(x&4194048)===x?pf-Fe():0;if(be=i2(ue,be),be!==null){jl=x,e.cancelPendingCommit=be(Tf.bind(null,e,t,x,n,l,u,j,A,H,re,ue,null,ne,ae)),Jl(e,x,j,!te);return}}Tf(e,t,x,n,l,u,j,A,H)}function _h(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],x=u.getSnapshot;u=u.value;try{if(!cn(x(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jl(e,t,n,l){t&=~ju,t&=~pa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var x=31-Ue(u),j=1<<x;l[x]=-1,u&=~j}n!==0&&tt(e,n,t)}function l0(){return(nt&6)===0?(Yi(0),!1):!0}function Nu(){if(Ge!==null){if(at===0)var e=Ge.return;else e=Ge,dl=oa=null,Kc(e),Ha=null,Mi=0,e=Ge;for(;e!==null;)ef(e.alternate,e),e=e.return;Ge=null}}function Fa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Uh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),jl=0,Nu(),ot=e,Ge=n=ol(e.current,null),He=t,at=0,on=null,Zl=!1,Qa=$e(e,t),wu=!1,Wa=fn=ju=pa=Yl=yt=0,tn=Hi=null,Cu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Ue(l),x=1<<u;t|=e[u],l&=~x}return wl=t,jr(),n}function Cf(e,t){Te=null,M.H=qi,t===Ua||t===Tr?(t=Gx(),at=3):t===Ec?(t=Gx(),at=4):at=t===cu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,on=t,Ge===null&&(yt=1,Xr(e,wn(t,e.current)))}function Mf(){var e=sn.current;return e===null?!0:(He&4194048)===He?zn===null:(He&62914560)===He||(He&536870912)!==0?e===zn:!1}function zf(){var e=M.H;return M.H=qi,e===null?qi:e}function Df(){var e=M.A;return M.A=yh,e}function a0(){yt=4,Zl||(He&4194048)!==He&&sn.current!==null||(Qa=!0),(Yl&134217727)===0&&(pa&134217727)===0||ot===null||Jl(ot,He,fn,!1)}function Au(e,t,n){var l=nt;nt|=2;var u=zf(),x=Df();(ot!==e||He!==t)&&(n0=null,Fa(e,t)),t=!1;var j=yt;e:do try{if(at!==0&&Ge!==null){var A=Ge,H=on;switch(at){case 8:Nu(),j=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(t=!0);var te=at;if(at=0,on=null,$a(e,A,H,te),n&&Qa){j=0;break e}break;default:te=at,at=0,on=null,$a(e,A,H,te)}}Sh(),j=yt;break}catch(re){Cf(e,re)}while(!0);return t&&e.shellSuspendCounter++,dl=oa=null,nt=l,M.H=u,M.A=x,Ge===null&&(ot=null,He=0,jr()),j}function Sh(){for(;Ge!==null;)Nf(Ge)}function wh(e,t){var n=nt;nt|=2;var l=zf(),u=Df();ot!==e||He!==t?(n0=null,t0=Fe()+500,Fa(e,t)):Qa=$e(e,t);e:do try{if(at!==0&&Ge!==null){t=Ge;var x=on;t:switch(at){case 1:at=0,on=null,$a(e,t,x,1);break;case 2:case 9:if(Ix(x)){at=0,on=null,Af(t);break}t=function(){at!==2&&at!==9||ot!==e||(at=7),el(e)},x.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Ix(x)?(at=0,on=null,Af(t)):(at=0,on=null,$a(e,t,x,7));break;case 5:var j=null;switch(Ge.tag){case 26:j=Ge.memoizedState;case 5:case 27:var A=Ge;if(j?md(j):A.stateNode.complete){at=0,on=null;var H=A.sibling;if(H!==null)Ge=H;else{var te=A.return;te!==null?(Ge=te,i0(te)):Ge=null}break t}}at=0,on=null,$a(e,t,x,5);break;case 6:at=0,on=null,$a(e,t,x,6);break;case 8:Nu(),yt=6;break e;default:throw Error(i(462))}}jh();break}catch(re){Cf(e,re)}while(!0);return dl=oa=null,M.H=l,M.A=u,nt=n,Ge!==null?0:(ot=null,He=0,jr(),yt)}function jh(){for(;Ge!==null&&!Qt();)Nf(Ge)}function Nf(e){var t=Fo(e.alternate,e,wl);e.memoizedProps=e.pendingProps,t===null?i0(e):Ge=t}function Af(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xo(n,t,t.pendingProps,t.type,void 0,He);break;case 11:t=Xo(n,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:Kc(t);default:ef(n,t),t=Ge=Mx(t,wl),t=Fo(n,t,wl)}e.memoizedProps=e.pendingProps,t===null?i0(e):Ge=t}function $a(e,t,n,l){dl=oa=null,Kc(t),Ha=null,Mi=0;var u=t.return;try{if(fh(e,u,t,n,He)){yt=1,Xr(e,wn(n,e.current)),Ge=null;return}}catch(x){if(u!==null)throw Ge=u,x;yt=1,Xr(e,wn(n,e.current)),Ge=null;return}t.flags&32768?(Ye||l===1?e=!0:Qa||(He&536870912)!==0?e=!1:(Zl=e=!0,(l===2||l===9||l===3||l===6)&&(l=sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lf(t,e)):i0(t)}function i0(e){var t=e;do{if((t.flags&32768)!==0){Lf(t,Zl);return}e=t.return;var n=mh(t.alternate,t,wl);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);yt===0&&(yt=5)}function Lf(e,t){do{var n=bh(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);yt=6,Ge=null}function Tf(e,t,n,l,u,x,j,A,H){e.cancelPendingCommit=null;do r0();while(At!==0);if((nt&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(x=t.lanes|t.childLanes,x|=vc,kt(e,n,x,j,A,H),e===ot&&(Ge=ot=null,He=0),Pa=t,Xl=e,jl=n,Mu=x,zu=u,_f=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Dh(rl,function(){return If(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=N.p,N.p=2,j=nt,nt|=4;try{gh(e,t,n)}finally{nt=j,N.p=u,M.T=l}}At=1,Ef(),qf(),Bf()}}function Ef(){if(At===1){At=0;var e=Xl,t=Pa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var l=N.p;N.p=2;var u=nt;nt|=4;try{df(t,e);var x=Hu,j=gx(e.containerInfo),A=x.focusedElem,H=x.selectionRange;if(j!==A&&A&&A.ownerDocument&&bx(A.ownerDocument.documentElement,A)){if(H!==null&&dc(A)){var te=H.start,re=H.end;if(re===void 0&&(re=te),"selectionStart"in A)A.selectionStart=te,A.selectionEnd=Math.min(re,A.value.length);else{var ue=A.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),be=A.textContent.length,Ce=Math.min(H.start,be),xt=H.end===void 0?Ce:Math.min(H.end,be);!ae.extend&&Ce>xt&&(j=xt,xt=Ce,Ce=j);var F=mx(A,Ce),Q=mx(A,xt);if(F&&Q&&(ae.rangeCount!==1||ae.anchorNode!==F.node||ae.anchorOffset!==F.offset||ae.focusNode!==Q.node||ae.focusOffset!==Q.offset)){var ee=ue.createRange();ee.setStart(F.node,F.offset),ae.removeAllRanges(),Ce>xt?(ae.addRange(ee),ae.extend(Q.node,Q.offset)):(ee.setEnd(Q.node,Q.offset),ae.addRange(ee))}}}}for(ue=[],ae=A;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var ce=ue[A];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}v0=!!Uu,Hu=Uu=null}finally{nt=u,N.p=l,M.T=n}}e.current=t,At=2}}function qf(){if(At===2){At=0;var e=Xl,t=Pa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var l=N.p;N.p=2;var u=nt;nt|=4;try{uf(e,t.alternate,t)}finally{nt=u,N.p=l,M.T=n}}At=3}}function Bf(){if(At===4||At===3){At=0,Vn();var e=Xl,t=Pa,n=jl,l=_f;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,Pa=Xl=null,kf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Kl=null),gt(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Gn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,u=N.p,N.p=2,M.T=null;try{for(var x=e.onRecoverableError,j=0;j<l.length;j++){var A=l[j];x(A.value,{componentStack:A.stack})}}finally{M.T=t,N.p=u}}(jl&3)!==0&&r0(),el(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Du?Zi++:(Zi=0,Du=e):Zi=0,Yi(0)}}function kf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ji(t)))}function r0(){return Ef(),qf(),Bf(),If()}function If(){if(At!==5)return!1;var e=Xl,t=Mu;Mu=0;var n=gt(jl),l=M.T,u=N.p;try{N.p=32>n?32:n,M.T=null,n=zu,zu=null;var x=Xl,j=jl;if(At=0,Pa=Xl=null,jl=0,(nt&6)!==0)throw Error(i(331));var A=nt;if(nt|=4,vf(x.current),mf(x,x.current,j,n),nt=A,Yi(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Gn,x)}catch{}return!0}finally{N.p=u,M.T=l,kf(e,t)}}function Rf(e,t,n){t=wn(n,t),t=ru(e.stateNode,t,2),e=Gl(e,t,2),e!==null&&(Le(e,2),el(e))}function it(e,t,n){if(e.tag===3)Rf(e,e,n);else for(;t!==null;){if(t.tag===3){Rf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kl===null||!Kl.has(l))){e=wn(n,e),n=Ro(2),l=Gl(t,n,2),l!==null&&(Go(n,l,t,e),Le(l,2),el(l));break}}t=t.return}}function Lu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new ph;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(wu=!0,u.add(n),e=Ch.bind(null,e,t,n),t.then(e,e))}function Ch(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ot===e&&(He&n)===n&&(yt===4||yt===3&&(He&62914560)===He&&300>Fe()-e0?(nt&2)===0&&Fa(e,0):ju|=n,Wa===He&&(Wa=0)),el(e)}function Gf(e,t){t===0&&(t=Ve()),e=ua(e,t),e!==null&&(Le(e,t),el(e))}function Mh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gf(e,n)}function zh(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Gf(e,n)}function Dh(e,t){return Tt(e,t)}var c0=null,ei=null,Tu=!1,u0=!1,Eu=!1,Vl=0;function el(e){e!==ei&&e.next===null&&(ei===null?c0=ei=e:ei=ei.next=e),u0=!0,Tu||(Tu=!0,Ah())}function Yi(e,t){if(!Eu&&u0){Eu=!0;do for(var n=!1,l=c0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var x=0;else{var j=l.suspendedLanes,A=l.pingedLanes;x=(1<<31-Ue(42|e)+1)-1,x&=u&~(j&~A),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Zf(l,x))}else x=He,x=we(l,l===ot?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||$e(l,x)||(n=!0,Zf(l,x));l=l.next}while(n);Eu=!1}}function Nh(){Of()}function Of(){u0=Tu=!1;var e=0;Vl!==0&&Oh()&&(e=Vl);for(var t=Fe(),n=null,l=c0;l!==null;){var u=l.next,x=Uf(l,t);x===0?(l.next=null,n===null?c0=u:n.next=u,u===null&&(ei=n)):(n=l,(e!==0||(x&3)!==0)&&(u0=!0)),l=u}At!==0&&At!==5||Yi(e),Vl!==0&&(Vl=0)}function Uf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var j=31-Ue(x),A=1<<j,H=u[j];H===-1?((A&n)===0||(A&l)!==0)&&(u[j]=et(A,t)):H<=t&&(e.expiredLanes|=A),x&=~A}if(t=ot,n=He,n=we(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Kt(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||$e(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Kt(l),gt(n)){case 2:case 8:n=il;break;case 32:n=rl;break;case 268435456:n=la;break;default:n=rl}return l=Hf.bind(null,e),n=Tt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Kt(l),e.callbackPriority=2,e.callbackNode=null,2}function Hf(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(r0()&&e.callbackNode!==n)return null;var l=He;return l=we(e,e===ot?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(wf(e,l,t),Uf(e,Fe()),e.callbackNode!=null&&e.callbackNode===n?Hf.bind(null,e):null)}function Zf(e,t){if(r0())return null;wf(e,t,!0)}function Ah(){Hh(function(){(nt&6)!==0?Tt(Dl,Nh):Of()})}function qu(){if(Vl===0){var e=Ga;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),Vl=e}return Vl}function Yf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:br(""+e)}function Kf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Lh(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var x=Yf((u[It]||null).action),j=l.submitter;j&&(t=(t=j[It]||null)?Yf(t.formAction):j.getAttribute("formAction"),t!==null&&(x=t,j=null));var A=new pr("action","action",null,l,u);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vl!==0){var H=j?Kf(u,j):new FormData(u);eu(n,{pending:!0,data:H,method:u.method,action:x},null,H)}}else typeof x=="function"&&(A.preventDefault(),H=j?Kf(u,j):new FormData(u),eu(n,{pending:!0,data:H,method:u.method,action:x},x,H))},currentTarget:u}]})}}for(var Bu=0;Bu<gc.length;Bu++){var ku=gc[Bu],Th=ku.toLowerCase(),Eh=ku[0].toUpperCase()+ku.slice(1);On(Th,"on"+Eh)}On(px,"onAnimationEnd"),On(_x,"onAnimationIteration"),On(Sx,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Q1,"onTransitionRun"),On(W1,"onTransitionStart"),On(P1,"onTransitionCancel"),On(wx,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ki));function Xf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var j=l.length-1;0<=j;j--){var A=l[j],H=A.instance,te=A.currentTarget;if(A=A.listener,H!==x&&u.isPropagationStopped())break e;x=A,u.currentTarget=te;try{x(u)}catch(re){wr(re)}u.currentTarget=null,x=H}else for(j=0;j<l.length;j++){if(A=l[j],H=A.instance,te=A.currentTarget,A=A.listener,H!==x&&u.isPropagationStopped())break e;x=A,u.currentTarget=te;try{x(u)}catch(re){wr(re)}u.currentTarget=null,x=H}}}}function Oe(e,t){var n=t[yn];n===void 0&&(n=t[yn]=new Set);var l=e+"__bubble";n.has(l)||(Jf(t,e,2,!1),n.add(l))}function Iu(e,t,n){var l=0;t&&(l|=4),Jf(n,e,l,t)}var s0="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[s0]){e[s0]=!0,wt.forEach(function(n){n!=="selectionchange"&&(qh.has(n)||Iu(n,!1,e),Iu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[s0]||(t[s0]=!0,Iu("selectionchange",!1,t))}}function Jf(e,t,n,l){switch(Sd(t)){case 2:var u=u2;break;case 8:u=s2;break;default:u=$u}n=u.bind(null,t,n,e),u=void 0,!ac||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Gu(e,t,n,l,u){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var j=l.tag;if(j===3||j===4){var A=l.stateNode.containerInfo;if(A===u)break;if(j===4)for(j=l.return;j!==null;){var H=j.tag;if((H===3||H===4)&&j.stateNode.containerInfo===u)return;j=j.return}for(;A!==null;){if(j=Ll(A),j===null)return;if(H=j.tag,H===5||H===6||H===26||H===27){l=x=j;continue e}A=A.parentNode}}l=l.return}Ws(function(){var te=x,re=nc(n),ue=[];e:{var ne=jx.get(e);if(ne!==void 0){var ae=pr,be=e;switch(e){case"keypress":if(vr(n)===0)break e;case"keydown":case"keyup":ae=z1;break;case"focusin":be="focus",ae=uc;break;case"focusout":be="blur",ae=uc;break;case"beforeblur":case"afterblur":ae=uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=$s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=m1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=A1;break;case px:case _x:case Sx:ae=v1;break;case wx:ae=T1;break;case"scroll":case"scrollend":ae=d1;break;case"wheel":ae=q1;break;case"copy":case"cut":case"paste":ae=p1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=tx;break;case"toggle":case"beforetoggle":ae=k1}var Ce=(t&4)!==0,xt=!Ce&&(e==="scroll"||e==="scrollend"),F=Ce?ne!==null?ne+"Capture":null:ne;Ce=[];for(var Q=te,ee;Q!==null;){var ce=Q;if(ee=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ee===null||F===null||(ce=di(Q,F),ce!=null&&Ce.push(Xi(Q,ce,ee))),xt)break;Q=Q.return}0<Ce.length&&(ne=new ae(ne,be,null,n,re),ue.push({event:ne,listeners:Ce}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&n!==tc&&(be=n.relatedTarget||n.fromElement)&&(Ll(be)||be[Al]))break e;if((ae||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(be=n.relatedTarget||n.toElement,ae=te,be=be?Ll(be):null,be!==null&&(xt=f(be),Ce=be.tag,be!==xt||Ce!==5&&Ce!==27&&Ce!==6)&&(be=null)):(ae=null,be=te),ae!==be)){if(Ce=$s,ce="onMouseLeave",F="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(Ce=tx,ce="onPointerLeave",F="onPointerEnter",Q="pointer"),xt=ae==null?ne:_e(ae),ee=be==null?ne:_e(be),ne=new Ce(ce,Q+"leave",ae,n,re),ne.target=xt,ne.relatedTarget=ee,ce=null,Ll(re)===te&&(Ce=new Ce(F,Q+"enter",be,n,re),Ce.target=ee,Ce.relatedTarget=xt,ce=Ce),xt=ce,ae&&be)t:{for(Ce=Bh,F=ae,Q=be,ee=0,ce=F;ce;ce=Ce(ce))ee++;ce=0;for(var je=Q;je;je=Ce(je))ce++;for(;0<ee-ce;)F=Ce(F),ee--;for(;0<ce-ee;)Q=Ce(Q),ce--;for(;ee--;){if(F===Q||Q!==null&&F===Q.alternate){Ce=F;break t}F=Ce(F),Q=Ce(Q)}Ce=null}else Ce=null;ae!==null&&Vf(ue,ne,ae,Ce,!1),be!==null&&xt!==null&&Vf(ue,xt,be,Ce,!0)}}e:{if(ne=te?_e(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var We=sx;else if(cx(ne))if(xx)We=X1;else{We=Y1;var ve=Z1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&ec(te.elementType)&&(We=sx):We=K1;if(We&&(We=We(e,te))){ux(ue,We,n,re);break e}ve&&ve(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&$0(ne,"number",ne.value)}switch(ve=te?_e(te):window,e){case"focusin":(cx(ve)||ve.contentEditable==="true")&&(La=ve,hc=te,_i=null);break;case"focusout":_i=hc=La=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,vx(ue,n,re);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":vx(ue,n,re)}var Ee;if(xc)e:{switch(e){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Aa?ix(e,n)&&(Ze="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ze="onCompositionStart");Ze&&(nx&&n.locale!=="ko"&&(Aa||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Aa&&(Ee=Ps()):(Tl=re,ic="value"in Tl?Tl.value:Tl.textContent,Aa=!0)),ve=x0(te,Ze),0<ve.length&&(Ze=new ex(Ze,e,null,n,re),ue.push({event:Ze,listeners:ve}),Ee?Ze.data=Ee:(Ee=rx(n),Ee!==null&&(Ze.data=Ee)))),(Ee=R1?G1(e,n):O1(e,n))&&(Ze=x0(te,"onBeforeInput"),0<Ze.length&&(ve=new ex("onBeforeInput","beforeinput",null,n,re),ue.push({event:ve,listeners:Ze}),ve.data=Ee)),Lh(ue,e,te,n,re)}Xf(ue,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function x0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,x=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||x===null||(u=di(e,n),u!=null&&l.unshift(Xi(e,u,x)),u=di(e,t),u!=null&&l.push(Xi(e,u,x))),e.tag===3)return l;e=e.return}return[]}function Bh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vf(e,t,n,l,u){for(var x=t._reactName,j=[];n!==null&&n!==l;){var A=n,H=A.alternate,te=A.stateNode;if(A=A.tag,H!==null&&H===l)break;A!==5&&A!==26&&A!==27||te===null||(H=te,u?(te=di(n,x),te!=null&&j.unshift(Xi(n,te,H))):u||(te=di(n,x),te!=null&&j.push(Xi(n,te,H)))),n=n.return}j.length!==0&&e.push({event:t,listeners:j})}var kh=/\r\n?/g,Ih=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(kh,`
`).replace(Ih,"")}function Wf(e,t){return t=Qf(t),Qf(e)===t}function st(e,t,n,l,u,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||za(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&za(e,""+l);break;case"className":hr(e,"class",l);break;case"tabIndex":hr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(e,n,l);break;case"style":Vs(e,l,x);break;case"data":if(t!=="object"){hr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&st(e,t,"name",u.name,u,null),st(e,t,"formEncType",u.formEncType,u,null),st(e,t,"formMethod",u.formMethod,u,null),st(e,t,"formTarget",u.formTarget,u,null)):(st(e,t,"encType",u.encType,u,null),st(e,t,"method",u.method,u,null),st(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=sl);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=br(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),dr(e,"popover",l);break;case"xlinkActuate":ul(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ul(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ul(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ul(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ul(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ul(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ul(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ul(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ul(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=o1.get(n)||n,dr(e,n,l))}}function Ou(e,t,n,l,u,x){switch(n){case"style":Vs(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?za(e,l):(typeof l=="number"||typeof l=="bigint")&&za(e,""+l);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=sl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),x=e[It]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,u),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):dr(e,n,l)}}}function Ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var l=!1,u=!1,x;for(x in n)if(n.hasOwnProperty(x)){var j=n[x];if(j!=null)switch(x){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:st(e,t,x,j,n,null)}}u&&st(e,t,"srcSet",n.srcSet,n,null),l&&st(e,t,"src",n.src,n,null);return;case"input":Oe("invalid",e);var A=x=j=u=null,H=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var re=n[l];if(re!=null)switch(l){case"name":u=re;break;case"type":j=re;break;case"checked":H=re;break;case"defaultChecked":te=re;break;case"value":x=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,t));break;default:st(e,t,l,re,n,null)}}Ys(e,x,A,H,te,j,u,!1);return;case"select":Oe("invalid",e),l=j=x=null;for(u in n)if(n.hasOwnProperty(u)&&(A=n[u],A!=null))switch(u){case"value":x=A;break;case"defaultValue":j=A;break;case"multiple":l=A;default:st(e,t,u,A,n,null)}t=x,n=j,e.multiple=!!l,t!=null?Ma(e,!!l,t,!1):n!=null&&Ma(e,!!l,n,!0);return;case"textarea":Oe("invalid",e),x=u=l=null;for(j in n)if(n.hasOwnProperty(j)&&(A=n[j],A!=null))switch(j){case"value":l=A;break;case"defaultValue":u=A;break;case"children":x=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:st(e,t,j,A,n,null)}Xs(e,l,u,x);return;case"option":for(H in n)n.hasOwnProperty(H)&&(l=n[H],l!=null)&&(H==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":st(e,t,H,l,n,null));return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(l=0;l<Ki.length;l++)Oe(Ki[l],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:st(e,t,te,l,n,null)}return;default:if(ec(t)){for(re in n)n.hasOwnProperty(re)&&(l=n[re],l!==void 0&&Ou(e,t,re,l,n,void 0));return}}for(A in n)n.hasOwnProperty(A)&&(l=n[A],l!=null&&st(e,t,A,l,n,null))}function Rh(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,x=null,j=null,A=null,H=null,te=null,re=null;for(ae in n){var ue=n[ae];if(n.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":H=ue;default:l.hasOwnProperty(ae)||st(e,t,ae,null,l,ue)}}for(var ne in l){var ae=l[ne];if(ue=n[ne],l.hasOwnProperty(ne)&&(ae!=null||ue!=null))switch(ne){case"type":x=ae;break;case"name":u=ae;break;case"checked":te=ae;break;case"defaultChecked":re=ae;break;case"value":j=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ae!==ue&&st(e,t,ne,ae,l,ue)}}F0(e,j,A,H,te,re,x,u);return;case"select":ae=j=A=ne=null;for(x in n)if(H=n[x],n.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":ae=H;default:l.hasOwnProperty(x)||st(e,t,x,null,l,H)}for(u in l)if(x=l[u],H=n[u],l.hasOwnProperty(u)&&(x!=null||H!=null))switch(u){case"value":ne=x;break;case"defaultValue":A=x;break;case"multiple":j=x;default:x!==H&&st(e,t,u,x,l,H)}t=A,n=j,l=ae,ne!=null?Ma(e,!!n,ne,!1):!!l!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":ae=ne=null;for(A in n)if(u=n[A],n.hasOwnProperty(A)&&u!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:st(e,t,A,null,l,u)}for(j in l)if(u=l[j],x=n[j],l.hasOwnProperty(j)&&(u!=null||x!=null))switch(j){case"value":ne=u;break;case"defaultValue":ae=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==x&&st(e,t,j,u,l,x)}Ks(e,ne,ae);return;case"option":for(var be in n)ne=n[be],n.hasOwnProperty(be)&&ne!=null&&!l.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:st(e,t,be,null,l,ne));for(H in l)ne=l[H],ae=n[H],l.hasOwnProperty(H)&&ne!==ae&&(ne!=null||ae!=null)&&(H==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":st(e,t,H,ne,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in n)ne=n[Ce],n.hasOwnProperty(Ce)&&ne!=null&&!l.hasOwnProperty(Ce)&&st(e,t,Ce,null,l,ne);for(te in l)if(ne=l[te],ae=n[te],l.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,t));break;default:st(e,t,te,ne,l,ae)}return;default:if(ec(t)){for(var xt in n)ne=n[xt],n.hasOwnProperty(xt)&&ne!==void 0&&!l.hasOwnProperty(xt)&&Ou(e,t,xt,void 0,l,ne);for(re in l)ne=l[re],ae=n[re],!l.hasOwnProperty(re)||ne===ae||ne===void 0&&ae===void 0||Ou(e,t,re,ne,l,ae);return}}for(var F in n)ne=n[F],n.hasOwnProperty(F)&&ne!=null&&!l.hasOwnProperty(F)&&st(e,t,F,null,l,ne);for(ue in l)ne=l[ue],ae=n[ue],!l.hasOwnProperty(ue)||ne===ae||ne==null&&ae==null||st(e,t,ue,ne,l,ae)}function Pf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],x=u.transferSize,j=u.initiatorType,A=u.duration;if(x&&A&&Pf(j)){for(j=0,A=u.responseEnd,l+=1;l<n.length;l++){var H=n[l],te=H.startTime;if(te>A)break;var re=H.transferSize,ue=H.initiatorType;re&&Pf(ue)&&(H=H.responseEnd,j+=re*(H<A?1:(A-te)/(H-te)))}if(--l,t+=8*(x+j)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uu=null,Hu=null;function o0(e){return e.nodeType===9?e:e.ownerDocument}function Ff(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $f(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=null;function Oh(){var e=window.event;return e&&e.type==="popstate"?e===Yu?!1:(Yu=e,!0):(Yu=null,!1)}var ed=typeof setTimeout=="function"?setTimeout:void 0,Uh=typeof clearTimeout=="function"?clearTimeout:void 0,td=typeof Promise=="function"?Promise:void 0,Hh=typeof queueMicrotask=="function"?queueMicrotask:typeof td<"u"?function(e){return td.resolve(null).then(e).catch(Zh)}:ed;function Zh(e){setTimeout(function(){throw e})}function Ql(e){return e==="head"}function nd(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ai(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ji(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ji(n);for(var x=n.firstChild;x;){var j=x.nextSibling,A=x.nodeName;x[aa]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=j}}else n==="body"&&Ji(e.ownerDocument.body);n=u}while(n);ai(t)}function ld(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Ku(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ku(n),fi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Yh(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[aa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function Kh(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function ad(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function Xu(e){return e.data==="$?"||e.data==="$~"}function Ju(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Xh(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Vu=null;function id(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function rd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=o0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ji(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fi(e)}var Nn=new Map,ud=new Set;function f0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cl=N.d;N.d={f:Jh,r:Vh,D:Qh,C:Wh,L:Ph,m:Fh,X:e2,S:$h,M:t2};function Jh(){var e=Cl.f(),t=l0();return e||t}function Vh(e){var t=he(e);t!==null&&t.tag===5&&t.type==="form"?jo(t):Cl.r(e)}var ti=typeof document>"u"?null:document;function sd(e,t,n){var l=ti;if(l&&typeof t=="string"&&t){var u=_n(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),ud.has(u)||(ud.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Ut(t,"link",e),Xe(t),l.head.appendChild(t)))}}function Qh(e){Cl.D(e),sd("dns-prefetch",e,null)}function Wh(e,t){Cl.C(e,t),sd("preconnect",e,t)}function Ph(e,t,n){Cl.L(e,t,n);var l=ti;if(l&&e&&t){var u='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+_n(n.imageSizes)+'"]')):u+='[href="'+_n(e)+'"]';var x=u;switch(t){case"style":x=ni(e);break;case"script":x=li(e)}Nn.has(x)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Nn.set(x,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Vi(x))||t==="script"&&l.querySelector(Qi(x))||(t=l.createElement("link"),Ut(t,"link",e),Xe(t),l.head.appendChild(t)))}}function Fh(e,t){Cl.m(e,t);var n=ti;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(e)+'"]',x=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=li(e)}if(!Nn.has(x)&&(e=y({rel:"modulepreload",href:e},t),Nn.set(x,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qi(x)))return}l=n.createElement("link"),Ut(l,"link",e),Xe(l),n.head.appendChild(l)}}}function $h(e,t,n){Cl.S(e,t,n);var l=ti;if(l&&e){var u=Re(l).hoistableStyles,x=ni(e);t=t||"default";var j=u.get(x);if(!j){var A={loading:0,preload:null};if(j=l.querySelector(Vi(x)))A.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nn.get(x))&&Qu(e,n);var H=j=l.createElement("link");Xe(H),Ut(H,"link",e),H._p=new Promise(function(te,re){H.onload=te,H.onerror=re}),H.addEventListener("load",function(){A.loading|=1}),H.addEventListener("error",function(){A.loading|=2}),A.loading|=4,d0(j,t,l)}j={type:"stylesheet",instance:j,count:1,state:A},u.set(x,j)}}}function e2(e,t){Cl.X(e,t);var n=ti;if(n&&e){var l=Re(n).hoistableScripts,u=li(e),x=l.get(u);x||(x=n.querySelector(Qi(u)),x||(e=y({src:e,async:!0},t),(t=Nn.get(u))&&Wu(e,t),x=n.createElement("script"),Xe(x),Ut(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function t2(e,t){Cl.M(e,t);var n=ti;if(n&&e){var l=Re(n).hoistableScripts,u=li(e),x=l.get(u);x||(x=n.querySelector(Qi(u)),x||(e=y({src:e,async:!0,type:"module"},t),(t=Nn.get(u))&&Wu(e,t),x=n.createElement("script"),Xe(x),Ut(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function xd(e,t,n,l){var u=(u=le.current)?f0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ni(n.href),n=Re(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ni(n.href);var x=Re(u).hoistableStyles,j=x.get(e);if(j||(u=u.ownerDocument||u,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,j),(x=u.querySelector(Vi(e)))&&!x._p&&(j.instance=x,j.state.loading=5),Nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nn.set(e,n),x||n2(u,e,n,j.state))),t&&l===null)throw Error(i(528,""));return j}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=li(n),n=Re(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ni(e){return'href="'+_n(e)+'"'}function Vi(e){return'link[rel="stylesheet"]['+e+"]"}function od(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function n2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ut(t,"link",n),Xe(t),e.head.appendChild(t))}function li(e){return'[src="'+_n(e)+'"]'}function Qi(e){return"script[async]"+e}function fd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+_n(n.href)+'"]');if(l)return t.instance=l,Xe(l),l;var u=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Xe(l),Ut(l,"style",u),d0(l,n.precedence,e),t.instance=l;case"stylesheet":u=ni(n.href);var x=e.querySelector(Vi(u));if(x)return t.state.loading|=4,t.instance=x,Xe(x),x;l=od(n),(u=Nn.get(u))&&Qu(l,u),x=(e.ownerDocument||e).createElement("link"),Xe(x);var j=x;return j._p=new Promise(function(A,H){j.onload=A,j.onerror=H}),Ut(x,"link",l),t.state.loading|=4,d0(x,n.precedence,e),t.instance=x;case"script":return x=li(n.src),(u=e.querySelector(Qi(x)))?(t.instance=u,Xe(u),u):(l=n,(u=Nn.get(x))&&(l=y({},n),Wu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Xe(u),Ut(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,d0(l,n.precedence,e));return t.instance}function d0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,x=u,j=0;j<l.length;j++){var A=l[j];if(A.dataset.precedence===t)x=A;else if(x!==u)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var h0=null;function dd(e,t,n){if(h0===null){var l=new Map,u=h0=new Map;u.set(n,l)}else u=h0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var x=n[u];if(!(x[aa]||x[ze]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var j=x.getAttribute(t)||"";j=e+j;var A=l.get(j);A?A.push(x):l.set(j,[x])}}return l}function hd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function l2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function md(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function a2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ni(l.href),x=t.querySelector(Vi(u));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=m0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,Xe(x);return}x=t.ownerDocument||t,l=od(l),(u=Nn.get(u))&&Qu(l,u),x=x.createElement("link"),Xe(x);var j=x;j._p=new Promise(function(A,H){j.onload=A,j.onerror=H}),Ut(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=m0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Pu=0;function i2(e,t){return e.stylesheets&&e.count===0&&g0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&g0(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&Pu===0&&(Pu=62500*Gh());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&g0(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>Pu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function m0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)g0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var b0=null;function g0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,b0=new Map,t.forEach(r2,e),b0=null,m0.call(e))}function r2(e,t){if(!(t.state.loading&4)){var n=b0.get(e);if(n)var l=n.get(null);else{n=new Map,b0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<u.length;x++){var j=u[x];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(n.set(j.dataset.precedence,j),l=j)}l&&n.set(null,l)}u=t.instance,j=u.getAttribute("data-precedence"),x=n.get(j)||l,x===l&&n.set(null,u),n.set(j,u),this.count++,l=m0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),x?x.parentNode.insertBefore(u,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Wi={$$typeof:k,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function c2(e,t,n,l,u,x,j,A,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qe(0),this.hiddenUpdates=Qe(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=x,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function bd(e,t,n,l,u,x,j,A,H,te,re,ue){return e=new c2(e,t,n,j,H,te,re,ue,A),t=1,x===!0&&(t|=24),x=un(3,null,null,t),e.current=x,x.stateNode=e,t=Ac(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},qc(x),e}function gd(e){return e?(e=qa,e):qa}function vd(e,t,n,l,u,x){u=gd(u),l.context===null?l.context=u:l.pendingContext=u,l=Rl(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=Gl(e,l,t),n!==null&&(nn(n,e,t),Di(n,e,t))}function yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fu(e,t){yd(e,t),(e=e.alternate)&&yd(e,t)}function pd(e){if(e.tag===13||e.tag===31){var t=ua(e,67108864);t!==null&&nn(t,e,67108864),Fu(e,67108864)}}function _d(e){if(e.tag===13||e.tag===31){var t=dn();t=lt(t);var n=ua(e,t);n!==null&&nn(n,e,t),Fu(e,t)}}var v0=!0;function u2(e,t,n,l){var u=M.T;M.T=null;var x=N.p;try{N.p=2,$u(e,t,n,l)}finally{N.p=x,M.T=u}}function s2(e,t,n,l){var u=M.T;M.T=null;var x=N.p;try{N.p=8,$u(e,t,n,l)}finally{N.p=x,M.T=u}}function $u(e,t,n,l){if(v0){var u=es(l);if(u===null)Gu(e,t,l,y0,n),wd(e,l);else if(o2(u,e,t,n,l))l.stopPropagation();else if(wd(e,l),t&4&&-1<x2.indexOf(e)){for(;u!==null;){var x=he(u);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var j=Me(x.pendingLanes);if(j!==0){var A=x;for(A.pendingLanes|=2,A.entangledLanes|=2;j;){var H=1<<31-Ue(j);A.entanglements[1]|=H,j&=~H}el(x),(nt&6)===0&&(t0=Fe()+500,Yi(0))}}break;case 31:case 13:A=ua(x,2),A!==null&&nn(A,x,2),l0(),Fu(x,2)}if(x=es(l),x===null&&Gu(e,t,l,y0,n),x===u)break;u=x}u!==null&&l.stopPropagation()}else Gu(e,t,l,null,n)}}function es(e){return e=nc(e),ts(e)}var y0=null;function ts(e){if(y0=null,e=Ll(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=p(t),e!==null)return e;e=null}else if(n===31){if(e=v(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return y0=e,null}function Sd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bn()){case Dl:return 2;case il:return 8;case rl:case Nl:return 32;case la:return 268435456;default:return 32}default:return 32}}var ns=!1,Wl=null,Pl=null,Fl=null,Pi=new Map,Fi=new Map,$l=[],x2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wd(e,t){switch(e){case"focusin":case"focusout":Wl=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(t.pointerId)}}function $i(e,t,n,l,u,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[u]},t!==null&&(t=he(t),t!==null&&pd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function o2(e,t,n,l,u){switch(t){case"focusin":return Wl=$i(Wl,e,t,n,l,u),!0;case"dragenter":return Pl=$i(Pl,e,t,n,l,u),!0;case"mouseover":return Fl=$i(Fl,e,t,n,l,u),!0;case"pointerover":var x=u.pointerId;return Pi.set(x,$i(Pi.get(x)||null,e,t,n,l,u)),!0;case"gotpointercapture":return x=u.pointerId,Fi.set(x,$i(Fi.get(x)||null,e,t,n,l,u)),!0}return!1}function jd(e){var t=Ll(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=p(n),t!==null){e.blockedOn=t,ja(e.priority,function(){_d(n)});return}}else if(t===31){if(t=v(n),t!==null){e.blockedOn=t,ja(e.priority,function(){_d(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function p0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=es(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);tc=l,n.target.dispatchEvent(l),tc=null}else return t=he(n),t!==null&&pd(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){p0(e)&&n.delete(t)}function f2(){ns=!1,Wl!==null&&p0(Wl)&&(Wl=null),Pl!==null&&p0(Pl)&&(Pl=null),Fl!==null&&p0(Fl)&&(Fl=null),Pi.forEach(Cd),Fi.forEach(Cd)}function _0(e,t){e.blockedOn===t&&(e.blockedOn=null,ns||(ns=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,f2)))}var S0=null;function Md(e){S0!==e&&(S0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){S0===e&&(S0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(ts(l||n)===null)continue;break}var x=he(n);x!==null&&(e.splice(t,3),t-=3,eu(x,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ai(e){function t(H){return _0(H,e)}Wl!==null&&_0(Wl,e),Pl!==null&&_0(Pl,e),Fl!==null&&_0(Fl,e),Pi.forEach(t),Fi.forEach(t);for(var n=0;n<$l.length;n++){var l=$l[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$l.length&&(n=$l[0],n.blockedOn===null);)jd(n),n.blockedOn===null&&$l.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],x=n[l+1],j=u[It]||null;if(typeof x=="function")j||Md(n);else if(j){var A=null;if(x&&x.hasAttribute("formAction")){if(u=x,j=x[It]||null)A=j.formAction;else if(ts(u)!==null)continue}else A=j.action;typeof A=="function"?n[l+1]=A:(n.splice(l,3),l-=3),Md(n)}}}function zd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(j){return u=j})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function ls(e){this._internalRoot=e}w0.prototype.render=ls.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=dn();vd(n,l,e,t,null,null)},w0.prototype.unmount=ls.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vd(e.current,2,null,e,null,null),l0(),t[Al]=null}};function w0(e){this._internalRoot=e}w0.prototype.unstable_scheduleHydration=function(e){if(e){var t=vn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$l.length&&t!==0&&t<$l[n].priority;n++);$l.splice(n,0,e),n===0&&jd(e)}};var Dd=r.version;if(Dd!=="19.2.3")throw Error(i(527,Dd,"19.2.3"));N.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var d2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var j0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!j0.isDisabled&&j0.supportsFiber)try{Gn=j0.inject(d2),Bt=j0}catch{}}return tr.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,l="",u=qo,x=Bo,j=ko;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(j=t.onRecoverableError)),t=bd(e,1,!1,null,null,n,l,null,u,x,j,zd),e[Al]=t.current,Ru(e),new ls(t)},tr.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var l=!1,u="",x=qo,j=Bo,A=ko,H=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(j=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.formState!==void 0&&(H=n.formState)),t=bd(e,1,!0,t,n??null,l,u,H,x,j,A,zd),t.context=gd(null),n=t.current,l=dn(),l=lt(l),u=Rl(l),u.callback=null,Gl(n,u,l),n=l,t.current.lanes=n,Le(t,n),el(t),e[Al]=t.current,Ru(e),new w0(t)},tr.version="19.2.3",tr}var Rd;function C2(){if(Rd)return rs.exports;Rd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),rs.exports=j2(),rs.exports}var M2=C2();const Ml=Zn;(function(c,r){const a=Zn,i=c();for(;;)try{if(parseInt(a(431))/1+-parseInt(a(441))/2*(-parseInt(a(459))/3)+parseInt(a(455))/4+-parseInt(a(446))/5*(parseInt(a(444))/6)+parseInt(a(458))/7*(parseInt(a(435))/8)+parseInt(a(448))/9+-parseInt(a(439))/10*(parseInt(a(442))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(D0,558893);const z2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),fs=z2(void 0,function(){const c=Zn,r={cDuim:"(((.+)+)+)+$"};return fs.toString()[c(447)](r.cDuim)[c(453)]()[c(434)](fs)[c(447)]("(((.+)+)+)+$")});function Zn(c,r){c=c-430;const a=D0();let i=a[c];if(Zn.OoaavP===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Zn.mKGCEw=o,Zn.MDOeUV={},Zn.OoaavP=!0}const f=a[0],p=c+f,v=Zn.MDOeUV[p];if(v)i=v;else{const d=function(m){this.fIIobe=m,this.QkulJP=[1,0,0],this.SmyXtw=function(){return"newState"},this.jzCozd="\\w+ *\\(\\) *{\\w+ *",this.uBaZZl=`['|"].+['|"];? *}`};d.prototype.kHZyqI=function(){const m=new RegExp(this.jzCozd+this.uBaZZl),_=m.test(this.SmyXtw.toString())?--this.QkulJP[1]:--this.QkulJP[0];return this.dnOJIf(_)},d.prototype.dnOJIf=function(m){return~m?this.OXfafx(this.fIIobe):m},d.prototype.OXfafx=function(m){for(let _=0,y=this.QkulJP.length;_<y;_++)this.QkulJP.push(Math.round(Math.random())),y=this.QkulJP.length;return m(this.QkulJP[0])},new d(Zn).kHZyqI(),i=Zn.mKGCEw(i),Zn.MDOeUV[p]=i}return i}fs();const z0=()=>new Date().toISOString(),qt=c=>c+"_"+Math[Ml(451)]()[Ml(453)](36).slice(2,10),ye=(c,r,a)=>Math[Ml(456)](r,Math.min(a,c)),ta=c=>{const r=Ml;return c==null?c:JSON[r(445)](JSON[r(430)](c))},lr=c=>Math[Ml(433)](c*.7/5)*5;function D0(){const c=["CMfUzg9T","Aw5JBhvKzxm","Dg9tDhjPBMC","zMLUza","nda4nty3mMPXsgDTDa","Bwf4","Cg9ZAxrPB24","ndCXohnRqKPJDW","nNvtDgvtua","C3rYAw5NAwz5","nJq5mtfmy0XtBfC","BgvHDMvZ","zMXVB3i","y29UC3rYDwn0B3i","nZyWqKfNu2TK","BgvUz3rO","z3jVDxbZ","yMnOEgK","mtbLsgvxzhi","zMXVD2vYCW","ndm3nty0zenMvKDJ","mtuYotG2ntDRAgzNv3a","zMXVD2vYswrZ","mJrbCw9LEfC","CgfYC2u","odK5mtG1zvDMtvny","C2vHCMnO","otCYotK0nxngwvDzqG","BgvHzKLKCW","ChvZAa"];return D0=function(){return c},D0()}function ll(c,r){const a=Ml;return c.groups?c[a(437)][a(454)](i=>i[a(443)][a(452)](r))??null:null}function D2(c,r){const a={nheSm:function(o,f,p){return o(f,p)}},i=a.nheSm(ll,c,r);return i?i.flowerIds:[r]}function zl(c,r){const a=Ml;return c.groups?c[a(437)].find(i=>i[a(449)][a(452)](r))??null:null}function N2(c,r){const a=Ml,i=(c[a(437)]??[])[a(454)](v=>v.id===r);if(!i)return{x:0,y:0};const o=[];for(const v of i.flowerIds){const d=c[a(440)].find(m=>m.id===v);d&&o[a(450)](d.position)}for(const v of i.leafIds){const d=(c[a(432)]??[]).find(m=>m.id===v);d&&o.push(d[a(457)])}if(o[a(436)]===0)return{x:0,y:0};const f=o.reduce((v,d)=>v+d.x,0),p=o.reduce((v,d)=>v+d.y,0);return{x:f/o[a(436)],y:p/o[a(436)]}}function Gd(c,r){const a=Ml,i={bchxi:function(f,p,v){return f(p,v)}},o=i[a(438)](zl,c,r);return o?o.leafIds:[r]}function N0(){const c=["z2P4wve","C2vHCMnO","quLbEw8","ufbJAKm","v21NyMi","mtK0mZq4mfrLqNn5BG","wKD1sNO","yLrlt2S","vxP0EKG","nJqWnZmXmKHuuNnpqG","ELzJwMm","n09pwgDmtq","B1fqD0i","nfjoEuT3Aq","nJC2otiZwLj0rvzZ","sNDmA0G","yMLsshy","vuLKCwK","Dwj6qvO","Duvzz1i","wgnZDLG","C2LU","rxfhwLG","Dw5PzM9YBq","Bgf5zxjdB3vUDa","kcGOlISPkYKRksSK","ANfWB0W","q0vLuwe","CvvKAge","CM91BMq","u1Lkq2i","Aurltxa","Bwf4","mtaYodG0nJDHvhzJrwu","zNr5sLG","z3jHzhvHBa","uxbvquy","s1zOzMG","nJiZmhD4qxzVvq","rK9Ltw4","ChvZAa","ndm3nJq2tuPVz1zZ","rNrsAxO","EfHnDgi","rw5fCNK","s2Lzq1y","tMDVA1m","wvnAAey","suzvwfu","CwvVs3O","u1fsvdi","q2XiEei","CfbzrhC","r0r3qw8","uLvZtxG","ve9UtMu","z3nTrvG","s0nxBLq","vgDXsvK","shbJC0S","tLnMzhK","BwLU","ntaYndDfELPkEg0","twDYqNC"];return N0=function(){return c},N0()}const rr=An;(function(c,r){const a=An,i=c();for(;;)try{if(-parseInt(a(316))/1+parseInt(a(307))/2+parseInt(a(300))/3*(-parseInt(a(315))/4)+parseInt(a(340))/5+-parseInt(a(343))/6+-parseInt(a(313))/7*(parseInt(a(311))/8)+parseInt(a(335))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(N0,548622);const A2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),ds=A2(void 0,function(){const c=An,r={ZLsta:c(327)};return ds.toString()[c(303)](r.ZLsta).toString().constructor(ds).search("(((.+)+)+)+$")});ds();const si=2/3,Od=.6,L2=.25,T2=.75;function An(c,r){c=c-283;const a=N0();let i=a[c];if(An.BTjavp===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};An.xxoUoC=o,An.LTMIBn={},An.BTjavp=!0}const f=a[0],p=c+f,v=An.LTMIBn[p];if(v)i=v;else{const d=function(m){this.dILhJP=m,this.MgUgBx=[1,0,0],this.BUTmgR=function(){return"newState"},this.IRYcKq="\\w+ *\\(\\) *{\\w+ *",this.pQyimL=`['|"].+['|"];? *}`};d.prototype.WaZZEo=function(){const m=new RegExp(this.IRYcKq+this.pQyimL),_=m.test(this.BUTmgR.toString())?--this.MgUgBx[1]:--this.MgUgBx[0];return this.zktvTg(_)},d.prototype.zktvTg=function(m){return~m?this.gxclQO(this.dILhJP):m},d.prototype.gxclQO=function(m){for(let _=0,y=this.MgUgBx.length;_<y;_++)this.MgUgBx.push(Math.round(Math.random())),y=this.MgUgBx.length;return m(this.MgUgBx[0])},new d(An).WaZZEo(),i=An.xxoUoC(i),An.LTMIBn[p]=i}return i}function na(c,r,a){const i=An,o={mZsnd:function(k,G){return k/G},TOnNe:function(k,G){return k*G},FrBKn:function(k,G){return k<=G},KiYCV:"uniform",qywBw:function(k,G){return k*G},MjuKz:function(k,G){return k/G},SYJCb:function(k,G){return k*G},fddvO:"gradual",UeKaZ:function(k,G){return k*G},lFybK:function(k,G){return k+G},jqpoL:function(k,G){return k*G},CEeQa:function(k,G){return k*G},tMPuV:function(k,G){return k<G},ZGuJz:function(k,G){return k===G},mlpJx:function(k,G){return k*G}},f=o.mZsnd(c,2),p=o.TOnNe(r,Math[i(288)])/2;if(p<=0||o.FrBKn(f,0))return{diameter:c,layerCount:1};const v=a?.sizeMode??o[i(283)],d=a?.sizeStepMm??0,m=o.qywBw(p,1-si),_=o.MjuKz(o[i(332)](Math.PI,f),2),y=a?.[i(326)]??Math[i(334)](1,Math.round(_/m)),w=v===o.fddvO?r+(y-1)*d:r,C=o.UeKaZ(w,Math[i(288)])/2,D=o.lFybK(p*L2,C*T2);if(y===1){const k=Math[i(299)](Math.PI/2,o.MjuKz(o.jqpoL(C,si),f)),G=o[i(293)](f,Math.sin(k)),X=o[i(329)](C*Od,Math[i(323)](k));return{diameter:Math[i(331)](Math.max(c,o.CEeQa(2,o.lFybK(G,X)))),layerCount:y}}let b=o[i(293)](p,si)/f;for(let k=1;o.tMPuV(k,y);k++){const G=o[i(308)](v,"gradual")?r+o.SYJCb(k,d):r,X=o.MjuKz(o[i(328)](G,Math[i(288)]),2);b+=o[i(293)](X,1-si)/f}b=Math.min(b,Math.PI/2);const h=o.TOnNe(f+o.qywBw(D,Od),Math.sin(b)),T=Math[i(334)](0,h-f);return{diameter:Math[i(331)](c+o.mlpJx(2,T)),layerCount:y}}function cr(c,r,a=rr(325),i=0){const o=rr,f={yoaGf:function(d,m){return d<=m},ftyJX:function(d,m){return d<=m},PPcjC:function(d,m){return d===m},uEYgR:"gradual",iDKMp:function(d,m){return d+m},bTKOk:function(d,m){return d/m},GDwAo:function(d,m){return d*m},TgqIY:function(d,m){return d<m},PFYep:function(d,m){return d*m}};if(f.yoaGf(r,0)||f[o(336)](c,0))return 0;const p=[];for(let d=0;d<r;d++){const m=f[o(305)](a,f[o(321)])?f[o(333)](c,d*i):c;p[o(342)](f[o(309)](f[o(291)](m,Math[o(288)]),2))}let v=p[0];for(let d=1;f[o(296)](d,r);d++)v+=p[d]/3;return Math[o(331)](f.PFYep(v,2))}function E2(c,r,a="uniform",i=0){const o=rr,f={xXMtb:function(y,w){return y<=w},eUiqz:function(y,w){return y/w},QpUAF:function(y,w){return y===w},EnEry:function(y,w){return y/w},ubzAZ:function(y,w){return y*w},gjxYQ:function(y,w){return y/w},biRHv:function(y,w){return y*w}};if(f[o(345)](r,0)||c<=0)return 0;const p=f.eUiqz(c,2),v=f.eUiqz(Math.SQRT2,2),d=r;if(f[o(338)](a,o(325))||f.QpUAF(i,0)){const y=f.eUiqz(v*(d+2),3);return Math[o(334)](1,Math.round(p/y))}const m=f[o(346)](f[o(320)](i*(d-1),d),6),_=f[o(302)](f[o(318)](p/v-m,3),d+2);return Math.max(1,Math[o(331)](_))}function q2(c,r,a){const i=rr,o={AIAyo:function(v,d){return v===d},ZyUDW:i(337),FtRiz:function(v,d){return v*d},HpcsK:function(v,d){return v/d},NgokS:function(v,d){return v*d},zVcZc:function(v,d){return v-d},UIdqi:function(v,d){return v<=d},IFUXU:function(v,d){return v/d},KVhfh:function(v,d){return v*d},gsmEX:function(v,d){return v+d},MgrBw:function(v,d){return v===d},bchcV:function(v,d){return v/d},JwLkH:function(v,d){return v/d},stkyf:function(v,d){return v*d},Wmgbb:function(v,d){return v*d},pSHjp:function(v,d){return v+d},OpooI:function(v,d){return v<d},pPYDw:function(v,d){return v===d},KCWnT:function(v,d){return v/d},ZTMbU:function(v,d){return v+d},POUPR:function(v,d){return v*d},sKVGL:function(v,d){return v*d},OVCIF:function(v,d){return v<d},RmRUh:function(v,d,m,_){return v(d,m,_)},wJUeL:function(v,d){return v<d},XtwQB:function(v,d){return v!==d},knRqM:i(289),YSZhF:i(298)};if(o[i(319)](c,r))return 1;let f=1,p=80;for(let v=0;o.OVCIF(v,30);v++){const d=(f+p)/2,{diameter:m}=o.RmRUh(na,r,d,a);if(o.wJUeL(m,c))if(o.XtwQB(o.knRqM,i(289))){const _=CdDjqN[i(304)](_0x74dfb1,CdDjqN.ZyUDW)?_0x5925b2+CdDjqN.FtRiz(_0x462644,_0x5b43a0):_0x4c1f48,y=CdDjqN[i(297)](CdDjqN[i(284)](_,_0x599367.SQRT2),2);_0xa9add1+=CdDjqN.HpcsK(CdDjqN.NgokS(y,CdDjqN.zVcZc(1,_0xc08fb1)),_0x5b2d29)}else f=d;else if(o[i(301)](i(298),o[i(285)]))p=d;else{const _=_0x5deea3/2,y=_0x310cd7*_0x29f8db[i(288)]/2;if(CdDjqN[i(319)](y,0)||_<=0)return{diameter:_0x4379da,layerCount:1};const w=_0x3956bf?.sizeMode??"uniform",C=_0xccac2e?.sizeStepMm??0,D=CdDjqN[i(344)](y,1-_0x143cd5),b=CdDjqN.HpcsK(CdDjqN[i(284)](_0x4ba003.PI,_),2),h=_0xab0e2c?.[i(326)]??_0x7b7350[i(334)](1,_0x119210.round(CdDjqN.HpcsK(b,D))),T=CdDjqN[i(304)](w,"gradual")?_0x26edc6+CdDjqN[i(312)](h,1)*C:_0x30fe6a,R=CdDjqN[i(286)](CdDjqN[i(339)](T,_0x33f2fd[i(288)]),2),k=CdDjqN.gsmEX(CdDjqN.FtRiz(y,_0x29ba15),R*_0x4fcbd4);if(CdDjqN[i(301)](h,1)){const V=_0x1c3a47.min(CdDjqN.bchcV(_0x155ed1.PI,2),CdDjqN.JwLkH(R*_0x2e42ac,_)),P=CdDjqN.stkyf(_,_0x2368ff.sin(V)),ie=CdDjqN[i(306)](R,_0x5f2538)*_0x2964f4.sin(V);return{diameter:_0x598a16.round(_0x45a24e[i(334)](_0x33726d,2*CdDjqN.pSHjp(P,ie))),layerCount:h}}let G=CdDjqN[i(344)](y,_0x57c1d0)/_;for(let V=1;CdDjqN.OpooI(V,h);V++){const P=CdDjqN[i(290)](w,i(337))?CdDjqN[i(294)](_0x223db2,V*C):_0x2aaa33,ie=CdDjqN[i(295)](P*_0x562c9d[i(288)],2);G+=CdDjqN[i(317)](ie*CdDjqN[i(312)](1,_0x2431a6),_)}G=_0x5f0852.min(G,_0x576f9c.PI/2);const X=CdDjqN.ZTMbU(_,CdDjqN.POUPR(k,_0x5c396b))*_0x18d57d[i(323)](G),K=_0x196c4e[i(334)](0,X-_);return{diameter:_0x547d62.round(_0x103f24+CdDjqN.sKVGL(2,K)),layerCount:h}}}return Math.max(1,Math[i(331)]((f+p)/2))}function B2(c,r,a){const i=rr,o={eZkXG:function(w,C){return w/C},oQPwB:function(w,C){return w*C},tJtxh:function(w,C){return w<=C},XcsvX:"uniform",qeoKz:function(w,C){return w===C},EqGZX:function(w,C){return w>=C},qUdha:i(292),vrUpX:function(w,C){return w/C},WkWMY:function(w,C){return w*C},UztzH:function(w,C){return w-C},PHakc:function(w,C){return w>C},FOeMn:function(w,C){return w+C}},f=o.eZkXG(c,2),p=o.eZkXG(o[i(314)](r,Math[i(288)]),2);if(o.tJtxh(p,0)||f<=0)return 1;const v=a?.sizeMode??i(325),d=a?.sizeStepMm??0,m=Math.PI/2;if(v===o[i(322)]||o[i(287)](d,0)){const w=p/3,C=o.eZkXG(o.oQPwB(Math.PI,f),2);return Math[i(334)](1,Math[i(331)](o.eZkXG(C,w)))}let _=p*si/f;if(o[i(324)](_,m))return 1;let y=1;for(let w=1;w<100;w++)if(o[i(330)]!=="RUsMx")_0x1ecd74=_0x1d8798;else{const C=r+w*d,D=o.vrUpX(C*Math.SQRT2,2),b=o.WkWMY(D,o[i(310)](1,si))/f;if(_+=b,o.PHakc(_,o[i(341)](m,o.vrUpX(b,2))))break;y=o[i(341)](w,1)}return Math[i(334)](1,y)}const Jn=Yn;(function(c,r){const a=Yn,i=c();for(;;)try{if(-parseInt(a(474))/1+-parseInt(a(463))/2*(-parseInt(a(488))/3)+-parseInt(a(491))/4*(parseInt(a(476))/5)+parseInt(a(459))/6+-parseInt(a(452))/7+parseInt(a(468))/8+-parseInt(a(453))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,109820);const k2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),hs=k2(void 0,function(){const c=Yn,r={zRIVP:c(503)};return hs.toString()[c(501)]("(((.+)+)+)+$")[c(486)]()[c(483)](hs)[c(501)](r.zRIVP)});hs();const xr=.28,Ud={:Jn(497),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function ms(c){const r=Jn,a={eNDZP:"",gIsPC:r(446)};return c===a[r(482)]?Ud[a.eNDZP]:Ud[a.gIsPC]}function wa(c){return{UpsGf:function(a,i){return a*i}}.UpsGf(c,Math.PI)/180}const rn=2.7;function Yn(c,r){c=c-441;const a=A0();let i=a[c];if(Yn.bFBlCH===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Yn.FXqlKY=o,Yn.mzesCe={},Yn.bFBlCH=!0}const f=a[0],p=c+f,v=Yn.mzesCe[p];if(v)i=v;else{const d=function(m){this.RzwtLo=m,this.xGytDt=[1,0,0],this.GTeYye=function(){return"newState"},this.ymXrCb="\\w+ *\\(\\) *{\\w+ *",this.OiFQVR=`['|"].+['|"];? *}`};d.prototype.eHglzo=function(){const m=new RegExp(this.ymXrCb+this.OiFQVR),_=m.test(this.GTeYye.toString())?--this.xGytDt[1]:--this.xGytDt[0];return this.AfzFVF(_)},d.prototype.AfzFVF=function(m){return~m?this.JPdodE(this.RzwtLo):m},d.prototype.JPdodE=function(m){for(let _=0,y=this.xGytDt.length;_<y;_++)this.xGytDt.push(Math.round(Math.random())),y=this.xGytDt.length;return m(this.xGytDt[0])},new d(Yn).eHglzo(),i=Yn.FXqlKY(i),Yn.mzesCe[p]=i}return i}function Ht(c){const r=Jn,a={ZItMb:function(p,v){return p/v},WQTFn:function(p,v){return p*v},vCtDY:function(p,v){return p/v}},i=a.ZItMb(c*Math.SQRT2,2),o=a.WQTFn(i,rn),f=a[r(467)](o,2);return{length:o,width:f}}function I2(c){return{WDtus:function(i,o){return i*o}}[Jn(479)](c,rn)/2}function A0(){const c=["tvv6BxC","zxzvy2O","AfrKBg0","u1HNzhy","CM91BMq","5lI444gK44g+44g/","vhvkqKG","CuPxzMK","ChvZAa","y29Z","wvDWy3i","mZe5ntaXzuTpBLfA","ndq4nJvxshnJwxe","Bwjdwhq","yuzXB3O","uwPvugm","C29YDa","zMLUza","ota0mJqYD3DqtxDn","s2z1DfK","vePHDwG","r0vtvNa","mtyWotCWsvbyCKjs","rgnQywi","BgvUz3rO","CKrwy1K","DKn0rfK","ntCZmdq4se9PtgLW","EfbzCMm","vwHutfe","ExjHAfm","s0HRCxe","ruLzsMu","mtCWmJe5z0zLzNHn","s3jwvfa","mJKYndvfBNnQy3y","DLvoDgC","EMrMEe4","v0r0Dxm","s3L0AxO","u3bms0u","zu5ewLa","y29UC3rYDwn0B3i","A1nVsKC","zez2qNa","Dg9tDhjPBMC","rfHxANe","nKPxEfDyzq","B3jKzxi","wg9tuhy","mZz4v054Dui","Bwf4","zLzuBuO","CMfKAxvZ","Dg9gAxHLza","tNDSA24","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","C2nHBgu","zMXVB3i","C2LU","C2vHCMnO","tLvUDxi","kcGOlISPkYKRksSK","BwLU"];return A0=function(){return c},A0()}function ar(c,r,a){const i=Jn,o={oohcb:function(m,_){return m*_},gJTUy:function(m,_){return m/_}},{length:f}=Ht(a),p=o.oohcb(f,r),v=Math[i(492)](0,c-o.oohcb(p,xr)),d=v+p;return o.gJTUy(d*2,rn)}function R2(c,r,a){const i=Jn,o={vUNtg:function(d,m){return d(m)},SISLf:function(d,m){return d*m},DXWjq:function(d,m){return d/m},LQttw:function(d,m){return d*m},QyqHn:function(d,m){return d-m}},{length:f}=o[i(477)](Ht,a),p=o.SISLf(f,r),v=o[i(487)](o.LQttw(c,rn),2);return Math[i(492)](2,v-o.LQttw(p,o.QyqHn(1,xr)))}function nl(c,r,a){const i=Jn,o={dpDWQ:function(_,y){return _*y},gsBnD:function(_,y){return _<=y},pUroK:function(_,y){return _/y},Dcjab:function(_,y){return _/y},hTdlm:function(_,y){return _<y},KHkqq:function(_,y){return _+y},HsLkX:function(_,y){return _%y},UlsQM:function(_,y){return _/y},mcTMk:function(_,y){return _+y},SXgdv:function(_,y){return _*y},fVTmJ:function(_,y){return _===y},GESVp:function(_,y){return _%y},NUnur:function(_,y){return _%y},aFqoz:function(_,y){return _+y},TJauh:function(_,y){return _*y},Kytiz:function(_,y){return _>y},tgMrI:function(_,y){return _-y},OwXMr:function(_,y){return _/y}};if(!c||o.gsBnD(c,0)||!a||a<=0)return r??0;const f=o.pUroK(360,c),p=o[i(464)](360,a),v=[];for(let _=0;o.hTdlm(_,c);_++)v.push(o.KHkqq(o.HsLkX(r+o.dpDWQ(_,f),360),360)%360);let d=o.KHkqq(r,o.UlsQM(f,2)),m=-1;for(let _=0;o[i(443)](_,c);_++){const y=o[i(472)](o.mcTMk(r,o[i(444)](_,f)),f/2);let w=1/0;for(let C=0;o[i(443)](C,a);C++)if(o[i(493)](i(470),"UhTLQ")){const D=o[i(462)](o[i(502)](o[i(455)](y,o[i(461)](C,p)),360)+360,360);for(const b of v){let h=Math.abs(D-b);o[i(480)](h,180)&&(h=o.tgMrI(360,h)),h<w&&(w=h)}}else{const{length:D}=_0x174e5d(_0x82e999),b=D*_0x25fd03;return(_0x3b3524.max(0,_0x450b51-cKOcIE.dpDWQ(b,_0x29e41d))+b)*2/_0x26cf39}w>m&&(m=w,d=y)}return o.OwXMr(Math.round(d*10),10)}function V0(c,r,a){const i=Jn,o={evUcj:function(C,D){return C*D},iXrUb:function(C,D){return C+D},EIYJe:function(C,D){return C<=D},QjUPc:function(C,D){return C/D},qJWfi:function(C,D){return C/D}};if(c[i(465)]===0)return;const{length:f}=Ht(r),p=c[0],v=p[i(498)]??1,d=o[i(442)](f,v),m=Math[i(492)](0,p.radius-d*xr),_=o.iXrUb(m,d);if(o[i(473)](_,0))return;const y=o[i(456)](o.evUcj(a,rn),2),w=o[i(448)](y,_);for(const C of c)C[i(494)]=Math[i(492)](2,Math[i(445)](C[i(494)]*w*10)/10),C.scale=o.QjUPc(Math.round((C.scale??1)*w*100),100);bs(c,r)}function bs(c,r){const a=Jn,i={KfutY:function(d,m){return d(m)},Nwlkn:function(d,m){return d*m},yrahS:function(d,m){return d/m},xPYrc:function(d,m){return d>m}};if(c.length===0)return;const o=c[c[a(465)]-1],{length:f}=i[a(460)](Ht,r),p=i[a(496)](f,o.scale??1),v=i[a(471)](Math[a(499)](p*xr*10),10);i[a(469)](o[a(494)],v)&&(o[a(494)]=v)}function G2(c,r,a,i){const o=Jn,f={HxdhY:function(w,C){return w===C},kSoJG:function(w,C){return w(C)},UXIlU:function(w,C){return w*C},Zirdn:function(w,C){return w/C},SpLKE:function(w,C){return w*C},BpdQC:function(w,C){return w*C},MUzmw:function(w,C){return w<C},UUOzq:function(w,C){return w-C},TuJBH:function(w,C){return w===C},zdfxN:function(w,C){return w>C},ynJVa:function(w,C){return w-C},QyHlx:function(w,C){return w*C},WNLvE:function(w,C){return w/C},vIpHb:function(w,C,D,b){return w(C,D,b)}};if(f.HxdhY(c.length,0))return;const p=[...c][o(457)]((w,C)=>C.order-w.order),{length:v}=f[o(484)](Ht,r),d=p[o(465)],m=p[0].scale??1,_=f.UXIlU(v,m);p[0].radius=f.Zirdn(Math[o(499)](f[o(481)](f.BpdQC(_,xr),10)),10);for(let w=1;f[o(441)](w,d);w++){const C=p[f.UUOzq(w,1)],D=v*(C.scale??1);let b;if(f[o(447)](a,"")){const T=70*Math.PI/180,R=f[o(478)](d,1)?f.BpdQC(f.Zirdn(w,f.ynJVa(d,1)),T):0;b=f.QyHlx(D,30/100)*Math[o(450)](R)}else b=D/3;p[w][o(494)]=f.WNLvE(Math[o(445)]((C.radius+b)*10),10)}const y=[...c][o(457)]((w,C)=>w.order-C[o(489)]);f.vIpHb(V0,y,r,i);for(const w of y){const C=c[o(458)](D=>D.id===w.id);C&&(C[o(494)]=w[o(494)],C[o(498)]=w[o(498)])}}function xi(c){const r=Jn,a={AYXtI:function(d,m){return d(m)},RXSto:function(d,m){return d/m},mbCXt:function(d,m){return d*m}},i=360/c,o=Math[r(500)](a.AYXtI(wa,i/2))*2,f=.96,p=1.2,v=a.RXSto(o*p,f);return Math.round(a[r(454)](Math[r(492)](.3,Math[r(504)](3,v)),100))/100}function Yt(c,r){c=c-256;const a=L0();let i=a[c];if(Yt.LiFbkO===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Yt.OWIGfM=o,Yt.XRKgOt={},Yt.LiFbkO=!0}const f=a[0],p=c+f,v=Yt.XRKgOt[p];if(v)i=v;else{const d=function(m){this.neFQLD=m,this.joRLsj=[1,0,0],this.wDrtXE=function(){return"newState"},this.aCvvGy="\\w+ *\\(\\) *{\\w+ *",this.NiZcpk=`['|"].+['|"];? *}`};d.prototype.iAIYzv=function(){const m=new RegExp(this.aCvvGy+this.NiZcpk),_=m.test(this.wDrtXE.toString())?--this.joRLsj[1]:--this.joRLsj[0];return this.kywsgt(_)},d.prototype.kywsgt=function(m){return~m?this.PzpLno(this.neFQLD):m},d.prototype.PzpLno=function(m){for(let _=0,y=this.joRLsj.length;_<y;_++)this.joRLsj.push(Math.round(Math.random())),y=this.joRLsj.length;return m(this.joRLsj[0])},new d(Yt).iAIYzv(),i=Yt.OWIGfM(i),Yt.XRKgOt[p]=i}return i}(function(c,r){const a=Yt,i=c();for(;;)try{if(parseInt(a(288))/1*(-parseInt(a(320))/2)+parseInt(a(271))/3+parseInt(a(299))/4+parseInt(a(310))/5+-parseInt(a(325))/6+-parseInt(a(287))/7*(-parseInt(a(260))/8)+-parseInt(a(336))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,100163);const O2=(function(){const c=Yt,r={XEIYj:function(i,o){return i===o},cOoQl:c(279)};let a=!0;return function(i,o){const f={CdZyk:function(v,d){return r[Yt(341)](v,d)},lPDqG:r.cOoQl},p=a?function(){const v=Yt;if(o)if(f.CdZyk(f[v(269)],"HJyjS")){const d=_0x3e2243.find(m=>m.id===_0x47a04e.id);d&&(d.radius=_0x205f75.radius,d.scale=_0x2ccbc9.scale)}else{const d=o[v(300)](i,arguments);return o=null,d}}:function(){};return a=!1,p}})(),gs=O2(void 0,function(){const c=Yt,r={huzkO:c(270)};return gs[c(257)]().search(r.huzkO)[c(257)]()[c(266)](gs)[c(330)]("(((.+)+)+)+$")});gs();function L0(){const c=["r1LQrhu","Bgf5zxjZ","zwzKvvG","Bu9nCva","tgXbvhC","rKzqA0W","ChjQ","u0HhAM8","u2Hqy3K","iZmZmZmZmW","uw1XAwe","i0q0qtG0mW","ntC2mw1mzLvPCq","mtCZmw1HzhbNvW","sw5Uzxi","y29Sx3LLBgXVDW","CMfKAxvZ","Exnet1C","zMX3","rMXVD2vYide","y29Sx2nYzwfT","sxfUAgG","i0yWoeeZqG","teDku0W","ntG2mZy0vLrbzM5j","yxbWBhK","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","rNLTyxe","ExDYExG","A1vIDxy","Cg9ZAxrPB24","y29Sx3bPBMS","y29Sx2rHCMTNCMvLBG","t3v0zxi","t1HOzeu","ntC5mtq1Cu5jDNDZ","iZjgqKy0qq","zwfVy0m","s1LhBg4","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","vu1nqu4","C29YDa","i0uZndG1ma","iZfbn0eZqq","y29Sx2DVBgq","mtbYy3PPvLa","Cgv0ywXdB3vUDa","q2vUDgvY","vMj1Bem","BM5lC2q","mJG1ody0sgz0u253","i0yYrda0qG","5y2k44gp44gz","C2nHBgu","iZHcnuuZqW","C2vHCMnO","BMfTzq","CezjyuW","ChjVAG","wfHKz0u","Bgf5","mZy0mdG3ofLfBvLlDq","r1zdrxq","y29Sx2jSywnR","zKn2t3u","B2zMC2v0qw5NBgu","wevjwwO","B3jKzxi","Cgv0ywXpDMvYCMLKzxm","iZLcntLcnG","Dg9tDhjPBMC","vuvPthe","i0zerJvdoq","mtKYogDvB3PhyW","yM55yKG","y29Sx2jSDwu","uvbqv00","EKzlq1O","BwfW","y29UC3rYDwn0B3i","5yMJ44gK44g+44g/","5lI444gK44g+44g/","BfbeCuC","kcGOlISPkYKRksSK","mZaWnZiZCwfbEeLr","ienVChK","y29Sx3DOAxrL","zMLUza"];return L0=function(){return c},L0()}function Vd(){const c=Yt,r={ywryx:c(273),ysDOW:"#F5F5F5",jIkJr:"col_red",YOlDz:c(317),sKbtH:"col_pink",ShPcy:"col_hotpink",foKyP:"col_orange",yBaXe:c(297),GVCEt:"col_lightyellow",Iqnhh:"col_green",fCvOu:c(307),XmEFs:c(318),qNTby:"#7EC8E3",GGEgN:c(262),UMMAN:"#3B7DD8",Fymaq:"col_navy",XXdgE:"#2C3E6B",IeUko:c(256),wUQkH:"col_lavender",kUbuv:"#C8A2D4",OXhdE:c(319),cRRND:c(286),lwFHp:"col_silver",swAgn:c(295),nnKsd:c(329),afbUL:"col_coral",NaFGx:"#F08080"};return[{id:r[c(303)],name:"",hex:r[c(292)]},{id:r.jIkJr,name:"",hex:r.YOlDz},{id:r.sKbtH,name:"",hex:"#F08CB6"},{id:r[c(283)],name:"",hex:"#E0457B"},{id:r.foKyP,name:"",hex:r.yBaXe},{id:c(290),name:"",hex:c(326)},{id:r[c(337)],name:"",hex:c(259)},{id:r[c(296)],name:"",hex:c(311)},{id:r[c(339)],name:"",hex:r.XmEFs},{id:"col_lightblue",name:"",hex:r.qNTby},{id:r.GGEgN,name:"",hex:r[c(315)]},{id:r[c(302)],name:"",hex:r[c(334)]},{id:"col_purple",name:"",hex:r.IeUko},{id:r.wUQkH,name:"",hex:r[c(304)]},{id:r[c(309)],name:"",hex:r.cRRND},{id:r.lwFHp,name:"",hex:"#C0C0C0"},{id:r.swAgn,name:"",hex:"#F5E6CC"},{id:"col_brown",name:"",hex:r[c(324)]},{id:c(338),name:"",hex:c(284)},{id:r.afbUL,name:"",hex:r.NaFGx}]}function U2({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=Yt,o={ufSBN:function(v){return v()},FFPkL:function(v,d){return v(d)},sxuMd:function(v,d){return v(d)},puAgK:function(v,d){return v??d}},f=o.ufSBN(z0),p=o.ufSBN(Vd);return o[i(280)](Sa,{id:o.sxuMd(qt,i(281)),title:o.puAgK(c,""),unit:"mm",fabricSquareSize:r??20,baseDiameter:a??30,notes:"",createdAt:f,updatedAt:f,palette:p,flowers:[]})}function H2(c,r){const a=Yt,i={bnybH:function(v,d){return v(d)},VbulC:function(v,d){return v+d},GYjDu:function(v,d){return v+d}},o=ta(c);o.id=i[a(261)](qt,"flw"),o[a(331)]=c.name+a(272);const f=r?.x??12,p=r?.y??12;return o.position={x:i[a(323)](c[a(305)]?.x??0,f),y:i[a(275)](c.position?.y??0,p)},o[a(276)]=(o[a(276)]||[])[a(265)](v=>({...v,id:qt("lay"),petalOverrides:v[a(343)]?v.petalOverrides[a(265)](d=>({...d})):void 0})),o}(function(c,r){const a=Ln,i=c();for(;;)try{if(-parseInt(a(476))/1+-parseInt(a(433))/2*(parseInt(a(470))/3)+parseInt(a(471))/4+parseInt(a(417))/5+-parseInt(a(383))/6+parseInt(a(406))/7+-parseInt(a(410))/8*(parseInt(a(424))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,243948);const Z2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),vs=Z2(void 0,function(){const c=Ln,r={FOHRL:"(((.+)+)+)+$"};return vs.toString().search(r[c(425)])[c(398)]()[c(443)](vs).search(c(429))});vs();function Ln(c,r){c=c-380;const a=T0();let i=a[c];if(Ln.mAKatQ===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Ln.MpZkqf=o,Ln.OcghCA={},Ln.mAKatQ=!0}const f=a[0],p=c+f,v=Ln.OcghCA[p];if(v)i=v;else{const d=function(m){this.EvArGN=m,this.SfsOMX=[1,0,0],this.GulbVu=function(){return"newState"},this.EiaUja="\\w+ *\\(\\) *{\\w+ *",this.gEhaOW=`['|"].+['|"];? *}`};d.prototype.wrmIAH=function(){const m=new RegExp(this.EiaUja+this.gEhaOW),_=m.test(this.GulbVu.toString())?--this.SfsOMX[1]:--this.SfsOMX[0];return this.ZCGswv(_)},d.prototype.ZCGswv=function(m){return~m?this.twYakt(this.EvArGN):m},d.prototype.twYakt=function(m){for(let _=0,y=this.SfsOMX.length;_<y;_++)this.SfsOMX.push(Math.round(Math.random())),y=this.SfsOMX.length;return m(this.SfsOMX[0])},new d(Ln).wrmIAH(),i=Ln.MpZkqf(i),Ln.OcghCA[p]=i}return i}function T0(){const c=["Dw5PDa","ChvZAa","zMXVD2vYswrZ","rMXVD2vY","CgXHy2vTzw50tw9Kzq","uvzPDhu","44or44o844oR77Yl5BQN6yEr","Bgf5zxjZ","odDWz0D2rLu","mtq3mde5nM9PsvzWyG","AxnbCNjHEq","BMfTzq","D2LKDgHty2fSzq","DgL0Bgu","mty4mJe4EwrcsM5t","qMPwzue","uezjDu4","svzst2O","y29SB3jjza","CMLNAhq","q094Agm","Cgv0ywXdB3vUDa","44kW44oR44o844ox","y29Sx2DYzwvU","Aw5UzxjdB2XVCKLK","AxngAw5PDgu","yvPKtxe","C3rYAw5N","mtq5otC2AuvSDwT4","BgvHzG","5lI444gK44g+44g/","A2vU","uKH6BgS","DfjYDeS","Aw5Uzxjty2fSzq","zefqueO","y29SB3i","Dfnet0K","CM90yxrPB24","y2HPBgq","C2L6zq","y3jLyxrLzef0","vNrMqMy","Dg9tDhjPBMC","C2nHBgu","B2zMC2v0qw5NBgu","44or44o844oR","quDKtfu","CxvdsuW","BgvHzKLKCW","B2jQzwn0","mZiYmdK1mNLvBNzxDa","CgvWq291BNq","DxbKyxrLzef0","DMfYAwfUDa","mtmXndKYmgDTruDRsa","zMfICMLJu3f1yxjLu2L6zq","Aw5UzxjtAxPLuMvKDwn0Aw9U","z3jVDxbZ","y29Sx3DOAxrL","BgvHzKDYB3vWCW","zMLUza","otK5mdq1s3buBMHt","CgfSzxr0zq","Aw5UzxjqzxrHBfr5Cgu","tgvHzG","yMfZzurPyw1LDgvY","y2vUDgvY","uuTeEMC","mJDMu0ryr1i","rK9iuKW","AgfZ","zMXVD2vYrgLHBwv0zxi","reffBgK","kcGOlISPkYKRksSK","C3rLBMnPBhm","Cgv0ywXpDMvYCMLKzxm","44oA44od44ox","nJCWnMnqz1jOqq","BgvUz3rO","zKrrwNe","z3jW","zfvts1O","r3rgEu0","Cgv0ywXuExbL","yM9VBgvHBG","DhLWzq","Bg9JA2vK","y29UC3rYDwn0B3i","CM91BMq","r3PACgW","vgjMsw4","y29SB3iY","uffvDgG","we1Mzee","ywr1Bhq","Aw5JBhvKzxm","zMXVD2vYCW","zg91yMXLugv0ywW","Cg9ZAxrPB24","zgj5B0e","tvzdB3y","BwfW","5y2k44gp44gz","tfLPu0u","zMLSDgvY","s3bREvO"];return T0=function(){return c},T0()}function xs(c){const r=Ln,a={MVCov:r(385),lilbc:""};return c==="maru"?a[r(456)]:c===r(386)?a.lilbc:c===r(385)||c===a.lilbc?c:a.MVCov}function Sa(c){const r=Ln,a={QDMwl:function(f,p){return f!==p},KpkyZ:function(f,p){return f===p},dAPPJ:function(f,p,v,d){return f(p,v,d)},tRrtK:function(f,p){return f!==p},dUSKZ:r(382),IXZVO:r(414),XMfdA:function(f,p){return f===p},gWoTb:r(432),AGdLU:function(f,p){return f!==p},BjVeA:r(484),GtFyM:"grp",QKDzg:"flw",VtfBf:r(465),nqCqN:function(f,p){return f(p)},lvXYe:r(435),TrISw:function(f,p){return f===p},wCFCP:function(f,p){return f===p},PQUth:r(403),IVROj:function(f,p){return f*p},ZmQJt:function(f,p){return f-p},PFIuN:function(f,p){return f!==p},tSDOI:function(f,p){return f(p)},COxhc:function(f,p){return f!==p},TbfIn:r(458),GzZpl:function(f,p){return f<=p},QVitu:"proj",LYiSE:r(485),DAEli:r(440),PrYwN:function(f,p){return f===p},XESRg:function(f,p){return f!=p},tLhoq:r(450),hLXyj:"back"},i=ta(c||{});Array[r(472)](i.flowers)||(i.flowers=[]);for(const f of i[r(452)]){f.id||(f.id=qt(a[r(423)])),(typeof f.name!==a[r(437)]||!f[r(473)])&&(f[r(473)]=a[r(397)]),(!f.position||!Number[r(380)](f.position.x)||!Number.isFinite(f.position.y))&&(f[r(454)]={x:260,y:260}),Array.isArray(f.layers)||(f[r(469)]=[]);for(const p of f[r(469)]){if(p.id||(p.id=qt("lay")),(a[r(388)](typeof p.colorId,a[r(437)])||!p[r(480)])&&(p[r(480)]=i.palette?.[0]?.id??"col_white"),p[r(439)]=a.nqCqN(xs,p[r(439)]),p[r(483)]=ye(Number(p[r(483)]||0),5,24),Number.isFinite(p.scale)||(p[r(399)]=1),Number.isFinite(p[r(474)])||(p[r(474)]=1),Number[r(380)](p.radius)||(p.radius=28),Number.isFinite(p.offsetAngle)||(p[r(400)]=0),delete p._doublePetalCache,p[r(453)])if(a.lvXYe!==a.lvXYe)a.QDMwl(typeof _0xc10f77.doublePetal,r(405))||a[r(461)](_0x4be032[r(453)],null)?delete _0x107d06[r(453)]:(_0x3bd889.isFinite(_0x2f5eba.doublePetal[r(412)])||(_0x45c2c1[r(453)][r(412)]=2),_0x503c21.doublePetal.innerSizeReduction=a[r(390)](_0x24c8f9,_0xb56bff.doublePetal[r(412)],1,30),_0x5232c6.doublePetal[r(486)]!=null&&typeof _0x1831c1.doublePetal[r(486)]!==r(382)&&delete _0xec6bb5[r(453)][r(486)]);else if(typeof p.doublePetal!="object"||a.TrISw(p.doublePetal,null))a.wCFCP(a[r(448)],a.PQUth)?delete p[r(453)]:(_0x318dff[r(422)].type===r(468)&&(_0x21bd0d[r(422)][r(441)]=""),["","",""][r(451)](_0x410bb3.center[r(441)])||(_0x33bf09.center.type=""),_0x26f4ae[r(380)](_0x126764[r(422)].size)||(_0x27afee[r(422)][r(395)]=6),_0x33043b[r(422)][r(395)]=a[r(390)](_0x4535b5,_0x5a0a5d.center.size,1,30),(a.tRrtK(typeof _0x3e1c1b.center[r(391)],a.dUSKZ)||!_0x147314[r(422)].color)&&(_0x4ff0f0[r(422)][r(391)]=_0x284047[r(418)]?.[0]?.id??a.IXZVO),a[r(449)](_0x51307b[r(422)][r(441)],a.gWoTb)&&(_0x5e6fb1.isFinite(_0x30cd94[r(422)][r(407)])||(_0x515a06[r(422)][r(407)]=12),_0x51cb4c[r(422)].pepCount=a[r(390)](_0x4fa82c,_0x266d01[r(422)].pepCount,4,30)),a[r(402)](_0x3699b0[r(422)].type,"")&&delete _0x3e2fa2[r(422)][r(447)]);else{if(p[r(453)].innerScale!=null&&p[r(453)].innerSizeReduction==null){const v=f.fabricSquareSize??i.fabricSquareSize??20;p.doublePetal.innerSizeReduction=Math[r(444)](a[r(479)](v,a.ZmQJt(1,p.doublePetal.innerScale)))}delete p.doublePetal[r(389)],Number[r(380)](p.doublePetal[r(412)])||(p.doublePetal.innerSizeReduction=2),p.doublePetal.innerSizeReduction=ye(p.doublePetal[r(412)],1,30),delete p[r(453)][r(419)],p.doublePetal[r(486)]!=null&&a.PFIuN(typeof p.doublePetal[r(486)],a.dUSKZ)&&delete p[r(453)][r(486)]}if(Array.isArray(p.petalOverrides))for(const v of p[r(431)])v&&v.petalType!=null&&(v[r(439)]=a[r(392)](xs,v.petalType)),v&&delete v[r(419)],v&&v[r(486)]!=null&&typeof v[r(486)]!==r(382)&&delete v[r(486)],v&&v.innerSizeReduction!=null&&(Number[r(380)](v.innerSizeReduction)?v[r(412)]=ye(v.innerSizeReduction,1,30):delete v[r(412)])}(!Number[r(380)](f[r(427)])||f[r(427)]<=0)&&(f.flowerDiameter=60),f.center&&(a[r(449)](f.center.type,r(468))&&(f.center[r(441)]=""),[r(401),"",""].includes(f.center.type)||(f.center.type=""),Number.isFinite(f[r(422)][r(395)])||(f.center.size=6),f[r(422)].size=ye(f.center[r(395)],1,30),(typeof f.center.color!==a[r(437)]||!f.center.color)&&(f.center[r(391)]=i.palette?.[0]?.id??"col_white"),a[r(449)](f[r(422)].type,a.gWoTb)&&(Number.isFinite(f.center[r(407)])||(f[r(422)][r(407)]=12),f.center[r(407)]=ye(f.center.pepCount,4,30)),f.center.type!==""&&(a[r(482)](r(455),r(455))?_0x11fac6[r(454)]={x:675,y:675}:delete f[r(422)].color2)),f.placementMode!==a.TbfIn&&a[r(482)](f[r(466)],"")&&(f[r(466)]=a[r(446)]),f[r(421)]!==void 0&&(!Number[r(380)](f.baseDiameter)||a[r(445)](f.baseDiameter,0))&&delete f[r(421)]}Array.isArray(i.palette)||(i.palette=[]);const o=new Set(i.palette[r(457)](f=>f.id));for(const f of Vd())o.has(f.id)||i.palette.push(f);i.createdAt||(i.createdAt=z0()),i[r(408)]||(i[r(408)]=i[r(396)]),i.id||(i.id=a.nqCqN(qt,a[r(467)])),i[r(475)]||(i.title=""),i[r(462)]="mm",Number.isFinite(i[r(411)])||(i.fabricSquareSize=20),(!Number[r(380)](i[r(421)])||a.GzZpl(i.baseDiameter,0))&&(i.baseDiameter=30),typeof i.notes!==r(382)&&(i.notes=""),Array[r(472)](i.groups)||(i[r(413)]=[]);{const f=new Set(i[r(452)].map(v=>v.id)),p=new Set((i.leaves??[]).map(v=>v.id));for(const v of i.groups)Array.isArray(v.flowerIds)||(v.flowerIds=[]),Array.isArray(v.leafIds)||(v[r(404)]=[]),v.flowerIds=v.flowerIds.filter(d=>f[r(426)](d)),v[r(404)]=v.leafIds[r(460)](d=>p[r(426)](d)),Number[r(380)](v[r(393)])||(v[r(393)]=0),v.id||(v.id=qt(a[r(438)])),(a[r(388)](typeof v.name,r(382))||!v[r(473)])&&(v.name=r(484));i[r(413)]=i[r(413)][r(460)](v=>v[r(464)][r(434)]+v[r(404)][r(434)]>0)}Array[r(472)](i.leaves)||(i.leaves=[]);for(const f of i.leaves){if(f.id||(f.id=a.nqCqN(qt,r(384))),(a[r(402)](typeof f.name,r(382))||!f.name)&&(f.name=r(420)),(!f[r(454)]||!Number[r(380)](f[r(454)].x)||!Number[r(380)](f[r(454)].y))&&(f[r(454)]={x:675,y:675}),Number.isFinite(f.rotation)||(f.rotation=0),f.petalType=xs(f.petalType),typeof f[r(480)]!==r(382)||!f[r(480)])if(r(381)===r(387)){const p=new _0x5eeec8(_0x516e31.flowers.map(d=>d.id)),v=new _0x2bb454((_0x4dc3dd.leaves??[])[r(457)](d=>d.id));for(const d of _0x5f5d2b.groups){const m="3|2|0|1|4|6|5".split("|");let _=0;for(;;){switch(m[_++]){case"0":d.flowerIds=d.flowerIds[r(460)](y=>p.has(y));continue;case"1":d[r(404)]=d.leafIds.filter(y=>v.has(y));continue;case"2":_0x1f1023[r(472)](d[r(404)])||(d.leafIds=[]);continue;case"3":_0x4d02cc.isArray(d.flowerIds)||(d.flowerIds=[]);continue;case"4":_0x48c25f.isFinite(d[r(393)])||(d.rotation=0);continue;case"5":(typeof d[r(473)]!="string"||!d[r(473)])&&(d.name=a[r(477)]);continue;case"6":d.id||(d.id=_0x133685(a[r(438)]));continue}break}}_0x19e5db.groups=_0x12c9b2.groups[r(460)](d=>d.flowerIds.length+d.leafIds[r(434)]>0)}else f.colorId=i.palette?.[0]?.id??a[r(459)];Number[r(380)](f[r(399)])||(f[r(399)]=1),Number[r(380)](f.widthScale)||(f[r(474)]=1),a.AGdLU(typeof f.visible,a.DAEli)&&(f.visible=!0),a[r(402)](typeof f[r(442)],a[r(428)])&&(f[r(442)]=!1),delete f._doublePetalCache,f.doublePetal&&(a[r(478)](typeof f[r(453)],"object")||a.PrYwN(f[r(453)],null)?delete f[r(453)]:(Number[r(380)](f.doublePetal[r(412)])||(f[r(453)][r(412)]=2),f.doublePetal.innerSizeReduction=ye(f.doublePetal.innerSizeReduction,1,30),a.XESRg(f.doublePetal.innerColorId,null)&&typeof f[r(453)][r(486)]!="string"&&delete f.doublePetal[r(486)]))}if(Array[r(472)](i[r(415)])&&i.leafGroups[r(434)]>0){const f=new Set((i.leaves??[]).map(p=>p.id));for(const p of i.leafGroups){if(!Array.isArray(p.leafIds))continue;const v=p[r(404)][r(460)](d=>f.has(d));if(v.length!==0){if(p.linkedFlowerGroupId){const d=i.groups[r(416)](m=>m.id===p.linkedFlowerGroupId);if(d){for(const m of v)d.leafIds[r(451)](m)||d[r(404)][r(463)](m);continue}}i[r(413)][r(463)]({id:p.id||qt(r(436)),name:p[r(473)]||a.BjVeA,flowerIds:[],leafIds:v,rotation:Number[r(380)](p.rotation)?p.rotation:0})}}}if(delete i.leafGroups,Array.isArray(i[r(430)])){const f=[a.tLhoq,r(394)],p=[r(481),"left",a.hLXyj];i[r(430)]=i[r(430)].filter(v=>v&&typeof v.id===r(382)&&f[r(451)](v[r(409)])&&p[r(451)](v.pose)&&v.position&&Number[r(380)](v[r(454)].x)&&Number[r(380)](v[r(454)].y))}return Number[r(380)](i.version)||(i.version=1),i}function Tn(c,r){c=c-358;const a=E0();let i=a[c];if(Tn.RyIYkE===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Tn.kyGHRB=o,Tn.nXNLJG={},Tn.RyIYkE=!0}const f=a[0],p=c+f,v=Tn.nXNLJG[p];if(v)i=v;else{const d=function(m){this.UtNDGl=m,this.OTrsds=[1,0,0],this.vVDJNb=function(){return"newState"},this.OsbEnC="\\w+ *\\(\\) *{\\w+ *",this.CvUHfv=`['|"].+['|"];? *}`};d.prototype.fNpiqx=function(){const m=new RegExp(this.OsbEnC+this.CvUHfv),_=m.test(this.vVDJNb.toString())?--this.OTrsds[1]:--this.OTrsds[0];return this.gMxmJl(_)},d.prototype.gMxmJl=function(m){return~m?this.IVikOO(this.UtNDGl):m},d.prototype.IVikOO=function(m){for(let _=0,y=this.OTrsds.length;_<y;_++)this.OTrsds.push(Math.round(Math.random())),y=this.OTrsds.length;return m(this.OTrsds[0])},new d(Tn).fNpiqx(),i=Tn.kyGHRB(i),Tn.nXNLJG[p]=i}return i}const Qd=Tn;function E0(){const c=["mty1nZu0mNnNwxzPDq","y29UC3rYDwn0B3i","5y2k44gp44gz","mZe5me1Mtvfrza","C2vHCMnO","nJyZntaXmM5KuK5drW","nZqXotK0nhfhr3nTDa","Dg9tDhjPBMC","nJeZnZaXnJbXz3LuAxe","nZG1nZu5mgfYuxLOzG","yxbWBhK","5lI444gK44g+44g/","mtuYnJq2mZLPAwrvB3O","nNz5seHfAa","ofjnu3zxAW","kcGOlISPkYKRksSK","nJu3otfztvP4uNe","m3zSr3rmsa","mNHOzxHcAW"];return E0=function(){return c},E0()}(function(c,r){const a=Tn,i=c();for(;;)try{if(parseInt(a(366))/1*(-parseInt(a(365))/2)+-parseInt(a(364))/3*(-parseInt(a(371))/4)+parseInt(a(375))/5*(-parseInt(a(360))/6)+parseInt(a(372))/7*(parseInt(a(361))/8)+-parseInt(a(359))/9+parseInt(a(369))/10*(-parseInt(a(363))/11)+parseInt(a(374))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,999855);const Y2=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Tn;if(a){const f=a[o(376)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ys=Y2(void 0,function(){const c=Tn;return ys[c(373)]()[c(370)](c(362))[c(373)]()[c(367)](ys).search(c(362))});ys();const Wd="tsumami_projects_v1",al=[Qd(358),""],K2=["","",""],Pd=["",Qd(368)];(function(c,r){const a=hn,i=c();for(;;)try{if(-parseInt(a(439))/1*(-parseInt(a(428))/2)+-parseInt(a(446))/3*(parseInt(a(434))/4)+-parseInt(a(430))/5*(-parseInt(a(422))/6)+-parseInt(a(427))/7+parseInt(a(447))/8*(parseInt(a(424))/9)+parseInt(a(431))/10+-parseInt(a(421))/11*(parseInt(a(445))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,653210);const X2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),ps=X2(void 0,function(){const c=hn;return ps[c(436)]().search(c(443)).toString().constructor(ps)[c(423)](c(443))});ps();function hn(c,r){c=c-421;const a=q0();let i=a[c];if(hn.fRgOoH===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};hn.dgjoZJ=o,hn.UPJkFf={},hn.fRgOoH=!0}const f=a[0],p=c+f,v=hn.UPJkFf[p];if(v)i=v;else{const d=function(m){this.YlWoON=m,this.UncFuD=[1,0,0],this.ZcsqVS=function(){return"newState"},this.tHmajs="\\w+ *\\(\\) *{\\w+ *",this.MnSOhJ=`['|"].+['|"];? *}`};d.prototype.bXyKdq=function(){const m=new RegExp(this.tHmajs+this.MnSOhJ),_=m.test(this.ZcsqVS.toString())?--this.UncFuD[1]:--this.UncFuD[0];return this.LrTcvL(_)},d.prototype.LrTcvL=function(m){return~m?this.hmMiJi(this.YlWoON):m},d.prototype.hmMiJi=function(m){for(let _=0,y=this.UncFuD.length;_<y;_++)this.UncFuD.push(Math.round(Math.random())),y=this.UncFuD.length;return m(this.UncFuD[0])},new d(hn).bXyKdq(),i=hn.dgjoZJ(i),hn.UPJkFf[p]=i}return i}function q0(){const c=["ChjVAMvJDa","mtbkEvnvque","nJC1odK1mezYrg5ADG","AxnbCNjHEq","C3rYAw5NAwz5","nZa2ndrzy21Ot0W","zMLSDgvY","Dg9tDhjPBMC","DgL0Bgu","C2v0sxrLBq","mtaXotCZnvHWwvHzBa","CgfYC2u","C29YDa","BxnytMS","kcGOlISPkYKRksSK","C2XPy2u","mteXndy4ELzgEM5m","ntDovfnMBfG","mZa3nJbmsNjtt2G","nZu5B3veENr4","mJqZnJy0ohzjuhruuW","C2vHCMnO","nde0CNbWuhPA","DxbKyxrLzef0","CNzjs3O","nZm4nta0mLreAhHXCG","mLPyCNnouG"];return q0=function(){return c},q0()}function ir(){const c=hn,r={NbwKp:function(a,i){return a(i)},rvIKz:function(a,i){return a===i},SIrBb:"QrdRt"};try{const a=localStorage.getItem(Wd);if(!a)return[];const i=JSON[c(440)](a);return Array[c(432)](i)?i.map(o=>{const f=c;try{const p=o?.[f(429)]?r.NbwKp(Sa,o.project):null;return p?{id:o.id??p.id,title:o.title??p[f(437)],updatedAt:o[f(425)]??p[f(425)],project:p}:null}catch{return null}})[c(435)](o=>o!=null):[]}catch{if(r[c(426)]("QrdRt",r.SIrBb))return[];{const a=_0x198264?.[c(429)]?_0x2d26ec(_0x3fa19d.project):null;return a?{id:_0x1f6664.id??a.id,title:_0x240a0f[c(437)]??a.title,updatedAt:_0x5036e6[c(425)]??a[c(425)],project:a}:null}}}function Fd(c){const r=hn;try{return localStorage[r(438)](Wd,JSON[r(433)](c)),!0}catch{return!1}}function J2(c){const r=hn,a={msXNk:function(v,d){return v(d)}},i=ir(),o=i.findIndex(v=>v.id===c.id),f={id:c.id,title:c[r(437)],updatedAt:c[r(425)],project:c},p=o>=0?[...i[r(444)](0,o),f,...i[r(444)](o+1)]:[f,...i];return p[r(441)]((v,d)=>v[r(425)]<d[r(425)]?1:-1),a[r(442)](Fd,p)}function V2(c){const r={UZxnY:function(i){return i()}},a=r.UZxnY(ir).filter(i=>i.id!==c);return Fd(a)}function B0(){const c=["CgfSzxr0zq","mty5mdG1AKfotgDP","zw50CMLLCW","C2nHBgu","mtaWndC1mLzgtu5mrW","u1zdDNy","DMLZAwjSzq","nZK4ntK1ALDsCgTe","Bw9Kzq","C2v0","mZu4nty3mKjZt2D0Dq","zNjVBq","Aw5UzxjdB2XVCKLK","zNDKzfy","r3vwrfm","otu0mdztvwf0BuS","mtzHANjMqNq","Dg90ywXdB3vUDa","zMLUza","DMfSDwvZ","zhHkugi","Bgf5zxjZ","v0jhsu4","mtq0mty0mgLdtufPAG","zMfICMLJu3f1yxjLu2L6zq","Dg9tDhjPBMC","y29SB3jjza","AwjxvfK","Cgv0ywXdB3vUDa","5y2k44gp44gz","uhnOrhC","Bwf4","BgvHDMvZ","zMfICMLJu2L6zu1T","sfLAEM4","Dvzzuee","z2v0","AvjyrKm","y291BNq","uuzpEMy","EgfbDxu","BfP2wK0","CM91BMq","CgDIwwq","tMLxr0i","nJu0oteZEuDnzLPA","CMvKDwnL","ChvZAa","nNDsDMHMtW","tLHSr3q","zMXVD2vYrgLHBwv0zxi","zg91yMXLugv0ywW","refgDKC","Bxnmy2q","BwfW"];return B0=function(){return c},B0()}(function(c,r){const a=Kn,i=c();for(;;)try{if(-parseInt(a(422))/1+-parseInt(a(437))/2*(parseInt(a(436))/3)+parseInt(a(425))/4+-parseInt(a(428))/5*(parseInt(a(414))/6)+-parseInt(a(411))/7+parseInt(a(389))/8+parseInt(a(431))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,153022);const Q2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),_s=Q2(void 0,function(){const c=Kn,r={WDvmr:"(((.+)+)+)+$"};return _s[c(391)]().search(r.WDvmr)[c(391)]().constructor(_s).search("(((.+)+)+)+$")});_s();function Kn(c,r){c=c-385;const a=B0();let i=a[c];if(Kn.wlZOeP===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Kn.JxwlQS=o,Kn.kzjxZc={},Kn.wlZOeP=!0}const f=a[0],p=c+f,v=Kn.kzjxZc[p];if(v)i=v;else{const d=function(m){this.xTeoWx=m,this.tMHjcm=[1,0,0],this.aVuDqQ=function(){return"newState"},this.lNMEnK="\\w+ *\\(\\) *{\\w+ *",this.xilYyS=`['|"].+['|"];? *}`};d.prototype.GNPjZW=function(){const m=new RegExp(this.lNMEnK+this.xilYyS),_=m.test(this.aVuDqQ.toString())?--this.tMHjcm[1]:--this.tMHjcm[0];return this.bubeLP(_)},d.prototype.bubeLP=function(m){return~m?this.MVHWsT(this.xTeoWx):m},d.prototype.MVHWsT=function(m){for(let _=0,y=this.tMHjcm.length;_<y;_++)this.tMHjcm.push(Math.round(Math.random())),y=this.tMHjcm.length;return m(this.tMHjcm[0])},new d(Kn).GNPjZW(),i=Kn.JxwlQS(i),Kn.kzjxZc[p]=i}return i}function W2(c){const r=Kn,a={jApEn:function(_,y){return _===y},HYZzn:function(_,y){return _*y},PshDw:function(_,y){return _/y},bywgc:function(_,y){return _*y},tuVUh:function(_,y){return _-y},rVqln:function(_,y){return _*y},jjxVG:function(_,y){return _<y},pNKrC:function(_,y){return _!==y},SVCvv:r(401),ysDkQ:function(_,y){return _-y},lZvZM:r(410),nKYmy:"",msLcd:function(_,y){return _===y},iRXFC:function(_,y){return _(y)},lKsEU:"LjWxo",pgbYd:function(_,y){return _!==y},QUqcz:r(386),WBGIN:function(_,y){return _!==y}},i=new Map((c[r(421)]||[]).map(_=>[_.id,_])),o=new Map,f=(_,y)=>_?.petalOverrides?.[r(439)](w=>w.index===y)??null,p=new Map;for(const _ of c.flowers||[]){const y=_[r(390)]??c.fabricSquareSize;for(const h of _[r(387)]||[]){if(!h[r(427)])continue;const T=Math.round(a.rVqln(y,h[r(424)]??1));for(let R=0;a.jjxVG(R,h[r(394)]);R++){const k=f(h,R),G=k?.[r(392)]??h[r(392)],X=G+"|"+T,K=o.get(X);if(K?K.count+=1:a.pNKrC(a[r(426)],"jShAV")?o[r(430)](X,{colorId:G,fabricSizeMm:T,count:1}):_0x4b7030.entries.push({fabricSizeMm:_0x2310d6,count:_0x424bbc}),h[r(417)]){const Z=h[r(417)],V=k?.innerColorId??Z.innerColorId??G,P=k?.innerSizeReduction??Z.innerSizeReduction??2,ie=Math[r(397)](3,Math.round(a.ysDkQ(T,P))),J=V+"|"+ie,q=o.get(J);q?q[r(404)]+=1:r(410)!==a[r(407)]?_0x2c6d06[r(430)](_0x189b10,{colorId:_0x53190a,fabricSizeMm:_0x397072,count:1}):o[r(430)](J,{colorId:V,fabricSizeMm:ie,count:1})}}}const w=_.placementMode??a.nKYmy,C=a[r(419)](w,"")?a[r(403)](lr,_[r(416)]):_.baseDiameter??c.baseDiameter,D=w+"|"+C,b=p[r(402)](D);b?b.count+=1:p.set(D,{mode:w,baseDiameterMm:C,count:1})}for(const _ of c[r(398)]??[]){if(!_.visible)continue;const y=_[r(390)]??c[r(390)],w=Math.round(y*(_[r(424)]??1)),C=_.colorId,D=C+"|"+w,b=o[r(402)](D);if(b)if(a.lKsEU===r(405)){const h=_0x57e41b[r(402)](_0x4d7a23);h?h[r(423)].push({fabricSizeMm:_0x367599,count:_0x3a1069}):_0x436733.set(_0x5bb372,{colorId:_0x1188e9,entries:[{fabricSizeMm:_0x5860a4,count:_0x42e29d}]})}else b[r(404)]+=1;else o[r(430)](D,{colorId:C,fabricSizeMm:w,count:1});if(_[r(417)])if(a[r(409)](a.QUqcz,a.QUqcz))_0x3ceb2e.count+=1;else{const h=_.doublePetal,T=h[r(433)]??C,R=Math.max(3,Math[r(408)](a.ysDkQ(w,h.innerSizeReduction??2))),k=T+"|"+R,G=o.get(k);G?G.count+=1:o.set(k,{colorId:T,fabricSizeMm:R,count:1})}}const v=new Map;for(const{colorId:_,fabricSizeMm:y,count:w}of o[r(385)]()){const C=v.get(_);C?a[r(388)](r(393),"GDPed")?C[r(423)][r(413)]({fabricSizeMm:y,count:w}):_0x54fec7[r(430)](_0x1bbb42,{colorId:_0x57e09e,fabricSizeMm:_0x52d8a1,count:1}):v[r(430)](_,{colorId:_,entries:[{fabricSizeMm:y,count:w}]})}const d=Array[r(432)](v.values())[r(420)](({colorId:_,entries:y})=>{const w=r,C={xaAuu:function(k,G){return a.jApEn(k,G)},fwddV:w(418),NXlGt:function(k,G){return a.HYZzn(k,G)},GuVDS:function(k,G){return a[w(400)](k,G)}},D=i.get(_),b=y.sort((k,G)=>G[w(399)]-k.fabricSizeMm),h=b.reduce((k,G)=>k+G.count,0),T=a[w(396)](Math[w(408)](a[w(400)](b[w(412)]((k,G)=>{const X=w;if(C[X(406)](C[X(434)],C[X(434)])){const K=G.fabricSizeMm/10;return k+C[X(415)](C[X(435)](G[X(404)],K),K)}else _0x541d1b.count+=1},0),100)),100),R=Math[w(408)](a.bywgc(Math.sqrt(T),10))/10;return{colorId:_,colorName:D?.name??_,hex:D?.hex??"#999999",sizes:b,totalCount:h,totalAreaCm2:T,squareSideCm:R}}).sort((_,y)=>y.totalCount-_[r(438)]),m=Array.from(p.values()).sort((_,y)=>{const w=r;return _[w(429)]!==y.mode?_[w(429)]===w(395)?-1:1:a.tuVUh(y.baseDiameterMm,_.baseDiameterMm)});return{colors:d,bases:m}}function ln(c,r){c=c-125;const a=k0();let i=a[c];if(ln.JxSjoo===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};ln.REKmPN=o,ln.IwrQdv={},ln.JxSjoo=!0}const f=a[0],p=c+f,v=ln.IwrQdv[p];if(v)i=v;else{const d=function(m){this.fEghJS=m,this.yOptQz=[1,0,0],this.ApckFy=function(){return"newState"},this.KuPBLK="\\w+ *\\(\\) *{\\w+ *",this.TKUVmb=`['|"].+['|"];? *}`};d.prototype.IRyKYn=function(){const m=new RegExp(this.KuPBLK+this.TKUVmb),_=m.test(this.ApckFy.toString())?--this.yOptQz[1]:--this.yOptQz[0];return this.ULBKDP(_)},d.prototype.ULBKDP=function(m){return~m?this.xplKEr(this.fEghJS):m},d.prototype.xplKEr=function(m){for(let _=0,y=this.yOptQz.length;_<y;_++)this.yOptQz.push(Math.round(Math.random())),y=this.yOptQz.length;return m(this.yOptQz[0])},new d(ln).IRyKYn(),i=ln.REKmPN(i),ln.IwrQdv[p]=i}return i}(function(c,r){const a=ln,i=c();for(;;)try{if(parseInt(a(136))/1+parseInt(a(183))/2+parseInt(a(176))/3*(-parseInt(a(135))/4)+parseInt(a(159))/5*(parseInt(a(195))/6)+-parseInt(a(178))/7+-parseInt(a(191))/8*(parseInt(a(139))/9)+parseInt(a(157))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,862031);const P2=(function(){let c=!0;return function(r,a){const i=c?function(){const o=ln;if(a){const f=a[o(161)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ss=P2(void 0,function(){const c=ln;return Ss[c(162)]().search("(((.+)+)+)+$")[c(162)]()[c(148)](Ss)[c(144)](c(168))});Ss();function F2(c,r){const a=ln,i={tVLGq:"[data-testid]",eYYjf:"0 0 200 200",SmgQF:function(C,D){return C(D)},gcubo:"height",xnQUZ:function(C,D){return C(D)},QSjPF:a(190),zZlff:"http://www.w3.org/2000/svg",sTRGQ:a(143),YXlwE:a(127),Apjwr:"fill",ESSzC:a(172),RXBiR:"[data-grid]",ezzqh:a(134),sfnhL:a(154),zdxuQ:a(193),yKzSr:function(C,D,b){return C(D,b)}},o=c[a(133)](!0);o[a(158)](i[a(147)]).forEach(C=>C.removeAttribute(a(145))),o[a(160)]("style");const f=c[a(141)]("viewBox");f&&o.setAttribute("viewBox",f);const p=(f??i.eYYjf).split(/[\s,]+/).map(Number),v=p[2]??200,d=p[3]??200;o.setAttribute(a(143),i[a(182)](String,v)),o[a(171)](i.gcubo,i.xnQUZ(String,d)),o[a(171)](i.QSjPF,i.zZlff);const m=document[a(185)](i[a(132)],"rect");m.setAttribute(i[a(149)],i[a(137)]),m[a(171)](a(179),a(127)),m[a(171)](i.Apjwr,i.ESSzC),o.insertBefore(m,o.firstChild),o[a(158)](i[a(126)])[a(174)](C=>C[a(125)]()),o[a(158)](a(163)).forEach(C=>C.remove()),o[a(158)](i.ezzqh)[a(174)](C=>C[a(125)]()),o[a(158)]("[data-marquee]")[a(174)](C=>C[a(125)]());const _=new XMLSerializer,y=i.sfnhL+_[a(189)](o),w=new Blob([y],{type:i[a(187)]});i.yKzSr($d,w,r[a(186)](".svg")?r:r+a(188))}function k0(){const c=["y3jLyxrLrwXLBwvUDa","A2nxAw0","y2fUDMfZ","ELPSzMy","y2XVBMvoB2rL","lNrZDw1HBwKTz3jVDxaTzgfZAa","mJGZnJHRv3boquC","mtaZmde2nxrkDvL4AG","wvHSD0u","wKnwzgC","ou9XAhnpAG","B25LCNjVCG","z2v0qxr0CMLIDxrL","y2XPy2S","D2LKDgG","C2vHCMnO","zgf0ys10zxn0Awq","C3r5Bgu","Dfzmr3e","y29UC3rYDwn0B3i","C1rsr1e","mcaWidiWmcaYmda","wvHlsKK","lNbUzW","AhjLzG","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","B25SB2fK","Aw1Hz2uVCg5N","nJq2mtuWmhb2C0XtDW","CxvLCNLtzwXLy3rVCKfSBa","mtvJthvdCMq","CMvTB3zLqxr0CMLIDxrL","yxbWBhK","Dg9tDhjPBMC","lNrZDw1HBwKTC2vSlwrHC2G","y3jLyxrLt2jQzwn0vvjm","w2rHDgeTDgvZDgLKxq","yM9KEq","EvbvCfm","kcGOlISPkYKRksSK","DMLLD0jVEa","r3HLzhm","C2v0qxr0CMLIDxrL","D2HPDgu","C29wB0i","zM9YrwfJAa","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","mtHlsfngD28","EwTTr2y","nZGWnZu4m2XtB1rcEq","AgvPz2H0","rwLyvK0","zhjHD0LTywDL","u21Nuuy","mJaYotq0mMvTCLLVqq","zMLSBfn0EwXL","y3jLyxrLrwXLBwvUDe5t","zw5KC1DPDgG","EMr4Dve","lNn2zW","C2vYAwfSAxPLvg9tDhjPBMC","Eg1SBNm","nZy4mdG4me1zCK5jAW","DKf1r0u","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","CMv2B2TLt2jQzwn0vvjm","ntC4mduYq3rPC3z6","CMvTB3zL","uLHcAvi","mtaWjq","CMvTB3zLq2HPBgq"];return k0=function(){return c},k0()}function $2(c,r,a=2){const i=ln,o={soVoB:function(b,h,T){return b(h,T)},iZrOD:i(152),Neqax:i(131),pJCLm:function(b,h){return b*h},XGvzy:i(156),yPUpS:"[data-grid]",ykmGf:i(134),EiXVM:"[data-marquee]",UxlAI:i(150),YXKJI:function(b,h){return b??h},ACrKd:"width",DQtTR:function(b,h){return b(h)},XbJxh:"height",ZCVdg:"xmlns",vAuGE:i(175)},f=c[i(133)](!0);f[i(158)](i(165))[i(174)](b=>b.removeAttribute(i(145))),f.removeAttribute(i(146)),f[i(158)](o[i(167)]).forEach(b=>b.remove()),f[i(158)](".tsumami-sel-dash").forEach(b=>b.remove()),f[i(158)](o[i(177)]).forEach(b=>b.remove()),f.querySelectorAll(o[i(180)])[i(174)](b=>b[i(125)]());const p=c.getAttribute(i(169)),v=(p??o.UxlAI).split(/[\s,]+/).map(Number),d=v[2]??200,m=v[3]??200;f[i(171)]("viewBox",o[i(151)](p,i(150))),f.setAttribute(o.ACrKd,o.DQtTR(String,d)),f[i(171)](o.XbJxh,o.DQtTR(String,m)),f.setAttribute(o[i(138)],o[i(192)]);const _=new XMLSerializer,y=_.serializeToString(f),w=new Blob([y],{type:"image/svg+xml;charset=utf-8"}),C=URL[i(164)](w),D=new Image;D[i(155)]=()=>{const b=i,h=document.createElement(o.Neqax);h[b(143)]=d*a,h[b(179)]=o.pJCLm(m,a);const T=h.getContext("2d");if(!T){URL.revokeObjectURL(C);return}T[b(184)]=b(172),T.fillRect(0,0,h.width,h.height),T[b(181)](D,0,0,h[b(143)],h[b(179)]),h.toBlob(R=>{const k=b;R&&o[k(173)]($d,R,r[k(186)](o.iZrOD)?r:r+k(152)),URL.revokeObjectURL(C)},o.XGvzy)},D[i(140)]=()=>{URL[i(194)](C)},D.src=C}function $d(c,r){const a=ln,i=URL.createObjectURL(c),o=document[a(129)]("a");o[a(153)]=i,o.download=r,document.body.appendChild(o),o[a(142)](),document[a(166)][a(128)](o),URL.revokeObjectURL(i)}function C0({active:c,disabled:r,onClick:a,children:i,...o}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...o,children:i})}const em="v0.1.0-dev";function tm(c){const{view:r,onNavigate:a,project:i}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:em})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(C0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(C0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(C0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(C0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function nm(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function ws({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function lm(c){const[r,a]=$.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(ws,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(c,r){const a=En,i=c();for(;;)try{if(parseInt(a(228))/1*(parseInt(a(182))/2)+-parseInt(a(212))/3+parseInt(a(172))/4*(parseInt(a(214))/5)+-parseInt(a(215))/6*(-parseInt(a(225))/7)+parseInt(a(233))/8*(-parseInt(a(224))/9)+parseInt(a(232))/10*(parseInt(a(177))/11)+-parseInt(a(220))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,898347);const am=(function(){let c=!0;return function(r,a){const i=c?function(){const o=En;if(a)if(o(186)===o(186)){const f=a.apply(r,arguments);return a=null,f}else{const f=_0x45ceac.flowers[o(226)](v=>v.id===_0x33dd21.flowerId);if(!f)return;const p=f[o(187)].find(v=>v.id===_0x24eee2.layerId);p&&(p.widthScale=_0x56bfc1)}}:function(){};return c=!1,i}})(),js=am(void 0,function(){const c=En,r={YKxsR:c(227)};return js[c(181)]()[c(185)](r.YKxsR)[c(181)]()[c(201)](js).search(r.YKxsR)});function I0(){const c=["C2LU","B09Prxm","y29UC3rYDwn0B3i","BwfW","sM9Ut2W","AhLWB3q","rNzrzha","CM90yxrPB24","yKXmvva","BLvWqu0","y3vYC29Y","Bgf5zxjjza","Bgf5zxi","ndC5mZu0nhjMquHIAa","zMLSDgvY","oteWEg9LA2Tk","ndKZotyYnKTozgTTCq","twjczgq","wgPqDe8","vMPpA3K","C3rHCNrbBMDSzq","mti1oda4nJbTEgPgCxC","CMfKAxvZ","rxP2BgO","C2v0ug9PBNrLCKnHChr1CMu","mZq4otnztuvAAgO","n3nIq1fRrG","zMLUza","kcGOlISPkYKRksSK","mJC2EhfTB2jH","twvqEKe","Bwf4","Cg9ZAxrPB24","nJa4nJK2mefgDg5rza","ndi0BwDsz09n","C3rHCNreAxn0","ChjLDMvUDerLzMf1Bhq","Cg9PBNrLCKLK","Bw9Kzq","y3vYCMvUDa","mZuWmJHVv3buyMe","suPlvxC","yxrHBJi","C3rHCNrsywrPDxm","Aw5UwfK","mJjIuhjtzNC","r25Xy1e","C3r5Bgu","zMXVD2vYCW","Dg9tDhjPBMC","odm4rfzssKzL","zMXVD2vYrgLHBwv0zxi","ywjZ","C2vHCMnO","DuvNzgm","Bgf5zxjZ","vxj2A0y","wLHKsuK","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","B2zMC2v0qw5NBgu","zMXVD2vYswq","DxjSkci","C3rHCNrsB3rHDgLVBG","C2nHBgu","l3rZDw1HBwKV","zLL3ww8","C3rHCNrxAwr0AfnJywXL"];return I0=function(){return c},I0()}js();function En(c,r){c=c-168;const a=I0();let i=a[c];if(En.DffWYB===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};En.sPBrka=o,En.wBGFna={},En.DffWYB=!0}const f=a[0],p=c+f,v=En.wBGFna[p];if(v)i=v;else{const d=function(m){this.CSYvIt=m,this.JogXAI=[1,0,0],this.gIfzJc=function(){return"newState"},this.VUNTpy="\\w+ *\\(\\) *{\\w+ *",this.TTAawR=`['|"].+['|"];? *}`};d.prototype.XzhJZb=function(){const m=new RegExp(this.VUNTpy+this.TTAawR),_=m.test(this.gIfzJc.toString())?--this.JogXAI[1]:--this.JogXAI[0];return this.RdJEbb(_)},d.prototype.RdJEbb=function(m){return~m?this.JATgxK(this.CSYvIt):m},d.prototype.JATgxK=function(m){for(let _=0,y=this.JogXAI.length;_<y;_++)this.JogXAI.push(Math.round(Math.random())),y=this.JogXAI.length;return m(this.JogXAI[0])},new d(En).XzhJZb(),i=En.sPBrka(i),En.wBGFna[p]=i}return i}function im(c){const r=En,a={oOiEs:r(196),VjOky:function(Z,V){return Z===V},ePxOc:function(Z,V){return Z===V},IJKUw:"flower",XjPtO:function(Z,V,P,ie){return Z(V,P,ie)},aqqmU:function(Z,V){return Z*V},UrvkF:function(Z,V){return Z(V)},ZXdII:function(Z,V){return Z-V},hbWxW:function(Z,V,P){return Z(V,P)},JonOl:function(Z,V,P){return Z(V,P)},zektb:function(Z,V){return Z(V)},ArvmZ:function(Z,V){return Z/V},AaRzo:r(211),YRFKQ:r(176),eFIOr:function(Z,V){return Z>V},Ezvlj:function(Z,V){return Z+V},XfEVk:function(Z,V){return Z/V},ZTydQ:function(Z,V){return Z-V},UNNqS:function(Z,V){return Z-V},nUpAM:function(Z,V){return Z*V},FvQdp:function(Z,V){return Z*V},bLLUP:function(Z,V,P){return Z(V,P)},UvEpj:function(Z,V){return Z!==V},DqOLh:"ElMpE",GnqcQ:function(Z,V){return Z*V},MePzA:"wZqKQ",hSfVS:function(Z,V){return Z-V},pVNxp:function(Z,V){return Z-V},NiOiO:function(Z,V){return Z-V},TVRlZ:function(Z,V){return Z(V)}},{project:i,applyUpdate:o,stageRef:f,clientToSvgPoint:p}=c,v=a[r(188)]($.useRef,null),d=(Z,V,P,ie)=>{const J=r;P.preventDefault(),P.currentTarget?.[J(223)]?.(P[J(169)]),f.current&&(f[J(171)].style[J(209)]='url("'+a.oOiEs+'scale_cursor_32.png?v=16") 16 16, ns-resize');const q=i.flowers.find(L=>L.id===V);if(!q)return;const Y=a.VjOky(Z,J(211))&&ie?.[J(210)]?q[J(187)][J(213)](L=>L.id===ie.layerId)[J(202)](L=>({layerId:L.id,scale:L.scale??1,radius:L.radius??10})):q.layers[J(202)](L=>({layerId:L.id,scale:L[J(195)]??1,radius:L[J(221)]??10})),S=p(P),g=q.position.x,M=q.position.y,N=Math[J(204)](S.x-g,S.y-M);v.current={mode:Z,flowerId:V,layerId:ie?.layerId,startScales:Y,startDiam:q.flowerDiameter||60,startDist:N}},m=Z=>{const V=r,P=v[V(171)];if(!P)return;const ie=i[V(180)][V(226)](g=>g.id===P.flowerId);if(!ie)return;const J=a.UrvkF(p,Z),q=Math.hypot(a[V(189)](J.x,ie[V(231)].x),J.y-ie.position.y),Y=Math.max(1,P.startDist??1),S=ye(q/Y,.3,3);a.hbWxW(o,g=>{const M=V,N=g.flowers.find(L=>L.id===P.flowerId);if(N){for(const L of P.startScales){const I=N.layers[M(226)](B=>B.id===L.layerId);I&&(I.scale=ye(L[M(195)]*S,.3,3),a.ePxOc(P[M(170)],a[M(173)])&&(I.radius=a.XjPtO(ye,L.radius*S,2,120)))}P.mode===a.IJKUw&&(N.flowerDiameter=ye(a.aqqmU(P.startDiam,S),10,200))}},!1)},_=()=>{const Z=r;v[Z(171)]&&(a[Z(203)](o,()=>{},!0),f[Z(171)]&&(f[Z(171)][Z(179)][Z(209)]=""),v[Z(171)]=null)},y=a.TVRlZ($.useRef,null),w=(Z,V,P,ie)=>{const J=r;P[J(168)](),P.currentTarget?.setPointerCapture?.(P[J(169)]),f.current&&(f.current[J(179)].cursor=J(193)+a[J(200)]+'rotate_cursor_active_32.png") 16 16, grabbing');const q=i[J(180)][J(226)](M=>M.id===V);if(!q)return;const Y=a.zektb(p,P),S=Math[J(174)](Y.y-q.position.y,Y.x-q[J(231)].x)*a.ArvmZ(180,Math.PI),g=Z===a.AaRzo&&ie?.layerId?q[J(187)][J(226)](M=>M.id===ie.layerId)?.[J(191)]??0:q[J(206)]??0;y[J(171)]={mode:Z,flowerId:V,layerId:ie?.[J(210)],startAngle:S,startRotation:g}},C=Z=>{const V=r,P={MbBdd:a.oOiEs},ie=y.current;if(!ie)return;const J=i[V(180)].find(M=>M.id===ie[V(192)]);if(!J)return;const q=p(Z);let S=a.aqqmU(Math[V(174)](q.y-J[V(231)].y,a[V(189)](q.x,J.position.x)),a.ArvmZ(180,Math.PI))-ie[V(219)];for(;a.eFIOr(S,180);)S-=360;for(;S<-180;)S+=360;const g=a[V(222)](ie[V(194)],S);a.JonOl(o,M=>{const N=V,L=M.flowers.find(I=>I.id===ie[N(192)]);if(L)if(a[N(218)](ie[N(170)],N(211))&&ie.layerId)if(a.YRFKQ===N(176)){const I=L.layers.find(B=>B.id===ie[N(210)]);I&&(I[N(191)]=g)}else _0x1859b6.current.style[N(209)]='url("'+P[N(216)]+'radius_cursor_32.png?v=16") 16 16, nwse-resize';else L.rotation=g},!1)},D=()=>{const Z=r;y[Z(171)]&&(o(()=>{},!0),f[Z(171)]&&(f[Z(171)].style[Z(209)]=""),y[Z(171)]=null)},b=$.useRef(null),h=(Z,V,P,ie)=>{const J=r;P.preventDefault(),P.currentTarget?.[J(223)]?.(P[J(169)]),f.current&&(f[J(171)][J(179)][J(209)]=J(193)+"/tsumami/"+J(190));const q=i.flowers.find(W=>W.id===V);if(!q)return;const Y=ie?.[J(210)]?q.layers.find(W=>W.id===ie.layerId):null;if(!Y)return;const S=p(P),g=q[J(231)].x,M=q[J(231)].y,N=ie?.petalIndex??0,L=360/Math.max(1,Y.petalCount),I=a.aqqmU(Y[J(191)]+a.aqqmU(N,L)+q[J(206)],a.XfEVk(Math.PI,180)),B=a.ZTydQ(S.x,g),z=a.UNNqS(S.y,M),E=-Math[J(199)](I),O=Math.cos(I),U=Math[J(184)](a.Ezvlj(B*E,z*O));b[J(171)]={mode:Z,flowerId:V,layerId:ie?.[J(210)],petalAngle:I,startDist:Math.max(1,U),startWidthScale:Y.widthScale??1}},T=Z=>{const V=r,P=b.current;if(!P)return;const ie=i.flowers.find(I=>I.id===P.flowerId);if(!ie)return;const J=a.zektb(p,Z),q=J.x-ie.position.x,Y=J.y-ie[V(231)].y,S=-Math[V(199)](P.petalAngle),g=Math.cos(P.petalAngle),M=Math[V(184)](a[V(208)](q,S)+Y*g),N=a.XjPtO(ye,M/P[V(234)],.3,3),L=a[V(217)](ye,a[V(205)](P[V(198)],N),.3,3);a[V(207)](o,I=>{const B=V,z=I[B(180)].find(O=>O.id===P[B(192)]);if(!z)return;const E=z[B(187)].find(O=>O.id===P.layerId);E&&(E.widthScale=L)},!1)},R=()=>{const Z=r;if(a.UvEpj("ElMpE",a.DqOLh))_0x2e5535[Z(183)]=_0x2f9f13(a.aqqmU(_0x356152.startDiam,_0x27ca13),10,200);else{if(!b[Z(171)])return;a[Z(207)](o,()=>{},!0),f.current&&(f[Z(171)].style[Z(209)]=""),b.current=null}},k=a[r(188)]($.useRef,null);return{scaleDragRef:v,beginScaleDrag:d,updateScaleDrag:m,endScaleDrag:_,rotationDragRef:y,beginRotationDrag:w,updateRotationDrag:C,endRotationDrag:D,widthScaleDragRef:b,beginWidthScaleDrag:h,updateWidthScaleDrag:T,endWidthScaleDrag:R,radiusDragRef:k,beginRadiusDrag:(Z,V,P,ie)=>{const J=r;P[J(168)](),P.currentTarget?.setPointerCapture?.(P[J(169)]),f.current&&(a[J(229)]!==a[J(229)]?_0x5bef06.radius=MQnHiK.KkdKY(_0xb975fd,MQnHiK[J(197)](_0x55a9a1[J(221)],_0x5e01d6),2,120):f.current.style[J(209)]=J(193)+J(196)+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const q=i.flowers[J(226)](M=>M.id===V);if(!q)return;const Y=ie?.layerId?q.layers[J(226)](M=>M.id===ie[J(210)]):null;if(!Y)return;const S=a.UrvkF(p,P),g=Math.hypot(a.hSfVS(S.x,q[J(231)].x),S.y-q[J(231)].y);k.current={mode:Z,flowerId:V,layerId:ie?.[J(210)],startDist:Math[J(230)](1,g),startRadius:Y.radius??28}},updateRadiusDrag:Z=>{const V=r,P=k[V(171)];if(!P)return;const ie=i.flowers.find(g=>g.id===P.flowerId);if(!ie)return;const J=p(Z),q=Math.hypot(a.pVNxp(J.x,ie[V(231)].x),a.NiOiO(J.y,ie[V(231)].y)),Y=q-P[V(234)],S=a[V(217)](ye,P[V(175)]+Y,5,100);a[V(203)](o,g=>{const M=V,N=g.flowers[M(226)](I=>I.id===P.flowerId);if(!N)return;const L=N.layers[M(226)](I=>I.id===P.layerId);L&&(L[M(221)]=S)},!1)},endRadiusDrag:()=>{const Z=r;k[Z(171)]&&(o(()=>{},!0),f[Z(171)]&&(f[Z(171)].style.cursor=""),k.current=null)}}}(function(c,r){const a=Dt,i=c();for(;;)try{if(parseInt(a(446))/1+-parseInt(a(487))/2+-parseInt(a(436))/3+parseInt(a(465))/4*(parseInt(a(431))/5)+parseInt(a(477))/6*(-parseInt(a(491))/7)+parseInt(a(450))/8*(parseInt(a(433))/9)+parseInt(a(448))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,508140);const rm=(function(){const c={MYRcC:function(a,i){return a!==i},eprIY:"jjqUu",vSQXV:"radius"};let r=!0;return function(a,i){const o={wKLbD:c.vSQXV},f=r?function(){const p=Dt,v={xWmQb:p(462)};if(c[p(440)]("oXIvV","DSAHY")){if(i)if(c[p(440)](c.eprIY,"SJGpl")){const d=i[p(442)](a,arguments);return i=null,d}else return{zone:o.wKLbD,layerId:_0x4538fd.id}}else if(_0x1b248a.abs(_0x290c1b-_0x692fc5)<=6)return{zone:v.xWmQb,layerId:_0x458ac6.id}}:function(){};return r=!1,f}})(),Cs=rm(void 0,function(){const c=Dt;return Cs.toString().search(c(434)).toString().constructor(Cs).search(c(434))});Cs();function R0(){const c=["tvLsy0m","A2LUza","yxbWBhK","D2LKDgG","Bgf5zxjZ","EKDcv0C","nZqYnZqZs2fmBMfn","B2zMC2v0qw5NBgu","ody3ote4mg9PBMvZCq","zMLSDgvY","mtGXnNPQt0r4Ca","C2LU","zMfICMLJu3f1yxjLu2L6zq","D2fnqKS","Bwf4","D2vSvLG","AhLZENy","qNHJzgK","y29Z","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","D2LKDgHty2fSzq","DKzlvhy","CMfKAxvZ","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","BM9Uzq","ode4mffdyvrQAW","B1rgrg0","C2nHBgu","CM90yxrL","s1zuvwu","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","CwvNwNm","Cg9ZAxrPB24","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","DMLZAwjSzq","yLHwEfG","z3jHyG","mJuYnLbZDMXKrW","zMXVD2vY","CM90yxrPB24","BgvUz3rO","BwHdrfG","AhLWB3q","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","r2jjA00","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","y2DkuK0","mtiWmda3oejXyMnjza","wMHRs1i","qw1WEwC","Ehv4A2u","nte3m2nvDwHSra","DxjSkci","ywjZ","vgXktNO","tMfwtNG","C2vHCMnO","ufvQtvG","tevYwuS","q3nJreO","zfv3sxu","mtqWq1rhqLnV","CeLvt2O","mtCZmdDIsxzQEu4","kcGOlISPkYKRksSK","twH5C00","mJa1ntqZmNzyENvcsG","shfSC0q","vgf0wvG","zMLUza"];return R0=function(){return c},R0()}function ui(c,r,a,i,o){const f=Dt,p={HqlsD:f(468),oAdHE:"width",plpAp:"(((.+)+)+)+$",Ampyg:function(X,K){return X(K)},vFKTv:function(X,K){return X-K},ZhkKR:"OHiao",lrRel:function(X,K){return X>K},Djidl:"radius",LErYK:function(X,K){return X*K},wQyTy:function(X,K){return X+K},TatYX:function(X,K){return X===K},CscDJ:function(X,K){return X/K},TlJNz:f(455),lcTUN:function(X,K){return X*K},pIUOj:function(X,K){return X*K},mhCDX:function(X,K){return X>=K},IZJGc:function(X,K){return X+K},hyszv:function(X,K){return X===K},fxXOK:"scale"},{length:v}=p.Ampyg(Ht,a[f(452)]??i.fabricSquareSize),d=p.vFKTv(c,a[f(472)].x),m=r-a.position.y,_=Math[f(482)](d,m);let y=1/0;for(const X of a[f(444)]){if(!X[f(474)])continue;const K=X.scale??1,Z=v*K,V=.28,P=Math[f(454)](0,X.radius-Z*V);P<y&&(y=P)}isFinite(y)||(y=0);const w=Math[f(454)](y*.9,8);if(_<=w)if(p[f(488)]!=="OHiao")switch(_0xae6e62){case p[f(437)]:return f(492)+_0x381d89+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return f(492)+_0x150ac3+f(473);case p.oAdHE:return f(492)+_0x135f75+'width_cursor_32.png?v=16") 16 16, ew-resize';case"move":return _0x45c2ea(_0x9f7eb2);case f(464):default:return f(476)}else return{zone:"center"};if(o.kind==="layer"){if(f(484)===f(471))return _0x12244b.toString()[f(426)]("(((.+)+)+)+$").toString().constructor(_0x3637c0).search(NcaTAR.plpAp);{const X=a.layers[f(439)](K=>K.id===o.layerId&&K[f(474)]);if(X){const K=X.scale??1,Z=v*K,V=.28,P=Math[f(454)](0,X.radius-Z*V);if(p.lrRel(P,0)&&Math.abs(_-P)<=6)return{zone:p.Djidl,layerId:X.id}}}}const C=wa(-(a[f(479)]??0)),D=d*Math.cos(C)-p[f(428)](m,Math[f(451)](C)),b=p.wQyTy(d*Math.sin(C),p[f(428)](m,Math[f(458)](C))),h=p.TatYX(o[f(441)],"layer")?a.layers.filter(X=>X.id===o.layerId&&X[f(474)]):a.layers[f(449)](X=>X.visible);let T="none",R,k,G=1/0;for(const X of h){const K=X.scale??1,Z=v*K,V=X[f(460)]??1,P=p.CscDJ(v,2)*V*K,ie=.28,J=Math.max(0,p[f(461)](X[f(462)],p.LErYK(Z,ie))),q=360/Math[f(454)](1,X.petalCount);for(let Y=0;Y<X.petalCount;Y++)if(p[f(438)](p[f(494)],p.TlJNz)){const S=X[f(447)]+p[f(428)](Y,q),g=p[f(489)](wa,S),M=p.lcTUN(Math[f(458)](g),J),N=p.lcTUN(Math[f(451)](g),J),L=D-M,I=b-N,B=Math[f(458)](-g),z=Math[f(451)](-g),E=p.vFKTv(L*B,p[f(428)](I,z)),O=p[f(432)](L,z)+I*B,U=p[f(429)](E,Z),W=O/P;if(U<-.05||U>1.08||Math[f(493)](W)>.75)continue;const le=Math.hypot(U-.5,W);if(p[f(481)](le,G))continue;G=le,R=X.id,k=Y,Math.abs(W)>.45?T="width":U>.75?T=p[f(437)]:T=f(467)}else return'url("'+_0x2b2229+'move_pan_cursor_32.png") 16 16, grab'}if(p[f(438)](T,f(464))){let X=12;for(const V of a.layers){if(!V[f(474)])continue;const P=V.scale??1,ie=v*P,J=.28,q=Math[f(454)](0,p.vFKTv(V.radius,ie*J));X=Math.max(X,p.IZJGc(q,ie))}if(Math.abs(_-X)<=8)return p[f(456)]("OuOLr",f(457))?{zone:"center"}:{zone:p.fxXOK}}return{zone:T,layerId:R,petalIndex:k}}function M0(c,r,a){const i=Dt,o={MhysM:i(467),waMBK:function(f,p){return f===p},xuxke:"center",awuln:i(478),uHqZZ:function(f,p){return f!=p},ZrKOQ:function(f,p){return f*p},lFtxl:function(f,p){return f*p},PUjMX:"rotate",KVTUe:"petals"};if(o[i(453)](c,o[i(490)]))return o.xuxke;if(o.waMBK(c,i(464)))return"none";switch(r){case o.awuln:{if(o[i(453)](c,o[i(435)]))return i(467);if(c===i(468)&&a?.hitLayerId&&a[i(478)]&&o.uHqZZ(a[i(480)],null)){let f,p=-1/0;for(const v of a.flower[i(444)]){if(!v.visible)continue;const d=v[i(467)]??1,m=o.ZrKOQ(a[i(480)],d),_=.28,y=Math.max(0,v[i(462)]-o.lFtxl(m,_)),w=y+m;w>p&&(p=w,f=v.id)}return o[i(453)](a.hitLayerId,f)?o[i(427)]:o[i(435)]}return"scale"}case"layer":return c;case"petal":case o[i(469)]:return o.MhysM;default:return o.MhysM}}function cm(c,r,a,i){const o=Dt,f={SbpMs:function(k,G){return k(G)},zGBWG:function(k,G){return k*G},YpThF:function(k,G){return k-G},nAsdU:function(k,G){return k(G)},xwtCm:function(k,G){return k+G},NaVNx:function(k,G){return k/G},rVZqN:function(k,G){return k<G},uEWSh:function(k,G){return k>G},dUwIu:o(464),DwhPe:function(k,G){return k>G},mSliQ:function(k,G){return k>G},wFKIj:"scale"},p=a[o(452)]??i[o(452)],{length:v,width:d}=f.SbpMs(Ht,p),m=a.scale??1,_=f.zGBWG(v,m),y=f[o(445)](f[o(445)](d,a.widthScale??1),m),w=c-a[o(472)].x,C=f.YpThF(r,a[o(472)].y),D=f.nAsdU(wa,-(a[o(479)]??0)),b=w*Math.cos(D)-C*Math.sin(D),h=f.xwtCm(w*Math[o(451)](D),f.zGBWG(C,Math[o(458)](D))),T=b/_,R=f[o(495)](h,y);return f.rVZqN(T,-.05)||f.uEWSh(T,1.08)?f.dUwIu:f.DwhPe(Math.abs(R),.75)?f[o(430)]:Math[o(493)](R)>.45?o(443):T>.75?"rotate":f.mSliQ(T,.3)?f.wFKIj:"move"}function nr(c,r){const a=Dt,i={teFTT:"width",bXVxX:"move"};switch(c){case"rotate":return'url("'+r+a(459);case"scale":return'url("'+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i.teFTT:return a(492)+r+a(485);case i[a(475)]:return ur(r);default:return a(476)}}function Hd(c,r){const a=Dt,i={oTFDm:"pointer",aVREg:"width",JoVup:"move",cgJRM:function(o,f){return o(f)},LjtWj:"grab"};switch(c){case"center":return i[a(466)];case"rotate":return a(492)+r+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return a(492)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i.aVREg:return'url("'+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case a(462):return a(492)+r+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case i.JoVup:return i[a(486)](ur,r);default:return i.LjtWj}}function Dt(c,r){c=c-426;const a=R0();let i=a[c];if(Dt.tHLsfJ===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Dt.aGoPoA=o,Dt.dFdqly={},Dt.tHLsfJ=!0}const f=a[0],p=c+f,v=Dt.dFdqly[p];if(v)i=v;else{const d=function(m){this.HGVfZC=m,this.MvCgIc=[1,0,0],this.uAcjat=function(){return"newState"},this.aopVLg="\\w+ *\\(\\) *{\\w+ *",this.udGDkN=`['|"].+['|"];? *}`};d.prototype.nPAXzm=function(){const m=new RegExp(this.aopVLg+this.udGDkN),_=m.test(this.uAcjat.toString())?--this.MvCgIc[1]:--this.MvCgIc[0];return this.dUgTKO(_)},d.prototype.dUgTKO=function(m){return~m?this.apisoX(this.HGVfZC):m},d.prototype.apisoX=function(m){for(let _=0,y=this.MvCgIc.length;_<y;_++)this.MvCgIc.push(Math.round(Math.random())),y=this.MvCgIc.length;return m(this.MvCgIc[0])},new d(Dt).nPAXzm(),i=Dt.aGoPoA(i),Dt.dFdqly[p]=i}return i}function ur(c){return Dt(492)+c+'move_object_cursor_32.png") 16 16, move'}function Rn(c){const r=Dt;return'url("'+c+r(470)}function um(c){const r=Dt;return'url("'+c+r(463)}function sm(c){const r=Dt;return r(492)+c+r(483)}(function(c,r){const a=qn,i=c();for(;;)try{if(-parseInt(a(472))/1+parseInt(a(499))/2+parseInt(a(425))/3+parseInt(a(469))/4*(parseInt(a(494))/5)+parseInt(a(430))/6*(-parseInt(a(406))/7)+parseInt(a(477))/8+parseInt(a(427))/9*(parseInt(a(456))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,529234);const xm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Ms=xm(void 0,function(){const c=qn,r={runwa:"(((.+)+)+)+$"};return Ms[c(482)]().search(r.runwa)[c(482)]()[c(455)](Ms).search(r[c(450)])});Ms();function qn(c,r){c=c-406;const a=G0();let i=a[c];if(qn.eselur===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};qn.pAHTyt=o,qn.QpWRTp={},qn.eselur=!0}const f=a[0],p=c+f,v=qn.QpWRTp[p];if(v)i=v;else{const d=function(m){this.AozGtc=m,this.jkVxts=[1,0,0],this.HecJOE=function(){return"newState"},this.KryBSl="\\w+ *\\(\\) *{\\w+ *",this.DmKBaJ=`['|"].+['|"];? *}`};d.prototype.BGARwC=function(){const m=new RegExp(this.KryBSl+this.DmKBaJ),_=m.test(this.HecJOE.toString())?--this.jkVxts[1]:--this.jkVxts[0];return this.KRfxsu(_)},d.prototype.KRfxsu=function(m){return~m?this.MZhLnp(this.AozGtc):m},d.prototype.MZhLnp=function(m){for(let _=0,y=this.jkVxts.length;_<y;_++)this.jkVxts.push(Math.round(Math.random())),y=this.jkVxts.length;return m(this.jkVxts[0])},new d(qn).BGARwC(),i=qn.pAHTyt(i),qn.QpWRTp[p]=i}return i}function G0(){const c=["zMXVD2vY","DxbKyxrLv2LKDgHty2fSzurYywC","BgvHzG","zMXVD2vYswq","y29UC3rYDwn0B3i","mJK5mtGZmfbJyKTUBq","sKPRDgO","sLDZuK8","ywjZ","vNDsDNO","C3rHCNrqB3m","yxPvDgG","zMXVD2vYCW","DxbKyxrLu2nHBgveCMfN","zeL2DMm","AMv3C2u","BwL4zwq","Cg9ZAxrPB24","mta5nZu2z2DKteXz","ChjVAMvJDa","te5Pv2G","odGZmtuWu3fOuKnl","uKrcEe0","ANHgwgu","Buvyq0K","y2XPy2TqzxrHBa","mtiWmty0og5UA1DOtq","u3fPs28","BwLU","EKTyqxC","ChjLDMvUDerLzMf1Bhq","Dg9tDhjPBMC","BxvSDgLtDgfYDfbVC2L0Aw9UCW","q0vgAwO","vMXgBgi","y3vYCMvUDfn2zW","C2nHBgveCMfNuMvM","DwXJsKq","yK5UyNC","C3rHCNrtDMC","zMLUza","BgvHzKLKCW","zw5Ku2nHBgveCMfN","nJvcD2vWwu4","qxDSDu8","tvLpB2G","CM90yxrPB25eCMfNuMvM","tfvcEhG","mtK4mJK4wKzUvuHr","y1jcy0i","A2LUza","CuPbzwi","Aw5KzxG","y3vYCMvUDa","Bgf5zxi","rMvhtwK","rK9XvKK","nZu1mdjjywLjs08","rwzVr24","BePxEvi","yLDTB1i","ChvZAa","zw5Kv2LKDgHty2fSzurYywC","z2HsD1G","D2LKDgHty2fSzurYywDszwy","y2XPzw50wa","DNrmuNi","zwrPyvK","Bgf5zxjjza","CgfUma","AhLWB3q","u0zIDuG","y2XPzw50wq","zw5KuM90yxrPB25eCMfN","r0Xyy1K","rMPvquG","mtC5nZiZmxzHy09itG","AxntAgLMDfbYzxnZzwq","mJDkDeDfDK0","Cgv0ywW","y0PXt08","mZG0DxDozhvT","yMvNAw5ty2fSzurYywC","AgjhtxO","EMzuDu0","y3vYCMvUDfrHCMDLDa","u1rZtfm","CuHeBwe","yKLUwLm","BgvHDMvZ","C3rHCNrdBgLLBNq","AeHoy00","CNrQENa","ugXjD0K","BgvUz3rO","DxbKyxrLuMfKAxvZrhjHzW","tMvevKW","yMvNAw5sB3rHDgLVBKrYywC","Bw92zwq","yMvNAw5xAwr0AfnJywXLrhjHzW","yNnLuuy","CNvUD2e"];return G0=function(){return c},G0()}const ii=500*rn;function om(c){const r=qn,a={lJWyR:function(q,Y){return q+Y},AwluO:function(q,Y){return q+Y},LNiWh:function(q,Y){return q!==Y},jxFXe:"RDBxM",NeDVL:function(q,Y){return q(Y)},eXWyE:"flowers",rSTQD:r(433),kFRgb:function(q,Y){return q(Y)},CEFij:function(q,Y){return q-Y},bNnbw:function(q,Y){return q(Y)},LUBxx:function(q,Y){return q(Y)},bWmoR:"petal",mEXCI:"GLXcY",VPEBu:function(q,Y){return q<Y},ulcJD:r(470),BJkHk:function(q,Y){return q(Y)},OeuTz:function(q,Y){return q<=Y},YyJtK:function(q,Y){return q<=Y},EqQwo:"DfcUN",VlFlb:function(q,Y){return q>Y},JWsRO:function(q,Y){return q(Y)},SqiKo:function(q,Y){return q===Y},ediaY:"nvkEi",rtjzp:function(q,Y){return q(Y)},qHDma:r(432),jewse:r(507),qXgOJ:"leaves",TEnvC:function(q,Y){return q===Y},VwRvz:"juuZH",EWVtC:function(q,Y){return q(Y)},FjUAH:function(q,Y,S,g){return q(Y,S,g)},SFbuH:r(429),hHNcM:function(q,Y){return q===Y},cRBcB:function(q,Y,S){return q(Y,S)},rxqJj:function(q,Y){return q>Y},qgeTs:function(q,Y){return q(Y)},EbyOg:function(q,Y){return q-Y},DcTlx:function(q,Y){return q>Y},bseQF:function(q,Y,S){return q(Y,S)},apGgy:function(q,Y,S,g,M){return q(Y,S,g,M)},STsLS:function(q,Y){return q===Y},ghRwX:"flower",lrwSd:function(q,Y){return q!==Y},azUth:function(q,Y){return q!==Y},vtLRr:function(q,Y,S){return q(Y,S)}},{project:i,selection:o,setSelection:f,applyUpdate:p,dragRef:v,zoom:d,pan:m,setPan:_,stageRef:y,clientToSvgPoint:w,togglePetalSelection:C}=c,D=im({project:i,applyUpdate:p,stageRef:y,clientToSvgPoint:w}),b=$.useRef(null),h=q=>{const Y=r;q[Y(481)](),q.currentTarget?.setPointerCapture?.(q.pointerId),b.current={start:{x:q[Y(414)],y:q.clientY},pan0:{...m}}},T=q=>{const Y=r;if(!b.current)return;const S=q.clientX-b.current.start.x,g=q[Y(421)]-b[Y(504)].start.y;_({x:a[Y(408)](b.current.pan0.x,S),y:a[Y(495)](b.current[Y(418)].y,g)})},R=()=>{const q=r;b[q(504)]=null},k=$.useRef(null),[G,X]=a.rtjzp($.useState,null);return{beginPan:h,updatePan:T,endPan:R,marqueeRef:k,marqueeRect:G,beginMarquee:q=>{const Y=r;if(a[Y(471)](Y(473),a[Y(474)]))_0x4f88de[Y(410)](_0x171cc7.id);else{q[Y(481)](),q[Y(434)]?.setPointerCapture?.(q.pointerId);const S=w(q);k[Y(504)]={startSvg:S,currentSvg:S},a[Y(445)](X,null)}},updateMarquee:q=>{const Y=r,S={zKXAw:function(g,M){return g(M)},Purac:a.eXWyE};if(a.rSTQD!=="zfTuM")S[Y(480)](_0x51ea5a,{kind:S.Purac,flowerIds:_0x2df221});else{if(!k.current)return;const g=a.kFRgb(w,q);k[Y(504)].currentSvg=g;const M=k[Y(504)].startSvg,N=Math.min(M.x,g.x),L=Math[Y(479)](M.y,g.y),I=Math[Y(459)](g.x-M.x),B=Math.abs(a[Y(484)](g.y,M.y));a.bNnbw(X,{x:N,y:L,w:I,h:B})}},endMarquee:()=>{const q=r,Y={dIvvc:function(U,W){return U===W},LTSZt:q(453),UMlMK:function(U,W){return U(W)}},S=k[q(504)];if(k[q(504)]=null,!S)if(a[q(475)]!==q(423))a[q(498)](_0x409d4b,{kind:a.bWmoR,flowerId:_0x3096e6[q(454)],layerId:_0x300fa8.clickPetal.layerId,index:_0x34a6af.clickPetal.index});else{a.LUBxx(X,null);return}const g=S[q(490)],M=S[q(486)],N=Math[q(419)](M.x-g.x,M.y-g.y);if(a.VPEBu(N,3)){f({kind:a[q(488)]}),a.BJkHk(X,null);return}const L=Math.min(g.x,M.x),I=Math[q(479)](g.y,M.y),B=Math[q(459)](M.x-g.x),z=Math[q(459)](M.y-g.y),E=[];for(const U of i[q(463)])U.position.x>=L&&a.OeuTz(U.position.x,L+B)&&U[q(468)].y>=I&&a.YyJtK(U.position.y,I+z)&&E.push(U.id);const O=[];for(const U of i.leaves??[])q(496)===a.EqQwo?Y[q(465)](_0x2bcc4f.length,1)?_0x5ca917({kind:Y.LTSZt,leafId:_0x319769[0]}):Y.UMlMK(_0x274f4e,{kind:q(438),leafIds:_0x16b3da}):U.position.x>=L&&U.position.x<=L+B&&U[q(468)].y>=I&&U.position.y<=a[q(495)](I,z)&&O[q(410)](U.id);if(E[q(443)]>0&&a[q(485)](O[q(443)],0))a[q(458)](f,{kind:q(467),flowerIds:E,leafIds:O});else if(E[q(443)]>0)E.length===1?f({kind:"flower",flowerId:E[0]}):a.SqiKo(a[q(416)],"MDEAn")?_0x6ec171[q(504)]=null:a[q(441)](f,{kind:"flowers",flowerIds:E});else if(O.length>0)if(a[q(478)](O.length,1))if(a[q(471)](a[q(436)],q(432))){const U=_0x4c4659.flowers.find(W=>W.id===_0xbb45c4);return{id:_0x1b30dc,x:U?.[q(468)].x??0,y:U?.position.y??0}}else f({kind:"leaf",leafId:O[0]});else a.SqiKo(a.jewse,a[q(466)])?f({kind:a.qXgOJ,leafIds:O}):_0x56642b=_0x2bde82.map(U=>{const W=q,le=_0x49f8f7.flowers.find(xe=>xe.id===U);return{id:U,x:le?.position.x??0,y:le?.[W(468)].y??0}});else if(a.TEnvC(a[q(460)],"juuZH"))a.EWVtC(f,{kind:q(470)});else{a[q(489)](_0x8cb191,null);return}X(null)},beginFlowerDrag:(q,Y,S)=>{const g=r,M={PlIwI:function(z,E,O,U){return a[qn(424)](z,E,O,U)},EfoGn:function(z,E,O,U){return z(E,O,U)},bInZS:a[g(420)]};Y[g(481)](),Y.currentTarget?.setPointerCapture?.(Y.pointerId);const N=i[g(463)].find(z=>z.id===q);if(!N)return;let L=null,I=null;if(a.hHNcM(o[g(501)],"flowers")&&o.flowerIds.includes(q))L=o.flowerIds.map(z=>{const E=g,O=i[E(463)][E(491)](U=>U.id===z);return{id:z,x:O?.position.x??0,y:O?.[E(468)].y??0}});else{const z=a[g(500)](D2,i,q);a.rxqJj(z.length,1)&&(L=z.map(E=>{const O=g,U=i.flowers[O(491)](W=>W.id===E);return{id:E,x:U?.[O(468)].x??0,y:U?.[O(468)].y??0}}))}const B=a[g(500)](ll,i,q);B&&B.leafIds[g(443)]>0&&(I=B[g(492)].map(z=>{const E=g;if(M[E(437)]===M.bInZS){const O=(i.leaves??[])[E(491)](U=>U.id===z);return{id:z,x:O?.[E(468)].x??0,y:O?.position.y??0}}else{const O=_0x34ab7a.flowers[E(491)](U=>U.id===_0x1ee8c1[E(454)]);if(!O)return;O.position.x=M[E(442)](_0x272660,_0x3bfb26.startPos.x+_0x2028ba,0,_0x2a11de),O[E(468)].y=M[E(407)](_0x2c9601,_0x1d7c67[E(461)].y+_0x100f09,0,_0x5ff750)}})),v[g(504)]={flowerId:q,startClient:{x:Y.clientX,y:Y.clientY},startPos:{...N[g(468)]},moved:!1,clickPetal:S??null,isShiftPressed:Y.shiftKey||!1,multiStartPositions:L,leafStartPositions:I,startZoom:d}},updateFlowerDrag:q=>{const Y=r,S={dqOiZ:function(B,z){return a.qgeTs(B,z)},qJAeb:function(B,z){return B-z},kpHdi:"CmRMQ",FeGMi:function(B,z,E,O){return a.FjUAH(B,z,E,O)},jhhBc:function(B,z,E,O){return a.FjUAH(B,z,E,O)},JJktj:function(B,z){return B+z}},g=v.current;if(!g)return;const M=a.EbyOg(q.clientX,g[Y(439)].x)/g.startZoom,N=(q.clientY-g.startClient.y)/g.startZoom,L=a.CEFij(q[Y(414)],g[Y(439)].x),I=q.clientY-g.startClient.y;a.DcTlx(Math.abs(L)+Math[Y(459)](I),4)&&(g.moved=!0),a[Y(449)](p,B=>{const z=Y;if(S.kpHdi==="CmRMQ"){if(g.multiStartPositions)for(const E of g[z(483)]){const O=B[z(463)].find(U=>U.id===E.id);O&&(O[z(468)].x=S[z(506)](ye,E.x+M,0,ii),O[z(468)].y=S.jhhBc(ye,S[z(457)](E.y,N),0,ii))}else{const E=B.flowers[z(491)](O=>O.id===g[z(454)]);if(!E)return;E[z(468)].x=S[z(506)](ye,g[z(461)].x+M,0,ii),E[z(468)].y=ye(S.JJktj(g[z(461)].y,N),0,ii)}if(g.leafStartPositions)for(const E of g.leafStartPositions){const O=(B[z(438)]??[])[z(491)](U=>U.id===E.id);O&&(O.position.x=S.FeGMi(ye,E.x+M,0,ii),O.position.y=S[z(506)](ye,E.y+N,0,ii))}}else{if(!_0x5c0e06[z(504)])return;const E=IJHNPy.dqOiZ(_0x484785,_0xfb2f7a);_0x2fd34c[z(504)].currentSvg=E;const O=_0x25e936.current.startSvg,U=_0x2ddfc3.min(O.x,E.x),W=_0x2c292f.min(O.y,E.y),le=_0x1fb549[z(459)](E.x-O.x),xe=_0x54843f.abs(IJHNPy[z(502)](E.y,O.y));_0x19b976({x:U,y:W,w:le,h:xe})}},!1)},endFlowerDrag:()=>{const q=r,Y=v[q(504)];Y&&(!Y[q(447)]&&Y.clickPetal?Y[q(426)]?a.apGgy(C,Y.flowerId,Y[q(476)].layerId,Y[q(476)][q(503)],!0):f({kind:q(428),flowerId:Y[q(454)],layerId:Y.clickPetal[q(417)],index:Y[q(476)].index}):Y[q(447)]&&((o.kind==="project"||a[q(435)](o.kind,a[q(412)])&&a.lrwSd(o.flowerId,Y.flowerId)||o.kind===q(505)&&a[q(462)](o[q(454)],Y[q(454)])||a[q(440)](o[q(501)],a[q(409)])&&a.LNiWh(o.flowerId,Y.flowerId))&&f({kind:q(451),flowerId:Y.flowerId}),a[q(415)](p,()=>{},!0)),v.current=null)},scaleDragRef:D[r(487)],beginScaleDrag:D[r(431)],updateScaleDrag:D[r(464)],endScaleDrag:D[r(493)],rotationDragRef:D[r(497)],beginRotationDrag:D[r(446)],updateRotationDrag:D.updateRotationDrag,endRotationDrag:D[r(422)],widthScaleDragRef:D[r(413)],beginWidthScaleDrag:D[r(448)],updateWidthScaleDrag:D[r(452)],endWidthScaleDrag:D[r(411)],radiusDragRef:D.radiusDragRef,beginRadiusDrag:D.beginRadiusDrag,updateRadiusDrag:D[r(444)],endRadiusDrag:D.endRadiusDrag}}function fm({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function ri(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),o=Math.max(0,i),f=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",p="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:v=>{c.onDoubleClick&&(v.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${p} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:v=>{v.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(fm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${p} shrink-0`,"aria-hidden":!0})]})]})}function dm(c){const{project:r,selection:a,setSelection:i,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:p,handleFlowerRowDoubleClick:v,addFlower:d,deleteSelected:m,addOuterLayer:_,deleteOuterLayer:y,deleteFlowerById:w,deleteLayerById:C,treeScrollRef:D,setExpandedFlowers:b}=c,h=(K,Z)=>{const V=a.kind==="flower"&&a.flowerId===K.id,P=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(K.id),ie=V||P,J="",q=o(K.id),Y=K.layers&&K.layers.length>0,S=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:g=>{g.stopPropagation(),_(K.id)},"aria-label":"Add outer layer",children:"+"}),Y&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:g=>{g.stopPropagation(),y(K.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":K.id,"data-testid":`tree-flower-${K.id}`,style:{paddingLeft:Z},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${q?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:q?"Collapse layers":"Expand layers",onClick:g=>{g.stopPropagation(),f(K.id)},"aria-label":q?"collapse":"expand","data-tree-toggle":!0,children:q?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ri,{label:K.name,marker:J,selected:ie,showTrash:V,onTrash:()=>w(K.id),rightActions:S,onClick:()=>p(K.id),onDoubleClick:()=>v(K.id),level:0,leftOffset:-18})})]}),q&&K.layers.slice().sort((g,M)=>M.order-g.order).map(g=>{const M=(a.kind==="layer"||a.kind==="petal")&&a.layerId===g.id;return s.jsx(ri,{label:`${g.order}. ${g.name}`,marker:"",selected:M,showTrash:M,onTrash:()=>C(K.id,g.id),onClick:()=>{i({kind:"layer",flowerId:K.id,layerId:g.id}),b(N=>({...N,[K.id]:!0}))},level:0,leftOffset:10,muted:!g.visible},g.id)})]},K.id)},T=c.groups,R=new Set(T.flatMap(K=>K.flowerIds)),k=r.flowers.filter(K=>!R.has(K.id)),G=new Set(T.flatMap(K=>K.leafIds)),X=c.leaves.filter(K=>!G.has(K.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:m,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:D,"data-testid":"layer-tree",children:[s.jsx(ri,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),T.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...T].reverse().map(K=>{const Z=a.kind==="group"&&a.groupId===K.id,V="",P=c.isGroupExpanded(K.id);return s.jsxs("div",{"data-group-id":K.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${P?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:P?"":"",onClick:ie=>{ie.stopPropagation(),c.toggleGroupExpanded(K.id)},"aria-label":P?"collapse group":"expand group",children:P?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ri,{label:K.name,marker:V,selected:Z,onClick:()=>c.onSelectGroup(K.id),level:0,leftOffset:-18})})]}),P&&K.flowerIds.map(ie=>{const J=r.flowers.find(q=>q.id===ie);return J?h(J,12):null}),P&&K.leafIds.map(ie=>{const J=c.leaves.find(Y=>Y.id===ie);if(!J)return null;const q=a.kind==="leaf"&&a.leafId===J.id||a.kind==="leaves"&&a.leafIds.includes(J.id)||a.kind==="mixed"&&a.leafIds.includes(J.id);return s.jsx(ri,{label:` ${J.name}`,selected:q,showTrash:q,onTrash:()=>c.onDeleteLeaf(J.id),onClick:()=>c.onSelectLeaf(J.id),level:0,leftOffset:12,muted:!J.visible},J.id)})]},K.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:d,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...k].reverse().map(K=>h(K,0)),k.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[[...X].reverse().map(K=>{const Z=a.kind==="leaf"&&a.leafId===K.id||a.kind==="leaves"&&a.leafIds.includes(K.id)||a.kind==="mixed"&&a.leafIds.includes(K.id);return s.jsx(ri,{label:K.name,selected:Z,showTrash:Z,onTrash:()=>c.onDeleteLeaf(K.id),onClick:()=>c.onSelectLeaf(K.id),level:0,leftOffset:0,muted:!K.visible},K.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const se=Bn;(function(c,r){const a=Bn,i=c();for(;;)try{if(parseInt(a(527))/1+-parseInt(a(519))/2+-parseInt(a(484))/3+parseInt(a(528))/4+parseInt(a(583))/5+parseInt(a(557))/6*(parseInt(a(575))/7)+parseInt(a(485))/8*(-parseInt(a(561))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,987437);function Bn(c,r){c=c-484;const a=O0();let i=a[c];if(Bn.GpOXUP===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Bn.LDOKMV=o,Bn.aeCzeS={},Bn.GpOXUP=!0}const f=a[0],p=c+f,v=Bn.aeCzeS[p];if(v)i=v;else{const d=function(m){this.mGUWXt=m,this.kVTHxA=[1,0,0],this.NhtNRV=function(){return"newState"},this.FWzlVa="\\w+ *\\(\\) *{\\w+ *",this.hCCKcO=`['|"].+['|"];? *}`};d.prototype.ZUDBMZ=function(){const m=new RegExp(this.FWzlVa+this.hCCKcO),_=m.test(this.NhtNRV.toString())?--this.kVTHxA[1]:--this.kVTHxA[0];return this.DUUZOR(_)},d.prototype.DUUZOR=function(m){return~m?this.pJFDeN(this.mGUWXt):m},d.prototype.pJFDeN=function(m){for(let _=0,y=this.kVTHxA.length;_<y;_++)this.kVTHxA.push(Math.round(Math.random())),y=this.kVTHxA.length;return m(this.kVTHxA[0])},new d(Bn).ZUDBMZ(),i=Bn.LDOKMV(i),Bn.aeCzeS[p]=i}return i}const hm=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Bn;if(a){const f=a[o(511)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),zs=hm(void 0,function(){const c=Bn;return zs[c(590)]()[c(553)](c(486))[c(590)]().constructor(zs).search(c(486))});zs();function O0(){const c=["qYaTodmGodySic04mIa3ncWGltGWidyY","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","qYa2mcaZocWGnJqGntiSidy0idy4","qYa2nca0ncWGnJqGntaSidyZidu2","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","qYa2nsaXmIWGnZiGmJySidC2idqY","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","tsaTndyGmJy","qYa3oca0mcWGnZGGntqSidCYidyY","mtm1ntiZndn1z0rSteO","tcaTmZaGmJqW","qYa2nIa4nIWGnJiGodGSidu4idKW","Euv6DvO","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYa0mIa2mIWGndaGntaSidqYidm4","qYa1nsaXmcWGnJaGmJiSidyZidm2","odGZmZi3nuvpwK5Orq","BgvMDa","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","l3rZDw1HBwKV","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","tsa0nIaYnG","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","Dg9tDhjPBMC","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","tcaTndaGmtm0","C3rLBMnPBhmVy2HPBgrFBgvMDc5WBMC","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","mte4mJm2merpD1PmrG","mJi5oda4mdHcywLyD3C","kcGOlISPkYKRksSK","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYaTndqGnIWGltiWidaSidaGma","yMfJAW","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYa3mIa2osWGnJKGnZiSidy2idC2","tsaWidCW","qYaZmcaXntiSidmYide2nIWGntuGmJaY","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","BvL5Cwm","s0z5EwK","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","qYaTodaGmta4lcaTodGGotySic04oca4na","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYaTntGGntaSic01nca1ocWGltuWidCW","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","yxbWBhK","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYa4mIa3ncWGodmGodySidGYidK4","qYaTndaGmtaSic0XocaXlcaWida","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","qYaYmcaWlca0nca2lca1ocaYma","mJiZmda3ngrqs2nMtW","vLfsu2y","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaTmZaGntqSic00oca0ocWGltyYidq0","AgvPz2H0","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYa0nca1ncWGmtyGndGSic0Xmca0nG","mty0mdK2ow50rwjnva","mtaYmdG4BgfiDefU","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","C2LKzq","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYa3oca1mIWGnZCGnJaSidC0idy2","qYa2nsa4msWGnJyGodmSidy2idG1","qYa3mIaXndiSidyWide1mIWGndGGmtyY","DunnrMO","CMLNAhq","ENbLq2W","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYaTmJiGnIWGlteWideSidaGma","5y+Z5zcr44gn","qYa1nYa3msWGntKGnZuSidyZidC5","qYaYmcaXndGSideWide1mcWGmcaXnta","qYa2ocaZmcWGnZyGndqSidGWidyY","uw5wq2W","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","tsaTndaGmtqY","AM9PBG","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","C2vHCMnO","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYaTntyGmZySic01mcaYnIWGltqYide4","qYaTnJqGntiSic02mcaZocWGltuYidi2","nKfgwNLgsG","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTncaTmsWGlteGlteSidaGma","qYa2nIa2ocWGntyGnZaSidq4idy2","owfLq2H5za","tsaWida","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","D2LKDgG","qYaTnJGGotySic03mca4ncWGlty2idC0"];return O0=function(){return c},O0()}const e1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},t1={adult:"",child:""},n1={right:se(543),left:"",back:""},mm=[se(562),"C 15 -2, 38 -5, 55 5",se(571),"C 78 52, 77 60, 74 66",se(497),"C 65 80, 68 85, 74 90","C 78 93, 82 96, 83 99","C 83 101, 78 103, 72 105","C 70 106, 70 108, 73 110",se(493),"C 69 121, 65 126, 61 131",se(531),se(563),"C 23 171, 21 181, 19 191","C 15 206, 5 221, -9 239",se(516),"L -36 280","L -125 280","C -112 260, -96 242, -82 226",se(589),"C -42 182, -38 174, -36 166","C -34 158, -36 150, -40 142","C -48 134, -58 126, -68 118",se(505),se(489),"C -70 52, -66 48, -62 44",se(555),se(554),se(559),"Z"][se(551)](" "),bm=["M 0 0",se(518),"C 68 30, 76 44, 80 62",se(513),"C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134",se(536),se(585),"C 28 198, 34 212, 48 228",se(567),"L -92 280",se(552),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162","C -60 152, -72 142, -78 134","C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98",se(566),"C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",se(498),"C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116",se(580),se(490),"Z"][se(551)](" "),gm=[se(562),"C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",se(569),"C 62 60, 59 64, 57 68",se(544),se(535),se(577),"C 57 91, 57 93, 59 95",se(494),se(548),se(524),se(587),"C -10 195, -18 209, -22 221",se(576),"L -100 240","C -86 218, -72 200, -58 186","C -48 176, -42 168, -38 158","C -35 150, -36 142, -40 134",se(508),se(565),"C -62 64, -56 54, -50 44",se(488),se(542),"Z"][se(551)](" "),vm=["M 0 0","C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94",se(504),se(541),se(499),se(510),"L -70 240",se(517),se(500),se(591),"C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z",se(588),"C 54 20, 66 22, 72 32",se(574),se(560),"C 42 62, 40 50, 42 38",se(521),"Z",se(573),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62",se(525),"C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"].join(" "),ym=["M 0 0","C 15 -2, 38 -5, 55 5",se(571),se(534),se(497),"C 48 74, 20 64, -8 58",se(522),se(555),"C -34 10, -22 3, -10 0",se(559),"Z",se(550),se(549),se(505),"C -88 72, -84 62, -76 56",se(496),se(507),"C -46 86, -42 106, -40 126","L -40 142","Z"][se(551)](" "),pm=[se(562),"C 20 0, 44 6, 58 20",se(546),"C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116",se(509),"C 62 142, 42 152, 20 158",se(592),se(595),se(512),se(570),se(566),"C -76 44, -68 30, -58 20",se(491),"Z",se(498),se(495),"C 48 90, 50 104, 48 116",se(530),se(545),se(579),"C -40 136, -46 126, -48 116",se(580),se(490),"Z"][se(551)](" "),_m=["M 0 0","C 14 -4, 36 -4, 48 4",se(582),se(569),se(526),"C -28 46, -40 44, -50 44",se(488),se(542),"Z","M -40 134","C -48 126, -56 116, -62 106",se(565),se(540),"C -46 52, -42 64, -40 78","C -38 94, -36 112, -38 126",se(593),"Z"].join(" "),Sm=["M 0 0",se(558),se(568),"C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112",se(487),"C 0 127, -12 126, -26 124","C -46 118, -60 112, -60 112","C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68",se(556),se(514),"Z","M 46 26",se(515),"C 78 40, 78 54, 72 62",se(560),se(581),se(521),"Z","M -46 26","C -54 20, -66 22, -72 32",se(503),"C -66 68, -56 70, -48 66",se(533),"C -43 32, -44 28, -46 26","Z"][se(551)](" ");function wm(c,r){const a=se,i={mYyqc:function(f,p){return f===p},QnVCl:a(584),XrdRE:function(f,p){return f===p}},o=i[a(501)](r,"right")||i.mYyqc(r,i[a(547)]);return i.XrdRE(c,"adult")?o?mm:bm:o?gm:vm}function jm(c,r){const a=se,i={nDsXB:function(f,p){return f===p},wHwZz:a(538),KFyyi:a(584),ToLEN:"adult",VQRSf:function(f,p){return f===p}},o=r===i.wHwZz||r==="left";if(c===i.ToLEN){if(i[a(520)]("LLFtj","LLFtj"))return o?ym:pm;{const f=i.nDsXB(_0x50ac9b,i.wHwZz)||_0x1f4f97===i[a(502)]?a(532):a(492),p=_0x317670[_0x35d05a][f],v=_0xddd4f7[_0x10f5c4]?.[_0x1b3ca7]??null;return{path:_0x539bbd(_0x2a814b,_0x5cb9e6),hairPath:_0x2a6e1c(_0x314863,_0x4611eb),scaleX:i.nDsXB(_0x5a144d,"left")?-1:1,imageUrl:v,imageWidthMm:p[a(564)],imageHeightMm:p[a(523)]}}}return o?_m:Sm}const Cm={right:se(586)+"stencils/adult_right.png",left:"/tsumami/"+se(506),back:"/tsumami/stencils/adult_back.png"},Mm={right:se(586)+se(572),left:se(586)+se(594),back:se(586)+se(529)},zm={adult:Cm,child:Mm};function Dm(c,r){const a=se,i={uoJmd:function(v,d){return v===d},hklvp:"right",shnOA:"back",KQpPM:function(v,d,m){return v(d,m)},yEzuZ:a(584)},o=i.uoJmd(r,i.hklvp)||r===a(584)?"side":i.shnOA,f=e1[c][o],p=zm[c]?.[r]??null;return{path:wm(c,r),hairPath:i.KQpPM(jm,c,r),scaleX:r===i[a(578)]?-1:1,imageUrl:p,imageWidthMm:f[a(564)],imageHeightMm:f[a(523)]}}(function(c,r){const a=kn,i=c();for(;;)try{if(parseInt(a(269))/1+-parseInt(a(233))/2*(parseInt(a(219))/3)+-parseInt(a(261))/4+-parseInt(a(250))/5*(parseInt(a(288))/6)+parseInt(a(254))/7*(parseInt(a(227))/8)+-parseInt(a(291))/9*(parseInt(a(271))/10)+parseInt(a(221))/11*(parseInt(a(223))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,139508);const Nm=(function(){let c=!0;return function(r,a){{const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}}})(),Ds=Nm(void 0,function(){const c=kn;return Ds.toString()[c(275)]("(((.+)+)+)+$")[c(247)]()[c(283)](Ds)[c(275)](c(293))});Ds();function kn(c,r){c=c-216;const a=U0();let i=a[c];if(kn.jrliUo===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};kn.apnAMa=o,kn.lyBGui={},kn.jrliUo=!0}const f=a[0],p=c+f,v=kn.lyBGui[p];if(v)i=v;else{const d=function(m){this.Lvcmot=m,this.JIZvbB=[1,0,0],this.gGLjpx=function(){return"newState"},this.HzjwwC="\\w+ *\\(\\) *{\\w+ *",this.kdfVpB=`['|"].+['|"];? *}`};d.prototype.dSkuYh=function(){const m=new RegExp(this.HzjwwC+this.kdfVpB),_=m.test(this.gGLjpx.toString())?--this.JIZvbB[1]:--this.JIZvbB[0];return this.jFvvpf(_)},d.prototype.jFvvpf=function(m){return~m?this.spQbZx(this.Lvcmot):m},d.prototype.spQbZx=function(m){for(let _=0,y=this.JIZvbB.length;_<y;_++)this.JIZvbB.push(Math.round(Math.random())),y=this.JIZvbB.length;return m(this.JIZvbB[0])},new d(kn).dSkuYh(),i=kn.apnAMa(i),kn.lyBGui[p]=i}return i}const os=520;function U0(){const c=["ALf6u2C","wwPfzNG","Dg9tDhjPBMC","yM9ssgC","AhLWB3q","nuTNt0jXqq","vvPcyKe","B3nrzue","EM9VBuXLDMvS","nte4z3H1vhzo","Dg9W","tMXUsgC","D2HLzwW","y3vYCMvUDa","DvbXuLC","wLbQzLC","ntGWnZqWD3PItfjm","AfnPtKG","CM9kqwC","EwHez0u","ywjZ","AgvPz2H0","z2XhD3C","whHOsKK","mtiWnJaYBe5mtfP2","rvLZyMi","nZb1DLDLBxy","u2TbEK4","AMvgvem","rhrfzvu","C2vHCMnO","CvLVtLK","sfL6rMC","ywrKrxzLBNrmAxn0zw5LCG","yK5xvLK","zvb5u2K","EKXnthy","zxP6D1a","y29UC3rYDwn0B3i","CgfU","rhjer2u","zxHW","y2XPzw50wa","ndC0otq4wuL3qKHu","Aw5PDgLHBenLBNrLCG","AxbQt2O","mZeWnZa3wfD3zxDQ","BgnVrM0","kcGOlISPkYKRksSK","ChjLDMvUDerLzMf1Bhq","vhbdyxa","y3zLshq","Dg91y2HZDgfYDa","v1f4EK0","vMvUEMW","qu5quMi","CMvTB3zLrxzLBNrmAxn0zw5LCG","mJe2y29Ozurr","Aw5PDgLHBfbHBG","mJj2Bwfhrui","ugTyuhO","mZi1ndeYnfPsCMrhyG","BgvUz3rO","Aw5PDgLHBfPVB20","qvDoEge","mtaXmJHrtvHWEu8","DK5twM0","vMHVEMW","Dg91y2HLCW","Bwf4","qvfpANq","nde5ogL2y3zIBW","z2v0qM91BMrPBMDdBgLLBNrszwn0","uhrJC3G","zgvSDgfz","BgvMDa","s0fzDNu","sKPotKi","AeTssxO","y2XPzw50wq","D2LKDgG","EgHcuKm","u3zAqvC"];return U0=function(){return c},U0()}function Zd(c,r,a,i,o,f,p){const v=kn,d={xhBRC:function(_,y){return _-y},AckKC:function(_,y){return _*y},uPqRW:function(_,y){return _+y},iPrjq:function(_,y){return _*y},jQzSg:function(_,y){return _-y},qYoNY:function(_,y){return _*y}},m=i/a-1;return{x:d[v(243)](p.x,d.AckKC(m,d[v(259)](-p.x,d.iPrjq(c,o)))),y:d[v(245)](p.y,d[v(276)](m,d.uPqRW(-p.y,r*f)))}}function Am(c){const r=kn,a={jeFTC:function(S,g){return S!==g},bABqN:function(S){return S()},PkXPz:function(S){return S()},vNSZm:function(S,g){return S/g},WQxzM:function(S,g){return S/g},ZPjfW:function(S,g){return S-g},UaQkH:function(S,g){return S-g},AQOjt:function(S,g){return S+g},SkAzN:function(S,g){return S+g},TpCap:function(S,g){return S-g},ANPRb:function(S,g){return S-g},UZBbA:function(S,g){return S(g)},rZUzd:function(S,g){return S*g},HYzFg:function(S,g){return S/g},cveHt:function(S,g){return S-g},PSTJR:function(S,g){return S*g},HcfUp:function(S,g){return S*g},glGww:function(S,g){return S(g)},SvZAW:function(S,g){return S<g},KAYvu:function(S,g){return S<g},DrDGe:function(S,g){return S/g},wNaVb:function(S,g){return S/g},fbiAU:function(S,g){return S*g},exfvo:"ZwOQG",Vhozl:r(264),ePySi:function(S,g,M,N){return S(g,M,N)},DDwZz:function(S,g){return S-g},boRHg:function(S,g){return S-g},uWRLg:function(S,g){return S*g},klQpj:function(S,g,M,N,L,I,B,z){return S(g,M,N,L,I,B,z)},AWNxa:function(S,g){return S(g)},bNWVY:function(S,g){return S===g},ipjOj:r(281),AEzyO:"vGSNe",EYsbb:"touchstart",osQeA:"touchmove",JJNNB:"touchend",eoAbM:r(257),Ptcsx:function(S,g){return S+g},ezzwP:function(S,g){return S(g)},lcoFm:function(S,g){return S/g},ETbTR:"2|0|1|3|4",fOUHK:function(S,g){return S-g},YFQQf:"tgssE",czhmR:function(S,g){return S(g)},hSiNH:function(S,g,M){return S(g,M)},hKRIz:function(S,g,M){return S(g,M)},roJAg:function(S,g,M){return S(g,M)}},{setZoom:i,setPan:o,setZoomLevel:f,ZOOM_LEVELS:p,stageRef:v,endPan:d,endFlowerDrag:m,endMarquee:_,endRotationDrag:y,endScaleDrag:w,endWidthScaleDrag:C,endRadiusDrag:D}=c,b=$.useRef(null),h=a.czhmR($.useRef,c[r(284)]),T=a[r(251)]($.useRef,c.zoom);a[r(262)]($.useEffect,()=>{h.current=c.pan},[c[r(284)]]),$.useEffect(()=>{T.current=c.zoom},[c.zoom]);const R=$.useRef(c.zoomLevel);a.hSiNH($.useEffect,()=>{const S=r;a[S(273)](S(216),"Venzl")?(_0x57d6bd.current=_0x1fbac2,_0x339bbe[S(258)]=_0x3d7dbc,_0x1c7918.current={x:0,y:0},_0x250f93(_0x127fda),_0x3fa241({x:0,y:0})):R[S(258)]=c[S(253)]},[c[r(253)]]);const k=a[r(226)]($.useRef,null),G=a.AWNxa($.useRef,null),X=$.useCallback(S=>{const g=r;if(S[g(230)].length===2){S[g(294)](),d(),a.bABqN(m),a.PkXPz(_),y(),w(),C(),a[g(222)](D),k.current=null,G[g(258)]=null;const M=S.touches[0],N=S[g(230)][1],L=a[g(228)](M.clientX+N[g(287)],2),I=a[g(298)](M[g(241)]+N[g(241)],2),B=Math[g(249)](a[g(260)](N[g(287)],M.clientX),a.UaQkH(N[g(241)],M.clientY));b[g(258)]={initialCenter:{x:L,y:I},initialDist:B,initialPan:{...h[g(258)]},initialZoom:T.current}}},[d,m,_,y,w,C,D]),K=a[r(240)]($.useCallback,S=>{const g=r;if(S.touches[g(224)]===2&&b[g(258)]){S[g(294)]();const M=S.touches[0],N=S.touches[1],L=a[g(228)](a.AQOjt(M[g(287)],N[g(287)]),2),I=a[g(272)](M.clientY,N.clientY)/2,B=Math.hypot(a.TpCap(N.clientX,M[g(287)]),a[g(217)](N[g(241)],M.clientY)),z=b[g(258)],E=B/Math[g(231)](1,z.initialDist),O=ye(a.UZBbA(Number,a.rZUzd(z.initialZoom,E).toFixed(3)),p[0],p[p.length-1]),U=z[g(225)],W=a.ANPRb(L,z.initialCenter.x),le=I-z[g(289)].y;let xe=z.initialPan.x+W,me=z.initialPan.y+le;const fe=v[g(258)];if(fe&&U!==O){const de=fe[g(234)](),De=a.HYzFg(a[g(296)](z.initialCenter.x,de[g(237)]),de[g(242)]),Ie=a.HYzFg(z.initialCenter.y-de[g(255)],de.height),Je=de.width/de.height,rt=os,qe=rt*Je,pt=a.rZUzd(a[g(277)](O,U)-1,a.SkAzN(-z[g(220)].x,a.PSTJR(De,qe))),mt=a[g(296)](O/U,1)*a[g(232)](-z.initialPan.y,a.HcfUp(Ie,rt));xe-=pt,me-=mt}const ge={x:xe,y:me};T[g(258)]=O,h[g(258)]=ge,a[g(251)](o,ge),a[g(267)](i,O)}},[o,i,v,p]),Z=a[r(263)]($.useCallback,S=>{const g=r;a[g(244)](S[g(230)].length,2)&&(b.current=null)},[]),V=.003,P=$.useCallback(S=>{const g=r;if(a.exfvo!==a[g(229)]){S[g(294)]();const M=v.current;if(!M)return;const N=T.current,L=N*Math[g(286)](-S[g(236)]*V),I=a.ePySi(ye,L,p[0],p[a.cveHt(p[g(224)],1)]);if(Math.abs(a.DDwZz(I,N))<1e-6)return;const B=M.getBoundingClientRect(),z=a[g(228)](S.clientX-B.left,B.width),E=a[g(248)](S.clientY,B[g(255)])/B.height,O=B[g(242)]/B.height,U=os,W=a.uWRLg(U,O),le=a.klQpj(Zd,z,E,N,I,W,U,h[g(258)]);T.current=I,h.current=le,i(I),a.AWNxa(o,le)}else{_0xe8cb96[g(294)]();const M=_0x24cf23.current;if(!M)return;const N=_0x4fd5c4[g(258)],L=N*_0x51adf6.exp(-_0x290832.deltaY*_0x12f7b6),I=_0x4f1419(L,_0x4c79f5[0],_0x1645fa[_0x4fe6f9.length-1]);if(a[g(238)](_0x167e8f[g(265)](I-N),1e-6))return;const B=M[g(234)](),z=a[g(285)](a[g(217)](_0x33724c[g(287)],B.left),B[g(242)]),E=a.wNaVb(a[g(295)](_0x1f3652[g(241)],B.top),B.height),O=B[g(242)]/B[g(266)],U=_0x375bfc,W=a.fbiAU(U,O),le=_0x380020(z,E,N,I,W,U,_0x3b3e0d.current);_0x149c87.current=I,_0x167edf[g(258)]=le,_0x27042a(I),_0x40a2c2(le)}},[i,o,v,p]);$.useEffect(()=>{const S=r,g=v[S(258)];if(g)return g[S(278)](S(297),X,{passive:!1}),g[S(278)](a[S(252)],K,{passive:!1}),g[S(278)](a[S(239)],Z),g[S(278)]("wheel",P,{passive:!1}),()=>{const M=S;if(a[M(279)](a[M(290)],a.AEzyO)){const N=_0x310a40[M(234)](),L=aRJMfv.JMZQx(_0x339ffc.initialCenter.x,N.left)/N.width,I=(_0x3af9e0[M(289)].y-N.top)/N.height,B=N[M(242)]/N[M(266)],z=_0x3042b2,E=aRJMfv.wYPnW(z,B),O=(_0x3411b5/_0x84ef8-1)*(-_0x507eab[M(220)].x+aRJMfv.cwqtM(L,E)),U=aRJMfv[M(246)](aRJMfv.JMZQx(aRJMfv[M(274)](_0x561886,_0x1465d0),1),-_0x469216.initialPan.y+I*z);_0x2f01f9-=O,_0xcb0684-=U}else g.removeEventListener(a[M(270)],X),g[M(218)](a[M(252)],K),g.removeEventListener(a.JJNNB,Z),g.removeEventListener(a.eoAbM,P)}},[v,X,K,Z,P]);const ie=$.useCallback(S=>{const g=r,M=R.current,N=a[g(280)](ye,a[g(235)](M,S),0,p[g(224)]-1);if(N===M)return;const L=T.current,I=p[N],B=v[g(258)];if(!B){a[g(282)](f,N);return}const z=B[g(234)](),E=a[g(292)](z[g(242)],z.height),O=os,U=O*E,W=Zd(.5,.5,L,I,U,O,h.current);T[g(258)]=I,R[g(258)]=N,h.current=W,a.AWNxa(f,N),o(W)},[f,o,v,p]),J=$.useCallback((S,g)=>{const M=r,N=a.ETbTR.split("|");let L=0;for(;;){switch(N[L++]){case"0":T.current=g;continue;case"1":h[M(258)]={x:0,y:0};continue;case"2":R[M(258)]=S;continue;case"3":f(S);continue;case"4":o({x:0,y:0});continue}break}},[f,o]),q=$.useCallback(S=>{k.current=S},[]),Y=a[r(263)]($.useCallback,S=>{const g=r;if(a.bNWVY(a.YFQQf,a.YFQQf))G[g(258)]=S;else if(_0x42822c.touches[g(224)]===2){_0x42385e.preventDefault(),_0x158fe5(),QBWbDX[g(256)](_0x1316b8),QBWbDX.CHBzZ(_0x593a98),_0x1fb92a(),_0x51fd4a(),_0x6615e8(),_0x18e9c4(),_0x35b03a[g(258)]=null,_0x1a04de[g(258)]=null;const M=_0x5c3fbf[g(230)][0],N=_0xc650ea[g(230)][1],L=(M[g(287)]+N.clientX)/2,I=(M[g(241)]+N[g(241)])/2,B=_0xd62eeb[g(249)](N[g(287)]-M.clientX,QBWbDX[g(268)](N.clientY,M.clientY));_0x195a1a[g(258)]={initialCenter:{x:L,y:I},initialDist:B,initialPan:{..._0x4a5463.current},initialZoom:_0x170ac5.current}}},[]);return{multiTouchRef:b,touchBgStartRef:k,mouseBgStartRef:G,zoomAtCenter:ie,resetView:J,setTouchBgStart:q,setMouseBgStart:Y}}function ci(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),o=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(o))return c;const f=1-r;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(i*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function Lm(c){const{flower:r,project:a,paletteMap:i}=c,o=$.useRef(null),f=$.useRef(!1),p=$.useRef(null);$.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const v=$.useMemo(()=>[...r.layers||[]].sort((R,k)=>R.order-k.order),[r.layers]),d=r.fabricSquareSize??a.fabricSquareSize,{length:m,width:_}=Ht(d),{flowerOuterR:y,centerHitR:w}=$.useMemo(()=>{let R=12,k=1/0;for(const X of v){if(!X.visible)continue;const K=X.scale??1,Z=m*K,P=Math.max(0,X.radius-Z*.28),ie=P+Z;R=Math.max(R,ie),P<k&&(k=P)}isFinite(k)||(k=0);const G=Math.max(k*.9,8);return{flowerOuterR:R,centerHitR:G}},[v,m]),C=(R,k)=>R?.petalOverrides?.find(G=>G.index===k)??null,D="pointer",b=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,h=c.zoneCursorValue??"grab",T=R=>{if(R.stopPropagation(),R.button===0){if(R.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(R)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:R=>{R.stopPropagation(),c.onDoubleClick?.()},style:{cursor:b?h:ur("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,y),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),v.map(R=>{if(!R.visible)return null;const G=i.get(R.colorId)?.hex??"#999",X=360/Math.max(1,R.petalCount),K=R.scale??1,Z=m*K,P=_*(R.widthScale??1)*K,J=Math.max(0,R.radius-Z*.28),q=ms(""),Y=ms(""),S=J+Z,g=c.isSelected&&c.selectedLayerId===R.id,M=c.isSelected&&(c.selectedPetal?.layerId===R.id||(c.selectedPetals?.some(N=>N.layerId===R.id)??!1));return s.jsxs("g",{children:[Array.from({length:R.petalCount}).map((N,L)=>{const I=C(R,L),z=(I?.petalType??R.petalType)===""?q:Y,E=i.get(I?.colorId??R.colorId)?.hex??G,O=R.offsetAngle+L*X,U=wa(O),W=Math.cos(U)*J,le=Math.sin(U)*J,xe=c.isSelected&&c.selectedPetal?.layerId===R.id&&c.selectedPetal?.index===L,me=c.isSelected&&(c.selectedPetals?.some(de=>de.layerId===R.id&&de.index===L)??!1),fe=xe||me,ge=b?h:ur("/tsumami/");return s.jsxs("g",{transform:`translate(${W} ${le}) rotate(${O})`,children:[s.jsx("path",{d:z,transform:`scale(${Z} ${P})`,fill:E,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,style:{cursor:ge},onPointerDown:de=>{if(de.stopPropagation(),de.button!==0)return;const De=de.shiftKey,Ie=de.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,De&&c.onTogglePetalSelection){de.preventDefault(),de.stopPropagation(),c.onTogglePetalSelection(R.id,L,!0);return}if(Ie&&c.onTogglePetalSelection){p.current={x:de.clientX,y:de.clientY};const pt=R.id,mt=L;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,c.onTogglePetalSelection?.(pt,mt,!0),navigator.vibrate?.(30)},500)}const Je=c.isSelected&&c.selectedLayerId!=null,rt=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||Je||rt){c.onBeginDragFromLayerPetal(R.id,L,de);return}c.onBeginDragFromLayerPetal(R.id,L,de)},onPointerMove:de=>{if(o.current&&p.current){const De=de.clientX-p.current.x,Ie=de.clientY-p.current.y;Math.hypot(De,Ie)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:de=>{de.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(R.id)}}),R.doublePetal&&(()=>{const de=R.doublePetal,De=I?.innerSizeReduction??de.innerSizeReduction??2,Ie=d*(K||1);if(Ie<=0)return null;const rt=Math.max(Ie*.3,Ie-De)/Ie,qe=z,pt=I?.innerColorId??de.innerColorId??I?.colorId??R.colorId,mt=i.get(pt)?.hex??E,bt=Z*rt,Tt=P*rt;return s.jsx("path",{d:qe,transform:`scale(${bt} ${Tt})`,fill:mt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,pointerEvents:"none"})})(),(fe||g||c.isFlowerSelected)&&s.jsx("path",{d:z,transform:`scale(${Z} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${R.id}-${L}`)]},L)}),g&&!M&&s.jsx("circle",{r:S,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},R.id)}),c.isFlowerSelected&&s.jsx("circle",{r:y,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const R=r.center,k=I2(R.size),G=i.get(R.color)?.hex??"#D4A843",X=R.color2?i.get(R.color2)?.hex??"#C0C0C0":"#D4A843",K=Math.max(k,w);switch(R.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:k,fill:G,stroke:ci(G,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:K,fill:"transparent",style:{cursor:D},onPointerDown:T})]});case"":{const V=k*.42,P=k,ie=k*.12,J=k*.13,q=k*.45,Y=X,S=G;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((g,M)=>{const N=M/10*360,L=wa(N),I=Math.cos(L)*P,B=Math.sin(L)*P,z=-Math.sin(L)*ie,E=Math.cos(L)*ie,O=Math.cos(L)*V,U=Math.sin(L)*V;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(O+z).toFixed(2)} ${(U+E).toFixed(2)} L ${I.toFixed(2)} ${B.toFixed(2)} L ${(O-z).toFixed(2)} ${(U-E).toFixed(2)} Z`,fill:Y,stroke:ci(Y,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:I,cy:B,r:J,fill:Y,stroke:ci(Y,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},M)}),s.jsx("circle",{r:V,fill:Y,stroke:ci(Y,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:q,fill:S,stroke:ci(S,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:K,fill:"transparent",style:{cursor:D},onPointerDown:T})]})}case"":{const Z=R.pepCount??12,V=k*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:Z}).map((P,ie)=>{const J=ie/Z*360,q=wa(J),Y=Math.cos(q)*k,S=Math.sin(q)*k;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:Y,y2:S,stroke:G,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:Y,cy:S,r:Math.max(V,1),fill:G,stroke:ci(G,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},ie)})}),s.jsx("circle",{r:K,fill:"transparent",style:{cursor:D},onPointerDown:T})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:w,fill:"transparent",style:{cursor:D},onPointerDown:T})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:w,fill:"transparent",style:{cursor:D},onPointerDown:T})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const R=v.find(V=>V.id===c.selectedLayerId);if(!R||!R.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const G=R.scale??1,X=m*G,Z=Math.max(0,R.radius-X*.28);return Z<=0?null:s.jsx("circle",{r:Z,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,y+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Tm(c){const{leaf:r,project:a,paletteMap:i}=c,o=r.fabricSquareSize??a.fabricSquareSize,{length:f,width:p}=Ht(o),v=r.scale??1,d=f*v,m=p*(r.widthScale??1)*v,_=ms(r.petalType),y=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??ur("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:w=>{if(w.stopPropagation(),w.button===0&&!r.locked){if(w.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(w)}},children:[s.jsx("path",{d:_,transform:`scale(${d} ${m})`,fill:y,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const w=r.doublePetal,C=w.innerSizeReduction??2,D=o*(v||1);if(D<=0)return null;const h=Math.max(D*.3,D-C)/D,T=w.innerColorId??r.colorId,R=i.get(T)?.hex??y,k=d*h,G=m*h;return s.jsx("path",{d:_,transform:`scale(${k} ${G})`,fill:R,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&s.jsx("path",{d:_,transform:`scale(${d*1.06} ${m*1.06})`,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${r.id}`),c.isSelected&&s.jsxs(s.Fragment,{children:[s.jsx("path",{d:_,transform:`scale(${d} ${m})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${r.id}`),s.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})]})}const tl=1350;function Em(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:p,stencilDraggingRef:v,onSelectStencil:d}=c,m=$.useRef(null);$.useEffect(()=>()=>{m.current?.()},[]);const _=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(y=>{const w=Dm(y.variant,y.pose),C=a===y.id,D=rn,b=w.imageUrl?1:w.scaleX,h=_||!!y.locked;return s.jsx("g",{transform:`translate(${y.position.x} ${y.position.y}) scale(${D*b} ${D})`,style:{cursor:_?"default":y.locked?"pointer":um("/tsumami/"),pointerEvents:_?"none":"auto"},"data-testid":`stencil-${y.id}`,onPointerDown:T=>{if(T.button!==0)return;if(h){d(y.id);return}if(T.stopPropagation(),d(y.id),!o.current)return;v.current=!0,o.current&&(o.current.style.cursor=sm("/tsumami/"));const k=p.current(T),G={...y.position},X=y.id;let K=G.x,Z=G.y;const V=ie=>{const J=p.current(ie),q=J.x-k.x,Y=J.y-k.y;K=ye(G.x+q,0,tl),Z=ye(G.y+Y,0,tl),f.current(S=>{const g=(S.stencils??[]).find(M=>M.id===X);g&&(g.position.x=K,g.position.y=Z)},!1)},P=()=>{v.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",P),m.current=null,f.current(ie=>{const J=(ie.stencils??[]).find(q=>q.id===X);J&&(J.position.x=K,J.position.y=Z)},!0)};document.addEventListener("pointermove",V),document.addEventListener("pointerup",P),m.current=()=>{v.current=!1,document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",P)}},children:w.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:w.imageUrl,x:-w.imageWidthMm/2,y:0,width:w.imageWidthMm,height:w.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-w.imageWidthMm/2,y:0,width:w.imageWidthMm,height:w.imageHeightMm,fill:"transparent",stroke:C?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:w.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:w.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),C&&s.jsx("path",{d:w.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},y.id)})})}function qm(c){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:p,dashSyncToken:v,stageRef:d,multiTouchRef:m,clientToSvgPoint:_,togglePetalSelection:y,handleShiftFlowerSelect:w,groupHighlightedFlowerIds:C,beginFlowerDrag:D,beginScaleDrag:b,beginRotationDrag:h,beginWidthScaleDrag:T,beginRadiusDrag:R,clickOriginRef:k,zoneActivatedRef:G,setZoneCursorValue:X,setTouchZoneIndicator:K,hoverZoneRef:Z,hoverHitLayerIdRef:V,hoverHitPetalIndexRef:P}=c,ie=y2.useMemo(()=>{const J=r.flowers,q=Y=>a.kind!=="project"&&f===Y.id||a.kind==="flowers"&&a.flowerIds.includes(Y.id)||a.kind==="mixed"&&a.flowerIds.includes(Y.id)||a.kind==="group"&&(r.groups??[]).some(S=>S.id===a.groupId&&S.flowerIds.includes(Y.id));return[...J].sort((Y,S)=>(q(Y)?1:0)-(q(S)?1:0))},[r.flowers,r.groups,a,f]);return s.jsx(s.Fragment,{children:ie.map(J=>s.jsx(Lm,{flower:J,project:r,paletteMap:o,isSelected:a.kind!=="project"&&f===J.id||a.kind==="flowers"&&a.flowerIds.includes(J.id)||a.kind==="mixed"&&a.flowerIds.includes(J.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===J.id||a.kind==="flowers"&&a.flowerIds.includes(J.id)||a.kind==="mixed"&&a.flowerIds.includes(J.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===J.id?a.petals:null,onSelect:()=>{const q=ll(r,J.id);if(q&&!(a.kind==="group"&&a.groupId===q.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&q.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:q.id});return}i({kind:"flower",flowerId:J.id})},onSelectLayer:q=>i({kind:"layer",flowerId:J.id,layerId:q}),onSelectPetal:(q,Y)=>i({kind:"petal",flowerId:J.id,layerId:q,index:Y}),onTogglePetalSelection:(q,Y,S)=>y(J.id,q,Y,S),onShiftSelect:()=>w(J.id),isGroupHighlighted:C.has(J.id),zoneCursorValue:p,onBeginDragFromLayerPetal:(q,Y,S)=>{if(m.current)return;const g=ll(r,J.id);if(g&&!(a.kind==="group"&&a.groupId===g.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&g.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:g.id}),D(J.id,S);return}const M=_(S),N=S.pointerType==="touch",L=a.kind==="flower"&&a.flowerId===J.id||a.kind==="layer"&&a.flowerId===J.id||a.kind==="petal"&&a.flowerId===J.id||a.kind==="petals"&&a.flowerId===J.id;if(N&&L){const{zone:z,layerId:E,petalIndex:O}=ui(M.x,M.y,J,r,a),{length:U}=Ht(J.fabricSquareSize??r.fabricSquareSize),W=M0(z,a.kind,{hitLayerId:E,flower:J,length:U});if(W!=="none"&&W!=="center"&&W!=="move"){K({x:M.x,y:M.y,zone:W});const le=a.kind==="layer"?"layer":"flower",xe=a.kind==="layer"?a.layerId:q;switch(W){case"rotate":h(le,J.id,S,{layerId:xe});return;case"scale":b(le,J.id,S,{layerId:xe});return;case"width":T(le,J.id,S,{layerId:xe,petalIndex:O});return;case"radius":R(le,J.id,S,{layerId:xe});return}}D(J.id,S,{layerId:q,index:Y});return}const I=G.current;k.current={x:M.x,y:M.y},G.current=!1;const B=Z.current;if(L&&(I||B!=="none"&&B!=="center")){const z=B,E=V.current,O=P.current,U=a.kind==="layer"?"layer":"flower",W=a.kind==="layer"?a.layerId:E??q;switch(z){case"rotate":h(U,J.id,S,{layerId:W});return;case"scale":b(U,J.id,S,{layerId:W});return;case"width":T(U,J.id,S,{layerId:W,petalIndex:O});return;case"radius":R(U,J.id,S,{layerId:W});return;default:X(Rn("/tsumami/")),d.current&&(d.current.style.cursor=Rn("/tsumami/")),D(J.id,S,{layerId:q,index:Y});return}}X(Rn("/tsumami/")),d.current&&(d.current.style.cursor=Rn("/tsumami/")),D(J.id,S,{layerId:q,index:Y})},onDoubleClick:()=>i({kind:"flower",flowerId:J.id}),onPointerDown:q=>{if(m.current||q.button!==0)return;if(q.shiftKey){q.stopPropagation(),w(J.id);return}const Y=ll(r,J.id);if(Y&&!(a.kind==="group"&&a.groupId===Y.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&Y.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:Y.id}),D(J.id,q);return}a.kind==="flower"&&a.flowerId===J.id||a.kind==="layer"&&a.flowerId===J.id||a.kind==="flowers"&&a.flowerIds.includes(J.id)||i({kind:"flower",flowerId:J.id});const g=_(q);k.current={x:g.x,y:g.y},G.current=!1,X(Rn("/tsumami/")),d.current&&(d.current.style.cursor=Rn("/tsumami/")),D(J.id,q)},dashSyncToken:v},J.id))})}function Bm(c){const{leaves:r,project:a,selection:i,paletteMap:o,dashSyncToken:f,groupHighlightedLeafIds:p,zoneCursorValue:v,stageRef:d,applyUpdateRef:m,clientToSvgPointRef:_,leafDraggingRef:y,clickOriginRef:w,zoneActivatedRef:C,setZoneCursorValue:D,onSelectLeaf:b,onSelectGroup:h,onShiftSelectLeaf:T,hoverLeafZoneRef:R}=c,k=$.useRef(null);return $.useEffect(()=>()=>{k.current?.()},[]),s.jsx(s.Fragment,{children:r.map(G=>{if(!G.visible)return null;const X=i.kind==="leaf"&&i.leafId===G.id,K=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(G.id),Z=p.has(G.id),V=zl(a,G.id),P=V?.rotation??0;let ie=G;if(V&&P!==0){const J=N2(a,V.id),q=P*Math.PI/180,Y=G.position.x-J.x,S=G.position.y-J.y;ie={...G,position:{x:J.x+Y*Math.cos(q)-S*Math.sin(q),y:J.y+Y*Math.sin(q)+S*Math.cos(q)},rotation:G.rotation+P}}return s.jsx(Tm,{leaf:ie,project:a,paletteMap:o,isSelected:X||K,isLeafGroupHighlighted:Z,dashSyncToken:f,cursor:X?v:void 0,onPointerDown:J=>{if(G.locked)return;J.stopPropagation();const q=_.current(J);if(V&&!(i.kind==="group"&&i.groupId===V.id||i.kind==="leaf"&&V.leafIds.includes(i.leafId))){h(V.id),y.current=!0,w.current={x:q.x,y:q.y},C.current=!1,D(Rn("/tsumami/")),d.current&&(d.current.style.cursor=Rn("/tsumami/"));const N=q,L=Gd(a,G.id),I=new Map;for(const U of L){const W=r.find(le=>le.id===U);W&&I.set(U,{...W.position})}const B=new Map;if(V)for(const U of V.flowerIds){const W=a.flowers.find(le=>le.id===U);W&&B.set(U,{...W.position})}let z=!1;const E=U=>{const W=_.current(U),le=W.x-N.x,xe=W.y-N.y;Math.abs(le)+Math.abs(xe)>1&&(z=!0),m.current(me=>{for(const[fe,ge]of I){const de=(me.leaves??[]).find(De=>De.id===fe);de&&(de.position.x=ye(ge.x+le,0,tl),de.position.y=ye(ge.y+xe,0,tl))}for(const[fe,ge]of B){const de=me.flowers.find(De=>De.id===fe);de&&(de.position.x=ye(ge.x+le,0,tl),de.position.y=ye(ge.y+xe,0,tl))}},!1)},O=()=>{k.current=null,y.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",O),z&&m.current(()=>{},!0)};document.addEventListener("pointermove",E),document.addEventListener("pointerup",O),k.current=()=>{y.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",O)};return}const Y=X&&C.current;b(G.id),w.current={x:q.x,y:q.y},C.current=!1,D(Rn("/tsumami/")),d.current&&(d.current.style.cursor=Rn("/tsumami/"));const S=R.current,g=X&&(Y||S!=="none")?S:"move";if(g!=="move"){const M=nr(g,"/tsumami/");D(M),d.current&&(d.current.style.cursor=M)}if(y.current=!0,g==="rotate"){const M=ie.position,N=G.rotation,L=Math.atan2(q.y-M.y,q.x-M.x)*180/Math.PI;let I=!1;const B=E=>{const O=_.current(E),W=Math.atan2(O.y-M.y,O.x-M.x)*180/Math.PI-L;Math.abs(W)>.5&&(I=!0),m.current(le=>{const xe=(le.leaves??[]).find(me=>me.id===G.id);xe&&(xe.rotation=((N+W)%360+360)%360)},!1)},z=()=>{k.current=null,y.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",z),I&&m.current(()=>{},!0)};document.addEventListener("pointermove",B),document.addEventListener("pointerup",z),k.current=()=>{y.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",z)}}else if(g==="scale"){const M=ie.position,N=G.scale??1,L=Math.max(1,Math.hypot(q.x-M.x,q.y-M.y));let I=!1;const B=E=>{const O=_.current(E),W=Math.hypot(O.x-M.x,O.y-M.y)/L;Math.abs(W-1)>.01&&(I=!0),m.current(le=>{const xe=(le.leaves??[]).find(me=>me.id===G.id);xe&&(xe.scale=ye(N*W,.3,3))},!1)},z=()=>{k.current=null,y.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",z),I&&m.current(()=>{},!0)};document.addEventListener("pointermove",B),document.addEventListener("pointerup",z),k.current=()=>{y.current=!1,document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",z)}}else if(g==="width"){const M=ie.position,N=G.rotation*Math.PI/180,L=-Math.sin(N),I=Math.cos(N),B=G.widthScale??1,z=Math.abs((q.x-M.x)*L+(q.y-M.y)*I),E=Math.max(1,z);let O=!1;const U=le=>{const xe=_.current(le),fe=Math.abs((xe.x-M.x)*L+(xe.y-M.y)*I)/E;Math.abs(fe-1)>.01&&(O=!0),m.current(ge=>{const de=(ge.leaves??[]).find(De=>De.id===G.id);de&&(de.widthScale=ye(B*fe,.3,3))},!1)},W=()=>{k.current=null,y.current=!1,document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",W),O&&m.current(()=>{},!0)};document.addEventListener("pointermove",U),document.addEventListener("pointerup",W),k.current=()=>{y.current=!1,document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",W)}}else{const M=q,N=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(G.id)?i.leafIds:Gd(a,G.id),L=new Map;for(const U of N){const W=r.find(le=>le.id===U);W&&L.set(U,{...W.position})}const I=new Map,B=zl(a,G.id);if(B)for(const U of B.flowerIds){const W=a.flowers.find(le=>le.id===U);W&&I.set(U,{...W.position})}let z=!1;const E=U=>{const W=_.current(U),le=W.x-M.x,xe=W.y-M.y;Math.abs(le)+Math.abs(xe)>1&&(z=!0),m.current(me=>{for(const[fe,ge]of L){const de=(me.leaves??[]).find(De=>De.id===fe);de&&(de.position.x=ye(ge.x+le,0,tl),de.position.y=ye(ge.y+xe,0,tl))}for(const[fe,ge]of I){const de=me.flowers.find(De=>De.id===fe);de&&(de.position.x=ye(ge.x+le,0,tl),de.position.y=ye(ge.y+xe,0,tl))}},!1)},O=()=>{k.current=null,y.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",O),z&&m.current(()=>{},!0)};document.addEventListener("pointermove",E),document.addEventListener("pointerup",O),k.current=()=>{y.current=!1,document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",O)}}},onShiftSelect:()=>T(G.id)},G.id)})})}function km({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Im({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const _a=1350;function Rm(c){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,setZoom:p,zoomLevel:v,setZoomLevel:d,ZOOM_LEVELS:m,setPan:_,showGrid:y,setShowGrid:w,setShowHelp:C,stageRef:D,viewBox:b,dashDelay:h,dashSyncToken:T,beginPan:R,updatePan:k,endPan:G,beginMarquee:X,updateMarquee:K,endMarquee:Z,marqueeRef:V,marqueeRect:P,beginFlowerDrag:ie,updateFlowerDrag:J,endFlowerDrag:q,scaleDragRef:Y,updateScaleDrag:S,endScaleDrag:g,rotationDragRef:M,updateRotationDrag:N,endRotationDrag:L,widthScaleDragRef:I,updateWidthScaleDrag:B,endWidthScaleDrag:z,radiusDragRef:E,updateRadiusDrag:O,endRadiusDrag:U,beginScaleDrag:W,beginRotationDrag:le,beginWidthScaleDrag:xe,beginRadiusDrag:me,togglePetalSelection:fe,clientToSvgPoint:ge}=c,de=$.useRef(!1),De=$.useRef(!1),Ie=$.useRef(c.applyUpdate),Je=$.useRef(ge);$.useEffect(()=>{Ie.current=c.applyUpdate},[c.applyUpdate]),$.useEffect(()=>{Je.current=ge},[ge]);const[rt,qe]=$.useState(!1),pt=$.useRef(null);$.useEffect(()=>{if(!rt)return;const oe=Be=>{pt.current&&!pt.current.contains(Be.target)&&qe(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[rt]);const[mt,bt]=$.useState("grab"),Tt=$.useRef("none"),Kt=$.useRef("none"),Qt=$.useRef(void 0),Vn=$.useRef(void 0),Fe=$.useRef(null),bn=$.useRef(!0),Dl=5,il=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,rl=$.useRef(il);$.useEffect(()=>{il!==rl.current&&(rl.current=il,bn.current=!1,Fe.current=null,Tt.current="none",Kt.current="none",Qt.current=void 0,Vn.current=void 0)},[il]);const[Nl,la]=$.useState(!1),Qn=$.useRef(!1),[oi,Gn]=$.useState(null),Bt=5,gn=10,Ue=Am({zoom:c.zoom,pan:c.pan,setZoom:p,setPan:_,zoomLevel:v,setZoomLevel:d,ZOOM_LEVELS:m,stageRef:D,endPan:G,endFlowerDrag:q,endMarquee:Z,endRotationDrag:L,endScaleDrag:g,endWidthScaleDrag:z,endRadiusDrag:U});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v>=m.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ue.zoomAtCenter(1),disabled:v>=m.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ue.zoomAtCenter(-1),disabled:v<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>w(oe=>!oe),title:"","aria-label":"","aria-pressed":y,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Ue.resetView(5,m[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:pt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${rt?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>qe(oe=>!oe),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),rt&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(oe=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:t1[oe]}),["right","left","back"].map(Be=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(oe,Be),qe(!1)},"data-testid":`stencil-add-${oe}-${Be}`,children:n1[Be]},`${oe}-${Be}`))]},oe)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),qe(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>C(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:y?"24px 1fr":"1fr",gridTemplateRows:y?"20px 1fr":"1fr"},children:[y&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),y&&(()=>{const[oe,,Be,ke]=b.split(/\s+/).map(Number),Se=rn,pe=Math.max(Be,ke)/Se,Me=[10,20,50,100,200,500,1e3].find(Le=>pe/Le<=15)??1e3,we=Me<=10?1:Me<=50?5:Me<=100?10:Me<=500?50:100,$e=Me<=10?5:Me/2,et=Math.floor(oe/Se/we)*we-we,Ve=Math.ceil((oe+Be)/Se/we)*we+we,Qe=[];for(let Le=et;Le<=Ve;Le+=we){const tt=(Le*Se-oe)/Be*100;if(tt<-2||tt>102)continue;const Nt=Math.abs(Le),ct=Nt%Me===0,lt=Nt%$e===0,gt=ct?10:lt?6:3;Qe.push(s.jsx("line",{x1:`${tt}%`,y1:20-gt,x2:`${tt}%`,y2:20,stroke:"#999",strokeWidth:ct?.8:.4},Le)),ct&&Qe.push(s.jsx("text",{x:`${tt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Le},`t${Le}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Qe})})(),y&&(()=>{const[,oe,Be,ke]=b.split(/\s+/).map(Number),Se=rn,pe=Math.max(Be,ke)/Se,Me=[10,20,50,100,200,500,1e3].find(Le=>pe/Le<=15)??1e3,we=Me<=10?1:Me<=50?5:Me<=100?10:Me<=500?50:100,$e=Me<=10?5:Me/2,et=Math.floor(oe/Se/we)*we-we,Ve=Math.ceil((oe+ke)/Se/we)*we+we,Qe=[];for(let Le=et;Le<=Ve;Le+=we){const tt=(Le*Se-oe)/ke*100;if(tt<-2||tt>102)continue;const Nt=Math.abs(Le),ct=Nt%Me===0,lt=Nt%$e===0,gt=ct?10:lt?6:3;Qe.push(s.jsx("line",{x1:24-gt,y1:`${tt}%`,x2:24,y2:`${tt}%`,stroke:"#999",strokeWidth:ct?.8:.4},Le)),ct&&Qe.push(s.jsx("text",{x:12,y:`${tt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Le},`t${Le}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Qe})})(),s.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:b,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":h,cursor:Nl?"crosshair":"grab"},onDoubleClick:oe=>{oe.target===oe.currentTarget&&(la(Be=>!Be),i({kind:"project"}))},onPointerDown:oe=>{if(Ue.multiTouchRef.current)return;if(oe.button===1){Qn.current=!0,D.current&&(D.current.style.cursor="grabbing"),R(oe);return}if(oe.button!==0)return;const Be=oe.pointerType==="touch";if(Be&&oe.target===oe.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=r.flowers.find(pe=>pe.id===f);if(Se){const pe=ge(oe),{zone:Ae,layerId:Me,petalIndex:we}=ui(pe.x,pe.y,Se,r,a),{length:$e}=Ht(Se.fabricSquareSize??r.fabricSquareSize),et=M0(Ae,a.kind,{hitLayerId:Me,flower:Se,length:$e});if(et!=="none"&&et!=="center"){Gn({x:pe.x,y:pe.y,zone:et});const Ve=a.kind==="layer"?"layer":"flower",Qe=a.kind==="layer"?a.layerId:Me;switch(et){case"rotate":le(Ve,f,oe,{layerId:Qe});return;case"scale":W(Ve,f,oe,{layerId:Qe});return;case"width":xe(Ve,f,oe,{layerId:Qe,petalIndex:we});return;case"radius":me(Ve,f,oe,{layerId:Qe});return;case"move":ie(f,oe);return}}}}Ue.setTouchBgStart({x:oe.clientX,y:oe.clientY}),R(oe);return}if(oe.target===oe.currentTarget&&f&&mt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Tt.current;if(Se!=="none"&&Se!=="center"){const pe=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:Qt.current;switch(Se){case"rotate":le(pe,f,oe,{layerId:Ae});return;case"scale":W(pe,f,oe,{layerId:Ae});return;case"width":xe(pe,f,oe,{layerId:Ae,petalIndex:Vn.current});return;case"radius":me(pe,f,oe,{layerId:Ae});return;case"move":ie(f,oe);return}}}if(oe.target===oe.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&mt!=="grab"){const ke=Kt.current;if(ke!=="none"){const Se=c.leaves.find(pe=>pe.id===c.selectedLeafId);if(Se){oe.preventDefault();const pe=ge(oe);if(De.current=!0,ke==="rotate"){const Ae=Se.position,Me=Se.rotation,we=Math.atan2(pe.y-Ae.y,pe.x-Ae.x)*180/Math.PI,$e=Se.id,et=nr(ke,"/tsumami/");bt(et),D.current&&(D.current.style.cursor=et);let Ve=!1;const Qe=kt=>{const tt=ge(kt),ct=Math.atan2(tt.y-Ae.y,tt.x-Ae.x)*180/Math.PI-we;Math.abs(ct)>.5&&(Ve=!0),c.applyUpdate(lt=>{const gt=(lt.leaves??[]).find(vn=>vn.id===$e);gt&&(gt.rotation=((Me+ct)%360+360)%360)},!1)},Le=()=>{De.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Le),Ve&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Le);return}else if(ke==="scale"){const Ae=Se.position,Me=Se.scale??1,we=Math.max(1,Math.hypot(pe.x-Ae.x,pe.y-Ae.y)),$e=Se.id,et=nr(ke,"/tsumami/");bt(et),D.current&&(D.current.style.cursor=et);let Ve=!1;const Qe=kt=>{const tt=ge(kt),ct=Math.hypot(tt.x-Ae.x,tt.y-Ae.y)/we;Math.abs(ct-1)>.01&&(Ve=!0),c.applyUpdate(lt=>{const gt=(lt.leaves??[]).find(vn=>vn.id===$e);gt&&(gt.scale=Math.max(.3,Math.min(3,Me*ct)))},!1)},Le=()=>{De.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Le),Ve&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Le);return}else if(ke==="width"){const Ae=Se.position,Me=Se.rotation*Math.PI/180,we=-Math.sin(Me),$e=Math.cos(Me),et=Se.widthScale??1,Ve=Math.max(1,Math.abs((pe.x-Ae.x)*we+(pe.y-Ae.y)*$e)),Qe=Se.id,Le=nr(ke,"/tsumami/");bt(Le),D.current&&(D.current.style.cursor=Le);let kt=!1;const tt=ct=>{const lt=ge(ct),vn=Math.abs((lt.x-Ae.x)*we+(lt.y-Ae.y)*$e)/Ve;Math.abs(vn-1)>.01&&(kt=!0),c.applyUpdate(ja=>{const Wt=(ja.leaves??[]).find(ze=>ze.id===Qe);Wt&&(Wt.widthScale=Math.max(.3,Math.min(3,et*vn)))},!1)},Nt=()=>{De.current=!1,document.removeEventListener("pointermove",tt),document.removeEventListener("pointerup",Nt),kt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",tt),document.addEventListener("pointerup",Nt);return}else{const Ae=pe,Me={...Se.position},we=Se.id;bt(Rn("/tsumami/")),D.current&&(D.current.style.cursor=Rn("/tsumami/"));let $e=!1;const et=Qe=>{const Le=ge(Qe),kt=Le.x-Ae.x,tt=Le.y-Ae.y;Math.abs(kt)+Math.abs(tt)>1&&($e=!0),c.applyUpdate(Nt=>{const ct=(Nt.leaves??[]).find(lt=>lt.id===we);ct&&(ct.position.x=Math.max(0,Math.min(_a,Me.x+kt)),ct.position.y=Math.max(0,Math.min(_a,Me.y+tt)))},!1)},Ve=()=>{De.current=!1,document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",Ve),$e&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",et),document.addEventListener("pointerup",Ve);return}}}}if(oe.target===oe.currentTarget){Be?(Ue.setTouchBgStart({x:oe.clientX,y:oe.clientY}),R(oe)):Nl?X(oe):(Ue.setMouseBgStart({x:oe.clientX,y:oe.clientY}),Qn.current=!0,D.current&&(D.current.style.cursor="grabbing"),R(oe));return}},onPointerMove:oe=>{if(de.current||De.current)return;if(V.current){K(oe);return}if(M.current){N(oe);return}if(Y.current){S(oe);return}if(I.current){B(oe);return}if(E.current){O(oe);return}J(oe),k(oe);const Be=!!c.dragRef?.current||!!V.current||!!M.current||!!Y.current||!!I.current||!!E.current||Qn.current,ke=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Be&&ke){const Se=r.flowers.find(pe=>pe.id===f);if(Se){const pe=ge(oe);if(Fe.current&&!bn.current){if(Math.hypot(pe.x-Fe.current.x,pe.y-Fe.current.y)<Dl){const{zone:Le}=ui(pe.x,pe.y,Se,r,a);Le==="center"&&(bt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}bn.current=!0,Fe.current=null}const{zone:Ae,layerId:Me,petalIndex:we}=ui(pe.x,pe.y,Se,r,a),{length:$e}=Ht(Se.fabricSquareSize??r.fabricSquareSize),et=M0(Ae,a.kind,{hitLayerId:Me,flower:Se,length:$e});et!=="none"&&(Tt.current=et,Qt.current=Me,Vn.current=we);const Ve=Hd(et,"/tsumami/");bt(Ve),D.current&&(D.current.style.cursor=Ve)}}if(!Be&&a.kind==="leaf"&&c.selectedLeafId){const Se=c.leaves.find(pe=>pe.id===c.selectedLeafId);if(Se){const pe=ge(oe);if(Fe.current&&!bn.current){if(Math.hypot(pe.x-Fe.current.x,pe.y-Fe.current.y)<Dl)return;bn.current=!0,Fe.current=null}const Ae=cm(pe.x,pe.y,Se,r);Ae!=="none"&&(Kt.current=Ae);const Me=nr(Ae,"/tsumami/");bt(Me),D.current&&(D.current.style.cursor=Me)}}},onPointerUp:oe=>{if(!de.current&&!De.current){if(Gn(null),V.current&&Nl&&la(!1),Z(),L(),g(),z(),U(),q(),G(),Qn.current&&(Qn.current=!1,D.current&&(D.current.style.cursor=Nl?"crosshair":"grab")),Ue.touchBgStartRef.current&&oe.pointerType==="touch"){const Be=oe.clientX-Ue.touchBgStartRef.current.x,ke=oe.clientY-Ue.touchBgStartRef.current.y;Math.hypot(Be,ke)<gn&&i({kind:"project"}),Ue.setTouchBgStart(null);return}if(Ue.setTouchBgStart(null),Ue.mouseBgStartRef.current&&oe.pointerType==="mouse"){const Be=oe.clientX-Ue.mouseBgStartRef.current.x,ke=oe.clientY-Ue.mouseBgStartRef.current.y;if(Ue.setMouseBgStart(null),Math.hypot(Be,ke)<Bt){i({kind:"project"});return}}if(Ue.setMouseBgStart(null),f){const Be=r.flowers.find(ke=>ke.id===f);if(Be){const ke=ge(oe);if(Fe.current&&Math.hypot(ke.x-Fe.current.x,ke.y-Fe.current.y)<Dl){const{zone:Ve}=ui(ke.x,ke.y,Be,r,a);Ve==="center"&&(bt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:Se,layerId:pe,petalIndex:Ae}=ui(ke.x,ke.y,Be,r,a),{length:Me}=Ht(Be.fabricSquareSize??r.fabricSquareSize),we=M0(Se,a.kind,{hitLayerId:pe,flower:Be,length:Me});we!=="none"&&(Tt.current=we,Qt.current=pe,Vn.current=Ae);const $e=Hd(we,"/tsumami/");bt($e),D.current&&(D.current.style.cursor=$e)}}}},onPointerLeave:()=>{Z(),L(),g(),z(),U(),q(),G(),Qn.current=!1,Ue.setTouchBgStart(null),Ue.setMouseBgStart(null),bt("grab"),Fe.current=null,bn.current=!0,Tt.current="none",Kt.current="none",Qt.current=void 0,Vn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[oe,Be,ke,Se]=b.split(/\s+/).map(Number),pe=_a;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:oe,y:Be,width:ke,height:Se,fill:"white"}),s.jsx("rect",{x:0,y:0,width:pe,height:pe,fill:"black"})]})}),s.jsx("rect",{x:oe,y:Be,width:ke,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:_a,height:_a,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:_a,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:_a,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),y&&(()=>{const oe=rn,[Be,ke,Se,pe]=b.split(/\s+/).map(Number),Ae=Math.max(Se,pe)/oe,we=[10,20,50,100,200,500,1e3].find(lt=>Ae/lt<=15)??1e3,$e=Math.floor(Be/oe/we)*we-we,et=Math.ceil((Be+Se)/oe/we)*we+we,Ve=Math.floor(ke/oe/we)*we-we,Qe=Math.ceil((ke+pe)/oe/we)*we+we,Le=Ve*oe,kt=Qe*oe,tt=$e*oe,Nt=et*oe,ct=[];for(let lt=$e;lt<=et;lt+=we){const gt=lt*oe;ct.push(s.jsx("line",{x1:gt,y1:Le,x2:gt,y2:kt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=Ve;lt<=Qe;lt+=we){const gt=lt*oe;ct.push(s.jsx("line",{x1:tt,y1:gt,x2:Nt,y2:gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return s.jsx("g",{children:ct})})(),s.jsx(Em,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:Ie,clientToSvgPointRef:Je,stencilDraggingRef:de,onSelectStencil:c.onSelectStencil}),s.jsx(qm,{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:mt,dashSyncToken:T,stageRef:D,multiTouchRef:Ue.multiTouchRef,clientToSvgPoint:ge,togglePetalSelection:fe,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:ie,beginScaleDrag:W,beginRotationDrag:le,beginWidthScaleDrag:xe,beginRadiusDrag:me,clickOriginRef:Fe,zoneActivatedRef:bn,setZoneCursorValue:bt,setTouchZoneIndicator:Gn,hoverZoneRef:Tt,hoverHitLayerIdRef:Qt,hoverHitPetalIndexRef:Vn}),s.jsx(Bm,{leaves:c.leaves,project:r,selection:a,paletteMap:o,dashSyncToken:T,selectedLeafId:c.selectedLeafId,groupHighlightedLeafIds:c.groupHighlightedLeafIds,zoneCursorValue:mt,stageRef:D,applyUpdateRef:Ie,clientToSvgPointRef:Je,leafDraggingRef:De,clickOriginRef:Fe,zoneActivatedRef:bn,setZoneCursorValue:bt,onSelectLeaf:c.onSelectLeaf,onSelectGroup:c.onSelectGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:Kt}),s.jsx(km,{rect:P}),s.jsx(Im,{indicator:oi})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Yd(c,r,a){return Math.min(a,Math.max(r,c))}function Ke({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:o,className:f,...p}){const[v,d]=$.useState(null),m=$.useRef(null),_=$.useCallback(C=>{const D=Number(C);isNaN(D)||r(Yd(D,a,i)),d(null)},[r,a,i]),y=$.useCallback(()=>{d(null)},[]),w=$.useCallback(C=>{const D=o??1,h=(Number(v??c)||0)+D*C,T=Yd(h,a,i),R=String(D).includes(".")?String(D).split(".")[1].length:0,k=Number(T.toFixed(R));d(String(k)),r(k)},[v,c,o,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:m,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:v??String(c),onChange:C=>d(C.target.value),onFocus:C=>{d(String(c)),requestAnimationFrame(()=>C.target.select())},onBlur:()=>{v!==null&&_(v)},onKeyDown:C=>{C.key==="Enter"?(C.preventDefault(),v!==null&&_(v),m.current?.blur()):C.key==="Escape"?(C.preventDefault(),y(),m.current?.blur()):(C.key==="ArrowUp"||C.key==="ArrowDown")&&(C.preventDefault(),w(C.key==="ArrowUp"?1:-1))},...p}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:C=>{C.preventDefault(),w(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:C=>{C.preventDefault(),w(-1)},children:""})]})]})}function or({title:c,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Gm({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const f=$.useMemo(()=>{const h=[...c.layers||[]].sort((P,ie)=>P.order-ie.order);if(h.length<2)return{mode:"uniform",step:2};const T=h.map(P=>P.scale??1);if(T.every(P=>Math.abs(P-T[0])<.001))return{mode:"uniform",step:2};const k=h[0],G=h[h.length-1],X=(G.order??1)-(k.order??1);if(X<=0)return{mode:"gradual",step:2};const Z=((k.scale??1)-(G.scale??1))/X,V=Math.round(Z*r*2)/2;return{mode:"gradual",step:ye(V,0,10)}},[c.id]),[p,v]=$.useState(f.mode),[d,m]=$.useState(f.step),[_,y]=$.useState(0);$.useEffect(()=>{v(f.mode),m(f.step),y(0)},[f]);const w=$.useMemo(()=>[...c.layers||[]].sort((h,T)=>h.order-T.order),[c.layers]),C=w[0],D=C?C.order:0,b=$.useMemo(()=>{if(!C)return[];const h=C.scale??1,T=C.radius,R=new Map;for(const P of w){const ie=P.order-D;if(ie===0)R.set(P.id,h);else if(p==="uniform")R.set(P.id,h);else{const J=d/r;R.set(P.id,ye(h-ie*J,.3,3))}}const{length:k}=Ht(r),G=w.length,X=70*Math.PI/180,K=new Map;let Z=T;K.set(C.id,T);for(let P=1;P<G;P++){const ie=w[P-1],J=R.get(ie.id)??1,q=k*J;let Y;if(a===""){const S=G-1-P,g=G>1?S/(G-1)*X:0;Y=q*(30/100)*Math.cos(g)}else Y=q/3;Z=Z-Y,K.set(w[P].id,Math.max(2,Z))}const V=w.map(P=>{const ie=R.get(P.id)??1,J=Math.round((K.get(P.id)??T)*10)/10,q=Math.round(r*ie*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:ie,effFabricSize:q,effRadius:J}});if(V.length>0){const P=V[V.length-1],ie=k*P.effScale,J=Math.floor(ie*.28*10)/10;P.effRadius>J&&(P.effRadius=J)}return V},[w,C,D,p,d,30,r,a]);return $.useEffect(()=>{_!==0&&(!C||b.length===0||i(h=>{const T=h.flowers.find(k=>k.id===c.id);if(!T)return;for(const k of b){const G=T.layers.find(X=>X.id===k.id);G&&(G.scale=ye(k.effScale,.3,3),G.radius=ye(k.effRadius,2,120))}const R=[...T.layers].sort((k,G)=>G.order-k.order);for(let k=1;k<R.length;k++){const G=R[k-1],X=R[k];X.offsetAngle=nl(G.petalCount,G.offsetAngle,X.petalCount)}}))},[_]),w.length<2?null:s.jsxs(or,{title:"",children:[s.jsxs(ws,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:p,onChange:h=>{v(h.target.value),y(T=>T+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),p==="gradual"&&s.jsxs(ws,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,min:0,max:10,step:.5,onChange:h=>{m(h),y(T=>T+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),b.map(h=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:h.name}),s.jsxs("span",{children:[" ",h.effFabricSize,"mm /  ",Math.round(ar(h.effRadius,h.effScale,r)),"mm"]})]},h.id))]})]})}const l1="tsumami_recent_colors_v1",Gs=10;function Om(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const o of i.petalOverrides)o.colorId&&r.add(o.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Ns(){try{const c=localStorage.getItem(l1);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,Gs)}}catch{}return[]}function Um(c){try{localStorage.setItem(l1,JSON.stringify(c.slice(0,Gs)))}catch{}}function Hm(c){const r=Ns(),a=[c,...r.filter(i=>i!==c)].slice(0,Gs);Um(a)}function Xn({palette:c,project:r,selectedColorId:a,onChange:i,size:o="md"}){const[f,p]=$.useState(!1),v=$.useRef(null),[d,m]=$.useState(Ns);$.useEffect(()=>{if(!f)return;const b=h=>{v.current&&!v.current.contains(h.target)&&p(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[f]);const _=$.useMemo(()=>Om(r),[r]),y=$.useMemo(()=>{const b=new Set;b.add(a);for(const h of _)b.add(h);for(const h of d)b.add(h);return c.filter(h=>b.has(h.id))},[c,a,_,d]),w=$.useCallback(b=>{Hm(b),m(Ns()),i(b)},[i]),C=o==="sm"?"h-4 w-4":"h-5 w-5",D=f?c:y;return s.jsx("div",{ref:v,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(b=>s.jsx("button",{className:`${C} rounded border-2 ${a===b.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:b.hex},title:b.name,"aria-label":`: ${b.name}`,onClick:()=>w(b.id)},b.id)),c.length>y.length&&s.jsx("button",{className:`${C} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>p(b=>!b),title:f?"":"","aria-label":f?"":"",children:s.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Zm({project:c,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);f&&(f.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(i=>{const o=a.layers.every(f=>f.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const p=f.flowers.find(v=>v.id===a.id);if(p)for(const v of p.layers)v.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Pd.map(i=>{const o=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==i&&r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;p.placementMode=i;const v=p.fabricSquareSize??f.fabricSquareSize;i===""?p.baseDiameter=lr(p.flowerDiameter):p.baseDiameter||(p.baseDiameter=f.baseDiameter),G2(p.layers,v,i,p.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ke,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);f&&(f.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[lr(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(o=>{const f=o.flowers.find(d=>d.id===a.id);if(!f)return;const p=xi(i);for(const d of f.layers)d.petalCount=i,d.widthScale=p;const v=[...f.layers].sort((d,m)=>m.order-d.order);for(let d=1;d<v.length;d++)v[d].offsetAngle=nl(v[d-1].petalCount,v[d-1].offsetAngle,v[d].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(o=>{const f=o.flowers.find(v=>v.id===a.id);if(!f)return;f.flowerDiameter=i,f.placementMode===""&&(f.baseDiameter=lr(i));const p=[...f.layers].sort((v,d)=>v.order-d.order);V0(p,f.fabricSquareSize??o.fabricSquareSize,i);for(const v of p){const d=f.layers.find(m=>m.id===v.id);d&&(d.radius=v.radius,d.scale=v.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);if(f)for(const p of f.layers)p.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);f&&(f.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);if(f)for(const p of f.layers)p.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);if(f)for(const p of f.layers)if(i.target.checked){if(!p.doublePetal){const v=p._doublePetalCache;p.doublePetal=v??{innerSizeReduction:2},delete p._doublePetalCache}}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(v=>v.doublePetal.innerSizeReduction))],o=i.length===1?i[0]:null,f=[...new Set(a.layers.map(v=>v.doublePetal.innerColorId??v.colorId))],p=f.length===1?f[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:v=>r(d=>{const m=d.flowers.find(_=>_.id===a.id);if(m)for(const _ of m.layers)_.doublePetal&&(_.doublePetal.innerSizeReduction=ye(v,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:p??"",onChange:v=>r(d=>{const m=d.flowers.find(_=>_.id===a.id);if(m)for(const _ of m.layers)_.doublePetal&&(v===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=v)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:K2.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);f?.center&&(f.center.type=i,i===""&&!f.center.pepCount&&(f.center.pepCount=12),i===""&&!f.center.color2&&(f.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);f?.center&&(f.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);f?.center&&(f.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);f?.center&&(f.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(o=>{const f=o.flowers.find(p=>p.id===a.id);f?.center&&(f.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Gm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Ym({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:p}){const v=a,d=[...new Set(v.flatMap(y=>y.layers.map(w=>w.petalType)))],m=d.length===1?d[0]:null,_=y=>{r(w=>{for(const C of v){const D=w.flowers.find(b=>b.id===C.id);D&&y(D)}},!0)};return s.jsxs(or,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(y=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:y.hex},title:y.name,onClick:()=>_(w=>{for(const C of w.layers)C.colorId=y.id})},y.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:al.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${m===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>_(w=>{for(const C of w.layers)C.petalType=y}),children:y},y))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:v[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:y=>{const w=xi(y);_(C=>{for(const b of C.layers)b.petalCount=y,b.widthScale=w;const D=[...C.layers].sort((b,h)=>h.order-b.order);for(let b=1;b<D.length;b++)D[b].offsetAngle=nl(D[b-1].petalCount,D[b-1].offsetAngle,D[b].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:v.map(y=>s.jsxs("div",{children:[y.name," (",y.layers.length,")"]},y.id))}),(()=>{const y=v.map(h=>ll(c,h.id)),w=v.filter(h=>!ll(c,h.id)).map(h=>h.id),C=[...new Set(y.filter(Boolean).map(h=>h.id))],D=w.length===v.length,b=C.length===1&&y.every(h=>h!=null);return s.jsxs(s.Fragment,{children:[D&&v.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(v.map(h=>h.id)),children:""}),b&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(C[0]),children:""}),C.length===1&&w.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(C[0],w),children:[" (+",w.length,")"]}),C.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>p(C,w),children:[" (",C.length,"",w.length>0?` +${w.length}`:"",")"]})]})})()]})}function Km({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:o,onUngroupFlowers:f,onUngroupAll:p}){const v=i.find(C=>C.id===o);if(!v)return null;const d=a,m=(c.leaves??[]).filter(C=>v.leafIds.includes(C.id)),_=[...new Set(d.flatMap(C=>C.layers.map(D=>D.petalType)))],y=_.length===1?_[0]:null,w=C=>{r(D=>{for(const b of d){const h=D.flowers.find(T=>T.id===b.id);h&&C(h)}},!0)};return s.jsxs(or,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:v.name,onChange:C=>r(D=>{const b=(D.groups??[]).find(h=>h.id===v.id);b&&(b.name=C.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[d.length>0&&s.jsxs("span",{children:[d.length,""]}),d.length>0&&m.length>0&&s.jsx("span",{children:" + "}),m.length>0&&s.jsxs("span",{children:[m.length,""]})]}),d.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(C=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:C.hex},title:C.name,onClick:()=>w(D=>{for(const b of D.layers)b.colorId=C.id})},C.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:al.map(C=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===C?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>w(D=>{for(const b of D.layers)b.petalType=C}),children:C},C))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:d[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:C=>{const D=xi(C);w(b=>{for(const T of b.layers)T.petalCount=C,T.widthScale=D;const h=[...b.layers].sort((T,R)=>R.order-T.order);for(let T=1;T<h.length;T++)h[T].offsetAngle=nl(h[T-1].petalCount,h[T-1].offsetAngle,h[T].petalCount)})}})]}),s.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[d.map(C=>s.jsxs("div",{children:[C.name," (",C.layers.length,")"]},C.id)),m.map(C=>s.jsx("div",{children:C.name},C.id))]}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(v.id),children:""}),s.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>p(v.id),children:""})]})}function Xm({project:c,flowerIds:r,leafIds:a,onGroupMixed:i,onUngroupFlowers:o,onAddToGroup:f,onAddLeavesToGroup:p,onMergeGroups:v}){const d=c.flowers.filter(R=>r.includes(R.id)),m=(c.leaves??[]).filter(R=>a.includes(R.id)),_=r.map(R=>ll(c,R)),y=a.map(R=>zl(c,R)),w=[..._,...y],C=r.filter(R=>!ll(c,R)),D=a.filter(R=>!zl(c,R)),b=[...new Set(w.filter(Boolean).map(R=>R.id))],h=C.length+D.length===r.length+a.length,T=b.length===1&&w.every(R=>R!=null);return s.jsxs(or,{title:"",children:[s.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",d.length," +  ",m.length,""]}),s.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[d.map(R=>s.jsxs("div",{children:[" ",R.name]},R.id)),m.map(R=>s.jsxs("div",{children:[" ",R.name||""]},R.id))]}),s.jsxs(s.Fragment,{children:[h&&d.length+m.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(r,a),children:""}),T&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&(C.length>0||D.length>0)&&!h&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{C.length>0&&f(b[0],C),D.length>0&&p(b[0],D)},children:[" (+",C.length+D.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(b,C),children:[" (",b.length,")"]})]})]})}function Jm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:o=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);v&&(v.name=o.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(o=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);v&&(v.petalType=o)}),children:o},o))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:5,max:24,value:i.petalCount,onChange:o=>{r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);if(v){v.petalCount=o,v.widthScale=xi(o);const d=[...p.layers].sort((m,_)=>_.order-m.order);for(let m=1;m<d.length;m++)d[m].offsetAngle=nl(d[m-1].petalCount,d[m-1].offsetAngle,d[m].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:1,max:200,step:.5,value:Math.round(ar(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:o=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);v&&(v.radius=ye(R2(o,v.scale??1,p.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:o=>r(f=>{const p=f.flowers.find(y=>y.id===a.id);if(!p)return;const v=p.layers.find(y=>y.id===i.id);if(!v)return;const d=p.fabricSquareSize??f.fabricSquareSize;v.scale=ye(Math.round(o/d*100)/100,.3,3);const m=[...p.layers].sort((y,w)=>y.order-w.order),_=m.findIndex(y=>y.id===v.id);if(_>=0)for(let y=_-1;y>=0;y--){const w=m[y],C=m[y+1],b=Ht(d).length*(C.scale??1)/3;w.radius=Math.round((C.radius+b)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:o=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);v&&(v.scale=o)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:o=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);v&&(v.widthScale=o)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{value:Number(i.offsetAngle??0).toFixed(1),onChange:o=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);v&&(v.offsetAngle=o)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:o=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);v&&(v.colorId=o)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:o=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);if(v)if(o.target.checked){const d=v._doublePetalCache;v.doublePetal=d??{innerSizeReduction:2},delete v._doublePetalCache}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:o=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);v?.doublePetal&&(v.doublePetal.innerSizeReduction=ye(o,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:o=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);v?.doublePetal&&(o===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=o)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:o=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);v&&(v.visible=o.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:o=>r(f=>{const p=f.flowers.find(d=>d.id===a.id);if(!p)return;const v=p.layers.find(d=>d.id===i.id);v&&(v.locked=o.target.checked)})}),""]})]})]})]})}function Vm({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const o=i,f=o.map(h=>{const T=a.layers.find(R=>R.id===h.layerId);return{...h,layer:T}}).filter(h=>h.layer!=null),p=(h,T)=>{const R=a.layers.find(G=>G.id===h);return R?(R?.petalOverrides?.find(G=>G.index===T)??null)?.colorId??R.colorId:null},v=(h,T)=>{const R=a.layers.find(G=>G.id===h);return R?(R?.petalOverrides?.find(G=>G.index===T)??null)?.petalType??R.petalType:null},d=f.map(h=>p(h.layerId,h.index)),m=f.map(h=>v(h.layerId,h.index)),_=d.length>0&&d.every(h=>h===d[0]),w=m.length>0&&m.every(h=>h===m[0])?m[0]:null,C=h=>{r(T=>{const R=T.flowers.find(k=>k.id===a.id);if(R)for(const k of o){const G=R.layers.find(K=>K.id===k.layerId);if(!G)continue;G.petalOverrides||(G.petalOverrides=[]);const X=G.petalOverrides.find(K=>K.index===k.index);if(X)h.colorId!==void 0&&(h.colorId===G.colorId?delete X.colorId:X.colorId=h.colorId),h.petalType!==void 0&&(h.petalType===G.petalType?delete X.petalType:X.petalType=h.petalType),!X.colorId&&!X.petalType&&(G.petalOverrides=G.petalOverrides.filter(K=>K.index!==k.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0));else{const K={index:k.index};h.colorId!==void 0&&h.colorId!==G.colorId&&(K.colorId=h.colorId),h.petalType!==void 0&&h.petalType!==G.petalType&&(K.petalType=h.petalType),(K.colorId!==void 0||K.petalType!==void 0)&&G.petalOverrides.push(K)}}},!0)},D=()=>{r(h=>{const T=h.flowers.find(R=>R.id===a.id);if(T)for(const R of o){const k=T.layers.find(G=>G.id===R.layerId);!k||!k.petalOverrides||(k.petalOverrides=k.petalOverrides.filter(G=>G.index!==R.index),k.petalOverrides.length===0&&(k.petalOverrides=void 0))}},!0)},b=f.some(h=>h.layer?.petalOverrides?.find(T=>T.index===h.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",b&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${_&&d[0]===h.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>C({colorId:h.id})},h.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(h=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${w===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>C({petalType:h}),children:h},h))})]}),b&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function Qm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:o}){const f=i?.petalOverrides?.find(y=>y.index===o)??null,p=f?.colorId??i.colorId,v=f?.petalType??i.petalType,d=f!=null,m=y=>{r(w=>{const C=w.flowers.find(h=>h.id===a.id);if(!C)return;const D=C.layers.find(h=>h.id===i.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const b=D.petalOverrides.find(h=>h.index===o);if(b)y.colorId!==void 0&&(b.colorId=y.colorId),y.petalType!==void 0&&(b.petalType=y.petalType),y.innerColorId!==void 0&&(b.innerColorId=y.innerColorId),y.innerSizeReduction!==void 0&&(b.innerSizeReduction=y.innerSizeReduction),b.colorId!==void 0||b.petalType!==void 0||b.innerColorId!==void 0||b.innerSizeReduction!==void 0?(b.colorId===void 0&&delete b.colorId,b.petalType===void 0&&delete b.petalType,b.innerColorId===void 0&&delete b.innerColorId,b.innerSizeReduction===void 0&&delete b.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(T=>T.index!==o),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const h={index:o};y.colorId!==void 0&&(h.colorId=y.colorId),y.petalType!==void 0&&(h.petalType=y.petalType),y.innerColorId!==void 0&&(h.innerColorId=y.innerColorId),y.innerSizeReduction!==void 0&&(h.innerSizeReduction=y.innerSizeReduction),(h.colorId!==void 0||h.petalType!==void 0||h.innerColorId!==void 0||h.innerSizeReduction!==void 0)&&D.petalOverrides.push(h)}},!0)},_=()=>{r(y=>{const w=y.flowers.find(D=>D.id===a.id);if(!w)return;const C=w.layers.find(D=>D.id===i.id);!C||!C.petalOverrides||(C.petalOverrides=C.petalOverrides.filter(D=>D.index!==o),C.petalOverrides.length===0&&(C.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",o+1,d&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:p,onChange:y=>{y===i.colorId?m({colorId:void 0}):m({colorId:y})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{y===i.petalType?m({petalType:void 0}):m({petalType:y})},children:y},y))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:y=>r(w=>{const C=w.flowers.find(b=>b.id===a.id);if(!C)return;const D=C.layers.find(b=>b.id===i.id);if(D)if(y.target.checked){const b=D._doublePetalCache;D.doublePetal=b??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const y=i.doublePetal,w=f?.innerSizeReduction??y.innerSizeReduction,C=f?.innerColorId??y.innerColorId??p;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ke,{min:1,max:30,step:1,value:w,onChange:D=>{const b=ye(D,1,30);b===y.innerSizeReduction?m({innerSizeReduction:void 0}):m({innerSizeReduction:b})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:C,size:"sm",onChange:D=>{const b=y.innerColorId??i.colorId;m(D===b?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),d&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:_,children:""})]})]})}function Wm({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const o=a,f=p=>{r(v=>{const d=(v.stencils??[]).find(m=>m.id===o.id);d&&Object.assign(d,p)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:p=>f({variant:p.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(p=>s.jsx("option",{value:p,children:t1[p]},p))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:p=>f({pose:p.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(p=>s.jsx("option",{value:p,children:n1[p]},p))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:p=>f({locked:p.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Pm({project:c,applyUpdate:r,selectedLeaf:a,groups:i,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:p}){const v=a,d=_=>{r(y=>{const w=(y.leaves??[]).find(C=>C.id===v.id);w&&_(w)},!0)},m=zl(c,v.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:v.name,onChange:_=>d(y=>{y.name=_.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(_=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v.petalType===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>d(y=>{y.petalType=_}),children:_},_))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:v.colorId,onChange:_=>d(y=>{y.colorId=_})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((v.fabricSquareSize??c.fabricSquareSize)*(v.scale??1)*10)/10,onChange:_=>d(y=>{const w=y.fabricSquareSize??c.fabricSquareSize;y.scale=ye(Math.round(_/w*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(v.scale??1).toFixed(2),onChange:_=>d(y=>{y.scale=_})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(v.widthScale??1).toFixed(2),onChange:_=>d(y=>{y.widthScale=_})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ke,{value:Number(v.rotation).toFixed(1),onChange:_=>d(y=>{y.rotation=_})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.doublePetal,onChange:_=>d(y=>{if(_.target.checked){const w=y._doublePetalCache;y.doublePetal=w??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),v.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{min:1,max:30,step:1,value:v.doublePetal.innerSizeReduction,onChange:_=>d(y=>{y.doublePetal&&(y.doublePetal.innerSizeReduction=ye(_,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:v.doublePetal.innerColorId??v.colorId,onChange:_=>d(y=>{y.doublePetal&&(_===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=_)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.visible,onChange:_=>d(y=>{y.visible=_.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.locked,onChange:_=>d(y=>{y.locked=_.target.checked})}),""]})]}),m?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",m.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>p(v.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:_=>{_.target.value&&f(v.id,_.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(_=>s.jsx("option",{value:_.id,children:_.name},_.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(v.id),children:""})]})]})}function Fm({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:o,onAddLeavesToGroup:f,onMergeLeafGroups:p}){const v=(c.leaves??[]).filter(d=>a.includes(d.id));return v.length===0?null:s.jsxs(or,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:"",onChange:d=>r(m=>{for(const _ of a){const y=(m.leaves??[]).find(w=>w.id===_);y&&(y.colorId=d)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(d=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(m=>{for(const _ of a){const y=(m.leaves??[]).find(w=>w.id===_);y&&(y.petalType=d)}},!0),children:d},d))}),(()=>{const d=v.map(C=>zl(c,C.id)),m=v.filter(C=>!zl(c,C.id)).map(C=>C.id),_=[...new Set(d.filter(Boolean).map(C=>C.id))],y=m.length===v.length,w=_.length===1&&d.every(C=>C!=null);return s.jsxs(s.Fragment,{children:[y&&v.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),w&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(_[0]),children:""}),_.length===1&&m.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(_[0],m),children:[" (+",m.length,")"]}),_.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>p(_,m),children:[" (",_.length,"",m.length>0?` +${m.length}`:"",")"]})]})})()]})}function $m(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:o,selectedFlowers:f,selectedLayer:p,selectedPetalIndex:v,selectedPetals:d}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:m=>i(_=>_.title=m.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{value:r.fabricSquareSize,min:5,max:60,onChange:m=>i(_=>_.fabricSquareSize=m),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ke,{value:r.baseDiameter,min:10,max:100,onChange:m=>i(_=>_.baseDiameter=m),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",na(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",na(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:m=>i(_=>_.notes=m.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(m=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:m.hex},title:m.name},m.id))})]})]})]}),a.kind==="flower"&&o&&s.jsx(Zm,{project:r,applyUpdate:i,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&s.jsx(Ym,{project:r,applyUpdate:i,selectedFlowers:f,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&s.jsx(Km,{project:r,applyUpdate:i,selectedFlowers:f,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers,onUngroupAll:c.onUngroupAll}),a.kind==="layer"&&o&&p&&s.jsx(Jm,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:p}),a.kind==="petals"&&o&&d.length>0&&s.jsx(Vm,{project:r,applyUpdate:i,selectedFlower:o,selectedPetals:d}),a.kind==="petal"&&o&&p&&v!==null&&s.jsx(Qm,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:p,selectedPetalIndex:v}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(Wm,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(Pm,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,groups:c.groups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Fm,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="mixed"&&s.jsx(Xm,{project:r,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:c.onGroupMixed,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeGroups:c.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!o?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function eb(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?na(c.baseDiameter,c.fabricSquareSize,r).diameter:cr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function tb(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?q2(c.flowerDiameter,c.baseDiameter,r):E2(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function nb({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:o}){const f=d=>{a(m=>{const _={...m,...d};return d.placementMode&&d.placementMode!==m.placementMode&&(d.placementMode===""?(_.baseDiameter=30,_.fabricSquareSize=20,_.layerCount=4,_.petalCount=12):(_.fabricSquareSize=20,_.layerCount=1,_.petalCount=6)),_.flowerDiameter=eb(_),_})},p=d=>{a(m=>{const _={...m,flowerDiameter:d};return _.fabricSquareSize=tb(_),_})},v=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&v.push("");const d=B2(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>d&&v.push(`${d}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:d=>d.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Pd.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:d}),children:d},d))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:d=>f({fabricSquareSize:d})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:d=>f({layerCount:d})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:d=>f({baseDiameter:d})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:d=>a(m=>({...m,petalCount:d}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:p})]})]}),v.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:v.map((d,m)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:d},m))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(d=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===d.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>a(m=>({...m,colorId:d.id}))},d.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:al.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(m=>({...m,petalType:d})),children:d},d))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:d=>f({sizeStepMm:d})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function lb(c){return Math.round(c*Math.SQRT2/2*10)/10}function ab(c){return Math.round(c*Math.SQRT2*10)/10}function ib({palette:c,addLeafOpts:r,setAddLeafOpts:a,onConfirm:i,onCancel:o}){const f=v=>{a(d=>({...d,fabricSquareSize:v,leafSizeMm:lb(v)}))},p=v=>{a(d=>({...d,leafSizeMm:v,fabricSquareSize:ab(v)}))};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:v=>v.stopPropagation(),"data-testid":"dialog-add-leaf",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:f})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:r.leafSizeMm,onChange:p})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(v=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===v.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:v.hex},title:v.name,"aria-label":`: ${v.name}`,onClick:()=>a(d=>({...d,colorId:v.id}))},v.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:al.map(v=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:v})),children:v},v))})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-leaf",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}(function(c,r){const a=an,i=c();for(;;)try{if(parseInt(a(341))/1+parseInt(a(351))/2*(parseInt(a(319))/3)+parseInt(a(322))/4+parseInt(a(361))/5*(parseInt(a(336))/6)+-parseInt(a(316))/7+parseInt(a(368))/8*(parseInt(a(349))/9)+parseInt(a(367))/10*(-parseInt(a(353))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,337726);const rb=(function(){const c={vMIfJ:function(a,i){return a-i},YzsGd:function(a,i){return a===i}};let r=!0;return function(a,i){const o=an;if(c[o(324)]("tdTVy",o(310))){const f=r?function(){const p=o;if(i){const v=i[p(340)](a,arguments);return i=null,v}}:function(){};return r=!1,f}else{const f=c[o(347)](_0x1b7dfb.startWidths[o(343)],_0x5d2be3),p=c[o(347)](c.vMIfJ(100,_0x567410.startWidths.left),_0x47ca4b);_0xddfc5a(_0x145d6e(_0x5ef5d6[o(360)][o(364)],_0x6bf6a2[o(331)](f,p)))}}})(),As=rb(void 0,function(){const c=an,r={FsfaG:"(((.+)+)+)+$"};return As[c(325)]().search("(((.+)+)+)+$").toString().constructor(As).search(r[c(315)])});function an(c,r){c=c-307;const a=H0();let i=a[c];if(an.wgnlFr===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};an.dWsIGA=o,an.YAzqLA={},an.wgnlFr=!0}const f=a[0],p=c+f,v=an.YAzqLA[p];if(v)i=v;else{const d=function(m){this.gmDUWR=m,this.HVwcVw=[1,0,0],this.HrQdOC=function(){return"newState"},this.sXWQTt="\\w+ *\\(\\) *{\\w+ *",this.shBFCQ=`['|"].+['|"];? *}`};d.prototype.gbPfpM=function(){const m=new RegExp(this.sXWQTt+this.shBFCQ),_=m.test(this.HrQdOC.toString())?--this.HVwcVw[1]:--this.HVwcVw[0];return this.kFZhuP(_)},d.prototype.kFZhuP=function(m){return~m?this.GAhLcP(this.gmDUWR):m},d.prototype.GAhLcP=function(m){for(let _=0,y=this.HVwcVw.length;_<y;_++)this.HVwcVw.push(Math.round(Math.random())),y=this.HVwcVw.length;return m(this.HVwcVw[0])},new d(an).gbPfpM(),i=an.dWsIGA(i),an.YAzqLA[p]=i}return i}As();const a1="tsumami-panel-widths",i1={left:25,right:25},Ls=15,Ts=15,sr=30;function cb(){const c=an,r={RSndR:c(355),dPWhh:function(a,i){return a>=i}};try{const a=localStorage[c(348)](a1);if(a){const i=JSON.parse(a);if(typeof i.left===r[c(321)]&&typeof i[c(343)]===c(355)&&r.dPWhh(i[c(364)],Ls)&&i.right>=Ts&&r[c(308)](100-i[c(364)]-i[c(343)],sr))return i}}catch{}return i1}function Kd(c,r){const a=an,i={TGKfq:function(v,d){return v-d},txTdq:function(v,d){return v-d},DDCQM:function(v,d){return v*d},RfodN:function(v,d){return v/d},haqQn:function(v,d){return v*d}};let o=Math[a(375)](Ls,c),f=Math.max(Ts,r);const p=i.TGKfq(i.txTdq(100,o),f);if(p<sr){const v=i[a(358)](sr,p);o-=v/2,f-=v/2,o=Math.max(Ls,o),f=Math[a(375)](Ts,f)}return{left:Math.round(i.DDCQM(o,100))/100,right:i.RfodN(Math[a(326)](i.haqQn(f,100)),100)}}function H0(){const c=["wxPZr2q","Dg9tDhjPBMC","CM91BMq","Bwf0y2HnzwrPyq","zKPyue8","Cg9PBNrLCM1VDMu","Bwf0y2HLCW","BwLU","Dw5KzwzPBMvK","Eg5Wt1q","C1zIuMC","z2v0qM91BMrPBMDdBgLLBNrszwn0","mtiWnKnXquHcAG","ENvjywW","y2XPzw50wa","tgXVs2W","yxbWBhK","ntC0ote4tM5ZshfY","ChjLDMvUDerLzMf1Bhq","CMLNAhq","r2fmzMq","C3bSAxq","BMvzsve","DK1jzKO","z2v0sxrLBq","mtiZmJf2rw5WzeS","Cg9PBNrLCNvW","odmWvNvuqMHM","kg1PBI13Awr0AdOGnZy4ChGP","mZq2nunLEgvsva","y29SlxjLC2L6zq","BNvTyMvY","nxWXFdr8mNWZFda","ywrKrxzLBNrmAxn0zw5LCG","DhHuzhe","BM9Uzq","C3rHCNrxAwr0Ahm","mty2nxLzt25lqq","yvvHzLC","DxnLCLnLBgvJDa","BgvMDa","y25LBu4","C3r5Bgu","mJe2nZbMDKH2sgS","mtCXmNvZvvHyva","AhHYuKi","zxz3uMO","uhfpuvC","zhrnBhm","re9SAhe","tMrttuy","Bwf4","CMvTB3zLrxzLBNrmAxn0zw5LCG","zfbxAgG","t3bfy24","DgruvNK","qLDjrxa","C2LKzq","v3z4ufy","yM9KEq","rNnMyuC","mJi2nJu2nwHUD2vlCG","yvznrwu","C3rYAw5NAwz5","mJGYm0T4uMzWEG","y3vYCMvUDa","uLnUzfi","nZuXnZzJzhLhqu8","y2HHBMDL"];return H0=function(){return c},H0()}function ub(){const c=an,r={BwZlv:function(D,b){return D(b)},bZOgj:function(D,b){return D===b},DOlhq:c(374),uVulX:c(346),zuIal:function(D,b){return D-b},evwRj:function(D,b){return D-b},mQCGq:function(D,b){return D/b},xnpOT:function(D,b){return D*b},WvxPV:function(D,b){return D*b},dtMls:c(365),LloKl:"left",uMRoj:function(D,b,h){return D(b,h)},GaLfd:function(D,b){return D-b},KITXP:c(329),fJXPO:"pointerup",NaPoY:c(369),sVbRg:function(D,b){return D(b)},cSbnK:function(D,b,h){return D(b,h)},BWIEp:function(D,b){return D(b)},OpEcn:function(D,b,h){return D(b,h)}},[a,i]=$.useState(cb),o=$.useRef(null),f=r.BwZlv($.useRef,null),[p,v]=$.useState(!1),[d,m]=$.useState(()=>typeof window!==c(332)?window.matchMedia(c(352))[c(330)]:!0);$.useEffect(()=>{const D=c,b={VryFr:function(h,T){return r.BwZlv(h,T)}};if(r.bZOgj(r[D(373)],r.uVulX))_0x5e126a[D(320)]=null,b.VryFr(_0x3f4c13,!1),_0x4c4458.body[D(366)].cursor="",_0x506593.body[D(366)][D(363)]="",_0x14262c.removeEventListener("pointermove",_0x599049),_0x7193ff[D(307)](D(350),_0x52a7f4);else{const h=window.matchMedia(D(352)),T=R=>m(R.matches);return h[D(357)]("change",T),()=>h[D(307)](D(323),T)}},[]),$.useEffect(()=>{const D=c;if(D(365)!==r[D(372)]){let b=_0x545843[D(375)](_0x499080,_0x2c8232),h=_0x4cb1d0.max(_0x484e74,_0x114411);const T=fNvmqp[D(337)](100,b)-h;if(T<_0x2d40c0){const R=fNvmqp[D(370)](_0x5c9b46,T);b-=fNvmqp.mQCGq(R,2),h-=R/2,b=_0x20f74a.max(_0x5de41b,b),h=_0x39c64d.max(_0x3a5db2,h)}return{left:fNvmqp.mQCGq(_0x4e4b85[D(326)](fNvmqp.xnpOT(b,100)),100),right:_0x188f41.round(fNvmqp[D(313)](h,100))/100}}else localStorage.setItem(a1,JSON[D(318)](a))},[a]);const _=r[c(334)]($.useRef,a);$.useEffect(()=>{_.current=a},[a]);const y=r.cSbnK($.useCallback,(D,b)=>{const h=c,T={aVMEe:r.KITXP,pMzxf:function(X,K){return X(K)}};b[h(342)]();const R=o.current;if(!R)return;f[h(320)]={side:D,startX:b[h(338)],startWidths:{..._[h(320)]}},v(!0),document[h(314)].style.cursor=h(354),document.body.style.userSelect=h(359);const k=X=>{const K=h,Z=f[K(320)];if(!Z)return;const V=R[K(335)]().width;if(r.bZOgj(V,0))return;const P=r.evwRj(X[K(338)],Z.startX),ie=r[K(333)](r.mQCGq(P,V),100);if(Z[K(312)]===r[K(339)])if(K(371)!=="PqOQW")_0x723343[K(320)]?.();else{const J=Z.startWidths.left+ie,q=r.zuIal(100,Z.startWidths[K(343)])-sr;r.BwZlv(i,r.uMRoj(Kd,Math[K(331)](J,q),Z[K(360)].right))}else{const J=r.zuIal(Z.startWidths.right,ie),q=r[K(344)](100,Z[K(360)].left)-sr;r.BwZlv(i,Kd(Z[K(360)][K(364)],Math[K(331)](J,q)))}},G=()=>{const X=h,K=X(356)[X(345)]("|");let Z=0;for(;;){switch(K[Z++]){case"0":window[X(307)](X(350),G);continue;case"1":v(!1);continue;case"2":document[X(314)].style.userSelect="";continue;case"3":window[X(307)](X(329),k);continue;case"4":document.body.style.cursor="";continue;case"5":f[X(320)]=null;continue}break}};window.addEventListener(h(329),k),window[h(357)](r[h(328)],G),w[h(320)]=()=>{const X=h;window[X(307)](T[X(317)],k),window.removeEventListener(X(350),G),f[X(320)]=null,T.pMzxf(v,!1),document[X(314)].style.cursor="",document[X(314)][X(366)][X(363)]=""}},[]),w=r[c(311)]($.useRef,null);$.useEffect(()=>{const D=c;if(D(362)!==r.NaPoY)return()=>{w[D(320)]?.()};{const b=_0x30bcb1[D(327)](D(352)),h=T=>_0x2afbe6(T[D(330)]);return b.addEventListener("change",h),()=>b[D(307)](D(323),h)}},[]);const C=r[c(309)]($.useCallback,()=>{i(i1)},[]);return{widths:a,containerRef:o,onDividerPointerDown:y,onDividerDoubleClick:C,isDragging:p,isDesktop:d}}function Xd({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>r(c,o),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(c,r){const a=Lt,i=c();for(;;)try{if(parseInt(a(227))/1+parseInt(a(313))/2*(parseInt(a(224))/3)+parseInt(a(332))/4*(parseInt(a(321))/5)+parseInt(a(372))/6*(parseInt(a(273))/7)+parseInt(a(361))/8+parseInt(a(218))/9+-parseInt(a(247))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,795846);const sb=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Lt;if(a){const f=a[o(287)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Es=sb(void 0,function(){const c=Lt;return Es.toString().search(c(314))[c(226)]().constructor(Es).search("(((.+)+)+)+$")});Es();function Lt(c,r){c=c-217;const a=Z0();let i=a[c];if(Lt.dRerJY===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Lt.GsYpnw=o,Lt.uWfQwv={},Lt.dRerJY=!0}const f=a[0],p=c+f,v=Lt.uWfQwv[p];if(v)i=v;else{const d=function(m){this.LbPWSE=m,this.wcmRjg=[1,0,0],this.VzTukS=function(){return"newState"},this.jMQMPI="\\w+ *\\(\\) *{\\w+ *",this.MxUXlC=`['|"].+['|"];? *}`};d.prototype.xEQpYx=function(){const m=new RegExp(this.jMQMPI+this.MxUXlC),_=m.test(this.VzTukS.toString())?--this.wcmRjg[1]:--this.wcmRjg[0];return this.KROnJw(_)},d.prototype.KROnJw=function(m){return~m?this.vGQwIY(this.LbPWSE):m},d.prototype.vGQwIY=function(m){for(let _=0,y=this.wcmRjg.length;_<y;_++)this.wcmRjg.push(Math.round(Math.random())),y=this.wcmRjg.length;return m(this.wcmRjg[0])},new d(Lt).xEQpYx(),i=Lt.GsYpnw(i),Lt.uWfQwv[p]=i}return i}function xb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:o,setExpandedGroups:f,zoom:p,pan:v,stageSize:d,CANVAS_MAX_SVG:m,deleteLeafById:_}){const y=Lt,w={vafIy:function(S,g){return S(g)},jmEMo:function(S,g){return S===g},dNdqW:"hCTwh",GvvWJ:function(S,g){return S/g},LqbGv:function(S,g){return S===g},NrjUW:y(300),sChnH:function(S,g){return S+g},GvbPC:function(S,g){return S-g},gWwtg:function(S,g){return S>g},URonD:function(S,g){return S*g},DbWqq:function(S,g){return S*g},xoysb:function(S,g){return S/g},XfuVF:function(S,g){return S*g},GhPBX:function(S,g){return S+g},YhpwW:function(S,g,M){return S(g,M)},Tsqep:function(S,g){return S!==g},diXqu:"umXOB",nqfxV:function(S,g,M){return S(g,M)},pOUoP:function(S,g,M,N){return S(g,M,N)},VdpDj:y(284),CnJJj:function(S,g){return S-g},rxHFW:function(S,g,M,N){return S(g,M,N)},xHzTE:function(S,g){return S-g},fbPup:function(S,g){return S-g},ZejFO:function(S,g,M,N){return S(g,M,N)},FPhqa:y(301),msYIj:y(330),cFbAd:function(S,g){return S(g)},ydzGF:y(324),mbBjW:function(S,g){return S(g)},ZrCoQ:y(360),zvoUB:function(S,g,M,N){return S(g,M,N)},zhSLl:function(S,g){return S<=g},yUYZE:function(S,g,M){return S(g,M)},ZWtYD:function(S,g){return S===g},GLNNn:y(359),JmlIp:function(S,g){return S(g)},SDszE:y(339),YeVRu:y(278),sOhHX:function(S,g){return S(g)},VzQdH:function(S,g,M,N){return S(g,M,N)},sUXZn:y(264),cAPVi:function(S,g,M){return S(g,M)},FYbfx:"ALdlg",zxWfR:"XwTGq",CVoJR:function(S,g){return S===g},dIieA:function(S,g,M,N,L){return S(g,M,N,L)},byKoK:"rqtHy",TpzzO:function(S,g){return S<g},ZLSAV:function(S,g){return S-g},YlcsH:function(S,g,M,N){return S(g,M,N)},QdLwV:"project",ibtDk:y(371),jXNQe:function(S,g){return S>g},LZwCu:function(S,g){return S-g},zsXcr:function(S,g){return S*g},KWeYU:y(369),yIREF:"FZNvO",edTZc:function(S,g){return S(g)},qJfwk:function(S,g){return S===g},ZimOC:y(290),UzmlY:function(S,g,M){return S(g,M)},JQIuP:y(319),FPSaM:"lmtxn",iStlN:y(253),LrhlK:y(259),pNNWi:y(249),NfBOk:function(S,g){return S===g},ddWye:function(S,g){return S===g},Uaduz:"zqrti",lPaZS:function(S,g){return S(g)},iQMVv:y(240),KcrVS:function(S,g){return S(g)},iyqFc:function(S,g){return S>g},awZnb:function(S,g){return S(g)},XQfid:function(S,g){return S>g},GfYef:function(S,g){return S(g)},SZTfv:function(S,g){return S!==g},VkNjs:"FQRzA",QPxwD:"hGVro",BDJBe:function(S,g){return S/g},XmIOc:function(S,g){return S/g},JbOzF:function(S,g){return S/g},NodUc:y(350),hJTnJ:function(S,g){return S*g},nucxq:function(S,g,M,N){return S(g,M,N)},Enfnz:function(S,g){return S-g},RbrqG:function(S,g){return S/g},BhoAZ:y(258),qDucc:function(S,g){return S(g)},NKstW:function(S,g,M){return S(g,M)},bAFuR:function(S,g){return S(g)},bmvFh:function(S,g){return S(g)},LcykA:y(337),UUroZ:function(S,g){return S(g)},TZQsT:function(S,g){return S(g)},URrsn:function(S,g){return S(g)},NjOPD:"flowers",hlkgn:function(S,g){return S(g)},gKkoT:function(S,g){return S===g},ugEQs:function(S,g){return S!==g},JVIsG:y(236),TtXXz:function(S,g){return S===g},tjBFz:function(S,g){return S(g)},LYesw:"nlYQg",xbeNZ:function(S,g){return S(g)},gSeCo:function(S,g,M){return S(g,M)},JsClp:function(S,g,M){return S(g,M)},nwUKV:function(S,g,M){return S(g,M)}},C=S=>{const g=y,M=[...S.layers].sort((E,O)=>E.order-O[g(364)]),N=M[0];if(!N)return 28;const L=S[g(256)]??c.fabricSquareSize,{length:I}=w[g(221)](Ht,L),B=I*(N.scale??1);let z;if(w.jmEMo(S[g(234)],""))w.dNdqW!=="kDGCC"?z=w[g(367)](B,3):(_0x430657.stencils||(_0x17a825.stencils=[]),_0x2a59d5[g(302)][g(233)](_0x4d9338));else if(w[g(251)](g(300),w[g(311)])){const O=70*Math.PI/180,U=w.sChnH(M[g(262)],1),W=w[g(327)](U,1),le=w.gWwtg(U,1)?w.URonD(w.GvvWJ(W,w[g(327)](U,1)),O):0;z=w[g(239)](B*(30/100),Math[g(335)](le))}else _0xccb4d7[g(302)]=(_0x5d1c7a[g(302)]??[]).filter(E=>E.id!==_0x330534[g(283)]);return w.xoysb(Math.round(w[g(231)](w.GhPBX(N[g(334)]??28,z),10)),10)},D=S=>{const g=y;w.YhpwW(r,M=>{const N=Lt;if(M[N(223)]=(M.flowers||[])[N(349)](L=>L.id!==S),M.groups){for(const L of M.groups)L[N(285)]=L[N(285)][N(349)](I=>I!==S);M[N(316)]=M[N(316)][N(349)](L=>L[N(285)][N(262)]+L[N(265)].length>0)}},!0),i({kind:g(325)}),o(M=>{const N={...M||{}};return delete N[S],N})},b=(S,g)=>{const M=y,N=c.flowers[M(244)](L=>L.id===S);if(N&&(N[M(343)]||[])[M(262)]<=1){D(S);return}w[M(329)](r,L=>{const I=M,B={LYJdx:function(z,E){return z(E)},zFuRi:I(290)};if(w.Tsqep("tlZHi",w[I(358)])){const z=(L[I(223)]||[]).find(E=>E.id===S);if(!z)return;z.layers=(z[I(343)]||[]).filter(E=>E.id!==g),z.layers[I(340)]().sort((E,O)=>E.order-O.order)[I(222)]((E,O)=>E[I(364)]=O+1)}else B[I(279)](_0x5b4f68,{kind:B.zFuRi,flowerIds:[_0x174dda],leafIds:[_0x407627[I(281)]]})},!0),i({kind:"flower",flowerId:S})},h=S=>{const g=y,M=c.flowers[g(244)](W=>W.id===S);if(!M)return;const N=[...M[g(343)]].sort((W,le)=>W[g(364)]-le[g(364)]),L=N[0],I=w[g(376)](ye,L?.petalCount??6,5,24),B=N[g(304)](W=>W[g(341)]??1),z=B[g(262)]<2||B[g(286)](W=>Math.abs(W-B[0])<.001);let E=L?.[g(341)]??1;if(!z&&N.length>=2){const W=N[w[g(276)](N[g(262)],1)],le=w.fbPup(W[g(364)]??1,L.order??1);if(w.gWwtg(le,0)){const xe=((L[g(341)]??1)-(W.scale??1))/le;E=w.ZejFO(ye,(L[g(341)]??1)+xe,.3,3)}}const O=C(M),U={id:w.vafIy(qt,w[g(296)]),name:"Outer+",order:1,petalType:L?.[g(274)]??w[g(336)],petalCount:I,radius:O,scale:E,widthScale:w.cFbAd(xi,I),offsetAngle:L?.[g(299)]??0,colorId:L?.colorId??c.palette?.[0]?.id??w[g(291)],visible:!0,locked:!1};L&&(U[g(299)]=w.ZejFO(nl,L[g(366)],L[g(299)]??0,I)),r(W=>{const le=g,xe=W.flowers[le(244)](Ie=>Ie.id===S);if(!xe)return;xe[le(343)][le(222)](Ie=>Ie[le(364)]+=1),xe.layers[le(322)](U);const me=Math.round(w.pOUoP(ar,U[le(334)],U.scale,xe.fabricSquareSize??W.fabricSquareSize)),fe=xe.fabricSquareSize??W[le(256)],ge=xe[le(234)]===""?cr(fe,xe.layers[le(262)],w.VdpDj,0):na(xe[le(303)]??W[le(303)],fe,{layerCount:xe[le(343)][le(262)]})[le(243)];xe[le(241)]=Math.max(xe[le(241)]||ge,me);const de=[...xe.layers][le(271)]((Ie,Je)=>Ie[le(364)]-Je[le(364)]),De=de.reverse();for(let Ie=1;Ie<De[le(262)];Ie++){const Je=De[w.CnJJj(Ie,1)],rt=De[Ie];rt[le(299)]=nl(Je[le(366)],Je[le(299)],rt.petalCount)}},!0),i({kind:"layer",flowerId:S,layerId:U.id}),w.mbBjW(o,W=>({...W,[S]:!0}))},T=S=>{const g=y,M=c[g(223)][g(244)](I=>I.id===S);if(!M||!M.layers||M.layers[g(262)]===0)return;if(w.zhSLl(M.layers[g(262)],1)){w[g(221)](D,S);return}const N=[...M[g(343)]].sort((I,B)=>I.order-B[g(364)]),L=N[0];L&&(w.yUYZE(r,I=>{const B=g,z=I[B(223)].find(U=>U.id===S);if(!z)return;z[B(343)]=z.layers[B(349)](U=>U.id!==L.id),z.layers[B(340)]()[B(271)]((U,W)=>U.order-W[B(364)]).forEach((U,W)=>U[B(364)]=W+1);const E=[...z[B(343)]].sort((U,W)=>U[B(364)]-W.order),O=z.fabricSquareSize??I[B(256)];if(w.gWwtg(E.length,0)){w.YhpwW(bs,E,O);for(const le of E)if(w[B(342)]!==B(360)){const xe=(_0x22c47f[B(316)]??[]).find(me=>me.id===_0xee51ab);if(!xe)return;xe[B(248)]=[_0x5c9a36(xe)];for(const me of _0x3d03a7)xe[B(285)][B(308)](me)||xe.flowerIds.push(me)}else{const xe=z.layers.find(me=>me.id===le.id);xe&&(xe[B(334)]=le[B(334)])}const U=E[0];z[B(241)]=Math[B(362)](ar(U.radius,U.scale??1,O));const W=[...E].reverse();for(let le=1;le<W[B(262)];le++){const xe=W[le-1],me=W[le];me[B(299)]=w.zvoUB(nl,xe.petalCount,xe.offsetAngle,me[B(366)])}}},!0),w.ZWtYD(a[g(365)],w[g(232)])&&a.layerId===L.id?w.JmlIp(i,{kind:w.SDszE,flowerId:S}):a.kind===w.YeVRu&&a.layerId===L.id&&w.sOhHX(i,{kind:w[g(375)],flowerId:S}))},R=()=>{const S=y,g={MJVjj:function(M,N,L){return M(N,L)},DnAeb:w[S(317)],FZKxL:function(M,N){return M>N},YQkHO:w[S(229)],XVtAd:function(M,N){return M(N)},WbKzK:function(M,N){return w[S(269)](M,N)},DMSkM:function(M,N){return M-N},NEUZT:function(M,N){return w.jXNQe(M,N)},NKAiZ:function(M,N){return M/N},oiywO:function(M,N){return w.LZwCu(M,N)},QZLSi:function(M,N){return w[S(310)](M,N)},bAlfK:function(M,N){return M*N},LvKny:function(M,N){return w[S(254)](M,N)}};if(!w.ZWtYD(a.kind,w[S(317)])){if(a[S(365)]==="leaf"){_(a[S(281)]);return}if(a[S(365)]===w[S(338)]){if(w[S(326)]!=="FZNvO")return;{const M=a[S(265)];w.YhpwW(r,N=>{const L=S;if(N.leaves=(N[L(369)]??[])[L(349)](I=>!M[L(308)](I.id)),N.groups){for(const I of N[L(316)])if(w[L(318)]===w.sUXZn)I.leafIds=I.leafIds.filter(B=>!M[L(308)](B));else{const B=KntNyJ[L(356)](_0x5200f4.scale??1,_0x3d4e77.scale??1)/_0x3bc386;_0x281092=KntNyJ[L(252)](_0x49e703,KntNyJ.DezEx(_0x14c5ba.scale??1,B),.3,3)}N[L(316)]=N.groups.filter(I=>I.flowerIds[L(262)]+I[L(265)][L(262)]>0)}},!0),w.edTZc(i,{kind:"project"});return}}if(w.qJfwk(a[S(365)],w.ZimOC)){const{flowerIds:M,leafIds:N}=a;w.UzmlY(r,L=>{const I=S;if(L[I(223)]=L[I(223)][I(349)](B=>!M[I(308)](B.id)),L.leaves=(L.leaves??[])[I(349)](B=>!N[I(308)](B.id)),L.groups){for(const B of L.groups)B[I(285)]=B[I(285)][I(349)](z=>!M[I(308)](z)),B.leafIds=B.leafIds[I(349)](z=>!N.includes(z));L.groups=L[I(316)][I(349)](B=>B.flowerIds[I(262)]+B[I(265)][I(262)]>0)}},!0),i({kind:"project"});return}if(a.kind===S(223)){const M=a.flowerIds;r(N=>{const L=S;if(N.flowers=N.flowers.filter(I=>!M.includes(I.id)),N[L(316)]){for(const I of N.groups)I[L(285)]=I[L(285)][L(349)](B=>!M.includes(B));N.groups=N.groups[L(349)](I=>I.flowerIds[L(262)]+I.leafIds[L(262)]>0)}},!0),i({kind:"project"});return}if(a[S(365)]===w[S(320)])if(w.Tsqep(w.FPSaM,S(246))){for(const M of _0x236f38[S(316)])M[S(265)]=M.leafIds[S(349)](N=>!_0x26a1f5.includes(N));_0x1dac35.groups=_0x3e40de[S(316)][S(349)](M=>M[S(285)].length+M[S(265)].length>0)}else{r(M=>{const N=S;if(w.Tsqep("MPWfe","MPWfe")){const{flowerIds:L,leafIds:I}=_0x908832;g.MJVjj(_0x2a1d76,B=>{const z=Lt;if(B[z(223)]=B[z(223)][z(349)](E=>!L[z(308)](E.id)),B.leaves=(B.leaves??[])[z(349)](E=>!I.includes(E.id)),B[z(316)]){for(const E of B[z(316)])E[z(285)]=E[z(285)].filter(O=>!L[z(308)](O)),E.leafIds=E[z(265)][z(349)](O=>!I.includes(O));B[z(316)]=B[z(316)][z(349)](E=>E[z(285)][z(262)]+E.leafIds[z(262)]>0)}},!0),_0x3ac36d({kind:g[N(289)]});return}else{if(!M.groups)return;M.groups=M.groups[N(349)](L=>L.id!==a.groupId)}},!0),i({kind:"project"});return}if(a.kind===w[S(306)]){r(M=>{const N=S;if(N(238)!=="DtipF")M.stencils=(M[N(302)]??[]).filter(L=>L.id!==a[N(283)]);else{_0x3e77eb(L=>{const I=N;L[I(316)]&&(L[I(316)]=L.groups[I(349)](B=>B.id!==_0x39d4f7[I(331)]))},!0),_0x4613b6({kind:N(325)});return}},!0),i({kind:"project"});return}if(a.kind===w[S(309)])if(w.pNNWi!==S(249)){if(!_0x2a5648[S(316)])return;_0x157aba.groups=_0x260d1b[S(316)][S(349)](M=>M.id!==_0x475427[S(331)])}else{i({kind:"flower",flowerId:a.flowerId});return}if(w.NfBOk(a[S(365)],"flower")){r(M=>{const N=S,L={owCWZ:function(I,B,z){return g[Lt(292)](I,B,z)},OXJzk:function(I,B){return g.FZKxL(I,B)}};if(M[N(223)]=M[N(223)][N(349)](I=>I.id!==a.flowerId),M[N(316)]){for(const I of M.groups)if(N(371)!==g.YQkHO){_0x10754b.groups||(_0x2b9883.groups=[]);const B=_0x55005a.groups[N(304)](E=>{const O=N,U=E[O(295)][O(293)](/^ (\d+)$/);return U?L.owCWZ(_0x36c9c3,U[1],10):0}),z=L.OXJzk(B[N(262)],0)?_0x4002ec.max(...B)+1:1;_0x59f5d3.groups[N(233)]({id:_0x4a362d,name:" "+z,flowerIds:[..._0x3eeff4],leafIds:[],rotation:0})}else I.flowerIds=I[N(285)].filter(B=>B!==a[N(354)]);M.groups=M.groups[N(349)](I=>I[N(285)][N(262)]+I[N(265)][N(262)]>0)}},!0),i({kind:S(325)});return}if(w.NfBOk(a[S(365)],w[S(232)])||a.kind===S(278)){const M=c.flowers[S(244)](L=>L.id===a.flowerId),N=M?w.ZWtYD([...M.layers][S(271)]((L,I)=>L.order-I.order)[0]?.id,a.layerId):!1;r(L=>{const I=S,B=L[I(223)].find(z=>z.id===a[I(354)]);if(B&&(B.layers=B.layers[I(349)](z=>z.id!==a[I(280)]),B[I(343)].slice().sort((z,E)=>z[I(364)]-E[I(364)]).forEach((z,E)=>z[I(364)]=E+1),w.gWwtg(B.layers.length,0))){const z=[...B.layers].sort((U,W)=>U[I(364)]-W[I(364)]),E=B[I(256)]??L.fabricSquareSize;w.cAPVi(bs,z,E);for(const U of z)if(w.FYbfx!==w[I(230)]){const W=B.layers.find(le=>le.id===U.id);W&&(W[I(334)]=U.radius)}else{g.XVtAd(_0x11d8ac,_0x2760a.leafId);return}if(N){const U=z[0];B.flowerDiameter=Math[I(362)](w.VzQdH(ar,U[I(334)],U.scale??1,E))}else{const U=w.CVoJR(B.placementMode,"")?w[I(373)](cr,E,B.layers[I(262)],I(284),0):na(B[I(303)]??L[I(303)],E,{layerCount:B.layers[I(262)]})[I(243)];V0(z,E,B.flowerDiameter||U);for(const W of z)if(w.byKoK===w[I(220)]){const le=B[I(343)][I(244)](xe=>xe.id===W.id);le&&(le.radius=W.radius,le.scale=W.scale)}else{const le=[..._0x4074dc[I(343)]].sort((De,Ie)=>De.order-Ie[I(364)]),xe=le[0];if(!xe)return 28;const me=_0x17a9d5[I(256)]??_0x36a5d0[I(256)],{length:fe}=IhMFAF.XVtAd(_0x356da1,me),ge=fe*(xe.scale??1);let de;if(_0x35211[I(234)]==="")de=IhMFAF.WbKzK(ge,3);else{const Ie=70*_0x3b6692.PI/180,Je=le[I(262)]+1,rt=IhMFAF[I(245)](Je,1),qe=IhMFAF[I(345)](Je,1)?IhMFAF[I(242)](rt,IhMFAF[I(323)](Je,1))*Ie:0;de=IhMFAF.QZLSi(IhMFAF.bAlfK(ge,30/100),_0x2f1ce3[I(335)](qe))}return _0x33ec18[I(362)](IhMFAF[I(272)](xe[I(334)]??28,de)*10)/10}}const O=[...z][I(237)]();for(let U=1;w.TpzzO(U,O.length);U++){const W=O[w.ZLSAV(U,1)],le=O[U];le[I(299)]=w[I(260)](nl,W[I(366)],W.offsetAngle,le.petalCount)}}},!0),i({kind:w[S(375)],flowerId:a[S(354)]})}}},k=S=>({id:S.id,name:S.name,flowerIds:[...S.flowerIds],leafIds:[...S.leafIds],rotation:S.rotation}),G=w[y(261)]($.useCallback,S=>{const g=y,M={RWDXs:function(N,L){return N>L},vuZqG:function(N,L){return N+L}};if(w[g(333)]("hzmZS",w.Uaduz)){if(!_0x3e1598.groups)return;const N=_0x49f549[g(316)][g(244)](L=>L.id===_0x22cb89);if(!N)return;if(N[g(248)]&&w[g(282)](N.previousGroups[g(262)],0)){_0x1bf71e[g(316)]=_0x2561a1[g(316)][g(349)](L=>L.id!==_0x9ede3);for(const L of N[g(248)])_0x21ef00[g(316)][g(233)]({id:L.id,name:L.name,flowerIds:[...L[g(285)]],leafIds:[...L.leafIds],rotation:L.rotation})}else _0x9982d0.groups=_0x2d2c98.groups.filter(L=>L.id!==_0x244406)}else{const N=w[g(328)](qt,w.iQMVv);r(L=>{const I=g;L.groups||(L.groups=[]);const B=L.groups[I(304)](E=>{const O=I,U=E[O(295)].match(/^ (\d+)$/);return U?parseInt(U[1],10):0}),z=M[I(347)](B[I(262)],0)?M.vuZqG(Math[I(305)](...B),1):1;L.groups.push({id:N,name:" "+z,flowerIds:[...S],leafIds:[],rotation:0})},!0),w[g(348)](i,{kind:g(319),groupId:N}),w.KcrVS(f,L=>({...L,[N]:!0}))}},[r,i,f]),X=$.useCallback((S,g)=>{const M=y,N=w.cFbAd(qt,w[M(266)]);w[M(329)](r,L=>{const I=M,B={ohJRM:function(O,U,W){return w[Lt(329)](O,U,W)}};L[I(316)]||(L[I(316)]=[]);const z=L[I(316)][I(304)](O=>{const U=O.name.match(/^ (\d+)$/);return U?B.ohJRM(parseInt,U[1],10):0}),E=w.iyqFc(z.length,0)?w[I(254)](Math[I(305)](...z),1):1;L.groups.push({id:N,name:I(297)+E,flowerIds:[...S],leafIds:[...g],rotation:0})},!0),i({kind:w[M(320)],groupId:N}),w[M(263)](f,L=>({...L,[N]:!0}))},[r,i,f]),K=w.YhpwW($.useCallback,S=>{r(g=>{const M=Lt;if(!g[M(316)])return;const N=g[M(316)][M(244)](L=>L.id===S);if(N)if(N[M(248)]&&w[M(294)](N.previousGroups[M(262)],0)){g[M(316)]=g.groups[M(349)](L=>L.id!==S);for(const L of N.previousGroups)if(M(235)==="FbcRU"){_0x3db86d(_0x4b3d98);return}else g[M(316)][M(233)]({id:L.id,name:L[M(295)],flowerIds:[...L.flowerIds],leafIds:[...L.leafIds],rotation:L[M(298)]})}else g.groups=g.groups.filter(L=>L.id!==S)},!0),i({kind:"project"})},[r,i]),Z=w[y(344)]($.useCallback,S=>{const g=y;w[g(277)](r,M=>{const N=g;M[N(316)]&&(M.groups=M[N(316)][N(349)](L=>L.id!==S))},!0),i({kind:g(325)})},[r,i]),V=$.useCallback((S,g)=>{const M=y;r(N=>{const L=Lt,I=(N[L(316)]??[]).find(B=>B.id===S);if(I){I.previousGroups=[k(I)];for(const B of g)I[L(285)].includes(B)||I.flowerIds.push(B)}},!0),w.GfYef(i,{kind:M(319),groupId:S})},[r,i]),P=w.nwUKV($.useCallback,(S,g)=>{const M=y,N=S[0],L=S[M(340)](1);r(I=>{const B=M;if(!I.groups)return;const z=I.groups[B(244)](O=>O.id===N);if(!z)return;const E=[];for(const O of S){const U=I[B(316)].find(W=>W.id===O);U&&E.push(k(U))}z.previousGroups=E;for(const O of L){const U=I[B(316)].find(W=>W.id===O);if(U){for(const W of U[B(285)])w.SZTfv(w[B(217)],w.QPxwD)?z.flowerIds[B(308)](W)||z[B(285)][B(233)](W):_0x521ab1[B(299)]=_0x41c56d(_0x227f6a[B(366)],_0x257a90[B(299)]??0,_0xf043f8);for(const W of U.leafIds)z[B(265)].includes(W)||z.leafIds[B(233)](W)}}for(const O of g)z.flowerIds.includes(O)||z[B(285)].push(O);I.groups=I.groups.filter(O=>!L[B(308)](O.id))},!0),i({kind:"group",groupId:N}),f(I=>({...I,[N]:!0}))},[r,i,f]),ie=(S,g)=>{const M=y,N=w.BDJBe(d.w,d.h),L=w[M(269)](520,p),I=L*N,B=w.GvvWJ(-v.x,p),z=w[M(363)](-v.y,p),E=w.GhPBX(B,I/2),O=z+w.JbOzF(L,2),U=w.CVoJR(g,M(350))?w.NodUc:"side",W=w.hJTnJ(e1[S][U].height,rn),le=w.nucxq(ye,E,0,m),xe=ye(w.Enfnz(O,w[M(307)](W,2)),0,m),me={id:w[M(348)](qt,w.BhoAZ),variant:S,pose:g,position:{x:le,y:xe}};r(fe=>{fe.stencils||(fe.stencils=[]),fe.stencils.push(me)},!0),w[M(255)](i,{kind:"stencil",stencilId:me.id})},J=S=>{const g=y;w[g(288)](r,M=>{const N=g;M.stencils=(M.stencils??[])[N(349)](L=>L.id!==S)},!0),a[g(365)]===w.iStlN&&a[g(283)]===S&&i({kind:g(325)})},q=$.useCallback(S=>{const g=y;if(w.qJfwk(a[g(365)],g(223))){const M=a[g(285)];if(M[g(308)](S)){const N=M.filter(L=>L!==S);N.length===0?w[g(225)](i,{kind:w[g(317)]}):N.length===1?w.sOhHX(i,{kind:"flower",flowerId:N[0]}):i({kind:"flowers",flowerIds:N})}else w.bmvFh(i,{kind:"flowers",flowerIds:[...M,S]})}else if(a.kind===w[g(375)]){if(a.flowerId===S)return;w[g(328)](i,{kind:"flowers",flowerIds:[a.flowerId,S]})}else if(a[g(365)]===w[g(320)]){const M=(c.groups??[]).find(L=>L.id===a.groupId),N=M?M[g(285)]:[];if(N.includes(S)){if(w[g(353)](g(228),g(312)))return;_0x1c68b3.groups=_0x597240.groups.filter(L=>L.id!==_0x1594b7)}i({kind:g(223),flowerIds:[...N,S]})}else if(a.kind===w[g(267)])i({kind:g(290),flowerIds:[S],leafIds:[a.leafId]});else if(a[g(365)]===g(369))i({kind:"mixed",flowerIds:[S],leafIds:a[g(265)]});else if(a[g(365)]==="mixed"){const M=a[g(285)],N=a[g(265)];if(M[g(308)](S)){const L=M[g(349)](I=>I!==S);L[g(262)]===0&&w.jmEMo(N[g(262)],0)?i({kind:"project"}):w[g(368)](L[g(262)],0)&&N.length===1?i({kind:"leaf",leafId:N[0]}):w[g(333)](L[g(262)],0)?i({kind:g(369),leafIds:N}):N[g(262)]===0&&w.NfBOk(L.length,1)?w[g(346)](i,{kind:g(339),flowerId:L[0]}):N.length===0?w[g(374)](i,{kind:g(223),flowerIds:L}):w[g(268)](i,{kind:"mixed",flowerIds:L,leafIds:N})}else i({kind:w.ZimOC,flowerIds:[...M,S],leafIds:N})}else w[g(352)](i,{kind:w[g(351)],flowerIds:[S]})},[a,i,c.groups]);return{deleteFlowerById:D,deleteLayerById:b,computeNewOuterRadius:C,addOuterLayer:h,deleteOuterLayer:T,deleteSelected:R,groupSelectedFlowers:G,groupSelectedMixed:X,ungroupFlowers:K,ungroupAll:Z,addToGroup:V,mergeGroups:P,addStencil:ie,deleteStencil:J,handleShiftFlowerSelect:q,togglePetalSelection:(S,g,M,N)=>{const L=y,I={tFJae:function(z,E){return w[Lt(355)](z,E)},ZCpfC:L(278),euMFW:function(z,E,O){return z(E,O)}};if(!N){w.hlkgn(i,{kind:w.YeVRu,flowerId:S,layerId:g,index:M});return}const B=g+":"+M;if(w.gKkoT(a[L(365)],L(259))&&a[L(354)]===S){const z=a.petals||[];if(z.some(O=>O.layerId+":"+O[L(270)]===B))if(w.ugEQs("SInrh",w.JVIsG)){I.tFJae(_0x49be16,{kind:I[L(250)],flowerId:_0x48efb2,layerId:_0x14e24b,index:_0xa34bc2});return}else{const O=z[L(349)](U=>U.layerId+":"+U[L(270)]!==B);w[L(219)](O.length,0)?i({kind:L(339),flowerId:S}):w.TtXXz(O.length,1)?i({kind:L(278),flowerId:S,layerId:O[0][L(280)],index:O[0][L(270)]}):w.tjBFz(i,{kind:w[L(309)],flowerId:S,petals:O})}else if(L(357)!==w[L(275)]){const O=_0x280652.name[L(293)](/^ (\d+)$/);return O?YgElyD.euMFW(_0x1f5a1d,O[1],10):0}else w[L(328)](i,{kind:w.LrhlK,flowerId:S,petals:[...z,{layerId:g,index:M}]})}else if(w.qJfwk(a.kind,L(278))&&a.flowerId===S){const z={layerId:a[L(280)],index:a.index},E={layerId:g,index:M};if(w.gKkoT(z[L(280)]+":"+z[L(270)],B))return;w[L(257)](i,{kind:"petals",flowerId:S,petals:[z,E]})}else i({kind:w[L(309)],flowerId:S,petals:[{layerId:g,index:M}]})}}}function Z0(){const c=["BNfMEfy","5lI444gK44g+44g/","z3jVDxbjza","mZm1ntC2wezmveLT","zgrxEwu","CMfKAxvZ","y29Z","BxnzswO","BgvHzG","s1DLwvu","zMXVD2vY","C2XPy2u","C2nHBgu","wNjdB1e","Bgf5zxjZ","sNndBha","tKvvwLq","vvvYB1O","uLDewhm","zwruwMm","zMLSDgvY","yMfJAW","tMPpueq","yM12rMG","u1PuzNy","zMXVD2vYswq","y0zIqwq","wenPyMW","BMXzuwC","zgLyCxu","Bgf5zxi","BwXvthy","ote4nta4menmtvzQqW","CM91BMq","wg1jt2m","B3jKzxi","A2LUza","Cgv0ywXdB3vUDa","r3z2v0O","q1zVsLi","BgvHDMvZ","C0nOBKG","tvjkzMu","mZy4mtm2AuLezLPM","zeLPzue","vfPrC1q","u0rZEKu","CNHirLC","vMToANm","mZGZmZCXmKD1D1nyCq","z0TRB1q","yNLlB0S","DMfMsxK","zM9YrwfJAa","zMXVD2vYCW","m2P1uwfJwG","yKfgDvi","Dg9tDhjPBMC","nZe1ntq2z2HuBgnY","rwrZCg4","Awj0rgS","ENHxzLi","wgz1vKy","r0XotM4","ChvZAa","CgXHy2vTzw50tw9Kzq","uwPLtui","u0LUCMG","CMv2zxjZzq","t2fZBNa","rgjxCxe","z3jW","zMXVD2vYrgLHBwv0zxi","tKTbAvO","zgLHBwv0zxi","zMLUza","re1tA00","Bg10Eg4","mZyWnJaYnJboCe9MB1G","ChjLDMLVDxnhCM91Chm","zKXPtKG","wKnWzKm","thfIr3y","tfbKwwS","C3rLBMnPBa","r2HqqLG","Cur1y2m","zMfICMLJu3f1yxjLu2L6zq","EgjLtLO","C3rS","Cgv0ywXZ","wwXJC0G","z1nLq28","BgvUz3rO","yxDABMi","DNDkCxy","BgvHzKLKCW","AvfnvNy","tgn5A0e","vvjYC24","Eg95C2i","Aw5KzxG","C29YDa","thzlBNK","mtu0ueniu3je","Cgv0ywXuExbL","tfLLC3C","EeH6veu","EvvzwKu","Cgv0ywW","tfLkzhG","Bgf5zxjjza","BgvHzKLK","z1D3DgC","C3rLBMnPBeLK","Dw5PzM9YBq","zMXVD2vYswrZ","zxzLCNK","yxbWBhK","tKTZDfC","rg5bzwi","BwL4zwq","Ewr6r0y","tuPwAMO","Bwf0y2G","wffMAwq","BMfTzq","rLbOCwe","44kW44oR44o844oxia","CM90yxrPB24","B2zMC2v0qw5NBgu","q0HzsLK","Bgf5","C3rLBMnPBhm","yMfZzurPyw1LDgvY","BwfW","Bwf4","Avn0Be4","uMjYCuC","Aw5JBhvKzxm","thjOBeS","ENnyy3i","tNjQvvC","uerju3C","mtaYmtqXohrUrwn4sq","kcGOlISPkYKRksSK","vNPrzeG","z3jVDxbZ","uwrmD1y","C1vywM4","z3jVDxa","sLfjDva","mtvlteTpCMG","Dw5ZAgLMDa","B2L5D08","y29Sx2DYzwvU","ChjVAMvJDa","EuLsruy","r3zIuem","BfbHwLm"];return Z0=function(){return c},Z0()}(function(c,r){const a=Jt,i=c();for(;;)try{if(parseInt(a(334))/1*(parseInt(a(354))/2)+-parseInt(a(318))/3+-parseInt(a(299))/4*(-parseInt(a(305))/5)+parseInt(a(311))/6+-parseInt(a(349))/7+-parseInt(a(341))/8*(parseInt(a(302))/9)+parseInt(a(301))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,986225);function Y0(){const c=["BwL4zwq","mZe5odG4nvnmEfbbvq","tvv1vgi","zMXVD2vY","AvnTAfi","sePSB1u","ChjLDMLVDxnhCM91Chm","uMfAyvC","su5QAvK","zMLUza","zMXVD2vYswq","vvbZthi","ChvZAa","C2vHCMnO","D05fv0O","BMfTzq","DwnizhO","nJa0mKP1Cez3rG","BwfW","zMXVD2vYCW","sgHizMy","D1jjzMq","thfWrwy","rhzkD20","ohjOA1zJwG","zMLSDgvY","ChjVAMvJDa","sfvZC2G","z3jVDxbjza","rMjMD2O","BgvHzKLKCW","ChfrtKW","nJG5odu0mNHRs0rmCq","uMPsqw8","D01dtw0","t2HmEeu","Bwf0y2G","mJa2tKvfALnm","z3jVDxa","ALvos3O","zMres2e","z3jVDxbZ","BgvHDMvZ","Aw5JBhvKzxm","z3jW","ywHytuS","zgftwKW","Dg9tDhjPBMC","BgvHzKLK","vhfyveq","DvHKAMi","uMngC0i","ndqWmtjisu54sw0","s0THExu","mtG3nde3odb6y3bsuhy","nJm1ndy0ofrhvK9kDW","A2LUza","Cfjlv3m","mZm1tLDMsKjh","BgvUz3rO","zuHpsNq","BeLOrfm","q21nrg0","CM90yxrPB24","mZa2mJm1ofjQEwD2qq","BNvPvgC","zMXVD2vYswrZ","vvbqwNm","v2HVuvG","rK5Lwfi"];return Y0=function(){return c},Y0()}function Jt(c,r){c=c-292;const a=Y0();let i=a[c];if(Jt.jkNLZr===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Jt.tZDgbX=o,Jt.BarmJX={},Jt.jkNLZr=!0}const f=a[0],p=c+f,v=Jt.BarmJX[p];if(v)i=v;else{const d=function(m){this.vCXgdm=m,this.bohVTf=[1,0,0],this.yvWakS=function(){return"newState"},this.iQvzpn="\\w+ *\\(\\) *{\\w+ *",this.tvpoqz=`['|"].+['|"];? *}`};d.prototype.mhAlku=function(){const m=new RegExp(this.iQvzpn+this.tvpoqz),_=m.test(this.yvWakS.toString())?--this.bohVTf[1]:--this.bohVTf[0];return this.PNkGsZ(_)},d.prototype.PNkGsZ=function(m){return~m?this.xYOsBC(this.vCXgdm):m},d.prototype.xYOsBC=function(m){for(let _=0,y=this.bohVTf.length;_<y;_++)this.bohVTf.push(Math.round(Math.random())),y=this.bohVTf.length;return m(this.bohVTf[0])},new d(Jt).mhAlku(),i=Jt.tZDgbX(i),Jt.BarmJX[p]=i}return i}const ob=(function(){const c=Jt,r={Obegm:function(i,o){return i!==o},HQToO:c(325),nPMKF:"wClYc"};let a=!0;return function(i,o){const f=a?function(){if(r.Obegm(r.HQToO,r.nPMKF)){if(o){const p=o.apply(i,arguments);return o=null,p}}else _0x1d1d36({kind:"mixed",flowerIds:_0x114bdc.flowerIds,leafIds:[_0x89ff3e]})}:function(){};return a=!1,f}})(),qs=ob(void 0,function(){const c=Jt,r={nUYYB:"(((.+)+)+)+$"};return qs[c(294)]()[c(330)](r.nUYYB).toString().constructor(qs)[c(330)](r.nUYYB)});qs();function fb({project:c,applyUpdate:r,selection:a,setSelection:i}){const o=Jt,f={lIhDS:function(b,h){return b===h},HhHff:"gNrle",UPsLr:function(b,h){return b(h)},DvJwm:"leaves",daSZL:function(b,h,T){return b(h,T)},hEzhd:function(b,h){return b(h)},FtNJU:"project",OhLxE:"ZTseV",eHOJt:function(b,h){return b!==h},LqpEf:o(296),nuiTg:function(b,h){return b(h)},pRKWs:"leaf",HJloU:function(b,h){return b(h)},ucHdz:function(b,h){return b===h},WhoQX:"mixed",RaZaW:o(336),jUNKz:function(b,h){return b(h)},GVZSR:function(b,h){return b===h},xHZoQ:function(b,h){return b===h},woqxI:function(b,h){return b(h)},ahXMK:function(b,h){return b===h},fdDKa:function(b,h){return b(h)},KKayu:function(b,h){return b===h},TZswE:function(b,h){return b===h},cowvV:function(b,h){return b(h)},RcFsB:function(b,h){return b(h)},iSmhR:"YLTtp",MUuTb:function(b,h){return b(h)},zYGVh:"GibVx",uXdjb:function(b,h){return b>h},vmTHM:o(355),IxkXt:function(b,h){return b!==h},TMndY:o(314),wRIfd:function(b,h){return b===h},HUssh:o(348),PVJqF:function(b,h,T){return b(h,T)},CjXQi:function(b,h,T){return b(h,T)},Uygop:function(b,h,T){return b(h,T)}},p=b=>{const h=o,T={wMCMm:function(R,k){return f.UPsLr(R,k)},qRsDa:f[h(340)]};f[h(293)](r,R=>{const k=h;if(R[k(359)]=(R[k(359)]??[]).filter(G=>G.id!==b),R[k(358)])if(f[k(308)](f[k(337)],"gNrle")){for(const G of R[k(358)])G.leafIds=G[k(347)].filter(X=>X!==b);R[k(358)]=R.groups[k(342)](G=>G[k(313)].length+G[k(347)][k(306)]>0)}else T[k(351)](_0x27e74b,{kind:T.qRsDa,leafIds:_0x252dbb})},!0),f.hEzhd(i,{kind:f.FtNJU})},v=f.PVJqF($.useCallback,b=>{const h=o;if(f[h(308)](a[h(303)],h(359))){const T=a.leafIds;if(T[h(360)](b)){const R=T.filter(k=>k!==b);R[h(306)]===0?f[h(352)]!=="Twgys"?i({kind:h(343)}):_0x2a622c.flowerIds.includes(_0x284096)||_0x3d152c.flowerIds.push(_0x24887c):R.length===1?f.eHOJt("TqXTD",f[h(339)])?_0x4594ea.leafIds.includes(_0x2ea61b)||_0x8c07ef.leafIds[h(329)](_0x4a83d5):f[h(312)](i,{kind:f.pRKWs,leafId:R[0]}):i({kind:f.DvJwm,leafIds:R})}else if(h(331)==="wNEWJ")f[h(322)](i,{kind:h(359),leafIds:[...T,b]});else{_0x441876[h(358)]=_0x1ec5b6[h(358)].filter(R=>R.id!==_0x36f5f7);for(const R of _0x2b7140[h(323)])_0x2bf839[h(358)].push({id:R.id,name:R[h(332)],flowerIds:[...R[h(313)]],leafIds:[...R.leafIds],rotation:R[h(310)]})}}else if(f[h(333)](a[h(303)],f[h(304)])){if(a.leafId===b)return;f.UPsLr(i,{kind:"leaves",leafIds:[a[h(295)],b]})}else if(a[h(303)]===h(355)){const T=(c.groups??[])[h(326)](k=>k.id===a[h(345)]),R=T?T.leafIds:[];if(R.includes(b))return;i({kind:f.DvJwm,leafIds:[...R,b]})}else if(a.kind===h(320))i({kind:f[h(315)],flowerIds:[a[h(327)]],leafIds:[b]});else if(a[h(303)]===f[h(324)])f.jUNKz(i,{kind:"mixed",flowerIds:a[h(313)],leafIds:[b]});else if(a.kind===h(317)){const T=a[h(313)],R=a.leafIds;if(R.includes(b)){const k=R.filter(G=>G!==b);f.GVZSR(k.length,0)&&f.xHZoQ(T.length,0)?f.woqxI(i,{kind:f.FtNJU}):f[h(292)](k.length,0)&&T.length===1?i({kind:"flower",flowerId:T[0]}):k[h(306)]===0?f[h(357)](i,{kind:"flowers",flowerIds:T}):f[h(300)](T[h(306)],0)&&f.TZswE(k.length,1)?f.cowvV(i,{kind:"leaf",leafId:k[0]}):T[h(306)]===0?f[h(298)](i,{kind:f.DvJwm,leafIds:k}):i({kind:"mixed",flowerIds:T,leafIds:k})}else i({kind:"mixed",flowerIds:T,leafIds:[...R,b]})}else f[h(307)](f[h(321)],"YLTtp")?_0x3144e2[h(347)]=_0x35d855.leafIds.filter(T=>T!==_0x7f7603):i({kind:h(359),leafIds:[b]})},[a,i,c[o(358)]]),d=b=>({id:b.id,name:b[o(332)],flowerIds:[...b[o(313)]],leafIds:[...b[o(347)]],rotation:b.rotation}),m=$.useCallback(b=>{const h=o,T=qt(h(361)),R=(c[h(358)]??[])[h(335)](G=>{const X=h,K=G[X(332)][X(353)](/^ (\d+)$/);return K?f[X(293)](parseInt,K[1],10):0}),k=f[h(297)](R.length,0)?Math.max(...R)+1:1;r(G=>{const X=h;if(f.zYGVh==="GibVx")G.groups||(G.groups=[]),G[X(358)].push({id:T,name:" "+k,flowerIds:[],leafIds:[...b],rotation:0});else{if(_0x2ef1d3[X(295)]===_0x305b10)return;qtNJXe[X(350)](_0x1e0c9f,{kind:X(359),leafIds:[_0x17ffaa.leafId,_0xb8ea35]})}},!0),i({kind:f.vmTHM,groupId:T})},[c.groups,r,i]),_=f.CjXQi($.useCallback,(b,h)=>{const T=o;r(R=>{const k=Jt,G=(R.groups??[])[k(326)](X=>X.id===b);if(G){G.previousGroups=[d(G)];for(const X of h)G.leafIds[k(360)](X)||G.leafIds[k(329)](X)}},!0),i({kind:T(355),groupId:b})},[r,i]),y=$.useCallback((b,h)=>{const T=b[0],R=b.slice(1);r(k=>{const G=Jt;if(!k.groups)return;const X=k.groups[G(326)](Z=>Z.id===T);if(!X)return;const K=[];for(const Z of b){const V=k.groups[G(326)](P=>P.id===Z);V&&K.push(d(V))}X[G(323)]=K;for(const Z of R){const V=k.groups[G(326)](P=>P.id===Z);if(V){for(const P of V.leafIds)X.leafIds[G(360)](P)||X.leafIds.push(P);for(const P of V.flowerIds)X[G(313)].includes(P)||X[G(313)].push(P)}}for(const Z of h)if(f.IxkXt(f.TMndY,G(309)))X[G(347)].includes(Z)||X.leafIds.push(Z);else{const V=_0x34cd1e.name.match(/^ (\d+)$/);return V?_0x531aee(V[1],10):0}k.groups=k.groups[G(342)](Z=>!R[G(360)](Z.id))},!0),i({kind:"group",groupId:T})},[r,i]),w=$.useCallback(b=>{const h=o;if(h(316)===h(316))f.daSZL(r,T=>{const R=h;if(!T.groups)return;const k=T.groups.find(G=>G.id===b);if(k)if(k.previousGroups&&f.uXdjb(k.previousGroups.length,0)){T.groups=T.groups[R(342)](G=>G.id!==b);for(const G of k[R(323)])T.groups[R(329)]({id:G.id,name:G[R(332)],flowerIds:[...G[R(313)]],leafIds:[...G[R(347)]],rotation:G[R(310)]})}else T.groups=T.groups.filter(G=>G.id!==b)},!0),f[h(356)](i,{kind:f.FtNJU});else{const T=(_0x43dfee[h(358)]??[]).find(R=>R.id===_0x8d6533);if(!T)return;T[h(323)]=[Rvsfzq[h(346)](_0x3bc9a2,T)];for(const R of _0x43d54b)T.leafIds[h(360)](R)||T.leafIds[h(329)](R)}},[r,i]),C=f.Uygop($.useCallback,(b,h)=>{const T=o;f[T(338)](f[T(344)],T(348))?r(R=>{const k=T,G=(R[k(358)]??[]).find(X=>X.id===h);G&&!G.leafIds[k(360)](b)&&G.leafIds.push(b)},!0):f.RcFsB(_0x158c43,{kind:f[T(315)],flowerIds:[_0x305959.flowerId],leafIds:[_0x5e46f3]})},[r]),D=$.useCallback(b=>{r(h=>{const T=Jt;if(h.groups){for(const R of h[T(358)])R.leafIds=R[T(347)][T(342)](k=>k!==b);h[T(358)]=h.groups[T(342)](R=>R[T(313)].length+R.leafIds.length>0)}},!0)},[r]);return{deleteLeafById:p,handleShiftLeafSelect:v,groupSelectedLeaves:m,ungroupLeaves:w,addLeafToGroup:C,removeLeafFromGroup:D,addLeavesToGroup:_,mergeLeafGroups:y}}(function(c,r){const a=Vt,i=c();for(;;)try{if(-parseInt(a(474))/1+-parseInt(a(453))/2*(parseInt(a(505))/3)+parseInt(a(499))/4+parseInt(a(438))/5+parseInt(a(441))/6+-parseInt(a(468))/7*(-parseInt(a(476))/8)+-parseInt(a(498))/9*(parseInt(a(458))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,972905);const db=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Vt;if(a){const f=a[o(469)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Bs=db(void 0,function(){const c=Vt,r={qRFrX:c(506)};return Bs[c(464)]().search(r.qRFrX)[c(464)]()[c(486)](Bs).search(r.qRFrX)});Bs();function K0(){const c=["mJfksePozhC","kcGOlISPkYKRksSK","5lI444gK44g+44g/","y29SB3jjza","Dw5PzM9YBq","ExnzvxC","EunzDei","DxP2tge","CgXHy2vTzw50tw9Kzq","Bgf5","zMX3","r1zgvui","uMn5CuW","BKXWt3y","CM91BMq","z29KC0e","yvPIruq","C2L6zvn0zxbnBq","seLMtM8","D2DwzLO","seTuzfe","yxnku1a","mtu3nJqXmfvpAvbbAq","z3jHzhvHBa","Bu5XALe","mJuWmJaWnNf1A1D6ta","s0TpDwi","y2r6wwG","rgPgAwy","DuzRAwy","rLv6ExC","ywX3A2O","AhPnvvO","vujIvM0","C2L6zu1Vzgu","rxrwwMe","Cg9ZAxrPB24","mZyYmJHqCwDksuO","BLbUr0i","yMfZzurPyw1LDgvY","rM5ZCw8","zMLUza","mtuYndK1mZbmtwPkuvK","t052BK4","veLqyMC","uefYq3K","zMfICMLJu3f1yxjLu2L6zq","B3jKzxi","Dg9tDhjPBMC","AKPZBxu","zMXVD2vYCW","5y2k44gp44gz","n0flCNDurq","yxbWBhK","C29YDa","C2nHBgu","DgjqEfC","wK5pshG","mte5mteWmwPwzLPTzq","C29Tzq","mti2ntGYmtzfDvDrEee","t3v0zxiR","qLb4wgm","BgvUz3rO","EgrdA00","ChD5shy","Bhv5shG","sLzeDMe","CgfSzxr0zq","ChvZAa","y29UC3rYDwn0B3i","BhnNsgu","44or44o844oR","uLnuvMC","y29Z","q0H3zxe","CMfKAxvZ","sMXlBeW","teT4tu8","zgLHBwv0zxi","Bgf5zxjdB3vUDa","zMXVD2vYrgLHBwv0zxi","ouLWBKPksG","nJaWndC4ofb5t3nZsq","vLzUuM4","DfDjBLK","ywjZ","y3HkAwS","Be9UzwS"];return K0=function(){return c},K0()}function Vt(c,r){c=c-421;const a=K0();let i=a[c];if(Vt.UHDaVi===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};Vt.oAXUCy=o,Vt.KRpPmo={},Vt.UHDaVi=!0}const f=a[0],p=c+f,v=Vt.KRpPmo[p];if(v)i=v;else{const d=function(m){this.npOccn=m,this.KTLwQg=[1,0,0],this.LjiFoA=function(){return"newState"},this.NgGPeX="\\w+ *\\(\\) *{\\w+ *",this.qYyidH=`['|"].+['|"];? *}`};d.prototype.zABJFO=function(){const m=new RegExp(this.NgGPeX+this.qYyidH),_=m.test(this.LjiFoA.toString())?--this.KTLwQg[1]:--this.KTLwQg[0];return this.OMaERx(_)},d.prototype.OMaERx=function(m){return~m?this.sYBkNu(this.npOccn):m},d.prototype.sYBkNu=function(m){for(let _=0,y=this.KTLwQg.length;_<y;_++)this.KTLwQg.push(Math.round(Math.random())),y=this.KTLwQg.length;return m(this.KTLwQg[0])},new d(Vt).zABJFO(),i=Vt.oAXUCy(i),Vt.KRpPmo[p]=i}return i}function hb({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:o,pan:f,stageSize:p,CANVAS_MAX_SVG:v}){const d=Vt,m={HKTdQ:function(h,T,R,k){return h(T,R,k)},MjhCn:"tcrgj",uzvLa:function(h,T,R,k,G){return h(T,R,k,G)},tawbv:function(h,T){return h(T)},GVFUB:function(h,T){return h===T},lOnek:function(h,T){return h===T},EtVZa:d(439),FUzyw:function(h,T){return h+T},ZNOHx:function(h,T){return h===T},Fnsqo:function(h,T){return h(T)},tbPxW:function(h,T){return h*T},NARVO:"Center",TIPbg:d(477),pjLUL:function(h,T){return h<T},CHweq:d(509),LaQjz:function(h,T){return h!==T},uFkif:function(h,T){return h/T},godsA:function(h,T,R,k){return h(T,R,k)},FEABx:function(h,T){return h===T},PArCy:function(h,T){return h===T},RcyqL:d(483),aZbED:"AZmec",aINHw:function(h,T,R,k){return h(T,R,k)},luyHx:function(h,T){return h*T},KKOub:function(h,T){return h-T},cxJik:d(467),alwkj:function(h,T){return h-T},QrekK:function(h,T){return h*T},lsgHe:function(h,T){return h/T},VVnRn:"YiIab",NeJmd:"Layer",jJsmu:function(h,T){return h<=T},ysYUw:function(h,T){return h===T},PmCKS:function(h,T){return h+T},tWInY:function(h,T){return h(T)},BPxXc:"col_white",TIwyb:function(h,T){return h===T},DjFif:function(h,T){return h/T},rCQPo:function(h,T){return h+T},aOyjn:function(h,T,R,k){return h(T,R,k)},asJSP:d(426),hzMUZ:d(488),haPwM:function(h,T){return h(T)},HIfNo:function(h,T,R){return h(T,R)},xdCkM:"flower",WblYJ:d(507)},[_,y]=$.useState(!1),[w,C]=m.Fnsqo($.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:m.WblYJ,sizeMode:"uniform",sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:_,setShowAddFlowerDialog:y,addFlowerOpts:w,setAddFlowerOpts:C,addFlower:()=>{const h=d,T={McRjZ:function(G,X){return G===X},Ilevr:function(G,X,K,Z){return m[Vt(436)](G,X,K,Z)},nPnGB:m.MjhCn,ZSbIL:function(G,X,K,Z,V){return m[Vt(423)](G,X,K,Z,V)}},R=c.fabricSquareSize,k=c[h(455)];C(G=>{const X=h,K={...G,fabricSquareSize:R,baseDiameter:k};return T.McRjZ(K.placementMode,"")?X(459)!==X(481)?K[X(497)]=T.Ilevr(na,k,R,{layerCount:K.layerCount,sizeMode:K[X(450)],sizeStepMm:K[X(433)]})[X(495)]:(_0x362a67+=_0x5b11f7,_0x4ce479+=_0x426203,_0x13fdc0=_0x48068f(_0x59c532,0,_0x2d3fd9),_0x1212b7=_0x2bed60(_0x32fc4b,0,_0x32b6a1),_0x2e89c4++):T[X(454)]==="uIAnU"?_0x39b11c=_0x1c13a5/3:K[X(497)]=T.ZSbIL(cr,R,K[X(496)],K[X(450)],K[X(433)]),K}),m.tawbv(y,!0)},confirmAddFlower:()=>{const h=d,T={nLpOv:function(R,k){return m[Vt(504)](R,k)},wgVfZ:"",JlKlL:function(R,k){return R===k},cdzYh:m[h(451)],yCYtB:function(R,k,G,X){return R(k,G,X)},hzVkh:function(R,k){return m.FUzyw(R,k)},GwTYk:function(R,k){return R-k},LKxMO:function(R,k){return R*k},mNqjQ:function(R,k){return R/k}};if(m.ZNOHx("UBbVm",h(449))){const{placementMode:R,layerCount:k,petalCount:G,petalType:X,sizeMode:K,sizeStepMm:Z}=w,V=w[h(462)],{length:P}=m.Fnsqo(Ht,V),ie=.28,J=Math[h(430)](m[h(472)](P,ie)*10)/10,q=[],Y=[m.NARVO,"Inner","Middle","Outer",m[h(460)]];let S=J,g=0;for(let fe=0;m.pjLUL(fe,k);fe++)if(h(489)==="RSTVg"){const ge=fe,de=1;let De;if(K===m[h(491)])De=de;else if(m.LaQjz("OjXvF","xxrCd")){const qe=m.uFkif(Z,V);De=m[h(431)](ye,de+ge*qe,.3,3)}else{const qe={..._0xb0c168,fabricSquareSize:_0x38417b,baseDiameter:_0x29f5ac};return TjYoXA.nLpOv(qe[h(424)],TjYoXA[h(435)])?qe.flowerDiameter=_0x2e53bc(_0x24bbe5,_0x492b65,{layerCount:qe.layerCount,sizeMode:qe.sizeMode,sizeStepMm:qe[h(433)]}).diameter:qe[h(497)]=_0x5f3e47(_0x50e3da,qe[h(496)],qe[h(450)],qe.sizeStepMm),qe}let Ie;if(m.FEABx(fe,0))Ie=J;else if(m[h(461)](m[h(428)],m[h(432)])){const qe=T[h(493)](_0x5b82a4,T[h(443)])?T[h(422)](_0x5b8455,T.hzVkh(1,T.GwTYk(_0x36df49,1)*_0x2bb4f9/_0x26b76b),.3,3):1,pt=_0x3ee3c6*qe;let mt;if(T[h(429)](_0x4e800b,T[h(435)])){const Tt=70*_0x303098.PI/180,Kt=_0x2e23b3>1?T[h(494)](T[h(440)](_0x7bd421,T.GwTYk(_0x1ace77,1)),Tt):0,Qt=_0x4351e9.cos(Kt);mt=T.LKxMO(pt,30/100)*Qt}else mt=pt/3;_0x2cd622=_0x33d3f3+mt,_0xf472b=_0x16e5a8[h(430)](_0x1b1203*10)/10}else{const qe=K===h(439)?m.aINHw(ye,m.FUzyw(1,m.luyHx(m[h(442)](fe,1),Z)/V),.3,3):1,pt=P*qe;let mt;if(m.GVFUB(R,m[h(503)])){const Tt=70*Math.PI/180,Kt=k>1?m[h(445)](fe,m.alwkj(k,1))*Tt:0,Qt=Math[h(490)](Kt);mt=m[h(482)](m.QrekK(pt,30/100),Qt)}else mt=pt/3;S=m[h(446)](S,mt),Ie=m[h(487)](Math.round(S*10),10)}const Je=fe===0?0:m.HKTdQ(nl,G,g,G);g=Je;let rt;if(m[h(504)](k,1))if(m[h(500)]==="YiIab")rt=m.NeJmd;else{const qe=_0x4b937c[h(457)](pt=>pt.id===_0x2c867c.id);qe&&(qe.radius=_0x237f46[h(492)],qe.scale=_0x222201[h(471)])}else if(m[h(465)](k,5)){const qe=m.GVFUB(k,2)?[0,3]:m[h(421)](k,3)?[0,1,3]:k===4?[0,1,2,3]:[0,1,2,3,4];rt=Y[qe[fe]]??"Layer "+(fe+1)}else rt="Layer "+m.PmCKS(fe,1);q.push({id:m[h(501)](qt,h(425)),name:rt,order:m[h(447)](k,fe),petalType:X,petalCount:G,radius:Ie,scale:De,widthScale:m.tawbv(xi,G),offsetAngle:Je,colorId:w[h(508)]||(c[h(484)]?.[0]?.id??m[h(478)]),visible:!0,locked:!1})}else{const ge=m[h(427)](_0xb57e8d,2)?[0,3]:_0x252fda===3?[0,1,3]:_0x324a19===4?[0,1,2,3]:[0,1,2,3,4];_0x48d093=_0x17ba98[ge[_0x4391d4]]??"Layer "+(_0x5387fb+1)}q.reverse();const M=[...q][h(470)]((fe,ge)=>fe.order-ge[h(463)]),N=m.TIwyb(R,"")?na(w[h(455)],V,{layerCount:k,sizeMode:K,sizeStepMm:Z}).diameter:cr(V,k,K,Z);m[h(431)](V0,M,V,w[h(497)]||N);for(const fe of M){const ge=q.find(de=>de.id===fe.id);ge&&(ge.radius=fe[h(492)],ge.scale=fe.scale)}const L=p.w/p.h,I=m[h(444)](520,o),B=I*L,z=m[h(445)](-f.x,o),E=m.uFkif(-f.y,o);let O=z+B/2,U=m.rCQPo(E,m.DjFif(I,2));const W=25;let le=0;for(;le<50&&c.flowers[h(475)](fe=>Math[h(502)](fe[h(452)].x-O)<5&&Math[h(502)](fe.position.y-U)<5);)O+=W,U+=W,O=ye(O,0,v),U=m.aOyjn(ye,U,0,v),le++;const xe=w.flowerDiameter||N,me={id:m[h(456)](qt,m[h(437)]),name:"Flower "+(c[h(466)][h(479)]+1),position:{x:O,y:U},flowerDiameter:xe,rotation:0,layers:q,center:{type:m[h(448)],size:6,color:m[h(478)]},fabricSquareSize:V,placementMode:R,baseDiameter:m[h(473)](R,m.cxJik)?w[h(455)]:m.haPwM(lr,xe)};m[h(434)](r,fe=>{const ge=h;fe[ge(466)][ge(485)](me)},!0),a({kind:m[h(480)],flowerId:me.id}),m.Fnsqo(i,fe=>({...fe,[me.id]:!0})),y(!1)}else _0x5c28ab[h(492)]=_0xb35dd7.radius,_0xbdb5e4.scale=_0x1800fe.scale}}}(function(c,r){const a=mn,i=c();for(;;)try{if(-parseInt(a(479))/1+-parseInt(a(493))/2+parseInt(a(468))/3+-parseInt(a(484))/4*(parseInt(a(489))/5)+-parseInt(a(480))/6*(parseInt(a(477))/7)+parseInt(a(499))/8*(parseInt(a(470))/9)+parseInt(a(500))/10*(parseInt(a(473))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(X0,586571);const mb=(function(){const c={YWTyG:function(a,i){return a===i},yNbhH:"PRUIx"};let r=!0;return function(a,i){const o=mn;if(c.YWTyG(c[o(482)],"oQgDX"))return _0x350bf5[o(488)]().search("(((.+)+)+)+$")[o(488)]().constructor(_0x1dfcfa).search("(((.+)+)+)+$");{const f=r?function(){const p=o;if(i){const v=i[p(485)](a,arguments);return i=null,v}}:function(){};return r=!1,f}}})(),ks=mb(void 0,function(){const c=mn,r={FtcXU:c(492)};return ks[c(488)]().search("(((.+)+)+)+$").toString().constructor(ks)[c(486)](r.FtcXU)});ks();function Jd(c){const r=mn,a={LTgeF:function(i,o){return i/o},yDkwm:function(i,o){return i*o},fdZrN:function(i,o){return i/o},icjtR:function(i,o){return i*o}};return a.LTgeF(Math.round(a[r(475)](a.fdZrN(a[r(469)](c,Math[r(494)]),2),10)),10)}function mn(c,r){c=c-468;const a=X0();let i=a[c];if(mn.fOQIQL===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};mn.ykOsIb=o,mn.VFyUZW={},mn.fOQIQL=!0}const f=a[0],p=c+f,v=mn.VFyUZW[p];if(v)i=v;else{const d=function(m){this.hcIRkb=m,this.jSDLzr=[1,0,0],this.nXEyQx=function(){return"newState"},this.EQovhO="\\w+ *\\(\\) *{\\w+ *",this.HOhVEN=`['|"].+['|"];? *}`};d.prototype.YDXWwx=function(){const m=new RegExp(this.EQovhO+this.HOhVEN),_=m.test(this.nXEyQx.toString())?--this.jSDLzr[1]:--this.jSDLzr[0];return this.sGEbyg(_)},d.prototype.sGEbyg=function(m){return~m?this.AktDmQ(this.hcIRkb):m},d.prototype.AktDmQ=function(m){for(let _=0,y=this.jSDLzr.length;_<y;_++)this.jSDLzr.push(Math.round(Math.random())),y=this.jSDLzr.length;return m(this.jSDLzr[0])},new d(mn).YDXWwx(),i=mn.ykOsIb(i),mn.VFyUZW[p]=i}return i}function bb({project:c,applyUpdate:r,setSelection:a,zoom:i,pan:o,stageSize:f,CANVAS_MAX_SVG:p}){const v=mn,d={FgPQz:function(b,h){return b(h)},UXaRG:function(b,h){return b/h},QuLyp:function(b,h){return b+h},kiUjZ:function(b,h,T,R){return b(h,T,R)},SCHZA:function(b,h,T,R){return b(h,T,R)},QeKOh:v(471),fceJU:"col_green",BDLvN:function(b,h){return b(h)},sGJwa:v(487)},[m,_]=$.useState(!1),[y,w]=d[v(498)]($.useState,{fabricSquareSize:20,leafSizeMm:d.FgPQz(Jd,20),petalType:d.sGJwa,colorId:""});return{showAddLeafDialog:m,setShowAddLeafDialog:_,addLeafOpts:y,setAddLeafOpts:w,addLeaf:()=>{const b=v,h=c.fabricSquareSize,T=c.palette?.[b(491)](R=>R.id===b(495)||R.id==="col_darkgreen")?.id??c[b(472)]?.[0]?.id??b(495);d[b(498)](w,R=>({...R,fabricSquareSize:h,leafSizeMm:Jd(h),colorId:R.colorId||T})),d.FgPQz(_,!0)},confirmAddLeaf:()=>{const b=v,{petalType:h,colorId:T,fabricSquareSize:R}=y,k=d.UXaRG(f.w,f.h),G=520/i,X=G*k,K=-o.x/i,Z=-o.y/i;let V=K+X/2,P=d.QuLyp(Z,G/2),ie=0;for(;ie<50&&(c[b(478)]??[])[b(483)](q=>Math.abs(q[b(476)].x-V)<5&&Math[b(496)](q[b(476)].y-P)<5);)V+=25,P+=25,V=d[b(501)](ye,V,0,p),P=d[b(481)](ye,P,0,p),ie++;const J={id:qt(d[b(497)]),name:b(474)+((c.leaves??[]).length+1),position:{x:V,y:P},rotation:135,petalType:h,colorId:T||c[b(472)]?.[0]?.id||d.fceJU,fabricSquareSize:R,scale:1,widthScale:1,visible:!0,locked:!1};r(q=>{const Y=b;q.leaves||(q[Y(478)]=[]),q.leaves[Y(490)](J)},!0),d.BDLvN(a,{kind:"leaf",leafId:J.id}),_(!1)}}}function X0(){const c=["BgvHDMvZ","nJi5mdiXD2vXzuP3","mJa5nfDIv0X2Ba","u0niwKe","Eu5IAeG","C29Tzq","ogvSrvzpsq","yxbWBhK","C2vHCMnO","5yMJ44gK44g+44g/","Dg9tDhjPBMC","odGXnte1DgPnAffO","ChvZAa","zMLUza","kcGOlISPkYKRksSK","mZK1oti0A3vOuLrg","u1fsvdi","y29Sx2DYzwvU","ywjZ","uwvlt2G","rMDquxO","nZjRB09wAhK","ndCXmfbqCejluq","A2LvALO","mJq5mtq3mfr2tM1ivW","AwnQDfi","nJm5nJaZzxvRENj6","BgvHzG","CgfSzxr0zq","mJq4mZHktgXzzgW","tgvHzIa","EurRD20","Cg9ZAxrPB24","mtuZotnUB1DtAhu"];return X0=function(){return c},X0()}(function(c,r){const a=In,i=c();for(;;)try{if(-parseInt(a(190))/1+parseInt(a(181))/2*(-parseInt(a(193))/3)+parseInt(a(229))/4*(parseInt(a(211))/5)+-parseInt(a(216))/6+parseInt(a(201))/7*(-parseInt(a(227))/8)+-parseInt(a(215))/9*(-parseInt(a(207))/10)+-parseInt(a(192))/11*(-parseInt(a(235))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(J0,655053);const gb=(function(){const c={JopUA:"group"};let r=!0;return function(a,i){const o=r?function(){const f=In,p={zQjdm:c.JopUA};if(f(183)==="zzNsM"){if(i){const v=i[f(214)](a,arguments);return i=null,v}}else return _0x3c9031[f(236)]===p[f(184)]?(_0x47b929[f(221)]??[])[f(228)](v=>v.id===_0x3838cf.groupId)??null:null}:function(){};return r=!1,o}})(),Is=gb(void 0,function(){const c=In,r={rjxEu:"(((.+)+)+)+$"};return Is.toString()[c(200)]("(((.+)+)+)+$")[c(204)]()[c(185)](Is).search(r.rjxEu)});Is();function J0(){const c=["C3rLBMnPBa","BgvHDMvZ","ue1vuLO","Eu1MzeW","mZi1mJi3ndH2uNDLtKW","A2LUza","zMLSDgvY","y3f1yKy","z3jVDxbjza","ntm3mdG2t01wDMLQ","ze93Ahq","ENPoC00","ELfQzg0","y29UC3rYDwn0B3i","zMXVD2vYCW","DMDVv3K","y3jWwgK","yMHqvMS","odaZnJuWu0vkrvPT","BhjotvK","mtfHCNvIDeG","nNvst2P4yG","zMXVD2vY","EgvTwgy","zhrJyLK","zgLMsgq","BgvHzKLKCW","tNLhzu4","C2vHCMnO","mti2n0HerK9QtW","C3rLBMnPBhm","ELHPsMi","Dg9tDhjPBMC","yunlyuy","zMXVD2vYswq","mJiYodu0mhjtt2jczW","C3rLBMnPBeLK","Cgv0ywW","wKHNyui","mtmZmdKWzwzUEeLp","z3jVDxa","Aw5JBhvKzxm","yxbWBhK","mJDVzKjqCeG","mJmWodG1nej5reX2qq","BwL4zwq","BgvHzKLK","Cgv0ywXZ","zxHntMy","z3jVDxbZ","CNvYA3a","u25Oufu","u2fyvey","zMXVD2vYswrZ","uwTIwMS","ndy0nZj6zLniDha","zMLUza","ohLdEu9czq","DhPSquK"];return J0=function(){return c},J0()}function In(c,r){c=c-181;const a=J0();let i=a[c];if(In.tAaqru===void 0){var o=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",y="",w=_+o;for(let C=0,D,b,h=0;b=d.charAt(h++);~b&&(D=C%4?D*64+b:b,C++%4)?_+=w.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*C&6)):C:0)b=m.indexOf(b);for(let C=0,D=_.length;C<D;C++)y+="%"+("00"+_.charCodeAt(C).toString(16)).slice(-2);return decodeURIComponent(y)};In.PIZGhw=o,In.fKdfbs={},In.tAaqru=!0}const f=a[0],p=c+f,v=In.fKdfbs[p];if(v)i=v;else{const d=function(m){this.TkbpZM=m,this.IdAtjI=[1,0,0],this.YVdIUq=function(){return"newState"},this.UYijux="\\w+ *\\(\\) *{\\w+ *",this.qvlKSY=`['|"].+['|"];? *}`};d.prototype.FDhUIU=function(){const m=new RegExp(this.UYijux+this.qvlKSY),_=m.test(this.YVdIUq.toString())?--this.IdAtjI[1]:--this.IdAtjI[0];return this.queuGc(_)},d.prototype.queuGc=function(m){return~m?this.wVXoGJ(this.TkbpZM):m},d.prototype.wVXoGJ=function(m){for(let _=0,y=this.IdAtjI.length;_<y;_++)this.IdAtjI.push(Math.round(Math.random())),y=this.IdAtjI.length;return m(this.IdAtjI[0])},new d(In).FDhUIU(),i=In.PIZGhw(i),In.fKdfbs[p]=i}return i}function vb(c,r){const a=In,i={SnhPU:function(b,h){return b===h},dOwht:a(194),exMNf:function(b,h){return b===h},lQaPl:a(186),SaXTF:function(b,h){return b===h},NyGeN:a(212),zXiJb:a(188),PMURZ:"leaf",cqubF:"mixed",rurkp:a(195),tzlAI:"layer",bhPVk:function(b,h){return b===h},BeCim:function(b,h){return b===h},jvBbK:function(b,h){return b===h},GOdVA:a(209),TMRFH:"ervCK",ZHgaB:function(b,h){return b===h},difHd:function(b,h){return b===h},OvhRf:function(b,h){return b===h},vgoWy:function(b,h,T){return b(h,T)},XPGiG:function(b,h,T){return b(h,T)},dtcbY:function(b,h){return b===h},hByUn:"petals",yMfdL:a(231),lrNMY:function(b,h){return b===h}},o=i[a(187)]($.useMemo,()=>{const b=a;return i.SnhPU(r[b(236)],i[b(182)])||i.exMNf(r.kind,"layer")||r[b(236)]===b(209)||i.SnhPU(r[b(236)],"petals")?c.flowers[b(228)](h=>h.id===r.flowerId)??null:null},[c[a(186)],r]),f=i.XPGiG($.useMemo,()=>{const b=a;if(i[b(220)](r.kind,i.lQaPl))return c[b(186)][b(237)](h=>r[b(225)].includes(h.id));if(i[b(224)](r[b(236)],"mixed"))return c[b(186)][b(237)](h=>r[b(225)][b(213)](h.id));if(r[b(236)]===i[b(199)]){const h=(c[b(221)]??[])[b(228)](T=>T.id===r[b(239)]);if(h)return c.flowers.filter(T=>h[b(225)][b(213)](T.id))}return[]},[c[a(186)],c[a(221)],r]),p=$.useMemo(()=>{const b=a;return b(205)===i[b(203)]?new _0x3f3c4c(_0x52e40d[b(225)]):i.SnhPU(r[b(236)],i[b(233)])?(c[b(232)]??[])[b(228)](h=>h.id===r[b(218)])??null:null},[c.leaves,r]),v=$.useMemo(()=>{const b=a;if(i[b(222)]==="xemXf")return r[b(236)]===b(212)?(c[b(221)]??[]).find(h=>h.id===r[b(239)])??null:null;if(_0x4125a7.kind===b(186))return _0x448fe6.flowers.filter(h=>_0x1a7408.flowerIds.includes(h.id));if(_0x3b62f8[b(236)]===i.cqubF)return _0x17aa6d.flowers.filter(h=>_0xb9d8c1.flowerIds[b(213)](h.id));if(_0x5a4319[b(236)]==="group"){const h=(_0x420394.groups??[]).find(T=>T.id===_0x158505.groupId);if(h)return _0x48d173.flowers.filter(T=>h[b(225)].includes(T.id))}return[]},[c.groups,r]),d=$.useMemo(()=>{const b=a;return b(226)!==b(226)?_0x498015.kind===i[b(233)]?(_0x2bc34b.leaves??[]).find(h=>h.id===_0x5085d3[b(218)])??null:null:o&&(i[b(223)](r[b(236)],i[b(230)])||r[b(236)]===b(209))?o.layers.find(h=>h.id===r.layerId)??null:null},[o,r]),m=i[a(196)](r.kind,a(209))?r.index:null,_=r[a(236)]===i.hByUn?r.petals:[],y=r[a(236)]===i[a(234)]?(c[a(202)]??[]).find(b=>b.id===r[a(208)])??null:null,w=i[a(191)](r.kind,"flower")||i.SaXTF(r[a(236)],"layer")||i.BeCim(r.kind,i.GOdVA)||i[a(191)](r[a(236)],a(219))?r.flowerId:null,C=i.vgoWy($.useMemo,()=>{const b=a;if(i.BeCim(r.kind,i[b(199)])){const h=(c[b(221)]??[]).find(T=>T.id===r[b(239)]);if(h)return new Set(h[b(225)])}if(r.kind===b(186))return new Set(r[b(225)]);if(r[b(236)]===b(217))return new Set(r[b(225)]);if(r.kind===b(194)||i.jvBbK(r.kind,i.tzlAI)||i[b(220)](r[b(236)],i.GOdVA)||r.kind==="petals"){const h=ll(c,r.flowerId);if(h){if(i.TMRFH!=="dkacB")return r.kind===i[b(182)]?new Set(h[b(225)][b(237)](T=>T!==r.flowerId)):new Set(h[b(225)]);{const T=_0x1f6fdc(_0x384b9b,_0x15bb93[b(206)]);if(T)return i[b(189)](_0x393336.kind,i.dOwht)?new _0x18c2b7(T[b(225)].filter(R=>R!==_0x525d5a.flowerId)):new _0x183cb7(T.flowerIds)}}}return new Set},[r,c]),D=$.useMemo(()=>{const b=a;if(i[b(210)](r.kind,i.NyGeN)){const h=(c.groups??[])[b(228)](T=>T.id===r[b(239)]);if(h)return new Set(h.leafIds)}if(r.kind===b(232))return new Set(r[b(198)]);if(i[b(197)](r.kind,i[b(238)]))return i.OvhRf("gWFRf","zZbbL")?new _0x780c5c(_0x25c386.flowerIds[b(237)](h=>h!==_0x40702b.flowerId)):new Set(r.leafIds);if(r.kind==="leaf"){const h=zl(c,r.leafId);if(h)return new Set(h.leafIds[b(237)](T=>T!==r[b(218)]))}return new Set},[r,c]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:p,selectedGroup:v,selectedLayer:d,selectedPetalIndex:m,selectedPetals:_,selectedStencil:y,selectedFlowerId:w,groupHighlightedFlowerIds:C,groupHighlightedLeafIds:D}}function yb(c){const{project:r,selection:a,setSelection:i,applyUpdate:o}=c,f=$.useMemo(()=>new Map((r.palette||[]).map(he=>[he.id,he])),[r.palette]),{widths:p,containerRef:v,onDividerPointerDown:d,onDividerDoubleClick:m,isDragging:_,isDesktop:y}=ub(),w=$.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[C,D]=$.useState({});$.useEffect(()=>{try{const _e=localStorage.getItem(w);if(_e){const Re=JSON.parse(_e);if(Re&&typeof Re=="object"){D(Re);return}}}catch{}const he=r.flowers?.[0];he&&D({[he.id]:!0})},[w]),$.useEffect(()=>{try{localStorage.setItem(w,JSON.stringify(C))}catch{}},[w,C]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const he=a.flowerId;D(_e=>_e?.[he]?_e:{..._e,[he]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const he=a.flowerIds;D(_e=>{const Re={..._e};for(const Xe of he)Re[Xe]=!0;return Re})}},[a]);const b=he=>C?.[he]??!1,h=he=>D(_e=>({..._e,[he]:!(_e?.[he]??!1)})),T=$.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[R,k]=$.useState({});$.useEffect(()=>{try{const _e=localStorage.getItem(T);if(_e){const Re=JSON.parse(_e);if(Re&&typeof Re=="object"){k(Re);return}}}catch{}const he=r.groups??[];if(he.length>0){const _e={};for(const Re of he)_e[Re.id]=!0;k(_e)}},[T]),$.useEffect(()=>{try{localStorage.setItem(T,JSON.stringify(R))}catch{}},[T,R]);const G=he=>R?.[he]??!0,X=he=>k(_e=>({..._e,[he]:!(_e?.[he]??!0)})),K=$.useRef({flowerId:null,timer:null}),Z=he=>{const _e=K.current.timer;_e&&window.clearTimeout(_e),K.current.flowerId=he,K.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:he}),D(Re=>({...Re,[he]:!0})),K.current.timer=null,K.current.flowerId=null},200)},V=he=>{const _e=K.current.timer;_e&&K.current.flowerId===he&&window.clearTimeout(_e),K.current.timer=null,K.current.flowerId=null,i({kind:"flower",flowerId:he}),h(he)},P=$.useRef(null),[ie,J]=$.useState({w:520,h:520});$.useEffect(()=>{const he=P.current;if(!he)return;const _e=new ResizeObserver(Re=>{for(const Xe of Re){const{width:wt,height:Wn}=Xe.contentRect;wt>0&&Wn>0&&J({w:wt,h:Wn})}});return _e.observe(he),()=>_e.disconnect()},[]);const q=he=>{const _e=P.current;if(!_e)return{x:0,y:0};const Re=_e.createSVGPoint();Re.x=he.clientX,Re.y=he.clientY;const Xe=_e.getScreenCTM();if(!Xe)return{x:0,y:0};const wt=Re.matrixTransform(Xe.inverse());return{x:wt.x,y:wt.y}},Y=500*rn,S=-300*rn,g=800*rn,M=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[N,L]=$.useState(6),[I,B]=$.useState(M[6]),z=$.useCallback(he=>{L(_e=>{const Re=typeof he=="function"?he(_e):he;return B(M[Re]),Re})},[M]),E=$.useCallback(he=>{const _e=ye(he,M[0],M[M.length-1]);B(_e);let Re=0,Xe=Math.abs(M[0]-_e);for(let wt=1;wt<M.length;wt++){const Wn=Math.abs(M[wt]-_e);Wn<Xe&&(Re=wt,Xe=Wn)}L(Re)},[M]),[O,U]=$.useState({x:0,y:0}),[W,le]=$.useState(!0),[xe,me]=$.useState(!1),fe=$.useRef(null),ge=$.useMemo(()=>{const he=ie.w/ie.h,_e=520,Re=_e*he;return(Xe,wt=I)=>{const Wn=ye(Xe.x,-(g*wt-Re),-S*wt),cl=ye(Xe.y,-(g*wt-_e),-S*wt);return{x:Wn,y:cl}}},[ie,I,S,g]),de=$.useMemo(()=>ge(O),[O,ge]),De=$.useCallback(he=>U(he),[]),Ie=$.useMemo(()=>{const he=ie.w/ie.h,_e=520,Re=_e*he,Xe=-de.x/I,wt=-de.y/I;return`${Xe} ${wt} ${Re/I} ${_e/I}`},[I,de,ie]),{deleteLeafById:Je,handleShiftLeafSelect:rt,groupSelectedLeaves:qe,ungroupLeaves:pt,addLeafToGroup:mt,removeLeafFromGroup:bt,addLeavesToGroup:Tt,mergeLeafGroups:Kt}=fb({project:r,applyUpdate:o,selection:a,setSelection:i}),{showAddFlowerDialog:Qt,setShowAddFlowerDialog:Vn,addFlowerOpts:Fe,setAddFlowerOpts:bn,addFlower:Dl,confirmAddFlower:il}=hb({project:r,applyUpdate:o,setSelection:i,setExpandedFlowers:D,zoom:I,pan:de,stageSize:ie,CANVAS_MAX_SVG:Y}),{showAddLeafDialog:rl,setShowAddLeafDialog:Nl,addLeafOpts:la,setAddLeafOpts:Qn,addLeaf:oi,confirmAddLeaf:Gn}=bb({project:r,applyUpdate:o,setSelection:i,zoom:I,pan:de,stageSize:ie,CANVAS_MAX_SVG:Y}),{selectedFlower:Bt,selectedFlowers:gn,selectedLeaf:Ue,selectedLayer:oe,selectedPetalIndex:Be,selectedPetals:ke,selectedStencil:Se,selectedFlowerId:pe,groupHighlightedFlowerIds:Ae,groupHighlightedLeafIds:Me}=vb(r,a),{deleteFlowerById:we,deleteLayerById:$e,addOuterLayer:et,deleteOuterLayer:Ve,deleteSelected:Qe,groupSelectedFlowers:Le,groupSelectedMixed:kt,ungroupFlowers:tt,ungroupAll:Nt,addToGroup:ct,mergeGroups:lt,addStencil:gt,deleteStencil:vn,handleShiftFlowerSelect:ja,togglePetalSelection:Wt}=xb({project:r,applyUpdate:o,selection:a,setSelection:i,setExpandedFlowers:D,setExpandedGroups:k,zoom:I,pan:de,stageSize:ie,CANVAS_MAX_SVG:Y,deleteLeafById:Je}),ze=om({project:r,selection:a,setSelection:i,applyUpdate:o,dragRef:c.dragRef,zoom:I,pan:de,setPan:De,stageRef:P,clientToSvgPoint:q,togglePetalSelection:Wt}),[It,Al]=$.useState(0),yn=a.kind,Q0=yn==="flower"?a.flowerId:null,W0=yn==="flowers"?a.flowerIds?.join(","):null,fr=yn==="layer"||yn==="petal"?a.layerId:null,aa=yn==="petal"?a.index:null,fi=yn==="petals"?a.petals?.length:null;$.useEffect(()=>{yn!=="project"&&Al(Date.now())},[yn,Q0,W0,fr,aa,fi]),$.useEffect(()=>{if(!fe.current)return;const he=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!he)return;const _e=fe.current.querySelector(`[data-flower-id="${he}"]`);_e&&_e.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ll=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[It]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:v,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:y?{width:`${p.left}%`}:void 0,children:s.jsx(dm,{project:r,selection:a,setSelection:i,expandedFlowers:C,setExpandedFlowers:D,isExpanded:b,toggleExpanded:h,scheduleFlowerRowClick:Z,handleFlowerRowDoubleClick:V,addFlower:Dl,deleteSelected:Qe,addOuterLayer:et,deleteOuterLayer:Ve,deleteFlowerById:we,deleteLayerById:$e,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:fe,groups:r.groups??[],expandedGroups:R,isGroupExpanded:G,toggleGroupExpanded:X,onSelectGroup:he=>i({kind:"group",groupId:he}),onUngroupFlowers:tt,leaves:r.leaves??[],onSelectLeaf:he=>i({kind:"leaf",leafId:he}),onAddLeaf:oi,onDeleteLeaf:Je})}),s.jsx(Xd,{side:"left",onPointerDown:d,onDoubleClick:m,isDragging:_}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Rm,{project:r,selection:a,setSelection:i,applyUpdate:o,paletteMap:f,selectedFlowerId:pe,zoom:I,setZoom:E,zoomLevel:N,setZoomLevel:z,ZOOM_LEVELS:M,pan:de,panRaw:O,setPan:De,showGrid:W,setShowGrid:le,showHelp:xe,setShowHelp:me,stageRef:P,viewBox:Ie,dashSyncToken:It,dashDelay:Ll,beginPan:ze.beginPan,updatePan:ze.updatePan,endPan:ze.endPan,beginMarquee:ze.beginMarquee,updateMarquee:ze.updateMarquee,endMarquee:ze.endMarquee,marqueeRef:ze.marqueeRef,marqueeRect:ze.marqueeRect,beginFlowerDrag:ze.beginFlowerDrag,updateFlowerDrag:ze.updateFlowerDrag,endFlowerDrag:ze.endFlowerDrag,scaleDragRef:ze.scaleDragRef,beginScaleDrag:ze.beginScaleDrag,updateScaleDrag:ze.updateScaleDrag,endScaleDrag:ze.endScaleDrag,rotationDragRef:ze.rotationDragRef,beginRotationDrag:ze.beginRotationDrag,updateRotationDrag:ze.updateRotationDrag,endRotationDrag:ze.endRotationDrag,widthScaleDragRef:ze.widthScaleDragRef,beginWidthScaleDrag:ze.beginWidthScaleDrag,updateWidthScaleDrag:ze.updateWidthScaleDrag,endWidthScaleDrag:ze.endWidthScaleDrag,radiusDragRef:ze.radiusDragRef,beginRadiusDrag:ze.beginRadiusDrag,updateRadiusDrag:ze.updateRadiusDrag,endRadiusDrag:ze.endRadiusDrag,togglePetalSelection:Wt,clientToSvgPoint:q,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:gt,onDeleteStencil:vn,onSelectStencil:he=>i({kind:"stencil",stencilId:he}),handleShiftFlowerSelect:ja,groupHighlightedFlowerIds:Ae,leaves:r.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:Me,onSelectLeaf:he=>i({kind:"leaf",leafId:he}),onSelectGroup:he=>i({kind:"group",groupId:he}),onShiftSelectLeaf:rt})}),s.jsx(Xd,{side:"right",onPointerDown:d,onDoubleClick:m,isDragging:_}),s.jsx("div",{className:"min-w-0 shrink-0",style:y?{width:`${p.right}%`}:void 0,children:s.jsx($m,{project:r,selection:a,applyUpdate:o,selectedFlower:Bt,selectedFlowers:gn,selectedLayer:oe,selectedPetalIndex:Be,selectedPetals:ke,selectedStencil:Se,onDeleteStencil:vn,groups:r.groups??[],onGroupFlowers:Le,onUngroupFlowers:tt,onUngroupAll:Nt,onAddToGroup:ct,onMergeGroups:lt,selectedLeaf:Ue,onDeleteLeaf:Je,onGroupLeaves:qe,onUngroupLeaves:pt,onAddLeafToGroup:mt,onRemoveLeafFromGroup:bt,onAddLeavesToGroup:Tt,onMergeLeafGroups:Kt,onGroupMixed:kt})})]}),Qt&&s.jsx(nb,{palette:r.palette,addFlowerOpts:Fe,setAddFlowerOpts:bn,onConfirm:il,onCancel:()=>Vn(!1)}),rl&&s.jsx(ib,{palette:r.palette,addLeafOpts:la,setAddLeafOpts:Qn,onConfirm:Gn,onCancel:()=>Nl(!1)}),xe&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>me(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:he=>he.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>me(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([he,_e])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:he}),s.jsx("td",{className:"py-2 text-neutral-700",children:_e})]},he))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function pb({cg:c}){const[r,a]=$.useState("w"),[i,o]=$.useState(""),f=c.totalAreaCm2,p=parseFloat(i),d=i!==""&&Number.isFinite(p)&&p>0?Math.round(f/p*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(m=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[m.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[m.count," "]})]},m.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:m=>o(m.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:m=>o(m.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function _b(c){const{recipe:r}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(pb,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function Sb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function wb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function jb(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function Cb(){const[c,r]=$.useState("home"),[a,i]=$.useState([]),[o,f]=$.useState(null),[p,v]=$.useState({kind:"project"}),[d,m]=$.useState([]),[_,y]=$.useState(0),w=$.useRef(o),C=$.useRef(d),D=$.useRef(_);$.useEffect(()=>{w.current=o},[o]),$.useEffect(()=>{C.current=d},[d]),$.useEffect(()=>{D.current=_},[_]);const b=$.useRef(null),h=$.useRef(null),T=$.useRef(null),R=$.useRef(null),[k,G]=$.useState(null);$.useEffect(()=>{const B=k?window.setTimeout(()=>G(null),2200):null;return()=>{B&&window.clearTimeout(B)}},[k]),$.useEffect(()=>{i(ir())},[]);function X(B){const z=JSON.stringify(B);m([z]),y(0)}function K(B,z=!0){if(!z){f(ge=>{if(!ge)return ge;const de=ta(ge);return B(de),de.updatedAt=z0(),de});return}const E=w.current;if(!E)return;const O=ta(E);B(O),O.updatedAt=z0(),f(O);const U=C.current,W=D.current;if(U.length===0){X(O);return}const le=JSON.stringify(O);let me=[...U.slice(0,W+1),le];const fe=50;me.length>fe&&(me=me.slice(me.length-fe)),m(me),y(me.length-1)}function Z(){y(B=>{if(B<=0)return B;const z=B-1,E=C.current[z];return E&&f(Sa(JSON.parse(E))),G("Undo"),z})}function V(){y(B=>{if(B>=C.current.length-1)return B;const z=B+1,E=C.current[z];return E&&f(Sa(JSON.parse(E))),G("Redo"),z})}function P(){if(!o)return;const B=J2(o);i(ir()),G(B?"Saved":" ")}function ie(){if(!o)return;const B=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),z=URL.createObjectURL(B),E=document.createElement("a");E.href=z,E.download=`${o.title||"tsumami"}.json`,E.click(),URL.revokeObjectURL(z),G("JSON exported")}function J(B){const z=new FileReader;z.onload=()=>{try{const E=JSON.parse(String(z.result??""));if(!E||typeof E!="object"||!Array.isArray(E.flowers))throw new Error("Invalid JSON");const O=Sa(E);f(O),v({kind:"project"}),X(O),r("editor"),G("Imported")}catch{G("Import failed")}},z.readAsText(B)}function q(B){const z=Sa(B);f(z),v({kind:"project"}),X(z),r("editor")}function Y(B){return B&&(B.kind==="flower"||B.kind==="layer"||B.kind==="petal")?B.flowerId:null}function S(){if(!o)return;const B=Y(p);if(!B)return;const z=o.flowers.find(E=>E.id===B);z&&(h.current=ta(z),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:z},null,2)).catch(()=>{}),G("Flower copied"))}function g(){if(!o||p.kind!=="leaf")return;const B=(o.leaves??[]).find(z=>z.id===p.leafId);B&&(T.current=ta(B),G("Leaf copied"))}function M(){if(!o)return;const B=h.current;if(!B){G("Nothing to paste");return}const z=H2(B,{x:12+Math.random()*10,y:12+Math.random()*10});K(E=>{E.flowers.push(z)},!0),v({kind:"flower",flowerId:z.id}),G("Flower pasted")}function N(){if(!o)return;const B=T.current;if(!B)return;const z=qt("leaf"),E={...ta(B),id:z,name:B.name+" (copy)",position:{x:B.position.x+30,y:B.position.y+30}};K(O=>{O.leaves||(O.leaves=[]),O.leaves.push(E)},!0),v({kind:"leaf",leafId:E.id}),G("Leaf pasted")}function L(B){if(!o)return;const z=Y(p);z&&(K(E=>{const O=E.flowers.findIndex(xe=>xe.id===z);if(O<0)return;const U=E.flowers,W=U[O];if(!W)return;if(U.splice(O,1),B==="front"){U.push(W);return}if(B==="back"){U.unshift(W);return}if(B==="forward"){if(O>=U.length){U.push(W);return}U.splice(O+1,0,W);return}const le=ye(O-1,0,U.length);U.splice(le,0,W)},!0),G(B==="front"?"Brought to front":B==="back"?"Sent to back":B==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function B(E){const O=E;if(!O)return!1;const U=String(O.tagName||"").toLowerCase();return U==="input"||U==="textarea"||U==="select"||!!O.isContentEditable}function z(E){if(!(B(E.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?E.metaKey:E.ctrlKey))){if(c==="editor"){if(E.key.toLowerCase()==="c"){E.preventDefault(),p.kind==="leaf"?g():S();return}if(E.key.toLowerCase()==="v"){E.preventDefault(),T.current&&(p.kind==="leaf"||p.kind==="leaves"||p.kind==="mixed"||!h.current)?N():M();return}}E.key.toLowerCase()==="z"&&(E.preventDefault(),E.shiftKey?V():Z()),E.key.toLowerCase()==="s"&&(E.preventDefault(),P())}}return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[o,d,_,p,c]);const I=$.useMemo(()=>o?W2(o):null,[o]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(tm,{view:c,onNavigate:r,project:o,onSave:P,onLoad:()=>r("home"),onImportJson:()=>R.current?.click(),onExportJson:ie,onExportSvg:()=>{const B=document.querySelector('[data-testid="canvas-svg"]');B&&o&&F2(B,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const B=document.querySelector('[data-testid="canvas-svg"]');B&&o&&$2(B,`${o.title||"tsumami"}.png`)}}),s.jsx("input",{ref:R,type:"file",accept:"application/json",className:"hidden",onChange:B=>{const z=B.target.files?.[0];z&&J(z),B.currentTarget.value=""}}),k&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:k}),s.jsxs("main",{className:"flex-1",children:[c==="home"&&s.jsx(nm,{saved:a,onNew:()=>r("new"),onOpen:B=>{const z=Sa(ta(B));f(z),v({kind:"project"}),X(z),r("editor")},onDelete:B=>{V2(B),i(ir()),G("Deleted")}}),c==="new"&&s.jsx(lm,{onBack:()=>r("home"),onCreate:B=>{const z=U2({title:B});q(z)}}),c==="editor"&&o&&s.jsx(yb,{project:o,selection:p,setSelection:v,applyUpdate:K,onGoRecipe:()=>r("recipe"),onImport:J,dragRef:b,onCopyFlower:S,onPasteFlower:M,onArrangeFlower:L,canPasteFlower:!!h.current,onUndo:Z,onRedo:V,canUndo:_>0,canRedo:_<d.length-1}),c==="recipe"&&o&&I&&s.jsx(_b,{project:o,recipe:I,onBack:()=>r("editor"),onExportJson:ie}),c==="terms"&&s.jsx(Sb,{onBack:()=>r("home")}),c==="privacy"&&s.jsx(wb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!o&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(jb,{onNavigate:r})]})}class Mb extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}M2.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(Mb,{children:s.jsx(Cb,{})})}));

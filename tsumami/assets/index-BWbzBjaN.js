(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var Fc={exports:{}},Ji={};var jd;function ch(){if(jd)return Ji;jd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var C in o)C!=="key"&&(f[C]=o[C])}else f=o;return o=f.ref,{$$typeof:c,type:i,key:m,ref:o!==void 0?o:null,props:f}}return Ji.Fragment=r,Ji.jsx=a,Ji.jsxs=a,Ji}var wd;function sh(){return wd||(wd=1,Fc.exports=ch()),Fc.exports}var s=sh(),$c={exports:{}},je={};var Md;function xh(){if(Md)return je;Md=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),A=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=A&&z[A]||z["@@iterator"],typeof z=="function"?z:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function q(z,B,Y){this.props=z,this.context=B,this.refs=w,this.updater=Y||D}q.prototype.isReactComponent={},q.prototype.setState=function(z,B){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,B,"setState")},q.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=q.prototype;function R(z,B,Y){this.props=z,this.context=B,this.refs=w,this.updater=Y||D}var G=R.prototype=new k;G.constructor=R,j(G,q.prototype),G.isPureReactComponent=!0;var I=Array.isArray;function Q(){}var K={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function ee(z,B,Y){var U=Y.ref;return{$$typeof:c,type:z,key:B,ref:U!==void 0?U:null,props:Y}}function F(z,B){return ee(z.type,B,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===c}function p(z){var B={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Y){return B[Y]})}var S=/\/+/g;function N(z,B){return typeof z=="object"&&z!==null&&z.key!=null?p(""+z.key):B.toString(36)}function _(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Q,Q):(z.status="pending",z.then(function(B){z.status==="pending"&&(z.status="fulfilled",z.value=B)},function(B){z.status==="pending"&&(z.status="rejected",z.reason=B)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function M(z,B,Y,U,ne){var se=typeof z;(se==="undefined"||se==="boolean")&&(z=null);var oe=!1;if(z===null)oe=!0;else switch(se){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(z.$$typeof){case c:case r:oe=!0;break;case v:return oe=z._init,M(oe(z._payload),B,Y,U,ne)}}if(oe)return ne=ne(z),oe=U===""?"."+N(z,0):U,I(ne)?(Y="",oe!=null&&(Y=oe.replace(S,"$&/")+"/"),M(ne,B,Y,"",function(we){return we})):ne!=null&&(V(ne)&&(ne=F(ne,Y+(ne.key==null||z&&z.key===ne.key?"":(""+ne.key).replace(S,"$&/")+"/")+oe)),B.push(ne)),1;oe=0;var fe=U===""?".":U+":";if(I(z))for(var ge=0;ge<z.length;ge++)U=z[ge],se=fe+N(U,ge),oe+=M(U,B,Y,se,ne);else if(ge=b(z),typeof ge=="function")for(z=ge.call(z),ge=0;!(U=z.next()).done;)U=U.value,se=fe+N(U,ge++),oe+=M(U,B,Y,se,ne);else if(se==="object"){if(typeof z.then=="function")return M(_(z),B,Y,U,ne);throw B=String(z),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return oe}function L(z,B,Y){if(z==null)return z;var U=[],ne=0;return M(z,U,"","",function(se){return B.call(Y,se,ne++)}),U}function E(z){if(z._status===-1){var B=z._result;B=B(),B.then(function(Y){(z._status===0||z._status===-1)&&(z._status=1,z._result=Y)},function(Y){(z._status===0||z._status===-1)&&(z._status=2,z._result=Y)}),z._status===-1&&(z._status=0,z._result=B)}if(z._status===1)return z._result.default;throw z._result}var Z=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},O={map:L,forEach:function(z,B,Y){L(z,function(){B.apply(this,arguments)},Y)},count:function(z){var B=0;return L(z,function(){B++}),B},toArray:function(z){return L(z,function(B){return B})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return je.Activity=g,je.Children=O,je.Component=q,je.Fragment=a,je.Profiler=o,je.PureComponent=R,je.StrictMode=i,je.Suspense=h,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,je.__COMPILER_RUNTIME={__proto__:null,c:function(z){return K.H.useMemoCache(z)}},je.cache=function(z){return function(){return z.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(z,B,Y){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var U=j({},z.props),ne=z.key;if(B!=null)for(se in B.key!==void 0&&(ne=""+B.key),B)!J.call(B,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&B.ref===void 0||(U[se]=B[se]);var se=arguments.length-2;if(se===1)U.children=Y;else if(1<se){for(var oe=Array(se),fe=0;fe<se;fe++)oe[fe]=arguments[fe+2];U.children=oe}return ee(z.type,ne,U)},je.createContext=function(z){return z={$$typeof:m,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:f,_context:z},z},je.createElement=function(z,B,Y){var U,ne={},se=null;if(B!=null)for(U in B.key!==void 0&&(se=""+B.key),B)J.call(B,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(ne[U]=B[U]);var oe=arguments.length-2;if(oe===1)ne.children=Y;else if(1<oe){for(var fe=Array(oe),ge=0;ge<oe;ge++)fe[ge]=arguments[ge+2];ne.children=fe}if(z&&z.defaultProps)for(U in oe=z.defaultProps,oe)ne[U]===void 0&&(ne[U]=oe[U]);return ee(z,se,ne)},je.createRef=function(){return{current:null}},je.forwardRef=function(z){return{$$typeof:C,render:z}},je.isValidElement=V,je.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:E}},je.memo=function(z,B){return{$$typeof:d,type:z,compare:B===void 0?null:B}},je.startTransition=function(z){var B=K.T,Y={};K.T=Y;try{var U=z(),ne=K.S;ne!==null&&ne(Y,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(Q,Z)}catch(se){Z(se)}finally{B!==null&&Y.types!==null&&(B.types=Y.types),K.T=B}},je.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},je.use=function(z){return K.H.use(z)},je.useActionState=function(z,B,Y){return K.H.useActionState(z,B,Y)},je.useCallback=function(z,B){return K.H.useCallback(z,B)},je.useContext=function(z){return K.H.useContext(z)},je.useDebugValue=function(){},je.useDeferredValue=function(z,B){return K.H.useDeferredValue(z,B)},je.useEffect=function(z,B){return K.H.useEffect(z,B)},je.useEffectEvent=function(z){return K.H.useEffectEvent(z)},je.useId=function(){return K.H.useId()},je.useImperativeHandle=function(z,B,Y){return K.H.useImperativeHandle(z,B,Y)},je.useInsertionEffect=function(z,B){return K.H.useInsertionEffect(z,B)},je.useLayoutEffect=function(z,B){return K.H.useLayoutEffect(z,B)},je.useMemo=function(z,B){return K.H.useMemo(z,B)},je.useOptimistic=function(z,B){return K.H.useOptimistic(z,B)},je.useReducer=function(z,B,Y){return K.H.useReducer(z,B,Y)},je.useRef=function(z){return K.H.useRef(z)},je.useState=function(z){return K.H.useState(z)},je.useSyncExternalStore=function(z,B,Y){return K.H.useSyncExternalStore(z,B,Y)},je.useTransition=function(){return K.H.useTransition()},je.version="19.2.3",je}var zd;function Ts(){return zd||(zd=1,$c.exports=xh()),$c.exports}var P=Ts(),es={exports:{}},Wi={},ts={exports:{}},ns={};var Dd;function oh(){return Dd||(Dd=1,(function(c){function r(M,L){var E=M.length;M.push(L);e:for(;0<E;){var Z=E-1>>>1,O=M[Z];if(0<o(O,L))M[Z]=L,M[E]=O,E=Z;else break e}}function a(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var L=M[0],E=M.pop();if(E!==L){M[0]=E;e:for(var Z=0,O=M.length,z=O>>>1;Z<z;){var B=2*(Z+1)-1,Y=M[B],U=B+1,ne=M[U];if(0>o(Y,E))U<O&&0>o(ne,Y)?(M[Z]=ne,M[U]=E,Z=U):(M[Z]=Y,M[B]=E,Z=B);else if(U<O&&0>o(ne,E))M[Z]=ne,M[U]=E,Z=U;else break e}}return L}function o(M,L){var E=M.sortIndex-L.sortIndex;return E!==0?E:M.id-L.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var m=Date,C=m.now();c.unstable_now=function(){return m.now()-C}}var h=[],d=[],v=1,g=null,A=3,b=!1,D=!1,j=!1,w=!1,q=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function G(M){for(var L=a(d);L!==null;){if(L.callback===null)i(d);else if(L.startTime<=M)i(d),L.sortIndex=L.expirationTime,r(h,L);else break;L=a(d)}}function I(M){if(j=!1,G(M),!D)if(a(h)!==null)D=!0,Q||(Q=!0,p());else{var L=a(d);L!==null&&_(I,L.startTime-M)}}var Q=!1,K=-1,J=5,ee=-1;function F(){return w?!0:!(c.unstable_now()-ee<J)}function V(){if(w=!1,Q){var M=c.unstable_now();ee=M;var L=!0;try{e:{D=!1,j&&(j=!1,k(K),K=-1),b=!0;var E=A;try{t:{for(G(M),g=a(h);g!==null&&!(g.expirationTime>M&&F());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,A=g.priorityLevel;var O=Z(g.expirationTime<=M);if(M=c.unstable_now(),typeof O=="function"){g.callback=O,G(M),L=!0;break t}g===a(h)&&i(h),G(M)}else i(h);g=a(h)}if(g!==null)L=!0;else{var z=a(d);z!==null&&_(I,z.startTime-M),L=!1}}break e}finally{g=null,A=E,b=!1}L=void 0}}finally{L?p():Q=!1}}}var p;if(typeof R=="function")p=function(){R(V)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,N=S.port2;S.port1.onmessage=V,p=function(){N.postMessage(null)}}else p=function(){q(V,0)};function _(M,L){K=q(function(){M(c.unstable_now())},L)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(M){M.callback=null},c.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<M?Math.floor(1e3/M):5},c.unstable_getCurrentPriorityLevel=function(){return A},c.unstable_next=function(M){switch(A){case 1:case 2:case 3:var L=3;break;default:L=A}var E=A;A=L;try{return M()}finally{A=E}},c.unstable_requestPaint=function(){w=!0},c.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var E=A;A=M;try{return L()}finally{A=E}},c.unstable_scheduleCallback=function(M,L,E){var Z=c.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?Z+E:Z):E=Z,M){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=E+O,M={id:v++,callback:L,priorityLevel:M,startTime:E,expirationTime:O,sortIndex:-1},E>Z?(M.sortIndex=E,r(d,M),a(h)===null&&M===a(d)&&(j?(k(K),K=-1):j=!0,_(I,E-Z))):(M.sortIndex=O,r(h,M),D||b||(D=!0,Q||(Q=!0,p()))),M},c.unstable_shouldYield=F,c.unstable_wrapCallback=function(M){var L=A;return function(){var E=A;A=L;try{return M.apply(this,arguments)}finally{A=E}}}})(ns)),ns}var Nd;function fh(){return Nd||(Nd=1,ts.exports=oh()),ts.exports}var ls={exports:{}},Yt={};var Ad;function dh(){if(Ad)return Yt;Ad=1;var c=Ts();function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(h,d,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:h,containerInfo:d,implementation:v}}var m=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function C(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Yt.createPortal=function(h,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return f(h,d,null,v)},Yt.flushSync=function(h){var d=m.T,v=i.p;try{if(m.T=null,i.p=2,h)return h()}finally{m.T=d,i.p=v,i.d.f()}},Yt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Yt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Yt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var v=d.as,g=C(v,d.crossOrigin),A=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:A,fetchPriority:b}):v==="script"&&i.d.X(h,{crossOrigin:g,integrity:A,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Yt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=C(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Yt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,g=C(v,d.crossOrigin);i.d.L(h,v,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Yt.preloadModule=function(h,d){if(typeof h=="string")if(d){var v=C(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Yt.requestFormReset=function(h){i.d.r(h)},Yt.unstable_batchedUpdates=function(h,d){return h(d)},Yt.useFormState=function(h,d,v){return m.H.useFormState(h,d,v)},Yt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var Td;function hh(){if(Td)return ls.exports;Td=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),ls.exports=dh(),ls.exports}var Ld;function mh(){if(Ld)return Wi;Ld=1;var c=fh(),r=Ts(),a=hh();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function C(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var x=u.alternate;if(x===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===x.child){for(x=u.child;x;){if(x===n)return h(u),e;if(x===l)return h(u),t;x=x.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=x;else{for(var y=!1,T=u.child;T;){if(T===n){y=!0,n=u,l=x;break}if(T===l){y=!0,l=u,n=x;break}T=T.sibling}if(!y){for(T=x.child;T;){if(T===n){y=!0,n=x,l=u;break}if(T===l){y=!0,l=x,n=u;break}T=T.sibling}if(!y)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function p(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function N(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case q:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case Q:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case R:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:N(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return N(e(t))}catch{}}return null}var _=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E={pending:!1,data:null,method:null,action:null},Z=[],O=-1;function z(e){return{current:e}}function B(e){0>O||(e.current=Z[O],Z[O]=null,O--)}function Y(e,t){O++,Z[O]=e.current,e.current=t}var U=z(null),ne=z(null),se=z(null),oe=z(null);function fe(e,t){switch(Y(se,t),Y(ne,e),Y(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vf(t),e=Jf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(U),Y(U,e)}function ge(){B(U),B(ne),B(se)}function we(e){e.memoizedState!==null&&Y(oe,e);var t=U.current,n=Jf(t,e.type);t!==n&&(Y(ne,e),Y(U,n))}function me(e){ne.current===e&&(B(U),B(ne)),oe.current===e&&(B(oe),Zi._currentValue=E)}var Re,Me;function Ae(e){if(Re===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Re=t&&t[1]||"",Me=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+e+Me}var Te=!1;function Xe(e,t){if(!e||Te)return"";Te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var le=ae}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ae){le=ae}e.call(ue.prototype)}}else{try{throw Error()}catch(ae){le=ae}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&le&&typeof ae.stack=="string")return[ae.stack,le.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),y=x[0],T=x[1];if(y&&T){var H=y.split(`
`),te=T.split(`
`);for(u=l=0;l<H.length&&!H[l].includes("DetermineComponentFrameRoot");)l++;for(;u<te.length&&!te[u].includes("DetermineComponentFrameRoot");)u++;if(l===H.length||u===te.length)for(l=H.length-1,u=te.length-1;1<=l&&0<=u&&H[l]!==te[u];)u--;for(;1<=l&&0<=u;l--,u--)if(H[l]!==te[u]){if(l!==1||u!==1)do if(l--,u--,0>u||H[l]!==te[u]){var ie=`
`+H[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=u);break}}}finally{Te=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ae(n):""}function lt(e,t){switch(e.tag){case 26:case 27:case 5:return Ae(e.type);case 16:return Ae("Lazy");case 13:return e.child!==t&&t!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return Xe(e.type,!1);case 11:return Xe(e.type.render,!1);case 1:return Xe(e.type,!0);case 31:return Ae("Activity");default:return""}}function st(e){try{var t="",n=null;do t+=lt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gt=Object.prototype.hasOwnProperty,It=c.unstable_scheduleCallback,Tn=c.unstable_cancelCallback,Qn=c.unstable_shouldYield,Pn=c.unstable_requestPaint,Ve=c.unstable_now,an=c.unstable_getCurrentPriorityLevel,vl=c.unstable_ImmediatePriority,Xl=c.unstable_UserBlockingPriority,Ln=c.unstable_NormalPriority,ma=c.unstable_LowPriority,En=c.unstable_IdlePriority,li=c.log,Vl=c.unstable_setDisableYieldValue,Fn=null,Tt=null;function Je(e){if(typeof li=="function"&&Vl(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Fn,e)}catch{}}var xe=Math.clz32?Math.clz32:Le,Ne=Math.log,Ie=Math.LN2;function Le(e){return e>>>=0,e===0?32:31-(Ne(e)/Ie|0)|0}var Ce=256,rt=262144,He=4194304;function Se(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dt(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,x=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~x,l!==0?u=Se(l):(y&=T,y!==0?u=Se(y):n||(n=T&~e,n!==0&&(u=Se(n))))):(T=l&~x,T!==0?u=Se(T):y!==0?u=Se(y):n||(n=l&~e,n!==0&&(u=Se(n)))),u===0?0:t!==0&&t!==u&&(t&x)===0&&(x=u&-u,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:u}function ct(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ht(){var e=He;return He<<=1,(He&62914560)===0&&(He=4194304),e}function Qe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dt(e,t,n,l,u,x){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,H=e.expirationTimes,te=e.hiddenUpdates;for(n=y&~n;0<n;){var ie=31-xe(n),ue=1<<ie;T[ie]=0,H[ie]=-1;var le=te[ie];if(le!==null)for(te[ie]=null,ie=0;ie<le.length;ie++){var ae=le[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ue}l!==0&&Ee(e,l,0),x!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=x&~(y&~t))}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-xe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Lt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-xe(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function yt(e,t){var n=t&-t;return n=(n&42)!==0?1:xt(n),(n&(e.suspendedLanes|t))!==0?0:n}function xt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ai(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ir(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:gd(e.type))}function rr(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Un=Math.random().toString(36).slice(2),wt="__reactFiber$"+Un,Ht="__reactProps$"+Un,de="__reactContainer$"+Un,ve="__reactEvents$"+Un,Ue="__reactListeners$"+Un,Vt="__reactHandles$"+Un,pt="__reactResources$"+Un,rn="__reactMarker$"+Un;function ii(e){delete e[wt],delete e[Ht],delete e[ve],delete e[Ue],delete e[Vt]}function ba(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[de]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=td(e);e!==null;){if(n=e[wt])return n;e=td(e)}return t}e=n,n=e.parentNode}return null}function ga(e){if(e=e[wt]||e[de]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ri(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function va(e){var t=e[pt];return t||(t=e[pt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Nt(e){e[rn]=!0}var Es=new Set,Bs={};function Jl(e,t){ya(e,t),ya(e+"Capture",t)}function ya(e,t){for(Bs[e]=t,e=0;e<t.length;e++)Es.add(t[e])}var $d=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qs={},Rs={};function e1(e){return gt.call(Rs,e)?!0:gt.call(qs,e)?!1:$d.test(e)?Rs[e]=!0:(qs[e]=!0,!1)}function ur(e,t,n){if(e1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function cr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function $n(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ks(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function t1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){n=""+y,x.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function K0(e){if(!e._valueTracker){var t=ks(e)?"checked":"value";e._valueTracker=t1(e,t,""+e[t])}}function Gs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=ks(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function sr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var n1=/[\n"\\]/g;function gn(e){return e.replace(n1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function X0(e,t,n,l,u,x,y,T){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bn(t)):e.value!==""+bn(t)&&(e.value=""+bn(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?V0(e,y,bn(t)):n!=null?V0(e,y,bn(n)):l!=null&&e.removeAttribute("value"),u==null&&x!=null&&(e.defaultChecked=!!x),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+bn(T):e.removeAttribute("name")}function Os(e,t,n,l,u,x,y,T){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){K0(e);return}n=n!=null?""+bn(n):"",t=t!=null?""+bn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),K0(e)}function V0(e,t,n){t==="number"&&sr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function pa(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Hs(e,t,n){if(t!=null&&(t=""+bn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+bn(n):""}function Ys(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(_(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=bn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),K0(e)}function _a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var l1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Is(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||l1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Us(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Is(e,u,l)}else for(var x in t)t.hasOwnProperty(x)&&Is(e,x,t[x])}function J0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(e){return i1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function el(){}var W0=null;function Q0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sa=null,Ca=null;function Zs(e){var t=ga(e);if(t&&(e=t.stateNode)){var n=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(X0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Ht]||null;if(!u)throw Error(i(90));X0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Gs(l)}break e;case"textarea":Hs(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&pa(e,!!n.multiple,t,!1)}}}var P0=!1;function Ks(e,t,n){if(P0)return e(t,n);P0=!0;try{var l=e(t);return l}finally{if(P0=!1,(Sa!==null||Ca!==null)&&(Pr(),Sa&&(t=Sa,e=Ca,Ca=Sa=null,Zs(t),e)))for(t=0;t<e.length;t++)Zs(e[t])}}function ui(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ht]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F0=!1;if(tl)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){F0=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{F0=!1}var yl=null,$0=null,or=null;function Xs(){if(or)return or;var e,t=$0,n=t.length,l,u="value"in yl?yl.value:yl.textContent,x=u.length;for(e=0;e<n&&t[e]===u[e];e++);var y=n-e;for(l=1;l<=y&&t[n-l]===u[x-l];l++);return or=u.slice(e,1<l?1-l:void 0)}function fr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dr(){return!0}function Vs(){return!1}function Jt(e){function t(n,l,u,x,y){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=x,this.target=y,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?dr:Vs,this.isPropagationStopped=Vs,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),t}var Wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=Jt(Wl),si=g({},Wl,{view:0,detail:0}),r1=Jt(si),eu,tu,xi,mr=g({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(eu=e.screenX-xi.screenX,tu=e.screenY-xi.screenY):tu=eu=0,xi=e),eu)},movementY:function(e){return"movementY"in e?e.movementY:tu}}),Js=Jt(mr),u1=g({},mr,{dataTransfer:0}),c1=Jt(u1),s1=g({},si,{relatedTarget:0}),nu=Jt(s1),x1=g({},Wl,{animationName:0,elapsedTime:0,pseudoElement:0}),o1=Jt(x1),f1=g({},Wl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d1=Jt(f1),h1=g({},Wl,{data:0}),Ws=Jt(h1),m1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g1[e])?!!t[e]:!1}function lu(){return v1}var y1=g({},si,{key:function(e){if(e.key){var t=m1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p1=Jt(y1),_1=g({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=Jt(_1),S1=g({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),C1=Jt(S1),j1=g({},Wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),w1=Jt(j1),M1=g({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z1=Jt(M1),D1=g({},Wl,{newState:0,oldState:0}),N1=Jt(D1),A1=[9,13,27,32],au=tl&&"CompositionEvent"in window,oi=null;tl&&"documentMode"in document&&(oi=document.documentMode);var T1=tl&&"TextEvent"in window&&!oi,Ps=tl&&(!au||oi&&8<oi&&11>=oi),Fs=" ",$s=!1;function ex(e,t){switch(e){case"keyup":return A1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ja=!1;function L1(e,t){switch(e){case"compositionend":return tx(t);case"keypress":return t.which!==32?null:($s=!0,Fs);case"textInput":return e=t.data,e===Fs&&$s?null:e;default:return null}}function E1(e,t){if(ja)return e==="compositionend"||!au&&ex(e,t)?(e=Xs(),or=$0=yl=null,ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ps&&t.locale!=="ko"?null:t.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B1[e.type]:t==="textarea"}function lx(e,t,n,l){Sa?Ca?Ca.push(l):Ca=[l]:Sa=l,t=a0(t,"onChange"),0<t.length&&(n=new hr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var fi=null,di=null;function q1(e){Yf(e,0)}function br(e){var t=ri(e);if(Gs(t))return e}function ax(e,t){if(e==="change")return t}var ix=!1;if(tl){var iu;if(tl){var ru="oninput"in document;if(!ru){var rx=document.createElement("div");rx.setAttribute("oninput","return;"),ru=typeof rx.oninput=="function"}iu=ru}else iu=!1;ix=iu&&(!document.documentMode||9<document.documentMode)}function ux(){fi&&(fi.detachEvent("onpropertychange",cx),di=fi=null)}function cx(e){if(e.propertyName==="value"&&br(di)){var t=[];lx(t,di,e,Q0(e)),Ks(q1,t)}}function R1(e,t,n){e==="focusin"?(ux(),fi=t,di=n,fi.attachEvent("onpropertychange",cx)):e==="focusout"&&ux()}function k1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return br(di)}function G1(e,t){if(e==="click")return br(t)}function O1(e,t){if(e==="input"||e==="change")return br(t)}function H1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:H1;function hi(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!gt.call(t,u)||!un(e[u],t[u]))return!1}return!0}function sx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xx(e,t){var n=sx(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sx(n)}}function ox(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ox(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=sr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sr(e.document)}return t}function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Y1=tl&&"documentMode"in document&&11>=document.documentMode,wa=null,cu=null,mi=null,su=!1;function dx(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;su||wa==null||wa!==sr(l)||(l=wa,"selectionStart"in l&&uu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),mi&&hi(mi,l)||(mi=l,l=a0(cu,"onSelect"),0<l.length&&(t=new hr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=wa)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ma={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionrun:Ql("Transition","TransitionRun"),transitionstart:Ql("Transition","TransitionStart"),transitioncancel:Ql("Transition","TransitionCancel"),transitionend:Ql("Transition","TransitionEnd")},xu={},hx={};tl&&(hx=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Pl(e){if(xu[e])return xu[e];if(!Ma[e])return e;var t=Ma[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hx)return xu[e]=t[n];return e}var mx=Pl("animationend"),bx=Pl("animationiteration"),gx=Pl("animationstart"),I1=Pl("transitionrun"),U1=Pl("transitionstart"),Z1=Pl("transitioncancel"),vx=Pl("transitionend"),yx=new Map,ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ou.push("scrollEnd");function qn(e,t){yx.set(e,t),Jl(t,[e])}var gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vn=[],za=0,fu=0;function vr(){for(var e=za,t=fu=za=0;t<e;){var n=vn[t];vn[t++]=null;var l=vn[t];vn[t++]=null;var u=vn[t];vn[t++]=null;var x=vn[t];if(vn[t++]=null,l!==null&&u!==null){var y=l.pending;y===null?u.next=u:(u.next=y.next,y.next=u),l.pending=u}x!==0&&px(n,u,x)}}function yr(e,t,n,l){vn[za++]=e,vn[za++]=t,vn[za++]=n,vn[za++]=l,fu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function du(e,t,n,l){return yr(e,t,n,l),pr(e)}function Fl(e,t){return yr(e,null,null,t),pr(e)}function px(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(u=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,u&&t!==null&&(u=31-xe(n),e=x.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),x):null}function pr(e){if(50<ki)throw ki=0,Sc=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Da={};function K1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,l){return new K1(e,t,n,l)}function hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nl(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function _x(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _r(e,t,n,l,u,x){var y=0;if(l=e,typeof e=="function")hu(e)&&(y=1);else if(typeof e=="string")y=Q2(e,n,U.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=cn(31,n,t,u),e.elementType=ee,e.lanes=x,e;case j:return $l(n.children,u,x,t);case w:y=8,u|=24;break;case q:return e=cn(12,n,t,u|2),e.elementType=q,e.lanes=x,e;case I:return e=cn(13,n,t,u),e.elementType=I,e.lanes=x,e;case Q:return e=cn(19,n,t,u),e.elementType=Q,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:y=10;break e;case k:y=9;break e;case G:y=11;break e;case K:y=14;break e;case J:y=16,l=null;break e}y=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=cn(y,n,t,u),t.elementType=e,t.type=l,t.lanes=x,t}function $l(e,t,n,l){return e=cn(7,e,l,t),e.lanes=n,e}function mu(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function Sx(e){var t=cn(18,null,null,0);return t.stateNode=e,t}function bu(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Cx=new WeakMap;function yn(e,t){if(typeof e=="object"&&e!==null){var n=Cx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:st(t)},Cx.set(e,t),t)}return{value:e,source:t,stack:st(t)}}var Na=[],Aa=0,Sr=null,bi=0,pn=[],_n=0,pl=null,Zn=1,Kn="";function ll(e,t){Na[Aa++]=bi,Na[Aa++]=Sr,Sr=e,bi=t}function jx(e,t,n){pn[_n++]=Zn,pn[_n++]=Kn,pn[_n++]=pl,pl=e;var l=Zn;e=Kn;var u=32-xe(l)-1;l&=~(1<<u),n+=1;var x=32-xe(t)+u;if(30<x){var y=u-u%5;x=(l&(1<<y)-1).toString(32),l>>=y,u-=y,Zn=1<<32-xe(t)+u|n<<u|l,Kn=x+e}else Zn=1<<x|n<<u|l,Kn=e}function gu(e){e.return!==null&&(ll(e,1),jx(e,1,0))}function vu(e){for(;e===Sr;)Sr=Na[--Aa],Na[Aa]=null,bi=Na[--Aa],Na[Aa]=null;for(;e===pl;)pl=pn[--_n],pn[_n]=null,Kn=pn[--_n],pn[_n]=null,Zn=pn[--_n],pn[_n]=null}function wx(e,t){pn[_n++]=Zn,pn[_n++]=Kn,pn[_n++]=pl,Zn=t.id,Kn=t.overflow,pl=e}var Et=null,at=null,Oe=!1,_l=null,Sn=!1,yu=Error(i(519));function Sl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gi(yn(t,e)),yu}function Mx(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[wt]=e,t[Ht]=l,n){case"dialog":qe("cancel",t),qe("close",t);break;case"iframe":case"object":case"embed":qe("load",t);break;case"video":case"audio":for(n=0;n<Oi.length;n++)qe(Oi[n],t);break;case"source":qe("error",t);break;case"img":case"image":case"link":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"input":qe("invalid",t),Os(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",t);break;case"textarea":qe("invalid",t),Ys(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Kf(t.textContent,n)?(l.popover!=null&&(qe("beforetoggle",t),qe("toggle",t)),l.onScroll!=null&&qe("scroll",t),l.onScrollEnd!=null&&qe("scrollend",t),l.onClick!=null&&(t.onclick=el),t=!0):t=!1,t||Sl(e,!0)}function zx(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:Et=Et.return}}function Ta(e){if(e!==Et)return!1;if(!Oe)return zx(e),Oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||kc(e.type,e.memoizedProps)),n=!n),n&&at&&Sl(e),zx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));at=ed(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));at=ed(e)}else t===27?(t=at,Rl(e.type)?(e=Ic,Ic=null,at=e):at=t):at=Et?jn(e.stateNode.nextSibling):null;return!0}function ea(){at=Et=null,Oe=!1}function pu(){var e=_l;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),_l=null),e}function gi(e){_l===null?_l=[e]:_l.push(e)}var _u=z(null),ta=null,al=null;function Cl(e,t,n){Y(_u,t._currentValue),t._currentValue=n}function il(e){e._currentValue=_u.current,B(_u)}function Su(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Cu(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var x=u.dependencies;if(x!==null){var y=u.child;x=x.firstContext;e:for(;x!==null;){var T=x;x=u;for(var H=0;H<t.length;H++)if(T.context===t[H]){x.lanes|=n,T=x.alternate,T!==null&&(T.lanes|=n),Su(x.return,n,e),l||(y=null);break e}x=T.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(i(341));y.lanes|=n,x=y.alternate,x!==null&&(x.lanes|=n),Su(y,n,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function La(e,t,n,l){e=null;for(var u=t,x=!1;u!==null;){if(!x){if((u.flags&524288)!==0)x=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var T=u.type;un(u.pendingProps.value,y.value)||(e!==null?e.push(T):e=[T])}}else if(u===oe.current){if(y=u.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Zi):e=[Zi])}u=u.return}e!==null&&Cu(t,e,n,l),t.flags|=262144}function Cr(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){ta=e,al=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return Dx(ta,e)}function jr(e,t){return ta===null&&na(e),Dx(e,t)}function Dx(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},al===null){if(e===null)throw Error(i(308));al=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else al=al.next=t;return n}var X1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},V1=c.unstable_scheduleCallback,J1=c.unstable_NormalPriority,_t={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ju(){return{controller:new X1,data:new Map,refCount:0}}function vi(e){e.refCount--,e.refCount===0&&V1(J1,function(){e.controller.abort()})}var yi=null,wu=0,Ea=0,Ba=null;function W1(e,t){if(yi===null){var n=yi=[];wu=0,Ea=Dc(),Ba={status:"pending",value:void 0,then:function(l){n.push(l)}}}return wu++,t.then(Nx,Nx),t}function Nx(){if(--wu===0&&yi!==null){Ba!==null&&(Ba.status="fulfilled");var e=yi;yi=null,Ea=0,Ba=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Q1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Ax=M.S;M.S=function(e,t){mf=Ve(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&W1(e,t),Ax!==null&&Ax(e,t)};var la=z(null);function Mu(){var e=la.current;return e!==null?e:nt.pooledCache}function wr(e,t){t===null?Y(la,la.current):Y(la,t.pool)}function Tx(){var e=Mu();return e===null?null:{parent:_t._currentValue,pool:e}}var qa=Error(i(460)),zu=Error(i(474)),Mr=Error(i(542)),zr={then:function(){}};function Lx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ex(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(el,el),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qx(e),e;default:if(typeof t.status=="string")t.then(el,el);else{if(e=nt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qx(e),e}throw ia=t,qa}}function aa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ia=n,qa):n}}var ia=null;function Bx(){if(ia===null)throw Error(i(459));var e=ia;return ia=null,e}function qx(e){if(e===qa||e===Mr)throw Error(i(483))}var Ra=null,pi=0;function Dr(e){var t=pi;return pi+=1,Ra===null&&(Ra=[]),Ex(Ra,e,t)}function _i(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Nr(e,t){throw t.$$typeof===A?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rx(e){function t(W,X){if(e){var $=W.deletions;$===null?(W.deletions=[X],W.flags|=16):$.push(X)}}function n(W,X){if(!e)return null;for(;X!==null;)t(W,X),X=X.sibling;return null}function l(W){for(var X=new Map;W!==null;)W.key!==null?X.set(W.key,W):X.set(W.index,W),W=W.sibling;return X}function u(W,X){return W=nl(W,X),W.index=0,W.sibling=null,W}function x(W,X,$){return W.index=$,e?($=W.alternate,$!==null?($=$.index,$<X?(W.flags|=67108866,X):$):(W.flags|=67108866,X)):(W.flags|=1048576,X)}function y(W){return e&&W.alternate===null&&(W.flags|=67108866),W}function T(W,X,$,re){return X===null||X.tag!==6?(X=mu($,W.mode,re),X.return=W,X):(X=u(X,$),X.return=W,X)}function H(W,X,$,re){var ye=$.type;return ye===j?ie(W,X,$.props.children,re,$.key):X!==null&&(X.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===J&&aa(ye)===X.type)?(X=u(X,$.props),_i(X,$),X.return=W,X):(X=_r($.type,$.key,$.props,null,W.mode,re),_i(X,$),X.return=W,X)}function te(W,X,$,re){return X===null||X.tag!==4||X.stateNode.containerInfo!==$.containerInfo||X.stateNode.implementation!==$.implementation?(X=bu($,W.mode,re),X.return=W,X):(X=u(X,$.children||[]),X.return=W,X)}function ie(W,X,$,re,ye){return X===null||X.tag!==7?(X=$l($,W.mode,re,ye),X.return=W,X):(X=u(X,$),X.return=W,X)}function ue(W,X,$){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=mu(""+X,W.mode,$),X.return=W,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return $=_r(X.type,X.key,X.props,null,W.mode,$),_i($,X),$.return=W,$;case D:return X=bu(X,W.mode,$),X.return=W,X;case J:return X=aa(X),ue(W,X,$)}if(_(X)||p(X))return X=$l(X,W.mode,$,null),X.return=W,X;if(typeof X.then=="function")return ue(W,Dr(X),$);if(X.$$typeof===R)return ue(W,jr(W,X),$);Nr(W,X)}return null}function le(W,X,$,re){var ye=X!==null?X.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ye!==null?null:T(W,X,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===ye?H(W,X,$,re):null;case D:return $.key===ye?te(W,X,$,re):null;case J:return $=aa($),le(W,X,$,re)}if(_($)||p($))return ye!==null?null:ie(W,X,$,re,null);if(typeof $.then=="function")return le(W,X,Dr($),re);if($.$$typeof===R)return le(W,X,jr(W,$),re);Nr(W,$)}return null}function ae(W,X,$,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return W=W.get($)||null,T(X,W,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return W=W.get(re.key===null?$:re.key)||null,H(X,W,re,ye);case D:return W=W.get(re.key===null?$:re.key)||null,te(X,W,re,ye);case J:return re=aa(re),ae(W,X,$,re,ye)}if(_(re)||p(re))return W=W.get($)||null,ie(X,W,re,ye,null);if(typeof re.then=="function")return ae(W,X,$,Dr(re),ye);if(re.$$typeof===R)return ae(W,X,$,jr(X,re),ye);Nr(X,re)}return null}function he(W,X,$,re){for(var ye=null,Ze=null,be=X,De=X=0,Ge=null;be!==null&&De<$.length;De++){be.index>De?(Ge=be,be=null):Ge=be.sibling;var Ke=le(W,be,$[De],re);if(Ke===null){be===null&&(be=Ge);break}e&&be&&Ke.alternate===null&&t(W,be),X=x(Ke,X,De),Ze===null?ye=Ke:Ze.sibling=Ke,Ze=Ke,be=Ge}if(De===$.length)return n(W,be),Oe&&ll(W,De),ye;if(be===null){for(;De<$.length;De++)be=ue(W,$[De],re),be!==null&&(X=x(be,X,De),Ze===null?ye=be:Ze.sibling=be,Ze=be);return Oe&&ll(W,De),ye}for(be=l(be);De<$.length;De++)Ge=ae(be,W,De,$[De],re),Ge!==null&&(e&&Ge.alternate!==null&&be.delete(Ge.key===null?De:Ge.key),X=x(Ge,X,De),Ze===null?ye=Ge:Ze.sibling=Ge,Ze=Ge);return e&&be.forEach(function(Yl){return t(W,Yl)}),Oe&&ll(W,De),ye}function pe(W,X,$,re){if($==null)throw Error(i(151));for(var ye=null,Ze=null,be=X,De=X=0,Ge=null,Ke=$.next();be!==null&&!Ke.done;De++,Ke=$.next()){be.index>De?(Ge=be,be=null):Ge=be.sibling;var Yl=le(W,be,Ke.value,re);if(Yl===null){be===null&&(be=Ge);break}e&&be&&Yl.alternate===null&&t(W,be),X=x(Yl,X,De),Ze===null?ye=Yl:Ze.sibling=Yl,Ze=Yl,be=Ge}if(Ke.done)return n(W,be),Oe&&ll(W,De),ye;if(be===null){for(;!Ke.done;De++,Ke=$.next())Ke=ue(W,Ke.value,re),Ke!==null&&(X=x(Ke,X,De),Ze===null?ye=Ke:Ze.sibling=Ke,Ze=Ke);return Oe&&ll(W,De),ye}for(be=l(be);!Ke.done;De++,Ke=$.next())Ke=ae(be,W,De,Ke.value,re),Ke!==null&&(e&&Ke.alternate!==null&&be.delete(Ke.key===null?De:Ke.key),X=x(Ke,X,De),Ze===null?ye=Ke:Ze.sibling=Ke,Ze=Ke);return e&&be.forEach(function(uh){return t(W,uh)}),Oe&&ll(W,De),ye}function tt(W,X,$,re){if(typeof $=="object"&&$!==null&&$.type===j&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var ye=$.key;X!==null;){if(X.key===ye){if(ye=$.type,ye===j){if(X.tag===7){n(W,X.sibling),re=u(X,$.props.children),re.return=W,W=re;break e}}else if(X.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===J&&aa(ye)===X.type){n(W,X.sibling),re=u(X,$.props),_i(re,$),re.return=W,W=re;break e}n(W,X);break}else t(W,X);X=X.sibling}$.type===j?(re=$l($.props.children,W.mode,re,$.key),re.return=W,W=re):(re=_r($.type,$.key,$.props,null,W.mode,re),_i(re,$),re.return=W,W=re)}return y(W);case D:e:{for(ye=$.key;X!==null;){if(X.key===ye)if(X.tag===4&&X.stateNode.containerInfo===$.containerInfo&&X.stateNode.implementation===$.implementation){n(W,X.sibling),re=u(X,$.children||[]),re.return=W,W=re;break e}else{n(W,X);break}else t(W,X);X=X.sibling}re=bu($,W.mode,re),re.return=W,W=re}return y(W);case J:return $=aa($),tt(W,X,$,re)}if(_($))return he(W,X,$,re);if(p($)){if(ye=p($),typeof ye!="function")throw Error(i(150));return $=ye.call($),pe(W,X,$,re)}if(typeof $.then=="function")return tt(W,X,Dr($),re);if($.$$typeof===R)return tt(W,X,jr(W,$),re);Nr(W,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,X!==null&&X.tag===6?(n(W,X.sibling),re=u(X,$),re.return=W,W=re):(n(W,X),re=mu($,W.mode,re),re.return=W,W=re),y(W)):n(W,X)}return function(W,X,$,re){try{pi=0;var ye=tt(W,X,$,re);return Ra=null,ye}catch(be){if(be===qa||be===Mr)throw be;var Ze=cn(29,be,null,W.mode);return Ze.lanes=re,Ze.return=W,Ze}}}var ra=Rx(!0),kx=Rx(!1),jl=!1;function Du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ml(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=pr(e),px(e,null,n),t}return yr(e,l,t,n),pr(e)}function Si(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Lt(e,n)}}function Au(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?u=x=y:x=x.next=y,n=n.next}while(n!==null);x===null?u=x=t:x=x.next=t}else u=x=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Tu=!1;function Ci(){if(Tu){var e=Ba;if(e!==null)throw e}}function ji(e,t,n,l){Tu=!1;var u=e.updateQueue;jl=!1;var x=u.firstBaseUpdate,y=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var H=T,te=H.next;H.next=null,y===null?x=te:y.next=te,y=H;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==y&&(T===null?ie.firstBaseUpdate=te:T.next=te,ie.lastBaseUpdate=H))}if(x!==null){var ue=u.baseState;y=0,ie=te=H=null,T=x;do{var le=T.lane&-536870913,ae=le!==T.lane;if(ae?(ke&le)===le:(l&le)===le){le!==0&&le===Ea&&(Tu=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=e,pe=T;le=t;var tt=n;switch(pe.tag){case 1:if(he=pe.payload,typeof he=="function"){ue=he.call(tt,ue,le);break e}ue=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,le=typeof he=="function"?he.call(tt,ue,le):he,le==null)break e;ue=g({},ue,le);break e;case 2:jl=!0}}le=T.callback,le!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=u.callbacks,ae===null?u.callbacks=[le]:ae.push(le))}else ae={lane:le,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(te=ie=ae,H=ue):ie=ie.next=ae,y|=le;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;ae=T,T=ae.next,ae.next=null,u.lastBaseUpdate=ae,u.shared.pending=null}}while(!0);ie===null&&(H=ue),u.baseState=H,u.firstBaseUpdate=te,u.lastBaseUpdate=ie,x===null&&(u.shared.lanes=0),Tl|=y,e.lanes=y,e.memoizedState=ue}}function Gx(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Ox(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Gx(n[e],t)}var ka=z(null),Ar=z(0);function Hx(e,t){e=hl,Y(Ar,e),Y(ka,t),hl=e|t.baseLanes}function Lu(){Y(Ar,hl),Y(ka,ka.current)}function Eu(){hl=Ar.current,B(ka),B(Ar)}var sn=z(null),Cn=null;function zl(e){var t=e.alternate;Y(mt,mt.current&1),Y(sn,e),Cn===null&&(t===null||ka.current!==null||t.memoizedState!==null)&&(Cn=e)}function Bu(e){Y(mt,mt.current),Y(sn,e),Cn===null&&(Cn=e)}function Yx(e){e.tag===22?(Y(mt,mt.current),Y(sn,e),Cn===null&&(Cn=e)):Dl()}function Dl(){Y(mt,mt.current),Y(sn,sn.current)}function xn(e){B(sn),Cn===e&&(Cn=null),B(mt)}var mt=z(0);function Tr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Hc(n)||Yc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rl=0,ze=null,$e=null,St=null,Lr=!1,Ga=!1,ua=!1,Er=0,wi=0,Oa=null,P1=0;function ot(){throw Error(i(321))}function qu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function Ru(e,t,n,l,u,x){return rl=x,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?wo:Pu,ua=!1,x=n(l,u),ua=!1,Ga&&(x=Ux(t,n,l,u)),Ix(e),x}function Ix(e){M.H=Di;var t=$e!==null&&$e.next!==null;if(rl=0,St=$e=ze=null,Lr=!1,wi=0,Oa=null,t)throw Error(i(300));e===null||Ct||(e=e.dependencies,e!==null&&Cr(e)&&(Ct=!0))}function Ux(e,t,n,l){ze=e;var u=0;do{if(Ga&&(Oa=null),wi=0,Ga=!1,25<=u)throw Error(i(301));if(u+=1,St=$e=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}M.H=Mo,x=t(n,l)}while(Ga);return x}function F1(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Mi(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(ze.flags|=1024),t}function ku(){var e=Er!==0;return Er=0,e}function Gu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ou(e){if(Lr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Lr=!1}rl=0,St=$e=ze=null,Ga=!1,wi=Er=0,Oa=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?ze.memoizedState=St=e:St=St.next=e,St}function bt(){if($e===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=St===null?ze.memoizedState:St.next;if(t!==null)St=t,$e=e;else{if(e===null)throw ze.alternate===null?Error(i(467)):Error(i(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},St===null?ze.memoizedState=St=e:St=St.next=e}return St}function Br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mi(e){var t=wi;return wi+=1,Oa===null&&(Oa=[]),e=Ex(Oa,e,t),t=ze,(St===null?t.memoizedState:St.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?wo:Pu),e}function qr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mi(e);if(e.$$typeof===R)return Bt(e)}throw Error(i(438,String(e)))}function Hu(e){var t=null,n=ze.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=ze.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Br(),ze.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=F;return t.index++,n}function ul(e,t){return typeof t=="function"?t(e):t}function Rr(e){var t=bt();return Yu(t,$e,e)}function Yu(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,x=l.pending;if(x!==null){if(u!==null){var y=u.next;u.next=x.next,x.next=y}t.baseQueue=u=x,l.pending=null}if(x=e.baseState,u===null)e.memoizedState=x;else{t=u.next;var T=y=null,H=null,te=t,ie=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(ke&ue)===ue:(rl&ue)===ue){var le=te.revertLane;if(le===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===Ea&&(ie=!0);else if((rl&le)===le){te=te.next,le===Ea&&(ie=!0);continue}else ue={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(T=H=ue,y=x):H=H.next=ue,ze.lanes|=le,Tl|=le;ue=te.action,ua&&n(x,ue),x=te.hasEagerState?te.eagerState:n(x,ue)}else le={lane:ue,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(T=H=le,y=x):H=H.next=le,ze.lanes|=ue,Tl|=ue;te=te.next}while(te!==null&&te!==t);if(H===null?y=x:H.next=T,!un(x,e.memoizedState)&&(Ct=!0,ie&&(n=Ba,n!==null)))throw n;e.memoizedState=x,e.baseState=y,e.baseQueue=H,l.lastRenderedState=x}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Iu(e){var t=bt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,x=t.memoizedState;if(u!==null){n.pending=null;var y=u=u.next;do x=e(x,y.action),y=y.next;while(y!==u);un(x,t.memoizedState)||(Ct=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Zx(e,t,n){var l=ze,u=bt(),x=Oe;if(x){if(n===void 0)throw Error(i(407));n=n()}else n=t();var y=!un(($e||u).memoizedState,n);if(y&&(u.memoizedState=n,Ct=!0),u=u.queue,Ku(Vx.bind(null,l,u,e),[e]),u.getSnapshot!==t||y||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},Xx.bind(null,l,u,n,t),null),nt===null)throw Error(i(349));x||(rl&127)!==0||Kx(l,t,n)}return n}function Kx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t=Br(),ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xx(e,t,n,l){t.value=n,t.getSnapshot=l,Jx(t)&&Wx(e)}function Vx(e,t,n){return n(function(){Jx(t)&&Wx(e)})}function Jx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function Wx(e){var t=Fl(e,2);t!==null&&$t(t,e,2)}function Uu(e){var t=Ut();if(typeof e=="function"){var n=e;if(e=n(),ua){Je(!0);try{n()}finally{Je(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:e},t}function Qx(e,t,n,l){return e.baseState=n,Yu(e,$e,typeof l=="function"?l:ul)}function $1(e,t,n,l,u){if(Or(e))throw Error(i(485));if(e=t.action,e!==null){var x={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){x.listeners.push(y)}};M.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,Px(t,x)):(x.next=n.next,t.pending=n.next=x)}}function Px(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var x=M.T,y={};M.T=y;try{var T=n(u,l),H=M.S;H!==null&&H(y,T),Fx(e,t,T)}catch(te){Zu(e,t,te)}finally{x!==null&&y.types!==null&&(x.types=y.types),M.T=x}}else try{x=n(u,l),Fx(e,t,x)}catch(te){Zu(e,t,te)}}function Fx(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){$x(e,t,l)},function(l){return Zu(e,t,l)}):$x(e,t,n)}function $x(e,t,n){t.status="fulfilled",t.value=n,eo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Px(e,n)))}function Zu(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,eo(t),t=t.next;while(t!==l)}e.action=null}function eo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function to(e,t){return t}function no(e,t){if(Oe){var n=nt.formState;if(n!==null){e:{var l=ze;if(Oe){if(at){t:{for(var u=at,x=Sn;u.nodeType!==8;){if(!x){u=null;break t}if(u=jn(u.nextSibling),u===null){u=null;break t}}x=u.data,u=x==="F!"||x==="F"?u:null}if(u){at=jn(u.nextSibling),l=u.data==="F!";break e}}Sl(l)}l=!1}l&&(t=n[0])}}return n=Ut(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:t},n.queue=l,n=So.bind(null,ze,l),l.dispatch=n,l=Uu(!1),x=Qu.bind(null,ze,!1,l.queue),l=Ut(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=$1.bind(null,ze,u,x,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function lo(e){var t=bt();return ao(t,$e,e)}function ao(e,t,n){if(t=Yu(e,t,to)[0],e=Rr(ul)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Mi(t)}catch(y){throw y===qa?Mr:y}else l=t;t=bt();var u=t.queue,x=u.dispatch;return n!==t.memoizedState&&(ze.flags|=2048,Ha(9,{destroy:void 0},e2.bind(null,u,n),null)),[l,x,e]}function e2(e,t){e.action=t}function io(e){var t=bt(),n=$e;if(n!==null)return ao(t,n,e);bt(),t=t.memoizedState,n=bt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ha(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=ze.updateQueue,t===null&&(t=Br(),ze.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function ro(){return bt().memoizedState}function kr(e,t,n,l){var u=Ut();ze.flags|=e,u.memoizedState=Ha(1|t,{destroy:void 0},n,l===void 0?null:l)}function Gr(e,t,n,l){var u=bt();l=l===void 0?null:l;var x=u.memoizedState.inst;$e!==null&&l!==null&&qu(l,$e.memoizedState.deps)?u.memoizedState=Ha(t,x,n,l):(ze.flags|=e,u.memoizedState=Ha(1|t,x,n,l))}function uo(e,t){kr(8390656,8,e,t)}function Ku(e,t){Gr(2048,8,e,t)}function t2(e){ze.flags|=4;var t=ze.updateQueue;if(t===null)t=Br(),ze.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function co(e){var t=bt().memoizedState;return t2({ref:t,nextImpl:e}),function(){if((We&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function so(e,t){return Gr(4,2,e,t)}function xo(e,t){return Gr(4,4,e,t)}function oo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fo(e,t,n){n=n!=null?n.concat([e]):null,Gr(4,4,oo.bind(null,t,e),n)}function Xu(){}function ho(e,t){var n=bt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&qu(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function mo(e,t){var n=bt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&qu(t,l[1]))return l[0];if(l=e(),ua){Je(!0);try{e()}finally{Je(!1)}}return n.memoizedState=[l,t],l}function Vu(e,t,n){return n===void 0||(rl&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=gf(),ze.lanes|=e,Tl|=e,n)}function bo(e,t,n,l){return un(n,t)?n:ka.current!==null?(e=Vu(e,n,l),un(e,t)||(Ct=!0),e):(rl&42)===0||(rl&1073741824)!==0&&(ke&261930)===0?(Ct=!0,e.memoizedState=n):(e=gf(),ze.lanes|=e,Tl|=e,t)}function go(e,t,n,l,u){var x=L.p;L.p=x!==0&&8>x?x:8;var y=M.T,T={};M.T=T,Qu(e,!1,t,n);try{var H=u(),te=M.S;if(te!==null&&te(T,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ie=Q1(H,l);zi(e,t,ie,dn(e))}else zi(e,t,l,dn(e))}catch(ue){zi(e,t,{then:function(){},status:"rejected",reason:ue},dn())}finally{L.p=x,y!==null&&T.types!==null&&(y.types=T.types),M.T=y}}function n2(){}function Ju(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=vo(e).queue;go(e,u,t,E,n===null?n2:function(){return yo(e),n(l)})}function vo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:E},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function yo(e){var t=vo(e);t.next===null&&(t=e.alternate.memoizedState),zi(e,t.next.queue,{},dn())}function Wu(){return Bt(Zi)}function po(){return bt().memoizedState}function _o(){return bt().memoizedState}function l2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=dn();e=wl(n);var l=Ml(t,e,n);l!==null&&($t(l,t,n),Si(l,t,n)),t={cache:ju()},e.payload=t;return}t=t.return}}function a2(e,t,n){var l=dn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Or(e)?Co(t,n):(n=du(e,t,n,l),n!==null&&($t(n,e,l),jo(n,t,l)))}function So(e,t,n){var l=dn();zi(e,t,n,l)}function zi(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Or(e))Co(t,u);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var y=t.lastRenderedState,T=x(y,n);if(u.hasEagerState=!0,u.eagerState=T,un(T,y))return yr(e,t,u,0),nt===null&&vr(),!1}catch{}if(n=du(e,t,u,l),n!==null)return $t(n,e,l),jo(n,t,l),!0}return!1}function Qu(e,t,n,l){if(l={lane:2,revertLane:Dc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Or(e)){if(t)throw Error(i(479))}else t=du(e,n,l,2),t!==null&&$t(t,e,2)}function Or(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Co(e,t){Ga=Lr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Lt(e,n)}}var Di={readContext:Bt,use:qr,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};Di.useEffectEvent=ot;var wo={readContext:Bt,use:qr,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:uo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,kr(4194308,4,oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kr(4194308,4,e,t)},useInsertionEffect:function(e,t){kr(4,2,e,t)},useMemo:function(e,t){var n=Ut();t=t===void 0?null:t;var l=e();if(ua){Je(!0);try{e()}finally{Je(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Ut();if(n!==void 0){var u=n(t);if(ua){Je(!0);try{n(t)}finally{Je(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=a2.bind(null,ze,e),[l.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=Uu(e);var t=e.queue,n=So.bind(null,ze,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xu,useDeferredValue:function(e,t){var n=Ut();return Vu(n,e,t)},useTransition:function(){var e=Uu(!1);return e=go.bind(null,ze,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=ze,u=Ut();if(Oe){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),nt===null)throw Error(i(349));(ke&127)!==0||Kx(l,t,n)}u.memoizedState=n;var x={value:n,getSnapshot:t};return u.queue=x,uo(Vx.bind(null,l,x,e),[e]),l.flags|=2048,Ha(9,{destroy:void 0},Xx.bind(null,l,x,n,t),null),n},useId:function(){var e=Ut(),t=nt.identifierPrefix;if(Oe){var n=Kn,l=Zn;n=(l&~(1<<32-xe(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Er++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=P1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Wu,useFormState:no,useActionState:no,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Qu.bind(null,ze,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hu,useCacheRefresh:function(){return Ut().memoizedState=l2.bind(null,ze)},useEffectEvent:function(e){var t=Ut(),n={impl:e};return t.memoizedState=n,function(){if((We&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Pu={readContext:Bt,use:qr,useCallback:ho,useContext:Bt,useEffect:Ku,useImperativeHandle:fo,useInsertionEffect:so,useLayoutEffect:xo,useMemo:mo,useReducer:Rr,useRef:ro,useState:function(){return Rr(ul)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=bt();return bo(n,$e.memoizedState,e,t)},useTransition:function(){var e=Rr(ul)[0],t=bt().memoizedState;return[typeof e=="boolean"?e:Mi(e),t]},useSyncExternalStore:Zx,useId:po,useHostTransitionStatus:Wu,useFormState:lo,useActionState:lo,useOptimistic:function(e,t){var n=bt();return Qx(n,$e,e,t)},useMemoCache:Hu,useCacheRefresh:_o};Pu.useEffectEvent=co;var Mo={readContext:Bt,use:qr,useCallback:ho,useContext:Bt,useEffect:Ku,useImperativeHandle:fo,useInsertionEffect:so,useLayoutEffect:xo,useMemo:mo,useReducer:Iu,useRef:ro,useState:function(){return Iu(ul)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=bt();return $e===null?Vu(n,e,t):bo(n,$e.memoizedState,e,t)},useTransition:function(){var e=Iu(ul)[0],t=bt().memoizedState;return[typeof e=="boolean"?e:Mi(e),t]},useSyncExternalStore:Zx,useId:po,useHostTransitionStatus:Wu,useFormState:io,useActionState:io,useOptimistic:function(e,t){var n=bt();return $e!==null?Qx(n,$e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hu,useCacheRefresh:_o};Mo.useEffectEvent=co;function Fu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $u={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=dn(),u=wl(l);u.payload=t,n!=null&&(u.callback=n),t=Ml(e,u,l),t!==null&&($t(t,e,l),Si(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=dn(),u=wl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Ml(e,u,l),t!==null&&($t(t,e,l),Si(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dn(),l=wl(n);l.tag=2,t!=null&&(l.callback=t),t=Ml(e,l,n),t!==null&&($t(t,e,n),Si(t,e,n))}};function zo(e,t,n,l,u,x,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,y):t.prototype&&t.prototype.isPureReactComponent?!hi(n,l)||!hi(u,x):!0}function Do(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&$u.enqueueReplaceState(t,t.state,null)}function ca(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=g({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function No(e){gr(e)}function Ao(e){console.error(e)}function To(e){gr(e)}function Hr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Lo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ec(e,t,n){return n=wl(n),n.tag=3,n.payload={element:null},n.callback=function(){Hr(e,t)},n}function Eo(e){return e=wl(e),e.tag=3,e}function Bo(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var x=l.value;e.payload=function(){return u(x)},e.callback=function(){Lo(t,n,l)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Lo(t,n,l),typeof u!="function"&&(Ll===null?Ll=new Set([this]):Ll.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function i2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&La(t,n,u,!0),n=sn.current,n!==null){switch(n.tag){case 31:case 13:return Cn===null?Fr():n.alternate===null&&ft===0&&(ft=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===zr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),wc(e,l,u)),!1;case 22:return n.flags|=65536,l===zr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),wc(e,l,u)),!1}throw Error(i(435,n.tag))}return wc(e,l,u),Fr(),!1}if(Oe)return t=sn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==yu&&(e=Error(i(422),{cause:l}),gi(yn(e,n)))):(l!==yu&&(t=Error(i(423),{cause:l}),gi(yn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=yn(l,n),u=ec(e.stateNode,l,u),Au(e,u),ft!==4&&(ft=2)),!1;var x=Error(i(520),{cause:l});if(x=yn(x,n),Ri===null?Ri=[x]:Ri.push(x),ft!==4&&(ft=2),t===null)return!0;l=yn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=ec(n.stateNode,l,e),Au(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ll===null||!Ll.has(x))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Eo(u),Bo(u,e,n,l),Au(n,u),!1}n=n.return}while(n!==null);return!1}var tc=Error(i(461)),Ct=!1;function qt(e,t,n,l){t.child=e===null?kx(t,null,n,l):ra(t,e.child,n,l)}function qo(e,t,n,l,u){n=n.render;var x=t.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return na(t),l=Ru(e,t,n,y,x,u),T=ku(),e!==null&&!Ct?(Gu(e,t,u),cl(e,t,u)):(Oe&&T&&gu(t),t.flags|=1,qt(e,t,l,u),t.child)}function Ro(e,t,n,l,u){if(e===null){var x=n.type;return typeof x=="function"&&!hu(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,ko(e,t,x,l,u)):(e=_r(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!sc(e,u)){var y=x.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(y,l)&&e.ref===t.ref)return cl(e,t,u)}return t.flags|=1,e=nl(x,l),e.ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,l,u){if(e!==null){var x=e.memoizedProps;if(hi(x,l)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=l=x,sc(e,u))(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,cl(e,t,u)}return nc(e,t,n,l,u)}function Go(e,t,n,l){var u=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~x}else l=0,t.child=null;return Oo(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wr(t,x!==null?x.cachePool:null),x!==null?Hx(t,x):Lu(),Yx(t);else return l=t.lanes=536870912,Oo(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(wr(t,x.cachePool),Hx(t,x),Dl(),t.memoizedState=null):(e!==null&&wr(t,null),Lu(),Dl());return qt(e,t,u,n),t.child}function Ni(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Oo(e,t,n,l,u){var x=Mu();return x=x===null?null:{parent:_t._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&wr(t,null),Lu(),Yx(t),e!==null&&La(e,t,l,!0),t.childLanes=u,null}function Yr(e,t){return t=Ur({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ho(e,t,n){return ra(t,e.child,null,n),e=Yr(t,t.pendingProps),e.flags|=2,xn(t),t.memoizedState=null,e}function r2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(l.mode==="hidden")return e=Yr(t,l),t.lanes=536870912,Ni(null,e);if(Bu(t),(e=at)?(e=$f(e,Sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pl!==null?{id:Zn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},n=Sx(e),n.return=t,t.child=n,Et=t,at=null)):e=null,e===null)throw Sl(t);return t.lanes=536870912,null}return Yr(t,l)}var x=e.memoizedState;if(x!==null){var y=x.dehydrated;if(Bu(t),u)if(t.flags&256)t.flags&=-257,t=Ho(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Ct||La(e,t,n,!1),u=(n&e.childLanes)!==0,Ct||u){if(l=nt,l!==null&&(y=yt(l,n),y!==0&&y!==x.retryLane))throw x.retryLane=y,Fl(e,y),$t(l,e,y),tc;Fr(),t=Ho(e,t,n)}else e=x.treeContext,at=jn(y.nextSibling),Et=t,Oe=!0,_l=null,Sn=!1,e!==null&&wx(t,e),t=Yr(t,l),t.flags|=4096;return t}return e=nl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ir(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function nc(e,t,n,l,u){return na(t),n=Ru(e,t,n,l,void 0,u),l=ku(),e!==null&&!Ct?(Gu(e,t,u),cl(e,t,u)):(Oe&&l&&gu(t),t.flags|=1,qt(e,t,n,u),t.child)}function Yo(e,t,n,l,u,x){return na(t),t.updateQueue=null,n=Ux(t,l,n,u),Ix(e),l=ku(),e!==null&&!Ct?(Gu(e,t,x),cl(e,t,x)):(Oe&&l&&gu(t),t.flags|=1,qt(e,t,n,x),t.child)}function Io(e,t,n,l,u){if(na(t),t.stateNode===null){var x=Da,y=n.contextType;typeof y=="object"&&y!==null&&(x=Bt(y)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=$u,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},Du(t),y=n.contextType,x.context=typeof y=="object"&&y!==null?Bt(y):Da,x.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(Fu(t,n,y,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(y=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),y!==x.state&&$u.enqueueReplaceState(x,x.state,null),ji(t,l,x,u),Ci(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var T=t.memoizedProps,H=ca(n,T);x.props=H;var te=x.context,ie=n.contextType;y=Da,typeof ie=="object"&&ie!==null&&(y=Bt(ie));var ue=n.getDerivedStateFromProps;ie=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T||te!==y)&&Do(t,x,l,y),jl=!1;var le=t.memoizedState;x.state=le,ji(t,l,x,u),Ci(),te=t.memoizedState,T||le!==te||jl?(typeof ue=="function"&&(Fu(t,n,ue,l),te=t.memoizedState),(H=jl||zo(t,n,H,l,le,te,y))?(ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),x.props=l,x.state=te,x.context=y,l=H):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,Nu(e,t),y=t.memoizedProps,ie=ca(n,y),x.props=ie,ue=t.pendingProps,le=x.context,te=n.contextType,H=Da,typeof te=="object"&&te!==null&&(H=Bt(te)),T=n.getDerivedStateFromProps,(te=typeof T=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==ue||le!==H)&&Do(t,x,l,H),jl=!1,le=t.memoizedState,x.state=le,ji(t,l,x,u),Ci();var ae=t.memoizedState;y!==ue||le!==ae||jl||e!==null&&e.dependencies!==null&&Cr(e.dependencies)?(typeof T=="function"&&(Fu(t,n,T,l),ae=t.memoizedState),(ie=jl||zo(t,n,ie,l,le,ae,H)||e!==null&&e.dependencies!==null&&Cr(e.dependencies))?(te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,ae,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,ae,H)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&le===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&le===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),x.props=l,x.state=ae,x.context=H,l=ie):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&le===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&le===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Ir(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=ra(t,e.child,null,u),t.child=ra(t,null,n,u)):qt(e,t,n,u),t.memoizedState=x.state,e=t.child):e=cl(e,t,u),e}function Uo(e,t,n,l){return ea(),t.flags|=256,qt(e,t,n,l),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ac(e){return{baseLanes:e,cachePool:Tx()}}function ic(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=fn),e}function Zo(e,t,n){var l=t.pendingProps,u=!1,x=(t.flags&128)!==0,y;if((y=x)||(y=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),y&&(u=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(u?zl(t):Dl(),(e=at)?(e=$f(e,Sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pl!==null?{id:Zn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},n=Sx(e),n.return=t,t.child=n,Et=t,at=null)):e=null,e===null)throw Sl(t);return Yc(e)?t.lanes=32:t.lanes=536870912,null}var T=l.children;return l=l.fallback,u?(Dl(),u=t.mode,T=Ur({mode:"hidden",children:T},u),l=$l(l,u,n,null),T.return=t,l.return=t,T.sibling=l,t.child=T,l=t.child,l.memoizedState=ac(n),l.childLanes=ic(e,y,n),t.memoizedState=lc,Ni(null,l)):(zl(t),rc(t,T))}var H=e.memoizedState;if(H!==null&&(T=H.dehydrated,T!==null)){if(x)t.flags&256?(zl(t),t.flags&=-257,t=uc(e,t,n)):t.memoizedState!==null?(Dl(),t.child=e.child,t.flags|=128,t=null):(Dl(),T=l.fallback,u=t.mode,l=Ur({mode:"visible",children:l.children},u),T=$l(T,u,n,null),T.flags|=2,l.return=t,T.return=t,l.sibling=T,t.child=l,ra(t,e.child,null,n),l=t.child,l.memoizedState=ac(n),l.childLanes=ic(e,y,n),t.memoizedState=lc,t=Ni(null,l));else if(zl(t),Yc(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var te=y.dgst;y=te,l=Error(i(419)),l.stack="",l.digest=y,gi({value:l,source:null,stack:null}),t=uc(e,t,n)}else if(Ct||La(e,t,n,!1),y=(n&e.childLanes)!==0,Ct||y){if(y=nt,y!==null&&(l=yt(y,n),l!==0&&l!==H.retryLane))throw H.retryLane=l,Fl(e,l),$t(y,e,l),tc;Hc(T)||Fr(),t=uc(e,t,n)}else Hc(T)?(t.flags|=192,t.child=e.child,t=null):(e=H.treeContext,at=jn(T.nextSibling),Et=t,Oe=!0,_l=null,Sn=!1,e!==null&&wx(t,e),t=rc(t,l.children),t.flags|=4096);return t}return u?(Dl(),T=l.fallback,u=t.mode,H=e.child,te=H.sibling,l=nl(H,{mode:"hidden",children:l.children}),l.subtreeFlags=H.subtreeFlags&65011712,te!==null?T=nl(te,T):(T=$l(T,u,n,null),T.flags|=2),T.return=t,l.return=t,l.sibling=T,t.child=l,Ni(null,l),l=t.child,T=e.child.memoizedState,T===null?T=ac(n):(u=T.cachePool,u!==null?(H=_t._currentValue,u=u.parent!==H?{parent:H,pool:H}:u):u=Tx(),T={baseLanes:T.baseLanes|n,cachePool:u}),l.memoizedState=T,l.childLanes=ic(e,y,n),t.memoizedState=lc,Ni(e.child,l)):(zl(t),n=e.child,e=n.sibling,n=nl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function rc(e,t){return t=Ur({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ur(e,t){return e=cn(22,e,null,t),e.lanes=0,e}function uc(e,t,n){return ra(t,e.child,null,n),e=rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Su(e.return,t,n)}function cc(e,t,n,l,u,x){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:x}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=u,y.treeForkCount=x)}function Xo(e,t,n){var l=t.pendingProps,u=l.revealOrder,x=l.tail;l=l.children;var y=mt.current,T=(y&2)!==0;if(T?(y=y&1|2,t.flags|=128):y&=1,Y(mt,y),qt(e,t,l,n),l=Oe?bi:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ko(e,n,t);else if(e.tag===19)Ko(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Tr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),cc(t,!1,u,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Tr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}cc(t,!0,n,null,x,l);break;case"together":cc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function cl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(La(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=nl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Cr(e)))}function u2(e,t,n){switch(t.tag){case 3:fe(t,t.stateNode.containerInfo),Cl(t,_t,e.memoizedState.cache),ea();break;case 27:case 5:we(t);break;case 4:fe(t,t.stateNode.containerInfo);break;case 10:Cl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(zl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Zo(e,t,n):(zl(t),e=cl(e,t,n),e!==null?e.sibling:null);zl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(La(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Xo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Y(mt,mt.current),l)break;return null;case 22:return t.lanes=0,Go(e,t,n,t.pendingProps);case 24:Cl(t,_t,e.memoizedState.cache)}return cl(e,t,n)}function Vo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ct=!0;else{if(!sc(e,n)&&(t.flags&128)===0)return Ct=!1,u2(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,Oe&&(t.flags&1048576)!==0&&jx(t,bi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=aa(t.elementType),t.type=e,typeof e=="function")hu(e)?(l=ca(e,l),t.tag=1,t=Io(null,t,e,l,n)):(t.tag=0,t=nc(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===G){t.tag=11,t=qo(null,t,e,l,n);break e}else if(u===K){t.tag=14,t=Ro(null,t,e,l,n);break e}}throw t=N(e)||e,Error(i(306,t,""))}}return t;case 0:return nc(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=ca(l,t.pendingProps),Io(e,t,l,u,n);case 3:e:{if(fe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var x=t.memoizedState;u=x.element,Nu(e,t),ji(t,l,null,n);var y=t.memoizedState;if(l=y.cache,Cl(t,_t,l),l!==x.cache&&Cu(t,[_t],n,!0),Ci(),l=y.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Uo(e,t,l,n);break e}else if(l!==u){u=yn(Error(i(424)),t),gi(u),t=Uo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,at=jn(e.firstChild),Et=t,Oe=!0,_l=null,Sn=!0,n=kx(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ea(),l===u){t=cl(e,t,n);break e}qt(e,t,l,n)}t=t.child}return t;case 26:return Ir(e,t),e===null?(n=id(t.type,null,t.pendingProps,null))?t.memoizedState=n:Oe||(n=t.type,e=t.pendingProps,l=i0(se.current).createElement(n),l[wt]=t,l[Ht]=e,Rt(l,n,e),Nt(l),t.stateNode=l):t.memoizedState=id(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&Oe&&(l=t.stateNode=nd(t.type,t.pendingProps,se.current),Et=t,Sn=!0,u=at,Rl(t.type)?(Ic=u,at=jn(l.firstChild)):at=u),qt(e,t,t.pendingProps.children,n),Ir(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((u=l=at)&&(l=k2(l,t.type,t.pendingProps,Sn),l!==null?(t.stateNode=l,Et=t,at=jn(l.firstChild),Sn=!1,u=!0):u=!1),u||Sl(t)),we(t),u=t.type,x=t.pendingProps,y=e!==null?e.memoizedProps:null,l=x.children,kc(u,x)?l=null:y!==null&&kc(u,y)&&(t.flags|=32),t.memoizedState!==null&&(u=Ru(e,t,F1,null,null,n),Zi._currentValue=u),Ir(e,t),qt(e,t,l,n),t.child;case 6:return e===null&&Oe&&((e=n=at)&&(n=G2(n,t.pendingProps,Sn),n!==null?(t.stateNode=n,Et=t,at=null,e=!0):e=!1),e||Sl(t)),null;case 13:return Zo(e,t,n);case 4:return fe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ra(t,null,l,n):qt(e,t,l,n),t.child;case 11:return qo(e,t,t.type,t.pendingProps,n);case 7:return qt(e,t,t.pendingProps,n),t.child;case 8:return qt(e,t,t.pendingProps.children,n),t.child;case 12:return qt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Cl(t,t.type,l.value),qt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,na(t),u=Bt(u),l=l(u),t.flags|=1,qt(e,t,l,n),t.child;case 14:return Ro(e,t,t.type,t.pendingProps,n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 19:return Xo(e,t,n);case 31:return r2(e,t,n);case 22:return Go(e,t,n,t.pendingProps);case 24:return na(t),l=Bt(_t),e===null?(u=Mu(),u===null&&(u=nt,x=ju(),u.pooledCache=x,x.refCount++,x!==null&&(u.pooledCacheLanes|=n),u=x),t.memoizedState={parent:l,cache:u},Du(t),Cl(t,_t,u)):((e.lanes&n)!==0&&(Nu(e,t),ji(t,null,null,n),Ci()),u=e.memoizedState,x=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Cl(t,_t,l)):(l=x.cache,Cl(t,_t,l),l!==u.cache&&Cu(t,[_t],n,!0))),qt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function sl(e){e.flags|=4}function xc(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(_f())e.flags|=8192;else throw ia=zr,zu}else e.flags&=-16777217}function Jo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!xd(t))if(_f())e.flags|=8192;else throw ia=zr,zu}function Zr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ht():536870912,e.lanes|=t,Za|=t)}function Ai(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function c2(e,t,n){var l=t.pendingProps;switch(vu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),il(_t),ge(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ta(t)?sl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,pu())),it(t),null;case 26:var u=t.type,x=t.memoizedState;return e===null?(sl(t),x!==null?(it(t),Jo(t,x)):(it(t),xc(t,u,null,l,n))):x?x!==e.memoizedState?(sl(t),it(t),Jo(t,x)):(it(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&sl(t),it(t),xc(t,u,e,l,n)),null;case 27:if(me(t),n=se.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&sl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return it(t),null}e=U.current,Ta(t)?Mx(t):(e=nd(u,l,n),t.stateNode=e,sl(t))}return it(t),null;case 5:if(me(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&sl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return it(t),null}if(x=U.current,Ta(t))Mx(t);else{var y=i0(se.current);switch(x){case 1:x=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:x=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":x=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":x=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":x=y.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?y.createElement(u,{is:l.is}):y.createElement(u)}}x[wt]=t,x[Ht]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)x.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=x;e:switch(Rt(x,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sl(t)}}return it(t),xc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&sl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=se.current,Ta(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Et,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[wt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Kf(e.nodeValue,n)),e||Sl(t,!0)}else e=i0(e).createTextNode(l),e[wt]=t,t.stateNode=e}return it(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ta(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[wt]=t}else ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),e=!1}else n=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(xn(t),t):(xn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return it(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ta(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[wt]=t}else ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),u=!1}else u=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(xn(t),t):(xn(t),null)}return xn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Zr(t,t.updateQueue),it(t),null);case 4:return ge(),e===null&&Lc(t.stateNode.containerInfo),it(t),null;case 10:return il(t.type),it(t),null;case 19:if(B(mt),l=t.memoizedState,l===null)return it(t),null;if(u=(t.flags&128)!==0,x=l.rendering,x===null)if(u)Ai(l,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Tr(e),x!==null){for(t.flags|=128,Ai(l,!1),e=x.updateQueue,t.updateQueue=e,Zr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)_x(n,e),n=n.sibling;return Y(mt,mt.current&1|2),Oe&&ll(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ve()>Wr&&(t.flags|=128,u=!0,Ai(l,!1),t.lanes=4194304)}else{if(!u)if(e=Tr(x),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Zr(t,e),Ai(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!Oe)return it(t),null}else 2*Ve()-l.renderingStartTime>Wr&&n!==536870912&&(t.flags|=128,u=!0,Ai(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ve(),e.sibling=null,n=mt.current,Y(mt,u?n&1|2:n&1),Oe&&ll(t,l.treeForkCount),e):(it(t),null);case 22:case 23:return xn(t),Eu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),n=t.updateQueue,n!==null&&Zr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&B(la),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),il(_t),it(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function s2(e,t){switch(vu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return il(_t),ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 31:if(t.memoizedState!==null){if(xn(t),t.alternate===null)throw Error(i(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(mt),null;case 4:return ge(),null;case 10:return il(t.type),null;case 22:case 23:return xn(t),Eu(),e!==null&&B(la),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return il(_t),null;case 25:return null;default:return null}}function Wo(e,t){switch(vu(t),t.tag){case 3:il(_t),ge();break;case 26:case 27:case 5:me(t);break;case 4:ge();break;case 31:t.memoizedState!==null&&xn(t);break;case 13:xn(t);break;case 19:B(mt);break;case 10:il(t.type);break;case 22:case 23:xn(t),Eu(),e!==null&&B(la);break;case 24:il(_t)}}function Ti(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var x=n.create,y=n.inst;l=x(),y.destroy=l}n=n.next}while(n!==u)}}catch(T){Fe(t,t.return,T)}}function Nl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var x=u.next;l=x;do{if((l.tag&e)===e){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,u=t;var H=n,te=T;try{te()}catch(ie){Fe(u,H,ie)}}}l=l.next}while(l!==x)}}catch(ie){Fe(t,t.return,ie)}}function Qo(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ox(t,n)}catch(l){Fe(e,e.return,l)}}}function Po(e,t,n){n.props=ca(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Fe(e,t,l)}}function Li(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){Fe(e,t,u)}}function Xn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){Fe(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Fe(e,t,u)}else n.current=null}function Fo(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){Fe(e,e.return,u)}}function oc(e,t,n){try{var l=e.stateNode;T2(l,e.type,n,t),l[Ht]=t}catch(u){Fe(e,e.return,u)}}function $o(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rl(e.type)||e.tag===4}function fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$o(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=el));else if(l!==4&&(l===27&&Rl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(dc(e,t,n),e=e.sibling;e!==null;)dc(e,t,n),e=e.sibling}function Kr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Rl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Kr(e,t,n),e=e.sibling;e!==null;)Kr(e,t,n),e=e.sibling}function ef(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Rt(t,l,n),t[wt]=e,t[Ht]=n}catch(x){Fe(e,e.return,x)}}var xl=!1,jt=!1,hc=!1,tf=typeof WeakSet=="function"?WeakSet:Set,At=null;function x2(e,t){if(e=e.containerInfo,qc=f0,e=fx(e),uu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var y=0,T=-1,H=-1,te=0,ie=0,ue=e,le=null;t:for(;;){for(var ae;ue!==n||u!==0&&ue.nodeType!==3||(T=y+u),ue!==x||l!==0&&ue.nodeType!==3||(H=y+l),ue.nodeType===3&&(y+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)le=ue,ue=ae;for(;;){if(ue===e)break t;if(le===n&&++te===u&&(T=y),le===x&&++ie===l&&(H=y),(ae=ue.nextSibling)!==null)break;ue=le,le=ue.parentNode}ue=ae}n=T===-1||H===-1?null:{start:T,end:H}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rc={focusedElem:e,selectionRange:n},f0=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){switch(t=At,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,u=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var he=ca(n.type,u);e=l.getSnapshotBeforeUpdate(he,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(pe){Fe(n,n.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Oc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Oc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}}function nf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:fl(e,n),l&4&&Ti(5,n);break;case 1:if(fl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){Fe(n,n.return,y)}else{var u=ca(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Fe(n,n.return,y)}}l&64&&Qo(n),l&512&&Li(n,n.return);break;case 3:if(fl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ox(e,t)}catch(y){Fe(n,n.return,y)}}break;case 27:t===null&&l&4&&ef(n);case 26:case 5:fl(e,n),t===null&&l&4&&Fo(n),l&512&&Li(n,n.return);break;case 12:fl(e,n);break;case 31:fl(e,n),l&4&&rf(e,n);break;case 13:fl(e,n),l&4&&uf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=y2.bind(null,n),O2(e,n))));break;case 22:if(l=n.memoizedState!==null||xl,!l){t=t!==null&&t.memoizedState!==null||jt,u=xl;var x=jt;xl=l,(jt=t)&&!x?dl(e,n,(n.subtreeFlags&8772)!==0):fl(e,n),xl=u,jt=x}break;case 30:break;default:fl(e,n)}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ii(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ut=null,Wt=!1;function ol(e,t,n){for(n=n.child;n!==null;)af(e,t,n),n=n.sibling}function af(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Fn,n)}catch{}switch(n.tag){case 26:jt||Xn(n,t),ol(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:jt||Xn(n,t);var l=ut,u=Wt;Rl(n.type)&&(ut=n.stateNode,Wt=!1),ol(e,t,n),Yi(n.stateNode),ut=l,Wt=u;break;case 5:jt||Xn(n,t);case 6:if(l=ut,u=Wt,ut=null,ol(e,t,n),ut=l,Wt=u,ut!==null)if(Wt)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(n.stateNode)}catch(x){Fe(n,t,x)}else try{ut.removeChild(n.stateNode)}catch(x){Fe(n,t,x)}break;case 18:ut!==null&&(Wt?(e=ut,Pf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Fa(e)):Pf(ut,n.stateNode));break;case 4:l=ut,u=Wt,ut=n.stateNode.containerInfo,Wt=!0,ol(e,t,n),ut=l,Wt=u;break;case 0:case 11:case 14:case 15:Nl(2,n,t),jt||Nl(4,n,t),ol(e,t,n);break;case 1:jt||(Xn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Po(n,t,l)),ol(e,t,n);break;case 21:ol(e,t,n);break;case 22:jt=(l=jt)||n.memoizedState!==null,ol(e,t,n),jt=l;break;default:ol(e,t,n)}}function rf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(n){Fe(t,t.return,n)}}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(n){Fe(t,t.return,n)}}function o2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new tf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new tf),t;default:throw Error(i(435,e.tag))}}function Xr(e,t){var n=o2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=p2.bind(null,e,l);l.then(u,u)}})}function Qt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],x=e,y=t,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Rl(T.type)){ut=T.stateNode,Wt=!1;break e}break;case 5:ut=T.stateNode,Wt=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,Wt=!0;break e}T=T.return}if(ut===null)throw Error(i(160));af(x,y,u),ut=null,Wt=!1,x=u.alternate,x!==null&&(x.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cf(t,e),t=t.sibling}var Rn=null;function cf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qt(t,e),Pt(e),l&4&&(Nl(3,e,e.return),Ti(3,e),Nl(5,e,e.return));break;case 1:Qt(t,e),Pt(e),l&512&&(jt||n===null||Xn(n,n.return)),l&64&&xl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Rn;if(Qt(t,e),Pt(e),l&512&&(jt||n===null||Xn(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":x=u.getElementsByTagName("title")[0],(!x||x[rn]||x[wt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=u.createElement(l),u.head.insertBefore(x,u.querySelector("head > title"))),Rt(x,l,n),x[wt]=e,Nt(x),l=x;break e;case"link":var y=cd("link","href",u).get(l+(n.href||""));if(y){for(var T=0;T<y.length;T++)if(x=y[T],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(T,1);break t}}x=u.createElement(l),Rt(x,l,n),u.head.appendChild(x);break;case"meta":if(y=cd("meta","content",u).get(l+(n.content||""))){for(T=0;T<y.length;T++)if(x=y[T],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(T,1);break t}}x=u.createElement(l),Rt(x,l,n),u.head.appendChild(x);break;default:throw Error(i(468,l))}x[wt]=e,Nt(x),l=x}e.stateNode=l}else sd(u,e.type,e.stateNode);else e.stateNode=ud(u,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?sd(u,e.type,e.stateNode):ud(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&oc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Qt(t,e),Pt(e),l&512&&(jt||n===null||Xn(n,n.return)),n!==null&&l&4&&oc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Qt(t,e),Pt(e),l&512&&(jt||n===null||Xn(n,n.return)),e.flags&32){u=e.stateNode;try{_a(u,"")}catch(he){Fe(e,e.return,he)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,oc(e,u,n!==null?n.memoizedProps:u)),l&1024&&(hc=!0);break;case 6:if(Qt(t,e),Pt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(he){Fe(e,e.return,he)}}break;case 3:if(c0=null,u=Rn,Rn=r0(t.containerInfo),Qt(t,e),Rn=u,Pt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Fa(t.containerInfo)}catch(he){Fe(e,e.return,he)}hc&&(hc=!1,sf(e));break;case 4:l=Rn,Rn=r0(e.stateNode.containerInfo),Qt(t,e),Pt(e),Rn=l;break;case 12:Qt(t,e),Pt(e);break;case 31:Qt(t,e),Pt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xr(e,l)));break;case 13:Qt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Jr=Ve()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xr(e,l)));break;case 22:u=e.memoizedState!==null;var H=n!==null&&n.memoizedState!==null,te=xl,ie=jt;if(xl=te||u,jt=ie||H,Qt(t,e),jt=ie,xl=te,Pt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||H||xl||jt||sa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){H=n=t;try{if(x=H.stateNode,u)y=x.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=H.stateNode;var ue=H.memoizedProps.style,le=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;T.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(he){Fe(H,H.return,he)}}}else if(t.tag===6){if(n===null){H=t;try{H.stateNode.nodeValue=u?"":H.memoizedProps}catch(he){Fe(H,H.return,he)}}}else if(t.tag===18){if(n===null){H=t;try{var ae=H.stateNode;u?Ff(ae,!0):Ff(H.stateNode,!1)}catch(he){Fe(H,H.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Xr(e,n))));break;case 19:Qt(t,e),Pt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xr(e,l)));break;case 30:break;case 21:break;default:Qt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if($o(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,x=fc(e);Kr(e,x,u);break;case 5:var y=n.stateNode;n.flags&32&&(_a(y,""),n.flags&=-33);var T=fc(e);Kr(e,T,y);break;case 3:case 4:var H=n.stateNode.containerInfo,te=fc(e);dc(e,te,H);break;default:throw Error(i(161))}}catch(ie){Fe(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)nf(e,t.alternate,t),t=t.sibling}function sa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Nl(4,t,t.return),sa(t);break;case 1:Xn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Po(t,t.return,n),sa(t);break;case 27:Yi(t.stateNode);case 26:case 5:Xn(t,t.return),sa(t);break;case 22:t.memoizedState===null&&sa(t);break;case 30:sa(t);break;default:sa(t)}e=e.sibling}}function dl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,x=t,y=x.flags;switch(x.tag){case 0:case 11:case 15:dl(u,x,n),Ti(4,x);break;case 1:if(dl(u,x,n),l=x,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(te){Fe(l,l.return,te)}if(l=x,u=l.updateQueue,u!==null){var T=l.stateNode;try{var H=u.shared.hiddenCallbacks;if(H!==null)for(u.shared.hiddenCallbacks=null,u=0;u<H.length;u++)Gx(H[u],T)}catch(te){Fe(l,l.return,te)}}n&&y&64&&Qo(x),Li(x,x.return);break;case 27:ef(x);case 26:case 5:dl(u,x,n),n&&l===null&&y&4&&Fo(x),Li(x,x.return);break;case 12:dl(u,x,n);break;case 31:dl(u,x,n),n&&y&4&&rf(u,x);break;case 13:dl(u,x,n),n&&y&4&&uf(u,x);break;case 22:x.memoizedState===null&&dl(u,x,n),Li(x,x.return);break;case 30:break;default:dl(u,x,n)}t=t.sibling}}function mc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&vi(n))}function bc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vi(e))}function kn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xf(e,t,n,l),t=t.sibling}function xf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:kn(e,t,n,l),u&2048&&Ti(9,t);break;case 1:kn(e,t,n,l);break;case 3:kn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vi(e)));break;case 12:if(u&2048){kn(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,y=x.id,T=x.onPostCommit;typeof T=="function"&&T(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){Fe(t,t.return,H)}}else kn(e,t,n,l);break;case 31:kn(e,t,n,l);break;case 13:kn(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,y=t.alternate,t.memoizedState!==null?x._visibility&2?kn(e,t,n,l):Ei(e,t):x._visibility&2?kn(e,t,n,l):(x._visibility|=2,Ya(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&mc(y,t);break;case 24:kn(e,t,n,l),u&2048&&bc(t.alternate,t);break;default:kn(e,t,n,l)}}function Ya(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,y=t,T=n,H=l,te=y.flags;switch(y.tag){case 0:case 11:case 15:Ya(x,y,T,H,u),Ti(8,y);break;case 23:break;case 22:var ie=y.stateNode;y.memoizedState!==null?ie._visibility&2?Ya(x,y,T,H,u):Ei(x,y):(ie._visibility|=2,Ya(x,y,T,H,u)),u&&te&2048&&mc(y.alternate,y);break;case 24:Ya(x,y,T,H,u),u&&te&2048&&bc(y.alternate,y);break;default:Ya(x,y,T,H,u)}t=t.sibling}}function Ei(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Ei(n,l),u&2048&&mc(l.alternate,l);break;case 24:Ei(n,l),u&2048&&bc(l.alternate,l);break;default:Ei(n,l)}t=t.sibling}}var Bi=8192;function Ia(e,t,n){if(e.subtreeFlags&Bi)for(e=e.child;e!==null;)of(e,t,n),e=e.sibling}function of(e,t,n){switch(e.tag){case 26:Ia(e,t,n),e.flags&Bi&&e.memoizedState!==null&&P2(n,Rn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,t,n);break;case 3:case 4:var l=Rn;Rn=r0(e.stateNode.containerInfo),Ia(e,t,n),Rn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Bi,Bi=16777216,Ia(e,t,n),Bi=l):Ia(e,t,n));break;default:Ia(e,t,n)}}function ff(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];At=l,hf(l,e)}ff(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)df(e),e=e.sibling}function df(e){switch(e.tag){case 0:case 11:case 15:qi(e),e.flags&2048&&Nl(9,e,e.return);break;case 3:qi(e);break;case 12:qi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vr(e)):qi(e);break;default:qi(e)}}function Vr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];At=l,hf(l,e)}ff(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Nl(8,t,t.return),Vr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vr(t));break;default:Vr(t)}e=e.sibling}}function hf(e,t){for(;At!==null;){var n=At;switch(n.tag){case 0:case 11:case 15:Nl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,At=l;else e:for(n=e;At!==null;){l=At;var u=l.sibling,x=l.return;if(lf(l),l===n){At=null;break e}if(u!==null){u.return=x,At=u;break e}At=x}}}var f2={getCacheForType:function(e){var t=Bt(_t),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Bt(_t).controller.signal}},d2=typeof WeakMap=="function"?WeakMap:Map,We=0,nt=null,Be=null,ke=0,Pe=0,on=null,Al=!1,Ua=!1,gc=!1,hl=0,ft=0,Tl=0,xa=0,vc=0,fn=0,Za=0,Ri=null,Ft=null,yc=!1,Jr=0,mf=0,Wr=1/0,Qr=null,Ll=null,Mt=0,El=null,Ka=null,ml=0,pc=0,_c=null,bf=null,ki=0,Sc=null;function dn(){return(We&2)!==0&&ke!==0?ke&-ke:M.T!==null?Dc():ir()}function gf(){if(fn===0)if((ke&536870912)===0||Oe){var e=rt;rt<<=1,(rt&3932160)===0&&(rt=262144),fn=e}else fn=536870912;return e=sn.current,e!==null&&(e.flags|=32),fn}function $t(e,t,n){(e===nt&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),Bl(e,ke,fn,!1)),Bn(e,n),((We&2)===0||e!==nt)&&(e===nt&&((We&2)===0&&(xa|=n),ft===4&&Bl(e,ke,fn,!1)),Vn(e))}function vf(e,t,n){if((We&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ct(e,t),u=l?b2(e,t):jc(e,t,!0),x=l;do{if(u===0){Ua&&!l&&Bl(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!h2(n)){u=jc(e,t,!1),x=!1;continue}if(u===2){if(x=t,e.errorRecoveryDisabledLanes&x)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var T=e;u=Ri;var H=T.current.memoizedState.isDehydrated;if(H&&(Xa(T,y).flags|=256),y=jc(T,y,!1),y!==2){if(gc&&!H){T.errorRecoveryDisabledLanes|=x,xa|=x,u=4;break e}x=Ft,Ft=u,x!==null&&(Ft===null?Ft=x:Ft.push.apply(Ft,x))}u=y}if(x=!1,u!==2)continue}}if(u===1){Xa(e,0),Bl(e,t,0,!0);break}e:{switch(l=e,x=u,x){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Bl(l,t,fn,!Al);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=Jr+300-Ve(),10<u)){if(Bl(l,t,fn,!Al),dt(l,0,!0)!==0)break e;ml=t,l.timeoutHandle=Wf(yf.bind(null,l,n,Ft,Qr,yc,t,fn,xa,Za,Al,x,"Throttled",-0,0),u);break e}yf(l,n,Ft,Qr,yc,t,fn,xa,Za,Al,x,null,-0,0)}}break}while(!0);Vn(e)}function yf(e,t,n,l,u,x,y,T,H,te,ie,ue,le,ae){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:el},of(t,x,ue);var he=(x&62914560)===x?Jr-Ve():(x&4194048)===x?mf-Ve():0;if(he=F2(ue,he),he!==null){ml=x,e.cancelPendingCommit=he(zf.bind(null,e,t,x,n,l,u,y,T,H,ie,ue,null,le,ae)),Bl(e,x,y,!te);return}}zf(e,t,x,n,l,u,y,T,H)}function h2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],x=u.getSnapshot;u=u.value;try{if(!un(x(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bl(e,t,n,l){t&=~vc,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var x=31-xe(u),y=1<<x;l[x]=-1,u&=~y}n!==0&&Ee(e,n,t)}function Pr(){return(We&6)===0?(Gi(0),!1):!0}function Cc(){if(Be!==null){if(Pe===0)var e=Be.return;else e=Be,al=ta=null,Ou(e),Ra=null,pi=0,e=Be;for(;e!==null;)Wo(e.alternate,e),e=e.return;Be=null}}function Xa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,B2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ml=0,Cc(),nt=e,Be=n=nl(e.current,null),ke=t,Pe=0,on=null,Al=!1,Ua=ct(e,t),gc=!1,Za=fn=vc=xa=Tl=ft=0,Ft=Ri=null,yc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-xe(l),x=1<<u;t|=e[u],l&=~x}return hl=t,vr(),n}function pf(e,t){ze=null,M.H=Di,t===qa||t===Mr?(t=Bx(),Pe=3):t===zu?(t=Bx(),Pe=4):Pe=t===tc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,on=t,Be===null&&(ft=1,Hr(e,yn(t,e.current)))}function _f(){var e=sn.current;return e===null?!0:(ke&4194048)===ke?Cn===null:(ke&62914560)===ke||(ke&536870912)!==0?e===Cn:!1}function Sf(){var e=M.H;return M.H=Di,e===null?Di:e}function Cf(){var e=M.A;return M.A=f2,e}function Fr(){ft=4,Al||(ke&4194048)!==ke&&sn.current!==null||(Ua=!0),(Tl&134217727)===0&&(xa&134217727)===0||nt===null||Bl(nt,ke,fn,!1)}function jc(e,t,n){var l=We;We|=2;var u=Sf(),x=Cf();(nt!==e||ke!==t)&&(Qr=null,Xa(e,t)),t=!1;var y=ft;e:do try{if(Pe!==0&&Be!==null){var T=Be,H=on;switch(Pe){case 8:Cc(),y=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(t=!0);var te=Pe;if(Pe=0,on=null,Va(e,T,H,te),n&&Ua){y=0;break e}break;default:te=Pe,Pe=0,on=null,Va(e,T,H,te)}}m2(),y=ft;break}catch(ie){pf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,al=ta=null,We=l,M.H=u,M.A=x,Be===null&&(nt=null,ke=0,vr()),y}function m2(){for(;Be!==null;)jf(Be)}function b2(e,t){var n=We;We|=2;var l=Sf(),u=Cf();nt!==e||ke!==t?(Qr=null,Wr=Ve()+500,Xa(e,t)):Ua=ct(e,t);e:do try{if(Pe!==0&&Be!==null){t=Be;var x=on;t:switch(Pe){case 1:Pe=0,on=null,Va(e,t,x,1);break;case 2:case 9:if(Lx(x)){Pe=0,on=null,wf(t);break}t=function(){Pe!==2&&Pe!==9||nt!==e||(Pe=7),Vn(e)},x.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:Lx(x)?(Pe=0,on=null,wf(t)):(Pe=0,on=null,Va(e,t,x,7));break;case 5:var y=null;switch(Be.tag){case 26:y=Be.memoizedState;case 5:case 27:var T=Be;if(y?xd(y):T.stateNode.complete){Pe=0,on=null;var H=T.sibling;if(H!==null)Be=H;else{var te=T.return;te!==null?(Be=te,$r(te)):Be=null}break t}}Pe=0,on=null,Va(e,t,x,5);break;case 6:Pe=0,on=null,Va(e,t,x,6);break;case 8:Cc(),ft=6;break e;default:throw Error(i(462))}}g2();break}catch(ie){pf(e,ie)}while(!0);return al=ta=null,M.H=l,M.A=u,We=n,Be!==null?0:(nt=null,ke=0,vr(),ft)}function g2(){for(;Be!==null&&!Qn();)jf(Be)}function jf(e){var t=Vo(e.alternate,e,hl);e.memoizedProps=e.pendingProps,t===null?$r(e):Be=t}function wf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Yo(n,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=Yo(n,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Ou(t);default:Wo(n,t),t=Be=_x(t,hl),t=Vo(n,t,hl)}e.memoizedProps=e.pendingProps,t===null?$r(e):Be=t}function Va(e,t,n,l){al=ta=null,Ou(t),Ra=null,pi=0;var u=t.return;try{if(i2(e,u,t,n,ke)){ft=1,Hr(e,yn(n,e.current)),Be=null;return}}catch(x){if(u!==null)throw Be=u,x;ft=1,Hr(e,yn(n,e.current)),Be=null;return}t.flags&32768?(Oe||l===1?e=!0:Ua||(ke&536870912)!==0?e=!1:(Al=e=!0,(l===2||l===9||l===3||l===6)&&(l=sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mf(t,e)):$r(t)}function $r(e){var t=e;do{if((t.flags&32768)!==0){Mf(t,Al);return}e=t.return;var n=c2(t.alternate,t,hl);if(n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);ft===0&&(ft=5)}function Mf(e,t){do{var n=s2(e.alternate,e);if(n!==null){n.flags&=32767,Be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Be=e;return}Be=e=n}while(e!==null);ft=6,Be=null}function zf(e,t,n,l,u,x,y,T,H){e.cancelPendingCommit=null;do e0();while(Mt!==0);if((We&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(x=t.lanes|t.childLanes,x|=fu,Dt(e,n,x,y,T,H),e===nt&&(Be=nt=null,ke=0),Ka=t,El=e,ml=n,pc=x,_c=u,bf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_2(Ln,function(){return Lf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=L.p,L.p=2,y=We,We|=4;try{x2(e,t,n)}finally{We=y,L.p=u,M.T=l}}Mt=1,Df(),Nf(),Af()}}function Df(){if(Mt===1){Mt=0;var e=El,t=Ka,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var l=L.p;L.p=2;var u=We;We|=4;try{cf(t,e);var x=Rc,y=fx(e.containerInfo),T=x.focusedElem,H=x.selectionRange;if(y!==T&&T&&T.ownerDocument&&ox(T.ownerDocument.documentElement,T)){if(H!==null&&uu(T)){var te=H.start,ie=H.end;if(ie===void 0&&(ie=te),"selectionStart"in T)T.selectionStart=te,T.selectionEnd=Math.min(ie,T.value.length);else{var ue=T.ownerDocument||document,le=ue&&ue.defaultView||window;if(le.getSelection){var ae=le.getSelection(),he=T.textContent.length,pe=Math.min(H.start,he),tt=H.end===void 0?pe:Math.min(H.end,he);!ae.extend&&pe>tt&&(y=tt,tt=pe,pe=y);var W=xx(T,pe),X=xx(T,tt);if(W&&X&&(ae.rangeCount!==1||ae.anchorNode!==W.node||ae.anchorOffset!==W.offset||ae.focusNode!==X.node||ae.focusOffset!==X.offset)){var $=ue.createRange();$.setStart(W.node,W.offset),ae.removeAllRanges(),pe>tt?(ae.addRange($),ae.extend(X.node,X.offset)):($.setEnd(X.node,X.offset),ae.addRange($))}}}}for(ue=[],ae=T;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ue.length;T++){var re=ue[T];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}f0=!!qc,Rc=qc=null}finally{We=u,L.p=l,M.T=n}}e.current=t,Mt=2}}function Nf(){if(Mt===2){Mt=0;var e=El,t=Ka,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var l=L.p;L.p=2;var u=We;We|=4;try{nf(e,t.alternate,t)}finally{We=u,L.p=l,M.T=n}}Mt=3}}function Af(){if(Mt===4||Mt===3){Mt=0,Pn();var e=El,t=Ka,n=ml,l=bf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Mt=5:(Mt=0,Ka=El=null,Tf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Ll=null),ai(n),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Fn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,u=L.p,L.p=2,M.T=null;try{for(var x=e.onRecoverableError,y=0;y<l.length;y++){var T=l[y];x(T.value,{componentStack:T.stack})}}finally{M.T=t,L.p=u}}(ml&3)!==0&&e0(),Vn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Sc?ki++:(ki=0,Sc=e):ki=0,Gi(0)}}function Tf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vi(t)))}function e0(){return Df(),Nf(),Af(),Lf()}function Lf(){if(Mt!==5)return!1;var e=El,t=pc;pc=0;var n=ai(ml),l=M.T,u=L.p;try{L.p=32>n?32:n,M.T=null,n=_c,_c=null;var x=El,y=ml;if(Mt=0,Ka=El=null,ml=0,(We&6)!==0)throw Error(i(331));var T=We;if(We|=4,df(x.current),xf(x,x.current,y,n),We=T,Gi(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Fn,x)}catch{}return!0}finally{L.p=u,M.T=l,Tf(e,t)}}function Ef(e,t,n){t=yn(n,t),t=ec(e.stateNode,t,2),e=Ml(e,t,2),e!==null&&(Bn(e,2),Vn(e))}function Fe(e,t,n){if(e.tag===3)Ef(e,e,n);else for(;t!==null;){if(t.tag===3){Ef(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ll===null||!Ll.has(l))){e=yn(n,e),n=Eo(2),l=Ml(t,n,2),l!==null&&(Bo(n,l,t,e),Bn(l,2),Vn(l));break}}t=t.return}}function wc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new d2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(gc=!0,u.add(n),e=v2.bind(null,e,t,n),t.then(e,e))}function v2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,nt===e&&(ke&n)===n&&(ft===4||ft===3&&(ke&62914560)===ke&&300>Ve()-Jr?(We&2)===0&&Xa(e,0):vc|=n,Za===ke&&(Za=0)),Vn(e)}function Bf(e,t){t===0&&(t=ht()),e=Fl(e,t),e!==null&&(Bn(e,t),Vn(e))}function y2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bf(e,n)}function p2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Bf(e,n)}function _2(e,t){return It(e,t)}var t0=null,Ja=null,Mc=!1,n0=!1,zc=!1,ql=0;function Vn(e){e!==Ja&&e.next===null&&(Ja===null?t0=Ja=e:Ja=Ja.next=e),n0=!0,Mc||(Mc=!0,C2())}function Gi(e,t){if(!zc&&n0){zc=!0;do for(var n=!1,l=t0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var x=0;else{var y=l.suspendedLanes,T=l.pingedLanes;x=(1<<31-xe(42|e)+1)-1,x&=u&~(y&~T),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Gf(l,x))}else x=ke,x=dt(l,l===nt?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||ct(l,x)||(n=!0,Gf(l,x));l=l.next}while(n);zc=!1}}function S2(){qf()}function qf(){n0=Mc=!1;var e=0;ql!==0&&E2()&&(e=ql);for(var t=Ve(),n=null,l=t0;l!==null;){var u=l.next,x=Rf(l,t);x===0?(l.next=null,n===null?t0=u:n.next=u,u===null&&(Ja=n)):(n=l,(e!==0||(x&3)!==0)&&(n0=!0)),l=u}Mt!==0&&Mt!==5||Gi(e),ql!==0&&(ql=0)}function Rf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var y=31-xe(x),T=1<<y,H=u[y];H===-1?((T&n)===0||(T&l)!==0)&&(u[y]=vt(T,t)):H<=t&&(e.expiredLanes|=T),x&=~T}if(t=nt,n=ke,n=dt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Tn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ct(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Tn(l),ai(n)){case 2:case 8:n=Xl;break;case 32:n=Ln;break;case 268435456:n=En;break;default:n=Ln}return l=kf.bind(null,e),n=It(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Tn(l),e.callbackPriority=2,e.callbackNode=null,2}function kf(e,t){if(Mt!==0&&Mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(e0()&&e.callbackNode!==n)return null;var l=ke;return l=dt(e,e===nt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(vf(e,l,t),Rf(e,Ve()),e.callbackNode!=null&&e.callbackNode===n?kf.bind(null,e):null)}function Gf(e,t){if(e0())return null;vf(e,t,!0)}function C2(){q2(function(){(We&6)!==0?It(vl,S2):qf()})}function Dc(){if(ql===0){var e=Ea;e===0&&(e=Ce,Ce<<=1,(Ce&261888)===0&&(Ce=256)),ql=e}return ql}function Of(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xr(""+e)}function Hf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function j2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var x=Of((u[Ht]||null).action),y=l.submitter;y&&(t=(t=y[Ht]||null)?Of(t.formAction):y.getAttribute("formAction"),t!==null&&(x=t,y=null));var T=new hr("action","action",null,l,u);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ql!==0){var H=y?Hf(u,y):new FormData(u);Ju(n,{pending:!0,data:H,method:u.method,action:x},null,H)}}else typeof x=="function"&&(T.preventDefault(),H=y?Hf(u,y):new FormData(u),Ju(n,{pending:!0,data:H,method:u.method,action:x},x,H))},currentTarget:u}]})}}for(var Nc=0;Nc<ou.length;Nc++){var Ac=ou[Nc],w2=Ac.toLowerCase(),M2=Ac[0].toUpperCase()+Ac.slice(1);qn(w2,"on"+M2)}qn(mx,"onAnimationEnd"),qn(bx,"onAnimationIteration"),qn(gx,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(I1,"onTransitionRun"),qn(U1,"onTransitionStart"),qn(Z1,"onTransitionCancel"),qn(vx,"onTransitionEnd"),ya("onMouseEnter",["mouseout","mouseover"]),ya("onMouseLeave",["mouseout","mouseover"]),ya("onPointerEnter",["pointerout","pointerover"]),ya("onPointerLeave",["pointerout","pointerover"]),Jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oi));function Yf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var y=l.length-1;0<=y;y--){var T=l[y],H=T.instance,te=T.currentTarget;if(T=T.listener,H!==x&&u.isPropagationStopped())break e;x=T,u.currentTarget=te;try{x(u)}catch(ie){gr(ie)}u.currentTarget=null,x=H}else for(y=0;y<l.length;y++){if(T=l[y],H=T.instance,te=T.currentTarget,T=T.listener,H!==x&&u.isPropagationStopped())break e;x=T,u.currentTarget=te;try{x(u)}catch(ie){gr(ie)}u.currentTarget=null,x=H}}}}function qe(e,t){var n=t[ve];n===void 0&&(n=t[ve]=new Set);var l=e+"__bubble";n.has(l)||(If(t,e,2,!1),n.add(l))}function Tc(e,t,n){var l=0;t&&(l|=4),If(n,e,l,t)}var l0="_reactListening"+Math.random().toString(36).slice(2);function Lc(e){if(!e[l0]){e[l0]=!0,Es.forEach(function(n){n!=="selectionchange"&&(z2.has(n)||Tc(n,!1,e),Tc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[l0]||(t[l0]=!0,Tc("selectionchange",!1,t))}}function If(e,t,n,l){switch(gd(t)){case 2:var u=th;break;case 8:u=nh;break;default:u=Vc}n=u.bind(null,t,n,e),u=void 0,!F0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Ec(e,t,n,l,u){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===u)break;if(y===4)for(y=l.return;y!==null;){var H=y.tag;if((H===3||H===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;T!==null;){if(y=ba(T),y===null)return;if(H=y.tag,H===5||H===6||H===26||H===27){l=x=y;continue e}T=T.parentNode}}l=l.return}Ks(function(){var te=x,ie=Q0(n),ue=[];e:{var le=yx.get(e);if(le!==void 0){var ae=hr,he=e;switch(e){case"keypress":if(fr(n)===0)break e;case"keydown":case"keyup":ae=p1;break;case"focusin":he="focus",ae=nu;break;case"focusout":he="blur",ae=nu;break;case"beforeblur":case"afterblur":ae=nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=c1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=C1;break;case mx:case bx:case gx:ae=o1;break;case vx:ae=w1;break;case"scroll":case"scrollend":ae=r1;break;case"wheel":ae=z1;break;case"copy":case"cut":case"paste":ae=d1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Qs;break;case"toggle":case"beforetoggle":ae=N1}var pe=(t&4)!==0,tt=!pe&&(e==="scroll"||e==="scrollend"),W=pe?le!==null?le+"Capture":null:le;pe=[];for(var X=te,$;X!==null;){var re=X;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||W===null||(re=ui(X,W),re!=null&&pe.push(Hi(X,re,$))),tt)break;X=X.return}0<pe.length&&(le=new ae(le,he,null,n,ie),ue.push({event:le,listeners:pe}))}}if((t&7)===0){e:{if(le=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",le&&n!==W0&&(he=n.relatedTarget||n.fromElement)&&(ba(he)||he[de]))break e;if((ae||le)&&(le=ie.window===ie?ie:(le=ie.ownerDocument)?le.defaultView||le.parentWindow:window,ae?(he=n.relatedTarget||n.toElement,ae=te,he=he?ba(he):null,he!==null&&(tt=f(he),pe=he.tag,he!==tt||pe!==5&&pe!==27&&pe!==6)&&(he=null)):(ae=null,he=te),ae!==he)){if(pe=Js,re="onMouseLeave",W="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Qs,re="onPointerLeave",W="onPointerEnter",X="pointer"),tt=ae==null?le:ri(ae),$=he==null?le:ri(he),le=new pe(re,X+"leave",ae,n,ie),le.target=tt,le.relatedTarget=$,re=null,ba(ie)===te&&(pe=new pe(W,X+"enter",he,n,ie),pe.target=$,pe.relatedTarget=tt,re=pe),tt=re,ae&&he)t:{for(pe=D2,W=ae,X=he,$=0,re=W;re;re=pe(re))$++;re=0;for(var ye=X;ye;ye=pe(ye))re++;for(;0<$-re;)W=pe(W),$--;for(;0<re-$;)X=pe(X),re--;for(;$--;){if(W===X||X!==null&&W===X.alternate){pe=W;break t}W=pe(W),X=pe(X)}pe=null}else pe=null;ae!==null&&Uf(ue,le,ae,pe,!1),he!==null&&tt!==null&&Uf(ue,tt,he,pe,!0)}}e:{if(le=te?ri(te):window,ae=le.nodeName&&le.nodeName.toLowerCase(),ae==="select"||ae==="input"&&le.type==="file")var Ze=ax;else if(nx(le))if(ix)Ze=O1;else{Ze=k1;var be=R1}else ae=le.nodeName,!ae||ae.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?te&&J0(te.elementType)&&(Ze=ax):Ze=G1;if(Ze&&(Ze=Ze(e,te))){lx(ue,Ze,n,ie);break e}be&&be(e,le,te),e==="focusout"&&te&&le.type==="number"&&te.memoizedProps.value!=null&&V0(le,"number",le.value)}switch(be=te?ri(te):window,e){case"focusin":(nx(be)||be.contentEditable==="true")&&(wa=be,cu=te,mi=null);break;case"focusout":mi=cu=wa=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,dx(ue,n,ie);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":dx(ue,n,ie)}var De;if(au)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else ja?ex(e,n)&&(Ge="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ge="onCompositionStart");Ge&&(Ps&&n.locale!=="ko"&&(ja||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&ja&&(De=Xs()):(yl=ie,$0="value"in yl?yl.value:yl.textContent,ja=!0)),be=a0(te,Ge),0<be.length&&(Ge=new Ws(Ge,e,null,n,ie),ue.push({event:Ge,listeners:be}),De?Ge.data=De:(De=tx(n),De!==null&&(Ge.data=De)))),(De=T1?L1(e,n):E1(e,n))&&(Ge=a0(te,"onBeforeInput"),0<Ge.length&&(be=new Ws("onBeforeInput","beforeinput",null,n,ie),ue.push({event:be,listeners:Ge}),be.data=De)),j2(ue,e,te,n,ie)}Yf(ue,t)})}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function a0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,x=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||x===null||(u=ui(e,n),u!=null&&l.unshift(Hi(e,u,x)),u=ui(e,t),u!=null&&l.push(Hi(e,u,x))),e.tag===3)return l;e=e.return}return[]}function D2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Uf(e,t,n,l,u){for(var x=t._reactName,y=[];n!==null&&n!==l;){var T=n,H=T.alternate,te=T.stateNode;if(T=T.tag,H!==null&&H===l)break;T!==5&&T!==26&&T!==27||te===null||(H=te,u?(te=ui(n,x),te!=null&&y.unshift(Hi(n,te,H))):u||(te=ui(n,x),te!=null&&y.push(Hi(n,te,H)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var N2=/\r\n?/g,A2=/\u0000|\uFFFD/g;function Zf(e){return(typeof e=="string"?e:""+e).replace(N2,`
`).replace(A2,"")}function Kf(e,t){return t=Zf(t),Zf(e)===t}function et(e,t,n,l,u,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||_a(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&_a(e,""+l);break;case"className":cr(e,"class",l);break;case"tabIndex":cr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(e,n,l);break;case"style":Us(e,l,x);break;case"data":if(t!=="object"){cr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=xr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&et(e,t,"name",u.name,u,null),et(e,t,"formEncType",u.formEncType,u,null),et(e,t,"formMethod",u.formMethod,u,null),et(e,t,"formTarget",u.formTarget,u,null)):(et(e,t,"encType",u.encType,u,null),et(e,t,"method",u.method,u,null),et(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=xr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=el);break;case"onScroll":l!=null&&qe("scroll",e);break;case"onScrollEnd":l!=null&&qe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=xr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":qe("beforetoggle",e),qe("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":$n(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$n(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$n(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$n(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$n(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$n(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$n(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=a1.get(n)||n,ur(e,n,l))}}function Bc(e,t,n,l,u,x){switch(n){case"style":Us(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?_a(e,l):(typeof l=="number"||typeof l=="bigint")&&_a(e,""+l);break;case"onScroll":l!=null&&qe("scroll",e);break;case"onScrollEnd":l!=null&&qe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=el);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),x=e[Ht]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,u),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ur(e,n,l)}}}function Rt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",e),qe("load",e);var l=!1,u=!1,x;for(x in n)if(n.hasOwnProperty(x)){var y=n[x];if(y!=null)switch(x){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:et(e,t,x,y,n,null)}}u&&et(e,t,"srcSet",n.srcSet,n,null),l&&et(e,t,"src",n.src,n,null);return;case"input":qe("invalid",e);var T=x=y=u=null,H=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":u=ie;break;case"type":y=ie;break;case"checked":H=ie;break;case"defaultChecked":te=ie;break;case"value":x=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:et(e,t,l,ie,n,null)}}Os(e,x,T,H,te,y,u,!1);return;case"select":qe("invalid",e),l=y=x=null;for(u in n)if(n.hasOwnProperty(u)&&(T=n[u],T!=null))switch(u){case"value":x=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:et(e,t,u,T,n,null)}t=x,n=y,e.multiple=!!l,t!=null?pa(e,!!l,t,!1):n!=null&&pa(e,!!l,n,!0);return;case"textarea":qe("invalid",e),x=u=l=null;for(y in n)if(n.hasOwnProperty(y)&&(T=n[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":u=T;break;case"children":x=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:et(e,t,y,T,n,null)}Ys(e,l,u,x);return;case"option":for(H in n)n.hasOwnProperty(H)&&(l=n[H],l!=null)&&(H==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":et(e,t,H,l,n,null));return;case"dialog":qe("beforetoggle",e),qe("toggle",e),qe("cancel",e),qe("close",e);break;case"iframe":case"object":qe("load",e);break;case"video":case"audio":for(l=0;l<Oi.length;l++)qe(Oi[l],e);break;case"image":qe("error",e),qe("load",e);break;case"details":qe("toggle",e);break;case"embed":case"source":case"link":qe("error",e),qe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:et(e,t,te,l,n,null)}return;default:if(J0(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Bc(e,t,ie,l,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(l=n[T],l!=null&&et(e,t,T,l,n,null))}function T2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,x=null,y=null,T=null,H=null,te=null,ie=null;for(ae in n){var ue=n[ae];if(n.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":H=ue;default:l.hasOwnProperty(ae)||et(e,t,ae,null,l,ue)}}for(var le in l){var ae=l[le];if(ue=n[le],l.hasOwnProperty(le)&&(ae!=null||ue!=null))switch(le){case"type":x=ae;break;case"name":u=ae;break;case"checked":te=ae;break;case"defaultChecked":ie=ae;break;case"value":y=ae;break;case"defaultValue":T=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ae!==ue&&et(e,t,le,ae,l,ue)}}X0(e,y,T,H,te,ie,x,u);return;case"select":ae=y=T=le=null;for(x in n)if(H=n[x],n.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":ae=H;default:l.hasOwnProperty(x)||et(e,t,x,null,l,H)}for(u in l)if(x=l[u],H=n[u],l.hasOwnProperty(u)&&(x!=null||H!=null))switch(u){case"value":le=x;break;case"defaultValue":T=x;break;case"multiple":y=x;default:x!==H&&et(e,t,u,x,l,H)}t=T,n=y,l=ae,le!=null?pa(e,!!n,le,!1):!!l!=!!n&&(t!=null?pa(e,!!n,t,!0):pa(e,!!n,n?[]:"",!1));return;case"textarea":ae=le=null;for(T in n)if(u=n[T],n.hasOwnProperty(T)&&u!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(e,t,T,null,l,u)}for(y in l)if(u=l[y],x=n[y],l.hasOwnProperty(y)&&(u!=null||x!=null))switch(y){case"value":le=u;break;case"defaultValue":ae=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==x&&et(e,t,y,u,l,x)}Hs(e,le,ae);return;case"option":for(var he in n)le=n[he],n.hasOwnProperty(he)&&le!=null&&!l.hasOwnProperty(he)&&(he==="selected"?e.selected=!1:et(e,t,he,null,l,le));for(H in l)le=l[H],ae=n[H],l.hasOwnProperty(H)&&le!==ae&&(le!=null||ae!=null)&&(H==="selected"?e.selected=le&&typeof le!="function"&&typeof le!="symbol":et(e,t,H,le,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in n)le=n[pe],n.hasOwnProperty(pe)&&le!=null&&!l.hasOwnProperty(pe)&&et(e,t,pe,null,l,le);for(te in l)if(le=l[te],ae=n[te],l.hasOwnProperty(te)&&le!==ae&&(le!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,t));break;default:et(e,t,te,le,l,ae)}return;default:if(J0(t)){for(var tt in n)le=n[tt],n.hasOwnProperty(tt)&&le!==void 0&&!l.hasOwnProperty(tt)&&Bc(e,t,tt,void 0,l,le);for(ie in l)le=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||le===ae||le===void 0&&ae===void 0||Bc(e,t,ie,le,l,ae);return}}for(var W in n)le=n[W],n.hasOwnProperty(W)&&le!=null&&!l.hasOwnProperty(W)&&et(e,t,W,null,l,le);for(ue in l)le=l[ue],ae=n[ue],!l.hasOwnProperty(ue)||le===ae||le==null&&ae==null||et(e,t,ue,le,l,ae)}function Xf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],x=u.transferSize,y=u.initiatorType,T=u.duration;if(x&&T&&Xf(y)){for(y=0,T=u.responseEnd,l+=1;l<n.length;l++){var H=n[l],te=H.startTime;if(te>T)break;var ie=H.transferSize,ue=H.initiatorType;ie&&Xf(ue)&&(H=H.responseEnd,y+=ie*(H<T?1:(T-te)/(H-te)))}if(--l,t+=8*(x+y)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qc=null,Rc=null;function i0(e){return e.nodeType===9?e:e.ownerDocument}function Vf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function kc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gc=null;function E2(){var e=window.event;return e&&e.type==="popstate"?e===Gc?!1:(Gc=e,!0):(Gc=null,!1)}var Wf=typeof setTimeout=="function"?setTimeout:void 0,B2=typeof clearTimeout=="function"?clearTimeout:void 0,Qf=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof Qf<"u"?function(e){return Qf.resolve(null).then(e).catch(R2)}:Wf;function R2(e){setTimeout(function(){throw e})}function Rl(e){return e==="head"}function Pf(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),Fa(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Yi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Yi(n);for(var x=n.firstChild;x;){var y=x.nextSibling,T=x.nodeName;x[rn]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=y}}else n==="body"&&Yi(e.ownerDocument.body);n=u}while(n);Fa(t)}function Ff(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Oc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Oc(n),ii(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function k2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[rn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function G2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function $f(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=jn(e.nextSibling),e===null))return null;return e}function Hc(e){return e.data==="$?"||e.data==="$~"}function Yc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function O2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ic=null;function ed(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return jn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function td(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function nd(e,t,n){switch(t=i0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Yi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ii(e)}var wn=new Map,ld=new Set;function r0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bl=L.d;L.d={f:H2,r:Y2,D:I2,C:U2,L:Z2,m:K2,X:V2,S:X2,M:J2};function H2(){var e=bl.f(),t=Pr();return e||t}function Y2(e){var t=ga(e);t!==null&&t.tag===5&&t.type==="form"?yo(t):bl.r(e)}var Wa=typeof document>"u"?null:document;function ad(e,t,n){var l=Wa;if(l&&typeof t=="string"&&t){var u=gn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),ld.has(u)||(ld.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Rt(t,"link",e),Nt(t),l.head.appendChild(t)))}}function I2(e){bl.D(e),ad("dns-prefetch",e,null)}function U2(e,t){bl.C(e,t),ad("preconnect",e,t)}function Z2(e,t,n){bl.L(e,t,n);var l=Wa;if(l&&e&&t){var u='link[rel="preload"][as="'+gn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+gn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+gn(n.imageSizes)+'"]')):u+='[href="'+gn(e)+'"]';var x=u;switch(t){case"style":x=Qa(e);break;case"script":x=Pa(e)}wn.has(x)||(e=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),wn.set(x,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Ii(x))||t==="script"&&l.querySelector(Ui(x))||(t=l.createElement("link"),Rt(t,"link",e),Nt(t),l.head.appendChild(t)))}}function K2(e,t){bl.m(e,t);var n=Wa;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(e)+'"]',x=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Pa(e)}if(!wn.has(x)&&(e=g({rel:"modulepreload",href:e},t),wn.set(x,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ui(x)))return}l=n.createElement("link"),Rt(l,"link",e),Nt(l),n.head.appendChild(l)}}}function X2(e,t,n){bl.S(e,t,n);var l=Wa;if(l&&e){var u=va(l).hoistableStyles,x=Qa(e);t=t||"default";var y=u.get(x);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Ii(x)))T.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},n),(n=wn.get(x))&&Uc(e,n);var H=y=l.createElement("link");Nt(H),Rt(H,"link",e),H._p=new Promise(function(te,ie){H.onload=te,H.onerror=ie}),H.addEventListener("load",function(){T.loading|=1}),H.addEventListener("error",function(){T.loading|=2}),T.loading|=4,u0(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:T},u.set(x,y)}}}function V2(e,t){bl.X(e,t);var n=Wa;if(n&&e){var l=va(n).hoistableScripts,u=Pa(e),x=l.get(u);x||(x=n.querySelector(Ui(u)),x||(e=g({src:e,async:!0},t),(t=wn.get(u))&&Zc(e,t),x=n.createElement("script"),Nt(x),Rt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function J2(e,t){bl.M(e,t);var n=Wa;if(n&&e){var l=va(n).hoistableScripts,u=Pa(e),x=l.get(u);x||(x=n.querySelector(Ui(u)),x||(e=g({src:e,async:!0,type:"module"},t),(t=wn.get(u))&&Zc(e,t),x=n.createElement("script"),Nt(x),Rt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function id(e,t,n,l){var u=(u=se.current)?r0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Qa(n.href),n=va(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Qa(n.href);var x=va(u).hoistableStyles,y=x.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,y),(x=u.querySelector(Ii(e)))&&!x._p&&(y.instance=x,y.state.loading=5),wn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wn.set(e,n),x||W2(u,e,n,y.state))),t&&l===null)throw Error(i(528,""));return y}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pa(n),n=va(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Qa(e){return'href="'+gn(e)+'"'}function Ii(e){return'link[rel="stylesheet"]['+e+"]"}function rd(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function W2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Rt(t,"link",n),Nt(t),e.head.appendChild(t))}function Pa(e){return'[src="'+gn(e)+'"]'}function Ui(e){return"script[async]"+e}function ud(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+gn(n.href)+'"]');if(l)return t.instance=l,Nt(l),l;var u=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Nt(l),Rt(l,"style",u),u0(l,n.precedence,e),t.instance=l;case"stylesheet":u=Qa(n.href);var x=e.querySelector(Ii(u));if(x)return t.state.loading|=4,t.instance=x,Nt(x),x;l=rd(n),(u=wn.get(u))&&Uc(l,u),x=(e.ownerDocument||e).createElement("link"),Nt(x);var y=x;return y._p=new Promise(function(T,H){y.onload=T,y.onerror=H}),Rt(x,"link",l),t.state.loading|=4,u0(x,n.precedence,e),t.instance=x;case"script":return x=Pa(n.src),(u=e.querySelector(Ui(x)))?(t.instance=u,Nt(u),u):(l=n,(u=wn.get(x))&&(l=g({},n),Zc(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Nt(u),Rt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,u0(l,n.precedence,e));return t.instance}function u0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,x=u,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===t)x=T;else if(x!==u)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var c0=null;function cd(e,t,n){if(c0===null){var l=new Map,u=c0=new Map;u.set(n,l)}else u=c0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var x=n[u];if(!(x[rn]||x[wt]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var y=x.getAttribute(t)||"";y=e+y;var T=l.get(y);T?T.push(x):l.set(y,[x])}}return l}function sd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Q2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function xd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function P2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Qa(l.href),x=t.querySelector(Ii(u));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=s0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,Nt(x);return}x=t.ownerDocument||t,l=rd(l),(u=wn.get(u))&&Uc(l,u),x=x.createElement("link"),Nt(x);var y=x;y._p=new Promise(function(T,H){y.onload=T,y.onerror=H}),Rt(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=s0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Kc=0;function F2(e,t){return e.stylesheets&&e.count===0&&o0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&o0(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&Kc===0&&(Kc=62500*L2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&o0(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>Kc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function s0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)o0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var x0=null;function o0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,x0=new Map,t.forEach($2,e),x0=null,s0.call(e))}function $2(e,t){if(!(t.state.loading&4)){var n=x0.get(e);if(n)var l=n.get(null);else{n=new Map,x0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<u.length;x++){var y=u[x];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),l=y)}l&&n.set(null,l)}u=t.instance,y=u.getAttribute("data-precedence"),x=n.get(y)||l,x===l&&n.set(null,u),n.set(y,u),this.count++,l=s0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),x?x.parentNode.insertBefore(u,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Zi={$$typeof:R,Provider:null,Consumer:null,_currentValue:E,_currentValue2:E,_threadCount:0};function eh(e,t,n,l,u,x,y,T,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qe(0),this.hiddenUpdates=Qe(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=x,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function od(e,t,n,l,u,x,y,T,H,te,ie,ue){return e=new eh(e,t,n,y,H,te,ie,ue,T),t=1,x===!0&&(t|=24),x=cn(3,null,null,t),e.current=x,x.stateNode=e,t=ju(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},Du(x),e}function fd(e){return e?(e=Da,e):Da}function dd(e,t,n,l,u,x){u=fd(u),l.context===null?l.context=u:l.pendingContext=u,l=wl(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=Ml(e,l,t),n!==null&&($t(n,e,t),Si(n,e,t))}function hd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xc(e,t){hd(e,t),(e=e.alternate)&&hd(e,t)}function md(e){if(e.tag===13||e.tag===31){var t=Fl(e,67108864);t!==null&&$t(t,e,67108864),Xc(e,67108864)}}function bd(e){if(e.tag===13||e.tag===31){var t=dn();t=xt(t);var n=Fl(e,t);n!==null&&$t(n,e,t),Xc(e,t)}}var f0=!0;function th(e,t,n,l){var u=M.T;M.T=null;var x=L.p;try{L.p=2,Vc(e,t,n,l)}finally{L.p=x,M.T=u}}function nh(e,t,n,l){var u=M.T;M.T=null;var x=L.p;try{L.p=8,Vc(e,t,n,l)}finally{L.p=x,M.T=u}}function Vc(e,t,n,l){if(f0){var u=Jc(l);if(u===null)Ec(e,t,l,d0,n),vd(e,l);else if(ah(u,e,t,n,l))l.stopPropagation();else if(vd(e,l),t&4&&-1<lh.indexOf(e)){for(;u!==null;){var x=ga(u);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var y=Se(x.pendingLanes);if(y!==0){var T=x;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var H=1<<31-xe(y);T.entanglements[1]|=H,y&=~H}Vn(x),(We&6)===0&&(Wr=Ve()+500,Gi(0))}}break;case 31:case 13:T=Fl(x,2),T!==null&&$t(T,x,2),Pr(),Xc(x,2)}if(x=Jc(l),x===null&&Ec(e,t,l,d0,n),x===u)break;u=x}u!==null&&l.stopPropagation()}else Ec(e,t,l,null,n)}}function Jc(e){return e=Q0(e),Wc(e)}var d0=null;function Wc(e){if(d0=null,e=ba(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=C(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return d0=e,null}function gd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(an()){case vl:return 2;case Xl:return 8;case Ln:case ma:return 32;case En:return 268435456;default:return 32}default:return 32}}var Qc=!1,kl=null,Gl=null,Ol=null,Ki=new Map,Xi=new Map,Hl=[],lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":Ol=null;break;case"pointerover":case"pointerout":Ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(t.pointerId)}}function Vi(e,t,n,l,u,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[u]},t!==null&&(t=ga(t),t!==null&&md(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function ah(e,t,n,l,u){switch(t){case"focusin":return kl=Vi(kl,e,t,n,l,u),!0;case"dragenter":return Gl=Vi(Gl,e,t,n,l,u),!0;case"mouseover":return Ol=Vi(Ol,e,t,n,l,u),!0;case"pointerover":var x=u.pointerId;return Ki.set(x,Vi(Ki.get(x)||null,e,t,n,l,u)),!0;case"gotpointercapture":return x=u.pointerId,Xi.set(x,Vi(Xi.get(x)||null,e,t,n,l,u)),!0}return!1}function yd(e){var t=ba(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,rr(e.priority,function(){bd(n)});return}}else if(t===31){if(t=C(n),t!==null){e.blockedOn=t,rr(e.priority,function(){bd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function h0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jc(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);W0=l,n.target.dispatchEvent(l),W0=null}else return t=ga(n),t!==null&&md(t),e.blockedOn=n,!1;t.shift()}return!0}function pd(e,t,n){h0(e)&&n.delete(t)}function ih(){Qc=!1,kl!==null&&h0(kl)&&(kl=null),Gl!==null&&h0(Gl)&&(Gl=null),Ol!==null&&h0(Ol)&&(Ol=null),Ki.forEach(pd),Xi.forEach(pd)}function m0(e,t){e.blockedOn===t&&(e.blockedOn=null,Qc||(Qc=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,ih)))}var b0=null;function _d(e){b0!==e&&(b0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){b0===e&&(b0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Wc(l||n)===null)continue;break}var x=ga(n);x!==null&&(e.splice(t,3),t-=3,Ju(x,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function Fa(e){function t(H){return m0(H,e)}kl!==null&&m0(kl,e),Gl!==null&&m0(Gl,e),Ol!==null&&m0(Ol,e),Ki.forEach(t),Xi.forEach(t);for(var n=0;n<Hl.length;n++){var l=Hl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hl.length&&(n=Hl[0],n.blockedOn===null);)yd(n),n.blockedOn===null&&Hl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],x=n[l+1],y=u[Ht]||null;if(typeof x=="function")y||_d(n);else if(y){var T=null;if(x&&x.hasAttribute("formAction")){if(u=x,y=x[Ht]||null)T=y.formAction;else if(Wc(u)!==null)continue}else T=y.action;typeof T=="function"?n[l+1]=T:(n.splice(l,3),l-=3),_d(n)}}}function Sd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Pc(e){this._internalRoot=e}g0.prototype.render=Pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=dn();dd(n,l,e,t,null,null)},g0.prototype.unmount=Pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dd(e.current,2,null,e,null,null),Pr(),t[de]=null}};function g0(e){this._internalRoot=e}g0.prototype.unstable_scheduleHydration=function(e){if(e){var t=ir();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hl.length&&t!==0&&t<Hl[n].priority;n++);Hl.splice(n,0,e),n===0&&yd(e)}};var Cd=r.version;if(Cd!=="19.2.3")throw Error(i(527,Cd,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=d(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var rh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v0.isDisabled&&v0.supportsFiber)try{Fn=v0.inject(rh),Tt=v0}catch{}}return Wi.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,l="",u=No,x=Ao,y=To;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=od(e,1,!1,null,null,n,l,null,u,x,y,Sd),e[de]=t.current,Lc(e),new Pc(t)},Wi.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var l=!1,u="",x=No,y=Ao,T=To,H=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(H=n.formState)),t=od(e,1,!0,t,n??null,l,u,H,x,y,T,Sd),t.context=fd(null),n=t.current,l=dn(),l=xt(l),u=wl(l),u.callback=null,Ml(n,u,l),n=l,t.current.lanes=n,Bn(t,n),Vn(t),e[de]=t.current,Lc(e),new g0(t)},Wi.version="19.2.3",Wi}var Ed;function bh(){if(Ed)return es.exports;Ed=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),es.exports=mh(),es.exports}var gh=bh();const Kl=Mn;function S0(){const c=["mtjxBhrvuhy","C2XPy2u","ndKYmJLRzKDZAeu","v3nzqKO","BwLU","ndeXmtmXn3blsxzmrq","z3jVDxbZ","zMXVB3i","ExziB3G","BgvHzKLKCW","BgvHzKDYB3vWCW","zMLUza","zMXVD2vYswrZ","Au9Hru0","C2vHCMnO","ndm1mJu0mhPIsuXJzq","Cg9ZAxrPB24","yxbWBhK","BgvUz3rO","mtruC1H6AMK","m01Rtfn4uW","CMvKDwnL","ndHhuw1VyK0","nJq2otu1meXWt3LvtG","mJiXnda3mg96DLfICa","ndy0nZu0ngLMrKLcBG","mty4nJyYnZHNrNzQt1K"];return S0=function(){return c},S0()}(function(c,r){const a=Mn,i=c();for(;;)try{if(parseInt(a(189))/1*(parseInt(a(209))/2)+parseInt(a(207))/3*(parseInt(a(202))/4)+-parseInt(a(211))/5*(parseInt(a(187))/6)+parseInt(a(206))/7*(-parseInt(a(212))/8)+-parseInt(a(192))/9+-parseInt(a(210))/10+parseInt(a(186))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(S0,651647);const vh=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Mn;if(a){const f=a[o(204)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),rs=vh(void 0,function(){const c=Mn,r={WsYBJ:"(((.+)+)+)+$"};return rs.toString()[c(201)](r[c(190)]).toString().constructor(rs).search(r.WsYBJ)});rs();const C0=()=>new Date().toISOString(),Gt=c=>c+"_"+Math.random().toString(36)[Kl(188)](2,10),_e=(c,r,a)=>Math.max(r,Math[Kl(191)](a,c)),Il=c=>{const r=Kl,a={yvHox:function(i,o){return i===o},iOaEM:function(i,o){return i===o}};return a[r(195)](c,void 0)||a[r(200)](c,null)?c:JSON.parse(JSON.stringify(c))},Pi=c=>Math[Kl(194)](c*.7/5)*5;function da(c,r){const a=Kl;return c[a(193)]?c[a(193)].find(i=>i[a(199)].includes(r))??null:null}function yh(c,r){const a=Kl,i={UYDPP:function(f,m,C){return f(m,C)}},o=i.UYDPP(da,c,r);return o?o[a(199)]:[r]}function Mn(c,r){c=c-186;const a=S0();let i=a[c];if(Mn.cSwEpD===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Mn.UgntBA=o,Mn.lVrLOi={},Mn.cSwEpD=!0}const f=a[0],m=c+f,C=Mn.lVrLOi[m];if(C)i=C;else{const h=function(d){this.OxOTix=d,this.KIKMXE=[1,0,0],this.hbfVhy=function(){return"newState"},this.rVsUrM="\\w+ *\\(\\) *{\\w+ *",this.swyRvU=`['|"].+['|"];? *}`};h.prototype.sepcqI=function(){const d=new RegExp(this.rVsUrM+this.swyRvU),v=d.test(this.hbfVhy.toString())?--this.KIKMXE[1]:--this.KIKMXE[0];return this.ZyKTbJ(v)},h.prototype.ZyKTbJ=function(d){return~d?this.yXtGUf(this.OxOTix):d},h.prototype.yXtGUf=function(d){for(let v=0,g=this.KIKMXE.length;v<g;v++)this.KIKMXE.push(Math.round(Math.random())),g=this.KIKMXE.length;return d(this.KIKMXE[0])},new h(Mn).sepcqI(),i=Mn.UgntBA(i),Mn.lVrLOi[m]=i}return i}function U0(c,r){const a=Kl;return c.leafGroups?c[a(197)][a(198)](i=>i[a(196)].includes(r))??null:null}function ph(c,r){const a=Kl,i={jOOwn:function(h,d){return h/d}},o=(c.leafGroups??[]).find(h=>h.id===r);if(!o||o.leafIds.length===0)return{x:0,y:0};const f=o[a(196)].map(h=>(c.leaves??[]).find(d=>d.id===h)).filter(h=>!!h);if(f.length===0)return{x:0,y:0};const m=f[a(208)]((h,d)=>h+d[a(203)].x,0),C=f[a(208)]((h,d)=>h+d[a(203)].y,0);return{x:m/f[a(205)],y:i.jOOwn(C,f[a(205)])}}function _h(c,r){const a={ybzxw:function(o,f,m){return o(f,m)}},i=a.ybzxw(U0,c,r);return i?i.leafIds:[r]}(function(c,r){const a=Zt,i=c();for(;;)try{if(parseInt(a(313))/1*(-parseInt(a(312))/2)+-parseInt(a(324))/3*(parseInt(a(304))/4)+parseInt(a(331))/5*(parseInt(a(289))/6)+parseInt(a(311))/7*(parseInt(a(317))/8)+parseInt(a(319))/9*(parseInt(a(315))/10)+parseInt(a(323))/11+-parseInt(a(300))/12*(parseInt(a(293))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(j0,114837);const Sh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),us=Sh(void 0,function(){const c=Zt;return us.toString()[c(316)]("(((.+)+)+)+$")[c(327)]()[c(286)](us).search("(((.+)+)+)+$")});us();const ti=2/3,Bd=.6,Ch=.25,jh=.75;function Zl(c,r,a){const i=Zt,o={LKVHL:function(R,G){return R/G},thYGd:function(R,G){return R-G},YYQlD:function(R,G){return R===G},EMpKj:function(R,G){return R+G},rloyf:function(R,G){return R-G},AEkLs:function(R,G){return R*G},zqMkI:function(R,G){return R*G},AnQSF:function(R,G){return R/G},WhsCY:function(R,G){return R<G},XLxIz:i(314),DlHWx:function(R,G){return R/G},JizwK:function(R,G){return R*G}},f=o[i(283)](c,2),m=r*Math.SQRT2/2;if(m<=0||f<=0)return{diameter:c,layerCount:1};const C=a?.sizeMode??"uniform",h=a?.[i(302)]??0,d=m*o[i(291)](1,ti),v=Math.PI*f/2,g=a?.layerCount??Math.max(1,Math[i(321)](v/d)),A=o.YYQlD(C,"gradual")?o.EMpKj(r,o.rloyf(g,1)*h):r,b=o.AEkLs(A,Math[i(284)])/2,D=o[i(309)](o[i(299)](m,Ch),o[i(328)](b,jh));if(o.YYQlD(g,1)){const R=Math.min(o[i(298)](Math.PI,2),o.zqMkI(b,ti)/f),G=o.AEkLs(f,Math[i(326)](R)),I=b*Bd*Math.sin(R);return{diameter:Math[i(321)](Math.max(c,2*(G+I))),layerCount:g}}let j=o[i(283)](m*ti,f);for(let R=1;o.WhsCY(R,g);R++){const G=C===o.XLxIz?r+R*h:r,I=o.DlHWx(G*Math.SQRT2,2);j+=o[i(285)](o[i(299)](I,1-ti),f)}j=Math[i(320)](j,Math.PI/2);const w=o[i(292)](f+o.zqMkI(D,Bd),Math[i(326)](j)),q=Math.max(0,o.thYGd(w,f));return{diameter:Math[i(321)](c+2*q),layerCount:g}}function Zt(c,r){c=c-282;const a=j0();let i=a[c];if(Zt.jdwtZc===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Zt.xoCEMd=o,Zt.vMUdCH={},Zt.jdwtZc=!0}const f=a[0],m=c+f,C=Zt.vMUdCH[m];if(C)i=C;else{const h=function(d){this.qmgwwb=d,this.KkuDzV=[1,0,0],this.LfByhS=function(){return"newState"},this.ByyUqm="\\w+ *\\(\\) *{\\w+ *",this.juXOjK=`['|"].+['|"];? *}`};h.prototype.YhYdFU=function(){const d=new RegExp(this.ByyUqm+this.juXOjK),v=d.test(this.LfByhS.toString())?--this.KkuDzV[1]:--this.KkuDzV[0];return this.UJKCYX(v)},h.prototype.UJKCYX=function(d){return~d?this.TzBAoJ(this.qmgwwb):d},h.prototype.TzBAoJ=function(d){for(let v=0,g=this.KkuDzV.length;v<g;v++)this.KkuDzV.push(Math.round(Math.random())),g=this.KkuDzV.length;return d(this.KkuDzV[0])},new h(Zt).YhYdFU(),i=Zt.xoCEMd(i),Zt.vMUdCH[m]=i}return i}function er(c,r,a="uniform",i=0){const o=Zt,f={zVIcJ:function(h,d){return h<=d},gBNXO:function(h,d){return h<d},asmwN:function(h,d){return h===d},Lnquj:function(h,d){return h*d},sZrdg:function(h,d){return h/d},gAQTp:function(h,d){return h*d}};if(f[o(305)](r,0)||c<=0)return 0;const m=[];for(let h=0;f.gBNXO(h,r);h++){const d=f.asmwN(a,"gradual")?c+f[o(330)](h,i):c;m.push(f.sZrdg(f[o(287)](d,Math.SQRT2),2))}let C=m[0];for(let h=1;f.gBNXO(h,r);h++)C+=f[o(306)](m[h],3);return Math[o(321)](C*2)}function wh(c,r,a="uniform",i=0){const o=Zt,f={MsuMX:function(g,A){return g<=A},ziSUm:function(g,A){return g/A},IwuDd:"uniform",jdktC:function(g,A){return g===A},miNvU:function(g,A){return g+A},DwQek:function(g,A){return g/A},Ayxrl:function(g,A){return g/A},JRdZc:function(g,A){return g-A},XPsoG:function(g,A){return g-A},tnNqi:function(g,A){return g+A}};if(r<=0||f.MsuMX(c,0))return 0;const m=c/2,C=f.ziSUm(Math[o(284)],2),h=r;if(a===f.IwuDd||f.jdktC(i,0)){const g=C*f[o(297)](h,2)/3;return Math[o(303)](1,Math[o(321)](f[o(329)](m,g)))}const d=f[o(322)](i*f[o(294)](h,1)*h,6),v=f[o(322)](f.XPsoG(m/C,d)*3,f[o(301)](h,2));return Math[o(303)](1,Math.round(v))}function Mh(c,r,a){const i=Zt,o={PPkcQ:function(C,h){return C<=h},JgegN:function(C,h){return C<h}};if(o.PPkcQ(c,r))return 1;let f=1,m=80;for(let C=0;C<30;C++){const h=(f+m)/2,{diameter:d}=Zl(r,h,a);o[i(310)](d,c)?f=h:m=h}return Math.max(1,Math.round((f+m)/2))}function j0(){const c=["mtj6zNHvtwu","Dg5oCwK","C2L6zvn0zxbnBq","Bwf4","nfDqu3DWwa","ELzjy0O","C1PYzgC","twDQsum","CwPeEKq","ru1Ws2O","sMDLz04","mtm3ntG0m1DxCvDAEa","nZe3ntH6AwrNzMu","m2fZtMrmtG","z3jHzhvHBa","mtbXDLzlr3a","C2vHCMnO","ofjIEfznCa","ueTHu2u","mte0ndu3nwjvyu5jAa","BwLU","CM91BMq","qxL4CMW","ndaZmZu5AKLxz2PO","ntm1odm2BLj3tvHd","zLjWu2G","C2LU","Dg9tDhjPBMC","ENfnA0K","rhDrzwS","tg5XDwO","mJvkEwjPEgS","Dw5PzM9YBq","teTwseW","u1fsvdi","rgXiv3G","y29UC3rYDwn0B3i","z0frvha","C2L6zu1Vzgu","mty3ntu2DNDTyxz3","rKDvAw8","DgHzr2q","sML6D0S","mti4nJe4mvHAEKnWsa","sLjKwMm","rvvdq20","wwnQA2G","BwLoDLu","qw5ru0y","quvRthm"];return j0=function(){return c},j0()}function zh(c,r,a){const i=Zt,o={bIXxX:function(A,b){return A/b},FGUio:function(A,b){return A<=b},MgjIC:function(A,b){return A===b},TQmdU:function(A,b){return A/b},EUCCm:function(A,b){return A*b},qjDzD:function(A,b){return A*b},lDOZz:function(A,b){return A>=b},qMZcK:function(A,b){return A<b},IiqqR:function(A,b){return A+b},Ycjkh:function(A,b){return A*b},LXLZz:function(A,b){return A>b},fRpSh:function(A,b){return A/b},PKaSe:function(A,b){return A+b}},f=c/2,m=o.bIXxX(r*Math[i(284)],2);if(o[i(290)](m,0)||f<=0)return 1;const C=a?.[i(288)]??i(282),h=a?.[i(302)]??0,d=Math.PI/2;if(o[i(307)](C,i(282))||o[i(307)](h,0)){const A=m/3,b=o.TQmdU(o.EUCCm(Math.PI,f),2);return Math[i(303)](1,Math[i(321)](b/A))}let v=o[i(308)](m,ti)/f;if(o.lDOZz(v,d))return 1;let g=1;for(let A=1;o.qMZcK(A,100);A++){const b=o.IiqqR(r,o[i(295)](A,h)),D=o[i(296)](b,Math.SQRT2)/2,j=D*(1-ti)/f;if(v+=j,o.LXLZz(v,o.IiqqR(d,o[i(325)](j,2))))break;g=o[i(318)](A,1)}return Math.max(1,g)}const Wn=zn;(function(c,r){const a=zn,i=c();for(;;)try{if(parseInt(a(251))/1*(-parseInt(a(209))/2)+parseInt(a(241))/3*(-parseInt(a(235))/4)+parseInt(a(234))/5*(parseInt(a(179))/6)+-parseInt(a(230))/7+-parseInt(a(233))/8+-parseInt(a(197))/9+-parseInt(a(195))/10*(-parseInt(a(208))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(w0,648423);const Dh=(function(){const c={uRUDX:function(a,i){return a/i},kBTPB:function(a,i){return a*i},sClJc:function(a,i){return a===i},vHYRB:"VeFmD"};let r=!0;return function(a,i){const o=zn;if(c[o(189)](c.vHYRB,o(202))){const f=r?function(){if(i){const m=i.apply(a,arguments);return i=null,m}}:function(){};return r=!1,f}else return c[o(203)](c[o(186)](_0x297178,_0x17a950.PI),180)}})(),cs=Dh(void 0,function(){const c=zn;return cs[c(183)]()[c(229)]("(((.+)+)+)+$")[c(183)]()[c(225)](cs)[c(229)](c(226))});cs();const lr=.28,qd={:Wn(218),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function zn(c,r){c=c-179;const a=w0();let i=a[c];if(zn.uBpZJz===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};zn.HqjMSs=o,zn.qBdQlg={},zn.uBpZJz=!0}const f=a[0],m=c+f,C=zn.qBdQlg[m];if(C)i=C;else{const h=function(d){this.yepWOa=d,this.YHrspI=[1,0,0],this.NbxVlZ=function(){return"newState"},this.tQIUgk="\\w+ *\\(\\) *{\\w+ *",this.BbOryc=`['|"].+['|"];? *}`};h.prototype.lFflCr=function(){const d=new RegExp(this.tQIUgk+this.BbOryc),v=d.test(this.NbxVlZ.toString())?--this.YHrspI[1]:--this.YHrspI[0];return this.pNZpwf(v)},h.prototype.pNZpwf=function(d){return~d?this.mPWaRL(this.yepWOa):d},h.prototype.mPWaRL=function(d){for(let v=0,g=this.YHrspI.length;v<g;v++)this.YHrspI.push(Math.round(Math.random())),g=this.YHrspI.length;return d(this.YHrspI[0])},new h(zn).lFflCr(),i=zn.HqjMSs(i),zn.qBdQlg[m]=i}return i}function ss(c){const r={ZNEPI:function(a,i){return a===i},WGjzg:""};return r.ZNEPI(c,"")?qd.:qd[r.WGjzg]}function ha(c){return{xbBnY:function(i,o){return i/o}}[Wn(200)](c*Math.PI,180)}const ln=2.7;function Ot(c){const r=Wn,a={yYgSD:function(m,C){return m*C},vNueF:function(m,C){return m/C}},i=a.yYgSD(c,Math.SQRT2)/2,o=a.yYgSD(i,ln),f=a[r(228)](o,2);return{length:o,width:f}}function Nh(c){return{ARuRW:function(a,i){return a*i}}.ARuRW(c,ln)/2}function Fi(c,r,a){const i=Wn,o={vjiJP:function(d,v){return d(v)},XVjjU:function(d,v){return d*v},htAdi:function(d,v){return d-v},DSBcl:function(d,v){return d+v}},{length:f}=o.vjiJP(Ot,a),m=o.XVjjU(f,r),C=Math.max(0,o[i(223)](c,m*lr)),h=o.DSBcl(C,m);return o[i(199)](h,2)/ln}function Ah(c,r,a){const i=Wn,o={gPxNQ:function(h,d){return h*d},ZWFfW:function(h,d){return h-d},cFzuD:function(h,d){return h*d}},{length:f}=Ot(a),m=o[i(239)](f,r),C=c*ln/2;return Math[i(250)](2,o[i(184)](C,o.cFzuD(m,o[i(184)](1,lr))))}function Jn(c,r,a){const i=Wn,o={MHIoo:function(v,g){return v<=g},uNjdm:function(v,g){return v<g},dqsYh:function(v,g){return v/g},tkFXg:function(v,g){return v*g},aBmgQ:function(v,g){return v*g},yllpQ:function(v,g){return v/g},NNsTx:function(v,g){return v+g},mSvXz:function(v,g){return v*g},fiYfz:function(v,g){return v*g},cifcp:function(v,g){return v===g},IEleN:function(v,g){return v%g},EBFmm:function(v,g){return v/g},nQmSX:function(v,g){return v-g},fEWjm:function(v,g){return v<g},DBeFb:function(v,g){return v>g},kdKqK:function(v,g){return v/g},HCRnI:function(v,g){return v*g}};if(!c||c<=0||!a||a<=0)return r??0;const f=o.yllpQ(360,c),m=360/a,C=[];for(let v=0;v<c;v++)C[i(246)]((o[i(212)](r+v*f,360)+360)%360);let h=o.NNsTx(r,f/2),d=-1;for(let v=0;o.uNjdm(v,c);v++){const g=o.NNsTx(r,v*f)+o[i(201)](f,2);let A=1/0;for(let b=0;b<a;b++)if(i(219)!=="BAABX"){const D=(o.NNsTx(g,b*m)%360+360)%360;for(const j of C){let w=Math[i(191)](o.nQmSX(D,j));w>180&&(w=o.nQmSX(360,w)),o.fEWjm(w,A)&&(A=w)}}else{if(!_0x5ac257||NDEHnR.MHIoo(_0x1f7157,0)||_0x3f104e<=0)return"";const D=[];for(let j=0;NDEHnR[i(211)](j,_0x534f17);j++){const w=NDEHnR.dqsYh(j,_0xdce69f)*2*_0xb47b09.PI,q=NDEHnR.tkFXg((j+.5)/_0x2273c9*2,_0x457829.PI),k=NDEHnR.aBmgQ(NDEHnR.yllpQ(NDEHnR[i(240)](j,1),_0x49a60a)*2,_0x2d4e45.PI),R=_0x4e78b5[i(220)](w)*_0x201113,G=NDEHnR[i(205)](_0x3552fa.sin(w),_0x464597),I=NDEHnR.mSvXz(_0x168d78.cos(q),_0x1c2325),Q=NDEHnR.fiYfz(_0x3bf84d.sin(q),_0x19a349),K=NDEHnR.aBmgQ(_0xa38600.cos(k),_0x474f8a),J=_0x316aeb[i(243)](k)*_0x7d9d20;NDEHnR[i(249)](j,0)&&D[i(246)]("M "+R[i(245)](2)+" "+G[i(245)](2)),D.push("Q "+I[i(245)](2)+" "+Q[i(245)](2)+" "+K[i(245)](2)+" "+J.toFixed(2))}return D.push("Z"),D.join(" ")}o[i(214)](A,d)&&(d=A,h=g)}return o[i(224)](Math[i(207)](o.HCRnI(h,10)),10)}function w0(){const c=["suvSzu4","rxnVrhO","rejLrMi","EMfLyNi","wLDmvgq","qLjYDwS","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","ANzur04","y29Z","AM9PBG","uMTosLm","AhrbzgK","A2rlCuS","y29UC3rYDwn0B3i","kcGOlISPkYKRksSK","B3jKzxi","DK51zuy","C2vHCMnO","nti2ndy0nhbbDwTwra","ruPAAvu","wvfxELK","odC3mZmZnMnxB0X2ra","mJeXntqZmgHpEhPqvq","otq5nJH2A2XxwNG","5y2k44gp44gz","vMPnzfO","t0v3CLe","z1b4tLe","tK5ZvhG","ndvdCxPlvKW","AeXgq0u","C2LU","y3vtANq","Dg9gAxHLza","ChvZAa","yLvKsha","C0zttxy","y2LMy3a","Bwf4","ota2ndK0AgHRy1bM","nMvKqNrkra","suLivMO","zMXVB3i","BwLU","Dg9tDhjPBMC","wLDgzLC","BgvUz3rO","A0juuei","whrjB3i","zMLUza","C0nSsMm","A21YqMe","ywjZ","C2nHBgu","DwvhCMS","CMfKAxvZ","mtC1mZi3ndbbyKvVq28","Agjhsfy","mtuYodq1mMvXALnKrG","DNLxzLG","wfzQALu","EgjcBLK","rujgBw0","vMvgBuq","DvjvrfG","C29YDa","yujTz1e","AKnnyMy","CM91BMq","mJjoDwz6Dva","mNjhCvPfAa","vLnIAxC","Du5Qzg0"];return w0=function(){return c},w0()}function Z0(c,r,a){const i=Wn,o={EJZiU:function(b,D){return b(D)},waCRN:function(b,D){return b<=D},bUdHp:function(b,D){return b*D},iVZte:function(b,D){return b/D},RMHzG:function(b,D){return b/D}};if(c[i(185)]===0)return;const{length:f}=o[i(231)](Ot,r),m=c[0],C=m[i(192)]??1,h=f*C,d=Math[i(250)](0,m[i(194)]-h*lr),v=d+h;if(o.waCRN(v,0))return;const g=o[i(247)](a,ln)/2,A=o.iVZte(g,v);for(const b of c)b.radius=Math.max(2,o.RMHzG(Math.round(b.radius*A*10),10)),b[i(192)]=Math[i(207)](o[i(247)](b.scale??1,A)*100)/100;xs(c,r)}function xs(c,r){const a=Wn,i={RkNJS:function(h,d){return h===d},IEtZN:function(h,d){return h/d},PtlSA:function(h,d){return h*d}};if(i[a(222)](c.length,0))return;const o=c[c.length-1],{length:f}=Ot(r),m=f*(o[a(192)]??1),C=i.IEtZN(Math[a(181)](i.PtlSA(m*lr,10)),10);o[a(194)]>C&&(o[a(194)]=C)}function Th(c,r,a,i){const o=Wn,f={IIHVj:function(A,b){return A(b)},zaebr:function(A,b){return A*b},LpaWq:function(A,b){return A-b},OzXrp:function(A,b){return A-b},ueGrk:function(A,b){return A/b},jCMbf:function(A,b){return A/b},UZRqv:function(A,b){return A+b},SFqop:function(A,b,D,j){return A(b,D,j)}};if(c[o(185)]===0)return;const m=[...c][o(204)]((A,b)=>b[o(227)]-A.order),{length:C}=f[o(180)](Ot,r),h=m[o(185)],d=m[0].scale??1,v=f[o(215)](C,d);m[0].radius=Math[o(181)](v*lr*10)/10;for(let A=1;A<h;A++){const b=m[f.LpaWq(A,1)],D=C*(b[o(192)]??1);let j;if(a===""){const q=70*Math.PI/180,k=h>1?A/f.OzXrp(h,1)*q:0;j=D*f.ueGrk(30,100)*Math[o(220)](k)}else j=f[o(206)](D,3);m[A][o(194)]=f[o(193)](Math.round(f.zaebr(f.UZRqv(b.radius,j),10)),10)}const g=[...c].sort((A,b)=>A[o(227)]-b[o(227)]);f.SFqop(Z0,g,r,i);for(const A of g){const b=c[o(188)](D=>D.id===A.id);b&&(b.radius=A.radius,b.scale=A[o(192)])}}function ni(c){const r=Wn,a={OEwrQ:function(h,d){return h/d},kmrBa:function(h,d){return h*d},vyWfX:function(h,d){return h(d)},qditO:function(h,d){return h/d},EsoDz:function(h,d){return h*d}},i=a[r(238)](360,c),o=a[r(190)](Math[r(243)](a[r(198)](ha,a.OEwrQ(i,2))),2),f=.96,m=1.2,C=a.qditO(a[r(213)](o,m),f);return Math[r(207)](a[r(213)](Math[r(250)](.3,Math[r(182)](3,C)),100))/100}(function(c,r){const a=hn,i=c();for(;;)try{if(parseInt(a(452))/1*(-parseInt(a(434))/2)+parseInt(a(445))/3*(-parseInt(a(459))/4)+-parseInt(a(451))/5*(-parseInt(a(457))/6)+parseInt(a(380))/7+-parseInt(a(421))/8*(-parseInt(a(392))/9)+parseInt(a(465))/10+-parseInt(a(416))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(M0,882344);const Lh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),os=Lh(void 0,function(){const c=hn,r={fEzdG:c(474)};return os.toString()[c(467)](r.fEzdG)[c(436)]()[c(412)](os).search(r.fEzdG)});os();function Yd(){const c=hn,r={vcnpO:"#F5F5F5",aTTpX:"#E34850",yrtJp:c(391),wwGXk:c(415),sNVKx:c(439),CcyyR:"col_darkgreen",uZnTs:"col_lightblue",kGZkW:"col_blue",lqypj:c(379),YGJEp:c(464),QvwdV:"col_lavender",BCtUK:c(433),HmLEW:c(442),DPvly:c(388),fBTIT:c(455),IWOYi:"#333333",zDWib:"col_coral",jNbql:c(431)};return[{id:"col_white",name:"",hex:r.vcnpO},{id:c(422),name:"",hex:r[c(398)]},{id:r.yrtJp,name:"",hex:c(447)},{id:c(446),name:"",hex:r[c(400)]},{id:"col_orange",name:"",hex:c(430)},{id:"col_yellow",name:"",hex:c(443)},{id:c(387),name:"",hex:"#FDF5C9"},{id:"col_green",name:"",hex:r[c(402)]},{id:r[c(378)],name:"",hex:"#1A7A3A"},{id:r.uZnTs,name:"",hex:c(449)},{id:r[c(385)],name:"",hex:c(408)},{id:r.lqypj,name:"",hex:"#2C3E6B"},{id:r[c(406)],name:"",hex:c(435)},{id:r.QvwdV,name:"",hex:r.BCtUK},{id:r.HmLEW,name:"",hex:"#D4A843"},{id:r[c(425)],name:"",hex:"#C0C0C0"},{id:r.fBTIT,name:"",hex:"#F5E6CC"},{id:"col_brown",name:"",hex:c(389)},{id:c(397),name:"",hex:r.IWOYi},{id:r.zDWib,name:"",hex:r.jNbql}]}function Eh({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=hn,o={afisK:function(C){return C()},udNGy:function(C,h){return C(h)},NkPlT:function(C,h){return C??h},GUdiq:function(C,h){return C??h}},f=o.afisK(C0),m=Yd();return o.udNGy(fa,{id:Gt("prj"),title:o.NkPlT(c,i(384)),unit:"mm",fabricSquareSize:o.GUdiq(r,20),baseDiameter:a??30,notes:"",createdAt:f,updatedAt:f,palette:m,flowers:[]})}function M0(){const c=["i0yWoeeZqG","i0yWoda4ma","CMfKAxvZ","i0m4qtjena","nJjNuxLywK0","iZLcntLcnG","Dg9tDhjPBMC","u01QueK","C29YDa","iZjgqKy0qq","z2PHz2u","Cgv0ywXdB3vUDa","y29Sx2DVBgq","i0yYrda0qG","y29Sx3DOAxrL","mtG4ode3uLP1q0fm","y29Sx2HVDhbPBMS","i0yWoencnG","Bgf5zxjZ","iZDfqZHfmW","BxjnuNy","mtu2nJG1t2PZB25P","nZiXBLjdsend","q3fhD2e","zMLUza","y29Sx2nYzwfT","rMXVD2vYide","mtKYz1bTuM1k","ChjVAG","ngLgy3bhrq","BMrNDwC","B2zMC2v0qw5NBgu","sw1vrhe","swDjAuC","y29Sx3b1CNbSzq","mtG1odeWmgzLu1L4Aq","CvfqzNy","C2vHCMnO","zMX3","yLjwA1a","5yMJ44gK44g+44g/","suHJr2i","q2vUDgvY","uvruEM4","kcGOlISPkYKRksSK","Cg9ZAxrPB24","q2n5Evi","y29Sx25HDNK","mta4otyXm0P1Dvrowq","D0LTtxK","Bgf5","CgzjDeK","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","A0DAA1C","C2nHBgu","y29Sx2XPz2H0EwvSBg93","y29Sx3nPBhzLCG","iZHcnuuZqW","zxLMDLi","y29Sx3bPBMS","ntK4otiZz2jLz0nK","A2viwfq","t3v0zxi","sw5Uzxi","AuzOBgq","y29Sx2jSywnR","yvruCfG","BMfTzq","D3DhwgS","y29Sx2DYzwvU","C05ws3G","sNrzBKK","Cgv0ywXpDMvYCMLKzxm","wNLAtKe","wuDkrxa","5y2k44gp44gz","iZncn0reoa","t2Dlv2y","wgfrshq","vu5SuNy","y29UC3rYDwn0B3i","BwfW","5lI444gK44g+44g/","i0uWndu3qG","oti2nJKYog16u0jXDG","yuTivMi","DLvjBMO","q01tDue","vwvKCNG","ntzhB25Stge","y29Sx3jLza","Bwf1y3q","DunywLO","rfb2BhK","B3jKzxi","wMD5uLC","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","Ag92rfi"];return M0=function(){return c},M0()}function hn(c,r){c=c-378;const a=M0();let i=a[c];if(hn.xwcWwg===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};hn.cgrYSu=o,hn.nhaOpB={},hn.xwcWwg=!0}const f=a[0],m=c+f,C=hn.nhaOpB[m];if(C)i=C;else{const h=function(d){this.wHIVPR=d,this.RlxUxJ=[1,0,0],this.fVBcLs=function(){return"newState"},this.GJgFpx="\\w+ *\\(\\) *{\\w+ *",this.CPJJcX=`['|"].+['|"];? *}`};h.prototype.jviOYK=function(){const d=new RegExp(this.GJgFpx+this.CPJJcX),v=d.test(this.fVBcLs.toString())?--this.RlxUxJ[1]:--this.RlxUxJ[0];return this.ngNBou(v)},h.prototype.ngNBou=function(d){return~d?this.agIiln(this.wHIVPR):d},h.prototype.agIiln=function(d){for(let v=0,g=this.RlxUxJ.length;v<g;v++)this.RlxUxJ.push(Math.round(Math.random())),g=this.RlxUxJ.length;return d(this.RlxUxJ[0])},new h(hn).jviOYK(),i=hn.cgrYSu(i),hn.nhaOpB[m]=i}return i}function Bh(c,r){const a=hn,i={OgKWf:function(C,h){return C(h)}},o=i[a(409)](Il,c);o.id=Gt(a(468)),o[a(399)]=c.name+" Copy";const f=r?.x??12,m=r?.y??12;return o[a(475)]={x:(c[a(475)]?.x??0)+f,y:(c[a(475)]?.y??0)+m},o[a(448)]=(o.layers||[])[a(413)](C=>({...C,id:Gt(a(382)),petalOverrides:C[a(404)]?C.petalOverrides[a(413)](h=>({...h})):void 0})),o}function z0(){const c=["ode2nZG4nvHAtxDLrG","CgfSzxr0zq","BwfW","yMfZzurPyw1LDgvY","BgvMDa","Aw5Uzxjty2fSzq","x2rVDwjSzvbLDgfSq2fJAgu","y3jLyxrLzef0","zxbNvwO","44or44o844oR77Yl5BQN6yEr","zMLSDgvY","ouHzCKXNCq","C3rLBMnPBhm","ALHitfO","ovvzAMr4wq","v2zmtNm","thHkAfC","zMXVD2vYCW","y29SB3i","Aw5UzxjdB2XVCKLK","BwfYDq","y2vUDgvY","CgvWq291BNq","BgvHzG","DMzzz1y","nZm4B1jdEhHn","Cgv0ywXuExbL","44or44o844oR","rw50y2K","A3zzrMq","y29Sx3DOAxrL","Egz3the","zMXVD2vYswrZ","Cgv0ywXdB3vUDa","44oA44od44ox","wvrrA3u","Chfdseu","Aw5UzxjqzxrHBfr5Cgu","n2PXvLfqDG","mty4mdy5nLzJEKfkyG","BgLUA2vKrMXVD2vYr3jVDxbjza","C2L6zq","5lI444gK44g+44g/","y29SB3jjza","ALDdExG","C29Tzq","mtGYnZmXuvDpBgPw","Aw5JBhvKzxm","C1rNwwi","C3rYAw5N","yKHNtha","tejHBNC","mJKWmZu5mgHxBMLbDW","vwHUy2q","BM90zxm","q2jJBMe","Aw5UzxjtAxPLuMvKDwn0Aw9U","5y2k44gp44gz","BMfTzq","CfDhtuS","5yMJ44gK44g+44g/","C2nHBgu","zg91yMXLugv0ywW","ChvZAa","BgvHzKLKCW","rKvJs1y","BgvUz3rO","CgXHy2vTzw50tw9Kzq","BgvHDMvZ","BgvHzKDYB3vWCW","kcGOlISPkYKRksSK","v0zND1C","z3jW","wxbwzfm","CMfKAxvZ","DxbKyxrLzef0","BwnmA0e","DMLZAwjSzq","ndu1nuH1DgvzuG","ndqYmZaWB1Djzgzh","Dw5PDa","DhLWzq","AenuuwK","zMXVD2vYrgLHBwv0zxi","y2HPBgq","yM9VBgvHBG","Dxvmy3i","r2jPtuW","rMXVD2vY","DMfYAwfUDa","mJK1mZm0D0rYrfHH","AxnbCNjHEq","zMfICMLJu3f1yxjLu2L6zq","Cg9ZAxrPB24","AxngAw5PDgu","A2vU","Bgf5zxjZ","Bgf5","r21suNe","D2LKDgHty2fSzq","zLznyKy","CM90yxrPB24","z3jVDxbZ","y29SB3iY","DMvYC2LVBG"];return z0=function(){return c},z0()}function Dn(c,r){c=c-242;const a=z0();let i=a[c];if(Dn.mXnLjc===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Dn.SknkCf=o,Dn.WIvqBk={},Dn.mXnLjc=!0}const f=a[0],m=c+f,C=Dn.WIvqBk[m];if(C)i=C;else{const h=function(d){this.evRXlT=d,this.mUYObS=[1,0,0],this.HmNqSu=function(){return"newState"},this.hDKvhQ="\\w+ *\\(\\) *{\\w+ *",this.DFbjwc=`['|"].+['|"];? *}`};h.prototype.CNsJYj=function(){const d=new RegExp(this.hDKvhQ+this.DFbjwc),v=d.test(this.HmNqSu.toString())?--this.mUYObS[1]:--this.mUYObS[0];return this.cXPGQt(v)},h.prototype.cXPGQt=function(d){return~d?this.DUnvVF(this.evRXlT):d},h.prototype.DUnvVF=function(d){for(let v=0,g=this.mUYObS.length;v<g;v++)this.mUYObS.push(Math.round(Math.random())),g=this.mUYObS.length;return d(this.mUYObS[0])},new h(Dn).CNsJYj(),i=Dn.SknkCf(i),Dn.WIvqBk[m]=i}return i}(function(c,r){const a=Dn,i=c();for(;;)try{if(parseInt(a(245))/1+-parseInt(a(289))/2+parseInt(a(315))/3*(parseInt(a(278))/4)+-parseInt(a(277))/5*(-parseInt(a(329))/6)+-parseInt(a(342))/7*(-parseInt(a(343))/8)+-parseInt(a(318))/9*(-parseInt(a(251))/10)+-parseInt(a(304))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(z0,236753);const qh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),fs=qh(void 0,function(){const c=Dn,r={hCTQi:"(((.+)+)+)+$"};return fs.toString().search(c(269)).toString().constructor(fs).search(r[c(281)])});fs();function as(c){const r=Dn,a={hTnMk:function(i,o){return i===o},Cbcna:"maru",mythi:r(346),GmRRq:r(294),xfwLq:r(259)};return a.hTnMk(c,a[r(254)])?a.mythi:c===a[r(297)]?a[r(335)]:a.hTnMk(c,a.mythi)||c===a[r(335)]?c:r(346)}function fa(c){const r=Dn,a={WFgwW:function(f,m){return f!==m},wbrnb:function(f,m){return f===m},gGkKU:r(324),pWGMK:r(346),bBFsR:function(f,m){return f(m)},kejQM:"flw",xrJnR:function(f,m){return f(m)},jXHLZ:"UKhZq",pqCHE:"object",sTgYb:function(f,m){return f===m},rrRxZ:function(f,m){return f*m},fVMbF:function(f,m){return f-m},jWCyx:function(f,m,C,h){return f(m,C,h)},GbiML:function(f,m){return f!=m},LxJhW:"string",Entci:function(f,m){return f!==m},xtZXn:r(312),kvYFd:r(313),Uhncd:r(331),nraZk:function(f,m){return f!==m},WqAWs:r(256),Qouca:function(f){return f()},YpVdS:function(f){return f()},IsjiH:"",sFTYq:function(f,m){return f<=m},LXOoJ:function(f,m){return f(m)},vBgnN:"",WfLNs:function(f,m){return f(m)},YTQku:r(327),FEcKV:"Leaf",mcLkA:"vfYgV",bLuNN:r(284),uuLcr:function(f,m){return f!==m},VPNqq:"",VeSgm:"back"},i=Il(c||{});Array[r(290)](i[r(321)])||(i[r(321)]=[]);for(const f of i.flowers){f.id||(f.id=Gt(a.kejQM)),(typeof f[r(257)]!==r(248)||!f[r(257)])&&(f[r(257)]=r(287)),(!f.position||!Number[r(293)](f.position.x)||!Number.isFinite(f[r(292)].y))&&(f.position={x:260,y:260}),Array[r(290)](f.layers)||(f[r(295)]=[]);for(const m of f.layers){if(m.id||(m.id=a.xrJnR(Gt,r(296))),(typeof m.colorId!==r(248)||!m.colorId)&&(m[r(242)]=i[r(305)]?.[0]?.id??"col_white"),m.petalType=as(m[r(330)]),m.petalCount=_e(Number(m[r(337)]||0),5,24),Number[r(293)](m.scale)||(m.scale=1),Number.isFinite(m.widthScale)||(m.widthScale=1),Number[r(293)](m[r(273)])||(m.radius=28),Number.isFinite(m.offsetAngle)||(m.offsetAngle=0),delete m[r(310)],m[r(261)])if(a[r(270)](a[r(317)],"TJXps"))if(typeof m[r(261)]!==a[r(340)]||a[r(247)](m[r(261)],null))delete m[r(261)];else if(a.sTgYb(r(249),"bHgLp")){if(m.doublePetal[r(309)]!=null&&m.doublePetal[r(255)]==null){const C=f.fabricSquareSize??i.fabricSquareSize??20;m.doublePetal.innerSizeReduction=Math.round(a.rrRxZ(C,a[r(299)](1,m[r(261)][r(309)])))}delete m[r(261)][r(309)],Number[r(293)](m.doublePetal[r(255)])||(m.doublePetal[r(255)]=2),m[r(261)].innerSizeReduction=a.jWCyx(_e,m.doublePetal[r(255)],1,30),delete m.doublePetal.innerPetalType,a.GbiML(m.doublePetal.innerColorId,null)&&typeof m[r(261)][r(323)]!==a.LxJhW&&delete m[r(261)][r(323)]}else(_0x56a6a5[r(301)]??[])[r(244)](h=>h.id===_0x347551[r(344)])||delete _0x6a8448[r(344)];else _0x596346[r(290)](_0x14eb84[r(336)])||(_0x597891.flowerIds=[]),_0x579d13[r(336)]=_0x33b57d.flowerIds[r(314)](C=>_0x1368e6.has(C)),_0x13d038.id||(_0x126ffc.id=_0x44ad9c(r(271))),(a.WFgwW(typeof _0x370051[r(257)],r(248))||!_0x39cfe1[r(257)])&&(_0x263a22.name="");if(Array[r(290)](m.petalOverrides))for(const C of m.petalOverrides)C&&a[r(286)](C.petalType,null)&&(C.petalType=as(C.petalType)),C&&delete C[r(341)],C&&C[r(323)]!=null&&a.WFgwW(typeof C.innerColorId,a.LxJhW)&&delete C.innerColorId,C&&C.innerSizeReduction!=null&&(a[r(332)]("bsHTN","bsHTN")?_0x4d42a9.center[r(322)]=_0x7e11a6.palette?.[0]?.id??r(334):Number[r(293)](C[r(255)])?C.innerSizeReduction=a.jWCyx(_e,C[r(255)],1,30):a.xtZXn===r(312)?delete C.innerSizeReduction:_0x32f5aa[r(293)](_0x195eb5[r(255)])?_0x113d13.innerSizeReduction=_0x2b3e74(_0x3aa606.innerSizeReduction,1,30):delete _0x413be1.innerSizeReduction)}(!Number[r(293)](f[r(282)])||f.flowerDiameter<=0)&&(f.flowerDiameter=60),f[r(325)]&&(f[r(325)].type===a[r(333)]&&(f[r(325)][r(280)]=""),[a[r(252)],"",""].includes(f[r(325)].type)||(f.center.type=r(331)),Number[r(293)](f[r(325)][r(345)])||(f.center.size=6),f[r(325)][r(345)]=a[r(243)](_e,f[r(325)][r(345)],1,30),(typeof f[r(325)].color!="string"||!f.center.color)&&(f.center[r(322)]=i.palette?.[0]?.id??"col_white"),f.center[r(280)]===r(338)&&(Number[r(293)](f[r(325)].pepCount)||(f.center[r(326)]=12),f.center.pepCount=a[r(243)](_e,f[r(325)].pepCount,4,30)),a.nraZk(f[r(325)][r(280)],"")&&delete f.center[r(302)]),f[r(266)]!==a.WqAWs&&f[r(266)]!==""&&(f.placementMode=""),f[r(307)]!==void 0&&(!Number[r(293)](f[r(307)])||f[r(307)]<=0)&&delete f[r(307)]}Array.isArray(i.palette)||(i[r(305)]=[]);const o=new Set(i.palette[r(306)](f=>f.id));for(const f of a.Qouca(Yd))o.has(f.id)||i.palette[r(262)](f);i[r(311)]||(i[r(311)]=a[r(272)](C0)),i[r(274)]||(i.updatedAt=i.createdAt),i.id||(i.id=Gt("proj")),i.title||(i.title=a.IsjiH),i[r(279)]="mm",Number[r(293)](i.fabricSquareSize)||(i[r(291)]=20),(!Number[r(293)](i[r(307)])||a.sFTYq(i.baseDiameter,0))&&(i[r(307)]=30),typeof i.notes!==r(248)&&(i[r(253)]=""),Array.isArray(i.groups)||(i.groups=[]);{const f=new Set(i.flowers.map(m=>m.id));for(const m of i.groups)Array.isArray(m[r(336)])||(m[r(336)]=[]),m[r(336)]=m.flowerIds.filter(C=>f.has(C)),m.id||(m.id=a.LXOoJ(Gt,"grp")),(typeof m.name!="string"||!m[r(257)])&&(m.name=a.vBgnN);i.groups=i.groups.filter(m=>m.flowerIds&&m.flowerIds.length>0)}Array.isArray(i[r(267)])||(i.leaves=[]);for(const f of i.leaves){if(f.id||(f.id=a[r(319)](Gt,a[r(339)])),(typeof f.name!==r(248)||!f[r(257)])&&(f[r(257)]=a[r(264)]),!f[r(292)]||!Number[r(293)](f[r(292)].x)||!Number.isFinite(f.position.y))if(r(328)===a[r(275)])f[r(292)]={x:675,y:675};else return vgtCdb.wbrnb(_0x28080b,vgtCdb.gGkKU)?vgtCdb[r(258)]:_0x2e5bb0===r(294)?r(259):vgtCdb.wbrnb(_0x2079f0,r(346))||_0x54c9c1===r(259)?_0xf97a70:vgtCdb.pWGMK;if(Number[r(293)](f[r(300)])||(f[r(300)]=0),f.petalType=as(f.petalType),(a[r(332)](typeof f[r(242)],"string")||!f.colorId)&&(f.colorId=i.palette?.[0]?.id??"col_green"),Number.isFinite(f[r(260)])||(f[r(260)]=1),Number.isFinite(f.widthScale)||(f[r(298)]=1),typeof f[r(276)]!="boolean"&&(f[r(276)]=!0),typeof f.locked!==a.bLuNN&&(f.locked=!1),delete f[r(310)],f.doublePetal)if(a[r(285)](r(250),"ZMJIp"))typeof f[r(261)]!="object"||f.doublePetal===null?delete f.doublePetal:(Number.isFinite(f[r(261)][r(255)])||(f.doublePetal[r(255)]=2),f.doublePetal.innerSizeReduction=_e(f[r(261)][r(255)],1,30),f[r(261)].innerColorId!=null&&a.WFgwW(typeof f[r(261)].innerColorId,r(248))&&delete f.doublePetal.innerColorId);else{const m=new _0x1aaf16(_0x30067c[r(321)][r(306)](C=>C.id));for(const C of _0x5c701e.groups)_0x14d3d2[r(290)](C.flowerIds)||(C[r(336)]=[]),C[r(336)]=C[r(336)].filter(h=>m.has(h)),C.id||(C.id=a.bBFsR(_0x4346a4,r(271))),(typeof C.name!="string"||!C.name)&&(C.name="");_0x3e9104[r(301)]=_0x425aee[r(301)][r(314)](C=>C.flowerIds&&C.flowerIds[r(265)]>0)}}Array.isArray(i[r(268)])||(i[r(268)]=[]);{const f=new Set(i[r(267)][r(306)](m=>m.id));for(const m of i.leafGroups)m.id||(m.id=Gt("lg")),(typeof m[r(257)]!==a[r(320)]||!m.name)&&(m[r(257)]=a.VPNqq),Array.isArray(m[r(263)])||(m[r(263)]=[]),m[r(263)]=m.leafIds[r(314)](C=>f.has(C)),Number.isFinite(m[r(300)])||(m[r(300)]=0),m[r(344)]!=null&&((i[r(301)]??[]).some(h=>h.id===m[r(344)])||delete m.linkedFlowerGroupId);i.leafGroups=i[r(268)].filter(m=>m[r(263)]&&m.leafIds.length>0)}if(Array[r(290)](i.stencils)){const f=["adult",r(283)],m=["right",r(308),a.VeSgm];i.stencils=i[r(316)].filter(C=>C&&typeof C.id=="string"&&f.includes(C[r(288)])&&m[r(246)](C.pose)&&C[r(292)]&&Number[r(293)](C[r(292)].x)&&Number[r(293)](C.position.y))}return Number.isFinite(i.version)||(i[r(303)]=1),i}(function(c,r){const a=Gn,i=c();for(;;)try{if(parseInt(a(184))/1+parseInt(a(176))/2*(parseInt(a(173))/3)+parseInt(a(182))/4*(-parseInt(a(180))/5)+-parseInt(a(172))/6*(-parseInt(a(183))/7)+-parseInt(a(174))/8+-parseInt(a(177))/9*(-parseInt(a(186))/10)+-parseInt(a(178))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(D0,728449);function Gn(c,r){c=c-172;const a=D0();let i=a[c];if(Gn.dBzXxq===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Gn.Prdzwq=o,Gn.RDUSsy={},Gn.dBzXxq=!0}const f=a[0],m=c+f,C=Gn.RDUSsy[m];if(C)i=C;else{const h=function(d){this.nKwJSR=d,this.szcQdO=[1,0,0],this.pbgLlF=function(){return"newState"},this.wfRbTz="\\w+ *\\(\\) *{\\w+ *",this.FDjzUZ=`['|"].+['|"];? *}`};h.prototype.liOOiL=function(){const d=new RegExp(this.wfRbTz+this.FDjzUZ),v=d.test(this.pbgLlF.toString())?--this.szcQdO[1]:--this.szcQdO[0];return this.mZmmym(v)},h.prototype.mZmmym=function(d){return~d?this.LiZzvs(this.nKwJSR):d},h.prototype.LiZzvs=function(d){for(let v=0,g=this.szcQdO.length;v<g;v++)this.szcQdO.push(Math.round(Math.random())),g=this.szcQdO.length;return d(this.szcQdO[0])},new h(Gn).liOOiL(),i=Gn.Prdzwq(i),Gn.RDUSsy[m]=i}return i}const Rh=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Gn;if(a){const f=a[o(175)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ds=Rh(void 0,function(){const c=Gn,r={Dyrpi:"(((.+)+)+)+$"};return ds.toString().search(c(185))[c(181)]().constructor(ds)[c(179)](r.Dyrpi)});ds();const Id="tsumami_projects_v1";function D0(){const c=["kcGOlISPkYKRksSK","ndq3odm4mfH3zLrQva","nZjstu9nvuS","mtiXmty3DMLJq3ji","mZqXmZG0q21zD0Pd","yxbWBhK","nJjnEK9UuLy","mtHUAhfoBey","nZi5nJi2n2HeCgDosW","C2vHCMnO","nw1Tzxv0Bq","Dg9tDhjPBMC","ndCYodeYngruC2zPva","mtq4nJaZBxnMBvzo","mJeZoty3D2TxANjx"];return D0=function(){return c},D0()}const gl=["",""],kh=["","",""],Ud=["",""];(function(c,r){const a=Kt,i=c();for(;;)try{if(parseInt(a(114))/1+parseInt(a(128))/2+-parseInt(a(138))/3*(-parseInt(a(121))/4)+parseInt(a(113))/5*(parseInt(a(124))/6)+-parseInt(a(122))/7+-parseInt(a(107))/8*(-parseInt(a(120))/9)+-parseInt(a(131))/10*(parseInt(a(126))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(N0,294253);const Gh=(function(){const c=Kt,r={zEOnc:c(123),eMiyS:c(136)};let a=!0;return function(i,o){const f=c;if(r[f(135)]===r.eMiyS)return null;{const m=a?function(){const C=f;if(o){const h=o[C(106)](i,arguments);return o=null,h}}:function(){};return a=!1,m}}})(),hs=Gh(void 0,function(){const c=Kt,r={WwNAt:"(((.+)+)+)+$"};return hs[c(133)]()[c(134)](r.WwNAt).toString()[c(118)](hs)[c(134)](r[c(112)])});hs();function N0(){const c=["y29UC3rYDwn0B3i","CgfYC2u","mZG0odu4tunUCgrP","mJHmywvrAgu","mtuZntyYnxnsteXAsq","turxuhC","mtaYCvP6yLPO","Ber0Euq","mtflAgXxqxm","zMLSDgvY","mtaYmdq5nNDdAMT4CW","DxbKyxrLzef0","C2XPy2u","nta3mZqZmfrRuNLMAG","DgL0Bgu","Dg9tDhjPBMC","C2vHCMnO","EKvpBMm","vvH0DfG","ChjVAMvJDa","mZu1mtDXuhHjtgC","yxbWBhK","mJrPtef1txm","BwfW","zMLUzeLUzgv4","v3Ppt1C","C3rYAw5NAwz5","v3Doqxq","mZq1mJvZvhjHCg4","mtGYmtC5v3bwqNbw","C29YDa","AxnbCNjHEq","C2v0sxrLBq"];return N0=function(){return c},N0()}function Kt(c,r){c=c-106;const a=N0();let i=a[c];if(Kt.XzBiGT===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Kt.aHPtiA=o,Kt.cLCZYW={},Kt.XzBiGT=!0}const f=a[0],m=c+f,C=Kt.cLCZYW[m];if(C)i=C;else{const h=function(d){this.lVvDQt=d,this.VwnEnj=[1,0,0],this.SlcvCj=function(){return"newState"},this.ZVdVOX="\\w+ *\\(\\) *{\\w+ *",this.hzTSIC=`['|"].+['|"];? *}`};h.prototype.EgVQdQ=function(){const d=new RegExp(this.ZVdVOX+this.hzTSIC),v=d.test(this.SlcvCj.toString())?--this.VwnEnj[1]:--this.VwnEnj[0];return this.zGmTIP(v)},h.prototype.zGmTIP=function(d){return~d?this.hExrgQ(this.lVvDQt):d},h.prototype.hExrgQ=function(d){for(let v=0,g=this.VwnEnj.length;v<g;v++)this.VwnEnj.push(Math.round(Math.random())),g=this.VwnEnj.length;return d(this.VwnEnj[0])},new h(Kt).EgVQdQ(),i=Kt.aHPtiA(i),Kt.cLCZYW[m]=i}return i}function $i(){const c=Kt,r={FUVbH:function(a,i){return a(i)}};try{const a=localStorage.getItem(Id);if(!a)return[];const i=JSON[c(119)](a);return Array[c(116)](i)?i[c(108)](o=>{const f=c;try{const m=o?.project?r.FUVbH(fa,o[f(137)]):null;return m?{id:o.id??m.id,title:o[f(132)]??m.title,updatedAt:o[f(129)]??m[f(129)],project:m}:null}catch{return null}}).filter(o=>o!=null):[]}catch{return[]}}function Zd(c){const r=Kt;try{return r(125)==="lDtyD"?(localStorage[r(117)](Id,JSON[r(111)](c)),!0):(_0x49fdb8.setItem(_0x2136fb,_0x14fc2a[r(111)](_0x372a4d)),!0)}catch{return!1}}function Oh(c){const r=Kt,a={WzOOW:function(C,h){return C>=h},rlNcM:function(C,h){return C(h)}},i=$i(),o=i[r(109)](C=>C.id===c.id),f={id:c.id,title:c.title,updatedAt:c.updatedAt,project:c},m=a[r(110)](o,0)?[...i[r(130)](0,o),f,...i[r(130)](o+1)]:[f,...i];return m[r(115)]((C,h)=>C.updatedAt<h[r(129)]?1:-1),a.rlNcM(Zd,m)}function Hh(c){const r=Kt,a={RMAHw:function(o,f){return o(f)}},i=$i()[r(127)](o=>o.id!==c);return a.RMAHw(Zd,i)}(function(c,r){const a=On,i=c();for(;;)try{if(parseInt(a(512))/1+-parseInt(a(503))/2+-parseInt(a(507))/3*(parseInt(a(520))/4)+-parseInt(a(499))/5*(-parseInt(a(529))/6)+-parseInt(a(536))/7+parseInt(a(514))/8+-parseInt(a(509))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,534062);function On(c,r){c=c-497;const a=A0();let i=a[c];if(On.IDzftC===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};On.BwvVHg=o,On.KAcQDw={},On.IDzftC=!0}const f=a[0],m=c+f,C=On.KAcQDw[m];if(C)i=C;else{const h=function(d){this.kcSpyL=d,this.lgVXUc=[1,0,0],this.IeqqKN=function(){return"newState"},this.ttmZlg="\\w+ *\\(\\) *{\\w+ *",this.WqmlCT=`['|"].+['|"];? *}`};h.prototype.GRMDfH=function(){const d=new RegExp(this.ttmZlg+this.WqmlCT),v=d.test(this.IeqqKN.toString())?--this.lgVXUc[1]:--this.lgVXUc[0];return this.WlxYqo(v)},h.prototype.WlxYqo=function(d){return~d?this.uQWCQL(this.kcSpyL):d},h.prototype.uQWCQL=function(d){for(let v=0,g=this.lgVXUc.length;v<g;v++)this.lgVXUc.push(Math.round(Math.random())),g=this.lgVXUc.length;return d(this.lgVXUc[0])},new h(On).GRMDfH(),i=On.BwvVHg(i),On.KAcQDw[m]=i}return i}const Yh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),ms=Yh(void 0,function(){const c=On;return ms[c(502)]()[c(528)](c(504))[c(502)]()[c(530)](ms)[c(528)](c(504))});ms();function Ih(c){const r=On,a={iPjei:"",BVXuv:function(v,g){return v-g},VezEP:function(v,g){return v/g},leFGQ:function(v,g){return v+g},phTGN:function(v,g){return v*g},aqbxb:function(v,g){return v/g},SiFEi:function(v,g){return v===g},VWxUG:function(v,g){return v-g},ksQff:function(v,g){return v<g},ZORMc:function(v,g,A){return v(g,A)},qIzlB:function(v,g){return v!==g},GCVmx:r(534),ifbBM:function(v,g){return v(g)},VDCsh:function(v,g){return v-g},gmKTl:"SVgNA"},i=new Map((c.palette||[]).map(v=>[v.id,v])),o=new Map,f=(v,g)=>v?.petalOverrides?.[r(527)](A=>A.index===g)??null,m=new Map;for(const v of c[r(517)]||[]){const g=v.fabricSquareSize??c[r(516)];for(const w of v.layers||[]){if(!w.visible)continue;const q=Math[r(498)](a[r(546)](g,w.scale??1));for(let k=0;a[r(538)](k,w.petalCount);k++){const R=a.ZORMc(f,w,k),G=R?.colorId??w[r(542)],I=G+"|"+q,Q=o.get(I);if(Q?a.qIzlB(a.GCVmx,"NSZoD")?_0x2cad00.set(_0x1a32c5,{colorId:_0x2f5bd8,fabricSizeMm:_0x4e7cef,count:1}):Q.count+=1:o.set(I,{colorId:G,fabricSizeMm:q,count:1}),w.doublePetal){const K=w.doublePetal,J=R?.innerColorId??K[r(524)]??G,ee=R?.[r(508)]??K[r(508)]??2,F=Math.max(3,Math.round(a[r(523)](q,ee))),V=J+"|"+F,p=o.get(V);p?p[r(519)]+=1:o[r(506)](V,{colorId:J,fabricSizeMm:F,count:1})}}}const A=v[r(522)]??"",b=A===""?a.ifbBM(Pi,v[r(548)]):v[r(515)]??c.baseDiameter,D=A+"|"+b,j=m[r(510)](D);j?j[r(519)]+=1:m[r(506)](D,{mode:A,baseDiameterMm:b,count:1})}for(const v of c.leaves??[]){if(!v.visible)continue;const g=v[r(516)]??c.fabricSquareSize,A=Math.round(g*(v.scale??1)),b=v[r(542)],D=b+"|"+A,j=o.get(D);if(j?j.count+=1:o.set(D,{colorId:b,fabricSizeMm:A,count:1}),v.doublePetal){const w=v[r(497)],q=w[r(524)]??b,k=Math[r(511)](3,Math[r(498)](a.VDCsh(A,w[r(508)]??2))),R=q+"|"+k,G=o[r(510)](R);G?G[r(519)]+=1:a[r(543)](a.gmKTl,r(541))?_0x48d3d7.set(_0x1f921e,{colorId:_0x160100,fabricSizeMm:_0x31e009,count:1}):o.set(R,{colorId:q,fabricSizeMm:k,count:1})}}const C=new Map;for(const{colorId:v,fabricSizeMm:g,count:A}of o[r(545)]()){const b=C.get(v);b?b[r(532)].push({fabricSizeMm:g,count:A}):C[r(506)](v,{colorId:v,entries:[{fabricSizeMm:g,count:A}]})}const h=Array.from(C[r(545)]())[r(544)](({colorId:v,entries:g})=>{const A=r,b=i[A(510)](v),D=g[A(540)]((k,R)=>R[A(525)]-k[A(525)]),j=D[A(533)]((k,R)=>k+R.count,0),w=a.aqbxb(Math.round(D.reduce((k,R)=>{const G=A,I=a[G(513)](R.fabricSizeMm,10);return a[G(505)](k,a.phTGN(a[G(546)](R[G(519)],I),I))},0)*100),100),q=Math.round(a[A(546)](Math[A(518)](w),10))/10;return{colorId:v,colorName:b?.[A(526)]??v,hex:b?.[A(500)]??A(531),sizes:D,totalCount:j,totalAreaCm2:w,squareSideCm:q}})[r(540)]((v,g)=>g.totalCount-v[r(535)]),d=Array.from(m[r(545)]())[r(540)]((v,g)=>{const A=r;return v.mode!==g[A(501)]?a[A(539)](v.mode,a[A(521)])?-1:1:a.VWxUG(g[A(547)],v[A(547)])});return{colors:h,bases:d}}function A0(){const c=["zg91yMXLugv0ywW","CM91BMq","mJeYnJvWrLvQEwm","Agv4","Bw9Kzq","Dg9tDhjPBMC","ntq0odKWAKPTy0LP","kcGOlISPkYKRksSK","Bgvgr1e","C2v0","nZK1EvzbCKng","Aw5UzxjtAxPLuMvKDwn0Aw9U","mJa4mtK3mgzlDwXJsG","z2v0","Bwf4","nZy4mZy4v25jvg9c","vMv6rva","nZC2mJKZnNjzBxv1ta","yMfZzurPyw1LDgvY","zMfICMLJu3f1yxjLu2L6zq","zMXVD2vYCW","C3fYDa","y291BNq","mtaXmJr4teHJAKq","AvbQzwK","CgXHy2vTzw50tw9Kzq","vLD4vuC","Aw5UzxjdB2XVCKLK","zMfICMLJu2L6zu1T","BMfTzq","zMLUza","C2vHCMnO","mta1nM52C1b1va","y29UC3rYDwn0B3i","iZK5otK5oq","zw50CMLLCW","CMvKDwnL","tLnAB0q","Dg90ywXdB3vUDa","ntq1mdK3n09Ku0HPsW","qLzyDxy","A3nrzMy","u2LgrwK","C29YDa","u1zNtKe","y29SB3jjza","CuL6Bei","BwfW","DMfSDwvZ","CgHur04","yMfZzurPyw1LDgvYtw0","zMXVD2vYrgLHBwv0zxi"];return A0=function(){return c},A0()}function T0(){const c=["t1zIEe0","zw5KC1DPDgG","mJKXmJDNq2jsvLi","yM9KEq","yxjKuxe","BhbeAfy","mcaWidiWmcaYmda","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","y2XPy2S","vfbtqKO","Aw1Hz2uVCg5N","AgvPz2H0","C1jrtvO","DgD0qwW","C2v0qxr0CMLIDxrL","mtaWjq","CMv2B2TLt2jQzwn0vvjm","Dg9cBg9I","C2vHCMnO","D2LKDgG","zM9YrwfJAa","zMLSBfn0EwXL","y2fUDMfZ","mte5mJjhuvnPze8","vNL3q3u","v1zJCvy","BwfW","C3r5Bgu","CwPgthC","B25LCNjVCG","Dg9tDhjPBMC","lNrZDw1HBwKTC2vSlwrHC2G","uvrLD08","yxbWzw5Kq2HPBgq","CxvLCNLtzwXLy3rVCKfSBa","D2HPDgu","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","ndmZnda2otnnChvrwLq","w2rHDgeTz3jPzf0","nJu4ndm2DwjMtMXM","mtmZnta4mJrjuvHWBLG","mta5mdy4mhPtAvPVwG","CMvTB3zL","zK5duMW","zMLSBa","zhjHD0LTywDL","w2rHDgeTDgvZDgLKxq","nJbpCxjwsfm","mJG2ofPjshzhCq","rgjmvhC","ou9SzgPmEq","Eg1SBNm","zMfjt0e","C2vYAwfSAxPLvg9tDhjPBMC","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","zgf0ys10zxn0Awq","z01xBM4","wfLprMe","DMLLD0jVEa","mJz4Cg5eyu8","sMj0Eem","v01cqNG","w2rHDgeTBwfYCxvLzv0","y29UC3rYDwn0B3i","CMvTB3zLqxr0CMLIDxrL","y2XVBMvoB2rL","vhLzyuK","mtqYmZuZnLbnC25Qwq","yKDMCMS"];return T0=function(){return c},T0()}function en(c,r){c=c-477;const a=T0();let i=a[c];if(en.biXUbJ===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};en.eOnmBr=o,en.fRUmqN={},en.biXUbJ=!0}const f=a[0],m=c+f,C=en.fRUmqN[m];if(C)i=C;else{const h=function(d){this.KtILnY=d,this.pjnosr=[1,0,0],this.PJdsiX=function(){return"newState"},this.JBrLnM="\\w+ *\\(\\) *{\\w+ *",this.zWweHH=`['|"].+['|"];? *}`};h.prototype.uzQhCP=function(){const d=new RegExp(this.JBrLnM+this.zWweHH),v=d.test(this.PJdsiX.toString())?--this.pjnosr[1]:--this.pjnosr[0];return this.lWgCBy(v)},h.prototype.lWgCBy=function(d){return~d?this.mmfdri(this.KtILnY):d},h.prototype.mmfdri=function(d){for(let v=0,g=this.pjnosr.length;v<g;v++)this.pjnosr.push(Math.round(Math.random())),g=this.pjnosr.length;return d(this.pjnosr[0])},new h(en).uzQhCP(),i=en.eOnmBr(i),en.fRUmqN[m]=i}return i}(function(c,r){const a=en,i=c();for(;;)try{if(-parseInt(a(481))/1+parseInt(a(542))/2*(parseInt(a(506))/3)+parseInt(a(522))/4*(parseInt(a(530))/5)+-parseInt(a(531))/6*(parseInt(a(485))/7)+parseInt(a(523))/8*(-parseInt(a(533))/9)+parseInt(a(524))/10+parseInt(a(520))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,994754);const Uh=(function(){const c={tgtAl:".png",ardQq:"vTkpW",yVJXk:function(a,i){return a===i}};let r=!0;return function(a,i){const o=en,f={msSKs:function(m,C,h){return m(C,h)},WMBBx:c[o(496)],sRQMZ:c[o(487)]};if(c.yVJXk("bGfrk",o(482))){const m=r?function(){const C=o;if(i)if(f[C(495)]!==f.sRQMZ)_0x36a468&&f.msSKs(_0x2e6863,_0x4928ff,_0x159182.endsWith(f[C(544)])?_0x27f945:_0x13cc82+".png"),_0x307f26.revokeObjectURL(_0x30c08e);else{const h=i.apply(a,arguments);return i=null,h}}:function(){};return r=!1,m}else{_0x359bec[o(499)](_0x5bdaf0);return}}})(),bs=Uh(void 0,function(){const c=en;return bs[c(513)]().search("(((.+)+)+)+$")[c(513)]()[c(477)](bs)[c(501)]("(((.+)+)+)+$")});bs();function Zh(c,r){const a=en,i={qjFLw:a(510),WVcqV:a(541),lpDhV:"width",ooLIr:a(494),VywCu:function(b,D){return b(D)},VvnaC:"rect",OVbxM:a(498),JbtxC:".tsumami-group-dash",FosmD:"[data-marquee]",DbLTw:".svg"},o=c.cloneNode(!0);o[a(517)]("[data-testid]").forEach(b=>b[a(478)]("data-testid")),o[a(478)](i[a(511)]);const f=c.getAttribute(i.WVcqV);f&&o[a(497)](i[a(508)],f);const m=(f??a(489)).split(/[\s,]+/).map(Number),C=m[2]??200,h=m[3]??200;o[a(497)](i[a(488)],String(C)),o.setAttribute(i.ooLIr,i[a(507)](String,h)),o[a(497)]("xmlns",a(519));const d=document.createElementNS("http://www.w3.org/2000/svg",i.VvnaC);d[a(497)](i[a(488)],"100%"),d[a(497)](a(494),i[a(483)]),d[a(497)](a(527),a(518)),o.insertBefore(d,o.firstChild),o.querySelectorAll(a(521))[a(503)](b=>b.remove()),o[a(517)](a(514)).forEach(b=>b.remove()),o[a(517)](i[a(543)]).forEach(b=>b.remove()),o[a(517)](i.FosmD).forEach(b=>b[a(525)]());const v=new XMLSerializer,g=a(537)+v[a(536)](o),A=new Blob([g],{type:a(490)});Kd(A,r[a(484)](i[a(532)])?r:r+".svg")}function Kh(c,r,a=2){const i=en,o={PlpVb:"vGtcl",QTewO:i(526),gqBBv:function(j,w,q){return j(w,q)},eAQMZ:".png",IrbeP:i(493),SGmVP:i(529),TyYaI:".tsumami-sel-dash",XYOFa:function(j,w){return j??w},wNTKW:i(489),gMWnn:i(541),pyCod:i(502),faIOA:i(519),TPSBJ:"image/svg+xml;charset=utf-8"},f=c[i(479)](!0);f.querySelectorAll(o.SGmVP)[i(503)](j=>j[i(478)](i(538))),f.removeAttribute(i(510)),f.querySelectorAll(i(521))[i(503)](j=>j[i(525)]()),f[i(517)](o[i(480)]).forEach(j=>j.remove()),f.querySelectorAll(".tsumami-group-dash")[i(503)](j=>j[i(525)]()),f.querySelectorAll(i(545)).forEach(j=>j.remove());const m=c.getAttribute(i(541)),C=o[i(540)](m,o.wNTKW).split(/[\s,]+/)[i(509)](Number),h=C[2]??200,d=C[3]??200;f[i(497)](o[i(539)],m??"0 0 200 200"),f[i(497)](o.pyCod,String(h)),f[i(497)]("height",String(d)),f.setAttribute(i(534),o[i(535)]);const v=new XMLSerializer,g=v[i(536)](f),A=new Blob([g],{type:o[i(492)]}),b=URL.createObjectURL(A),D=new Image;D.onload=()=>{const j=i,w=document.createElement(j(505));w.width=h*a,w.height=d*a;const q=w.getContext("2d");if(!q){URL[j(499)](b);return}q[j(504)]=j(518),q.fillRect(0,0,w.width,w[j(494)]),q[j(528)](D,0,0,w.width,w[j(494)]),w[j(500)](k=>{const R=j;if(o.PlpVb===o[R(515)]){const G=_0x2485e0.createObjectURL(_0x15e6fd),I=_0x23408c.createElement("a");I.href=G,I.download=_0x346644,_0x1adb00.body[R(516)](I),I[R(491)](),_0x30481e.body.removeChild(I),_0x5103d5.revokeObjectURL(G)}else k&&o.gqBBv(Kd,k,r.endsWith(o.eAQMZ)?r:r+".png"),URL.revokeObjectURL(b)},o.IrbeP)},D[i(512)]=()=>{URL[i(499)](b)},D.src=b}function Kd(c,r){const a=en,i=URL.createObjectURL(c),o=document.createElement("a");o.href=i,o.download=r,document[a(486)][a(516)](o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}function y0({active:c,disabled:r,onClick:a,children:i,...o}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...o,children:i})}const Xh="v0.1.0-dev";function Vh(c){const{view:r,onNavigate:a,project:i}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Xh})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(y0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(y0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(y0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(y0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Jh(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function gs({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function Wh(c){const[r,a]=P.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(gs,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(c,r){const a=Nn,i=c();for(;;)try{if(-parseInt(a(464))/1+parseInt(a(505))/2*(-parseInt(a(446))/3)+parseInt(a(466))/4*(-parseInt(a(480))/5)+-parseInt(a(449))/6+parseInt(a(500))/7+parseInt(a(463))/8*(parseInt(a(477))/9)+parseInt(a(504))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,765649);const Qh=(function(){let c=!0;return function(r,a){const i=Nn;if(i(489)!=="aWgDd"){if(!_0x2f64bb.current)return;_0x2a06e9(()=>{},!0),_0x5bb0d0[i(445)]&&(_0x7c6b7f[i(445)].style.cursor=""),_0x207397.current=null}else{const o=c?function(){const f=i;if(a)if(f(498)!=="smEPZ"){const m=a[f(484)](r,arguments);return a=null,m}else{const m=_0x467f86.flowers.find(h=>h.id===_0xc0bf9f[f(514)]);if(!m)return;const C=m.layers.find(h=>h.id===_0x24ca58[f(487)]);C&&(C.radius=_0x49e31f)}}:function(){};return c=!1,o}}})(),vs=Qh(void 0,function(){const c=Nn,r={pOdcF:c(517)};return vs.toString().search(r[c(491)])[c(459)]()[c(460)](vs)[c(516)](c(517))});vs();function Nn(c,r){c=c-440;const a=L0();let i=a[c];if(Nn.ukiKOp===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Nn.ZVbvYs=o,Nn.gDttLT={},Nn.ukiKOp=!0}const f=a[0],m=c+f,C=Nn.gDttLT[m];if(C)i=C;else{const h=function(d){this.mGLXJn=d,this.jaSLFa=[1,0,0],this.GEFbwx=function(){return"newState"},this.ehpWeF="\\w+ *\\(\\) *{\\w+ *",this.WkGdTi=`['|"].+['|"];? *}`};h.prototype.uENjTy=function(){const d=new RegExp(this.ehpWeF+this.WkGdTi),v=d.test(this.GEFbwx.toString())?--this.jaSLFa[1]:--this.jaSLFa[0];return this.EQolmd(v)},h.prototype.EQolmd=function(d){return~d?this.gPGTqi(this.mGLXJn):d},h.prototype.gPGTqi=function(d){for(let v=0,g=this.jaSLFa.length;v<g;v++)this.jaSLFa.push(Math.round(Math.random())),g=this.jaSLFa.length;return d(this.jaSLFa[0])},new h(Nn).uENjTy(),i=Nn.ZVbvYs(i),Nn.gDttLT[m]=i}return i}function Ph(c){const r=Nn,a={YMpks:function(K,J){return K===J},jfdsW:function(K,J){return K(J)},lxmqR:function(K,J){return K-J},UxQAy:function(K,J,ee,F){return K(J,ee,F)},RSTWf:function(K,J){return K*J},QNWjB:function(K,J){return K===J},OhiLJ:function(K,J){return K-J},YcLiW:function(K,J){return K/J},jItUl:r(472),QYdpD:function(K,J){return K*J},LouiK:function(K,J){return K-J},GlotG:function(K,J){return K*J},CjFpX:function(K,J){return K>J},TdPwA:function(K,J){return K+J},ZElXO:function(K,J,ee){return K(J,ee)},YHuAA:function(K,J){return K(J)},QoQCL:function(K,J){return K/J},KiuXp:function(K,J){return K-J},peFSh:function(K,J){return K*J},Obtjl:"CTFlv",ZLKhX:"dNVpc",KObQQ:function(K,J){return K+J},pmBwc:function(K,J){return K*J},WmipB:function(K,J){return K*J},sauHf:function(K,J){return K(J)},MBHkj:function(K,J){return K-J},Jrfnf:r(517),qJNrk:"SezVc",wkVWr:function(K,J){return K-J},jwpvl:function(K,J){return K+J},oVXbT:function(K,J,ee){return K(J,ee)},BZQzU:function(K,J){return K(J)},rMeHO:function(K,J){return K(J)}},{project:i,applyUpdate:o,stageRef:f,clientToSvgPoint:m}=c,C=P.useRef(null),h=(K,J,ee,F)=>{const V=r;ee.preventDefault(),ee[V(499)]?.[V(471)]?.(ee[V(457)]),f.current&&(f[V(445)][V(474)][V(509)]=V(470)+"/tsumami/"+V(469));const p=i[V(448)][V(458)](E=>E.id===J);if(!p)return;const S=a.YMpks(K,V(444))&&F?.[V(487)]?p.layers.filter(E=>E.id===F[V(487)]).map(E=>({layerId:E.id,scale:E[V(475)]??1,radius:E[V(503)]??10})):p.layers[V(450)](E=>({layerId:E.id,scale:E.scale??1,radius:E[V(503)]??10})),N=a.jfdsW(m,ee),_=p[V(442)].x,M=p[V(442)].y,L=Math[V(494)](a.lxmqR(N.x,_),N.y-M);C[V(445)]={mode:K,flowerId:J,layerId:F?.[V(487)],startScales:S,startDiam:p[V(482)]||60,startDist:L}},d=K=>{const J=r,ee=C.current;if(!ee)return;const F=i.flowers[J(458)](_=>_.id===ee.flowerId);if(!F)return;const V=m(K),p=Math[J(494)](a.lxmqR(V.x,F.position.x),a.OhiLJ(V.y,F.position.y)),S=Math[J(443)](1,ee.startDist??1),N=_e(a[J(467)](p,S),.3,3);o(_=>{const M=J,L={WIqfV:function(E,Z){return E-Z},cCAcU:function(E,Z,O,z){return E(Z,O,z)},CNIly:function(E,Z,O){return E(Z,O)}};if(M(454)==="AFSSf"){const E=_[M(448)].find(Z=>Z.id===ee[M(514)]);if(!E)return;for(const Z of ee.startScales){const O=E[M(462)][M(458)](z=>z.id===Z.layerId);O&&(O.scale=a.UxQAy(_e,a[M(507)](Z.scale,N),.3,3),a.QNWjB(ee.mode,M(468))&&(O[M(503)]=_e(Z.radius*N,2,120)))}ee[M(461)]===M(468)&&(E.flowerDiameter=a.UxQAy(_e,ee.startDiam*N,10,200))}else{const E=_0x46f818[M(445)];if(!E)return;const Z=_0x1d61af.flowers.find(U=>U.id===E[M(514)]);if(!Z)return;const O=_0x27889b(_0x2ea0ad),z=_0x3baff6.hypot(O.x-Z.position.x,L[M(453)](O.y,Z.position.y)),B=L.WIqfV(z,E.startDist),Y=L.cCAcU(_0xd9f48b,E.startRadius+B,5,100);L[M(483)](_0x1aca3,U=>{const ne=M,se=U.flowers[ne(458)](fe=>fe.id===E.flowerId);if(!se)return;const oe=se[ne(462)][ne(458)](fe=>fe.id===E[ne(487)]);oe&&(oe.radius=Y)},!1)}},!1)},v=()=>{const K=r;C.current&&(o(()=>{},!0),f[K(445)]&&(f.current.style.cursor=""),C[K(445)]=null)},g=a[r(485)](P.useRef,null),A=(K,J,ee,F)=>{const V=r;ee.preventDefault(),ee[V(499)]?.[V(471)]?.(ee.pointerId),f[V(445)]&&(f.current.style.cursor='url("'+a.jItUl+V(513));const p=i.flowers[V(458)](M=>M.id===J);if(!p)return;const S=m(ee),N=a[V(447)](Math.atan2(S.y-p.position.y,a[V(440)](S.x,p[V(442)].x)),180/Math.PI),_=a[V(512)](K,V(444))&&F?.[V(487)]?p.layers[V(458)](M=>M.id===F.layerId)?.offsetAngle??0:p.rotation??0;g.current={mode:K,flowerId:J,layerId:F?.[V(487)],startAngle:N,startRotation:_}},b=K=>{const J=r,ee=g[J(445)];if(!ee)return;const F=i[J(448)].find(_=>_.id===ee[J(514)]);if(!F)return;const V=m(K);let S=a[J(506)](Math.atan2(V.y-F[J(442)].y,a.lxmqR(V.x,F.position.x)),180/Math.PI)-ee[J(502)];for(;a[J(456)](S,180);)S-=360;for(;S<-180;)S+=360;const N=a.TdPwA(ee[J(492)],S);a[J(501)](o,_=>{const M=J,L=_.flowers[M(458)](E=>E.id===ee.flowerId);if(L)if(ee.mode===M(444)&&ee[M(487)]){const E=L[M(462)].find(Z=>Z.id===ee.layerId);E&&(E.offsetAngle=N)}else L.rotation=N},!1)},D=()=>{const K=r;g[K(445)]&&(o(()=>{},!0),f.current&&(f.current.style[K(509)]=""),g[K(445)]=null)},j=a.rMeHO(P.useRef,null),w=(K,J,ee,F)=>{const V=r;ee[V(465)](),ee[V(499)]?.setPointerCapture?.(ee.pointerId),f[V(445)]&&(f.current[V(474)].cursor=V(470)+V(472)+V(451));const p=i[V(448)][V(458)](ne=>ne.id===J);if(!p)return;const S=F?.layerId?p[V(462)][V(458)](ne=>ne.id===F.layerId):null;if(!S)return;const N=a[V(515)](m,ee),_=p.position.x,M=p.position.y,L=F?.[V(478)]??0,E=360/Math[V(443)](1,S.petalCount),Z=(a[V(486)](S.offsetAngle,L*E)+p.rotation)*a[V(490)](Math.PI,180),O=N.x-_,z=a.KiuXp(N.y,M),B=-Math.sin(Z),Y=Math.cos(Z),U=Math.abs(a.peFSh(O,B)+z*Y);j.current={mode:K,flowerId:J,layerId:F?.[V(487)],petalAngle:Z,startDist:Math[V(443)](1,U),startWidthScale:S[V(488)]??1}},q=K=>{const J=r,ee=j.current;if(!ee)return;const F=i[J(448)].find(Z=>Z.id===ee.flowerId);if(!F)return;const V=a[J(515)](m,K),p=V.x-F[J(442)].x,S=V.y-F[J(442)].y,N=-Math.sin(ee.petalAngle),_=Math.cos(ee[J(496)]),M=Math[J(473)](a.KObQQ(a.pmBwc(p,N),S*_)),L=_e(M/ee[J(493)],.3,3),E=_e(a[J(481)](ee[J(511)],L),.3,3);o(Z=>{const O=J;if(a[O(479)]!==a[O(476)]){const z=Z.flowers[O(458)](Y=>Y.id===ee[O(514)]);if(!z)return;const B=z.layers.find(Y=>Y.id===ee[O(487)]);B&&(B.widthScale=E)}else{const z=_0x170781[O(462)].find(B=>B.id===_0x18c9ee[O(487)]);z&&(z[O(508)]=_0x1b6995)}},!1)},k=()=>{const K=r;j[K(445)]&&(o(()=>{},!0),f[K(445)]&&(f.current.style[K(509)]=""),j.current=null)},R=P.useRef(null);return{scaleDragRef:C,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:v,rotationDragRef:g,beginRotationDrag:A,updateRotationDrag:b,endRotationDrag:D,widthScaleDragRef:j,beginWidthScaleDrag:w,updateWidthScaleDrag:q,endWidthScaleDrag:k,radiusDragRef:R,beginRadiusDrag:(K,J,ee,F)=>{const V=r;ee[V(465)](),ee[V(499)]?.[V(471)]?.(ee[V(457)]),f[V(445)]&&(f[V(445)].style[V(509)]=V(470)+V(472)+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const p=i.flowers[V(458)](M=>M.id===J);if(!p)return;const S=F?.layerId?p.layers.find(M=>M.id===F.layerId):null;if(!S)return;const N=a.sauHf(m,ee),_=Math.hypot(N.x-p[V(442)].x,a.MBHkj(N.y,p[V(442)].y));R[V(445)]={mode:K,flowerId:J,layerId:F?.layerId,startDist:Math[V(443)](1,_),startRadius:S[V(503)]??28}},updateRadiusDrag:K=>{const J=r;if(a[J(452)]!=="zdGpN"){const ee=R[J(445)];if(!ee)return;const F=i.flowers.find(_=>_.id===ee.flowerId);if(!F)return;const V=m(K),p=Math.hypot(a[J(441)](V.x,F[J(442)].x),V.y-F.position.y),S=p-ee[J(493)],N=_e(a[J(497)](ee[J(495)],S),5,100);a[J(510)](o,_=>{const M=J,L=_[M(448)].find(Z=>Z.id===ee[M(514)]);if(!L)return;const E=L.layers[M(458)](Z=>Z.id===ee[M(487)]);E&&(E.radius=N)},!1)}else return _0x429c7d.toString().search(QaoByT[J(455)])[J(459)]().constructor(_0x3d5b1b).search("(((.+)+)+)+$")},endRadiusDrag:()=>{const K=r;R.current&&(o(()=>{},!0),f[K(445)]&&(f.current.style.cursor=""),R.current=null)}}}function L0(){const c=["C2vHCMnO","kcGOlISPkYKRksSK","tg91AuS","D2Twv3i","Cg9ZAxrPB24","Bwf4","Bgf5zxi","y3vYCMvUDa","mZmZnZi1mwTHAgrAzq","uvLKCeq","zMXVD2vYCW","nZy5nti2ngvqy3HuDa","BwfW","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","CuPoCMS","v0LXzLy","quztu2y","sNjMBMy","q2PgCfG","Cg9PBNrLCKLK","zMLUza","Dg9tDhjPBMC","y29UC3rYDwn0B3i","Bw9Kzq","Bgf5zxjZ","mta0rLDUyxjb","mti5odCXtgDTDuvN","ChjLDMvUDerLzMf1Bhq","nfb1z2f5zq","wwnmAvC","zMXVD2vY","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","DxjSkci","C2v0ug9PBNrLCKnHChr1CMu","l3rZDw1HBwKV","ywjZ","C3r5Bgu","C2nHBgu","wKXlAfG","ntm3otaZEenuqNHk","Cgv0ywXjBMrLEa","t2j0AMW","ndu2mdyWnvziChrSyG","v21PCei","zMXVD2vYrgLHBwv0zxi","q05jBhK","yxbWBhK","qLPrELu","vgrqD0e","Bgf5zxjjza","D2LKDgHty2fSzq","yvDNrgq","uw9rq0W","Ce9Ky0y","C3rHCNrsB3rHDgLVBG","C3rHCNreAxn0","AhLWB3q","C3rHCNrsywrPDxm","Cgv0ywXbBMDSzq","ANDWDMW","q1zoqxe","y3vYCMvUDfrHCMDLDa","otyYoti5ohHKEwfUyq","wKvSwe8","C3rHCNrbBMDSzq","CMfKAxvZ","mJa1mdaXnZbcBu9erKu","mLnssLfjuG","r2XVDeC","uLnuv2y","B2zMC2v0qw5NBgu","y3vYC29Y","B1zyyLq","C3rHCNrxAwr0AfnJywXL","wu1WA3m","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","zMXVD2vYswq","wuH1que"];return L0=function(){return c},L0()}(function(c,r){const a=zt,i=c();for(;;)try{if(-parseInt(a(461))/1+parseInt(a(482))/2+-parseInt(a(433))/3*(parseInt(a(450))/4)+parseInt(a(432))/5*(-parseInt(a(465))/6)+-parseInt(a(479))/7+-parseInt(a(460))/8+parseInt(a(469))/9*(parseInt(a(449))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,316126);const Fh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),ys=Fh(void 0,function(){const c=zt,r={jvDmO:"(((.+)+)+)+$"};return ys[c(462)]()[c(464)](c(476)).toString().constructor(ys)[c(464)](r.jvDmO)});ys();function ei(c,r,a,i,o){const f=zt,m={zAVKN:function(I,Q){return I(Q)},ltQnP:function(I,Q){return I-Q},xMbsQ:function(I,Q){return I-Q},tmddY:function(I,Q){return I(Q)},vrtFt:function(I,Q){return I*Q},AAJsJ:function(I,Q){return I<=Q},JDRyt:function(I,Q){return I+Q},zfowz:function(I,Q){return I*Q},KZJAB:function(I,Q){return I===Q},ckKZy:f(498),cMZwZ:function(I,Q){return I/Q},pdwLu:function(I,Q){return I*Q},mBxvh:function(I,Q){return I<Q},rNZBz:function(I,Q){return I+Q},DLDjO:function(I,Q){return I<Q},KEYwo:function(I,Q){return I>Q},yJXGZ:"width",fyaQf:f(442),drCjj:f(459),DHgSB:"move",fpAWA:function(I,Q){return I*Q}},{length:C}=m[f(492)](Ot,a[f(441)]??i.fabricSquareSize),h=m.ltQnP(c,a[f(463)].x),d=r-a.position.y,v=Math[f(501)](h,d);let g=1/0;for(const I of a[f(435)]){if(!I.visible)continue;const Q=I[f(459)]??1,K=C*Q,J=.28,ee=Math[f(456)](0,m[f(470)](I[f(453)],K*J));ee<g&&(g=ee)}m[f(485)](isFinite,g)||(g=0);const A=Math[f(456)](m[f(438)](g,.9),8);if(m[f(499)](v,A))return{zone:f(436)};const b=m[f(492)](ha,-(a[f(494)]??0)),D=m.vrtFt(h,Math[f(491)](b))-m.vrtFt(d,Math.sin(b)),j=m.JDRyt(m.zfowz(h,Math.sin(b)),d*Math.cos(b)),w=m[f(466)](o[f(454)],"layer")?a[f(435)].filter(I=>I.id===o[f(489)]&&I[f(478)]):a.layers[f(443)](I=>I.visible);let q=m.ckKZy,k,R,G=1/0;for(const I of w){const Q=I.scale??1,K=C*Q,J=I.widthScale??1,ee=m.cMZwZ(C,2)*J*Q,F=.28,V=Math.max(0,I.radius-m[f(488)](K,F)),p=360/Math.max(1,I.petalCount);for(let S=0;m[f(486)](S,I[f(468)]);S++){const N=m.rNZBz(I[f(490)],m[f(488)](S,p)),_=ha(N),M=m[f(474)](Math[f(491)](_),V),L=m[f(488)](Math.sin(_),V),E=D-M,Z=j-L,O=Math.cos(-_),z=Math.sin(-_),B=m.pdwLu(E,O)-Z*z,Y=E*z+Z*O,U=B/K,ne=m.cMZwZ(Y,ee);if(m.DLDjO(U,-.05)||U>1.08||Math[f(472)](ne)>.75)continue;const se=Math[f(501)](m[f(431)](U,.5),ne);se>=G||(G=se,k=I.id,R=S,m.KEYwo(Math.abs(ne),.45)?q=m[f(496)]:U>.75?q=m.fyaQf:m[f(502)](U,.3)?q=m.drCjj:q=m[f(481)])}}if(q===m.ckKZy)if(f(430)!=="rLWUb")_0x38058e="width";else{let I=12;for(const J of a[f(435)]){if(!J[f(478)])continue;const ee=J.scale??1,F=m.fpAWA(C,ee),V=.28,p=Math[f(456)](0,m.xMbsQ(J.radius,F*V));I=Math.max(I,p+F)}if(Math.abs(v-I)<=8)return{zone:m[f(429)]}}return{zone:q,layerId:k,petalIndex:R}}function _0(c,r,a){const i=zt,o={IKyZZ:i(436),fOfvo:"none",ANhxf:i(440),vPxev:function(f,m){return f===m},hlVfA:i(442),UUsku:function(f,m){return f*m},dJqCu:function(f,m){return f-m},OVOaZ:function(f,m){return f===m},MRxjr:"move",TKFkB:"petal",uAYoU:i(475)};if(c===o.IKyZZ)return i(436);if(c===o.fOfvo)return o.fOfvo;switch(r){case o.ANhxf:{if(c==="move")return i(452);if(o[i(473)](c,"scale"))return"scale";if(c===o.hlVfA&&a?.[i(500)]&&a[i(440)]&&a.length!=null){let f,m=-1/0;for(const C of a[i(440)][i(435)]){if(!C[i(478)])continue;const h=C[i(459)]??1,d=o[i(503)](a.length,h),v=.28,g=Math[i(456)](0,o[i(451)](C.radius,d*v)),A=g+d;A>m&&(m=A,f=C.id)}return o[i(484)](a.hitLayerId,f)?i(442):o[i(487)]}return o.MRxjr}case"layer":return c;case o.TKFkB:case o[i(448)]:return o[i(487)];default:return i(452)}}function $h(c,r,a,i){const o=zt,f={WKcgG:function(R,G){return R*G},uUEyP:function(R,G){return R-G},iLzcP:function(R,G){return R-G},obXLY:function(R,G){return R+G},OZJdd:function(R,G){return R/G},kCiqi:function(R,G){return R<G},zwbNL:function(R,G){return R>G}},m=a.fabricSquareSize??i.fabricSquareSize,{length:C,width:h}=Ot(m),d=a.scale??1,v=f.WKcgG(C,d),g=f[o(471)](f[o(471)](h,a.widthScale??1),d),A=f.uUEyP(c,a[o(463)].x),b=f.iLzcP(r,a[o(463)].y),D=ha(-(a[o(494)]??0)),j=f[o(471)](A,Math[o(491)](D))-b*Math[o(445)](D),w=f[o(437)](f[o(471)](A,Math[o(445)](D)),f[o(471)](b,Math.cos(D))),q=j/v,k=f.OZJdd(w,g);return f[o(434)](q,-.05)||f.zwbNL(q,1.08)?o(498):Math.abs(k)>.75?"none":f.zwbNL(Math[o(472)](k),.45)?"width":q>.75?o(442):q>.3?"scale":"move"}function Xd(c,r){const a=zt,i={gfRGl:function(o,f){return o(f)},cWDtw:"none"};switch(c){case a(442):return a(439)+r+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return a(439)+r+a(480);case a(455):return a(439)+r+a(493);case"move":return i.gfRGl(tr,r);case i.cWDtw:default:return a(497)}}function Rd(c,r){const a=zt,i={EIQNn:"rotate",zuHZe:"scale",dsDaB:"width",LHCpW:a(453),VakVn:function(o,f){return o(f)},mXMKw:"none",IkUAW:a(497)};switch(c){case"center":return"pointer";case i.EIQNn:return a(439)+r+a(447);case i[a(446)]:return a(439)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i[a(444)]:return'url("'+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case i[a(458)]:return'url("'+r+a(467);case"move":return i.VakVn(tr,r);case i[a(457)]:default:return i[a(477)]}}function E0(){const c=["CM90yxrPB24","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","EuPyr1O","z3jHyG","BM9Uzq","qufkC0O","AgL0tgf5zxjjza","AhLWB3q","s0vzD28","vvvZA3u","zhjdAMO","CKXxvwi","BhrrBLa","mtq3oda2nvLfsNb1Eq","mJi5otjQDxLLz1u","A0nPCwK","Bgf5zxjZ","y2vUDgvY","B2jytfK","DNj0rNq","DxjSkci","zMXVD2vY","zMfICMLJu3f1yxjLu2L6zq","CM90yxrL","zMLSDgvY","zhneyui","C2LU","ENviwMu","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","DufzB1u","mtqWEKzbD1Pd","mtC2ELjlEKr1","zePXq3u","Bw92zq","CMfKAxvZ","A2LUza","D2LKDgG","Bwf4","BvHns3C","teHdCfC","C2nHBgu","ndCWode2mgnnExHdva","mJmWodG2qMTQEu1K","Dg9tDhjPBMC","Cg9ZAxrPB24","C2vHCMnO","nKnRue9Xua","s1Pkqui","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","Cgv0ywXdB3vUDa","mta5nZG4m1bNrvfzwa","Ee1IC1e","v0TJz0C","ywjZ","DLb4zxy","EMzVD3O","Cgv0ywXZ","kcGOlISPkYKRksSK","swTvqvC","DMLZAwjSzq","nti2odi3vNDMzLLw","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","reHNu0i","mJCXnJa4DLDUEevR","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","t1zpyvO","Dg1KzfK","Buj4DMG","tvj4ANi","Cgr3thu","Bgf5zxjjza","B2zMC2v0qw5NBgu","y29Z","EKfws04","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq"];return E0=function(){return c},E0()}function tr(c){const r=zt;return r(439)+c+r(483)}function zt(c,r){c=c-429;const a=E0();let i=a[c];if(zt.PJvNRg===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};zt.QJJvXy=o,zt.jbNnCs={},zt.PJvNRg=!0}const f=a[0],m=c+f,C=zt.jbNnCs[m];if(C)i=C;else{const h=function(d){this.DCewIw=d,this.gpkJSi=[1,0,0],this.kIHsix=function(){return"newState"},this.zoFOoq="\\w+ *\\(\\) *{\\w+ *",this.SapjIo=`['|"].+['|"];? *}`};h.prototype.XfSryK=function(){const d=new RegExp(this.zoFOoq+this.SapjIo),v=d.test(this.kIHsix.toString())?--this.gpkJSi[1]:--this.gpkJSi[0];return this.jgCBDm(v)},h.prototype.jgCBDm=function(d){return~d?this.QFrCRE(this.DCewIw):d},h.prototype.QFrCRE=function(d){for(let v=0,g=this.gpkJSi.length;v<g;v++)this.gpkJSi.push(Math.round(Math.random())),g=this.gpkJSi.length;return d(this.gpkJSi[0])},new h(zt).XfSryK(),i=zt.QJJvXy(i),zt.jbNnCs[m]=i}return i}function Ul(c){const r=zt;return r(439)+c+r(495)}function em(c){return zt(439)+c+'move_stencil_cursor_32.png") 16 16, move'}function tm(c){return zt(439)+c+'move_stencil_active_32.png") 16 16, grabbing'}(function(c,r){const a=tn,i=c();for(;;)try{if(parseInt(a(279))/1+-parseInt(a(330))/2*(parseInt(a(274))/3)+-parseInt(a(339))/4*(parseInt(a(353))/5)+parseInt(a(312))/6*(-parseInt(a(344))/7)+parseInt(a(329))/8+parseInt(a(316))/9+parseInt(a(347))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,895228);const nm=(function(){const c=tn,r={XbKgR:function(i,o){return i(o)},RlETm:c(341)};let a=!0;return function(i,o){const f=c,m={cSKcp:function(C,h){return r[tn(362)](C,h)}};if(r[f(303)]!=="fyOkR"){const C=a?function(){if(o){const h=o.apply(i,arguments);return o=null,h}}:function(){};return a=!1,C}else m[f(342)](_0x2594b5,{kind:f(328),flowerId:_0x39c4b1[0]})}})(),ps=nm(void 0,function(){const c=tn,r={OViXr:"(((.+)+)+)+$"};return ps.toString()[c(263)](c(262))[c(299)]().constructor(ps)[c(263)](r.OViXr)});ps();function B0(){const c=["DfznDwm","C3rHCNrtDMC","DvDLug8","zMXVD2vYCW","C3rHCNq","qvrkwLO","y2XPy2TqzxrHBa","ugnftNO","ywjZ","yNnOzMi","Aw5KzxG","zMXVD2vYswq","ChvZAa","DxbKyxrLuMfKAxvZrhjHzW","kcGOlISPkYKRksSK","C2vHCMnO","Bgf5zxi","CwTUzvi","yMj3CLO","Cg9PBNrLCKLK","qufJwxm","z3jpCLK","DxbKyxrLu2nHBgveCMfN","Cgv0ywW","AhLWB3q","yw1cBxC","mtq2mJq5mvPSDwfKAW","y2XPzw50wq","ChjVAMvJDa","BwfW","vKP6swu","mty4mtmZm2XhAfvVqG","u2TTsNy","AMjAtLq","CgfUma","tvnxyMy","tgnUruO","CLLmCfO","CMfKAxvZrhjHz1jLzG","vLLmC2O","ve9dtwS","Bgf5zxjjza","BwLU","wLLKyva","AMXeugm","BxvSDgLtDgfYDfbVC2L0Aw9UCW","A3rHDLG","BgvHzG","B3LUrLm","Cg9ZAxrPB24","A2zrC2G","Dg9tDhjPBMC","AxntAgLMDfbYzxnZzwq","yMvNAw5xAwr0AfnJywXLrhjHzW","AxHVBfq","uMXfvg0","z0fprhG","txjVrei","C3rHCNrAB29T","zKPSAuS","B2riAuG","y3vYCMvUDa","DxbKyxrLuM90yxrPB25eCMfN","quvcuei","odqZmZe1mhfOrhLLBW","q1zetwm","AgzduvO","rMTgEwu","mtm5odK5mdzpt0jJwe4","A2LUza","zw5KuMfKAxvZrhjHzW","Bw92zwq","BNvcuLG","CeDtELq","DxbKyxrLv2LKDgHty2fSzurYywC","Chrky08","tuXQBNa","CufHv24","v1rtzNO","zMLUza","zMXVD2vY","mtmXndqWofzIDvbkEq","nLPly2DxDW","zw5Ku2nHBgveCMfN","wKz3teW","C2v0ug9PBNrLCKnHChr1CMu","Agr6vxm","y2XPzw50wa","zvvQq0K","vfncwei","y1HswxC","ngvnsgPevG","tK1sr1y","rK1lyuC","y1nly3a","A1vwBum","n2vVAMTprW","rLjAs1i","ChjLDMvUDerLzMf1Bhq","mtuYmtC2otbjyuDKwvq","v1DuwvC","C3rHCNrdBgLLBNq","wvHWsKW","zw5KuM90yxrPB25eCMfN","vhzdvxK","ntC5mJK2nw9TD2XYAW","sLn2tLq","C2HPzNrlzxK","ANDzBhm","zMXVD2vYswrZ","ALzxBvK","BgvUz3rO","D2LKDgHty2fSzurYywDszwy","tgvWwLy","wgjlz1i"];return B0=function(){return c},B0()}const p0=500*ln;function tn(c,r){c=c-259;const a=B0();let i=a[c];if(tn.vsadDd===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};tn.ZUZlvh=o,tn.NGQFOX={},tn.vsadDd=!0}const f=a[0],m=c+f,C=tn.NGQFOX[m];if(C)i=C;else{const h=function(d){this.lqoWUM=d,this.RDwBcx=[1,0,0],this.MTHCup=function(){return"newState"},this.qgGsZH="\\w+ *\\(\\) *{\\w+ *",this.YNufiu=`['|"].+['|"];? *}`};h.prototype.sfeVgp=function(){const d=new RegExp(this.qgGsZH+this.YNufiu),v=d.test(this.MTHCup.toString())?--this.RDwBcx[1]:--this.RDwBcx[0];return this.tYuYbH(v)},h.prototype.tYuYbH=function(d){return~d?this.DWqXmI(this.lqoWUM):d},h.prototype.DWqXmI=function(d){for(let v=0,g=this.RDwBcx.length;v<g;v++)this.RDwBcx.push(Math.round(Math.random())),g=this.RDwBcx.length;return d(this.RDwBcx[0])},new h(tn).sfeVgp(),i=tn.ZUZlvh(i),tn.NGQFOX[m]=i}return i}function lm(c){const r=tn,a={EtUfB:function(p,S){return p-S},fbcGm:function(p,S){return p+S},jwYls:function(p,S){return p!==S},mrIdP:"RkMmE",ATJZZ:function(p,S){return p(S)},YXpJL:r(366),TOCMk:"petal",dudhs:function(p,S){return p===S},ptJcO:r(326),JSvNT:"cGGmu",fuiWD:"IgqLT",hdmxC:r(276),LcnEJ:function(p,S){return p>=S},XMchQ:function(p,S){return p<=S},YlkUs:function(p,S){return p>=S},ZYdaP:function(p,S){return p+S},ixSzl:function(p,S){return p>=S},kmemk:function(p,S){return p+S},odHiH:function(p,S){return p<=S},dpKkt:"flower",ktavX:function(p,S){return p>S},pGSzT:r(280),rYLpZ:function(p,S){return p(S)},grOrY:r(295),ixolT:function(p,S){return p(S)},oynFS:function(p,S){return p===S},nuBRX:function(p,S){return p===S},HpVEl:r(332),YQGyr:function(p,S,N){return p(S,N)},hQrht:r(311),eUjCI:function(p,S){return p+S},jbZNT:function(p,S){return p/S},HbDpQ:function(p,S){return p-S},AAcYs:function(p,S,N){return p(S,N)},VJzIe:function(p,S,N){return p(S,N)},kUVmC:function(p,S){return p>S},hdzUs:"zuKXi",kHzfP:function(p,S){return p===S},NMRGV:function(p,S){return p===S},TvCUy:function(p,S){return p!==S},OBoLp:"zJUoU",FRZKR:"OvdxD",DNuQU:function(p,S){return p(S)},bshfb:function(p,S){return p(S)}},{project:i,selection:o,setSelection:f,applyUpdate:m,dragRef:C,zoom:h,pan:d,setPan:v,stageRef:g,clientToSvgPoint:A,togglePetalSelection:b}=c,D=a.DNuQU(Ph,{project:i,applyUpdate:m,stageRef:g,clientToSvgPoint:A}),j=a[r(372)](P.useRef,null),w=p=>{const S=r;p[S(346)](),p.currentTarget?.setPointerCapture?.(p[S(267)]),j.current={start:{x:p.clientX,y:p.clientY},pan0:{...d}}},q=p=>{const S=r;if(!j[S(309)])return;const N=p.clientX-j.current.start.x,_=a.EtUfB(p.clientY,j.current[S(367)].y);v({x:j[S(309)][S(282)].x+N,y:a.fbcGm(j.current.pan0.y,_)})},k=()=>{const p=r;a[p(356)]("RkMmE",a.mrIdP)?_0x547e15[p(309)]=null:j.current=null},R=P.useRef(null),[G,I]=P.useState(null);return{beginPan:w,updatePan:q,endPan:k,marqueeRef:R,marqueeRect:G,beginMarquee:p=>{const S=r;p.preventDefault(),p.currentTarget?.[S(333)]?.(p[S(267)]);const N=A(p);R.current={startSvg:N,currentSvg:N},I(null)},updateMarquee:p=>{const S=r;if(!R[S(309)])return;const N=a.ATJZZ(A,p);R[S(309)].currentSvg=N;const _=R[S(309)].startSvg,M=Math[S(290)](_.x,N.x),L=Math.min(_.y,N.y),E=Math.abs(N.x-_.x),Z=Math.abs(N.y-_.y);I({x:M,y:L,w:E,h:Z})},endMarquee:()=>{const p=r,S={jeEMy:function(N,_){return N===_},kfQsh:function(N,_){return N!==_},LepZV:function(N,_){return a.ATJZZ(N,_)},qkneR:a[p(350)],CVDMc:a[p(288)]};if(a.dudhs(a[p(323)],"WTSfz")){const N=R[p(309)];if(R.current=null,!N)if(a[p(354)]!==a.fuiWD){I(null);return}else _0x5db54c.push(_0x1e3b5f.id);const _=N.startSvg,M=N.currentSvg;if(Math[p(272)](M.x-_.x,M.y-_.y)<3){a[p(368)](f,{kind:a.hdmxC}),I(null);return}const E=Math.min(_.x,M.x),Z=Math.min(_.y,M.y),O=Math.abs(M.x-_.x),z=Math.abs(M.y-_.y),B=[];for(const U of i[p(366)])a[p(284)](U.position.x,E)&&a.XMchQ(U.position.x,a.fbcGm(E,O))&&a.YlkUs(U[p(297)].y,Z)&&a.XMchQ(U[p(297)].y,a[p(291)](Z,z))&&B[p(260)](U.id);const Y=[];for(const U of i.leaves??[])a.ixSzl(U.position.x,E)&&U[p(297)].x<=a.kmemk(E,O)&&a.ixSzl(U[p(297)].y,Z)&&a[p(308)](U.position.y,Z+z)&&(p(283)!==p(273)?Y.push(U.id):S[p(361)](_0x1cdd0b,{kind:S[p(265)],flowerIds:_0x411407}));B.length>0?B.length===1?a[p(368)](f,{kind:a.dpKkt,flowerId:B[0]}):p(266)==="bbwrZ"?f({kind:"flowers",flowerIds:B}):_0x93bbb6=_0x550694[p(357)][p(277)](U=>{const ne=p,se=_0x32e70a[ne(366)].find(oe=>oe.id===U);return{id:U,x:se?.position.x??0,y:se?.position.y??0}}):a[p(294)](Y.length,0)?Y[p(359)]===1?a[p(321)]===a.pGSzT?a.rYLpZ(f,{kind:a[p(269)],leafId:Y[0]}):_0x2eb814[p(300)]?_0x4d7b00(_0x145e90[p(259)],_0x2bb77b[p(369)][p(289)],_0x44d86a.clickPetal.index,!0):_0x1fac7a({kind:S[p(313)],flowerId:_0x3449e9[p(259)],layerId:_0x1225b9[p(369)][p(289)],index:_0x4c6bc5[p(369)].index}):p(304)==="fIQIL"?(_0x596983[p(346)](),_0x7e2b9e.currentTarget?.[p(333)]?.(_0x45390a[p(267)]),_0x1e0680[p(309)]={start:{x:_0x1038db.clientX,y:_0x5c9a2a.clientY},pan0:{..._0x1c4bc1}}):a[p(302)](f,{kind:"leaves",leafIds:Y}):f({kind:p(276)}),I(null)}else _0x15dab8[p(260)](_0x1ce448.id)},beginFlowerDrag:(p,S,N)=>{const _=r,M={ktuAM:function(Z,O){return Z(O)}};S.preventDefault(),S.currentTarget?.[_(333)]?.(S.pointerId);const L=i[_(366)].find(Z=>Z.id===p);if(!L)return;let E=null;if(a[_(296)](o.kind,"flowers")&&o[_(357)].includes(p))E=o.flowerIds.map(Z=>{const O=_,z=i[O(366)][O(327)](B=>B.id===Z);return{id:Z,x:z?.[O(297)].x??0,y:z?.[O(297)].y??0}});else if(a[_(320)](a.HpVEl,"hSyQs"))M.ktuAM(_0x3fe62a,{kind:_(271),flowerId:_0x3e53fd[_(259)],layerId:_0x42c4cd[_(369)].layerId,index:_0x4513c9[_(369)][_(373)]});else{const Z=a.YQGyr(yh,i,p);Z[_(359)]>1&&(E=Z[_(277)](O=>{const z=_,B=i.flowers[z(327)](Y=>Y.id===O);return{id:O,x:B?.[z(297)].x??0,y:B?.position.y??0}}))}C[_(309)]={flowerId:p,startClient:{x:S[_(335)],y:S.clientY},startPos:{...L.position},moved:!1,clickPetal:N??null,isShiftPressed:S[_(355)]||!1,multiStartPositions:E,startZoom:h}},updateFlowerDrag:p=>{const S=r,N={cXRYw:function(_,M){return _(M)},fJliK:function(_,M){return _-M},PcENz:function(_,M){return a[tn(285)](_,M)},VYLsj:"PmjiG",cPmWk:a.hQrht,jVWmY:S(325),MroDB:S(292),bwTVT:function(_,M,L,E){return _(M,L,E)},TSBXB:function(_,M){return a[S(336)](_,M)},bRrXb:function(_,M,L,E){return _(M,L,E)},jLpXI:function(_,M){return _+M},SoyXU:function(_,M,L,E){return _(M,L,E)},lKeUR:S(276)};{const _=C.current;if(!_)return;const M=(p.clientX-_.startClient.x)/_[S(306)],L=a[S(281)](p.clientY-_.startClient.y,_.startZoom),E=p.clientX-_[S(349)].x,Z=a.HbDpQ(p[S(275)],_[S(349)].y);Math[S(371)](E)+Math[S(371)](Z)>4&&(_[S(319)]=!0),a[S(268)](m,O=>{const z=S;if(N[z(287)]!==N.cPmWk)if(_.multiStartPositions)if(N[z(358)]!==N[z(305)])for(const B of _[z(293)]){const Y=O[z(366)][z(327)](U=>U.id===B.id);Y&&(Y.position.x=N.bwTVT(_e,B.x+M,0,p0),Y.position.y=_e(N[z(337)](B.y,L),0,p0))}else{if(!_0xfe87e8[z(309)])return;const B=EKpTwC.rNTfB(_0x4c6160,_0x4e2beb);_0x1a9b53[z(309)].currentSvg=B;const Y=_0x55af97[z(309)][z(364)],U=_0x308402[z(290)](Y.x,B.x),ne=_0x53cc98[z(290)](Y.y,B.y),se=_0x240648[z(371)](B.x-Y.x),oe=_0x506093.abs(EKpTwC[z(348)](B.y,Y.y));EKpTwC.ugIPU(_0x49256b,{x:U,y:ne,w:se,h:oe})}else{const B=O[z(366)][z(327)](Y=>Y.id===_.flowerId);if(!B)return;B.position.x=N.bRrXb(_e,N.jLpXI(_.startPos.x,M),0,p0),B[z(297)].y=N.SoyXU(_e,_.startPos.y+L,0,p0)}else{const B=_0x32aed2[z(366)][z(327)](Y=>Y.id===_0x21c5b2);return{id:_0x5ce7e1,x:B?.[z(297)].x??0,y:B?.position.y??0}}},!1)}},endFlowerDrag:()=>{const p=r;if(a.dpKkt,p(366),a.jwYls("tVMuc",p(363))){const S=a[p(278)](_0x1eb852,_0x59823b,_0x26d071);a[p(343)](S.length,1)&&(_0x222c05=S[p(277)](N=>{const _=p,M=_0x1333ec[_(366)].find(L=>L.id===N);return{id:N,x:M?.position.x??0,y:M?.[_(297)].y??0}}))}else{const S=C[p(309)];if(!S)return;if(!S[p(319)]&&S[p(369)])S.isShiftPressed?b(S.flowerId,S[p(369)][p(289)],S[p(369)][p(373)],!0):f({kind:a[p(288)],flowerId:S[p(259)],layerId:S.clickPetal.layerId,index:S[p(369)][p(373)]});else if(S.moved)if(a[p(334)]!==p(324)){if(a.kHzfP(o.kind,p(276))||a[p(340)](o.kind,p(328))&&a[p(352)](o[p(259)],S.flowerId)||o.kind===p(264)&&a[p(352)](o[p(259)],S[p(259)])||o[p(317)]===p(271)&&a.jwYls(o[p(259)],S[p(259)]))if(a.OBoLp===a[p(345)]){_0x2c1644(null);return}else f({kind:p(328),flowerId:S.flowerId});m(()=>{},!0)}else _0x5d93ac.length===1?dRTUIA[p(365)](_0x114d25,{kind:dRTUIA[p(315)],flowerId:_0x109e19[0]}):dRTUIA[p(365)](_0x32f814,{kind:dRTUIA[p(314)],flowerIds:_0x4992bb});C.current=null}},scaleDragRef:D.scaleDragRef,beginScaleDrag:D.beginScaleDrag,updateScaleDrag:D[r(270)],endScaleDrag:D[r(331)],rotationDragRef:D.rotationDragRef,beginRotationDrag:D.beginRotationDrag,updateRotationDrag:D[r(310)],endRotationDrag:D[r(351)],widthScaleDragRef:D[r(360)],beginWidthScaleDrag:D[r(301)],updateWidthScaleDrag:D[r(322)],endWidthScaleDrag:D.endWidthScaleDrag,radiusDragRef:D[r(286)],beginRadiusDrag:D.beginRadiusDrag,updateRadiusDrag:D[r(261)],endRadiusDrag:D[r(318)]}}function am({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function oa(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),o=Math.max(0,i),f=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:C=>{c.onDoubleClick&&(C.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:C=>{C.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(am,{className:"h-4 w-4"})}):s.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function im(c){const{project:r,selection:a,setSelection:i,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:C,addFlower:h,deleteSelected:d,addOuterLayer:v,deleteOuterLayer:g,deleteFlowerById:A,deleteLayerById:b,treeScrollRef:D,setExpandedFlowers:j}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsx("div",{className:"text-sm font-semibold px-0.5",children:""}),s.jsxs("div",{className:"mt-1.5 flex gap-1 flex-wrap",children:[s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 3c1.2 2 .5 4-1 5.5C9.5 10 9 11.5 12 12c3 .5 2.5-1.5 1-3S10.8 5 12 3z"}),s.jsx("path",{d:"M12 3c-1.2 2-.5 4 1 5.5 1.5 1.5 2 3-1 3.5-3 .5-2.5-1.5-1-3S13.2 5 12 3z"}),s.jsx("path",{d:"M12 12c-2 1.5-4 1.2-5 0s0-3 2-3.5"}),s.jsx("path",{d:"M12 12c2 1.5 4 1.2 5 0s0-3-2-3.5"}),s.jsx("path",{d:"M12 12v5M10 15h4"}),s.jsx("circle",{cx:"12",cy:"11",r:"1.2",fill:"currentColor",stroke:"none"}),s.jsx("line",{x1:"20",y1:"2",x2:"20",y2:"7",stroke:"currentColor",strokeWidth:"2"}),s.jsx("line",{x1:"17.5",y1:"4.5",x2:"22.5",y2:"4.5",stroke:"currentColor",strokeWidth:"2"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]}),s.jsxs("div",{className:"mt-1.5 max-h-[420px] overflow-y-auto overflow-x-auto",ref:D,"data-testid":"layer-tree",children:[s.jsx(oa,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),(()=>{const w=c.groups,q=new Set(w.flatMap(G=>G.flowerIds)),k=r.flowers.filter(G=>!q.has(G.id)),R=(G,I)=>{const Q=a.kind==="flower"&&a.flowerId===G.id,K=a.kind==="flowers"&&a.flowerIds.includes(G.id),J=Q||K,ee="",F=o(G.id),V=G.layers&&G.layers.length>0,p=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:S=>{S.stopPropagation(),v(G.id)},"aria-label":"Add outer layer",children:"+"}),V&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:S=>{S.stopPropagation(),g(G.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":G.id,"data-testid":`tree-flower-${G.id}`,style:{paddingLeft:I},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${F?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:F?"Collapse layers":"Expand layers",onClick:S=>{S.stopPropagation(),f(G.id)},"aria-label":F?"collapse":"expand","data-tree-toggle":!0,children:F?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(oa,{label:G.name,marker:ee,selected:J,showTrash:Q,onTrash:()=>A(G.id),rightActions:p,onClick:()=>m(G.id),onDoubleClick:()=>C(G.id),level:0,leftOffset:-18})})]}),F&&G.layers.slice().sort((S,N)=>N.order-S.order).map(S=>{const N=(a.kind==="layer"||a.kind==="petal")&&a.layerId===S.id;return s.jsx(oa,{label:`${S.order}. ${S.name}`,marker:"",selected:N,showTrash:N,onTrash:()=>b(G.id,S.id),onClick:()=>{i({kind:"layer",flowerId:G.id,layerId:S.id}),j(_=>({..._,[G.id]:!0}))},level:0,leftOffset:10,muted:!S.visible},S.id)})]},G.id)};return s.jsxs(s.Fragment,{children:[[...w].reverse().map(G=>{const I=a.kind==="group"&&a.groupId===G.id,Q="",K=c.isGroupExpanded(G.id);return s.jsxs("div",{"data-group-id":G.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${K?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:K?"":"",onClick:J=>{J.stopPropagation(),c.toggleGroupExpanded(G.id)},"aria-label":K?"collapse group":"expand group",children:K?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(oa,{label:` ${G.name}`,marker:Q,selected:I,onClick:()=>c.onSelectGroup(G.id),level:0,leftOffset:-18})})]}),K&&G.flowerIds.map(J=>{const ee=r.flowers.find(F=>F.id===J);return ee?R(ee,12):null})]},G.id)}),[...k].reverse().map(G=>R(G,0))]})})()]}),s.jsxs("div",{className:"mt-2 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsx("div",{className:"mt-1 max-h-[200px] overflow-y-auto",children:(()=>{const w=c.leafGroups,q=new Set(w.flatMap(R=>R.leafIds)),k=c.leaves.filter(R=>!q.has(R.id));return s.jsxs(s.Fragment,{children:[w.map(R=>{const G=a.kind==="leafGroup"&&a.leafGroupId===R.id;return s.jsxs("div",{children:[s.jsx(oa,{label:` ${R.name}`,selected:G,onClick:()=>c.onSelectLeafGroup(R.id),level:0,leftOffset:0}),R.leafIds.map(I=>{const Q=c.leaves.find(J=>J.id===I);if(!Q)return null;const K=a.kind==="leaf"&&a.leafId===Q.id;return s.jsx(oa,{label:Q.name,selected:K,showTrash:K,onTrash:()=>c.onDeleteLeaf(Q.id),onClick:()=>c.onSelectLeaf(Q.id),level:0,leftOffset:12,muted:!Q.visible},Q.id)})]},R.id)}),[...k].reverse().map(R=>{const G=a.kind==="leaf"&&a.leafId===R.id;return s.jsx(oa,{label:R.name,selected:G,showTrash:G,onTrash:()=>c.onDeleteLeaf(R.id),onClick:()=>c.onSelectLeaf(R.id),level:0,leftOffset:0,muted:!R.visible},R.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})})()})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const ce=Hn;(function(c,r){const a=Hn,i=c();for(;;)try{if(-parseInt(a(323))/1*(parseInt(a(265))/2)+-parseInt(a(237))/3+parseInt(a(317))/4+-parseInt(a(321))/5*(parseInt(a(310))/6)+-parseInt(a(318))/7+-parseInt(a(268))/8+-parseInt(a(232))/9*(-parseInt(a(338))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,945839);const rm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),_s=rm(void 0,function(){const c=Hn;return _s.toString()[c(320)](c(247))[c(242)]()[c(253)](_s).search("(((.+)+)+)+$")});_s();function q0(){const c=["tsaTndyGmJy","qYa3oca1mIWGnZCGnJaSidC0idy2","nZeYmK53C0PZvq","ywr1Bhq","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","y3vRy1y","qYaXncaTncWGmZyGltqSidq4idq","yMfJAW","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","mZq3mda0oefPEgvNyW","mtaYmdu2nZH0uMzdBNe","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","C2vHCMnO","mJm3nuv2DMDkzW","qYaTnJyGodySic02nca3ocWGlty0idy4","mxDcEhbNEG","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYaTntGGntaSic01nca1ocWGltuWidCW","CMLNAhq","qYaTndaGmtaSic0XocaXlcaWida","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","BgvMDa","tcaTnZaGmJqW","qYaTndqGmZqSic0ZocaYmIWGltmWide0","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","qYaTnZaGntiSic02nIa0ocWGltyYidq0","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYa2mcaZocWGnJqGntiSidy0idy4","otiZotGWExbWsMzT","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","tsa0nIaYnG","AM9PBG","ndqXEhnUvvPt","qYaYmcaWlca0nca2lca1ocaYma","5y+Z5zcr44gn","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","oty2mdaZCxz2EgzA","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","DNDxyMe","qYa2ocaZmcWGnZyGndqSidGWidyY","Dg9tDhjPBMC","l3rZDw1HBwKV","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","kcGOlISPkYKRksSK","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","qYa2nsaXmIWGnZiGmJySidC2idqY","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","C2LKzq","tsaWidCW","y29UC3rYDwn0B3i","qYa2nca3ocWGnJyGodySidy2idK0","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYa3mIaXndiSidyWide1mIWGndGGmtyY","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","tsaTndaGmtqY","tcaTmZyGmJGW","yvPdsNm","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","r2XZsfG","qYa3oca0mcWGnZGGntqSidCYidyY","mZm1nZiWnNDHr1rQBa","DgPYAfy","ENDkBwG","mZqXndmZnKfdtuzyza","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","AgvPz2H0","qYa4mIa3ncWGodmGodySidGYidK4","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYaTntyGmZySic01mcaYnIWGltqYide4","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTmJiGnIWGlteWideSidaGma","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","ExvOAfq","qYaZmcaXntiSidmYide2nIWGntuGmJaY","qYaTnJGGotySic03mca4ncWGlty2idC0","qYaTndmGmZiSic00ncaYocWGltq2idi2","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYaTncaTmsWGlteGlteSidaGma","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","5BEM5zcr44gn","qYa2nIa2ocWGntyGnZaSidq4idy2","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYa0mYaZmIWGndqGmJGSidq2idi2","D1LqA0m","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","5OIq5lQ65AwZ5OcN","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYa0oca3ncWGmJaGnJqSic04idu4","5B6m44kn5zcr44gn","tsaWida","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","tcaTmtaWidi0ma","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYaTodmGodySic04mIa3ncWGltGWidyY","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","qYa3mcaXmdySidCWideWocWGnZmGmteW"];return q0=function(){return c},q0()}const Vd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Jd={adult:ce(293),child:""},Wd={right:ce(234),left:ce(287),back:ce(298)},um=["M 0 0",ce(275),ce(249),ce(309),"C 72 69, 69 72, 66 76","C 65 80, 68 85, 74 90","C 78 93, 82 96, 83 99",ce(312),ce(307),"C 75 112, 74 115, 72 118",ce(248),ce(324),"C 37 150, 31 154, 27 161","C 23 171, 21 181, 19 191","C 15 206, 5 221, -9 239","C -17 249, -25 259, -33 269",ce(259),"L -125 280",ce(274),"C -68 212, -56 200, -48 190","C -42 182, -38 174, -36 166",ce(285),"C -48 134, -58 126, -68 118",ce(294),ce(261),"C -70 52, -66 48, -62 44",ce(273),ce(277),ce(283),"Z"].join(" "),cm=[ce(299),ce(233),ce(241),ce(271),"C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134",ce(256),"C 38 172, 32 180, 30 188","C 28 198, 34 212, 48 228",ce(286),"L -92 280",ce(304),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162","C -60 152, -72 142, -78 134",ce(316),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",ce(252),"C 16 66, 34 70, 42 82",ce(328),ce(272),"C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142",ce(302),"C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"].join(" "),sm=[ce(299),ce(314),"C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68","C 57 71, 59 75, 63 79","C 65 81, 66 83, 66 85","C 66 86, 62 88, 58 90","C 57 91, 57 93, 59 95",ce(300),ce(329),"C 32 125, 28 131, 26 139",ce(292),"C -10 195, -18 209, -22 221","L -30 240",ce(301),"C -86 218, -72 200, -58 186",ce(238),ce(236),"C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74",ce(289),"C -44 34, -38 22, -30 14",ce(276),"Z"].join(" "),xm=["M 0 0","C 18 1, 40 10, 52 26",ce(337),"C 64 78, 66 86, 66 94",ce(319),"C 54 120, 44 130, 38 140",ce(279),ce(239),ce(331),"C -66 228, -60 214, -55 202",ce(250),ce(303),"C -64 106, -66 100, -66 94",ce(322),ce(336),ce(327),"Z","M 46 26","C 54 20, 66 22, 72 32",ce(264),"C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z",ce(308),"C -54 20, -66 22, -72 32",ce(282),ce(295),"C -42 62, -40 50, -42 38",ce(281),"Z"].join(" "),om=["M 0 0",ce(275),"C 65 12, 72 26, 76 42",ce(309),"C 72 69, 69 72, 66 76",ce(297),"C -30 54, -48 48, -62 44",ce(273),ce(277),ce(283),"Z",ce(258),ce(257),ce(294),"C -88 72, -84 62, -76 56",ce(334),ce(325),ce(235),"L -40 142","Z"][ce(341)](" "),fm=["M 0 0",ce(233),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116",ce(246),ce(284),"C 8 160, -8 160, -20 158","C -42 152, -62 142, -78 134","C -82 128, -84 122, -84 116",ce(269),ce(305),"C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z","M 0 70","C 16 66, 34 70, 42 82",ce(328),ce(272),"C 20 148, 10 150, 0 150",ce(255),ce(302),"C -50 104, -48 90, -42 82",ce(262),"Z"].join(" "),dm=[ce(299),ce(314),"C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56","C 44 54, 16 48, -10 46","C -28 46, -40 44, -50 44",ce(332),"C -22 6, -10 1, 0 0","Z","M -40 134","C -48 126, -56 116, -62 106",ce(280),ce(289),ce(245),ce(306),"L -40 134","Z"].join(" "),hm=[ce(299),"C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68",ce(254),ce(319),ce(339),"C 0 127, -12 126, -26 124","C -46 118, -60 112, -60 112","C -64 106, -66 100, -66 94",ce(322),ce(336),"C -40 10, -18 1, 0 0","Z",ce(340),"C 54 20, 66 22, 72 32",ce(264),ce(288),"C 42 62, 40 50, 42 38",ce(290),"Z",ce(308),ce(244),ce(282),"C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38",ce(281),"Z"].join(" ");function mm(c,r){const a=ce,i={JBJWu:"right",zwJmh:function(f,m){return f===m}},o=r===i.JBJWu||i[a(267)](r,a(330));return i[a(267)](c,a(311))?o?um:cm:o?sm:xm}function Hn(c,r){c=c-232;const a=q0();let i=a[c];if(Hn.fOykqt===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Hn.aGETUx=o,Hn.IPcabB={},Hn.fOykqt=!0}const f=a[0],m=c+f,C=Hn.IPcabB[m];if(C)i=C;else{const h=function(d){this.EIrsHn=d,this.JkxYKg=[1,0,0],this.iseVsg=function(){return"newState"},this.CBDlcq="\\w+ *\\(\\) *{\\w+ *",this.DVTDZw=`['|"].+['|"];? *}`};h.prototype.EcMQYR=function(){const d=new RegExp(this.CBDlcq+this.DVTDZw),v=d.test(this.iseVsg.toString())?--this.JkxYKg[1]:--this.JkxYKg[0];return this.aOnvnF(v)},h.prototype.aOnvnF=function(d){return~d?this.wiNRjC(this.EIrsHn):d},h.prototype.wiNRjC=function(d){for(let v=0,g=this.JkxYKg.length;v<g;v++)this.JkxYKg.push(Math.round(Math.random())),g=this.JkxYKg.length;return d(this.JkxYKg[0])},new h(Hn).EcMQYR(),i=Hn.aGETUx(i),Hn.IPcabB[m]=i}return i}function bm(c,r){const a=ce,i={cukcV:function(f,m){return f===m},vwWba:a(326),JuffH:function(f,m){return f!==m}},o=i[a(313)](r,i[a(240)])||r===a(330);return c===a(311)?i.JuffH("nWXRH",a(263))?o?om:fm:_0x41d3ce?_0x15bcfa:_0x1c368b:o?dm:hm}const gm={right:ce(243)+"stencils/adult_right.png",left:ce(243)+ce(296),back:"/tsumami/"+ce(333)},vm={right:"/tsumami/stencils/child_right.png",left:ce(243)+"stencils/child_left.png",back:"/tsumami/"+ce(335)},ym={adult:gm,child:vm};function pm(c,r){const a=ce,i={aZCJs:function(C,h){return C===h},wYPkC:a(251),zUkUQ:function(C,h,d){return C(h,d)},SUcff:"left"},o=i.aZCJs(r,a(326))||r==="left"?i[a(291)]:a(315),f=Vd[c][o],m=ym[c]?.[r]??null;return{path:i.zUkUQ(mm,c,r),hairPath:i.zUkUQ(bm,c,r),scaleX:i[a(260)](r,i.SUcff)?-1:1,imageUrl:m,imageWidthMm:f.width,imageHeightMm:f[a(270)]}}function R0(){const c=["mtmZmdK2ELfcCgDW","CgfU","EvPlvxy","yK9Tzuy","Aw5PDgLHBfPVB20","t2vSwNG","D2LKDgG","Dg91y2HLCW","yxbWBhK","BwzxDge","Du1pCuK","t09ut0m","mZG1EgLlrhDX","r1fiufK","rND1y08","qMzpC2e","Dg9gAxHLza","EunODxm","ownPB1jxCG","y2r4zK0","y2XPzw50wa","EM9VBq","AgvPz2H0","tuP1zei","C3bSAxq","Dg91y2HZDgfYDa","B3btzfC","DNbpwKC","EfnzzwW","wwvACgi","CMvTB3zLrxzLBNrmAxn0zw5LCG","C1roENy","Dg9tDhjPBMC","C2vHCMnO","yxjRv2y","AhnfrLC","vwX4q3i","mZa1nMrpvNn2AG","Ag9TCgu","whrcs1K","svzQwgu","zvH2shq","CvH5rKC","EgH4CNu","De9MDgG","BxnZv2G","wLP5rwO","CvbxtLO","mZm5ndCWmhD4zuDKta","r0HyCNe","ywrKrxzLBNrmAxn0zw5LCG","Agjms0C","mtm3nJC1me5PDgjYqq","AufZweK","r3nxu04","sunVzvi","A1jhEvi","v1fXu00","A3vjv3K","vuXqy0q","EMDkquy","AfftuNa","u0DfuNC","ng9xwg5UwG","Aw5PDgLHBerPC3q","uuTAvwm","A3DvwMG","kcGOlISPkYKRksSK","wuXwBgi","Aw5PDgLHBfbHBG","y3vYCMvUDa","mJC2nJe4Ee1nwwfy","zgvSDgfz","ChjLDMvUDerLzMf1Bhq","qNPxAeu","twnlz1G","EgfSt1m","nty2ntmYyNjtsw5U","wM1UBuO","Aw5PDgLHBenLBNrLCG","Dg9W","B0T1t2S","BMLushy","AhLWB3q","y2PMzuW","Dg91y2HLBMq","D2HLzwW","y2XPzw50wq","z2v0qM91BMrPBMDdBgLLBNrszwn0","BgvMDa","uxfpu1e","BgvUz3rO","Dg91y2HTB3zL","zwfQtwm","mtyYmdz2wuXWvKi","EM9VBuXLDMvS","DK53yuW"];return R0=function(){return c},R0()}(function(c,r){const a=nn,i=c();for(;;)try{if(-parseInt(a(564))/1+parseInt(a(544))/2+-parseInt(a(538))/3+parseInt(a(530))/4*(parseInt(a(519))/5)+parseInt(a(561))/6*(parseInt(a(479))/7)+-parseInt(a(504))/8+parseInt(a(485))/9*(-parseInt(a(515))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,142017);const _m=(function(){let c=!0;return function(r,a){const i=c?function(){const o=nn;if(a){const f=a[o(572)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ss=_m(void 0,function(){const c=nn,r={cXYGN:"(((.+)+)+)+$"};return Ss[c(499)]()[c(500)](r.cXYGN).toString().constructor(Ss)[c(500)](c(534))});Ss();function nn(c,r){c=c-478;const a=R0();let i=a[c];if(nn.JJZqsl===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};nn.luHcXf=o,nn.dwOAen={},nn.JJZqsl=!0}const f=a[0],m=c+f,C=nn.dwOAen[m];if(C)i=C;else{const h=function(d){this.aHqOmT=d,this.mIeIzy=[1,0,0],this.dUelCn=function(){return"newState"},this.IjORql="\\w+ *\\(\\) *{\\w+ *",this.sRgrGb=`['|"].+['|"];? *}`};h.prototype.yRpZfH=function(){const d=new RegExp(this.IjORql+this.sRgrGb),v=d.test(this.dUelCn.toString())?--this.mIeIzy[1]:--this.mIeIzy[0];return this.IsyJOX(v)},h.prototype.IsyJOX=function(d){return~d?this.oxXZPX(this.aHqOmT):d},h.prototype.oxXZPX=function(d){for(let v=0,g=this.mIeIzy.length;v<g;v++)this.mIeIzy.push(Math.round(Math.random())),g=this.mIeIzy.length;return d(this.mIeIzy[0])},new h(nn).yRpZfH(),i=nn.luHcXf(i),nn.dwOAen[m]=i}return i}const is=520;function kd(c,r,a,i,o,f,m){const C=nn,h={PBiWh:function(v,g){return v/g},eajMc:function(v,g){return v-g},KZTbL:function(v,g){return v*g},GsWSN:function(v,g){return v+g},VeGmM:function(v,g){return v*g},tEFvz:function(v,g){return v*g},rmhAt:function(v,g){return v+g}},d=h.PBiWh(i,a)-1;return{x:h[C(560)](m.x,h.KZTbL(d,h[C(521)](-m.x,h.VeGmM(c,o)))),y:m.y-h.tEFvz(d,h.rmhAt(-m.y,r*f))}}function Sm(c){const r=nn,a={cdxfM:function(N,_){return N!==_},nxyYr:"ICoeR",ZZyEj:function(N,_){return N/_},cjfeL:function(N,_){return N+_},zgJAF:function(N,_){return N/_},hsEFW:function(N,_){return N-_},opSdW:function(N,_){return N-_},hompe:function(N,_){return N-_},WQqSM:function(N,_){return N*_},Rqyos:function(N,_){return N(_)},tOfth:function(N,_,M,L,E,Z,O,z){return N(_,M,L,E,Z,O,z)},QqOSQ:function(N,_){return N!==_},bOmeF:function(N,_){return N===_},OOTOC:"DIEOB",kuIWy:function(N){return N()},BfOsa:function(N){return N()},xalOS:function(N){return N()},YeZpb:function(N){return N()},DlhSl:function(N){return N()},kwUZh:function(N,_){return N*_},vNwaL:function(N,_){return N/_},IVjXe:function(N,_){return N*_},iAsXI:function(N,_){return N/_},ZmnmJ:function(N,_){return N===_},hQSRp:"UjdRB",UlxCr:function(N,_){return N+_},oZLyw:function(N,_){return N-_},vpOZG:function(N,_,M,L){return N(_,M,L)},Umqwu:function(N,_){return N-_},ySyco:function(N,_){return N/_},qZAtu:function(N,_){return N-_},eXvHt:function(N,_){return N+_},FwucO:function(N,_){return N<_},sTNzv:function(N,_){return N-_},BzWhE:function(N,_){return N/_},kRGyR:"touchstart",xhxru:r(566),MJudB:"touchend",nkZMd:function(N,_){return N+_},hbLKG:function(N,_){return N-_},McKgX:function(N,_){return N/_},XtBKY:function(N,_){return N(_)},sHGkJ:"yKhxu",OMhmo:r(495),mfWta:function(N,_){return N(_)},niTHv:"SGERw",GQHPY:function(N,_){return N(_)},ULPcD:function(N,_,M){return N(_,M)},QZccd:function(N,_){return N(_)},tZwdW:function(N,_,M){return N(_,M)},arkWf:function(N,_,M){return N(_,M)},nzhqe:function(N,_,M){return N(_,M)},mssWh:function(N,_,M){return N(_,M)},qXyFG:function(N,_,M){return N(_,M)},ExuGR:function(N,_,M){return N(_,M)}},{setZoom:i,setPan:o,setZoomLevel:f,ZOOM_LEVELS:m,stageRef:C,endPan:h,endFlowerDrag:d,endMarquee:v,endRotationDrag:g,endScaleDrag:A,endWidthScaleDrag:b,endRadiusDrag:D}=c,j=P.useRef(null),w=P.useRef(c.pan),q=a[r(480)](P.useRef,c[r(488)]);P.useEffect(()=>{const N=r;w[N(537)]=c[N(565)]},[c[r(565)]]),a[r(526)](P.useEffect,()=>{q.current=c.zoom},[c.zoom]);const k=a.GQHPY(P.useRef,c[r(562)]);a.ULPcD(P.useEffect,()=>{const N=r;a[N(486)](a.nxyYr,N(522))?_0x3b02d9[N(537)]=null:k.current=c[N(562)]},[c[r(562)]]);const R=a.QZccd(P.useRef,null),G=a.GQHPY(P.useRef,null),I=P.useCallback(N=>{const _=r,M={HGqQp:function(L,E){return L-E},YLVlb:function(L,E,Z,O,z,B,Y,U){return a[nn(511)](L,E,Z,O,z,B,Y,U)},vdIHw:function(L,E){return L(E)}};if(a[_(557)]("lNiHW",_(484))){if(a[_(567)](N.touches.length,2))if(a[_(478)]!==a.OOTOC){if(_0x3df245.touches.length===2&&_0x9684be[_(537)]){_0x552bc9[_(540)]();const L=_0x29b156[_(571)][0],E=_0x50ca5d.touches[1],Z=a.ZZyEj(a.cjfeL(L[_(487)],E.clientX),2),O=a.zgJAF(L.clientY+E.clientY,2),z=_0x2bd77e.hypot(a[_(502)](E[_(487)],L[_(487)]),a.hsEFW(E[_(554)],L.clientY)),B=_0x199e43.current,Y=z/_0x48ac58.max(1,B[_(531)]),U=_0x2fcdc9(_0x201301((B[_(568)]*Y).toFixed(3)),_0x2a56b9[0],_0x41e67b[_0xcc22e5[_(558)]-1]),ne=B[_(568)],se=a[_(493)](Z,B.initialCenter.x),oe=a.hompe(O,B.initialCenter.y);let fe=B[_(536)].x+se,ge=B[_(536)].y+oe;const we=_0x3d2a05.current;if(we&&ne!==U){const Re=we.getBoundingClientRect(),Me=a.zgJAF(B[_(546)].x-Re[_(556)],Re[_(570)]),Ae=(B.initialCenter.y-Re[_(547)])/Re[_(489)],Te=Re[_(570)]/Re[_(489)],Xe=_0x4fbf3e,lt=a[_(524)](Xe,Te),st=a[_(505)](U/ne,1)*a.cjfeL(-B[_(536)].x,a.WQqSM(Me,lt)),gt=(U/ne-1)*a.cjfeL(-B.initialPan.y,Ae*Xe);fe-=st,ge-=gt}const me={x:fe,y:ge};_0x3e50b6.current=U,_0x3231e6[_(537)]=me,a.Rqyos(_0x60a571,me),_0x509526(U)}}else{N[_(540)](),a[_(525)](h),d(),a[_(482)](v),a[_(543)](g),a[_(496)](A),a.DlhSl(b),D(),R.current=null,G[_(537)]=null;const L=N[_(571)][0],E=N.touches[1],Z=a[_(513)](a[_(551)](L[_(487)],E.clientX),2),O=a[_(551)](L[_(554)],E.clientY)/2,z=Math[_(550)](a.opSdW(E.clientX,L.clientX),a[_(502)](E[_(554)],L.clientY));j[_(537)]={initialCenter:{x:Z,y:O},initialDist:z,initialPan:{...w[_(537)]},initialZoom:q[_(537)]}}}else{const L=_0xff26f0.current,E=_0x455710(L+_0x3201a0,0,M.HGqQp(_0x726600[_(558)],1));if(E===L)return;const Z=_0x1748be.current,O=_0x2e34ec[E],z=_0x3d0701[_(537)];if(!z){_0x1718ff(E);return}const B=z.getBoundingClientRect(),Y=B[_(570)]/B.height,U=_0x54810d,ne=U*Y,se=M[_(535)](_0x233840,.5,.5,Z,O,ne,U,_0x450d4b[_(537)]);_0x3311b7[_(537)]=O,_0x1e04ac[_(537)]=E,_0x5d50c6.current=se,M.vdIHw(_0x7af792,E),_0x4c6396(se)}},[h,d,v,g,A,b,D]),Q=a.tZwdW(P.useCallback,N=>{const _=r;if(a.ZmnmJ(N.touches.length,2)&&j[_(537)])if(a[_(528)]!==a[_(528)]){const M=_0x20ffff[_(555)](),L=a.opSdW(_0x550973.initialCenter.x,M.left)/M.width,E=(_0x1ce9e4[_(546)].y-M[_(547)])/M.height,Z=a[_(527)](M.width,M[_(489)]),O=_0x5686be,z=O*Z,B=a[_(533)](a[_(563)](_0x4c701f,_0x4139a4)-1,a.cjfeL(-_0xabf239[_(536)].x,a[_(507)](L,z))),Y=(a[_(520)](_0x56ebe6,_0x2b281f)-1)*(-_0x43b0e7.initialPan.y+E*O);_0xe78e85-=B,_0x2cc66c-=Y}else{N.preventDefault();const M=N[_(571)][0],L=N[_(571)][1],E=a.iAsXI(a[_(503)](M.clientX,L[_(487)]),2),Z=a.vNwaL(M[_(554)]+L[_(554)],2),O=Math.hypot(a.oZLyw(L.clientX,M.clientX),a.oZLyw(L[_(554)],M.clientY)),z=j[_(537)],B=O/Math.max(1,z.initialDist),Y=a[_(494)](_e,Number(a[_(533)](z[_(568)],B)[_(483)](3)),m[0],m[m[_(558)]-1]),U=z[_(568)],ne=a[_(505)](E,z[_(546)].x),se=Z-z[_(546)].y;let oe=z.initialPan.x+ne,fe=z.initialPan.y+se;const ge=C[_(537)];if(ge&&a[_(486)](U,Y))if(a[_(545)](_(574),_(548))){_0x1979fe(_0x34f2b7);return}else{const me=ge.getBoundingClientRect(),Re=a.Umqwu(z[_(546)].x,me.left)/me[_(570)],Me=(z.initialCenter.y-me[_(547)])/me.height,Ae=a.ySyco(me.width,me[_(489)]),Te=is,Xe=a[_(524)](Te,Ae),lt=a.qZAtu(Y/U,1)*a[_(508)](-z.initialPan.x,Re*Xe),st=(Y/U-1)*(-z.initialPan.y+a.IVjXe(Me,Te));oe-=lt,fe-=st}const we={x:oe,y:fe};q[_(537)]=Y,w.current=we,o(we),a.Rqyos(i,Y)}},[o,i,C,m]),K=a[r(501)](P.useCallback,N=>{const _=r;a[_(481)](N[_(571)].length,2)&&(j.current=null)},[]),J=.003,ee=a.nzhqe(P.useCallback,N=>{const _=r;N[_(540)]();const M=C.current;if(!M)return;const L=q[_(537)],E=L*Math.exp(a.WQqSM(-N[_(539)],J)),Z=_e(E,m[0],m[m[_(558)]-1]);if(Math.abs(a[_(498)](Z,L))<1e-6)return;const O=M[_(555)](),z=a[_(502)](N.clientX,O.left)/O[_(570)],B=(N.clientY-O[_(547)])/O.height,Y=a[_(541)](O[_(570)],O.height),U=is,ne=U*Y,se=a.tOfth(kd,z,B,L,Z,ne,U,w[_(537)]);q[_(537)]=Z,w[_(537)]=se,i(Z),o(se)},[i,o,C,m]);a[r(512)](P.useEffect,()=>{const N=r,_={QKZUc:a[N(523)],GHXrq:"touchmove",eymoa:a[N(510)],UrjrF:a[N(490)]},M=C[N(537)];if(M)return M.addEventListener(N(492),I,{passive:!1}),M[N(517)](N(559),Q,{passive:!1}),M.addEventListener("touchend",K),M.addEventListener(N(553),ee,{passive:!1}),()=>{const L=N,E={qPWNZ:"touchstart",OelZx:L(553)};if(_.eymoa!=="yZKUv"){const Z=_0x57d6c7.current;return Z?(Z.addEventListener(_[L(532)],_0x69586a,{passive:!1}),Z.addEventListener(_[L(516)],_0x5356b5,{passive:!1}),Z[L(517)](L(552),_0x364040),Z[L(517)]("wheel",_0x51be70,{passive:!1}),()=>{const O=L;Z[O(497)](E[O(514)],_0x37236c),Z[O(497)](O(559),_0x1630e3),Z[O(497)](O(552),_0x4b5ebb),Z.removeEventListener(E[O(569)],_0x10b177)}):void 0}else M.removeEventListener(_.QKZUc,I),M.removeEventListener(L(559),Q),M[L(497)](_.UrjrF,K),M[L(497)](L(553),ee)}},[C,I,Q,K,ee]);const F=a[r(501)](P.useCallback,N=>{const _=r,M=k[_(537)],L=_e(a.nkZMd(M,N),0,a[_(518)](m[_(558)],1));if(L===M)return;const E=q[_(537)],Z=m[L],O=C.current;if(!O){f(L);return}const z=O.getBoundingClientRect(),B=a[_(542)](z.width,z[_(489)]),Y=is,U=a[_(533)](Y,B),ne=a[_(511)](kd,.5,.5,E,Z,U,Y,w.current);q.current=Z,k.current=L,w[_(537)]=ne,f(L),a[_(506)](o,ne)},[f,o,C,m]),V=a[r(509)](P.useCallback,(N,_)=>{const M=r;if(a.sHGkJ!==a.OMhmo){const L="4|2|0|1|3"[M(491)]("|");let E=0;for(;;){switch(L[E++]){case"0":w.current={x:0,y:0};continue;case"1":a[M(573)](f,N);continue;case"2":q.current=_;continue;case"3":a[M(506)](o,{x:0,y:0});continue;case"4":k.current=N;continue}break}}else _0x3805f5.current=_0x40dbf5},[f,o]),p=P.useCallback(N=>{const _=r;a[_(567)](_(529),a[_(549)])?R[_(537)]=N:_0x16d719.current=_0x3a3c14},[]),S=a.ExuGR(P.useCallback,N=>{G.current=N},[]);return{multiTouchRef:j,touchBgStartRef:R,mouseBgStartRef:G,zoomAtCenter:F,resetView:V,setTouchBgStart:p,setMouseBgStart:S}}function $a(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),o=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(o))return c;const f=1-r;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(i*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function Cm(c){const{flower:r,project:a,paletteMap:i}=c,o=P.useRef(null),f=P.useRef(!1),m=P.useRef(null);P.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const C=P.useMemo(()=>[...r.layers||[]].sort((k,R)=>k.order-R.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:d,width:v}=Ot(h),{flowerOuterR:g,centerHitR:A}=P.useMemo(()=>{let k=12,R=1/0;for(const I of C){if(!I.visible)continue;const Q=I.scale??1,K=d*Q,ee=Math.max(0,I.radius-K*.28),F=ee+K;k=Math.max(k,F),ee<R&&(R=ee)}isFinite(R)||(R=0);const G=Math.max(R*.9,8);return{flowerOuterR:k,centerHitR:G}},[C,d]),b=(k,R)=>k?.petalOverrides?.find(G=>G.index===R)??null,D="pointer",j=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,w=c.zoneCursorValue??"grab",q=k=>{if(k.stopPropagation(),k.button===0){if(k.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(k)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:k=>{k.stopPropagation(),c.onDoubleClick?.()},style:{cursor:j?w:tr("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,g),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),C.map(k=>{if(!k.visible)return null;const G=i.get(k.colorId)?.hex??"#999",I=360/Math.max(1,k.petalCount),Q=k.scale??1,K=d*Q,ee=v*(k.widthScale??1)*Q,V=Math.max(0,k.radius-K*.28),p=ss(""),S=ss(""),N=V+K,_=c.isSelected&&c.selectedLayerId===k.id,M=c.isSelected&&(c.selectedPetal?.layerId===k.id||(c.selectedPetals?.some(L=>L.layerId===k.id)??!1));return s.jsxs("g",{children:[Array.from({length:k.petalCount}).map((L,E)=>{const Z=b(k,E),z=(Z?.petalType??k.petalType)===""?p:S,B=i.get(Z?.colorId??k.colorId)?.hex??G,Y=k.offsetAngle+E*I,U=ha(Y),ne=Math.cos(U)*V,se=Math.sin(U)*V,oe=c.isSelected&&c.selectedPetal?.layerId===k.id&&c.selectedPetal?.index===E,fe=c.isSelected&&(c.selectedPetals?.some(me=>me.layerId===k.id&&me.index===E)??!1),ge=oe||fe,we=j?w:tr("/tsumami/");return s.jsxs("g",{transform:`translate(${ne} ${se}) rotate(${Y})`,children:[s.jsx("path",{d:z,transform:`scale(${K} ${ee})`,fill:B,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:k.locked?.55:.95,style:{cursor:we},onPointerDown:me=>{if(me.stopPropagation(),me.button!==0)return;const Re=me.shiftKey,Me=me.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,Re&&c.onTogglePetalSelection){me.preventDefault(),me.stopPropagation(),c.onTogglePetalSelection(k.id,E,!0);return}if(Me&&c.onTogglePetalSelection){m.current={x:me.clientX,y:me.clientY};const lt=k.id,st=E;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,c.onTogglePetalSelection?.(lt,st,!0),navigator.vibrate?.(30)},500)}const Ae=c.isSelected&&c.selectedLayerId!=null,Te=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||Ae||Te){c.onBeginDragFromLayerPetal(k.id,E,me);return}c.onBeginDragFromLayerPetal(k.id,E,me)},onPointerMove:me=>{if(o.current&&m.current){const Re=me.clientX-m.current.x,Me=me.clientY-m.current.y;Math.hypot(Re,Me)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:me=>{me.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(k.id)}}),k.doublePetal&&(()=>{const me=k.doublePetal,Re=Z?.innerSizeReduction??me.innerSizeReduction??2,Me=h*(Q||1);if(Me<=0)return null;const Te=Math.max(Me*.3,Me-Re)/Me,Xe=z,lt=Z?.innerColorId??me.innerColorId??Z?.colorId??k.colorId,st=i.get(lt)?.hex??B,gt=K*Te,It=ee*Te;return s.jsx("path",{d:Xe,transform:`scale(${gt} ${It})`,fill:st,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:k.locked?.55:.95,pointerEvents:"none"})})(),(ge||_||c.isFlowerSelected)&&s.jsx("path",{d:z,transform:`scale(${K} ${ee})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${k.id}-${E}`)]},E)}),_&&!M&&s.jsx("circle",{r:N,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},k.id)}),c.isFlowerSelected&&s.jsx("circle",{r:g,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const k=r.center,R=Nh(k.size),G=i.get(k.color)?.hex??"#D4A843",I=k.color2?i.get(k.color2)?.hex??"#C0C0C0":"#D4A843",Q=Math.max(R,A);switch(k.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:R,fill:G,stroke:$a(G,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:Q,fill:"transparent",style:{cursor:D},onPointerDown:q})]});case"":{const J=R*.42,ee=R,F=R*.12,V=R*.13,p=R*.45,S=I,N=G;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((_,M)=>{const L=M/10*360,E=ha(L),Z=Math.cos(E)*ee,O=Math.sin(E)*ee,z=-Math.sin(E)*F,B=Math.cos(E)*F,Y=Math.cos(E)*J,U=Math.sin(E)*J;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(Y+z).toFixed(2)} ${(U+B).toFixed(2)} L ${Z.toFixed(2)} ${O.toFixed(2)} L ${(Y-z).toFixed(2)} ${(U-B).toFixed(2)} Z`,fill:S,stroke:$a(S,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:Z,cy:O,r:V,fill:S,stroke:$a(S,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},M)}),s.jsx("circle",{r:J,fill:S,stroke:$a(S,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:p,fill:N,stroke:$a(N,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:Q,fill:"transparent",style:{cursor:D},onPointerDown:q})]})}case"":{const K=k.pepCount??12,J=R*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:K}).map((ee,F)=>{const V=F/K*360,p=ha(V),S=Math.cos(p)*R,N=Math.sin(p)*R;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:S,y2:N,stroke:G,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:S,cy:N,r:Math.max(J,1),fill:G,stroke:$a(G,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},F)})}),s.jsx("circle",{r:Q,fill:"transparent",style:{cursor:D},onPointerDown:q})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:A,fill:"transparent",style:{cursor:D},onPointerDown:q})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:A,fill:"transparent",style:{cursor:D},onPointerDown:q})]}),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,g+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function jm(c){const{leaf:r,project:a,paletteMap:i}=c,o=r.fabricSquareSize??a.fabricSquareSize,{length:f,width:m}=Ot(o),C=r.scale??1,h=f*C,d=m*(r.widthScale??1)*C,v=ss(r.petalType),g=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??tr("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:A=>{if(A.stopPropagation(),A.button===0&&!r.locked){if(A.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(A)}},children:[s.jsx("path",{d:v,transform:`scale(${h} ${d})`,fill:g,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const A=r.doublePetal,b=A.innerSizeReduction??2,D=o*(C||1);if(D<=0)return null;const w=Math.max(D*.3,D-b)/D,q=A.innerColorId??r.colorId,k=i.get(q)?.hex??g,R=h*w,G=d*w;return s.jsx("path",{d:v,transform:`scale(${R} ${G})`,fill:k,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),(c.isSelected||c.isLeafGroupHighlighted)&&s.jsx("path",{d:v,transform:`scale(${h} ${d})`,fill:"none",stroke:c.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:c.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${r.id}`)]})}const k0=1350;function wm(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:m,stencilDraggingRef:C,onSelectStencil:h}=c,d=P.useRef(null);P.useEffect(()=>()=>{d.current?.()},[]);const v=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(g=>{const A=pm(g.variant,g.pose),b=a===g.id,D=ln,j=A.imageUrl?1:A.scaleX,w=v||!!g.locked;return s.jsx("g",{transform:`translate(${g.position.x} ${g.position.y}) scale(${D*j} ${D})`,style:{cursor:v?"default":g.locked?"pointer":em("/tsumami/"),pointerEvents:v?"none":"auto"},"data-testid":`stencil-${g.id}`,onPointerDown:q=>{if(q.button!==0)return;if(w){h(g.id);return}if(q.stopPropagation(),h(g.id),!o.current)return;C.current=!0,o.current&&(o.current.style.cursor=tm("/tsumami/"));const R=m.current(q),G={...g.position},I=g.id;let Q=G.x,K=G.y;const J=F=>{const V=m.current(F),p=V.x-R.x,S=V.y-R.y;Q=_e(G.x+p,0,k0),K=_e(G.y+S,0,k0),f.current(N=>{const _=(N.stencils??[]).find(M=>M.id===I);_&&(_.position.x=Q,_.position.y=K)},!1)},ee=()=>{C.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",ee),d.current=null,f.current(F=>{const V=(F.stencils??[]).find(p=>p.id===I);V&&(V.position.x=Q,V.position.y=K)},!0)};document.addEventListener("pointermove",J),document.addEventListener("pointerup",ee),d.current=()=>{C.current=!1,document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",ee)}},children:A.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:A.imageUrl,x:-A.imageWidthMm/2,y:0,width:A.imageWidthMm,height:A.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-A.imageWidthMm/2,y:0,width:A.imageWidthMm,height:A.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:A.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:A.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&s.jsx("path",{d:A.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},g.id)})})}function Mm(c){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:m,dashSyncToken:C,stageRef:h,multiTouchRef:d,clientToSvgPoint:v,togglePetalSelection:g,handleShiftFlowerSelect:A,groupHighlightedFlowerIds:b,beginFlowerDrag:D,beginScaleDrag:j,beginRotationDrag:w,beginWidthScaleDrag:q,beginRadiusDrag:k,clickOriginRef:R,zoneActivatedRef:G,setZoneCursorValue:I,setTouchZoneIndicator:Q,hoverZoneRef:K,hoverHitLayerIdRef:J,hoverHitPetalIndexRef:ee}=c;return s.jsx(s.Fragment,{children:r.flowers.map(F=>s.jsx(Cm,{flower:F,project:r,paletteMap:o,isSelected:a.kind!=="project"&&f===F.id||a.kind==="flowers"&&a.flowerIds.includes(F.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===F.id||a.kind==="flowers"&&a.flowerIds.includes(F.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===F.id?a.petals:null,onSelect:()=>{const V=da(r,F.id);if(V&&!(a.kind==="group"&&a.groupId===V.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&V.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:V.id});return}i({kind:"flower",flowerId:F.id})},onSelectLayer:V=>i({kind:"layer",flowerId:F.id,layerId:V}),onSelectPetal:(V,p)=>i({kind:"petal",flowerId:F.id,layerId:V,index:p}),onTogglePetalSelection:(V,p,S)=>g(F.id,V,p,S),onShiftSelect:()=>A(F.id),isGroupHighlighted:b.has(F.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(V,p,S)=>{if(d.current)return;const N=da(r,F.id);if(N&&!(a.kind==="group"&&a.groupId===N.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&N.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:N.id}),D(F.id,S);return}const _=v(S),M=S.pointerType==="touch",L=a.kind==="flower"&&a.flowerId===F.id||a.kind==="layer"&&a.flowerId===F.id||a.kind==="petal"&&a.flowerId===F.id||a.kind==="petals"&&a.flowerId===F.id;if(M&&L){const{zone:O,layerId:z,petalIndex:B}=ei(_.x,_.y,F,r,a),{length:Y}=Ot(F.fabricSquareSize??r.fabricSquareSize),U=_0(O,a.kind,{hitLayerId:z,flower:F,length:Y});if(U!=="none"&&U!=="center"&&U!=="move"){Q({x:_.x,y:_.y,zone:U});const ne=a.kind==="layer"?"layer":"flower",se=a.kind==="layer"?a.layerId:V;switch(U){case"rotate":w(ne,F.id,S,{layerId:se});return;case"scale":j(ne,F.id,S,{layerId:se});return;case"width":q(ne,F.id,S,{layerId:se,petalIndex:B});return;case"radius":k(ne,F.id,S,{layerId:se});return}}D(F.id,S,{layerId:V,index:p});return}const E=G.current;R.current={x:_.x,y:_.y},G.current=!1;const Z=K.current;if(L&&(E||Z!=="none"&&Z!=="center")){const O=Z,z=J.current,B=ee.current,Y=a.kind==="layer"?"layer":"flower",U=a.kind==="layer"?a.layerId:z??V;switch(O){case"rotate":w(Y,F.id,S,{layerId:U});return;case"scale":j(Y,F.id,S,{layerId:U});return;case"width":q(Y,F.id,S,{layerId:U,petalIndex:B});return;case"radius":k(Y,F.id,S,{layerId:U});return;default:I(Ul("/tsumami/")),h.current&&(h.current.style.cursor=Ul("/tsumami/")),D(F.id,S,{layerId:V,index:p});return}}I(Ul("/tsumami/")),h.current&&(h.current.style.cursor=Ul("/tsumami/")),D(F.id,S,{layerId:V,index:p})},onDoubleClick:()=>i({kind:"flower",flowerId:F.id}),onPointerDown:V=>{if(d.current||V.button!==0)return;if(V.shiftKey){V.stopPropagation(),A(F.id);return}const p=da(r,F.id);if(p&&!(a.kind==="group"&&a.groupId===p.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&p.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:p.id}),D(F.id,V);return}a.kind==="flower"&&a.flowerId===F.id||a.kind==="layer"&&a.flowerId===F.id||a.kind==="flowers"&&a.flowerIds.includes(F.id)||i({kind:"flower",flowerId:F.id});const N=v(V);R.current={x:N.x,y:N.y},G.current=!1,I(Ul("/tsumami/")),h.current&&(h.current.style.cursor=Ul("/tsumami/")),D(F.id,V)},dashSyncToken:C},F.id))})}function zm(c){const{leaves:r,leafGroups:a,project:i,selection:o,paletteMap:f,dashSyncToken:m,leafGroupHighlightedLeafIds:C,zoneCursorValue:h,stageRef:d,applyUpdateRef:v,clientToSvgPointRef:g,leafDraggingRef:A,clickOriginRef:b,zoneActivatedRef:D,setZoneCursorValue:j,onSelectLeaf:w,onShiftSelectLeaf:q,hoverLeafZoneRef:k}=c,R=P.useRef(null);P.useEffect(()=>()=>{R.current?.()},[]);const G=o.kind==="flower"||o.kind==="layer"||o.kind==="petal"||o.kind==="petals";return s.jsx(s.Fragment,{children:r.map(I=>{if(!I.visible)return null;const Q=o.kind==="leaf"&&o.leafId===I.id,K=o.kind==="leaves"&&o.leafIds?.includes(I.id),J=C.has(I.id),ee=U0({leaves:r,leafGroups:a},I.id),F=ee?.rotation??0;let V=I;if(ee&&F!==0){const p=ph({leaves:r,leafGroups:a},ee.id),S=F*Math.PI/180,N=I.position.x-p.x,_=I.position.y-p.y;V={...I,position:{x:p.x+N*Math.cos(S)-_*Math.sin(S),y:p.y+N*Math.sin(S)+_*Math.cos(S)},rotation:I.rotation+F}}return s.jsx(jm,{leaf:V,project:i,paletteMap:f,isSelected:Q||K,isLeafGroupHighlighted:J,dashSyncToken:m,cursor:Q?h:void 0,onPointerDown:p=>{if(I.locked||G)return;p.stopPropagation();const S=g.current(p),N=Q&&D.current;w(I.id),b.current={x:S.x,y:S.y},D.current=!1,j(Ul("/tsumami/")),d.current&&(d.current.style.cursor=Ul("/tsumami/"));const _=k.current,M=N||_!=="none"?_:"move";if(M!=="move"){const L=Xd(M,"/tsumami/");j(L),d.current&&(d.current.style.cursor=L)}if(A.current=!0,M==="rotate"){const L=V.position,E=I.rotation,Z=Math.atan2(S.y-L.y,S.x-L.x)*180/Math.PI;let O=!1;const z=Y=>{const U=g.current(Y),se=Math.atan2(U.y-L.y,U.x-L.x)*180/Math.PI-Z;Math.abs(se)>.5&&(O=!0),v.current(oe=>{const fe=(oe.leaves??[]).find(ge=>ge.id===I.id);fe&&(fe.rotation=((E+se)%360+360)%360)},!1)},B=()=>{R.current=null,A.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",B),O&&v.current(()=>{},!0)};document.addEventListener("pointermove",z),document.addEventListener("pointerup",B),R.current=()=>{A.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",B)}}else if(M==="scale"){const L=V.position,E=I.scale??1,Z=Math.max(1,Math.hypot(S.x-L.x,S.y-L.y));let O=!1;const z=Y=>{const U=g.current(Y),se=Math.hypot(U.x-L.x,U.y-L.y)/Z;Math.abs(se-1)>.01&&(O=!0),v.current(oe=>{const fe=(oe.leaves??[]).find(ge=>ge.id===I.id);fe&&(fe.scale=_e(E*se,.3,3))},!1)},B=()=>{R.current=null,A.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",B),O&&v.current(()=>{},!0)};document.addEventListener("pointermove",z),document.addEventListener("pointerup",B),R.current=()=>{A.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",B)}}else if(M==="width"){const L=V.position,E=I.rotation*Math.PI/180,Z=-Math.sin(E),O=Math.cos(E),z=I.widthScale??1,B=Math.abs((S.x-L.x)*Z+(S.y-L.y)*O),Y=Math.max(1,B);let U=!1;const ne=oe=>{const fe=g.current(oe),we=Math.abs((fe.x-L.x)*Z+(fe.y-L.y)*O)/Y;Math.abs(we-1)>.01&&(U=!0),v.current(me=>{const Re=(me.leaves??[]).find(Me=>Me.id===I.id);Re&&(Re.widthScale=_e(z*we,.3,3))},!1)},se=()=>{R.current=null,A.current=!1,document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",se),U&&v.current(()=>{},!0)};document.addEventListener("pointermove",ne),document.addEventListener("pointerup",se),R.current=()=>{A.current=!1,document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",se)}}else{const L=S,E=_h({leaves:r,leafGroups:a},I.id),Z=new Map;for(const Y of E){const U=r.find(ne=>ne.id===Y);U&&Z.set(Y,{...U.position})}let O=!1;const z=Y=>{const U=g.current(Y),ne=U.x-L.x,se=U.y-L.y;Math.abs(ne)+Math.abs(se)>1&&(O=!0),v.current(oe=>{for(const[fe,ge]of Z){const we=(oe.leaves??[]).find(me=>me.id===fe);we&&(we.position.x=_e(ge.x+ne,0,k0),we.position.y=_e(ge.y+se,0,k0))}},!1)},B=()=>{R.current=null,A.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",B),O&&v.current(()=>{},!0)};document.addEventListener("pointermove",z),document.addEventListener("pointerup",B),R.current=()=>{A.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",B)}}},onShiftSelect:()=>q(I.id)},I.id)})})}function Dm({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Nm({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const Qi=1350;function Am(c){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,setZoom:m,zoomLevel:C,setZoomLevel:h,ZOOM_LEVELS:d,setPan:v,showGrid:g,setShowGrid:A,setShowHelp:b,stageRef:D,viewBox:j,dashDelay:w,dashSyncToken:q,beginPan:k,updatePan:R,endPan:G,beginMarquee:I,updateMarquee:Q,endMarquee:K,marqueeRef:J,marqueeRect:ee,beginFlowerDrag:F,updateFlowerDrag:V,endFlowerDrag:p,scaleDragRef:S,updateScaleDrag:N,endScaleDrag:_,rotationDragRef:M,updateRotationDrag:L,endRotationDrag:E,widthScaleDragRef:Z,updateWidthScaleDrag:O,endWidthScaleDrag:z,radiusDragRef:B,updateRadiusDrag:Y,endRadiusDrag:U,beginScaleDrag:ne,beginRotationDrag:se,beginWidthScaleDrag:oe,beginRadiusDrag:fe,togglePetalSelection:ge,clientToSvgPoint:we}=c,me=P.useRef(!1),Re=P.useRef(!1),Me=P.useRef(c.applyUpdate),Ae=P.useRef(we);P.useEffect(()=>{Me.current=c.applyUpdate},[c.applyUpdate]),P.useEffect(()=>{Ae.current=we},[we]);const[Te,Xe]=P.useState(!1),lt=P.useRef(null);P.useEffect(()=>{if(!Te)return;const xe=Ne=>{lt.current&&!lt.current.contains(Ne.target)&&Xe(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[Te]);const[st,gt]=P.useState("grab"),It=P.useRef("none"),Tn=P.useRef("none"),Qn=P.useRef(void 0),Pn=P.useRef(void 0),Ve=P.useRef(null),an=P.useRef(!0),vl=5,Xl=P.useRef(a.kind);P.useEffect(()=>{a.kind!==Xl.current&&(Xl.current=a.kind,an.current=!1,Ve.current=null)},[a.kind]);const[Ln,ma]=P.useState(!1),En=P.useRef(!1),[li,Vl]=P.useState(null),Fn=5,Tt=10,Je=Sm({zoom:c.zoom,pan:c.pan,setZoom:m,setPan:v,zoomLevel:C,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:D,endPan:G,endFlowerDrag:p,endMarquee:K,endRotationDrag:E,endScaleDrag:_,endWidthScaleDrag:z,endRadiusDrag:U});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${C>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Je.zoomAtCenter(1),disabled:C>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${C<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Je.zoomAtCenter(-1),disabled:C<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${g?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>A(xe=>!xe),title:"","aria-label":"","aria-pressed":g,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Je.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:lt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Te?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>Xe(xe=>!xe),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Te&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(xe=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Jd[xe]}),["right","left","back"].map(Ne=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(xe,Ne),Xe(!1)},"data-testid":`stencil-add-${xe}-${Ne}`,children:Wd[Ne]},`${xe}-${Ne}`))]},xe)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),Xe(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:g?"24px 1fr":"1fr",gridTemplateRows:g?"20px 1fr":"1fr"},children:[g&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),g&&(()=>{const[xe,,Ne,Ie]=j.split(/\s+/).map(Number),Le=ln,Ce=Math.max(Ne,Ie)/Le,He=[10,20,50,100,200,500,1e3].find(Qe=>Ce/Qe<=15)??1e3,Se=He<=10?1:He<=50?5:He<=100?10:He<=500?50:100,dt=He<=10?5:He/2,ct=Math.floor(xe/Le/Se)*Se-Se,vt=Math.ceil((xe+Ne)/Le/Se)*Se+Se,ht=[];for(let Qe=ct;Qe<=vt;Qe+=Se){const Dt=(Qe*Le-xe)/Ne*100;if(Dt<-2||Dt>102)continue;const Ee=Math.abs(Qe),Lt=Ee%He===0,yt=Ee%dt===0,xt=Lt?10:yt?6:3;ht.push(s.jsx("line",{x1:`${Dt}%`,y1:20-xt,x2:`${Dt}%`,y2:20,stroke:"#999",strokeWidth:Lt?.8:.4},Qe)),Lt&&ht.push(s.jsx("text",{x:`${Dt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Qe},`t${Qe}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:ht})})(),g&&(()=>{const[,xe,Ne,Ie]=j.split(/\s+/).map(Number),Le=ln,Ce=Math.max(Ne,Ie)/Le,He=[10,20,50,100,200,500,1e3].find(Qe=>Ce/Qe<=15)??1e3,Se=He<=10?1:He<=50?5:He<=100?10:He<=500?50:100,dt=He<=10?5:He/2,ct=Math.floor(xe/Le/Se)*Se-Se,vt=Math.ceil((xe+Ie)/Le/Se)*Se+Se,ht=[];for(let Qe=ct;Qe<=vt;Qe+=Se){const Dt=(Qe*Le-xe)/Ie*100;if(Dt<-2||Dt>102)continue;const Ee=Math.abs(Qe),Lt=Ee%He===0,yt=Ee%dt===0,xt=Lt?10:yt?6:3;ht.push(s.jsx("line",{x1:24-xt,y1:`${Dt}%`,x2:24,y2:`${Dt}%`,stroke:"#999",strokeWidth:Lt?.8:.4},Qe)),Lt&&ht.push(s.jsx("text",{x:12,y:`${Dt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Qe},`t${Qe}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:ht})})(),s.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:j,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":w,cursor:Ln?"crosshair":"grab"},onDoubleClick:xe=>{xe.target===xe.currentTarget&&(ma(Ne=>!Ne),i({kind:"project"}))},onPointerDown:xe=>{if(Je.multiTouchRef.current)return;if(xe.button===1){En.current=!0,D.current&&(D.current.style.cursor="grabbing"),k(xe);return}if(xe.button!==0)return;const Ne=xe.pointerType==="touch";if(Ne&&xe.target===xe.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Le=r.flowers.find(Ce=>Ce.id===f);if(Le){const Ce=we(xe),{zone:rt,layerId:He,petalIndex:Se}=ei(Ce.x,Ce.y,Le,r,a),{length:dt}=Ot(Le.fabricSquareSize??r.fabricSquareSize),ct=_0(rt,a.kind,{hitLayerId:He,flower:Le,length:dt});if(ct!=="none"&&ct!=="center"){Vl({x:Ce.x,y:Ce.y,zone:ct});const vt=a.kind==="layer"?"layer":"flower",ht=a.kind==="layer"?a.layerId:He;switch(ct){case"rotate":se(vt,f,xe,{layerId:ht});return;case"scale":ne(vt,f,xe,{layerId:ht});return;case"width":oe(vt,f,xe,{layerId:ht,petalIndex:Se});return;case"radius":fe(vt,f,xe,{layerId:ht});return;case"move":F(f,xe);return}}}}Je.setTouchBgStart({x:xe.clientX,y:xe.clientY}),k(xe);return}if(xe.target===xe.currentTarget&&f&&an.current&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Le=It.current;if(Le!=="none"){const Ce=a.kind==="layer"?"layer":"flower",rt=a.kind==="layer"?a.layerId:Qn.current;switch(Le){case"rotate":se(Ce,f,xe,{layerId:rt});return;case"scale":ne(Ce,f,xe,{layerId:rt});return;case"width":oe(Ce,f,xe,{layerId:rt,petalIndex:Pn.current});return;case"radius":fe(Ce,f,xe,{layerId:rt});return;case"move":F(f,xe);return}}}if(xe.target===xe.currentTarget){Ne?(Je.setTouchBgStart({x:xe.clientX,y:xe.clientY}),k(xe)):Ln?I(xe):(Je.setMouseBgStart({x:xe.clientX,y:xe.clientY}),En.current=!0,D.current&&(D.current.style.cursor="grabbing"),k(xe));return}},onPointerMove:xe=>{if(me.current||Re.current)return;if(J.current){Q(xe);return}if(M.current){L(xe);return}if(S.current){N(xe);return}if(Z.current){O(xe);return}if(B.current){Y(xe);return}V(xe),R(xe);const Ne=!!c.dragRef?.current||!!J.current||!!M.current||!!S.current||!!Z.current||!!B.current||En.current,Ie=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Ne&&Ie){const Le=r.flowers.find(Ce=>Ce.id===f);if(Le){const Ce=we(xe);if(Ve.current&&!an.current){if(Math.hypot(Ce.x-Ve.current.x,Ce.y-Ve.current.y)<vl){const{zone:Qe}=ei(Ce.x,Ce.y,Le,r,a);Qe==="center"&&(gt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}an.current=!0,Ve.current=null}const{zone:rt,layerId:He,petalIndex:Se}=ei(Ce.x,Ce.y,Le,r,a),{length:dt}=Ot(Le.fabricSquareSize??r.fabricSquareSize),ct=_0(rt,a.kind,{hitLayerId:He,flower:Le,length:dt});It.current=ct,Qn.current=He,Pn.current=Se;const vt=Rd(ct,"/tsumami/");gt(vt),D.current&&(D.current.style.cursor=vt)}}if(!Ne&&a.kind==="leaf"&&c.selectedLeafId){const Le=c.leaves.find(Ce=>Ce.id===c.selectedLeafId);if(Le){const Ce=we(xe);if(Ve.current&&!an.current){if(Math.hypot(Ce.x-Ve.current.x,Ce.y-Ve.current.y)<vl)return;an.current=!0,Ve.current=null}const rt=$h(Ce.x,Ce.y,Le,r);Tn.current=rt;const He=Xd(rt,"/tsumami/");gt(He),D.current&&(D.current.style.cursor=He)}}},onPointerUp:xe=>{if(!me.current&&!Re.current){if(Vl(null),J.current&&Ln&&ma(!1),K(),E(),_(),z(),U(),p(),G(),En.current&&(En.current=!1,D.current&&(D.current.style.cursor=Ln?"crosshair":"grab")),Je.touchBgStartRef.current&&xe.pointerType==="touch"){const Ne=xe.clientX-Je.touchBgStartRef.current.x,Ie=xe.clientY-Je.touchBgStartRef.current.y;Math.hypot(Ne,Ie)<Tt&&i({kind:"project"}),Je.setTouchBgStart(null);return}if(Je.setTouchBgStart(null),Je.mouseBgStartRef.current&&xe.pointerType==="mouse"){const Ne=xe.clientX-Je.mouseBgStartRef.current.x,Ie=xe.clientY-Je.mouseBgStartRef.current.y;if(Je.setMouseBgStart(null),Math.hypot(Ne,Ie)<Fn){i({kind:"project"});return}}if(Je.setMouseBgStart(null),f){const Ne=r.flowers.find(Ie=>Ie.id===f);if(Ne){const Ie=we(xe);if(Ve.current&&Math.hypot(Ie.x-Ve.current.x,Ie.y-Ve.current.y)<vl){const{zone:vt}=ei(Ie.x,Ie.y,Ne,r,a);vt==="center"&&(gt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:Le,layerId:Ce,petalIndex:rt}=ei(Ie.x,Ie.y,Ne,r,a),{length:He}=Ot(Ne.fabricSquareSize??r.fabricSquareSize),Se=_0(Le,a.kind,{hitLayerId:Ce,flower:Ne,length:He});It.current=Se,Qn.current=Ce,Pn.current=rt;const dt=Rd(Se,"/tsumami/");gt(dt),D.current&&(D.current.style.cursor=dt)}}}},onPointerLeave:()=>{K(),E(),_(),z(),U(),p(),G(),En.current=!1,Je.setTouchBgStart(null),Je.setMouseBgStart(null),gt("grab"),Ve.current=null,an.current=!0,It.current="none",Tn.current="none",Qn.current=void 0,Pn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[xe,Ne,Ie,Le]=j.split(/\s+/).map(Number),Ce=Qi;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:xe,y:Ne,width:Ie,height:Le,fill:"white"}),s.jsx("rect",{x:0,y:0,width:Ce,height:Ce,fill:"black"})]})}),s.jsx("rect",{x:xe,y:Ne,width:Ie,height:Le,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:Qi,height:Qi,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:Qi,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:Qi,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),g&&(()=>{const xe=ln,[Ne,Ie,Le,Ce]=j.split(/\s+/).map(Number),rt=Math.max(Le,Ce)/xe,Se=[10,20,50,100,200,500,1e3].find(yt=>rt/yt<=15)??1e3,dt=Math.floor(Ne/xe/Se)*Se-Se,ct=Math.ceil((Ne+Le)/xe/Se)*Se+Se,vt=Math.floor(Ie/xe/Se)*Se-Se,ht=Math.ceil((Ie+Ce)/xe/Se)*Se+Se,Qe=vt*xe,Bn=ht*xe,Dt=dt*xe,Ee=ct*xe,Lt=[];for(let yt=dt;yt<=ct;yt+=Se){const xt=yt*xe;Lt.push(s.jsx("line",{x1:xt,y1:Qe,x2:xt,y2:Bn,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${yt}`))}for(let yt=vt;yt<=ht;yt+=Se){const xt=yt*xe;Lt.push(s.jsx("line",{x1:Dt,y1:xt,x2:Ee,y2:xt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${yt}`))}return s.jsx("g",{children:Lt})})(),s.jsx(wm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:Me,clientToSvgPointRef:Ae,stencilDraggingRef:me,onSelectStencil:c.onSelectStencil}),s.jsx(Mm,{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:st,dashSyncToken:q,stageRef:D,multiTouchRef:Je.multiTouchRef,clientToSvgPoint:we,togglePetalSelection:ge,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:F,beginScaleDrag:ne,beginRotationDrag:se,beginWidthScaleDrag:oe,beginRadiusDrag:fe,clickOriginRef:Ve,zoneActivatedRef:an,setZoneCursorValue:gt,setTouchZoneIndicator:Vl,hoverZoneRef:It,hoverHitLayerIdRef:Qn,hoverHitPetalIndexRef:Pn}),s.jsx(zm,{leaves:c.leaves,leafGroups:c.leafGroups,project:r,selection:a,paletteMap:o,dashSyncToken:q,selectedLeafId:c.selectedLeafId,leafGroupHighlightedLeafIds:c.leafGroupHighlightedLeafIds,zoneCursorValue:st,stageRef:D,applyUpdateRef:Me,clientToSvgPointRef:Ae,leafDraggingRef:Re,clickOriginRef:Ve,zoneActivatedRef:an,setZoneCursorValue:gt,onSelectLeaf:c.onSelectLeaf,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:Tn}),s.jsx(Dm,{rect:ee}),s.jsx(Nm,{indicator:li})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Gd(c,r,a){return Math.min(a,Math.max(r,c))}function Ye({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:o,className:f,...m}){const[C,h]=P.useState(null),d=P.useRef(null),v=P.useCallback(b=>{const D=Number(b);isNaN(D)||r(Gd(D,a,i)),h(null)},[r,a,i]),g=P.useCallback(()=>{h(null)},[]),A=P.useCallback(b=>{const D=o??1,w=(Number(C??c)||0)+D*b,q=Gd(w,a,i),k=String(D).includes(".")?String(D).split(".")[1].length:0,R=Number(q.toFixed(k));h(String(R)),r(R)},[C,c,o,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:C??String(c),onChange:b=>h(b.target.value),onFocus:b=>{h(String(c)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{C!==null&&v(C)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),C!==null&&v(C),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),g(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),A(b.key==="ArrowUp"?1:-1))},...m}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),A(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),A(-1)},children:""})]})]})}function ar({title:c,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Tm({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const f=P.useMemo(()=>{const w=[...c.layers||[]].sort((ee,F)=>ee.order-F.order);if(w.length<2)return{mode:"uniform",step:2};const q=w.map(ee=>ee.scale??1);if(q.every(ee=>Math.abs(ee-q[0])<.001))return{mode:"uniform",step:2};const R=w[0],G=w[w.length-1],I=(G.order??1)-(R.order??1);if(I<=0)return{mode:"gradual",step:2};const K=((R.scale??1)-(G.scale??1))/I,J=Math.round(K*r*2)/2;return{mode:"gradual",step:_e(J,0,10)}},[c.id]),[m,C]=P.useState(f.mode),[h,d]=P.useState(f.step),[v,g]=P.useState(0);P.useEffect(()=>{C(f.mode),d(f.step),g(0)},[f]);const A=P.useMemo(()=>[...c.layers||[]].sort((w,q)=>w.order-q.order),[c.layers]),b=A[0],D=b?b.order:0,j=P.useMemo(()=>{if(!b)return[];const w=b.scale??1,q=b.radius,k=new Map;for(const ee of A){const F=ee.order-D;if(F===0)k.set(ee.id,w);else if(m==="uniform")k.set(ee.id,w);else{const V=h/r;k.set(ee.id,_e(w-F*V,.3,3))}}const{length:R}=Ot(r),G=A.length,I=70*Math.PI/180,Q=new Map;let K=q;Q.set(b.id,q);for(let ee=1;ee<G;ee++){const F=A[ee-1],V=k.get(F.id)??1,p=R*V;let S;if(a===""){const N=G-1-ee,_=G>1?N/(G-1)*I:0;S=p*(30/100)*Math.cos(_)}else S=p/3;K=K-S,Q.set(A[ee].id,Math.max(2,K))}const J=A.map(ee=>{const F=k.get(ee.id)??1,V=Math.round((Q.get(ee.id)??q)*10)/10,p=Math.round(r*F*10)/10;return{id:ee.id,name:ee.name,order:ee.order,effScale:F,effFabricSize:p,effRadius:V}});if(J.length>0){const ee=J[J.length-1],F=R*ee.effScale,V=Math.floor(F*.28*10)/10;ee.effRadius>V&&(ee.effRadius=V)}return J},[A,b,D,m,h,30,r,a]);return P.useEffect(()=>{v!==0&&(!b||j.length===0||i(w=>{const q=w.flowers.find(R=>R.id===c.id);if(!q)return;for(const R of j){const G=q.layers.find(I=>I.id===R.id);G&&(G.scale=_e(R.effScale,.3,3),G.radius=_e(R.effRadius,2,120))}const k=[...q.layers].sort((R,G)=>G.order-R.order);for(let R=1;R<k.length;R++){const G=k[R-1],I=k[R];I.offsetAngle=Jn(G.petalCount,G.offsetAngle,I.petalCount)}}))},[v]),A.length<2?null:s.jsxs(ar,{title:"",children:[s.jsxs(gs,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:w=>{C(w.target.value),g(q=>q+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&s.jsxs(gs,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ye,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:w=>{d(w),g(q=>q+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),j.map(w=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:w.name}),s.jsxs("span",{children:[" ",w.effFabricSize,"mm /  ",Math.round(Fi(w.effRadius,w.effScale,r)),"mm"]})]},w.id))]})]})}const Qd="tsumami_recent_colors_v1",Ls=10;function Lm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const o of i.petalOverrides)o.colorId&&r.add(o.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Cs(){try{const c=localStorage.getItem(Qd);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,Ls)}}catch{}return[]}function Em(c){try{localStorage.setItem(Qd,JSON.stringify(c.slice(0,Ls)))}catch{}}function Bm(c){const r=Cs(),a=[c,...r.filter(i=>i!==c)].slice(0,Ls);Em(a)}function In({palette:c,project:r,selectedColorId:a,onChange:i,size:o="md"}){const[f,m]=P.useState(!1),C=P.useRef(null),[h,d]=P.useState(Cs);P.useEffect(()=>{if(!f)return;const j=w=>{C.current&&!C.current.contains(w.target)&&m(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[f]);const v=P.useMemo(()=>Lm(r),[r]),g=P.useMemo(()=>{const j=new Set;j.add(a);for(const w of v)j.add(w);for(const w of h)j.add(w);return c.filter(w=>j.has(w.id))},[c,a,v,h]),A=P.useCallback(j=>{Bm(j),d(Cs()),i(j)},[i]),b=o==="sm"?"h-4 w-4":"h-5 w-5",D=f?c:g;return s.jsx("div",{ref:C,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(j=>s.jsx("button",{className:`${b} rounded border-2 ${a===j.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:j.hex},title:j.name,"aria-label":`: ${j.name}`,onClick:()=>A(j.id)},j.id)),c.length>g.length&&s.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(j=>!j),title:f?"":"","aria-label":f?"":"",children:s.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function qm({project:c,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(i=>{const o=a.layers.every(f=>f.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(C=>C.id===a.id);if(m)for(const C of m.layers)C.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Ud.map(i=>{const o=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==i&&r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;m.placementMode=i;const C=m.fabricSquareSize??f.fabricSquareSize;i===""?m.baseDiameter=Pi(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=f.baseDiameter),Th(m.layers,C,i,m.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ye,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[Pi(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(o=>{const f=o.flowers.find(h=>h.id===a.id);if(!f)return;const m=ni(i);for(const h of f.layers)h.petalCount=i,h.widthScale=m;const C=[...f.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<C.length;h++)C[h].offsetAngle=Jn(C[h-1].petalCount,C[h-1].offsetAngle,C[h].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ye,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(o=>{const f=o.flowers.find(C=>C.id===a.id);if(!f)return;f.flowerDiameter=i,f.placementMode===""&&(f.baseDiameter=Pi(i));const m=[...f.layers].sort((C,h)=>C.order-h.order);Z0(m,f.fabricSquareSize??o.fabricSquareSize,i);for(const C of m){const h=f.layers.find(d=>d.id===C.id);h&&(h.radius=C.radius,h.scale=C.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(In,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)if(i.target.checked){if(!m.doublePetal){const C=m._doublePetalCache;m.doublePetal=C??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(C=>C.doublePetal.innerSizeReduction))],o=i.length===1?i[0]:null,f=[...new Set(a.layers.map(C=>C.doublePetal.innerColorId??C.colorId))],m=f.length===1?f[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:C=>r(h=>{const d=h.flowers.find(v=>v.id===a.id);if(d)for(const v of d.layers)v.doublePetal&&(v.doublePetal.innerSizeReduction=_e(C,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(In,{palette:c.palette,project:c,selectedColorId:m??"",onChange:C=>r(h=>{const d=h.flowers.find(v=>v.id===a.id);if(d)for(const v of d.layers)v.doublePetal&&(C===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=C)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:kh.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.type=i,i===""&&!f.center.pepCount&&(f.center.pepCount=12),i===""&&!f.center.color2&&(f.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(In,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(In,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Tm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Rm({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:m}){const C=a,h=[...new Set(C.flatMap(g=>g.layers.map(A=>A.petalType)))],d=h.length===1?h[0]:null,v=g=>{r(A=>{for(const b of C){const D=A.flowers.find(j=>j.id===b.id);D&&g(D)}},!0)};return s.jsxs(ar,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[C.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(g=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:g.hex},title:g.name,onClick:()=>v(A=>{for(const b of A.layers)b.colorId=g.id})},g.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:gl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>v(A=>{for(const b of A.layers)b.petalType=g}),children:g},g))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ye,{min:5,max:24,value:C[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:g=>{const A=ni(g);v(b=>{for(const j of b.layers)j.petalCount=g,j.widthScale=A;const D=[...b.layers].sort((j,w)=>w.order-j.order);for(let j=1;j<D.length;j++)D[j].offsetAngle=Jn(D[j-1].petalCount,D[j-1].offsetAngle,D[j].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:C.map(g=>s.jsxs("div",{children:[g.name," (",g.layers.length,")"]},g.id))}),(()=>{const g=C.map(w=>da(c,w.id)),A=C.filter(w=>!da(c,w.id)).map(w=>w.id),b=[...new Set(g.filter(Boolean).map(w=>w.id))],D=A.length===C.length,j=b.length===1&&g.every(w=>w!=null);return s.jsxs(s.Fragment,{children:[D&&C.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(C.map(w=>w.id)),children:""}),j&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&A.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],A),children:[" (+",A.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(b,A),children:[" (",b.length,"",A.length>0?` +${A.length}`:"",")"]})]})})()]})}function km({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:o,onUngroupFlowers:f}){const m=i.find(g=>g.id===o);if(!m)return null;const C=a,h=[...new Set(C.flatMap(g=>g.layers.map(A=>A.petalType)))],d=h.length===1?h[0]:null,v=g=>{r(A=>{for(const b of C){const D=A.flowers.find(j=>j.id===b.id);D&&g(D)}},!0)};return s.jsxs(ar,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:m.name,onChange:g=>r(A=>{const b=(A.groups??[]).find(D=>D.id===m.id);b&&(b.name=g.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[C.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(g=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:g.hex},title:g.name,onClick:()=>v(A=>{for(const b of A.layers)b.colorId=g.id})},g.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:gl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>v(A=>{for(const b of A.layers)b.petalType=g}),children:g},g))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ye,{min:5,max:24,value:C[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:g=>{const A=ni(g);v(b=>{for(const j of b.layers)j.petalCount=g,j.widthScale=A;const D=[...b.layers].sort((j,w)=>w.order-j.order);for(let j=1;j<D.length;j++)D[j].offsetAngle=Jn(D[j-1].petalCount,D[j-1].offsetAngle,D[j].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:C.map(g=>s.jsxs("div",{children:[g.name," (",g.layers.length,")"]},g.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(m.id),children:""})]})}function Gm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);C&&(C.name=o.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(o=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);C&&(C.petalType=o)}),children:o},o))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:5,max:24,value:i.petalCount,onChange:o=>{r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);if(C){C.petalCount=o,C.widthScale=ni(o);const h=[...m.layers].sort((d,v)=>v.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=Jn(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ye,{min:1,max:200,step:.5,value:Math.round(Fi(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);C&&(C.radius=_e(Ah(o,C.scale??1,m.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ye,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:o=>r(f=>{const m=f.flowers.find(g=>g.id===a.id);if(!m)return;const C=m.layers.find(g=>g.id===i.id);if(!C)return;const h=m.fabricSquareSize??f.fabricSquareSize;C.scale=_e(Math.round(o/h*100)/100,.3,3);const d=[...m.layers].sort((g,A)=>g.order-A.order),v=d.findIndex(g=>g.id===C.id);if(v>=0)for(let g=v-1;g>=0;g--){const A=d[g],b=d[g+1],j=Ot(h).length*(b.scale??1)/3;A.radius=Math.round((b.radius+j)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);C&&(C.scale=o)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);C&&(C.widthScale=o)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{value:Number(i.offsetAngle??0).toFixed(1),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);C&&(C.offsetAngle=o)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(In,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);C&&(C.colorId=o)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);if(C)if(o.target.checked){const h=C._doublePetalCache;C.doublePetal=h??{innerSizeReduction:2},delete C._doublePetalCache}else C.doublePetal&&(C._doublePetalCache={...C.doublePetal}),delete C.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);C?.doublePetal&&(C.doublePetal.innerSizeReduction=_e(o,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(In,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);C?.doublePetal&&(o===C.colorId?delete C.doublePetal.innerColorId:C.doublePetal.innerColorId=o)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);C&&(C.visible=o.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const C=m.layers.find(h=>h.id===i.id);C&&(C.locked=o.target.checked)})}),""]})]})]})]})}function Om({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const o=i,f=o.map(w=>{const q=a.layers.find(k=>k.id===w.layerId);return{...w,layer:q}}).filter(w=>w.layer!=null),m=(w,q)=>{const k=a.layers.find(G=>G.id===w);return k?(k?.petalOverrides?.find(G=>G.index===q)??null)?.colorId??k.colorId:null},C=(w,q)=>{const k=a.layers.find(G=>G.id===w);return k?(k?.petalOverrides?.find(G=>G.index===q)??null)?.petalType??k.petalType:null},h=f.map(w=>m(w.layerId,w.index)),d=f.map(w=>C(w.layerId,w.index)),v=h.length>0&&h.every(w=>w===h[0]),A=d.length>0&&d.every(w=>w===d[0])?d[0]:null,b=w=>{r(q=>{const k=q.flowers.find(R=>R.id===a.id);if(k)for(const R of o){const G=k.layers.find(Q=>Q.id===R.layerId);if(!G)continue;G.petalOverrides||(G.petalOverrides=[]);const I=G.petalOverrides.find(Q=>Q.index===R.index);if(I)w.colorId!==void 0&&(w.colorId===G.colorId?delete I.colorId:I.colorId=w.colorId),w.petalType!==void 0&&(w.petalType===G.petalType?delete I.petalType:I.petalType=w.petalType),!I.colorId&&!I.petalType&&(G.petalOverrides=G.petalOverrides.filter(Q=>Q.index!==R.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0));else{const Q={index:R.index};w.colorId!==void 0&&w.colorId!==G.colorId&&(Q.colorId=w.colorId),w.petalType!==void 0&&w.petalType!==G.petalType&&(Q.petalType=w.petalType),(Q.colorId!==void 0||Q.petalType!==void 0)&&G.petalOverrides.push(Q)}}},!0)},D=()=>{r(w=>{const q=w.flowers.find(k=>k.id===a.id);if(q)for(const k of o){const R=q.layers.find(G=>G.id===k.layerId);!R||!R.petalOverrides||(R.petalOverrides=R.petalOverrides.filter(G=>G.index!==k.index),R.petalOverrides.length===0&&(R.petalOverrides=void 0))}},!0)},j=f.some(w=>w.layer?.petalOverrides?.find(q=>q.index===w.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",j&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(w=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${v&&h[0]===w.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:w.hex},title:w.name,"aria-label":`: ${w.name}`,onClick:()=>b({colorId:w.id})},w.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(w=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${A===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:w}),children:w},w))})]}),j&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function Hm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:o}){const f=i?.petalOverrides?.find(g=>g.index===o)??null,m=f?.colorId??i.colorId,C=f?.petalType??i.petalType,h=f!=null,d=g=>{r(A=>{const b=A.flowers.find(w=>w.id===a.id);if(!b)return;const D=b.layers.find(w=>w.id===i.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const j=D.petalOverrides.find(w=>w.index===o);if(j)g.colorId!==void 0&&(j.colorId=g.colorId),g.petalType!==void 0&&(j.petalType=g.petalType),g.innerColorId!==void 0&&(j.innerColorId=g.innerColorId),g.innerSizeReduction!==void 0&&(j.innerSizeReduction=g.innerSizeReduction),j.colorId!==void 0||j.petalType!==void 0||j.innerColorId!==void 0||j.innerSizeReduction!==void 0?(j.colorId===void 0&&delete j.colorId,j.petalType===void 0&&delete j.petalType,j.innerColorId===void 0&&delete j.innerColorId,j.innerSizeReduction===void 0&&delete j.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(q=>q.index!==o),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const w={index:o};g.colorId!==void 0&&(w.colorId=g.colorId),g.petalType!==void 0&&(w.petalType=g.petalType),g.innerColorId!==void 0&&(w.innerColorId=g.innerColorId),g.innerSizeReduction!==void 0&&(w.innerSizeReduction=g.innerSizeReduction),(w.colorId!==void 0||w.petalType!==void 0||w.innerColorId!==void 0||w.innerSizeReduction!==void 0)&&D.petalOverrides.push(w)}},!0)},v=()=>{r(g=>{const A=g.flowers.find(D=>D.id===a.id);if(!A)return;const b=A.layers.find(D=>D.id===i.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(D=>D.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",o+1,h&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(In,{palette:c.palette,project:c,selectedColorId:m,onChange:g=>{g===i.colorId?d({colorId:void 0}):d({colorId:g})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${C===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{g===i.petalType?d({petalType:void 0}):d({petalType:g})},children:g},g))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:g=>r(A=>{const b=A.flowers.find(j=>j.id===a.id);if(!b)return;const D=b.layers.find(j=>j.id===i.id);if(D)if(g.target.checked){const j=D._doublePetalCache;D.doublePetal=j??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const g=i.doublePetal,A=f?.innerSizeReduction??g.innerSizeReduction,b=f?.innerColorId??g.innerColorId??m;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ye,{min:1,max:30,step:1,value:A,onChange:D=>{const j=_e(D,1,30);j===g.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:j})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(In,{palette:c.palette,project:c,selectedColorId:b,size:"sm",onChange:D=>{const j=g.innerColorId??i.colorId;d(D===j?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),h&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:v,children:""})]})]})}function Ym({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const o=a,f=m=>{r(C=>{const h=(C.stencils??[]).find(d=>d.id===o.id);h&&Object.assign(h,m)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:m=>f({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>s.jsx("option",{value:m,children:Jd[m]},m))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:m=>f({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>s.jsx("option",{value:m,children:Wd[m]},m))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:m=>f({locked:m.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Im({project:c,applyUpdate:r,selectedLeaf:a,leafGroups:i,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:m}){const C=a,h=v=>{r(g=>{const A=(g.leaves??[]).find(b=>b.id===C.id);A&&v(A)},!0)},d=U0(c,C.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:C.name,onChange:v=>h(g=>{g.name=v.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(v=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${C.petalType===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(g=>{g.petalType=v}),children:v},v))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(In,{palette:c.palette,project:c,selectedColorId:C.colorId,onChange:v=>h(g=>{g.colorId=v})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ye,{min:3,max:80,step:.5,value:Math.round((C.fabricSquareSize??c.fabricSquareSize)*(C.scale??1)*10)/10,onChange:v=>h(g=>{const A=g.fabricSquareSize??c.fabricSquareSize;g.scale=_e(Math.round(v/A*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:.4,max:2.5,step:.05,value:Number(C.scale??1).toFixed(2),onChange:v=>h(g=>{g.scale=v})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ye,{min:.5,max:1.8,step:.05,value:Number(C.widthScale??1).toFixed(2),onChange:v=>h(g=>{g.widthScale=v})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ye,{value:Number(C.rotation).toFixed(1),onChange:v=>h(g=>{g.rotation=v})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!C.doublePetal,onChange:v=>h(g=>{if(v.target.checked){const A=g._doublePetalCache;g.doublePetal=A??{innerSizeReduction:2},delete g._doublePetalCache}else g.doublePetal&&(g._doublePetalCache={...g.doublePetal}),delete g.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),C.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{min:1,max:30,step:1,value:C.doublePetal.innerSizeReduction,onChange:v=>h(g=>{g.doublePetal&&(g.doublePetal.innerSizeReduction=_e(v,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(In,{palette:c.palette,project:c,selectedColorId:C.doublePetal.innerColorId??C.colorId,onChange:v=>h(g=>{g.doublePetal&&(v===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=v)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!C.visible,onChange:v=>h(g=>{g.visible=v.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!C.locked,onChange:v=>h(g=>{g.locked=v.target.checked})}),""]})]}),d?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(C.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:v=>{v.target.value&&f(C.id,v.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(C.id),children:""})]})]})}function Um({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i}){const o=(c.leaves??[]).filter(f=>a.includes(f.id));return o.length===0?null:s.jsxs(ar,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[o.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(In,{palette:c.palette,project:c,selectedColorId:"",onChange:f=>r(m=>{for(const C of a){const h=(m.leaves??[]).find(d=>d.id===C);h&&(h.colorId=f)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:gl.map(f=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(m=>{for(const C of a){const h=(m.leaves??[]).find(d=>d.id===C);h&&(h.petalType=f)}},!0),children:f},f))}),a.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""})]})}function Zm({project:c,applyUpdate:r,selectedLeafGroup:a,onUngroupLeaves:i}){const o=a,f=(c.leaves??[]).filter(m=>o.leafIds.includes(m.id));return s.jsxs(ar,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:m=>r(C=>{const h=(C.leafGroups??[]).find(d=>d.id===o.id);h&&(h.name=m.target.value)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ye,{value:Number(o.rotation).toFixed(1),onChange:m=>r(C=>{const h=(C.leafGroups??[]).find(d=>d.id===o.id);h&&(h.rotation=m)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:m=>r(C=>{const h=(C.leafGroups??[]).find(d=>d.id===o.id);h&&(m.target.value?h.linkedFlowerGroupId=m.target.value:delete h.linkedFlowerGroupId)},!0),children:[s.jsx("option",{value:"",children:""}),(c.groups??[]).map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]})]}),s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),s.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(m=>s.jsx("div",{children:m.name},m.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>i(o.id),children:""})]})}function Km(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:o,selectedFlowers:f,selectedLayer:m,selectedPetalIndex:C,selectedPetals:h}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:d=>i(v=>v.title=d.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{value:r.fabricSquareSize,min:5,max:60,onChange:d=>i(v=>v.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ye,{value:r.baseDiameter,min:10,max:100,onChange:d=>i(v=>v.baseDiameter=d),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Zl(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",Zl(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:d=>i(v=>v.notes=d.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(d=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&o&&s.jsx(qm,{project:r,applyUpdate:i,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&s.jsx(Rm,{project:r,applyUpdate:i,selectedFlowers:f,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&f.length>0&&s.jsx(km,{project:r,applyUpdate:i,selectedFlowers:f,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers}),a.kind==="layer"&&o&&m&&s.jsx(Gm,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:m}),a.kind==="petals"&&o&&h.length>0&&s.jsx(Om,{project:r,applyUpdate:i,selectedFlower:o,selectedPetals:h}),a.kind==="petal"&&o&&m&&C!==null&&s.jsx(Hm,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:m,selectedPetalIndex:C}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(Ym,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(Im,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,leafGroups:c.leafGroups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Um,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves}),a.kind==="leafGroup"&&c.selectedLeafGroup&&s.jsx(Zm,{project:r,applyUpdate:i,selectedLeafGroup:c.selectedLeafGroup,onUngroupLeaves:c.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Xm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Zl(c.baseDiameter,c.fabricSquareSize,r).diameter:er(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function Vm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Mh(c.flowerDiameter,c.baseDiameter,r):wh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function Jm({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:o}){const f=h=>{a(d=>{const v={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(v.baseDiameter=30,v.fabricSquareSize=20,v.layerCount=4,v.petalCount=12):(v.fabricSquareSize=20,v.layerCount=1,v.petalCount=6)),v.flowerDiameter=Xm(v),v})},m=h=>{a(d=>{const v={...d,flowerDiameter:h};return v.fabricSquareSize=Vm(v),v})},C=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&C.push("");const h=zh(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>h&&C.push(`${h}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Ud.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:h}),children:h},h))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:h=>f({fabricSquareSize:h})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:h=>f({layerCount:h})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:h=>f({baseDiameter:h})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:m})]})]}),C.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:C.map((h,d)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:gl.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ye,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:h=>f({sizeStepMm:h})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function mn(c,r){c=c-314;const a=G0();let i=a[c];if(mn.OhRHzQ===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};mn.cRNFKZ=o,mn.TUtXWy={},mn.OhRHzQ=!0}const f=a[0],m=c+f,C=mn.TUtXWy[m];if(C)i=C;else{const h=function(d){this.YYvDeJ=d,this.HseHsi=[1,0,0],this.SQosRb=function(){return"newState"},this.nXkgEi="\\w+ *\\(\\) *{\\w+ *",this.ICLAmJ=`['|"].+['|"];? *}`};h.prototype.xlHDIL=function(){const d=new RegExp(this.nXkgEi+this.ICLAmJ),v=d.test(this.SQosRb.toString())?--this.HseHsi[1]:--this.HseHsi[0];return this.rmwnak(v)},h.prototype.rmwnak=function(d){return~d?this.qfPtZh(this.YYvDeJ):d},h.prototype.qfPtZh=function(d){for(let v=0,g=this.HseHsi.length;v<g;v++)this.HseHsi.push(Math.round(Math.random())),g=this.HseHsi.length;return d(this.HseHsi[0])},new h(mn).xlHDIL(),i=mn.cRNFKZ(i),mn.TUtXWy[m]=i}return i}(function(c,r){const a=mn,i=c();for(;;)try{if(-parseInt(a(365))/1+parseInt(a(350))/2+parseInt(a(347))/3*(parseInt(a(374))/4)+parseInt(a(361))/5*(-parseInt(a(338))/6)+-parseInt(a(375))/7+parseInt(a(331))/8+-parseInt(a(359))/9*(-parseInt(a(360))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,279935);const Wm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),js=Wm(void 0,function(){const c=mn,r={SoUOx:"(((.+)+)+)+$"};return js[c(352)]().search("(((.+)+)+)+$").toString()[c(372)](js)[c(367)](r.SoUOx)});js();function G0(){const c=["uuz0AMC","mJi0nZC0mwzhz0vYsa","mJblC2HcD1i","nw9iwvbdBG","Cg9PBNrLCM1VDMu","twHzqvm","zgT1C2O","mJq1odK5DgPhEKjt","uenWtvm","C2vHCMnO","BwLU","sNjOq3i","Bwf0y2HnzwrPyq","BM9Uzq","y29UC3rYDwn0B3i","tgPOD3i","mJa4zgXRA0TA","mZC1nZi0m2zRD3LYzW","y3vYCMvUDa","A0Ppzfq","tgzVtKq","t2H6tuS","uu1JCMC","Bwf4","BMTMvxa","C2v0sxrLBq","y2HHBMDL","sfD4D04","B2ngzhy","thvAt0W","t1HeBei","BMTMsK4","DgjQy2i","C3rYAw5NAwz5","twThuvK","ywrKrxzLBNrmAxn0zw5LCG","C2LKzq","mZi0mZa5nMfXzNrbBW","CMLNAhq","CMvTB3zLrxzLBNrmAxn0zw5LCG","DxnLCLnLBgvJDa","Bwf0y2HLCW","B1HdzfO","BwD1su8","mJuXnJy4ofHYs2jlDq","y29SlxjLC2L6zq","u0rQwxq","sg1iA0O","Dw5KzwzPBMvK","vu5fz3u","BNvTyMvY","yufWChy","kg1PBI13Awr0AdOGnZy4ChGP","nZm4ovfNtuTjDa","s0Pzueu","BgvMDa","odK4mtqWs1vPuKTl","C3rHCNrxAwr0Ahm","Dg9tDhjPBMC","ruTdD1O","yM9KEq","y2XPzw50wa","CM91BMq","C3r5Bgu"];return G0=function(){return c},G0()}const Pd="tsumami-panel-widths",Fd={left:25,right:25},ws=15,Ms=15,nr=30;function Qm(){const c=mn,r={JrhCr:function(a,i){return a+i},oXCdZ:function(a,i){return a-i},ErSzr:c(344),UNEgu:function(a,i){return a>=i},QFtjg:function(a,i){return a>=i},MkGQY:function(a,i){return a-i}};try{{const a=localStorage.getItem(Pd);if(a){const i=JSON.parse(a);if(typeof i[c(349)]===r.ErSzr&&typeof i[c(332)]===c(344)&&r[c(343)](i.left,ws)&&i.right>=Ms&&r[c(358)](r.MkGQY(r[c(328)](100,i[c(349)]),i.right),nr))return i}}}catch{}return Fd}function Od(c,r){const a=mn,i={ocFdv:function(C,h){return C-h},SDjYt:function(C,h){return C<h},eOKhv:function(C,h){return C!==h},HRmUR:a(337),HWxwN:function(C,h){return C/h},PCpMS:function(C,h){return C/h}};let o=Math.max(ws,c),f=Math[a(317)](Ms,r);const m=i[a(322)](100-o,f);if(i[a(340)](m,nr))if(i.eOKhv(a(318),i.HRmUR)){const C=nr-m;o-=i[a(321)](C,2),f-=C/2,o=Math.max(ws,o),f=Math[a(317)](Ms,f)}else _0x34e74f.setItem(_0x144a06,_0x211be6[a(327)](_0xd7aa6c));return{left:i[a(366)](Math[a(356)](o*100),100),right:Math.round(f*100)/100}}function Pm(){const c=mn,r={dkusj:c(346),OXDlB:"change",aAppv:function(D,j){return D===j},LfoND:function(D,j){return D-j},OhzMK:c(349),NjSJD:function(D,j){return D+j},nkfJN:function(D,j){return D-j},LuZOL:function(D,j){return D(j)},TsZQB:function(D,j){return D-j},KJYPE:function(D,j){return D-j},Ljhwr:"pointermove",yToAk:"pointerup",JKsKC:c(339),tbjcb:c(371),MhYAS:function(D,j){return D!==j},CEzUg:"EVniy",uoryg:function(D,j){return D(j)},QMcrg:function(D,j){return D(j)},upmTO:function(D,j){return D(j)},HmHkJ:function(D,j,w){return D(j,w)}},[a,i]=P.useState(Qm),o=r[c(316)](P.useRef,null),f=r.QMcrg(P.useRef,null),[m,C]=P.useState(!1),[h,d]=P.useState(()=>typeof window!==c(342)?window[c(370)]("(min-width: 768px)")[c(335)]:!0);P.useEffect(()=>{const D=c,j=window.matchMedia(r[D(364)]),w=q=>d(q[D(335)]);return j[D(329)](r[D(324)],w),()=>j[D(333)](D(320),w)},[]),P.useEffect(()=>{const D=c;localStorage[D(319)](Pd,JSON[D(327)](a))},[a]);const v=P.useRef(a);P.useEffect(()=>{v.current=a},[a]);const g=P.useCallback((D,j)=>{const w=c;j.preventDefault();const q=o.current;if(!q)return;f[w(376)]={side:D,startX:j[w(355)],startWidths:{...v[w(376)]}},r.LuZOL(C,!0),document[w(354)][w(357)].cursor=r.JKsKC,document[w(354)][w(357)][w(334)]=r[w(326)];const k=G=>{const I=w,Q=f[I(376)];if(!Q)return;const K=q.getBoundingClientRect().width;if(r[I(345)](K,0))return;const J=r[I(314)](G.clientX,Q.startX),ee=J/K*100;if(Q[I(330)]===r[I(315)]){const F=r.NjSJD(Q[I(351)].left,ee),V=r[I(325)](100,Q[I(351)][I(332)])-nr;r[I(323)](i,Od(Math[I(368)](F,V),Q.startWidths[I(332)]))}else{const F=r.TsZQB(Q.startWidths.right,ee),V=r[I(348)](100-Q[I(351)][I(349)],nr);r[I(323)](i,Od(Q.startWidths[I(349)],Math.min(F,V)))}},R=()=>{const G=w;f[G(376)]=null,C(!1),document.body.style.cursor="",document[G(354)].style.userSelect="",window.removeEventListener(r[G(373)],k),window[G(333)](r.yToAk,R)};window[w(329)](r.Ljhwr,k),window.addEventListener(r.yToAk,R),A[w(376)]=()=>{const G=w;window.removeEventListener(G(362),k),window.removeEventListener("pointerup",R),f.current=null,C(!1),document.body.style.cursor="",document[G(354)].style[G(334)]=""}},[]),A=r.upmTO(P.useRef,null);r[c(341)](P.useEffect,()=>{const D=c;if(r[D(363)](r.CEzUg,D(353)))return()=>{A.current?.()};{const j=_0x1e67f4-_0x456c60;_0x5121db-=QwrmTN.kJOdT(j,2),_0xae8bce-=QwrmTN[D(377)](j,2),_0x44523d=_0x2e1a04.max(_0x7de9e8,_0xe3cbfb),_0x3aad3d=_0x184916.max(_0x2bcd54,_0x583079)}},[]);const b=r[c(341)](P.useCallback,()=>{r.uoryg(i,Fd)},[]);return{widths:a,containerRef:o,onDividerPointerDown:g,onDividerDoubleClick:b,isDragging:m,isDesktop:h}}function Hd({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>r(c,o),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(c,r){const a=kt,i=c();for(;;)try{if(-parseInt(a(540))/1+parseInt(a(615))/2*(-parseInt(a(521))/3)+parseInt(a(550))/4*(-parseInt(a(616))/5)+parseInt(a(501))/6+parseInt(a(532))/7+-parseInt(a(541))/8*(parseInt(a(504))/9)+parseInt(a(610))/10*(parseInt(a(586))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,160140);const Fm=(function(){let c=!0;return function(r,a){const i=kt,o={NCnCK:function(m,C){return m-C},xVbTv:i(622)},f=c?function(){const m=i,C={oQRIS:function(h,d){return o[kt(500)](h,d)}};if(o.xVbTv!==m(503)){if(a){const h=a.apply(r,arguments);return a=null,h}}else{const h=_0x51bbae[C.oQRIS(_0x4c2b4e,1)],d=_0x270b71[_0x2a574b];d.offsetAngle=_0x41b96c(h[m(614)],h.offsetAngle,d.petalCount)}}:function(){};return c=!1,f}})(),zs=Fm(void 0,function(){const c=kt,r={BaFIP:"(((.+)+)+)+$"};return zs[c(538)]().search(r[c(513)]).toString()[c(495)](zs)[c(483)](r[c(513)])});function kt(c,r){c=c-480;const a=O0();let i=a[c];if(kt.XNPpoY===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};kt.DGBxWu=o,kt.ygOzQY={},kt.XNPpoY=!0}const f=a[0],m=c+f,C=kt.ygOzQY[m];if(C)i=C;else{const h=function(d){this.FDOQYs=d,this.AtXSqj=[1,0,0],this.CquGWg=function(){return"newState"},this.YXqXcK="\\w+ *\\(\\) *{\\w+ *",this.xCTWZB=`['|"].+['|"];? *}`};h.prototype.AkjQJb=function(){const d=new RegExp(this.YXqXcK+this.xCTWZB),v=d.test(this.CquGWg.toString())?--this.AtXSqj[1]:--this.AtXSqj[0];return this.TetvkI(v)},h.prototype.TetvkI=function(d){return~d?this.JxGGGZ(this.FDOQYs):d},h.prototype.JxGGGZ=function(d){for(let v=0,g=this.AtXSqj.length;v<g;v++)this.AtXSqj.push(Math.round(Math.random())),g=this.AtXSqj.length;return d(this.AtXSqj[0])},new h(kt).AkjQJb(),i=kt.DGBxWu(i),kt.ygOzQY[m]=i}return i}function O0(){const c=["Bgf5zxjZ","EfvkDxa","ugnotg4","y29Sx2DYzwvU","re5qzxO","C3rLBMnPBhm","vvPqEKq","tuz2wuW","Cgv0ywXuExbL","BgvHDMvZ","B2zMC2v0qw5NBgu","AKnIrLa","ChjVAMvJDa","CMfKAxvZ","AvLOr20","C2vHCMnO","wMHhD3a","BMfTzq","A0resgW","q1jPuuK","wMv4C1e","zeTxrK8","BgvHzKLKCW","ue9iDLK","wgXyt0G","BgvHzKDYB3vWswq","sw9pBKe","y29UC3rYDwn0B3i","rurwCxi","uwnPEgy","C3rLBMnPBa","Cw9lruC","tKnUq0S","mtC3nti5ofb6zgLPEq","ruXwt3i","y2DXyva","ntrgAe5Ksfy","t1fKqK0","ChvZAa","ExjZDxi","zMXVD2vYrgLHBwv0zxi","r2DluMG","uvLvEwe","BgvHzKDYB3vWCW","tevYt00","qMfgsva","A2LUza","zgLHBwv0zxi","Bwf4","vvjsCMy","rhnir1m","AhrICee","BgvUz3rO","mZKZmdu3B3vcwLfm","C2LKzq","zKnQtNq","BfbTswq","Cgv0ywW","zMfICMLJu3f1yxjLu2L6zq","zMXVD2vYswrZ","t01rzvy","BgvHzG","wMPNwve","Bgf5","mtKYmJu5mM1oAgPrCa","CwL3B0O","uMzAt0i","BxvTrNO","Bgf5zxjjza","vwvktLq","Dg9tDhjPBMC","se5ewMm","mtK0nZmYzNLJuLny","mZm3ntjjChHLA3y","ExfTvuG","vgvtr2i","zMLSDgvY","sxbABvK","C29YDa","CgXHy2vTzw50tw9Kzq","yKrhyMy","D29vvfy","ntK2mdq4shDdsvjZ","AvzfBwC","uvnssMK","B3jKzxi","zM9YrwfJAa","Ae5fvhG","q3rZvMK","zMXVD2vY","zMXVD2vYCW","AMjxsgq","C3rS","C2nHBgu","uLzitLO","z3jVDxbZ","B2zKv2y","BuXWEuC","BgvHzKDYB3vW","BgvHzKLK","swfluK0","CM91BMq","z0LJzwq","44kW44oR44o844oxia","wxPwCNm","BwfW","yw10sKC","zKLsCMG","Aw5KzxG","DNr4AKK","yMvQsLa","v1zOAgO","EwHADwG","v3niquq","EfPuDMm","zgTwthy","BKviANe","5lI444gK44g+44g/","mtfdCevyteu","rxr3CMi","y2rArw0","zw9Kshq","D0TOs2i","vwPRz2q","A3D5D28","yMfZzurPyw1LDgvY","sMfjs24","zuPoB1q","s3LxCvy","sNPes0m","uhPPDLG","Dw5PzM9YBq","sNn6ugS","AvbwsuK","Eevlrw4","DuTJEM0","C3nZuNG","zMXVD2vYswq","v0PcEhq","zMLUza","r1Hxs2m","C2XPy2u","odK2nZGWEM5zuxvV","se1hyxO","Aw5JBhvKzxm","EMjnC1u","Cgv0ywXdB3vUDa","mLPpwu10zW","nuHAA0jgva","rujeANa"];return O0=function(){return c},O0()}zs();function $m({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:o,setExpandedGroups:f,zoom:m,pan:C,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:v,ungroupLeaves:g}){const A=kt,b={EDVqr:function(p,S){return p(S)},nbMfP:function(p,S){return p*S},mumFz:function(p,S){return p===S},eodHt:function(p,S){return p/S},bejJP:function(p,S){return p/S},cdZEm:function(p,S){return p+S},gIced:function(p,S){return p-S},PzivX:function(p,S){return p>S},NAILv:function(p,S){return p/S},RVKiV:function(p,S){return p*S},oQCHl:function(p,S){return p*S},TeSGb:function(p,S){return p/S},LJqQr:function(p,S){return p*S},zfdaq:function(p,S){return p+S},PcNLn:function(p,S){return p||S},hNETx:"RJwBa",POHvY:function(p,S,N){return p(S,N)},uKczm:function(p,S){return p(S)},SgTxB:function(p,S){return p<=S},eJNoT:function(p,S,N){return p(S,N)},YzVrs:A(557),vYSWF:function(p,S,N){return p(S,N)},PJKgV:function(p,S,N,_){return p(S,N,_)},GLjRs:function(p,S,N,_,M){return p(S,N,_,M)},UZPzD:function(p,S,N,_){return p(S,N,_)},zBGsn:function(p,S){return p<S},lyzaN:A(568),URRrf:function(p,S){return p!==S},ELVOr:A(587),vtxjI:function(p,S,N,_){return p(S,N,_)},RVHNZ:function(p,S){return p<S},yqmUH:function(p,S){return p>=S},SUgRz:function(p,S){return p/S},jbWHd:function(p,S,N,_){return p(S,N,_)},RfZOB:A(531),kDDHl:A(585),xEKEn:function(p,S){return p(S)},LErOM:"layer",IpZmY:function(p,S){return p===S},ZexsQ:"Ezpjr",LoaXX:A(565),qiwoJ:function(p,S){return p>S},MyENP:function(p,S,N,_){return p(S,N,_)},DsHGS:function(p,S){return p===S},IoOnA:function(p,S,N,_){return p(S,N,_)},CtsVi:A(539),xZTvc:function(p,S){return p===S},JszPk:function(p,S,N,_){return p(S,N,_)},yhZuh:function(p,S){return p<S},dkVLv:A(529),HlaHl:function(p,S){return p(S)},QSRJi:A(480),UeJNT:"flowers",QYUya:function(p,S){return p===S},OQdBM:function(p,S){return p(S)},OMQeV:"petals",guCVj:function(p,S){return p(S)},sssRx:"Jcrol",IrYcy:function(p,S){return p(S)},mUnQk:"grp",jXXUp:function(p,S){return p+S},Qcixf:"bRzFC",pFjGC:"group",KyWqV:A(611),nEHjq:function(p,S,N){return p(S,N)},AaacN:function(p,S){return p(S)},uvXcz:function(p,S){return p/S},GgKRh:function(p,S){return p/S},kwywo:function(p,S){return p/S},woUTV:function(p,S){return p+S},GXWKc:"back",yrsur:function(p,S){return p(S)},WVhhj:A(560),amtJG:function(p,S){return p===S},TMszH:A(498),bDGbf:function(p,S){return p===S},Ujkgd:function(p,S){return p(S)},XlXOH:A(581),JaIKn:A(613),fIRrh:function(p,S){return p(S)},ofdWf:function(p,S){return p===S},vtyoa:function(p,S){return p(S)},lPmId:A(525),dKWFO:function(p,S){return p===S},GvdHU:function(p,S){return p===S},ZmPBr:function(p,S){return p(S)},urdPq:function(p,S){return p(S)},eBvBy:function(p,S,N){return p(S,N)}},D=p=>{const S=A,N=[...p[S(618)]][S(546)]((O,z)=>O[S(553)]-z.order),_=N[0];if(!_)return 28;const M=p.fabricSquareSize??c[S(526)],{length:L}=b.EDVqr(Ot,M),E=b.nbMfP(L,_.scale??1);let Z;if(b.mumFz(p[S(547)],""))Z=b[S(589)](E,3);else{const z=b[S(578)](b.nbMfP(70,Math.PI),180),B=b[S(588)](N[S(520)],1),Y=b[S(570)](B,1),U=b[S(598)](B,1)?b.NAILv(Y,b[S(570)](B,1))*z:0;Z=b.RVKiV(b.oQCHl(E,b[S(543)](30,100)),Math.cos(U))}return Math.round(b.LJqQr(b.zfdaq(_[S(481)]??28,Z),10))/10},j=p=>{const S=A;b[S(535)]("orxrF",b[S(555)])?_0x4592ca({kind:"petal",flowerId:_0x38d81c,layerId:_0x20d503[0][S(536)],index:_0x2091c0[0].index}):(b[S(491)](r,N=>{const _=S;if(N.flowers=(N.flowers||[])[_(544)](M=>M.id!==p),N[_(563)]){for(const M of N[_(563)])M.flowerIds=M[_(527)][_(544)](L=>L!==p);N[_(563)]=N[_(563)].filter(M=>M.flowerIds.length>0)}},!0),i({kind:"project"}),b[S(603)](o,N=>{const _=S,M={...b[_(620)](N,{})};return delete M[p],M}))},w=(p,S)=>{const N=A,_=c.flowers.find(M=>M.id===p);if(_&&b.SgTxB((_[N(618)]||[])[N(520)],1)){b[N(496)](j,p);return}b[N(595)](r,M=>{const L=N,E=(M.flowers||[])[L(607)](Z=>Z.id===p);E&&(E.layers=(E[L(618)]||[])[L(544)](Z=>Z.id!==S),E[L(618)][L(609)]().sort((Z,O)=>Z.order-O[L(553)])[L(554)]((Z,O)=>Z.order=O+1))},!0),b[N(603)](i,{kind:b.YzVrs,flowerId:p})},q=p=>{const S=A,N={mxETB:function(_,M){return b.uKczm(_,M)},JzDKC:b.YzVrs};if(b[S(517)](b[S(502)],"afCdW")){const _=c.flowers.find(U=>U.id===p);if(!_)return;const M=[..._.layers][S(546)]((U,ne)=>U.order-ne[S(553)]),L=M[0],E=b[S(577)](_e,L?.petalCount??6,5,24),Z=M[S(573)](U=>U[S(561)]??1),O=b[S(562)](Z.length,2)||Z.every(U=>Math.abs(U-Z[0])<.001);let z=L?.scale??1;if(!O&&b[S(542)](M[S(520)],2)){const U=M[M.length-1],ne=(U.order??1)-(L.order??1);if(ne>0){const se=b.SUgRz((L[S(561)]??1)-(U.scale??1),ne);z=b.jbWHd(_e,(L[S(561)]??1)+se,.3,3)}}const B=D(_),Y={id:Gt(b[S(534)]),name:"Outer+",order:1,petalType:L?.[S(626)]??b[S(486)],petalCount:E,radius:B,scale:z,widthScale:b[S(602)](ni,E),offsetAngle:L?.[S(628)]??0,colorId:L?.colorId??c.palette?.[0]?.id??S(621),visible:!0,locked:!1};L&&(Y[S(628)]=Jn(L[S(614)],L[S(628)]??0,E)),b.vYSWF(r,U=>{const ne=S,se={iPVII:function(Me,Ae,Te){return b.vYSWF(Me,Ae,Te)},kXpzy:function(Me,Ae){return Me-Ae},xUJup:function(Me,Ae,Te,Xe){return b.PJKgV(Me,Ae,Te,Xe)}},oe=U[ne(558)].find(Me=>Me.id===p);if(!oe)return;oe[ne(618)][ne(554)](Me=>Me.order+=1),oe[ne(618)].unshift(Y);const fe=Math[ne(569)](Fi(Y[ne(481)],Y[ne(561)],oe[ne(526)]??U[ne(526)])),ge=oe.fabricSquareSize??U.fabricSquareSize,we=oe.placementMode===""?b.GLjRs(er,ge,oe.layers[ne(520)],ne(599),0):b.UZPzD(Zl,oe.baseDiameter??U[ne(593)],ge,{layerCount:oe.layers[ne(520)]}).diameter;oe.flowerDiameter=Math[ne(516)](oe.flowerDiameter||we,fe);const me=[...oe.layers].sort((Me,Ae)=>Me.order-Ae.order),Re=me.reverse();for(let Me=1;b.zBGsn(Me,Re[ne(520)]);Me++)if(b.lyzaN===ne(568)){const Ae=Re[Me-1],Te=Re[Me];Te[ne(628)]=Jn(Ae[ne(614)],Ae.offsetAngle,Te.petalCount)}else{se[ne(601)](_0x301392,_0x102d68,_0x41ea1b);for(const Xe of _0x2796c3){const lt=_0x3bfc43[ne(618)][ne(607)](st=>st.id===Xe.id);lt&&(lt[ne(481)]=Xe[ne(481)])}const Ae=_0x76c9a8[0];_0x19ff93[ne(508)]=_0x1e2b06.round(_0xc1c097(Ae[ne(481)],Ae[ne(561)]??1,_0x87b5a));const Te=[..._0x1b1364].reverse();for(let Xe=1;Xe<Te[ne(520)];Xe++){const lt=Te[se.kXpzy(Xe,1)],st=Te[Xe];st.offsetAngle=se[ne(619)](_0x180b84,lt.petalCount,lt.offsetAngle,st[ne(614)])}}},!0),b[S(496)](i,{kind:b.LErOM,flowerId:p,layerId:Y.id}),o(U=>({...U,[p]:!0}))}else N.mxETB(_0x25fe65,{kind:N[S(597)],flowerId:_0x4ffc6d})},k=p=>{const S=A,N=c[S(558)][S(607)](L=>L.id===p);if(!N||!N[S(618)]||N.layers.length===0)return;if(N[S(618)].length<=1){b[S(603)](j,p);return}const _=[...N.layers][S(546)]((L,E)=>L.order-E[S(553)]),M=_[0];M&&(r(L=>{const E=S,Z={ZhGwp:function(O,z){return O===z}};if(b[E(545)](b[E(488)],b.LoaXX)){const O=Z[E(484)](_0x56b925[E(547)],"")?_0x105655(_0x55fdde,_0x385ec6[E(618)][E(520)],E(599),0):_0x39d3f5(_0x2c4f12.baseDiameter??_0x5a62db.baseDiameter,_0xbe6b6b,{layerCount:_0x17e537[E(618)][E(520)]}).diameter;_0x4e195c(_0x179373,_0x1fcb1d,_0x2e2967[E(508)]||O);for(const z of _0x680fc){const B=_0xcdc94f[E(618)].find(Y=>Y.id===z.id);B&&(B.radius=z[E(481)],B.scale=z.scale)}}else{const O=L[E(558)][E(607)](Y=>Y.id===p);if(!O)return;O[E(618)]=O.layers.filter(Y=>Y.id!==M.id),O[E(618)][E(609)]()[E(546)]((Y,U)=>Y[E(553)]-U[E(553)])[E(554)]((Y,U)=>Y.order=U+1);const z=[...O.layers].sort((Y,U)=>Y.order-U[E(553)]),B=O[E(526)]??L.fabricSquareSize;if(b[E(533)](z[E(520)],0)){xs(z,B);for(const ne of z){const se=O.layers.find(oe=>oe.id===ne.id);se&&(se[E(481)]=ne[E(481)])}const Y=z[0];O[E(508)]=Math[E(569)](b.MyENP(Fi,Y.radius,Y[E(561)]??1,B));const U=[...z].reverse();for(let ne=1;ne<U.length;ne++){const se=U[ne-1],oe=U[ne];oe[E(628)]=b[E(624)](Jn,se.petalCount,se.offsetAngle,oe.petalCount)}}}},!0),b[S(535)](a[S(514)],"layer")&&a[S(536)]===M.id?i({kind:S(557),flowerId:p}):b[S(545)](a[S(514)],S(525))&&b.DsHGS(a[S(536)],M.id)&&i({kind:b.YzVrs,flowerId:p}))},R=()=>{const p=A,S={gizRo:"aqbrw",fCjNt:function(N,_){return N!==_},QYrGY:"GfGqq",cPFHI:"hLWsK"};if(a.kind!==p(480)){if(a[p(514)]===b[p(583)]){v(a[p(567)]);return}if(a.kind===p(566)){g(a[p(493)]);return}if(a[p(514)]==="leaves"){const N=a.leafIds;r(_=>{const M=p,L={hxQKs:function(E,Z){return E(Z)}};if(_[M(627)]=(_[M(627)]??[]).filter(E=>!N.includes(E.id)),_[M(511)])if(M(487)===S.gizRo){if(!_0x43c859.groups)return;_0x5478fa.groups=_0x222d4c[M(563)].filter(E=>E.id!==_0x4e28fd)}else{for(const E of _.leafGroups)if(S[M(523)](M(606),M(499)))E[M(490)]=E.leafIds.filter(Z=>!N[M(612)](Z));else{const Z={layerId:_0x263668[M(536)],index:_0x1e7b36[M(576)]},O={layerId:_0x210cc6,index:_0x21bc7a};if(Z.layerId+":"+Z.index===_0x2a6e95)return;L.hxQKs(_0x3780bf,{kind:"petals",flowerId:_0x469b71,petals:[Z,O]})}_[M(511)]=_.leafGroups.filter(E=>E.leafIds.length>0)}},!0),b.HlaHl(i,{kind:b.QSRJi});return}if(a[p(514)]===b.UeJNT){const N=a[p(527)];r(_=>{const M=p;if(_[M(558)]=_[M(558)][M(544)](L=>!N[M(612)](L.id)),_.groups){for(const L of _.groups)L[M(527)]=L[M(527)].filter(E=>!N[M(612)](E));_.groups=_.groups.filter(L=>L.flowerIds[M(520)]>0)}},!0),i({kind:b[p(552)]});return}if(b[p(510)](a.kind,"group")){r(N=>{const _=p;if(S.QYrGY!==S.QYrGY)_0x54e56e[_(527)][_(612)](_0x3cd621)||_0x4abdf1.flowerIds.push(_0x183931);else{if(!N.groups)return;N[_(563)]=N[_(563)].filter(M=>M.id!==a.groupId)}},!0),b[p(505)](i,{kind:b[p(552)]});return}if(a[p(514)]===p(498)){b.POHvY(r,N=>{N.stencils=(N.stencils??[]).filter(_=>_.id!==a.stencilId)},!0),i({kind:"project"});return}if(b[p(518)](a.kind,b[p(528)])){b.guCVj(i,{kind:p(557),flowerId:a.flowerId});return}if(a.kind===b[p(572)])if(b[p(604)]!=="ICJxx"){r(N=>{const _=p;if(S.fCjNt(S.cPFHI,_(590))){if(N.flowers=N.flowers[_(544)](M=>M.id!==a.flowerId),N.groups){for(const M of N[_(563)])M.flowerIds=M.flowerIds.filter(L=>L!==a[_(605)]);N[_(563)]=N.groups[_(544)](M=>M.flowerIds[_(520)]>0)}}else{EYmNSH[_(629)](_0x1d4c40,M=>{const L=_;M.stencils=(M[L(623)]??[]).filter(E=>E.id!==_0x3ea5bb.stencilId)},!0),_0x5973d5({kind:EYmNSH[_(625)]});return}},!0),i({kind:b.QSRJi});return}else{const N=(_0xa3c288[p(558)]||[])[p(607)](_=>_.id===_0x100e2d);if(!N)return;N.layers=(N.layers||[]).filter(_=>_.id!==_0x2b6a68),N.layers.slice()[p(546)]((_,M)=>_[p(553)]-M.order).forEach((_,M)=>_[p(553)]=M+1)}if(a[p(514)]===b[p(512)]||a[p(514)]===p(525)){const N=c.flowers.find(M=>M.id===a[p(605)]),_=N?[...N[p(618)]].sort((M,L)=>M.order-L[p(553)])[0]?.id===a.layerId:!1;r(M=>{const L=p,E=M[L(558)][L(607)](Z=>Z.id===a.flowerId);if(E&&(E[L(618)]=E.layers[L(544)](Z=>Z.id!==a.layerId),E.layers[L(609)]()[L(546)]((Z,O)=>Z[L(553)]-O[L(553)]).forEach((Z,O)=>Z.order=O+1),E.layers.length>0)){const Z=[...E.layers].sort((B,Y)=>B.order-Y.order),O=E[L(526)]??M[L(526)];b.eJNoT(xs,Z,O);for(const B of Z)if(b[L(556)]===L(617))_0x739a8a=_0x5c9e3c/3;else{const Y=E[L(618)][L(607)](U=>U.id===B.id);Y&&(Y.radius=B[L(481)])}if(_)if(b[L(517)]("htbpA",L(519))){const B=_0xc219dd[_0x5661aa-1],Y=_0x381ede[_0x60f13e];Y.offsetAngle=ozCSmA.yQNen(_0x5bc3fa,B.petalCount,B.offsetAngle,Y[L(614)])}else{const B=Z[0];E[L(508)]=Math.round(b[L(559)](Fi,B[L(481)],B.scale??1,O))}else{const B=b[L(582)](E[L(547)],"")?er(O,E.layers[L(520)],"uniform",0):b[L(600)](Zl,E.baseDiameter??M[L(593)],O,{layerCount:E[L(618)][L(520)]})[L(515)];b.IoOnA(Z0,Z,O,E[L(508)]||B);for(const Y of Z){const U=E.layers.find(ne=>ne.id===Y.id);U&&(U.radius=Y.radius,U[L(561)]=Y.scale)}}const z=[...Z].reverse();for(let B=1;b[L(580)](B,z[L(520)]);B++){const Y=z[B-1],U=z[B];U[L(628)]=Jn(Y.petalCount,Y.offsetAngle,U[L(614)])}}},!0),i({kind:"flower",flowerId:a[p(605)]})}}},G=b.POHvY(P.useCallback,p=>{const S={iVEmg:function(_,M){return _>M}},N=b.IrYcy(Gt,b.mUnQk);r(_=>{const M=kt,L={iquxp:"YAcaK",ZjgYQ:"lzfnf"};_.groups||(_[M(563)]=[]);const E=_.groups[M(573)](O=>{const z=M;if(L.iquxp!==L[z(530)]){const B=O[z(485)].match(/^ (\d+)$/);return B?parseInt(B[1],10):0}else _0x3b5b48[z(490)]=_0x108462.leafIds[z(544)](B=>!_0x5b39b1.includes(B))}),Z=S[M(551)](E.length,0)?Math.max(...E)+1:1;_[M(563)][M(506)]({id:N,name:M(571)+Z,flowerIds:[...p]})},!0),i({kind:"group",groupId:N}),f(_=>({..._,[N]:!0}))},[r,i,f]),I=P.useCallback(p=>{const S=A;if(b[S(497)]===b.Qcixf)b[S(595)](r,N=>{const _=S;N.groups&&(N[_(563)]=N[_(563)].filter(M=>M.id!==p))},!0),b[S(505)](i,{kind:b[S(552)]});else{_0xf13ff4.groups||(_0x484702[S(563)]=[]);const N=_0x583ba6[S(563)].map(M=>{const L=S,E=M[L(485)].match(/^ (\d+)$/);return E?_0x15380a(E[1],10):0}),_=N[S(520)]>0?b.jXXUp(_0x2dfa6f[S(516)](...N),1):1;_0x1c17cd[S(563)].push({id:_0x201ccb,name:S(571)+_,flowerIds:[..._0x19ad53]})}},[r,i]),Q=b[A(584)](P.useCallback,(p,S)=>{r(N=>{const _=kt,M=(N[_(563)]??[])[_(607)](L=>L.id===p);if(M)for(const L of S)M.flowerIds.includes(L)||M.flowerIds.push(L)},!0),b.OQdBM(i,{kind:b.pFjGC,groupId:p})},[r,i]),K=b[A(491)](P.useCallback,(p,S)=>{const N=A,_=p[0],M=p[N(609)](1);b[N(584)](r,L=>{const E=N;if(!L.groups)return;const Z=L[E(563)].find(O=>O.id===_);if(Z){for(const O of M){const z=L.groups.find(B=>B.id===O);if(z)for(const B of z[E(527)])if(E(611)===b[E(596)])Z[E(527)][E(612)](B)||Z[E(527)][E(506)](B);else return}for(const O of S)Z[E(527)][E(612)](O)||Z.flowerIds[E(506)](O);L[E(563)]=L[E(563)].filter(O=>!M.includes(O.id))}},!0),b.AaacN(i,{kind:"group",groupId:_}),f(L=>({...L,[_]:!0}))},[r,i,f]),J=(p,S)=>{const N=A,_=b.uvXcz(h.w,h.h),M=520/m,L=b.oQCHl(M,_),E=b[N(509)](-C.x,m),Z=-C.y/m,O=E+b[N(592)](L,2),z=b[N(549)](Z,M/2),B=S===b[N(608)]?b.GXWKc:N(522),Y=Vd[p][B].height*ln,U=_e(O,0,d),ne=_e(z-Y/2,0,d),se={id:b[N(507)](Gt,b[N(579)]),variant:p,pose:S,position:{x:U,y:ne}};r(oe=>{const fe=N;oe.stencils||(oe[fe(623)]=[]),oe[fe(623)].push(se)},!0),b.uKczm(i,{kind:"stencil",stencilId:se.id})},ee=p=>{const S=A;b.nEHjq(r,N=>{const _=kt;N.stencils=(N[_(623)]??[])[_(544)](M=>M.id!==p)},!0),b[S(574)](a[S(514)],b.TMszH)&&b[S(548)](a.stencilId,p)&&b[S(505)](i,{kind:"project"})},F=b.eBvBy(P.useCallback,p=>{const S=A,N={iYhGm:function(_,M){return b[kt(591)](_,M)},QeUCm:b[S(528)]};if(b[S(545)](a[S(514)],b[S(537)])){const _=a[S(527)];if(_.includes(p))if(b[S(492)]!==b[S(594)]){const M=_.filter(L=>L!==p);M[S(520)]===0?i({kind:S(480)}):M.length===1?b.EDVqr(i,{kind:S(557),flowerId:M[0]}):i({kind:S(558),flowerIds:M})}else N[S(482)](_0xc82acd,{kind:N.QeUCm,flowerId:_0x22a933,petals:[{layerId:_0x563e67,index:_0x2e077b}]});else b[S(575)](i,{kind:S(558),flowerIds:[..._,p]})}else if(a.kind===b[S(572)]){if(b[S(564)](a.flowerId,p))return;b.EDVqr(i,{kind:b.UeJNT,flowerIds:[a[S(605)],p]})}else i({kind:"flowers",flowerIds:[p]})},[a,i]);return{deleteFlowerById:j,deleteLayerById:w,computeNewOuterRadius:D,addOuterLayer:q,deleteOuterLayer:k,deleteSelected:R,groupSelectedFlowers:G,ungroupFlowers:I,addToGroup:Q,mergeGroups:K,addStencil:J,deleteStencil:ee,handleShiftFlowerSelect:F,togglePetalSelection:(p,S,N,_)=>{const M=A;if(!_){b.vtyoa(i,{kind:b[M(524)],flowerId:p,layerId:S,index:N});return}const L=S+":"+N;if(b[M(489)](a.kind,b[M(528)])&&b.dKWFO(a[M(605)],p)){const E=a.petals||[];if(E.some(O=>O[M(536)]+":"+O.index===L)){const O=E.filter(z=>z.layerId+":"+z[M(576)]!==L);b.GvdHU(O.length,0)?i({kind:b[M(572)],flowerId:p}):O.length===1?b.IrYcy(i,{kind:b.lPmId,flowerId:p,layerId:O[0].layerId,index:O[0].index}):b.ZmPBr(i,{kind:b.OMQeV,flowerId:p,petals:O})}else b.urdPq(i,{kind:"petals",flowerId:p,petals:[...E,{layerId:S,index:N}]})}else if(a.kind===b.lPmId&&b[M(489)](a.flowerId,p)){const E={layerId:a[M(536)],index:a[M(576)]},Z={layerId:S,index:N};if(b.amtJG(E.layerId+":"+E[M(576)],L))return;b.HlaHl(i,{kind:b.OMQeV,flowerId:p,petals:[E,Z]})}else b.guCVj(i,{kind:b.OMQeV,flowerId:p,petals:[{layerId:S,index:N}]})}}}(function(c,r){const a=Xt,i=c();for(;;)try{if(-parseInt(a(280))/1*(-parseInt(a(261))/2)+-parseInt(a(265))/3*(parseInt(a(255))/4)+-parseInt(a(282))/5*(parseInt(a(296))/6)+-parseInt(a(271))/7+parseInt(a(258))/8+-parseInt(a(252))/9+-parseInt(a(270))/10*(-parseInt(a(273))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,631050);const eb=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Xt;if(a){const f=a[o(266)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ds=eb(void 0,function(){const c=Xt;return Ds[c(294)]().search("(((.+)+)+)+$")[c(294)]().constructor(Ds)[c(276)](c(264))});Ds();function Xt(c,r){c=c-249;const a=H0();let i=a[c];if(Xt.YeoaNm===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Xt.fZesuK=o,Xt.gdRYhv={},Xt.YeoaNm=!0}const f=a[0],m=c+f,C=Xt.gdRYhv[m];if(C)i=C;else{const h=function(d){this.patSKQ=d,this.iKhMqo=[1,0,0],this.KBrYnV=function(){return"newState"},this.SnrDEf="\\w+ *\\(\\) *{\\w+ *",this.tYIGtL=`['|"].+['|"];? *}`};h.prototype.joTLPi=function(){const d=new RegExp(this.SnrDEf+this.tYIGtL),v=d.test(this.KBrYnV.toString())?--this.iKhMqo[1]:--this.iKhMqo[0];return this.KkDHkU(v)},h.prototype.KkDHkU=function(d){return~d?this.bJPPbW(this.patSKQ):d},h.prototype.bJPPbW=function(d){for(let v=0,g=this.iKhMqo.length;v<g;v++)this.iKhMqo.push(Math.round(Math.random())),g=this.iKhMqo.length;return d(this.iKhMqo[0])},new h(Xt).joTLPi(),i=Xt.fZesuK(i),Xt.gdRYhv[m]=i}return i}function H0(){const c=["mtfrv2PmyuO","mxWYFdr8mhWZ","zMLUza","C2vHCMnO","zMLSDgvY","whLYsuC","BgvUz3rO","mtiXntbotuzKBK4","6jgj44kW44oR44o844oxia","ndKXnZGWyLPxq0n5","CgfSzxr0zq","BgvHzG","CvvcCxq","ChjVAMvJDa","tvPXAMS","q01RAgK","BgvHzKLK","zKHVEwu","A2LUza","Cg9ZAxrPB24","Evjiz0S","Dg9tDhjPBMC","u3HpzvC","nJzwDfvyD1e","s0XsD2e","BgvHDMvZ","zfLywK4","De1qEeq","t0XvANq","odu4nZqZmvzMr1fJCG","BgvHzKDYB3vWCW","EvbVDMG","ogPHDerxyW","CgrWCMW","zMTVtxi","otm3mtyWmhbvANjxsa","D3zPDhi","sLnJAgG","mtbps21nBNK","Aw5JBhvKzxm","t0z6q2C","kcGOlISPkYKRksSK","mZK3mdCXrgDRuw9Y","yxbWBhK","C1PhA0q","BgvHzKLKCW","y29Sx2DYzwvU","mJCZmZaWmtbJEePzDwi","nZiZmZuZne9RBw9ACq","BgvHzKDYB3vW"];return H0=function(){return c},H0()}function tb({project:c,applyUpdate:r,selection:a,setSelection:i,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:C}){const h=Xt,d={lzyXL:function(q,k){return q*k},kvhRl:function(q,k){return q/k},VeJQA:function(q,k){return q+k},BViwO:function(q,k){return q/k},jbZid:function(q,k){return q/k},wvitr:function(q,k){return q<k},yRHgK:h(274),qUBqt:function(q,k,R,G){return q(k,R,G)},KPFWp:function(q,k){return q(k)},FKaPN:function(q,k){return q+k},pdprl:"",yPovh:function(q,k,R){return q(k,R)},QWlNS:function(q,k){return q(k)},KLRwa:function(q,k){return q(k)},fHoye:function(q,k){return q===k},CMkhi:h(298),vWJAh:"project",dYXZN:function(q,k){return q(k)},JSchh:h(287),XyrIG:function(q,k){return q===k},sZGkD:"leaf",OFzCg:function(q,k){return q(k)},OLUjt:function(q,k){return q(k)},tlkrY:function(q,k){return q+k},SxOeW:h(272),QWScP:function(q,k){return q!==k},fkoMr:"FDuZf"},v=()=>{const q=h,k=m.w/m.h,R=520/o,G=d.lzyXL(R,k),I=-f.x/o,Q=d.kvhRl(-f.y,o);let K=d.VeJQA(I,d.BViwO(G,2)),J=Q+d.jbZid(R,2),ee=0;for(;d[q(259)](ee,50)&&(c[q(298)]??[]).some(V=>Math.abs(V[q(292)].x-K)<5&&Math.abs(V[q(292)].y-J)<5);){const V=d[q(293)].split("|");let p=0;for(;;){switch(V[p++]){case"0":J=d[q(285)](_e,J,0,C);continue;case"1":K+=25;continue;case"2":J+=25;continue;case"3":ee++;continue;case"4":K=d.qUBqt(_e,K,0,C);continue}break}}const F={id:d.KPFWp(Gt,"leaf"),name:"Leaf "+d.FKaPN((c.leaves??[]).length,1),position:{x:K,y:J},rotation:135,petalType:d[q(256)],colorId:c[q(283)]?.[q(275)](V=>V.id===q(269)||V.id==="col_darkgreen")?.id??c.palette?.[0]?.id??q(269),scale:1,widthScale:1,visible:!0,locked:!1};d.yPovh(r,V=>{const p=q;V.leaves||(V[p(298)]=[]),V.leaves.push(F)},!0),i({kind:"leaf",leafId:F.id})},g=q=>{d.yPovh(r,k=>{const R=Xt;if(k.leaves=(k[R(298)]??[]).filter(G=>G.id!==q),k[R(253)]){for(const G of k.leafGroups)G.leafIds=G.leafIds[R(277)](I=>I!==q);k.leafGroups=k[R(253)].filter(G=>G[R(268)].length>0)}},!0),d.QWlNS(i,{kind:"project"})},A=P.useCallback(q=>{const k=h;if(d[k(290)](a[k(291)],d.CMkhi))if(k(250)!=="zjLZS"){const R=a.leafIds;if(R.includes(q)){const G=R[k(277)](I=>I!==q);d.fHoye(G[k(279)],0)?i({kind:d.vWJAh}):d[k(290)](G.length,1)?d[k(249)](i,{kind:k(284),leafId:G[0]}):i({kind:k(298),leafIds:G})}else d[k(260)]!==d[k(260)]?(_0xd778e8(G=>{const I=k;G[I(253)]&&(G[I(253)]=G[I(253)].filter(Q=>Q.id!==_0x2c4ea1))},!0),d[k(297)](_0x41a4c3,{kind:k(286)})):d.dYXZN(i,{kind:d.CMkhi,leafIds:[...R,q]})}else d.KLRwa(_0x1f489c,{kind:"leaf",leafId:_0x15ffc6[0]});else if(d[k(278)](a[k(291)],d[k(267)])){if(a[k(289)]===q)return;d[k(263)](i,{kind:d[k(288)],leafIds:[a.leafId,q]})}else i({kind:"leaves",leafIds:[q]})},[a,i]),b=P.useCallback(q=>{const k=h,R=d.OLUjt(Gt,"lg"),G=k(281)+d.tlkrY((c[k(253)]??[]).length,1);r(I=>{I[k(253)]||(I.leafGroups=[]),I.leafGroups.push({id:R,name:G,leafIds:[...q],rotation:0})},!0),d[k(251)](i,{kind:d[k(295)],leafGroupId:R})},[c.leafGroups,r,i]),D=P.useCallback(q=>{const k=h;r(R=>{const G=Xt;R.leafGroups&&(R[G(253)]=R.leafGroups.filter(I=>I.id!==q))},!0),i({kind:k(286)})},[r,i]),j=P.useCallback((q,k)=>{const R=h;d[R(254)](r,G=>{const I=R,Q=(G.leafGroups??[]).find(K=>K.id===k);Q&&!Q.leafIds[I(262)](q)&&Q[I(268)].push(q)},!0)},[r]),w=P.useCallback(q=>{r(k=>{const R=Xt;if(k.leafGroups){for(const G of k[R(253)])d.QWScP(d[R(257)],"FDuZf")?_0x28d2a5[R(268)]=_0x231d31[R(268)][R(277)](I=>I!==_0x514782):G.leafIds=G.leafIds[R(277)](I=>I!==q);k.leafGroups=k.leafGroups[R(277)](G=>G.leafIds.length>0)}},!0)},[r]);return{addLeaf:v,deleteLeafById:g,handleShiftLeafSelect:A,groupSelectedLeaves:b,ungroupLeaves:D,addLeafToGroup:j,removeLeafFromGroup:w}}(function(c,r){const a=An,i=c();for(;;)try{if(-parseInt(a(223))/1+parseInt(a(216))/2+parseInt(a(205))/3+-parseInt(a(189))/4*(parseInt(a(188))/5)+-parseInt(a(213))/6+-parseInt(a(202))/7+parseInt(a(192))/8===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,344193);function An(c,r){c=c-171;const a=Y0();let i=a[c];if(An.nOpdjD===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};An.VGjRUG=o,An.jsVqHJ={},An.nOpdjD=!0}const f=a[0],m=c+f,C=An.jsVqHJ[m];if(C)i=C;else{const h=function(d){this.cnndVi=d,this.OdrTKd=[1,0,0],this.UQfwep=function(){return"newState"},this.tksPUA="\\w+ *\\(\\) *{\\w+ *",this.PQWLsr=`['|"].+['|"];? *}`};h.prototype.BXFgKP=function(){const d=new RegExp(this.tksPUA+this.PQWLsr),v=d.test(this.UQfwep.toString())?--this.OdrTKd[1]:--this.OdrTKd[0];return this.CTDZyJ(v)},h.prototype.CTDZyJ=function(d){return~d?this.AZspii(this.cnndVi):d},h.prototype.AZspii=function(d){for(let v=0,g=this.OdrTKd.length;v<g;v++)this.OdrTKd.push(Math.round(Math.random())),g=this.OdrTKd.length;return d(this.OdrTKd[0])},new h(An).BXFgKP(),i=An.VGjRUG(i),An.jsVqHJ[m]=i}return i}const nb=(function(){const c={yuPDC:function(a,i){return a===i}};let r=!0;return function(a,i){const o=An;if(c[o(207)]("Xolja",o(184)))_0x5d53a3=o(200);else{const f=r?function(){const m=o;if(i){const C=i[m(198)](a,arguments);return i=null,C}}:function(){};return r=!1,f}}})(),Ns=nb(void 0,function(){const c=An;return Ns[c(217)]().search("(((.+)+)+)+$")[c(217)]()[c(206)](Ns).search("(((.+)+)+)+$")});Ns();function Y0(){const c=["mZKYntyXnhD0ELHtEa","Bfz2Dg4","Bgf5zxjdB3vUDa","ntiWnZq0EvvpEwPM","Dg9tDhjPBMC","s29ou2y","CgfSzxr0zq","DxDpyu8","C2L6zu1Vzgu","zeLXtMu","mJG5mtuXzMrAyvzx","rwjstLe","yMfZzurPyw1LDgvY","u1DKC3O","Cg9ZAxrPB24","zMXVD2vYrgLHBwv0zxi","CMfKAxvZ","Bgf5","zMLUza","CgXHy2vTzw50tw9Kzq","ywjZ","twLKzgXL","B3jKzxi","wvzgBuy","Bunks2W","reTRrwm","txbusw8","DwreExm","mtvQBxvVDu4","mte1nti0uuHJEMXz","CLHrv00","EKLWC1e","mtaWmda2ndHPve9uz1a","C2L6zvn0zxbnBq","DejpvMG","DvLov2O","yvnqtee","uxDes1G","yxbWBhK","zMfICMLJu3f1yxjLu2L6zq","tgf5zxi","wuLuBKu","mti0otmXogvHzLfRza","r3rovgm","BxnXwgm","mti2odmXtxPtqu9b","y29UC3rYDwn0B3i","Exvqrem","zgLHBwv0zxi","teXlsgC","vuvItMG","zMXVD2vYCW","s3DQvgG"];return Y0=function(){return c},Y0()}function lb({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:C}){const h=An,d={udDys:"",sAEJc:function(w,q){return w(q)},YITnE:function(w,q,k,R,G){return w(q,k,R,G)},vTHRT:"Center",pcBVT:"Inner",OcRzk:function(w,q){return w<q},uwOaO:function(w,q){return w===q},QwDKX:"uniform",lVvtn:function(w,q){return w!==q},KoNSf:h(194),uYNWj:function(w,q,k,R){return w(q,k,R)},KwjTh:function(w,q){return w+q},xBFUb:function(w,q){return w/q},YVFmF:function(w,q){return w-q},MpTIo:function(w,q){return w-q},SWdsz:function(w,q){return w*q},vnJYs:function(w,q){return w/q},VLgyk:function(w,q){return w===q},GNJFT:function(w,q,k,R){return w(q,k,R)},rXQWM:function(w,q){return w<=q},dIqNe:function(w,q){return w(q)},JJaUX:h(177),UEbNh:"col_white",DKkEc:function(w,q){return w/q},EbRNQ:"flw",GtNTc:"",zIpsQ:function(w,q){return w(q)},aSPLA:""},[v,g]=d[h(191)](P.useState,!1),[A,b]=P.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:d[h(196)],sizeMode:d.QwDKX,sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:v,setShowAddFlowerDialog:g,addFlowerOpts:A,setAddFlowerOpts:b,addFlower:()=>{const w=h,q={rBCJb:d[w(187)],LLKHg:function(G,I,Q,K){return G(I,Q,K)}},k=c[w(199)],R=c[w(172)];d.sAEJc(b,G=>{const I=w,Q={...G,fabricSquareSize:k,baseDiameter:R};return Q[I(179)]===q.rBCJb?Q.flowerDiameter=q[I(209)](Zl,R,k,{layerCount:Q.layerCount,sizeMode:Q.sizeMode,sizeStepMm:Q[I(193)]}).diameter:Q.flowerDiameter=er(k,Q.layerCount,Q[I(221)],Q[I(193)]),Q}),g(!0)},confirmAddFlower:()=>{const w=h;if(w(204)!=="msqXc"){const q={..._0x442f84,fabricSquareSize:_0x34da37,baseDiameter:_0x547257};return q[w(179)]===dIVBNy.dxuQo?q[w(175)]=dIVBNy.RfiRC(_0x299dfb,_0x4d90fb,_0x20fe3b,{layerCount:q.layerCount,sizeMode:q.sizeMode,sizeStepMm:q.sizeStepMm})[w(208)]:q[w(175)]=_0x169c63(_0x159656,q[w(215)],q[w(221)],q.sizeStepMm),q}else{const{placementMode:q,layerCount:k,petalCount:R,petalType:G,sizeMode:I,sizeStepMm:Q}=A,K=A.fabricSquareSize,{length:J}=Ot(K),ee=.28,F=Math.round(J*ee*10)/10,V=[],p=[d.vTHRT,d.pcBVT,w(181),"Outer","Outer+"];let S=F,N=0;for(let fe=0;d.OcRzk(fe,k);fe++){const ge=fe,we=1;let me;if(d.uwOaO(I,d[w(197)]))d[w(214)](d[w(218)],d[w(218)])?_0x30f939.flowerDiameter=d[w(201)](_0x2bee1f,_0x2d7247,_0x2e8a79[w(215)],_0x2fd168.sizeMode,_0x5176c7.sizeStepMm):me=we;else{const Te=Q/K;me=d[w(195)](_e,d[w(212)](we,ge*Te),.3,3)}let Re;if(fe===0)Re=F;else{const Te=I==="gradual"?_e(1+d.xBFUb(d[w(183)](fe,1)*Q,K),.3,3):1,Xe=J*Te;let lt;if(d[w(220)](q,"")){const gt=d.xBFUb(70*Math.PI,180),It=k>1?fe/d[w(186)](k,1)*gt:0,Tn=Math.cos(It);lt=d.SWdsz(Xe,d.vnJYs(30,100))*Tn}else lt=Xe/3;S=S+lt,Re=Math.round(S*10)/10}const Me=d.VLgyk(fe,0)?0:d.GNJFT(Jn,R,N,R);N=Me;let Ae;if(d[w(220)](k,1))Ae=w(200);else if(d[w(190)](k,5)){const Te=k===2?[0,3]:d.uwOaO(k,3)?[0,1,3]:d.uwOaO(k,4)?[0,1,2,3]:[0,1,2,3,4];Ae=p[Te[fe]]??"Layer "+d[w(212)](fe,1)}else Ae="Layer "+(fe+1);V.push({id:d[w(222)](Gt,d.JJaUX),name:Ae,order:k-fe,petalType:G,petalCount:R,radius:Re,scale:me,widthScale:ni(R),offsetAngle:Me,colorId:A.colorId||(c[w(219)]?.[0]?.id??d[w(210)]),visible:!0,locked:!1})}V.reverse();const _=[...V].sort((fe,ge)=>fe[w(182)]-ge[w(182)]),M=q===d[w(187)]?Zl(A[w(172)],K,{layerCount:k,sizeMode:I,sizeStepMm:Q}).diameter:er(K,k,I,Q);d.GNJFT(Z0,_,K,A.flowerDiameter||M);for(const fe of _){const ge=V[w(178)](we=>we.id===fe.id);ge&&(ge[w(176)]=fe.radius,ge.scale=fe.scale)}const L=d.xBFUb(m.w,m.h),E=520/o,Z=d[w(173)](E,L),O=-f.x/o,z=d[w(185)](-f.y,o);let B=O+d.xBFUb(Z,2),Y=z+d.DKkEc(E,2);const U=25;let ne=0;for(;ne<50&&c.flowers.some(fe=>Math.abs(fe[w(174)].x-B)<5&&Math[w(180)](fe[w(174)].y-Y)<5);)B+=U,Y+=U,B=_e(B,0,C),Y=d.uYNWj(_e,Y,0,C),ne++;const se=A[w(175)]||M,oe={id:Gt(d[w(171)]),name:"Flower "+(c[w(211)].length+1),position:{x:B,y:Y},flowerDiameter:se,rotation:0,layers:V,center:{type:d[w(203)],size:6,color:d[w(210)]},fabricSquareSize:K,placementMode:q,baseDiameter:d.VLgyk(q,"")?A[w(172)]:d.sAEJc(Pi,se)};r(fe=>{fe.flowers.push(oe)},!0),d[w(222)](a,{kind:"flower",flowerId:oe.id}),i(fe=>({...fe,[oe.id]:!0})),d.zIpsQ(g,!1)}}}}(function(c,r){const a=Yn,i=c();for(;;)try{if(parseInt(a(369))/1+parseInt(a(351))/2*(parseInt(a(364))/3)+-parseInt(a(357))/4*(-parseInt(a(327))/5)+parseInt(a(333))/6+-parseInt(a(332))/7*(parseInt(a(367))/8)+parseInt(a(353))/9+parseInt(a(356))/10*(-parseInt(a(330))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,751126);function I0(){const c=["Ewfls0u","otC0mJy4ovjks2XtDW","zMLUza","tLbJB1O","nduWzvzYwLbX","mtu1nJGYneHOve1ssa","BgvHzKDYB3vW","zMXVD2vYswq","Dg9tDhjPBMC","z3jVDxa","zMXVD2vYswrZ","A2LUza","m1jbwwnWAW","zMXVD2vY","Cgv0ywW","nJqXmJaYnfrkr2LoDa","ChzRwM0","mZm0nJG2Dw5gsfHk","zMLSDgvY","z3jVDxbjza","BgvHzG","Cgv0ywXZ","yM1hCMe","C3rLBMnPBa","Bgf5zxi","nu1hv1f1sW","Bgf5zxjZ","BgvHzKLK","ntu4odeXBxPPBvjx","z3jVDxbZ","n2jNwKvtra","ntyXnJu4ohbRCwr2yG","BgDJEuK","kcGOlISPkYKRksSK","zMXVD2vYCW","BgvHDMvZ","CNLeAei","AMTZEum","vvPMs1u","Aw5JBhvKzxm","Bwrgv1C","C2vHCMnO","zwvQCLy","CKXds2W","BwTNu2q","ENfeuu4","BgvHzKDYB3vWCW","BgvHzKDYB3vWswq","BgvHzKLKCW","mJe5mJmYnMTkqLfisG"];return I0=function(){return c},I0()}const ab=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),As=ab(void 0,function(){const c=Yn;return As.toString()[c(343)](c(335))[c(360)]().constructor(As).search("(((.+)+)+)+$")});As();function Yn(c,r){c=c-320;const a=I0();let i=a[c];if(Yn.BAebwk===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",A=v+o;for(let b=0,D,j,w=0;j=h.charAt(w++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Yn.VoWQrQ=o,Yn.jnpLfU={},Yn.BAebwk=!0}const f=a[0],m=c+f,C=Yn.jnpLfU[m];if(C)i=C;else{const h=function(d){this.AkfskK=d,this.DtyXTV=[1,0,0],this.neIzeC=function(){return"newState"},this.RvTcjA="\\w+ *\\(\\) *{\\w+ *",this.QnxLLz=`['|"].+['|"];? *}`};h.prototype.QeOhvM=function(){const d=new RegExp(this.RvTcjA+this.QnxLLz),v=d.test(this.neIzeC.toString())?--this.DtyXTV[1]:--this.DtyXTV[0];return this.nuOyfY(v)},h.prototype.nuOyfY=function(d){return~d?this.ZbWCmg(this.AkfskK):d},h.prototype.ZbWCmg=function(d){for(let v=0,g=this.DtyXTV.length;v<g;v++)this.DtyXTV.push(Math.round(Math.random())),g=this.DtyXTV.length;return d(this.DtyXTV[0])},new h(Yn).QeOhvM(),i=Yn.VoWQrQ(i),Yn.jnpLfU[m]=i}return i}function ib(c,r){const a=Yn,i={WdwMN:function(j,w){return j===w},jksyC:"flower",eejrV:a(326),pvkZm:function(j,w){return j===w},mdFWW:a(366),bmGra:function(j,w){return j===w},yaKKE:"flowers",UZfKU:a(361),Zfami:function(j,w){return j===w},witIU:a(355),QwDpE:"NJqXk",flbmS:function(j,w){return j===w},zqDQN:function(j,w){return j===w},rGIIX:"yVPnf",mkgSd:function(j,w,q){return j(w,q)},zOLMC:function(j,w,q){return j(w,q)},WwSMv:a(325),ryDhB:function(j,w){return j===w},lgcyI:function(j,w,q){return j(w,q)}},o=i.mkgSd(P.useMemo,()=>{const j=a;if(i.WdwMN(r.kind,i[j(339)])||r.kind===i[j(344)]||i[j(368)](r.kind,i.mdFWW)||r.kind===j(323)){if(i.bmGra("rLCKl",j(345)))return c.flowers[j(354)](w=>w.id===r[j(359)])??null;{const w=_0x47cb4c(_0x350252,_0x6d09e8.leafId);if(w)return new _0x49c258(w[j(350)][j(320)](q=>q!==_0x4518bc.leafId))}}return null},[c[a(336)],r]),f=P.useMemo(()=>{const j=a;if(i.pvkZm(r[j(363)],i.yaKKE))return c[j(336)][j(320)](w=>r.flowerIds[j(341)](w.id));if(r.kind===i[j(340)]){if(i.Zfami(i.witIU,i.QwDpE))return _0xc7919c.flowers[j(354)](w=>w.id===_0x102a4a.flowerId)??null;{const w=(c.groups??[]).find(q=>q.id===r[j(321)]);if(w)return c[j(336)][j(320)](q=>w.flowerIds.includes(q.id))}}return[]},[c.flowers,c[a(331)],r]),m=i.zOLMC(P.useMemo,()=>{const j=a;return i.flbmS(r.kind,j(322))?(c[j(337)]??[]).find(w=>w.id===r.leafId)??null:null},[c[a(337)],r]),C=i[a(346)](P.useMemo,()=>{const j=a;return i.Zfami(r.kind,"leafGroup")?(c[j(348)]??[])[j(354)](w=>w.id===r[j(349)])??null:null},[c.leafGroups,r]),h=P.useMemo(()=>{const j=a;return o&&(r[j(363)]==="layer"||i[j(324)](r.kind,j(366)))?o[j(328)][j(354)](w=>w.id===r.layerId)??null:null},[o,r]),d=r[a(363)]===i.mdFWW?r.index:null,v=r[a(363)]===a(323)?r[a(323)]:[],g=r.kind===i.WwSMv?(c.stencils??[]).find(j=>j.id===r.stencilId)??null:null,A=i.zqDQN(r.kind,"flower")||i[a(347)](r[a(363)],"layer")||r[a(363)]==="petal"||i[a(338)](r[a(363)],"petals")?r[a(359)]:null,b=i.zOLMC(P.useMemo,()=>{const j=a;if(r.kind===i[j(340)]){const w=(c.groups??[]).find(q=>q.id===r.groupId);if(w)return new Set(w[j(362)])}if(r[j(363)]===i[j(352)])return new Set(r[j(362)]);if(r.kind===i.jksyC||r.kind===j(326)||r[j(363)]===i[j(342)]||i.WdwMN(r.kind,"petals")){const w=da(c,r[j(359)]);if(w)return r.kind===j(365)?new Set(w[j(362)][j(320)](q=>q!==r[j(359)])):new Set(w.flowerIds)}return new Set},[r,c]),D=i[a(334)](P.useMemo,()=>{const j=a;if(i[j(347)](r.kind,j(358))){const w=(c[j(348)]??[]).find(q=>q.id===r[j(349)]);if(w)return new Set(w[j(350)])}if(r.kind===j(322))if(i.bmGra(i.rGIIX,"yVPnf")){const w=U0(c,r[j(329)]);if(w)return new Set(w[j(350)][j(320)](q=>q!==r.leafId))}else return new _0x8e3ace(_0x446d97.flowerIds[j(320)](w=>w!==_0x38e3ce[j(359)]));return new Set},[r,c]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:m,selectedLeafGroup:C,selectedLayer:h,selectedPetalIndex:d,selectedPetals:v,selectedStencil:g,selectedFlowerId:A,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:D}}function rb(c){const{project:r,selection:a,setSelection:i,applyUpdate:o}=c,f=P.useMemo(()=>new Map((r.palette||[]).map(de=>[de.id,de])),[r.palette]),{widths:m,containerRef:C,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:v,isDesktop:g}=Pm(),A=P.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[b,D]=P.useState({});P.useEffect(()=>{try{const ve=localStorage.getItem(A);if(ve){const Ue=JSON.parse(ve);if(Ue&&typeof Ue=="object"){D(Ue);return}}}catch{}const de=r.flowers?.[0];de&&D({[de.id]:!0})},[A]),P.useEffect(()=>{try{localStorage.setItem(A,JSON.stringify(b))}catch{}},[A,b]),P.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const de=a.flowerId;D(ve=>ve?.[de]?ve:{...ve,[de]:!0})}a.kind==="flowers"&&D(de=>{const ve={...de};for(const Ue of a.flowerIds)ve[Ue]=!0;return ve})},[a]);const j=de=>b?.[de]??!1,w=de=>D(ve=>({...ve,[de]:!(ve?.[de]??!1)})),q=P.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[k,R]=P.useState({});P.useEffect(()=>{try{const ve=localStorage.getItem(q);if(ve){const Ue=JSON.parse(ve);if(Ue&&typeof Ue=="object"){R(Ue);return}}}catch{}const de=r.groups??[];if(de.length>0){const ve={};for(const Ue of de)ve[Ue.id]=!0;R(ve)}},[q]),P.useEffect(()=>{try{localStorage.setItem(q,JSON.stringify(k))}catch{}},[q,k]);const G=de=>k?.[de]??!0,I=de=>R(ve=>({...ve,[de]:!(ve?.[de]??!0)})),Q=P.useRef({flowerId:null,timer:null}),K=de=>{const ve=Q.current.timer;ve&&window.clearTimeout(ve),Q.current.flowerId=de,Q.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:de}),D(Ue=>({...Ue,[de]:!0})),Q.current.timer=null,Q.current.flowerId=null},200)},J=de=>{const ve=Q.current.timer;ve&&Q.current.flowerId===de&&window.clearTimeout(ve),Q.current.timer=null,Q.current.flowerId=null,i({kind:"flower",flowerId:de}),w(de)},ee=P.useRef(null),[F,V]=P.useState({w:520,h:520});P.useEffect(()=>{const de=ee.current;if(!de)return;const ve=new ResizeObserver(Ue=>{for(const Vt of Ue){const{width:pt,height:rn}=Vt.contentRect;pt>0&&rn>0&&V({w:pt,h:rn})}});return ve.observe(de),()=>ve.disconnect()},[]);const p=de=>{const ve=ee.current;if(!ve)return{x:0,y:0};const Ue=ve.createSVGPoint();Ue.x=de.clientX,Ue.y=de.clientY;const Vt=ve.getScreenCTM();if(!Vt)return{x:0,y:0};const pt=Ue.matrixTransform(Vt.inverse());return{x:pt.x,y:pt.y}},S=500*ln,N=-300*ln,_=800*ln,M=P.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[L,E]=P.useState(6),[Z,O]=P.useState(M[6]),z=P.useCallback(de=>{E(ve=>{const Ue=typeof de=="function"?de(ve):de;return O(M[Ue]),Ue})},[M]),B=P.useCallback(de=>{const ve=_e(de,M[0],M[M.length-1]);O(ve);let Ue=0,Vt=Math.abs(M[0]-ve);for(let pt=1;pt<M.length;pt++){const rn=Math.abs(M[pt]-ve);rn<Vt&&(Ue=pt,Vt=rn)}E(Ue)},[M]),[Y,U]=P.useState({x:0,y:0}),[ne,se]=P.useState(!0),[oe,fe]=P.useState(!1),ge=P.useRef(null),we=P.useMemo(()=>{const de=F.w/F.h,ve=520,Ue=ve*de;return(Vt,pt=Z)=>{const rn=_e(Vt.x,-(_*pt-Ue),-N*pt),ii=_e(Vt.y,-(_*pt-ve),-N*pt);return{x:rn,y:ii}}},[F,Z,N,_]),me=P.useMemo(()=>we(Y),[Y,we]),Re=P.useCallback(de=>U(de),[]),Me=P.useMemo(()=>{const de=F.w/F.h,ve=520,Ue=ve*de,Vt=-me.x/Z,pt=-me.y/Z;return`${Vt} ${pt} ${Ue/Z} ${ve/Z}`},[Z,me,F]),{addLeaf:Ae,deleteLeafById:Te,handleShiftLeafSelect:Xe,groupSelectedLeaves:lt,ungroupLeaves:st,addLeafToGroup:gt,removeLeafFromGroup:It}=tb({project:r,applyUpdate:o,selection:a,setSelection:i,zoom:Z,pan:me,stageSize:F,CANVAS_MAX_SVG:S}),{showAddFlowerDialog:Tn,setShowAddFlowerDialog:Qn,addFlowerOpts:Pn,setAddFlowerOpts:Ve,addFlower:an,confirmAddFlower:vl}=lb({project:r,applyUpdate:o,setSelection:i,setExpandedFlowers:D,zoom:Z,pan:me,stageSize:F,CANVAS_MAX_SVG:S}),{selectedFlower:Xl,selectedFlowers:Ln,selectedLeaf:ma,selectedLeafGroup:En,selectedLayer:li,selectedPetalIndex:Vl,selectedPetals:Fn,selectedStencil:Tt,selectedFlowerId:Je,groupHighlightedFlowerIds:xe,leafGroupHighlightedLeafIds:Ne}=ib(r,a),{deleteFlowerById:Ie,deleteLayerById:Le,addOuterLayer:Ce,deleteOuterLayer:rt,deleteSelected:He,groupSelectedFlowers:Se,ungroupFlowers:dt,addToGroup:ct,mergeGroups:vt,addStencil:ht,deleteStencil:Qe,handleShiftFlowerSelect:Bn,togglePetalSelection:Dt}=$m({project:r,applyUpdate:o,selection:a,setSelection:i,setExpandedFlowers:D,setExpandedGroups:R,zoom:Z,pan:me,stageSize:F,CANVAS_MAX_SVG:S,deleteLeafById:Te,ungroupLeaves:st}),Ee=lm({project:r,selection:a,setSelection:i,applyUpdate:o,dragRef:c.dragRef,zoom:Z,pan:me,setPan:Re,stageRef:ee,clientToSvgPoint:p,togglePetalSelection:Dt}),[Lt,yt]=P.useState(0),xt=a.kind,ai=xt==="flower"?a.flowerId:null,ir=xt==="flowers"?a.flowerIds?.join(","):null,rr=xt==="layer"||xt==="petal"?a.layerId:null,Un=xt==="petal"?a.index:null,wt=xt==="petals"?a.petals?.length:null;P.useEffect(()=>{xt!=="project"&&yt(Date.now())},[xt,ai,ir,rr,Un,wt]),P.useEffect(()=>{if(!ge.current)return;const de=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!de)return;const ve=ge.current.querySelector(`[data-flower-id="${de}"]`);ve&&ve.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ht=P.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[Lt]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:C,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:g?{width:`${m.left}%`}:void 0,children:s.jsx(im,{project:r,selection:a,setSelection:i,expandedFlowers:b,setExpandedFlowers:D,isExpanded:j,toggleExpanded:w,scheduleFlowerRowClick:K,handleFlowerRowDoubleClick:J,addFlower:an,deleteSelected:He,addOuterLayer:Ce,deleteOuterLayer:rt,deleteFlowerById:Ie,deleteLayerById:Le,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:ge,groups:r.groups??[],expandedGroups:k,isGroupExpanded:G,toggleGroupExpanded:I,onSelectGroup:de=>i({kind:"group",groupId:de}),onUngroupFlowers:dt,leaves:r.leaves??[],leafGroups:r.leafGroups??[],onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onSelectLeafGroup:de=>i({kind:"leafGroup",leafGroupId:de}),onAddLeaf:Ae,onDeleteLeaf:Te})}),s.jsx(Hd,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:v}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Am,{project:r,selection:a,setSelection:i,applyUpdate:o,paletteMap:f,selectedFlowerId:Je,zoom:Z,setZoom:B,zoomLevel:L,setZoomLevel:z,ZOOM_LEVELS:M,pan:me,panRaw:Y,setPan:Re,showGrid:ne,setShowGrid:se,showHelp:oe,setShowHelp:fe,stageRef:ee,viewBox:Me,dashSyncToken:Lt,dashDelay:Ht,beginPan:Ee.beginPan,updatePan:Ee.updatePan,endPan:Ee.endPan,beginMarquee:Ee.beginMarquee,updateMarquee:Ee.updateMarquee,endMarquee:Ee.endMarquee,marqueeRef:Ee.marqueeRef,marqueeRect:Ee.marqueeRect,beginFlowerDrag:Ee.beginFlowerDrag,updateFlowerDrag:Ee.updateFlowerDrag,endFlowerDrag:Ee.endFlowerDrag,scaleDragRef:Ee.scaleDragRef,beginScaleDrag:Ee.beginScaleDrag,updateScaleDrag:Ee.updateScaleDrag,endScaleDrag:Ee.endScaleDrag,rotationDragRef:Ee.rotationDragRef,beginRotationDrag:Ee.beginRotationDrag,updateRotationDrag:Ee.updateRotationDrag,endRotationDrag:Ee.endRotationDrag,widthScaleDragRef:Ee.widthScaleDragRef,beginWidthScaleDrag:Ee.beginWidthScaleDrag,updateWidthScaleDrag:Ee.updateWidthScaleDrag,endWidthScaleDrag:Ee.endWidthScaleDrag,radiusDragRef:Ee.radiusDragRef,beginRadiusDrag:Ee.beginRadiusDrag,updateRadiusDrag:Ee.updateRadiusDrag,endRadiusDrag:Ee.endRadiusDrag,togglePetalSelection:Dt,clientToSvgPoint:p,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:ht,onDeleteStencil:Qe,onSelectStencil:de=>i({kind:"stencil",stencilId:de}),handleShiftFlowerSelect:Bn,groupHighlightedFlowerIds:xe,leaves:r.leaves??[],leafGroups:r.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Ne,onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onShiftSelectLeaf:Xe})}),s.jsx(Hd,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:v}),s.jsx("div",{className:"min-w-0 shrink-0",style:g?{width:`${m.right}%`}:void 0,children:s.jsx(Km,{project:r,selection:a,applyUpdate:o,selectedFlower:Xl,selectedFlowers:Ln,selectedLayer:li,selectedPetalIndex:Vl,selectedPetals:Fn,selectedStencil:Tt,onDeleteStencil:Qe,groups:r.groups??[],onGroupFlowers:Se,onUngroupFlowers:dt,onAddToGroup:ct,onMergeGroups:vt,selectedLeaf:ma,selectedLeafGroup:En,leafGroups:r.leafGroups??[],onDeleteLeaf:Te,onGroupLeaves:lt,onUngroupLeaves:st,onAddLeafToGroup:gt,onRemoveLeafFromGroup:It})})]}),Tn&&s.jsx(Jm,{palette:r.palette,addFlowerOpts:Pn,setAddFlowerOpts:Ve,onConfirm:vl,onCancel:()=>Qn(!1)}),oe&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>fe(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:de=>de.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>fe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([de,ve])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:de}),s.jsx("td",{className:"py-2 text-neutral-700",children:ve})]},de))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function ub({cg:c}){const[r,a]=P.useState("w"),[i,o]=P.useState(""),f=c.totalAreaCm2,m=parseFloat(i),h=i!==""&&Number.isFinite(m)&&m>0?Math.round(f/m*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(d=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>o(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>o(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function cb(c){const{recipe:r}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(ub,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function sb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function xb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function ob(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function fb(){const[c,r]=P.useState("home"),[a,i]=P.useState([]),[o,f]=P.useState(null),[m,C]=P.useState({kind:"project"}),[h,d]=P.useState([]),[v,g]=P.useState(0),A=P.useRef(o),b=P.useRef(h),D=P.useRef(v);P.useEffect(()=>{A.current=o},[o]),P.useEffect(()=>{b.current=h},[h]),P.useEffect(()=>{D.current=v},[v]);const j=P.useRef(null),w=P.useRef(null),q=P.useRef(null),k=P.useRef(null),[R,G]=P.useState(null);P.useEffect(()=>{const O=R?window.setTimeout(()=>G(null),2200):null;return()=>{O&&window.clearTimeout(O)}},[R]),P.useEffect(()=>{i($i())},[]);function I(O){const z=JSON.stringify(O);d([z]),g(0)}function Q(O,z=!0){if(!z){f(we=>{if(!we)return we;const me=Il(we);return O(me),me.updatedAt=C0(),me});return}const B=A.current;if(!B)return;const Y=Il(B);O(Y),Y.updatedAt=C0(),f(Y);const U=b.current,ne=D.current;if(U.length===0){I(Y);return}const se=JSON.stringify(Y);let fe=[...U.slice(0,ne+1),se];const ge=50;fe.length>ge&&(fe=fe.slice(fe.length-ge)),d(fe),g(fe.length-1)}function K(){g(O=>{if(O<=0)return O;const z=O-1,B=b.current[z];return B&&f(fa(JSON.parse(B))),G("Undo"),z})}function J(){g(O=>{if(O>=b.current.length-1)return O;const z=O+1,B=b.current[z];return B&&f(fa(JSON.parse(B))),G("Redo"),z})}function ee(){if(!o)return;const O=Oh(o);i($i()),G(O?"Saved":" ")}function F(){if(!o)return;const O=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),z=URL.createObjectURL(O),B=document.createElement("a");B.href=z,B.download=`${o.title||"tsumami"}.json`,B.click(),URL.revokeObjectURL(z),G("JSON exported")}function V(O){const z=new FileReader;z.onload=()=>{try{const B=JSON.parse(String(z.result??""));if(!B||typeof B!="object"||!Array.isArray(B.flowers))throw new Error("Invalid JSON");const Y=fa(B);f(Y),C({kind:"project"}),I(Y),r("editor"),G("Imported")}catch{G("Import failed")}},z.readAsText(O)}function p(O){const z=fa(O);f(z),C({kind:"project"}),I(z),r("editor")}function S(O){return O&&(O.kind==="flower"||O.kind==="layer"||O.kind==="petal")?O.flowerId:null}function N(){if(!o)return;const O=S(m);if(!O)return;const z=o.flowers.find(B=>B.id===O);z&&(w.current=Il(z),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:z},null,2)).catch(()=>{}),G("Flower copied"))}function _(){if(!o||m.kind!=="leaf")return;const O=(o.leaves??[]).find(z=>z.id===m.leafId);O&&(q.current=Il(O),G("Leaf copied"))}function M(){if(!o)return;const O=w.current;if(!O){G("Nothing to paste");return}const z=Bh(O,{x:12+Math.random()*10,y:12+Math.random()*10});Q(B=>{B.flowers.push(z)},!0),C({kind:"flower",flowerId:z.id}),G("Flower pasted")}function L(){if(!o)return;const O=q.current;if(!O)return;const z=Gt("leaf"),B={...Il(O),id:z,name:O.name+" (copy)",position:{x:O.position.x+30,y:O.position.y+30}};Q(Y=>{Y.leaves||(Y.leaves=[]),Y.leaves.push(B)},!0),C({kind:"leaf",leafId:B.id}),G("Leaf pasted")}function E(O){if(!o)return;const z=S(m);z&&(Q(B=>{const Y=B.flowers.findIndex(oe=>oe.id===z);if(Y<0)return;const U=B.flowers,ne=U[Y];if(!ne)return;if(U.splice(Y,1),O==="front"){U.push(ne);return}if(O==="back"){U.unshift(ne);return}if(O==="forward"){if(Y>=U.length){U.push(ne);return}U.splice(Y+1,0,ne);return}const se=_e(Y-1,0,U.length);U.splice(se,0,ne)},!0),G(O==="front"?"Brought to front":O==="back"?"Sent to back":O==="forward"?"Moved forward":"Moved backward"))}P.useEffect(()=>{function O(B){const Y=B;if(!Y)return!1;const U=String(Y.tagName||"").toLowerCase();return U==="input"||U==="textarea"||U==="select"||!!Y.isContentEditable}function z(B){if(!(O(B.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?B.metaKey:B.ctrlKey))){if(c==="editor"){if(B.key.toLowerCase()==="c"){B.preventDefault(),m.kind==="leaf"?_():N();return}if(B.key.toLowerCase()==="v"){B.preventDefault(),q.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="leafGroup"||!w.current)?L():M();return}}B.key.toLowerCase()==="z"&&(B.preventDefault(),B.shiftKey?J():K()),B.key.toLowerCase()==="s"&&(B.preventDefault(),ee())}}return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[o,h,v,m,c]);const Z=P.useMemo(()=>o?Ih(o):null,[o]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(Vh,{view:c,onNavigate:r,project:o,onSave:ee,onLoad:()=>r("home"),onImportJson:()=>k.current?.click(),onExportJson:F,onExportSvg:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&o&&Zh(O,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&o&&Kh(O,`${o.title||"tsumami"}.png`)}}),s.jsx("input",{ref:k,type:"file",accept:"application/json",className:"hidden",onChange:O=>{const z=O.target.files?.[0];z&&V(z),O.currentTarget.value=""}}),R&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:R}),s.jsxs("main",{className:"flex-1",children:[c==="home"&&s.jsx(Jh,{saved:a,onNew:()=>r("new"),onOpen:O=>{const z=fa(Il(O));f(z),C({kind:"project"}),I(z),r("editor")},onDelete:O=>{Hh(O),i($i()),G("Deleted")}}),c==="new"&&s.jsx(Wh,{onBack:()=>r("home"),onCreate:O=>{const z=Eh({title:O});p(z)}}),c==="editor"&&o&&s.jsx(rb,{project:o,selection:m,setSelection:C,applyUpdate:Q,onGoRecipe:()=>r("recipe"),onImport:V,dragRef:j,onCopyFlower:N,onPasteFlower:M,onArrangeFlower:E,canPasteFlower:!!w.current,onUndo:K,onRedo:J,canUndo:v>0,canRedo:v<h.length-1}),c==="recipe"&&o&&Z&&s.jsx(cb,{project:o,recipe:Z,onBack:()=>r("editor"),onExportJson:F}),c==="terms"&&s.jsx(sb,{onBack:()=>r("home")}),c==="privacy"&&s.jsx(xb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!o&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(ob,{onNavigate:r})]})}class db extends P.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}gh.createRoot(document.getElementById("root")).render(s.jsx(P.StrictMode,{children:s.jsx(db,{children:s.jsx(fb,{})})}));

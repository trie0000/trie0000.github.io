(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))r(f);new MutationObserver(f=>{for(const o of f)if(o.type==="childList")for(const v of o.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function a(f){const o={};return f.integrity&&(o.integrity=f.integrity),f.referrerPolicy&&(o.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?o.credentials="include":f.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(f){if(f.ep)return;f.ep=!0;const o=a(f);fetch(f.href,o)}})();var lx={exports:{}},$i={};var zd;function hh(){if(zd)return $i;zd=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,f,o){var v=null;if(o!==void 0&&(v=""+o),f.key!==void 0&&(v=""+f.key),"key"in f){o={};for(var S in f)S!=="key"&&(o[S]=f[S])}else o=f;return f=o.ref,{$$typeof:u,type:r,key:v,ref:f!==void 0?f:null,props:o}}return $i.Fragment=i,$i.jsx=a,$i.jsxs=a,$i}var Dd;function mh(){return Dd||(Dd=1,lx.exports=hh()),lx.exports}var x=mh(),ax={exports:{}},Ae={};var Nd;function bh(){if(Nd)return Ae;Nd=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function M(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function G(j,k,B){this.props=j,this.context=k,this.refs=m,this.updater=B||D}G.prototype.isReactComponent={},G.prototype.setState=function(j,k){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,k,"setState")},G.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function H(){}H.prototype=G.prototype;function R(j,k,B){this.props=j,this.context=k,this.refs=m,this.updater=B||D}var K=R.prototype=new H;K.constructor=R,g(K,G.prototype),K.isPureReactComponent=!0;var O=Array.isArray;function Z(){}var q={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function P(j,k,B){var U=B.ref;return{$$typeof:u,type:j,key:k,ref:U!==void 0?U:null,props:B}}function W(j,k){return P(j.type,k,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===u}function I(j){var k={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(B){return k[B]})}var Y=/\/+/g;function w(j,k){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):k.toString(36)}function b(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Z,Z):(j.status="pending",j.then(function(k){j.status==="pending"&&(j.status="fulfilled",j.value=k)},function(k){j.status==="pending"&&(j.status="rejected",j.reason=k)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function z(j,k,B,U,Q){var ee=typeof j;(ee==="undefined"||ee==="boolean")&&(j=null);var ne=!1;if(j===null)ne=!0;else switch(ee){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(j.$$typeof){case u:case i:ne=!0;break;case _:return ne=j._init,z(ne(j._payload),k,B,U,Q)}}if(ne)return Q=Q(j),ne=U===""?"."+w(j,0):U,O(Q)?(B="",ne!=null&&(B=ne.replace(Y,"$&/")+"/"),z(Q,k,B,"",function(be){return be})):Q!=null&&(V(Q)&&(Q=W(Q,B+(Q.key==null||j&&j.key===Q.key?"":(""+Q.key).replace(Y,"$&/")+"/")+ne)),k.push(Q)),1;ne=0;var ce=U===""?".":U+":";if(O(j))for(var oe=0;oe<j.length;oe++)U=j[oe],ee=ce+w(U,oe),ne+=z(U,k,B,ee,Q);else if(oe=M(j),typeof oe=="function")for(j=oe.call(j),oe=0;!(U=j.next()).done;)U=U.value,ee=ce+w(U,oe++),ne+=z(U,k,B,ee,Q);else if(ee==="object"){if(typeof j.then=="function")return z(b(j),k,B,U,Q);throw k=String(j),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ne}function A(j,k,B){if(j==null)return j;var U=[],Q=0;return z(j,U,"","",function(ee){return k.call(B,ee,Q++)}),U}function L(j){if(j._status===-1){var k=j._result;k=k(),k.then(function(B){(j._status===0||j._status===-1)&&(j._status=1,j._result=B)},function(B){(j._status===0||j._status===-1)&&(j._status=2,j._result=B)}),j._status===-1&&(j._status=0,j._result=k)}if(j._status===1)return j._result.default;throw j._result}var N=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},T={map:A,forEach:function(j,k,B){A(j,function(){k.apply(this,arguments)},B)},count:function(j){var k=0;return A(j,function(){k++}),k},toArray:function(j){return A(j,function(k){return k})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ae.Activity=p,Ae.Children=T,Ae.Component=G,Ae.Fragment=a,Ae.Profiler=f,Ae.PureComponent=R,Ae.StrictMode=r,Ae.Suspense=d,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(j){return q.H.useMemoCache(j)}},Ae.cache=function(j){return function(){return j.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(j,k,B){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var U=g({},j.props),Q=j.key;if(k!=null)for(ee in k.key!==void 0&&(Q=""+k.key),k)!X.call(k,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&k.ref===void 0||(U[ee]=k[ee]);var ee=arguments.length-2;if(ee===1)U.children=B;else if(1<ee){for(var ne=Array(ee),ce=0;ce<ee;ce++)ne[ce]=arguments[ce+2];U.children=ne}return P(j.type,Q,U)},Ae.createContext=function(j){return j={$$typeof:v,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Ae.createElement=function(j,k,B){var U,Q={},ee=null;if(k!=null)for(U in k.key!==void 0&&(ee=""+k.key),k)X.call(k,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(Q[U]=k[U]);var ne=arguments.length-2;if(ne===1)Q.children=B;else if(1<ne){for(var ce=Array(ne),oe=0;oe<ne;oe++)ce[oe]=arguments[oe+2];Q.children=ce}if(j&&j.defaultProps)for(U in ne=j.defaultProps,ne)Q[U]===void 0&&(Q[U]=ne[U]);return P(j,ee,Q)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(j){return{$$typeof:S,render:j}},Ae.isValidElement=V,Ae.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:L}},Ae.memo=function(j,k){return{$$typeof:h,type:j,compare:k===void 0?null:k}},Ae.startTransition=function(j){var k=q.T,B={};q.T=B;try{var U=j(),Q=q.S;Q!==null&&Q(B,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(Z,N)}catch(ee){N(ee)}finally{k!==null&&B.types!==null&&(k.types=B.types),q.T=k}},Ae.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ae.use=function(j){return q.H.use(j)},Ae.useActionState=function(j,k,B){return q.H.useActionState(j,k,B)},Ae.useCallback=function(j,k){return q.H.useCallback(j,k)},Ae.useContext=function(j){return q.H.useContext(j)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(j,k){return q.H.useDeferredValue(j,k)},Ae.useEffect=function(j,k){return q.H.useEffect(j,k)},Ae.useEffectEvent=function(j){return q.H.useEffectEvent(j)},Ae.useId=function(){return q.H.useId()},Ae.useImperativeHandle=function(j,k,B){return q.H.useImperativeHandle(j,k,B)},Ae.useInsertionEffect=function(j,k){return q.H.useInsertionEffect(j,k)},Ae.useLayoutEffect=function(j,k){return q.H.useLayoutEffect(j,k)},Ae.useMemo=function(j,k){return q.H.useMemo(j,k)},Ae.useOptimistic=function(j,k){return q.H.useOptimistic(j,k)},Ae.useReducer=function(j,k,B){return q.H.useReducer(j,k,B)},Ae.useRef=function(j){return q.H.useRef(j)},Ae.useState=function(j){return q.H.useState(j)},Ae.useSyncExternalStore=function(j,k,B){return q.H.useSyncExternalStore(j,k,B)},Ae.useTransition=function(){return q.H.useTransition()},Ae.version="19.2.3",Ae}var Ad;function Bx(){return Ad||(Ad=1,ax.exports=bh()),ax.exports}var te=Bx(),ix={exports:{}},er={},rx={exports:{}},ux={};var Ld;function gh(){return Ld||(Ld=1,(function(u){function i(z,A){var L=z.length;z.push(A);e:for(;0<L;){var N=L-1>>>1,T=z[N];if(0<f(T,A))z[N]=A,z[L]=T,L=N;else break e}}function a(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var A=z[0],L=z.pop();if(L!==A){z[0]=L;e:for(var N=0,T=z.length,j=T>>>1;N<j;){var k=2*(N+1)-1,B=z[k],U=k+1,Q=z[U];if(0>f(B,L))U<T&&0>f(Q,B)?(z[N]=Q,z[U]=L,N=U):(z[N]=B,z[k]=L,N=k);else if(U<T&&0>f(Q,L))z[N]=Q,z[U]=L,N=U;else break e}}return A}function f(z,A){var L=z.sortIndex-A.sortIndex;return L!==0?L:z.id-A.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var v=Date,S=v.now();u.unstable_now=function(){return v.now()-S}}var d=[],h=[],_=1,p=null,y=3,M=!1,D=!1,g=!1,m=!1,G=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function K(z){for(var A=a(h);A!==null;){if(A.callback===null)r(h);else if(A.startTime<=z)r(h),A.sortIndex=A.expirationTime,i(d,A);else break;A=a(h)}}function O(z){if(g=!1,K(z),!D)if(a(d)!==null)D=!0,Z||(Z=!0,I());else{var A=a(h);A!==null&&b(O,A.startTime-z)}}var Z=!1,q=-1,X=5,P=-1;function W(){return m?!0:!(u.unstable_now()-P<X)}function V(){if(m=!1,Z){var z=u.unstable_now();P=z;var A=!0;try{e:{D=!1,g&&(g=!1,H(q),q=-1),M=!0;var L=y;try{t:{for(K(z),p=a(d);p!==null&&!(p.expirationTime>z&&W());){var N=p.callback;if(typeof N=="function"){p.callback=null,y=p.priorityLevel;var T=N(p.expirationTime<=z);if(z=u.unstable_now(),typeof T=="function"){p.callback=T,K(z),A=!0;break t}p===a(d)&&r(d),K(z)}else r(d);p=a(d)}if(p!==null)A=!0;else{var j=a(h);j!==null&&b(O,j.startTime-z),A=!1}}break e}finally{p=null,y=L,M=!1}A=void 0}}finally{A?I():Z=!1}}}var I;if(typeof R=="function")I=function(){R(V)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,w=Y.port2;Y.port1.onmessage=V,I=function(){w.postMessage(null)}}else I=function(){G(V,0)};function b(z,A){q=G(function(){z(u.unstable_now())},A)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(z){z.callback=null},u.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<z?Math.floor(1e3/z):5},u.unstable_getCurrentPriorityLevel=function(){return y},u.unstable_next=function(z){switch(y){case 1:case 2:case 3:var A=3;break;default:A=y}var L=y;y=A;try{return z()}finally{y=L}},u.unstable_requestPaint=function(){m=!0},u.unstable_runWithPriority=function(z,A){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var L=y;y=z;try{return A()}finally{y=L}},u.unstable_scheduleCallback=function(z,A,L){var N=u.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?N+L:N):L=N,z){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=L+T,z={id:_++,callback:A,priorityLevel:z,startTime:L,expirationTime:T,sortIndex:-1},L>N?(z.sortIndex=L,i(h,z),a(d)===null&&z===a(h)&&(g?(H(q),q=-1):g=!0,b(O,L-N))):(z.sortIndex=T,i(d,z),D||M||(D=!0,Z||(Z=!0,I()))),z},u.unstable_shouldYield=W,u.unstable_wrapCallback=function(z){var A=y;return function(){var L=y;y=A;try{return z.apply(this,arguments)}finally{y=L}}}})(ux)),ux}var Ed;function vh(){return Ed||(Ed=1,rx.exports=gh()),rx.exports}var cx={exports:{}},Zt={};var Td;function yh(){if(Td)return Zt;Td=1;var u=Bx();function i(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)h+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function o(d,h,_){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:p==null?null:""+p,children:d,containerInfo:h,implementation:_}}var v=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(d,h){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(i(299));return o(d,h,null,_)},Zt.flushSync=function(d){var h=v.T,_=r.p;try{if(v.T=null,r.p=2,d)return d()}finally{v.T=h,r.p=_,r.d.f()}},Zt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Zt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Zt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var _=h.as,p=S(_,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,M=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;_==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:M}):_==="script"&&r.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:M,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Zt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var _=S(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Zt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var _=h.as,p=S(_,h.crossOrigin);r.d.L(d,_,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Zt.preloadModule=function(d,h){if(typeof d=="string")if(h){var _=S(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Zt.requestFormReset=function(d){r.d.r(d)},Zt.unstable_batchedUpdates=function(d,h){return d(h)},Zt.useFormState=function(d,h,_){return v.H.useFormState(d,h,_)},Zt.useFormStatus=function(){return v.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var kd;function ph(){if(kd)return cx.exports;kd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),cx.exports=yh(),cx.exports}var qd;function _h(){if(qd)return er;qd=1;var u=vh(),i=Bx(),a=ph();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(r(188))}function h(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var s=c.alternate;if(s===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===s.child){for(s=c.child;s;){if(s===n)return d(c),e;if(s===l)return d(c),t;s=s.sibling}throw Error(r(188))}if(n.return!==l.return)n=c,l=s;else{for(var C=!1,E=c.child;E;){if(E===n){C=!0,n=c,l=s;break}if(E===l){C=!0,l=c,n=s;break}E=E.sibling}if(!C){for(E=s.child;E;){if(E===n){C=!0,n=s,l=c;break}if(E===l){C=!0,l=s,n=c;break}E=E.sibling}if(!C)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),R=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case G:return"Profiler";case m:return"StrictMode";case O:return"Suspense";case Z:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case R:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:w(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return w(e(t))}catch{}}return null}var b=Array.isArray,z=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},N=[],T=-1;function j(e){return{current:e}}function k(e){0>T||(e.current=N[T],N[T]=null,T--)}function B(e,t){T++,N[T]=e.current,e.current=t}var U=j(null),Q=j(null),ee=j(null),ne=j(null);function ce(e,t){switch(B(ee,t),B(Q,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qf(t),e=Pf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(U),B(U,e)}function oe(){k(U),k(Q),k(ee)}function be(e){e.memoizedState!==null&&B(ne,e);var t=U.current,n=Pf(t,e.type);t!==n&&(B(Q,e),B(U,n))}function he(e){Q.current===e&&(k(U),k(Q)),ne.current===e&&(k(ne),Wi._currentValue=L)}var je,He;function Ie(e){if(je===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);je=t&&t[1]||"",He=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+e+He}var ze=!1;function Xe(e,t){if(!e||ze)return"";ze=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(re){var ie=re}Reflect.construct(e,[],se)}else{try{se.call()}catch(re){ie=re}e.call(se.prototype)}}else{try{throw Error()}catch(re){ie=re}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(re){if(re&&ie&&typeof re.stack=="string")return[re.stack,ie.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),C=s[0],E=s[1];if(C&&E){var J=C.split(`
`),ae=E.split(`
`);for(c=l=0;l<J.length&&!J[l].includes("DetermineComponentFrameRoot");)l++;for(;c<ae.length&&!ae[c].includes("DetermineComponentFrameRoot");)c++;if(l===J.length||c===ae.length)for(l=J.length-1,c=ae.length-1;1<=l&&0<=c&&J[l]!==ae[c];)c--;for(;1<=l&&0<=c;l--,c--)if(J[l]!==ae[c]){if(l!==1||c!==1)do if(l--,c--,0>c||J[l]!==ae[c]){var ue=`
`+J[l].replace(" at new "," at ");return e.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",e.displayName)),ue}while(1<=l&&0<=c);break}}}finally{ze=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ie(n):""}function mt(e,t){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==t&&t!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Xe(e.type,!1);case 11:return Xe(e.type.render,!1);case 1:return Xe(e.type,!0);case 31:return Ie("Activity");default:return""}}function gt(e){try{var t="",n=null;do t+=mt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,Yt=u.unstable_scheduleCallback,rn=u.unstable_cancelCallback,Xn=u.unstable_shouldYield,Jn=u.unstable_requestPaint,$e=u.unstable_now,bn=u.unstable_getCurrentPriorityLevel,jl=u.unstable_ImmediatePriority,al=u.unstable_UserBlockingPriority,il=u.unstable_NormalPriority,zl=u.unstable_LowPriority,na=u.unstable_IdlePriority,Vn=u.log,si=u.unstable_setDisableYieldValue,Rn=null,Bt=null;function gn(e){if(typeof Vn=="function"&&si(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Rn,e)}catch{}}var Ke=Math.clz32?Math.clz32:Be,de=Math.log,qe=Math.LN2;function Be(e){return e>>>=0,e===0?32:31-(de(e)/qe|0)|0}var Se=256,pe=262144,Le=4194304;function De(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,s=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~s,l!==0?c=De(l):(C&=E,C!==0?c=De(C):n||(n=E&~e,n!==0&&(c=De(n))))):(E=l&~s,E!==0?c=De(E):C!==0?c=De(C):n||(n=l&~e,n!==0&&(c=De(n)))),c===0?0:t!==0&&t!==c&&(t&s)===0&&(s=c&-c,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:c}function et(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function tt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function We(){var e=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),e}function Qe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function It(e,t,n,l,c,s){var C=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var E=e.entanglements,J=e.expirationTimes,ae=e.hiddenUpdates;for(n=C&~n;0<n;){var ue=31-Ke(n),se=1<<ue;E[ue]=0,J[ue]=-1;var ie=ae[ue];if(ie!==null)for(ae[ue]=null,ue=0;ue<ie.length;ue++){var re=ie[ue];re!==null&&(re.lane&=-536870913)}n&=~se}l!==0&&nt(e,l,0),s!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=s&~(C&~t))}function nt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ke(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function At(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Ke(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function ut(e,t){var n=t&-t;return n=(n&42)!==0?1:at(n),(n&(e.suspendedLanes|t))!==0?0:n}function at(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vn(){var e=A.p;return e!==0?e:(e=window.event,e===void 0?32:pd(e.type))}function wa(e,t){var n=A.p;try{return A.p=e,t()}finally{A.p=n}}var Pt=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Pt,Rt="__reactProps$"+Pt,Dl="__reactContainer$"+Pt,yn="__reactEvents$"+Pt,V0="__reactListeners$"+Pt,W0="__reactHandles$"+Pt,or="__reactResources$"+Pt,la="__reactMarker$"+Pt;function oi(e){delete e[Ne],delete e[Rt],delete e[yn],delete e[V0],delete e[W0]}function Nl(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dl]||n[Ne]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ad(e);e!==null;){if(n=e[Ne])return n;e=ad(e)}return t}e=n,n=e.parentNode}return null}function me(e){if(e=e[Ne]||e[Dl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _e(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Re(e){var t=e[or];return t||(t=e[or]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[la]=!0}var Mt=new Set,Wn={};function rl(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Wn[e]=t,e=0;e<t.length;e++)Mt.add(t[e])}var i1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rx={},Gx={};function r1(e){return ft.call(Gx,e)?!0:ft.call(Rx,e)?!1:i1.test(e)?Gx[e]=!0:(Rx[e]=!0,!1)}function fr(e,t,n){if(r1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function dr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ul(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ox(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(C){n=""+C,s.call(this,C)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(C){n=""+C},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Q0(e){if(!e._valueTracker){var t=Ox(e)?"checked":"value";e._valueTracker=u1(e,t,""+e[t])}}function Hx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Ox(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function hr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var c1=/[\n"\\]/g;function _n(e){return e.replace(c1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function P0(e,t,n,l,c,s,C,E){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),t!=null?C==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pn(t)):e.value!==""+pn(t)&&(e.value=""+pn(t)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),t!=null?F0(e,C,pn(t)):n!=null?F0(e,C,pn(n)):l!=null&&e.removeAttribute("value"),c==null&&s!=null&&(e.defaultChecked=!!s),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+pn(E):e.removeAttribute("name")}function Kx(e,t,n,l,c,s,C,E){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Q0(e);return}n=n!=null?""+pn(n):"",t=t!=null?""+pn(t):n,E||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),Q0(e)}function F0(e,t,n){t==="number"&&hr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Ux(e,t,n){if(t!=null&&(t=""+pn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+pn(n):""}function Yx(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(b(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=pn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Q0(e)}function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var x1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zx(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||x1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xx(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Zx(e,c,l)}else for(var s in t)t.hasOwnProperty(s)&&Zx(e,s,t[s])}function $0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),o1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(e){return o1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function cl(){}var eu=null;function tu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var za=null,Da=null;function Jx(e){var t=me(e);if(t&&(e=t.stateNode)){var n=e[Rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(P0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Rt]||null;if(!c)throw Error(r(90));P0(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Hx(l)}break e;case"textarea":Ux(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var nu=!1;function Vx(e,t,n){if(nu)return e(t,n);nu=!0;try{var l=e(t);return l}finally{if(nu=!1,(za!==null||Da!==null)&&(n0(),za&&(t=za,e=Da,Da=za=null,Jx(t),e)))for(t=0;t<e.length;t++)Jx(e[t])}}function fi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Rt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lu=!1;if(xl)try{var di={};Object.defineProperty(di,"passive",{get:function(){lu=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{lu=!1}var Al=null,au=null,br=null;function Wx(){if(br)return br;var e,t=au,n=t.length,l,c="value"in Al?Al.value:Al.textContent,s=c.length;for(e=0;e<n&&t[e]===c[e];e++);var C=n-e;for(l=1;l<=C&&t[n-l]===c[s-l];l++);return br=c.slice(e,1<l?1-l:void 0)}function gr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vr(){return!0}function Qx(){return!1}function Ft(e){function t(n,l,c,s,C){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=s,this.target=C,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(n=e[E],this[E]=n?n(s):s[E]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vr:Qx,this.isPropagationStopped=Qx,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),t}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=Ft(aa),hi=p({},aa,{view:0,detail:0}),f1=Ft(hi),iu,ru,mi,pr=p({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(iu=e.screenX-mi.screenX,ru=e.screenY-mi.screenY):ru=iu=0,mi=e),iu)},movementY:function(e){return"movementY"in e?e.movementY:ru}}),Px=Ft(pr),d1=p({},pr,{dataTransfer:0}),h1=Ft(d1),m1=p({},hi,{relatedTarget:0}),uu=Ft(m1),b1=p({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),g1=Ft(b1),v1=p({},aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y1=Ft(v1),p1=p({},aa,{data:0}),Fx=Ft(p1),_1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w1[e])?!!t[e]:!1}function cu(){return C1}var M1=p({},hi,{key:function(e){if(e.key){var t=_1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?S1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cu,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j1=Ft(M1),z1=p({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$x=Ft(z1),D1=p({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cu}),N1=Ft(D1),A1=p({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),L1=Ft(A1),E1=p({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T1=Ft(E1),k1=p({},aa,{newState:0,oldState:0}),q1=Ft(k1),B1=[9,13,27,32],xu=xl&&"CompositionEvent"in window,bi=null;xl&&"documentMode"in document&&(bi=document.documentMode);var I1=xl&&"TextEvent"in window&&!bi,es=xl&&(!xu||bi&&8<bi&&11>=bi),ts=" ",ns=!1;function ls(e,t){switch(e){case"keyup":return B1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function as(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function R1(e,t){switch(e){case"compositionend":return as(t);case"keypress":return t.which!==32?null:(ns=!0,ts);case"textInput":return e=t.data,e===ts&&ns?null:e;default:return null}}function G1(e,t){if(Na)return e==="compositionend"||!xu&&ls(e,t)?(e=Wx(),br=au=Al=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return es&&t.locale!=="ko"?null:t.data;default:return null}}var O1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function is(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O1[e.type]:t==="textarea"}function rs(e,t,n,l){za?Da?Da.push(l):Da=[l]:za=l,t=x0(t,"onChange"),0<t.length&&(n=new yr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var gi=null,vi=null;function H1(e){Yf(e,0)}function _r(e){var t=_e(e);if(Hx(t))return e}function us(e,t){if(e==="change")return t}var cs=!1;if(xl){var su;if(xl){var ou="oninput"in document;if(!ou){var xs=document.createElement("div");xs.setAttribute("oninput","return;"),ou=typeof xs.oninput=="function"}su=ou}else su=!1;cs=su&&(!document.documentMode||9<document.documentMode)}function ss(){gi&&(gi.detachEvent("onpropertychange",os),vi=gi=null)}function os(e){if(e.propertyName==="value"&&_r(vi)){var t=[];rs(t,vi,e,tu(e)),Vx(H1,t)}}function K1(e,t,n){e==="focusin"?(ss(),gi=t,vi=n,gi.attachEvent("onpropertychange",os)):e==="focusout"&&ss()}function U1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _r(vi)}function Y1(e,t){if(e==="click")return _r(t)}function Z1(e,t){if(e==="input"||e==="change")return _r(t)}function X1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:X1;function yi(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!ft.call(t,c)||!un(e[c],t[c]))return!1}return!0}function fs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ds(e,t){var n=fs(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fs(n)}}function hs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ms(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=hr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hr(e.document)}return t}function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var J1=xl&&"documentMode"in document&&11>=document.documentMode,Aa=null,du=null,pi=null,hu=!1;function bs(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hu||Aa==null||Aa!==hr(l)||(l=Aa,"selectionStart"in l&&fu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pi&&yi(pi,l)||(pi=l,l=x0(du,"onSelect"),0<l.length&&(t=new yr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Aa)))}function ia(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var La={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},mu={},gs={};xl&&(gs=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function ra(e){if(mu[e])return mu[e];if(!La[e])return e;var t=La[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gs)return mu[e]=t[n];return e}var vs=ra("animationend"),ys=ra("animationiteration"),ps=ra("animationstart"),V1=ra("transitionrun"),W1=ra("transitionstart"),Q1=ra("transitioncancel"),_s=ra("transitionend"),Ss=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function Gn(e,t){Ss.set(e,t),rl(t,[e])}var Sr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],Ea=0,gu=0;function wr(){for(var e=Ea,t=gu=Ea=0;t<e;){var n=Sn[t];Sn[t++]=null;var l=Sn[t];Sn[t++]=null;var c=Sn[t];Sn[t++]=null;var s=Sn[t];if(Sn[t++]=null,l!==null&&c!==null){var C=l.pending;C===null?c.next=c:(c.next=C.next,C.next=c),l.pending=c}s!==0&&ws(n,c,s)}}function Cr(e,t,n,l){Sn[Ea++]=e,Sn[Ea++]=t,Sn[Ea++]=n,Sn[Ea++]=l,gu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function vu(e,t,n,l){return Cr(e,t,n,l),Mr(e)}function ua(e,t){return Cr(e,null,null,t),Mr(e)}function ws(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(c=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,c&&t!==null&&(c=31-Ke(n),e=s.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),s):null}function Mr(e){if(50<Ki)throw Ki=0,zc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ta={};function P1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,l){return new P1(e,t,n,l)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sl(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Cs(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jr(e,t,n,l,c,s){var C=0;if(l=e,typeof e=="function")yu(e)&&(C=1);else if(typeof e=="string")C=nh(e,n,U.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=cn(31,n,t,c),e.elementType=P,e.lanes=s,e;case g:return ca(n.children,c,s,t);case m:C=8,c|=24;break;case G:return e=cn(12,n,t,c|2),e.elementType=G,e.lanes=s,e;case O:return e=cn(13,n,t,c),e.elementType=O,e.lanes=s,e;case Z:return e=cn(19,n,t,c),e.elementType=Z,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:C=10;break e;case H:C=9;break e;case K:C=11;break e;case q:C=14;break e;case X:C=16,l=null;break e}C=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=cn(C,n,t,c),t.elementType=e,t.type=l,t.lanes=s,t}function ca(e,t,n,l){return e=cn(7,e,l,t),e.lanes=n,e}function pu(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function Ms(e){var t=cn(18,null,null,0);return t.stateNode=e,t}function _u(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var js=new WeakMap;function wn(e,t){if(typeof e=="object"&&e!==null){var n=js.get(e);return n!==void 0?n:(t={value:e,source:t,stack:gt(t)},js.set(e,t),t)}return{value:e,source:t,stack:gt(t)}}var ka=[],qa=0,zr=null,_i=0,Cn=[],Mn=0,Ll=null,Qn=1,Pn="";function ol(e,t){ka[qa++]=_i,ka[qa++]=zr,zr=e,_i=t}function zs(e,t,n){Cn[Mn++]=Qn,Cn[Mn++]=Pn,Cn[Mn++]=Ll,Ll=e;var l=Qn;e=Pn;var c=32-Ke(l)-1;l&=~(1<<c),n+=1;var s=32-Ke(t)+c;if(30<s){var C=c-c%5;s=(l&(1<<C)-1).toString(32),l>>=C,c-=C,Qn=1<<32-Ke(t)+c|n<<c|l,Pn=s+e}else Qn=1<<s|n<<c|l,Pn=e}function Su(e){e.return!==null&&(ol(e,1),zs(e,1,0))}function wu(e){for(;e===zr;)zr=ka[--qa],ka[qa]=null,_i=ka[--qa],ka[qa]=null;for(;e===Ll;)Ll=Cn[--Mn],Cn[Mn]=null,Pn=Cn[--Mn],Cn[Mn]=null,Qn=Cn[--Mn],Cn[Mn]=null}function Ds(e,t){Cn[Mn++]=Qn,Cn[Mn++]=Pn,Cn[Mn++]=Ll,Qn=t.id,Pn=t.overflow,Ll=e}var Gt=null,dt=null,Ze=!1,El=null,jn=!1,Cu=Error(r(519));function Tl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Si(wn(t,e)),Cu}function Ns(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Ne]=e,t[Rt]=l,n){case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":case"embed":Oe("load",t);break;case"video":case"audio":for(n=0;n<Yi.length;n++)Oe(Yi[n],t);break;case"source":Oe("error",t);break;case"img":case"image":case"link":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"input":Oe("invalid",t),Kx(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",t);break;case"textarea":Oe("invalid",t),Yx(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Vf(t.textContent,n)?(l.popover!=null&&(Oe("beforetoggle",t),Oe("toggle",t)),l.onScroll!=null&&Oe("scroll",t),l.onScrollEnd!=null&&Oe("scrollend",t),l.onClick!=null&&(t.onclick=cl),t=!0):t=!1,t||Tl(e,!0)}function As(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Gt=Gt.return}}function Ba(e){if(e!==Gt)return!1;if(!Ze)return As(e),Ze=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Kc(e.type,e.memoizedProps)),n=!n),n&&dt&&Tl(e),As(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));dt=ld(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));dt=ld(e)}else t===27?(t=dt,Jl(e.type)?(e=Jc,Jc=null,dt=e):dt=t):dt=Gt?Dn(e.stateNode.nextSibling):null;return!0}function xa(){dt=Gt=null,Ze=!1}function Mu(){var e=El;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),El=null),e}function Si(e){El===null?El=[e]:El.push(e)}var ju=j(null),sa=null,fl=null;function kl(e,t,n){B(ju,t._currentValue),t._currentValue=n}function dl(e){e._currentValue=ju.current,k(ju)}function zu(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Du(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var s=c.dependencies;if(s!==null){var C=c.child;s=s.firstContext;e:for(;s!==null;){var E=s;s=c;for(var J=0;J<t.length;J++)if(E.context===t[J]){s.lanes|=n,E=s.alternate,E!==null&&(E.lanes|=n),zu(s.return,n,e),l||(C=null);break e}s=E.next}}else if(c.tag===18){if(C=c.return,C===null)throw Error(r(341));C.lanes|=n,s=C.alternate,s!==null&&(s.lanes|=n),zu(C,n,e),C=null}else C=c.child;if(C!==null)C.return=c;else for(C=c;C!==null;){if(C===e){C=null;break}if(c=C.sibling,c!==null){c.return=C.return,C=c;break}C=C.return}c=C}}function Ia(e,t,n,l){e=null;for(var c=t,s=!1;c!==null;){if(!s){if((c.flags&524288)!==0)s=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var C=c.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var E=c.type;un(c.pendingProps.value,C.value)||(e!==null?e.push(E):e=[E])}}else if(c===ne.current){if(C=c.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Wi):e=[Wi])}c=c.return}e!==null&&Du(t,e,n,l),t.flags|=262144}function Dr(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function oa(e){sa=e,fl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return Ls(sa,e)}function Nr(e,t){return sa===null&&oa(e),Ls(e,t)}function Ls(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fl===null){if(e===null)throw Error(r(308));fl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fl=fl.next=t;return n}var F1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},$1=u.unstable_scheduleCallback,e2=u.unstable_NormalPriority,jt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nu(){return{controller:new F1,data:new Map,refCount:0}}function wi(e){e.refCount--,e.refCount===0&&$1(e2,function(){e.controller.abort()})}var Ci=null,Au=0,Ra=0,Ga=null;function t2(e,t){if(Ci===null){var n=Ci=[];Au=0,Ra=Tc(),Ga={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Au++,t.then(Es,Es),t}function Es(){if(--Au===0&&Ci!==null){Ga!==null&&(Ga.status="fulfilled");var e=Ci;Ci=null,Ra=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function n2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Ts=z.S;z.S=function(e,t){vf=$e(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&t2(e,t),Ts!==null&&Ts(e,t)};var fa=j(null);function Lu(){var e=fa.current;return e!==null?e:ot.pooledCache}function Ar(e,t){t===null?B(fa,fa.current):B(fa,t.pool)}function ks(){var e=Lu();return e===null?null:{parent:jt._currentValue,pool:e}}var Oa=Error(r(460)),Eu=Error(r(474)),Lr=Error(r(542)),Er={then:function(){}};function qs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(cl,cl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rs(e),e;default:if(typeof t.status=="string")t.then(cl,cl);else{if(e=ot,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rs(e),e}throw ha=t,Oa}}function da(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ha=n,Oa):n}}var ha=null;function Is(){if(ha===null)throw Error(r(459));var e=ha;return ha=null,e}function Rs(e){if(e===Oa||e===Lr)throw Error(r(483))}var Ha=null,Mi=0;function Tr(e){var t=Mi;return Mi+=1,Ha===null&&(Ha=[]),Bs(Ha,e,t)}function ji(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function kr(e,t){throw t.$$typeof===y?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gs(e){function t($,F){if(e){var le=$.deletions;le===null?($.deletions=[F],$.flags|=16):le.push(F)}}function n($,F){if(!e)return null;for(;F!==null;)t($,F),F=F.sibling;return null}function l($){for(var F=new Map;$!==null;)$.key!==null?F.set($.key,$):F.set($.index,$),$=$.sibling;return F}function c($,F){return $=sl($,F),$.index=0,$.sibling=null,$}function s($,F,le){return $.index=le,e?(le=$.alternate,le!==null?(le=le.index,le<F?($.flags|=67108866,F):le):($.flags|=67108866,F)):($.flags|=1048576,F)}function C($){return e&&$.alternate===null&&($.flags|=67108866),$}function E($,F,le,xe){return F===null||F.tag!==6?(F=pu(le,$.mode,xe),F.return=$,F):(F=c(F,le),F.return=$,F)}function J($,F,le,xe){var Ce=le.type;return Ce===g?ue($,F,le.props.children,xe,le.key):F!==null&&(F.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===X&&da(Ce)===F.type)?(F=c(F,le.props),ji(F,le),F.return=$,F):(F=jr(le.type,le.key,le.props,null,$.mode,xe),ji(F,le),F.return=$,F)}function ae($,F,le,xe){return F===null||F.tag!==4||F.stateNode.containerInfo!==le.containerInfo||F.stateNode.implementation!==le.implementation?(F=_u(le,$.mode,xe),F.return=$,F):(F=c(F,le.children||[]),F.return=$,F)}function ue($,F,le,xe,Ce){return F===null||F.tag!==7?(F=ca(le,$.mode,xe,Ce),F.return=$,F):(F=c(F,le),F.return=$,F)}function se($,F,le){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=pu(""+F,$.mode,le),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return le=jr(F.type,F.key,F.props,null,$.mode,le),ji(le,F),le.return=$,le;case D:return F=_u(F,$.mode,le),F.return=$,F;case X:return F=da(F),se($,F,le)}if(b(F)||I(F))return F=ca(F,$.mode,le,null),F.return=$,F;if(typeof F.then=="function")return se($,Tr(F),le);if(F.$$typeof===R)return se($,Nr($,F),le);kr($,F)}return null}function ie($,F,le,xe){var Ce=F!==null?F.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ce!==null?null:E($,F,""+le,xe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case M:return le.key===Ce?J($,F,le,xe):null;case D:return le.key===Ce?ae($,F,le,xe):null;case X:return le=da(le),ie($,F,le,xe)}if(b(le)||I(le))return Ce!==null?null:ue($,F,le,xe,null);if(typeof le.then=="function")return ie($,F,Tr(le),xe);if(le.$$typeof===R)return ie($,F,Nr($,le),xe);kr($,le)}return null}function re($,F,le,xe,Ce){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return $=$.get(le)||null,E(F,$,""+xe,Ce);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case M:return $=$.get(xe.key===null?le:xe.key)||null,J(F,$,xe,Ce);case D:return $=$.get(xe.key===null?le:xe.key)||null,ae(F,$,xe,Ce);case X:return xe=da(xe),re($,F,le,xe,Ce)}if(b(xe)||I(xe))return $=$.get(le)||null,ue(F,$,xe,Ce,null);if(typeof xe.then=="function")return re($,F,le,Tr(xe),Ce);if(xe.$$typeof===R)return re($,F,le,Nr(F,xe),Ce);kr(F,xe)}return null}function ge($,F,le,xe){for(var Ce=null,Pe=null,ve=F,ke=F=0,Ye=null;ve!==null&&ke<le.length;ke++){ve.index>ke?(Ye=ve,ve=null):Ye=ve.sibling;var Fe=ie($,ve,le[ke],xe);if(Fe===null){ve===null&&(ve=Ye);break}e&&ve&&Fe.alternate===null&&t($,ve),F=s(Fe,F,ke),Pe===null?Ce=Fe:Pe.sibling=Fe,Pe=Fe,ve=Ye}if(ke===le.length)return n($,ve),Ze&&ol($,ke),Ce;if(ve===null){for(;ke<le.length;ke++)ve=se($,le[ke],xe),ve!==null&&(F=s(ve,F,ke),Pe===null?Ce=ve:Pe.sibling=ve,Pe=ve);return Ze&&ol($,ke),Ce}for(ve=l(ve);ke<le.length;ke++)Ye=re(ve,$,ke,le[ke],xe),Ye!==null&&(e&&Ye.alternate!==null&&ve.delete(Ye.key===null?ke:Ye.key),F=s(Ye,F,ke),Pe===null?Ce=Ye:Pe.sibling=Ye,Pe=Ye);return e&&ve.forEach(function(Fl){return t($,Fl)}),Ze&&ol($,ke),Ce}function Me($,F,le,xe){if(le==null)throw Error(r(151));for(var Ce=null,Pe=null,ve=F,ke=F=0,Ye=null,Fe=le.next();ve!==null&&!Fe.done;ke++,Fe=le.next()){ve.index>ke?(Ye=ve,ve=null):Ye=ve.sibling;var Fl=ie($,ve,Fe.value,xe);if(Fl===null){ve===null&&(ve=Ye);break}e&&ve&&Fl.alternate===null&&t($,ve),F=s(Fl,F,ke),Pe===null?Ce=Fl:Pe.sibling=Fl,Pe=Fl,ve=Ye}if(Fe.done)return n($,ve),Ze&&ol($,ke),Ce;if(ve===null){for(;!Fe.done;ke++,Fe=le.next())Fe=se($,Fe.value,xe),Fe!==null&&(F=s(Fe,F,ke),Pe===null?Ce=Fe:Pe.sibling=Fe,Pe=Fe);return Ze&&ol($,ke),Ce}for(ve=l(ve);!Fe.done;ke++,Fe=le.next())Fe=re(ve,$,ke,Fe.value,xe),Fe!==null&&(e&&Fe.alternate!==null&&ve.delete(Fe.key===null?ke:Fe.key),F=s(Fe,F,ke),Pe===null?Ce=Fe:Pe.sibling=Fe,Pe=Fe);return e&&ve.forEach(function(dh){return t($,dh)}),Ze&&ol($,ke),Ce}function st($,F,le,xe){if(typeof le=="object"&&le!==null&&le.type===g&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case M:e:{for(var Ce=le.key;F!==null;){if(F.key===Ce){if(Ce=le.type,Ce===g){if(F.tag===7){n($,F.sibling),xe=c(F,le.props.children),xe.return=$,$=xe;break e}}else if(F.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===X&&da(Ce)===F.type){n($,F.sibling),xe=c(F,le.props),ji(xe,le),xe.return=$,$=xe;break e}n($,F);break}else t($,F);F=F.sibling}le.type===g?(xe=ca(le.props.children,$.mode,xe,le.key),xe.return=$,$=xe):(xe=jr(le.type,le.key,le.props,null,$.mode,xe),ji(xe,le),xe.return=$,$=xe)}return C($);case D:e:{for(Ce=le.key;F!==null;){if(F.key===Ce)if(F.tag===4&&F.stateNode.containerInfo===le.containerInfo&&F.stateNode.implementation===le.implementation){n($,F.sibling),xe=c(F,le.children||[]),xe.return=$,$=xe;break e}else{n($,F);break}else t($,F);F=F.sibling}xe=_u(le,$.mode,xe),xe.return=$,$=xe}return C($);case X:return le=da(le),st($,F,le,xe)}if(b(le))return ge($,F,le,xe);if(I(le)){if(Ce=I(le),typeof Ce!="function")throw Error(r(150));return le=Ce.call(le),Me($,F,le,xe)}if(typeof le.then=="function")return st($,F,Tr(le),xe);if(le.$$typeof===R)return st($,F,Nr($,le),xe);kr($,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,F!==null&&F.tag===6?(n($,F.sibling),xe=c(F,le),xe.return=$,$=xe):(n($,F),xe=pu(le,$.mode,xe),xe.return=$,$=xe),C($)):n($,F)}return function($,F,le,xe){try{Mi=0;var Ce=st($,F,le,xe);return Ha=null,Ce}catch(ve){if(ve===Oa||ve===Lr)throw ve;var Pe=cn(29,ve,null,$.mode);return Pe.lanes=xe,Pe.return=$,Pe}}}var ma=Gs(!0),Os=Gs(!1),ql=!1;function Tu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Il(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(lt&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Mr(e),ws(e,null,n),t}return Cr(e,l,t,n),Mr(e)}function zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,At(e,n)}}function qu(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var C={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?c=s=C:s=s.next=C,n=n.next}while(n!==null);s===null?c=s=t:s=s.next=t}else c=s=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Bu=!1;function Di(){if(Bu){var e=Ga;if(e!==null)throw e}}function Ni(e,t,n,l){Bu=!1;var c=e.updateQueue;ql=!1;var s=c.firstBaseUpdate,C=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var J=E,ae=J.next;J.next=null,C===null?s=ae:C.next=ae,C=J;var ue=e.alternate;ue!==null&&(ue=ue.updateQueue,E=ue.lastBaseUpdate,E!==C&&(E===null?ue.firstBaseUpdate=ae:E.next=ae,ue.lastBaseUpdate=J))}if(s!==null){var se=c.baseState;C=0,ue=ae=J=null,E=s;do{var ie=E.lane&-536870913,re=ie!==E.lane;if(re?(Ue&ie)===ie:(l&ie)===ie){ie!==0&&ie===Ra&&(Bu=!0),ue!==null&&(ue=ue.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ge=e,Me=E;ie=t;var st=n;switch(Me.tag){case 1:if(ge=Me.payload,typeof ge=="function"){se=ge.call(st,se,ie);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Me.payload,ie=typeof ge=="function"?ge.call(st,se,ie):ge,ie==null)break e;se=p({},se,ie);break e;case 2:ql=!0}}ie=E.callback,ie!==null&&(e.flags|=64,re&&(e.flags|=8192),re=c.callbacks,re===null?c.callbacks=[ie]:re.push(ie))}else re={lane:ie,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ue===null?(ae=ue=re,J=se):ue=ue.next=re,C|=ie;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;re=E,E=re.next,re.next=null,c.lastBaseUpdate=re,c.shared.pending=null}}while(!0);ue===null&&(J=se),c.baseState=J,c.firstBaseUpdate=ae,c.lastBaseUpdate=ue,s===null&&(c.shared.lanes=0),Kl|=C,e.lanes=C,e.memoizedState=se}}function Hs(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Ks(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Hs(n[e],t)}var Ka=j(null),qr=j(0);function Us(e,t){e=Sl,B(qr,e),B(Ka,t),Sl=e|t.baseLanes}function Iu(){B(qr,Sl),B(Ka,Ka.current)}function Ru(){Sl=qr.current,k(Ka),k(qr)}var xn=j(null),zn=null;function Rl(e){var t=e.alternate;B(_t,_t.current&1),B(xn,e),zn===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(zn=e)}function Gu(e){B(_t,_t.current),B(xn,e),zn===null&&(zn=e)}function Ys(e){e.tag===22?(B(_t,_t.current),B(xn,e),zn===null&&(zn=e)):Gl()}function Gl(){B(_t,_t.current),B(xn,xn.current)}function sn(e){k(xn),zn===e&&(zn=null),k(_t)}var _t=j(0);function Br(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Zc(n)||Xc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hl=0,Te=null,ct=null,zt=null,Ir=!1,Ua=!1,ba=!1,Rr=0,Ai=0,Ya=null,l2=0;function yt(){throw Error(r(321))}function Ou(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function Hu(e,t,n,l,c,s){return hl=s,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Do:nc,ba=!1,s=n(l,c),ba=!1,Ua&&(s=Xs(t,n,l,c)),Zs(e),s}function Zs(e){z.H=Ti;var t=ct!==null&&ct.next!==null;if(hl=0,zt=ct=Te=null,Ir=!1,Ai=0,Ya=null,t)throw Error(r(300));e===null||Dt||(e=e.dependencies,e!==null&&Dr(e)&&(Dt=!0))}function Xs(e,t,n,l){Te=e;var c=0;do{if(Ua&&(Ya=null),Ai=0,Ua=!1,25<=c)throw Error(r(301));if(c+=1,zt=ct=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}z.H=No,s=t(n,l)}while(Ua);return s}function a2(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Li(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Te.flags|=1024),t}function Ku(){var e=Rr!==0;return Rr=0,e}function Uu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yu(e){if(Ir){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ir=!1}hl=0,zt=ct=Te=null,Ua=!1,Ai=Rr=0,Ya=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Te.memoizedState=zt=e:zt=zt.next=e,zt}function St(){if(ct===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=zt===null?Te.memoizedState:zt.next;if(t!==null)zt=t,ct=e;else{if(e===null)throw Te.alternate===null?Error(r(467)):Error(r(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},zt===null?Te.memoizedState=zt=e:zt=zt.next=e}return zt}function Gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Li(e){var t=Ai;return Ai+=1,Ya===null&&(Ya=[]),e=Bs(Ya,e,t),t=Te,(zt===null?t.memoizedState:zt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Do:nc),e}function Or(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Li(e);if(e.$$typeof===R)return Ot(e)}throw Error(r(438,String(e)))}function Zu(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Gr(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=W;return t.index++,n}function ml(e,t){return typeof t=="function"?t(e):t}function Hr(e){var t=St();return Xu(t,ct,e)}function Xu(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=e.baseQueue,s=l.pending;if(s!==null){if(c!==null){var C=c.next;c.next=s.next,s.next=C}t.baseQueue=c=s,l.pending=null}if(s=e.baseState,c===null)e.memoizedState=s;else{t=c.next;var E=C=null,J=null,ae=t,ue=!1;do{var se=ae.lane&-536870913;if(se!==ae.lane?(Ue&se)===se:(hl&se)===se){var ie=ae.revertLane;if(ie===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),se===Ra&&(ue=!0);else if((hl&ie)===ie){ae=ae.next,ie===Ra&&(ue=!0);continue}else se={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},J===null?(E=J=se,C=s):J=J.next=se,Te.lanes|=ie,Kl|=ie;se=ae.action,ba&&n(s,se),s=ae.hasEagerState?ae.eagerState:n(s,se)}else ie={lane:se,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},J===null?(E=J=ie,C=s):J=J.next=ie,Te.lanes|=se,Kl|=se;ae=ae.next}while(ae!==null&&ae!==t);if(J===null?C=s:J.next=E,!un(s,e.memoizedState)&&(Dt=!0,ue&&(n=Ga,n!==null)))throw n;e.memoizedState=s,e.baseState=C,e.baseQueue=J,l.lastRenderedState=s}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ju(e){var t=St(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,s=t.memoizedState;if(c!==null){n.pending=null;var C=c=c.next;do s=e(s,C.action),C=C.next;while(C!==c);un(s,t.memoizedState)||(Dt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Js(e,t,n){var l=Te,c=St(),s=Ze;if(s){if(n===void 0)throw Error(r(407));n=n()}else n=t();var C=!un((ct||c).memoizedState,n);if(C&&(c.memoizedState=n,Dt=!0),c=c.queue,Qu(Qs.bind(null,l,c,e),[e]),c.getSnapshot!==t||C||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Ws.bind(null,l,c,n,t),null),ot===null)throw Error(r(349));s||(hl&127)!==0||Vs(l,t,n)}return n}function Vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Gr(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ws(e,t,n,l){t.value=n,t.getSnapshot=l,Ps(t)&&Fs(e)}function Qs(e,t,n){return n(function(){Ps(t)&&Fs(e)})}function Ps(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function Fs(e){var t=ua(e,2);t!==null&&ln(t,e,2)}function Vu(e){var t=Jt();if(typeof e=="function"){var n=e;if(e=n(),ba){gn(!0);try{n()}finally{gn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t}function $s(e,t,n,l){return e.baseState=n,Xu(e,ct,typeof l=="function"?l:ml)}function i2(e,t,n,l,c){if(Yr(e))throw Error(r(485));if(e=t.action,e!==null){var s={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){s.listeners.push(C)}};z.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,eo(t,s)):(s.next=n.next,t.pending=n.next=s)}}function eo(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var s=z.T,C={};z.T=C;try{var E=n(c,l),J=z.S;J!==null&&J(C,E),to(e,t,E)}catch(ae){Wu(e,t,ae)}finally{s!==null&&C.types!==null&&(s.types=C.types),z.T=s}}else try{s=n(c,l),to(e,t,s)}catch(ae){Wu(e,t,ae)}}function to(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){no(e,t,l)},function(l){return Wu(e,t,l)}):no(e,t,n)}function no(e,t,n){t.status="fulfilled",t.value=n,lo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,eo(e,n)))}function Wu(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,lo(t),t=t.next;while(t!==l)}e.action=null}function lo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function io(e,t){if(Ze){var n=ot.formState;if(n!==null){e:{var l=Te;if(Ze){if(dt){t:{for(var c=dt,s=jn;c.nodeType!==8;){if(!s){c=null;break t}if(c=Dn(c.nextSibling),c===null){c=null;break t}}s=c.data,c=s==="F!"||s==="F"?c:null}if(c){dt=Dn(c.nextSibling),l=c.data==="F!";break e}}Tl(l)}l=!1}l&&(t=n[0])}}return n=Jt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},n.queue=l,n=Mo.bind(null,Te,l),l.dispatch=n,l=Vu(!1),s=tc.bind(null,Te,!1,l.queue),l=Jt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=i2.bind(null,Te,c,s,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function ro(e){var t=St();return uo(t,ct,e)}function uo(e,t,n){if(t=Xu(e,t,ao)[0],e=Hr(ml)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Li(t)}catch(C){throw C===Oa?Lr:C}else l=t;t=St();var c=t.queue,s=c.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Za(9,{destroy:void 0},r2.bind(null,c,n),null)),[l,s,e]}function r2(e,t){e.action=t}function co(e){var t=St(),n=ct;if(n!==null)return uo(t,n,e);St(),t=t.memoizedState,n=St();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Za(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Gr(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function xo(){return St().memoizedState}function Kr(e,t,n,l){var c=Jt();Te.flags|=e,c.memoizedState=Za(1|t,{destroy:void 0},n,l===void 0?null:l)}function Ur(e,t,n,l){var c=St();l=l===void 0?null:l;var s=c.memoizedState.inst;ct!==null&&l!==null&&Ou(l,ct.memoizedState.deps)?c.memoizedState=Za(t,s,n,l):(Te.flags|=e,c.memoizedState=Za(1|t,s,n,l))}function so(e,t){Kr(8390656,8,e,t)}function Qu(e,t){Ur(2048,8,e,t)}function u2(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Gr(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function oo(e){var t=St().memoizedState;return u2({ref:t,nextImpl:e}),function(){if((lt&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function fo(e,t){return Ur(4,2,e,t)}function ho(e,t){return Ur(4,4,e,t)}function mo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bo(e,t,n){n=n!=null?n.concat([e]):null,Ur(4,4,mo.bind(null,t,e),n)}function Pu(){}function go(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Ou(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function vo(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Ou(t,l[1]))return l[0];if(l=e(),ba){gn(!0);try{e()}finally{gn(!1)}}return n.memoizedState=[l,t],l}function Fu(e,t,n){return n===void 0||(hl&1073741824)!==0&&(Ue&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=pf(),Te.lanes|=e,Kl|=e,n)}function yo(e,t,n,l){return un(n,t)?n:Ka.current!==null?(e=Fu(e,n,l),un(e,t)||(Dt=!0),e):(hl&42)===0||(hl&1073741824)!==0&&(Ue&261930)===0?(Dt=!0,e.memoizedState=n):(e=pf(),Te.lanes|=e,Kl|=e,t)}function po(e,t,n,l,c){var s=A.p;A.p=s!==0&&8>s?s:8;var C=z.T,E={};z.T=E,tc(e,!1,t,n);try{var J=c(),ae=z.S;if(ae!==null&&ae(E,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ue=n2(J,l);Ei(e,t,ue,dn(e))}else Ei(e,t,l,dn(e))}catch(se){Ei(e,t,{then:function(){},status:"rejected",reason:se},dn())}finally{A.p=s,C!==null&&E.types!==null&&(C.types=E.types),z.T=C}}function c2(){}function $u(e,t,n,l){if(e.tag!==5)throw Error(r(476));var c=_o(e).queue;po(e,c,t,L,n===null?c2:function(){return So(e),n(l)})}function _o(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:L},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function So(e){var t=_o(e);t.next===null&&(t=e.alternate.memoizedState),Ei(e,t.next.queue,{},dn())}function ec(){return Ot(Wi)}function wo(){return St().memoizedState}function Co(){return St().memoizedState}function x2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=dn();e=Bl(n);var l=Il(t,e,n);l!==null&&(ln(l,t,n),zi(l,t,n)),t={cache:Nu()},e.payload=t;return}t=t.return}}function s2(e,t,n){var l=dn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Yr(e)?jo(t,n):(n=vu(e,t,n,l),n!==null&&(ln(n,e,l),zo(n,t,l)))}function Mo(e,t,n){var l=dn();Ei(e,t,n,l)}function Ei(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yr(e))jo(t,c);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var C=t.lastRenderedState,E=s(C,n);if(c.hasEagerState=!0,c.eagerState=E,un(E,C))return Cr(e,t,c,0),ot===null&&wr(),!1}catch{}if(n=vu(e,t,c,l),n!==null)return ln(n,e,l),zo(n,t,l),!0}return!1}function tc(e,t,n,l){if(l={lane:2,revertLane:Tc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yr(e)){if(t)throw Error(r(479))}else t=vu(e,n,l,2),t!==null&&ln(t,e,2)}function Yr(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function jo(e,t){Ua=Ir=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,At(e,n)}}var Ti={readContext:Ot,use:Or,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Ti.useEffectEvent=yt;var Do={readContext:Ot,use:Or,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:so,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Kr(4194308,4,mo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){Kr(4,2,e,t)},useMemo:function(e,t){var n=Jt();t=t===void 0?null:t;var l=e();if(ba){gn(!0);try{e()}finally{gn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Jt();if(n!==void 0){var c=n(t);if(ba){gn(!0);try{n(t)}finally{gn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=s2.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:function(e){e=Vu(e);var t=e.queue,n=Mo.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Pu,useDeferredValue:function(e,t){var n=Jt();return Fu(n,e,t)},useTransition:function(){var e=Vu(!1);return e=po.bind(null,Te,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,c=Jt();if(Ze){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),ot===null)throw Error(r(349));(Ue&127)!==0||Vs(l,t,n)}c.memoizedState=n;var s={value:n,getSnapshot:t};return c.queue=s,so(Qs.bind(null,l,s,e),[e]),l.flags|=2048,Za(9,{destroy:void 0},Ws.bind(null,l,s,n,t),null),n},useId:function(){var e=Jt(),t=ot.identifierPrefix;if(Ze){var n=Pn,l=Qn;n=(l&~(1<<32-Ke(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=l2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ec,useFormState:io,useActionState:io,useOptimistic:function(e){var t=Jt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=tc.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Zu,useCacheRefresh:function(){return Jt().memoizedState=x2.bind(null,Te)},useEffectEvent:function(e){var t=Jt(),n={impl:e};return t.memoizedState=n,function(){if((lt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},nc={readContext:Ot,use:Or,useCallback:go,useContext:Ot,useEffect:Qu,useImperativeHandle:bo,useInsertionEffect:fo,useLayoutEffect:ho,useMemo:vo,useReducer:Hr,useRef:xo,useState:function(){return Hr(ml)},useDebugValue:Pu,useDeferredValue:function(e,t){var n=St();return yo(n,ct.memoizedState,e,t)},useTransition:function(){var e=Hr(ml)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Js,useId:wo,useHostTransitionStatus:ec,useFormState:ro,useActionState:ro,useOptimistic:function(e,t){var n=St();return $s(n,ct,e,t)},useMemoCache:Zu,useCacheRefresh:Co};nc.useEffectEvent=oo;var No={readContext:Ot,use:Or,useCallback:go,useContext:Ot,useEffect:Qu,useImperativeHandle:bo,useInsertionEffect:fo,useLayoutEffect:ho,useMemo:vo,useReducer:Ju,useRef:xo,useState:function(){return Ju(ml)},useDebugValue:Pu,useDeferredValue:function(e,t){var n=St();return ct===null?Fu(n,e,t):yo(n,ct.memoizedState,e,t)},useTransition:function(){var e=Ju(ml)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Js,useId:wo,useHostTransitionStatus:ec,useFormState:co,useActionState:co,useOptimistic:function(e,t){var n=St();return ct!==null?$s(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Zu,useCacheRefresh:Co};No.useEffectEvent=oo;function lc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ac={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=dn(),c=Bl(l);c.payload=t,n!=null&&(c.callback=n),t=Il(e,c,l),t!==null&&(ln(t,e,l),zi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=dn(),c=Bl(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Il(e,c,l),t!==null&&(ln(t,e,l),zi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dn(),l=Bl(n);l.tag=2,t!=null&&(l.callback=t),t=Il(e,l,n),t!==null&&(ln(t,e,n),zi(t,e,n))}};function Ao(e,t,n,l,c,s,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,C):t.prototype&&t.prototype.isPureReactComponent?!yi(n,l)||!yi(c,s):!0}function Lo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ac.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=p({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Eo(e){Sr(e)}function To(e){console.error(e)}function ko(e){Sr(e)}function Zr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function qo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ic(e,t,n){return n=Bl(n),n.tag=3,n.payload={element:null},n.callback=function(){Zr(e,t)},n}function Bo(e){return e=Bl(e),e.tag=3,e}function Io(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var s=l.value;e.payload=function(){return c(s)},e.callback=function(){qo(t,n,l)}}var C=n.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){qo(t,n,l),typeof c!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function o2(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ia(t,n,c,!0),n=xn.current,n!==null){switch(n.tag){case 31:case 13:return zn===null?l0():n.alternate===null&&pt===0&&(pt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Ac(e,l,c)),!1;case 22:return n.flags|=65536,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Ac(e,l,c)),!1}throw Error(r(435,n.tag))}return Ac(e,l,c),l0(),!1}if(Ze)return t=xn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Cu&&(e=Error(r(422),{cause:l}),Si(wn(e,n)))):(l!==Cu&&(t=Error(r(423),{cause:l}),Si(wn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=wn(l,n),c=ic(e.stateNode,l,c),qu(e,c),pt!==4&&(pt=2)),!1;var s=Error(r(520),{cause:l});if(s=wn(s,n),Hi===null?Hi=[s]:Hi.push(s),pt!==4&&(pt=2),t===null)return!0;l=wn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=ic(n.stateNode,l,e),qu(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ul===null||!Ul.has(s))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Bo(c),Io(c,e,n,l),qu(n,c),!1}n=n.return}while(n!==null);return!1}var rc=Error(r(461)),Dt=!1;function Ht(e,t,n,l){t.child=e===null?Os(t,null,n,l):ma(t,e.child,n,l)}function Ro(e,t,n,l,c){n=n.render;var s=t.ref;if("ref"in l){var C={};for(var E in l)E!=="ref"&&(C[E]=l[E])}else C=l;return oa(t),l=Hu(e,t,n,C,s,c),E=Ku(),e!==null&&!Dt?(Uu(e,t,c),bl(e,t,c)):(Ze&&E&&Su(t),t.flags|=1,Ht(e,t,l,c),t.child)}function Go(e,t,n,l,c){if(e===null){var s=n.type;return typeof s=="function"&&!yu(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Oo(e,t,s,l,c)):(e=jr(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!hc(e,c)){var C=s.memoizedProps;if(n=n.compare,n=n!==null?n:yi,n(C,l)&&e.ref===t.ref)return bl(e,t,c)}return t.flags|=1,e=sl(s,l),e.ref=t.ref,e.return=t,t.child=e}function Oo(e,t,n,l,c){if(e!==null){var s=e.memoizedProps;if(yi(s,l)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=l=s,hc(e,c))(e.flags&131072)!==0&&(Dt=!0);else return t.lanes=e.lanes,bl(e,t,c)}return uc(e,t,n,l,c)}function Ho(e,t,n,l){var c=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~s}else l=0,t.child=null;return Ko(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ar(t,s!==null?s.cachePool:null),s!==null?Us(t,s):Iu(),Ys(t);else return l=t.lanes=536870912,Ko(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(Ar(t,s.cachePool),Us(t,s),Gl(),t.memoizedState=null):(e!==null&&Ar(t,null),Iu(),Gl());return Ht(e,t,c,n),t.child}function ki(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ko(e,t,n,l,c){var s=Lu();return s=s===null?null:{parent:jt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Ar(t,null),Iu(),Ys(t),e!==null&&Ia(e,t,l,!0),t.childLanes=c,null}function Xr(e,t){return t=Vr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Uo(e,t,n){return ma(t,e.child,null,n),e=Xr(t,t.pendingProps),e.flags|=2,sn(t),t.memoizedState=null,e}function f2(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ze){if(l.mode==="hidden")return e=Xr(t,l),t.lanes=536870912,ki(null,e);if(Gu(t),(e=dt)?(e=nd(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ll!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Ms(e),n.return=t,t.child=n,Gt=t,dt=null)):e=null,e===null)throw Tl(t);return t.lanes=536870912,null}return Xr(t,l)}var s=e.memoizedState;if(s!==null){var C=s.dehydrated;if(Gu(t),c)if(t.flags&256)t.flags&=-257,t=Uo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Dt||Ia(e,t,n,!1),c=(n&e.childLanes)!==0,Dt||c){if(l=ot,l!==null&&(C=ut(l,n),C!==0&&C!==s.retryLane))throw s.retryLane=C,ua(e,C),ln(l,e,C),rc;l0(),t=Uo(e,t,n)}else e=s.treeContext,dt=Dn(C.nextSibling),Gt=t,Ze=!0,El=null,jn=!1,e!==null&&Ds(t,e),t=Xr(t,l),t.flags|=4096;return t}return e=sl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Jr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function uc(e,t,n,l,c){return oa(t),n=Hu(e,t,n,l,void 0,c),l=Ku(),e!==null&&!Dt?(Uu(e,t,c),bl(e,t,c)):(Ze&&l&&Su(t),t.flags|=1,Ht(e,t,n,c),t.child)}function Yo(e,t,n,l,c,s){return oa(t),t.updateQueue=null,n=Xs(t,l,n,c),Zs(e),l=Ku(),e!==null&&!Dt?(Uu(e,t,s),bl(e,t,s)):(Ze&&l&&Su(t),t.flags|=1,Ht(e,t,n,s),t.child)}function Zo(e,t,n,l,c){if(oa(t),t.stateNode===null){var s=Ta,C=n.contextType;typeof C=="object"&&C!==null&&(s=Ot(C)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ac,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Tu(t),C=n.contextType,s.context=typeof C=="object"&&C!==null?Ot(C):Ta,s.state=t.memoizedState,C=n.getDerivedStateFromProps,typeof C=="function"&&(lc(t,n,C,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(C=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),C!==s.state&&ac.enqueueReplaceState(s,s.state,null),Ni(t,l,s,c),Di(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var E=t.memoizedProps,J=ga(n,E);s.props=J;var ae=s.context,ue=n.contextType;C=Ta,typeof ue=="object"&&ue!==null&&(C=Ot(ue));var se=n.getDerivedStateFromProps;ue=typeof se=="function"||typeof s.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,ue||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(E||ae!==C)&&Lo(t,s,l,C),ql=!1;var ie=t.memoizedState;s.state=ie,Ni(t,l,s,c),Di(),ae=t.memoizedState,E||ie!==ae||ql?(typeof se=="function"&&(lc(t,n,se,l),ae=t.memoizedState),(J=ql||Ao(t,n,J,l,ie,ae,C))?(ue||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ae),s.props=l,s.state=ae,s.context=C,l=J):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,ku(e,t),C=t.memoizedProps,ue=ga(n,C),s.props=ue,se=t.pendingProps,ie=s.context,ae=n.contextType,J=Ta,typeof ae=="object"&&ae!==null&&(J=Ot(ae)),E=n.getDerivedStateFromProps,(ae=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(C!==se||ie!==J)&&Lo(t,s,l,J),ql=!1,ie=t.memoizedState,s.state=ie,Ni(t,l,s,c),Di();var re=t.memoizedState;C!==se||ie!==re||ql||e!==null&&e.dependencies!==null&&Dr(e.dependencies)?(typeof E=="function"&&(lc(t,n,E,l),re=t.memoizedState),(ue=ql||Ao(t,n,ue,l,ie,re,J)||e!==null&&e.dependencies!==null&&Dr(e.dependencies))?(ae||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,re,J),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,re,J)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||C===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=re),s.props=l,s.state=re,s.context=J,l=ue):(typeof s.componentDidUpdate!="function"||C===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Jr(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ma(t,e.child,null,c),t.child=ma(t,null,n,c)):Ht(e,t,n,c),t.memoizedState=s.state,e=t.child):e=bl(e,t,c),e}function Xo(e,t,n,l){return xa(),t.flags|=256,Ht(e,t,n,l),t.child}var cc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xc(e){return{baseLanes:e,cachePool:ks()}}function sc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=fn),e}function Jo(e,t,n){var l=t.pendingProps,c=!1,s=(t.flags&128)!==0,C;if((C=s)||(C=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),C&&(c=!0,t.flags&=-129),C=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ze){if(c?Rl(t):Gl(),(e=dt)?(e=nd(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ll!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Ms(e),n.return=t,t.child=n,Gt=t,dt=null)):e=null,e===null)throw Tl(t);return Xc(e)?t.lanes=32:t.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Gl(),c=t.mode,E=Vr({mode:"hidden",children:E},c),l=ca(l,c,n,null),E.return=t,l.return=t,E.sibling=l,t.child=E,l=t.child,l.memoizedState=xc(n),l.childLanes=sc(e,C,n),t.memoizedState=cc,ki(null,l)):(Rl(t),oc(t,E))}var J=e.memoizedState;if(J!==null&&(E=J.dehydrated,E!==null)){if(s)t.flags&256?(Rl(t),t.flags&=-257,t=fc(e,t,n)):t.memoizedState!==null?(Gl(),t.child=e.child,t.flags|=128,t=null):(Gl(),E=l.fallback,c=t.mode,l=Vr({mode:"visible",children:l.children},c),E=ca(E,c,n,null),E.flags|=2,l.return=t,E.return=t,l.sibling=E,t.child=l,ma(t,e.child,null,n),l=t.child,l.memoizedState=xc(n),l.childLanes=sc(e,C,n),t.memoizedState=cc,t=ki(null,l));else if(Rl(t),Xc(E)){if(C=E.nextSibling&&E.nextSibling.dataset,C)var ae=C.dgst;C=ae,l=Error(r(419)),l.stack="",l.digest=C,Si({value:l,source:null,stack:null}),t=fc(e,t,n)}else if(Dt||Ia(e,t,n,!1),C=(n&e.childLanes)!==0,Dt||C){if(C=ot,C!==null&&(l=ut(C,n),l!==0&&l!==J.retryLane))throw J.retryLane=l,ua(e,l),ln(C,e,l),rc;Zc(E)||l0(),t=fc(e,t,n)}else Zc(E)?(t.flags|=192,t.child=e.child,t=null):(e=J.treeContext,dt=Dn(E.nextSibling),Gt=t,Ze=!0,El=null,jn=!1,e!==null&&Ds(t,e),t=oc(t,l.children),t.flags|=4096);return t}return c?(Gl(),E=l.fallback,c=t.mode,J=e.child,ae=J.sibling,l=sl(J,{mode:"hidden",children:l.children}),l.subtreeFlags=J.subtreeFlags&65011712,ae!==null?E=sl(ae,E):(E=ca(E,c,n,null),E.flags|=2),E.return=t,l.return=t,l.sibling=E,t.child=l,ki(null,l),l=t.child,E=e.child.memoizedState,E===null?E=xc(n):(c=E.cachePool,c!==null?(J=jt._currentValue,c=c.parent!==J?{parent:J,pool:J}:c):c=ks(),E={baseLanes:E.baseLanes|n,cachePool:c}),l.memoizedState=E,l.childLanes=sc(e,C,n),t.memoizedState=cc,ki(e.child,l)):(Rl(t),n=e.child,e=n.sibling,n=sl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(C=t.deletions,C===null?(t.deletions=[e],t.flags|=16):C.push(e)),t.child=n,t.memoizedState=null,n)}function oc(e,t){return t=Vr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Vr(e,t){return e=cn(22,e,null,t),e.lanes=0,e}function fc(e,t,n){return ma(t,e.child,null,n),e=oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),zu(e.return,t,n)}function dc(e,t,n,l,c,s){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:s}:(C.isBackwards=t,C.rendering=null,C.renderingStartTime=0,C.last=l,C.tail=n,C.tailMode=c,C.treeForkCount=s)}function Wo(e,t,n){var l=t.pendingProps,c=l.revealOrder,s=l.tail;l=l.children;var C=_t.current,E=(C&2)!==0;if(E?(C=C&1|2,t.flags|=128):C&=1,B(_t,C),Ht(e,t,l,n),l=Ze?_i:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vo(e,n,t);else if(e.tag===19)Vo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Br(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),dc(t,!1,c,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Br(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}dc(t,!0,n,null,s,l);break;case"together":dc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function bl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ia(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=sl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Dr(e)))}function d2(e,t,n){switch(t.tag){case 3:ce(t,t.stateNode.containerInfo),kl(t,jt,e.memoizedState.cache),xa();break;case 27:case 5:be(t);break;case 4:ce(t,t.stateNode.containerInfo);break;case 10:kl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Rl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jo(e,t,n):(Rl(t),e=bl(e,t,n),e!==null?e.sibling:null);Rl(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ia(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Wo(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),B(_t,_t.current),l)break;return null;case 22:return t.lanes=0,Ho(e,t,n,t.pendingProps);case 24:kl(t,jt,e.memoizedState.cache)}return bl(e,t,n)}function Qo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Dt=!0;else{if(!hc(e,n)&&(t.flags&128)===0)return Dt=!1,d2(e,t,n);Dt=(e.flags&131072)!==0}else Dt=!1,Ze&&(t.flags&1048576)!==0&&zs(t,_i,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=da(t.elementType),t.type=e,typeof e=="function")yu(e)?(l=ga(e,l),t.tag=1,t=Zo(null,t,e,l,n)):(t.tag=0,t=uc(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===K){t.tag=11,t=Ro(null,t,e,l,n);break e}else if(c===q){t.tag=14,t=Go(null,t,e,l,n);break e}}throw t=w(e)||e,Error(r(306,t,""))}}return t;case 0:return uc(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=ga(l,t.pendingProps),Zo(e,t,l,c,n);case 3:e:{if(ce(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var s=t.memoizedState;c=s.element,ku(e,t),Ni(t,l,null,n);var C=t.memoizedState;if(l=C.cache,kl(t,jt,l),l!==s.cache&&Du(t,[jt],n,!0),Di(),l=C.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:C.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Xo(e,t,l,n);break e}else if(l!==c){c=wn(Error(r(424)),t),Si(c),t=Xo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,dt=Dn(e.firstChild),Gt=t,Ze=!0,El=null,jn=!0,n=Os(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),l===c){t=bl(e,t,n);break e}Ht(e,t,l,n)}t=t.child}return t;case 26:return Jr(e,t),e===null?(n=cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ze||(n=t.type,e=t.pendingProps,l=s0(ee.current).createElement(n),l[Ne]=t,l[Rt]=e,Kt(l,n,e),Ve(l),t.stateNode=l):t.memoizedState=cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return be(t),e===null&&Ze&&(l=t.stateNode=id(t.type,t.pendingProps,ee.current),Gt=t,jn=!0,c=dt,Jl(t.type)?(Jc=c,dt=Dn(l.firstChild)):dt=c),Ht(e,t,t.pendingProps.children,n),Jr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ze&&((c=l=dt)&&(l=U2(l,t.type,t.pendingProps,jn),l!==null?(t.stateNode=l,Gt=t,dt=Dn(l.firstChild),jn=!1,c=!0):c=!1),c||Tl(t)),be(t),c=t.type,s=t.pendingProps,C=e!==null?e.memoizedProps:null,l=s.children,Kc(c,s)?l=null:C!==null&&Kc(c,C)&&(t.flags|=32),t.memoizedState!==null&&(c=Hu(e,t,a2,null,null,n),Wi._currentValue=c),Jr(e,t),Ht(e,t,l,n),t.child;case 6:return e===null&&Ze&&((e=n=dt)&&(n=Y2(n,t.pendingProps,jn),n!==null?(t.stateNode=n,Gt=t,dt=null,e=!0):e=!1),e||Tl(t)),null;case 13:return Jo(e,t,n);case 4:return ce(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ma(t,null,l,n):Ht(e,t,l,n),t.child;case 11:return Ro(e,t,t.type,t.pendingProps,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,kl(t,t.type,l.value),Ht(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,oa(t),c=Ot(c),l=l(c),t.flags|=1,Ht(e,t,l,n),t.child;case 14:return Go(e,t,t.type,t.pendingProps,n);case 15:return Oo(e,t,t.type,t.pendingProps,n);case 19:return Wo(e,t,n);case 31:return f2(e,t,n);case 22:return Ho(e,t,n,t.pendingProps);case 24:return oa(t),l=Ot(jt),e===null?(c=Lu(),c===null&&(c=ot,s=Nu(),c.pooledCache=s,s.refCount++,s!==null&&(c.pooledCacheLanes|=n),c=s),t.memoizedState={parent:l,cache:c},Tu(t),kl(t,jt,c)):((e.lanes&n)!==0&&(ku(e,t),Ni(t,null,null,n),Di()),c=e.memoizedState,s=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),kl(t,jt,l)):(l=s.cache,kl(t,jt,l),l!==c.cache&&Du(t,[jt],n,!0))),Ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function gl(e){e.flags|=4}function mc(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Cf())e.flags|=8192;else throw ha=Er,Eu}else e.flags&=-16777217}function Po(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dd(t))if(Cf())e.flags|=8192;else throw ha=Er,Eu}function Wr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?We():536870912,e.lanes|=t,Wa|=t)}function qi(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function h2(e,t,n){var l=t.pendingProps;switch(wu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return ht(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),dl(jt),oe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ba(t)?gl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Mu())),ht(t),null;case 26:var c=t.type,s=t.memoizedState;return e===null?(gl(t),s!==null?(ht(t),Po(t,s)):(ht(t),mc(t,c,null,l,n))):s?s!==e.memoizedState?(gl(t),ht(t),Po(t,s)):(ht(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&gl(t),ht(t),mc(t,c,e,l,n)),null;case 27:if(he(t),n=ee.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&gl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ht(t),null}e=U.current,Ba(t)?Ns(t):(e=id(c,l,n),t.stateNode=e,gl(t))}return ht(t),null;case 5:if(he(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&gl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ht(t),null}if(s=U.current,Ba(t))Ns(t);else{var C=s0(ee.current);switch(s){case 1:s=C.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=C.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=C.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=C.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?C.createElement("select",{is:l.is}):C.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?C.createElement(c,{is:l.is}):C.createElement(c)}}s[Ne]=t,s[Rt]=l;e:for(C=t.child;C!==null;){if(C.tag===5||C.tag===6)s.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}t.stateNode=s;e:switch(Kt(s,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&gl(t)}}return ht(t),mc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&gl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ee.current,Ba(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=Gt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Ne]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Vf(e.nodeValue,n)),e||Tl(t,!0)}else e=s0(e).createTextNode(l),e[Ne]=t,t.stateNode=e}return ht(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ba(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ne]=t}else xa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),e=!1}else n=Mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(sn(t),t):(sn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return ht(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ba(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Ne]=t}else xa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),c=!1}else c=Mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(sn(t),t):(sn(t),null)}return sn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Wr(t,t.updateQueue),ht(t),null);case 4:return oe(),e===null&&Ic(t.stateNode.containerInfo),ht(t),null;case 10:return dl(t.type),ht(t),null;case 19:if(k(_t),l=t.memoizedState,l===null)return ht(t),null;if(c=(t.flags&128)!==0,s=l.rendering,s===null)if(c)qi(l,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Br(e),s!==null){for(t.flags|=128,qi(l,!1),e=s.updateQueue,t.updateQueue=e,Wr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Cs(n,e),n=n.sibling;return B(_t,_t.current&1|2),Ze&&ol(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&$e()>e0&&(t.flags|=128,c=!0,qi(l,!1),t.lanes=4194304)}else{if(!c)if(e=Br(s),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Wr(t,e),qi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Ze)return ht(t),null}else 2*$e()-l.renderingStartTime>e0&&n!==536870912&&(t.flags|=128,c=!0,qi(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=$e(),e.sibling=null,n=_t.current,B(_t,c?n&1|2:n&1),Ze&&ol(t,l.treeForkCount),e):(ht(t),null);case 22:case 23:return sn(t),Ru(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),n=t.updateQueue,n!==null&&Wr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&k(fa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),dl(jt),ht(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function m2(e,t){switch(wu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dl(jt),oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(sn(t),t.alternate===null)throw Error(r(340));xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return k(_t),null;case 4:return oe(),null;case 10:return dl(t.type),null;case 22:case 23:return sn(t),Ru(),e!==null&&k(fa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dl(jt),null;case 25:return null;default:return null}}function Fo(e,t){switch(wu(t),t.tag){case 3:dl(jt),oe();break;case 26:case 27:case 5:he(t);break;case 4:oe();break;case 31:t.memoizedState!==null&&sn(t);break;case 13:sn(t);break;case 19:k(_t);break;case 10:dl(t.type);break;case 22:case 23:sn(t),Ru(),e!==null&&k(fa);break;case 24:dl(jt)}}function Bi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var s=n.create,C=n.inst;l=s(),C.destroy=l}n=n.next}while(n!==c)}}catch(E){rt(t,t.return,E)}}function Ol(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var s=c.next;l=s;do{if((l.tag&e)===e){var C=l.inst,E=C.destroy;if(E!==void 0){C.destroy=void 0,c=t;var J=n,ae=E;try{ae()}catch(ue){rt(c,J,ue)}}}l=l.next}while(l!==s)}}catch(ue){rt(t,t.return,ue)}}function $o(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ks(t,n)}catch(l){rt(e,e.return,l)}}}function ef(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){rt(e,t,l)}}function Ii(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){rt(e,t,c)}}function Fn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){rt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){rt(e,t,c)}else n.current=null}function tf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){rt(e,e.return,c)}}function bc(e,t,n){try{var l=e.stateNode;I2(l,e.type,n,t),l[Rt]=t}catch(c){rt(e,e.return,c)}}function nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jl(e.type)||e.tag===4}function gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cl));else if(l!==4&&(l===27&&Jl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(vc(e,t,n),e=e.sibling;e!==null;)vc(e,t,n),e=e.sibling}function Qr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Jl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qr(e,t,n),e=e.sibling;e!==null;)Qr(e,t,n),e=e.sibling}function lf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Kt(t,l,n),t[Ne]=e,t[Rt]=n}catch(s){rt(e,e.return,s)}}var vl=!1,Nt=!1,yc=!1,af=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function b2(e,t){if(e=e.containerInfo,Oc=g0,e=ms(e),fu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var C=0,E=-1,J=-1,ae=0,ue=0,se=e,ie=null;t:for(;;){for(var re;se!==n||c!==0&&se.nodeType!==3||(E=C+c),se!==s||l!==0&&se.nodeType!==3||(J=C+l),se.nodeType===3&&(C+=se.nodeValue.length),(re=se.firstChild)!==null;)ie=se,se=re;for(;;){if(se===e)break t;if(ie===n&&++ae===c&&(E=C),ie===s&&++ue===l&&(J=C),(re=se.nextSibling)!==null)break;se=ie,ie=se.parentNode}se=re}n=E===-1||J===-1?null:{start:E,end:J}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hc={focusedElem:e,selectionRange:n},g0=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){switch(t=Tt,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,c=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var ge=ga(n.type,c);e=l.getSnapshotBeforeUpdate(ge,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(Me){rt(n,n.return,Me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}}function rf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:pl(e,n),l&4&&Bi(5,n);break;case 1:if(pl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(C){rt(n,n.return,C)}else{var c=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(C){rt(n,n.return,C)}}l&64&&$o(n),l&512&&Ii(n,n.return);break;case 3:if(pl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ks(e,t)}catch(C){rt(n,n.return,C)}}break;case 27:t===null&&l&4&&lf(n);case 26:case 5:pl(e,n),t===null&&l&4&&tf(n),l&512&&Ii(n,n.return);break;case 12:pl(e,n);break;case 31:pl(e,n),l&4&&xf(e,n);break;case 13:pl(e,n),l&4&&sf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=M2.bind(null,n),Z2(e,n))));break;case 22:if(l=n.memoizedState!==null||vl,!l){t=t!==null&&t.memoizedState!==null||Nt,c=vl;var s=Nt;vl=l,(Nt=t)&&!s?_l(e,n,(n.subtreeFlags&8772)!==0):pl(e,n),vl=c,Nt=s}break;case 30:break;default:pl(e,n)}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&oi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,$t=!1;function yl(e,t,n){for(n=n.child;n!==null;)cf(e,t,n),n=n.sibling}function cf(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Rn,n)}catch{}switch(n.tag){case 26:Nt||Fn(n,t),yl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Nt||Fn(n,t);var l=bt,c=$t;Jl(n.type)&&(bt=n.stateNode,$t=!1),yl(e,t,n),Xi(n.stateNode),bt=l,$t=c;break;case 5:Nt||Fn(n,t);case 6:if(l=bt,c=$t,bt=null,yl(e,t,n),bt=l,$t=c,bt!==null)if($t)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(n.stateNode)}catch(s){rt(n,t,s)}else try{bt.removeChild(n.stateNode)}catch(s){rt(n,t,s)}break;case 18:bt!==null&&($t?(e=bt,ed(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),li(e)):ed(bt,n.stateNode));break;case 4:l=bt,c=$t,bt=n.stateNode.containerInfo,$t=!0,yl(e,t,n),bt=l,$t=c;break;case 0:case 11:case 14:case 15:Ol(2,n,t),Nt||Ol(4,n,t),yl(e,t,n);break;case 1:Nt||(Fn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&ef(n,t,l)),yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:Nt=(l=Nt)||n.memoizedState!==null,yl(e,t,n),Nt=l;break;default:yl(e,t,n)}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{li(e)}catch(n){rt(t,t.return,n)}}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{li(e)}catch(n){rt(t,t.return,n)}}function g2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new af),t;default:throw Error(r(435,e.tag))}}function Pr(e,t){var n=g2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=j2.bind(null,e,l);l.then(c,c)}})}function en(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],s=e,C=t,E=C;e:for(;E!==null;){switch(E.tag){case 27:if(Jl(E.type)){bt=E.stateNode,$t=!1;break e}break;case 5:bt=E.stateNode,$t=!1;break e;case 3:case 4:bt=E.stateNode.containerInfo,$t=!0;break e}E=E.return}if(bt===null)throw Error(r(160));cf(s,C,c),bt=null,$t=!1,s=c.alternate,s!==null&&(s.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)of(t,e),t=t.sibling}var On=null;function of(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:en(t,e),tn(e),l&4&&(Ol(3,e,e.return),Bi(3,e),Ol(5,e,e.return));break;case 1:en(t,e),tn(e),l&512&&(Nt||n===null||Fn(n,n.return)),l&64&&vl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=On;if(en(t,e),tn(e),l&512&&(Nt||n===null||Fn(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":s=c.getElementsByTagName("title")[0],(!s||s[la]||s[Ne]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=c.createElement(l),c.head.insertBefore(s,c.querySelector("head > title"))),Kt(s,l,n),s[Ne]=e,Ve(s),l=s;break e;case"link":var C=od("link","href",c).get(l+(n.href||""));if(C){for(var E=0;E<C.length;E++)if(s=C[E],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){C.splice(E,1);break t}}s=c.createElement(l),Kt(s,l,n),c.head.appendChild(s);break;case"meta":if(C=od("meta","content",c).get(l+(n.content||""))){for(E=0;E<C.length;E++)if(s=C[E],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){C.splice(E,1);break t}}s=c.createElement(l),Kt(s,l,n),c.head.appendChild(s);break;default:throw Error(r(468,l))}s[Ne]=e,Ve(s),l=s}e.stateNode=l}else fd(c,e.type,e.stateNode);else e.stateNode=sd(c,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?fd(c,e.type,e.stateNode):sd(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&bc(e,e.memoizedProps,n.memoizedProps)}break;case 27:en(t,e),tn(e),l&512&&(Nt||n===null||Fn(n,n.return)),n!==null&&l&4&&bc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(en(t,e),tn(e),l&512&&(Nt||n===null||Fn(n,n.return)),e.flags&32){c=e.stateNode;try{ja(c,"")}catch(ge){rt(e,e.return,ge)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,bc(e,c,n!==null?n.memoizedProps:c)),l&1024&&(yc=!0);break;case 6:if(en(t,e),tn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ge){rt(e,e.return,ge)}}break;case 3:if(d0=null,c=On,On=o0(t.containerInfo),en(t,e),On=c,tn(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{li(t.containerInfo)}catch(ge){rt(e,e.return,ge)}yc&&(yc=!1,ff(e));break;case 4:l=On,On=o0(e.stateNode.containerInfo),en(t,e),tn(e),On=l;break;case 12:en(t,e),tn(e);break;case 31:en(t,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Pr(e,l)));break;case 13:en(t,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($r=$e()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Pr(e,l)));break;case 22:c=e.memoizedState!==null;var J=n!==null&&n.memoizedState!==null,ae=vl,ue=Nt;if(vl=ae||c,Nt=ue||J,en(t,e),Nt=ue,vl=ae,tn(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||J||vl||Nt||va(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){J=n=t;try{if(s=J.stateNode,c)C=s.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{E=J.stateNode;var se=J.memoizedProps.style,ie=se!=null&&se.hasOwnProperty("display")?se.display:null;E.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(ge){rt(J,J.return,ge)}}}else if(t.tag===6){if(n===null){J=t;try{J.stateNode.nodeValue=c?"":J.memoizedProps}catch(ge){rt(J,J.return,ge)}}}else if(t.tag===18){if(n===null){J=t;try{var re=J.stateNode;c?td(re,!0):td(J.stateNode,!1)}catch(ge){rt(J,J.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Pr(e,n))));break;case 19:en(t,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Pr(e,l)));break;case 30:break;case 21:break;default:en(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(nf(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var c=n.stateNode,s=gc(e);Qr(e,s,c);break;case 5:var C=n.stateNode;n.flags&32&&(ja(C,""),n.flags&=-33);var E=gc(e);Qr(e,E,C);break;case 3:case 4:var J=n.stateNode.containerInfo,ae=gc(e);vc(e,ae,J);break;default:throw Error(r(161))}}catch(ue){rt(e,e.return,ue)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ff(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ff(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rf(e,t.alternate,t),t=t.sibling}function va(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ol(4,t,t.return),va(t);break;case 1:Fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ef(t,t.return,n),va(t);break;case 27:Xi(t.stateNode);case 26:case 5:Fn(t,t.return),va(t);break;case 22:t.memoizedState===null&&va(t);break;case 30:va(t);break;default:va(t)}e=e.sibling}}function _l(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,s=t,C=s.flags;switch(s.tag){case 0:case 11:case 15:_l(c,s,n),Bi(4,s);break;case 1:if(_l(c,s,n),l=s,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(ae){rt(l,l.return,ae)}if(l=s,c=l.updateQueue,c!==null){var E=l.stateNode;try{var J=c.shared.hiddenCallbacks;if(J!==null)for(c.shared.hiddenCallbacks=null,c=0;c<J.length;c++)Hs(J[c],E)}catch(ae){rt(l,l.return,ae)}}n&&C&64&&$o(s),Ii(s,s.return);break;case 27:lf(s);case 26:case 5:_l(c,s,n),n&&l===null&&C&4&&tf(s),Ii(s,s.return);break;case 12:_l(c,s,n);break;case 31:_l(c,s,n),n&&C&4&&xf(c,s);break;case 13:_l(c,s,n),n&&C&4&&sf(c,s);break;case 22:s.memoizedState===null&&_l(c,s,n),Ii(s,s.return);break;case 30:break;default:_l(c,s,n)}t=t.sibling}}function pc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&wi(n))}function _c(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wi(e))}function Hn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)df(e,t,n,l),t=t.sibling}function df(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Hn(e,t,n,l),c&2048&&Bi(9,t);break;case 1:Hn(e,t,n,l);break;case 3:Hn(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wi(e)));break;case 12:if(c&2048){Hn(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,C=s.id,E=s.onPostCommit;typeof E=="function"&&E(C,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(J){rt(t,t.return,J)}}else Hn(e,t,n,l);break;case 31:Hn(e,t,n,l);break;case 13:Hn(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,C=t.alternate,t.memoizedState!==null?s._visibility&2?Hn(e,t,n,l):Ri(e,t):s._visibility&2?Hn(e,t,n,l):(s._visibility|=2,Xa(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&pc(C,t);break;case 24:Hn(e,t,n,l),c&2048&&_c(t.alternate,t);break;default:Hn(e,t,n,l)}}function Xa(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,C=t,E=n,J=l,ae=C.flags;switch(C.tag){case 0:case 11:case 15:Xa(s,C,E,J,c),Bi(8,C);break;case 23:break;case 22:var ue=C.stateNode;C.memoizedState!==null?ue._visibility&2?Xa(s,C,E,J,c):Ri(s,C):(ue._visibility|=2,Xa(s,C,E,J,c)),c&&ae&2048&&pc(C.alternate,C);break;case 24:Xa(s,C,E,J,c),c&&ae&2048&&_c(C.alternate,C);break;default:Xa(s,C,E,J,c)}t=t.sibling}}function Ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Ri(n,l),c&2048&&pc(l.alternate,l);break;case 24:Ri(n,l),c&2048&&_c(l.alternate,l);break;default:Ri(n,l)}t=t.sibling}}var Gi=8192;function Ja(e,t,n){if(e.subtreeFlags&Gi)for(e=e.child;e!==null;)hf(e,t,n),e=e.sibling}function hf(e,t,n){switch(e.tag){case 26:Ja(e,t,n),e.flags&Gi&&e.memoizedState!==null&&lh(n,On,e.memoizedState,e.memoizedProps);break;case 5:Ja(e,t,n);break;case 3:case 4:var l=On;On=o0(e.stateNode.containerInfo),Ja(e,t,n),On=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Gi,Gi=16777216,Ja(e,t,n),Gi=l):Ja(e,t,n));break;default:Ja(e,t,n)}}function mf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,gf(l,e)}mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bf(e),e=e.sibling}function bf(e){switch(e.tag){case 0:case 11:case 15:Oi(e),e.flags&2048&&Ol(9,e,e.return);break;case 3:Oi(e);break;case 12:Oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Fr(e)):Oi(e);break;default:Oi(e)}}function Fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,gf(l,e)}mf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ol(8,t,t.return),Fr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Fr(t));break;default:Fr(t)}e=e.sibling}}function gf(e,t){for(;Tt!==null;){var n=Tt;switch(n.tag){case 0:case 11:case 15:Ol(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Tt=l;else e:for(n=e;Tt!==null;){l=Tt;var c=l.sibling,s=l.return;if(uf(l),l===n){Tt=null;break e}if(c!==null){c.return=s,Tt=c;break e}Tt=s}}}var v2={getCacheForType:function(e){var t=Ot(jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ot(jt).controller.signal}},y2=typeof WeakMap=="function"?WeakMap:Map,lt=0,ot=null,Ge=null,Ue=0,it=0,on=null,Hl=!1,Va=!1,Sc=!1,Sl=0,pt=0,Kl=0,ya=0,wc=0,fn=0,Wa=0,Hi=null,nn=null,Cc=!1,$r=0,vf=0,e0=1/0,t0=null,Ul=null,Lt=0,Yl=null,Qa=null,wl=0,Mc=0,jc=null,yf=null,Ki=0,zc=null;function dn(){return(lt&2)!==0&&Ue!==0?Ue&-Ue:z.T!==null?Tc():vn()}function pf(){if(fn===0)if((Ue&536870912)===0||Ze){var e=pe;pe<<=1,(pe&3932160)===0&&(pe=262144),fn=e}else fn=536870912;return e=xn.current,e!==null&&(e.flags|=32),fn}function ln(e,t,n){(e===ot&&(it===2||it===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),Zl(e,Ue,fn,!1)),Ee(e,n),((lt&2)===0||e!==ot)&&(e===ot&&((lt&2)===0&&(ya|=n),pt===4&&Zl(e,Ue,fn,!1)),$n(e))}function _f(e,t,n){if((lt&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||et(e,t),c=l?S2(e,t):Nc(e,t,!0),s=l;do{if(c===0){Va&&!l&&Zl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!p2(n)){c=Nc(e,t,!1),s=!1;continue}if(c===2){if(s=t,e.errorRecoveryDisabledLanes&s)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){t=C;e:{var E=e;c=Hi;var J=E.current.memoizedState.isDehydrated;if(J&&(Pa(E,C).flags|=256),C=Nc(E,C,!1),C!==2){if(Sc&&!J){E.errorRecoveryDisabledLanes|=s,ya|=s,c=4;break e}s=nn,nn=c,s!==null&&(nn===null?nn=s:nn.push.apply(nn,s))}c=C}if(s=!1,c!==2)continue}}if(c===1){Pa(e,0),Zl(e,t,0,!0);break}e:{switch(l=e,s=c,s){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Zl(l,t,fn,!Hl);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=$r+300-$e(),10<c)){if(Zl(l,t,fn,!Hl),we(l,0,!0)!==0)break e;wl=t,l.timeoutHandle=Ff(Sf.bind(null,l,n,nn,t0,Cc,t,fn,ya,Wa,Hl,s,"Throttled",-0,0),c);break e}Sf(l,n,nn,t0,Cc,t,fn,ya,Wa,Hl,s,null,-0,0)}}break}while(!0);$n(e)}function Sf(e,t,n,l,c,s,C,E,J,ae,ue,se,ie,re){if(e.timeoutHandle=-1,se=t.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cl},hf(t,s,se);var ge=(s&62914560)===s?$r-$e():(s&4194048)===s?vf-$e():0;if(ge=ah(se,ge),ge!==null){wl=s,e.cancelPendingCommit=ge(Af.bind(null,e,t,s,n,l,c,C,E,J,ue,se,null,ie,re)),Zl(e,s,C,!ae);return}}Af(e,t,s,n,l,c,C,E,J)}function p2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],s=c.getSnapshot;c=c.value;try{if(!un(s(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zl(e,t,n,l){t&=~wc,t&=~ya,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var s=31-Ke(c),C=1<<s;l[s]=-1,c&=~C}n!==0&&nt(e,n,t)}function n0(){return(lt&6)===0?(Ui(0),!1):!0}function Dc(){if(Ge!==null){if(it===0)var e=Ge.return;else e=Ge,fl=sa=null,Yu(e),Ha=null,Mi=0,e=Ge;for(;e!==null;)Fo(e.alternate,e),e=e.return;Ge=null}}function Pa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,O2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),wl=0,Dc(),ot=e,Ge=n=sl(e.current,null),Ue=t,it=0,on=null,Hl=!1,Va=et(e,t),Sc=!1,Wa=fn=wc=ya=Kl=pt=0,nn=Hi=null,Cc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Ke(l),s=1<<c;t|=e[c],l&=~s}return Sl=t,wr(),n}function wf(e,t){Te=null,z.H=Ti,t===Oa||t===Lr?(t=Is(),it=3):t===Eu?(t=Is(),it=4):it=t===rc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,on=t,Ge===null&&(pt=1,Zr(e,wn(t,e.current)))}function Cf(){var e=xn.current;return e===null?!0:(Ue&4194048)===Ue?zn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?e===zn:!1}function Mf(){var e=z.H;return z.H=Ti,e===null?Ti:e}function jf(){var e=z.A;return z.A=v2,e}function l0(){pt=4,Hl||(Ue&4194048)!==Ue&&xn.current!==null||(Va=!0),(Kl&134217727)===0&&(ya&134217727)===0||ot===null||Zl(ot,Ue,fn,!1)}function Nc(e,t,n){var l=lt;lt|=2;var c=Mf(),s=jf();(ot!==e||Ue!==t)&&(t0=null,Pa(e,t)),t=!1;var C=pt;e:do try{if(it!==0&&Ge!==null){var E=Ge,J=on;switch(it){case 8:Dc(),C=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(t=!0);var ae=it;if(it=0,on=null,Fa(e,E,J,ae),n&&Va){C=0;break e}break;default:ae=it,it=0,on=null,Fa(e,E,J,ae)}}_2(),C=pt;break}catch(ue){wf(e,ue)}while(!0);return t&&e.shellSuspendCounter++,fl=sa=null,lt=l,z.H=c,z.A=s,Ge===null&&(ot=null,Ue=0,wr()),C}function _2(){for(;Ge!==null;)zf(Ge)}function S2(e,t){var n=lt;lt|=2;var l=Mf(),c=jf();ot!==e||Ue!==t?(t0=null,e0=$e()+500,Pa(e,t)):Va=et(e,t);e:do try{if(it!==0&&Ge!==null){t=Ge;var s=on;t:switch(it){case 1:it=0,on=null,Fa(e,t,s,1);break;case 2:case 9:if(qs(s)){it=0,on=null,Df(t);break}t=function(){it!==2&&it!==9||ot!==e||(it=7),$n(e)},s.then(t,t);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:qs(s)?(it=0,on=null,Df(t)):(it=0,on=null,Fa(e,t,s,7));break;case 5:var C=null;switch(Ge.tag){case 26:C=Ge.memoizedState;case 5:case 27:var E=Ge;if(C?dd(C):E.stateNode.complete){it=0,on=null;var J=E.sibling;if(J!==null)Ge=J;else{var ae=E.return;ae!==null?(Ge=ae,a0(ae)):Ge=null}break t}}it=0,on=null,Fa(e,t,s,5);break;case 6:it=0,on=null,Fa(e,t,s,6);break;case 8:Dc(),pt=6;break e;default:throw Error(r(462))}}w2();break}catch(ue){wf(e,ue)}while(!0);return fl=sa=null,z.H=l,z.A=c,lt=n,Ge!==null?0:(ot=null,Ue=0,wr(),pt)}function w2(){for(;Ge!==null&&!Xn();)zf(Ge)}function zf(e){var t=Qo(e.alternate,e,Sl);e.memoizedProps=e.pendingProps,t===null?a0(e):Ge=t}function Df(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Yo(n,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=Yo(n,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:Yu(t);default:Fo(n,t),t=Ge=Cs(t,Sl),t=Qo(n,t,Sl)}e.memoizedProps=e.pendingProps,t===null?a0(e):Ge=t}function Fa(e,t,n,l){fl=sa=null,Yu(t),Ha=null,Mi=0;var c=t.return;try{if(o2(e,c,t,n,Ue)){pt=1,Zr(e,wn(n,e.current)),Ge=null;return}}catch(s){if(c!==null)throw Ge=c,s;pt=1,Zr(e,wn(n,e.current)),Ge=null;return}t.flags&32768?(Ze||l===1?e=!0:Va||(Ue&536870912)!==0?e=!1:(Hl=e=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Nf(t,e)):a0(t)}function a0(e){var t=e;do{if((t.flags&32768)!==0){Nf(t,Hl);return}e=t.return;var n=h2(t.alternate,t,Sl);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);pt===0&&(pt=5)}function Nf(e,t){do{var n=m2(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);pt=6,Ge=null}function Af(e,t,n,l,c,s,C,E,J){e.cancelPendingCommit=null;do i0();while(Lt!==0);if((lt&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,s|=gu,It(e,n,s,C,E,J),e===ot&&(Ge=ot=null,Ue=0),Qa=t,Yl=e,wl=n,Mc=s,jc=c,yf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z2(il,function(){return qf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=A.p,A.p=2,C=lt,lt|=4;try{b2(e,t,n)}finally{lt=C,A.p=c,z.T=l}}Lt=1,Lf(),Ef(),Tf()}}function Lf(){if(Lt===1){Lt=0;var e=Yl,t=Qa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var l=A.p;A.p=2;var c=lt;lt|=4;try{of(t,e);var s=Hc,C=ms(e.containerInfo),E=s.focusedElem,J=s.selectionRange;if(C!==E&&E&&E.ownerDocument&&hs(E.ownerDocument.documentElement,E)){if(J!==null&&fu(E)){var ae=J.start,ue=J.end;if(ue===void 0&&(ue=ae),"selectionStart"in E)E.selectionStart=ae,E.selectionEnd=Math.min(ue,E.value.length);else{var se=E.ownerDocument||document,ie=se&&se.defaultView||window;if(ie.getSelection){var re=ie.getSelection(),ge=E.textContent.length,Me=Math.min(J.start,ge),st=J.end===void 0?Me:Math.min(J.end,ge);!re.extend&&Me>st&&(C=st,st=Me,Me=C);var $=ds(E,Me),F=ds(E,st);if($&&F&&(re.rangeCount!==1||re.anchorNode!==$.node||re.anchorOffset!==$.offset||re.focusNode!==F.node||re.focusOffset!==F.offset)){var le=se.createRange();le.setStart($.node,$.offset),re.removeAllRanges(),Me>st?(re.addRange(le),re.extend(F.node,F.offset)):(le.setEnd(F.node,F.offset),re.addRange(le))}}}}for(se=[],re=E;re=re.parentNode;)re.nodeType===1&&se.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<se.length;E++){var xe=se[E];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}g0=!!Oc,Hc=Oc=null}finally{lt=c,A.p=l,z.T=n}}e.current=t,Lt=2}}function Ef(){if(Lt===2){Lt=0;var e=Yl,t=Qa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var l=A.p;A.p=2;var c=lt;lt|=4;try{rf(e,t.alternate,t)}finally{lt=c,A.p=l,z.T=n}}Lt=3}}function Tf(){if(Lt===4||Lt===3){Lt=0,Jn();var e=Yl,t=Qa,n=wl,l=yf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Lt=5:(Lt=0,Qa=Yl=null,kf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ul=null),vt(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Rn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,c=A.p,A.p=2,z.T=null;try{for(var s=e.onRecoverableError,C=0;C<l.length;C++){var E=l[C];s(E.value,{componentStack:E.stack})}}finally{z.T=t,A.p=c}}(wl&3)!==0&&i0(),$n(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===zc?Ki++:(Ki=0,zc=e):Ki=0,Ui(0)}}function kf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wi(t)))}function i0(){return Lf(),Ef(),Tf(),qf()}function qf(){if(Lt!==5)return!1;var e=Yl,t=Mc;Mc=0;var n=vt(wl),l=z.T,c=A.p;try{A.p=32>n?32:n,z.T=null,n=jc,jc=null;var s=Yl,C=wl;if(Lt=0,Qa=Yl=null,wl=0,(lt&6)!==0)throw Error(r(331));var E=lt;if(lt|=4,bf(s.current),df(s,s.current,C,n),lt=E,Ui(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Rn,s)}catch{}return!0}finally{A.p=c,z.T=l,kf(e,t)}}function Bf(e,t,n){t=wn(n,t),t=ic(e.stateNode,t,2),e=Il(e,t,2),e!==null&&(Ee(e,2),$n(e))}function rt(e,t,n){if(e.tag===3)Bf(e,e,n);else for(;t!==null;){if(t.tag===3){Bf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ul===null||!Ul.has(l))){e=wn(n,e),n=Bo(2),l=Il(t,n,2),l!==null&&(Io(n,l,t,e),Ee(l,2),$n(l));break}}t=t.return}}function Ac(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new y2;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(Sc=!0,c.add(n),e=C2.bind(null,e,t,n),t.then(e,e))}function C2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ot===e&&(Ue&n)===n&&(pt===4||pt===3&&(Ue&62914560)===Ue&&300>$e()-$r?(lt&2)===0&&Pa(e,0):wc|=n,Wa===Ue&&(Wa=0)),$n(e)}function If(e,t){t===0&&(t=We()),e=ua(e,t),e!==null&&(Ee(e,t),$n(e))}function M2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),If(e,n)}function j2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),If(e,n)}function z2(e,t){return Yt(e,t)}var r0=null,$a=null,Lc=!1,u0=!1,Ec=!1,Xl=0;function $n(e){e!==$a&&e.next===null&&($a===null?r0=$a=e:$a=$a.next=e),u0=!0,Lc||(Lc=!0,N2())}function Ui(e,t){if(!Ec&&u0){Ec=!0;do for(var n=!1,l=r0;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var s=0;else{var C=l.suspendedLanes,E=l.pingedLanes;s=(1<<31-Ke(42|e)+1)-1,s&=c&~(C&~E),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Hf(l,s))}else s=Ue,s=we(l,l===ot?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||et(l,s)||(n=!0,Hf(l,s));l=l.next}while(n);Ec=!1}}function D2(){Rf()}function Rf(){u0=Lc=!1;var e=0;Xl!==0&&G2()&&(e=Xl);for(var t=$e(),n=null,l=r0;l!==null;){var c=l.next,s=Gf(l,t);s===0?(l.next=null,n===null?r0=c:n.next=c,c===null&&($a=n)):(n=l,(e!==0||(s&3)!==0)&&(u0=!0)),l=c}Lt!==0&&Lt!==5||Ui(e),Xl!==0&&(Xl=0)}function Gf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var C=31-Ke(s),E=1<<C,J=c[C];J===-1?((E&n)===0||(E&l)!==0)&&(c[C]=tt(E,t)):J<=t&&(e.expiredLanes|=E),s&=~E}if(t=ot,n=Ue,n=we(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(it===2||it===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||et(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&rn(l),vt(n)){case 2:case 8:n=al;break;case 32:n=il;break;case 268435456:n=na;break;default:n=il}return l=Of.bind(null,e),n=Yt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&rn(l),e.callbackPriority=2,e.callbackNode=null,2}function Of(e,t){if(Lt!==0&&Lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(i0()&&e.callbackNode!==n)return null;var l=Ue;return l=we(e,e===ot?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_f(e,l,t),Gf(e,$e()),e.callbackNode!=null&&e.callbackNode===n?Of.bind(null,e):null)}function Hf(e,t){if(i0())return null;_f(e,t,!0)}function N2(){H2(function(){(lt&6)!==0?Yt(jl,D2):Rf()})}function Tc(){if(Xl===0){var e=Ra;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),Xl=e}return Xl}function Kf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mr(""+e)}function Uf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function A2(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var s=Kf((c[Rt]||null).action),C=l.submitter;C&&(t=(t=C[Rt]||null)?Kf(t.formAction):C.getAttribute("formAction"),t!==null&&(s=t,C=null));var E=new yr("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xl!==0){var J=C?Uf(c,C):new FormData(c);$u(n,{pending:!0,data:J,method:c.method,action:s},null,J)}}else typeof s=="function"&&(E.preventDefault(),J=C?Uf(c,C):new FormData(c),$u(n,{pending:!0,data:J,method:c.method,action:s},s,J))},currentTarget:c}]})}}for(var kc=0;kc<bu.length;kc++){var qc=bu[kc],L2=qc.toLowerCase(),E2=qc[0].toUpperCase()+qc.slice(1);Gn(L2,"on"+E2)}Gn(vs,"onAnimationEnd"),Gn(ys,"onAnimationIteration"),Gn(ps,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(V1,"onTransitionRun"),Gn(W1,"onTransitionStart"),Gn(Q1,"onTransitionCancel"),Gn(_s,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rl("onBeforeInput",["compositionend","keypress","textInput","paste"]),rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function Yf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var C=l.length-1;0<=C;C--){var E=l[C],J=E.instance,ae=E.currentTarget;if(E=E.listener,J!==s&&c.isPropagationStopped())break e;s=E,c.currentTarget=ae;try{s(c)}catch(ue){Sr(ue)}c.currentTarget=null,s=J}else for(C=0;C<l.length;C++){if(E=l[C],J=E.instance,ae=E.currentTarget,E=E.listener,J!==s&&c.isPropagationStopped())break e;s=E,c.currentTarget=ae;try{s(c)}catch(ue){Sr(ue)}c.currentTarget=null,s=J}}}}function Oe(e,t){var n=t[yn];n===void 0&&(n=t[yn]=new Set);var l=e+"__bubble";n.has(l)||(Zf(t,e,2,!1),n.add(l))}function Bc(e,t,n){var l=0;t&&(l|=4),Zf(n,e,l,t)}var c0="_reactListening"+Math.random().toString(36).slice(2);function Ic(e){if(!e[c0]){e[c0]=!0,Mt.forEach(function(n){n!=="selectionchange"&&(T2.has(n)||Bc(n,!1,e),Bc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[c0]||(t[c0]=!0,Bc("selectionchange",!1,t))}}function Zf(e,t,n,l){switch(pd(t)){case 2:var c=uh;break;case 8:c=ch;break;default:c=Fc}n=c.bind(null,t,n,e),c=void 0,!lu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Rc(e,t,n,l,c){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var C=l.tag;if(C===3||C===4){var E=l.stateNode.containerInfo;if(E===c)break;if(C===4)for(C=l.return;C!==null;){var J=C.tag;if((J===3||J===4)&&C.stateNode.containerInfo===c)return;C=C.return}for(;E!==null;){if(C=Nl(E),C===null)return;if(J=C.tag,J===5||J===6||J===26||J===27){l=s=C;continue e}E=E.parentNode}}l=l.return}Vx(function(){var ae=s,ue=tu(n),se=[];e:{var ie=Ss.get(e);if(ie!==void 0){var re=yr,ge=e;switch(e){case"keypress":if(gr(n)===0)break e;case"keydown":case"keyup":re=j1;break;case"focusin":ge="focus",re=uu;break;case"focusout":ge="blur",re=uu;break;case"beforeblur":case"afterblur":re=uu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Px;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=h1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=N1;break;case vs:case ys:case ps:re=g1;break;case _s:re=L1;break;case"scroll":case"scrollend":re=f1;break;case"wheel":re=T1;break;case"copy":case"cut":case"paste":re=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=$x;break;case"toggle":case"beforetoggle":re=q1}var Me=(t&4)!==0,st=!Me&&(e==="scroll"||e==="scrollend"),$=Me?ie!==null?ie+"Capture":null:ie;Me=[];for(var F=ae,le;F!==null;){var xe=F;if(le=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||le===null||$===null||(xe=fi(F,$),xe!=null&&Me.push(Zi(F,xe,le))),st)break;F=F.return}0<Me.length&&(ie=new re(ie,ge,null,n,ue),se.push({event:ie,listeners:Me}))}}if((t&7)===0){e:{if(ie=e==="mouseover"||e==="pointerover",re=e==="mouseout"||e==="pointerout",ie&&n!==eu&&(ge=n.relatedTarget||n.fromElement)&&(Nl(ge)||ge[Dl]))break e;if((re||ie)&&(ie=ue.window===ue?ue:(ie=ue.ownerDocument)?ie.defaultView||ie.parentWindow:window,re?(ge=n.relatedTarget||n.toElement,re=ae,ge=ge?Nl(ge):null,ge!==null&&(st=o(ge),Me=ge.tag,ge!==st||Me!==5&&Me!==27&&Me!==6)&&(ge=null)):(re=null,ge=ae),re!==ge)){if(Me=Px,xe="onMouseLeave",$="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(Me=$x,xe="onPointerLeave",$="onPointerEnter",F="pointer"),st=re==null?ie:_e(re),le=ge==null?ie:_e(ge),ie=new Me(xe,F+"leave",re,n,ue),ie.target=st,ie.relatedTarget=le,xe=null,Nl(ue)===ae&&(Me=new Me($,F+"enter",ge,n,ue),Me.target=le,Me.relatedTarget=st,xe=Me),st=xe,re&&ge)t:{for(Me=k2,$=re,F=ge,le=0,xe=$;xe;xe=Me(xe))le++;xe=0;for(var Ce=F;Ce;Ce=Me(Ce))xe++;for(;0<le-xe;)$=Me($),le--;for(;0<xe-le;)F=Me(F),xe--;for(;le--;){if($===F||F!==null&&$===F.alternate){Me=$;break t}$=Me($),F=Me(F)}Me=null}else Me=null;re!==null&&Xf(se,ie,re,Me,!1),ge!==null&&st!==null&&Xf(se,st,ge,Me,!0)}}e:{if(ie=ae?_e(ae):window,re=ie.nodeName&&ie.nodeName.toLowerCase(),re==="select"||re==="input"&&ie.type==="file")var Pe=us;else if(is(ie))if(cs)Pe=Z1;else{Pe=U1;var ve=K1}else re=ie.nodeName,!re||re.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ae&&$0(ae.elementType)&&(Pe=us):Pe=Y1;if(Pe&&(Pe=Pe(e,ae))){rs(se,Pe,n,ue);break e}ve&&ve(e,ie,ae),e==="focusout"&&ae&&ie.type==="number"&&ae.memoizedProps.value!=null&&F0(ie,"number",ie.value)}switch(ve=ae?_e(ae):window,e){case"focusin":(is(ve)||ve.contentEditable==="true")&&(Aa=ve,du=ae,pi=null);break;case"focusout":pi=du=Aa=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,bs(se,n,ue);break;case"selectionchange":if(J1)break;case"keydown":case"keyup":bs(se,n,ue)}var ke;if(xu)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Na?ls(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(es&&n.locale!=="ko"&&(Na||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Na&&(ke=Wx()):(Al=ue,au="value"in Al?Al.value:Al.textContent,Na=!0)),ve=x0(ae,Ye),0<ve.length&&(Ye=new Fx(Ye,e,null,n,ue),se.push({event:Ye,listeners:ve}),ke?Ye.data=ke:(ke=as(n),ke!==null&&(Ye.data=ke)))),(ke=I1?R1(e,n):G1(e,n))&&(Ye=x0(ae,"onBeforeInput"),0<Ye.length&&(ve=new Fx("onBeforeInput","beforeinput",null,n,ue),se.push({event:ve,listeners:Ye}),ve.data=ke)),A2(se,e,ae,n,ue)}Yf(se,t)})}function Zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function x0(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,s=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||s===null||(c=fi(e,n),c!=null&&l.unshift(Zi(e,c,s)),c=fi(e,t),c!=null&&l.push(Zi(e,c,s))),e.tag===3)return l;e=e.return}return[]}function k2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xf(e,t,n,l,c){for(var s=t._reactName,C=[];n!==null&&n!==l;){var E=n,J=E.alternate,ae=E.stateNode;if(E=E.tag,J!==null&&J===l)break;E!==5&&E!==26&&E!==27||ae===null||(J=ae,c?(ae=fi(n,s),ae!=null&&C.unshift(Zi(n,ae,J))):c||(ae=fi(n,s),ae!=null&&C.push(Zi(n,ae,J)))),n=n.return}C.length!==0&&e.push({event:t,listeners:C})}var q2=/\r\n?/g,B2=/\u0000|\uFFFD/g;function Jf(e){return(typeof e=="string"?e:""+e).replace(q2,`
`).replace(B2,"")}function Vf(e,t){return t=Jf(t),Jf(e)===t}function xt(e,t,n,l,c,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ja(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ja(e,""+l);break;case"className":dr(e,"class",l);break;case"tabIndex":dr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(e,n,l);break;case"style":Xx(e,l,s);break;case"data":if(t!=="object"){dr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=mr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&xt(e,t,"name",c.name,c,null),xt(e,t,"formEncType",c.formEncType,c,null),xt(e,t,"formMethod",c.formMethod,c,null),xt(e,t,"formTarget",c.formTarget,c,null)):(xt(e,t,"encType",c.encType,c,null),xt(e,t,"method",c.method,c,null),xt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=mr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=cl);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=mr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),fr(e,"popover",l);break;case"xlinkActuate":ul(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ul(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ul(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ul(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ul(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ul(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ul(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ul(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ul(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=s1.get(n)||n,fr(e,n,l))}}function Gc(e,t,n,l,c,s){switch(n){case"style":Xx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?ja(e,l):(typeof l=="number"||typeof l=="bigint")&&ja(e,""+l);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=cl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),s=e[Rt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,c),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):fr(e,n,l)}}}function Kt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var l=!1,c=!1,s;for(s in n)if(n.hasOwnProperty(s)){var C=n[s];if(C!=null)switch(s){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:xt(e,t,s,C,n,null)}}c&&xt(e,t,"srcSet",n.srcSet,n,null),l&&xt(e,t,"src",n.src,n,null);return;case"input":Oe("invalid",e);var E=s=C=c=null,J=null,ae=null;for(l in n)if(n.hasOwnProperty(l)){var ue=n[l];if(ue!=null)switch(l){case"name":c=ue;break;case"type":C=ue;break;case"checked":J=ue;break;case"defaultChecked":ae=ue;break;case"value":s=ue;break;case"defaultValue":E=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,t));break;default:xt(e,t,l,ue,n,null)}}Kx(e,s,E,J,ae,C,c,!1);return;case"select":Oe("invalid",e),l=C=s=null;for(c in n)if(n.hasOwnProperty(c)&&(E=n[c],E!=null))switch(c){case"value":s=E;break;case"defaultValue":C=E;break;case"multiple":l=E;default:xt(e,t,c,E,n,null)}t=s,n=C,e.multiple=!!l,t!=null?Ma(e,!!l,t,!1):n!=null&&Ma(e,!!l,n,!0);return;case"textarea":Oe("invalid",e),s=c=l=null;for(C in n)if(n.hasOwnProperty(C)&&(E=n[C],E!=null))switch(C){case"value":l=E;break;case"defaultValue":c=E;break;case"children":s=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:xt(e,t,C,E,n,null)}Yx(e,l,c,s);return;case"option":for(J in n)n.hasOwnProperty(J)&&(l=n[J],l!=null)&&(J==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":xt(e,t,J,l,n,null));return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(l=0;l<Yi.length;l++)Oe(Yi[l],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in n)if(n.hasOwnProperty(ae)&&(l=n[ae],l!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:xt(e,t,ae,l,n,null)}return;default:if($0(t)){for(ue in n)n.hasOwnProperty(ue)&&(l=n[ue],l!==void 0&&Gc(e,t,ue,l,n,void 0));return}}for(E in n)n.hasOwnProperty(E)&&(l=n[E],l!=null&&xt(e,t,E,l,n,null))}function I2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,s=null,C=null,E=null,J=null,ae=null,ue=null;for(re in n){var se=n[re];if(n.hasOwnProperty(re)&&se!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":J=se;default:l.hasOwnProperty(re)||xt(e,t,re,null,l,se)}}for(var ie in l){var re=l[ie];if(se=n[ie],l.hasOwnProperty(ie)&&(re!=null||se!=null))switch(ie){case"type":s=re;break;case"name":c=re;break;case"checked":ae=re;break;case"defaultChecked":ue=re;break;case"value":C=re;break;case"defaultValue":E=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,t));break;default:re!==se&&xt(e,t,ie,re,l,se)}}P0(e,C,E,J,ae,ue,s,c);return;case"select":re=C=E=ie=null;for(s in n)if(J=n[s],n.hasOwnProperty(s)&&J!=null)switch(s){case"value":break;case"multiple":re=J;default:l.hasOwnProperty(s)||xt(e,t,s,null,l,J)}for(c in l)if(s=l[c],J=n[c],l.hasOwnProperty(c)&&(s!=null||J!=null))switch(c){case"value":ie=s;break;case"defaultValue":E=s;break;case"multiple":C=s;default:s!==J&&xt(e,t,c,s,l,J)}t=E,n=C,l=re,ie!=null?Ma(e,!!n,ie,!1):!!l!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":re=ie=null;for(E in n)if(c=n[E],n.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:xt(e,t,E,null,l,c)}for(C in l)if(c=l[C],s=n[C],l.hasOwnProperty(C)&&(c!=null||s!=null))switch(C){case"value":ie=c;break;case"defaultValue":re=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==s&&xt(e,t,C,c,l,s)}Ux(e,ie,re);return;case"option":for(var ge in n)ie=n[ge],n.hasOwnProperty(ge)&&ie!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?e.selected=!1:xt(e,t,ge,null,l,ie));for(J in l)ie=l[J],re=n[J],l.hasOwnProperty(J)&&ie!==re&&(ie!=null||re!=null)&&(J==="selected"?e.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":xt(e,t,J,ie,l,re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in n)ie=n[Me],n.hasOwnProperty(Me)&&ie!=null&&!l.hasOwnProperty(Me)&&xt(e,t,Me,null,l,ie);for(ae in l)if(ie=l[ae],re=n[ae],l.hasOwnProperty(ae)&&ie!==re&&(ie!=null||re!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,t));break;default:xt(e,t,ae,ie,l,re)}return;default:if($0(t)){for(var st in n)ie=n[st],n.hasOwnProperty(st)&&ie!==void 0&&!l.hasOwnProperty(st)&&Gc(e,t,st,void 0,l,ie);for(ue in l)ie=l[ue],re=n[ue],!l.hasOwnProperty(ue)||ie===re||ie===void 0&&re===void 0||Gc(e,t,ue,ie,l,re);return}}for(var $ in n)ie=n[$],n.hasOwnProperty($)&&ie!=null&&!l.hasOwnProperty($)&&xt(e,t,$,null,l,ie);for(se in l)ie=l[se],re=n[se],!l.hasOwnProperty(se)||ie===re||ie==null&&re==null||xt(e,t,se,ie,l,re)}function Wf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],s=c.transferSize,C=c.initiatorType,E=c.duration;if(s&&E&&Wf(C)){for(C=0,E=c.responseEnd,l+=1;l<n.length;l++){var J=n[l],ae=J.startTime;if(ae>E)break;var ue=J.transferSize,se=J.initiatorType;ue&&Wf(se)&&(J=J.responseEnd,C+=ue*(J<E?1:(E-ae)/(J-ae)))}if(--l,t+=8*(s+C)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Oc=null,Hc=null;function s0(e){return e.nodeType===9?e:e.ownerDocument}function Qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Kc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uc=null;function G2(){var e=window.event;return e&&e.type==="popstate"?e===Uc?!1:(Uc=e,!0):(Uc=null,!1)}var Ff=typeof setTimeout=="function"?setTimeout:void 0,O2=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,H2=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(e){return $f.resolve(null).then(e).catch(K2)}:Ff;function K2(e){setTimeout(function(){throw e})}function Jl(e){return e==="head"}function ed(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),li(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Xi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Xi(n);for(var s=n.firstChild;s;){var C=s.nextSibling,E=s.nodeName;s[la]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=C}}else n==="body"&&Xi(e.ownerDocument.body);n=c}while(n);li(t)}function td(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Yc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yc(n),oi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function U2(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[la])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function Y2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function nd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function Zc(e){return e.data==="$?"||e.data==="$~"}function Xc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Z2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Jc=null;function ld(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function id(e,t,n){switch(t=s0(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Xi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);oi(e)}var Nn=new Map,rd=new Set;function o0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cl=A.d;A.d={f:X2,r:J2,D:V2,C:W2,L:Q2,m:P2,X:$2,S:F2,M:eh};function X2(){var e=Cl.f(),t=n0();return e||t}function J2(e){var t=me(e);t!==null&&t.tag===5&&t.type==="form"?So(t):Cl.r(e)}var ei=typeof document>"u"?null:document;function ud(e,t,n){var l=ei;if(l&&typeof t=="string"&&t){var c=_n(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),rd.has(c)||(rd.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Kt(t,"link",e),Ve(t),l.head.appendChild(t)))}}function V2(e){Cl.D(e),ud("dns-prefetch",e,null)}function W2(e,t){Cl.C(e,t),ud("preconnect",e,t)}function Q2(e,t,n){Cl.L(e,t,n);var l=ei;if(l&&e&&t){var c='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+_n(n.imageSizes)+'"]')):c+='[href="'+_n(e)+'"]';var s=c;switch(t){case"style":s=ti(e);break;case"script":s=ni(e)}Nn.has(s)||(e=p({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Nn.set(s,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Ji(s))||t==="script"&&l.querySelector(Vi(s))||(t=l.createElement("link"),Kt(t,"link",e),Ve(t),l.head.appendChild(t)))}}function P2(e,t){Cl.m(e,t);var n=ei;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(e)+'"]',s=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ni(e)}if(!Nn.has(s)&&(e=p({rel:"modulepreload",href:e},t),Nn.set(s,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Vi(s)))return}l=n.createElement("link"),Kt(l,"link",e),Ve(l),n.head.appendChild(l)}}}function F2(e,t,n){Cl.S(e,t,n);var l=ei;if(l&&e){var c=Re(l).hoistableStyles,s=ti(e);t=t||"default";var C=c.get(s);if(!C){var E={loading:0,preload:null};if(C=l.querySelector(Ji(s)))E.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nn.get(s))&&Vc(e,n);var J=C=l.createElement("link");Ve(J),Kt(J,"link",e),J._p=new Promise(function(ae,ue){J.onload=ae,J.onerror=ue}),J.addEventListener("load",function(){E.loading|=1}),J.addEventListener("error",function(){E.loading|=2}),E.loading|=4,f0(C,t,l)}C={type:"stylesheet",instance:C,count:1,state:E},c.set(s,C)}}}function $2(e,t){Cl.X(e,t);var n=ei;if(n&&e){var l=Re(n).hoistableScripts,c=ni(e),s=l.get(c);s||(s=n.querySelector(Vi(c)),s||(e=p({src:e,async:!0},t),(t=Nn.get(c))&&Wc(e,t),s=n.createElement("script"),Ve(s),Kt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function eh(e,t){Cl.M(e,t);var n=ei;if(n&&e){var l=Re(n).hoistableScripts,c=ni(e),s=l.get(c);s||(s=n.querySelector(Vi(c)),s||(e=p({src:e,async:!0,type:"module"},t),(t=Nn.get(c))&&Wc(e,t),s=n.createElement("script"),Ve(s),Kt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function cd(e,t,n,l){var c=(c=ee.current)?o0(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ti(n.href),n=Re(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ti(n.href);var s=Re(c).hoistableStyles,C=s.get(e);if(C||(c=c.ownerDocument||c,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,C),(s=c.querySelector(Ji(e)))&&!s._p&&(C.instance=s,C.state.loading=5),Nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nn.set(e,n),s||th(c,e,n,C.state))),t&&l===null)throw Error(r(528,""));return C}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ni(n),n=Re(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ti(e){return'href="'+_n(e)+'"'}function Ji(e){return'link[rel="stylesheet"]['+e+"]"}function xd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function th(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Kt(t,"link",n),Ve(t),e.head.appendChild(t))}function ni(e){return'[src="'+_n(e)+'"]'}function Vi(e){return"script[async]"+e}function sd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+_n(n.href)+'"]');if(l)return t.instance=l,Ve(l),l;var c=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ve(l),Kt(l,"style",c),f0(l,n.precedence,e),t.instance=l;case"stylesheet":c=ti(n.href);var s=e.querySelector(Ji(c));if(s)return t.state.loading|=4,t.instance=s,Ve(s),s;l=xd(n),(c=Nn.get(c))&&Vc(l,c),s=(e.ownerDocument||e).createElement("link"),Ve(s);var C=s;return C._p=new Promise(function(E,J){C.onload=E,C.onerror=J}),Kt(s,"link",l),t.state.loading|=4,f0(s,n.precedence,e),t.instance=s;case"script":return s=ni(n.src),(c=e.querySelector(Vi(s)))?(t.instance=c,Ve(c),c):(l=n,(c=Nn.get(s))&&(l=p({},n),Wc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ve(c),Kt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,f0(l,n.precedence,e));return t.instance}function f0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,s=c,C=0;C<l.length;C++){var E=l[C];if(E.dataset.precedence===t)s=E;else if(s!==c)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var d0=null;function od(e,t,n){if(d0===null){var l=new Map,c=d0=new Map;c.set(n,l)}else c=d0,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var s=n[c];if(!(s[la]||s[Ne]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var C=s.getAttribute(t)||"";C=e+C;var E=l.get(C);E?E.push(s):l.set(C,[s])}}return l}function fd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function nh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lh(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ti(l.href),s=t.querySelector(Ji(c));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=h0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Ve(s);return}s=t.ownerDocument||t,l=xd(l),(c=Nn.get(c))&&Vc(l,c),s=s.createElement("link"),Ve(s);var C=s;C._p=new Promise(function(E,J){C.onload=E,C.onerror=J}),Kt(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=h0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Qc=0;function ah(e,t){return e.stylesheets&&e.count===0&&b0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&b0(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Qc===0&&(Qc=62500*R2());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&b0(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Qc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function h0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)b0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var m0=null;function b0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,m0=new Map,t.forEach(ih,e),m0=null,h0.call(e))}function ih(e,t){if(!(t.state.loading&4)){var n=m0.get(e);if(n)var l=n.get(null);else{n=new Map,m0.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<c.length;s++){var C=c[s];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(n.set(C.dataset.precedence,C),l=C)}l&&n.set(null,l)}c=t.instance,C=c.getAttribute("data-precedence"),s=n.get(C)||l,s===l&&n.set(null,c),n.set(C,c),this.count++,l=h0.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),s?s.parentNode.insertBefore(c,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Wi={$$typeof:R,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function rh(e,t,n,l,c,s,C,E,J){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qe(0),this.hiddenUpdates=Qe(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=s,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function hd(e,t,n,l,c,s,C,E,J,ae,ue,se){return e=new rh(e,t,n,C,J,ae,ue,se,E),t=1,s===!0&&(t|=24),s=cn(3,null,null,t),e.current=s,s.stateNode=e,t=Nu(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Tu(s),e}function md(e){return e?(e=Ta,e):Ta}function bd(e,t,n,l,c,s){c=md(c),l.context===null?l.context=c:l.pendingContext=c,l=Bl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=Il(e,l,t),n!==null&&(ln(n,e,t),zi(n,e,t))}function gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pc(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function vd(e){if(e.tag===13||e.tag===31){var t=ua(e,67108864);t!==null&&ln(t,e,67108864),Pc(e,67108864)}}function yd(e){if(e.tag===13||e.tag===31){var t=dn();t=at(t);var n=ua(e,t);n!==null&&ln(n,e,t),Pc(e,t)}}var g0=!0;function uh(e,t,n,l){var c=z.T;z.T=null;var s=A.p;try{A.p=2,Fc(e,t,n,l)}finally{A.p=s,z.T=c}}function ch(e,t,n,l){var c=z.T;z.T=null;var s=A.p;try{A.p=8,Fc(e,t,n,l)}finally{A.p=s,z.T=c}}function Fc(e,t,n,l){if(g0){var c=$c(l);if(c===null)Rc(e,t,l,v0,n),_d(e,l);else if(sh(c,e,t,n,l))l.stopPropagation();else if(_d(e,l),t&4&&-1<xh.indexOf(e)){for(;c!==null;){var s=me(c);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var C=De(s.pendingLanes);if(C!==0){var E=s;for(E.pendingLanes|=2,E.entangledLanes|=2;C;){var J=1<<31-Ke(C);E.entanglements[1]|=J,C&=~J}$n(s),(lt&6)===0&&(e0=$e()+500,Ui(0))}}break;case 31:case 13:E=ua(s,2),E!==null&&ln(E,s,2),n0(),Pc(s,2)}if(s=$c(l),s===null&&Rc(e,t,l,v0,n),s===c)break;c=s}c!==null&&l.stopPropagation()}else Rc(e,t,l,null,n)}}function $c(e){return e=tu(e),ex(e)}var v0=null;function ex(e){if(v0=null,e=Nl(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=S(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return v0=e,null}function pd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bn()){case jl:return 2;case al:return 8;case il:case zl:return 32;case na:return 268435456;default:return 32}default:return 32}}var tx=!1,Vl=null,Wl=null,Ql=null,Qi=new Map,Pi=new Map,Pl=[],xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _d(e,t){switch(e){case"focusin":case"focusout":Vl=null;break;case"dragenter":case"dragleave":Wl=null;break;case"mouseover":case"mouseout":Ql=null;break;case"pointerover":case"pointerout":Qi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(t.pointerId)}}function Fi(e,t,n,l,c,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[c]},t!==null&&(t=me(t),t!==null&&vd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function sh(e,t,n,l,c){switch(t){case"focusin":return Vl=Fi(Vl,e,t,n,l,c),!0;case"dragenter":return Wl=Fi(Wl,e,t,n,l,c),!0;case"mouseover":return Ql=Fi(Ql,e,t,n,l,c),!0;case"pointerover":var s=c.pointerId;return Qi.set(s,Fi(Qi.get(s)||null,e,t,n,l,c)),!0;case"gotpointercapture":return s=c.pointerId,Pi.set(s,Fi(Pi.get(s)||null,e,t,n,l,c)),!0}return!1}function Sd(e){var t=Nl(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,wa(e.priority,function(){yd(n)});return}}else if(t===31){if(t=S(n),t!==null){e.blockedOn=t,wa(e.priority,function(){yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function y0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$c(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);eu=l,n.target.dispatchEvent(l),eu=null}else return t=me(n),t!==null&&vd(t),e.blockedOn=n,!1;t.shift()}return!0}function wd(e,t,n){y0(e)&&n.delete(t)}function oh(){tx=!1,Vl!==null&&y0(Vl)&&(Vl=null),Wl!==null&&y0(Wl)&&(Wl=null),Ql!==null&&y0(Ql)&&(Ql=null),Qi.forEach(wd),Pi.forEach(wd)}function p0(e,t){e.blockedOn===t&&(e.blockedOn=null,tx||(tx=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,oh)))}var _0=null;function Cd(e){_0!==e&&(_0=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){_0===e&&(_0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(ex(l||n)===null)continue;break}var s=me(n);s!==null&&(e.splice(t,3),t-=3,$u(s,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function li(e){function t(J){return p0(J,e)}Vl!==null&&p0(Vl,e),Wl!==null&&p0(Wl,e),Ql!==null&&p0(Ql,e),Qi.forEach(t),Pi.forEach(t);for(var n=0;n<Pl.length;n++){var l=Pl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Pl.length&&(n=Pl[0],n.blockedOn===null);)Sd(n),n.blockedOn===null&&Pl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],s=n[l+1],C=c[Rt]||null;if(typeof s=="function")C||Cd(n);else if(C){var E=null;if(s&&s.hasAttribute("formAction")){if(c=s,C=s[Rt]||null)E=C.formAction;else if(ex(c)!==null)continue}else E=C.action;typeof E=="function"?n[l+1]=E:(n.splice(l,3),l-=3),Cd(n)}}}function Md(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(C){return c=C})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function nx(e){this._internalRoot=e}S0.prototype.render=nx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=dn();bd(n,l,e,t,null,null)},S0.prototype.unmount=nx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bd(e.current,2,null,e,null,null),n0(),t[Dl]=null}};function S0(e){this._internalRoot=e}S0.prototype.unstable_scheduleHydration=function(e){if(e){var t=vn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pl.length&&t!==0&&t<Pl[n].priority;n++);Pl.splice(n,0,e),n===0&&Sd(e)}};var jd=i.version;if(jd!=="19.2.3")throw Error(r(527,jd,"19.2.3"));A.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=h(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var fh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var w0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!w0.isDisabled&&w0.supportsFiber)try{Rn=w0.inject(fh),Bt=w0}catch{}}return er.createRoot=function(e,t){if(!f(e))throw Error(r(299));var n=!1,l="",c=Eo,s=To,C=ko;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(C=t.onRecoverableError)),t=hd(e,1,!1,null,null,n,l,null,c,s,C,Md),e[Dl]=t.current,Ic(e),new nx(t)},er.hydrateRoot=function(e,t,n){if(!f(e))throw Error(r(299));var l=!1,c="",s=Eo,C=To,E=ko,J=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(C=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError),n.formState!==void 0&&(J=n.formState)),t=hd(e,1,!0,t,n??null,l,c,J,s,C,E,Md),t.context=md(null),n=t.current,l=dn(),l=at(l),c=Bl(l),c.callback=null,Il(n,c,l),n=l,t.current.lanes=n,Ee(t,n),$n(t),e[Dl]=t.current,Ic(e),new S0(t)},er.version="19.2.3",er}var Bd;function Sh(){if(Bd)return ix.exports;Bd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),ix.exports=_h(),ix.exports}var wh=Sh();function Kn(u,i){u=u-166;const a=z0();let r=a[u];if(Kn.mjBorn===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Kn.zKYbfH=f,Kn.STNWHZ={},Kn.mjBorn=!0}const o=a[0],v=u+o,S=Kn.STNWHZ[v];if(S)r=S;else{const d=function(h){this.uyDlSN=h,this.dJrmsP=[1,0,0],this.LhyUve=function(){return"newState"},this.MXbbEz="\\w+ *\\(\\) *{\\w+ *",this.qPfqgu=`['|"].+['|"];? *}`};d.prototype.UZkmnm=function(){const h=new RegExp(this.MXbbEz+this.qPfqgu),_=h.test(this.LhyUve.toString())?--this.dJrmsP[1]:--this.dJrmsP[0];return this.italAu(_)},d.prototype.italAu=function(h){return~h?this.QZqZWx(this.uyDlSN):h},d.prototype.QZqZWx=function(h){for(let _=0,p=this.dJrmsP.length;_<p;_++)this.dJrmsP.push(Math.round(Math.random())),p=this.dJrmsP.length;return h(this.dJrmsP[0])},new d(Kn).UZkmnm(),r=Kn.zKYbfH(r),Kn.STNWHZ[v]=r}return r}const Sa=Kn;(function(u,i){const a=Kn,r=u();for(;;)try{if(-parseInt(a(188))/1*(parseInt(a(182))/2)+-parseInt(a(177))/3+-parseInt(a(197))/4*(-parseInt(a(174))/5)+-parseInt(a(180))/6*(-parseInt(a(192))/7)+-parseInt(a(196))/8*(-parseInt(a(194))/9)+-parseInt(a(167))/10*(-parseInt(a(193))/11)+-parseInt(a(173))/12*(parseInt(a(166))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(z0,944700);const Ch=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),ox=Ch(void 0,function(){const u=Kn,i={ikjkd:u(189)};return ox.toString()[u(169)]("(((.+)+)+)+$")[u(170)]().constructor(ox).search(i[u(190)])});ox();const j0=()=>new Date()[Sa(187)](),kt=u=>u+"_"+Math.random().toString(36).slice(2,10),ye=(u,i,a)=>Math.max(i,Math[Sa(175)](a,u)),$l=u=>{const i=Sa,a={wSGwz:function(r,f){return r===f},yGyFL:function(r,f){return r===f}};return a[i(172)](u,void 0)||a[i(178)](u,null)?u:JSON[i(179)](JSON[i(186)](u))},nr=u=>Math[Sa(191)](u*.7/5)*5;function nl(u,i){const a=Sa;return u.groups?u[a(171)].find(r=>r[a(168)].includes(i))??null:null}function z0(){const u=["Aw5JBhvKzxm","BgvUz3rO","zMXVD2vYCW","C3rYAw5NAwz5","Dg9ju09tDhjPBMC","nti0nJfWtwLduMm","kcGOlISPkYKRksSK","AwTQA2q","zMXVB3i","mta5nJu2odLgrwDzr0K","ndKYnJeZCKXlC0Lu","mtHHwLvVAha","Cg9ZAxrPB24","mtm0nZK3nKDQsKX0Aq","ndKYntqZnKXQsK1LDG","ChvZAa","zMLUza","nZa3mNnqwe15CG","mtKWBhDLthHn","zMXVD2vYswrZ","C2vHCMnO","Dg9tDhjPBMC","z3jVDxbZ","D1nhD3O","nde3ndHeuuP3ExG","nwjyywrkwq","BwLU","Efz0Ceq","mJGXntKXmwLdqwvbzW","EuD5rKW","CgfYC2u","nM9kvxbmtq","BgvHzKLKCW","ogfhDhDOBW"];return z0=function(){return u},z0()}function Mh(u,i){const a=nl(u,i);return a?a.flowerIds:[i]}function Ml(u,i){const a=Sa;return u.groups?u[a(171)][a(199)](r=>r[a(181)][a(183)](i))??null:null}function jh(u,i){const a=Sa,r={xVtpD:function(d,h){return d===h},XLCJd:function(d,h){return d/h}},f=(u[a(171)]??[])[a(199)](d=>d.id===i);if(!f)return{x:0,y:0};const o=[];for(const d of f.flowerIds){const h=u[a(185)].find(_=>_.id===d);h&&o[a(198)](h[a(195)])}for(const d of f[a(181)]){const h=(u.leaves??[]).find(_=>_.id===d);h&&o.push(h.position)}if(r[a(176)](o[a(184)],0))return{x:0,y:0};const v=o.reduce((d,h)=>d+h.x,0),S=o.reduce((d,h)=>d+h.y,0);return{x:v/o.length,y:r.XLCJd(S,o[a(184)])}}function Id(u,i){const a={ADfhW:function(f,o,v){return f(o,v)}},r=a.ADfhW(Ml,u,i);return r?r.leafIds:[i]}(function(u,i){const a=Xt,r=u();for(;;)try{if(-parseInt(a(313))/1*(-parseInt(a(322))/2)+-parseInt(a(327))/3*(parseInt(a(307))/4)+parseInt(a(308))/5*(parseInt(a(340))/6)+-parseInt(a(296))/7+-parseInt(a(303))/8+-parseInt(a(299))/9*(-parseInt(a(305))/10)+-parseInt(a(332))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(D0,689881);const zh=(function(){let u=!0;return function(i,a){const r=u?function(){const f=Xt;if(a){const o=a[f(317)](i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),fx=zh(void 0,function(){const u=Xt,i={upMIq:u(335)};return fx.toString().search(i.upMIq)[u(302)]().constructor(fx)[u(336)](u(335))});fx();function Xt(u,i){u=u-284;const a=D0();let r=a[u];if(Xt.Hnygfd===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Xt.DeocHU=f,Xt.fqypDm={},Xt.Hnygfd=!0}const o=a[0],v=u+o,S=Xt.fqypDm[v];if(S)r=S;else{const d=function(h){this.UtuWPw=h,this.fUsirD=[1,0,0],this.ykMZOT=function(){return"newState"},this.ilbOlD="\\w+ *\\(\\) *{\\w+ *",this.wguZYl=`['|"].+['|"];? *}`};d.prototype.RuMtqt=function(){const h=new RegExp(this.ilbOlD+this.wguZYl),_=h.test(this.ykMZOT.toString())?--this.fUsirD[1]:--this.fUsirD[0];return this.xjzNVp(_)},d.prototype.xjzNVp=function(h){return~h?this.NZEsrb(this.UtuWPw):h},d.prototype.NZEsrb=function(h){for(let _=0,p=this.fUsirD.length;_<p;_++)this.fUsirD.push(Math.round(Math.random())),p=this.fUsirD.length;return h(this.fUsirD[0])},new d(Xt).RuMtqt(),r=Xt.DeocHU(r),Xt.fqypDm[v]=r}return r}const ci=2/3,Rd=.6,Dh=.25,Nh=.75;function ta(u,i,a){const r=Xt,f={tKDBN:function(R,K){return R/K},pPAHb:r(343),mvhKn:function(R,K){return R*K},xILJJ:function(R,K){return R-K},JdHyy:function(R,K){return R/K},gwMZB:function(R,K){return R/K},aqgJP:function(R,K){return R===K},HtugN:function(R,K){return R*K},PGwjC:function(R,K){return R+K},GOQai:function(R,K){return R===K},TwPpi:function(R,K){return R/K},jdtLg:function(R,K){return R*K},WKAbU:function(R,K){return R*K}},o=f.tKDBN(u,2),v=i*Math.SQRT2/2;if(v<=0||o<=0)return{diameter:u,layerCount:1};const S=a?.sizeMode??f.pPAHb,d=a?.[r(290)]??0,h=f.mvhKn(v,f[r(288)](1,ci)),_=f.JdHyy(Math.PI*o,2),p=a?.[r(337)]??Math.max(1,Math.round(_/h)),y=S===r(329)?i+(p-1)*d:i,M=f.gwMZB(y*Math[r(323)],2),D=f.mvhKn(v,Dh)+M*Nh;if(f[r(294)](p,1)){const R=Math[r(342)](Math.PI/2,f[r(339)](M,ci)/o),K=o*Math[r(316)](R),O=f.HtugN(M,Rd)*Math.sin(R);return{diameter:Math.round(Math.max(u,f[r(333)](2,f.PGwjC(K,O)))),layerCount:p}}let g=f.gwMZB(f[r(339)](v,ci),o);for(let R=1;R<p;R++){const K=f[r(319)](S,"gradual")?i+R*d:i,O=f[r(285)](f.jdtLg(K,Math.SQRT2),2);g+=O*(1-ci)/o}g=Math[r(342)](g,f.tKDBN(Math.PI,2));const m=f.PGwjC(o,f.mvhKn(D,Rd))*Math[r(316)](g),G=Math[r(315)](0,m-o);return{diameter:Math.round(u+f.WKAbU(2,G)),layerCount:p}}function ir(u,i,a="uniform",r=0){const f=Xt,o={ZqhiF:function(d,h){return d*h},wzHFI:function(d,h){return d-h},PsMoz:function(d,h){return d/h},JCcYP:function(d,h){return d===h},MNIsw:f(329),UXHPI:function(d,h){return d+h},HzxpV:function(d,h){return d*h},buekv:function(d,h){return d+h},pIUOb:function(d,h){return d===h},ifrtU:function(d,h){return d/h},ZutHy:function(d,h){return d*h},Gwiwz:function(d,h){return d*h},nzdim:function(d,h){return d/h},LLJoP:function(d,h){return d<h},IWnZu:function(d,h){return d*h},AGeWx:function(d,h){return d/h},fNJvW:function(d,h){return d+h},RWCYX:function(d,h){return d<=h},SEdtp:function(d,h){return d<h},DjUsE:function(d,h){return d*h},yAKOy:function(d,h){return d*h},npthD:f(291)};if(o.RWCYX(i,0)||u<=0)return 0;const v=[];for(let d=0;o[f(341)](d,i);d++){const h=a===o.MNIsw?u+o.DjUsE(d,r):u;v.push(o[f(292)](h,Math[f(323)])/2)}let S=v[0];for(let d=1;d<i;d++)if(o[f(293)]!=="TnUpm"){const h=_0x379510/2,_=FJwMME.ZqhiF(_0x43abee,_0x26f73d[f(323)])/2;if(_<=0||h<=0)return{diameter:_0x11dd84,layerCount:1};const p=_0x5ddf3d?.[f(331)]??"uniform",y=_0xc46504?.sizeStepMm??0,M=FJwMME.ZqhiF(_,FJwMME[f(324)](1,_0xbc97ba)),D=FJwMME[f(301)](_0x208c2f.PI*h,2),g=_0x30abfa?.[f(337)]??_0x54d843.max(1,_0x5616ee.round(D/M)),m=FJwMME[f(320)](p,FJwMME.MNIsw)?FJwMME.UXHPI(_0x2a1726,FJwMME.HzxpV(g-1,y)):_0x1a09d0,G=m*_0x903e7.SQRT2/2,H=FJwMME[f(295)](_*_0x46631c,G*_0x5be5bb);if(FJwMME.pIUOb(g,1)){const q=_0x54c9c0[f(342)](FJwMME.ifrtU(_0x4c7de5.PI,2),FJwMME.ZutHy(G,_0x32b135)/h),X=h*_0x386ce2[f(316)](q),P=FJwMME[f(298)](G,_0x8bba56)*_0x522a6f[f(316)](q);return{diameter:_0x518a67[f(284)](_0x12ccef.max(_0x15e82a,FJwMME.ZqhiF(2,FJwMME[f(295)](X,P)))),layerCount:g}}let R=FJwMME[f(314)](_*_0x5080f2,h);for(let q=1;FJwMME[f(321)](q,g);q++){const X=p===FJwMME[f(338)]?_0x2a0e6c+FJwMME[f(326)](q,y):_0x49a411,P=FJwMME.IWnZu(X,_0x5e3ccc.SQRT2)/2;R+=FJwMME[f(306)](P,1-_0x366bd6)/h}R=_0x37bdad.min(R,FJwMME[f(310)](_0x78a3a5.PI,2));const K=FJwMME[f(309)](h,FJwMME.ZutHy(H,_0x557cb2))*_0x4ad5dd.sin(R),O=_0x415d7d.max(0,K-h);return{diameter:_0x375697[f(284)](_0x168d6f+FJwMME[f(297)](2,O)),layerCount:g}}else S+=v[d]/3;return Math[f(284)](o[f(298)](S,2))}function Ah(u,i,a="uniform",r=0){const f=Xt,o={lsmEw:function(p,y){return p<=y},TPRJx:function(p,y){return p/y},JGoAC:"uniform",lJtFk:function(p,y){return p*y},cXOHJ:function(p,y){return p+y},FTdqF:function(p,y){return p*y},PieSe:function(p,y){return p*y},PCxIr:function(p,y){return p-y},QbXNf:function(p,y){return p+y}};if(i<=0||o[f(304)](u,0))return 0;const v=o[f(330)](u,2),S=o[f(330)](Math[f(323)],2),d=i;if(a===o.JGoAC||r===0){const p=o.lJtFk(S,o.cXOHJ(d,2))/3;return Math.max(1,Math.round(v/p))}const h=o[f(330)](o.FTdqF(o[f(289)](r,o.PCxIr(d,1)),d),6),_=o.TPRJx((o.TPRJx(v,S)-h)*3,o.QbXNf(d,2));return Math.max(1,Math.round(_))}function D0(){const u=["wvzkAMW","EeLmsKO","ugLLu2u","C2L6zvn0zxbnBq","vg5vCg0","Euflt3K","BNb0Aeq","yxfNsLa","yNvLA3y","ndi0mJqXm0jqu3j5uq","wNv0shK","r3DPD3O","mti0mNrMCLjRsq","BvrKDKm","uhnnB3O","Dg9tDhjPBMC","ndmZotiWDM96zw5W","BhnTrxC","nJKXmdbLDuT1wMW","wNfOAuy","ndqZoti0D2ztz3fK","nJmZnde4nvnADKrzzW","zK5kDLC","quDLv3G","Aez0BKO","ALLeq24","nJyXn2zozNzOEq","BNPKAw0","Bwf4","C2LU","yxbWBhK","sgnUrwC","r09rywK","sKnJwva","teXkB1a","mZm4q1DKrKHS","u1fsvdi","D3PirKK","yMvjs2i","svDUwNu","mtjzAKXKrMS","Ahv3yxi","z3jHzhvHBa","vfbssNG","C2L6zu1Vzgu","mty5ota0ndz4BwTxve8","shr1z04","DKLoALq","kcGOlISPkYKRksSK","C2vHCMnO","Bgf5zxjdB3vUDa","tu5jC3C","BxzOs24","nMHlyKDtDG","u0vKDha","BwLU","Dw5PzM9YBq","CM91BMq","vhDqCgK","D2PxC2S"];return D0=function(){return u},D0()}function Lh(u,i,a){const r=Xt,f={DffIY:function(S,d){return S<=d},mTdvC:function(S,d){return S+d},wjWsk:function(S,d){return S<d},huwar:function(S,d){return S+d}};if(f.DffIY(u,i))return 1;let o=1,v=80;for(let S=0;S<30;S++){const d=f[r(300)](o,v)/2,{diameter:h}=ta(i,d,a);f[r(286)](h,u)?o=d:v=d}return Math[r(315)](1,Math[r(284)](f[r(328)](o,v)/2))}function Eh(u,i,a){const r=Xt,f={vINjT:function(y,M){return y*M},cvVKB:function(y,M){return y/M},YVJjl:r(343),bDsdO:r(318),beIKb:function(y,M){return y/M},oRzgJ:function(y,M){return y/M},HSZsK:function(y,M){return y>=M},hFtnJ:function(y,M){return y+M},jYDCn:function(y,M){return y/M},jAIJy:function(y,M){return y-M}},o=u/2,v=f.cvVKB(i*Math.SQRT2,2);if(v<=0||o<=0)return 1;const S=a?.[r(331)]??f[r(287)],d=a?.sizeStepMm??0,h=Math.PI/2;if(S===f[r(287)]||d===0)if(f.bDsdO===f.bDsdO){const y=v/3,M=f[r(325)](f[r(334)](Math.PI,o),2);return Math[r(315)](1,Math.round(f.oRzgJ(M,y)))}else{const y=kndQkN[r(334)](_0x218de1,_0xc91089+2)/3;return _0x280f85[r(315)](1,_0x2c7903[r(284)](_0x32a716/y))}let _=f.oRzgJ(v*ci,o);if(f.HSZsK(_,h))return 1;let p=1;for(let y=1;y<100;y++){const M=f[r(311)](i,y*d),D=f[r(312)](M*Math[r(323)],2),g=f.vINjT(D,f.jAIJy(1,ci))/o;if(_+=g,_>f.hFtnJ(h,f.oRzgJ(g,2)))break;p=y+1}return Math[r(315)](1,p)}(function(u,i){const a=Ct,r=u();for(;;)try{if(-parseInt(a(490))/1*(-parseInt(a(510))/2)+parseInt(a(514))/3+parseInt(a(484))/4*(-parseInt(a(461))/5)+parseInt(a(496))/6*(parseInt(a(494))/7)+parseInt(a(470))/8+parseInt(a(508))/9*(-parseInt(a(501))/10)+-parseInt(a(511))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(N0,345632);const Th=(function(){let u=!0;return function(i,a){const r=u?function(){const f=Ct;if(a){const o=a[f(475)](i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),dx=Th(void 0,function(){const u=Ct,i={aqqPb:u(482)};return dx.toString()[u(473)](u(482))[u(492)]().constructor(dx).search(i.aqqPb)});dx();function N0(){const u=["sePkq2u","tMDpqwu","C2nHBgu","txHvAfC","swjxA2e","mZiYmJLwwxbzq3C","BezvEuW","mtm1nJu3nfnzu1jMsW","ndi4mJqYmwngzMXptG","ywjZ","zMLUza","mtCYndGWoeHAu25JtW","wK5wt0W","ChvZAa","EhH5se8","y3bItMC","y29Z","wxbhDg0","ywv4zKu","tLHAt3q","t2rHzuK","rMvqy2u","C29YDa","nwjyD29Qwq","C1LSwwG","zgjKt20","A05jwKC","DKfms3K","zvf1DMS","CwH0r1i","Dg9gAxHLza","C2LU","mZm0ode5mNDrALz6Dq","AxHoD3e","BgvUz3rO","C2vHCMnO","B1fWzeO","yxbWBhK","q2Lws3y","Bwf4","Cfr4quO","qKDHA0W","shj4u20","tLLNwLm","kcGOlISPkYKRksSK","zMXVB3i","mJq2mZe0ogHIy0v1yW","CgvWB28","zxH0BgK","s0TMq2O","CMfKAxvZ","ueP6qxu","muHwuMjhAq","B1zetvi","Dg9tDhjPBMC","r3vRAfi","mtrUrxbMyxy","vMXSAKS","ndaXmZeWDefjrKP5","v1fHD0m","CM91BMq","rMTtALy","s3nfDvC","mti3mgnjy1nZDa","AM9PBG"];return N0=function(){return u},N0()}const xr=.28,Gd={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function rr(u){const i=Ct,a={GukhR:function(r,f){return r===f},HrxSm:"",aexfE:""};return a[i(493)](u,a[i(480)])?Gd.:Gd[a[i(521)]]}function ea(u){const i=Ct,a={MxUhW:function(r,f){return r/f},IbWka:function(r,f){return r*f}};return a[i(506)](a[i(507)](u,Math.PI),180)}function Ct(u,i){u=u-461;const a=N0();let r=a[u];if(Ct.QWtuwH===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Ct.dqnUaU=f,Ct.aMdBgG={},Ct.QWtuwH=!0}const o=a[0],v=u+o,S=Ct.aMdBgG[v];if(S)r=S;else{const d=function(h){this.EcAuOC=h,this.EZwNiy=[1,0,0],this.sDgFdD=function(){return"newState"},this.QCgLUT="\\w+ *\\(\\) *{\\w+ *",this.pPaoJd=`['|"].+['|"];? *}`};d.prototype.JiWFrW=function(){const h=new RegExp(this.QCgLUT+this.pPaoJd),_=h.test(this.sDgFdD.toString())?--this.EZwNiy[1]:--this.EZwNiy[0];return this.tdnDon(_)},d.prototype.tdnDon=function(h){return~h?this.sNflRQ(this.EcAuOC):h},d.prototype.sNflRQ=function(h){for(let _=0,p=this.EZwNiy.length;_<p;_++)this.EZwNiy.push(Math.round(Math.random())),p=this.EZwNiy.length;return h(this.EZwNiy[0])},new d(Ct).JiWFrW(),r=Ct.dqnUaU(r),Ct.aMdBgG[v]=r}return r}const an=2.7;function qt(u){const i=Ct,a={qhWoa:function(v,S){return v*S},NYgZS:function(v,S){return v*S}},r=a.qhWoa(u,Math.SQRT2)/2,f=a[i(481)](r,an),o=f/2;return{length:f,width:o}}function kh(u){const i={aXWJL:function(a,r){return a/r},jiVAk:function(a,r){return a*r}};return i.aXWJL(i.jiVAk(u,an),2)}function lr(u,i,a){const r=Ct,f={extli:function(h,_){return h(_)},lFUyL:function(h,_){return h-_},DGthG:function(h,_){return h*_}},{length:o}=f[r(486)](qt,a),v=o*i,S=Math[r(477)](0,f[r(509)](u,v*xr)),d=S+v;return f.DGthG(d,2)/an}function qh(u,i,a){const r=Ct,f={zBjgf:function(d,h){return d*h},TpwfI:function(d,h){return d/h}},{length:o}=qt(a),v=f.zBjgf(o,i),S=f.TpwfI(u*an,2);return Math[r(477)](2,S-f.zBjgf(v,1-xr))}function tl(u,i,a){const r=Ct,f={PJzAu:function(_,p){return _+p},NgOAe:function(_,p){return _%p},fkXWR:function(_,p){return _*p},KKfCj:function(_,p){return _>p},LSyIL:function(_,p){return _<p},FkSjV:function(_,p){return _>p},mzKTS:function(_,p){return _<=p},vALKy:function(_,p){return _??p},Zwovu:function(_,p){return _/p},oVDMR:function(_,p){return _<p},vRDoy:r(462),FePce:"uAfXn",dMnaz:function(_,p){return _%p},EzmHq:function(_,p){return _/p},HFNbd:function(_,p){return _-p},pTxAJ:function(_,p){return _<p}};if(!u||u<=0||!a||f.mzKTS(a,0))return f[r(465)](i,0);const o=f.Zwovu(360,u),v=360/a,S=[];for(let _=0;f[r(491)](_,u);_++)if(f.vRDoy!==f[r(524)])S.push(f.NgOAe(f.PJzAu(f.dMnaz(i+_*o,360),360),360));else{const p=f.PJzAu(f.PJzAu(_0x458e35,_0x1cc013*_0x20fda8),_0x4d3577/2);let y=_0x513334;for(let M=0;M<_0x3e9e4e;M++){const D=f.NgOAe(f[r(489)](f[r(504)](f[r(489)](p,f.fkXWR(M,_0x3db017)),360),360),360);for(const g of _0x5d4a74){let m=_0x4a9157[r(512)](D-g);f[r(487)](m,180)&&(m=360-m),f.LSyIL(m,y)&&(y=m)}}f[r(499)](y,_0x27e275)&&(_0x3fc9cc=y,_0x4bcb93=p)}let d=i+f.EzmHq(o,2),h=-1;for(let _=0;f[r(491)](_,u);_++){const p=f[r(489)](i+_*o,f.EzmHq(o,2));let y=1/0;for(let M=0;M<a;M++){const D=f[r(504)](f[r(489)](p,M*v)%360+360,360);for(const g of S){let m=Math.abs(f.HFNbd(D,g));f[r(487)](m,180)&&(m=360-m),f[r(478)](m,y)&&(y=m)}}y>h&&(h=y,d=p)}return Math[r(498)](d*10)/10}function J0(u,i,a){const r=Ct,f={dbdOm:function(M,D){return M-D},zxoDQ:function(M,D){return M*D},pepoo:function(M,D){return M+D},BGakL:function(M,D){return M<=D},IIhce:function(M,D){return M/D},YpGtm:function(M,D){return M/D},eQuvk:function(M,D){return M*D},VlljK:function(M,D,g){return M(D,g)}};if(u.length===0)return;const{length:o}=qt(i),v=u[0],S=v.scale??1,d=o*S,h=Math.max(0,f[r(463)](v.radius,f.zxoDQ(d,xr))),_=f[r(485)](h,d);if(f[r(479)](_,0))return;const p=f.IIhce(a*an,2),y=f[r(520)](p,_);for(const M of u)M[r(488)]=Math[r(477)](2,Math[r(498)](f[r(466)](M[r(488)],y)*10)/10),M.scale=Math[r(498)](f[r(466)](f[r(466)](M[r(505)]??1,y),100))/100;f[r(495)](hx,u,i)}function hx(u,i){const a=Ct,r={NXZOt:function(d,h){return d===h},CiVKv:function(d,h){return d*h},kNIZG:function(d,h){return d/h},kSdeY:function(d,h){return d*h},KsEuW:function(d,h){return d>h}};if(r[a(522)](u[a(472)],0))return;const f=u[u[a(472)]-1],{length:o}=qt(i),v=r.CiVKv(o,f.scale??1),S=r[a(464)](Math[a(483)](r.kSdeY(r[a(476)](v,xr),10)),10);r[a(500)](f[a(488)],S)&&(f.radius=S)}function Bh(u,i,a,r){const f=Ct,o={cpbNg:function(y,M){return y===M},vNALA:function(y,M){return y(M)},CDWUO:function(y,M){return y*M},xxyHO:function(y,M){return y*M},oQpdJ:function(y,M){return y-M},ZNVOL:"",RifdH:function(y,M){return y/M},qhtGR:function(y,M){return y>M},zDucd:function(y,M){return y/M},OdaeI:function(y,M){return y+M},IbHqv:function(y,M,D,g){return y(M,D,g)}};if(o[f(518)](u.length,0))return;const v=[...u].sort((y,M)=>M.order-y.order),{length:S}=o.vNALA(qt,i),d=v.length,h=v[0].scale??1,_=S*h;v[0].radius=Math[f(483)](o.CDWUO(o.xxyHO(_,xr),10))/10;for(let y=1;y<d;y++){const M=v[o[f(474)](y,1)],D=o[f(517)](S,M.scale??1);let g;if(a===o[f(515)]){const G=o.RifdH(70*Math.PI,180),H=o[f(467)](d,1)?o[f(517)](o.RifdH(y,d-1),G):0;g=D*o.RifdH(30,100)*Math[f(519)](H)}else g=D/3;v[y].radius=o.zDucd(Math[f(498)](o[f(523)](M[f(488)],g)*10),10)}const p=[...u][f(525)]((y,M)=>y.order-M.order);o.IbHqv(J0,p,i,r);for(const y of p){const M=u[f(513)](D=>D.id===y.id);M&&(M[f(488)]=y[f(488)],M.scale=y[f(505)])}}function xi(u){const i=Ct,a={DuPdM:function(d,h){return d(h)},kvJwl:function(d,h){return d*h}},r=360/u,f=Math[i(469)](a.DuPdM(ea,r/2))*2,o=.96,v=1.2,S=a.kvJwl(f,v)/o;return Math.round(Math[i(477)](.3,Math.min(3,S))*100)/100}function A0(){const u=["i0y1rJvgnq","Cgv0ywXdB3vUDa","y29Sx2jSywnR","vNv0qvG","C2vHCMnO","AvfKs2O","y29UC3rYDwn0B3i","y29Sx25HDNK","mtb2Cgf3BMW","i0y1rtzdqW","CMfKAxvZ","mJK3odHxtfLdDhe","D0n4z1K","i0yWoeeZqG","y29Sx3b1CNbSzq","C2nHBgu","mtKYnZrAuM9NzgK","iZjdm0u2qG","zMLUza","iZLcntLcnG","CLLczMO","B2zMC2v0qw5NBgu","ALD1Dvu","mZyYmte4A3vjtg9T","kcGOlISPkYKRksSK","rM9gBvK","BwPxr1q","svDgzLC","zun5DvG","ndLxB3LiA2C","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","Cg9ZAxrPB24","y29Sx2HVDhbPBMS","EeryqNq","iZjgqKy0qq","iZncn0reoa","zwf6s1m","y29Sx3bPBMS","Cg14ELi","vg1JqNO","tfzTDhC","rMXVD2vYide","zMX3","y29Sx3nPBhzLCG","5y2k44gp44gz","5yMJ44gK44g+44g/","vfLVEhq","ntiXmJuYmgPxv1LKra","Bgf5","y29Sx2XPz2H0EwvSBg93","ugDTA3K","i0q0qtG0mW","zxjnugS","mty3ndq2mfzTBvP3ta","qNzmCeC","sgz2Cva","AfrHtvK","ChjQ","BMfTzq","nZu1ndy5vxzIzNj0","i0m4qtjena","whrRuhO","B3jKzxi","rMnkB1m","y29Sx2jSDwu","iZmZmZmZmW","wwjTBKm","CgLAA2O","i0uZndG1ma","EwPzsee","q2vUDgvY","AMv1CMO","mJy4mteYofzqtuz6DG","wu1hC3m","wfLsBva","uercse8","sw5Uzxi","y29Sx29Yyw5Nzq","t3v0zxi","AgH3te0","B2vAyuy","Cgv0ywXpDMvYCMLKzxm","iZDfqZHfmW","y29Sx3jLza","5lI444gK44g+44g/","y29Sx2XHDMvUzgvY","C29YDa","y29Sx2DYzwvU","Au9cv2O","BwfW","mti2q0jHCwne","y29Sx2DVBgq","t0jRzwe","y29Sx2jYB3DU","wwP6Bwi","y29Sx2XPz2H0yMX1zq"];return A0=function(){return u},A0()}(function(u,i){const a=hn,r=u();for(;;)try{if(-parseInt(a(194))/1*(-parseInt(a(186))/2)+parseInt(a(172))/3*(parseInt(a(189))/4)+parseInt(a(135))/5+-parseInt(a(201))/6*(parseInt(a(207))/7)+parseInt(a(154))/8+parseInt(a(141))/9+-parseInt(a(129))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(A0,219395);function hn(u,i){u=u-122;const a=A0();let r=a[u];if(hn.xGMVtW===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};hn.nYYsoW=f,hn.VTqJyz={},hn.xGMVtW=!0}const o=a[0],v=u+o,S=hn.VTqJyz[v];if(S)r=S;else{const d=function(h){this.ySHPiX=h,this.yOXCJD=[1,0,0],this.uaqexE=function(){return"newState"},this.fZUuPC="\\w+ *\\(\\) *{\\w+ *",this.krFvHO=`['|"].+['|"];? *}`};d.prototype.YuzJSa=function(){const h=new RegExp(this.fZUuPC+this.krFvHO),_=h.test(this.uaqexE.toString())?--this.yOXCJD[1]:--this.yOXCJD[0];return this.ZrONOi(_)},d.prototype.ZrONOi=function(h){return~h?this.mXjhUy(this.ySHPiX):h},d.prototype.mXjhUy=function(h){for(let _=0,p=this.yOXCJD.length;_<p;_++)this.yOXCJD.push(Math.round(Math.random())),p=this.yOXCJD.length;return h(this.yOXCJD[0])},new d(hn).YuzJSa(),r=hn.nYYsoW(r),hn.VTqJyz[v]=r}return r}const Ih=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),mx=Ih(void 0,function(){const u=hn,i={LhdIs:u(202)};return mx.toString().search("(((.+)+)+)+$").toString()[u(184)](mx)[u(182)](i.LhdIs)});mx();function Vd(){const u=hn,i={sdOEx:u(165),eTEEM:u(150),YbmnC:u(215),erMPk:u(191),TYoxt:u(131),KDgtW:u(169),PDBHO:u(212),wCxgY:"col_darkgreen",JKQBU:"#1A7A3A",WQOkg:u(177),JAvnP:u(164),sxAMs:u(146),VeGsv:u(185),iQdKj:u(197),hjuCd:u(167),fPuAg:u(173),XtkPz:u(133),oeZaF:u(125),qqmqO:u(187),QGzcK:u(147),VutAX:"col_coral"};return[{id:"col_white",name:"",hex:u(178)},{id:i.sdOEx,name:"",hex:i.eTEEM},{id:i[u(148)],name:"",hex:"#F08CB6"},{id:u(210),name:"",hex:"#E0457B"},{id:u(159),name:"",hex:i[u(134)]},{id:"col_yellow",name:"",hex:"#F2D04B"},{id:i[u(128)],name:"",hex:"#FDF5C9"},{id:i.KDgtW,name:"",hex:i[u(157)]},{id:i[u(190)],name:"",hex:i.JKQBU},{id:i.WQOkg,name:"",hex:i.JAvnP},{id:i.sxAMs,name:"",hex:u(213)},{id:i.VeGsv,name:"",hex:u(195)},{id:u(192),name:"",hex:i[u(183)]},{id:i.hjuCd,name:"",hex:u(142)},{id:i.fPuAg,name:"",hex:i[u(143)]},{id:i[u(162)],name:"",hex:"#C0C0C0"},{id:"col_cream",name:"",hex:i.qqmqO},{id:u(175),name:"",hex:"#8B5E3C"},{id:u(180),name:"",hex:i.QGzcK},{id:i[u(181)],name:"",hex:"#F08080"}]}function Rh({title:u,fabricSquareSize:i,baseDiameter:a}={}){const r=hn,f={PhouR:function(S){return S()},piZkj:function(S,d){return S(d)},aAkGq:function(S,d){return S??d},pxLIo:function(S,d){return S??d}},o=f.PhouR(j0),v=Vd();return f[r(149)](_a,{id:f.piZkj(kt,r(139)),title:f.aAkGq(u,""),unit:"mm",fabricSquareSize:f.pxLIo(i,20),baseDiameter:a??30,notes:"",createdAt:o,updatedAt:o,palette:v,flowers:[]})}function Gh(u,i){const a=hn,r={BvLpG:function(S,d){return S(d)},HfvqP:"flw",cVLiu:function(S,d){return S+d},hOISZ:function(S,d){return S+d}},f=r.BvLpG($l,u);f.id=r[a(136)](kt,r[a(137)]),f.name=u[a(140)]+" Copy";const o=i?.x??12,v=i?.y??12;return f.position={x:r.cVLiu(u[a(209)]?.x??0,o),y:r.hOISZ(u.position?.y??0,v)},f.layers=(f.layers||[]).map(S=>({...S,id:kt("lay"),petalOverrides:S.petalOverrides?S.petalOverrides[a(171)](d=>({...d})):void 0})),f}(function(u,i){const a=mn,r=u();for(;;)try{if(-parseInt(a(222))/1*(parseInt(a(314))/2)+-parseInt(a(213))/3+-parseInt(a(290))/4*(parseInt(a(262))/5)+-parseInt(a(254))/6+-parseInt(a(278))/7*(parseInt(a(282))/8)+parseInt(a(317))/9+parseInt(a(221))/10*(parseInt(a(257))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(L0,540989);const Oh=(function(){let u=!0;return function(i,a){const r=u?function(){const f=mn;if(a){const o=a[f(274)](i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),bx=Oh(void 0,function(){const u=mn,i={WONBV:u(210)};return bx.toString().search("(((.+)+)+)+$").toString().constructor(bx).search(i[u(297)])});bx();function L0(){const u=["C3rLBMnPBhm","zg91yMXLugv0ywW","s2DlEMS","kcGOlISPkYKRksSK","yLPQswC","CgvWq291BNq","mtyZoti3oe1btxviCG","y29UC3rYDwn0B3i","BgvHzKLKCW","Aw5JBhvKzxm","vLfyveC","Aw5Uzxjty2fSzq","CMLqA3i","tgvHzG","mtbJBMHfqNe","mNjnD2fntG","AeD1wwm","sffUvMq","DhLWzq","wvPmEK8","zMLUza","ywr1Bhq","BgLUA2vKrMXVD2vYr3jVDxbjza","BM90zxm","C3rYAw5N","y2vUDgvY","B21qvhe","yM9VBgvHBG","z2ztr1e","A2vU","Cur5sNK","DLLWtLa","CMLNAhq","5yMJ44gK44g+44g/","44or44o844oR","Bgf5zxjZ","DgL0Bgu","DKfYtNa","Cg9Zzq","s05SvxC","thfxrNe","CgXHy2vTzw50tw9Kzq","AxngAw5PDgu","z3jVDxbZ","Aw5UzxjtAxPLuMvKDwn0Aw9U","rvbMqMq","C2nHBgu","ntmXmdGXmezNBhfouG","AKTPC28","zMXVD2vYrgLHBwv0zxi","mZK3ntKXmtvgB3Hlrw4","BNLZwhO","CMfKAxvZ","rLP2se8","Cg9ZAxrPB24","mZa1ELDMCu1Y","D2LKDgHty2fSzq","C2vHCMnO","Cgv0ywXuExbL","AgjMDg0","Bg9JA2vK","D0T2rwO","y29SB3i","Cgv0ywXpDMvYCMLKzxm","zMXVD2vYCW","y3jLyxrLzef0","5lI444gK44g+44g/","yxbWBhK","qwHJvg8","CgfSzxr0zq","wfjOqwS","mZi5wvn4tLjf","Cgv0ywXdB3vUDa","B2zMC2v0qw5NBgu","AxnbCNjHEq","mti4odmYy1z3sKXc","DwfmzLC","whLzCei","BwfW","zMLSDgvY","zMfICMLJu3f1yxjLu2L6zq","Bg9Xtwe","AgfZ","mtK4odbuAwDjEgu","vNvrAum","Aw5UzxjdB2XVCKLK","5y2k44gp44gz","44or44o844oR77Yl5BQN6yEr","wg51z1u","Ae94z0K","v09oqLy","uhHAthO","yMfZzurPyw1LDgvY","CM90yxrPB24","swrYCKS","BgvHzKDYB3vWCW","C2L6zq","44oA44od44ox","thnAsMy","DMvYC2LVBG","DxbKyxrLzef0","zffQy0m","BgvHzG","y29SB3jjza","uKXzqwG","BgvHDMvZ","zMXVD2vYswrZ","nZmWnZmWrLPPvvHc","r2zMzeW","BgvUz3rO","mtmZotG1n01VsNPsrW","BMfTzq","zMX3","y29SB3iY"];return L0=function(){return u},L0()}function mn(u,i){u=u-209;const a=L0();let r=a[u];if(mn.gLbUpw===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};mn.mvjqSe=f,mn.YPsBmq={},mn.gLbUpw=!0}const o=a[0],v=u+o,S=mn.YPsBmq[v];if(S)r=S;else{const d=function(h){this.rHpSnN=h,this.nFfHIq=[1,0,0],this.AgguEy=function(){return"newState"},this.zSfuaA="\\w+ *\\(\\) *{\\w+ *",this.jgScqS=`['|"].+['|"];? *}`};d.prototype.lhMdnu=function(){const h=new RegExp(this.zSfuaA+this.jgScqS),_=h.test(this.AgguEy.toString())?--this.nFfHIq[1]:--this.nFfHIq[0];return this.xKyjPQ(_)},d.prototype.xKyjPQ=function(h){return~h?this.vaSUcA(this.rHpSnN):h},d.prototype.vaSUcA=function(h){for(let _=0,p=this.nFfHIq.length;_<p;_++)this.nFfHIq.push(Math.round(Math.random())),p=this.nFfHIq.length;return h(this.nFfHIq[0])},new d(mn).lhMdnu(),r=mn.mvjqSe(r),mn.YPsBmq[v]=r}return r}function xx(u){const i=mn,a={vArNp:function(r,f){return r===f},Ccuak:i(273),gfSGQ:i(240),HQnVd:function(r,f){return r===f}};return a[i(244)](u,"maru")?a.Ccuak:u===i(236)?a[i(235)]:a[i(224)](u,"")||a[i(244)](u,a[i(235)])?u:a.Ccuak}function _a(u){const i=mn,a={VuQiC:"(((.+)+)+)+$",EPfBd:function(o,v,S,d){return o(v,S,d)},LAAZw:function(o,v){return o!=v},nysXz:function(o,v){return o!==v},FeojL:function(o,v,S,d){return o(v,S,d)},tTkQV:function(o,v){return o!=v},KNlUw:function(o,v){return o(v)},wJTxG:function(o,v){return o!=v},mSzcA:function(o,v){return o!=v},SCVew:function(o,v,S,d){return o(v,S,d)},hbftm:function(o,v){return o===v},RLYAh:i(273),riPkr:"ken",iqAKj:i(304),uaLfW:function(o,v,S,d){return o(v,S,d)},VQXTG:"string",KgKzk:function(o,v){return o===v},omPTq:function(o,v){return o(v)},pdDsK:i(319),XnugU:"col_white",FsYsb:function(o,v){return o(v)},XyYpB:function(o,v){return o!==v},SOxWF:"object",uTuwZ:"gjVMG",FZvHO:function(o,v){return o==v},cIiGG:function(o,v){return o!=v},qDyJy:"QITeY",loqMa:function(o,v){return o<=v},ePMGI:i(296),JfWdl:"zgErl",wKvEj:i(241),ncphV:function(o,v){return o!==v},NElkt:i(211),GffdL:"klKEY",dQjcC:i(293),LqWFq:i(223),LsZJf:function(o){return o()},vYpNP:function(o,v){return o!==v},aQmSd:i(226),arMfw:"",MoRAt:function(o,v){return o!==v},qVreS:i(277),igyjC:i(309),PxZLz:i(220),JSxXc:"col_green",SfcPD:function(o,v){return o!==v},DGErD:i(234),bzSZm:function(o,v){return o!=v},jKiso:function(o,v){return o>v},IdrrK:"Avkag",GYFXK:"grp",ElmBe:i(228)},r=a[i(233)]($l,u||{});Array[i(281)](r.flowers)||(r[i(271)]=[]);for(const o of r.flowers){o.id||(o.id=kt(a.pdDsK)),(a[i(258)](typeof o[i(318)],"string")||!o.name)&&(o[i(318)]="Flower"),(!o.position||!Number[i(249)](o[i(261)].x)||!Number[i(249)](o[i(261)].y))&&(o[i(261)]={x:260,y:260}),Array.isArray(o.layers)||(o[i(242)]=[]);for(const v of o.layers){if(v.id||(v.id=a[i(233)](kt,"lay")),(a.nysXz(typeof v.colorId,i(231))||!v[i(310)])&&(v.colorId=r.palette?.[0]?.id??a[i(295)]),v.petalType=a.FsYsb(xx,v.petalType),v.petalCount=ye(a[i(233)](Number,v[i(279)]||0),5,24),Number.isFinite(v.scale)||(v[i(253)]=1),Number[i(249)](v.widthScale)||(v[i(263)]=1),Number[i(249)](v[i(259)])||(v[i(259)]=28),Number[i(249)](v[i(280)])||(v[i(280)]=0),delete v._doublePetalCache,v.doublePetal)if(a[i(284)](typeof v.doublePetal,a.SOxWF)||v[i(322)]===null)delete v.doublePetal;else if(a.uTuwZ===a.uTuwZ){if(v[i(322)].innerScale!=null&&a[i(260)](v[i(322)].innerSizeReduction,null)){const S=o[i(287)]??r[i(287)]??20;v[i(322)].innerSizeReduction=Math.round(S*(1-v.doublePetal[i(218)]))}delete v[i(322)].innerScale,Number[i(249)](v[i(322)].innerSizeReduction)||(v[i(322)][i(251)]=2),v.doublePetal[i(251)]=ye(v.doublePetal.innerSizeReduction,1,30),delete v.doublePetal.innerPetalType,v.doublePetal[i(292)]!=null&&a[i(284)](typeof v.doublePetal.innerColorId,a.VQXTG)&&delete v.doublePetal.innerColorId}else _0x92d089[i(251)]=_0x12e6cb(_0x2c2444.innerSizeReduction,1,30);if(Array.isArray(v[i(270)])){for(const S of v[i(270)])if(S&&a.cIiGG(S.petalType,null)&&(S[i(265)]=a.omPTq(xx,S[i(265)])),S&&delete S.innerPetalType,S&&a.wJTxG(S[i(292)],null)&&typeof S.innerColorId!==a[i(217)]&&delete S.innerColorId,S&&S.innerSizeReduction!=null)if(!Number.isFinite(S[i(251)]))delete S.innerSizeReduction;else if(a.KgKzk(a.qDyJy,a[i(237)]))S[i(251)]=ye(S.innerSizeReduction,1,30);else return _0x539342.toString().search(tcJMyE[i(291)]).toString()[i(214)](_0x4bba57)[i(264)](tcJMyE[i(291)])}}(!Number[i(249)](o[i(256)])||a[i(288)](o.flowerDiameter,0))&&(o.flowerDiameter=60),o[i(232)]&&(a.ePMGI!==a.JfWdl?(o[i(232)].type===i(294)&&(o.center.type=""),["","",i(304)][i(216)](o.center.type)||(o[i(232)].type=a[i(268)]),Number.isFinite(o.center[i(303)])||(o.center.size=6),o[i(232)][i(303)]=a.EPfBd(ye,o[i(232)][i(303)],1,30),(typeof o[i(232)][i(269)]!==i(231)||!o[i(232)].color)&&(a.ncphV(a.NElkt,a[i(315)])?o.center[i(269)]=r.palette?.[0]?.id??a.XnugU:(_0x4c275f[i(249)](_0x5a7822[i(322)][i(251)])||(_0x470a98[i(322)][i(251)]=2),_0x4c937d[i(322)].innerSizeReduction=a[i(252)](_0x321aad,_0x37e0bd.doublePetal[i(251)],1,30),a.LAAZw(_0x398f99[i(322)][i(292)],null)&&a.nysXz(typeof _0x7cf68d[i(322)][i(292)],i(231))&&delete _0x593adc.doublePetal[i(292)])),o[i(232)].type===a.iqAKj&&(Number[i(249)](o[i(232)][i(212)])||(o[i(232)].pepCount=12),o[i(232)][i(212)]=ye(o.center[i(212)],4,30)),o.center.type!==""&&delete o.center.color2):_0x55fb0f.isFinite(_0x5d6c39.innerSizeReduction)?_0x515697.innerSizeReduction=a.FeojL(_0x106bc4,_0x372110[i(251)],1,30):delete _0x443818.innerSizeReduction),a[i(284)](o[i(248)],a.dQjcC)&&a[i(284)](o[i(248)],"")&&(o.placementMode=a[i(308)]),o[i(299)]!==void 0&&(a[i(247)]!==i(275)?(!Number.isFinite(o[i(299)])||o[i(299)]<=0)&&delete o.baseDiameter:delete _0x161d6c.baseDiameter)}Array.isArray(r[i(276)])||(r.palette=[]);const f=new Set(r.palette[i(285)](o=>o.id));for(const o of a[i(305)](Vd))f[i(289)](o.id)||r.palette.push(o);if(r.createdAt||(r[i(272)]=j0()),r.updatedAt||(r[i(307)]=r[i(272)]),r.id||(r.id=kt("proj")),r[i(243)]||(r.title=""),r.unit="mm",Number[i(249)](r.fabricSquareSize)||(r.fabricSquareSize=20),(!Number.isFinite(r.baseDiameter)||r[i(299)]<=0)&&(r[i(299)]=30),a[i(238)](typeof r.notes,i(231))&&(r[i(230)]=""),Array[i(281)](r.groups)||(r.groups=[]),a.aQmSd==="kJUIS")_0x111ac1&&a.tTkQV(_0x23de19[i(265)],null)&&(_0xf42aab[i(265)]=a.KNlUw(_0x6a4713,_0x58b882[i(265)])),_0x11daa1&&delete _0x1b333b.innerPetalType,_0x45eb4b&&a.wJTxG(_0x5dda7f[i(292)],null)&&typeof _0x5ea9f6[i(292)]!==i(231)&&delete _0x172c64[i(292)],_0xcf91fe&&a.mSzcA(_0x26e955[i(251)],null)&&(_0x1c5d22.isFinite(_0x28971d.innerSizeReduction)?_0x35b6ab.innerSizeReduction=a.SCVew(_0x5e51a3,_0x34a424[i(251)],1,30):delete _0x7486f[i(251)]);else{const o=new Set(r[i(271)][i(285)](S=>S.id)),v=new Set((r[i(312)]??[]).map(S=>S.id));for(const S of r[i(250)])Array[i(281)](S.flowerIds)||(S.flowerIds=[]),Array[i(281)](S.leafIds)||(S.leafIds=[]),S[i(313)]=S[i(313)][i(286)](d=>o[i(289)](d)),S.leafIds=S.leafIds.filter(d=>v.has(d)),Number.isFinite(S[i(300)])||(S.rotation=0),S.id||(S.id=a.KNlUw(kt,"grp")),(a.nysXz(typeof S[i(318)],a.VQXTG)||!S[i(318)])&&(S.name=a.arMfw);r[i(250)]=r[i(250)][i(286)](S=>S[i(313)][i(316)]+S.leafIds.length>0)}Array.isArray(r[i(312)])||(r[i(312)]=[]);for(const o of r.leaves)if(a.MoRAt(a.qVreS,"oGTwv"))o.id||(o.id=kt(a.igyjC)),(typeof o[i(318)]!="string"||!o[i(318)])&&(o[i(318)]=a[i(298)]),(!o[i(261)]||!Number[i(249)](o[i(261)].x)||!Number.isFinite(o[i(261)].y))&&(o[i(261)]={x:675,y:675}),Number.isFinite(o.rotation)||(o[i(300)]=0),o[i(265)]=a[i(246)](xx,o[i(265)]),(typeof o[i(310)]!="string"||!o.colorId)&&(o.colorId=r.palette?.[0]?.id??a.JSxXc),Number.isFinite(o[i(253)])||(o[i(253)]=1),Number.isFinite(o.widthScale)||(o[i(263)]=1),a.SfcPD(typeof o.visible,a.DGErD)&&(o.visible=!0),typeof o[i(267)]!==a.DGErD&&(o.locked=!1),delete o._doublePetalCache,o.doublePetal&&(typeof o.doublePetal!==a.SOxWF||o.doublePetal===null?delete o.doublePetal:(Number.isFinite(o[i(322)][i(251)])||(o.doublePetal.innerSizeReduction=2),o[i(322)].innerSizeReduction=ye(o.doublePetal.innerSizeReduction,1,30),a.bzSZm(o[i(322)][i(292)],null)&&typeof o.doublePetal.innerColorId!==a[i(217)]&&delete o[i(322)][i(292)]));else return tcJMyE[i(266)](_0x2f5cb6,"maru")?tcJMyE[i(311)]:_0x14999c===tcJMyE[i(219)]?"":_0x1db372===tcJMyE.RLYAh||tcJMyE.hbftm(_0x2735f7,"")?_0x466a0f:tcJMyE[i(311)];if(Array[i(281)](r.leafGroups)&&a[i(255)](r.leafGroups.length,0)){const o=new Set((r.leaves??[])[i(285)](v=>v.id));for(const v of r[i(302)])if(a[i(301)]===a[i(301)]){if(!Array[i(281)](v.leafIds))continue;const S=v[i(215)][i(286)](d=>o[i(289)](d));if(a[i(209)](S[i(316)],0))continue;if(v.linkedFlowerGroupId){const d=r[i(250)][i(227)](h=>h.id===v[i(229)]);if(d){for(const h of S)d.leafIds[i(216)](h)||d.leafIds.push(h);continue}}r[i(250)].push({id:v.id||kt(a.GYFXK),name:v[i(318)]||a.arMfw,flowerIds:[],leafIds:S,rotation:Number[i(249)](v[i(300)])?v[i(300)]:0})}else a[i(266)](_0x585a6f.center.type,i(294))&&(_0x389347[i(232)][i(225)]=""),[i(241),"",a.iqAKj][i(216)](_0x4356cf[i(232)][i(225)])||(_0x4b3682[i(232)].type=i(241)),_0x92f9cf[i(249)](_0xf1befe.center[i(303)])||(_0x598b44.center[i(303)]=6),_0x358cf2.center.size=a[i(283)](_0x734593,_0x4e94d3[i(232)].size,1,30),(typeof _0x4308f0[i(232)][i(269)]!==a.VQXTG||!_0x51949a[i(232)].color)&&(_0x1da3d8[i(232)].color=_0x51f07b[i(276)]?.[0]?.id??"col_white"),a.KgKzk(_0x1c9361[i(232)][i(225)],"")&&(_0x4bdefd[i(249)](_0x4ac9bd.center[i(212)])||(_0x4fb81f[i(232)][i(212)]=12),_0x343301[i(232)][i(212)]=a.uaLfW(_0x46d7a7,_0x5ad97f[i(232)][i(212)],4,30)),_0x2ccc4f[i(232)].type!==""&&delete _0x25db89.center[i(320)]}if(delete r[i(302)],Array[i(281)](r.stencils)){const o=[a.ElmBe,"child"],v=[i(239),"left","back"];r[i(321)]=r[i(321)][i(286)](S=>S&&typeof S.id===i(231)&&o.includes(S.variant)&&v[i(216)](S[i(245)])&&S.position&&Number.isFinite(S.position.x)&&Number.isFinite(S[i(261)].y))}return Number.isFinite(r[i(306)])||(r.version=1),r}const Od=Un;(function(u,i){const a=Un,r=u();for(;;)try{if(parseInt(a(263))/1*(-parseInt(a(271))/2)+-parseInt(a(269))/3+-parseInt(a(272))/4*(parseInt(a(268))/5)+parseInt(a(264))/6*(parseInt(a(270))/7)+-parseInt(a(276))/8+parseInt(a(273))/9+-parseInt(a(266))/10*(-parseInt(a(274))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(E0,347430);function E0(){const u=["5yMJ44gK44g+44g/","mte3nti1uNv3EuPw","ndmZodLoDhzHzgS","mJK1ngPOEfbOza","mJm3mdmWr0Hmruzg","otj2r0HZCMm","nJe0mZG0mu9bC2ruAa","mtfdwMvPvgi","C2vHCMnO","oda5ndCYCLjRsLz1","Dg9tDhjPBMC","mKPAwKzhra","mJiYufnbvvf0","5lI444gK44g+44g/","ntqYndu5mfvmvKTurW"];return E0=function(){return u},E0()}const Hh=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),gx=Hh(void 0,function(){const u=Un;return gx[u(262)]().search("(((.+)+)+)+$")[u(262)]().constructor(gx)[u(275)]("(((.+)+)+)+$")});gx();const Wd="tsumami_projects_v1",ll=[Od(265),Od(267)];function Un(u,i){u=u-262;const a=E0();let r=a[u];if(Un.zvmdVI===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Un.vvXTdl=f,Un.eqzuzH={},Un.zvmdVI=!0}const o=a[0],v=u+o,S=Un.eqzuzH[v];if(S)r=S;else{const d=function(h){this.hNJTSn=h,this.BxZUku=[1,0,0],this.OhPoAi=function(){return"newState"},this.pxDJTH="\\w+ *\\(\\) *{\\w+ *",this.Zzifus=`['|"].+['|"];? *}`};d.prototype.NPnKGV=function(){const h=new RegExp(this.pxDJTH+this.Zzifus),_=h.test(this.OhPoAi.toString())?--this.BxZUku[1]:--this.BxZUku[0];return this.Yvzlij(_)},d.prototype.Yvzlij=function(h){return~h?this.ilkexM(this.hNJTSn):h},d.prototype.ilkexM=function(h){for(let _=0,p=this.BxZUku.length;_<p;_++)this.BxZUku.push(Math.round(Math.random())),p=this.BxZUku.length;return h(this.BxZUku[0])},new d(Un).NPnKGV(),r=Un.vvXTdl(r),Un.eqzuzH[v]=r}return r}const Kh=["","",""],Qd=["",""];(function(u,i){const a=Vt,r=u();for(;;)try{if(parseInt(a(391))/1+-parseInt(a(404))/2*(-parseInt(a(406))/3)+-parseInt(a(389))/4+parseInt(a(390))/5*(-parseInt(a(407))/6)+parseInt(a(386))/7*(-parseInt(a(398))/8)+-parseInt(a(402))/9+parseInt(a(410))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(T0,222035);const Uh=(function(){let u=!0;return function(i,a){const r=u?function(){const f=Vt;if(a){const o=a[f(384)](i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),vx=Uh(void 0,function(){const u=Vt,i={CgKfX:u(387)};return vx[u(394)]()[u(403)](i.CgKfX).toString().constructor(vx).search(u(387))});vx();function T0(){const u=["s05Mu0y","yxbWBhK","y3Dvuhe","mtrAr3DLD2G","kcGOlISPkYKRksSK","DxbKyxrLzef0","mtqZntmYnhvusxzctq","nwjfvLPOyG","mZy4mdm1A0HZCKD4","C2XPy2u","ChjVAMvJDa","Dg9tDhjPBMC","DNH1s3O","C29YDa","yxHRwwG","mteZnJm2oeXbChfTsq","B2jHseK","CgfYC2u","AxnbCNjHEq","ntu5nJGZvK15wurO","C2vHCMnO","mKnUBMrOuq","C2v0sxrLBq","odmXodC5sxzVzvbh","odu1ntq2BNnrzwPQ","DgL0Bgu","BwfW","ndi0nda4mfnjAK1hsG"];return T0=function(){return u},T0()}function ar(){const u=Vt,i={GBpmW:function(a,r){return a>=r},xucKe:u(395),aIFls:function(a,r){return a(r)}};try{const a=localStorage.getItem(Wd);if(!a)return[];const r=JSON[u(400)](a);return Array[u(401)](r)?r[u(409)](f=>{const o=u,v={KNfSF:function(S){return S()},UEcLR:function(S,d){return i.GBpmW(S,d)}};if(o(399)===i.xucKe){const S=v[o(411)](_0x3fc29f),d=S.findIndex(p=>p.id===_0xf3aef2.id),h={id:_0xef4d20.id,title:_0x2ad5c3[o(408)],updatedAt:_0x49850e.updatedAt,project:_0x35c5df},_=v.UEcLR(d,0)?[...S[o(392)](0,d),h,...S.slice(d+1)]:[h,...S];return _[o(396)]((p,y)=>p.updatedAt<y.updatedAt?1:-1),_0x505fd5(_)}else try{const S=f?.[o(393)]?i.aIFls(_a,f[o(393)]):null;return S?{id:f.id??S.id,title:f.title??S[o(408)],updatedAt:f.updatedAt??S.updatedAt,project:S}:null}catch{return null}}).filter(f=>f!=null):[]}catch{return[]}}function Vt(u,i){u=u-384;const a=T0();let r=a[u];if(Vt.etTLwv===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Vt.adSpfF=f,Vt.USJunZ={},Vt.etTLwv=!0}const o=a[0],v=u+o,S=Vt.USJunZ[v];if(S)r=S;else{const d=function(h){this.YRDLmp=h,this.QDgTTM=[1,0,0],this.gWVzdu=function(){return"newState"},this.RqEjpg="\\w+ *\\(\\) *{\\w+ *",this.Xtcptr=`['|"].+['|"];? *}`};d.prototype.AhpLxz=function(){const h=new RegExp(this.RqEjpg+this.Xtcptr),_=h.test(this.gWVzdu.toString())?--this.QDgTTM[1]:--this.QDgTTM[0];return this.mjvvPK(_)},d.prototype.mjvvPK=function(h){return~h?this.PcqxlO(this.YRDLmp):h},d.prototype.PcqxlO=function(h){for(let _=0,p=this.QDgTTM.length;_<p;_++)this.QDgTTM.push(Math.round(Math.random())),p=this.QDgTTM.length;return h(this.QDgTTM[0])},new d(Vt).AhpLxz(),r=Vt.adSpfF(r),Vt.USJunZ[v]=r}return r}function Pd(u){const i=Vt;try{return localStorage[i(405)](Wd,JSON.stringify(u)),!0}catch{return!1}}function Yh(u){const i=Vt,a={axkYh:function(S,d){return S+d}},r=ar(),f=r.findIndex(S=>S.id===u.id),o={id:u.id,title:u[i(408)],updatedAt:u[i(388)],project:u},v=f>=0?[...r.slice(0,f),o,...r[i(392)](a[i(397)](f,1))]:[o,...r];return v.sort((S,d)=>S[i(388)]<d.updatedAt?1:-1),Pd(v)}function Zh(u){const i=Vt,a={cwUPq:function(f){return f()}},r=a[i(385)](ar).filter(f=>f.id!==u);return Pd(r)}(function(u,i){const a=An,r=u();for(;;)try{if(parseInt(a(363))/1*(-parseInt(a(356))/2)+-parseInt(a(320))/3*(-parseInt(a(359))/4)+-parseInt(a(321))/5*(-parseInt(a(351))/6)+-parseInt(a(335))/7+-parseInt(a(334))/8+parseInt(a(318))/9+parseInt(a(315))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(k0,715353);const Xh=(function(){let u=!0;return function(i,a){const r={xEhoP:function(o,v){return o===v},wPnWs:"rnLPL"},f=u?function(){const o=An;if(a)if(r[o(326)](r[o(333)],r.wPnWs)){const v=a[o(343)](i,arguments);return a=null,v}else _0x49e307[o(342)](_0x233b79,{mode:_0x499f9c,baseDiameterMm:_0x35e547,count:1})}:function(){};return u=!1,f}})(),yx=Xh(void 0,function(){const u=An;return yx.toString()[u(353)](u(345)).toString().constructor(yx)[u(353)]("(((.+)+)+)+$")});function An(u,i){u=u-313;const a=k0();let r=a[u];if(An.TpuaOG===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};An.txNrAK=f,An.cbwpBL={},An.TpuaOG=!0}const o=a[0],v=u+o,S=An.cbwpBL[v];if(S)r=S;else{const d=function(h){this.BAfOnt=h,this.ZpNKCC=[1,0,0],this.xAYVUx=function(){return"newState"},this.iSBKVJ="\\w+ *\\(\\) *{\\w+ *",this.otfKyC=`['|"].+['|"];? *}`};d.prototype.IlLBBE=function(){const h=new RegExp(this.iSBKVJ+this.otfKyC),_=h.test(this.xAYVUx.toString())?--this.ZpNKCC[1]:--this.ZpNKCC[0];return this.abZucg(_)},d.prototype.abZucg=function(h){return~h?this.RyTmuq(this.BAfOnt):h},d.prototype.RyTmuq=function(h){for(let _=0,p=this.ZpNKCC.length;_<p;_++)this.ZpNKCC.push(Math.round(Math.random())),p=this.ZpNKCC.length;return h(this.ZpNKCC[0])},new d(An).IlLBBE(),r=An.txNrAK(r),An.cbwpBL[v]=r}return r}yx();function k0(){const u=["BMfTzq","D1bUv3m","ndq0ndG4ogfTuerwAq","mtiXndmXohjhBxjYua","BvPuBem","Bw9Kzq","Cgv0ywXdB3vUDa","CMvKDwnL","z2v0","y291BNq","C2v0","yxbWBhK","BwfW","kcGOlISPkYKRksSK","zMfICMLJu3f1yxjLu2L6zq","C2nHBgu","zMfICMLJu2L6zu1T","CgXHy2vTzw50tw9Kzq","rKPRs0K","nM10zvnRzG","CwfwBLu","C2vHCMnO","CM91BMq","C29YDa","mJCXnduWmM9srhv0Eq","Cgv0ywXpDMvYCMLKzxm","zg91yMXLugv0ywW","ofbSyw1RDG","DMLZAwjSzq","DMfSDwvZ","Dg90ywXdB3vUDa","muvZzgrHDG","wu1nwee","Aw5KzxG","Aw5UzxjtAxPLuMvKDwn0Aw9U","BMXiwwm","C3fYDa","mtaXnda1nZbozufgEMS","EgLNywS","zMLUza","nJy5mde0mw1htfDKCG","5y2k44gp44gz","mZu3nJyZrvb1AxL3","ndaYotiWnw9TzwntuW","zwnOtNa","tM1KEgq","Aw5UzxjdB2XVCKLK","q2TLqxm","EevOB1a","seX3vei","yMfZzurPyw1LDgvYtw0","zMXVD2vYrgLHBwv0zxi","r2jPsKq","vufPy0e"];return k0=function(){return u},k0()}function Jh(u){const i=An,a={UAicA:function(_,p){return _*p},CkeAs:function(_,p){return _*p},QMuZe:function(_,p){return _*p},nuMzP:function(_,p){return _/p},ymnhe:function(_,p){return _*p},qYsGb:"#999999",xoPJM:function(_,p){return _+p},xigak:function(_,p){return _/p},DsbQd:function(_,p){return _*p},uqKvr:"OdpDH",mZTlC:"qGMkE",nlHYc:function(_,p){return _!==p},EGiTV:function(_,p){return _-p},HLwTB:function(_,p){return _*p},YMMXA:function(_,p,y){return _(p,y)},GbiJD:function(_,p){return _===p},qaVnU:function(_,p){return _(p)}},r=new Map((u.palette||[])[i(344)](_=>[_.id,_])),f=new Map,o=(_,p)=>_?.[i(357)]?.[i(317)](y=>y[i(365)]===p)??null,v=new Map;for(const _ of u.flowers||[]){const p=_[i(346)]??u.fabricSquareSize;for(const m of _.layers||[]){if(!m.visible)continue;const G=Math.round(a[i(327)](p,m[i(347)]??1));for(let H=0;H<m[i(338)];H++){const R=a[i(364)](o,m,H),K=R?.colorId??m.colorId,O=K+"|"+G,Z=f[i(340)](O);if(Z)Z.count+=1;else if(a.GbiJD("FJkKI",i(350)))f.set(O,{colorId:K,fabricSizeMm:G,count:1});else{const q=_0x33ddc1[i(340)](_0x2a2499),X=_0x27f3f3[i(355)]((I,Y)=>Y.fabricSizeMm-I[i(348)]),P=X[i(339)]((I,Y)=>I+Y.count,0),W=_0x4143c5.round(a.QMuZe(X.reduce((I,Y)=>{const w=i,b=Y.fabricSizeMm/10;return I+a[w(331)](a.CkeAs(Y.count,b),b)},0),100))/100,V=a.nuMzP(_0x5b6b75.round(a.ymnhe(_0x22fddb[i(314)](W),10)),10);return{colorId:_0xa98653,colorName:q?.[i(332)]??_0x5a422c,hex:q?.hex??a.qYsGb,sizes:X,totalCount:P,totalAreaCm2:W,squareSideCm:V}}if(m.doublePetal)if(a[i(313)](i(323),"Nmdxd"))_0x36b4e4.set(_0x5b92f9,{colorId:_0x5b042b,fabricSizeMm:_0x5719a6,count:1});else{const q=m[i(358)],X=R?.innerColorId??q[i(324)]??K,P=R?.innerSizeReduction??q[i(366)]??2,W=Math.max(3,Math[i(354)](G-P)),V=X+"|"+W,I=f[i(340)](V);I?I[i(341)]+=1:f.set(V,{colorId:X,fabricSizeMm:W,count:1})}}}const y=_[i(349)]??i(319),M=a[i(330)](y,"")?a[i(352)](nr,_[i(329)]):_.baseDiameter??u.baseDiameter,D=y+"|"+M,g=v.get(D);g?g[i(341)]+=1:v.set(D,{mode:y,baseDiameterMm:M,count:1})}for(const _ of u.leaves??[]){if(!_[i(360)])continue;const p=_[i(346)]??u[i(346)],y=Math.round(a[i(325)](p,_.scale??1)),M=_.colorId,D=M+"|"+y,g=f.get(D);if(g?g[i(341)]+=1:f.set(D,{colorId:M,fabricSizeMm:y,count:1}),_.doublePetal){const m=_.doublePetal,G=m.innerColorId??M,H=Math.max(3,Math.round(y-(m[i(366)]??2))),R=G+"|"+H,K=f[i(340)](R);K?K.count+=1:f[i(342)](R,{colorId:G,fabricSizeMm:H,count:1})}}const S=new Map;for(const{colorId:_,fabricSizeMm:p,count:y}of f.values()){const M=S.get(_);M?M.entries.push({fabricSizeMm:p,count:y}):S[i(342)](_,{colorId:_,entries:[{fabricSizeMm:p,count:y}]})}const d=Array.from(S.values()).map(({colorId:_,entries:p})=>{const y=i,M={echNp:function(R,K){return a.xoPJM(R,K)}},D=r[y(340)](_),g=p[y(355)]((R,K)=>K[y(348)]-R.fabricSizeMm),m=g[y(339)]((R,K)=>R+K.count,0),G=a[y(316)](Math[y(354)](g.reduce((R,K)=>{const O=y,Z=K[O(348)]/10;return M[O(322)](R,K.count*Z*Z)},0)*100),100),H=Math[y(354)](a.DsbQd(Math.sqrt(G),10))/10;return{colorId:_,colorName:D?.name??_,hex:D?.hex??a.qYsGb,sizes:g,totalCount:m,totalAreaCm2:G,squareSideCm:H}})[i(355)]((_,p)=>p.totalCount-_[i(362)]),h=Array.from(v[i(361)]())[i(355)]((_,p)=>{const y=i;if(a.uqKvr!==a[y(336)])return a[y(313)](_[y(337)],p.mode)?_.mode===""?-1:1:a.EGiTV(p[y(328)],_[y(328)]);_0x3345a7[y(341)]+=1});return{colors:d,bases:h}}(function(u,i){const a=Wt,r=u();for(;;)try{if(-parseInt(a(486))/1*(-parseInt(a(493))/2)+-parseInt(a(515))/3*(-parseInt(a(550))/4)+-parseInt(a(508))/5+parseInt(a(540))/6+-parseInt(a(496))/7*(parseInt(a(552))/8)+parseInt(a(514))/9+-parseInt(a(531))/10*(parseInt(a(499))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(q0,823605);const Vh=(function(){const u=Wt,i={dwZEW:u(509),WTWFr:function(r,f){return r===f},hpAqR:u(539)};let a=!0;return function(r,f){const o=a?function(){const v=Wt,S={uCCyM:function(d,h){return d*h},xIdtm:i.dwZEW};if(i[v(506)](i[v(505)],v(542))){const d=_0x13533f[v(555)](v(535));d.width=S[v(532)](_0x74b629,_0x484a8c),d[v(524)]=_0x4d6a7b*_0x634c2d;const h=d[v(518)]("2d");if(!h){_0x34c441.revokeObjectURL(_0x18b207);return}h[v(510)]=S.xIdtm,h[v(546)](0,0,d.width,d.height),h.drawImage(_0x826a3e,0,0,d[v(523)],d[v(524)]),d[v(527)](_=>{const p=v;_&&_0x399059(_,_0x632b66.endsWith(p(534))?_0x36e2c8:_0x527f69+".png"),_0x565e1f.revokeObjectURL(_0x363813)},"image/png")}else if(f){const d=f.apply(r,arguments);return f=null,d}}:function(){};return a=!1,o}})(),px=Vh(void 0,function(){const u=Wt,i={tjxqf:u(522)};return px[u(507)]()[u(495)](i[u(504)]).toString()[u(530)](px).search(i.tjxqf)});px();function q0(){const u=["CMvTB3zLq2HPBgq","y3jLyxrLrwXLBwvUDe5t","lNrZDw1HBwKTC2vSlwrHC2G","odGYmJuZtgrRDwLW","Aw5Zzxj0qMvMB3jL","tevyuM0","yM9KEq","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","Bw5oD2q","C3r5Bgu","mMHvsujsqW","sgXerLm","C2vHCMnO","nZiZotyXrLbwA3fd","yxbWzw5Kq2HPBgq","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","ntK1ndnhtwr2EfC","B0Phu2S","B25LCNjVCG","Eg1SBNm","CKvkufG","DgP4Cwy","AhbbCvi","v1rxrNi","Dg9tDhjPBMC","nJqYntu4mfLbs2HMrq","D2HPDgu","zMLSBfn0EwXL","re5qqwy","CMvJDa","CMvTB3zLqxr0CMLIDxrL","mtaZnJq1mJzmC3veugS","mtaYs2LrAM5y","w2rHDgeTDgvZDgLKxq","y3jLyxrLt2jQzwn0vvjm","z2v0q29UDgv4Da","DMLLD0jVEa","C2vYAwfSAxPLvg9tDhjPBMC","mtaWjq","kcGOlISPkYKRksSK","D2LKDgG","AgvPz2H0","AhjLzG","DKnKAxi","Dg9cBg9I","BerHBey","qxfMwxq","y29UC3rYDwn0B3i","mtiXmefsAKfrsG","DundEu0","CxvLCNLtzwXLy3rVCKfSBa","lNbUzW","y2fUDMfZ","B25SB2fK","zxLvseO","z21SALy","A2vxt2m","ota3ndK3nMnrwNjWsW","zM9YrwfJAa","z212Afq","zg93BMXVywq","C2v0qxr0CMLIDxrL","CMvTB3zL","zMLSBfjLy3q","BwfW","EfH3y1C","y2XVBMvoB2rL","mtC0mJHSt09fyxK","qwvYwuS","nZj3BNbms0S","zuzoB1e","uMDxC3q","y3jLyxrLrwXLBwvUDa","vuztzxO","zgf0ys10zxn0Awq","zhjHD0LTywDL","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","CgP5zxO","C3jJ","CMv2B2TLt2jQzwn0vvjm","zw5KC1DPDgG","zMLSBa","w2rHDgeTz3jPzf0","lNn2zW"];return q0=function(){return u},q0()}function Wh(u,i){const a=Wt,r={kcJAY:a(516),vCdir:a(519),mnNwd:function(M,D){return M??D},oJGSk:"0 0 200 200",eFNoQ:function(M,D){return M(D)},xXwcW:a(502),WdGea:a(523),RgWst:a(521),IVWxd:a(565),LEXRm:"[data-marquee]",dlXaf:function(M,D){return M+D},AyPST:a(559),aFNSi:"image/svg+xml;charset=utf-8",dBvzM:function(M,D,g){return M(D,g)}},f=u[a(549)](!0);f[a(533)](r.kcJAY)[a(541)](M=>M.removeAttribute("data-testid")),f[a(513)](a(492));const o=u.getAttribute("viewBox");o&&f.setAttribute(r[a(526)],o);const v=r[a(491)](o,r[a(500)]).split(/[\s,]+/).map(Number),S=v[2]??200,d=v[3]??200;f.setAttribute(a(523),r[a(553)](String,S)),f.setAttribute("height",String(d)),f.setAttribute(r[a(548)],a(490));const h=document[a(568)](a(490),a(512));h.setAttribute(r.WdGea,r[a(554)]),h[a(544)]("height","100%"),h[a(544)](a(564),a(509)),f[a(487)](h,f.firstChild),f[a(533)](r.IVWxd).forEach(M=>M.remove()),f[a(533)](a(485)).forEach(M=>M.remove()),f.querySelectorAll(".tsumami-group-dash")[a(541)](M=>M[a(545)]()),f.querySelectorAll(r[a(488)])[a(541)](M=>M.remove());const _=new XMLSerializer,p=r.dlXaf(r.AyPST,_.serializeToString(f)),y=new Blob([p],{type:r.aFNSi});r.dBvzM(Fd,y,i[a(563)](a(566))?i:i+a(566))}function Wt(u,i){u=u-485;const a=q0();let r=a[u];if(Wt.OUvfeb===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Wt.KMHfxn=f,Wt.GBHaAr={},Wt.OUvfeb=!0}const o=a[0],v=u+o,S=Wt.GBHaAr[v];if(S)r=S;else{const d=function(h){this.wAWVTk=h,this.ifNpTR=[1,0,0],this.cQYsdR=function(){return"newState"},this.ynTiBy="\\w+ *\\(\\) *{\\w+ *",this.UIesNM=`['|"].+['|"];? *}`};d.prototype.WVwdAl=function(){const h=new RegExp(this.ynTiBy+this.UIesNM),_=h.test(this.cQYsdR.toString())?--this.ifNpTR[1]:--this.ifNpTR[0];return this.WQzkXy(_)},d.prototype.WQzkXy=function(h){return~h?this.myRjLB(this.wAWVTk):h},d.prototype.myRjLB=function(h){for(let _=0,p=this.ifNpTR.length;_<p;_++)this.ifNpTR.push(Math.round(Math.random())),p=this.ifNpTR.length;return h(this.ifNpTR[0])},new d(Wt).WVwdAl(),r=Wt.KMHfxn(r),Wt.GBHaAr[v]=r}return r}function Qh(u,i,a=2){const r=Wt,f={rEJPX:function(g,m){return g===m},gmljV:r(529),UFSez:function(g,m,G){return g(m,G)},WZxbj:".png",eyUHJ:function(g,m){return g*m},lDalF:r(509),KHQSY:r(485),TgGRw:".tsumami-group-dash",DNPAf:"0 0 200 200",pjyez:function(g,m){return g??m},YJJzu:"width",AerYK:function(g,m){return g(m)},QMczw:"height",HlDFS:r(498)},o=u.cloneNode(!0);o[r(533)]("[data-testid]").forEach(g=>g.removeAttribute(r(557))),o[r(513)]("style"),o.querySelectorAll(r(565)).forEach(g=>g.remove()),o.querySelectorAll(f.KHQSY)[r(541)](g=>g[r(545)]()),o.querySelectorAll(f.TgGRw).forEach(g=>g[r(545)]()),o[r(533)]("[data-marquee]").forEach(g=>g[r(545)]());const v=u.getAttribute("viewBox"),S=(v??f[r(511)]).split(/[\s,]+/)[r(547)](Number),d=S[2]??200,h=S[3]??200;o.setAttribute(r(519),f[r(560)](v,f.DNPAf)),o[r(544)](f.YJJzu,f[r(551)](String,d)),o[r(544)](f.QMczw,f.AerYK(String,h)),o.setAttribute("xmlns",r(490));const _=new XMLSerializer,p=_[r(520)](o),y=new Blob([p],{type:f[r(494)]}),M=URL[r(517)](y),D=new Image;D[r(536)]=()=>{const g=r,m=document.createElement("canvas");m[g(523)]=f.eyUHJ(d,a),m.height=f[g(537)](h,a);const G=m[g(518)]("2d");if(!G){URL.revokeObjectURL(M);return}G.fillStyle=f[g(528)],G.fillRect(0,0,m[g(523)],m[g(524)]),G[g(558)](D,0,0,m.width,m[g(524)]),m.toBlob(H=>{const R=g;if(H)if(f[R(503)]("tRapQ",f[R(538)])){const K=_0x1201ff.createObjectURL(_0x517172),O=_0x38b1cb.createElement("a");O.href=K,O[R(543)]=_0x5948ca,_0x41b182.body.appendChild(O),O.click(),_0x4ce9e6[R(489)][R(567)](O),_0x40ace9[R(562)](K)}else f[R(556)](Fd,H,i[R(563)](f.WZxbj)?i:i+R(534));URL[R(562)](M)},"image/png")},D[r(501)]=()=>{URL[r(562)](M)},D[r(561)]=M}function Fd(u,i){const a=Wt,r=URL.createObjectURL(u),f=document[a(555)]("a");f[a(525)]=r,f[a(543)]=i,document.body[a(497)](f),f.click(),document[a(489)].removeChild(f),URL.revokeObjectURL(r)}function C0({active:u,disabled:i,onClick:a,children:r,...f}){return x.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...f,children:r})}const Ph="v0.1.0-dev";function Fh(u){const{view:i,onNavigate:a,project:r}=u;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Ph})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(C0,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(C0,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(C0,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),x.jsx(C0,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function $h(u){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(i=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:i.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function _x({children:u}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function em(u){const[i,a]=te.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(_x,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}function B0(){const u=["AhLWB3q","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","Bu92reO","ouLZsgvhzq","C3rHCNreAxn0","BxPKyKW","vevqAhu","rw1eC2W","BfDtvwW","wLDfCgK","yvrwCM8","Cgv0ywXjBMrLEa","A0T3vNG","EeXnBgC","B1nxCeG","mtqWnZK2EfvHAwv2","B3nVwMm","ANDzqvq","zeHzDMS","DeTSrva","C3rHCNrty2fSzxm","mtaWnZGXntbZyNftruW","Ag5fq1q","y3vYCMvUDfrHCMDLDa","zMXVD2vYrgLHBwv0zxi","DxjSkci","CvPlEuy","tu1ktNy","B2zMC2v0qw5NBgu","z3vUDgO","mZa5ndqXm0Xdu21puG","y3vYC29Y","l3rZDw1HBwKV","nZa0mJy4CfHjD0LU","mMv0z05Zyq","ywjZ","D1HVD2e","v2v3zxu","C3rHCNrsB3rHDgLVBG","Cgv0ywXbBMDSzq","ChjLDMvUDerLzMf1Bhq","C3r5Bgu","Dg9tDhjPBMC","CMfKAxvZ","Cg9ZAxrPB24","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","A1jfuKO","Eg9MEMW","mJCYnJiYsK1Ptvbc","C3rHCNreAwfT","A2jOsxC","rNzWtxa","z0zpCge","BuXWENq","zMXVD2vYswq","uNPRsuW","z1nRsfi","mtmXmdu4odbxEe1XyLK","qvnkuuq","y29UC3rYDwn0B3i","zMLUza","q1nOzLe","tu1jqwq","v3vcrgW","kcGOlISPkYKRksSK","yKnUEKq","zMjTDvy","q0zSEMe","CM90yxrPB24","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","yxrHBJi","C2v0ug9PBNrLCKnHChr1CMu","uxbbzLi","Bwf4","zMXVD2vYCW","C3rHCNrsywrPDxm","v2Twvfy","ve1QEKq","D2LKDgHty2fSzq","vxLmrKG","Bgf5zxi","nu9oCLLwBW","v0fyC3y","Bgf5zxjjza","q2Pvqxy","mte2nJeWndHtCNfmC2q","C2vHCMnO","Bgf5zxjZ","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","C2LU","Cg9PBNrLCKLK","yufwyNK","CMXNAgq","y3vYCMvUDa","C2nHBgu","Cgv0ywXdB3vUDa","y29Z"];return B0=function(){return u},B0()}(function(u,i){const a=Ln,r=u();for(;;)try{if(-parseInt(a(256))/1+-parseInt(a(242))/2*(parseInt(a(238))/3)+-parseInt(a(223))/4*(parseInt(a(289))/5)+-parseInt(a(241))/6+parseInt(a(293))/7+parseInt(a(265))/8*(parseInt(a(308))/9)+-parseInt(a(229))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(B0,839614);const tm=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Sx=tm(void 0,function(){const u=Ln,i={MMIAd:u(272)};return Sx.toString().search(i[u(270)])[u(250)]()[u(267)](Sx)[u(294)](i.MMIAd)});function Ln(u,i){u=u-222;const a=B0();let r=a[u];if(Ln.NGXbMs===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Ln.mYxEZy=f,Ln.RakPfm={},Ln.NGXbMs=!0}const o=a[0],v=u+o,S=Ln.RakPfm[v];if(S)r=S;else{const d=function(h){this.UOzKyy=h,this.JsJEzK=[1,0,0],this.joXAtZ=function(){return"newState"},this.dDogHh="\\w+ *\\(\\) *{\\w+ *",this.hiKsud=`['|"].+['|"];? *}`};d.prototype.qROfDv=function(){const h=new RegExp(this.dDogHh+this.hiKsud),_=h.test(this.joXAtZ.toString())?--this.JsJEzK[1]:--this.JsJEzK[0];return this.VqZqRL(_)},d.prototype.VqZqRL=function(h){return~h?this.CciBcA(this.UOzKyy):h},d.prototype.CciBcA=function(h){for(let _=0,p=this.JsJEzK.length;_<p;_++)this.JsJEzK.push(Math.round(Math.random())),p=this.JsJEzK.length;return h(this.JsJEzK[0])},new d(Ln).qROfDv(),r=Ln.mYxEZy(r),Ln.RakPfm[v]=r}return r}Sx();function nm(u){const i=Ln,a={hnECT:function(q,X,P){return q(X,P)},mOvDJ:function(q,X){return q!==X},TEPhu:i(284),qZKyF:function(q,X){return q===X},bCnzD:"TMjzD",FvpMp:function(q,X,P,W){return q(X,P,W)},jwYAT:function(q,X){return q*X},dHYvk:"flower",kbhIw:function(q,X,P,W){return q(X,P,W)},RzkIL:function(q,X){return q*X},gFOpa:function(q,X){return q(X)},kKwVx:function(q,X){return q/X},zRqAO:"ebIsP",ASJQD:"oOZpE",xLMlg:function(q,X,P){return q(X,P)},kRERJ:function(q,X){return q*X},rlghd:function(q,X){return q-X},WuBDl:i(288),XTPbC:function(q,X){return q(X)},Weweu:function(q,X){return q-X},tKlEP:function(q,X){return q>X},UyLFH:function(q,X){return q<X},ZWEpi:function(q,X){return q+X},guntj:function(q,X,P){return q(X,P)},mupqE:"EmDsl",vSgVG:function(q,X){return q*X},CShfQ:function(q,X){return q+X},wXowa:function(q,X){return q+X},UGTKn:function(q,X){return q*X},aTVro:function(q,X){return q===X},lWSUl:i(290),osoZc:i(280),xofzl:function(q,X){return q-X},HhMYD:function(q,X){return q-X},CFlza:"TTDfC",KTbDb:"/tsumami/",fbmuV:function(q,X){return q-X},CjUAv:function(q,X){return q+X},khVoz:function(q,X,P){return q(X,P)},BZsIx:function(q,X){return q(X)}},{project:r,applyUpdate:f,stageRef:o,clientToSvgPoint:v}=u,S=te.useRef(null),d=(q,X,P,W)=>{const V=i;if(a[V(307)](V(222),a[V(311)])){P.preventDefault(),P[V(231)]?.setPointerCapture?.(P.pointerId),o.current&&(o.current[V(249)].cursor='url("/tsumami/'+V(296));const I=r[V(282)][V(268)](L=>L.id===X);if(!I)return;const Y=a[V(234)](q,"layer")&&W?.layerId?I.layers.filter(L=>L.id===W.layerId).map(L=>({layerId:L.id,scale:L.scale??1,radius:L.radius??10})):I[V(295)].map(L=>({layerId:L.id,scale:L[V(302)]??1,radius:L.radius??10})),w=v(P),b=I[V(252)].x,z=I.position.y,A=Math[V(305)](w.x-b,w.y-z);S[V(301)]={mode:q,flowerId:X,layerId:W?.layerId,startScales:Y,startDiam:I[V(232)]||60,startDist:A}}else{if(!_0x1ef115.current)return;a.hnECT(_0x2393c0,()=>{},!0),_0x245ac9.current&&(_0x3c3d4a[V(301)].style.cursor=""),_0x5bb251.current=null}},h=q=>{const X=i,P={YFXXC:X(240),tKJTc:function(z,A){return a[X(260)](z,A)},dyDqG:function(z,A){return z-A}},W=S.current;if(!W)return;const V=r[X(282)].find(z=>z.id===W.flowerId);if(!V)return;const I=v(q),Y=Math.hypot(I.x-V[X(252)].x,I.y-V.position.y),w=Math.max(1,W[X(309)]??1),b=ye(a[X(317)](Y,w),.3,3);a[X(230)](f,z=>{const A=X;if(A(285)===a[A(273)]){const L=z.flowers.find(N=>N.id===W.flowerId);if(!L)return;for(const N of W[A(228)]){const T=L.layers[A(268)](j=>j.id===N.layerId);T&&(T.scale=a[A(259)](ye,a[A(225)](N.scale,b),.3,3),W.mode===a[A(226)]&&(T.radius=a.kbhIw(ye,a[A(263)](N.radius,b),2,120)))}W.mode===a.dHYvk&&(L.flowerDiameter=ye(W[A(257)]*b,10,200))}else{_0x482bfb[A(248)](),_0x2bcaa9[A(231)]?.[A(279)]?.(_0x194ec7[A(298)]),_0x6cf7d.current&&(_0x4e22cf[A(301)][A(249)].cursor=A(233)+P.YFXXC+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const L=_0xbeba72[A(282)][A(268)](k=>k.id===_0x2077fd);if(!L)return;const N=_0x3c304d?.layerId?L.layers[A(268)](k=>k.id===_0x40459c[A(291)]):null;if(!N)return;const T=P.tKJTc(_0x233cd5,_0x498488),j=_0x336665[A(305)](P.dyDqG(T.x,L.position.x),T.y-L[A(252)].y);_0x19f1a5[A(301)]={mode:_0x452efa,flowerId:_0x16e37c,layerId:_0x1a03db?.[A(291)],startDist:_0x1dd718[A(281)](1,j),startRadius:N.radius??28}}},!1)},_=()=>{const q=i,X={KWdOZ:q(240)};if(a[q(234)](a.zRqAO,a[q(266)]))_0x12b349.current[q(249)].cursor=q(233)+X.KWdOZ+q(253);else{if(!S[q(301)])return;a[q(318)](f,()=>{},!0),o.current&&(o[q(301)].style[q(239)]=""),S[q(301)]=null}},p=a.BZsIx(te.useRef,null),y=(q,X,P,W)=>{const V=i;P.preventDefault(),P.currentTarget?.[V(279)]?.(P.pointerId),o.current&&(o[V(301)][V(249)].cursor=V(233)+V(240)+V(277));const I=r.flowers[V(268)](z=>z.id===X);if(!I)return;const Y=a[V(260)](v,P),w=a[V(254)](Math.atan2(a[V(300)](Y.y,I.position.y),Y.x-I.position.x),a.kKwVx(180,Math.PI)),b=q===a[V(271)]&&W?.layerId?I.layers.find(z=>z.id===W[V(291)])?.[V(236)]??0:I[V(276)]??0;p[V(301)]={mode:q,flowerId:X,layerId:W?.[V(291)],startAngle:w,startRotation:b}},M=q=>{const X=i,P={EWrsV:function(z,A){return a[Ln(234)](z,A)},dqely:X(288)},W=p[X(301)];if(!W)return;const V=r.flowers[X(268)](z=>z.id===W[X(262)]);if(!V)return;const I=a.XTPbC(v,q),Y=Math[X(278)](a[X(245)](I.y,V[X(252)].y),I.x-V.position.x)*(180/Math.PI);let w=a[X(300)](Y,W.startAngle);for(;a[X(227)](w,180);)w-=360;for(;a[X(287)](w,-180);)w+=360;const b=a[X(314)](W[X(246)],w);a[X(237)](f,z=>{const A=X,L=z.flowers[A(268)](N=>N.id===W.flowerId);if(L)if(P.EWrsV(W.mode,P.dqely)&&W.layerId){const N=L.layers[A(268)](T=>T.id===W[A(291)]);N&&(N.offsetAngle=b)}else L[A(276)]=b},!1)},D=()=>{const q=i;if(a.mupqE===q(312)){if(!p[q(301)])return;a[q(230)](f,()=>{},!0),o[q(301)]&&(o.current[q(249)].cursor=""),p.current=null}else _0x509874.rotation=_0x21ac70},g=te.useRef(null),m=(q,X,P,W)=>{const V=i;P.preventDefault(),P.currentTarget?.setPointerCapture?.(P[V(298)]),o[V(301)]&&(o.current.style[V(239)]='url("/tsumami/'+V(306));const I=r[V(282)][V(268)](Q=>Q.id===X);if(!I)return;const Y=W?.layerId?I.layers.find(Q=>Q.id===W.layerId):null;if(!Y)return;const w=a[V(260)](v,P),b=I.position.x,z=I.position.y,A=W?.[V(316)]??0,L=360/Math.max(1,Y[V(303)]),N=(Y.offsetAngle+a.vSgVG(A,L)+I.rotation)*(Math.PI/180),T=a[V(300)](w.x,b),j=w.y-z,k=-Math[V(297)](N),B=Math.cos(N),U=Math[V(243)](a[V(269)](a.RzkIL(T,k),j*B));g.current={mode:q,flowerId:X,layerId:W?.layerId,petalAngle:N,startDist:Math.max(1,U),startWidthScale:Y[V(286)]??1}},G=q=>{const X=i,P=g[X(301)];if(!P)return;const W=r[X(282)][X(268)](N=>N.id===P[X(262)]);if(!W)return;const V=a[X(260)](v,q),I=a[X(245)](V.x,W.position.x),Y=V.y-W.position.y,w=-Math[X(297)](P[X(247)]),b=Math[X(304)](P.petalAngle),z=Math.abs(a[X(244)](I*w,a.UGTKn(Y,b))),A=a[X(258)](ye,z/P[X(309)],.3,3),L=a[X(259)](ye,a.vSgVG(P.startWidthScale,A),.3,3);a.xLMlg(f,N=>{const T=X,j=N[T(282)].find(B=>B.id===P.flowerId);if(!j)return;const k=j.layers[T(268)](B=>B.id===P[T(291)]);k&&(k.widthScale=L)},!1)},H=()=>{const q=i;if(a[q(315)](a[q(313)],a[q(224)])){const X=_0x467c21[q(282)][q(268)](W=>W.id===_0x26a2a3.flowerId);if(!X)return;const P=X[q(295)].find(W=>W.id===_0x160a11[q(291)]);P&&(P[q(251)]=_0x2a53e8)}else{if(!g.current)return;a.hnECT(f,()=>{},!0),o[q(301)]&&(o[q(301)].style.cursor=""),g.current=null}},R=te.useRef(null);return{scaleDragRef:S,beginScaleDrag:d,updateScaleDrag:h,endScaleDrag:_,rotationDragRef:p,beginRotationDrag:y,updateRotationDrag:M,endRotationDrag:D,widthScaleDragRef:g,beginWidthScaleDrag:m,updateWidthScaleDrag:G,endWidthScaleDrag:H,radiusDragRef:R,beginRadiusDrag:(q,X,P,W)=>{const V=i;P[V(248)](),P[V(231)]?.setPointerCapture?.(P.pointerId),o.current&&(o[V(301)].style[V(239)]=V(233)+'/tsumami/radius_cursor_32.png?v=16") 16 16, nwse-resize');const I=r[V(282)].find(z=>z.id===X);if(!I)return;const Y=W?.[V(291)]?I.layers[V(268)](z=>z.id===W.layerId):null;if(!Y)return;const w=v(P),b=Math.hypot(a[V(255)](w.x,I[V(252)].x),a.HhMYD(w.y,I.position.y));R[V(301)]={mode:q,flowerId:X,layerId:W?.[V(291)],startDist:Math.max(1,b),startRadius:Y[V(251)]??28}},updateRadiusDrag:q=>{const X=i;a.KTbDb;{const P=R[X(301)];if(!P)return;const W=r.flowers[X(268)](b=>b.id===P.flowerId);if(!W)return;const V=v(q),I=Math.hypot(V.x-W.position.x,a.Weweu(V.y,W.position.y)),Y=a.HhMYD(I,P[X(309)]),w=ye(a[X(292)](P[X(283)],Y),5,100);a.guntj(f,b=>{const z=X;if(a[z(275)]===z(264)){if(!_0x6d93f3.current)return;gUMVlO[z(299)](_0xa224a4,()=>{},!0),_0x23f33d[z(301)]&&(_0x1040fd.current.style[z(239)]=""),_0x31b89d[z(301)]=null}else{const A=b[z(282)].find(N=>N.id===P.flowerId);if(!A)return;const L=A[z(295)][z(268)](N=>N.id===P.layerId);L&&(L[z(251)]=w)}},!1)}},endRadiusDrag:()=>{const q=i;R.current&&(a.khVoz(f,()=>{},!0),o[q(301)]&&(o[q(301)].style[q(239)]=""),R.current=null)}}}(function(u,i){const a=Et,r=u();for(;;)try{if(parseInt(a(511))/1+parseInt(a(508))/2+-parseInt(a(477))/3+-parseInt(a(526))/4*(parseInt(a(554))/5)+parseInt(a(496))/6*(parseInt(a(492))/7)+parseInt(a(488))/8+parseInt(a(506))/9*(parseInt(a(558))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(I0,260008);const lm=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),wx=lm(void 0,function(){const u=Et,i={msLuG:u(519)};return wx[u(481)]().search(i[u(504)])[u(481)]().constructor(wx)[u(479)](u(519))});wx();function ui(u,i,a,r,f){const o=Et,v={KNIaa:function(O,Z){return O-Z},WFNHs:function(O,Z){return O(Z)},uUkde:function(O,Z){return O-Z},IMykn:function(O,Z){return O/Z},vawdo:function(O,Z){return O>Z},nVMRx:o(548),siidr:function(O,Z){return O>Z},CWADq:function(O,Z){return O>Z},tjqoW:o(540),AoKHm:function(O,Z){return O>Z},jvGfX:o(517),mcPxW:function(O,Z){return O(Z)},qgnhH:function(O,Z){return O-Z},pGqsY:function(O,Z){return O===Z},bwzCN:function(O,Z){return O(Z)},HdMiz:function(O,Z){return O<=Z},nWBUw:function(O,Z){return O!==Z},KthtB:"center",pBeZN:function(O,Z){return O===Z},UqUJT:function(O,Z){return O<=Z},lZStj:o(513),nQepB:function(O,Z){return O-Z},LwAbJ:function(O,Z){return O*Z},YKMIS:function(O,Z){return O+Z},UySDy:function(O,Z){return O-Z},XPWVh:function(O,Z){return O*Z},KJgVj:function(O,Z){return O*Z},WFUDz:function(O,Z){return O<Z},YZTDp:function(O,Z){return O>Z},zcHFu:o(495),svVNp:"rotate",Aqsrd:o(503),yROQh:function(O,Z){return O*Z},HjxHC:function(O,Z){return O-Z},RLNbi:function(O,Z){return O<=Z}},{length:S}=v[o(499)](qt,a.fabricSquareSize??r.fabricSquareSize),d=u-a.position.x,h=v[o(547)](i,a[o(512)].y),_=Math[o(497)](d,h);let p=1/0;for(const O of a[o(546)])if(v[o(484)](o(507),"pYnZM")){if(!O.visible)continue;const Z=O.scale??1,q=S*Z,X=.28,P=Math.max(0,v.uUkde(O.radius,q*X));P<p&&(p=P)}else return'url("'+_0x4ac885+'move_stencil_active_32.png") 16 16, grabbing';v.bwzCN(isFinite,p)||(p=0);const y=Math[o(531)](p*.9,8);if(v[o(539)](_,y)){if(v.nWBUw("pwdxZ",o(555)))return{zone:v[o(537)]};_0x5b479a="width"}if(v.pBeZN(f.kind,o(528))){const O=a.layers.find(Z=>Z.id===f.layerId&&Z[o(501)]);if(O){const Z=O.scale??1,q=S*Z,X=.28,P=Math[o(531)](0,v.KNIaa(O[o(513)],q*X));if(P>0){const V=Math.abs(_-P);if(v[o(478)](V,6))return{zone:v[o(516)],layerId:O.id}}}}const M=ea(-(a.rotation??0)),D=v[o(556)](d*Math.cos(M),v.LwAbJ(h,Math.sin(M))),g=d*Math[o(533)](M)+h*Math[o(485)](M),m=f[o(480)]==="layer"?a.layers.filter(O=>O.id===f.layerId&&O.visible):a.layers.filter(O=>O[o(501)]);let G=o(548),H,R,K=1/0;for(const O of m){const Z=O.scale??1,q=v[o(525)](S,Z),X=O[o(535)]??1,P=S/2*X*Z,W=.28,V=Math[o(531)](0,O[o(513)]-v[o(525)](q,W)),I=360/Math[o(531)](1,O[o(524)]);for(let Y=0;Y<O.petalCount;Y++){const w=v[o(514)](O.offsetAngle,Y*I),b=v.mcPxW(ea,w),z=v[o(525)](Math.cos(b),V),A=Math.sin(b)*V,L=v[o(527)](D,z),N=g-A,T=Math.cos(-b),j=Math[o(533)](-b),k=v.LwAbJ(L,T)-N*j,B=v.XPWVh(L,j)+v[o(483)](N,T),U=k/q,Q=B/P;if(v.WFUDz(U,-.05)||v[o(523)](U,1.08)||Math[o(560)](Q)>.75)continue;const ee=Math.hypot(U-.5,Q);if(!(ee>=K))if(K=ee,H=O.id,R=Y,Math[o(560)](Q)>.45)G=v.tjqoW;else if(v[o(538)](U,.75))if(v[o(559)](v[o(552)],v[o(552)])){const ne=_0x550e15[o(522)]??_0x3cff17[o(522)],{length:ce,width:oe}=_0x479c09(ne),be=_0x4ec8a3.scale??1,he=ce*be,je=oe*(_0x6797ef[o(535)]??1)*be,He=v.KNIaa(_0x233094,_0x3b2e07[o(512)].x),Ie=_0x1d2f40-_0x2aad30[o(512)].y,ze=v.WFNHs(_0x565d37,-(_0x2aa9ce.rotation??0)),Xe=v.uUkde(He*_0x348c09[o(485)](ze),Ie*_0x57bfd6[o(533)](ze)),mt=He*_0x1afb94.sin(ze)+Ie*_0x56f0b2.cos(ze),gt=v.IMykn(Xe,he),ft=mt/je;return gt<-.05||v.vawdo(gt,1.08)?v.nVMRx:v[o(523)](_0x4e8e3d.abs(ft),.75)?"none":v[o(518)](_0x36f173[o(560)](ft),.45)?v[o(551)]:v[o(529)](gt,.75)?"rotate":gt>.3?o(503):v[o(490)]}else G=v[o(541)];else G=v[o(498)]}}if(G===v.nVMRx){let O=12;for(const X of a[o(546)]){if(!X.visible)continue;const P=X.scale??1,W=v.yROQh(S,P),V=.28,I=Math[o(531)](0,v[o(491)](X[o(513)],v.LwAbJ(W,V)));O=Math[o(531)](O,I+W)}const Z=8,q=Math.abs(v[o(544)](_,O));if(v.RLNbi(q,Z))return{zone:v[o(498)]}}return{zone:G,layerId:H,petalIndex:R}}function M0(u,i,a){const r=Et,f={WNkMO:"scale",zTXat:function(o,v){return o===v},LwxTY:"center",qkjaw:function(o,v){return o===v},nrWvy:r(548),emupz:r(487),wxcvO:function(o,v){return o===v},txewu:"OKXhO",ywlDQ:function(o,v){return o===v},dsxfD:"layer"};if(f[r(482)](u,f[r(500)]))return r(561);if(f[r(502)](u,f.nrWvy))return f.nrWvy;switch(i){case"flower":{if(u===r(503))return f.WNkMO;if(u===f.emupz&&a?.[r(494)]&&a.flower&&a.length!=null){let o,v=-1/0;for(const S of a[r(532)].layers)if(f.wxcvO(f.txewu,r(505)))_0xff2b1e=iCJJKD.WNkMO;else{if(!S[r(501)])continue;const d=S.scale??1,h=a[r(545)]*d,_=.28,p=Math.max(0,S.radius-h*_),y=p+h;y>v&&(v=y,o=S.id)}return f.ywlDQ(a.hitLayerId,o)?r(487):r(503)}return f[r(509)]}case f.dsxfD:return u;case"petal":case"petals":return"scale";default:return f.WNkMO}}function Et(u,i){u=u-476;const a=I0();let r=a[u];if(Et.UMUGWu===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Et.iMcJVl=f,Et.coFtPc={},Et.UMUGWu=!0}const o=a[0],v=u+o,S=Et.coFtPc[v];if(S)r=S;else{const d=function(h){this.ioZHAq=h,this.diMZEv=[1,0,0],this.wSlWMB=function(){return"newState"},this.IvfNhX="\\w+ *\\(\\) *{\\w+ *",this.HRqIUP=`['|"].+['|"];? *}`};d.prototype.mFRFiV=function(){const h=new RegExp(this.IvfNhX+this.HRqIUP),_=h.test(this.wSlWMB.toString())?--this.diMZEv[1]:--this.diMZEv[0];return this.aYrpeL(_)},d.prototype.aYrpeL=function(h){return~h?this.czPTFj(this.ioZHAq):h},d.prototype.czPTFj=function(h){for(let _=0,p=this.diMZEv.length;_<p;_++)this.diMZEv.push(Math.round(Math.random())),p=this.diMZEv.length;return h(this.diMZEv[0])},new d(Et).mFRFiV(),r=Et.iMcJVl(r),Et.coFtPc[v]=r}return r}function am(u,i,a,r){const f=Et,o={amzyl:function(R,K){return R-K},bkvRX:function(R,K){return R(K)},Gvswy:function(R,K){return R+K},VJOfF:function(R,K){return R*K},IxYAH:function(R,K){return R/K},YzTdF:function(R,K){return R>K},hFMxZ:function(R,K){return R>K},NSjkT:f(540),gVuVa:f(503),qdMNz:f(517)},v=a[f(522)]??r[f(522)],{length:S,width:d}=qt(v),h=a.scale??1,_=S*h,p=d*(a[f(535)]??1)*h,y=o.amzyl(u,a[f(512)].x),M=i-a.position.y,D=o.bkvRX(ea,-(a[f(510)]??0)),g=o[f(515)](y*Math[f(485)](D),M*Math.sin(D)),m=o.Gvswy(y*Math[f(533)](D),o[f(489)](M,Math[f(485)](D))),G=g/_,H=o.IxYAH(m,p);return G<-.05||o.YzTdF(G,1.08)?f(548):o.hFMxZ(Math.abs(H),.75)?"none":Math.abs(H)>.45?o[f(543)]:o[f(557)](G,.75)?"rotate":o.hFMxZ(G,.3)?o.gVuVa:o[f(550)]}function tr(u,i){const a=Et,r={CpNsu:"scale",bOaNn:a(540),AydiH:"none"};switch(u){case a(487):return'url("'+i+'rotate_cursor_32.png") 16 16, crosshair';case r.CpNsu:return'url("'+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case r[a(549)]:return a(534)+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case"move":return ur(i);case r[a(542)]:default:return"grab"}}function Hd(u,i){const a=Et,r={VLRCe:a(486),pyRnV:a(517),kLRHV:function(f,o){return f(o)},ayCcm:a(548),ecMsd:"grab"};switch(u){case"center":return r[a(521)];case"rotate":return a(534)+i+'rotate_cursor_32.png") 16 16, crosshair';case a(503):return'url("'+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case a(540):return a(534)+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case"radius":return'url("'+i+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case r.pyRnV:return r.kLRHV(ur,i);case r[a(476)]:default:return r[a(536)]}}function ur(u){const i=Et;return i(534)+u+i(520)}function In(u){return Et(534)+u+'move_object_active_32.png") 16 16, grabbing'}function im(u){const i=Et;return'url("'+u+i(553)}function I0(){const u=["ANzhzLG","s05jywe","mtrrBNrSzuq","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","AgL0tgf5zxjjza","EwLJq2e","mJuWnJjSqLLKwNe","AhLWB3q","qxfZCMq","BwnqEfC","thD4vfK","DMLZAwjSzq","CwTQyxC","C2nHBgu","BxnmDuC","DuLzENi","ntaWnhj3v2zVwq","CfLUwK0","mtu1mZm0s2zsBwLc","v05Rtu8","CM90yxrPB24","mJi3nda5Eg9wzKHd","Cg9ZAxrPB24","CMfKAxvZ","wuTnsvm","yw16EwW","BfPtDgO","Bw92zq","q1Dbrhe","kcGOlISPkYKRksSK","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","vKXsq2u","zMfICMLJu3f1yxjLu2L6zq","C2LPzhi","Cgv0ywXdB3vUDa","thDbyKO","mtm0mfbgwuzMBa","vxLtrhK","Bgf5zxi","qw9lsg0","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","Bwf4","zMXVD2vY","C2LU","DxjSkci","D2LKDgHty2fSzq","zwnnC2q","s3rODei","wvPurha","sgrnAxO","D2LKDgG","C3zwtNa","qxLKAuG","tLnQA1q","sgP4sem","BgvUz3rO","Bgf5zxjZ","CwDUAeG","BM9Uzq","yK9HtM4","CwrntNO","DgPXB1C","EMnirNu","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","mZeXnwP0zKPqDa","EKXSvhq","BLfLCei","AeznEfO","mJa3mgXRANLtrG","BLDcvxC","ywjZ","y2vUDgvY","yxLdy20","mtiYnJm3mfDnugTHzq","vxfvsLq","C2vHCMnO","A2LUza","Dg9tDhjPBMC","ELryyxq","s0PNvMO","CeDXC1K","y29Z","Cg9PBNrLCG","CM90yxrL","mZu5mtG0oeLWBfP6ua","vKPpzKy"];return I0=function(){return u},I0()}function rm(u){const i=Et;return i(534)+u+i(493)}function En(u,i){u=u-450;const a=R0();let r=a[u];if(En.PZJstF===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};En.WIgqHt=f,En.inlYks={},En.PZJstF=!0}const o=a[0],v=u+o,S=En.inlYks[v];if(S)r=S;else{const d=function(h){this.gNxFvU=h,this.ANIBXg=[1,0,0],this.DfTDfl=function(){return"newState"},this.BHhRNY="\\w+ *\\(\\) *{\\w+ *",this.VZzaUn=`['|"].+['|"];? *}`};d.prototype.jKmSsf=function(){const h=new RegExp(this.BHhRNY+this.VZzaUn),_=h.test(this.DfTDfl.toString())?--this.ANIBXg[1]:--this.ANIBXg[0];return this.RGWebI(_)},d.prototype.RGWebI=function(h){return~h?this.upFOJX(this.gNxFvU):h},d.prototype.upFOJX=function(h){for(let _=0,p=this.ANIBXg.length;_<p;_++)this.ANIBXg.push(Math.round(Math.random())),p=this.ANIBXg.length;return h(this.ANIBXg[0])},new d(En).jKmSsf(),r=En.WIgqHt(r),En.inlYks[v]=r}return r}(function(u,i){const a=En,r=u();for(;;)try{if(parseInt(a(537))/1*(-parseInt(a(457))/2)+parseInt(a(463))/3*(parseInt(a(520))/4)+-parseInt(a(512))/5*(-parseInt(a(525))/6)+-parseInt(a(452))/7+-parseInt(a(505))/8+-parseInt(a(460))/9*(-parseInt(a(523))/10)+-parseInt(a(531))/11*(-parseInt(a(536))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(R0,270391);const um=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Cx=um(void 0,function(){const u=En,i={AvJUK:"(((.+)+)+)+$"};return Cx[u(538)]().search("(((.+)+)+)+$").toString()[u(498)](Cx)[u(478)](i.AvJUK)});function R0(){const u=["vLzVy2y","ChjVAMvJDa","y2XPzw50wq","CMfKAxvZrhjHz1jLzG","Cu55AMK","BgvHDMvZ","C1vmswu","C0zPDfu","DejmCuW","BwLU","y2XPy2TqzxrHBa","y29UC3rYDwn0B3i","svbZB1q","yMvNAw5xAwr0AfnJywXLrhjHzW","C3rHCNrAB29T","ChjLDMvUDerLzMf1Bhq","BgvHzLn0yxj0ug9ZAxrPB25Z","AxntAgLMDfbYzxnZzwq","nJe1mdG4qKTsBKDJ","y2XPzw50wa","wMvbC1y","zMXVD2vYCW","B296ufq","r0zMr1y","zMLUza","mZK1zgnkvMDu","D1vfB3O","AMPpyMW","ChPnuuK","C2v0ug9PBNrLCKnHChr1CMu","Cw56Bva","CuzyCeC","t2TcALe","mte0mJK2y3vdr1rb","D0rXrNu","y3vYCMvUDa","nJa0mdbIugnrDwW","CgfUma","mJC5nZHduwLIzei","Cg9ZAxrPB24","A3DVyvq","Bgf5zxjjza","sKP2ufC","sgvSCxC","mtfQD21uA1G","CfPtCxa","Aw5KzxG","BgvHzG","C1b5s2u","mJGXndiXnNf0q2HLvG","mNfhq0jyqG","Dg9tDhjPBMC","zMXVD2vY","Cgv0ywW","C3rHCNrqB3m","wufVwha","tLPTww0","mJCWntyYnK1tuKvXBa","sNDSshK","ywjZ","zw5KuMfKAxvZrhjHzW","C3rHCNrtDMC","mZyWodK4CwLRDgf3","Aw5JBhvKzxm","Bw92zwq","owDprgnHDa","CM90yxrPB25eCMfNuMvM","Dxfks0i","ntfNCenmvw4","sMn2Du0","AhLWB3q","rfjpBNa","Cg9PBNrLCKLK","y3vYCMvUDfrHCMDLDa","C3rHCNq","DxHdquC","vNL5q3y","zMXVD2vYswrZ","BgvUz3rO","BwfW","zMXVD2vYswq","DxbKyxrLu2nHBgveCMfN","A2LUza","C2vHCMnO","C2PbvvO","zw5Kv2LKDgHty2fSzurYywC","wLbZwgq","C3rHCNrdBgLLBNq","Bgf5zxi","vhDMCxO","z1jKwgq","zw5KuM90yxrPB25eCMfN"];return R0=function(){return u},R0()}Cx();const ai=500*an;function cm(u){const i=En,a={wDqFu:function(I,Y){return I+Y},qNyji:function(I,Y){return I-Y},uxCAG:function(I,Y){return I(Y)},PBCoc:function(I,Y){return I(Y)},reKic:function(I,Y){return I<Y},JJvPW:function(I,Y){return I>=Y},wUEoz:function(I,Y){return I<=Y},EhIHy:function(I,Y){return I<=Y},kwoaT:function(I,Y){return I<=Y},Twfqz:function(I,Y){return I>Y},OkBjQ:function(I,Y){return I(Y)},LMYvX:"mixed",jjObl:function(I,Y){return I===Y},qFXpG:"szrsT",gRdXd:i(466),quDPB:function(I,Y){return I(Y)},JcvuM:function(I,Y){return I!==Y},YAoXp:"leaves",ZPsXd:"flowers",qnzmP:function(I,Y,w){return I(Y,w)},ZOerT:function(I,Y,w,b){return I(Y,w,b)},TUMai:function(I,Y){return I/Y},TQGpp:function(I,Y){return I===Y},yWQft:"oBpmx",VfRME:"jsrYk",GFfGV:function(I,Y){return I===Y},FBDGU:"sleVJ",pNcVl:"qbBvo",klVss:function(I,Y){return I===Y},uIlip:i(488),NZmYm:"flower",Helqw:function(I,Y){return I!==Y},yIoGJ:"layer",iOyrz:function(I,Y){return I!==Y},Rbxly:function(I,Y){return I===Y},VYrZy:"petal",VVocf:function(I,Y,w){return I(Y,w)},pTINQ:function(I,Y){return I(Y)}},{project:r,selection:f,setSelection:o,applyUpdate:v,dragRef:S,zoom:d,pan:h,setPan:_,stageRef:p,clientToSvgPoint:y,togglePetalSelection:M}=u,D=a.pTINQ(nm,{project:r,applyUpdate:v,stageRef:p,clientToSvgPoint:y}),g=te.useRef(null),m=I=>{const Y=i;I[Y(502)](),I[Y(468)]?.[Y(516)]?.(I[Y(467)]),g.current={start:{x:I[Y(506)],y:I[Y(489)]},pan0:{...h}}},G=I=>{const Y=i;if(!g[Y(522)])return;const w=I[Y(506)]-g.current[Y(469)].x,b=I.clientY-g.current[Y(469)].y;_({x:g[Y(522)][Y(524)].x+w,y:a.wDqFu(g[Y(522)][Y(524)].y,b)})},H=()=>{g.current=null},R=te.useRef(null),[K,O]=te.useState(null);return{beginPan:m,updatePan:G,endPan:H,marqueeRef:R,marqueeRect:K,beginMarquee:I=>{const Y=i;I[Y(502)](),I[Y(468)]?.setPointerCapture?.(I[Y(467)]);const w=y(I);R[Y(522)]={startSvg:w,currentSvg:w},O(null)},updateMarquee:I=>{const Y=i;if(!R.current)return;const w=y(I);R[Y(522)].currentSvg=w;const b=R.current.startSvg,z=Math[Y(496)](b.x,w.x),A=Math[Y(496)](b.y,w.y),L=Math[Y(454)](w.x-b.x),N=Math[Y(454)](a.qNyji(w.y,b.y));a[Y(470)](O,{x:z,y:A,w:L,h:N})},endMarquee:()=>{const I=i,Y={dBCrC:I(539),yKrqT:function(U,Q){return a.PBCoc(U,Q)},KRNQv:I(534)},w=R.current;if(R[I(522)]=null,!w){O(null);return}const b=w[I(456)],z=w.currentSvg,A=Math[I(465)](z.x-b.x,z.y-b.y);if(a.reKic(A,3)){o({kind:"project"}),O(null);return}const L=Math[I(496)](b.x,z.x),N=Math[I(496)](b.y,z.y),T=Math[I(454)](z.x-b.x),j=Math[I(454)](z.y-b.y),k=[];for(const U of r[I(508)])a[I(529)](U[I(526)].x,L)&&U.position.x<=a.wDqFu(L,T)&&U.position.y>=N&&a[I(513)](U[I(526)].y,N+j)&&k.push(U.id);const B=[];for(const U of r.leaves??[])a[I(529)](U[I(526)].x,L)&&a.EhIHy(U.position.x,L+T)&&U.position.y>=N&&a[I(527)](U.position.y,a[I(521)](N,j))&&B.push(U.id);a.Twfqz(k[I(473)],0)&&a.Twfqz(B.length,0)?a[I(519)](o,{kind:a.LMYvX,flowerIds:k,leafIds:B}):a[I(484)](k[I(473)],0)?a[I(514)](a[I(518)],I(479))?(_0x7e0979[I(502)](),_0x2f1ca7[I(468)]?.[I(516)]?.(_0x1e501e.pointerId),_0x48429c[I(522)]={start:{x:_0x289fd2.clientX,y:_0x2e7e17.clientY},pan0:{..._0x3872f7}}):k[I(473)]===1?o({kind:I(539),flowerId:k[0]}):a[I(485)]!==I(466)?_0x38bad5({kind:Y.dBCrC,flowerId:_0x11a5e7[0]}):a.quDPB(o,{kind:I(508),flowerIds:k}):B.length>0?B[I(473)]===1?a[I(464)]("WqSKF","WqSKF")?Y.yKrqT(_0x52339a,{kind:Y.KRNQv,leafId:_0x34d678[0]}):o({kind:I(534),leafId:B[0]}):o({kind:a[I(450)],leafIds:B}):o({kind:"project"}),O(null)},beginFlowerDrag:(I,Y,w)=>{const b=i;Y.preventDefault(),Y.currentTarget?.[b(516)]?.(Y.pointerId);const z=r[b(508)].find(T=>T.id===I);if(!z)return;let A=null,L=null;if(f[b(477)]===a[b(481)]&&f[b(472)][b(458)](I))A=f.flowerIds[b(474)](T=>{const j=b,k=r.flowers[j(511)](B=>B.id===T);return{id:T,x:k?.position.x??0,y:k?.[j(526)].y??0}});else{const T=a[b(517)](Mh,r,I);T[b(473)]>1&&(A=T[b(474)](j=>{const k=b,B=r[k(508)].find(U=>U.id===j);return{id:j,x:B?.position.x??0,y:B?.[k(526)].y??0}}))}const N=a[b(517)](nl,r,I);N&&a.Twfqz(N.leafIds[b(473)],0)&&(L=N.leafIds[b(474)](T=>{const j=b;if(j(499)==="QGNVT"){if(!_0x1982a1.current)return;const k=_0xfc1983(_0x57b8f3);_0x5685dd.current.currentSvg=k;const B=_0x152ac0.current.startSvg,U=_0x50e82b.min(B.x,k.x),Q=_0x18a55c[j(496)](B.y,k.y),ee=_0x33830a[j(454)](k.x-B.x),ne=_0x4e7f85.abs(LGLcMD.GAULQ(k.y,B.y));_0xb26eaf({x:U,y:Q,w:ee,h:ne})}else{const k=(r[j(492)]??[]).find(B=>B.id===T);return{id:T,x:k?.position.x??0,y:k?.[j(526)].y??0}}})),S.current={flowerId:I,startClient:{x:Y[b(506)],y:Y[b(489)]},startPos:{...z.position},moved:!1,clickPetal:w??null,isShiftPressed:Y.shiftKey||!1,multiStartPositions:A,leafStartPositions:L,startZoom:d}},updateFlowerDrag:I=>{const Y=i,w={pzMQI:function(T,j){return a.jjObl(T,j)},ZeAsV:Y(539),sFitU:function(T,j){return T!==j},DIXAK:function(T,j){return T===j},uqJKB:Y(483),Yrsig:function(T,j){return T!==j},sPyKe:function(T,j){return T+j},pZSqp:function(T,j,k,B){return a.ZOerT(T,j,k,B)},rzKbK:function(T,j){return a.wDqFu(T,j)},JwlHy:function(T,j){return T+j}},b=S.current;if(!b)return;const z=a.TUMai(I[Y(506)]-b[Y(482)].x,b[Y(501)]),A=(I[Y(489)]-b.startClient.y)/b.startZoom,L=a.qNyji(I[Y(506)],b[Y(482)].x),N=a[Y(491)](I[Y(489)],b[Y(482)].y);a[Y(521)](Math[Y(454)](L),Math[Y(454)](N))>4&&(b[Y(459)]=!0),v(T=>{const j=Y,k={VyyCv:function(B,U){return w[En(515)](B,U)},tBLqL:w[j(507)],IqKjh:function(B,U){return w[j(494)](B,U)},slvTB:function(B,U){return w.DIXAK(B,U)},TUvQT:w[j(462)],oozPT:function(B,U){return w.Yrsig(B,U)},SonaZ:function(B,U){return B(U)}};if(j(493)==="sULIe"){if(b.multiStartPositions)for(const B of b.multiStartPositions){const U=T.flowers.find(Q=>Q.id===B.id);U&&(U.position.x=ye(w[j(535)](B.x,z),0,ai),U.position.y=w[j(532)](ye,w[j(535)](B.y,A),0,ai))}else{const B=T.flowers.find(U=>U.id===b[j(475)]);if(!B)return;B.position.x=ye(w.rzKbK(b[j(541)].x,z),0,ai),B.position.y=w[j(532)](ye,b[j(541)].y+A,0,ai)}if(b[j(503)])for(const B of b[j(503)]){const U=(T.leaves??[]).find(Q=>Q.id===B.id);U&&(U[j(526)].x=w[j(532)](ye,w.rzKbK(B.x,z),0,ai),U[j(526)].y=ye(w[j(453)](B.y,A),0,ai))}}else(k.VyyCv(_0xef3036[j(477)],"project")||k[j(471)](_0x1e95f8.kind,k.tBLqL)&&k.IqKjh(_0x13868d.flowerId,_0x4b0813[j(475)])||k.slvTB(_0x568bc8.kind,k.TUvQT)&&k[j(509)](_0x2a9d3f[j(475)],_0x3bd354.flowerId)||_0xc4339a[j(477)]===j(540)&&_0x28635c[j(475)]!==_0x26a616[j(475)])&&k.SonaZ(_0x5be71c,{kind:k[j(495)],flowerId:_0x501171.flowerId}),_0x1d791a(()=>{},!0)},!1)},endFlowerDrag:()=>{const I=i,Y=S.current;if(Y){if(!Y.moved&&Y.clickPetal)if(Y[I(504)])if(a.yWQft===a.VfRME){const w=(_0x290f47.leaves??[]).find(b=>b.id===_0x2ac890);return{id:_0x49322b,x:w?.[I(526)].x??0,y:w?.[I(526)].y??0}}else M(Y[I(475)],Y.clickPetal[I(528)],Y[I(497)][I(533)],!0);else a[I(510)](a.FBDGU,a.pNcVl)?a.TQGpp(_0x19bf1d.length,1)?_0xaebb32({kind:"flower",flowerId:_0x229a25[0]}):_0x48a725({kind:a.ZPsXd,flowerIds:_0x337f53}):o({kind:I(540),flowerId:Y[I(475)],layerId:Y[I(497)].layerId,index:Y.clickPetal.index});else Y.moved&&((a.klVss(f.kind,a.uIlip)||f[I(477)]===a.NZmYm&&a[I(530)](f.flowerId,Y.flowerId)||f[I(477)]===a.yIoGJ&&a.iOyrz(f.flowerId,Y[I(475)])||a.Rbxly(f[I(477)],a.VYrZy)&&f.flowerId!==Y[I(475)])&&o({kind:a[I(451)],flowerId:Y.flowerId}),a[I(487)](v,()=>{},!0));S[I(522)]=null}},scaleDragRef:D.scaleDragRef,beginScaleDrag:D.beginScaleDrag,updateScaleDrag:D[i(476)],endScaleDrag:D.endScaleDrag,rotationDragRef:D[i(461)],beginRotationDrag:D.beginRotationDrag,updateRotationDrag:D.updateRotationDrag,endRotationDrag:D[i(486)],widthScaleDragRef:D.widthScaleDragRef,beginWidthScaleDrag:D[i(500)],updateWidthScaleDrag:D.updateWidthScaleDrag,endWidthScaleDrag:D[i(480)],radiusDragRef:D[i(490)],beginRadiusDrag:D.beginRadiusDrag,updateRadiusDrag:D.updateRadiusDrag,endRadiusDrag:D[i(455)]}}function xm({className:u}){return x.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function ii(u){const i=!!u.selected,a=!!u.muted,r=4+(u.level||0)*12+(u.leftOffset||0),f=Math.max(0,r),o=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",v="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:S=>{u.onDoubleClick&&(S.stopPropagation(),u.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${o}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?x.jsx("span",{className:"text-xs leading-none shrink-0",style:{marginRight:4},"aria-hidden":!0,children:u.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?x.jsx("button",{type:"button",className:`${v} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:S=>{S.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(xm,{className:"h-4 w-4"})}):x.jsx("div",{className:`${v} shrink-0`,"aria-hidden":!0})]})]})}function sm(u){const{project:i,selection:a,setSelection:r,isExpanded:f,toggleExpanded:o,scheduleFlowerRowClick:v,handleFlowerRowDoubleClick:S,addFlower:d,deleteSelected:h,addOuterLayer:_,deleteOuterLayer:p,deleteFlowerById:y,deleteLayerById:M,treeScrollRef:D,setExpandedFlowers:g}=u,m=q=>{const X=q.flowerIds.length>0,P=q.leafIds.length>0;return X&&P?"":X?"":""},G=(q,X)=>{const P=a.kind==="flower"&&a.flowerId===q.id,W=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(q.id),V=P||W,I="",Y=f(q.id),w=q.layers&&q.layers.length>0,b=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:z=>{z.stopPropagation(),_(q.id)},"aria-label":"Add outer layer",children:"+"}),w&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:z=>{z.stopPropagation(),p(q.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":q.id,"data-testid":`tree-flower-${q.id}`,style:{paddingLeft:X},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Y?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:Y?"Collapse layers":"Expand layers",onClick:z=>{z.stopPropagation(),o(q.id)},"aria-label":Y?"collapse":"expand","data-tree-toggle":!0,children:Y?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ii,{label:q.name,marker:I,selected:V,showTrash:P,onTrash:()=>y(q.id),rightActions:b,onClick:()=>v(q.id),onDoubleClick:()=>S(q.id),level:0,leftOffset:-18})})]}),Y&&q.layers.slice().sort((z,A)=>A.order-z.order).map(z=>{const A=(a.kind==="layer"||a.kind==="petal")&&a.layerId===z.id;return x.jsx(ii,{label:`${z.order}. ${z.name}`,marker:"",selected:A,showTrash:A,onTrash:()=>M(q.id,z.id),onClick:()=>{r({kind:"layer",flowerId:q.id,layerId:z.id}),g(L=>({...L,[q.id]:!0}))},level:0,leftOffset:10,muted:!z.visible},z.id)})]},q.id)},H=u.groups,R=new Set(H.flatMap(q=>q.flowerIds)),K=i.flowers.filter(q=>!R.has(q.id)),O=new Set(H.flatMap(q=>q.leafIds)),Z=u.leaves.filter(q=>!O.has(q.id));return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex gap-1 flex-wrap",children:[x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:h,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),x.jsxs("div",{className:"mt-1.5",ref:D,"data-testid":"layer-tree",children:[x.jsx(ii,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),H.length>0&&x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsx("div",{className:"flex items-center px-0.5",children:x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),x.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...H].reverse().map(q=>{const X=a.kind==="group"&&a.groupId===q.id,P=m(q),W=u.isGroupExpanded(q.id);return x.jsxs("div",{"data-group-id":q.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${W?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:W?"":"",onClick:V=>{V.stopPropagation(),u.toggleGroupExpanded(q.id)},"aria-label":W?"collapse group":"expand group",children:W?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ii,{label:q.name,marker:P,selected:X,onClick:()=>u.onSelectGroup(q.id),level:0,leftOffset:-18})})]}),W&&q.flowerIds.map(V=>{const I=i.flowers.find(Y=>Y.id===V);return I?G(I,12):null}),W&&q.leafIds.map(V=>{const I=u.leaves.find(w=>w.id===V);if(!I)return null;const Y=a.kind==="leaf"&&a.leafId===I.id||a.kind==="leaves"&&a.leafIds.includes(I.id)||a.kind==="mixed"&&a.leafIds.includes(I.id);return x.jsx(ii,{label:I.name,marker:"",selected:Y,showTrash:Y,onTrash:()=>u.onDeleteLeaf(I.id),onClick:()=>u.onSelectLeaf(I.id),level:0,leftOffset:12,muted:!I.visible},I.id)})]},q.id)})})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:d,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...K].reverse().map(q=>G(q,0)),K.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[[...Z].reverse().map(q=>{const X=a.kind==="leaf"&&a.leafId===q.id||a.kind==="leaves"&&a.leafIds.includes(q.id)||a.kind==="mixed"&&a.leafIds.includes(q.id);return x.jsx(ii,{label:q.name,marker:"",selected:X,showTrash:X,onTrash:()=>u.onDeleteLeaf(q.id),onClick:()=>u.onSelectLeaf(q.id),level:0,leftOffset:0,muted:!q.visible},q.id)}),u.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}function Tn(u,i){u=u-387;const a=G0();let r=a[u];if(Tn.sLzbQh===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Tn.dOXNJp=f,Tn.kAneCD={},Tn.sLzbQh=!0}const o=a[0],v=u+o,S=Tn.kAneCD[v];if(S)r=S;else{const d=function(h){this.WvsQTY=h,this.dejpiS=[1,0,0],this.LTxlPM=function(){return"newState"},this.SnsoRR="\\w+ *\\(\\) *{\\w+ *",this.kdfSkt=`['|"].+['|"];? *}`};d.prototype.AZPHap=function(){const h=new RegExp(this.SnsoRR+this.kdfSkt),_=h.test(this.LTxlPM.toString())?--this.dejpiS[1]:--this.dejpiS[0];return this.tlOtvv(_)},d.prototype.tlOtvv=function(h){return~h?this.ufXttQ(this.WvsQTY):h},d.prototype.ufXttQ=function(h){for(let _=0,p=this.dejpiS.length;_<p;_++)this.dejpiS.push(Math.round(Math.random())),p=this.dejpiS.length;return h(this.dejpiS[0])},new d(Tn).AZPHap(),r=Tn.dOXNJp(r),Tn.kAneCD[v]=r}return r}const fe=Tn;(function(u,i){const a=Tn,r=u();for(;;)try{if(-parseInt(a(438))/1*(parseInt(a(483))/2)+parseInt(a(427))/3*(parseInt(a(441))/4)+parseInt(a(477))/5*(parseInt(a(436))/6)+parseInt(a(415))/7*(-parseInt(a(430))/8)+-parseInt(a(470))/9+-parseInt(a(443))/10+-parseInt(a(467))/11*(-parseInt(a(391))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(G0,477853);const om=(function(){const u=Tn,i={yihvl:"ZYPxx",TXeyX:u(387)};let a=!0;return function(r,f){const o=u;i[o(420)];const v=a?function(){const S=o;if(f){const d=f[S(466)](r,arguments);return f=null,d}}:function(){};return a=!1,v}})(),Mx=om(void 0,function(){const u=Tn,i={qBdLL:u(387)};return Mx[u(410)]().search(i.qBdLL)[u(410)]().constructor(Mx).search(i[u(389)])});Mx();const $d={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},e1={adult:fe(476),child:""},t1={right:"",left:"",back:""},fm=[fe(399),"C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66",fe(429),fe(394),fe(471),"C 83 101, 78 103, 72 105",fe(485),fe(447),fe(431),"C 56 137, 49 142, 43 146",fe(442),"C 23 171, 21 181, 19 191","C 15 206, 5 221, -9 239","C -17 249, -25 259, -33 269",fe(409),fe(437),fe(488),fe(458),fe(434),"C -34 158, -36 150, -40 142",fe(478),"C -80 108, -88 96, -88 84",fe(402),fe(428),fe(451),fe(408),"C -4 -1, -1 -1, 0 0","Z"][fe(452)](" "),dm=[fe(399),fe(479),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",fe(395),fe(445),"C 72 142, 60 152, 48 162","C 38 172, 32 180, 30 188",fe(475),fe(461),fe(405),fe(433),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162","C -60 152, -72 142, -78 134","C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98",fe(398),fe(426),"C -44 6, -20 0, 0 0","Z",fe(417),fe(472),fe(486),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",fe(487),"C -40 136, -46 126, -48 116",fe(455),"C -34 70, -16 66, 0 70","Z"].join(" "),hm=[fe(399),"C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",fe(456),"C 62 60, 59 64, 57 68",fe(403),fe(484),fe(454),"C 57 91, 57 93, 59 95",fe(463),fe(423),"C 32 125, 28 131, 26 139","C 22 151, 14 167, -2 183",fe(425),"L -30 240",fe(474),fe(419),fe(457),"C -35 150, -36 142, -40 134","C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44","C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z"][fe(452)](" "),mm=[fe(399),fe(439),fe(396),"C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112","C 54 120, 44 130, 38 140","C 30 152, 32 166, 55 202",fe(469),"L -70 240","C -66 228, -60 214, -55 202",fe(406),"C -44 130, -54 120, -60 112","C -64 106, -66 100, -66 94",fe(392),"C -64 52, -60 38, -52 26",fe(449),"Z","M 46 26",fe(404),"C 78 40, 78 54, 72 62",fe(450),fe(424),"C 43 32, 44 28, 46 26","Z","M -46 26","C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38",fe(407),"Z"][fe(452)](" "),bm=["M 0 0",fe(418),fe(482),"C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76",fe(388),fe(432),fe(451),fe(408),"C -4 -1, -1 -1, 0 0","Z",fe(473),"C -48 134, -58 126, -68 118",fe(400),"C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44",fe(421),"C -46 86, -42 106, -40 126","L -40 142","Z"].join(" "),gm=["M 0 0",fe(479),"C 68 30, 76 44, 80 62",fe(440),"C 81 104, 84 110, 84 116",fe(445),fe(460),fe(448),"C -42 152, -62 142, -78 134","C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62",fe(426),"C -44 6, -20 0, 0 0","Z","M 0 70",fe(472),"C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",fe(487),fe(422),fe(455),fe(412),"Z"][fe(452)](" "),vm=[fe(399),"C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",fe(456),"C 44 54, 16 48, -10 46","C -28 46, -40 44, -50 44","C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z","M -40 134",fe(401),"C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",fe(465),"C -38 94, -36 112, -38 126",fe(413),"Z"][fe(452)](" "),ym=["M 0 0",fe(439),fe(396),"C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126","C 0 127, -12 126, -26 124","C -46 118, -60 112, -60 112","C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z",fe(462),"C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62",fe(450),"C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z","M -46 26","C -54 20, -66 22, -72 32",fe(444),"C -66 68, -56 70, -48 66",fe(464),"C -43 32, -44 28, -46 26","Z"][fe(452)](" ");function pm(u,i){const a=fe,r={QrdPG:function(o,v){return o===v},brTIg:"right",xrIMD:function(o,v){return o===v},UsjND:"adult"},f=r[a(393)](i,r[a(446)])||i==="left";return r.xrIMD(u,r.UsjND)?f?fm:dm:f?hm:mm}function G0(){const u=["qYaYmcaWlca0nca2lca1ocaYma","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","C2vHCMnO","qYa2nsaXmIWGnZiGmJySidC2idqY","oda1odmWEuj3r053","qYa2nsa4msWGnJyGodmSidy2idG1","qYa3mcaXmdySidCWideWocWGnZmGmteW","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","kcGOlISPkYKRksSK","qYa0oca3ncWGmJaGnJqSic04idu4","CujKteW","y29UC3rYDwn0B3i","mJCWnte2mfrlzLjAra","qYaTnJyGodySic02nca3ocWGlty0idy4","uxjKueC","qYa2nsa4mcWGnJGGoduSidC0idKW","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYa2mcaZocWGnJqGntiSidy0idy4","l3rZDw1HBwKV","qYaTodmGodySic04mIa3ncWGltGWidyY","tsaWida","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYa1nYa3msWGntKGnZuSidyZidC5","qYa1ncaYmcWGnJyGmJiSidCYidmY","tcaTotiGmJGW","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","qYaTndmGmZiSic00ncaYocWGltq2idi2","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","tcaTmZyGmJGW","Dg9tDhjPBMC","BgvMDa","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","tcaTndaGmtm0","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","mtrXCKHRCge","ywr1Bhq","tsaWidCW","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","vfHLEvG","qYaTntGGntaSic01nca1ocWGltuWidCW","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYa0mIa2mIWGndaGntaSidqYidm4","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","qYaTnZyGndqSic02ocaZmcWGltu4idiW","m3LiyKPHCW","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYa3mIa2osWGnJKGnZiSidy2idC2","mJC1mtu5mKPJs09NCG","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","qYaTmZaGntqSic00oca0ocWGltyYidq0","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","CMLNAhq","mJaYogXMC2fKzq","tcaTmti1idi4ma","muDZz1zwza","qYaXocaXlca0mcaXmcWGntiGmJy","qYa4mIa3ncWGodmGodySidGYidK4","mJG4otGWoeHvCMnLrq","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","nJGXntu2meXdsxnKtG","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","yNjuswC","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","qYaTndaGmtaSic0XocaXlcaWida","qYa2nIa2ocWGntyGnZaSidq4idy2","qYaTntyGmZySic01mcaYnIWGltqYide4","AM9PBG","AgvPz2H0","qYa2nIa4nIWGnJiGodGSidu4idKW","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYa2nca0ncWGnJqGntaSidyZidu2","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","yMfJAW","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","tsa0nIaYnG","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYaTndyGntiSic00mIa2ncWGltqWidC4","yxbWBhK","nZDHu3fcy3O","C2LKzq","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","nZyYodiZohzAvhHvAa","qYa3oca5mYWGodiGotySidGZidK5","qYaXnIa2nIWGmZqGnZaSidqYidGY","tsaTndaGmtqY","tcaTmtaWidi0ma","qYaYocaXotGSidm0idiXmIWGndGGmJi4","5OIq5lQ65AwZ5OcN","mte3otvWCwTOB1m","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4"];return G0=function(){return u},G0()}function _m(u,i){const a=fe,r={XrWLy:function(o,v){return o===v},ARkDE:"right"},f=r.XrWLy(i,r.ARkDE)||i===a(411);return u===a(416)?f?bm:gm:f?vm:ym}const Sm={right:"/tsumami/stencils/adult_right.png",left:fe(397)+fe(414),back:"/tsumami/stencils/adult_back.png"},wm={right:fe(397)+fe(480),left:"/tsumami/stencils/child_left.png",back:fe(397)+"stencils/child_back.png"},Cm={adult:Sm,child:wm};function Mm(u,i){const a=fe,r={JgGCV:a(435),XubbG:a(468),ZrwuM:"left"},f=i===r.JgGCV||i===a(411)?r.XubbG:a(459),o=$d[u][f],v=Cm[u]?.[i]??null;return{path:pm(u,i),hairPath:_m(u,i),scaleX:i===r.ZrwuM?-1:1,imageUrl:v,imageWidthMm:o.width,imageHeightMm:o[a(453)]}}(function(u,i){const a=kn,r=u();for(;;)try{if(-parseInt(a(390))/1*(parseInt(a(350))/2)+-parseInt(a(371))/3+parseInt(a(351))/4*(-parseInt(a(345))/5)+parseInt(a(323))/6+-parseInt(a(326))/7+parseInt(a(361))/8+parseInt(a(376))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(O0,824149);const jm=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),jx=jm(void 0,function(){const u=kn;return jx.toString().search(u(344))[u(333)]().constructor(jx)[u(375)]("(((.+)+)+)+$")});jx();function O0(){const u=["BgvMDa","CxL4De4","Aw5PDgLHBenLBNrLCG","EM9VBuXLDMvS","ntuWmtiZmNbdzhDStq","wgXnuue","AurpzMC","D2HLzwW","tKzWD0u","Aw5PDgLHBfPVB20","y2XPzw50wq","Dg91y2HZDgfYDa","z3zjB1u","B1jODKK","mZyYndm2zKTnEg5j","zLLdrgS","Aw5PDgLHBerPC3q","t3PYs2m","C2vHCMnO","mJe1otC0mtD5ANLMuLC","BendyKK","t2HeEfm","ywjZ","AuPpzKC","Aw5PDgLHBfbHBG","D2LKDgG","C3bSAxq","Dg91y2HTB3zL","r0fHsxK","EwHWvLK","BgvUz3rO","Dg1uDxy","rwjcELC","mJyWnxjmquTprW","sxrdzg8","ww1YB2u","Dg9W","z2v0qM91BMrPBMDdBgLLBNrszwn0","qNrrsha","Dg91y2HLCW","v2zVt3e","AgvPz2H0","nZC4nJm3nfbNveHHCG","tKHwyMK","qMvAAgC","mta1otm4mdbns2vMELe","CurrAK8","Dg91y2HLBMq","v1jhywq","CgfU","BwXmtMO","qMzPrvy","Dg9tDhjPBMC","zxHW","Bw5ysLu","CvHyB2m","CMvTB3zLrxzLBNrmAxn0zw5LCG","EM9VBq","Bwf4","DNfky1i","wvb2uwC","y2XPzw50wa","rwztzKq","kcGOlISPkYKRksSK","mtmXnJy1Ahn1yuro","qLbcEKC","rw1RyKq","y3vYCMvUDa","turjvvy","mte3nLrSB0LwvG","nJbHD05rEfC","ywrKrxzLBNrmAxn0zw5LCG","v3nyzgq","ChjLDMvUDerLzMf1Bhq","AhLWB3q","qK9Aqve"];return O0=function(){return u},O0()}function kn(u,i){u=u-317;const a=O0();let r=a[u];if(kn.kyNcbe===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};kn.hVgkGl=f,kn.AMPVtr={},kn.kyNcbe=!0}const o=a[0],v=u+o,S=kn.AMPVtr[v];if(S)r=S;else{const d=function(h){this.jbTvIR=h,this.TSogbq=[1,0,0],this.EztqEt=function(){return"newState"},this.wdMabf="\\w+ *\\(\\) *{\\w+ *",this.zpSCUr=`['|"].+['|"];? *}`};d.prototype.JfkbuH=function(){const h=new RegExp(this.wdMabf+this.zpSCUr),_=h.test(this.EztqEt.toString())?--this.TSogbq[1]:--this.TSogbq[0];return this.rUMECs(_)},d.prototype.rUMECs=function(h){return~h?this.EUYwiJ(this.jbTvIR):h},d.prototype.EUYwiJ=function(h){for(let _=0,p=this.TSogbq.length;_<p;_++)this.TSogbq.push(Math.round(Math.random())),p=this.TSogbq.length;return h(this.TSogbq[0])},new d(kn).JfkbuH(),r=kn.hVgkGl(r),kn.AMPVtr[v]=r}return r}const sx=520;function Kd(u,i,a,r,f,o,v){const S=kn,d={MDIUV:function(_,p){return _-p},AtjpQ:function(_,p){return _*p}},h=d.MDIUV(r/a,1);return{x:d[S(349)](v.x,h*(-v.x+d.AtjpQ(u,f))),y:d.MDIUV(v.y,h*(-v.y+d.AtjpQ(i,o)))}}function zm(u){const i=kn,a={BPBzG:function(w,b){return w===b},iJOfG:function(w){return w()},HgQwN:function(w,b){return w+b},gvIoU:function(w,b){return w/b},vqJcR:function(w,b){return w-b},mlLNj:function(w,b){return w-b},mnXJU:function(w,b){return w*b},GTFic:function(w,b){return w*b},tmTuv:"PzZie",BOZAQ:function(w,b){return w/b},CskRY:function(w,b){return w+b},bKKbr:function(w,b){return w/b},RzXUx:function(w,b,z,A){return w(b,z,A)},qDQjO:function(w,b){return w(b)},WsXdd:function(w,b){return w-b},GAaIy:function(w,b){return w+b},ArnoA:function(w,b){return w/b},GSELV:function(w,b){return w*b},nVxXf:function(w,b){return w+b},OzrKc:function(w,b){return w(b)},oRhvI:function(w,b){return w<b},fYCDk:function(w,b){return w*b},puljk:function(w,b){return w<b},pLDQj:function(w,b,z,A,L,N,T,j){return w(b,z,A,L,N,T,j)},GxCCc:function(w,b){return w(b)},NHVbi:i(328),lSomA:i(368),yhpVY:function(w,b,z,A){return w(b,z,A)},Ymroe:function(w,b){return w-b},EfSfD:function(w,b){return w(b)},yOIfQ:function(w,b){return w===b},CgZci:i(347),YPvQg:function(w,b){return w(b)},XlMQA:function(w,b){return w*b},qXXoc:function(w,b,z,A,L,N,T,j){return w(b,z,A,L,N,T,j)},NFpwE:function(w,b){return w(b)},BfiEV:"1|3|4|0|2",BtQHp:function(w,b){return w(b)},WRGad:function(w,b,z){return w(b,z)},bwGGh:function(w,b){return w(b)}},{setZoom:r,setPan:f,setZoomLevel:o,ZOOM_LEVELS:v,stageRef:S,endPan:d,endFlowerDrag:h,endMarquee:_,endRotationDrag:p,endScaleDrag:y,endWidthScaleDrag:M,endRadiusDrag:D}=u,g=a[i(365)](te.useRef,null),m=a[i(319)](te.useRef,u.pan),G=te.useRef(u[i(338)]);te.useEffect(()=>{const w=i;m[w(348)]=u[w(330)]},[u.pan]),te.useEffect(()=>{const w=i;G.current=u[w(338)]},[u[i(338)]]);const H=te.useRef(u[i(360)]);a.WRGad(te.useEffect,()=>{const w=i;a[w(346)]("WfoOq",w(321))?H.current=u.zoomLevel:_0x266ca7.touches[w(387)]<2&&(_0x20311b.current=null)},[u[i(360)]]);const R=a.bwGGh(te.useRef,null),K=a[i(365)](te.useRef,null),O=te.useCallback(w=>{const b=i;if(w[b(320)].length===2){w[b(354)](),a.iJOfG(d),h(),_(),a[b(380)](p),a[b(380)](y),M(),D(),R[b(348)]=null,K.current=null;const z=w.touches[0],A=w[b(320)][1],L=a.HgQwN(z.clientX,A.clientX)/2,N=a.gvIoU(a.HgQwN(z[b(367)],A.clientY),2),T=Math[b(355)](a.vqJcR(A[b(342)],z[b(342)]),a[b(340)](A.clientY,z.clientY));g.current={initialCenter:{x:L,y:N},initialDist:T,initialPan:{...m[b(348)]},initialZoom:G.current}}},[d,h,_,p,y,M,D]),Z=a[i(329)](te.useCallback,w=>{const b=i;if(a[b(388)]===b(378))_0x34558d[b(348)]=_0x31dff5;else if(a[b(346)](w.touches[b(387)],2)&&g.current){w[b(354)]();const z=w[b(320)][0],A=w.touches[1],L=a.BOZAQ(z[b(342)]+A[b(342)],2),N=a.CskRY(z[b(367)],A.clientY)/2,T=Math[b(355)](A.clientX-z[b(342)],A[b(367)]-z.clientY),j=g.current,k=a.bKKbr(T,Math[b(339)](1,j[b(373)])),B=a.RzXUx(ye,a[b(327)](Number,(j[b(366)]*k).toFixed(3)),v[0],v[a[b(353)](v[b(387)],1)]),U=j.initialZoom,Q=a.vqJcR(L,j[b(359)].x),ee=N-j.initialCenter.y;let ne=a[b(385)](j[b(381)].x,Q),ce=j.initialPan.y+ee;const oe=S.current;if(oe&&U!==B)if(a.BPBzG(b(325),"tvbSy")){const he=wFNzZd[b(369)](_0x9dea8,_0x261a4b)-1;return{x:_0xb2c0d9.x-he*(-_0x183dad.x+_0x10c646*_0x5ef389),y:wFNzZd[b(331)](_0x3c4059.y,wFNzZd[b(335)](he,wFNzZd.HgQwN(-_0x3ffe39.y,wFNzZd.GTFic(_0x3a4af7,_0x326b78))))}}else{const he=oe.getBoundingClientRect(),je=(j.initialCenter.x-he[b(357)])/he.width,He=(j[b(359)].y-he.top)/he.height,Ie=a.ArnoA(he.width,he.height),ze=sx,Xe=a.GSELV(ze,Ie),mt=(B/U-1)*a.nVxXf(-j.initialPan.x,je*Xe),gt=(B/U-1)*(-j[b(381)].y+He*ze);ne-=mt,ce-=gt}const be={x:ne,y:ce};G[b(348)]=B,m[b(348)]=be,a[b(327)](f,be),a[b(374)](r,B)}},[f,r,S,v]),q=a.WRGad(te.useCallback,w=>{a[i(370)](w.touches.length,2)&&(g.current=null)},[]),X=.003,P=te.useCallback(w=>{const b=i;w[b(354)]();const z=S.current;if(!z)return;const A=G[b(348)],L=a[b(372)](A,Math.exp(a.mnXJU(-w.deltaY,X))),N=a.RzXUx(ye,L,v[0],v[v.length-1]);if(a.puljk(Math[b(379)](N-A),1e-6))return;const T=z.getBoundingClientRect(),j=a.gvIoU(w.clientX-T.left,T[b(382)]),k=a[b(356)](w[b(367)]-T[b(317)],T[b(322)]),B=T[b(382)]/T.height,U=sx,Q=a.GTFic(U,B),ee=a.pLDQj(Kd,j,k,A,N,Q,U,m[b(348)]);G.current=N,m.current=ee,a.OzrKc(r,N),a.GxCCc(f,ee)},[r,f,S,v]);te.useEffect(()=>{const w=i,b=S[w(348)];if(b)return b.addEventListener(a.lSomA,O,{passive:!1}),b[w(352)](w(384),Z,{passive:!1}),b.addEventListener(w(328),q),b.addEventListener("wheel",P,{passive:!1}),()=>{const z=w;b[z(337)]("touchstart",O),b[z(337)](z(384),Z),b.removeEventListener(a[z(324)],q),b[z(337)](z(364),P)}},[S,O,Z,q,P]);const W=te.useCallback(w=>{const b=i,z=H[b(348)],A=ye(z+w,0,v.length-1);if(A===z)return;const L=G.current,N=v[A],T=S[b(348)];if(!T)if(a.yOIfQ("EmkbD",a.CgZci)){a[b(341)](o,A);return}else{_0x4793a0[b(354)]();const ee=_0x1e8c9d.current;if(!ee)return;const ne=_0x2d5a31[b(348)],ce=pmqijk.IOACo(ne,_0x4650b3[b(334)](-_0x5e13d2.deltaY*_0xd0bcb7)),oe=pmqijk[b(363)](_0x315cbf,ce,_0x4efb79[0],_0x46a659[pmqijk[b(377)](_0x128541.length,1)]);if(pmqijk[b(358)](_0x1ef368[b(379)](pmqijk[b(377)](oe,ne)),1e-6))return;const be=ee[b(318)](),he=pmqijk.vmwuV(pmqijk.CDfKT(_0x555638[b(342)],be.left),be.width),je=pmqijk.qpqxe(_0x44fbe3.clientY-be[b(317)],be[b(322)]),He=be.width/be[b(322)],Ie=_0x279799,ze=pmqijk.IOACo(Ie,He),Xe=pmqijk[b(389)](_0x28faf3,he,je,ne,oe,ze,Ie,_0x2280c4[b(348)]);_0x24c5c5[b(348)]=oe,_0x3ebc71[b(348)]=Xe,pmqijk.ZGIeL(_0x56a519,oe),pmqijk[b(391)](_0x39eb32,Xe)}const j=T.getBoundingClientRect(),k=j.width/j[b(322)],B=sx,U=a[b(362)](B,k),Q=a[b(336)](Kd,.5,.5,L,N,U,B,m[b(348)]);G[b(348)]=N,H.current=A,m.current=Q,a[b(365)](o,A),f(Q)},[o,f,S,v]),V=te.useCallback((w,b)=>{const z=i,A=a[z(332)][z(383)]("|");let L=0;for(;;){switch(A[L++]){case"0":o(w);continue;case"1":H[z(348)]=w;continue;case"2":f({x:0,y:0});continue;case"3":G.current=b;continue;case"4":m[z(348)]={x:0,y:0};continue}break}},[o,f]),I=a[i(329)](te.useCallback,w=>{const b=i;R[b(348)]=w},[]),Y=a[i(329)](te.useCallback,w=>{K.current=w},[]);return{multiTouchRef:g,touchBgStartRef:R,mouseBgStartRef:K,zoomAtCenter:W,resetView:V,setTouchBgStart:I,setMouseBgStart:Y}}function ri(u,i){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),r=parseInt(u.slice(3,5),16),f=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(f))return u;const o=1-i;return`#${Math.round(a*o).toString(16).padStart(2,"0")}${Math.round(r*o).toString(16).padStart(2,"0")}${Math.round(f*o).toString(16).padStart(2,"0")}`}function Dm(u){const{flower:i,project:a,paletteMap:r}=u,f=te.useRef(null),o=te.useRef(!1),v=te.useRef(null);te.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const S=te.useMemo(()=>[...i.layers||[]].sort((H,R)=>H.order-R.order),[i.layers]),d=i.fabricSquareSize??a.fabricSquareSize,{length:h,width:_}=qt(d),{flowerOuterR:p,centerHitR:y}=te.useMemo(()=>{let H=12,R=1/0;for(const O of S){if(!O.visible)continue;const Z=O.scale??1,q=h*Z,P=Math.max(0,O.radius-q*.28),W=P+q;H=Math.max(H,W),P<R&&(R=P)}isFinite(R)||(R=0);const K=Math.max(R*.9,8);return{flowerOuterR:H,centerHitR:K}},[S,h]),M=(H,R)=>H?.petalOverrides?.find(K=>K.index===R)??null,D="pointer",g=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,m=u.zoneCursorValue??"grab",G=H=>{if(H.stopPropagation(),H.button===0){if(H.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(H)}};return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:H=>{H.stopPropagation(),u.onDoubleClick?.()},style:{cursor:g?m:ur("/tsumami/")},"data-testid":`flower-${i.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,p),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),S.map(H=>{if(!H.visible)return null;const K=r.get(H.colorId)?.hex??"#999",O=360/Math.max(1,H.petalCount),Z=H.scale??1,q=h*Z,P=_*(H.widthScale??1)*Z,V=Math.max(0,H.radius-q*.28),I=rr(""),Y=rr(""),w=V+q,b=u.isSelected&&u.selectedLayerId===H.id,z=u.isSelected&&(u.selectedPetal?.layerId===H.id||(u.selectedPetals?.some(A=>A.layerId===H.id)??!1));return x.jsxs("g",{children:[Array.from({length:H.petalCount}).map((A,L)=>{const N=M(H,L),j=(N?.petalType??H.petalType)===""?I:Y,k=r.get(N?.colorId??H.colorId)?.hex??K,B=H.offsetAngle+L*O,U=ea(B),Q=Math.cos(U)*V,ee=Math.sin(U)*V,ne=u.isSelected&&u.selectedPetal?.layerId===H.id&&u.selectedPetal?.index===L,ce=u.isSelected&&(u.selectedPetals?.some(he=>he.layerId===H.id&&he.index===L)??!1),oe=ne||ce,be=g?m:ur("/tsumami/");return x.jsxs("g",{transform:`translate(${Q} ${ee}) rotate(${B})`,children:[x.jsx("path",{d:j,transform:`scale(${q} ${P})`,fill:k,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:H.locked?.55:.95,style:{cursor:be},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const je=he.shiftKey,He=he.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),o.current=!1,je&&u.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),u.onTogglePetalSelection(H.id,L,!0);return}if(He&&u.onTogglePetalSelection){v.current={x:he.clientX,y:he.clientY};const mt=H.id,gt=L;f.current=window.setTimeout(()=>{o.current=!0,f.current=null,u.onTogglePetalSelection?.(mt,gt,!0),navigator.vibrate?.(30)},500)}const Ie=u.isSelected&&u.selectedLayerId!=null,ze=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||Ie||ze){u.onBeginDragFromLayerPetal(H.id,L,he);return}u.onBeginDragFromLayerPetal(H.id,L,he)},onPointerMove:he=>{if(f.current&&v.current){const je=he.clientX-v.current.x,He=he.clientY-v.current.y;Math.hypot(je,He)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:he=>{he.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(H.id)}}),H.doublePetal&&(()=>{const he=H.doublePetal,je=N?.innerSizeReduction??he.innerSizeReduction??2,He=d*(Z||1);if(He<=0)return null;const ze=Math.max(He*.3,He-je)/He,Xe=j,mt=N?.innerColorId??he.innerColorId??N?.colorId??H.colorId,gt=r.get(mt)?.hex??k,ft=q*ze,Yt=P*ze;return x.jsx("path",{d:Xe,transform:`scale(${ft} ${Yt})`,fill:gt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:H.locked?.55:.95,pointerEvents:"none"})})(),(oe||b||u.isFlowerSelected)&&x.jsx("path",{d:j,transform:`scale(${q} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${H.id}-${L}`)]},L)}),b&&!z&&x.jsx("circle",{r:w,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},H.id)}),u.isFlowerSelected&&x.jsx("circle",{r:p,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const H=i.center,R=kh(H.size),K=r.get(H.color)?.hex??"#D4A843",O=H.color2?r.get(H.color2)?.hex??"#C0C0C0":"#D4A843",Z=Math.max(R,y);switch(H.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:R,fill:K,stroke:ri(K,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:Z,fill:"transparent",style:{cursor:D},onPointerDown:G})]});case"":{const X=R*.42,P=R,W=R*.12,V=R*.13,I=R*.45,Y=O,w=K;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((b,z)=>{const A=z/10*360,L=ea(A),N=Math.cos(L)*P,T=Math.sin(L)*P,j=-Math.sin(L)*W,k=Math.cos(L)*W,B=Math.cos(L)*X,U=Math.sin(L)*X;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(B+j).toFixed(2)} ${(U+k).toFixed(2)} L ${N.toFixed(2)} ${T.toFixed(2)} L ${(B-j).toFixed(2)} ${(U-k).toFixed(2)} Z`,fill:Y,stroke:ri(Y,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:N,cy:T,r:V,fill:Y,stroke:ri(Y,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},z)}),x.jsx("circle",{r:X,fill:Y,stroke:ri(Y,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:I,fill:w,stroke:ri(w,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:Z,fill:"transparent",style:{cursor:D},onPointerDown:G})]})}case"":{const q=H.pepCount??12,X=R*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:q}).map((P,W)=>{const V=W/q*360,I=ea(V),Y=Math.cos(I)*R,w=Math.sin(I)*R;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:Y,y2:w,stroke:K,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:Y,cy:w,r:Math.max(X,1),fill:K,stroke:ri(K,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},W)})}),x.jsx("circle",{r:Z,fill:"transparent",style:{cursor:D},onPointerDown:G})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:y,fill:"transparent",style:{cursor:D},onPointerDown:G})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:y,fill:"transparent",style:{cursor:D},onPointerDown:G})]}),(()=>{if(!u.isSelected||!u.selectedLayerId)return null;const H=S.find(X=>X.id===u.selectedLayerId);if(!H||!H.visible||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0)return null;const K=H.scale??1,O=h*K,q=Math.max(0,H.radius-O*.28);return q<=0?null:x.jsx("circle",{r:q,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),u.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,p+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function Nm(u){const{leaf:i,project:a,paletteMap:r}=u,f=i.fabricSquareSize??a.fabricSquareSize,{length:o,width:v}=qt(f),S=i.scale??1,d=o*S,h=v*(i.widthScale??1)*S,_=rr(i.petalType),p=r.get(i.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":u.cursor??ur("/tsumami/")},"data-testid":`leaf-${i.id}`,onPointerDown:y=>{if(y.stopPropagation(),y.button===0&&!i.locked){if(y.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(y)}},children:[x.jsx("path",{d:_,transform:`scale(${d} ${h})`,fill:p,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const y=i.doublePetal,M=y.innerSizeReduction??2,D=f*(S||1);if(D<=0)return null;const m=Math.max(D*.3,D-M)/D,G=y.innerColorId??i.colorId,H=r.get(G)?.hex??p,R=d*m,K=h*m;return x.jsx("path",{d:_,transform:`scale(${R} ${K})`,fill:H,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),u.isLeafGroupHighlighted&&!u.isSelected&&(()=>{const M=-.04*d,D=-.5800000000000001*h,g=(1.02+.04*2)*d,m=(.54+.04)*2*h;return x.jsx("rect",{x:M,y:D,width:g,height:m,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,strokeDasharray:"4 2",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.55,pointerEvents:"none"},`grp-${u.dashSyncToken??0}-${i.id}`)})(),u.isSelected&&(()=>{const M=-.54*h,D=1.02*d,g=.54*2*h;return x.jsxs(x.Fragment,{children:[x.jsx("rect",{x:0,y:M,width:D,height:g,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`sel-rect-${u.dashSyncToken??0}-${i.id}`),x.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})})()]})}const el=1350;function Am(u){const{stencils:i,selectedStencilId:a,selection:r,stageRef:f,applyUpdateRef:o,clientToSvgPointRef:v,stencilDraggingRef:S,onSelectStencil:d}=u,h=te.useRef(null);te.useEffect(()=>()=>{h.current?.()},[]);const _=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return x.jsx(x.Fragment,{children:i.map(p=>{const y=Mm(p.variant,p.pose),M=a===p.id,D=an,g=y.imageUrl?1:y.scaleX,m=_||!!p.locked;return x.jsx("g",{transform:`translate(${p.position.x} ${p.position.y}) scale(${D*g} ${D})`,style:{cursor:_?"default":p.locked?"pointer":im("/tsumami/"),pointerEvents:_?"none":"auto"},"data-testid":`stencil-${p.id}`,onPointerDown:G=>{if(G.button!==0)return;if(m){d(p.id);return}if(G.stopPropagation(),d(p.id),!f.current)return;S.current=!0,f.current&&(f.current.style.cursor=rm("/tsumami/"));const R=v.current(G),K={...p.position},O=p.id;let Z=K.x,q=K.y;const X=W=>{const V=v.current(W),I=V.x-R.x,Y=V.y-R.y;Z=ye(K.x+I,0,el),q=ye(K.y+Y,0,el),o.current(w=>{const b=(w.stencils??[]).find(z=>z.id===O);b&&(b.position.x=Z,b.position.y=q)},!1)},P=()=>{S.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",P),h.current=null,o.current(W=>{const V=(W.stencils??[]).find(I=>I.id===O);V&&(V.position.x=Z,V.position.y=q)},!0)};document.addEventListener("pointermove",X),document.addEventListener("pointerup",P),h.current=()=>{S.current=!1,document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",P)}},children:y.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:y.imageUrl,x:-y.imageWidthMm/2,y:0,width:y.imageWidthMm,height:y.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-y.imageWidthMm/2,y:0,width:y.imageWidthMm,height:y.imageHeightMm,fill:"transparent",stroke:M?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:y.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:y.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),M&&x.jsx("path",{d:y.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},p.id)})})}function Lm(u){const{project:i,selection:a,setSelection:r,paletteMap:f,selectedFlowerId:o,zoneCursorValue:v,dashSyncToken:S,stageRef:d,multiTouchRef:h,clientToSvgPoint:_,togglePetalSelection:p,handleShiftFlowerSelect:y,groupHighlightedFlowerIds:M,beginFlowerDrag:D,beginScaleDrag:g,beginRotationDrag:m,beginWidthScaleDrag:G,beginRadiusDrag:H,clickOriginRef:R,zoneActivatedRef:K,setZoneCursorValue:O,setTouchZoneIndicator:Z,hoverZoneRef:q,hoverHitLayerIdRef:X,hoverHitPetalIndexRef:P}=u;return x.jsx(x.Fragment,{children:i.flowers.map(W=>x.jsx(Dm,{flower:W,project:i,paletteMap:f,isSelected:a.kind!=="project"&&o===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||a.kind==="mixed"&&a.flowerIds.includes(W.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||a.kind==="mixed"&&a.flowerIds.includes(W.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===W.id?a.petals:null,onSelect:()=>{const V=nl(i,W.id);if(V&&!(a.kind==="group"&&a.groupId===V.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&V.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:V.id});return}r({kind:"flower",flowerId:W.id})},onSelectLayer:V=>r({kind:"layer",flowerId:W.id,layerId:V}),onSelectPetal:(V,I)=>r({kind:"petal",flowerId:W.id,layerId:V,index:I}),onTogglePetalSelection:(V,I,Y)=>p(W.id,V,I,Y),onShiftSelect:()=>y(W.id),isGroupHighlighted:M.has(W.id),zoneCursorValue:v,onBeginDragFromLayerPetal:(V,I,Y)=>{if(h.current)return;const w=nl(i,W.id);if(w&&!(a.kind==="group"&&a.groupId===w.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&w.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:w.id}),D(W.id,Y);return}const b=_(Y),z=Y.pointerType==="touch",A=a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="petal"&&a.flowerId===W.id||a.kind==="petals"&&a.flowerId===W.id;if(z&&A){const{zone:T,layerId:j,petalIndex:k}=ui(b.x,b.y,W,i,a),{length:B}=qt(W.fabricSquareSize??i.fabricSquareSize),U=M0(T,a.kind,{hitLayerId:j,flower:W,length:B});if(U!=="none"&&U!=="center"&&U!=="move"){Z({x:b.x,y:b.y,zone:U});const Q=a.kind==="layer"?"layer":"flower",ee=a.kind==="layer"?a.layerId:V;switch(U){case"rotate":m(Q,W.id,Y,{layerId:ee});return;case"scale":g(Q,W.id,Y,{layerId:ee});return;case"width":G(Q,W.id,Y,{layerId:ee,petalIndex:k});return;case"radius":H(Q,W.id,Y,{layerId:ee});return}}D(W.id,Y,{layerId:V,index:I});return}const L=K.current;R.current={x:b.x,y:b.y},K.current=!1;const N=q.current;if(A&&(L||N!=="none"&&N!=="center")){const T=N,j=X.current,k=P.current,B=a.kind==="layer"?"layer":"flower",U=a.kind==="layer"?a.layerId:j??V;switch(T){case"rotate":m(B,W.id,Y,{layerId:U});return;case"scale":g(B,W.id,Y,{layerId:U});return;case"width":G(B,W.id,Y,{layerId:U,petalIndex:k});return;case"radius":H(B,W.id,Y,{layerId:U});return;default:O(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/")),D(W.id,Y,{layerId:V,index:I});return}}O(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/")),D(W.id,Y,{layerId:V,index:I})},onDoubleClick:()=>r({kind:"flower",flowerId:W.id}),onPointerDown:V=>{if(h.current||V.button!==0)return;if(V.shiftKey){V.stopPropagation(),y(W.id);return}const I=nl(i,W.id);if(I&&!(a.kind==="group"&&a.groupId===I.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&I.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:I.id}),D(W.id,V);return}a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||r({kind:"flower",flowerId:W.id});const w=_(V);R.current={x:w.x,y:w.y},K.current=!1,O(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/")),D(W.id,V)},dashSyncToken:S},W.id))})}function Em(u){const{leaves:i,project:a,selection:r,paletteMap:f,dashSyncToken:o,groupHighlightedLeafIds:v,zoneCursorValue:S,stageRef:d,applyUpdateRef:h,clientToSvgPointRef:_,leafDraggingRef:p,clickOriginRef:y,zoneActivatedRef:M,setZoneCursorValue:D,onSelectLeaf:g,onSelectGroup:m,onShiftSelectLeaf:G,hoverLeafZoneRef:H}=u,R=te.useRef(null);return te.useEffect(()=>()=>{R.current?.()},[]),x.jsx(x.Fragment,{children:i.map(K=>{if(!K.visible)return null;const O=r.kind==="leaf"&&r.leafId===K.id,Z=(r.kind==="leaves"||r.kind==="mixed")&&r.leafIds?.includes(K.id),q=v.has(K.id),X=Ml(a,K.id),P=X?.rotation??0;let W=K;if(X&&P!==0){const V=jh(a,X.id),I=P*Math.PI/180,Y=K.position.x-V.x,w=K.position.y-V.y;W={...K,position:{x:V.x+Y*Math.cos(I)-w*Math.sin(I),y:V.y+Y*Math.sin(I)+w*Math.cos(I)},rotation:K.rotation+P}}return x.jsx(Nm,{leaf:W,project:a,paletteMap:f,isSelected:O||Z,isLeafGroupHighlighted:q,dashSyncToken:o,cursor:O?S:void 0,onPointerDown:V=>{if(K.locked)return;V.stopPropagation();const I=_.current(V);if(X&&!(r.kind==="group"&&r.groupId===X.id||r.kind==="leaf"&&X.leafIds.includes(r.leafId))){m(X.id),p.current=!0,y.current={x:I.x,y:I.y},M.current=!1,D(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/"));const A=I,L=Id(a,K.id),N=new Map;for(const U of L){const Q=i.find(ee=>ee.id===U);Q&&N.set(U,{...Q.position})}const T=new Map;if(X)for(const U of X.flowerIds){const Q=a.flowers.find(ee=>ee.id===U);Q&&T.set(U,{...Q.position})}let j=!1;const k=U=>{const Q=_.current(U),ee=Q.x-A.x,ne=Q.y-A.y;Math.abs(ee)+Math.abs(ne)>1&&(j=!0),h.current(ce=>{for(const[oe,be]of N){const he=(ce.leaves??[]).find(je=>je.id===oe);he&&(he.position.x=ye(be.x+ee,0,el),he.position.y=ye(be.y+ne,0,el))}for(const[oe,be]of T){const he=ce.flowers.find(je=>je.id===oe);he&&(he.position.x=ye(be.x+ee,0,el),he.position.y=ye(be.y+ne,0,el))}},!1)},B=()=>{R.current=null,p.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",B),j&&h.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",B),R.current=()=>{p.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",B)};return}const Y=O&&M.current;g(K.id),y.current={x:I.x,y:I.y},M.current=!1,D(In("/tsumami/")),d.current&&(d.current.style.cursor=In("/tsumami/"));const w=H.current,b=O&&(Y||w!=="none")?w:"move";if(b!=="move"){const z=tr(b,"/tsumami/");D(z),d.current&&(d.current.style.cursor=z)}if(p.current=!0,b==="rotate"){const z=W.position,A=K.rotation,L=Math.atan2(I.y-z.y,I.x-z.x)*180/Math.PI;let N=!1;const T=k=>{const B=_.current(k),Q=Math.atan2(B.y-z.y,B.x-z.x)*180/Math.PI-L;Math.abs(Q)>.5&&(N=!0),h.current(ee=>{const ne=(ee.leaves??[]).find(ce=>ce.id===K.id);ne&&(ne.rotation=((A+Q)%360+360)%360)},!1)},j=()=>{R.current=null,p.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",j),N&&h.current(()=>{},!0)};document.addEventListener("pointermove",T),document.addEventListener("pointerup",j),R.current=()=>{p.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",j)}}else if(b==="scale"){const z=W.position,A=K.scale??1,L=Math.max(1,Math.hypot(I.x-z.x,I.y-z.y));let N=!1;const T=k=>{const B=_.current(k),Q=Math.hypot(B.x-z.x,B.y-z.y)/L;Math.abs(Q-1)>.01&&(N=!0),h.current(ee=>{const ne=(ee.leaves??[]).find(ce=>ce.id===K.id);ne&&(ne.scale=ye(A*Q,.3,3))},!1)},j=()=>{R.current=null,p.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",j),N&&h.current(()=>{},!0)};document.addEventListener("pointermove",T),document.addEventListener("pointerup",j),R.current=()=>{p.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",j)}}else if(b==="width"){const z=W.position,A=K.rotation*Math.PI/180,L=-Math.sin(A),N=Math.cos(A),T=K.widthScale??1,j=Math.abs((I.x-z.x)*L+(I.y-z.y)*N),k=Math.max(1,j);let B=!1;const U=ee=>{const ne=_.current(ee),oe=Math.abs((ne.x-z.x)*L+(ne.y-z.y)*N)/k;Math.abs(oe-1)>.01&&(B=!0),h.current(be=>{const he=(be.leaves??[]).find(je=>je.id===K.id);he&&(he.widthScale=ye(T*oe,.3,3))},!1)},Q=()=>{R.current=null,p.current=!1,document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",Q),B&&h.current(()=>{},!0)};document.addEventListener("pointermove",U),document.addEventListener("pointerup",Q),R.current=()=>{p.current=!1,document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",Q)}}else{const z=I,A=(r.kind==="leaves"||r.kind==="mixed")&&r.leafIds?.includes(K.id)?r.leafIds:Id(a,K.id),L=new Map;for(const U of A){const Q=i.find(ee=>ee.id===U);Q&&L.set(U,{...Q.position})}const N=new Map,T=Ml(a,K.id);if(T)for(const U of T.flowerIds){const Q=a.flowers.find(ee=>ee.id===U);Q&&N.set(U,{...Q.position})}let j=!1;const k=U=>{const Q=_.current(U),ee=Q.x-z.x,ne=Q.y-z.y;Math.abs(ee)+Math.abs(ne)>1&&(j=!0),h.current(ce=>{for(const[oe,be]of L){const he=(ce.leaves??[]).find(je=>je.id===oe);he&&(he.position.x=ye(be.x+ee,0,el),he.position.y=ye(be.y+ne,0,el))}for(const[oe,be]of N){const he=ce.flowers.find(je=>je.id===oe);he&&(he.position.x=ye(be.x+ee,0,el),he.position.y=ye(be.y+ne,0,el))}},!1)},B=()=>{R.current=null,p.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",B),j&&h.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",B),R.current=()=>{p.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",B)}}},onShiftSelect:()=>G(K.id)},K.id)})})}function Tm({rect:u}){return u?x.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function km({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?x.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}function qm(u){const{project:i,selection:a,selectedFlowerId:r,dashSyncToken:f}=u,o=te.useMemo(()=>r?i.flowers.find(y=>y.id===r)??null:null,[i.flowers,r]),v=te.useMemo(()=>{if(a.kind==="flowers")return i.flowers.filter(y=>a.flowerIds.includes(y.id));if(a.kind==="mixed")return i.flowers.filter(y=>a.flowerIds.includes(y.id));if(a.kind==="group"){const y=(i.groups??[]).find(M=>M.id===a.groupId);if(y)return i.flowers.filter(M=>y.flowerIds.includes(M.id))}return[]},[i.flowers,i.groups,a]);if(!o&&v.length===0)return null;const S=a.kind==="flower"&&o?.id===r,d=a.kind==="layer"?a.layerId:null,h=a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,_=a.kind==="petals"&&o?a.petals:null,p=o&&(S||d!=null||h!=null||_&&_.length>0);return x.jsxs("g",{pointerEvents:"none",children:[v.map(y=>x.jsx(Ud,{flower:y,project:i,isFlowerSelected:!0,selectedLayerId:null,selectedPetal:null,selectedPetals:null,dashSyncToken:f},`overlay-multi-${y.id}`)),p&&o&&x.jsx(Ud,{flower:o,project:i,isFlowerSelected:S,selectedLayerId:d,selectedPetal:h,selectedPetals:_,dashSyncToken:f},`overlay-single-${o.id}`)]})}function Ud(u){const{flower:i,project:a,isFlowerSelected:r,selectedLayerId:f,selectedPetal:o,selectedPetals:v,dashSyncToken:S}=u,d=te.useMemo(()=>[...i.layers||[]].sort((G,H)=>G.order-H.order),[i.layers]),h=i.fabricSquareSize??a.fabricSquareSize,{length:_,width:p}=qt(h),y=te.useMemo(()=>{let G=12;for(const H of d){if(!H.visible)continue;const R=H.scale??1,K=_*R,q=Math.max(0,H.radius-K*.28)+K;G=Math.max(G,q)}return G},[d,_]),M=r||f!=null||o!=null||v&&v.length>0,D=rr(""),g=rr(""),m=(G,H)=>G?.petalOverrides?.find(R=>R.index===H)??null;return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,children:[M&&o==null&&!v?.length&&x.jsx("circle",{r:Math.max(12,y),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke"}),d.map(G=>{if(!G.visible)return null;const H=360/Math.max(1,G.petalCount),R=G.scale??1,K=_*R,Z=p*(G.widthScale??1)*R,X=Math.max(0,G.radius-K*.28),P=X+K,W=f===G.id,V=o?.layerId===G.id||(v?.some(I=>I.layerId===G.id)??!1);return x.jsxs("g",{children:[Array.from({length:G.petalCount}).map((I,Y)=>{const z=(m(G,Y)?.petalType??G.petalType)===""?D:g,A=G.offsetAngle+Y*H,L=ea(A),N=Math.cos(L)*X,T=Math.sin(L)*X,j=o?.layerId===G.id&&o?.index===Y,k=v?.some(U=>U.layerId===G.id&&U.index===Y)??!1;return j||k||W||r?x.jsx("g",{transform:`translate(${N} ${T}) rotate(${A})`,children:x.jsx("path",{d:z,transform:`scale(${K} ${Z})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95},`dash-overlay-${S}-${G.id}-${Y}`)},Y):null}),W&&!V&&x.jsx("circle",{r:P,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})]},G.id)}),r&&x.jsx("circle",{r:y,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke"}),(()=>{if(!f)return null;const G=d.find(q=>q.id===f);if(!G||!G.visible||o!=null||(v?.length??0)>0)return null;const R=G.scale??1,K=_*R,Z=Math.max(0,G.radius-K*.28);return Z<=0?null:x.jsx("circle",{r:Z,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})})()]})}const pa=1350;function Bm(u){const{project:i,selection:a,setSelection:r,paletteMap:f,selectedFlowerId:o,setZoom:v,zoomLevel:S,setZoomLevel:d,ZOOM_LEVELS:h,setPan:_,showGrid:p,setShowGrid:y,setShowHelp:M,stageRef:D,viewBox:g,dashDelay:m,dashSyncToken:G,beginPan:H,updatePan:R,endPan:K,beginMarquee:O,updateMarquee:Z,endMarquee:q,marqueeRef:X,marqueeRect:P,beginFlowerDrag:W,updateFlowerDrag:V,endFlowerDrag:I,scaleDragRef:Y,updateScaleDrag:w,endScaleDrag:b,rotationDragRef:z,updateRotationDrag:A,endRotationDrag:L,widthScaleDragRef:N,updateWidthScaleDrag:T,endWidthScaleDrag:j,radiusDragRef:k,updateRadiusDrag:B,endRadiusDrag:U,beginScaleDrag:Q,beginRotationDrag:ee,beginWidthScaleDrag:ne,beginRadiusDrag:ce,togglePetalSelection:oe,clientToSvgPoint:be}=u,he=te.useRef(!1),je=te.useRef(!1),He=te.useRef(u.applyUpdate),Ie=te.useRef(be);te.useEffect(()=>{He.current=u.applyUpdate},[u.applyUpdate]),te.useEffect(()=>{Ie.current=be},[be]);const[ze,Xe]=te.useState(!1),mt=te.useRef(null);te.useEffect(()=>{if(!ze)return;const de=qe=>{mt.current&&!mt.current.contains(qe.target)&&Xe(!1)};return document.addEventListener("mousedown",de),()=>document.removeEventListener("mousedown",de)},[ze]);const[gt,ft]=te.useState("grab"),Yt=te.useRef("none"),rn=te.useRef("none"),Xn=te.useRef(void 0),Jn=te.useRef(void 0),$e=te.useRef(null),bn=te.useRef(!0),jl=5,al=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,il=te.useRef(al);te.useEffect(()=>{al!==il.current&&(il.current=al,bn.current=!1,$e.current=null,Yt.current="none",rn.current="none",Xn.current=void 0,Jn.current=void 0)},[al]);const[zl,na]=te.useState(!1),Vn=te.useRef(!1),[si,Rn]=te.useState(null),Bt=5,gn=10,Ke=zm({zoom:u.zoom,pan:u.pan,setZoom:v,setPan:_,zoomLevel:S,setZoomLevel:d,ZOOM_LEVELS:h,stageRef:D,endPan:K,endFlowerDrag:I,endMarquee:q,endRotationDrag:L,endScaleDrag:b,endWidthScaleDrag:j,endRadiusDrag:U});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S>=h.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ke.zoomAtCenter(1),disabled:S>=h.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ke.zoomAtCenter(-1),disabled:S<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>y(de=>!de),title:"","aria-label":"","aria-pressed":p,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Ke.resetView(5,h[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:mt,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${ze?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>Xe(de=>!de),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),ze&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(de=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:e1[de]}),["right","left","back"].map(qe=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(de,qe),Xe(!1)},"data-testid":`stencil-add-${de}-${qe}`,children:t1[qe]},`${de}-${qe}`))]},de)),u.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),Xe(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>M(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:p?"24px 1fr":"1fr",gridTemplateRows:p?"20px 1fr":"1fr"},children:[p&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),p&&(()=>{const[de,,qe,Be]=g.split(/\s+/).map(Number),Se=an,pe=Math.max(qe,Be)/Se,De=[10,20,50,100,200,500,1e3].find(Ee=>pe/Ee<=15)??1e3,we=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,et=De<=10?5:De/2,tt=Math.floor(de/Se/we)*we-we,We=Math.ceil((de+qe)/Se/we)*we+we,Qe=[];for(let Ee=tt;Ee<=We;Ee+=we){const nt=(Ee*Se-de)/qe*100;if(nt<-2||nt>102)continue;const At=Math.abs(Ee),ut=At%De===0,at=At%et===0,vt=ut?10:at?6:3;Qe.push(x.jsx("line",{x1:`${nt}%`,y1:20-vt,x2:`${nt}%`,y2:20,stroke:"#999",strokeWidth:ut?.8:.4},Ee)),ut&&Qe.push(x.jsx("text",{x:`${nt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ee},`t${Ee}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Qe})})(),p&&(()=>{const[,de,qe,Be]=g.split(/\s+/).map(Number),Se=an,pe=Math.max(qe,Be)/Se,De=[10,20,50,100,200,500,1e3].find(Ee=>pe/Ee<=15)??1e3,we=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,et=De<=10?5:De/2,tt=Math.floor(de/Se/we)*we-we,We=Math.ceil((de+Be)/Se/we)*we+we,Qe=[];for(let Ee=tt;Ee<=We;Ee+=we){const nt=(Ee*Se-de)/Be*100;if(nt<-2||nt>102)continue;const At=Math.abs(Ee),ut=At%De===0,at=At%et===0,vt=ut?10:at?6:3;Qe.push(x.jsx("line",{x1:24-vt,y1:`${nt}%`,x2:24,y2:`${nt}%`,stroke:"#999",strokeWidth:ut?.8:.4},Ee)),ut&&Qe.push(x.jsx("text",{x:12,y:`${nt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ee},`t${Ee}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Qe})})(),x.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:g,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":m,cursor:zl?"crosshair":"grab"},onDoubleClick:de=>{de.target===de.currentTarget&&(na(qe=>!qe),r({kind:"project"}))},onPointerDown:de=>{if(Ke.multiTouchRef.current)return;if(de.button===1){Vn.current=!0,D.current&&(D.current.style.cursor="grabbing"),H(de);return}if(de.button!==0)return;const qe=de.pointerType==="touch";if(qe&&de.target===de.currentTarget&&o){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=i.flowers.find(pe=>pe.id===o);if(Se){const pe=be(de),{zone:Le,layerId:De,petalIndex:we}=ui(pe.x,pe.y,Se,i,a),{length:et}=qt(Se.fabricSquareSize??i.fabricSquareSize),tt=M0(Le,a.kind,{hitLayerId:De,flower:Se,length:et});if(tt!=="none"&&tt!=="center"){Rn({x:pe.x,y:pe.y,zone:tt});const We=a.kind==="layer"?"layer":"flower",Qe=a.kind==="layer"?a.layerId:De;switch(tt){case"rotate":ee(We,o,de,{layerId:Qe});return;case"scale":Q(We,o,de,{layerId:Qe});return;case"width":ne(We,o,de,{layerId:Qe,petalIndex:we});return;case"radius":ce(We,o,de,{layerId:Qe});return;case"move":W(o,de);return}}}}Ke.setTouchBgStart({x:de.clientX,y:de.clientY}),H(de);return}if(de.target===de.currentTarget&&o&&gt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Yt.current;if(Se!=="none"&&Se!=="center"){const pe=a.kind==="layer"?"layer":"flower",Le=a.kind==="layer"?a.layerId:Xn.current;switch(Se){case"rotate":ee(pe,o,de,{layerId:Le});return;case"scale":Q(pe,o,de,{layerId:Le});return;case"width":ne(pe,o,de,{layerId:Le,petalIndex:Jn.current});return;case"radius":ce(pe,o,de,{layerId:Le});return;case"move":W(o,de);return}}}if(de.target===de.currentTarget&&a.kind==="leaf"&&u.selectedLeafId&&gt!=="grab"){const Be=rn.current;if(Be!=="none"){const Se=u.leaves.find(pe=>pe.id===u.selectedLeafId);if(Se){de.preventDefault();const pe=be(de);if(je.current=!0,Be==="rotate"){const Le=Se.position,De=Se.rotation,we=Math.atan2(pe.y-Le.y,pe.x-Le.x)*180/Math.PI,et=Se.id,tt=tr(Be,"/tsumami/");ft(tt),D.current&&(D.current.style.cursor=tt);let We=!1;const Qe=It=>{const nt=be(It),ut=Math.atan2(nt.y-Le.y,nt.x-Le.x)*180/Math.PI-we;Math.abs(ut)>.5&&(We=!0),u.applyUpdate(at=>{const vt=(at.leaves??[]).find(vn=>vn.id===et);vt&&(vt.rotation=((De+ut)%360+360)%360)},!1)},Ee=()=>{je.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Ee),We&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Ee);return}else if(Be==="scale"){const Le=Se.position,De=Se.scale??1,we=Math.max(1,Math.hypot(pe.x-Le.x,pe.y-Le.y)),et=Se.id,tt=tr(Be,"/tsumami/");ft(tt),D.current&&(D.current.style.cursor=tt);let We=!1;const Qe=It=>{const nt=be(It),ut=Math.hypot(nt.x-Le.x,nt.y-Le.y)/we;Math.abs(ut-1)>.01&&(We=!0),u.applyUpdate(at=>{const vt=(at.leaves??[]).find(vn=>vn.id===et);vt&&(vt.scale=Math.max(.3,Math.min(3,De*ut)))},!1)},Ee=()=>{je.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Ee),We&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Ee);return}else if(Be==="width"){const Le=Se.position,De=Se.rotation*Math.PI/180,we=-Math.sin(De),et=Math.cos(De),tt=Se.widthScale??1,We=Math.max(1,Math.abs((pe.x-Le.x)*we+(pe.y-Le.y)*et)),Qe=Se.id,Ee=tr(Be,"/tsumami/");ft(Ee),D.current&&(D.current.style.cursor=Ee);let It=!1;const nt=ut=>{const at=be(ut),vn=Math.abs((at.x-Le.x)*we+(at.y-Le.y)*et)/We;Math.abs(vn-1)>.01&&(It=!0),u.applyUpdate(wa=>{const Pt=(wa.leaves??[]).find(Ne=>Ne.id===Qe);Pt&&(Pt.widthScale=Math.max(.3,Math.min(3,tt*vn)))},!1)},At=()=>{je.current=!1,document.removeEventListener("pointermove",nt),document.removeEventListener("pointerup",At),It&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",nt),document.addEventListener("pointerup",At);return}else{const Le=pe,De={...Se.position},we=Se.id;ft(In("/tsumami/")),D.current&&(D.current.style.cursor=In("/tsumami/"));let et=!1;const tt=Qe=>{const Ee=be(Qe),It=Ee.x-Le.x,nt=Ee.y-Le.y;Math.abs(It)+Math.abs(nt)>1&&(et=!0),u.applyUpdate(At=>{const ut=(At.leaves??[]).find(at=>at.id===we);ut&&(ut.position.x=Math.max(0,Math.min(pa,De.x+It)),ut.position.y=Math.max(0,Math.min(pa,De.y+nt)))},!1)},We=()=>{je.current=!1,document.removeEventListener("pointermove",tt),document.removeEventListener("pointerup",We),et&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",tt),document.addEventListener("pointerup",We);return}}}}if(de.target===de.currentTarget){qe?(Ke.setTouchBgStart({x:de.clientX,y:de.clientY}),H(de)):zl?O(de):(Ke.setMouseBgStart({x:de.clientX,y:de.clientY}),Vn.current=!0,D.current&&(D.current.style.cursor="grabbing"),H(de));return}},onPointerMove:de=>{if(he.current||je.current)return;if(X.current){Z(de);return}if(z.current){A(de);return}if(Y.current){w(de);return}if(N.current){T(de);return}if(k.current){B(de);return}V(de),R(de);const qe=!!u.dragRef?.current||!!X.current||!!z.current||!!Y.current||!!N.current||!!k.current||Vn.current,Be=o&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!qe&&Be){const Se=i.flowers.find(pe=>pe.id===o);if(Se){const pe=be(de);if($e.current&&!bn.current){if(Math.hypot(pe.x-$e.current.x,pe.y-$e.current.y)<jl){const{zone:Ee}=ui(pe.x,pe.y,Se,i,a);Ee==="center"&&(ft("pointer"),D.current&&(D.current.style.cursor="pointer"));return}bn.current=!0,$e.current=null}const{zone:Le,layerId:De,petalIndex:we}=ui(pe.x,pe.y,Se,i,a),{length:et}=qt(Se.fabricSquareSize??i.fabricSquareSize),tt=M0(Le,a.kind,{hitLayerId:De,flower:Se,length:et});tt!=="none"&&(Yt.current=tt,Xn.current=De,Jn.current=we);const We=Hd(tt,"/tsumami/");ft(We),D.current&&(D.current.style.cursor=We)}}if(!qe&&a.kind==="leaf"&&u.selectedLeafId){const Se=u.leaves.find(pe=>pe.id===u.selectedLeafId);if(Se){const pe=be(de);if($e.current&&!bn.current){if(Math.hypot(pe.x-$e.current.x,pe.y-$e.current.y)<jl)return;bn.current=!0,$e.current=null}const Le=am(pe.x,pe.y,Se,i);Le!=="none"&&(rn.current=Le);const De=tr(Le,"/tsumami/");ft(De),D.current&&(D.current.style.cursor=De)}}},onPointerUp:de=>{if(!he.current&&!je.current){if(Rn(null),X.current&&zl&&na(!1),q(),L(),b(),j(),U(),I(),K(),Vn.current&&(Vn.current=!1,D.current&&(D.current.style.cursor=zl?"crosshair":"grab")),Ke.touchBgStartRef.current&&de.pointerType==="touch"){const qe=de.clientX-Ke.touchBgStartRef.current.x,Be=de.clientY-Ke.touchBgStartRef.current.y;Math.hypot(qe,Be)<gn&&r({kind:"project"}),Ke.setTouchBgStart(null);return}if(Ke.setTouchBgStart(null),Ke.mouseBgStartRef.current&&de.pointerType==="mouse"){const qe=de.clientX-Ke.mouseBgStartRef.current.x,Be=de.clientY-Ke.mouseBgStartRef.current.y;if(Ke.setMouseBgStart(null),Math.hypot(qe,Be)<Bt){r({kind:"project"});return}}if(Ke.setMouseBgStart(null),o){const qe=i.flowers.find(Be=>Be.id===o);if(qe){const Be=be(de);if($e.current&&Math.hypot(Be.x-$e.current.x,Be.y-$e.current.y)<jl){const{zone:We}=ui(Be.x,Be.y,qe,i,a);We==="center"&&(ft("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:Se,layerId:pe,petalIndex:Le}=ui(Be.x,Be.y,qe,i,a),{length:De}=qt(qe.fabricSquareSize??i.fabricSquareSize),we=M0(Se,a.kind,{hitLayerId:pe,flower:qe,length:De});we!=="none"&&(Yt.current=we,Xn.current=pe,Jn.current=Le);const et=Hd(we,"/tsumami/");ft(et),D.current&&(D.current.style.cursor=et)}}}},onPointerLeave:()=>{q(),L(),b(),j(),U(),I(),K(),Vn.current=!1,Ke.setTouchBgStart(null),Ke.setMouseBgStart(null),ft("grab"),$e.current=null,bn.current=!0,Yt.current="none",rn.current="none",Xn.current=void 0,Jn.current=void 0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[de,qe,Be,Se]=g.split(/\s+/).map(Number),pe=pa;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:de,y:qe,width:Be,height:Se,fill:"white"}),x.jsx("rect",{x:0,y:0,width:pe,height:pe,fill:"black"})]})}),x.jsx("rect",{x:de,y:qe,width:Be,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:pa,height:pa,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:pa,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:pa,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),p&&(()=>{const de=an,[qe,Be,Se,pe]=g.split(/\s+/).map(Number),Le=Math.max(Se,pe)/de,we=[10,20,50,100,200,500,1e3].find(at=>Le/at<=15)??1e3,et=Math.floor(qe/de/we)*we-we,tt=Math.ceil((qe+Se)/de/we)*we+we,We=Math.floor(Be/de/we)*we-we,Qe=Math.ceil((Be+pe)/de/we)*we+we,Ee=We*de,It=Qe*de,nt=et*de,At=tt*de,ut=[];for(let at=et;at<=tt;at+=we){const vt=at*de;ut.push(x.jsx("line",{x1:vt,y1:Ee,x2:vt,y2:It,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${at}`))}for(let at=We;at<=Qe;at+=we){const vt=at*de;ut.push(x.jsx("line",{x1:nt,y1:vt,x2:At,y2:vt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${at}`))}return x.jsx("g",{children:ut})})(),x.jsx(Am,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:He,clientToSvgPointRef:Ie,stencilDraggingRef:he,onSelectStencil:u.onSelectStencil}),x.jsx(Lm,{project:i,selection:a,setSelection:r,paletteMap:f,selectedFlowerId:o,zoneCursorValue:gt,dashSyncToken:G,stageRef:D,multiTouchRef:Ke.multiTouchRef,clientToSvgPoint:be,togglePetalSelection:oe,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:W,beginScaleDrag:Q,beginRotationDrag:ee,beginWidthScaleDrag:ne,beginRadiusDrag:ce,clickOriginRef:$e,zoneActivatedRef:bn,setZoneCursorValue:ft,setTouchZoneIndicator:Rn,hoverZoneRef:Yt,hoverHitLayerIdRef:Xn,hoverHitPetalIndexRef:Jn}),x.jsx(Em,{leaves:u.leaves,project:i,selection:a,paletteMap:f,dashSyncToken:G,selectedLeafId:u.selectedLeafId,groupHighlightedLeafIds:u.groupHighlightedLeafIds,zoneCursorValue:gt,stageRef:D,applyUpdateRef:He,clientToSvgPointRef:Ie,leafDraggingRef:je,clickOriginRef:$e,zoneActivatedRef:bn,setZoneCursorValue:ft,onSelectLeaf:u.onSelectLeaf,onSelectGroup:u.onSelectGroup,onShiftSelectLeaf:u.onShiftSelectLeaf,hoverLeafZoneRef:rn}),x.jsx(qm,{project:i,selection:a,selectedFlowerId:o,dashSyncToken:G}),x.jsx(Tm,{rect:P}),x.jsx(km,{indicator:si})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Yd(u,i,a){return Math.min(a,Math.max(i,u))}function Je({value:u,onChange:i,min:a=-1/0,max:r=1/0,step:f,className:o,...v}){const[S,d]=te.useState(null),h=te.useRef(null),_=te.useCallback(M=>{const D=Number(M);isNaN(D)||i(Yd(D,a,r)),d(null)},[i,a,r]),p=te.useCallback(()=>{d(null)},[]),y=te.useCallback(M=>{const D=f??1,m=(Number(S??u)||0)+D*M,G=Yd(m,a,r),H=String(D).includes(".")?String(D).split(".")[1].length:0,R=Number(G.toFixed(H));d(String(R)),i(R)},[S,u,f,a,r,i]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:h,type:"text",inputMode:"decimal",className:o??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:S??String(u),onChange:M=>d(M.target.value),onFocus:M=>{d(String(u)),requestAnimationFrame(()=>M.target.select())},onBlur:()=>{S!==null&&_(S)},onKeyDown:M=>{M.key==="Enter"?(M.preventDefault(),S!==null&&_(S),h.current?.blur()):M.key==="Escape"?(M.preventDefault(),p(),h.current?.blur()):(M.key==="ArrowUp"||M.key==="ArrowDown")&&(M.preventDefault(),y(M.key==="ArrowUp"?1:-1))},...v}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:M=>{M.preventDefault(),y(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:M=>{M.preventDefault(),y(-1)},children:""})]})]})}function sr({title:u,compact:i,children:a}){return x.jsxs("div",{className:i?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),x.jsx("div",{className:"space-y-3",children:a})]})}function Im({flower:u,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const o=te.useMemo(()=>{const m=[...u.layers||[]].sort((P,W)=>P.order-W.order);if(m.length<2)return{mode:"uniform",step:2};const G=m.map(P=>P.scale??1);if(G.every(P=>Math.abs(P-G[0])<.001))return{mode:"uniform",step:2};const R=m[0],K=m[m.length-1],O=(K.order??1)-(R.order??1);if(O<=0)return{mode:"gradual",step:2};const q=((R.scale??1)-(K.scale??1))/O,X=Math.round(q*i*2)/2;return{mode:"gradual",step:ye(X,0,10)}},[u.id]),[v,S]=te.useState(o.mode),[d,h]=te.useState(o.step),[_,p]=te.useState(0);te.useEffect(()=>{S(o.mode),h(o.step),p(0)},[o]);const y=te.useMemo(()=>[...u.layers||[]].sort((m,G)=>m.order-G.order),[u.layers]),M=y[0],D=M?M.order:0,g=te.useMemo(()=>{if(!M)return[];const m=M.scale??1,G=M.radius,H=new Map;for(const P of y){const W=P.order-D;if(W===0)H.set(P.id,m);else if(v==="uniform")H.set(P.id,m);else{const V=d/i;H.set(P.id,ye(m-W*V,.3,3))}}const{length:R}=qt(i),K=y.length,O=70*Math.PI/180,Z=new Map;let q=G;Z.set(M.id,G);for(let P=1;P<K;P++){const W=y[P-1],V=H.get(W.id)??1,I=R*V;let Y;if(a===""){const w=K-1-P,b=K>1?w/(K-1)*O:0;Y=I*(30/100)*Math.cos(b)}else Y=I/3;q=q-Y,Z.set(y[P].id,Math.max(2,q))}const X=y.map(P=>{const W=H.get(P.id)??1,V=Math.round((Z.get(P.id)??G)*10)/10,I=Math.round(i*W*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:W,effFabricSize:I,effRadius:V}});if(X.length>0){const P=X[X.length-1],W=R*P.effScale,V=Math.floor(W*.28*10)/10;P.effRadius>V&&(P.effRadius=V)}return X},[y,M,D,v,d,30,i,a]);return te.useEffect(()=>{_!==0&&(!M||g.length===0||r(m=>{const G=m.flowers.find(R=>R.id===u.id);if(!G)return;for(const R of g){const K=G.layers.find(O=>O.id===R.id);K&&(K.scale=ye(R.effScale,.3,3),K.radius=ye(R.effRadius,2,120))}const H=[...G.layers].sort((R,K)=>K.order-R.order);for(let R=1;R<H.length;R++){const K=H[R-1],O=H[R];O.offsetAngle=tl(K.petalCount,K.offsetAngle,O.petalCount)}}))},[_]),y.length<2?null:x.jsxs(sr,{title:"",children:[x.jsxs(_x,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:v,onChange:m=>{S(m.target.value),p(G=>G+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),v==="gradual"&&x.jsxs(_x,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,min:0,max:10,step:.5,onChange:m=>{h(m),p(G=>G+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),g.map(m=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:m.name}),x.jsxs("span",{children:[" ",m.effFabricSize,"mm /  ",Math.round(lr(m.effRadius,m.effScale,i)),"mm"]})]},m.id))]})]})}const n1="tsumami_recent_colors_v1",Ix=10;function Rm(u){const i=new Set;for(const a of u.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const f of r.petalOverrides)f.colorId&&i.add(f.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function zx(){try{const u=localStorage.getItem(n1);if(u){const i=JSON.parse(u);if(Array.isArray(i))return i.slice(0,Ix)}}catch{}return[]}function Gm(u){try{localStorage.setItem(n1,JSON.stringify(u.slice(0,Ix)))}catch{}}function Om(u){const i=zx(),a=[u,...i.filter(r=>r!==u)].slice(0,Ix);Gm(a)}function Zn({palette:u,project:i,selectedColorId:a,onChange:r,size:f="md"}){const[o,v]=te.useState(!1),S=te.useRef(null),[d,h]=te.useState(zx);te.useEffect(()=>{if(!o)return;const g=m=>{S.current&&!S.current.contains(m.target)&&v(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[o]);const _=te.useMemo(()=>Rm(i),[i]),p=te.useMemo(()=>{const g=new Set;g.add(a);for(const m of _)g.add(m);for(const m of d)g.add(m);return u.filter(m=>g.has(m.id))},[u,a,_,d]),y=te.useCallback(g=>{Om(g),h(zx()),r(g)},[r]),M=f==="sm"?"h-4 w-4":"h-5 w-5",D=o?u:p;return x.jsx("div",{ref:S,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(g=>x.jsx("button",{className:`${M} rounded border-2 ${a===g.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:g.hex},title:g.name,"aria-label":`: ${g.name}`,onClick:()=>y(g.id)},g.id)),u.length>p.length&&x.jsx("button",{className:`${M} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>v(g=>!g),title:o?"":"","aria-label":o?"":"",children:x.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:o?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Hm({project:u,applyUpdate:i,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ll.map(r=>{const f=a.layers.every(o=>o.petalType===r);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const v=o.flowers.find(S=>S.id===a.id);if(v)for(const S of v.layers)S.petalType=r}),children:r},r)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Qd.map(r=>{const f=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==r&&i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;v.placementMode=r;const S=v.fabricSquareSize??o.fabricSquareSize;r===""?v.baseDiameter=nr(v.flowerDiameter):v.baseDiameter||(v.baseDiameter=o.baseDiameter),Bh(v.layers,S,r,v.flowerDiameter)},!0)},children:r},r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(Je,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.baseDiameter=r)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[nr(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(f=>{const o=f.flowers.find(d=>d.id===a.id);if(!o)return;const v=xi(r);for(const d of o.layers)d.petalCount=r,d.widthScale=v;const S=[...o.layers].sort((d,h)=>h.order-d.order);for(let d=1;d<S.length;d++)S[d].offsetAngle=tl(S[d-1].petalCount,S[d-1].offsetAngle,S[d].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Je,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(f=>{const o=f.flowers.find(S=>S.id===a.id);if(!o)return;o.flowerDiameter=r,o.placementMode===""&&(o.baseDiameter=nr(r));const v=[...o.layers].sort((S,d)=>S.order-d.order);J0(v,o.fabricSquareSize??f.fabricSquareSize,r);for(const S of v){const d=o.layers.find(h=>h.id===S.id);d&&(d.radius=S.radius,d.scale=S.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.widthScale=r})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.rotation=r)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.colorId=r})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)if(r.target.checked){if(!v.doublePetal){const S=v._doublePetalCache;v.doublePetal=S??{innerSizeReduction:2},delete v._doublePetalCache}}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(S=>S.doublePetal.innerSizeReduction))],f=r.length===1?r[0]:null,o=[...new Set(a.layers.map(S=>S.doublePetal.innerColorId??S.colorId))],v=o.length===1?o[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:S=>i(d=>{const h=d.flowers.find(_=>_.id===a.id);if(h)for(const _ of h.layers)_.doublePetal&&(_.doublePetal.innerSizeReduction=ye(S,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:v??"",onChange:S=>i(d=>{const h=d.flowers.find(_=>_.id===a.id);if(h)for(const _ of h.layers)_.doublePetal&&(S===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=S)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Kh.map(r=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.type=r,r===""&&!o.center.pepCount&&(o.center.pepCount=12),r===""&&!o.center.color2&&(o.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:r},r))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.size=r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color2=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.pepCount=r)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const f=r.flowers.find(o=>o.id===a.id);f&&delete f.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const f=r.flowers.find(o=>o.id===a.id);f&&(f.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Im,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function Km({project:u,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:f,onAddToGroup:o,onMergeGroups:v}){const S=a,d=[...new Set(S.flatMap(p=>p.layers.map(y=>y.petalType)))],h=d.length===1?d[0]:null,_=p=>{i(y=>{for(const M of S){const D=y.flowers.find(g=>g.id===M.id);D&&p(D)}},!0)};return x.jsxs(sr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[S.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(p=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:p.hex},title:p.name,onClick:()=>_(y=>{for(const M of y.layers)M.colorId=p.id})},p.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:ll.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>_(y=>{for(const M of y.layers)M.petalType=p}),children:p},p))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Je,{min:5,max:24,value:S[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:p=>{const y=xi(p);_(M=>{for(const g of M.layers)g.petalCount=p,g.widthScale=y;const D=[...M.layers].sort((g,m)=>m.order-g.order);for(let g=1;g<D.length;g++)D[g].offsetAngle=tl(D[g-1].petalCount,D[g-1].offsetAngle,D[g].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:S.map(p=>x.jsxs("div",{children:[p.name," (",p.layers.length,")"]},p.id))}),(()=>{const p=S.map(m=>nl(u,m.id)),y=S.filter(m=>!nl(u,m.id)).map(m=>m.id),M=[...new Set(p.filter(Boolean).map(m=>m.id))],D=y.length===S.length,g=M.length===1&&p.every(m=>m!=null);return x.jsxs(x.Fragment,{children:[D&&S.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(S.map(m=>m.id)),children:""}),g&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(M[0]),children:""}),M.length===1&&y.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(M[0],y),children:[" (+",y.length,")"]}),M.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(M,y),children:[" (",M.length,"",y.length>0?` +${y.length}`:"",")"]})]})})()]})}function Um({project:u,applyUpdate:i,selectedFlowers:a,groups:r,groupId:f,onUngroupFlowers:o,onUngroupAll:v}){const S=r.find(M=>M.id===f);if(!S)return null;const d=a,h=(u.leaves??[]).filter(M=>S.leafIds.includes(M.id)),_=[...new Set(d.flatMap(M=>M.layers.map(D=>D.petalType)))],p=_.length===1?_[0]:null,y=M=>{i(D=>{for(const g of d){const m=D.flowers.find(G=>G.id===g.id);m&&M(m)}},!0)};return x.jsxs(sr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:S.name,onChange:M=>i(D=>{const g=(D.groups??[]).find(m=>m.id===S.id);g&&(g.name=M.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[d.length>0&&x.jsxs("span",{children:[d.length,""]}),d.length>0&&h.length>0&&x.jsx("span",{children:" + "}),h.length>0&&x.jsxs("span",{children:[h.length,""]})]}),d.length>0&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(M=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:M.hex},title:M.name,onClick:()=>y(D=>{for(const g of D.layers)g.colorId=M.id})},M.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:ll.map(M=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===M?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>y(D=>{for(const g of D.layers)g.petalType=M}),children:M},M))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Je,{min:5,max:24,value:d[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:M=>{const D=xi(M);y(g=>{for(const G of g.layers)G.petalCount=M,G.widthScale=D;const m=[...g.layers].sort((G,H)=>H.order-G.order);for(let G=1;G<m.length;G++)m[G].offsetAngle=tl(m[G-1].petalCount,m[G-1].offsetAngle,m[G].petalCount)})}})]}),x.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[d.map(M=>x.jsxs("div",{children:[M.name," (",M.layers.length,")"]},M.id)),h.map(M=>x.jsx("div",{children:M.name},M.id))]}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(S.id),children:""}),x.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>v(S.id),children:""})]})}function Ym({project:u,flowerIds:i,leafIds:a,onGroupMixed:r,onUngroupFlowers:f,onAddToGroup:o,onAddLeavesToGroup:v,onMergeGroups:S}){const d=u.flowers.filter(H=>i.includes(H.id)),h=(u.leaves??[]).filter(H=>a.includes(H.id)),_=i.map(H=>nl(u,H)),p=a.map(H=>Ml(u,H)),y=[..._,...p],M=i.filter(H=>!nl(u,H)),D=a.filter(H=>!Ml(u,H)),g=[...new Set(y.filter(Boolean).map(H=>H.id))],m=M.length+D.length===i.length+a.length,G=g.length===1&&y.every(H=>H!=null);return x.jsxs(sr,{title:"",children:[x.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",d.length," +  ",h.length,""]}),x.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[d.map(H=>x.jsxs("div",{children:[" ",H.name]},H.id)),h.map(H=>x.jsxs("div",{children:[" ",H.name||""]},H.id))]}),x.jsxs(x.Fragment,{children:[m&&d.length+h.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(i,a),children:""}),G&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(g[0]),children:""}),g.length===1&&(M.length>0||D.length>0)&&!m&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{M.length>0&&o(g[0],M),D.length>0&&v(g[0],D)},children:[" (+",M.length+D.length,")"]}),g.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>S(g,M),children:[" (",g.length,")"]})]})]})}function Zm({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);S&&(S.name=f.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ll.map(f=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);S&&(S.petalType=f)}),children:f},f))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:5,max:24,value:r.petalCount,onChange:f=>{i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);if(S){S.petalCount=f,S.widthScale=xi(f);const d=[...v.layers].sort((h,_)=>_.order-h.order);for(let h=1;h<d.length;h++)d[h].offsetAngle=tl(d[h-1].petalCount,d[h-1].offsetAngle,d[h].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Je,{min:1,max:200,step:.5,value:Math.round(lr(r.radius,r.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);S&&(S.radius=ye(qh(f,S.scale??1,v.fabricSquareSize??o.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Je,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(r.scale??1)*10)/10,onChange:f=>i(o=>{const v=o.flowers.find(p=>p.id===a.id);if(!v)return;const S=v.layers.find(p=>p.id===r.id);if(!S)return;const d=v.fabricSquareSize??o.fabricSquareSize;S.scale=ye(Math.round(f/d*100)/100,.3,3);const h=[...v.layers].sort((p,y)=>p.order-y.order),_=h.findIndex(p=>p.id===S.id);if(_>=0)for(let p=_-1;p>=0;p--){const y=h[p],M=h[p+1],g=qt(d).length*(M.scale??1)/3;y.radius=Math.round((M.radius+g)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);S&&(S.scale=f)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);S&&(S.widthScale=f)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{value:Number(r.offsetAngle??0).toFixed(1),onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);S&&(S.offsetAngle=f)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:r.colorId,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);S&&(S.colorId=f)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);if(S)if(f.target.checked){const d=S._doublePetalCache;S.doublePetal=d??{innerSizeReduction:2},delete S._doublePetalCache}else S.doublePetal&&(S._doublePetalCache={...S.doublePetal}),delete S.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);S?.doublePetal&&(S.doublePetal.innerSizeReduction=ye(f,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);S?.doublePetal&&(f===S.colorId?delete S.doublePetal.innerColorId:S.doublePetal.innerColorId=f)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);S&&(S.visible=f.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:f=>i(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===r.id);S&&(S.locked=f.target.checked)})}),""]})]})]})]})}function Xm({project:u,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const f=r,o=f.map(m=>{const G=a.layers.find(H=>H.id===m.layerId);return{...m,layer:G}}).filter(m=>m.layer!=null),v=(m,G)=>{const H=a.layers.find(K=>K.id===m);return H?(H?.petalOverrides?.find(K=>K.index===G)??null)?.colorId??H.colorId:null},S=(m,G)=>{const H=a.layers.find(K=>K.id===m);return H?(H?.petalOverrides?.find(K=>K.index===G)??null)?.petalType??H.petalType:null},d=o.map(m=>v(m.layerId,m.index)),h=o.map(m=>S(m.layerId,m.index)),_=d.length>0&&d.every(m=>m===d[0]),y=h.length>0&&h.every(m=>m===h[0])?h[0]:null,M=m=>{i(G=>{const H=G.flowers.find(R=>R.id===a.id);if(H)for(const R of f){const K=H.layers.find(Z=>Z.id===R.layerId);if(!K)continue;K.petalOverrides||(K.petalOverrides=[]);const O=K.petalOverrides.find(Z=>Z.index===R.index);if(O)m.colorId!==void 0&&(m.colorId===K.colorId?delete O.colorId:O.colorId=m.colorId),m.petalType!==void 0&&(m.petalType===K.petalType?delete O.petalType:O.petalType=m.petalType),!O.colorId&&!O.petalType&&(K.petalOverrides=K.petalOverrides.filter(Z=>Z.index!==R.index),K.petalOverrides.length===0&&(K.petalOverrides=void 0));else{const Z={index:R.index};m.colorId!==void 0&&m.colorId!==K.colorId&&(Z.colorId=m.colorId),m.petalType!==void 0&&m.petalType!==K.petalType&&(Z.petalType=m.petalType),(Z.colorId!==void 0||Z.petalType!==void 0)&&K.petalOverrides.push(Z)}}},!0)},D=()=>{i(m=>{const G=m.flowers.find(H=>H.id===a.id);if(G)for(const H of f){const R=G.layers.find(K=>K.id===H.layerId);!R||!R.petalOverrides||(R.petalOverrides=R.petalOverrides.filter(K=>K.index!==H.index),R.petalOverrides.length===0&&(R.petalOverrides=void 0))}},!0)},g=o.some(m=>m.layer?.petalOverrides?.find(G=>G.index===m.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",g&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(m=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${_&&d[0]===m.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:m.hex},title:m.name,"aria-label":`: ${m.name}`,onClick:()=>M({colorId:m.id})},m.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:ll.map(m=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>M({petalType:m}),children:m},m))})]}),g&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function Jm({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:f}){const o=r?.petalOverrides?.find(p=>p.index===f)??null,v=o?.colorId??r.colorId,S=o?.petalType??r.petalType,d=o!=null,h=p=>{i(y=>{const M=y.flowers.find(m=>m.id===a.id);if(!M)return;const D=M.layers.find(m=>m.id===r.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const g=D.petalOverrides.find(m=>m.index===f);if(g)p.colorId!==void 0&&(g.colorId=p.colorId),p.petalType!==void 0&&(g.petalType=p.petalType),p.innerColorId!==void 0&&(g.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(g.innerSizeReduction=p.innerSizeReduction),g.colorId!==void 0||g.petalType!==void 0||g.innerColorId!==void 0||g.innerSizeReduction!==void 0?(g.colorId===void 0&&delete g.colorId,g.petalType===void 0&&delete g.petalType,g.innerColorId===void 0&&delete g.innerColorId,g.innerSizeReduction===void 0&&delete g.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(G=>G.index!==f),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const m={index:f};p.colorId!==void 0&&(m.colorId=p.colorId),p.petalType!==void 0&&(m.petalType=p.petalType),p.innerColorId!==void 0&&(m.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(m.innerSizeReduction=p.innerSizeReduction),(m.colorId!==void 0||m.petalType!==void 0||m.innerColorId!==void 0||m.innerSizeReduction!==void 0)&&D.petalOverrides.push(m)}},!0)},_=()=>{i(p=>{const y=p.flowers.find(D=>D.id===a.id);if(!y)return;const M=y.layers.find(D=>D.id===r.id);!M||!M.petalOverrides||(M.petalOverrides=M.petalOverrides.filter(D=>D.index!==f),M.petalOverrides.length===0&&(M.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",f+1,d&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:v,onChange:p=>{p===r.colorId?h({colorId:void 0}):h({colorId:p})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:ll.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{p===r.petalType?h({petalType:void 0}):h({petalType:p})},children:p},p))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:p=>i(y=>{const M=y.flowers.find(g=>g.id===a.id);if(!M)return;const D=M.layers.find(g=>g.id===r.id);if(D)if(p.target.checked){const g=D._doublePetalCache;D.doublePetal=g??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const p=r.doublePetal,y=o?.innerSizeReduction??p.innerSizeReduction,M=o?.innerColorId??p.innerColorId??v;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",o?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(Je,{min:1,max:30,step:1,value:y,onChange:D=>{const g=ye(D,1,30);g===p.innerSizeReduction?h({innerSizeReduction:void 0}):h({innerSizeReduction:g})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:M,size:"sm",onChange:D=>{const g=p.innerColorId??r.colorId;h(D===g?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),d&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:_,children:""})]})]})}function Vm({project:u,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const f=a,o=v=>{i(S=>{const d=(S.stencils??[]).find(h=>h.id===f.id);d&&Object.assign(d,v)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:v=>o({variant:v.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(v=>x.jsx("option",{value:v,children:e1[v]},v))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:v=>o({pose:v.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(v=>x.jsx("option",{value:v,children:t1[v]},v))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:v=>o({locked:v.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Wm({project:u,applyUpdate:i,selectedLeaf:a,groups:r,onDeleteLeaf:f,onAddLeafToGroup:o,onRemoveLeafFromGroup:v}){const S=a,d=_=>{i(p=>{const y=(p.leaves??[]).find(M=>M.id===S.id);y&&_(y)},!0)},h=Ml(u,S.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:S.name,onChange:_=>d(p=>{p.name=_.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ll.map(_=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S.petalType===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>d(p=>{p.petalType=_}),children:_},_))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:S.colorId,onChange:_=>d(p=>{p.colorId=_})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Je,{min:3,max:80,step:.5,value:Math.round((S.fabricSquareSize??u.fabricSquareSize)*(S.scale??1)*10)/10,onChange:_=>d(p=>{const y=p.fabricSquareSize??u.fabricSquareSize;p.scale=ye(Math.round(_/y*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:.4,max:2.5,step:.05,value:Number(S.scale??1).toFixed(2),onChange:_=>d(p=>{p.scale=_})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:.5,max:1.8,step:.05,value:Number(S.widthScale??1).toFixed(2),onChange:_=>d(p=>{p.widthScale=_})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Je,{value:Number(S.rotation).toFixed(1),onChange:_=>d(p=>{p.rotation=_})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.doublePetal,onChange:_=>d(p=>{if(_.target.checked){const y=p._doublePetalCache;p.doublePetal=y??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),S.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{min:1,max:30,step:1,value:S.doublePetal.innerSizeReduction,onChange:_=>d(p=>{p.doublePetal&&(p.doublePetal.innerSizeReduction=ye(_,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:S.doublePetal.innerColorId??S.colorId,onChange:_=>d(p=>{p.doublePetal&&(_===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=_)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.visible,onChange:_=>d(p=>{p.visible=_.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.locked,onChange:_=>d(p=>{p.locked=_.target.checked})}),""]})]}),h?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",h.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>v(S.id),children:""})]}):r.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:_=>{_.target.value&&o(S.id,_.target.value)},children:[x.jsx("option",{value:"",children:"..."}),r.map(_=>x.jsx("option",{value:_.id,children:_.name},_.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(S.id),children:""})]})]})}function Qm({project:u,applyUpdate:i,leafIds:a,onGroupLeaves:r,onUngroupLeaves:f,onAddLeavesToGroup:o,onMergeLeafGroups:v}){const S=(u.leaves??[]).filter(d=>a.includes(d.id));return S.length===0?null:x.jsxs(sr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[S.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:"",onChange:d=>i(h=>{for(const _ of a){const p=(h.leaves??[]).find(y=>y.id===_);p&&(p.colorId=d)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:ll.map(d=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(h=>{for(const _ of a){const p=(h.leaves??[]).find(y=>y.id===_);p&&(p.petalType=d)}},!0),children:d},d))}),(()=>{const d=S.map(M=>Ml(u,M.id)),h=S.filter(M=>!Ml(u,M.id)).map(M=>M.id),_=[...new Set(d.filter(Boolean).map(M=>M.id))],p=h.length===S.length,y=_.length===1&&d.every(M=>M!=null);return x.jsxs(x.Fragment,{children:[p&&S.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""}),y&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(_[0]),children:""}),_.length===1&&h.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(_[0],h),children:[" (+",h.length,")"]}),_.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(_,h),children:[" (",_.length,"",h.length>0?` +${h.length}`:"",")"]})]})})()]})}function Pm(u){const{project:i,selection:a,applyUpdate:r,selectedFlower:f,selectedFlowers:o,selectedLayer:v,selectedPetalIndex:S,selectedPetals:d}=u;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:h=>r(_=>_.title=h.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{value:i.fabricSquareSize,min:5,max:60,onChange:h=>r(_=>_.fabricSquareSize=h),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{value:i.baseDiameter,min:10,max:100,onChange:h=>r(_=>_.baseDiameter=h),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",ta(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",ta(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:h=>r(_=>_.notes=h.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(h=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:h.hex},title:h.name},h.id))})]})]})]}),a.kind==="flower"&&f&&x.jsx(Hm,{project:i,applyUpdate:r,selectedFlower:f}),a.kind==="flowers"&&o.length>0&&x.jsx(Km,{project:i,applyUpdate:r,selectedFlowers:o,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&x.jsx(Um,{project:i,applyUpdate:r,selectedFlowers:o,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers,onUngroupAll:u.onUngroupAll}),a.kind==="layer"&&f&&v&&x.jsx(Zm,{project:i,applyUpdate:r,selectedFlower:f,selectedLayer:v}),a.kind==="petals"&&f&&d.length>0&&x.jsx(Xm,{project:i,applyUpdate:r,selectedFlower:f,selectedPetals:d}),a.kind==="petal"&&f&&v&&S!==null&&x.jsx(Jm,{project:i,applyUpdate:r,selectedFlower:f,selectedLayer:v,selectedPetalIndex:S}),a.kind==="stencil"&&u.selectedStencil&&x.jsx(Vm,{project:i,applyUpdate:r,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&x.jsx(Wm,{project:i,applyUpdate:r,selectedLeaf:u.selectedLeaf,groups:u.groups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Qm,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves,onUngroupLeaves:u.onUngroupLeaves,onAddLeavesToGroup:u.onAddLeavesToGroup,onMergeLeafGroups:u.onMergeLeafGroups}),a.kind==="mixed"&&x.jsx(Ym,{project:i,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:u.onGroupMixed,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onAddLeavesToGroup:u.onAddLeavesToGroup,onMergeGroups:u.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!f?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Fm(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?ta(u.baseDiameter,u.fabricSquareSize,i).diameter:ir(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function $m(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Lh(u.flowerDiameter,u.baseDiameter,i):Ah(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function eb({palette:u,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:f}){const o=d=>{a(h=>{const _={...h,...d};return d.placementMode&&d.placementMode!==h.placementMode&&(d.placementMode===""?(_.baseDiameter=30,_.fabricSquareSize=20,_.layerCount=4,_.petalCount=12):(_.fabricSquareSize=20,_.layerCount=1,_.petalCount=6)),_.flowerDiameter=Fm(_),_})},v=d=>{a(h=>{const _={...h,flowerDiameter:d};return _.fabricSquareSize=$m(_),_})},S=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&S.push("");const d=Eh(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>d&&S.push(`${d}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:d=>d.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Qd.map(d=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>o({placementMode:d}),children:d},d))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:d=>o({fabricSquareSize:d})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:d=>o({layerCount:d})})]})]}),i.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:d=>o({baseDiameter:d})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:d=>a(h=>({...h,petalCount:d}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:v})]})]}),S.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:S.map((d,h)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:d},h))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(d=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||u[0]?.id)===d.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>a(h=>({...h,colorId:d.id}))},d.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:ll.map(d=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:d})),children:d},d))})]}),i.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:d=>o({sizeStepMm:d})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function tb(u){return Math.round(u*Math.SQRT2/2*10)/10}function nb(u){return Math.round(u*Math.SQRT2*10)/10}function lb({palette:u,addLeafOpts:i,setAddLeafOpts:a,onConfirm:r,onCancel:f}){const o=S=>{a(d=>({...d,fabricSquareSize:S,leafSizeMm:tb(S)}))},v=S=>{a(d=>({...d,leafSizeMm:S,fabricSquareSize:nb(S)}))};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:S=>S.stopPropagation(),"data-testid":"dialog-add-leaf",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:o})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:i.leafSizeMm,onChange:v})]})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(S=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||u[0]?.id)===S.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>a(d=>({...d,colorId:S.id}))},S.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:ll.map(S=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:S})),children:S},S))})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-leaf",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}(function(u,i){const a=Qt,r=u();for(;;)try{if(-parseInt(a(268))/1+parseInt(a(208))/2*(parseInt(a(226))/3)+parseInt(a(248))/4*(parseInt(a(270))/5)+parseInt(a(230))/6+-parseInt(a(257))/7+-parseInt(a(253))/8*(parseInt(a(263))/9)+-parseInt(a(264))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(H0,500213);const ab=(function(){const u=Qt,i={KvpNX:function(r,f){return r===f},xhBhY:u(267),SkRGL:function(r,f){return r>=f},bNrHS:function(r,f){return r-f},TfOYm:function(r,f){return r!==f}};let a=!0;return function(r,f){const o=u;if(i.TfOYm(o(214),o(214))){const v=_0x4fcd46[o(213)](_0x633ca6);if(v){const S=_0x37dd27[o(224)](v);if(typeof S.left===o(267)&&i.KvpNX(typeof S.right,i.xhBhY)&&i.SkRGL(S[o(211)],_0xe49cce)&&S.right>=_0x29fa85&&i.bNrHS(i[o(242)](100,S[o(211)]),S.right)>=_0x4d0d0b)return S}}else{const v=a?function(){const S=o;if(f){const d=f[S(232)](r,arguments);return f=null,d}}:function(){};return a=!1,v}}})(),Dx=ab(void 0,function(){const u=Qt,i={edQYm:u(250)};return Dx.toString().search(i.edQYm).toString()[u(258)](Dx).search(i[u(240)])});Dx();function H0(){const u=["oti3z1nUwvbT","ndqYnZiWB2vtDNH0","y1D2Bui","C3r5Bgu","BNvTyMvY","nJe3nZy2sw9MAgP0","C2v0sxrLBq","nta2nvj2D0nSyq","DxnLCLnLBgvJDa","mte5otHtyK9uChy","BM9Uzq","vgvKrNy","BgvMDa","CM91BMq","z2v0sxrLBq","t05cv3K","C3rHCNry","Bwf4","C3rYAw5NAwz5","BwLU","Bxb5B1a","Cg9PBNrLCNvW","DejvDLG","wKHMBMq","C2LKzq","CgfYC2u","D2LKDgG","nJLqshvdtNe","wwXjEKS","D2DAvfq","y3vYC29Y","nti4mZq4nK14zvnAuW","yM9KEq","yxbWBhK","CNziEgu","Bwf0y2HLCW","EM5duvy","v3D4zeq","ugnMBNm","CMLNAhq","rejZsMC","zwrrww0","BhrHALK","yK5Ysfm","A3nmq1y","ruDQEgy","y2HHBMDL","quTOBgC","ywrKrxzLBNrmAxn0zw5LCG","mZyYngTwtKLWsa","wxPVyKO","kcGOlISPkYKRksSK","y2XPzw50wa","v2DeyLu","mJKYodHNuwjYBKW","y3fHy1G","t2zKy3u","CMvTB3zLrxzLBNrmAxn0zw5LCG","mJC3otaXnfP6v3DYsq","y29UC3rYDwn0B3i","y3vYCMvUDa","C3rHCNrxAwr0Ahm","D3vdy24","AwftAvm"];return H0=function(){return u},H0()}const l1="tsumami-panel-widths",a1={left:25,right:25},Nx=15,Ax=15,cr=30;function Qt(u,i){u=u-207;const a=H0();let r=a[u];if(Qt.XXiZQi===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Qt.sMkNkw=f,Qt.vyGqjP={},Qt.XXiZQi=!0}const o=a[0],v=u+o,S=Qt.vyGqjP[v];if(S)r=S;else{const d=function(h){this.UrDtUT=h,this.WlDHqb=[1,0,0],this.mTntKM=function(){return"newState"},this.OYrAHs="\\w+ *\\(\\) *{\\w+ *",this.PQNIOj=`['|"].+['|"];? *}`};d.prototype.qOmlPj=function(){const h=new RegExp(this.OYrAHs+this.PQNIOj),_=h.test(this.mTntKM.toString())?--this.WlDHqb[1]:--this.WlDHqb[0];return this.NyKoDx(_)},d.prototype.NyKoDx=function(h){return~h?this.VSOCAD(this.UrDtUT):h},d.prototype.VSOCAD=function(h){for(let _=0,p=this.WlDHqb.length;_<p;_++)this.WlDHqb.push(Math.round(Math.random())),p=this.WlDHqb.length;return h(this.WlDHqb[0])},new d(Qt).qOmlPj(),r=Qt.sMkNkw(r),Qt.vyGqjP[v]=r}return r}function ib(){const u=Qt,i={tFBbR:function(a,r){return a===r},BNCpv:function(a,r){return a>=r},Pcfns:function(a,r){return a>=r},YlIzK:function(a,r){return a-r},JZCLf:u(236)};try{const a=localStorage.getItem(l1);if(a){const r=JSON.parse(a);if(typeof r.left=="number"&&i.tFBbR(typeof r.right,u(267))&&i.BNCpv(r[u(211)],Nx)&&i[u(237)](r[u(238)],Ax)&&i[u(227)](100-r.left,r[u(238)])>=cr)return i.JZCLf==="WwxdD"?r:_0x15350f}}catch{}return a1}function Zd(u,i){const a=Qt,r={cqacX:function(S,d){return S/d},AKhlg:function(S,d){return S/d},wuCcn:function(S,d){return S*d},Ofdcu:function(S,d){return S/d}};let f=Math[a(216)](Nx,u),o=Math[a(216)](Ax,i);const v=100-f-o;if(v<cr){const S=cr-v;f-=r[a(254)](S,2),o-=S/2,f=Math[a(216)](Nx,f),o=Math.max(Ax,o)}return{left:r[a(246)](Math.round(r[a(261)](f,100)),100),right:r[a(255)](Math[a(212)](r[a(261)](o,100)),100)}}function rb(){const u=Qt,i={Xlkyw:"(min-width: 768px)",eEVwh:function(D,g){return D*g},iaSiS:function(D,g){return D/g},wgZTT:u(211),GKqGo:function(D,g,m){return D(g,m)},HeaAa:function(D,g){return D===g},zldnY:function(D,g){return D-g},ZHfnd:"Wdptn",DBsJg:function(D,g){return D-g},znCQV:function(D,g){return D(g)},ZtNTm:"0|4|5|2|1|3",EGjxf:"pointermove",QgUiI:function(D,g){return D(g)},cWvmB:"col-resize",TedFv:u(209),YzobJ:"pointerup",NKTEl:function(D,g){return D===g},tBUvX:"eMnKv",ymdCx:"HkRJD",ltajY:function(D,g){return D(g)},BEPWG:function(D,g,m){return D(g,m)},KhHUi:function(D,g){return D(g)},ZEUQs:function(D,g,m){return D(g,m)}},[a,r]=te.useState(ib),f=i[u(241)](te.useRef,null),o=i[u(235)](te.useRef,null),[v,S]=i.ltajY(te.useState,!1),[d,h]=te.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 768px)")[u(234)]:!0);te.useEffect(()=>{const D=u,g=window.matchMedia(i.Xlkyw),m=G=>h(G.matches);return g.addEventListener(D(245),m),()=>g[D(256)]("change",m)},[]),te.useEffect(()=>{localStorage.setItem(l1,JSON.stringify(a))},[a]);const _=te.useRef(a);te.useEffect(()=>{const D=u;_[D(259)]=a},[a]);const p=i.BEPWG(te.useCallback,(D,g)=>{const m=u,G={ksLCV:i[m(244)],vByGO:m(220),pknhR:function(O,Z){return O(Z)}};g.preventDefault();const H=f[m(259)];if(!H)return;o.current={side:D,startX:g.clientX,startWidths:{..._[m(259)]}},S(!0),document.body[m(266)].cursor=i[m(265)],document[m(231)][m(266)].userSelect=i[m(210)];const R=O=>{const Z=m,q={WgDbU:function(I,Y){return I-Y},YKOkK:function(I,Y){return i.eEVwh(I,Y)},lEqmV:function(I,Y){return i[Qt(262)](I,Y)},mpyoP:function(I,Y){return I===Y},mIeli:i[Z(228)],YnXai:function(I,Y){return I-Y},rvHxe:function(I,Y){return I-Y},TEJLR:function(I,Y,w){return i.GKqGo(I,Y,w)}},X=o[Z(259)];if(!X)return;const P=H.getBoundingClientRect().width;if(i.HeaAa(P,0))return;const W=i.zldnY(O.clientX,X[Z(215)]),V=i.eEVwh(W/P,100);if(X.side===i[Z(228)]){const I=X.startWidths.left+V,Y=i.zldnY(100,X.startWidths.right)-cr;r(Zd(Math.min(I,Y),X.startWidths.right))}else if(i[Z(222)]==="Wdptn"){const I=X.startWidths.right-V,Y=i.zldnY(i[Z(239)](100,X.startWidths[Z(211)]),cr);i[Z(235)](r,Zd(X.startWidths.left,Math[Z(218)](I,Y)))}else{const I=_0x173633.current;if(!I)return;const Y=_0x1417eb.getBoundingClientRect()[Z(225)];if(Y===0)return;const w=q[Z(252)](_0x41d2dd[Z(251)],I.startX),b=q.YKOkK(q.lEqmV(w,Y),100);if(q[Z(219)](I[Z(223)],q.mIeli)){const z=I[Z(260)][Z(211)]+b,A=q.YnXai(100,I[Z(260)][Z(238)])-_0xdbc2c1;_0x3b003e(_0x232362(_0x2e6517[Z(218)](z,A),I.startWidths[Z(238)]))}else{const z=q[Z(233)](I.startWidths.right,b),A=100-I[Z(260)].left-_0x4492fd;_0x3125c5(q.TEJLR(_0x2b9515,I[Z(260)][Z(211)],_0x28ff05.min(z,A)))}}},K=()=>{const O=m,Z=i.ZtNTm.split("|");let q=0;for(;;){switch(Z[q++]){case"0":o.current=null;continue;case"1":window.removeEventListener(i[O(244)],R);continue;case"2":document[O(231)].style.userSelect="";continue;case"3":window[O(256)]("pointerup",K);continue;case"4":i.QgUiI(S,!1);continue;case"5":document.body[O(266)][O(229)]="";continue}break}};window[m(247)](i[m(244)],R),window.addEventListener(i[m(249)],K),y.current=()=>{const O=m;window[O(256)](G[O(243)],R),window.removeEventListener(G.vByGO,K),o.current=null,G.pknhR(S,!1),document.body[O(266)].cursor="",document[O(231)].style[O(207)]=""}},[]),y=i.KhHUi(te.useRef,null);te.useEffect(()=>{const D=u;if(i.NKTEl(i[D(221)],"eMnKv"))return()=>{y.current?.()};_0x29e6d5.current=_0x2f16c9},[]);const M=i.ZEUQs(te.useCallback,()=>{const D=u;i.ymdCx!=="HkRJD"?_0x2cecdc[D(269)](_0x219588,_0x4ad37f[D(217)](_0x4a6a23)):i.QgUiI(r,a1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:p,onDividerDoubleClick:M,isDragging:v,isDesktop:d}}function Xd({side:u,onPointerDown:i,onDoubleClick:a,isDragging:r}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>i(u,f),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}(function(u,i){const a=wt,r=u();for(;;)try{if(-parseInt(a(123))/1*(-parseInt(a(153))/2)+-parseInt(a(197))/3*(parseInt(a(136))/4)+-parseInt(a(243))/5*(-parseInt(a(128))/6)+-parseInt(a(186))/7*(-parseInt(a(259))/8)+parseInt(a(146))/9+-parseInt(a(232))/10+-parseInt(a(175))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(K0,470166);const ub=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Lx=ub(void 0,function(){const u=wt,i={idDqS:u(270)};return Lx[u(228)]().search(u(270))[u(228)]().constructor(Lx)[u(248)](i.idDqS)});function wt(u,i){u=u-114;const a=K0();let r=a[u];if(wt.OLzvtI===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};wt.OPBCAS=f,wt.WoDzvm={},wt.OLzvtI=!0}const o=a[0],v=u+o,S=wt.WoDzvm[v];if(S)r=S;else{const d=function(h){this.zFsgsZ=h,this.jNrieY=[1,0,0],this.sxYDwo=function(){return"newState"},this.Vhkiqy="\\w+ *\\(\\) *{\\w+ *",this.bTCPWR=`['|"].+['|"];? *}`};d.prototype.xLMDmF=function(){const h=new RegExp(this.Vhkiqy+this.bTCPWR),_=h.test(this.sxYDwo.toString())?--this.jNrieY[1]:--this.jNrieY[0];return this.lJYEyv(_)},d.prototype.lJYEyv=function(h){return~h?this.TvIoJp(this.zFsgsZ):h},d.prototype.TvIoJp=function(h){for(let _=0,p=this.jNrieY.length;_<p;_++)this.jNrieY.push(Math.round(Math.random())),p=this.jNrieY.length;return h(this.jNrieY[0])},new d(wt).xLMDmF(),r=wt.OPBCAS(r),wt.WoDzvm[v]=r}return r}Lx();function K0(){const u=["EwDdqMm","rLrorwO","zMXVD2vYswq","zMXVD2vY","zKfbqwe","BLDJuLe","u0DPuM4","Efbcuuu","wLf5Bvm","odaWotCXmLzTCKDPtW","BwL4zwq","vKvZyxO","yMfZzurPyw1LDgvY","y0nZDNe","wfviq2O","ALbhs2C","mteXnZmYnhvmthDOzq","A0D0DvG","sufnsgq","B3jKzxi","Bgf5zxjZ","C3rLBMnPBhm","tg5Rruq","D0nqCLi","C29YDa","ExLrwMG","s3riDfy","s3vbDfC","44kW44oR44o844oxia","u3LIBuG","ALjlv2G","C2LKzq","BwfW","B2zMC2v0qw5NBgu","z3jW","Bwf4","rvDSqMG","s2X5C20","mti5mZu4mZv1Bg5XCuO","C2nHBgu","wfPvqwC","zM9YrwfJAa","BgvHzKLKCW","zMfICMLJu3f1yxjLu2L6zq","z3jVDxbZ","Aw5KzxG","C2XPy2u","Bgf5","CfP4quC","n25vDvLfqq","BgvHDMvZ","u0DqyNK","Du5wy2K","wuLmt0O","yLfeqLu","y2LesMC","wwztALe","DM1SzLC","zwHbCvi","ChjLDMLVDxnhCM91Chm","ntu5ntniCwrTDNy","BgvHzKLK","ELHMBei","zKTXEgO","sxHnA2u","CKf6C2C","yKnmuhO","EK5ctei","weDgA3C","CejYtgu","CvzWz2C","zxzLCNK","CMfKAxvZ","y29Z","BxngC2S","A1HssfC","zgrhDhe","Cgv0ywXZ","y3HJEha","CfrJuxq","sK9bAfG","uxnxAKW","zMXVD2vYCW","DwXAA28","r0DoyLy","z3jVDxbjza","v0Pcqxm","u0rLu1G","sKfOBwS","Dw5PzM9YBq","C3rLBMnPBeLK","Dg9tDhjPBMC","DM9JB0y","tg5ktfC","B1n2reC","nda0mJm1meriEKzztq","AxjyqLe","zNjkwxq","AMnpEMy","CvnArvq","wwXLqMK","venLDuG","q0r6tvC","y0TcB0C","v2zKrum","Bgf5zxjjza","mJKWmZe1y0Dkq3fl","qK5zswG","CM90yxrPB24","BgvHzG","CxDyswy","C2vHCMnO","EgnAEe0","r2DuANu","yMfJAW","y1bgEei","veDZCxe","t3HWq0m","D3zPBLm","sMfLtvC","BMfTzq","uunIzgK","mtC0mJC3nKDZB1jcEa","twn3u0S","rKLyAwS","BuPoA2O","ELnRsge","ChjVAMvJDa","BLPvs3K","t0nwvwy","A1nUBuK","wM90t1m","uNjtveq","kcGOlISPkYKRksSK","C3rS","Cgv0ywXuExbL","BwPNDLu","AgvPz2H0","CM91BMq","ChvZAa","A2LUza","uuPMr08","s3nQA1q","s2joDe4","C2HTteW","wg9qA00","zMLSDgvY","C3rLBMnPBa","v1jtuKK","uK1isuS","zMXVD2vYswrZ","Cgv0ywW","twHqEge","CfbdrK4","Bwf0y2G","ALbftK8","u0nYBhy","qvrlAKK","rKDpswW","DvHnDu4","whzwvLK","ChvzsKu","DeHHyxu","vfPpz0O","zwLZqNG","sMXfrKC","Cgv0ywXdB3vUDa","AgfZ","CgXHy2vTzw50tw9Kzq","CNnABfu","CgfSzxr0zq","s0nhtMu","Bhvvuwi","5lI444gK44g+44g/","t1vPuMi","zMLUza","A0fSy0C","vezgDhG","tLD1A0e","z3jVDxa","Cvj1sxe","tKnyswS","r0PQAeS","C29Tzq","wwnsu2y","vxf5vfm","svzLuvi","rgniu0i","zMXVD2vYrgLHBwv0zxi","BgvUz3rO","rwnmwge","Aw5JBhvKzxm","uMHoteK","qKT2zhG","DfPIChu","vw5rCNi","sKrkAuC","Bgf5zxi","uK1hwLm","Dw5ZAgLMDa","mxzQAxfVAW","ywvTwve","vvHbt08","Ce1SsNa","qvfZrhG","odrSvKfNywS","yLjftvK","uhf5yxK","vw5nwKe","Cxzdr3a","AxfwrvO","BKLSrva","vhL2qxG","otjhqKLTsgW"];return K0=function(){return u},K0()}function cb({project:u,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:f,setExpandedGroups:o,zoom:v,pan:S,stageSize:d,CANVAS_MAX_SVG:h,deleteLeafById:_}){const p=wt,y={cxcxp:function(w,b){return w*b},ehAqR:function(w,b){return w===b},IAMHd:function(w,b){return w+b},zXflB:function(w,b){return w>b},jPGKg:function(w,b){return w*b},mXRjk:function(w,b){return w/b},KaYeV:function(w,b){return w*b},XZUAg:function(w,b){return w/b},PmHMI:function(w,b){return w*b},xPBQE:function(w,b){return w+b},hoTxi:"jPENO",nIlEP:"iqVEZ",AQsDx:function(w,b){return w===b},IVeQR:"flowers",MhPxa:"mixed",YILOJ:function(w,b,z){return w(b,z)},qvCGp:p(264),JDJiG:"wnkAq",kGtuX:function(w,b){return w(b)},vocoF:function(w,b){return w(b)},vmlfW:p(140),xcZxM:function(w,b){return w-b},XhqEs:function(w,b){return w+b},BNYIh:function(w,b){return w===b},kSnmI:function(w,b,z,A){return w(b,z,A)},KuAtW:function(w,b,z,A){return w(b,z,A)},msFsk:function(w,b){return w<b},BEghA:function(w,b){return w>=b},WRSRI:function(w,b){return w===b},EovWU:"SGQSy",bREMY:function(w,b){return w(b)},UBqQD:"Outer+",RMHIK:"col_green",JYvOV:p(120),OCVUf:function(w,b){return w!==b},KCGNe:"axsCx",wCPrR:function(w,b){return w<=b},nZUKy:p(288),GgTju:p(314),fKqxj:p(281),RMGZS:function(w,b){return w>b},yBtkh:"tZodK",ulZko:"BviFJ",pMlJp:p(118),bQDBU:function(w,b,z,A,L){return w(b,z,A,L)},frJYt:p(226),Pqyay:function(w,b){return w===b},euefw:"jRKWh",vJQAd:function(w,b,z,A){return w(b,z,A)},GGNbV:function(w,b){return w(b)},GbRYb:function(w,b){return w===b},QJfGO:function(w,b){return w>b},yncWk:p(162),WosGu:function(w,b){return w===b},ygCBc:p(246),gPbpK:function(w,b){return w!==b},FTNEj:"WtEGn",mJNkj:"group",luUQb:function(w,b,z){return w(b,z)},UqyTS:function(w,b){return w(b)},ywwID:function(w,b){return w===b},ciDJg:p(284),KbNtN:p(214),AVFEj:function(w,b){return w===b},qSZET:p(213),WfdEC:function(w,b){return w===b},UfNTp:function(w,b){return w!==b},RhNLI:"Cfjrd",sjkUc:function(w,b){return w>b},SGiRn:function(w,b){return w+b},SCrlv:function(w,b,z){return w(b,z)},TZOgJ:function(w,b){return w(b)},CDzMW:p(318),qPZqo:function(w,b){return w(b)},ZfhUX:function(w,b,z){return w(b,z)},bCLPz:function(w,b){return w===b},TCeuH:function(w,b,z){return w(b,z)},AXJJA:function(w,b){return w(b)},qZtyK:function(w,b){return w/b},FfefS:function(w,b){return w/b},McwSK:function(w,b){return w/b},FIXik:function(w,b){return w===b},oQhsx:"back",BojZA:p(271),gmljd:function(w,b){return w(b)},sLJNX:p(327),VEsaz:function(w,b){return w(b)},TyvAx:function(w,b){return w===b},lwmQx:function(w,b){return w(b)},WJBAs:function(w,b){return w(b)},oSvDG:function(w,b){return w(b)},gDIut:function(w,b){return w(b)},qNrSG:function(w,b){return w===b},gPFNy:function(w,b){return w(b)},FiCHT:p(187),yIZJL:function(w,b){return w===b},TmjTw:function(w,b){return w(b)},XGFkw:function(w,b){return w===b},RrSTD:function(w,b){return w(b)},KsjkT:function(w,b){return w(b)},bbXcK:p(324),hJpXE:p(237),OUiRb:function(w,b){return w>b},vtVyS:function(w,b){return w===b},kAlcG:function(w,b){return w(b)},zSkHa:function(w,b){return w===b},qYUiv:function(w,b){return w===b},KiUvE:p(173),fAAAa:p(282),ZotOS:function(w,b){return w(b)},cCsvq:function(w,b){return w===b},gCxxR:function(w,b){return w(b)},BujCR:function(w,b,z){return w(b,z)},eisBx:function(w,b,z){return w(b,z)},tHaau:function(w,b,z){return w(b,z)}},M=w=>{const b=p,z=[...w[b(157)]].sort((k,B)=>k[b(156)]-B.order),A=z[0];if(!A)return 28;const L=w.fabricSquareSize??u.fabricSquareSize,{length:N}=qt(L),T=y[b(215)](N,A[b(176)]??1);let j;if(y.ehAqR(w.placementMode,""))j=T/3;else{const B=70*Math.PI/180,U=y.IAMHd(z[b(326)],1),Q=U-1,ee=y[b(199)](U,1)?y[b(152)](y.mXRjk(Q,U-1),B):0;j=y.jPGKg(y.KaYeV(T,30/100),Math.cos(ee))}return y[b(177)](Math.round(y.PmHMI(y.xPBQE(A[b(209)]??28,j),10)),10)},D=w=>{const b=p,z={nWcRQ:function(A,L){return y.AQsDx(A,L)},OgExi:b(264),BKvdx:function(A,L){return A===L},oIFTz:function(A,L){return A(L)},NWukA:y.IVeQR,UXAOO:y.MhPxa,jcOzf:b(202)};y.YILOJ(i,A=>{const L=b;if(y.hoTxi!==L(292))_0x3b8d78[L(158)]=(_0x45dcdb[L(158)]??[])[L(283)](N=>N.id!==_0x47c36a);else if(A.flowers=(A.flowers||[])[L(283)](N=>N.id!==w),A.groups){for(const N of A[L(181)])if(y[L(134)]===L(133))N[L(287)]=N[L(287)][L(283)](T=>T!==w);else{const T=new _0x1449ae(_0xbab68),j=new _0x124bc1(_0x3f565b),k=_0xd25953[L(283)](U=>!T.has(U)),B=_0x4c531d[L(283)](U=>!j[L(304)](U));k.length===0&&z.nWcRQ(B[L(326)],0)?_0x2ad07d({kind:z.OgExi}):z.nWcRQ(k[L(326)],0)&&z[L(142)](B.length,1)?_0x227a91({kind:"leaf",leafId:B[0]}):z.nWcRQ(k.length,0)?_0x4e3fb9({kind:L(187),leafIds:B}):z[L(116)](B[L(326)],0)&&k[L(326)]===1?z.oIFTz(_0x1a6d58,{kind:"flower",flowerId:k[0]}):B[L(326)]===0?_0x2b5f53({kind:z[L(315)],flowerIds:k}):z.oIFTz(_0x4cf50f,{kind:z[L(125)],flowerIds:k,leafIds:B})}A[L(181)]=A.groups.filter(N=>N[L(287)].length+N[L(179)].length>0)}},!0),r({kind:y[b(132)]}),f(A=>{const L=b;if(L(202)!==z[L(235)]){const N=_0x4aba10[L(157)][L(312)](T=>T.id===_0x35c6b8.id);N&&(N.radius=_0x74ed59.radius)}else{const N={...A||{}};return delete N[w],N}})},g=(w,b)=>{const z=p,A={aemYQ:function(N,T){return N(T)}},L=u.flowers.find(N=>N.id===w);if(L&&(L.layers||[]).length<=1)if(y.ehAqR(y[z(119)],"IMVNX"))A[z(124)](_0x198feb,{kind:z(219),flowerIds:_0x5a60b9});else{y.kGtuX(D,w);return}y[z(190)](i,N=>{const T=z,j=(N.flowers||[])[T(312)](k=>k.id===w);j&&(j.layers=(j[T(157)]||[])[T(283)](k=>k.id!==b),j.layers.slice().sort((k,B)=>k.order-B[T(156)])[T(178)]((k,B)=>k.order=B+1))},!0),y[z(229)](r,{kind:y.vmlfW,flowerId:w})},m=w=>{const b=p,z={utflF:function(ee,ne){return y.kGtuX(ee,ne)},YcRSf:function(ee,ne){return ee*ne},GJjhK:function(ee,ne){return ee===ne},KtHtV:function(ee,ne){return y.xcZxM(ee,ne)},geLqf:function(ee,ne){return y[wt(177)](ee,ne)},CZLQv:function(ee,ne){return y.XhqEs(ee,ne)},WChKD:function(ee,ne){return y.BNYIh(ee,ne)},KCaJX:b(226),cKBoG:function(ee,ne,ce,oe){return y.kSnmI(ee,ne,ce,oe)},hSAmS:"UFbfo"},A=u[b(219)].find(ee=>ee.id===w);if(!A)return;const L=[...A[b(157)]][b(161)]((ee,ne)=>ee.order-ne[b(156)]),N=L[0],T=y[b(164)](ye,N?.[b(303)]??6,5,24),j=L.map(ee=>ee.scale??1),k=y[b(211)](j[b(326)],2)||j[b(208)](ee=>Math.abs(ee-j[0])<.001);let B=N?.scale??1;if(!k&&y.BEghA(L.length,2)){const ee=L[y[b(249)](L[b(326)],1)],ne=(ee[b(156)]??1)-(N.order??1);if(y[b(199)](ne,0))if(y.WRSRI(y.EovWU,"SGQSy")){const ce=((N[b(176)]??1)-(ee.scale??1))/ne;B=ye(y[b(144)](N[b(176)]??1,ce),.3,3)}else{const ce=[..._0x4a30c2[b(157)]][b(161)]((Ie,ze)=>Ie[b(156)]-ze[b(156)]),oe=ce[0];if(!oe)return 28;const be=_0x1be80a.fabricSquareSize??_0x2c848f.fabricSquareSize,{length:he}=BrCAvZ.utflF(_0x543634,be),je=BrCAvZ[b(321)](he,oe.scale??1);let He;if(BrCAvZ[b(319)](_0x36fa1c[b(305)],""))He=je/3;else{const ze=70*_0x1bf9e5.PI/180,Xe=ce[b(326)]+1,mt=Xe-1,gt=Xe>1?mt/BrCAvZ[b(163)](Xe,1)*ze:0;He=je*(30/100)*_0x4c3b98[b(210)](gt)}return BrCAvZ.geLqf(_0x523d27.round(BrCAvZ.CZLQv(oe[b(209)]??28,He)*10),10)}}const U=M(A),Q={id:y[b(129)](kt,b(184)),name:y.UBqQD,order:1,petalType:N?.[b(272)]??b(310),petalCount:T,radius:U,scale:B,widthScale:y.kGtuX(xi,T),offsetAngle:N?.offsetAngle??0,colorId:N?.colorId??u[b(307)]?.[0]?.id??y[b(286)],visible:!0,locked:!1};N&&(Q[b(170)]=tl(N.petalCount,N[b(170)]??0,T)),y.YILOJ(i,ee=>{const ne=b,ce={IxMke:function(ze,Xe){return ze(Xe)},QsWjL:ne(264)},oe=ee.flowers.find(ze=>ze.id===w);if(!oe)return;oe[ne(157)][ne(178)](ze=>ze.order+=1),oe[ne(157)][ne(122)](Q);const be=Math[ne(275)](lr(Q.radius,Q[ne(176)],oe[ne(180)]??ee[ne(180)])),he=oe[ne(180)]??ee.fabricSquareSize,je=z.WChKD(oe[ne(305)],"")?ir(he,oe[ne(157)][ne(326)],z.KCaJX,0):z[ne(240)](ta,oe.baseDiameter??ee[ne(149)],he,{layerCount:oe[ne(157)].length}).diameter;oe.flowerDiameter=Math[ne(172)](oe.flowerDiameter||je,be);const He=[...oe.layers][ne(161)]((ze,Xe)=>ze[ne(156)]-Xe[ne(156)]),Ie=He.reverse();for(let ze=1;ze<Ie[ne(326)];ze++)if(z.hSAmS===ne(254))ce[ne(201)](_0x537041,{kind:ce[ne(218)]});else{const Xe=Ie[ze-1],mt=Ie[ze];mt.offsetAngle=tl(Xe.petalCount,Xe[ne(170)],mt[ne(303)])}},!0),y[b(229)](r,{kind:y.JYvOV,flowerId:w,layerId:Q.id}),f(ee=>({...ee,[w]:!0}))},G=w=>{const b=p,z={pTcQt:function(T,j){return y[wt(266)](T,j)},bHVkj:"jDBYH",tZbpu:function(T,j,k){return T(j,k)},YfSjQ:y[b(308)],nKQio:function(T,j){return T-j}},A=u.flowers[b(312)](T=>T.id===w);if(!A||!A.layers||A[b(157)].length===0)return;if(y[b(160)](A.layers.length,1)){D(w);return}const L=[...A.layers].sort((T,j)=>T[b(156)]-j[b(156)]),N=L[0];N&&(i(T=>{const j=b,k=T.flowers.find(Q=>Q.id===w);if(!k)return;k.layers=k.layers.filter(Q=>Q.id!==N.id),k[j(157)].slice().sort((Q,ee)=>Q.order-ee[j(156)]).forEach((Q,ee)=>Q.order=ee+1);const B=[...k.layers].sort((Q,ee)=>Q[j(156)]-ee.order),U=k[j(180)]??T.fabricSquareSize;if(B.length>0)if(z[j(216)](z.bHVkj,z.bHVkj))_0x411bf9[j(158)]=(_0x77a7db.stencils??[]).filter(Q=>Q.id!==_0x5ecf03.stencilId);else{z[j(117)](hx,B,U);for(const ne of B)if(z[j(193)]==="SjklO")_0x28f52[j(181)]=_0x129dba[j(181)].filter(ce=>ce.id!==_0x178c9d);else{const ce=k.layers[j(312)](oe=>oe.id===ne.id);ce&&(ce.radius=ne.radius)}const Q=B[0];k[j(325)]=Math.round(lr(Q[j(209)],Q.scale??1,U));const ee=[...B].reverse();for(let ne=1;ne<ee[j(326)];ne++){const ce=ee[z.nKQio(ne,1)],oe=ee[ne];oe[j(170)]=tl(ce[j(303)],ce[j(170)],oe[j(303)])}}},!0),a.kind===b(120)&&y[b(244)](a.layerId,N.id)?y[b(129)](r,{kind:"flower",flowerId:w}):a.kind===y[b(265)]&&a[b(242)]===N.id&&r({kind:"flower",flowerId:w}))},H=()=>{const w=p,b={cPFxB:function(z,A){return y.GbRYb(z,A)},fpkrQ:function(z,A){return y[wt(129)](z,A)},vHnEf:function(z,A){return y[wt(278)](z,A)},JMtWM:function(z,A,L,N){return y[wt(267)](z,A,L,N)},uNVci:function(z,A){return z-A},UnMZA:function(z,A,L,N){return z(A,L,N)},MupmA:w(212),SDeSX:function(z,A){return y.zXflB(z,A)},wvinS:y.yncWk,ZQymS:function(z,A){return y.xcZxM(z,A)},larxj:function(z,A){return z!==A},QCbdi:function(z,A){return y.bREMY(z,A)},Szrrc:"project"};if(!y.Pqyay(a.kind,w(264))){if(y.WosGu(a[w(277)],y.ygCBc)){_(a[w(198)]);return}if(a[w(277)]===w(187)){const z=a[w(179)];i(A=>{const L=w;if(L(147),A.leaves=(A.leaves??[]).filter(N=>!z.includes(N.id)),A.groups){for(const N of A[L(181)])N.leafIds=N[L(179)].filter(T=>!z[L(114)](T));A[L(181)]=A.groups[L(283)](N=>N.flowerIds.length+N.leafIds.length>0)}},!0),r({kind:y.qvCGp});return}if(a[w(277)]===y[w(289)])if(y.gPbpK(y[w(138)],y.FTNEj)){for(const z of _0x1474c6[w(181)])z[w(179)]=z.leafIds.filter(A=>!_0x1a6abb.includes(A));_0x5db86d.groups=_0x4bfc23[w(181)].filter(z=>z.flowerIds[w(326)]+z[w(179)][w(326)]>0)}else{const{flowerIds:z,leafIds:A}=a;i(L=>{const N=w;if(N(290)!==b.MupmA){if(L.flowers=L[N(219)][N(283)](T=>!z.includes(T.id)),L.leaves=(L[N(187)]??[]).filter(T=>!A[N(114)](T.id)),L[N(181)]){for(const T of L[N(181)])T.flowerIds=T.flowerIds[N(283)](j=>!z.includes(j)),T[N(179)]=T[N(179)][N(283)](j=>!A.includes(j));L[N(181)]=L.groups.filter(T=>T.flowerIds[N(326)]+T.leafIds[N(326)]>0)}}else{const T=_0x31d8a8.flowers.find(B=>B.id===_0x40aa67);if(!T)return;T.layers=T[N(157)][N(283)](B=>B.id!==_0x1de79d.id),T[N(157)][N(183)]()[N(161)]((B,U)=>B[N(156)]-U.order).forEach((B,U)=>B[N(156)]=U+1);const j=[...T.layers][N(161)]((B,U)=>B[N(156)]-U.order),k=T.fabricSquareSize??_0x1c0226[N(180)];if(hjzdue.vHnEf(j.length,0)){_0x4a230f(j,k);for(const Q of j){const ee=T[N(157)][N(312)](ne=>ne.id===Q.id);ee&&(ee[N(209)]=Q.radius)}const B=j[0];T[N(325)]=_0x30a287[N(275)](hjzdue.JMtWM(_0x5e1cfd,B.radius,B[N(176)]??1,k));const U=[...j].reverse();for(let Q=1;Q<U[N(326)];Q++){const ee=U[hjzdue[N(189)](Q,1)],ne=U[Q];ne[N(170)]=hjzdue[N(131)](_0xad2216,ee.petalCount,ee[N(170)],ne.petalCount)}}}},!0),y.kGtuX(r,{kind:y.qvCGp});return}if(a[w(277)]===w(219)){const z=a[w(287)];i(A=>{const L=w,N={uXMuN:function(T,j){return T===j},gTWHj:function(T,j){return T(j)},ATKjI:function(T,j){return T(j)},YuQUy:function(T,j){return y[wt(285)](T,j)},zrkKI:y.IVeQR,rUgyE:function(T,j){return T(j)}};if(A[L(219)]=A.flowers[L(283)](T=>!z.includes(T.id)),A[L(181)])if(y[L(250)]!==y[L(250)]){const T=_0x3f4cb7[L(287)],j=_0x10cc7c[L(179)];if(T[L(114)](_0x25bd71)){const k=new _0x3706da(_0xfd8563),B=new _0x18105e(_0x50b757),U=T.filter(ee=>!k.has(ee)),Q=j[L(283)](ee=>!B.has(ee));U[L(326)]===0&&N[L(296)](Q.length,0)?_0x57ca29({kind:"project"}):U.length===0&&Q[L(326)]===1?N.gTWHj(_0x53d146,{kind:L(246),leafId:Q[0]}):N.uXMuN(U.length,0)?N.ATKjI(_0x5acd4a,{kind:L(187),leafIds:Q}):N.uXMuN(Q.length,0)&&U.length===1?_0x446914({kind:L(140),flowerId:U[0]}):N.YuQUy(Q.length,0)?_0x20c560({kind:N.zrkKI,flowerIds:U}):N.rUgyE(_0x5bfada,{kind:L(147),flowerIds:U,leafIds:Q})}else{const k=[...new _0x3ec83d([...T,..._0x4db664])],B=[...new _0x51327c([...j,..._0x3ea13e])];N[L(294)](_0x17e49d,{kind:"mixed",flowerIds:k,leafIds:B})}}else{for(const T of A[L(181)])T[L(287)]=T.flowerIds.filter(j=>!z[L(114)](j));A.groups=A.groups.filter(T=>T[L(287)].length+T.leafIds[L(326)]>0)}},!0),r({kind:"project"});return}if(a[w(277)]===y.mJNkj)if(w(253)!=="NzoOQ"){y[w(309)](i,z=>{const A=w;if(b.cPFxB(b[A(255)],"yyQZh")){if(!z.groups)return;z.groups=z[A(181)].filter(L=>L.id!==a.groupId)}else{if(!_0x1872dd.groups)return;const L=_0x3a75d3[A(181)][A(312)](N=>N.id===_0x4138ef);if(!L)return;if(L.previousGroups&&b[A(224)](L.previousGroups.length,0)){_0x599abc[A(181)]=_0x1be5be.groups.filter(N=>N.id!==_0x1cfed9);for(const N of L[A(196)])_0x5f46a2[A(181)].push({id:N.id,name:N.name,flowerIds:[...N.flowerIds],leafIds:[...N[A(179)]],rotation:N.rotation})}else _0x186af1.groups=_0x1b901d[A(181)].filter(N=>N.id!==_0x615ed5)}},!0),y[w(322)](r,{kind:"project"});return}else{const z=_0x14bf2d[hjzdue[w(145)](_0x43086a.length,1)],A=hjzdue[w(145)](z.order??1,_0x410c82.order??1);if(hjzdue.SDeSX(A,0)){const L=((_0x2ea2ab.scale??1)-(z.scale??1))/A;_0x2f28ed=hjzdue.JMtWM(_0x187b64,(_0x449e16[w(176)]??1)+L,.3,3)}}if(y.ywwID(a[w(277)],y[w(192)])){y.luUQb(i,z=>{const A=w;z.stencils=(z[A(158)]??[])[A(283)](L=>L.id!==a.stencilId)},!0),y.vocoF(r,{kind:y[w(132)]});return}if(y.WosGu(a.kind,y[w(280)])){r({kind:y[w(194)],flowerId:a.flowerId});return}if(y.AVFEj(a[w(277)],y[w(194)]))if(y[w(236)]!==y.qSZET){if(_0x2507bf.flowers=_0x3bad87.flowers[w(283)](z=>!_0x4efac2.includes(z.id)),_0x13c987.groups){for(const z of _0x5275eb.groups)z[w(287)]=z[w(287)].filter(A=>!_0x42c7a3.includes(A));_0x110c1b.groups=_0x30206b[w(181)].filter(z=>z[w(287)].length+z[w(179)][w(326)]>0)}}else{i(z=>{const A=w;if(z.flowers=z.flowers.filter(L=>L.id!==a.flowerId),z[A(181)]){for(const L of z.groups)b.larxj(A(151),A(297))?L.flowerIds=L[A(287)][A(283)](N=>N!==a[A(139)]):_0x4989d2[A(287)][A(114)](_0x1f5e38)||_0x4c5565[A(287)].push(_0xebb39);z.groups=z.groups[A(283)](L=>L.flowerIds.length+L.leafIds[A(326)]>0)}},!0),r({kind:"project"});return}if(a[w(277)]===w(120)||y[w(241)](a.kind,y[w(265)]))if(y.UfNTp(w(206),y[w(115)])){const z=u[w(219)][w(312)](L=>L.id===a.flowerId),A=z?[...z[w(157)]][w(161)]((L,N)=>L[w(156)]-N[w(156)])[0]?.id===a[w(242)]:!1;y[w(190)](i,L=>{const N=w,T={FGOIl:function(j,k){return j(k)},yLVfk:function(j,k,B){return j(k,B)}};if(y.WRSRI(N(281),y[N(200)])){const j=L.flowers.find(k=>k.id===a[N(139)]);if(!j)return;if(j[N(157)]=j[N(157)].filter(k=>k.id!==a[N(242)]),j.layers.slice().sort((k,B)=>k[N(156)]-B[N(156)]).forEach((k,B)=>k.order=B+1),y.RMGZS(j.layers[N(326)],0))if(N(247)!==N(247)){NVsjqf[N(295)](_0x3eb986,_0x4b6e9c);return}else{const k=[...j[N(157)]][N(161)]((Q,ee)=>Q.order-ee[N(156)]),B=j[N(180)]??L.fabricSquareSize;y.YILOJ(hx,k,B);for(const Q of k)if(y.yBtkh==="tZodK"){const ee=j[N(157)].find(ne=>ne.id===Q.id);ee&&(ee[N(209)]=Q[N(209)])}else{const ee=_0x59e2f9[N(179)];_0x486b68(ne=>{const ce=N;if(ne.leaves=(ne.leaves??[]).filter(oe=>!ee.includes(oe.id)),ne[ce(181)]){for(const oe of ne.groups)oe.leafIds=oe.leafIds[ce(283)](be=>!ee[ce(114)](be));ne.groups=ne[ce(181)][ce(283)](oe=>oe[ce(287)].length+oe.leafIds[ce(326)]>0)}},!0),b[N(258)](_0x454dab,{kind:b.Szrrc});return}if(A){const Q=k[0];j.flowerDiameter=Math[N(275)](y.KuAtW(lr,Q[N(209)],Q.scale??1,B))}else if(y[N(220)]===y[N(126)]){_0x15c335.groups||(_0x5c6b73[N(181)]=[]);const Q=_0x366ca2[N(181)].map(ne=>{const ce=N,oe=ne[ce(257)][ce(291)](/^ (\d+)$/);return oe?T.yLVfk(_0x22c575,oe[1],10):0}),ee=Q.length>0?_0xc0631f.max(...Q)+1:1;_0x4a865e.groups[N(276)]({id:_0x3996c5,name:" "+ee,flowerIds:[..._0x29414e],leafIds:[..._0x3a5b11],rotation:0})}else{const Q=y[N(285)](j[N(305)],"")?y[N(191)](ir,B,j.layers[N(326)],y[N(234)],0):ta(j.baseDiameter??L.baseDiameter,B,{layerCount:j.layers[N(326)]}).diameter;J0(k,B,j[N(325)]||Q);for(const ee of k){const ne=j[N(157)].find(ce=>ce.id===ee.id);ne&&(y[N(130)](y.euefw,N(167))?(ne.radius=ee[N(209)],ne.scale=ee.scale):_0xadb3b({kind:"flowers",flowerIds:_0x1dc5a2}))}}const U=[...k].reverse();for(let Q=1;y[N(211)](Q,U.length);Q++){const ee=U[y.xcZxM(Q,1)],ne=U[Q];ne[N(170)]=y.vJQAd(tl,ee.petalCount,ee.offsetAngle,ne[N(303)])}}}else _0x222073[N(287)]=_0x34068c[N(287)][N(283)](j=>!_0x5348c0.includes(j))},!0),y[w(154)](r,{kind:y.vmlfW,flowerId:a.flowerId})}else _0x577d79(z=>{const A=w;z.stencils=(z[A(158)]??[])[A(283)](L=>L.id!==_0x591034)},!0),_0x215a8a.kind==="stencil"&&_0x69beeb[w(227)]===_0x184884&&y[w(221)](_0x309a5b,{kind:y.qvCGp})}},R=w=>({id:w.id,name:w[p(257)],flowerIds:[...w[p(287)]],leafIds:[...w[p(179)]],rotation:w[p(245)]}),K=y.BujCR(te.useCallback,w=>{const b=p,z=kt(b(171));y[b(293)](i,A=>{const L=b,N={LnkED:function(k,B,U){return y[wt(309)](k,B,U)},SGPby:"puYJE"};A[L(181)]||(A[L(181)]=[]);const T=A[L(181)][L(169)](k=>{const B=L,U={JlEFG:function(Q,ee){return Q+ee}};if(B(298)!==N[B(188)]){const Q={rsZlU:function(ne,ce,oe){return ne(ce,oe)}},ee=_0x39ee61("grp");N.LnkED(_0xf267d0,ne=>{const ce=B;ne[ce(181)]||(ne[ce(181)]=[]);const oe=ne.groups[ce(169)](he=>{const je=ce,He=he[je(257)].match(/^ (\d+)$/);return He?Q[je(306)](_0x49711a,He[1],10):0}),be=oe[ce(326)]>0?U[ce(302)](_0x583dca.max(...oe),1):1;ne.groups.push({id:ee,name:" "+be,flowerIds:[..._0x4a924d],leafIds:[..._0x3461c3],rotation:0})},!0),_0x39e738({kind:B(316),groupId:ee}),_0x2f9645(ne=>({...ne,[ee]:!0}))}else{const Q=k[B(257)].match(/^ (\d+)$/);return Q?N[B(159)](parseInt,Q[1],10):0}}),j=y.sjkUc(T.length,0)?y[L(143)](Math.max(...T),1):1;A.groups.push({id:z,name:L(165)+j,flowerIds:[...w],leafIds:[],rotation:0})},!0),y[b(300)](r,{kind:y[b(262)],groupId:z}),o(A=>({...A,[z]:!0}))},[i,r,o]),O=te.useCallback((w,b)=>{const z=p,A=kt(z(171));i(L=>{const N=z,T={eWJgB:function(B,U){return y.mXRjk(B,U)},qPcCf:function(B,U){return B-U},SybmH:function(B,U,Q,ee){return B(U,Q,ee)},JOAhX:function(B,U){return B+U},okvrN:function(B,U){return B!==U},Spnip:y[N(239)],TVlGd:function(B,U,Q){return B(U,Q)}};L[N(181)]||(L[N(181)]=[]);const j=L[N(181)][N(169)](B=>{const U=N;if(T.okvrN(T.Spnip,U(230))){const Q=B[U(257)][U(291)](/^ (\d+)$/);return Q?T.TVlGd(parseInt,Q[1],10):0}else{const Q=sVtFsf.eWJgB(sVtFsf.qPcCf(_0x58af1b.scale??1,_0x5e7fce[U(176)]??1),_0x51e5c1);_0x1c0359=sVtFsf[U(166)](_0x180b0f,sVtFsf[U(217)](_0x1d6f94[U(176)]??1,Q),.3,3)}}),k=j.length>0?y[N(155)](Math.max(...j),1):1;L.groups.push({id:A,name:N(165)+k,flowerIds:[...w],leafIds:[...b],rotation:0})},!0),y.TZOgJ(r,{kind:y[z(262)],groupId:A}),y.kGtuX(o,L=>({...L,[A]:!0}))},[i,r,o]),Z=te.useCallback(w=>{const b=p;y[b(293)](i,z=>{const A=b;if(!z[A(181)])return;const L=z.groups[A(312)](N=>N.id===w);if(L)if(L.previousGroups&&L[A(196)].length>0){z[A(181)]=z.groups[A(283)](N=>N.id!==w);for(const N of L.previousGroups)z.groups[A(276)]({id:N.id,name:N[A(257)],flowerIds:[...N[A(287)]],leafIds:[...N.leafIds],rotation:N.rotation})}else z.groups=z.groups.filter(N=>N.id!==w)},!0),y.qPZqo(r,{kind:y[b(132)]})},[i,r]),q=y[p(301)](te.useCallback,w=>{y.ZfhUX(i,b=>{const z=wt;b.groups&&(b[z(181)]=b[z(181)].filter(A=>A.id!==w))},!0),r({kind:"project"})},[i,r]),X=te.useCallback((w,b)=>{const z=p,A={psKYl:function(L,N){return y[wt(203)](L,N)},rZpeL:z(317),zNBLB:function(L,N){return L===N},mjgvU:z(256)};y[z(238)](i,L=>{const N=z;if(A.psKYl(A.rZpeL,N(317))){const T=(L.groups??[]).find(j=>j.id===w);if(!T)return;T.previousGroups=[R(T)];for(const j of b)A[N(204)](A[N(273)],N(207))?(_0x3ad7dc[N(209)]=_0x4cbc05.radius,_0x33ea7b[N(176)]=_0x4e473c.scale):T[N(287)][N(114)](j)||T.flowerIds[N(276)](j)}else _0x2ec76c({kind:"petals",flowerId:_0x33a392,petals:_0x4705a4})},!0),r({kind:z(316),groupId:w})},[i,r]),P=y[p(301)](te.useCallback,(w,b)=>{const z=p,A=w[0],L=w[z(183)](1);i(N=>{const T=z;if(!N[T(181)])return;const j=N.groups.find(B=>B.id===A);if(!j)return;const k=[];for(const B of w){const U=N.groups[T(312)](Q=>Q.id===B);U&&k[T(276)](R(U))}j[T(196)]=k;for(const B of L){const U=N[T(181)][T(312)](Q=>Q.id===B);if(U){for(const Q of U.flowerIds)j.flowerIds.includes(Q)||j.flowerIds.push(Q);for(const Q of U[T(179)])j[T(179)][T(114)](Q)||j[T(179)].push(Q)}}for(const B of b)j[T(287)].includes(B)||j.flowerIds.push(B);N[T(181)]=N[T(181)][T(283)](B=>!L[T(114)](B.id))},!0),r({kind:y.mJNkj,groupId:A}),y.AXJJA(o,N=>({...N,[A]:!0}))},[i,r,o]),W=(w,b)=>{const z=p,A=d.w/d.h,L=y.qZtyK(520,v),N=L*A,T=y.FfefS(-S.x,v),j=y.XZUAg(-S.y,v),k=y.SGiRn(T,y[z(260)](N,2)),B=y.xPBQE(j,y.XZUAg(L,2)),U=y.FIXik(b,y.oQhsx)?z(251):z(168),Q=$d[w][U][z(274)]*an,ee=ye(k,0,h),ne=ye(y[z(249)](B,y.FfefS(Q,2)),0,h),ce={id:kt(y.BojZA),variant:w,pose:b,position:{x:ee,y:ne}};i(oe=>{const be=z;oe.stencils||(oe.stencils=[]),oe.stencils[be(276)](ce)},!0),r({kind:"stencil",stencilId:ce.id})},V=w=>{const b=p;i(z=>{const A=wt;z.stencils=(z.stencils??[])[A(283)](L=>L.id!==w)},!0),y[b(195)](a[b(277)],b(284))&&a.stencilId===w&&r({kind:y.qvCGp})},I=y[p(299)](te.useCallback,w=>{const b=p,z=(u[b(181)]??[])[b(312)](N=>N[b(287)].includes(w)),A=z?z[b(287)]:[w],L=z?z[b(179)]:[];if(a.kind===y[b(323)]){const N=a.flowerIds;if(N.includes(w)){const T=new Set(A),j=N[b(283)](k=>!T.has(k));j[b(326)]===0?r({kind:y.qvCGp}):j[b(326)]===1?y.gmljd(r,{kind:y.vmlfW,flowerId:j[0]}):y.sLJNX!=="WlQNo"?r({kind:b(219),flowerIds:j}):y[b(221)](_0x913782,{kind:y[b(323)],flowerIds:_0x48b98a})}else{const T=[...new Set([...N,...A])];L.length>0?r({kind:y[b(289)],flowerIds:T,leafIds:L}):y[b(148)](r,{kind:y[b(323)],flowerIds:T})}}else if(y[b(135)](a.kind,y[b(194)])||y[b(127)](a[b(277)],b(120))||a[b(277)]===y.nZUKy||a[b(277)]===b(214)){const N=a.flowerId;if(N===w)return;const T=(u[b(181)]??[]).find(Q=>Q[b(287)].includes(N)),j=T?T[b(287)]:[N],k=T?T[b(179)]:[],B=[...new Set([...j,...A])],U=[...new Set([...k,...L])];y[b(121)](U.length,0)?y.lwmQx(r,{kind:"mixed",flowerIds:B,leafIds:U}):B[b(326)]===1?y[b(223)](r,{kind:y[b(194)],flowerId:B[0]}):y.oSvDG(r,{kind:"flowers",flowerIds:B})}else if(a[b(277)]==="group"){const N=(u[b(181)]??[])[b(312)](U=>U.id===a[b(222)]),T=N?N.flowerIds:[],j=N?N[b(179)]:[];if(T[b(114)](w))return;const k=[...new Set([...T,...A])],B=[...new Set([...j,...L])];B[b(326)]>0?y[b(223)](r,{kind:"mixed",flowerIds:k,leafIds:B}):r({kind:y[b(323)],flowerIds:k})}else if(a[b(277)]===y[b(137)]){const N=(u[b(181)]??[])[b(312)](U=>U[b(179)].includes(a[b(198)])),T=N?N[b(287)]:[],j=N?N[b(179)]:[a[b(198)]],k=[...new Set([...T,...A])],B=[...new Set([...j,...L])];B.length>0?y.gDIut(r,{kind:"mixed",flowerIds:k,leafIds:B}):r({kind:b(219),flowerIds:k})}else if(y[b(261)](a[b(277)],b(187))){const N=[...new Set(A)],T=[...new Set([...a.leafIds,...L])];r({kind:y.MhPxa,flowerIds:N,leafIds:T})}else if(a[b(277)]==="mixed"){const N=a.flowerIds,T=a[b(179)];if(N[b(114)](w)){const j=new Set(A),k=new Set(L),B=N.filter(Q=>!j.has(Q)),U=T.filter(Q=>!k.has(Q));B.length===0&&y.BNYIh(U[b(326)],0)?r({kind:y.qvCGp}):y.qNrSG(B.length,0)&&U[b(326)]===1?y.gPFNy(r,{kind:b(246),leafId:U[0]}):y.WfdEC(B.length,0)?r({kind:y.FiCHT,leafIds:U}):y.WosGu(U[b(326)],0)&&y.yIZJL(B[b(326)],1)?y.TmjTw(r,{kind:y[b(194)],flowerId:B[0]}):y[b(205)](U[b(326)],0)?y[b(269)](r,{kind:"flowers",flowerIds:B}):y.gDIut(r,{kind:"mixed",flowerIds:B,leafIds:U})}else{const j=[...new Set([...N,...A])],k=[...new Set([...T,...L])];y[b(279)](r,{kind:y.MhPxa,flowerIds:j,leafIds:k})}}else y.bbXcK===y.hJpXE?_0x300892.groups[b(276)]({id:_0x36d05e.id,name:_0x35963f.name,flowerIds:[..._0xdad58f[b(287)]],leafIds:[..._0x313122.leafIds],rotation:_0x57fb45.rotation}):y[b(311)](L[b(326)],0)?r({kind:y[b(289)],flowerIds:A,leafIds:L}):y.vtVyS(A[b(326)],1)?r({kind:y[b(194)],flowerId:A[0]}):y[b(231)](r,{kind:y.IVeQR,flowerIds:A})},[a,r,u.groups]);return{deleteFlowerById:D,deleteLayerById:g,computeNewOuterRadius:M,addOuterLayer:m,deleteOuterLayer:G,deleteSelected:H,groupSelectedFlowers:K,groupSelectedMixed:O,ungroupFlowers:Z,ungroupAll:q,addToGroup:X,mergeGroups:P,addStencil:W,deleteStencil:V,handleShiftFlowerSelect:I,togglePetalSelection:(w,b,z,A)=>{const L=p;if(!A){r({kind:y.nZUKy,flowerId:w,layerId:b,index:z});return}const N=b+":"+z;if(a[L(277)]==="petals"&&a.flowerId===w){const T=a.petals||[];if(T[L(320)](k=>k[L(242)]+":"+k.index===N)){const k=T[L(283)](B=>B.layerId+":"+B[L(182)]!==N);if(y.vtVyS(k.length,0))L(174)!==L(174)?y[L(313)](_0x27fb72,{kind:L(219),flowerIds:_0x2f60e7}):y[L(129)](r,{kind:y[L(194)],flowerId:w});else if(y[L(263)](k[L(326)],1))if(y.qYUiv(y.KiUvE,y[L(141)])){const B=_0x349196[L(157)][L(312)](U=>U.id===_0xb168f1.id);B&&(B[L(209)]=_0x472993[L(209)],B[L(176)]=_0x41dc56[L(176)])}else r({kind:L(288),flowerId:w,layerId:k[0][L(242)],index:k[0][L(182)]});else if(L(185)!=="pZxAG"){const B=_0x1e5406[_0x2a99ee-1],U=_0x5beb5d[_0x14b639];U[L(170)]=tQYuwz.RUTeP(_0x28331f,B[L(303)],B.offsetAngle,U[L(303)])}else r({kind:y[L(280)],flowerId:w,petals:k})}else y[L(268)](r,{kind:L(214),flowerId:w,petals:[...T,{layerId:b,index:z}]})}else if(a.kind===L(288)&&y[L(150)](a.flowerId,w)){const T={layerId:a.layerId,index:a[L(182)]},j={layerId:b,index:z};if(T.layerId+":"+T.index===N)return;y.gCxxR(r,{kind:L(214),flowerId:w,petals:[T,j]})}else I(w)}}}(function(u,i){const a=Ut,r=u();for(;;)try{if(parseInt(a(344))/1+-parseInt(a(340))/2+parseInt(a(278))/3+parseInt(a(317))/4*(-parseInt(a(338))/5)+-parseInt(a(284))/6*(parseInt(a(293))/7)+-parseInt(a(302))/8+-parseInt(a(319))/9*(-parseInt(a(361))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(U0,448342);function Ut(u,i){u=u-275;const a=U0();let r=a[u];if(Ut.fCQskC===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Ut.NEzdlY=f,Ut.JMGSVY={},Ut.fCQskC=!0}const o=a[0],v=u+o,S=Ut.JMGSVY[v];if(S)r=S;else{const d=function(h){this.WnoGWV=h,this.FtcDFW=[1,0,0],this.DesTrH=function(){return"newState"},this.NKVMlA="\\w+ *\\(\\) *{\\w+ *",this.tbQCkt=`['|"].+['|"];? *}`};d.prototype.wYeSuM=function(){const h=new RegExp(this.NKVMlA+this.tbQCkt),_=h.test(this.DesTrH.toString())?--this.FtcDFW[1]:--this.FtcDFW[0];return this.NnNaRN(_)},d.prototype.NnNaRN=function(h){return~h?this.qVRIfh(this.WnoGWV):h},d.prototype.qVRIfh=function(h){for(let _=0,p=this.FtcDFW.length;_<p;_++)this.FtcDFW.push(Math.round(Math.random())),p=this.FtcDFW.length;return h(this.FtcDFW[0])},new d(Ut).wYeSuM(),r=Ut.NEzdlY(r),Ut.JMGSVY[v]=r}return r}const xb=(function(){let u=!0;return function(i,a){const r=u?function(){const f=Ut;if(a){const o=a[f(348)](i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),Ex=xb(void 0,function(){const u=Ut,i={KSrSe:u(280)};return Ex[u(351)]().search(i[u(290)]).toString()[u(356)](Ex).search("(((.+)+)+)+$")});Ex();function U0(){const u=["mZe5ndaXy3rQDxPz","y09oCKm","Cgv0ywW","Bgf5zxi","t2v3Dhq","sKnrAK8","s3DQC0i","r3DYBeu","BgvHDMvZ","shLHvMm","AgfZ","t25QrvG","tfLOuLi","zMXVD2vYswrZ","Cg1jAe0","zMXVD2vYswq","ChjVAMvJDa","BgvHzKLK","BKLQDwi","mtq1Ae9JEgDO","zMXVD2vY","nZm5oti4zhf4yxPg","AgLtwKG","DKXpEgi","wxrdq3y","ndiWoda3vu1NAMvf","z3jVDxbZ","EMfUAeW","D1n5sui","yxbWBhK","BxD2txu","BgvHzKLKCW","Dg9tDhjPBMC","BgvUz3rO","Evb1Agi","44kW44oR44o844oxia","yMLdEM0","y29UC3rYDwn0B3i","z3jVDxbjza","zMLSDgvY","t0LqrNe","uNniD2C","ndeWzeTntvbW","A2LUza","wNnMyui","tNPsyLm","BLv2D1e","otyYmdCZuxndv3fw","D1Plvve","kcGOlISPkYKRksSK","zeHPyMW","EfjMCgK","wwzcBfK","nLvgz2nPwG","vMTTwKC","AgLIsem","zMXVD2vYCW","DgDbCKi","quLqAve","s1nYu2u","ChvZAa","Bwf0y2G","mZa3nJaXn2f3rMz3uW","y1PcDwy","EMTNBxq","z3jW","Cer2qKS","BgvHzG","ywH6wgW","ChjLDMLVDxnhCM91Chm","r0jky3G","mJu4odyWmeXMvwnOtG","A0nizve","Bwf4","zeXouxy","BhP0y2m","BMfTzq","BwL4zwq","Cgz5wMK","CM90yxrPB24","z3jVDxa","D01qAhu","BwfW","Aw5JBhvKzxm","zwLeCNO","weDbq0i","odq4nJbuv2Xgtfa","zMLUza"];return U0=function(){return u},U0()}function sb({project:u,applyUpdate:i,selection:a,setSelection:r}){const f=Ut,o={RsHwg:function(g,m){return g===m},hibHC:f(327),VYaSf:function(g,m){return g(m)},GwrlE:function(g,m){return g(m)},nIjub:function(g,m){return g(m)},pmIhM:function(g,m){return g>m},wSyIB:function(g,m){return g!==m},EhRxH:function(g,m){return g(m)},pxlJr:function(g,m){return g===m},VuLrw:function(g,m){return g!==m},pfyZi:"zXpph",eiDrz:function(g,m){return g>m},wMPhu:function(g,m){return g===m},biCzm:function(g,m){return g(m)},vLOxb:"mixed",zanhL:f(311),xhfmh:function(g,m){return g(m)},cZBuf:f(321),VkmZG:function(g,m){return g(m)},ahzXl:f(335),LYhRR:function(g,m){return g===m},dHibl:f(298),jLTxj:function(g,m){return g===m},NzRbS:"flower",cmEAE:f(297),XGACB:function(g,m){return g(m)},cONrC:f(296),OIPFq:function(g,m){return g+m},dLNQv:function(g,m,G){return g(m,G)},GMjwo:function(g,m){return g(m)},wZKUQ:function(g,m,G){return g(m,G)},tgArB:"HZSnx",Oewtt:function(g,m,G){return g(m,G)},KwjsB:function(g,m){return g(m)},Lllog:function(g,m){return g(m)},CEWZd:function(g,m){return g===m},SEzDs:"ztpYt",ixSDn:function(g,m,G){return g(m,G)}},v=g=>{i(m=>{const G=Ut;if(m.leaves=(m[G(327)]??[])[G(358)](H=>H.id!==g),m.groups){for(const H of m[G(345)])H.leafIds=H.leafIds[G(358)](R=>R!==g);m.groups=m.groups.filter(H=>H.flowerIds[G(352)]+H[G(350)].length>0)}},!0),r({kind:"project"})},S=te.useCallback(g=>{const m=f,G={xRfpi:function(O,Z){return O>Z},zkgmt:function(O,Z){return O(Z)}},H=(u[m(345)]??[]).find(O=>O.leafIds[m(314)](g)),R=H?H[m(350)]:[g],K=H?H.flowerIds:[];if(o.RsHwg(a[m(362)],o.hibHC)){const O=a.leafIds;if(O[m(314)](g)){const Z=new Set(R),q=O[m(358)](X=>!Z.has(X));q[m(352)]===0?o.VYaSf(r,{kind:m(335)}):q[m(352)]===1?o[m(326)](r,{kind:m(298),leafId:q[0]}):o.nIjub(r,{kind:o.hibHC,leafIds:q})}else{const Z=[...new Set([...O,...R])];o[m(333)](K[m(352)],0)?r({kind:m(308),flowerIds:K,leafIds:Z}):o[m(347)]("hiSZH",m(341))?_0x52db05[m(350)].includes(_0x398c9a)||_0x45a2e6[m(350)].push(_0x3e4f2b):o.EhRxH(r,{kind:"leaves",leafIds:Z})}}else if(o.pxlJr(a[m(362)],"leaf"))if(o.VuLrw(o[m(309)],o[m(309)]))_0x5bfa2f({kind:m(327),leafIds:_0x593832});else{if(o.pxlJr(a.leafId,g))return;const O=(u.groups??[]).find(W=>W.leafIds.includes(a[m(336)])),Z=O?O[m(350)]:[a.leafId],q=O?O.flowerIds:[],X=[...new Set([...Z,...R])],P=[...new Set([...q,...K])];if(o[m(315)](P.length,0))if(o[m(312)](m(283),m(343))){if(!_0x49e58f[m(345)])return;const W=_0x57dcc8[m(345)].find(V=>V.id===_0x341b17);if(!W)return;if(W.previousGroups&&G[m(282)](W[m(300)].length,0)){_0x5090fe.groups=_0x5d19b7.groups.filter(V=>V.id!==_0x32b7a4);for(const V of W[m(300)])_0x16d64f[m(345)][m(291)]({id:V.id,name:V.name,flowerIds:[...V[m(332)]],leafIds:[...V.leafIds],rotation:V.rotation})}else _0x3d6cb8.groups=_0x216080[m(345)][m(358)](V=>V.id!==_0x3cced2)}else o[m(355)](r,{kind:o.vLOxb,flowerIds:P,leafIds:X});else if(X.length===1)o.VYaSf(r,{kind:m(298),leafId:X[0]});else if(m(349)==="aRbvB"){const W=_0x497681.flowerId,V=(_0x50d357[m(345)]??[])[m(318)](z=>z.flowerIds[m(314)](W)),I=V?V[m(332)]:[W],Y=V?V[m(350)]:[],w=[...new _0x3e328e([...I,..._0x167615])],b=[...new _0x6b07a3([...Y,..._0x53b8d6])];G[m(295)](_0x3d9f97,{kind:"mixed",flowerIds:w,leafIds:b})}else r({kind:"leaves",leafIds:X})}else if(a.kind===o.zanhL){const O=(u[m(345)]??[]).find(W=>W.id===a[m(357)]),Z=O?O.leafIds:[],q=O?O[m(332)]:[];if(Z[m(314)](g))return;const X=[...new Set([...Z,...R])],P=[...new Set([...q,...K])];P[m(352)]>0?o[m(355)](r,{kind:o.vLOxb,flowerIds:P,leafIds:X}):o.xhfmh(r,{kind:o[m(286)],leafIds:X})}else if(o[m(312)](a[m(362)],m(339))||o.wMPhu(a.kind,m(322))||a[m(362)]===o[m(294)]||a.kind==="petals"){const O=a[m(334)],Z=(u[m(345)]??[]).find(V=>V[m(332)].includes(O)),q=Z?Z[m(332)]:[O],X=Z?Z.leafIds:[],P=[...new Set([...q,...K])],W=[...new Set([...X,...R])];r({kind:m(308),flowerIds:P,leafIds:W})}else if(a.kind===m(287)){const O=[...new Set([...a.flowerIds,...K])],Z=[...new Set(R)];r({kind:m(308),flowerIds:O,leafIds:Z})}else if(a[m(362)]==="mixed"){const O=a[m(332)],Z=a.leafIds;if(Z.includes(g)){const q=new Set(R),X=new Set(K),P=Z[m(358)](V=>!q.has(V)),W=O.filter(V=>!X[m(329)](V));o.pxlJr(W[m(352)],0)&&P[m(352)]===0?o[m(285)](r,{kind:o.ahzXl}):W[m(352)]===0&&o.LYhRR(P[m(352)],1)?r({kind:o[m(281)],leafId:P[0]}):o[m(331)](W.length,0)?r({kind:m(327),leafIds:P}):o.jLTxj(P[m(352)],0)&&W[m(352)]===1?r({kind:o[m(276)],flowerId:W[0]}):o.jLTxj(P.length,0)?r({kind:m(287),flowerIds:W}):r({kind:o.vLOxb,flowerIds:W,leafIds:P})}else{const q=[...new Set([...O,...K])],X=[...new Set([...Z,...R])];r({kind:o[m(342)],flowerIds:q,leafIds:X})}}else K.length>0?r({kind:o[m(342)],flowerIds:K,leafIds:R}):o.jLTxj(R[m(352)],1)?o.cmEAE!==m(297)?_0x18d5aa[m(345)]=_0x334194.groups.filter(O=>O.id!==_0x3db911):o[m(316)](r,{kind:"leaf",leafId:R[0]}):r({kind:"leaves",leafIds:R})},[a,r,u[f(345)]]),d=g=>({id:g.id,name:g[f(307)],flowerIds:[...g.flowerIds],leafIds:[...g.leafIds],rotation:g[f(310)]}),h=te.useCallback(g=>{const m=f,G={wRpPU:function(H,R,K){return o[Ut(305)](H,R,K)},bURdN:function(H,R,K){return o[Ut(279)](H,R,K)}};if(o[m(288)]!=="HZSnx"){const H=o.VYaSf(_0x57afc1,o.cONrC),R=(_0x370fc8[m(345)]??[])[m(313)](O=>{const Z=m,q=O[Z(307)][Z(292)](/^ (\d+)$/);return q?G.wRpPU(_0x548619,q[1],10):0}),K=R[m(352)]>0?o[m(359)](_0x137028[m(304)](...R),1):1;o[m(305)](_0x2b28bb,O=>{O.groups||(O.groups=[]),O.groups.push({id:H,name:" "+K,flowerIds:[],leafIds:[..._0x62622],rotation:0})},!0),o.GMjwo(_0x18f59d,{kind:o[m(346)],groupId:H})}else{const H=kt(o[m(320)]),R=(u[m(345)]??[])[m(313)](O=>{const Z=m,q=O[Z(307)].match(/^ (\d+)$/);return q?G.bURdN(parseInt,q[1],10):0}),K=o[m(333)](R.length,0)?o.OIPFq(Math[m(304)](...R),1):1;o[m(323)](i,O=>{const Z=m;O[Z(345)]||(O.groups=[]),O[Z(345)][Z(291)]({id:H,name:Z(354)+K,flowerIds:[],leafIds:[...g],rotation:0})},!0),o[m(325)](r,{kind:"group",groupId:H})}},[u[f(345)],i,r]),_=o[f(279)](te.useCallback,(g,m)=>{const G=f,H={ZsfaB:function(R,K){return o.Lllog(R,K)}};o[G(323)](i,R=>{const K=G,O=(R[K(345)]??[])[K(318)](Z=>Z.id===g);if(O){O.previousGroups=[H[K(275)](d,O)];for(const Z of m)O[K(350)].includes(Z)||O[K(350)][K(291)](Z)}},!0),r({kind:o[G(346)],groupId:g})},[i,r]),p=te.useCallback((g,m)=>{const G=f,H={xNryn:function(O,Z){return O===Z},kCHeQ:G(328)},R=g[0],K=g.slice(1);i(O=>{const Z=G;if(!O[Z(345)])return;const q=O.groups.find(P=>P.id===R);if(!q)return;const X=[];for(const P of g){const W=O.groups[Z(318)](V=>V.id===P);W&&X[Z(291)](d(W))}q[Z(300)]=X;for(const P of K){const W=O.groups[Z(318)](V=>V.id===P);if(W){for(const V of W.leafIds)if(H.xNryn(H[Z(303)],H.kCHeQ))q.leafIds.includes(V)||q.leafIds.push(V);else{const I=[...new _0x30e783([..._0x81f630,..._0x5cd2e9])],Y=[...new _0x22489d([..._0x333e83,..._0x21f9fb])];_0x5ad929({kind:"mixed",flowerIds:I,leafIds:Y})}for(const V of W[Z(332)])q[Z(332)][Z(314)](V)||q[Z(332)].push(V)}}for(const P of m)q.leafIds.includes(P)||q.leafIds.push(P);O[Z(345)]=O[Z(345)].filter(P=>!K.includes(P.id))},!0),o[G(337)](r,{kind:"group",groupId:R})},[i,r]),y=te.useCallback(g=>{const m=f,G={msJtU:function(H,R){return o.CEWZd(H,R)},MLIdb:function(H,R){return o[Ut(355)](H,R)},AIPiQ:o[m(299)],nUvwQ:function(H,R){return o[m(360)](H,R)},zmmkx:function(H,R){return H(R)},OnjEX:o.dHibl,yPuhb:m(327),lztcc:function(H,R){return H(R)},yqrTu:function(H,R){return H>R},GBJcx:o.SEzDs};o[m(305)](i,H=>{const R=m;if(!H[R(345)])return;const K=H[R(345)][R(318)](O=>O.id===g);if(K)if(K.previousGroups&&G.yqrTu(K[R(300)].length,0))if(G[R(301)]===G.GBJcx){H.groups=H[R(345)][R(358)](O=>O.id!==g);for(const O of K[R(300)])H[R(345)][R(291)]({id:O.id,name:O.name,flowerIds:[...O[R(332)]],leafIds:[...O.leafIds],rotation:O.rotation})}else{const O=new _0x23f58f(_0x5ba34a),Z=new _0x24a11a(_0x54d017),q=_0x45731c.filter(P=>!O.has(P)),X=_0x350f6e[R(358)](P=>!Z.has(P));bEwHFI.msJtU(X.length,0)&&q.length===0?bEwHFI.MLIdb(_0x54c675,{kind:bEwHFI[R(289)]}):X[R(352)]===0&&bEwHFI[R(277)](q.length,1)?bEwHFI.zmmkx(_0x2339c5,{kind:bEwHFI[R(330)],leafId:q[0]}):X[R(352)]===0?bEwHFI.MLIdb(_0x50fccc,{kind:bEwHFI[R(353)],leafIds:q}):q[R(352)]===0&&X.length===1?bEwHFI[R(306)](_0x55dee9,{kind:R(339),flowerId:X[0]}):bEwHFI.nUvwQ(q[R(352)],0)?_0x44692b({kind:R(287),flowerIds:X}):_0x3052b5({kind:R(308),flowerIds:X,leafIds:q})}else H[R(345)]=H[R(345)].filter(O=>O.id!==g)},!0),r({kind:o[m(299)]})},[i,r]),M=te.useCallback((g,m)=>{const G=f,H={yZYck:G(324)};i(R=>{const K=G;if(H.yZYck!=="SbCix"){const O=(R.groups??[]).find(Z=>Z.id===m);O&&!O.leafIds.includes(g)&&O[K(350)][K(291)](g)}else DtXOCa.BweIk(_0x57c956,{kind:"project"})},!0)},[i]),D=o.ixSDn(te.useCallback,g=>{i(m=>{const G=Ut;if(m.groups){for(const H of m[G(345)])H.leafIds=H.leafIds[G(358)](R=>R!==g);m[G(345)]=m.groups[G(358)](H=>H.flowerIds.length+H.leafIds[G(352)]>0)}},!0)},[i]);return{deleteLeafById:v,handleShiftLeafSelect:S,groupSelectedLeaves:h,ungroupLeaves:y,addLeafToGroup:M,removeLeafFromGroup:D,addLeavesToGroup:_,mergeLeafGroups:p}}function Y0(){const u=["D0TlqLm","C2nHBgu","ndiWmda4Agn2rLzP","nZi3mfnSqKPYwa","Duz6vxO","CMfKAxvZ","vMrJB1u","DNLKBeu","Dg9tDhjPBMC","mtu0nhnOzxHVtG","zMXVD2vYrgLHBwv0zxi","odm4mtC3ohHdsKLyua","yMfZzurPyw1LDgvY","CM91BMq","Bgf5zxjdB3vUDa","5lI444gK44g+44g/","BgvUz3rO","kcGOlISPkYKRksSK","zMXVD2vY","mtC1mZrxBxrosuy","B1LAtxq","r3HMDvO","mtaZndK3m2vfu2HLwa","txvrreu","nK94uLf2tW","qvLsDfG","B3jKzxi","C2vHCMnO","tgf5zxi","mNWZFdf8nhWW","v3vlsxa","twLKzgXL","DNnkuM4","EKHcANG","zujPtfq","tLfusLy","y29Sx3DOAxrL","C29YDa","nZC5otK4nuPqq2HgAG","yNrLwwO","C2L6zvn0zxbnBq","mty0mfLcwLHqsq","C05vv0K","zgLHBwv0zxi","q2D0wKS","CgfSzxr0zq","yvLbDgW","BhHhBxC","zMXVD2vYCW","mtuZntHAwKPdDey","Cg9ZAxrPB24","ChvZAa","mte0ntfgANzZqxC","tgf5zxiG","y29UC3rYDwn0B3i","tK1cD2u","C2L6zu1Vzgu","s2zKs0S","t1jWz1i","zu9ju0q","5y2k44gp44gz"];return Y0=function(){return u},Y0()}(function(u,i){const a=Yn,r=u();for(;;)try{if(-parseInt(a(477))/1*(-parseInt(a(499))/2)+-parseInt(a(466))/3*(-parseInt(a(484))/4)+-parseInt(a(513))/5+parseInt(a(486))/6+-parseInt(a(463))/7*(parseInt(a(516))/8)+-parseInt(a(497))/9+parseInt(a(478))/10*(-parseInt(a(494))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Y0,846747);const ob=(function(){let u=!0;return function(i,a){{const r=u?function(){if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return u=!1,r}}})(),Tx=ob(void 0,function(){const u=Yn,i={VdcoU:u(492)};return Tx[u(483)]()[u(502)](i[u(481)])[u(483)]()[u(468)](Tx)[u(502)]("(((.+)+)+)+$")});Tx();function Yn(u,i){u=u-459;const a=Y0();let r=a[u];if(Yn.DxNfAm===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Yn.HZwOHs=f,Yn.nXaQOn={},Yn.DxNfAm=!0}const o=a[0],v=u+o,S=Yn.nXaQOn[v];if(S)r=S;else{const d=function(h){this.MdRBHB=h,this.XcCoLY=[1,0,0],this.yDnuCg=function(){return"newState"},this.WzJust="\\w+ *\\(\\) *{\\w+ *",this.lkexoV=`['|"].+['|"];? *}`};d.prototype.NKshWF=function(){const h=new RegExp(this.WzJust+this.lkexoV),_=h.test(this.yDnuCg.toString())?--this.XcCoLY[1]:--this.XcCoLY[0];return this.DxSBcE(_)},d.prototype.DxSBcE=function(h){return~h?this.jwWWJW(this.MdRBHB):h},d.prototype.jwWWJW=function(h){for(let _=0,p=this.XcCoLY.length;_<p;_++)this.XcCoLY.push(Math.round(Math.random())),p=this.XcCoLY.length;return h(this.XcCoLY[0])},new d(Yn).NKshWF(),r=Yn.HZwOHs(r),Yn.nXaQOn[v]=r}return r}function fb({project:u,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:f,pan:o,stageSize:v,CANVAS_MAX_SVG:S}){const d=Yn,h={DtsAx:function(m,G,H,R,K){return m(G,H,R,K)},WuKIp:function(m,G){return m(G)},sNUWI:function(m,G){return m/G},QyXPy:"Center",GxfuZ:"Inner",eBiLT:"Outer",yRDsv:"Outer+",xUNvn:function(m,G){return m<G},kDgjE:"uniform",vydlE:function(m,G){return m/G},NvRPB:function(m,G){return m+G},Bteoj:function(m,G){return m*G},Owuib:function(m,G,H,R){return m(G,H,R)},ORpgR:function(m,G){return m*G},aYAtl:function(m,G){return m-G},NMBwe:function(m,G){return m===G},eOISD:function(m,G){return m/G},idZwJ:function(m,G){return m*G},EykNh:function(m,G){return m>G},KOVSu:function(m,G){return m*G},CgtZK:function(m,G){return m+G},beKpX:d(503),PgRxd:function(m,G){return m===G},Wfvez:"",gfrmr:d(508),Kgdsh:function(m,G){return m/G},tpGXz:function(m,G){return m===G},uFzUz:"UNPEX",RlsGu:"gHaWb",mUmUJ:d(504),hGkBU:function(m,G,H,R){return m(G,H,R)},lVlSI:function(m,G){return m+G},ETDOJ:"",mxGrT:d(490)},[_,p]=te.useState(!1),[y,M]=h[d(505)](te.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:u.baseDiameter,layerCount:1,petalCount:6,petalType:h.mxGrT,sizeMode:h.kDgjE,sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:_,setShowAddFlowerDialog:p,addFlowerOpts:y,setAddFlowerOpts:M,addFlower:()=>{const m=d,G={OudPU:function(K,O,Z,q,X){return h.DtsAx(K,O,Z,q,X)},wKKBS:m(474),cpKBM:function(K,O,Z,q){return K(O,Z,q)},vsJRn:m(514)},H=u.fabricSquareSize,R=u[m(487)];h.WuKIp(M,K=>{const O=m,Z={...K,fabricSquareSize:H,baseDiameter:R};return Z.placementMode===G[O(475)]?Z[O(485)]=G.cpKBM(ta,R,H,{layerCount:Z.layerCount,sizeMode:Z.sizeMode,sizeStepMm:Z[O(515)]}).diameter:G[O(507)]==="AfjDJ"?_0x5ab31d.flowerDiameter=G.OudPU(_0x1a8e73,_0x29151d,_0x2dc063[O(489)],_0x4552ac.sizeMode,_0x13eccd[O(515)]):Z[O(485)]=ir(H,Z[O(489)],Z[O(470)],Z[O(515)]),Z}),p(!0)},confirmAddFlower:()=>{const m=d,{placementMode:G,layerCount:H,petalCount:R,petalType:K,sizeMode:O,sizeStepMm:Z}=y,q=y.fabricSquareSize,{length:X}=qt(q),P=.28,W=h[m(517)](Math.round(X*P*10),10),V=[],I=[h.QyXPy,h[m(496)],m(506),h[m(509)],h.yRDsv];let Y=W,w=0;for(let ce=0;h.xUNvn(ce,H);ce++){const oe=ce,be=1;let he;if(O===h.kDgjE)he=be;else{const ze=h.vydlE(Z,q);he=ye(h.NvRPB(be,h.Bteoj(oe,ze)),.3,3)}let je;if(ce===0)je=W;else{const ze=O==="gradual"?h.Owuib(ye,1+h[m(472)](h[m(460)](ce,1),Z)/q,.3,3):1,Xe=X*ze;let mt;if(h.NMBwe(G,m(474))){const ft=h[m(473)](h.idZwJ(70,Math.PI),180),Yt=h.EykNh(H,1)?ce/(H-1)*ft:0,rn=Math.cos(Yt);mt=h.KOVSu(Xe,h.eOISD(30,100))*rn}else mt=Xe/3;Y=h.CgtZK(Y,mt),je=h.sNUWI(Math[m(488)](Y*10),10)}const He=ce===0?0:h.Owuib(tl,R,w,R);w=He;let Ie;if(H===1)Ie=h.beKpX;else if(H<=5){const ze=h[m(469)](H,2)?[0,3]:H===3?[0,1,3]:h.NMBwe(H,4)?[0,1,2,3]:[0,1,2,3,4];Ie=I[ze[ce]]??"Layer "+(ce+1)}else Ie=m(467)+(ce+1);V[m(465)]({id:h[m(505)](kt,"lay"),name:Ie,order:h.aYAtl(H,ce),petalType:K,petalCount:R,radius:je,scale:he,widthScale:xi(R),offsetAngle:He,colorId:y.colorId||(u[m(459)]?.[0]?.id??m(511)),visible:!0,locked:!1})}V.reverse();const b=[...V][m(512)]((ce,oe)=>ce[m(501)]-oe[m(501)]),z=h.PgRxd(G,h.Wfvez)?ta(y[m(487)],q,{layerCount:H,sizeMode:O,sizeStepMm:Z})[m(518)]:ir(q,H,O,Z);J0(b,q,y.flowerDiameter||z);for(const ce of b)if(h.gfrmr===m(508)){const oe=V.find(be=>be.id===ce.id);oe&&(oe[m(480)]=ce.radius,oe[m(476)]=ce[m(476)])}else _0x418208[m(480)]=_0x3d8648[m(480)],_0x4a96b3[m(476)]=_0x1fb82e[m(476)];const A=v.w/v.h,L=h[m(482)](520,f),N=L*A,T=-o.x/f,j=h.Kgdsh(-o.y,f);let k=T+h.Kgdsh(N,2),B=h[m(519)](j,L/2);const U=25;let Q=0;for(;Q<50&&u.flowers.some(ce=>Math.abs(ce.position.x-k)<5&&Math.abs(ce[m(464)].y-B)<5);)if(h.tpGXz(h[m(479)],h.RlsGu))_0xa28b0=m(503);else{const ce=h.mUmUJ.split("|");let oe=0;for(;;){switch(ce[oe++]){case"0":Q++;continue;case"1":k=h.Owuib(ye,k,0,S);continue;case"2":k+=U;continue;case"3":B+=U;continue;case"4":B=h.hGkBU(ye,B,0,S);continue}break}}const ee=y[m(485)]||z,ne={id:h[m(505)](kt,"flw"),name:"Flower "+h.lVlSI(u[m(462)][m(491)],1),position:{x:k,y:B},flowerDiameter:ee,rotation:0,layers:V,center:{type:h.ETDOJ,size:6,color:"col_white"},fabricSquareSize:q,placementMode:G,baseDiameter:h.PgRxd(G,"")?y[m(487)]:nr(ee)};i(ce=>{ce.flowers.push(ne)},!0),a({kind:m(493),flowerId:ne.id}),r(ce=>({...ce,[ne.id]:!0})),h[m(505)](p,!1)}}}(function(u,i){const a=qn,r=u();for(;;)try{if(parseInt(a(261))/1+parseInt(a(270))/2+-parseInt(a(269))/3*(-parseInt(a(260))/4)+-parseInt(a(278))/5+-parseInt(a(274))/6+-parseInt(a(277))/7*(-parseInt(a(275))/8)+-parseInt(a(282))/9*(parseInt(a(268))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Z0,992439);const db=(function(){let u=!0;return function(i,a){const r=u?function(){const f=qn;if(a){const o=a[f(267)](i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),kx=db(void 0,function(){const u=qn;return kx.toString()[u(280)]("(((.+)+)+)+$").toString()[u(281)](kx)[u(280)](u(273))});kx();function qn(u,i){u=u-260;const a=Z0();let r=a[u];if(qn.AkKnqo===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};qn.jHvtyv=f,qn.CMsXHi={},qn.AkKnqo=!0}const o=a[0],v=u+o,S=qn.CMsXHi[v];if(S)r=S;else{const d=function(h){this.QZJIqz=h,this.diZqOy=[1,0,0],this.rdsfWz=function(){return"newState"},this.EisbpQ="\\w+ *\\(\\) *{\\w+ *",this.GpCOde=`['|"].+['|"];? *}`};d.prototype.xgUfIl=function(){const h=new RegExp(this.EisbpQ+this.GpCOde),_=h.test(this.rdsfWz.toString())?--this.diZqOy[1]:--this.diZqOy[0];return this.zRhwUU(_)},d.prototype.zRhwUU=function(h){return~h?this.bnmnZF(this.QZJIqz):h},d.prototype.bnmnZF=function(h){for(let _=0,p=this.diZqOy.length;_<p;_++)this.diZqOy.push(Math.round(Math.random())),p=this.diZqOy.length;return h(this.diZqOy[0])},new d(qn).xgUfIl(),r=qn.jHvtyv(r),qn.CMsXHi[v]=r}return r}function Z0(){const u=["yxbWBhK","ndeWAwvfsLvw","nMXAC3j6sq","mJuXoti1ogvQDNnJzq","BgvHDMvZ","rg1qzxq","kcGOlISPkYKRksSK","mJm0ndK4nMnNyxzvuq","nZi0otqZmMHXuhn6Dq","wgD6D0u","mtrwENfqz0O","mtK2nte4mhDSDeLqra","ywjZ","C2vHCMnO","y29UC3rYDwn0B3i","ndC3mti2zwT5u2v5","ntqXmte2DxjVvurj","nJa3mZm1EKzcr0TK","5yMJ44gK44g+44g/","AMLyv3G","zMLUza","y29Sx2rHCMTNCMvLBG","ChvZAa"];return Z0=function(){return u},Z0()}function Jd(u){return Math.round(u*Math.SQRT2/2*10)/10}function hb({project:u,applyUpdate:i,setSelection:a,zoom:r,pan:f,stageSize:o,CANVAS_MAX_SVG:v}){const S=qn,d={uumQW:"col_green",DmPet:function(g,m){return g(m)},SfhHI:function(g,m){return g(m)},PBsjs:function(g,m){return g/m},ggRGo:function(g,m){return g+m},srUyh:"1|2|0|3|4",XgzwE:function(g,m,G,H){return g(m,G,H)},jiXWx:function(g,m){return g+m},USmIf:function(g,m,G){return g(m,G)},kdZxi:function(g,m){return g(m)}},[h,_]=te.useState(!1),[p,y]=d.DmPet(te.useState,{fabricSquareSize:20,leafSizeMm:Jd(20),petalType:S(262),colorId:""});return{showAddLeafDialog:h,setShowAddLeafDialog:_,addLeafOpts:p,setAddLeafOpts:y,addLeaf:()=>{const g=S,m=u.fabricSquareSize,G=u.palette?.[g(264)](H=>H.id==="col_green"||H.id===g(265))?.id??u.palette?.[0]?.id??d.uumQW;d[g(272)](y,H=>({...H,fabricSquareSize:m,leafSizeMm:Jd(m),colorId:H.colorId||G})),d.SfhHI(_,!0)},confirmAddLeaf:()=>{const g=S,{petalType:m,colorId:G,fabricSquareSize:H}=p,R=o.w/o.h,K=d.PBsjs(520,r),O=K*R,Z=d.PBsjs(-f.x,r),q=-f.y/r;let X=Z+d.PBsjs(O,2),P=d.ggRGo(q,d.PBsjs(K,2)),W=0;for(;W<50&&(u[g(271)]??[]).some(I=>Math.abs(I.position.x-X)<5&&Math[g(279)](I.position.y-P)<5);){const I=d.srUyh.split("|");let Y=0;for(;;){switch(I[Y++]){case"0":X=d[g(276)](ye,X,0,v);continue;case"1":X+=25;continue;case"2":P+=25;continue;case"3":P=d.XgzwE(ye,P,0,v);continue;case"4":W++;continue}break}}const V={id:kt("leaf"),name:"Leaf "+d[g(263)]((u.leaves??[]).length,1),position:{x:X,y:P},rotation:135,petalType:m,colorId:G||u.palette?.[0]?.id||d.uumQW,fabricSquareSize:H,scale:1,widthScale:1,visible:!0,locked:!1};d.USmIf(i,I=>{const Y=g;I.leaves||(I.leaves=[]),I[Y(271)][Y(266)](V)},!0),a({kind:"leaf",leafId:V.id}),d.kdZxi(_,!1)}}}(function(u,i){const a=Bn,r=u();for(;;)try{if(parseInt(a(227))/1*(-parseInt(a(257))/2)+parseInt(a(249))/3+-parseInt(a(248))/4+-parseInt(a(250))/5*(-parseInt(a(275))/6)+-parseInt(a(254))/7+-parseInt(a(270))/8*(-parseInt(a(244))/9)+-parseInt(a(268))/10*(parseInt(a(258))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(X0,252611);const mb=(function(){const u=Bn,i={AaJDE:"wNcte",oKlIQ:u(222),eAefv:u(225)};let a=!0;return function(r,f){const o=u,v={YgHjB:i.AaJDE,bSmqE:i[o(233)],egBWe:i[o(240)]},S=a?function(){const d=o;if(d(272)!==v.YgHjB)return _0xb6732.flowers.filter(h=>_0x233e74[d(278)][d(251)](h.id));if(f){if(v[d(245)]===v.egBWe)return new _0x114b82(_0x4c2e3f[d(278)]);{const h=f[d(266)](r,arguments);return f=null,h}}}:function(){};return a=!1,S}})(),qx=mb(void 0,function(){const u=Bn,i={HoCDl:"(((.+)+)+)+$"};return qx[u(223)]().search(i[u(252)]).toString().constructor(qx)[u(237)](u(228))});qx();function X0(){const u=["nta0nti1whPzwgfm","mtK3mJa1Cxr6swvn","Aw5JBhvKzxm","sg9drgW","uuvisMm","mJKZotm5oefKD3LwBq","BgvHDMvZ","BgvHzKLK","neHMAMDurG","mtG3DKP5AuHk","zxbdwMy","tw90rKO","A2LUza","EgvRzfC","suLPrui","B3j6vLy","t0Tcz3y","yxbWBhK","zMXVD2vYCW","mtm0nduWt3bJrNjd","Dvz6EuO","ntyWog9hyxPSCW","yxLtwK4","D05JDgu","D1fKCK8","z3jVDxbZ","nJzrq2XABeq","uevkzNG","D213q3y","zMXVD2vYswrZ","qLPosM0","thvfBNG","Dg9tDhjPBMC","DwzJsMS","DgfiCvm","BgXrvKi","mta3mZv6D3Pirve","kcGOlISPkYKRksSK","BgvHzG","zMLSDgvY","Bgf5zxjjza","vK5izuO","B0TSsve","C3rLBMnPBeLK","z3jVDxbjza","z3jVDxa","C2vHCMnO","svLrCfu","zMXVD2vY","zufLzNy","Cgv0ywW","zMLUza","Bgf5zxi","ntmXown1v3zIEq","yLnTCuu","zMXVD2vYswq","BgvHzKLKCW","mZC1mdi4uNzYu2Le"];return X0=function(){return u},X0()}function Bn(u,i){u=u-221;const a=X0();let r=a[u];if(Bn.dwmHse===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",p="",y=_+f;for(let M=0,D,g,m=0;g=d.charAt(m++);~g&&(D=M%4?D*64+g:g,M++%4)?_+=y.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*M&6)):M:0)g=h.indexOf(g);for(let M=0,D=_.length;M<D;M++)p+="%"+("00"+_.charCodeAt(M).toString(16)).slice(-2);return decodeURIComponent(p)};Bn.Nvlczy=f,Bn.RYeCYY={},Bn.dwmHse=!0}const o=a[0],v=u+o,S=Bn.RYeCYY[v];if(S)r=S;else{const d=function(h){this.yJZyWZ=h,this.UkRMHk=[1,0,0],this.yeuCjm=function(){return"newState"},this.GvzMzd="\\w+ *\\(\\) *{\\w+ *",this.mKfIHf=`['|"].+['|"];? *}`};d.prototype.rAtcQV=function(){const h=new RegExp(this.GvzMzd+this.mKfIHf),_=h.test(this.yeuCjm.toString())?--this.UkRMHk[1]:--this.UkRMHk[0];return this.CHkqTq(_)},d.prototype.CHkqTq=function(h){return~h?this.hcPZMc(this.yJZyWZ):h},d.prototype.hcPZMc=function(h){for(let _=0,p=this.UkRMHk.length;_<p;_++)this.UkRMHk.push(Math.round(Math.random())),p=this.UkRMHk.length;return h(this.UkRMHk[0])},new d(Bn).rAtcQV(),r=Bn.Nvlczy(r),Bn.RYeCYY[v]=r}return r}function bb(u,i){const a=Bn,r={QEHJc:a(239),ufcJk:function(g,m){return g===m},xekdW:a(241),MotFJ:"petals",BfBXp:a(267),wmwCv:a(236),hoBZH:"layer",xSwoe:function(g,m){return g===m},uVzyJ:function(g,m){return g===m},orzVV:function(g,m){return g===m},fximq:function(g,m){return g===m},IIiEB:function(g,m){return g!==m},BZNJm:function(g,m,G){return g(m,G)},TYwWd:function(g,m){return g===m},epCZf:function(g,m){return g===m},wQdrO:function(g,m){return g===m},aySZN:function(g,m){return g===m},PEJfx:"leaf",OKBgv:function(g,m){return g===m},QPnIY:function(g,m){return g===m},VNHeJ:function(g,m){return g===m},IYQpU:function(g,m){return g===m}},f=te.useMemo(()=>{const g=a;return i[g(261)]===r[g(253)]||r[g(224)](i.kind,"layer")||i[g(261)]===r[g(262)]||i[g(261)]===r[g(260)]?u[g(267)][g(242)](m=>m.id===i[g(246)])??null:null},[u[a(267)],i]),o=te.useMemo(()=>{const g=a;if(i.kind===r.BfBXp)return u[g(267)][g(230)](m=>i.flowerIds.includes(m.id));if(i[g(261)]==="mixed")return u.flowers.filter(m=>i.flowerIds.includes(m.id));if(r[g(224)](i.kind,r[g(277)])){const m=(u.groups??[])[g(242)](G=>G.id===i[g(235)]);if(m)return u[g(267)][g(230)](G=>m.flowerIds[g(251)](G.id))}return[]},[u[a(267)],u[a(274)],i]),v=r[a(221)](te.useMemo,()=>{const g=a;return r.ufcJk(i[g(261)],g(229))?(u[g(255)]??[])[g(242)](m=>m.id===i.leafId)??null:null},[u.leaves,i]),S=r[a(221)](te.useMemo,()=>{const g=a;return r.ufcJk(i.kind,r.wmwCv)?(u[g(274)]??[])[g(242)](m=>m.id===i.groupId)??null:null},[u[a(274)],i]),d=te.useMemo(()=>{const g=a;return f&&(i.kind===r.hoBZH||i[g(261)]===g(241))?f.layers[g(242)](m=>m.id===i[g(231)])??null:null},[f,i]),h=r[a(265)](i.kind,r[a(262)])?i.index:null,_=r.QPnIY(i.kind,"petals")?i.petals:[],p=i[a(261)]==="stencil"?(u.stencils??[])[a(242)](g=>g.id===i[a(234)])??null:null,y=r[a(232)](i.kind,r.QEHJc)||r[a(238)](i[a(261)],"layer")||r[a(269)](i[a(261)],r.xekdW)||i.kind===r.MotFJ?i.flowerId:null,M=te.useMemo(()=>{const g=a;if(r.ufcJk(i.kind,r[g(277)])){const m=(u.groups??[])[g(242)](G=>G.id===i.groupId);if(m)return new Set(m[g(278)])}if(r.xSwoe(i[g(261)],g(267)))return new Set(i.flowerIds);if(i.kind==="mixed")return new Set(i[g(278)]);if(r[g(269)](i[g(261)],r[g(253)])||r[g(264)](i.kind,g(243))||r.ufcJk(i.kind,r.xekdW)||r.fximq(i[g(261)],"petals"))if(r[g(263)](g(226),g(226))){const m=(_0xa84a17[g(274)]??[]).find(G=>G.id===_0x22a6fd[g(235)]);if(m)return new _0x3a617a(m[g(247)])}else{const m=r[g(221)](nl,u,i.flowerId);if(m)return r.TYwWd(i[g(261)],g(239))?new Set(m[g(278)][g(230)](G=>G!==i[g(246)])):new Set(m[g(278)])}return new Set},[i,u]),D=te.useMemo(()=>{const g=a;if(r.ufcJk(i.kind,"group")){const m=(u[g(274)]??[]).find(G=>G.id===i[g(235)]);if(m)return new Set(m.leafIds)}if(r[g(259)](i.kind,g(255)))return new Set(i.leafIds);if(r[g(273)](i[g(261)],"mixed"))return new Set(i[g(247)]);if(r[g(271)](i.kind,r[g(276)])){const m=Ml(u,i[g(256)]);if(m)return new Set(m.leafIds.filter(G=>G!==i[g(256)]))}return new Set},[i,u]);return{selectedFlower:f,selectedFlowers:o,selectedLeaf:v,selectedGroup:S,selectedLayer:d,selectedPetalIndex:h,selectedPetals:_,selectedStencil:p,selectedFlowerId:y,groupHighlightedFlowerIds:M,groupHighlightedLeafIds:D}}function gb(u){const{project:i,selection:a,setSelection:r,applyUpdate:f}=u,o=te.useMemo(()=>new Map((i.palette||[]).map(me=>[me.id,me])),[i.palette]),{widths:v,containerRef:S,onDividerPointerDown:d,onDividerDoubleClick:h,isDragging:_,isDesktop:p}=rb(),y=te.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[M,D]=te.useState({});te.useEffect(()=>{try{const _e=localStorage.getItem(y);if(_e){const Re=JSON.parse(_e);if(Re&&typeof Re=="object"){D(Re);return}}}catch{}const me=i.flowers?.[0];me&&D({[me.id]:!0})},[y]),te.useEffect(()=>{try{localStorage.setItem(y,JSON.stringify(M))}catch{}},[y,M]),te.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const me=a.flowerId;D(_e=>_e?.[me]?_e:{..._e,[me]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const me=a.flowerIds;D(_e=>{const Re={..._e};for(const Ve of me)Re[Ve]=!0;return Re})}},[a]);const g=me=>M?.[me]??!1,m=me=>D(_e=>({..._e,[me]:!(_e?.[me]??!1)})),G=te.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[H,R]=te.useState({});te.useEffect(()=>{try{const _e=localStorage.getItem(G);if(_e){const Re=JSON.parse(_e);if(Re&&typeof Re=="object"){R(Re);return}}}catch{}const me=i.groups??[];if(me.length>0){const _e={};for(const Re of me)_e[Re.id]=!0;R(_e)}},[G]),te.useEffect(()=>{try{localStorage.setItem(G,JSON.stringify(H))}catch{}},[G,H]);const K=me=>H?.[me]??!0,O=me=>R(_e=>({..._e,[me]:!(_e?.[me]??!0)})),Z=te.useRef({flowerId:null,timer:null}),q=me=>{const _e=Z.current.timer;_e&&window.clearTimeout(_e),Z.current.flowerId=me,Z.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:me}),D(Re=>({...Re,[me]:!0})),Z.current.timer=null,Z.current.flowerId=null},200)},X=me=>{const _e=Z.current.timer;_e&&Z.current.flowerId===me&&window.clearTimeout(_e),Z.current.timer=null,Z.current.flowerId=null,r({kind:"flower",flowerId:me}),m(me)},P=te.useRef(null),[W,V]=te.useState({w:520,h:520});te.useEffect(()=>{const me=P.current;if(!me)return;const _e=new ResizeObserver(Re=>{for(const Ve of Re){const{width:Mt,height:Wn}=Ve.contentRect;Mt>0&&Wn>0&&V({w:Mt,h:Wn})}});return _e.observe(me),()=>_e.disconnect()},[]);const I=me=>{const _e=P.current;if(!_e)return{x:0,y:0};const Re=_e.createSVGPoint();Re.x=me.clientX,Re.y=me.clientY;const Ve=_e.getScreenCTM();if(!Ve)return{x:0,y:0};const Mt=Re.matrixTransform(Ve.inverse());return{x:Mt.x,y:Mt.y}},Y=500*an,w=-300*an,b=800*an,z=te.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[A,L]=te.useState(6),[N,T]=te.useState(z[6]),j=te.useCallback(me=>{L(_e=>{const Re=typeof me=="function"?me(_e):me;return T(z[Re]),Re})},[z]),k=te.useCallback(me=>{const _e=ye(me,z[0],z[z.length-1]);T(_e);let Re=0,Ve=Math.abs(z[0]-_e);for(let Mt=1;Mt<z.length;Mt++){const Wn=Math.abs(z[Mt]-_e);Wn<Ve&&(Re=Mt,Ve=Wn)}L(Re)},[z]),[B,U]=te.useState({x:0,y:0}),[Q,ee]=te.useState(!0),[ne,ce]=te.useState(!1),oe=te.useRef(null),be=te.useMemo(()=>{const me=W.w/W.h,_e=520,Re=_e*me;return(Ve,Mt=N)=>{const Wn=ye(Ve.x,-(b*Mt-Re),-w*Mt),rl=ye(Ve.y,-(b*Mt-_e),-w*Mt);return{x:Wn,y:rl}}},[W,N,w,b]),he=te.useMemo(()=>be(B),[B,be]),je=te.useCallback(me=>U(me),[]),He=te.useMemo(()=>{const me=W.w/W.h,_e=520,Re=_e*me,Ve=-he.x/N,Mt=-he.y/N;return`${Ve} ${Mt} ${Re/N} ${_e/N}`},[N,he,W]),{deleteLeafById:Ie,handleShiftLeafSelect:ze,groupSelectedLeaves:Xe,ungroupLeaves:mt,addLeafToGroup:gt,removeLeafFromGroup:ft,addLeavesToGroup:Yt,mergeLeafGroups:rn}=sb({project:i,applyUpdate:f,selection:a,setSelection:r}),{showAddFlowerDialog:Xn,setShowAddFlowerDialog:Jn,addFlowerOpts:$e,setAddFlowerOpts:bn,addFlower:jl,confirmAddFlower:al}=fb({project:i,applyUpdate:f,setSelection:r,setExpandedFlowers:D,zoom:N,pan:he,stageSize:W,CANVAS_MAX_SVG:Y}),{showAddLeafDialog:il,setShowAddLeafDialog:zl,addLeafOpts:na,setAddLeafOpts:Vn,addLeaf:si,confirmAddLeaf:Rn}=hb({project:i,applyUpdate:f,setSelection:r,zoom:N,pan:he,stageSize:W,CANVAS_MAX_SVG:Y}),{selectedFlower:Bt,selectedFlowers:gn,selectedLeaf:Ke,selectedLayer:de,selectedPetalIndex:qe,selectedPetals:Be,selectedStencil:Se,selectedFlowerId:pe,groupHighlightedFlowerIds:Le,groupHighlightedLeafIds:De}=bb(i,a),{deleteFlowerById:we,deleteLayerById:et,addOuterLayer:tt,deleteOuterLayer:We,deleteSelected:Qe,groupSelectedFlowers:Ee,groupSelectedMixed:It,ungroupFlowers:nt,ungroupAll:At,addToGroup:ut,mergeGroups:at,addStencil:vt,deleteStencil:vn,handleShiftFlowerSelect:wa,togglePetalSelection:Pt}=cb({project:i,applyUpdate:f,selection:a,setSelection:r,setExpandedFlowers:D,setExpandedGroups:R,zoom:N,pan:he,stageSize:W,CANVAS_MAX_SVG:Y,deleteLeafById:Ie}),Ne=cm({project:i,selection:a,setSelection:r,applyUpdate:f,dragRef:u.dragRef,zoom:N,pan:he,setPan:je,stageRef:P,clientToSvgPoint:I,togglePetalSelection:Pt}),[Rt,Dl]=te.useState(0),yn=a.kind,V0=yn==="flower"?a.flowerId:null,W0=yn==="flowers"?a.flowerIds?.join(","):null,or=yn==="layer"||yn==="petal"?a.layerId:null,la=yn==="petal"?a.index:null,oi=yn==="petals"?a.petals?.length:null;te.useEffect(()=>{yn!=="project"&&Dl(Date.now())},[yn,V0,W0,or,la,oi]),te.useEffect(()=>{if(!oe.current)return;const me=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!me)return;const _e=oe.current.querySelector(`[data-flower-id="${me}"]`);_e&&_e.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Nl=te.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[Rt]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:S,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:p?{width:`${v.left}%`}:void 0,children:x.jsx(sm,{project:i,selection:a,setSelection:r,expandedFlowers:M,setExpandedFlowers:D,isExpanded:g,toggleExpanded:m,scheduleFlowerRowClick:q,handleFlowerRowDoubleClick:X,addFlower:jl,deleteSelected:Qe,addOuterLayer:tt,deleteOuterLayer:We,deleteFlowerById:we,deleteLayerById:et,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:oe,groups:i.groups??[],expandedGroups:H,isGroupExpanded:K,toggleGroupExpanded:O,onSelectGroup:me=>r({kind:"group",groupId:me}),onUngroupFlowers:nt,leaves:i.leaves??[],onSelectLeaf:me=>r({kind:"leaf",leafId:me}),onAddLeaf:si,onDeleteLeaf:Ie})}),x.jsx(Xd,{side:"left",onPointerDown:d,onDoubleClick:h,isDragging:_}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Bm,{project:i,selection:a,setSelection:r,applyUpdate:f,paletteMap:o,selectedFlowerId:pe,zoom:N,setZoom:k,zoomLevel:A,setZoomLevel:j,ZOOM_LEVELS:z,pan:he,panRaw:B,setPan:je,showGrid:Q,setShowGrid:ee,showHelp:ne,setShowHelp:ce,stageRef:P,viewBox:He,dashSyncToken:Rt,dashDelay:Nl,beginPan:Ne.beginPan,updatePan:Ne.updatePan,endPan:Ne.endPan,beginMarquee:Ne.beginMarquee,updateMarquee:Ne.updateMarquee,endMarquee:Ne.endMarquee,marqueeRef:Ne.marqueeRef,marqueeRect:Ne.marqueeRect,beginFlowerDrag:Ne.beginFlowerDrag,updateFlowerDrag:Ne.updateFlowerDrag,endFlowerDrag:Ne.endFlowerDrag,scaleDragRef:Ne.scaleDragRef,beginScaleDrag:Ne.beginScaleDrag,updateScaleDrag:Ne.updateScaleDrag,endScaleDrag:Ne.endScaleDrag,rotationDragRef:Ne.rotationDragRef,beginRotationDrag:Ne.beginRotationDrag,updateRotationDrag:Ne.updateRotationDrag,endRotationDrag:Ne.endRotationDrag,widthScaleDragRef:Ne.widthScaleDragRef,beginWidthScaleDrag:Ne.beginWidthScaleDrag,updateWidthScaleDrag:Ne.updateWidthScaleDrag,endWidthScaleDrag:Ne.endWidthScaleDrag,radiusDragRef:Ne.radiusDragRef,beginRadiusDrag:Ne.beginRadiusDrag,updateRadiusDrag:Ne.updateRadiusDrag,endRadiusDrag:Ne.endRadiusDrag,togglePetalSelection:Pt,clientToSvgPoint:I,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:vt,onDeleteStencil:vn,onSelectStencil:me=>r({kind:"stencil",stencilId:me}),handleShiftFlowerSelect:wa,groupHighlightedFlowerIds:Le,leaves:i.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:De,onSelectLeaf:me=>r({kind:"leaf",leafId:me}),onSelectGroup:me=>r({kind:"group",groupId:me}),onShiftSelectLeaf:ze})}),x.jsx(Xd,{side:"right",onPointerDown:d,onDoubleClick:h,isDragging:_}),x.jsx("div",{className:"min-w-0 shrink-0",style:p?{width:`${v.right}%`}:void 0,children:x.jsx(Pm,{project:i,selection:a,applyUpdate:f,selectedFlower:Bt,selectedFlowers:gn,selectedLayer:de,selectedPetalIndex:qe,selectedPetals:Be,selectedStencil:Se,onDeleteStencil:vn,groups:i.groups??[],onGroupFlowers:Ee,onUngroupFlowers:nt,onUngroupAll:At,onAddToGroup:ut,onMergeGroups:at,selectedLeaf:Ke,onDeleteLeaf:Ie,onGroupLeaves:Xe,onUngroupLeaves:mt,onAddLeafToGroup:gt,onRemoveLeafFromGroup:ft,onAddLeavesToGroup:Yt,onMergeLeafGroups:rn,onGroupMixed:It})})]}),Xn&&x.jsx(eb,{palette:i.palette,addFlowerOpts:$e,setAddFlowerOpts:bn,onConfirm:al,onCancel:()=>Jn(!1)}),il&&x.jsx(lb,{palette:i.palette,addLeafOpts:na,setAddLeafOpts:Vn,onConfirm:Rn,onCancel:()=>zl(!1)}),ne&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>ce(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:me=>me.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>ce(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([me,_e])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:me}),x.jsx("td",{className:"py-2 text-neutral-700",children:_e})]},me))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function vb({cg:u}){const[i,a]=te.useState("w"),[r,f]=te.useState(""),o=u.totalAreaCm2,v=parseFloat(r),d=r!==""&&Number.isFinite(v)&&v>0?Math.round(o/v*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(h=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[h.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[h.count," "]})]},h.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",o,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:h=>f(h.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:h=>f(h.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function yb(u){const{recipe:i}=u;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[i.colors.map(a=>x.jsx(vb,{cg:a},a.colorId)),i.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function pb(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function _b(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Sb(u){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function wb(){const[u,i]=te.useState("home"),[a,r]=te.useState([]),[f,o]=te.useState(null),[v,S]=te.useState({kind:"project"}),[d,h]=te.useState([]),[_,p]=te.useState(0),y=te.useRef(f),M=te.useRef(d),D=te.useRef(_);te.useEffect(()=>{y.current=f},[f]),te.useEffect(()=>{M.current=d},[d]),te.useEffect(()=>{D.current=_},[_]);const g=te.useRef(null),m=te.useRef(null),G=te.useRef(null),H=te.useRef(null),[R,K]=te.useState(null);te.useEffect(()=>{const T=R?window.setTimeout(()=>K(null),2200):null;return()=>{T&&window.clearTimeout(T)}},[R]),te.useEffect(()=>{r(ar())},[]);function O(T){const j=JSON.stringify(T);h([j]),p(0)}function Z(T,j=!0){if(!j){o(be=>{if(!be)return be;const he=$l(be);return T(he),he.updatedAt=j0(),he});return}const k=y.current;if(!k)return;const B=$l(k);T(B),B.updatedAt=j0(),o(B);const U=M.current,Q=D.current;if(U.length===0){O(B);return}const ee=JSON.stringify(B);let ce=[...U.slice(0,Q+1),ee];const oe=50;ce.length>oe&&(ce=ce.slice(ce.length-oe)),h(ce),p(ce.length-1)}function q(){p(T=>{if(T<=0)return T;const j=T-1,k=M.current[j];return k&&o(_a(JSON.parse(k))),K("Undo"),j})}function X(){p(T=>{if(T>=M.current.length-1)return T;const j=T+1,k=M.current[j];return k&&o(_a(JSON.parse(k))),K("Redo"),j})}function P(){if(!f)return;const T=Yh(f);r(ar()),K(T?"Saved":" ")}function W(){if(!f)return;const T=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),j=URL.createObjectURL(T),k=document.createElement("a");k.href=j,k.download=`${f.title||"tsumami"}.json`,k.click(),URL.revokeObjectURL(j),K("JSON exported")}function V(T){const j=new FileReader;j.onload=()=>{try{const k=JSON.parse(String(j.result??""));if(!k||typeof k!="object"||!Array.isArray(k.flowers))throw new Error("Invalid JSON");const B=_a(k);o(B),S({kind:"project"}),O(B),i("editor"),K("Imported")}catch{K("Import failed")}},j.readAsText(T)}function I(T){const j=_a(T);o(j),S({kind:"project"}),O(j),i("editor")}function Y(T){return T&&(T.kind==="flower"||T.kind==="layer"||T.kind==="petal")?T.flowerId:null}function w(){if(!f)return;const T=Y(v);if(!T)return;const j=f.flowers.find(k=>k.id===T);j&&(m.current=$l(j),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:j},null,2)).catch(()=>{}),K("Flower copied"))}function b(){if(!f||v.kind!=="leaf")return;const T=(f.leaves??[]).find(j=>j.id===v.leafId);T&&(G.current=$l(T),K("Leaf copied"))}function z(){if(!f)return;const T=m.current;if(!T){K("Nothing to paste");return}const j=Gh(T,{x:12+Math.random()*10,y:12+Math.random()*10});Z(k=>{k.flowers.push(j)},!0),S({kind:"flower",flowerId:j.id}),K("Flower pasted")}function A(){if(!f)return;const T=G.current;if(!T)return;const j=kt("leaf"),k={...$l(T),id:j,name:T.name+" (copy)",position:{x:T.position.x+30,y:T.position.y+30}};Z(B=>{B.leaves||(B.leaves=[]),B.leaves.push(k)},!0),S({kind:"leaf",leafId:k.id}),K("Leaf pasted")}function L(T){if(!f)return;const j=Y(v);j&&(Z(k=>{const B=k.flowers.findIndex(ne=>ne.id===j);if(B<0)return;const U=k.flowers,Q=U[B];if(!Q)return;if(U.splice(B,1),T==="front"){U.push(Q);return}if(T==="back"){U.unshift(Q);return}if(T==="forward"){if(B>=U.length){U.push(Q);return}U.splice(B+1,0,Q);return}const ee=ye(B-1,0,U.length);U.splice(ee,0,Q)},!0),K(T==="front"?"Brought to front":T==="back"?"Sent to back":T==="forward"?"Moved forward":"Moved backward"))}te.useEffect(()=>{function T(k){const B=k;if(!B)return!1;const U=String(B.tagName||"").toLowerCase();return U==="input"||U==="textarea"||U==="select"||!!B.isContentEditable}function j(k){if(!(T(k.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?k.metaKey:k.ctrlKey))){if(u==="editor"){if(k.key.toLowerCase()==="c"){k.preventDefault(),v.kind==="leaf"?b():w();return}if(k.key.toLowerCase()==="v"){k.preventDefault(),G.current&&(v.kind==="leaf"||v.kind==="leaves"||v.kind==="mixed"||!m.current)?A():z();return}}k.key.toLowerCase()==="z"&&(k.preventDefault(),k.shiftKey?X():q()),k.key.toLowerCase()==="s"&&(k.preventDefault(),P())}}return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[f,d,_,v,u]);const N=te.useMemo(()=>f?Jh(f):null,[f]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx(Fh,{view:u,onNavigate:i,project:f,onSave:P,onLoad:()=>i("home"),onImportJson:()=>H.current?.click(),onExportJson:W,onExportSvg:()=>{const T=document.querySelector('[data-testid="canvas-svg"]');T&&f&&Wh(T,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const T=document.querySelector('[data-testid="canvas-svg"]');T&&f&&Qh(T,`${f.title||"tsumami"}.png`)}}),x.jsx("input",{ref:H,type:"file",accept:"application/json",className:"hidden",onChange:T=>{const j=T.target.files?.[0];j&&V(j),T.currentTarget.value=""}}),R&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:R}),x.jsxs("main",{className:"flex-1",children:[u==="home"&&x.jsx($h,{saved:a,onNew:()=>i("new"),onOpen:T=>{const j=_a($l(T));o(j),S({kind:"project"}),O(j),i("editor")},onDelete:T=>{Zh(T),r(ar()),K("Deleted")}}),u==="new"&&x.jsx(em,{onBack:()=>i("home"),onCreate:T=>{const j=Rh({title:T});I(j)}}),u==="editor"&&f&&x.jsx(gb,{project:f,selection:v,setSelection:S,applyUpdate:Z,onGoRecipe:()=>i("recipe"),onImport:V,dragRef:g,onCopyFlower:w,onPasteFlower:z,onArrangeFlower:L,canPasteFlower:!!m.current,onUndo:q,onRedo:X,canUndo:_>0,canRedo:_<d.length-1}),u==="recipe"&&f&&N&&x.jsx(yb,{project:f,recipe:N,onBack:()=>i("editor"),onExportJson:W}),u==="terms"&&x.jsx(pb,{onBack:()=>i("home")}),u==="privacy"&&x.jsx(_b,{onBack:()=>i("home")}),(u==="editor"||u==="recipe")&&!f&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&x.jsx(Sb,{onNavigate:i})]})}class Cb extends te.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}wh.createRoot(document.getElementById("root")).render(x.jsx(te.StrictMode,{children:x.jsx(Cb,{children:x.jsx(wb,{})})}));

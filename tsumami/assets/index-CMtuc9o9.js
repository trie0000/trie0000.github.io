(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const b of f.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&r(b)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var ax={exports:{}},Fi={};var Ad;function mh(){if(Ad)return Fi;Ad=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,o,f){var b=null;if(f!==void 0&&(b=""+f),o.key!==void 0&&(b=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:u,type:r,key:b,ref:o!==void 0?o:null,props:f}}return Fi.Fragment=i,Fi.jsx=a,Fi.jsxs=a,Fi}var Td;function bh(){return Td||(Td=1,ax.exports=mh()),ax.exports}var x=bh(),ix={exports:{}},De={};var Ed;function vh(){if(Ed)return De;Ed=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),b=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function m(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,p={};function B(D,G,Y){this.props=D,this.context=G,this.refs=p,this.updater=Y||z}B.prototype.isReactComponent={},B.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},B.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function H(){}H.prototype=B.prototype;function q(D,G,Y){this.props=D,this.context=G,this.refs=p,this.updater=Y||z}var k=q.prototype=new H;k.constructor=q,v(k,B.prototype),k.isPureReactComponent=!0;var R=Array.isArray;function V(){}var L={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function F(D,G,Y){var U=Y.ref;return{$$typeof:u,type:D,key:G,ref:U!==void 0?U:null,props:Y}}function W(D,G){return F(D.type,G,D.props)}function Q(D){return typeof D=="object"&&D!==null&&D.$$typeof===u}function S(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Y){return G[Y]})}var _=/\/+/g;function A(D,G){return typeof D=="object"&&D!==null&&D.key!=null?S(""+D.key):G.toString(36)}function M(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(V,V):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function j(D,G,Y,U,$){var ae=typeof D;(ae==="undefined"||ae==="boolean")&&(D=null);var fe=!1;if(D===null)fe=!0;else switch(ae){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(D.$$typeof){case u:case i:fe=!0;break;case y:return fe=D._init,j(fe(D._payload),G,Y,U,$)}}if(fe)return $=$(D),fe=U===""?"."+A(D,0):U,R($)?(Y="",fe!=null&&(Y=fe.replace(_,"$&/")+"/"),j($,G,Y,"",function(me){return me})):$!=null&&(Q($)&&($=W($,Y+($.key==null||D&&D.key===$.key?"":(""+$.key).replace(_,"$&/")+"/")+fe)),G.push($)),1;fe=0;var be=U===""?".":U+":";if(R(D))for(var oe=0;oe<D.length;oe++)U=D[oe],ae=be+A(U,oe),fe+=j(U,G,Y,ae,$);else if(oe=m(D),typeof oe=="function")for(D=oe.call(D),oe=0;!(U=D.next()).done;)U=U.value,ae=be+A(U,oe++),fe+=j(U,G,Y,ae,$);else if(ae==="object"){if(typeof D.then=="function")return j(M(D),G,Y,U,$);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return fe}function T(D,G,Y){if(D==null)return D;var U=[],$=0;return j(D,U,"","",function(ae){return G.call(Y,ae,$++)}),U}function I(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(Y){(D._status===0||D._status===-1)&&(D._status=1,D._result=Y)},function(Y){(D._status===0||D._status===-1)&&(D._status=2,D._result=Y)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var X=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},O={map:T,forEach:function(D,G,Y){T(D,function(){G.apply(this,arguments)},Y)},count:function(D){var G=0;return T(D,function(){G++}),G},toArray:function(D){return T(D,function(G){return G})||[]},only:function(D){if(!Q(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return De.Activity=w,De.Children=O,De.Component=B,De.Fragment=a,De.Profiler=o,De.PureComponent=q,De.StrictMode=r,De.Suspense=h,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,De.__COMPILER_RUNTIME={__proto__:null,c:function(D){return L.H.useMemoCache(D)}},De.cache=function(D){return function(){return D.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(D,G,Y){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var U=v({},D.props),$=D.key;if(G!=null)for(ae in G.key!==void 0&&($=""+G.key),G)!Z.call(G,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&G.ref===void 0||(U[ae]=G[ae]);var ae=arguments.length-2;if(ae===1)U.children=Y;else if(1<ae){for(var fe=Array(ae),be=0;be<ae;be++)fe[be]=arguments[be+2];U.children=fe}return F(D.type,$,U)},De.createContext=function(D){return D={$$typeof:b,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},De.createElement=function(D,G,Y){var U,$={},ae=null;if(G!=null)for(U in G.key!==void 0&&(ae=""+G.key),G)Z.call(G,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&($[U]=G[U]);var fe=arguments.length-2;if(fe===1)$.children=Y;else if(1<fe){for(var be=Array(fe),oe=0;oe<fe;oe++)be[oe]=arguments[oe+2];$.children=be}if(D&&D.defaultProps)for(U in fe=D.defaultProps,fe)$[U]===void 0&&($[U]=fe[U]);return F(D,ae,$)},De.createRef=function(){return{current:null}},De.forwardRef=function(D){return{$$typeof:g,render:D}},De.isValidElement=Q,De.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:I}},De.memo=function(D,G){return{$$typeof:d,type:D,compare:G===void 0?null:G}},De.startTransition=function(D){var G=L.T,Y={};L.T=Y;try{var U=D(),$=L.S;$!==null&&$(Y,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(V,X)}catch(ae){X(ae)}finally{G!==null&&Y.types!==null&&(G.types=Y.types),L.T=G}},De.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},De.use=function(D){return L.H.use(D)},De.useActionState=function(D,G,Y){return L.H.useActionState(D,G,Y)},De.useCallback=function(D,G){return L.H.useCallback(D,G)},De.useContext=function(D){return L.H.useContext(D)},De.useDebugValue=function(){},De.useDeferredValue=function(D,G){return L.H.useDeferredValue(D,G)},De.useEffect=function(D,G){return L.H.useEffect(D,G)},De.useEffectEvent=function(D){return L.H.useEffectEvent(D)},De.useId=function(){return L.H.useId()},De.useImperativeHandle=function(D,G,Y){return L.H.useImperativeHandle(D,G,Y)},De.useInsertionEffect=function(D,G){return L.H.useInsertionEffect(D,G)},De.useLayoutEffect=function(D,G){return L.H.useLayoutEffect(D,G)},De.useMemo=function(D,G){return L.H.useMemo(D,G)},De.useOptimistic=function(D,G){return L.H.useOptimistic(D,G)},De.useReducer=function(D,G,Y){return L.H.useReducer(D,G,Y)},De.useRef=function(D){return L.H.useRef(D)},De.useState=function(D){return L.H.useState(D)},De.useSyncExternalStore=function(D,G,Y){return L.H.useSyncExternalStore(D,G,Y)},De.useTransition=function(){return L.H.useTransition()},De.version="19.2.3",De}var Bd;function Ox(){return Bd||(Bd=1,ix.exports=vh()),ix.exports}var ee=Ox(),rx={exports:{}},$i={},ux={exports:{}},cx={};var Ld;function gh(){return Ld||(Ld=1,(function(u){function i(j,T){var I=j.length;j.push(T);e:for(;0<I;){var X=I-1>>>1,O=j[X];if(0<o(O,T))j[X]=T,j[I]=O,I=X;else break e}}function a(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var T=j[0],I=j.pop();if(I!==T){j[0]=I;e:for(var X=0,O=j.length,D=O>>>1;X<D;){var G=2*(X+1)-1,Y=j[G],U=G+1,$=j[U];if(0>o(Y,I))U<O&&0>o($,Y)?(j[X]=$,j[U]=I,X=U):(j[X]=Y,j[G]=I,X=G);else if(U<O&&0>o($,I))j[X]=$,j[U]=I,X=U;else break e}}return T}function o(j,T){var I=j.sortIndex-T.sortIndex;return I!==0?I:j.id-T.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var b=Date,g=b.now();u.unstable_now=function(){return b.now()-g}}var h=[],d=[],y=1,w=null,N=3,m=!1,z=!1,v=!1,p=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function k(j){for(var T=a(d);T!==null;){if(T.callback===null)r(d);else if(T.startTime<=j)r(d),T.sortIndex=T.expirationTime,i(h,T);else break;T=a(d)}}function R(j){if(v=!1,k(j),!z)if(a(h)!==null)z=!0,V||(V=!0,S());else{var T=a(d);T!==null&&M(R,T.startTime-j)}}var V=!1,L=-1,Z=5,F=-1;function W(){return p?!0:!(u.unstable_now()-F<Z)}function Q(){if(p=!1,V){var j=u.unstable_now();F=j;var T=!0;try{e:{z=!1,v&&(v=!1,H(L),L=-1),m=!0;var I=N;try{t:{for(k(j),w=a(h);w!==null&&!(w.expirationTime>j&&W());){var X=w.callback;if(typeof X=="function"){w.callback=null,N=w.priorityLevel;var O=X(w.expirationTime<=j);if(j=u.unstable_now(),typeof O=="function"){w.callback=O,k(j),T=!0;break t}w===a(h)&&r(h),k(j)}else r(h);w=a(h)}if(w!==null)T=!0;else{var D=a(d);D!==null&&M(R,D.startTime-j),T=!1}}break e}finally{w=null,N=I,m=!1}T=void 0}}finally{T?S():V=!1}}}var S;if(typeof q=="function")S=function(){q(Q)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,A=_.port2;_.port1.onmessage=Q,S=function(){A.postMessage(null)}}else S=function(){B(Q,0)};function M(j,T){L=B(function(){j(u.unstable_now())},T)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(j){j.callback=null},u.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<j?Math.floor(1e3/j):5},u.unstable_getCurrentPriorityLevel=function(){return N},u.unstable_next=function(j){switch(N){case 1:case 2:case 3:var T=3;break;default:T=N}var I=N;N=T;try{return j()}finally{N=I}},u.unstable_requestPaint=function(){p=!0},u.unstable_runWithPriority=function(j,T){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var I=N;N=j;try{return T()}finally{N=I}},u.unstable_scheduleCallback=function(j,T,I){var X=u.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?X+I:X):I=X,j){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=I+O,j={id:y++,callback:T,priorityLevel:j,startTime:I,expirationTime:O,sortIndex:-1},I>X?(j.sortIndex=I,i(d,j),a(h)===null&&j===a(d)&&(v?(H(L),L=-1):v=!0,M(R,I-X))):(j.sortIndex=O,i(h,j),z||m||(z=!0,V||(V=!0,S()))),j},u.unstable_shouldYield=W,u.unstable_wrapCallback=function(j){var T=N;return function(){var I=N;N=T;try{return j.apply(this,arguments)}finally{N=I}}}})(cx)),cx}var kd;function yh(){return kd||(kd=1,ux.exports=gh()),ux.exports}var xx={exports:{}},Zt={};var qd;function ph(){if(qd)return Zt;qd=1;var u=Ox();function i(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(h,d,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:h,containerInfo:d,implementation:y}}var b=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(h,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(i(299));return f(h,d,null,y)},Zt.flushSync=function(h){var d=b.T,y=r.p;try{if(b.T=null,r.p=2,h)return h()}finally{b.T=d,r.p=y,r.d.f()}},Zt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Zt.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Zt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var y=d.as,w=g(y,d.crossOrigin),N=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:m}):y==="script"&&r.d.X(h,{crossOrigin:w,integrity:N,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Zt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=g(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Zt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,w=g(y,d.crossOrigin);r.d.L(h,y,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Zt.preloadModule=function(h,d){if(typeof h=="string")if(d){var y=g(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Zt.requestFormReset=function(h){r.d.r(h)},Zt.unstable_batchedUpdates=function(h,d){return h(d)},Zt.useFormState=function(h,d,y){return b.H.useFormState(h,d,y)},Zt.useFormStatus=function(){return b.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var Gd;function _h(){if(Gd)return xx.exports;Gd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),xx.exports=ph(),xx.exports}var Rd;function Sh(){if(Rd)return $i;Rd=1;var u=yh(),i=Ox(),a=_h();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function b(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(r(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var s=c.alternate;if(s===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===s.child){for(s=c.child;s;){if(s===n)return h(c),e;if(s===l)return h(c),t;s=s.sibling}throw Error(r(188))}if(n.return!==l.return)n=c,l=s;else{for(var C=!1,E=c.child;E;){if(E===n){C=!0,n=c,l=s;break}if(E===l){C=!0,l=c,n=s;break}E=E.sibling}if(!C){for(E=s.child;E;){if(E===n){C=!0,n=s,l=c;break}if(E===l){C=!0,l=s,n=c;break}E=E.sibling}if(!C)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),q=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function S(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var _=Symbol.for("react.client.reference");function A(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case B:return"Profiler";case p:return"StrictMode";case R:return"Suspense";case V:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case q:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:A(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return A(e(t))}catch{}}return null}var M=Array.isArray,j=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},X=[],O=-1;function D(e){return{current:e}}function G(e){0>O||(e.current=X[O],X[O]=null,O--)}function Y(e,t){O++,X[O]=e.current,e.current=t}var U=D(null),$=D(null),ae=D(null),fe=D(null);function be(e,t){switch(Y(ae,t),Y($,e),Y(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$f(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$f(t),e=ed(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(U),Y(U,e)}function oe(){G(U),G($),G(ae)}function me(e){e.memoizedState!==null&&Y(fe,e);var t=U.current,n=ed(t,e.type);t!==n&&(Y($,e),Y(U,n))}function de(e){$.current===e&&(G(U),G($)),fe.current===e&&(G(fe),Vi._currentValue=I)}var Me,Le;function Ee(e){if(Me===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Me=t&&t[1]||"",Le=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+e+Le}var Ge=!1;function ot(e,t){if(!e||Ge)return"";Ge=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ie){var le=ie}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ie){le=ie}e.call(ce.prototype)}}else{try{throw Error()}catch(ie){le=ie}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ie){if(ie&&le&&typeof ie.stack=="string")return[ie.stack,le.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),C=s[0],E=s[1];if(C&&E){var K=C.split(`
`),ne=E.split(`
`);for(c=l=0;l<K.length&&!K[l].includes("DetermineComponentFrameRoot");)l++;for(;c<ne.length&&!ne[c].includes("DetermineComponentFrameRoot");)c++;if(l===K.length||c===ne.length)for(l=K.length-1,c=ne.length-1;1<=l&&0<=c&&K[l]!==ne[c];)c--;for(;1<=l&&0<=c;l--,c--)if(K[l]!==ne[c]){if(l!==1||c!==1)do if(l--,c--,0>c||K[l]!==ne[c]){var re=`
`+K[l].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=l&&0<=c);break}}}finally{Ge=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ee(n):""}function _t(e,t){switch(e.tag){case 26:case 27:case 5:return Ee(e.type);case 16:return Ee("Lazy");case 13:return e.child!==t&&t!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return Ee("Activity");default:return""}}function mt(e){try{var t="",n=null;do t+=_t(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Ut=u.unstable_scheduleCallback,cn=u.unstable_cancelCallback,Sn=u.unstable_shouldYield,Jn=u.unstable_requestPaint,Fe=u.unstable_now,Cn=u.unstable_getCurrentPriorityLevel,Cl=u.unstable_ImmediatePriority,ll=u.unstable_UserBlockingPriority,al=u.unstable_NormalPriority,wl=u.unstable_LowPriority,Pl=u.unstable_IdlePriority,Vn=u.log,ci=u.unstable_setDisableYieldValue,Rn=null,Lt=null;function wn(e){if(typeof Vn=="function"&&ci(e),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Rn,e)}catch{}}var Ie=Math.clz32?Math.clz32:qe,se=Math.log,ke=Math.LN2;function qe(e){return e>>>=0,e===0?32:31-(se(e)/ke|0)|0}var _e=256,pe=262144,Ne=4194304;function ze(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Se(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,s=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~s,l!==0?c=ze(l):(C&=E,C!==0?c=ze(C):n||(n=E&~e,n!==0&&(c=ze(n))))):(E=l&~s,E!==0?c=ze(E):C!==0?c=ze(C):n||(n=l&~e,n!==0&&(c=ze(n)))),c===0?0:t!==0&&t!==c&&(t&s)===0&&(s=c&-c,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:c}function $e(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function et(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function Qe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kt(e,t,n,l,c,s){var C=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var E=e.entanglements,K=e.expirationTimes,ne=e.hiddenUpdates;for(n=C&~n;0<n;){var re=31-Ie(n),ce=1<<re;E[re]=0,K[re]=-1;var le=ne[re];if(le!==null)for(ne[re]=null,re=0;re<le.length;re++){var ie=le[re];ie!==null&&(ie.lane&=-536870913)}n&=~ce}l!==0&&tt(e,l,0),s!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=s&~(C&~t))}function tt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ie(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Ie(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function rt(e,t){var n=t&-t;return n=(n&42)!==0?1:lt(n),(n&(e.suspendedLanes|t))!==0?0:n}function lt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function On(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:Cd(e.type))}function Fl(e,t){var n=T.p;try{return T.p=e,t()}finally{T.p=n}}var Re=Math.random().toString(36).slice(2),gt="__reactFiber$"+Re,Kt="__reactProps$"+Re,Jt="__reactContainer$"+Re,xi="__reactEvents$"+Re,Q0="__reactListeners$"+Re,W0="__reactHandles$"+Re,xr="__reactResources$"+Re,$l="__reactMarker$"+Re;function si(e){delete e[gt],delete e[Kt],delete e[xi],delete e[Q0],delete e[W0]}function he(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ud(e);e!==null;){if(n=e[gt])return n;e=ud(e)}return t}e=n,n=e.parentNode}return null}function ye(e){if(e=e[gt]||e[Jt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ye(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Nt(e){var t=e[xr];return t||(t=e[xr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ue(e){e[$l]=!0}var Qn=new Set,sr={};function ea(e,t){Sa(e,t),Sa(e+"Capture",t)}function Sa(e,t){for(sr[e]=t,e=0;e<t.length;e++)Qn.add(t[e])}var r1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ix={},Yx={};function u1(e){return bt.call(Yx,e)?!0:bt.call(Ix,e)?!1:r1.test(e)?Yx[e]=!0:(Ix[e]=!0,!1)}function or(e,t,n){if(u1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function fr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function il(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ux(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(C){n=""+C,s.call(this,C)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(C){n=""+C},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P0(e){if(!e._valueTracker){var t=Ux(e)?"checked":"value";e._valueTracker=c1(e,t,""+e[t])}}function Kx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Ux(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function dr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var x1=/[\n"\\]/g;function jn(e){return e.replace(x1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function F0(e,t,n,l,c,s,C,E){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),t!=null?C==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mn(t)):e.value!==""+Mn(t)&&(e.value=""+Mn(t)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),t!=null?$0(e,C,Mn(t)):n!=null?$0(e,C,Mn(n)):l!=null&&e.removeAttribute("value"),c==null&&s!=null&&(e.defaultChecked=!!s),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Mn(E):e.removeAttribute("name")}function Zx(e,t,n,l,c,s,C,E){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){P0(e);return}n=n!=null?""+Mn(n):"",t=t!=null?""+Mn(t):n,E||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),P0(e)}function $0(e,t,n){t==="number"&&dr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ca(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Mn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Xx(e,t,n){if(t!=null&&(t=""+Mn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Mn(n):""}function Jx(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(M(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Mn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),P0(e)}function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var s1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vx(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||s1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Qx(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Vx(e,c,l)}else for(var s in t)t.hasOwnProperty(s)&&Vx(e,s,t[s])}function eu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(e){return f1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function rl(){}var tu=null;function nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,ja=null;function Wx(e){var t=ye(e);if(t&&(e=t.stateNode)){var n=e[Kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(F0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+jn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Kt]||null;if(!c)throw Error(r(90));F0(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Kx(l)}break e;case"textarea":Xx(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ca(e,!!n.multiple,t,!1)}}}var lu=!1;function Px(e,t,n){if(lu)return e(t,n);lu=!0;try{var l=e(t);return l}finally{if(lu=!1,(Ma!==null||ja!==null)&&(t0(),Ma&&(t=Ma,e=ja,ja=Ma=null,Wx(t),e)))for(t=0;t<e.length;t++)Wx(e[t])}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Kt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),au=!1;if(ul)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){au=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{au=!1}var Ml=null,iu=null,mr=null;function Fx(){if(mr)return mr;var e,t=iu,n=t.length,l,c="value"in Ml?Ml.value:Ml.textContent,s=c.length;for(e=0;e<n&&t[e]===c[e];e++);var C=n-e;for(l=1;l<=C&&t[n-l]===c[s-l];l++);return mr=c.slice(e,1<l?1-l:void 0)}function br(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vr(){return!0}function $x(){return!1}function Qt(e){function t(n,l,c,s,C){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=s,this.target=C,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(n=e[E],this[E]=n?n(s):s[E]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vr:$x,this.isPropagationStopped=$x,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),t}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gr=Qt(ta),di=w({},ta,{view:0,detail:0}),d1=Qt(di),ru,uu,hi,yr=w({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(ru=e.screenX-hi.screenX,uu=e.screenY-hi.screenY):uu=ru=0,hi=e),ru)},movementY:function(e){return"movementY"in e?e.movementY:uu}}),es=Qt(yr),h1=w({},yr,{dataTransfer:0}),m1=Qt(h1),b1=w({},di,{relatedTarget:0}),cu=Qt(b1),v1=w({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),g1=Qt(v1),y1=w({},ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p1=Qt(y1),_1=w({},ta,{data:0}),ts=Qt(_1),S1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w1[e])?!!t[e]:!1}function xu(){return M1}var j1=w({},di,{key:function(e){if(e.key){var t=S1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z1=Qt(j1),D1=w({},yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=Qt(D1),N1=w({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),A1=Qt(N1),T1=w({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),E1=Qt(T1),B1=w({},yr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L1=Qt(B1),k1=w({},ta,{newState:0,oldState:0}),q1=Qt(k1),G1=[9,13,27,32],su=ul&&"CompositionEvent"in window,mi=null;ul&&"documentMode"in document&&(mi=document.documentMode);var R1=ul&&"TextEvent"in window&&!mi,ls=ul&&(!su||mi&&8<mi&&11>=mi),as=" ",is=!1;function rs(e,t){switch(e){case"keyup":return G1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function us(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var za=!1;function O1(e,t){switch(e){case"compositionend":return us(t);case"keypress":return t.which!==32?null:(is=!0,as);case"textInput":return e=t.data,e===as&&is?null:e;default:return null}}function H1(e,t){if(za)return e==="compositionend"||!su&&rs(e,t)?(e=Fx(),mr=iu=Ml=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ls&&t.locale!=="ko"?null:t.data;default:return null}}var I1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!I1[e.type]:t==="textarea"}function xs(e,t,n,l){Ma?ja?ja.push(l):ja=[l]:Ma=l,t=c0(t,"onChange"),0<t.length&&(n=new gr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var bi=null,vi=null;function Y1(e){Jf(e,0)}function pr(e){var t=Ye(e);if(Kx(t))return e}function ss(e,t){if(e==="change")return t}var os=!1;if(ul){var ou;if(ul){var fu="oninput"in document;if(!fu){var fs=document.createElement("div");fs.setAttribute("oninput","return;"),fu=typeof fs.oninput=="function"}ou=fu}else ou=!1;os=ou&&(!document.documentMode||9<document.documentMode)}function ds(){bi&&(bi.detachEvent("onpropertychange",hs),vi=bi=null)}function hs(e){if(e.propertyName==="value"&&pr(vi)){var t=[];xs(t,vi,e,nu(e)),Px(Y1,t)}}function U1(e,t,n){e==="focusin"?(ds(),bi=t,vi=n,bi.attachEvent("onpropertychange",hs)):e==="focusout"&&ds()}function K1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pr(vi)}function Z1(e,t){if(e==="click")return pr(t)}function X1(e,t){if(e==="input"||e==="change")return pr(t)}function J1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:J1;function gi(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!bt.call(t,c)||!xn(e[c],t[c]))return!1}return!0}function ms(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bs(e,t){var n=ms(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ms(n)}}function vs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=dr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dr(e.document)}return t}function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var V1=ul&&"documentMode"in document&&11>=document.documentMode,Da=null,hu=null,yi=null,mu=!1;function ys(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mu||Da==null||Da!==dr(l)||(l=Da,"selectionStart"in l&&du(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yi&&gi(yi,l)||(yi=l,l=c0(hu,"onSelect"),0<l.length&&(t=new gr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Da)))}function na(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Na={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},bu={},ps={};ul&&(ps=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function la(e){if(bu[e])return bu[e];if(!Na[e])return e;var t=Na[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ps)return bu[e]=t[n];return e}var _s=la("animationend"),Ss=la("animationiteration"),Cs=la("animationstart"),Q1=la("transitionrun"),W1=la("transitionstart"),P1=la("transitioncancel"),ws=la("transitionend"),Ms=new Map,vu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vu.push("scrollEnd");function Hn(e,t){Ms.set(e,t),ea(t,[e])}var _r=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],Aa=0,gu=0;function Sr(){for(var e=Aa,t=gu=Aa=0;t<e;){var n=zn[t];zn[t++]=null;var l=zn[t];zn[t++]=null;var c=zn[t];zn[t++]=null;var s=zn[t];if(zn[t++]=null,l!==null&&c!==null){var C=l.pending;C===null?c.next=c:(c.next=C.next,C.next=c),l.pending=c}s!==0&&js(n,c,s)}}function Cr(e,t,n,l){zn[Aa++]=e,zn[Aa++]=t,zn[Aa++]=n,zn[Aa++]=l,gu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yu(e,t,n,l){return Cr(e,t,n,l),wr(e)}function aa(e,t){return Cr(e,null,null,t),wr(e)}function js(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(c=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,c&&t!==null&&(c=31-Ie(n),e=s.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),s):null}function wr(e){if(50<Ii)throw Ii=0,Dc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ta={};function F1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,l){return new F1(e,t,n,l)}function pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cl(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zs(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Mr(e,t,n,l,c,s){var C=0;if(l=e,typeof e=="function")pu(e)&&(C=1);else if(typeof e=="string")C=lh(e,n,U.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=sn(31,n,t,c),e.elementType=F,e.lanes=s,e;case v:return ia(n.children,c,s,t);case p:C=8,c|=24;break;case B:return e=sn(12,n,t,c|2),e.elementType=B,e.lanes=s,e;case R:return e=sn(13,n,t,c),e.elementType=R,e.lanes=s,e;case V:return e=sn(19,n,t,c),e.elementType=V,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:C=10;break e;case H:C=9;break e;case k:C=11;break e;case L:C=14;break e;case Z:C=16,l=null;break e}C=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=sn(C,n,t,c),t.elementType=e,t.type=l,t.lanes=s,t}function ia(e,t,n,l){return e=sn(7,e,l,t),e.lanes=n,e}function _u(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function Ds(e){var t=sn(18,null,null,0);return t.stateNode=e,t}function Su(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ns=new WeakMap;function Dn(e,t){if(typeof e=="object"&&e!==null){var n=Ns.get(e);return n!==void 0?n:(t={value:e,source:t,stack:mt(t)},Ns.set(e,t),t)}return{value:e,source:t,stack:mt(t)}}var Ea=[],Ba=0,jr=null,pi=0,Nn=[],An=0,jl=null,Wn=1,Pn="";function xl(e,t){Ea[Ba++]=pi,Ea[Ba++]=jr,jr=e,pi=t}function As(e,t,n){Nn[An++]=Wn,Nn[An++]=Pn,Nn[An++]=jl,jl=e;var l=Wn;e=Pn;var c=32-Ie(l)-1;l&=~(1<<c),n+=1;var s=32-Ie(t)+c;if(30<s){var C=c-c%5;s=(l&(1<<C)-1).toString(32),l>>=C,c-=C,Wn=1<<32-Ie(t)+c|n<<c|l,Pn=s+e}else Wn=1<<s|n<<c|l,Pn=e}function Cu(e){e.return!==null&&(xl(e,1),As(e,1,0))}function wu(e){for(;e===jr;)jr=Ea[--Ba],Ea[Ba]=null,pi=Ea[--Ba],Ea[Ba]=null;for(;e===jl;)jl=Nn[--An],Nn[An]=null,Pn=Nn[--An],Nn[An]=null,Wn=Nn[--An],Nn[An]=null}function Ts(e,t){Nn[An++]=Wn,Nn[An++]=Pn,Nn[An++]=jl,Wn=t.id,Pn=t.overflow,jl=e}var qt=null,ft=null,Xe=!1,zl=null,Tn=!1,Mu=Error(r(519));function Dl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _i(Dn(t,e)),Mu}function Es(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[gt]=e,t[Kt]=l,n){case"dialog":He("cancel",t),He("close",t);break;case"iframe":case"object":case"embed":He("load",t);break;case"video":case"audio":for(n=0;n<Ui.length;n++)He(Ui[n],t);break;case"source":He("error",t);break;case"img":case"image":case"link":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"input":He("invalid",t),Zx(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":He("invalid",t);break;case"textarea":He("invalid",t),Jx(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Pf(t.textContent,n)?(l.popover!=null&&(He("beforetoggle",t),He("toggle",t)),l.onScroll!=null&&He("scroll",t),l.onScrollEnd!=null&&He("scrollend",t),l.onClick!=null&&(t.onclick=rl),t=!0):t=!1,t||Dl(e,!0)}function Bs(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:qt=qt.return}}function La(e){if(e!==qt)return!1;if(!Xe)return Bs(e),Xe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Uc(e.type,e.memoizedProps)),n=!n),n&&ft&&Dl(e),Bs(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ft=rd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ft=rd(e)}else t===27?(t=ft,Yl(e.type)?(e=Vc,Vc=null,ft=e):ft=t):ft=qt?Bn(e.stateNode.nextSibling):null;return!0}function ra(){ft=qt=null,Xe=!1}function ju(){var e=zl;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),zl=null),e}function _i(e){zl===null?zl=[e]:zl.push(e)}var zu=D(null),ua=null,sl=null;function Nl(e,t,n){Y(zu,t._currentValue),t._currentValue=n}function ol(e){e._currentValue=zu.current,G(zu)}function Du(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Nu(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var s=c.dependencies;if(s!==null){var C=c.child;s=s.firstContext;e:for(;s!==null;){var E=s;s=c;for(var K=0;K<t.length;K++)if(E.context===t[K]){s.lanes|=n,E=s.alternate,E!==null&&(E.lanes|=n),Du(s.return,n,e),l||(C=null);break e}s=E.next}}else if(c.tag===18){if(C=c.return,C===null)throw Error(r(341));C.lanes|=n,s=C.alternate,s!==null&&(s.lanes|=n),Du(C,n,e),C=null}else C=c.child;if(C!==null)C.return=c;else for(C=c;C!==null;){if(C===e){C=null;break}if(c=C.sibling,c!==null){c.return=C.return,C=c;break}C=C.return}c=C}}function ka(e,t,n,l){e=null;for(var c=t,s=!1;c!==null;){if(!s){if((c.flags&524288)!==0)s=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var C=c.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var E=c.type;xn(c.pendingProps.value,C.value)||(e!==null?e.push(E):e=[E])}}else if(c===fe.current){if(C=c.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Vi):e=[Vi])}c=c.return}e!==null&&Nu(t,e,n,l),t.flags|=262144}function zr(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){ua=e,sl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return Ls(ua,e)}function Dr(e,t){return ua===null&&ca(e),Ls(e,t)}function Ls(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},sl===null){if(e===null)throw Error(r(308));sl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sl=sl.next=t;return n}var $1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},e2=u.unstable_scheduleCallback,t2=u.unstable_NormalPriority,wt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new $1,data:new Map,refCount:0}}function Si(e){e.refCount--,e.refCount===0&&e2(t2,function(){e.controller.abort()})}var Ci=null,Tu=0,qa=0,Ga=null;function n2(e,t){if(Ci===null){var n=Ci=[];Tu=0,qa=Lc(),Ga={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Tu++,t.then(ks,ks),t}function ks(){if(--Tu===0&&Ci!==null){Ga!==null&&(Ga.status="fulfilled");var e=Ci;Ci=null,qa=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function l2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var qs=j.S;j.S=function(e,t){_f=Fe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&n2(e,t),qs!==null&&qs(e,t)};var xa=D(null);function Eu(){var e=xa.current;return e!==null?e:st.pooledCache}function Nr(e,t){t===null?Y(xa,xa.current):Y(xa,t.pool)}function Gs(){var e=Eu();return e===null?null:{parent:wt._currentValue,pool:e}}var Ra=Error(r(460)),Bu=Error(r(474)),Ar=Error(r(542)),Tr={then:function(){}};function Rs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Os(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(rl,rl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Is(e),e;default:if(typeof t.status=="string")t.then(rl,rl);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Is(e),e}throw oa=t,Ra}}function sa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(oa=n,Ra):n}}var oa=null;function Hs(){if(oa===null)throw Error(r(459));var e=oa;return oa=null,e}function Is(e){if(e===Ra||e===Ar)throw Error(r(483))}var Oa=null,wi=0;function Er(e){var t=wi;return wi+=1,Oa===null&&(Oa=[]),Os(Oa,e,t)}function Mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Br(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ys(e){function t(P,J){if(e){var te=P.deletions;te===null?(P.deletions=[J],P.flags|=16):te.push(J)}}function n(P,J){if(!e)return null;for(;J!==null;)t(P,J),J=J.sibling;return null}function l(P){for(var J=new Map;P!==null;)P.key!==null?J.set(P.key,P):J.set(P.index,P),P=P.sibling;return J}function c(P,J){return P=cl(P,J),P.index=0,P.sibling=null,P}function s(P,J,te){return P.index=te,e?(te=P.alternate,te!==null?(te=te.index,te<J?(P.flags|=67108866,J):te):(P.flags|=67108866,J)):(P.flags|=1048576,J)}function C(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,J,te,ue){return J===null||J.tag!==6?(J=_u(te,P.mode,ue),J.return=P,J):(J=c(J,te),J.return=P,J)}function K(P,J,te,ue){var Ce=te.type;return Ce===v?re(P,J,te.props.children,ue,te.key):J!==null&&(J.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Z&&sa(Ce)===J.type)?(J=c(J,te.props),Mi(J,te),J.return=P,J):(J=Mr(te.type,te.key,te.props,null,P.mode,ue),Mi(J,te),J.return=P,J)}function ne(P,J,te,ue){return J===null||J.tag!==4||J.stateNode.containerInfo!==te.containerInfo||J.stateNode.implementation!==te.implementation?(J=Su(te,P.mode,ue),J.return=P,J):(J=c(J,te.children||[]),J.return=P,J)}function re(P,J,te,ue,Ce){return J===null||J.tag!==7?(J=ia(te,P.mode,ue,Ce),J.return=P,J):(J=c(J,te),J.return=P,J)}function ce(P,J,te){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=_u(""+J,P.mode,te),J.return=P,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case m:return te=Mr(J.type,J.key,J.props,null,P.mode,te),Mi(te,J),te.return=P,te;case z:return J=Su(J,P.mode,te),J.return=P,J;case Z:return J=sa(J),ce(P,J,te)}if(M(J)||S(J))return J=ia(J,P.mode,te,null),J.return=P,J;if(typeof J.then=="function")return ce(P,Er(J),te);if(J.$$typeof===q)return ce(P,Dr(P,J),te);Br(P,J)}return null}function le(P,J,te,ue){var Ce=J!==null?J.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ce!==null?null:E(P,J,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case m:return te.key===Ce?K(P,J,te,ue):null;case z:return te.key===Ce?ne(P,J,te,ue):null;case Z:return te=sa(te),le(P,J,te,ue)}if(M(te)||S(te))return Ce!==null?null:re(P,J,te,ue,null);if(typeof te.then=="function")return le(P,J,Er(te),ue);if(te.$$typeof===q)return le(P,J,Dr(P,te),ue);Br(P,te)}return null}function ie(P,J,te,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return P=P.get(te)||null,E(J,P,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case m:return P=P.get(ue.key===null?te:ue.key)||null,K(J,P,ue,Ce);case z:return P=P.get(ue.key===null?te:ue.key)||null,ne(J,P,ue,Ce);case Z:return ue=sa(ue),ie(P,J,te,ue,Ce)}if(M(ue)||S(ue))return P=P.get(te)||null,re(J,P,ue,Ce,null);if(typeof ue.then=="function")return ie(P,J,te,Er(ue),Ce);if(ue.$$typeof===q)return ie(P,J,te,Dr(J,ue),Ce);Br(J,ue)}return null}function ve(P,J,te,ue){for(var Ce=null,We=null,ge=J,Be=J=0,Ze=null;ge!==null&&Be<te.length;Be++){ge.index>Be?(Ze=ge,ge=null):Ze=ge.sibling;var Pe=le(P,ge,te[Be],ue);if(Pe===null){ge===null&&(ge=Ze);break}e&&ge&&Pe.alternate===null&&t(P,ge),J=s(Pe,J,Be),We===null?Ce=Pe:We.sibling=Pe,We=Pe,ge=Ze}if(Be===te.length)return n(P,ge),Xe&&xl(P,Be),Ce;if(ge===null){for(;Be<te.length;Be++)ge=ce(P,te[Be],ue),ge!==null&&(J=s(ge,J,Be),We===null?Ce=ge:We.sibling=ge,We=ge);return Xe&&xl(P,Be),Ce}for(ge=l(ge);Be<te.length;Be++)Ze=ie(ge,P,Be,te[Be],ue),Ze!==null&&(e&&Ze.alternate!==null&&ge.delete(Ze.key===null?Be:Ze.key),J=s(Ze,J,Be),We===null?Ce=Ze:We.sibling=Ze,We=Ze);return e&&ge.forEach(function(Jl){return t(P,Jl)}),Xe&&xl(P,Be),Ce}function je(P,J,te,ue){if(te==null)throw Error(r(151));for(var Ce=null,We=null,ge=J,Be=J=0,Ze=null,Pe=te.next();ge!==null&&!Pe.done;Be++,Pe=te.next()){ge.index>Be?(Ze=ge,ge=null):Ze=ge.sibling;var Jl=le(P,ge,Pe.value,ue);if(Jl===null){ge===null&&(ge=Ze);break}e&&ge&&Jl.alternate===null&&t(P,ge),J=s(Jl,J,Be),We===null?Ce=Jl:We.sibling=Jl,We=Jl,ge=Ze}if(Pe.done)return n(P,ge),Xe&&xl(P,Be),Ce;if(ge===null){for(;!Pe.done;Be++,Pe=te.next())Pe=ce(P,Pe.value,ue),Pe!==null&&(J=s(Pe,J,Be),We===null?Ce=Pe:We.sibling=Pe,We=Pe);return Xe&&xl(P,Be),Ce}for(ge=l(ge);!Pe.done;Be++,Pe=te.next())Pe=ie(ge,P,Be,Pe.value,ue),Pe!==null&&(e&&Pe.alternate!==null&&ge.delete(Pe.key===null?Be:Pe.key),J=s(Pe,J,Be),We===null?Ce=Pe:We.sibling=Pe,We=Pe);return e&&ge.forEach(function(hh){return t(P,hh)}),Xe&&xl(P,Be),Ce}function xt(P,J,te,ue){if(typeof te=="object"&&te!==null&&te.type===v&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case m:e:{for(var Ce=te.key;J!==null;){if(J.key===Ce){if(Ce=te.type,Ce===v){if(J.tag===7){n(P,J.sibling),ue=c(J,te.props.children),ue.return=P,P=ue;break e}}else if(J.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Z&&sa(Ce)===J.type){n(P,J.sibling),ue=c(J,te.props),Mi(ue,te),ue.return=P,P=ue;break e}n(P,J);break}else t(P,J);J=J.sibling}te.type===v?(ue=ia(te.props.children,P.mode,ue,te.key),ue.return=P,P=ue):(ue=Mr(te.type,te.key,te.props,null,P.mode,ue),Mi(ue,te),ue.return=P,P=ue)}return C(P);case z:e:{for(Ce=te.key;J!==null;){if(J.key===Ce)if(J.tag===4&&J.stateNode.containerInfo===te.containerInfo&&J.stateNode.implementation===te.implementation){n(P,J.sibling),ue=c(J,te.children||[]),ue.return=P,P=ue;break e}else{n(P,J);break}else t(P,J);J=J.sibling}ue=Su(te,P.mode,ue),ue.return=P,P=ue}return C(P);case Z:return te=sa(te),xt(P,J,te,ue)}if(M(te))return ve(P,J,te,ue);if(S(te)){if(Ce=S(te),typeof Ce!="function")throw Error(r(150));return te=Ce.call(te),je(P,J,te,ue)}if(typeof te.then=="function")return xt(P,J,Er(te),ue);if(te.$$typeof===q)return xt(P,J,Dr(P,te),ue);Br(P,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,J!==null&&J.tag===6?(n(P,J.sibling),ue=c(J,te),ue.return=P,P=ue):(n(P,J),ue=_u(te,P.mode,ue),ue.return=P,P=ue),C(P)):n(P,J)}return function(P,J,te,ue){try{wi=0;var Ce=xt(P,J,te,ue);return Oa=null,Ce}catch(ge){if(ge===Ra||ge===Ar)throw ge;var We=sn(29,ge,null,P.mode);return We.lanes=ue,We.return=P,We}}}var fa=Ys(!0),Us=Ys(!1),Al=!1;function Lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function El(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=wr(e),js(e,null,n),t}return Cr(e,l,t,n),wr(e)}function ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Dt(e,n)}}function qu(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var C={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?c=s=C:s=s.next=C,n=n.next}while(n!==null);s===null?c=s=t:s=s.next=t}else c=s=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Gu=!1;function zi(){if(Gu){var e=Ga;if(e!==null)throw e}}function Di(e,t,n,l){Gu=!1;var c=e.updateQueue;Al=!1;var s=c.firstBaseUpdate,C=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var K=E,ne=K.next;K.next=null,C===null?s=ne:C.next=ne,C=K;var re=e.alternate;re!==null&&(re=re.updateQueue,E=re.lastBaseUpdate,E!==C&&(E===null?re.firstBaseUpdate=ne:E.next=ne,re.lastBaseUpdate=K))}if(s!==null){var ce=c.baseState;C=0,re=ne=K=null,E=s;do{var le=E.lane&-536870913,ie=le!==E.lane;if(ie?(Ke&le)===le:(l&le)===le){le!==0&&le===qa&&(Gu=!0),re!==null&&(re=re.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ve=e,je=E;le=t;var xt=n;switch(je.tag){case 1:if(ve=je.payload,typeof ve=="function"){ce=ve.call(xt,ce,le);break e}ce=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=je.payload,le=typeof ve=="function"?ve.call(xt,ce,le):ve,le==null)break e;ce=w({},ce,le);break e;case 2:Al=!0}}le=E.callback,le!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=c.callbacks,ie===null?c.callbacks=[le]:ie.push(le))}else ie={lane:le,tag:E.tag,payload:E.payload,callback:E.callback,next:null},re===null?(ne=re=ie,K=ce):re=re.next=ie,C|=le;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;ie=E,E=ie.next,ie.next=null,c.lastBaseUpdate=ie,c.shared.pending=null}}while(!0);re===null&&(K=ce),c.baseState=K,c.firstBaseUpdate=ne,c.lastBaseUpdate=re,s===null&&(c.shared.lanes=0),Gl|=C,e.lanes=C,e.memoizedState=ce}}function Ks(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Zs(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ks(n[e],t)}var Ha=D(null),Lr=D(0);function Xs(e,t){e=pl,Y(Lr,e),Y(Ha,t),pl=e|t.baseLanes}function Ru(){Y(Lr,pl),Y(Ha,Ha.current)}function Ou(){pl=Lr.current,G(Ha),G(Lr)}var on=D(null),En=null;function Bl(e){var t=e.alternate;Y(St,St.current&1),Y(on,e),En===null&&(t===null||Ha.current!==null||t.memoizedState!==null)&&(En=e)}function Hu(e){Y(St,St.current),Y(on,e),En===null&&(En=e)}function Js(e){e.tag===22?(Y(St,St.current),Y(on,e),En===null&&(En=e)):Ll()}function Ll(){Y(St,St.current),Y(on,on.current)}function fn(e){G(on),En===e&&(En=null),G(St)}var St=D(0);function kr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xc(n)||Jc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fl=0,Te=null,ut=null,Mt=null,qr=!1,Ia=!1,da=!1,Gr=0,Ni=0,Ya=null,a2=0;function yt(){throw Error(r(321))}function Iu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function Yu(e,t,n,l,c,s){return fl=s,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?To:lc,da=!1,s=n(l,c),da=!1,Ia&&(s=Qs(t,n,l,c)),Vs(e),s}function Vs(e){j.H=Ei;var t=ut!==null&&ut.next!==null;if(fl=0,Mt=ut=Te=null,qr=!1,Ni=0,Ya=null,t)throw Error(r(300));e===null||jt||(e=e.dependencies,e!==null&&zr(e)&&(jt=!0))}function Qs(e,t,n,l){Te=e;var c=0;do{if(Ia&&(Ya=null),Ni=0,Ia=!1,25<=c)throw Error(r(301));if(c+=1,Mt=ut=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}j.H=Eo,s=t(n,l)}while(Ia);return s}function i2(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?Ai(t):t,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(Te.flags|=1024),t}function Uu(){var e=Gr!==0;return Gr=0,e}function Ku(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Zu(e){if(qr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qr=!1}fl=0,Mt=ut=Te=null,Ia=!1,Ni=Gr=0,Ya=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Te.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Ct(){if(ut===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=Mt===null?Te.memoizedState:Mt.next;if(t!==null)Mt=t,ut=e;else{if(e===null)throw Te.alternate===null?Error(r(467)):Error(r(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Mt===null?Te.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Rr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ai(e){var t=Ni;return Ni+=1,Ya===null&&(Ya=[]),e=Os(Ya,e,t),t=Te,(Mt===null?t.memoizedState:Mt.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?To:lc),e}function Or(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ai(e);if(e.$$typeof===q)return Gt(e)}throw Error(r(438,String(e)))}function Xu(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Rr(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=W;return t.index++,n}function dl(e,t){return typeof t=="function"?t(e):t}function Hr(e){var t=Ct();return Ju(t,ut,e)}function Ju(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=e.baseQueue,s=l.pending;if(s!==null){if(c!==null){var C=c.next;c.next=s.next,s.next=C}t.baseQueue=c=s,l.pending=null}if(s=e.baseState,c===null)e.memoizedState=s;else{t=c.next;var E=C=null,K=null,ne=t,re=!1;do{var ce=ne.lane&-536870913;if(ce!==ne.lane?(Ke&ce)===ce:(fl&ce)===ce){var le=ne.revertLane;if(le===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),ce===qa&&(re=!0);else if((fl&le)===le){ne=ne.next,le===qa&&(re=!0);continue}else ce={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},K===null?(E=K=ce,C=s):K=K.next=ce,Te.lanes|=le,Gl|=le;ce=ne.action,da&&n(s,ce),s=ne.hasEagerState?ne.eagerState:n(s,ce)}else le={lane:ce,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},K===null?(E=K=le,C=s):K=K.next=le,Te.lanes|=ce,Gl|=ce;ne=ne.next}while(ne!==null&&ne!==t);if(K===null?C=s:K.next=E,!xn(s,e.memoizedState)&&(jt=!0,re&&(n=Ga,n!==null)))throw n;e.memoizedState=s,e.baseState=C,e.baseQueue=K,l.lastRenderedState=s}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Vu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,s=t.memoizedState;if(c!==null){n.pending=null;var C=c=c.next;do s=e(s,C.action),C=C.next;while(C!==c);xn(s,t.memoizedState)||(jt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Ws(e,t,n){var l=Te,c=Ct(),s=Xe;if(s){if(n===void 0)throw Error(r(407));n=n()}else n=t();var C=!xn((ut||c).memoizedState,n);if(C&&(c.memoizedState=n,jt=!0),c=c.queue,Pu($s.bind(null,l,c,e),[e]),c.getSnapshot!==t||C||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},Fs.bind(null,l,c,n,t),null),st===null)throw Error(r(349));s||(fl&127)!==0||Ps(l,t,n)}return n}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Rr(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fs(e,t,n,l){t.value=n,t.getSnapshot=l,eo(t)&&to(e)}function $s(e,t,n){return n(function(){eo(t)&&to(e)})}function eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function to(e){var t=aa(e,2);t!==null&&en(t,e,2)}function Qu(e){var t=Vt();if(typeof e=="function"){var n=e;if(e=n(),da){wn(!0);try{n()}finally{wn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:e},t}function no(e,t,n,l){return e.baseState=n,Ju(e,ut,typeof l=="function"?l:dl)}function r2(e,t,n,l,c){if(Ur(e))throw Error(r(485));if(e=t.action,e!==null){var s={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){s.listeners.push(C)}};j.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,lo(t,s)):(s.next=n.next,t.pending=n.next=s)}}function lo(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var s=j.T,C={};j.T=C;try{var E=n(c,l),K=j.S;K!==null&&K(C,E),ao(e,t,E)}catch(ne){Wu(e,t,ne)}finally{s!==null&&C.types!==null&&(s.types=C.types),j.T=s}}else try{s=n(c,l),ao(e,t,s)}catch(ne){Wu(e,t,ne)}}function ao(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){io(e,t,l)},function(l){return Wu(e,t,l)}):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,ro(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,lo(e,n)))}function Wu(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ro(t),t=t.next;while(t!==l)}e.action=null}function ro(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function uo(e,t){return t}function co(e,t){if(Xe){var n=st.formState;if(n!==null){e:{var l=Te;if(Xe){if(ft){t:{for(var c=ft,s=Tn;c.nodeType!==8;){if(!s){c=null;break t}if(c=Bn(c.nextSibling),c===null){c=null;break t}}s=c.data,c=s==="F!"||s==="F"?c:null}if(c){ft=Bn(c.nextSibling),l=c.data==="F!";break e}}Dl(l)}l=!1}l&&(t=n[0])}}return n=Vt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t},n.queue=l,n=Do.bind(null,Te,l),l.dispatch=n,l=Qu(!1),s=nc.bind(null,Te,!1,l.queue),l=Vt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=r2.bind(null,Te,c,s,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function xo(e){var t=Ct();return so(t,ut,e)}function so(e,t,n){if(t=Ju(e,t,uo)[0],e=Hr(dl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ai(t)}catch(C){throw C===Ra?Ar:C}else l=t;t=Ct();var c=t.queue,s=c.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Ua(9,{destroy:void 0},u2.bind(null,c,n),null)),[l,s,e]}function u2(e,t){e.action=t}function oo(e){var t=Ct(),n=ut;if(n!==null)return so(t,n,e);Ct(),t=t.memoizedState,n=Ct();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ua(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Rr(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function fo(){return Ct().memoizedState}function Ir(e,t,n,l){var c=Vt();Te.flags|=e,c.memoizedState=Ua(1|t,{destroy:void 0},n,l===void 0?null:l)}function Yr(e,t,n,l){var c=Ct();l=l===void 0?null:l;var s=c.memoizedState.inst;ut!==null&&l!==null&&Iu(l,ut.memoizedState.deps)?c.memoizedState=Ua(t,s,n,l):(Te.flags|=e,c.memoizedState=Ua(1|t,s,n,l))}function ho(e,t){Ir(8390656,8,e,t)}function Pu(e,t){Yr(2048,8,e,t)}function c2(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Rr(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function mo(e){var t=Ct().memoizedState;return c2({ref:t,nextImpl:e}),function(){if((nt&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function bo(e,t){return Yr(4,2,e,t)}function vo(e,t){return Yr(4,4,e,t)}function go(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yo(e,t,n){n=n!=null?n.concat([e]):null,Yr(4,4,go.bind(null,t,e),n)}function Fu(){}function po(e,t){var n=Ct();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Iu(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function _o(e,t){var n=Ct();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Iu(t,l[1]))return l[0];if(l=e(),da){wn(!0);try{e()}finally{wn(!1)}}return n.memoizedState=[l,t],l}function $u(e,t,n){return n===void 0||(fl&1073741824)!==0&&(Ke&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Cf(),Te.lanes|=e,Gl|=e,n)}function So(e,t,n,l){return xn(n,t)?n:Ha.current!==null?(e=$u(e,n,l),xn(e,t)||(jt=!0),e):(fl&42)===0||(fl&1073741824)!==0&&(Ke&261930)===0?(jt=!0,e.memoizedState=n):(e=Cf(),Te.lanes|=e,Gl|=e,t)}function Co(e,t,n,l,c){var s=T.p;T.p=s!==0&&8>s?s:8;var C=j.T,E={};j.T=E,nc(e,!1,t,n);try{var K=c(),ne=j.S;if(ne!==null&&ne(E,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var re=l2(K,l);Ti(e,t,re,mn(e))}else Ti(e,t,l,mn(e))}catch(ce){Ti(e,t,{then:function(){},status:"rejected",reason:ce},mn())}finally{T.p=s,C!==null&&E.types!==null&&(C.types=E.types),j.T=C}}function x2(){}function ec(e,t,n,l){if(e.tag!==5)throw Error(r(476));var c=wo(e).queue;Co(e,c,t,I,n===null?x2:function(){return Mo(e),n(l)})}function wo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:I},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Mo(e){var t=wo(e);t.next===null&&(t=e.alternate.memoizedState),Ti(e,t.next.queue,{},mn())}function tc(){return Gt(Vi)}function jo(){return Ct().memoizedState}function zo(){return Ct().memoizedState}function s2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mn();e=Tl(n);var l=El(t,e,n);l!==null&&(en(l,t,n),ji(l,t,n)),t={cache:Au()},e.payload=t;return}t=t.return}}function o2(e,t,n){var l=mn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ur(e)?No(t,n):(n=yu(e,t,n,l),n!==null&&(en(n,e,l),Ao(n,t,l)))}function Do(e,t,n){var l=mn();Ti(e,t,n,l)}function Ti(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ur(e))No(t,c);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var C=t.lastRenderedState,E=s(C,n);if(c.hasEagerState=!0,c.eagerState=E,xn(E,C))return Cr(e,t,c,0),st===null&&Sr(),!1}catch{}if(n=yu(e,t,c,l),n!==null)return en(n,e,l),Ao(n,t,l),!0}return!1}function nc(e,t,n,l){if(l={lane:2,revertLane:Lc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ur(e)){if(t)throw Error(r(479))}else t=yu(e,n,l,2),t!==null&&en(t,e,2)}function Ur(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function No(e,t){Ia=qr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ao(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Dt(e,n)}}var Ei={readContext:Gt,use:Or,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Ei.useEffectEvent=yt;var To={readContext:Gt,use:Or,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:ho,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ir(4194308,4,go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ir(4194308,4,e,t)},useInsertionEffect:function(e,t){Ir(4,2,e,t)},useMemo:function(e,t){var n=Vt();t=t===void 0?null:t;var l=e();if(da){wn(!0);try{e()}finally{wn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Vt();if(n!==void 0){var c=n(t);if(da){wn(!0);try{n(t)}finally{wn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=o2.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qu(e);var t=e.queue,n=Do.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Fu,useDeferredValue:function(e,t){var n=Vt();return $u(n,e,t)},useTransition:function(){var e=Qu(!1);return e=Co.bind(null,Te,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,c=Vt();if(Xe){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),st===null)throw Error(r(349));(Ke&127)!==0||Ps(l,t,n)}c.memoizedState=n;var s={value:n,getSnapshot:t};return c.queue=s,ho($s.bind(null,l,s,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},Fs.bind(null,l,s,n,t),null),n},useId:function(){var e=Vt(),t=st.identifierPrefix;if(Xe){var n=Pn,l=Wn;n=(l&~(1<<32-Ie(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=a2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tc,useFormState:co,useActionState:co,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nc.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xu,useCacheRefresh:function(){return Vt().memoizedState=s2.bind(null,Te)},useEffectEvent:function(e){var t=Vt(),n={impl:e};return t.memoizedState=n,function(){if((nt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},lc={readContext:Gt,use:Or,useCallback:po,useContext:Gt,useEffect:Pu,useImperativeHandle:yo,useInsertionEffect:bo,useLayoutEffect:vo,useMemo:_o,useReducer:Hr,useRef:fo,useState:function(){return Hr(dl)},useDebugValue:Fu,useDeferredValue:function(e,t){var n=Ct();return So(n,ut.memoizedState,e,t)},useTransition:function(){var e=Hr(dl)[0],t=Ct().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Ws,useId:jo,useHostTransitionStatus:tc,useFormState:xo,useActionState:xo,useOptimistic:function(e,t){var n=Ct();return no(n,ut,e,t)},useMemoCache:Xu,useCacheRefresh:zo};lc.useEffectEvent=mo;var Eo={readContext:Gt,use:Or,useCallback:po,useContext:Gt,useEffect:Pu,useImperativeHandle:yo,useInsertionEffect:bo,useLayoutEffect:vo,useMemo:_o,useReducer:Vu,useRef:fo,useState:function(){return Vu(dl)},useDebugValue:Fu,useDeferredValue:function(e,t){var n=Ct();return ut===null?$u(n,e,t):So(n,ut.memoizedState,e,t)},useTransition:function(){var e=Vu(dl)[0],t=Ct().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Ws,useId:jo,useHostTransitionStatus:tc,useFormState:oo,useActionState:oo,useOptimistic:function(e,t){var n=Ct();return ut!==null?no(n,ut,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xu,useCacheRefresh:zo};Eo.useEffectEvent=mo;function ac(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ic={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=mn(),c=Tl(l);c.payload=t,n!=null&&(c.callback=n),t=El(e,c,l),t!==null&&(en(t,e,l),ji(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=mn(),c=Tl(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=El(e,c,l),t!==null&&(en(t,e,l),ji(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),l=Tl(n);l.tag=2,t!=null&&(l.callback=t),t=El(e,l,n),t!==null&&(en(t,e,n),ji(t,e,n))}};function Bo(e,t,n,l,c,s,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,C):t.prototype&&t.prototype.isPureReactComponent?!gi(n,l)||!gi(c,s):!0}function Lo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function ha(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function ko(e){_r(e)}function qo(e){console.error(e)}function Go(e){_r(e)}function Kr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Ro(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function rc(e,t,n){return n=Tl(n),n.tag=3,n.payload={element:null},n.callback=function(){Kr(e,t)},n}function Oo(e){return e=Tl(e),e.tag=3,e}function Ho(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var s=l.value;e.payload=function(){return c(s)},e.callback=function(){Ro(t,n,l)}}var C=n.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){Ro(t,n,l),typeof c!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function f2(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&ka(t,n,c,!0),n=on.current,n!==null){switch(n.tag){case 31:case 13:return En===null?n0():n.alternate===null&&pt===0&&(pt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Tr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Tc(e,l,c)),!1;case 22:return n.flags|=65536,l===Tr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Tc(e,l,c)),!1}throw Error(r(435,n.tag))}return Tc(e,l,c),n0(),!1}if(Xe)return t=on.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Mu&&(e=Error(r(422),{cause:l}),_i(Dn(e,n)))):(l!==Mu&&(t=Error(r(423),{cause:l}),_i(Dn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Dn(l,n),c=rc(e.stateNode,l,c),qu(e,c),pt!==4&&(pt=2)),!1;var s=Error(r(520),{cause:l});if(s=Dn(s,n),Hi===null?Hi=[s]:Hi.push(s),pt!==4&&(pt=2),t===null)return!0;l=Dn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=rc(n.stateNode,l,e),qu(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Rl===null||!Rl.has(s))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Oo(c),Ho(c,e,n,l),qu(n,c),!1}n=n.return}while(n!==null);return!1}var uc=Error(r(461)),jt=!1;function Rt(e,t,n,l){t.child=e===null?Us(t,null,n,l):fa(t,e.child,n,l)}function Io(e,t,n,l,c){n=n.render;var s=t.ref;if("ref"in l){var C={};for(var E in l)E!=="ref"&&(C[E]=l[E])}else C=l;return ca(t),l=Yu(e,t,n,C,s,c),E=Uu(),e!==null&&!jt?(Ku(e,t,c),hl(e,t,c)):(Xe&&E&&Cu(t),t.flags|=1,Rt(e,t,l,c),t.child)}function Yo(e,t,n,l,c){if(e===null){var s=n.type;return typeof s=="function"&&!pu(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Uo(e,t,s,l,c)):(e=Mr(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!mc(e,c)){var C=s.memoizedProps;if(n=n.compare,n=n!==null?n:gi,n(C,l)&&e.ref===t.ref)return hl(e,t,c)}return t.flags|=1,e=cl(s,l),e.ref=t.ref,e.return=t,t.child=e}function Uo(e,t,n,l,c){if(e!==null){var s=e.memoizedProps;if(gi(s,l)&&e.ref===t.ref)if(jt=!1,t.pendingProps=l=s,mc(e,c))(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,hl(e,t,c)}return cc(e,t,n,l,c)}function Ko(e,t,n,l){var c=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~s}else l=0,t.child=null;return Zo(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nr(t,s!==null?s.cachePool:null),s!==null?Xs(t,s):Ru(),Js(t);else return l=t.lanes=536870912,Zo(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(Nr(t,s.cachePool),Xs(t,s),Ll(),t.memoizedState=null):(e!==null&&Nr(t,null),Ru(),Ll());return Rt(e,t,c,n),t.child}function Bi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zo(e,t,n,l,c){var s=Eu();return s=s===null?null:{parent:wt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Nr(t,null),Ru(),Js(t),e!==null&&ka(e,t,l,!0),t.childLanes=c,null}function Zr(e,t){return t=Jr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xo(e,t,n){return fa(t,e.child,null,n),e=Zr(t,t.pendingProps),e.flags|=2,fn(t),t.memoizedState=null,e}function d2(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Xe){if(l.mode==="hidden")return e=Zr(t,l),t.lanes=536870912,Bi(null,e);if(Hu(t),(e=ft)?(e=id(e,Tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jl!==null?{id:Wn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Ds(e),n.return=t,t.child=n,qt=t,ft=null)):e=null,e===null)throw Dl(t);return t.lanes=536870912,null}return Zr(t,l)}var s=e.memoizedState;if(s!==null){var C=s.dehydrated;if(Hu(t),c)if(t.flags&256)t.flags&=-257,t=Xo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(jt||ka(e,t,n,!1),c=(n&e.childLanes)!==0,jt||c){if(l=st,l!==null&&(C=rt(l,n),C!==0&&C!==s.retryLane))throw s.retryLane=C,aa(e,C),en(l,e,C),uc;n0(),t=Xo(e,t,n)}else e=s.treeContext,ft=Bn(C.nextSibling),qt=t,Xe=!0,zl=null,Tn=!1,e!==null&&Ts(t,e),t=Zr(t,l),t.flags|=4096;return t}return e=cl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Xr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function cc(e,t,n,l,c){return ca(t),n=Yu(e,t,n,l,void 0,c),l=Uu(),e!==null&&!jt?(Ku(e,t,c),hl(e,t,c)):(Xe&&l&&Cu(t),t.flags|=1,Rt(e,t,n,c),t.child)}function Jo(e,t,n,l,c,s){return ca(t),t.updateQueue=null,n=Qs(t,l,n,c),Vs(e),l=Uu(),e!==null&&!jt?(Ku(e,t,s),hl(e,t,s)):(Xe&&l&&Cu(t),t.flags|=1,Rt(e,t,n,s),t.child)}function Vo(e,t,n,l,c){if(ca(t),t.stateNode===null){var s=Ta,C=n.contextType;typeof C=="object"&&C!==null&&(s=Gt(C)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ic,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Lu(t),C=n.contextType,s.context=typeof C=="object"&&C!==null?Gt(C):Ta,s.state=t.memoizedState,C=n.getDerivedStateFromProps,typeof C=="function"&&(ac(t,n,C,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(C=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),C!==s.state&&ic.enqueueReplaceState(s,s.state,null),Di(t,l,s,c),zi(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var E=t.memoizedProps,K=ha(n,E);s.props=K;var ne=s.context,re=n.contextType;C=Ta,typeof re=="object"&&re!==null&&(C=Gt(re));var ce=n.getDerivedStateFromProps;re=typeof ce=="function"||typeof s.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,re||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(E||ne!==C)&&Lo(t,s,l,C),Al=!1;var le=t.memoizedState;s.state=le,Di(t,l,s,c),zi(),ne=t.memoizedState,E||le!==ne||Al?(typeof ce=="function"&&(ac(t,n,ce,l),ne=t.memoizedState),(K=Al||Bo(t,n,K,l,le,ne,C))?(re||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ne),s.props=l,s.state=ne,s.context=C,l=K):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,ku(e,t),C=t.memoizedProps,re=ha(n,C),s.props=re,ce=t.pendingProps,le=s.context,ne=n.contextType,K=Ta,typeof ne=="object"&&ne!==null&&(K=Gt(ne)),E=n.getDerivedStateFromProps,(ne=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(C!==ce||le!==K)&&Lo(t,s,l,K),Al=!1,le=t.memoizedState,s.state=le,Di(t,l,s,c),zi();var ie=t.memoizedState;C!==ce||le!==ie||Al||e!==null&&e.dependencies!==null&&zr(e.dependencies)?(typeof E=="function"&&(ac(t,n,E,l),ie=t.memoizedState),(re=Al||Bo(t,n,re,l,le,ie,K)||e!==null&&e.dependencies!==null&&zr(e.dependencies))?(ne||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,ie,K),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,ie,K)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||C===e.memoizedProps&&le===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&le===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),s.props=l,s.state=ie,s.context=K,l=re):(typeof s.componentDidUpdate!="function"||C===e.memoizedProps&&le===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&le===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Xr(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=fa(t,e.child,null,c),t.child=fa(t,null,n,c)):Rt(e,t,n,c),t.memoizedState=s.state,e=t.child):e=hl(e,t,c),e}function Qo(e,t,n,l){return ra(),t.flags|=256,Rt(e,t,n,l),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sc(e){return{baseLanes:e,cachePool:Gs()}}function oc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=hn),e}function Wo(e,t,n){var l=t.pendingProps,c=!1,s=(t.flags&128)!==0,C;if((C=s)||(C=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),C&&(c=!0,t.flags&=-129),C=(t.flags&32)!==0,t.flags&=-33,e===null){if(Xe){if(c?Bl(t):Ll(),(e=ft)?(e=id(e,Tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jl!==null?{id:Wn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Ds(e),n.return=t,t.child=n,qt=t,ft=null)):e=null,e===null)throw Dl(t);return Jc(e)?t.lanes=32:t.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Ll(),c=t.mode,E=Jr({mode:"hidden",children:E},c),l=ia(l,c,n,null),E.return=t,l.return=t,E.sibling=l,t.child=E,l=t.child,l.memoizedState=sc(n),l.childLanes=oc(e,C,n),t.memoizedState=xc,Bi(null,l)):(Bl(t),fc(t,E))}var K=e.memoizedState;if(K!==null&&(E=K.dehydrated,E!==null)){if(s)t.flags&256?(Bl(t),t.flags&=-257,t=dc(e,t,n)):t.memoizedState!==null?(Ll(),t.child=e.child,t.flags|=128,t=null):(Ll(),E=l.fallback,c=t.mode,l=Jr({mode:"visible",children:l.children},c),E=ia(E,c,n,null),E.flags|=2,l.return=t,E.return=t,l.sibling=E,t.child=l,fa(t,e.child,null,n),l=t.child,l.memoizedState=sc(n),l.childLanes=oc(e,C,n),t.memoizedState=xc,t=Bi(null,l));else if(Bl(t),Jc(E)){if(C=E.nextSibling&&E.nextSibling.dataset,C)var ne=C.dgst;C=ne,l=Error(r(419)),l.stack="",l.digest=C,_i({value:l,source:null,stack:null}),t=dc(e,t,n)}else if(jt||ka(e,t,n,!1),C=(n&e.childLanes)!==0,jt||C){if(C=st,C!==null&&(l=rt(C,n),l!==0&&l!==K.retryLane))throw K.retryLane=l,aa(e,l),en(C,e,l),uc;Xc(E)||n0(),t=dc(e,t,n)}else Xc(E)?(t.flags|=192,t.child=e.child,t=null):(e=K.treeContext,ft=Bn(E.nextSibling),qt=t,Xe=!0,zl=null,Tn=!1,e!==null&&Ts(t,e),t=fc(t,l.children),t.flags|=4096);return t}return c?(Ll(),E=l.fallback,c=t.mode,K=e.child,ne=K.sibling,l=cl(K,{mode:"hidden",children:l.children}),l.subtreeFlags=K.subtreeFlags&65011712,ne!==null?E=cl(ne,E):(E=ia(E,c,n,null),E.flags|=2),E.return=t,l.return=t,l.sibling=E,t.child=l,Bi(null,l),l=t.child,E=e.child.memoizedState,E===null?E=sc(n):(c=E.cachePool,c!==null?(K=wt._currentValue,c=c.parent!==K?{parent:K,pool:K}:c):c=Gs(),E={baseLanes:E.baseLanes|n,cachePool:c}),l.memoizedState=E,l.childLanes=oc(e,C,n),t.memoizedState=xc,Bi(e.child,l)):(Bl(t),n=e.child,e=n.sibling,n=cl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(C=t.deletions,C===null?(t.deletions=[e],t.flags|=16):C.push(e)),t.child=n,t.memoizedState=null,n)}function fc(e,t){return t=Jr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Jr(e,t){return e=sn(22,e,null,t),e.lanes=0,e}function dc(e,t,n){return fa(t,e.child,null,n),e=fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Po(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Du(e.return,t,n)}function hc(e,t,n,l,c,s){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:s}:(C.isBackwards=t,C.rendering=null,C.renderingStartTime=0,C.last=l,C.tail=n,C.tailMode=c,C.treeForkCount=s)}function Fo(e,t,n){var l=t.pendingProps,c=l.revealOrder,s=l.tail;l=l.children;var C=St.current,E=(C&2)!==0;if(E?(C=C&1|2,t.flags|=128):C&=1,Y(St,C),Rt(e,t,l,n),l=Xe?pi:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Po(e,n,t);else if(e.tag===19)Po(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&kr(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),hc(t,!1,c,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&kr(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}hc(t,!0,n,null,s,l);break;case"together":hc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function hl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ka(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=cl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&zr(e)))}function h2(e,t,n){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),Nl(t,wt,e.memoizedState.cache),ra();break;case 27:case 5:me(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:Nl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Hu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Bl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Wo(e,t,n):(Bl(t),e=hl(e,t,n),e!==null?e.sibling:null);Bl(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(ka(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Fo(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Y(St,St.current),l)break;return null;case 22:return t.lanes=0,Ko(e,t,n,t.pendingProps);case 24:Nl(t,wt,e.memoizedState.cache)}return hl(e,t,n)}function $o(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!mc(e,n)&&(t.flags&128)===0)return jt=!1,h2(e,t,n);jt=(e.flags&131072)!==0}else jt=!1,Xe&&(t.flags&1048576)!==0&&As(t,pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=sa(t.elementType),t.type=e,typeof e=="function")pu(e)?(l=ha(e,l),t.tag=1,t=Vo(null,t,e,l,n)):(t.tag=0,t=cc(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===k){t.tag=11,t=Io(null,t,e,l,n);break e}else if(c===L){t.tag=14,t=Yo(null,t,e,l,n);break e}}throw t=A(e)||e,Error(r(306,t,""))}}return t;case 0:return cc(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=ha(l,t.pendingProps),Vo(e,t,l,c,n);case 3:e:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var s=t.memoizedState;c=s.element,ku(e,t),Di(t,l,null,n);var C=t.memoizedState;if(l=C.cache,Nl(t,wt,l),l!==s.cache&&Nu(t,[wt],n,!0),zi(),l=C.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:C.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Qo(e,t,l,n);break e}else if(l!==c){c=Dn(Error(r(424)),t),_i(c),t=Qo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ft=Bn(e.firstChild),qt=t,Xe=!0,zl=null,Tn=!0,n=Us(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ra(),l===c){t=hl(e,t,n);break e}Rt(e,t,l,n)}t=t.child}return t;case 26:return Xr(e,t),e===null?(n=od(t.type,null,t.pendingProps,null))?t.memoizedState=n:Xe||(n=t.type,e=t.pendingProps,l=x0(ae.current).createElement(n),l[gt]=t,l[Kt]=e,Ot(l,n,e),Ue(l),t.stateNode=l):t.memoizedState=od(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return me(t),e===null&&Xe&&(l=t.stateNode=cd(t.type,t.pendingProps,ae.current),qt=t,Tn=!0,c=ft,Yl(t.type)?(Vc=c,ft=Bn(l.firstChild)):ft=c),Rt(e,t,t.pendingProps.children,n),Xr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Xe&&((c=l=ft)&&(l=K2(l,t.type,t.pendingProps,Tn),l!==null?(t.stateNode=l,qt=t,ft=Bn(l.firstChild),Tn=!1,c=!0):c=!1),c||Dl(t)),me(t),c=t.type,s=t.pendingProps,C=e!==null?e.memoizedProps:null,l=s.children,Uc(c,s)?l=null:C!==null&&Uc(c,C)&&(t.flags|=32),t.memoizedState!==null&&(c=Yu(e,t,i2,null,null,n),Vi._currentValue=c),Xr(e,t),Rt(e,t,l,n),t.child;case 6:return e===null&&Xe&&((e=n=ft)&&(n=Z2(n,t.pendingProps,Tn),n!==null?(t.stateNode=n,qt=t,ft=null,e=!0):e=!1),e||Dl(t)),null;case 13:return Wo(e,t,n);case 4:return be(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=fa(t,null,l,n):Rt(e,t,l,n),t.child;case 11:return Io(e,t,t.type,t.pendingProps,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Nl(t,t.type,l.value),Rt(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ca(t),c=Gt(c),l=l(c),t.flags|=1,Rt(e,t,l,n),t.child;case 14:return Yo(e,t,t.type,t.pendingProps,n);case 15:return Uo(e,t,t.type,t.pendingProps,n);case 19:return Fo(e,t,n);case 31:return d2(e,t,n);case 22:return Ko(e,t,n,t.pendingProps);case 24:return ca(t),l=Gt(wt),e===null?(c=Eu(),c===null&&(c=st,s=Au(),c.pooledCache=s,s.refCount++,s!==null&&(c.pooledCacheLanes|=n),c=s),t.memoizedState={parent:l,cache:c},Lu(t),Nl(t,wt,c)):((e.lanes&n)!==0&&(ku(e,t),Di(t,null,null,n),zi()),c=e.memoizedState,s=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Nl(t,wt,l)):(l=s.cache,Nl(t,wt,l),l!==c.cache&&Nu(t,[wt],n,!0))),Rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ml(e){e.flags|=4}function bc(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(zf())e.flags|=8192;else throw oa=Tr,Bu}else e.flags&=-16777217}function ef(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bd(t))if(zf())e.flags|=8192;else throw oa=Tr,Bu}function Vr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ve():536870912,e.lanes|=t,Ja|=t)}function Li(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function m2(e,t,n){var l=t.pendingProps;switch(wu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ol(wt),oe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(La(t)?ml(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ju())),dt(t),null;case 26:var c=t.type,s=t.memoizedState;return e===null?(ml(t),s!==null?(dt(t),ef(t,s)):(dt(t),bc(t,c,null,l,n))):s?s!==e.memoizedState?(ml(t),dt(t),ef(t,s)):(dt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ml(t),dt(t),bc(t,c,e,l,n)),null;case 27:if(de(t),n=ae.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ml(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return dt(t),null}e=U.current,La(t)?Es(t):(e=cd(c,l,n),t.stateNode=e,ml(t))}return dt(t),null;case 5:if(de(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ml(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return dt(t),null}if(s=U.current,La(t))Es(t);else{var C=x0(ae.current);switch(s){case 1:s=C.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=C.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=C.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=C.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?C.createElement("select",{is:l.is}):C.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?C.createElement(c,{is:l.is}):C.createElement(c)}}s[gt]=t,s[Kt]=l;e:for(C=t.child;C!==null;){if(C.tag===5||C.tag===6)s.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}t.stateNode=s;e:switch(Ot(s,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ml(t)}}return dt(t),bc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ml(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ae.current,La(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=qt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[gt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Pf(e.nodeValue,n)),e||Dl(t,!0)}else e=x0(e).createTextNode(l),e[gt]=t,t.stateNode=e}return dt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=La(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[gt]=t}else ra(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),e=!1}else n=ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(fn(t),t):(fn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=La(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[gt]=t}else ra(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),c=!1}else c=ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(fn(t),t):(fn(t),null)}return fn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Vr(t,t.updateQueue),dt(t),null);case 4:return oe(),e===null&&Rc(t.stateNode.containerInfo),dt(t),null;case 10:return ol(t.type),dt(t),null;case 19:if(G(St),l=t.memoizedState,l===null)return dt(t),null;if(c=(t.flags&128)!==0,s=l.rendering,s===null)if(c)Li(l,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=kr(e),s!==null){for(t.flags|=128,Li(l,!1),e=s.updateQueue,t.updateQueue=e,Vr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)zs(n,e),n=n.sibling;return Y(St,St.current&1|2),Xe&&xl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Fe()>$r&&(t.flags|=128,c=!0,Li(l,!1),t.lanes=4194304)}else{if(!c)if(e=kr(s),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Vr(t,e),Li(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Xe)return dt(t),null}else 2*Fe()-l.renderingStartTime>$r&&n!==536870912&&(t.flags|=128,c=!0,Li(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Fe(),e.sibling=null,n=St.current,Y(St,c?n&1|2:n&1),Xe&&xl(t,l.treeForkCount),e):(dt(t),null);case 22:case 23:return fn(t),Ou(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),n=t.updateQueue,n!==null&&Vr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&G(xa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ol(wt),dt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function b2(e,t){switch(wu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(wt),oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(fn(t),t.alternate===null)throw Error(r(340));ra()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ra()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(St),null;case 4:return oe(),null;case 10:return ol(t.type),null;case 22:case 23:return fn(t),Ou(),e!==null&&G(xa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ol(wt),null;case 25:return null;default:return null}}function tf(e,t){switch(wu(t),t.tag){case 3:ol(wt),oe();break;case 26:case 27:case 5:de(t);break;case 4:oe();break;case 31:t.memoizedState!==null&&fn(t);break;case 13:fn(t);break;case 19:G(St);break;case 10:ol(t.type);break;case 22:case 23:fn(t),Ou(),e!==null&&G(xa);break;case 24:ol(wt)}}function ki(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var s=n.create,C=n.inst;l=s(),C.destroy=l}n=n.next}while(n!==c)}}catch(E){it(t,t.return,E)}}function kl(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var s=c.next;l=s;do{if((l.tag&e)===e){var C=l.inst,E=C.destroy;if(E!==void 0){C.destroy=void 0,c=t;var K=n,ne=E;try{ne()}catch(re){it(c,K,re)}}}l=l.next}while(l!==s)}}catch(re){it(t,t.return,re)}}function nf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Zs(t,n)}catch(l){it(e,e.return,l)}}}function lf(e,t,n){n.props=ha(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function qi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){it(e,t,c)}}function Fn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){it(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){it(e,t,c)}else n.current=null}function af(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){it(e,e.return,c)}}function vc(e,t,n){try{var l=e.stateNode;R2(l,e.type,n,t),l[Kt]=t}catch(c){it(e,e.return,c)}}function rf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yl(e.type)||e.tag===4}function gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rl));else if(l!==4&&(l===27&&Yl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yc(e,t,n),e=e.sibling;e!==null;)yc(e,t,n),e=e.sibling}function Qr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Yl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qr(e,t,n),e=e.sibling;e!==null;)Qr(e,t,n),e=e.sibling}function uf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Ot(t,l,n),t[gt]=e,t[Kt]=n}catch(s){it(e,e.return,s)}}var bl=!1,zt=!1,pc=!1,cf=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function v2(e,t){if(e=e.containerInfo,Ic=b0,e=gs(e),du(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var C=0,E=-1,K=-1,ne=0,re=0,ce=e,le=null;t:for(;;){for(var ie;ce!==n||c!==0&&ce.nodeType!==3||(E=C+c),ce!==s||l!==0&&ce.nodeType!==3||(K=C+l),ce.nodeType===3&&(C+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)le=ce,ce=ie;for(;;){if(ce===e)break t;if(le===n&&++ne===c&&(E=C),le===s&&++re===l&&(K=C),(ie=ce.nextSibling)!==null)break;ce=le,le=ce.parentNode}ce=ie}n=E===-1||K===-1?null:{start:E,end:K}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yc={focusedElem:e,selectionRange:n},b0=!1,Bt=t;Bt!==null;)if(t=Bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Bt=e;else for(;Bt!==null;){switch(t=Bt,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,c=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var ve=ha(n.type,c);e=l.getSnapshotBeforeUpdate(ve,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(je){it(n,n.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Zc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Bt=e;break}Bt=t.return}}function xf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:gl(e,n),l&4&&ki(5,n);break;case 1:if(gl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(C){it(n,n.return,C)}else{var c=ha(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(C){it(n,n.return,C)}}l&64&&nf(n),l&512&&qi(n,n.return);break;case 3:if(gl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Zs(e,t)}catch(C){it(n,n.return,C)}}break;case 27:t===null&&l&4&&uf(n);case 26:case 5:gl(e,n),t===null&&l&4&&af(n),l&512&&qi(n,n.return);break;case 12:gl(e,n);break;case 31:gl(e,n),l&4&&ff(e,n);break;case 13:gl(e,n),l&4&&df(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=j2.bind(null,n),X2(e,n))));break;case 22:if(l=n.memoizedState!==null||bl,!l){t=t!==null&&t.memoizedState!==null||zt,c=bl;var s=zt;bl=l,(zt=t)&&!s?yl(e,n,(n.subtreeFlags&8772)!==0):gl(e,n),bl=c,zt=s}break;case 30:break;default:gl(e,n)}}function sf(e){var t=e.alternate;t!==null&&(e.alternate=null,sf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&si(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,Wt=!1;function vl(e,t,n){for(n=n.child;n!==null;)of(e,t,n),n=n.sibling}function of(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Rn,n)}catch{}switch(n.tag){case 26:zt||Fn(n,t),vl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||Fn(n,t);var l=ht,c=Wt;Yl(n.type)&&(ht=n.stateNode,Wt=!1),vl(e,t,n),Zi(n.stateNode),ht=l,Wt=c;break;case 5:zt||Fn(n,t);case 6:if(l=ht,c=Wt,ht=null,vl(e,t,n),ht=l,Wt=c,ht!==null)if(Wt)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(n.stateNode)}catch(s){it(n,t,s)}else try{ht.removeChild(n.stateNode)}catch(s){it(n,t,s)}break;case 18:ht!==null&&(Wt?(e=ht,ld(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ti(e)):ld(ht,n.stateNode));break;case 4:l=ht,c=Wt,ht=n.stateNode.containerInfo,Wt=!0,vl(e,t,n),ht=l,Wt=c;break;case 0:case 11:case 14:case 15:kl(2,n,t),zt||kl(4,n,t),vl(e,t,n);break;case 1:zt||(Fn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&lf(n,t,l)),vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:zt=(l=zt)||n.memoizedState!==null,vl(e,t,n),zt=l;break;default:vl(e,t,n)}}function ff(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ti(e)}catch(n){it(t,t.return,n)}}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ti(e)}catch(n){it(t,t.return,n)}}function g2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cf),t;default:throw Error(r(435,e.tag))}}function Wr(e,t){var n=g2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=z2.bind(null,e,l);l.then(c,c)}})}function Pt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],s=e,C=t,E=C;e:for(;E!==null;){switch(E.tag){case 27:if(Yl(E.type)){ht=E.stateNode,Wt=!1;break e}break;case 5:ht=E.stateNode,Wt=!1;break e;case 3:case 4:ht=E.stateNode.containerInfo,Wt=!0;break e}E=E.return}if(ht===null)throw Error(r(160));of(s,C,c),ht=null,Wt=!1,s=c.alternate,s!==null&&(s.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hf(t,e),t=t.sibling}var In=null;function hf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(t,e),Ft(e),l&4&&(kl(3,e,e.return),ki(3,e),kl(5,e,e.return));break;case 1:Pt(t,e),Ft(e),l&512&&(zt||n===null||Fn(n,n.return)),l&64&&bl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=In;if(Pt(t,e),Ft(e),l&512&&(zt||n===null||Fn(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":s=c.getElementsByTagName("title")[0],(!s||s[$l]||s[gt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=c.createElement(l),c.head.insertBefore(s,c.querySelector("head > title"))),Ot(s,l,n),s[gt]=e,Ue(s),l=s;break e;case"link":var C=hd("link","href",c).get(l+(n.href||""));if(C){for(var E=0;E<C.length;E++)if(s=C[E],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){C.splice(E,1);break t}}s=c.createElement(l),Ot(s,l,n),c.head.appendChild(s);break;case"meta":if(C=hd("meta","content",c).get(l+(n.content||""))){for(E=0;E<C.length;E++)if(s=C[E],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){C.splice(E,1);break t}}s=c.createElement(l),Ot(s,l,n),c.head.appendChild(s);break;default:throw Error(r(468,l))}s[gt]=e,Ue(s),l=s}e.stateNode=l}else md(c,e.type,e.stateNode);else e.stateNode=dd(c,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?md(c,e.type,e.stateNode):dd(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&vc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pt(t,e),Ft(e),l&512&&(zt||n===null||Fn(n,n.return)),n!==null&&l&4&&vc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pt(t,e),Ft(e),l&512&&(zt||n===null||Fn(n,n.return)),e.flags&32){c=e.stateNode;try{wa(c,"")}catch(ve){it(e,e.return,ve)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,vc(e,c,n!==null?n.memoizedProps:c)),l&1024&&(pc=!0);break;case 6:if(Pt(t,e),Ft(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ve){it(e,e.return,ve)}}break;case 3:if(f0=null,c=In,In=s0(t.containerInfo),Pt(t,e),In=c,Ft(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ti(t.containerInfo)}catch(ve){it(e,e.return,ve)}pc&&(pc=!1,mf(e));break;case 4:l=In,In=s0(e.stateNode.containerInfo),Pt(t,e),Ft(e),In=l;break;case 12:Pt(t,e),Ft(e);break;case 31:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 13:Pt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Fr=Fe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 22:c=e.memoizedState!==null;var K=n!==null&&n.memoizedState!==null,ne=bl,re=zt;if(bl=ne||c,zt=re||K,Pt(t,e),zt=re,bl=ne,Ft(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||K||bl||zt||ma(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){K=n=t;try{if(s=K.stateNode,c)C=s.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{E=K.stateNode;var ce=K.memoizedProps.style,le=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;E.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ve){it(K,K.return,ve)}}}else if(t.tag===6){if(n===null){K=t;try{K.stateNode.nodeValue=c?"":K.memoizedProps}catch(ve){it(K,K.return,ve)}}}else if(t.tag===18){if(n===null){K=t;try{var ie=K.stateNode;c?ad(ie,!0):ad(K.stateNode,!1)}catch(ve){it(K,K.return,ve)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Wr(e,n))));break;case 19:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 30:break;case 21:break;default:Pt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(rf(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var c=n.stateNode,s=gc(e);Qr(e,s,c);break;case 5:var C=n.stateNode;n.flags&32&&(wa(C,""),n.flags&=-33);var E=gc(e);Qr(e,E,C);break;case 3:case 4:var K=n.stateNode.containerInfo,ne=gc(e);yc(e,ne,K);break;default:throw Error(r(161))}}catch(re){it(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)xf(e,t.alternate,t),t=t.sibling}function ma(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:kl(4,t,t.return),ma(t);break;case 1:Fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&lf(t,t.return,n),ma(t);break;case 27:Zi(t.stateNode);case 26:case 5:Fn(t,t.return),ma(t);break;case 22:t.memoizedState===null&&ma(t);break;case 30:ma(t);break;default:ma(t)}e=e.sibling}}function yl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,s=t,C=s.flags;switch(s.tag){case 0:case 11:case 15:yl(c,s,n),ki(4,s);break;case 1:if(yl(c,s,n),l=s,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(ne){it(l,l.return,ne)}if(l=s,c=l.updateQueue,c!==null){var E=l.stateNode;try{var K=c.shared.hiddenCallbacks;if(K!==null)for(c.shared.hiddenCallbacks=null,c=0;c<K.length;c++)Ks(K[c],E)}catch(ne){it(l,l.return,ne)}}n&&C&64&&nf(s),qi(s,s.return);break;case 27:uf(s);case 26:case 5:yl(c,s,n),n&&l===null&&C&4&&af(s),qi(s,s.return);break;case 12:yl(c,s,n);break;case 31:yl(c,s,n),n&&C&4&&ff(c,s);break;case 13:yl(c,s,n),n&&C&4&&df(c,s);break;case 22:s.memoizedState===null&&yl(c,s,n),qi(s,s.return);break;case 30:break;default:yl(c,s,n)}t=t.sibling}}function _c(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Si(n))}function Sc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e))}function Yn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bf(e,t,n,l),t=t.sibling}function bf(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Yn(e,t,n,l),c&2048&&ki(9,t);break;case 1:Yn(e,t,n,l);break;case 3:Yn(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e)));break;case 12:if(c&2048){Yn(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,C=s.id,E=s.onPostCommit;typeof E=="function"&&E(C,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(K){it(t,t.return,K)}}else Yn(e,t,n,l);break;case 31:Yn(e,t,n,l);break;case 13:Yn(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,C=t.alternate,t.memoizedState!==null?s._visibility&2?Yn(e,t,n,l):Gi(e,t):s._visibility&2?Yn(e,t,n,l):(s._visibility|=2,Ka(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&_c(C,t);break;case 24:Yn(e,t,n,l),c&2048&&Sc(t.alternate,t);break;default:Yn(e,t,n,l)}}function Ka(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,C=t,E=n,K=l,ne=C.flags;switch(C.tag){case 0:case 11:case 15:Ka(s,C,E,K,c),ki(8,C);break;case 23:break;case 22:var re=C.stateNode;C.memoizedState!==null?re._visibility&2?Ka(s,C,E,K,c):Gi(s,C):(re._visibility|=2,Ka(s,C,E,K,c)),c&&ne&2048&&_c(C.alternate,C);break;case 24:Ka(s,C,E,K,c),c&&ne&2048&&Sc(C.alternate,C);break;default:Ka(s,C,E,K,c)}t=t.sibling}}function Gi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Gi(n,l),c&2048&&_c(l.alternate,l);break;case 24:Gi(n,l),c&2048&&Sc(l.alternate,l);break;default:Gi(n,l)}t=t.sibling}}var Ri=8192;function Za(e,t,n){if(e.subtreeFlags&Ri)for(e=e.child;e!==null;)vf(e,t,n),e=e.sibling}function vf(e,t,n){switch(e.tag){case 26:Za(e,t,n),e.flags&Ri&&e.memoizedState!==null&&ah(n,In,e.memoizedState,e.memoizedProps);break;case 5:Za(e,t,n);break;case 3:case 4:var l=In;In=s0(e.stateNode.containerInfo),Za(e,t,n),In=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ri,Ri=16777216,Za(e,t,n),Ri=l):Za(e,t,n));break;default:Za(e,t,n)}}function gf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Bt=l,pf(l,e)}gf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yf(e),e=e.sibling}function yf(e){switch(e.tag){case 0:case 11:case 15:Oi(e),e.flags&2048&&kl(9,e,e.return);break;case 3:Oi(e);break;case 12:Oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pr(e)):Oi(e);break;default:Oi(e)}}function Pr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Bt=l,pf(l,e)}gf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:kl(8,t,t.return),Pr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Pr(t));break;default:Pr(t)}e=e.sibling}}function pf(e,t){for(;Bt!==null;){var n=Bt;switch(n.tag){case 0:case 11:case 15:kl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Si(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Bt=l;else e:for(n=e;Bt!==null;){l=Bt;var c=l.sibling,s=l.return;if(sf(l),l===n){Bt=null;break e}if(c!==null){c.return=s,Bt=c;break e}Bt=s}}}var y2={getCacheForType:function(e){var t=Gt(wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Gt(wt).controller.signal}},p2=typeof WeakMap=="function"?WeakMap:Map,nt=0,st=null,Oe=null,Ke=0,at=0,dn=null,ql=!1,Xa=!1,Cc=!1,pl=0,pt=0,Gl=0,ba=0,wc=0,hn=0,Ja=0,Hi=null,$t=null,Mc=!1,Fr=0,_f=0,$r=1/0,e0=null,Rl=null,At=0,Ol=null,Va=null,_l=0,jc=0,zc=null,Sf=null,Ii=0,Dc=null;function mn(){return(nt&2)!==0&&Ke!==0?Ke&-Ke:j.T!==null?Lc():On()}function Cf(){if(hn===0)if((Ke&536870912)===0||Xe){var e=pe;pe<<=1,(pe&3932160)===0&&(pe=262144),hn=e}else hn=536870912;return e=on.current,e!==null&&(e.flags|=32),hn}function en(e,t,n){(e===st&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Hl(e,Ke,hn,!1)),Ae(e,n),((nt&2)===0||e!==st)&&(e===st&&((nt&2)===0&&(ba|=n),pt===4&&Hl(e,Ke,hn,!1)),$n(e))}function wf(e,t,n){if((nt&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||$e(e,t),c=l?C2(e,t):Ac(e,t,!0),s=l;do{if(c===0){Xa&&!l&&Hl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!_2(n)){c=Ac(e,t,!1),s=!1;continue}if(c===2){if(s=t,e.errorRecoveryDisabledLanes&s)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){t=C;e:{var E=e;c=Hi;var K=E.current.memoizedState.isDehydrated;if(K&&(Qa(E,C).flags|=256),C=Ac(E,C,!1),C!==2){if(Cc&&!K){E.errorRecoveryDisabledLanes|=s,ba|=s,c=4;break e}s=$t,$t=c,s!==null&&($t===null?$t=s:$t.push.apply($t,s))}c=C}if(s=!1,c!==2)continue}}if(c===1){Qa(e,0),Hl(e,t,0,!0);break}e:{switch(l=e,s=c,s){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Hl(l,t,hn,!ql);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=Fr+300-Fe(),10<c)){if(Hl(l,t,hn,!ql),Se(l,0,!0)!==0)break e;_l=t,l.timeoutHandle=td(Mf.bind(null,l,n,$t,e0,Mc,t,hn,ba,Ja,ql,s,"Throttled",-0,0),c);break e}Mf(l,n,$t,e0,Mc,t,hn,ba,Ja,ql,s,null,-0,0)}}break}while(!0);$n(e)}function Mf(e,t,n,l,c,s,C,E,K,ne,re,ce,le,ie){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rl},vf(t,s,ce);var ve=(s&62914560)===s?Fr-Fe():(s&4194048)===s?_f-Fe():0;if(ve=ih(ce,ve),ve!==null){_l=s,e.cancelPendingCommit=ve(Bf.bind(null,e,t,s,n,l,c,C,E,K,re,ce,null,le,ie)),Hl(e,s,C,!ne);return}}Bf(e,t,s,n,l,c,C,E,K)}function _2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],s=c.getSnapshot;c=c.value;try{if(!xn(s(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hl(e,t,n,l){t&=~wc,t&=~ba,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var s=31-Ie(c),C=1<<s;l[s]=-1,c&=~C}n!==0&&tt(e,n,t)}function t0(){return(nt&6)===0?(Yi(0),!1):!0}function Nc(){if(Oe!==null){if(at===0)var e=Oe.return;else e=Oe,sl=ua=null,Zu(e),Oa=null,wi=0,e=Oe;for(;e!==null;)tf(e.alternate,e),e=e.return;Oe=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,I2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),_l=0,Nc(),st=e,Oe=n=cl(e.current,null),Ke=t,at=0,dn=null,ql=!1,Xa=$e(e,t),Cc=!1,Ja=hn=wc=ba=Gl=pt=0,$t=Hi=null,Mc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Ie(l),s=1<<c;t|=e[c],l&=~s}return pl=t,Sr(),n}function jf(e,t){Te=null,j.H=Ei,t===Ra||t===Ar?(t=Hs(),at=3):t===Bu?(t=Hs(),at=4):at=t===uc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dn=t,Oe===null&&(pt=1,Kr(e,Dn(t,e.current)))}function zf(){var e=on.current;return e===null?!0:(Ke&4194048)===Ke?En===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?e===En:!1}function Df(){var e=j.H;return j.H=Ei,e===null?Ei:e}function Nf(){var e=j.A;return j.A=y2,e}function n0(){pt=4,ql||(Ke&4194048)!==Ke&&on.current!==null||(Xa=!0),(Gl&134217727)===0&&(ba&134217727)===0||st===null||Hl(st,Ke,hn,!1)}function Ac(e,t,n){var l=nt;nt|=2;var c=Df(),s=Nf();(st!==e||Ke!==t)&&(e0=null,Qa(e,t)),t=!1;var C=pt;e:do try{if(at!==0&&Oe!==null){var E=Oe,K=dn;switch(at){case 8:Nc(),C=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var ne=at;if(at=0,dn=null,Wa(e,E,K,ne),n&&Xa){C=0;break e}break;default:ne=at,at=0,dn=null,Wa(e,E,K,ne)}}S2(),C=pt;break}catch(re){jf(e,re)}while(!0);return t&&e.shellSuspendCounter++,sl=ua=null,nt=l,j.H=c,j.A=s,Oe===null&&(st=null,Ke=0,Sr()),C}function S2(){for(;Oe!==null;)Af(Oe)}function C2(e,t){var n=nt;nt|=2;var l=Df(),c=Nf();st!==e||Ke!==t?(e0=null,$r=Fe()+500,Qa(e,t)):Xa=$e(e,t);e:do try{if(at!==0&&Oe!==null){t=Oe;var s=dn;t:switch(at){case 1:at=0,dn=null,Wa(e,t,s,1);break;case 2:case 9:if(Rs(s)){at=0,dn=null,Tf(t);break}t=function(){at!==2&&at!==9||st!==e||(at=7),$n(e)},s.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Rs(s)?(at=0,dn=null,Tf(t)):(at=0,dn=null,Wa(e,t,s,7));break;case 5:var C=null;switch(Oe.tag){case 26:C=Oe.memoizedState;case 5:case 27:var E=Oe;if(C?bd(C):E.stateNode.complete){at=0,dn=null;var K=E.sibling;if(K!==null)Oe=K;else{var ne=E.return;ne!==null?(Oe=ne,l0(ne)):Oe=null}break t}}at=0,dn=null,Wa(e,t,s,5);break;case 6:at=0,dn=null,Wa(e,t,s,6);break;case 8:Nc(),pt=6;break e;default:throw Error(r(462))}}w2();break}catch(re){jf(e,re)}while(!0);return sl=ua=null,j.H=l,j.A=c,nt=n,Oe!==null?0:(st=null,Ke=0,Sr(),pt)}function w2(){for(;Oe!==null&&!Sn();)Af(Oe)}function Af(e){var t=$o(e.alternate,e,pl);e.memoizedProps=e.pendingProps,t===null?l0(e):Oe=t}function Tf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jo(n,t,t.pendingProps,t.type,void 0,Ke);break;case 11:t=Jo(n,t,t.pendingProps,t.type.render,t.ref,Ke);break;case 5:Zu(t);default:tf(n,t),t=Oe=zs(t,pl),t=$o(n,t,pl)}e.memoizedProps=e.pendingProps,t===null?l0(e):Oe=t}function Wa(e,t,n,l){sl=ua=null,Zu(t),Oa=null,wi=0;var c=t.return;try{if(f2(e,c,t,n,Ke)){pt=1,Kr(e,Dn(n,e.current)),Oe=null;return}}catch(s){if(c!==null)throw Oe=c,s;pt=1,Kr(e,Dn(n,e.current)),Oe=null;return}t.flags&32768?(Xe||l===1?e=!0:Xa||(Ke&536870912)!==0?e=!1:(ql=e=!0,(l===2||l===9||l===3||l===6)&&(l=on.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ef(t,e)):l0(t)}function l0(e){var t=e;do{if((t.flags&32768)!==0){Ef(t,ql);return}e=t.return;var n=m2(t.alternate,t,pl);if(n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);pt===0&&(pt=5)}function Ef(e,t){do{var n=b2(e.alternate,e);if(n!==null){n.flags&=32767,Oe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=n}while(e!==null);pt=6,Oe=null}function Bf(e,t,n,l,c,s,C,E,K){e.cancelPendingCommit=null;do a0();while(At!==0);if((nt&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,s|=gu,kt(e,n,s,C,E,K),e===st&&(Oe=st=null,Ke=0),Va=t,Ol=e,_l=n,jc=s,zc=c,Sf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D2(al,function(){return Rf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=T.p,T.p=2,C=nt,nt|=4;try{v2(e,t,n)}finally{nt=C,T.p=c,j.T=l}}At=1,Lf(),kf(),qf()}}function Lf(){if(At===1){At=0;var e=Ol,t=Va,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null;var l=T.p;T.p=2;var c=nt;nt|=4;try{hf(t,e);var s=Yc,C=gs(e.containerInfo),E=s.focusedElem,K=s.selectionRange;if(C!==E&&E&&E.ownerDocument&&vs(E.ownerDocument.documentElement,E)){if(K!==null&&du(E)){var ne=K.start,re=K.end;if(re===void 0&&(re=ne),"selectionStart"in E)E.selectionStart=ne,E.selectionEnd=Math.min(re,E.value.length);else{var ce=E.ownerDocument||document,le=ce&&ce.defaultView||window;if(le.getSelection){var ie=le.getSelection(),ve=E.textContent.length,je=Math.min(K.start,ve),xt=K.end===void 0?je:Math.min(K.end,ve);!ie.extend&&je>xt&&(C=xt,xt=je,je=C);var P=bs(E,je),J=bs(E,xt);if(P&&J&&(ie.rangeCount!==1||ie.anchorNode!==P.node||ie.anchorOffset!==P.offset||ie.focusNode!==J.node||ie.focusOffset!==J.offset)){var te=ce.createRange();te.setStart(P.node,P.offset),ie.removeAllRanges(),je>xt?(ie.addRange(te),ie.extend(J.node,J.offset)):(te.setEnd(J.node,J.offset),ie.addRange(te))}}}}for(ce=[],ie=E;ie=ie.parentNode;)ie.nodeType===1&&ce.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ce.length;E++){var ue=ce[E];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}b0=!!Ic,Yc=Ic=null}finally{nt=c,T.p=l,j.T=n}}e.current=t,At=2}}function kf(){if(At===2){At=0;var e=Ol,t=Va,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=j.T,j.T=null;var l=T.p;T.p=2;var c=nt;nt|=4;try{xf(e,t.alternate,t)}finally{nt=c,T.p=l,j.T=n}}At=3}}function qf(){if(At===4||At===3){At=0,Jn();var e=Ol,t=Va,n=_l,l=Sf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,Va=Ol=null,Gf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Rl=null),vt(n),t=t.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Rn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=j.T,c=T.p,T.p=2,j.T=null;try{for(var s=e.onRecoverableError,C=0;C<l.length;C++){var E=l[C];s(E.value,{componentStack:E.stack})}}finally{j.T=t,T.p=c}}(_l&3)!==0&&a0(),$n(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Dc?Ii++:(Ii=0,Dc=e):Ii=0,Yi(0)}}function Gf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Si(t)))}function a0(){return Lf(),kf(),qf(),Rf()}function Rf(){if(At!==5)return!1;var e=Ol,t=jc;jc=0;var n=vt(_l),l=j.T,c=T.p;try{T.p=32>n?32:n,j.T=null,n=zc,zc=null;var s=Ol,C=_l;if(At=0,Va=Ol=null,_l=0,(nt&6)!==0)throw Error(r(331));var E=nt;if(nt|=4,yf(s.current),bf(s,s.current,C,n),nt=E,Yi(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Rn,s)}catch{}return!0}finally{T.p=c,j.T=l,Gf(e,t)}}function Of(e,t,n){t=Dn(n,t),t=rc(e.stateNode,t,2),e=El(e,t,2),e!==null&&(Ae(e,2),$n(e))}function it(e,t,n){if(e.tag===3)Of(e,e,n);else for(;t!==null;){if(t.tag===3){Of(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rl===null||!Rl.has(l))){e=Dn(n,e),n=Oo(2),l=El(t,n,2),l!==null&&(Ho(n,l,t,e),Ae(l,2),$n(l));break}}t=t.return}}function Tc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new p2;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(Cc=!0,c.add(n),e=M2.bind(null,e,t,n),t.then(e,e))}function M2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,st===e&&(Ke&n)===n&&(pt===4||pt===3&&(Ke&62914560)===Ke&&300>Fe()-Fr?(nt&2)===0&&Qa(e,0):wc|=n,Ja===Ke&&(Ja=0)),$n(e)}function Hf(e,t){t===0&&(t=Ve()),e=aa(e,t),e!==null&&(Ae(e,t),$n(e))}function j2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hf(e,n)}function z2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Hf(e,n)}function D2(e,t){return Ut(e,t)}var i0=null,Pa=null,Ec=!1,r0=!1,Bc=!1,Il=0;function $n(e){e!==Pa&&e.next===null&&(Pa===null?i0=Pa=e:Pa=Pa.next=e),r0=!0,Ec||(Ec=!0,A2())}function Yi(e,t){if(!Bc&&r0){Bc=!0;do for(var n=!1,l=i0;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var s=0;else{var C=l.suspendedLanes,E=l.pingedLanes;s=(1<<31-Ie(42|e)+1)-1,s&=c&~(C&~E),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Kf(l,s))}else s=Ke,s=Se(l,l===st?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||$e(l,s)||(n=!0,Kf(l,s));l=l.next}while(n);Bc=!1}}function N2(){If()}function If(){r0=Ec=!1;var e=0;Il!==0&&H2()&&(e=Il);for(var t=Fe(),n=null,l=i0;l!==null;){var c=l.next,s=Yf(l,t);s===0?(l.next=null,n===null?i0=c:n.next=c,c===null&&(Pa=n)):(n=l,(e!==0||(s&3)!==0)&&(r0=!0)),l=c}At!==0&&At!==5||Yi(e),Il!==0&&(Il=0)}function Yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var C=31-Ie(s),E=1<<C,K=c[C];K===-1?((E&n)===0||(E&l)!==0)&&(c[C]=et(E,t)):K<=t&&(e.expiredLanes|=E),s&=~E}if(t=st,n=Ke,n=Se(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&cn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||$e(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&cn(l),vt(n)){case 2:case 8:n=ll;break;case 32:n=al;break;case 268435456:n=Pl;break;default:n=al}return l=Uf.bind(null,e),n=Ut(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&cn(l),e.callbackPriority=2,e.callbackNode=null,2}function Uf(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(a0()&&e.callbackNode!==n)return null;var l=Ke;return l=Se(e,e===st?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(wf(e,l,t),Yf(e,Fe()),e.callbackNode!=null&&e.callbackNode===n?Uf.bind(null,e):null)}function Kf(e,t){if(a0())return null;wf(e,t,!0)}function A2(){Y2(function(){(nt&6)!==0?Ut(Cl,N2):If()})}function Lc(){if(Il===0){var e=qa;e===0&&(e=_e,_e<<=1,(_e&261888)===0&&(_e=256)),Il=e}return Il}function Zf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hr(""+e)}function Xf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function T2(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var s=Zf((c[Kt]||null).action),C=l.submitter;C&&(t=(t=C[Kt]||null)?Zf(t.formAction):C.getAttribute("formAction"),t!==null&&(s=t,C=null));var E=new gr("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Il!==0){var K=C?Xf(c,C):new FormData(c);ec(n,{pending:!0,data:K,method:c.method,action:s},null,K)}}else typeof s=="function"&&(E.preventDefault(),K=C?Xf(c,C):new FormData(c),ec(n,{pending:!0,data:K,method:c.method,action:s},s,K))},currentTarget:c}]})}}for(var kc=0;kc<vu.length;kc++){var qc=vu[kc],E2=qc.toLowerCase(),B2=qc[0].toUpperCase()+qc.slice(1);Hn(E2,"on"+B2)}Hn(_s,"onAnimationEnd"),Hn(Ss,"onAnimationIteration"),Hn(Cs,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Q1,"onTransitionRun"),Hn(W1,"onTransitionStart"),Hn(P1,"onTransitionCancel"),Hn(ws,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ui));function Jf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var C=l.length-1;0<=C;C--){var E=l[C],K=E.instance,ne=E.currentTarget;if(E=E.listener,K!==s&&c.isPropagationStopped())break e;s=E,c.currentTarget=ne;try{s(c)}catch(re){_r(re)}c.currentTarget=null,s=K}else for(C=0;C<l.length;C++){if(E=l[C],K=E.instance,ne=E.currentTarget,E=E.listener,K!==s&&c.isPropagationStopped())break e;s=E,c.currentTarget=ne;try{s(c)}catch(re){_r(re)}c.currentTarget=null,s=K}}}}function He(e,t){var n=t[xi];n===void 0&&(n=t[xi]=new Set);var l=e+"__bubble";n.has(l)||(Vf(t,e,2,!1),n.add(l))}function Gc(e,t,n){var l=0;t&&(l|=4),Vf(n,e,l,t)}var u0="_reactListening"+Math.random().toString(36).slice(2);function Rc(e){if(!e[u0]){e[u0]=!0,Qn.forEach(function(n){n!=="selectionchange"&&(L2.has(n)||Gc(n,!1,e),Gc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[u0]||(t[u0]=!0,Gc("selectionchange",!1,t))}}function Vf(e,t,n,l){switch(Cd(t)){case 2:var c=ch;break;case 8:c=xh;break;default:c=$c}n=c.bind(null,t,n,e),c=void 0,!au||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Oc(e,t,n,l,c){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var C=l.tag;if(C===3||C===4){var E=l.stateNode.containerInfo;if(E===c)break;if(C===4)for(C=l.return;C!==null;){var K=C.tag;if((K===3||K===4)&&C.stateNode.containerInfo===c)return;C=C.return}for(;E!==null;){if(C=he(E),C===null)return;if(K=C.tag,K===5||K===6||K===26||K===27){l=s=C;continue e}E=E.parentNode}}l=l.return}Px(function(){var ne=s,re=nu(n),ce=[];e:{var le=Ms.get(e);if(le!==void 0){var ie=gr,ve=e;switch(e){case"keypress":if(br(n)===0)break e;case"keydown":case"keyup":ie=z1;break;case"focusin":ve="focus",ie=cu;break;case"focusout":ve="blur",ie=cu;break;case"beforeblur":case"afterblur":ie=cu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=m1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=A1;break;case _s:case Ss:case Cs:ie=g1;break;case ws:ie=E1;break;case"scroll":case"scrollend":ie=d1;break;case"wheel":ie=L1;break;case"copy":case"cut":case"paste":ie=p1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ns;break;case"toggle":case"beforetoggle":ie=q1}var je=(t&4)!==0,xt=!je&&(e==="scroll"||e==="scrollend"),P=je?le!==null?le+"Capture":null:le;je=[];for(var J=ne,te;J!==null;){var ue=J;if(te=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||te===null||P===null||(ue=oi(J,P),ue!=null&&je.push(Ki(J,ue,te))),xt)break;J=J.return}0<je.length&&(le=new ie(le,ve,null,n,re),ce.push({event:le,listeners:je}))}}if((t&7)===0){e:{if(le=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",le&&n!==tu&&(ve=n.relatedTarget||n.fromElement)&&(he(ve)||ve[Jt]))break e;if((ie||le)&&(le=re.window===re?re:(le=re.ownerDocument)?le.defaultView||le.parentWindow:window,ie?(ve=n.relatedTarget||n.toElement,ie=ne,ve=ve?he(ve):null,ve!==null&&(xt=f(ve),je=ve.tag,ve!==xt||je!==5&&je!==27&&je!==6)&&(ve=null)):(ie=null,ve=ne),ie!==ve)){if(je=es,ue="onMouseLeave",P="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(je=ns,ue="onPointerLeave",P="onPointerEnter",J="pointer"),xt=ie==null?le:Ye(ie),te=ve==null?le:Ye(ve),le=new je(ue,J+"leave",ie,n,re),le.target=xt,le.relatedTarget=te,ue=null,he(re)===ne&&(je=new je(P,J+"enter",ve,n,re),je.target=te,je.relatedTarget=xt,ue=je),xt=ue,ie&&ve)t:{for(je=k2,P=ie,J=ve,te=0,ue=P;ue;ue=je(ue))te++;ue=0;for(var Ce=J;Ce;Ce=je(Ce))ue++;for(;0<te-ue;)P=je(P),te--;for(;0<ue-te;)J=je(J),ue--;for(;te--;){if(P===J||J!==null&&P===J.alternate){je=P;break t}P=je(P),J=je(J)}je=null}else je=null;ie!==null&&Qf(ce,le,ie,je,!1),ve!==null&&xt!==null&&Qf(ce,xt,ve,je,!0)}}e:{if(le=ne?Ye(ne):window,ie=le.nodeName&&le.nodeName.toLowerCase(),ie==="select"||ie==="input"&&le.type==="file")var We=ss;else if(cs(le))if(os)We=X1;else{We=K1;var ge=U1}else ie=le.nodeName,!ie||ie.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ne&&eu(ne.elementType)&&(We=ss):We=Z1;if(We&&(We=We(e,ne))){xs(ce,We,n,re);break e}ge&&ge(e,le,ne),e==="focusout"&&ne&&le.type==="number"&&ne.memoizedProps.value!=null&&$0(le,"number",le.value)}switch(ge=ne?Ye(ne):window,e){case"focusin":(cs(ge)||ge.contentEditable==="true")&&(Da=ge,hu=ne,yi=null);break;case"focusout":yi=hu=Da=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,ys(ce,n,re);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":ys(ce,n,re)}var Be;if(su)e:{switch(e){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else za?rs(e,n)&&(Ze="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ze="onCompositionStart");Ze&&(ls&&n.locale!=="ko"&&(za||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&za&&(Be=Fx()):(Ml=re,iu="value"in Ml?Ml.value:Ml.textContent,za=!0)),ge=c0(ne,Ze),0<ge.length&&(Ze=new ts(Ze,e,null,n,re),ce.push({event:Ze,listeners:ge}),Be?Ze.data=Be:(Be=us(n),Be!==null&&(Ze.data=Be)))),(Be=R1?O1(e,n):H1(e,n))&&(Ze=c0(ne,"onBeforeInput"),0<Ze.length&&(ge=new ts("onBeforeInput","beforeinput",null,n,re),ce.push({event:ge,listeners:Ze}),ge.data=Be)),T2(ce,e,ne,n,re)}Jf(ce,t)})}function Ki(e,t,n){return{instance:e,listener:t,currentTarget:n}}function c0(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,s=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||s===null||(c=oi(e,n),c!=null&&l.unshift(Ki(e,c,s)),c=oi(e,t),c!=null&&l.push(Ki(e,c,s))),e.tag===3)return l;e=e.return}return[]}function k2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qf(e,t,n,l,c){for(var s=t._reactName,C=[];n!==null&&n!==l;){var E=n,K=E.alternate,ne=E.stateNode;if(E=E.tag,K!==null&&K===l)break;E!==5&&E!==26&&E!==27||ne===null||(K=ne,c?(ne=oi(n,s),ne!=null&&C.unshift(Ki(n,ne,K))):c||(ne=oi(n,s),ne!=null&&C.push(Ki(n,ne,K)))),n=n.return}C.length!==0&&e.push({event:t,listeners:C})}var q2=/\r\n?/g,G2=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(q2,`
`).replace(G2,"")}function Pf(e,t){return t=Wf(t),Wf(e)===t}function ct(e,t,n,l,c,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||wa(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&wa(e,""+l);break;case"className":fr(e,"class",l);break;case"tabIndex":fr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(e,n,l);break;case"style":Qx(e,l,s);break;case"data":if(t!=="object"){fr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=hr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ct(e,t,"name",c.name,c,null),ct(e,t,"formEncType",c.formEncType,c,null),ct(e,t,"formMethod",c.formMethod,c,null),ct(e,t,"formTarget",c.formTarget,c,null)):(ct(e,t,"encType",c.encType,c,null),ct(e,t,"method",c.method,c,null),ct(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=hr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=rl);break;case"onScroll":l!=null&&He("scroll",e);break;case"onScrollEnd":l!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=hr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":He("beforetoggle",e),He("toggle",e),or(e,"popover",l);break;case"xlinkActuate":il(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":il(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":il(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":il(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":il(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":il(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":il(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":il(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":il(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=o1.get(n)||n,or(e,n,l))}}function Hc(e,t,n,l,c,s){switch(n){case"style":Qx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?wa(e,l):(typeof l=="number"||typeof l=="bigint")&&wa(e,""+l);break;case"onScroll":l!=null&&He("scroll",e);break;case"onScrollEnd":l!=null&&He("scrollend",e);break;case"onClick":l!=null&&(e.onclick=rl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sr.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),s=e[Kt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,c),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):or(e,n,l)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var l=!1,c=!1,s;for(s in n)if(n.hasOwnProperty(s)){var C=n[s];if(C!=null)switch(s){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ct(e,t,s,C,n,null)}}c&&ct(e,t,"srcSet",n.srcSet,n,null),l&&ct(e,t,"src",n.src,n,null);return;case"input":He("invalid",e);var E=s=C=c=null,K=null,ne=null;for(l in n)if(n.hasOwnProperty(l)){var re=n[l];if(re!=null)switch(l){case"name":c=re;break;case"type":C=re;break;case"checked":K=re;break;case"defaultChecked":ne=re;break;case"value":s=re;break;case"defaultValue":E=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,t));break;default:ct(e,t,l,re,n,null)}}Zx(e,s,E,K,ne,C,c,!1);return;case"select":He("invalid",e),l=C=s=null;for(c in n)if(n.hasOwnProperty(c)&&(E=n[c],E!=null))switch(c){case"value":s=E;break;case"defaultValue":C=E;break;case"multiple":l=E;default:ct(e,t,c,E,n,null)}t=s,n=C,e.multiple=!!l,t!=null?Ca(e,!!l,t,!1):n!=null&&Ca(e,!!l,n,!0);return;case"textarea":He("invalid",e),s=c=l=null;for(C in n)if(n.hasOwnProperty(C)&&(E=n[C],E!=null))switch(C){case"value":l=E;break;case"defaultValue":c=E;break;case"children":s=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ct(e,t,C,E,n,null)}Jx(e,l,c,s);return;case"option":for(K in n)n.hasOwnProperty(K)&&(l=n[K],l!=null)&&(K==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ct(e,t,K,l,n,null));return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(l=0;l<Ui.length;l++)He(Ui[l],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in n)if(n.hasOwnProperty(ne)&&(l=n[ne],l!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ct(e,t,ne,l,n,null)}return;default:if(eu(t)){for(re in n)n.hasOwnProperty(re)&&(l=n[re],l!==void 0&&Hc(e,t,re,l,n,void 0));return}}for(E in n)n.hasOwnProperty(E)&&(l=n[E],l!=null&&ct(e,t,E,l,n,null))}function R2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,s=null,C=null,E=null,K=null,ne=null,re=null;for(ie in n){var ce=n[ie];if(n.hasOwnProperty(ie)&&ce!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":K=ce;default:l.hasOwnProperty(ie)||ct(e,t,ie,null,l,ce)}}for(var le in l){var ie=l[le];if(ce=n[le],l.hasOwnProperty(le)&&(ie!=null||ce!=null))switch(le){case"type":s=ie;break;case"name":c=ie;break;case"checked":ne=ie;break;case"defaultChecked":re=ie;break;case"value":C=ie;break;case"defaultValue":E=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,t));break;default:ie!==ce&&ct(e,t,le,ie,l,ce)}}F0(e,C,E,K,ne,re,s,c);return;case"select":ie=C=E=le=null;for(s in n)if(K=n[s],n.hasOwnProperty(s)&&K!=null)switch(s){case"value":break;case"multiple":ie=K;default:l.hasOwnProperty(s)||ct(e,t,s,null,l,K)}for(c in l)if(s=l[c],K=n[c],l.hasOwnProperty(c)&&(s!=null||K!=null))switch(c){case"value":le=s;break;case"defaultValue":E=s;break;case"multiple":C=s;default:s!==K&&ct(e,t,c,s,l,K)}t=E,n=C,l=ie,le!=null?Ca(e,!!n,le,!1):!!l!=!!n&&(t!=null?Ca(e,!!n,t,!0):Ca(e,!!n,n?[]:"",!1));return;case"textarea":ie=le=null;for(E in n)if(c=n[E],n.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ct(e,t,E,null,l,c)}for(C in l)if(c=l[C],s=n[C],l.hasOwnProperty(C)&&(c!=null||s!=null))switch(C){case"value":le=c;break;case"defaultValue":ie=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==s&&ct(e,t,C,c,l,s)}Xx(e,le,ie);return;case"option":for(var ve in n)le=n[ve],n.hasOwnProperty(ve)&&le!=null&&!l.hasOwnProperty(ve)&&(ve==="selected"?e.selected=!1:ct(e,t,ve,null,l,le));for(K in l)le=l[K],ie=n[K],l.hasOwnProperty(K)&&le!==ie&&(le!=null||ie!=null)&&(K==="selected"?e.selected=le&&typeof le!="function"&&typeof le!="symbol":ct(e,t,K,le,l,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in n)le=n[je],n.hasOwnProperty(je)&&le!=null&&!l.hasOwnProperty(je)&&ct(e,t,je,null,l,le);for(ne in l)if(le=l[ne],ie=n[ne],l.hasOwnProperty(ne)&&le!==ie&&(le!=null||ie!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,t));break;default:ct(e,t,ne,le,l,ie)}return;default:if(eu(t)){for(var xt in n)le=n[xt],n.hasOwnProperty(xt)&&le!==void 0&&!l.hasOwnProperty(xt)&&Hc(e,t,xt,void 0,l,le);for(re in l)le=l[re],ie=n[re],!l.hasOwnProperty(re)||le===ie||le===void 0&&ie===void 0||Hc(e,t,re,le,l,ie);return}}for(var P in n)le=n[P],n.hasOwnProperty(P)&&le!=null&&!l.hasOwnProperty(P)&&ct(e,t,P,null,l,le);for(ce in l)le=l[ce],ie=n[ce],!l.hasOwnProperty(ce)||le===ie||le==null&&ie==null||ct(e,t,ce,le,l,ie)}function Ff(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],s=c.transferSize,C=c.initiatorType,E=c.duration;if(s&&E&&Ff(C)){for(C=0,E=c.responseEnd,l+=1;l<n.length;l++){var K=n[l],ne=K.startTime;if(ne>E)break;var re=K.transferSize,ce=K.initiatorType;re&&Ff(ce)&&(K=K.responseEnd,C+=re*(K<E?1:(E-ne)/(K-ne)))}if(--l,t+=8*(s+C)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ic=null,Yc=null;function x0(e){return e.nodeType===9?e:e.ownerDocument}function $f(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ed(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Uc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kc=null;function H2(){var e=window.event;return e&&e.type==="popstate"?e===Kc?!1:(Kc=e,!0):(Kc=null,!1)}var td=typeof setTimeout=="function"?setTimeout:void 0,I2=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(e){return nd.resolve(null).then(e).catch(U2)}:td;function U2(e){setTimeout(function(){throw e})}function Yl(e){return e==="head"}function ld(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),ti(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Zi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Zi(n);for(var s=n.firstChild;s;){var C=s.nextSibling,E=s.nodeName;s[$l]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=C}}else n==="body"&&Zi(e.ownerDocument.body);n=c}while(n);ti(t)}function ad(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Zc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Zc(n),si(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function K2(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[$l])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function Z2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function id(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Bn(e.nextSibling),e===null))return null;return e}function Xc(e){return e.data==="$?"||e.data==="$~"}function Jc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Vc=null;function rd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Bn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ud(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=x0(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Zi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);si(e)}var Ln=new Map,xd=new Set;function s0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sl=T.d;T.d={f:J2,r:V2,D:Q2,C:W2,L:P2,m:F2,X:eh,S:$2,M:th};function J2(){var e=Sl.f(),t=t0();return e||t}function V2(e){var t=ye(e);t!==null&&t.tag===5&&t.type==="form"?Mo(t):Sl.r(e)}var Fa=typeof document>"u"?null:document;function sd(e,t,n){var l=Fa;if(l&&typeof t=="string"&&t){var c=jn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),xd.has(c)||(xd.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Ot(t,"link",e),Ue(t),l.head.appendChild(t)))}}function Q2(e){Sl.D(e),sd("dns-prefetch",e,null)}function W2(e,t){Sl.C(e,t),sd("preconnect",e,t)}function P2(e,t,n){Sl.L(e,t,n);var l=Fa;if(l&&e&&t){var c='link[rel="preload"][as="'+jn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+jn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+jn(n.imageSizes)+'"]')):c+='[href="'+jn(e)+'"]';var s=c;switch(t){case"style":s=$a(e);break;case"script":s=ei(e)}Ln.has(s)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ln.set(s,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Xi(s))||t==="script"&&l.querySelector(Ji(s))||(t=l.createElement("link"),Ot(t,"link",e),Ue(t),l.head.appendChild(t)))}}function F2(e,t){Sl.m(e,t);var n=Fa;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+jn(l)+'"][href="'+jn(e)+'"]',s=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ei(e)}if(!Ln.has(s)&&(e=w({rel:"modulepreload",href:e},t),Ln.set(s,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ji(s)))return}l=n.createElement("link"),Ot(l,"link",e),Ue(l),n.head.appendChild(l)}}}function $2(e,t,n){Sl.S(e,t,n);var l=Fa;if(l&&e){var c=Nt(l).hoistableStyles,s=$a(e);t=t||"default";var C=c.get(s);if(!C){var E={loading:0,preload:null};if(C=l.querySelector(Xi(s)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ln.get(s))&&Qc(e,n);var K=C=l.createElement("link");Ue(K),Ot(K,"link",e),K._p=new Promise(function(ne,re){K.onload=ne,K.onerror=re}),K.addEventListener("load",function(){E.loading|=1}),K.addEventListener("error",function(){E.loading|=2}),E.loading|=4,o0(C,t,l)}C={type:"stylesheet",instance:C,count:1,state:E},c.set(s,C)}}}function eh(e,t){Sl.X(e,t);var n=Fa;if(n&&e){var l=Nt(n).hoistableScripts,c=ei(e),s=l.get(c);s||(s=n.querySelector(Ji(c)),s||(e=w({src:e,async:!0},t),(t=Ln.get(c))&&Wc(e,t),s=n.createElement("script"),Ue(s),Ot(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function th(e,t){Sl.M(e,t);var n=Fa;if(n&&e){var l=Nt(n).hoistableScripts,c=ei(e),s=l.get(c);s||(s=n.querySelector(Ji(c)),s||(e=w({src:e,async:!0,type:"module"},t),(t=Ln.get(c))&&Wc(e,t),s=n.createElement("script"),Ue(s),Ot(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function od(e,t,n,l){var c=(c=ae.current)?s0(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=$a(n.href),n=Nt(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=$a(n.href);var s=Nt(c).hoistableStyles,C=s.get(e);if(C||(c=c.ownerDocument||c,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,C),(s=c.querySelector(Xi(e)))&&!s._p&&(C.instance=s,C.state.loading=5),Ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(e,n),s||nh(c,e,n,C.state))),t&&l===null)throw Error(r(528,""));return C}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ei(n),n=Nt(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function $a(e){return'href="'+jn(e)+'"'}function Xi(e){return'link[rel="stylesheet"]['+e+"]"}function fd(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function nh(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ot(t,"link",n),Ue(t),e.head.appendChild(t))}function ei(e){return'[src="'+jn(e)+'"]'}function Ji(e){return"script[async]"+e}function dd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+jn(n.href)+'"]');if(l)return t.instance=l,Ue(l),l;var c=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ue(l),Ot(l,"style",c),o0(l,n.precedence,e),t.instance=l;case"stylesheet":c=$a(n.href);var s=e.querySelector(Xi(c));if(s)return t.state.loading|=4,t.instance=s,Ue(s),s;l=fd(n),(c=Ln.get(c))&&Qc(l,c),s=(e.ownerDocument||e).createElement("link"),Ue(s);var C=s;return C._p=new Promise(function(E,K){C.onload=E,C.onerror=K}),Ot(s,"link",l),t.state.loading|=4,o0(s,n.precedence,e),t.instance=s;case"script":return s=ei(n.src),(c=e.querySelector(Ji(s)))?(t.instance=c,Ue(c),c):(l=n,(c=Ln.get(s))&&(l=w({},n),Wc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ue(c),Ot(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,o0(l,n.precedence,e));return t.instance}function o0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,s=c,C=0;C<l.length;C++){var E=l[C];if(E.dataset.precedence===t)s=E;else if(s!==c)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var f0=null;function hd(e,t,n){if(f0===null){var l=new Map,c=f0=new Map;c.set(n,l)}else c=f0,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var s=n[c];if(!(s[$l]||s[gt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var C=s.getAttribute(t)||"";C=e+C;var E=l.get(C);E?E.push(s):l.set(C,[s])}}return l}function md(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function lh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ah(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=$a(l.href),s=t.querySelector(Xi(c));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=d0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Ue(s);return}s=t.ownerDocument||t,l=fd(l),(c=Ln.get(c))&&Qc(l,c),s=s.createElement("link"),Ue(s);var C=s;C._p=new Promise(function(E,K){C.onload=E,C.onerror=K}),Ot(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=d0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Pc=0;function ih(e,t){return e.stylesheets&&e.count===0&&m0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&m0(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Pc===0&&(Pc=62500*O2());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&m0(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Pc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function d0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)m0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var h0=null;function m0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,h0=new Map,t.forEach(rh,e),h0=null,d0.call(e))}function rh(e,t){if(!(t.state.loading&4)){var n=h0.get(e);if(n)var l=n.get(null);else{n=new Map,h0.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<c.length;s++){var C=c[s];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(n.set(C.dataset.precedence,C),l=C)}l&&n.set(null,l)}c=t.instance,C=c.getAttribute("data-precedence"),s=n.get(C)||l,s===l&&n.set(null,c),n.set(C,c),this.count++,l=d0.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),s?s.parentNode.insertBefore(c,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Vi={$$typeof:q,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function uh(e,t,n,l,c,s,C,E,K){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qe(0),this.hiddenUpdates=Qe(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=s,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function vd(e,t,n,l,c,s,C,E,K,ne,re,ce){return e=new uh(e,t,n,C,K,ne,re,ce,E),t=1,s===!0&&(t|=24),s=sn(3,null,null,t),e.current=s,s.stateNode=e,t=Au(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Lu(s),e}function gd(e){return e?(e=Ta,e):Ta}function yd(e,t,n,l,c,s){c=gd(c),l.context===null?l.context=c:l.pendingContext=c,l=Tl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=El(e,l,t),n!==null&&(en(n,e,t),ji(n,e,t))}function pd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fc(e,t){pd(e,t),(e=e.alternate)&&pd(e,t)}function _d(e){if(e.tag===13||e.tag===31){var t=aa(e,67108864);t!==null&&en(t,e,67108864),Fc(e,67108864)}}function Sd(e){if(e.tag===13||e.tag===31){var t=mn();t=lt(t);var n=aa(e,t);n!==null&&en(n,e,t),Fc(e,t)}}var b0=!0;function ch(e,t,n,l){var c=j.T;j.T=null;var s=T.p;try{T.p=2,$c(e,t,n,l)}finally{T.p=s,j.T=c}}function xh(e,t,n,l){var c=j.T;j.T=null;var s=T.p;try{T.p=8,$c(e,t,n,l)}finally{T.p=s,j.T=c}}function $c(e,t,n,l){if(b0){var c=ex(l);if(c===null)Oc(e,t,l,v0,n),wd(e,l);else if(oh(c,e,t,n,l))l.stopPropagation();else if(wd(e,l),t&4&&-1<sh.indexOf(e)){for(;c!==null;){var s=ye(c);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var C=ze(s.pendingLanes);if(C!==0){var E=s;for(E.pendingLanes|=2,E.entangledLanes|=2;C;){var K=1<<31-Ie(C);E.entanglements[1]|=K,C&=~K}$n(s),(nt&6)===0&&($r=Fe()+500,Yi(0))}}break;case 31:case 13:E=aa(s,2),E!==null&&en(E,s,2),t0(),Fc(s,2)}if(s=ex(l),s===null&&Oc(e,t,l,v0,n),s===c)break;c=s}c!==null&&l.stopPropagation()}else Oc(e,t,l,null,n)}}function ex(e){return e=nu(e),tx(e)}var v0=null;function tx(e){if(v0=null,e=he(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=b(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return v0=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cn()){case Cl:return 2;case ll:return 8;case al:case wl:return 32;case Pl:return 268435456;default:return 32}default:return 32}}var nx=!1,Ul=null,Kl=null,Zl=null,Qi=new Map,Wi=new Map,Xl=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wd(e,t){switch(e){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":Kl=null;break;case"mouseover":case"mouseout":Zl=null;break;case"pointerover":case"pointerout":Qi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(t.pointerId)}}function Pi(e,t,n,l,c,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[c]},t!==null&&(t=ye(t),t!==null&&_d(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function oh(e,t,n,l,c){switch(t){case"focusin":return Ul=Pi(Ul,e,t,n,l,c),!0;case"dragenter":return Kl=Pi(Kl,e,t,n,l,c),!0;case"mouseover":return Zl=Pi(Zl,e,t,n,l,c),!0;case"pointerover":var s=c.pointerId;return Qi.set(s,Pi(Qi.get(s)||null,e,t,n,l,c)),!0;case"gotpointercapture":return s=c.pointerId,Wi.set(s,Pi(Wi.get(s)||null,e,t,n,l,c)),!0}return!1}function Md(e){var t=he(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=b(n),t!==null){e.blockedOn=t,Fl(e.priority,function(){Sd(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,Fl(e.priority,function(){Sd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function g0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ex(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);tu=l,n.target.dispatchEvent(l),tu=null}else return t=ye(n),t!==null&&_d(t),e.blockedOn=n,!1;t.shift()}return!0}function jd(e,t,n){g0(e)&&n.delete(t)}function fh(){nx=!1,Ul!==null&&g0(Ul)&&(Ul=null),Kl!==null&&g0(Kl)&&(Kl=null),Zl!==null&&g0(Zl)&&(Zl=null),Qi.forEach(jd),Wi.forEach(jd)}function y0(e,t){e.blockedOn===t&&(e.blockedOn=null,nx||(nx=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,fh)))}var p0=null;function zd(e){p0!==e&&(p0=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){p0===e&&(p0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(tx(l||n)===null)continue;break}var s=ye(n);s!==null&&(e.splice(t,3),t-=3,ec(s,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function ti(e){function t(K){return y0(K,e)}Ul!==null&&y0(Ul,e),Kl!==null&&y0(Kl,e),Zl!==null&&y0(Zl,e),Qi.forEach(t),Wi.forEach(t);for(var n=0;n<Xl.length;n++){var l=Xl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Xl.length&&(n=Xl[0],n.blockedOn===null);)Md(n),n.blockedOn===null&&Xl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],s=n[l+1],C=c[Kt]||null;if(typeof s=="function")C||zd(n);else if(C){var E=null;if(s&&s.hasAttribute("formAction")){if(c=s,C=s[Kt]||null)E=C.formAction;else if(tx(c)!==null)continue}else E=C.action;typeof E=="function"?n[l+1]=E:(n.splice(l,3),l-=3),zd(n)}}}function Dd(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(C){return c=C})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function lx(e){this._internalRoot=e}_0.prototype.render=lx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=mn();yd(n,l,e,t,null,null)},_0.prototype.unmount=lx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yd(e.current,2,null,e,null,null),t0(),t[Jt]=null}};function _0(e){this._internalRoot=e}_0.prototype.unstable_scheduleHydration=function(e){if(e){var t=On();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xl.length&&t!==0&&t<Xl[n].priority;n++);Xl.splice(n,0,e),n===0&&Md(e)}};var Nd=i.version;if(Nd!=="19.2.3")throw Error(r(527,Nd,"19.2.3"));T.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var dh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S0.isDisabled&&S0.supportsFiber)try{Rn=S0.inject(dh),Lt=S0}catch{}}return $i.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,l="",c=ko,s=qo,C=Go;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(C=t.onRecoverableError)),t=vd(e,1,!1,null,null,n,l,null,c,s,C,Dd),e[Jt]=t.current,Rc(e),new lx(t)},$i.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var l=!1,c="",s=ko,C=qo,E=Go,K=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(C=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError),n.formState!==void 0&&(K=n.formState)),t=vd(e,1,!0,t,n??null,l,c,K,s,C,E,Dd),t.context=gd(null),n=t.current,l=mn(),l=lt(l),c=Tl(l),c.callback=null,El(n,c,l),n=l,t.current.lanes=n,Ae(t,n),$n(t),e[Jt]=t.current,Rc(e),new _0(t)},$i.version="19.2.3",$i}var Od;function Ch(){if(Od)return rx.exports;Od=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),rx.exports=Sh(),rx.exports}var wh=Ch();const Wl=bn;(function(u,i){const a=bn,r=u();for(;;)try{if(parseInt(a(339))/1*(parseInt(a(342))/2)+-parseInt(a(333))/3+-parseInt(a(355))/4*(parseInt(a(349))/5)+-parseInt(a(345))/6*(-parseInt(a(340))/7)+-parseInt(a(358))/8+-parseInt(a(338))/9+parseInt(a(351))/10*(parseInt(a(352))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(z0,227166);const Mh=(function(){const u={imnUe:function(a,r,o){return a(r,o)},bTUBp:function(a,r){return a!==r},rtkPl:"vamIw"};let i=!0;return function(a,r){const o=bn,f={KFsqT:function(b,g,h){return u[bn(364)](b,g,h)}};if(u.bTUBp(u.rtkPl,u[o(357)])){const b=f.KFsqT(_0x2375a5,_0x99500d,_0x238f08);return b?b.leafIds:[_0x60ea39]}else{const b=i?function(){const g=o;if(r){const h=r[g(344)](a,arguments);return r=null,h}}:function(){};return i=!1,b}}})(),fx=Mh(void 0,function(){const u=bn,i={KkdSD:u(336)};return fx[u(359)]().search(i.KkdSD)[u(359)]().constructor(fx)[u(354)](i[u(360)])});fx();const j0=()=>new Date().toISOString(),It=u=>u+"_"+Math.random()[Wl(359)](36).slice(2,10),we=(u,i,a)=>Math[Wl(353)](i,Math.min(a,u));function bn(u,i){u=u-333;const a=z0();let r=a[u];if(bn.YsQPbY===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};bn.SsFPAk=o,bn.tKZvtz={},bn.YsQPbY=!0}const f=a[0],b=u+f,g=bn.tKZvtz[b];if(g)r=g;else{const h=function(d){this.xAhjEt=d,this.HNDEOZ=[1,0,0],this.yBvEhM=function(){return"newState"},this.OgSogc="\\w+ *\\(\\) *{\\w+ *",this.HlIiiv=`['|"].+['|"];? *}`};h.prototype.lUjliN=function(){const d=new RegExp(this.OgSogc+this.HlIiiv),y=d.test(this.yBvEhM.toString())?--this.HNDEOZ[1]:--this.HNDEOZ[0];return this.nmbmcn(y)},h.prototype.nmbmcn=function(d){return~d?this.UQBToK(this.xAhjEt):d},h.prototype.UQBToK=function(d){for(let y=0,w=this.HNDEOZ.length;y<w;y++)this.HNDEOZ.push(Math.round(Math.random())),w=this.HNDEOZ.length;return d(this.HNDEOZ[0])},new h(bn).lUjliN(),r=bn.SsFPAk(r),bn.tKZvtz[b]=r}return r}const Vl=u=>{const i=Wl;return u==null?u:JSON[i(356)](JSON.stringify(u))},tr=u=>Math[Wl(350)](u*.7/5)*5;function pa(u,i){const a=Wl;return u[a(346)]?u[a(346)][a(341)](r=>r[a(361)].includes(i))??null:null}function jh(u,i){const a=pa(u,i);return a?a.flowerIds:[i]}function ri(u,i){const a=Wl;return u[a(362)]?u[a(362)].find(r=>r[a(348)][a(347)](i))??null:null}function zh(u,i){const a=Wl,r={vuxDO:function(h,d){return h/d}},o=(u.leafGroups??[])[a(341)](h=>h.id===i);if(!o||o[a(348)][a(363)]===0)return{x:0,y:0};const f=o.leafIds[a(335)](h=>(u[a(337)]??[])[a(341)](d=>d.id===h)).filter(h=>!!h);if(f.length===0)return{x:0,y:0};const b=f.reduce((h,d)=>h+d.position.x,0),g=f[a(334)]((h,d)=>h+d.position.y,0);return{x:r[a(343)](b,f.length),y:g/f.length}}function z0(){const u=["Dg9tDhjPBMC","s2TKu0q","zMXVD2vYswrZ","BgvHzKDYB3vWCW","BgvUz3rO","Aw1Uvwu","mta2ody0oeTowNzxAG","CMvKDwnL","BwfW","kcGOlISPkYKRksSK","BgvHDMvZ","mZKZnJKZm1biEurvwa","mxPiv0rAsq","ntu1ndi5zfrwu1D3","zMLUza","ntu0mZGYyLPfwufw","DNv4re8","yxbWBhK","mZb5y2jLzhm","z3jVDxbZ","Aw5JBhvKzxm","BgvHzKLKCW","mJeZodm1qw1bwxbV","zMXVB3i","otbJtvDozg4","mte0mZC0n3vmqLnmEq","Bwf4","C2vHCMnO","mtzNAeDtwNO","CgfYC2u","CNrRugW","mZm0mJy1nLn4vMXKtq"];return z0=function(){return u},z0()}function Hd(u,i){const a=Wl,r={uQUrF:function(f,b,g){return f(b,g)}},o=r.uQUrF(ri,u,i);return o?o[a(348)]:[i]}const D0=tn;(function(u,i){const a=tn,r=u();for(;;)try{if(-parseInt(a(305))/1+parseInt(a(288))/2+parseInt(a(310))/3+-parseInt(a(285))/4*(parseInt(a(292))/5)+parseInt(a(299))/6*(parseInt(a(307))/7)+parseInt(a(306))/8*(-parseInt(a(302))/9)+-parseInt(a(298))/10*(-parseInt(a(315))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(N0,721865);const Dh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=tn;if(a){const f=a[o(300)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),dx=Dh(void 0,function(){const u=tn;return dx.toString().search(u(312))[u(318)]().constructor(dx).search("(((.+)+)+)+$")});dx();const ai=2/3,Id=.6,Nh=.25,Ah=.75;function Ql(u,i,a){const r=tn,o={TCGcv:function(q,k){return q/k},fiXOc:function(q,k){return q<=k},Uwbup:function(q,k){return q<=k},qRnnG:r(319),CTFQd:function(q,k){return q*k},viRXr:function(q,k){return q===k},GvVlC:function(q,k){return q-k},vziXN:function(q,k){return q+k},EQtRV:function(q,k){return q*k},EZIbM:function(q,k){return q*k},CEctZ:function(q,k){return q*k},HEtuF:function(q,k){return q+k},Hhlku:function(q,k){return q<k},COXSW:function(q,k){return q+k},qSBCk:function(q,k){return q/k},IaFNO:function(q,k){return q*k},lPoZI:function(q,k){return q-k}},f=u/2,b=o.TCGcv(i*Math.SQRT2,2);if(o[r(274)](b,0)||o[r(297)](f,0))return{diameter:u,layerCount:1};const g=a?.[r(317)]??o[r(304)],h=a?.sizeStepMm??0,d=o.CTFQd(b,1-ai),y=Math.PI*f/2,w=a?.layerCount??Math[r(279)](1,Math.round(o[r(291)](y,d))),N=o.viRXr(g,"gradual")?i+o.GvVlC(w,1)*h:i,m=N*Math.SQRT2/2,z=o[r(283)](o[r(276)](b,Nh),m*Ah);if(o[r(280)](w,1)){const q=Math[r(296)](Math.PI/2,o.TCGcv(o.EQtRV(m,ai),f)),k=o[r(276)](f,Math[r(278)](q)),R=o[r(284)](o[r(301)](m,Id),Math.sin(q));return{diameter:Math[r(293)](Math.max(u,2*o[r(289)](k,R))),layerCount:w}}let v=o[r(291)](b*ai,f);for(let q=1;o[r(282)](q,w);q++){const k=o.viRXr(g,r(316))?o[r(309)](i,q*h):i,R=o[r(291)](k*Math.SQRT2,2);v+=o.qSBCk(o[r(303)](R,o.lPoZI(1,ai)),f)}v=Math[r(296)](v,Math.PI/2);const p=o.vziXN(f,z*Id)*Math.sin(v),B=Math.max(0,p-f);return{diameter:Math[r(293)](u+2*B),layerCount:w}}function ar(u,i,a="uniform",r=0){const o=tn,f={yhUwi:o(316),bgpxP:function(h,d){return h+d},MnTtx:function(h,d){return h*d},Wuoek:function(h,d){return h/d},fsWCK:function(h,d){return h*d}};if(i<=0||u<=0)return 0;const b=[];for(let h=0;h<i;h++){const d=a===f.yhUwi?f.bgpxP(u,f.MnTtx(h,r)):u;b.push(d*Math.SQRT2/2)}let g=b[0];for(let h=1;h<i;h++)g+=f[o(275)](b[h],3);return Math.round(f.fsWCK(g,2))}function Th(u,i,a=D0(319),r=0){const o=D0,f={cegsV:function(w,N){return w<=N},hIMjL:o(319),mKvrm:function(w,N){return w/N},RyvQD:function(w,N){return w*N},VsaAE:function(w,N){return w-N},RNTHg:function(w,N){return w/N},cFQUo:function(w,N){return w/N}};if(i<=0||f.cegsV(u,0))return 0;const b=u/2,g=Math[o(277)]/2,h=i;if(a===f[o(281)]||r===0){const w=g*(h+2)/3;return Math.max(1,Math.round(f.mKvrm(b,w)))}const d=f.RyvQD(r,f.VsaAE(h,1))*h/6,y=f[o(272)]((f.cFQUo(b,g)-d)*3,h+2);return Math.max(1,Math[o(293)](y))}function N0(){const u=["r2Xbshy","DujfCu0","mtfYyKT2EuO","z3jHzhvHBa","C2L6zu1Vzgu","Dg9tDhjPBMC","Dw5PzM9YBq","AhHhs2y","uK5usgC","zKXUtK4","zMLyt2m","v3vVzwS","q1rguwq","u1fsvdi","C2LU","Bwf4","DMLswhi","AeLnAKW","sgHSA3u","DNPPwe4","rvPjyK0","mZyYndu2EhzVrvPU","EgXQr3a","vhrpsMS","mtiXnJrpAffwtNi","sev0Duy","t0verMW","venhy3y","mZvszuHjteu","CM91BMq","zu9syxe","vhLjB3O","BwLU","vxDIDxa","mJu2nJu2mJb4revHwKu","mZG1ohLMtuj6Eq","yxbWBhK","q0vJDfO","owj6CNb2vq","swfgtK8","CvjUBKC","odKYnJCXrMTiuuvs","nda3nJyZmNPyBNnqrG","nty3y0Htzxr2","rvjyCvC","q09yu1C","ndaXmdu4Aw1cywPH","wK91tvC","kcGOlISPkYKRksSK"];return N0=function(){return u},N0()}function Eh(u,i,a){const r=D0,o={nOCLi:function(g,h){return g<=h},ERXqW:function(g,h,d,y){return g(h,d,y)},dfzdn:function(g,h){return g/h}};if(o.nOCLi(u,i))return 1;let f=1,b=80;for(let g=0;g<30;g++){const h=(f+b)/2,{diameter:d}=o[r(308)](Ql,i,h,a);d<u?f=h:b=h}return Math.max(1,Math[r(293)](o.dfzdn(f+b,2)))}function tn(u,i){u=u-271;const a=N0();let r=a[u];if(tn.qZgLIO===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};tn.SCiihu=o,tn.JBVqOd={},tn.qZgLIO=!0}const f=a[0],b=u+f,g=tn.JBVqOd[b];if(g)r=g;else{const h=function(d){this.ZdpCnH=d,this.xfxlef=[1,0,0],this.Zyijaw=function(){return"newState"},this.FPlCPw="\\w+ *\\(\\) *{\\w+ *",this.AMnqwx=`['|"].+['|"];? *}`};h.prototype.OSSXEn=function(){const d=new RegExp(this.FPlCPw+this.AMnqwx),y=d.test(this.Zyijaw.toString())?--this.xfxlef[1]:--this.xfxlef[0];return this.Hjovsy(y)},h.prototype.Hjovsy=function(d){return~d?this.dkRgBI(this.ZdpCnH):d},h.prototype.dkRgBI=function(d){for(let y=0,w=this.xfxlef.length;y<w;y++)this.xfxlef.push(Math.round(Math.random())),w=this.xfxlef.length;return d(this.xfxlef[0])},new h(tn).OSSXEn(),r=tn.SCiihu(r),tn.JBVqOd[b]=r}return r}function Bh(u,i,a){const r=D0,o={OEDFl:function(N,m){return N/m},eORaq:function(N,m){return N*m},uBEqM:function(N,m){return N<=m},fLnNN:r(319),cqYaT:function(N,m){return N===m},xljGp:function(N,m){return N/m},hxGKf:function(N,m){return N/m},SBduc:function(N,m){return N*m},GlAHv:function(N,m){return N>=m},wxucd:function(N,m){return N<m},ZOuMW:function(N,m){return N-m},TtOJk:function(N,m){return N/m},TyIoz:function(N,m){return N+m}},f=o[r(290)](u,2),b=o[r(294)](i,Math.SQRT2)/2;if(o[r(314)](b,0)||o.uBEqM(f,0))return 1;const g=a?.[r(317)]??"uniform",h=a?.sizeStepMm??0,d=Math.PI/2;if(g===o[r(273)]||o.cqYaT(h,0)){const N=o.xljGp(b,3),m=Math.PI*f/2;return Math.max(1,Math[r(293)](o[r(286)](m,N)))}let y=o[r(271)](o.SBduc(b,ai),f);if(o[r(313)](y,d))return 1;let w=1;for(let N=1;o.wxucd(N,100);N++){const m=i+N*h,z=o.OEDFl(m*Math.SQRT2,2),v=o[r(271)](z*o[r(311)](1,ai),f);if(y+=v,y>d+o[r(287)](v,2))break;w=o[r(295)](N,1)}return Math[r(279)](1,w)}const tl=kn;(function(u,i){const a=kn,r=u();for(;;)try{if(-parseInt(a(459))/1+-parseInt(a(486))/2*(-parseInt(a(473))/3)+-parseInt(a(442))/4+-parseInt(a(485))/5+-parseInt(a(455))/6+-parseInt(a(477))/7*(parseInt(a(497))/8)+parseInt(a(503))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(A0,183268);function A0(){const u=["ze9lq0y","zuvTyMq","vufkwgW","B2n6qLe","yNvYB28","sejNEhC","mti5vgPtvvbt","y29Z","Bvzkwe4","B3jKzxi","mJaYodG4Avfqy2Xv","vg1luLe","yu9fAfe","DeD6Aeu","qNjdALO","yxbWBhK","C2vHCMnO","kcGOlISPkYKRksSK","mtm5ndu1mhjzDhP6Cq","mZi2ofPkEKHYta","ywL2uvm","BgvUz3rO","AerhCe4","rwDoA3q","CMX5ExO","EuHxtKi","qNftB2e","ywjZ","vePRyLG","zePLz3y","odbxzfLcvMu","yKjru0W","BffiAge","Bwf4","AfHHvvi","BNbju0y","mtqXndiXmdvQqKnpyK0","yvn2CgK","zwDuvLq","whj0sNu","sNH5zKS","C2LU","r0DxEgO","zMXVB3i","z0vQDgO","uLDvBKe","wgjeExq","DhHnwK0","sgLyseO","mta0otmWogLcv2PNCa","q01tzha","t0rqz3e","B09xCw0","zxvhyKu","t1n1C2O","zMLUza","qu9mrLG","CgPWyM8","5yMJ44gK44g+44g/","Dg9gAxHLza","C2nHBgu","uMXZwxi","mtC1mJG3mejuCMvmsa","zLfurK8","CM91BMq","qw13vw8","mZm1mte3sNbKD09h","5y2k44gp44gz","DK1ZwMu","CMfKAxvZ","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","ChvZAa","AM9PBG","qMDLr3e"];return A0=function(){return u},A0()}const Lh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=kn;if(a){const f=a[o(482)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),hx=Lh(void 0,function(){const u=kn,i={vMsZe:u(484)};return hx.toString()[u(483)](i[u(461)]).toString().constructor(hx)[u(483)](i[u(461)])});hx();const ur=.28,Yd={:tl(463),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function mx(u){const i=tl,a={egTVT:function(r,o){return r===o},BrCjZ:i(451),dOKCF:""};return a[i(505)](u,i(451))?Yd[a[i(481)]]:Yd[a[i(467)]]}function _a(u){return u*Math.PI/180}const un=2.7;function Yt(u){const i=tl,a={oOWqm:function(b,g){return b*g},mVJXN:function(b,g){return b/g}},r=a[i(445)](u,Math.SQRT2)/2,o=r*un,f=a[i(475)](o,2);return{length:o,width:f}}function kh(u){return{lFAXy:function(a,r){return a/r}}.lFAXy(u*un,2)}function nr(u,i,a){const r=tl,o={tdPZm:function(d,y){return d(y)},ikKcd:function(d,y){return d*y},gEjtj:function(d,y){return d/y}},{length:f}=o.tdPZm(Yt,a),b=f*i,g=Math.max(0,u-o.ikKcd(b,ur)),h=g+b;return o[r(511)](h*2,un)}function qh(u,i,a){const r=tl,o={BqSoa:function(h,d){return h*d},TbWQr:function(h,d){return h/d},AmwUo:function(h,d){return h-d},npISF:function(h,d){return h*d},hHeAM:function(h,d){return h-d}},{length:f}=Yt(a),b=o[r(493)](f,i),g=o.TbWQr(u*un,2);return Math[r(500)](2,o[r(458)](g,o[r(502)](b,o.hHeAM(1,ur))))}function el(u,i,a){const r=tl,o={CamnX:function(y,w){return y<=w},PSTsB:function(y,w){return y??w},buroo:function(y,w){return y/w},aOEhQ:function(y,w){return y<w},IRRBM:function(y,w){return y%w},JxyfK:function(y,w){return y+w},UnIbS:function(y,w){return y*w},pjpbo:function(y,w){return y-w},DFonj:function(y,w){return y>w},BlguL:function(y,w){return y/w}};if(!u||o.CamnX(u,0)||!a||o.CamnX(a,0))return o.PSTsB(i,0);const f=o.buroo(360,u),b=360/a,g=[];for(let y=0;o.aOEhQ(y,u);y++)g[r(464)](o.IRRBM(o.JxyfK(o[r(507)](i,y*f)%360,360),360));let h=o.JxyfK(i,f/2),d=-1;for(let y=0;o[r(479)](y,u);y++){const w=o[r(507)](i+o.UnIbS(y,f),o[r(471)](f,2));let N=1/0;for(let m=0;o.aOEhQ(m,a);m++){const z=(o.IRRBM(w+m*b,360)+360)%360;for(const v of g){let p=Math[r(494)](o[r(450)](z,v));o.DFonj(p,180)&&(p=o[r(450)](360,p)),p<N&&(N=p)}}o.DFonj(N,d)&&(d=N,h=w)}return o.BlguL(Math[r(457)](h*10),10)}function kn(u,i){u=u-442;const a=A0();let r=a[u];if(kn.oVTTJB===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};kn.EhEust=o,kn.vFeXQx={},kn.oVTTJB=!0}const f=a[0],b=u+f,g=kn.vFeXQx[b];if(g)r=g;else{const h=function(d){this.uuzjHP=d,this.xPRSVH=[1,0,0],this.OKUsJY=function(){return"newState"},this.jZGMAq="\\w+ *\\(\\) *{\\w+ *",this.nQtdeI=`['|"].+['|"];? *}`};h.prototype.kBZHBA=function(){const d=new RegExp(this.jZGMAq+this.nQtdeI),y=d.test(this.OKUsJY.toString())?--this.xPRSVH[1]:--this.xPRSVH[0];return this.KCGYFk(y)},h.prototype.KCGYFk=function(d){return~d?this.NKDDsH(this.uuzjHP):d},h.prototype.NKDDsH=function(d){for(let y=0,w=this.xPRSVH.length;y<w;y++)this.xPRSVH.push(Math.round(Math.random())),w=this.xPRSVH.length;return d(this.xPRSVH[0])},new h(kn).kBZHBA(),r=kn.EhEust(r),kn.vFeXQx[b]=r}return r}function V0(u,i,a){const r=tl,o={RWUnA:function(m,z){return m===z},RlsYr:function(m,z){return m*z},tGzhE:function(m,z){return m*z},kghfK:function(m,z){return m/z},ZBMbZ:function(m,z){return m/z},Iwkum:function(m,z){return m/z},XbDyt:function(m,z,v){return m(z,v)}};if(o[r(512)](u.length,0))return;const{length:f}=Yt(i),b=u[0],g=b[r(453)]??1,h=o[r(454)](f,g),d=Math.max(0,b[r(462)]-o.tGzhE(h,ur)),y=d+h;if(y<=0)return;const w=o.kghfK(o.tGzhE(a,un),2),N=o.ZBMbZ(w,y);for(const m of u)m[r(462)]=Math.max(2,o.Iwkum(Math.round(o[r(480)](m.radius*N,10)),10)),m[r(453)]=Math.round(o.RlsYr(o[r(454)](m.scale??1,N),100))/100;o[r(513)](bx,u,i)}function bx(u,i){const a=tl,r={aSvpi:function(h,d){return h*d}};if(u[a(488)]===0)return;const o=u[u[a(488)]-1],{length:f}=Yt(i),b=f*(o[a(453)]??1),g=Math[a(510)](r[a(504)](b*ur,10))/10;o.radius>g&&(o[a(462)]=g)}function Gh(u,i,a,r){const o=tl,f={XrtJu:function(N,m){return N<=m},HzFQn:function(N,m){return N<=m},FhuMf:function(N,m){return N*m},ODPgq:function(N,m){return N/m},ikDUG:function(N,m){return N+m},fQTFO:function(N,m){return N*m},txMZM:function(N,m){return N*m},TJkbX:function(N,m){return N*m},BJzwF:function(N,m){return N*m},yHWNB:function(N,m){return N===m},UAJXl:function(N,m){return N===m},MMbgF:function(N,m){return N(m)},eEmbd:function(N,m){return N-m},HiXHJ:function(N,m){return N===m},RAiix:o(460),pXgxr:function(N,m){return N>m},rlyyz:function(N,m){return N/m},TmKRQ:o(449),bHZfB:function(N,m){return N/m},CsHHd:function(N,m){return N*m},FQggm:function(N,m){return N+m},EjRxF:function(N,m,z,v){return N(m,z,v)}};if(f[o(469)](u.length,0))return;const b=[...u].sort((N,m)=>m[o(476)]-N[o(476)]),{length:g}=f.MMbgF(Yt,i),h=b.length,d=b[0][o(453)]??1,y=g*d;b[0][o(462)]=Math.floor(y*ur*10)/10;for(let N=1;N<h;N++){const m=b[f[o(468)](N,1)],z=g*(m.scale??1);let v;if(f[o(515)](a,f.RAiix)){const B=f[o(456)](70,Math.PI)/180,H=f.pXgxr(h,1)?N/f.eEmbd(h,1)*B:0;v=f.BJzwF(z*f[o(491)](30,100),Math[o(474)](H))}else if(f[o(478)]!=="kNMpL")v=f.bHZfB(z,3);else{if(!_0x3e6911||aKMOIa[o(506)](_0x2c0e3b,0)||aKMOIa.HzFQn(_0x1f07e7,0))return"";const p=[];for(let B=0;B<_0x203302;B++){const H=aKMOIa.FhuMf(B/_0x5833e3,2)*_0x34058d.PI,q=aKMOIa[o(444)](B+.5,_0x57b9a4)*2*_0x105c7a.PI,k=aKMOIa.FhuMf(aKMOIa.ikDUG(B,1)/_0x46132c*2,_0x173c6.PI),R=_0x280064[o(474)](H)*_0x430f8c,V=_0x507522.sin(H)*_0x46efd1,L=aKMOIa.fQTFO(_0x4dd633[o(474)](q),_0x228486),Z=aKMOIa[o(514)](_0xffac87.sin(q),_0x313af4),F=aKMOIa[o(495)](_0xec509c[o(474)](k),_0xc4f87c),W=aKMOIa.BJzwF(_0x25cf33[o(508)](k),_0x879764);aKMOIa[o(492)](B,0)&&p[o(464)]("M "+R.toFixed(2)+" "+V[o(452)](2)),p.push("Q "+L.toFixed(2)+" "+Z[o(452)](2)+" "+F[o(452)](2)+" "+W.toFixed(2))}return p.push("Z"),p.join(" ")}b[N].radius=f.bHZfB(Math.round(f.CsHHd(f.FQggm(m[o(462)],v),10)),10)}const w=[...u].sort((N,m)=>N[o(476)]-m.order);f.EjRxF(V0,w,i,r);for(const N of w){const m=u[o(448)](z=>z.id===N.id);m&&(m.radius=N[o(462)],m[o(453)]=N[o(453)])}}function ui(u){const i=tl,a={bBQSL:function(h,d){return h(d)},OSusj:function(h,d){return h/d},HBgxw:function(h,d){return h/d},BgRkX:function(h,d){return h*d},YxNrl:function(h,d){return h*d}},r=360/u,o=Math[i(508)](a[i(498)](_a,a[i(447)](r,2)))*2,f=.96,b=1.2,g=a[i(472)](a.BgRkX(o,b),f);return Math.round(a.YxNrl(Math.max(.3,Math.min(3,g)),100))/100}function T0(){const u=["uLbXr2e","tvzRs1C","y29UC3rYDwn0B3i","C0v3Ahm","uhD0A2G","Bgf5","zxHSuvi","yMfQrK0","CMfKAxvZ","CurNEgq","y29Sx3b1CNbSzq","rhPRsxK","q2vUDgvY","sNn4BeS","r05suhG","B0zTwK4","BhLit3m","zK1Lz3C","Awnft1a","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","sNjOCgO","sM5Zruq","EfzKrwu","B3jKzxi","iZHcnuuZqW","BwfW","ELrZyNa","odC1mKTLCgr3vq","nvf0CxvRAq","ChjQ","zuvOz1a","mZy1nZe5mffezxLRzG","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","r0LyuLO","nJK1otr2r1bYtvm","5y2k44gp44gz","zNzIs0O","C2nHBgu","y29Sx3LLBgXVDW","Avvzsgy","AgnSswC","mtm0mJaXmxj3vuHhrG","D1LxugS","t3v0zxi","qvjpqum","Cg9ZAxrPB24","Dg9tDhjPBMC","i0y1rJvgnq","otu1ntK2AhD6yNfk","i0q0qtG0mW","mtC1Egfzqxzg","y29Sx2XPz2H0yMX1zq","5lI444gK44g+44g/","B2zMC2v0qw5NBgu","y29Sx2rHCMTNCMvLBG","iZfbn0eZqq","vhrJAfq","ALrJteC","ruPqC1m","tMHyB1q","y29Sx2DYzwvU","CxPxtuu","Cgv0ywXdB3vUDa","zMX3","yMLoEhm","A1bqwfi","zvDWwLO","ChjVAG","y29Sx3DOAxrL","y29Sx2nYzwfT","CwLTshC","DKvVuuu","sK5HqKG","yuf4CgK","rMXVD2vYide","mJeXmJzyu3v3rei","mtu1ndGWnLzZtMnSuG","qNjXu2e","oezOsK5dBG","ANjpsK8","Du9iCuu","tgzfvfK","AfHKwvO","y29Sx3jLza","AKTPDNy","oundAMrABW","Bgf5zxjZ","y29Sx29Yyw5Nzq","D3HIDgK","C29YDa","D210ufa","y29Sx2DVBgq","i0zerJvdoq","ENvkz2G","i0uWndu3qG","BMfTzq","mJrgreDPs1e","y29Sx3nPBhzLCG"];return T0=function(){return u},T0()}(function(u,i){const a=vn,r=u();for(;;)try{if(-parseInt(a(515))/1*(-parseInt(a(492))/2)+-parseInt(a(506))/3+parseInt(a(513))/4+parseInt(a(493))/5*(-parseInt(a(442))/6)+parseInt(a(499))/7*(parseInt(a(445))/8)+-parseInt(a(452))/9*(parseInt(a(496))/10)+parseInt(a(443))/11*(parseInt(a(463))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(T0,480756);const Rh=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),vx=Rh(void 0,function(){const u=vn,i={qDgxd:"(((.+)+)+)+$"};return vx.toString().search(i.qDgxd)[u(511)]()[u(467)](vx).search(i[u(474)])});vx();function vn(u,i){u=u-422;const a=T0();let r=a[u];if(vn.IETkaL===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};vn.RRkIes=o,vn.AEIHkm={},vn.IETkaL=!0}const f=a[0],b=u+f,g=vn.AEIHkm[b];if(g)r=g;else{const h=function(d){this.LDfrPe=d,this.aIrHDL=[1,0,0],this.QfMtXl=function(){return"newState"},this.QfFMpN="\\w+ *\\(\\) *{\\w+ *",this.VVDhUk=`['|"].+['|"];? *}`};h.prototype.zZDIEt=function(){const d=new RegExp(this.QfFMpN+this.VVDhUk),y=d.test(this.QfMtXl.toString())?--this.aIrHDL[1]:--this.aIrHDL[0];return this.npasIQ(y)},h.prototype.npasIQ=function(d){return~d?this.cNXpCM(this.LDfrPe):d},h.prototype.cNXpCM=function(d){for(let y=0,w=this.aIrHDL.length;y<w;y++)this.aIrHDL.push(Math.round(Math.random())),w=this.aIrHDL.length;return d(this.aIrHDL[0])},new h(vn).zZDIEt(),r=vn.RRkIes(r),vn.AEIHkm[b]=r}return r}function Qd(){const u=vn,i={vQZhT:u(435),YVBLz:u(512),ewrhJ:"#E34850",AROAC:"col_pink",NESRw:"#F08CB6",xVdEe:"col_hotpink",tumuu:u(461),biNxs:"#F08A3B",eWpZZ:u(503),Pwtkh:"col_lightyellow",iUYHf:u(459),HhQoF:"col_green",uXNdI:"#2FBF4A",tdcOO:u(519),eEhgP:"col_blue",hclIg:"#2C3E6B",GIXRZ:u(475),TeBAk:"col_lavender",drlFj:u(458),sEwhs:u(514),HyDGD:u(464),bajFM:"#C0C0C0",URsmk:u(436),jrOJO:"#F5E6CC",LeSsV:"col_brown",jqdWV:u(489),JNaBH:"#333333",JkMko:"#F08080"};return[{id:i.vQZhT,name:"",hex:i.YVBLz},{id:"col_red",name:"",hex:i.ewrhJ},{id:i[u(509)],name:"",hex:i.NESRw},{id:i[u(487)],name:"",hex:i.tumuu},{id:u(454),name:"",hex:i[u(431)]},{id:i[u(433)],name:"",hex:"#F2D04B"},{id:i[u(469)],name:"",hex:i[u(504)]},{id:i.HhQoF,name:"",hex:i.uXNdI},{id:i.tdcOO,name:"",hex:u(422)},{id:u(516),name:"",hex:"#7EC8E3"},{id:i[u(495)],name:"",hex:"#3B7DD8"},{id:"col_navy",name:"",hex:i[u(505)]},{id:i[u(498)],name:"",hex:"#9B59B6"},{id:i.TeBAk,name:"",hex:"#C8A2D4"},{id:i.drlFj,name:"",hex:i[u(468)]},{id:i.HyDGD,name:"",hex:i[u(472)]},{id:i.URsmk,name:"",hex:i[u(446)]},{id:i.LeSsV,name:"",hex:i.jqdWV},{id:"col_black",name:"",hex:i[u(439)]},{id:"col_coral",name:"",hex:i.JkMko}]}function Oh({title:u,fabricSquareSize:i,baseDiameter:a}={}){const r=vn,o={wxbti:function(g){return g()},wYWPk:function(g){return g()},LQTBZ:function(g,h){return g(h)},Jrhpj:function(g,h){return g??h},wWljr:""},f=o[r(455)](j0),b=o[r(507)](Qd);return o.LQTBZ(ya,{id:It(r(494)),title:o[r(485)](u,o.wWljr),unit:"mm",fabricSquareSize:o[r(485)](i,20),baseDiameter:a??30,notes:"",createdAt:f,updatedAt:f,palette:b,flowers:[]})}function Hh(u,i){const a=vn,r={icEOP:function(g,h){return g(h)},nxyDG:function(g,h){return g+h}},o=r[a(483)](Vl,u);o.id=r.icEOP(It,a(430)),o.name=u[a(462)]+" Copy";const f=i?.x??12,b=i?.y??12;return o.position={x:r.nxyDG(u.position?.x??0,f),y:(u[a(510)]?.y??0)+b},o.layers=(o.layers||[])[a(490)](g=>({...g,id:It(a(470)),petalOverrides:g.petalOverrides?g.petalOverrides[a(490)](h=>({...h})):void 0})),o}(function(u,i){const a=gn,r=u();for(;;)try{if(-parseInt(a(593))/1*(-parseInt(a(571))/2)+parseInt(a(569))/3*(parseInt(a(523))/4)+-parseInt(a(544))/5*(parseInt(a(487))/6)+parseInt(a(553))/7*(parseInt(a(567))/8)+-parseInt(a(488))/9*(parseInt(a(500))/10)+parseInt(a(575))/11*(-parseInt(a(572))/12)+parseInt(a(589))/13*(parseInt(a(516))/14)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(E0,433029);const Ih=(function(){const u={JOEUR:function(a,r){return a===r},BNjML:"BgKPV"};let i=!0;return function(a,r){const o=i?function(){const f=gn;if(r)if(u.JOEUR(u[f(548)],u[f(548)])){const b=r.apply(a,arguments);return r=null,b}else delete _0x182864.doublePetal[f(528)]}:function(){};return i=!1,o}})(),gx=Ih(void 0,function(){const u=gn,i={rUAjc:"(((.+)+)+)+$"};return gx.toString()[u(545)](i[u(477)]).toString().constructor(gx)[u(545)](u(514))});gx();function gn(u,i){u=u-477;const a=E0();let r=a[u];if(gn.VFBxof===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};gn.cNFEfo=o,gn.VLZlBg={},gn.VFBxof=!0}const f=a[0],b=u+f,g=gn.VLZlBg[b];if(g)r=g;else{const h=function(d){this.WbELMA=d,this.BHSeVa=[1,0,0],this.ZwnULy=function(){return"newState"},this.ELQGbz="\\w+ *\\(\\) *{\\w+ *",this.ThSKif=`['|"].+['|"];? *}`};h.prototype.cdiSrQ=function(){const d=new RegExp(this.ELQGbz+this.ThSKif),y=d.test(this.ZwnULy.toString())?--this.BHSeVa[1]:--this.BHSeVa[0];return this.YLqoyR(y)},h.prototype.YLqoyR=function(d){return~d?this.MtoMWK(this.WbELMA):d},h.prototype.MtoMWK=function(d){for(let y=0,w=this.BHSeVa.length;y<w;y++)this.BHSeVa.push(Math.round(Math.random())),w=this.BHSeVa.length;return d(this.BHSeVa[0])},new h(gn).cdiSrQ(),r=gn.cNFEfo(r),gn.VLZlBg[b]=r}return r}function sx(u){const i=gn,a={hwlUL:function(r,o){return r===o},KLqTq:"maru",VzZGN:function(r,o){return r===o},ynBQa:"ken",ElRaH:"",fJMYF:"",KjNOo:function(r,o){return r===o}};return a[i(503)](u,a[i(512)])?"":a.VzZGN(u,a.ynBQa)?a.ElRaH:a.VzZGN(u,a[i(482)])||a[i(481)](u,a.ElRaH)?u:""}function ya(u){const i=gn,a={sxKYg:function(f,b){return f===b},mixkZ:function(f,b,g,h){return f(b,g,h)},GeJAn:function(f,b){return f!==b},NPjyR:"",fmYdz:i(485),Pogtf:i(483),sfseY:function(f,b,g,h){return f(b,g,h)},lTwlO:function(f,b){return f!==b},vqlQo:function(f,b){return f(b)},TSpWJ:function(f,b){return f(b)},MjQxM:"flw",pZZjl:i(502),gdwuf:function(f,b){return f(b)},sZfbe:i(543),jLJLO:function(f,b){return f==b},wQGln:function(f,b){return f-b},yKCpz:function(f,b,g,h){return f(b,g,h)},WOduR:function(f,b){return f(b)},tMKqY:function(f,b){return f!==b},BHUBk:function(f,b){return f!=b},LxUWo:i(578),ESafh:"",dXUqf:"",ccxmH:"",qTXYz:function(f,b){return f!==b},vZmXx:i(510),mJbuJ:function(f,b){return f!==b},zxxqr:function(f,b){return f!==b},YzUHm:"ewKzu",pbgxm:function(f){return f()},Wvhws:function(f,b){return f(b)},wUOTK:i(573),nMbaw:"",QNYHV:"rOxDa",GZuTl:i(493),uCVhY:i(566),cTBEq:i(554),byenN:i(584),leBmV:function(f,b){return f!=b},vrFAR:function(f,b){return f!==b},HaRMu:"YTdlE",FgCFo:"adult",ewBIQ:i(559),wGcdo:"left"},r=a[i(486)](Vl,u||{});Array.isArray(r.flowers)||(r.flowers=[]);for(const f of r.flowers){f.id||(f.id=a.TSpWJ(It,a[i(591)])),(typeof f.name!==a[i(513)]||!f.name)&&(f.name=a[i(531)]),(!f[i(585)]||!Number[i(552)](f[i(585)].x)||!Number[i(552)](f[i(585)].y))&&(f[i(585)]={x:260,y:260}),Array[i(526)](f[i(579)])||(f.layers=[]);for(const b of f[i(579)]){if(b.id||(b.id=It("lay")),(typeof b[i(577)]!==a[i(513)]||!b[i(577)])&&(b[i(577)]=r.palette?.[0]?.id??i(510)),b[i(484)]=a.TSpWJ(sx,b.petalType),b[i(536)]=we(a[i(556)](Number,b[i(536)]||0),5,24),Number.isFinite(b[i(492)])||(b.scale=1),Number[i(552)](b[i(496)])||(b.widthScale=1),Number.isFinite(b[i(563)])||(b[i(563)]=28),Number.isFinite(b.offsetAngle)||(b[i(576)]=0),delete b._doublePetalCache,b.doublePetal)if(typeof b[i(479)]!==a.sZfbe||a[i(568)](b[i(479)],null))delete b.doublePetal;else{if(b[i(479)][i(490)]!=null&&a.jLJLO(b[i(479)][i(564)],null)){const g=f[i(507)]??r.fabricSquareSize??20;b.doublePetal[i(564)]=Math[i(586)](g*a[i(478)](1,b[i(479)].innerScale))}delete b.doublePetal.innerScale,Number[i(552)](b[i(479)][i(564)])||(b.doublePetal[i(564)]=2),b.doublePetal.innerSizeReduction=a[i(551)](we,b.doublePetal[i(564)],1,30),delete b[i(479)][i(537)],b.doublePetal[i(528)]!=null&&typeof b[i(479)][i(528)]!==a.Pogtf&&delete b.doublePetal[i(528)]}if(Array[i(526)](b[i(491)]))if(a.sxKYg("eibtW",i(498)))typeof _0x43f2dd.doublePetal!==i(543)||a.sxKYg(_0x2094ce[i(479)],null)?delete _0x42af3f.doublePetal:(_0x479842.isFinite(_0x3ae976.doublePetal.innerSizeReduction)||(_0xd6618e[i(479)].innerSizeReduction=2),_0xfd2e35.doublePetal[i(564)]=a[i(580)](_0x3f3c58,_0x15c773[i(479)][i(564)],1,30),_0xf6de92[i(479)][i(528)]!=null&&typeof _0x2910ed[i(479)][i(528)]!==i(483)&&delete _0x2d328e[i(479)].innerColorId);else for(const g of b.petalOverrides)g&&g.petalType!=null&&(g[i(484)]=a[i(530)](sx,g[i(484)])),g&&delete g[i(537)],g&&g.innerColorId!=null&&a[i(561)](typeof g.innerColorId,a.Pogtf)&&delete g.innerColorId,g&&a[i(508)](g.innerSizeReduction,null)&&(Number[i(552)](g.innerSizeReduction)?g.innerSizeReduction=we(g[i(564)],1,30):delete g.innerSizeReduction)}if((!Number[i(552)](f[i(505)])||f[i(505)]<=0)&&(a[i(568)](a.LxUWo,a.LxUWo)?f[i(505)]=60:(_0x223ae3.id||(_0x3cd982.id=_0xdec522("lg")),(a.GeJAn(typeof _0x1d8af9[i(542)],i(483))||!_0x24cf84.name)&&(_0x2753d5.name=a.NPjyR),_0x14c167.isArray(_0x30d4d3.leafIds)||(_0x3227e8.leafIds=[]),_0x2387c0[i(506)]=_0x36bbec.leafIds[i(509)](b=>_0x239489[i(590)](b)),_0x3d07f9[i(552)](_0x163369[i(550)])||(_0x3b388d.rotation=0),_0x2f9d4f[i(562)]!=null&&((_0x4efd7f[i(570)]??[]).some(g=>g.id===_0x41f123.linkedFlowerGroupId)||delete _0x354867.linkedFlowerGroupId))),f.center&&(a[i(568)](f.center[i(529)],a.ESafh)&&(f[i(499)][i(529)]=""),[a.dXUqf,"",a.ccxmH][i(527)](f.center.type)||(f.center[i(529)]=""),Number.isFinite(f.center.size)||(f[i(499)].size=6),f[i(499)][i(534)]=we(f.center[i(534)],1,30),(a.qTXYz(typeof f[i(499)][i(517)],i(483))||!f[i(499)][i(517)])&&(f.center[i(517)]=r.palette?.[0]?.id??a[i(511)]),f[i(499)].type===a[i(560)]&&(a[i(539)](i(497),"FInbj")?(Number[i(552)](f[i(499)][i(522)])||(f[i(499)].pepCount=12),f[i(499)].pepCount=a.sfseY(we,f[i(499)][i(522)],4,30)):delete _0x4eb572.center.color2),a.GeJAn(f[i(499)].type,"")&&delete f[i(499)][i(520)]),a[i(594)](f.placementMode,i(555))&&a[i(539)](f[i(596)],"")&&(f[i(596)]=""),f.baseDiameter!==void 0)if(a.YzUHm!=="ewKzu"){const b=new _0x3182f8(_0x3f709a.flowers.map(g=>g.id));for(const g of _0x4c4080.groups)_0x54e632.isArray(g.flowerIds)||(g.flowerIds=[]),g.flowerIds=g[i(549)][i(509)](h=>b.has(h)),g.id||(g.id=_0x5e43c9(a[i(501)])),(typeof g[i(542)]!==a.Pogtf||!g.name)&&(g[i(542)]="");_0x2f633d[i(570)]=_0x2491ac.groups.filter(g=>g.flowerIds&&g.flowerIds.length>0)}else(!Number[i(552)](f.baseDiameter)||f[i(565)]<=0)&&delete f.baseDiameter}Array.isArray(r.palette)||(r[i(518)]=[]);const o=new Set(r[i(518)][i(489)](f=>f.id));for(const f of Qd())o[i(590)](f.id)||r.palette.push(f);r.createdAt||(r[i(557)]=a.pbgxm(j0)),r.updatedAt||(r[i(558)]=r[i(557)]),r.id||(r.id=a[i(581)](It,a.wUOTK)),r.title||(r[i(583)]=""),r.unit="mm",Number.isFinite(r[i(507)])||(r[i(507)]=20),(!Number.isFinite(r.baseDiameter)||r[i(565)]<=0)&&(r[i(565)]=30),a.GeJAn(typeof r[i(504)],"string")&&(r.notes=""),Array[i(526)](r[i(570)])||(r.groups=[]);{const f=new Set(r.flowers[i(489)](b=>b.id));for(const b of r.groups)Array[i(526)](b[i(549)])||(b.flowerIds=[]),b[i(549)]=b[i(549)].filter(g=>f[i(590)](g)),b.id||(b.id=a[i(530)](It,i(485))),(a.tMKqY(typeof b[i(542)],a.Pogtf)||!b[i(542)])&&(b.name=a[i(540)]);r.groups=r[i(570)][i(509)](b=>b.flowerIds&&b[i(549)].length>0)}Array[i(526)](r.leaves)||(r[i(495)]=[]);for(const f of r.leaves)a.QNYHV!=="rOxDa"?(_0x252150[i(570)]??[])[i(480)](g=>g.id===_0x56122d[i(562)])||delete _0x200b2b[i(562)]:(f.id||(f.id=It("leaf")),(typeof f[i(542)]!="string"||!f.name)&&(f.name=i(525)),(!f[i(585)]||!Number[i(552)](f.position.x)||!Number[i(552)](f.position.y))&&(f.position={x:675,y:675}),Number.isFinite(f[i(550)])||(f.rotation=0),f[i(484)]=sx(f.petalType),(a.qTXYz(typeof f[i(577)],i(483))||!f[i(577)])&&(f.colorId=r[i(518)]?.[0]?.id??a.GZuTl),Number[i(552)](f.scale)||(f[i(492)]=1),Number.isFinite(f[i(496)])||(f.widthScale=1),typeof f.visible!==a[i(546)]&&(f.visible=!0),a[i(539)](typeof f[i(538)],"boolean")&&(f.locked=!1),delete f[i(595)],f[i(479)]&&(typeof f[i(479)]!="object"||a.sxKYg(f.doublePetal,null)?delete f[i(479)]:(Number.isFinite(f[i(479)][i(564)])||(f.doublePetal[i(564)]=2),f[i(479)][i(564)]=we(f.doublePetal.innerSizeReduction,1,30),f[i(479)].innerColorId!=null&&typeof f.doublePetal[i(528)]!==i(483)&&(i(524)===a[i(547)]?_0x171f90[i(577)]=_0x1d2f61[i(518)]?.[0]?.id??i(493):delete f.doublePetal.innerColorId))));if(Array.isArray(r.leafGroups)||(r[i(515)]=[]),i(584)!==a.byenN)_0x862b6a.flowerDiameter=60;else{const f=new Set(r.leaves.map(b=>b.id));for(const b of r[i(515)])b.id||(b.id=It("lg")),(a[i(561)](typeof b.name,"string")||!b[i(542)])&&(b[i(542)]=i(588)),Array.isArray(b[i(506)])||(b[i(506)]=[]),b.leafIds=b[i(506)].filter(g=>f[i(590)](g)),Number[i(552)](b.rotation)||(b.rotation=0),a.leBmV(b[i(562)],null)&&((r.groups??[]).some(h=>h.id===b.linkedFlowerGroupId)||delete b[i(562)]);r[i(515)]=r.leafGroups[i(509)](b=>b[i(506)]&&b.leafIds.length>0)}if(Array[i(526)](r[i(533)]))if(a[i(587)](a[i(592)],i(519))){const f=[a.FgCFo,a.ewBIQ],b=[i(532),a[i(494)],i(582)];r.stencils=r[i(533)][i(509)](g=>g&&typeof g.id===i(483)&&f[i(527)](g[i(574)])&&b.includes(g[i(521)])&&g.position&&Number.isFinite(g.position.x)&&Number[i(552)](g[i(585)].y))}else _0x25e886[i(552)](_0x3362c6.doublePetal.innerSizeReduction)||(_0x198185.doublePetal[i(564)]=2),_0x280873.doublePetal[i(564)]=a[i(541)](_0x253646,_0x4dbbdd.doublePetal[i(564)],1,30),_0x3948c3[i(479)].innerColorId!=null&&a[i(535)](typeof _0x39f74e.doublePetal.innerColorId,i(483))&&delete _0x59c6ff[i(479)].innerColorId;return Number[i(552)](r.version)||(r.version=1),r}function E0(){const u=["mtm5nJCXovLIExjjvW","BwfW","Aw5Uzxjty2fSzq","Cgv0ywXpDMvYCMLKzxm","C2nHBgu","y29Sx2DYzwvU","D0DJzg8","BgvHDMvZ","D2LKDgHty2fSzq","qwrlsfC","Cvr1zu4","y2vUDgvY","ndbSy2ncs0G","zM1zzhO","rMXVD2vY","AhDSvuW","BM90zxm","zMXVD2vYrgLHBwv0zxi","BgvHzKLKCW","zMfICMLJu3f1yxjLu2L6zq","qKHvqMS","zMLSDgvY","y29Sx3DOAxrL","DLPTwhG","s0XXvhe","ug9NDgy","kcGOlISPkYKRksSK","BgvHzKDYB3vWCW","mtr6vfHbAw4","y29SB3i","CgfSzxr0zq","q1v4yNC","y29SB3iY","Cg9Zzq","CgvWq291BNq","ndrNufzqwMG","AeruA3G","tgvHzG","AxnbCNjHEq","Aw5JBhvKzxm","Aw5UzxjdB2XVCKLK","DhLWzq","v09KDvi","CfPAAMW","CMLNAhq","C3rLBMnPBhm","C2L6zq","Bfr3Be8","Cgv0ywXdB3vUDa","Aw5UzxjqzxrHBfr5Cgu","Bg9JA2vK","BuPIDuO","BK1IyxC","C2zZzvK","BMfTzq","B2jQzwn0","nvfmqLLIwa","C2vHCMnO","DunwAfK","y1rcrxe","qK5QtuW","zMXVD2vYswrZ","CM90yxrPB24","EuTdChO","AxngAw5PDgu","mte2ndu5EMnSCgTi","s1zdDKu","5y2k44gp44gz","z2r3Dwy","y3jLyxrLzef0","DxbKyxrLzef0","y2HPBgq","y2n4BuG","De1lCvK","BgLUA2vKrMXVD2vYr3jVDxbjza","CMfKAxvZ","Aw5UzxjtAxPLuMvKDwn0Aw9U","yMfZzurPyw1LDgvY","yM9VBgvHBG","mteYrNveswnu","C3HlwwC","mtCWmtKZrMj5Cu1y","z3jVDxbZ","mtq1mhrRzxPeyq","mJa0tvbHwgDV","ChjVAG","DMfYAwfUDa","mZK1otG5z0jpruXh","B2zMC2v0qw5NBgu","y29SB3jjza","wNL4Bwm","Bgf5zxjZ","BwL4A1O","v3zOD3m","yMfJAW","DgL0Bgu","rgnczeW","Cg9ZAxrPB24","CM91BMq","DNjgqvi","6jgj44kW44oR44o844ox","mtG0nJKZndDpq1DczLC","AgfZ","twPrEe0","sgfstxu","mJvSELHtAhe","ENH4Cxi","x2rVDwjSzvbLDgfSq2fJAgu","CgXHy2vTzw50tw9Kzq","CLvbAMm","D1fhBg4","zg91yMXLugv0ywW","C29Tzq","s2Pot28","zKPnwuy","C3rYAw5N","Cgv0ywXuExbL","z3jW","DNfSuw8","mZC4mde2mMDWrg5wAq"];return E0=function(){return u},E0()}const yx=qn;(function(u,i){const a=qn,r=u();for(;;)try{if(parseInt(a(124))/1+-parseInt(a(132))/2+parseInt(a(127))/3*(parseInt(a(133))/4)+-parseInt(a(123))/5+parseInt(a(129))/6+parseInt(a(130))/7*(-parseInt(a(125))/8)+-parseInt(a(122))/9*(-parseInt(a(137))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(B0,260974);function qn(u,i){u=u-119;const a=B0();let r=a[u];if(qn.GEskGY===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};qn.tIjiuL=o,qn.OYziBD={},qn.GEskGY=!0}const f=a[0],b=u+f,g=qn.OYziBD[b];if(g)r=g;else{const h=function(d){this.yOiRrG=d,this.FmiBOd=[1,0,0],this.mpNOZK=function(){return"newState"},this.Fceafw="\\w+ *\\(\\) *{\\w+ *",this.hMlrCB=`['|"].+['|"];? *}`};h.prototype.aiHJIh=function(){const d=new RegExp(this.Fceafw+this.hMlrCB),y=d.test(this.mpNOZK.toString())?--this.FmiBOd[1]:--this.FmiBOd[0];return this.EFBrTT(y)},h.prototype.EFBrTT=function(d){return~d?this.arCpIh(this.yOiRrG):d},h.prototype.arCpIh=function(d){for(let y=0,w=this.FmiBOd.length;y<w;y++)this.FmiBOd.push(Math.round(Math.random())),w=this.FmiBOd.length;return d(this.FmiBOd[0])},new h(qn).aiHJIh(),r=qn.tIjiuL(r),qn.OYziBD[b]=r}return r}const Yh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=qn;if(a){const f=a[o(119)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),px=Yh(void 0,function(){const u=qn,i={VpYsa:u(136)};return px.toString().search(i[u(128)])[u(134)]()[u(135)](px)[u(131)](i.VpYsa)});px();function B0(){const u=["otm3nJC4zxvRv3LA","nhrlCgDIDa","Dg9tDhjPBMC","y29UC3rYDwn0B3i","kcGOlISPkYKRksSK","nJK1mZKWCwDMrvDs","yxbWBhK","44or44o844oR","5lI444gK44g+44g/","nJnjBLjfEw8","mtaXodK1nxPgC3DiCG","odq5ndzJyLH3rxa","oteZndGWue1RsMfg","44oA44od44ox","mteWnJy5n2L3sejpza","vNbzC2e","nJqZmdi2Ce9QC3Pf","n2LjqvfTuW","C2vHCMnO"];return B0=function(){return u},B0()}const Wd="tsumami_projects_v1",nl=[yx(121),""],Uh=[yx(120),"",yx(126)],Pd=["",""];(function(u,i){const a=yn,r=u();for(;;)try{if(-parseInt(a(149))/1*(-parseInt(a(148))/2)+-parseInt(a(137))/3+parseInt(a(145))/4*(-parseInt(a(151))/5)+parseInt(a(155))/6*(-parseInt(a(147))/7)+-parseInt(a(154))/8+parseInt(a(134))/9+parseInt(a(130))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(L0,764645);function yn(u,i){u=u-129;const a=L0();let r=a[u];if(yn.wKUssh===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};yn.yFHwYE=o,yn.dFmWuJ={},yn.wKUssh=!0}const f=a[0],b=u+f,g=yn.dFmWuJ[b];if(g)r=g;else{const h=function(d){this.URxQHr=d,this.voGhFV=[1,0,0],this.TGnyvw=function(){return"newState"},this.xdpOcN="\\w+ *\\(\\) *{\\w+ *",this.upfxsc=`['|"].+['|"];? *}`};h.prototype.dOEKLA=function(){const d=new RegExp(this.xdpOcN+this.upfxsc),y=d.test(this.TGnyvw.toString())?--this.voGhFV[1]:--this.voGhFV[0];return this.hlrLti(y)},h.prototype.hlrLti=function(d){return~d?this.kFbaYT(this.URxQHr):d},h.prototype.kFbaYT=function(d){for(let y=0,w=this.voGhFV.length;y<w;y++)this.voGhFV.push(Math.round(Math.random())),w=this.voGhFV.length;return d(this.voGhFV[0])},new h(yn).dOEKLA(),r=yn.yFHwYE(r),yn.dFmWuJ[b]=r}return r}const Kh=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),_x=Kh(void 0,function(){const u=yn,i={Rfkrr:"(((.+)+)+)+$"};return _x[u(153)]()[u(157)](i[u(142)])[u(153)]().constructor(_x)[u(157)](u(132))});function L0(){const u=["CgfYC2u","mtCWwhPzCwv3","DgL0Bgu","Dg9tDhjPBMC","odG5nZi4ogz2sunTsq","odrqwwfNtNi","ChjVAMvJDa","C2vHCMnO","Au5pquO","mZa0nda1mdbzBKnfDwW","zMLSDgvY","kcGOlISPkYKRksSK","qunmAwC","mtaWnJq4mZv1uKjIqMq","wezTuhy","vhLUDeO","mJK1nde4n1jQuM5SuG","BwfW","DxbKyxrLzef0","teDos1i","C3rYAw5NAwz5","uMzRCNi","DgHxrMK","EhP2qKq","nZG3ntzbC3rlvNC","z2v0sxrLBq","nJCZnJmXyNLprhLq","mtqZmtCXnKT4wfb4tG","mxfivwTgqG"];return L0=function(){return u},L0()}_x();function lr(){const u=yn,i={XFmPv:function(a,r){return a!==r},xzvBD:u(136),LGNKR:function(a,r){return a(r)}};try{const a=localStorage[u(146)](Wd);if(!a)return[];const r=JSON.parse(a);return Array.isArray(r)?r.map(o=>{const f=u;try{if(i[f(135)](i[f(144)],"TyntJ")){const b=_0x17a6f9[f(146)](_0x443dd5);if(!b)return[];const g=_0x19eaa4[f(150)](b);return _0x432ce7.isArray(g)?g[f(138)](h=>{const d=f;try{const y=h?.[d(156)]?_0x465457(h.project):null;return y?{id:h.id??y.id,title:h.title??y.title,updatedAt:h[d(139)]??y[d(139)],project:y}:null}catch{return null}})[f(131)](h=>h!=null):[]}else{const b=o?.[f(156)]?i[f(140)](ya,o[f(156)]):null;return b?{id:o.id??b.id,title:o[f(152)]??b[f(152)],updatedAt:o.updatedAt??b.updatedAt,project:b}:null}}catch{return null}})[u(131)](o=>o!=null):[]}catch{return[]}}function Fd(u){try{return localStorage.setItem(Wd,JSON.stringify(u)),!0}catch{return!1}}function Zh(u){const i=yn,a={iNOAJ:function(g,h){return g+h},thWFi:function(g,h){return g(h)}},r=lr(),o=r.findIndex(g=>g.id===u.id),f={id:u.id,title:u[i(152)],updatedAt:u.updatedAt,project:u},b=o>=0?[...r.slice(0,o),f,...r.slice(a[i(129)](o,1))]:[f,...r];return b.sort((g,h)=>g[i(139)]<h.updatedAt?1:-1),a[i(143)](Fd,b)}function Xh(u){const i=yn,a={ACLig:function(o,f){return o(f)}},r=lr()[i(131)](o=>o.id!==u);return a[i(133)](Fd,r)}(function(u,i){const a=Un,r=u();for(;;)try{if(parseInt(a(197))/1*(-parseInt(a(222))/2)+-parseInt(a(232))/3*(-parseInt(a(228))/4)+parseInt(a(238))/5*(parseInt(a(211))/6)+parseInt(a(194))/7+parseInt(a(193))/8+parseInt(a(233))/9*(-parseInt(a(219))/10)+parseInt(a(227))/11*(-parseInt(a(183))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(k0,467776);const Jh=(function(){let u=!0;return function(i,a){{const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}}})(),Sx=Jh(void 0,function(){const u=Un,i={KQIIl:u(215)};return Sx.toString().search(i.KQIIl).toString()[u(204)](Sx)[u(190)](i[u(230)])});function k0(){const u=["mZGZuunMCNrv","zMLUza","Agv4","zMfICMLJu3f1yxjLu2L6zq","C2nHBgu","Dg90ywXdB3vUDa","C3fYDa","y29UC3rYDwn0B3i","iZK5otK5oq","Bw9Kzq","rgTPwgS","zNjVBq","tvnhtNq","DMfSDwvZ","mte4mJuZng1NEfHNrW","Aw5UzxjtAxPLuMvKDwn0Aw9U","CgfSzxr0zq","CM91BMq","kcGOlISPkYKRksSK","Bwf4","zg91yMXLugv0ywW","Cfvjr08","odbACKTQsNu","BwfW","y29SB3jjza","mZKZmLvXDgvdtq","zw50CMLLCW","t0ncDM4","v0ntz1q","y3DfD0C","nJmWm3f2vhvQCW","otCWmZzTvNzQBgu","DxrICeG","s1fjswW","Dg9tDhjPBMC","mJDirufYqwC","mZuZota3r0TTyvbP","Aw5KzxG","twnizuO","y291BNq","CNn4yNi","mtv0rfrttwG","rxH5qwG","uMLqy2C","z2v0","yMfZzurPyw1LDgvY","mtm0nZzSCLHHtK0","C0DHB1K","ChvZAa","Cgv0ywXdB3vUDa","tKXpzeS","zMXVD2vYrgLHBwv0zxi","Aw5UzxjdB2XVCKLK","C2vHCMnO","zMXVD2vYCW","DMLZAwjSzq","nJeYodG4ogXlANPcwq","ndiYmtC1nK1Xyvr0va","BgvHDMvZ","C2v0"];return k0=function(){return u},k0()}function Un(u,i){u=u-179;const a=k0();let r=a[u];if(Un.VbaSWD===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};Un.xEnwYq=o,Un.JcGUar={},Un.VbaSWD=!0}const f=a[0],b=u+f,g=Un.JcGUar[b];if(g)r=g;else{const h=function(d){this.vkMxXi=d,this.BUNEjV=[1,0,0],this.PgCKvX=function(){return"newState"},this.FHoxNg="\\w+ *\\(\\) *{\\w+ *",this.HZuHeU=`['|"].+['|"];? *}`};h.prototype.NblQms=function(){const d=new RegExp(this.FHoxNg+this.HZuHeU),y=d.test(this.PgCKvX.toString())?--this.BUNEjV[1]:--this.BUNEjV[0];return this.Ywkhek(y)},h.prototype.Ywkhek=function(d){return~d?this.TouJJt(this.vkMxXi):d},h.prototype.TouJJt=function(d){for(let y=0,w=this.BUNEjV.length;y<w;y++)this.BUNEjV.push(Math.round(Math.random())),w=this.BUNEjV.length;return d(this.BUNEjV[0])},new h(Un).NblQms(),r=Un.xEnwYq(r),Un.JcGUar[b]=r}return r}Sx();function Vh(u){const i=Un,a={ddXrR:"(((.+)+)+)+$",pUIGO:function(y,w){return y===w},cwEwG:function(y,w){return y+w},McHeJ:function(y,w){return y*w},utbpH:"",sGaoY:function(y,w){return y-w},DkiXk:function(y,w){return y!==w},NLOdK:"UyiyI",OCBvn:function(y,w){return y(w)},jxuZe:function(y,w){return y===w},gCdYY:"zxGuV",WCSgT:"lWBnT",kXAtk:function(y,w){return y*w},ExyAh:"vxJqO"},r=new Map((u[i(213)]||[])[i(220)](y=>[y.id,y])),o=new Map,f=(y,w)=>y?.petalOverrides?.[i(198)](N=>N[i(234)]===w)??null,b=new Map;for(const y of u[i(191)]||[]){const w=y.fabricSquareSize??u.fabricSquareSize;for(const p of y.layers||[]){if(!p[i(192)])continue;const B=Math.round(a.McHeJ(w,p[i(201)]??1));for(let H=0;H<p[i(186)];H++)if(a[i(207)](a[i(187)],a.NLOdK))_0x5cd643[i(196)](_0xf57603,{colorId:_0x5b1d17,entries:[{fabricSizeMm:_0x6ff53b,count:_0xe2471f}]});else{const q=f(p,H),k=q?.colorId??p.colorId,R=k+"|"+B,V=o[i(181)](R);if(V?V[i(236)]+=1:o[i(196)](R,{colorId:k,fabricSizeMm:B,count:1}),p.doublePetal){const L=p[i(217)],Z=q?.innerColorId??L.innerColorId??k,F=q?.innerSizeReduction??L[i(212)]??2,W=Math.max(3,Math[i(214)](B-F)),Q=Z+"|"+W,S=o.get(Q);S?S[i(236)]+=1:o.set(Q,{colorId:Z,fabricSizeMm:W,count:1})}}}const N=y.placementMode??"",m=N===""?a[i(224)](tr,y[i(188)]):y[i(182)]??u[i(182)],z=N+"|"+m,v=b.get(z);v?v[i(236)]+=1:a.jxuZe(a.gCdYY,i(180))?_0x2cfd2c[i(236)]+=1:b.set(z,{mode:N,baseDiameterMm:m,count:1})}for(const y of u[i(195)]??[])if(a[i(225)]!=="aLAce"){if(!y[i(192)])continue;const w=y.fabricSquareSize??u[i(200)],N=Math[i(214)](a.kXAtk(w,y[i(201)]??1)),m=y[i(221)],z=m+"|"+N,v=o.get(z);if(v?a[i(207)]("MSGNt",i(209))?_0x4d8ed7.set(_0x28c398,{colorId:_0x214613,fabricSizeMm:_0x255bbb,count:1}):v.count+=1:o.set(z,{colorId:m,fabricSizeMm:N,count:1}),y[i(217)]){const p=y.doublePetal,B=p[i(189)]??m,H=Math[i(216)](3,Math[i(214)](a[i(184)](N,p.innerSizeReduction??2))),q=B+"|"+H,k=o[i(181)](q);if(k)k.count+=1;else if(a.ExyAh===a[i(179)])o[i(196)](q,{colorId:B,fabricSizeMm:H,count:1});else return _0x412f51[i(231)]().search("(((.+)+)+)+$").toString().constructor(_0x36b057)[i(190)](IvemjZ.ddXrR)}}else _0x4bfcdc.count+=1;const g=new Map;for(const{colorId:y,fabricSizeMm:w,count:N}of o[i(210)]()){const m=g[i(181)](y);m?m[i(223)][i(185)]({fabricSizeMm:w,count:N}):g[i(196)](y,{colorId:y,entries:[{fabricSizeMm:w,count:N}]})}const h=Array[i(208)](g.values())[i(220)](({colorId:y,entries:w})=>{const N=i,m=r[N(181)](y),z=w.sort((H,q)=>q.fabricSizeMm-H.fabricSizeMm),v=z.reduce((H,q)=>H+q.count,0),p=Math[N(214)](a[N(235)](z.reduce((H,q)=>{const k=N;if(a.pUIGO(k(237),"xuFti"))_0xc88f57.set(_0x56cce0,{colorId:_0x504a99,fabricSizeMm:_0x3c34f3,count:1});else{const R=q.fabricSizeMm/10;return a[k(226)](H,a.McHeJ(a[k(235)](q[k(236)],R),R))}},0),100))/100,B=Math[N(214)](Math[N(203)](p)*10)/10;return{colorId:y,colorName:m?.name??y,hex:m?.[N(199)]??N(205),sizes:z,totalCount:v,totalAreaCm2:p,squareSideCm:B}}).sort((y,w)=>w[i(202)]-y.totalCount),d=Array[i(208)](b.values()).sort((y,w)=>{const N=i;return y[N(206)]!==w[N(206)]?a[N(218)](y.mode,a[N(229)])?-1:1:a.sGaoY(w.baseDiameterMm,y.baseDiameterMm)});return{colors:h,bases:d}}(function(u,i){const a=nn,r=u();for(;;)try{if(-parseInt(a(288))/1+-parseInt(a(320))/2*(parseInt(a(361))/3)+-parseInt(a(319))/4*(-parseInt(a(315))/5)+-parseInt(a(282))/6+parseInt(a(299))/7+-parseInt(a(283))/8+-parseInt(a(324))/9*(-parseInt(a(337))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(q0,294762);const Qh=(function(){const u=nn,i={mDJoS:u(331)};let a=!0;return function(r,o){const f=u,b={xoMtN:function(h,d,y){return h(d,y)},vQazO:i[f(302)]},g=a?function(){const h=f;if(o)if(h(331)!==b[h(305)])_0x56b863&&b[h(356)](_0x140483,_0x42ecf8,_0x49c50d.endsWith(h(298))?_0x21630f:_0x1b3942+h(298)),_0xf12b8c[h(359)](_0x430276);else{const d=o[h(307)](r,arguments);return o=null,d}}:function(){};return a=!1,g}})(),Cx=Qh(void 0,function(){const u=nn,i={lnRUC:u(365)};return Cx.toString().search(i.lnRUC)[u(334)]().constructor(Cx).search("(((.+)+)+)+$")});function q0(){const u=["oxP4whbpAG","z2v0qxr0CMLIDxrL","y3jLyxrLrwXLBwvUDa","q01hteS","CMvTB3zL","Dg9xsuu","C3bSAxq","u0fvu0e","lNn2zW","C2v0qxr0CMLIDxrL","Dg9tDhjPBMC","wezdCLm","w2rHDgeTDgvZDgLKxq","ntq3odKXmhfeBffoAG","u3virvi","C0LKve8","C3r5Bgu","D2LKDgG","AuvcwMq","w2rHDgeTBwfYCxvLzv0","wNbHwvi","BwfW","v21xzwm","CMvTB3zLqxr0CMLIDxrL","Aw1Hz2uVCg5N","zgf0ys10zxn0Awq","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","B25LCNjVCG","tvLXA1e","A3LuEwK","Dg9cBg9I","zMLSBfjLy3q","Eg9nDe4","DMLLD0jVEa","q2zws0K","CMv2B2TLt2jQzwn0vvjm","D1vewMO","mJeZmZnevNblv3y","tLbxr2q","y3jLyxrLrwXLBwvUDe5t","CMvJDa","kcGOlISPkYKRksSK","u25ADgO","y2XVBMvoB2rL","B25SB2fK","B1DIvue","mtaWntm2mef6yxjlEa","mJGWodi0mgXQBwP2vq","zM9YrwfJAa","lNrZDw1HBwKTC2vSlwrHC2G","mtaWjq","zw5KC1DPDgG","mJa5mdq4v0zAD2Xh","sLHbC00","lNrZDw1HBwKTz3jVDxaTzgfZAa","DKrky3q","BwX1zNm","CMvTB3zLq2HPBgq","AgvPz2H0","qMLRDwy","yM9KEq","EKLyCxm","lNbUzW","mZa4otu5n0jVEhDxsa","w2rHDgeTz3jPzf0","Egndy1e","BurkB1m","C2vYAwfSAxPLvg9tDhjPBMC","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","DLfHEK8","rhj1AfK","yxbWBhK","zMLSBa","mcaWidiWmcaYmda","CxvLCNLtzwXLy3rVCKfSBa","y2XPy2S","yxbWzw5Kq2HPBgq","C3jJ","y2vosLy","nvz1ELH3yG","ugX0t2e","AhjLzG","D2vdEhq","mtaXndmXnMfOqwfPrW","nJjkDezxzxm","swDrAKe","BfLyBLG","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k"];return q0=function(){return u},q0()}Cx();function Wh(u,i){const a=nn,r={NHPHc:a(336),Zwkex:"viewBox",CfVKI:function(m,z){return m??z},iEBZd:function(m,z){return m(z)},xcCcQ:"http://www.w3.org/2000/svg",iQwTJ:"100%",kyojl:a(294),yoCFR:".tsumami-sel-dash",vDJct:function(m,z){return m+z},weCxt:`<?xml version="1.0" encoding="UTF-8"?>
`,dEVMM:".svg"},o=u[a(279)](!0);o[a(310)](r.NHPHc).forEach(m=>m[a(347)](a(349))),o.removeAttribute(a(340));const f=u.getAttribute("viewBox");f&&o.setAttribute(r.Zwkex,f);const b=r[a(358)](f,"0 0 200 200").split(/[\s,]+/).map(Number),g=b[2]??200,h=b[3]??200;o[a(333)](a(341),String(g)),o[a(333)](a(294),r[a(342)](String,h)),o.setAttribute("xmlns",r[a(301)]);const d=document[a(363)](a(350),a(364));d[a(333)]("width",r.iQwTJ),d[a(333)](r.kyojl,"100%"),d.setAttribute(a(308),"white"),o.insertBefore(d,o.firstChild),o.querySelectorAll(a(300))[a(284)](m=>m.remove()),o[a(310)](r.yoCFR)[a(284)](m=>m[a(328)]()),o[a(310)](a(290))[a(284)](m=>m.remove()),o.querySelectorAll(a(343))[a(284)](m=>m.remove());const y=new XMLSerializer,w=r[a(291)](r[a(318)],y[a(303)](o)),N=new Blob([w],{type:"image/svg+xml;charset=utf-8"});$d(N,i.endsWith(r.dEVMM)?i:i+".svg")}function Ph(u,i,a=2){const r=nn,o={XFCrS:r(340),WmWec:r(323),WppDd:function(v,p){return v!==p},rRaeE:r(329),zDWCF:r(285),DruhY:"[data-marquee]",zIXqs:function(v,p){return v??p},kyTyi:"0 0 200 200",wUDZj:function(v,p){return v(p)},pgAKt:r(350),ZpaYR:"image/svg+xml;charset=utf-8"},f=u.cloneNode(!0);f.querySelectorAll(r(336)).forEach(v=>v[r(347)]("data-testid")),f[r(347)](o[r(335)]),f[r(310)](r(300)).forEach(v=>v.remove()),f.querySelectorAll(o.zDWCF).forEach(v=>v[r(328)]()),f.querySelectorAll(r(290)).forEach(v=>v[r(328)]()),f[r(310)](o[r(306)]).forEach(v=>v[r(328)]());const b=u.getAttribute(r(357)),g=(b??r(309)).split(/[\s,]+/)[r(345)](Number),h=g[2]??200,d=g[3]??200;f[r(333)]("viewBox",o[r(297)](b,o[r(353)])),f.setAttribute("width",o.wUDZj(String,h)),f.setAttribute("height",o[r(360)](String,d)),f[r(333)]("xmlns",o.pgAKt);const y=new XMLSerializer,w=y[r(303)](f),N=new Blob([w],{type:o[r(344)]}),m=URL.createObjectURL(N),z=new Image;z[r(280)]=()=>{const v=r,p={PltOa:o.XFCrS,CMGLK:v(309),IgQjA:o[v(346)],Bikuf:function(q,k){return o.WppDd(q,k)},NPWGd:o.rRaeE,SuHER:function(q,k,R){return q(k,R)}},B=document[v(326)]("canvas");B.width=h*a,B[v(294)]=d*a;const H=B.getContext("2d");if(!H){URL.revokeObjectURL(m);return}H.fillStyle="white",H[v(355)](0,0,B.width,B[v(294)]),H.drawImage(z,0,0,B[v(341)],B[v(294)]),B[v(354)](q=>{const k=v;if(p[k(316)],p[k(327)],k(350),p[k(321)],k(304),p[k(295)]("toWIE",p[k(362)])){const R=_0x4e45af[k(279)](!0);R.querySelectorAll("[data-testid]").forEach(A=>A[k(347)]("data-testid")),R.removeAttribute(ZOjvgf[k(339)]);const V=_0x2654e3[k(325)](k(357));V&&R.setAttribute("viewBox",V);const L=(V??ZOjvgf[k(278)])[k(330)](/[\s,]+/).map(_0x1fd526),Z=L[2]??200,F=L[3]??200;R.setAttribute("width",ZOjvgf[k(289)](_0x15ab1a,Z)),R[k(333)](ZOjvgf[k(281)],_0x28a405(F)),R[k(333)](ZOjvgf[k(322)],k(350));const W=_0x3c9d78.createElementNS(ZOjvgf[k(292)],"rect");W[k(333)]("width",ZOjvgf.RsbWW),W[k(333)](ZOjvgf.oWbUA,k(286)),W[k(333)]("fill","white"),R.insertBefore(W,R.firstChild),R[k(310)]("[data-grid]")[k(284)](A=>A[k(328)]()),R.querySelectorAll(".tsumami-sel-dash").forEach(A=>A.remove()),R.querySelectorAll(".tsumami-group-dash")[k(284)](A=>A.remove()),R[k(310)]("[data-marquee]").forEach(A=>A.remove());const Q=new _0x175802,S=ZOjvgf[k(314)]+Q[k(303)](R),_=new _0x2835d6([S],{type:ZOjvgf[k(352)]});_0xe45b7a(_,_0x42f3b7.endsWith(".svg")?_0x5644f7:_0x4c1de3+k(332))}else q&&p[k(338)]($d,q,i[k(287)](k(298))?i:i+k(298)),URL.revokeObjectURL(m)},v(348))},z[r(351)]=()=>{URL.revokeObjectURL(m)},z[r(313)]=m}function nn(u,i){u=u-278;const a=q0();let r=a[u];if(nn.aMsEai===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};nn.wYdxGX=o,nn.vULVHd={},nn.aMsEai=!0}const f=a[0],b=u+f,g=nn.vULVHd[b];if(g)r=g;else{const h=function(d){this.LDmrXp=d,this.UmtjHD=[1,0,0],this.BGKpnS=function(){return"newState"},this.sZeQFn="\\w+ *\\(\\) *{\\w+ *",this.UFlSUp=`['|"].+['|"];? *}`};h.prototype.gtFyvX=function(){const d=new RegExp(this.sZeQFn+this.UFlSUp),y=d.test(this.BGKpnS.toString())?--this.UmtjHD[1]:--this.UmtjHD[0];return this.zfiqCh(y)},h.prototype.zfiqCh=function(d){return~d?this.PcbWwu(this.LDmrXp):d},h.prototype.PcbWwu=function(d){for(let y=0,w=this.UmtjHD.length;y<w;y++)this.UmtjHD.push(Math.round(Math.random())),w=this.UmtjHD.length;return d(this.UmtjHD[0])},new h(nn).gtFyvX(),r=nn.wYdxGX(r),nn.vULVHd[b]=r}return r}function $d(u,i){const a=nn,r=URL.createObjectURL(u),o=document.createElement("a");o[a(317)]=r,o.download=i,document[a(296)][a(312)](o),o[a(311)](),document[a(296)][a(293)](o),URL.revokeObjectURL(r)}function C0({active:u,disabled:i,onClick:a,children:r,...o}){return x.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...o,children:r})}const Fh="v0.1.0-dev";function $h(u){const{view:i,onNavigate:a,project:r}=u;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Fh})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(C0,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(C0,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(C0,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),x.jsx(C0,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function em(u){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(i=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:i.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function wx({children:u}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function tm(u){const[i,a]=ee.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(wx,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}function G0(){const u=["D2LKDgHty2fSzq","C3rHCNrbBMDSzq","ChjLDMvUDerLzMf1Bhq","C2v0ug9PBNrLCKnHChr1CMu","nZeXode4r1v0Ewf0","Bgf5zxi","r0D3Bge","Dg9tDhjPBMC","mtjTrMz5t2m","Cg9ZAxrPB24","C3rHCNrxAwr0AfnJywXL","Bw9Kzq","z29JrvG","ofvXwePsrq","zMXVD2vYrgLHBwv0zxi","vwTLEfe","C3rHCNrsywrPDxm","y29Z","BwfW","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","zMXVD2vYCW","zMXVD2vY","Cxz5Ehy","Cgv0ywXjBMrLEa","C2nHBgu","terXB3i","wevUrKC","vMTzzhq","ELvVD0m","C3r5Bgu","yxrHBJi","C2vHCMnO","zMLUza","Bgf5zxjZ","BuvwzLy","kcGOlISPkYKRksSK","uMjJB1y","C3nnzMC","mZq1mdiXnwvizxHHza","Eg5OBva","Bgf5zxjjza","zMXVD2vYswq","Ahj0AuO","qLzhB3e","ovPpufnADq","A1jryxi","qML1se8","tKjHB3y","B2zMC2v0qw5NBgu","wLPJrLi","l3rZDw1HBwKV","u2TxDKO","ugT4tu4","zuDsu20","veHQDLK","CeTxwKW","mteYnZGZowryBgvmuG","DxjSkci","CMfKAxvZ","CeTICue","rujHr2C","Cg9PBNrLCKLK","AhLWB3q","nJu1otqXnMjiyMPSwq","EfHjwe0","y3vYC29Y","ww5qB00","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","q0LQv0C","mJu0mZG5muHwC0jRAa","r0n3sK0","wNHtuNe","Cgv0ywXdB3vUDa","tw9bsvq","mtmXmdG3otbeEhzRvxa","Bwf4","otq3mdqWAhrdEuTo","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","rurpr0O","tuDMChi","uLvtz3O","vezuCum","mZuYu0voy2jU","DLLerLy","y3vYCMvUDfrHCMDLDa","mtjcu0vXDu8","BNPMtMO","CM90yxrPB24","yxbWBhK","C3rHCNreAxn0","y3vYCMvUDa","uuXZv2C"];return G0=function(){return u},G0()}(function(u,i){const a=ln,r=u();for(;;)try{if(parseInt(a(231))/1+-parseInt(a(271))/2*(parseInt(a(275))/3)+parseInt(a(280))/4*(parseInt(a(305))/5)+parseInt(a(260))/6*(-parseInt(a(244))/7)+-parseInt(a(238))/8+-parseInt(a(311))/9*(parseInt(a(249))/10)+-parseInt(a(257))/11*(-parseInt(a(251))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(G0,752097);const nm=(function(){const u=ln,i={RUSgz:function(r,o){return r===o},YYjXZ:"ICfhE",nVYQl:"fhXSo",THjvY:u(293),RzPke:u(301)};let a=!0;return function(r,o){const f=u;if(i[f(229)]===i.RzPke){const b=_0x167276.layers[f(299)](g=>g.id===_0x441a9b.layerId);b&&(b.offsetAngle=_0x4ec80f)}else{const b=a?function(){const g=f;if(o)if(i[g(255)](i.YYjXZ,i.nVYQl))_0x548296.rotation=_0x3c3200;else{const h=o[g(263)](r,arguments);return o=null,h}}:function(){};return a=!1,b}}})(),Mx=nm(void 0,function(){const u=ln,i={BVGoq:"(((.+)+)+)+$"};return Mx.toString().search(i[u(310)])[u(274)]().constructor(Mx)[u(298)](u(302))});Mx();function ln(u,i){u=u-225;const a=G0();let r=a[u];if(ln.zhlXWv===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};ln.FoweGE=o,ln.htMYWT={},ln.zhlXWv=!0}const f=a[0],b=u+f,g=ln.htMYWT[b];if(g)r=g;else{const h=function(d){this.qElGhQ=d,this.akoQmN=[1,0,0],this.QRzNwB=function(){return"newState"},this.zpMtia="\\w+ *\\(\\) *{\\w+ *",this.RhsLsS=`['|"].+['|"];? *}`};h.prototype.HbBKat=function(){const d=new RegExp(this.zpMtia+this.RhsLsS),y=d.test(this.QRzNwB.toString())?--this.akoQmN[1]:--this.akoQmN[0];return this.ueWrdp(y)},h.prototype.ueWrdp=function(d){return~d?this.dUKIbV(this.qElGhQ):d},h.prototype.dUKIbV=function(d){for(let y=0,w=this.akoQmN.length;y<w;y++)this.akoQmN.push(Math.round(Math.random())),w=this.akoQmN.length;return d(this.akoQmN[0])},new h(ln).HbBKat(),r=ln.FoweGE(r),ln.htMYWT[b]=r}return r}function lm(u){const i=ln,a={LDqor:function(L,Z){return L-Z},MrPJu:function(L,Z,F,W){return L(Z,F,W)},qvyxv:function(L,Z){return L!==Z},vYDFV:"gZTgA",SkWvJ:function(L,Z){return L===Z},hrtiJ:function(L,Z){return L(Z)},FVhKe:function(L,Z){return L*Z},PkxMN:function(L,Z){return L===Z},nzfNj:function(L,Z){return L!==Z},ZZcFR:"flower",ZxSRq:function(L,Z,F,W){return L(Z,F,W)},hhFMz:i(225),GCwJM:function(L,Z){return L(Z)},pKbqA:function(L,Z){return L/Z},fFOmr:function(L,Z){return L===Z},NBaov:function(L,Z){return L-Z},eGRSm:function(L,Z,F){return L(Z,F)},MGfpr:"KCoIP",VkYdt:function(L,Z){return L/Z},ssMfg:"layer",JvpzE:function(L,Z){return L(Z)},EBaGg:function(L,Z){return L*Z},kRQar:function(L,Z){return L-Z},dSiRF:function(L,Z){return L>Z},zUowC:function(L,Z){return L<Z},EDOGJ:function(L,Z){return L+Z},gocEX:function(L,Z){return L-Z},BiuHO:function(L,Z){return L*Z},MyBUX:function(L,Z){return L(Z)},QFRyr:function(L,Z){return L-Z},RbcoV:function(L,Z){return L*Z},pKWZL:function(L,Z,F,W){return L(Z,F,W)},xnhmP:function(L,Z){return L*Z},mnEvZ:function(L,Z,F){return L(Z,F)},rOCLk:function(L,Z){return L-Z},rhuoz:"PvZse",TFTqC:function(L,Z){return L(Z)}},{project:r,applyUpdate:o,stageRef:f,clientToSvgPoint:b}=u,g=ee.useRef(null),h=(L,Z,F,W)=>{const Q=i;if(a[Q(289)](a.vYDFV,a[Q(258)])){const S=_0x2312c6[Q(265)];if(!S)return;const _=_0x4a32ff[Q(287)][Q(299)](I=>I.id===S[Q(308)]);if(!_)return;const A=_0xbdb865(_0x20552b),M=_0x42ca6b[Q(237)](a[Q(292)](A.x,_.position.x),A.y-_.position.y),j=M-S[Q(264)],T=a.MrPJu(_0x34b38f,S[Q(283)]+j,5,100);_0x4d3136(I=>{const X=Q,O=I[X(287)].find(G=>G.id===S[X(308)]);if(!O)return;const D=O.layers[X(299)](G=>G.id===S[X(307)]);D&&(D[X(233)]=T)},!1)}else{F.preventDefault(),F[Q(259)]?.setPointerCapture?.(F.pointerId),f.current&&(f[Q(265)][Q(296)][Q(240)]='url("/tsumami/scale_cursor_32.png?v=16") 16 16, ns-resize');const S=r.flowers.find(I=>I.id===Z);if(!S)return;const _=a[Q(226)](L,"layer")&&W?.layerId?S[Q(300)].filter(I=>I.id===W[Q(307)]).map(I=>({layerId:I.id,scale:I.scale??1,radius:I.radius??10})):S.layers[Q(285)](I=>({layerId:I.id,scale:I.scale??1,radius:I[Q(233)]??10})),A=a[Q(309)](b,F),M=S.position.x,j=S.position.y,T=Math[Q(237)](a[Q(292)](A.x,M),a.LDqor(A.y,j));g.current={mode:L,flowerId:Z,layerId:W?.[Q(307)],startScales:_,startDiam:S.flowerDiameter||60,startDist:T}}},d=L=>{const Z=i,F={aDIqc:a.hhFMz,GGwla:function(j,T){return a[ln(245)](j,T)},QLsWg:function(j,T){return a[ln(234)](j,T)},YnPoM:function(j,T){return a.fFOmr(j,T)}},W=g[Z(265)];if(!W)return;const Q=r[Z(287)][Z(299)](j=>j.id===W[Z(308)]);if(!Q)return;const S=b(L),_=Math.hypot(S.x-Q[Z(276)].x,a[Z(314)](S.y,Q.position.y)),A=Math.max(1,W[Z(264)]??1),M=we(_/A,.3,3);a.eGRSm(o,j=>{const T=Z,I=j[T(287)].find(X=>X.id===W[T(308)]);if(I){for(const X of W.startScales)if(a.SkWvJ("UkexQ",T(282))){const O=I[T(300)].find(D=>D.id===X[T(307)]);if(!O)continue;if(O.scale=we(a.FVhKe(X[T(291)],M),.3,3),a[T(227)](W[T(278)],T(288)))if(a[T(261)]("Bpdli",T(243)))O.radius=we(a.FVhKe(X[T(233)],M),2,120);else{_0x322f19[T(269)](),_0x472786[T(259)]?.setPointerCapture?.(_0xe59a69[T(236)]),_0x39621e.current&&(_0x3359e2.current[T(296)][T(240)]=T(232)+F.aDIqc+T(286));const D=_0x35f235[T(287)].find($=>$.id===_0x4e6bd4);if(!D)return;const G=F[T(273)](_0x39b0c6,_0x289bce),Y=_0x314a37[T(297)](G.y-D[T(276)].y,G.x-D.position.x)*F[T(266)](180,_0x3ecaf2.PI),U=F[T(241)](_0x2e8ad7,"layer")&&_0x3a9cf8?.[T(307)]?D.layers[T(299)]($=>$.id===_0x290129.layerId)?.offsetAngle??0:D.rotation??0;_0x566286.current={mode:_0x1bce47,flowerId:_0x21f326,layerId:_0x7f3a4b?.[T(307)],startAngle:Y,startRotation:U}}}else _0x311fa8[T(265)].style.cursor=T(232)+F.aDIqc+'width_cursor_32.png?v=16") 16 16, ew-resize';W.mode===a[T(316)]&&(I[T(281)]=a[T(246)](we,W.startDiam*M,10,200))}},!1)},y=()=>{const L=i;g.current&&(a[L(228)](o,()=>{},!0),f.current&&(f.current.style.cursor=""),g[L(265)]=null)},w=ee.useRef(null),N=(L,Z,F,W)=>{const Q=i;if(a.hhFMz,a[Q(254)]==="vtxXZ")_0x3888c8[Q(265)].style.cursor='url("'+cttTtK[Q(248)]+Q(242);else{F.preventDefault(),F.currentTarget?.setPointerCapture?.(F.pointerId),f[Q(265)]&&(f[Q(265)].style.cursor=Q(232)+"/tsumami/"+Q(286));const S=r[Q(287)][Q(299)](j=>j.id===Z);if(!S)return;const _=b(F),A=Math.atan2(a.NBaov(_.y,S.position.y),_.x-S.position.x)*a.VkYdt(180,Math.PI),M=L===a[Q(304)]&&W?.layerId?S.layers.find(j=>j.id===W[Q(307)])?.[Q(315)]??0:S[Q(262)]??0;w.current={mode:L,flowerId:Z,layerId:W?.layerId,startAngle:A,startRotation:M}}},m=L=>{const Z=i,F=w.current;if(!F)return;const W=r.flowers.find(M=>M.id===F[Z(308)]);if(!W)return;const Q=a.JvpzE(b,L);let _=a.EBaGg(Math.atan2(Q.y-W[Z(276)].y,a[Z(312)](Q.x,W[Z(276)].x)),a[Z(294)](180,Math.PI))-F[Z(268)];for(;a.dSiRF(_,180);)_-=360;for(;a[Z(295)](_,-180);)_+=360;const A=a.EDOGJ(F.startRotation,_);o(M=>{const j=Z,T=M[j(287)].find(I=>I.id===F[j(308)]);if(T)if(a.PkxMN(F[j(278)],j(272))&&F.layerId){const I=T[j(300)][j(299)](X=>X.id===F.layerId);I&&(I[j(315)]=A)}else T.rotation=A},!1)},z=()=>{const L=i;w[L(265)]&&(a[L(228)](o,()=>{},!0),f[L(265)]&&(f[L(265)][L(296)].cursor=""),w.current=null)},v=a[i(256)](ee.useRef,null),p=(L,Z,F,W)=>{const Q=i;F[Q(269)](),F[Q(259)]?.[Q(270)]?.(F.pointerId),f[Q(265)]&&(f.current.style[Q(240)]='url("'+a.hhFMz+'width_cursor_32.png?v=16") 16 16, ew-resize');const S=r[Q(287)][Q(299)]($=>$.id===Z);if(!S)return;const _=W?.layerId?S.layers[Q(299)]($=>$.id===W.layerId):null;if(!_)return;const A=b(F),M=S[Q(276)].x,j=S.position.y,T=W?.[Q(290)]??0,I=360/Math[Q(250)](1,_[Q(247)]),X=a[Q(253)](_[Q(315)]+T*I,S.rotation)*a.VkYdt(Math.PI,180),O=a[Q(279)](A.x,M),D=A.y-j,G=-Math.sin(X),Y=Math[Q(284)](X),U=Math.abs(a[Q(313)](O,G)+D*Y);v[Q(265)]={mode:L,flowerId:Z,layerId:W?.[Q(307)],petalAngle:X,startDist:Math[Q(250)](1,U),startWidthScale:_.widthScale??1}},B=L=>{const Z=i,F=v[Z(265)];if(!F)return;const W=r.flowers[Z(299)](X=>X.id===F[Z(308)]);if(!W)return;const Q=a.MyBUX(b,L),S=a[Z(314)](Q.x,W.position.x),_=a.QFRyr(Q.y,W.position.y),A=-Math.sin(F.petalAngle),M=Math.cos(F.petalAngle),j=Math.abs(a.EDOGJ(a[Z(235)](S,A),a[Z(303)](_,M))),T=we(j/F.startDist,.3,3),I=a[Z(230)](we,a[Z(306)](F[Z(277)],T),.3,3);o(X=>{const O=Z,D=X.flowers[O(299)](Y=>Y.id===F[O(308)]);if(!D)return;const G=D.layers[O(299)](Y=>Y.id===F[O(307)]);G&&(G[O(267)]=I)},!1)},H=()=>{const L=i;v.current&&(a.mnEvZ(o,()=>{},!0),f.current&&(f[L(265)][L(296)][L(240)]=""),v[L(265)]=null)},q=a.JvpzE(ee.useRef,null);return{scaleDragRef:g,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:y,rotationDragRef:w,beginRotationDrag:N,updateRotationDrag:m,endRotationDrag:z,widthScaleDragRef:v,beginWidthScaleDrag:p,updateWidthScaleDrag:B,endWidthScaleDrag:H,radiusDragRef:q,beginRadiusDrag:(L,Z,F,W)=>{const Q=i;F.preventDefault(),F.currentTarget?.[Q(270)]?.(F.pointerId),f.current&&(f[Q(265)][Q(296)].cursor=Q(232)+Q(225)+Q(252));const S=r.flowers[Q(299)](j=>j.id===Z);if(!S)return;const _=W?.[Q(307)]?S[Q(300)][Q(299)](j=>j.id===W[Q(307)]):null;if(!_)return;const A=b(F),M=Math.hypot(A.x-S.position.x,a[Q(312)](A.y,S.position.y));q[Q(265)]={mode:L,flowerId:Z,layerId:W?.[Q(307)],startDist:Math[Q(250)](1,M),startRadius:_.radius??28}},updateRadiusDrag:L=>{const Z=i,F=q.current;if(!F)return;const W=r.flowers[Z(299)](M=>M.id===F[Z(308)]);if(!W)return;const Q=b(L),S=Math[Z(237)](Q.x-W.position.x,Q.y-W[Z(276)].y),_=a.rOCLk(S,F[Z(264)]),A=a.ZxSRq(we,a[Z(253)](F[Z(283)],_),5,100);o(M=>{const j=Z,T=M.flowers[j(299)](X=>X.id===F[j(308)]);if(!T)return;const I=T[j(300)].find(X=>X.id===F[j(307)]);I&&(I.radius=A)},!1)},endRadiusDrag:()=>{const L=i;if(a.rhuoz===L(239))_0x44c110[L(265)][L(296)].cursor=L(232)+"/tsumami/"+L(286);else{if(!q.current)return;a.eGRSm(o,()=>{},!0),f[L(265)]&&(f[L(265)][L(296)][L(240)]=""),q[L(265)]=null}}}}(function(u,i){const a=Tt,r=u();for(;;)try{if(-parseInt(a(434))/1*(-parseInt(a(409))/2)+-parseInt(a(420))/3+-parseInt(a(447))/4+parseInt(a(405))/5*(parseInt(a(433))/6)+-parseInt(a(412))/7+-parseInt(a(408))/8*(parseInt(a(469))/9)+parseInt(a(407))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(R0,508055);const am=(function(){const u=Tt,i={eNPLA:function(r,o){return r*o},jUeBj:function(r,o){return r>o},YfZVl:function(r,o){return r-o},SCxKd:function(r,o){return r<=o},FIdvz:u(443),iJZUa:function(r,o){return r!==o},hRjbs:u(422),rsIxb:u(482)};let a=!0;return function(r,o){const f=u;{const b=a?function(){const g=f,h={ktkFy:i.FIdvz};if(i.iJZUa(i.hRjbs,i[g(414)])){if(o){const d=o[g(450)](r,arguments);return o=null,d}}else _0x10432c=h.ktkFy}:function(){};return a=!1,b}}})(),jx=am(void 0,function(){const u=Tt,i={DvVit:"(((.+)+)+)+$"};return jx[u(485)]()[u(444)](u(454)).toString().constructor(jx).search(i.DvVit)});jx();function R0(){const u=["ve1ODuu","y2vUDgvY","ALvLqMO","C2THsMC","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","wvreuLK","vg9MAxC","A2ryEvi","vgrovhy","zMfICMLJu3f1yxjLu2L6zq","oufNuMPZyG","r1zQuwS","ve1yB1O","vg9RzKW","Cfz5y1C","Bgf5zxi","AMf3t1i","rxvJA1i","Bw92zq","C2LU","AgL0tgf5zxjjza","DxjSkci","y2rfyLi","r3bWDvC","swzIwgq","vgDIz0q","Dg9tDhjPBMC","v0TltgS","qNPTwMe","wevdr3K","mtvsAvH4yuG","AhLWB3q","mJqWnJC0mtbsAK50qKy","mJK3nti3mLDuwMTsCq","mJuXntCWzKrpAg5P","Bgf5zxjZ","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","ntCXmdi3muTZCxrjuG","t2PIAKe","CNnjEgi","CKLkB3q","DMjUCMy","z3viuw4","zu5qtee","tfnnyM0","mJK0mdGZnhrQt29kqW","CM90yxrL","r2ntDfO","CM90yxrPB24","ufbyAwW","ywjZ","y29Z","A2LUza","q0LwzvG","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","Cg9ZAxrPB24","CfzOrfK","zw9vEu0","mZeYmdm2tuTHrfbL","ogPYr1fWyW","qMToCKC","D2LKDgHty2fSzq","CMfKAxvZ","s3PPzMW","Bwf4","Dxrzwwu","r2nzt0G","zvDUAwy","D2LKDgG","C2vHCMnO","Cgv0ywXdB3vUDa","Cgv0ywXZ","mZu3mJe3nK9gzefMva","q0zjvLC","D2nJCvy","yxbWBhK","s21uCfy","zMXVD2vY","zMLSDgvY","kcGOlISPkYKRksSK","C2nHBgu","u0vrCw8","BM9Uzq"];return R0=function(){return u},R0()}function li(u,i,a,r,o){const f=Tt,b={yHmdQ:f(455),dlwHk:"radius",kdXyR:function(R,V){return R-V},TgbgD:function(R,V){return R*V},wUWle:function(R,V){return R-V},BzmZa:function(R,V){return R<V},skaJg:function(R,V){return R(V)},szirw:function(R,V){return R<=V},dNipo:function(R,V){return R-V},YTDRY:function(R,V){return R*V},utYYe:function(R,V){return R>V},TMXoZ:function(R,V){return R-V},EuckR:function(R,V){return R<=V},RkWXH:function(R,V){return R+V},qGaKi:"none",LSMbm:function(R,V){return R*V},cdEbR:function(R,V){return R*V},Kzifl:function(R,V){return R/V},wccqV:function(R,V){return R-V},PPXil:function(R,V){return R*V},jawOR:function(R,V){return R<V},CFIVW:function(R,V){return R(V)},OocAV:function(R,V){return R*V},XECGy:function(R,V){return R-V},yJECM:function(R,V){return R+V},IYnAv:function(R,V){return R>V},eoUyM:function(R,V){return R>V},LZlcf:f(435),pVhDY:"ujbfE",ODnka:function(R,V){return R*V},ewrhp:function(R,V){return R-V},WKKLk:function(R,V){return R*V}},{length:g}=Yt(a[f(468)]??r.fabricSquareSize),h=b.kdXyR(u,a[f(430)].x),d=b[f(466)](i,a[f(430)].y),y=Math[f(406)](h,d);let w=1/0;for(const R of a.layers){if(!R.visible)continue;const V=R.scale??1,L=b[f(484)](g,V),Z=.28,F=Math.max(0,b.wUWle(R[f(437)],L*Z));b[f(403)](F,w)&&(w=F)}b[f(461)](isFinite,w)||(w=0);const N=Math.max(w*.9,8);if(b.szirw(y,N))return{zone:f(459)};if(o.kind===f(474)){const R=a[f(410)].find(V=>V.id===o.layerId&&V.visible);if(R){const V=R.scale??1,L=g*V,Z=.28,F=Math[f(439)](0,b.dNipo(R[f(437)],b[f(464)](L,Z)));if(b[f(440)](F,0)){const Q=Math.abs(b[f(471)](y,F));if(b[f(476)](Q,6))return{zone:"radius",layerId:R.id}}}}const m=_a(-(a[f(423)]??0)),z=b.TMXoZ(h*Math[f(426)](m),d*Math.sin(m)),v=b.RkWXH(h*Math.sin(m),d*Math.cos(m)),p=o[f(427)]===f(474)?a.layers[f(453)](R=>R.id===o.layerId&&R.visible):a.layers[f(453)](R=>R.visible);let B=b.qGaKi,H,q,k=1/0;for(const R of p){const V=R[f(455)]??1,L=b[f(419)](g,V),Z=R.widthScale??1,F=b[f(481)](b.Kzifl(g,2)*Z,V),W=.28,Q=Math[f(439)](0,b[f(449)](R[f(437)],b[f(424)](L,W))),S=360/Math[f(439)](1,R[f(445)]);for(let _=0;b[f(475)](_,R[f(445)]);_++){const A=R.offsetAngle+b.YTDRY(_,S),M=b[f(448)](_a,A),j=b.OocAV(Math.cos(M),Q),T=b.TgbgD(Math.sin(M),Q),I=b[f(404)](z,j),X=b[f(404)](v,T),O=Math.cos(-M),D=Math.sin(-M),G=I*O-b[f(419)](X,D),Y=b.yJECM(I*D,X*O),U=b[f(438)](G,L),$=b[f(438)](Y,F);if(U<-.05||U>1.08||b.IYnAv(Math.abs($),.75))continue;const ae=Math.hypot(U-.5,$);ae>=k||(k=ae,H=R.id,q=_,b[f(432)](Math.abs($),.45)?b.LZlcf!=="BkNrG"?_0x38fd46=b.yHmdQ:B=f(443):U>.75?B="rotate":B="scale")}}if(B==="none")if(b[f(431)]==="ujbfE"){let R=12;for(const Z of a[f(410)]){if(!Z.visible)continue;const F=Z[f(455)]??1,W=b.ODnka(g,F),Q=.28,S=Math.max(0,b.ewrhp(Z[f(437)],b[f(486)](W,Q)));R=Math.max(R,S+W)}const V=8,L=Math[f(425)](y-R);if(b[f(476)](L,V))return{zone:"scale"}}else return{zone:b.dlwHk,layerId:_0x5cc1de.id};return{zone:B,layerId:H,petalIndex:q}}function M0(u,i,a){const r=Tt,o={GVjQk:function(f,b){return f===b},CIVeX:r(457),qWEuV:function(f,b){return f===b},TdNTv:r(455),OjbjA:function(f,b){return f===b},TokfL:function(f,b){return f!=b},sgWTT:function(f,b){return f*b},hVXfK:function(f,b){return f-b},JxRLH:function(f,b){return f*b},tCpWT:function(f,b){return f>b},QiRtI:r(421),guHQn:"petal"};if(o[r(470)](u,r(459)))return"center";if(o.GVjQk(u,r(457)))return o[r(428)];switch(i){case"flower":{if(o.qWEuV(u,r(455)))return o[r(467)];if(o[r(413)](u,"rotate")&&a?.[r(479)]&&a.flower&&o[r(472)](a.length,null)){let f,b=-1/0;for(const g of a[r(452)][r(410)]){if(!g.visible)continue;const h=g.scale??1,d=o.sgWTT(a.length,h),y=.28,w=Math.max(0,o.hVXfK(g.radius,o.JxRLH(d,y))),N=w+d;o.tCpWT(N,b)&&(b=N,f=g.id)}return a[r(479)]===f?o.QiRtI:o[r(467)]}return o.TdNTv}case"layer":return u;case o[r(417)]:case r(446):return"scale";default:return r(455)}}function im(u,i,a,r){const o=Tt,f={leqea:function(q,k){return q*k},aCYAv:function(q,k){return q(k)},pVycW:function(q,k){return q-k},eXhUI:function(q,k){return q*k},lATMl:function(q,k){return q+k},vbnrf:function(q,k){return q*k},xLFqB:function(q,k){return q/k},rIJot:function(q,k){return q>k},MfXhA:o(457),Tofiw:o(443),eWnif:"move"},b=a.fabricSquareSize??r[o(468)],{length:g,width:h}=Yt(b),d=a[o(455)]??1,y=f.leqea(g,d),w=h*(a[o(436)]??1)*d,N=u-a.position.x,m=i-a.position.y,z=f.aCYAv(_a,-(a.rotation??0)),v=f[o(473)](N*Math[o(426)](z),f.eXhUI(m,Math.sin(z))),p=f.lATMl(f[o(416)](N,Math[o(478)](z)),m*Math[o(426)](z)),B=f.xLFqB(v,y),H=p/w;return B<-.05||B>1.08?o(457):f.rIJot(Math[o(425)](H),.75)?f.MfXhA:Math.abs(H)>.45?f[o(465)]:B>.75?o(421):f[o(415)](B,.3)?"scale":f[o(442)]}function Tt(u,i){u=u-403;const a=R0();let r=a[u];if(Tt.VXBgUs===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};Tt.DCqohU=o,Tt.rNHuEt={},Tt.VXBgUs=!0}const f=a[0],b=u+f,g=Tt.rNHuEt[b];if(g)r=g;else{const h=function(d){this.cIQxNM=d,this.bXmIOG=[1,0,0],this.PSGDNJ=function(){return"newState"},this.RAuOLd="\\w+ *\\(\\) *{\\w+ *",this.cYKJjK=`['|"].+['|"];? *}`};h.prototype.UfMOTb=function(){const d=new RegExp(this.RAuOLd+this.cYKJjK),y=d.test(this.PSGDNJ.toString())?--this.bXmIOG[1]:--this.bXmIOG[0];return this.BEDGCU(y)},h.prototype.BEDGCU=function(d){return~d?this.cdeCLN(this.cIQxNM):d},h.prototype.cdeCLN=function(d){for(let y=0,w=this.bXmIOG.length;y<w;y++)this.bXmIOG.push(Math.round(Math.random())),w=this.bXmIOG.length;return d(this.bXmIOG[0])},new h(Tt).UfMOTb(),r=Tt.DCqohU(r),Tt.rNHuEt[b]=r}return r}function er(u,i){const a=Tt,r={GcYOH:"rotate",nYbHh:"move",IfbXd:a(457)};switch(u){case r[a(441)]:return a(480)+i+'rotate_cursor_32.png") 16 16, crosshair';case a(455):return a(480)+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case a(443):return a(480)+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case r.nYbHh:return ir(i);case r[a(483)]:default:return"grab"}}function Ud(u,i){const a=Tt,r={SEQqo:"pointer",KmTpV:a(443),TMhuE:function(o,f){return o(f)},NDrWD:"none"};switch(u){case a(459):return r[a(456)];case a(421):return'url("'+i+a(429);case a(455):return'url("'+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case r[a(451)]:return'url("'+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case a(437):return'url("'+i+a(462);case a(477):return r[a(458)](ir,i);case r.NDrWD:default:return"grab"}}function ir(u){const i=Tt;return i(480)+u+i(411)}function Gn(u){const i=Tt;return'url("'+u+i(463)}function rm(u){return Tt(480)+u+'move_stencil_cursor_32.png") 16 16, move'}function um(u){return'url("'+u+'move_stencil_active_32.png") 16 16, grabbing'}(function(u,i){const a=an,r=u();for(;;)try{if(-parseInt(a(514))/1*(-parseInt(a(473))/2)+-parseInt(a(478))/3*(parseInt(a(510))/4)+parseInt(a(548))/5*(-parseInt(a(559))/6)+parseInt(a(524))/7*(parseInt(a(525))/8)+parseInt(a(509))/9+parseInt(a(493))/10*(-parseInt(a(551))/11)+parseInt(a(495))/12*(parseInt(a(480))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(O0,185033);const cm=(function(){let u=!0;return function(i,a){const r=u?function(){const o=an;if(a){const f=a[o(557)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),zx=cm(void 0,function(){const u=an,i={uQdib:u(519)};return zx[u(526)]().search(i.uQdib)[u(526)]().constructor(zx).search(u(519))});zx();function an(u,i){u=u-467;const a=O0();let r=a[u];if(an.JPOVBe===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};an.iszlZL=o,an.gsTGtZ={},an.JPOVBe=!0}const f=a[0],b=u+f,g=an.gsTGtZ[b];if(g)r=g;else{const h=function(d){this.IITxdE=d,this.HcIgEv=[1,0,0],this.JaQUMN=function(){return"newState"},this.BLLIsq="\\w+ *\\(\\) *{\\w+ *",this.FQkhpm=`['|"].+['|"];? *}`};h.prototype.GOenRD=function(){const d=new RegExp(this.BLLIsq+this.FQkhpm),y=d.test(this.JaQUMN.toString())?--this.HcIgEv[1]:--this.HcIgEv[0];return this.SITenk(y)},h.prototype.SITenk=function(d){return~d?this.MiRrOV(this.IITxdE):d},h.prototype.MiRrOV=function(d){for(let y=0,w=this.HcIgEv.length;y<w;y++)this.HcIgEv.push(Math.round(Math.random())),w=this.HcIgEv.length;return d(this.HcIgEv[0])},new h(an).GOenRD(),r=an.iszlZL(r),an.gsTGtZ[b]=r}return r}const w0=500*un;function O0(){const u=["C1z4Ahu","y2XPzw50wq","AfL5B0C","mZmZmtbpyNzpveW","DhjgCgi","ntG0ndeYmfP5zhPAvW","DerAwvm","zvjozMW","A2LUza","sxfzDNy","u3bSDhC","vuHPBwy","EenLtMy","qNz3Ewe","zMXVD2vYCW","v2LHreW","C2nHBgveCMfNuMvM","B2Dhswm","yxrvC1K","mty2mdGZm2fMtgPzEq","mtmYuffnu1r3","ChjLDMvUDerLzMf1Bhq","sejZv2S","Cgv0ywW","mKPyBM9WtW","z09HuKu","wuXutwu","y3vYCMvUDa","ywjZ","kcGOlISPkYKRksSK","BwfW","y2XPzw50wa","AuHODfC","DxbKyxrLuMfKAxvZrhjHzW","mZyWnuvSz0T5EG","mZKZnLLYBurHCG","Dg9tDhjPBMC","q05kChi","uwD3y2K","zg1bv3a","ChjVAMvJDa","BeTzCKS","zNDoAKS","v0vLvhy","C2vHCMnO","turzqLu","yMvNAw5sywrPDxneCMfN","wvfcuLa","zw5KuMfKAxvZrhjHzW","C3rHCNrAB29T","zMjts0S","tLvlz0S","zMroB0K","D2LKDgHty2fSzurYywDszwy","AfnyD0i","y3vYCMvUDfn2zW","Bw92zwq","C2HPzNrlzxK","mZC4mdu1qvnKCerJ","BgvHDMvZ","zMXVD2vYswq","ndK1tvL2u3HQ","C3rHCNq","AM5oC3m","y2XPy2TqzxrHBa","zMXVD2vYswrZ","C3rHCNrqB3m","yxbWBhK","t2TfD2e","mJrHue1yvgi","Cg9ZAxrPB24","Aw5JBhvKzxm","Ag12Bvy","C2v0ug9PBNrLCKnHChr1CMu","y2f2r2u","zMLUza","nJq2ntrur0LnD0m","ChvZAa","Cg9PBNrLCKLK","ufzLt2K","uu1zzKu","mZiWmtLhzNrYrw8","Aw5KzxG","mtn2t2P0DKy","yMvNAw5xAwr0AfnJywXLrhjHzW","yMvNAw5sB3rHDgLVBKrYywC","BwLU","Bgf5zxjjza","C3rHCNrdBgLLBNq","DKLOs0G","CLHvEM4","DfHNBe4","BgvUz3rO"];return O0=function(){return u},O0()}function xm(u){const i=an,a={tDZYS:function(S,_){return S-_},hSXwB:function(S,_){return S(_)},tgeWc:function(S,_){return S+_},riwIu:function(S,_){return S+_},cavGe:function(S,_){return S(_)},vIhKH:function(S,_){return S(_)},Bvwya:function(S,_){return S!==_},lKYrK:function(S,_){return S(_)},xCeNf:"project",IqYvv:function(S,_){return S>=_},SCXNX:function(S,_){return S<=_},lNnnN:i(469),tXglN:"eyGXJ",Qgwci:function(S,_){return S>=_},hKAxz:function(S,_){return S<=_},WEeTv:function(S,_){return S>_},qLvRd:function(S,_){return S(_)},xCYYE:"flower",HBsWk:function(S,_){return S(_)},vCwTR:i(549),YQBRP:function(S,_){return S===_},VNnrg:"myWOI",uoSBR:function(S,_,A){return S(_,A)},ajsVE:function(S,_){return S??_},eqGYQ:function(S,_){return S-_},PVeOi:function(S,_){return S-_},trFpb:function(S,_){return S/_},fdNoI:function(S,_){return S-_},OXvuM:function(S,_){return S(_)},hYyoG:"Spltw",TZCRU:function(S,_,A,M,j){return S(_,A,M,j)},fbSKK:function(S,_){return S!==_},YLTMe:i(535),dmAWp:function(S,_){return S(_)},eRNfl:i(513),uxRmF:function(S,_){return S===_},lPUtp:function(S,_){return S!==_},GplSc:function(S,_){return S===_},OxbwT:"layer",eOFqT:function(S,_){return S!==_},sVxhu:function(S,_){return S===_},iHhtW:function(S,_,A){return S(_,A)},OkEwa:function(S,_){return S(_)}},{project:r,selection:o,setSelection:f,applyUpdate:b,dragRef:g,zoom:h,pan:d,setPan:y,stageRef:w,clientToSvgPoint:N,togglePetalSelection:m}=u,z=lm({project:r,applyUpdate:b,stageRef:w,clientToSvgPoint:N}),v=ee.useRef(null),p=S=>{const _=i;S.preventDefault(),S.currentTarget?.setPointerCapture?.(S.pointerId),v.current={start:{x:S[_(521)],y:S[_(491)]},pan0:{...d}}},B=S=>{const _=i;if(!v[_(517)])return;const A=S.clientX-v[_(517)][_(552)].x,M=a.tDZYS(S.clientY,v[_(517)].start.y);a[_(544)](y,{x:a.tgeWc(v[_(517)].pan0.x,A),y:a.riwIu(v.current.pan0.y,M)})},H=()=>{v.current=null},q=a[i(558)](ee.useRef,null),[k,R]=ee.useState(null);return{beginPan:p,updatePan:B,endPan:H,marqueeRef:q,marqueeRect:k,beginMarquee:S=>{const _=i;S.preventDefault(),S.currentTarget?.[_(470)]?.(S[_(475)]);const A=N(S);q[_(517)]={startSvg:A,currentSvg:A},a[_(471)](R,null)},updateMarquee:S=>{const _=i,A={ZXQZA:function(M,j){return a.riwIu(M,j)}};if(_(541)==="NUKgK"){if(!q[_(517)])return;const M=a[_(471)](N,S);q.current[_(545)]=M;const j=q[_(517)].startSvg,T=Math[_(483)](j.x,M.x),I=Math.min(j.y,M.y),X=Math.abs(a[_(496)](M.x,j.x)),O=Math[_(518)](M.y-j.y);a.vIhKH(R,{x:T,y:I,w:X,h:O})}else _0x2f2fef.position.x>=_0x4cab4c&&_0x55a1f0[_(467)].x<=A.ZXQZA(_0x47c1a9,_0x243349)&&_0x49db0b.position.y>=_0x4a5dca&&_0x445ff3[_(467)].y<=_0x8ebbf2+_0x5b89c7&&_0x431378[_(474)](_0x581ba0.id)},endMarquee:()=>{const S=i,_={atUsY:function(U,$){return a[an(471)](U,$)},jnNss:S(519),tXNsT:function(U,$,ae,fe,be){return U($,ae,fe,be)}},A=q.current;if(q[S(517)]=null,!A)if(a[S(503)](S(527),"laGKF")){a[S(544)](R,null);return}else _[S(508)](_0x4344e3,{kind:S(549),leafIds:_0x3f7f54});const M=A.startSvg,j=A.currentSvg;if(Math.hypot(a.tDZYS(j.x,M.x),j.y-M.y)<3){if(a[S(503)](S(487),S(487)))return _0x383933.toString()[S(534)](dNHDeL[S(553)]).toString().constructor(_0x3dd765)[S(534)](dNHDeL.jnNss);a.lKYrK(f,{kind:a[S(502)]}),R(null);return}const I=Math[S(483)](M.x,j.x),X=Math[S(483)](M.y,j.y),O=Math[S(518)](j.x-M.x),D=Math[S(518)](j.y-M.y),G=[];for(const U of r.flowers)U.position.x>=I&&U[S(467)].x<=I+O&&a[S(499)](U.position.y,X)&&a.SCXNX(U[S(467)].y,X+D)&&G.push(U.id);const Y=[];for(const U of r.leaves??[])a.lNnnN===a[S(488)]?_0xbee715.isShiftPressed?_.tXNsT(_0x4d2ca6,_0x5eb516.flowerId,_0x3eeef0.clickPetal.layerId,_0x4a2381[S(554)][S(479)],!0):_.atUsY(_0x1290e3,{kind:S(513),flowerId:_0x14b5d5[S(550)],layerId:_0x3572d1[S(554)].layerId,index:_0xd59699[S(554)].index}):a[S(528)](U[S(467)].x,I)&&a.hKAxz(U[S(467)].x,I+O)&&a.Qgwci(U.position.y,X)&&U.position.y<=a.tgeWc(X,D)&&Y.push(U.id);if(a[S(533)](G.length,0))if(G.length===1)if(a[S(503)](S(505),"WiaDL")){_0x28511a(null);return}else a.qLvRd(f,{kind:a.xCYYE,flowerId:G[0]});else a[S(512)](f,{kind:"flowers",flowerIds:G});else if(Y[S(489)]>0)Y.length===1?f({kind:"leaf",leafId:Y[0]}):f({kind:a.vCwTR,leafIds:Y});else if(a[S(537)]("myWOI",a.VNnrg))f({kind:S(530)});else{if(!_0x4bef68[S(517)])return;const U=_0x3aa910(_0x3156d5);_0x16cd86[S(517)].currentSvg=U;const $=_0x2279f2.current.startSvg,ae=_0x1d6f12[S(483)]($.x,U.x),fe=_0x3b6875[S(483)]($.y,U.y),be=_0xc029f.abs(a[S(496)](U.x,$.x)),oe=_0x368748[S(518)](U.y-$.y);_0x5b2b9f({x:ae,y:fe,w:be,h:oe})}R(null)},beginFlowerDrag:(S,_,A)=>{const M=i;_[M(511)](),_.currentTarget?.[M(470)]?.(_[M(475)]);const j=r.flowers[M(472)](I=>I.id===S);if(!j)return;let T=null;if(o.kind==="flowers"&&o[M(555)][M(468)](S))T=o.flowerIds[M(520)](I=>{const X=M,O=r[X(504)][X(472)](D=>D.id===I);return{id:I,x:O?.[X(467)].x??0,y:O?.[X(467)].y??0}});else{const I=a.uoSBR(jh,r,S);I.length>1&&(T=I.map(X=>{const O=M,D=r.flowers.find(G=>G.id===X);return{id:X,x:D?.position.x??0,y:D?.[O(467)].y??0}}))}g.current={flowerId:S,startClient:{x:_[M(521)],y:_[M(491)]},startPos:{...j[M(467)]},moved:!1,clickPetal:a.ajsVE(A,null),isShiftPressed:_[M(547)]||!1,multiStartPositions:T,startZoom:h}},updateFlowerDrag:S=>{const _=i,A={fwNjK:function(O,D){return a[an(486)](O,D)},LZJsU:"project",QMYfE:function(O,D){return a.eqGYQ(O,D)},GbRRe:function(O,D){return O+D},BegVy:function(O,D){return O===D},EtMTj:"ZYGet",sukil:function(O,D){return a.YQBRP(O,D)},gOaRE:function(O,D,G,Y){return O(D,G,Y)},UHimf:function(O,D){return O+D},ogGIc:function(O,D,G,Y){return O(D,G,Y)}},M=g[_(517)];if(!M)return;const j=a[_(476)](S[_(521)],M[_(485)].x)/M[_(539)],T=a[_(494)](a[_(542)](S[_(491)],M[_(485)].y),M.startZoom),I=S[_(521)]-M.startClient.x,X=a.eqGYQ(S[_(491)],M.startClient.y);Math[_(518)](I)+Math.abs(X)>4&&(M.moved=!0),b(O=>{const D=_;if(A.BegVy("ZYGet",A.EtMTj))if(M.multiStartPositions)for(const G of M.multiStartPositions)if(A.sukil("dWSjy","XTTSi"))FakrlV[D(532)](_0x55b5cf,{kind:FakrlV.LZJsU});else{const Y=O[D(504)][D(472)](U=>U.id===G.id);if(!Y)continue;Y[D(467)].x=A[D(515)](we,A[D(501)](G.x,j),0,w0),Y.position.y=A[D(507)](we,A.UHimf(G.y,T),0,w0)}else{const G=O.flowers[D(472)](Y=>Y.id===M[D(550)]);if(!G)return;G[D(467)].x=we(M.startPos.x+j,0,w0),G.position.y=A[D(507)](we,M[D(556)].y+T,0,w0)}else{if(!_0x8f0b01.current)return;const G=FakrlV[D(477)](_0x189bff.clientX,_0x2c23b6[D(517)].start.x),Y=_0x3f018f.clientY-_0x359428[D(517)][D(552)].y;FakrlV.fwNjK(_0x29273b,{x:_0x426615.current.pan0.x+G,y:FakrlV.GbRRe(_0x27106a[D(517)].pan0.y,Y)})}},!1)},endFlowerDrag:()=>{const S=i,_=g.current;if(_){if(!_[S(546)]&&_.clickPetal)if(S(500)!==a[S(492)])_0x3c7e10.push(_0x494b6e.id);else if(_.isShiftPressed)a.TZCRU(m,_.flowerId,_[S(554)][S(484)],_.clickPetal[S(479)],!0);else if(a[S(540)](a[S(516)],"Nllau"))a[S(529)](f,{kind:a[S(497)],flowerId:_.flowerId,layerId:_[S(554)].layerId,index:_.clickPetal.index});else{a.OXvuM(_0x535c2b,{kind:"project"}),a[S(531)](_0x1eefa5,null);return}else _.moved&&((a.uxRmF(o[S(498)],a.xCeNf)||a.YQBRP(o[S(498)],a.xCYYE)&&a.lPUtp(o.flowerId,_[S(550)])||a.GplSc(o[S(498)],a.OxbwT)&&a.eOFqT(o.flowerId,_[S(550)])||a[S(490)](o.kind,a.eRNfl)&&a.fbSKK(o[S(550)],_.flowerId))&&a.cavGe(f,{kind:"flower",flowerId:_[S(550)]}),a[S(522)](b,()=>{},!0));g[S(517)]=null}},scaleDragRef:z[i(506)],beginScaleDrag:z.beginScaleDrag,updateScaleDrag:z.updateScaleDrag,endScaleDrag:z.endScaleDrag,rotationDragRef:z.rotationDragRef,beginRotationDrag:z[i(482)],updateRotationDrag:z.updateRotationDrag,endRotationDrag:z.endRotationDrag,widthScaleDragRef:z[i(543)],beginWidthScaleDrag:z[i(481)],updateWidthScaleDrag:z.updateWidthScaleDrag,endWidthScaleDrag:z.endWidthScaleDrag,radiusDragRef:z.radiusDragRef,beginRadiusDrag:z[i(536)],updateRadiusDrag:z[i(523)],endRadiusDrag:z[i(538)]}}function sm({className:u}){return x.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function va(u){const i=!!u.selected,a=!!u.muted,r=4+(u.level||0)*12+(u.leftOffset||0),o=Math.max(0,r),f=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",b="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:g=>{u.onDoubleClick&&(g.stopPropagation(),u.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?x.jsx("span",{className:`${i?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:u.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?x.jsx("button",{type:"button",className:`${b} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:g=>{g.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(sm,{className:"h-4 w-4"})}):x.jsx("div",{className:`${b} shrink-0`,"aria-hidden":!0})]})]})}function om(u){const{project:i,selection:a,setSelection:r,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:b,handleFlowerRowDoubleClick:g,addFlower:h,deleteSelected:d,addOuterLayer:y,deleteOuterLayer:w,deleteFlowerById:N,deleteLayerById:m,treeScrollRef:z,setExpandedFlowers:v}=u,p=(L,Z)=>{const F=a.kind==="flower"&&a.flowerId===L.id,W=a.kind==="flowers"&&a.flowerIds.includes(L.id),Q=F||W,S="",_=o(L.id),A=L.layers&&L.layers.length>0,M=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:j=>{j.stopPropagation(),y(L.id)},"aria-label":"Add outer layer",children:"+"}),A&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:j=>{j.stopPropagation(),w(L.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":L.id,"data-testid":`tree-flower-${L.id}`,style:{paddingLeft:Z},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${_?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:_?"Collapse layers":"Expand layers",onClick:j=>{j.stopPropagation(),f(L.id)},"aria-label":_?"collapse":"expand","data-tree-toggle":!0,children:_?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(va,{label:L.name,marker:S,selected:Q,showTrash:F,onTrash:()=>N(L.id),rightActions:M,onClick:()=>b(L.id),onDoubleClick:()=>g(L.id),level:0,leftOffset:-18})})]}),_&&L.layers.slice().sort((j,T)=>T.order-j.order).map(j=>{const T=(a.kind==="layer"||a.kind==="petal")&&a.layerId===j.id;return x.jsx(va,{label:`${j.order}. ${j.name}`,marker:"",selected:T,showTrash:T,onTrash:()=>m(L.id,j.id),onClick:()=>{r({kind:"layer",flowerId:L.id,layerId:j.id}),v(I=>({...I,[L.id]:!0}))},level:0,leftOffset:10,muted:!j.visible},j.id)})]},L.id)},B=u.groups,H=new Set(B.flatMap(L=>L.flowerIds)),q=i.flowers.filter(L=>!H.has(L.id)),k=u.leafGroups,R=new Set(k.flatMap(L=>L.leafIds)),V=u.leaves.filter(L=>!R.has(L.id));return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex gap-1 flex-wrap",children:[x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),x.jsxs("div",{className:"mt-1.5",ref:z,"data-testid":"layer-tree",children:[x.jsx(va,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),B.length>0&&x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsx("div",{className:"flex items-center px-0.5",children:x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),x.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...B].reverse().map(L=>{const Z=a.kind==="group"&&a.groupId===L.id,F="",W=u.isGroupExpanded(L.id);return x.jsxs("div",{"data-group-id":L.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${W?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:W?"":"",onClick:Q=>{Q.stopPropagation(),u.toggleGroupExpanded(L.id)},"aria-label":W?"collapse group":"expand group",children:W?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(va,{label:L.name,marker:F,selected:Z,onClick:()=>u.onSelectGroup(L.id),level:0,leftOffset:-18})})]}),W&&L.flowerIds.map(Q=>{const S=i.flowers.find(_=>_.id===Q);return S?p(S,12):null})]},L.id)})})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...q].reverse().map(L=>p(L,0)),q.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[k.map(L=>{const Z=a.kind==="leafGroup"&&a.leafGroupId===L.id;return x.jsxs("div",{children:[x.jsx(va,{label:` ${L.name}`,selected:Z,onClick:()=>u.onSelectLeafGroup(L.id),level:0,leftOffset:0}),L.leafIds.map(F=>{const W=u.leaves.find(S=>S.id===F);if(!W)return null;const Q=a.kind==="leaf"&&a.leafId===W.id;return x.jsx(va,{label:W.name,selected:Q,showTrash:Q,onTrash:()=>u.onDeleteLeaf(W.id),onClick:()=>u.onSelectLeaf(W.id),level:0,leftOffset:12,muted:!W.visible},W.id)})]},L.id)}),[...V].reverse().map(L=>{const Z=a.kind==="leaf"&&a.leafId===L.id;return x.jsx(va,{label:L.name,selected:Z,showTrash:Z,onTrash:()=>u.onDeleteLeaf(L.id),onClick:()=>u.onSelectLeaf(L.id),level:0,leftOffset:0,muted:!L.visible},L.id)}),u.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const xe=Kn;function Kn(u,i){u=u-454;const a=H0();let r=a[u];if(Kn.eEgJtn===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};Kn.wegAlt=o,Kn.qwTQlY={},Kn.eEgJtn=!0}const f=a[0],b=u+f,g=Kn.qwTQlY[b];if(g)r=g;else{const h=function(d){this.EkbLAc=d,this.bxENZB=[1,0,0],this.ssaKtX=function(){return"newState"},this.NJTikw="\\w+ *\\(\\) *{\\w+ *",this.bobJMo=`['|"].+['|"];? *}`};h.prototype.GGfBCF=function(){const d=new RegExp(this.NJTikw+this.bobJMo),y=d.test(this.ssaKtX.toString())?--this.bxENZB[1]:--this.bxENZB[0];return this.zQlhgr(y)},h.prototype.zQlhgr=function(d){return~d?this.lcfQqm(this.EkbLAc):d},h.prototype.lcfQqm=function(d){for(let y=0,w=this.bxENZB.length;y<w;y++)this.bxENZB.push(Math.round(Math.random())),w=this.bxENZB.length;return d(this.bxENZB[0])},new h(Kn).GGfBCF(),r=Kn.wegAlt(r),Kn.qwTQlY[b]=r}return r}(function(u,i){const a=Kn,r=u();for(;;)try{if(parseInt(a(536))/1+parseInt(a(553))/2*(-parseInt(a(542))/3)+parseInt(a(529))/4*(-parseInt(a(478))/5)+parseInt(a(469))/6+parseInt(a(534))/7*(-parseInt(a(512))/8)+parseInt(a(538))/9+-parseInt(a(525))/10*(parseInt(a(502))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(H0,823534);const fm=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),Dx=fm(void 0,function(){const u=Kn;return Dx.toString()[u(549)](u(455))[u(495)]().constructor(Dx).search(u(455))});Dx();const e1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}};function H0(){const u=["AgvPz2H0","tcaTndaGmtm0","5OIq5lQ65AwZ5OcN","qYaTntqGmJaSic02nIaYmIWGltCYidmY","AM9PBG","tcaTnZaGmJqW","mta0nZuWotzdD2rxveW","qYaTndqGnIWGltiWidaSidaGma","tLvVEuq","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYa3mcaXmdySidCWideWocWGnZmGmteW","5y+Z5zcr44gn","5BEM5zcr44gn","qYaTnJyGodySic02nca3ocWGlty0idy4","z1rfshq","qYaTodGGnZiSic04nca2mIWGltC2idu2","tsaWida","qYa1nYa3msWGntKGnZuSidyZidC5","mtbxzNbLvu8","qYaZmcaXntiSidmYide2nIWGntuGmJaY","tcaTmZaGmJqW","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","mtKXnZmWohn2vvjLtq","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","ywr1Bhq","C2LKzq","D2LKDgG","n2PMDg1Rvq","rxn2AeC","mtq0nZKWmLbXtwrKDq","tcaTmtaWidi0ma","mti0mdu5ndjUsxnLC0m","tsaTndaGmtm0","qYa0nca1ncWGmtyGndGSic0Xmca0nG","qYa3mIaXndiSidyWide1mIWGndGGmtyY","m3fNwfrxAa","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTodmGodySic04mIa3ncWGltGWidyY","qYaTndaGmtaSic0XocaXlcaWida","qYa0mYaZmIWGndqGmJGSidq2idi2","C2vHCMnO","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","nZq0ode0qunOq01K","qYaTmZaGntqSic00oca0ocWGltyYidq0","qYa4mIa3ncWGodmGodySidGYidK4","qYa2nsaXmIWGnZiGmJySidC2idqY","qYaTntyGmZySic01mcaYnIWGltqYide4","qYa2nca3ocWGnJyGodySidy2idK0","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","yMfJAW","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","kcGOlISPkYKRksSK","qYaYmcaXndGSideWide1mcWGmcaXnta","qYaTndiGnJiSic00mca1mcWGltqYidm4","vw9muhq","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYaTntGGntaSic01nca1ocWGltuWidCW","qYa3mIa2osWGnJKGnZiSidy2idC2","sMncuve","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","tsaWidCW","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYa3oca0mcWGnZGGntqSidCYidyY","odqYode3meXeqMXMtq","qYa2nca0ncWGnJqGntaSidyZidu2","qYaTmJiGnIWGlteWideSidaGma","qYa1nYa5msWGntCGotmSidu5idK1","qYa2nsa4msWGnJyGodmSidy2idG1","qYa3oca5mYWGodiGotySidGZidK5","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","tcaTmZyGmJGW","nuz2z0rkDq","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","sLnpD0u","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYaTncaTmsWGlteGlteSidaGma","qYaTndyGodySic00mIaXmdySic00mcaXmJy","5B6m44kn5zcr44gn","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","CMLNAhq","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYaTndmGmZiSic00ncaYocWGltq2idi2","tcaTmti1idi4ma","Dg9tDhjPBMC","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","l3rZDw1HBwKV","A2rquvq","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","zvr2EM8","mtm3mtaXodbvtNvwqNa","tsaTndyGmJy","BgvMDa","qYa4ncaXmJiSidGYideYocWGnZGGmtm0"];return H0=function(){return u},H0()}const t1={adult:xe(508),child:""},n1={right:xe(518),left:xe(519),back:xe(488)},dm=[xe(523),xe(551),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76","C 65 80, 68 85, 74 90",xe(474),"C 83 101, 78 103, 72 105",xe(517),"C 75 112, 74 115, 72 118","C 69 121, 65 126, 61 131",xe(475),"C 37 150, 31 154, 27 161","C 23 171, 21 181, 19 191",xe(476),"C -17 249, -25 259, -33 269",xe(477),xe(494),xe(483),"C -68 212, -56 200, -48 190","C -42 182, -38 174, -36 166",xe(552),"C -48 134, -58 126, -68 118",xe(543),xe(522),xe(544),"C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"].join(" "),hm=["M 0 0","C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62",xe(555),"C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134",xe(541),"C 38 172, 32 180, 30 188","C 28 198, 34 212, 48 228","C 58 240, 74 258, 92 280","L -92 280",xe(496),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162","C -60 152, -72 142, -78 134",xe(492),"C -84 110, -81 104, -82 98",xe(546),xe(485),xe(513),"Z",xe(464),"C 16 66, 34 70, 42 82",xe(467),"C 46 126, 40 136, 30 142",xe(456),"C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82",xe(490),"Z"].join(" "),mm=["M 0 0","C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68",xe(524),xe(473),"C 66 86, 62 88, 58 90",xe(472),xe(550),xe(459),"C 32 125, 28 131, 26 139","C 22 151, 14 167, -2 183",xe(489),xe(527),xe(537),"C -86 218, -72 200, -58 186",xe(479),"C -35 150, -36 142, -40 134","C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44","C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z"].join(" "),bm=[xe(523),xe(545),"C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112","C 54 120, 44 130, 38 140",xe(526),"C 60 214, 66 228, 70 240",xe(511),"C -66 228, -60 214, -55 202","C -32 166, -30 152, -38 140","C -44 130, -54 120, -60 112",xe(530),"C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26",xe(547),"Z","M 46 26","C 54 20, 66 22, 72 32",xe(468),"C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z","M -46 26",xe(509),"C -78 40, -78 54, -72 62",xe(465),xe(457),xe(493),"Z"].join(" "),vm=[xe(523),xe(551),xe(556),"C 78 52, 77 60, 74 66",xe(461),"C 48 74, 20 64, -8 58",xe(554),xe(557),"C -34 10, -22 3, -10 0",xe(486),"Z","M -40 142",xe(481),xe(543),xe(522),"C -70 52, -66 48, -62 44",xe(460),xe(487),"L -40 142","Z"].join(" "),gm=["M 0 0","C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",xe(516),xe(505),"C 62 142, 42 152, 20 158","C 8 160, -8 160, -20 158",xe(559),xe(492),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20",xe(513),"Z",xe(464),"C 16 66, 34 70, 42 82",xe(467),xe(454),"C 20 148, 10 150, 0 150",xe(463),"C -40 136, -46 126, -48 116",xe(500),"C -34 70, -16 66, 0 70","Z"][xe(510)](" "),ym=[xe(523),"C 14 -4, 36 -4, 48 4",xe(515),xe(470),xe(540),"C -28 46, -40 44, -50 44","C -44 34, -38 22, -30 14",xe(471),"Z",xe(539),xe(561),"C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44","C -46 52, -42 64, -40 78",xe(484),xe(507),"Z"][xe(510)](" "),pm=["M 0 0",xe(545),"C 60 38, 64 52, 64 68",xe(558),"C 66 100, 64 106, 60 112",xe(482),"C 0 127, -12 126, -26 124","C -46 118, -60 112, -60 112","C -64 106, -66 100, -66 94",xe(520),"C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z","M 46 26","C 54 20, 66 22, 72 32",xe(468),"C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38",xe(548),"Z",xe(503),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62",xe(465),"C -42 62, -40 50, -42 38",xe(493),"Z"][xe(510)](" ");function _m(u,i){const a=xe,r={EsvhG:a(491),KDpmA:a(504),ilslk:function(f,b){return f===b},MNdSH:"adult"},o=i===r[a(535)]||i===r.KDpmA;return r.ilslk(u,r.MNdSH)?o?dm:hm:o?mm:bm}function Sm(u,i){const a=xe,r={eTvzo:function(f,b){return f===b},JSOwE:function(f,b){return f===b},KQNxk:a(504),gTEHt:function(f,b){return f===b},IGUMe:a(531)},o=r[a(501)](i,"right")||r[a(480)](i,r.KQNxk);return r[a(521)](u,r.IGUMe)?o?vm:gm:o?ym:pm}const Cm={right:"/tsumami/"+xe(528),left:"/tsumami/stencils/adult_left.png",back:xe(498)+xe(497)},wm={right:xe(498)+xe(466),left:xe(498)+"stencils/child_left.png",back:"/tsumami/stencils/child_back.png"},Mm={adult:Cm,child:wm};function jm(u,i){const a=xe,r={niSlM:a(491),kdPQT:function(g,h){return g===h},dbcLf:a(532),JcBQQ:function(g,h){return g===h},NUoyD:a(504)},o=i===r.niSlM||r[a(499)](i,a(504))?r.dbcLf:a(560),f=e1[u][o],b=Mm[u]?.[i]??null;return{path:_m(u,i),hairPath:Sm(u,i),scaleX:r[a(462)](i,r[a(514)])?-1:1,imageUrl:b,imageWidthMm:f[a(533)],imageHeightMm:f[a(506)]}}function I0(){const u=["Aw5PDgLHBfbHBG","wMX5Bxi","A2LRrgq","AxDTEwm","z0jYq3G","AhLWB3q","D2LKDgG","CgfU","D2rLzgu","Dg91y2HLCW","EKvSBe0","zxHW","Dg9W","qvbIDg8","y1bequ0","shzguMK","Dg9gAxHLza","C2vHCMnO","Dg91y2HTB3zL","mhWZFdf8nhWY","uMDUwwK","rK1ttKG","oe9lyLHqCW","mZe0ntaWmgzuB1vQua","yK5uu2O","nJiZmJiWD2ncC3jR","CMvTB3zLrxzLBNrmAxn0zw5LCG","rfPusvC","y3vYCMvUDa","sLfbv2i","wMLis1m","uejhshy","D2HLzwW","tu5pwu8","vMf4wwO","ndi4nJy5nfDzz2T4ra","ywrKrxzLBNrmAxn0zw5LCG","DfHYwKC","vKzrAgy","Dg91y2HLBMq","EMzqCvO","yKfxDfK","AgvPz2H0","CgrRsfC","qw1Zsha","uxnLEu4","Aw5PDgLHBfPVB20","z0T1veG","EhrYwMy","uuj2DxC","BgvUz3rO","y2XPzw50wq","BgvMDa","BwPRCu0","EM9VBuXLDMvS","mta4nde5meTrsLv5CG","Au1Iu2e","uNrKzu8","n3n1qxzvBG","mZq2nZKYtLbcBwft","refYr0i","EuryqKG","kcGOlISPkYKRksSK","mJuYmJm2wKXzsxnR","AgH5wxC","Aw5PDgLHBerPC3q","zwPTD1q","y2XPzw50wa","s2TPtg4","ENzMvKW","r2XQDLq","yKH2rxG","tunWBK8","CMv4q0m","z2v0qM91BMrPBMDdBgLLBNrszwn0","EM9VBq","nZKWntK1muzHwwnUBW","Dg91y2HZDgfYDa","Aw5PDgLHBenLBNrLCG","A2fivhC","sNzQrxC","r0fZu3u","ChjLDMvUDerLzMf1Bhq"];return I0=function(){return u},I0()}(function(u,i){const a=pn,r=u();for(;;)try{if(parseInt(a(230))/1+parseInt(a(226))/2+parseInt(a(275))/3+-parseInt(a(272))/4*(parseInt(a(222))/5)+-parseInt(a(285))/6*(-parseInt(a(225))/7)+parseInt(a(273))/8+-parseInt(a(243))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(I0,428831);const zm=(function(){const u={TyBVv:"touchmove",SplQz:function(a,r){return a===r}};let i=!0;return function(a,r){const o=pn,f={gQUDG:"touchstart",mqLJY:u.TyBVv,FjNMT:"touchend",KkiLn:function(g,h){return u.SplQz(g,h)},DNDoN:o(284)},b=i?function(){const g=o;if(r)if(f[g(235)](f.DNDoN,"VaxYj")){const h=r.apply(a,arguments);return r=null,h}else{const h={xtrZf:f.gQUDG,MCpnO:g(289),BOdud:g(282)},d=_0x4c2575[g(278)];return d?(d.addEventListener(g(244),_0x5c1112,{passive:!1}),d.addEventListener(f.mqLJY,_0x254d63,{passive:!1}),d.addEventListener(f.FjNMT,_0x5150f4),d[g(286)](g(282),_0x557efe,{passive:!1}),()=>{const y=g;d[y(276)](h[y(215)],_0x470c6b),d[y(276)](y(268),_0x4bdc79),d.removeEventListener(h[y(239)],_0x44bfd5),d.removeEventListener(h.BOdud,_0x16d760)}):void 0}}:function(){};return i=!1,b}})(),Nx=zm(void 0,function(){const u=pn,i={MNOYO:u(229)};return Nx.toString()[u(267)](i[u(283)]).toString().constructor(Nx)[u(267)](u(229))});Nx();function pn(u,i){u=u-209;const a=I0();let r=a[u];if(pn.roPtTF===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};pn.pVDtVx=o,pn.fuTAdp={},pn.roPtTF=!0}const f=a[0],b=u+f,g=pn.fuTAdp[b];if(g)r=g;else{const h=function(d){this.zJTREo=d,this.hiiSEy=[1,0,0],this.nYYryz=function(){return"newState"},this.tRWAKs="\\w+ *\\(\\) *{\\w+ *",this.LDyHHI=`['|"].+['|"];? *}`};h.prototype.XoFOYt=function(){const d=new RegExp(this.tRWAKs+this.LDyHHI),y=d.test(this.nYYryz.toString())?--this.hiiSEy[1]:--this.hiiSEy[0];return this.MpTujY(y)},h.prototype.MpTujY=function(d){return~d?this.QWykdX(this.zJTREo):d},h.prototype.QWykdX=function(d){for(let y=0,w=this.hiiSEy.length;y<w;y++)this.hiiSEy.push(Math.round(Math.random())),w=this.hiiSEy.length;return d(this.hiiSEy[0])},new h(pn).XoFOYt(),r=pn.pVDtVx(r),pn.fuTAdp[b]=r}return r}const ox=520;function Kd(u,i,a,r,o,f,b){const g=pn,h={hTJDs:function(y,w){return y+w},YqgwM:function(y,w){return y*w},bAWtY:function(y,w){return y+w}},d=r/a-1;return{x:b.x-d*h.hTJDs(-b.x,u*o),y:b.y-h.YqgwM(d,h[g(291)](-b.y,i*f))}}function Dm(u){const i=pn,a={zEllM:function(A,M){return A===M},GljvT:function(A){return A()},iZYgm:function(A){return A()},DArGB:function(A,M){return A+M},APbto:function(A,M){return A-M},yDXBH:function(A,M){return A===M},AmsHp:function(A,M){return A/M},cPDAM:function(A,M){return A+M},kikDd:function(A,M,j,T){return A(M,j,T)},EKMKv:function(A,M){return A+M},Ycvug:i(254),mWzgo:i(231),MzuDU:function(A,M){return A/M},FMSNH:function(A,M){return A*M},eXkkW:function(A,M){return A-M},VFQhf:function(A,M){return A/M},xrqjg:function(A,M){return A*M},ejmwT:function(A,M){return A(M)},RLPih:function(A,M){return A<M},YbjFs:function(A,M){return A<M},GAsSu:function(A,M){return A-M},UsZHG:function(A,M){return A-M},lSwWq:function(A,M){return A-M},NJITe:"wheel",PBGHv:i(289),uhGNR:function(A,M){return A/M},iMbSa:function(A,M){return A/M},JQAWb:function(A,M){return A-M},kaHTw:function(A,M){return A/M},JvjEw:function(A,M){return A!==M},ZiHKS:function(A,M){return A-M},yyPTA:function(A,M){return A/M},SerQR:"CoeqJ",hmySC:function(A,M,j,T){return A(M,j,T)},QBvuw:function(A,M){return A*M},ugdCd:function(A,M,j,T,I,X,O,D){return A(M,j,T,I,X,O,D)},NeHha:function(A,M){return A(M)},bHvEx:"xYxpx",bNTSj:function(A,M){return A(M)},wdede:function(A,M,j){return A(M,j)},uSyxi:function(A,M){return A(M)},AYKfl:function(A,M){return A(M)},tXrZG:function(A,M,j){return A(M,j)},zvfVL:function(A,M,j){return A(M,j)}},{setZoom:r,setPan:o,setZoomLevel:f,ZOOM_LEVELS:b,stageRef:g,endPan:h,endFlowerDrag:d,endMarquee:y,endRotationDrag:w,endScaleDrag:N,endWidthScaleDrag:m,endRadiusDrag:z}=u,v=a[i(233)](ee.useRef,null),p=a[i(274)](ee.useRef,u[i(257)]),B=ee.useRef(u[i(242)]);a[i(258)](ee.useEffect,()=>{p.current=u.pan},[u.pan]),ee.useEffect(()=>{const A=i;B[A(278)]=u[A(242)]},[u[i(242)]]);const H=ee.useRef(u.zoomLevel);ee.useEffect(()=>{H.current=u.zoomLevel},[u[i(221)]]);const q=a.uSyxi(ee.useRef,null),k=a.AYKfl(ee.useRef,null),R=a[i(287)](ee.useCallback,A=>{const M=i;if(a[M(260)](A.touches.length,2)){A.preventDefault(),a.GljvT(h),d(),y(),w(),a.iZYgm(N),m(),z(),q[M(278)]=null,k[M(278)]=null;const j=A[M(259)][0],T=A[M(259)][1],I=(j.clientX+T[M(234)])/2,X=a.DArGB(j.clientY,T[M(218)])/2,O=Math[M(255)](T.clientX-j.clientX,a.APbto(T[M(218)],j[M(218)]));v[M(278)]={initialCenter:{x:I,y:X},initialDist:O,initialPan:{...p.current},initialZoom:B.current}}},[h,d,y,w,N,m,z]),V=ee.useCallback(A=>{const M=i;if(a.yDXBH(A.touches.length,2)&&v[M(278)]){A.preventDefault();const j=A[M(259)][0],T=A.touches[1],I=a[M(211)](j[M(234)]+T.clientX,2),X=a[M(264)](j[M(218)],T.clientY)/2,O=Math.hypot(T[M(234)]-j[M(234)],a[M(263)](T.clientY,j[M(218)])),D=v[M(278)],G=a.AmsHp(O,Math.max(1,D.initialDist)),Y=a[M(252)](we,Number((D.initialZoom*G)[M(266)](3)),b[0],b[b.length-1]),U=D[M(213)],$=a[M(263)](I,D[M(245)].x),ae=X-D.initialCenter.y;let fe=a.EKMKv(D[M(250)].x,$),be=a[M(227)](D.initialPan.y,ae);const oe=g[M(278)];if(oe&&U!==Y)if(a.Ycvug!==a.mWzgo){const de=oe[M(241)](),Me=a.MzuDU(a[M(263)](D.initialCenter.x,de[M(219)]),de.width),Le=a.APbto(D.initialCenter.y,de.top)/de.height,Ee=de.width/de[M(209)],Ge=ox,ot=Ge*Ee,_t=a[M(271)](a.eXkkW(a.MzuDU(Y,U),1),-D.initialPan.x+Me*ot),mt=a[M(271)](a.eXkkW(a[M(288)](Y,U),1),-D[M(250)].y+a.xrqjg(Le,Ge));fe-=_t,be-=mt}else _0x485b01[M(278)]=_0x4a99bb;const me={x:fe,y:be};B.current=Y,p.current=me,o(me),a.ejmwT(r,Y)}},[o,r,g,b]),L=a.wdede(ee.useCallback,A=>{const M=i;a.RLPih(A.touches[M(217)],2)&&(v[M(278)]=null)},[]),Z=.003,F=ee.useCallback(A=>{const M=i;A[M(249)]();const j=g[M(278)];if(!j)return;const T=B[M(278)],I=a[M(271)](T,Math[M(261)](-A.deltaY*Z)),X=we(I,b[0],b[b[M(217)]-1]);if(a.YbjFs(Math.abs(a[M(248)](X,T)),1e-6))return;const O=j.getBoundingClientRect(),D=a.UsZHG(A[M(234)],O.left)/O[M(256)],G=a.lSwWq(A[M(218)],O[M(262)])/O.height,Y=O.width/O[M(209)],U=ox,$=U*Y,ae=Kd(D,G,T,X,$,U,p.current);B.current=X,p.current=ae,r(X),o(ae)},[r,o,g,b]);a[i(258)](ee.useEffect,()=>{const A=i,M={zfPqZ:"touchstart",Zlymr:A(268),DZTIW:a.NJITe},j=g[A(278)];if(j)return j[A(286)]("touchstart",R,{passive:!1}),j[A(286)](A(268),V,{passive:!1}),j[A(286)](a[A(281)],L),j.addEventListener(a.NJITe,F,{passive:!1}),()=>{const T=A;j.removeEventListener(M[T(290)],R),j.removeEventListener(M[T(251)],V),j.removeEventListener("touchend",L),j.removeEventListener(M[T(277)],F)}},[g,R,V,L,F]);const W=a.tXrZG(ee.useCallback,A=>{const M=i;if(a[M(247)]("CoeqJ",a.SerQR)){if(kTzkFz.iMySq(_0x46ec36.touches[M(217)],2)&&_0x50d676.current){_0x50399b[M(249)]();const j=_0x17e7a5.touches[0],T=_0x104e9f.touches[1],I=kTzkFz.ugZgF(j.clientX+T.clientX,2),X=kTzkFz.MGBMO(j[M(218)],T.clientY)/2,O=_0x40a173.hypot(T.clientX-j.clientX,kTzkFz.FqdPc(T.clientY,j.clientY)),D=_0x56d0c3[M(278)],G=O/_0x37dad7.max(1,D[M(232)]),Y=kTzkFz[M(270)](_0xb1d71b,kTzkFz[M(214)](_0x4589fd,kTzkFz[M(240)](D.initialZoom,G)[M(266)](3)),_0x4d7ba3[0],_0x285255[_0x3c67be[M(217)]-1]),U=D.initialZoom,$=kTzkFz[M(265)](I,D[M(245)].x),ae=X-D.initialCenter.y;let fe=kTzkFz.kxNha(D.initialPan.x,$),be=D.initialPan.y+ae;const oe=_0x56bd47[M(278)];if(oe&&kTzkFz.CmghT(U,Y)){const de=oe.getBoundingClientRect(),Me=kTzkFz.XZMSC(kTzkFz[M(224)](D[M(245)].x,de.left),de[M(256)]),Le=kTzkFz.SAhPV(D[M(245)].y,de.top)/de.height,Ee=kTzkFz[M(253)](de[M(256)],de.height),Ge=_0x408ee1,ot=kTzkFz[M(240)](Ge,Ee),_t=kTzkFz[M(220)](kTzkFz[M(265)](Y/U,1),-D[M(250)].x+kTzkFz[M(240)](Me,ot)),mt=kTzkFz[M(210)](kTzkFz.UToXf(Y,U),1)*(-D[M(250)].y+Le*Ge);fe-=_t,be-=mt}const me={x:fe,y:be};_0x5d560e[M(278)]=Y,_0x530344[M(278)]=me,kTzkFz.gKuTH(_0x48246b,me),_0x1ba046(Y)}}else{const j=H.current,T=a.hmySC(we,a[M(264)](j,A),0,a[M(279)](b[M(217)],1));if(T===j)return;const I=B[M(278)],X=b[T],O=g.current;if(!O)if(M(212)!==M(212)){if(_0x5ce4b4[M(259)][M(217)]===2){_0x40b49f[M(249)](),_0x33f35b(),a[M(237)](_0x53d7eb),_0x59c99c(),_0x18ba6a(),_0x423c0b(),_0x57aded(),_0x2a2a3a(),_0x28f619.current=null,_0xa5e887.current=null;const ae=_0x1f1aa8[M(259)][0],fe=_0x15cfa5.touches[1],be=a.uhGNR(ae.clientX+fe[M(234)],2),oe=a[M(223)](ae.clientY+fe[M(218)],2),me=_0x1ed9c0[M(255)](a.JQAWb(fe[M(234)],ae[M(234)]),fe[M(218)]-ae.clientY);_0x2b6866.current={initialCenter:{x:be,y:oe},initialDist:me,initialPan:{..._0x379158[M(278)]},initialZoom:_0x33fdb8[M(278)]}}}else{f(T);return}const D=O[M(241)](),G=D.width/D.height,Y=ox,U=a[M(216)](Y,G),$=a.ugdCd(Kd,.5,.5,I,X,U,Y,p.current);B[M(278)]=X,H[M(278)]=T,p.current=$,f(T),a.ejmwT(o,$)}},[f,o,g,b]),Q=ee.useCallback((A,M)=>{const j=i,T=j(269).split("|");let I=0;for(;;){switch(T[I++]){case"0":H[j(278)]=A;continue;case"1":p.current={x:0,y:0};continue;case"2":a.ejmwT(o,{x:0,y:0});continue;case"3":B.current=M;continue;case"4":a.NeHha(f,A);continue}break}},[f,o]),S=a.zvfVL(ee.useCallback,A=>{const M=i;a.zEllM(a[M(238)],a[M(238)])?q[M(278)]=A:_0x329ea1.current=_0x4624e0.zoomLevel},[]),_=a[i(236)](ee.useCallback,A=>{const M=i;k[M(278)]=A},[]);return{multiTouchRef:v,touchBgStartRef:q,mouseBgStartRef:k,zoomAtCenter:W,resetView:Q,setTouchBgStart:S,setMouseBgStart:_}}function ni(u,i){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),r=parseInt(u.slice(3,5),16),o=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(o))return u;const f=1-i;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(r*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function Nm(u){const{flower:i,project:a,paletteMap:r}=u,o=ee.useRef(null),f=ee.useRef(!1),b=ee.useRef(null);ee.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const g=ee.useMemo(()=>[...i.layers||[]].sort((H,q)=>H.order-q.order),[i.layers]),h=i.fabricSquareSize??a.fabricSquareSize,{length:d,width:y}=Yt(h),{flowerOuterR:w,centerHitR:N}=ee.useMemo(()=>{let H=12,q=1/0;for(const R of g){if(!R.visible)continue;const V=R.scale??1,L=d*V,F=Math.max(0,R.radius-L*.28),W=F+L;H=Math.max(H,W),F<q&&(q=F)}isFinite(q)||(q=0);const k=Math.max(q*.9,8);return{flowerOuterR:H,centerHitR:k}},[g,d]),m=(H,q)=>H?.petalOverrides?.find(k=>k.index===q)??null,z="pointer",v=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,p=u.zoneCursorValue??"grab",B=H=>{if(H.stopPropagation(),H.button===0){if(H.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(H)}};return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:H=>{H.stopPropagation(),u.onDoubleClick?.()},style:{cursor:v?p:ir("/tsumami/")},"data-testid":`flower-${i.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,w),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),g.map(H=>{if(!H.visible)return null;const k=r.get(H.colorId)?.hex??"#999",R=360/Math.max(1,H.petalCount),V=H.scale??1,L=d*V,F=y*(H.widthScale??1)*V,Q=Math.max(0,H.radius-L*.28),S=mx(""),_=mx(""),A=Q+L,M=u.isSelected&&u.selectedLayerId===H.id,j=u.isSelected&&(u.selectedPetal?.layerId===H.id||(u.selectedPetals?.some(T=>T.layerId===H.id)??!1));return x.jsxs("g",{children:[Array.from({length:H.petalCount}).map((T,I)=>{const X=m(H,I),D=(X?.petalType??H.petalType)===""?S:_,G=r.get(X?.colorId??H.colorId)?.hex??k,Y=H.offsetAngle+I*R,U=_a(Y),$=Math.cos(U)*Q,ae=Math.sin(U)*Q,fe=u.isSelected&&u.selectedPetal?.layerId===H.id&&u.selectedPetal?.index===I,be=u.isSelected&&(u.selectedPetals?.some(de=>de.layerId===H.id&&de.index===I)??!1),oe=fe||be,me=v?p:ir("/tsumami/");return x.jsxs("g",{transform:`translate(${$} ${ae}) rotate(${Y})`,children:[x.jsx("path",{d:D,transform:`scale(${L} ${F})`,fill:G,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:H.locked?.55:.95,style:{cursor:me},onPointerDown:de=>{if(de.stopPropagation(),de.button!==0)return;const Me=de.shiftKey,Le=de.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,Me&&u.onTogglePetalSelection){de.preventDefault(),de.stopPropagation(),u.onTogglePetalSelection(H.id,I,!0);return}if(Le&&u.onTogglePetalSelection){b.current={x:de.clientX,y:de.clientY};const _t=H.id,mt=I;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,u.onTogglePetalSelection?.(_t,mt,!0),navigator.vibrate?.(30)},500)}const Ee=u.isSelected&&u.selectedLayerId!=null,Ge=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||Ee||Ge){u.onBeginDragFromLayerPetal(H.id,I,de);return}u.onBeginDragFromLayerPetal(H.id,I,de)},onPointerMove:de=>{if(o.current&&b.current){const Me=de.clientX-b.current.x,Le=de.clientY-b.current.y;Math.hypot(Me,Le)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:de=>{de.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(H.id)}}),H.doublePetal&&(()=>{const de=H.doublePetal,Me=X?.innerSizeReduction??de.innerSizeReduction??2,Le=h*(V||1);if(Le<=0)return null;const Ge=Math.max(Le*.3,Le-Me)/Le,ot=D,_t=X?.innerColorId??de.innerColorId??X?.colorId??H.colorId,mt=r.get(_t)?.hex??G,bt=L*Ge,Ut=F*Ge;return x.jsx("path",{d:ot,transform:`scale(${bt} ${Ut})`,fill:mt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:H.locked?.55:.95,pointerEvents:"none"})})(),(oe||M||u.isFlowerSelected)&&x.jsx("path",{d:D,transform:`scale(${L} ${F})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${H.id}-${I}`)]},I)}),M&&!j&&x.jsx("circle",{r:A,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},H.id)}),u.isFlowerSelected&&x.jsx("circle",{r:w,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const H=i.center,q=kh(H.size),k=r.get(H.color)?.hex??"#D4A843",R=H.color2?r.get(H.color2)?.hex??"#C0C0C0":"#D4A843",V=Math.max(q,N);switch(H.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:q,fill:k,stroke:ni(k,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:z},onPointerDown:B})]});case"":{const Z=q*.42,F=q,W=q*.12,Q=q*.13,S=q*.45,_=R,A=k;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((M,j)=>{const T=j/10*360,I=_a(T),X=Math.cos(I)*F,O=Math.sin(I)*F,D=-Math.sin(I)*W,G=Math.cos(I)*W,Y=Math.cos(I)*Z,U=Math.sin(I)*Z;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(Y+D).toFixed(2)} ${(U+G).toFixed(2)} L ${X.toFixed(2)} ${O.toFixed(2)} L ${(Y-D).toFixed(2)} ${(U-G).toFixed(2)} Z`,fill:_,stroke:ni(_,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:X,cy:O,r:Q,fill:_,stroke:ni(_,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},j)}),x.jsx("circle",{r:Z,fill:_,stroke:ni(_,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:S,fill:A,stroke:ni(A,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}case"":{const L=H.pepCount??12,Z=q*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:L}).map((F,W)=>{const Q=W/L*360,S=_a(Q),_=Math.cos(S)*q,A=Math.sin(S)*q;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:_,y2:A,stroke:k,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:_,cy:A,r:Math.max(Z,1),fill:k,stroke:ni(k,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},W)})}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:N,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:N,fill:"transparent",style:{cursor:z},onPointerDown:B})]}),(()=>{if(!u.isSelected||!u.selectedLayerId)return null;const H=g.find(Z=>Z.id===u.selectedLayerId);if(!H||!H.visible||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0)return null;const k=H.scale??1,R=d*k,L=Math.max(0,H.radius-R*.28);return L<=0?null:x.jsx("circle",{r:L,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),u.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,w+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function Am(u){const{leaf:i,project:a,paletteMap:r}=u,o=i.fabricSquareSize??a.fabricSquareSize,{length:f,width:b}=Yt(o),g=i.scale??1,h=f*g,d=b*(i.widthScale??1)*g,y=mx(i.petalType),w=r.get(i.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":u.cursor??ir("/tsumami/")},"data-testid":`leaf-${i.id}`,onPointerDown:N=>{if(N.stopPropagation(),N.button===0&&!i.locked){if(N.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(N)}},children:[x.jsx("path",{d:y,transform:`scale(${h} ${d})`,fill:w,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const N=i.doublePetal,m=N.innerSizeReduction??2,z=o*(g||1);if(z<=0)return null;const p=Math.max(z*.3,z-m)/z,B=N.innerColorId??i.colorId,H=r.get(B)?.hex??w,q=h*p,k=d*p;return x.jsx("path",{d:y,transform:`scale(${q} ${k})`,fill:H,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),u.isLeafGroupHighlighted&&!u.isSelected&&x.jsx("path",{d:y,transform:`scale(${h*1.06} ${d*1.06})`,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`grp-${u.dashSyncToken??0}-${i.id}`),u.isSelected&&x.jsxs(x.Fragment,{children:[x.jsx("path",{d:y,transform:`scale(${h} ${d})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${i.id}`),x.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})]})}const ii=1350;function Tm(u){const{stencils:i,selectedStencilId:a,selection:r,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:b,stencilDraggingRef:g,onSelectStencil:h}=u,d=ee.useRef(null);ee.useEffect(()=>()=>{d.current?.()},[]);const y=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return x.jsx(x.Fragment,{children:i.map(w=>{const N=jm(w.variant,w.pose),m=a===w.id,z=un,v=N.imageUrl?1:N.scaleX,p=y||!!w.locked;return x.jsx("g",{transform:`translate(${w.position.x} ${w.position.y}) scale(${z*v} ${z})`,style:{cursor:y?"default":w.locked?"pointer":rm("/tsumami/"),pointerEvents:y?"none":"auto"},"data-testid":`stencil-${w.id}`,onPointerDown:B=>{if(B.button!==0)return;if(p){h(w.id);return}if(B.stopPropagation(),h(w.id),!o.current)return;g.current=!0,o.current&&(o.current.style.cursor=um("/tsumami/"));const q=b.current(B),k={...w.position},R=w.id;let V=k.x,L=k.y;const Z=W=>{const Q=b.current(W),S=Q.x-q.x,_=Q.y-q.y;V=we(k.x+S,0,ii),L=we(k.y+_,0,ii),f.current(A=>{const M=(A.stencils??[]).find(j=>j.id===R);M&&(M.position.x=V,M.position.y=L)},!1)},F=()=>{g.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",F),d.current=null,f.current(W=>{const Q=(W.stencils??[]).find(S=>S.id===R);Q&&(Q.position.x=V,Q.position.y=L)},!0)};document.addEventListener("pointermove",Z),document.addEventListener("pointerup",F),d.current=()=>{g.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",F)}},children:N.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:N.imageUrl,x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,fill:"transparent",stroke:m?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:N.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:N.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),m&&x.jsx("path",{d:N.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},w.id)})})}function Em(u){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:b,dashSyncToken:g,stageRef:h,multiTouchRef:d,clientToSvgPoint:y,togglePetalSelection:w,handleShiftFlowerSelect:N,groupHighlightedFlowerIds:m,beginFlowerDrag:z,beginScaleDrag:v,beginRotationDrag:p,beginWidthScaleDrag:B,beginRadiusDrag:H,clickOriginRef:q,zoneActivatedRef:k,setZoneCursorValue:R,setTouchZoneIndicator:V,hoverZoneRef:L,hoverHitLayerIdRef:Z,hoverHitPetalIndexRef:F}=u;return x.jsx(x.Fragment,{children:i.flowers.map(W=>x.jsx(Nm,{flower:W,project:i,paletteMap:o,isSelected:a.kind!=="project"&&f===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===W.id?a.petals:null,onSelect:()=>{const Q=pa(i,W.id);if(Q&&!(a.kind==="group"&&a.groupId===Q.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&Q.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:Q.id});return}r({kind:"flower",flowerId:W.id})},onSelectLayer:Q=>r({kind:"layer",flowerId:W.id,layerId:Q}),onSelectPetal:(Q,S)=>r({kind:"petal",flowerId:W.id,layerId:Q,index:S}),onTogglePetalSelection:(Q,S,_)=>w(W.id,Q,S,_),onShiftSelect:()=>N(W.id),isGroupHighlighted:m.has(W.id),zoneCursorValue:b,onBeginDragFromLayerPetal:(Q,S,_)=>{if(d.current)return;const A=pa(i,W.id);if(A&&!(a.kind==="group"&&a.groupId===A.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&A.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:A.id}),z(W.id,_);return}const M=y(_),j=_.pointerType==="touch",T=a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="petal"&&a.flowerId===W.id||a.kind==="petals"&&a.flowerId===W.id;if(j&&T){const{zone:O,layerId:D,petalIndex:G}=li(M.x,M.y,W,i,a),{length:Y}=Yt(W.fabricSquareSize??i.fabricSquareSize),U=M0(O,a.kind,{hitLayerId:D,flower:W,length:Y});if(U!=="none"&&U!=="center"&&U!=="move"){V({x:M.x,y:M.y,zone:U});const $=a.kind==="layer"?"layer":"flower",ae=a.kind==="layer"?a.layerId:Q;switch(U){case"rotate":p($,W.id,_,{layerId:ae});return;case"scale":v($,W.id,_,{layerId:ae});return;case"width":B($,W.id,_,{layerId:ae,petalIndex:G});return;case"radius":H($,W.id,_,{layerId:ae});return}}z(W.id,_,{layerId:Q,index:S});return}const I=k.current;q.current={x:M.x,y:M.y},k.current=!1;const X=L.current;if(T&&(I||X!=="none"&&X!=="center")){const O=X,D=Z.current,G=F.current,Y=a.kind==="layer"?"layer":"flower",U=a.kind==="layer"?a.layerId:D??Q;switch(O){case"rotate":p(Y,W.id,_,{layerId:U});return;case"scale":v(Y,W.id,_,{layerId:U});return;case"width":B(Y,W.id,_,{layerId:U,petalIndex:G});return;case"radius":H(Y,W.id,_,{layerId:U});return;default:R(Gn("/tsumami/")),h.current&&(h.current.style.cursor=Gn("/tsumami/")),z(W.id,_,{layerId:Q,index:S});return}}R(Gn("/tsumami/")),h.current&&(h.current.style.cursor=Gn("/tsumami/")),z(W.id,_,{layerId:Q,index:S})},onDoubleClick:()=>r({kind:"flower",flowerId:W.id}),onPointerDown:Q=>{if(d.current||Q.button!==0)return;if(Q.shiftKey){Q.stopPropagation(),N(W.id);return}const S=pa(i,W.id);if(S&&!(a.kind==="group"&&a.groupId===S.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&S.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:S.id}),z(W.id,Q);return}a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||r({kind:"flower",flowerId:W.id});const A=y(Q);q.current={x:A.x,y:A.y},k.current=!1,R(Gn("/tsumami/")),h.current&&(h.current.style.cursor=Gn("/tsumami/")),z(W.id,Q)},dashSyncToken:g},W.id))})}function Bm(u){const{leaves:i,leafGroups:a,project:r,selection:o,paletteMap:f,dashSyncToken:b,leafGroupHighlightedLeafIds:g,zoneCursorValue:h,stageRef:d,applyUpdateRef:y,clientToSvgPointRef:w,leafDraggingRef:N,clickOriginRef:m,zoneActivatedRef:z,setZoneCursorValue:v,onSelectLeaf:p,onSelectLeafGroup:B,onShiftSelectLeaf:H,hoverLeafZoneRef:q}=u,k=ee.useRef(null);return ee.useEffect(()=>()=>{k.current?.()},[]),x.jsx(x.Fragment,{children:i.map(R=>{if(!R.visible)return null;const V=o.kind==="leaf"&&o.leafId===R.id,L=o.kind==="leaves"&&o.leafIds?.includes(R.id),Z=g.has(R.id),F=ri({leaves:i,leafGroups:a},R.id),W=F?.rotation??0;let Q=R;if(F&&W!==0){const S=zh({leaves:i,leafGroups:a},F.id),_=W*Math.PI/180,A=R.position.x-S.x,M=R.position.y-S.y;Q={...R,position:{x:S.x+A*Math.cos(_)-M*Math.sin(_),y:S.y+A*Math.sin(_)+M*Math.cos(_)},rotation:R.rotation+W}}return x.jsx(Am,{leaf:Q,project:r,paletteMap:f,isSelected:V||L,isLeafGroupHighlighted:Z,dashSyncToken:b,cursor:V?h:void 0,onPointerDown:S=>{if(R.locked)return;S.stopPropagation();const _=w.current(S);if(F&&!(o.kind==="leafGroup"&&o.leafGroupId===F.id||o.kind==="leaf"&&F.leafIds.includes(o.leafId))){B(F.id),N.current=!0,m.current={x:_.x,y:_.y},z.current=!1,v(Gn("/tsumami/")),d.current&&(d.current.style.cursor=Gn("/tsumami/"));const I=_,X=Hd({leaves:i,leafGroups:a},R.id),O=new Map;for(const U of X){const $=i.find(ae=>ae.id===U);$&&O.set(U,{...$.position})}let D=!1;const G=U=>{const $=w.current(U),ae=$.x-I.x,fe=$.y-I.y;Math.abs(ae)+Math.abs(fe)>1&&(D=!0),y.current(be=>{for(const[oe,me]of O){const de=(be.leaves??[]).find(Me=>Me.id===oe);de&&(de.position.x=we(me.x+ae,0,ii),de.position.y=we(me.y+fe,0,ii))}},!1)},Y=()=>{k.current=null,N.current=!1,document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",Y),D&&y.current(()=>{},!0)};document.addEventListener("pointermove",G),document.addEventListener("pointerup",Y),k.current=()=>{N.current=!1,document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",Y)};return}const A=V&&z.current;p(R.id),m.current={x:_.x,y:_.y},z.current=!1,v(Gn("/tsumami/")),d.current&&(d.current.style.cursor=Gn("/tsumami/"));const M=q.current,j=V&&(A||M!=="none")?M:"move";if(j!=="move"){const T=er(j,"/tsumami/");v(T),d.current&&(d.current.style.cursor=T)}if(N.current=!0,j==="rotate"){const T=Q.position,I=R.rotation,X=Math.atan2(_.y-T.y,_.x-T.x)*180/Math.PI;let O=!1;const D=Y=>{const U=w.current(Y),ae=Math.atan2(U.y-T.y,U.x-T.x)*180/Math.PI-X;Math.abs(ae)>.5&&(O=!0),y.current(fe=>{const be=(fe.leaves??[]).find(oe=>oe.id===R.id);be&&(be.rotation=((I+ae)%360+360)%360)},!1)},G=()=>{k.current=null,N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",G),O&&y.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",G),k.current=()=>{N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",G)}}else if(j==="scale"){const T=Q.position,I=R.scale??1,X=Math.max(1,Math.hypot(_.x-T.x,_.y-T.y));let O=!1;const D=Y=>{const U=w.current(Y),ae=Math.hypot(U.x-T.x,U.y-T.y)/X;Math.abs(ae-1)>.01&&(O=!0),y.current(fe=>{const be=(fe.leaves??[]).find(oe=>oe.id===R.id);be&&(be.scale=we(I*ae,.3,3))},!1)},G=()=>{k.current=null,N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",G),O&&y.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",G),k.current=()=>{N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",G)}}else if(j==="width"){const T=Q.position,I=R.rotation*Math.PI/180,X=-Math.sin(I),O=Math.cos(I),D=R.widthScale??1,G=Math.abs((_.x-T.x)*X+(_.y-T.y)*O),Y=Math.max(1,G);let U=!1;const $=fe=>{const be=w.current(fe),me=Math.abs((be.x-T.x)*X+(be.y-T.y)*O)/Y;Math.abs(me-1)>.01&&(U=!0),y.current(de=>{const Me=(de.leaves??[]).find(Le=>Le.id===R.id);Me&&(Me.widthScale=we(D*me,.3,3))},!1)},ae=()=>{k.current=null,N.current=!1,document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",ae),U&&y.current(()=>{},!0)};document.addEventListener("pointermove",$),document.addEventListener("pointerup",ae),k.current=()=>{N.current=!1,document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",ae)}}else{const T=_,I=o.kind==="leaves"&&o.leafIds?.includes(R.id)?o.leafIds:Hd({leaves:i,leafGroups:a},R.id),X=new Map;for(const Y of I){const U=i.find($=>$.id===Y);U&&X.set(Y,{...U.position})}let O=!1;const D=Y=>{const U=w.current(Y),$=U.x-T.x,ae=U.y-T.y;Math.abs($)+Math.abs(ae)>1&&(O=!0),y.current(fe=>{for(const[be,oe]of X){const me=(fe.leaves??[]).find(de=>de.id===be);me&&(me.position.x=we(oe.x+$,0,ii),me.position.y=we(oe.y+ae,0,ii))}},!1)},G=()=>{k.current=null,N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",G),O&&y.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",G),k.current=()=>{N.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",G)}}},onShiftSelect:()=>H(R.id)},R.id)})})}function Lm({rect:u}){return u?x.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function km({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?x.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const ga=1350;function qm(u){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,setZoom:b,zoomLevel:g,setZoomLevel:h,ZOOM_LEVELS:d,setPan:y,showGrid:w,setShowGrid:N,setShowHelp:m,stageRef:z,viewBox:v,dashDelay:p,dashSyncToken:B,beginPan:H,updatePan:q,endPan:k,beginMarquee:R,updateMarquee:V,endMarquee:L,marqueeRef:Z,marqueeRect:F,beginFlowerDrag:W,updateFlowerDrag:Q,endFlowerDrag:S,scaleDragRef:_,updateScaleDrag:A,endScaleDrag:M,rotationDragRef:j,updateRotationDrag:T,endRotationDrag:I,widthScaleDragRef:X,updateWidthScaleDrag:O,endWidthScaleDrag:D,radiusDragRef:G,updateRadiusDrag:Y,endRadiusDrag:U,beginScaleDrag:$,beginRotationDrag:ae,beginWidthScaleDrag:fe,beginRadiusDrag:be,togglePetalSelection:oe,clientToSvgPoint:me}=u,de=ee.useRef(!1),Me=ee.useRef(!1),Le=ee.useRef(u.applyUpdate),Ee=ee.useRef(me);ee.useEffect(()=>{Le.current=u.applyUpdate},[u.applyUpdate]),ee.useEffect(()=>{Ee.current=me},[me]);const[Ge,ot]=ee.useState(!1),_t=ee.useRef(null);ee.useEffect(()=>{if(!Ge)return;const se=ke=>{_t.current&&!_t.current.contains(ke.target)&&ot(!1)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[Ge]);const[mt,bt]=ee.useState("grab"),Ut=ee.useRef("none"),cn=ee.useRef("none"),Sn=ee.useRef(void 0),Jn=ee.useRef(void 0),Fe=ee.useRef(null),Cn=ee.useRef(!0),Cl=5,ll=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="leafGroup"?`leafGroup:${a.leafGroupId}`:a.kind==="group"?`group:${a.groupId}`:a.kind,al=ee.useRef(ll);ee.useEffect(()=>{ll!==al.current&&(al.current=ll,Cn.current=!1,Fe.current=null,Ut.current="none",cn.current="none",Sn.current=void 0,Jn.current=void 0)},[ll]);const[wl,Pl]=ee.useState(!1),Vn=ee.useRef(!1),[ci,Rn]=ee.useState(null),Lt=5,wn=10,Ie=Dm({zoom:u.zoom,pan:u.pan,setZoom:b,setPan:y,zoomLevel:g,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:z,endPan:k,endFlowerDrag:S,endMarquee:L,endRotationDrag:I,endScaleDrag:M,endWidthScaleDrag:D,endRadiusDrag:U});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${g>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ie.zoomAtCenter(1),disabled:g>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${g<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ie.zoomAtCenter(-1),disabled:g<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${w?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>N(se=>!se),title:"","aria-label":"","aria-pressed":w,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Ie.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:_t,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Ge?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>ot(se=>!se),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Ge&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(se=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:t1[se]}),["right","left","back"].map(ke=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(se,ke),ot(!1)},"data-testid":`stencil-add-${se}-${ke}`,children:n1[ke]},`${se}-${ke}`))]},se)),u.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),ot(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>m(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:w?"24px 1fr":"1fr",gridTemplateRows:w?"20px 1fr":"1fr"},children:[w&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),w&&(()=>{const[se,,ke,qe]=v.split(/\s+/).map(Number),_e=un,pe=Math.max(ke,qe)/_e,ze=[10,20,50,100,200,500,1e3].find(Ae=>pe/Ae<=15)??1e3,Se=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,$e=ze<=10?5:ze/2,et=Math.floor(se/_e/Se)*Se-Se,Ve=Math.ceil((se+ke)/_e/Se)*Se+Se,Qe=[];for(let Ae=et;Ae<=Ve;Ae+=Se){const tt=(Ae*_e-se)/ke*100;if(tt<-2||tt>102)continue;const Dt=Math.abs(Ae),rt=Dt%ze===0,lt=Dt%$e===0,vt=rt?10:lt?6:3;Qe.push(x.jsx("line",{x1:`${tt}%`,y1:20-vt,x2:`${tt}%`,y2:20,stroke:"#999",strokeWidth:rt?.8:.4},Ae)),rt&&Qe.push(x.jsx("text",{x:`${tt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ae},`t${Ae}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Qe})})(),w&&(()=>{const[,se,ke,qe]=v.split(/\s+/).map(Number),_e=un,pe=Math.max(ke,qe)/_e,ze=[10,20,50,100,200,500,1e3].find(Ae=>pe/Ae<=15)??1e3,Se=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,$e=ze<=10?5:ze/2,et=Math.floor(se/_e/Se)*Se-Se,Ve=Math.ceil((se+qe)/_e/Se)*Se+Se,Qe=[];for(let Ae=et;Ae<=Ve;Ae+=Se){const tt=(Ae*_e-se)/qe*100;if(tt<-2||tt>102)continue;const Dt=Math.abs(Ae),rt=Dt%ze===0,lt=Dt%$e===0,vt=rt?10:lt?6:3;Qe.push(x.jsx("line",{x1:24-vt,y1:`${tt}%`,x2:24,y2:`${tt}%`,stroke:"#999",strokeWidth:rt?.8:.4},Ae)),rt&&Qe.push(x.jsx("text",{x:12,y:`${tt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ae},`t${Ae}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Qe})})(),x.jsxs("svg",{ref:z,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:v,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":p,cursor:wl?"crosshair":"grab"},onDoubleClick:se=>{se.target===se.currentTarget&&(Pl(ke=>!ke),r({kind:"project"}))},onPointerDown:se=>{if(Ie.multiTouchRef.current)return;if(se.button===1){Vn.current=!0,z.current&&(z.current.style.cursor="grabbing"),H(se);return}if(se.button!==0)return;const ke=se.pointerType==="touch";if(ke&&se.target===se.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const _e=i.flowers.find(pe=>pe.id===f);if(_e){const pe=me(se),{zone:Ne,layerId:ze,petalIndex:Se}=li(pe.x,pe.y,_e,i,a),{length:$e}=Yt(_e.fabricSquareSize??i.fabricSquareSize),et=M0(Ne,a.kind,{hitLayerId:ze,flower:_e,length:$e});if(et!=="none"&&et!=="center"){Rn({x:pe.x,y:pe.y,zone:et});const Ve=a.kind==="layer"?"layer":"flower",Qe=a.kind==="layer"?a.layerId:ze;switch(et){case"rotate":ae(Ve,f,se,{layerId:Qe});return;case"scale":$(Ve,f,se,{layerId:Qe});return;case"width":fe(Ve,f,se,{layerId:Qe,petalIndex:Se});return;case"radius":be(Ve,f,se,{layerId:Qe});return;case"move":W(f,se);return}}}}Ie.setTouchBgStart({x:se.clientX,y:se.clientY}),H(se);return}if(se.target===se.currentTarget&&f&&mt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const _e=Ut.current;if(_e!=="none"&&_e!=="center"){const pe=a.kind==="layer"?"layer":"flower",Ne=a.kind==="layer"?a.layerId:Sn.current;switch(_e){case"rotate":ae(pe,f,se,{layerId:Ne});return;case"scale":$(pe,f,se,{layerId:Ne});return;case"width":fe(pe,f,se,{layerId:Ne,petalIndex:Jn.current});return;case"radius":be(pe,f,se,{layerId:Ne});return;case"move":W(f,se);return}}}if(se.target===se.currentTarget&&a.kind==="leaf"&&u.selectedLeafId&&mt!=="grab"){const qe=cn.current;if(qe!=="none"){const _e=u.leaves.find(pe=>pe.id===u.selectedLeafId);if(_e){se.preventDefault();const pe=me(se);if(Me.current=!0,qe==="rotate"){const Ne=_e.position,ze=_e.rotation,Se=Math.atan2(pe.y-Ne.y,pe.x-Ne.x)*180/Math.PI,$e=_e.id,et=er(qe,"/tsumami/");bt(et),z.current&&(z.current.style.cursor=et);let Ve=!1;const Qe=kt=>{const tt=me(kt),rt=Math.atan2(tt.y-Ne.y,tt.x-Ne.x)*180/Math.PI-Se;Math.abs(rt)>.5&&(Ve=!0),u.applyUpdate(lt=>{const vt=(lt.leaves??[]).find(On=>On.id===$e);vt&&(vt.rotation=((ze+rt)%360+360)%360)},!1)},Ae=()=>{Me.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Ae),Ve&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Ae);return}else if(qe==="scale"){const Ne=_e.position,ze=_e.scale??1,Se=Math.max(1,Math.hypot(pe.x-Ne.x,pe.y-Ne.y)),$e=_e.id,et=er(qe,"/tsumami/");bt(et),z.current&&(z.current.style.cursor=et);let Ve=!1;const Qe=kt=>{const tt=me(kt),rt=Math.hypot(tt.x-Ne.x,tt.y-Ne.y)/Se;Math.abs(rt-1)>.01&&(Ve=!0),u.applyUpdate(lt=>{const vt=(lt.leaves??[]).find(On=>On.id===$e);vt&&(vt.scale=Math.max(.3,Math.min(3,ze*rt)))},!1)},Ae=()=>{Me.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Ae),Ve&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Ae);return}else if(qe==="width"){const Ne=_e.position,ze=_e.rotation*Math.PI/180,Se=-Math.sin(ze),$e=Math.cos(ze),et=_e.widthScale??1,Ve=Math.max(1,Math.abs((pe.x-Ne.x)*Se+(pe.y-Ne.y)*$e)),Qe=_e.id,Ae=er(qe,"/tsumami/");bt(Ae),z.current&&(z.current.style.cursor=Ae);let kt=!1;const tt=rt=>{const lt=me(rt),On=Math.abs((lt.x-Ne.x)*Se+(lt.y-Ne.y)*$e)/Ve;Math.abs(On-1)>.01&&(kt=!0),u.applyUpdate(Fl=>{const Re=(Fl.leaves??[]).find(gt=>gt.id===Qe);Re&&(Re.widthScale=Math.max(.3,Math.min(3,et*On)))},!1)},Dt=()=>{Me.current=!1,document.removeEventListener("pointermove",tt),document.removeEventListener("pointerup",Dt),kt&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",tt),document.addEventListener("pointerup",Dt);return}else{const Ne=pe,ze={..._e.position},Se=_e.id;bt(Gn("/tsumami/")),z.current&&(z.current.style.cursor=Gn("/tsumami/"));let $e=!1;const et=Qe=>{const Ae=me(Qe),kt=Ae.x-Ne.x,tt=Ae.y-Ne.y;Math.abs(kt)+Math.abs(tt)>1&&($e=!0),u.applyUpdate(Dt=>{const rt=(Dt.leaves??[]).find(lt=>lt.id===Se);rt&&(rt.position.x=Math.max(0,Math.min(ga,ze.x+kt)),rt.position.y=Math.max(0,Math.min(ga,ze.y+tt)))},!1)},Ve=()=>{Me.current=!1,document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",Ve),$e&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",et),document.addEventListener("pointerup",Ve);return}}}}if(se.target===se.currentTarget){ke?(Ie.setTouchBgStart({x:se.clientX,y:se.clientY}),H(se)):wl?R(se):(Ie.setMouseBgStart({x:se.clientX,y:se.clientY}),Vn.current=!0,z.current&&(z.current.style.cursor="grabbing"),H(se));return}},onPointerMove:se=>{if(de.current||Me.current)return;if(Z.current){V(se);return}if(j.current){T(se);return}if(_.current){A(se);return}if(X.current){O(se);return}if(G.current){Y(se);return}Q(se),q(se);const ke=!!u.dragRef?.current||!!Z.current||!!j.current||!!_.current||!!X.current||!!G.current||Vn.current,qe=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!ke&&qe){const _e=i.flowers.find(pe=>pe.id===f);if(_e){const pe=me(se);if(Fe.current&&!Cn.current){if(Math.hypot(pe.x-Fe.current.x,pe.y-Fe.current.y)<Cl){const{zone:Ae}=li(pe.x,pe.y,_e,i,a);Ae==="center"&&(bt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}Cn.current=!0,Fe.current=null}const{zone:Ne,layerId:ze,petalIndex:Se}=li(pe.x,pe.y,_e,i,a),{length:$e}=Yt(_e.fabricSquareSize??i.fabricSquareSize),et=M0(Ne,a.kind,{hitLayerId:ze,flower:_e,length:$e});et!=="none"&&(Ut.current=et,Sn.current=ze,Jn.current=Se);const Ve=Ud(et,"/tsumami/");bt(Ve),z.current&&(z.current.style.cursor=Ve)}}if(!ke&&a.kind==="leaf"&&u.selectedLeafId){const _e=u.leaves.find(pe=>pe.id===u.selectedLeafId);if(_e){const pe=me(se);if(Fe.current&&!Cn.current){if(Math.hypot(pe.x-Fe.current.x,pe.y-Fe.current.y)<Cl)return;Cn.current=!0,Fe.current=null}const Ne=im(pe.x,pe.y,_e,i);Ne!=="none"&&(cn.current=Ne);const ze=er(Ne,"/tsumami/");bt(ze),z.current&&(z.current.style.cursor=ze)}}},onPointerUp:se=>{if(!de.current&&!Me.current){if(Rn(null),Z.current&&wl&&Pl(!1),L(),I(),M(),D(),U(),S(),k(),Vn.current&&(Vn.current=!1,z.current&&(z.current.style.cursor=wl?"crosshair":"grab")),Ie.touchBgStartRef.current&&se.pointerType==="touch"){const ke=se.clientX-Ie.touchBgStartRef.current.x,qe=se.clientY-Ie.touchBgStartRef.current.y;Math.hypot(ke,qe)<wn&&r({kind:"project"}),Ie.setTouchBgStart(null);return}if(Ie.setTouchBgStart(null),Ie.mouseBgStartRef.current&&se.pointerType==="mouse"){const ke=se.clientX-Ie.mouseBgStartRef.current.x,qe=se.clientY-Ie.mouseBgStartRef.current.y;if(Ie.setMouseBgStart(null),Math.hypot(ke,qe)<Lt){r({kind:"project"});return}}if(Ie.setMouseBgStart(null),f){const ke=i.flowers.find(qe=>qe.id===f);if(ke){const qe=me(se);if(Fe.current&&Math.hypot(qe.x-Fe.current.x,qe.y-Fe.current.y)<Cl){const{zone:Ve}=li(qe.x,qe.y,ke,i,a);Ve==="center"&&(bt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}const{zone:_e,layerId:pe,petalIndex:Ne}=li(qe.x,qe.y,ke,i,a),{length:ze}=Yt(ke.fabricSquareSize??i.fabricSquareSize),Se=M0(_e,a.kind,{hitLayerId:pe,flower:ke,length:ze});Se!=="none"&&(Ut.current=Se,Sn.current=pe,Jn.current=Ne);const $e=Ud(Se,"/tsumami/");bt($e),z.current&&(z.current.style.cursor=$e)}}}},onPointerLeave:()=>{L(),I(),M(),D(),U(),S(),k(),Vn.current=!1,Ie.setTouchBgStart(null),Ie.setMouseBgStart(null),bt("grab"),Fe.current=null,Cn.current=!0,Ut.current="none",cn.current="none",Sn.current=void 0,Jn.current=void 0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[se,ke,qe,_e]=v.split(/\s+/).map(Number),pe=ga;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:se,y:ke,width:qe,height:_e,fill:"white"}),x.jsx("rect",{x:0,y:0,width:pe,height:pe,fill:"black"})]})}),x.jsx("rect",{x:se,y:ke,width:qe,height:_e,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:ga,height:ga,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:ga,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:ga,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),w&&(()=>{const se=un,[ke,qe,_e,pe]=v.split(/\s+/).map(Number),Ne=Math.max(_e,pe)/se,Se=[10,20,50,100,200,500,1e3].find(lt=>Ne/lt<=15)??1e3,$e=Math.floor(ke/se/Se)*Se-Se,et=Math.ceil((ke+_e)/se/Se)*Se+Se,Ve=Math.floor(qe/se/Se)*Se-Se,Qe=Math.ceil((qe+pe)/se/Se)*Se+Se,Ae=Ve*se,kt=Qe*se,tt=$e*se,Dt=et*se,rt=[];for(let lt=$e;lt<=et;lt+=Se){const vt=lt*se;rt.push(x.jsx("line",{x1:vt,y1:Ae,x2:vt,y2:kt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=Ve;lt<=Qe;lt+=Se){const vt=lt*se;rt.push(x.jsx("line",{x1:tt,y1:vt,x2:Dt,y2:vt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return x.jsx("g",{children:rt})})(),x.jsx(Tm,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:z,applyUpdateRef:Le,clientToSvgPointRef:Ee,stencilDraggingRef:de,onSelectStencil:u.onSelectStencil}),x.jsx(Em,{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:mt,dashSyncToken:B,stageRef:z,multiTouchRef:Ie.multiTouchRef,clientToSvgPoint:me,togglePetalSelection:oe,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:W,beginScaleDrag:$,beginRotationDrag:ae,beginWidthScaleDrag:fe,beginRadiusDrag:be,clickOriginRef:Fe,zoneActivatedRef:Cn,setZoneCursorValue:bt,setTouchZoneIndicator:Rn,hoverZoneRef:Ut,hoverHitLayerIdRef:Sn,hoverHitPetalIndexRef:Jn}),x.jsx(Bm,{leaves:u.leaves,leafGroups:u.leafGroups,project:i,selection:a,paletteMap:o,dashSyncToken:B,selectedLeafId:u.selectedLeafId,leafGroupHighlightedLeafIds:u.leafGroupHighlightedLeafIds,zoneCursorValue:mt,stageRef:z,applyUpdateRef:Le,clientToSvgPointRef:Ee,leafDraggingRef:Me,clickOriginRef:Fe,zoneActivatedRef:Cn,setZoneCursorValue:bt,onSelectLeaf:u.onSelectLeaf,onSelectLeafGroup:u.onSelectLeafGroup,onShiftSelectLeaf:u.onShiftSelectLeaf,hoverLeafZoneRef:cn}),x.jsx(Lm,{rect:F}),x.jsx(km,{indicator:ci})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Zd(u,i,a){return Math.min(a,Math.max(i,u))}function Je({value:u,onChange:i,min:a=-1/0,max:r=1/0,step:o,className:f,...b}){const[g,h]=ee.useState(null),d=ee.useRef(null),y=ee.useCallback(m=>{const z=Number(m);isNaN(z)||i(Zd(z,a,r)),h(null)},[i,a,r]),w=ee.useCallback(()=>{h(null)},[]),N=ee.useCallback(m=>{const z=o??1,p=(Number(g??u)||0)+z*m,B=Zd(p,a,r),H=String(z).includes(".")?String(z).split(".")[1].length:0,q=Number(B.toFixed(H));h(String(q)),i(q)},[g,u,o,a,r,i]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:g??String(u),onChange:m=>h(m.target.value),onFocus:m=>{h(String(u)),requestAnimationFrame(()=>m.target.select())},onBlur:()=>{g!==null&&y(g)},onKeyDown:m=>{m.key==="Enter"?(m.preventDefault(),g!==null&&y(g),d.current?.blur()):m.key==="Escape"?(m.preventDefault(),w(),d.current?.blur()):(m.key==="ArrowUp"||m.key==="ArrowDown")&&(m.preventDefault(),N(m.key==="ArrowUp"?1:-1))},...b}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:m=>{m.preventDefault(),N(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:m=>{m.preventDefault(),N(-1)},children:""})]})]})}function cr({title:u,compact:i,children:a}){return x.jsxs("div",{className:i?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),x.jsx("div",{className:"space-y-3",children:a})]})}function Gm({flower:u,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const f=ee.useMemo(()=>{const p=[...u.layers||[]].sort((F,W)=>F.order-W.order);if(p.length<2)return{mode:"uniform",step:2};const B=p.map(F=>F.scale??1);if(B.every(F=>Math.abs(F-B[0])<.001))return{mode:"uniform",step:2};const q=p[0],k=p[p.length-1],R=(k.order??1)-(q.order??1);if(R<=0)return{mode:"gradual",step:2};const L=((q.scale??1)-(k.scale??1))/R,Z=Math.round(L*i*2)/2;return{mode:"gradual",step:we(Z,0,10)}},[u.id]),[b,g]=ee.useState(f.mode),[h,d]=ee.useState(f.step),[y,w]=ee.useState(0);ee.useEffect(()=>{g(f.mode),d(f.step),w(0)},[f]);const N=ee.useMemo(()=>[...u.layers||[]].sort((p,B)=>p.order-B.order),[u.layers]),m=N[0],z=m?m.order:0,v=ee.useMemo(()=>{if(!m)return[];const p=m.scale??1,B=m.radius,H=new Map;for(const F of N){const W=F.order-z;if(W===0)H.set(F.id,p);else if(b==="uniform")H.set(F.id,p);else{const Q=h/i;H.set(F.id,we(p-W*Q,.3,3))}}const{length:q}=Yt(i),k=N.length,R=70*Math.PI/180,V=new Map;let L=B;V.set(m.id,B);for(let F=1;F<k;F++){const W=N[F-1],Q=H.get(W.id)??1,S=q*Q;let _;if(a===""){const A=k-1-F,M=k>1?A/(k-1)*R:0;_=S*(30/100)*Math.cos(M)}else _=S/3;L=L-_,V.set(N[F].id,Math.max(2,L))}const Z=N.map(F=>{const W=H.get(F.id)??1,Q=Math.round((V.get(F.id)??B)*10)/10,S=Math.round(i*W*10)/10;return{id:F.id,name:F.name,order:F.order,effScale:W,effFabricSize:S,effRadius:Q}});if(Z.length>0){const F=Z[Z.length-1],W=q*F.effScale,Q=Math.floor(W*.28*10)/10;F.effRadius>Q&&(F.effRadius=Q)}return Z},[N,m,z,b,h,30,i,a]);return ee.useEffect(()=>{y!==0&&(!m||v.length===0||r(p=>{const B=p.flowers.find(q=>q.id===u.id);if(!B)return;for(const q of v){const k=B.layers.find(R=>R.id===q.id);k&&(k.scale=we(q.effScale,.3,3),k.radius=we(q.effRadius,2,120))}const H=[...B.layers].sort((q,k)=>k.order-q.order);for(let q=1;q<H.length;q++){const k=H[q-1],R=H[q];R.offsetAngle=el(k.petalCount,k.offsetAngle,R.petalCount)}}))},[y]),N.length<2?null:x.jsxs(cr,{title:"",children:[x.jsxs(wx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:b,onChange:p=>{g(p.target.value),w(B=>B+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),b==="gradual"&&x.jsxs(wx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:p=>{d(p),w(B=>B+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),v.map(p=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:p.name}),x.jsxs("span",{children:[" ",p.effFabricSize,"mm /  ",Math.round(nr(p.effRadius,p.effScale,i)),"mm"]})]},p.id))]})]})}const l1="tsumami_recent_colors_v1",Hx=10;function Rm(u){const i=new Set;for(const a of u.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const o of r.petalOverrides)o.colorId&&i.add(o.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function Ax(){try{const u=localStorage.getItem(l1);if(u){const i=JSON.parse(u);if(Array.isArray(i))return i.slice(0,Hx)}}catch{}return[]}function Om(u){try{localStorage.setItem(l1,JSON.stringify(u.slice(0,Hx)))}catch{}}function Hm(u){const i=Ax(),a=[u,...i.filter(r=>r!==u)].slice(0,Hx);Om(a)}function Xn({palette:u,project:i,selectedColorId:a,onChange:r,size:o="md"}){const[f,b]=ee.useState(!1),g=ee.useRef(null),[h,d]=ee.useState(Ax);ee.useEffect(()=>{if(!f)return;const v=p=>{g.current&&!g.current.contains(p.target)&&b(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[f]);const y=ee.useMemo(()=>Rm(i),[i]),w=ee.useMemo(()=>{const v=new Set;v.add(a);for(const p of y)v.add(p);for(const p of h)v.add(p);return u.filter(p=>v.has(p.id))},[u,a,y,h]),N=ee.useCallback(v=>{Hm(v),d(Ax()),r(v)},[r]),m=o==="sm"?"h-4 w-4":"h-5 w-5",z=f?u:w;return x.jsx("div",{ref:g,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[z.map(v=>x.jsx("button",{className:`${m} rounded border-2 ${a===v.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:v.hex},title:v.name,"aria-label":`: ${v.name}`,onClick:()=>N(v.id)},v.id)),u.length>w.length&&x.jsx("button",{className:`${m} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>b(v=>!v),title:f?"":"","aria-label":f?"":"",children:x.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Im({project:u,applyUpdate:i,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f&&(f.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:nl.map(r=>{const o=a.layers.every(f=>f.petalType===r);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const b=f.flowers.find(g=>g.id===a.id);if(b)for(const g of b.layers)g.petalType=r}),children:r},r)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Pd.map(r=>{const o=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==r&&i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;b.placementMode=r;const g=b.fabricSquareSize??f.fabricSquareSize;r===""?b.baseDiameter=tr(b.flowerDiameter):b.baseDiameter||(b.baseDiameter=f.baseDiameter),Gh(b.layers,g,r,b.flowerDiameter)},!0)},children:r},r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(Je,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f&&(f.baseDiameter=r)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[tr(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(o=>{const f=o.flowers.find(h=>h.id===a.id);if(!f)return;const b=ui(r);for(const h of f.layers)h.petalCount=r,h.widthScale=b;const g=[...f.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<g.length;h++)g[h].offsetAngle=el(g[h-1].petalCount,g[h-1].offsetAngle,g[h].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Je,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(o=>{const f=o.flowers.find(g=>g.id===a.id);if(!f)return;f.flowerDiameter=r,f.placementMode===""&&(f.baseDiameter=tr(r));const b=[...f.layers].sort((g,h)=>g.order-h.order);V0(b,f.fabricSquareSize??o.fabricSquareSize,r);for(const g of b){const h=f.layers.find(d=>d.id===g.id);h&&(h.radius=g.radius,h.scale=g.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);if(f)for(const b of f.layers)b.widthScale=r})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f&&(f.rotation=r)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:u.palette,project:u,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);if(f)for(const b of f.layers)b.colorId=r})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);if(f)for(const b of f.layers)if(r.target.checked){if(!b.doublePetal){const g=b._doublePetalCache;b.doublePetal=g??{innerSizeReduction:2},delete b._doublePetalCache}}else b.doublePetal&&(b._doublePetalCache={...b.doublePetal}),delete b.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(g=>g.doublePetal.innerSizeReduction))],o=r.length===1?r[0]:null,f=[...new Set(a.layers.map(g=>g.doublePetal.innerColorId??g.colorId))],b=f.length===1?f[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:g=>i(h=>{const d=h.flowers.find(y=>y.id===a.id);if(d)for(const y of d.layers)y.doublePetal&&(y.doublePetal.innerSizeReduction=we(g,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:u.palette,project:u,selectedColorId:b??"",onChange:g=>i(h=>{const d=h.flowers.find(y=>y.id===a.id);if(d)for(const y of d.layers)y.doublePetal&&(g===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=g)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Uh.map(r=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f?.center&&(f.center.type=r,r===""&&!f.center.pepCount&&(f.center.pepCount=12),r===""&&!f.center.color2&&(f.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:r},r))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f?.center&&(f.center.size=r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f?.center&&(f.center.color=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Xn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f?.center&&(f.center.color2=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(o=>{const f=o.flowers.find(b=>b.id===a.id);f?.center&&(f.center.pepCount=r)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Gm,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function Ym({project:u,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:b}){const g=a,h=[...new Set(g.flatMap(w=>w.layers.map(N=>N.petalType)))],d=h.length===1?h[0]:null,y=w=>{i(N=>{for(const m of g){const z=N.flowers.find(v=>v.id===m.id);z&&w(z)}},!0)};return x.jsxs(cr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[g.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(w=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:w.hex},title:w.name,onClick:()=>y(N=>{for(const m of N.layers)m.colorId=w.id})},w.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:nl.map(w=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>y(N=>{for(const m of N.layers)m.petalType=w}),children:w},w))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Je,{min:5,max:24,value:g[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:w=>{const N=ui(w);y(m=>{for(const v of m.layers)v.petalCount=w,v.widthScale=N;const z=[...m.layers].sort((v,p)=>p.order-v.order);for(let v=1;v<z.length;v++)z[v].offsetAngle=el(z[v-1].petalCount,z[v-1].offsetAngle,z[v].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:g.map(w=>x.jsxs("div",{children:[w.name," (",w.layers.length,")"]},w.id))}),(()=>{const w=g.map(p=>pa(u,p.id)),N=g.filter(p=>!pa(u,p.id)).map(p=>p.id),m=[...new Set(w.filter(Boolean).map(p=>p.id))],z=N.length===g.length,v=m.length===1&&w.every(p=>p!=null);return x.jsxs(x.Fragment,{children:[z&&g.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(g.map(p=>p.id)),children:""}),v&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(m[0]),children:""}),m.length===1&&N.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(m[0],N),children:[" (+",N.length,")"]}),m.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>b(m,N),children:[" (",m.length,"",N.length>0?` +${N.length}`:"",")"]})]})})()]})}function Um({project:u,applyUpdate:i,selectedFlowers:a,groups:r,groupId:o,onUngroupFlowers:f}){const b=r.find(w=>w.id===o);if(!b)return null;const g=a,h=[...new Set(g.flatMap(w=>w.layers.map(N=>N.petalType)))],d=h.length===1?h[0]:null,y=w=>{i(N=>{for(const m of g){const z=N.flowers.find(v=>v.id===m.id);z&&w(z)}},!0)};return x.jsxs(cr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:b.name,onChange:w=>i(N=>{const m=(N.groups??[]).find(z=>z.id===b.id);m&&(m.name=w.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[g.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(w=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:w.hex},title:w.name,onClick:()=>y(N=>{for(const m of N.layers)m.colorId=w.id})},w.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:nl.map(w=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>y(N=>{for(const m of N.layers)m.petalType=w}),children:w},w))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Je,{min:5,max:24,value:g[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:w=>{const N=ui(w);y(m=>{for(const v of m.layers)v.petalCount=w,v.widthScale=N;const z=[...m.layers].sort((v,p)=>p.order-v.order);for(let v=1;v<z.length;v++)z[v].offsetAngle=el(z[v-1].petalCount,z[v-1].offsetAngle,z[v].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:g.map(w=>x.jsxs("div",{children:[w.name," (",w.layers.length,")"]},w.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(b.id),children:""})]})}function Km({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);g&&(g.name=o.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:nl.map(o=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);g&&(g.petalType=o)}),children:o},o))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:5,max:24,value:r.petalCount,onChange:o=>{i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);if(g){g.petalCount=o,g.widthScale=ui(o);const h=[...b.layers].sort((d,y)=>y.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=el(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Je,{min:1,max:200,step:.5,value:Math.round(nr(r.radius,r.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);g&&(g.radius=we(qh(o,g.scale??1,b.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Je,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(r.scale??1)*10)/10,onChange:o=>i(f=>{const b=f.flowers.find(w=>w.id===a.id);if(!b)return;const g=b.layers.find(w=>w.id===r.id);if(!g)return;const h=b.fabricSquareSize??f.fabricSquareSize;g.scale=we(Math.round(o/h*100)/100,.3,3);const d=[...b.layers].sort((w,N)=>w.order-N.order),y=d.findIndex(w=>w.id===g.id);if(y>=0)for(let w=y-1;w>=0;w--){const N=d[w],m=d[w+1],v=Yt(h).length*(m.scale??1)/3;N.radius=Math.round((m.radius+v)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);g&&(g.scale=o)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);g&&(g.widthScale=o)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{value:Number(r.offsetAngle??0).toFixed(1),onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);g&&(g.offsetAngle=o)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:u.palette,project:u,selectedColorId:r.colorId,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);g&&(g.colorId=o)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);if(g)if(o.target.checked){const h=g._doublePetalCache;g.doublePetal=h??{innerSizeReduction:2},delete g._doublePetalCache}else g.doublePetal&&(g._doublePetalCache={...g.doublePetal}),delete g.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);g?.doublePetal&&(g.doublePetal.innerSizeReduction=we(o,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:u.palette,project:u,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);g?.doublePetal&&(o===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=o)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);g&&(g.visible=o.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:o=>i(f=>{const b=f.flowers.find(h=>h.id===a.id);if(!b)return;const g=b.layers.find(h=>h.id===r.id);g&&(g.locked=o.target.checked)})}),""]})]})]})]})}function Zm({project:u,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const o=r,f=o.map(p=>{const B=a.layers.find(H=>H.id===p.layerId);return{...p,layer:B}}).filter(p=>p.layer!=null),b=(p,B)=>{const H=a.layers.find(k=>k.id===p);return H?(H?.petalOverrides?.find(k=>k.index===B)??null)?.colorId??H.colorId:null},g=(p,B)=>{const H=a.layers.find(k=>k.id===p);return H?(H?.petalOverrides?.find(k=>k.index===B)??null)?.petalType??H.petalType:null},h=f.map(p=>b(p.layerId,p.index)),d=f.map(p=>g(p.layerId,p.index)),y=h.length>0&&h.every(p=>p===h[0]),N=d.length>0&&d.every(p=>p===d[0])?d[0]:null,m=p=>{i(B=>{const H=B.flowers.find(q=>q.id===a.id);if(H)for(const q of o){const k=H.layers.find(V=>V.id===q.layerId);if(!k)continue;k.petalOverrides||(k.petalOverrides=[]);const R=k.petalOverrides.find(V=>V.index===q.index);if(R)p.colorId!==void 0&&(p.colorId===k.colorId?delete R.colorId:R.colorId=p.colorId),p.petalType!==void 0&&(p.petalType===k.petalType?delete R.petalType:R.petalType=p.petalType),!R.colorId&&!R.petalType&&(k.petalOverrides=k.petalOverrides.filter(V=>V.index!==q.index),k.petalOverrides.length===0&&(k.petalOverrides=void 0));else{const V={index:q.index};p.colorId!==void 0&&p.colorId!==k.colorId&&(V.colorId=p.colorId),p.petalType!==void 0&&p.petalType!==k.petalType&&(V.petalType=p.petalType),(V.colorId!==void 0||V.petalType!==void 0)&&k.petalOverrides.push(V)}}},!0)},z=()=>{i(p=>{const B=p.flowers.find(H=>H.id===a.id);if(B)for(const H of o){const q=B.layers.find(k=>k.id===H.layerId);!q||!q.petalOverrides||(q.petalOverrides=q.petalOverrides.filter(k=>k.index!==H.index),q.petalOverrides.length===0&&(q.petalOverrides=void 0))}},!0)},v=f.some(p=>p.layer?.petalOverrides?.find(B=>B.index===p.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",v&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(p=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${y&&h[0]===p.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:p.hex},title:p.name,"aria-label":`: ${p.name}`,onClick:()=>m({colorId:p.id})},p.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:nl.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${N===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>m({petalType:p}),children:p},p))})]}),v&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:z,children:""})]})]})}function Xm({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:o}){const f=r?.petalOverrides?.find(w=>w.index===o)??null,b=f?.colorId??r.colorId,g=f?.petalType??r.petalType,h=f!=null,d=w=>{i(N=>{const m=N.flowers.find(p=>p.id===a.id);if(!m)return;const z=m.layers.find(p=>p.id===r.id);if(!z)return;z.petalOverrides||(z.petalOverrides=[]);const v=z.petalOverrides.find(p=>p.index===o);if(v)w.colorId!==void 0&&(v.colorId=w.colorId),w.petalType!==void 0&&(v.petalType=w.petalType),w.innerColorId!==void 0&&(v.innerColorId=w.innerColorId),w.innerSizeReduction!==void 0&&(v.innerSizeReduction=w.innerSizeReduction),v.colorId!==void 0||v.petalType!==void 0||v.innerColorId!==void 0||v.innerSizeReduction!==void 0?(v.colorId===void 0&&delete v.colorId,v.petalType===void 0&&delete v.petalType,v.innerColorId===void 0&&delete v.innerColorId,v.innerSizeReduction===void 0&&delete v.innerSizeReduction):(z.petalOverrides=z.petalOverrides.filter(B=>B.index!==o),z.petalOverrides.length===0&&(z.petalOverrides=void 0));else{const p={index:o};w.colorId!==void 0&&(p.colorId=w.colorId),w.petalType!==void 0&&(p.petalType=w.petalType),w.innerColorId!==void 0&&(p.innerColorId=w.innerColorId),w.innerSizeReduction!==void 0&&(p.innerSizeReduction=w.innerSizeReduction),(p.colorId!==void 0||p.petalType!==void 0||p.innerColorId!==void 0||p.innerSizeReduction!==void 0)&&z.petalOverrides.push(p)}},!0)},y=()=>{i(w=>{const N=w.flowers.find(z=>z.id===a.id);if(!N)return;const m=N.layers.find(z=>z.id===r.id);!m||!m.petalOverrides||(m.petalOverrides=m.petalOverrides.filter(z=>z.index!==o),m.petalOverrides.length===0&&(m.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",o+1,h&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:u.palette,project:u,selectedColorId:b,onChange:w=>{w===r.colorId?d({colorId:void 0}):d({colorId:w})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:nl.map(w=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${g===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{w===r.petalType?d({petalType:void 0}):d({petalType:w})},children:w},w))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:w=>i(N=>{const m=N.flowers.find(v=>v.id===a.id);if(!m)return;const z=m.layers.find(v=>v.id===r.id);if(z)if(w.target.checked){const v=z._doublePetalCache;z.doublePetal=v??{innerSizeReduction:2},delete z._doublePetalCache}else z.doublePetal&&(z._doublePetalCache={...z.doublePetal}),delete z.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const w=r.doublePetal,N=f?.innerSizeReduction??w.innerSizeReduction,m=f?.innerColorId??w.innerColorId??b;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(Je,{min:1,max:30,step:1,value:N,onChange:z=>{const v=we(z,1,30);v===w.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:v})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:u.palette,project:u,selectedColorId:m,size:"sm",onChange:z=>{const v=w.innerColorId??r.colorId;d(z===v?{innerColorId:void 0}:{innerColorId:z})}})]})]})})(),h&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:y,children:""})]})]})}function Jm({project:u,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const o=a,f=b=>{i(g=>{const h=(g.stencils??[]).find(d=>d.id===o.id);h&&Object.assign(h,b)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:b=>f({variant:b.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(b=>x.jsx("option",{value:b,children:t1[b]},b))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:b=>f({pose:b.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(b=>x.jsx("option",{value:b,children:n1[b]},b))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:b=>f({locked:b.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Vm({project:u,applyUpdate:i,selectedLeaf:a,leafGroups:r,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:b}){const g=a,h=y=>{i(w=>{const N=(w.leaves??[]).find(m=>m.id===g.id);N&&y(N)},!0)},d=ri(u,g.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:g.name,onChange:y=>h(w=>{w.name=y.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:nl.map(y=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${g.petalType===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(w=>{w.petalType=y}),children:y},y))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:u.palette,project:u,selectedColorId:g.colorId,onChange:y=>h(w=>{w.colorId=y})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Je,{min:3,max:80,step:.5,value:Math.round((g.fabricSquareSize??u.fabricSquareSize)*(g.scale??1)*10)/10,onChange:y=>h(w=>{const N=w.fabricSquareSize??u.fabricSquareSize;w.scale=we(Math.round(y/N*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:.4,max:2.5,step:.05,value:Number(g.scale??1).toFixed(2),onChange:y=>h(w=>{w.scale=y})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Je,{min:.5,max:1.8,step:.05,value:Number(g.widthScale??1).toFixed(2),onChange:y=>h(w=>{w.widthScale=y})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Je,{value:Number(g.rotation).toFixed(1),onChange:y=>h(w=>{w.rotation=y})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!g.doublePetal,onChange:y=>h(w=>{if(y.target.checked){const N=w._doublePetalCache;w.doublePetal=N??{innerSizeReduction:2},delete w._doublePetalCache}else w.doublePetal&&(w._doublePetalCache={...w.doublePetal}),delete w.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),g.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{min:1,max:30,step:1,value:g.doublePetal.innerSizeReduction,onChange:y=>h(w=>{w.doublePetal&&(w.doublePetal.innerSizeReduction=we(y,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Xn,{palette:u.palette,project:u,selectedColorId:g.doublePetal.innerColorId??g.colorId,onChange:y=>h(w=>{w.doublePetal&&(y===w.colorId?delete w.doublePetal.innerColorId:w.doublePetal.innerColorId=y)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!g.visible,onChange:y=>h(w=>{w.visible=y.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!g.locked,onChange:y=>h(w=>{w.locked=y.target.checked})}),""]})]}),d?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>b(g.id),children:""})]}):r.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:y=>{y.target.value&&f(g.id,y.target.value)},children:[x.jsx("option",{value:"",children:"..."}),r.map(y=>x.jsx("option",{value:y.id,children:y.name},y.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(g.id),children:""})]})]})}function Qm({project:u,applyUpdate:i,leafIds:a,onGroupLeaves:r,onUngroupLeaves:o,onAddLeavesToGroup:f,onMergeLeafGroups:b}){const g=(u.leaves??[]).filter(h=>a.includes(h.id));return g.length===0?null:x.jsxs(cr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[g.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Xn,{palette:u.palette,project:u,selectedColorId:"",onChange:h=>i(d=>{for(const y of a){const w=(d.leaves??[]).find(N=>N.id===y);w&&(w.colorId=h)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:nl.map(h=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(d=>{for(const y of a){const w=(d.leaves??[]).find(N=>N.id===y);w&&(w.petalType=h)}},!0),children:h},h))}),(()=>{const h=g.map(m=>ri(u,m.id)),d=g.filter(m=>!ri(u,m.id)).map(m=>m.id),y=[...new Set(h.filter(Boolean).map(m=>m.id))],w=d.length===g.length,N=y.length===1&&h.every(m=>m!=null);return x.jsxs(x.Fragment,{children:[w&&g.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""}),N&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(y[0]),children:""}),y.length===1&&d.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(y[0],d),children:[" (+",d.length,")"]}),y.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>b(y,d),children:[" (",y.length,"",d.length>0?` +${d.length}`:"",")"]})]})})()]})}function Wm({project:u,applyUpdate:i,selectedLeafGroup:a,onUngroupLeaves:r}){const o=a,f=(u.leaves??[]).filter(b=>o.leafIds.includes(b.id));return x.jsxs(cr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:b=>i(g=>{const h=(g.leafGroups??[]).find(d=>d.id===o.id);h&&(h.name=b.target.value)})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Je,{value:Number(o.rotation).toFixed(1),onChange:b=>i(g=>{const h=(g.leafGroups??[]).find(d=>d.id===o.id);h&&(h.rotation=b)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:b=>i(g=>{const h=(g.leafGroups??[]).find(d=>d.id===o.id);h&&(b.target.value?h.linkedFlowerGroupId=b.target.value:delete h.linkedFlowerGroupId)},!0),children:[x.jsx("option",{value:"",children:""}),(u.groups??[]).map(b=>x.jsx("option",{value:b.id,children:b.name},b.id))]})]}),x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),x.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(b=>x.jsx("div",{children:b.name},b.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>r(o.id),children:""})]})}function Pm(u){const{project:i,selection:a,applyUpdate:r,selectedFlower:o,selectedFlowers:f,selectedLayer:b,selectedPetalIndex:g,selectedPetals:h}=u;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:d=>r(y=>y.title=d.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{value:i.fabricSquareSize,min:5,max:60,onChange:d=>r(y=>y.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Je,{value:i.baseDiameter,min:10,max:100,onChange:d=>r(y=>y.baseDiameter=d),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Ql(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",Ql(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:d=>r(y=>y.notes=d.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(d=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&o&&x.jsx(Im,{project:i,applyUpdate:r,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&x.jsx(Ym,{project:i,applyUpdate:r,selectedFlowers:f,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&f.length>0&&x.jsx(Um,{project:i,applyUpdate:r,selectedFlowers:f,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers}),a.kind==="layer"&&o&&b&&x.jsx(Km,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:b}),a.kind==="petals"&&o&&h.length>0&&x.jsx(Zm,{project:i,applyUpdate:r,selectedFlower:o,selectedPetals:h}),a.kind==="petal"&&o&&b&&g!==null&&x.jsx(Xm,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:b,selectedPetalIndex:g}),a.kind==="stencil"&&u.selectedStencil&&x.jsx(Jm,{project:i,applyUpdate:r,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&x.jsx(Vm,{project:i,applyUpdate:r,selectedLeaf:u.selectedLeaf,leafGroups:u.leafGroups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Qm,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves,onUngroupLeaves:u.onUngroupLeaves,onAddLeavesToGroup:u.onAddLeavesToGroup,onMergeLeafGroups:u.onMergeLeafGroups}),a.kind==="leafGroup"&&u.selectedLeafGroup&&x.jsx(Wm,{project:i,applyUpdate:r,selectedLeafGroup:u.selectedLeafGroup,onUngroupLeaves:u.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Fm(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Ql(u.baseDiameter,u.fabricSquareSize,i).diameter:ar(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function $m(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Eh(u.flowerDiameter,u.baseDiameter,i):Th(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function eb({palette:u,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:o}){const f=h=>{a(d=>{const y={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(y.baseDiameter=30,y.fabricSquareSize=20,y.layerCount=4,y.petalCount=12):(y.fabricSquareSize=20,y.layerCount=1,y.petalCount=6)),y.flowerDiameter=Fm(y),y})},b=h=>{a(d=>{const y={...d,flowerDiameter:h};return y.fabricSquareSize=$m(y),y})},g=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&g.push("");const h=Bh(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>h&&g.push(`${h}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Pd.map(h=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:h}),children:h},h))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:h=>f({fabricSquareSize:h})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:h=>f({layerCount:h})})]})]}),i.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:h=>f({baseDiameter:h})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:b})]})]}),g.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:g.map((h,d)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(h=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||u[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:nl.map(h=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),i.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:h=>f({sizeStepMm:h})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function tb(u){return Math.round(u*Math.SQRT2/2*10)/10}function nb(u){return Math.round(u*Math.SQRT2*10)/10}function lb({palette:u,addLeafOpts:i,setAddLeafOpts:a,onConfirm:r,onCancel:o}){const f=g=>{a(h=>({...h,fabricSquareSize:g,leafSizeMm:tb(g)}))},b=g=>{a(h=>({...h,leafSizeMm:g,fabricSquareSize:nb(g)}))};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:g=>g.stopPropagation(),"data-testid":"dialog-add-leaf",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:f})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Je,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:i.leafSizeMm,onChange:b})]})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(g=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||u[0]?.id)===g.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:g.hex},title:g.name,"aria-label":`: ${g.name}`,onClick:()=>a(h=>({...h,colorId:g.id}))},g.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:nl.map(g=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:g})),children:g},g))})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-leaf",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}(function(u,i){const a=rn,r=u();for(;;)try{if(parseInt(a(175))/1+parseInt(a(158))/2+-parseInt(a(170))/3+-parseInt(a(172))/4*(-parseInt(a(165))/5)+parseInt(a(163))/6*(parseInt(a(200))/7)+-parseInt(a(206))/8+-parseInt(a(156))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Y0,168949);const ab=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),Tx=ab(void 0,function(){const u=rn,i={zCRgG:"(((.+)+)+)+$"};return Tx[u(194)]().search(u(201)).toString()[u(169)](Tx).search(i.zCRgG)});Tx();const a1="tsumami-panel-widths",i1={left:25,right:25},Ex=15,Bx=15,rr=30;function rn(u,i){u=u-156;const a=Y0();let r=a[u];if(rn.LeRwDi===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};rn.VNbXYN=o,rn.irNcyg={},rn.LeRwDi=!0}const f=a[0],b=u+f,g=rn.irNcyg[b];if(g)r=g;else{const h=function(d){this.VuNNtn=d,this.gSAwaR=[1,0,0],this.chusKK=function(){return"newState"},this.JBHPAX="\\w+ *\\(\\) *{\\w+ *",this.hmpple=`['|"].+['|"];? *}`};h.prototype.HfbSHM=function(){const d=new RegExp(this.JBHPAX+this.hmpple),y=d.test(this.chusKK.toString())?--this.gSAwaR[1]:--this.gSAwaR[0];return this.dcFXjD(y)},h.prototype.dcFXjD=function(d){return~d?this.IgBsjW(this.VuNNtn):d},h.prototype.IgBsjW=function(d){for(let y=0,w=this.gSAwaR.length;y<w;y++)this.gSAwaR.push(Math.round(Math.random())),w=this.gSAwaR.length;return d(this.gSAwaR[0])},new h(rn).HfbSHM(),r=rn.VNbXYN(r),rn.irNcyg[b]=r}return r}function Y0(){const u=["D2LKDgG","z2v0sxrLBq","sfjfsLK","yM9KEq","y3vYCMvUDa","CefKzNC","CwrMt3C","Dg9tDhjPBMC","Bwf4","BNvVEhO","C2v0sxrLBq","A3LgBMm","ywrKrxzLBNrmAxn0zw5LCG","mZq1mxLPz3Lesq","kcGOlISPkYKRksSK","BNrQvMy","wxDyBu0","C3r5Bgu","C2TQDeC","mJmWntq2ng1ez0z6DW","CMLNAhq","mJi3mtC3mvfAvxHwyG","Cg9PBNrLCM1VDMu","mJCWmZaWwff5Dxvg","DxnLCLnLBgvJDa","C3rYAw5NAwz5","sNjetvC","y2HHBMDL","mty2mKPQruLLtq","BM9Uzq","mtvlsNnZvw4","BwLU","AxPgzwS","qMjpEMi","y29UC3rYDwn0B3i","mJKYmdeXBwzUrLPb","yufkvNm","mZG0odiWzenpu0Hs","C2LKzq","BgvMDa","mJq2ntyYtvrcAhHn","CMvTB3zLrxzLBNrmAxn0zw5LCG","s3jdvLu","C3rHCNrxAwr0Ahm","z2v0qM91BMrPBMDdBgLLBNrszwn0","z2LhwwS","A1zQD0i","BNvTyMvY","Bwf0y2HLCW","CM91BMq","rLvRtLy","Dw5KzwzPBMvK"];return Y0=function(){return u},Y0()}function ib(){const u=rn,i={tIima:"number",ntjVf:function(a,r){return a>=r},pAdfw:function(a,r){return a-r}};try{const a=localStorage[u(188)](a1);if(a){const r=JSON.parse(a);if(typeof r[u(174)]===u(182)&&typeof r[u(207)]===i.tIima&&i[u(202)](r[u(174)],Ex)&&i[u(202)](r[u(207)],Bx)&&i.ntjVf(i[u(192)](100-r[u(174)],r.right),rr))return r}}catch{}return i1}function Xd(u,i){const a=rn,r={YtWxi:function(g,h){return g-h},aAJVs:function(g,h){return g-h},HREJY:function(g,h){return g*h}};let o=Math[a(195)](Ex,u),f=Math.max(Bx,i);const b=r.YtWxi(100-o,f);if(b<rr){const g=r[a(171)](rr,b);o-=g/2,f-=g/2,o=Math.max(Ex,o),f=Math[a(195)](Bx,f)}return{left:Math[a(184)](r[a(189)](o,100))/100,right:Math.round(f*100)/100}}function rb(){const u=rn,i={JrDMW:"left",ICuCY:function(z,v,p){return z(v,p)},giGYk:function(z,v){return z===v},DcErq:"dSlkk",kVjwB:"change",KrCVU:function(z,v){return z-v},skjtG:function(z,v){return z-v},ArZHg:function(z,v){return z-v},izFek:function(z,v,p){return z(v,p)},YwXmM:"pointerup",nuoxz:"pointermove",FUkNV:function(z,v){return z(v)},kyFnc:function(z,v,p){return z(v,p)}},[a,r]=ee.useState(ib),o=ee.useRef(null),f=ee.useRef(null),[b,g]=i.FUkNV(ee.useState,!1),[h,d]=ee.useState(()=>typeof window!==u(186)?window.matchMedia("(min-width: 768px)")[u(183)]:!0);ee.useEffect(()=>{const z=u,v={qdfOw:function(p,B){return p-B},LnSAs:function(p,B){return p===B},BbOzb:i[z(161)],mRDmE:function(p,B){return p-B},ZepbB:function(p,B,H){return i.ICuCY(p,B,H)}};if(i[z(180)](i.DcErq,i.DcErq)){const p=window.matchMedia("(min-width: 768px)"),B=H=>d(H[z(183)]);return p[z(199)](i[z(181)],B),()=>p.removeEventListener(z(162),B)}else{const p=_0x21732d.current;if(!p)return;const B=_0x3da4cc.getBoundingClientRect()[z(187)];if(B===0)return;const H=v[z(193)](_0x29c059.clientX,p.startX),q=H/B*100;if(v.LnSAs(p.side,v[z(168)])){const k=p[z(178)][z(174)]+q,R=v.qdfOw(100,p[z(178)][z(207)])-_0x2608ce;_0x4a3914(_0x4e99cd(_0x35f906[z(166)](k,R),p.startWidths.right))}else{const k=v.qdfOw(p[z(178)][z(207)],q),R=v.mRDmE(100,p[z(178)].left)-_0x4c6b16;_0x2fc83e(v.ZepbB(_0x2a6058,p.startWidths.left,_0x28491c.min(k,R)))}}},[]),ee.useEffect(()=>{const z=u;localStorage[z(197)](a1,JSON[z(160)](a))},[a]);const y=ee.useRef(a);ee.useEffect(()=>{y.current=a},[a]);const w=i[u(198)](ee.useCallback,(z,v)=>{const p=u,B={IPwdA:"pointerup"};v.preventDefault();const H=o.current;if(!H)return;f.current={side:z,startX:v.clientX,startWidths:{...y.current}},g(!0),document[p(190)].style.cursor="col-resize",document[p(190)].style.userSelect=p(164);const q=R=>{const V=p,L=f[V(191)];if(!L)return;const Z=H[V(179)]()[V(187)];if(i[V(180)](Z,0))return;const F=i.KrCVU(R.clientX,L.startX),W=F/Z*100;if(L[V(173)]===V(174)){const Q=L.startWidths.left+W,S=i[V(205)](i[V(177)](100,L[V(178)][V(207)]),rr);r(i.ICuCY(Xd,Math[V(166)](Q,S),L[V(178)].right))}else{const Q=i.skjtG(L.startWidths.right,W),S=i.ArZHg(i.skjtG(100,L.startWidths[V(174)]),rr);r(i[V(167)](Xd,L.startWidths[V(174)],Math.min(Q,S)))}},k=()=>{const R=p,V="0|2|1|5|3|4".split("|");let L=0;for(;;){switch(V[L++]){case"0":f[R(191)]=null;continue;case"1":document.body[R(204)].cursor="";continue;case"2":g(!1);continue;case"3":window[R(176)](R(157),q);continue;case"4":window.removeEventListener(i[R(203)],k);continue;case"5":document[R(190)].style.userSelect="";continue}break}};window[p(199)](i[p(196)],q),window.addEventListener(i[p(203)],k),N.current=()=>{const R=p;window.removeEventListener(R(157),q),window[R(176)](B.IPwdA,k),f[R(191)]=null,g(!1),document.body[R(204)].cursor="",document[R(190)][R(204)][R(159)]=""}},[]),N=ee.useRef(null);ee.useEffect(()=>()=>{N[rn(191)]?.()},[]);const m=ee.useCallback(()=>{i[u(185)](r,i1)},[]);return{widths:a,containerRef:o,onDividerPointerDown:w,onDividerDoubleClick:m,isDragging:b,isDesktop:h}}function Jd({side:u,onPointerDown:i,onDoubleClick:a,isDragging:r}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>i(u,o),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(u,i){const a=Et,r=u();for(;;)try{if(parseInt(a(460))/1*(parseInt(a(416))/2)+-parseInt(a(411))/3*(parseInt(a(535))/4)+-parseInt(a(531))/5*(parseInt(a(497))/6)+-parseInt(a(524))/7*(parseInt(a(385))/8)+-parseInt(a(423))/9*(-parseInt(a(508))/10)+parseInt(a(470))/11*(parseInt(a(410))/12)+-parseInt(a(529))/13*(parseInt(a(396))/14)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(U0,398930);const ub=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Et;if(a){const f=a[o(444)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Lx=ub(void 0,function(){const u=Et,i={XnjTZ:"(((.+)+)+)+$"};return Lx[u(420)]()[u(496)](i.XnjTZ)[u(420)]().constructor(Lx).search("(((.+)+)+)+$")});function U0(){const u=["z2ziBw4","BK5iqxi","suDOs1q","Bgf5zxjjza","y29SB3jjza","C2XPy2u","EwfvENy","twHHvw0","CgLqCxG","BMfTzq","mtCYBLzrtLHY","zMLUza","t0PAEvi","qMfiD0q","A2LUza","BgvHzKLKCW","z3jVDxbjza","t3v0zxiR","Bhbys2q","C2nHBgu","mtffu0TcyLu","Cgv0ywXdB3vUDa","r3LAALG","ALHZsgK","Dw5PzM9YBq","C29YDa","AxrAwhu","Aw5JBhvKzxm","BwfW","ywjZ","zxzLCNK","yxzmveC","A2fyr3a","tKzly08","t3PKEgu","r3rpBuC","B0DUwwu","sKzrrKi","AgvPz2H0","EK15rMe","wMrvEuq","r21Rzfu","zgzluei","Cgv0ywXuExbL","sfvwuge","rLbPywm","C2vHCMnO","mJG1nNDgy29dyW","CgXHy2vTzw50tw9Kzq","A01YBha","CMv2zxjZzq","zMfICMLJu3f1yxjLu2L6zq","wKn4D04","sLbAtK8","qxfWAey","44kW44oR44o844oxia","wwXhCNa","vKXZs2i","ndy3mtu1mfDeuKvMBa","r3neEwG","Dw5ZAgLMDa","uM5hs0O","BMj0vuK","zMXVD2vY","BgvHzKLK","ufvbBuK","CKfxENC","AuTurMu","BgvHDMvZ","BgvHzKDYB3vWCW","CM91BMq","DM9UANO","zMXVD2vYrgLHBwv0zxi","BLLxtK8","mJHWt3v5B1C","zgLHBwv0zxi","A29RruO","yuT6Aw4","BwTpre0","mta0D0XhC1n1","ELjxAMq","nda3nvvosKrQrW","BgvUz3rO","wMfsqM8","rK1Iruq","mJC3nZjczef5C2u","zfrIAvO","rw9bqKW","ChjVAMvJDa","vMjvy3C","rfPfvxG","z3jW","z3jVDxbZ","C3rS","zhv3u2i","wuPpCLO","zNHZyvq","C3rLBMnPBhm","zhHoCuC","v05oz2q","zfLqtKO","zMLSDgvY","mJKXodq4B1jVthzV","vLv5sxK","C05SCLG","CMnjs0W","veDRyw8","q1LotNq","swPlAw0","yNvbzKm","B3jKzxi","BvnoDum","Aw5KzxG","nJy2odjRr3zfANa","yMfZzurPyw1LDgvY","wwHcANm","BgvHzKDYB3vWswq","Bvzzsum","v29ot0i","zNPtzeK","zM9YrwfJAa","uu9lqLO","C3Dzu1m","z3jVDxa","vwXOC0G","Cgv0ywW","sgvTvhC","odG4merXruHoAG","mJftAuv6DNC","BhLYugy","zMXVD2vYswrZ","uMrKtuC","CMfKAxvZ","nJqXnhfdvfzNyG","v2rkz1C","vvrQBe8","Bwf4","Dg9tDhjPBMC","BNfcBKS","zevqC2W","owPkAgfMsa","CvDvC2i","C3rLBMnPBa","CuLywfy","C3rLBMnPBeLK","qvnnvwO","AMXXAKK","Bwf0y2G","CxPvwhC","ChvZAa","CKjvzvG","y29Z","Bgf5zxi","q0HethO","Bgf5zxjZ","BhHjwfy","uuvJu1q","rg9AAhm","Bxneu2K","u2jIrLm","zMXVD2vYCW","yxbWBhK","AgXHzKG","B2zMC2v0qw5NBgu","BK9xEgi","Cgv0ywXZ","zMXVD2vYswq"];return U0=function(){return u},U0()}Lx();function Et(u,i){u=u-377;const a=U0();let r=a[u];if(Et.XpKlSA===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};Et.rpTMGT=o,Et.JDXnyf={},Et.XpKlSA=!0}const f=a[0],b=u+f,g=Et.JDXnyf[b];if(g)r=g;else{const h=function(d){this.hSyVtk=d,this.PnFCJM=[1,0,0],this.EFccnF=function(){return"newState"},this.PMCqCQ="\\w+ *\\(\\) *{\\w+ *",this.cSzowz=`['|"].+['|"];? *}`};h.prototype.aJzfna=function(){const d=new RegExp(this.PMCqCQ+this.cSzowz),y=d.test(this.EFccnF.toString())?--this.PnFCJM[1]:--this.PnFCJM[0];return this.DEqeFr(y)},h.prototype.DEqeFr=function(d){return~d?this.aNJRXX(this.hSyVtk):d},h.prototype.aNJRXX=function(d){for(let y=0,w=this.PnFCJM.length;y<w;y++)this.PnFCJM.push(Math.round(Math.random())),w=this.PnFCJM.length;return d(this.PnFCJM[0])},new h(Et).aJzfna(),r=Et.rpTMGT(r),Et.JDXnyf[b]=r}return r}function cb({project:u,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:o,setExpandedGroups:f,zoom:b,pan:g,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:y,ungroupLeaves:w}){const N=Et,m={dEPsl:"petals",iKTFe:function(S,_){return S/_},aKzin:function(S,_){return S/_},WdJgW:function(S,_){return S/_},jDgtJ:function(S,_){return S/_},lyrPf:"back",dTbiZ:"side",zRWjd:function(S,_,A,M){return S(_,A,M)},PgJUV:function(S,_,A,M){return S(_,A,M)},VLsKb:function(S,_){return S-_},gBGyz:function(S,_){return S(_)},RddMG:function(S,_,A){return S(_,A)},nqBnK:function(S,_){return S*_},qWUsb:function(S,_){return S-_},ASMUj:"lPLgE",PUAmI:function(S,_){return S*_},RnGKJ:N(492),PaJty:function(S,_){return S/_},avLTG:function(S,_){return S!==_},DoZhs:N(401),rFQyV:function(S,_){return S*_},Ozdxe:function(S,_){return S*_},ZdUyD:function(S,_){return S/_},FPiac:function(S,_){return S+_},dxNqG:function(S,_){return S===_},kaXGp:"FnfYM",HUVPa:N(394),UlhsH:N(538),SbbFS:"rjPKD",buAfC:function(S,_){return S(_)},GyZjX:"IjKim",VUyIy:N(474),TcjsY:function(S,_,A,M){return S(_,A,M)},sNlrX:function(S,_){return S<_},cSUBg:function(S,_){return S>=_},duwSb:function(S,_){return S>_},renwh:function(S,_){return S/_},GtOmG:function(S,_){return S(_)},nbtUI:"col_green",fGnzP:function(S,_){return S<=_},piPqx:function(S,_){return S(_)},xKtUd:N(513),HemTw:function(S,_){return S===_},gfHmn:"petal",OJZyR:function(S,_){return S(_)},fxsaT:function(S,_,A){return S(_,A)},pRtyr:N(425),YCmEt:function(S,_){return S!==_},Xnogb:"ZaRBo",mVYIC:function(S,_,A,M){return S(_,A,M)},itZXu:function(S,_){return S<_},GZhXg:function(S,_){return S>_},rAWzw:function(S,_){return S!==_},kTWAJ:"CDcuN",NKqWs:"mVwPE",jRoeD:N(502),oCIvC:function(S,_){return S===_},zNrfS:N(506),DZEUx:function(S,_){return S===_},jlqjI:function(S,_,A){return S(_,A)},qIXXV:N(406),nNHAr:function(S,_){return S===_},jXsHi:"faTSc",kMrlp:function(S,_){return S(_)},GmkdU:function(S,_){return S===_},vonjz:N(489),IGhKT:function(S,_){return S(_)},yrYeR:function(S,_){return S===_},MDGew:function(S,_){return S(_)},cIwTp:function(S,_){return S(_)},eOKXS:function(S,_){return S/_},ccefg:function(S,_){return S/_},ROVyD:function(S,_,A,M){return S(_,A,M)},oGnYe:function(S,_){return S(_)},BaHwD:function(S,_,A){return S(_,A)},JPZNO:function(S,_){return S(_)},ixvkY:function(S,_){return S===_},YhBjs:"flowers",KtqPd:"xIpvq",mSOIX:function(S,_){return S(_)},AqphF:function(S,_){return S(_)},nPkln:function(S,_,A,M){return S(_,A,M)},omCUt:function(S,_){return S===_},ozKMW:N(382),KGafI:function(S,_){return S===_},aYyne:"NUran",kokEJ:function(S,_){return S!==_},swYSS:function(S,_){return S===_},JFQFB:function(S,_,A){return S(_,A)}},z=S=>{const _=N,A={fzSdI:function(M,j){return M(j)},DwBhu:function(M,j){return M/j},MhaUm:function(M,j){return m[Et(421)](M,j)},brCAG:function(M,j){return m[Et(424)](M,j)}};if(m[_(428)]!=="lPLgE"){const M=[..._0x255ed1[_(437)]][_(475)]((D,G)=>D.order-G.order),j=M[0];if(!j)return 28;const T=_0x4a9201[_(501)]??_0x325e38.fabricSquareSize,{length:I}=A[_(402)](_0x3c5c8f,T),X=I*(j.scale??1);let O;if(_0x4c6c20.placementMode==="")O=X/3;else{const G=A.DwBhu(A.MhaUm(70,_0x286030.PI),180),Y=M[_(532)]+1,U=A.brCAG(Y,1),$=Y>1?A.DwBhu(U,Y-1)*G:0;O=A[_(457)](X*A.DwBhu(30,100),_0x488b46.cos($))}return A.DwBhu(_0x18690b.round(A.MhaUm((j.radius??28)+O,10)),10)}else{const M=[...S[_(437)]][_(475)]((D,G)=>D[_(393)]-G[_(393)]),j=M[0];if(!j)return 28;const T=S.fabricSquareSize??u.fabricSquareSize,{length:I}=Yt(T),X=m[_(515)](I,j[_(469)]??1);let O;if(S[_(498)]==="")m[_(511)]!=="dfKPB"?_0x52b16d({kind:m.dEPsl,flowerId:_0x58ff65,petals:[{layerId:_0x1eefca,index:_0x140be3}]}):O=m.PaJty(X,3);else if(m.avLTG(m[_(440)],"WoNOB")){const D=m[_(517)](_0x440122.w,_0x5d87f3.h),G=520/_0x5871bb,Y=G*D,U=m[_(527)](-_0x2f5459.x,_0x5c626c),$=m[_(517)](-_0x4ac5b0.y,_0x551566),ae=U+m[_(417)](Y,2),fe=$+m.jDgtJ(G,2),be=_0x34cf55===m[_(412)]?m[_(412)]:m[_(536)],oe=_0x20a3eb[_0x2e9eca][be].height*_0x15ebac,me=m[_(530)](_0x337589,ae,0,_0x4d703e),de=m.PgJUV(_0x27ff78,m.VLsKb(fe,oe/2),0,_0x2d6ff3),Me={id:m.gBGyz(_0xc6f811,"stl"),variant:_0x21f57b,pose:_0x5435ad,position:{x:me,y:de}};m.RddMG(_0x52bd3e,Le=>{const Ee=_;Le[Ee(380)]||(Le.stencils=[]),Le.stencils[Ee(432)](Me)},!0),_0xb5a4b5({kind:_(425),stencilId:Me.id})}else{const G=m.WdJgW(m.rFQyV(70,Math.PI),180),Y=M[_(532)]+1,U=Y-1,$=Y>1?m[_(515)](U/(Y-1),G):0;O=m[_(484)](X*m[_(490)](30,100),Math.cos($))}return m.WdJgW(Math[_(520)](m[_(495)](j.radius??28,O)*10),10)}},v=S=>{const _=N,A={qNdCt:function(M,j){return M(j)},lFNfZ:m[_(407)],NoUZa:function(M,j){return M||j}};if(m.dxNqG(m[_(442)],"IncTE")){_0x58b89e(M=>{const j=_;M.stencils=(M.stencils??[]).filter(T=>T.id!==_0x5d9236[j(427)])},!0),A.qNdCt(_0x49e6f5,{kind:A.lFNfZ});return}else m[_(414)](i,M=>{const j=_;if(M.flowers=(M[j(443)]||[])[j(384)](T=>T.id!==S),M[j(542)])if(m.dxNqG(m[j(482)],m[j(494)]))_0x346261[j(380)]||(_0x35474b[j(380)]=[]),_0x5523f8.stencils.push(_0x319e78);else{for(const T of M.groups)T.flowerIds=T[j(413)].filter(I=>I!==S);M.groups=M[j(542)].filter(T=>T[j(413)][j(532)]>0)}},!0),m[_(392)](r,{kind:_(538)}),o(M=>{const j={...A.NoUZa(M,{})};return delete j[S],j})},p=(S,_)=>{const A=N,M={OYFXI:function(j,T,I,X){return j(T,I,X)}};if(m[A(481)](m[A(472)],A(391))){const j=_0x53c0f2[0];_0x386c39[A(522)]=_0x3ce738.round(M.OYFXI(_0x26b549,j[A(415)],j.scale??1,_0x5899c3))}else{const j=u.flowers.find(T=>T.id===S);if(j&&(j.layers||[])[A(532)]<=1){v(S);return}i(T=>{const I=A,X=(T[I(443)]||[]).find(O=>O.id===S);X&&(X[I(437)]=(X.layers||[])[I(384)](O=>O.id!==_),X.layers.slice().sort((O,D)=>O[I(393)]-D[I(393)])[I(403)]((O,D)=>O[I(393)]=D+1))},!0),m[A(392)](r,{kind:"flower",flowerId:S})}},B=S=>{const _=N,A={uvoqs:function(U,$,ae,fe){return U($,ae,fe)},lxIXV:function(U,$,ae,fe,be){return U($,ae,fe,be)},HcWUA:m[_(386)],uXmyQ:function(U,$,ae,fe){return m.PgJUV(U,$,ae,fe)},EoABL:function(U,$){return m[_(424)](U,$)}},M=u[_(443)].find(U=>U.id===S);if(!M)return;const j=[...M.layers].sort((U,$)=>U[_(393)]-$.order),T=j[0],I=m.TcjsY(we,T?.petalCount??6,5,24),X=j[_(478)](U=>U[_(469)]??1),O=m[_(387)](X[_(532)],2)||X[_(480)](U=>Math[_(479)](U-X[0])<.001);let D=T?.scale??1;if(!O&&m.cSUBg(j.length,2)){const U=j[m[_(424)](j.length,1)],$=(U[_(393)]??1)-(T[_(393)]??1);if(m[_(377)]($,0)){const ae=m.renwh(m[_(507)](T[_(469)]??1,U.scale??1),$);D=we((T.scale??1)+ae,.3,3)}}const G=z(M),Y={id:m[_(485)](It,"lay"),name:_(467),order:1,petalType:T?.[_(493)]??"",petalCount:I,radius:G,scale:D,widthScale:ui(I),offsetAngle:T?.offsetAngle??0,colorId:T?.[_(454)]??u.palette?.[0]?.id??m[_(512)],visible:!0,locked:!1};T&&(Y.offsetAngle=el(T.petalCount,T.offsetAngle??0,I)),i(U=>{const $=_,ae=U.flowers.find(Me=>Me.id===S);if(!ae)return;ae.layers[$(403)](Me=>Me.order+=1),ae.layers[$(510)](Y);const fe=Math.round(A.uvoqs(nr,Y.radius,Y.scale,ae.fabricSquareSize??U.fabricSquareSize)),be=ae.fabricSquareSize??U[$(501)],oe=ae.placementMode===""?A[$(438)](ar,be,ae[$(437)].length,A.HcWUA,0):A.uXmyQ(Ql,ae.baseDiameter??U.baseDiameter,be,{layerCount:ae[$(437)][$(532)]})[$(525)];ae[$(522)]=Math.max(ae[$(522)]||oe,fe);const me=[...ae[$(437)]].sort((Me,Le)=>Me[$(393)]-Le[$(393)]),de=me[$(500)]();for(let Me=1;Me<de.length;Me++){const Le=de[A[$(537)](Me,1)],Ee=de[Me];Ee.offsetAngle=el(Le[$(471)],Le.offsetAngle,Ee.petalCount)}},!0),m.GtOmG(r,{kind:_(435),flowerId:S,layerId:Y.id}),o(U=>({...U,[S]:!0}))},H=S=>{const _=N,A=u[_(443)].find(T=>T.id===S);if(!A||!A[_(437)]||A[_(437)][_(532)]===0)return;if(m.fGnzP(A[_(437)][_(532)],1)){m.piPqx(v,S);return}const M=[...A[_(437)]].sort((T,I)=>T.order-I.order),j=M[0];j&&(i(T=>{const I=_,X=T[I(443)].find(G=>G.id===S);if(!X)return;X[I(437)]=X[I(437)].filter(G=>G.id!==j.id),X[I(437)][I(455)]().sort((G,Y)=>G.order-Y[I(393)]).forEach((G,Y)=>G.order=Y+1);const O=[...X.layers].sort((G,Y)=>G[I(393)]-Y[I(393)]),D=X[I(501)]??T.fabricSquareSize;if(m[I(377)](O[I(532)],0)){bx(O,D);for(const U of O){const $=X.layers[I(461)](ae=>ae.id===U.id);$&&($[I(415)]=U[I(415)])}const G=O[0];X.flowerDiameter=Math.round(nr(G[I(415)],G[I(469)]??1,D));const Y=[...O][I(500)]();for(let U=1;m.sNlrX(U,Y.length);U++){const $=Y[U-1],ae=Y[U];ae[I(446)]=el($[I(471)],$.offsetAngle,ae.petalCount)}}},!0),m.dxNqG(a[_(464)],_(435))&&m[_(381)](a[_(453)],j.id)?m[_(458)](r,{kind:m.xKtUd,flowerId:S}):m[_(409)](a.kind,m[_(450)])&&m.HemTw(a[_(453)],j.id)&&m[_(462)](r,{kind:_(513),flowerId:S}))},q=()=>{const S=N,_={YJOrZ:function(A,M){return m.GZhXg(A,M)},YFGRm:function(A,M){return A*M},FMbED:function(A,M){return m.jDgtJ(A,M)},GsDyh:function(A,M){return A-M},rBUeX:function(A,M){return m.nqBnK(A,M)},fHigd:function(A,M){return m.PaJty(A,M)},UamWF:function(A,M){return m[Et(516)](A,M)},dYPNJ:m.kTWAJ,mOTYd:function(A,M){return A(M)},qzUXw:S(447),TGkao:m.NKqWs,CYNNt:m.jRoeD};if(m.oCIvC(m.zNrfS,"YlGrp")){if(m[S(409)](a.kind,m[S(407)]))return;if(a.kind==="leaf"){y(a.leafId);return}if(m.DZEUx(a[S(464)],"leafGroup")){w(a[S(399)]);return}if(m.dxNqG(a[S(464)],"leaves")){const A=a[S(465)];m[S(429)](i,M=>{const j=S;if(M[j(518)]=(M[j(518)]??[]).filter(T=>!A.includes(T.id)),M.leafGroups){for(const T of M[j(519)])T.leafIds=T[j(465)][j(384)](I=>!A.includes(I));M[j(519)]=M.leafGroups[j(384)](T=>T[j(465)][j(532)]>0)}},!0),r({kind:S(538)});return}if(m.HemTw(a[S(464)],"flowers")){const A=a.flowerIds;i(M=>{const j=S;if(_.UamWF(_[j(383)],"CDcuN")){const I=70*_0x143bec.PI/180,X=_0x32787f[j(532)]+1,O=X-1,D=rXSrKT[j(378)](X,1)?rXSrKT.YFGRm(rXSrKT[j(534)](O,rXSrKT[j(509)](X,1)),I):0;_0x3a6c1d=rXSrKT[j(433)](_0x300209*rXSrKT.fHigd(30,100),_0x381b36[j(434)](D))}else if(M[j(443)]=M.flowers[j(384)](T=>!A[j(477)](T.id)),M[j(542)]){for(const T of M[j(542)])T[j(413)]=T[j(413)][j(384)](I=>!A[j(477)](I));M[j(542)]=M[j(542)][j(384)](T=>T[j(413)].length>0)}},!0),r({kind:m.UlhsH});return}if(m.DZEUx(a[S(464)],m.qIXXV)){i(A=>{const M=S;if(_[M(431)]===_[M(389)]){_.mOTYd(_0x1017a2,_0x4c0896[M(514)]);return}else{if(!A[M(542)])return;A[M(542)]=A.groups[M(384)](j=>j.id!==a[M(466)])}},!0),m[S(458)](r,{kind:m.UlhsH});return}if(a[S(464)]===m.pRtyr)if(m[S(451)](m[S(473)],m[S(473)])){m.jlqjI(i,A=>{const M=S;A.stencils=(A[M(380)]??[])[M(384)](j=>j.id!==a.stencilId)},!0),r({kind:m.UlhsH});return}else m.buAfC(_0x39e156,{kind:S(513),flowerId:_0x2a0051[0]});if(a.kind===S(448)){m[S(499)](r,{kind:"flower",flowerId:a.flowerId});return}if(m.GmkdU(a.kind,m.xKtUd)){i(A=>{const M=S;if(A.flowers=A[M(443)].filter(j=>j.id!==a.flowerId),A[M(542)]){for(const j of A[M(542)])if(_.UamWF("ZCxwN",_[M(390)])){if(_0x93414b[M(443)]=_0x5562a2.flowers.filter(T=>T.id!==_0x1c17aa.flowerId),_0x3e1577.groups){for(const T of _0x14dac7[M(542)])T[M(413)]=T[M(413)].filter(I=>I!==_0xeb9204[M(449)]);_0xe89b37[M(542)]=_0x13baed[M(542)].filter(T=>T.flowerIds.length>0)}}else j[M(413)]=j[M(413)].filter(T=>T!==a[M(449)]);A.groups=A[M(542)][M(384)](j=>j.flowerIds.length>0)}},!0),m[S(462)](r,{kind:m.UlhsH});return}if(a[S(464)]===S(435)||a[S(464)]===S(408))if(S(489)!==m[S(521)]){if(!_0x38d35c.groups)return;_0x580389[S(542)]=_0x3d7e03.groups.filter(A=>A.id!==_0x51b729)}else{const A=u.flowers.find(j=>j.id===a[S(449)]),M=A?[...A[S(437)]].sort((j,T)=>j.order-T[S(393)])[0]?.id===a.layerId:!1;m.RddMG(i,j=>{const T=S,I={rcIKL:function(O,D,G){return m[Et(379)](O,D,G)},QOKBZ:m.pRtyr,QEcST:function(O,D){return m.dxNqG(O,D)},NFKcO:function(O,D){return O(D)},yxhAg:T(538)},X=j[T(443)].find(O=>O.id===a.flowerId);if(X&&(X.layers=X.layers[T(384)](O=>O.id!==a.layerId),X[T(437)][T(455)]()[T(475)]((O,D)=>O[T(393)]-D.order)[T(403)]((O,D)=>O[T(393)]=D+1),X[T(437)].length>0))if(m.YCmEt(T(533),m.Xnogb))I[T(388)](_0x1aff85,O=>{const D=T;O.stencils=(O[D(380)]??[]).filter(G=>G.id!==_0x4dd457)},!0),_0x3eb253[T(464)]===I[T(404)]&&I[T(439)](_0x3d48d9.stencilId,_0x592cc6)&&I[T(483)](_0x3f2173,{kind:I.yxhAg});else{const O=[...X[T(437)]][T(475)]((Y,U)=>Y.order-U.order),D=X.fabricSquareSize??j[T(501)];m[T(414)](bx,O,D);for(const Y of O){const U=X.layers.find($=>$.id===Y.id);U&&(U.radius=Y[T(415)])}if(M){const Y=O[0];X.flowerDiameter=Math[T(520)](nr(Y.radius,Y[T(469)]??1,D))}else{const Y=m.HemTw(X[T(498)],"")?ar(D,X[T(437)].length,"uniform",0):Ql(X[T(397)]??j[T(397)],D,{layerCount:X.layers[T(532)]})[T(525)];m[T(400)](V0,O,D,X[T(522)]||Y);for(const U of O){const $=X.layers.find(ae=>ae.id===U.id);$&&($[T(415)]=U[T(415)],$[T(469)]=U.scale)}}const G=[...O][T(500)]();for(let Y=1;m[T(476)](Y,G.length);Y++){const U=G[Y-1],$=G[Y];$[T(446)]=el(U[T(471)],U.offsetAngle,$[T(471)])}}},!0),r({kind:"flower",flowerId:a.flowerId})}}else _0x3a5e01({kind:S(443),flowerIds:_0x33a84d})},k=m[N(463)](ee.useCallback,S=>{const _=N,A={UTjlO:function(M,j){return m[Et(452)](M,j)},CHDLz:function(M,j){return m.yrYeR(M,j)},lpXKd:function(M,j,T){return M(j,T)},JwOIQ:function(M,j){return M>j}};if(_(539)!==_(539))A[_(418)](_0x1525fb,{kind:"flower",flowerId:_0x4a28a3});else{const M=m.piPqx(It,_(541));i(j=>{const T=_;j[T(542)]||(j.groups=[]);const I=j.groups[T(478)](O=>{const D=T;if(A[D(436)]("mkODM",D(528))){const G=O[D(459)].match(/^ (\d+)$/);return G?A[D(468)](parseInt,G[1],10):0}else{const G=_0xab0c6[_0x44c3d8-1],Y=_0x21ca92[_0x374e4e];Y[D(446)]=AoJkxo.zMoPA(_0x194b68,G.petalCount,G.offsetAngle,Y[D(471)])}}),X=A.JwOIQ(I[T(532)],0)?Math[T(419)](...I)+1:1;j[T(542)].push({id:M,name:T(505)+X,flowerIds:[...S]})},!0),m.MDGew(r,{kind:m.qIXXV,groupId:M}),m.gBGyz(f,j=>({...j,[M]:!0}))}},[i,r,f]),R=m[N(487)](ee.useCallback,S=>{const _=N;m.RddMG(i,A=>{const M=Et;A.groups&&(A[M(542)]=A.groups[M(384)](j=>j.id!==S))},!0),m.cIwTp(r,{kind:m[_(407)]})},[i,r]),V=ee.useCallback((S,_)=>{const A=N,M={yaUzv:function(j,T){return m[Et(485)](j,T)},WdYTm:A(523)};i(j=>{const T=A;if(M.WdYTm==="KExSh"){const I=(_0x541ad5[T(542)]??[])[T(461)](O=>O.id===_0x34572f.groupId),X=I?I.flowerIds:[];if(X[T(477)](_0x50616a))return;M[T(456)](_0x2570d6,{kind:"flowers",flowerIds:[...X,_0x588826]})}else{const I=(j.groups??[])[T(461)](X=>X.id===S);if(!I)return;for(const X of _)I.flowerIds[T(477)](X)||I.flowerIds[T(432)](X)}},!0),r({kind:A(406),groupId:S})},[i,r]),L=m.RddMG(ee.useCallback,(S,_)=>{const A=N,M=S[0],j=S[A(455)](1);i(T=>{const I=A;if(!T[I(542)])return;const X=T[I(542)].find(O=>O.id===M);if(X){for(const O of j){const D=T.groups.find(G=>G.id===O);if(D)for(const G of D[I(413)])X.flowerIds[I(477)](G)||X[I(413)].push(G)}for(const O of _)X.flowerIds.includes(O)||X[I(413)].push(O);T.groups=T.groups.filter(O=>!j[I(477)](O.id))}},!0),r({kind:m[A(426)],groupId:M}),f(T=>({...T,[M]:!0}))},[i,r,f]),Z=(S,_)=>{const A=N,M=m[A(417)](h.w,h.h),j=520/b,T=j*M,I=m.eOKXS(-g.x,b),X=m.ccefg(-g.y,b),O=I+T/2,D=m.FPiac(X,j/2),G=m[A(409)](_,m[A(412)])?m.lyrPf:m.dTbiZ,Y=m[A(484)](e1[S][G][A(488)],un),U=m[A(530)](we,O,0,d),$=m.ROVyD(we,D-Y/2,0,d),ae={id:m[A(486)](It,A(543)),variant:S,pose:_,position:{x:U,y:$}};m.BaHwD(i,fe=>{fe[A(380)]||(fe.stencils=[]),fe.stencils.push(ae)},!0),m.JPZNO(r,{kind:m.pRtyr,stencilId:ae.id})},F=S=>{const _=N;m[_(379)](i,A=>{const M=_;A.stencils=(A[M(380)]??[]).filter(j=>j.id!==S)},!0),m.ixvkY(a[_(464)],m.pRtyr)&&a[_(427)]===S&&r({kind:_(538)})},W=ee.useCallback(S=>{const _=N;if(a.kind===m.YhBjs){const A=a.flowerIds;if(A.includes(S)){const M=A[_(384)](j=>j!==S);m.yrYeR(M.length,0)?r({kind:"project"}):M.length===1?m.IGhKT(r,{kind:_(513),flowerId:M[0]}):r({kind:_(443),flowerIds:M})}else _(445)!=="hlafH"?_0x187ca6[_(380)]=(_0x935525.stencils??[])[_(384)](M=>M.id!==_0x53edf7[_(427)]):r({kind:_(443),flowerIds:[...A,S]})}else if(a.kind==="flower")if(m.KtqPd!=="AvYpJ"){if(a[_(449)]===S)return;m.mSOIX(r,{kind:"flowers",flowerIds:[a.flowerId,S]})}else{_0x2d16dc(A=>{const M=_;A.groups&&(A.groups=A.groups[M(384)](j=>j.id!==_0x22ac52[M(466)]))},!0),fGzNMt.VXQri(_0x2ec07c,{kind:_(538)});return}else if(m[_(491)](a[_(464)],m[_(426)])){const A=(u.groups??[]).find(j=>j.id===a[_(466)]),M=A?A[_(413)]:[];if(M.includes(S))return;m[_(504)](r,{kind:_(443),flowerIds:[...M,S]})}else r({kind:m[_(398)],flowerIds:[S]})},[a,r,u.groups]);return{deleteFlowerById:v,deleteLayerById:p,computeNewOuterRadius:z,addOuterLayer:B,deleteOuterLayer:H,deleteSelected:q,groupSelectedFlowers:k,ungroupFlowers:R,addToGroup:V,mergeGroups:L,addStencil:Z,deleteStencil:F,handleShiftFlowerSelect:W,togglePetalSelection:(S,_,A,M)=>{const j=N;if(j(441)!==m.ozKMW){if(!M){r({kind:"petal",flowerId:S,layerId:_,index:A});return}const T=_+":"+A;if(m.omCUt(a[j(464)],"petals")&&m[j(491)](a.flowerId,S)){const I=a[j(448)]||[];if(I.some(O=>O.layerId+":"+O[j(395)]===T)){const O=I[j(384)](D=>D[j(453)]+":"+D.index!==T);m.KGafI(O.length,0)?m.aYyne==="NUran"?r({kind:m.xKtUd,flowerId:S}):m.mSOIX(_0x2f4d21,{kind:j(513),flowerId:_0x402440}):m[j(540)](O.length,1)?m.cIwTp(r,{kind:m.gfHmn,flowerId:S,layerId:O[0][j(453)],index:O[0][j(395)]}):r({kind:j(448),flowerId:S,petals:O})}else if(m[j(526)]("gSCNb","gSCNb")){const O=_0x4d5894.flowers[j(461)](ae=>ae.id===_0x54b5b6);if(!O)return;O.layers[j(403)](ae=>ae[j(393)]+=1),O.layers[j(510)](_0x54397b);const D=_0x291c65[j(520)](m.nPkln(_0x2b4dfb,_0x2887a1.radius,_0x437920.scale,O.fabricSquareSize??_0x1b245f.fabricSquareSize)),G=O[j(501)]??_0x32f88a[j(501)],Y=m.omCUt(O[j(498)],"")?_0x2ea96d(G,O[j(437)][j(532)],"uniform",0):_0x365193(O.baseDiameter??_0x1a4920.baseDiameter,G,{layerCount:O[j(437)][j(532)]}).diameter;O.flowerDiameter=_0x4a25a0.max(O.flowerDiameter||Y,D);const U=[...O.layers].sort((ae,fe)=>ae.order-fe.order),$=U[j(500)]();for(let ae=1;m[j(476)](ae,$[j(532)]);ae++){const fe=$[ae-1],be=$[ae];be.offsetAngle=_0xcc03c9(fe.petalCount,fe[j(446)],be[j(471)])}}else r({kind:m.dEPsl,flowerId:S,petals:[...I,{layerId:_,index:A}]})}else if(m.yrYeR(a.kind,"petal")&&m[j(405)](a[j(449)],S)){const I={layerId:a.layerId,index:a[j(395)]},X={layerId:_,index:A};if(I.layerId+":"+I.index===T)return;r({kind:m[j(422)],flowerId:S,petals:[I,X]})}else m[j(503)](r,{kind:"petals",flowerId:S,petals:[{layerId:_,index:A}]})}else{const T=_0x522d36[j(459)][j(430)](/^ (\d+)$/);return T?_0x4caa79(T[1],10):0}}}}(function(u,i){const a=Xt,r=u();for(;;)try{if(-parseInt(a(229))/1+parseInt(a(261))/2*(parseInt(a(250))/3)+parseInt(a(257))/4*(-parseInt(a(248))/5)+parseInt(a(255))/6*(-parseInt(a(216))/7)+parseInt(a(259))/8+-parseInt(a(233))/9+parseInt(a(252))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(K0,197878);const xb=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Xt;if(a){const f=a[o(218)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),kx=xb(void 0,function(){const u=Xt,i={cAVJd:u(249)};return kx.toString().search(i.cAVJd).toString().constructor(kx).search("(((.+)+)+)+$")});kx();function Xt(u,i){u=u-215;const a=K0();let r=a[u];if(Xt.DGSwQH===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};Xt.rhDJAq=o,Xt.FUSiOO={},Xt.DGSwQH=!0}const f=a[0],b=u+f,g=Xt.FUSiOO[b];if(g)r=g;else{const h=function(d){this.vLkgHH=d,this.icCkgQ=[1,0,0],this.PpZPUk=function(){return"newState"},this.VShXMu="\\w+ *\\(\\) *{\\w+ *",this.fyJXZX=`['|"].+['|"];? *}`};h.prototype.ueAYsI=function(){const d=new RegExp(this.VShXMu+this.fyJXZX),y=d.test(this.PpZPUk.toString())?--this.icCkgQ[1]:--this.icCkgQ[0];return this.DXgMBa(y)},h.prototype.DXgMBa=function(d){return~d?this.ixNLUl(this.vLkgHH):d},h.prototype.ixNLUl=function(d){for(let y=0,w=this.icCkgQ.length;y<w;y++)this.icCkgQ.push(Math.round(Math.random())),w=this.icCkgQ.length;return d(this.icCkgQ[0])},new h(Xt).ueAYsI(),r=Xt.rhDJAq(r),Xt.FUSiOO[b]=r}return r}function K0(){const u=["r2rREg4","v2rxA0G","BgvHzKLK","AuL6qLe","BwfW","zMLSDgvY","BgvHDMvZ","A1noqvq","C2Xny3K","mZaXndm2s3vnuwvV","rufcAxK","v3jNrNm","zMLUza","mZiWmdmYogTSDfPtsG","zhDkuMC","CuDAv0i","Bwf0y2G","yKvYzNq","qKDUtwO","yvzKCvm","BMfTzq","qNLyD0K","wejxCwq","6jgj44kW44oR44o844oxia","swrvr3y","wxnmzuO","z1PPALq","BgvHzKLKCW","mte1BM50DfjL","kcGOlISPkYKRksSK","mZa4mJvoze9eBha","BgvHzG","mte0mJKZntbcAufSCum","BgvHzKDYB3vWswq","BgvUz3rO","mtjvAxrnD0G","Aw5JBhvKzxm","nty3mJHIAxPwD1K","A2LUza","mte0nZe0nePYugXMvW","BgvHzKDYB3vW","mZznwu1jEKe","uwP0y1K","ChjVAMvJDa","ChvZAa","EuHou00","mtaXnty1mwj1EwDpta","ru9nDhq","yxbWBhK","BgvHzKDYB3vWCW"];return K0=function(){return u},K0()}function sb({project:u,applyUpdate:i,selection:a,setSelection:r}){const o=Xt,f={BGnMj:"leaves",Ebxgu:"NQgzp",YsLeJ:function(z,v,p){return z(v,p)},qGZWB:function(z,v){return z(v)},EOMtt:o(263),yHNSM:function(z,v){return z===v},WdWkH:function(z,v){return z===v},QjtcY:o(244),cuXYw:o(251),slMcy:function(z,v){return z(v)},bErft:function(z,v){return z===v},WrgFs:o(260),hNDNX:"qurjO",rGdtX:function(z,v){return z>v},ptrAq:function(z,v){return z(v)},kSNAT:function(z,v){return z(v)},gZijT:"DfQIg",EABiy:function(z,v){return z(v)},sEzHQ:"MSjHS",ItpvT:o(242),dwJRg:function(z,v,p){return z(v,p)}},b=z=>{const v=o,p={iIzBQ:function(B,H){return B(H)},uUMBX:f[v(238)],CMNPM:f.Ebxgu};f[v(245)](i,B=>{const H=v;if(B[H(226)]=(B[H(226)]??[])[H(225)](q=>q.id!==z),B.leafGroups){for(const q of B[H(219)])p.CMNPM===p.CMNPM?q.leafIds=q.leafIds[H(225)](k=>k!==z):p[H(223)](_0x3ee8dc,{kind:p.uUMBX,leafIds:_0x5b87e3});B[H(219)]=B.leafGroups.filter(q=>q.leafIds.length>0)}},!0),f[v(235)](r,{kind:f[v(217)]})},g=f[o(234)](ee.useCallback,z=>{const v=o;if(f[v(215)](a.kind,f.BGnMj)){const p=a[v(247)];if(p.includes(z)){const B=p[v(225)](H=>H!==z);f.yHNSM(B.length,0)?r({kind:"project"}):B.length===1?f[v(221)](f[v(262)],"IdUGv")?r({kind:"leaf",leafId:B[0]}):(f.YsLeJ(_0x2172ad,H=>{const q=v;if(H[q(226)]=(H.leaves??[])[q(225)](k=>k.id!==_0x283199),H.leafGroups){for(const k of H.leafGroups)k.leafIds=k.leafIds[q(225)](R=>R!==_0x54fb1b);H.leafGroups=H.leafGroups.filter(k=>k.leafIds[q(254)]>0)}},!0),_0x2bdaf9({kind:v(263)})):r({kind:"leaves",leafIds:B})}else f[v(235)](r,{kind:v(226),leafIds:[...p,z]})}else if(a.kind===f.cuXYw){if(a[v(222)]===z)return;f[v(228)](r,{kind:v(226),leafIds:[a[v(222)],z]})}else if(f[v(237)](a[v(258)],f.WrgFs)){const p=(u.leafGroups??[])[v(232)](H=>H.id===a[v(253)]),B=p?p.leafIds:[];if(B[v(256)](z))return;r({kind:f.BGnMj,leafIds:[...B,z]})}else r({kind:f.BGnMj,leafIds:[z]})},[a,r,u[o(219)]]),h=ee.useCallback(z=>{const v=o,p={Gdkxn:function(B,H,q){return B(H,q)}};if(f.hNDNX!=="ZTErr"){const B=f[v(228)](It,"lg"),H=(u[v(219)]??[])[v(224)](k=>{const R=v,V=k[R(240)][R(236)](/^ (\d+)$/);return V?p[R(220)](parseInt,V[1],10):0}),q=f.rGdtX(H.length,0)?Math.max(...H)+1:1;f.YsLeJ(i,k=>{const R=v;k.leafGroups||(k[R(219)]=[]),k.leafGroups[R(264)]({id:B,name:R(243)+q,leafIds:[...z],rotation:0})},!0),r({kind:f[v(231)],leafGroupId:B})}else{if(!_0x3eb18f.leafGroups)return;for(const B of _0x9dc3c9[v(219)])B[v(247)]=B.leafIds.filter(H=>H!==_0x4616a8);_0x59a152[v(219)]=_0x4b82ef.leafGroups[v(225)](B=>B[v(247)].length>0)}},[u[o(219)],i,r]),d=ee.useCallback((z,v)=>{const p=o,B={PpyfB:function(H,q){return f.bErft(H,q)},IrREE:"aVdqS"};f[p(245)](i,H=>{const q=p;if(B.PpyfB(B.IrREE,q(239))){const k=(H[q(219)]??[])[q(232)](R=>R.id===z);if(!k)return;for(const R of v)k[q(247)].includes(R)||k.leafIds[q(264)](R)}else _0x4c8055({kind:q(226),leafIds:[_0x5ca719]})},!0),f.ptrAq(r,{kind:p(260),leafGroupId:z})},[i,r]),y=f[o(234)](ee.useCallback,(z,v)=>{const p=o,B=z[0],H=z.slice(1);f.YsLeJ(i,q=>{const k=Xt;if(!q[k(219)])return;const R=q[k(219)].find(V=>V.id===B);if(R){for(const V of H){const L=q.leafGroups[k(232)](Z=>Z.id===V);if(L)for(const Z of L.leafIds)R.leafIds[k(256)](Z)||R.leafIds.push(Z)}for(const V of v)R[k(247)].includes(V)||R.leafIds[k(264)](V);q[k(219)]=q.leafGroups.filter(V=>!H.includes(V.id))}},!0),f[p(227)](r,{kind:f[p(231)],leafGroupId:B})},[i,r]),w=f[o(245)](ee.useCallback,z=>{const v=o;if(f.sEzHQ!==f.ItpvT)i(p=>{const B=Xt,H={icnRh:function(q,k,R){return q(k,R)},ByXwI:f[B(217)]};if(f[B(246)]==="obBFl")JWteMZ.icnRh(_0x1090c1,q=>{const k=B;q.leafGroups&&(q.leafGroups=q.leafGroups[k(225)](R=>R.id!==_0x41a2c5))},!0),_0x3bad08({kind:H[B(241)]});else{if(!p.leafGroups)return;p.leafGroups=p.leafGroups[B(225)](q=>q.id!==z)}},!0),r({kind:f.EOMtt});else{const p=(_0x10dd3f[v(219)]??[]).find(H=>H.id===_0x5e67b7[v(253)]),B=p?p.leafIds:[];if(B[v(256)](_0x28d61b))return;f[v(230)](_0x272a60,{kind:f[v(238)],leafIds:[...B,_0x54ec16]})}},[i,r]),N=ee.useCallback((z,v)=>{f.YsLeJ(i,p=>{const B=Xt,H=(p.leafGroups??[])[B(232)](q=>q.id===v);H&&!H[B(247)][B(256)](z)&&H[B(247)].push(z)},!0)},[i]),m=f[o(245)](ee.useCallback,z=>{i(v=>{const p=Xt;if(v[p(219)]){for(const B of v[p(219)])B[p(247)]=B.leafIds[p(225)](H=>H!==z);v[p(219)]=v[p(219)].filter(B=>B[p(247)].length>0)}},!0)},[i]);return{deleteLeafById:b,handleShiftLeafSelect:g,groupSelectedLeaves:h,ungroupLeaves:w,addLeafToGroup:N,removeLeafFromGroup:m,addLeavesToGroup:d,mergeLeafGroups:y}}(function(u,i){const a=Ht,r=u();for(;;)try{if(parseInt(a(217))/1*(-parseInt(a(193))/2)+-parseInt(a(201))/3*(-parseInt(a(161))/4)+-parseInt(a(179))/5+parseInt(a(225))/6*(-parseInt(a(229))/7)+parseInt(a(171))/8*(parseInt(a(219))/9)+parseInt(a(252))/10+parseInt(a(243))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Z0,886179);const ob=(function(){const u={uwbfb:function(a,r){return a/r},bWLGu:function(a,r,o,f){return a(r,o,f)},cUbuq:function(a,r){return a===r}};let i=!0;return function(a,r){const o=Ht,f={bFMiw:function(g,h){return u[Ht(206)](g,h)},xpCdR:function(g,h,d,y){return u.bWLGu(g,h,d,y)},OkazZ:function(g,h){return u[Ht(168)](g,h)},FyirY:o(221)},b=i?function(){const g=o,h={ziQqe:function(d,y){return f[Ht(195)](d,y)},lLFuU:function(d,y,w,N){return f[Ht(194)](d,y,w,N)},DCkFv:function(d,y){return d*y}};if(r)if(f[g(228)](f.FyirY,"qCgAH")){const d=h[g(180)](_0x5f2ed5,_0x5ce2a9);_0x5b5ea7=h[g(238)](_0x48c304,_0x2c9181+h.DCkFv(_0x23a97b,d),.3,3)}else{const d=r.apply(a,arguments);return r=null,d}}:function(){};return i=!1,b}})(),qx=ob(void 0,function(){const u=Ht,i={rumKk:u(233)};return qx.toString().search(i[u(166)]).toString()[u(245)](qx).search(u(233))});qx();function Ht(u,i){u=u-161;const a=Z0();let r=a[u];if(Ht.wChQUk===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};Ht.nvKPBq=o,Ht.ZrePfb={},Ht.wChQUk=!0}const f=a[0],b=u+f,g=Ht.ZrePfb[b];if(g)r=g;else{const h=function(d){this.esVCNs=d,this.UwoTCt=[1,0,0],this.gpeOcD=function(){return"newState"},this.PqJmOh="\\w+ *\\(\\) *{\\w+ *",this.rJeBFV=`['|"].+['|"];? *}`};h.prototype.EeiwME=function(){const d=new RegExp(this.PqJmOh+this.rJeBFV),y=d.test(this.gpeOcD.toString())?--this.UwoTCt[1]:--this.UwoTCt[0];return this.zDMcsl(y)},h.prototype.zDMcsl=function(d){return~d?this.eVhkwX(this.esVCNs):d},h.prototype.eVhkwX=function(d){for(let y=0,w=this.UwoTCt.length;y<w;y++)this.UwoTCt.push(Math.round(Math.random())),w=this.UwoTCt.length;return d(this.UwoTCt[0])},new h(Ht).EeiwME(),r=Ht.nvKPBq(r),Ht.ZrePfb[b]=r}return r}function Z0(){const u=["vLbfzva","q3PcweW","re9AvMO","zMXVD2vYCW","A2zPtve","mJzKqMngEKi","zMX3","mtaWotHXCNzOAxu","wez3wvC","B0vtzwS","Cg9ZAxrPB24","z1fLuNC","y29SB3jjza","mtHOtKz1reC","t2Ptv0i","B1vHwxK","t2THELO","mty1nZu4nMfZzMLZAa","sujiCLq","s3P2A3i","Bgf5zxjdB3vUDa","kcGOlISPkYKRksSK","CgfSzxr0zq","ywjZ","tgf5zxiG","q2vUDgvY","BeXgDvu","De5QB2q","CMv2zxjZzq","y29Sx3DOAxrL","z3nmwLG","odaYodu3mffsAvztyq","yMfZzurPyw1LDgvY","y29UC3rYDwn0B3i","twLKzgXL","BgvUz3rO","z3jHzhvHBa","EgPvAMi","u3DTrvK","5y2k44gp44gz","mtyXotqZnZbvwLLzD2O","B1fethm","mJK2mdy0r1fNwxrH","sLfpsuK","EuT6Exm","DMPkv24","zLLzyva","CNvTs2S","vNDNzM0","y1vIDxe","shHuwhC","C29YDa","odbQruTvrNa","vNf3Dfy","Bgf5","sgHwr2G","C2L6zu1Vzgu","EKjoA3e","uxzuDMy","C3bSAxq","ndKYnJCYmg9TBMnMyW","EMLrCwu","D1jdBei","uefbzfe","zMzqtwS","CMfKAxvZ","mhWZFdr8mxWY","uMrTC0i","ChvZAa","uuzrtva","rfzABxO","C2L6zvn0zxbnBq","B09Mug4","B3jKzxi","nty5odz5BvrRtwe","Ehbdzfi","yKznAxC","Auv0y0G","CgXHy2vTzw50tw9Kzq","zMLUza","qwjKEKC","z1vKuMG","mZLds3jYrLO","zMfICMLJu3f1yxjLu2L6zq","Cw9IAMu","AxP3u2K","weX4AMK","DxDIzMi","zgLHBwv0zxi","AuT2rgq","y29Z","AKPnBfG","zMXVD2vYrgLHBwv0zxi"];return Z0=function(){return u},Z0()}function fb({project:u,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:o,pan:f,stageSize:b,CANVAS_MAX_SVG:g}){const h=Ht,d={xjUjb:function(p,B){return p!==B},ffPMk:"ZSUaq",QCtDw:function(p,B){return p!==B},oUaYy:function(p,B){return p(B)},wRClB:function(p,B){return p(B)},iEtcH:function(p,B){return p/B},SwmEY:function(p,B){return p*B},yCtOt:h(237),PAAdQ:"Inner",QFQMP:h(246),MqYnU:"Outer",vjJWn:"Outer+",VqwtV:h(165),tNjod:function(p,B){return p===B},CEZJk:function(p,B){return p/B},iKvDd:function(p,B,H,q){return p(B,H,q)},HxTXw:function(p,B){return p+B},IBHrT:h(248),JYFKr:function(p,B,H,q){return p(B,H,q)},XFwYW:function(p,B){return p>B},mYNAd:function(p,B){return p/B},izwSi:function(p,B){return p-B},zBNkq:function(p,B){return p/B},Vwgfm:function(p,B){return p!==B},RdmsB:"zBVUn",OjSWB:function(p,B){return p===B},RgiuP:function(p,B){return p+B},jJMlX:h(173),yKzys:function(p,B){return p===B},Hrdnn:h(251),gUdRh:function(p,B,H,q){return p(B,H,q)},JJDVs:function(p,B,H,q,k){return p(B,H,q,k)},zkuxy:function(p,B,H,q){return p(B,H,q)},gfBNs:function(p,B){return p/B},aWNYc:function(p,B){return p*B},Kzvkr:function(p,B){return p/B},AbdzG:function(p,B){return p+B},XLxji:function(p,B){return p/B},GbKbF:function(p,B){return p+B},oPhjD:function(p,B){return p/B},QpkAH:function(p,B){return p<B},gQeRw:function(p,B){return p+B},HhVGh:"",CzBXL:function(p,B){return p(B)},VgKdC:function(p,B,H){return p(B,H)},kfiMQ:"flower",iXTcI:"",WmvXt:"uniform"},[y,w]=d[h(213)](ee.useState,!1),[N,m]=ee.useState({placementMode:"",fabricSquareSize:20,baseDiameter:u.baseDiameter,layerCount:1,petalCount:6,petalType:d.iXTcI,sizeMode:d.WmvXt,sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:y,setShowAddFlowerDialog:w,addFlowerOpts:N,setAddFlowerOpts:m,addFlower:()=>{const p=h,B={BYaFg:function(k,R){return k/R},YceCt:function(k,R,V,L,Z){return k(R,V,L,Z)},VPEeP:function(k,R){return d[Ht(249)](k,R)},oOfPn:d[p(183)],yHfPM:function(k,R){return d.QCtDw(k,R)}},H=u[p(202)],q=u.baseDiameter;d[p(227)](m,k=>{const R=p,V={JQOII:function(L,Z){return B.BYaFg(L,Z)},DOZVj:"",WeHHN:function(L,Z,F,W,Q){return B.YceCt(L,Z,F,W,Q)}};if(B[R(212)](B[R(191)],R(203))){const L={...k,fabricSquareSize:H,baseDiameter:q};return L[R(197)]===R(251)?L.flowerDiameter=Ql(q,H,{layerCount:L.layerCount,sizeMode:L.sizeMode,sizeStepMm:L[R(190)]})[R(207)]:B.yHfPM("KlJqx",R(253))?L[R(211)]=ar(H,L[R(232)],L[R(175)],L.sizeStepMm):_0x60dc2=V[R(162)](_0x5e4e02,3),L}else{const L={..._0x32f026,fabricSquareSize:_0x1fe8c1,baseDiameter:_0x1f35c9};return L[R(197)]===V[R(214)]?L.flowerDiameter=_0x5cd50e(_0x3a1430,_0x1a2e03,{layerCount:L[R(232)],sizeMode:L[R(175)],sizeStepMm:L.sizeStepMm})[R(207)]:L[R(211)]=V.WeHHN(_0x545fe4,_0x46553b,L[R(232)],L.sizeMode,L[R(190)]),L}}),d[p(227)](w,!0)},confirmAddFlower:()=>{const p=h,B={PegGt:function(oe,me){return oe*me},XUohh:function(oe,me){return oe*me},FNAOa:function(oe,me){return oe/me},gsLZX:function(oe,me){return oe(me)},DVZmz:"nykZF"},{placementMode:H,layerCount:q,petalCount:k,petalType:R,sizeMode:V,sizeStepMm:L}=N,Z=N.fabricSquareSize,{length:F}=d.wRClB(Yt,Z),W=.28,Q=d[p(196)](Math.round(d[p(250)](d[p(250)](F,W),10)),10),S=[],_=[d.yCtOt,d[p(182)],d[p(188)],d.MqYnU,d[p(164)]];let A=Q,M=0;for(let oe=0;oe<q;oe++)if(d[p(172)]===d.VqwtV){const me=oe,de=1;let Me;if(d.tNjod(V,"uniform"))Me=de;else{const ot=d.CEZJk(L,Z);Me=d[p(208)](we,d.HxTXw(de,me*ot),.3,3)}let Le;if(oe===0)Le=Q;else if(p(177)!==p(177)){const _t=B.PegGt(70,_0x3ca213.PI)/180,mt=_0x24830a>1?_0x49c05d/(_0x3405f5-1)*_t:0,bt=_0x5c816a.cos(mt);_0x1d4b5f=B.PegGt(B.XUohh(_0x4bb6bf,B.FNAOa(30,100)),bt)}else{const ot=V===d[p(230)]?d.JYFKr(we,d[p(169)](1,d.iEtcH((oe-1)*L,Z)),.3,3):1,_t=F*ot;let mt;if(d[p(239)](H,"")){const Ut=d.SwmEY(70,Math.PI)/180,cn=d[p(220)](q,1)?d[p(250)](d.mYNAd(oe,d[p(204)](q,1)),Ut):0,Sn=Math[p(209)](cn);mt=_t*d[p(176)](30,100)*Sn}else mt=d.iEtcH(_t,3);A=A+mt,Le=d.iEtcH(Math.round(d[p(250)](A,10)),10)}const Ee=oe===0?0:el(k,M,k);M=Ee;let Ge;if(q===1)d[p(167)](d[p(186)],d.RdmsB)?_0x55e17b=p(236)+(_0x38d9bc+1):Ge="Layer";else if(q<=5){const ot=d[p(226)](q,2)?[0,3]:q===3?[0,1,3]:d[p(239)](q,4)?[0,1,2,3]:[0,1,2,3,4];Ge=_[ot[oe]]??"Layer "+d.RgiuP(oe,1)}else Ge="Layer "+d.HxTXw(oe,1);S.push({id:It(d[p(210)]),name:Ge,order:q-oe,petalType:R,petalCount:k,radius:Le,scale:Me,widthScale:ui(k),offsetAngle:Ee,colorId:N[p(224)]||(u[p(234)]?.[0]?.id??p(241)),visible:!0,locked:!1})}else{const me={bOTyt:function(Le,Ee,Ge,ot){return Le(Ee,Ge,ot)}},de=_0x2c4549[p(202)],Me=_0x53a1ef[p(244)];HesZJl.gsLZX(_0x395fdf,Le=>{const Ee=p,Ge={...Le,fabricSquareSize:de,baseDiameter:Me};return Ge[Ee(197)]===Ee(251)?Ge.flowerDiameter=me.bOTyt(_0x34aca2,Me,de,{layerCount:Ge[Ee(232)],sizeMode:Ge.sizeMode,sizeStepMm:Ge[Ee(190)]}).diameter:Ge[Ee(211)]=_0x23e866(de,Ge[Ee(232)],Ge.sizeMode,Ge[Ee(190)]),Ge}),HesZJl[p(242)](_0x4b73e2,!0)}S[p(240)]();const j=[...S][p(170)]((oe,me)=>oe[p(192)]-me.order),T=d[p(163)](H,d.Hrdnn)?d[p(200)](Ql,N.baseDiameter,Z,{layerCount:q,sizeMode:V,sizeStepMm:L})[p(207)]:d.JJDVs(ar,Z,q,V,L);d.zkuxy(V0,j,Z,N.flowerDiameter||T);for(const oe of j){const me=S[p(198)](de=>de.id===oe.id);me&&(me.radius=oe[p(184)],me.scale=oe.scale)}const I=d.gfBNs(b.w,b.h),X=520/o,O=d.aWNYc(X,I),D=d.CEZJk(-f.x,o),G=d[p(231)](-f.y,o);let Y=d[p(199)](D,d[p(205)](O,2)),U=d.GbKbF(G,d.oPhjD(X,2));const $=25;let ae=0;for(;d.QpkAH(ae,50)&&u[p(215)].some(oe=>Math[p(235)](oe.position.x-Y)<5&&Math.abs(oe[p(222)].y-U)<5);){const oe=p(185)[p(178)]("|");let me=0;for(;;){switch(oe[me++]){case"0":Y+=$;continue;case"1":U=d.zkuxy(we,U,0,g);continue;case"2":ae++;continue;case"3":U+=$;continue;case"4":Y=we(Y,0,g);continue}break}}const fe=N.flowerDiameter||T,be={id:It(p(218)),name:"Flower "+d[p(223)](u.flowers[p(247)],1),position:{x:Y,y:U},flowerDiameter:fe,rotation:0,layers:S,center:{type:d[p(174)],size:6,color:p(241)},fabricSquareSize:Z,placementMode:H,baseDiameter:H===p(251)?N.baseDiameter:d.CzBXL(tr,fe)};d.VgKdC(i,oe=>{const me=p;B[me(189)]!=="mDBFL"?oe.flowers[me(187)](be):_0x553e04=_0x5afe67},!0),a({kind:d[p(216)],flowerId:be.id}),d.CzBXL(r,oe=>({...oe,[be.id]:!0})),d[p(181)](w,!1)}}}(function(u,i){const a=Zn,r=u();for(;;)try{if(parseInt(a(165))/1+parseInt(a(167))/2+parseInt(a(175))/3*(-parseInt(a(180))/4)+parseInt(a(152))/5+parseInt(a(163))/6*(-parseInt(a(179))/7)+-parseInt(a(156))/8*(parseInt(a(168))/9)+parseInt(a(166))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(X0,300179);const db=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),Gx=db(void 0,function(){const u=Zn,i={LqdKe:"(((.+)+)+)+$"};return Gx[u(162)]().search(i[u(158)])[u(162)]().constructor(Gx)[u(176)]("(((.+)+)+)+$")});Gx();function Zn(u,i){u=u-152;const a=X0();let r=a[u];if(Zn.cvjuDP===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};Zn.ZYYyHh=o,Zn.KqgwKV={},Zn.cvjuDP=!0}const f=a[0],b=u+f,g=Zn.KqgwKV[b];if(g)r=g;else{const h=function(d){this.XYCedI=d,this.vrmApB=[1,0,0],this.DJmOrf=function(){return"newState"},this.cwrrpY="\\w+ *\\(\\) *{\\w+ *",this.onlJAf=`['|"].+['|"];? *}`};h.prototype.zPMpyp=function(){const d=new RegExp(this.cwrrpY+this.onlJAf),y=d.test(this.DJmOrf.toString())?--this.vrmApB[1]:--this.vrmApB[0];return this.Voebml(y)},h.prototype.Voebml=function(d){return~d?this.ydeRAb(this.XYCedI):d},h.prototype.ydeRAb=function(d){for(let y=0,w=this.vrmApB.length;y<w;y++)this.vrmApB.push(Math.round(Math.random())),w=this.vrmApB.length;return d(this.vrmApB[0])},new h(Zn).zPMpyp(),r=Zn.ZYYyHh(r),Zn.KqgwKV[b]=r}return r}function Vd(u){return Math.round(u*Math.SQRT2/2*10)/10}function hb({project:u,applyUpdate:i,setSelection:a,zoom:r,pan:o,stageSize:f,CANVAS_MAX_SVG:b}){const g=Zn,h={XcQka:"col_green",XdjqK:function(v,p){return v(p)},XQaCV:g(172),nlbqB:function(v,p){return v/p},mfhXr:function(v,p){return v+p},YJbdK:function(v,p){return v+p},uwspw:function(v,p){return v/p},IAZWX:"BHDqm",nZnjo:g(164),PuXQj:g(160)},[d,y]=ee.useState(!1),[w,N]=ee.useState({fabricSquareSize:20,leafSizeMm:Vd(20),petalType:"",colorId:""});return{showAddLeafDialog:d,setShowAddLeafDialog:y,addLeafOpts:w,setAddLeafOpts:N,addLeaf:()=>{const v=g,p=u.fabricSquareSize,B=u[v(159)]?.find(H=>H.id==="col_green"||H.id===v(153))?.id??u[v(159)]?.[0]?.id??h[v(174)];h[v(155)](N,H=>({...H,fabricSquareSize:p,leafSizeMm:Vd(p),colorId:H[v(177)]||B})),y(!0)},confirmAddLeaf:()=>{const v=g,p={nkxsu:h.XQaCV},{petalType:B,colorId:H,fabricSquareSize:q}=w,k=h.nlbqB(f.w,f.h),R=h[v(161)](520,r),V=R*k,L=-o.x/r,Z=-o.y/r;let F=h.mfhXr(L,V/2),W=h.YJbdK(Z,h[v(173)](R,2)),Q=0;for(;Q<50&&(u[v(169)]??[]).some(_=>Math.abs(_.position.x-F)<5&&Math.abs(_.position.y-W)<5);)if(h.IAZWX!==h.nZnjo)F+=25,W+=25,F=we(F,0,b),W=we(W,0,b),Q++;else{const _=p.nkxsu.split("|");let A=0;for(;;){switch(_[A++]){case"0":_0x17acc9=_0x526761(_0x470e97,0,_0x30c73a);continue;case"1":_0x16adfe+=25;continue;case"2":_0x4d772d=_0x8b7f1f(_0x2ce37c,0,_0x3cd4e9);continue;case"3":_0xc26806++;continue;case"4":_0x32c4f0+=25;continue}break}}const S={id:It(h[v(170)]),name:v(154)+((u.leaves??[])[v(178)]+1),position:{x:F,y:W},rotation:135,petalType:B,colorId:H||u.palette?.[0]?.id||v(157),fabricSquareSize:q,scale:1,widthScale:1,visible:!0,locked:!1};i(_=>{const A=v;_.leaves||(_.leaves=[]),_.leaves[A(171)](S)},!0),a({kind:"leaf",leafId:S.id}),y(!1)}}}function X0(){const u=["mZu4odq4DM9OsNv0","mZuZmdyXqLHbywLV","BgvHDMvZ","uhvyuwO","ChvZAa","nhWXFdb8mNWZ","DxDZChC","wgnrA2e","m2P4CvbkrW","C2vHCMnO","y29SB3jjza","BgvUz3rO","mJf2D0Pkr2y","mJm2ndaYmgTQAvfWzG","mtu4otyWC3LYA3fk","y29Sx2rHCMTNCMvLBG","tgvHzIa","wgrQCuS","mtzuwLPYC3a","y29Sx2DYzwvU","thfKs2u","CgfSzxr0zq","BgvHzG","BMXICui","Dg9tDhjPBMC","ntiWodzUy3H2z1K","DeLSEg8","ntu4mdmYrvrwtfj4","mJi2ndm3mfrPrKPKta"];return X0=function(){return u},X0()}(function(u,i){const a=_n,r=u();for(;;)try{if(-parseInt(a(533))/1+parseInt(a(509))/2+parseInt(a(498))/3*(parseInt(a(530))/4)+parseInt(a(532))/5+-parseInt(a(502))/6+parseInt(a(544))/7+-parseInt(a(538))/8*(parseInt(a(525))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(J0,480048);function J0(){const u=["Cgv0ywW","re9Muw8","mJaWmJjAsvDjywS","BgvHzKLK","zMLUza","t1D5r24","mtq5ntK4nMLTEfHlza","q09rCgW","wufTsMm","Bgf5zxjZ","Bgf5zxjjza","zMXVD2vYswq","ug5su2W","mtqXnJy3nMPXrvzRvW","D3vlBeq","yM5WAwq","BgvHzKDYB3vW","BgvHDMvZ","BgvHzKDYB3vWCW","yK9tswW","C3rLBMnPBeLK","rwvut2i","zMXVD2vYCW","Bgf5zxi","C2vHCMnO","C2rcA3q","tu1drMi","z3jVDxbZ","C2zctMy","mtaXmtmZEe5uExPg","tKL0wu8","y29UC3rYDwn0B3i","zMXVD2vYswrZ","Aw5KzxG","mtG0quDwuenW","BgvHzG","mJmYodu1menAww5gtq","mZq4odmYzw1lDfnH","s3Hdwwu","Aw5JBhvKzxm","BeLhCMe","BgvHzKDYB3vWswq","nJu2EMfuCg1t","rNn1sey","sfjZvwO","uvbMy2i","Cgv0ywXZ","zMXVD2vY","mZyZmde1mwnIvMfKwa","kcGOlISPkYKRksSK","Dg9tDhjPBMC","z3jVDxa","uLf3DfK","z3jVDxbjza","weDxAKm","A2LUza","z3jpwKy","wNjmqLK"];return J0=function(){return u},J0()}const mb=(function(){const u=_n,i={PnRSl:function(r,o){return r===o},OgUlS:u(494)};let a=!0;return function(r,o){const f=u;if(i[f(508)](i.OgUlS,i.OgUlS)){const b=a?function(){if(o){const g=o.apply(r,arguments);return o=null,g}}:function(){};return a=!1,b}else return _0x53ab96[f(546)]()[f(520)](f(545))[f(546)]()[f(527)](_0x327fc3)[f(520)]("(((.+)+)+)+$")}})(),Rx=mb(void 0,function(){const u=_n;return Rx[u(546)]().search(u(545))[u(546)]().constructor(Rx)[u(520)](u(545))});function _n(u,i){u=u-490;const a=J0();let r=a[u];if(_n.vyPxJf===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",N=y+o;for(let m=0,z,v,p=0;v=h.charAt(p++);~v&&(z=m%4?z*64+v:v,m++%4)?y+=N.charCodeAt(p+10)-10!==0?String.fromCharCode(255&z>>(-2*m&6)):m:0)v=d.indexOf(v);for(let m=0,z=y.length;m<z;m++)w+="%"+("00"+y.charCodeAt(m).toString(16)).slice(-2);return decodeURIComponent(w)};_n.pdGmaE=o,_n.OqrIuB={},_n.vyPxJf=!0}const f=a[0],b=u+f,g=_n.OqrIuB[b];if(g)r=g;else{const h=function(d){this.WHxvMG=d,this.BtsywC=[1,0,0],this.IZXQyk=function(){return"newState"},this.MKxbsh="\\w+ *\\(\\) *{\\w+ *",this.paZKws=`['|"].+['|"];? *}`};h.prototype.ndJjIj=function(){const d=new RegExp(this.MKxbsh+this.paZKws),y=d.test(this.IZXQyk.toString())?--this.BtsywC[1]:--this.BtsywC[0];return this.DfwvYJ(y)},h.prototype.DfwvYJ=function(d){return~d?this.ZwOSqT(this.WHxvMG):d},h.prototype.ZwOSqT=function(d){for(let y=0,w=this.BtsywC.length;y<w;y++)this.BtsywC.push(Math.round(Math.random())),w=this.BtsywC.length;return d(this.BtsywC[0])},new h(_n).ndJjIj(),r=_n.pdGmaE(r),_n.OqrIuB[b]=r}return r}Rx();function bb(u,i){const a=_n,r={YAmJc:function(v,p){return v===p},COQpl:"petal",ksWSA:a(542),XGWjC:function(v,p){return v===p},WrkQf:a(518),jKtBo:function(v,p){return v===p},lIGra:"Vmnnk",PEBNa:a(512),RQwtY:a(519),FsuHF:function(v,p){return v===p},bnpid:function(v,p){return v===p},BBJqy:a(531),NItYO:function(v,p,B){return v(p,B)},KxCYe:function(v,p){return v!==p},sfBNf:a(540),bOSIl:a(543),fVGom:"sdBkt",wuKlD:"thoPP",DOfQo:function(v,p,B){return v(p,B)},PcKhD:function(v,p,B){return v(p,B)}},o=ee.useMemo(()=>{const v=a;return i.kind===v(543)||r[v(504)](i[v(493)],v(519))||i[v(493)]===r[v(503)]||i.kind===r.ksWSA?u[v(518)][v(500)](p=>p.id===i[v(507)])??null:null},[u[a(518)],i]),f=r.PcKhD(ee.useMemo,()=>{const v=a;if(r[v(492)](i.kind,r.WrkQf))return u[v(518)].filter(p=>i[v(528)][v(535)](p.id));if(i.kind===v(547)){const p=(u[v(523)]??[]).find(B=>B.id===i[v(491)]);if(p)return u.flowers.filter(B=>p.flowerIds[v(535)](B.id))}return[]},[u[a(518)],u.groups,i]),b=ee.useMemo(()=>{const v=a;return r.jKtBo(i[v(493)],"leaf")?r[v(536)]===v(517)?(_0x364c6e.leafGroups??[])[v(500)](p=>p.id===_0xfb6557.leafGroupId)??null:(u[v(513)]??[]).find(p=>p.id===i[v(499)])??null:null},[u.leaves,i]),g=r[a(526)](ee.useMemo,()=>{const v=a;return i.kind===r.PEBNa?(u[v(514)]??[]).find(p=>p.id===i[v(537)])??null:null},[u.leafGroups,i]),h=ee.useMemo(()=>{const v=a;return o&&(i[v(493)]===r[v(490)]||r[v(539)](i[v(493)],r[v(503)]))?o[v(505)].find(p=>p.id===i[v(506)])??null:null},[o,i]),d=i[a(493)]===a(496)?i[a(529)]:null,y=i[a(493)]===r.ksWSA?i.petals:[],w=r.FsuHF(i.kind,"stencil")?(u.stencils??[])[a(500)](v=>v.id===i[a(516)])??null:null,N=i.kind==="flower"||i.kind===r.RQwtY||r[a(492)](i[a(493)],a(496))||i[a(493)]===r.ksWSA?i[a(507)]:null,m=ee.useMemo(()=>{const v=a,p={NxnVg:function(B,H){return r[_n(539)](B,H)},QPfcb:v(519),mHAvo:function(B,H){return r.XGWjC(B,H)},MMCFb:function(B,H){return B===H},yHZXf:function(B,H){return r[v(511)](B,H)},OWyGn:r.BBJqy,ZrLBY:function(B,H,q){return r.NItYO(B,H,q)}};if(r[v(534)]("qgXJl",r[v(524)])){if(r[v(539)](i.kind,v(547))){const B=(u.groups??[])[v(500)](H=>H.id===i[v(491)]);if(B)return new Set(B[v(528)])}if(i[v(493)]===r.WrkQf)return new Set(i.flowerIds);if(i.kind===r[v(515)]||r.XGWjC(i.kind,"layer")||i.kind==="petal"||i.kind===v(542)){if(v(521)!==r.fVGom)return tUnQPs.NxnVg(_0x561d9f[v(493)],"flower")||_0x552035.kind===tUnQPs[v(541)]||tUnQPs.mHAvo(_0x4a5020[v(493)],"petal")||tUnQPs[v(522)](_0xada521.kind,"petals")?_0x1d6597.flowers.find(B=>B.id===_0x5d22b7.flowerId)??null:null;{const B=pa(u,i[v(507)]);if(B){if(r.KxCYe("RaEZr",r[v(510)]))return i.kind===r.bOSIl?new Set(B[v(528)].filter(H=>H!==i[v(507)])):new Set(B[v(528)]);{const H=(_0x5bdf14[v(523)]??[]).find(q=>q.id===_0x1a5498.groupId);if(H)return _0x156dfd[v(518)].filter(q=>H[v(528)][v(535)](q.id))}}}}return new Set}else{if(_0x45a9cf.kind==="leafGroup"){const B=(_0x1b8fab.leafGroups??[])[v(500)](H=>H.id===_0x386b78.leafGroupId);if(B)return new _0x4dfe3e(B.leafIds)}if(p.yHZXf(_0x2cfe49.kind,p[v(501)])){const B=p[v(495)](_0x1fa9ca,_0x32f2dc,_0x1ff32.leafId);if(B)return new _0x16515d(B.leafIds.filter(H=>H!==_0x17f6a6[v(499)]))}return new _0x4405b7}},[i,u]),z=ee.useMemo(()=>{const v=a;if(i.kind===v(512)){const p=(u[v(514)]??[])[v(500)](B=>B.id===i[v(537)]);if(p)return new Set(p.leafIds)}if(r[v(504)](i[v(493)],r.BBJqy)){const p=r[v(497)](ri,u,i[v(499)]);if(p)return new Set(p.leafIds.filter(B=>B!==i[v(499)]))}return new Set},[i,u]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:b,selectedLeafGroup:g,selectedLayer:h,selectedPetalIndex:d,selectedPetals:y,selectedStencil:w,selectedFlowerId:N,groupHighlightedFlowerIds:m,leafGroupHighlightedLeafIds:z}}function vb(u){const{project:i,selection:a,setSelection:r,applyUpdate:o}=u,f=ee.useMemo(()=>new Map((i.palette||[]).map(he=>[he.id,he])),[i.palette]),{widths:b,containerRef:g,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:y,isDesktop:w}=rb(),N=ee.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[m,z]=ee.useState({});ee.useEffect(()=>{try{const ye=localStorage.getItem(N);if(ye){const Ye=JSON.parse(ye);if(Ye&&typeof Ye=="object"){z(Ye);return}}}catch{}const he=i.flowers?.[0];he&&z({[he.id]:!0})},[N]),ee.useEffect(()=>{try{localStorage.setItem(N,JSON.stringify(m))}catch{}},[N,m]),ee.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const he=a.flowerId;z(ye=>ye?.[he]?ye:{...ye,[he]:!0})}a.kind==="flowers"&&z(he=>{const ye={...he};for(const Ye of a.flowerIds)ye[Ye]=!0;return ye})},[a]);const v=he=>m?.[he]??!1,p=he=>z(ye=>({...ye,[he]:!(ye?.[he]??!1)})),B=ee.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[H,q]=ee.useState({});ee.useEffect(()=>{try{const ye=localStorage.getItem(B);if(ye){const Ye=JSON.parse(ye);if(Ye&&typeof Ye=="object"){q(Ye);return}}}catch{}const he=i.groups??[];if(he.length>0){const ye={};for(const Ye of he)ye[Ye.id]=!0;q(ye)}},[B]),ee.useEffect(()=>{try{localStorage.setItem(B,JSON.stringify(H))}catch{}},[B,H]);const k=he=>H?.[he]??!0,R=he=>q(ye=>({...ye,[he]:!(ye?.[he]??!0)})),V=ee.useRef({flowerId:null,timer:null}),L=he=>{const ye=V.current.timer;ye&&window.clearTimeout(ye),V.current.flowerId=he,V.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:he}),z(Ye=>({...Ye,[he]:!0})),V.current.timer=null,V.current.flowerId=null},200)},Z=he=>{const ye=V.current.timer;ye&&V.current.flowerId===he&&window.clearTimeout(ye),V.current.timer=null,V.current.flowerId=null,r({kind:"flower",flowerId:he}),p(he)},F=ee.useRef(null),[W,Q]=ee.useState({w:520,h:520});ee.useEffect(()=>{const he=F.current;if(!he)return;const ye=new ResizeObserver(Ye=>{for(const Nt of Ye){const{width:Ue,height:Qn}=Nt.contentRect;Ue>0&&Qn>0&&Q({w:Ue,h:Qn})}});return ye.observe(he),()=>ye.disconnect()},[]);const S=he=>{const ye=F.current;if(!ye)return{x:0,y:0};const Ye=ye.createSVGPoint();Ye.x=he.clientX,Ye.y=he.clientY;const Nt=ye.getScreenCTM();if(!Nt)return{x:0,y:0};const Ue=Ye.matrixTransform(Nt.inverse());return{x:Ue.x,y:Ue.y}},_=500*un,A=-300*un,M=800*un,j=ee.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[T,I]=ee.useState(6),[X,O]=ee.useState(j[6]),D=ee.useCallback(he=>{I(ye=>{const Ye=typeof he=="function"?he(ye):he;return O(j[Ye]),Ye})},[j]),G=ee.useCallback(he=>{const ye=we(he,j[0],j[j.length-1]);O(ye);let Ye=0,Nt=Math.abs(j[0]-ye);for(let Ue=1;Ue<j.length;Ue++){const Qn=Math.abs(j[Ue]-ye);Qn<Nt&&(Ye=Ue,Nt=Qn)}I(Ye)},[j]),[Y,U]=ee.useState({x:0,y:0}),[$,ae]=ee.useState(!0),[fe,be]=ee.useState(!1),oe=ee.useRef(null),me=ee.useMemo(()=>{const he=W.w/W.h,ye=520,Ye=ye*he;return(Nt,Ue=X)=>{const Qn=we(Nt.x,-(M*Ue-Ye),-A*Ue),sr=we(Nt.y,-(M*Ue-ye),-A*Ue);return{x:Qn,y:sr}}},[W,X,A,M]),de=ee.useMemo(()=>me(Y),[Y,me]),Me=ee.useCallback(he=>U(he),[]),Le=ee.useMemo(()=>{const he=W.w/W.h,ye=520,Ye=ye*he,Nt=-de.x/X,Ue=-de.y/X;return`${Nt} ${Ue} ${Ye/X} ${ye/X}`},[X,de,W]),{deleteLeafById:Ee,handleShiftLeafSelect:Ge,groupSelectedLeaves:ot,ungroupLeaves:_t,addLeafToGroup:mt,removeLeafFromGroup:bt,addLeavesToGroup:Ut,mergeLeafGroups:cn}=sb({project:i,applyUpdate:o,selection:a,setSelection:r}),{showAddFlowerDialog:Sn,setShowAddFlowerDialog:Jn,addFlowerOpts:Fe,setAddFlowerOpts:Cn,addFlower:Cl,confirmAddFlower:ll}=fb({project:i,applyUpdate:o,setSelection:r,setExpandedFlowers:z,zoom:X,pan:de,stageSize:W,CANVAS_MAX_SVG:_}),{showAddLeafDialog:al,setShowAddLeafDialog:wl,addLeafOpts:Pl,setAddLeafOpts:Vn,addLeaf:ci,confirmAddLeaf:Rn}=hb({project:i,applyUpdate:o,setSelection:r,zoom:X,pan:de,stageSize:W,CANVAS_MAX_SVG:_}),{selectedFlower:Lt,selectedFlowers:wn,selectedLeaf:Ie,selectedLeafGroup:se,selectedLayer:ke,selectedPetalIndex:qe,selectedPetals:_e,selectedStencil:pe,selectedFlowerId:Ne,groupHighlightedFlowerIds:ze,leafGroupHighlightedLeafIds:Se}=bb(i,a),{deleteFlowerById:$e,deleteLayerById:et,addOuterLayer:Ve,deleteOuterLayer:Qe,deleteSelected:Ae,groupSelectedFlowers:kt,ungroupFlowers:tt,addToGroup:Dt,mergeGroups:rt,addStencil:lt,deleteStencil:vt,handleShiftFlowerSelect:On,togglePetalSelection:Fl}=cb({project:i,applyUpdate:o,selection:a,setSelection:r,setExpandedFlowers:z,setExpandedGroups:q,zoom:X,pan:de,stageSize:W,CANVAS_MAX_SVG:_,deleteLeafById:Ee,ungroupLeaves:_t}),Re=xm({project:i,selection:a,setSelection:r,applyUpdate:o,dragRef:u.dragRef,zoom:X,pan:de,setPan:Me,stageRef:F,clientToSvgPoint:S,togglePetalSelection:Fl}),[gt,Kt]=ee.useState(0),Jt=a.kind,xi=Jt==="flower"?a.flowerId:null,Q0=Jt==="flowers"?a.flowerIds?.join(","):null,W0=Jt==="layer"||Jt==="petal"?a.layerId:null,xr=Jt==="petal"?a.index:null,$l=Jt==="petals"?a.petals?.length:null;ee.useEffect(()=>{Jt!=="project"&&Kt(Date.now())},[Jt,xi,Q0,W0,xr,$l]),ee.useEffect(()=>{if(!oe.current)return;const he=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!he)return;const ye=oe.current.querySelector(`[data-flower-id="${he}"]`);ye&&ye.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const si=ee.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[gt]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:g,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:w?{width:`${b.left}%`}:void 0,children:x.jsx(om,{project:i,selection:a,setSelection:r,expandedFlowers:m,setExpandedFlowers:z,isExpanded:v,toggleExpanded:p,scheduleFlowerRowClick:L,handleFlowerRowDoubleClick:Z,addFlower:Cl,deleteSelected:Ae,addOuterLayer:Ve,deleteOuterLayer:Qe,deleteFlowerById:$e,deleteLayerById:et,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:oe,groups:i.groups??[],expandedGroups:H,isGroupExpanded:k,toggleGroupExpanded:R,onSelectGroup:he=>r({kind:"group",groupId:he}),onUngroupFlowers:tt,leaves:i.leaves??[],leafGroups:i.leafGroups??[],onSelectLeaf:he=>r({kind:"leaf",leafId:he}),onSelectLeafGroup:he=>r({kind:"leafGroup",leafGroupId:he}),onAddLeaf:ci,onDeleteLeaf:Ee})}),x.jsx(Jd,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:y}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(qm,{project:i,selection:a,setSelection:r,applyUpdate:o,paletteMap:f,selectedFlowerId:Ne,zoom:X,setZoom:G,zoomLevel:T,setZoomLevel:D,ZOOM_LEVELS:j,pan:de,panRaw:Y,setPan:Me,showGrid:$,setShowGrid:ae,showHelp:fe,setShowHelp:be,stageRef:F,viewBox:Le,dashSyncToken:gt,dashDelay:si,beginPan:Re.beginPan,updatePan:Re.updatePan,endPan:Re.endPan,beginMarquee:Re.beginMarquee,updateMarquee:Re.updateMarquee,endMarquee:Re.endMarquee,marqueeRef:Re.marqueeRef,marqueeRect:Re.marqueeRect,beginFlowerDrag:Re.beginFlowerDrag,updateFlowerDrag:Re.updateFlowerDrag,endFlowerDrag:Re.endFlowerDrag,scaleDragRef:Re.scaleDragRef,beginScaleDrag:Re.beginScaleDrag,updateScaleDrag:Re.updateScaleDrag,endScaleDrag:Re.endScaleDrag,rotationDragRef:Re.rotationDragRef,beginRotationDrag:Re.beginRotationDrag,updateRotationDrag:Re.updateRotationDrag,endRotationDrag:Re.endRotationDrag,widthScaleDragRef:Re.widthScaleDragRef,beginWidthScaleDrag:Re.beginWidthScaleDrag,updateWidthScaleDrag:Re.updateWidthScaleDrag,endWidthScaleDrag:Re.endWidthScaleDrag,radiusDragRef:Re.radiusDragRef,beginRadiusDrag:Re.beginRadiusDrag,updateRadiusDrag:Re.updateRadiusDrag,endRadiusDrag:Re.endRadiusDrag,togglePetalSelection:Fl,clientToSvgPoint:S,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:lt,onDeleteStencil:vt,onSelectStencil:he=>r({kind:"stencil",stencilId:he}),handleShiftFlowerSelect:On,groupHighlightedFlowerIds:ze,leaves:i.leaves??[],leafGroups:i.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Se,onSelectLeaf:he=>r({kind:"leaf",leafId:he}),onSelectLeafGroup:he=>r({kind:"leafGroup",leafGroupId:he}),onShiftSelectLeaf:Ge})}),x.jsx(Jd,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:y}),x.jsx("div",{className:"min-w-0 shrink-0",style:w?{width:`${b.right}%`}:void 0,children:x.jsx(Pm,{project:i,selection:a,applyUpdate:o,selectedFlower:Lt,selectedFlowers:wn,selectedLayer:ke,selectedPetalIndex:qe,selectedPetals:_e,selectedStencil:pe,onDeleteStencil:vt,groups:i.groups??[],onGroupFlowers:kt,onUngroupFlowers:tt,onAddToGroup:Dt,onMergeGroups:rt,selectedLeaf:Ie,selectedLeafGroup:se,leafGroups:i.leafGroups??[],onDeleteLeaf:Ee,onGroupLeaves:ot,onUngroupLeaves:_t,onAddLeafToGroup:mt,onRemoveLeafFromGroup:bt,onAddLeavesToGroup:Ut,onMergeLeafGroups:cn})})]}),Sn&&x.jsx(eb,{palette:i.palette,addFlowerOpts:Fe,setAddFlowerOpts:Cn,onConfirm:ll,onCancel:()=>Jn(!1)}),al&&x.jsx(lb,{palette:i.palette,addLeafOpts:Pl,setAddLeafOpts:Vn,onConfirm:Rn,onCancel:()=>wl(!1)}),fe&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>be(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:he=>he.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>be(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([he,ye])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:he}),x.jsx("td",{className:"py-2 text-neutral-700",children:ye})]},he))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function gb({cg:u}){const[i,a]=ee.useState("w"),[r,o]=ee.useState(""),f=u.totalAreaCm2,b=parseFloat(r),h=r!==""&&Number.isFinite(b)&&b>0?Math.round(f/b*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(d=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function yb(u){const{recipe:i}=u;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[i.colors.map(a=>x.jsx(gb,{cg:a},a.colorId)),i.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function pb(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function _b(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Sb(u){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function Cb(){const[u,i]=ee.useState("home"),[a,r]=ee.useState([]),[o,f]=ee.useState(null),[b,g]=ee.useState({kind:"project"}),[h,d]=ee.useState([]),[y,w]=ee.useState(0),N=ee.useRef(o),m=ee.useRef(h),z=ee.useRef(y);ee.useEffect(()=>{N.current=o},[o]),ee.useEffect(()=>{m.current=h},[h]),ee.useEffect(()=>{z.current=y},[y]);const v=ee.useRef(null),p=ee.useRef(null),B=ee.useRef(null),H=ee.useRef(null),[q,k]=ee.useState(null);ee.useEffect(()=>{const O=q?window.setTimeout(()=>k(null),2200):null;return()=>{O&&window.clearTimeout(O)}},[q]),ee.useEffect(()=>{r(lr())},[]);function R(O){const D=JSON.stringify(O);d([D]),w(0)}function V(O,D=!0){if(!D){f(me=>{if(!me)return me;const de=Vl(me);return O(de),de.updatedAt=j0(),de});return}const G=N.current;if(!G)return;const Y=Vl(G);O(Y),Y.updatedAt=j0(),f(Y);const U=m.current,$=z.current;if(U.length===0){R(Y);return}const ae=JSON.stringify(Y);let be=[...U.slice(0,$+1),ae];const oe=50;be.length>oe&&(be=be.slice(be.length-oe)),d(be),w(be.length-1)}function L(){w(O=>{if(O<=0)return O;const D=O-1,G=m.current[D];return G&&f(ya(JSON.parse(G))),k("Undo"),D})}function Z(){w(O=>{if(O>=m.current.length-1)return O;const D=O+1,G=m.current[D];return G&&f(ya(JSON.parse(G))),k("Redo"),D})}function F(){if(!o)return;const O=Zh(o);r(lr()),k(O?"Saved":" ")}function W(){if(!o)return;const O=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),D=URL.createObjectURL(O),G=document.createElement("a");G.href=D,G.download=`${o.title||"tsumami"}.json`,G.click(),URL.revokeObjectURL(D),k("JSON exported")}function Q(O){const D=new FileReader;D.onload=()=>{try{const G=JSON.parse(String(D.result??""));if(!G||typeof G!="object"||!Array.isArray(G.flowers))throw new Error("Invalid JSON");const Y=ya(G);f(Y),g({kind:"project"}),R(Y),i("editor"),k("Imported")}catch{k("Import failed")}},D.readAsText(O)}function S(O){const D=ya(O);f(D),g({kind:"project"}),R(D),i("editor")}function _(O){return O&&(O.kind==="flower"||O.kind==="layer"||O.kind==="petal")?O.flowerId:null}function A(){if(!o)return;const O=_(b);if(!O)return;const D=o.flowers.find(G=>G.id===O);D&&(p.current=Vl(D),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:D},null,2)).catch(()=>{}),k("Flower copied"))}function M(){if(!o||b.kind!=="leaf")return;const O=(o.leaves??[]).find(D=>D.id===b.leafId);O&&(B.current=Vl(O),k("Leaf copied"))}function j(){if(!o)return;const O=p.current;if(!O){k("Nothing to paste");return}const D=Hh(O,{x:12+Math.random()*10,y:12+Math.random()*10});V(G=>{G.flowers.push(D)},!0),g({kind:"flower",flowerId:D.id}),k("Flower pasted")}function T(){if(!o)return;const O=B.current;if(!O)return;const D=It("leaf"),G={...Vl(O),id:D,name:O.name+" (copy)",position:{x:O.position.x+30,y:O.position.y+30}};V(Y=>{Y.leaves||(Y.leaves=[]),Y.leaves.push(G)},!0),g({kind:"leaf",leafId:G.id}),k("Leaf pasted")}function I(O){if(!o)return;const D=_(b);D&&(V(G=>{const Y=G.flowers.findIndex(fe=>fe.id===D);if(Y<0)return;const U=G.flowers,$=U[Y];if(!$)return;if(U.splice(Y,1),O==="front"){U.push($);return}if(O==="back"){U.unshift($);return}if(O==="forward"){if(Y>=U.length){U.push($);return}U.splice(Y+1,0,$);return}const ae=we(Y-1,0,U.length);U.splice(ae,0,$)},!0),k(O==="front"?"Brought to front":O==="back"?"Sent to back":O==="forward"?"Moved forward":"Moved backward"))}ee.useEffect(()=>{function O(G){const Y=G;if(!Y)return!1;const U=String(Y.tagName||"").toLowerCase();return U==="input"||U==="textarea"||U==="select"||!!Y.isContentEditable}function D(G){if(!(O(G.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?G.metaKey:G.ctrlKey))){if(u==="editor"){if(G.key.toLowerCase()==="c"){G.preventDefault(),b.kind==="leaf"?M():A();return}if(G.key.toLowerCase()==="v"){G.preventDefault(),B.current&&(b.kind==="leaf"||b.kind==="leaves"||b.kind==="leafGroup"||!p.current)?T():j();return}}G.key.toLowerCase()==="z"&&(G.preventDefault(),G.shiftKey?Z():L()),G.key.toLowerCase()==="s"&&(G.preventDefault(),F())}}return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[o,h,y,b,u]);const X=ee.useMemo(()=>o?Vh(o):null,[o]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx($h,{view:u,onNavigate:i,project:o,onSave:F,onLoad:()=>i("home"),onImportJson:()=>H.current?.click(),onExportJson:W,onExportSvg:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&o&&Wh(O,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&o&&Ph(O,`${o.title||"tsumami"}.png`)}}),x.jsx("input",{ref:H,type:"file",accept:"application/json",className:"hidden",onChange:O=>{const D=O.target.files?.[0];D&&Q(D),O.currentTarget.value=""}}),q&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:q}),x.jsxs("main",{className:"flex-1",children:[u==="home"&&x.jsx(em,{saved:a,onNew:()=>i("new"),onOpen:O=>{const D=ya(Vl(O));f(D),g({kind:"project"}),R(D),i("editor")},onDelete:O=>{Xh(O),r(lr()),k("Deleted")}}),u==="new"&&x.jsx(tm,{onBack:()=>i("home"),onCreate:O=>{const D=Oh({title:O});S(D)}}),u==="editor"&&o&&x.jsx(vb,{project:o,selection:b,setSelection:g,applyUpdate:V,onGoRecipe:()=>i("recipe"),onImport:Q,dragRef:v,onCopyFlower:A,onPasteFlower:j,onArrangeFlower:I,canPasteFlower:!!p.current,onUndo:L,onRedo:Z,canUndo:y>0,canRedo:y<h.length-1}),u==="recipe"&&o&&X&&x.jsx(yb,{project:o,recipe:X,onBack:()=>i("editor"),onExportJson:W}),u==="terms"&&x.jsx(pb,{onBack:()=>i("home")}),u==="privacy"&&x.jsx(_b,{onBack:()=>i("home")}),(u==="editor"||u==="recipe")&&!o&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&x.jsx(Sb,{onNavigate:i})]})}class wb extends ee.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}wh.createRoot(document.getElementById("root")).render(x.jsx(ee.StrictMode,{children:x.jsx(wb,{children:x.jsx(Cb,{})})}));

(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var ex={exports:{}},Pi={};var Md;function xh(){if(Md)return Pi;Md=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:c,type:r,key:m,ref:o!==void 0?o:null,props:f}}return Pi.Fragment=i,Pi.jsx=a,Pi.jsxs=a,Pi}var zd;function sh(){return zd||(zd=1,ex.exports=xh()),ex.exports}var x=sh(),tx={exports:{}},De={};var Dd;function oh(){if(Dd)return De;Dd=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),A=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function T(D,q,Y){this.props=D,this.context=q,this.refs=w,this.updater=Y||N}T.prototype.isReactComponent={},T.prototype.setState=function(D,q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,q,"setState")},T.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=T.prototype;function G(D,q,Y){this.props=D,this.context=q,this.refs=w,this.updater=Y||N}var B=G.prototype=new k;B.constructor=G,j(B,T.prototype),B.isPureReactComponent=!0;var O=Array.isArray;function W(){}var R={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function P(D,q,Y){var K=Y.ref;return{$$typeof:c,type:D,key:q,ref:K!==void 0?K:null,props:Y}}function Q(D,q){return P(D.type,q,D.props)}function X(D){return typeof D=="object"&&D!==null&&D.$$typeof===c}function C(D){var q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Y){return q[Y]})}var g=/\/+/g;function z(D,q){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):q.toString(36)}function v(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(W,W):(D.status="pending",D.then(function(q){D.status==="pending"&&(D.status="fulfilled",D.value=q)},function(q){D.status==="pending"&&(D.status="rejected",D.reason=q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function M(D,q,Y,K,ae){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var de=!1;if(D===null)de=!0;else switch(xe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(D.$$typeof){case c:case i:de=!0;break;case p:return de=D._init,M(de(D._payload),q,Y,K,ae)}}if(de)return ae=ae(D),de=K===""?"."+z(D,0):K,O(ae)?(Y="",de!=null&&(Y=de.replace(g,"$&/")+"/"),M(ae,q,Y,"",function(Se){return Se})):ae!=null&&(X(ae)&&(ae=Q(ae,Y+(ae.key==null||D&&D.key===ae.key?"":(""+ae.key).replace(g,"$&/")+"/")+de)),q.push(ae)),1;de=0;var oe=K===""?".":K+":";if(O(D))for(var be=0;be<D.length;be++)K=D[be],xe=oe+z(K,be),de+=M(K,q,Y,xe,ae);else if(be=b(D),typeof be=="function")for(D=be.call(D),be=0;!(K=D.next()).done;)K=K.value,xe=oe+z(K,be++),de+=M(K,q,Y,xe,ae);else if(xe==="object"){if(typeof D.then=="function")return M(v(D),q,Y,K,ae);throw q=String(D),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return de}function E(D,q,Y){if(D==null)return D;var K=[],ae=0;return M(D,K,"","",function(xe){return q.call(Y,xe,ae++)}),K}function U(D){if(D._status===-1){var q=D._result;q=q(),q.then(function(Y){(D._status===0||D._status===-1)&&(D._status=1,D._result=Y)},function(Y){(D._status===0||D._status===-1)&&(D._status=2,D._result=Y)}),D._status===-1&&(D._status=0,D._result=q)}if(D._status===1)return D._result.default;throw D._result}var H=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},I={map:E,forEach:function(D,q,Y){E(D,function(){q.apply(this,arguments)},Y)},count:function(D){var q=0;return E(D,function(){q++}),q},toArray:function(D){return E(D,function(q){return q})||[]},only:function(D){if(!X(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return De.Activity=_,De.Children=I,De.Component=T,De.Fragment=a,De.Profiler=o,De.PureComponent=G,De.StrictMode=r,De.Suspense=h,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,De.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},De.cache=function(D){return function(){return D.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(D,q,Y){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var K=j({},D.props),ae=D.key;if(q!=null)for(xe in q.key!==void 0&&(ae=""+q.key),q)!J.call(q,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&q.ref===void 0||(K[xe]=q[xe]);var xe=arguments.length-2;if(xe===1)K.children=Y;else if(1<xe){for(var de=Array(xe),oe=0;oe<xe;oe++)de[oe]=arguments[oe+2];K.children=de}return P(D.type,ae,K)},De.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},De.createElement=function(D,q,Y){var K,ae={},xe=null;if(q!=null)for(K in q.key!==void 0&&(xe=""+q.key),q)J.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ae[K]=q[K]);var de=arguments.length-2;if(de===1)ae.children=Y;else if(1<de){for(var oe=Array(de),be=0;be<de;be++)oe[be]=arguments[be+2];ae.children=oe}if(D&&D.defaultProps)for(K in de=D.defaultProps,de)ae[K]===void 0&&(ae[K]=de[K]);return P(D,xe,ae)},De.createRef=function(){return{current:null}},De.forwardRef=function(D){return{$$typeof:y,render:D}},De.isValidElement=X,De.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:U}},De.memo=function(D,q){return{$$typeof:d,type:D,compare:q===void 0?null:q}},De.startTransition=function(D){var q=R.T,Y={};R.T=Y;try{var K=D(),ae=R.S;ae!==null&&ae(Y,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(W,H)}catch(xe){H(xe)}finally{q!==null&&Y.types!==null&&(q.types=Y.types),R.T=q}},De.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},De.use=function(D){return R.H.use(D)},De.useActionState=function(D,q,Y){return R.H.useActionState(D,q,Y)},De.useCallback=function(D,q){return R.H.useCallback(D,q)},De.useContext=function(D){return R.H.useContext(D)},De.useDebugValue=function(){},De.useDeferredValue=function(D,q){return R.H.useDeferredValue(D,q)},De.useEffect=function(D,q){return R.H.useEffect(D,q)},De.useEffectEvent=function(D){return R.H.useEffectEvent(D)},De.useId=function(){return R.H.useId()},De.useImperativeHandle=function(D,q,Y){return R.H.useImperativeHandle(D,q,Y)},De.useInsertionEffect=function(D,q){return R.H.useInsertionEffect(D,q)},De.useLayoutEffect=function(D,q){return R.H.useLayoutEffect(D,q)},De.useMemo=function(D,q){return R.H.useMemo(D,q)},De.useOptimistic=function(D,q){return R.H.useOptimistic(D,q)},De.useReducer=function(D,q,Y){return R.H.useReducer(D,q,Y)},De.useRef=function(D){return R.H.useRef(D)},De.useState=function(D){return R.H.useState(D)},De.useSyncExternalStore=function(D,q,Y){return R.H.useSyncExternalStore(D,q,Y)},De.useTransition=function(){return R.H.useTransition()},De.version="19.2.3",De}var Nd;function Tx(){return Nd||(Nd=1,tx.exports=oh()),tx.exports}var $=Tx(),nx={exports:{}},Fi={},lx={exports:{}},ax={};var Ad;function fh(){return Ad||(Ad=1,(function(c){function i(M,E){var U=M.length;M.push(E);e:for(;0<U;){var H=U-1>>>1,I=M[H];if(0<o(I,E))M[H]=E,M[U]=I,U=H;else break e}}function a(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var E=M[0],U=M.pop();if(U!==E){M[0]=U;e:for(var H=0,I=M.length,D=I>>>1;H<D;){var q=2*(H+1)-1,Y=M[q],K=q+1,ae=M[K];if(0>o(Y,U))K<I&&0>o(ae,Y)?(M[H]=ae,M[K]=U,H=K):(M[H]=Y,M[q]=U,H=q);else if(K<I&&0>o(ae,U))M[H]=ae,M[K]=U,H=K;else break e}}return E}function o(M,E){var U=M.sortIndex-E.sortIndex;return U!==0?U:M.id-E.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();c.unstable_now=function(){return m.now()-y}}var h=[],d=[],p=1,_=null,A=3,b=!1,N=!1,j=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function B(M){for(var E=a(d);E!==null;){if(E.callback===null)r(d);else if(E.startTime<=M)r(d),E.sortIndex=E.expirationTime,i(h,E);else break;E=a(d)}}function O(M){if(j=!1,B(M),!N)if(a(h)!==null)N=!0,W||(W=!0,C());else{var E=a(d);E!==null&&v(O,E.startTime-M)}}var W=!1,R=-1,J=5,P=-1;function Q(){return w?!0:!(c.unstable_now()-P<J)}function X(){if(w=!1,W){var M=c.unstable_now();P=M;var E=!0;try{e:{N=!1,j&&(j=!1,k(R),R=-1),b=!0;var U=A;try{t:{for(B(M),_=a(h);_!==null&&!(_.expirationTime>M&&Q());){var H=_.callback;if(typeof H=="function"){_.callback=null,A=_.priorityLevel;var I=H(_.expirationTime<=M);if(M=c.unstable_now(),typeof I=="function"){_.callback=I,B(M),E=!0;break t}_===a(h)&&r(h),B(M)}else r(h);_=a(h)}if(_!==null)E=!0;else{var D=a(d);D!==null&&v(O,D.startTime-M),E=!1}}break e}finally{_=null,A=U,b=!1}E=void 0}}finally{E?C():W=!1}}}var C;if(typeof G=="function")C=function(){G(X)};else if(typeof MessageChannel<"u"){var g=new MessageChannel,z=g.port2;g.port1.onmessage=X,C=function(){z.postMessage(null)}}else C=function(){T(X,0)};function v(M,E){R=T(function(){M(c.unstable_now())},E)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(M){M.callback=null},c.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<M?Math.floor(1e3/M):5},c.unstable_getCurrentPriorityLevel=function(){return A},c.unstable_next=function(M){switch(A){case 1:case 2:case 3:var E=3;break;default:E=A}var U=A;A=E;try{return M()}finally{A=U}},c.unstable_requestPaint=function(){w=!0},c.unstable_runWithPriority=function(M,E){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=A;A=M;try{return E()}finally{A=U}},c.unstable_scheduleCallback=function(M,E,U){var H=c.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,M){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=U+I,M={id:p++,callback:E,priorityLevel:M,startTime:U,expirationTime:I,sortIndex:-1},U>H?(M.sortIndex=U,i(d,M),a(h)===null&&M===a(d)&&(j?(k(R),R=-1):j=!0,v(O,U-H))):(M.sortIndex=I,i(h,M),N||b||(N=!0,W||(W=!0,C()))),M},c.unstable_shouldYield=Q,c.unstable_wrapCallback=function(M){var E=A;return function(){var U=A;A=E;try{return M.apply(this,arguments)}finally{A=U}}}})(ax)),ax}var Ld;function dh(){return Ld||(Ld=1,lx.exports=fh()),lx.exports}var ix={exports:{}},Ut={};var Ed;function hh(){if(Ed)return Ut;Ed=1;var c=Tx();function i(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(h,d,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:h,containerInfo:d,implementation:p}}var m=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ut.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(i(299));return f(h,d,null,p)},Ut.flushSync=function(h){var d=m.T,p=r.p;try{if(m.T=null,r.p=2,h)return h()}finally{m.T=d,r.p=p,r.d.f()}},Ut.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Ut.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Ut.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,_=y(p,d.crossOrigin),A=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:A,fetchPriority:b}):p==="script"&&r.d.X(h,{crossOrigin:_,integrity:A,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ut.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=y(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Ut.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,_=y(p,d.crossOrigin);r.d.L(h,p,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ut.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=y(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Ut.requestFormReset=function(h){r.d.r(h)},Ut.unstable_batchedUpdates=function(h,d){return h(d)},Ut.useFormState=function(h,d,p){return m.H.useFormState(h,d,p)},Ut.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ut.version="19.2.3",Ut}var Td;function mh(){if(Td)return ix.exports;Td=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),ix.exports=hh(),ix.exports}var Bd;function bh(){if(Bd)return Fi;Bd=1;var c=dh(),i=Tx(),a=mh();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(r(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var s=u.alternate;if(s===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===s.child){for(s=u.child;s;){if(s===n)return h(u),e;if(s===l)return h(u),t;s=s.sibling}throw Error(r(188))}if(n.return!==l.return)n=u,l=s;else{for(var S=!1,L=u.child;L;){if(L===n){S=!0,n=u,l=s;break}if(L===l){S=!0,l=u,n=s;break}L=L.sibling}if(!S){for(L=s.child;L;){if(L===n){S=!0,n=s,l=u;break}if(L===l){S=!0,l=s,n=u;break}L=L.sibling}if(!S)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),G=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function C(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var g=Symbol.for("react.client.reference");function z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===g?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case W:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case G:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return t=e.displayName||null,t!==null?t:z(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return z(e(t))}catch{}}return null}var v=Array.isArray,M=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},H=[],I=-1;function D(e){return{current:e}}function q(e){0>I||(e.current=H[I],H[I]=null,I--)}function Y(e,t){I++,H[I]=e.current,e.current=t}var K=D(null),ae=D(null),xe=D(null),de=D(null);function oe(e,t){switch(Y(xe,t),Y(ae,e),Y(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vf(t),e=Qf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(K),Y(K,e)}function be(){q(K),q(ae),q(xe)}function Se(e){e.memoizedState!==null&&Y(de,e);var t=K.current,n=Qf(t,e.type);t!==n&&(Y(ae,e),Y(K,n))}function fe(e){ae.current===e&&(q(K),q(ae)),de.current===e&&(q(de),Wi._currentValue=U)}var qe,Je;function ot(e){if(qe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qe=t&&t[1]||"",Je=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+e+Je}var Re=!1;function dt(e,t){if(!e||Re)return"";Re=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(le){var ne=le}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(le){ne=le}e.call(ce.prototype)}}else{try{throw Error()}catch(le){ne=le}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(le){if(le&&ne&&typeof le.stack=="string")return[le.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),S=s[0],L=s[1];if(S&&L){var Z=S.split(`
`),te=L.split(`
`);for(u=l=0;l<Z.length&&!Z[l].includes("DetermineComponentFrameRoot");)l++;for(;u<te.length&&!te[u].includes("DetermineComponentFrameRoot");)u++;if(l===Z.length||u===te.length)for(l=Z.length-1,u=te.length-1;1<=l&&0<=u&&Z[l]!==te[u];)u--;for(;1<=l&&0<=u;l--,u--)if(Z[l]!==te[u]){if(l!==1||u!==1)do if(l--,u--,0>u||Z[l]!==te[u]){var ie=`
`+Z[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=u);break}}}finally{Re=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function vt(e,t){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return e.child!==t&&t!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return dt(e.type,!1);case 11:return dt(e.type.render,!1);case 1:return dt(e.type,!0);case 31:return ot("Activity");default:return""}}function ct(e){try{var t="",n=null;do t+=vt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ue=Object.prototype.hasOwnProperty,Wt=c.unstable_scheduleCallback,vn=c.unstable_cancelCallback,Fn=c.unstable_shouldYield,$n=c.unstable_requestPaint,Ve=c.unstable_now,gn=c.unstable_getCurrentPriorityLevel,pl=c.unstable_ImmediatePriority,Xl=c.unstable_UserBlockingPriority,kn=c.unstable_NormalPriority,ga=c.unstable_LowPriority,Rn=c.unstable_IdlePriority,ci=c.log,Wl=c.unstable_setDisableYieldValue,el=null,qt=null;function Qe(e){if(typeof ci=="function"&&Wl(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(el,e)}catch{}}var ue=Math.clz32?Math.clz32:Ce,Te=Math.log,Be=Math.LN2;function Ce(e){return e>>>=0,e===0?32:31-(Te(e)/Be|0)|0}var ye=256,Ne=262144,ze=4194304;function ge(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pe(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,s=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var L=l&134217727;return L!==0?(l=L&~s,l!==0?u=ge(l):(S&=L,S!==0?u=ge(S):n||(n=L&~e,n!==0&&(u=ge(n))))):(L=l&~s,L!==0?u=ge(L):S!==0?u=ge(S):n||(n=l&~e,n!==0&&(u=ge(n)))),u===0?0:t!==0&&t!==u&&(t&s)===0&&(s=u&-u,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:u}function He(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $e(){var e=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tt(e,t,n,l,u,s){var S=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var L=e.entanglements,Z=e.expirationTimes,te=e.hiddenUpdates;for(n=S&~n;0<n;){var ie=31-ue(n),ce=1<<ie;L[ie]=0,Z[ie]=-1;var ne=te[ie];if(ne!==null)for(te[ie]=null,ie=0;ie<ne.length;ie++){var le=ne[ie];le!==null&&(le.lane&=-536870913)}n&=~ce}l!==0&&Me(e,l,0),s!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=s&~(S&~t))}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ue(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function nt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-ue(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function lt(e,t){var n=t&-t;return n=(n&42)!==0?1:at(n),(n&(e.suspendedLanes|t))!==0?0:n}function at(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ya(){var e=E.p;return e!==0?e:(e=window.event,e===void 0?32:yd(e.type))}function Jl(e,t){var n=E.p;try{return E.p=e,t()}finally{E.p=n}}var pn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+pn,Yt="__reactProps$"+pn,he="__reactContainer$"+pn,pe="__reactEvents$"+pn,Ke="__reactListeners$"+pn,Vt="__reactHandles$"+pn,Ct="__reactResources$"+pn,rn="__reactMarker$"+pn;function ui(e){delete e[Nt],delete e[Yt],delete e[pe],delete e[Ke],delete e[Vt]}function pa(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[he]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ld(e);e!==null;){if(n=e[Nt])return n;e=ld(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[Nt]||e[he]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Sa(e){var t=e[Ct];return t||(t=e[Ct]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Lt(e){e[rn]=!0}var qx=new Set,Gx={};function Vl(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Gx[e]=t,e=0;e<t.length;e++)qx.add(t[e])}var e1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kx={},Rx={};function t1(e){return Ue.call(Rx,e)?!0:Ue.call(kx,e)?!1:e1.test(e)?Rx[e]=!0:(kx[e]=!0,!1)}function ur(e,t,n){if(t1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function xr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function tl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ox(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(S){n=""+S,s.call(this,S)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(S){n=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function W0(e){if(!e._valueTracker){var t=Ox(e)?"checked":"value";e._valueTracker=n1(e,t,""+e[t])}}function Ix(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Ox(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function sr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var l1=/[\n"\\]/g;function Sn(e){return e.replace(l1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function J0(e,t,n,l,u,s,S,L){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_n(t)):e.value!==""+_n(t)&&(e.value=""+_n(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?V0(e,S,_n(t)):n!=null?V0(e,S,_n(n)):l!=null&&e.removeAttribute("value"),u==null&&s!=null&&(e.defaultChecked=!!s),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+_n(L):e.removeAttribute("name")}function Hx(e,t,n,l,u,s,S,L){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){W0(e);return}n=n!=null?""+_n(n):"",t=t!=null?""+_n(t):n,L||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=L?e.checked:!!l,e.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),W0(e)}function V0(e,t,n){t==="number"&&sr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wa(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Yx(e,t,n){if(t!=null&&(t=""+_n(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+_n(n):""}function Ux(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(v(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=_n(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),W0(e)}function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var a1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zx(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||a1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Kx(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Zx(e,u,l)}else for(var s in t)t.hasOwnProperty(s)&&Zx(e,s,t[s])}function Q0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(e){return r1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nl(){}var P0=null;function F0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,za=null;function Xx(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(J0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Sn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Yt]||null;if(!u)throw Error(r(90));J0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Ix(l)}break e;case"textarea":Yx(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wa(e,!!n.multiple,t,!1)}}}var $0=!1;function Wx(e,t,n){if($0)return e(t,n);$0=!0;try{var l=e(t);return l}finally{if($0=!1,(Ma!==null||za!==null)&&(Fr(),Ma&&(t=Ma,e=za,za=Ma=null,Xx(t),e)))for(t=0;t<e.length;t++)Xx(e[t])}}function si(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var ll=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(ll)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){ec=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{ec=!1}var _l=null,tc=null,fr=null;function Jx(){if(fr)return fr;var e,t=tc,n=t.length,l,u="value"in _l?_l.value:_l.textContent,s=u.length;for(e=0;e<n&&t[e]===u[e];e++);var S=n-e;for(l=1;l<=S&&t[n-l]===u[s-l];l++);return fr=u.slice(e,1<l?1-l:void 0)}function dr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function Vx(){return!1}function Qt(e){function t(n,l,u,s,S){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=s,this.target=S,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(n=e[L],this[L]=n?n(s):s[L]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hr:Vx,this.isPropagationStopped=Vx,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),t}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=Qt(Ql),fi=_({},Ql,{view:0,detail:0}),c1=Qt(fi),nc,lc,di,br=_({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(nc=e.screenX-di.screenX,lc=e.screenY-di.screenY):lc=nc=0,di=e),nc)},movementY:function(e){return"movementY"in e?e.movementY:lc}}),Qx=Qt(br),u1=_({},br,{dataTransfer:0}),x1=Qt(u1),s1=_({},fi,{relatedTarget:0}),ac=Qt(s1),o1=_({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),f1=Qt(o1),d1=_({},Ql,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h1=Qt(d1),m1=_({},Ql,{data:0}),Px=Qt(m1),b1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g1[e])?!!t[e]:!1}function ic(){return y1}var p1=_({},fi,{key:function(e){if(e.key){var t=b1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_1=Qt(p1),S1=_({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fx=Qt(S1),C1=_({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),w1=Qt(C1),j1=_({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),M1=Qt(j1),z1=_({},br,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D1=Qt(z1),N1=_({},Ql,{newState:0,oldState:0}),A1=Qt(N1),L1=[9,13,27,32],rc=ll&&"CompositionEvent"in window,hi=null;ll&&"documentMode"in document&&(hi=document.documentMode);var E1=ll&&"TextEvent"in window&&!hi,$x=ll&&(!rc||hi&&8<hi&&11>=hi),es=" ",ts=!1;function ns(e,t){switch(e){case"keyup":return L1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ls(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function T1(e,t){switch(e){case"compositionend":return ls(t);case"keypress":return t.which!==32?null:(ts=!0,es);case"textInput":return e=t.data,e===es&&ts?null:e;default:return null}}function B1(e,t){if(Da)return e==="compositionend"||!rc&&ns(e,t)?(e=Jx(),fr=tc=_l=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $x&&t.locale!=="ko"?null:t.data;default:return null}}var q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function as(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!q1[e.type]:t==="textarea"}function is(e,t,n,l){Ma?za?za.push(l):za=[l]:Ma=l,t=i0(t,"onChange"),0<t.length&&(n=new mr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var mi=null,bi=null;function G1(e){Uf(e,0)}function vr(e){var t=xi(e);if(Ix(t))return e}function rs(e,t){if(e==="change")return t}var cs=!1;if(ll){var cc;if(ll){var uc="oninput"in document;if(!uc){var us=document.createElement("div");us.setAttribute("oninput","return;"),uc=typeof us.oninput=="function"}cc=uc}else cc=!1;cs=cc&&(!document.documentMode||9<document.documentMode)}function xs(){mi&&(mi.detachEvent("onpropertychange",ss),bi=mi=null)}function ss(e){if(e.propertyName==="value"&&vr(bi)){var t=[];is(t,bi,e,F0(e)),Wx(G1,t)}}function k1(e,t,n){e==="focusin"?(xs(),mi=t,bi=n,mi.attachEvent("onpropertychange",ss)):e==="focusout"&&xs()}function R1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vr(bi)}function O1(e,t){if(e==="click")return vr(t)}function I1(e,t){if(e==="input"||e==="change")return vr(t)}function H1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:H1;function vi(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!Ue.call(t,u)||!cn(e[u],t[u]))return!1}return!0}function os(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fs(e,t){var n=os(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=os(n)}}function ds(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ds(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=sr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sr(e.document)}return t}function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Y1=ll&&"documentMode"in document&&11>=document.documentMode,Na=null,sc=null,gi=null,oc=!1;function ms(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oc||Na==null||Na!==sr(l)||(l=Na,"selectionStart"in l&&xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gi&&vi(gi,l)||(gi=l,l=i0(sc,"onSelect"),0<l.length&&(t=new mr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Na)))}function Pl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aa={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionrun:Pl("Transition","TransitionRun"),transitionstart:Pl("Transition","TransitionStart"),transitioncancel:Pl("Transition","TransitionCancel"),transitionend:Pl("Transition","TransitionEnd")},fc={},bs={};ll&&(bs=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Fl(e){if(fc[e])return fc[e];if(!Aa[e])return e;var t=Aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bs)return fc[e]=t[n];return e}var vs=Fl("animationend"),gs=Fl("animationiteration"),ys=Fl("animationstart"),U1=Fl("transitionrun"),Z1=Fl("transitionstart"),K1=Fl("transitioncancel"),ps=Fl("transitionend"),_s=new Map,dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dc.push("scrollEnd");function On(e,t){_s.set(e,t),Vl(t,[e])}var gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],La=0,hc=0;function yr(){for(var e=La,t=hc=La=0;t<e;){var n=Cn[t];Cn[t++]=null;var l=Cn[t];Cn[t++]=null;var u=Cn[t];Cn[t++]=null;var s=Cn[t];if(Cn[t++]=null,l!==null&&u!==null){var S=l.pending;S===null?u.next=u:(u.next=S.next,S.next=u),l.pending=u}s!==0&&Ss(n,u,s)}}function pr(e,t,n,l){Cn[La++]=e,Cn[La++]=t,Cn[La++]=n,Cn[La++]=l,hc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function mc(e,t,n,l){return pr(e,t,n,l),_r(e)}function $l(e,t){return pr(e,null,null,t),_r(e)}function Ss(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(u=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,u&&t!==null&&(u=31-ue(n),e=s.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),s):null}function _r(e){if(50<Ii)throw Ii=0,wu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ea={};function X1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,l){return new X1(e,t,n,l)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function al(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Cs(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sr(e,t,n,l,u,s){var S=0;if(l=e,typeof e=="function")bc(e)&&(S=1);else if(typeof e=="string")S=P2(e,n,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=un(31,n,t,u),e.elementType=P,e.lanes=s,e;case j:return ea(n.children,u,s,t);case w:S=8,u|=24;break;case T:return e=un(12,n,t,u|2),e.elementType=T,e.lanes=s,e;case O:return e=un(13,n,t,u),e.elementType=O,e.lanes=s,e;case W:return e=un(19,n,t,u),e.elementType=W,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:S=10;break e;case k:S=9;break e;case B:S=11;break e;case R:S=14;break e;case J:S=16,l=null;break e}S=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=un(S,n,t,u),t.elementType=e,t.type=l,t.lanes=s,t}function ea(e,t,n,l){return e=un(7,e,l,t),e.lanes=n,e}function vc(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function ws(e){var t=un(18,null,null,0);return t.stateNode=e,t}function gc(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var js=new WeakMap;function wn(e,t){if(typeof e=="object"&&e!==null){var n=js.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ct(t)},js.set(e,t),t)}return{value:e,source:t,stack:ct(t)}}var Ta=[],Ba=0,Cr=null,yi=0,jn=[],Mn=0,Sl=null,Kn=1,Xn="";function il(e,t){Ta[Ba++]=yi,Ta[Ba++]=Cr,Cr=e,yi=t}function Ms(e,t,n){jn[Mn++]=Kn,jn[Mn++]=Xn,jn[Mn++]=Sl,Sl=e;var l=Kn;e=Xn;var u=32-ue(l)-1;l&=~(1<<u),n+=1;var s=32-ue(t)+u;if(30<s){var S=u-u%5;s=(l&(1<<S)-1).toString(32),l>>=S,u-=S,Kn=1<<32-ue(t)+u|n<<u|l,Xn=s+e}else Kn=1<<s|n<<u|l,Xn=e}function yc(e){e.return!==null&&(il(e,1),Ms(e,1,0))}function pc(e){for(;e===Cr;)Cr=Ta[--Ba],Ta[Ba]=null,yi=Ta[--Ba],Ta[Ba]=null;for(;e===Sl;)Sl=jn[--Mn],jn[Mn]=null,Xn=jn[--Mn],jn[Mn]=null,Kn=jn[--Mn],jn[Mn]=null}function zs(e,t){jn[Mn++]=Kn,jn[Mn++]=Xn,jn[Mn++]=Sl,Kn=t.id,Xn=t.overflow,Sl=e}var Gt=null,ht=null,Ye=!1,Cl=null,zn=!1,_c=Error(r(519));function wl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pi(wn(t,e)),_c}function Ds(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Nt]=e,t[Yt]=l,n){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(n=0;n<Yi.length;n++)ke(Yi[n],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),Hx(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),Ux(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Wf(t.textContent,n)?(l.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),l.onScroll!=null&&ke("scroll",t),l.onScrollEnd!=null&&ke("scrollend",t),l.onClick!=null&&(t.onclick=nl),t=!0):t=!1,t||wl(e,!0)}function Ns(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Gt=Gt.return}}function qa(e){if(e!==Gt)return!1;if(!Ye)return Ns(e),Ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ou(e.type,e.memoizedProps)),n=!n),n&&ht&&wl(e),Ns(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ht=nd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ht=nd(e)}else t===27?(t=ht,Rl(e.type)?(e=Zu,Zu=null,ht=e):ht=t):ht=Gt?Nn(e.stateNode.nextSibling):null;return!0}function ta(){ht=Gt=null,Ye=!1}function Sc(){var e=Cl;return e!==null&&(en===null?en=e:en.push.apply(en,e),Cl=null),e}function pi(e){Cl===null?Cl=[e]:Cl.push(e)}var Cc=D(null),na=null,rl=null;function jl(e,t,n){Y(Cc,t._currentValue),t._currentValue=n}function cl(e){e._currentValue=Cc.current,q(Cc)}function wc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function jc(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var s=u.dependencies;if(s!==null){var S=u.child;s=s.firstContext;e:for(;s!==null;){var L=s;s=u;for(var Z=0;Z<t.length;Z++)if(L.context===t[Z]){s.lanes|=n,L=s.alternate,L!==null&&(L.lanes|=n),wc(s.return,n,e),l||(S=null);break e}s=L.next}}else if(u.tag===18){if(S=u.return,S===null)throw Error(r(341));S.lanes|=n,s=S.alternate,s!==null&&(s.lanes|=n),wc(S,n,e),S=null}else S=u.child;if(S!==null)S.return=u;else for(S=u;S!==null;){if(S===e){S=null;break}if(u=S.sibling,u!==null){u.return=S.return,S=u;break}S=S.return}u=S}}function Ga(e,t,n,l){e=null;for(var u=t,s=!1;u!==null;){if(!s){if((u.flags&524288)!==0)s=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var S=u.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var L=u.type;cn(u.pendingProps.value,S.value)||(e!==null?e.push(L):e=[L])}}else if(u===de.current){if(S=u.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Wi):e=[Wi])}u=u.return}e!==null&&jc(t,e,n,l),t.flags|=262144}function wr(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function la(e){na=e,rl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return As(na,e)}function jr(e,t){return na===null&&la(e),As(e,t)}function As(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},rl===null){if(e===null)throw Error(r(308));rl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rl=rl.next=t;return n}var W1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},J1=c.unstable_scheduleCallback,V1=c.unstable_NormalPriority,wt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new W1,data:new Map,refCount:0}}function _i(e){e.refCount--,e.refCount===0&&J1(V1,function(){e.controller.abort()})}var Si=null,zc=0,ka=0,Ra=null;function Q1(e,t){if(Si===null){var n=Si=[];zc=0,ka=Au(),Ra={status:"pending",value:void 0,then:function(l){n.push(l)}}}return zc++,t.then(Ls,Ls),t}function Ls(){if(--zc===0&&Si!==null){Ra!==null&&(Ra.status="fulfilled");var e=Si;Si=null,ka=0,Ra=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function P1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Es=M.S;M.S=function(e,t){vf=Ve(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Q1(e,t),Es!==null&&Es(e,t)};var aa=D(null);function Dc(){var e=aa.current;return e!==null?e:ft.pooledCache}function Mr(e,t){t===null?Y(aa,aa.current):Y(aa,t.pool)}function Ts(){var e=Dc();return e===null?null:{parent:wt._currentValue,pool:e}}var Oa=Error(r(460)),Nc=Error(r(474)),zr=Error(r(542)),Dr={then:function(){}};function Bs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(nl,nl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ks(e),e;default:if(typeof t.status=="string")t.then(nl,nl);else{if(e=ft,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ks(e),e}throw ra=t,Oa}}function ia(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ra=n,Oa):n}}var ra=null;function Gs(){if(ra===null)throw Error(r(459));var e=ra;return ra=null,e}function ks(e){if(e===Oa||e===zr)throw Error(r(483))}var Ia=null,Ci=0;function Nr(e){var t=Ci;return Ci+=1,Ia===null&&(Ia=[]),qs(Ia,e,t)}function wi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ar(e,t){throw t.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rs(e){function t(F,V){if(e){var ee=F.deletions;ee===null?(F.deletions=[V],F.flags|=16):ee.push(V)}}function n(F,V){if(!e)return null;for(;V!==null;)t(F,V),V=V.sibling;return null}function l(F){for(var V=new Map;F!==null;)F.key!==null?V.set(F.key,F):V.set(F.index,F),F=F.sibling;return V}function u(F,V){return F=al(F,V),F.index=0,F.sibling=null,F}function s(F,V,ee){return F.index=ee,e?(ee=F.alternate,ee!==null?(ee=ee.index,ee<V?(F.flags|=67108866,V):ee):(F.flags|=67108866,V)):(F.flags|=1048576,V)}function S(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function L(F,V,ee,re){return V===null||V.tag!==6?(V=vc(ee,F.mode,re),V.return=F,V):(V=u(V,ee),V.return=F,V)}function Z(F,V,ee,re){var _e=ee.type;return _e===j?ie(F,V,ee.props.children,re,ee.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===J&&ia(_e)===V.type)?(V=u(V,ee.props),wi(V,ee),V.return=F,V):(V=Sr(ee.type,ee.key,ee.props,null,F.mode,re),wi(V,ee),V.return=F,V)}function te(F,V,ee,re){return V===null||V.tag!==4||V.stateNode.containerInfo!==ee.containerInfo||V.stateNode.implementation!==ee.implementation?(V=gc(ee,F.mode,re),V.return=F,V):(V=u(V,ee.children||[]),V.return=F,V)}function ie(F,V,ee,re,_e){return V===null||V.tag!==7?(V=ea(ee,F.mode,re,_e),V.return=F,V):(V=u(V,ee),V.return=F,V)}function ce(F,V,ee){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=vc(""+V,F.mode,ee),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return ee=Sr(V.type,V.key,V.props,null,F.mode,ee),wi(ee,V),ee.return=F,ee;case N:return V=gc(V,F.mode,ee),V.return=F,V;case J:return V=ia(V),ce(F,V,ee)}if(v(V)||C(V))return V=ea(V,F.mode,ee,null),V.return=F,V;if(typeof V.then=="function")return ce(F,Nr(V),ee);if(V.$$typeof===G)return ce(F,jr(F,V),ee);Ar(F,V)}return null}function ne(F,V,ee,re){var _e=V!==null?V.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return _e!==null?null:L(F,V,""+ee,re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===_e?Z(F,V,ee,re):null;case N:return ee.key===_e?te(F,V,ee,re):null;case J:return ee=ia(ee),ne(F,V,ee,re)}if(v(ee)||C(ee))return _e!==null?null:ie(F,V,ee,re,null);if(typeof ee.then=="function")return ne(F,V,Nr(ee),re);if(ee.$$typeof===G)return ne(F,V,jr(F,ee),re);Ar(F,ee)}return null}function le(F,V,ee,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(ee)||null,L(V,F,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return F=F.get(re.key===null?ee:re.key)||null,Z(V,F,re,_e);case N:return F=F.get(re.key===null?ee:re.key)||null,te(V,F,re,_e);case J:return re=ia(re),le(F,V,ee,re,_e)}if(v(re)||C(re))return F=F.get(ee)||null,ie(V,F,re,_e,null);if(typeof re.then=="function")return le(F,V,ee,Nr(re),_e);if(re.$$typeof===G)return le(F,V,ee,jr(V,re),_e);Ar(V,re)}return null}function me(F,V,ee,re){for(var _e=null,Xe=null,ve=V,Ee=V=0,Ie=null;ve!==null&&Ee<ee.length;Ee++){ve.index>Ee?(Ie=ve,ve=null):Ie=ve.sibling;var We=ne(F,ve,ee[Ee],re);if(We===null){ve===null&&(ve=Ie);break}e&&ve&&We.alternate===null&&t(F,ve),V=s(We,V,Ee),Xe===null?_e=We:Xe.sibling=We,Xe=We,ve=Ie}if(Ee===ee.length)return n(F,ve),Ye&&il(F,Ee),_e;if(ve===null){for(;Ee<ee.length;Ee++)ve=ce(F,ee[Ee],re),ve!==null&&(V=s(ve,V,Ee),Xe===null?_e=ve:Xe.sibling=ve,Xe=ve);return Ye&&il(F,Ee),_e}for(ve=l(ve);Ee<ee.length;Ee++)Ie=le(ve,F,Ee,ee[Ee],re),Ie!==null&&(e&&Ie.alternate!==null&&ve.delete(Ie.key===null?Ee:Ie.key),V=s(Ie,V,Ee),Xe===null?_e=Ie:Xe.sibling=Ie,Xe=Ie);return e&&ve.forEach(function(Ul){return t(F,Ul)}),Ye&&il(F,Ee),_e}function we(F,V,ee,re){if(ee==null)throw Error(r(151));for(var _e=null,Xe=null,ve=V,Ee=V=0,Ie=null,We=ee.next();ve!==null&&!We.done;Ee++,We=ee.next()){ve.index>Ee?(Ie=ve,ve=null):Ie=ve.sibling;var Ul=ne(F,ve,We.value,re);if(Ul===null){ve===null&&(ve=Ie);break}e&&ve&&Ul.alternate===null&&t(F,ve),V=s(Ul,V,Ee),Xe===null?_e=Ul:Xe.sibling=Ul,Xe=Ul,ve=Ie}if(We.done)return n(F,ve),Ye&&il(F,Ee),_e;if(ve===null){for(;!We.done;Ee++,We=ee.next())We=ce(F,We.value,re),We!==null&&(V=s(We,V,Ee),Xe===null?_e=We:Xe.sibling=We,Xe=We);return Ye&&il(F,Ee),_e}for(ve=l(ve);!We.done;Ee++,We=ee.next())We=le(ve,F,Ee,We.value,re),We!==null&&(e&&We.alternate!==null&&ve.delete(We.key===null?Ee:We.key),V=s(We,V,Ee),Xe===null?_e=We:Xe.sibling=We,Xe=We);return e&&ve.forEach(function(uh){return t(F,uh)}),Ye&&il(F,Ee),_e}function st(F,V,ee,re){if(typeof ee=="object"&&ee!==null&&ee.type===j&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var _e=ee.key;V!==null;){if(V.key===_e){if(_e=ee.type,_e===j){if(V.tag===7){n(F,V.sibling),re=u(V,ee.props.children),re.return=F,F=re;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===J&&ia(_e)===V.type){n(F,V.sibling),re=u(V,ee.props),wi(re,ee),re.return=F,F=re;break e}n(F,V);break}else t(F,V);V=V.sibling}ee.type===j?(re=ea(ee.props.children,F.mode,re,ee.key),re.return=F,F=re):(re=Sr(ee.type,ee.key,ee.props,null,F.mode,re),wi(re,ee),re.return=F,F=re)}return S(F);case N:e:{for(_e=ee.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===ee.containerInfo&&V.stateNode.implementation===ee.implementation){n(F,V.sibling),re=u(V,ee.children||[]),re.return=F,F=re;break e}else{n(F,V);break}else t(F,V);V=V.sibling}re=gc(ee,F.mode,re),re.return=F,F=re}return S(F);case J:return ee=ia(ee),st(F,V,ee,re)}if(v(ee))return me(F,V,ee,re);if(C(ee)){if(_e=C(ee),typeof _e!="function")throw Error(r(150));return ee=_e.call(ee),we(F,V,ee,re)}if(typeof ee.then=="function")return st(F,V,Nr(ee),re);if(ee.$$typeof===G)return st(F,V,jr(F,ee),re);Ar(F,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,V!==null&&V.tag===6?(n(F,V.sibling),re=u(V,ee),re.return=F,F=re):(n(F,V),re=vc(ee,F.mode,re),re.return=F,F=re),S(F)):n(F,V)}return function(F,V,ee,re){try{Ci=0;var _e=st(F,V,ee,re);return Ia=null,_e}catch(ve){if(ve===Oa||ve===zr)throw ve;var Xe=un(29,ve,null,F.mode);return Xe.lanes=re,Xe.return=F,Xe}}}var ca=Rs(!0),Os=Rs(!1),Ml=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=_r(e),Ss(e,null,n),t}return pr(e,l,t,n),_r(e)}function ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,nt(e,n)}}function Ec(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var S={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?u=s=S:s=s.next=S,n=n.next}while(n!==null);s===null?u=s=t:s=s.next=t}else u=s=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Tc=!1;function Mi(){if(Tc){var e=Ra;if(e!==null)throw e}}function zi(e,t,n,l){Tc=!1;var u=e.updateQueue;Ml=!1;var s=u.firstBaseUpdate,S=u.lastBaseUpdate,L=u.shared.pending;if(L!==null){u.shared.pending=null;var Z=L,te=Z.next;Z.next=null,S===null?s=te:S.next=te,S=Z;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==S&&(L===null?ie.firstBaseUpdate=te:L.next=te,ie.lastBaseUpdate=Z))}if(s!==null){var ce=u.baseState;S=0,ie=te=Z=null,L=s;do{var ne=L.lane&-536870913,le=ne!==L.lane;if(le?(Oe&ne)===ne:(l&ne)===ne){ne!==0&&ne===ka&&(Tc=!0),ie!==null&&(ie=ie.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var me=e,we=L;ne=t;var st=n;switch(we.tag){case 1:if(me=we.payload,typeof me=="function"){ce=me.call(st,ce,ne);break e}ce=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,ne=typeof me=="function"?me.call(st,ce,ne):me,ne==null)break e;ce=_({},ce,ne);break e;case 2:Ml=!0}}ne=L.callback,ne!==null&&(e.flags|=64,le&&(e.flags|=8192),le=u.callbacks,le===null?u.callbacks=[ne]:le.push(ne))}else le={lane:ne,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(te=ie=le,Z=ce):ie=ie.next=le,S|=ne;if(L=L.next,L===null){if(L=u.shared.pending,L===null)break;le=L,L=le.next,le.next=null,u.lastBaseUpdate=le,u.shared.pending=null}}while(!0);ie===null&&(Z=ce),u.baseState=Z,u.firstBaseUpdate=te,u.lastBaseUpdate=ie,s===null&&(u.shared.lanes=0),Tl|=S,e.lanes=S,e.memoizedState=ce}}function Is(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Hs(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Is(n[e],t)}var Ha=D(null),Lr=D(0);function Ys(e,t){e=bl,Y(Lr,e),Y(Ha,t),bl=e|t.baseLanes}function Bc(){Y(Lr,bl),Y(Ha,Ha.current)}function qc(){bl=Lr.current,q(Ha),q(Lr)}var xn=D(null),Dn=null;function Nl(e){var t=e.alternate;Y(_t,_t.current&1),Y(xn,e),Dn===null&&(t===null||Ha.current!==null||t.memoizedState!==null)&&(Dn=e)}function Gc(e){Y(_t,_t.current),Y(xn,e),Dn===null&&(Dn=e)}function Us(e){e.tag===22?(Y(_t,_t.current),Y(xn,e),Dn===null&&(Dn=e)):Al()}function Al(){Y(_t,_t.current),Y(xn,xn.current)}function sn(e){q(xn),Dn===e&&(Dn=null),q(_t)}var _t=D(0);function Er(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Yu(n)||Uu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=0,Le=null,ut=null,jt=null,Tr=!1,Ya=!1,ua=!1,Br=0,Di=0,Ua=null,F1=0;function gt(){throw Error(r(321))}function kc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function Rc(e,t,n,l,u,s){return ul=s,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?zo:$c,ua=!1,s=n(l,u),ua=!1,Ya&&(s=Ks(t,n,l,u)),Zs(e),s}function Zs(e){M.H=Li;var t=ut!==null&&ut.next!==null;if(ul=0,jt=ut=Le=null,Tr=!1,Di=0,Ua=null,t)throw Error(r(300));e===null||Mt||(e=e.dependencies,e!==null&&wr(e)&&(Mt=!0))}function Ks(e,t,n,l){Le=e;var u=0;do{if(Ya&&(Ua=null),Di=0,Ya=!1,25<=u)throw Error(r(301));if(u+=1,jt=ut=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}M.H=Do,s=t(n,l)}while(Ya);return s}function $1(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Ni(t):t,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(Le.flags|=1024),t}function Oc(){var e=Br!==0;return Br=0,e}function Ic(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hc(e){if(Tr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Tr=!1}ul=0,jt=ut=Le=null,Ya=!1,Di=Br=0,Ua=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Le.memoizedState=jt=e:jt=jt.next=e,jt}function St(){if(ut===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=jt===null?Le.memoizedState:jt.next;if(t!==null)jt=t,ut=e;else{if(e===null)throw Le.alternate===null?Error(r(467)):Error(r(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},jt===null?Le.memoizedState=jt=e:jt=jt.next=e}return jt}function qr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ni(e){var t=Di;return Di+=1,Ua===null&&(Ua=[]),e=qs(Ua,e,t),t=Le,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?zo:$c),e}function Gr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ni(e);if(e.$$typeof===G)return kt(e)}throw Error(r(438,String(e)))}function Yc(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qr(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Q;return t.index++,n}function xl(e,t){return typeof t=="function"?t(e):t}function kr(e){var t=St();return Uc(t,ut,e)}function Uc(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=e.baseQueue,s=l.pending;if(s!==null){if(u!==null){var S=u.next;u.next=s.next,s.next=S}t.baseQueue=u=s,l.pending=null}if(s=e.baseState,u===null)e.memoizedState=s;else{t=u.next;var L=S=null,Z=null,te=t,ie=!1;do{var ce=te.lane&-536870913;if(ce!==te.lane?(Oe&ce)===ce:(ul&ce)===ce){var ne=te.revertLane;if(ne===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ce===ka&&(ie=!0);else if((ul&ne)===ne){te=te.next,ne===ka&&(ie=!0);continue}else ce={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},Z===null?(L=Z=ce,S=s):Z=Z.next=ce,Le.lanes|=ne,Tl|=ne;ce=te.action,ua&&n(s,ce),s=te.hasEagerState?te.eagerState:n(s,ce)}else ne={lane:ce,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},Z===null?(L=Z=ne,S=s):Z=Z.next=ne,Le.lanes|=ce,Tl|=ce;te=te.next}while(te!==null&&te!==t);if(Z===null?S=s:Z.next=L,!cn(s,e.memoizedState)&&(Mt=!0,ie&&(n=Ra,n!==null)))throw n;e.memoizedState=s,e.baseState=S,e.baseQueue=Z,l.lastRenderedState=s}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zc(e){var t=St(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,s=t.memoizedState;if(u!==null){n.pending=null;var S=u=u.next;do s=e(s,S.action),S=S.next;while(S!==u);cn(s,t.memoizedState)||(Mt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Xs(e,t,n){var l=Le,u=St(),s=Ye;if(s){if(n===void 0)throw Error(r(407));n=n()}else n=t();var S=!cn((ut||u).memoizedState,n);if(S&&(u.memoizedState=n,Mt=!0),u=u.queue,Wc(Vs.bind(null,l,u,e),[e]),u.getSnapshot!==t||S||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Js.bind(null,l,u,n,t),null),ft===null)throw Error(r(349));s||(ul&127)!==0||Ws(l,t,n)}return n}function Ws(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=qr(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Js(e,t,n,l){t.value=n,t.getSnapshot=l,Qs(t)&&Ps(e)}function Vs(e,t,n){return n(function(){Qs(t)&&Ps(e)})}function Qs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function Ps(e){var t=$l(e,2);t!==null&&tn(t,e,2)}function Kc(e){var t=Jt();if(typeof e=="function"){var n=e;if(e=n(),ua){Qe(!0);try{n()}finally{Qe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:e},t}function Fs(e,t,n,l){return e.baseState=n,Uc(e,ut,typeof l=="function"?l:xl)}function e2(e,t,n,l,u){if(Ir(e))throw Error(r(485));if(e=t.action,e!==null){var s={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){s.listeners.push(S)}};M.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,$s(t,s)):(s.next=n.next,t.pending=n.next=s)}}function $s(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var s=M.T,S={};M.T=S;try{var L=n(u,l),Z=M.S;Z!==null&&Z(S,L),eo(e,t,L)}catch(te){Xc(e,t,te)}finally{s!==null&&S.types!==null&&(s.types=S.types),M.T=s}}else try{s=n(u,l),eo(e,t,s)}catch(te){Xc(e,t,te)}}function eo(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){to(e,t,l)},function(l){return Xc(e,t,l)}):to(e,t,n)}function to(e,t,n){t.status="fulfilled",t.value=n,no(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,$s(e,n)))}function Xc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,no(t),t=t.next;while(t!==l)}e.action=null}function no(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lo(e,t){return t}function ao(e,t){if(Ye){var n=ft.formState;if(n!==null){e:{var l=Le;if(Ye){if(ht){t:{for(var u=ht,s=zn;u.nodeType!==8;){if(!s){u=null;break t}if(u=Nn(u.nextSibling),u===null){u=null;break t}}s=u.data,u=s==="F!"||s==="F"?u:null}if(u){ht=Nn(u.nextSibling),l=u.data==="F!";break e}}wl(l)}l=!1}l&&(t=n[0])}}return n=Jt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:t},n.queue=l,n=wo.bind(null,Le,l),l.dispatch=n,l=Kc(!1),s=Fc.bind(null,Le,!1,l.queue),l=Jt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=e2.bind(null,Le,u,s,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function io(e){var t=St();return ro(t,ut,e)}function ro(e,t,n){if(t=Uc(e,t,lo)[0],e=kr(xl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ni(t)}catch(S){throw S===Oa?zr:S}else l=t;t=St();var u=t.queue,s=u.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,Za(9,{destroy:void 0},t2.bind(null,u,n),null)),[l,s,e]}function t2(e,t){e.action=t}function co(e){var t=St(),n=ut;if(n!==null)return ro(t,n,e);St(),t=t.memoizedState,n=St();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Za(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Le.updateQueue,t===null&&(t=qr(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function uo(){return St().memoizedState}function Rr(e,t,n,l){var u=Jt();Le.flags|=e,u.memoizedState=Za(1|t,{destroy:void 0},n,l===void 0?null:l)}function Or(e,t,n,l){var u=St();l=l===void 0?null:l;var s=u.memoizedState.inst;ut!==null&&l!==null&&kc(l,ut.memoizedState.deps)?u.memoizedState=Za(t,s,n,l):(Le.flags|=e,u.memoizedState=Za(1|t,s,n,l))}function xo(e,t){Rr(8390656,8,e,t)}function Wc(e,t){Or(2048,8,e,t)}function n2(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=qr(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function so(e){var t=St().memoizedState;return n2({ref:t,nextImpl:e}),function(){if((et&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function oo(e,t){return Or(4,2,e,t)}function fo(e,t){return Or(4,4,e,t)}function ho(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mo(e,t,n){n=n!=null?n.concat([e]):null,Or(4,4,ho.bind(null,t,e),n)}function Jc(){}function bo(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&kc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function vo(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&kc(t,l[1]))return l[0];if(l=e(),ua){Qe(!0);try{e()}finally{Qe(!1)}}return n.memoizedState=[l,t],l}function Vc(e,t,n){return n===void 0||(ul&1073741824)!==0&&(Oe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=yf(),Le.lanes|=e,Tl|=e,n)}function go(e,t,n,l){return cn(n,t)?n:Ha.current!==null?(e=Vc(e,n,l),cn(e,t)||(Mt=!0),e):(ul&42)===0||(ul&1073741824)!==0&&(Oe&261930)===0?(Mt=!0,e.memoizedState=n):(e=yf(),Le.lanes|=e,Tl|=e,t)}function yo(e,t,n,l,u){var s=E.p;E.p=s!==0&&8>s?s:8;var S=M.T,L={};M.T=L,Fc(e,!1,t,n);try{var Z=u(),te=M.S;if(te!==null&&te(L,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ie=P1(Z,l);Ai(e,t,ie,dn(e))}else Ai(e,t,l,dn(e))}catch(ce){Ai(e,t,{then:function(){},status:"rejected",reason:ce},dn())}finally{E.p=s,S!==null&&L.types!==null&&(S.types=L.types),M.T=S}}function l2(){}function Qc(e,t,n,l){if(e.tag!==5)throw Error(r(476));var u=po(e).queue;yo(e,u,t,U,n===null?l2:function(){return _o(e),n(l)})}function po(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:U},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _o(e){var t=po(e);t.next===null&&(t=e.alternate.memoizedState),Ai(e,t.next.queue,{},dn())}function Pc(){return kt(Wi)}function So(){return St().memoizedState}function Co(){return St().memoizedState}function a2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=dn();e=zl(n);var l=Dl(t,e,n);l!==null&&(tn(l,t,n),ji(l,t,n)),t={cache:Mc()},e.payload=t;return}t=t.return}}function i2(e,t,n){var l=dn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ir(e)?jo(t,n):(n=mc(e,t,n,l),n!==null&&(tn(n,e,l),Mo(n,t,l)))}function wo(e,t,n){var l=dn();Ai(e,t,n,l)}function Ai(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ir(e))jo(t,u);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var S=t.lastRenderedState,L=s(S,n);if(u.hasEagerState=!0,u.eagerState=L,cn(L,S))return pr(e,t,u,0),ft===null&&yr(),!1}catch{}if(n=mc(e,t,u,l),n!==null)return tn(n,e,l),Mo(n,t,l),!0}return!1}function Fc(e,t,n,l){if(l={lane:2,revertLane:Au(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ir(e)){if(t)throw Error(r(479))}else t=mc(e,n,l,2),t!==null&&tn(t,e,2)}function Ir(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function jo(e,t){Ya=Tr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,nt(e,n)}}var Li={readContext:kt,use:Gr,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Li.useEffectEvent=gt;var zo={readContext:kt,use:Gr,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:xo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Rr(4194308,4,ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rr(4194308,4,e,t)},useInsertionEffect:function(e,t){Rr(4,2,e,t)},useMemo:function(e,t){var n=Jt();t=t===void 0?null:t;var l=e();if(ua){Qe(!0);try{e()}finally{Qe(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Jt();if(n!==void 0){var u=n(t);if(ua){Qe(!0);try{n(t)}finally{Qe(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=i2.bind(null,Le,e),[l.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:function(e){e=Kc(e);var t=e.queue,n=wo.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jc,useDeferredValue:function(e,t){var n=Jt();return Vc(n,e,t)},useTransition:function(){var e=Kc(!1);return e=yo.bind(null,Le,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Le,u=Jt();if(Ye){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),ft===null)throw Error(r(349));(Oe&127)!==0||Ws(l,t,n)}u.memoizedState=n;var s={value:n,getSnapshot:t};return u.queue=s,xo(Vs.bind(null,l,s,e),[e]),l.flags|=2048,Za(9,{destroy:void 0},Js.bind(null,l,s,n,t),null),n},useId:function(){var e=Jt(),t=ft.identifierPrefix;if(Ye){var n=Xn,l=Kn;n=(l&~(1<<32-ue(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=F1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Pc,useFormState:ao,useActionState:ao,useOptimistic:function(e){var t=Jt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fc.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:Yc,useCacheRefresh:function(){return Jt().memoizedState=a2.bind(null,Le)},useEffectEvent:function(e){var t=Jt(),n={impl:e};return t.memoizedState=n,function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},$c={readContext:kt,use:Gr,useCallback:bo,useContext:kt,useEffect:Wc,useImperativeHandle:mo,useInsertionEffect:oo,useLayoutEffect:fo,useMemo:vo,useReducer:kr,useRef:uo,useState:function(){return kr(xl)},useDebugValue:Jc,useDeferredValue:function(e,t){var n=St();return go(n,ut.memoizedState,e,t)},useTransition:function(){var e=kr(xl)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Xs,useId:So,useHostTransitionStatus:Pc,useFormState:io,useActionState:io,useOptimistic:function(e,t){var n=St();return Fs(n,ut,e,t)},useMemoCache:Yc,useCacheRefresh:Co};$c.useEffectEvent=so;var Do={readContext:kt,use:Gr,useCallback:bo,useContext:kt,useEffect:Wc,useImperativeHandle:mo,useInsertionEffect:oo,useLayoutEffect:fo,useMemo:vo,useReducer:Zc,useRef:uo,useState:function(){return Zc(xl)},useDebugValue:Jc,useDeferredValue:function(e,t){var n=St();return ut===null?Vc(n,e,t):go(n,ut.memoizedState,e,t)},useTransition:function(){var e=Zc(xl)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Xs,useId:So,useHostTransitionStatus:Pc,useFormState:co,useActionState:co,useOptimistic:function(e,t){var n=St();return ut!==null?Fs(n,ut,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:Co};Do.useEffectEvent=so;function eu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=dn(),u=zl(l);u.payload=t,n!=null&&(u.callback=n),t=Dl(e,u,l),t!==null&&(tn(t,e,l),ji(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=dn(),u=zl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Dl(e,u,l),t!==null&&(tn(t,e,l),ji(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dn(),l=zl(n);l.tag=2,t!=null&&(l.callback=t),t=Dl(e,l,n),t!==null&&(tn(t,e,n),ji(t,e,n))}};function No(e,t,n,l,u,s,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,S):t.prototype&&t.prototype.isPureReactComponent?!vi(n,l)||!vi(u,s):!0}function Ao(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&tu.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Lo(e){gr(e)}function Eo(e){console.error(e)}function To(e){gr(e)}function Hr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Bo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function nu(e,t,n){return n=zl(n),n.tag=3,n.payload={element:null},n.callback=function(){Hr(e,t)},n}function qo(e){return e=zl(e),e.tag=3,e}function Go(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var s=l.value;e.payload=function(){return u(s)},e.callback=function(){Bo(t,n,l)}}var S=n.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Bo(t,n,l),typeof u!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function r2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ga(t,n,u,!0),n=xn.current,n!==null){switch(n.tag){case 31:case 13:return Dn===null?$r():n.alternate===null&&yt===0&&(yt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),zu(e,l,u)),!1;case 22:return n.flags|=65536,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),zu(e,l,u)),!1}throw Error(r(435,n.tag))}return zu(e,l,u),$r(),!1}if(Ye)return t=xn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==_c&&(e=Error(r(422),{cause:l}),pi(wn(e,n)))):(l!==_c&&(t=Error(r(423),{cause:l}),pi(wn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=wn(l,n),u=nu(e.stateNode,l,u),Ec(e,u),yt!==4&&(yt=2)),!1;var s=Error(r(520),{cause:l});if(s=wn(s,n),Oi===null?Oi=[s]:Oi.push(s),yt!==4&&(yt=2),t===null)return!0;l=wn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=nu(n.stateNode,l,e),Ec(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Bl===null||!Bl.has(s))))return n.flags|=65536,u&=-u,n.lanes|=u,u=qo(u),Go(u,e,n,l),Ec(n,u),!1}n=n.return}while(n!==null);return!1}var lu=Error(r(461)),Mt=!1;function Rt(e,t,n,l){t.child=e===null?Os(t,null,n,l):ca(t,e.child,n,l)}function ko(e,t,n,l,u){n=n.render;var s=t.ref;if("ref"in l){var S={};for(var L in l)L!=="ref"&&(S[L]=l[L])}else S=l;return la(t),l=Rc(e,t,n,S,s,u),L=Oc(),e!==null&&!Mt?(Ic(e,t,u),sl(e,t,u)):(Ye&&L&&yc(t),t.flags|=1,Rt(e,t,l,u),t.child)}function Ro(e,t,n,l,u){if(e===null){var s=n.type;return typeof s=="function"&&!bc(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Oo(e,t,s,l,u)):(e=Sr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!ou(e,u)){var S=s.memoizedProps;if(n=n.compare,n=n!==null?n:vi,n(S,l)&&e.ref===t.ref)return sl(e,t,u)}return t.flags|=1,e=al(s,l),e.ref=t.ref,e.return=t,t.child=e}function Oo(e,t,n,l,u){if(e!==null){var s=e.memoizedProps;if(vi(s,l)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=l=s,ou(e,u))(e.flags&131072)!==0&&(Mt=!0);else return t.lanes=e.lanes,sl(e,t,u)}return au(e,t,n,l,u)}function Io(e,t,n,l){var u=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~s}else l=0,t.child=null;return Ho(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mr(t,s!==null?s.cachePool:null),s!==null?Ys(t,s):Bc(),Us(t);else return l=t.lanes=536870912,Ho(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(Mr(t,s.cachePool),Ys(t,s),Al(),t.memoizedState=null):(e!==null&&Mr(t,null),Bc(),Al());return Rt(e,t,u,n),t.child}function Ei(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ho(e,t,n,l,u){var s=Dc();return s=s===null?null:{parent:wt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Mr(t,null),Bc(),Us(t),e!==null&&Ga(e,t,l,!0),t.childLanes=u,null}function Yr(e,t){return t=Zr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Yo(e,t,n){return ca(t,e.child,null,n),e=Yr(t,t.pendingProps),e.flags|=2,sn(t),t.memoizedState=null,e}function c2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ye){if(l.mode==="hidden")return e=Yr(t,l),t.lanes=536870912,Ei(null,e);if(Gc(t),(e=ht)?(e=td(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sl!==null?{id:Kn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=ws(e),n.return=t,t.child=n,Gt=t,ht=null)):e=null,e===null)throw wl(t);return t.lanes=536870912,null}return Yr(t,l)}var s=e.memoizedState;if(s!==null){var S=s.dehydrated;if(Gc(t),u)if(t.flags&256)t.flags&=-257,t=Yo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Mt||Ga(e,t,n,!1),u=(n&e.childLanes)!==0,Mt||u){if(l=ft,l!==null&&(S=lt(l,n),S!==0&&S!==s.retryLane))throw s.retryLane=S,$l(e,S),tn(l,e,S),lu;$r(),t=Yo(e,t,n)}else e=s.treeContext,ht=Nn(S.nextSibling),Gt=t,Ye=!0,Cl=null,zn=!1,e!==null&&zs(t,e),t=Yr(t,l),t.flags|=4096;return t}return e=al(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ur(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function au(e,t,n,l,u){return la(t),n=Rc(e,t,n,l,void 0,u),l=Oc(),e!==null&&!Mt?(Ic(e,t,u),sl(e,t,u)):(Ye&&l&&yc(t),t.flags|=1,Rt(e,t,n,u),t.child)}function Uo(e,t,n,l,u,s){return la(t),t.updateQueue=null,n=Ks(t,l,n,u),Zs(e),l=Oc(),e!==null&&!Mt?(Ic(e,t,s),sl(e,t,s)):(Ye&&l&&yc(t),t.flags|=1,Rt(e,t,n,s),t.child)}function Zo(e,t,n,l,u){if(la(t),t.stateNode===null){var s=Ea,S=n.contextType;typeof S=="object"&&S!==null&&(s=kt(S)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=tu,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Ac(t),S=n.contextType,s.context=typeof S=="object"&&S!==null?kt(S):Ea,s.state=t.memoizedState,S=n.getDerivedStateFromProps,typeof S=="function"&&(eu(t,n,S,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(S=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),S!==s.state&&tu.enqueueReplaceState(s,s.state,null),zi(t,l,s,u),Mi(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var L=t.memoizedProps,Z=xa(n,L);s.props=Z;var te=s.context,ie=n.contextType;S=Ea,typeof ie=="object"&&ie!==null&&(S=kt(ie));var ce=n.getDerivedStateFromProps;ie=typeof ce=="function"||typeof s.getSnapshotBeforeUpdate=="function",L=t.pendingProps!==L,ie||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(L||te!==S)&&Ao(t,s,l,S),Ml=!1;var ne=t.memoizedState;s.state=ne,zi(t,l,s,u),Mi(),te=t.memoizedState,L||ne!==te||Ml?(typeof ce=="function"&&(eu(t,n,ce,l),te=t.memoizedState),(Z=Ml||No(t,n,Z,l,ne,te,S))?(ie||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),s.props=l,s.state=te,s.context=S,l=Z):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,Lc(e,t),S=t.memoizedProps,ie=xa(n,S),s.props=ie,ce=t.pendingProps,ne=s.context,te=n.contextType,Z=Ea,typeof te=="object"&&te!==null&&(Z=kt(te)),L=n.getDerivedStateFromProps,(te=typeof L=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(S!==ce||ne!==Z)&&Ao(t,s,l,Z),Ml=!1,ne=t.memoizedState,s.state=ne,zi(t,l,s,u),Mi();var le=t.memoizedState;S!==ce||ne!==le||Ml||e!==null&&e.dependencies!==null&&wr(e.dependencies)?(typeof L=="function"&&(eu(t,n,L,l),le=t.memoizedState),(ie=Ml||No(t,n,ie,l,ne,le,Z)||e!==null&&e.dependencies!==null&&wr(e.dependencies))?(te||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,le,Z),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,le,Z)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||S===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=le),s.props=l,s.state=le,s.context=Z,l=ie):(typeof s.componentDidUpdate!="function"||S===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Ur(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ca(t,e.child,null,u),t.child=ca(t,null,n,u)):Rt(e,t,n,u),t.memoizedState=s.state,e=t.child):e=sl(e,t,u),e}function Ko(e,t,n,l){return ta(),t.flags|=256,Rt(e,t,n,l),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ru(e){return{baseLanes:e,cachePool:Ts()}}function cu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=fn),e}function Xo(e,t,n){var l=t.pendingProps,u=!1,s=(t.flags&128)!==0,S;if((S=s)||(S=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),S&&(u=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ye){if(u?Nl(t):Al(),(e=ht)?(e=td(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sl!==null?{id:Kn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=ws(e),n.return=t,t.child=n,Gt=t,ht=null)):e=null,e===null)throw wl(t);return Uu(e)?t.lanes=32:t.lanes=536870912,null}var L=l.children;return l=l.fallback,u?(Al(),u=t.mode,L=Zr({mode:"hidden",children:L},u),l=ea(l,u,n,null),L.return=t,l.return=t,L.sibling=l,t.child=L,l=t.child,l.memoizedState=ru(n),l.childLanes=cu(e,S,n),t.memoizedState=iu,Ei(null,l)):(Nl(t),uu(t,L))}var Z=e.memoizedState;if(Z!==null&&(L=Z.dehydrated,L!==null)){if(s)t.flags&256?(Nl(t),t.flags&=-257,t=xu(e,t,n)):t.memoizedState!==null?(Al(),t.child=e.child,t.flags|=128,t=null):(Al(),L=l.fallback,u=t.mode,l=Zr({mode:"visible",children:l.children},u),L=ea(L,u,n,null),L.flags|=2,l.return=t,L.return=t,l.sibling=L,t.child=l,ca(t,e.child,null,n),l=t.child,l.memoizedState=ru(n),l.childLanes=cu(e,S,n),t.memoizedState=iu,t=Ei(null,l));else if(Nl(t),Uu(L)){if(S=L.nextSibling&&L.nextSibling.dataset,S)var te=S.dgst;S=te,l=Error(r(419)),l.stack="",l.digest=S,pi({value:l,source:null,stack:null}),t=xu(e,t,n)}else if(Mt||Ga(e,t,n,!1),S=(n&e.childLanes)!==0,Mt||S){if(S=ft,S!==null&&(l=lt(S,n),l!==0&&l!==Z.retryLane))throw Z.retryLane=l,$l(e,l),tn(S,e,l),lu;Yu(L)||$r(),t=xu(e,t,n)}else Yu(L)?(t.flags|=192,t.child=e.child,t=null):(e=Z.treeContext,ht=Nn(L.nextSibling),Gt=t,Ye=!0,Cl=null,zn=!1,e!==null&&zs(t,e),t=uu(t,l.children),t.flags|=4096);return t}return u?(Al(),L=l.fallback,u=t.mode,Z=e.child,te=Z.sibling,l=al(Z,{mode:"hidden",children:l.children}),l.subtreeFlags=Z.subtreeFlags&65011712,te!==null?L=al(te,L):(L=ea(L,u,n,null),L.flags|=2),L.return=t,l.return=t,l.sibling=L,t.child=l,Ei(null,l),l=t.child,L=e.child.memoizedState,L===null?L=ru(n):(u=L.cachePool,u!==null?(Z=wt._currentValue,u=u.parent!==Z?{parent:Z,pool:Z}:u):u=Ts(),L={baseLanes:L.baseLanes|n,cachePool:u}),l.memoizedState=L,l.childLanes=cu(e,S,n),t.memoizedState=iu,Ei(e.child,l)):(Nl(t),n=e.child,e=n.sibling,n=al(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=n,t.memoizedState=null,n)}function uu(e,t){return t=Zr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zr(e,t){return e=un(22,e,null,t),e.lanes=0,e}function xu(e,t,n){return ca(t,e.child,null,n),e=uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),wc(e.return,t,n)}function su(e,t,n,l,u,s){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:s}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=l,S.tail=n,S.tailMode=u,S.treeForkCount=s)}function Jo(e,t,n){var l=t.pendingProps,u=l.revealOrder,s=l.tail;l=l.children;var S=_t.current,L=(S&2)!==0;if(L?(S=S&1|2,t.flags|=128):S&=1,Y(_t,S),Rt(e,t,l,n),l=Ye?yi:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wo(e,n,t);else if(e.tag===19)Wo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Er(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),su(t,!1,u,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Er(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}su(t,!0,n,null,s,l);break;case"together":su(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ga(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=al(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=al(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ou(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wr(e)))}function u2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),jl(t,wt,e.memoizedState.cache),ta();break;case 27:case 5:Se(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:jl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Nl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Xo(e,t,n):(Nl(t),e=sl(e,t,n),e!==null?e.sibling:null);Nl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ga(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Jo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Y(_t,_t.current),l)break;return null;case 22:return t.lanes=0,Io(e,t,n,t.pendingProps);case 24:jl(t,wt,e.memoizedState.cache)}return sl(e,t,n)}function Vo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Mt=!0;else{if(!ou(e,n)&&(t.flags&128)===0)return Mt=!1,u2(e,t,n);Mt=(e.flags&131072)!==0}else Mt=!1,Ye&&(t.flags&1048576)!==0&&Ms(t,yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ia(t.elementType),t.type=e,typeof e=="function")bc(e)?(l=xa(e,l),t.tag=1,t=Zo(null,t,e,l,n)):(t.tag=0,t=au(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===B){t.tag=11,t=ko(null,t,e,l,n);break e}else if(u===R){t.tag=14,t=Ro(null,t,e,l,n);break e}}throw t=z(e)||e,Error(r(306,t,""))}}return t;case 0:return au(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=xa(l,t.pendingProps),Zo(e,t,l,u,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var s=t.memoizedState;u=s.element,Lc(e,t),zi(t,l,null,n);var S=t.memoizedState;if(l=S.cache,jl(t,wt,l),l!==s.cache&&jc(t,[wt],n,!0),Mi(),l=S.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Ko(e,t,l,n);break e}else if(l!==u){u=wn(Error(r(424)),t),pi(u),t=Ko(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ht=Nn(e.firstChild),Gt=t,Ye=!0,Cl=null,zn=!0,n=Os(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),l===u){t=sl(e,t,n);break e}Rt(e,t,l,n)}t=t.child}return t;case 26:return Ur(e,t),e===null?(n=cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ye||(n=t.type,e=t.pendingProps,l=r0(xe.current).createElement(n),l[Nt]=t,l[Yt]=e,Ot(l,n,e),Lt(l),t.stateNode=l):t.memoizedState=cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Se(t),e===null&&Ye&&(l=t.stateNode=ad(t.type,t.pendingProps,xe.current),Gt=t,zn=!0,u=ht,Rl(t.type)?(Zu=u,ht=Nn(l.firstChild)):ht=u),Rt(e,t,t.pendingProps.children,n),Ur(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ye&&((u=l=ht)&&(l=R2(l,t.type,t.pendingProps,zn),l!==null?(t.stateNode=l,Gt=t,ht=Nn(l.firstChild),zn=!1,u=!0):u=!1),u||wl(t)),Se(t),u=t.type,s=t.pendingProps,S=e!==null?e.memoizedProps:null,l=s.children,Ou(u,s)?l=null:S!==null&&Ou(u,S)&&(t.flags|=32),t.memoizedState!==null&&(u=Rc(e,t,$1,null,null,n),Wi._currentValue=u),Ur(e,t),Rt(e,t,l,n),t.child;case 6:return e===null&&Ye&&((e=n=ht)&&(n=O2(n,t.pendingProps,zn),n!==null?(t.stateNode=n,Gt=t,ht=null,e=!0):e=!1),e||wl(t)),null;case 13:return Xo(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ca(t,null,l,n):Rt(e,t,l,n),t.child;case 11:return ko(e,t,t.type,t.pendingProps,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,jl(t,t.type,l.value),Rt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,la(t),u=kt(u),l=l(u),t.flags|=1,Rt(e,t,l,n),t.child;case 14:return Ro(e,t,t.type,t.pendingProps,n);case 15:return Oo(e,t,t.type,t.pendingProps,n);case 19:return Jo(e,t,n);case 31:return c2(e,t,n);case 22:return Io(e,t,n,t.pendingProps);case 24:return la(t),l=kt(wt),e===null?(u=Dc(),u===null&&(u=ft,s=Mc(),u.pooledCache=s,s.refCount++,s!==null&&(u.pooledCacheLanes|=n),u=s),t.memoizedState={parent:l,cache:u},Ac(t),jl(t,wt,u)):((e.lanes&n)!==0&&(Lc(e,t),zi(t,null,null,n),Mi()),u=e.memoizedState,s=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),jl(t,wt,l)):(l=s.cache,jl(t,wt,l),l!==u.cache&&jc(t,[wt],n,!0))),Rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ol(e){e.flags|=4}function fu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Cf())e.flags|=8192;else throw ra=Dr,Nc}else e.flags&=-16777217}function Qo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fd(t))if(Cf())e.flags|=8192;else throw ra=Dr,Nc}function Kr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?$e():536870912,e.lanes|=t,Ja|=t)}function Ti(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function x2(e,t,n){var l=t.pendingProps;switch(pc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return mt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),cl(wt),be(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qa(t)?ol(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Sc())),mt(t),null;case 26:var u=t.type,s=t.memoizedState;return e===null?(ol(t),s!==null?(mt(t),Qo(t,s)):(mt(t),fu(t,u,null,l,n))):s?s!==e.memoizedState?(ol(t),mt(t),Qo(t,s)):(mt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ol(t),mt(t),fu(t,u,e,l,n)),null;case 27:if(fe(t),n=xe.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return mt(t),null}e=K.current,qa(t)?Ds(t):(e=ad(u,l,n),t.stateNode=e,ol(t))}return mt(t),null;case 5:if(fe(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return mt(t),null}if(s=K.current,qa(t))Ds(t);else{var S=r0(xe.current);switch(s){case 1:s=S.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=S.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=S.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=S.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?S.createElement("select",{is:l.is}):S.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?S.createElement(u,{is:l.is}):S.createElement(u)}}s[Nt]=t,s[Yt]=l;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)s.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=s;e:switch(Ot(s,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ol(t)}}return mt(t),fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=xe.current,qa(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Gt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Wf(e.nodeValue,n)),e||wl(t,!0)}else e=r0(e).createTextNode(l),e[Nt]=t,t.stateNode=e}return mt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=qa(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Nt]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;mt(t),e=!1}else n=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(sn(t),t):(sn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return mt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=qa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[Nt]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;mt(t),u=!1}else u=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(sn(t),t):(sn(t),null)}return sn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kr(t,t.updateQueue),mt(t),null);case 4:return be(),e===null&&Bu(t.stateNode.containerInfo),mt(t),null;case 10:return cl(t.type),mt(t),null;case 19:if(q(_t),l=t.memoizedState,l===null)return mt(t),null;if(u=(t.flags&128)!==0,s=l.rendering,s===null)if(u)Ti(l,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Er(e),s!==null){for(t.flags|=128,Ti(l,!1),e=s.updateQueue,t.updateQueue=e,Kr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Cs(n,e),n=n.sibling;return Y(_t,_t.current&1|2),Ye&&il(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ve()>Qr&&(t.flags|=128,u=!0,Ti(l,!1),t.lanes=4194304)}else{if(!u)if(e=Er(s),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Kr(t,e),Ti(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Ye)return mt(t),null}else 2*Ve()-l.renderingStartTime>Qr&&n!==536870912&&(t.flags|=128,u=!0,Ti(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ve(),e.sibling=null,n=_t.current,Y(_t,u?n&1|2:n&1),Ye&&il(t,l.treeForkCount),e):(mt(t),null);case 22:case 23:return sn(t),qc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),n=t.updateQueue,n!==null&&Kr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&q(aa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cl(wt),mt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function s2(e,t){switch(pc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cl(wt),be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fe(t),null;case 31:if(t.memoizedState!==null){if(sn(t),t.alternate===null)throw Error(r(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(_t),null;case 4:return be(),null;case 10:return cl(t.type),null;case 22:case 23:return sn(t),qc(),e!==null&&q(aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cl(wt),null;case 25:return null;default:return null}}function Po(e,t){switch(pc(t),t.tag){case 3:cl(wt),be();break;case 26:case 27:case 5:fe(t);break;case 4:be();break;case 31:t.memoizedState!==null&&sn(t);break;case 13:sn(t);break;case 19:q(_t);break;case 10:cl(t.type);break;case 22:case 23:sn(t),qc(),e!==null&&q(aa);break;case 24:cl(wt)}}function Bi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var s=n.create,S=n.inst;l=s(),S.destroy=l}n=n.next}while(n!==u)}}catch(L){rt(t,t.return,L)}}function Ll(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var s=u.next;l=s;do{if((l.tag&e)===e){var S=l.inst,L=S.destroy;if(L!==void 0){S.destroy=void 0,u=t;var Z=n,te=L;try{te()}catch(ie){rt(u,Z,ie)}}}l=l.next}while(l!==s)}}catch(ie){rt(t,t.return,ie)}}function Fo(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Hs(t,n)}catch(l){rt(e,e.return,l)}}}function $o(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){rt(e,t,l)}}function qi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){rt(e,t,u)}}function Wn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){rt(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){rt(e,t,u)}else n.current=null}function ef(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){rt(e,e.return,u)}}function du(e,t,n){try{var l=e.stateNode;E2(l,e.type,n,t),l[Yt]=t}catch(u){rt(e,e.return,u)}}function tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rl(e.type)||e.tag===4}function hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nl));else if(l!==4&&(l===27&&Rl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(mu(e,t,n),e=e.sibling;e!==null;)mu(e,t,n),e=e.sibling}function Xr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Rl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Xr(e,t,n),e=e.sibling;e!==null;)Xr(e,t,n),e=e.sibling}function nf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ot(t,l,n),t[Nt]=e,t[Yt]=n}catch(s){rt(e,e.return,s)}}var fl=!1,zt=!1,bu=!1,lf=typeof WeakSet=="function"?WeakSet:Set,Et=null;function o2(e,t){if(e=e.containerInfo,ku=d0,e=hs(e),xc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var S=0,L=-1,Z=-1,te=0,ie=0,ce=e,ne=null;t:for(;;){for(var le;ce!==n||u!==0&&ce.nodeType!==3||(L=S+u),ce!==s||l!==0&&ce.nodeType!==3||(Z=S+l),ce.nodeType===3&&(S+=ce.nodeValue.length),(le=ce.firstChild)!==null;)ne=ce,ce=le;for(;;){if(ce===e)break t;if(ne===n&&++te===u&&(L=S),ne===s&&++ie===l&&(Z=S),(le=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=le}n=L===-1||Z===-1?null:{start:L,end:Z}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ru={focusedElem:e,selectionRange:n},d0=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,u=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var me=xa(n.type,u);e=l.getSnapshotBeforeUpdate(me,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(we){rt(n,n.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function af(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:hl(e,n),l&4&&Bi(5,n);break;case 1:if(hl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(S){rt(n,n.return,S)}else{var u=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){rt(n,n.return,S)}}l&64&&Fo(n),l&512&&qi(n,n.return);break;case 3:if(hl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Hs(e,t)}catch(S){rt(n,n.return,S)}}break;case 27:t===null&&l&4&&nf(n);case 26:case 5:hl(e,n),t===null&&l&4&&ef(n),l&512&&qi(n,n.return);break;case 12:hl(e,n);break;case 31:hl(e,n),l&4&&uf(e,n);break;case 13:hl(e,n),l&4&&xf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=p2.bind(null,n),I2(e,n))));break;case 22:if(l=n.memoizedState!==null||fl,!l){t=t!==null&&t.memoizedState!==null||zt,u=fl;var s=zt;fl=l,(zt=t)&&!s?ml(e,n,(n.subtreeFlags&8772)!==0):hl(e,n),fl=u,zt=s}break;case 30:break;default:hl(e,n)}}function rf(e){var t=e.alternate;t!==null&&(e.alternate=null,rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,Pt=!1;function dl(e,t,n){for(n=n.child;n!==null;)cf(e,t,n),n=n.sibling}function cf(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 26:zt||Wn(n,t),dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||Wn(n,t);var l=bt,u=Pt;Rl(n.type)&&(bt=n.stateNode,Pt=!1),dl(e,t,n),Zi(n.stateNode),bt=l,Pt=u;break;case 5:zt||Wn(n,t);case 6:if(l=bt,u=Pt,bt=null,dl(e,t,n),bt=l,Pt=u,bt!==null)if(Pt)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(n.stateNode)}catch(s){rt(n,t,s)}else try{bt.removeChild(n.stateNode)}catch(s){rt(n,t,s)}break;case 18:bt!==null&&(Pt?(e=bt,$f(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):$f(bt,n.stateNode));break;case 4:l=bt,u=Pt,bt=n.stateNode.containerInfo,Pt=!0,dl(e,t,n),bt=l,Pt=u;break;case 0:case 11:case 14:case 15:Ll(2,n,t),zt||Ll(4,n,t),dl(e,t,n);break;case 1:zt||(Wn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&$o(n,t,l)),dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:zt=(l=zt)||n.memoizedState!==null,dl(e,t,n),zt=l;break;default:dl(e,t,n)}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){rt(t,t.return,n)}}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){rt(t,t.return,n)}}function f2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lf),t;default:throw Error(r(435,e.tag))}}function Wr(e,t){var n=f2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=_2.bind(null,e,l);l.then(u,u)}})}function Ft(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],s=e,S=t,L=S;e:for(;L!==null;){switch(L.tag){case 27:if(Rl(L.type)){bt=L.stateNode,Pt=!1;break e}break;case 5:bt=L.stateNode,Pt=!1;break e;case 3:case 4:bt=L.stateNode.containerInfo,Pt=!0;break e}L=L.return}if(bt===null)throw Error(r(160));cf(s,S,u),bt=null,Pt=!1,s=u.alternate,s!==null&&(s.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sf(t,e),t=t.sibling}var In=null;function sf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ft(t,e),$t(e),l&4&&(Ll(3,e,e.return),Bi(3,e),Ll(5,e,e.return));break;case 1:Ft(t,e),$t(e),l&512&&(zt||n===null||Wn(n,n.return)),l&64&&fl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=In;if(Ft(t,e),$t(e),l&512&&(zt||n===null||Wn(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":s=u.getElementsByTagName("title")[0],(!s||s[rn]||s[Nt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=u.createElement(l),u.head.insertBefore(s,u.querySelector("head > title"))),Ot(s,l,n),s[Nt]=e,Lt(s),l=s;break e;case"link":var S=sd("link","href",u).get(l+(n.href||""));if(S){for(var L=0;L<S.length;L++)if(s=S[L],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){S.splice(L,1);break t}}s=u.createElement(l),Ot(s,l,n),u.head.appendChild(s);break;case"meta":if(S=sd("meta","content",u).get(l+(n.content||""))){for(L=0;L<S.length;L++)if(s=S[L],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){S.splice(L,1);break t}}s=u.createElement(l),Ot(s,l,n),u.head.appendChild(s);break;default:throw Error(r(468,l))}s[Nt]=e,Lt(s),l=s}e.stateNode=l}else od(u,e.type,e.stateNode);else e.stateNode=xd(u,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?od(u,e.type,e.stateNode):xd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&du(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ft(t,e),$t(e),l&512&&(zt||n===null||Wn(n,n.return)),n!==null&&l&4&&du(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ft(t,e),$t(e),l&512&&(zt||n===null||Wn(n,n.return)),e.flags&32){u=e.stateNode;try{ja(u,"")}catch(me){rt(e,e.return,me)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,du(e,u,n!==null?n.memoizedProps:u)),l&1024&&(bu=!0);break;case 6:if(Ft(t,e),$t(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(me){rt(e,e.return,me)}}break;case 3:if(x0=null,u=In,In=c0(t.containerInfo),Ft(t,e),In=u,$t(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(me){rt(e,e.return,me)}bu&&(bu=!1,of(e));break;case 4:l=In,In=c0(e.stateNode.containerInfo),Ft(t,e),$t(e),In=l;break;case 12:Ft(t,e),$t(e);break;case 31:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 13:Ft(t,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Vr=Ve()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 22:u=e.memoizedState!==null;var Z=n!==null&&n.memoizedState!==null,te=fl,ie=zt;if(fl=te||u,zt=ie||Z,Ft(t,e),zt=ie,fl=te,$t(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||Z||fl||zt||sa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){Z=n=t;try{if(s=Z.stateNode,u)S=s.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{L=Z.stateNode;var ce=Z.memoizedProps.style,ne=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;L.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(me){rt(Z,Z.return,me)}}}else if(t.tag===6){if(n===null){Z=t;try{Z.stateNode.nodeValue=u?"":Z.memoizedProps}catch(me){rt(Z,Z.return,me)}}}else if(t.tag===18){if(n===null){Z=t;try{var le=Z.stateNode;u?ed(le,!0):ed(Z.stateNode,!1)}catch(me){rt(Z,Z.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Wr(e,n))));break;case 19:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 30:break;case 21:break;default:Ft(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(tf(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,s=hu(e);Xr(e,s,u);break;case 5:var S=n.stateNode;n.flags&32&&(ja(S,""),n.flags&=-33);var L=hu(e);Xr(e,L,S);break;case 3:case 4:var Z=n.stateNode.containerInfo,te=hu(e);mu(e,te,Z);break;default:throw Error(r(161))}}catch(ie){rt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function of(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;of(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)af(e,t.alternate,t),t=t.sibling}function sa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ll(4,t,t.return),sa(t);break;case 1:Wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&$o(t,t.return,n),sa(t);break;case 27:Zi(t.stateNode);case 26:case 5:Wn(t,t.return),sa(t);break;case 22:t.memoizedState===null&&sa(t);break;case 30:sa(t);break;default:sa(t)}e=e.sibling}}function ml(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,s=t,S=s.flags;switch(s.tag){case 0:case 11:case 15:ml(u,s,n),Bi(4,s);break;case 1:if(ml(u,s,n),l=s,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(te){rt(l,l.return,te)}if(l=s,u=l.updateQueue,u!==null){var L=l.stateNode;try{var Z=u.shared.hiddenCallbacks;if(Z!==null)for(u.shared.hiddenCallbacks=null,u=0;u<Z.length;u++)Is(Z[u],L)}catch(te){rt(l,l.return,te)}}n&&S&64&&Fo(s),qi(s,s.return);break;case 27:nf(s);case 26:case 5:ml(u,s,n),n&&l===null&&S&4&&ef(s),qi(s,s.return);break;case 12:ml(u,s,n);break;case 31:ml(u,s,n),n&&S&4&&uf(u,s);break;case 13:ml(u,s,n),n&&S&4&&xf(u,s);break;case 22:s.memoizedState===null&&ml(u,s,n),qi(s,s.return);break;case 30:break;default:ml(u,s,n)}t=t.sibling}}function vu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_i(n))}function gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e))}function Hn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ff(e,t,n,l),t=t.sibling}function ff(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Hn(e,t,n,l),u&2048&&Bi(9,t);break;case 1:Hn(e,t,n,l);break;case 3:Hn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e)));break;case 12:if(u&2048){Hn(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,S=s.id,L=s.onPostCommit;typeof L=="function"&&L(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Z){rt(t,t.return,Z)}}else Hn(e,t,n,l);break;case 31:Hn(e,t,n,l);break;case 13:Hn(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,S=t.alternate,t.memoizedState!==null?s._visibility&2?Hn(e,t,n,l):Gi(e,t):s._visibility&2?Hn(e,t,n,l):(s._visibility|=2,Ka(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&vu(S,t);break;case 24:Hn(e,t,n,l),u&2048&&gu(t.alternate,t);break;default:Hn(e,t,n,l)}}function Ka(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,S=t,L=n,Z=l,te=S.flags;switch(S.tag){case 0:case 11:case 15:Ka(s,S,L,Z,u),Bi(8,S);break;case 23:break;case 22:var ie=S.stateNode;S.memoizedState!==null?ie._visibility&2?Ka(s,S,L,Z,u):Gi(s,S):(ie._visibility|=2,Ka(s,S,L,Z,u)),u&&te&2048&&vu(S.alternate,S);break;case 24:Ka(s,S,L,Z,u),u&&te&2048&&gu(S.alternate,S);break;default:Ka(s,S,L,Z,u)}t=t.sibling}}function Gi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Gi(n,l),u&2048&&vu(l.alternate,l);break;case 24:Gi(n,l),u&2048&&gu(l.alternate,l);break;default:Gi(n,l)}t=t.sibling}}var ki=8192;function Xa(e,t,n){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)df(e,t,n),e=e.sibling}function df(e,t,n){switch(e.tag){case 26:Xa(e,t,n),e.flags&ki&&e.memoizedState!==null&&F2(n,In,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,t,n);break;case 3:case 4:var l=In;In=c0(e.stateNode.containerInfo),Xa(e,t,n),In=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ki,ki=16777216,Xa(e,t,n),ki=l):Xa(e,t,n));break;default:Xa(e,t,n)}}function hf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ri(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,bf(l,e)}hf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mf(e),e=e.sibling}function mf(e){switch(e.tag){case 0:case 11:case 15:Ri(e),e.flags&2048&&Ll(9,e,e.return);break;case 3:Ri(e);break;case 12:Ri(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Jr(e)):Ri(e);break;default:Ri(e)}}function Jr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,bf(l,e)}hf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ll(8,t,t.return),Jr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Jr(t));break;default:Jr(t)}e=e.sibling}}function bf(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:Ll(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_i(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var u=l.sibling,s=l.return;if(rf(l),l===n){Et=null;break e}if(u!==null){u.return=s,Et=u;break e}Et=s}}}var d2={getCacheForType:function(e){var t=kt(wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return kt(wt).controller.signal}},h2=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Ge=null,Oe=0,it=0,on=null,El=!1,Wa=!1,yu=!1,bl=0,yt=0,Tl=0,oa=0,pu=0,fn=0,Ja=0,Oi=null,en=null,_u=!1,Vr=0,vf=0,Qr=1/0,Pr=null,Bl=null,At=0,ql=null,Va=null,vl=0,Su=0,Cu=null,gf=null,Ii=0,wu=null;function dn(){return(et&2)!==0&&Oe!==0?Oe&-Oe:M.T!==null?Au():ya()}function yf(){if(fn===0)if((Oe&536870912)===0||Ye){var e=Ne;Ne<<=1,(Ne&3932160)===0&&(Ne=262144),fn=e}else fn=536870912;return e=xn.current,e!==null&&(e.flags|=32),fn}function tn(e,t,n){(e===ft&&(it===2||it===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Gl(e,Oe,fn,!1)),pt(e,n),((et&2)===0||e!==ft)&&(e===ft&&((et&2)===0&&(oa|=n),yt===4&&Gl(e,Oe,fn,!1)),Jn(e))}function pf(e,t,n){if((et&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||He(e,t),u=l?v2(e,t):Mu(e,t,!0),s=l;do{if(u===0){Wa&&!l&&Gl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!m2(n)){u=Mu(e,t,!1),s=!1;continue}if(u===2){if(s=t,e.errorRecoveryDisabledLanes&s)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var L=e;u=Oi;var Z=L.current.memoizedState.isDehydrated;if(Z&&(Qa(L,S).flags|=256),S=Mu(L,S,!1),S!==2){if(yu&&!Z){L.errorRecoveryDisabledLanes|=s,oa|=s,u=4;break e}s=en,en=u,s!==null&&(en===null?en=s:en.push.apply(en,s))}u=S}if(s=!1,u!==2)continue}}if(u===1){Qa(e,0),Gl(e,t,0,!0);break}e:{switch(l=e,s=u,s){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Gl(l,t,fn,!El);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Vr+300-Ve(),10<u)){if(Gl(l,t,fn,!El),Pe(l,0,!0)!==0)break e;vl=t,l.timeoutHandle=Pf(_f.bind(null,l,n,en,Pr,_u,t,fn,oa,Ja,El,s,"Throttled",-0,0),u);break e}_f(l,n,en,Pr,_u,t,fn,oa,Ja,El,s,null,-0,0)}}break}while(!0);Jn(e)}function _f(e,t,n,l,u,s,S,L,Z,te,ie,ce,ne,le){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nl},df(t,s,ce);var me=(s&62914560)===s?Vr-Ve():(s&4194048)===s?vf-Ve():0;if(me=$2(ce,me),me!==null){vl=s,e.cancelPendingCommit=me(Nf.bind(null,e,t,s,n,l,u,S,L,Z,ie,ce,null,ne,le)),Gl(e,s,S,!te);return}}Nf(e,t,s,n,l,u,S,L,Z)}function m2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],s=u.getSnapshot;u=u.value;try{if(!cn(s(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gl(e,t,n,l){t&=~pu,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var s=31-ue(u),S=1<<s;l[s]=-1,u&=~S}n!==0&&Me(e,n,t)}function Fr(){return(et&6)===0?(Hi(0),!1):!0}function ju(){if(Ge!==null){if(it===0)var e=Ge.return;else e=Ge,rl=na=null,Hc(e),Ia=null,Ci=0,e=Ge;for(;e!==null;)Po(e.alternate,e),e=e.return;Ge=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,q2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vl=0,ju(),ft=e,Ge=n=al(e.current,null),Oe=t,it=0,on=null,El=!1,Wa=He(e,t),yu=!1,Ja=fn=pu=oa=Tl=yt=0,en=Oi=null,_u=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-ue(l),s=1<<u;t|=e[u],l&=~s}return bl=t,yr(),n}function Sf(e,t){Le=null,M.H=Li,t===Oa||t===zr?(t=Gs(),it=3):t===Nc?(t=Gs(),it=4):it=t===lu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,on=t,Ge===null&&(yt=1,Hr(e,wn(t,e.current)))}function Cf(){var e=xn.current;return e===null?!0:(Oe&4194048)===Oe?Dn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?e===Dn:!1}function wf(){var e=M.H;return M.H=Li,e===null?Li:e}function jf(){var e=M.A;return M.A=d2,e}function $r(){yt=4,El||(Oe&4194048)!==Oe&&xn.current!==null||(Wa=!0),(Tl&134217727)===0&&(oa&134217727)===0||ft===null||Gl(ft,Oe,fn,!1)}function Mu(e,t,n){var l=et;et|=2;var u=wf(),s=jf();(ft!==e||Oe!==t)&&(Pr=null,Qa(e,t)),t=!1;var S=yt;e:do try{if(it!==0&&Ge!==null){var L=Ge,Z=on;switch(it){case 8:ju(),S=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(t=!0);var te=it;if(it=0,on=null,Pa(e,L,Z,te),n&&Wa){S=0;break e}break;default:te=it,it=0,on=null,Pa(e,L,Z,te)}}b2(),S=yt;break}catch(ie){Sf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,rl=na=null,et=l,M.H=u,M.A=s,Ge===null&&(ft=null,Oe=0,yr()),S}function b2(){for(;Ge!==null;)Mf(Ge)}function v2(e,t){var n=et;et|=2;var l=wf(),u=jf();ft!==e||Oe!==t?(Pr=null,Qr=Ve()+500,Qa(e,t)):Wa=He(e,t);e:do try{if(it!==0&&Ge!==null){t=Ge;var s=on;t:switch(it){case 1:it=0,on=null,Pa(e,t,s,1);break;case 2:case 9:if(Bs(s)){it=0,on=null,zf(t);break}t=function(){it!==2&&it!==9||ft!==e||(it=7),Jn(e)},s.then(t,t);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Bs(s)?(it=0,on=null,zf(t)):(it=0,on=null,Pa(e,t,s,7));break;case 5:var S=null;switch(Ge.tag){case 26:S=Ge.memoizedState;case 5:case 27:var L=Ge;if(S?fd(S):L.stateNode.complete){it=0,on=null;var Z=L.sibling;if(Z!==null)Ge=Z;else{var te=L.return;te!==null?(Ge=te,e0(te)):Ge=null}break t}}it=0,on=null,Pa(e,t,s,5);break;case 6:it=0,on=null,Pa(e,t,s,6);break;case 8:ju(),yt=6;break e;default:throw Error(r(462))}}g2();break}catch(ie){Sf(e,ie)}while(!0);return rl=na=null,M.H=l,M.A=u,et=n,Ge!==null?0:(ft=null,Oe=0,yr(),yt)}function g2(){for(;Ge!==null&&!Fn();)Mf(Ge)}function Mf(e){var t=Vo(e.alternate,e,bl);e.memoizedProps=e.pendingProps,t===null?e0(e):Ge=t}function zf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Uo(n,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Uo(n,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:Hc(t);default:Po(n,t),t=Ge=Cs(t,bl),t=Vo(n,t,bl)}e.memoizedProps=e.pendingProps,t===null?e0(e):Ge=t}function Pa(e,t,n,l){rl=na=null,Hc(t),Ia=null,Ci=0;var u=t.return;try{if(r2(e,u,t,n,Oe)){yt=1,Hr(e,wn(n,e.current)),Ge=null;return}}catch(s){if(u!==null)throw Ge=u,s;yt=1,Hr(e,wn(n,e.current)),Ge=null;return}t.flags&32768?(Ye||l===1?e=!0:Wa||(Oe&536870912)!==0?e=!1:(El=e=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Df(t,e)):e0(t)}function e0(e){var t=e;do{if((t.flags&32768)!==0){Df(t,El);return}e=t.return;var n=x2(t.alternate,t,bl);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);yt===0&&(yt=5)}function Df(e,t){do{var n=s2(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);yt=6,Ge=null}function Nf(e,t,n,l,u,s,S,L,Z){e.cancelPendingCommit=null;do t0();while(At!==0);if((et&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,s|=hc,tt(e,n,s,S,L,Z),e===ft&&(Ge=ft=null,Oe=0),Va=t,ql=e,vl=n,Su=s,Cu=u,gf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S2(kn,function(){return Bf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=E.p,E.p=2,S=et,et|=4;try{o2(e,t,n)}finally{et=S,E.p=u,M.T=l}}At=1,Af(),Lf(),Ef()}}function Af(){if(At===1){At=0;var e=ql,t=Va,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var l=E.p;E.p=2;var u=et;et|=4;try{sf(t,e);var s=Ru,S=hs(e.containerInfo),L=s.focusedElem,Z=s.selectionRange;if(S!==L&&L&&L.ownerDocument&&ds(L.ownerDocument.documentElement,L)){if(Z!==null&&xc(L)){var te=Z.start,ie=Z.end;if(ie===void 0&&(ie=te),"selectionStart"in L)L.selectionStart=te,L.selectionEnd=Math.min(ie,L.value.length);else{var ce=L.ownerDocument||document,ne=ce&&ce.defaultView||window;if(ne.getSelection){var le=ne.getSelection(),me=L.textContent.length,we=Math.min(Z.start,me),st=Z.end===void 0?we:Math.min(Z.end,me);!le.extend&&we>st&&(S=st,st=we,we=S);var F=fs(L,we),V=fs(L,st);if(F&&V&&(le.rangeCount!==1||le.anchorNode!==F.node||le.anchorOffset!==F.offset||le.focusNode!==V.node||le.focusOffset!==V.offset)){var ee=ce.createRange();ee.setStart(F.node,F.offset),le.removeAllRanges(),we>st?(le.addRange(ee),le.extend(V.node,V.offset)):(ee.setEnd(V.node,V.offset),le.addRange(ee))}}}}for(ce=[],le=L;le=le.parentNode;)le.nodeType===1&&ce.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ce.length;L++){var re=ce[L];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}d0=!!ku,Ru=ku=null}finally{et=u,E.p=l,M.T=n}}e.current=t,At=2}}function Lf(){if(At===2){At=0;var e=ql,t=Va,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var l=E.p;E.p=2;var u=et;et|=4;try{af(e,t.alternate,t)}finally{et=u,E.p=l,M.T=n}}At=3}}function Ef(){if(At===4||At===3){At=0,$n();var e=ql,t=Va,n=vl,l=gf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,Va=ql=null,Tf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Bl=null),yn(n),t=t.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,u=E.p,E.p=2,M.T=null;try{for(var s=e.onRecoverableError,S=0;S<l.length;S++){var L=l[S];s(L.value,{componentStack:L.stack})}}finally{M.T=t,E.p=u}}(vl&3)!==0&&t0(),Jn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===wu?Ii++:(Ii=0,wu=e):Ii=0,Hi(0)}}function Tf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_i(t)))}function t0(){return Af(),Lf(),Ef(),Bf()}function Bf(){if(At!==5)return!1;var e=ql,t=Su;Su=0;var n=yn(vl),l=M.T,u=E.p;try{E.p=32>n?32:n,M.T=null,n=Cu,Cu=null;var s=ql,S=vl;if(At=0,Va=ql=null,vl=0,(et&6)!==0)throw Error(r(331));var L=et;if(et|=4,mf(s.current),ff(s,s.current,S,n),et=L,Hi(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(el,s)}catch{}return!0}finally{E.p=u,M.T=l,Tf(e,t)}}function qf(e,t,n){t=wn(n,t),t=nu(e.stateNode,t,2),e=Dl(e,t,2),e!==null&&(pt(e,2),Jn(e))}function rt(e,t,n){if(e.tag===3)qf(e,e,n);else for(;t!==null;){if(t.tag===3){qf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bl===null||!Bl.has(l))){e=wn(n,e),n=qo(2),l=Dl(t,n,2),l!==null&&(Go(n,l,t,e),pt(l,2),Jn(l));break}}t=t.return}}function zu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new h2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(yu=!0,u.add(n),e=y2.bind(null,e,t,n),t.then(e,e))}function y2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ft===e&&(Oe&n)===n&&(yt===4||yt===3&&(Oe&62914560)===Oe&&300>Ve()-Vr?(et&2)===0&&Qa(e,0):pu|=n,Ja===Oe&&(Ja=0)),Jn(e)}function Gf(e,t){t===0&&(t=$e()),e=$l(e,t),e!==null&&(pt(e,t),Jn(e))}function p2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gf(e,n)}function _2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Gf(e,n)}function S2(e,t){return Wt(e,t)}var n0=null,Fa=null,Du=!1,l0=!1,Nu=!1,kl=0;function Jn(e){e!==Fa&&e.next===null&&(Fa===null?n0=Fa=e:Fa=Fa.next=e),l0=!0,Du||(Du=!0,w2())}function Hi(e,t){if(!Nu&&l0){Nu=!0;do for(var n=!1,l=n0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var s=0;else{var S=l.suspendedLanes,L=l.pingedLanes;s=(1<<31-ue(42|e)+1)-1,s&=u&~(S&~L),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,If(l,s))}else s=Oe,s=Pe(l,l===ft?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||He(l,s)||(n=!0,If(l,s));l=l.next}while(n);Nu=!1}}function C2(){kf()}function kf(){l0=Du=!1;var e=0;kl!==0&&B2()&&(e=kl);for(var t=Ve(),n=null,l=n0;l!==null;){var u=l.next,s=Rf(l,t);s===0?(l.next=null,n===null?n0=u:n.next=u,u===null&&(Fa=n)):(n=l,(e!==0||(s&3)!==0)&&(l0=!0)),l=u}At!==0&&At!==5||Hi(e),kl!==0&&(kl=0)}function Rf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var S=31-ue(s),L=1<<S,Z=u[S];Z===-1?((L&n)===0||(L&l)!==0)&&(u[S]=Fe(L,t)):Z<=t&&(e.expiredLanes|=L),s&=~L}if(t=ft,n=Oe,n=Pe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(it===2||it===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&vn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||He(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&vn(l),yn(n)){case 2:case 8:n=Xl;break;case 32:n=kn;break;case 268435456:n=Rn;break;default:n=kn}return l=Of.bind(null,e),n=Wt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&vn(l),e.callbackPriority=2,e.callbackNode=null,2}function Of(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(t0()&&e.callbackNode!==n)return null;var l=Oe;return l=Pe(e,e===ft?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(pf(e,l,t),Rf(e,Ve()),e.callbackNode!=null&&e.callbackNode===n?Of.bind(null,e):null)}function If(e,t){if(t0())return null;pf(e,t,!0)}function w2(){G2(function(){(et&6)!==0?Wt(pl,C2):kf()})}function Au(){if(kl===0){var e=ka;e===0&&(e=ye,ye<<=1,(ye&261888)===0&&(ye=256)),kl=e}return kl}function Hf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:or(""+e)}function Yf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function j2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var s=Hf((u[Yt]||null).action),S=l.submitter;S&&(t=(t=S[Yt]||null)?Hf(t.formAction):S.getAttribute("formAction"),t!==null&&(s=t,S=null));var L=new mr("action","action",null,l,u);e.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(kl!==0){var Z=S?Yf(u,S):new FormData(u);Qc(n,{pending:!0,data:Z,method:u.method,action:s},null,Z)}}else typeof s=="function"&&(L.preventDefault(),Z=S?Yf(u,S):new FormData(u),Qc(n,{pending:!0,data:Z,method:u.method,action:s},s,Z))},currentTarget:u}]})}}for(var Lu=0;Lu<dc.length;Lu++){var Eu=dc[Lu],M2=Eu.toLowerCase(),z2=Eu[0].toUpperCase()+Eu.slice(1);On(M2,"on"+z2)}On(vs,"onAnimationEnd"),On(gs,"onAnimationIteration"),On(ys,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(U1,"onTransitionRun"),On(Z1,"onTransitionStart"),On(K1,"onTransitionCancel"),On(ps,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function Uf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var S=l.length-1;0<=S;S--){var L=l[S],Z=L.instance,te=L.currentTarget;if(L=L.listener,Z!==s&&u.isPropagationStopped())break e;s=L,u.currentTarget=te;try{s(u)}catch(ie){gr(ie)}u.currentTarget=null,s=Z}else for(S=0;S<l.length;S++){if(L=l[S],Z=L.instance,te=L.currentTarget,L=L.listener,Z!==s&&u.isPropagationStopped())break e;s=L,u.currentTarget=te;try{s(u)}catch(ie){gr(ie)}u.currentTarget=null,s=Z}}}}function ke(e,t){var n=t[pe];n===void 0&&(n=t[pe]=new Set);var l=e+"__bubble";n.has(l)||(Zf(t,e,2,!1),n.add(l))}function Tu(e,t,n){var l=0;t&&(l|=4),Zf(n,e,l,t)}var a0="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[a0]){e[a0]=!0,qx.forEach(function(n){n!=="selectionchange"&&(D2.has(n)||Tu(n,!1,e),Tu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[a0]||(t[a0]=!0,Tu("selectionchange",!1,t))}}function Zf(e,t,n,l){switch(yd(t)){case 2:var u=nh;break;case 8:u=lh;break;default:u=Vu}n=u.bind(null,t,n,e),u=void 0,!ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function qu(e,t,n,l,u){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var L=l.stateNode.containerInfo;if(L===u)break;if(S===4)for(S=l.return;S!==null;){var Z=S.tag;if((Z===3||Z===4)&&S.stateNode.containerInfo===u)return;S=S.return}for(;L!==null;){if(S=pa(L),S===null)return;if(Z=S.tag,Z===5||Z===6||Z===26||Z===27){l=s=S;continue e}L=L.parentNode}}l=l.return}Wx(function(){var te=s,ie=F0(n),ce=[];e:{var ne=_s.get(e);if(ne!==void 0){var le=mr,me=e;switch(e){case"keypress":if(dr(n)===0)break e;case"keydown":case"keyup":le=_1;break;case"focusin":me="focus",le=ac;break;case"focusout":me="blur",le=ac;break;case"beforeblur":case"afterblur":le=ac;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=x1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=w1;break;case vs:case gs:case ys:le=f1;break;case ps:le=M1;break;case"scroll":case"scrollend":le=c1;break;case"wheel":le=D1;break;case"copy":case"cut":case"paste":le=h1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Fx;break;case"toggle":case"beforetoggle":le=A1}var we=(t&4)!==0,st=!we&&(e==="scroll"||e==="scrollend"),F=we?ne!==null?ne+"Capture":null:ne;we=[];for(var V=te,ee;V!==null;){var re=V;if(ee=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||ee===null||F===null||(re=si(V,F),re!=null&&we.push(Ui(V,re,ee))),st)break;V=V.return}0<we.length&&(ne=new le(ne,me,null,n,ie),ce.push({event:ne,listeners:we}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",ne&&n!==P0&&(me=n.relatedTarget||n.fromElement)&&(pa(me)||me[he]))break e;if((le||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,le?(me=n.relatedTarget||n.toElement,le=te,me=me?pa(me):null,me!==null&&(st=f(me),we=me.tag,me!==st||we!==5&&we!==27&&we!==6)&&(me=null)):(le=null,me=te),le!==me)){if(we=Qx,re="onMouseLeave",F="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(we=Fx,re="onPointerLeave",F="onPointerEnter",V="pointer"),st=le==null?ne:xi(le),ee=me==null?ne:xi(me),ne=new we(re,V+"leave",le,n,ie),ne.target=st,ne.relatedTarget=ee,re=null,pa(ie)===te&&(we=new we(F,V+"enter",me,n,ie),we.target=ee,we.relatedTarget=st,re=we),st=re,le&&me)t:{for(we=N2,F=le,V=me,ee=0,re=F;re;re=we(re))ee++;re=0;for(var _e=V;_e;_e=we(_e))re++;for(;0<ee-re;)F=we(F),ee--;for(;0<re-ee;)V=we(V),re--;for(;ee--;){if(F===V||V!==null&&F===V.alternate){we=F;break t}F=we(F),V=we(V)}we=null}else we=null;le!==null&&Kf(ce,ne,le,we,!1),me!==null&&st!==null&&Kf(ce,st,me,we,!0)}}e:{if(ne=te?xi(te):window,le=ne.nodeName&&ne.nodeName.toLowerCase(),le==="select"||le==="input"&&ne.type==="file")var Xe=rs;else if(as(ne))if(cs)Xe=I1;else{Xe=R1;var ve=k1}else le=ne.nodeName,!le||le.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Q0(te.elementType)&&(Xe=rs):Xe=O1;if(Xe&&(Xe=Xe(e,te))){is(ce,Xe,n,ie);break e}ve&&ve(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&V0(ne,"number",ne.value)}switch(ve=te?xi(te):window,e){case"focusin":(as(ve)||ve.contentEditable==="true")&&(Na=ve,sc=te,gi=null);break;case"focusout":gi=sc=Na=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,ms(ce,n,ie);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":ms(ce,n,ie)}var Ee;if(rc)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Da?ns(e,n)&&(Ie="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ie="onCompositionStart");Ie&&($x&&n.locale!=="ko"&&(Da||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Da&&(Ee=Jx()):(_l=ie,tc="value"in _l?_l.value:_l.textContent,Da=!0)),ve=i0(te,Ie),0<ve.length&&(Ie=new Px(Ie,e,null,n,ie),ce.push({event:Ie,listeners:ve}),Ee?Ie.data=Ee:(Ee=ls(n),Ee!==null&&(Ie.data=Ee)))),(Ee=E1?T1(e,n):B1(e,n))&&(Ie=i0(te,"onBeforeInput"),0<Ie.length&&(ve=new Px("onBeforeInput","beforeinput",null,n,ie),ce.push({event:ve,listeners:Ie}),ve.data=Ee)),j2(ce,e,te,n,ie)}Uf(ce,t)})}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function i0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,s=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||s===null||(u=si(e,n),u!=null&&l.unshift(Ui(e,u,s)),u=si(e,t),u!=null&&l.push(Ui(e,u,s))),e.tag===3)return l;e=e.return}return[]}function N2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kf(e,t,n,l,u){for(var s=t._reactName,S=[];n!==null&&n!==l;){var L=n,Z=L.alternate,te=L.stateNode;if(L=L.tag,Z!==null&&Z===l)break;L!==5&&L!==26&&L!==27||te===null||(Z=te,u?(te=si(n,s),te!=null&&S.unshift(Ui(n,te,Z))):u||(te=si(n,s),te!=null&&S.push(Ui(n,te,Z)))),n=n.return}S.length!==0&&e.push({event:t,listeners:S})}var A2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function Xf(e){return(typeof e=="string"?e:""+e).replace(A2,`
`).replace(L2,"")}function Wf(e,t){return t=Xf(t),Xf(e)===t}function xt(e,t,n,l,u,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ja(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ja(e,""+l);break;case"className":xr(e,"class",l);break;case"tabIndex":xr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(e,n,l);break;case"style":Kx(e,l,s);break;case"data":if(t!=="object"){xr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&xt(e,t,"name",u.name,u,null),xt(e,t,"formEncType",u.formEncType,u,null),xt(e,t,"formMethod",u.formMethod,u,null),xt(e,t,"formTarget",u.formTarget,u,null)):(xt(e,t,"encType",u.encType,u,null),xt(e,t,"method",u.method,u,null),xt(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=nl);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=or(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":ke("beforetoggle",e),ke("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":tl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=i1.get(n)||n,ur(e,n,l))}}function Gu(e,t,n,l,u,s){switch(n){case"style":Kx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?ja(e,l):(typeof l=="number"||typeof l=="bigint")&&ja(e,""+l);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),s=e[Yt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,u),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ur(e,n,l)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var l=!1,u=!1,s;for(s in n)if(n.hasOwnProperty(s)){var S=n[s];if(S!=null)switch(s){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:xt(e,t,s,S,n,null)}}u&&xt(e,t,"srcSet",n.srcSet,n,null),l&&xt(e,t,"src",n.src,n,null);return;case"input":ke("invalid",e);var L=s=S=u=null,Z=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":u=ie;break;case"type":S=ie;break;case"checked":Z=ie;break;case"defaultChecked":te=ie;break;case"value":s=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,t));break;default:xt(e,t,l,ie,n,null)}}Hx(e,s,L,Z,te,S,u,!1);return;case"select":ke("invalid",e),l=S=s=null;for(u in n)if(n.hasOwnProperty(u)&&(L=n[u],L!=null))switch(u){case"value":s=L;break;case"defaultValue":S=L;break;case"multiple":l=L;default:xt(e,t,u,L,n,null)}t=s,n=S,e.multiple=!!l,t!=null?wa(e,!!l,t,!1):n!=null&&wa(e,!!l,n,!0);return;case"textarea":ke("invalid",e),s=u=l=null;for(S in n)if(n.hasOwnProperty(S)&&(L=n[S],L!=null))switch(S){case"value":l=L;break;case"defaultValue":u=L;break;case"children":s=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:xt(e,t,S,L,n,null)}Ux(e,l,u,s);return;case"option":for(Z in n)n.hasOwnProperty(Z)&&(l=n[Z],l!=null)&&(Z==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":xt(e,t,Z,l,n,null));return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(l=0;l<Yi.length;l++)ke(Yi[l],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:xt(e,t,te,l,n,null)}return;default:if(Q0(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Gu(e,t,ie,l,n,void 0));return}}for(L in n)n.hasOwnProperty(L)&&(l=n[L],l!=null&&xt(e,t,L,l,n,null))}function E2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,s=null,S=null,L=null,Z=null,te=null,ie=null;for(le in n){var ce=n[le];if(n.hasOwnProperty(le)&&ce!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":Z=ce;default:l.hasOwnProperty(le)||xt(e,t,le,null,l,ce)}}for(var ne in l){var le=l[ne];if(ce=n[ne],l.hasOwnProperty(ne)&&(le!=null||ce!=null))switch(ne){case"type":s=le;break;case"name":u=le;break;case"checked":te=le;break;case"defaultChecked":ie=le;break;case"value":S=le;break;case"defaultValue":L=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,t));break;default:le!==ce&&xt(e,t,ne,le,l,ce)}}J0(e,S,L,Z,te,ie,s,u);return;case"select":le=S=L=ne=null;for(s in n)if(Z=n[s],n.hasOwnProperty(s)&&Z!=null)switch(s){case"value":break;case"multiple":le=Z;default:l.hasOwnProperty(s)||xt(e,t,s,null,l,Z)}for(u in l)if(s=l[u],Z=n[u],l.hasOwnProperty(u)&&(s!=null||Z!=null))switch(u){case"value":ne=s;break;case"defaultValue":L=s;break;case"multiple":S=s;default:s!==Z&&xt(e,t,u,s,l,Z)}t=L,n=S,l=le,ne!=null?wa(e,!!n,ne,!1):!!l!=!!n&&(t!=null?wa(e,!!n,t,!0):wa(e,!!n,n?[]:"",!1));return;case"textarea":le=ne=null;for(L in n)if(u=n[L],n.hasOwnProperty(L)&&u!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:xt(e,t,L,null,l,u)}for(S in l)if(u=l[S],s=n[S],l.hasOwnProperty(S)&&(u!=null||s!=null))switch(S){case"value":ne=u;break;case"defaultValue":le=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==s&&xt(e,t,S,u,l,s)}Yx(e,ne,le);return;case"option":for(var me in n)ne=n[me],n.hasOwnProperty(me)&&ne!=null&&!l.hasOwnProperty(me)&&(me==="selected"?e.selected=!1:xt(e,t,me,null,l,ne));for(Z in l)ne=l[Z],le=n[Z],l.hasOwnProperty(Z)&&ne!==le&&(ne!=null||le!=null)&&(Z==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":xt(e,t,Z,ne,l,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in n)ne=n[we],n.hasOwnProperty(we)&&ne!=null&&!l.hasOwnProperty(we)&&xt(e,t,we,null,l,ne);for(te in l)if(ne=l[te],le=n[te],l.hasOwnProperty(te)&&ne!==le&&(ne!=null||le!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,t));break;default:xt(e,t,te,ne,l,le)}return;default:if(Q0(t)){for(var st in n)ne=n[st],n.hasOwnProperty(st)&&ne!==void 0&&!l.hasOwnProperty(st)&&Gu(e,t,st,void 0,l,ne);for(ie in l)ne=l[ie],le=n[ie],!l.hasOwnProperty(ie)||ne===le||ne===void 0&&le===void 0||Gu(e,t,ie,ne,l,le);return}}for(var F in n)ne=n[F],n.hasOwnProperty(F)&&ne!=null&&!l.hasOwnProperty(F)&&xt(e,t,F,null,l,ne);for(ce in l)ne=l[ce],le=n[ce],!l.hasOwnProperty(ce)||ne===le||ne==null&&le==null||xt(e,t,ce,ne,l,le)}function Jf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],s=u.transferSize,S=u.initiatorType,L=u.duration;if(s&&L&&Jf(S)){for(S=0,L=u.responseEnd,l+=1;l<n.length;l++){var Z=n[l],te=Z.startTime;if(te>L)break;var ie=Z.transferSize,ce=Z.initiatorType;ie&&Jf(ce)&&(Z=Z.responseEnd,S+=ie*(Z<L?1:(L-te)/(Z-te)))}if(--l,t+=8*(s+S)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ku=null,Ru=null;function r0(e){return e.nodeType===9?e:e.ownerDocument}function Vf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iu=null;function B2(){var e=window.event;return e&&e.type==="popstate"?e===Iu?!1:(Iu=e,!0):(Iu=null,!1)}var Pf=typeof setTimeout=="function"?setTimeout:void 0,q2=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,G2=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(e){return Ff.resolve(null).then(e).catch(k2)}:Pf;function k2(e){setTimeout(function(){throw e})}function Rl(e){return e==="head"}function $f(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ni(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Zi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Zi(n);for(var s=n.firstChild;s;){var S=s.nextSibling,L=s.nodeName;s[rn]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=S}}else n==="body"&&Zi(e.ownerDocument.body);n=u}while(n);ni(t)}function ed(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Hu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hu(n),ui(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function R2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[rn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function O2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function td(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nn(e.nextSibling),e===null))return null;return e}function Yu(e){return e.data==="$?"||e.data==="$~"}function Uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function I2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zu=null;function nd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Nn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ad(e,t,n){switch(t=r0(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Zi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ui(e)}var An=new Map,id=new Set;function c0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gl=E.d;E.d={f:H2,r:Y2,D:U2,C:Z2,L:K2,m:X2,X:J2,S:W2,M:V2};function H2(){var e=gl.f(),t=Fr();return e||t}function Y2(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?_o(t):gl.r(e)}var $a=typeof document>"u"?null:document;function rd(e,t,n){var l=$a;if(l&&typeof t=="string"&&t){var u=Sn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),id.has(u)||(id.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Ot(t,"link",e),Lt(t),l.head.appendChild(t)))}}function U2(e){gl.D(e),rd("dns-prefetch",e,null)}function Z2(e,t){gl.C(e,t),rd("preconnect",e,t)}function K2(e,t,n){gl.L(e,t,n);var l=$a;if(l&&e&&t){var u='link[rel="preload"][as="'+Sn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Sn(n.imageSizes)+'"]')):u+='[href="'+Sn(e)+'"]';var s=u;switch(t){case"style":s=ei(e);break;case"script":s=ti(e)}An.has(s)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(s,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Ki(s))||t==="script"&&l.querySelector(Xi(s))||(t=l.createElement("link"),Ot(t,"link",e),Lt(t),l.head.appendChild(t)))}}function X2(e,t){gl.m(e,t);var n=$a;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(e)+'"]',s=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ti(e)}if(!An.has(s)&&(e=_({rel:"modulepreload",href:e},t),An.set(s,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xi(s)))return}l=n.createElement("link"),Ot(l,"link",e),Lt(l),n.head.appendChild(l)}}}function W2(e,t,n){gl.S(e,t,n);var l=$a;if(l&&e){var u=Sa(l).hoistableStyles,s=ei(e);t=t||"default";var S=u.get(s);if(!S){var L={loading:0,preload:null};if(S=l.querySelector(Ki(s)))L.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(s))&&Ku(e,n);var Z=S=l.createElement("link");Lt(Z),Ot(Z,"link",e),Z._p=new Promise(function(te,ie){Z.onload=te,Z.onerror=ie}),Z.addEventListener("load",function(){L.loading|=1}),Z.addEventListener("error",function(){L.loading|=2}),L.loading|=4,u0(S,t,l)}S={type:"stylesheet",instance:S,count:1,state:L},u.set(s,S)}}}function J2(e,t){gl.X(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,u=ti(e),s=l.get(u);s||(s=n.querySelector(Xi(u)),s||(e=_({src:e,async:!0},t),(t=An.get(u))&&Xu(e,t),s=n.createElement("script"),Lt(s),Ot(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function V2(e,t){gl.M(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,u=ti(e),s=l.get(u);s||(s=n.querySelector(Xi(u)),s||(e=_({src:e,async:!0,type:"module"},t),(t=An.get(u))&&Xu(e,t),s=n.createElement("script"),Lt(s),Ot(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function cd(e,t,n,l){var u=(u=xe.current)?c0(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=Sa(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var s=Sa(u).hoistableStyles,S=s.get(e);if(S||(u=u.ownerDocument||u,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,S),(s=u.querySelector(Ki(e)))&&!s._p&&(S.instance=s,S.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),s||Q2(u,e,n,S.state))),t&&l===null)throw Error(r(528,""));return S}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=Sa(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ei(e){return'href="'+Sn(e)+'"'}function Ki(e){return'link[rel="stylesheet"]['+e+"]"}function ud(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Q2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ot(t,"link",n),Lt(t),e.head.appendChild(t))}function ti(e){return'[src="'+Sn(e)+'"]'}function Xi(e){return"script[async]"+e}function xd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Sn(n.href)+'"]');if(l)return t.instance=l,Lt(l),l;var u=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Lt(l),Ot(l,"style",u),u0(l,n.precedence,e),t.instance=l;case"stylesheet":u=ei(n.href);var s=e.querySelector(Ki(u));if(s)return t.state.loading|=4,t.instance=s,Lt(s),s;l=ud(n),(u=An.get(u))&&Ku(l,u),s=(e.ownerDocument||e).createElement("link"),Lt(s);var S=s;return S._p=new Promise(function(L,Z){S.onload=L,S.onerror=Z}),Ot(s,"link",l),t.state.loading|=4,u0(s,n.precedence,e),t.instance=s;case"script":return s=ti(n.src),(u=e.querySelector(Xi(s)))?(t.instance=u,Lt(u),u):(l=n,(u=An.get(s))&&(l=_({},n),Xu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Lt(u),Ot(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,u0(l,n.precedence,e));return t.instance}function u0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,s=u,S=0;S<l.length;S++){var L=l[S];if(L.dataset.precedence===t)s=L;else if(s!==u)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var x0=null;function sd(e,t,n){if(x0===null){var l=new Map,u=x0=new Map;u.set(n,l)}else u=x0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var s=n[u];if(!(s[rn]||s[Nt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var S=s.getAttribute(t)||"";S=e+S;var L=l.get(S);L?L.push(s):l.set(S,[s])}}return l}function od(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function P2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function F2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ei(l.href),s=t.querySelector(Ki(u));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=s0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Lt(s);return}s=t.ownerDocument||t,l=ud(l),(u=An.get(u))&&Ku(l,u),s=s.createElement("link"),Lt(s);var S=s;S._p=new Promise(function(L,Z){S.onload=L,S.onerror=Z}),Ot(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=s0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Wu=0;function $2(e,t){return e.stylesheets&&e.count===0&&f0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&f0(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Wu===0&&(Wu=62500*T2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&f0(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Wu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function s0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)f0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var o0=null;function f0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,o0=new Map,t.forEach(eh,e),o0=null,s0.call(e))}function eh(e,t){if(!(t.state.loading&4)){var n=o0.get(e);if(n)var l=n.get(null);else{n=new Map,o0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<u.length;s++){var S=u[s];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(n.set(S.dataset.precedence,S),l=S)}l&&n.set(null,l)}u=t.instance,S=u.getAttribute("data-precedence"),s=n.get(S)||l,s===l&&n.set(null,u),n.set(S,u),this.count++,l=s0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),s?s.parentNode.insertBefore(u,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Wi={$$typeof:G,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function th(e,t,n,l,u,s,S,L,Z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=s,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function dd(e,t,n,l,u,s,S,L,Z,te,ie,ce){return e=new th(e,t,n,S,Z,te,ie,ce,L),t=1,s===!0&&(t|=24),s=un(3,null,null,t),e.current=s,s.stateNode=e,t=Mc(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Ac(s),e}function hd(e){return e?(e=Ea,e):Ea}function md(e,t,n,l,u,s){u=hd(u),l.context===null?l.context=u:l.pendingContext=u,l=zl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=Dl(e,l,t),n!==null&&(tn(n,e,t),ji(n,e,t))}function bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ju(e,t){bd(e,t),(e=e.alternate)&&bd(e,t)}function vd(e){if(e.tag===13||e.tag===31){var t=$l(e,67108864);t!==null&&tn(t,e,67108864),Ju(e,67108864)}}function gd(e){if(e.tag===13||e.tag===31){var t=dn();t=at(t);var n=$l(e,t);n!==null&&tn(n,e,t),Ju(e,t)}}var d0=!0;function nh(e,t,n,l){var u=M.T;M.T=null;var s=E.p;try{E.p=2,Vu(e,t,n,l)}finally{E.p=s,M.T=u}}function lh(e,t,n,l){var u=M.T;M.T=null;var s=E.p;try{E.p=8,Vu(e,t,n,l)}finally{E.p=s,M.T=u}}function Vu(e,t,n,l){if(d0){var u=Qu(l);if(u===null)qu(e,t,l,h0,n),pd(e,l);else if(ih(u,e,t,n,l))l.stopPropagation();else if(pd(e,l),t&4&&-1<ah.indexOf(e)){for(;u!==null;){var s=_a(u);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var S=ge(s.pendingLanes);if(S!==0){var L=s;for(L.pendingLanes|=2,L.entangledLanes|=2;S;){var Z=1<<31-ue(S);L.entanglements[1]|=Z,S&=~Z}Jn(s),(et&6)===0&&(Qr=Ve()+500,Hi(0))}}break;case 31:case 13:L=$l(s,2),L!==null&&tn(L,s,2),Fr(),Ju(s,2)}if(s=Qu(l),s===null&&qu(e,t,l,h0,n),s===u)break;u=s}u!==null&&l.stopPropagation()}else qu(e,t,l,null,n)}}function Qu(e){return e=F0(e),Pu(e)}var h0=null;function Pu(e){if(h0=null,e=pa(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return h0=e,null}function yd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case pl:return 2;case Xl:return 8;case kn:case ga:return 32;case Rn:return 268435456;default:return 32}default:return 32}}var Fu=!1,Ol=null,Il=null,Hl=null,Ji=new Map,Vi=new Map,Yl=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pd(e,t){switch(e){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Il=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":Ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(t.pointerId)}}function Qi(e,t,n,l,u,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[u]},t!==null&&(t=_a(t),t!==null&&vd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function ih(e,t,n,l,u){switch(t){case"focusin":return Ol=Qi(Ol,e,t,n,l,u),!0;case"dragenter":return Il=Qi(Il,e,t,n,l,u),!0;case"mouseover":return Hl=Qi(Hl,e,t,n,l,u),!0;case"pointerover":var s=u.pointerId;return Ji.set(s,Qi(Ji.get(s)||null,e,t,n,l,u)),!0;case"gotpointercapture":return s=u.pointerId,Vi.set(s,Qi(Vi.get(s)||null,e,t,n,l,u)),!0}return!1}function _d(e){var t=pa(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,Jl(e.priority,function(){gd(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,Jl(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function m0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qu(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);P0=l,n.target.dispatchEvent(l),P0=null}else return t=_a(n),t!==null&&vd(t),e.blockedOn=n,!1;t.shift()}return!0}function Sd(e,t,n){m0(e)&&n.delete(t)}function rh(){Fu=!1,Ol!==null&&m0(Ol)&&(Ol=null),Il!==null&&m0(Il)&&(Il=null),Hl!==null&&m0(Hl)&&(Hl=null),Ji.forEach(Sd),Vi.forEach(Sd)}function b0(e,t){e.blockedOn===t&&(e.blockedOn=null,Fu||(Fu=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,rh)))}var v0=null;function Cd(e){v0!==e&&(v0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){v0===e&&(v0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Pu(l||n)===null)continue;break}var s=_a(n);s!==null&&(e.splice(t,3),t-=3,Qc(s,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ni(e){function t(Z){return b0(Z,e)}Ol!==null&&b0(Ol,e),Il!==null&&b0(Il,e),Hl!==null&&b0(Hl,e),Ji.forEach(t),Vi.forEach(t);for(var n=0;n<Yl.length;n++){var l=Yl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Yl.length&&(n=Yl[0],n.blockedOn===null);)_d(n),n.blockedOn===null&&Yl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],s=n[l+1],S=u[Yt]||null;if(typeof s=="function")S||Cd(n);else if(S){var L=null;if(s&&s.hasAttribute("formAction")){if(u=s,S=s[Yt]||null)L=S.formAction;else if(Pu(u)!==null)continue}else L=S.action;typeof L=="function"?n[l+1]=L:(n.splice(l,3),l-=3),Cd(n)}}}function wd(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(S){return u=S})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function $u(e){this._internalRoot=e}g0.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=dn();md(n,l,e,t,null,null)},g0.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;md(e.current,2,null,e,null,null),Fr(),t[he]=null}};function g0(e){this._internalRoot=e}g0.prototype.unstable_scheduleHydration=function(e){if(e){var t=ya();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yl.length&&t!==0&&t<Yl[n].priority;n++);Yl.splice(n,0,e),n===0&&_d(e)}};var jd=i.version;if(jd!=="19.2.3")throw Error(r(527,jd,"19.2.3"));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var ch={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y0.isDisabled&&y0.supportsFiber)try{el=y0.inject(ch),qt=y0}catch{}}return Fi.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,l="",u=Lo,s=Eo,S=To;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError)),t=dd(e,1,!1,null,null,n,l,null,u,s,S,wd),e[he]=t.current,Bu(e),new $u(t)},Fi.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var l=!1,u="",s=Lo,S=Eo,L=To,Z=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(S=n.onCaughtError),n.onRecoverableError!==void 0&&(L=n.onRecoverableError),n.formState!==void 0&&(Z=n.formState)),t=dd(e,1,!0,t,n??null,l,u,Z,s,S,L,wd),t.context=hd(null),n=t.current,l=dn(),l=at(l),u=zl(l),u.callback=null,Dl(n,u,l),n=l,t.current.lanes=n,pt(t,n),Jn(t),e[he]=t.current,Bu(e),new g0(t)},Fi.version="19.2.3",Fi}var qd;function vh(){if(qd)return nx.exports;qd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),nx.exports=bh(),nx.exports}var gh=vh();const va=Ln;function Ln(c,i){c=c-225;const a=w0();let r=a[c];if(Ln.TMChsI===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Ln.wwVYnp=o,Ln.aFGzcA={},Ln.TMChsI=!0}const f=a[0],m=c+f,y=Ln.aFGzcA[m];if(y)r=y;else{const h=function(d){this.JjFUmm=d,this.oUJItW=[1,0,0],this.VHRpBF=function(){return"newState"},this.XfIlPS="\\w+ *\\(\\) *{\\w+ *",this.InIjpa=`['|"].+['|"];? *}`};h.prototype.pbAObh=function(){const d=new RegExp(this.XfIlPS+this.InIjpa),p=d.test(this.VHRpBF.toString())?--this.oUJItW[1]:--this.oUJItW[0];return this.WiiMDx(p)},h.prototype.WiiMDx=function(d){return~d?this.dXBRJx(this.JjFUmm):d},h.prototype.dXBRJx=function(d){for(let p=0,_=this.oUJItW.length;p<_;p++)this.oUJItW.push(Math.round(Math.random())),_=this.oUJItW.length;return d(this.oUJItW[0])},new h(Ln).pbAObh(),r=Ln.wwVYnp(r),Ln.aFGzcA[m]=r}return r}(function(c,i){const a=Ln,r=c();for(;;)try{if(parseInt(a(227))/1*(parseInt(a(245))/2)+parseInt(a(251))/3*(-parseInt(a(225))/4)+-parseInt(a(238))/5+parseInt(a(244))/6+-parseInt(a(252))/7*(-parseInt(a(239))/8)+-parseInt(a(234))/9*(-parseInt(a(231))/10)+-parseInt(a(242))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(w0,397075);const yh=(function(){let c=!0;return function(i,a){const r=c?function(){const o=Ln;if(a){const f=a[o(249)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),ux=yh(void 0,function(){const c=Ln;return ux.toString()[c(243)](c(226))[c(230)]()[c(240)](ux)[c(243)]("(((.+)+)+)+$")});ux();const C0=()=>new Date()[va(235)](),It=c=>c+"_"+Math.random().toString(36).slice(2,10),je=(c,i,a)=>Math.max(i,Math.min(a,c)),Zl=c=>c==null?c:JSON.parse(JSON.stringify(c));function w0(){const c=["C2vHCMnO","otyWndG2wvjnseLq","mJKYotu0BLnAv1vi","Cg9ZAxrPB24","CMvKDwnL","BgvUz3rO","yxbWBhK","uu54zfe","mJrcyMLeAKe","ndLks3LLuxi","nJu0mZjZDunfrNm","kcGOlISPkYKRksSK","nfPJvNPfDW","BgvHzKLKCW","EKnfzLm","Dg9tDhjPBMC","mZy2otCWs3rItg5y","zMLUza","zMXVB3i","ndvprgPhr1G","Dg9ju09tDhjPBMC","zMXVD2vYswrZ","BgvHzKDYB3vWCW","nZe4odqWuwH2AKXb","mZCWnti4CvjAzeLL","y29UC3rYDwn0B3i","BwfW","nJqWmtC2oufcqNjryW"];return w0=function(){return c},w0()}const er=c=>Math[va(233)](c*.7/5)*5;function ma(c,i){const a=va;return c.groups?c.groups.find(r=>r[a(236)].includes(i))??null:null}function ph(c,i){const a=va,r=ma(c,i);return r?r[a(236)]:[i]}function K0(c,i){const a=va;return c.leafGroups?c.leafGroups[a(232)](r=>r.leafIds.includes(i))??null:null}function _h(c,i){const a=va,r={zCEfS:function(h,d){return h/d},YKFyT:function(h,d){return h/d}},o=(c[a(237)]??[]).find(h=>h.id===i);if(!o||o.leafIds.length===0)return{x:0,y:0};const f=o.leafIds[a(241)](h=>(c.leaves??[]).find(d=>d.id===h)).filter(h=>!!h);if(f[a(248)]===0)return{x:0,y:0};const m=f[a(247)]((h,d)=>h+d[a(246)].x,0),y=f.reduce((h,d)=>h+d[a(246)].y,0);return{x:r[a(229)](m,f.length),y:r.YKFyT(y,f[a(248)])}}function Sh(c,i){const a=va,r={QNxdQ:function(f,m,y){return f(m,y)}},o=r[a(250)](K0,c,i);return o?o[a(228)]:[i]}const j0=nn;(function(c,i){const a=nn,r=c();for(;;)try{if(-parseInt(a(358))/1+parseInt(a(334))/2*(-parseInt(a(385))/3)+parseInt(a(326))/4*(parseInt(a(337))/5)+parseInt(a(350))/6+-parseInt(a(382))/7+parseInt(a(367))/8+parseInt(a(381))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(M0,802823);const Ch=(function(){let c=!0;return function(i,a){const r=c?function(){const o=nn;if(a){const f=a[o(339)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),xx=Ch(void 0,function(){const c=nn,i={QCfCW:"(((.+)+)+)+$"};return xx[c(348)]()[c(341)](i.QCfCW).toString().constructor(xx)[c(341)](c(366))});xx();const ii=2/3,Gd=.6,wh=.25,jh=.75;function Kl(c,i,a){const r=nn,o={hHTcB:"gradual",dZiIc:function(G,B){return G/B},kHdDA:function(G,B){return G*B},yfQuB:function(G,B){return G/B},blVxe:function(G,B){return G<=B},hScOa:function(G,B){return G<=B},EFJmX:"uniform",ZTipT:function(G,B){return G-B},UbLAJ:function(G,B){return G===B},uDqSY:function(G,B){return G+B},DuglL:function(G,B){return G*B},YLwkR:function(G,B){return G===B},rbCLU:function(G,B){return G!==B},vZUPS:r(331),EXaWD:function(G,B){return G/B},kOuVY:function(G,B){return G<B},ARbhh:r(374),RnTaS:r(333),cIKjS:function(G,B){return G===B},SiuEM:function(G,B){return G/B},UxcDn:function(G,B){return G+B},ccwkf:function(G,B){return G*B}},f=o.yfQuB(c,2),m=i*Math.SQRT2/2;if(o.blVxe(m,0)||o.hScOa(f,0))return{diameter:c,layerCount:1};const y=a?.sizeMode??o.EFJmX,h=a?.[r(344)]??0,d=o[r(327)](m,o[r(359)](1,ii)),p=o.yfQuB(Math.PI*f,2),_=a?.[r(340)]??Math.max(1,Math[r(379)](p/d)),A=o.UbLAJ(y,"gradual")?i+o[r(327)](o[r(359)](_,1),h):i,b=o[r(375)](A*Math[r(321)],2),N=o.uDqSY(o.kHdDA(m,wh),o.DuglL(b,jh));if(o.YLwkR(_,1))if(o[r(368)]("roIdl",o.vZUPS)){const G=Math[r(332)](o.EXaWD(Math.PI,2),o[r(375)](o[r(327)](b,ii),f)),B=o[r(365)](f,Math.sin(G)),O=o.kHdDA(b*Gd,Math.sin(G));return{diameter:Math.round(Math[r(352)](c,2*(B+O))),layerCount:_}}else{const G=_0x253d0c===o.hHTcB?_0x5ddacb+_0x437ac6*_0x501015:_0x16c179;_0x598338[r(378)](o[r(375)](o[r(327)](G,_0x47e43b.SQRT2),2))}let j=o.DuglL(m,ii)/f;for(let G=1;o.kOuVY(G,_);G++)if(o[r(320)]!==o.RnTaS){const B=o[r(345)](y,r(377))?i+G*h:i,O=o[r(353)](o.kHdDA(B,Math.SQRT2),2);j+=O*o[r(359)](1,ii)/f}else _0x490e54=_0x26dcfd;j=Math.min(j,o[r(353)](Math.PI,2));const w=o.UxcDn(f,o[r(355)](N,Gd))*Math.sin(j),T=Math[r(352)](0,w-f);return{diameter:Math.round(c+o.kHdDA(2,T)),layerCount:_}}function lr(c,i,a="uniform",r=0){const o=nn,f={VWjVK:"(((.+)+)+)+$",pPlpE:function(h,d){return h<=d},Gzyxp:function(h,d){return h+d},IdUnM:function(h,d){return h/d},DMdNG:function(h,d){return h<d},MRjUV:function(h,d){return h===d},NxvGg:o(369),ixzlQ:o(356),PXlwB:function(h,d){return h/d},Rgkuo:function(h,d){return h*d}};if(f.pPlpE(i,0)||c<=0)return 0;const m=[];for(let h=0;h<i;h++){const d=a==="gradual"?f.Gzyxp(c,h*r):c;m.push(f.IdUnM(d*Math[o(321)],2))}let y=m[0];for(let h=1;f.DMdNG(h,i);h++){if(f.MRjUV(f[o(325)],f[o(373)]))return _0x56858a.toString().search("(((.+)+)+)+$").toString()[o(330)](_0x54263c)[o(341)](FIloWK.VWjVK);y+=f.PXlwB(m[h],3)}return Math.round(f[o(349)](y,2))}function M0(){const c=["C2vHCMnO","BuzPDKC","AKzMrfa","C2L6zvn0zxbnBq","y0LlALm","D1L6DKO","zxz2qu0","Dg9tDhjPBMC","uMDRDw8","odeYntGZmfDUBgfeua","vNjxrfy","Bwf4","u2L1ru0","t0fnAu8","y2n3A2y","ALnkzwK","C2L6zu1Vzgu","mteYody1m0frtNfNEG","wLrPCfq","uwPkvLq","B29eA04","tuLWzfm","tNzVsui","vvHdEwK","rhvNBeW","kcGOlISPkYKRksSK","oteYmZGWmhjzt3f6CG","CMjdtfu","vMHmD0u","qNH3DLm","tgz1D3u","thblvwK","AxH6Bfe","q1f4v3O","zfPPswm","EK9XzuW","z3jHzhvHBa","ChvZAa","CM91BMq","sMz6sKq","ndi3nJCXmgjjsNPktq","nZm1nZKWm215Ce9mCq","AMDhtxK","q2HTz3G","mtq3DNzksMfh","qvjIAgG","u1fsvdi","tgDAq1a","qwPUr3y","zu54u0e","tNH2r2C","odu2sunwufbQ","A0HKree","Dw5PzM9YBq","y2jcDKm","y29UC3rYDwn0B3i","wgT0qKG","BwLU","CvDZANa","mJiWndziC3LPwhK","wK5XDxm","uvDLBu8","mti5mtvLtKz0Dw8","thvpq3O","yxbWBhK","Bgf5zxjdB3vUDa"];return M0=function(){return c},M0()}function nn(c,i){c=c-320;const a=M0();let r=a[c];if(nn.nuZdtf===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};nn.XuQUMV=o,nn.xfzltm={},nn.nuZdtf=!0}const f=a[0],m=c+f,y=nn.xfzltm[m];if(y)r=y;else{const h=function(d){this.aMndRz=d,this.HHEqGB=[1,0,0],this.vJGiKW=function(){return"newState"},this.tznAyE="\\w+ *\\(\\) *{\\w+ *",this.KpaErh=`['|"].+['|"];? *}`};h.prototype.KdnESk=function(){const d=new RegExp(this.tznAyE+this.KpaErh),p=d.test(this.vJGiKW.toString())?--this.HHEqGB[1]:--this.HHEqGB[0];return this.RvfgTo(p)},h.prototype.RvfgTo=function(d){return~d?this.xLAWFD(this.aMndRz):d},h.prototype.xLAWFD=function(d){for(let p=0,_=this.HHEqGB.length;p<_;p++)this.HHEqGB.push(Math.round(Math.random())),_=this.HHEqGB.length;return d(this.HHEqGB[0])},new h(nn).KdnESk(),r=nn.XuQUMV(r),nn.xfzltm[m]=r}return r}function Mh(c,i,a=j0(328),r=0){const o=j0,f={VrWDV:function(_,A){return _/A},QWemO:function(_,A){return _===A},wYzvJ:function(_,A){return _===A},Lfuwu:function(_,A){return _/A},flGZC:function(_,A){return _+A},Chmgx:function(_,A){return _*A},UXCyi:function(_,A){return _-A},ooDkN:function(_,A){return _+A}};if(i<=0||c<=0)return 0;const m=f[o(351)](c,2),y=Math.SQRT2/2,h=i;if(f[o(336)](a,"uniform")||f[o(346)](r,0)){const _=f.Lfuwu(y*f.flGZC(h,2),3);return Math[o(352)](1,Math[o(379)](m/_))}const d=f[o(371)](f[o(384)](r*f.UXCyi(h,1),h),6),p=f[o(364)](m/y,d)*3/f[o(361)](h,2);return Math.max(1,Math.round(p))}function zh(c,i,a){const r=j0,o={zOqeL:function(y,h){return y<=h},LuOCz:function(y,h){return y<h},QjJVT:function(y,h){return y/h},OPvzV:function(y,h,d,p){return y(h,d,p)}};if(o[r(376)](c,i))return 1;let f=1,m=80;for(let y=0;o.LuOCz(y,30);y++){const h=o[r(360)](f+m,2),{diameter:d}=o.OPvzV(Kl,i,h,a);o[r(338)](d,c)?f=h:m=h}return Math.max(1,Math[r(379)]((f+m)/2))}function Dh(c,i,a){const r=j0,o={MIpdS:function(A,b){return A<=b},yATCN:function(A,b){return A/b},ZNqus:function(A,b){return A===b},jFfDP:r(328),AjnGv:function(A,b){return A/b},LpKUi:function(A,b){return A*b},eNxSA:function(A,b){return A*b},mFivG:function(A,b){return A<=b},jgGMy:function(A,b){return A/b},NvoIB:"vmhFm",OAMiO:function(A,b){return A/b},JfzJD:function(A,b){return A*b},cbBvC:function(A,b){return A/b},XTFZI:function(A,b){return A<b},XwZuo:function(A,b){return A+b},LgZCP:function(A,b){return A*b},iBzZX:function(A,b){return A*b},IaiWL:function(A,b){return A*b},VFqQV:function(A,b){return A-b},BxwvS:function(A,b){return A>b},nUJNE:function(A,b){return A/b},evvAM:function(A,b){return A+b}},f=c/2,m=o[r(372)](i,Math.SQRT2)/2;if(m<=0||o[r(342)](f,0))return 1;const y=a?.[r(357)]??"uniform",h=a?.[r(344)]??0,d=o[r(383)](Math.PI,2);if(y===o.jFfDP||h===0)if(o[r(363)]==="vmhFm"){const A=o[r(354)](m,3),b=o[r(380)](Math.PI,f)/2;return Math[r(352)](1,Math[r(379)](o[r(329)](b,A)))}else{if(wxYUZj[r(362)](_0x1a1e84,0)||wxYUZj.MIpdS(_0x58174d,0))return 0;const A=_0x3b5a9f/2,b=wxYUZj.yATCN(_0x49c5f5.SQRT2,2),N=_0x23abcd;if(wxYUZj[r(335)](_0x517943,wxYUZj[r(343)])||_0x2c4e44===0){const T=wxYUZj[r(323)](wxYUZj[r(372)](b,N+2),3);return _0xc5c001.max(1,_0x44ab77[r(379)](A/T))}const j=wxYUZj[r(324)](wxYUZj.eNxSA(_0xb2b333,N-1),N)/6,w=wxYUZj.eNxSA(A/b-j,3)/(N+2);return _0x14632a.max(1,_0x29e640.round(w))}let p=o[r(354)](m*ii,f);if(p>=d)return 1;let _=1;for(let A=1;o.XTFZI(A,100);A++){const b=o.XwZuo(i,o[r(322)](A,h)),N=o.iBzZX(b,Math.SQRT2)/2,j=o.IaiWL(N,o.VFqQV(1,ii))/f;if(p+=j,o[r(370)](p,d+o.nUJNE(j,2)))break;_=o[r(347)](A,1)}return Math.max(1,_)}const Pn=Yn;(function(c,i){const a=Yn,r=c();for(;;)try{if(parseInt(a(404))/1*(-parseInt(a(422))/2)+parseInt(a(387))/3*(-parseInt(a(388))/4)+parseInt(a(399))/5+-parseInt(a(417))/6*(-parseInt(a(374))/7)+-parseInt(a(410))/8+-parseInt(a(408))/9+parseInt(a(372))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(z0,753489);const Nh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),sx=Nh(void 0,function(){const c=Yn,i={njwSy:"(((.+)+)+)+$"};return sx[c(414)]().search(i[c(373)]).toString()[c(376)](sx)[c(429)](c(392))});sx();const rr=.28,kd={:Pn(378),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function ox(c){const i=Pn;return{CWkNW:function(r,o){return r===o}}[i(389)](c,i(401))?kd.:kd[i(375)]}function z0(){const c=["u0XRveW","Dg9gAxHLza","Bgzlzw8","nZKXodG0oez2y0DbDG","Bwf4","mZqWmduXmKXfwM11uG","B3jKzxi","DuXcD24","AMXdDKK","Dg9tDhjPBMC","wK1Ms2W","sNDsC0W","nMvJD2Ltuq","BwLU","zMvuAwi","Cgfbufu","t1jIv3G","ndu4zNDmug51","BgvUz3rO","zMXVB3i","y29IAfC","CM91BMq","zKDysxa","zMXjwfi","C2vHCMnO","vLLMDKS","uMTjChC","uK5Jvfi","C2LU","nZu1mJKWwKzSB1PH","BMP3u3K","odeYndG3mLnQr1rSqq","5lI444gK44g+44g/","y29UC3rYDwn0B3i","ywjZ","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","5y2k44gp44gz","zMLUza","De1OBM8","q0Xnuvi","sM9bq2W","CMfKAxvZ","yuP0yxy","zwfdDLe","mZGXqw1dBMfL","odiZnMHcwwTizW","q1DRtLC","C29YDa","u1fStva","kcGOlISPkYKRksSK","ChvZAa","y29Z","uencsfq","A1bftLa","yMjLBwG","zNnVCMS","nJCXnJG5nujuCe51vG","C2nHBgu","5yMJ44gK44g+44g/","A2f4uLO","ve5Wwuu","mteZnfvcsNf6yW"];return z0=function(){return c},z0()}function ba(c){return{TNpYE:function(r,o){return r/o}}[Pn(403)](c*Math.PI,180)}const an=2.7;function Ht(c){const i={Jiwrf:function(f,m){return f/m},MOAHG:function(f,m){return f*m}},a=i.Jiwrf(c*Math.SQRT2,2),r=i.MOAHG(a,an),o=r/2;return{length:r,width:o}}function Ah(c){const i={nXhKn:function(a,r){return a/r},pxnvC:function(a,r){return a*r}};return i.nXhKn(i.pxnvC(c,an),2)}function tr(c,i,a){const r=Pn,o={fsork:function(d,p){return d*p},BOEPL:function(d,p){return d/p}},{length:f}=Ht(a),m=o.fsork(f,i),y=Math.max(0,c-o[r(398)](m,rr)),h=y+m;return o.BOEPL(h*2,an)}function Lh(c,i,a){const r=Pn,o={enYpY:function(h,d){return h(d)},SQlMP:function(h,d){return h*d},jVeKQ:function(h,d){return h*d}},{length:f}=o.enYpY(Ht,a),m=o[r(391)](f,i),y=o.jVeKQ(c,an)/2;return Math[r(409)](2,y-m*(1-rr))}function Yn(c,i){c=c-370;const a=z0();let r=a[c];if(Yn.rXkDFC===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Yn.LjHpXK=o,Yn.Ifigcd={},Yn.rXkDFC=!0}const f=a[0],m=c+f,y=Yn.Ifigcd[m];if(y)r=y;else{const h=function(d){this.zzAwqi=d,this.DGuSen=[1,0,0],this.CdpygB=function(){return"newState"},this.RmoJgx="\\w+ *\\(\\) *{\\w+ *",this.JkeFuL=`['|"].+['|"];? *}`};h.prototype.OOmcjb=function(){const d=new RegExp(this.RmoJgx+this.JkeFuL),p=d.test(this.CdpygB.toString())?--this.DGuSen[1]:--this.DGuSen[0];return this.CHwdcS(p)},h.prototype.CHwdcS=function(d){return~d?this.rsSzHS(this.zzAwqi):d},h.prototype.rsSzHS=function(d){for(let p=0,_=this.DGuSen.length;p<_;p++)this.DGuSen.push(Math.round(Math.random())),_=this.DGuSen.length;return d(this.DGuSen[0])},new h(Yn).OOmcjb(),r=Yn.LjHpXK(r),Yn.Ifigcd[m]=r}return r}function Qn(c,i,a){const r=Pn,o={PCBHT:function(p,_){return p%_},lfKeo:function(p,_){return p-_},ZnnjG:function(p,_){return p<=_},FadOA:function(p,_){return p??_},kPENP:function(p,_){return p!==_},RNcTR:"bbemh",jlCvI:function(p,_){return p%_},BgAyP:function(p,_){return p>_},EEWBE:function(p,_){return p-_},SLkTL:function(p,_){return p<_},fGXIp:function(p,_){return p/_},paAPU:function(p,_){return p*_}};if(!c||c<=0||!a||o.ZnnjG(a,0))return o.FadOA(i,0);const f=360/c,m=360/a,y=[];for(let p=0;p<c;p++)if(o[r(396)](o[r(370)],r(397))){const _=o[r(395)](o[r(395)](_0x1c4284+_0x5973d8*_0x3d11bd,360)+360,360);for(const A of _0x1a2fe9){let b=_0x1b7a64.abs(o[r(407)](_,A));b>180&&(b=360-b),b<_0xb432ce&&(_0x4868e9=b)}}else y.push((o[r(413)](i+p*f,360)+360)%360);let h=i+f/2,d=-1;for(let p=0;p<c;p++){const _=i+p*f+f/2;let A=1/0;for(let b=0;b<a;b++){const N=((_+b*m)%360+360)%360;for(const j of y){let w=Math.abs(o[r(407)](N,j));o.BgAyP(w,180)&&(w=o.EEWBE(360,w)),o[r(405)](w,A)&&(A=w)}}A>d&&(d=A,h=_)}return o[r(427)](Math[r(426)](o[r(420)](h,10)),10)}function X0(c,i,a){const r=Pn,o={cobhW:function(b,N){return b-N},DHUbN:function(b,N){return b<N},ojcAj:function(b,N){return b===N},ZMfKl:function(b,N){return b*N},ORbWx:function(b,N){return b/N},RcKVs:"mWsUH"};if(o.ojcAj(c[r(423)],0))return;const{length:f}=Ht(i),m=c[0],y=m[r(400)]??1,h=f*y,d=Math[r(409)](0,m.radius-o[r(415)](h,rr)),p=d+h;if(p<=0)return;const _=o.ORbWx(o[r(415)](a,an),2),A=o[r(421)](_,p);for(const b of c)if(o.RcKVs==="JpONp"){let N=_0x374f8d[r(377)](MRXvso[r(425)](_0x30f62a,_0x5493bb));N>180&&(N=360-N),MRXvso.DHUbN(N,_0x4aa7c6)&&(_0x28e33f=N)}else b[r(384)]=Math.max(2,Math[r(426)](o[r(415)](b[r(384)],A)*10)/10),b[r(400)]=o.ORbWx(Math.round(o.ZMfKl((b.scale??1)*A,100)),100);fx(c,i)}function fx(c,i){const a=Pn,r={feTib:function(h,d){return h===d},GdQNh:function(h,d){return h-d},KwnGr:function(h,d){return h*d}};if(r[a(419)](c.length,0))return;const o=c[r.GdQNh(c[a(423)],1)],{length:f}=Ht(i),m=f*(o.scale??1),y=Math[a(424)](r.KwnGr(m,rr)*10)/10;o.radius>y&&(o.radius=y)}function Eh(c,i,a,r){const o=Pn,f={kaxRZ:function(A,b){return A/b},CLMQR:function(A,b){return A*b},uLBwn:function(A,b){return A*b},dTstc:function(A,b){return A===b},mkXIA:function(A,b){return A<b},VYfvK:function(A,b){return A*b},JwRsL:o(379),vwsTO:function(A,b){return A===b},yZeqF:"tOKXh",DLQjE:function(A,b){return A/b},JoACl:function(A,b){return A*b},qgmim:function(A,b){return A/b},tfJaI:function(A,b){return A+b}};if(f.dTstc(c.length,0))return;const m=[...c][o(390)]((A,b)=>b[o(411)]-A.order),{length:y}=Ht(i),h=m.length,d=m[0].scale??1,p=f[o(412)](y,d);m[0].radius=Math.floor(p*rr*10)/10;for(let A=1;f.mkXIA(A,h);A++){const b=m[A-1],N=f[o(430)](y,b.scale??1);let j;if(f.dTstc(a,f[o(416)]))if(f.vwsTO("tOKXh",f.yZeqF)){const T=f[o(402)](f.VYfvK(70,Math.PI),180),k=h>1?f.uLBwn(f.DLQjE(A,h-1),T):0;j=f[o(383)](f.JoACl(N,f.qgmim(30,100)),Math.cos(k))}else{const w=360/_0x550286,T=_0x19b4b8[o(371)](_0x941e18(f.kaxRZ(w,2)))*2,k=.96,G=1.2,B=f.kaxRZ(f[o(382)](T,G),k);return f.kaxRZ(_0x79ec1[o(426)](f[o(412)](_0x2f4624.max(.3,_0x8a8059.min(3,B)),100)),100)}else j=f.qgmim(N,3);m[A][o(384)]=f[o(402)](Math.round(f.tfJaI(b.radius,j)*10),10)}const _=[...c].sort((A,b)=>A[o(411)]-b.order);X0(_,i,r);for(const A of _){const b=c[o(380)](N=>N.id===A.id);b&&(b[o(384)]=A[o(384)],b[o(400)]=A.scale)}}function ri(c){const i=Pn,a={aJtav:function(h,d){return h/d},adHYo:function(h,d){return h*d}},r=a[i(385)](360,c),o=Math.sin(ba(r/2))*2,f=.96,m=1.2,y=a.adHYo(o,m)/f;return Math.round(Math[i(409)](.3,Math[i(418)](3,y))*100)/100}(function(c,i){const a=ln,r=c();for(;;)try{if(-parseInt(a(355))/1*(-parseInt(a(354))/2)+parseInt(a(358))/3+-parseInt(a(293))/4+-parseInt(a(299))/5+parseInt(a(292))/6*(parseInt(a(304))/7)+-parseInt(a(324))/8+parseInt(a(310))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(D0,310280);const Th=(function(){let c=!0;return function(i,a){const r=c?function(){const o=ln;if(a){const f=a[o(359)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),dx=Th(void 0,function(){const c=ln,i={Tpcdc:c(356)};return dx.toString().search(i[c(295)]).toString().constructor(dx).search(i.Tpcdc)});dx();function ln(c,i){c=c-291;const a=D0();let r=a[c];if(ln.HsLuEn===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};ln.IERWXT=o,ln.XGYiEi={},ln.HsLuEn=!0}const f=a[0],m=c+f,y=ln.XGYiEi[m];if(y)r=y;else{const h=function(d){this.ANoyAU=d,this.ncLNBA=[1,0,0],this.qIEqdV=function(){return"newState"},this.XuJNJa="\\w+ *\\(\\) *{\\w+ *",this.FmfQFx=`['|"].+['|"];? *}`};h.prototype.kSyQXH=function(){const d=new RegExp(this.XuJNJa+this.FmfQFx),p=d.test(this.qIEqdV.toString())?--this.ncLNBA[1]:--this.ncLNBA[0];return this.YhVIto(p)},h.prototype.YhVIto=function(d){return~d?this.NOOtKr(this.ANoyAU):d},h.prototype.NOOtKr=function(d){for(let p=0,_=this.ncLNBA.length;p<_;p++)this.ncLNBA.push(Math.round(Math.random())),_=this.ncLNBA.length;return d(this.ncLNBA[0])},new h(ln).kSyQXH(),r=ln.IERWXT(r),ln.XGYiEi[m]=r}return r}function D0(){const c=["mZy2mtq0mfLdtKjPzW","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","B3jKzxi","5y2k44gp44gz","rMfgAhK","iZjgqKy0qq","t3v0zxi","y29Sx3b1CNbSzq","y29Sx2nVCMfS","r1n0wKm","Cgv0ywXdB3vUDa","uK1JyuG","vKjlAwq","A1HzwMm","sufquvu","t0f1wKO","y29Sx2XPz2H0yMX1zq","sfH1D1C","y29Sx2DYzwvU","CMfKAxvZ","Bgf5","B21yuxu","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","rMXVD2vYide","y0fxy04","z0jcv2W","BuvusKe","Bff5v00","wvvTBNy","y29Sx2jYB3DU","ote2mZj6y05cDgK","mLbPuePZrq","kcGOlISPkYKRksSK","C2nHBgu","nZiZnZeXDfnSBuXh","yxbWBhK","BwfW","i0yWoda4ma","sw5Uzxi","vLblAeG","yuLrzui","y29Sx3jLza","Cgv0ywXpDMvYCMLKzxm","i0q0qtG0mW","Cg5sDeW","iZjdm0u2qG","DgrJu0S","twL4suG","y29Sx2rHCMTNCMvLBG","y29Sx3LLBgXVDW","v0rmwwS","5lI444gK44g+44g/","CKvHD2S","iZmZmZmZmW","zMLUza","Bgf5zxjZ","5yMJ44gK44g+44g/","uKX4vNC","tgXJvK4","iZfbn0eZqq","ExznAxa","wg9rDgi","s05mC1i","B2zMC2v0qw5NBgu","ndjYq1D2yxC","nta1mZiWDhDAvevz","EwPTsLK","vhbJzgm","C29YDa","Cg9ZAxrPB24","zNHLsNu","ndC1ndi1sMXRCfzP","i0mWqZbdma","zMX3","i0yWoencnG","BLvtqLO","ndCZmJDuwMjYu0O","BMfTzq","twzMEMG","y29Sx2XPz2H0EwvSBg93","i0zerJvdoq","i0m4qtjena","ntq4mJyXmwT5ANLJva","v0jTDhG","i0y1rJvgnq","ChjQ","wLrRtMG","y29Sx2XHDMvUzgvY","wMrRC3y","zfrdEeu","sMnYuuO","qvLVEeC","AeLKEKm","D3DeAgm","y29Sx3bPBMS","A0roqMi"];return D0=function(){return c},D0()}function Ud(){const c=ln,i={sVngl:c(312),yvMip:c(365),KuKCK:"#E34850",lQyWM:"#E0457B",dTCxE:"#F08A3B",ZTkNh:"col_yellow",EFEwC:"#F2D04B",XoQtb:c(307),VBKid:c(342),hSRXI:c(340),XjCWs:"#7EC8E3",rEawk:"col_blue",JcrQJ:"col_navy",IDgiv:"col_gold",aIQeB:c(300),Mffzh:"col_cream",QgAvQ:"#F5E6CC",AlTSm:c(332)};return[{id:"col_white",name:"",hex:i.sVngl},{id:i[c(384)],name:"",hex:i.KuKCK},{id:c(322),name:"",hex:c(302)},{id:"col_hotpink",name:"",hex:i[c(351)]},{id:"col_orange",name:"",hex:i[c(317)]},{id:i[c(314)],name:"",hex:i.EFEwC},{id:i[c(385)],name:"",hex:c(308)},{id:i[c(336)],name:"",hex:c(329)},{id:c(372),name:"",hex:c(383)},{id:i.hSRXI,name:"",hex:i.XjCWs},{id:i[c(376)],name:"",hex:"#3B7DD8"},{id:i[c(318)],name:"",hex:c(369)},{id:c(331),name:"",hex:"#9B59B6"},{id:c(315),name:"",hex:c(309)},{id:i.IDgiv,name:"",hex:c(367)},{id:"col_silver",name:"",hex:i[c(364)]},{id:i[c(306)],name:"",hex:i.QgAvQ},{id:c(353),name:"",hex:"#8B5E3C"},{id:"col_black",name:"",hex:c(377)},{id:i.AlTSm,name:"",hex:c(361)}]}function Bh({title:c,fabricSquareSize:i,baseDiameter:a}={}){const r=ln,o={AYoxG:function(y){return y()},cAWcN:function(y){return y()},aPeWo:function(y,h){return y(h)},Qstos:r(313),jXmMn:function(y,h){return y??h}},f=o[r(319)](C0),m=o[r(348)](Ud);return ha({id:o.aPeWo(It,o.Qstos),title:c??"",unit:"mm",fabricSquareSize:o.jXmMn(i,20),baseDiameter:a??30,notes:"",createdAt:f,updatedAt:f,palette:m,flowers:[]})}function qh(c,i){const a=ln,r={Zdvgj:function(y,h){return y(h)},YUmnv:function(y,h){return y+h}},o=Zl(c);o.id=r.Zdvgj(It,"flw"),o[a(305)]=c.name+" Copy";const f=i?.x??12,m=i?.y??12;return o[a(297)]={x:(c[a(297)]?.x??0)+f,y:r[a(352)](c.position?.y??0,m)},o.layers=(o[a(379)]||[]).map(y=>({...y,id:It(a(344)),petalOverrides:y[a(366)]?y[a(366)][a(360)](h=>({...h})):void 0})),o}function N0(){const c=["Cgv0ywXuExbL","DND5Dg4","AgfZ","44or44o844oR77Yl5BQN6yEr","mJaXndCZmZzgrK5lyu8","C2nHBgu","mJm1mtq2CgfRAxbi","zMLSDgvY","nez5suXYwa","CgfSzxr0zq","vLb4B2u","BMfTzq","AxngAw5PDgu","mte2nZu3mfLKEw5hCW","Cg9ZAxrPB24","wLrhyxO","CM90yxrPB24","nwXdyvPkCa","AhbYzNO","ChvdvwO","uLPytvi","yMfJAW","BNfsCxi","y29Sx2DYzwvU","CgXHy2vTzw50tw9Kzq","Avb0ywG","CMHlzLq","y29SB3i","CLnmDgS","y2HPBgq","Aw5UzxjdB2XVCKLK","A3PzD2O","DxbKyxrLzef0","qwLYA1i","BvrJB3m","D2LKDgHty2fSzq","Aw5JBhvKzxm","ugr1zwq","AxnbCNjHEq","C2L6zq","yxbWBhK","y29Sx3DOAxrL","CfDHDhO","44oA44od44ox","sKHPCvO","r0Tfwwi","zMXVD2vYCW","5lI444gK44g+44g/","6jgj44kW44oR44o844ox","DgXjtwe","ChvZAa","Bg9JA2vK","CM91BMq","BM90zxm","A2vU","zMXVD2vYswrZ","yM9VBgvHBG","y2vUDgvY","sKvNEe4","qwHrwfK","DMvYC2LVBG","zg9vzfu","BgvUz3rO","z3jVDxbZ","EwHjEw0","whLRBuu","y3jLyxrLzef0","DhLWzq","DgL0Bgu","Dw5PDa","Bu1ksxm","otKXotyWCvzxsfbI","zMXVD2vYrgLHBwv0zxi","tfHbruu","q21WCfm","Cgv0ywXpDMvYCMLKzxm","Bxblvue","Aw5UzxjqzxrHBfr5Cgu","ntq5nteYsvLhzMfd","m1fQC2HJvW","Aw5UzxjtAxPLuMvKDwn0Aw9U","B3reExy","DMfYAwfUDa","tgvHzG","CMLNAhq","BgvHDMvZ","Be9dANi","mtrVqKT1t0K","B1HXyvi","wvbHAMK","y29SB3iY","BgvHzG","44or44o844oR","Aw5Uzxjty2fSzq","y29SB3jjza","nJmZnZe3mfb3q01cCq","x2rVDwjSzvbLDgfSq2fJAgu","ntyYmde0menPzu16ra","BKDhCvi","C3rYAw5N","AgLsuhG","yMfZzurPyw1LDgvY","BwfW","44kW44oR44o844ox","CgvWq291BNq","DMLZAwjSzq","BgvHzKLKCW","D0voruO","DunZzvC","kcGOlISPkYKRksSK","BgLUA2vKrMXVD2vYr3jVDxbjza","zg91yMXLugv0ywW","zKrOrNm","zMfICMLJu3f1yxjLu2L6zq","BgvHzKDYB3vWCW","C3rLBMnPBhm"];return N0=function(){return c},N0()}(function(c,i){const a=hn,r=c();for(;;)try{if(parseInt(a(531))/1*(-parseInt(a(533))/2)+parseInt(a(488))/3*(parseInt(a(480))/4)+-parseInt(a(542))/5*(-parseInt(a(538))/6)+-parseInt(a(496))/7*(parseInt(a(487))/8)+-parseInt(a(506))/9+-parseInt(a(504))/10+parseInt(a(529))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(N0,408314);const Gh=(function(){const c={ADUUh:""};let i=!0;return function(a,r){const o=hn,f={JHiqZ:c.ADUUh};if(o(556)==="kzYwj"){const m=i?function(){const y=o;if(r){const h=r[y(565)](a,arguments);return r=null,h}}:function(){};return i=!1,m}else _0x1865d5[o(549)]=f[o(569)]}})(),hx=Gh(void 0,function(){const c=hn;return hx.toString().search(c(518)).toString().constructor(hx).search(c(518))});hx();function hn(c,i){c=c-455;const a=N0();let r=a[c];if(hn.jTMXyP===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};hn.hgRuVV=o,hn.ZvIvgk={},hn.jTMXyP=!0}const f=a[0],m=c+f,y=hn.ZvIvgk[m];if(y)r=y;else{const h=function(d){this.iJKCVi=d,this.ezCeIZ=[1,0,0],this.TxQIoT=function(){return"newState"},this.IAxIVt="\\w+ *\\(\\) *{\\w+ *",this.twYYhp=`['|"].+['|"];? *}`};h.prototype.umFTbT=function(){const d=new RegExp(this.IAxIVt+this.twYYhp),p=d.test(this.TxQIoT.toString())?--this.ezCeIZ[1]:--this.ezCeIZ[0];return this.oPWWKe(p)},h.prototype.oPWWKe=function(d){return~d?this.FqxlxF(this.iJKCVi):d},h.prototype.FqxlxF=function(d){for(let p=0,_=this.ezCeIZ.length;p<_;p++)this.ezCeIZ.push(Math.round(Math.random())),_=this.ezCeIZ.length;return d(this.ezCeIZ[0])},new h(hn).umFTbT(),r=hn.hgRuVV(r),hn.ZvIvgk[m]=r}return r}function rx(c){const i=hn,a={fDhFs:"maru",tlIMa:function(r,o){return r===o},rZXXY:i(463),XYjJI:"",AcDlP:""};return c===a[i(521)]?i(456):a[i(458)](c,a.rZXXY)?a.XYjJI:a.tlIMa(c,a.AcDlP)||a[i(458)](c,a.XYjJI)?c:a.AcDlP}function ha(c){const i=hn,a={doUdU:function(f,m){return f(m)},otDyv:function(f,m){return f!==m},iPtah:"string",mMJIs:function(f,m){return f!=m},tirLT:function(f,m){return f(m)},nqRqr:function(f,m){return f!=m},pWatz:function(f,m,y,h){return f(m,y,h)},oXqaR:function(f,m){return f===m},uCseW:"",vwytn:function(f,m){return f(m)},aNlkr:"flw",AirkR:function(f,m){return f!==m},mTcos:"KWonQ",hKvMm:function(f,m){return f!=m},JEgxN:function(f,m){return f==m},yhIym:function(f,m){return f*m},SOKOQ:function(f,m){return f!=m},EjuZH:function(f,m){return f!=m},HLwUN:function(f,m){return f!==m},kbQoB:"CYeQh",SXYtW:function(f,m){return f<=m},RZXMR:function(f,m){return f!==m},CmppS:i(516),GKEYb:i(528),lOCjr:i(566),VPxoe:i(568),rhKfT:"UgAnm",hiRPx:function(f,m){return f!==m},Pdued:"sDpUq",JOfwL:"",JMIux:"proj",ZqSCr:"",puCUj:"hprfz",AhQXY:function(f,m){return f(m)},rSLtk:i(548),koCWP:function(f,m){return f!==m},YPaji:"boolean",XykmE:"iljXa",bqfqI:i(457),LXAEE:"adult",dVaDn:i(554),DbAjh:i(493),ZTGaz:i(546)},r=a[i(526)](Zl,c||{});Array.isArray(r[i(455)])||(r.flowers=[]);for(const f of r[i(455)]){f.id||(f.id=a.doUdU(It,a.aNlkr)),(typeof f[i(536)]!==i(508)||!f[i(536)])&&(f[i(536)]="Flower"),(!f.position||!Number[i(537)](f.position.x)||!Number.isFinite(f[i(539)].y))&&(f[i(539)]={x:260,y:260}),Array[i(563)](f.layers)||(f.layers=[]);for(const m of f.layers){if(m.id||(m.id=a[i(470)](It,"lay")),(a[i(490)](typeof m.colorId,"string")||!m[i(503)])&&(m[i(503)]=r.palette?.[0]?.id??i(566)),m[i(525)]=rx(m.petalType),m.petalCount=je(Number(m.petalCount||0),5,24),Number.isFinite(m.scale)||(m.scale=1),Number.isFinite(m.widthScale)||(m[i(560)]=1),Number.isFinite(m.radius)||(m.radius=28),Number[i(537)](m.offsetAngle)||(m.offsetAngle=0),delete m[i(505)],m.doublePetal)if(a[i(558)](typeof m[i(520)],"object")||m.doublePetal===null)delete m.doublePetal;else if(a[i(559)]==="JPeOF")(!_0xcc4a4f[i(537)](_0x32513f.baseDiameter)||_0x2b0e45.baseDiameter<=0)&&delete _0x3edde8.baseDiameter;else{if(a.hKvMm(m.doublePetal.innerScale,null)&&a[i(467)](m[i(520)][i(489)],null)){const y=f[i(522)]??r[i(522)]??20;m[i(520)][i(489)]=Math[i(461)](a[i(473)](y,1-m.doublePetal[i(502)]))}delete m.doublePetal[i(502)],Number.isFinite(m.doublePetal.innerSizeReduction)||(m[i(520)].innerSizeReduction=2),m.doublePetal[i(489)]=je(m[i(520)][i(489)],1,30),delete m.doublePetal.innerPetalType,a.SOKOQ(m.doublePetal[i(555)],null)&&typeof m.doublePetal.innerColorId!==a.iPtah&&delete m[i(520)][i(555)]}if(Array[i(563)](m[i(484)]))for(const y of m[i(484)])a[i(497)]("sggKB","sggKB")?(y&&y.petalType!=null&&(y.petalType=rx(y.petalType)),y&&delete y[i(486)],y&&a.EjuZH(y.innerColorId,null)&&a.HLwUN(typeof y.innerColorId,"string")&&delete y.innerColorId,y&&a.hKvMm(y[i(489)],null)&&(a.oXqaR("CYeQh",a.kbQoB)?Number.isFinite(y.innerSizeReduction)?y[i(489)]=je(y.innerSizeReduction,1,30):delete y.innerSizeReduction:(_0xea63b8.id||(_0xe99aa5.id=a.doUdU(_0x1acf8d,"lg")),(a.otDyv(typeof _0x4425b8[i(536)],a.iPtah)||!_0x40b81e.name)&&(_0x2a3042[i(536)]=i(457)),_0x49543b[i(563)](_0x133eb2[i(515)])||(_0x39daf0.leafIds=[]),_0x17b741[i(515)]=_0x3caa6b[i(515)].filter(h=>_0x14a856.has(h)),_0x1d1f89[i(537)](_0x30d6a1[i(541)])||(_0x3e56b1[i(541)]=0),_0x38412a.linkedFlowerGroupId!=null&&((_0x36de3e.groups??[]).some(d=>d.id===_0x1d5720.linkedFlowerGroupId)||delete _0x19f5dc[i(519)])))):_0xa35e20[i(527)](_0x26d6bf.id)||_0x73cc95[i(534)][i(459)](_0x2630e6)}(!Number.isFinite(f.flowerDiameter)||a.SXYtW(f[i(481)],0))&&(a[i(545)](i(516),a[i(483)])?(_0x422db9&&a[i(479)](_0x4a5e5b.petalType,null)&&(_0x18a526.petalType=a.tirLT(_0x1211b4,_0x58cac8.petalType)),_0xee1933&&delete _0x5f1929.innerPetalType,_0x3681cc&&_0x5a9a1f.innerColorId!=null&&a[i(490)](typeof _0x1951db.innerColorId,i(508))&&delete _0x2805ba.innerColorId,_0x48cd78&&a[i(547)](_0x168d60[i(489)],null)&&(_0x514893.isFinite(_0x2c49d7[i(489)])?_0xb8c214.innerSizeReduction=_0x1af451(_0x6ebe64[i(489)],1,30):delete _0x383546.innerSizeReduction)):f[i(481)]=60),f[i(466)]&&(a.oXqaR(f.center.type,a[i(570)])&&(f.center[i(476)]=""),[a[i(517)],"",""].includes(f[i(466)].type)||(f[i(466)].type=a[i(517)]),Number[i(537)](f[i(466)][i(564)])||(f.center[i(564)]=6),f[i(466)][i(564)]=a[i(567)](je,f.center.size,1,30),(typeof f[i(466)].color!==a[i(550)]||!f.center[i(552)])&&(i(507)!=="nGGqR"?_0x5a9381.isFinite(_0x2e1eef[i(489)])?_0x5b7232[i(489)]=a[i(567)](_0x3c5c87,_0xc02e5f[i(489)],1,30):delete _0x463252[i(489)]:f[i(466)].color=r[i(534)]?.[0]?.id??a[i(495)]),a[i(497)](f[i(466)][i(476)],a[i(535)])&&(a.otDyv(a[i(551)],i(485))?(Number[i(537)](f[i(466)][i(513)])||(f.center.pepCount=12),f[i(466)][i(513)]=a.pWatz(je,f.center[i(513)],4,30)):delete _0x17fd6c[i(520)]),a[i(509)](f.center[i(476)],"")&&delete f.center.color2),f[i(549)]!==""&&f.placementMode!==""&&(a.hiRPx("sDpUq",a[i(562)])?delete _0x3fde83.doublePetal:f[i(549)]=a.JOfwL),a.AirkR(f.baseDiameter,void 0)&&(!Number[i(537)](f[i(510)])||a.SXYtW(f.baseDiameter,0))&&delete f[i(510)]}Array[i(563)](r.palette)||(r[i(534)]=[]);const o=new Set(r[i(534)][i(511)](f=>f.id));for(const f of Ud())o.has(f.id)||r.palette[i(459)](f);r[i(475)]||(r[i(475)]=C0()),r.updatedAt||(r[i(557)]=r[i(475)]),r.id||(r.id=It(a.JMIux)),r.title||(r[i(477)]=a.ZqSCr),r[i(478)]="mm",Number[i(537)](r.fabricSquareSize)||(r[i(522)]=20),(!Number[i(537)](r.baseDiameter)||a.SXYtW(r[i(510)],0))&&(r[i(510)]=30),a[i(490)](typeof r[i(462)],a.iPtah)&&(r[i(462)]=""),Array.isArray(r[i(472)])||(r.groups=[]);{const f=new Set(r[i(455)].map(m=>m.id));for(const m of r[i(472)])i(543)!==a[i(544)]?(a.oXqaR(_0x6ee3e4[i(466)][i(476)],i(528))&&(_0x3695e7.center.type=""),[a[i(517)],"",""].includes(_0x504db6.center[i(476)])||(_0x272347.center.type=i(501)),_0x4f34fd[i(537)](_0x525138[i(466)][i(564)])||(_0x46333b[i(466)].size=6),_0x2d1c11[i(466)].size=_0x217865(_0x4e8f48.center.size,1,30),(typeof _0x57c2a3[i(466)].color!==a[i(550)]||!_0x5badaa[i(466)][i(552)])&&(_0x4dad5c[i(466)][i(552)]=_0x57f430[i(534)]?.[0]?.id??"col_white"),a[i(497)](_0x375402.center[i(476)],"")&&(_0x1905e6.isFinite(_0x29ad2e[i(466)].pepCount)||(_0x439dfd.center[i(513)]=12),_0x2796c5.center[i(513)]=_0x3e712e(_0x23c3a8[i(466)].pepCount,4,30)),_0x4b3a18.center.type!==""&&delete _0x43df0f.center[i(499)]):(Array[i(563)](m.flowerIds)||(m.flowerIds=[]),m.flowerIds=m.flowerIds[i(532)](y=>f.has(y)),m.id||(m.id=a[i(468)](It,"grp")),(a[i(509)](typeof m.name,"string")||!m[i(536)])&&(m.name=i(512)));r[i(472)]=r.groups[i(532)](m=>m[i(464)]&&m[i(464)].length>0)}Array[i(563)](r[i(494)])||(r.leaves=[]);for(const f of r[i(494)])f.id||(f.id=a.AhQXY(It,i(500))),(typeof f.name!==i(508)||!f.name)&&(f.name=i(492)),(!f[i(539)]||!Number.isFinite(f[i(539)].x)||!Number[i(537)](f[i(539)].y))&&(f.position={x:675,y:675}),Number.isFinite(f.rotation)||(f[i(541)]=0),f.petalType=rx(f.petalType),(typeof f.colorId!==a.iPtah||!f[i(503)])&&(f[i(503)]=r.palette?.[0]?.id??a[i(553)]),Number[i(537)](f[i(530)])||(f[i(530)]=1),Number[i(537)](f.widthScale)||(f.widthScale=1),a.koCWP(typeof f.visible,a[i(498)])&&(f[i(514)]=!0),typeof f[i(460)]!==i(465)&&(f[i(460)]=!1),delete f[i(505)],f[i(520)]&&(typeof f[i(520)]!="object"||f.doublePetal===null?delete f.doublePetal:(Number.isFinite(f[i(520)].innerSizeReduction)||(f[i(520)].innerSizeReduction=2),f[i(520)].innerSizeReduction=je(f.doublePetal[i(489)],1,30),f.doublePetal.innerColorId!=null&&typeof f[i(520)].innerColorId!="string"&&delete f.doublePetal.innerColorId));if(Array.isArray(r.leafGroups)||(r.leafGroups=[]),a[i(497)](a[i(474)],"DfwWq"))delete _0x3aa7e5.baseDiameter;else{const f=new Set(r[i(494)][i(511)](m=>m.id));for(const m of r[i(523)])m.id||(m.id=It("lg")),(typeof m[i(536)]!==i(508)||!m[i(536)])&&(m[i(536)]=a.bqfqI),Array[i(563)](m.leafIds)||(m[i(515)]=[]),m.leafIds=m.leafIds[i(532)](y=>f[i(527)](y)),Number.isFinite(m[i(541)])||(m.rotation=0),m.linkedFlowerGroupId!=null&&((r[i(472)]??[]).some(h=>h.id===m[i(519)])||delete m.linkedFlowerGroupId);r[i(523)]=r.leafGroups.filter(m=>m.leafIds&&m.leafIds[i(471)]>0)}if(Array[i(563)](r[i(524)])){const f=[a[i(482)],a.dVaDn],m=[a.DbAjh,"left",a[i(540)]];r[i(524)]=r.stencils[i(532)](y=>y&&typeof y.id===i(508)&&f[i(561)](y[i(491)])&&m[i(561)](y.pose)&&y.position&&Number.isFinite(y[i(539)].x)&&Number[i(537)](y[i(539)].y))}return Number.isFinite(r.version)||(r[i(469)]=1),r}const kh=En;(function(c,i){const a=En,r=c();for(;;)try{if(parseInt(a(227))/1+-parseInt(a(237))/2*(parseInt(a(234))/3)+-parseInt(a(236))/4+parseInt(a(233))/5+parseInt(a(226))/6+-parseInt(a(229))/7+parseInt(a(222))/8*(parseInt(a(223))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(A0,442867);const Rh=(function(){let c=!0;return function(i,a){const r=c?function(){const o=En;if(a){const f=a[o(224)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),mx=Rh(void 0,function(){const c=En,i={DUCfl:c(228)};return mx[c(232)]().search(i[c(235)])[c(232)]()[c(225)](mx)[c(231)](c(228))});mx();const Zd="tsumami_projects_v1",yl=["",""],Oh=["","",""];function En(c,i){c=c-222;const a=A0();let r=a[c];if(En.lFsiyG===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};En.pQLcLg=o,En.ourZsu={},En.lFsiyG=!0}const f=a[0],m=c+f,y=En.ourZsu[m];if(y)r=y;else{const h=function(d){this.WoSXLK=d,this.MyOCti=[1,0,0],this.gPUNCA=function(){return"newState"},this.GTRufR="\\w+ *\\(\\) *{\\w+ *",this.xpkqFI=`['|"].+['|"];? *}`};h.prototype.UjOUGq=function(){const d=new RegExp(this.GTRufR+this.xpkqFI),p=d.test(this.gPUNCA.toString())?--this.MyOCti[1]:--this.MyOCti[0];return this.cGDPgi(p)},h.prototype.cGDPgi=function(d){return~d?this.swPkUf(this.WoSXLK):d},h.prototype.swPkUf=function(d){for(let p=0,_=this.MyOCti.length;p<_;p++)this.MyOCti.push(Math.round(Math.random())),_=this.MyOCti.length;return d(this.MyOCti[0])},new h(En).UjOUGq(),r=En.pQLcLg(r),En.ourZsu[m]=r}return r}const Kd=["",kh(230)];function A0(){const c=["C2vHCMnO","Dg9tDhjPBMC","ndCZnda1z3zIrwDN","nKfwAvbdza","rfvdzMW","mZm1nZu0og9OrerpuG","nJyZmZrmzuHpzge","mJCYCLrhANPt","mtCYntKZwKT1CgXq","yxbWBhK","y29UC3rYDwn0B3i","mZC4mtuWmeDcvNjYDa","odi2mtC4ufzmEffL","kcGOlISPkYKRksSK","ntK4mtC3m250yw1nAa","5y2k44gp44gz"];return A0=function(){return c},A0()}(function(c,i){const a=Zt,r=c();for(;;)try{if(parseInt(a(153))/1*(parseInt(a(179))/2)+-parseInt(a(160))/3*(-parseInt(a(159))/4)+-parseInt(a(170))/5+parseInt(a(152))/6*(-parseInt(a(156))/7)+parseInt(a(172))/8*(-parseInt(a(180))/9)+-parseInt(a(148))/10*(parseInt(a(163))/11)+-parseInt(a(176))/12*(-parseInt(a(151))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(L0,518808);const Ih=(function(){const c=Zt,i={xShpq:c(167)};let a=!0;return function(r,o){const f=a?function(){if(i[Zt(164)]!=="baCPp"){const y=_0x1cf108?.project?_0x66e55e(_0x5a51df.project):null;return y?{id:_0x15e3db.id??y.id,title:_0x1b1d5a.title??y.title,updatedAt:_0x3f3639.updatedAt??y.updatedAt,project:y}:null}else if(o){const y=o.apply(r,arguments);return o=null,y}}:function(){};return a=!1,f}})(),bx=Ih(void 0,function(){const c=Zt;return bx.toString().search(c(178))[c(168)]().constructor(bx)[c(165)]("(((.+)+)+)+$")});bx();function L0(){const c=["DxbKyxrLzef0","mJGWmtjLDfHPEvK","mZeYCKjVzNPx","ChjVAMvJDa","AxnbCNjHEq","mZeYndmZCgPOCgXn","EfnOChe","C2vHCMnO","CgfYC2u","yMfduha","Dg9tDhjPBMC","C29YDa","mtCZote4mhztvNbUva","uLrAvK0","mtC1nJHyCxjIy2C","DgL0Bgu","wMDKDfe","BwfW","ndHZDMDRtfK","C2XPy2u","kcGOlISPkYKRksSK","mKf3wg9rra","mte5n3bez3z4rq","mtuWtLjyt0rA","C3rYAw5NAwz5","zMLSDgvY","mZq4nZi3nKLfzhH0qG","nLLfB0nswq","mteXnJe5EvL0teLz","zMLUzeLUzgv4","BgPLBfC","mJi5nZi3nhzZB01sDW","z2v0sxrLBq"];return L0=function(){return c},L0()}function Zt(c,i){c=c-148;const a=L0();let r=a[c];if(Zt.SVhKzB===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Zt.lIyoVu=o,Zt.UELNhF={},Zt.SVhKzB=!0}const f=a[0],m=c+f,y=Zt.UELNhF[m];if(y)r=y;else{const h=function(d){this.eWaBZr=d,this.IBEmtH=[1,0,0],this.NNhRFv=function(){return"newState"},this.FumgEO="\\w+ *\\(\\) *{\\w+ *",this.LpkoqV=`['|"].+['|"];? *}`};h.prototype.NsCzrv=function(){const d=new RegExp(this.FumgEO+this.LpkoqV),p=d.test(this.NNhRFv.toString())?--this.IBEmtH[1]:--this.IBEmtH[0];return this.AqBJaE(p)},h.prototype.AqBJaE=function(d){return~d?this.LylKtN(this.eWaBZr):d},h.prototype.LylKtN=function(d){for(let p=0,_=this.IBEmtH.length;p<_;p++)this.IBEmtH.push(Math.round(Math.random())),_=this.IBEmtH.length;return d(this.IBEmtH[0])},new h(Zt).NsCzrv(),r=Zt.lIyoVu(r),Zt.UELNhF[m]=r}return r}function nr(){const c=Zt,i={dBSUL:function(a,r){return a(r)},lnsXH:function(a){return a()}};try{const a=localStorage[c(157)](Zd);if(!a)return[];const r=JSON[c(166)](a);return Array[c(162)](r)?r[c(175)](o=>{const f=c;try{const m=o?.[f(161)]?i.dBSUL(ha,o[f(161)]):null;return m?{id:o.id??m.id,title:o[f(173)]??m[f(173)],updatedAt:o[f(158)]??m[f(158)],project:m}:null}catch{return null}})[c(150)](o=>o!=null):[]}catch{if(c(174)!=="ZHprn")return[];{const a=i.lnsXH(_0x380325),r=a.findIndex(m=>m.id===_0x53fe10.id),o={id:_0x2a35b4.id,title:_0x2bac84.title,updatedAt:_0x54fa36[c(158)],project:_0x560615},f=r>=0?[...a[c(177)](0,r),o,...a.slice(r+1)]:[o,...a];return f.sort((m,y)=>m[c(158)]<y.updatedAt?1:-1),_0x568062(f)}}}function Xd(c){const i=Zt;try{return localStorage.setItem(Zd,JSON[i(149)](c)),!0}catch{return!1}}function Hh(c){const i=Zt,a={ljelW:function(y){return y()},RTZVM:function(y,h){return y>=h}},r=a[i(155)](nr),o=r[i(154)](y=>y.id===c.id),f={id:c.id,title:c[i(173)],updatedAt:c[i(158)],project:c},m=a[i(171)](o,0)?[...r.slice(0,o),f,...r[i(177)](o+1)]:[f,...r];return m[i(169)]((y,h)=>y[i(158)]<h.updatedAt?1:-1),Xd(m)}function Yh(c){const i=Zt,a=nr()[i(150)](r=>r.id!==c);return Xd(a)}(function(c,i){const a=Un,r=c();for(;;)try{if(parseInt(a(472))/1*(parseInt(a(474))/2)+parseInt(a(446))/3+-parseInt(a(452))/4+parseInt(a(480))/5*(parseInt(a(477))/6)+parseInt(a(488))/7+parseInt(a(470))/8+-parseInt(a(442))/9*(parseInt(a(450))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(E0,143304);const Uh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),vx=Uh(void 0,function(){const c=Un,i={LtlsF:"(((.+)+)+)+$"};return vx.toString()[c(441)](i.LtlsF)[c(466)]().constructor(vx).search(c(455))});function E0(){const c=["runUsha","mtqYmtaWnxPdEvH5Ea","C2v0","wuDjs0u","Ew51tNq","Aw5UzxjdB2XVCKLK","Dg90ywXdB3vUDa","z2v0","BgvHDMvZ","mtC3mdu3m0Dcs0TRCG","Bwf4","zw50CMLLCW","zMfICMLJu2L6zu1T","C29YDa","y29SB3jjza","Cgv0ywXpDMvYCMLKzxm","C2vHCMnO","mtCXCejArhbP","BwfW","yMfZzurPyw1LDgvYtw0","DMLZAwjSzq","ntGWmJaZrKHkyKv2","y291BNq","zMXVD2vYCW","D0nSvMy","mZi3mtyWBeXmr09U","BMfTzq","mtiYmZu2AMrewgL1","CgXHy2vTzw50tw9Kzq","uMrzywu","kcGOlISPkYKRksSK","Aw5UzxjtAxPLuMvKDwn0Aw9U","ChvZAa","B09OrNu","rK1fB04","iZK5otK5oq","CMvKDwnL","5y2k44gp44gz","zNjVBq","zMLUza","wLHQvve","Dg9tDhjPBMC","ufbUzfy","DMfSDwvZ","CgfSzxr0zq","nZGXotjXzxD5uwW","CM91BMq","m2j6BNv4za","zg91yMXLugv0ywW","mZy3odHsuMrNqNC","zMXVD2vYrgLHBwv0zxi","C2nHBgu","nLLHr0v1wa","Bw9Kzq"];return E0=function(){return c},E0()}vx();function Un(c,i){c=c-441;const a=E0();let r=a[c];if(Un.SDRoIw===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Un.btetGC=o,Un.PekSBh={},Un.SDRoIw=!0}const f=a[0],m=c+f,y=Un.PekSBh[m];if(y)r=y;else{const h=function(d){this.EZzGFR=d,this.zMelXy=[1,0,0],this.urYCVK=function(){return"newState"},this.uoXYJZ="\\w+ *\\(\\) *{\\w+ *",this.KantIz=`['|"].+['|"];? *}`};h.prototype.aDytiX=function(){const d=new RegExp(this.uoXYJZ+this.KantIz),p=d.test(this.urYCVK.toString())?--this.zMelXy[1]:--this.zMelXy[0];return this.vilYzi(p)},h.prototype.vilYzi=function(d){return~d?this.syPatu(this.EZzGFR):d},h.prototype.syPatu=function(d){for(let p=0,_=this.zMelXy.length;p<_;p++)this.zMelXy.push(Math.round(Math.random())),_=this.zMelXy.length;return d(this.zMelXy[0])},new h(Un).aDytiX(),r=Un.btetGC(r),Un.PekSBh[m]=r}return r}function Zh(c){const i=Un,a={ZXjUQ:"(((.+)+)+)+$",KuQUz:"RdYae",UVWjz:function(p,_){return p+_},YGIKE:function(p,_){return p*_},wClVf:function(p,_){return p*_},UKgDQ:function(p,_){return p/_},AWrhm:function(p,_){return p===_},QLfBO:"hejVB",PPndV:"",SGGRn:function(p,_){return p===_},LpcVZ:function(p,_){return p(_)},FMEoN:function(p,_){return p===_},ECnHp:i(458),XnaEZ:"yqCuG",OVgCU:function(p,_){return p!==_},fmQOW:i(483),JlEWW:"FQZVX"},r=new Map((c[i(469)]||[])[i(443)](p=>[p.id,p])),o=new Map,f=(p,_)=>p?.[i(494)]?.[i(464)](A=>A.index===_)??null,m=new Map;for(const p of c[i(448)]||[]){const _=p.fabricSquareSize??c.fabricSquareSize;for(const w of p.layers||[]){if(!w[i(445)])continue;const T=Math.round(_*(w[i(476)]??1));for(let k=0;k<w.petalCount;k++){const G=f(w,k),B=G?.colorId??w.colorId,O=B+"|"+T,W=o[i(486)](O);if(W?W[i(447)]+=1:o.set(O,{colorId:B,fabricSizeMm:T,count:1}),w.doublePetal)if(a.QLfBO!=="Rkwsh"){const R=w.doublePetal,J=G?.[i(484)]??R.innerColorId??B,P=G?.[i(456)]??R[i(456)]??2,Q=Math[i(489)](3,Math[i(471)](T-P)),X=J+"|"+Q,C=o[i(486)](X);C?C[i(447)]+=1:o.set(X,{colorId:J,fabricSizeMm:Q,count:1})}else _0x32c2f7[i(490)].push({fabricSizeMm:_0x4ba7d3,count:_0x2a5de8})}}const A=p[i(453)]??a[i(467)],b=a.SGGRn(A,"")?a.LpcVZ(er,p[i(475)]):p.baseDiameter??c.baseDiameter,N=A+"|"+b,j=m.get(N);if(j)if(a[i(459)](a[i(479)],a.ECnHp))j.count+=1;else return _0xdbd398.toString().search(i(455)).toString().constructor(_0x1f769d).search(EThhwu[i(465)]);else m[i(481)](N,{mode:A,baseDiameterMm:b,count:1})}for(const p of c[i(487)]??[]){if(!p[i(445)])continue;const _=p.fabricSquareSize??c.fabricSquareSize,A=Math.round(_*(p[i(476)]??1)),b=p[i(493)],N=b+"|"+A,j=o[i(486)](N);if(j?j[i(447)]+=1:o[i(481)](N,{colorId:b,fabricSizeMm:A,count:1}),p[i(473)]){const w=p.doublePetal,T=w.innerColorId??b,k=Math[i(489)](3,Math[i(471)](A-(w.innerSizeReduction??2))),G=T+"|"+k,B=o[i(486)](G);if(B)if(a.XnaEZ==="NOlXB"){const O=_0x469f57[i(486)](_0x591450);O?O[i(490)][i(457)]({fabricSizeMm:_0x1f6bb7,count:_0x52c5d0}):_0x153fe0.set(_0xfecccf,{colorId:_0x36b054,entries:[{fabricSizeMm:_0x5c00c4,count:_0x948444}]})}else B[i(447)]+=1;else o.set(G,{colorId:T,fabricSizeMm:k,count:1})}}const y=new Map;for(const{colorId:p,fabricSizeMm:_,count:A}of o[i(468)]()){const b=y[i(486)](p);b?b.entries[i(457)]({fabricSizeMm:_,count:A}):a.OVgCU(a.fmQOW,a.JlEWW)?y.set(p,{colorId:p,entries:[{fabricSizeMm:_,count:A}]}):_0x141a70[i(481)](_0x52b828,{mode:_0x2a7a8d,baseDiameterMm:_0x13f209,count:1})}const h=Array[i(463)](y.values()).map(({colorId:p,entries:_})=>{const A=i,b=r[A(486)](p),N=_.sort((k,G)=>G[A(491)]-k.fabricSizeMm),j=N.reduce((k,G)=>k+G.count,0),w=Math[A(471)](a[A(482)](N[A(461)]((k,G)=>{const B=A;if(B(454)!==a.KuQUz)_0x5c6e81[B(481)](_0xa83bef,{colorId:_0x23ad39,entries:[{fabricSizeMm:_0x5caa91,count:_0x4f9f71}]});else{const O=G.fabricSizeMm/10;return a.UVWjz(k,a.YGIKE(a[B(449)](G[B(447)],O),O))}},0),100))/100,T=a.UKgDQ(Math[A(471)](Math.sqrt(w)*10),10);return{colorId:p,colorName:b?.[A(451)]??p,hex:b?.hex??A(460),sizes:N,totalCount:j,totalAreaCm2:w,squareSideCm:T}})[i(492)]((p,_)=>_[i(485)]-p.totalCount),d=Array[i(463)](m.values())[i(492)]((p,_)=>{const A=i;return p.mode!==_[A(478)]?a.AWrhm(p.mode,A(462))?-1:1:_[A(444)]-p[A(444)]});return{colors:h,bases:d}}(function(c,i){const a=mn,r=c();for(;;)try{if(parseInt(a(255))/1+-parseInt(a(233))/2*(parseInt(a(251))/3)+parseInt(a(258))/4*(parseInt(a(203))/5)+-parseInt(a(202))/6+parseInt(a(243))/7+parseInt(a(256))/8*(-parseInt(a(244))/9)+-parseInt(a(220))/10*(-parseInt(a(248))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(T0,162675);const Kh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),gx=Kh(void 0,function(){const c=mn;return gx.toString()[c(230)](c(222))[c(227)]()[c(216)](gx)[c(230)]("(((.+)+)+)+$")});gx();function T0(){const c=["zM9YrwfJAa","vhPjEw0","zMLSBfjLy3q","DMLLD0jVEa","A0rcAu4","C2vYAwfSAxPLvg9tDhjPBMC","CMvTB3zLqxr0CMLIDxrL","lNn2zW","rLHMs1y","C3r5Bgu","mtuWntm3nKzMrffsqG","nJaZmtq1uffqBvbd","y3jLyxrLrwXLBwvUDa","tenOBfK","sgrtq2q","BwfW","yM9KEq","C3bSAxq","y3jLyxrLt2jQzwn0vvjm","D2HPDgu","Dw90DuW","zhjHD0LTywDL","Eg1SBNm","mcaWidiWmcaYmda","y29UC3rYDwn0B3i","Aw1Hz2uVCg5N","CMvTB3zL","ywjUD04","mZeWzxbkDwL5","CMv2B2TLt2jQzwn0vvjm","kcGOlISPkYKRksSK","C3jJ","lNrZDw1HBwKTz3jVDxaTzgfZAa","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","ywneyvq","Dg9tDhjPBMC","zw5KC1DPDgG","y2XPy2S","C2vHCMnO","lNbUzW","suLtAMC","ndrUuK9qtLm","lNrZDw1HBwKTC2vSlwrHC2G","w2rHDgeTBwfYCxvLzv0","zgf0ys10zxn0Awq","zg93BMXVywq","s1POAxe","sKrtB1q","quPZwwK","y3jLyxrLrwXLBwvUDe5t","D2LKDgG","mtCZntmYoeHbzw93qW","mtm3mtG3B2zhCenH","CxvLCNLtzwXLy3rVCKfSBa","C2v0qxr0CMLIDxrL","zMLSBa","ntKXotfbzez1y2G","BwT3r0i","AMLguui","mty2nJvKz1LVz1i","vNPoDLq","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","z3bVuLm","ndyXnJzQze1lsxy","mJrksxrsq24","s3PICu8","nfb3BhnAta","w2rHDgeTz3jPzf0"];return T0=function(){return c},T0()}function Xh(c,i){const a=mn,r={JDSoT:"[data-testid]",KZhiq:a(263),LChlY:function(b,N){return b??N},BufrP:a(215),jiFQB:"width",AJsYi:function(b,N){return b(N)},FXfKV:"height",trtpB:a(225),pvnDX:"rect",BAiUq:"100%",kNgcF:a(259),abnwN:a(234),KzbqO:a(224),HdSCd:a(235),IISjg:function(b,N){return b+N},ZqPdj:`<?xml version="1.0" encoding="UTF-8"?>
`,TzIym:a(253),ekXaB:".svg"},o=c.cloneNode(!0);o.querySelectorAll(r[a(239)]).forEach(b=>b.removeAttribute(a(236))),o[a(198)]("style");const f=c.getAttribute(r[a(238)]);f&&o[a(246)]("viewBox",f);const m=r[a(205)](f,r.BufrP)[a(209)](/[\s,]+/).map(Number),y=m[2]??200,h=m[3]??200;o[a(246)](r[a(250)],r[a(240)](String,y)),o[a(246)](r[a(200)],String(h)),o.setAttribute(a(214),r.trtpB);const d=document[a(241)]("http://www.w3.org/2000/svg",r.pvnDX);d.setAttribute(a(242),r.BAiUq),d[a(246)]("height",r.BAiUq),d[a(246)](a(247),"white"),o.insertBefore(d,o.firstChild),o[a(245)](r.kNgcF).forEach(b=>b[a(218)]()),o[a(245)](r[a(219)])[a(260)](b=>b.remove()),o[a(245)](r[a(257)])[a(260)](b=>b.remove()),o[a(245)](r[a(206)]).forEach(b=>b.remove());const p=new XMLSerializer,_=r[a(232)](r.ZqPdj,p[a(197)](o)),A=new Blob([_],{type:r[a(261)]});Wd(A,i.endsWith(r.ekXaB)?i:i+a(199))}function mn(c,i){c=c-196;const a=T0();let r=a[c];if(mn.wSVoSr===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};mn.SoyMcA=o,mn.swpnEs={},mn.wSVoSr=!0}const f=a[0],m=c+f,y=mn.swpnEs[m];if(y)r=y;else{const h=function(d){this.ntizjP=d,this.GjSuCK=[1,0,0],this.ofTqHk=function(){return"newState"},this.UxfIOH="\\w+ *\\(\\) *{\\w+ *",this.dGTawg=`['|"].+['|"];? *}`};h.prototype.rOpTeE=function(){const d=new RegExp(this.UxfIOH+this.dGTawg),p=d.test(this.ofTqHk.toString())?--this.GjSuCK[1]:--this.GjSuCK[0];return this.ZtaZmN(p)},h.prototype.ZtaZmN=function(d){return~d?this.MPxdlr(this.ntizjP):d},h.prototype.MPxdlr=function(d){for(let p=0,_=this.GjSuCK.length;p<_;p++)this.GjSuCK.push(Math.round(Math.random())),_=this.GjSuCK.length;return d(this.GjSuCK[0])},new h(mn).rOpTeE(),r=mn.SoyMcA(r),mn.swpnEs[m]=r}return r}function Wh(c,i,a=2){const r=mn,o={TzHeR:"canvas",mkwGB:function(j,w){return j*w},dSEnW:r(211),RRZLA:r(201),uotuL:"[data-grid]",acDaT:r(235),VzNvT:"viewBox",fCFmN:r(242),qsvsB:function(j,w){return j(w)},gpoRS:"http://www.w3.org/2000/svg",VlpUH:r(253)},f=c.cloneNode(!0);f[r(245)]("[data-testid]")[r(260)](j=>j.removeAttribute(r(236))),f.removeAttribute(o.RRZLA),f.querySelectorAll(o[r(212)])[r(260)](j=>j.remove()),f.querySelectorAll(".tsumami-sel-dash").forEach(j=>j[r(218)]()),f.querySelectorAll(".tsumami-group-dash")[r(260)](j=>j[r(218)]()),f.querySelectorAll(o[r(226)]).forEach(j=>j.remove());const m=c.getAttribute(o[r(252)]),y=(m??"0 0 200 200")[r(209)](/[\s,]+/)[r(207)](Number),h=y[2]??200,d=y[3]??200;f[r(246)](o[r(252)],m??"0 0 200 200"),f.setAttribute(o.fCFmN,o.qsvsB(String,h)),f[r(246)]("height",String(d)),f[r(246)](r(214),o[r(254)]);const p=new XMLSerializer,_=p.serializeToString(f),A=new Blob([_],{type:o.VlpUH}),b=URL.createObjectURL(A),N=new Image;N.onload=()=>{const j=r,w={kDBiN:".png"},T=document[j(204)](o.TzHeR);T[j(242)]=h*a,T.height=o[j(249)](d,a);const k=T.getContext("2d");if(!k){URL.revokeObjectURL(b);return}k.fillStyle=o.dSEnW,k[j(262)](0,0,T.width,T.height),k[j(213)](N,0,0,T.width,T.height),T.toBlob(G=>{const B=j;G&&Wd(G,i[B(228)](w[B(196)])?i:i+B(231)),URL.revokeObjectURL(b)},j(217))},N.onerror=()=>{URL[r(221)](b)},N[r(223)]=b}function Wd(c,i){const a=mn,r=URL[a(210)](c),o=document[a(204)]("a");o.href=r,o[a(237)]=i,document[a(208)].appendChild(o),o[a(229)](),document[a(208)].removeChild(o),URL.revokeObjectURL(r)}function p0({active:c,disabled:i,onClick:a,children:r,...o}){return x.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...o,children:r})}const Jh="v0.1.0-dev";function Vh(c){const{view:i,onNavigate:a,project:r}=c;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Jh})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(p0,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(p0,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(p0,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),x.jsx(p0,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Qh(c){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(i=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:i.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function yx({children:c}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function Ph(c){const[i,a]=$.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(yx,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}(function(c,i){const a=bn,r=c();for(;;)try{if(-parseInt(a(313))/1*(parseInt(a(369))/2)+-parseInt(a(303))/3+-parseInt(a(383))/4+parseInt(a(351))/5*(parseInt(a(367))/6)+parseInt(a(341))/7*(parseInt(a(344))/8)+parseInt(a(337))/9+parseInt(a(327))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(B0,428466);const Fh=(function(){const c=bn,i={VCYGo:function(r,o){return r+o},nWbcw:function(r,o,f){return r(o,f)},JGiPw:function(r,o){return r===o},lnJkt:c(385)};let a=!0;return function(r,o){const f=c,m={ymEyV:function(y,h){return y-h},qWEQw:function(y,h){return y-h},tckcp:function(y,h){return y-h},BqEhI:function(y,h){return i.VCYGo(y,h)},KsQei:function(y,h,d){return i[bn(328)](y,h,d)}};if(i.JGiPw(i.lnJkt,i.lnJkt)){const y=a?function(){if(o){const h=o.apply(r,arguments);return o=null,h}}:function(){};return a=!1,y}else{const y=_0x120415[f(361)];if(!y)return;const h=_0x5811c1.flowers.find(b=>b.id===y.flowerId);if(!h)return;const d=_0x16f228(_0x213561),p=_0x5b19bc[f(352)](m.ymEyV(d.x,h[f(300)].x),m[f(332)](d.y,h[f(300)].y)),_=m[f(297)](p,y[f(309)]),A=_0x4333b7(m[f(311)](y[f(355)],_),5,100);m[f(389)](_0x3a68f8,b=>{const N=f,j=b.flowers[N(377)](T=>T.id===y[N(296)]);if(!j)return;const w=j[N(335)][N(377)](T=>T.id===y.layerId);w&&(w[N(333)]=A)},!1)}}})(),px=Fh(void 0,function(){const c=bn,i={VMnZR:"(((.+)+)+)+$"};return px.toString().search(c(357)).toString()[c(372)](px)[c(380)](i.VMnZR)});px();function bn(c,i){c=c-295;const a=B0();let r=a[c];if(bn.UgeAAk===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};bn.aigyYi=o,bn.HxOXQK={},bn.UgeAAk=!0}const f=a[0],m=c+f,y=bn.HxOXQK[m];if(y)r=y;else{const h=function(d){this.cvqVes=d,this.NLFtnu=[1,0,0],this.tiTqVi=function(){return"newState"},this.irBlOK="\\w+ *\\(\\) *{\\w+ *",this.CZAhWs=`['|"].+['|"];? *}`};h.prototype.qgMOcy=function(){const d=new RegExp(this.irBlOK+this.CZAhWs),p=d.test(this.tiTqVi.toString())?--this.NLFtnu[1]:--this.NLFtnu[0];return this.ruDItP(p)},h.prototype.ruDItP=function(d){return~d?this.wlaJdI(this.cvqVes):d},h.prototype.wlaJdI=function(d){for(let p=0,_=this.NLFtnu.length;p<_;p++)this.NLFtnu.push(Math.round(Math.random())),_=this.NLFtnu.length;return d(this.NLFtnu[0])},new h(bn).qgMOcy(),r=bn.aigyYi(r),bn.HxOXQK[m]=r}return r}function $h(c){const i=bn,a={RuLUc:function(R,J){return R===J},oShSe:function(R,J){return R!==J},ftypZ:i(318),XECqh:"/tsumami/",CzWrH:function(R,J){return R*J},qtaMV:function(R,J){return R===J},zQzoC:function(R,J,P,Q){return R(J,P,Q)},BFYBy:function(R,J){return R(J)},pzedP:function(R,J){return R-J},DavrS:function(R,J){return R/J},SNcTW:function(R,J){return R+J},jqwAa:function(R,J){return R*J},CsLCO:i(319),UrIpo:function(R,J,P){return R(J,P)},ZdfzT:i(298),HpLXY:function(R,J){return R-J},ernwV:function(R,J){return R===J},oiMtL:function(R,J){return R===J},XcfES:function(R,J){return R===J},lPFxT:"BrkVX",qswti:function(R,J){return R(J)},xGbfO:function(R,J){return R-J},wKOlK:function(R,J){return R>J},APbsM:function(R,J,P){return R(J,P)},HsaoK:function(R,J,P){return R(J,P)},KiflB:"(((.+)+)+)+$",Mgbsy:"JCgeL",SSoOR:i(299),kIBTM:function(R,J){return R(J)},yRLDU:function(R,J){return R/J},PSKfO:function(R,J){return R+J},CAeDK:function(R,J){return R-J},iDsEB:function(R,J){return R-J},oXHZI:function(R,J){return R+J},hqkAw:function(R,J,P){return R(J,P)},oDCGl:function(R,J){return R-J},DZAUI:function(R,J){return R+J},hxVih:function(R,J){return R(J)},FUvqe:function(R,J){return R(J)}},{project:r,applyUpdate:o,stageRef:f,clientToSvgPoint:m}=c,y=$.useRef(null),h=(R,J,P,Q)=>{const X=i,C={xxRTJ:"/tsumami/",GvirE:function(g,z){return a.RuLUc(g,z)},DsMgz:X(324),RgppY:function(g,z){return g-z}};if(a.oShSe(a[X(347)],a.ftypZ)){_0xfd0e38.preventDefault(),_0x590698.currentTarget?.[X(387)]?.(_0x690b5e.pointerId),_0xd503f6.current&&(_0xe13ac9[X(361)][X(316)][X(386)]=X(349)+C[X(342)]+X(323));const g=_0x2bc4d1.flowers.find(H=>H.id===_0x214365);if(!g)return;const z=C[X(346)](_0x272e56,C.DsMgz)&&_0x169ede?.[X(384)]?g.layers.filter(H=>H.id===_0x3b792d.layerId).map(H=>({layerId:H.id,scale:H[X(356)]??1,radius:H.radius??10})):g[X(335)][X(321)](H=>({layerId:H.id,scale:H.scale??1,radius:H[X(333)]??10})),v=_0x1b40d1(_0x39712a),M=g[X(300)].x,E=g[X(300)].y,U=_0x21959c.hypot(v.x-M,C[X(374)](v.y,E));_0x21e0c2.current={mode:_0x2772b8,flowerId:_0x5ba781,layerId:_0x164072?.[X(384)],startScales:z,startDiam:g.flowerDiameter||60,startDist:U}}else{P.preventDefault(),P.currentTarget?.[X(387)]?.(P.pointerId),f[X(361)]&&(f[X(361)][X(316)].cursor=X(349)+a.XECqh+X(323));const g=r.flowers[X(377)](H=>H.id===J);if(!g)return;const z=R===X(324)&&Q?.[X(384)]?g[X(335)][X(322)](H=>H.id===Q[X(384)]).map(H=>({layerId:H.id,scale:H.scale??1,radius:H[X(333)]??10})):g.layers.map(H=>({layerId:H.id,scale:H.scale??1,radius:H.radius??10})),v=m(P),M=g[X(300)].x,E=g[X(300)].y,U=Math[X(352)](v.x-M,v.y-E);y[X(361)]={mode:R,flowerId:J,layerId:Q?.layerId,startScales:z,startDiam:g.flowerDiameter||60,startDist:U}}},d=R=>{const J=i,P=y[J(361)];if(!P)return;const Q=r.flowers.find(v=>v.id===P.flowerId);if(!Q)return;const X=a.BFYBy(m,R),C=Math.hypot(a.pzedP(X.x,Q[J(300)].x),X.y-Q[J(300)].y),g=Math.max(1,P.startDist??1),z=a.zQzoC(je,a.DavrS(C,g),.3,3);o(v=>{const M=J,E=v[M(315)][M(377)](U=>U.id===P.flowerId);if(E){for(const U of P.startScales){const H=E.layers[M(377)](I=>I.id===U[M(384)]);if(H&&(H.scale=je(a.CzWrH(U.scale,z),.3,3),P.mode==="flower"))if(M(365)===M(350)){if(!_0x1cd1e7.current)return;_0x42db40(()=>{},!0),_0x539186.current&&(_0x155f4f[M(361)][M(316)].cursor=""),_0x5b2668[M(361)]=null}else H[M(333)]=je(U[M(333)]*z,2,120)}a[M(336)](P[M(301)],"flower")&&(E.flowerDiameter=a[M(295)](je,P.startDiam*z,10,200))}},!1)},p=()=>{const R=i,J={TflZP:a[R(338)],EKahp:function(P,Q){return a.BFYBy(P,Q)},RuEYZ:function(P,Q){return a[R(368)](P,Q)},dIFdk:function(P,Q){return P*Q},mcxRL:function(P,Q){return a.SNcTW(P,Q)},PkSIR:function(P,Q){return a[R(366)](P,Q)},uTjBo:function(P,Q){return a[R(334)](P,Q)},nVpQe:function(P,Q){return P-Q},GPHlk:function(P,Q){return P*Q}};if(a[R(376)]!=="rTWaz"){if(!y[R(361)])return;a.UrIpo(o,()=>{},!0),f[R(361)]&&(f.current[R(316)][R(386)]=""),y[R(361)]=null}else{_0x167c9a[R(317)](),_0x550957.currentTarget?.setPointerCapture?.(_0x126f7f.pointerId),_0x5ecb3c[R(361)]&&(_0x519ec8.current[R(316)].cursor='url("'+J[R(370)]+'width_cursor_32.png?v=16") 16 16, ew-resize');const P=_0x2667dd[R(315)].find(q=>q.id===_0x3b3bc3);if(!P)return;const Q=_0x2674ff?.layerId?P.layers[R(377)](q=>q.id===_0x4185f5[R(384)]):null;if(!Q)return;const X=J.EKahp(_0x1c4031,_0x545ba0),C=P.position.x,g=P[R(300)].y,z=_0x5443e9?.petalIndex??0,v=J.RuEYZ(360,_0x1a1f9d.max(1,Q[R(375)])),M=J.dIFdk(J[R(388)](Q[R(326)],J.PkSIR(z,v))+P[R(381)],_0x54b593.PI/180),E=J.uTjBo(X.x,C),U=J[R(310)](X.y,g),H=-_0x4b2cf9[R(358)](M),I=_0x204295.cos(M),D=_0x5c3a90[R(339)](J.GPHlk(E,H)+U*I);_0x2af85e[R(361)]={mode:_0x4eefe3,flowerId:_0x2000b3,layerId:_0x34a135?.layerId,petalAngle:M,startDist:_0x458385[R(373)](1,D),startWidthScale:Q[R(325)]??1}}},_=a[i(305)]($.useRef,null),A=(R,J,P,Q)=>{const X=i;P.preventDefault(),P.currentTarget?.[X(387)]?.(P.pointerId),f.current&&(a[X(371)]("vzMtX",a[X(308)])?f[X(361)].style.cursor='url("'+a[X(338)]+'rotate_cursor_active_32.png") 16 16, grabbing':_0xd32ae5[X(361)][X(316)][X(386)]=X(349)+'/tsumami/scale_cursor_32.png?v=16") 16 16, ns-resize');const C=r.flowers[X(377)](M=>M.id===J);if(!C)return;const g=m(P),z=a.jqwAa(Math[X(307)](a.HpLXY(g.y,C[X(300)].y),a.pzedP(g.x,C.position.x)),a[X(368)](180,Math.PI)),v=a.ernwV(R,"layer")&&Q?.layerId?C[X(335)][X(377)](M=>M.id===Q[X(384)])?.offsetAngle??0:C[X(381)]??0;_.current={mode:R,flowerId:J,layerId:Q?.[X(384)],startAngle:z,startRotation:v}},b=R=>{const J=i,P={KZMMo:function(M,E){return M===E}},Q=_[J(361)];if(!Q)return;const X=r.flowers[J(377)](M=>M.id===Q.flowerId);if(!X)return;const C=a[J(382)](m,R);let z=a[J(345)](Math.atan2(a[J(343)](C.y,X.position.y),C.x-X.position.x),180/Math.PI)-Q.startAngle;for(;a.wKOlK(z,180);)z-=360;for(;z<-180;)z+=360;const v=Q[J(314)]+z;a[J(364)](o,M=>{const E=J,U=M.flowers.find(H=>H.id===Q[E(296)]);if(U)if(a[E(340)](Q[E(301)],E(324))&&Q[E(384)])if(a.XcfES("BrkVX",a.lPFxT)){const H=U[E(335)].find(I=>I.id===Q.layerId);H&&(H[E(326)]=v)}else{const H=_0x4b0fc0[E(315)][E(377)](I=>I.id===_0x5f484b.flowerId);if(!H)return;if(P.KZMMo(_0x577532[E(301)],E(324))&&_0x47b59d[E(384)]){const I=H[E(335)].find(D=>D.id===_0x538c83[E(384)]);I&&(I.offsetAngle=_0x3f4894)}else H[E(381)]=_0x2acebc}else U[E(381)]=v},!1)},N=()=>{const R=i;_[R(361)]&&(a.HsaoK(o,()=>{},!0),f.current&&(f.current.style.cursor=""),_[R(361)]=null)},j=a.FUvqe($.useRef,null),w=(R,J,P,Q)=>{const X=i;a[X(331)];{if(P[X(317)](),P[X(354)]?.[X(387)]?.(P.pointerId),f.current)if(a.Mgbsy!==a.SSoOR)f[X(361)][X(316)].cursor=X(349)+X(320)+'width_cursor_32.png?v=16") 16 16, ew-resize';else return _0x326a0e.toString().search(X(357)).toString().constructor(_0xd386ff)[X(380)](CzrMbr.xJiqo);const C=r[X(315)].find(ae=>ae.id===J);if(!C)return;const g=Q?.[X(384)]?C.layers[X(377)](ae=>ae.id===Q.layerId):null;if(!g)return;const z=a.kIBTM(m,P),v=C.position.x,M=C.position.y,E=Q?.petalIndex??0,U=a[X(306)](360,Math.max(1,g[X(375)])),H=a[X(366)](a[X(362)](g.offsetAngle+E*U,C[X(381)]),Math.PI/180),I=z.x-v,D=a[X(302)](z.y,M),q=-Math.sin(H),Y=Math.cos(H),K=Math.abs(a.jqwAa(I,q)+D*Y);j.current={mode:R,flowerId:J,layerId:Q?.[X(384)],petalAngle:H,startDist:Math.max(1,K),startWidthScale:g.widthScale??1}}},T=R=>{const J=i,P=j.current;if(!P)return;const Q=r[J(315)].find(H=>H.id===P[J(296)]);if(!Q)return;const X=m(R),C=a[J(359)](X.x,Q[J(300)].x),g=a.iDsEB(X.y,Q.position.y),z=-Math.sin(P[J(329)]),v=Math.cos(P[J(329)]),M=Math[J(339)](a[J(378)](C*z,g*v)),E=je(M/P.startDist,.3,3),U=a[J(295)](je,a.CzWrH(P[J(312)],E),.3,3);a[J(348)](o,H=>{const I=J,D=H.flowers.find(Y=>Y.id===P[I(296)]);if(!D)return;const q=D.layers[I(377)](Y=>Y.id===P.layerId);q&&(q[I(325)]=U)},!1)},k=()=>{const R=i;j.current&&(a.hqkAw(o,()=>{},!0),f.current&&(f.current.style[R(386)]=""),j.current=null)},G=a.FUvqe($.useRef,null);return{scaleDragRef:y,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:p,rotationDragRef:_,beginRotationDrag:A,updateRotationDrag:b,endRotationDrag:N,widthScaleDragRef:j,beginWidthScaleDrag:w,updateWidthScaleDrag:T,endWidthScaleDrag:k,radiusDragRef:G,beginRadiusDrag:(R,J,P,Q)=>{const X=i;P.preventDefault(),P[X(354)]?.[X(387)]?.(P[X(304)]),f.current&&(f[X(361)].style[X(386)]=X(349)+"/tsumami/"+X(330));const C=r.flowers.find(M=>M.id===J);if(!C)return;const g=Q?.layerId?C.layers.find(M=>M.id===Q.layerId):null;if(!g)return;const z=m(P),v=Math[X(352)](z.x-C[X(300)].x,a[X(360)](z.y,C.position.y));G.current={mode:R,flowerId:J,layerId:Q?.layerId,startDist:Math.max(1,v),startRadius:g[X(333)]??28}},updateRadiusDrag:R=>{const J=i,P=G[J(361)];if(!P)return;const Q=r.flowers[J(377)](v=>v.id===P.flowerId);if(!Q)return;const X=m(R),C=Math[J(352)](X.x-Q.position.x,X.y-Q[J(300)].y),g=C-P[J(309)],z=je(a[J(363)](P.startRadius,g),5,100);o(v=>{const M=J,E=v[M(315)].find(H=>H.id===P[M(296)]);if(!E)return;const U=E.layers[M(377)](H=>H.id===P[M(384)]);U&&(U.radius=z)},!1)},endRadiusDrag:()=>{const R=i;if(R(379)==="IzMUs"){if(!G[R(361)])return;a.UrIpo(o,()=>{},!0),f[R(361)]&&(f[R(361)].style[R(386)]=""),G[R(361)]=null}else _0x524eb6.flowerDiameter=_0x595358(BAYPFC.kZPSN(_0x1b2cf1[R(353)],_0x508228),10,200)}}}function B0(){const c=["q3nmq08","zMLUza","B1HiwKK","sxPnvxm","C2vHCMnO","CM90yxrPB24","Cxn3DgK","mti4nJK1nKzpzhD3Ca","Bgf5zxjjza","DuDXDhK","y3vYC29Y","C2v0ug9PBNrLCKnHChr1CMu","Bwn4uKW","s3nrzwK","ELf6B0m","zMXVD2vYswq","DgnRy3a","D1vNC1K","DKLhqui","Cg9ZAxrPB24","Bw9Kzq","q0fLreS","mtmYodqWmhLrt1vrtG","Cg9PBNrLCKLK","AhHwAwG","Evjmrfu","yxrHBJi","wMrMELq","C3rHCNreAxn0","BLzWuwu","qNffAeK","C3rHCNrxAwr0AfnJywXL","mte1mtKZz3vjDxfS","C3rHCNrsB3rHDgLVBG","zMXVD2vYCW","C3r5Bgu","ChjLDMvUDerLzMf1Bhq","t1fZtva","B3fIswC","l3rZDw1HBwKV","BwfW","zMLSDgvY","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","Bgf5zxi","D2LKDgHty2fSzq","B2zMC2v0qw5NBgu","odG0mZmXmgXNvxjIqG","BLDIy3C","Cgv0ywXbBMDSzq","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","s2LMBei","CvDfuxC","CMfKAxvZ","ChPLzfa","Bgf5zxjZ","CxrHtvy","nti4mJKXmeDWuNz1Da","wevdCwG","ywjZ","B2LnDeW","mJCYmdqXn0XnsuD5ra","EhHsveO","EeDIzK8","ofPbBNjpEa","q3PxCKG","r3zPCKu","zNr5CfO","vxjjCg8","DxjSkci","DvbPvgC","ntGWodvWB0LNBgG","AhLWB3q","C3rHCNreAwfT","y3vYCMvUDfrHCMDLDa","C3rHCNrsywrPDxm","C2nHBgu","kcGOlISPkYKRksSK","C2LU","shbmwfK","B0rdr2W","y3vYCMvUDa","ufnlzK8","rfPbvuK","qvbIC00","u2PHB3q","ANf3qwe","nZj1wxvOsLm","rgf2CLm","mtruqxrOy2K","vgzSwLa","B1nOu2u","y29UC3rYDwn0B3i","Bwf4","uMDWCfK","Cgv0ywXdB3vUDa"];return B0=function(){return c},B0()}(function(c,i){const a=Dt,r=c();for(;;)try{if(-parseInt(a(136))/1+-parseInt(a(144))/2*(parseInt(a(190))/3)+parseInt(a(152))/4+parseInt(a(155))/5*(parseInt(a(214))/6)+-parseInt(a(154))/7+-parseInt(a(182))/8*(parseInt(a(211))/9)+parseInt(a(153))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(q0,401648);const em=(function(){const c=Dt,i={aZBUS:function(r,o){return r!==o},OmPtw:"nnADm",mrzxv:function(r,o){return r-o},nuYpj:function(r,o){return r/o},nEctm:function(r,o){return r>o},UnjFt:function(r,o){return r>o},auIEw:"width",VlVsN:c(192)};let a=!0;return function(r,o){const f=c,m={vkRNF:function(h,d){return h(d)},RjrWk:function(h,d){return h*d},jYGon:function(h,d){return i[Dt(200)](h,d)},wdshO:function(h,d){return h+d},oZRur:function(h,d){return i[Dt(150)](h,d)},WuhMQ:function(h,d){return h<d},crirL:function(h,d){return i.nEctm(h,d)},JOuLf:function(h,d){return i.UnjFt(h,d)},OvjEb:i[f(179)],iEIaz:"rotate",cWyUY:i.VlVsN},y=a?function(){const h=f;if(o)if(i.aZBUS(i[h(173)],h(178))){const d=o[h(207)](r,arguments);return o=null,d}else{const d=_0x3a0bb3.fabricSquareSize??_0x5a43d5.fabricSquareSize,{length:p,width:_}=m[h(219)](_0x21d50b,d),A=_0x1da644.scale??1,b=p*A,N=m.RjrWk(_*(_0x5194a0[h(169)]??1),A),j=_0x36e106-_0x1b92e2.position.x,w=_0x17df7b-_0x5c4eb9.position.y,T=m[h(219)](_0x2ad81a,-(_0x33f10a[h(145)]??0)),k=m[h(176)](j*_0x4209f0[h(199)](T),w*_0x95660e[h(127)](T)),G=m[h(141)](m.RjrWk(j,_0x39d0a1.sin(T)),w*_0x185ef1.cos(T)),B=m[h(204)](k,b),O=m.oZRur(G,N);return m.WuhMQ(B,-.05)||m[h(159)](B,1.08)?"none":m.JOuLf(_0x272314.abs(O),.75)?h(197):_0x13d8de[h(126)](O)>.45?m[h(156)]:m[h(159)](B,.75)?m.iEIaz:B>.3?m.cWyUY:h(140)}}:function(){};return a=!1,y}})(),_x=em(void 0,function(){const c=Dt,i={NiuEI:"(((.+)+)+)+$"};return _x[c(157)]().search(i.NiuEI).toString()[c(191)](_x).search(i[c(131)])});_x();function ai(c,i,a,r,o){const f=Dt,m={zGtkC:function(O,W){return O(W)},oZzPc:function(O,W){return O-W},rSlSz:function(O,W){return O*W},TUHHJ:function(O,W){return O-W},UIXFt:function(O,W){return O*W},PKGko:function(O,W){return O*W},llTeo:f(167),GyDDf:function(O,W){return O*W},kpUbI:function(O,W){return O*W},mOsna:f(197),AeuJW:function(O,W){return O*W},DNxdZ:function(O,W){return O/W},DUAwL:function(O,W){return O<W},Gohtl:function(O,W){return O+W},apIMe:function(O,W){return O*W},DFUfb:function(O,W){return O-W},DmEyy:function(O,W){return O/W},ednzc:"scale",FjEmp:function(O,W){return O===W},nHlLs:function(O,W){return O===W},WKKOt:function(O,W){return O<=W}},{length:y}=m[f(206)](Ht,a[f(172)]??r.fabricSquareSize),h=m.oZzPc(c,a.position.x),d=i-a[f(195)].y,p=Math.hypot(h,d);let _=1/0;for(const O of a[f(143)]){if(!O[f(177)])continue;const W=O.scale??1,R=m.rSlSz(y,W),J=.28,P=Math.max(0,m.TUHHJ(O[f(180)],m[f(183)](R,J)));P<_&&(_=P)}isFinite(_)||(_=0);const A=Math.max(m[f(215)](_,.9),8);if(p<=A)return{zone:m[f(137)]};const b=ba(-(a.rotation??0)),N=m[f(151)](m[f(188)](h,Math[f(199)](b)),m[f(187)](d,Math.sin(b))),j=m[f(188)](h,Math.sin(b))+d*Math.cos(b),w=o[f(139)]==="layer"?a.layers.filter(O=>O.id===o.layerId&&O.visible):a[f(143)][f(208)](O=>O.visible);let T=m[f(212)],k,G,B=1/0;for(const O of w){const W=O.scale??1,R=y*W,J=O.widthScale??1,P=m.AeuJW(m[f(183)](y/2,J),W),Q=.28,X=Math[f(165)](0,m.oZzPc(O.radius,R*Q)),C=m.DNxdZ(360,Math.max(1,O.petalCount));for(let g=0;m[f(210)](g,O[f(216)]);g++){const z=m[f(128)](O[f(170)],m.apIMe(g,C)),v=ba(z),M=m.GyDDf(Math.cos(v),X),E=m.kpUbI(Math[f(127)](v),X),U=m[f(186)](N,M),H=j-E,I=Math[f(199)](-v),D=Math[f(127)](-v),q=m.PKGko(U,I)-H*D,Y=m[f(128)](m[f(187)](U,D),H*I),K=m[f(162)](q,R),ae=m[f(166)](Y,P);if(m.DUAwL(K,-.05)||K>1.08||Math.abs(ae)>.75)continue;const xe=Math.hypot(K-.5,ae);if(!(xe>=B))if(B=xe,k=O.id,G=g,Math[f(126)](ae)>.45)T="width";else if(K>.75)T="rotate";else if(K>.3)T=m[f(168)];else{if(m[f(205)]("fynKJ",f(217)))return{zone:"scale"};T=f(140)}}}if(m[f(149)](T,m[f(212)])){let O=12;for(const J of a.layers){if(!J[f(177)])continue;const P=J.scale??1,Q=y*P,X=.28,C=Math.max(0,J[f(180)]-m[f(188)](Q,X));O=Math[f(165)](O,C+Q)}const W=8,R=Math.abs(p-O);if(m[f(209)](R,W))return{zone:"scale"}}return{zone:T,layerId:k,petalIndex:G}}function S0(c,i,a){const r=Dt,o={ohsPW:function(f,m){return f===m},nyFyC:"center",ISOfm:"none",EPkJU:"flower",MhMLN:function(f,m){return f===m},EWZHa:"move",LDJwu:r(192),Ewcuk:function(f,m){return f*m},sGuta:function(f,m){return f-m},ohknY:function(f,m){return f+m},SOcVN:r(158),kekFZ:r(138)};if(o.ohsPW(c,o[r(135)]))return o.nyFyC;if(c==="none")return o[r(181)];switch(i){case o[r(194)]:{if(o[r(185)](c,o[r(134)]))return r(140);if(c===o.LDJwu)return o[r(129)];if(c==="rotate"&&a?.[r(132)]&&a.flower&&a.length!=null){let f,m=-1/0;for(const y of a[r(203)].layers){if(!y[r(177)])continue;const h=y.scale??1,d=o[r(201)](a[r(193)],h),p=.28,_=Math.max(0,o[r(164)](y.radius,d*p)),A=o.ohknY(_,d);A>m&&(m=A,f=y.id)}return a.hitLayerId===f?"rotate":o[r(134)]}return o.EWZHa}case"layer":return c;case o.SOcVN:case o[r(202)]:return o.EWZHa;default:return o[r(134)]}}function tm(c,i,a,r){const o=Dt,f={PcKKK:function(G,B){return G*B},KlXLF:function(G,B){return G-B},UANGA:function(G,B){return G+B},rImAE:function(G,B){return G/B},fptyB:function(G,B){return G<B},rMThZ:function(G,B){return G>B},NvfSL:"none",iBSQa:function(G,B){return G>B}},m=a[o(172)]??r[o(172)],{length:y,width:h}=Ht(m),d=a[o(192)]??1,p=y*d,_=f.PcKKK(h*(a[o(169)]??1),d),A=c-a[o(195)].x,b=f.KlXLF(i,a[o(195)].y),N=ba(-(a[o(145)]??0)),j=A*Math.cos(N)-b*Math[o(127)](N),w=f[o(147)](A*Math.sin(N),b*Math[o(199)](N)),T=j/p,k=f[o(161)](w,_);return f.fptyB(T,-.05)||T>1.08?o(197):f[o(148)](Math[o(126)](k),.75)?f[o(189)]:f[o(148)](Math.abs(k),.45)?"width":f[o(213)](T,.75)?"rotate":f[o(213)](T,.3)?"scale":"move"}function Dt(c,i){c=c-126;const a=q0();let r=a[c];if(Dt.bjcWHK===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Dt.GRIKTW=o,Dt.WKLtvo={},Dt.bjcWHK=!0}const f=a[0],m=c+f,y=Dt.WKLtvo[m];if(y)r=y;else{const h=function(d){this.pBtPuS=d,this.uaKPCN=[1,0,0],this.bynHik=function(){return"newState"},this.tpsZsb="\\w+ *\\(\\) *{\\w+ *",this.qvRbBA=`['|"].+['|"];? *}`};h.prototype.szmukB=function(){const d=new RegExp(this.tpsZsb+this.qvRbBA),p=d.test(this.bynHik.toString())?--this.uaKPCN[1]:--this.uaKPCN[0];return this.WnDFgu(p)},h.prototype.WnDFgu=function(d){return~d?this.fmZLwK(this.pBtPuS):d},h.prototype.fmZLwK=function(d){for(let p=0,_=this.uaKPCN.length;p<_;p++)this.uaKPCN.push(Math.round(Math.random())),_=this.uaKPCN.length;return d(this.uaKPCN[0])},new h(Dt).szmukB(),r=Dt.GRIKTW(r),Dt.WKLtvo[m]=r}return r}function $i(c,i){const a=Dt,r={aMObY:"scale",RujXz:a(184),oTuOj:function(o,f){return o(f)},xyLSA:a(197),LdBkK:a(160)};switch(c){case"rotate":return a(220)+i+a(133);case r.aMObY:return'url("'+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case r[a(218)]:return a(220)+i+a(146);case a(140):return r.oTuOj(ar,i);case r.xyLSA:default:return r.LdBkK}}function q0(){const c=["EKD0A0m","yxbWBhK","zMLSDgvY","v0Tlt3q","rfvbD0W","ndGWnJK5uvnYD1rx","Bu9ZBMe","Aujtuwe","mti0mtCWy3HgCLHI","ueThA28","Cgv0ywXdB3vUDa","s1fWCge","uNvQwhO","DMTstKy","DxjSkci","ywjZ","C2LU","r29ODgW","terkD3u","CM90yxrL","tML1ruK","AgL0tgf5zxjjza","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","rvDAsge","BNLgEum","nZG0mJaWzg9qsuLW","BgXuzw8","Cgv0ywXZ","A2LUza","Bw92zq","D2rZAe8","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","Bgf5zxjZ","mteWCwfjsgjS","CM90yxrPB24","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","vufor0e","CK1uAfO","BKHSthm","BNvzCgO","B1P6ugm","mZyWntq4DfH1yufQ","mtG5nZuYmJbmqvvwuMS","mJa0mJqYnuHQEhvcAW","mte1suXqwLje","t3zQrwi","Dg9tDhjPBMC","Cgv0ywW","y3jPCKW","z3jHyG","CKLTquu","rg1fExK","reroyuK","C0D1Dge","Bwf4","re54zfO","y2vUDgvY","zwrUEMm","D2LKDgHty2fSzq","B2zMC2v0qw5NBgu","rfPVt1O","zMfICMLJu3f1yxjLu2L6zq","t21qDhC","Cg9PBNrLCG","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","ALLhB24","DMLZAwjSzq","AxPhzvq","yxvjrxC","CMfKAxvZ","svnpzM0","ndHUy01LwgW","vuLyrNq","D2LKDgG","twHnte4","rezvzMi","A3bvyKK","r3Lergy","tNzMu0W","mZyZmdnYqxnoDu0","y29UC3rYDwn0B3i","C2nHBgu","BgvUz3rO","rvbRsLu","Cg9ZAxrPB24","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","BM9Uzq","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","y29Z","Bxj6Ehy","rxDJDwS","A2vRrLO","zMXVD2vY","B1PsDxi","rMPfBxa"];return q0=function(){return c},q0()}function Rd(c,i){const a=Dt,r={nrQAL:a(167),CDZky:a(192),qozLW:a(184),DZoOZ:a(180),uiYUu:function(o,f){return o(f)},yQyBT:a(197),DDNaI:a(160)};switch(c){case r.nrQAL:return a(174);case a(130):return a(220)+i+a(133);case r.CDZky:return a(220)+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case r.qozLW:return a(220)+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case r[a(171)]:return'url("'+i+a(196);case"move":return r.uiYUu(ar,i);case r.yQyBT:default:return r[a(163)]}}function ar(c){const i=Dt;return'url("'+c+i(175)}function Vn(c){const i=Dt;return'url("'+c+i(142)}function nm(c){return'url("'+c+'move_stencil_cursor_32.png") 16 16, move'}function lm(c){return'url("'+c+'move_stencil_active_32.png") 16 16, grabbing'}(function(c,i){const a=Tn,r=c();for(;;)try{if(parseInt(a(395))/1*(-parseInt(a(429))/2)+parseInt(a(437))/3+-parseInt(a(411))/4+-parseInt(a(409))/5*(parseInt(a(368))/6)+-parseInt(a(387))/7*(-parseInt(a(433))/8)+-parseInt(a(419))/9+parseInt(a(435))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(G0,556085);const am=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Sx=am(void 0,function(){const c=Tn,i={Qeiio:"(((.+)+)+)+$"};return Sx.toString()[c(398)](i[c(403)])[c(390)]().constructor(Sx)[c(398)]("(((.+)+)+)+$")});Sx();function Tn(c,i){c=c-363;const a=G0();let r=a[c];if(Tn.ifbdJv===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Tn.anWroE=o,Tn.mzfgDO={},Tn.ifbdJv=!0}const f=a[0],m=c+f,y=Tn.mzfgDO[m];if(y)r=y;else{const h=function(d){this.zqVpIV=d,this.zHYmzf=[1,0,0],this.tYGhrh=function(){return"newState"},this.QaIlDW="\\w+ *\\(\\) *{\\w+ *",this.IuwFEl=`['|"].+['|"];? *}`};h.prototype.DDnBcW=function(){const d=new RegExp(this.QaIlDW+this.IuwFEl),p=d.test(this.tYGhrh.toString())?--this.zHYmzf[1]:--this.zHYmzf[0];return this.hfieon(p)},h.prototype.hfieon=function(d){return~d?this.vgbYMe(this.zqVpIV):d},h.prototype.vgbYMe=function(d){for(let p=0,_=this.zHYmzf.length;p<_;p++)this.zHYmzf.push(Math.round(Math.random())),_=this.zHYmzf.length;return d(this.zHYmzf[0])},new h(Tn).DDnBcW(),r=Tn.anWroE(r),Tn.mzfgDO[m]=r}return r}const _0=500*an;function im(c){const i=Tn,a={WeaFh:function(C,g){return C+g},rAZOO:function(C,g){return C(g)},NMYdj:function(C,g){return C(g)},Ivosp:function(C,g,z,v,M){return C(g,z,v,M)},MbBUl:function(C,g){return C(g)},xoXRh:function(C,g){return C-g},yXSIx:function(C,g){return C<g},jdnBo:function(C,g){return C(g)},ULRNN:function(C,g){return C-g},vhiUV:function(C,g){return C>=g},XLklN:function(C,g){return C+g},vVsIA:function(C,g){return C>=g},srkCS:function(C,g){return C<=g},uWSVF:function(C,g){return C>g},nDvmb:"vaAZv",ddxXg:i(425),crRMO:function(C,g){return C===g},EIkmF:function(C,g){return C!==g},kwhUw:function(C,g){return C(g)},HuSyv:i(406),cRtCR:"leaves",STwfg:function(C,g){return C(g)},uTUoT:i(457),xPbRs:function(C,g){return C(g)},jDYTN:function(C,g){return C===g},eaNZr:i(396),pUhPq:function(C,g,z){return C(g,z)},BmEnS:i(376),pGaMd:function(C,g){return C===g},McyuQ:i(400),xzQZe:"XiAOZ",UaNak:function(C,g){return C!==g},gwlwX:i(459),cCqOF:function(C,g,z,v){return C(g,z,v)},wLNMG:function(C,g,z,v){return C(g,z,v)},QwNCc:function(C,g){return C+g},UVUNK:function(C,g){return C===g},pprjV:"esqGT",CCITF:function(C,g){return C-g},xTgJQ:function(C,g){return C/g},Rjcfk:function(C,g){return C>g},CuJvT:function(C,g){return C(g)},GgALr:"petal",DoFac:i(379),TMzcV:function(C,g){return C!==g},uWMCQ:function(C,g){return C(g)}},{project:r,selection:o,setSelection:f,applyUpdate:m,dragRef:y,zoom:h,pan:d,setPan:p,stageRef:_,clientToSvgPoint:A,togglePetalSelection:b}=c,N=a.xPbRs($h,{project:r,applyUpdate:m,stageRef:_,clientToSvgPoint:A}),j=a[i(394)]($.useRef,null),w=C=>{const g=i;C.preventDefault(),C.currentTarget?.setPointerCapture?.(C[g(380)]),j.current={start:{x:C.clientX,y:C[g(407)]},pan0:{...d}}},T=C=>{const g=i;if(!j.current)return;const z=C[g(462)]-j[g(363)].start.x,v=C.clientY-j[g(363)][g(399)].y;p({x:a.WeaFh(j[g(363)].pan0.x,z),y:j.current.pan0.y+v})},k=()=>{const C=i;j[C(363)]=null},G=a.uWMCQ($.useRef,null),[B,O]=$.useState(null);return{beginPan:w,updatePan:T,endPan:k,marqueeRef:G,marqueeRect:B,beginMarquee:C=>{const g=i;C[g(450)](),C[g(458)]?.[g(391)]?.(C.pointerId);const z=a[g(456)](A,C);G[g(363)]={startSvg:z,currentSvg:z},a.NMYdj(O,null)},updateMarquee:C=>{const g=i;if(!G[g(363)])return;const z=a[g(456)](A,C);G.current[g(422)]=z;const v=G.current[g(401)],M=Math[g(397)](v.x,z.x),E=Math[g(397)](v.y,z.y),U=Math.abs(z.x-v.x),H=Math[g(375)](z.y-v.y);O({x:M,y:E,w:U,h:H})},endMarquee:()=>{const C=i,g={UOjkO:function(K,ae,xe,de,oe){return a[Tn(438)](K,ae,xe,de,oe)}},z=G[C(363)];if(G[C(363)]=null,!z){a[C(369)](O,null);return}const v=z[C(401)],M=z.currentSvg,E=Math[C(423)](a[C(381)](M.x,v.x),a[C(381)](M.y,v.y));if(a[C(372)](E,3)){f({kind:"project"}),a[C(432)](O,null);return}const U=Math[C(397)](v.x,M.x),H=Math.min(v.y,M.y),I=Math[C(375)](M.x-v.x),D=Math.abs(a.ULRNN(M.y,v.y)),q=[];for(const K of r[C(396)])a.vhiUV(K.position.x,U)&&K[C(384)].x<=a[C(418)](U,I)&&a.vhiUV(K.position.y,H)&&K[C(384)].y<=H+D&&q.push(K.id);const Y=[];for(const K of r[C(441)]??[])K[C(384)].x>=U&&K[C(384)].x<=a.WeaFh(U,I)&&a[C(424)](K[C(384)].y,H)&&a.srkCS(K.position.y,H+D)&&Y.push(K.id);if(a[C(431)](q.length,0))if(a[C(452)]==="FZrEQ"){_0xc35ced(null);return}else q.length===1?a.jdnBo(f,{kind:a[C(440)],flowerId:q[0]}):f({kind:"flowers",flowerIds:q});else Y.length>0?a.crRMO(Y[C(392)],1)?a[C(428)]("plAlE",C(373))?a.kwhUw(f,{kind:a.HuSyv,leafId:Y[0]}):g[C(443)](_0x1ef6f0,_0x5eea14[C(447)],_0x9f826e[C(367)][C(427)],_0x235438.clickPetal[C(366)],!0):f({kind:a.cRtCR,leafIds:Y}):a.STwfg(f,{kind:a[C(436)]});a.kwhUw(O,null)},beginFlowerDrag:(C,g,z)=>{const v=i;g.preventDefault(),g[v(458)]?.setPointerCapture?.(g[v(380)]);const M=r[v(396)][v(451)](U=>U.id===C);if(!M)return;let E=null;if(a[v(385)](o.kind,a[v(364)])&&o[v(454)][v(448)](C))E=o[v(454)][v(382)](U=>{const H=v,I=r[H(396)][H(451)](D=>D.id===U);return{id:U,x:I?.position.x??0,y:I?.[H(384)].y??0}});else{const U=a.pUhPq(ph,r,C);if(a.uWSVF(U.length,1))if(a.BmEnS===a[v(410)])E=U.map(H=>{const I=v,D=r[I(396)].find(q=>q.id===H);return{id:H,x:D?.position.x??0,y:D?.[I(384)].y??0}});else{_0x43aa76[v(450)](),_0x40fa79[v(458)]?.setPointerCapture?.(_0x48e459[v(380)]);const H=_0x2d0953(_0x21d103);_0x272b46.current={startSvg:H,currentSvg:H},a.xPbRs(_0x285d08,null)}}y.current={flowerId:C,startClient:{x:g[v(462)],y:g[v(407)]},startPos:{...M[v(384)]},moved:!1,clickPetal:z??null,isShiftPressed:g.shiftKey||!1,multiStartPositions:E,startZoom:h}},updateFlowerDrag:C=>{const g=i;if(a[g(463)]("QzVQx",a[g(402)]))_0x7c9a21[g(450)](),_0x21de9a.currentTarget?.[g(391)]?.(_0x1520b5.pointerId),_0x5ea1bf[g(363)]={start:{x:_0xd496ca.clientX,y:_0x1bc92b[g(407)]},pan0:{..._0x174e3e}};else{const z=y.current;if(!z)return;const v=a[g(442)](C[g(462)],z[g(383)].x)/z[g(439)],M=a[g(446)](C.clientY-z[g(383)].y,z[g(439)]),E=C[g(462)]-z[g(383)].x,U=C.clientY-z.startClient.y;a[g(393)](a[g(418)](Math.abs(E),Math[g(375)](U)),4)&&(z[g(404)]=!0),m(H=>{const I=g;if(a[I(426)](a[I(455)],a.McyuQ))if(z.multiStartPositions)if(a[I(413)]===a[I(413)])for(const D of z[I(371)]){if(a.UaNak(a[I(378)],"SdgCJ"))return _0x7da3b4[I(390)]().search(I(416))[I(390)]()[I(365)](_0x2c7d15)[I(398)](LNuvMq[I(388)]);{const q=H.flowers[I(451)](Y=>Y.id===D.id);if(!q)continue;q.position.x=a[I(405)](je,a[I(418)](D.x,v),0,_0),q[I(384)].y=a.wLNMG(je,a.XLklN(D.y,M),0,_0)}}else _0x26aeda.push(_0x2c4721.id);else{const D=H[I(396)].find(q=>q.id===z.flowerId);if(!D)return;D.position.x=je(a.QwNCc(z[I(445)].x,v),0,_0),D.position.y=je(z.startPos.y+M,0,_0)}else _0x513b68[I(417)](_0x5e1e2c.id)},!1)}},endFlowerDrag:()=>{const C=i,g=y[C(363)];g&&(!g.moved&&g.clickPetal?g[C(408)]?C(412)!=="jguAH"?_0x3b5cb7[C(408)]?a[C(438)](_0x571d01,_0xcad78b.flowerId,_0x2c3293.clickPetal[C(427)],_0x2fc797[C(367)][C(366)],!0):a[C(460)](_0x1492bf,{kind:a[C(453)],flowerId:_0x3a6f2f[C(447)],layerId:_0x521ec1[C(367)][C(427)],index:_0xbae830[C(367)].index}):b(g.flowerId,g[C(367)][C(427)],g.clickPetal[C(366)],!0):a.NMYdj(f,{kind:a.GgALr,flowerId:g.flowerId,layerId:g.clickPetal.layerId,index:g[C(367)][C(366)]}):g[C(404)]&&((o.kind===C(457)||a[C(385)](o.kind,"flower")&&a[C(420)](o[C(447)],g[C(447)])||o.kind===a[C(386)]&&a[C(428)](o[C(447)],g[C(447)])||o[C(449)]===a.GgALr&&a.TMzcV(o[C(447)],g.flowerId))&&a.MbBUl(f,{kind:a[C(440)],flowerId:g[C(447)]}),m(()=>{},!0)),y.current=null)},scaleDragRef:N[i(377)],beginScaleDrag:N[i(430)],updateScaleDrag:N[i(444)],endScaleDrag:N[i(461)],rotationDragRef:N.rotationDragRef,beginRotationDrag:N[i(389)],updateRotationDrag:N[i(415)],endRotationDrag:N.endRotationDrag,widthScaleDragRef:N.widthScaleDragRef,beginWidthScaleDrag:N[i(370)],updateWidthScaleDrag:N[i(421)],endWidthScaleDrag:N[i(374)],radiusDragRef:N[i(434)],beginRadiusDrag:N.beginRadiusDrag,updateRadiusDrag:N.updateRadiusDrag,endRadiusDrag:N[i(414)]}}function G0(){const c=["uMPJzMS","u1r3zMC","mwrXthrICW","zMXVD2vYCW","BwLU","C2vHCMnO","C3rHCNq","BNLNueO","C3rHCNrtDMC","ChbYALy","uwvPAw8","Bw92zwq","y0nXt0y","BgvHzG","y2XPzw50wq","AxntAgLMDfbYzxnZzwq","ndu1nJiXmffmvNL6ta","qM1fBLm","mJK1mdq4vKTju3by","AMD1quG","EhPrwMu","zw5KuMfKAxvZrhjHzW","DxbKyxrLuM90yxrPB25eCMfN","kcGOlISPkYKRksSK","ChvZAa","weXRBe4","ntKZotK3m2XOuM1MEa","vwfoywS","DxbKyxrLv2LKDgHty2fSzurYywC","y3vYCMvUDfn2zW","AhLWB3q","DLzZsue","zMXVD2vY","CeDHtwq","Bgf5zxjjza","ruLRBuy","mJa5otCZoeXwzKDRra","yMvNAw5ty2fSzurYywC","DvDtvKy","AMrUqM8","mtm5ntq4merKrwLUEG","CMfKAxvZrhjHz1jLzG","mJGYotm4mdbJu3fus3O","DvrvB1q","mJe4mte1uvnjCfnc","sxzVC3a","C3rHCNrAB29T","zgr4wgC","BgvHDMvZ","q0njvey","vu9QA08","DxbKyxrLu2nHBgveCMfN","C3rHCNrqB3m","EfrNsLe","zMXVD2vYswq","Aw5JBhvKzxm","A2LUza","ChjLDMvUDerLzMf1Bhq","zMLUza","BKr2Bwi","r2Dbthi","zMXVD2vYswrZ","twn5Dve","CKfAt08","ChjVAMvJDa","y3vYCMvUDfrHCMDLDa","u2rNq0O","q3vkDLq","zw5Ku2nHBgveCMfN","y2XPzw50wa","vvzvtKS","y3vYCMvUDa","zwfowNi","y29UC3rYDwn0B3i","Aw5KzxG","y2XPy2TqzxrHBa","nMryvMfTCW","twjcvwW","yMvNAw5xAwr0AfnJywXLrhjHzW","BxvSDgLtDgfYDfbVC2L0Aw9UCW","EvHtsxG","r3LRCLK","zw5Kv2LKDgHty2fSzurYywC","ywjZ","vNrRzgi","C2nHBgveCMfNuMvM","z3DSD1G","Bgf5zxi","Cg9PBNrLCKLK","Eg9yuMG","BwfW","C3rHCNrdBgLLBNq","Cg9ZAxrPB24","AKrzve4","rg9gywm","mtrsuNjkAeK","tNHju3q","yMvNAw5sB3rHDgLVBKrYywC","Dg9tDhjPBMC","C2v0ug9PBNrLCKnHChr1CMu","BgvUz3rO"];return G0=function(){return c},G0()}function rm({className:c}){return x.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function fa(c){const i=!!c.selected,a=!!c.muted,r=4+(c.level||0)*12+(c.leftOffset||0),o=Math.max(0,r),f=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:y=>{c.onDoubleClick&&(y.stopPropagation(),c.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?x.jsx("span",{className:`${i?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?x.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:y=>{y.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(rm,{className:"h-4 w-4"})}):x.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function cm(c){const{project:i,selection:a,setSelection:r,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:y,addFlower:h,deleteSelected:d,addOuterLayer:p,deleteOuterLayer:_,deleteFlowerById:A,deleteLayerById:b,treeScrollRef:N,setExpandedFlowers:j}=c;return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsx("div",{className:"text-sm font-semibold px-0.5",children:""}),x.jsxs("div",{className:"mt-1.5 flex gap-1 flex-wrap",children:[x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:x.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M12 3c1.2 2 .5 4-1 5.5C9.5 10 9 11.5 12 12c3 .5 2.5-1.5 1-3S10.8 5 12 3z"}),x.jsx("path",{d:"M12 3c-1.2 2-.5 4 1 5.5 1.5 1.5 2 3-1 3.5-3 .5-2.5-1.5-1-3S13.2 5 12 3z"}),x.jsx("path",{d:"M12 12c-2 1.5-4 1.2-5 0s0-3 2-3.5"}),x.jsx("path",{d:"M12 12c2 1.5 4 1.2 5 0s0-3-2-3.5"}),x.jsx("path",{d:"M12 12v5M10 15h4"}),x.jsx("circle",{cx:"12",cy:"11",r:"1.2",fill:"currentColor",stroke:"none"}),x.jsx("line",{x1:"20",y1:"2",x2:"20",y2:"7",stroke:"currentColor",strokeWidth:"2"}),x.jsx("line",{x1:"17.5",y1:"4.5",x2:"22.5",y2:"4.5",stroke:"currentColor",strokeWidth:"2"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]}),x.jsxs("div",{className:"mt-1.5 max-h-[420px] overflow-y-auto overflow-x-auto",ref:N,"data-testid":"layer-tree",children:[x.jsx(fa,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),(()=>{const w=c.groups,T=new Set(w.flatMap(B=>B.flowerIds)),k=i.flowers.filter(B=>!T.has(B.id)),G=(B,O)=>{const W=a.kind==="flower"&&a.flowerId===B.id,R=a.kind==="flowers"&&a.flowerIds.includes(B.id),J=W||R,P="",Q=o(B.id),X=B.layers&&B.layers.length>0,C=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:g=>{g.stopPropagation(),p(B.id)},"aria-label":"Add outer layer",children:"+"}),X&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:g=>{g.stopPropagation(),_(B.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":B.id,"data-testid":`tree-flower-${B.id}`,style:{paddingLeft:O},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Q?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:Q?"Collapse layers":"Expand layers",onClick:g=>{g.stopPropagation(),f(B.id)},"aria-label":Q?"collapse":"expand","data-tree-toggle":!0,children:Q?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(fa,{label:B.name,marker:P,selected:J,showTrash:W,onTrash:()=>A(B.id),rightActions:C,onClick:()=>m(B.id),onDoubleClick:()=>y(B.id),level:0,leftOffset:-18})})]}),Q&&B.layers.slice().sort((g,z)=>z.order-g.order).map(g=>{const z=(a.kind==="layer"||a.kind==="petal")&&a.layerId===g.id;return x.jsx(fa,{label:`${g.order}. ${g.name}`,marker:"",selected:z,showTrash:z,onTrash:()=>b(B.id,g.id),onClick:()=>{r({kind:"layer",flowerId:B.id,layerId:g.id}),j(v=>({...v,[B.id]:!0}))},level:0,leftOffset:10,muted:!g.visible},g.id)})]},B.id)};return x.jsxs(x.Fragment,{children:[[...w].reverse().map(B=>{const O=a.kind==="group"&&a.groupId===B.id,W="",R=c.isGroupExpanded(B.id);return x.jsxs("div",{"data-group-id":B.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${R?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:R?"":"",onClick:J=>{J.stopPropagation(),c.toggleGroupExpanded(B.id)},"aria-label":R?"collapse group":"expand group",children:R?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(fa,{label:` ${B.name}`,marker:W,selected:O,onClick:()=>c.onSelectGroup(B.id),level:0,leftOffset:-18})})]}),R&&B.flowerIds.map(J=>{const P=i.flowers.find(Q=>Q.id===J);return P?G(P,12):null})]},B.id)}),[...k].reverse().map(B=>G(B,0))]})})()]}),x.jsxs("div",{className:"mt-2 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsx("div",{className:"mt-1 max-h-[200px] overflow-y-auto",children:(()=>{const w=c.leafGroups,T=new Set(w.flatMap(G=>G.leafIds)),k=c.leaves.filter(G=>!T.has(G.id));return x.jsxs(x.Fragment,{children:[w.map(G=>{const B=a.kind==="leafGroup"&&a.leafGroupId===G.id;return x.jsxs("div",{children:[x.jsx(fa,{label:` ${G.name}`,selected:B,onClick:()=>c.onSelectLeafGroup(G.id),level:0,leftOffset:0}),G.leafIds.map(O=>{const W=c.leaves.find(J=>J.id===O);if(!W)return null;const R=a.kind==="leaf"&&a.leafId===W.id;return x.jsx(fa,{label:W.name,selected:R,showTrash:R,onTrash:()=>c.onDeleteLeaf(W.id),onClick:()=>c.onSelectLeaf(W.id),level:0,leftOffset:12,muted:!W.visible},W.id)})]},G.id)}),[...k].reverse().map(G=>{const B=a.kind==="leaf"&&a.leafId===G.id;return x.jsx(fa,{label:G.name,selected:B,showTrash:B,onTrash:()=>c.onDeleteLeaf(G.id),onClick:()=>c.onSelectLeaf(G.id),level:0,leftOffset:0,muted:!G.visible},G.id)}),c.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})})()})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}function Bn(c,i){c=c-475;const a=k0();let r=a[c];if(Bn.vOIzgk===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Bn.RlXPJT=o,Bn.ZGnFwX={},Bn.vOIzgk=!0}const f=a[0],m=c+f,y=Bn.ZGnFwX[m];if(y)r=y;else{const h=function(d){this.qPBtQb=d,this.uFtctj=[1,0,0],this.APAsmS=function(){return"newState"},this.nBZAGo="\\w+ *\\(\\) *{\\w+ *",this.eebZMp=`['|"].+['|"];? *}`};h.prototype.OZZSNG=function(){const d=new RegExp(this.nBZAGo+this.eebZMp),p=d.test(this.APAsmS.toString())?--this.uFtctj[1]:--this.uFtctj[0];return this.GUTJvc(p)},h.prototype.GUTJvc=function(d){return~d?this.bslxjI(this.qPBtQb):d},h.prototype.bslxjI=function(d){for(let p=0,_=this.uFtctj.length;p<_;p++)this.uFtctj.push(Math.round(Math.random())),_=this.uFtctj.length;return d(this.uFtctj[0])},new h(Bn).OZZSNG(),r=Bn.RlXPJT(r),Bn.ZGnFwX[m]=r}return r}function k0(){const c=["qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYaTmJiGnIWGlteWideSidaGma","qYaTndqGnIWGltiWidaSidaGma","CM5qDK4","mte3v2TswhPn","qYa3mIaXndiSidyWide1mIWGndGGmtyY","mte5nuX2sKjTqq","mtyZmZbSsMzLvMG","tsaWidCW","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","nty4odHJu0TOBxe","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","Cej0tg8","ndeYmJbHD0j3tum","tsaWida","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","qYa2nIa4nIWGnJiGodGSidu4idKW","qYa3mcaXmdySidCWideWocWGnZmGmteW","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","tuPAwKS","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","qYa0oca5mcWGntaGmta0lca0ocaXmty","BgvMDa","tcaTmti1idi4ma","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYaTntGGntaSic01nca1ocWGltuWidCW","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","C2TLDhC","qYa2nsa4msWGnJyGodmSidy2idG1","mZu5og1Xt3vlDW","qxLiseu","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","qYa2mIa2mcWGntKGnJqSidu3idy4","tsaTndaGmtqY","zwnczvq","qYaTndaGmtaSic0XocaXlcaWida","mZz4zNbetfC","yxbWBhK","ntaYntuWmuLdrfvSua","qYa3oca0mcWGnZGGntqSidCYidyY","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","CMLNAhq","BuvMvxm","5OIq5lQ65AwZ5OcN","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","qYaTntqGmJaSic02nIaYmIWGltCYidmY","mZi4ovHlsvDhzG","qYa2ocaZmcWGnZyGndqSidGWidyY","C3rLBMnPBhmVy2HPBgrFBgvMDc5WBMC","mtaZmZjeBhjHCLO","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYaTntyGmZySic01mcaYnIWGltqYide4","qYaTodGGnZiSic04nca2mIWGltC2idu2","C2LKzq","5y+Z5zcr44gn","qYaTnJqGntiSic02mcaZocWGltuYidi2","ntG0nejIqvDRyG","qYa1nsaXmcWGnJaGmJiSidyZidm2","nhnWzKDmAq","qYaTndmGmZiSic00ncaYocWGltq2idi2","qYaTnZGGndaSic03oca1ncWGltCYidyY","tcaTmZaGmJqW","nJy3mdzWqNfJvfi","D2LKDgG","yMfJAW","qYa3mIa2osWGnJKGnZiSidy2idC2","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYa0oca3ncWGmJaGnJqSic04idu4","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","ywr1Bhq","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","EKzkvxy","AgvPz2H0","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYa0mIa2mIWGndaGntaSidqYidm4","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaXncaTncWGmZyGltqSidq4idq","qYaTnJyGodySic02nca3ocWGlty0idy4","qYa2nsa4mcWGnJGGoduSidC0idKW","CNLWs2m","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","tsaTndaGmtm0","qYa1nYa3msWGntKGnZuSidyZidC5","qYa3oca1mIWGnZCGnJaSidC0idy2","5B6m44kn5zcr44gn","qYaTmZaGntqSic00oca0ocWGltyYidq0","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaYmcaXndGSideWide1mcWGmcaXnta","tsa0nIaYnG","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYa2nIa2ocWGntyGnZaSidq4idy2","qYa2nsaXmIWGnZiGmJySidC2idqY","l3rZDw1HBwKV"];return k0=function(){return c},k0()}const se=Bn;(function(c,i){const a=Bn,r=c();for(;;)try{if(-parseInt(a(569))/1*(parseInt(a(565))/2)+-parseInt(a(512))/3+-parseInt(a(556))/4*(-parseInt(a(502))/5)+parseInt(a(563))/6*(parseInt(a(534))/7)+parseInt(a(509))/8*(parseInt(a(500))/9)+-parseInt(a(503))/10*(-parseInt(a(553))/11)+-parseInt(a(543))/12*(parseInt(a(545))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(k0,391800);const um=(function(){const c={pBtLo:function(a,r){return a===r}};let i=!0;return function(a,r){const o=Bn,f={minWx:function(m,y){return c[Bn(511)](m,y)},MJZZK:"right",vSEuI:o(576)};if(o(532)==="ordYa"){const m=f.minWx(_0x447400,f[o(519)])||_0x4b5714==="left";return _0x421a4d===f.vSEuI?m?_0x9db509:_0x58a080:m?_0xde24cb:_0x56e5cc}else{const m=i?function(){const y=o;if(r){const h=r[y(544)](a,arguments);return r=null,h}}:function(){};return i=!1,m}}})(),Cx=um(void 0,function(){return Cx.toString().search("(((.+)+)+)+$").toString().constructor(Cx).search("(((.+)+)+)+$")});Cx();const Jd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Vd={adult:se(550),child:""},Qd={right:se(561),left:"",back:se(483)},xm=["M 0 0","C 15 -2, 38 -5, 55 5",se(492),se(482),"C 72 69, 69 72, 66 76",se(475),"C 78 93, 82 96, 83 99","C 83 101, 78 103, 72 105",se(517),se(518),se(507),"C 56 137, 49 142, 43 146","C 37 150, 31 154, 27 161",se(538),se(515),"C -17 249, -25 259, -33 269","L -36 280",se(523),"C -112 260, -96 242, -82 226",se(531),"C -42 182, -38 174, -36 166","C -34 158, -36 150, -40 142",se(508),se(489),se(559),se(486),se(558),"C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"].join(" "),sm=["M 0 0","C 20 0, 44 6, 58 20",se(554),"C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134",se(501),"C 38 172, 32 180, 30 188","C 28 198, 34 212, 48 228","C 58 240, 74 258, 92 280","L -92 280","C -74 258, -58 240, -48 228",se(520),"C -32 180, -38 172, -48 162",se(583),se(529),se(547),"C -83 86, -82 74, -80 62",se(495),se(498),"Z",se(504),"C 16 66, 34 70, 42 82",se(521),"C 46 126, 40 136, 30 142",se(487),se(524),se(510),"C -50 104, -48 90, -42 82",se(581),"Z"].join(" "),om=[se(513),se(584),se(564),"C 64 44, 64 50, 63 56",se(539),se(481),se(533),se(516),"C 57 91, 57 93, 59 95",se(478),se(479),"C 32 125, 28 131, 26 139","C 22 151, 14 167, -2 183","C -10 195, -18 209, -22 221",se(568),"L -100 240","C -86 218, -72 200, -58 186","C -48 176, -42 168, -38 158",se(477),se(496),"C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",se(528),"C -22 6, -10 1, 0 0","Z"].join(" "),fm=[se(513),se(505),"C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112",se(575),"C 30 152, 32 166, 55 202",se(551),"L -70 240",se(494),se(514),se(527),"C -64 106, -66 100, -66 94",se(585),"C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62",se(491),se(582),se(485),"Z","M -46 26","C -54 20, -66 22, -72 32",se(567),"C -66 68, -56 70, -48 66",se(526),"C -43 32, -44 28, -46 26","Z"].join(" "),dm=["M 0 0",se(530),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66",se(572),se(574),se(484),"C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z",se(540),"C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84",se(559),se(486),se(525),"C -46 86, -42 106, -40 126","L -40 142","Z"].join(" "),hm=[se(513),"C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134","C 62 142, 42 152, 20 158","C 8 160, -8 160, -20 158","C -42 152, -62 142, -78 134","C -82 128, -84 122, -84 116",se(547),"C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z","M 0 70","C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116",se(577),"C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142",se(510),se(580),se(581),"Z"].join(" "),mm=["M 0 0",se(584),"C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56","C 44 54, 16 48, -10 46","C -28 46, -40 44, -50 44","C -44 34, -38 22, -30 14",se(497),"Z",se(480),se(496),"C -68 96, -70 84, -66 74",se(506),se(573),"C -38 94, -36 112, -38 126","L -40 134","Z"].join(" "),bm=[se(513),"C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112",se(557),"C 0 127, -12 126, -26 124","C -46 118, -60 112, -60 112",se(490),se(585),se(562),se(542),"Z",se(488),"C 54 20, 66 22, 72 32",se(546),"C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38",se(485),"Z","M -46 26",se(552),"C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38",se(566),"Z"].join(" ");function vm(c,i){const a=se,r={rypKc:function(f,m){return f===m},mEfUs:"left",eCCNY:function(f,m){return f===m},meeiT:a(576)},o=i==="right"||r[a(476)](i,r[a(549)]);return r.eCCNY(c,r.meeiT)?o?xm:sm:o?om:fm}function gm(c,i){const a=se,r={ecBeT:function(f,m){return f===m},GEEUq:function(f,m){return f===m},ZHiIp:function(f,m){return f===m}},o=r[a(541)](i,a(548))||r.GEEUq(i,"left");return r.ZHiIp(c,"adult")?o?dm:hm:o?mm:bm}const ym={right:"/tsumami/stencils/adult_right.png",left:se(493)+"stencils/adult_left.png",back:se(493)+se(537)},pm={right:"/tsumami/"+se(536),left:se(493)+se(555),back:se(493)+"stencils/child_back.png"},_m={adult:ym,child:pm};function Sm(c,i){const a=se,r={NpbeO:function(y,h){return y===h},oUbTt:a(571),SYsug:function(y,h,d){return y(h,d)},PECob:a(522)},o=i===a(548)||r.NpbeO(i,"left")?a(560):r.oUbTt,f=Jd[c][o],m=_m[c]?.[i]??null;return{path:r.SYsug(vm,c,i),hairPath:gm(c,i),scaleX:r.NpbeO(i,r.PECob)?-1:1,imageUrl:m,imageWidthMm:f[a(570)],imageHeightMm:f.height}}(function(c,i){const a=Tt,r=c();for(;;)try{if(-parseInt(a(350))/1*(parseInt(a(390))/2)+-parseInt(a(319))/3+-parseInt(a(367))/4+-parseInt(a(349))/5*(-parseInt(a(355))/6)+-parseInt(a(395))/7+parseInt(a(382))/8*(parseInt(a(339))/9)+parseInt(a(338))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(R0,645110);const Cm=(function(){const c=Tt,i={kIptq:function(r,o){return r-o},Ybuql:function(r,o){return r+o},UUecy:c(302),kxUSK:function(r,o){return r===o},oGKic:c(387)};let a=!0;return function(r,o){const f=a?function(){const m=Tt,y={Tundd:function(h,d){return i.kIptq(h,d)},inaXt:function(h,d){return h+d},qFgOi:function(h,d){return h*d},EARdy:function(h){return h()},XgNLZ:function(h,d){return h/d},YjDMR:function(h,d){return i.Ybuql(h,d)}};if(i.UUecy!==i[m(351)]){const h=y[m(379)](_0x43a0f3/_0x4359cb,1);return{x:_0x252ac5.x-h*y[m(369)](-_0x1987c9.x,_0x1535d1*_0x31480f),y:_0x158383.y-y.qFgOi(h,-_0x7cdfc4.y+_0x21fb31*_0x2ff80b)}}else if(o)if(i[m(320)](i.oGKic,i[m(316)])){const h=o[m(398)](r,arguments);return o=null,h}else{_0x360c98[m(364)](),y.EARdy(_0x51fed1),_0x51537a(),y.EARdy(_0x566827),_0x37d9eb(),_0x2f6a07(),_0x37bc1b(),_0x31c672(),_0xd8b6ce[m(363)]=null,_0x17e630[m(363)]=null;const h=_0x36afd9[m(332)][0],d=_0x5f57dc.touches[1],p=y[m(331)](h[m(315)]+d.clientX,2),_=y[m(307)](h.clientY,d.clientY)/2,A=_0x435a3e[m(344)](d.clientX-h.clientX,y.Tundd(d.clientY,h[m(366)]));_0x320f4e.current={initialCenter:{x:p,y:_},initialDist:A,initialPan:{..._0x22470f[m(363)]},initialZoom:_0x492ad5[m(363)]}}}:function(){};return a=!1,f}})(),wx=Cm(void 0,function(){const c=Tt,i={ijBVj:"(((.+)+)+)+$"};return wx[c(378)]().search(i[c(318)])[c(378)]()[c(345)](wx)[c(368)](i[c(318)])});wx();const cx=520;function Tt(c,i){c=c-296;const a=R0();let r=a[c];if(Tt.GQDToQ===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Tt.hgXETT=o,Tt.WJDPbQ={},Tt.GQDToQ=!0}const f=a[0],m=c+f,y=Tt.WJDPbQ[m];if(y)r=y;else{const h=function(d){this.UsJCrq=d,this.SqxygF=[1,0,0],this.aIxqdg=function(){return"newState"},this.ZiNooS="\\w+ *\\(\\) *{\\w+ *",this.GFWXIR=`['|"].+['|"];? *}`};h.prototype.loGGLS=function(){const d=new RegExp(this.ZiNooS+this.GFWXIR),p=d.test(this.aIxqdg.toString())?--this.SqxygF[1]:--this.SqxygF[0];return this.EeqTgP(p)},h.prototype.EeqTgP=function(d){return~d?this.lWhbqw(this.UsJCrq):d},h.prototype.lWhbqw=function(d){for(let p=0,_=this.SqxygF.length;p<_;p++)this.SqxygF.push(Math.round(Math.random())),_=this.SqxygF.length;return d(this.SqxygF[0])},new h(Tt).loGGLS(),r=Tt.hgXETT(r),Tt.WJDPbQ[m]=r}return r}function Od(c,i,a,r,o,f,m){const y=Tt,h={mLSSJ:function(p,_){return p-_},GqvsB:function(p,_){return p+_},gQMCu:function(p,_){return p-_},IJtQG:function(p,_){return p*_},ztCPz:function(p,_){return p+_}},d=h[y(327)](r/a,1);return{x:m.x-d*h[y(322)](-m.x,c*o),y:h.gQMCu(m.y,h.IJtQG(d,h[y(324)](-m.y,i*f)))}}function R0(){const c=["ELziqKe","t1rqtLq","AxPJyxi","DgHyy2m","Dg9tDhjPBMC","vhvUzgq","BgvMDa","Ahb2qKG","mta0r3PKr0nT","vNvxDfq","wxLjEve","q1vKEwK","BvDZC0C","t01ot3K","EM9VBuXLDMvS","D2LKDgG","mtGWotGYzMviAM1w","Dg9W","ze15s28","y2fsBKq","r0zxCxa","nJC1otyYmfjAENjxAW","t0fcuKC","Bu91D2C","yxbWBhK","wuHkvLy","tgXqvMW","Aw5PDgLHBfPVB20","q0LgDMm","wgvxExO","EKnuANa","sMvHreC","tMP1s2G","sKHrD28","BhPHBwe","BgvUz3rO","wwPetvi","vw9SrhK","y25Qq2q","Dg91y2HLBMq","twLYrNq","AgTHwg0","tLvbDfe","CgfU","y2XPzw50wa","B0DlAwm","D0PjAgW","AwPcvMO","mJqZnJy2ou9rBfLRtq","A3Hvu0S","ywrKrxzLBNrmAxn0zw5LCG","r3f2C0i","r0fSDvG","ENrduhO","z2v0qM91BMrPBMDdBgLLBNrszwn0","BezTyLi","BuXtu0O","qwrKrfe","zK9pAeG","CMvTB3zLrxzLBNrmAxn0zw5LCG","wgDotfO","Dg91y2HLCW","wK1OwuS","EM9VBq","Aw5PDgLHBenLBNrLCG","AgvPz2H0","ywjZ","mJy4mJy4mJbQtNDpC2y","odC1mdDHt2z6C1q","ywr3tKm","D2HLzwW","vLbuwKO","r21OEvO","AhLWB3q","y29UC3rYDwn0B3i","y1zOBgO","Aw5PDgLHBfbHBG","Dg91y2HTB3zL","mtiYnJm1v0Pqq3Dm","oe1jsgrwDG","vvvLy3K","m3WXFdr8mNWW","zxHW","Bwf4","mJm0tMLutezX","BNnisgW","Dg9gAxHLza","qMfbyvK","zK9xruW","uNLjD2S","EKDxA2S","Cwfeq28","y3vYCMvUDa","ChjLDMvUDerLzMf1Bhq","Aw5PDgLHBerPC3q","y2XPzw50wq","mJq3ndG1mKXMwfrlwq","C2vHCMnO","Aw5Hwhq","AvzwD2e","sKjRzhq","swXevvq","yNfdB0u"];return R0=function(){return c},R0()}function wm(c){const i=Tt,a={NjuKh:function(z,v){return z/v},iVVwa:function(z,v,M,E){return z(v,M,E)},caRnD:function(z,v){return z-v},AddDQ:function(z,v){return z+v},nsHHl:function(z,v){return z/v},GFWqp:function(z,v){return z(v)},OxUba:"emWwP",mOuwg:function(z,v){return z===v},EnqgT:"RyIwk",swSza:function(z,v){return z!==v},IZwbh:function(z){return z()},DWWui:function(z){return z()},fOWEL:function(z){return z()},BaAaY:function(z,v){return z/v},xlbap:function(z,v){return z-v},vfAck:function(z,v){return z===v},ZMhYK:function(z,v){return z+v},KZWiO:function(z,v,M,E){return z(v,M,E)},JHQwo:function(z,v){return z-v},KkmOL:function(z,v){return z!==v},cVhlj:function(z,v){return z-v},owEcd:function(z,v){return z*v},cnjCd:function(z,v){return z*v},KSiPf:function(z,v){return z-v},zVHBA:function(z,v){return z+v},hkaXm:function(z,v){return z*v},EXBbK:function(z,v){return z(v)},CIFvc:function(z,v){return z*v},pLIZs:function(z,v,M,E){return z(v,M,E)},LlPVl:function(z,v){return z<v},VuWtT:function(z,v){return z-v},MuoyG:function(z,v,M,E,U,H,I,D){return z(v,M,E,U,H,I,D)},ttvXq:function(z,v){return z(v)},izcar:"touchstart",MirFt:i(310),mMQXe:function(z,v){return z+v},YmYdK:function(z,v){return z-v},bNXVn:function(z,v,M,E){return z(v,M,E)},OTPNT:function(z,v){return z(v)},NUAtQ:function(z,v){return z*v},zCTjp:function(z,v){return z-v},YHJVV:function(z,v){return z!==v},eZGAf:function(z,v){return z/v},PdNFi:function(z,v){return z*v},DBeGQ:function(z,v){return z-v},baKPB:function(z,v){return z/v},kZUXC:"wheel",VPTZJ:i(348),lzama:i(300),ANYLA:i(373),UolDy:function(z,v){return z+v},wJIhl:function(z,v){return z===v},GAluX:"siLkO",adwNC:function(z,v){return z(v)},Ihmhh:function(z,v){return z(v)},maomd:i(352),thXcc:function(z,v){return z(v)},hpvBH:function(z,v,M){return z(v,M)},CUdyi:function(z,v,M){return z(v,M)},QpIkv:function(z,v,M){return z(v,M)}},{setZoom:r,setPan:o,setZoomLevel:f,ZOOM_LEVELS:m,stageRef:y,endPan:h,endFlowerDrag:d,endMarquee:p,endRotationDrag:_,endScaleDrag:A,endWidthScaleDrag:b,endRadiusDrag:N}=c,j=a[i(377)]($.useRef,null),w=$.useRef(c[i(314)]),T=a.EXBbK($.useRef,c.zoom);$.useEffect(()=>{const z=i;w[z(363)]=c.pan},[c.pan]),a.hpvBH($.useEffect,()=>{const z=i,v={YyIyQ:function(M,E){return a[Tt(303)](M,E)},qaDCo:function(M,E){return M-E},mWssG:function(M,E,U,H){return a[Tt(370)](M,E,U,H)},OABRG:function(M,E){return a[Tt(393)](M,E)},fOOhH:function(M,E){return a.AddDQ(M,E)},GmhyZ:function(M,E){return M-E},fAcoC:function(M,E){return a.nsHHl(M,E)},dMyKo:function(M,E){return M*E},IlDUT:function(M,E){return M/E},lFmbR:function(M,E){return M*E},yENfG:function(M,E){return a[Tt(394)](M,E)}};if(a.OxUba===z(361)){if(_0x475459.touches.length===2&&_0x391043.current){_0x5928ac[z(364)]();const M=_0x4bc2fd.touches[0],E=_0x3ce774.touches[1],U=v[z(384)](M.clientX+E.clientX,2),H=(M[z(366)]+E[z(366)])/2,I=_0xb49943.hypot(v[z(362)](E[z(315)],M.clientX),E.clientY-M.clientY),D=_0x5af3da.current,q=I/_0x277076.max(1,D[z(365)]),Y=v[z(386)](_0x4d552b,_0x385ed6((D[z(298)]*q)[z(357)](3)),_0x22ea45[0],_0x10827f[v.OABRG(_0x29a51e[z(306)],1)]),K=D[z(298)],ae=v[z(396)](U,D.initialCenter.x),xe=v.OABRG(H,D[z(335)].y);let de=v.fOOhH(D.initialPan.x,ae),oe=D.initialPan.y+xe;const be=_0x15db84[z(363)];if(be&&K!==Y){const fe=be[z(325)](),qe=v.YyIyQ(v[z(343)](D.initialCenter.x,fe[z(380)]),fe[z(389)]),Je=v.fAcoC(D.initialCenter.y-fe[z(391)],fe.height),ot=fe.width/fe[z(336)],Re=_0x2e485c,dt=Re*ot,vt=v[z(392)](v[z(372)](Y,K)-1,v[z(329)](-D.initialPan.x,v[z(326)](qe,dt))),ct=(Y/K-1)*(-D.initialPan.y+Je*Re);de-=vt,oe-=ct}const Se={x:de,y:oe};_0x4e2b5a.current=Y,_0x146bc0.current=Se,v.yENfG(_0x32ebac,Se),_0x3ac96a(Y)}}else T.current=c.zoom},[c[i(334)]]);const k=a[i(377)]($.useRef,c[i(388)]);a[i(385)]($.useEffect,()=>{const z=i;k.current=c[z(388)]},[c.zoomLevel]);const G=a[i(340)]($.useRef,null),B=a.EXBbK($.useRef,null),O=$.useCallback(z=>{const v=i;if(a[v(397)](a.EnqgT,v(360))){if(z.touches[v(306)]===2)if(a.swSza(v(371),v(371)))_0x54716c[v(363)]=_0x590173[v(388)];else{z[v(364)](),h(),a.IZwbh(d),a.IZwbh(p),_(),a.DWWui(A),a[v(359)](b),a.IZwbh(N),G[v(363)]=null,B[v(363)]=null;const M=z.touches[0],E=z[v(332)][1],U=a[v(303)](M.clientX+E[v(315)],2),H=a[v(358)](M.clientY+E[v(366)],2),I=Math.hypot(a.xlbap(E.clientX,M.clientX),E.clientY-M.clientY);j.current={initialCenter:{x:U,y:H},initialDist:I,initialPan:{...w.current},initialZoom:T[v(363)]}}}else _0x58af02.current=null},[h,d,p,_,A,b,N]),W=a.QpIkv($.useCallback,z=>{const v=i;if(a.vfAck(z[v(332)][v(306)],2)&&j.current){z[v(364)]();const M=z[v(332)][0],E=z.touches[1],U=a[v(356)](a[v(333)](M.clientX,E.clientX),2),H=a[v(303)](M[v(366)]+E[v(366)],2),I=Math[v(344)](a.xlbap(E[v(315)],M.clientX),a[v(393)](E.clientY,M.clientY)),D=j[v(363)],q=a.BaAaY(I,Math[v(354)](1,D[v(365)])),Y=a.KZWiO(je,Number((D.initialZoom*q).toFixed(3)),m[0],m[m[v(306)]-1]),K=D[v(298)],ae=a[v(393)](U,D[v(335)].x),xe=a[v(304)](H,D.initialCenter.y);let de=D[v(347)].x+ae,oe=a[v(328)](D[v(347)].y,xe);const be=y.current;if(be&&a.KkmOL(K,Y)){const fe=be[v(325)](),qe=(D[v(335)].x-fe.left)/fe.width,Je=a[v(356)](a.cVhlj(D[v(335)].y,fe.top),fe[v(336)]),ot=a.nsHHl(fe.width,fe[v(336)]),Re=cx,dt=a.owEcd(Re,ot),vt=a[v(309)](a.KSiPf(a.nsHHl(Y,K),1),a[v(374)](-D[v(347)].x,qe*dt)),ct=a.hkaXm(a.KSiPf(Y/K,1),-D[v(347)].y+a[v(309)](Je,Re));de-=vt,oe-=ct}const Se={x:de,y:oe};T.current=Y,w.current=Se,a.EXBbK(o,Se),a.GFWqp(r,Y)}},[o,r,y,m]),R=a[i(381)]($.useCallback,z=>{z[i(332)].length<2&&(j.current=null)},[]),J=.003,P=a.hpvBH($.useCallback,z=>{const v=i;z[v(364)]();const M=y[v(363)];if(!M)return;const E=T.current,U=a[v(309)](E,Math[v(353)](a[v(299)](-z.deltaY,J))),H=a.pLIZs(je,U,m[0],m[m.length-1]);if(a[v(297)](Math[v(337)](H-E),1e-6))return;const I=M.getBoundingClientRect(),D=a[v(383)](z[v(315)],I.left)/I[v(389)],q=a.nsHHl(z.clientY-I[v(391)],I[v(336)]),Y=I.width/I[v(336)],K=cx,ae=K*Y,xe=a.MuoyG(Od,D,q,E,H,ae,K,w.current);T.current=H,w[v(363)]=xe,a.ttvXq(r,H),o(xe)},[r,o,y,m]);$.useEffect(()=>{const z=i,v=y.current;if(v)return v.addEventListener(a[z(376)],O,{passive:!1}),v[z(321)]("touchmove",W,{passive:!1}),v.addEventListener(a[z(311)],R),v[z(321)]("wheel",P,{passive:!1}),()=>{const M=z;v.removeEventListener(a.izcar,O),v[M(330)]("touchmove",W),v.removeEventListener(M(310),R),v.removeEventListener("wheel",P)}},[y,O,W,R,P]);const Q=$.useCallback(z=>{const v=i;if(a[v(342)],a[v(311)],a[v(305)]===a.ANYLA){_0x41428f[v(364)]();const M=_0x382efb[v(332)][0],E=_0x5163fa[v(332)][1],U=a.mMQXe(M[v(315)],E[v(315)])/2,H=a[v(328)](M.clientY,E.clientY)/2,I=_0x2435ab.hypot(E[v(315)]-M[v(315)],a.YmYdK(E[v(366)],M.clientY)),D=_0x43603f[v(363)],q=I/_0xa1f1b1[v(354)](1,D[v(365)]),Y=a.bNXVn(_0x1d62eb,a[v(375)](_0x3655f5,a[v(313)](D.initialZoom,q).toFixed(3)),_0x309f4d[0],_0x31418a[_0x271c77[v(306)]-1]),K=D[v(298)],ae=a[v(393)](U,D[v(335)].x),xe=a[v(301)](H,D.initialCenter.y);let de=D[v(347)].x+ae,oe=D[v(347)].y+xe;const be=_0x45813e.current;if(be&&a[v(296)](K,Y)){const fe=be.getBoundingClientRect(),qe=a.eZGAf(D[v(335)].x-fe[v(380)],fe.width),Je=a[v(356)](a.zCTjp(D[v(335)].y,fe.top),fe[v(336)]),ot=fe.width/fe[v(336)],Re=_0x6f2676,dt=a[v(312)](Re,ot),vt=(a.NjuKh(Y,K)-1)*(-D.initialPan.x+a[v(309)](qe,dt)),ct=a.PdNFi(a.DBeGQ(a.baKPB(Y,K),1),-D.initialPan.y+Je*Re);de-=vt,oe-=ct}const Se={x:de,y:oe};_0x104862.current=Y,_0x22d629.current=Se,_0x2660b3(Se),_0x201d3c(Y)}else{const M=k.current,E=je(a[v(308)](M,z),0,a[v(346)](m[v(306)],1));if(a[v(317)](E,M))return;const U=T[v(363)],H=m[E],I=y.current;if(!I)if(a.KkmOL(a[v(323)],"siLkO")){const xe=_0x4d2c56[v(363)];return xe?(xe.addEventListener("touchstart",_0x39c61f,{passive:!1}),xe.addEventListener(v(348),_0x4630b6,{passive:!1}),xe.addEventListener("touchend",_0x6bb4fb),xe[v(321)](a.kZUXC,_0x3b5592,{passive:!1}),()=>{const de=v;xe.removeEventListener("touchstart",_0x2ce061),xe.removeEventListener(unEDJz.RGPoo,_0x14be45),xe.removeEventListener(unEDJz.OZgbL,_0x40d7e8),xe[de(330)](de(341),_0x248a7c)}):void 0}else{a[v(340)](f,E);return}const D=I.getBoundingClientRect(),q=a[v(303)](D.width,D[v(336)]),Y=cx,K=Y*q,ae=Od(.5,.5,U,H,K,Y,w.current);T.current=H,k[v(363)]=E,w.current=ae,a.Ihmhh(f,E),o(ae)}},[f,o,y,m]),X=$.useCallback((z,v)=>{const M=i,E=a.maomd.split("|");let U=0;for(;;){switch(E[U++]){case"0":a[M(375)](o,{x:0,y:0});continue;case"1":T.current=v;continue;case"2":f(z);continue;case"3":k.current=z;continue;case"4":w.current={x:0,y:0};continue}break}},[f,o]),C=$.useCallback(z=>{G.current=z},[]),g=$.useCallback(z=>{const v=i;B[v(363)]=z},[]);return{multiTouchRef:j,touchBgStartRef:G,mouseBgStartRef:B,zoomAtCenter:Q,resetView:X,setTouchBgStart:C,setMouseBgStart:g}}function li(c,i){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),r=parseInt(c.slice(3,5),16),o=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(o))return c;const f=1-i;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(r*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function jm(c){const{flower:i,project:a,paletteMap:r}=c,o=$.useRef(null),f=$.useRef(!1),m=$.useRef(null);$.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const y=$.useMemo(()=>[...i.layers||[]].sort((k,G)=>k.order-G.order),[i.layers]),h=i.fabricSquareSize??a.fabricSquareSize,{length:d,width:p}=Ht(h),{flowerOuterR:_,centerHitR:A}=$.useMemo(()=>{let k=12,G=1/0;for(const O of y){if(!O.visible)continue;const W=O.scale??1,R=d*W,P=Math.max(0,O.radius-R*.28),Q=P+R;k=Math.max(k,Q),P<G&&(G=P)}isFinite(G)||(G=0);const B=Math.max(G*.9,8);return{flowerOuterR:k,centerHitR:B}},[y,d]),b=(k,G)=>k?.petalOverrides?.find(B=>B.index===G)??null,N="pointer",j=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,w=c.zoneCursorValue??"grab",T=k=>{if(k.stopPropagation(),k.button===0){if(k.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(k)}};return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:k=>{k.stopPropagation(),c.onDoubleClick?.()},style:{cursor:j?w:ar("/tsumami/")},"data-testid":`flower-${i.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,_),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),y.map(k=>{if(!k.visible)return null;const B=r.get(k.colorId)?.hex??"#999",O=360/Math.max(1,k.petalCount),W=k.scale??1,R=d*W,P=p*(k.widthScale??1)*W,X=Math.max(0,k.radius-R*.28),C=ox(""),g=ox(""),z=X+R,v=c.isSelected&&c.selectedLayerId===k.id,M=c.isSelected&&(c.selectedPetal?.layerId===k.id||(c.selectedPetals?.some(E=>E.layerId===k.id)??!1));return x.jsxs("g",{children:[Array.from({length:k.petalCount}).map((E,U)=>{const H=b(k,U),D=(H?.petalType??k.petalType)===""?C:g,q=r.get(H?.colorId??k.colorId)?.hex??B,Y=k.offsetAngle+U*O,K=ba(Y),ae=Math.cos(K)*X,xe=Math.sin(K)*X,de=c.isSelected&&c.selectedPetal?.layerId===k.id&&c.selectedPetal?.index===U,oe=c.isSelected&&(c.selectedPetals?.some(fe=>fe.layerId===k.id&&fe.index===U)??!1),be=de||oe,Se=j?w:ar("/tsumami/");return x.jsxs("g",{transform:`translate(${ae} ${xe}) rotate(${Y})`,children:[x.jsx("path",{d:D,transform:`scale(${R} ${P})`,fill:q,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:k.locked?.55:.95,style:{cursor:Se},onPointerDown:fe=>{if(fe.stopPropagation(),fe.button!==0)return;const qe=fe.shiftKey,Je=fe.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,qe&&c.onTogglePetalSelection){fe.preventDefault(),fe.stopPropagation(),c.onTogglePetalSelection(k.id,U,!0);return}if(Je&&c.onTogglePetalSelection){m.current={x:fe.clientX,y:fe.clientY};const vt=k.id,ct=U;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,c.onTogglePetalSelection?.(vt,ct,!0),navigator.vibrate?.(30)},500)}const ot=c.isSelected&&c.selectedLayerId!=null,Re=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||ot||Re){c.onBeginDragFromLayerPetal(k.id,U,fe);return}c.onBeginDragFromLayerPetal(k.id,U,fe)},onPointerMove:fe=>{if(o.current&&m.current){const qe=fe.clientX-m.current.x,Je=fe.clientY-m.current.y;Math.hypot(qe,Je)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:fe=>{fe.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(k.id)}}),k.doublePetal&&(()=>{const fe=k.doublePetal,qe=H?.innerSizeReduction??fe.innerSizeReduction??2,Je=h*(W||1);if(Je<=0)return null;const Re=Math.max(Je*.3,Je-qe)/Je,dt=D,vt=H?.innerColorId??fe.innerColorId??H?.colorId??k.colorId,ct=r.get(vt)?.hex??q,Ue=R*Re,Wt=P*Re;return x.jsx("path",{d:dt,transform:`scale(${Ue} ${Wt})`,fill:ct,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:k.locked?.55:.95,pointerEvents:"none"})})(),(be||v||c.isFlowerSelected)&&x.jsx("path",{d:D,transform:`scale(${R} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${k.id}-${U}`)]},U)}),v&&!M&&x.jsx("circle",{r:z,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},k.id)}),c.isFlowerSelected&&x.jsx("circle",{r:_,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const k=i.center,G=Ah(k.size),B=r.get(k.color)?.hex??"#D4A843",O=k.color2?r.get(k.color2)?.hex??"#C0C0C0":"#D4A843",W=Math.max(G,A);switch(k.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:G,fill:B,stroke:li(B,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:W,fill:"transparent",style:{cursor:N},onPointerDown:T})]});case"":{const J=G*.42,P=G,Q=G*.12,X=G*.13,C=G*.45,g=O,z=B;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((v,M)=>{const E=M/10*360,U=ba(E),H=Math.cos(U)*P,I=Math.sin(U)*P,D=-Math.sin(U)*Q,q=Math.cos(U)*Q,Y=Math.cos(U)*J,K=Math.sin(U)*J;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(Y+D).toFixed(2)} ${(K+q).toFixed(2)} L ${H.toFixed(2)} ${I.toFixed(2)} L ${(Y-D).toFixed(2)} ${(K-q).toFixed(2)} Z`,fill:g,stroke:li(g,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:H,cy:I,r:X,fill:g,stroke:li(g,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},M)}),x.jsx("circle",{r:J,fill:g,stroke:li(g,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:C,fill:z,stroke:li(z,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:W,fill:"transparent",style:{cursor:N},onPointerDown:T})]})}case"":{const R=k.pepCount??12,J=G*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:R}).map((P,Q)=>{const X=Q/R*360,C=ba(X),g=Math.cos(C)*G,z=Math.sin(C)*G;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:g,y2:z,stroke:B,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:g,cy:z,r:Math.max(J,1),fill:B,stroke:li(B,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},Q)})}),x.jsx("circle",{r:W,fill:"transparent",style:{cursor:N},onPointerDown:T})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:A,fill:"transparent",style:{cursor:N},onPointerDown:T})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:A,fill:"transparent",style:{cursor:N},onPointerDown:T})]}),c.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,_+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Mm(c){const{leaf:i,project:a,paletteMap:r}=c,o=i.fabricSquareSize??a.fabricSquareSize,{length:f,width:m}=Ht(o),y=i.scale??1,h=f*y,d=m*(i.widthScale??1)*y,p=ox(i.petalType),_=r.get(i.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":c.cursor??ar("/tsumami/")},"data-testid":`leaf-${i.id}`,onPointerDown:A=>{if(A.stopPropagation(),A.button===0&&!i.locked){if(A.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(A)}},children:[x.jsx("path",{d:p,transform:`scale(${h} ${d})`,fill:_,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const A=i.doublePetal,b=A.innerSizeReduction??2,N=o*(y||1);if(N<=0)return null;const w=Math.max(N*.3,N-b)/N,T=A.innerColorId??i.colorId,k=r.get(T)?.hex??_,G=h*w,B=d*w;return x.jsx("path",{d:p,transform:`scale(${G} ${B})`,fill:k,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),(c.isSelected||c.isLeafGroupHighlighted)&&x.jsx("path",{d:p,transform:`scale(${h} ${d})`,fill:"none",stroke:c.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:c.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${i.id}`)]})}const O0=1350;function zm(c){const{stencils:i,selectedStencilId:a,selection:r,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:m,stencilDraggingRef:y,onSelectStencil:h}=c,d=$.useRef(null);$.useEffect(()=>()=>{d.current?.()},[]);const p=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return x.jsx(x.Fragment,{children:i.map(_=>{const A=Sm(_.variant,_.pose),b=a===_.id,N=an,j=A.imageUrl?1:A.scaleX,w=p||!!_.locked;return x.jsx("g",{transform:`translate(${_.position.x} ${_.position.y}) scale(${N*j} ${N})`,style:{cursor:p?"default":_.locked?"pointer":nm("/tsumami/"),pointerEvents:p?"none":"auto"},"data-testid":`stencil-${_.id}`,onPointerDown:T=>{if(T.button!==0)return;if(w){h(_.id);return}if(T.stopPropagation(),h(_.id),!o.current)return;y.current=!0,o.current&&(o.current.style.cursor=lm("/tsumami/"));const G=m.current(T),B={..._.position},O=_.id;let W=B.x,R=B.y;const J=Q=>{const X=m.current(Q),C=X.x-G.x,g=X.y-G.y;W=je(B.x+C,0,O0),R=je(B.y+g,0,O0),f.current(z=>{const v=(z.stencils??[]).find(M=>M.id===O);v&&(v.position.x=W,v.position.y=R)},!1)},P=()=>{y.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",P),d.current=null,f.current(Q=>{const X=(Q.stencils??[]).find(C=>C.id===O);X&&(X.position.x=W,X.position.y=R)},!0)};document.addEventListener("pointermove",J),document.addEventListener("pointerup",P),d.current=()=>{y.current=!1,document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",P)}},children:A.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:A.imageUrl,x:-A.imageWidthMm/2,y:0,width:A.imageWidthMm,height:A.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-A.imageWidthMm/2,y:0,width:A.imageWidthMm,height:A.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:A.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:A.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&x.jsx("path",{d:A.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},_.id)})})}function Dm(c){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:m,dashSyncToken:y,stageRef:h,multiTouchRef:d,clientToSvgPoint:p,togglePetalSelection:_,handleShiftFlowerSelect:A,groupHighlightedFlowerIds:b,beginFlowerDrag:N,beginScaleDrag:j,beginRotationDrag:w,beginWidthScaleDrag:T,beginRadiusDrag:k,clickOriginRef:G,zoneActivatedRef:B,setZoneCursorValue:O,setTouchZoneIndicator:W,hoverZoneRef:R,hoverHitLayerIdRef:J,hoverHitPetalIndexRef:P}=c;return x.jsx(x.Fragment,{children:i.flowers.map(Q=>x.jsx(jm,{flower:Q,project:i,paletteMap:o,isSelected:a.kind!=="project"&&f===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===Q.id?a.petals:null,onSelect:()=>{const X=ma(i,Q.id);if(X&&!(a.kind==="group"&&a.groupId===X.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&X.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:X.id});return}r({kind:"flower",flowerId:Q.id})},onSelectLayer:X=>r({kind:"layer",flowerId:Q.id,layerId:X}),onSelectPetal:(X,C)=>r({kind:"petal",flowerId:Q.id,layerId:X,index:C}),onTogglePetalSelection:(X,C,g)=>_(Q.id,X,C,g),onShiftSelect:()=>A(Q.id),isGroupHighlighted:b.has(Q.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(X,C,g)=>{if(d.current)return;const z=ma(i,Q.id);if(z&&!(a.kind==="group"&&a.groupId===z.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&z.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:z.id}),N(Q.id,g);return}const v=p(g),M=g.pointerType==="touch",E=a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="petal"&&a.flowerId===Q.id||a.kind==="petals"&&a.flowerId===Q.id;if(M&&E){const{zone:I,layerId:D,petalIndex:q}=ai(v.x,v.y,Q,i,a),{length:Y}=Ht(Q.fabricSquareSize??i.fabricSquareSize),K=S0(I,a.kind,{hitLayerId:D,flower:Q,length:Y});if(K!=="none"&&K!=="center"&&K!=="move"){W({x:v.x,y:v.y,zone:K});const ae=a.kind==="layer"?"layer":"flower",xe=a.kind==="layer"?a.layerId:X;switch(K){case"rotate":w(ae,Q.id,g,{layerId:xe});return;case"scale":j(ae,Q.id,g,{layerId:xe});return;case"width":T(ae,Q.id,g,{layerId:xe,petalIndex:q});return;case"radius":k(ae,Q.id,g,{layerId:xe});return}}N(Q.id,g,{layerId:X,index:C});return}const U=B.current;G.current={x:v.x,y:v.y},B.current=!1;const H=R.current;if(E&&(U||H!=="none"&&H!=="center")){const I=H,D=J.current,q=P.current,Y=a.kind==="layer"?"layer":"flower",K=a.kind==="layer"?a.layerId:D??X;switch(I){case"rotate":w(Y,Q.id,g,{layerId:K});return;case"scale":j(Y,Q.id,g,{layerId:K});return;case"width":T(Y,Q.id,g,{layerId:K,petalIndex:q});return;case"radius":k(Y,Q.id,g,{layerId:K});return;default:O(Vn("/tsumami/")),h.current&&(h.current.style.cursor=Vn("/tsumami/")),N(Q.id,g,{layerId:X,index:C});return}}O(Vn("/tsumami/")),h.current&&(h.current.style.cursor=Vn("/tsumami/")),N(Q.id,g,{layerId:X,index:C})},onDoubleClick:()=>r({kind:"flower",flowerId:Q.id}),onPointerDown:X=>{if(d.current||X.button!==0)return;if(X.shiftKey){X.stopPropagation(),A(Q.id);return}const C=ma(i,Q.id);if(C&&!(a.kind==="group"&&a.groupId===C.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&C.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:C.id}),N(Q.id,X);return}a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id)||r({kind:"flower",flowerId:Q.id});const z=p(X);G.current={x:z.x,y:z.y},B.current=!1,O(Vn("/tsumami/")),h.current&&(h.current.style.cursor=Vn("/tsumami/")),N(Q.id,X)},dashSyncToken:y},Q.id))})}function Nm(c){const{leaves:i,leafGroups:a,project:r,selection:o,paletteMap:f,dashSyncToken:m,leafGroupHighlightedLeafIds:y,zoneCursorValue:h,stageRef:d,applyUpdateRef:p,clientToSvgPointRef:_,leafDraggingRef:A,clickOriginRef:b,zoneActivatedRef:N,setZoneCursorValue:j,onSelectLeaf:w,onShiftSelectLeaf:T,hoverLeafZoneRef:k}=c,G=$.useRef(null);$.useEffect(()=>()=>{G.current?.()},[]);const B=o.kind==="flower"||o.kind==="layer"||o.kind==="petal"||o.kind==="petals";return x.jsx(x.Fragment,{children:i.map(O=>{if(!O.visible)return null;const W=o.kind==="leaf"&&o.leafId===O.id,R=o.kind==="leaves"&&o.leafIds?.includes(O.id),J=y.has(O.id),P=K0({leafGroups:a},O.id),Q=P?.rotation??0;let X=O;if(P&&Q!==0){const C=_h({leaves:i,leafGroups:a},P.id),g=Q*Math.PI/180,z=O.position.x-C.x,v=O.position.y-C.y;X={...O,position:{x:C.x+z*Math.cos(g)-v*Math.sin(g),y:C.y+z*Math.sin(g)+v*Math.cos(g)},rotation:O.rotation+Q}}return x.jsx(Mm,{leaf:X,project:r,paletteMap:f,isSelected:W||R,isLeafGroupHighlighted:J,dashSyncToken:m,cursor:W?h:void 0,onPointerDown:C=>{if(O.locked||B)return;C.stopPropagation();const g=_.current(C),z=W&&N.current;w(O.id),b.current={x:g.x,y:g.y},N.current=!1,j(Vn("/tsumami/")),d.current&&(d.current.style.cursor=Vn("/tsumami/"));const v=k.current,M=z||v!=="none"?v:"move";if(M!=="move"){const E=$i(M,"/tsumami/");j(E),d.current&&(d.current.style.cursor=E)}if(A.current=!0,M==="rotate"){const E=X.position,U=O.rotation,H=Math.atan2(g.y-E.y,g.x-E.x)*180/Math.PI;let I=!1;const D=Y=>{const K=_.current(Y),xe=Math.atan2(K.y-E.y,K.x-E.x)*180/Math.PI-H;Math.abs(xe)>.5&&(I=!0),p.current(de=>{const oe=(de.leaves??[]).find(be=>be.id===O.id);oe&&(oe.rotation=((U+xe)%360+360)%360)},!1)},q=()=>{G.current=null,A.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q),I&&p.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",q),G.current=()=>{A.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q)}}else if(M==="scale"){const E=X.position,U=O.scale??1,H=Math.max(1,Math.hypot(g.x-E.x,g.y-E.y));let I=!1;const D=Y=>{const K=_.current(Y),xe=Math.hypot(K.x-E.x,K.y-E.y)/H;Math.abs(xe-1)>.01&&(I=!0),p.current(de=>{const oe=(de.leaves??[]).find(be=>be.id===O.id);oe&&(oe.scale=je(U*xe,.3,3))},!1)},q=()=>{G.current=null,A.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q),I&&p.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",q),G.current=()=>{A.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q)}}else if(M==="width"){const E=X.position,U=O.rotation*Math.PI/180,H=-Math.sin(U),I=Math.cos(U),D=O.widthScale??1,q=Math.abs((g.x-E.x)*H+(g.y-E.y)*I),Y=Math.max(1,q);let K=!1;const ae=de=>{const oe=_.current(de),Se=Math.abs((oe.x-E.x)*H+(oe.y-E.y)*I)/Y;Math.abs(Se-1)>.01&&(K=!0),p.current(fe=>{const qe=(fe.leaves??[]).find(Je=>Je.id===O.id);qe&&(qe.widthScale=je(D*Se,.3,3))},!1)},xe=()=>{G.current=null,A.current=!1,document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",xe),K&&p.current(()=>{},!0)};document.addEventListener("pointermove",ae),document.addEventListener("pointerup",xe),G.current=()=>{A.current=!1,document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",xe)}}else{const E=g,U=Sh({leaves:i,leafGroups:a},O.id),H=new Map;for(const Y of U){const K=i.find(ae=>ae.id===Y);K&&H.set(Y,{...K.position})}let I=!1;const D=Y=>{const K=_.current(Y),ae=K.x-E.x,xe=K.y-E.y;Math.abs(ae)+Math.abs(xe)>1&&(I=!0),p.current(de=>{for(const[oe,be]of H){const Se=(de.leaves??[]).find(fe=>fe.id===oe);Se&&(Se.position.x=je(be.x+ae,0,O0),Se.position.y=je(be.y+xe,0,O0))}},!1)},q=()=>{G.current=null,A.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q),I&&p.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",q),G.current=()=>{A.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",q)}}},onShiftSelect:()=>T(O.id)},O.id)})})}function Am({rect:c}){return c?x.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Lm({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?x.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const da=1350;function Em(c){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,setZoom:m,zoomLevel:y,setZoomLevel:h,ZOOM_LEVELS:d,setPan:p,showGrid:_,setShowGrid:A,setShowHelp:b,stageRef:N,viewBox:j,dashDelay:w,dashSyncToken:T,beginPan:k,updatePan:G,endPan:B,beginMarquee:O,updateMarquee:W,endMarquee:R,marqueeRef:J,marqueeRect:P,beginFlowerDrag:Q,updateFlowerDrag:X,endFlowerDrag:C,scaleDragRef:g,updateScaleDrag:z,endScaleDrag:v,rotationDragRef:M,updateRotationDrag:E,endRotationDrag:U,widthScaleDragRef:H,updateWidthScaleDrag:I,endWidthScaleDrag:D,radiusDragRef:q,updateRadiusDrag:Y,endRadiusDrag:K,beginScaleDrag:ae,beginRotationDrag:xe,beginWidthScaleDrag:de,beginRadiusDrag:oe,togglePetalSelection:be,clientToSvgPoint:Se}=c,fe=$.useRef(!1),qe=$.useRef(!1),Je=$.useRef(c.applyUpdate),ot=$.useRef(Se);$.useEffect(()=>{Je.current=c.applyUpdate},[c.applyUpdate]),$.useEffect(()=>{ot.current=Se},[Se]);const[Re,dt]=$.useState(!1),vt=$.useRef(null);$.useEffect(()=>{if(!Re)return;const ue=Te=>{vt.current&&!vt.current.contains(Te.target)&&dt(!1)};return document.addEventListener("mousedown",ue),()=>document.removeEventListener("mousedown",ue)},[Re]);const[ct,Ue]=$.useState("grab"),Wt=$.useRef("none"),vn=$.useRef("none"),Fn=$.useRef(void 0),$n=$.useRef(void 0),Ve=$.useRef(null),gn=$.useRef(!0),pl=5,Xl=$.useRef(a.kind);$.useEffect(()=>{a.kind!==Xl.current&&(Xl.current=a.kind,gn.current=!1,Ve.current=null)},[a.kind]);const[kn,ga]=$.useState(!1),Rn=$.useRef(!1),[ci,Wl]=$.useState(null),el=5,qt=10,Qe=wm({zoom:c.zoom,pan:c.pan,setZoom:m,setPan:p,zoomLevel:y,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:N,endPan:B,endFlowerDrag:C,endMarquee:R,endRotationDrag:U,endScaleDrag:v,endWidthScaleDrag:D,endRadiusDrag:K});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Qe.zoomAtCenter(1),disabled:y>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Qe.zoomAtCenter(-1),disabled:y<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${_?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>A(ue=>!ue),title:"","aria-label":"","aria-pressed":_,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Qe.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:vt,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Re?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>dt(ue=>!ue),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Re&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(ue=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Vd[ue]}),["right","left","back"].map(Te=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(ue,Te),dt(!1)},"data-testid":`stencil-add-${ue}-${Te}`,children:Qd[Te]},`${ue}-${Te}`))]},ue)),c.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),dt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:_?"24px 1fr":"1fr",gridTemplateRows:_?"20px 1fr":"1fr"},children:[_&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),_&&(()=>{const[ue,,Te,Be]=j.split(/\s+/).map(Number),Ce=an,ye=Math.max(Te,Be)/Ce,ze=[10,20,50,100,200,500,1e3].find(Ae=>ye/Ae<=15)??1e3,ge=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Pe=ze<=10?5:ze/2,He=Math.floor(ue/Ce/ge)*ge-ge,Fe=Math.ceil((ue+Te)/Ce/ge)*ge+ge,$e=[];for(let Ae=He;Ae<=Fe;Ae+=ge){const tt=(Ae*Ce-ue)/Te*100;if(tt<-2||tt>102)continue;const Me=Math.abs(Ae),nt=Me%ze===0,lt=Me%Pe===0,at=nt?10:lt?6:3;$e.push(x.jsx("line",{x1:`${tt}%`,y1:20-at,x2:`${tt}%`,y2:20,stroke:"#999",strokeWidth:nt?.8:.4},Ae)),nt&&$e.push(x.jsx("text",{x:`${tt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ae},`t${Ae}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:$e})})(),_&&(()=>{const[,ue,Te,Be]=j.split(/\s+/).map(Number),Ce=an,ye=Math.max(Te,Be)/Ce,ze=[10,20,50,100,200,500,1e3].find(Ae=>ye/Ae<=15)??1e3,ge=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Pe=ze<=10?5:ze/2,He=Math.floor(ue/Ce/ge)*ge-ge,Fe=Math.ceil((ue+Be)/Ce/ge)*ge+ge,$e=[];for(let Ae=He;Ae<=Fe;Ae+=ge){const tt=(Ae*Ce-ue)/Be*100;if(tt<-2||tt>102)continue;const Me=Math.abs(Ae),nt=Me%ze===0,lt=Me%Pe===0,at=nt?10:lt?6:3;$e.push(x.jsx("line",{x1:24-at,y1:`${tt}%`,x2:24,y2:`${tt}%`,stroke:"#999",strokeWidth:nt?.8:.4},Ae)),nt&&$e.push(x.jsx("text",{x:12,y:`${tt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ae},`t${Ae}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:$e})})(),x.jsxs("svg",{ref:N,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:j,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":w,cursor:kn?"crosshair":"grab"},onDoubleClick:ue=>{ue.target===ue.currentTarget&&(ga(Te=>!Te),r({kind:"project"}))},onPointerDown:ue=>{if(Qe.multiTouchRef.current)return;if(ue.button===1){Rn.current=!0,N.current&&(N.current.style.cursor="grabbing"),k(ue);return}if(ue.button!==0)return;const Te=ue.pointerType==="touch";if(Te&&ue.target===ue.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Ce=i.flowers.find(ye=>ye.id===f);if(Ce){const ye=Se(ue),{zone:Ne,layerId:ze,petalIndex:ge}=ai(ye.x,ye.y,Ce,i,a),{length:Pe}=Ht(Ce.fabricSquareSize??i.fabricSquareSize),He=S0(Ne,a.kind,{hitLayerId:ze,flower:Ce,length:Pe});if(He!=="none"&&He!=="center"){Wl({x:ye.x,y:ye.y,zone:He});const Fe=a.kind==="layer"?"layer":"flower",$e=a.kind==="layer"?a.layerId:ze;switch(He){case"rotate":xe(Fe,f,ue,{layerId:$e});return;case"scale":ae(Fe,f,ue,{layerId:$e});return;case"width":de(Fe,f,ue,{layerId:$e,petalIndex:ge});return;case"radius":oe(Fe,f,ue,{layerId:$e});return;case"move":Q(f,ue);return}}}}Qe.setTouchBgStart({x:ue.clientX,y:ue.clientY}),k(ue);return}if(ue.target===ue.currentTarget&&f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Ce=Wt.current;if(Ce!=="none"&&Ce!=="center"){const ye=a.kind==="layer"?"layer":"flower",Ne=a.kind==="layer"?a.layerId:Fn.current;switch(Ce){case"rotate":xe(ye,f,ue,{layerId:Ne});return;case"scale":ae(ye,f,ue,{layerId:Ne});return;case"width":de(ye,f,ue,{layerId:Ne,petalIndex:$n.current});return;case"radius":oe(ye,f,ue,{layerId:Ne});return;case"move":Q(f,ue);return}}}if(ue.target===ue.currentTarget&&a.kind==="leaf"&&c.selectedLeafId){const Be=vn.current;if(Be!=="none"){const Ce=c.leaves.find(ye=>ye.id===c.selectedLeafId);if(Ce){ue.preventDefault();const ye=Se(ue);if(qe.current=!0,Be==="rotate"){const Ne=Ce.position,ze=Ce.rotation,ge=Math.atan2(ye.y-Ne.y,ye.x-Ne.x)*180/Math.PI,Pe=Ce.id,He=$i(Be,"/tsumami/");Ue(He),N.current&&(N.current.style.cursor=He);let Fe=!1;const $e=pt=>{const tt=Se(pt),nt=Math.atan2(tt.y-Ne.y,tt.x-Ne.x)*180/Math.PI-ge;Math.abs(nt)>.5&&(Fe=!0),c.applyUpdate(lt=>{const at=(lt.leaves??[]).find(yn=>yn.id===Pe);at&&(at.rotation=((ze+nt)%360+360)%360)},!1)},Ae=()=>{qe.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Ae),Fe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Ae);return}else if(Be==="scale"){const Ne=Ce.position,ze=Ce.scale??1,ge=Math.max(1,Math.hypot(ye.x-Ne.x,ye.y-Ne.y)),Pe=Ce.id,He=$i(Be,"/tsumami/");Ue(He),N.current&&(N.current.style.cursor=He);let Fe=!1;const $e=pt=>{const tt=Se(pt),nt=Math.hypot(tt.x-Ne.x,tt.y-Ne.y)/ge;Math.abs(nt-1)>.01&&(Fe=!0),c.applyUpdate(lt=>{const at=(lt.leaves??[]).find(yn=>yn.id===Pe);at&&(at.scale=Math.max(.3,Math.min(3,ze*nt)))},!1)},Ae=()=>{qe.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Ae),Fe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Ae);return}else if(Be==="width"){const Ne=Ce.position,ze=Ce.rotation*Math.PI/180,ge=-Math.sin(ze),Pe=Math.cos(ze),He=Ce.widthScale??1,Fe=Math.max(1,Math.abs((ye.x-Ne.x)*ge+(ye.y-Ne.y)*Pe)),$e=Ce.id,Ae=$i(Be,"/tsumami/");Ue(Ae),N.current&&(N.current.style.cursor=Ae);let pt=!1;const tt=nt=>{const lt=Se(nt),yn=Math.abs((lt.x-Ne.x)*ge+(lt.y-Ne.y)*Pe)/Fe;Math.abs(yn-1)>.01&&(pt=!0),c.applyUpdate(ya=>{const Jl=(ya.leaves??[]).find(pn=>pn.id===$e);Jl&&(Jl.widthScale=Math.max(.3,Math.min(3,He*yn)))},!1)},Me=()=>{qe.current=!1,document.removeEventListener("pointermove",tt),document.removeEventListener("pointerup",Me),pt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",tt),document.addEventListener("pointerup",Me);return}else{const Ne=ye,ze={...Ce.position},ge=Ce.id;Ue(Vn("/tsumami/")),N.current&&(N.current.style.cursor=Vn("/tsumami/"));let Pe=!1;const He=$e=>{const Ae=Se($e),pt=Ae.x-Ne.x,tt=Ae.y-Ne.y;Math.abs(pt)+Math.abs(tt)>1&&(Pe=!0),c.applyUpdate(Me=>{const nt=(Me.leaves??[]).find(lt=>lt.id===ge);nt&&(nt.position.x=Math.max(0,Math.min(da,ze.x+pt)),nt.position.y=Math.max(0,Math.min(da,ze.y+tt)))},!1)},Fe=()=>{qe.current=!1,document.removeEventListener("pointermove",He),document.removeEventListener("pointerup",Fe),Pe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",He),document.addEventListener("pointerup",Fe);return}}}}if(ue.target===ue.currentTarget){Te?(Qe.setTouchBgStart({x:ue.clientX,y:ue.clientY}),k(ue)):kn?O(ue):(Qe.setMouseBgStart({x:ue.clientX,y:ue.clientY}),Rn.current=!0,N.current&&(N.current.style.cursor="grabbing"),k(ue));return}},onPointerMove:ue=>{if(fe.current||qe.current)return;if(J.current){W(ue);return}if(M.current){E(ue);return}if(g.current){z(ue);return}if(H.current){I(ue);return}if(q.current){Y(ue);return}X(ue),G(ue);const Te=!!c.dragRef?.current||!!J.current||!!M.current||!!g.current||!!H.current||!!q.current||Rn.current,Be=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Te&&Be){const Ce=i.flowers.find(ye=>ye.id===f);if(Ce){const ye=Se(ue);if(Ve.current&&!gn.current){if(Math.hypot(ye.x-Ve.current.x,ye.y-Ve.current.y)<pl){const{zone:Ae}=ai(ye.x,ye.y,Ce,i,a);Ae==="center"&&(Ue("pointer"),N.current&&(N.current.style.cursor="pointer"));return}gn.current=!0,Ve.current=null}const{zone:Ne,layerId:ze,petalIndex:ge}=ai(ye.x,ye.y,Ce,i,a),{length:Pe}=Ht(Ce.fabricSquareSize??i.fabricSquareSize),He=S0(Ne,a.kind,{hitLayerId:ze,flower:Ce,length:Pe});He!=="none"&&(Wt.current=He,Fn.current=ze,$n.current=ge);const Fe=Rd(He,"/tsumami/");Ue(Fe),N.current&&(N.current.style.cursor=Fe)}}if(!Te&&a.kind==="leaf"&&c.selectedLeafId){const Ce=c.leaves.find(ye=>ye.id===c.selectedLeafId);if(Ce){const ye=Se(ue);if(Ve.current&&!gn.current){if(Math.hypot(ye.x-Ve.current.x,ye.y-Ve.current.y)<pl)return;gn.current=!0,Ve.current=null}const Ne=tm(ye.x,ye.y,Ce,i);Ne!=="none"&&(vn.current=Ne);const ze=$i(Ne,"/tsumami/");Ue(ze),N.current&&(N.current.style.cursor=ze)}}},onPointerUp:ue=>{if(!fe.current&&!qe.current){if(Wl(null),J.current&&kn&&ga(!1),R(),U(),v(),D(),K(),C(),B(),Rn.current&&(Rn.current=!1,N.current&&(N.current.style.cursor=kn?"crosshair":"grab")),Qe.touchBgStartRef.current&&ue.pointerType==="touch"){const Te=ue.clientX-Qe.touchBgStartRef.current.x,Be=ue.clientY-Qe.touchBgStartRef.current.y;Math.hypot(Te,Be)<qt&&r({kind:"project"}),Qe.setTouchBgStart(null);return}if(Qe.setTouchBgStart(null),Qe.mouseBgStartRef.current&&ue.pointerType==="mouse"){const Te=ue.clientX-Qe.mouseBgStartRef.current.x,Be=ue.clientY-Qe.mouseBgStartRef.current.y;if(Qe.setMouseBgStart(null),Math.hypot(Te,Be)<el){r({kind:"project"});return}}if(Qe.setMouseBgStart(null),f){const Te=i.flowers.find(Be=>Be.id===f);if(Te){const Be=Se(ue);if(Ve.current&&Math.hypot(Be.x-Ve.current.x,Be.y-Ve.current.y)<pl){const{zone:Fe}=ai(Be.x,Be.y,Te,i,a);Fe==="center"&&(Ue("pointer"),N.current&&(N.current.style.cursor="pointer"));return}const{zone:Ce,layerId:ye,petalIndex:Ne}=ai(Be.x,Be.y,Te,i,a),{length:ze}=Ht(Te.fabricSquareSize??i.fabricSquareSize),ge=S0(Ce,a.kind,{hitLayerId:ye,flower:Te,length:ze});ge!=="none"&&(Wt.current=ge,Fn.current=ye,$n.current=Ne);const Pe=Rd(ge,"/tsumami/");Ue(Pe),N.current&&(N.current.style.cursor=Pe)}}}},onPointerLeave:()=>{R(),U(),v(),D(),K(),C(),B(),Rn.current=!1,Qe.setTouchBgStart(null),Qe.setMouseBgStart(null),Ue("grab"),Ve.current=null,gn.current=!0,Wt.current="none",vn.current="none",Fn.current=void 0,$n.current=void 0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[ue,Te,Be,Ce]=j.split(/\s+/).map(Number),ye=da;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:ue,y:Te,width:Be,height:Ce,fill:"white"}),x.jsx("rect",{x:0,y:0,width:ye,height:ye,fill:"black"})]})}),x.jsx("rect",{x:ue,y:Te,width:Be,height:Ce,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:da,height:da,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:da,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:da,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),_&&(()=>{const ue=an,[Te,Be,Ce,ye]=j.split(/\s+/).map(Number),Ne=Math.max(Ce,ye)/ue,ge=[10,20,50,100,200,500,1e3].find(lt=>Ne/lt<=15)??1e3,Pe=Math.floor(Te/ue/ge)*ge-ge,He=Math.ceil((Te+Ce)/ue/ge)*ge+ge,Fe=Math.floor(Be/ue/ge)*ge-ge,$e=Math.ceil((Be+ye)/ue/ge)*ge+ge,Ae=Fe*ue,pt=$e*ue,tt=Pe*ue,Me=He*ue,nt=[];for(let lt=Pe;lt<=He;lt+=ge){const at=lt*ue;nt.push(x.jsx("line",{x1:at,y1:Ae,x2:at,y2:pt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=Fe;lt<=$e;lt+=ge){const at=lt*ue;nt.push(x.jsx("line",{x1:tt,y1:at,x2:Me,y2:at,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return x.jsx("g",{children:nt})})(),x.jsx(zm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:N,applyUpdateRef:Je,clientToSvgPointRef:ot,stencilDraggingRef:fe,onSelectStencil:c.onSelectStencil}),x.jsx(Dm,{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:ct,dashSyncToken:T,stageRef:N,multiTouchRef:Qe.multiTouchRef,clientToSvgPoint:Se,togglePetalSelection:be,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:Q,beginScaleDrag:ae,beginRotationDrag:xe,beginWidthScaleDrag:de,beginRadiusDrag:oe,clickOriginRef:Ve,zoneActivatedRef:gn,setZoneCursorValue:Ue,setTouchZoneIndicator:Wl,hoverZoneRef:Wt,hoverHitLayerIdRef:Fn,hoverHitPetalIndexRef:$n}),x.jsx(Nm,{leaves:c.leaves,leafGroups:c.leafGroups,project:i,selection:a,paletteMap:o,dashSyncToken:T,selectedLeafId:c.selectedLeafId,leafGroupHighlightedLeafIds:c.leafGroupHighlightedLeafIds,zoneCursorValue:ct,stageRef:N,applyUpdateRef:Je,clientToSvgPointRef:ot,leafDraggingRef:qe,clickOriginRef:Ve,zoneActivatedRef:gn,setZoneCursorValue:Ue,onSelectLeaf:c.onSelectLeaf,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:vn}),x.jsx(Am,{rect:P}),x.jsx(Lm,{indicator:ci})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Id(c,i,a){return Math.min(a,Math.max(i,c))}function Ze({value:c,onChange:i,min:a=-1/0,max:r=1/0,step:o,className:f,...m}){const[y,h]=$.useState(null),d=$.useRef(null),p=$.useCallback(b=>{const N=Number(b);isNaN(N)||i(Id(N,a,r)),h(null)},[i,a,r]),_=$.useCallback(()=>{h(null)},[]),A=$.useCallback(b=>{const N=o??1,w=(Number(y??c)||0)+N*b,T=Id(w,a,r),k=String(N).includes(".")?String(N).split(".")[1].length:0,G=Number(T.toFixed(k));h(String(G)),i(G)},[y,c,o,a,r,i]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:y??String(c),onChange:b=>h(b.target.value),onFocus:b=>{h(String(c)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{y!==null&&p(y)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),y!==null&&p(y),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),_(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),A(b.key==="ArrowUp"?1:-1))},...m}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),A(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),A(-1)},children:""})]})]})}function cr({title:c,compact:i,children:a}){return x.jsxs("div",{className:i?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),x.jsx("div",{className:"space-y-3",children:a})]})}function Tm({flower:c,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const f=$.useMemo(()=>{const w=[...c.layers||[]].sort((P,Q)=>P.order-Q.order);if(w.length<2)return{mode:"uniform",step:2};const T=w.map(P=>P.scale??1);if(T.every(P=>Math.abs(P-T[0])<.001))return{mode:"uniform",step:2};const G=w[0],B=w[w.length-1],O=(B.order??1)-(G.order??1);if(O<=0)return{mode:"gradual",step:2};const R=((G.scale??1)-(B.scale??1))/O,J=Math.round(R*i*2)/2;return{mode:"gradual",step:je(J,0,10)}},[c.id]),[m,y]=$.useState(f.mode),[h,d]=$.useState(f.step),[p,_]=$.useState(0);$.useEffect(()=>{y(f.mode),d(f.step),_(0)},[f]);const A=$.useMemo(()=>[...c.layers||[]].sort((w,T)=>w.order-T.order),[c.layers]),b=A[0],N=b?b.order:0,j=$.useMemo(()=>{if(!b)return[];const w=b.scale??1,T=b.radius,k=new Map;for(const P of A){const Q=P.order-N;if(Q===0)k.set(P.id,w);else if(m==="uniform")k.set(P.id,w);else{const X=h/i;k.set(P.id,je(w-Q*X,.3,3))}}const{length:G}=Ht(i),B=A.length,O=70*Math.PI/180,W=new Map;let R=T;W.set(b.id,T);for(let P=1;P<B;P++){const Q=A[P-1],X=k.get(Q.id)??1,C=G*X;let g;if(a===""){const z=B-1-P,v=B>1?z/(B-1)*O:0;g=C*(30/100)*Math.cos(v)}else g=C/3;R=R-g,W.set(A[P].id,Math.max(2,R))}const J=A.map(P=>{const Q=k.get(P.id)??1,X=Math.round((W.get(P.id)??T)*10)/10,C=Math.round(i*Q*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:Q,effFabricSize:C,effRadius:X}});if(J.length>0){const P=J[J.length-1],Q=G*P.effScale,X=Math.floor(Q*.28*10)/10;P.effRadius>X&&(P.effRadius=X)}return J},[A,b,N,m,h,30,i,a]);return $.useEffect(()=>{p!==0&&(!b||j.length===0||r(w=>{const T=w.flowers.find(G=>G.id===c.id);if(!T)return;for(const G of j){const B=T.layers.find(O=>O.id===G.id);B&&(B.scale=je(G.effScale,.3,3),B.radius=je(G.effRadius,2,120))}const k=[...T.layers].sort((G,B)=>B.order-G.order);for(let G=1;G<k.length;G++){const B=k[G-1],O=k[G];O.offsetAngle=Qn(B.petalCount,B.offsetAngle,O.petalCount)}}))},[p]),A.length<2?null:x.jsxs(cr,{title:"",children:[x.jsxs(yx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:w=>{y(w.target.value),_(T=>T+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&x.jsxs(yx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:w=>{d(w),_(T=>T+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),j.map(w=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:w.name}),x.jsxs("span",{children:[" ",w.effFabricSize,"mm /  ",Math.round(tr(w.effRadius,w.effScale,i)),"mm"]})]},w.id))]})]})}const Pd="tsumami_recent_colors_v1",Bx=10;function Bm(c){const i=new Set;for(const a of c.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const o of r.petalOverrides)o.colorId&&i.add(o.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function jx(){try{const c=localStorage.getItem(Pd);if(c){const i=JSON.parse(c);if(Array.isArray(i))return i.slice(0,Bx)}}catch{}return[]}function qm(c){try{localStorage.setItem(Pd,JSON.stringify(c.slice(0,Bx)))}catch{}}function Gm(c){const i=jx(),a=[c,...i.filter(r=>r!==c)].slice(0,Bx);qm(a)}function Zn({palette:c,project:i,selectedColorId:a,onChange:r,size:o="md"}){const[f,m]=$.useState(!1),y=$.useRef(null),[h,d]=$.useState(jx);$.useEffect(()=>{if(!f)return;const j=w=>{y.current&&!y.current.contains(w.target)&&m(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[f]);const p=$.useMemo(()=>Bm(i),[i]),_=$.useMemo(()=>{const j=new Set;j.add(a);for(const w of p)j.add(w);for(const w of h)j.add(w);return c.filter(w=>j.has(w.id))},[c,a,p,h]),A=$.useCallback(j=>{Gm(j),d(jx()),r(j)},[r]),b=o==="sm"?"h-4 w-4":"h-5 w-5",N=f?c:_;return x.jsx("div",{ref:y,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[N.map(j=>x.jsx("button",{className:`${b} rounded border-2 ${a===j.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:j.hex},title:j.name,"aria-label":`: ${j.name}`,onClick:()=>A(j.id)},j.id)),c.length>_.length&&x.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(j=>!j),title:f?"":"","aria-label":f?"":"",children:x.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function km({project:c,applyUpdate:i,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:yl.map(r=>{const o=a.layers.every(f=>f.petalType===r);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const m=f.flowers.find(y=>y.id===a.id);if(m)for(const y of m.layers)y.petalType=r}),children:r},r)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Kd.map(r=>{const o=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==r&&i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;m.placementMode=r;const y=m.fabricSquareSize??f.fabricSquareSize;r===""?m.baseDiameter=er(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=f.baseDiameter),Eh(m.layers,y,r,m.flowerDiameter)},!0)},children:r},r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(Ze,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.baseDiameter=r)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[er(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(o=>{const f=o.flowers.find(h=>h.id===a.id);if(!f)return;const m=ri(r);for(const h of f.layers)h.petalCount=r,h.widthScale=m;const y=[...f.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<y.length;h++)y[h].offsetAngle=Qn(y[h-1].petalCount,y[h-1].offsetAngle,y[h].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ze,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(o=>{const f=o.flowers.find(y=>y.id===a.id);if(!f)return;f.flowerDiameter=r,f.placementMode===""&&(f.baseDiameter=er(r));const m=[...f.layers].sort((y,h)=>y.order-h.order);X0(m,f.fabricSquareSize??o.fabricSquareSize,r);for(const y of m){const h=f.layers.find(d=>d.id===y.id);h&&(h.radius=y.radius,h.scale=y.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.widthScale=r})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.rotation=r)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.colorId=r})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)if(r.target.checked){if(!m.doublePetal){const y=m._doublePetalCache;m.doublePetal=y??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(y=>y.doublePetal.innerSizeReduction))],o=r.length===1?r[0]:null,f=[...new Set(a.layers.map(y=>y.doublePetal.innerColorId??y.colorId))],m=f.length===1?f[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:y=>i(h=>{const d=h.flowers.find(p=>p.id===a.id);if(d)for(const p of d.layers)p.doublePetal&&(p.doublePetal.innerSizeReduction=je(y,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:m??"",onChange:y=>i(h=>{const d=h.flowers.find(p=>p.id===a.id);if(d)for(const p of d.layers)p.doublePetal&&(y===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=y)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Oh.map(r=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.type=r,r===""&&!f.center.pepCount&&(f.center.pepCount=12),r===""&&!f.center.color2&&(f.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:r},r))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.size=r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color2=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.pepCount=r)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Tm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function Rm({project:c,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:m}){const y=a,h=[...new Set(y.flatMap(_=>_.layers.map(A=>A.petalType)))],d=h.length===1?h[0]:null,p=_=>{i(A=>{for(const b of y){const N=A.flowers.find(j=>j.id===b.id);N&&_(N)}},!0)};return x.jsxs(cr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[y.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(_=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:_.hex},title:_.name,onClick:()=>p(A=>{for(const b of A.layers)b.colorId=_.id})},_.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:yl.map(_=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(A=>{for(const b of A.layers)b.petalType=_}),children:_},_))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Ze,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:_=>{const A=ri(_);p(b=>{for(const j of b.layers)j.petalCount=_,j.widthScale=A;const N=[...b.layers].sort((j,w)=>w.order-j.order);for(let j=1;j<N.length;j++)N[j].offsetAngle=Qn(N[j-1].petalCount,N[j-1].offsetAngle,N[j].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(_=>x.jsxs("div",{children:[_.name," (",_.layers.length,")"]},_.id))}),(()=>{const _=y.map(w=>ma(c,w.id)),A=y.filter(w=>!ma(c,w.id)).map(w=>w.id),b=[...new Set(_.filter(Boolean).map(w=>w.id))],N=A.length===y.length,j=b.length===1&&_.every(w=>w!=null);return x.jsxs(x.Fragment,{children:[N&&y.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(y.map(w=>w.id)),children:""}),j&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&A.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],A),children:[" (+",A.length,")"]}),b.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(b,A),children:[" (",b.length,"",A.length>0?` +${A.length}`:"",")"]})]})})()]})}function Om({project:c,applyUpdate:i,selectedFlowers:a,groups:r,groupId:o,onUngroupFlowers:f}){const m=r.find(_=>_.id===o);if(!m)return null;const y=a,h=[...new Set(y.flatMap(_=>_.layers.map(A=>A.petalType)))],d=h.length===1?h[0]:null,p=_=>{i(A=>{for(const b of y){const N=A.flowers.find(j=>j.id===b.id);N&&_(N)}},!0)};return x.jsxs(cr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:m.name,onChange:_=>i(A=>{const b=(A.groups??[]).find(N=>N.id===m.id);b&&(b.name=_.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[y.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(_=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:_.hex},title:_.name,onClick:()=>p(A=>{for(const b of A.layers)b.colorId=_.id})},_.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:yl.map(_=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(A=>{for(const b of A.layers)b.petalType=_}),children:_},_))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Ze,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:_=>{const A=ri(_);p(b=>{for(const j of b.layers)j.petalCount=_,j.widthScale=A;const N=[...b.layers].sort((j,w)=>w.order-j.order);for(let j=1;j<N.length;j++)N[j].offsetAngle=Qn(N[j-1].petalCount,N[j-1].offsetAngle,N[j].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(_=>x.jsxs("div",{children:[_.name," (",_.layers.length,")"]},_.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(m.id),children:""})]})}function Im({project:c,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);y&&(y.name=o.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:yl.map(o=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);y&&(y.petalType=o)}),children:o},o))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:5,max:24,value:r.petalCount,onChange:o=>{i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);if(y){y.petalCount=o,y.widthScale=ri(o);const h=[...m.layers].sort((d,p)=>p.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=Qn(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ze,{min:1,max:200,step:.5,value:Math.round(tr(r.radius,r.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);y&&(y.radius=je(Lh(o,y.scale??1,m.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ze,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(r.scale??1)*10)/10,onChange:o=>i(f=>{const m=f.flowers.find(_=>_.id===a.id);if(!m)return;const y=m.layers.find(_=>_.id===r.id);if(!y)return;const h=m.fabricSquareSize??f.fabricSquareSize;y.scale=je(Math.round(o/h*100)/100,.3,3);const d=[...m.layers].sort((_,A)=>_.order-A.order),p=d.findIndex(_=>_.id===y.id);if(p>=0)for(let _=p-1;_>=0;_--){const A=d[_],b=d[_+1],j=Ht(h).length*(b.scale??1)/3;A.radius=Math.round((b.radius+j)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);y&&(y.scale=o)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);y&&(y.widthScale=o)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{value:Number(r.offsetAngle??0).toFixed(1),onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);y&&(y.offsetAngle=o)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:r.colorId,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);y&&(y.colorId=o)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);if(y)if(o.target.checked){const h=y._doublePetalCache;y.doublePetal=h??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);y?.doublePetal&&(y.doublePetal.innerSizeReduction=je(o,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);y?.doublePetal&&(o===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=o)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);y&&(y.visible=o.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:o=>i(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===r.id);y&&(y.locked=o.target.checked)})}),""]})]})]})]})}function Hm({project:c,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const o=r,f=o.map(w=>{const T=a.layers.find(k=>k.id===w.layerId);return{...w,layer:T}}).filter(w=>w.layer!=null),m=(w,T)=>{const k=a.layers.find(B=>B.id===w);return k?(k?.petalOverrides?.find(B=>B.index===T)??null)?.colorId??k.colorId:null},y=(w,T)=>{const k=a.layers.find(B=>B.id===w);return k?(k?.petalOverrides?.find(B=>B.index===T)??null)?.petalType??k.petalType:null},h=f.map(w=>m(w.layerId,w.index)),d=f.map(w=>y(w.layerId,w.index)),p=h.length>0&&h.every(w=>w===h[0]),A=d.length>0&&d.every(w=>w===d[0])?d[0]:null,b=w=>{i(T=>{const k=T.flowers.find(G=>G.id===a.id);if(k)for(const G of o){const B=k.layers.find(W=>W.id===G.layerId);if(!B)continue;B.petalOverrides||(B.petalOverrides=[]);const O=B.petalOverrides.find(W=>W.index===G.index);if(O)w.colorId!==void 0&&(w.colorId===B.colorId?delete O.colorId:O.colorId=w.colorId),w.petalType!==void 0&&(w.petalType===B.petalType?delete O.petalType:O.petalType=w.petalType),!O.colorId&&!O.petalType&&(B.petalOverrides=B.petalOverrides.filter(W=>W.index!==G.index),B.petalOverrides.length===0&&(B.petalOverrides=void 0));else{const W={index:G.index};w.colorId!==void 0&&w.colorId!==B.colorId&&(W.colorId=w.colorId),w.petalType!==void 0&&w.petalType!==B.petalType&&(W.petalType=w.petalType),(W.colorId!==void 0||W.petalType!==void 0)&&B.petalOverrides.push(W)}}},!0)},N=()=>{i(w=>{const T=w.flowers.find(k=>k.id===a.id);if(T)for(const k of o){const G=T.layers.find(B=>B.id===k.layerId);!G||!G.petalOverrides||(G.petalOverrides=G.petalOverrides.filter(B=>B.index!==k.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0))}},!0)},j=f.some(w=>w.layer?.petalOverrides?.find(T=>T.index===w.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",j&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(w=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${p&&h[0]===w.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:w.hex},title:w.name,"aria-label":`: ${w.name}`,onClick:()=>b({colorId:w.id})},w.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:yl.map(w=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${A===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:w}),children:w},w))})]}),j&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:N,children:""})]})]})}function Ym({project:c,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:o}){const f=r?.petalOverrides?.find(_=>_.index===o)??null,m=f?.colorId??r.colorId,y=f?.petalType??r.petalType,h=f!=null,d=_=>{i(A=>{const b=A.flowers.find(w=>w.id===a.id);if(!b)return;const N=b.layers.find(w=>w.id===r.id);if(!N)return;N.petalOverrides||(N.petalOverrides=[]);const j=N.petalOverrides.find(w=>w.index===o);if(j)_.colorId!==void 0&&(j.colorId=_.colorId),_.petalType!==void 0&&(j.petalType=_.petalType),_.innerColorId!==void 0&&(j.innerColorId=_.innerColorId),_.innerSizeReduction!==void 0&&(j.innerSizeReduction=_.innerSizeReduction),j.colorId!==void 0||j.petalType!==void 0||j.innerColorId!==void 0||j.innerSizeReduction!==void 0?(j.colorId===void 0&&delete j.colorId,j.petalType===void 0&&delete j.petalType,j.innerColorId===void 0&&delete j.innerColorId,j.innerSizeReduction===void 0&&delete j.innerSizeReduction):(N.petalOverrides=N.petalOverrides.filter(T=>T.index!==o),N.petalOverrides.length===0&&(N.petalOverrides=void 0));else{const w={index:o};_.colorId!==void 0&&(w.colorId=_.colorId),_.petalType!==void 0&&(w.petalType=_.petalType),_.innerColorId!==void 0&&(w.innerColorId=_.innerColorId),_.innerSizeReduction!==void 0&&(w.innerSizeReduction=_.innerSizeReduction),(w.colorId!==void 0||w.petalType!==void 0||w.innerColorId!==void 0||w.innerSizeReduction!==void 0)&&N.petalOverrides.push(w)}},!0)},p=()=>{i(_=>{const A=_.flowers.find(N=>N.id===a.id);if(!A)return;const b=A.layers.find(N=>N.id===r.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(N=>N.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",o+1,h&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:m,onChange:_=>{_===r.colorId?d({colorId:void 0}):d({colorId:_})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:yl.map(_=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{_===r.petalType?d({petalType:void 0}):d({petalType:_})},children:_},_))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:_=>i(A=>{const b=A.flowers.find(j=>j.id===a.id);if(!b)return;const N=b.layers.find(j=>j.id===r.id);if(N)if(_.target.checked){const j=N._doublePetalCache;N.doublePetal=j??{innerSizeReduction:2},delete N._doublePetalCache}else N.doublePetal&&(N._doublePetalCache={...N.doublePetal}),delete N.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const _=r.doublePetal,A=f?.innerSizeReduction??_.innerSizeReduction,b=f?.innerColorId??_.innerColorId??m;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(Ze,{min:1,max:30,step:1,value:A,onChange:N=>{const j=je(N,1,30);j===_.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:j})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:b,size:"sm",onChange:N=>{const j=_.innerColorId??r.colorId;d(N===j?{innerColorId:void 0}:{innerColorId:N})}})]})]})})(),h&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:p,children:""})]})]})}function Um({project:c,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const o=a,f=m=>{i(y=>{const h=(y.stencils??[]).find(d=>d.id===o.id);h&&Object.assign(h,m)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:m=>f({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>x.jsx("option",{value:m,children:Vd[m]},m))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:m=>f({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>x.jsx("option",{value:m,children:Qd[m]},m))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:m=>f({locked:m.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Zm({project:c,applyUpdate:i,selectedLeaf:a,leafGroups:r,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:m}){const y=a,h=p=>{i(_=>{const A=(_.leaves??[]).find(b=>b.id===y.id);A&&p(A)},!0)},d=K0(c,y.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:y.name,onChange:p=>h(_=>{_.name=p.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:yl.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y.petalType===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(_=>{_.petalType=p}),children:p},p))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:y.colorId,onChange:p=>h(_=>{_.colorId=p})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ze,{min:3,max:80,step:.5,value:Math.round((y.fabricSquareSize??c.fabricSquareSize)*(y.scale??1)*10)/10,onChange:p=>h(_=>{const A=_.fabricSquareSize??c.fabricSquareSize;_.scale=je(Math.round(p/A*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:.4,max:2.5,step:.05,value:Number(y.scale??1).toFixed(2),onChange:p=>h(_=>{_.scale=p})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(y.widthScale??1).toFixed(2),onChange:p=>h(_=>{_.widthScale=p})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Ze,{value:Number(y.rotation).toFixed(1),onChange:p=>h(_=>{_.rotation=p})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.doublePetal,onChange:p=>h(_=>{if(p.target.checked){const A=_._doublePetalCache;_.doublePetal=A??{innerSizeReduction:2},delete _._doublePetalCache}else _.doublePetal&&(_._doublePetalCache={..._.doublePetal}),delete _.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),y.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{min:1,max:30,step:1,value:y.doublePetal.innerSizeReduction,onChange:p=>h(_=>{_.doublePetal&&(_.doublePetal.innerSizeReduction=je(p,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:y.doublePetal.innerColorId??y.colorId,onChange:p=>h(_=>{_.doublePetal&&(p===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=p)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.visible,onChange:p=>h(_=>{_.visible=p.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.locked,onChange:p=>h(_=>{_.locked=p.target.checked})}),""]})]}),d?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(y.id),children:""})]}):r.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:p=>{p.target.value&&f(y.id,p.target.value)},children:[x.jsx("option",{value:"",children:"..."}),r.map(p=>x.jsx("option",{value:p.id,children:p.name},p.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(y.id),children:""})]})]})}function Km({project:c,applyUpdate:i,leafIds:a,onGroupLeaves:r}){const o=(c.leaves??[]).filter(f=>a.includes(f.id));return o.length===0?null:x.jsxs(cr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[o.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:"",onChange:f=>i(m=>{for(const y of a){const h=(m.leaves??[]).find(d=>d.id===y);h&&(h.colorId=f)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:yl.map(f=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(m=>{for(const y of a){const h=(m.leaves??[]).find(d=>d.id===y);h&&(h.petalType=f)}},!0),children:f},f))}),a.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""})]})}function Xm({project:c,applyUpdate:i,selectedLeafGroup:a,onUngroupLeaves:r}){const o=a,f=(c.leaves??[]).filter(m=>o.leafIds.includes(m.id));return x.jsxs(cr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:m=>i(y=>{const h=(y.leafGroups??[]).find(d=>d.id===o.id);h&&(h.name=m.target.value)})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Ze,{value:Number(o.rotation).toFixed(1),onChange:m=>i(y=>{const h=(y.leafGroups??[]).find(d=>d.id===o.id);h&&(h.rotation=m)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:m=>i(y=>{const h=(y.leafGroups??[]).find(d=>d.id===o.id);h&&(m.target.value?h.linkedFlowerGroupId=m.target.value:delete h.linkedFlowerGroupId)},!0),children:[x.jsx("option",{value:"",children:""}),(c.groups??[]).map(m=>x.jsx("option",{value:m.id,children:m.name},m.id))]})]}),x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),x.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(m=>x.jsx("div",{children:m.name},m.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>r(o.id),children:""})]})}function Wm(c){const{project:i,selection:a,applyUpdate:r,selectedFlower:o,selectedFlowers:f,selectedLayer:m,selectedPetalIndex:y,selectedPetals:h}=c;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:d=>r(p=>p.title=d.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{value:i.fabricSquareSize,min:5,max:60,onChange:d=>r(p=>p.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ze,{value:i.baseDiameter,min:10,max:100,onChange:d=>r(p=>p.baseDiameter=d),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Kl(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",Kl(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:d=>r(p=>p.notes=d.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(d=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&o&&x.jsx(km,{project:i,applyUpdate:r,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&x.jsx(Rm,{project:i,applyUpdate:r,selectedFlowers:f,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&f.length>0&&x.jsx(Om,{project:i,applyUpdate:r,selectedFlowers:f,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers}),a.kind==="layer"&&o&&m&&x.jsx(Im,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:m}),a.kind==="petals"&&o&&h.length>0&&x.jsx(Hm,{project:i,applyUpdate:r,selectedFlower:o,selectedPetals:h}),a.kind==="petal"&&o&&m&&y!==null&&x.jsx(Ym,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:m,selectedPetalIndex:y}),a.kind==="stencil"&&c.selectedStencil&&x.jsx(Um,{project:i,applyUpdate:r,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&x.jsx(Zm,{project:i,applyUpdate:r,selectedLeaf:c.selectedLeaf,leafGroups:c.leafGroups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Km,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves}),a.kind==="leafGroup"&&c.selectedLeafGroup&&x.jsx(Xm,{project:i,applyUpdate:r,selectedLeafGroup:c.selectedLeafGroup,onUngroupLeaves:c.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Jm(c){const i={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Kl(c.baseDiameter,c.fabricSquareSize,i).diameter:lr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function Vm(c){const i={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?zh(c.flowerDiameter,c.baseDiameter,i):Mh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function Qm({palette:c,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:o}){const f=h=>{a(d=>{const p={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(p.baseDiameter=30,p.fabricSquareSize=20,p.layerCount=4,p.petalCount=12):(p.fabricSquareSize=20,p.layerCount=1,p.petalCount=6)),p.flowerDiameter=Jm(p),p})},m=h=>{a(d=>{const p={...d,flowerDiameter:h};return p.fabricSquareSize=Vm(p),p})},y=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&y.push("");const h=Dh(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>h&&y.push(`${h}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Kd.map(h=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:h}),children:h},h))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:h=>f({fabricSquareSize:h})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:h=>f({layerCount:h})})]})]}),i.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:h=>f({baseDiameter:h})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:m})]})]}),y.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:y.map((h,d)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(h=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||c[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:yl.map(h=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),i.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:h=>f({sizeStepMm:h})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}(function(c,i){const a=Kt,r=c();for(;;)try{if(parseInt(a(525))/1+-parseInt(a(514))/2+parseInt(a(559))/3+-parseInt(a(520))/4*(parseInt(a(536))/5)+-parseInt(a(510))/6+-parseInt(a(509))/7*(parseInt(a(548))/8)+-parseInt(a(560))/9*(-parseInt(a(527))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(I0,572492);const Pm=(function(){const c=Kt,i={KxaLT:c(511),VAEuq:"NKuyJ",YAkVS:c(538)};let a=!0;return function(r,o){const f=c,m={DfjkJ:function(y,h){return y!==h},FkbiP:i[f(533)],ickUW:i[f(508)]};if(i.YAkVS===i[f(550)]){const y=a?function(){if(o)if(m.DfjkJ(m.FkbiP,m.ickUW)){const h=o.apply(r,arguments);return o=null,h}else _0x5222be(_0xf9fe99)}:function(){};return a=!1,y}else return _0x46e7ca[f(524)]().search(f(558))[f(524)]()[f(535)](_0x12fb46)[f(564)](f(558))}})(),Mx=Pm(void 0,function(){const c=Kt,i={UOiFY:c(558)};return Mx[c(524)]()[c(564)](i.UOiFY).toString()[c(535)](Mx).search(i.UOiFY)});Mx();function Kt(c,i){c=c-497;const a=I0();let r=a[c];if(Kt.kSBCqt===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Kt.aBHZxn=o,Kt.rbeHdF={},Kt.kSBCqt=!0}const f=a[0],m=c+f,y=Kt.rbeHdF[m];if(y)r=y;else{const h=function(d){this.jpPEJg=d,this.WJekwE=[1,0,0],this.dCydbc=function(){return"newState"},this.KUUsmv="\\w+ *\\(\\) *{\\w+ *",this.HzZkYj=`['|"].+['|"];? *}`};h.prototype.nqSCxp=function(){const d=new RegExp(this.KUUsmv+this.HzZkYj),p=d.test(this.dCydbc.toString())?--this.WJekwE[1]:--this.WJekwE[0];return this.odwiJn(p)},h.prototype.odwiJn=function(d){return~d?this.izWMih(this.jpPEJg):d},h.prototype.izWMih=function(d){for(let p=0,_=this.WJekwE.length;p<_;p++)this.WJekwE.push(Math.round(Math.random())),_=this.WJekwE.length;return d(this.WJekwE[0])},new h(Kt).nqSCxp(),r=Kt.aBHZxn(r),Kt.rbeHdF[m]=r}return r}const Fd="tsumami-panel-widths",$d={left:25,right:25},zx=15,Dx=15,ir=30;function Fm(){const c=Kt,i={FazGN:function(a,r){return a===r},FlzNb:function(a,r){return a>=r},mYYaq:function(a,r){return a-r}};try{const a=localStorage[c(501)](Fd);if(a){const r=JSON[c(546)](a);if(i.FazGN(typeof r.left,c(529))&&i.FazGN(typeof r[c(506)],c(529))&&i[c(499)](r.left,zx)&&r.right>=Dx&&i.mYYaq(100,r[c(540)])-r[c(506)]>=ir)return r}}catch{}return $d}function I0(){const c=["wufRvLm","y29SlxjLC2L6zq","BgrgtM0","CMvTB3zLrxzLBNrmAxn0zw5LCG","y2XPzw50wa","vuPZC0S","Auvtr1m","z3nfs3u","kcGOlISPkYKRksSK","mJG0nZi1mKHru0vMva","mtCZotDWwe1owhO","m3W1Fdb8mNW0Fde","DxnLCLnLBgvJDa","sujWvfa","C2vHCMnO","z3Hyr1C","CM91BMq","rMX6tMi","Bwf0y2HLCW","z2v0sxrLBq","C3bSAxq","D2LKDgG","DKfXBg4","u3vdu0C","CMLNAhq","C3r5Bgu","vKffDxe","mtmZn21ivg9WzW","otGYmZC0EKDQEg5v","rwnNBvi","Cg9PBNrLCNvW","Bu5oteu","mZm3mJi0vuPHB1zr","y3vYCMvUDa","DhHLsNy","tw1wwwe","y3vYC29Y","Cg9PBNrLCM1VDMu","mta0qu5wz3j6","C3rHCNrxAwr0Ahm","nxW0Fdf8mNWWFdm","BMDSCha","Dg9tDhjPBMC","nJG5nZyZzhf6EM1P","Bwf0y2HnzwrPyq","mJe2mePcBefWBq","yM9KEq","BNvTyMvY","yNr5AM8","BLfxwhe","zeDvBhq","s3HHtfq","Bwf4","y29UC3rYDwn0B3i","nJe3ndv1whb0wLq","kg1PBI13Awr0AdOGnZy4ChGP","u0XHseu","sLvfDvy","BgvMDa","z2v0qM91BMrPBMDdBgLLBNrszwn0","q0rAB0i","Bw5tvfO","ywrKrxzLBNrmAxn0zw5LCG","rMLrBvO","CgfYC2u","ChjLDMvUDerLzMf1Bhq","mZq3odruzvvAy2q","Dw5KzwzPBMvK"];return I0=function(){return c},I0()}function Hd(c,i){const a=Kt,r={txeJv:function(y,h){return y-h},ctLfr:function(y,h){return y<h},iESGS:function(y,h){return y/h},WIYyr:function(y,h){return y/h},JUEuV:function(y,h){return y*h}};let o=Math[a(534)](zx,c),f=Math.max(Dx,i);const m=r[a(516)](100-o,f);if(r.ctLfr(m,ir)){const y=ir-m;o-=r[a(556)](y,2),f-=r.WIYyr(y,2),o=Math[a(534)](zx,o),f=Math[a(534)](Dx,f)}return{left:Math.round(o*100)/100,right:Math[a(498)](r[a(539)](f,100))/100}}function $m(){const c=Kt,i={xrlrC:function(N,j){return N!==j},UuCIZ:"(min-width: 768px)",llYrm:"change",CDZoB:c(561),gsEKu:c(512),nglpp:c(519),gxXGW:function(N,j){return N===j},aUJrT:function(N,j){return N/j},btyjo:function(N,j){return N-j},IBpTP:"none",KBxHi:function(N,j){return N!==j},FiQmZ:"MzwUK",DHhQM:function(N,j){return N(j)},rQIGB:function(N,j){return N(j)},IuUrW:function(N,j,w){return N(j,w)},XDumt:function(N,j,w){return N(j,w)},mNNLE:function(N,j){return N(j)},MmVYa:function(N,j,w){return N(j,w)}},[a,r]=i.rQIGB($.useState,Fm),o=$.useRef(null),f=$.useRef(null),[m,y]=$.useState(!1),[h,d]=i.DHhQM($.useState,()=>typeof window!==c(549)?window.matchMedia(c(537))[c(500)]:!0);i.IuUrW($.useEffect,()=>{const N=c,j={dGUlt:N(522),nQWXq:N(512)};if(i.xrlrC(N(505),N(504))){const w=window[N(526)](i.UuCIZ),T=k=>d(k[N(500)]);return w[N(544)](i.llYrm,T),()=>w.removeEventListener("change",T)}else{const w=j[N(532)].split("|");let T=0;for(;;){switch(w[T++]){case"0":_0x4ba13f[N(553)]("pointermove",_0x1ab549);continue;case"1":_0x55c07c[N(528)].style[N(518)]="";continue;case"2":_0x236408.body[N(507)].userSelect="";continue;case"3":_0x52b6f6[N(553)](j[N(531)],_0x31a862);continue;case"4":_0x49623b(!1);continue;case"5":_0x3b7592.current=null;continue}break}}},[]),$.useEffect(()=>{localStorage.setItem(Fd,JSON.stringify(a))},[a]);const p=$.useRef(a);i.XDumt($.useEffect,()=>{p.current=a},[a]);const _=$.useCallback((N,j)=>{const w=c,T={rFXZh:function(O,W){return i[Kt(497)](O,W)},ldFNm:function(O,W){return i.aUJrT(O,W)},UJssK:function(O,W){return O-W},mnSTZ:function(O,W){return i[Kt(530)](O,W)},ZcyXL:function(O,W){return O(W)}};j[w(547)]();const k=o.current;if(!k)return;f[w(515)]={side:N,startX:j.clientX,startWidths:{...p.current}},y(!0),document[w(528)].style.cursor=w(551),document.body.style[w(562)]=i[w(563)];const G=O=>{const W=w,R=f[W(515)];if(!R)return;const J=k[W(541)]()[W(503)];if(T.rFXZh(J,0))return;const P=O[W(554)]-R.startX,Q=T[W(552)](P,J)*100;if(R.side==="left"){const X=R.startWidths.left+Q,C=T[W(555)](T[W(543)](100,R.startWidths[W(506)]),ir);T.ZcyXL(r,Hd(Math.min(X,C),R.startWidths[W(506)]))}else{const X=R.startWidths[W(506)]-Q,C=100-R.startWidths.left-ir;T.ZcyXL(r,Hd(R[W(521)].left,Math.min(X,C)))}},B=()=>{const O=w,W=i[O(542)].split("|");let R=0;for(;;){switch(W[R++]){case"0":document[O(528)][O(507)][O(518)]="";continue;case"1":window[O(553)](i[O(557)],B);continue;case"2":document[O(528)][O(507)][O(562)]="";continue;case"3":f[O(515)]=null;continue;case"4":window.removeEventListener(i[O(523)],G);continue;case"5":y(!1);continue}break}};window.addEventListener(i.nglpp,G),window.addEventListener(w(512),B),A[w(515)]=()=>{const O=w,W="1|0|2|3|4|5"[O(502)]("|");let R=0;for(;;){switch(W[R++]){case"0":window[O(553)](i.gsEKu,B);continue;case"1":window.removeEventListener(i.nglpp,G);continue;case"2":f.current=null;continue;case"3":y(!1);continue;case"4":document.body.style[O(518)]="";continue;case"5":document.body[O(507)].userSelect="";continue}break}}},[]),A=i[c(513)]($.useRef,null);$.useEffect(()=>{const N=c;return i.KBxHi(i.FiQmZ,i[N(545)])?()=>{const j=N;_0x7219da[j(515)]?.()}:()=>{A.current?.()}},[]);const b=i[c(517)]($.useCallback,()=>{i.DHhQM(r,$d)},[]);return{widths:a,containerRef:o,onDividerPointerDown:_,onDividerDoubleClick:b,isDragging:m,isDesktop:h}}function Yd({side:c,onPointerDown:i,onDoubleClick:a,isDragging:r}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>i(c,o),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(c,i){const a=Xt,r=c();for(;;)try{if(-parseInt(a(237))/1*(-parseInt(a(169))/2)+-parseInt(a(210))/3+parseInt(a(214))/4+parseInt(a(251))/5*(parseInt(a(288))/6)+-parseInt(a(176))/7*(parseInt(a(147))/8)+-parseInt(a(219))/9+parseInt(a(239))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(H0,528586);const eb=(function(){let c=!0;return function(i,a){const r=c?function(){const o=Xt;if(a){const f=a[o(272)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),Nx=eb(void 0,function(){const c=Xt,i={APokh:"(((.+)+)+)+$"};return Nx[c(246)]()[c(201)](i.APokh).toString()[c(268)](Nx).search(i.APokh)});Nx();function Xt(c,i){c=c-139;const a=H0();let r=a[c];if(Xt.MbxBcY===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Xt.zEgyxO=o,Xt.AkVPUf={},Xt.MbxBcY=!0}const f=a[0],m=c+f,y=Xt.AkVPUf[m];if(y)r=y;else{const h=function(d){this.fxThni=d,this.HQaLJq=[1,0,0],this.FfQHAS=function(){return"newState"},this.uCnYeB="\\w+ *\\(\\) *{\\w+ *",this.CPncnT=`['|"].+['|"];? *}`};h.prototype.CCavlU=function(){const d=new RegExp(this.uCnYeB+this.CPncnT),p=d.test(this.FfQHAS.toString())?--this.HQaLJq[1]:--this.HQaLJq[0];return this.SbDmZO(p)},h.prototype.SbDmZO=function(d){return~d?this.sffiXt(this.fxThni):d},h.prototype.sffiXt=function(d){for(let p=0,_=this.HQaLJq.length;p<_;p++)this.HQaLJq.push(Math.round(Math.random())),_=this.HQaLJq.length;return d(this.HQaLJq[0])},new h(Xt).CCavlU(),r=Xt.zEgyxO(r),Xt.AkVPUf[m]=r}return r}function H0(){const c=["C2vHCMnO","wuT5y0m","weret3i","uLfzrwu","C3rLBMnPBhm","v1fxzvy","zMXVD2vY","AvbKzLi","BxbrBvK","mJiWnteYm3n3yxbgsq","yNPqtxK","DKDLrwG","EgHTtge","mZaWnJe1nNzNz1ztrW","u01tEg4","Bgf5","Cgv0ywXZ","sefyrM4","mJmYndm0D2TYuLLv","z3jVDxbjza","tuv6tvy","C2LKzq","Dw5ZAgLMDa","Bwf0y2G","zwncuu4","EgzysKK","ywTzsLa","svDdueC","Bgf5zxjZ","r2jisMe","Aw5KzxG","AwLtwKC","weLfy1K","yMfZzurPyw1LDgvY","quXdCMG","uuL3zK8","ndrmAMz1Bgu","rxDqq2G","mtaXotG5otbjv0Xtvgm","D2fcAwG","ugDsq3K","Dwrtv2K","BLvNr1K","qMfAvKG","EwHsEuu","Dg9tDhjPBMC","BgvHzKLKCW","q0nPzw0","DLrhDxi","u2Hbr3C","nZe4odvUA3zNr04","ywvtD2e","swnSuui","v0rmDvy","BgvHzKDYB3vW","y29SB3jjza","u3b5CwK","wMfNyvK","u0rxvw4","AvHOqvq","zM9YrwfJAa","y29Z","BwfW","uNLnzxK","Cgv0ywXdB3vUDa","BMfTzq","BgvHDMvZ","y29UC3rYDwn0B3i","BgvUz3rO","Aw5JBhvKzxm","CMfKAxvZ","yxbWBhK","weLxAgC","z3jVDxbZ","rgHqywq","C2fMELu","DKX1ENK","C2T2Cei","B0jvwuC","z3jW","zMXVD2vYswrZ","EuHfuxu","wujSrfC","Dujit00","BgvHzKLK","y0rQr1u","EuTHD0u","nJzrEuDLvei","v0LtEKu","D2Hov2u","DMPpCuu","BhnuuKq","u2vcEKi","Ag5PD1i","BMDYwKC","vgfjsMS","B0r3CNi","AgvPz2H0","vuHPtLa","C3rLBMnPBa","sMvhyxG","mtuZnZzcvMnoCfy","zNbXtMe","zMLSDgvY","C3rS","rxHitwO","CgXHy2vTzw50tw9Kzq","Bgf5zxi","C2nHBgu","D2rrr1K","zMfICMLJu3f1yxjLu2L6zq","tLrbrfu","zgHzt0y","t29tsNK","EvHPy2O","Eenkq2u","ChjVAMvJDa","C29YDa","C2XPy2u","ALjiBhe","CgfSzxr0zq","r1rbANy","t3v0zxiR","mtaWndjSuvfoBfa","tML3wwK","vNruv3e","CMv2zxjZzq","zMXVD2vYswq","zgLHBwv0zxi","uMzAB0i","mZeZnLLov3v0Ea","twTXzNO","r1fSENq","zMXVD2vYrgLHBwv0zxi","wgn2teu","BgvHzKDYB3vWCW","CM91BMq","zMLUza","Bgf5zxjjza","wNDVyKe","rML5rhm","rKvoqNa","B2zMC2v0qw5NBgu","z3jVDxa","y2Pvwg0","zMXVD2vYCW","B3jKzxi","zvPTsMK","r1PUve4","A2LUza","t1fyteO","BLDozxy","Cgv0ywW","ChvZAa","BgvHzG"];return H0=function(){return c},H0()}function tb({project:c,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:o,setExpandedGroups:f,zoom:m,pan:y,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:p,ungroupLeaves:_}){const A=Xt,b={GKsMQ:function(C,g,z){return C(g,z)},ShAGw:function(C,g){return C(g)},PgRCy:A(162),WISzE:function(C,g){return C*g},ezCZw:function(C,g){return C!==g},CMBVN:A(218),RQYEe:function(C,g){return C/g},nWNev:function(C,g){return C-g},TaIJk:function(C,g){return C*g},FENBp:function(C,g){return C-g},ngrZG:function(C,g){return C*g},WIgXn:function(C,g,z){return C(g,z)},aeSwa:function(C,g){return C(g)},CCiem:function(C,g){return C===g},dhYOF:function(C,g,z,v,M){return C(g,z,v,M)},DhPad:"uniform",faTHV:function(C,g){return C>=g},hniwR:function(C,g){return C>g},skvpB:function(C,g){return C===g},hKXlV:A(260),IclQB:"Eolgb",safzU:function(C,g,z,v){return C(g,z,v)},aqkmS:A(216),vdlGF:function(C,g){return C(g)},yKawE:function(C,g){return C<=g},NSKKG:function(C,g,z){return C(g,z)},sYTpS:A(153),EwPCh:"flower",SDWUn:"petal",vTGur:function(C,g){return C===g},yglhA:"ROGCt",Mkqfz:"isjbq",NTADU:function(C,g){return C(g)},oBUYG:A(217),PxoaZ:function(C,g){return C!==g},GTAjv:function(C,g){return C===g},fSSGh:A(200),AkHIS:function(C,g){return C(g)},XIWhg:function(C,g){return C===g},IttDp:function(C,g,z){return C(g,z)},WQWeV:function(C,g){return C===g},nvEvv:function(C,g,z){return C(g,z)},rfgZC:function(C,g){return C(g)},akYJP:function(C,g){return C(g)},PJwPt:function(C,g){return C>g},vODVR:function(C,g){return C+g},BaZVH:function(C,g,z){return C(g,z)},RfZoB:A(280),lsTRD:function(C,g,z){return C(g,z)},xhmLa:function(C,g){return C(g)},ExHMj:function(C,g){return C(g)},MEzMV:function(C,g){return C(g)},IRDmE:A(189),wvleN:function(C,g){return C!==g},NiwYi:A(165),ZagaY:function(C,g,z){return C(g,z)},yXicj:function(C,g){return C/g},SeBzB:function(C,g){return C+g},IWCPG:"back",waBih:A(222),pJhQH:function(C,g){return C/g},QIwfO:function(C,g){return C(g)},vGeEh:A(145),ALCrh:function(C,g){return C!==g},vjOqE:A(142),dadwB:function(C,g){return C===g},GZnTN:A(159),GbHJa:function(C,g){return C(g)},WDLuV:function(C,g){return C===g},Cghml:function(C,g){return C(g)},xyRru:"GvwUO",ecBQN:function(C,g){return C(g)},vLuzy:function(C,g){return C(g)},RyMey:A(191),lhZek:function(C,g){return C(g)},VtTWq:A(226),xEYFj:function(C,g){return C-g},igXQy:function(C,g,z,v){return C(g,z,v)},FiyDs:function(C,g){return C(g)},rYGYP:function(C,g){return C(g)},qIIph:function(C,g){return C(g)},rLueW:function(C,g){return C===g},udSWi:function(C,g){return C===g},KIywF:function(C,g){return C(g)}},N=C=>{const g=A,z=[...C[g(229)]].sort((I,D)=>I.order-D.order),v=z[0];if(!v)return 28;const M=C[g(156)]??c.fabricSquareSize,{length:E}=Ht(M),U=b[g(289)](E,v[g(154)]??1);let H;if(C.placementMode==="")if(b.ezCZw(g(218),b.CMBVN)){const I=_0x336618.flowerIds;b.GKsMQ(_0x35ac87,D=>{const q=g;if(D.flowers=D.flowers[q(149)](Y=>!I.includes(Y.id)),D.groups){for(const Y of D.groups)Y.flowerIds=Y[q(281)].filter(K=>!I.includes(K));D.groups=D.groups[q(149)](Y=>Y[q(281)][q(269)]>0)}},!0),b.ShAGw(_0x3b29cf,{kind:b[g(241)]});return}else H=U/3;else{const D=b.RQYEe(70*Math.PI,180),q=z[g(269)]+1,Y=b.nWNev(q,1),K=q>1?b[g(141)](b[g(204)](Y,b[g(187)](q,1)),D):0;H=b[g(140)](U,b.RQYEe(30,100))*Math[g(262)](K)}return Math[g(182)](((v.radius??28)+H)*10)/10},j=C=>{b.WIgXn(i,g=>{const z=Xt;if(g[z(191)]=(g.flowers||[]).filter(v=>v.id!==C),g.groups){for(const v of g.groups)v.flowerIds=v.flowerIds[z(149)](M=>M!==C);g.groups=g[z(274)][z(149)](v=>v.flowerIds.length>0)}},!0),b.aeSwa(r,{kind:b.PgRCy}),b.ShAGw(o,g=>{const z={...g||{}};return delete z[C],z})},w=(C,g)=>{const z=A,v=c[z(191)].find(M=>M.id===C);if(v&&(v.layers||[])[z(269)]<=1){b[z(252)](j,C);return}i(M=>{const E=z,U=(M.flowers||[])[E(183)](H=>H.id===C);U&&(U.layers=(U.layers||[]).filter(H=>H.id!==g),U.layers.slice()[E(163)]((H,I)=>H[E(192)]-I.order)[E(261)]((H,I)=>H.order=I+1))},!0),b[z(252)](r,{kind:"flower",flowerId:C})},T=C=>{const g=A,z=c[g(191)][g(183)](Y=>Y.id===C);if(!z)return;const v=[...z.layers][g(163)]((Y,K)=>Y.order-K[g(192)]),M=v[0],E=je(M?.[g(265)]??6,5,24),U=v[g(263)](Y=>Y[g(154)]??1),H=U.length<2||U.every(Y=>Math.abs(Y-U[0])<.001);let I=M?.[g(154)]??1;if(!H&&b.faTHV(v.length,2)){const Y=v[b[g(197)](v.length,1)],K=(Y[g(192)]??1)-(M[g(192)]??1);if(b[g(139)](K,0))if(b[g(278)](b.hKXlV,b[g(253)])){if(_0x579286[g(173)]===_0x47aa60)return;_0x360744({kind:g(191),flowerIds:[_0x1a8481.flowerId,_0x3fe2b1]})}else{const ae=b.nWNev(M.scale??1,Y.scale??1)/K;I=b[g(276)](je,(M[g(154)]??1)+ae,.3,3)}}const D=N(z),q={id:It(b.aqkmS),name:g(168),order:1,petalType:M?.petalType??"",petalCount:E,radius:D,scale:I,widthScale:ri(E),offsetAngle:M?.offsetAngle??0,colorId:M?.[g(256)]??c[g(166)]?.[0]?.id??"col_green",visible:!0,locked:!1};M&&(q[g(188)]=Qn(M[g(265)],M.offsetAngle??0,E)),i(Y=>{const K=g,ae=Y[K(191)][K(183)](fe=>fe.id===C);if(!ae)return;ae[K(229)][K(261)](fe=>fe.order+=1),ae[K(229)][K(223)](q);const xe=Math.round(tr(q[K(271)],q.scale,ae[K(156)]??Y.fabricSquareSize)),de=ae.fabricSquareSize??Y[K(156)],oe=b[K(248)](ae.placementMode,"")?b[K(158)](lr,de,ae.layers[K(269)],b[K(275)],0):Kl(ae.baseDiameter??Y[K(234)],de,{layerCount:ae.layers[K(269)]})[K(174)];ae[K(179)]=Math.max(ae[K(179)]||oe,xe);const be=[...ae.layers].sort((fe,qe)=>fe.order-qe[K(192)]),Se=be[K(172)]();for(let fe=1;fe<Se.length;fe++){const qe=Se[fe-1],Je=Se[fe];Je[K(188)]=Qn(qe[K(265)],qe[K(188)],Je.petalCount)}},!0),r({kind:"layer",flowerId:C,layerId:q.id}),b.vdlGF(o,Y=>({...Y,[C]:!0}))},k=C=>{const g=A,z={whNWe:"project",SMSxn:function(v,M){return v!==M},iPdfR:function(v,M,E){return v(M,E)},xCJCe:function(v,M,E,U){return v(M,E,U)}};if(g(233)!=="XIEcY"){if(_0x4d5db7.flowers=_0x6f754f[g(191)].filter(v=>v.id!==_0x31558c[g(173)]),_0x2a4933.groups){for(const v of _0x2d5b5b[g(274)])v.flowerIds=v.flowerIds.filter(M=>M!==_0xb2c2c7[g(173)]);_0x34488e[g(274)]=_0x362cb6.groups[g(149)](v=>v.flowerIds[g(269)]>0)}}else{const v=c.flowers.find(U=>U.id===C);if(!v||!v[g(229)]||v[g(229)][g(269)]===0)return;if(b[g(287)](v.layers[g(269)],1)){j(C);return}const M=[...v[g(229)]].sort((U,H)=>U[g(192)]-H[g(192)]),E=M[0];if(!E)return;b.NSKKG(i,U=>{const H=g,I={cjUXm:z[H(290)]};if(z[H(215)](H(178),H(178))){_0x451343(D=>{D.stencils=(D.stencils??[]).filter(q=>q.id!==_0x3bdd39.stencilId)},!0),_0x520075({kind:I[H(190)]});return}else{const D=U.flowers.find(K=>K.id===C);if(!D)return;D[H(229)]=D.layers[H(149)](K=>K.id!==E.id),D.layers.slice().sort((K,ae)=>K.order-ae[H(192)])[H(261)]((K,ae)=>K.order=ae+1);const q=[...D[H(229)]][H(163)]((K,ae)=>K[H(192)]-ae.order),Y=D.fabricSquareSize??U.fabricSquareSize;if(q.length>0){z[H(208)](fx,q,Y);for(const xe of q){const de=D[H(229)].find(oe=>oe.id===xe.id);de&&(de.radius=xe.radius)}const K=q[0];D[H(179)]=Math.round(tr(K[H(271)],K[H(154)]??1,Y));const ae=[...q].reverse();for(let xe=1;xe<ae.length;xe++){const de=ae[xe-1],oe=ae[xe];oe.offsetAngle=z[H(161)](Qn,de.petalCount,de.offsetAngle,oe[H(265)])}}}},!0),b.skvpB(a[g(195)],b.sYTpS)&&a[g(184)]===E.id?r({kind:b.EwPCh,flowerId:C}):b[g(278)](a.kind,b.SDWUn)&&b[g(248)](a[g(184)],E.id)&&b[g(250)](r,{kind:b.EwPCh,flowerId:C})}},G=()=>{const C=A,g={DrtxU:function(z,v){return z===v},cDjGU:function(z,v){return b.NTADU(z,v)},fBLAS:C(207),JeGax:function(z,v){return b.skvpB(z,v)},bzPMy:b.oBUYG,XcvLE:function(z,v){return b.PxoaZ(z,v)},OQXLJ:function(z,v){return z>v},fpqNa:b.DhPad,tgBIk:function(z,v,M,E){return b.safzU(z,v,M,E)}};if(!b.CCiem(a[C(195)],C(162))){if(b[C(167)](a.kind,b.fSSGh)){b.AkHIS(p,a[C(285)]);return}if(b.GTAjv(a.kind,C(255))){b.ShAGw(_,a.leafGroupId);return}if(b[C(273)](a[C(195)],C(267))){const z=a[C(247)];b.IttDp(i,v=>{const M=C;if(v[M(267)]=(v[M(267)]??[]).filter(E=>!z[M(270)](E.id)),v[M(181)]){for(const E of v[M(181)])E[M(247)]=E.leafIds.filter(U=>!z[M(270)](U));v.leafGroups=v.leafGroups[M(149)](E=>E[M(247)][M(269)]>0)}},!0),r({kind:C(162)});return}if(b.WQWeV(a[C(195)],"flowers")){const z=a.flowerIds;b.nvEvv(i,v=>{const M=C;if(v[M(191)]=v.flowers[M(149)](E=>!z.includes(E.id)),v[M(274)]){for(const E of v.groups)E[M(281)]=E.flowerIds[M(149)](U=>!z.includes(U));v[M(274)]=v.groups.filter(E=>E.flowerIds[M(269)]>0)}},!0),b.AkHIS(r,{kind:b[C(241)]});return}if(a[C(195)]==="group"){i(z=>{const v=C;if(g[v(180)](v(144),v(144))){const M=_0x141049.filter(E=>E[v(184)]+":"+E[v(231)]!==_0x4ba8ac);g.DrtxU(M.length,0)?g[v(286)](_0x3e5c97,{kind:g.fBLAS,flowerId:_0x3a1d9c}):g[v(146)](M.length,1)?g.cDjGU(_0x36c15b,{kind:v(198),flowerId:_0x4edc41,layerId:M[0][v(184)],index:M[0].index}):_0x11ee14({kind:g[v(211)],flowerId:_0x904236,petals:M})}else{if(!z.groups)return;z[v(274)]=z[v(274)].filter(M=>M.id!==a[v(220)])}},!0),b.rfgZC(r,{kind:"project"});return}if(b[C(206)](a[C(195)],"stencil")){i(z=>{const v=C;if(b.vTGur(b.yglhA,b[v(177)])){XqqbEF.cDjGU(_0x564a67,_0x308fd5);return}else z[v(205)]=(z[v(205)]??[])[v(149)](M=>M.id!==a.stencilId)},!0),b[C(250)](r,{kind:"project"});return}if(a.kind===C(217)){r({kind:C(207),flowerId:a.flowerId});return}if(a.kind===C(207)){i(z=>{const v=C;if(z[v(191)]=z.flowers[v(149)](M=>M.id!==a[v(173)]),z[v(274)]){for(const M of z.groups)M.flowerIds=M.flowerIds.filter(E=>E!==a[v(173)]);z.groups=z.groups[v(149)](M=>M[v(281)][v(269)]>0)}},!0),r({kind:b.PgRCy});return}if(b[C(273)](a.kind,"layer")||a.kind===b[C(259)]){const z=c.flowers.find(M=>M.id===a[C(173)]),v=z?[...z[C(229)]][C(163)]((M,E)=>M.order-E[C(192)])[0]?.id===a[C(184)]:!1;b.GKsMQ(i,M=>{const E=C,U=M[E(191)].find(H=>H.id===a.flowerId);if(U&&(U.layers=U.layers[E(149)](H=>H.id!==a.layerId),U.layers.slice()[E(163)]((H,I)=>H.order-I[E(192)]).forEach((H,I)=>H[E(192)]=I+1),g[E(196)](U[E(229)].length,0))){const H=[...U.layers][E(163)]((q,Y)=>q.order-Y.order),I=U.fabricSquareSize??M[E(156)];fx(H,I);for(const q of H){const Y=U[E(229)][E(183)](K=>K.id===q.id);Y&&(Y.radius=q.radius)}if(v){const q=H[0];U[E(179)]=Math.round(tr(q.radius,q.scale??1,I))}else{const q=U[E(152)]===""?lr(I,U[E(229)].length,g[E(148)],0):Kl(U[E(234)]??M.baseDiameter,I,{layerCount:U.layers[E(269)]}).diameter;g.tgBIk(X0,H,I,U.flowerDiameter||q);for(const Y of H){const K=U[E(229)][E(183)](ae=>ae.id===Y.id);K&&(K[E(271)]=Y.radius,K.scale=Y.scale)}}const D=[...H][E(172)]();for(let q=1;q<D.length;q++){const Y=D[q-1],K=D[q];K.offsetAngle=Qn(Y.petalCount,Y.offsetAngle,K[E(265)])}}},!0),b.akYJP(r,{kind:b[C(238)],flowerId:a[C(173)]})}}},B=b.lsTRD($.useCallback,C=>{const g=A,z={wnYth:function(M,E){return M-E},nUgGY:function(M,E,U){return b[Xt(244)](M,E,U)}},v=b.aeSwa(It,b[g(175)]);b[g(292)](i,M=>{const E=g;M[E(274)]||(M[E(274)]=[]);const U=M.groups[E(263)](I=>{const D=E;{const q=I[D(266)][D(224)](/^ (\d+)$/);return q?z[D(243)](parseInt,q[1],10):0}}),H=b.PJwPt(U[E(269)],0)?b.vODVR(Math.max(...U),1):1;M[E(274)].push({id:v,name:" "+H,flowerIds:[...C]})},!0),b[g(213)](r,{kind:g(189),groupId:v}),b[g(151)](f,M=>({...M,[v]:!0}))},[i,r,f]),O=$.useCallback(C=>{const g=A;i(z=>{const v=Xt;z.groups&&(z.groups=z.groups[v(149)](M=>M.id!==C))},!0),b[g(252)](r,{kind:"project"})},[i,r]),W=b.BaZVH($.useCallback,(C,g)=>{const z=A;b.GKsMQ(i,v=>{const M=Xt,E=(v.groups??[])[M(183)](U=>U.id===C);if(E)for(const U of g)if(M(245)==="yhRyE")E[M(281)].includes(U)||E[M(281)].push(U);else{const H=_0x1951ef[M(191)][M(183)](I=>I.id===_0x2e72d6);if(H&&JLxEJk[M(193)]((H[M(229)]||[])[M(269)],1)){_0x459cb1(_0x2306d1);return}JLxEJk[M(282)](_0x317bcc,I=>{const D=M,q=(I.flowers||[]).find(Y=>Y.id===_0x51daf4);q&&(q[D(229)]=(q.layers||[]).filter(Y=>Y.id!==_0x334aa9),q.layers[D(164)]()[D(163)]((Y,K)=>Y[D(192)]-K[D(192)])[D(261)]((Y,K)=>Y.order=K+1))},!0),JLxEJk.bKTkV(_0xda112,{kind:M(207),flowerId:_0x5d3695})}},!0),b[z(221)](r,{kind:b.IRDmE,groupId:C})},[i,r]),R=$.useCallback((C,g)=>{const z=A,v=C[0],M=C[z(164)](1);b[z(258)](i,E=>{const U=z,H={YKycC:function(D,q){return D===q},mpQmY:"project",ESNJZ:"flower",Spyqi:"flowers"};if(!E[U(274)])return;const I=E[U(274)][U(183)](D=>D.id===v);if(I){for(const D of M)if(b.wvleN(b[U(170)],"jRHlq")){const q=_0x25ce69[U(149)](Y=>Y!==_0xc398bc);H[U(202)](q[U(269)],0)?_0x18c1b4({kind:H[U(209)]}):q.length===1?_0x1c5f64({kind:H.ESNJZ,flowerId:q[0]}):_0x876513({kind:H[U(257)],flowerIds:q})}else{const q=E[U(274)].find(Y=>Y.id===D);if(!q)continue;for(const Y of q[U(281)])I.flowerIds[U(270)](Y)||I.flowerIds[U(199)](Y)}for(const D of g)I.flowerIds[U(270)](D)||I[U(281)].push(D);E.groups=E.groups.filter(D=>!M.includes(D.id))}},!0),b.MEzMV(r,{kind:z(189),groupId:v}),f(E=>({...E,[v]:!0}))},[i,r,f]),J=(C,g)=>{const z=A,v=h.w/h.h,M=520/m,E=M*v,U=-y.x/m,H=b[z(160)](-y.y,m),I=U+E/2,D=b[z(293)](H,M/2),q=g===b.IWCPG?b[z(228)]:b[z(240)],Y=Jd[C][q][z(143)]*an,K=je(I,0,d),ae=je(D-b.pJhQH(Y,2),0,d),xe={id:It(z(150)),variant:C,pose:g,position:{x:K,y:ae}};i(de=>{const oe=z;de.stencils||(de.stencils=[]),de[oe(205)].push(xe)},!0),b[z(236)](r,{kind:b[z(212)],stencilId:xe.id})},P=C=>{const g=A;if(b.dadwB(b[g(194)],b.GZnTN))i(z=>{const v=g;if(b[v(235)](b[v(291)],"jeuea"))z[v(205)]=(z.stencils??[])[v(149)](M=>M.id!==C);else{const M=_0x169268[v(191)][v(183)](H=>H.id===_0x5bce7a);if(!M)return;M[v(229)]=M[v(229)].filter(H=>H.id!==_0x3fcecc.id),M[v(229)].slice()[v(163)]((H,I)=>H[v(192)]-I[v(192)])[v(261)]((H,I)=>H[v(192)]=I+1);const E=[...M.layers].sort((H,I)=>H[v(192)]-I[v(192)]),U=M.fabricSquareSize??_0x526202[v(156)];if(E.length>0){HwfsNI[v(284)](_0x1b2b3a,E,U);for(const D of E){const q=M[v(229)].find(Y=>Y.id===D.id);q&&(q[v(271)]=D.radius)}const H=E[0];M[v(179)]=_0x5262cc[v(182)](_0x4350de(H[v(271)],H.scale??1,U));const I=[...E].reverse();for(let D=1;HwfsNI[v(232)](D,I[v(269)]);D++){const q=I[D-1],Y=I[D];Y.offsetAngle=_0x13df09(q.petalCount,q.offsetAngle,Y[v(265)])}}}},!0),b.CCiem(a.kind,"stencil")&&a.stencilId===C&&b[g(157)](r,{kind:b[g(241)]});else{const z=_0x449f65[_0x250d3a-1],v=_0x2f8df7[_0x3bd283];v[g(188)]=_0x49f971(z[g(265)],z.offsetAngle,v.petalCount)}},Q=$.useCallback(C=>{const g=A;if(b[g(254)](a.kind,"flowers")){const z=a.flowerIds;if(z[g(270)](C)){const v=z.filter(M=>M!==C);v[g(269)]===0?b.ExHMj(r,{kind:g(162)}):b.WQWeV(v[g(269)],1)?b.Cghml(r,{kind:g(207),flowerId:v[0]}):b.wvleN(b.xyRru,b.xyRru)?_0x224af6({kind:b.PgRCy}):b[g(225)](r,{kind:g(191),flowerIds:v})}else b[g(277)](r,{kind:b[g(264)],flowerIds:[...z,C]})}else if(a.kind===g(207)){if(a.flowerId===C)return;b.lhZek(r,{kind:"flowers",flowerIds:[a[g(173)],C]})}else if(b[g(171)]==="xfXJI")b.vdlGF(r,{kind:b[g(264)],flowerIds:[C]});else{b[g(230)](_0x32bb50,_0x56bd1d);return}},[a,r]);return{deleteFlowerById:j,deleteLayerById:w,computeNewOuterRadius:N,addOuterLayer:T,deleteOuterLayer:k,deleteSelected:G,groupSelectedFlowers:B,ungroupFlowers:O,addToGroup:W,mergeGroups:R,addStencil:J,deleteStencil:P,handleShiftFlowerSelect:Q,togglePetalSelection:(C,g,z,v)=>{const M=A;if(!v){b[M(186)](r,{kind:b.SDWUn,flowerId:C,layerId:g,index:z});return}const E=g+":"+z;if(a.kind===b[M(279)]&&a[M(173)]===C)if(b[M(249)](M(155),M(203))){const U=_0x210d0f[GHYeco.skwRp(_0x2b6301,1)],H=_0x3d19ea[_0x120012];H.offsetAngle=GHYeco.GwBcz(_0x461ac9,U[M(265)],U.offsetAngle,H[M(265)])}else{const U=a[M(217)]||[];if(U.some(I=>I[M(184)]+":"+I[M(231)]===E)){const I=U.filter(D=>D.layerId+":"+D.index!==E);I.length===0?r({kind:b.EwPCh,flowerId:C}):I.length===1?b.rYGYP(r,{kind:"petal",flowerId:C,layerId:I[0][M(184)],index:I[0][M(231)]}):b.qIIph(r,{kind:b.oBUYG,flowerId:C,petals:I})}else b.ALCrh(M(283),M(283))?GHYeco.UwoAq(_0x3c0f23,{kind:"flowers",flowerIds:[..._0x2e18a9,_0xdd857e]}):r({kind:b.oBUYG,flowerId:C,petals:[...U,{layerId:g,index:z}]})}else if(a.kind===b[M(259)]&&b.rLueW(a[M(173)],C)){const U={layerId:a[M(184)],index:a.index},H={layerId:g,index:z};if(b[M(242)](U[M(184)]+":"+U[M(231)],E))return;b[M(227)](r,{kind:"petals",flowerId:C,petals:[U,H]})}else b.KIywF(r,{kind:b.oBUYG,flowerId:C,petals:[{layerId:g,index:z}]})}}}(function(c,i){const a=Bt,r=c();for(;;)try{if(-parseInt(a(125))/1+parseInt(a(126))/2+-parseInt(a(111))/3*(-parseInt(a(112))/4)+parseInt(a(114))/5+-parseInt(a(149))/6+-parseInt(a(106))/7*(-parseInt(a(156))/8)+-parseInt(a(157))/9*(parseInt(a(119))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Y0,107651);function Y0(){const c=["zMLSDgvY","vMXNDuy","u2XhqwO","zxfuEM0","uxLuDLy","D2rXC3y","nJeXofHcD0Pjyq","y29UC3rYDwn0B3i","BgvHzG","BgvHDMvZ","CuPbwxu","mJa2mtn3zMTfD2C","ndrlugHeCwW","BeHsz2O","ota2otK1B3bzzMPy","y29Sx2DYzwvU","DwzZzxO","DgzuyK4","y29Sx2rHCMTNCMvLBG","mtK3ntu2meXLAMzoqG","AhzfseC","DeDVCei","t2T3sLi","sgviEKK","ChvZAa","mtGYnZqXweXmwMLb","mZy5nde2r0vJyu9l","wuPXu0e","5yMJ44gK44g+44g/","zNbosfy","BgvHzKDYB3vWCW","AKvkBMm","q3j2wwm","C2vHCMnO","C29Tzq","yxbWBhK","svjqD1q","BejvzwO","sxfKq1K","ELLMtK8","thLSALG","D3DOreW","CgfSzxr0zq","ENLQqKq","Cwrovu8","zxv1C3a","r0zorgG","C3jpwgq","B2vQt2e","nZaZmdy4uKzqtwfq","zNfkzxK","C3nXtvq","BgvHzKLKCW","rgvzq04","C2vqA2G","zhvvv2G","mtq5nNzuAMH5za","ovjJy2HZtG","Cg9ZAxrPB24","zMLUza","BgvHzKLK","D0T6t0y","wu5RENa","A2LUza","uhjjwhO","BgvUz3rO","t09zu2y"];return Y0=function(){return c},Y0()}function Bt(c,i){c=c-104;const a=Y0();let r=a[c];if(Bt.nGXbOf===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Bt.rmKPxJ=o,Bt.bToAGI={},Bt.nGXbOf=!0}const f=a[0],m=c+f,y=Bt.bToAGI[m];if(y)r=y;else{const h=function(d){this.EkHqyq=d,this.SqPRmH=[1,0,0],this.NgDOhK=function(){return"newState"},this.PzGNYN="\\w+ *\\(\\) *{\\w+ *",this.leFVIG=`['|"].+['|"];? *}`};h.prototype.mrERAx=function(){const d=new RegExp(this.PzGNYN+this.leFVIG),p=d.test(this.NgDOhK.toString())?--this.SqPRmH[1]:--this.SqPRmH[0];return this.QvULlm(p)},h.prototype.QvULlm=function(d){return~d?this.nDtnUX(this.EkHqyq):d},h.prototype.nDtnUX=function(d){for(let p=0,_=this.SqPRmH.length;p<_;p++)this.SqPRmH.push(Math.round(Math.random())),_=this.SqPRmH.length;return d(this.SqPRmH[0])},new h(Bt).mrERAx(),r=Bt.rmKPxJ(r),Bt.bToAGI[m]=r}return r}const nb=(function(){const c=Bt,i={ssqMT:function(r,o,f){return r(o,f)},oejOa:function(r,o){return r!==o},xaweT:"FyaEa",lHRgj:c(144),VlguF:function(r,o){return r!==o},mPDoA:"YgFWp"};let a=!0;return function(r,o){const f=c;if(i.mPDoA!=="AWMtO"){const m=a?function(){const y=Bt,h={liaIA:function(d,p,_){return i[Bt(151)](d,p,_)},PrIXz:function(d,p){return d(p)}};if(i[y(148)](i.xaweT,i[y(113)])){if(o)if(i[y(168)](y(170),y(153))){const d=o[y(135)](r,arguments);return o=null,d}else h.liaIA(_0x5ce09e,d=>{const p=y;if(d.leafGroups){for(const _ of d.leafGroups)_[p(152)]=_.leafIds[p(167)](A=>A!==_0x35acf5);d.leafGroups=d[p(130)].filter(_=>_[p(152)][p(165)]>0)}},!0)}else h[y(164)](_0x31c09a,{kind:y(108),leafId:_0x2b9dc7[0]})}:function(){};return a=!1,m}else if(_0x59a30f.leaves=(_0x519c67[f(109)]??[]).filter(m=>m.id!==_0x30e271),_0x41f192.leafGroups){for(const m of _0x182bae.leafGroups)m.leafIds=m[f(152)].filter(y=>y!==_0x54a474);_0x16ec8b[f(130)]=_0x5a8fe7[f(130)][f(167)](m=>m[f(152)].length>0)}}})(),Ax=nb(void 0,function(){const c=Bt,i={YJqSA:"(((.+)+)+)+$"};return Ax.toString()[c(133)](i[c(127)]).toString().constructor(Ax)[c(133)](i[c(127)])});Ax();function lb({project:c,applyUpdate:i,selection:a,setSelection:r,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:y}){const h=Bt,d={duUWh:function(T,k){return T/k},LyljX:function(T,k){return T/k},Aveze:function(T,k){return T*k},BDJiW:function(T,k){return T/k},mkNjH:function(T,k){return T<k},euusp:function(T,k,G,B){return T(k,G,B)},HeHzI:function(T,k){return T+k},jEJnc:h(128),QVlIw:function(T,k,G){return T(k,G)},IqdCY:"leaf",zyjBD:function(T,k){return T(k)},srOXd:function(T,k){return T===k},HosvI:h(150),lBUej:function(T,k){return T!==k},slyWG:"wKzOF",wdqsv:function(T,k,G){return T(k,G)},GFNDh:"project",CrvYc:function(T,k){return T(k)},sePkh:h(162),QyTvV:"leaves",zYfNO:function(T,k){return T===k},LqJBR:"leafGroup",uNUnE:h(116),XPGVW:function(T,k,G){return T(k,G)},fpNHV:function(T,k,G,B){return T(k,G,B)},MCTTX:function(T,k){return T(k)},XJMsb:function(T,k,G){return T(k,G)},IRPwT:function(T,k,G){return T(k,G)}},p=()=>{const T=h,k=d[T(155)](m.w,m.h),G=d[T(140)](520,o),B=d.Aveze(G,k),O=d[T(155)](-f.x,o),W=-f.y/o;let R=O+d.LyljX(B,2),J=W+d.BDJiW(G,2),P=0;for(;d.mkNjH(P,50)&&(c[T(109)]??[])[T(134)](X=>Math.abs(X[T(158)].x-R)<5&&Math.abs(X[T(158)].y-J)<5);)R+=25,J+=25,R=je(R,0,y),J=d[T(145)](je,J,0,y),P++;const Q={id:It("leaf"),name:"Leaf "+d.HeHzI((c[T(109)]??[]).length,1),position:{x:R,y:J},rotation:135,petalType:d[T(131)],colorId:c[T(142)]?.[T(159)](X=>X.id==="col_green"||X.id==="col_darkgreen")?.id??c[T(142)]?.[0]?.id??T(115),scale:1,widthScale:1,visible:!0,locked:!1};d.QVlIw(i,X=>{const C=T;X[C(109)]||(X[C(109)]=[]),X[C(109)][C(124)](Q)},!0),r({kind:d.IqdCY,leafId:Q.id})},_=T=>{const k=h,G={wwhDL:function(B,O){return d[Bt(143)](B,O)},qJAYu:"(((.+)+)+)+$",irJZl:function(B,O){return d[Bt(147)](B,O)},tGopB:d.HosvI};d[k(137)](k(161),d.slyWG)?G[k(141)](_0x3b1bb4,{kind:k(109),leafIds:_0x6ef0c}):(d.wdqsv(i,B=>{const O=k;if(B[O(109)]=(B[O(109)]??[]).filter(W=>W.id!==T),B.leafGroups)if(G.irJZl("fqJey",G[O(121)])){for(const W of B.leafGroups)W.leafIds=W.leafIds[O(167)](R=>R!==T);B[O(130)]=B[O(130)][O(167)](W=>W[O(152)].length>0)}else return _0x45c69b.toString()[O(133)](rcICYZ[O(110)]).toString()[O(107)](_0x5888df)[O(133)](rcICYZ.qJAYu)},!0),r({kind:d[k(146)]}))},A=d[h(136)]($.useCallback,T=>{const k=h;if(a[k(163)]==="leaves"){const G=a.leafIds;if(G.includes(T)){const B=G[k(167)](O=>O!==T);if(B[k(165)]===0)r({kind:d[k(146)]});else if(B.length===1)d.CrvYc(r,{kind:d[k(138)],leafId:B[0]});else if(d[k(154)]===k(162))d[k(132)](r,{kind:k(109),leafIds:B});else{const O=_0x2c1552.filter(W=>W!==_0x57bed7);O.length===0?_0x397a89({kind:d[k(146)]}):d.srOXd(O[k(165)],1)?_0x84d0f4({kind:d[k(138)],leafId:O[0]}):_0x17de10({kind:k(109),leafIds:O})}}else r({kind:d[k(104)],leafIds:[...G,T]})}else if(d[k(139)](a[k(163)],"leaf")){if(a[k(160)]===T)return;r({kind:d.QyTvV,leafIds:[a.leafId,T]})}else r({kind:"leaves",leafIds:[T]})},[a,r]),b=$.useCallback(T=>{const k=h,G=d[k(143)](It,"lg"),B=" "+((c.leafGroups??[])[k(165)]+1);i(O=>{const W=k;O[W(130)]||(O.leafGroups=[]),O[W(130)][W(124)]({id:G,name:B,leafIds:[...T],rotation:0})},!0),d.zyjBD(r,{kind:d.LqJBR,leafGroupId:G})},[c[h(130)],i,r]),N=$.useCallback(T=>{i(k=>{const G=Bt;if(d.uNUnE!==G(116))_0x930178[G(130)]||(_0x448bb8.leafGroups=[]),_0x1a1877.leafGroups.push({id:_0x5571d2,name:_0x1642f3,leafIds:[..._0x586e1f],rotation:0});else{if(!k[G(130)])return;k[G(130)]=k[G(130)].filter(B=>B.id!==T)}},!0),r({kind:d.GFNDh})},[i,r]),j=$.useCallback((T,k)=>{d.XPGVW(i,G=>{const B=Bt,O=(G[B(130)]??[])[B(159)](W=>W.id===k);O&&!O[B(152)].includes(T)&&O.leafIds.push(T)},!0)},[i]),w=d.XJMsb($.useCallback,T=>{const k=h;d[k(138)],k(128),d[k(105)](i,G=>{const B=k;if(G.leafGroups){for(const O of G.leafGroups)if(d.srOXd(B(117),"PfSxP")){const W=_0x177598.w/_0xe950be.h,R=520/_0x58b196,J=hQymit.jeZIc(R,W),P=hQymit[B(120)](-_0x48a271.x,_0x437cb9),Q=hQymit[B(120)](-_0x82a4e4.y,_0xa795dc);let X=P+hQymit.hvEHG(J,2),C=hQymit[B(169)](Q,R/2),g=0;for(;g<50&&(_0x134147[B(109)]??[]).some(v=>_0xe81775.abs(v.position.x-X)<5&&_0x38834f.abs(v.position.y-C)<5);)X+=25,C+=25,X=hQymit.qJDGY(_0x59a87a,X,0,_0x2c2d97),C=_0x2ac822(C,0,_0x22f79d),g++;const z={id:hQymit.nddXq(_0x196a9b,hQymit[B(122)]),name:"Leaf "+((_0x2a4f53[B(109)]??[]).length+1),position:{x:X,y:C},rotation:135,petalType:hQymit[B(166)],colorId:_0x5d6667[B(142)]?.[B(159)](v=>v.id==="col_green"||v.id===B(118))?.id??_0xdee13c[B(142)]?.[0]?.id??"col_green",scale:1,widthScale:1,visible:!0,locked:!1};hQymit.rrVKv(_0x21b746,v=>{const M=B;v.leaves||(v.leaves=[]),v.leaves[M(124)](z)},!0),_0x5a4feb({kind:hQymit.OkwJR,leafId:z.id})}else O[B(152)]=O[B(152)][B(167)](W=>W!==T);G.leafGroups=G.leafGroups.filter(O=>O[B(152)][B(165)]>0)}},!0)},[i]);return{addLeaf:p,deleteLeafById:_,handleShiftLeafSelect:A,groupSelectedLeaves:b,ungroupLeaves:N,addLeafToGroup:j,removeLeafFromGroup:w}}(function(c,i){const a=qn,r=c();for(;;)try{if(parseInt(a(465))/1*(-parseInt(a(509))/2)+-parseInt(a(453))/3+-parseInt(a(501))/4*(parseInt(a(495))/5)+-parseInt(a(452))/6*(parseInt(a(491))/7)+parseInt(a(475))/8+parseInt(a(512))/9+parseInt(a(488))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(U0,937660);const ab=(function(){let c=!0;return function(i,a){const r=c?function(){const o=qn;if(a){const f=a[o(470)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),Lx=ab(void 0,function(){const c=qn,i={xIZtP:"(((.+)+)+)+$"};return Lx.toString().search("(((.+)+)+)+$")[c(455)]().constructor(Lx).search(i[c(484)])});Lx();function U0(){const c=["mJyWoda4ntbKvwX2uvC","Cg9ZAxrPB24","tefky0i","mte0otC2odjMCu9wAuW","ChvZAa","C29Tzq","CMfKAxvZ","mteWnZmWBxblDhzx","AfLLqvu","t3v0zxiR","zMXVD2vY","zMXVD2vYCW","y2PwEuq","mtjjwvnqyLi","BwL3t0S","zMfICMLJu3f1yxjLu2L6zq","Bvbxt0y","yNPfrLK","C3bSAxq","sKjSyKu","q2vUDgvY","nJyXodu0v3j2z3v1","C3fADxC","CgfSzxr0zq","mte5nJm3nJnWvg1Oze8","t0XZrey","zMX3","r2jKA3a","ywjZ","zMXVD2vYrgLHBwv0zxi","u0fpqwe","Cfz5zLG","r0Douue","tgf5zxiG","y29Sx3DOAxrL","s0Hwt2S","C2L6zu1Vzgu","AuPHweu","wNnrtNG","BgTgz1y","rxzNve8","nKH3qKHvwG","otu2mtG3t1vLA3fi","t3LIsKW","Dg9tDhjPBMC","CgrNuK4","AvvdEhu","C2nHBgu","BfDWuwO","CgXHy2vTzw50tw9Kzq","yunZswS","tuXAug8","EfHWENi","CM91BMq","nwLHrMTlzq","ENzXzgK","yMfZzurPyw1LDgvY","t3v0zxi","zgLHBwv0zxi","yxbWBhK","mhWYFdf8nhWZ","EeTPC2C","Bgf5zxjdB3vUDa","Eu5zBvu","ntq2mdC2ofD1wejXDW","EM5Au3u","CNrKvfG","5y2k44gp44gz","B3jKzxi","uwrRsgO","CMv2zxjZzq","z3jHzhvHBa","BunxwNy","EeLADfa","C2L6zvn0zxbnBq","DuHNBg4","uu9gr08"];return U0=function(){return c},U0()}function qn(c,i){c=c-445;const a=U0();let r=a[c];if(qn.afaYob===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};qn.mpikcf=o,qn.keadAF={},qn.afaYob=!0}const f=a[0],m=c+f,y=qn.keadAF[m];if(y)r=y;else{const h=function(d){this.IqcBVy=d,this.OoIVhr=[1,0,0],this.qBNKyU=function(){return"newState"},this.ZuuZRm="\\w+ *\\(\\) *{\\w+ *",this.ZCYtTQ=`['|"].+['|"];? *}`};h.prototype.nSfKJc=function(){const d=new RegExp(this.ZuuZRm+this.ZCYtTQ),p=d.test(this.qBNKyU.toString())?--this.OoIVhr[1]:--this.OoIVhr[0];return this.ZJiKAm(p)},h.prototype.ZJiKAm=function(d){return~d?this.xCDMbO(this.IqcBVy):d},h.prototype.xCDMbO=function(d){for(let p=0,_=this.OoIVhr.length;p<_;p++)this.OoIVhr.push(Math.round(Math.random())),_=this.OoIVhr.length;return d(this.OoIVhr[0])},new h(qn).nSfKJc(),r=qn.mpikcf(r),qn.keadAF[m]=r}return r}function ib({project:c,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:y}){const h=qn,d={FQtwY:"aCsIk",zvqdi:function(w,T){return w(T)},lWpQj:function(w,T){return w(T)},AEGLK:function(w,T){return w(T)},pVyfX:function(w,T){return w/T},FUcXk:function(w,T){return w*T},yNYmU:"Middle",iblxe:h(468),ZsQNx:h(497),mPWOF:function(w,T){return w<T},MLZPo:"uniform",SAOAa:function(w,T,k,G){return w(T,k,G)},IdFZR:function(w,T){return w+T},rtdTX:function(w,T){return w===T},JBlbE:function(w,T){return w===T},iJaXE:function(w,T,k,G){return w(T,k,G)},miwOK:function(w,T){return w/T},jIlJb:function(w,T){return w-T},znZSu:function(w,T){return w*T},axtAL:h(478),QdkHj:function(w,T){return w>T},klBtq:function(w,T){return w*T},HCPuU:function(w,T){return w/T},Gbdkp:function(w,T){return w/T},YfXNj:function(w,T){return w*T},xXpzr:function(w,T){return w===T},WzDOg:function(w,T){return w===T},xKisg:h(446),cjVyD:function(w,T){return w+T},GGNQA:"lay",OLsDF:function(w,T){return w/T},bzEFY:function(w,T){return w/T},EvgTO:function(w,T){return w+T},aZdbi:h(471),MMyiU:"",sqZuw:"col_white",mCWZv:function(w,T){return w===T},tmcrw:function(w,T,k){return w(T,k)},dYXbv:h(498),XLUDG:function(w,T){return w(T)},mpidM:""},[p,_]=$.useState(!1),[A,b]=$.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:d.mpidM,sizeMode:"uniform",sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:p,setShowAddFlowerDialog:_,addFlowerOpts:A,setAddFlowerOpts:b,addFlower:()=>{const w=h,T={zaRQO:function(B,O){return B!==O},hYeAU:d.FQtwY,pdgRN:function(B,O,W,R){return B(O,W,R)},iUCxu:"aRelW",uHgln:function(B,O,W,R,J){return B(O,W,R,J)}},k=c[w(503)],G=c[w(467)];b(B=>{const O=w;if(T.zaRQO(O(461),T[O(496)]))_0x33b7cb.radius=_0x31a77f.radius,_0x3c3c1f.scale=_0x48d29e.scale;else{const W={...B,fabricSquareSize:k,baseDiameter:G};return W.placementMode===""?W[O(517)]=T[O(456)](Kl,G,k,{layerCount:W[O(473)],sizeMode:W.sizeMode,sizeStepMm:W.sizeStepMm})[O(469)]:T[O(457)]!==O(487)?W[O(517)]=T[O(486)](lr,k,W.layerCount,W.sizeMode,W[O(485)]):_0x220b92="Layer",W}}),d[w(466)](_,!0)},confirmAddFlower:()=>{const w=h,{placementMode:T,layerCount:k,petalCount:G,petalType:B,sizeMode:O,sizeStepMm:W}=A,R=A.fabricSquareSize,{length:J}=Ht(R),P=.28,Q=d[w(519)](Math.round(d.FUcXk(J,P)*10),10),X=[],C=[w(508),"Inner",d[w(474)],d.iblxe,d[w(449)]];let g=Q,z=0;for(let oe=0;d[w(504)](oe,k);oe++){const be=oe,Se=1;let fe;if(O===d[w(462)])fe=Se;else if(w(454)==="OybJL"){const Re=W/R;fe=d[w(518)](je,d.IdFZR(Se,be*Re),.3,3)}else _0x301e7=_0x4c4176;let qe;if(oe===0)d[w(477)]("AqdWJ","AqdWJ")?qe=Q:_0x29ac48=_0x3cc804/3;else{const Re=d[w(507)](O,w(482))?d[w(448)](je,1+d[w(502)](d.FUcXk(d.jIlJb(oe,1),W),R),.3,3):1,dt=d[w(476)](J,Re);let vt;if(T===d.axtAL){const Ue=70*Math.PI/180,Wt=d[w(480)](k,1)?oe/(k-1)*Ue:0,vn=Math.cos(Wt);vt=d.klBtq(dt*(30/100),vn)}else vt=d.HCPuU(dt,3);g=d.IdFZR(g,vt),qe=d[w(515)](Math[w(464)](d.YfXNj(g,10)),10)}const Je=d.xXpzr(oe,0)?0:d[w(518)](Qn,G,z,G);z=Je;let ot;if(d.WzDOg(k,1))ot="Layer";else if(k<=5){const Re=d.WzDOg(k,2)?[0,3]:k===3?[0,1,3]:d.WzDOg(k,4)?[0,1,2,3]:[0,1,2,3,4];ot=C[Re[oe]]??"Layer "+(oe+1)}else if(w(450)===d[w(472)]){const Re=_0xef9a76.fabricSquareSize,dt=_0x259870[w(467)];d[w(459)](_0x413e99,vt=>{const ct=w,Ue={...vt,fabricSquareSize:Re,baseDiameter:dt};return Ue[ct(460)]===ct(478)?Ue.flowerDiameter=_0xda8b00(dt,Re,{layerCount:Ue[ct(473)],sizeMode:Ue[ct(447)],sizeStepMm:Ue.sizeStepMm}).diameter:Ue[ct(517)]=jSohYR[ct(490)](_0x445e02,Re,Ue[ct(473)],Ue[ct(447)],Ue.sizeStepMm),Ue}),d.AEGLK(_0x52bcf1,!0)}else ot=w(521)+d[w(500)](oe,1);X[w(492)]({id:d.AEGLK(It,d[w(520)]),name:ot,order:k-oe,petalType:B,petalCount:G,radius:qe,scale:fe,widthScale:ri(G),offsetAngle:Je,colorId:A.colorId||(c[w(511)]?.[0]?.id??w(445)),visible:!0,locked:!1})}X[w(481)]();const v=[...X].sort((oe,be)=>oe[w(479)]-be.order),M=d[w(463)](T,d.axtAL)?d[w(448)](Kl,A[w(467)],R,{layerCount:k,sizeMode:O,sizeStepMm:W})[w(469)]:lr(R,k,O,W);X0(v,R,A[w(517)]||M);for(const oe of v){const be=X.find(Se=>Se.id===oe.id);be&&(be.radius=oe[w(494)],be[w(458)]=oe[w(458)])}const E=m.w/m.h,U=520/o,H=d.FUcXk(U,E),I=d[w(513)](-f.x,o),D=-f.y/o;let q=d.IdFZR(I,d[w(505)](H,2)),Y=d[w(451)](D,d.pVyfX(U,2));const K=25;let ae=0;for(;ae<50&&c[w(499)][w(493)](oe=>Math.abs(oe[w(489)].x-q)<5&&Math[w(516)](oe.position.y-Y)<5);){const oe=d.aZdbi[w(506)]("|");let be=0;for(;;){switch(oe[be++]){case"0":q+=K;continue;case"1":q=je(q,0,y);continue;case"2":Y+=K;continue;case"3":ae++;continue;case"4":Y=d[w(448)](je,Y,0,y);continue}break}}const xe=A.flowerDiameter||M,de={id:d.zvqdi(It,w(514)),name:"Flower "+d.EvgTO(c[w(499)].length,1),position:{x:q,y:Y},flowerDiameter:xe,rotation:0,layers:X,center:{type:d.MMyiU,size:6,color:d[w(510)]},fabricSquareSize:R,placementMode:T,baseDiameter:d[w(483)](T,w(478))?A.baseDiameter:er(xe)};d.tmcrw(i,oe=>{oe[w(499)].push(de)},!0),a({kind:d.dYXbv,flowerId:de.id}),r(oe=>({...oe,[de.id]:!0})),d.XLUDG(_,!1)}}}(function(c,i){const a=Gn,r=c();for(;;)try{if(parseInt(a(168))/1+-parseInt(a(218))/2*(-parseInt(a(201))/3)+-parseInt(a(198))/4+-parseInt(a(173))/5+-parseInt(a(174))/6*(parseInt(a(206))/7)+-parseInt(a(217))/8+parseInt(a(176))/9*(parseInt(a(200))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Z0,449678);const rb=(function(){const c=Gn,i={NAYDb:c(204)};let a=!0;return function(r,o){const f=c,m={nPImK:i[f(187)]},y=a?function(){const h=f;if(m.nPImK===m.nPImK){if(o){const d=o[h(196)](r,arguments);return o=null,d}}else{const d=(_0x26f27e.groups??[])[h(182)](p=>p.id===_0x565e40.groupId);if(d)return _0x28b24b[h(211)][h(215)](p=>d.flowerIds.includes(p.id))}}:function(){};return a=!1,y}})(),Ex=rb(void 0,function(){const c=Gn,i={TEIln:c(172)};return Ex[c(205)]().search(i.TEIln).toString()[c(191)](Ex).search(c(172))});Ex();function Gn(c,i){c=c-168;const a=Z0();let r=a[c];if(Gn.LwQiji===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",_="",A=p+o;for(let b=0,N,j,w=0;j=h.charAt(w++);~j&&(N=b%4?N*64+j:j,b++%4)?p+=A.charCodeAt(w+10)-10!==0?String.fromCharCode(255&N>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,N=p.length;b<N;b++)_+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(_)};Gn.gnUary=o,Gn.fZHdql={},Gn.LwQiji=!0}const f=a[0],m=c+f,y=Gn.fZHdql[m];if(y)r=y;else{const h=function(d){this.orWTAk=d,this.HKcyvo=[1,0,0],this.hqAObp=function(){return"newState"},this.tTbnBG="\\w+ *\\(\\) *{\\w+ *",this.covpKm=`['|"].+['|"];? *}`};h.prototype.RuKwnj=function(){const d=new RegExp(this.tTbnBG+this.covpKm),p=d.test(this.hqAObp.toString())?--this.HKcyvo[1]:--this.HKcyvo[0];return this.jwpUwI(p)},h.prototype.jwpUwI=function(d){return~d?this.cytDPV(this.orWTAk):d},h.prototype.cytDPV=function(d){for(let p=0,_=this.HKcyvo.length;p<_;p++)this.HKcyvo.push(Math.round(Math.random())),_=this.HKcyvo.length;return d(this.HKcyvo[0])},new h(Gn).RuKwnj(),r=Gn.gnUary(r),Gn.fZHdql[m]=r}return r}function Z0(){const c=["BxL5EwW","z3jVDxbjza","zMLUza","C3rLBMnPBeLK","wMXSv1a","zeTzugW","qLzbve8","tKfzrgi","BgvHzKLKCW","z091teO","zMXVD2vYswq","y29UC3rYDwn0B3i","rfnOvhi","C3rLBMnPBa","BgvHzG","Cgv0ywXZ","yxbWBhK","zuvmuNu","mJiXnZy0meDQv3nksq","rND1sNq","mtbjDejAC1C","otu1mtDms3fcBxO","r3P0wvC","BgvHzKDYB3vWCW","CgXruLe","Dg9tDhjPBMC","mtmZv2rAru1R","wxnID0u","Bgf5zxi","zMXVD2vYswrZ","Cgv0ywW","zMXVD2vYCW","z3jVDxbZ","BgvHzKLK","D294Evy","zMLSDgvY","vNHOq1q","nZG0ndi0uuTSzwXI","mMzxvvvtra","ndC5mJy3veDHEwvc","A2LUza","zMXVD2vY","s01Vsg4","kcGOlISPkYKRksSK","mZy1otiZmfzmuwfqtG","otq4mtHjBLrVwwm","BgvHzKDYB3vW","mtq2mdGYndjJyvH5yKS","C3rLBMnPBhm","vu5QD2i","BgvHDMvZ"];return Z0=function(){return c},Z0()}function cb(c,i){const a=Gn,r={VxhCT:function(j,w){return j===w},XVkZp:"petal",JLPIF:function(j,w){return j===w},dKYPl:function(j,w){return j===w},woxyV:"group",iYCxc:"lYBdI",xcEzm:function(j,w){return j===w},eELRu:function(j,w){return j===w},YsbwE:function(j,w){return j===w},ZllWP:"flowers",RGgKQ:function(j,w){return j===w},myyyl:"petals",FwuJt:a(170),UNjwb:function(j,w){return j===w},lJKEE:function(j,w){return j===w},DShTr:function(j,w){return j===w},cOlAn:"leaf",KMoHn:function(j,w,T){return j(w,T)},MGlXl:function(j,w,T){return j(w,T)},gOuLJ:function(j,w){return j===w},GztYW:a(208),BVATO:function(j,w){return j===w}},o=$.useMemo(()=>{const j=a;return i[j(169)]===j(170)||r[j(216)](i.kind,j(208))||i.kind===r.XVkZp||r.JLPIF(i.kind,j(195))?c.flowers.find(w=>w.id===i[j(190)])??null:null},[c.flowers,i]),f=$.useMemo(()=>{const j=a;if(r[j(185)](i[j(169)],"flowers"))return c.flowers.filter(w=>i[j(209)].includes(w.id));if(r.dKYPl(i.kind,r[j(214)])){const w=(c[j(212)]??[])[j(182)](T=>T.id===i.groupId);if(w)return c[j(211)][j(215)](T=>w[j(209)].includes(T.id))}return[]},[c.flowers,c.groups,i]),m=r[a(171)]($.useMemo,()=>{const j=a;return i.kind===j(194)?(c[j(179)]??[])[j(182)](w=>w.id===i[j(213)])??null:null},[c.leaves,i]),y=r.MGlXl($.useMemo,()=>{const j=a;return i[j(169)]==="leafGroup"?(c[j(203)]??[])[j(182)](w=>w.id===i.leafGroupId)??null:null},[c[a(203)],i]),h=$.useMemo(()=>{const j=a;if(r.iYCxc!==r.iYCxc){if(_0x220098[j(169)]==="flowers")return _0x2537e5[j(211)].filter(w=>_0x471c07[j(209)].includes(w.id));if(r.VxhCT(_0xb14ea7[j(169)],"group")){const w=(_0xa4fa7e.groups??[])[j(182)](T=>T.id===_0x4cea9d[j(181)]);if(w)return _0x2f7387.flowers.filter(T=>w.flowerIds.includes(T.id))}return[]}else return o&&(r.xcEzm(i[j(169)],"layer")||r[j(197)](i[j(169)],r.XVkZp))?o.layers[j(182)](w=>w.id===i.layerId)??null:null},[o,i]),d=i[a(169)]===r.XVkZp?i.index:null,p=i[a(169)]===r.myyyl?i.petals:[],_=r[a(189)](i.kind,a(193))?(c[a(177)]??[]).find(j=>j.id===i[a(183)])??null:null,A=r[a(197)](i[a(169)],r[a(199)])||i[a(169)]===r[a(202)]||r[a(189)](i.kind,a(210))||r[a(186)](i.kind,a(195))?i.flowerId:null,b=r.KMoHn($.useMemo,()=>{const j=a;if(i.kind==="group"){const w=(c.groups??[]).find(T=>T.id===i[j(181)]);if(w)return new Set(w.flowerIds)}if(r.YsbwE(i.kind,r[j(184)]))return new Set(i.flowerIds);if(r.RGgKQ(i[j(169)],j(170))||r[j(207)](i[j(169)],"layer")||r[j(216)](i.kind,r.XVkZp)||i.kind===r[j(180)]){const w=ma(c,i[j(190)]);if(w)return r.JLPIF(i[j(169)],r.FwuJt)?new Set(w.flowerIds.filter(T=>T!==i.flowerId)):new Set(w.flowerIds)}return new Set},[i,c]),N=$.useMemo(()=>{const j=a;if(r[j(178)](i[j(169)],j(175)))if(r.lJKEE("lflEb","gLqMG")){const w=(_0x4d2af1.leafGroups??[]).find(T=>T.id===_0x5f17b8.leafGroupId);if(w)return new _0x2aacc0(w.leafIds)}else{const w=(c[j(203)]??[])[j(182)](T=>T.id===i.leafGroupId);if(w)return new Set(w[j(188)])}if(r[j(192)](i.kind,r.cOlAn)){const w=K0(c,i.leafId);if(w)return new Set(w.leafIds.filter(T=>T!==i[j(213)]))}return new Set},[i,c]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:m,selectedLeafGroup:y,selectedLayer:h,selectedPetalIndex:d,selectedPetals:p,selectedStencil:_,selectedFlowerId:A,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:N}}function ub(c){const{project:i,selection:a,setSelection:r,applyUpdate:o}=c,f=$.useMemo(()=>new Map((i.palette||[]).map(he=>[he.id,he])),[i.palette]),{widths:m,containerRef:y,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:p,isDesktop:_}=$m(),A=$.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[b,N]=$.useState({});$.useEffect(()=>{try{const pe=localStorage.getItem(A);if(pe){const Ke=JSON.parse(pe);if(Ke&&typeof Ke=="object"){N(Ke);return}}}catch{}const he=i.flowers?.[0];he&&N({[he.id]:!0})},[A]),$.useEffect(()=>{try{localStorage.setItem(A,JSON.stringify(b))}catch{}},[A,b]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const he=a.flowerId;N(pe=>pe?.[he]?pe:{...pe,[he]:!0})}a.kind==="flowers"&&N(he=>{const pe={...he};for(const Ke of a.flowerIds)pe[Ke]=!0;return pe})},[a]);const j=he=>b?.[he]??!1,w=he=>N(pe=>({...pe,[he]:!(pe?.[he]??!1)})),T=$.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[k,G]=$.useState({});$.useEffect(()=>{try{const pe=localStorage.getItem(T);if(pe){const Ke=JSON.parse(pe);if(Ke&&typeof Ke=="object"){G(Ke);return}}}catch{}const he=i.groups??[];if(he.length>0){const pe={};for(const Ke of he)pe[Ke.id]=!0;G(pe)}},[T]),$.useEffect(()=>{try{localStorage.setItem(T,JSON.stringify(k))}catch{}},[T,k]);const B=he=>k?.[he]??!0,O=he=>G(pe=>({...pe,[he]:!(pe?.[he]??!0)})),W=$.useRef({flowerId:null,timer:null}),R=he=>{const pe=W.current.timer;pe&&window.clearTimeout(pe),W.current.flowerId=he,W.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:he}),N(Ke=>({...Ke,[he]:!0})),W.current.timer=null,W.current.flowerId=null},200)},J=he=>{const pe=W.current.timer;pe&&W.current.flowerId===he&&window.clearTimeout(pe),W.current.timer=null,W.current.flowerId=null,r({kind:"flower",flowerId:he}),w(he)},P=$.useRef(null),[Q,X]=$.useState({w:520,h:520});$.useEffect(()=>{const he=P.current;if(!he)return;const pe=new ResizeObserver(Ke=>{for(const Vt of Ke){const{width:Ct,height:rn}=Vt.contentRect;Ct>0&&rn>0&&X({w:Ct,h:rn})}});return pe.observe(he),()=>pe.disconnect()},[]);const C=he=>{const pe=P.current;if(!pe)return{x:0,y:0};const Ke=pe.createSVGPoint();Ke.x=he.clientX,Ke.y=he.clientY;const Vt=pe.getScreenCTM();if(!Vt)return{x:0,y:0};const Ct=Ke.matrixTransform(Vt.inverse());return{x:Ct.x,y:Ct.y}},g=500*an,z=-300*an,v=800*an,M=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[E,U]=$.useState(6),[H,I]=$.useState(M[6]),D=$.useCallback(he=>{U(pe=>{const Ke=typeof he=="function"?he(pe):he;return I(M[Ke]),Ke})},[M]),q=$.useCallback(he=>{const pe=je(he,M[0],M[M.length-1]);I(pe);let Ke=0,Vt=Math.abs(M[0]-pe);for(let Ct=1;Ct<M.length;Ct++){const rn=Math.abs(M[Ct]-pe);rn<Vt&&(Ke=Ct,Vt=rn)}U(Ke)},[M]),[Y,K]=$.useState({x:0,y:0}),[ae,xe]=$.useState(!0),[de,oe]=$.useState(!1),be=$.useRef(null),Se=$.useMemo(()=>{const he=Q.w/Q.h,pe=520,Ke=pe*he;return(Vt,Ct=H)=>{const rn=je(Vt.x,-(v*Ct-Ke),-z*Ct),ui=je(Vt.y,-(v*Ct-pe),-z*Ct);return{x:rn,y:ui}}},[Q,H,z,v]),fe=$.useMemo(()=>Se(Y),[Y,Se]),qe=$.useCallback(he=>K(he),[]),Je=$.useMemo(()=>{const he=Q.w/Q.h,pe=520,Ke=pe*he,Vt=-fe.x/H,Ct=-fe.y/H;return`${Vt} ${Ct} ${Ke/H} ${pe/H}`},[H,fe,Q]),{addLeaf:ot,deleteLeafById:Re,handleShiftLeafSelect:dt,groupSelectedLeaves:vt,ungroupLeaves:ct,addLeafToGroup:Ue,removeLeafFromGroup:Wt}=lb({project:i,applyUpdate:o,selection:a,setSelection:r,zoom:H,pan:fe,stageSize:Q,CANVAS_MAX_SVG:g}),{showAddFlowerDialog:vn,setShowAddFlowerDialog:Fn,addFlowerOpts:$n,setAddFlowerOpts:Ve,addFlower:gn,confirmAddFlower:pl}=ib({project:i,applyUpdate:o,setSelection:r,setExpandedFlowers:N,zoom:H,pan:fe,stageSize:Q,CANVAS_MAX_SVG:g}),{selectedFlower:Xl,selectedFlowers:kn,selectedLeaf:ga,selectedLeafGroup:Rn,selectedLayer:ci,selectedPetalIndex:Wl,selectedPetals:el,selectedStencil:qt,selectedFlowerId:Qe,groupHighlightedFlowerIds:ue,leafGroupHighlightedLeafIds:Te}=cb(i,a),{deleteFlowerById:Be,deleteLayerById:Ce,addOuterLayer:ye,deleteOuterLayer:Ne,deleteSelected:ze,groupSelectedFlowers:ge,ungroupFlowers:Pe,addToGroup:He,mergeGroups:Fe,addStencil:$e,deleteStencil:Ae,handleShiftFlowerSelect:pt,togglePetalSelection:tt}=tb({project:i,applyUpdate:o,selection:a,setSelection:r,setExpandedFlowers:N,setExpandedGroups:G,zoom:H,pan:fe,stageSize:Q,CANVAS_MAX_SVG:g,deleteLeafById:Re,ungroupLeaves:ct}),Me=im({project:i,selection:a,setSelection:r,applyUpdate:o,dragRef:c.dragRef,zoom:H,pan:fe,setPan:qe,stageRef:P,clientToSvgPoint:C,togglePetalSelection:tt}),[nt,lt]=$.useState(0),at=a.kind,yn=at==="flower"?a.flowerId:null,ya=at==="flowers"?a.flowerIds?.join(","):null,Jl=at==="layer"||at==="petal"?a.layerId:null,pn=at==="petal"?a.index:null,Nt=at==="petals"?a.petals?.length:null;$.useEffect(()=>{at!=="project"&&lt(Date.now())},[at,yn,ya,Jl,pn,Nt]),$.useEffect(()=>{if(!be.current)return;const he=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!he)return;const pe=be.current.querySelector(`[data-flower-id="${he}"]`);pe&&pe.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Yt=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[nt]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:y,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:_?{width:`${m.left}%`}:void 0,children:x.jsx(cm,{project:i,selection:a,setSelection:r,expandedFlowers:b,setExpandedFlowers:N,isExpanded:j,toggleExpanded:w,scheduleFlowerRowClick:R,handleFlowerRowDoubleClick:J,addFlower:gn,deleteSelected:ze,addOuterLayer:ye,deleteOuterLayer:Ne,deleteFlowerById:Be,deleteLayerById:Ce,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:be,groups:i.groups??[],expandedGroups:k,isGroupExpanded:B,toggleGroupExpanded:O,onSelectGroup:he=>r({kind:"group",groupId:he}),onUngroupFlowers:Pe,leaves:i.leaves??[],leafGroups:i.leafGroups??[],onSelectLeaf:he=>r({kind:"leaf",leafId:he}),onSelectLeafGroup:he=>r({kind:"leafGroup",leafGroupId:he}),onAddLeaf:ot,onDeleteLeaf:Re})}),x.jsx(Yd,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:p}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Em,{project:i,selection:a,setSelection:r,applyUpdate:o,paletteMap:f,selectedFlowerId:Qe,zoom:H,setZoom:q,zoomLevel:E,setZoomLevel:D,ZOOM_LEVELS:M,pan:fe,panRaw:Y,setPan:qe,showGrid:ae,setShowGrid:xe,showHelp:de,setShowHelp:oe,stageRef:P,viewBox:Je,dashSyncToken:nt,dashDelay:Yt,beginPan:Me.beginPan,updatePan:Me.updatePan,endPan:Me.endPan,beginMarquee:Me.beginMarquee,updateMarquee:Me.updateMarquee,endMarquee:Me.endMarquee,marqueeRef:Me.marqueeRef,marqueeRect:Me.marqueeRect,beginFlowerDrag:Me.beginFlowerDrag,updateFlowerDrag:Me.updateFlowerDrag,endFlowerDrag:Me.endFlowerDrag,scaleDragRef:Me.scaleDragRef,beginScaleDrag:Me.beginScaleDrag,updateScaleDrag:Me.updateScaleDrag,endScaleDrag:Me.endScaleDrag,rotationDragRef:Me.rotationDragRef,beginRotationDrag:Me.beginRotationDrag,updateRotationDrag:Me.updateRotationDrag,endRotationDrag:Me.endRotationDrag,widthScaleDragRef:Me.widthScaleDragRef,beginWidthScaleDrag:Me.beginWidthScaleDrag,updateWidthScaleDrag:Me.updateWidthScaleDrag,endWidthScaleDrag:Me.endWidthScaleDrag,radiusDragRef:Me.radiusDragRef,beginRadiusDrag:Me.beginRadiusDrag,updateRadiusDrag:Me.updateRadiusDrag,endRadiusDrag:Me.endRadiusDrag,togglePetalSelection:tt,clientToSvgPoint:C,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:$e,onDeleteStencil:Ae,onSelectStencil:he=>r({kind:"stencil",stencilId:he}),handleShiftFlowerSelect:pt,groupHighlightedFlowerIds:ue,leaves:i.leaves??[],leafGroups:i.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Te,onSelectLeaf:he=>r({kind:"leaf",leafId:he}),onShiftSelectLeaf:dt})}),x.jsx(Yd,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:p}),x.jsx("div",{className:"min-w-0 shrink-0",style:_?{width:`${m.right}%`}:void 0,children:x.jsx(Wm,{project:i,selection:a,applyUpdate:o,selectedFlower:Xl,selectedFlowers:kn,selectedLayer:ci,selectedPetalIndex:Wl,selectedPetals:el,selectedStencil:qt,onDeleteStencil:Ae,groups:i.groups??[],onGroupFlowers:ge,onUngroupFlowers:Pe,onAddToGroup:He,onMergeGroups:Fe,selectedLeaf:ga,selectedLeafGroup:Rn,leafGroups:i.leafGroups??[],onDeleteLeaf:Re,onGroupLeaves:vt,onUngroupLeaves:ct,onAddLeafToGroup:Ue,onRemoveLeafFromGroup:Wt})})]}),vn&&x.jsx(Qm,{palette:i.palette,addFlowerOpts:$n,setAddFlowerOpts:Ve,onConfirm:pl,onCancel:()=>Fn(!1)}),de&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:he=>he.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([he,pe])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:he}),x.jsx("td",{className:"py-2 text-neutral-700",children:pe})]},he))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function xb({cg:c}){const[i,a]=$.useState("w"),[r,o]=$.useState(""),f=c.totalAreaCm2,m=parseFloat(r),h=r!==""&&Number.isFinite(m)&&m>0?Math.round(f/m*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(d=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function sb(c){const{recipe:i}=c;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[i.colors.map(a=>x.jsx(xb,{cg:a},a.colorId)),i.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function ob(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function fb(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function db(c){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function hb(){const[c,i]=$.useState("home"),[a,r]=$.useState([]),[o,f]=$.useState(null),[m,y]=$.useState({kind:"project"}),[h,d]=$.useState([]),[p,_]=$.useState(0),A=$.useRef(o),b=$.useRef(h),N=$.useRef(p);$.useEffect(()=>{A.current=o},[o]),$.useEffect(()=>{b.current=h},[h]),$.useEffect(()=>{N.current=p},[p]);const j=$.useRef(null),w=$.useRef(null),T=$.useRef(null),k=$.useRef(null),[G,B]=$.useState(null);$.useEffect(()=>{const I=G?window.setTimeout(()=>B(null),2200):null;return()=>{I&&window.clearTimeout(I)}},[G]),$.useEffect(()=>{r(nr())},[]);function O(I){const D=JSON.stringify(I);d([D]),_(0)}function W(I,D=!0){if(!D){f(Se=>{if(!Se)return Se;const fe=Zl(Se);return I(fe),fe.updatedAt=C0(),fe});return}const q=A.current;if(!q)return;const Y=Zl(q);I(Y),Y.updatedAt=C0(),f(Y);const K=b.current,ae=N.current;if(K.length===0){O(Y);return}const xe=JSON.stringify(Y);let oe=[...K.slice(0,ae+1),xe];const be=50;oe.length>be&&(oe=oe.slice(oe.length-be)),d(oe),_(oe.length-1)}function R(){_(I=>{if(I<=0)return I;const D=I-1,q=b.current[D];return q&&f(ha(JSON.parse(q))),B("Undo"),D})}function J(){_(I=>{if(I>=b.current.length-1)return I;const D=I+1,q=b.current[D];return q&&f(ha(JSON.parse(q))),B("Redo"),D})}function P(){if(!o)return;const I=Hh(o);r(nr()),B(I?"Saved":" ")}function Q(){if(!o)return;const I=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),D=URL.createObjectURL(I),q=document.createElement("a");q.href=D,q.download=`${o.title||"tsumami"}.json`,q.click(),URL.revokeObjectURL(D),B("JSON exported")}function X(I){const D=new FileReader;D.onload=()=>{try{const q=JSON.parse(String(D.result??""));if(!q||typeof q!="object"||!Array.isArray(q.flowers))throw new Error("Invalid JSON");const Y=ha(q);f(Y),y({kind:"project"}),O(Y),i("editor"),B("Imported")}catch{B("Import failed")}},D.readAsText(I)}function C(I){const D=ha(I);f(D),y({kind:"project"}),O(D),i("editor")}function g(I){return I&&(I.kind==="flower"||I.kind==="layer"||I.kind==="petal")?I.flowerId:null}function z(){if(!o)return;const I=g(m);if(!I)return;const D=o.flowers.find(q=>q.id===I);D&&(w.current=Zl(D),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:D},null,2)).catch(()=>{}),B("Flower copied"))}function v(){if(!o||m.kind!=="leaf")return;const I=(o.leaves??[]).find(D=>D.id===m.leafId);I&&(T.current=Zl(I),B("Leaf copied"))}function M(){if(!o)return;const I=w.current;if(!I){B("Nothing to paste");return}const D=qh(I,{x:12+Math.random()*10,y:12+Math.random()*10});W(q=>{q.flowers.push(D)},!0),y({kind:"flower",flowerId:D.id}),B("Flower pasted")}function E(){if(!o)return;const I=T.current;if(!I)return;const D=It("leaf"),q={...Zl(I),id:D,name:I.name+" (copy)",position:{x:I.position.x+30,y:I.position.y+30}};W(Y=>{Y.leaves||(Y.leaves=[]),Y.leaves.push(q)},!0),y({kind:"leaf",leafId:q.id}),B("Leaf pasted")}function U(I){if(!o)return;const D=g(m);D&&(W(q=>{const Y=q.flowers.findIndex(de=>de.id===D);if(Y<0)return;const K=q.flowers,ae=K[Y];if(!ae)return;if(K.splice(Y,1),I==="front"){K.push(ae);return}if(I==="back"){K.unshift(ae);return}if(I==="forward"){if(Y>=K.length){K.push(ae);return}K.splice(Y+1,0,ae);return}const xe=je(Y-1,0,K.length);K.splice(xe,0,ae)},!0),B(I==="front"?"Brought to front":I==="back"?"Sent to back":I==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function I(q){const Y=q;if(!Y)return!1;const K=String(Y.tagName||"").toLowerCase();return K==="input"||K==="textarea"||K==="select"||!!Y.isContentEditable}function D(q){if(!(I(q.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?q.metaKey:q.ctrlKey))){if(c==="editor"){if(q.key.toLowerCase()==="c"){q.preventDefault(),m.kind==="leaf"?v():z();return}if(q.key.toLowerCase()==="v"){q.preventDefault(),T.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="leafGroup"||!w.current)?E():M();return}}q.key.toLowerCase()==="z"&&(q.preventDefault(),q.shiftKey?J():R()),q.key.toLowerCase()==="s"&&(q.preventDefault(),P())}}return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[o,h,p,m,c]);const H=$.useMemo(()=>o?Zh(o):null,[o]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx(Vh,{view:c,onNavigate:i,project:o,onSave:P,onLoad:()=>i("home"),onImportJson:()=>k.current?.click(),onExportJson:Q,onExportSvg:()=>{const I=document.querySelector('[data-testid="canvas-svg"]');I&&o&&Xh(I,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const I=document.querySelector('[data-testid="canvas-svg"]');I&&o&&Wh(I,`${o.title||"tsumami"}.png`)}}),x.jsx("input",{ref:k,type:"file",accept:"application/json",className:"hidden",onChange:I=>{const D=I.target.files?.[0];D&&X(D),I.currentTarget.value=""}}),G&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:G}),x.jsxs("main",{className:"flex-1",children:[c==="home"&&x.jsx(Qh,{saved:a,onNew:()=>i("new"),onOpen:I=>{const D=ha(Zl(I));f(D),y({kind:"project"}),O(D),i("editor")},onDelete:I=>{Yh(I),r(nr()),B("Deleted")}}),c==="new"&&x.jsx(Ph,{onBack:()=>i("home"),onCreate:I=>{const D=Bh({title:I});C(D)}}),c==="editor"&&o&&x.jsx(ub,{project:o,selection:m,setSelection:y,applyUpdate:W,onGoRecipe:()=>i("recipe"),onImport:X,dragRef:j,onCopyFlower:z,onPasteFlower:M,onArrangeFlower:U,canPasteFlower:!!w.current,onUndo:R,onRedo:J,canUndo:p>0,canRedo:p<h.length-1}),c==="recipe"&&o&&H&&x.jsx(sb,{project:o,recipe:H,onBack:()=>i("editor"),onExportJson:Q}),c==="terms"&&x.jsx(ob,{onBack:()=>i("home")}),c==="privacy"&&x.jsx(fb,{onBack:()=>i("home")}),(c==="editor"||c==="recipe")&&!o&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&x.jsx(db,{onNavigate:i})]})}class mb extends $.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}gh.createRoot(document.getElementById("root")).render(x.jsx($.StrictMode,{children:x.jsx(mb,{children:x.jsx(hb,{})})}));

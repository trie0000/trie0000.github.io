(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var Fc={exports:{}},Ji={};var jd;function sh(){if(jd)return Ji;jd=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var v in o)v!=="key"&&(f[v]=o[v])}else f=o;return o=f.ref,{$$typeof:u,type:r,key:d,ref:o!==void 0?o:null,props:f}}return Ji.Fragment=i,Ji.jsx=a,Ji.jsxs=a,Ji}var Md;function oh(){return Md||(Md=1,Fc.exports=sh()),Fc.exports}var x=oh(),$c={exports:{}},De={};var zd;function fh(){if(zd)return De;zd=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),D=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=D&&A[D]||A["@@iterator"],typeof A=="function"?A:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,y={};function B(A,q,I){this.props=A,this.context=q,this.refs=y,this.updater=I||z}B.prototype.isReactComponent={},B.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},B.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function G(){}G.prototype=B.prototype;function k(A,q,I){this.props=A,this.context=q,this.refs=y,this.updater=I||z}var T=k.prototype=new G;T.constructor=k,C(T,B.prototype),T.isPureReactComponent=!0;var K=Array.isArray;function V(){}var R={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function P(A,q,I){var X=I.ref;return{$$typeof:u,type:A,key:q,ref:X!==void 0?X:null,props:I}}function ne(A,q){return P(A.type,q,A.props)}function W(A){return typeof A=="object"&&A!==null&&A.$$typeof===u}function S(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(I){return q[I]})}var w=/\/+/g;function N(A,q){return typeof A=="object"&&A!==null&&A.key!=null?S(""+A.key):q.toString(36)}function M(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(V,V):(A.status="pending",A.then(function(q){A.status==="pending"&&(A.status="fulfilled",A.value=q)},function(q){A.status==="pending"&&(A.status="rejected",A.reason=q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function j(A,q,I,X,ae){var se=typeof A;(se==="undefined"||se==="boolean")&&(A=null);var fe=!1;if(A===null)fe=!0;else switch(se){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(A.$$typeof){case u:case i:fe=!0;break;case g:return fe=A._init,j(fe(A._payload),q,I,X,ae)}}if(fe)return ae=ae(A),fe=X===""?"."+N(A,0):X,K(ae)?(I="",fe!=null&&(I=fe.replace(w,"$&/")+"/"),j(ae,q,I,"",function(we){return we})):ae!=null&&(W(ae)&&(ae=ne(ae,I+(ae.key==null||A&&A.key===ae.key?"":(""+ae.key).replace(w,"$&/")+"/")+fe)),q.push(ae)),1;fe=0;var oe=X===""?".":X+":";if(K(A))for(var be=0;be<A.length;be++)X=A[be],se=oe+N(X,be),fe+=j(X,q,I,se,ae);else if(be=b(A),typeof be=="function")for(A=be.call(A),be=0;!(X=A.next()).done;)X=X.value,se=oe+N(X,be++),fe+=j(X,q,I,se,ae);else if(se==="object"){if(typeof A.then=="function")return j(M(A),q,I,X,ae);throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return fe}function E(A,q,I){if(A==null)return A;var X=[],ae=0;return j(A,X,"","",function(se){return q.call(I,se,ae++)}),X}function O(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(I){(A._status===0||A._status===-1)&&(A._status=1,A._result=I)},function(I){(A._status===0||A._status===-1)&&(A._status=2,A._result=I)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var H=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Y={map:E,forEach:function(A,q,I){E(A,function(){q.apply(this,arguments)},I)},count:function(A){var q=0;return E(A,function(){q++}),q},toArray:function(A){return E(A,function(q){return q})||[]},only:function(A){if(!W(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return De.Activity=p,De.Children=Y,De.Component=B,De.Fragment=a,De.Profiler=o,De.PureComponent=k,De.StrictMode=r,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,De.__COMPILER_RUNTIME={__proto__:null,c:function(A){return R.H.useMemoCache(A)}},De.cache=function(A){return function(){return A.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(A,q,I){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=C({},A.props),ae=A.key;if(q!=null)for(se in q.key!==void 0&&(ae=""+q.key),q)!Z.call(q,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&q.ref===void 0||(X[se]=q[se]);var se=arguments.length-2;if(se===1)X.children=I;else if(1<se){for(var fe=Array(se),oe=0;oe<se;oe++)fe[oe]=arguments[oe+2];X.children=fe}return P(A.type,ae,X)},De.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:f,_context:A},A},De.createElement=function(A,q,I){var X,ae={},se=null;if(q!=null)for(X in q.key!==void 0&&(se=""+q.key),q)Z.call(q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ae[X]=q[X]);var fe=arguments.length-2;if(fe===1)ae.children=I;else if(1<fe){for(var oe=Array(fe),be=0;be<fe;be++)oe[be]=arguments[be+2];ae.children=oe}if(A&&A.defaultProps)for(X in fe=A.defaultProps,fe)ae[X]===void 0&&(ae[X]=fe[X]);return P(A,se,ae)},De.createRef=function(){return{current:null}},De.forwardRef=function(A){return{$$typeof:v,render:A}},De.isValidElement=W,De.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:O}},De.memo=function(A,q){return{$$typeof:h,type:A,compare:q===void 0?null:q}},De.startTransition=function(A){var q=R.T,I={};R.T=I;try{var X=A(),ae=R.S;ae!==null&&ae(I,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(V,H)}catch(se){H(se)}finally{q!==null&&I.types!==null&&(q.types=I.types),R.T=q}},De.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},De.use=function(A){return R.H.use(A)},De.useActionState=function(A,q,I){return R.H.useActionState(A,q,I)},De.useCallback=function(A,q){return R.H.useCallback(A,q)},De.useContext=function(A){return R.H.useContext(A)},De.useDebugValue=function(){},De.useDeferredValue=function(A,q){return R.H.useDeferredValue(A,q)},De.useEffect=function(A,q){return R.H.useEffect(A,q)},De.useEffectEvent=function(A){return R.H.useEffectEvent(A)},De.useId=function(){return R.H.useId()},De.useImperativeHandle=function(A,q,I){return R.H.useImperativeHandle(A,q,I)},De.useInsertionEffect=function(A,q){return R.H.useInsertionEffect(A,q)},De.useLayoutEffect=function(A,q){return R.H.useLayoutEffect(A,q)},De.useMemo=function(A,q){return R.H.useMemo(A,q)},De.useOptimistic=function(A,q){return R.H.useOptimistic(A,q)},De.useReducer=function(A,q,I){return R.H.useReducer(A,q,I)},De.useRef=function(A){return R.H.useRef(A)},De.useState=function(A){return R.H.useState(A)},De.useSyncExternalStore=function(A,q,I){return R.H.useSyncExternalStore(A,q,I)},De.useTransition=function(){return R.H.useTransition()},De.version="19.2.3",De}var Dd;function Ex(){return Dd||(Dd=1,$c.exports=fh()),$c.exports}var F=Ex(),ex={exports:{}},Vi={},tx={exports:{}},nx={};var Nd;function dh(){return Nd||(Nd=1,(function(u){function i(j,E){var O=j.length;j.push(E);e:for(;0<O;){var H=O-1>>>1,Y=j[H];if(0<o(Y,E))j[H]=E,j[O]=Y,O=H;else break e}}function a(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var E=j[0],O=j.pop();if(O!==E){j[0]=O;e:for(var H=0,Y=j.length,A=Y>>>1;H<A;){var q=2*(H+1)-1,I=j[q],X=q+1,ae=j[X];if(0>o(I,O))X<Y&&0>o(ae,I)?(j[H]=ae,j[X]=O,H=X):(j[H]=I,j[q]=O,H=q);else if(X<Y&&0>o(ae,O))j[H]=ae,j[X]=O,H=X;else break e}}return E}function o(j,E){var O=j.sortIndex-E.sortIndex;return O!==0?O:j.id-E.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var d=Date,v=d.now();u.unstable_now=function(){return d.now()-v}}var m=[],h=[],g=1,p=null,D=3,b=!1,z=!1,C=!1,y=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function T(j){for(var E=a(h);E!==null;){if(E.callback===null)r(h);else if(E.startTime<=j)r(h),E.sortIndex=E.expirationTime,i(m,E);else break;E=a(h)}}function K(j){if(C=!1,T(j),!z)if(a(m)!==null)z=!0,V||(V=!0,S());else{var E=a(h);E!==null&&M(K,E.startTime-j)}}var V=!1,R=-1,Z=5,P=-1;function ne(){return y?!0:!(u.unstable_now()-P<Z)}function W(){if(y=!1,V){var j=u.unstable_now();P=j;var E=!0;try{e:{z=!1,C&&(C=!1,G(R),R=-1),b=!0;var O=D;try{t:{for(T(j),p=a(m);p!==null&&!(p.expirationTime>j&&ne());){var H=p.callback;if(typeof H=="function"){p.callback=null,D=p.priorityLevel;var Y=H(p.expirationTime<=j);if(j=u.unstable_now(),typeof Y=="function"){p.callback=Y,T(j),E=!0;break t}p===a(m)&&r(m),T(j)}else r(m);p=a(m)}if(p!==null)E=!0;else{var A=a(h);A!==null&&M(K,A.startTime-j),E=!1}}break e}finally{p=null,D=O,b=!1}E=void 0}}finally{E?S():V=!1}}}var S;if(typeof k=="function")S=function(){k(W)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,N=w.port2;w.port1.onmessage=W,S=function(){N.postMessage(null)}}else S=function(){B(W,0)};function M(j,E){R=B(function(){j(u.unstable_now())},E)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(j){j.callback=null},u.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<j?Math.floor(1e3/j):5},u.unstable_getCurrentPriorityLevel=function(){return D},u.unstable_next=function(j){switch(D){case 1:case 2:case 3:var E=3;break;default:E=D}var O=D;D=E;try{return j()}finally{D=O}},u.unstable_requestPaint=function(){y=!0},u.unstable_runWithPriority=function(j,E){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var O=D;D=j;try{return E()}finally{D=O}},u.unstable_scheduleCallback=function(j,E,O){var H=u.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?H+O:H):O=H,j){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=O+Y,j={id:g++,callback:E,priorityLevel:j,startTime:O,expirationTime:Y,sortIndex:-1},O>H?(j.sortIndex=O,i(h,j),a(m)===null&&j===a(h)&&(C?(G(R),R=-1):C=!0,M(K,O-H))):(j.sortIndex=Y,i(m,j),z||b||(z=!0,V||(V=!0,S()))),j},u.unstable_shouldYield=ne,u.unstable_wrapCallback=function(j){var E=D;return function(){var O=D;D=E;try{return j.apply(this,arguments)}finally{D=O}}}})(nx)),nx}var Ad;function hh(){return Ad||(Ad=1,tx.exports=dh()),tx.exports}var lx={exports:{}},It={};var Ld;function mh(){if(Ld)return It;Ld=1;var u=Ex();function i(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(m,h,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:p==null?null:""+p,children:m,containerInfo:h,implementation:g}}var d=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,It.createPortal=function(m,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(i(299));return f(m,h,null,g)},It.flushSync=function(m){var h=d.T,g=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=h,r.p=g,r.d.f()}},It.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(m,h))},It.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},It.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var g=h.as,p=v(g,h.crossOrigin),D=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:D,fetchPriority:b}):g==="script"&&r.d.X(m,{crossOrigin:p,integrity:D,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},It.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=v(h.as,h.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(m)},It.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,p=v(g,h.crossOrigin);r.d.L(m,g,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},It.preloadModule=function(m,h){if(typeof m=="string")if(h){var g=v(h.as,h.crossOrigin);r.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(m)},It.requestFormReset=function(m){r.d.r(m)},It.unstable_batchedUpdates=function(m,h){return m(h)},It.useFormState=function(m,h,g){return d.H.useFormState(m,h,g)},It.useFormStatus=function(){return d.H.useHostTransitionStatus()},It.version="19.2.3",It}var Ed;function bh(){if(Ed)return lx.exports;Ed=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),lx.exports=mh(),lx.exports}var Td;function gh(){if(Td)return Vi;Td=1;var u=hh(),i=Ex(),a=bh();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(r(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var s=c.alternate;if(s===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===s.child){for(s=c.child;s;){if(s===n)return m(c),e;if(s===l)return m(c),t;s=s.sibling}throw Error(r(188))}if(n.return!==l.return)n=c,l=s;else{for(var _=!1,L=c.child;L;){if(L===n){_=!0,n=c,l=s;break}if(L===l){_=!0,l=c,n=s;break}L=L.sibling}if(!_){for(L=s.child;L;){if(L===n){_=!0,n=s,l=c;break}if(L===l){_=!0,l=s,n=c;break}L=L.sibling}if(!_)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,D=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function S(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function N(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case B:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case V:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case k:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case T:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return t=e.displayName||null,t!==null?t:N(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return N(e(t))}catch{}}return null}var M=Array.isArray,j=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},H=[],Y=-1;function A(e){return{current:e}}function q(e){0>Y||(e.current=H[Y],H[Y]=null,Y--)}function I(e,t){Y++,H[Y]=e.current,e.current=t}var X=A(null),ae=A(null),se=A(null),fe=A(null);function oe(e,t){switch(I(se,t),I(ae,e),I(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vf(t),e=Wf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(X),I(X,e)}function be(){q(X),q(ae),q(se)}function we(e){e.memoizedState!==null&&I(fe,e);var t=X.current,n=Wf(t,e.type);t!==n&&(I(ae,e),I(X,n))}function he(e){ae.current===e&&(q(X),q(ae)),fe.current===e&&(q(fe),Ui._currentValue=O)}var Qe,et;function ut(e){if(Qe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",et=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+e+et}var Fe=!1;function Mt(e,t){if(!e||Fe)return"";Fe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(le){var te=le}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(le){te=le}e.call(ue.prototype)}}else{try{throw Error()}catch(le){te=le}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(le){if(le&&te&&typeof le.stack=="string")return[le.stack,te.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),_=s[0],L=s[1];if(_&&L){var U=_.split(`
`),ee=L.split(`
`);for(c=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;c<ee.length&&!ee[c].includes("DetermineComponentFrameRoot");)c++;if(l===U.length||c===ee.length)for(l=U.length-1,c=ee.length-1;1<=l&&0<=c&&U[l]!==ee[c];)c--;for(;1<=l&&0<=c;l--,c--)if(U[l]!==ee[c]){if(l!==1||c!==1)do if(l--,c--,0>c||U[l]!==ee[c]){var ie=`
`+U[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=c);break}}}finally{Fe=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ut(n):""}function Lt(e,t){switch(e.tag){case 26:case 27:case 5:return ut(e.type);case 16:return ut("Lazy");case 13:return e.child!==t&&t!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return Mt(e.type,!1);case 11:return Mt(e.type.render,!1);case 1:return Mt(e.type,!0);case 31:return ut("Activity");default:return""}}function Ut(e){try{var t="",n=null;do t+=Lt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var zt=Object.prototype.hasOwnProperty,tt=u.unstable_scheduleCallback,Et=u.unstable_cancelCallback,Il=u.unstable_shouldYield,sa=u.unstable_requestPaint,dt=u.unstable_now,oa=u.unstable_getCurrentPriorityLevel,Bn=u.unstable_ImmediatePriority,fa=u.unstable_UserBlockingPriority,In=u.unstable_NormalPriority,ti=u.unstable_LowPriority,da=u.unstable_IdlePriority,at=u.log,xe=u.unstable_setDisableYieldValue,je=null,Me=null;function Ce(e){if(typeof at=="function"&&xe(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(je,e)}catch{}}var ye=Math.clz32?Math.clz32:ze,Tt=Math.log,ke=Math.LN2;function ze(e){return e>>>=0,e===0?32:31-(Tt(e)/ke|0)|0}var ht=256,$e=262144,it=4194304;function Ge(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ke(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,s=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var L=l&134217727;return L!==0?(l=L&~s,l!==0?c=Ge(l):(_&=L,_!==0?c=Ge(_):n||(n=L&~e,n!==0&&(c=Ge(n))))):(L=l&~s,L!==0?c=Ge(L):_!==0?c=Ge(_):n||(n=l&~e,n!==0&&(c=Ge(n)))),c===0?0:t!==0&&t!==c&&(t&s)===0&&(s=c&-c,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:c}function qn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Bt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vn(){var e=it;return it<<=1,(it&62914560)===0&&(it=4194304),e}function Dt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ct(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jt(e,t,n,l,c,s){var _=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var L=e.entanglements,U=e.expirationTimes,ee=e.hiddenUpdates;for(n=_&~n;0<n;){var ie=31-ye(n),ue=1<<ie;L[ie]=0,U[ie]=-1;var te=ee[ie];if(te!==null)for(ee[ie]=null,ie=0;ie<te.length;ie++){var le=te[ie];le!==null&&(le.lane&=-536870913)}n&=~ue}l!==0&&Ue(e,l,0),s!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=s&~(_&~t))}function Ue(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ye(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function ni(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-ye(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function ar(e,t){var n=t&-t;return n=(n&42)!==0?1:yn(n),(n&(e.suspendedLanes|t))!==0?0:n}function yn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ir(){var e=E.p;return e!==0?e:(e=window.event,e===void 0?32:vd(e.type))}function rr(e,t){var n=E.p;try{return E.p=e,t()}finally{E.p=n}}var Un=Math.random().toString(36).slice(2),St="__reactFiber$"+Un,Yt="__reactProps$"+Un,de="__reactContainer$"+Un,ve="__reactEvents$"+Un,Oe="__reactListeners$"+Un,Vt="__reactHandles$"+Un,mt="__reactResources$"+Un,cn="__reactMarker$"+Un;function ai(e){delete e[St],delete e[Yt],delete e[ve],delete e[Oe],delete e[Vt]}function ha(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[de]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nd(e);e!==null;){if(n=e[St])return n;e=nd(e)}return t}e=n,n=e.parentNode}return null}function ma(e){if(e=e[St]||e[de]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ii(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ba(e){var t=e[mt];return t||(t=e[mt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Nt(e){e[cn]=!0}var Bx=new Set,qx={};function Ul(e,t){ga(e,t),ga(e+"Capture",t)}function ga(e,t){for(qx[e]=t,e=0;e<t.length;e++)Bx.add(t[e])}var t1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kx={},Rx={};function n1(e){return zt.call(Rx,e)?!0:zt.call(kx,e)?!1:t1.test(e)?Rx[e]=!0:(kx[e]=!0,!1)}function ur(e,t,n){if(n1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function cr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Qn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(_){n=""+_,s.call(this,_)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(_){n=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Z0(e){if(!e._valueTracker){var t=Gx(e)?"checked":"value";e._valueTracker=l1(e,t,""+e[t])}}function Ox(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Gx(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var a1=/[\n"\\]/g;function _n(e){return e.replace(a1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function X0(e,t,n,l,c,s,_,L){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pn(t)):e.value!==""+pn(t)&&(e.value=""+pn(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?J0(e,_,pn(t)):n!=null?J0(e,_,pn(n)):l!=null&&e.removeAttribute("value"),c==null&&s!=null&&(e.defaultChecked=!!s),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+pn(L):e.removeAttribute("name")}function Hx(e,t,n,l,c,s,_,L){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Z0(e);return}n=n!=null?""+pn(n):"",t=t!=null?""+pn(t):n,L||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=L?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Z0(e)}function J0(e,t,n){t==="number"&&xr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function va(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Yx(e,t,n){if(t!=null&&(t=""+pn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+pn(n):""}function Ix(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(M(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=pn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Z0(e)}function ya(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var i1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ux(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||i1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Kx(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Ux(e,c,l)}else for(var s in t)t.hasOwnProperty(s)&&Ux(e,s,t[s])}function V0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),u1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(e){return u1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var W0=null;function Q0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pa=null,_a=null;function Zx(e){var t=ma(e);if(t&&(e=t.stateNode)){var n=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(X0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Yt]||null;if(!c)throw Error(r(90));X0(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Ox(l)}break e;case"textarea":Yx(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&va(e,!!n.multiple,t,!1)}}}var P0=!1;function Xx(e,t,n){if(P0)return e(t,n);P0=!0;try{var l=e(t);return l}finally{if(P0=!1,(pa!==null||_a!==null)&&(Pr(),pa&&(t=pa,e=_a,_a=pa=null,Zx(t),e)))for(t=0;t<e.length;t++)Zx(e[t])}}function ri(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F0=!1;if(Fn)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){F0=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{F0=!1}var ml=null,$0=null,or=null;function Jx(){if(or)return or;var e,t=$0,n=t.length,l,c="value"in ml?ml.value:ml.textContent,s=c.length;for(e=0;e<n&&t[e]===c[e];e++);var _=n-e;for(l=1;l<=_&&t[n-l]===c[s-l];l++);return or=c.slice(e,1<l?1-l:void 0)}function fr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dr(){return!0}function Vx(){return!1}function Wt(e){function t(n,l,c,s,_){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=s,this.target=_,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(n=e[L],this[L]=n?n(s):s[L]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dr:Vx,this.isPropagationStopped=Vx,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),t}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=Wt(Kl),ci=p({},Kl,{view:0,detail:0}),c1=Wt(ci),eu,tu,xi,mr=p({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(eu=e.screenX-xi.screenX,tu=e.screenY-xi.screenY):tu=eu=0,xi=e),eu)},movementY:function(e){return"movementY"in e?e.movementY:tu}}),Wx=Wt(mr),x1=p({},mr,{dataTransfer:0}),s1=Wt(x1),o1=p({},ci,{relatedTarget:0}),nu=Wt(o1),f1=p({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),d1=Wt(f1),h1=p({},Kl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m1=Wt(h1),b1=p({},Kl,{data:0}),Qx=Wt(b1),g1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y1[e])?!!t[e]:!1}function lu(){return p1}var _1=p({},ci,{key:function(e){if(e.key){var t=g1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S1=Wt(_1),C1=p({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Px=Wt(C1),w1=p({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),j1=Wt(w1),M1=p({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=Wt(M1),D1=p({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N1=Wt(D1),A1=p({},Kl,{newState:0,oldState:0}),L1=Wt(A1),E1=[9,13,27,32],au=Fn&&"CompositionEvent"in window,si=null;Fn&&"documentMode"in document&&(si=document.documentMode);var T1=Fn&&"TextEvent"in window&&!si,Fx=Fn&&(!au||si&&8<si&&11>=si),$x=" ",es=!1;function ts(e,t){switch(e){case"keyup":return E1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ns(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function B1(e,t){switch(e){case"compositionend":return ns(t);case"keypress":return t.which!==32?null:(es=!0,$x);case"textInput":return e=t.data,e===$x&&es?null:e;default:return null}}function q1(e,t){if(Sa)return e==="compositionend"||!au&&ts(e,t)?(e=Jx(),or=$0=ml=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fx&&t.locale!=="ko"?null:t.data;default:return null}}var k1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ls(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!k1[e.type]:t==="textarea"}function as(e,t,n,l){pa?_a?_a.push(l):_a=[l]:pa=l,t=a0(t,"onChange"),0<t.length&&(n=new hr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var oi=null,fi=null;function R1(e){If(e,0)}function br(e){var t=ii(e);if(Ox(t))return e}function is(e,t){if(e==="change")return t}var rs=!1;if(Fn){var iu;if(Fn){var ru="oninput"in document;if(!ru){var us=document.createElement("div");us.setAttribute("oninput","return;"),ru=typeof us.oninput=="function"}iu=ru}else iu=!1;rs=iu&&(!document.documentMode||9<document.documentMode)}function cs(){oi&&(oi.detachEvent("onpropertychange",xs),fi=oi=null)}function xs(e){if(e.propertyName==="value"&&br(fi)){var t=[];as(t,fi,e,Q0(e)),Xx(R1,t)}}function G1(e,t,n){e==="focusin"?(cs(),oi=t,fi=n,oi.attachEvent("onpropertychange",xs)):e==="focusout"&&cs()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return br(fi)}function H1(e,t){if(e==="click")return br(t)}function Y1(e,t){if(e==="input"||e==="change")return br(t)}function I1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:I1;function di(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!zt.call(t,c)||!xn(e[c],t[c]))return!1}return!0}function ss(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function os(e,t){var n=ss(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ss(n)}}function fs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ds(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xr(e.document)}return t}function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var U1=Fn&&"documentMode"in document&&11>=document.documentMode,Ca=null,cu=null,hi=null,xu=!1;function hs(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xu||Ca==null||Ca!==xr(l)||(l=Ca,"selectionStart"in l&&uu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hi&&di(hi,l)||(hi=l,l=a0(cu,"onSelect"),0<l.length&&(t=new hr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Ca)))}function Zl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wa={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionrun:Zl("Transition","TransitionRun"),transitionstart:Zl("Transition","TransitionStart"),transitioncancel:Zl("Transition","TransitionCancel"),transitionend:Zl("Transition","TransitionEnd")},su={},ms={};Fn&&(ms=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Xl(e){if(su[e])return su[e];if(!wa[e])return e;var t=wa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ms)return su[e]=t[n];return e}var bs=Xl("animationend"),gs=Xl("animationiteration"),vs=Xl("animationstart"),K1=Xl("transitionrun"),Z1=Xl("transitionstart"),X1=Xl("transitioncancel"),ys=Xl("transitionend"),ps=new Map,ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ou.push("scrollEnd");function kn(e,t){ps.set(e,t),Ul(t,[e])}var gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],ja=0,fu=0;function vr(){for(var e=ja,t=fu=ja=0;t<e;){var n=Sn[t];Sn[t++]=null;var l=Sn[t];Sn[t++]=null;var c=Sn[t];Sn[t++]=null;var s=Sn[t];if(Sn[t++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}s!==0&&_s(n,c,s)}}function yr(e,t,n,l){Sn[ja++]=e,Sn[ja++]=t,Sn[ja++]=n,Sn[ja++]=l,fu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function du(e,t,n,l){return yr(e,t,n,l),pr(e)}function Jl(e,t){return yr(e,null,null,t),pr(e)}function _s(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(c=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,c&&t!==null&&(c=31-ye(n),e=s.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),s):null}function pr(e){if(50<ki)throw ki=0,Sc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ma={};function J1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,l){return new J1(e,t,n,l)}function hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $n(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ss(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _r(e,t,n,l,c,s){var _=0;if(l=e,typeof e=="function")hu(e)&&(_=1);else if(typeof e=="string")_=F2(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=sn(31,n,t,c),e.elementType=P,e.lanes=s,e;case C:return Vl(n.children,c,s,t);case y:_=8,c|=24;break;case B:return e=sn(12,n,t,c|2),e.elementType=B,e.lanes=s,e;case K:return e=sn(13,n,t,c),e.elementType=K,e.lanes=s,e;case V:return e=sn(19,n,t,c),e.elementType=V,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:_=10;break e;case G:_=9;break e;case T:_=11;break e;case R:_=14;break e;case Z:_=16,l=null;break e}_=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=sn(_,n,t,c),t.elementType=e,t.type=l,t.lanes=s,t}function Vl(e,t,n,l){return e=sn(7,e,l,t),e.lanes=n,e}function mu(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function Cs(e){var t=sn(18,null,null,0);return t.stateNode=e,t}function bu(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ws=new WeakMap;function Cn(e,t){if(typeof e=="object"&&e!==null){var n=ws.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ut(t)},ws.set(e,t),t)}return{value:e,source:t,stack:Ut(t)}}var za=[],Da=0,Sr=null,mi=0,wn=[],jn=0,bl=null,Kn=1,Zn="";function el(e,t){za[Da++]=mi,za[Da++]=Sr,Sr=e,mi=t}function js(e,t,n){wn[jn++]=Kn,wn[jn++]=Zn,wn[jn++]=bl,bl=e;var l=Kn;e=Zn;var c=32-ye(l)-1;l&=~(1<<c),n+=1;var s=32-ye(t)+c;if(30<s){var _=c-c%5;s=(l&(1<<_)-1).toString(32),l>>=_,c-=_,Kn=1<<32-ye(t)+c|n<<c|l,Zn=s+e}else Kn=1<<s|n<<c|l,Zn=e}function gu(e){e.return!==null&&(el(e,1),js(e,1,0))}function vu(e){for(;e===Sr;)Sr=za[--Da],za[Da]=null,mi=za[--Da],za[Da]=null;for(;e===bl;)bl=wn[--jn],wn[jn]=null,Zn=wn[--jn],wn[jn]=null,Kn=wn[--jn],wn[jn]=null}function Ms(e,t){wn[jn++]=Kn,wn[jn++]=Zn,wn[jn++]=bl,Kn=t.id,Zn=t.overflow,bl=e}var qt=null,nt=null,qe=!1,gl=null,Mn=!1,yu=Error(r(519));function vl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bi(Cn(t,e)),yu}function zs(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[St]=e,t[Yt]=l,n){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(n=0;n<Gi.length;n++)Ee(Gi[n],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Hx(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),Ix(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Xf(t.textContent,n)?(l.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),l.onScroll!=null&&Ee("scroll",t),l.onScrollEnd!=null&&Ee("scrollend",t),l.onClick!=null&&(t.onclick=Pn),t=!0):t=!1,t||vl(e,!0)}function Ds(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function Na(e){if(e!==qt)return!1;if(!qe)return Ds(e),qe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Rc(e.type,e.memoizedProps)),n=!n),n&&nt&&vl(e),Ds(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));nt=td(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));nt=td(e)}else t===27?(t=nt,El(e.type)?(e=Ic,Ic=null,nt=e):nt=t):nt=qt?Dn(e.stateNode.nextSibling):null;return!0}function Wl(){nt=qt=null,qe=!1}function pu(){var e=gl;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),gl=null),e}function bi(e){gl===null?gl=[e]:gl.push(e)}var _u=A(null),Ql=null,tl=null;function yl(e,t,n){I(_u,t._currentValue),t._currentValue=n}function nl(e){e._currentValue=_u.current,q(_u)}function Su(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Cu(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var s=c.dependencies;if(s!==null){var _=c.child;s=s.firstContext;e:for(;s!==null;){var L=s;s=c;for(var U=0;U<t.length;U++)if(L.context===t[U]){s.lanes|=n,L=s.alternate,L!==null&&(L.lanes|=n),Su(s.return,n,e),l||(_=null);break e}s=L.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(r(341));_.lanes|=n,s=_.alternate,s!==null&&(s.lanes|=n),Su(_,n,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function Aa(e,t,n,l){e=null;for(var c=t,s=!1;c!==null;){if(!s){if((c.flags&524288)!==0)s=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var L=c.type;xn(c.pendingProps.value,_.value)||(e!==null?e.push(L):e=[L])}}else if(c===fe.current){if(_=c.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ui):e=[Ui])}c=c.return}e!==null&&Cu(t,e,n,l),t.flags|=262144}function Cr(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pl(e){Ql=e,tl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return Ns(Ql,e)}function wr(e,t){return Ql===null&&Pl(e),Ns(e,t)}function Ns(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},tl===null){if(e===null)throw Error(r(308));tl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tl=tl.next=t;return n}var V1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},W1=u.unstable_scheduleCallback,Q1=u.unstable_NormalPriority,bt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wu(){return{controller:new V1,data:new Map,refCount:0}}function gi(e){e.refCount--,e.refCount===0&&W1(Q1,function(){e.controller.abort()})}var vi=null,ju=0,La=0,Ea=null;function P1(e,t){if(vi===null){var n=vi=[];ju=0,La=Dc(),Ea={status:"pending",value:void 0,then:function(l){n.push(l)}}}return ju++,t.then(As,As),t}function As(){if(--ju===0&&vi!==null){Ea!==null&&(Ea.status="fulfilled");var e=vi;vi=null,La=0,Ea=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function F1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Ls=j.S;j.S=function(e,t){bf=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&P1(e,t),Ls!==null&&Ls(e,t)};var Fl=A(null);function Mu(){var e=Fl.current;return e!==null?e:Pe.pooledCache}function jr(e,t){t===null?I(Fl,Fl.current):I(Fl,t.pool)}function Es(){var e=Mu();return e===null?null:{parent:bt._currentValue,pool:e}}var Ta=Error(r(460)),zu=Error(r(474)),Mr=Error(r(542)),zr={then:function(){}};function Ts(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Pn,Pn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ks(e),e;default:if(typeof t.status=="string")t.then(Pn,Pn);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ks(e),e}throw ea=t,Ta}}function $l(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ea=n,Ta):n}}var ea=null;function qs(){if(ea===null)throw Error(r(459));var e=ea;return ea=null,e}function ks(e){if(e===Ta||e===Mr)throw Error(r(483))}var Ba=null,yi=0;function Dr(e){var t=yi;return yi+=1,Ba===null&&(Ba=[]),Bs(Ba,e,t)}function pi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Nr(e,t){throw t.$$typeof===D?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rs(e){function t(Q,J){if(e){var $=Q.deletions;$===null?(Q.deletions=[J],Q.flags|=16):$.push(J)}}function n(Q,J){if(!e)return null;for(;J!==null;)t(Q,J),J=J.sibling;return null}function l(Q){for(var J=new Map;Q!==null;)Q.key!==null?J.set(Q.key,Q):J.set(Q.index,Q),Q=Q.sibling;return J}function c(Q,J){return Q=$n(Q,J),Q.index=0,Q.sibling=null,Q}function s(Q,J,$){return Q.index=$,e?($=Q.alternate,$!==null?($=$.index,$<J?(Q.flags|=67108866,J):$):(Q.flags|=67108866,J)):(Q.flags|=1048576,J)}function _(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function L(Q,J,$,re){return J===null||J.tag!==6?(J=mu($,Q.mode,re),J.return=Q,J):(J=c(J,$),J.return=Q,J)}function U(Q,J,$,re){var pe=$.type;return pe===C?ie(Q,J,$.props.children,re,$.key):J!==null&&(J.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Z&&$l(pe)===J.type)?(J=c(J,$.props),pi(J,$),J.return=Q,J):(J=_r($.type,$.key,$.props,null,Q.mode,re),pi(J,$),J.return=Q,J)}function ee(Q,J,$,re){return J===null||J.tag!==4||J.stateNode.containerInfo!==$.containerInfo||J.stateNode.implementation!==$.implementation?(J=bu($,Q.mode,re),J.return=Q,J):(J=c(J,$.children||[]),J.return=Q,J)}function ie(Q,J,$,re,pe){return J===null||J.tag!==7?(J=Vl($,Q.mode,re,pe),J.return=Q,J):(J=c(J,$),J.return=Q,J)}function ue(Q,J,$){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=mu(""+J,Q.mode,$),J.return=Q,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return $=_r(J.type,J.key,J.props,null,Q.mode,$),pi($,J),$.return=Q,$;case z:return J=bu(J,Q.mode,$),J.return=Q,J;case Z:return J=$l(J),ue(Q,J,$)}if(M(J)||S(J))return J=Vl(J,Q.mode,$,null),J.return=Q,J;if(typeof J.then=="function")return ue(Q,Dr(J),$);if(J.$$typeof===k)return ue(Q,wr(Q,J),$);Nr(Q,J)}return null}function te(Q,J,$,re){var pe=J!==null?J.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return pe!==null?null:L(Q,J,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===pe?U(Q,J,$,re):null;case z:return $.key===pe?ee(Q,J,$,re):null;case Z:return $=$l($),te(Q,J,$,re)}if(M($)||S($))return pe!==null?null:ie(Q,J,$,re,null);if(typeof $.then=="function")return te(Q,J,Dr($),re);if($.$$typeof===k)return te(Q,J,wr(Q,$),re);Nr(Q,$)}return null}function le(Q,J,$,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Q=Q.get($)||null,L(J,Q,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return Q=Q.get(re.key===null?$:re.key)||null,U(J,Q,re,pe);case z:return Q=Q.get(re.key===null?$:re.key)||null,ee(J,Q,re,pe);case Z:return re=$l(re),le(Q,J,$,re,pe)}if(M(re)||S(re))return Q=Q.get($)||null,ie(J,Q,re,pe,null);if(typeof re.then=="function")return le(Q,J,$,Dr(re),pe);if(re.$$typeof===k)return le(Q,J,$,wr(J,re),pe);Nr(J,re)}return null}function me(Q,J,$,re){for(var pe=null,He=null,ge=J,Ae=J=0,Be=null;ge!==null&&Ae<$.length;Ae++){ge.index>Ae?(Be=ge,ge=null):Be=ge.sibling;var Ye=te(Q,ge,$[Ae],re);if(Ye===null){ge===null&&(ge=Be);break}e&&ge&&Ye.alternate===null&&t(Q,ge),J=s(Ye,J,Ae),He===null?pe=Ye:He.sibling=Ye,He=Ye,ge=Be}if(Ae===$.length)return n(Q,ge),qe&&el(Q,Ae),pe;if(ge===null){for(;Ae<$.length;Ae++)ge=ue(Q,$[Ae],re),ge!==null&&(J=s(ge,J,Ae),He===null?pe=ge:He.sibling=ge,He=ge);return qe&&el(Q,Ae),pe}for(ge=l(ge);Ae<$.length;Ae++)Be=le(ge,Q,Ae,$[Ae],re),Be!==null&&(e&&Be.alternate!==null&&ge.delete(Be.key===null?Ae:Be.key),J=s(Be,J,Ae),He===null?pe=Be:He.sibling=Be,He=Be);return e&&ge.forEach(function(Rl){return t(Q,Rl)}),qe&&el(Q,Ae),pe}function _e(Q,J,$,re){if($==null)throw Error(r(151));for(var pe=null,He=null,ge=J,Ae=J=0,Be=null,Ye=$.next();ge!==null&&!Ye.done;Ae++,Ye=$.next()){ge.index>Ae?(Be=ge,ge=null):Be=ge.sibling;var Rl=te(Q,ge,Ye.value,re);if(Rl===null){ge===null&&(ge=Be);break}e&&ge&&Rl.alternate===null&&t(Q,ge),J=s(Rl,J,Ae),He===null?pe=Rl:He.sibling=Rl,He=Rl,ge=Be}if(Ye.done)return n(Q,ge),qe&&el(Q,Ae),pe;if(ge===null){for(;!Ye.done;Ae++,Ye=$.next())Ye=ue(Q,Ye.value,re),Ye!==null&&(J=s(Ye,J,Ae),He===null?pe=Ye:He.sibling=Ye,He=Ye);return qe&&el(Q,Ae),pe}for(ge=l(ge);!Ye.done;Ae++,Ye=$.next())Ye=le(ge,Q,Ae,Ye.value,re),Ye!==null&&(e&&Ye.alternate!==null&&ge.delete(Ye.key===null?Ae:Ye.key),J=s(Ye,J,Ae),He===null?pe=Ye:He.sibling=Ye,He=Ye);return e&&ge.forEach(function(xh){return t(Q,xh)}),qe&&el(Q,Ae),pe}function We(Q,J,$,re){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var pe=$.key;J!==null;){if(J.key===pe){if(pe=$.type,pe===C){if(J.tag===7){n(Q,J.sibling),re=c(J,$.props.children),re.return=Q,Q=re;break e}}else if(J.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Z&&$l(pe)===J.type){n(Q,J.sibling),re=c(J,$.props),pi(re,$),re.return=Q,Q=re;break e}n(Q,J);break}else t(Q,J);J=J.sibling}$.type===C?(re=Vl($.props.children,Q.mode,re,$.key),re.return=Q,Q=re):(re=_r($.type,$.key,$.props,null,Q.mode,re),pi(re,$),re.return=Q,Q=re)}return _(Q);case z:e:{for(pe=$.key;J!==null;){if(J.key===pe)if(J.tag===4&&J.stateNode.containerInfo===$.containerInfo&&J.stateNode.implementation===$.implementation){n(Q,J.sibling),re=c(J,$.children||[]),re.return=Q,Q=re;break e}else{n(Q,J);break}else t(Q,J);J=J.sibling}re=bu($,Q.mode,re),re.return=Q,Q=re}return _(Q);case Z:return $=$l($),We(Q,J,$,re)}if(M($))return me(Q,J,$,re);if(S($)){if(pe=S($),typeof pe!="function")throw Error(r(150));return $=pe.call($),_e(Q,J,$,re)}if(typeof $.then=="function")return We(Q,J,Dr($),re);if($.$$typeof===k)return We(Q,J,wr(Q,$),re);Nr(Q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,J!==null&&J.tag===6?(n(Q,J.sibling),re=c(J,$),re.return=Q,Q=re):(n(Q,J),re=mu($,Q.mode,re),re.return=Q,Q=re),_(Q)):n(Q,J)}return function(Q,J,$,re){try{yi=0;var pe=We(Q,J,$,re);return Ba=null,pe}catch(ge){if(ge===Ta||ge===Mr)throw ge;var He=sn(29,ge,null,Q.mode);return He.lanes=re,He.return=Q,He}}}var ta=Rs(!0),Gs=Rs(!1),pl=!1;function Du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _l(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=pr(e),_s(e,null,n),t}return yr(e,l,t,n),pr(e)}function _i(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ni(e,n)}}function Au(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var _={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?c=s=_:s=s.next=_,n=n.next}while(n!==null);s===null?c=s=t:s=s.next=t}else c=s=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lu=!1;function Si(){if(Lu){var e=Ea;if(e!==null)throw e}}function Ci(e,t,n,l){Lu=!1;var c=e.updateQueue;pl=!1;var s=c.firstBaseUpdate,_=c.lastBaseUpdate,L=c.shared.pending;if(L!==null){c.shared.pending=null;var U=L,ee=U.next;U.next=null,_===null?s=ee:_.next=ee,_=U;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==_&&(L===null?ie.firstBaseUpdate=ee:L.next=ee,ie.lastBaseUpdate=U))}if(s!==null){var ue=c.baseState;_=0,ie=ee=U=null,L=s;do{var te=L.lane&-536870913,le=te!==L.lane;if(le?(Te&te)===te:(l&te)===te){te!==0&&te===La&&(Lu=!0),ie!==null&&(ie=ie.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var me=e,_e=L;te=t;var We=n;switch(_e.tag){case 1:if(me=_e.payload,typeof me=="function"){ue=me.call(We,ue,te);break e}ue=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=_e.payload,te=typeof me=="function"?me.call(We,ue,te):me,te==null)break e;ue=p({},ue,te);break e;case 2:pl=!0}}te=L.callback,te!==null&&(e.flags|=64,le&&(e.flags|=8192),le=c.callbacks,le===null?c.callbacks=[te]:le.push(te))}else le={lane:te,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(ee=ie=le,U=ue):ie=ie.next=le,_|=te;if(L=L.next,L===null){if(L=c.shared.pending,L===null)break;le=L,L=le.next,le.next=null,c.lastBaseUpdate=le,c.shared.pending=null}}while(!0);ie===null&&(U=ue),c.baseState=U,c.firstBaseUpdate=ee,c.lastBaseUpdate=ie,s===null&&(c.shared.lanes=0),zl|=_,e.lanes=_,e.memoizedState=ue}}function Os(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Hs(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Os(n[e],t)}var qa=A(null),Ar=A(0);function Ys(e,t){e=ol,I(Ar,e),I(qa,t),ol=e|t.baseLanes}function Eu(){I(Ar,ol),I(qa,qa.current)}function Tu(){ol=Ar.current,q(qa),q(Ar)}var on=A(null),zn=null;function Cl(e){var t=e.alternate;I(ot,ot.current&1),I(on,e),zn===null&&(t===null||qa.current!==null||t.memoizedState!==null)&&(zn=e)}function Bu(e){I(ot,ot.current),I(on,e),zn===null&&(zn=e)}function Is(e){e.tag===22?(I(ot,ot.current),I(on,e),zn===null&&(zn=e)):wl()}function wl(){I(ot,ot.current),I(on,on.current)}function fn(e){q(on),zn===e&&(zn=null),q(ot)}var ot=A(0);function Lr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Hc(n)||Yc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=0,Ne=null,Je=null,gt=null,Er=!1,ka=!1,na=!1,Tr=0,wi=0,Ra=null,$1=0;function xt(){throw Error(r(321))}function qu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function ku(e,t,n,l,c,s){return ll=s,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?Mo:Pu,na=!1,s=n(l,c),na=!1,ka&&(s=Ks(t,n,l,c)),Us(e),s}function Us(e){j.H=zi;var t=Je!==null&&Je.next!==null;if(ll=0,gt=Je=Ne=null,Er=!1,wi=0,Ra=null,t)throw Error(r(300));e===null||vt||(e=e.dependencies,e!==null&&Cr(e)&&(vt=!0))}function Ks(e,t,n,l){Ne=e;var c=0;do{if(ka&&(Ra=null),wi=0,ka=!1,25<=c)throw Error(r(301));if(c+=1,gt=Je=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}j.H=zo,s=t(n,l)}while(ka);return s}function e2(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?ji(t):t,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(Ne.flags|=1024),t}function Ru(){var e=Tr!==0;return Tr=0,e}function Gu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ou(e){if(Er){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Er=!1}ll=0,gt=Je=Ne=null,ka=!1,wi=Tr=0,Ra=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ne.memoizedState=gt=e:gt=gt.next=e,gt}function ft(){if(Je===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=gt===null?Ne.memoizedState:gt.next;if(t!==null)gt=t,Je=e;else{if(e===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},gt===null?Ne.memoizedState=gt=e:gt=gt.next=e}return gt}function Br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ji(e){var t=wi;return wi+=1,Ra===null&&(Ra=[]),e=Bs(Ra,e,t),t=Ne,(gt===null?t.memoizedState:gt.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?Mo:Pu),e}function qr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ji(e);if(e.$$typeof===k)return kt(e)}throw Error(r(438,String(e)))}function Hu(e){var t=null,n=Ne.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Br(),Ne.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=ne;return t.index++,n}function al(e,t){return typeof t=="function"?t(e):t}function kr(e){var t=ft();return Yu(t,Je,e)}function Yu(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=e.baseQueue,s=l.pending;if(s!==null){if(c!==null){var _=c.next;c.next=s.next,s.next=_}t.baseQueue=c=s,l.pending=null}if(s=e.baseState,c===null)e.memoizedState=s;else{t=c.next;var L=_=null,U=null,ee=t,ie=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(Te&ue)===ue:(ll&ue)===ue){var te=ee.revertLane;if(te===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===La&&(ie=!0);else if((ll&te)===te){ee=ee.next,te===La&&(ie=!0);continue}else ue={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},U===null?(L=U=ue,_=s):U=U.next=ue,Ne.lanes|=te,zl|=te;ue=ee.action,na&&n(s,ue),s=ee.hasEagerState?ee.eagerState:n(s,ue)}else te={lane:ue,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},U===null?(L=U=te,_=s):U=U.next=te,Ne.lanes|=ue,zl|=ue;ee=ee.next}while(ee!==null&&ee!==t);if(U===null?_=s:U.next=L,!xn(s,e.memoizedState)&&(vt=!0,ie&&(n=Ea,n!==null)))throw n;e.memoizedState=s,e.baseState=_,e.baseQueue=U,l.lastRenderedState=s}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Iu(e){var t=ft(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,s=t.memoizedState;if(c!==null){n.pending=null;var _=c=c.next;do s=e(s,_.action),_=_.next;while(_!==c);xn(s,t.memoizedState)||(vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Zs(e,t,n){var l=Ne,c=ft(),s=qe;if(s){if(n===void 0)throw Error(r(407));n=n()}else n=t();var _=!xn((Je||c).memoizedState,n);if(_&&(c.memoizedState=n,vt=!0),c=c.queue,Zu(Vs.bind(null,l,c,e),[e]),c.getSnapshot!==t||_||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},Js.bind(null,l,c,n,t),null),Pe===null)throw Error(r(349));s||(ll&127)!==0||Xs(l,t,n)}return n}function Xs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t=Br(),Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Js(e,t,n,l){t.value=n,t.getSnapshot=l,Ws(t)&&Qs(e)}function Vs(e,t,n){return n(function(){Ws(t)&&Qs(e)})}function Ws(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function Qs(e){var t=Jl(e,2);t!==null&&en(t,e,2)}function Uu(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),na){Ce(!0);try{n()}finally{Ce(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:e},t}function Ps(e,t,n,l){return e.baseState=n,Yu(e,Je,typeof l=="function"?l:al)}function t2(e,t,n,l,c){if(Or(e))throw Error(r(485));if(e=t.action,e!==null){var s={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){s.listeners.push(_)}};j.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,Fs(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Fs(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var s=j.T,_={};j.T=_;try{var L=n(c,l),U=j.S;U!==null&&U(_,L),$s(e,t,L)}catch(ee){Ku(e,t,ee)}finally{s!==null&&_.types!==null&&(s.types=_.types),j.T=s}}else try{s=n(c,l),$s(e,t,s)}catch(ee){Ku(e,t,ee)}}function $s(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){eo(e,t,l)},function(l){return Ku(e,t,l)}):eo(e,t,n)}function eo(e,t,n){t.status="fulfilled",t.value=n,to(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Fs(e,n)))}function Ku(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,to(t),t=t.next;while(t!==l)}e.action=null}function to(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function no(e,t){return t}function lo(e,t){if(qe){var n=Pe.formState;if(n!==null){e:{var l=Ne;if(qe){if(nt){t:{for(var c=nt,s=Mn;c.nodeType!==8;){if(!s){c=null;break t}if(c=Dn(c.nextSibling),c===null){c=null;break t}}s=c.data,c=s==="F!"||s==="F"?c:null}if(c){nt=Dn(c.nextSibling),l=c.data==="F!";break e}}vl(l)}l=!1}l&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:t},n.queue=l,n=Co.bind(null,Ne,l),l.dispatch=n,l=Uu(!1),s=Qu.bind(null,Ne,!1,l.queue),l=Kt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=t2.bind(null,Ne,c,s,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function ao(e){var t=ft();return io(t,Je,e)}function io(e,t,n){if(t=Yu(e,t,no)[0],e=kr(al)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ji(t)}catch(_){throw _===Ta?Mr:_}else l=t;t=ft();var c=t.queue,s=c.dispatch;return n!==t.memoizedState&&(Ne.flags|=2048,Ga(9,{destroy:void 0},n2.bind(null,c,n),null)),[l,s,e]}function n2(e,t){e.action=t}function ro(e){var t=ft(),n=Je;if(n!==null)return io(t,n,e);ft(),t=t.memoizedState,n=ft();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ga(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Ne.updateQueue,t===null&&(t=Br(),Ne.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function uo(){return ft().memoizedState}function Rr(e,t,n,l){var c=Kt();Ne.flags|=e,c.memoizedState=Ga(1|t,{destroy:void 0},n,l===void 0?null:l)}function Gr(e,t,n,l){var c=ft();l=l===void 0?null:l;var s=c.memoizedState.inst;Je!==null&&l!==null&&qu(l,Je.memoizedState.deps)?c.memoizedState=Ga(t,s,n,l):(Ne.flags|=e,c.memoizedState=Ga(1|t,s,n,l))}function co(e,t){Rr(8390656,8,e,t)}function Zu(e,t){Gr(2048,8,e,t)}function l2(e){Ne.flags|=4;var t=Ne.updateQueue;if(t===null)t=Br(),Ne.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function xo(e){var t=ft().memoizedState;return l2({ref:t,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function so(e,t){return Gr(4,2,e,t)}function oo(e,t){return Gr(4,4,e,t)}function fo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ho(e,t,n){n=n!=null?n.concat([e]):null,Gr(4,4,fo.bind(null,t,e),n)}function Xu(){}function mo(e,t){var n=ft();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&qu(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function bo(e,t){var n=ft();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&qu(t,l[1]))return l[0];if(l=e(),na){Ce(!0);try{e()}finally{Ce(!1)}}return n.memoizedState=[l,t],l}function Ju(e,t,n){return n===void 0||(ll&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=vf(),Ne.lanes|=e,zl|=e,n)}function go(e,t,n,l){return xn(n,t)?n:qa.current!==null?(e=Ju(e,n,l),xn(e,t)||(vt=!0),e):(ll&42)===0||(ll&1073741824)!==0&&(Te&261930)===0?(vt=!0,e.memoizedState=n):(e=vf(),Ne.lanes|=e,zl|=e,t)}function vo(e,t,n,l,c){var s=E.p;E.p=s!==0&&8>s?s:8;var _=j.T,L={};j.T=L,Qu(e,!1,t,n);try{var U=c(),ee=j.S;if(ee!==null&&ee(L,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ie=F1(U,l);Mi(e,t,ie,mn(e))}else Mi(e,t,l,mn(e))}catch(ue){Mi(e,t,{then:function(){},status:"rejected",reason:ue},mn())}finally{E.p=s,_!==null&&L.types!==null&&(_.types=L.types),j.T=_}}function a2(){}function Vu(e,t,n,l){if(e.tag!==5)throw Error(r(476));var c=yo(e).queue;vo(e,c,t,O,n===null?a2:function(){return po(e),n(l)})}function yo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:O},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function po(e){var t=yo(e);t.next===null&&(t=e.alternate.memoizedState),Mi(e,t.next.queue,{},mn())}function Wu(){return kt(Ui)}function _o(){return ft().memoizedState}function So(){return ft().memoizedState}function i2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mn();e=_l(n);var l=Sl(t,e,n);l!==null&&(en(l,t,n),_i(l,t,n)),t={cache:wu()},e.payload=t;return}t=t.return}}function r2(e,t,n){var l=mn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Or(e)?wo(t,n):(n=du(e,t,n,l),n!==null&&(en(n,e,l),jo(n,t,l)))}function Co(e,t,n){var l=mn();Mi(e,t,n,l)}function Mi(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Or(e))wo(t,c);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var _=t.lastRenderedState,L=s(_,n);if(c.hasEagerState=!0,c.eagerState=L,xn(L,_))return yr(e,t,c,0),Pe===null&&vr(),!1}catch{}if(n=du(e,t,c,l),n!==null)return en(n,e,l),jo(n,t,l),!0}return!1}function Qu(e,t,n,l){if(l={lane:2,revertLane:Dc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Or(e)){if(t)throw Error(r(479))}else t=du(e,n,l,2),t!==null&&en(t,e,2)}function Or(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function wo(e,t){ka=Er=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ni(e,n)}}var zi={readContext:kt,use:qr,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};zi.useEffectEvent=xt;var Mo={readContext:kt,use:qr,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:co,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Rr(4194308,4,fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rr(4194308,4,e,t)},useInsertionEffect:function(e,t){Rr(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var l=e();if(na){Ce(!0);try{e()}finally{Ce(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Kt();if(n!==void 0){var c=n(t);if(na){Ce(!0);try{n(t)}finally{Ce(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=r2.bind(null,Ne,e),[l.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Uu(e);var t=e.queue,n=Co.bind(null,Ne,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xu,useDeferredValue:function(e,t){var n=Kt();return Ju(n,e,t)},useTransition:function(){var e=Uu(!1);return e=vo.bind(null,Ne,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Ne,c=Kt();if(qe){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Pe===null)throw Error(r(349));(Te&127)!==0||Xs(l,t,n)}c.memoizedState=n;var s={value:n,getSnapshot:t};return c.queue=s,co(Vs.bind(null,l,s,e),[e]),l.flags|=2048,Ga(9,{destroy:void 0},Js.bind(null,l,s,n,t),null),n},useId:function(){var e=Kt(),t=Pe.identifierPrefix;if(qe){var n=Zn,l=Kn;n=(l&~(1<<32-ye(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Tr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=$1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Wu,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Qu.bind(null,Ne,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hu,useCacheRefresh:function(){return Kt().memoizedState=i2.bind(null,Ne)},useEffectEvent:function(e){var t=Kt(),n={impl:e};return t.memoizedState=n,function(){if((Ie&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Pu={readContext:kt,use:qr,useCallback:mo,useContext:kt,useEffect:Zu,useImperativeHandle:ho,useInsertionEffect:so,useLayoutEffect:oo,useMemo:bo,useReducer:kr,useRef:uo,useState:function(){return kr(al)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=ft();return go(n,Je.memoizedState,e,t)},useTransition:function(){var e=kr(al)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:ji(e),t]},useSyncExternalStore:Zs,useId:_o,useHostTransitionStatus:Wu,useFormState:ao,useActionState:ao,useOptimistic:function(e,t){var n=ft();return Ps(n,Je,e,t)},useMemoCache:Hu,useCacheRefresh:So};Pu.useEffectEvent=xo;var zo={readContext:kt,use:qr,useCallback:mo,useContext:kt,useEffect:Zu,useImperativeHandle:ho,useInsertionEffect:so,useLayoutEffect:oo,useMemo:bo,useReducer:Iu,useRef:uo,useState:function(){return Iu(al)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=ft();return Je===null?Ju(n,e,t):go(n,Je.memoizedState,e,t)},useTransition:function(){var e=Iu(al)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:ji(e),t]},useSyncExternalStore:Zs,useId:_o,useHostTransitionStatus:Wu,useFormState:ro,useActionState:ro,useOptimistic:function(e,t){var n=ft();return Je!==null?Ps(n,Je,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hu,useCacheRefresh:So};zo.useEffectEvent=xo;function Fu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $u={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=mn(),c=_l(l);c.payload=t,n!=null&&(c.callback=n),t=Sl(e,c,l),t!==null&&(en(t,e,l),_i(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=mn(),c=_l(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Sl(e,c,l),t!==null&&(en(t,e,l),_i(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),l=_l(n);l.tag=2,t!=null&&(l.callback=t),t=Sl(e,l,n),t!==null&&(en(t,e,n),_i(t,e,n))}};function Do(e,t,n,l,c,s,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,_):t.prototype&&t.prototype.isPureReactComponent?!di(n,l)||!di(c,s):!0}function No(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&$u.enqueueReplaceState(t,t.state,null)}function la(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=p({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Ao(e){gr(e)}function Lo(e){console.error(e)}function Eo(e){gr(e)}function Hr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function To(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ec(e,t,n){return n=_l(n),n.tag=3,n.payload={element:null},n.callback=function(){Hr(e,t)},n}function Bo(e){return e=_l(e),e.tag=3,e}function qo(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var s=l.value;e.payload=function(){return c(s)},e.callback=function(){To(t,n,l)}}var _=n.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){To(t,n,l),typeof c!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function u2(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Aa(t,n,c,!0),n=on.current,n!==null){switch(n.tag){case 31:case 13:return zn===null?Fr():n.alternate===null&&st===0&&(st=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===zr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),jc(e,l,c)),!1;case 22:return n.flags|=65536,l===zr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),jc(e,l,c)),!1}throw Error(r(435,n.tag))}return jc(e,l,c),Fr(),!1}if(qe)return t=on.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==yu&&(e=Error(r(422),{cause:l}),bi(Cn(e,n)))):(l!==yu&&(t=Error(r(423),{cause:l}),bi(Cn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Cn(l,n),c=ec(e.stateNode,l,c),Au(e,c),st!==4&&(st=2)),!1;var s=Error(r(520),{cause:l});if(s=Cn(s,n),qi===null?qi=[s]:qi.push(s),st!==4&&(st=2),t===null)return!0;l=Cn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=ec(n.stateNode,l,e),Au(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Dl===null||!Dl.has(s))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Bo(c),qo(c,e,n,l),Au(n,c),!1}n=n.return}while(n!==null);return!1}var tc=Error(r(461)),vt=!1;function Rt(e,t,n,l){t.child=e===null?Gs(t,null,n,l):ta(t,e.child,n,l)}function ko(e,t,n,l,c){n=n.render;var s=t.ref;if("ref"in l){var _={};for(var L in l)L!=="ref"&&(_[L]=l[L])}else _=l;return Pl(t),l=ku(e,t,n,_,s,c),L=Ru(),e!==null&&!vt?(Gu(e,t,c),il(e,t,c)):(qe&&L&&gu(t),t.flags|=1,Rt(e,t,l,c),t.child)}function Ro(e,t,n,l,c){if(e===null){var s=n.type;return typeof s=="function"&&!hu(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Go(e,t,s,l,c)):(e=_r(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!xc(e,c)){var _=s.memoizedProps;if(n=n.compare,n=n!==null?n:di,n(_,l)&&e.ref===t.ref)return il(e,t,c)}return t.flags|=1,e=$n(s,l),e.ref=t.ref,e.return=t,t.child=e}function Go(e,t,n,l,c){if(e!==null){var s=e.memoizedProps;if(di(s,l)&&e.ref===t.ref)if(vt=!1,t.pendingProps=l=s,xc(e,c))(e.flags&131072)!==0&&(vt=!0);else return t.lanes=e.lanes,il(e,t,c)}return nc(e,t,n,l,c)}function Oo(e,t,n,l){var c=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~s}else l=0,t.child=null;return Ho(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&jr(t,s!==null?s.cachePool:null),s!==null?Ys(t,s):Eu(),Is(t);else return l=t.lanes=536870912,Ho(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(jr(t,s.cachePool),Ys(t,s),wl(),t.memoizedState=null):(e!==null&&jr(t,null),Eu(),wl());return Rt(e,t,c,n),t.child}function Di(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ho(e,t,n,l,c){var s=Mu();return s=s===null?null:{parent:bt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&jr(t,null),Eu(),Is(t),e!==null&&Aa(e,t,l,!0),t.childLanes=c,null}function Yr(e,t){return t=Ur({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Yo(e,t,n){return ta(t,e.child,null,n),e=Yr(t,t.pendingProps),e.flags|=2,fn(t),t.memoizedState=null,e}function c2(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(qe){if(l.mode==="hidden")return e=Yr(t,l),t.lanes=536870912,Di(null,e);if(Bu(t),(e=nt)?(e=ed(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bl!==null?{id:Kn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=Cs(e),n.return=t,t.child=n,qt=t,nt=null)):e=null,e===null)throw vl(t);return t.lanes=536870912,null}return Yr(t,l)}var s=e.memoizedState;if(s!==null){var _=s.dehydrated;if(Bu(t),c)if(t.flags&256)t.flags&=-257,t=Yo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(vt||Aa(e,t,n,!1),c=(n&e.childLanes)!==0,vt||c){if(l=Pe,l!==null&&(_=ar(l,n),_!==0&&_!==s.retryLane))throw s.retryLane=_,Jl(e,_),en(l,e,_),tc;Fr(),t=Yo(e,t,n)}else e=s.treeContext,nt=Dn(_.nextSibling),qt=t,qe=!0,gl=null,Mn=!1,e!==null&&Ms(t,e),t=Yr(t,l),t.flags|=4096;return t}return e=$n(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ir(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function nc(e,t,n,l,c){return Pl(t),n=ku(e,t,n,l,void 0,c),l=Ru(),e!==null&&!vt?(Gu(e,t,c),il(e,t,c)):(qe&&l&&gu(t),t.flags|=1,Rt(e,t,n,c),t.child)}function Io(e,t,n,l,c,s){return Pl(t),t.updateQueue=null,n=Ks(t,l,n,c),Us(e),l=Ru(),e!==null&&!vt?(Gu(e,t,s),il(e,t,s)):(qe&&l&&gu(t),t.flags|=1,Rt(e,t,n,s),t.child)}function Uo(e,t,n,l,c){if(Pl(t),t.stateNode===null){var s=Ma,_=n.contextType;typeof _=="object"&&_!==null&&(s=kt(_)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=$u,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Du(t),_=n.contextType,s.context=typeof _=="object"&&_!==null?kt(_):Ma,s.state=t.memoizedState,_=n.getDerivedStateFromProps,typeof _=="function"&&(Fu(t,n,_,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(_=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),_!==s.state&&$u.enqueueReplaceState(s,s.state,null),Ci(t,l,s,c),Si(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var L=t.memoizedProps,U=la(n,L);s.props=U;var ee=s.context,ie=n.contextType;_=Ma,typeof ie=="object"&&ie!==null&&(_=kt(ie));var ue=n.getDerivedStateFromProps;ie=typeof ue=="function"||typeof s.getSnapshotBeforeUpdate=="function",L=t.pendingProps!==L,ie||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(L||ee!==_)&&No(t,s,l,_),pl=!1;var te=t.memoizedState;s.state=te,Ci(t,l,s,c),Si(),ee=t.memoizedState,L||te!==ee||pl?(typeof ue=="function"&&(Fu(t,n,ue,l),ee=t.memoizedState),(U=pl||Do(t,n,U,l,te,ee,_))?(ie||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ee),s.props=l,s.state=ee,s.context=_,l=U):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,Nu(e,t),_=t.memoizedProps,ie=la(n,_),s.props=ie,ue=t.pendingProps,te=s.context,ee=n.contextType,U=Ma,typeof ee=="object"&&ee!==null&&(U=kt(ee)),L=n.getDerivedStateFromProps,(ee=typeof L=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(_!==ue||te!==U)&&No(t,s,l,U),pl=!1,te=t.memoizedState,s.state=te,Ci(t,l,s,c),Si();var le=t.memoizedState;_!==ue||te!==le||pl||e!==null&&e.dependencies!==null&&Cr(e.dependencies)?(typeof L=="function"&&(Fu(t,n,L,l),le=t.memoizedState),(ie=pl||Do(t,n,ie,l,te,le,U)||e!==null&&e.dependencies!==null&&Cr(e.dependencies))?(ee||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,le,U),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,le,U)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||_===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=le),s.props=l,s.state=le,s.context=U,l=ie):(typeof s.componentDidUpdate!="function"||_===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Ir(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ta(t,e.child,null,c),t.child=ta(t,null,n,c)):Rt(e,t,n,c),t.memoizedState=s.state,e=t.child):e=il(e,t,c),e}function Ko(e,t,n,l){return Wl(),t.flags|=256,Rt(e,t,n,l),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ac(e){return{baseLanes:e,cachePool:Es()}}function ic(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=hn),e}function Zo(e,t,n){var l=t.pendingProps,c=!1,s=(t.flags&128)!==0,_;if((_=s)||(_=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),_&&(c=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(c?Cl(t):wl(),(e=nt)?(e=ed(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bl!==null?{id:Kn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=Cs(e),n.return=t,t.child=n,qt=t,nt=null)):e=null,e===null)throw vl(t);return Yc(e)?t.lanes=32:t.lanes=536870912,null}var L=l.children;return l=l.fallback,c?(wl(),c=t.mode,L=Ur({mode:"hidden",children:L},c),l=Vl(l,c,n,null),L.return=t,l.return=t,L.sibling=l,t.child=L,l=t.child,l.memoizedState=ac(n),l.childLanes=ic(e,_,n),t.memoizedState=lc,Di(null,l)):(Cl(t),rc(t,L))}var U=e.memoizedState;if(U!==null&&(L=U.dehydrated,L!==null)){if(s)t.flags&256?(Cl(t),t.flags&=-257,t=uc(e,t,n)):t.memoizedState!==null?(wl(),t.child=e.child,t.flags|=128,t=null):(wl(),L=l.fallback,c=t.mode,l=Ur({mode:"visible",children:l.children},c),L=Vl(L,c,n,null),L.flags|=2,l.return=t,L.return=t,l.sibling=L,t.child=l,ta(t,e.child,null,n),l=t.child,l.memoizedState=ac(n),l.childLanes=ic(e,_,n),t.memoizedState=lc,t=Di(null,l));else if(Cl(t),Yc(L)){if(_=L.nextSibling&&L.nextSibling.dataset,_)var ee=_.dgst;_=ee,l=Error(r(419)),l.stack="",l.digest=_,bi({value:l,source:null,stack:null}),t=uc(e,t,n)}else if(vt||Aa(e,t,n,!1),_=(n&e.childLanes)!==0,vt||_){if(_=Pe,_!==null&&(l=ar(_,n),l!==0&&l!==U.retryLane))throw U.retryLane=l,Jl(e,l),en(_,e,l),tc;Hc(L)||Fr(),t=uc(e,t,n)}else Hc(L)?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,nt=Dn(L.nextSibling),qt=t,qe=!0,gl=null,Mn=!1,e!==null&&Ms(t,e),t=rc(t,l.children),t.flags|=4096);return t}return c?(wl(),L=l.fallback,c=t.mode,U=e.child,ee=U.sibling,l=$n(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,ee!==null?L=$n(ee,L):(L=Vl(L,c,n,null),L.flags|=2),L.return=t,l.return=t,l.sibling=L,t.child=l,Di(null,l),l=t.child,L=e.child.memoizedState,L===null?L=ac(n):(c=L.cachePool,c!==null?(U=bt._currentValue,c=c.parent!==U?{parent:U,pool:U}:c):c=Es(),L={baseLanes:L.baseLanes|n,cachePool:c}),l.memoizedState=L,l.childLanes=ic(e,_,n),t.memoizedState=lc,Di(e.child,l)):(Cl(t),n=e.child,e=n.sibling,n=$n(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=n,t.memoizedState=null,n)}function rc(e,t){return t=Ur({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ur(e,t){return e=sn(22,e,null,t),e.lanes=0,e}function uc(e,t,n){return ta(t,e.child,null,n),e=rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Su(e.return,t,n)}function cc(e,t,n,l,c,s){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:s}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=n,_.tailMode=c,_.treeForkCount=s)}function Jo(e,t,n){var l=t.pendingProps,c=l.revealOrder,s=l.tail;l=l.children;var _=ot.current,L=(_&2)!==0;if(L?(_=_&1|2,t.flags|=128):_&=1,I(ot,_),Rt(e,t,l,n),l=qe?mi:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xo(e,n,t);else if(e.tag===19)Xo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Lr(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),cc(t,!1,c,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Lr(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}cc(t,!0,n,null,s,l);break;case"together":cc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Aa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=$n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Cr(e)))}function x2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),yl(t,bt,e.memoizedState.cache),Wl();break;case 27:case 5:we(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:yl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Cl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Zo(e,t,n):(Cl(t),e=il(e,t,n),e!==null?e.sibling:null);Cl(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Aa(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Jo(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),I(ot,ot.current),l)break;return null;case 22:return t.lanes=0,Oo(e,t,n,t.pendingProps);case 24:yl(t,bt,e.memoizedState.cache)}return il(e,t,n)}function Vo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!xc(e,n)&&(t.flags&128)===0)return vt=!1,x2(e,t,n);vt=(e.flags&131072)!==0}else vt=!1,qe&&(t.flags&1048576)!==0&&js(t,mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=$l(t.elementType),t.type=e,typeof e=="function")hu(e)?(l=la(e,l),t.tag=1,t=Uo(null,t,e,l,n)):(t.tag=0,t=nc(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===T){t.tag=11,t=ko(null,t,e,l,n);break e}else if(c===R){t.tag=14,t=Ro(null,t,e,l,n);break e}}throw t=N(e)||e,Error(r(306,t,""))}}return t;case 0:return nc(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=la(l,t.pendingProps),Uo(e,t,l,c,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var s=t.memoizedState;c=s.element,Nu(e,t),Ci(t,l,null,n);var _=t.memoizedState;if(l=_.cache,yl(t,bt,l),l!==s.cache&&Cu(t,[bt],n,!0),Si(),l=_.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Ko(e,t,l,n);break e}else if(l!==c){c=Cn(Error(r(424)),t),bi(c),t=Ko(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,nt=Dn(e.firstChild),qt=t,qe=!0,gl=null,Mn=!0,n=Gs(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wl(),l===c){t=il(e,t,n);break e}Rt(e,t,l,n)}t=t.child}return t;case 26:return Ir(e,t),e===null?(n=rd(t.type,null,t.pendingProps,null))?t.memoizedState=n:qe||(n=t.type,e=t.pendingProps,l=i0(se.current).createElement(n),l[St]=t,l[Yt]=e,Gt(l,n,e),Nt(l),t.stateNode=l):t.memoizedState=rd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&qe&&(l=t.stateNode=ld(t.type,t.pendingProps,se.current),qt=t,Mn=!0,c=nt,El(t.type)?(Ic=c,nt=Dn(l.firstChild)):nt=c),Rt(e,t,t.pendingProps.children,n),Ir(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&qe&&((c=l=nt)&&(l=O2(l,t.type,t.pendingProps,Mn),l!==null?(t.stateNode=l,qt=t,nt=Dn(l.firstChild),Mn=!1,c=!0):c=!1),c||vl(t)),we(t),c=t.type,s=t.pendingProps,_=e!==null?e.memoizedProps:null,l=s.children,Rc(c,s)?l=null:_!==null&&Rc(c,_)&&(t.flags|=32),t.memoizedState!==null&&(c=ku(e,t,e2,null,null,n),Ui._currentValue=c),Ir(e,t),Rt(e,t,l,n),t.child;case 6:return e===null&&qe&&((e=n=nt)&&(n=H2(n,t.pendingProps,Mn),n!==null?(t.stateNode=n,qt=t,nt=null,e=!0):e=!1),e||vl(t)),null;case 13:return Zo(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ta(t,null,l,n):Rt(e,t,l,n),t.child;case 11:return ko(e,t,t.type,t.pendingProps,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,yl(t,t.type,l.value),Rt(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Pl(t),c=kt(c),l=l(c),t.flags|=1,Rt(e,t,l,n),t.child;case 14:return Ro(e,t,t.type,t.pendingProps,n);case 15:return Go(e,t,t.type,t.pendingProps,n);case 19:return Jo(e,t,n);case 31:return c2(e,t,n);case 22:return Oo(e,t,n,t.pendingProps);case 24:return Pl(t),l=kt(bt),e===null?(c=Mu(),c===null&&(c=Pe,s=wu(),c.pooledCache=s,s.refCount++,s!==null&&(c.pooledCacheLanes|=n),c=s),t.memoizedState={parent:l,cache:c},Du(t),yl(t,bt,c)):((e.lanes&n)!==0&&(Nu(e,t),Ci(t,null,null,n),Si()),c=e.memoizedState,s=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),yl(t,bt,l)):(l=s.cache,yl(t,bt,l),l!==c.cache&&Cu(t,[bt],n,!0))),Rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function rl(e){e.flags|=4}function sc(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Sf())e.flags|=8192;else throw ea=zr,zu}else e.flags&=-16777217}function Wo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!od(t))if(Sf())e.flags|=8192;else throw ea=zr,zu}function Kr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?vn():536870912,e.lanes|=t,Ia|=t)}function Ni(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function s2(e,t,n){var l=t.pendingProps;switch(vu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return lt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),nl(bt),be(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Na(t)?rl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,pu())),lt(t),null;case 26:var c=t.type,s=t.memoizedState;return e===null?(rl(t),s!==null?(lt(t),Wo(t,s)):(lt(t),sc(t,c,null,l,n))):s?s!==e.memoizedState?(rl(t),lt(t),Wo(t,s)):(lt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&rl(t),lt(t),sc(t,c,e,l,n)),null;case 27:if(he(t),n=se.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&rl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return lt(t),null}e=X.current,Na(t)?zs(t):(e=ld(c,l,n),t.stateNode=e,rl(t))}return lt(t),null;case 5:if(he(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&rl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return lt(t),null}if(s=X.current,Na(t))zs(t);else{var _=i0(se.current);switch(s){case 1:s=_.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=_.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=_.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=_.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?_.createElement(c,{is:l.is}):_.createElement(c)}}s[St]=t,s[Yt]=l;e:for(_=t.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}t.stateNode=s;e:switch(Gt(s,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rl(t)}}return lt(t),sc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&rl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=se.current,Na(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=qt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[St]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Xf(e.nodeValue,n)),e||vl(t,!0)}else e=i0(e).createTextNode(l),e[St]=t,t.stateNode=e}return lt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Na(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[St]=t}else Wl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),e=!1}else n=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(fn(t),t):(fn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return lt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Na(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[St]=t}else Wl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),c=!1}else c=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(fn(t),t):(fn(t),null)}return fn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kr(t,t.updateQueue),lt(t),null);case 4:return be(),e===null&&Ec(t.stateNode.containerInfo),lt(t),null;case 10:return nl(t.type),lt(t),null;case 19:if(q(ot),l=t.memoizedState,l===null)return lt(t),null;if(c=(t.flags&128)!==0,s=l.rendering,s===null)if(c)Ni(l,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Lr(e),s!==null){for(t.flags|=128,Ni(l,!1),e=s.updateQueue,t.updateQueue=e,Kr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ss(n,e),n=n.sibling;return I(ot,ot.current&1|2),qe&&el(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&dt()>Wr&&(t.flags|=128,c=!0,Ni(l,!1),t.lanes=4194304)}else{if(!c)if(e=Lr(s),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Kr(t,e),Ni(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!qe)return lt(t),null}else 2*dt()-l.renderingStartTime>Wr&&n!==536870912&&(t.flags|=128,c=!0,Ni(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=dt(),e.sibling=null,n=ot.current,I(ot,c?n&1|2:n&1),qe&&el(t,l.treeForkCount),e):(lt(t),null);case 22:case 23:return fn(t),Tu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),n=t.updateQueue,n!==null&&Kr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&q(Fl),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),nl(bt),lt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function o2(e,t){switch(vu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nl(bt),be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(fn(t),t.alternate===null)throw Error(r(340));Wl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Wl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(ot),null;case 4:return be(),null;case 10:return nl(t.type),null;case 22:case 23:return fn(t),Tu(),e!==null&&q(Fl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nl(bt),null;case 25:return null;default:return null}}function Qo(e,t){switch(vu(t),t.tag){case 3:nl(bt),be();break;case 26:case 27:case 5:he(t);break;case 4:be();break;case 31:t.memoizedState!==null&&fn(t);break;case 13:fn(t);break;case 19:q(ot);break;case 10:nl(t.type);break;case 22:case 23:fn(t),Tu(),e!==null&&q(Fl);break;case 24:nl(bt)}}function Ai(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var s=n.create,_=n.inst;l=s(),_.destroy=l}n=n.next}while(n!==c)}}catch(L){Xe(t,t.return,L)}}function jl(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var s=c.next;l=s;do{if((l.tag&e)===e){var _=l.inst,L=_.destroy;if(L!==void 0){_.destroy=void 0,c=t;var U=n,ee=L;try{ee()}catch(ie){Xe(c,U,ie)}}}l=l.next}while(l!==s)}}catch(ie){Xe(t,t.return,ie)}}function Po(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Hs(t,n)}catch(l){Xe(e,e.return,l)}}}function Fo(e,t,n){n.props=la(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Xe(e,t,l)}}function Li(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){Xe(e,t,c)}}function Xn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){Xe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Xe(e,t,c)}else n.current=null}function $o(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){Xe(e,e.return,c)}}function oc(e,t,n){try{var l=e.stateNode;T2(l,e.type,n,t),l[Yt]=t}catch(c){Xe(e,e.return,c)}}function ef(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&El(e.type)||e.tag===4}function fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&El(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pn));else if(l!==4&&(l===27&&El(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(dc(e,t,n),e=e.sibling;e!==null;)dc(e,t,n),e=e.sibling}function Zr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&El(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Zr(e,t,n),e=e.sibling;e!==null;)Zr(e,t,n),e=e.sibling}function tf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Gt(t,l,n),t[St]=e,t[Yt]=n}catch(s){Xe(e,e.return,s)}}var ul=!1,yt=!1,hc=!1,nf=typeof WeakSet=="function"?WeakSet:Set,At=null;function f2(e,t){if(e=e.containerInfo,qc=f0,e=ds(e),uu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var _=0,L=-1,U=-1,ee=0,ie=0,ue=e,te=null;t:for(;;){for(var le;ue!==n||c!==0&&ue.nodeType!==3||(L=_+c),ue!==s||l!==0&&ue.nodeType!==3||(U=_+l),ue.nodeType===3&&(_+=ue.nodeValue.length),(le=ue.firstChild)!==null;)te=ue,ue=le;for(;;){if(ue===e)break t;if(te===n&&++ee===c&&(L=_),te===s&&++ie===l&&(U=_),(le=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=le}n=L===-1||U===-1?null:{start:L,end:U}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:e,selectionRange:n},f0=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){switch(t=At,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,c=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var me=la(n.type,c);e=l.getSnapshotBeforeUpdate(me,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(_e){Xe(n,n.return,_e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Oc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Oc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}}function lf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:xl(e,n),l&4&&Ai(5,n);break;case 1:if(xl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(_){Xe(n,n.return,_)}else{var c=la(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(n,n.return,_)}}l&64&&Po(n),l&512&&Li(n,n.return);break;case 3:if(xl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Hs(e,t)}catch(_){Xe(n,n.return,_)}}break;case 27:t===null&&l&4&&tf(n);case 26:case 5:xl(e,n),t===null&&l&4&&$o(n),l&512&&Li(n,n.return);break;case 12:xl(e,n);break;case 31:xl(e,n),l&4&&uf(e,n);break;case 13:xl(e,n),l&4&&cf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_2.bind(null,n),Y2(e,n))));break;case 22:if(l=n.memoizedState!==null||ul,!l){t=t!==null&&t.memoizedState!==null||yt,c=ul;var s=yt;ul=l,(yt=t)&&!s?sl(e,n,(n.subtreeFlags&8772)!==0):xl(e,n),ul=c,yt=s}break;case 30:break;default:xl(e,n)}}function af(e){var t=e.alternate;t!==null&&(e.alternate=null,af(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ai(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Qt=!1;function cl(e,t,n){for(n=n.child;n!==null;)rf(e,t,n),n=n.sibling}function rf(e,t,n){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(je,n)}catch{}switch(n.tag){case 26:yt||Xn(n,t),cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:yt||Xn(n,t);var l=rt,c=Qt;El(n.type)&&(rt=n.stateNode,Qt=!1),cl(e,t,n),Hi(n.stateNode),rt=l,Qt=c;break;case 5:yt||Xn(n,t);case 6:if(l=rt,c=Qt,rt=null,cl(e,t,n),rt=l,Qt=c,rt!==null)if(Qt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(n.stateNode)}catch(s){Xe(n,t,s)}else try{rt.removeChild(n.stateNode)}catch(s){Xe(n,t,s)}break;case 18:rt!==null&&(Qt?(e=rt,Ff(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Qa(e)):Ff(rt,n.stateNode));break;case 4:l=rt,c=Qt,rt=n.stateNode.containerInfo,Qt=!0,cl(e,t,n),rt=l,Qt=c;break;case 0:case 11:case 14:case 15:jl(2,n,t),yt||jl(4,n,t),cl(e,t,n);break;case 1:yt||(Xn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Fo(n,t,l)),cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:yt=(l=yt)||n.memoizedState!==null,cl(e,t,n),yt=l;break;default:cl(e,t,n)}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(n){Xe(t,t.return,n)}}}function cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(n){Xe(t,t.return,n)}}function d2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nf),t;default:throw Error(r(435,e.tag))}}function Xr(e,t){var n=d2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=S2.bind(null,e,l);l.then(c,c)}})}function Pt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],s=e,_=t,L=_;e:for(;L!==null;){switch(L.tag){case 27:if(El(L.type)){rt=L.stateNode,Qt=!1;break e}break;case 5:rt=L.stateNode,Qt=!1;break e;case 3:case 4:rt=L.stateNode.containerInfo,Qt=!0;break e}L=L.return}if(rt===null)throw Error(r(160));rf(s,_,c),rt=null,Qt=!1,s=c.alternate,s!==null&&(s.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xf(t,e),t=t.sibling}var Rn=null;function xf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(t,e),Ft(e),l&4&&(jl(3,e,e.return),Ai(3,e),jl(5,e,e.return));break;case 1:Pt(t,e),Ft(e),l&512&&(yt||n===null||Xn(n,n.return)),l&64&&ul&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Rn;if(Pt(t,e),Ft(e),l&512&&(yt||n===null||Xn(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":s=c.getElementsByTagName("title")[0],(!s||s[cn]||s[St]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=c.createElement(l),c.head.insertBefore(s,c.querySelector("head > title"))),Gt(s,l,n),s[St]=e,Nt(s),l=s;break e;case"link":var _=xd("link","href",c).get(l+(n.href||""));if(_){for(var L=0;L<_.length;L++)if(s=_[L],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){_.splice(L,1);break t}}s=c.createElement(l),Gt(s,l,n),c.head.appendChild(s);break;case"meta":if(_=xd("meta","content",c).get(l+(n.content||""))){for(L=0;L<_.length;L++)if(s=_[L],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){_.splice(L,1);break t}}s=c.createElement(l),Gt(s,l,n),c.head.appendChild(s);break;default:throw Error(r(468,l))}s[St]=e,Nt(s),l=s}e.stateNode=l}else sd(c,e.type,e.stateNode);else e.stateNode=cd(c,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?sd(c,e.type,e.stateNode):cd(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&oc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pt(t,e),Ft(e),l&512&&(yt||n===null||Xn(n,n.return)),n!==null&&l&4&&oc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pt(t,e),Ft(e),l&512&&(yt||n===null||Xn(n,n.return)),e.flags&32){c=e.stateNode;try{ya(c,"")}catch(me){Xe(e,e.return,me)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,oc(e,c,n!==null?n.memoizedProps:c)),l&1024&&(hc=!0);break;case 6:if(Pt(t,e),Ft(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(me){Xe(e,e.return,me)}}break;case 3:if(c0=null,c=Rn,Rn=r0(t.containerInfo),Pt(t,e),Rn=c,Ft(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Qa(t.containerInfo)}catch(me){Xe(e,e.return,me)}hc&&(hc=!1,sf(e));break;case 4:l=Rn,Rn=r0(e.stateNode.containerInfo),Pt(t,e),Ft(e),Rn=l;break;case 12:Pt(t,e),Ft(e);break;case 31:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xr(e,l)));break;case 13:Pt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Vr=dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xr(e,l)));break;case 22:c=e.memoizedState!==null;var U=n!==null&&n.memoizedState!==null,ee=ul,ie=yt;if(ul=ee||c,yt=ie||U,Pt(t,e),yt=ie,ul=ee,Ft(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||U||ul||yt||aa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){U=n=t;try{if(s=U.stateNode,c)_=s.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{L=U.stateNode;var ue=U.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;L.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(me){Xe(U,U.return,me)}}}else if(t.tag===6){if(n===null){U=t;try{U.stateNode.nodeValue=c?"":U.memoizedProps}catch(me){Xe(U,U.return,me)}}}else if(t.tag===18){if(n===null){U=t;try{var le=U.stateNode;c?$f(le,!0):$f(U.stateNode,!1)}catch(me){Xe(U,U.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Xr(e,n))));break;case 19:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xr(e,l)));break;case 30:break;case 21:break;default:Pt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(ef(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var c=n.stateNode,s=fc(e);Zr(e,s,c);break;case 5:var _=n.stateNode;n.flags&32&&(ya(_,""),n.flags&=-33);var L=fc(e);Zr(e,L,_);break;case 3:case 4:var U=n.stateNode.containerInfo,ee=fc(e);dc(e,ee,U);break;default:throw Error(r(161))}}catch(ie){Xe(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lf(e,t.alternate,t),t=t.sibling}function aa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jl(4,t,t.return),aa(t);break;case 1:Xn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Fo(t,t.return,n),aa(t);break;case 27:Hi(t.stateNode);case 26:case 5:Xn(t,t.return),aa(t);break;case 22:t.memoizedState===null&&aa(t);break;case 30:aa(t);break;default:aa(t)}e=e.sibling}}function sl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,s=t,_=s.flags;switch(s.tag){case 0:case 11:case 15:sl(c,s,n),Ai(4,s);break;case 1:if(sl(c,s,n),l=s,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(ee){Xe(l,l.return,ee)}if(l=s,c=l.updateQueue,c!==null){var L=l.stateNode;try{var U=c.shared.hiddenCallbacks;if(U!==null)for(c.shared.hiddenCallbacks=null,c=0;c<U.length;c++)Os(U[c],L)}catch(ee){Xe(l,l.return,ee)}}n&&_&64&&Po(s),Li(s,s.return);break;case 27:tf(s);case 26:case 5:sl(c,s,n),n&&l===null&&_&4&&$o(s),Li(s,s.return);break;case 12:sl(c,s,n);break;case 31:sl(c,s,n),n&&_&4&&uf(c,s);break;case 13:sl(c,s,n),n&&_&4&&cf(c,s);break;case 22:s.memoizedState===null&&sl(c,s,n),Li(s,s.return);break;case 30:break;default:sl(c,s,n)}t=t.sibling}}function mc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&gi(n))}function bc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gi(e))}function Gn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)of(e,t,n,l),t=t.sibling}function of(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Gn(e,t,n,l),c&2048&&Ai(9,t);break;case 1:Gn(e,t,n,l);break;case 3:Gn(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gi(e)));break;case 12:if(c&2048){Gn(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,_=s.id,L=s.onPostCommit;typeof L=="function"&&L(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Xe(t,t.return,U)}}else Gn(e,t,n,l);break;case 31:Gn(e,t,n,l);break;case 13:Gn(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,_=t.alternate,t.memoizedState!==null?s._visibility&2?Gn(e,t,n,l):Ei(e,t):s._visibility&2?Gn(e,t,n,l):(s._visibility|=2,Oa(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&mc(_,t);break;case 24:Gn(e,t,n,l),c&2048&&bc(t.alternate,t);break;default:Gn(e,t,n,l)}}function Oa(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,_=t,L=n,U=l,ee=_.flags;switch(_.tag){case 0:case 11:case 15:Oa(s,_,L,U,c),Ai(8,_);break;case 23:break;case 22:var ie=_.stateNode;_.memoizedState!==null?ie._visibility&2?Oa(s,_,L,U,c):Ei(s,_):(ie._visibility|=2,Oa(s,_,L,U,c)),c&&ee&2048&&mc(_.alternate,_);break;case 24:Oa(s,_,L,U,c),c&&ee&2048&&bc(_.alternate,_);break;default:Oa(s,_,L,U,c)}t=t.sibling}}function Ei(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Ei(n,l),c&2048&&mc(l.alternate,l);break;case 24:Ei(n,l),c&2048&&bc(l.alternate,l);break;default:Ei(n,l)}t=t.sibling}}var Ti=8192;function Ha(e,t,n){if(e.subtreeFlags&Ti)for(e=e.child;e!==null;)ff(e,t,n),e=e.sibling}function ff(e,t,n){switch(e.tag){case 26:Ha(e,t,n),e.flags&Ti&&e.memoizedState!==null&&$2(n,Rn,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,t,n);break;case 3:case 4:var l=Rn;Rn=r0(e.stateNode.containerInfo),Ha(e,t,n),Rn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ti,Ti=16777216,Ha(e,t,n),Ti=l):Ha(e,t,n));break;default:Ha(e,t,n)}}function df(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];At=l,mf(l,e)}df(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hf(e),e=e.sibling}function hf(e){switch(e.tag){case 0:case 11:case 15:Bi(e),e.flags&2048&&jl(9,e,e.return);break;case 3:Bi(e);break;case 12:Bi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Jr(e)):Bi(e);break;default:Bi(e)}}function Jr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];At=l,mf(l,e)}df(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:jl(8,t,t.return),Jr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Jr(t));break;default:Jr(t)}e=e.sibling}}function mf(e,t){for(;At!==null;){var n=At;switch(n.tag){case 0:case 11:case 15:jl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,At=l;else e:for(n=e;At!==null;){l=At;var c=l.sibling,s=l.return;if(af(l),l===n){At=null;break e}if(c!==null){c.return=s,At=c;break e}At=s}}}var h2={getCacheForType:function(e){var t=kt(bt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return kt(bt).controller.signal}},m2=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Pe=null,Le=null,Te=0,Ze=0,dn=null,Ml=!1,Ya=!1,gc=!1,ol=0,st=0,zl=0,ia=0,vc=0,hn=0,Ia=0,qi=null,$t=null,yc=!1,Vr=0,bf=0,Wr=1/0,Qr=null,Dl=null,Ct=0,Nl=null,Ua=null,fl=0,pc=0,_c=null,gf=null,ki=0,Sc=null;function mn(){return(Ie&2)!==0&&Te!==0?Te&-Te:j.T!==null?Dc():ir()}function vf(){if(hn===0)if((Te&536870912)===0||qe){var e=$e;$e<<=1,($e&3932160)===0&&($e=262144),hn=e}else hn=536870912;return e=on.current,e!==null&&(e.flags|=32),hn}function en(e,t,n){(e===Pe&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)&&(Ka(e,0),Al(e,Te,hn,!1)),ct(e,n),((Ie&2)===0||e!==Pe)&&(e===Pe&&((Ie&2)===0&&(ia|=n),st===4&&Al(e,Te,hn,!1)),Jn(e))}function yf(e,t,n){if((Ie&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||qn(e,t),c=l?v2(e,t):wc(e,t,!0),s=l;do{if(c===0){Ya&&!l&&Al(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!b2(n)){c=wc(e,t,!1),s=!1;continue}if(c===2){if(s=t,e.errorRecoveryDisabledLanes&s)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var L=e;c=qi;var U=L.current.memoizedState.isDehydrated;if(U&&(Ka(L,_).flags|=256),_=wc(L,_,!1),_!==2){if(gc&&!U){L.errorRecoveryDisabledLanes|=s,ia|=s,c=4;break e}s=$t,$t=c,s!==null&&($t===null?$t=s:$t.push.apply($t,s))}c=_}if(s=!1,c!==2)continue}}if(c===1){Ka(e,0),Al(e,t,0,!0);break}e:{switch(l=e,s=c,s){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Al(l,t,hn,!Ml);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=Vr+300-dt(),10<c)){if(Al(l,t,hn,!Ml),Ke(l,0,!0)!==0)break e;fl=t,l.timeoutHandle=Qf(pf.bind(null,l,n,$t,Qr,yc,t,hn,ia,Ia,Ml,s,"Throttled",-0,0),c);break e}pf(l,n,$t,Qr,yc,t,hn,ia,Ia,Ml,s,null,-0,0)}}break}while(!0);Jn(e)}function pf(e,t,n,l,c,s,_,L,U,ee,ie,ue,te,le){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},ff(t,s,ue);var me=(s&62914560)===s?Vr-dt():(s&4194048)===s?bf-dt():0;if(me=eh(ue,me),me!==null){fl=s,e.cancelPendingCommit=me(Df.bind(null,e,t,s,n,l,c,_,L,U,ie,ue,null,te,le)),Al(e,s,_,!ee);return}}Df(e,t,s,n,l,c,_,L,U)}function b2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],s=c.getSnapshot;c=c.value;try{if(!xn(s(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Al(e,t,n,l){t&=~vc,t&=~ia,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var s=31-ye(c),_=1<<s;l[s]=-1,c&=~_}n!==0&&Ue(e,n,t)}function Pr(){return(Ie&6)===0?(Ri(0),!1):!0}function Cc(){if(Le!==null){if(Ze===0)var e=Le.return;else e=Le,tl=Ql=null,Ou(e),Ba=null,yi=0,e=Le;for(;e!==null;)Qo(e.alternate,e),e=e.return;Le=null}}function Ka(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,k2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),fl=0,Cc(),Pe=e,Le=n=$n(e.current,null),Te=t,Ze=0,dn=null,Ml=!1,Ya=qn(e,t),gc=!1,Ia=hn=vc=ia=zl=st=0,$t=qi=null,yc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-ye(l),s=1<<c;t|=e[c],l&=~s}return ol=t,vr(),n}function _f(e,t){Ne=null,j.H=zi,t===Ta||t===Mr?(t=qs(),Ze=3):t===zu?(t=qs(),Ze=4):Ze=t===tc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dn=t,Le===null&&(st=1,Hr(e,Cn(t,e.current)))}function Sf(){var e=on.current;return e===null?!0:(Te&4194048)===Te?zn===null:(Te&62914560)===Te||(Te&536870912)!==0?e===zn:!1}function Cf(){var e=j.H;return j.H=zi,e===null?zi:e}function wf(){var e=j.A;return j.A=h2,e}function Fr(){st=4,Ml||(Te&4194048)!==Te&&on.current!==null||(Ya=!0),(zl&134217727)===0&&(ia&134217727)===0||Pe===null||Al(Pe,Te,hn,!1)}function wc(e,t,n){var l=Ie;Ie|=2;var c=Cf(),s=wf();(Pe!==e||Te!==t)&&(Qr=null,Ka(e,t)),t=!1;var _=st;e:do try{if(Ze!==0&&Le!==null){var L=Le,U=dn;switch(Ze){case 8:Cc(),_=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var ee=Ze;if(Ze=0,dn=null,Za(e,L,U,ee),n&&Ya){_=0;break e}break;default:ee=Ze,Ze=0,dn=null,Za(e,L,U,ee)}}g2(),_=st;break}catch(ie){_f(e,ie)}while(!0);return t&&e.shellSuspendCounter++,tl=Ql=null,Ie=l,j.H=c,j.A=s,Le===null&&(Pe=null,Te=0,vr()),_}function g2(){for(;Le!==null;)jf(Le)}function v2(e,t){var n=Ie;Ie|=2;var l=Cf(),c=wf();Pe!==e||Te!==t?(Qr=null,Wr=dt()+500,Ka(e,t)):Ya=qn(e,t);e:do try{if(Ze!==0&&Le!==null){t=Le;var s=dn;t:switch(Ze){case 1:Ze=0,dn=null,Za(e,t,s,1);break;case 2:case 9:if(Ts(s)){Ze=0,dn=null,Mf(t);break}t=function(){Ze!==2&&Ze!==9||Pe!==e||(Ze=7),Jn(e)},s.then(t,t);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Ts(s)?(Ze=0,dn=null,Mf(t)):(Ze=0,dn=null,Za(e,t,s,7));break;case 5:var _=null;switch(Le.tag){case 26:_=Le.memoizedState;case 5:case 27:var L=Le;if(_?od(_):L.stateNode.complete){Ze=0,dn=null;var U=L.sibling;if(U!==null)Le=U;else{var ee=L.return;ee!==null?(Le=ee,$r(ee)):Le=null}break t}}Ze=0,dn=null,Za(e,t,s,5);break;case 6:Ze=0,dn=null,Za(e,t,s,6);break;case 8:Cc(),st=6;break e;default:throw Error(r(462))}}y2();break}catch(ie){_f(e,ie)}while(!0);return tl=Ql=null,j.H=l,j.A=c,Ie=n,Le!==null?0:(Pe=null,Te=0,vr(),st)}function y2(){for(;Le!==null&&!Il();)jf(Le)}function jf(e){var t=Vo(e.alternate,e,ol);e.memoizedProps=e.pendingProps,t===null?$r(e):Le=t}function Mf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Io(n,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Io(n,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Ou(t);default:Qo(n,t),t=Le=Ss(t,ol),t=Vo(n,t,ol)}e.memoizedProps=e.pendingProps,t===null?$r(e):Le=t}function Za(e,t,n,l){tl=Ql=null,Ou(t),Ba=null,yi=0;var c=t.return;try{if(u2(e,c,t,n,Te)){st=1,Hr(e,Cn(n,e.current)),Le=null;return}}catch(s){if(c!==null)throw Le=c,s;st=1,Hr(e,Cn(n,e.current)),Le=null;return}t.flags&32768?(qe||l===1?e=!0:Ya||(Te&536870912)!==0?e=!1:(Ml=e=!0,(l===2||l===9||l===3||l===6)&&(l=on.current,l!==null&&l.tag===13&&(l.flags|=16384))),zf(t,e)):$r(t)}function $r(e){var t=e;do{if((t.flags&32768)!==0){zf(t,Ml);return}e=t.return;var n=s2(t.alternate,t,ol);if(n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);st===0&&(st=5)}function zf(e,t){do{var n=o2(e.alternate,e);if(n!==null){n.flags&=32767,Le=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Le=e;return}Le=e=n}while(e!==null);st=6,Le=null}function Df(e,t,n,l,c,s,_,L,U){e.cancelPendingCommit=null;do e0();while(Ct!==0);if((Ie&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,s|=fu,Jt(e,n,s,_,L,U),e===Pe&&(Le=Pe=null,Te=0),Ua=t,Nl=e,fl=n,pc=s,_c=c,gf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C2(In,function(){return Tf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=E.p,E.p=2,_=Ie,Ie|=4;try{f2(e,t,n)}finally{Ie=_,E.p=c,j.T=l}}Ct=1,Nf(),Af(),Lf()}}function Nf(){if(Ct===1){Ct=0;var e=Nl,t=Ua,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null;var l=E.p;E.p=2;var c=Ie;Ie|=4;try{xf(t,e);var s=kc,_=ds(e.containerInfo),L=s.focusedElem,U=s.selectionRange;if(_!==L&&L&&L.ownerDocument&&fs(L.ownerDocument.documentElement,L)){if(U!==null&&uu(L)){var ee=U.start,ie=U.end;if(ie===void 0&&(ie=ee),"selectionStart"in L)L.selectionStart=ee,L.selectionEnd=Math.min(ie,L.value.length);else{var ue=L.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var le=te.getSelection(),me=L.textContent.length,_e=Math.min(U.start,me),We=U.end===void 0?_e:Math.min(U.end,me);!le.extend&&_e>We&&(_=We,We=_e,_e=_);var Q=os(L,_e),J=os(L,We);if(Q&&J&&(le.rangeCount!==1||le.anchorNode!==Q.node||le.anchorOffset!==Q.offset||le.focusNode!==J.node||le.focusOffset!==J.offset)){var $=ue.createRange();$.setStart(Q.node,Q.offset),le.removeAllRanges(),_e>We?(le.addRange($),le.extend(J.node,J.offset)):($.setEnd(J.node,J.offset),le.addRange($))}}}}for(ue=[],le=L;le=le.parentNode;)le.nodeType===1&&ue.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ue.length;L++){var re=ue[L];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}f0=!!qc,kc=qc=null}finally{Ie=c,E.p=l,j.T=n}}e.current=t,Ct=2}}function Af(){if(Ct===2){Ct=0;var e=Nl,t=Ua,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=j.T,j.T=null;var l=E.p;E.p=2;var c=Ie;Ie|=4;try{lf(e,t.alternate,t)}finally{Ie=c,E.p=l,j.T=n}}Ct=3}}function Lf(){if(Ct===4||Ct===3){Ct=0,sa();var e=Nl,t=Ua,n=fl,l=gf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ct=5:(Ct=0,Ua=Nl=null,Ef(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Dl=null),li(n),t=t.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(je,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=j.T,c=E.p,E.p=2,j.T=null;try{for(var s=e.onRecoverableError,_=0;_<l.length;_++){var L=l[_];s(L.value,{componentStack:L.stack})}}finally{j.T=t,E.p=c}}(fl&3)!==0&&e0(),Jn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Sc?ki++:(ki=0,Sc=e):ki=0,Ri(0)}}function Ef(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,gi(t)))}function e0(){return Nf(),Af(),Lf(),Tf()}function Tf(){if(Ct!==5)return!1;var e=Nl,t=pc;pc=0;var n=li(fl),l=j.T,c=E.p;try{E.p=32>n?32:n,j.T=null,n=_c,_c=null;var s=Nl,_=fl;if(Ct=0,Ua=Nl=null,fl=0,(Ie&6)!==0)throw Error(r(331));var L=Ie;if(Ie|=4,hf(s.current),of(s,s.current,_,n),Ie=L,Ri(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(je,s)}catch{}return!0}finally{E.p=c,j.T=l,Ef(e,t)}}function Bf(e,t,n){t=Cn(n,t),t=ec(e.stateNode,t,2),e=Sl(e,t,2),e!==null&&(ct(e,2),Jn(e))}function Xe(e,t,n){if(e.tag===3)Bf(e,e,n);else for(;t!==null;){if(t.tag===3){Bf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Dl===null||!Dl.has(l))){e=Cn(n,e),n=Bo(2),l=Sl(t,n,2),l!==null&&(qo(n,l,t,e),ct(l,2),Jn(l));break}}t=t.return}}function jc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new m2;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(gc=!0,c.add(n),e=p2.bind(null,e,t,n),t.then(e,e))}function p2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Pe===e&&(Te&n)===n&&(st===4||st===3&&(Te&62914560)===Te&&300>dt()-Vr?(Ie&2)===0&&Ka(e,0):vc|=n,Ia===Te&&(Ia=0)),Jn(e)}function qf(e,t){t===0&&(t=vn()),e=Jl(e,t),e!==null&&(ct(e,t),Jn(e))}function _2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qf(e,n)}function S2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),qf(e,n)}function C2(e,t){return tt(e,t)}var t0=null,Xa=null,Mc=!1,n0=!1,zc=!1,Ll=0;function Jn(e){e!==Xa&&e.next===null&&(Xa===null?t0=Xa=e:Xa=Xa.next=e),n0=!0,Mc||(Mc=!0,j2())}function Ri(e,t){if(!zc&&n0){zc=!0;do for(var n=!1,l=t0;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var s=0;else{var _=l.suspendedLanes,L=l.pingedLanes;s=(1<<31-ye(42|e)+1)-1,s&=c&~(_&~L),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Of(l,s))}else s=Te,s=Ke(l,l===Pe?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||qn(l,s)||(n=!0,Of(l,s));l=l.next}while(n);zc=!1}}function w2(){kf()}function kf(){n0=Mc=!1;var e=0;Ll!==0&&q2()&&(e=Ll);for(var t=dt(),n=null,l=t0;l!==null;){var c=l.next,s=Rf(l,t);s===0?(l.next=null,n===null?t0=c:n.next=c,c===null&&(Xa=n)):(n=l,(e!==0||(s&3)!==0)&&(n0=!0)),l=c}Ct!==0&&Ct!==5||Ri(e),Ll!==0&&(Ll=0)}function Rf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var _=31-ye(s),L=1<<_,U=c[_];U===-1?((L&n)===0||(L&l)!==0)&&(c[_]=Bt(L,t)):U<=t&&(e.expiredLanes|=L),s&=~L}if(t=Pe,n=Te,n=Ke(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Et(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||qn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Et(l),li(n)){case 2:case 8:n=fa;break;case 32:n=In;break;case 268435456:n=da;break;default:n=In}return l=Gf.bind(null,e),n=tt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Et(l),e.callbackPriority=2,e.callbackNode=null,2}function Gf(e,t){if(Ct!==0&&Ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(e0()&&e.callbackNode!==n)return null;var l=Te;return l=Ke(e,e===Pe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yf(e,l,t),Rf(e,dt()),e.callbackNode!=null&&e.callbackNode===n?Gf.bind(null,e):null)}function Of(e,t){if(e0())return null;yf(e,t,!0)}function j2(){R2(function(){(Ie&6)!==0?tt(Bn,w2):kf()})}function Dc(){if(Ll===0){var e=La;e===0&&(e=ht,ht<<=1,(ht&261888)===0&&(ht=256)),Ll=e}return Ll}function Hf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sr(""+e)}function Yf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function M2(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var s=Hf((c[Yt]||null).action),_=l.submitter;_&&(t=(t=_[Yt]||null)?Hf(t.formAction):_.getAttribute("formAction"),t!==null&&(s=t,_=null));var L=new hr("action","action",null,l,c);e.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ll!==0){var U=_?Yf(c,_):new FormData(c);Vu(n,{pending:!0,data:U,method:c.method,action:s},null,U)}}else typeof s=="function"&&(L.preventDefault(),U=_?Yf(c,_):new FormData(c),Vu(n,{pending:!0,data:U,method:c.method,action:s},s,U))},currentTarget:c}]})}}for(var Nc=0;Nc<ou.length;Nc++){var Ac=ou[Nc],z2=Ac.toLowerCase(),D2=Ac[0].toUpperCase()+Ac.slice(1);kn(z2,"on"+D2)}kn(bs,"onAnimationEnd"),kn(gs,"onAnimationIteration"),kn(vs,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(K1,"onTransitionRun"),kn(Z1,"onTransitionStart"),kn(X1,"onTransitionCancel"),kn(ys,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),Ul("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ul("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ul("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ul("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ul("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ul("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gi));function If(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var _=l.length-1;0<=_;_--){var L=l[_],U=L.instance,ee=L.currentTarget;if(L=L.listener,U!==s&&c.isPropagationStopped())break e;s=L,c.currentTarget=ee;try{s(c)}catch(ie){gr(ie)}c.currentTarget=null,s=U}else for(_=0;_<l.length;_++){if(L=l[_],U=L.instance,ee=L.currentTarget,L=L.listener,U!==s&&c.isPropagationStopped())break e;s=L,c.currentTarget=ee;try{s(c)}catch(ie){gr(ie)}c.currentTarget=null,s=U}}}}function Ee(e,t){var n=t[ve];n===void 0&&(n=t[ve]=new Set);var l=e+"__bubble";n.has(l)||(Uf(t,e,2,!1),n.add(l))}function Lc(e,t,n){var l=0;t&&(l|=4),Uf(n,e,l,t)}var l0="_reactListening"+Math.random().toString(36).slice(2);function Ec(e){if(!e[l0]){e[l0]=!0,Bx.forEach(function(n){n!=="selectionchange"&&(N2.has(n)||Lc(n,!1,e),Lc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[l0]||(t[l0]=!0,Lc("selectionchange",!1,t))}}function Uf(e,t,n,l){switch(vd(t)){case 2:var c=lh;break;case 8:c=ah;break;default:c=Jc}n=c.bind(null,t,n,e),c=void 0,!F0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Tc(e,t,n,l,c){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var L=l.stateNode.containerInfo;if(L===c)break;if(_===4)for(_=l.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;L!==null;){if(_=ha(L),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){l=s=_;continue e}L=L.parentNode}}l=l.return}Xx(function(){var ee=s,ie=Q0(n),ue=[];e:{var te=ps.get(e);if(te!==void 0){var le=hr,me=e;switch(e){case"keypress":if(fr(n)===0)break e;case"keydown":case"keyup":le=S1;break;case"focusin":me="focus",le=nu;break;case"focusout":me="blur",le=nu;break;case"beforeblur":case"afterblur":le=nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=s1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=j1;break;case bs:case gs:case vs:le=d1;break;case ys:le=z1;break;case"scroll":case"scrollend":le=c1;break;case"wheel":le=N1;break;case"copy":case"cut":case"paste":le=m1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Px;break;case"toggle":case"beforetoggle":le=L1}var _e=(t&4)!==0,We=!_e&&(e==="scroll"||e==="scrollend"),Q=_e?te!==null?te+"Capture":null:te;_e=[];for(var J=ee,$;J!==null;){var re=J;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||Q===null||(re=ri(J,Q),re!=null&&_e.push(Oi(J,re,$))),We)break;J=J.return}0<_e.length&&(te=new le(te,me,null,n,ie),ue.push({event:te,listeners:_e}))}}if((t&7)===0){e:{if(te=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",te&&n!==W0&&(me=n.relatedTarget||n.fromElement)&&(ha(me)||me[de]))break e;if((le||te)&&(te=ie.window===ie?ie:(te=ie.ownerDocument)?te.defaultView||te.parentWindow:window,le?(me=n.relatedTarget||n.toElement,le=ee,me=me?ha(me):null,me!==null&&(We=f(me),_e=me.tag,me!==We||_e!==5&&_e!==27&&_e!==6)&&(me=null)):(le=null,me=ee),le!==me)){if(_e=Wx,re="onMouseLeave",Q="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Px,re="onPointerLeave",Q="onPointerEnter",J="pointer"),We=le==null?te:ii(le),$=me==null?te:ii(me),te=new _e(re,J+"leave",le,n,ie),te.target=We,te.relatedTarget=$,re=null,ha(ie)===ee&&(_e=new _e(Q,J+"enter",me,n,ie),_e.target=$,_e.relatedTarget=We,re=_e),We=re,le&&me)t:{for(_e=A2,Q=le,J=me,$=0,re=Q;re;re=_e(re))$++;re=0;for(var pe=J;pe;pe=_e(pe))re++;for(;0<$-re;)Q=_e(Q),$--;for(;0<re-$;)J=_e(J),re--;for(;$--;){if(Q===J||J!==null&&Q===J.alternate){_e=Q;break t}Q=_e(Q),J=_e(J)}_e=null}else _e=null;le!==null&&Kf(ue,te,le,_e,!1),me!==null&&We!==null&&Kf(ue,We,me,_e,!0)}}e:{if(te=ee?ii(ee):window,le=te.nodeName&&te.nodeName.toLowerCase(),le==="select"||le==="input"&&te.type==="file")var He=is;else if(ls(te))if(rs)He=Y1;else{He=O1;var ge=G1}else le=te.nodeName,!le||le.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&V0(ee.elementType)&&(He=is):He=H1;if(He&&(He=He(e,ee))){as(ue,He,n,ie);break e}ge&&ge(e,te,ee),e==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&J0(te,"number",te.value)}switch(ge=ee?ii(ee):window,e){case"focusin":(ls(ge)||ge.contentEditable==="true")&&(Ca=ge,cu=ee,hi=null);break;case"focusout":hi=cu=Ca=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,hs(ue,n,ie);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":hs(ue,n,ie)}var Ae;if(au)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Sa?ts(e,n)&&(Be="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Be="onCompositionStart");Be&&(Fx&&n.locale!=="ko"&&(Sa||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Sa&&(Ae=Jx()):(ml=ie,$0="value"in ml?ml.value:ml.textContent,Sa=!0)),ge=a0(ee,Be),0<ge.length&&(Be=new Qx(Be,e,null,n,ie),ue.push({event:Be,listeners:ge}),Ae?Be.data=Ae:(Ae=ns(n),Ae!==null&&(Be.data=Ae)))),(Ae=T1?B1(e,n):q1(e,n))&&(Be=a0(ee,"onBeforeInput"),0<Be.length&&(ge=new Qx("onBeforeInput","beforeinput",null,n,ie),ue.push({event:ge,listeners:Be}),ge.data=Ae)),M2(ue,e,ee,n,ie)}If(ue,t)})}function Oi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function a0(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,s=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||s===null||(c=ri(e,n),c!=null&&l.unshift(Oi(e,c,s)),c=ri(e,t),c!=null&&l.push(Oi(e,c,s))),e.tag===3)return l;e=e.return}return[]}function A2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kf(e,t,n,l,c){for(var s=t._reactName,_=[];n!==null&&n!==l;){var L=n,U=L.alternate,ee=L.stateNode;if(L=L.tag,U!==null&&U===l)break;L!==5&&L!==26&&L!==27||ee===null||(U=ee,c?(ee=ri(n,s),ee!=null&&_.unshift(Oi(n,ee,U))):c||(ee=ri(n,s),ee!=null&&_.push(Oi(n,ee,U)))),n=n.return}_.length!==0&&e.push({event:t,listeners:_})}var L2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function Zf(e){return(typeof e=="string"?e:""+e).replace(L2,`
`).replace(E2,"")}function Xf(e,t){return t=Zf(t),Zf(e)===t}function Ve(e,t,n,l,c,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ya(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ya(e,""+l);break;case"className":cr(e,"class",l);break;case"tabIndex":cr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(e,n,l);break;case"style":Kx(e,l,s);break;case"data":if(t!=="object"){cr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=sr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Ve(e,t,"name",c.name,c,null),Ve(e,t,"formEncType",c.formEncType,c,null),Ve(e,t,"formMethod",c.formMethod,c,null),Ve(e,t,"formTarget",c.formTarget,c,null)):(Ve(e,t,"encType",c.encType,c,null),Ve(e,t,"method",c.method,c,null),Ve(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=sr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Pn);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=sr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":Qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=r1.get(n)||n,ur(e,n,l))}}function Bc(e,t,n,l,c,s){switch(n){case"style":Kx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?ya(e,l):(typeof l=="number"||typeof l=="bigint")&&ya(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),s=e[Yt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,c),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ur(e,n,l)}}}function Gt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,c=!1,s;for(s in n)if(n.hasOwnProperty(s)){var _=n[s];if(_!=null)switch(s){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ve(e,t,s,_,n,null)}}c&&Ve(e,t,"srcSet",n.srcSet,n,null),l&&Ve(e,t,"src",n.src,n,null);return;case"input":Ee("invalid",e);var L=s=_=c=null,U=null,ee=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":c=ie;break;case"type":_=ie;break;case"checked":U=ie;break;case"defaultChecked":ee=ie;break;case"value":s=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,t));break;default:Ve(e,t,l,ie,n,null)}}Hx(e,s,L,U,ee,_,c,!1);return;case"select":Ee("invalid",e),l=_=s=null;for(c in n)if(n.hasOwnProperty(c)&&(L=n[c],L!=null))switch(c){case"value":s=L;break;case"defaultValue":_=L;break;case"multiple":l=L;default:Ve(e,t,c,L,n,null)}t=s,n=_,e.multiple=!!l,t!=null?va(e,!!l,t,!1):n!=null&&va(e,!!l,n,!0);return;case"textarea":Ee("invalid",e),s=c=l=null;for(_ in n)if(n.hasOwnProperty(_)&&(L=n[_],L!=null))switch(_){case"value":l=L;break;case"defaultValue":c=L;break;case"children":s=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Ve(e,t,_,L,n,null)}Ix(e,l,c,s);return;case"option":for(U in n)n.hasOwnProperty(U)&&(l=n[U],l!=null)&&(U==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Ve(e,t,U,l,n,null));return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<Gi.length;l++)Ee(Gi[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in n)if(n.hasOwnProperty(ee)&&(l=n[ee],l!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ve(e,t,ee,l,n,null)}return;default:if(V0(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Bc(e,t,ie,l,n,void 0));return}}for(L in n)n.hasOwnProperty(L)&&(l=n[L],l!=null&&Ve(e,t,L,l,n,null))}function T2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,s=null,_=null,L=null,U=null,ee=null,ie=null;for(le in n){var ue=n[le];if(n.hasOwnProperty(le)&&ue!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":U=ue;default:l.hasOwnProperty(le)||Ve(e,t,le,null,l,ue)}}for(var te in l){var le=l[te];if(ue=n[te],l.hasOwnProperty(te)&&(le!=null||ue!=null))switch(te){case"type":s=le;break;case"name":c=le;break;case"checked":ee=le;break;case"defaultChecked":ie=le;break;case"value":_=le;break;case"defaultValue":L=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,t));break;default:le!==ue&&Ve(e,t,te,le,l,ue)}}X0(e,_,L,U,ee,ie,s,c);return;case"select":le=_=L=te=null;for(s in n)if(U=n[s],n.hasOwnProperty(s)&&U!=null)switch(s){case"value":break;case"multiple":le=U;default:l.hasOwnProperty(s)||Ve(e,t,s,null,l,U)}for(c in l)if(s=l[c],U=n[c],l.hasOwnProperty(c)&&(s!=null||U!=null))switch(c){case"value":te=s;break;case"defaultValue":L=s;break;case"multiple":_=s;default:s!==U&&Ve(e,t,c,s,l,U)}t=L,n=_,l=le,te!=null?va(e,!!n,te,!1):!!l!=!!n&&(t!=null?va(e,!!n,t,!0):va(e,!!n,n?[]:"",!1));return;case"textarea":le=te=null;for(L in n)if(c=n[L],n.hasOwnProperty(L)&&c!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Ve(e,t,L,null,l,c)}for(_ in l)if(c=l[_],s=n[_],l.hasOwnProperty(_)&&(c!=null||s!=null))switch(_){case"value":te=c;break;case"defaultValue":le=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==s&&Ve(e,t,_,c,l,s)}Yx(e,te,le);return;case"option":for(var me in n)te=n[me],n.hasOwnProperty(me)&&te!=null&&!l.hasOwnProperty(me)&&(me==="selected"?e.selected=!1:Ve(e,t,me,null,l,te));for(U in l)te=l[U],le=n[U],l.hasOwnProperty(U)&&te!==le&&(te!=null||le!=null)&&(U==="selected"?e.selected=te&&typeof te!="function"&&typeof te!="symbol":Ve(e,t,U,te,l,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in n)te=n[_e],n.hasOwnProperty(_e)&&te!=null&&!l.hasOwnProperty(_e)&&Ve(e,t,_e,null,l,te);for(ee in l)if(te=l[ee],le=n[ee],l.hasOwnProperty(ee)&&te!==le&&(te!=null||le!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,t));break;default:Ve(e,t,ee,te,l,le)}return;default:if(V0(t)){for(var We in n)te=n[We],n.hasOwnProperty(We)&&te!==void 0&&!l.hasOwnProperty(We)&&Bc(e,t,We,void 0,l,te);for(ie in l)te=l[ie],le=n[ie],!l.hasOwnProperty(ie)||te===le||te===void 0&&le===void 0||Bc(e,t,ie,te,l,le);return}}for(var Q in n)te=n[Q],n.hasOwnProperty(Q)&&te!=null&&!l.hasOwnProperty(Q)&&Ve(e,t,Q,null,l,te);for(ue in l)te=l[ue],le=n[ue],!l.hasOwnProperty(ue)||te===le||te==null&&le==null||Ve(e,t,ue,te,l,le)}function Jf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],s=c.transferSize,_=c.initiatorType,L=c.duration;if(s&&L&&Jf(_)){for(_=0,L=c.responseEnd,l+=1;l<n.length;l++){var U=n[l],ee=U.startTime;if(ee>L)break;var ie=U.transferSize,ue=U.initiatorType;ie&&Jf(ue)&&(U=U.responseEnd,_+=ie*(U<L?1:(L-ee)/(U-ee)))}if(--l,t+=8*(s+_)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qc=null,kc=null;function i0(e){return e.nodeType===9?e:e.ownerDocument}function Vf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Rc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gc=null;function q2(){var e=window.event;return e&&e.type==="popstate"?e===Gc?!1:(Gc=e,!0):(Gc=null,!1)}var Qf=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,R2=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(e){return Pf.resolve(null).then(e).catch(G2)}:Qf;function G2(e){setTimeout(function(){throw e})}function El(e){return e==="head"}function Ff(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),Qa(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Hi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Hi(n);for(var s=n.firstChild;s;){var _=s.nextSibling,L=s.nodeName;s[cn]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=_}}else n==="body"&&Hi(e.ownerDocument.body);n=c}while(n);Qa(t)}function $f(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Oc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Oc(n),ai(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function O2(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[cn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function H2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function ed(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function Hc(e){return e.data==="$?"||e.data==="$~"}function Yc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Y2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ic=null;function td(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function nd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ld(e,t,n){switch(t=i0(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Hi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ai(e)}var Nn=new Map,ad=new Set;function r0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var dl=E.d;E.d={f:I2,r:U2,D:K2,C:Z2,L:X2,m:J2,X:W2,S:V2,M:Q2};function I2(){var e=dl.f(),t=Pr();return e||t}function U2(e){var t=ma(e);t!==null&&t.tag===5&&t.type==="form"?po(t):dl.r(e)}var Ja=typeof document>"u"?null:document;function id(e,t,n){var l=Ja;if(l&&typeof t=="string"&&t){var c=_n(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),ad.has(c)||(ad.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Gt(t,"link",e),Nt(t),l.head.appendChild(t)))}}function K2(e){dl.D(e),id("dns-prefetch",e,null)}function Z2(e,t){dl.C(e,t),id("preconnect",e,t)}function X2(e,t,n){dl.L(e,t,n);var l=Ja;if(l&&e&&t){var c='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+_n(n.imageSizes)+'"]')):c+='[href="'+_n(e)+'"]';var s=c;switch(t){case"style":s=Va(e);break;case"script":s=Wa(e)}Nn.has(s)||(e=p({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Nn.set(s,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Yi(s))||t==="script"&&l.querySelector(Ii(s))||(t=l.createElement("link"),Gt(t,"link",e),Nt(t),l.head.appendChild(t)))}}function J2(e,t){dl.m(e,t);var n=Ja;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(e)+'"]',s=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Wa(e)}if(!Nn.has(s)&&(e=p({rel:"modulepreload",href:e},t),Nn.set(s,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ii(s)))return}l=n.createElement("link"),Gt(l,"link",e),Nt(l),n.head.appendChild(l)}}}function V2(e,t,n){dl.S(e,t,n);var l=Ja;if(l&&e){var c=ba(l).hoistableStyles,s=Va(e);t=t||"default";var _=c.get(s);if(!_){var L={loading:0,preload:null};if(_=l.querySelector(Yi(s)))L.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nn.get(s))&&Uc(e,n);var U=_=l.createElement("link");Nt(U),Gt(U,"link",e),U._p=new Promise(function(ee,ie){U.onload=ee,U.onerror=ie}),U.addEventListener("load",function(){L.loading|=1}),U.addEventListener("error",function(){L.loading|=2}),L.loading|=4,u0(_,t,l)}_={type:"stylesheet",instance:_,count:1,state:L},c.set(s,_)}}}function W2(e,t){dl.X(e,t);var n=Ja;if(n&&e){var l=ba(n).hoistableScripts,c=Wa(e),s=l.get(c);s||(s=n.querySelector(Ii(c)),s||(e=p({src:e,async:!0},t),(t=Nn.get(c))&&Kc(e,t),s=n.createElement("script"),Nt(s),Gt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function Q2(e,t){dl.M(e,t);var n=Ja;if(n&&e){var l=ba(n).hoistableScripts,c=Wa(e),s=l.get(c);s||(s=n.querySelector(Ii(c)),s||(e=p({src:e,async:!0,type:"module"},t),(t=Nn.get(c))&&Kc(e,t),s=n.createElement("script"),Nt(s),Gt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function rd(e,t,n,l){var c=(c=se.current)?r0(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Va(n.href),n=ba(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Va(n.href);var s=ba(c).hoistableStyles,_=s.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,_),(s=c.querySelector(Yi(e)))&&!s._p&&(_.instance=s,_.state.loading=5),Nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nn.set(e,n),s||P2(c,e,n,_.state))),t&&l===null)throw Error(r(528,""));return _}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wa(n),n=ba(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Va(e){return'href="'+_n(e)+'"'}function Yi(e){return'link[rel="stylesheet"]['+e+"]"}function ud(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function P2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Gt(t,"link",n),Nt(t),e.head.appendChild(t))}function Wa(e){return'[src="'+_n(e)+'"]'}function Ii(e){return"script[async]"+e}function cd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+_n(n.href)+'"]');if(l)return t.instance=l,Nt(l),l;var c=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Nt(l),Gt(l,"style",c),u0(l,n.precedence,e),t.instance=l;case"stylesheet":c=Va(n.href);var s=e.querySelector(Yi(c));if(s)return t.state.loading|=4,t.instance=s,Nt(s),s;l=ud(n),(c=Nn.get(c))&&Uc(l,c),s=(e.ownerDocument||e).createElement("link"),Nt(s);var _=s;return _._p=new Promise(function(L,U){_.onload=L,_.onerror=U}),Gt(s,"link",l),t.state.loading|=4,u0(s,n.precedence,e),t.instance=s;case"script":return s=Wa(n.src),(c=e.querySelector(Ii(s)))?(t.instance=c,Nt(c),c):(l=n,(c=Nn.get(s))&&(l=p({},n),Kc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Nt(c),Gt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,u0(l,n.precedence,e));return t.instance}function u0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,s=c,_=0;_<l.length;_++){var L=l[_];if(L.dataset.precedence===t)s=L;else if(s!==c)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var c0=null;function xd(e,t,n){if(c0===null){var l=new Map,c=c0=new Map;c.set(n,l)}else c=c0,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var s=n[c];if(!(s[cn]||s[St]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var _=s.getAttribute(t)||"";_=e+_;var L=l.get(_);L?L.push(s):l.set(_,[s])}}return l}function sd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function F2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function od(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Va(l.href),s=t.querySelector(Yi(c));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=x0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Nt(s);return}s=t.ownerDocument||t,l=ud(l),(c=Nn.get(c))&&Uc(l,c),s=s.createElement("link"),Nt(s);var _=s;_._p=new Promise(function(L,U){_.onload=L,_.onerror=U}),Gt(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=x0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Zc=0;function eh(e,t){return e.stylesheets&&e.count===0&&o0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&o0(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Zc===0&&(Zc=62500*B2());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&o0(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Zc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function x0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)o0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var s0=null;function o0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,s0=new Map,t.forEach(th,e),s0=null,x0.call(e))}function th(e,t){if(!(t.state.loading&4)){var n=s0.get(e);if(n)var l=n.get(null);else{n=new Map,s0.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<c.length;s++){var _=c[s];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(n.set(_.dataset.precedence,_),l=_)}l&&n.set(null,l)}c=t.instance,_=c.getAttribute("data-precedence"),s=n.get(_)||l,s===l&&n.set(null,c),n.set(_,c),this.count++,l=x0.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),s?s.parentNode.insertBefore(c,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ui={$$typeof:k,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function nh(e,t,n,l,c,s,_,L,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.hiddenUpdates=Dt(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=s,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function fd(e,t,n,l,c,s,_,L,U,ee,ie,ue){return e=new nh(e,t,n,_,U,ee,ie,ue,L),t=1,s===!0&&(t|=24),s=sn(3,null,null,t),e.current=s,s.stateNode=e,t=wu(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Du(s),e}function dd(e){return e?(e=Ma,e):Ma}function hd(e,t,n,l,c,s){c=dd(c),l.context===null?l.context=c:l.pendingContext=c,l=_l(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=Sl(e,l,t),n!==null&&(en(n,e,t),_i(n,e,t))}function md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xc(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function bd(e){if(e.tag===13||e.tag===31){var t=Jl(e,67108864);t!==null&&en(t,e,67108864),Xc(e,67108864)}}function gd(e){if(e.tag===13||e.tag===31){var t=mn();t=yn(t);var n=Jl(e,t);n!==null&&en(n,e,t),Xc(e,t)}}var f0=!0;function lh(e,t,n,l){var c=j.T;j.T=null;var s=E.p;try{E.p=2,Jc(e,t,n,l)}finally{E.p=s,j.T=c}}function ah(e,t,n,l){var c=j.T;j.T=null;var s=E.p;try{E.p=8,Jc(e,t,n,l)}finally{E.p=s,j.T=c}}function Jc(e,t,n,l){if(f0){var c=Vc(l);if(c===null)Tc(e,t,l,d0,n),yd(e,l);else if(rh(c,e,t,n,l))l.stopPropagation();else if(yd(e,l),t&4&&-1<ih.indexOf(e)){for(;c!==null;){var s=ma(c);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var _=Ge(s.pendingLanes);if(_!==0){var L=s;for(L.pendingLanes|=2,L.entangledLanes|=2;_;){var U=1<<31-ye(_);L.entanglements[1]|=U,_&=~U}Jn(s),(Ie&6)===0&&(Wr=dt()+500,Ri(0))}}break;case 31:case 13:L=Jl(s,2),L!==null&&en(L,s,2),Pr(),Xc(s,2)}if(s=Vc(l),s===null&&Tc(e,t,l,d0,n),s===c)break;c=s}c!==null&&l.stopPropagation()}else Tc(e,t,l,null,n)}}function Vc(e){return e=Q0(e),Wc(e)}var d0=null;function Wc(e){if(d0=null,e=ha(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=v(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return d0=e,null}function vd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case Bn:return 2;case fa:return 8;case In:case ti:return 32;case da:return 268435456;default:return 32}default:return 32}}var Qc=!1,Tl=null,Bl=null,ql=null,Ki=new Map,Zi=new Map,kl=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":ql=null;break;case"pointerover":case"pointerout":Ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zi.delete(t.pointerId)}}function Xi(e,t,n,l,c,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[c]},t!==null&&(t=ma(t),t!==null&&bd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function rh(e,t,n,l,c){switch(t){case"focusin":return Tl=Xi(Tl,e,t,n,l,c),!0;case"dragenter":return Bl=Xi(Bl,e,t,n,l,c),!0;case"mouseover":return ql=Xi(ql,e,t,n,l,c),!0;case"pointerover":var s=c.pointerId;return Ki.set(s,Xi(Ki.get(s)||null,e,t,n,l,c)),!0;case"gotpointercapture":return s=c.pointerId,Zi.set(s,Xi(Zi.get(s)||null,e,t,n,l,c)),!0}return!1}function pd(e){var t=ha(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,rr(e.priority,function(){gd(n)});return}}else if(t===31){if(t=v(n),t!==null){e.blockedOn=t,rr(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function h0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vc(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);W0=l,n.target.dispatchEvent(l),W0=null}else return t=ma(n),t!==null&&bd(t),e.blockedOn=n,!1;t.shift()}return!0}function _d(e,t,n){h0(e)&&n.delete(t)}function uh(){Qc=!1,Tl!==null&&h0(Tl)&&(Tl=null),Bl!==null&&h0(Bl)&&(Bl=null),ql!==null&&h0(ql)&&(ql=null),Ki.forEach(_d),Zi.forEach(_d)}function m0(e,t){e.blockedOn===t&&(e.blockedOn=null,Qc||(Qc=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,uh)))}var b0=null;function Sd(e){b0!==e&&(b0=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){b0===e&&(b0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Wc(l||n)===null)continue;break}var s=ma(n);s!==null&&(e.splice(t,3),t-=3,Vu(s,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function Qa(e){function t(U){return m0(U,e)}Tl!==null&&m0(Tl,e),Bl!==null&&m0(Bl,e),ql!==null&&m0(ql,e),Ki.forEach(t),Zi.forEach(t);for(var n=0;n<kl.length;n++){var l=kl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<kl.length&&(n=kl[0],n.blockedOn===null);)pd(n),n.blockedOn===null&&kl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],s=n[l+1],_=c[Yt]||null;if(typeof s=="function")_||Sd(n);else if(_){var L=null;if(s&&s.hasAttribute("formAction")){if(c=s,_=s[Yt]||null)L=_.formAction;else if(Wc(c)!==null)continue}else L=_.action;typeof L=="function"?n[l+1]=L:(n.splice(l,3),l-=3),Sd(n)}}}function Cd(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(_){return c=_})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Pc(e){this._internalRoot=e}g0.prototype.render=Pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=mn();hd(n,l,e,t,null,null)},g0.prototype.unmount=Pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hd(e.current,2,null,e,null,null),Pr(),t[de]=null}};function g0(e){this._internalRoot=e}g0.prototype.unstable_scheduleHydration=function(e){if(e){var t=ir();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kl.length&&t!==0&&t<kl[n].priority;n++);kl.splice(n,0,e),n===0&&pd(e)}};var wd=i.version;if(wd!=="19.2.3")throw Error(r(527,wd,"19.2.3"));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=h(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var ch={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v0.isDisabled&&v0.supportsFiber)try{je=v0.inject(ch),Me=v0}catch{}}return Vi.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,l="",c=Ao,s=Lo,_=Eo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError)),t=fd(e,1,!1,null,null,n,l,null,c,s,_,Cd),e[de]=t.current,Ec(e),new Pc(t)},Vi.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var l=!1,c="",s=Ao,_=Lo,L=Eo,U=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(_=n.onCaughtError),n.onRecoverableError!==void 0&&(L=n.onRecoverableError),n.formState!==void 0&&(U=n.formState)),t=fd(e,1,!0,t,n??null,l,c,U,s,_,L,Cd),t.context=dd(null),n=t.current,l=mn(),l=yn(l),c=_l(l),c.callback=null,Sl(n,c,l),n=l,t.current.lanes=n,ct(t,n),Jn(t),e[de]=t.current,Ec(e),new g0(t)},Vi.version="19.2.3",Vi}var Bd;function vh(){if(Bd)return ex.exports;Bd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),ex.exports=gh(),ex.exports}var yh=vh();const Wn=An;function _0(){const u=["r3nKsfq","zMXVD2vYswrZ","C2XPy2u","Cg9ZAxrPB24","C2vHCMnO","odmXntCWDfvSChnI","CMfUzg9T","BgvHzKLKCW","z3jVDxbZ","y29UC3rYDwn0B3i","ugL6ve0","zMXVB3i","DNzkDeC","C3rYAw5NAwz5","Bwf4","mJy1nZbes2vuuKC","mZqWmtnkDNrnvhy","CgfYC2u","nhPYtK16CG","mJmYwuniquPM","CMvKDwnL","mJe3mda0AeHjCejz","tvLJreq","BgvHDMvZ","mte3ouTNqKHVCW","Dg9tDhjPBMC","zMLUza","BgvUz3rO","BwfW","mJKYmZH5vML6Cwm","tuHjCvC","CgL3qwq","kcGOlISPkYKRksSK","mtm4otCWnvbIBhf0va","nZe2muDWv2Huua","vK9bDfO"];return _0=function(){return u},_0()}(function(u,i){const a=An,r=u();for(;;)try{if(parseInt(a(148))/1+parseInt(a(137))/2*(parseInt(a(153))/3)+parseInt(a(140))/4+-parseInt(a(152))/5+parseInt(a(124))/6+parseInt(a(135))/7*(-parseInt(a(138))/8)+parseInt(a(143))/9*(parseInt(a(134))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(_0,156073);const ph=(function(){const u=An,i={jnWgh:u(151),vvJtG:function(r,o){return r!==o}};let a=!0;return function(r,o){const f=u,d={hmdNM:i.jnWgh,zildZ:f(150),VOAtZ:function(v,m,h){return v(m,h)}};if(i[f(131)]("Jutas","HFYOT")){const v=a?function(){const m=f;if(o)if(d.zildZ==="piwAd"){const h=o.apply(r,arguments);return o=null,h}else return _0x523603[m(144)]()[m(123)]("(((.+)+)+)+$").toString().constructor(_0x3ceb20).search(d.hmdNM)}:function(){};return a=!1,v}else{const v=d[f(154)](_0x367191,_0x16b2ae,_0x20800a);return v?v.leafIds:[_0x312ade]}}})(),rx=ph(void 0,function(){const u=An,i={MYcDD:u(151)};return rx[u(144)]().search(u(151))[u(144)]()[u(128)](rx)[u(123)](i[u(141)])});rx();const S0=()=>new Date().toISOString(),Ht=u=>u+"_"+Math[Wn(125)]().toString(36)[Wn(121)](2,10),Se=(u,i,a)=>Math[Wn(133)](i,Math.min(a,u)),Gl=u=>{const i=Wn;return u==null?u:JSON[i(136)](JSON[i(132)](u))},Qi=u=>Math[Wn(130)](u*.7/5)*5;function ca(u,i){const a=Wn;return u[a(127)]?u[a(127)][a(145)](r=>r.flowerIds.includes(i))??null:null}function _h(u,i){const a=Wn,r={PizTM:function(f,d,v){return f(d,v)}},o=r[a(129)](ca,u,i);return o?o[a(120)]:[i]}function U0(u,i){const a=Wn;return u.leafGroups?u.leafGroups.find(r=>r[a(126)].includes(i))??null:null}function An(u,i){u=u-119;const a=_0();let r=a[u];if(An.ofQRxt===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};An.eOEZZW=o,An.ZhDwit={},An.ofQRxt=!0}const f=a[0],d=u+f,v=An.ZhDwit[d];if(v)r=v;else{const m=function(h){this.xeLfdq=h,this.DtqxMu=[1,0,0],this.bAXVzQ=function(){return"newState"},this.zrEVZr="\\w+ *\\(\\) *{\\w+ *",this.aYBcOt=`['|"].+['|"];? *}`};m.prototype.BaLEgl=function(){const h=new RegExp(this.zrEVZr+this.aYBcOt),g=h.test(this.bAXVzQ.toString())?--this.DtqxMu[1]:--this.DtqxMu[0];return this.hYDCcc(g)},m.prototype.hYDCcc=function(h){return~h?this.tpYoJi(this.xeLfdq):h},m.prototype.tpYoJi=function(h){for(let g=0,p=this.DtqxMu.length;g<p;g++)this.DtqxMu.push(Math.round(Math.random())),p=this.DtqxMu.length;return h(this.DtqxMu[0])},new m(An).BaLEgl(),r=An.eOEZZW(r),An.ZhDwit[d]=r}return r}function Sh(u,i){const a=Wn,r={GsdHT:function(m,h){return m===h}},o=(u.leafGroups??[]).find(m=>m.id===i);if(!o||r[a(119)](o.leafIds[a(146)],0))return{x:0,y:0};const f=o.leafIds[a(147)](m=>(u[a(142)]??[]).find(h=>h.id===m)).filter(m=>!!m);if(f[a(146)]===0)return{x:0,y:0};const d=f[a(139)]((m,h)=>m+h.position.x,0),v=f.reduce((m,h)=>m+h[a(122)].y,0);return{x:d/f.length,y:v/f[a(146)]}}function Ch(u,i){const a=Wn,r={MHIqW:function(f,d,v){return f(d,v)}},o=r[a(149)](U0,u,i);return o?o.leafIds:[i]}const ux=Ot;(function(u,i){const a=Ot,r=u();for(;;)try{if(parseInt(a(205))/1+parseInt(a(194))/2*(parseInt(a(230))/3)+parseInt(a(200))/4+-parseInt(a(195))/5+parseInt(a(191))/6+-parseInt(a(185))/7+parseInt(a(189))/8*(-parseInt(a(215))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(C0,822788);const wh=(function(){let u=!0;return function(i,a){const r={BXJdd:function(f,d){return f/d},EZRCS:function(f,d){return f*d},HbvZB:function(f,d){return f+d}},o=u?function(){const f=Ot,d={GkYny:function(v,m){return v/m},yCByU:function(v,m){return r[Ot(186)](v,m)},DdoCC:function(v,m){return v*m},VUyIx:function(v,m){return r[Ot(219)](v,m)},ZJdtJ:function(v,m){return r[Ot(188)](v,m)}};if(a)if(f(224)!==f(224)){const v=_0x21dd9c.min(d.GkYny(_0x215c5f.PI,2),d.yCByU(d[f(190)](_0x341bed,_0x3ec7d5),_0x5e35f0)),m=d[f(197)](_0x5691f1,_0x446b72[f(184)](v)),h=d[f(190)](_0x3dd923,_0x5d734d)*_0x2e1fc2.sin(v);return{diameter:_0x54108c.round(_0x30dbac.max(_0x4188dc,d[f(190)](2,d.ZJdtJ(m,h)))),layerCount:_0x3f524a}}else{const v=a[f(228)](i,arguments);return a=null,v}}:function(){};return u=!1,o}})(),cx=wh(void 0,function(){const u=Ot,i={UUjJk:"(((.+)+)+)+$"};return cx[u(217)]().search(u(204))[u(217)]().constructor(cx)[u(207)](i.UUjJk)});cx();function Ot(u,i){u=u-184;const a=C0();let r=a[u];if(Ot.YZPiXw===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Ot.FeUVsK=o,Ot.QjAoAb={},Ot.YZPiXw=!0}const f=a[0],d=u+f,v=Ot.QjAoAb[d];if(v)r=v;else{const m=function(h){this.aFhAJL=h,this.HHQHTO=[1,0,0],this.LJgdNE=function(){return"newState"},this.DSCiMr="\\w+ *\\(\\) *{\\w+ *",this.LAIdPj=`['|"].+['|"];? *}`};m.prototype.ePGtIR=function(){const h=new RegExp(this.DSCiMr+this.LAIdPj),g=h.test(this.LJgdNE.toString())?--this.HHQHTO[1]:--this.HHQHTO[0];return this.pBcJqG(g)},m.prototype.pBcJqG=function(h){return~h?this.QcfOWF(this.aFhAJL):h},m.prototype.QcfOWF=function(h){for(let g=0,p=this.HHQHTO.length;g<p;g++)this.HHQHTO.push(Math.round(Math.random())),p=this.HHQHTO.length;return h(this.HHQHTO[0])},new m(Ot).ePGtIR(),r=Ot.FeUVsK(r),Ot.QjAoAb[d]=r}return r}const Fa=2/3,qd=.6,jh=.25,Mh=.75;function Yl(u,i,a){const r=Ot,o={ZgFvT:function(k,T){return k*T},uEzqG:function(k,T){return k*T},ztxXD:function(k,T){return k/T},cRyBo:"gradual",dffOk:function(k,T){return k+T},qbkPR:function(k,T){return k+T},XbPtI:function(k,T){return k*T},KOyei:function(k,T){return k*T},iALQH:function(k,T){return k*T},vnqIG:function(k,T){return k===T},sMRRb:function(k,T){return k*T},HSatf:function(k,T){return k-T},cakhI:function(k,T){return k*T},uePkR:function(k,T){return k-T}},f=u/2,d=o.ZgFvT(i,Math[r(243)])/2;if(d<=0||f<=0)return{diameter:u,layerCount:1};const v=a?.[r(231)]??"uniform",m=a?.sizeStepMm??0,h=o[r(202)](d,1-Fa),g=o.ztxXD(Math.PI*f,2),p=a?.layerCount??Math.max(1,Math[r(241)](g/h)),D=v===o.cRyBo?o[r(201)](i,o.uEzqG(p-1,m)):i,b=D*Math[r(243)]/2,z=o.qbkPR(o.XbPtI(d,jh),b*Mh);if(p===1){const k=Math.min(Math.PI/2,o[r(210)](b,Fa)/f),T=o.XbPtI(f,Math.sin(k)),K=b*qd*Math.sin(k);return{diameter:Math[r(241)](Math.max(u,o[r(209)](2,o.qbkPR(T,K)))),layerCount:p}}let C=o[r(213)](d,Fa)/f;for(let k=1;k<p;k++){const T=o[r(221)](v,o.cRyBo)?i+k*m:i,K=o[r(236)](T,Math[r(243)])/2;C+=o[r(233)](o[r(202)](K,o[r(240)](1,Fa)),f)}C=Math.min(C,Math.PI/2);const y=o[r(206)](f+z*qd,Math[r(184)](C)),B=Math[r(223)](0,o[r(226)](y,f));return{diameter:Math[r(241)](o[r(234)](u,2*B)),layerCount:p}}function C0(){const u=["AufmuuG","C2TqCgy","mJDmBM9Vvw4","A3HbqxG","Dg9tDhjPBMC","zLrmDKe","rvPsq1m","AfPusKW","DM5XsuC","ANjSExi","Bwf4","C0HTAhy","s2rfAuC","DwvqA1i","ywjfwe4","yxbWBhK","wMjlvu8","m0LjwuvUAa","C2L6zu1Vzgu","Exfgtg4","ENr4weq","CwjRufi","quXRCK8","C01suMi","veTYzfK","Dw5PzM9YBq","zgvdufi","sfnHDgy","CM91BMq","r01dBMS","u1fsvdi","AhbMsxq","C2LU","ndq3mJKYm1HmDLbXsq","qLHkzgq","Cfrdyxa","sgj2wKi","ntqWodi0DNbkuhjd","rgrVq0m","nJiYnZy2ng1WvNLjvq","rKXJt1e","DfDpq3a","otG1odu0Cu90BeTp","mtKYotK3nxH0r212uq","qwXnzKq","vLv5sxG","DejVCge","C2Xxr2u","odG4otuYsffUzfLA","zgzMt2S","Duv6CuC","z3jHzhvHBa","kcGOlISPkYKRksSK","mJK3ndCYB1b6BNvU","y2fRAeK","C2vHCMnO","A3Djs0m","s095zwK","wgjqDeK","uhLPzNG","CKPqD0m"];return C0=function(){return u},C0()}function $i(u,i,a="uniform",r=0){const o=Ot,f={tBopa:function(m,h){return m<=h},xIzDE:function(m,h){return m/h},pTCap:function(m,h){return m/h},tWOCp:function(m,h){return m*h}};if(f.tBopa(i,0)||f[o(198)](u,0))return 0;const d=[];for(let m=0;m<i;m++){const h=a===o(203)?u+m*r:u;d.push(f.xIzDE(h*Math[o(243)],2))}let v=d[0];for(let m=1;m<i;m++)v+=f[o(187)](d[m],3);return Math.round(f[o(193)](v,2))}function zh(u,i,a=ux(238),r=0){const o=ux,f={FLcOQ:function(p,D){return p<=D},abEXN:function(p,D){return p/D},kazov:function(p,D){return p===D},slWGe:o(238),yqFLn:function(p,D){return p/D},kxAAx:function(p,D){return p+D},deCPR:function(p,D){return p/D},wrfVM:function(p,D){return p+D}};if(f[o(192)](i,0)||u<=0)return 0;const d=u/2,v=f[o(227)](Math.SQRT2,2),m=i;if(f.kazov(a,f[o(199)])||r===0)if(o(208)==="rDtGC")_0x5c62ac=_0x409ed7;else{const p=f[o(232)](v*f[o(216)](m,2),3);return Math[o(223)](1,Math[o(241)](f.yqFLn(d,p)))}const h=r*(m-1)*m/6,g=f[o(239)]((d/v-h)*3,f.wrfVM(m,2));return Math[o(223)](1,Math[o(241)](g))}function Dh(u,i,a){const r={FRDjP:function(d,v){return d<=v},OylSO:function(d,v){return d<v},ElDoZ:function(d,v){return d/v}};if(r.FRDjP(u,i))return 1;let o=1,f=80;for(let d=0;r.OylSO(d,30);d++){const v=(o+f)/2,{diameter:m}=Yl(i,v,a);m<u?o=v:f=v}return Math.max(1,Math.round(r.ElDoZ(o+f,2)))}function Nh(u,i,a){const r=ux,o={skPpf:"gradual",TKrdY:function(D,b){return D/b},hJBRv:function(D,b){return D*b},DgsGn:function(D,b){return D*b},GMCnk:function(D,b){return D<=b},BRukj:r(238),QLWqu:function(D,b){return D/b},AlMfD:function(D,b){return D/b},LiTbn:function(D,b){return D<b},jrlyr:function(D,b){return D===b},owHny:r(244),Pyifx:function(D,b){return D+b},ALkrO:function(D,b){return D/b},rJPwC:function(D,b){return D*b},fTLvA:function(D,b){return D-b},ZbKUO:function(D,b){return D>b},PsWqN:function(D,b){return D+b},hZTJL:function(D,b){return D+b}},f=o.TKrdY(u,2),d=i*Math.SQRT2/2;if(o[r(242)](d,0)||f<=0)return 1;const v=a?.[r(231)]??o.BRukj,m=a?.sizeStepMm??0,h=o.QLWqu(Math.PI,2);if(v==="uniform"||m===0){const D=d/3,b=o[r(196)](Math.PI*f,2);return Math[r(223)](1,Math[r(241)](b/D))}let g=d*Fa/f;if(g>=h)return 1;let p=1;for(let D=1;o.LiTbn(D,100);D++)if(o[r(222)](r(225),o.owHny)){const b=_0x5e05f1===OnzPIg[r(214)]?_0x35b9a1+_0x1f3882*_0x248d36:_0x3e9cb8,z=OnzPIg[r(237)](OnzPIg.hJBRv(b,_0x48d8d0[r(243)]),2);_0x10456e+=OnzPIg[r(237)](OnzPIg.DgsGn(z,1-_0x4cea9e),_0x508586)}else{const b=o[r(211)](i,D*m),z=o[r(235)](b*Math[r(243)],2),C=o.TKrdY(o[r(212)](z,o[r(218)](1,Fa)),f);if(g+=C,o[r(229)](g,o.PsWqN(h,C/2)))break;p=o[r(220)](D,1)}return Math.max(1,p)}function pt(u,i){u=u-364;const a=w0();let r=a[u];if(pt.JFAdWB===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};pt.ZcVOBf=o,pt.KtsNgR={},pt.JFAdWB=!0}const f=a[0],d=u+f,v=pt.KtsNgR[d];if(v)r=v;else{const m=function(h){this.YHPnWw=h,this.mBmZIn=[1,0,0],this.CKIlRw=function(){return"newState"},this.nnBdrv="\\w+ *\\(\\) *{\\w+ *",this.toXRWn=`['|"].+['|"];? *}`};m.prototype.bUfHwa=function(){const h=new RegExp(this.nnBdrv+this.toXRWn),g=h.test(this.CKIlRw.toString())?--this.mBmZIn[1]:--this.mBmZIn[0];return this.boScyK(g)},m.prototype.boScyK=function(h){return~h?this.dNrrED(this.YHPnWw):h},m.prototype.dNrrED=function(h){for(let g=0,p=this.mBmZIn.length;g<p;g++)this.mBmZIn.push(Math.round(Math.random())),p=this.mBmZIn.length;return h(this.mBmZIn[0])},new m(pt).bUfHwa(),r=pt.ZcVOBf(r),pt.KtsNgR[d]=r}return r}(function(u,i){const a=pt,r=u();for(;;)try{if(-parseInt(a(374))/1+parseInt(a(412))/2*(parseInt(a(407))/3)+parseInt(a(428))/4+parseInt(a(378))/5*(parseInt(a(370))/6)+-parseInt(a(395))/7*(parseInt(a(379))/8)+parseInt(a(414))/9+-parseInt(a(382))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(w0,874508);const Ah=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),xx=Ah(void 0,function(){const u=pt,i={xtVZS:"(((.+)+)+)+$"};return xx[u(436)]()[u(389)](i.xtVZS)[u(436)]()[u(365)](xx).search("(((.+)+)+)+$")});xx();const nr=.28,kd={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function sx(u){const i=pt,a={cvBci:function(r,o){return r===o},oiAzf:"",UYNvU:""};return a.cvBci(u,a.oiAzf)?kd.:kd[a[i(429)]]}function xa(u){const i=pt,a={dyAsy:function(r,o){return r/o},STlkq:function(r,o){return r*o}};return a[i(435)](a[i(364)](u,Math.PI),180)}const un=2.7;function jt(u){const i=pt,a={GdTbS:function(d,v){return d/v},CNFKC:function(d,v){return d*v}},r=a[i(385)](u*Math[i(384)],2),o=a[i(432)](r,un),f=o/2;return{length:o,width:f}}function w0(){const u=["EK91yNu","C2LU","q0frwfa","EvDZrhu","zKDpyLi","DLfey1q","yu1Oseq","uez4Aw4","ntCZnZy1mLPuEMj2Dq","vvLoDLu","Dw1vyM8","yxb0r0S","q05gs0m","twLUr0W","ChbWsKW","zhLbC3K","Dg9tDhjPBMC","BgvUz3rO","u1rSA3e","y29UC3rYDwn0B3i","y29Z","v25SvLq","zMLUza","DK5gDxO","mJmXmta4nLLYsK1dyq","zxfAC3y","s1LrEvy","CMfKAxvZ","otu5nde2ELDjyNb6","vevWwvu","sKDVs3q","sNDqrM8","mtbPterdEMe","oezer2v6za","CevcAfy","B25kveG","nJuXntmZmgHAy21Yzq","Dg9gAxHLza","u1fsvdi","r2ruyLm","sKTwtwe","ChvZAa","sK5WEha","C2vHCMnO","zMXVB3i","r0rLEu0","v291yxa","zLL2BuW","EMnbsMK","odC5mJe2mxjOz0H1sq","A21jA1G","C2nHBgu","tKrmt3e","r1bIAKm","Bwf4","Eu5xtNm","Cur5whG","vxfsA3K","uw5VCwm","qKPAuhq","rw9uCMu","nte4mJvVALf5t3K","q3nevNq","D1brzfK","t2LgA3e","CMjNBMO","oeHVCNfmvW","kcGOlISPkYKRksSK","mtmYmdG0ndvPA3fkwxK","uwfwD1u","v21WwgW","sgLeyxG","A0HewKi","ruHMz0y"];return w0=function(){return u},w0()}function Lh(u){return{ywknV:function(a,r){return a/r}}.ywknV(u*un,2)}function Pi(u,i,a){const r=pt,o={sxlEx:function(h,g){return h(g)},XxIBg:function(h,g){return h*g},umUbo:function(h,g){return h+g},KHCfW:function(h,g){return h/g}},{length:f}=o.sxlEx(jt,a),d=o.XxIBg(f,i),v=Math.max(0,u-d*nr),m=o[r(430)](v,d);return o.KHCfW(m*2,un)}function Eh(u,i,a){const r=pt,o={GDeyM:function(m,h){return m-h}},{length:f}=jt(a),d=f*i,v=u*un/2;return Math[r(400)](2,o[r(391)](v,d*o.GDeyM(1,nr)))}function Vn(u,i,a){const r=pt,o={zcAJi:function(g,p){return g/p},rbgnj:function(g,p){return g*p},JNpxp:function(g,p){return g*p},onJTH:function(g,p){return g??p},mVagf:function(g,p){return g/p},HVgpX:function(g,p){return g<p},vQDcT:function(g,p){return g%p},eqZsv:function(g,p){return g+p},iUMNj:function(g,p){return g+p},PFxin:function(g,p){return g+p},CAQXP:function(g,p){return g*p},wFTbc:function(g,p){return g%p},CXfwb:function(g,p){return g-p},GfVkW:function(g,p){return g>p},YgUrK:function(g,p){return g>p},yWsDu:r(396)};if(!u||u<=0||!a||a<=0)return o[r(381)](i,0);const f=o.zcAJi(360,u),d=o.mVagf(360,a),v=[];for(let g=0;o.HVgpX(g,u);g++)v.push(o[r(425)](o[r(425)](o[r(371)](i,o[r(388)](g,f)),360)+360,360));let m=o[r(371)](i,f/2),h=-1;for(let g=0;g<u;g++){const p=o.iUMNj(o[r(427)](i,o[r(422)](g,f)),f/2);let D=1/0;for(let b=0;b<a;b++){const z=o.PFxin(o.wFTbc(o.eqZsv(p,o.rbgnj(b,d)),360),360)%360;for(const C of v){let y=Math.abs(o.CXfwb(z,C));o.GfVkW(y,180)&&(y=360-y),y<D&&(D=y)}}o.YgUrK(D,h)&&(o[r(423)]==="hWldr"?(_0x3d5cad[r(373)]=_0x251e6f[r(400)](2,o[r(394)](_0x25ed05.round(o.rbgnj(o[r(411)](_0x2c4b18.radius,_0x4fca76),10)),10)),_0x590412.scale=_0x27eea4.round(o.JNpxp(_0x11c957[r(397)]??1,_0x9dde87)*100)/100):(h=D,m=p))}return Math.round(o[r(388)](m,10))/10}function K0(u,i,a){const r=pt,o={pppJL:function(b,z){return b(z)},KYQyV:function(b,z){return b*z},NDLOq:function(b,z){return b+z},JGoKt:function(b,z){return b/z},wlJdo:function(b,z){return b*z},MinGL:function(b,z){return b*z},EHfgF:function(b,z,C){return b(z,C)}};if(u.length===0)return;const{length:f}=o[r(434)](jt,i),d=u[0],v=d.scale??1,m=o[r(372)](f,v),h=Math[r(400)](0,d[r(373)]-o.KYQyV(m,nr)),g=o[r(398)](h,m);if(g<=0)return;const p=o[r(372)](a,un)/2,D=p/g;for(const b of u)b.radius=Math[r(400)](2,Math.round(b[r(373)]*D*10)/10),b.scale=o[r(376)](Math.round(o.wlJdo(o[r(433)](b.scale??1,D),100)),100);o[r(419)](ox,u,i)}function ox(u,i){const a=pt,r={UiIpK:function(m,h){return m===h},nljdx:function(m,h){return m-h},AnCCu:function(m,h){return m(h)},NykDm:function(m,h){return m*h},fYvmL:function(m,h){return m*h},mAalD:function(m,h){return m>h}};if(r.UiIpK(u.length,0))return;const o=u[r.nljdx(u.length,1)],{length:f}=r.AnCCu(jt,i),d=r.NykDm(f,o.scale??1),v=Math[a(390)](r[a(393)](d*nr,10))/10;r.mAalD(o.radius,v)&&(o.radius=v)}function Th(u,i,a,r){const o=pt,f={JKVMa:function(D,b){return D%b},zOubu:function(D,b){return D%b},OiFkq:function(D,b){return D+b},aptGK:function(D,b){return D*b},TEpYU:o(413),BJZPt:function(D,b){return D/b},MMczp:function(D,b){return D<b},JcazK:function(D,b){return D-b},UqRky:function(D,b){return D===b},PBaVK:"",BFnHQ:function(D,b){return D!==b},JwPFo:o(402),oCdSA:o(367),ccnQg:function(D,b){return D>b},vNFuz:function(D,b){return D/b},yimDN:function(D,b){return D-b},kHDZB:function(D,b){return D*b},GPbjC:function(D,b){return D/b},yDgsq:function(D,b,z,C){return D(b,z,C)}};if(u[o(437)]===0)return;const d=[...u].sort((D,b)=>b.order-D.order),{length:v}=jt(i),m=d.length,h=d[0][o(397)]??1,g=v*h;d[0].radius=f[o(405)](Math[o(390)](f[o(431)](g*nr,10)),10);for(let D=1;f.MMczp(D,m);D++){const b=d[f.JcazK(D,1)],z=v*(b[o(397)]??1);let C;if(f[o(403)](a,f.PBaVK))if(f.BFnHQ(f[o(377)],f.oCdSA)){const B=70*Math.PI/180,G=f.ccnQg(m,1)?f[o(431)](f[o(369)](D,f.yimDN(m,1)),B):0;C=f[o(418)](z,30/100)*Math.cos(G)}else _0x24c1e7.push(OxfsQu[o(386)](OxfsQu[o(420)](OxfsQu[o(410)](_0x43765b,OxfsQu.aptGK(_0x2961ff,_0xeaa50b)),360)+360,360));else C=f[o(399)](z,3);d[D].radius=f[o(405)](Math.round(f.aptGK(b.radius+C,10)),10)}const p=[...u].sort((D,b)=>D.order-b.order);f.yDgsq(K0,p,i,r);for(const D of p){const b=u[o(368)](z=>z.id===D.id);if(b){if(o(401)!=="yNWNs")return _0x31ef74[o(436)]().search(OxfsQu[o(375)])[o(436)]()[o(365)](_0x239b1a)[o(389)](OxfsQu[o(375)]);b[o(373)]=D[o(373)],b[o(397)]=D.scale}}}function ei(u){const i=pt,a={WmpXl:function(m,h){return m/h},jYWCj:function(m,h){return m*h}},r=a[i(416)](360,u),o=Math.sin(xa(a[i(416)](r,2)))*2,f=.96,d=1.2,v=o*d/f;return a.WmpXl(Math.round(a.jYWCj(Math.max(.3,Math.min(3,v)),100)),100)}(function(u,i){const a=tn,r=u();for(;;)try{if(parseInt(a(449))/1+parseInt(a(412))/2*(-parseInt(a(503))/3)+parseInt(a(454))/4+-parseInt(a(463))/5+parseInt(a(479))/6*(-parseInt(a(493))/7)+-parseInt(a(497))/8*(-parseInt(a(445))/9)+parseInt(a(446))/10*(parseInt(a(496))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(j0,421968);const Bh=(function(){const u={RTzzz:function(a,r){return a!==r}};let i=!0;return function(a,r){const o={gPnfY:function(d,v){return u.RTzzz(d,v)}},f=i?function(){const d=tn;if(r)if(o.gPnfY("dJRXw",d(416))){const v=_0x365e37.find(m=>m.id===_0x21dbf4.id);v&&(v[d(425)]=_0x2f7150.radius,v.scale=_0x5f2ba8.scale)}else{const v=r[d(440)](a,arguments);return r=null,v}}:function(){};return i=!1,f}})(),fx=Bh(void 0,function(){const u=tn,i={jvnmP:"(((.+)+)+)+$"};return fx.toString()[u(468)](u(472)).toString()[u(460)](fx)[u(468)](i.jvnmP)});fx();function Id(){const u=tn,i={OrmvE:u(487),KSWSl:"#F08CB6",jJsfn:u(455),gwUrp:u(426),SrFNH:"#F08A3B",OLomV:u(457),DVVNz:u(423),baBaH:"col_green",NrQWf:u(492),QtOAS:"#7EC8E3",dmxfk:u(475),VoJkv:u(470),QUmrn:"#2C3E6B",PdmEH:"col_purple",Capxk:u(481),uHsgH:u(474),HHmAP:u(500),gbdLW:"#D4A843",xrFcB:u(430),PCwSg:u(459),cyqPu:u(437),AXaBb:u(461),ffLgX:u(491),uZKou:"#F08080"};return[{id:u(421),name:"",hex:u(477)},{id:u(502),name:"",hex:"#E34850"},{id:i[u(415)],name:"",hex:i.KSWSl},{id:i[u(441)],name:"",hex:u(498)},{id:i[u(422)],name:"",hex:i.SrFNH},{id:i[u(452)],name:"",hex:"#F2D04B"},{id:i[u(443)],name:"",hex:u(466)},{id:i[u(480)],name:"",hex:u(442)},{id:u(469),name:"",hex:u(417)},{id:i.NrQWf,name:"",hex:i[u(428)]},{id:i.dmxfk,name:"",hex:i[u(484)]},{id:u(464),name:"",hex:i.QUmrn},{id:i.PdmEH,name:"",hex:i.Capxk},{id:i[u(467)],name:"",hex:u(451)},{id:i[u(419)],name:"",hex:i[u(486)]},{id:i.xrFcB,name:"",hex:i[u(450)]},{id:i.cyqPu,name:"",hex:i[u(444)]},{id:"col_brown",name:"",hex:"#8B5E3C"},{id:"col_black",name:"",hex:u(427)},{id:i[u(482)],name:"",hex:i.uZKou}]}function qh({title:u,fabricSquareSize:i,baseDiameter:a}={}){const r=tn,o={sbrbW:function(v){return v()},xKweh:function(v,m){return v(m)},rNrjY:r(458),bafur:function(v,m){return v??m}},f=S0(),d=o.sbrbW(Id);return o.xKweh(ua,{id:o.xKweh(Ht,"prj"),title:u??o[r(418)],unit:"mm",fabricSquareSize:o.bafur(i,20),baseDiameter:o.bafur(a,30),notes:"",createdAt:f,updatedAt:f,palette:d,flowers:[]})}function tn(u,i){u=u-412;const a=j0();let r=a[u];if(tn.ICkbrf===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};tn.RwLncW=o,tn.BkEgTm={},tn.ICkbrf=!0}const f=a[0],d=u+f,v=tn.BkEgTm[d];if(v)r=v;else{const m=function(h){this.HtlZwl=h,this.PAbCRP=[1,0,0],this.TYZdQD=function(){return"newState"},this.PEaBGZ="\\w+ *\\(\\) *{\\w+ *",this.MnMrPB=`['|"].+['|"];? *}`};m.prototype.ybcjYA=function(){const h=new RegExp(this.PEaBGZ+this.MnMrPB),g=h.test(this.TYZdQD.toString())?--this.PAbCRP[1]:--this.PAbCRP[0];return this.LDEFzz(g)},m.prototype.LDEFzz=function(h){return~h?this.tDDFcZ(this.HtlZwl):h},m.prototype.tDDFcZ=function(h){for(let g=0,p=this.PAbCRP.length;g<p;g++)this.PAbCRP.push(Math.round(Math.random())),p=this.PAbCRP.length;return h(this.PAbCRP[0])},new m(tn).ybcjYA(),r=tn.RwLncW(r),tn.BkEgTm[d]=r}return r}function kh(u,i){const a=tn,r={tzhSQ:function(v,m){return v(m)},QUnwf:function(v,m){return v+m}},o=Gl(u);o.id=r[a(433)](Ht,a(476)),o.name=u[a(485)]+a(439);const f=i?.x??12,d=i?.y??12;return o[a(483)]={x:r.QUnwf(u[a(483)]?.x??0,f),y:(u[a(483)]?.y??0)+d},o[a(448)]=(o[a(448)]||[]).map(v=>({...v,id:Ht(a(495)),petalOverrides:v.petalOverrides?v.petalOverrides.map(m=>({...m})):void 0})),o}function j0(){const u=["BwHrse4","mtm2nJK0mgTvzKPNAG","y29Sx2HVDhbPBMS","DMXPqM0","y29Sx3LLBgXVDW","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","i0mWqZbdma","y29UC3rYDwn0B3i","i0y1rtzdqW","5lI444gK44g+44g/","ndeWmZGXnuHIrhHkwa","y29Sx25HDNK","DfnmqMO","i0zerJvdoq","DuHZz0G","C2vHCMnO","y29Sx2rHCMTNCMvLBG","iZncn0reoa","uLnPq3e","kcGOlISPkYKRksSK","C2nHBgu","y29Sx2XHDMvUzgvY","y29Sx2jSDwu","zMX3","i0y1rJvgnq","sw5Uzxi","mtq0nZHMrgncB1a","yMfcyuG","iZLcntLcnG","zMzmz1G","Cg9ZAxrPB24","vM9kA3y","BMfTzq","z2jKtfC","y29Sx3bPBMS","A1LdvvC","ANrhA0i","vuzbs2O","y29Sx2nVCMfS","y29Sx2XPz2H0yMX1zq","n1PZvhvkEG","z1DxEMW","Bgf5","mta4mdC2muDIu0nJvW","oti4mJa4tu1vC2Xz","i0uWndu3qG","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","y29Sx2DVBgq","rxjOsfO","y29Sx3jLza","mZm2mduXv1zJExjL","sejRuuu","nMr5AePNsa","q2vUDgvY","B3jKzxi","t3jTDKu","zePswhC","iZfbn0eZqq","CK5YALK","seHTqva","uMDMAem","y29Sx3DOAxrL","z3DvCNa","y29Sx2XPz2H0EwvSBg93","CgLPqM0","CMfKAxvZ","y29Sx29Yyw5Nzq","iZmZmZmZmW","uxrpqvm","Eg9wtKe","y29Sx3nPBhzLCG","uhzeB0K","y2vfz3G","DhPOu1e","t3v0zxi","zgjxz24","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","y29Sx2nYzwfT","C29YDa","ienVChK","yxbWBhK","AKPZzM4","iZjgqKy0qq","rfzwtNO","qvHHqMi","ndvszNvtquC","ntbTDKfwzwu","Cgv0ywXdB3vUDa","Bgf5zxjZ","mty4mdC1vMHfBM9H","uen3u2C","i0m4qtjena","t0XVBvy"];return j0=function(){return u},j0()}(function(u,i){const a=bn,r=u();for(;;)try{if(-parseInt(a(198))/1+parseInt(a(213))/2*(parseInt(a(249))/3)+parseInt(a(207))/4*(-parseInt(a(192))/5)+parseInt(a(194))/6+-parseInt(a(295))/7*(parseInt(a(276))/8)+parseInt(a(252))/9*(parseInt(a(298))/10)+parseInt(a(212))/11*(parseInt(a(182))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(M0,698225);const Rh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=bn;if(a){const f=a[o(236)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),dx=Rh(void 0,function(){const u=bn,i={roPZc:u(275)};return dx.toString().search(i[u(288)]).toString().constructor(dx).search("(((.+)+)+)+$")});dx();function M0(){const u=["Cg9Zzq","AxngAw5PDgu","ChjVAG","tu12tLq","Aw5UzxjdB2XVCKLK","6jgj44kW44oR44o844ox","D1v6s1G","zNDsqNm","wM12Awy","C2nHBgu","BwfYDq","rK1us1e","B2jQzwn0","rwHlA00","DxbKyxrLzef0","kcGOlISPkYKRksSK","ogn3yvrmqW","ENbMC1m","DfDXrw8","sMjwEg8","y29Sx3DOAxrL","DMfYAwfUDa","qw5KA2i","zMXVD2vYCW","y2HPBgq","DxDetem","CM90yxrPB24","BgvHDMvZ","CM9qwMm","Chnyvhm","EKfezKC","Cg9ZAxrPB24","AgfZ","AeTMELO","Dw5PDa","odm5odm1nuPxt1jSEa","wLjZrui","v2LyuxC","ndC0odyWvfHQvgzj","Aw5JBhvKzxm","yMfJAW","z3jVDxbZ","DMLZAwjSzq","Cg9Vu2u","y29SB3iY","D1zereS","yMvjuhu","C2L6zq","CgvWq291BNq","nZi5mZq4tLHWAu9n","wM9pwvC","uwzLELm","Cgv0ywXuExbL","BgvUz3rO","zg91yMXLugv0ywW","CgfSzxr0zq","zMX3","B2zMC2v0qw5NBgu","x2rVDwjSzvbLDgfSq2fJAgu","mtmWmtGWBuHSD2XR","BgLUA2vKrMXVD2vYr3jVDxbjza","nde1ody0mLrUu29MCG","zMXVD2vYswrZ","Cg9yCwm","s2jguNu","mta0ndu5n09LC0v6tG","C3rYAw5N","zLvltey","tMPlqvu","r2nLq00","y3jLyxrLzef0","EM1tuwu","44kW44oR44o844ox","AxnbCNjHEq","offkq2H4Ea","Aw5Uzxjty2fSzq","CLDqzuu","BgvHzKLKCW","DgL0Bgu","ntves0LoDvK","mZy2D3DhtuDm","u0jgzgO","zMfICMLJu3f1yxjLu2L6zq","DKniz0W","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","yNbyuM0","rNngrg4","CwDNEMe","svHdzxe","u0feA2y","C05QzMm","CMP6vhq","CufWvLi","CMfKAxvZ","AMjxDMy","Aw5UzxjtAxPLuMvKDwn0Aw9U","Cgvgv1O","zMLSDgvY","yMfZzurPyw1LDgvY","y29SB3i","CM91BMq","BMfTzq","BgvHzKDYB3vWCW","yxbWBhK","CgXHy2vTzw50tw9Kzq","y29SB3jjza","CfzcvMi","Aw5UzxjqzxrHBfr5Cgu","DhLWzq","Cgv0ywXpDMvYCMLKzxm","yM9VBgvHBG","q0PyufG","DMvYC2LVBG","tKTLwfm","tNr6CfK","5lI444gK44g+44g/","mtmYodD3zKLHv2u","y2vUDgvY","BwfW","mJi1rLjvEgT6","5y2k44gp44gz","C3rLBMnPBhm","5yMJ44gK44g+44g/","zMXVD2vYrgLHBwv0zxi","BM90zxm","uxfuD0C","rMXVD2vY"];return M0=function(){return u},M0()}function bn(u,i){u=u-181;const a=M0();let r=a[u];if(bn.ZYiIYo===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};bn.XoZvRE=o,bn.LwbWkD={},bn.ZYiIYo=!0}const f=a[0],d=u+f,v=bn.LwbWkD[d];if(v)r=v;else{const m=function(h){this.bbOUlO=h,this.hAeWxy=[1,0,0],this.nSHUrJ=function(){return"newState"},this.zwhJPD="\\w+ *\\(\\) *{\\w+ *",this.mmEbAJ=`['|"].+['|"];? *}`};m.prototype.NLuKXo=function(){const h=new RegExp(this.zwhJPD+this.mmEbAJ),g=h.test(this.nSHUrJ.toString())?--this.hAeWxy[1]:--this.hAeWxy[0];return this.BYzakF(g)},m.prototype.BYzakF=function(h){return~h?this.aCMCZA(this.bbOUlO):h},m.prototype.aCMCZA=function(h){for(let g=0,p=this.hAeWxy.length;g<p;g++)this.hAeWxy.push(Math.round(Math.random())),p=this.hAeWxy.length;return h(this.hAeWxy[0])},new m(bn).NLuKXo(),r=bn.XoZvRE(r),bn.LwbWkD[d]=r}return r}function ax(u){const i=bn,a={DILJM:i(270),fUKLF:"",tWqEo:function(r,o){return r===o},HVPwe:function(r,o){return r===o}};return u===a.DILJM?a[i(200)]:a[i(278)](u,"ken")?"":a.HVPwe(u,a.fUKLF)||u===i(255)?u:i(248)}function ua(u){const i=bn,a={CJXPX:"adult",SADkf:i(284),bpXRm:"right",SBFdj:"left",MwYwf:i(253),ZeSsg:function(f,d){return f!=d},QqTwG:function(f,d){return f==d},psXTs:function(f,d){return f*d},ZoOYW:function(f,d){return f-d},EhKkM:function(f,d){return f!=d},FsFDn:function(f,d){return f!=d},zADfG:function(f,d){return f(d)},NtzpY:function(f,d){return f||d},HdAsC:i(189),rjzTt:"string",IDRzW:"lay",peFWZ:function(f,d){return f!==d},rWPeE:function(f,d){return f(d)},hKfzZ:function(f,d){return f(d)},FMTKQ:function(f,d){return f!==d},JbVxo:function(f,d){return f!=d},Zmvif:function(f,d){return f!=d},pooSe:function(f,d){return f===d},uwDLC:i(277),NjKAU:i(306),KbFRu:"gWUeD",wUzKX:function(f,d,v,m){return f(d,v,m)},wVDDK:function(f,d){return f<=d},YzDZg:"",qApVR:"",YISwf:function(f,d){return f===d},QzVvs:function(f,d){return f!==d},sNjfc:i(216),poXqc:i(202),xYEzF:function(f){return f()},aHOby:function(f,d){return f(d)},jbWvf:i(262),eTjgq:"grp",tqBBb:function(f,d){return f!==d},qggza:i(205),IXCeq:function(f,d){return f(d)},WiXQw:"JHCic",zmSQe:i(243),NKeXS:function(f,d){return f===d},Izeic:i(296),fwRBs:"QRXkv",MMvNT:function(f,d){return f!=d},Andkb:i(265),cHIlx:function(f,d){return f===d},VBLKw:"QfezS"},r=a.zADfG(Gl,a[i(247)](u,{}));Array.isArray(r.flowers)||(r[i(283)]=[]);for(const f of r[i(283)])if(i(239)==="pVBVb"){f.id||(f.id=Ht(a.HdAsC)),(typeof f.name!==a.rjzTt||!f[i(234)])&&(f[i(234)]=i(259)),(!f[i(291)]||!Number.isFinite(f.position.x)||!Number[i(261)](f.position.y))&&(f.position={x:260,y:260}),Array.isArray(f.layers)||(f.layers=[]);for(const d of f.layers){if(d.id||(d.id=Ht(a.IDRzW)),(a[i(229)](typeof d[i(238)],"string")||!d.colorId)&&(d.colorId=r[i(188)]?.[0]?.id??i(280)),d.petalType=a[i(209)](ax,d[i(185)]),d.petalCount=Se(a[i(293)](Number,d.petalCount||0),5,24),Number.isFinite(d.scale)||(d[i(269)]=1),Number[i(261)](d.widthScale)||(d.widthScale=1),Number[i(261)](d.radius)||(d[i(226)]=28),Number.isFinite(d[i(190)])||(d[i(190)]=0),delete d[i(191)],d[i(187)])if(a[i(271)](typeof d[i(187)],"object")||d[i(187)]===null)delete d[i(187)];else{if(a[i(279)](d[i(187)].innerScale,null)&&d.doublePetal[i(228)]==null){const v=f.fabricSquareSize??r.fabricSquareSize??20;d.doublePetal.innerSizeReduction=Math.round(v*a.ZoOYW(1,d.doublePetal[i(208)]))}delete d.doublePetal[i(208)],Number.isFinite(d[i(187)].innerSizeReduction)||(d[i(187)].innerSizeReduction=2),d.doublePetal[i(228)]=Se(d.doublePetal[i(228)],1,30),delete d[i(187)][i(240)],a[i(268)](d.doublePetal.innerColorId,null)&&typeof d.doublePetal.innerColorId!==a.rjzTt&&delete d.doublePetal[i(264)]}if(Array.isArray(d[i(242)]))if(a.pooSe(a[i(285)],"Ywqhx"))delete _0x5d50ea.baseDiameter;else for(const v of d.petalOverrides)if(a[i(201)]!==a.NjKAU){const m=[a[i(244)],a.SADkf],h=[a[i(218)],a[i(214)],"back"];_0x4828a9.stencils=_0x292b4d.stencils[i(230)](g=>g&&typeof g.id===i(199)&&m.includes(g[i(281)])&&h[i(299)](g[i(260)])&&g[i(291)]&&_0x469397.isFinite(g.position.x)&&_0x55fae1.isFinite(g[i(291)].y))}else v&&a[i(268)](v[i(185)],null)&&(v.petalType=ax(v.petalType)),v&&delete v[i(240)],v&&v[i(264)]!=null&&typeof v.innerColorId!==a[i(224)]&&delete v[i(264)],v&&v[i(228)]!=null&&(Number[i(261)](v[i(228)])?v[i(228)]=a[i(266)](Se,v[i(228)],1,30):a[i(197)]!=="gWUeD"?_0x565c9b.has(_0x2341e2.id)||_0x469a97.palette.push(_0x4b20c8):delete v[i(228)])}(!Number.isFinite(f.flowerDiameter)||a.wVDDK(f[i(256)],0))&&(f[i(256)]=60),f.center&&(f[i(250)].type===a.YzDZg&&(f.center.type=""),["","",""].includes(f[i(250)][i(241)])||(f[i(250)].type=a[i(225)]),Number.isFinite(f[i(250)].size)||(f.center[i(307)]=6),f.center.size=Se(f.center[i(307)],1,30),(typeof f[i(250)][i(232)]!==i(199)||!f[i(250)][i(232)])&&(f.center.color=r[i(188)]?.[0]?.id??"col_white"),a.YISwf(f.center[i(241)],"")&&(Number[i(261)](f.center[i(181)])||(f[i(250)][i(181)]=12),f[i(250)].pepCount=a[i(266)](Se,f[i(250)][i(181)],4,30)),a.FMTKQ(f.center.type,"")&&delete f.center[i(304)]),a.FMTKQ(f.placementMode,"")&&a.QzVvs(f[i(237)],"")&&(f.placementMode=i(253)),f[i(231)]!==void 0&&(!Number[i(261)](f[i(231)])||a[i(305)](f[i(231)],0))&&(a[i(223)]!==a[i(196)]?delete f[i(231)]:_0x192e57.placementMode=a.MwYwf)}else{if(a.ZeSsg(_0x3cac04.doublePetal[i(208)],null)&&a[i(258)](_0x43860b.doublePetal.innerSizeReduction,null)){const d=_0x2e8a6d[i(215)]??_0x8238c3.fabricSquareSize??20;_0x2aba9c[i(187)][i(228)]=_0x44e192[i(233)](a[i(289)](d,a[i(183)](1,_0x380a06.doublePetal.innerScale)))}delete _0x3ba3c0.doublePetal.innerScale,_0x36df1c.isFinite(_0x5d657c.doublePetal[i(228)])||(_0x246bd4[i(187)].innerSizeReduction=2),_0x284100.doublePetal[i(228)]=_0x50ac2c(_0x4f50ed.doublePetal.innerSizeReduction,1,30),delete _0x591123.doublePetal[i(240)],a[i(273)](_0x4987d0.doublePetal[i(264)],null)&&typeof _0x12f123.doublePetal.innerColorId!="string"&&delete _0x3ad482[i(187)][i(264)]}Array[i(206)](r[i(188)])||(r.palette=[]);const o=new Set(r.palette.map(f=>f.id));for(const f of a.xYEzF(Id))o.has(f.id)||r[i(188)].push(f);r[i(203)]||(r.createdAt=S0()),r.updatedAt||(r[i(274)]=r[i(203)]),r.id||(r.id=a.aHOby(Ht,a[i(227)])),r[i(211)]||(r.title=i(217)),r[i(294)]="mm",Number[i(261)](r[i(215)])||(r[i(215)]=20),(!Number.isFinite(r.baseDiameter)||r.baseDiameter<=0)&&(r[i(231)]=30),typeof r.notes!==a[i(224)]&&(r[i(257)]=""),Array.isArray(r.groups)||(r.groups=[]);{const f=new Set(r.flowers[i(251)](d=>d.id));for(const d of r.groups)Array.isArray(d[i(195)])||(d.flowerIds=[]),d[i(195)]=d[i(195)][i(230)](v=>f.has(v)),d.id||(d.id=a[i(290)](Ht,a.eTjgq)),(a.tqBBb(typeof d.name,a[i(224)])||!d[i(234)])&&(d[i(234)]=a[i(220)]);r[i(301)]=r.groups.filter(d=>d.flowerIds&&d.flowerIds[i(186)]>0)}Array[i(206)](r.leaves)||(r[i(287)]=[]);for(const f of r[i(287)])f.id||(f.id=a.aHOby(Ht,"leaf")),(typeof f.name!==i(199)||!f.name)&&(f.name="Leaf"),(!f.position||!Number.isFinite(f.position.x)||!Number.isFinite(f.position.y))&&(f[i(291)]={x:675,y:675}),Number[i(261)](f[i(286)])||(f.rotation=0),f.petalType=a[i(221)](ax,f[i(185)]),(typeof f.colorId!==a[i(224)]||!f.colorId)&&(a[i(271)](a[i(297)],a[i(297)])?(_0x32f137&&a.ZeSsg(_0x3f33e6[i(185)],null)&&(_0x42affc.petalType=_0x1860d1(_0x1420f9[i(185)])),_0x15fbe7&&delete _0x2f355d[i(240)],_0x53b5bd&&a[i(273)](_0x50d8d4[i(264)],null)&&typeof _0x2def94.innerColorId!==i(199)&&delete _0x5939b2[i(264)],_0x27ccfa&&a[i(219)](_0x9937f0[i(228)],null)&&(_0x350388.isFinite(_0x48bc65[i(228)])?_0x34d09b[i(228)]=_0x171c06(_0x12bf57[i(228)],1,30):delete _0x150a46.innerSizeReduction)):f[i(238)]=r[i(188)]?.[0]?.id??"col_green"),Number.isFinite(f.scale)||(f[i(269)]=1),Number[i(261)](f.widthScale)||(f.widthScale=1),a.FMTKQ(typeof f[i(302)],i(243))&&(f.visible=!0),typeof f.locked!==a[i(204)]&&(f.locked=!1),delete f[i(191)],f[i(187)]&&(a.QzVvs(typeof f.doublePetal,i(272))||a[i(303)](f.doublePetal,null)?a[i(246)](a.Izeic,a[i(267)])?delete _0x396efa.doublePetal:delete f.doublePetal:(Number[i(261)](f.doublePetal[i(228)])||(f[i(187)][i(228)]=2),f.doublePetal[i(228)]=Se(f[i(187)].innerSizeReduction,1,30),a[i(263)](f.doublePetal[i(264)],null)&&typeof f.doublePetal[i(264)]!==a.rjzTt&&delete f.doublePetal.innerColorId));Array.isArray(r[i(235)])||(r[i(235)]=[]);{const f=new Set(r[i(287)].map(d=>d.id));for(const d of r.leafGroups)d.id||(d.id=Ht("lg")),(typeof d[i(234)]!==i(199)||!d.name)&&(d.name=a[i(282)]),Array.isArray(d.leafIds)||(d[i(210)]=[]),d.leafIds=d[i(210)].filter(v=>f[i(292)](v)),Number.isFinite(d.rotation)||(d.rotation=0),a[i(268)](d.linkedFlowerGroupId,null)&&((r.groups??[]).some(m=>m.id===d.linkedFlowerGroupId)||delete d[i(193)]);r.leafGroups=r.leafGroups[i(230)](d=>d.leafIds&&d[i(210)].length>0)}if(Array[i(206)](r[i(254)]))if(a.cHIlx(i(184),a.VBLKw)){const f=[a.CJXPX,a[i(222)]],d=[a.bpXRm,a[i(214)],i(300)];r[i(254)]=r.stencils[i(230)](v=>v&&typeof v.id=="string"&&f.includes(v.variant)&&d[i(299)](v.pose)&&v.position&&Number.isFinite(v.position.x)&&Number[i(261)](v.position.y))}else delete _0x21c45f.center[i(304)];return Number[i(261)](r[i(245)])||(r[i(245)]=1),r}function Ln(u,i){u=u-391;const a=D0();let r=a[u];if(Ln.jJwZoU===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Ln.SzJYUc=o,Ln.ucFdqO={},Ln.jJwZoU=!0}const f=a[0],d=u+f,v=Ln.ucFdqO[d];if(v)r=v;else{const m=function(h){this.tiZXaW=h,this.nZXgUc=[1,0,0],this.kVkbCk=function(){return"newState"},this.DMkQzD="\\w+ *\\(\\) *{\\w+ *",this.gXbFTd=`['|"].+['|"];? *}`};m.prototype.tlrFPe=function(){const h=new RegExp(this.DMkQzD+this.gXbFTd),g=h.test(this.kVkbCk.toString())?--this.nZXgUc[1]:--this.nZXgUc[0];return this.aeGzfr(g)},m.prototype.aeGzfr=function(h){return~h?this.dLihWM(this.tiZXaW):h},m.prototype.dLihWM=function(h){for(let g=0,p=this.nZXgUc.length;g<p;g++)this.nZXgUc.push(Math.round(Math.random())),p=this.nZXgUc.length;return h(this.nZXgUc[0])},new m(Ln).tlrFPe(),r=Ln.SzJYUc(r),Ln.ucFdqO[d]=r}return r}const z0=Ln;(function(u,i){const a=Ln,r=u();for(;;)try{if(-parseInt(a(399))/1+parseInt(a(398))/2+parseInt(a(405))/3*(-parseInt(a(404))/4)+parseInt(a(401))/5*(parseInt(a(396))/6)+parseInt(a(395))/7*(-parseInt(a(392))/8)+parseInt(a(394))/9+parseInt(a(393))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(D0,153540);const Gh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Ln;if(a){const f=a[o(406)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),hx=Gh(void 0,function(){const u=Ln,i={juxJu:u(408)};return hx[u(403)]()[u(400)](u(408)).toString().constructor(hx)[u(400)](i.juxJu)});hx();const Ud="tsumami_projects_v1",hl=["",z0(402)],Oh=[z0(407),"",z0(397)],Kd=["",z0(391)];function D0(){const u=["nZm4nZrpsKjhEvC","C2vHCMnO","mtbRwxvytgC","5yMJ44gK44g+44g/","Dg9tDhjPBMC","mty4CMrVu3rv","mti4ndL6zwrcuwq","yxbWBhK","44or44o844oR","kcGOlISPkYKRksSK","5y2k44gp44gz","ofvKtfDUsq","mti0ndu1mhHLBuPACa","oti1mJbRtwXJzuC","odCYntu3zvfoEevV","odK5ntm4DwP2uuLK","44oA44od44ox","mtK0nZqWwhnjCLbS"];return D0=function(){return u},D0()}(function(u,i){const a=nn,r=u();for(;;)try{if(parseInt(a(242))/1+parseInt(a(256))/2*(-parseInt(a(250))/3)+-parseInt(a(245))/4*(parseInt(a(235))/5)+parseInt(a(238))/6*(parseInt(a(251))/7)+parseInt(a(248))/8*(parseInt(a(257))/9)+-parseInt(a(241))/10*(-parseInt(a(254))/11)+-parseInt(a(237))/12*(parseInt(a(262))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(N0,110070);const Hh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=nn;if(a){const f=a[o(239)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),mx=Hh(void 0,function(){const u=nn;return mx[u(246)]()[u(240)](u(260)).toString().constructor(mx)[u(240)](u(260))});mx();function Fi(){const u=nn,i={Szxmg:function(a,r){return a!==r},gJyJV:"weVqr",ncXCy:function(a,r){return a===r}};try{if(i.ncXCy("gFOtp",u(263)))return null;{const a=localStorage.getItem(Ud);if(!a)return[];const r=JSON[u(264)](a);return Array.isArray(r)?r[u(253)](o=>{const f=u;try{if(i.Szxmg(i.gJyJV,"weVqr")){const d=_0x45a310[f(249)](_0x552191);if(!d)return[];const v=_0x334eda[f(264)](d);return _0x318315[f(255)](v)?v.map(m=>{const h=f;try{const g=m?.project?_0x1e67c7(m.project):null;return g?{id:m.id??g.id,title:m.title??g.title,updatedAt:m.updatedAt??g[h(258)],project:g}:null}catch{return null}})[f(236)](m=>m!=null):[]}else{const d=o?.project?ua(o[f(252)]):null;return d?{id:o.id??d.id,title:o[f(261)]??d.title,updatedAt:o[f(258)]??d[f(258)],project:d}:null}}catch{if(f(259)!=="LDURF")return null;{const d=_0x3d0739(),v=d.findIndex(g=>g.id===_0x2427bb.id),m={id:_0x9b4ffb.id,title:_0x2a4398[f(261)],updatedAt:_0x1971e5.updatedAt,project:_0x37b5d5},h=v>=0?[...d[f(247)](0,v),m,...d[f(247)](v+1)]:[m,...d];return h.sort((g,p)=>g.updatedAt<p.updatedAt?1:-1),_0x2387ae(h)}}}).filter(o=>o!=null):[]}}catch{return[]}}function Zd(u){try{return localStorage.setItem(Ud,JSON.stringify(u)),!0}catch{return!1}}function Yh(u){const i=nn,a=Fi(),r=a[i(243)](d=>d.id===u.id),o={id:u.id,title:u[i(261)],updatedAt:u.updatedAt,project:u},f=r>=0?[...a.slice(0,r),o,...a.slice(r+1)]:[o,...a];return f.sort((d,v)=>d.updatedAt<v[i(258)]?1:-1),Zd(f)}function nn(u,i){u=u-235;const a=N0();let r=a[u];if(nn.tzzZVw===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};nn.vWFxUU=o,nn.YYhBMB={},nn.tzzZVw=!0}const f=a[0],d=u+f,v=nn.YYhBMB[d];if(v)r=v;else{const m=function(h){this.QUasCn=h,this.czXbma=[1,0,0],this.BCOtrC=function(){return"newState"},this.auSIBa="\\w+ *\\(\\) *{\\w+ *",this.vFccSm=`['|"].+['|"];? *}`};m.prototype.EsdDyU=function(){const h=new RegExp(this.auSIBa+this.vFccSm),g=h.test(this.BCOtrC.toString())?--this.czXbma[1]:--this.czXbma[0];return this.gzEXoG(g)},m.prototype.gzEXoG=function(h){return~h?this.tXrODU(this.QUasCn):h},m.prototype.tXrODU=function(h){for(let g=0,p=this.czXbma.length;g<p;g++)this.czXbma.push(Math.round(Math.random())),p=this.czXbma.length;return h(this.czXbma[0])},new m(nn).EsdDyU(),r=nn.vWFxUU(r),nn.YYhBMB[d]=r}return r}function Ih(u){const i=nn,a={aEzQt:function(o){return o()}},r=a[i(244)](Fi)[i(236)](o=>o.id!==u);return Zd(r)}function N0(){const u=["mJm3me9dAKj5yG","n2v4zgTZzG","ChjVAMvJDa","BwfW","ndCXmte5D1fvt0r5","AxnbCNjHEq","mtrlCfLlB20","mti2u3rxyKLJ","DxbKyxrLzef0","De1Irg4","kcGOlISPkYKRksSK","DgL0Bgu","mJzyr3HYue4","sMDMvMy","CgfYC2u","mJbZzwv4v3O","zMLSDgvY","mtq0mdiXnMvIB0nmEG","nZCYntu0vMzns1bJ","yxbWBhK","C2vHCMnO","ndbKAe52qK8","mteYn0Dyt0zkuW","zMLUzeLUzgv4","yuv6uxq","nJyZndrOuxndEwO","Dg9tDhjPBMC","C2XPy2u","nJKWmtz5ve9PB08","z2v0sxrLBq"];return N0=function(){return u},N0()}(function(u,i){const a=On,r=u();for(;;)try{if(parseInt(a(277))/1+parseInt(a(279))/2*(-parseInt(a(286))/3)+-parseInt(a(304))/4+parseInt(a(327))/5*(-parseInt(a(284))/6)+-parseInt(a(281))/7+parseInt(a(313))/8*(parseInt(a(326))/9)+parseInt(a(292))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(A0,258396);const Uh=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),bx=Uh(void 0,function(){const u=On,i={ObRcL:"(((.+)+)+)+$"};return bx.toString().search(i[u(288)])[u(285)]()[u(294)](bx)[u(317)](i.ObRcL)});function A0(){const u=["BgvHDMvZ","BwfW","Bw9Kzq","mtq5mJy1mM16tMLbCa","Agv4","EvfcsxC","z0LiAxe","C2nHBgu","zg91yMXLugv0ywW","sKvsr1K","CgXHy2vTzw50tw9Kzq","zNjVBq","mJCZmtC2CfPHC2jj","y29SB3jjza","DfvYtve","Aw5KzxG","C2vHCMnO","y291BNq","5y2k44gp44gz","A0vHBhq","zMfICMLJu2L6zu1T","DMfSDwvZ","BhHPB28","rKHHzg4","Dg90ywXdB3vUDa","owPICK5Mwq","mZmWmZv6ANzOzhq","C29YDa","zMXVD2vYCW","yMfZzurPyw1LDgvY","ndm4otKYC0fLsfnY","Cgv0ywXpDMvYCMLKzxm","mM52vMfotq","zw50CMLLCW","mJm4ntuZsvrtC0LP","zMfICMLJu3f1yxjLu2L6zq","CgfSzxr0zq","mtyYvKH1tMD0","Dg9tDhjPBMC","mtm5nJy3n01Nv3nJwq","Cgv0ywXdB3vUDa","t2jsy0W","C2v0","CM91BMq","EM5UwLO","odm2ndq3mg1PC0TpvW","DuPHr2y","y29UC3rYDwn0B3i","AKn5vfG","z2v0","Aw5UzxjdB2XVCKLK","Bwf4","DefNqw4","Aw5UzxjtAxPLuMvKDwn0Aw9U"];return A0=function(){return u},A0()}function On(u,i){u=u-277;const a=A0();let r=a[u];if(On.tpkJfk===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};On.oatXqG=o,On.HfiJcS={},On.tpkJfk=!0}const f=a[0],d=u+f,v=On.HfiJcS[d];if(v)r=v;else{const m=function(h){this.NzMdHY=h,this.ZfFAiV=[1,0,0],this.frswwd=function(){return"newState"},this.iwSSDW="\\w+ *\\(\\) *{\\w+ *",this.GSwLsN=`['|"].+['|"];? *}`};m.prototype.EjHfEf=function(){const h=new RegExp(this.iwSSDW+this.GSwLsN),g=h.test(this.frswwd.toString())?--this.ZfFAiV[1]:--this.ZfFAiV[0];return this.lAhmjQ(g)},m.prototype.lAhmjQ=function(h){return~h?this.WsbEiR(this.NzMdHY):h},m.prototype.WsbEiR=function(h){for(let g=0,p=this.ZfFAiV.length;g<p;g++)this.ZfFAiV.push(Math.round(Math.random())),p=this.ZfFAiV.length;return h(this.ZfFAiV[0])},new m(On).EjHfEf(),r=On.oatXqG(r),On.HfiJcS[d]=r}return r}bx();function Kh(u){const i=On,a={TFdDn:function(g,p){return g*p},UUDiX:function(g,p){return g/p},jCyTX:function(g,p){return g+p},lBUlE:function(g,p){return g*p},tAgAn:function(g,p){return g*p},znnZZ:function(g,p){return g===p},lEUoO:i(319),KyXyM:i(315),Pyomd:function(g,p){return g<p},gIHiq:function(g,p,D){return g(p,D)},FHadn:function(g,p){return g(p)},sqVEb:function(g,p){return g!==p},RyHsf:i(293),dkeEj:i(320),yQBIw:function(g,p){return g*p},JERGY:"kLJnO",sUPaa:"oNZJk"},r=new Map((u[i(283)]||[]).map(g=>[g.id,g])),o=new Map,f=(g,p)=>g?.[i(278)]?.find(D=>D[i(316)]===p)??null,d=new Map;for(const g of u[i(329)]||[])if(a.KyXyM==="DOYZE")_0x5c1ab9.set(_0xc869e,{colorId:_0xe0ee35,fabricSizeMm:_0x373691,count:1});else{const p=g[i(282)]??u.fabricSquareSize;for(const y of g.layers||[])if(i(323)!=="lxioo")_0x5b381a.count+=1;else{if(!y.visible)continue;const B=Math[i(290)](p*(y[i(308)]??1));for(let G=0;a.Pyomd(G,y[i(287)]);G++){const k=a[i(307)](f,y,G),T=k?.colorId??y.colorId,K=T+"|"+B,V=o.get(K);if(V?V[i(318)]+=1:o.set(K,{colorId:T,fabricSizeMm:B,count:1}),y.doublePetal){const R=y[i(309)],Z=k?.innerColorId??R.innerColorId??T,P=k?.[i(300)]??R[i(300)]??2,ne=Math.max(3,Math[i(290)](B-P)),W=Z+"|"+ne,S=o.get(W);S?S.count+=1:o.set(W,{colorId:Z,fabricSizeMm:ne,count:1})}}}const D=g[i(311)]??"",b=a[i(291)](D,"")?a[i(324)](Qi,g.flowerDiameter):g[i(330)]??u[i(330)],z=D+"|"+b,C=d.get(z);if(C)if(a.sqVEb(i(293),a.RyHsf)){const y=_0x334c62[i(309)],B=_0x5a1cb3?.innerColorId??y[i(297)]??_0x3b976a,G=_0x590bb5?.[i(300)]??y[i(300)]??2,k=_0x533de3[i(298)](3,_0x1f3573[i(290)](_0x380e63-G)),T=B+"|"+k,K=_0xbbd154.get(T);K?K.count+=1:_0x41fbce[i(289)](T,{colorId:B,fabricSizeMm:k,count:1})}else C[i(318)]+=1;else d[i(289)](z,{mode:D,baseDiameterMm:b,count:1})}for(const g of u[i(301)]??[])if(a.znnZZ(a.dkeEj,"XXehf"))_0x200549.count+=1;else{if(!g.visible)continue;const p=g[i(282)]??u.fabricSquareSize,D=Math[i(290)](a[i(306)](p,g.scale??1)),b=g[i(314)],z=b+"|"+D,C=o[i(296)](z);if(C?C[i(318)]+=1:a[i(310)]==="kLJnO"?o.set(z,{colorId:b,fabricSizeMm:D,count:1}):_0x283bf7.count+=1,g[i(309)])if(a.sUPaa==="oNZJk"){const y=g.doublePetal,B=y.innerColorId??b,G=Math[i(298)](3,Math[i(290)](D-(y[i(300)]??2))),k=B+"|"+G,T=o.get(k);T?T[i(318)]+=1:o[i(289)](k,{colorId:B,fabricSizeMm:G,count:1})}else{const y=_0x2e86af[i(321)]/10;return _0x3b51a6+a.TFdDn(_0x35b662[i(318)],y)*y}}const v=new Map;for(const{colorId:g,fabricSizeMm:p,count:D}of o[i(322)]()){const b=v[i(296)](g);b?b[i(280)].push({fabricSizeMm:p,count:D}):v.set(g,{colorId:g,entries:[{fabricSizeMm:p,count:D}]})}const m=Array[i(312)](v.values())[i(302)](({colorId:g,entries:p})=>{const D=i,b=r[D(296)](g),z=p.sort((G,k)=>k[D(321)]-G[D(321)]),C=z.reduce((G,k)=>G+k.count,0),y=Math[D(290)](a.tAgAn(z.reduce((G,k)=>{const T=D,K=a.UUDiX(k.fabricSizeMm,10);return a[T(295)](G,a.lBUlE(k[T(318)]*K,K))},0),100))/100,B=Math[D(290)](a[D(299)](Math.sqrt(y),10))/10;return{colorId:g,colorName:b?.name??g,hex:b?.[D(305)]??"#999999",sizes:z,totalCount:C,totalAreaCm2:y,squareSideCm:B}}).sort((g,p)=>p.totalCount-g[i(325)]),h=Array[i(312)](d.values())[i(328)]((g,p)=>{const D=i;return g[D(303)]!==p[D(303)]?a.znnZZ(g.mode,a.lEUoO)?-1:1:p.baseDiameterMm-g.baseDiameterMm});return{colors:m,bases:h}}(function(u,i){const a=ln,r=u();for(;;)try{if(-parseInt(a(338))/1*(parseInt(a(278))/2)+parseInt(a(346))/3+-parseInt(a(272))/4*(-parseInt(a(298))/5)+parseInt(a(275))/6*(parseInt(a(294))/7)+parseInt(a(321))/8*(-parseInt(a(299))/9)+-parseInt(a(336))/10*(-parseInt(a(333))/11)+parseInt(a(292))/12===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(L0,435841);const Zh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=ln;if(a){const f=a[o(313)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),gx=Zh(void 0,function(){const u=ln,i={ovXlH:"(((.+)+)+)+$"};return gx[u(314)]()[u(308)]("(((.+)+)+)+$").toString()[u(316)](gx)[u(308)](i.ovXlH)});gx();function Xh(u,i){const a=ln,r={sUpkF:"style",whbQN:"viewBox",aBgPT:function(b,z){return b??z},uLOho:a(305),TJfYn:function(b,z){return b(z)},xtnEz:function(b,z){return b(z)},cJlub:a(323),OdaLA:a(312),MNbmG:"100%",QXCGq:"height",hhOHv:"[data-grid]",jJLFL:".tsumami-sel-dash",VODRc:a(282),nGnKO:"[data-marquee]",mjCiE:function(b,z){return b+z},BMZcO:`<?xml version="1.0" encoding="UTF-8"?>
`,qgtwI:a(319)},o=u.cloneNode(!0);o.querySelectorAll(a(324))[a(281)](b=>b.removeAttribute("data-testid")),o[a(302)](r.sUpkF);const f=u[a(285)]("viewBox");f&&o.setAttribute(r.whbQN,f);const d=r.aBgPT(f,a(287)).split(/[\s,]+/)[a(320)](Number),v=d[2]??200,m=d[3]??200;o.setAttribute(r[a(337)],r[a(318)](String,v)),o.setAttribute(a(344),r[a(331)](String,m)),o.setAttribute(r[a(273)],"http://www.w3.org/2000/svg");const h=document[a(283)]("http://www.w3.org/2000/svg",r.OdaLA);h.setAttribute(r[a(337)],r[a(277)]),h[a(276)](r[a(300)],r[a(277)]),h.setAttribute("fill",a(340)),o.insertBefore(h,o[a(345)]),o.querySelectorAll(r.hhOHv).forEach(b=>b[a(295)]()),o[a(274)](r.jJLFL)[a(281)](b=>b.remove()),o.querySelectorAll(r[a(303)])[a(281)](b=>b[a(295)]()),o.querySelectorAll(r.nGnKO).forEach(b=>b[a(295)]());const g=new XMLSerializer,p=r.mjCiE(r.BMZcO,g.serializeToString(o)),D=new Blob([p],{type:"image/svg+xml;charset=utf-8"});Xd(D,i[a(315)](r.qgtwI)?i:i+".svg")}function Jh(u,i,a=2){const r=ln,o={UGUcl:function(C,y,B){return C(y,B)},lmPcX:r(288),oPOzl:function(C,y){return C!==y},PXxQR:function(C,y){return C*y},lWWWd:function(C,y){return C*y},dHMnt:"EyRqa",JoLWa:r(326),aXewM:"viewBox",NaGqd:function(C,y){return C??y},aLfdE:function(C,y){return C??y},paPnK:r(305),vUwUm:r(306)},f=u[r(311)](!0);f[r(274)](r(324))[r(281)](C=>C[r(302)](r(332))),f.removeAttribute("style"),f[r(274)](r(301)).forEach(C=>C[r(295)]()),f.querySelectorAll(".tsumami-sel-dash")[r(281)](C=>C[r(295)]()),f.querySelectorAll(".tsumami-group-dash").forEach(C=>C.remove()),f[r(274)](o.JoLWa)[r(281)](C=>C[r(295)]());const d=u.getAttribute(o[r(291)]),v=o[r(310)](d,r(287)).split(/[\s,]+/)[r(320)](Number),m=v[2]??200,h=v[3]??200;f.setAttribute(o.aXewM,o[r(280)](d,r(287))),f.setAttribute(o[r(286)],String(m)),f.setAttribute("height",String(h)),f.setAttribute("xmlns","http://www.w3.org/2000/svg");const g=new XMLSerializer,p=g.serializeToString(f),D=new Blob([p],{type:o.vUwUm}),b=URL.createObjectURL(D),z=new Image;z[r(290)]=()=>{const C=r,y={XgbwX:function(k,T,K){return o.UGUcl(k,T,K)},XKWrr:".png",QnSzB:"canvas",SCbER:C(340),EyjNE:o.lmPcX,iHozp:function(k,T){return o[C(335)](k,T)},oYMyL:function(k,T){return k===T}},B=document.createElement("canvas");B[C(305)]=o.PXxQR(m,a),B.height=o[C(334)](h,a);const G=B[C(307)]("2d");if(!G)if(o[C(343)]!=="Tyhtr"){URL.revokeObjectURL(b);return}else{const k={OfNjj:function(V,R,Z){return y[C(348)](V,R,Z)},OvbRG:y[C(349)]},T=_0x5ec0d3.createElement(y[C(342)]);T[C(305)]=_0x4aca2c*_0x3d1241,T[C(344)]=_0x4c9de9*_0x2f9f66;const K=T.getContext("2d");if(!K){_0x5b7f2e[C(347)](_0x21184a);return}K[C(339)]=y[C(289)],K.fillRect(0,0,T.width,T.height),K.drawImage(_0x1e2d8a,0,0,T.width,T[C(344)]),T.toBlob(V=>{const R=C;V&&k[R(304)](_0x2908e0,V,_0x50383e.endsWith(k.OvbRG)?_0x3a1bd9:_0x22c0c6+R(279)),_0x16c98c.revokeObjectURL(_0x2f9685)},y[C(322)])}G[C(339)]="white",G[C(341)](0,0,B.width,B.height),G[C(330)](z,0,0,B[C(305)],B.height),B[C(327)](k=>{const T=C;y[T(328)]("QnjYl","QnjYl")?_0x59293d(_0x10eb03,_0x1bb0f1[T(315)](".png")?_0x2253d8:_0x33b5b1+".png"):(k&&(y[T(296)]("csltG",T(325))?Xd(k,i.endsWith(y[T(349)])?i:i+".png"):_0x51cefd.revokeObjectURL(_0x2b5239)),URL[T(347)](b))},o.lmPcX)},z[r(317)]=()=>{URL[r(347)](b)},z.src=b}function L0(){const u=["C2v0qxr0CMLIDxrL","tu5IBuC","mLjiANLYDW","lNbUzW","yuXMzeu","zM9YrwfJAa","lNrZDw1HBwKTz3jVDxaTzgfZAa","y3jLyxrLrwXLBwvUDe5t","y3jLyxrLrwXLBwvUDa","z2v0qxr0CMLIDxrL","CgfqBKS","mcaWidiWmcaYmda","Aw1Hz2uVCg5N","u0nIrvi","B25SB2fK","yvHLD00","mtm4ntKXnK9YDfbxEq","zg93BMXVywq","mJfUBxnqC1y","CMvTB3zL","B1LnEuW","yM9KEq","ntmXnwr4shLIwa","owPguNfisW","uvHdr3e","w2rHDgeTz3jPzf0","CMvTB3zLqxr0CMLIDxrL","vK9euMm","t2zoAMO","D2LKDgG","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","z2v0q29UDgv4Da","C2vHCMnO","y3jLyxrLt2jQzwn0vvjm","tMfhCwq","y2XVBMvoB2rL","CMvJDa","yxbWBhK","Dg9tDhjPBMC","zw5KC1DPDgG","y29UC3rYDwn0B3i","B25LCNjVCG","vePMww4","lNn2zW","BwfW","nJCZnJaYnffzAMLhAW","rxLQtKu","Eg1SBNm","w2rHDgeTDgvZDgLKxq","y3nSDeC","w2rHDgeTBwfYCxvLzv0","Dg9cBg9I","AuHVENa","yxbWzw5Kq2HPBgq","zhjHD0LTywDL","EhrUrxO","zgf0ys10zxn0Awq","mtK0mdq5ouvdvKTJrW","BfDxv2q","B1bpEMW","mJblDgfQBfG","DuXpAg8","mZy4otiZrgPOtvLZ","zMLSBfn0EwXL","D2HPDgu","zMLSBfjLy3q","uw5tEKi","zeHnBNq","AgvPz2H0","zMLYC3rdAgLSza","mtG0otCXz1jLwwDQ","CMv2B2TLt2jQzwn0vvjm","wgDID1G","weTxCNi","mJqYohHRrLzstG","y0PSDwi","CxvLCNLtzwXLy3rVCKfSBa","otqZmte2y1z0Bvbd"];return L0=function(){return u},L0()}function ln(u,i){u=u-272;const a=L0();let r=a[u];if(ln.LCRhHt===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};ln.NsSrJI=o,ln.QatLCO={},ln.LCRhHt=!0}const f=a[0],d=u+f,v=ln.QatLCO[d];if(v)r=v;else{const m=function(h){this.jAqShH=h,this.OHsrKn=[1,0,0],this.RILbPO=function(){return"newState"},this.fRwYxT="\\w+ *\\(\\) *{\\w+ *",this.lWikjN=`['|"].+['|"];? *}`};m.prototype.pMMvQh=function(){const h=new RegExp(this.fRwYxT+this.lWikjN),g=h.test(this.RILbPO.toString())?--this.OHsrKn[1]:--this.OHsrKn[0];return this.YnLkLP(g)},m.prototype.YnLkLP=function(h){return~h?this.Vcmvdl(this.jAqShH):h},m.prototype.Vcmvdl=function(h){for(let g=0,p=this.OHsrKn.length;g<p;g++)this.OHsrKn.push(Math.round(Math.random())),p=this.OHsrKn.length;return h(this.OHsrKn[0])},new m(ln).pMMvQh(),r=ln.NsSrJI(r),ln.QatLCO[d]=r}return r}function Xd(u,i){const a=ln,r=URL[a(309)](u),o=document[a(284)]("a");o.href=r,o[a(293)]=i,document.body[a(329)](o),o.click(),document[a(297)].removeChild(o),URL.revokeObjectURL(r)}function y0({active:u,disabled:i,onClick:a,children:r,...o}){return x.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...o,children:r})}const Vh="v0.1.0-dev";function Wh(u){const{view:i,onNavigate:a,project:r}=u;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Vh})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(y0,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(y0,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(y0,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),x.jsx(y0,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Qh(u){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(i=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:i.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function vx({children:u}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function Ph(u){const[i,a]=F.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(vx,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}(function(u,i){const a=an,r=u();for(;;)try{if(parseInt(a(507))/1+parseInt(a(484))/2+-parseInt(a(496))/3*(parseInt(a(557))/4)+parseInt(a(551))/5+parseInt(a(474))/6*(parseInt(a(548))/7)+-parseInt(a(535))/8*(parseInt(a(556))/9)+-parseInt(a(530))/10*(parseInt(a(536))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(E0,318269);const Fh=(function(){const u={idpJL:"TzYWD"};let i=!0;return function(a,r){const o=i?function(){const f=an,d={hpRTS:f(502)};if(r){if(u[f(503)]!==u[f(503)])return _0x506c2b[f(495)]().search(d[f(511)])[f(495)]().constructor(_0x548504).search(d[f(511)]);{const v=r[f(538)](a,arguments);return r=null,v}}}:function(){};return i=!1,o}})(),yx=Fh(void 0,function(){const u=an,i={hrHOK:u(502)};return yx.toString().search("(((.+)+)+)+$").toString()[u(537)](yx)[u(541)](i.hrHOK)});yx();function an(u,i){u=u-472;const a=E0();let r=a[u];if(an.viNRPB===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};an.iicEgT=o,an.OVuGJW={},an.viNRPB=!0}const f=a[0],d=u+f,v=an.OVuGJW[d];if(v)r=v;else{const m=function(h){this.ycyrhP=h,this.UjbETH=[1,0,0],this.asssCX=function(){return"newState"},this.KvqCMq="\\w+ *\\(\\) *{\\w+ *",this.pmseHG=`['|"].+['|"];? *}`};m.prototype.ArxoYf=function(){const h=new RegExp(this.KvqCMq+this.pmseHG),g=h.test(this.asssCX.toString())?--this.UjbETH[1]:--this.UjbETH[0];return this.OhXkPN(g)},m.prototype.OhXkPN=function(h){return~h?this.abwQVk(this.ycyrhP):h},m.prototype.abwQVk=function(h){for(let g=0,p=this.UjbETH.length;g<p;g++)this.UjbETH.push(Math.round(Math.random())),p=this.UjbETH.length;return h(this.UjbETH[0])},new m(an).ArxoYf(),r=an.iicEgT(r),an.OVuGJW[d]=r}return r}function E0(){const u=["y3vYC29Y","mJK3oty2nvDRrxPVqq","CKnyyMq","BwfW","y3vYCMvUDa","ywv0ue0","ouPzCfjcuq","nZa1mZa4wMrgv3DV","uhDvrgq","zMLUza","t0jHDgy","yvj0vuC","mJeZntrMCgn1DNi","DxjSkci","Bgf5zxjjza","CMfKAxvZ","ru9Ar0K","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","yuL4vhK","DhntsuG","y3vYCMvUDfrHCMDLDa","D2LKDgHty2fSzq","nZy1nZaWDhzMzung","rfbHr2G","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","C2v0ug9PBNrLCKnHChr1CMu","CMHhu2O","wNrRB2y","DKTKCNC","tePrAw8","y29Z","l3rZDw1HBwKV","yLbPAgu","Dg9tDhjPBMC","owPyDLjQAW","CM90yxrPB24","AhLWB3q","qMPIBfm","Bw9Kzq","ywjZ","kcGOlISPkYKRksSK","AwrWsKW","zuHduMS","C3rHCNreAxn0","se5bDw8","mJGXnZG5qNHOBuLd","C2LU","ywjOBKy","zMXVD2vYCW","Ahbsvfm","yxrHBJi","s1bLtMu","sfnODhe","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","Bgf5zxi","zMXVD2vYswq","Bgf5zxjZ","qxvNB2i","s3Pfyvq","ELblCwi","C2nHBgu","C3rHCNrxAwr0AfnJywXL","C3r5Bgu","Cg9PBNrLCKLK","ChjLDMvUDerLzMf1Bhq","A1rgAgS","qLLTqLm","A0DnBvG","nda2mdyXmgTtwfv6zq","zvrKA1i","zM9srvy","Cgv0ywXbBMDSzq","zMXVD2vYrgLHBwv0zxi","ndyXmZyWogn0Aeruva","mtfZD2fbBva","y29UC3rYDwn0B3i","yxbWBhK","uwP0q0e","Cg9ZAxrPB24","C2vHCMnO","Bwf4","u1bTuKe","C3rHCNrsB3rHDgLVBG","EfLsBLy","rNDMDxy","s25hDLK","mteYmgrqBMjrDa","zMLSDgvY"];return E0=function(){return u},E0()}function $h(u){const i=an,a={aIxTy:i(493),pOFGp:function(R,Z){return R===Z},bPihe:function(R,Z){return R-Z},BjblS:function(R,Z){return R*Z},NuPyT:"flower",OBatf:function(R,Z,P,ne){return R(Z,P,ne)},ziMSS:"layer",aRtUG:function(R,Z){return R(Z)},HShtq:function(R,Z){return R-Z},QjtCA:i(481),SPmRA:i(504),DwDWu:"rALns",IyWAZ:function(R,Z){return R(Z)},KzEaT:function(R,Z){return R/Z},EOZGI:function(R,Z){return R(Z)},LJQio:function(R,Z){return R-Z},DPaGh:function(R,Z){return R/Z},kTFhk:function(R,Z){return R>Z},abhnF:function(R,Z){return R(Z)},KnGvY:function(R,Z){return R+Z},HNAuo:function(R,Z){return R-Z},foREV:function(R,Z){return R+Z},kGMmX:function(R,Z){return R(Z)},cvnBg:function(R,Z){return R-Z},Ztkof:function(R,Z){return R-Z},BYmBS:function(R,Z){return R*Z},zPKqb:function(R,Z){return R/Z},KPeNe:function(R,Z,P){return R(Z,P)},rhGSj:"upCfm",Fwfuv:function(R,Z,P){return R(Z,P)}},{project:r,applyUpdate:o,stageRef:f,clientToSvgPoint:d}=u,v=F.useRef(null),m=(R,Z,P,ne)=>{const W=i;P.preventDefault(),P.currentTarget?.setPointerCapture?.(P.pointerId),f[W(554)]&&(f[W(554)].style.cursor='url("'+a[W(480)]+W(515));const S=r[W(510)][W(559)](O=>O.id===Z);if(!S)return;const w=a.pOFGp(R,"layer")&&ne?.[W(476)]?S.layers.filter(O=>O.id===ne[W(476)]).map(O=>({layerId:O.id,scale:O.scale??1,radius:O.radius??10})):S.layers[W(553)](O=>({layerId:O.id,scale:O.scale??1,radius:O[W(477)]??10})),N=d(P),M=S[W(540)].x,j=S[W(540)].y,E=Math.hypot(N.x-M,a[W(494)](N.y,j));v.current={mode:R,flowerId:Z,layerId:ne?.[W(476)],startScales:w,startDiam:S.flowerDiameter||60,startDist:E}},h=R=>{const Z=i,P={XMHKp:function(j,E){return a[an(499)](j,E)},IFlMh:function(j,E){return j===E},PwUDd:a.NuPyT,xYRnV:function(j,E,O,H){return a.OBatf(j,E,O,H)},eqUaz:function(j,E){return a[an(499)](j,E)},vKdrw:function(j,E){return j*E}},ne=v[Z(554)];if(!ne)return;const W=r.flowers.find(j=>j.id===ne[Z(517)]);if(!W)return;const S=d(R),w=Math.hypot(a.bPihe(S.x,W[Z(540)].x),a.bPihe(S.y,W.position.y)),N=Math.max(1,ne[Z(505)]??1),M=Se(w/N,.3,3);o(j=>{const E=Z,O=j.flowers.find(H=>H.id===ne.flowerId);if(O){for(const H of ne.startScales){const Y=O.layers.find(A=>A.id===H.layerId);Y&&(Y[E(522)]=Se(P.XMHKp(H[E(522)],M),.3,3),P.IFlMh(ne[E(500)],P[E(558)])&&(Y.radius=P[E(545)](Se,P.eqUaz(H[E(477)],M),2,120)))}P.IFlMh(ne[E(500)],"flower")&&(O[E(534)]=Se(P[E(490)](ne.startDiam,M),10,200))}},!1)},g=()=>{const R=i;if(a.ziMSS,a.pOFGp(a[R(539)],a[R(543)])){_0x3e0fb3.preventDefault(),_0x2da725.currentTarget?.setPointerCapture?.(_0xf46ca5[R(525)]),_0x4ff3b6.current&&(_0x1eb705[R(554)][R(524)][R(550)]=R(475)+"/tsumami/"+R(515));const Z=_0x55afd7.flowers[R(559)](N=>N.id===_0x1eaf0e);if(!Z)return;const P=_0x26a140===WkQYFg[R(555)]&&_0x9c36d1?.layerId?Z[R(518)][R(549)](N=>N.id===_0x2245de[R(476)])[R(553)](N=>({layerId:N.id,scale:N[R(522)]??1,radius:N[R(477)]??10})):Z[R(518)][R(553)](N=>({layerId:N.id,scale:N.scale??1,radius:N.radius??10})),ne=WkQYFg[R(519)](_0x5ae685,_0xfc37bf),W=Z[R(540)].x,S=Z.position.y,w=_0x314dbd[R(498)](WkQYFg.VgQKk(ne.x,W),ne.y-S);_0x721078.current={mode:_0x28ea3b,flowerId:_0x5d17a6,layerId:_0x5c3634?.layerId,startScales:P,startDiam:Z.flowerDiameter||60,startDist:w}}else{if(!v[R(554)])return;o(()=>{},!0),f.current&&(f.current.style.cursor=""),v[R(554)]=null}},p=F.useRef(null),D=(R,Z,P,ne)=>{const W=i;if(P[W(526)](),P[W(482)]?.setPointerCapture?.(P.pointerId),f.current)if(a.DwDWu!==W(531))f[W(554)].style.cursor=W(475)+a.aIxTy+'rotate_cursor_active_32.png") 16 16, grabbing';else{const j=_0x3ee988.layers.find(E=>E.id===_0x2da21f[W(476)]);j&&(j.offsetAngle=_0x2cfd1b)}const S=r.flowers[W(559)](j=>j.id===Z);if(!S)return;const w=a.IyWAZ(d,P),N=a[W(499)](Math.atan2(a.HShtq(w.y,S.position.y),a.HShtq(w.x,S[W(540)].x)),a[W(520)](180,Math.PI)),M=R===a.ziMSS&&ne?.layerId?S.layers[W(559)](j=>j.id===ne[W(476)])?.offsetAngle??0:S[W(497)]??0;p[W(554)]={mode:R,flowerId:Z,layerId:ne?.[W(476)],startAngle:N,startRotation:M}},b=R=>{const Z=i,P=p.current;if(!P)return;const ne=r.flowers[Z(559)](M=>M.id===P[Z(517)]);if(!ne)return;const W=a[Z(478)](d,R);let w=a.BjblS(Math[Z(512)](a[Z(491)](W.y,ne.position.y),a[Z(494)](W.x,ne.position.x)),a[Z(485)](180,Math.PI))-P.startAngle;for(;a[Z(527)](w,180);)w-=360;for(;w<-180;)w+=360;const N=P[Z(544)]+w;o(M=>{const j=Z,E=M[j(510)][j(559)](O=>O.id===P[j(517)]);if(E)if(a.pOFGp(P.mode,j(516))&&P.layerId){const O=E.layers.find(H=>H.id===P[j(476)]);O&&(O.offsetAngle=N)}else E[j(497)]=N},!1)},z=()=>{const R=i;p.current&&(o(()=>{},!0),f[R(554)]&&(f[R(554)][R(524)].cursor=""),p[R(554)]=null)},C=F.useRef(null),y=(R,Z,P,ne)=>{const W=i;P[W(526)](),P[W(482)]?.[W(487)]?.(P[W(525)]),f[W(554)]&&(f.current[W(524)].cursor=W(475)+"/tsumami/"+W(479));const S=r[W(510)][W(559)](ae=>ae.id===Z);if(!S)return;const w=ne?.[W(476)]?S.layers.find(ae=>ae.id===ne[W(476)]):null;if(!w)return;const N=a[W(509)](d,P),M=S.position.x,j=S[W(540)].y,E=ne?.petalIndex??0,O=360/Math[W(542)](1,w.petalCount),H=(a[W(547)](w.offsetAngle,a[W(499)](E,O))+S.rotation)*(Math.PI/180),Y=N.x-M,A=a[W(506)](N.y,j),q=-Math[W(508)](H),I=Math[W(492)](H),X=Math[W(501)](a[W(532)](Y*q,A*I));C.current={mode:R,flowerId:Z,layerId:ne?.[W(476)],petalAngle:H,startDist:Math[W(542)](1,X),startWidthScale:w[W(483)]??1}},B=R=>{const Z=i;Z(516);const P=C[Z(554)];if(!P)return;const ne=r.flowers[Z(559)](H=>H.id===P[Z(517)]);if(!ne)return;const W=a[Z(529)](d,R),S=a.cvnBg(W.x,ne.position.x),w=a[Z(489)](W.y,ne.position.y),N=-Math[Z(508)](P.petalAngle),M=Math[Z(492)](P[Z(533)]),j=Math[Z(501)](a[Z(532)](S*N,a[Z(528)](w,M))),E=Se(a[Z(521)](j,P.startDist),.3,3),O=Se(P[Z(523)]*E,.3,3);o(H=>{const Y=Z;{const A=H[Y(510)][Y(559)](I=>I.id===P[Y(517)]);if(!A)return;const q=A[Y(518)].find(I=>I.id===P[Y(476)]);q&&(q.widthScale=O)}},!1)},G=()=>{const R=i;C[R(554)]&&(a[R(513)](o,()=>{},!0),f[R(554)]&&(f[R(554)][R(524)][R(550)]=""),C[R(554)]=null)},k=F.useRef(null);return{scaleDragRef:v,beginScaleDrag:m,updateScaleDrag:h,endScaleDrag:g,rotationDragRef:p,beginRotationDrag:D,updateRotationDrag:b,endRotationDrag:z,widthScaleDragRef:C,beginWidthScaleDrag:y,updateWidthScaleDrag:B,endWidthScaleDrag:G,radiusDragRef:k,beginRadiusDrag:(R,Z,P,ne)=>{const W=i;if(a[W(488)]===W(552))_0x1ba0ec[W(497)]=_0x58dce7;else{P[W(526)](),P.currentTarget?.setPointerCapture?.(P[W(525)]),f.current&&(f[W(554)].style.cursor='url("'+a.aIxTy+W(486));const S=r[W(510)][W(559)](j=>j.id===Z);if(!S)return;const w=ne?.[W(476)]?S[W(518)][W(559)](j=>j.id===ne.layerId):null;if(!w)return;const N=d(P),M=Math.hypot(N.x-S.position.x,N.y-S[W(540)].y);k[W(554)]={mode:R,flowerId:Z,layerId:ne?.[W(476)],startDist:Math[W(542)](1,M),startRadius:w[W(477)]??28}}},updateRadiusDrag:R=>{const Z=i,P=k[Z(554)];if(!P)return;const ne=r.flowers.find(M=>M.id===P.flowerId);if(!ne)return;const W=d(R),S=Math[Z(498)](W.x-ne.position.x,W.y-ne.position.y),w=S-P[Z(505)],N=a[Z(472)](Se,P.startRadius+w,5,100);o(M=>{const j=Z,E=M.flowers[j(559)](H=>H.id===P[j(517)]);if(!E)return;const O=E.layers.find(H=>H.id===P.layerId);O&&(O[j(477)]=N)},!1)},endRadiusDrag:()=>{const R=i;k[R(554)]&&(a[R(546)](o,()=>{},!0),f.current&&(f.current[R(524)].cursor=""),k[R(554)]=null)}}}function T0(){const u=["ChfMruO","D2Tir00","v2vgEgK","zwHPuKe","zwjUCKS","C2nHBgu","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","zMfICMLJu3f1yxjLu2L6zq","yvvVu0O","rwrPtuy","Bgf5zxi","BvPOyM0","CM90yxrPB24","v2PSEue","AhLWB3q","swHTt2e","Cg9ZAxrPB24","zLvXwLe","mta0ntuZtMD1A2XK","mte5odK4mhfIB2T6yq","CvHvv24","mtqZrK1sELjw","mZy2nM1kr0XLDG","B2zMC2v0qw5NBgu","DxjSkci","Bgf5zxjjza","z3jHyG","uxv4ruW","BM9Uzq","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","D2LKDgHty2fSzq","mJHdCfvxrhK","u3jPA3e","BKHZu3O","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","s1DKweS","CNzgC2O","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","y29Z","mtm2nZK2ogPTz2XyvW","mta5ntaZoeXpq0jQuW","C2LU","vgfsyxm","Dg9tDhjPBMC","mJrLsMLQrwG","rLfowK0","BgvUz3rO","suPRvKO","nZqWndK5z3feB3zm","y2zcy0y","DMLZAwjSzq","zMXVD2vY","C2vHCMnO","CM90yxrL","y0rhsNG","DNPezLi","zMLSDgvY","D2LKDgG","CMHdBuG","CMfKAxvZ","EvvXELu","ntK5meXmrLL6zG","Cgv0ywXZ","ENjQCeS","EMLhvwK","ywjZ","rg5JsuC","kcGOlISPkYKRksSK","r0DoCfa","ndy5otbvC0HNzM0","ww5iAhm","EuLyBNq","Bwf4","DhfJsvq","y2vUDgvY","AgL0tgf5zxjjza","rNb2BuO","ndqXB2zezfDz","vvvsuhC","tfrIDNe","wuTRBLm","Bw92zq","t1HwrKq","q2L6s0S","AM5OwuG","AMDewxy","Eufcs1C","wMDouLC","Bgf5zxjZ","qKffCeC","seLUANC","BM5cz2C","r1jQs1K","u0TfrMu"];return T0=function(){return u},T0()}(function(u,i){const a=wt,r=u();for(;;)try{if(parseInt(a(230))/1+parseInt(a(221))/2+parseInt(a(200))/3*(parseInt(a(213))/4)+parseInt(a(243))/5*(parseInt(a(204))/6)+-parseInt(a(222))/7*(parseInt(a(226))/8)+parseInt(a(259))/9*(-parseInt(a(251))/10)+parseInt(a(203))/11*(-parseInt(a(201))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(T0,401970);const em=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),px=em(void 0,function(){const u=wt,i={SKEFe:u(249)};return px.toString()[u(234)]("(((.+)+)+)+$")[u(225)]().constructor(px)[u(234)](i[u(275)])});px();function Ol(u,i,a,r,o){const f=wt,d={nnBgg:function(K,V){return K-V},aUoSJ:function(K,V){return K*V},fUqZQ:function(K,V){return K+V},FpvmJ:function(K,V){return K*V},PScPH:function(K,V){return K/V},ZgNRW:f(210),KWdXK:function(K,V){return K>V},UiYLW:f(239),yUqzU:"scale",oPUVS:"move",IJkVJ:function(K,V){return K-V},mZhbm:function(K,V){return K-V},IaIFQ:function(K,V){return K*V},EdiMF:"nOuqn",QCbjz:function(K,V){return K*V},OXVFD:function(K,V){return K*V},ebnrK:function(K,V){return K===V},HInjw:f(286),BAEpG:function(K,V){return K*V},FQNZM:function(K,V){return K-V},rvFsj:function(K,V){return K<V},VmmGC:function(K,V){return K*V},ehiRA:function(K,V){return K*V},GGNpP:function(K,V){return K<V},wDDIk:function(K,V){return K>V},cfBcF:function(K,V){return K>=V},jnhYH:function(K,V){return K===V},yIXnt:f(261),cDGJx:"rotate",UURPw:function(K,V){return K>V},wkHGM:function(K,V){return K-V},cIhNg:function(K,V){return K<=V}},{length:v}=jt(a.fabricSquareSize??r[f(283)]),m=d[f(229)](u,a.position.x),h=d[f(287)](i,a.position.y),g=Math.hypot(m,h);let p=1/0;for(const K of a.layers){if(!K[f(232)])continue;const V=K[f(281)]??1,R=d[f(284)](v,V),Z=.28,P=Math.max(0,d[f(229)](K[f(241)],R*Z));P<p&&(p=P)}isFinite(p)||(p=0);const D=Math[f(254)](d.IaIFQ(p,.9),8);if(g<=D){if(d[f(285)]==="nOuqn")return{zone:f(256)};{const K=_0x414649.fabricSquareSize??_0xcf1a6e[f(283)],{length:V,width:R}=_0x27d08b(K),Z=_0x28fb21[f(281)]??1,P=V*Z,ne=R*(_0x1db1b4.widthScale??1)*Z,W=d[f(273)](_0x4f9441,_0x2e2bbd[f(198)].x),S=_0x57f472-_0x5743cb.position.y,w=_0x3a2dc7(-(_0x66f288[f(194)]??0)),N=d[f(273)](d.aUoSJ(W,_0x4eb09e.cos(w)),d.aUoSJ(S,_0x49aadb[f(223)](w))),M=d.fUqZQ(d[f(258)](W,_0x3d13ce.sin(w)),S*_0x3ba751.cos(w)),j=d.PScPH(N,P),E=M/ne;return j<-.05||j>1.08?d.ZgNRW:d[f(217)](_0x362345[f(247)](E),.75)?"none":_0x174d4d[f(247)](E)>.45?d.UiYLW:d[f(217)](j,.75)?f(235):d.KWdXK(j,.3)?d[f(242)]:d.oPUVS}}const b=xa(-(a[f(194)]??0)),z=d.nnBgg(d[f(258)](m,Math.cos(b)),h*Math.sin(b)),C=d.QCbjz(m,Math.sin(b))+d[f(264)](h,Math.cos(b)),y=d[f(280)](o.kind,d[f(272)])?a.layers[f(238)](K=>K.id===o[f(207)]&&K[f(232)]):a[f(270)][f(238)](K=>K.visible);let B=d.ZgNRW,G,k,T=1/0;for(const K of y){const V=K.scale??1,R=v*V,Z=K[f(212)]??1,P=d[f(271)](d.PScPH(v,2)*Z,V),ne=.28,W=Math[f(254)](0,d[f(227)](K[f(241)],d[f(271)](R,ne))),S=360/Math[f(254)](1,K.petalCount);for(let w=0;d[f(218)](w,K.petalCount);w++){const N=d.fUqZQ(K[f(205)],d.VmmGC(w,S)),M=xa(N),j=Math[f(220)](M)*W,E=Math[f(223)](M)*W,O=z-j,H=d[f(227)](C,E),Y=Math[f(220)](-M),A=Math.sin(-M),q=d[f(273)](d[f(284)](O,Y),d[f(279)](H,A)),I=d[f(199)](O*A,d[f(284)](H,Y)),X=q/R,ae=I/P;if(d[f(250)](X,-.05)||d.wDDIk(X,1.08)||Math[f(247)](ae)>.75)continue;const se=Math[f(196)](d.nnBgg(X,.5),ae);d[f(231)](se,T)||(T=se,G=K.id,k=w,d.wDDIk(Math.abs(ae),.45)?B=d.UiYLW:d.wDDIk(X,.75)?d[f(266)](d[f(253)],f(261))?B=d[f(236)]:_0xb81792="rotate":d[f(260)](X,.3)?B="scale":B=d.oPUVS)}}if(B===d[f(269)]){let K=12;for(const Z of a[f(270)]){if(!Z.visible)continue;const P=Z.scale??1,ne=v*P,W=.28,S=Math.max(0,d[f(277)](Z[f(241)],d.VmmGC(ne,W)));K=Math.max(K,S+ne)}const V=8,R=Math[f(247)](g-K);if(d.cIhNg(R,V))return{zone:f(281)}}return{zone:B,layerId:G,petalIndex:k}}function $a(u,i,a){const r=wt,o={jgDYv:function(f,d){return f===d},IXqOr:r(256),rhCmH:"flower",pqfEJ:"move",WeFxi:"rotate",zDCDz:function(f,d){return f+d},QRNWl:function(f,d){return f!==d},CizKK:r(262),KZtNj:"petal",ReKtr:r(244)};if(o.jgDYv(u,o.IXqOr))return o.IXqOr;if(o.jgDYv(u,r(210)))return"none";switch(i){case o[r(240)]:{if(o[r(267)](u,o.pqfEJ))return r(263);if(u==="scale")return r(281);if(o[r(267)](u,o[r(278)])&&a?.hitLayerId&&a[r(233)]&&a.length!=null){let f,d=-1/0;for(const v of a.flower.layers){if(!v.visible)continue;const m=v.scale??1,h=a[r(228)]*m,g=.28,p=Math.max(0,v.radius-h*g),D=o.zDCDz(p,h);D>d&&(o.QRNWl(r(197),o[r(265)])?(d=D,f=v.id):_0x155b74="scale")}return o[r(267)](a[r(257)],f)?"rotate":o[r(276)]}return"move"}case r(286):return u;case o.KZtNj:case o.ReKtr:return"move";default:return"move"}}function Jd(u,i,a,r){const o=wt,f={qXUWn:function(k,T){return k*T},yABKW:function(k,T){return k*T},WjlyA:function(k,T){return k-T},KRdzZ:function(k,T){return k(T)},YUHWw:function(k,T){return k+T},QuxEL:function(k,T){return k/T},uFEgH:function(k,T){return k<T},YnHhs:"none",nHsSz:function(k,T){return k>T},pfCPs:function(k,T){return k>T},gZIqv:"width",vzDfR:function(k,T){return k>T},GRjKY:o(263)},d=a.fabricSquareSize??r[o(283)],{length:v,width:m}=jt(d),h=a.scale??1,g=f[o(202)](v,h),p=f[o(268)](f.yABKW(m,a.widthScale??1),h),D=f[o(195)](u,a.position.x),b=i-a.position.y,z=f.KRdzZ(xa,-(a.rotation??0)),C=f[o(195)](D*Math.cos(z),b*Math.sin(z)),y=f.YUHWw(D*Math[o(223)](z),f[o(268)](b,Math[o(220)](z))),B=C/g,G=f[o(209)](y,p);return f.uFEgH(B,-.05)||B>1.08?f[o(252)]:f[o(215)](Math[o(247)](G),.75)?o(210):f.pfCPs(Math[o(247)](G),.45)?f.gZIqv:f[o(237)](B,.75)?"rotate":B>.3?o(281):f[o(274)]}function Vd(u,i){const a=wt,r={tqcIT:"rotate",ziGUi:a(281),dkgax:a(210)};switch(u){case r[a(255)]:return'url("'+i+'rotate_cursor_32.png") 16 16, crosshair';case r[a(246)]:return'url("'+i+a(219);case"width":return'url("'+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case a(263):return er(i);case r.dkgax:default:return a(208)}}function Rd(u,i){const a=wt,r={YxuZp:"center",TaRas:"pointer",ceRIy:a(235),DncIG:a(239),zrjpK:a(241),Srikq:a(208)};switch(u){case r.YxuZp:return r[a(224)];case r.ceRIy:return a(206)+i+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return a(206)+i+a(219);case r[a(248)]:return'url("'+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case r[a(245)]:return'url("'+i+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case"move":return er(i);default:return r[a(214)]}}function wt(u,i){u=u-194;const a=T0();let r=a[u];if(wt.iPlHOo===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};wt.srdbUA=o,wt.zqEsKQ={},wt.iPlHOo=!0}const f=a[0],d=u+f,v=wt.zqEsKQ[d];if(v)r=v;else{const m=function(h){this.XZTAgl=h,this.ZAewUi=[1,0,0],this.wWUjOd=function(){return"newState"},this.rQDnXF="\\w+ *\\(\\) *{\\w+ *",this.tiyAQG=`['|"].+['|"];? *}`};m.prototype.ZvRtTo=function(){const h=new RegExp(this.rQDnXF+this.tiyAQG),g=h.test(this.wWUjOd.toString())?--this.ZAewUi[1]:--this.ZAewUi[0];return this.GMeaay(g)},m.prototype.GMeaay=function(h){return~h?this.CPCfve(this.XZTAgl):h},m.prototype.CPCfve=function(h){for(let g=0,p=this.ZAewUi.length;g<p;g++)this.ZAewUi.push(Math.round(Math.random())),p=this.ZAewUi.length;return h(this.ZAewUi[0])},new m(wt).ZvRtTo(),r=wt.srdbUA(r),wt.zqEsKQ[d]=r}return r}function er(u){return wt(206)+u+'move_object_cursor_32.png") 16 16, move'}function Hl(u){const i=wt;return'url("'+u+i(282)}function tm(u){const i=wt;return'url("'+u+i(211)}function nm(u){return wt(206)+u+'move_stencil_active_32.png") 16 16, grabbing'}(function(u,i){const a=gn,r=u();for(;;)try{if(-parseInt(a(385))/1*(-parseInt(a(391))/2)+parseInt(a(415))/3*(-parseInt(a(372))/4)+parseInt(a(370))/5*(-parseInt(a(381))/6)+-parseInt(a(426))/7+-parseInt(a(355))/8+-parseInt(a(404))/9+parseInt(a(423))/10*(parseInt(a(386))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(B0,233749);const lm=(function(){let u=!0;return function(i,a){const r=u?function(){const o=gn;if(a){const f=a[o(421)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),_x=lm(void 0,function(){const u=gn,i={rtafi:"(((.+)+)+)+$"};return _x[u(393)]()[u(396)](i[u(378)]).toString().constructor(_x).search(i.rtafi)});_x();function B0(){const u=["D2jKvwW","kcGOlISPkYKRksSK","mMDQC1vHuG","nJe2tfvAwfnY","y2XPzw50wa","CM90yxrPB25eCMfNuMvM","CNPIEgq","CwLXuha","mteZmde4uMXRAfDN","DfvNBKK","Dg9tDhjPBMC","venesLG","sMf5D3y","C2vHCMnO","wejAvuO","uLrqqKq","CgfUma","ChjVAMvJDa","y2XPzw50wq","s0zhuLK","v0DOD2u","mZq4mtKYyLjdExf5","D2LKDgHty2fSzurYywDszwy","qw5RCMq","uhfUAuG","AxL0zMi","zMXVD2vYCW","Cuz0Dvy","CgT1vKm","vuDIr2e","y3vYCMvUDa","Bgf5zxjjza","m0rpENfitG","rMrKzNa","vLH5Cei","BLf4vLu","vLrTBMO","Cg9ZAxrPB24","yxbWBhK","C2v0ug9PBNrLCKnHChr1CMu","mtCZmtCWs21PzuDP","CgXAyu8","ChvZAa","mtm4ntG4mwDQCfHHBW","BxvSDgLtDgfYDfbVC2L0Aw9UCW","Cwz0sxa","u0zvzeS","Cg9PBNrLCKLK","y3vYCMvUDfn2zW","BwLU","AxzNEhm","zw5KuMfKAxvZrhjHzW","C3rHCNrtDMC","D0zrD3K","zw5KuM90yxrPB25eCMfN","zMXVD2vY","BgvUz3rO","Aw5KzxG","CMfKAxvZrhjHz1jLzG","C3rHCNq","B0rMB1y","yxvZww8","rNzmrMK","nJqYodGWA0LNwePe","BgvHzG","y2XPy2TqzxrHBa","ENLJwgG","CM9QCxy","zMXVD2vYswq","y2Hztxu","DKThtfm","ChjLDMvUDerLzMf1Bhq","Dujivum","BgvHDMvZ","yMvNAw5sB3rHDgLVBKrYywC","ywjZ","C2HPzNrlzxK","twz3sMG","mte5nJm1C3jRthrj","y29UC3rYDwn0B3i","mti2nJu4ogHtr1jryW","DxbKyxrLuM90yxrPB25eCMfN","Bw92zwq","zMLUza","Aw5JBhvKzxm","BwfW","CNrHzMK","yMvNAw5xAwr0AfnJywXLrhjHzW","A2LUza","ntrvywXfwvC","C3rHCNrAB29T"];return B0=function(){return u},B0()}function gn(u,i){u=u-340;const a=B0();let r=a[u];if(gn.dsMXuy===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};gn.cTkYZS=o,gn.oDIALb={},gn.dsMXuy=!0}const f=a[0],d=u+f,v=gn.oDIALb[d];if(v)r=v;else{const m=function(h){this.HYoJca=h,this.symgTF=[1,0,0],this.hJElGs=function(){return"newState"},this.RTllCc="\\w+ *\\(\\) *{\\w+ *",this.bRkbZl=`['|"].+['|"];? *}`};m.prototype.WAEYvt=function(){const h=new RegExp(this.RTllCc+this.bRkbZl),g=h.test(this.hJElGs.toString())?--this.symgTF[1]:--this.symgTF[0];return this.djAADZ(g)},m.prototype.djAADZ=function(h){return~h?this.gdgJGa(this.HYoJca):h},m.prototype.gdgJGa=function(h){for(let g=0,p=this.symgTF.length;g<p;g++)this.symgTF.push(Math.round(Math.random())),p=this.symgTF.length;return h(this.symgTF[0])},new m(gn).WAEYvt(),r=gn.cTkYZS(r),gn.oDIALb[d]=r}return r}const p0=500*un;function am(u){const i=gn,a={SFUdK:function(S,w){return S-w},qFtuV:function(S,w){return S+w},xVDor:function(S,w){return S(w)},zycXh:function(S,w){return S===w},LiAfd:i(354),RCnzl:i(406),gpONk:function(S,w){return S-w},XOblk:function(S,w){return S(w)},nVHbW:i(384),nQxVU:function(S,w){return S(w)},ThZla:function(S,w){return S-w},vKGLS:function(S,w){return S<w},yyMdI:function(S,w){return S!==w},VTmnj:"JmjqI",htlOp:"project",WGhwe:function(S,w){return S>=w},KFGRY:function(S,w){return S<=w},iRwjJ:function(S,w){return S+w},gzxdW:"SqKLn",rzbxd:function(S,w){return S+w},iytfb:i(409),Jaywv:function(S,w){return S>w},UGbGa:function(S,w){return S===w},aKgSf:"oxVtb",BEJJW:function(S,w){return S(w)},Fddfp:i(365),wFQwy:function(S,w){return S(w)},qiqPp:i(359),ACnkv:function(S,w,N){return S(w,N)},YWWos:function(S,w){return S>w},TWJFK:function(S,w){return S+w},tXVuQ:function(S,w){return S!==w},wbdUl:"cswbK",dKRdI:function(S,w,N,M){return S(w,N,M)},OofJh:function(S,w){return S+w},RTPBD:function(S,w,N,M){return S(w,N,M)},tUgnI:function(S,w){return S-w},zHdfj:function(S,w){return S-w},jBGAh:function(S,w){return S===w},VXypB:"layer",ivgxs:function(S,w){return S(w)},EXszP:"CoANM",nZept:function(S,w,N,M,j){return S(w,N,M,j)},DuzET:"nkITj",ausYo:i(411),plZaO:i(347),uBHUC:"petal",kwlKI:function(S,w){return S(w)},XuohA:function(S,w){return S(w)}},{project:r,selection:o,setSelection:f,applyUpdate:d,dragRef:v,zoom:m,pan:h,setPan:g,stageRef:p,clientToSvgPoint:D,togglePetalSelection:b}=u,z=a.XuohA($h,{project:r,applyUpdate:d,stageRef:p,clientToSvgPoint:D}),C=F.useRef(null),y=S=>{const w=i;S[w(363)](),S.currentTarget?.setPointerCapture?.(S.pointerId),C[w(413)]={start:{x:S[w(387)],y:S[w(401)]},pan0:{...h}}},B=S=>{const w=i;if(!C.current)return;const N=S.clientX-C[w(413)].start.x,M=a[w(429)](S[w(401)],C.current[w(351)].y);g({x:C[w(413)].pan0.x+N,y:a[w(410)](C.current[w(399)].y,M)})},G=()=>{const S=i;C[S(413)]=null},k=F.useRef(null),[T,K]=F.useState(null);return{beginPan:y,updatePan:B,endPan:G,marqueeRef:k,marqueeRect:T,beginMarquee:S=>{const w=i;if(a.zycXh(a.LiAfd,a.RCnzl))a.xVDor(_0x6c060a,{kind:w(347),flowerId:_0x2a0b11[w(360)]});else{S[w(363)](),S.currentTarget?.[w(422)]?.(S[w(430)]);const N=D(S);k.current={startSvg:N,currentSvg:N},K(null)}},updateMarquee:S=>{const w=i;if(w(352)!==w(352))_0x21621f[w(425)](_0x492f43.id);else{if(!k.current)return;const N=a.xVDor(D,S);k.current[w(340)]=N;const M=k[w(413)][w(344)],j=Math.min(M.x,N.x),E=Math[w(341)](M.y,N.y),O=Math.abs(a.gpONk(N.x,M.x)),H=Math.abs(N.y-M.y);a.XOblk(K,{x:j,y:E,w:O,h:H})}},endMarquee:()=>{const S=i,w={TCDJX:a.nVHbW,PqniH:"flower"},N=k[S(413)];if(k.current=null,!N){a[S(418)](K,null);return}const M=N[S(344)],j=N.currentSvg,E=Math.hypot(a.ThZla(j.x,M.x),j.y-M.y);if(a[S(362)](E,3)){if(a.yyMdI(a[S(419)],a[S(419)]))return _0x565c88[S(393)]().search(icZLAP.TCDJX)[S(393)]()[S(371)](_0x56a73f).search(icZLAP[S(394)]);f({kind:a.htlOp}),K(null);return}const O=Math[S(341)](M.x,j.x),H=Math.min(M.y,j.y),Y=Math.abs(a.gpONk(j.x,M.x)),A=Math[S(367)](j.y-M.y),q=[];for(const X of r[S(409)])a[S(403)](X[S(420)].x,O)&&X[S(420)].x<=a.qFtuV(O,Y)&&X[S(420)].y>=H&&a[S(402)](X[S(420)].y,a.iRwjJ(H,A))&&q.push(X.id);const I=[];for(const X of r[S(365)]??[])a.gzxdW!==S(369)?a.WGhwe(X[S(420)].x,O)&&X.position.x<=O+Y&&X.position.y>=H&&X[S(420)].y<=a[S(389)](H,A)&&(a.zycXh("qQuWM",S(428))?_0x5a8914({kind:w[S(407)],flowerId:_0x2cd94f[0]}):I[S(425)](X.id)):_0x21508e=_0x3901a3.flowerIds.map(ae=>{const se=S,fe=_0x424539.flowers.find(oe=>oe.id===ae);return{id:ae,x:fe?.[se(420)].x??0,y:fe?.position.y??0}});if(q.length>0)q.length===1?f({kind:S(347),flowerId:q[0]}):f({kind:a[S(408)],flowerIds:q});else if(a[S(395)](I[S(348)],0))if(a[S(412)](I[S(348)],1))if(a.yyMdI(a.aKgSf,a.aKgSf)){const X=_0x40cbfc(_0x5454a9,_0x34a8e5);X[S(348)]>1&&(_0x14243a=X[S(377)](ae=>{const se=S,fe=_0x2ad066[se(409)][se(375)](oe=>oe.id===ae);return{id:ae,x:fe?.position.x??0,y:fe?.position.y??0}}))}else f({kind:S(356),leafId:I[0]});else a.BEJJW(f,{kind:a[S(416)],leafIds:I});else a[S(345)](f,{kind:a.htlOp});K(null)},beginFlowerDrag:(S,w,N)=>{const M=i;w[M(363)](),w.currentTarget?.[M(422)]?.(w[M(430)]);const j=r[M(409)][M(375)](O=>O.id===S);if(!j)return;let E=null;if(a[M(358)](o.kind,"flowers")&&o.flowerIds[M(376)](S))E=o.flowerIds.map(O=>{const H=M,Y=r[H(409)].find(A=>A.id===O);return{id:O,x:Y?.[H(420)].x??0,y:Y?.position.y??0}});else if(a.qiqPp===a[M(390)]){const O=a.ACnkv(_h,r,S);a.YWWos(O.length,1)&&(E=O[M(377)](H=>{const Y=M,A=r[Y(409)].find(q=>q.id===H);return{id:H,x:A?.[Y(420)].x??0,y:A?.[Y(420)].y??0}}))}else IbokzZ.vxiLa(_0x3fcd47,{kind:M(400)});v.current={flowerId:S,startClient:{x:w[M(387)],y:w.clientY},startPos:{...j.position},moved:!1,clickPetal:N??null,isShiftPressed:w[M(368)]||!1,multiStartPositions:E,startZoom:m}},updateFlowerDrag:S=>{const w=i,N={XBZUJ:function(Y,A){return a.OofJh(Y,A)},wEGYQ:function(Y,A,q,I){return a[gn(398)](Y,A,q,I)},GMuri:function(Y,A){return Y+A}},M=v[w(413)];if(!M)return;const j=(S[w(387)]-M.startClient.x)/M[w(382)],E=(S.clientY-M.startClient.y)/M.startZoom,O=a[w(392)](S[w(387)],M.startClient.x),H=a.zHdfj(S[w(401)],M.startClient.y);a[w(389)](Math[w(367)](O),Math[w(367)](H))>4&&(M.moved=!0),a.ACnkv(d,Y=>{const A=w;if(M.multiStartPositions)for(const q of M[A(427)]){const I=Y[A(409)][A(375)](X=>X.id===q.id);I&&(I.position.x=Se(q.x+j,0,p0),I.position.y=Se(a.TWJFK(q.y,E),0,p0))}else if(a.tXVuQ(A(361),a[A(383)])){const q=Y[A(409)].find(I=>I.id===M.flowerId);if(!q)return;q.position.x=Se(M.startPos.x+j,0,p0),q[A(420)].y=a.dKRdI(Se,a.iRwjJ(M.startPos.y,E),0,p0)}else{const q=_0x30ec83.flowers.find(I=>I.id===_0x500724[A(360)]);if(!q)return;q.position.x=_0xeff3e8(N[A(397)](_0x5ba477.startPos.x,_0x3d54de),0,_0x3b12ce),q[A(420)].y=N.wEGYQ(_0x2f3a27,N.GMuri(_0x5d9335.startPos.y,_0x3655a7),0,_0x42c84e)}},!1)},endFlowerDrag:()=>{const S=i;if(a.EXszP!=="jhLFv"){const w=v[S(413)];if(!w)return;!w[S(374)]&&w.clickPetal?w.isShiftPressed?a.nZept(b,w.flowerId,w.clickPetal[S(414)],w.clickPetal[S(349)],!0):a.wFQwy(f,{kind:"petal",flowerId:w[S(360)],layerId:w[S(357)][S(414)],index:w[S(357)].index}):w[S(374)]&&(a.DuzET===a[S(353)]?((a.jBGAh(_0x393cae[S(380)],S(400))||_0xecd80.kind==="flower"&&_0x4e6a08[S(360)]!==_0x394dc8.flowerId||a[S(358)](_0x3eb0fb.kind,a[S(417)])&&_0x57c1a7[S(360)]!==_0x1bac3d.flowerId||_0x266440[S(380)]==="petal"&&_0x4ee0c8[S(360)]!==_0x5cb5a1.flowerId)&&a[S(342)](_0x738c1,{kind:"flower",flowerId:_0x43a37f.flowerId}),_0x3d9442(()=>{},!0)):((o.kind===a.htlOp||a.zycXh(o.kind,a.plZaO)&&o.flowerId!==w.flowerId||a.jBGAh(o.kind,"layer")&&o.flowerId!==w.flowerId||o[S(380)]===a[S(364)]&&o.flowerId!==w.flowerId)&&a.kwlKI(f,{kind:a[S(424)],flowerId:w.flowerId}),d(()=>{},!0))),v.current=null}else _0x3f46ff({kind:a.iytfb,flowerIds:_0x1318ea})},scaleDragRef:z.scaleDragRef,beginScaleDrag:z.beginScaleDrag,updateScaleDrag:z.updateScaleDrag,endScaleDrag:z.endScaleDrag,rotationDragRef:z[i(388)],beginRotationDrag:z[i(366)],updateRotationDrag:z[i(373)],endRotationDrag:z[i(346)],widthScaleDragRef:z[i(405)],beginWidthScaleDrag:z[i(379)],updateWidthScaleDrag:z.updateWidthScaleDrag,endWidthScaleDrag:z.endWidthScaleDrag,radiusDragRef:z[i(350)],beginRadiusDrag:z.beginRadiusDrag,updateRadiusDrag:z.updateRadiusDrag,endRadiusDrag:z[i(343)]}}function im({className:u}){return x.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function ra(u){const i=!!u.selected,a=!!u.muted,r=4+(u.level||0)*12+(u.leftOffset||0),o=Math.max(0,r),f=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",d="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:v=>{u.onDoubleClick&&(v.stopPropagation(),u.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?x.jsx("span",{className:`${i?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:u.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?x.jsx("button",{type:"button",className:`${d} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:v=>{v.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(im,{className:"h-4 w-4"})}):x.jsx("div",{className:`${d} shrink-0`,"aria-hidden":!0})]})]})}function rm(u){const{project:i,selection:a,setSelection:r,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:d,handleFlowerRowDoubleClick:v,addFlower:m,deleteSelected:h,addOuterLayer:g,deleteOuterLayer:p,deleteFlowerById:D,deleteLayerById:b,treeScrollRef:z,setExpandedFlowers:C}=u;return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsx("div",{className:"text-sm font-semibold px-0.5",children:""}),x.jsxs("div",{className:"mt-1.5 flex gap-1 flex-wrap",children:[x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:m,title:"","aria-label":"","data-testid":"btn-add-flower",children:x.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M12 3c1.2 2 .5 4-1 5.5C9.5 10 9 11.5 12 12c3 .5 2.5-1.5 1-3S10.8 5 12 3z"}),x.jsx("path",{d:"M12 3c-1.2 2-.5 4 1 5.5 1.5 1.5 2 3-1 3.5-3 .5-2.5-1.5-1-3S13.2 5 12 3z"}),x.jsx("path",{d:"M12 12c-2 1.5-4 1.2-5 0s0-3 2-3.5"}),x.jsx("path",{d:"M12 12c2 1.5 4 1.2 5 0s0-3-2-3.5"}),x.jsx("path",{d:"M12 12v5M10 15h4"}),x.jsx("circle",{cx:"12",cy:"11",r:"1.2",fill:"currentColor",stroke:"none"}),x.jsx("line",{x1:"20",y1:"2",x2:"20",y2:"7",stroke:"currentColor",strokeWidth:"2"}),x.jsx("line",{x1:"17.5",y1:"4.5",x2:"22.5",y2:"4.5",stroke:"currentColor",strokeWidth:"2"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:h,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]}),x.jsxs("div",{className:"mt-1.5 max-h-[420px] overflow-y-auto overflow-x-auto",ref:z,"data-testid":"layer-tree",children:[x.jsx(ra,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),(()=>{const y=u.groups,B=new Set(y.flatMap(T=>T.flowerIds)),G=i.flowers.filter(T=>!B.has(T.id)),k=(T,K)=>{const V=a.kind==="flower"&&a.flowerId===T.id,R=a.kind==="flowers"&&a.flowerIds.includes(T.id),Z=V||R,P="",ne=o(T.id),W=T.layers&&T.layers.length>0,S=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),g(T.id)},"aria-label":"Add outer layer",children:"+"}),W&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),p(T.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":T.id,"data-testid":`tree-flower-${T.id}`,style:{paddingLeft:K},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${ne?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:ne?"Collapse layers":"Expand layers",onClick:w=>{w.stopPropagation(),f(T.id)},"aria-label":ne?"collapse":"expand","data-tree-toggle":!0,children:ne?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ra,{label:T.name,marker:P,selected:Z,showTrash:V,onTrash:()=>D(T.id),rightActions:S,onClick:()=>d(T.id),onDoubleClick:()=>v(T.id),level:0,leftOffset:-18})})]}),ne&&T.layers.slice().sort((w,N)=>N.order-w.order).map(w=>{const N=(a.kind==="layer"||a.kind==="petal")&&a.layerId===w.id;return x.jsx(ra,{label:`${w.order}. ${w.name}`,marker:"",selected:N,showTrash:N,onTrash:()=>b(T.id,w.id),onClick:()=>{r({kind:"layer",flowerId:T.id,layerId:w.id}),C(M=>({...M,[T.id]:!0}))},level:0,leftOffset:10,muted:!w.visible},w.id)})]},T.id)};return x.jsxs(x.Fragment,{children:[[...y].reverse().map(T=>{const K=a.kind==="group"&&a.groupId===T.id,V="",R=u.isGroupExpanded(T.id);return x.jsxs("div",{"data-group-id":T.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${R?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:R?"":"",onClick:Z=>{Z.stopPropagation(),u.toggleGroupExpanded(T.id)},"aria-label":R?"collapse group":"expand group",children:R?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ra,{label:` ${T.name}`,marker:V,selected:K,onClick:()=>u.onSelectGroup(T.id),level:0,leftOffset:-18})})]}),R&&T.flowerIds.map(Z=>{const P=i.flowers.find(ne=>ne.id===Z);return P?k(P,12):null})]},T.id)}),[...G].reverse().map(T=>k(T,0))]})})()]}),x.jsxs("div",{className:"mt-2 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsx("div",{className:"mt-1 max-h-[200px] overflow-y-auto",children:(()=>{const y=u.leafGroups,B=new Set(y.flatMap(k=>k.leafIds)),G=u.leaves.filter(k=>!B.has(k.id));return x.jsxs(x.Fragment,{children:[y.map(k=>{const T=a.kind==="leafGroup"&&a.leafGroupId===k.id;return x.jsxs("div",{children:[x.jsx(ra,{label:` ${k.name}`,selected:T,onClick:()=>u.onSelectLeafGroup(k.id),level:0,leftOffset:0}),k.leafIds.map(K=>{const V=u.leaves.find(Z=>Z.id===K);if(!V)return null;const R=a.kind==="leaf"&&a.leafId===V.id;return x.jsx(ra,{label:V.name,selected:R,showTrash:R,onTrash:()=>u.onDeleteLeaf(V.id),onClick:()=>u.onSelectLeaf(V.id),level:0,leftOffset:12,muted:!V.visible},V.id)})]},k.id)}),[...G].reverse().map(k=>{const T=a.kind==="leaf"&&a.leafId===k.id;return x.jsx(ra,{label:k.name,selected:T,showTrash:T,onTrash:()=>u.onDeleteLeaf(k.id),onClick:()=>u.onSelectLeaf(k.id),level:0,leftOffset:0,muted:!k.visible},k.id)}),u.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})})()})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const ce=En;function En(u,i){u=u-172;const a=q0();let r=a[u];if(En.HhqPee===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};En.HqzJQY=o,En.shdXBf={},En.HhqPee=!0}const f=a[0],d=u+f,v=En.shdXBf[d];if(v)r=v;else{const m=function(h){this.hLYVvp=h,this.NQJrbt=[1,0,0],this.ShBucN=function(){return"newState"},this.DSZuKb="\\w+ *\\(\\) *{\\w+ *",this.bfrcce=`['|"].+['|"];? *}`};m.prototype.UOYEYr=function(){const h=new RegExp(this.DSZuKb+this.bfrcce),g=h.test(this.ShBucN.toString())?--this.NQJrbt[1]:--this.NQJrbt[0];return this.RDZYXv(g)},m.prototype.RDZYXv=function(h){return~h?this.ZkrzRL(this.hLYVvp):h},m.prototype.ZkrzRL=function(h){for(let g=0,p=this.NQJrbt.length;g<p;g++)this.NQJrbt.push(Math.round(Math.random())),p=this.NQJrbt.length;return h(this.NQJrbt[0])},new m(En).UOYEYr(),r=En.HqzJQY(r),En.shdXBf[d]=r}return r}(function(u,i){const a=En,r=u();for(;;)try{if(parseInt(a(234))/1+-parseInt(a(264))/2*(parseInt(a(178))/3)+-parseInt(a(274))/4*(parseInt(a(182))/5)+-parseInt(a(209))/6*(parseInt(a(185))/7)+-parseInt(a(213))/8+-parseInt(a(273))/9+parseInt(a(180))/10*(parseInt(a(183))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(q0,141086);const um=(function(){let u=!0;return function(i,a){const r=u?function(){const o=En;if(a){const f=a[o(225)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Sx=um(void 0,function(){const u=En;return Sx.toString().search(u(262)).toString()[u(261)](Sx)[u(267)]("(((.+)+)+)+$")});Sx();const Wd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Qd={adult:"",child:""},Pd={right:ce(179),left:ce(235),back:""},cm=["M 0 0",ce(174),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76","C 65 80, 68 85, 74 90","C 78 93, 82 96, 83 99",ce(232),"C 70 106, 70 108, 73 110",ce(258),"C 69 121, 65 126, 61 131","C 56 137, 49 142, 43 146","C 37 150, 31 154, 27 161",ce(254),ce(211),ce(188),"L -36 280","L -125 280","C -112 260, -96 242, -82 226","C -68 212, -56 200, -48 190",ce(252),ce(269),"C -48 134, -58 126, -68 118",ce(198),ce(242),ce(173),"C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"].join(" "),xm=[ce(214),"C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134","C 72 142, 60 152, 48 162",ce(237),"C 28 198, 34 212, 48 228",ce(221),ce(197),ce(202),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162","C -60 152, -72 142, -78 134",ce(219),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62",ce(265),"C -44 6, -20 0, 0 0","Z","M 0 70","C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",ce(276),"C -40 136, -46 126, -48 116",ce(215),ce(250),"Z"].join(" "),sm=[ce(214),ce(251),ce(201),ce(246),"C 62 60, 59 64, 57 68",ce(191),"C 65 81, 66 83, 66 85",ce(277),"C 57 91, 57 93, 59 95","C 60 97, 58 101, 54 106",ce(257),ce(192),"C 22 151, 14 167, -2 183","C -10 195, -18 209, -22 221",ce(236),ce(260),"C -86 218, -72 200, -58 186",ce(238),"C -35 150, -36 142, -40 134",ce(196),"C -68 96, -70 84, -66 74",ce(207),"C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z"].join(" "),om=["M 0 0",ce(203),"C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94",ce(190),"C 54 120, 44 130, 38 140",ce(210),ce(244),"L -70 240","C -66 228, -60 214, -55 202",ce(263),"C -44 130, -54 120, -60 112",ce(229),ce(220),ce(206),ce(217),"Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",ce(270),ce(253),"Z",ce(230),"C -54 20, -66 22, -72 32",ce(204),"C -66 68, -56 70, -48 66",ce(205),"C -43 32, -44 28, -46 26","Z"][ce(172)](" "),fm=[ce(214),ce(174),"C 65 12, 72 26, 76 42",ce(259),ce(222),ce(266),ce(255),ce(177),"C -34 10, -22 3, -10 0",ce(212),"Z",ce(186),"C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84",ce(242),"C -70 52, -66 48, -62 44",ce(271),ce(223),ce(268),"Z"].join(" "),dm=["M 0 0",ce(275),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116",ce(241),ce(181),"C 8 160, -8 160, -20 158",ce(216),"C -82 128, -84 122, -84 116",ce(233),"C -83 86, -82 74, -80 62",ce(265),"C -44 6, -20 0, 0 0","Z","M 0 70","C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116",ce(227),"C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116",ce(215),ce(250),"Z"][ce(172)](" "),hm=[ce(214),ce(251),"C 55 10, 60 22, 63 36",ce(246),ce(200),ce(193),"C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z","M -40 134","C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",ce(226),"C -38 94, -36 112, -38 126","L -40 134","Z"].join(" "),mm=[ce(214),ce(203),"C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126",ce(231),ce(228),ce(229),ce(220),"C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z",ce(239),ce(224),ce(184),"C 66 68, 56 70, 48 66",ce(270),ce(253),"Z",ce(230),"C -54 20, -66 22, -72 32",ce(204),ce(187),ce(205),ce(243),"Z"][ce(172)](" ");function bm(u,i){const a=ce,r={BpLtJ:"right"},o=i===r.BpLtJ||i===a(208);return u===a(245)?o?cm:xm:o?sm:om}function gm(u,i){const a=ce,r={zRzJQ:"right",mNUJH:a(245)},o=i===r[a(256)]||i==="left";return u===r[a(189)]?o?fm:dm:o?hm:mm}const vm={right:"/tsumami/"+ce(218),left:"/tsumami/stencils/adult_left.png",back:ce(199)+ce(272)},ym={right:"/tsumami/"+ce(247),left:ce(199)+"stencils/child_left.png",back:"/tsumami/"+ce(194)},pm={adult:vm,child:ym};function _m(u,i){const a=ce,r={YGOWa:"left",jDpzc:function(v,m){return v===m}},o=i===a(176)||i===r[a(248)]?"side":"back",f=Wd[u][o],d=pm[u]?.[i]??null;return{path:bm(u,i),hairPath:gm(u,i),scaleX:r.jDpzc(i,a(208))?-1:1,imageUrl:d,imageWidthMm:f[a(195)],imageHeightMm:f.height}}function q0(){const u=["mJq1nZqYy1LgvwTU","5BEM5zcr44gn","tcaTmZaGmJqW","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","tsa0nIaYnG","uuHSww0","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYaTndmGmZiSic00ncaYocWGltq2idi2","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","ywr1Bhq","qYa2nca0ncWGnJqGntaSidyZidu2","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","wuDpv2e","BgrYDLC","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYaXncaTncWGmZyGltqSidq4idq","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","qYaTmZaGntqSic00oca0ocWGltyYidq0","ELj6sLe","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","qYa3oca1mIWGnZCGnJaSidC0idy2","tcaTmtaWidi0ma","y29UC3rYDwn0B3i","kcGOlISPkYKRksSK","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","mKHuDKHJtW","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYa0oca3ncWGmJaGnJqSic04idu4","C2vHCMnO","tcaTndaGmtqY","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","qYa0mIa2mIWGndaGntaSidqYidm4","qYaTntGGntaSic01nca1ocWGltuWidCW","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","nty1nJmYwfztAuzg","nhHKB1zNDa","qYaYmcaWlca0nca2lca1ocaYma","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYa2nIa4nIWGnJiGodGSidu4idKW","AM9PBG","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaXnsaTmIWGmZGGltuSidu1idu","yMfJAW","CMLNAhq","qYaTntyGmZySic01mcaYnIWGltqYide4","ntyYmJyZAMjwDvjq","5y+Z5zcr44gn","nJy5nJy3mezMEuHcCG","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","nJK4otmWr0zdCgjS","mtfytePNsfC","qYa3oca0mcWGnZGGntqSidCYidyY","n25dvhzfsG","tsaTndaGmtqY","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","Bu5vsKG","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","qYa1nYa3msWGntKGnZuSidyZidC5","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","qYaTmJGGndySic00mca0ncWGltuWidq0","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","D2LKDgG","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","tcaTotiGmJGW","qYaTodaGmta4lcaTodGGotySic04oca4na","l3rZDw1HBwKV","qYa0nca1ncWGmtyGndGSic0Xmca0nG","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","BgvMDa","mtq0ntm4mKXfBK9sqq","qYaZmcaXntiSidmYide2nIWGntuGmJaY","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","qYaTncaTmsWGlteGlteSidaGma","mte0nJK2ohrKr25ICa","tsaWida","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","qYaTndaGmtaSic0XocaXlcaWida","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYaTnJyGodySic02nca3ocWGlty0idy4","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","qYa3mIa2osWGnJKGnZiSidy2idC2","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYa1ncaYmcWGnJyGmJiSidCYidmY","yxbWBhK","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","tsaTndyGmJy","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG"];return q0=function(){return u},q0()}(function(u,i){const a=rn,r=u();for(;;)try{if(-parseInt(a(505))/1+-parseInt(a(498))/2*(parseInt(a(431))/3)+-parseInt(a(487))/4*(parseInt(a(494))/5)+-parseInt(a(478))/6*(-parseInt(a(433))/7)+parseInt(a(480))/8*(-parseInt(a(469))/9)+-parseInt(a(499))/10*(-parseInt(a(460))/11)+parseInt(a(462))/12*(parseInt(a(503))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(k0,223250);const Sm=(function(){let u=!0;return function(i,a){const r=u?function(){const o=rn;if(a){const f=a[o(430)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Cx=Sm(void 0,function(){const u=rn,i={Sdqjr:u(473)};return Cx.toString().search(i.Sdqjr)[u(504)]().constructor(Cx).search(u(473))});function k0(){const u=["mtaXnZa5nMT3Agf3tq","Dg91y2HZDgfYDa","BgvMDa","tLnSEvi","DK1uq0W","tNjLz2S","z2v0qM91BMrPBMDdBgLLBNrszwn0","nJqWmdHsv0fcBw8","y2XPzw50wq","vvLtuK4","BwDYBuG","Dg91y2HLCW","BgvUz3rO","zgzgzfC","ntvmtNHxswi","vKnnyuS","DuPyr1i","zfPQuNK","ntmYse9Ts1DO","mJy4mfnYAuTAEa","Bwf4","vuTLB0G","zMDxvuW","mJzhyLbhu1i","Dg9tDhjPBMC","mtKWmdq2sfzsCgvc","sfL1EgG","tLfYA1G","yxbWBhK","ntaXEwjkqvPL","CMvTB3zLrxzLBNrmAxn0zw5LCG","ndeZAhfzCuDU","m3W0Fdf8mNWW","AxfYvum","Dg91y2HTB3zL","C3bSAxq","zgz0CKG","Aw5PDgLHBenLBNrLCG","wfvlAva","ChjLDMvUDerLzMf1Bhq","Dg91y2HLBMq","y29UC3rYDwn0B3i","rwDfAMy","sgPOu28","BMXTDxe","C2vHCMnO","q1nqELi","rLjxu2K","thLRC1q","AMLTDMS","ywrKrxzLBNrmAxn0zw5LCG","serTEhm","yw5usw8","Eur0Agu","D2LKDgG","y3vYCMvUDa","ALznDxG","Aw5PDgLHBfPVB20","otyXnerpuwPotq","t0fSs24","mZiZmdiYmezXy0Lzta","vKzYvvC","qMjsC2S","Aw5PDgLHBfbHBG","EM9VBuXLDMvS","zNneDxG","AgvPz2H0","mJDQBhvQwhi","BuvOsgi","CuTODgO","shbHtKm","kcGOlISPkYKRksSK","AhLWB3q","CgfU","rKDnugu","ue9qrum","mJq2nJzzBLzrvKi","y2XPzw50wa"];return k0=function(){return u},k0()}Cx();const ix=520;function rn(u,i){u=u-428;const a=k0();let r=a[u];if(rn.qvmhfJ===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};rn.DaNgpD=o,rn.mBAnyg={},rn.qvmhfJ=!0}const f=a[0],d=u+f,v=rn.mBAnyg[d];if(v)r=v;else{const m=function(h){this.pWrqOC=h,this.YnhhcP=[1,0,0],this.xPMkaj=function(){return"newState"},this.wxfYfx="\\w+ *\\(\\) *{\\w+ *",this.ltnTxJ=`['|"].+['|"];? *}`};m.prototype.SJrFiQ=function(){const h=new RegExp(this.wxfYfx+this.ltnTxJ),g=h.test(this.xPMkaj.toString())?--this.YnhhcP[1]:--this.YnhhcP[0];return this.CMZOxp(g)},m.prototype.CMZOxp=function(h){return~h?this.tOwAqc(this.pWrqOC):h},m.prototype.tOwAqc=function(h){for(let g=0,p=this.YnhhcP.length;g<p;g++)this.YnhhcP.push(Math.round(Math.random())),p=this.YnhhcP.length;return h(this.YnhhcP[0])},new m(rn).SJrFiQ(),r=rn.DaNgpD(r),rn.mBAnyg[d]=r}return r}function Gd(u,i,a,r,o,f,d){const v=rn,m={CSPzR:function(g,p){return g+p},mEhHb:function(g,p){return g*p},UYSRN:function(g,p){return g-p},NSlyR:function(g,p){return g*p}},h=r/a-1;return{x:d.x-h*m[v(448)](-d.x,m[v(470)](u,o)),y:m[v(489)](d.y,h*(-d.y+m[v(483)](i,f)))}}function Cm(u){const i=rn,a={WJNpk:function(N,M,j,E){return N(M,j,E)},XUKiP:function(N,M){return N+M},QEyEI:function(N,M){return N===M},dfFdW:function(N,M){return N!==M},vMTCL:"cqGss",dZjRy:function(N){return N()},POPEC:function(N){return N()},NAveo:function(N,M){return N/M},cnlJz:function(N,M){return N-M},fsDux:function(N,M){return N-M},iqrUC:function(N,M){return N===M},BbRsk:function(N,M){return N+M},UKeoH:function(N,M){return N/M},HDmxs:function(N,M){return N-M},QICBC:function(N,M){return N/M},LyksT:function(N,M){return N(M)},EgEjf:function(N,M){return N*M},PFadl:function(N,M){return N*M},HYuxh:function(N,M){return N/M},FGMPe:function(N,M){return N*M},xIwzc:"EhtYv",fgWUL:function(N,M){return N<M},nlmuq:i(454),Fkmfh:function(N,M){return N*M},VCMaK:function(N,M,j,E){return N(M,j,E)},FRWSi:function(N,M){return N-M},JGtwg:function(N,M){return N-M},jKmFv:"(((.+)+)+)+$",qKhtj:"USucd",GlWqN:i(481),jimvk:"touchend",uJXGR:function(N,M){return N(M)},LYUnO:function(N,M){return N+M},rUhzP:function(N,M){return N/M},mgrmH:"jVMux",yDthe:function(N,M){return N(M)},fuHdk:function(N,M,j){return N(M,j)},vwSPm:function(N,M){return N(M)},ObKGa:function(N,M){return N(M)},OAlKn:function(N,M,j){return N(M,j)},NupAX:function(N,M,j){return N(M,j)}},{setZoom:r,setPan:o,setZoomLevel:f,ZOOM_LEVELS:d,stageRef:v,endPan:m,endFlowerDrag:h,endMarquee:g,endRotationDrag:p,endScaleDrag:D,endWidthScaleDrag:b,endRadiusDrag:z}=u,C=a[i(450)](F.useRef,null),y=F.useRef(u.pan),B=a[i(450)](F.useRef,u.zoom);a.fuHdk(F.useEffect,()=>{const N=i,M={Nregk:function(j,E,O,H){return a.WJNpk(j,E,O,H)},MrdlY:function(j,E){return a[rn(440)](j,E)},apUYR:function(j,E){return j-E},NQrkX:function(j,E){return j(E)}};if(N(445)==="vjUWB"){const j=_0x2c35ff[N(457)],E=M[N(485)](_0x4fd66,M.MrdlY(j,_0x38075b),0,M.apUYR(_0x54c1a7.length,1));if(E===j)return;const O=_0x327707[N(457)],H=_0x43d222[E],Y=_0x271520.current;if(!Y){M[N(429)](_0x153df0,E);return}const A=Y.getBoundingClientRect(),q=A.width/A.height,I=_0x1f644f,X=I*q,ae=_0x182d5d(.5,.5,O,H,X,I,_0x25ad18.current);_0xa37bcf.current=H,_0x15167f[N(457)]=E,_0x34503e[N(457)]=ae,M.NQrkX(_0x3ba535,E),_0x38b260(ae)}else y.current=u.pan},[u[i(475)]]),F.useEffect(()=>{B.current=u.zoom},[u.zoom]);const G=a.vwSPm(F.useRef,u.zoomLevel);a.fuHdk(F.useEffect,()=>{const N=i;G[N(457)]=u[N(466)]},[u[i(466)]]);const k=a.yDthe(F.useRef,null),T=a.ObKGa(F.useRef,null),K=a.OAlKn(F.useCallback,N=>{const M=i;if(a.QEyEI(N.touches[M(492)],2))if(a.dfFdW(a[M(484)],a.vMTCL))_0x9ca16f[M(457)]=_0x5664d5[M(466)];else{N[M(441)](),a.dZjRy(m),h(),a[M(497)](g),p(),a.POPEC(D),a[M(477)](b),a.POPEC(z),k.current=null,T.current=null;const j=N[M(491)][0],E=N[M(491)][1],O=a[M(440)](j[M(479)],E[M(479)])/2,H=a.NAveo(j[M(488)]+E.clientY,2),Y=Math[M(474)](a.cnlJz(E.clientX,j.clientX),a[M(467)](E[M(488)],j.clientY));C[M(457)]={initialCenter:{x:O,y:H},initialDist:Y,initialPan:{...y.current},initialZoom:B.current}}},[m,h,g,p,D,b,z]),V=F.useCallback(N=>{const M=i;if(a[M(435)](N[M(491)].length,2)&&C[M(457)]){N.preventDefault();const j=N.touches[0],E=N.touches[1],O=a[M(464)](j.clientX,E.clientX)/2,H=a[M(501)](a.BbRsk(j.clientY,E[M(488)]),2),Y=Math.hypot(E[M(479)]-j.clientX,a.HDmxs(E[M(488)],j[M(488)])),A=C[M(457)],q=a.QICBC(Y,Math[M(500)](1,A.initialDist)),I=Se(a[M(450)](Number,a.EgEjf(A[M(459)],q).toFixed(3)),d[0],d[d.length-1]),X=A.initialZoom,ae=a[M(453)](O,A.initialCenter.x),se=H-A[M(439)].y;let fe=A.initialPan.x+ae,oe=a[M(440)](A[M(465)].y,se);const be=v.current;if(be&&X!==I){const he=be[M(486)](),Qe=a.UKeoH(A.initialCenter.x-he.left,he.width),et=(A[M(439)].y-he.top)/he.height,ut=he[M(456)]/he.height,Fe=ix,Mt=a[M(444)](Fe,ut),Lt=(I/X-1)*a[M(464)](-A[M(465)].x,a.PFadl(Qe,Mt)),Ut=(a[M(428)](I,X)-1)*(-A.initialPan.y+a.FGMPe(et,Fe));fe-=Lt,oe-=Ut}const we={x:fe,y:oe};B.current=I,y.current=we,a[M(450)](o,we),a[M(450)](r,I)}},[o,r,v,d]),R=F.useCallback(N=>{const M=i;if(a.dfFdW("AvMzD",a.xIwzc)){if(a[M(502)](N.touches[M(492)],2))if(M(472)!==a[M(446)])C.current=null;else{_0xdd2af7(_0x3b2598);return}}else _0x526c9c.current=null},[]),Z=.003,P=a[i(461)](F.useCallback,N=>{const M=i;N[M(441)]();const j=v[M(457)];if(!j)return;const E=B.current,O=a.Fkmfh(E,Math.exp(-N.deltaY*Z)),H=a[M(495)](Se,O,d[0],d[d.length-1]);if(Math.abs(a[M(449)](H,E))<1e-6)return;const Y=j[M(486)](),A=a.FRWSi(N.clientX,Y[M(482)])/Y.width,q=a.JGtwg(N[M(488)],Y.top)/Y[M(468)],I=Y[M(456)]/Y[M(468)],X=ix,ae=a.Fkmfh(X,I),se=Gd(A,q,E,H,ae,X,y.current);B[M(457)]=H,y.current=se,r(H),a.LyksT(o,se)},[r,o,v,d]);a.NupAX(F.useEffect,()=>{const N=i,M={EreDF:function(j,E){return a.fgWUL(j,E)},VFrUW:function(j,E){return j===E},dftrH:N(481)};if(a[N(471)]!=="EgLbf"){const j=v[N(457)];return j?(j[N(452)](a.GlWqN,K,{passive:!1}),j[N(452)](N(436),V,{passive:!1}),j[N(452)](a[N(451)],R),j.addEventListener("wheel",P,{passive:!1}),()=>{const E=N;M[E(463)]("VUDDE","knIUV")?CQgFvD.EreDF(_0x47bb3d.touches.length,2)&&(_0x3d5f31.current=null):(j[E(432)](M[E(438)],K),j[E(432)](E(436),V),j.removeEventListener(E(442),R),j[E(432)]("wheel",P))}):void 0}else return _0x385c33.toString()[N(447)]("(((.+)+)+)+$").toString()[N(443)](_0x1ea7e5).search(fXTcEs.jKmFv)},[v,K,V,R,P]);const ne=F.useCallback(N=>{const M=i,j=G[M(457)],E=Se(a[M(464)](j,N),0,d.length-1);if(E===j)return;const O=B.current,H=d[E],Y=v.current;if(!Y){f(E);return}const A=Y.getBoundingClientRect(),q=a[M(428)](A.width,A[M(468)]),I=ix,X=a[M(476)](I,q),ae=Gd(.5,.5,O,H,X,I,y[M(457)]);B[M(457)]=H,G.current=E,y[M(457)]=ae,a[M(496)](f,E),o(ae)},[f,o,v,d]),W=a.NupAX(F.useCallback,(N,M)=>{const j=i;if(a[j(493)](a[j(490)],j(458))){_0x2f0584.preventDefault(),a.POPEC(_0x29b959),_0x10a768(),_0x38cf69(),_0x4bf063(),_0xf519e1(),a.POPEC(_0x1dfbbd),_0x55a423(),_0x5089b7.current=null,_0x37ad45.current=null;const E=_0x38ed85.touches[0],O=_0x3ffb05[j(491)][1],H=a.LYUnO(E[j(479)],O.clientX)/2,Y=a.rUhzP(E.clientY+O[j(488)],2),A=_0x5f15a7[j(474)](a[j(449)](O.clientX,E[j(479)]),O[j(488)]-E[j(488)]);_0x40d3a4.current={initialCenter:{x:H,y:Y},initialDist:A,initialPan:{..._0x20f6e2.current},initialZoom:_0x459595.current}}else{const E=j(434)[j(437)]("|");let O=0;for(;;){switch(E[O++]){case"0":a[j(455)](o,{x:0,y:0});continue;case"1":y.current={x:0,y:0};continue;case"2":a[j(496)](f,N);continue;case"3":G[j(457)]=N;continue;case"4":B[j(457)]=M;continue}break}}},[f,o]),S=F.useCallback(N=>{k.current=N},[]),w=F.useCallback(N=>{const M=i;T[M(457)]=N},[]);return{multiTouchRef:C,touchBgStartRef:k,mouseBgStartRef:T,zoomAtCenter:ne,resetView:W,setTouchBgStart:S,setMouseBgStart:w}}function Pa(u,i){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),r=parseInt(u.slice(3,5),16),o=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(o))return u;const f=1-i;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(r*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function wm(u){const{flower:i,project:a,paletteMap:r}=u,o=F.useRef(null),f=F.useRef(!1),d=F.useRef(null);F.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const v=F.useMemo(()=>[...i.layers||[]].sort((G,k)=>G.order-k.order),[i.layers]),m=i.fabricSquareSize??a.fabricSquareSize,{length:h,width:g}=jt(m),{flowerOuterR:p,centerHitR:D}=F.useMemo(()=>{let G=12,k=1/0;for(const K of v){if(!K.visible)continue;const V=K.scale??1,R=h*V,P=Math.max(0,K.radius-R*.28),ne=P+R;G=Math.max(G,ne),P<k&&(k=P)}isFinite(k)||(k=0);const T=Math.max(k*.9,8);return{flowerOuterR:G,centerHitR:T}},[v,h]),b=(G,k)=>G?.petalOverrides?.find(T=>T.index===k)??null,z="pointer",C=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,y=u.zoneCursorValue??"grab",B=G=>{if(G.stopPropagation(),G.button===0){if(G.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(G)}};return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:G=>{G.stopPropagation(),u.onDoubleClick?.()},style:{cursor:C?y:er("/tsumami/")},"data-testid":`flower-${i.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,p),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),v.map(G=>{if(!G.visible)return null;const T=r.get(G.colorId)?.hex??"#999",K=360/Math.max(1,G.petalCount),V=G.scale??1,R=h*V,P=g*(G.widthScale??1)*V,W=Math.max(0,G.radius-R*.28),S=sx(""),w=sx(""),N=W+R,M=u.isSelected&&u.selectedLayerId===G.id,j=u.isSelected&&(u.selectedPetal?.layerId===G.id||(u.selectedPetals?.some(E=>E.layerId===G.id)??!1));return x.jsxs("g",{children:[Array.from({length:G.petalCount}).map((E,O)=>{const H=b(G,O),A=(H?.petalType??G.petalType)===""?S:w,q=r.get(H?.colorId??G.colorId)?.hex??T,I=G.offsetAngle+O*K,X=xa(I),ae=Math.cos(X)*W,se=Math.sin(X)*W,fe=u.isSelected&&u.selectedPetal?.layerId===G.id&&u.selectedPetal?.index===O,oe=u.isSelected&&(u.selectedPetals?.some(he=>he.layerId===G.id&&he.index===O)??!1),be=fe||oe,we=C?y:er("/tsumami/");return x.jsxs("g",{transform:`translate(${ae} ${se}) rotate(${I})`,children:[x.jsx("path",{d:A,transform:`scale(${R} ${P})`,fill:q,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:G.locked?.55:.95,style:{cursor:we},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const Qe=he.shiftKey,et=he.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,Qe&&u.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),u.onTogglePetalSelection(G.id,O,!0);return}if(et&&u.onTogglePetalSelection){d.current={x:he.clientX,y:he.clientY};const Lt=G.id,Ut=O;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,u.onTogglePetalSelection?.(Lt,Ut,!0),navigator.vibrate?.(30)},500)}const ut=u.isSelected&&u.selectedLayerId!=null,Fe=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||ut||Fe){u.onBeginDragFromLayerPetal(G.id,O,he);return}u.onBeginDragFromLayerPetal(G.id,O,he)},onPointerMove:he=>{if(o.current&&d.current){const Qe=he.clientX-d.current.x,et=he.clientY-d.current.y;Math.hypot(Qe,et)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:he=>{he.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(G.id)}}),G.doublePetal&&(()=>{const he=G.doublePetal,Qe=H?.innerSizeReduction??he.innerSizeReduction??2,et=m*(V||1);if(et<=0)return null;const Fe=Math.max(et*.3,et-Qe)/et,Mt=A,Lt=H?.innerColorId??he.innerColorId??H?.colorId??G.colorId,Ut=r.get(Lt)?.hex??q,zt=R*Fe,tt=P*Fe;return x.jsx("path",{d:Mt,transform:`scale(${zt} ${tt})`,fill:Ut,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:G.locked?.55:.95,pointerEvents:"none"})})(),(be||M||u.isFlowerSelected)&&x.jsx("path",{d:A,transform:`scale(${R} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${G.id}-${O}`)]},O)}),M&&!j&&x.jsx("circle",{r:N,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},G.id)}),u.isFlowerSelected&&x.jsx("circle",{r:p,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const G=i.center,k=Lh(G.size),T=r.get(G.color)?.hex??"#D4A843",K=G.color2?r.get(G.color2)?.hex??"#C0C0C0":"#D4A843",V=Math.max(k,D);switch(G.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:k,fill:T,stroke:Pa(T,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:z},onPointerDown:B})]});case"":{const Z=k*.42,P=k,ne=k*.12,W=k*.13,S=k*.45,w=K,N=T;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((M,j)=>{const E=j/10*360,O=xa(E),H=Math.cos(O)*P,Y=Math.sin(O)*P,A=-Math.sin(O)*ne,q=Math.cos(O)*ne,I=Math.cos(O)*Z,X=Math.sin(O)*Z;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(I+A).toFixed(2)} ${(X+q).toFixed(2)} L ${H.toFixed(2)} ${Y.toFixed(2)} L ${(I-A).toFixed(2)} ${(X-q).toFixed(2)} Z`,fill:w,stroke:Pa(w,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:H,cy:Y,r:W,fill:w,stroke:Pa(w,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},j)}),x.jsx("circle",{r:Z,fill:w,stroke:Pa(w,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:S,fill:N,stroke:Pa(N,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}case"":{const R=G.pepCount??12,Z=k*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:R}).map((P,ne)=>{const W=ne/R*360,S=xa(W),w=Math.cos(S)*k,N=Math.sin(S)*k;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:w,y2:N,stroke:T,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:w,cy:N,r:Math.max(Z,1),fill:T,stroke:Pa(T,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},ne)})}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:D,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:D,fill:"transparent",style:{cursor:z},onPointerDown:B})]}),u.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,p+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function jm(u){const{leaf:i,project:a,paletteMap:r}=u,o=i.fabricSquareSize??a.fabricSquareSize,{length:f,width:d}=jt(o),v=i.scale??1,m=f*v,h=d*(i.widthScale??1)*v,g=sx(i.petalType),p=r.get(i.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":u.cursor??er("/tsumami/")},"data-testid":`leaf-${i.id}`,onPointerDown:D=>{if(D.stopPropagation(),D.button===0&&!i.locked){if(D.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(D)}},children:[x.jsx("path",{d:g,transform:`scale(${m} ${h})`,fill:p,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const D=i.doublePetal,b=D.innerSizeReduction??2,z=o*(v||1);if(z<=0)return null;const y=Math.max(z*.3,z-b)/z,B=D.innerColorId??i.colorId,G=r.get(B)?.hex??p,k=m*y,T=h*y;return x.jsx("path",{d:g,transform:`scale(${k} ${T})`,fill:G,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),(u.isSelected||u.isLeafGroupHighlighted)&&x.jsx("path",{d:g,transform:`scale(${m} ${h})`,fill:"none",stroke:u.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:u.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${i.id}`)]})}const R0=1350;function Mm(u){const{stencils:i,selectedStencilId:a,selection:r,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:d,stencilDraggingRef:v,onSelectStencil:m}=u,h=F.useRef(null);F.useEffect(()=>()=>{h.current?.()},[]);const g=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return x.jsx(x.Fragment,{children:i.map(p=>{const D=_m(p.variant,p.pose),b=a===p.id,z=un,C=D.imageUrl?1:D.scaleX,y=g||!!p.locked;return x.jsx("g",{transform:`translate(${p.position.x} ${p.position.y}) scale(${z*C} ${z})`,style:{cursor:g?"default":p.locked?"pointer":tm("/tsumami/"),pointerEvents:g?"none":"auto"},"data-testid":`stencil-${p.id}`,onPointerDown:B=>{if(B.button!==0)return;if(y){m(p.id);return}if(B.stopPropagation(),m(p.id),!o.current)return;v.current=!0,o.current&&(o.current.style.cursor=nm("/tsumami/"));const k=d.current(B),T={...p.position},K=p.id;let V=T.x,R=T.y;const Z=ne=>{const W=d.current(ne),S=W.x-k.x,w=W.y-k.y;V=Se(T.x+S,0,R0),R=Se(T.y+w,0,R0),f.current(N=>{const M=(N.stencils??[]).find(j=>j.id===K);M&&(M.position.x=V,M.position.y=R)},!1)},P=()=>{v.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",P),h.current=null,f.current(ne=>{const W=(ne.stencils??[]).find(S=>S.id===K);W&&(W.position.x=V,W.position.y=R)},!0)};document.addEventListener("pointermove",Z),document.addEventListener("pointerup",P),h.current=()=>{v.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",P)}},children:D.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:D.imageUrl,x:-D.imageWidthMm/2,y:0,width:D.imageWidthMm,height:D.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-D.imageWidthMm/2,y:0,width:D.imageWidthMm,height:D.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:D.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:D.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&x.jsx("path",{d:D.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},p.id)})})}function zm(u){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:d,dashSyncToken:v,stageRef:m,multiTouchRef:h,clientToSvgPoint:g,togglePetalSelection:p,handleShiftFlowerSelect:D,groupHighlightedFlowerIds:b,beginFlowerDrag:z,beginScaleDrag:C,beginRotationDrag:y,beginWidthScaleDrag:B,beginRadiusDrag:G,clickOriginRef:k,zoneActivatedRef:T,setZoneCursorValue:K,setTouchZoneIndicator:V}=u;return x.jsx(x.Fragment,{children:i.flowers.map(R=>x.jsx(wm,{flower:R,project:i,paletteMap:o,isSelected:a.kind!=="project"&&f===R.id||a.kind==="flowers"&&a.flowerIds.includes(R.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===R.id||a.kind==="flowers"&&a.flowerIds.includes(R.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===R.id?a.petals:null,onSelect:()=>{const Z=ca(i,R.id);if(Z&&!(a.kind==="group"&&a.groupId===Z.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&Z.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:Z.id});return}r({kind:"flower",flowerId:R.id})},onSelectLayer:Z=>r({kind:"layer",flowerId:R.id,layerId:Z}),onSelectPetal:(Z,P)=>r({kind:"petal",flowerId:R.id,layerId:Z,index:P}),onTogglePetalSelection:(Z,P,ne)=>p(R.id,Z,P,ne),onShiftSelect:()=>D(R.id),isGroupHighlighted:b.has(R.id),zoneCursorValue:d,onBeginDragFromLayerPetal:(Z,P,ne)=>{if(h.current)return;const W=ca(i,R.id);if(W&&!(a.kind==="group"&&a.groupId===W.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&W.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:W.id}),z(R.id,ne);return}const S=g(ne),w=ne.pointerType==="touch",N=a.kind==="flower"&&a.flowerId===R.id||a.kind==="layer"&&a.flowerId===R.id||a.kind==="petal"&&a.flowerId===R.id||a.kind==="petals"&&a.flowerId===R.id;if(w&&N){const{zone:j,layerId:E,petalIndex:O}=Ol(S.x,S.y,R,i,a),{length:H}=jt(R.fabricSquareSize??i.fabricSquareSize),Y=$a(j,a.kind,{hitLayerId:E,flower:R,length:H});if(Y!=="none"&&Y!=="center"&&Y!=="move"){V({x:S.x,y:S.y,zone:Y});const A=a.kind==="layer"?"layer":"flower",q=a.kind==="layer"?a.layerId:Z;switch(Y){case"rotate":y(A,R.id,ne,{layerId:q});return;case"scale":C(A,R.id,ne,{layerId:q});return;case"width":B(A,R.id,ne,{layerId:q,petalIndex:O});return;case"radius":G(A,R.id,ne,{layerId:q});return}}z(R.id,ne,{layerId:Z,index:P});return}const M=T.current;if(k.current={x:S.x,y:S.y},T.current=!1,N&&M){const{zone:j,layerId:E,petalIndex:O}=Ol(S.x,S.y,R,i,a),{length:H}=jt(R.fabricSquareSize??i.fabricSquareSize),Y=$a(j,a.kind,{hitLayerId:E,flower:R,length:H}),A=a.kind==="layer"?"layer":"flower",q=a.kind==="layer"?a.layerId:Z;switch(Y){case"rotate":y(A,R.id,ne,{layerId:q});return;case"scale":C(A,R.id,ne,{layerId:q});return;case"width":B(A,R.id,ne,{layerId:q,petalIndex:O});return;case"radius":G(A,R.id,ne,{layerId:q});return;default:K(Hl("/tsumami/")),m.current&&(m.current.style.cursor=Hl("/tsumami/")),z(R.id,ne,{layerId:Z,index:P});return}}K(Hl("/tsumami/")),m.current&&(m.current.style.cursor=Hl("/tsumami/")),z(R.id,ne,{layerId:Z,index:P})},onDoubleClick:()=>r({kind:"flower",flowerId:R.id}),onPointerDown:Z=>{if(h.current||Z.button!==0)return;if(Z.shiftKey){Z.stopPropagation(),D(R.id);return}const P=ca(i,R.id);if(P&&!(a.kind==="group"&&a.groupId===P.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&P.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:P.id}),z(R.id,Z);return}a.kind==="flower"&&a.flowerId===R.id||a.kind==="layer"&&a.flowerId===R.id||a.kind==="flowers"&&a.flowerIds.includes(R.id)||r({kind:"flower",flowerId:R.id});const W=g(Z);k.current={x:W.x,y:W.y},T.current=!1,K(Hl("/tsumami/")),m.current&&(m.current.style.cursor=Hl("/tsumami/")),z(R.id,Z)},dashSyncToken:v},R.id))})}function Dm(u){const{leaves:i,leafGroups:a,project:r,selection:o,paletteMap:f,dashSyncToken:d,leafGroupHighlightedLeafIds:v,zoneCursorValue:m,stageRef:h,applyUpdateRef:g,clientToSvgPointRef:p,leafDraggingRef:D,clickOriginRef:b,zoneActivatedRef:z,setZoneCursorValue:C,onSelectLeaf:y,onShiftSelectLeaf:B}=u,G=F.useRef(null);F.useEffect(()=>()=>{G.current?.()},[]);const k=o.kind==="flower"||o.kind==="layer"||o.kind==="petal"||o.kind==="petals";return x.jsx(x.Fragment,{children:i.map(T=>{if(!T.visible)return null;const K=o.kind==="leaf"&&o.leafId===T.id,V=o.kind==="leaves"&&o.leafIds?.includes(T.id),R=v.has(T.id),Z=U0({leafGroups:a},T.id),P=Z?.rotation??0;let ne=T;if(Z&&P!==0){const W=Sh({leaves:i,leafGroups:a},Z.id),S=P*Math.PI/180,w=T.position.x-W.x,N=T.position.y-W.y;ne={...T,position:{x:W.x+w*Math.cos(S)-N*Math.sin(S),y:W.y+w*Math.sin(S)+N*Math.cos(S)},rotation:T.rotation+P}}return x.jsx(jm,{leaf:ne,project:r,paletteMap:f,isSelected:K||V,isLeafGroupHighlighted:R,dashSyncToken:d,cursor:K?m:void 0,onPointerDown:W=>{if(T.locked||k)return;W.stopPropagation();const S=p.current(W),w=K&&z.current;y(T.id),b.current={x:S.x,y:S.y},z.current=!1,C(Hl("/tsumami/")),h.current&&(h.current.style.cursor=Hl("/tsumami/"));const N=w?Jd(S.x,S.y,T,r):"move";if(N!=="move"){const M=Vd(N,"/tsumami/");C(M),h.current&&(h.current.style.cursor=M)}if(D.current=!0,N==="rotate"){const M=ne.position,j=T.rotation,E=Math.atan2(S.y-M.y,S.x-M.x)*180/Math.PI;let O=!1;const H=A=>{const q=p.current(A),X=Math.atan2(q.y-M.y,q.x-M.x)*180/Math.PI-E;Math.abs(X)>.5&&(O=!0),g.current(ae=>{const se=(ae.leaves??[]).find(fe=>fe.id===T.id);se&&(se.rotation=((j+X)%360+360)%360)},!1)},Y=()=>{G.current=null,D.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Y),O&&g.current(()=>{},!0)};document.addEventListener("pointermove",H),document.addEventListener("pointerup",Y),G.current=()=>{D.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Y)}}else if(N==="scale"){const M=ne.position,j=T.scale??1,E=Math.max(1,Math.hypot(S.x-M.x,S.y-M.y));let O=!1;const H=A=>{const q=p.current(A),X=Math.hypot(q.x-M.x,q.y-M.y)/E;Math.abs(X-1)>.01&&(O=!0),g.current(ae=>{const se=(ae.leaves??[]).find(fe=>fe.id===T.id);se&&(se.scale=Se(j*X,.3,3))},!1)},Y=()=>{G.current=null,D.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Y),O&&g.current(()=>{},!0)};document.addEventListener("pointermove",H),document.addEventListener("pointerup",Y),G.current=()=>{D.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Y)}}else if(N==="width"){const M=ne.position,j=T.rotation*Math.PI/180,E=-Math.sin(j),O=Math.cos(j),H=T.widthScale??1,Y=Math.abs((S.x-M.x)*E+(S.y-M.y)*O),A=Math.max(1,Y);let q=!1;const I=ae=>{const se=p.current(ae),oe=Math.abs((se.x-M.x)*E+(se.y-M.y)*O)/A;Math.abs(oe-1)>.01&&(q=!0),g.current(be=>{const we=(be.leaves??[]).find(he=>he.id===T.id);we&&(we.widthScale=Se(H*oe,.3,3))},!1)},X=()=>{G.current=null,D.current=!1,document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",X),q&&g.current(()=>{},!0)};document.addEventListener("pointermove",I),document.addEventListener("pointerup",X),G.current=()=>{D.current=!1,document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",X)}}else{const M=S,j=Ch({leaves:i,leafGroups:a},T.id),E=new Map;for(const A of j){const q=i.find(I=>I.id===A);q&&E.set(A,{...q.position})}let O=!1;const H=A=>{const q=p.current(A),I=q.x-M.x,X=q.y-M.y;Math.abs(I)+Math.abs(X)>1&&(O=!0),g.current(ae=>{for(const[se,fe]of E){const oe=(ae.leaves??[]).find(be=>be.id===se);oe&&(oe.position.x=Se(fe.x+I,0,R0),oe.position.y=Se(fe.y+X,0,R0))}},!1)},Y=()=>{G.current=null,D.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Y),O&&g.current(()=>{},!0)};document.addEventListener("pointermove",H),document.addEventListener("pointerup",Y),G.current=()=>{D.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Y)}}},onShiftSelect:()=>B(T.id)},T.id)})})}function Nm({rect:u}){return u?x.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Am({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?x.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const Wi=1350;function Lm(u){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,setZoom:d,zoomLevel:v,setZoomLevel:m,ZOOM_LEVELS:h,setPan:g,showGrid:p,setShowGrid:D,setShowHelp:b,stageRef:z,viewBox:C,dashDelay:y,dashSyncToken:B,beginPan:G,updatePan:k,endPan:T,beginMarquee:K,updateMarquee:V,endMarquee:R,marqueeRef:Z,marqueeRect:P,beginFlowerDrag:ne,updateFlowerDrag:W,endFlowerDrag:S,scaleDragRef:w,updateScaleDrag:N,endScaleDrag:M,rotationDragRef:j,updateRotationDrag:E,endRotationDrag:O,widthScaleDragRef:H,updateWidthScaleDrag:Y,endWidthScaleDrag:A,radiusDragRef:q,updateRadiusDrag:I,endRadiusDrag:X,beginScaleDrag:ae,beginRotationDrag:se,beginWidthScaleDrag:fe,beginRadiusDrag:oe,togglePetalSelection:be,clientToSvgPoint:we}=u,he=F.useRef(!1),Qe=F.useRef(!1),et=F.useRef(u.applyUpdate),ut=F.useRef(we);F.useEffect(()=>{et.current=u.applyUpdate},[u.applyUpdate]),F.useEffect(()=>{ut.current=we},[we]);const[Fe,Mt]=F.useState(!1),Lt=F.useRef(null);F.useEffect(()=>{if(!Fe)return;const xe=je=>{Lt.current&&!Lt.current.contains(je.target)&&Mt(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[Fe]);const[Ut,zt]=F.useState("grab"),tt=F.useRef(null),Et=F.useRef(!0),Il=5,sa=F.useRef(a.kind);F.useEffect(()=>{a.kind!==sa.current&&(sa.current=a.kind,Et.current=!1,tt.current=null)},[a.kind]);const[dt,oa]=F.useState(!1),Bn=F.useRef(!1),[fa,In]=F.useState(null),ti=5,da=10,at=Cm({zoom:u.zoom,pan:u.pan,setZoom:d,setPan:g,zoomLevel:v,setZoomLevel:m,ZOOM_LEVELS:h,stageRef:z,endPan:T,endFlowerDrag:S,endMarquee:R,endRotationDrag:O,endScaleDrag:M,endWidthScaleDrag:A,endRadiusDrag:X});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v>=h.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>at.zoomAtCenter(1),disabled:v>=h.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>at.zoomAtCenter(-1),disabled:v<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>D(xe=>!xe),title:"","aria-label":"","aria-pressed":p,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>at.resetView(5,h[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:Lt,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Fe?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>Mt(xe=>!xe),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Fe&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(xe=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Qd[xe]}),["right","left","back"].map(je=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(xe,je),Mt(!1)},"data-testid":`stencil-add-${xe}-${je}`,children:Pd[je]},`${xe}-${je}`))]},xe)),u.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),Mt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:p?"24px 1fr":"1fr",gridTemplateRows:p?"20px 1fr":"1fr"},children:[p&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),p&&(()=>{const[xe,,je,Me]=C.split(/\s+/).map(Number),Ce=un,ye=Math.max(je,Me)/Ce,ke=[10,20,50,100,200,500,1e3].find(Ke=>ye/Ke<=15)??1e3,ze=ke<=10?1:ke<=50?5:ke<=100?10:ke<=500?50:100,ht=ke<=10?5:ke/2,$e=Math.floor(xe/Ce/ze)*ze-ze,it=Math.ceil((xe+je)/Ce/ze)*ze+ze,Ge=[];for(let Ke=$e;Ke<=it;Ke+=ze){const Bt=(Ke*Ce-xe)/je*100;if(Bt<-2||Bt>102)continue;const vn=Math.abs(Ke),Dt=vn%ke===0,ct=vn%ht===0,Jt=Dt?10:ct?6:3;Ge.push(x.jsx("line",{x1:`${Bt}%`,y1:20-Jt,x2:`${Bt}%`,y2:20,stroke:"#999",strokeWidth:Dt?.8:.4},Ke)),Dt&&Ge.push(x.jsx("text",{x:`${Bt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ke},`t${Ke}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Ge})})(),p&&(()=>{const[,xe,je,Me]=C.split(/\s+/).map(Number),Ce=un,ye=Math.max(je,Me)/Ce,ke=[10,20,50,100,200,500,1e3].find(Ke=>ye/Ke<=15)??1e3,ze=ke<=10?1:ke<=50?5:ke<=100?10:ke<=500?50:100,ht=ke<=10?5:ke/2,$e=Math.floor(xe/Ce/ze)*ze-ze,it=Math.ceil((xe+Me)/Ce/ze)*ze+ze,Ge=[];for(let Ke=$e;Ke<=it;Ke+=ze){const Bt=(Ke*Ce-xe)/Me*100;if(Bt<-2||Bt>102)continue;const vn=Math.abs(Ke),Dt=vn%ke===0,ct=vn%ht===0,Jt=Dt?10:ct?6:3;Ge.push(x.jsx("line",{x1:24-Jt,y1:`${Bt}%`,x2:24,y2:`${Bt}%`,stroke:"#999",strokeWidth:Dt?.8:.4},Ke)),Dt&&Ge.push(x.jsx("text",{x:12,y:`${Bt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ke},`t${Ke}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Ge})})(),x.jsxs("svg",{ref:z,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:C,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":y,cursor:dt?"crosshair":"grab"},onDoubleClick:xe=>{xe.target===xe.currentTarget&&(oa(je=>!je),r({kind:"project"}))},onPointerDown:xe=>{if(at.multiTouchRef.current)return;if(xe.button===1){Bn.current=!0,z.current&&(z.current.style.cursor="grabbing"),G(xe);return}if(xe.button!==0)return;const je=xe.pointerType==="touch";if(je&&xe.target===xe.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Ce=i.flowers.find(ye=>ye.id===f);if(Ce){const ye=we(xe),{zone:Tt,layerId:ke,petalIndex:ze}=Ol(ye.x,ye.y,Ce,i,a),{length:ht}=jt(Ce.fabricSquareSize??i.fabricSquareSize),$e=$a(Tt,a.kind,{hitLayerId:ke,flower:Ce,length:ht});if($e!=="none"&&$e!=="center"){In({x:ye.x,y:ye.y,zone:$e});const it=a.kind==="layer"?"layer":"flower",Ge=a.kind==="layer"?a.layerId:ke;switch($e){case"rotate":se(it,f,xe,{layerId:Ge});return;case"scale":ae(it,f,xe,{layerId:Ge});return;case"width":fe(it,f,xe,{layerId:Ge,petalIndex:ze});return;case"radius":oe(it,f,xe,{layerId:Ge});return;case"move":ne(f,xe);return}}}}at.setTouchBgStart({x:xe.clientX,y:xe.clientY}),G(xe);return}if(xe.target===xe.currentTarget&&f&&Et.current&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Ce=i.flowers.find(ye=>ye.id===f);if(Ce){const ye=we(xe),{zone:Tt,layerId:ke,petalIndex:ze}=Ol(ye.x,ye.y,Ce,i,a),{length:ht}=jt(Ce.fabricSquareSize??i.fabricSquareSize),$e=$a(Tt,a.kind,{hitLayerId:ke,flower:Ce,length:ht});if($e!=="none"){const it=a.kind==="layer"?"layer":"flower",Ge=a.kind==="layer"?a.layerId:ke;switch($e){case"rotate":se(it,f,xe,{layerId:Ge});return;case"scale":ae(it,f,xe,{layerId:Ge});return;case"width":fe(it,f,xe,{layerId:Ge,petalIndex:ze});return;case"radius":oe(it,f,xe,{layerId:Ge});return;case"move":ne(f,xe);return}}}}if(xe.target===xe.currentTarget){je?(at.setTouchBgStart({x:xe.clientX,y:xe.clientY}),G(xe)):dt?K(xe):(at.setMouseBgStart({x:xe.clientX,y:xe.clientY}),Bn.current=!0,z.current&&(z.current.style.cursor="grabbing"),G(xe));return}},onPointerMove:xe=>{if(he.current||Qe.current)return;if(Z.current){V(xe);return}if(j.current){E(xe);return}if(w.current){N(xe);return}if(H.current){Y(xe);return}if(q.current){I(xe);return}W(xe),k(xe);const je=!!u.dragRef?.current||!!Z.current||!!j.current||!!w.current||!!H.current||!!q.current||Bn.current,Me=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!je&&Me){const Ce=i.flowers.find(ye=>ye.id===f);if(Ce){const ye=we(xe);if(tt.current&&!Et.current){if(Math.hypot(ye.x-tt.current.x,ye.y-tt.current.y)<Il){const{zone:Ge}=Ol(ye.x,ye.y,Ce,i,a);Ge==="center"&&(zt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}Et.current=!0,tt.current=null}const{zone:Tt,layerId:ke}=Ol(ye.x,ye.y,Ce,i,a),{length:ze}=jt(Ce.fabricSquareSize??i.fabricSquareSize),ht=$a(Tt,a.kind,{hitLayerId:ke,flower:Ce,length:ze}),$e=Rd(ht,"/tsumami/");zt($e),z.current&&(z.current.style.cursor=$e)}}if(!je&&a.kind==="leaf"&&u.selectedLeafId){const Ce=u.leaves.find(ye=>ye.id===u.selectedLeafId);if(Ce){const ye=we(xe);if(tt.current&&!Et.current){if(Math.hypot(ye.x-tt.current.x,ye.y-tt.current.y)<Il)return;Et.current=!0,tt.current=null}const Tt=Jd(ye.x,ye.y,Ce,i),ke=Vd(Tt,"/tsumami/");zt(ke),z.current&&(z.current.style.cursor=ke)}}},onPointerUp:xe=>{if(!he.current&&!Qe.current){if(In(null),Z.current&&dt&&oa(!1),R(),O(),M(),A(),X(),S(),T(),Bn.current&&(Bn.current=!1,z.current&&(z.current.style.cursor=dt?"crosshair":"grab")),at.touchBgStartRef.current&&xe.pointerType==="touch"){const je=xe.clientX-at.touchBgStartRef.current.x,Me=xe.clientY-at.touchBgStartRef.current.y;Math.hypot(je,Me)<da&&r({kind:"project"}),at.setTouchBgStart(null);return}if(at.setTouchBgStart(null),at.mouseBgStartRef.current&&xe.pointerType==="mouse"){const je=xe.clientX-at.mouseBgStartRef.current.x,Me=xe.clientY-at.mouseBgStartRef.current.y;if(at.setMouseBgStart(null),Math.hypot(je,Me)<ti){r({kind:"project"});return}}if(at.setMouseBgStart(null),f){const je=i.flowers.find(Me=>Me.id===f);if(je){const Me=we(xe);if(tt.current&&Math.hypot(Me.x-tt.current.x,Me.y-tt.current.y)<Il){const{zone:$e}=Ol(Me.x,Me.y,je,i,a);$e==="center"&&(zt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}const{zone:Ce,layerId:ye}=Ol(Me.x,Me.y,je,i,a),{length:Tt}=jt(je.fabricSquareSize??i.fabricSquareSize),ke=$a(Ce,a.kind,{hitLayerId:ye,flower:je,length:Tt}),ze=Rd(ke,"/tsumami/");zt(ze),z.current&&(z.current.style.cursor=ze)}}}},onPointerLeave:()=>{R(),O(),M(),A(),X(),S(),T(),Bn.current=!1,at.setTouchBgStart(null),at.setMouseBgStart(null),zt("grab"),tt.current=null,Et.current=!0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[xe,je,Me,Ce]=C.split(/\s+/).map(Number),ye=Wi;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:xe,y:je,width:Me,height:Ce,fill:"white"}),x.jsx("rect",{x:0,y:0,width:ye,height:ye,fill:"black"})]})}),x.jsx("rect",{x:xe,y:je,width:Me,height:Ce,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:Wi,height:Wi,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:Wi,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:Wi,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),p&&(()=>{const xe=un,[je,Me,Ce,ye]=C.split(/\s+/).map(Number),Tt=Math.max(Ce,ye)/xe,ze=[10,20,50,100,200,500,1e3].find(ct=>Tt/ct<=15)??1e3,ht=Math.floor(je/xe/ze)*ze-ze,$e=Math.ceil((je+Ce)/xe/ze)*ze+ze,it=Math.floor(Me/xe/ze)*ze-ze,Ge=Math.ceil((Me+ye)/xe/ze)*ze+ze,Ke=it*xe,qn=Ge*xe,Bt=ht*xe,vn=$e*xe,Dt=[];for(let ct=ht;ct<=$e;ct+=ze){const Jt=ct*xe;Dt.push(x.jsx("line",{x1:Jt,y1:Ke,x2:Jt,y2:qn,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${ct}`))}for(let ct=it;ct<=Ge;ct+=ze){const Jt=ct*xe;Dt.push(x.jsx("line",{x1:Bt,y1:Jt,x2:vn,y2:Jt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${ct}`))}return x.jsx("g",{children:Dt})})(),x.jsx(Mm,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:z,applyUpdateRef:et,clientToSvgPointRef:ut,stencilDraggingRef:he,onSelectStencil:u.onSelectStencil}),x.jsx(zm,{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:Ut,dashSyncToken:B,stageRef:z,multiTouchRef:at.multiTouchRef,clientToSvgPoint:we,togglePetalSelection:be,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:ne,beginScaleDrag:ae,beginRotationDrag:se,beginWidthScaleDrag:fe,beginRadiusDrag:oe,clickOriginRef:tt,zoneActivatedRef:Et,setZoneCursorValue:zt,setTouchZoneIndicator:In}),x.jsx(Dm,{leaves:u.leaves,leafGroups:u.leafGroups,project:i,selection:a,paletteMap:o,dashSyncToken:B,selectedLeafId:u.selectedLeafId,leafGroupHighlightedLeafIds:u.leafGroupHighlightedLeafIds,zoneCursorValue:Ut,stageRef:z,applyUpdateRef:et,clientToSvgPointRef:ut,leafDraggingRef:Qe,clickOriginRef:tt,zoneActivatedRef:Et,setZoneCursorValue:zt,onSelectLeaf:u.onSelectLeaf,onShiftSelectLeaf:u.onShiftSelectLeaf}),x.jsx(Nm,{rect:P}),x.jsx(Am,{indicator:fa})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Od(u,i,a){return Math.min(a,Math.max(i,u))}function Re({value:u,onChange:i,min:a=-1/0,max:r=1/0,step:o,className:f,...d}){const[v,m]=F.useState(null),h=F.useRef(null),g=F.useCallback(b=>{const z=Number(b);isNaN(z)||i(Od(z,a,r)),m(null)},[i,a,r]),p=F.useCallback(()=>{m(null)},[]),D=F.useCallback(b=>{const z=o??1,y=(Number(v??u)||0)+z*b,B=Od(y,a,r),G=String(z).includes(".")?String(z).split(".")[1].length:0,k=Number(B.toFixed(G));m(String(k)),i(k)},[v,u,o,a,r,i]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:h,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:v??String(u),onChange:b=>m(b.target.value),onFocus:b=>{m(String(u)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{v!==null&&g(v)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),v!==null&&g(v),h.current?.blur()):b.key==="Escape"?(b.preventDefault(),p(),h.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),D(b.key==="ArrowUp"?1:-1))},...d}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),D(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),D(-1)},children:""})]})]})}function lr({title:u,compact:i,children:a}){return x.jsxs("div",{className:i?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),x.jsx("div",{className:"space-y-3",children:a})]})}function Em({flower:u,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const f=F.useMemo(()=>{const y=[...u.layers||[]].sort((P,ne)=>P.order-ne.order);if(y.length<2)return{mode:"uniform",step:2};const B=y.map(P=>P.scale??1);if(B.every(P=>Math.abs(P-B[0])<.001))return{mode:"uniform",step:2};const k=y[0],T=y[y.length-1],K=(T.order??1)-(k.order??1);if(K<=0)return{mode:"gradual",step:2};const R=((k.scale??1)-(T.scale??1))/K,Z=Math.round(R*i*2)/2;return{mode:"gradual",step:Se(Z,0,10)}},[u.id]),[d,v]=F.useState(f.mode),[m,h]=F.useState(f.step),[g,p]=F.useState(0);F.useEffect(()=>{v(f.mode),h(f.step),p(0)},[f]);const D=F.useMemo(()=>[...u.layers||[]].sort((y,B)=>y.order-B.order),[u.layers]),b=D[0],z=b?b.order:0,C=F.useMemo(()=>{if(!b)return[];const y=b.scale??1,B=b.radius,G=new Map;for(const P of D){const ne=P.order-z;if(ne===0)G.set(P.id,y);else if(d==="uniform")G.set(P.id,y);else{const W=m/i;G.set(P.id,Se(y-ne*W,.3,3))}}const{length:k}=jt(i),T=D.length,K=70*Math.PI/180,V=new Map;let R=B;V.set(b.id,B);for(let P=1;P<T;P++){const ne=D[P-1],W=G.get(ne.id)??1,S=k*W;let w;if(a===""){const N=T-1-P,M=T>1?N/(T-1)*K:0;w=S*(30/100)*Math.cos(M)}else w=S/3;R=R-w,V.set(D[P].id,Math.max(2,R))}const Z=D.map(P=>{const ne=G.get(P.id)??1,W=Math.round((V.get(P.id)??B)*10)/10,S=Math.round(i*ne*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:ne,effFabricSize:S,effRadius:W}});if(Z.length>0){const P=Z[Z.length-1],ne=k*P.effScale,W=Math.floor(ne*.28*10)/10;P.effRadius>W&&(P.effRadius=W)}return Z},[D,b,z,d,m,30,i,a]);return F.useEffect(()=>{g!==0&&(!b||C.length===0||r(y=>{const B=y.flowers.find(k=>k.id===u.id);if(!B)return;for(const k of C){const T=B.layers.find(K=>K.id===k.id);T&&(T.scale=Se(k.effScale,.3,3),T.radius=Se(k.effRadius,2,120))}const G=[...B.layers].sort((k,T)=>T.order-k.order);for(let k=1;k<G.length;k++){const T=G[k-1],K=G[k];K.offsetAngle=Vn(T.petalCount,T.offsetAngle,K.petalCount)}}))},[g]),D.length<2?null:x.jsxs(lr,{title:"",children:[x.jsxs(vx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,onChange:y=>{v(y.target.value),p(B=>B+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),d==="gradual"&&x.jsxs(vx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(Re,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,min:0,max:10,step:.5,onChange:y=>{h(y),p(B=>B+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),C.map(y=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:y.name}),x.jsxs("span",{children:[" ",y.effFabricSize,"mm /  ",Math.round(Pi(y.effRadius,y.effScale,i)),"mm"]})]},y.id))]})]})}const Fd="tsumami_recent_colors_v1",Tx=10;function Tm(u){const i=new Set;for(const a of u.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const o of r.petalOverrides)o.colorId&&i.add(o.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function wx(){try{const u=localStorage.getItem(Fd);if(u){const i=JSON.parse(u);if(Array.isArray(i))return i.slice(0,Tx)}}catch{}return[]}function Bm(u){try{localStorage.setItem(Fd,JSON.stringify(u.slice(0,Tx)))}catch{}}function qm(u){const i=wx(),a=[u,...i.filter(r=>r!==u)].slice(0,Tx);Bm(a)}function Yn({palette:u,project:i,selectedColorId:a,onChange:r,size:o="md"}){const[f,d]=F.useState(!1),v=F.useRef(null),[m,h]=F.useState(wx);F.useEffect(()=>{if(!f)return;const C=y=>{v.current&&!v.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[f]);const g=F.useMemo(()=>Tm(i),[i]),p=F.useMemo(()=>{const C=new Set;C.add(a);for(const y of g)C.add(y);for(const y of m)C.add(y);return u.filter(y=>C.has(y.id))},[u,a,g,m]),D=F.useCallback(C=>{qm(C),h(wx()),r(C)},[r]),b=o==="sm"?"h-4 w-4":"h-5 w-5",z=f?u:p;return x.jsx("div",{ref:v,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[z.map(C=>x.jsx("button",{className:`${b} rounded border-2 ${a===C.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:C.hex},title:C.name,"aria-label":`: ${C.name}`,onClick:()=>D(C.id)},C.id)),u.length>p.length&&x.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>d(C=>!C),title:f?"":"","aria-label":f?"":"",children:x.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function km({project:u,applyUpdate:i,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(o=>{const f=o.flowers.find(d=>d.id===a.id);f&&(f.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(r=>{const o=a.layers.every(f=>f.petalType===r);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const d=f.flowers.find(v=>v.id===a.id);if(d)for(const v of d.layers)v.petalType=r}),children:r},r)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Kd.map(r=>{const o=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==r&&i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;d.placementMode=r;const v=d.fabricSquareSize??f.fabricSquareSize;r===""?d.baseDiameter=Qi(d.flowerDiameter):d.baseDiameter||(d.baseDiameter=f.baseDiameter),Th(d.layers,v,r,d.flowerDiameter)},!0)},children:r},r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(Re,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:r=>i(o=>{const f=o.flowers.find(d=>d.id===a.id);f&&(f.baseDiameter=r)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[Qi(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(!f)return;const d=ei(r);for(const m of f.layers)m.petalCount=r,m.widthScale=d;const v=[...f.layers].sort((m,h)=>h.order-m.order);for(let m=1;m<v.length;m++)v[m].offsetAngle=Vn(v[m-1].petalCount,v[m-1].offsetAngle,v[m].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Re,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(o=>{const f=o.flowers.find(v=>v.id===a.id);if(!f)return;f.flowerDiameter=r,f.placementMode===""&&(f.baseDiameter=Qi(r));const d=[...f.layers].sort((v,m)=>v.order-m.order);K0(d,f.fabricSquareSize??o.fabricSquareSize,r);for(const v of d){const m=f.layers.find(h=>h.id===v.id);m&&(m.radius=v.radius,m.scale=v.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(o=>{const f=o.flowers.find(d=>d.id===a.id);if(f)for(const d of f.layers)d.widthScale=r})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(o=>{const f=o.flowers.find(d=>d.id===a.id);f&&(f.rotation=r)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(o=>{const f=o.flowers.find(d=>d.id===a.id);if(f)for(const d of f.layers)d.colorId=r})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(o=>{const f=o.flowers.find(d=>d.id===a.id);if(f)for(const d of f.layers)if(r.target.checked){if(!d.doublePetal){const v=d._doublePetalCache;d.doublePetal=v??{innerSizeReduction:2},delete d._doublePetalCache}}else d.doublePetal&&(d._doublePetalCache={...d.doublePetal}),delete d.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(v=>v.doublePetal.innerSizeReduction))],o=r.length===1?r[0]:null,f=[...new Set(a.layers.map(v=>v.doublePetal.innerColorId??v.colorId))],d=f.length===1?f[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:v=>i(m=>{const h=m.flowers.find(g=>g.id===a.id);if(h)for(const g of h.layers)g.doublePetal&&(g.doublePetal.innerSizeReduction=Se(v,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:d??"",onChange:v=>i(m=>{const h=m.flowers.find(g=>g.id===a.id);if(h)for(const g of h.layers)g.doublePetal&&(v===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=v)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Oh.map(r=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const f=o.flowers.find(d=>d.id===a.id);f?.center&&(f.center.type=r,r===""&&!f.center.pepCount&&(f.center.pepCount=12),r===""&&!f.center.color2&&(f.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:r},r))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(o=>{const f=o.flowers.find(d=>d.id===a.id);f?.center&&(f.center.size=r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(d=>d.id===a.id);f?.center&&(f.center.color=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(d=>d.id===a.id);f?.center&&(f.center.color2=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(o=>{const f=o.flowers.find(d=>d.id===a.id);f?.center&&(f.center.pepCount=r)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Em,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function Rm({project:u,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:d}){const v=a,m=[...new Set(v.flatMap(p=>p.layers.map(D=>D.petalType)))],h=m.length===1?m[0]:null,g=p=>{i(D=>{for(const b of v){const z=D.flowers.find(C=>C.id===b.id);z&&p(z)}},!0)};return x.jsxs(lr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[v.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(p=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:p.hex},title:p.name,onClick:()=>g(D=>{for(const b of D.layers)b.colorId=p.id})},p.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:hl.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(D=>{for(const b of D.layers)b.petalType=p}),children:p},p))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Re,{min:5,max:24,value:v[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:p=>{const D=ei(p);g(b=>{for(const C of b.layers)C.petalCount=p,C.widthScale=D;const z=[...b.layers].sort((C,y)=>y.order-C.order);for(let C=1;C<z.length;C++)z[C].offsetAngle=Vn(z[C-1].petalCount,z[C-1].offsetAngle,z[C].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:v.map(p=>x.jsxs("div",{children:[p.name," (",p.layers.length,")"]},p.id))}),(()=>{const p=v.map(y=>ca(u,y.id)),D=v.filter(y=>!ca(u,y.id)).map(y=>y.id),b=[...new Set(p.filter(Boolean).map(y=>y.id))],z=D.length===v.length,C=b.length===1&&p.every(y=>y!=null);return x.jsxs(x.Fragment,{children:[z&&v.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(v.map(y=>y.id)),children:""}),C&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&D.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],D),children:[" (+",D.length,")"]}),b.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>d(b,D),children:[" (",b.length,"",D.length>0?` +${D.length}`:"",")"]})]})})()]})}function Gm({project:u,applyUpdate:i,selectedFlowers:a,groups:r,groupId:o,onUngroupFlowers:f}){const d=r.find(p=>p.id===o);if(!d)return null;const v=a,m=[...new Set(v.flatMap(p=>p.layers.map(D=>D.petalType)))],h=m.length===1?m[0]:null,g=p=>{i(D=>{for(const b of v){const z=D.flowers.find(C=>C.id===b.id);z&&p(z)}},!0)};return x.jsxs(lr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:d.name,onChange:p=>i(D=>{const b=(D.groups??[]).find(z=>z.id===d.id);b&&(b.name=p.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[v.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(p=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:p.hex},title:p.name,onClick:()=>g(D=>{for(const b of D.layers)b.colorId=p.id})},p.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:hl.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(D=>{for(const b of D.layers)b.petalType=p}),children:p},p))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Re,{min:5,max:24,value:v[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:p=>{const D=ei(p);g(b=>{for(const C of b.layers)C.petalCount=p,C.widthScale=D;const z=[...b.layers].sort((C,y)=>y.order-C.order);for(let C=1;C<z.length;C++)z[C].offsetAngle=Vn(z[C-1].petalCount,z[C-1].offsetAngle,z[C].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:v.map(p=>x.jsxs("div",{children:[p.name," (",p.layers.length,")"]},p.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(d.id),children:""})]})}function Om({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:o=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);v&&(v.name=o.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(o=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);v&&(v.petalType=o)}),children:o},o))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:5,max:24,value:r.petalCount,onChange:o=>{i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);if(v){v.petalCount=o,v.widthScale=ei(o);const m=[...d.layers].sort((h,g)=>g.order-h.order);for(let h=1;h<m.length;h++)m[h].offsetAngle=Vn(m[h-1].petalCount,m[h-1].offsetAngle,m[h].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Re,{min:1,max:200,step:.5,value:Math.round(Pi(r.radius,r.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:o=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);v&&(v.radius=Se(Eh(o,v.scale??1,d.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Re,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(r.scale??1)*10)/10,onChange:o=>i(f=>{const d=f.flowers.find(p=>p.id===a.id);if(!d)return;const v=d.layers.find(p=>p.id===r.id);if(!v)return;const m=d.fabricSquareSize??f.fabricSquareSize;v.scale=Se(Math.round(o/m*100)/100,.3,3);const h=[...d.layers].sort((p,D)=>p.order-D.order),g=h.findIndex(p=>p.id===v.id);if(g>=0)for(let p=g-1;p>=0;p--){const D=h[p],b=h[p+1],C=jt(m).length*(b.scale??1)/3;D.radius=Math.round((b.radius+C)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:o=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);v&&(v.scale=o)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:o=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);v&&(v.widthScale=o)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{value:Number(r.offsetAngle??0).toFixed(1),onChange:o=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);v&&(v.offsetAngle=o)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:r.colorId,onChange:o=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);v&&(v.colorId=o)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:o=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);if(v)if(o.target.checked){const m=v._doublePetalCache;v.doublePetal=m??{innerSizeReduction:2},delete v._doublePetalCache}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:o=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);v?.doublePetal&&(v.doublePetal.innerSizeReduction=Se(o,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:o=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);v?.doublePetal&&(o===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=o)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:o=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);v&&(v.visible=o.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:o=>i(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===r.id);v&&(v.locked=o.target.checked)})}),""]})]})]})]})}function Hm({project:u,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const o=r,f=o.map(y=>{const B=a.layers.find(G=>G.id===y.layerId);return{...y,layer:B}}).filter(y=>y.layer!=null),d=(y,B)=>{const G=a.layers.find(T=>T.id===y);return G?(G?.petalOverrides?.find(T=>T.index===B)??null)?.colorId??G.colorId:null},v=(y,B)=>{const G=a.layers.find(T=>T.id===y);return G?(G?.petalOverrides?.find(T=>T.index===B)??null)?.petalType??G.petalType:null},m=f.map(y=>d(y.layerId,y.index)),h=f.map(y=>v(y.layerId,y.index)),g=m.length>0&&m.every(y=>y===m[0]),D=h.length>0&&h.every(y=>y===h[0])?h[0]:null,b=y=>{i(B=>{const G=B.flowers.find(k=>k.id===a.id);if(G)for(const k of o){const T=G.layers.find(V=>V.id===k.layerId);if(!T)continue;T.petalOverrides||(T.petalOverrides=[]);const K=T.petalOverrides.find(V=>V.index===k.index);if(K)y.colorId!==void 0&&(y.colorId===T.colorId?delete K.colorId:K.colorId=y.colorId),y.petalType!==void 0&&(y.petalType===T.petalType?delete K.petalType:K.petalType=y.petalType),!K.colorId&&!K.petalType&&(T.petalOverrides=T.petalOverrides.filter(V=>V.index!==k.index),T.petalOverrides.length===0&&(T.petalOverrides=void 0));else{const V={index:k.index};y.colorId!==void 0&&y.colorId!==T.colorId&&(V.colorId=y.colorId),y.petalType!==void 0&&y.petalType!==T.petalType&&(V.petalType=y.petalType),(V.colorId!==void 0||V.petalType!==void 0)&&T.petalOverrides.push(V)}}},!0)},z=()=>{i(y=>{const B=y.flowers.find(G=>G.id===a.id);if(B)for(const G of o){const k=B.layers.find(T=>T.id===G.layerId);!k||!k.petalOverrides||(k.petalOverrides=k.petalOverrides.filter(T=>T.index!==G.index),k.petalOverrides.length===0&&(k.petalOverrides=void 0))}},!0)},C=f.some(y=>y.layer?.petalOverrides?.find(B=>B.index===y.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",C&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(y=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${g&&m[0]===y.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:y.hex},title:y.name,"aria-label":`: ${y.name}`,onClick:()=>b({colorId:y.id})},y.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(y=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${D===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:y}),children:y},y))})]}),C&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:z,children:""})]})]})}function Ym({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:o}){const f=r?.petalOverrides?.find(p=>p.index===o)??null,d=f?.colorId??r.colorId,v=f?.petalType??r.petalType,m=f!=null,h=p=>{i(D=>{const b=D.flowers.find(y=>y.id===a.id);if(!b)return;const z=b.layers.find(y=>y.id===r.id);if(!z)return;z.petalOverrides||(z.petalOverrides=[]);const C=z.petalOverrides.find(y=>y.index===o);if(C)p.colorId!==void 0&&(C.colorId=p.colorId),p.petalType!==void 0&&(C.petalType=p.petalType),p.innerColorId!==void 0&&(C.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(C.innerSizeReduction=p.innerSizeReduction),C.colorId!==void 0||C.petalType!==void 0||C.innerColorId!==void 0||C.innerSizeReduction!==void 0?(C.colorId===void 0&&delete C.colorId,C.petalType===void 0&&delete C.petalType,C.innerColorId===void 0&&delete C.innerColorId,C.innerSizeReduction===void 0&&delete C.innerSizeReduction):(z.petalOverrides=z.petalOverrides.filter(B=>B.index!==o),z.petalOverrides.length===0&&(z.petalOverrides=void 0));else{const y={index:o};p.colorId!==void 0&&(y.colorId=p.colorId),p.petalType!==void 0&&(y.petalType=p.petalType),p.innerColorId!==void 0&&(y.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(y.innerSizeReduction=p.innerSizeReduction),(y.colorId!==void 0||y.petalType!==void 0||y.innerColorId!==void 0||y.innerSizeReduction!==void 0)&&z.petalOverrides.push(y)}},!0)},g=()=>{i(p=>{const D=p.flowers.find(z=>z.id===a.id);if(!D)return;const b=D.layers.find(z=>z.id===r.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(z=>z.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",o+1,m&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:d,onChange:p=>{p===r.colorId?h({colorId:void 0}):h({colorId:p})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{p===r.petalType?h({petalType:void 0}):h({petalType:p})},children:p},p))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:p=>i(D=>{const b=D.flowers.find(C=>C.id===a.id);if(!b)return;const z=b.layers.find(C=>C.id===r.id);if(z)if(p.target.checked){const C=z._doublePetalCache;z.doublePetal=C??{innerSizeReduction:2},delete z._doublePetalCache}else z.doublePetal&&(z._doublePetalCache={...z.doublePetal}),delete z.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const p=r.doublePetal,D=f?.innerSizeReduction??p.innerSizeReduction,b=f?.innerColorId??p.innerColorId??d;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(Re,{min:1,max:30,step:1,value:D,onChange:z=>{const C=Se(z,1,30);C===p.innerSizeReduction?h({innerSizeReduction:void 0}):h({innerSizeReduction:C})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:b,size:"sm",onChange:z=>{const C=p.innerColorId??r.colorId;h(z===C?{innerColorId:void 0}:{innerColorId:z})}})]})]})})(),m&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:g,children:""})]})]})}function Im({project:u,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const o=a,f=d=>{i(v=>{const m=(v.stencils??[]).find(h=>h.id===o.id);m&&Object.assign(m,d)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:d=>f({variant:d.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(d=>x.jsx("option",{value:d,children:Qd[d]},d))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:d=>f({pose:d.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(d=>x.jsx("option",{value:d,children:Pd[d]},d))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:d=>f({locked:d.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Um({project:u,applyUpdate:i,selectedLeaf:a,leafGroups:r,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:d}){const v=a,m=g=>{i(p=>{const D=(p.leaves??[]).find(b=>b.id===v.id);D&&g(D)},!0)},h=U0(u,v.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:v.name,onChange:g=>m(p=>{p.name=g.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(g=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v.petalType===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>m(p=>{p.petalType=g}),children:g},g))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:v.colorId,onChange:g=>m(p=>{p.colorId=g})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Re,{min:3,max:80,step:.5,value:Math.round((v.fabricSquareSize??u.fabricSquareSize)*(v.scale??1)*10)/10,onChange:g=>m(p=>{const D=p.fabricSquareSize??u.fabricSquareSize;p.scale=Se(Math.round(g/D*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:.4,max:2.5,step:.05,value:Number(v.scale??1).toFixed(2),onChange:g=>m(p=>{p.scale=g})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Re,{min:.5,max:1.8,step:.05,value:Number(v.widthScale??1).toFixed(2),onChange:g=>m(p=>{p.widthScale=g})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Re,{value:Number(v.rotation).toFixed(1),onChange:g=>m(p=>{p.rotation=g})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.doublePetal,onChange:g=>m(p=>{if(g.target.checked){const D=p._doublePetalCache;p.doublePetal=D??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),v.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{min:1,max:30,step:1,value:v.doublePetal.innerSizeReduction,onChange:g=>m(p=>{p.doublePetal&&(p.doublePetal.innerSizeReduction=Se(g,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:v.doublePetal.innerColorId??v.colorId,onChange:g=>m(p=>{p.doublePetal&&(g===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=g)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.visible,onChange:g=>m(p=>{p.visible=g.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.locked,onChange:g=>m(p=>{p.locked=g.target.checked})}),""]})]}),h?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",h.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>d(v.id),children:""})]}):r.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:g=>{g.target.value&&f(v.id,g.target.value)},children:[x.jsx("option",{value:"",children:"..."}),r.map(g=>x.jsx("option",{value:g.id,children:g.name},g.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(v.id),children:""})]})]})}function Km({project:u,applyUpdate:i,leafIds:a,onGroupLeaves:r}){const o=(u.leaves??[]).filter(f=>a.includes(f.id));return o.length===0?null:x.jsxs(lr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[o.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Yn,{palette:u.palette,project:u,selectedColorId:"",onChange:f=>i(d=>{for(const v of a){const m=(d.leaves??[]).find(h=>h.id===v);m&&(m.colorId=f)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:hl.map(f=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(d=>{for(const v of a){const m=(d.leaves??[]).find(h=>h.id===v);m&&(m.petalType=f)}},!0),children:f},f))}),a.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""})]})}function Zm({project:u,applyUpdate:i,selectedLeafGroup:a,onUngroupLeaves:r}){const o=a,f=(u.leaves??[]).filter(d=>o.leafIds.includes(d.id));return x.jsxs(lr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:d=>i(v=>{const m=(v.leafGroups??[]).find(h=>h.id===o.id);m&&(m.name=d.target.value)})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Re,{value:Number(o.rotation).toFixed(1),onChange:d=>i(v=>{const m=(v.leafGroups??[]).find(h=>h.id===o.id);m&&(m.rotation=d)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:d=>i(v=>{const m=(v.leafGroups??[]).find(h=>h.id===o.id);m&&(d.target.value?m.linkedFlowerGroupId=d.target.value:delete m.linkedFlowerGroupId)},!0),children:[x.jsx("option",{value:"",children:""}),(u.groups??[]).map(d=>x.jsx("option",{value:d.id,children:d.name},d.id))]})]}),x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),x.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(d=>x.jsx("div",{children:d.name},d.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>r(o.id),children:""})]})}function Xm(u){const{project:i,selection:a,applyUpdate:r,selectedFlower:o,selectedFlowers:f,selectedLayer:d,selectedPetalIndex:v,selectedPetals:m}=u;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:h=>r(g=>g.title=h.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{value:i.fabricSquareSize,min:5,max:60,onChange:h=>r(g=>g.fabricSquareSize=h),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Re,{value:i.baseDiameter,min:10,max:100,onChange:h=>r(g=>g.baseDiameter=h),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Yl(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",Yl(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:h=>r(g=>g.notes=h.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(h=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:h.hex},title:h.name},h.id))})]})]})]}),a.kind==="flower"&&o&&x.jsx(km,{project:i,applyUpdate:r,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&x.jsx(Rm,{project:i,applyUpdate:r,selectedFlowers:f,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&f.length>0&&x.jsx(Gm,{project:i,applyUpdate:r,selectedFlowers:f,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers}),a.kind==="layer"&&o&&d&&x.jsx(Om,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:d}),a.kind==="petals"&&o&&m.length>0&&x.jsx(Hm,{project:i,applyUpdate:r,selectedFlower:o,selectedPetals:m}),a.kind==="petal"&&o&&d&&v!==null&&x.jsx(Ym,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:d,selectedPetalIndex:v}),a.kind==="stencil"&&u.selectedStencil&&x.jsx(Im,{project:i,applyUpdate:r,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&x.jsx(Um,{project:i,applyUpdate:r,selectedLeaf:u.selectedLeaf,leafGroups:u.leafGroups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Km,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves}),a.kind==="leafGroup"&&u.selectedLeafGroup&&x.jsx(Zm,{project:i,applyUpdate:r,selectedLeafGroup:u.selectedLeafGroup,onUngroupLeaves:u.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Jm(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Yl(u.baseDiameter,u.fabricSquareSize,i).diameter:$i(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function Vm(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Dh(u.flowerDiameter,u.baseDiameter,i):zh(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function Wm({palette:u,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:o}){const f=m=>{a(h=>{const g={...h,...m};return m.placementMode&&m.placementMode!==h.placementMode&&(m.placementMode===""?(g.baseDiameter=30,g.fabricSquareSize=20,g.layerCount=4,g.petalCount=12):(g.fabricSquareSize=20,g.layerCount=1,g.petalCount=6)),g.flowerDiameter=Jm(g),g})},d=m=>{a(h=>{const g={...h,flowerDiameter:m};return g.fabricSquareSize=Vm(g),g})},v=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&v.push("");const m=Nh(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>m&&v.push(`${m}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:m=>m.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Kd.map(m=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:m}),children:m},m))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:m=>f({fabricSquareSize:m})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:m=>f({layerCount:m})})]})]}),i.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:m=>f({baseDiameter:m})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:m=>a(h=>({...h,petalCount:m}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:d})]})]}),v.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:v.map((m,h)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:m},h))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(m=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||u[0]?.id)===m.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:m.hex},title:m.name,"aria-label":`: ${m.name}`,onClick:()=>a(h=>({...h,colorId:m.id}))},m.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:hl.map(m=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:m})),children:m},m))})]}),i.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Re,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:m=>f({sizeStepMm:m})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}(function(u,i){const a=Zt,r=u();for(;;)try{if(-parseInt(a(204))/1*(-parseInt(a(182))/2)+-parseInt(a(199))/3*(-parseInt(a(196))/4)+parseInt(a(230))/5+-parseInt(a(197))/6*(parseInt(a(226))/7)+parseInt(a(251))/8*(parseInt(a(222))/9)+-parseInt(a(249))/10*(parseInt(a(200))/11)+-parseInt(a(247))/12*(parseInt(a(229))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(G0,878399);function Zt(u,i){u=u-176;const a=G0();let r=a[u];if(Zt.RzyqKa===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Zt.cmbUKi=o,Zt.rninGA={},Zt.RzyqKa=!0}const f=a[0],d=u+f,v=Zt.rninGA[d];if(v)r=v;else{const m=function(h){this.ZwARWV=h,this.AjdJxZ=[1,0,0],this.LooZtJ=function(){return"newState"},this.dGvfUJ="\\w+ *\\(\\) *{\\w+ *",this.Htjrqq=`['|"].+['|"];? *}`};m.prototype.nbqIHP=function(){const h=new RegExp(this.dGvfUJ+this.Htjrqq),g=h.test(this.LooZtJ.toString())?--this.AjdJxZ[1]:--this.AjdJxZ[0];return this.SEPNFx(g)},m.prototype.SEPNFx=function(h){return~h?this.LgeDAk(this.ZwARWV):h},m.prototype.LgeDAk=function(h){for(let g=0,p=this.AjdJxZ.length;g<p;g++)this.AjdJxZ.push(Math.round(Math.random())),p=this.AjdJxZ.length;return h(this.AjdJxZ[0])},new m(Zt).nbqIHP(),r=Zt.cmbUKi(r),Zt.rninGA[d]=r}return r}const Qm=(function(){const u=Zt,i={jpHMf:function(r,o){return r*o},LPWJs:function(r,o){return r===o},CrbhY:u(253),MJBOK:function(r,o,f){return r(o,f)}};let a=!0;return function(r,o){const f={xDvKW:function(v,m){return i.jpHMf(v,m)},AcJRV:function(v,m){return i.LPWJs(v,m)},rprPk:i.CrbhY,wEMDt:function(v,m){return v-m},UNBMJ:function(v,m,h){return i.MJBOK(v,m,h)},qTaan:function(v,m){return v!==m}},d=a?function(){const v=Zt;if(o)if(f.qTaan("kkpcl",v(219))){const m=o[v(188)](r,arguments);return o=null,m}else{const m=_0x5bc674.current;if(!m)return;const h=_0x2ce1da.getBoundingClientRect()[v(241)];if(h===0)return;const g=_0x2e5e18.clientX-m.startX,p=f[v(228)](g/h,100);if(f.AcJRV(m[v(178)],f[v(250)])){const D=m.startWidths.left+p,b=f.wEMDt(f.wEMDt(100,m.startWidths[v(205)]),_0x1e1e49);_0x4579db(f.UNBMJ(_0x538003,_0x8f5242[v(214)](D,b),m.startWidths.right))}else{const D=m[v(234)][v(205)]-p,b=f[v(177)](f.wEMDt(100,m[v(234)][v(253)]),_0x59d60b);_0x1233b1(f.UNBMJ(_0x50dc08,m.startWidths[v(253)],_0x5b0874.min(D,b)))}}}:function(){};return a=!1,d}})(),jx=Qm(void 0,function(){const u=Zt,i={fhZgv:"(((.+)+)+)+$"};return jx.toString().search(i.fhZgv)[u(183)]()[u(235)](jx)[u(217)](i[u(190)])});jx();const $d="tsumami-panel-widths",e1={left:25,right:25},Mx=15,zx=15,tr=30;function Pm(){const u=Zt,i={QjFbB:function(a,r){return a===r},qjUdQ:function(a,r){return a>=r},HWjyJ:function(a,r){return a-r},EaIBb:"number",RouBt:function(a,r){return a-r},rfrKm:"QKibk"};try{const a=localStorage.getItem($d);if(a){const r=JSON.parse(a);if(i[u(216)](typeof r[u(253)],i.EaIBb)&&typeof r.right===i.EaIBb&&r[u(253)]>=Mx&&r[u(205)]>=zx&&i.qjUdQ(i[u(186)](100,r[u(253)])-r.right,tr)){if(i[u(216)](i.rfrKm,i[u(245)]))return r;{const o=_0x19ff47.parse(_0x4a3c31);if(typeof o.left=="number"&&i[u(216)](typeof o.right,u(220))&&o.left>=_0x213ca0&&i.qjUdQ(o.right,_0x6a7514)&&i.HWjyJ(100,o.left)-o[u(205)]>=_0x54deb9)return o}}}}catch{}return e1}function Hd(u,i){const a=Zt,r={pGeCV:function(v,m){return v-m},CauKo:function(v,m){return v-m},hmClH:function(v,m){return v/m},ilYvx:function(v,m){return v/m},kIwfq:function(v,m){return v*m}};let o=Math[a(187)](Mx,u),f=Math.max(zx,i);const d=r[a(184)](100,o)-f;if(d<tr){const v=r[a(213)](tr,d);o-=r[a(194)](v,2),f-=v/2,o=Math[a(187)](Mx,o),f=Math[a(187)](zx,f)}return{left:Math[a(246)](o*100)/100,right:r.ilYvx(Math[a(246)](r[a(191)](f,100)),100)}}function G0(){const u=["Cg9PBNrLCM1VDMu","qwjiB1a","rKv0z0u","z2v0sxrLBq","zw1rseK","q2f1s28","BwLU","u0L0uuq","uwPgyKi","C2vHCMnO","C3r5Bgu","A1zLq00","BNvTyMvY","uhzMsNC","nZj5seHJwwq","Dw5KzwzPBMvK","qLD1u3y","DNvctfK","mZG5mte2t2vfD0Pf","su1iqwe","Eer2s1C","odCZndDIDujNve0","nZa1ody3mfrXAhnftG","kg1PBI13Awr0AdOGnZy4ChGP","DhPTEKG","s09esNi","C3rHCNrxAwr0Ahm","y29UC3rYDwn0B3i","v1LusM0","uLf2BMC","yK94reW","CMvTB3zLrxzLBNrmAxn0zw5LCG","sg1VvLm","D2LKDgG","CgfYC2u","yM9KEq","y3vYC29Y","CMzYs20","CM91BMq","mZC2ohn3wuzNrq","z2v0qM91BMrPBMDdBgLLBNrszwn0","mtaWq3DfweHy","CNbYugS","ntqXmde2wKjoqMfL","u1zmu3C","BgvMDa","Cg9PBNrLCNvW","D0vnrhq","C2LKzq","DxnLCLnLBgvJDa","u2D2Agi","B1f2C2G","mte2DKvtqKHs","Dg9tDhjPBMC","CeDLq1y","AfnbBwS","uM91qNq","Bwf4","yxbWBhK","CKDwsfa","zMHAz3y","A0L3zNe","yM1bBxG","y2HHBMDL","Ag1dBeG","tfzQDeS","nJy2otKWohnmuKDKzG","mti2quvOzwnL","y3vYCMvUDa","m2r4qKT6yG","mZq2nJiXt216tfDI","y2XPzw50wa","ywrKrxzLBNrmAxn0zw5LCG","BM9Uzq","mtq2nJjiyuXhwum","CMLNAhq","C3rYAw5NAwz5","Bwf0y2HnzwrPyq"];return G0=function(){return u},G0()}function Fm(){const u=Zt,i={SItQD:function(z,C){return z===C},Wftqv:"number",wPCzk:u(233),AScei:u(209),HmoVS:"(min-width: 768px)",emQHI:function(z,C){return z*C},Sgvhb:function(z,C){return z/C},lbRQX:function(z,C){return z===C},PWjvp:"left",IMHAa:function(z,C){return z+C},rGVHP:function(z,C){return z-C},vuBLY:function(z,C,y){return z(C,y)},SVLSw:function(z,C){return z(C)},AJAvS:u(203),RQvng:"pointermove",GtVkT:u(176),OdloC:"mwraW",qnNRP:"MiJeq",bmAmx:function(z,C){return z(C)},hSAmk:function(z,C){return z(C)},IWzEh:function(z,C,y){return z(C,y)}},[a,r]=i[u(252)](F.useState,Pm),o=i[u(192)](F.useRef,null),f=i[u(185)](F.useRef,null),[d,v]=i[u(192)](F.useState,!1),[m,h]=F.useState(()=>typeof window!==u(223)?window.matchMedia(u(231)).matches:!0);F.useEffect(()=>{const z=u;if(i.Wftqv,i.wPCzk!==i.AScei){const C=window[z(207)](i[z(240)]),y=B=>h(B.matches);return C[z(202)]("change",y),()=>C.removeEventListener(z(193),y)}else{const C=_0x27b583[z(211)](_0x18b3c8);if(C){const y=_0x1d6054[z(242)](C);if(ggcjEV[z(195)](typeof y[z(253)],ggcjEV[z(181)])&&ggcjEV.LVjtK(typeof y[z(205)],ggcjEV.oQvsh)&&y[z(253)]>=_0x46424d&&y.right>=_0x55a7e6&&ggcjEV.CTWyP(100,y.left)-y.right>=_0x13079e)return y}}},[]),F.useEffect(()=>{const z=u;if(i[z(215)]("FEtgE",z(210)))localStorage.setItem($d,JSON[z(206)](a));else return _0x2ad501},[a]);const g=F.useRef(a);i.vuBLY(F.useEffect,()=>{const z=u;g[z(198)]=a},[a]);const p=F.useCallback((z,C)=>{const y=u;C.preventDefault();const B=o.current;if(!B)return;f[y(198)]={side:z,startX:C[y(201)],startWidths:{...g.current}},v(!0),document.body[y(218)].cursor="col-resize",document[y(243)][y(218)].userSelect=i.AJAvS;const G=T=>{const K=y,V=f[K(198)];if(!V)return;const R=B[K(248)]()[K(241)];if(R===0)return;const Z=T.clientX-V.startX,P=i[K(212)](i[K(180)](Z,R),100);if(i.lbRQX(V.side,i.PWjvp)){const ne=i[K(227)](V[K(234)].left,P),W=i.rGVHP(100-V.startWidths.right,tr);r(i[K(225)](Hd,Math.min(ne,W),V.startWidths.right))}else{const ne=V.startWidths[K(205)]-P,W=i[K(189)](i[K(189)](100,V[K(234)].left),tr);r(Hd(V[K(234)][K(253)],Math[K(214)](ne,W)))}},k=()=>{const T=y;f.current=null,v(!1),document.body[T(218)][T(244)]="",document.body.style[T(179)]="",window.removeEventListener("pointermove",G),window.removeEventListener(T(176),k)};window[y(202)](i[y(237)],G),window.addEventListener("pointerup",k),D[y(198)]=()=>{const T=y;window[T(239)](T(208),G),window[T(239)]("pointerup",k),f.current=null,i[T(252)](v,!1),document.body.style.cursor="",document[T(243)].style.userSelect=""}},[]),D=i.SVLSw(F.useRef,null);i.vuBLY(F.useEffect,()=>{const z=u,C={WYTJm:i[z(237)],bOxDL:i.GtVkT,szNpI:function(y,B){return y!==B},tzmzH:i.OdloC};return()=>{const y=z;C.szNpI(y(221),C[y(232)])?D.current?.():(_0x47d0c6[y(239)](tRnpnE[y(236)],_0x324603),_0x36eff3.removeEventListener(tRnpnE[y(238)],_0x394fd0),_0x4e1035[y(198)]=null,_0x1d41ac(!1),_0x2cb617[y(243)][y(218)].cursor="",_0x16e547[y(243)].style.userSelect="")}},[]);const b=i.IWzEh(F.useCallback,()=>{const z=u;z(224)!==i.qnNRP?r(e1):_0x53834a[z(198)]=_0x545a26},[]);return{widths:a,containerRef:o,onDividerPointerDown:p,onDividerDoubleClick:b,isDragging:d,isDesktop:m}}function Yd({side:u,onPointerDown:i,onDoubleClick:a,isDragging:r}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>i(u,o),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(u,i){const a=_t,r=u();for(;;)try{if(parseInt(a(452))/1*(parseInt(a(488))/2)+-parseInt(a(359))/3*(-parseInt(a(408))/4)+parseInt(a(362))/5*(parseInt(a(461))/6)+parseInt(a(497))/7*(parseInt(a(458))/8)+-parseInt(a(354))/9*(-parseInt(a(353))/10)+parseInt(a(469))/11+parseInt(a(491))/12*(-parseInt(a(472))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(O0,266884);const $m=(function(){const u={tjLSL:function(a,r){return a+r},MNEli:"stencil"};let i=!0;return function(a,r){const o={gXndO:function(d,v){return u[_t(409)](d,v)},oJsOU:function(d,v,m,h){return d(v,m,h)},DwDek:function(d,v){return d(v)},jmxks:u.MNEli,sMSzJ:"MTEBH"},f=i?function(){const d=_t;if(o[d(463)]!==d(459)){if(r){const v=r.apply(a,arguments);return r=null,v}}else{const v=_0x3b4b8f.w/_0x57be7a.h,m=520/_0x2af321,h=m*v,g=-_0x4daaa8.x/_0x38811f,p=-_0x5d13cb.y/_0x35e18b,D=o[d(479)](g,h/2),b=o[d(479)](p,m/2),z=_0x5ec881==="back"?"back":d(427),C=_0x2ccb0f[_0x4a9f4f][z].height*_0xe83aa7,y=o[d(368)](_0x584748,D,0,_0x425550),B=o.oJsOU(_0x58bb33,b-C/2,0,_0x2b851f),G={id:o.DwDek(_0x15a66f,d(419)),variant:_0x28a248,pose:_0x332e27,position:{x:y,y:B}};_0x1111b5(k=>{const T=d;k[T(373)]||(k.stencils=[]),k[T(373)].push(G)},!0),o.DwDek(_0x152fb2,{kind:o.jmxks,stencilId:G.id})}}:function(){};return i=!1,f}})(),Dx=$m(void 0,function(){const u=_t,i={ClaBZ:"(((.+)+)+)+$"};return Dx[u(347)]().search(i.ClaBZ)[u(347)]().constructor(Dx).search(u(360))});Dx();function O0(){const u=["BMfTzq","rKrXuvy","zMXVD2vYCW","BgvUz3rO","C29YDa","ChjVAMvJDa","r0T6ywm","DfHHquG","vgziB1m","BgXrCuK","zxHLtvO","Bgf5zxjjza","vfrMCuC","muPLENLUvq","A2LUza","tKDsC0O","Cgv0ywW","vw9iBvO","zMfICMLJu3f1yxjLu2L6zq","mJu2odHfEgneA1i","CfPKvwC","CfrKvLm","nKflEhH3wq","wvnxteC","C01tEKO","q25Vr1u","BgvHzKLKCW","Bwf4","AgvPz2H0","BwfW","mZK1ndi4meThtNvOwq","zMnbwxe","tuTnExy","nZeZntDoBLLftey","BNHWANi","ALPsrgG","B2zMC2v0qw5NBgu","Bwf0y2G","Aw5JBhvKzxm","ufzdELG","z1HUze8","yNfAq2y","vLLbsMO","BgvHzKDYB3vWswq","tNjrzNC","Cgv0ywXuExbL","wwX5uxq","DuP5quy","yMPoCg8","ndmYnJm0ELPLtxb1","wNfsChm","sxbfzva","mZy4neLuBefqra","CNnwshG","zMXVD2vYswq","r0PHAvG","sw1kweq","tg5iugu","mJK0s01LvvL6","y2PpvKK","AhbLBMm","C2XPy2u","tNn2shO","z3jVDxbjza","zMXVD2vYswrZ","CNLXBgS","AMT6uNu","DfLOtxK","B3jKzxi","qwrYyxC","zfnZANi","C09YzKm","v2PdBMW","z3jVDxbZ","AxDhs2e","Dw5PzM9YBq","Bgf5zxi","AuzSALC","Dg9tDhjPBMC","vuXMyvq","senure8","rfblq1q","q2zAENG","BgvHzKDYB3vWCW","nJC2nZbZu1zTrwm","nJm5wMjlr1jo","CMfKAxvZ","rgXsvgK","BgvHzKDYB3vW","EhrUyLu","ndm4re5xzKDc","kcGOlISPkYKRksSK","Dw5ZAgLMDa","mtGZmJCYnuL5tMjIEG","vur2BLa","s25sB1q","ugvSwfy","tM5LqKG","z3jVDxa","B0PZt1u","uKP3B1i","zMXVD2vY","ww5Jy08","s1zoEvC","C3rLBMnPBhm","zMLUza","D2LnqMS","zMLSDgvY","wxDXEe0","AhjXwwu","rLrvExy","rhr5uhG","BKnOwee","DhDltwm","Bgf5zxjZ","Cgv0ywXZ","Cgv0ywXdB3vUDa","zM9YrwfJAa","zgLHBwv0zxi","BgvHzKLK","Awv3Cxy","DuXyveS","rMP2CLK","CMv2zxjZzq","z0jizgi","qKjtt3q","CxDWweC","CgXHy2vTzw50tw9Kzq","ExLysvK","C3rLBMnPBa","vK1sC2m","qLbYreq","yNzMtuq","sxP2Bhm","B2LKqMC","CMDQz2u","t3v0zxiR","t2HfteO","tvjmEw0","mta4mdrtBfz5vvq","DgPmu0W","CM91BMq","vvnjB2i","tuvYBuy","44kW44oR44o844oxia","yMfZzurPyw1LDgvY","BLzNqwW","Bgf5","tw1VBhC","CfjMz2K","C3rS","zgDiEKG","A3PuAK4","BhrTEKS","ChvZAa","ALPLqNq","yMfJAW","rfD6yvm","C2LKzq","C3rLBMnPBeLK","zMXVD2vYrgLHBwv0zxi","y29SB3jjza","BgvHDMvZ","Aw5KzxG","suXUt1m","BeLZAwq","C2nHBgu","senhBKW","rvb2rwG","q3PJBLK"];return O0=function(){return u},O0()}function _t(u,i){u=u-340;const a=O0();let r=a[u];if(_t.JLnJvz===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};_t.SOChwo=o,_t.jwfQEK={},_t.JLnJvz=!0}const f=a[0],d=u+f,v=_t.jwfQEK[d];if(v)r=v;else{const m=function(h){this.xpcnkv=h,this.FtdIhh=[1,0,0],this.kNgVWB=function(){return"newState"},this.LzlmCU="\\w+ *\\(\\) *{\\w+ *",this.sWiRqE=`['|"].+['|"];? *}`};m.prototype.YJwdzd=function(){const h=new RegExp(this.LzlmCU+this.sWiRqE),g=h.test(this.kNgVWB.toString())?--this.FtdIhh[1]:--this.FtdIhh[0];return this.NththO(g)},m.prototype.NththO=function(h){return~h?this.nkmscC(this.xpcnkv):h},m.prototype.nkmscC=function(h){for(let g=0,p=this.FtdIhh.length;g<p;g++)this.FtdIhh.push(Math.round(Math.random())),p=this.FtdIhh.length;return h(this.FtdIhh[0])},new m(_t).YJwdzd(),r=_t.SOChwo(r),_t.jwfQEK[d]=r}return r}function eb({project:u,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:o,setExpandedGroups:f,zoom:d,pan:v,stageSize:m,CANVAS_MAX_SVG:h,deleteLeafById:g,ungroupLeaves:p}){const D=_t,b={MErmF:function(S,w){return S(w)},fcAYq:function(S,w){return S===w},ZqRps:function(S,w){return S+w},jkzRu:function(S,w){return S-w},LnHPe:function(S,w){return S*w},iFljW:function(S,w){return S/w},oidBg:function(S,w){return S*w},TnXlT:function(S,w){return S/w},nRSZS:function(S,w){return S/w},FTUyv:function(S,w){return S*w},KnRoT:function(S,w){return S+w},nWFBS:function(S,w){return S||w},DtyPx:"project",gBHdb:function(S,w){return S<=w},dgHzH:function(S,w,N){return S(w,N)},exeMZ:D(370),FSwQv:"uniform",HCGnL:function(S,w,N,M){return S(w,N,M)},bqZCf:function(S,w){return S-w},RJwoR:"qykNY",DWzaS:D(509),uLXTK:function(S,w){return S>=w},rsVHx:function(S,w){return S===w},azQlR:"hCkhf",HCTDO:D(377),uJyAF:function(S,w){return S-w},sOrfC:function(S,w){return S/w},FDqQV:function(S,w,N,M){return S(w,N,M)},giqSx:D(416),LZqZZ:"col_green",jZeBt:function(S,w){return S>w},GCnRz:function(S,w,N,M){return S(w,N,M)},FueHb:function(S,w){return S===w},xflsU:D(345),CzcnY:function(S,w){return S(w)},ryqlk:D(455),VehUz:function(S,w){return S===w},FjvrY:function(S,w){return S===w},wgPmo:"SDtMk",PelXV:function(S,w){return S===w},bvfMD:D(384),DlRTi:"olfFZ",Mmolw:function(S,w,N,M,j){return S(w,N,M,j)},YuMFS:function(S,w){return S===w},bjNpo:function(S,w){return S!==w},BXaRt:D(351),hrqYe:D(357),Izvls:function(S,w){return S(w)},MKMyv:function(S,w){return S===w},NGRsJ:function(S,w,N){return S(w,N)},dZOdG:function(S,w){return S===w},hpenc:D(367),iuGHJ:"QsafY",NsvHz:function(S,w){return S(w)},GNPRv:D(398),NrQfw:function(S,w){return S===w},ZQLlK:function(S,w){return S===w},sLZAO:function(S,w){return S===w},tXaAH:function(S,w){return S(w)},lIsid:function(S,w){return S(w)},BEzlF:function(S,w){return S-w},eubGA:D(350),qwpXG:function(S,w){return S<w},YlyQt:"UHVzP",USIob:function(S,w,N){return S(w,N)},Adraw:function(S,w){return S/w},CnoGU:function(S,w){return S/w},MRLym:function(S,w){return S/w},nChXA:function(S,w){return S/w},VMRsc:D(425),ILnOS:function(S,w,N,M){return S(w,N,M)},WjTYn:function(S,w,N,M){return S(w,N,M)},PQQCr:function(S,w){return S-w},kzTjN:function(S,w){return S(w)},wiMBk:D(419),TTfqG:function(S,w,N){return S(w,N)},lWKxj:"yyXIY",GJaiX:function(S,w,N){return S(w,N)},YSWLG:"PoWaK",nDrQG:D(404),iewqv:function(S,w){return S(w)},BtBIJ:"flowers",pRfgi:D(422),YnccO:function(S,w){return S===w},QgDzx:D(448),cjOVI:function(S,w){return S===w},WnxqN:function(S,w){return S===w},ImJXD:D(437),PVCzX:"vKZcu",KVNyW:function(S,w){return S(w)},FdtLy:function(S,w){return S(w)},XknYR:function(S,w,N){return S(w,N)},WSPXJ:function(S,w,N){return S(w,N)}},z=S=>{const w=D,N=[...S[w(383)]].sort((Y,A)=>Y[w(507)]-A[w(507)]),M=N[0];if(!M)return 28;const j=S[w(457)]??u[w(457)],{length:E}=b[w(412)](jt,j),O=E*(M.scale??1);let H;if(b[w(470)](S.placementMode,""))H=O/3;else{const A=70*Math.PI/180,q=b[w(489)](N[w(442)],1),I=b[w(505)](q,1),X=q>1?b[w(496)](b[w(346)](I,b.jkzRu(q,1)),A):0;H=b[w(403)](O,b.TnXlT(30,100))*Math.cos(X)}return b.nRSZS(Math.round(b[w(379)](b[w(364)](M[w(355)]??28,H),10)),10)},C=S=>{const w=D;i(N=>{const M=_t;if(N[M(441)]=(N[M(441)]||[])[M(376)](j=>j.id!==S),N.groups){for(const j of N[M(342)])j.flowerIds=j[M(503)].filter(E=>E!==S);N[M(342)]=N[M(342)][M(376)](j=>j[M(503)][M(442)]>0)}},!0),b[w(412)](r,{kind:b.DtyPx}),o(N=>{const M={...b.nWFBS(N,{})};return delete M[S],M})},y=(S,w)=>{const N=D,M=u[N(441)].find(j=>j.id===S);if(M&&b[N(393)]((M[N(383)]||[])[N(442)],1)){C(S);return}b[N(420)](i,j=>{const E=N,O=(j[E(441)]||[]).find(H=>H.id===S);O&&(O.layers=(O[E(383)]||[]).filter(H=>H.id!==w),O.layers[E(500)]()[E(443)]((H,Y)=>H.order-Y[E(507)]).forEach((H,Y)=>H[E(507)]=Y+1))},!0),b.MErmF(r,{kind:b[N(449)],flowerId:S})},B=S=>{const w=D;if(b.fcAYq(b[w(369)],b[w(426)]))_0x1ad4e8[w(503)][w(477)](_0x412ffc)||_0x3164af.flowerIds[w(423)](_0x5ad2c4);else{const N=u.flowers[w(374)](I=>I.id===S);if(!N)return;const M=[...N[w(383)]][w(443)]((I,X)=>I[w(507)]-X.order),j=M[0],E=Se(j?.petalCount??6,5,24),O=M[w(468)](I=>I[w(435)]??1),H=O[w(442)]<2||O.every(I=>Math.abs(I-O[0])<.001);let Y=j?.[w(435)]??1;if(!H&&b[w(390)](M.length,2))if(b.rsVHx(b.azQlR,b[w(349)]))_0x1595d2.flowerIds=_0x4ccab1.flowerIds.filter(I=>I!==_0x2935ae.flowerId);else{const I=M[b[w(486)](M[w(442)],1)],X=(I[w(507)]??1)-(j[w(507)]??1);if(X>0){const ae=b[w(340)](b[w(505)](j.scale??1,I.scale??1),X);Y=b[w(440)](Se,b.KnRoT(j[w(435)]??1,ae),.3,3)}}const A=b.MErmF(z,N),q={id:Ht(b.giqSx),name:w(405),order:1,petalType:j?.[w(484)]??"",petalCount:E,radius:A,scale:Y,widthScale:ei(E),offsetAngle:j?.[w(475)]??0,colorId:j?.[w(430)]??u.palette?.[0]?.id??b.LZqZZ,visible:!0,locked:!1};j&&(q[w(475)]=Vn(j.petalCount,j[w(475)]??0,E)),b[w(420)](i,I=>{const X=w,ae=I.flowers[X(374)](he=>he.id===S);if(!ae)return;ae[X(383)].forEach(he=>he.order+=1),ae[X(383)].unshift(q);const se=Math[X(410)](Pi(q.radius,q[X(435)],ae.fabricSquareSize??I[X(457)])),fe=ae.fabricSquareSize??I[X(457)],oe=ae[X(396)]===""?$i(fe,ae.layers[X(442)],b.FSwQv,0):b.HCGnL(Yl,ae[X(414)]??I[X(414)],fe,{layerCount:ae[X(383)][X(442)]})[X(387)];ae[X(429)]=Math.max(ae[X(429)]||oe,se);const be=[...ae[X(383)]].sort((he,Qe)=>he[X(507)]-Qe.order),we=be.reverse();for(let he=1;he<we.length;he++){const Qe=we[b[X(480)](he,1)],et=we[he];et[X(475)]=b[X(436)](Vn,Qe[X(385)],Qe[X(475)],et[X(385)])}},!0),b[w(412)](r,{kind:"layer",flowerId:S,layerId:q.id}),b.MErmF(o,I=>({...I,[S]:!0}))}},G=S=>{const w=D,N={nVgAl:function(O,H){return b.jZeBt(O,H)},GKzac:w(447),WjCnl:function(O,H,Y,A){return b.GCnRz(O,H,Y,A)}},M=u[w(441)][w(374)](O=>O.id===S);if(!M||!M.layers||b.FueHb(M[w(383)][w(442)],0))return;if(b[w(393)](M[w(383)][w(442)],1)){C(S);return}const j=[...M.layers][w(443)]((O,H)=>O[w(507)]-H[w(507)]),E=j[0];E&&(b.dgHzH(i,O=>{const H=w,Y=O.flowers.find(I=>I.id===S);if(!Y)return;Y[H(383)]=Y[H(383)][H(376)](I=>I.id!==E.id),Y[H(383)][H(500)]().sort((I,X)=>I[H(507)]-X.order).forEach((I,X)=>I.order=X+1);const A=[...Y[H(383)]].sort((I,X)=>I.order-X[H(507)]),q=Y[H(457)]??O.fabricSquareSize;if(N[H(415)](A[H(442)],0))if(N[H(445)]==="ESBXW"){const I=(_0x47e842.flowers||[])[H(374)](X=>X.id===_0x49f89b);if(!I)return;I.layers=(I[H(383)]||[])[H(376)](X=>X.id!==_0x2fb7a6),I[H(383)].slice().sort((X,ae)=>X[H(507)]-ae.order)[H(386)]((X,ae)=>X.order=ae+1)}else{ox(A,q);for(const ae of A){const se=Y.layers.find(fe=>fe.id===ae.id);se&&(se.radius=ae.radius)}const I=A[0];Y.flowerDiameter=Math[H(410)](N[H(341)](Pi,I.radius,I[H(435)]??1,q));const X=[...A][H(392)]();for(let ae=1;ae<X[H(442)];ae++){const se=X[ae-1],fe=X[ae];fe[H(475)]=N.WjCnl(Vn,se[H(385)],se[H(475)],fe[H(385)])}}},!0),a.kind===b.xflsU&&b.rsVHx(a[w(450)],E.id)?b[w(438)](r,{kind:"flower",flowerId:S}):a[w(453)]===b[w(504)]&&b.VehUz(a.layerId,E.id)&&r({kind:w(370),flowerId:S}))},k=()=>{const S=D,w={xtnbU:function(N,M){return b[_t(438)](N,M)},UDvnP:b.ryqlk,UoHmZ:function(N,M){return N-M},kVnsU:function(N,M,j,E){return N(M,j,E)},uFYCM:function(N,M,j){return b[_t(420)](N,M,j)},sLKZA:function(N,M){return N!==M},WNskg:S(481),OpFAa:"WFGwM",OhELJ:b[S(356)],OejFh:function(N,M){return N===M},pTdVS:function(N,M,j,E,O){return b.Mmolw(N,M,j,E,O)},CRYeM:S(344),BPrDD:function(N,M,j,E){return N(M,j,E)},puBwh:function(N,M){return N<M}};if(a[S(453)]!==b[S(380)]){if(b.YuMFS(a.kind,"leaf"))if(b[S(487)](b.BXaRt,"CfZzx"))w[S(358)](_0x548a02,{kind:w[S(363)],flowerId:_0x27146f,layerId:_0x355f2f[0][S(450)],index:_0x3246db[0].index});else{b.CzcnY(g,a[S(388)]);return}if(b.FjvrY(a.kind,b[S(378)])){b.Izvls(p,a[S(482)]);return}if(b[S(471)](a[S(453)],S(431))){const N=a.leafIds;b.NGRsJ(i,M=>{const j=S;if(M[j(431)]=(M[j(431)]??[]).filter(E=>!N[j(477)](E.id)),M.leafGroups){for(const E of M.leafGroups)E.leafIds=E.leafIds[j(376)](O=>!N[j(477)](O));M.leafGroups=M.leafGroups.filter(E=>E[j(465)].length>0)}},!0),r({kind:"project"});return}if(b.dZOdG(a.kind,S(441))){const N=a[S(503)];b[S(454)](i,M=>{const j=S;if(b[j(391)](b.wgPmo,"LUhkg")){const E=_0x283c17[qIFhza.UoHmZ(_0x156b80,1)],O=_0x5a75d4[_0x13af2d];O.offsetAngle=qIFhza.kVnsU(_0x2f2305,E.petalCount,E[j(475)],O.petalCount)}else if(M[j(441)]=M[j(441)][j(376)](E=>!N.includes(E.id)),M[j(342)]){for(const E of M.groups)E.flowerIds=E[j(503)].filter(O=>!N.includes(O));M[j(342)]=M.groups.filter(E=>E[j(503)].length>0)}},!0),r({kind:b[S(380)]});return}if(a[S(453)]===b[S(499)])if(b[S(487)](S(343),b.iuGHJ)){i(N=>{const M=S;N[M(342)]&&(N[M(342)]=N[M(342)][M(376)](j=>j.id!==a[M(502)]))},!0),b.NsvHz(r,{kind:S(444)});return}else{const N=_0x4ee2c5.filter(M=>M.layerId+":"+M.index!==_0x3cb154);N.length===0?_0x35dd17({kind:S(370),flowerId:_0x222349}):b[S(365)](N.length,1)?b.MErmF(_0x23e591,{kind:b[S(504)],flowerId:_0x562a4a,layerId:N[0].layerId,index:N[0][S(432)]}):_0x3fa07c({kind:b.bvfMD,flowerId:_0x1f3322,petals:N})}if(b.dZOdG(a.kind,b.GNPRv)){b[S(420)](i,N=>{const M=S;N.stencils=(N[M(373)]??[]).filter(j=>j.id!==a.stencilId)},!0),b[S(402)](r,{kind:"project"});return}if(a.kind===b[S(401)]){b[S(501)](r,{kind:b.exeMZ,flowerId:a[S(493)]});return}if(a.kind===S(370)){b.NGRsJ(i,N=>{const M=S;if(N[M(441)]=N[M(441)][M(376)](j=>j.id!==a.flowerId),N[M(342)]){for(const j of N.groups)j[M(503)]=j.flowerIds.filter(E=>E!==a.flowerId);N.groups=N[M(342)][M(376)](j=>j.flowerIds[M(442)]>0)}},!0),r({kind:S(444)});return}if(b[S(483)](a[S(453)],S(345))||b.ZQLlK(a[S(453)],b.ryqlk)){const N=u[S(441)].find(j=>j.id===a[S(493)]),M=N?b.sLZAO([...N[S(383)]][S(443)]((j,E)=>j.order-E.order)[0]?.id,a[S(450)]):!1;b.dgHzH(i,j=>{const E=S,O=j.flowers[E(374)](H=>H.id===a[E(493)]);if(O&&(O.layers=O.layers.filter(H=>H.id!==a[E(450)]),O.layers.slice()[E(443)]((H,Y)=>H[E(507)]-Y[E(507)])[E(386)]((H,Y)=>H.order=Y+1),O.layers.length>0)){const H=[...O[E(383)]][E(443)]((q,I)=>q.order-I[E(507)]),Y=O.fabricSquareSize??j[E(457)];w.uFYCM(ox,H,Y);for(const q of H)if(w.sLKZA(w.WNskg,w.OpFAa)){const I=O[E(383)].find(X=>X.id===q.id);I&&(I[E(355)]=q.radius)}else _0x269b18({kind:"petals",flowerId:_0x3fe01b,petals:[{layerId:_0x599714,index:_0x351578}]});if(M){const q=H[0];O[E(429)]=Math[E(410)](w.kVnsU(Pi,q[E(355)],q[E(435)]??1,Y))}else if(w[E(406)]==="OsFwl"){for(const q of _0x4cc2b6[E(342)])q[E(503)]=q.flowerIds.filter(I=>I!==_0x886f0e.flowerId);_0x1a5bc9.groups=_0x3bac8f.groups.filter(q=>q.flowerIds[E(442)]>0)}else{const q=w.OejFh(O[E(396)],"")?w[E(460)]($i,Y,O[E(383)].length,w.CRYeM,0):w[E(400)](Yl,O[E(414)]??j.baseDiameter,Y,{layerCount:O[E(383)].length}).diameter;K0(H,Y,O.flowerDiameter||q);for(const I of H)if(E(474)!==E(506)){const X=O.layers[E(374)](ae=>ae.id===I.id);X&&(X.radius=I[E(355)],X[E(435)]=I.scale)}else _0x17e2ed.stencils=(_0x1b94bc[E(373)]??[])[E(376)](X=>X.id!==_0x4ca043)}const A=[...H][E(392)]();for(let q=1;w.puBwh(q,A[E(442)]);q++){const I=A[w[E(456)](q,1)],X=A[q];X[E(475)]=Vn(I[E(385)],I.offsetAngle,X.petalCount)}}},!0),b[S(446)](r,{kind:b[S(449)],flowerId:a.flowerId})}}},T=b.XknYR(F.useCallback,S=>{const w=D,N=b.lIsid(Ht,"grp");b[w(454)](i,M=>{const j=w;M.groups||(M.groups=[]);const E=M.groups.map(H=>{const Y=_t,A=H[Y(439)][Y(476)](/^ (\d+)$/);return A?parseInt(A[1],10):0}),O=b[j(424)](E.length,0)?Math.max(...E)+1:1;M.groups[j(423)]({id:N,name:j(413)+O,flowerIds:[...S]})},!0),b[w(434)](r,{kind:"group",groupId:N}),b.MErmF(f,M=>({...M,[N]:!0}))},[i,r,f]),K=F.useCallback(S=>{const w=D;b[w(420)](i,N=>{const M=w;N[M(342)]&&(N.groups=N[M(342)].filter(j=>j.id!==S))},!0),r({kind:b.DtyPx})},[i,r]),V=b.NGRsJ(F.useCallback,(S,w)=>{const N=D;b.dgHzH(i,M=>{const j=_t;if(b.YuMFS(b.eubGA,"NZiqw")){const E=_0x86b13c[OGxnVL[j(394)](_0x48494b,1)],O=_0x19f07a[_0x6004a1];O[j(475)]=_0x594d01(E[j(385)],E.offsetAngle,O[j(385)])}else{const E=(M.groups??[]).find(O=>O.id===S);if(!E)return;for(const O of w)E[j(503)].includes(O)||E[j(503)].push(O)}},!0),r({kind:N(367),groupId:S})},[i,r]),R=F.useCallback((S,w)=>{const N=D,M={xOefz:function(O,H,Y,A){return O(H,Y,A)},DpzrG:function(O,H,Y,A,q){return b[_t(417)](O,H,Y,A,q)},OpPoK:"uniform",SKzxz:function(O,H){return b[_t(395)](O,H)},twKMc:function(O,H){return O!==H},aEpGt:b[N(485)]},j=S[0],E=S.slice(1);b[N(411)](i,O=>{const H=N;if(M.OpPoK,!O.groups)return;const Y=O.groups.find(A=>A.id===j);if(Y){for(const A of E){const q=O.groups.find(I=>I.id===A);if(q)for(const I of q.flowerIds)Y.flowerIds[H(477)](I)||Y[H(503)][H(423)](I)}for(const A of w)if(M[H(382)](M.aEpGt,H(366)))Y.flowerIds.includes(A)||Y.flowerIds.push(A);else{const q=_0x43fa56.flowers.find(oe=>oe.id===_0x3dd4b4);if(!q)return;q[H(383)][H(386)](oe=>oe[H(507)]+=1),q[H(383)][H(361)](_0x88c783);const I=_0x2264d8.round(mXIobG[H(473)](_0x206569,_0x3db96d[H(355)],_0x46f1d8.scale,q[H(457)]??_0x5d9024.fabricSquareSize)),X=q[H(457)]??_0x19b7f8[H(457)],ae=q.placementMode===""?mXIobG[H(490)](_0x527fab,X,q[H(383)].length,mXIobG.owOdm,0):_0x453ca0(q[H(414)]??_0x108f2e[H(414)],X,{layerCount:q.layers[H(442)]}).diameter;q[H(429)]=_0x2ea272[H(466)](q[H(429)]||ae,I);const se=[...q[H(383)]].sort((oe,be)=>oe.order-be.order),fe=se[H(392)]();for(let oe=1;mXIobG.LlsyX(oe,fe[H(442)]);oe++){const be=fe[oe-1],we=fe[oe];we[H(475)]=_0x2d4e39(be[H(385)],be[H(475)],we.petalCount)}}O.groups=O[H(342)][H(376)](A=>!E[H(477)](A.id))}},!0),r({kind:b[N(499)],groupId:j}),b[N(412)](f,O=>({...O,[j]:!0}))},[i,r,f]),Z=(S,w)=>{const N=D,M=b[N(508)](m.w,m.h),j=520/d,E=b[N(379)](j,M),O=b[N(464)](-v.x,d),H=b[N(407)](-v.y,d),Y=O+E/2,A=H+b[N(381)](j,2),q=w===b[N(399)]?b[N(399)]:"side",I=Wd[S][q][N(467)]*un,X=b[N(433)](Se,Y,0,h),ae=b.WjTYn(Se,b.PQQCr(A,I/2),0,h),se={id:b[N(421)](Ht,b[N(375)]),variant:S,pose:w,position:{x:X,y:ae}};b[N(451)](i,fe=>{const oe=N;fe.stencils||(fe.stencils=[]),fe[oe(373)][oe(423)](se)},!0),b[N(438)](r,{kind:b.GNPRv,stencilId:se.id})},P=S=>{const w=D;b[w(494)](i,N=>{const M=w;b.bjNpo(b.lWKxj,M(397))?_0x3cfb07.flowerIds.includes(_0x2ba56c)||_0x1123e6.flowerIds.push(_0x490d7d):N.stencils=(N.stencils??[])[M(376)](j=>j.id!==S)},!0),a.kind===b.GNPRv&&b[w(492)](a[w(428)],S)&&r({kind:"project"})},ne=b.WSPXJ(F.useCallback,S=>{const w=D;if(b[w(483)](a.kind,"flowers")){const N=a.flowerIds;if(N.includes(S))if(b.bjNpo(b[w(462)],b.nDrQG)){const M=N.filter(j=>j!==S);M.length===0?r({kind:b[w(380)]}):b.NrQfw(M.length,1)?b[w(389)](r,{kind:w(370),flowerId:M[0]}):r({kind:b.BtBIJ,flowerIds:M})}else{if(_0x2126b1.flowerId===_0x331d7e)return;_0x5e10bf({kind:w(441),flowerIds:[_0x43880d[w(493)],_0x3d2824]})}else if(b.fcAYq(b[w(418)],"DKXHW")){for(const M of _0x3bfdd3.groups)M[w(503)]=M[w(503)].filter(j=>j!==_0x5e27c0);_0x29578a[w(342)]=_0x735548[w(342)].filter(M=>M.flowerIds[w(442)]>0)}else r({kind:b.BtBIJ,flowerIds:[...N,S]})}else if(b[w(371)](a.kind,w(370))){if(a[w(493)]===S)return;b[w(434)](r,{kind:w(441),flowerIds:[a.flowerId,S]})}else r({kind:"flowers",flowerIds:[S]})},[a,r]);return{deleteFlowerById:C,deleteLayerById:y,computeNewOuterRadius:z,addOuterLayer:B,deleteOuterLayer:G,deleteSelected:k,groupSelectedFlowers:T,ungroupFlowers:K,addToGroup:V,mergeGroups:R,addStencil:Z,deleteStencil:P,handleShiftFlowerSelect:ne,togglePetalSelection:(S,w,N,M)=>{const j=D;if(j(348)===b.QgDzx){if(_0x3ca02a.leaves=(_0x56e7b6.leaves??[])[j(376)](E=>!_0x2db7b6.includes(E.id)),_0x372525.leafGroups){for(const E of _0x5c2bcd[j(352)])E.leafIds=E.leafIds[j(376)](O=>!_0x5f150d[j(477)](O));_0x225593[j(352)]=_0x335942.leafGroups.filter(E=>E.leafIds.length>0)}}else{if(!M){r({kind:b[j(504)],flowerId:S,layerId:w,index:N});return}const E=w+":"+N;if(b[j(498)](a[j(453)],j(384))&&a.flowerId===S){const O=a[j(384)]||[];if(O.some(Y=>Y[j(450)]+":"+Y.index===E)){const Y=O.filter(A=>A.layerId+":"+A[j(432)]!==E);if(Y[j(442)]===0)b.WnxqN(b.ImJXD,b[j(495)])?b[j(389)](r,{kind:j(370),flowerId:S}):_0x382a5a[j(465)]=_0x167864[j(465)].filter(A=>!_0x19156c.includes(A));else if(Y.length===1)if(b.bjNpo("vKZcu",b[j(478)])){const A=_0x2f39ae[0];_0x21cef6[j(429)]=_0x100d64[j(410)](_0x276970(A.radius,A.scale??1,_0x5dd69a))}else r({kind:b.ryqlk,flowerId:S,layerId:Y[0].layerId,index:Y[0].index});else b[j(372)](r,{kind:b[j(401)],flowerId:S,petals:Y})}else r({kind:"petals",flowerId:S,petals:[...O,{layerId:w,index:N}]})}else if(a.kind==="petal"&&a[j(493)]===S){const O={layerId:a[j(450)],index:a[j(432)]},H={layerId:w,index:N};if(O.layerId+":"+O[j(432)]===E)return;b.FdtLy(r,{kind:b[j(401)],flowerId:S,petals:[O,H]})}else r({kind:"petals",flowerId:S,petals:[{layerId:w,index:N}]})}}}}(function(u,i){const a=Xt,r=u();for(;;)try{if(-parseInt(a(169))/1+parseInt(a(207))/2*(parseInt(a(193))/3)+parseInt(a(201))/4*(-parseInt(a(173))/5)+parseInt(a(185))/6*(-parseInt(a(206))/7)+parseInt(a(191))/8*(parseInt(a(171))/9)+-parseInt(a(197))/10+parseInt(a(190))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(H0,681826);function Xt(u,i){u=u-169;const a=H0();let r=a[u];if(Xt.OtIykt===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Xt.LMhuaU=o,Xt.QyZiPh={},Xt.OtIykt=!0}const f=a[0],d=u+f,v=Xt.QyZiPh[d];if(v)r=v;else{const m=function(h){this.QtvfnC=h,this.gQPwmg=[1,0,0],this.eoBqHe=function(){return"newState"},this.tTmVll="\\w+ *\\(\\) *{\\w+ *",this.SJaVqk=`['|"].+['|"];? *}`};m.prototype.RDnLqf=function(){const h=new RegExp(this.tTmVll+this.SJaVqk),g=h.test(this.eoBqHe.toString())?--this.gQPwmg[1]:--this.gQPwmg[0];return this.SIsPYr(g)},m.prototype.SIsPYr=function(h){return~h?this.HamejS(this.QtvfnC):h},m.prototype.HamejS=function(h){for(let g=0,p=this.gQPwmg.length;g<p;g++)this.gQPwmg.push(Math.round(Math.random())),p=this.gQPwmg.length;return h(this.gQPwmg[0])},new m(Xt).RDnLqf(),r=Xt.LMhuaU(r),Xt.QyZiPh[d]=r}return r}const tb=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),Nx=tb(void 0,function(){const u=Xt,i={YpFMZ:u(195)};return Nx[u(174)]()[u(200)](i[u(192)]).toString().constructor(Nx).search(i[u(192)])});Nx();function nb({project:u,applyUpdate:i,selection:a,setSelection:r,zoom:o,pan:f,stageSize:d,CANVAS_MAX_SVG:v}){const m=Xt,h={EzgtS:function(B,G){return B/G},GOPJR:function(B,G){return B<G},QxuLu:function(B,G,k,T){return B(G,k,T)},eWVzJ:function(B,G){return B(G)},JnGOF:m(187),KMkDt:"col_green",icfvD:"project",vBYQL:function(B,G){return B(G)},Iwgzd:function(B,G){return B+G},njiCF:function(B,G,k){return B(G,k)},iyaGA:m(194),PYoTd:function(B,G){return B===G},JcsNy:m(189),HHvIt:function(B,G){return B(G)},ePean:function(B,G){return B===G},sAEDr:"KhfDA",AhFsd:function(B,G){return B(G)},GgPdm:function(B,G){return B(G)},SKYXS:function(B,G,k){return B(G,k)},Ekqao:function(B,G,k){return B(G,k)}},g=()=>{const B=m,G=h.EzgtS(d.w,d.h),k=520/o,T=k*G,K=h.EzgtS(-f.x,o),V=h[B(178)](-f.y,o);let R=K+h.EzgtS(T,2),Z=V+k/2,P=0;for(;h[B(209)](P,50)&&(u[B(189)]??[]).some(W=>Math.abs(W.position.x-R)<5&&Math[B(198)](W.position.y-Z)<5);)R+=25,Z+=25,R=h.QxuLu(Se,R,0,v),Z=Se(Z,0,v),P++;const ne={id:h[B(205)](Ht,h.JnGOF),name:"Leaf "+((u.leaves??[]).length+1),position:{x:R,y:Z},rotation:135,petalType:"",colorId:u.palette?.find(W=>W.id===B(208)||W.id==="col_darkgreen")?.id??u[B(170)]?.[0]?.id??h[B(179)],scale:1,widthScale:1,visible:!0,locked:!1};i(W=>{W.leaves||(W.leaves=[]),W.leaves.push(ne)},!0),h.eWVzJ(r,{kind:B(187),leafId:ne.id})},p=B=>{const G=m;i(k=>{const T=Xt;if(k.leaves=(k[T(189)]??[]).filter(K=>K.id!==B),k[T(199)]){for(const K of k.leafGroups)K[T(203)]=K[T(203)][T(204)](V=>V!==B);k[T(199)]=k.leafGroups[T(204)](K=>K.leafIds[T(184)]>0)}},!0),h[G(205)](r,{kind:h.icfvD})},D=F.useCallback(B=>{const G=m;if(h[G(181)](a[G(183)],h.JcsNy)){const k=a.leafIds;if(k.includes(B)){const T=k[G(204)](K=>K!==B);T.length===0?r({kind:"project"}):h[G(181)](T.length,1)?h.HHvIt(r,{kind:"leaf",leafId:T[0]}):r({kind:h.JcsNy,leafIds:T})}else r({kind:h.JcsNy,leafIds:[...k,B]})}else if(a.kind===h.JnGOF){if(h[G(172)](a[G(188)],B))return;r({kind:"leaves",leafIds:[a[G(188)],B]})}else if(h[G(180)]===h[G(180)])h.AhFsd(r,{kind:h[G(177)],leafIds:[B]});else{const k=h.vBYQL(_0xe0f554,"lg"),T=G(182)+h.Iwgzd((_0x15773d.leafGroups??[])[G(184)],1);h.njiCF(_0x166696,K=>{const V=G;K.leafGroups||(K[V(199)]=[]),K[V(199)].push({id:k,name:T,leafIds:[..._0x4f95f0],rotation:0})},!0),_0x52b12b({kind:h.iyaGA,leafGroupId:k})}},[a,r]),b=F.useCallback(B=>{const G=m,k=h.GgPdm(Ht,"lg"),T=G(182)+h[G(186)]((u[G(199)]??[]).length,1);i(K=>{const V=G;K[V(199)]||(K.leafGroups=[]),K[V(199)].push({id:k,name:T,leafIds:[...B],rotation:0})},!0),r({kind:h.iyaGA,leafGroupId:k})},[u[m(199)],i,r]),z=h[m(176)](F.useCallback,B=>{const G=m;i(k=>{const T=Xt;k[T(199)]&&(k.leafGroups=k[T(199)][T(204)](K=>K.id!==B))},!0),r({kind:G(202)})},[i,r]),C=F.useCallback((B,G)=>{h.SKYXS(i,k=>{const T=Xt,K=(k[T(199)]??[]).find(V=>V.id===G);K&&!K.leafIds[T(196)](B)&&K[T(203)][T(175)](B)},!0)},[i]),y=h.Ekqao(F.useCallback,B=>{i(G=>{const k=Xt;if(G.leafGroups){for(const T of G.leafGroups)T.leafIds=T[k(203)].filter(K=>K!==B);G[k(199)]=G.leafGroups[k(204)](T=>T[k(203)][k(184)]>0)}},!0)},[i]);return{addLeaf:g,deleteLeafById:p,handleShiftLeafSelect:D,groupSelectedLeaves:b,ungroupLeaves:z,addLeafToGroup:C,removeLeafFromGroup:y}}function H0(){const u=["sMnZtNK","rxPNDfm","s01Rrhq","C0ffrhi","ufLVvgq","6jgj44kW44oR44o844oxia","A2LUza","BgvUz3rO","mZbMyKfntfO","sxDNEMq","BgvHzG","BgvHzKLK","BgvHDMvZ","mZm3mJq1mZDvzfH3vLu","mte3mdrxCMX5EwS","wxbgtvO","ody3reznsxPj","BgvHzKDYB3vW","kcGOlISPkYKRksSK","Aw5JBhvKzxm","nZG4mdq2mfnXwwLVBa","ywjZ","BgvHzKDYB3vWCW","C2vHCMnO","nfj1B3vIDG","ChjVAMvJDa","BgvHzKLKCW","zMLSDgvY","zvDwEKO","mtu5nJCYmvvdELvWyq","ndaWnMTLtMrZDq","y29Sx2DYzwvU","r09qsLi","nti3mZi1Eg5jr0zh","CgfSzxr0zq","mJe1muXKC3Plta","zvbLyw4","ndi4mZm5nu9cB2Dbwa","Dg9tDhjPBMC","ChvZAa","u0Tzwfm"];return H0=function(){return u},H0()}(function(u,i){const a=Hn,r=u();for(;;)try{if(-parseInt(a(308))/1+parseInt(a(302))/2+-parseInt(a(347))/3+-parseInt(a(326))/4*(parseInt(a(372))/5)+parseInt(a(346))/6*(parseInt(a(310))/7)+parseInt(a(378))/8*(-parseInt(a(367))/9)+-parseInt(a(306))/10*(-parseInt(a(303))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Y0,120927);const lb=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),Ax=lb(void 0,function(){const u=Hn,i={DoRNS:u(361)};return Ax[u(375)]()[u(362)](i[u(348)])[u(375)]()[u(370)](Ax)[u(362)](i.DoRNS)});Ax();function Hn(u,i){u=u-300;const a=Y0();let r=a[u];if(Hn.armuXp===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Hn.XvYKdy=o,Hn.aJRtBP={},Hn.armuXp=!0}const f=a[0],d=u+f,v=Hn.aJRtBP[d];if(v)r=v;else{const m=function(h){this.CVsfsL=h,this.YAyOJo=[1,0,0],this.AHmhJk=function(){return"newState"},this.QvKyqS="\\w+ *\\(\\) *{\\w+ *",this.iEGzuv=`['|"].+['|"];? *}`};m.prototype.wsOehy=function(){const h=new RegExp(this.QvKyqS+this.iEGzuv),g=h.test(this.AHmhJk.toString())?--this.YAyOJo[1]:--this.YAyOJo[0];return this.hmdviX(g)},m.prototype.hmdviX=function(h){return~h?this.OzTYjD(this.CVsfsL):h},m.prototype.OzTYjD=function(h){for(let g=0,p=this.YAyOJo.length;g<p;g++)this.YAyOJo.push(Math.round(Math.random())),p=this.YAyOJo.length;return h(this.YAyOJo[0])},new m(Hn).wsOehy(),r=Hn.XvYKdy(r),Hn.aJRtBP[d]=r}return r}function ab({project:u,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:o,pan:f,stageSize:d,CANVAS_MAX_SVG:v}){const m=Hn,h={EJrYm:function(y,B){return y(B)},MVqhw:function(y,B){return y/B},lQAKi:function(y,B){return y*B},DVtHd:function(y,B){return y*B},WcqXh:"Center",GzWxq:m(345),TGqtP:function(y,B){return y!==B},sVpfA:"TPgfW",hjFTD:function(y,B){return y===B},dbZox:function(y,B){return y/B},Wtxaa:function(y,B){return y===B},crGej:function(y,B){return y===B},FnSOJ:"EgCvs",WwCEx:function(y,B){return y/B},zjues:function(y,B){return y===B},FNJRn:m(373),RKtwd:function(y,B){return y*B},GWOuM:function(y,B){return y-B},JsMse:function(y,B){return y/B},KSvBQ:function(y,B){return y/B},FXlSE:function(y,B){return y/B},iHIwI:function(y,B){return y===B},BIuTO:function(y,B,G,k){return y(B,G,k)},itriF:function(y,B){return y===B},QKYHa:function(y,B){return y<=B},sivJY:function(y,B){return y+B},ZmXsb:"iIajG",jjltK:function(y,B){return y-B},iRyhp:"BQqvY",hWfNa:function(y,B){return y/B},dfNxD:function(y,B){return y/B},Nsjjt:function(y,B){return y/B},SDqUe:function(y,B){return y+B},JWHDB:function(y,B,G,k){return y(B,G,k)},uxwnD:function(y,B,G,k){return y(B,G,k)},bXmiF:m(325),SoJSW:function(y,B){return y+B},YcmnR:"col_white",PrNQU:m(341),WzlId:"",wjTWF:m(358)},[g,p]=F.useState(!1),[D,b]=F.useState({placementMode:"",fabricSquareSize:20,baseDiameter:u.baseDiameter,layerCount:1,petalCount:6,petalType:h[m(352)],sizeMode:h[m(335)],sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:g,setShowAddFlowerDialog:p,addFlowerOpts:D,setAddFlowerOpts:b,addFlower:()=>{const y=m,B={OmdCj:y(373)},G=u[y(371)],k=u.baseDiameter;b(T=>{const K=y,V={...T,fabricSquareSize:G,baseDiameter:k};return V[K(351)]===B.OmdCj?V.flowerDiameter=Yl(k,G,{layerCount:V[K(340)],sizeMode:V.sizeMode,sizeStepMm:V[K(355)]}).diameter:V[K(318)]=$i(G,V.layerCount,V.sizeMode,V[K(355)]),V}),h[y(337)](p,!0)},confirmAddFlower:()=>{const y=m,{placementMode:B,layerCount:G,petalCount:k,petalType:T,sizeMode:K,sizeStepMm:V}=D,R=D.fabricSquareSize,{length:Z}=jt(R),P=.28,ne=Math.round(h.lQAKi(h[y(353)](Z,P),10))/10,W=[],S=[h[y(304)],y(356),h.GzWxq,y(300),"Outer+"];let w=ne,N=0;for(let oe=0;oe<G;oe++)if(h[y(324)]("pyarY",h[y(323)])){const be=oe,we=1;let he;if(h.hjFTD(K,y(358)))he=we;else{const Fe=h[y(336)](V,R);he=Se(we+be*Fe,.3,3)}let Qe;if(h.Wtxaa(oe,0))h[y(332)](y(301),h.FnSOJ)?_0xbe78a[y(318)]=RumUyT.xANpt(_0x9f628a,_0x59f71d,_0x43cebd,{layerCount:_0x583c01[y(340)],sizeMode:_0x1da2fe[y(307)],sizeStepMm:_0x1100b8.sizeStepMm})[y(364)]:Qe=ne;else{const Fe=K===y(376)?Se(1+h[y(329)]((oe-1)*V,R),.3,3):1,Mt=h[y(363)](Z,Fe);let Lt;if(h.zjues(B,h.FNJRn)){const zt=70*Math.PI/180,tt=G>1?h[y(359)](oe/h[y(305)](G,1),zt):0,Et=Math.cos(tt);Lt=h[y(359)](Mt*h[y(330)](30,100),Et)}else Lt=h.KSvBQ(Mt,3);w=w+Lt,Qe=h.FXlSE(Math[y(360)](h[y(359)](w,10)),10)}const et=h.iHIwI(oe,0)?0:h.BIuTO(Vn,k,N,k);N=et;let ut;if(h.itriF(G,1))ut="Layer";else if(h[y(328)](G,5)){const Fe=G===2?[0,3]:G===3?[0,1,3]:h[y(334)](G,4)?[0,1,2,3]:[0,1,2,3,4];ut=S[Fe[oe]]??y(331)+h[y(314)](oe,1)}else h.TGqtP(y(343),h[y(312)])?_0x31651a=h[y(319)](_0x95c409,3):ut="Layer "+(oe+1);W[y(377)]({id:h[y(337)](Ht,"lay"),name:ut,order:h.jjltK(G,oe),petalType:T,petalCount:k,radius:Qe,scale:he,widthScale:ei(k),offsetAngle:et,colorId:D[y(317)]||(u[y(321)]?.[0]?.id??y(320)),visible:!0,locked:!1})}else{const be=_0x1e944d.find(we=>we.id===_0x3e1961.id);be&&(be[y(309)]=_0x4a700f.radius,be.scale=_0x885477[y(350)])}W[y(327)]();const M=[...W][y(339)]((oe,be)=>oe.order-be[y(365)]),j=B===""?h[y(357)](Yl,D.baseDiameter,R,{layerCount:G,sizeMode:K,sizeStepMm:V})[y(364)]:$i(R,G,K,V);K0(M,R,D.flowerDiameter||j);for(const oe of M){const be=W[y(322)](we=>we.id===oe.id);be&&(h[y(354)]!==y(311)?_0x4a8338.flowers[y(377)](_0x161f55):(be[y(309)]=oe.radius,be.scale=oe[y(350)]))}const E=h.hWfNa(d.w,d.h),O=h.dfNxD(520,o),H=O*E,Y=-f.x/o,A=h[y(366)](-f.y,o);let q=h.SDqUe(Y,H/2),I=A+O/2;const X=25;let ae=0;for(;ae<50&&u[y(368)][y(316)](oe=>Math[y(333)](oe[y(369)].x-q)<5&&Math[y(333)](oe[y(369)].y-I)<5);)q+=X,I+=X,q=h[y(349)](Se,q,0,v),I=h.uxwnD(Se,I,0,v),ae++;const se=D.flowerDiameter||j,fe={id:Ht(h[y(315)]),name:y(344)+h[y(374)](u.flowers.length,1),position:{x:q,y:I},flowerDiameter:se,rotation:0,layers:W,center:{type:y(338),size:6,color:h[y(313)]},fabricSquareSize:R,placementMode:B,baseDiameter:B===y(373)?D[y(342)]:Qi(se)};i(oe=>{const be=y;oe[be(368)][be(377)](fe)},!0),h[y(337)](a,{kind:h.PrNQU,flowerId:fe.id}),r(oe=>({...oe,[fe.id]:!0})),h[y(337)](p,!1)}}}function Y0(){const u=["ruPYww0","44or44o844oR","C29YDa","Bgf5zxjdB3vUDa","zMXVD2vY","yMfZzurPyw1LDgvY","AuLHAKC","rMXVD2vYia","twLKzgXL","mJi1ndyYAfzhs1Ds","nJyXndq2BvjXr1H5","rg9stLm","sLDirei","C2nHBgu","CgXHy2vTzw50tw9Kzq","v3PSswq","rfz0sgq","Avj5Aha","C2L6zvn0zxbnBq","sw5Uzxi","qKL1ve8","Dw5PzM9YBq","uKT0D2q","CM91BMq","kcGOlISPkYKRksSK","C2vHCMnO","Bffbs2K","zgLHBwv0zxi","B3jKzxi","tNnQANq","ovjbBhDoqW","zMXVD2vYCW","Cg9ZAxrPB24","y29UC3rYDwn0B3i","zMfICMLJu3f1yxjLu2L6zq","nduWmZeWy1rIqK95","5y2k44gp44gz","u29ku1C","Dg9tDhjPBMC","z3jHzhvHBa","ChvZAa","mJqYmtuYs0Ptu3vl","t3v0zxi","uhLfCxO","mJC0mJmYEujluKDp","ntKYotiYrLr1CLnV","v2nXwgG","r1DpDu0","ntbtwujovuq","C2L6zu1Vzgu","ntC2mtDjwNPIs0u","CMfKAxvZ","mJfQzgPctgm","qLfXDLK","wM1yC2i","wwnTBLi","C2L2sLK","yLHTAuy","C29Tzq","y29SB3jjza","zMXVD2vYrgLHBwv0zxi","tvzXAhC","y29Sx3DOAxrL","CgfSzxr0zq","zMLUza","C1zWzKe","veDXDfa","zMX3","ng54uxjnwG","CMv2zxjZzq","uuTzsge","v3DdrxG","sNnnC2u","tgf5zxiG","y3jhzwO","ywjZ","EMP1zxm","D2Puv0y","zgjAB3G"];return Y0=function(){return u},Y0()}(function(u,i){const a=Tn,r=u();for(;;)try{if(parseInt(a(256))/1*(-parseInt(a(264))/2)+-parseInt(a(233))/3+parseInt(a(235))/4+-parseInt(a(251))/5*(-parseInt(a(255))/6)+-parseInt(a(252))/7+parseInt(a(228))/8+parseInt(a(258))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(I0,284589);const ib=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Tn;if(a){const f=a[o(242)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Lx=ib(void 0,function(){const u=Tn,i={BnQNE:u(253)};return Lx[u(223)]().search(i[u(247)]).toString()[u(224)](Lx).search(i[u(247)])});Lx();function I0(){const u=["BgvHDMvZ","nLPmB2jqzG","Cgv0ywXZ","BgvHzKDYB3vWCW","tufKyLG","uLHnCwy","zMXVD2vYswrZ","Bgf5zxjZ","z3jVDxbjza","zMXVD2vY","Dg9tDhjPBMC","y29UC3rYDwn0B3i","Bgf5zxjjza","zMLUza","Aw5JBhvKzxm","odqXmtuYC0LvuMjW","tgjTrxq","BgvHzKDYB3vWswq","rg1cs3u","BgvHzKLK","mtaYotu4mM9zq0Teva","q0zwBwq","mtmXnZKYohLnCuvUBq","zMXVD2vYCW","BgvHzG","DK9LzhK","r0jdvxe","zgrbwwq","zwzYtw8","yxbWBhK","Bgf5zxi","EvjiChq","A2LUza","C3rLBMnPBhm","qM5rtKu","zMXVD2vYswq","De55wLG","BgvHzKDYB3vW","mZy1sKjXvMPd","mJuYmdK2nLnOAhHZAG","kcGOlISPkYKRksSK","zMLSDgvY","mJCYmtbkCKPnwfC","mti5ndKXy2n6yMDt","z3jVDxbZ","ntq5nJqXn3HwBhPmyq","yuDVzvC","Cgv0ywW","BgvHzKLKCW","wePxBfa"];return I0=function(){return u},I0()}function Tn(u,i){u=u-222;const a=I0();let r=a[u];if(Tn.nuPFCx===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",D=g+o;for(let b=0,z,C,y=0;C=m.charAt(y++);~C&&(z=b%4?z*64+C:C,b++%4)?g+=D.charCodeAt(y+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)C=h.indexOf(C);for(let b=0,z=g.length;b<z;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Tn.ExbCNj=o,Tn.yvirYS={},Tn.nuPFCx=!0}const f=a[0],d=u+f,v=Tn.yvirYS[d];if(v)r=v;else{const m=function(h){this.IAzxOD=h,this.zSuswk=[1,0,0],this.xzcqMc=function(){return"newState"},this.chAGgj="\\w+ *\\(\\) *{\\w+ *",this.aiqDax=`['|"].+['|"];? *}`};m.prototype.GjSqux=function(){const h=new RegExp(this.chAGgj+this.aiqDax),g=h.test(this.xzcqMc.toString())?--this.zSuswk[1]:--this.zSuswk[0];return this.xHeYPB(g)},m.prototype.xHeYPB=function(h){return~h?this.WRJmQP(this.IAzxOD):h},m.prototype.WRJmQP=function(h){for(let g=0,p=this.zSuswk.length;g<p;g++)this.zSuswk.push(Math.round(Math.random())),p=this.zSuswk.length;return h(this.zSuswk[0])},new m(Tn).GjSqux(),r=Tn.ExbCNj(r),Tn.yvirYS[d]=r}return r}function rb(u,i){const a=Tn,r={FcGcn:function(C,y){return C===y},MhyGd:"flowers",MqLoY:function(C,y){return C!==y},CFVmd:"ddAYd",XJWlP:"group",yRHpt:"dcyGi",MAdbX:function(C,y){return C===y},bbpMq:a(268),RxYES:function(C,y){return C===y},GBCUq:a(260),pkuoW:"Rcsfy",soufi:function(C,y){return C===y},vbLEk:function(C,y){return C===y},bBCEp:function(C,y){return C===y},aGoeW:a(243),DmBKu:function(C,y){return C===y},mhUYV:function(C,y){return C===y},XOciB:"flower",NxNTv:function(C,y){return C===y},tNyZX:function(C,y,B){return C(y,B)},vOedy:function(C,y,B){return C(y,B)},OFCQl:function(C,y,B){return C(y,B)},oXbZd:function(C,y,B){return C(y,B)},hzDOr:function(C,y){return C===y},efrMo:a(265)},o=r[a(249)](F.useMemo,()=>{const C=a;return i.kind===C(222)||i[C(245)]==="layer"||r.FcGcn(i[C(245)],"petal")||i[C(245)]===C(265)?u[C(236)][C(226)](y=>y.id===i[C(248)])??null:null},[u[a(236)],i]),f=r[a(238)](F.useMemo,()=>{const C=a;if(i[C(245)]===r.MhyGd)return r.MqLoY(C(240),r[C(234)])?(_0x1382b0[C(266)]??[])[C(226)](y=>y.id===_0x17ab2f.leafGroupId)??null:u.flowers[C(254)](y=>i[C(269)].includes(y.id));if(i.kind===r.XJWlP){const y=(u[C(257)]??[])[C(226)](B=>B.id===i[C(271)]);if(y)return u.flowers.filter(B=>y.flowerIds[C(227)](B.id))}return[]},[u[a(236)],u[a(257)],i]),d=r.OFCQl(F.useMemo,()=>{const C=a;return i[C(245)]===C(237)?(u.leaves??[]).find(y=>y.id===i[C(232)])??null:null},[u[a(263)],i]),v=F.useMemo(()=>{const C=a;if(r.MqLoY(C(229),r[C(244)]))return i[C(245)]==="leafGroup"?(u.leafGroups??[]).find(y=>y.id===i[C(230)])??null:null;{const y=(_0x34713f[C(257)]??[]).find(B=>B.id===_0x3a9ef6.groupId);if(y)return _0x3d7388[C(236)][C(254)](B=>y.flowerIds.includes(B.id))}},[u.leafGroups,i]),m=r.oXbZd(F.useMemo,()=>{const C=a;return r[C(267)](r.bbpMq,r.bbpMq)?o&&(r.RxYES(i.kind,C(243))||r[C(267)](i.kind,r.GBCUq))?o[C(270)][C(226)](y=>y.id===i[C(225)])??null:null:new _0x4aa947(_0x266708.flowerIds)},[o,i]),h=r[a(231)](i.kind,"petal")?i.index:null,g=r.hzDOr(i[a(245)],a(265))?i[a(265)]:[],p=i.kind==="stencil"?(u[a(246)]??[]).find(C=>C.id===i.stencilId)??null:null,D=r.NxNTv(i[a(245)],"flower")||r.soufi(i[a(245)],r[a(259)])||i.kind===r[a(239)]||i[a(245)]===r[a(241)]?i.flowerId:null,b=F.useMemo(()=>{const C=a;if(r.pkuoW!=="Rcsfy")return r[C(267)](_0x5041a2[C(245)],"leafGroup")?(_0x3d6100.leafGroups??[]).find(y=>y.id===_0x106cf1.leafGroupId)??null:null;if(r.soufi(i.kind,r[C(262)])){const y=(u.groups??[]).find(B=>B.id===i.groupId);if(y)return new Set(y[C(269)])}if(i.kind===r.MhyGd)return new Set(i[C(269)]);if(r.vbLEk(i.kind,C(222))||r.bBCEp(i[C(245)],r[C(259)])||i[C(245)]===r[C(239)]||r[C(231)](i.kind,"petals")){const y=ca(u,i.flowerId);if(y)return r.mhUYV(i[C(245)],r.XOciB)?new Set(y.flowerIds.filter(B=>B!==i[C(248)])):new Set(y[C(269)])}return new Set},[i,u]),z=r.oXbZd(F.useMemo,()=>{const C=a;if(r.NxNTv(i[C(245)],C(250))){const y=(u.leafGroups??[])[C(226)](B=>B.id===i[C(230)]);if(y)return new Set(y[C(261)])}if(i.kind===C(237)){const y=U0(u,i[C(232)]);if(y)return new Set(y[C(261)].filter(B=>B!==i.leafId))}return new Set},[i,u]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:d,selectedLeafGroup:v,selectedLayer:m,selectedPetalIndex:h,selectedPetals:g,selectedStencil:p,selectedFlowerId:D,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:z}}function ub(u){const{project:i,selection:a,setSelection:r,applyUpdate:o}=u,f=F.useMemo(()=>new Map((i.palette||[]).map(de=>[de.id,de])),[i.palette]),{widths:d,containerRef:v,onDividerPointerDown:m,onDividerDoubleClick:h,isDragging:g,isDesktop:p}=Fm(),D=F.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[b,z]=F.useState({});F.useEffect(()=>{try{const ve=localStorage.getItem(D);if(ve){const Oe=JSON.parse(ve);if(Oe&&typeof Oe=="object"){z(Oe);return}}}catch{}const de=i.flowers?.[0];de&&z({[de.id]:!0})},[D]),F.useEffect(()=>{try{localStorage.setItem(D,JSON.stringify(b))}catch{}},[D,b]),F.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const de=a.flowerId;z(ve=>ve?.[de]?ve:{...ve,[de]:!0})}a.kind==="flowers"&&z(de=>{const ve={...de};for(const Oe of a.flowerIds)ve[Oe]=!0;return ve})},[a]);const C=de=>b?.[de]??!1,y=de=>z(ve=>({...ve,[de]:!(ve?.[de]??!1)})),B=F.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[G,k]=F.useState({});F.useEffect(()=>{try{const ve=localStorage.getItem(B);if(ve){const Oe=JSON.parse(ve);if(Oe&&typeof Oe=="object"){k(Oe);return}}}catch{}const de=i.groups??[];if(de.length>0){const ve={};for(const Oe of de)ve[Oe.id]=!0;k(ve)}},[B]),F.useEffect(()=>{try{localStorage.setItem(B,JSON.stringify(G))}catch{}},[B,G]);const T=de=>G?.[de]??!0,K=de=>k(ve=>({...ve,[de]:!(ve?.[de]??!0)})),V=F.useRef({flowerId:null,timer:null}),R=de=>{const ve=V.current.timer;ve&&window.clearTimeout(ve),V.current.flowerId=de,V.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:de}),z(Oe=>({...Oe,[de]:!0})),V.current.timer=null,V.current.flowerId=null},200)},Z=de=>{const ve=V.current.timer;ve&&V.current.flowerId===de&&window.clearTimeout(ve),V.current.timer=null,V.current.flowerId=null,r({kind:"flower",flowerId:de}),y(de)},P=F.useRef(null),[ne,W]=F.useState({w:520,h:520});F.useEffect(()=>{const de=P.current;if(!de)return;const ve=new ResizeObserver(Oe=>{for(const Vt of Oe){const{width:mt,height:cn}=Vt.contentRect;mt>0&&cn>0&&W({w:mt,h:cn})}});return ve.observe(de),()=>ve.disconnect()},[]);const S=de=>{const ve=P.current;if(!ve)return{x:0,y:0};const Oe=ve.createSVGPoint();Oe.x=de.clientX,Oe.y=de.clientY;const Vt=ve.getScreenCTM();if(!Vt)return{x:0,y:0};const mt=Oe.matrixTransform(Vt.inverse());return{x:mt.x,y:mt.y}},w=500*un,N=-300*un,M=800*un,j=F.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[E,O]=F.useState(6),[H,Y]=F.useState(j[6]),A=F.useCallback(de=>{O(ve=>{const Oe=typeof de=="function"?de(ve):de;return Y(j[Oe]),Oe})},[j]),q=F.useCallback(de=>{const ve=Se(de,j[0],j[j.length-1]);Y(ve);let Oe=0,Vt=Math.abs(j[0]-ve);for(let mt=1;mt<j.length;mt++){const cn=Math.abs(j[mt]-ve);cn<Vt&&(Oe=mt,Vt=cn)}O(Oe)},[j]),[I,X]=F.useState({x:0,y:0}),[ae,se]=F.useState(!0),[fe,oe]=F.useState(!1),be=F.useRef(null),we=F.useMemo(()=>{const de=ne.w/ne.h,ve=520,Oe=ve*de;return(Vt,mt=H)=>{const cn=Se(Vt.x,-(M*mt-Oe),-N*mt),ai=Se(Vt.y,-(M*mt-ve),-N*mt);return{x:cn,y:ai}}},[ne,H,N,M]),he=F.useMemo(()=>we(I),[I,we]),Qe=F.useCallback(de=>X(de),[]),et=F.useMemo(()=>{const de=ne.w/ne.h,ve=520,Oe=ve*de,Vt=-he.x/H,mt=-he.y/H;return`${Vt} ${mt} ${Oe/H} ${ve/H}`},[H,he,ne]),{addLeaf:ut,deleteLeafById:Fe,handleShiftLeafSelect:Mt,groupSelectedLeaves:Lt,ungroupLeaves:Ut,addLeafToGroup:zt,removeLeafFromGroup:tt}=nb({project:i,applyUpdate:o,selection:a,setSelection:r,zoom:H,pan:he,stageSize:ne,CANVAS_MAX_SVG:w}),{showAddFlowerDialog:Et,setShowAddFlowerDialog:Il,addFlowerOpts:sa,setAddFlowerOpts:dt,addFlower:oa,confirmAddFlower:Bn}=ab({project:i,applyUpdate:o,setSelection:r,setExpandedFlowers:z,zoom:H,pan:he,stageSize:ne,CANVAS_MAX_SVG:w}),{selectedFlower:fa,selectedFlowers:In,selectedLeaf:ti,selectedLeafGroup:da,selectedLayer:at,selectedPetalIndex:xe,selectedPetals:je,selectedStencil:Me,selectedFlowerId:Ce,groupHighlightedFlowerIds:ye,leafGroupHighlightedLeafIds:Tt}=rb(i,a),{deleteFlowerById:ke,deleteLayerById:ze,addOuterLayer:ht,deleteOuterLayer:$e,deleteSelected:it,groupSelectedFlowers:Ge,ungroupFlowers:Ke,addToGroup:qn,mergeGroups:Bt,addStencil:vn,deleteStencil:Dt,handleShiftFlowerSelect:ct,togglePetalSelection:Jt}=eb({project:i,applyUpdate:o,selection:a,setSelection:r,setExpandedFlowers:z,setExpandedGroups:k,zoom:H,pan:he,stageSize:ne,CANVAS_MAX_SVG:w,deleteLeafById:Fe,ungroupLeaves:Ut}),Ue=am({project:i,selection:a,setSelection:r,applyUpdate:o,dragRef:u.dragRef,zoom:H,pan:he,setPan:Qe,stageRef:P,clientToSvgPoint:S,togglePetalSelection:Jt}),[ni,ar]=F.useState(0),yn=a.kind,li=yn==="flower"?a.flowerId:null,ir=yn==="flowers"?a.flowerIds?.join(","):null,rr=yn==="layer"||yn==="petal"?a.layerId:null,Un=yn==="petal"?a.index:null,St=yn==="petals"?a.petals?.length:null;F.useEffect(()=>{yn!=="project"&&ar(Date.now())},[yn,li,ir,rr,Un,St]),F.useEffect(()=>{if(!be.current)return;const de=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!de)return;const ve=be.current.querySelector(`[data-flower-id="${de}"]`);ve&&ve.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Yt=F.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[ni]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:v,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:p?{width:`${d.left}%`}:void 0,children:x.jsx(rm,{project:i,selection:a,setSelection:r,expandedFlowers:b,setExpandedFlowers:z,isExpanded:C,toggleExpanded:y,scheduleFlowerRowClick:R,handleFlowerRowDoubleClick:Z,addFlower:oa,deleteSelected:it,addOuterLayer:ht,deleteOuterLayer:$e,deleteFlowerById:ke,deleteLayerById:ze,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:be,groups:i.groups??[],expandedGroups:G,isGroupExpanded:T,toggleGroupExpanded:K,onSelectGroup:de=>r({kind:"group",groupId:de}),onUngroupFlowers:Ke,leaves:i.leaves??[],leafGroups:i.leafGroups??[],onSelectLeaf:de=>r({kind:"leaf",leafId:de}),onSelectLeafGroup:de=>r({kind:"leafGroup",leafGroupId:de}),onAddLeaf:ut,onDeleteLeaf:Fe})}),x.jsx(Yd,{side:"left",onPointerDown:m,onDoubleClick:h,isDragging:g}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Lm,{project:i,selection:a,setSelection:r,applyUpdate:o,paletteMap:f,selectedFlowerId:Ce,zoom:H,setZoom:q,zoomLevel:E,setZoomLevel:A,ZOOM_LEVELS:j,pan:he,panRaw:I,setPan:Qe,showGrid:ae,setShowGrid:se,showHelp:fe,setShowHelp:oe,stageRef:P,viewBox:et,dashSyncToken:ni,dashDelay:Yt,beginPan:Ue.beginPan,updatePan:Ue.updatePan,endPan:Ue.endPan,beginMarquee:Ue.beginMarquee,updateMarquee:Ue.updateMarquee,endMarquee:Ue.endMarquee,marqueeRef:Ue.marqueeRef,marqueeRect:Ue.marqueeRect,beginFlowerDrag:Ue.beginFlowerDrag,updateFlowerDrag:Ue.updateFlowerDrag,endFlowerDrag:Ue.endFlowerDrag,scaleDragRef:Ue.scaleDragRef,beginScaleDrag:Ue.beginScaleDrag,updateScaleDrag:Ue.updateScaleDrag,endScaleDrag:Ue.endScaleDrag,rotationDragRef:Ue.rotationDragRef,beginRotationDrag:Ue.beginRotationDrag,updateRotationDrag:Ue.updateRotationDrag,endRotationDrag:Ue.endRotationDrag,widthScaleDragRef:Ue.widthScaleDragRef,beginWidthScaleDrag:Ue.beginWidthScaleDrag,updateWidthScaleDrag:Ue.updateWidthScaleDrag,endWidthScaleDrag:Ue.endWidthScaleDrag,radiusDragRef:Ue.radiusDragRef,beginRadiusDrag:Ue.beginRadiusDrag,updateRadiusDrag:Ue.updateRadiusDrag,endRadiusDrag:Ue.endRadiusDrag,togglePetalSelection:Jt,clientToSvgPoint:S,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:vn,onDeleteStencil:Dt,onSelectStencil:de=>r({kind:"stencil",stencilId:de}),handleShiftFlowerSelect:ct,groupHighlightedFlowerIds:ye,leaves:i.leaves??[],leafGroups:i.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Tt,onSelectLeaf:de=>r({kind:"leaf",leafId:de}),onShiftSelectLeaf:Mt})}),x.jsx(Yd,{side:"right",onPointerDown:m,onDoubleClick:h,isDragging:g}),x.jsx("div",{className:"min-w-0 shrink-0",style:p?{width:`${d.right}%`}:void 0,children:x.jsx(Xm,{project:i,selection:a,applyUpdate:o,selectedFlower:fa,selectedFlowers:In,selectedLayer:at,selectedPetalIndex:xe,selectedPetals:je,selectedStencil:Me,onDeleteStencil:Dt,groups:i.groups??[],onGroupFlowers:Ge,onUngroupFlowers:Ke,onAddToGroup:qn,onMergeGroups:Bt,selectedLeaf:ti,selectedLeafGroup:da,leafGroups:i.leafGroups??[],onDeleteLeaf:Fe,onGroupLeaves:Lt,onUngroupLeaves:Ut,onAddLeafToGroup:zt,onRemoveLeafFromGroup:tt})})]}),Et&&x.jsx(Wm,{palette:i.palette,addFlowerOpts:sa,setAddFlowerOpts:dt,onConfirm:Bn,onCancel:()=>Il(!1)}),fe&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:de=>de.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([de,ve])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:de}),x.jsx("td",{className:"py-2 text-neutral-700",children:ve})]},de))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function cb({cg:u}){const[i,a]=F.useState("w"),[r,o]=F.useState(""),f=u.totalAreaCm2,d=parseFloat(r),m=r!==""&&Number.isFinite(d)&&d>0?Math.round(f/d*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(h=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[h.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[h.count," "]})]},h.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:h=>o(h.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:h=>o(h.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function xb(u){const{recipe:i}=u;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[i.colors.map(a=>x.jsx(cb,{cg:a},a.colorId)),i.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function sb(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function ob(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function fb(u){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function db(){const[u,i]=F.useState("home"),[a,r]=F.useState([]),[o,f]=F.useState(null),[d,v]=F.useState({kind:"project"}),[m,h]=F.useState([]),[g,p]=F.useState(0),D=F.useRef(o),b=F.useRef(m),z=F.useRef(g);F.useEffect(()=>{D.current=o},[o]),F.useEffect(()=>{b.current=m},[m]),F.useEffect(()=>{z.current=g},[g]);const C=F.useRef(null),y=F.useRef(null),B=F.useRef(null),G=F.useRef(null),[k,T]=F.useState(null);F.useEffect(()=>{const Y=k?window.setTimeout(()=>T(null),2200):null;return()=>{Y&&window.clearTimeout(Y)}},[k]),F.useEffect(()=>{r(Fi())},[]);function K(Y){const A=JSON.stringify(Y);h([A]),p(0)}function V(Y,A=!0){if(!A){f(we=>{if(!we)return we;const he=Gl(we);return Y(he),he.updatedAt=S0(),he});return}const q=D.current;if(!q)return;const I=Gl(q);Y(I),I.updatedAt=S0(),f(I);const X=b.current,ae=z.current;if(X.length===0){K(I);return}const se=JSON.stringify(I);let oe=[...X.slice(0,ae+1),se];const be=50;oe.length>be&&(oe=oe.slice(oe.length-be)),h(oe),p(oe.length-1)}function R(){p(Y=>{if(Y<=0)return Y;const A=Y-1,q=b.current[A];return q&&f(ua(JSON.parse(q))),T("Undo"),A})}function Z(){p(Y=>{if(Y>=b.current.length-1)return Y;const A=Y+1,q=b.current[A];return q&&f(ua(JSON.parse(q))),T("Redo"),A})}function P(){if(!o)return;const Y=Yh(o);r(Fi()),T(Y?"Saved":" ")}function ne(){if(!o)return;const Y=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),A=URL.createObjectURL(Y),q=document.createElement("a");q.href=A,q.download=`${o.title||"tsumami"}.json`,q.click(),URL.revokeObjectURL(A),T("JSON exported")}function W(Y){const A=new FileReader;A.onload=()=>{try{const q=JSON.parse(String(A.result??""));if(!q||typeof q!="object"||!Array.isArray(q.flowers))throw new Error("Invalid JSON");const I=ua(q);f(I),v({kind:"project"}),K(I),i("editor"),T("Imported")}catch{T("Import failed")}},A.readAsText(Y)}function S(Y){const A=ua(Y);f(A),v({kind:"project"}),K(A),i("editor")}function w(Y){return Y&&(Y.kind==="flower"||Y.kind==="layer"||Y.kind==="petal")?Y.flowerId:null}function N(){if(!o)return;const Y=w(d);if(!Y)return;const A=o.flowers.find(q=>q.id===Y);A&&(y.current=Gl(A),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:A},null,2)).catch(()=>{}),T("Flower copied"))}function M(){if(!o||d.kind!=="leaf")return;const Y=(o.leaves??[]).find(A=>A.id===d.leafId);Y&&(B.current=Gl(Y),T("Leaf copied"))}function j(){if(!o)return;const Y=y.current;if(!Y){T("Nothing to paste");return}const A=kh(Y,{x:12+Math.random()*10,y:12+Math.random()*10});V(q=>{q.flowers.push(A)},!0),v({kind:"flower",flowerId:A.id}),T("Flower pasted")}function E(){if(!o)return;const Y=B.current;if(!Y)return;const A=Ht("leaf"),q={...Gl(Y),id:A,name:Y.name+" (copy)",position:{x:Y.position.x+30,y:Y.position.y+30}};V(I=>{I.leaves||(I.leaves=[]),I.leaves.push(q)},!0),v({kind:"leaf",leafId:q.id}),T("Leaf pasted")}function O(Y){if(!o)return;const A=w(d);A&&(V(q=>{const I=q.flowers.findIndex(fe=>fe.id===A);if(I<0)return;const X=q.flowers,ae=X[I];if(!ae)return;if(X.splice(I,1),Y==="front"){X.push(ae);return}if(Y==="back"){X.unshift(ae);return}if(Y==="forward"){if(I>=X.length){X.push(ae);return}X.splice(I+1,0,ae);return}const se=Se(I-1,0,X.length);X.splice(se,0,ae)},!0),T(Y==="front"?"Brought to front":Y==="back"?"Sent to back":Y==="forward"?"Moved forward":"Moved backward"))}F.useEffect(()=>{function Y(q){const I=q;if(!I)return!1;const X=String(I.tagName||"").toLowerCase();return X==="input"||X==="textarea"||X==="select"||!!I.isContentEditable}function A(q){if(!(Y(q.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?q.metaKey:q.ctrlKey))){if(u==="editor"){if(q.key.toLowerCase()==="c"){q.preventDefault(),d.kind==="leaf"?M():N();return}if(q.key.toLowerCase()==="v"){q.preventDefault(),B.current&&(d.kind==="leaf"||d.kind==="leaves"||d.kind==="leafGroup"||!y.current)?E():j();return}}q.key.toLowerCase()==="z"&&(q.preventDefault(),q.shiftKey?Z():R()),q.key.toLowerCase()==="s"&&(q.preventDefault(),P())}}return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[o,m,g,d,u]);const H=F.useMemo(()=>o?Kh(o):null,[o]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx(Wh,{view:u,onNavigate:i,project:o,onSave:P,onLoad:()=>i("home"),onImportJson:()=>G.current?.click(),onExportJson:ne,onExportSvg:()=>{const Y=document.querySelector('[data-testid="canvas-svg"]');Y&&o&&Xh(Y,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const Y=document.querySelector('[data-testid="canvas-svg"]');Y&&o&&Jh(Y,`${o.title||"tsumami"}.png`)}}),x.jsx("input",{ref:G,type:"file",accept:"application/json",className:"hidden",onChange:Y=>{const A=Y.target.files?.[0];A&&W(A),Y.currentTarget.value=""}}),k&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:k}),x.jsxs("main",{className:"flex-1",children:[u==="home"&&x.jsx(Qh,{saved:a,onNew:()=>i("new"),onOpen:Y=>{const A=ua(Gl(Y));f(A),v({kind:"project"}),K(A),i("editor")},onDelete:Y=>{Ih(Y),r(Fi()),T("Deleted")}}),u==="new"&&x.jsx(Ph,{onBack:()=>i("home"),onCreate:Y=>{const A=qh({title:Y});S(A)}}),u==="editor"&&o&&x.jsx(ub,{project:o,selection:d,setSelection:v,applyUpdate:V,onGoRecipe:()=>i("recipe"),onImport:W,dragRef:C,onCopyFlower:N,onPasteFlower:j,onArrangeFlower:O,canPasteFlower:!!y.current,onUndo:R,onRedo:Z,canUndo:g>0,canRedo:g<m.length-1}),u==="recipe"&&o&&H&&x.jsx(xb,{project:o,recipe:H,onBack:()=>i("editor"),onExportJson:ne}),u==="terms"&&x.jsx(sb,{onBack:()=>i("home")}),u==="privacy"&&x.jsx(ob,{onBack:()=>i("home")}),(u==="editor"||u==="recipe")&&!o&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&x.jsx(fb,{onNavigate:i})]})}class hb extends F.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}yh.createRoot(document.getElementById("root")).render(x.jsx(F.StrictMode,{children:x.jsx(hb,{children:x.jsx(db,{})})}));
